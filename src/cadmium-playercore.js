a000.G8e=function(){return typeof a000.t8e.o8e === 'function'?a000.t8e.o8e.apply(a000.t8e,arguments):a000.t8e.o8e;};a000.w8e=function(){return typeof a000.t8e.U8e === 'function'?a000.t8e.U8e.apply(a000.t8e,arguments):a000.t8e.U8e;};a000.Y8e=function(){return typeof a000.t8e.U8e === 'function'?a000.t8e.U8e.apply(a000.t8e,arguments):a000.t8e.U8e;};a000.t8e=(function(D8e){return {o8e:function(){var q8e,Q8e=arguments;switch(D8e){case 17:q8e=Q8e[1] >= Q8e[0];break;case 4:q8e=Q8e[2] + Q8e[1] + Q8e[0];break;case 11:q8e=Q8e[1] - Q8e[0] + -Q8e[2];break;case 12:q8e=-(Q8e[3] * (Q8e[2] - Q8e[0] + -Q8e[1]));break;case 7:q8e=Q8e[2] + Q8e[1] / Q8e[3] * Q8e[0];break;case 3:q8e=Q8e[1] - Q8e[0];break;case 1:q8e=Q8e[0] + Q8e[1];break;case 8:q8e=Q8e[3] * Q8e[1] / Q8e[2] | Q8e[0];break;case 18:q8e=Q8e[1] < Q8e[0];break;case 5:q8e=Q8e[2] + Q8e[1] + Q8e[4] + Q8e[3] + Q8e[0];break;case 14:q8e=(Q8e[2] - Q8e[0]) * Q8e[1];break;case 15:q8e=Q8e[0] * Q8e[2] + Q8e[1];break;case 10:q8e=(Q8e[3] / Q8e[0] | Q8e[1]) * Q8e[2];break;case 2:q8e=void Q8e[0] !== Q8e[1];break;case 9:q8e=Q8e[0] / Q8e[1] | Q8e[2];break;case 16:q8e=Q8e[0] <= Q8e[1];break;case 6:q8e=Q8e[1] / Q8e[0];break;case 13:q8e=Q8e[0] * (Q8e[2] - Q8e[3]) / Q8e[1];break;case 0:q8e=Q8e[2] + Q8e[1] - Q8e[0];break;}return q8e;},U8e:function(m8e){D8e=m8e;}};})();a000.s8e=function(){return typeof a000.t8e.o8e === 'function'?a000.t8e.o8e.apply(a000.t8e,arguments):a000.t8e.o8e;};function a000(){}(function(){(function(O,ha){var ub,Fb,Sa,vc,oa,ta,bb,Cd,Dd,La,Ga,Pb,Ed,wc,Fd,Gd,Vc,n,ma,ic,Hd,Wc,F,N,ja,xb,jb,Ya,ea,cb,Ra,Rb,Da,Ca,Ia,eb,xc,yb,qb,rb,yc,Xc,Id,Ib,Jb,Sb,Yc,Zb,zb,zc,Ob,Zc,Jd,$b,$c,ad,bd,cd,Ab,dd,ed,fd,bc,Bb,Cb,cc,Ac,Bc,Cc,ib,Le,Qa,Qb,Kd,Dc,nb,Ld,Me,sb,Md,Nd,Ec,Od,Ne,hc,Pd,Ke,Oe,gd,Fc,Pe,Qe,zd,Re,Ad,Qd,kb,jc,Rd,kc,Sd,ob,Td,hd,Ud,jd,Gc,Vd,Te,Bd,Hc,Uc,Wd,Se,Xd,kd,Yd,Zd,$d,ld,Nb,be,ae,Ue,lc,ce,nd,mc,de,md,ee,fe,od,he,ie,Kc,Vb,dc,Wb,je,ke,le,me,ne,oe,Lc,Ve,pe,qe,qd,re,hb,Tb,ac,Ub,Lb,Db,Ic,db,Hb,ge,nc,Xb,se,We,oc,te,Xe,ec,ue,Mc,rd,pc,sd,ve,qc,we,xe,ye,Ye,rc,ze,Ze,$e,Ae,pd,Jc,Be,Je,Ce,af,cf,bf,fc,uc,df,yd,ef,De;function Va(g,n){if(!n || "utf-8" === n)return Oc(g);throw Error("unsupported encoding");}function Ua(g,n){if(!n || "utf-8" === n)return Pc(g);throw Error("unsupported encoding");}function Oc(g){for(var n=0,p,Oa=g.length,F="";n < Oa;){p=g[n++];if(p & 128)if(192 === (p & 224))p=((p & 31) << 6) + (g[n++] & 63);else if(224 === (p & 240))p=((p & 15) << 12) + ((g[n++] & 63) << 6) + (g[n++] & 63);else throw Error("unsupported character");F+=String.fromCharCode(p);}return F;}function Pc(g){var n,p,Oa,F,r;n=g.length;p=0;F=0;for(Oa=n;Oa--;){r=g.charCodeAt(Oa);128 > r?p++:p=2048 > r?p + 2:p + 3;}p=new Uint8Array(p);for(Oa=0;Oa < n;Oa++){r=g.charCodeAt(Oa);128 > r?p[F++]=r:(2048 > r?p[F++]=192 | r >>> 6:(p[F++]=224 | r >>> 12,p[F++]=128 | r >>> 6 & 63),p[F++]=128 | r & 63);}return p;}function ab(g,p){if(g === p)return !0;if(!g || !p || g.length != p.length)return !1;for(var n=0;n < g.length;++n){if(g[n] != p[n])return !1;}return !0;}function gb(g){var r;if(!(g && g.constructor == Uint8Array || Array.isArray(g)))throw new TypeError("Cannot compute the hash code of " + g);for(var p=1,n=0;n < g.length;++n){r=g[n];if("number" !== typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + r);p=31 * p + r & 4294967295;}return p;}function td(g,p){var za;if(g === p)return !0;if(!g || !p)return !1;p instanceof Array || (p=[p]);for(var n=0;n < p.length;++n){for(var r=p[n],F=!1,Eb=0;Eb < g.length;++Eb){za=g[Eb];if(r.equals && "function" === typeof r.equals && r.equals(za) || r == za){F=!0;break;}}if(!F)return !1;}return !0;}function ud(g,p){return td(g,p) && (g.length == p.length || td(p,g));}function p(g,p,n){var r,F;n && (r=n);if("object" !== typeof g || "function" !== typeof g.result || "function" !== typeof g.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{F=p.call(r,g);F !== ha && g.result(F);}catch(Qc){try{g.error(Qc);}catch(za){}}}function r(g,n,r){if("object" !== typeof g || "function" !== typeof g.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");p(g,n,r);}function g(g,p,n){1E5 > g && (g=1E5 + g);Object.defineProperties(this,{internalCode:{value:g,writable:!1,configurable:!1},responseCode:{value:p,writable:!1,configurable:!1},message:{value:n,writable:!1,configurable:!1}});}function Rc(g){switch(g){case Qa.PSK:case Qa.MGK:return !0;default:return !1;}}function vd(g){switch(g){case Qa.PSK:case Qa.MGK:case Qa.X509:case Qa.RSA:case Qa.NPTICKET:case Qa.ECC:return !0;default:return !1;}}function Ge(g){return g.toJSON();}function wd(p,n){uc?n.result(uc):Promise.resolve().then(function(){return Ia.getKeyByName(p);})["catch"](function(){return Ia.generateKey({name:p},!1,["wrapKey","unwrapKey"]);}).then(function(g){uc=g;n.result(uc);})["catch"](function(p){n.error(new F(g.INTERNAL_EXCEPTION,"Unable to get system key"));});}function xd(g,p){var n,r,F;n=p.masterToken;r=p.userIdToken;F=p.serviceTokens;return {NccpMethod:g.method,UserId:g.userId,UT:r && r.serialNumber,MT:n && n.serialNumber + ":" + n.sequenceNumber,STCount:F && F.length};}function He(g){return g.uniqueKey();}function Ie(r,Eb,Yb,Oa,vb){var Ka;function O(g,K){g.errorCode === n.ENTITY_REAUTH || g.errorCode === n.ENTITYDATA_REAUTH?(Oa.clearCryptoContexts(),Ta()):g.errorCode !== n.USER_REAUTH && g.errorCode !== n.USERDATA_REAUTH || za(K);}function za(g){if(g=Oa.getUserIdToken(g))(Oa.removeUserIdToken(g),Ta());}function aa(g,K,G){var v;v=[];(function C(){g.read(-1,K,{result:function(g){p(G,function(){var w,H,J,G,K;if(g)(v.push(g),C());else switch(v.length){case 0:return new Uint8Array(0);case 1:return v[0];default:(G=v.length,K=0);for(H=w=0;H < G;H++){w+=v[H].length;}w=new Uint8Array(w);for(H=0;H < G;H++){J=v[H];w.set(J,K);K+=J.length;}return w;}});},timeout:function(){G.timeout();},error:function(g){G.error(g);}});})();}function Ta(){Oa.getStoreState({result:function(g){for(var K=Ka.slice(),G=0;G < K.length;G++){K[G]({storeState:g});}},timeout:function(){r.error("Timeout getting store state","" + e);},error:function(g){r.error("Error getting store state","" + g);}});}Ka=[];this.addEventHandler=function(g,K){switch(g){case "shouldpersist":Ka.push(K);}};this.send=function(p){return new Promise(function(K,G){var v,A,C;v=p.timeout;A=new yd(r,Yb,p,Oa.getKeyRequestData());C=new zd(p.url);r.trace("Sending MSL request");Eb.request(Yb,A,C,v,{result:function(A){var w;r.trace("Received MSL response",{Method:p.method});if(A){p.allowTokenRefresh && Ta();w=A.getErrorHeader();w?(O(w,p.profileGuid || p.userId),G({success:!1,error:w})):aa(A,v,{result:function(g){K({success:!0,body:Va(g)});},timeout:function(){G({success:!1,subCode:vb.MSL_READ_TIMEOUT});},error:function(g){G({success:!1,error:g});}});}else G({success:!1,error:new F(g.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){G({success:!1,subCode:vb.MSL_REQUEST_TIMEOUT});},error:function(g){G({success:!1,error:g});}});});};this.hasUserIdToken=function(g){return ! !Oa.getUserIdToken(g);};this.getUserIdTokenKeys=function(){return Oa.getUserIdTokenKeys();};this.removeUserIdToken=za;this.clearUserIdTokens=function(){Oa.clearUserIdTokens();Ta();};this.isErrorReauth=function(g){return g && g.errorCode == n.USERDATA_REAUTH;};this.isErrorHeader=function(g){return g instanceof Nb;};this.getErrorCode=function(g){return g && g.errorCode;};this.getStateForMdx=function(g){var K,G;K=Oa.getMasterToken();g=Oa.getUserIdToken(g);G=Oa.getCryptoContext(K);return {masterToken:K,userIdToken:g,cryptoContext:G};};this.buildPlayDataRequest=function(g,K){var G;G=new Ad();Eb.request(Yb,new yd(r,Yb,g),G,g.timeout,{result:function(){K.result(G.getRequest());},error:function(){K.result(G.getRequest());},timeout:function(){K.timeout();}});};this.rekeyUserIdToken=function(g,K){Oa.rekeyUserIdToken(g,K);Ta();};this.getServiceTokens=function(g){var K;K=Oa.getMasterToken();(g=Oa.getUserIdToken(g)) && !g.isBoundTo(K) && (g=ha);return Oa.getServiceTokens(K,g);};this.removeServiceToken=function(g){var K;K=Oa.getMasterToken();Oa.getServiceTokens(K).find(function(G){return G.name === g;}) && (Oa.removeServiceTokens(g,K),Ta());};}function Sc(p,n,r,Oa,vb,O){function za(n){var aa;return Promise.resolve().then(function(){aa=p.authenticationKeyNames[n];if(!aa)throw new F(g.KEY_IMPORT_ERROR,"Invalid config keyName " + n);return Ia.getKeyByName(aa);}).then(function(p){return new Promise(function(n,K){Zb(p,{result:n,error:function(){K(new F(g.KEY_IMPORT_ERROR,"Unable to create " + aa + " CipherKey"));}});});})["catch"](function(p){throw new F(g.KEY_IMPORT_ERROR,"Unable to import " + aa,p);});}return Promise.resolve().then(function(){if(!Ia.getKeyByName)throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([za("e"),za("h"),za("w")]);}).then(function(g){var aa,Ka,Ea;aa={};aa[n]=new r(p.esn,g[0],g[1],g[2]);g=new Oa(p.esn);Ka=new Je();Ka=[new vb(Ka)];Ea=new O(n);return {entityAuthFactories:aa,entityAuthData:g,keyExchangeFactories:Ka,keyRequestData:Ea};});}function Tc(p,n,r){var O;function Oa(){return Promise.resolve().then(function(){return Ia.generateKey(n,!1,["wrapKey","unwrapKey"]);}).then(function(g){return vb(g.publicKey,g.privateKey);});}function vb(p,n){return Promise.all([new Promise(function(n,aa){Ob(p,{result:n,error:function(p){aa(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx public key",p));}});}),new Promise(function(p,aa){$b(n,{result:p,error:function(p){aa(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx private key",p));}});})]).then(function(g){g=new Uc("rsaKeypairId",r,g[0],g[1]);O && (g.storeData={keyxPublicKey:p,keyxPrivateKey:n});return g;});}O=!p.systemKeyWrapFormat;return Promise.resolve().then(function(){var g,n;g=p.storeState;n=g && g.keyxPublicKey;g=g && g.keyxPrivateKey;return O && n && g?vb(n,g):Oa();}).then(function(g){var n,Ta,Ka;n={};n[Qa.NONE]=new Ke();Ta=new hc(p.esn);Ka=[new Bd()];return {entityAuthFactories:n,entityAuthData:Ta,keyExchangeFactories:Ka,keyRequestData:g,createKeyRequestData:O?Oa:ha};});}Fb=O.nfCrypto || O.msCrypto || O.webkitCrypto || O.crypto;Sa=Fb && (Fb.webkitSubtle || Fb.subtle);vc=O.nfCryptokeys || O.msCryptokeys || O.webkitCryptokeys || O.cryptokeys;(function(g){var p,n;p=(function(){function g(g,n){g instanceof p?(this.abv=g.abv,this.position=g.position):(this.abv=g,this.position=n || 0);}g.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(g){this.abv[this.position++]=g;},peekByte:function(g){return this.abv[g];},copyBytes:function(g,n,p){var aa;aa=new Uint8Array(this.abv.buffer,this.position,p);g=new Uint8Array(g.buffer,n,p);aa.set(g);this.position+=p;},seek:function(g){this.position=g;},skip:function(g){this.position+=g;},getPosition:function(){return this.position;},setPosition:function(g){this.position=g;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return g;})();n={};(function(){var J,w,H,na,ca,Ja,ra,P,sa;function g(w,v){var V;v.writeByte(w.tagClass << 6 | w.constructed << 5 | w.tag);V=w.payloadLen;if(128 > V)v.writeByte(V);else {for(var H=V,A=0;H;){++A;H>>=8;}v.writeByte(128 | A);for(H=0;H < A;++H){v.writeByte(V >> 8 * (A - H - 1) & 255);}}if(w.child)for((w.tag == J.BIT_STRING && v.writeByte(0),V=w._child);V;){if(!g(V,v))return !1;V=V.next;}else switch(w.tag){case J.INTEGER:w.backingStore[w.dataIdx] >> 7 && v.writeByte(0);v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case J.BIT_STRING:v.writeByte(0);v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case J.OCTET_STRING:v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case J.OBJECT_IDENTIFIER:v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);}return !0;}function r(g){var w,V;w=g.readByte();V=w & 127;if(V == w)return V;if(3 < V || 0 === V)return -1;for(var v=w=0;v < V;++v){w=w << 8 | g.readByte();}return w;}function F(g,v,H){var V,A,G,C,X,fa,K;V=g.backingStore;A=new p(V,v);v+=H;H=g;if(8 < ca++)return ha;for(;A.getPosition() < v;){A.getPosition();X=A.readByte();if(31 == (X & 31)){for(C=0;X & 128;){C<<=8;C|=X & 127;}X=C;}G=X;C=G & 31;if(0 > C || 30 < C)return ha;X=r(A);if(0 > X || X > A.getRemaining())return ha;H.constructed=G & 32;H.tagClass=(G & 192) >> 6;H.tag=C;H.dataLen=X;H.dataIdx=A.getPosition();C=A;fa=G;G=X;if(fa & 32)C=!0;else if(fa < J.BIT_STRING || fa > J.OCTET_STRING)C=!1;else {K=new p(C);fa == J.BIT_STRING && K.skip(1);K.readByte() >> 6 & 1?C=!1:(fa=r(K),C=K.getPosition() - C.getPosition() + fa == G);}C && (C=A.getPosition(),G=X,H.tag == J.BIT_STRING && (H.dataIdx++,H.dataLen--,C++,G--),H.child=new w(V,H),F(H.child,C,G));H.tag == J.INTEGER && (C=A.getPosition(),0 == A.peekByte(C) && A.peekByte(C + 1) >> 7 && (H.dataIdx++,H.dataLen--));A.skip(X);A.getPosition() < v && (H.next=new w(V,H.parent),H=H.next);}ca--;return g;}function za(g,w,v){if(9 != v)return !1;for(v=0;9 > v;++v){if(g[w++] != Ja[v])return !1;}return !0;}function aa(g){var w;if(!(g && g.child && g.child.next && g.child.child && g.child.next.child))return !1;w=g.child.child;return za(w.backingStore,w.dataIdx,w.dataLen) && 2 == g.nChildren && 2 == g.child.nChildren && 2 == g.child.next.child.nChildren?!0:!1;}function Ta(g){var w;if(!(g && g.child && g.child.next && g.child.next.child && g.child.next.next && g.child.next.next.child))return !1;w=g.child.next.child;return za(w.backingStore,w.dataIdx,w.dataLen) && 3 == g.nChildren && 2 == g.child.next.nChildren && 9 == g.child.next.next.child.nChildren?!0:!1;}function Ka(g){var w,v;w=H.createSequenceNode();v=new na(w);v.addChild(H.createSequenceNode());v.addChild(H.createOidNode(Ja));v.addSibling(H.createNullNode());v.addToParent(w,H.createBitStringNode(null));v.addChild(H.createSequenceNode());v.addChild(H.createIntegerNode(g.n));v.addSibling(H.createIntegerNode(g.e));return w;}function Ea(g){var w;g=g.child.next.child.child;w=g.data;g=g.next;return new ra(w,g.data,null,null);}function K(g){var w,v;w=H.createSequenceNode();v=new na(w);v.addChild(H.createIntegerNode(new Uint8Array([0])));v.addSibling(H.createSequenceNode());v.addChild(H.createOidNode(Ja));v.addSibling(H.createNullNode());v.addToParent(w,H.createOctetStringNode(null));v.addChild(H.createSequenceNode());v.addChild(H.createIntegerNode(new Uint8Array([0])));v.addSibling(H.createIntegerNode(g.n));v.addSibling(H.createIntegerNode(g.e));v.addSibling(H.createIntegerNode(g.d));v.addSibling(H.createIntegerNode(g.p));v.addSibling(H.createIntegerNode(g.q));v.addSibling(H.createIntegerNode(g.dp));v.addSibling(H.createIntegerNode(g.dq));v.addSibling(H.createIntegerNode(g.qi));return w;}function G(g){var w;w=[];g=g.child.next.next.child.child.next;for(var v=0;8 > v;v++){w.push(g.data);g=g.next;}return new P(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7]);}function v(g,w,v,H){if(!(g instanceof ra || g instanceof P))return ha;if(v)for(var A=0;A < v.length;++A){if(-1 == sa.indexOf(v[A]))return ha;}w={kty:"RSA",alg:w,key_ops:v || [],ext:H == ha?!1:H,n:oa(g.n,!0),e:oa(g.e,!0)};g instanceof P && (w.d=oa(g.d,!0),w.p=oa(g.p,!0),w.q=oa(g.q,!0),w.dp=oa(g.dp,!0),w.dq=oa(g.dq,!0),w.qi=oa(g.qi,!0));return w;}function A(g){var w,v,H,A,V,G,C,J,ca,K;if(!g.kty || "RSA" != g.kty || !g.n || !g.e)return ha;w=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(g.alg && -1 == w.indexOf(g.alg))return ha;w=[];g.use?"enc" == g.use?w=["encrypt","decrypt","wrap","unwrap"]:"sig" == g.use && (w=["sign","verify"]):w=g.key_ops;v=g.ext;H=ta(g.n,!0);A=ta(g.e,!0);if(g.d){V=ta(g.d,!0);G=ta(g.p,!0);C=ta(g.q,!0);J=ta(g.dp,!0);ca=ta(g.dq,!0);K=ta(g.qi,!0);return new P(H,A,V,G,C,J,ca,K,g.alg,w,v);}return new ra(H,A,v,w);}function C(g,w,v,H){this.der=g;this.type=w;this.keyOps=v;this.extractable=H;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};w=function(g,w,v,H,A,G){this._data=g;this._parent=w || ha;this._constructed=v || !1;this._tagClass=0;this._tag=H || 0;this._dataIdx=A || 0;this._dataLen=G || 0;};w.prototype={_child:ha,_next:ha,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(g) {this._constructed=0 != g?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(g) {this._tagClass=g;},get tag() {return this._tag;},set tag(g) {this._tag=g;},get dataIdx() {return this._dataIdx;},set dataIdx(g) {this._dataIdx=g;},get dataLen() {return this._dataLen;},set dataLen(g) {this._dataLen=g;},get child() {return this._child;},set child(g) {this._child=g;this._child.parent=this;},get next() {return this._next;},set next(g) {this._next=g;},get parent() {return this._parent;},set parent(g) {this._parent=g;},get payloadLen() {var g;g=0;if(this._child){for(var w=this._child;w;){g+=w.length;w=w.next;}this._tag == J.BIT_STRING && g++;}else switch(this._tag){case J.INTEGER:g=this._dataLen;this._data[this._dataIdx] >> 7 && g++;break;case J.BIT_STRING:g=this._dataLen + 1;break;case J.OCTET_STRING:g=this._dataLen;break;case J.NULL:g=0;break;case J.OBJECT_IDENTIFIER:za(this._data,this._dataIdx,this._dataLen) && (g=9);}return g;},get length() {var g,w;g=this.payloadLen;if(127 < g)for(w=g;w;){w>>=8;++g;}return g + 2;},get der() {var w,v;w=this.length;if(!w)return ha;w=new Uint8Array(w);v=new p(w);return g(this,v)?w:ha;},get nChildren() {for(var g=0,w=this._child;w;){g++;w=w.next;}return g;}};H={createSequenceNode:function(){return new w(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(g){return new w(g,null,!1,J.OBJECT_IDENTIFIER,0,g?g.length:0);},createNullNode:function(){return new w(null,null,!1,J.NULL,null,null);},createBitStringNode:function(g){return new w(g,null,!1,J.BIT_STRING,0,g?g.length:0);},createIntegerNode:function(g){return new w(g,null,!1,J.INTEGER,0,g?g.length:0);},createOctetStringNode:function(g){return new w(g,null,!1,J.OCTET_STRING,0,g?g.length:0);}};na=function(g){this._currentNode=this._rootNode=g;};na.prototype={addChild:function(g){this.addTo(this._currentNode,g);},addSibling:function(g){this.addTo(this._currentNode.parent,g);},addTo:function(g,w){this._currentNode=w;this._currentNode.parent=g;if(g.child){for(var v=g.child;v.next;){v=v.next;}v.next=w;}else g.child=w;},addToParent:function(g,w){this.findNode(g) && this.addTo(g,w);},findNode:function(g){for(var w=this._currentNode;w;){if(g == w)return !0;w=w.parent;}return !1;}};ca=0;Ja=new Uint8Array([42,134,72,134,247,13,1,1,1]);ra=function(g,w,v,H){this.n=g;this.e=w;this.ext=v;this.keyOps=H;};P=function(g,w,v,H,A,G,C,J,ca,K,P){this.n=g;this.e=w;this.d=v;this.p=H;this.q=A;this.dp=G;this.dq=C;this.qi=J;this.alg=ca;this.keyOps=K;this.ext=P;};sa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");C.prototype.getDer=function(){return this.der;};C.prototype.getType=function(){return this.type;};C.prototype.getKeyOps=function(){return this.keyOps;};C.prototype.getExtractable=function(){return this.extractable;};n.parse=function(g){ca=0;return F(new w(g),0,g.length);};n.show=function(g,w){};n.isRsaSpki=aa;n.isRsaPkcs8=Ta;n.NodeFactory=H;n.Builder=na;n.tagVal=J;n.RsaPublicKey=ra;n.RsaPrivateKey=P;n.buildRsaSpki=Ka;n.parseRsaSpki=function(g){g=n.parse(g);return aa?Ea(g):ha;};n.buildRsaPkcs8=K;n.parseRsaPkcs8=function(g){g=n.parse(g);return Ta(g)?G(g):ha;};n.buildRsaJwk=v;n.parseRsaJwk=A;n.RsaDer=C;n.rsaDerToJwk=function(g,w,H,A){g=n.parse(g);if(!g)return ha;if(aa(g))g=Ea(g);else if(Ta(g))g=G(g);else return ha;return v(g,w,H,A);};n.jwkToRsaDer=function(g){var w,v;g=A(g);if(!g)return ha;if(g instanceof ra)(w="spki",v=Ka(g).der);else if(g instanceof P)(w="pkcs8",v=K(g).der);else return ha;return new C(v,w,g.keyOps,g.ext);};n.webCryptoAlgorithmToJwkAlg=function(g){return "RSAES-PKCS1-v1_5" == g.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == g.name?"SHA-256" == g.hash.name?"RS256":"SHA-384" == g.hash.name?"RS384":"SHA-512" == g.hash.name?"RS512":ha:ha;};n.webCryptoUsageToJwkKeyOps=function(g){return g.map(function(g){return "wrapKey" == g?"wrap":"unwrapKey" == g?"unwrap":g;});};})();g.ASN1=n;})(O);(function(){for(var g={},n={},p={"=":0,".":0},r={"=":0,".":0},F=/\s+/g,O=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,za=64;za--;){g[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=262144 * za;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=4096 * za;p[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=64 * za;r[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=za;}for(za=64;za-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za];){g[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=262144 * za;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=4096 * za;p[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=64 * za;r[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=za;}oa=function(g,n){for(var p="",aa=0,K=g.length,G=K - 2,v,A=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=n?"":"=";aa < G;){v=65536 * g[aa++] + 256 * g[aa++] + g[aa++];p+=A[v >>> 18] + A[v >>> 12 & 63] + A[v >>> 6 & 63] + A[v & 63];}aa == G?(v=65536 * g[aa++] + 256 * g[aa++],p+=A[v >>> 18] + A[v >>> 12 & 63] + A[v >>> 6 & 63] + C):aa == K - 1 && (v=65536 * g[aa++],p+=A[v >>> 18] + A[v >>> 12 & 63] + C + C);return p;};ta=function(aa,Ta){var Ka;aa=aa.replace(F,"");if(Ta){Ka=aa.length % 4;if(Ka)for(var Ka=4 - Ka,Ea=0;Ea < Ka;++Ea){aa+="=";}}Ka=aa.length;if(0 != Ka % 4 || !O.test(aa))throw Error("bad base64: " + aa);for(var K=Ka / 4 * 3 - ("=" == aa[Ka - 1]?1:0) - ("=" == aa[Ka - 2]?1:0),G=new Uint8Array(K),v=0,A=0;v < Ka;){Ea=g[aa[v++]] + n[aa[v++]] + p[aa[v++]] + r[aa[v++]];G[A++]=Ea >>> 16;A < K && (G[A++]=Ea >>> 8 & 255,A < K && (G[A++]=Ea & 255));}return G;};})();bb={};(function(){var O,za,aa,Ka;function g(n){if(!(this instanceof g))return new g(n);for(var K=0,G=za.length;K < G;K++){this[za[K]]="";}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=n || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=aa.BEGIN;this.stack=new O();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;p(this,"onready");}function p(g,K,G){if(g[K])g[K](G);}function n(g,K){var G,v;G=g.opt;v=g.textNode;G.trim && (v=v.trim());G.normalize && (v=v.replace(/\s+/g," "));g.textNode=v;g.textNode && p(g,K?K:"onvalue",g.textNode);g.textNode="";}function r(g,K){n(g);K+="\nLine: " + g.line + "\nColumn: " + g.column + "\nChar: " + g.c;K=Error(K);g.error=K;p(g,"onerror",K);return g;}function F(Ea){Ea.state !== aa.VALUE && r(Ea,"Unexpected end");n(Ea);Ea.c="";Ea.closed=!0;p(Ea,"onend");g.call(Ea,Ea.opt);return Ea;}O=Array;bb.parser=function(p){return new g(p);};bb.CParser=g;bb.MAX_BUFFER_LENGTH=65536;bb.DEBUG=!1;bb.INFO=!1;bb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");za=["textNode","numberNode"];bb.EVENTS.filter(function(g){return "error" !== g && "end" !== g;});aa=0;bb.STATE={BEGIN:aa++,VALUE:aa++,OPEN_OBJECT:aa++,CLOSE_OBJECT:aa++,OPEN_ARRAY:aa++,CLOSE_ARRAY:aa++,TEXT_ESCAPE:aa++,STRING:aa++,BACKSLASH:aa++,END:aa++,OPEN_KEY:aa++,CLOSE_KEY:aa++,TRUE:aa++,TRUE2:aa++,TRUE3:aa++,FALSE:aa++,FALSE2:aa++,FALSE3:aa++,FALSE4:aa++,NULL:aa++,NULL2:aa++,NULL3:aa++,NUMBER_DECIMAL_POINT:aa++,NUMBER_DIGIT:aa++};for(var Ta in bb.STATE){bb.STATE[bb.STATE[Ta]]=Ta;}aa=bb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(g){return g.__proto__;});Ka=/[\\"\n]/g;g.prototype={end:function(){F(this);},write:function(g){var v,A,C;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null === g)return F(this);for(var K=g[0],G;K;){G=K;this.c=K=g.charAt(this.index++);G !== K?this.p=G:G=this.p;if(!K)break;this.position++;"\n" === K?(this.line++,this.column=0):this.column++;switch(this.state){case aa.BEGIN:"{" === K?this.state=aa.OPEN_OBJECT:"[" === K?this.state=aa.OPEN_ARRAY:"\r" !== K && "\n" !== K && " " !== K && "\t" !== K && r(this,"Non-whitespace before {[.");continue;case aa.OPEN_KEY:case aa.OPEN_OBJECT:if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;if(this.state === aa.OPEN_KEY)this.stack.push(aa.CLOSE_KEY);else if("}" === K){p(this,"onopenobject");p(this,"oncloseobject");this.state=this.stack.pop() || aa.VALUE;continue;}else this.stack.push(aa.CLOSE_OBJECT);'"' === K?this.state=aa.STRING:r(this,'Malformed object key should start with "');continue;case aa.CLOSE_KEY:case aa.CLOSE_OBJECT:if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;":" === K?(this.state === aa.CLOSE_OBJECT?(this.stack.push(aa.CLOSE_OBJECT),n(this,"onopenobject")):n(this,"onkey"),this.state=aa.VALUE):"}" === K?(n(this),p(this,"oncloseobject",void 0),this.state=this.stack.pop() || aa.VALUE):"," === K?(this.state === aa.CLOSE_OBJECT && this.stack.push(aa.CLOSE_OBJECT),n(this),this.state=aa.OPEN_KEY):r(this,"Bad object");continue;case aa.OPEN_ARRAY:case aa.VALUE:if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;if(this.state === aa.OPEN_ARRAY)if((p(this,"onopenarray"),this.state=aa.VALUE,"]" === K)){p(this,"onclosearray");this.state=this.stack.pop() || aa.VALUE;continue;}else this.stack.push(aa.CLOSE_ARRAY);'"' === K?this.state=aa.STRING:"{" === K?this.state=aa.OPEN_OBJECT:"[" === K?this.state=aa.OPEN_ARRAY:"t" === K?this.state=aa.TRUE:"f" === K?this.state=aa.FALSE:"n" === K?this.state=aa.NULL:"-" === K?this.numberNode+=K:"0" === K?(this.numberNode+=K,this.state=aa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(K)?(this.numberNode+=K,this.state=aa.NUMBER_DIGIT):r(this,"Bad value");continue;case aa.CLOSE_ARRAY:if("," === K)(this.stack.push(aa.CLOSE_ARRAY),n(this,"onvalue"),this.state=aa.VALUE);else if("]" === K)(n(this),p(this,"onclosearray",void 0),this.state=this.stack.pop() || aa.VALUE);else if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;else r(this,"Bad array");continue;case aa.STRING:G=this.index - 1;(v=this.slashed,A=this.unicodeI);a:for(;;){if(bb.DEBUG)for(;0 < A;){if((this.unicodeS+=K,K=g.charAt(this.index++),4 === A?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),A=0,G=this.index - 1):A++,!K))break a;}if('"' === K && !v){this.state=this.stack.pop() || aa.VALUE;(this.textNode+=g.substring(G,this.index - 1)) || p(this,"onvalue","");break;}if("\\" === K && !v && (v=!0,this.textNode+=g.substring(G,this.index - 1),K=g.charAt(this.index++),!K))break;if(v)if((v=!1,"n" === K?this.textNode+="\n":"r" === K?this.textNode+="\r":"t" === K?this.textNode+="\t":"f" === K?this.textNode+="\f":"b" === K?this.textNode+="\b":"u" === K?(A=1,this.unicodeS=""):this.textNode+=K,K=g.charAt(this.index++),G=this.index - 1,K))continue;else break;Ka.lastIndex=this.index;C=Ka.exec(g);if(null === C){this.index=g.length + 1;this.textNode+=g.substring(G,this.index - 1);break;}this.index=C.index + 1;K=g.charAt(C.index);if(!K){this.textNode+=g.substring(G,this.index - 1);break;}}this.slashed=v;this.unicodeI=A;continue;case aa.TRUE:if("" === K)continue;"r" === K?this.state=aa.TRUE2:r(this,"Invalid true started with t" + K);continue;case aa.TRUE2:if("" === K)continue;"u" === K?this.state=aa.TRUE3:r(this,"Invalid true started with tr" + K);continue;case aa.TRUE3:if("" === K)continue;"e" === K?(p(this,"onvalue",!0),this.state=this.stack.pop() || aa.VALUE):r(this,"Invalid true started with tru" + K);continue;case aa.FALSE:if("" === K)continue;"a" === K?this.state=aa.FALSE2:r(this,"Invalid false started with f" + K);continue;case aa.FALSE2:if("" === K)continue;"l" === K?this.state=aa.FALSE3:r(this,"Invalid false started with fa" + K);continue;case aa.FALSE3:if("" === K)continue;"s" === K?this.state=aa.FALSE4:r(this,"Invalid false started with fal" + K);continue;case aa.FALSE4:if("" === K)continue;"e" === K?(p(this,"onvalue",!1),this.state=this.stack.pop() || aa.VALUE):r(this,"Invalid false started with fals" + K);continue;case aa.NULL:if("" === K)continue;"u" === K?this.state=aa.NULL2:r(this,"Invalid null started with n" + K);continue;case aa.NULL2:if("" === K)continue;"l" === K?this.state=aa.NULL3:r(this,"Invalid null started with nu" + K);continue;case aa.NULL3:if("" === K)continue;"l" === K?(p(this,"onvalue",null),this.state=this.stack.pop() || aa.VALUE):r(this,"Invalid null started with nul" + K);continue;case aa.NUMBER_DECIMAL_POINT:"." === K?(this.numberNode+=K,this.state=aa.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case aa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(K)?this.numberNode+=K:"." === K?(-1 !== this.numberNode.indexOf(".") && r(this,"Invalid number has two dots"),this.numberNode+=K):"e" === K || "E" === K?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || r(this,"Invalid number has two exponential"),this.numberNode+=K):"+" === K || "-" === K?("e" !== G && "E" !== G && r(this,"Invalid symbol in number"),this.numberNode+=K):(this.numberNode && p(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || aa.VALUE);continue;default:r(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){g=Math.max(bb.MAX_BUFFER_LENGTH,10);G=K=0;for(v=za.length;G < v;G++){A=this[za[G]].length;if(A > g)switch(za[G]){case "text":break;default:r(this,"Max buffer length exceeded: " + za[G]);}K=Math.max(K,A);}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH - K + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var r;function g(g,p){p || (p=g.length);return g.reduce(function(g,n,aa){return aa < p?g + String.fromCharCode(n):g;},"");}for(var p={},n=0;256 > n;++n){r=g([n]);p[r]=n;}for(var F=Object.keys(p).length,O=[],n=0;256 > n;++n){O[n]=[n];}Cd=function(n,aa){var w,H;function r(g,w){var H;for(;0 < w;){if(A >= v.length)return !1;if(w > C){H=g;H=H >>> w - C;v[A]|=H & 255;w-=C;C=8;++A;}else w <= C && (H=g,H<<=C - w,H&=255,H>>>=8 - C,v[A]|=H & 255,C-=w,w=0,0 == C && (C=8,++A));}return !0;}for(var Ka in p){aa[Ka]=p[Ka];}for(var Ea=F,K=[],G=8,v=new Uint8Array(n.length),A=0,C=8,J=0;J < n.length;++J){w=n[J];K.push(w);Ka=g(K);H=aa[Ka];if(!H){K=g(K,K.length - 1);if(!r(aa[K],G))return null;0 != Ea >> G && ++G;aa[Ka]=Ea++;K=[w];}}return 0 < K.length && (Ka=g(K),H=aa[Ka],!r(H,G))?null:v.subarray(0,8 > C?A + 1:A);};Dd=function(g){var J,w,C,r;for(var p=O.slice(),n=0,r=0,Ea=8,K=new Uint8Array(Math.ceil(1.5 * g.length)),G=0,v,A=[];n < g.length && !(8 * (g.length - n) - r < Ea);){for(var C=v=0;C < Ea;){J=Math.min(Ea - C,8 - r);w=g[n];w=w << r;w=w & 255;w=w >>> 8 - J;C=C + J;r=r + J;8 == r && (r=0,++n);v|=(w & 255) << Ea - C;}C=p[v];0 == A.length?++Ea:(C?A.push(C[0]):A.push(A[0]),p[p.length]=A,A=[],p.length == 1 << Ea && ++Ea,C || (C=p[v]));v=G + C.length;v >= K.length && (J=new Uint8Array(Math.ceil(1.5 * v)),J.set(K),K=J);K.set(C,G);G=v;A=A.concat(C);}return K.subarray(0,G);};})();(function(){var g,p,r;La="utf-8";Ga=9007199254740992;g=Pb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pb);Ed=function(p){for(var n=[g.GZIP,g.LZW],r=0;r < n.length && 0 < p.length;++r){for(var F=n[r],aa=0;aa < p.length;++aa){if(p[aa] == F)return F;}}return null;};p=wc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(wc);Fd=function(g){return p.AES_CBC_PKCS5Padding == g?p.AES_CBC_PKCS5Padding:p.RSA_ECB_PKCS1Padding == g?p.RSA_ECB_PKCS1Padding:p[g];};r=Gd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Gd);Vc=function(g){return r[g];};n={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(n);})();ma={isObjectLiteral:function(g){return null !== g && "object" === typeof g && g.constructor === Object;},extendDeep:function(){var g,p,n,r,F,O,za,aa;g=arguments[0];p=1;n=arguments.length;r=!1;"boolean" === typeof g && (r=g,g=arguments[1],p=2);for(;p < n;p++){if(null != (F=arguments[p]))for(O in F){r && (O in g) || (aa=F[O],g !== aa && aa !== ha && (za=g[O],g[O]=null !== za && null !== aa && "object" === typeof za && "object" === typeof aa?ma.extendDeep(r,{},za,aa):aa));}}return g;}};(function(){var za,aa;function g(g,p){return function(){var n,K;n=g.base;g.base=p;K=g.apply(this,arguments);g.base=n;return K;};}function p(p,n,r){var K,G,v,A;r=r || aa;A=! !r.extendAll;for(K in n){G=n.__lookupGetter__(K);v=n.__lookupSetter__(K);G || v?(G && p.__defineGetter__(K,G),v && p.__defineSetter__(K,v)):(G=n[K],v=p[K],"function" === typeof G && "function" === typeof v && G !== v?(G.base !== Function.prototype.base && (G=g(G,v)),G.base=v):(A || r[K]) && ma.isObjectLiteral(G) && ma.isObjectLiteral(v) && (G=ma.extendDeep({},v,G)),p[K]=G);}}function n(){var g,p;g=Array.prototype.slice;p=g.call(arguments,1);return this.extend({init:function K(){var G;G=g.call(arguments,0);K.base.apply(this,p.concat(G));}});}function r(g,n){var aa;aa=new this(za);p(aa,g,n);return O(aa);}function F(g,n){p(this.prototype,g,n);return this;}function O(g){var p;p=function(){var g;g=this.init;g && arguments[0] !== za && g.apply(this,arguments);};g && (p.prototype=g);p.prototype.constructor=p;p.extend=r;p.bind=n;p.mixin=F;return p;}za={};aa={actions:!0};Function.prototype.base=function(){};ma.Class={create:O,mixin:p,extend:function(g,p){var n;n=O();n.prototype=new g();return n.extend(p);}};ma.mixin=function(){ma.log && ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");p.apply(null,arguments);};})();(function(){var za,aa,Ta;function g(g,p){return function(){var n,G;n=g.base;g.base=p;G=g.apply(this,arguments);g.base=n;return G;};}function p(p,n,K){var G,v,A,C;K=K || aa;C=! !K.extendAll;for(G in n){v=n.__lookupGetter__(G);A=n.__lookupSetter__(G);v || A?(v && p.__defineGetter__(G,v),A && p.__defineSetter__(G,A)):(v=n[G],A=p[G],"function" === typeof v && "function" === typeof A && v !== A?(v.base !== Ta && (v=g(v,A)),v.base=A):(C || K[G]) && ma.isObjectLiteral(v) && ma.isObjectLiteral(A) && (v=ma.extendDeep({},A,v)),p[G]=v);}}function n(){var g,p;g=Array.prototype.slice;p=g.call(arguments,1);return this.extend({init:function G(){var v;v=g.call(arguments,0);G.base.apply(this,p.concat(v));}});}function r(g,n){var K;K=new this(za);p(K,g,n);return O(K);}function F(g,n){p(this.prototype,g,n);return this;}function O(g){var p;p=function(){var g;g=this.init;g && arguments[0] !== za && g.apply(this,arguments);};g && (p.prototype=g);p.prototype.constructor=p;p.extend=r;p.bind=n;p.mixin=F;return p;}za={};aa={actions:!0};Ta=function(){};Function.prototype.base=Ta;ma.Class={create:O,mixin:p,extend:function(g,p){var n;n=O();n.prototype=new g();return n.extend(p);}};ma.mixin=function(){ma.log && ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");p.apply(null,arguments);};})();(function(){function g(g){return g == Ga?1:g + 1;}function p(p){if(0 === Object.keys(p._waiters).length)return 0;for(var n=g(p._nextWaiter);!p._waiters[n];){n=g(n);}return n;}ic=ma.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var n;if(this._waiters[g]){n=this._waiters[g];delete this._waiters[g];g == this._nextWaiter && (this._nextWaiter=p(this));n.call(this,ha);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(n,F){var O,N;O=this;N=g(this._lastWaiter);this._lastWaiter=N;r(F,function(){var g,aa;if(0 < this._queue.length){g=this._queue.shift();setTimeout(function(){F.result(g);},0);}else {-1 != n && (aa=setTimeout(function(){delete O._waiters[N];N == O._nextWaiter && (O._nextWaiter=p(O));F.timeout();},n));this._waiters[N]=function(g){clearTimeout(aa);setTimeout(function(){F.result(g);},0);};this._nextWaiter || (this._nextWaiter=N);}},O);return N;},add:function(g){var n;if(this._nextWaiter){n=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=p(this);n.call(this,g);}else this._queue.push(g);}});})();(function(){var g;g=0 - Ga;Hd=ma.Class.create({nextBoolean:function(){var g;g=new Uint8Array(1);Fb.getRandomValues(g);return g[0] & 1?!0:!1;},nextInt:function(g){var p;if(null !== g && g !== ha){if("number" !== typeof g)throw new TypeError("n must be of type number");if(1 > g)throw new RangeError("n must be greater than zero");--g;p=new Uint8Array(4);Fb.getRandomValues(p);return Math.floor(((p[3] & 127) << 24 | p[2] << 16 | p[1] << 8 | p[0]) / 2147483648 * (g - 0 + 1) + 0);}g=new Uint8Array(4);Fb.getRandomValues(g);p=(g[3] & 127) << 24 | g[2] << 16 | g[1] << 8 | g[0];return g[3] & 128?-p:p;},nextLong:function(){var n,p;for(var p=g;p == g;){p=new Uint8Array(7);Fb.getRandomValues(p);n=16777216 * ((p[6] & 31) << 24 | p[5] << 16 | p[4] << 8 | p[3]) + (p[2] << 16 | p[1] << 8 | p[0]);p=p[6] & 128?-n - 1:n;}return p;},nextBytes:function(g){Fb.getRandomValues(g);}});})();(function(){function g(g){return g == Ga?1:g + 1;}function p(p){if(0 === Object.keys(p._waitingReaders).length)return 0;for(var n=g(p._nextReader);!p._waitingReaders[n];){n=g(n);}return n;}function n(p){if(0 === Object.keys(p._waitingWriters).length)return 0;for(var n=g(p._nextWriter);!p._waitingWriters[n];){n=g(n);}return n;}Wc=ma.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var r;if(this._waitingReaders[g]){r=this._waitingReaders[g];delete this._waitingReaders[g];g == this._nextReader && (this._nextReader=p(this));r.call(this,!0);}this._waitingWriters[g] && (r=this._waitingWriters[g],delete this._waitingWriters[g],g == this._nextWriter && (this._nextWriter=n(this)),r.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(n,F){var O,N;O=this;N=g(this._lastNumber);this._lastNumber=N;r(F,function(){var g;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[N]=!0,N);-1 != n && (g=setTimeout(function(){delete O._waitingReaders[N];N == O._nextReader && (O._nextReader=p(O));F.timeout();},n));this._waitingReaders[N]=function(p){clearTimeout(g);p?setTimeout(function(){F.result(ha);},0):(O._readers[N]=!0,setTimeout(function(){F.result(N);},0));};this._nextReader || (this._nextReader=N);},O);return N;},writeLock:function(p,F){var O,N;O=this;N=g(this._lastNumber);this._lastNumber=N;r(F,function(){var g;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=N;-1 != p && (g=setTimeout(function(){delete O._waitingWriters[N];N == O._nextWriter && (O._nextWriter=n(O));F.timeout();},p));this._waitingWriters[N]=function(p){clearTimeout(g);p?setTimeout(function(){F.result(ha);},0):(O._writer=N,setTimeout(function(){F.result(N);},0));};this._nextWriter || (this._nextWriter=N);},O);return N;},unlock:function(p){if(p == this._writer)this._writer=null;else {if(!this._readers[p])throw new ea("There is no reader or writer with ticket number " + p + ".");delete this._readers[p];}if(this._nextWriter)0 < Object.keys(this._readers).length || (p=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=n(this),p.call(this,!1));else {for(var r=this._nextReader;0 < Object.keys(this._waitingReaders).length;r=g(r)){this._waitingReaders[r] && (p=this._waitingReaders[r],delete this._waitingReaders[r],p.call(this,!1));}this._nextReader=0;}}});})();ma.Class.mixin(g,{JSON_PARSE_ERROR:new g(0,n.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new g(1,n.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new g(2,n.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new g(3,n.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new g(4,n.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new g(5,n.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new g(6,n.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new g(7,n.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new g(8,n.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new g(9,n.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new g(10,n.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new g(11,n.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new g(12,n.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new g(13,n.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new g(14,n.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new g(15,n.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new g(16,n.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new g(17,n.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new g(18,n.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new g(19,n.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new g(20,n.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new g(21,n.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new g(22,n.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new g(23,n.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new g(24,n.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new g(25,n.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new g(26,n.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new g(27,n.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new g(28,n.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new g(29,n.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new g(30,n.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new g(31,n.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new g(32,n.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new g(33,n.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new g(34,n.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new g(35,n.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new g(36,n.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new g(37,n.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new g(38,n.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new g(39,n.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new g(40,n.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new g(41,n.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new g(42,n.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new g(43,n.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new g(44,n.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new g(45,n.FAIL,"Error exporting key."),DIGEST_ERROR:new g(46,n.FAIL,"Error in digest."),UNSUPPORTED_KEY:new g(47,n.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new g(48,n.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new g(49,n.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new g(50,n.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new g(51,n.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new g(52,n.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new g(53,n.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new g(54,n.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new g(55,n.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new g(56,n.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new g(57,n.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new g(58,n.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new g(59,n.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new g(60,n.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new g(61,n.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new g(62,n.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new g(1E3,n.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new g(1001,n.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new g(1002,n.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new g(1003,n.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(1004,n.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(1005,n.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new g(1006,n.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new g(1007,n.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new g(1008,n.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new g(1009,n.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new g(1010,n.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new g(1011,n.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new g(1012,n.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new g(1013,n.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new g(1014,n.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new g(2E3,n.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new g(2001,n.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new g(2002,n.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new g(2003,n.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new g(2004,n.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new g(2005,n.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2006,n.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2007,n.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new g(2008,n.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new g(2009,n.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new g(2010,n.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new g(2011,n.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new g(2012,n.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new g(2013,n.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new g(2014,n.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new g(2015,n.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new g(2016,n.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new g(2017,n.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new g(2018,n.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new g(2019,n.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new g(2020,n.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new g(3E3,n.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new g(3001,n.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new g(3002,n.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new g(3003,n.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new g(3004,n.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3005,n.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3006,n.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new g(3007,n.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new g(3008,n.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new g(3009,n.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new g(4E3,n.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new g(4001,n.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new g(4002,n.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new g(4003,n.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new g(4004,n.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new g(4005,n.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new g(4006,n.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new g(4007,n.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new g(4008,n.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new g(4009,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new g(4010,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new g(4011,n.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new g(4012,n.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new g(4013,n.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new g(4014,n.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new g(4015,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new g(4016,n.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new g(4017,n.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new g(4018,n.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new g(4019,n.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new g(4020,n.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new g(4021,n.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new g(4022,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new g(4023,n.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new g(4024,n.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new g(4025,n.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new g(4026,n.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new g(5E3,n.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new g(5001,n.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new g(5002,n.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new g(5003,n.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new g(5004,n.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new g(5005,n.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new g(5006,n.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new g(5007,n.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new g(5008,n.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new g(5009,n.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new g(5010,n.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new g(5011,n.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new g(5012,n.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new g(5013,n.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new g(5014,n.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new g(5015,n.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new g(5016,n.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new g(5017,n.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new g(5018,n.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new g(5019,n.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new g(5020,n.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new g(5021,n.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new g(5022,n.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new g(5023,n.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new g(5024,n.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new g(5025,n.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new g(5026,n.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new g(5027,n.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new g(5028,n.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new g(5029,n.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new g(5030,n.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new g(5031,n.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new g(5032,n.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new g(5033,n.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new g(5034,n.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new g(5035,n.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new g(5036,n.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new g(5037,n.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new g(5038,n.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new g(5039,n.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new g(5040,n.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new g(6E3,n.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new g(6001,n.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new g(6002,n.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new g(6003,n.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new g(6004,n.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new g(6005,n.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new g(6006,n.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new g(6007,n.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new g(6008,n.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new g(6009,n.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new g(6010,n.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new g(6011,n.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new g(6012,n.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new g(6013,n.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new g(6014,n.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new g(6015,n.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new g(6016,n.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new g(6017,n.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new g(6018,n.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(6019,n.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new g(6020,n.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new g(6021,n.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new g(6022,n.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new g(6023,n.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new g(6024,n.FAIL,"Invalid header data."),PAYLOAD_INVALID:new g(6025,n.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new g(6026,n.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new g(6027,n.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new g(6028,n.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new g(6029,n.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new g(6030,n.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new g(6031,n.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new g(6032,n.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new g(6033,n.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new g(6034,n.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new g(6035,n.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new g(6036,n.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new g(6037,n.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new g(7E3,n.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new g(7001,n.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new g(7002,n.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new g(7003,n.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new g(7004,n.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new g(7005,n.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new g(7006,n.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new g(7007,n.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new g(7008,n.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new g(7009,n.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new g(7010,n.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new g(7011,n.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new g(7012,n.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new g(7013,n.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new g(7014,n.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new g(7015,n.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new g(7016,n.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new g(8E3,n.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new g(8001,n.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new g(8002,n.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new g(8003,n.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new g(8004,n.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new g(8005,n.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new g(8006,n.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new g(8007,n.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new g(8008,n.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new g(8009,n.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new g(8010,n.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new g(8011,n.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new g(8012,n.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new g(9E3,n.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new g(9001,n.FAIL,"Error communicating with MSL entity."),NONE:new g(9999,n.FAIL,"Special unit test error.")});Object.freeze(g);(function(){F=ma.Class.create(Error());F.mixin({init:function(g,p,n){var O,N,ea;function r(){return N?N:this.cause && this.cause instanceof F?this.cause.messageId:ha;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);O=g.message;p && (O+=" [" + p + "]");ea=this.stack;Object.defineProperties(this,{message:{value:O,writable:!1,configurable:!0},error:{value:g,writable:!1,configurable:!0},cause:{value:n,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(g){if(0 > g || g > Ga)throw new RangeError("Message ID " + g + " is outside the valid range.");r() || (N=g);},configurable:!0},stack:{get:function(){var g;g=this.toString();ea && (g+="\n" + ea);n && n.stack && (g+="\nCaused by " + n.stack);return g;},configurable:!0}});},setEntity:function(g){!g || this.masterToken || this.entityAuthenticationData || (g instanceof hb?this.masterToken=g:g instanceof Qb && (this.entityAuthenticationData=g));return this;},setUser:function(g){!g || this.userIdToken || this.userAuthenticationData || (g instanceof ac?this.userIdToken=g:g instanceof Hb && (this.userAuthenticationData=g));return this;},setMessageId:function(g){this.messageId=g;return this;},toString:function(){return this.name + ": " + this.message;}});})();N=F.extend({init:function Eb(g,p,n){Eb.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ja=F.extend({init:function Yb(g,p,n){Yb.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xb=F.extend({init:function Oa(g,p,n){Oa.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jb=ma.Class.create(Error());jb.mixin({init:function(g,p,n){var r;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},requestCause:{value:n,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();r && (g+="\n" + r);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Ya=ma.Class.create(Error());Ya.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){ea=ma.Class.create(Error());ea.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){cb=ma.Class.create(Error());cb.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ra=F.extend({init:function vb(g,p,n){vb.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rb=F.extend({init:function Qc(g,p){Qc.base.call(this,g);Object.defineProperties(this,{masterToken:{value:p,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Da=F.extend({init:function za(g,p,n){za.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ca=F.extend({init:function aa(g,p,n){aa.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var K;function g(g){return "undefined" === typeof g?!1:g;}function p(g){return g && g.length?(eb === K.V2014_02 && (g=g.map(function(g){return "wrap" == g?"wrapKey":"unwrap" == g?"unwrapKey":g;})),g):eb === K.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function n(g,v,A,p,n){return Promise.resolve().then(function(){return Sa.importKey(g,v,A,p,n);})["catch"](function(w){var H;if("spki" !== g && "pkcs8" !== g)throw w;w=ASN1.webCryptoAlgorithmToJwkAlg(A);H=ASN1.webCryptoUsageToJwkKeyOps(n);w=ASN1.rsaDerToJwk(v,w,H,p);if(!w)throw Error("Could not make valid JWK from DER input");w=JSON.stringify(w);return Sa.importKey("jwk",Pc(w),A,p,n);});}function r(g,v){return Promise.resolve().then(function(){return Sa.exportKey(g,v);})["catch"](function(p){if("spki" !== g && "pkcs8" !== g)throw p;return Sa.exportKey("jwk",v).then(function(g){g=JSON.parse(Oc(new Uint8Array(g)));g=ASN1.jwkToRsaDer(g);if(!g)throw Error("Could not make valid DER from JWK input");return g.getDer().buffer;});});}K=xc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(xc);eb=K.LATEST;Ia={encrypt:function(g,v,p){switch(eb){case K.LEGACY:return new Promise(function(A,n){var w;w=Sa.encrypt(g,v,p);w.oncomplete=function(g){A(g.target.result);};w.onerror=function(g){n(g);};});case K.V2014_01:case K.V2014_02:return Sa.encrypt(g,v,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(g,v,p){switch(eb){case K.LEGACY:return new Promise(function(A,n){var w;w=Sa.decrypt(g,v,p);w.oncomplete=function(g){A(g.target.result);};w.onerror=function(g){n(g);};});case K.V2014_01:case K.V2014_02:return Sa.decrypt(g,v,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(g,v,p){switch(eb){case K.LEGACY:return new Promise(function(A,n){var w;w=Sa.sign(g,v,p);w.oncomplete=function(g){A(g.target.result);};w.onerror=function(g){n(g);};});case K.V2014_01:case K.V2014_02:return Sa.sign(g,v,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(g,v,p,n){switch(eb){case K.LEGACY:return new Promise(function(A,w){var H;H=Sa.verify(g,v,p,n);H.oncomplete=function(g){A(g.target.result);};H.onerror=function(g){w(g);};});case K.V2014_01:case K.V2014_02:return Sa.verify(g,v,p,n);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(g,v){switch(eb){case K.LEGACY:return new Promise(function(p,n){var A;A=Sa.digest(g,v);A.oncomplete=function(g){p(g.target.result);};A.onerror=function(g){n(g);};});case K.V2014_01:case K.V2014_02:return Sa.digest(g,v).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(n,v,A){var G,J;G=g(v);J=p(A);switch(eb){case K.LEGACY:return new Promise(function(g,v){var w;w=Sa.generateKey(n,G,J);w.oncomplete=function(w){g(w.target.result);};w.onerror=function(g){v(g);};});case K.V2014_01:case K.V2014_02:return Sa.generateKey(n,G,J);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(n,v,A,C,J){var w,H;w=g(C);H=p(J);switch(eb){case K.LEGACY:return new Promise(function(g,p){var J;J=Sa.deriveKey(n,v,A,w,H);J.oncomplete=function(w){g(w.target.result);};J.onerror=function(g){p(g);};});case K.V2014_01:case K.V2014_02:return Sa.deriveKey(n,v,A,w,H);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(G,v,A,C,J){var w,H;w=g(C);H=p(J);switch(eb){case K.LEGACY:return new Promise(function(g,p){var n;n=Sa.importKey(G,v,A,w,H);n.oncomplete=function(w){g(w.target.result);};n.onerror=function(g){p(g);};});case K.V2014_01:case K.V2014_02:return n(G,v,A,w,H);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(g,v){switch(eb){case K.LEGACY:return new Promise(function(p,n){var A;A=Sa.exportKey(g,v);A.oncomplete=function(g){p(g.target.result);};A.onerror=function(g){n(g);};});case K.V2014_01:case K.V2014_02:return r(g,v).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(g,v,p,n){switch(eb){case K.LEGACY:return new Promise(function(g,w){var H;H=Sa.wrapKey(v,p,n);H.oncomplete=function(w){g(w.target.result);};H.onerror=function(g){w(g);};});case K.V2014_01:case K.V2014_02:return Sa.wrapKey(g,v,p,n).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(n,v,A,C,J,w,H){switch(eb){case K.LEGACY:return new Promise(function(g,w){var p;p=Sa.unwrapKey(v,J,A);p.oncomplete=function(w){g(w.target.result);};p.onerror=function(g){w(g);};});case K.V2014_01:case K.V2014_02:return Sa.unwrapKey(n,v,A,C,J,g(w),p(H));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};vc && vc.getKeyByName && (Ia.getKeyByName=function(g){switch(eb){case K.LEGACY:return new Promise(function(v,p){var A;A=vc.getKeyByName(g);A.oncomplete=function(g){v(g.target.result);};A.onerror=function(g){p(g);};});case K.V2014_01:case K.V2014_02:return vc.getKeyByName(g);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});O.netflix=O.netflix || ({});O.netflix.crypto=Ia;})();yb={name:"AES-KW"};qb={name:"AES-CBC"};rb={name:"HMAC",hash:{name:"SHA-256"}};yc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Xc={name:"RSAES-PKCS1-v1_5"};Id={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Ib=["encrypt","decrypt"];Jb=["wrap","unwrap"];Sb=["sign","verify"];(function(){Yc=ma.Class.create({init:function(n,r,F){var K;function aa(g){p(r,function(){var v;v=g?oa(g):ha;Object.defineProperties(K,{rawKey:{value:n,writable:!1,configurable:!1},keyData:{value:g,writable:!1,configurable:!1},keyDataB64:{value:v,writable:!1,configurable:!1}});return this;},K);}K=this;p(r,function(){if(!n || "object" != typeof n)throw new N(g.INVALID_SYMMETRIC_KEY);!F && n.extractable?Ia.exportKey("raw",n).then(function(g){aa(new Uint8Array(g));},function(p){r.error(new N(g.KEY_EXPORT_ERROR,"raw"));}):aa(F);},K);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zb=function(g,p){new Yc(g,p);};zb=function(n,r,F,Ea){p(Ea,function(){try{n="string" == typeof n?ta(n):n;}catch(K){throw new N(g.INVALID_SYMMETRIC_KEY,"keydata " + n,K);}Ia.importKey("raw",n,r,!0,F).then(function(g){new Yc(g,Ea,n);},function(p){Ea.error(new N(g.INVALID_SYMMETRIC_KEY));});});};})();(function(){zc=ma.Class.create({init:function(n,r,F){var K;function aa(g){p(r,function(){Object.defineProperties(K,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},K);}K=this;p(r,function(){if(!n || "object" != typeof n || "public" != n.type)throw new TypeError("Only original public crypto keys are supported.");!F && n.extractable?Ia.exportKey("spki",n).then(function(g){aa(new Uint8Array(g));},function(p){r.error(new N(g.KEY_EXPORT_ERROR,"spki"));}):aa(F);});},getEncoded:function(){return this.encoded;}});Ob=function(g,p){new zc(g,p);};Zc=function(n,r,F,Ea){p(Ea,function(){try{n="string" == typeof n?ta(n):n;}catch(K){throw new N(g.INVALID_PUBLIC_KEY,"spki " + n,K);}Ia.importKey("spki",n,r,!0,F).then(function(g){new zc(g,Ea,n);},function(p){Ea.error(new N(g.INVALID_PUBLIC_KEY));});});};})();(function(){Jd=ma.Class.create({init:function(n,r,F){var K;function aa(g){p(r,function(){Object.defineProperties(K,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},K);}K=this;p(r,function(){if(!n || "object" != typeof n || "private" != n.type)throw new TypeError("Only original private crypto keys are supported.");!F && n.extractable?Ia.exportKey("pkcs8",n).then(function(g){aa(new Uint8Array(g));},function(p){r.error(new N(g.KEY_EXPORT_ERROR,"pkcs8"));}):aa(F);});},getEncoded:function(){return this.encoded;}});$b=function(g,p){new Jd(g,p);};})();(function(){var n;n=cd={V1:1,V2:2};$c=ma.Class.create({init:function(g,r,F,K){p(K,function(){var p,v,A,C;p=n.V1;v=g;A=null;for(C in wc){if(wc[C] == g){p=n.V2;v=null;A=g;break;}}Object.defineProperties(this,{version:{value:p,writable:!1,enumerable:!1,configurable:!1},keyId:{value:v,writable:!1,configurable:!1},cipherSpec:{value:A,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:F,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var g;g={};switch(this.version){case n.V1:g.keyid=this.keyId;this.iv && (g.iv=oa(this.iv));g.ciphertext=oa(this.ciphertext);g.sha256="AA==";break;case n.V2:g.version=this.version;g.cipherspec=this.cipherSpec;this.iv && (g.iv=oa(this.iv));g.ciphertext=oa(this.ciphertext);break;default:throw new ea("Ciphertext envelope version " + this.version + " encoding unsupported.");}return g;}});ad=function(g,p,n,K){new $c(g,p,n,K);};bd=function(r,F,aa){p(aa,function(){var p,G,v,A,C,J,w;p=r.keyid;G=r.cipherspec;v=r.iv;A=r.ciphertext;C=r.sha256;if(!F)if((F=r.version) && "number" === typeof F && F === F){J=!1;for(w in n){if(n[w] == F){J=!0;break;}}if(!J)throw new N(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(r));}else F=n.V1;switch(F){case n.V1:if("string" !== typeof p || v && "string" !== typeof v || "string" !== typeof A || "string" !== typeof C)throw new ja(g.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(r));break;case n.V2:w=r.version;if(w != n.V2)throw new N(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(r));if("string" !== typeof G || v && "string" !== typeof v || "string" !== typeof A)throw new ja(g.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(r));G=Fd(G);if(!G)throw new N(g.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(r));p=G;break;default:throw new N(g.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(r));}try{v && (v=ta(v));A=ta(A);}catch(H){throw new N(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(r),H);}new $c(p,v,A,aa);});};})();(function(){var n;n=fd={V1:1,V2:2};Ab=ma.Class.create({init:function(g,p,r){var K;switch(g){case n.V1:K=r;break;case n.V2:K={};K.version=g;K.algorithm=p;K.signature=oa(r);K=Ua(JSON.stringify(K),La);break;default:throw new ea("Signature envelope version " + g + " encoding unsupported.");}Object.defineProperties(this,{version:{value:g,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:p,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:K,writable:!1,configurable:!1}});}});dd=function(){var g,r,F,K;2 == arguments.length?(g=n.V1,r=arguments[0],F=null,K=arguments[1]):3 == arguments.length && (g=n.V2,F=arguments[0],r=arguments[1],K=arguments[2]);p(K,function(){return new Ab(g,F,r);});};ed=function(r,F,aa){p(aa,function(){var p,G,v,A,C,J,w;if(F)switch(F){case n.V1:return new Ab(n.V1,null,r);case n.V2:try{p=Va(r,La);G=JSON.parse(p);v=parseInt(G.version);A=G.algorithm;C=G.signature;if(!v || "number" !== typeof v || v != v || "string" !== typeof A || "string" !== typeof C)throw new ja(g.JSON_PARSE_ERROR,"signature envelope " + oa(r));if(n.V2 != v)throw new N(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + oa(r));J=Vc(A);if(!J)throw new N(g.UNIDENTIFIED_ALGORITHM,"signature envelope " + oa(r));w=ta(C);if(!w)throw new N(g.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(r));return new Ab(n.V2,J,w);}catch(H){if(H instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"signature envelope " + oa(r),H);throw H;}default:throw new N(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + oa(r));}try{p=Va(r,La);G=JSON.parse(p);}catch(H){G=null;}if(G && G.version){if((p=G.version,"number" !== typeof p || p !== p))p=n.V1;}else p=n.V1;switch(p){case n.V1:return new Ab(p,null,r);case n.V2:J=G.algorithm;C=G.signature;if("string" !== typeof J || "string" !== typeof C)return new Ab(n.V1,null,r);J=Vc(J);if(!J)return new Ab(n.V1,null,r);try{w=ta(C);}catch(H){return new Ab(n.V1,null,r);}return new Ab(p,J,w);default:throw new N(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + r);}});};})();bc=ma.Class.create({encrypt:function(g,p){},decrypt:function(g,p){},wrap:function(g,p){},unwrap:function(g,p,n,r){},sign:function(g,p){},verify:function(g,p,n){}});(function(){var n;n=Cb={RSA_OAEP:yc.name,A128KW:yb.name};ub="A128GCM";Bb=ma.Class.create({init:function(g,p,r,K,G){switch(p){case n.RSA_OAEP:G=G && (G.rawKey || G);K=K && (K.rawKey || K);break;case n.A128KW:G=K=K && (K.rawKey || K);break;default:throw new ea("Unsupported algorithm: " + p);}Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_algo:{value:p,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:G,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:K,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,n){n.error(new N(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(p,n){n.error(new N(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,r){p(r,function(){Ia.wrapKey("jwe+jwk",n.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(g){r.result(g);},function(p){r.error(new N(g.WRAP_ERROR));});},this);},unwrap:function(n,r,F,K){function G(v){p(K,function(){switch(v.type){case "secret":Zb(v,K);break;case "public":Ob(v,K);break;case "private":$b(v,K);break;default:throw new N(g.UNSUPPORTED_KEY,"type: " + v.type);}});}p(K,function(){Ia.unwrapKey("jwe+jwk",n,this._unwrapKey,this._unwrapKey.algorithm,r,!1,F).then(function(g){G(g);},function(){K.error(new N(g.UNWRAP_ERROR));});},this);},sign:function(p,n){n.error(new N(g.SIGN_NOT_SUPPORTED));},verify:function(p,n,r){r.error(new N(g.VERIFY_NOT_SUPPORTED));}});})();cc=bc.extend({encrypt:function(g,p){p.result(g);},decrypt:function(g,p){p.result(g);},wrap:function(g,p){p.result(g);},unwrap:function(g,p,n,r){r.result(g);},sign:function(g,p){p.result(new Uint8Array(0));},verify:function(g,p,n){n.result(!0);}});(function(){var n;n=Bc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Ac=bc.extend({init:function Ka(g,p,G,v,A){Ka.base.call(this);G && (G=G.rawKey);v && (v=v.rawKey);Object.defineProperties(this,{id:{value:p,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:G,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:v,writable:!1,enumerable:!1,configurable:!1},transform:{value:A == n.ENCRYPT_DECRYPT_PKCS1?Xc:A == n.ENCRYPT_DECRYPT_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:A == n.WRAP_UNWRAP_PKCS1?Xc:A == n.WRAP_UNWRAP_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:A == n.SIGN_VERIFY?Id:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,r){var K;K=this;p(r,function(){if("nullOp" == this.transform)return n;if(!this.publicKey)throw new N(g.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == n.length)return n;Ia.encrypt(K.transform,K.publicKey,n).then(function(p){ad(K.id,null,p,{result:function(p){var v;try{v=JSON.stringify(p);r.result(Ua(v,La));}catch(C){r.error(new N(g.ENCRYPT_ERROR,null,C));}},error:function(p){p instanceof F || (p=new N(g.ENCRYPT_ERROR,null,p));r.error(p);}});},function(p){r.error(new N(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,r){var K;K=this;p(r,function(){var p,v;if("nullOp" == this.transform)return n;if(!this.privateKey)throw new N(g.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == n.length)return n;try{v=Va(n,La);p=JSON.parse(v);}catch(A){if(A instanceof SyntaxError)throw new N(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,A);throw new N(g.DECRYPT_ERROR,null,A);}bd(p,cd.V1,{result:function(p){var n;try{if(p.keyId != K.id)throw new N(g.ENVELOPE_KEY_ID_MISMATCH);n=r.result;Ia.decrypt(K.transform,K.privateKey,p.ciphertext).then(n,function(p){r.error(new N(g.DECRYPT_ERROR));});}catch(J){J instanceof F?r.error(J):r.error(new N(g.DECRYPT_ERROR,null,J));}},error:function(p){p instanceof ja && (p=new N(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,p));p instanceof F || (p=new N(g.DECRYPT_ERROR,null,p));r.error(p);}});},this);},wrap:function(n,r){p(r,function(){var p;if("nullOp" == this.wrapTransform || !this.publicKey)throw new N(g.WRAP_NOT_SUPPORTED,"no public key");p=r.result;Ia.wrapKey("jwk",n.rawKey,this.publicKey,this.wrapTransform).then(p,function(p){r.error(new N(g.WRAP_ERROR));});},this);},unwrap:function(n,r,K,G){function v(n){p(G,function(){switch(n.type){case "secret":Zb(n,G);break;case "public":Ob(n,G);break;case "private":$b(n,G);break;default:throw new N(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(G,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new N(g.UNWRAP_NOT_SUPPORTED,"no private key");Ia.unwrapKey("jwk",n,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,K).then(v,function(p){G.error(new N(g.UNWRAP_ERROR));});},this);},sign:function(n,r){p(r,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new N(g.SIGN_NOT_SUPPORTED,"no private key");Ia.sign(this.algo,this.privateKey,n).then(function(g){dd(g,{result:function(g){r.result(g.bytes);},error:r.error});},function(p){r.error(new N(g.SIGNATURE_ERROR));});},this);},verify:function(n,r,K){var G;G=this;p(K,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new N(g.VERIFY_NOT_SUPPORTED,"no public key");ed(r,fd.V1,{result:function(v){p(K,function(){var p;p=K.result;Ia.verify(this.algo,this.publicKey,v.signature,n).then(p,function(p){K.error(new N(g.SIGNATURE_ERROR));});},G);},error:K.error});},this);}});})();(function(){Cc=bc.extend({init:function Ta(g,p,n,G,v){Ta.base.call(this);n=n && n.rawKey;G=G && G.rawKey;v=v && v.rawKey;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},id:{value:p,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:G,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:v,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,r){var O;O=this;p(r,function(){var p;if(!this.encryptionKey)throw new N(g.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == n.length)return n;p=new Uint8Array(16);this.ctx.getRandom().nextBytes(p);Ia.encrypt({name:qb.name,iv:p},O.encryptionKey,n).then(function(n){n=new Uint8Array(n);ad(O.id,p,n,{result:function(p){var n;try{n=JSON.stringify(p);r.result(Ua(n,La));}catch(C){r.error(new N(g.ENCRYPT_ERROR,null,C));}},error:function(p){p instanceof F || (p=new N(g.ENCRYPT_ERROR,null,p));r.error(p);}});},function(p){r.error(new N(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,r){var O;O=this;p(r,function(){var p,G;if(!this.encryptionKey)throw new N(g.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == n.length)return n;try{G=Va(n,La);p=JSON.parse(G);}catch(v){if(v instanceof SyntaxError)throw new N(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,v);throw new N(g.DECRYPT_ERROR,null,v);}bd(p,cd.V1,{result:function(p){try{if(p.keyId != O.id)throw new N(g.ENVELOPE_KEY_ID_MISMATCH);Ia.decrypt({name:qb.name,iv:p.iv},O.encryptionKey,p.ciphertext).then(function(g){g=new Uint8Array(g);r.result(g);},function(){r.error(new N(g.DECRYPT_ERROR));});}catch(A){A instanceof F?r.error(A):r.error(new N(g.DECRYPT_ERROR,null,A));}},error:function(p){p instanceof ja && (p=new N(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,p));p instanceof F || (p=new N(g.DECRYPT_ERROR,null,p));r.error(p);}});},this);},wrap:function(n,r){p(r,function(){if(!this.wrapKey)throw new N(g.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.wrapKey("raw",n.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(g){r.result(g);},function(p){r.error(new N(g.WRAP_ERROR));});},this);},unwrap:function(n,r,F,K){function G(n){p(K,function(){switch(n.type){case "secret":Zb(n,K);break;case "public":Ob(n,K);break;case "private":$b(n,K);break;default:throw new N(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(K,function(){if(!this.wrapKey)throw new N(g.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.unwrapKey("raw",n,this.wrapKey,this.wrapKey.algorithm,r,!1,F).then(function(g){G(g);},function(p){K.error(new N(g.UNWRAP_ERROR));});},this);},sign:function(n,r){var F;F=this;p(r,function(){if(!this.hmacKey)throw new N(g.SIGN_NOT_SUPPORTED,"no HMAC key.");Ia.sign(rb,this.hmacKey,n).then(function(g){p(r,function(){var p;p=new Uint8Array(g);dd(p,{result:function(g){r.result(g.bytes);},error:r.error});},F);},function(){r.error(new N(g.HMAC_ERROR));});},this);},verify:function(n,r,F){var K;K=this;p(F,function(){if(!this.hmacKey)throw new N(g.VERIFY_NOT_SUPPORTED,"no HMAC key.");ed(r,fd.V1,{result:function(G){p(F,function(){Ia.verify(rb,this.hmacKey,G.signature,n).then(function(g){F.result(g);},function(p){F.error(new N(g.HMAC_ERROR));});},K);},error:F.error});},this);}});})();ib=Cc.extend({init:function Ta(p,n,r,G,v){if(r || G || v)Ta.base.call(this,p,r + "_" + n.sequenceNumber,G,v,null);else {if(!n.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,n);Ta.base.call(this,p,n.identity + "_" + n.sequenceNumber,n.encryptionKey,n.hmacKey,null);}}});Le=bc.extend({encrypt:function(g,p){p.result(g);},decrypt:function(g,p){p.result(g);},wrap:function(g,p){p.error(new ea("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(g,p,n,r){r.error(new ea("Unwrap is unsupported by the MSL token crypto context."));},sign:function(g,p){p.result(new Uint8Array(0));},verify:function(g,p,n){n.result(!1);}});Qa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Qa);(function(){Qb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(g){return this === g?!0:g instanceof Qb?this.scheme == g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});Kd=function(p,n){var r,K,G;r=n.scheme;K=n.authdata;if(!r || !K)throw new ja(g.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(n));if(!Qa[r])throw new xb(g.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);G=p.getEntityAuthenticationFactory(r);if(!G)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,r);return G.createData(p,K);};})();Dc=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,p){},getCryptoContext:function(g,p){}});(function(){nb=Qb.extend({init:function Ka(g){Ka.base.call(this,Qa.MGK);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function Ea(g){return this === g?!0:g instanceof nb?Ea.base.call(this,this,g) && this.identity == g.identity:!1;}});Ld=function(p){var n;n=p.identity;if(!n)throw new ja(g.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(p));return new nb(n);};})();Me=Dc.extend({init:function Ka(g){Ka.base.call(this,Qa.MGK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Ld(p);},getCryptoContext:function(p,n){if(!(n instanceof nb))throw new ea("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.identity != this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"mgk " + n.identity).setEntity(n);return new cc();}});(function(){sb=Qb.extend({init:function Ea(g){Ea.base.call(this,Qa.PSK);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function K(g){return this === g?!0:g instanceof sb?K.base.call(this,this,g) && this.identity == g.identity:!1;}});Md=function(p){var n;n=p.identity;if(!n)throw new ja(g.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(p));return new sb(n);};})();Nd=Dc.extend({init:function Ea(g){Ea.base.call(this,Qa.PSK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Md(p);},getCryptoContext:function(p,n){if(!(n instanceof sb))throw new ea("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.getIdentity() != this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"psk " + n.identity).setEntity(n);return new cc();}});(function(){Ec=Qb.extend({init:function K(g,p){K.base.call(this,Qa.RSA);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1},publicKeyId:{value:p,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;g.pubkeyid=this.publicKeyId;return g;},equals:function G(g){return this === g?!0:g instanceof Ec?G.base.call(this,this,g) && this.identity == g.identity && this.publicKeyId == g.publicKeyId:!1;}});Od=function(p){var n,A;n=p.identity;A=p.pubkeyid;if(!n || "string" !== typeof n || !A || "string" !== typeof A)throw new ja(g.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(p));return new Ec(n,A);};})();Ne=Dc.extend({init:function K(g){K.base.call(this,Qa.RSA);Object.defineProperties(this,{store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Od(p);},getCryptoContext:function(p,n){var v,A,C;if(!(n instanceof Ec))throw new ea("Incorrect authentication data type " + n + ".");v=n.identity;A=n.publicKeyId;C=this.store.getPublicKey(A);if(!C)throw new xb(g.RSA_PUBLICKEY_NOT_FOUND,A).setEntity(n);return new Ac(p,v,null,C,Bc.SIGN_VERIFY);}});(function(){hc=Qb.extend({init:function G(g){G.base.call(this,Qa.NONE);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function v(g){return this === g?!0:g instanceof hc?v.base.call(this,this,g) && this.identity == g.identity:!1;}});Pd=function(p){var n;n=p.identity;if(!n)throw new ja(g.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(p));return new hc(n);};})();Ke=Dc.extend({init:function G(){G.base.call(this,Qa.NONE);},createData:function(g,p){return Pd(p);},getCryptoContext:function(g,p){if(!(p instanceof hc))throw new ea("Incorrect authentication data type " + JSON.stringify(p) + ".");return new cc();}});Oe=ma.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(g,p){if(!(p instanceof zc))throw new ea("Incorrect key data type " + p + ".");this.rsaKeys[g]=p;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(g){delete this.rsaKeys[g];},getPublicKey:function(g){return this.rsaKeys[g];}});gd=ma.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,p,n){}});Fc=ma.Class.create({abort:function(){},close:function(g,p){},write:function(g,p,n,C,J){},flush:function(g,p){}});Pe=ma.Class.create({init:function(g){Object.defineProperties(this,{_data:{value:g,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Ya("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(g,p,n){r(n,function(){var p;if(this._closed)throw new Ya("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == g && (g=this._data.length - this._currentPosition);p=this._data.subarray(this._currentPosition,this._currentPosition + g);this._currentPosition+=p.length;return p;},this);}});Qe=ma.Class.create({init:function(){var g;g={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},abort:function(){},close:function(g,p){this._closed=!0;p.result(!0);},write:function(g,p,n,C,J){r(J,function(){var w;if(this._closed)throw new Ya("Stream is already closed.");if(0 > p)throw new RangeError("Offset cannot be negative.");if(0 > n)throw new RangeError("Length cannot be negative.");if(p + n > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=g.subarray(p,n);this._buffered.push(w);return w.length;},this);},flush:function(g,p){var n,v;for(;0 < this._buffered.length;){n=this._buffered.shift();if(this._result){v=new Uint8Array(this._result.length + n.length);v.set(this._result);v.set(n,this._result.length);this._result=v;}else this._result=new Uint8Array(n);}p.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Re=ma.Class.create({getResponse:function(g,p,n){}});(function(){var g,p;g=Fc.extend({init:function(g,p){var n;n={_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:p,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Qe(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ha,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ha,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new ic(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(g){this._timeout=g;},getResponse:function(g,p){var n;n=this;this._responseQueue.poll(g,{result:function(g){r(p,function(){g && this._responseQueue.add(g);return g;},n);},timeout:function(){r(p,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();p.timeout();},n);},error:function(g){r(p,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw g;},n);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(g,p){var n;n=this;r(p,function(){var g;if(this._response)return !0;g=this._buffer.toByteArray();0 < g.length && (this._abortToken=this._httpLocation.getResponse({body:g},this._timeout,{result:function(g){n._response={response:g};n._responseQueue.add(n._response);},timeout:function(){n._response={isTimeout:!0};n._responseQueue.add(n._response);},error:function(g){n._response={isError:!0,error:g};n._responseQueue.add(n._response);}}));return !0;},this);},write:function(g,p,n,w,H){r(H,function(){if(this._response)throw new Ya("HttpOutputStream already closed.");this._buffer.write(g,p,n,w,H);},this);},flush:function(g,p){r(p,function(){if(this._response)return !0;this._buffer.flush(g,p);},this);}});p=gd.extend({init:function(g){Object.defineProperties(this,{_out:{value:g,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ha,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ha,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(g,p,n){var H;function w(w){r(n,function(){if(!w)return new Uint8Array(0);this._out.getResponse(p,{result:function(w){r(n,function(){var v;if(w.isTimeout)(this._timedout=!0,n.timeout());else {if(w.isError)throw (this._exception=w.error || new Ya("Unknown HTTP exception."),this._exception);if(!w.response)throw (this._exception=new Ya("Missing HTTP response."),this._exception);w.response.json !== ha && (this._json=w.response.json,this.getJSON=function(){return H._json;});v=w.response.content || Pc("string" === typeof w.response.body?w.response.body:JSON.stringify(this._json));this._buffer=new Pe(v);this._buffer.read(g,p,n);}},H);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},H);}H=this;r(n,function(){if(this._exception)throw this._exception;if(this._timedout)n.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(g,p,n):this._out.close(p,{result:function(g){w(g);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},H);}});zd=ma.Class.create({init:function(g,p){Object.defineProperties(this,{_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:p,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(g){this._timeout=g;},openConnection:function(){var n;n=new g(this._httpLocation,this._timeout);return {input:new p(n),output:n};}});})();(function(){var g,p;g=Fc.extend({init:function(){var g;g={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setTimeout:function(){},getResponse:function(g,p){p.result({success:!1,content:null,errorHttpCode:ha,errorSubCode:ha});},abort:function(){},close:function(g,p){p.result(!0);},write:function(g,p,n,w,H){var v,A;try{if(0 > p)throw new RangeError("Offset cannot be negative.");if(0 > n)throw new RangeError("Length cannot be negative.");if(p + n > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=g.subarray(p,n);A=new Uint8Array(this._buffer.length + v.length);A.set(this._buffer);A.set(v,this._buffer.length);this._buffer=A;H.result(v.length);}catch(Ja){H.error(Ja);}},flush:function(g,p){p.result(!0);},request:function(){return this._buffer;}});p=gd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,p,n){n.result(new Uint8Array(16));}});Ad=ma.Class.create({init:function(){var n;n={output:{value:new g(),writable:!1,enumerable:!1,configurable:!1},input:{value:new p(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Oc(this.output.request());}});})();Qd=function(g,p,n){function v(g){var p,n;g=new Se(Va(g,"utf-8"));p=[];for(n=g.nextValue();n !== ha;){p.push(n);n=g.nextValue();}return p;}(function(g,p,H){g.read(-1,p,{result:function(g){g && g.length?H(null,g):H(null,null);},timeout:function(){n.timeout();},error:function(g){H(g,null);}});})(g,p,function(p,w){p?n.error(p):w?g.getJSON !== ha && "function" === typeof g.getJSON?n.result(g.getJSON()):n.result(v(w)):n.result(null);});};kb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kb);(function(){jc=ma.Class.create({init:function(g){Object.defineProperties(this,{keyExchangeScheme:{value:g,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this === g?!0:g instanceof jc?this.keyExchangeScheme == g.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Rd=function(n,v,A){p(A,function(){var p,J,w;p=v.scheme;J=v.keydata;if(!p || !J || "object" !== typeof J)throw new ja(g.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(v));if(!kb[p])throw new Ra(g.UNIDENTIFIED_KEYX_SCHEME,p);w=n.getKeyExchangeFactory(p);if(!w)throw new Ra(g.KEYX_FACTORY_NOT_FOUND,p);w.createRequestData(n,J,A);});};})();(function(){kc=ma.Class.create({init:function(g,p){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},keyExchangeScheme:{value:p,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.mastertoken=this.masterToken;g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this === g?!0:g instanceof kc?this.masterToken.equals(g.masterToken) && this.keyExchangeScheme == g.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Sd=function(n,v,A){p(A,function(){var r,J,w;r=v.mastertoken;J=v.scheme;w=v.keydata;if(!J || !r || "object" !== typeof r || !w || "object" !== typeof w)throw new ja(g.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(v));if(!kb[J])throw new Ra(g.UNIDENTIFIED_KEYX_SCHEME,J);Tb(n,r,{result:function(H){p(A,function(){var p;p=n.getKeyExchangeFactory(J);if(!p)throw new Ra(g.KEYX_FACTORY_NOT_FOUND,J);return p.createResponseData(n,H,w);});},error:function(g){A.error(g);}});});};})();(function(){var n;n=ma.Class.create({init:function(g,p){Object.defineProperties(this,{keyResponseData:{value:g,writable:!1,configurable:!1},cryptoContext:{value:p,writable:!1,configurable:!1}});}});ob=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createRequestData:function(g,p,n){},createResponseData:function(g,p,n){},generateResponse:function(g,p,n,r){},getCryptoContext:function(g,p,n,r,w){},generateSessionKeys:function(n,A){p(A,function(){var p,v;p=new Uint8Array(16);v=new Uint8Array(32);n.getRandom().nextBytes(p);n.getRandom().nextBytes(v);zb(p,qb,Ib,{result:function(p){zb(v,rb,Sb,{result:function(g){A.result({encryptionKey:p,hmacKey:g});},error:function(p){A.error(new N(g.SESSION_KEY_CREATION_FAILURE,null,p));}});},error:function(p){A.error(new N(g.SESSION_KEY_CREATION_FAILURE,null,p));}});});},importSessionKeys:function(g,p,n){zb(g,qb,Ib,{result:function(g){zb(p,rb,Sb,{result:function(p){n.result({encryptionKey:g,hmacKey:p});},error:function(g){n.error(g);}});},error:function(g){n.error(g);}});}});ob.KeyExchangeData=n;})();(function(){var v,A,r;function n(n,w,H,A,r){p(r,function(){var J,ca;switch(w){case v.PSK:(J=new sb(A),ca=n.getEntityAuthenticationFactory(Qa.PSK));if(!ca)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,w);J=ca.getCryptoContext(n,J);return new Bb(n,Cb.A128KW,ub,ha);case v.MGK:J=new nb(A);ca=n.getEntityAuthenticationFactory(Qa.MGK);if(!ca)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,w);J=ca.getCryptoContext(n,J);return new Bb(n,Cb.A128KW,ub,ha);case v.WRAP:J=n.getMslCryptoContext();J.unwrap(H,yb,Jb,{result:function(g){p(r,function(){return new Bb(n,Cb.A128KW,ub,g);});},error:r.error});break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,w);}});}v={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};A=hd=jc.extend({init:function w(g,p){w.base.call(this,kb.JWE_LADDER);switch(g){case v.WRAP:if(!p)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:p=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata && (g.wrapdata=oa(this.wrapdata));return g;},equals:function H(g){return g === this?!0:g instanceof hd?H.base.call(this,g) && this.mechanism == g.mechanism && ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function na(){var g;g=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (g+=":" + gb(this.wrapdata));return g;}});r=Ud=kc.extend({init:function ca(g,p,n,v,A){ca.base.call(this,g,kb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:p,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:v,writable:!1,configurable:!1},hmacKey:{value:A,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=oa(this.wrapKey);g.wrapdata=oa(this.wrapdata);g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function Ja(g){return this === g?!0:g instanceof Ud?Ja.base.call(this,g) && ab(this.wrapKey,g.wrapKey) && ab(this.wrapdata,g.wrapdata) && ab(this.encryptionKey,g.encryptionKey) && ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function ra(){return ra.base.call(this) + ":" + gb(this.wrapKey) + ":" + gb(this.wrapdata) + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});Td=ob.extend({init:function P(g){P.base.call(this,kb.JWE_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,r,V){p(V,function(){var p,n,P;p=r.mechanism;n=r.wrapdata;if(!p || p == v.WRAP && (!n || "string" !== typeof n))throw new ja(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(r));if(!v[p])throw new Ra(g.UNIDENTIFIED_KEYX_MECHANISM,p);switch(p){case v.WRAP:try{P=ta(n);}catch(xa){throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + r.toString());}if(null == P || 0 == P.length)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + r.toString());break;default:P=null;}return new A(p,P);});},createResponseData:function(p,n,v){var A,P,V,C,sa,G,F;p=v.wrapkey;A=v.wrapdata;P=v.encryptionkey;V=v.hmackey;if(!(p && "string" === typeof p && A && "string" === typeof A && P && "string" === typeof P && V) || "string" !== typeof V)throw new ja(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(v));try{C=ta(p);sa=ta(A);}catch(fa){throw new N(g.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(v),fa);}try{G=ta(P);}catch(fa){throw new N(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(v),fa);}try{F=ta(V);}catch(fa){throw new N(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(v),fa);}return new r(n,C,sa,G,F);},generateResponse:function(v,C,V,X){var Fa,ua;function P(g,n,A){Fa.generateSessionKeys(v,{result:function(v){p(X,function(){T(g,n,A,v.encryptionKey,v.hmacKey);},Fa);},error:function(g){p(X,function(){g instanceof F && g.setEntity(ua);throw g;});}});}function T(g,A,r,P,V){p(X,function(){n(v,C.mechanism,C.wrapdata,g,{result:function(g){g.wrap(A,{result:function(d){sa(A,r,P,V,d);},error:function(d){p(X,function(){d instanceof F && d.setEntity(ua);throw d;});}});},error:function(g){p(X,function(){g instanceof F && g.setEntity(ua);throw g;});}});},Fa);}function sa(g,n,A,r,P){p(X,function(){var fa;fa=new Bb(v,Cb.A128KW,ub,g);fa.wrap(A,{result:function(d){fa.wrap(r,{result:function(b){G(n,P,A,d,r,b);},error:function(b){p(X,function(){b instanceof F && b.setEntity(ua);throw b;});}});},error:function(d){p(X,function(){d instanceof F && d.setEntity(ua);throw d;});}});},Fa);}function G(g,n,A,P,C,T){p(X,function(){var d;d=v.getTokenFactory();ua?d.renewMasterToken(v,ua,A,C,{result:function(b){p(X,function(){var a,c;a=new ib(v,b);c=new r(b,n,g,P,T);return new ob.KeyExchangeData(c,a,X);},Fa);},error:function(b){p(X,function(){b instanceof F && b.setEntity(ua);throw b;});}}):d.createMasterToken(v,V,A,C,{result:function(b){p(X,function(){var a,c;a=new ib(v,b);c=new r(b,n,g,P,T);return new ob.KeyExchangeData(c,a,X);},Fa);},error:X.error});},Fa);}Fa=this;p(X,function(){var n,r;if(!(C instanceof A))throw new ea("Key request data " + JSON.stringify(C) + " was not created by this factory.");n=V;if(V instanceof hb){if(!V.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,V);ua=V;n=V.identity;}r=new Uint8Array(16);v.getRandom().nextBytes(r);zb(r,yb,Jb,{result:function(g){p(X,function(){v.getMslCryptoContext().wrap(g,{result:function(p){P(n,g,p);},error:function(g){p(X,function(){g instanceof F && g.setEntity(ua);throw g;},Fa);}});},Fa);},error:function(n){p(X,function(){throw new N(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(ua);},Fa);}});},Fa);},getCryptoContext:function(n,C,V,X,wa){var sa;function P(g,v,A,r,P){p(wa,function(){var fa;fa=new Bb(n,Cb.A128KW,ub,P);fa.unwrap(v.encryptionKey,qb,Ib,{result:function(P){fa.unwrap(v.hmacKey,rb,Sb,{result:function(g){p(wa,function(){this.repository.addCryptoContext(v.wrapdata,fa);this.repository.removeCryptoContext(A);return new ib(n,v.masterToken,r,P,g);},sa);},error:function(n){p(wa,function(){n instanceof F && n.setEntity(g);throw n;});}});},error:function(n){p(wa,function(){n instanceof F && n.setEntity(g);throw n;});}});},sa);}sa=this;p(wa,function(){var T,X;if(!(C instanceof A))throw new ea("Key request data " + JSON.stringify(C) + " was not created by this factory.");if(!(V instanceof r))throw new ea("Key response data " + JSON.stringify(V) + " was not created by this factory.");T=C.mechanism;X=C.wrapdata;n.getEntityAuthenticationData(null,{result:function(A){p(wa,function(){var r,C,sa;r=A.getIdentity();switch(T){case v.PSK:C=new sb(r);sa=n.getEntityAuthenticationFactory(Qa.PSK);if(!sa)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(A);C=sa.getCryptoContext(n,C);C=new Bb(n,Cb.A128KW,ub,ha);break;case v.MGK:C=new nb(r);sa=n.getEntityAuthenticationFactory(Qa.MGK);if(!sa)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(A);C=sa.getCryptoContext(n,C);C=new Bb(n,Cb.A128KW,ub,C.wrapKey);break;case v.WRAP:C=this.repository.getCryptoContext(X);if(!C)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,oa(X)).setEntity(A);break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(A);}C.unwrap(V.wrapKey,yb,Jb,{result:function(g){P(A,V,X,r,g);},error:function(g){p(wa,function(){g instanceof F && g.setEntity(A);throw g;});}});},sa);},error:wa.error});},sa);}});})();(function(){var v,A,r,J;function n(n,H,A,r,C){p(C,function(){var w,P;switch(H){case v.PSK:(w=new sb(r),P=n.getEntityAuthenticationFactory(Qa.PSK));if(!P)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,H);w=P.getCryptoContext(n,w);return new J(ha);case v.MGK:w=new nb(r);P=n.getEntityAuthenticationFactory(Qa.MGK);if(!P)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,H);w=P.getCryptoContext(n,w);return new J(ha);case v.WRAP:w=n.getMslCryptoContext();w.unwrap(A,yb,Jb,{result:function(g){p(C,function(){return new J(g);});},error:C.error});break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,H);}});}v={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};A=Gc=jc.extend({init:function H(g,p){H.base.call(this,kb.JWK_LADDER);switch(g){case v.WRAP:if(!p)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:p=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata && (g.wrapdata=oa(this.wrapdata));return g;},equals:function na(g){return g === this?!0:g instanceof Gc?na.base.call(this,g) && this.mechanism == g.mechanism && ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function ca(){var g;g=ca.base.call(this) + ":" + this.mechanism;this.wrapdata && (g+=":" + gb(this.wrapdata));return g;}});r=Vd=kc.extend({init:function Ja(g,p,n,v,A){Ja.base.call(this,g,kb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:p,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:v,writable:!1,configurable:!1},hmacKey:{value:A,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=oa(this.wrapKey);g.wrapdata=oa(this.wrapdata);g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function ra(g){return this === g?!0:g instanceof Vd?ra.base.call(this,g) && ab(this.wrapKey,g.wrapKey) && ab(this.wrapdata,g.wrapdata) && ab(this.encryptionKey,g.encryptionKey) && ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function P(){return P.base.call(this) + ":" + gb(this.wrapKey) + ":" + gb(this.wrapdata) + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});J=bc.extend({init:function(g){g && g.rawKey && (g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,n){n.error(new N(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(p,n){n.error(new N(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,v){p(v,function(){Ia.wrapKey("jwk",n.rawKey,this._wrapKey,yb).then(function(g){v.result(g);},function(p){v.error(new N(g.WRAP_ERROR));});},this);},unwrap:function(n,v,A,r){function C(n){p(r,function(){switch(n.type){case "secret":Zb(n,r);break;case "public":Ob(n,r);break;case "private":$b(n,r);break;default:throw new N(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(r,function(){Ia.unwrapKey("jwk",n,this._wrapKey,yb,v,!1,A).then(function(g){C(g);},function(p){r.error(new N(g.UNWRAP_ERROR));});},this);},sign:function(p,n){n.error(new N(g.SIGN_NOT_SUPPORTED));},verify:function(p,n,v){v.error(new N(g.VERIFY_NOT_SUPPORTED));}});jd=ob.extend({init:function sa(g){sa.base.call(this,kb.JWK_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,r,C){p(C,function(){var p,n,C;p=r.mechanism;n=r.wrapdata;if(!p || p == v.WRAP && (!n || "string" !== typeof n))throw new ja(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(r));if(!v[p])throw new Ra(g.UNIDENTIFIED_KEYX_MECHANISM,p);switch(p){case v.WRAP:try{C=ta(n);}catch(ya){throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + r.toString());}if(null == C || 0 == C.length)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + r.toString());break;default:C=null;}return new A(p,C);});},createResponseData:function(p,n,v){var A,C,J,V,X,sa,fa;p=v.wrapkey;A=v.wrapdata;C=v.encryptionkey;J=v.hmackey;if(!(p && "string" === typeof p && A && "string" === typeof A && C && "string" === typeof C && J) || "string" !== typeof J)throw new ja(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(v));try{V=ta(p);X=ta(A);}catch(wb){throw new N(g.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(v),wb);}try{sa=ta(C);}catch(wb){throw new N(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(v),wb);}try{fa=ta(J);}catch(wb){throw new N(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(v),wb);}return new r(n,V,X,sa,fa);},generateResponse:function(v,C,X,G){var ua,fa;function V(g,n,A){ua.generateSessionKeys(v,{result:function(v){p(G,function(){sa(g,n,A,v.encryptionKey,v.hmacKey);},ua);},error:function(g){p(G,function(){g instanceof F && g.setEntity(fa);throw g;});}});}function sa(g,A,r,J,V){p(G,function(){n(v,C.mechanism,C.wrapdata,g,{result:function(d){d.wrap(A,{result:function(b){wa(A,r,J,V,b);},error:function(b){p(G,function(){b instanceof F && b.setEntity(fa);throw b;});}});},error:function(d){p(G,function(){d instanceof F && d.setEntity(fa);throw d;});}});},ua);}function wa(g,n,v,A,r){p(G,function(){var d;d=new J(g);d.wrap(v,{result:function(b){d.wrap(A,{result:function(a){Fa(n,r,v,b,A,a);},error:function(a){p(G,function(){a instanceof F && a.setEntity(fa);throw a;});}});},error:function(b){p(G,function(){b instanceof F && b.setEntity(fa);throw b;});}});},ua);}function Fa(g,n,A,C,J,d){p(G,function(){var b;b=v.getTokenFactory();fa?b.renewMasterToken(v,fa,A,J,{result:function(a){p(G,function(){var b,k;b=new ib(v,a);k=new r(a,n,g,C,d);return new ob.KeyExchangeData(k,b,G);},ua);},error:function(a){p(G,function(){a instanceof F && a.setEntity(fa);throw a;});}}):b.createMasterToken(v,X,A,J,{result:function(a){p(G,function(){var b,k;b=new ib(v,a);k=new r(a,n,g,C,d);return new ob.KeyExchangeData(k,b,G);},ua);},error:G.error});},ua);}ua=this;p(G,function(){var n,r;if(!(C instanceof A))throw new ea("Key request data " + JSON.stringify(C) + " was not created by this factory.");n=X;if(X instanceof hb){if(!X.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,X);fa=X;n=X.identity;}r=new Uint8Array(16);v.getRandom().nextBytes(r);zb(r,yb,Jb,{result:function(g){p(G,function(){v.getMslCryptoContext().wrap(g,{result:function(p){V(n,g,p);},error:function(g){p(G,function(){g instanceof F && g.setEntity(fa);throw g;},ua);}});},ua);},error:function(n){p(G,function(){throw new N(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(fa);},ua);}});},ua);},getCryptoContext:function(n,C,X,G,T){var sa;function V(g,v,A,r,C){p(T,function(){var fa;fa=new J(C);fa.unwrap(v.encryptionKey,qb,Ib,{result:function(C){fa.unwrap(v.hmacKey,rb,Sb,{result:function(g){p(T,function(){this.repository.addCryptoContext(v.wrapdata,fa);this.repository.removeCryptoContext(A);return new ib(n,v.masterToken,r,C,g);},sa);},error:function(n){p(T,function(){n instanceof F && n.setEntity(g);throw n;});}});},error:function(n){p(T,function(){n instanceof F && n.setEntity(g);throw n;});}});},sa);}sa=this;p(T,function(){var G,wa;if(!(C instanceof A))throw new ea("Key request data " + JSON.stringify(C) + " was not created by this factory.");if(!(X instanceof r))throw new ea("Key response data " + JSON.stringify(X) + " was not created by this factory.");G=C.mechanism;wa=C.wrapdata;n.getEntityAuthenticationData(null,{result:function(A){p(T,function(){var r,C,fa;r=A.getIdentity();switch(G){case v.PSK:C=new sb(r);fa=n.getEntityAuthenticationFactory(Qa.PSK);if(!fa)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(A);C=fa.getCryptoContext(n,C);C=new J(C.wrapKey);break;case v.MGK:C=new nb(r);fa=n.getEntityAuthenticationFactory(Qa.MGK);if(!fa)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(A);C=fa.getCryptoContext(n,C);C=new J(C.wrapKey);break;case v.WRAP:C=this.repository.getCryptoContext(wa);if(!C)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,oa(wa)).setEntity(A);break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(A);}C.unwrap(X.wrapKey,yb,Jb,{result:function(g){V(A,X,wa,r,g);},error:function(g){p(T,function(){g instanceof F && g.setEntity(A);throw g;});}});},sa);},error:T.error});},sa);}});})();Te=ma.Class.create({addCryptoContext:function(g,n){},getCryptoContext:function(g){},removeCryptoContext:function(g){}});(function(){var v,A,r,J;function n(n,p,A,r,C){switch(A){case v.JWE_RSA:case v.JWEJS_RSA:return new Bb(n,Cb.RSA_OAEP,ub,r,C);case v.JWK_RSA:return new Ac(n,p,r,C,Bc.WRAP_UNWRAP_OAEP);case v.JWK_RSAES:return new Ac(n,p,r,C,Bc.WRAP_UNWRAP_PKCS1);default:throw new N(g.UNSUPPORTED_KEYX_MECHANISM,A);}}v=Hc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};A=Uc=jc.extend({init:function H(g,n,p,v){H.base.call(this,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},mechanism:{value:n,writable:!1,configurable:!1},publicKey:{value:p,writable:!1,configurable:!1},privateKey:{value:v,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.mechanism=this.mechanism;g.publickey=oa(this.publicKey.getEncoded());return g;},equals:function na(g){var n;if(g === this)return !0;if(!(g instanceof Uc))return !1;n=this.privateKey === g.privateKey || this.privateKey && g.privateKey && ab(this.privateKey.getEncoded(),g.privateKey.getEncoded());return na.base.call(this,g) && this.keyPairId == g.keyPairId && this.mechanism == g.mechanism && ab(this.publicKey.getEncoded(),g.publicKey.getEncoded()) && n;},uniqueKey:function ca(){var g,n;g=this.publicKey.getEncoded();n=this.privateKey && this.privateKey.getEncoded();g=ca.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gb(g);n && (g+=":" + gb(n));return g;}});r=function(n,r){p(r,function(){var p,C,J,V;p=n.keypairid;C=n.mechanism;J=n.publickey;if(!p || "string" !== typeof p || !C || !J || "string" !== typeof J)throw new ja(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(n));if(!v[C])throw new Ra(g.UNIDENTIFIED_KEYX_MECHANISM,C);try{V=ta(J);switch(C){case v.JWE_RSA:case v.JWEJS_RSA:case v.JWK_RSA:Zc(V,yc,Jb,{result:function(g){r.result(new A(p,C,g,null));},error:function(g){r.error(g);}});break;case v.JWK_RSAES:Zc(V,Xc,Jb,{result:function(g){r.result(new A(p,C,g,null));},error:function(g){r.error(g);}});break;default:throw new N(g.UNSUPPORTED_KEYX_MECHANISM,C);}}catch(X){if(!(X instanceof F))throw new N(g.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(n),X);throw X;}});};J=Wd=kc.extend({init:function Ja(g,n,p,v){Ja.base.call(this,g,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:n,writable:!1,configurable:!1},encryptionKey:{value:p,writable:!1,configurable:!1},hmacKey:{value:v,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function ra(g){return this === g?!0:g instanceof Wd?ra.base.call(this,g) && this.keyPairId == g.keyPairId && ab(this.encryptionKey,g.encryptionKey) && ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function P(){return P.base.call(this) + ":" + this.keyPairId + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});Bd=ob.extend({init:function sa(){sa.base.call(this,kb.ASYMMETRIC_WRAPPED);},createRequestData:function(g,n,p){r(n,p);},createResponseData:function(n,p,v){var A,r,C,V;n=v.keypairid;A=v.encryptionkey;r=v.hmackey;if(!n || "string" !== typeof n || !A || "string" !== typeof A || !r || "string" !== typeof r)throw new ja(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(v));try{C=ta(A);}catch(Fa){throw new N(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(v),Fa);}try{V=ta(r);}catch(Fa){throw new N(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(v),Fa);}return new J(p,n,C,V);},generateResponse:function(g,v,r,C){var G;function T(A,J){p(C,function(){var fa;fa=n(g,v.keyPairId,v.mechanism,null,v.publicKey);fa.wrap(A,{result:function(g){p(C,function(){fa.wrap(J,{result:function(n){V(A,g,J,n);},error:function(g){p(C,function(){g instanceof F && r instanceof hb && g.setEntity(r);throw g;},G);}});},G);},error:function(g){p(C,function(){g instanceof F && r instanceof hb && g.setEntity(r);throw g;},G);}});},G);}function V(n,A,fa,V){p(C,function(){var T;T=g.getTokenFactory();r instanceof hb?T.renewMasterToken(g,r,n,fa,{result:function(n){p(C,function(){var p,r;p=new ib(g,n);r=new J(n,v.keyPairId,A,V);return new ob.KeyExchangeData(r,p,C);},G);},error:function(g){p(C,function(){g instanceof F && g.setEntity(r);throw g;},G);}}):T.createMasterToken(g,r,n,fa,{result:function(n){p(C,function(){var p,r;p=new ib(g,n);r=new J(n,v.keyPairId,A,V);return new ob.KeyExchangeData(r,p,C);},G);},error:C.error});},G);}G=this;p(C,function(){if(!(v instanceof A))throw new ea("Key request data " + JSON.stringify(v) + " was not created by this factory.");this.generateSessionKeys(g,{result:function(g){T(g.encryptionKey,g.hmacKey);},error:function(g){p(C,function(){g instanceof F && r instanceof hb && g.setEntity(r);throw g;},G);}});},G);},getCryptoContext:function(v,r,C,G,T){var V;V=this;p(T,function(){var X,sa,xa;if(!(r instanceof A))throw new ea("Key request data " + JSON.stringify(r) + " was not created by this factory.");if(!(C instanceof J))throw new ea("Key response data " + JSON.stringify(C) + " was not created by this factory.");X=r.keyPairId;sa=C.keyPairId;if(X != sa)throw new Ra(g.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + X + "; response " + sa).setEntity(G);sa=r.privateKey;if(!sa)throw new Ra(g.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(G);xa=n(v,X,r.mechanism,sa,null);xa.unwrap(C.encryptionKey,qb,Ib,{result:function(g){xa.unwrap(C.hmacKey,rb,Sb,{result:function(n){v.getEntityAuthenticationData(null,{result:function(A){p(T,function(){var p;p=A.getIdentity();return new ib(v,C.masterToken,p,g,n);},V);},error:function(g){p(T,function(){g instanceof F && g.setEntity(G);throw g;},V);}});},error:function(g){p(T,function(){g instanceof F && g.setEntity(G);throw g;},V);}});},error:function(g){p(T,function(){g instanceof F && g.setEntity(G);throw g;},V);}});},V);}});})();Se=ma.Class.create({init:function(g){var n,p,r,J,w,H,G,ca;n=bb.parser();p=[];r=[];G=0;ca=!1;n.onerror=function(g){ca || (ca=!0,n.end());};n.onopenobject=function(g){var n;if(J)(J[H]={},r.push(J),J=J[H]);else if(w){n={};r.push(w);w.push(n);J=n;w=ha;}else J={};H=g;};n.oncloseobject=function(){var g;g=r.pop();g?"object" === typeof g?J=g:(J=ha,w=g):(p.push(J),G=n.index,J=ha);};n.onopenarray=function(){var g;if(J)(J[H]=[],r.push(J),w=J[H],J=ha);else if(w){g=[];r.push(w);w.push(g);w=g;}else w=[];};n.onclosearray=function(){var g;g=r.pop();g?"object" === typeof g?(J=g,w=ha):w=g:(p.push(w),G=n.index,w=ha);};n.onkey=function(g){H=g;};n.onvalue=function(g){J?J[H]=g:w?w.push(g):(p.push(g),G=n.index);};n.write(g).close();Object.defineProperties(this,{_values:{value:p,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:G,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?ha:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var n,v,A,r,J;n=kd="entityauthdata";v=Yd="mastertoken";A=Zd="headerdata";r=$d="errordata";J=ld="signature";Xd=function(w,H,C,G){p(G,function(){var p,ca,P,na,V,X;p=H[n];ca=H[v];P=H[J];if(p && "object" !== typeof p || ca && "object" !== typeof ca || "string" !== typeof P)throw new ja(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));try{na=ta(P);}catch(wa){throw new Da(g.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(H),wa);}V=null;p && (V=Kd(w,p));X=H[A];if(X != ha && null != X){if("string" !== typeof X)throw new ja(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));ca?Tb(w,ca,{result:function(g){md(w,X,V,g,na,C,G);},error:function(g){G.error(g);}}):md(w,X,V,null,na,C,G);}else if((p=H[r],p != ha && null != p)){if("string" !== typeof p)throw new ja(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));ae(w,p,V,na,G);}else throw new ja(g.JSON_PARSE_ERROR,JSON.stringify(H));});};})();(function(){function r(g,n){this.errordata=g;this.signature=n;}Nb=ma.Class.create({init:function(n,A,r,J,w,H,G,ca,Ja,ra){var v;v=this;p(ra,function(){var C,V;0 > H && (H=-1);if(0 > J || J > Ga)throw new ea("Message ID " + J + " is out of range.");if(!A)throw new Da(g.MESSAGE_ENTITY_NOT_FOUND);if(Ja)return (Object.defineProperties(this,{entityAuthenticationData:{value:A,writable:!1,configurable:!1},recipient:{value:r,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:w,writable:!1,configurable:!1},internalCode:{value:H,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:Ja.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ja.signature,writable:!1,enumerable:!1,configurable:!1}}),this);C={};r && (C.recipient=r);C.messageid=J;C.errorcode=w;0 < H && (C.internalcode=H);G && (C.errormsg=G);ca && (C.usermsg=ca);try{V=n.getEntityAuthenticationFactory(A.scheme).getCryptoContext(n,A);}catch(X){throw (X instanceof F && (X.setEntity(A),X.setMessageId(J)),X);}C=Ua(JSON.stringify(C),La);V.encrypt(C,{result:function(g){p(ra,function(){V.sign(g,{result:function(n){p(ra,function(){Object.defineProperties(this,{entityAuthenticationData:{value:A,writable:!1,configurable:!1},recipient:{value:r,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:w,writable:!1,configurable:!1},internalCode:{value:H,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){p(ra,function(){g instanceof F && (g.setEntity(A),g.setMessageId(J));throw g;},v);}});},v);},error:function(g){p(ra,function(){g instanceof F && (g.setEntity(A),g.setMessageId(J));throw g;},v);}});},v);},toJSON:function(){var g;g={};g[kd]=this.entityAuthenticationData;g[$d]=oa(this.errordata);g[ld]=oa(this.signature);return g;}});be=function(g,n,p,r,w,H,G,ca,Ja){new Nb(g,n,p,r,w,H,G,ca,null,Ja);};ae=function(v,A,C,J,w){p(w,function(){var H,G,ca;if(!C)throw new Da(g.MESSAGE_ENTITY_NOT_FOUND);try{G=C.scheme;ca=v.getEntityAuthenticationFactory(G);if(!ca)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,G);H=ca.getCryptoContext(v,C);}catch(Ja){throw (Ja instanceof F && Ja.setEntity(C),Ja);}try{A=ta(A);}catch(Ja){throw new Da(g.HEADER_DATA_INVALID,A,Ja).setEntity(C);}if(!A || 0 == A.length)throw new Da(g.HEADER_DATA_MISSING,A).setEntity(C);H.verify(A,J,{result:function(G){p(w,function(){if(!G)throw new N(g.MESSAGE_VERIFICATION_FAILED).setEntity(C);H.decrypt(A,{result:function(H){p(w,function(){var p,G,V,ca,na,T,xa,Ja;p=Va(H,La);try{G=JSON.parse(p);}catch(ua){if(ua instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"errordata " + p,ua).setEntity(C);throw ua;}V=G.recipient !== ha?G.recipient:null;ca=parseInt(G.messageid);na=parseInt(G.errorcode);T=parseInt(G.internalcode);xa=G.errormsg;Ja=G.usermsg;if(V && "string" !== typeof V || !ca || ca != ca || !na || na != na || G.internalcode && T != T || xa && "string" !== typeof xa || Ja && "string" !== typeof Ja)throw new ja(g.JSON_PARSE_ERROR,"errordata " + p).setEntity(C);if(0 > ca || ca > Ga)throw new Da(g.MESSAGE_ID_OUT_OF_RANGE,"errordata " + p).setEntity(C);G=!1;for(var F in n){if(n[F] == na){G=!0;break;}}G || (na=n.FAIL);if(T){if(0 > T)throw new Da(g.INTERNAL_CODE_NEGATIVE,"errordata " + p).setEntity(C).setMessageId(ca);}else T=-1;p=new r(A,J);new Nb(v,C,V,ca,na,T,xa,Ja,p,w);});},error:function(g){p(w,function(){g instanceof F && g.setEntity(C);throw g;});}});});},error:function(g){p(w,function(){g instanceof F && g.setEntity(C);throw g;});}});});};})();Ue=ma.Class.create({getUserMessage:function(g,n){}});(function(){nd=function(g,n){var p,v;if(!g || !n)return null;p=g.compressionAlgorithms.filter(function(g){for(var p=0;p < n.compressionAlgorithms.length;++p){if(g == n.compressionAlgorithms[p])return !0;}return !1;});v=g.languages.filter(function(g){for(var p=0;p < n.languages.length;++p){if(g == n.languages[p])return !0;}return !1;});return new lc(p,v);};lc=ma.Class.create({init:function(g,n){g || (g=[]);n || (n=[]);g.sort();Object.defineProperties(this,{compressionAlgorithms:{value:g,writable:!1,enumerable:!0,configurable:!1},languages:{value:n,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var g;g={};g.compressionalgos=this.compressionAlgorithms;g.languages=this.languages;return g;},equals:function(g){return this === g?!0:g instanceof lc?ud(this.compressionAlgorithms,g.compressionAlgorithms) && ud(this.languages,g.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});ce=function(n){var p,r,J;p=n.compressionalgos;r=n.languages;if(p && !(p instanceof Array) || r && !(r instanceof Array))throw new ja(g.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(n));n=[];for(var C=0;p && C < p.length;++C){J=p[C];Pb[J] && n.push(J);}return new lc(n,r);};})();(function(){var ra,P;function n(g,n,p,w,v){this.customer=g;this.sender=n;this.messageCryptoContext=p;this.headerdata=w;this.signature=v;}function v(g,n,p,w,v,H,r,A,C,J,G,ca,P,pa,na,d,b,a,c,k){return {cryptoContext:{value:n,writable:!1,configurable:!1},customer:{value:p,writable:!1,configurable:!1},entityAuthenticationData:{value:w,writable:!1,configurable:!1},masterToken:{value:v,writable:!1,configurable:!1},sender:{value:H,writable:!1,configurable:!1},messageId:{value:r,writable:!1,configurable:!1},nonReplayableId:{value:d,writable:!1,configurable:!1},keyRequestData:{value:A,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthenticationData:{value:J,writable:!1,configurable:!1},userIdToken:{value:G,writable:!1,configurable:!1},serviceTokens:{value:ca,writable:!1,configurable:!1},peerMasterToken:{value:P,writable:!1,configurable:!1},peerUserIdToken:{value:pa,writable:!1,configurable:!1},peerServiceTokens:{value:na,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:k,writable:!1,enumerable:!1,configurable:!1}};}function r(n,p,w){var v;if(w){if(p=n.getMslStore().getCryptoContext(w))return p;if(!w.isVerified() || !w.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,w);return new ib(n,w);}w=p.scheme;v=n.getEntityAuthenticationFactory(w);if(!v)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,w);return v.getCryptoContext(n,p);}function C(n,w,v,H,r){p(r,function(){w.verify(v,H,{result:function(n){p(r,function(){if(!n)throw new N(g.MESSAGE_VERIFICATION_FAILED);w.decrypt(v,{result:function(g){p(r,function(){return Va(g,La);});},error:function(g){r.error(g);}});});},error:function(g){r.error(g);}});});}function J(g,n,w){p(w,function(){if(n)Sd(g,n,w);else return null;});}function w(g,n,w,v){p(v,function(){if(n)Ub(g,n,w,v);else return null;});}function H(g,n,w,v){p(v,function(){if(w)ge(g,n,w,v);else return null;});}function na(n,w,v,H,r,A,C){var G;function J(w,C,ca){var fa,P;if(C >= w.length){fa=[];for(P in G){fa.push(G[P]);}ca.result(fa);}else {fa=w[C];if("object" !== typeof fa)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + A);Ic(n,fa,v,H,r,{result:function(g){p(ca,function(){G[g.uniqueKey()]=g;J(w,C + 1,ca);});},error:function(g){ca.error(g);}});}}G={};p(C,function(){if(w){if(!(w instanceof Array))throw new ja(g.JSON_PARSE_ERROR,"headerdata " + A);J(w,0,C);}else return [];});}function ca(n,w,v,H,r,A){function C(n,w,v){p(v,function(){var p;p=w.peermastertoken;if(p && "object" !== typeof p)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r);if(!p)return null;Tb(n,p,v);});}function J(n,w,v,H){p(H,function(){var p;p=w.peeruseridtoken;if(p && "object" !== typeof p)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r);if(!p)return null;Ub(n,p,v,H);});}p(A,function(){if(!n.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};C(n,w,{result:function(g){p(A,function(){var C;C=v?v.masterToken:g;J(n,w,C,{result:function(v){p(A,function(){na(n,w.peerservicetokens,C,v,H,r,{result:function(n){p(A,function(){return {peerMasterToken:g,peerUserIdToken:v,peerServiceTokens:n};});},error:function(g){p(A,function(){g instanceof F && (g.setEntity(C),g.setUser(v));throw g;});}});});},error:function(g){p(A,function(){g instanceof F && g.setEntity(C);throw g;});}});});},error:A.error});});}function Ja(n,w,v,H){var A;function r(g,w){p(H,function(){if(w >= g.length)return A;Rd(n,g[w],{result:function(n){p(H,function(){A.push(n);r(g,w + 1);});},error:function(g){H.error(g);}});});}A=[];p(H,function(){var n;n=w.keyrequestdata;if(!n)return A;if(!(n instanceof Array))throw new ja(g.JSON_PARSE_ERROR,"headerdata " + v);r(n,0);});}ra=ee=ma.Class.create({init:function(g,n,p,w,v,H,r,A,C){Object.defineProperties(this,{messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:n,writable:!1,configurable:!1},renewable:{value:p,writable:!1,configurable:!1},capabilities:{value:w,writable:!1,configurable:!1},keyRequestData:{value:v,writable:!1,configurable:!1},keyResponseData:{value:H,writable:!1,configurable:!1},userAuthData:{value:r,writable:!1,configurable:!1},userIdToken:{value:A,writable:!1,configurable:!1},serviceTokens:{value:C,writable:!1,configurable:!1}});}});P=fe=ma.Class.create({init:function(g,n,p){Object.defineProperties(this,{peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:n,writable:!1,configurable:!1},peerServiceTokens:{value:p,writable:!1,configurable:!1}});}});mc=ma.Class.create({init:function(g,n,w,H,A,C,J){var ca;function G(fa){p(J,function(){var G,P,T,na,V,d,b,a,c,k,h,m,f,q,l,u,t;n=w?null:n;G=H.nonReplayableId;P=H.renewable;T=H.capabilities;na=H.messageId;V=H.keyRequestData?H.keyRequestData:[];d=H.keyResponseData;b=H.userAuthData;a=H.userIdToken;c=H.serviceTokens?H.serviceTokens:[];g.isPeerToPeer()?(k=A.peerMasterToken,h=A.peerUserIdToken,m=A.peerServiceTokens?A.peerServiceTokens:[]):(h=k=null,m=[]);if(0 > na || na > Ga)throw new ea("Message ID " + na + " is out of range.");if(!n && !w)throw new ea("Message entity authentication data or master token must be provided.");d?g.isPeerToPeer()?(f=w,q=d.masterToken):(f=d.masterToken,q=k):(f=w,q=k);if(a && (!f || !a.isBoundTo(f)))throw new ea("User ID token must be bound to a master token.");if(h && (!q || !h.isBoundTo(q)))throw new ea("Peer user ID token must be bound to a peer master token.");c.forEach(function(b){if(b.isMasterTokenBound() && (!f || !b.isBoundTo(f)))throw new ea("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!a || !b.isBoundTo(a)))throw new ea("User ID token bound service tokens must be bound to the provided user ID token.");},this);m.forEach(function(a){if(a.isMasterTokenBound() && (!q || !a.isBoundTo(q)))throw new ea("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound() && (!h || !a.isBoundTo(h)))throw new ea("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(C){l=C.customer;u=C.messageCryptoContext;t=v(g,u,l,n,w,fa,na,V,d,b,a,c,k,h,m,G,P,T,C.headerdata,C.signature);Object.defineProperties(this,t);return this;}l=a?a.customer:null;t={};fa && (t.sender=fa);t.messageid=na;"number" === typeof G && (t.nonreplayableid=G);t.renewable=P;T && (t.capabilities=T);0 < V.length && (t.keyrequestdata=V);d && (t.keyresponsedata=d);b && (t.userauthdata=b);a && (t.useridtoken=a);0 < c.length && (t.servicetokens=c);k && (t.peermastertoken=k);h && (t.peeruseridtoken=h);0 < m.length && (t.peerservicetokens=m);try{u=r(g,n,w);}catch(x){throw (x instanceof F && (x.setEntity(w),x.setEntity(n),x.setUser(a),x.setUser(b),x.setMessageId(na)),x);}t=Ua(JSON.stringify(t),La);u.encrypt(t,{result:function(f){p(J,function(){u.sign(f,{result:function(q){p(J,function(){var t;t=v(g,u,l,n,w,fa,na,V,d,b,a,c,k,h,m,G,P,T,f,q);Object.defineProperties(this,t);return this;},ca);},error:function(f){p(J,function(){f instanceof F && (f.setEntity(w),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(na));throw f;},ca);}});},ca);},error:function(f){p(J,function(){f instanceof F && (f.setEntity(w),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(na));throw f;},ca);}});},ca);}ca=this;p(J,function(){C?G(C.sender):w?g.getEntityAuthenticationData(null,{result:function(g){g=g.getIdentity();G(g);},error:J.error}):G(null);},ca);},isEncrypting:function(){return this.masterToken || Rc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var g;g={};this.masterToken?g[Yd]=this.masterToken:g[kd]=this.entityAuthenticationData;g[Zd]=oa(this.headerdata);g[ld]=oa(this.signature);return g;}});de=function(g,n,p,w,v,H){new mc(g,n,p,w,v,null,H);};md=function(v,A,G,wa,T,xa,ya){p(ya,function(){var V,X;G=wa?null:G;if(!G && !wa)throw new Da(g.MESSAGE_ENTITY_NOT_FOUND);V=A;try{A=ta(V);}catch(fa){throw new Da(g.HEADER_DATA_INVALID,V,fa);}if(!A || 0 == A.length)throw new Da(g.HEADER_DATA_MISSING,V);try{X=r(v,G,wa);}catch(fa){throw (fa instanceof F && (fa.setEntity(wa),fa.setEntity(G)),fa);}C(v,X,A,T,{result:function(r){p(ya,function(){var C,fa,V,pa,sa;try{C=JSON.parse(r);}catch(d){if(d instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r,d).setEntity(wa).setEntity(G);throw d;}fa=parseInt(C.messageid);if(!fa || fa != fa)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r).setEntity(wa).setEntity(G);if(0 > fa || fa > Ga)throw new Da(g.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + r).setEntity(wa).setEntity(G);V=wa?C.sender:null;if(wa && (!V || "string" !== typeof V))throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r).setEntity(wa).setEntity(G).setMessageId(fa);pa=C.keyresponsedata;if(pa && "object" !== typeof pa)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r).setEntity(wa).setEntity(G).setMessageId(fa);sa=ya;ya={result:function(d){sa.result(d);},error:function(d){d instanceof F && (d.setEntity(wa),d.setEntity(G),d.setMessageId(fa));sa.error(d);}};J(v,pa,{result:function(d){p(ya,function(){var b,a;b=!v.isPeerToPeer() && d?d.masterToken:wa;a=C.useridtoken;if(a && "object" !== typeof a)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r);w(v,a,b,{result:function(a){p(ya,function(){var c;c=C.userauthdata;if(c && "object" !== typeof c)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r);H(v,b,c,{result:function(c){p(ya,function(){var k,f,q;if(c){f=c.scheme;q=v.getUserAuthenticationFactory(f);if(!q)throw new Ca(g.USERAUTH_FACTORY_NOT_FOUND,f).setUser(a).setUser(c);f=wa?wa.identity:G.getIdentity();k=q.authenticate(v,f,c,a);}else k=a?a.customer:null;na(v,C.servicetokens,b,a,xa,r,{result:function(b){p(ya,function(){var f,l,q,h;f=C.nonreplayableid !== ha?parseInt(C.nonreplayableid):null;l=C.renewable;if(f != f || "boolean" !== typeof l)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r);if(0 > f || f > Ga)throw new Da(g.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + r);q=null;h=C.capabilities;if(h){if("object" !== typeof h)throw new ja(g.JSON_PARSE_ERROR,"headerdata " + r);q=ce(h);}Ja(v,C,r,{result:function(h){ca(v,C,d,xa,r,{result:function(m){p(ya,function(){var u,t,x,z;u=m.peerMasterToken;t=m.peerUserIdToken;x=m.peerServiceTokens;z=new ra(fa,f,l,q,h,d,c,a,b);u=new P(u,t,x);t=new n(k,V,X,A,T);new mc(v,G,wa,z,u,t,ya);});},error:ya.error});},error:function(b){p(ya,function(){b instanceof F && (b.setUser(a),b.setUser(c));throw b;});}});});},error:function(f){p(ya,function(){f instanceof F && (f.setEntity(b),f.setUser(a),f.setUser(c));throw f;});}});});},error:ya.error});});},error:ya.error});});},error:ya.error});});},error:ya.error});});};})();(function(){function n(g,n){this.payload=g;this.signature=n;}od=ma.Class.create({init:function(g,n,r,J,w,H,G,ca){var v;v=this;p(ca,function(){var A,C;if(0 > g || g > Ga)throw new ea("Sequence number " + g + " is outside the valid range.");if(0 > n || n > Ga)throw new ea("Message ID " + n + " is outside the valid range.");if(G)return (Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:G.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:G.signature,writable:!1,enumerable:!1,configurable:!1}}),this);J?(A=pd(J,w),A || (J=null,A=w)):(J=null,A=w);C={};C.sequencenumber=g;C.messageid=n;r && (C.endofmsg=r);J && (C.compressionalgo=J);C.data=oa(A);A=Ua(JSON.stringify(C),La);H.encrypt(A,{result:function(A){p(ca,function(){H.sign(A,{result:function(H){p(ca,function(){Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:A,writable:!1,enumerable:!1,configurable:!1},signature:{value:H,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){ca.error(g);}});},v);},error:function(g){ca.error(g);}});},v);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var g;g={};g.payload=oa(this.payload);g.signature=oa(this.signature);return g;}});he=function(g,n,p,r,w,H,G){new od(g,n,p,r,w,H,null,G);};ie=function(v,r,C){p(C,function(){var A,w,H,G;A=v.payload;w=v.signature;if(!A || "string" !== typeof A || "string" !== typeof w)throw new ja(g.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(v));try{H=ta(A);}catch(ca){throw new Da(g.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(v),ca);}try{G=ta(w);}catch(ca){throw new Da(g.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(v),ca);}r.verify(H,G,{result:function(w){p(C,function(){if(!w)throw new N(g.PAYLOAD_VERIFICATION_FAILED);r.decrypt(H,{result:function(w){p(C,function(){var p,v,A,J,ca,na,T;p=Va(w,La);try{v=JSON.parse(p);}catch(xa){if(xa instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"payload chunk payload " + p,xa);throw xa;}A=parseInt(v.sequencenumber);J=parseInt(v.messageid);ca=v.endofmsg;na=v.compressionalgo;v=v.data;if(!A || A != A || !J || J != J || ca && "boolean" !== typeof ca || na && "string" !== typeof na || "string" !== typeof v)throw new ja(g.JSON_PARSE_ERROR,"payload chunk payload " + p);if(0 > A || A > Ga)throw new F(g.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + p);if(0 > J || J > Ga)throw new F(g.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + p);ca || (ca=!1);if(na && !Pb[na])throw new Da(g.UNIDENTIFIED_COMPRESSION,na);try{T=ta(v);}catch(xa){throw new Da(g.PAYLOAD_DATA_CORRUPT,v,xa);}if(T && 0 != T.length)p=na?Jc(na,T):T;else {if(0 < v.length)throw new Da(g.PAYLOAD_DATA_CORRUPT,v);if(ca)p=new Uint8Array(0);else throw new Da(g.PAYLOAD_DATA_MISSING,v);}T=new n(H,G);new od(A,J,ca,na,p,r,T,C);});},error:function(g){C.error(g);}});});},error:function(g){C.error(g);}});});};})();(function(){var C,J;function n(n,v,r,A,C){var H,J,G,ca,na;function w(){p(C,function(){var r,A;J >= v.length && (J=0,++H);if(H >= G.length){if(ca)throw ca;throw new Ra(g.KEYX_FACTORY_NOT_FOUND,JSON.stringify(v));}r=G[H];A=v[J];r.scheme != A.keyExchangeScheme?(++J,w()):r.generateResponse(n,A,na,{result:function(g){C.result(g);},error:function(g){p(C,function(){if(!(g instanceof F))throw g;ca=g;++J;w();});}});});}H=0;J=0;G=n.getKeyExchangeFactories();na=r?r:A;w();}function v(g,v,r,A,C){p(C,function(){var w;w=v.keyRequestData;if(v.isRenewable() && 0 < w.length)A?A.isRenewable() || A.isExpired()?n(g,w,A,null,C):g.getTokenFactory().isNewestMasterToken(g,A,{result:function(v){p(C,function(){if(v)return null;n(g,w,A,null,C);});},error:C.error}):n(g,w,null,r.getIdentity(),C);else return null;});}function r(n,v,r,A){p(A,function(){var p,w,H,C;p=v.userIdToken;w=v.userAuthenticationData;H=v.messageId;if(p && p.isVerified()){if(p.isRenewable() && v.isRenewable() || p.isExpired() || !p.isBoundTo(r)){w=n.getTokenFactory();w.renewUserIdToken(n,p,r,A);return;}}else if(v.isRenewable() && r && w){p=v.customer;if(!p){p=w.scheme;C=n.getUserAuthenticationFactory(p);if(!C)throw new Ca(g.USERAUTH_FACTORY_NOT_FOUND,p).setEntity(r).setUser(w).setMessageId(H);p=C.authenticate(n,r.identity,w,null);}w=n.getTokenFactory();w.createUserIdToken(n,p,r,A);return;}return p;});}C=new Uint8Array(0);J=Vb=function(g){if(0 > g || g > Ga)throw new ea("Message ID " + g + " is outside the valid range.");return g == Ga?0:g + 1;};dc=function(g){if(0 > g || g > Ga)throw new ea("Message ID " + g + " is outside the valid range.");return 0 == g?Ga:g - 1;};Wb=function(g,n,v,r,A){p(A,function(){var w;if(r == ha || null == r){w=g.getRandom();do {r=w.nextLong();}while(0 > r || r > Ga);}else if(0 > r || r > Ga)throw new ea("Message ID " + r + " is outside the valid range.");g.getEntityAuthenticationData(null,{result:function(w){p(A,function(){var p;p=g.getMessageCapabilities();return new Kc(g,r,p,w,n,v,null,null,null,null,null);});},error:function(g){A.error(g);}});});};je=function(g,n,A){p(A,function(){var H,C,G,na,V,X;function w(g){p(A,function(){g instanceof F && (g.setEntity(H),g.setEntity(C),g.setUser(G),g.setUser(na),g.setMessageId(V));throw g;});}H=n.masterToken;C=n.entityAuthenticationData;G=n.userIdToken;na=n.userAuthenticationData;V=n.messageId;X=J(V);v(g,n,C,H,{result:function(v){p(A,function(){var C;C=v?v.keyResponseData.masterToken:C=H;g.getEntityAuthenticationData(null,{result:function(J){p(A,function(){r(g,n,C,{result:function(w){p(A,function(){var p,r,A;G=w;p=nd(n.messageCapabilities,g.getMessageCapabilities());r=n.keyResponseData;A=n.serviceTokens;return g.isPeerToPeer()?new Kc(g,X,p,J,r?r.masterToken:n.peerMasterToken,n.peerUserIdToken,n.peerServiceTokens,H,G,A,v):new Kc(g,X,p,J,r?r.masterToken:H,G,A,null,null,null,v);});},error:w});});},error:w});});},error:w});});};ke=function(g,n,v,r,A){p(A,function(){g.getEntityAuthenticationData(null,{result:function(w){p(A,function(){var p,H;if(n != ha && null != n)p=J(n);else {H=g.getRandom();do {p=H.nextInt();}while(0 > p || p > Ga);}be(g,w,p,v.responseCode,v.internalCode,v.message,r,A);});},error:function(g){A.error(g);}});});};Kc=ma.Class.create({init:function(g,n,p,v,r,A,C,J,G,F,wa){var w,H,ca,na,P;if(!g.isPeerToPeer() && (J || G))throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");w=wa && !g.isPeerToPeer()?wa.keyResponseData.masterToken:r;H=[];w=g.getMslStore().getServiceTokens(w,A);H.push.apply(H,w);C && C.forEach(function(g){H.push(g);},this);P=[];g.isPeerToPeer() && (ca=J,na=G,C=wa?wa.keyResponseData.masterToken:J,G=g.getMslStore().getServiceTokens(C,G),P.push.apply(P,G),F && F.forEach(function(g){P.push(g);},this));Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:v,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:p,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:wa,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:A,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:H,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ca,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:na,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:P,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Rc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Rc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || vd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || vd(this._entityAuthData.scheme);},getHeader:function(n){p(n,function(){var p,w,v;p=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;w=[];for(v in this._keyRequestData){w.push(this._keyRequestData[v]);}if(this._nonReplayable){if(!this._masterToken)throw new Da(g.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);v=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else v=null;p=new ee(this._messageId,v,this._renewable,this._capabilities,w,p,this._userAuthData,this._userIdToken,this._serviceTokens);w=new fe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);de(this._ctx,this._entityAuthData,this._masterToken,p,w,n);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(g){this._nonReplayable=g;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(g){this._renewable=g;return this;},setAuthTokens:function(g,n){var p,v;if(n && !n.isBoundTo(g))throw new ea("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new ea("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{p=this._ctx.getMslStore().getServiceTokens(g,n);}catch(ra){if(ra instanceof F)throw new ea("Invalid master token and user ID token combination despite checking above.",ra);throw ra;}for(var w=this._serviceTokens.length - 1;0 <= w;--w){v=this._serviceTokens[w];(v.isUserIdTokenBound() && !v.isBoundTo(n) || v.isMasterTokenBound() && !v.isBoundTo(g)) && this._serviceTokens.splice(w,1);}p.forEach(function(g){this.excludeServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._serviceTokens.push(g);},this);this._masterToken=g;this._userIdToken=n;},setUserAuthenticationData:function(g){this._userAuthData=g;return this;},setCustomer:function(g,n){var w;w=this;p(n,function(){var v;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new ea("User ID token or peer user ID token already exists for the remote user.");v=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!v)throw new ea("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,g,v,{result:function(g){p(n,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=g:(this._userIdToken=g,this._userAuthData=null);return !0;},w);},error:function(g){n.error(g);}});},w);},addKeyRequestData:function(g){this._keyRequestData[g.uniqueKey()]=g;return this;},removeKeyRequestData:function(g){delete this._keyRequestData[g.uniqueKey()];return this;},addServiceToken:function(n){var p;p=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(n.isMasterTokenBound() && !n.isBoundTo(p))throw new Da(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; mt " + JSON.stringify(p)).setEntity(p);if(n.isUserIdTokenBound() && !n.isBoundTo(this._userIdToken))throw new Da(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(p).setUser(this._userIdToken);this.excludeServiceToken(n.name,n.isMasterTokenBound(),n.isUserIdTokenBound());this._serviceTokens.push(n);return this;},addServiceTokenIfAbsent:function(g){var p;for(var n=this._serviceTokens.length - 1;0 <= n;--n){p=this._serviceTokens[n];if(p.name == g.name && p.isMasterTokenBound() == g.isMasterTokenBound() && p.isUserIdTokenBound() == g.isUserIdTokenBound())return this;}this.addServiceToken(g);return this;},excludeServiceToken:function(){var g,n,p,r;1 == arguments.length?(p=arguments[0],g=p.name,n=p.isMasterTokenBound(),p=p.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var v=this._serviceTokens.length - 1;0 <= v;--v){r=this._serviceTokens[v];r.name == g && r.isMasterTokenBound() == n && r.isUserIdTokenBound() == p && this._serviceTokens.splice(v,1);}return this;},deleteServiceToken:function(){var g,n,v,r;if(2 == arguments.length){v=arguments[0];g=v.name;v.isMasterTokenBound();v.isUserIdTokenBound();n=arguments[1];}else (arguments.length=4,g=arguments[0],n=arguments[3]);r=this;p(n,function(){var w,v;w=originalToken.isMasterTokenBound()?this._masterToken:null;v=originalToken.isUserIdTokenBound()?this._userIdToken:null;Db(this._ctx,g,C,w,v,!1,null,new cc(),{result:function(g){p(n,function(){return this.addServiceToken(g);},r);},error:function(g){g instanceof F && (g=new ea("Failed to create and add empty service token to message.",g));n.error(g);}});},r);},getServiceTokens:function(){var g;g=[];g.push.apply(g,this._serviceTokens);return g;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(n,p){var w,r;if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(p && !n)throw new ea("Peer master token cannot be null when setting peer user ID token.");if(p && !p.isBoundTo(n))throw new Da(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + p + "; mt " + n).setEntity(n).setUser(p);try{w=this._ctx.getMslStore().getServiceTokens(n,p);}catch(ra){if(ra instanceof F)throw new ea("Invalid peer master token and user ID token combination despite proper check.",ra);throw ra;}for(var v=this._peerServiceTokens.length - 1;0 <= v;--v){r=this._peerServiceTokens[v];(r.isUserIdTokenBound() && !r.isBoundTo(p) || r.isMasterTokenBound() && !r.isBoundTo(n)) && this._peerServiceTokens.slice(v,1);}w.forEach(function(g){this.excludePeerServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._peerServiceTokens.push(g);},this);this._peerUserIdToken=p;this._peerMasterToken=n;return this;},addPeerServiceToken:function(n){if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer service tokens when not in peer-to-peer mode.");if(n.isMasterTokenBound() && !n.isBoundTo(this._peerMasterToken))throw new Da(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(n.isUserIdTokenBound() && !n.isBoundTo(this._peerUserIdToken))throw new Da(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(n.name,n.isMasterTokenBound(),n.isUserIdTokenBound());this._peerServiceTokens.push(n);return this;},addPeerServiceTokenIfAbsent:function(g){var p;for(var n=this._peerServiceTokens.length - 1;0 <= n;--n){p=this._peerServiceTokens[n];if(p.name == g.name && p.isMasterTokenBound() == g.isMasterTokenBound() && p.isUserIdTokenBound() == g.isUserIdTokenBound())return this;}this.addPeerServiceToken(g);return this;},excludePeerServiceToken:function(){var g,n,p,r;1 == arguments.length?(p=arguments[0],g=p.name,n=p.isMasterTokenBound(),p=p.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var v=this._peerServiceTokens.length - 1;0 <= v;--v){r=this._peerServiceTokens[v];r.name == g && r.isMasterTokenBound() == n && r.isUserIdTokenBound() == p && this._peerServiceTokens.splice(v,1);}return this;},deletePeerServiceToken:function(){var g,n,v,r,A,J;if(2 == arguments.length){A=arguments[0];g=A.name;n=A.isMasterTokenBound();v=A.isUserIdTokenBound();r=arguments[1];}else (arguments.length=4,g=arguments[0],n=arguments[1],v=arguments[2],r=arguments[3]);J=this;p(r,function(){Db(this._ctx,g,C,n?this._peerMasterToken:null,v?this._peerUserIdToken:null,!1,null,new cc(),{result:function(g){p(r,function(){return this.addPeerServiceToken(g);},J);},error:function(g){g instanceof F && (g=new ea("Failed to create and add empty peer service token to message.",g));r.error(g);}});},J);},getPeerServiceTokens:function(){var g;g=[];g.push.apply(g,this._peerServiceTokens);return g;}});})();(function(){function g(g,n){return n[g]?n[g]:n[""];}function n(g){var n;n=g.builder.getKeyExchangeData();return n && !g.ctx.isPeerToPeer()?n.keyResponseData.masterToken:g.builder.getMasterToken();}le=ma.Class.create({init:function(g,n,p){g={ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:n.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:p,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},isPrimaryMasterTokenAvailable:function(){return n(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(g){try{return (this.builder.addServiceToken(g),!0);}catch(C){if(C instanceof Da)return !1;throw C;}},addPeerServiceToken:function(g){try{return (this.builder.addPeerServiceToken(g),!0);}catch(C){if(C instanceof Da)return !1;throw C;}},addUnboundPrimaryServiceToken:function(n,v,r,w,H){var A;A=this;p(H,function(){var C;C=g(n,this.cryptoContexts);if(!C)return !1;Db(this.ctx,n,v,null,null,r,w,C,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(ra){if(ra instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",ra);throw ra;}return !0;},A);},error:function(g){H.error(g);}});},A);},addUnboundPeerServiceToken:function(n,v,r,w,H){var A;A=this;p(H,function(){var C;C=g(n,this.cryptoContexts);if(!C)return !1;Db(this.ctx,n,v,null,null,r,w,C,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(ra){if(ra instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",ra);throw ra;}return !0;},A);},error:function(g){H.error(g);}});},A);},addMasterBoundPrimaryServiceToken:function(v,r,J,w,H){var A;A=this;p(H,function(){var C,G;C=n(this);if(!C)return !1;G=g(v,this.cryptoContexts);if(!G)return !1;Db(this.ctx,v,r,C,null,J,w,G,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(P){if(P instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",P);throw P;}return !0;},A);},error:function(g){H.error(g);}});},A);},addMasterBoundPeerServiceToken:function(n,v,r,w,H){var A;A=this;p(H,function(){var C,J;C=this.builder.getPeerMasterToken();if(!C)return !1;J=g(n,this.cryptoContexts);if(!J)return !1;Db(this.ctx,n,v,C,null,r,w,J,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(P){if(P instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",P);throw P;}return !0;},A);},error:function(g){H.error(g);}});},A);},addUserBoundPrimaryServiceToken:function(v,r,J,w,H){var A;A=this;p(H,function(){var C,G,F;C=n(this);if(!C)return !1;G=this.builder.getUserIdToken();if(!G)return !1;F=g(v,this.cryptoContexts);if(!F)return !1;Db(this.ctx,v,r,C,G,J,w,F,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(sa){if(sa instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",sa);throw sa;}return !0;},A);},error:function(g){H.error(g);}});},A);},addUserBoundPeerServiceToken:function(n,v,r,w,H){var A;A=this;p(H,function(){var C,J,G;C=this.builder.getPeerMasterToken();if(!C)return !1;J=this.builder.getPeerUserIdToken();if(!J)return !1;G=g(n,this.cryptoContexts);if(!G)return !1;Db(this.ctx,n,v,C,J,r,w,G,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(sa){if(sa instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",sa);throw sa;}return !0;},A);},error:function(g){H.error(g);}});},A);},excludePrimaryServiceToken:function(){var g,n,p,v;if(1 == arguments.length){v=arguments[0];g=v.name;n=v.isMasterTokenBound();p=v.isUserIdTokenBound();}else (arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var r=this.builder.getServiceTokens(),G=0;G < r.length;++G){if((v=r[G],v.name == g && v.isMasterTokenBound() == n && v.isUserIdTokenBound() == p))return (this.builder.excludeServiceToken(g,n,p),!0);}return !1;},excludePeerServiceToken:function(){var g,n,p,v;if(1 == arguments.length){v=arguments[0];g=v.name;n=v.isMasterTokenBound();p=v.isUserIdTokenBound();}else (arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var r=this.builder.getPeerServiceTokens(),G=0;G < r.length;++G){if((v=r[G],v.name == g && v.isMasterTokenBound() == n && v.isUserIdTokenBound() == p))return (this.builder.excludePeerServiceToken(g,n,p),!0);}return !1;},deletePrimaryServiceToken:function(){var g,n,v,w,r;if(2 == arguments.length){r=arguments[0];g=r.name;n=r.isMasterTokenBound();v=r.isUserIdTokenBound();w=arguments[1];}else 4 == arguments.length && (g=arguments[0],n=arguments[1],v=arguments[2],w=arguments[3]);p(w,function(){var A;for(var p=this.builder.getServiceTokens(),r=0;r < p.length;++r){A=p[r];if(A.name == g && A.isMasterTokenBound() == n && A.isUserIdTokenBound() == v){this.builder.deleteServiceToken(g,n,v,{result:function(){w.result(!0);},error:function(g){w.error(g);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var g,n,v,w,r;if(2 == arguments.length){r=arguments[0];g=r.name;n=r.isMasterTokenBound();v=r.isUserIdTokenBound();w=arguments[1];}else 4 == arguments.length && (g=arguments[0],n=arguments[1],v=arguments[2],w=arguments[3]);p(w,function(){var A;for(var p=this.builder.getPeerServiceTokens(),r=0;r < p.length;++r){A=p[r];if(A.name == g && A.isMasterTokenBound() == n && A.isUserIdTokenBound() == v){this.builder.deletePeerServiceToken(g,n,v,{result:function(){w.result(!0);},error:function(g){w.error(g);}});return;}}return !1;},this);}});})();(function(){function n(n,r,C,J){p(J,function(){var A,G,ca,Ja,ra,P;function v(){p(J,function(){var w;if(P >= C.length){if(ra)throw ra;throw new Ra(g.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(C));}w=C[P];ca != w.keyExchangeScheme?(++P,v()):Ja.getCryptoContext(n,w,G,A,{result:J.result,error:function(g){p(J,function(){if(!(g instanceof F))throw g;ra=g;++P;v();});}});});}A=r.masterToken;G=r.keyResponseData;if(!G)return null;ca=G.keyExchangeScheme;Ja=n.getKeyExchangeFactory(ca);if(!Ja)throw new Ra(g.KEYX_FACTORY_NOT_FOUND,ca);P=0;v();});}me=gd.extend({init:function(p,A,C,G,w,H,na){var v;v=this;r(na,function(){var na;function r(){v._ready=!0;v._readyQueue.add(!0);}function J(g,n){var p;try{p=n.masterToken;g.getTokenFactory().isMasterTokenRevoked(g,p,{result:function(w){w?(v._errored=new Rb(w,p).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):P(g,n);},error:function(g){g instanceof F && (g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));v._errored=g;r();}});}catch(ya){ya instanceof F && (ya.setEntity(n.masterToken),ya.setUser(n.userIdToken),ya.setUser(n.userAuthenticationData),ya.setMessageId(n.messageId));v._errored=ya;r();}}function P(g,n){var p,w;try{p=n.masterToken;w=n.userIdToken;w?g.getTokenFactory().isUserIdTokenRevoked(g,p,w,{result:function(A){A?(v._errored=new MslUserIdTokenException(A,w).setEntity(p).setUser(w).setMessageId(n.messageId),r()):ca(g,n);},error:function(g){g instanceof F && (g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));v._errored=g;r();}}):ca(g,n);}catch(Fa){Fa instanceof F && (Fa.setEntity(n.masterToken),Fa.setUser(n.userIdToken),Fa.setUser(n.userAuthenticationData),Fa.setMessageId(n.messageId));v._errored=Fa;r();}}function ca(n,p){var w;try{w=p.masterToken;w.isExpired()?p.isRenewable() && 0 != p.keyRequestData.length?n.getTokenFactory().isMasterTokenRenewable(n,w,{result:function(g){g?(v._errored=new Da(g,"Master token is expired and not renewable.").setEntity(w).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),r()):V(n,p);},error:function(g){g instanceof F && (g.setEntity(p.masterToken),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));v._errored=g;r();}}):(v._errored=new Da(g.MESSAGE_EXPIRED,JSON.stringify(p)).setEntity(w).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),r()):V(n,p);}catch(ya){ya instanceof F && (ya.setEntity(p.masterToken),ya.setUser(p.userIdToken),ya.setUser(p.userAuthenticationData),ya.setMessageId(p.messageId));v._errored=ya;r();}}function V(n,p){var w,A;try{w=p.masterToken;A=p.nonReplayableId;"number" === typeof A?w?n.getTokenFactory().acceptNonReplayableId(n,w,A,{result:function(n){n || (v._errored=new Da(g.MESSAGE_REPLAYED,JSON.stringify(p)).setEntity(w).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId));r();},error:function(g){g instanceof F && (g.setEntity(w),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));v._errored=g;r();}}):(v._errored=new Da(g.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(p)).setEntity(p.entityAuthenticationData).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),r()):r();}catch(Fa){Fa instanceof F && (Fa.setEntity(p.masterToken),Fa.setEntity(p.entityAuthenticationData),Fa.setUser(p.userIdToken),Fa.setUser(p.userAuthenticationData),Fa.setMessageId(p.messageId));v._errored=Fa;r();}}na={_source:{value:A,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ha,writable:!0,enumerable:!1,configurable:!1},_charset:{value:C,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:H,writable:!1,enumerable:!1,configurable:!1},_header:{value:ha,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ha,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ha,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);Qd(v._source,H,{result:function(A){v._json=A;v._jsonIndex=0;null === v._json?(v._errored=new ja(g.MESSAGE_DATA_MISSING),r()):Xd(p,v._json[v._jsonIndex++],w,{result:function(g){var w;v._header=g;if(v._header instanceof Nb)(v._keyxCryptoContext=null,v._cryptoContext=null,r());else {w=v._header;n(p,w,G,{result:function(g){var n;try{v._keyxCryptoContext=g;p.isPeerToPeer() || !v._keyxCryptoContext?v._cryptoContext=w.cryptoContext:v._cryptoContext=v._keyxCryptoContext;try{n=w.masterToken;n && (p.isPeerToPeer() || n.isVerified())?J(p,w):V(p,w);}catch(ua){ua instanceof F && (ua.setEntity(w.masterToken),ua.setUser(w.userIdToken),ua.setUser(w.userAuthenticationData),ua.setMessageId(w.messageId));v._errored=ua;r();}}catch(ua){ua instanceof F && (ua.setEntity(w.masterToken),ua.setEntity(w.entityAuthenticationData),ua.setUser(w.userIdToken),ua.setUser(w.userAuthenticationData),ua.setMessageId(w.messageId));v._errored=ua;r();}},error:function(g){g instanceof F && (g.setEntity(w.masterToken),g.setEntity(w.entityAuthenticationData),g.setUser(w.userIdToken),g.setUser(w.userAuthenticationData),g.setMessageId(w.messageId));v._errored=g;r();}});}},error:function(g){v._errored=g;r();}});},timeout:function(){v._timedout=!0;r();},error:function(g){v._errored=g;r();}});return this;},v);},nextData:function(n,p){var v;v=this;r(p,function(){var w;function n(g){r(g,function(){var p;if(this._jsonIndex < this._json.length)return p=this._json[this._jsonIndex++];Qd(this._source,this._timeout,{result:function(p){p && p.length && 0 < p.length?(p.forEach(function(g){this._json.push(g);}),n(g)):(this._eom=!0,g.result(null));},timeout:function(){g.timeout();},error:function(n){g.error(n);}});},v);}w=this.getMessageHeader();if(!w)throw new ea("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;n({result:function(n){r(p,function(){if(!n)return null;if("object" !== typeof n)throw new ja(g.MESSAGE_FORMAT_ERROR);ie(n,this._cryptoContext,{result:function(n){r(p,function(){var p,v,r,A;p=w.masterToken;v=w.entityAuthenticationData;r=w.userIdToken;A=w.getUserAuthenticationData;if(n.messageId != w.messageId)throw new Da(g.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + n.messageId + " header mid " + w.messageId).setEntity(p).setEntity(v).setUser(r).setUser(A);if(n.sequenceNumber != this._payloadSequenceNumber)throw new Da(g.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + n.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(p).setEntity(v).setUser(r).setUser(A);++this._payloadSequenceNumber;n.isEndOfMessage() && (this._eom=!0);p=n.data;this._payloads.push(p);this._payloadIndex=-1;return p;},v);},error:function(n){n instanceof SyntaxError && (n=new ja(g.JSON_PARSE_ERROR,"payloadchunk",n));p.error(n);}});},v);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},v);},isReady:function(g,n){var v;function p(){r(n,function(){if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;return !0;}},v);}v=this;r(n,function(){this._ready?p():this._readyQueue.poll(g,{result:function(g){r(n,function(){if(g === ha)return !1;p();},v);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},v);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorHeader:function(){return this._header instanceof Nb?this._header:null;},getIdentity:function(){var g,n;g=this.getMessageHeader();if(g){n=g.masterToken;return n?n.identity:g.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var g;g=this.getMessageHeader();return g?g.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(g){this._closeSource=g;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(g,n,p){var w;function v(){r(p,function(){var A,C,G,J;function v(p){r(p,function(){var A,H,P;if(C && J >= C.length)return C.subarray(0,J);A=-1;if(this._currentPayload){H=this._currentPayload.length - this._payloadOffset;if(!C){P=H;if(-1 != this._payloadIndex)for(var ca=this._payloadIndex;ca < this._payloads.length;++ca){P+=this._payloads[ca].length;}0 < P && (C=new Uint8Array(P));}H=Math.min(H,C?C.length - J:0);0 < H && (A=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + H),C.set(A,G),A=H,G+=H,this._payloadOffset+=H);}-1 != A?(J+=A,v(p)):this.nextData(n,{result:function(n){r(p,function(){if(this._aborted)return C?C.subarray(0,J):new Uint8Array(0);this._currentPayload=n;this._payloadOffset=0;if(this._currentPayload)v(p);else return 0 == J && 0 != g?null:C?C.subarray(0,J):new Uint8Array(0);},w);},timeout:function(){p.timeout(C?C.subarray(0,J):new Uint8Array(0));},error:function(g){r(p,function(){g instanceof F && (g=new Ya("Error reading the payload chunk.",g));if(0 < J)return (w._readException=g,C.subarray(0,J));throw g;},w);}});},w);}if(this._aborted)return new Uint8Array(0);if(this._timedout)p.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){A=this._readException;this._readException=null;throw A;}C=-1 != g?new Uint8Array(g):ha;G=0;J=0;v(p);}},w);}w=this;r(p,function(){if(-1 > g)throw new RangeError("read requested with illegal length " + g);this._ready?v():this._readyQueue.poll(n,{result:function(g){g === ha?p.result(!1):v();},timeout:function(){p.timeout(new Uint8Array(0));},error:function(g){p.error(g);}});},w);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ne=function(g,n,p,r,w,H,G){new me(g,n,p,r,w,H,G);};})();(function(){oe=Fc.extend({init:function(g,n,p,C,J,w,H){var v;v=this;r(H,function(){var A,H,G;function r(){v._ready=!0;v._readyQueue.add(!0);}A=nd(g.getMessageCapabilities(),C.messageCapabilities);H=null;A && (H=Ed(A.compressionAlgorithms));A={_destination:{value:n,writable:!1,enumerable:!1,configurable:!1},_charset:{value:p,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:A,writable:!1,enumerable:!1,configurable:!1},_header:{value:C,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:H,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,A);G=Ua(JSON.stringify(C),p);n.write(G,0,G.length,w,{result:function(g){try{v._aborted?r():g < G.length?(v._timedout=!0,r()):n.flush(w,{result:function(g){v._aborted || (v._timedout=!g);r();},timeout:function(){v._timedout=!0;r();},error:function(g){v._errored=g;r();}});}catch(V){v._errored=V;r();}},timeout:function(){v._timedout=!0;r();},error:function(g){v._errored=g;r();}});return this;},v);},setCompressionAlgorithm:function(g,n,p){var A;function v(){A.flush(n,{result:function(n){r(p,function(){if(!n)throw new Ya("flush() aborted");this._compressionAlgo=g;return !0;},A);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});}A=this;r(p,function(){if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");if(this._compressionAlgo == g)return !0;if(g){if(!this._capabilities)return !1;for(var n=this._capabilities.compressionAlgorithms,p=0;p < n.length;++p){if(n[p] == g){v();return;}}return !1;}v();},A);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorMessage:function(){return this._header instanceof Nb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(g,n){var p;p=this;r(n,function(){if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(g,{result:function(g){r(n,function(){g && (this._currentPayload=null);return g;},p);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},p);},flush:function(g,n){var v;function p(){r(n,function(){var p,w,O;if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;p=this.getMessageHeader();if(!p)return !0;w=0;this._currentPayload && this._currentPayload.forEach(function(g){w+=g.length;});for(var A=new Uint8Array(w),C=0,G=0;this._currentPayload && G < this._currentPayload.length;++G){O=this._currentPayload[G];A.set(O,C);C+=O.length;}he(this._payloadSequenceNumber,p.messageId,this._closed,this._compressionAlgo,A,this._cryptoContext,{result:function(p){r(n,function(){var w;this._payloads.push(p);w=Ua(JSON.stringify(p),this._charset);this._destination.write(w,0,w.length,g,{result:function(w){r(n,function(){if(this._aborted)return !1;w < p.length?n.timeout():this._destination.flush(g,{result:function(g){r(n,function(){if(this._aborted)return !1;if(g)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);n.timeout();},v);},timeout:function(){n.timeout();},error:function(g){g instanceof F && (g=new Ya("Error encoding payload chunk [sequence number " + v._payloadSequenceNumber + "].",g));n.error(g);}});},v);},timeout:function(g){n.timeout();},error:function(g){g instanceof F && (g=new Ya("Error encoding payload chunk [sequence number " + v._payloadSequenceNumber + "].",g));n.error(g);}});},v);},error:function(g){g instanceof F && (g=new Ya("Error encoding payload chunk [sequence number " + v._payloadSequenceNumber + "].",g));n.error(g);}});}},v);}v=this;r(n,function(){this._ready?p():this._readyQueue.poll(g,{result:function(g){g === ha?n.result(!1):p();},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},v);},write:function(g,n,p,C,J){r(J,function(){var v;if(this._aborted)return !1;if(this._timedout)J.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Ya("Message output stream already closed.");if(0 > n)throw new RangeError("Offset cannot be negative.");if(0 > p)throw new RangeError("Length cannot be negative.");if(n + p > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");v=g.subarray(n,n + p);this._currentPayload.push(v);return v.length;}},this);}});Lc=function(g,n,p,r,J,w,H){new oe(g,n,p,r,J,w,H);};})();Ve=ma.Class.create({sentHeader:function(g){},receivedHeader:function(g){}});Object.freeze({USERDATA_REAUTH:n.USERDATA_REAUTH,SSOTOKEN_REJECTED:n.SSOTOKEN_REJECTED});pe=ma.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(g,n,p,r){},getCustomer:function(){},getKeyRequestData:function(g){},updateServiceTokens:function(g,n,p){},write:function(g,n,p){},getDebugContext:function(){}});ma.Class.create({getInputStream:function(g){},getOutputStream:function(g){}});(function(){var na,ca,O,ra,P,sa,V,X,wa,T,xa,ya;function G(g){return function(){g.abort();};}function v(g,n){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},ticket:{value:n,writable:!1,configurable:!1}});}function A(g,n){Object.defineProperties(this,{builder:{value:g,writable:!1,configurable:!1},msgCtx:{value:n,writable:!1,configurable:!1}});}function C(g,n,p){Object.defineProperties(this,{requestHeader:{value:g,writable:!1,configurable:!1},payloads:{value:n,writable:!1,configurable:!1},handshake:{value:p,writable:!1,configurable:!1}});}function J(g,n){Object.defineProperties(this,{requestHeader:{value:n.requestHeader,writable:!1,configurable:!1},payloads:{value:n.payloads,writable:!1,configurable:!1},handshake:{value:n.handshake,writable:!1,configurable:!1},response:{value:g,writable:!1,configurable:!1}});}function w(g){for(;g;){if(g instanceof cb)return !0;g=g instanceof F?g.cause:ha;}return !1;}function H(g,n,p,v,w,A,C,H,d){ke(n,v,w,A,{result:function(b){p && p.sentHeader(b);Lc(n,C,La,b,null,null,H,{result:function(a){g.setAbort(function(){a.abort();});a.close(H,{result:function(a){r(d,function(){if(!a)throw new cb("sendError aborted.");return a;});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){},error:function(a){d.error(a);}});},error:function(b){d.error(b);}});}na=Fc.extend({close:function(g,n){n.result(!0);},write:function(g,n,v,w,r){p(r,function(){return Math.min(g.length - n,v);});},flush:function(g,n){n.result(!0);}});ca=Ue.extend({getUserMessage:function(g,n){return null;}});O=pe.extend({init:function(g){Object.defineProperties(this,{_appCtx:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(g,n,p,v){this._appCtx.getUserAuthData(g,n,p,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(g){this._appCtx.getKeyRequestData(g);},updateServiceTokens:function(g,n,p){this._appCtx.updateServiceTokens(g,n,p);},write:function(g,n,p){this._appCtx.write(g,n,p);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ra=O.extend({init:function ua(g,n){ua.base.call(this,n);Object.defineProperties(this,{_payloads:{value:g,writable:!1,enumerable:!1,configurable:!1}});},write:function(g,n,p){var w;function v(A,C){var d;if(A == w._payloads.length)p.result(!0);else {d=w._payloads[A];g.setCompressionAlgorithm(d.compressionAlgo,n,{result:function(b){g.write(d.data,0,d.data.length,n,{result:function(a){r(p,function(){d.isEndOfMessage()?v(A + 1,C):g.flush(n,{result:function(a){p.result(a);},timeout:function(){p.timeout();},error:function(a){p.error(a);}});},w);},timeout:function(a){p.timeout(a);},error:function(a){p.error(a);}});},timeout:function(){},error:function(b){p.error(b);}});}}w=this;v(0);}});P=O.extend({init:function fa(g){fa.base.call(this,g);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(g,n,p){p.result(!0);}});sa={};xa=ma.Class.create({init:function(g){g || (g=new ca());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:g,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(g){this._filterFactory=g;},getNewestMasterToken:function(g,n,p,w){var A;A=this;r(w,function(){var C,d,b,a,c;C=n.getMslStore();d=C.getMasterToken();if(!d)return null;b=d.uniqueKey();a=this._masterTokenLocks[b];a || (a=new Wc(),this._masterTokenLocks[b]=a);c=a.readLock(p,{result:function(c){r(w,function(){var k;if(c === ha)throw new cb("getNewestMasterToken aborted.");k=C.getMasterToken();if(d.equals(k))return new v(d,c);a.unlock(c);a.writeLock(p,{result:function(c){r(w,function(){if(c === ha)throw new cb("getNewestMasterToken aborted.");delete this._masterTokenLocks[b];a.unlock(c);return this.getNewestMasterToken(g,n,p,w);},A);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},A);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});g.setAbort(function(){c && (a.cancel(c),c=ha);});},A);},deleteMasterToken:function(g,n){var p;if(n){p=this;setTimeout(function(){var v,w;v=n.uniqueKey();w=p._masterTokenLocks[v];w || (w=new Wc(),p._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){g.getMslStore().removeCryptoContext(n);delete p._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new ea("Unexpected timeout received.");},error:function(g){throw g;}});},0);}},releaseMasterToken:function(g){var n;if(g && g.masterToken){n=g.masterToken.uniqueKey();n=this._masterTokenLocks[n];if(!n)throw new ea("Master token read/write lock does not exist when it should.");n.unlock(g.ticket);}},updateOutgoingCryptoContexts:function(g,n,p){var v;v=g.getMslStore();!g.isPeerToPeer() && p && (v.setCryptoContext(p.keyResponseData.masterToken,p.cryptoContext),this.deleteMasterToken(g,n.masterToken));},updateIncomingCryptoContexts:function(g,n,p){var v,w;v=p.getMessageHeader();if(v){w=g.getMslStore();if(v=v.keyResponseData)(w.setCryptoContext(v.masterToken,p.getKeyExchangeCryptoContext()),this.deleteMasterToken(g,n.masterToken));}},storeServiceTokens:function(g,n,p,v){var d,b;g=g.getMslStore();for(var w=[],r=0;r < v.length;++r){d=v[r];if(!d.isBoundTo(n) || !n.isVerified()){b=d.data;b && 0 == b.length?g.removeServiceTokens(d.name,d.isMasterTokenBound()?n:null,d.isUserIdTokenBound()?p:null):w.push(d);}}0 < w.length && g.addServiceTokens(w);},buildRequest:function(g,n,v,w,r){var A;A=this;this.getNewestMasterToken(g,n,w,{result:function(d){p(r,function(){var b,a,c;b=d && d.masterToken;if(b){a=v.getUserId();c=n.getMslStore();a=(a=a?c.getUserIdToken(a):null) && a.isBoundTo(b)?a:null;}else a=null;Wb(n,b,a,null,{result:function(a){p(r,function(){a.setNonReplayable(v.isNonReplayable());return {builder:a,tokenTicket:d};});},error:function(a){p(r,function(){this.releaseMasterToken(d);a instanceof F && (a=new ea("User ID token not bound to master token despite internal check.",a));throw a;},A);}});},A);},timeout:function(){r.timeout();},error:function(d){r.error(d);}});},buildResponse:function(g,n,p,v,w,A){var d;d=this;je(n,v,{result:function(b){r(A,function(){b.setNonReplayable(p.isNonReplayable());if(!n.isPeerToPeer() && !v.keyResponseData)return {builder:b,tokenTicket:null};this.getNewestMasterToken(g,n,w,{result:function(a){r(A,function(){var c,k,h;c=a && a.masterToken;if(c){k=p.getUserId();h=n.getMslStore();k=(k=k?h.getUserIdToken(k):null) && k.isBoundTo(c)?k:null;}else k=null;b.setAuthTokens(c,k);return {builder:b,tokenTicket:a};},d);},timeout:function(){A.timeout();},error:function(a){A.error(a);}});},d);},error:function(b){A.error(b);}});},buildErrorResponse:function(g,p,v,w,C,H,d){var c;function b(a,b){r(d,function(){var k,f;k=Vb(C.messageId);f=new ra(b,v);Wb(p,null,null,k,{result:function(b){r(d,function(){p.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(f.isNonReplayable());return {errorResult:new A(b,f),tokenTicket:null};},c);},error:function(a){d.error(a);}});},c);}function a(a,b){c.getNewestMasterToken(g,p,H,{result:function(k){r(d,function(){var f,q,l;f=k && k.masterToken;q=Vb(C.messageId);l=new ra(b,v);Wb(p,f,null,q,{result:function(b){r(d,function(){p.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(l.isNonReplayable());return {errorResult:new A(b,l),tokenTicket:k};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}c=this;r(d,function(){var k,h,m,f;k=w.requestHeader;h=w.payloads;m=C.errorCode;switch(m){case n.ENTITYDATA_REAUTH:case n.ENTITY_REAUTH:p.getEntityAuthenticationData(m,{result:function(a){r(d,function(){if(!a)return null;b(k,h);},c);},error:function(a){d.error(a);}});break;case n.USERDATA_REAUTH:case n.SSOTOKEN_REJECTED:v.getUserAuthData(m,!1,!0,{result:function(b){r(d,function(){if(!b)return null;a(k,h);},c);},error:function(a){d.error(a);}});break;case n.USER_REAUTH:a(k,h);break;case n.KEYX_REQUIRED:(m=Vb(C.messageId),f=new ra(h,v));Wb(p,null,null,m,{result:function(a){r(d,function(){p.isPeerToPeer() && a.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(f.isNonReplayable());return {errorResult:new A(a,f),tokenTicket:null};},c);},error:function(a){d.error(a);}});break;case n.EXPIRED:this.getNewestMasterToken(g,p,H,{result:function(a){r(d,function(){var b,f,q,m;b=a && a.masterToken;f=k.userIdToken;q=Vb(C.messageId);m=new ra(h,v);Wb(p,b,f,q,{result:function(f){r(d,function(){p.isPeerToPeer() && f.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);k.masterToken.equals(b) && f.setRenewable(!0);f.setNonReplayable(m.isNonReplayable());return {errorResult:new A(f,m),tokenTicket:a};},c);},error:function(a){d.error(a);}},c);},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;case n.REPLAYED:this.getNewestMasterToken(g,p,H,{result:function(a){r(d,function(){var b,f,q,m;b=a && a.masterToken;f=k.userIdToken;q=Vb(C.messageId);m=new ra(h,v);Wb(p,b,f,q,{result:function(f){r(d,function(){p.isPeerToPeer() && f.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);k.masterToken.equals(b)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(m.isNonReplayable());return {errorResult:new A(f,m),tokenTicket:a};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;default:return null;}},c);},cleanupContext:function(g,p,v){switch(v.errorCode){case n.ENTITY_REAUTH:this.deleteMasterToken(g,p.masterToken);break;case n.USER_REAUTH:(v=p.userIdToken,p.masterToken && v && g.getMslStore().removeUserIdToken(v));}},send:function(g,n,p,v,w,A,d){var m;function b(b,c,l){r(d,function(){var f;f=w.getPeerUserIdToken();!n.isPeerToPeer() && !c || n.isPeerToPeer() && !f?(f=p.getCustomer())?w.setCustomer(f,{result:function(f){r(d,function(){c=w.getUserIdToken();a(b,c,l);},m);},error:function(a){d.error(a);}}):a(b,c,l):a(b,c,l);},m);}function a(a,b,l){r(d,function(){var f,k;f=!l && (!p.isEncrypted() || w.willEncryptPayloads()) && (!p.isIntegrityProtected() || w.willIntegrityProtectPayloads()) && (!p.isNonReplayable() || w.isNonReplayable() && a);f || w.setNonReplayable(!1);k=[];w.isRenewable() && (!a || a.isRenewable() || p.isNonReplayable())?p.getKeyRequestData({result:function(l){r(d,function(){var h;for(var q=0;q < l.length;++q){h=l[q];k.push(h);w.addKeyRequestData(h);}c(a,b,f,k);},m);},error:function(a){d.error(a);}}):c(a,b,f,k);},m);}function c(a,b,c,h){r(d,function(){var f;f=new le(n,p,w);p.updateServiceTokens(f,!c,{result:function(f){w.getHeader({result:function(f){r(d,function(){var l,q;l=p.getDebugContext();l && l.sentHeader(f);l=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(n,f,l);this.storeServiceTokens(n,a,b,f.serviceTokens);l=!n.isPeerToPeer() && l?l.cryptoContext:f.cryptoContext;if(g.isAborted())throw new cb("send aborted.");q=null != this._filterFactory?this._filterFactory.getOutputStream(v):v;Lc(n,q,La,f,l,A,{result:function(a){g.setAbort(function(){a.abort();});k(a,f,c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},error:function(a){d.error(a);}});},m);}function k(a,b,c){var f,l;if(c)p.write(a,A,{result:function(f){r(d,function(){if(g.isAborted())throw new cb("MessageOutputStream write aborted.");h(a,b,c);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});else {f=new na();l=new cc();Lc(n,f,La,b,l,A,{result:function(f){p.write(f,A,{result:function(l){r(d,function(){if(g.isAborted())throw new cb("MessageOutputStream proxy write aborted.");f.close(A,{result:function(l){r(d,function(){var k;if(!l)throw new cb("MessageOutputStream proxy close aborted.");k=f.getPayloads();h(a,b,c,k);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}}function h(a,b,c,k){a.close(A,{result:function(f){r(d,function(){if(!f)throw new cb("MessageOutputStream close aborted.");k || (k=a.getPayloads());return new C(b,k,!c);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}m=this;r(d,function(){var a,c,l,k;a=w.getMasterToken();c=w.getUserIdToken();l=!1;if(p.getUserId()){k=!c;p.getUserAuthData(null,w.isRenewable(),k,{result:function(f){r(d,function(){f && (w.willEncryptHeader() && w.willIntegrityProtectHeader()?w.setUserAuthenticationData(f):l=!0);b(a,c,l);},m);},error:function(a){d.error(a);}});}else b(a,c,l);},m);},receive:function(p,v,w,A,C,H,d){var b;b=this;r(d,function(){var a,c,k;if(p.isAborted())throw new cb("receive aborted.");a=[];C && (a=C.keyRequestData.filter(function(){return !0;}));c=w.getCryptoContexts();k=this._filterFactory?this._filterFactory.getInputStream(A):A;ne(v,k,La,a,c,H,{result:function(a){p.setAbort(function(){a.abort();});a.isReady(H,{result:function(c){r(d,function(){var f,k,l,h;if(!c)throw new cb("MessageInputStream aborted.");f=a.getMessageHeader();k=a.getErrorHeader();l=w.getDebugContext();l && l.receivedHeader(f?f:k);if(C && (l=k?k.errorCode:null,f || l != n.FAIL && l != n.TRANSIENT_FAILURE && l != n.ENTITY_REAUTH && l != n.ENTITYDATA_REAUTH)){l=f?f.messageId:k.messageId;h=Vb(C.messageId);if(l != h)throw new Da(g.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + h + "; received " + l);}v.getEntityAuthenticationData(null,{result:function(c){r(d,function(){var b,l,q,h;b=c.getIdentity();if(f){l=f.entityAuthenticationData;q=f.masterToken;l=q?f.sender:l.getIdentity();if(q && q.isDecrypted() && q.identity != l || b == l)throw new Da(g.UNEXPECTED_MESSAGE_SENDER,l);C && this.updateIncomingCryptoContexts(v,C,a);b=f.keyResponseData;v.isPeerToPeer()?(b=b?b.masterToken:f.peerMasterToken,q=f.peerUserIdToken,l=f.peerServiceTokens):(b=b?b.masterToken:f.masterToken,q=f.userIdToken,l=f.serviceTokens);h=w.getUserId();h && q && !q.isVerified() && v.getMslStore().addUserIdToken(h,q);this.storeServiceTokens(v,b,q,l);}else if((l=k.entityAuthenticationData.getIdentity(),b == l))throw new Da(g.UNEXPECTED_MESSAGE_SENDER,l);return a;},b);},error:d.error});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},b);},sendReceive:function(g,n,p,v,w,A,d,b,a){var k;function c(c,m){r(a,function(){A.setRenewable(m);this.send(g,n,p,w,A,d,{result:function(f){r(a,function(){var q;q=f.requestHeader.keyRequestData;b || f.handshake || !q.isEmpty()?this.receive(g,n,p,v,f.requestHeader,d,{result:function(b){r(a,function(){m && this.releaseRenewalLock(n,c,b);return new J(b,f);},k);},timeout:function(){r(a,function(){m && this.releaseRenewalLock(n,c,null);a.timeout();},k);},error:function(b){r(a,function(){m && this.releaseRenewalLock(n,c,null);throw b;},k);}}):r(a,function(){m && this.releaseRenewalLock(n,c,null);return new J(null,f);},k);},k);},timeout:function(){r(a,function(){m && this.releaseRenewalLock(n,c,null);a.timeout();},k);},error:function(b){r(a,function(){m && this.releaseRenewalLock(n,c,null);throw b;},k);}});},k);}k=this;r(a,function(){var b;b=new ic();this.acquireRenewalLock(g,n,p,b,A,d,{result:function(a){c(b,a);},timeout:function(){a.timeout();},error:function(b){b instanceof cb?a.result(null):a.error(b);}});},k);},acquireRenewalLock:function(g,n,p,v,w,A,d){var c;function b(k,h,m){r(d,function(){var l,u;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");for(var f=null,q=0;q < this._renewingContexts.length;++q){l=this._renewingContexts[q];if(l.ctx === n){f=l.queue;break;}}if(!f)return (this._renewingContexts.push({ctx:n,queue:v}),!0);u=f.poll(A,{result:function(l){r(d,function(){var c;if(l === ha)throw new cb("acquireRenewalLock aborted.");f.add(l);if(l === sa || l.isExpired())b(l,h,m);else {if(m && !h || h && !h.isBoundTo(l)){c=n.getMslStore().getUserIdToken(m);h=c && c.isBoundTo(l)?c:null;}w.setAuthTokens(l,h);w.isRenewable() && l.equals(k)?b(l,h,m):p.isRequestingTokens() && !h?b(l,h,m):a(l,h);}},c);},timeout:function(){},error:function(a){}});g.setAbort(function(){u && (f.cancel(u),u=ha);});},c);}function a(a,b){r(d,function(){var k;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");if(!a || a.isRenewable() || !b && p.getUserId() || b && b.isRenewable()){for(var c=null,f=0;f < this._renewingContexts.length;++f){k=this._renewingContexts[f];if(k.ctx === n){c=k.queue;break;}}if(!c)return (this._renewingContexts.push({ctx:n,queue:v}),!0);}return !1;},c);}c=this;r(d,function(){var c,h,m;c=w.getMasterToken();h=w.getUserIdToken();m=p.getUserId();p.isEncrypted() && !w.willEncryptPayloads() || p.isIntegrityProtected() && !w.willIntegrityProtectPayloads() || w.isRenewable() || !c && p.isNonReplayable() || c && c.isExpired() || !(h || !m || w.willEncryptHeader() && w.willIntegrityProtectHeader()) || p.isRequestingTokens() && (!c || m && !h)?b(c,h,m):a(c,h);},c);},releaseRenewalLock:function(g,n,p){var d;for(var v,w,r=0;r < this._renewingContexts.length;++r){d=this._renewingContexts[r];if(d.ctx === g){v=r;w=d.queue;break;}}if(w !== n)throw new ea("Attempt to release renewal lock that is not owned by this queue.");p?(p=p.messageHeader)?(w=p.keyResponseData)?n.add(w.masterToken):(g=g.isPeerToPeer()?p.peerMasterToken:p.masterToken)?n.add(g):n.add(sa):n.add(sa):n.add(sa);this._renewingContexts.splice(v,1);}});qe=ma.Class.create({init:function(){var g;g={_impl:{value:new xa(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setFilterFactory:function(g){this._impl.setFilterFactory(g);},shutdown:function(){this._shutdown=!0;},receive:function(g,n,p,v,w,r){var d;if(this._shutdown)throw new F("MslControl is shutdown.");d=new V(this._impl,g,n,p,v,w);setTimeout(function(){d.call(r);},0);return G(d);},respond:function(g,n,p,v,w,r,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new X(this._impl,g,n,p,v,w,r);setTimeout(function(){b.call(d);},0);return G(b);},error:function(g,n,p,v,w,r,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new wa(this._impl,g,n,p,v,w,r);setTimeout(function(){b.call(d);},0);return G(b);},request:function(g,n){var p,v,w,r,d,b;if(this._shutdown)throw new F("MslControl is shutdown.");if(5 == arguments.length){if((p=arguments[2],w=v=null,r=arguments[3],d=arguments[4],g.isPeerToPeer())){d.error(new ea("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (p=null,v=arguments[2],w=arguments[3],r=arguments[4],d=arguments[5],!g.isPeerToPeer())){d.error(new ea("This method cannot be used in trusted network mode."));return;}b=new T(this._impl,g,n,p,v,w,null,0,r);setTimeout(function(){b.call(d);},0);return G(b);}});V=ma.Class.create({init:function(g,n,p,v,w,r){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var C;function p(p){r(n,function(){var d;d=p.messageHeader;if(!d)return p;this.setAbort(function(){p.abort();});p.mark(Number.MAX_VALUE);p.read(1,C._timeout,{result:function(b){r(n,function(){if(b && 0 == b.length)return null;if(b)return (p.reset(),p);v(p);},C);},timeout:function(){n.timeout();},error:function(b){r(n,function(){var a,c,k;if(w(b))return null;a=d?d.messageId:null;b instanceof Ya?(c=g.MSL_COMMS_FAILURE,k=b):(c=g.INTERNAL_EXCEPTION,k=new ea("Error peeking into the message payloads."));H(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){n.error(k);},timeout:function(){n.timeout();},error:function(a){r(n,function(){if(w(a))return null;throw new jb("Error peeking into the message payloads.",a,b);},C);}});},C);}});},C);}function v(p){r(n,function(){p.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,p.messageHeader,this._timeout,{result:function(d){r(n,function(){var b,a,c,k,h;b=d.builder;a=d.tokenTicket;c=p.messageHeader;k=new P(this._msgCtx);if(!this._ctx.isPeerToPeer() || c.isEncrypting() || c.keyResponseData)A(c,b,k,a);else {h=new T(this._ctrl,this._ctx,k,null,this._input,this._output,d,1,this._timeout);this.setAbort(function(){h.abort();});h.call(n);}},C);},timeout:function(){n.timeout();},error:function(d){r(n,function(){var b,a,c,k;if(w(d))return null;d instanceof F?(b=d.messageId,a=d.error,c=p.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),k=d):(b=requestHeader?requestHeader.messageId:null,a=g.INTERNAL_EXCEPTION,c=null,k=new ea("Error creating an automatic handshake response.",d));H(this,this._ctx,this._msgCtx.getDebugContext(),b,a,c,this._output,this._timeout,{result:function(a){n.error(k);},timeout:function(){n.timeout();},error:function(a){r(n,function(){if(w(a))return null;throw new jb("Error creating an automatic handshake response.",a,d);},C);}});},C);}});},C);}function A(p,d,b,a){r(n,function(){d.setRenewable(!1);this._ctrl.send(this._ctx,b,this._output,d,this._timeout,{result:function(b){r(n,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);return null;},C);},timeout:function(){r(n,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);n.timeout();},C);},error:function(b){r(n,function(){var c,h,m,f;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);if(w(b))return null;b instanceof F?(c=b.messageId,h=b.error,m=p?p.messageCapabilities:null,m=this._ctrl.messageRegistry.getUserMessage(h,m?m.languages:null),f=b):b instanceof Ya?(c=p?p.messageId:null,h=g.MSL_COMMS_FAILURE,m=null,f=b):(c=p?p.messageId:null,h=g.INTERNAL_EXCEPTION,m=null,f=new ea("Error sending an automatic handshake response.",b));H(this,this._ctx,this._msgCtx.getDebugContext(),c,h,m,this._output,this._timeout,{result:function(a){n.error(f);},timeout:function(){n.timeout();},error:function(a){r(n,function(){if(w(a))return null;throw new jb("Error sending an automatic handshake response.",a,b);},C);}});},C);}});},C);}C=this;r(n,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(g){p(g);},timeout:function(){n.timeout();},error:function(p){r(n,function(){var d,b,a,c;if(w(p))return null;p instanceof F?(d=p.messageId,b=p.error,a=this._ctrl.messageRegistry.getUserMessage(b,null),c=p):(d=null,b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error receiving the message header.",p));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){r(n,function(){if(w(a))return null;throw new jb("Error receiving the message header.",a,p);},C);}});},C);}});},C);}});X=ma.Class.create({init:function(g,n,p,v,w,r,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},trustedNetworkExecute:function(n,p,v){var A;A=this;r(v,function(){var C,G;if(12 < p + 1)return !1;if(C=this._msgCtx.isIntegrityProtected() && !n.willIntegrityProtectHeader()?g.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !n.willEncryptPayloads()?g.RESPONSE_REQUIRES_ENCRYPTION:null){G=dc(n.getMessageId());H(this,this._ctx,this._msgCtx.getDebugContext(),G,C,null,this._output,this._timeout,{result:function(d){v.result(!1);},timeout:function(){v.timeout();},error:function(d){r(v,function(){if(w(d))return !1;throw new jb("Response requires encryption or integrity protection but cannot be protected: " + C,d,null);},A);}});}else !this._msgCtx.getCustomer() || n.getMasterToken() || n.getKeyExchangeData()?(n.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,n,this._timeout,{result:function(d){v.result(!0);},timeout:function(){v.timeout();},error:function(d){v.error(d);}})):(G=dc(n.getMessageId()),H(this,this._ctx,this._msgCtx.getDebugContext(),G,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){v.result(!1);},timeout:function(){v.timeout();},error:function(d){r(v,function(){if(w(d))return !1;throw new jb("Response wishes to attach a user ID token but there is no master token.",d,null);},A);}}));},A);},peerToPeerExecute:function(n,p,v,A){var G;function C(d){r(A,function(){var b;b=d.response;b.close();b=b.getErrorHeader();this._ctrl.cleanupContext(this._ctx,d.requestHeader,b);this._ctrl.buildErrorResponse(this,this._ctx,n,d,b,{result:function(a){r(A,function(){var b,k;if(!a)return !1;b=a.errorResult;k=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,v,{result:function(a){r(A,function(){this._ctrl.releaseMasterToken(k);return a;},G);},timeout:function(){r(A,function(){this._ctrl.releaseMasterToken(k);A.timeout();},G);},error:function(a){r(A,function(){this._ctrl.releaseMasterToken(k);throw a;},G);}});},G);}});},G);}G=this;r(A,function(){var d;if(12 < v + 2)return !1;if(null != n.getCustomer() && null == p.getPeerMasterToken() && null == p.getKeyExchangeData()){d=dc(p.getMessageId());H(this,this._ctx,n.getDebugContext(),d,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(b){A.result(!1);},timeout:function(){A.timeout();},error:function(b){r(A,function(){if(w(b))return !1;throw new jb("Response wishes to attach a user ID token but there is no master token.",b,null);},G);}});}else this._ctrl.sendReceive(this._ctx,n,this._input,this._output,p,this._timeout,!1,{result:function(b){r(A,function(){var k,h,m;function a(){k.read(32768,G._timeout,{result:function(b){r(A,function(){b?a():c();},G);},timeout:function(){A.timeout();},error:function(a){A.error(a);}});}function c(){r(A,function(){var a;a=new ra(b.payloads,n);this._ctrl.buildResponse(this,this._ctx,a,h,this._timeout,{result:function(b){r(A,function(){var f;f=b.tokenTicket;this.peerToPeerExecute(a,b.builder,v,{result:function(a){r(A,function(){this._ctrl.releaseMasterToken(f);return a;},G);},timeout:function(){r(A,function(){this._ctrl.releaseMasterToken(f);A.timeout();},G);},error:function(a){r(A,function(){this._ctrl.releaseMasterToken(f);throw a;},G);}});},G);},timeout:function(){A.timeout();},error:function(a){A.error(a);}});},G);}k=b.response;v+=2;if(!k)return !0;h=k.getMessageHeader();if(h){m=b.payloads;m=0 < m.length && 0 < m[0].data.length;if(b.handshake && m)a();else return !0;}else C(b);},G);},timeout:function(){A.timeout();},error:function(b){A.error(b);}});},G);},call:function(n){var p;p=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(v){r(n,function(){var A,C;A=v.builder;C=v.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,A,3,{result:function(g){r(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);return g;},p);},timeout:function(){r(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);n.timeout();},p);},error:function(v){r(n,function(){var d,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(C);if(w(v))return !1;d=dc(A.getMessageId());v instanceof F?(b=v.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=v):v instanceof Ya?(b=g.MSL_COMMS_FAILURE,a=null,c=v):(b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",v));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){r(n,function(){if(w(a))return !1;throw new jb("Error sending the response.",a,null);},p);}});},p);}}):this.trustedNetworkExecute(A,3,{result:function(g){r(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);return g;},p);},timeout:function(){r(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);n.timeout();},p);},error:function(v){r(n,function(){var d,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(C);if(w(v))return !1;d=dc(A.getMessageId());v instanceof F?(b=v.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=v):v instanceof Ya?(b=g.MSL_COMMS_FAILURE,a=null,c=v):(b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",v));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){r(n,function(){if(w(a))return !1;throw new jb("Error sending the response.",a,null);},p);}});},p);}});},p);},timeout:function(){n.timeout();},error:function(v){r(n,function(){var A,C,G,d;if(w(v))return !1;v instanceof F?(A=v.messageId,C=v.error,G=this._request.messageCapabilities,G=this._ctrl.messageRegistry.getUserMessage(C,G?G.languages:null),d=v):(A=null,C=g.INTERNAL_EXCEPTION,G=null,d=new ea("Error building the response.",v));H(this,this._ctx,this._msgCtx.getDebugContext(),A,C,G,this._output,this._timeout,{result:function(b){n.error(d);},timeout:function(){n.timeout();},error:function(b){r(n,function(){if(w(b))return null;throw new jb("Error building the response.",b,v);},p);}});},p);}});}});wa=ma.Class.create({init:function(g,n,p,v,w,r,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_appError:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var p;p=this;r(n,function(){var v,A;if(this._appError == ENTITY_REJECTED)v=this._request.masterToken?g.MASTERTOKEN_REJECTED_BY_APP:g.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)v=this._request.userIdToken?g.USERIDTOKEN_REJECTED_BY_APP:g.USER_REJECTED_BY_APP;else throw new ea("Unhandled application error " + this._appError + ".");A=this._request.messageCapabilities;A=this._ctrl.messageRegistry.getUserMessage(v,A?A.languages:null);H(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,v,A,this._output,this._timeout,{result:function(g){n.result(g);},timeout:n.timeout,error:function(g){r(n,function(){if(w(g))return !1;if(g instanceof F)throw g;throw new ea("Error building the error response.",g);},p);}});},p);}});ya={result:function(){},timeout:function(){},error:function(){}};T=ma.Class.create({init:function(g,n,p,v,w,r,d,b,a){var c;d?(c=d.builder,d=d.tokenTicket):d=c=null;Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:v,writable:!1,enumerable:!1,configurable:!1},_input:{value:w,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:d,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:b,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},execute:function(g,n,p,v,w){var b;function A(a){function c(c){r(w,function(){var b;b=a.response;return c?c:b;},b);}r(w,function(){var k,h;k=a.response;k.close();h=k.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,h);this._ctrl.buildErrorResponse(this,this._ctx,g,a,h,p,{result:function(a){r(w,function(){var f,q,l,h;if(!a)return k;f=a.errorResult;q=a.tokenTicket;l=f.builder;f=f.msgCtx;if(this._ctx.isPeerToPeer())this.execute(f,l,this._timeout,v,{result:function(a){r(w,function(){this._ctrl.releaseMasterToken(q);c(a);},b);},timeout:function(){r(w,function(){this._ctrl.releaseMasterToken(q);w.timeout();},b);},error:function(a){r(w,function(){this._ctrl.releaseMasterToken(q);w.error(a);},b);}});else {this._openedStreams && (this._input.close(),this._output.close(p,ya));h=new T(this._ctrl,this._ctx,f,this._remoteEntity,null,null,{builder:l,tokenTicket:q},v,this._timeout);this.setAbort(function(){h.abort();});h.call({result:function(a){c(a);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);}function d(a){r(w,function(){var h,m,f,q,l;function c(){h.read(32768,b._timeout,{result:function(a){a?c():k();},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}function k(){r(w,function(){var f;f=new ra(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,m,p,{result:function(a){r(w,function(){var c;c=a.tokenTicket;this.execute(f,a.builder,this._timeout,v,{result:function(a){r(w,function(){this._ctrl.releaseMasterToken(c);return a;},b);},timeout:function(){r(w,function(){this._ctrl.releaseMasterToken(c);w.timeout();},b);},error:function(a){r(w,function(){this._ctrl.releaseMasterToken(c);throw a;},b);}});},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);}h=a.response;m=h.getMessageHeader();f=a.payloads;f=0 < f.length && 0 < f[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake || !f)return h;this._openedStreams && (this._input.close(),this._output.close(p,ya));q=new ra(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,m,p,{result:function(a){r(w,function(){var b;b=new T(this._ctrl,this._ctx,q,this._remoteEntity,null,null,a,v,this._timeout);this.setAbort(function(){b.abort();});b.call(w);},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}else if(a.handshake && f)c();else if(0 < m.keyRequestData.length){l=new P(g);this._ctrl.buildResponse(this,this._ctx,l,m,p,{result:function(a){r(w,function(){var f,c;f=a.builder;c=a.tokenTicket;h.mark();h.read(1,this._timeout,{result:function(a){r(w,function(){function k(){h.read(32768,b._timeout,{result:function(a){a?k():q();},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}function q(){b.execute(l,f,b._timeout,v,{result:function(a){r(w,function(){this._ctrl.releaseMasterToken(c);return a;},b);},timeout:function(){r(w,function(){this._ctrl.releaseMasterToken(c);w.timeout();},b);},error:function(a){r(w,function(){this._ctrl.releaseMasterToken(c);throw a;},b);}});}if(a){if((h.reset(),12 >= v + 1))(f.setRenewable(!1),this._ctrl.send(this,this._ctx,l,this._output,f,this._timeout,{result:function(a){r(w,function(){this.releaseMasterToken(c);return h;},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}}));else return (this.releaseMasterToken(c),h);}else k();},b);},timeout:function(){r(w,function(){this.releaseMasterToken(c);w.timeout();},b);},error:function(a){r(w,function(){this.releaseMasterToken(c);throw a;},b);}});},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}},b);}b=this;r(w,function(){if(12 < v + 2)return null;this._ctrl.sendReceive(this,this._ctx,g,this._input,this._output,n,p,!0,{result:function(a){r(w,function(){var b;if(!a)return null;b=a.response;v+=2;b.getMessageHeader()?d(a):A(a);},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);},call:function(g){var p;function n(n,v,A){r(g,function(){this.execute(this._msgCtx,n,A,this._msgCount,{result:function(d){r(g,function(){this._ctrl.releaseMasterToken(v);this._openedStreams && this._output.close(A,ya);d && d.closeSource(this._openedStreams);return d;},p);},timeout:function(){r(g,function(){this._ctrl.releaseMasterToken(v);this._openedStreams && (this._output.close(A,ya),this._input.close());g.timeout();},p);},error:function(d){r(g,function(){this._ctrl.releaseMasterToken(v);this._openedStreams && (this._output.close(A,ya),this._input.close());if(w(d))return null;throw d;},p);}});},p);}p=this;r(g,function(){var v,A,C;v=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);A=Date.now();C=this._remoteEntity.openConnection();this._output=C.output;this._input=C.input;-1 != v && (v=this._timeout - (Date.now() - A));this._openedStreams=!0;}catch(d){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,ya);this._input && this._input.close();if(w(d))return null;throw d;}this._builder?n(this._builder,this._tokenTicket,v):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(d){r(g,function(){n(d.builder,d.tokenTicket,v);},p);},timeout:function(){r(g,function(){this._openedStreams && (this._output.close(this._timeout,ya),this._input.close());g.timeout();},p);},error:function(d){r(g,function(){this._openedStreams && (this._output.close(this._timeout,ya),this._input.close());if(w(d))return null;throw d;},p);}});},p);}});})();(function(){qd=ma.Class.create({init:function(g){Object.defineProperties(this,{id:{value:g,writable:!1,configurable:!1}});},toJSON:function(){var g;g={};g.id=this.id;return g;},equals:function(g){return this === g?!0:g instanceof qd?this.id == g.id:!1;},uniqueKey:function(){return this.id;}});re=function(n){var p;p=n.id;if(!p)throw new ja(g.JSON_PARSE_ERROR,JSON.stringify(n));return new qd(p);};})();ma.Class.create({isNewestMasterToken:function(g,n,p){},isMasterTokenRevoked:function(g,n){},acceptNonReplayableId:function(g,n,p,r){},createMasterToken:function(g,n,p,r,J){},isMasterTokenRenewable:function(g,n,p){},renewMasterToken:function(g,n,p,r,J){},isUserIdTokenRevoked:function(g,n,p,r){},createUserIdToken:function(g,n,p,r){},renewUserIdToken:function(g,n,p,r){}});(function(){function n(g,n,p,r){this.sessiondata=g;this.tokendata=n;this.signature=p;this.verified=r;}hb=ma.Class.create({init:function(g,n,r,G,w,H,F,ca,O,ra,P){var v;v=this;p(P,function(){var A,C,J,T,xa;if(r.getTime() < n.getTime())throw new ea("Cannot construct a master token that expires before its renewal window opens.");if(0 > G || G > Ga)throw new ea("Sequence number " + G + " is outside the valid range.");if(0 > w || w > Ga)throw new ea("Serial number " + w + " is outside the valid range.");A=Math.floor(n.getTime() / 1E3);C=Math.floor(r.getTime() / 1E3);if(ra)J=ra.sessiondata;else {T={};H && (T.issuerdata=H);T.identity=F;T.encryptionkey=oa(ca.toByteArray());T.hmackey=oa(O.toByteArray());J=Ua(JSON.stringify(T),La);}if(ra)return (Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:A,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:G,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:ca,writable:!1,configurable:!1},hmacKey:{value:O,writable:!1,configurable:!1},sessiondata:{value:J,writable:!1,enumerable:!1,configurable:!1},verified:{value:ra.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ra.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra.signature,writable:!1,enumerable:!1,configurable:!1}}),this);xa=g.getMslCryptoContext();xa.encrypt(J,{result:function(n){p(P,function(){var r,V;r={};r.renewalwindow=A;r.expiration=C;r.sequencenumber=G;r.serialnumber=w;r.sessiondata=oa(n);V=Ua(JSON.stringify(r),La);xa.sign(V,{result:function(n){p(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:A,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:G,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:w,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:ca,writable:!1,configurable:!1},hmacKey:{value:O,writable:!1,configurable:!1},sessiondata:{value:J,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:V,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){P.error(g);}});},v);},error:function(g){P.error(g);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(g){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(g){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(g){var n;if(this.sequenceNumber == g.sequenceNumber)return this.expiration > g.expiration;if(this.sequenceNumber > g.sequenceNumber){n=this.sequenceNumber - Ga + 127;return g.sequenceNumber >= n;}n=g.sequenceNumber - Ga + 127;return this.sequenceNumber < n;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof hb?this.serialNumber == g.serialNumber && this.sequenceNumber == g.sequenceNumber && this.expiration.getTime() == g.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Tb=function(v,r,C){p(C,function(){var A,w,H,G,ca;A=v.getMslCryptoContext();w=r.tokendata;H=r.signature;if("string" !== typeof w || "string" !== typeof H)throw new ja(g.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(r));try{G=ta(w);}catch(Ja){throw new F(g.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(r),Ja);}if(!G || 0 == G.length)throw new ja(g.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(r));try{ca=ta(H);}catch(Ja){throw new F(g.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(r),Ja);}A.verify(G,ca,{result:function(w){p(C,function(){var r,H,J,V,X,na,T,xa,O,Fa;na=Va(G,La);try{T=JSON.parse(na);r=parseInt(T.renewalwindow);H=parseInt(T.expiration);J=parseInt(T.sequencenumber);V=parseInt(T.serialnumber);X=T.sessiondata;}catch(ua){if(ua instanceof SyntaxError)throw new ja(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na,ua);throw ua;}if(!r || r != r || !H || H != H || "number" !== typeof J || J != J || "number" !== typeof V || V != V || "string" !== typeof X)throw new ja(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na);if(H < r)throw new F(g.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + na);if(0 > J || J > Ga)throw new F(g.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);if(0 > V || V > Ga)throw new F(g.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);xa=new Date(1E3 * r);O=new Date(1E3 * H);try{Fa=ta(X);}catch(ua){throw new F(g.MASTERTOKEN_SESSIONDATA_INVALID,X,ua);}if(!Fa || 0 == Fa.length)throw new F(g.MASTERTOKEN_SESSIONDATA_MISSING,X);w?A.decrypt(Fa,{result:function(r){p(C,function(){var A,H,P,F,T,X;T=Va(r,La);try{X=JSON.parse(T);A=X.issuerdata;H=X.identity;P=X.encryptionkey;F=X.hmackey;}catch(d){if(d instanceof SyntaxError)throw new ja(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + T,d);throw d;}if(A && "object" !== typeof A || !H || "string" !== typeof P || "string" !== typeof F)throw new ja(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + T);zb(P,qb,Ib,{result:function(d){zb(F,rb,Sb,{result:function(b){p(C,function(){var a;a=new n(r,G,ca,w);new hb(v,xa,O,J,V,A,H,d,b,a,C);});},error:function(b){C.error(new N(g.MASTERTOKEN_KEY_CREATION_ERROR,b));}});},error:function(d){C.error(new N(g.MASTERTOKEN_KEY_CREATION_ERROR,d));}});});},error:function(g){C.error(g);}}):(r=new n(null,G,ca,w),new hb(v,xa,O,J,V,null,null,null,null,r,C));});},error:function(g){C.error(g);}});});};})();(function(){function n(g,n,p){this.tokendata=g;this.signature=n;this.verified=p;}ac=ma.Class.create({init:function(g,n,r,G,w,H,na,ca,O){var v;v=this;p(O,function(){var A,C,J,X,wa,T,xa;if(r.getTime() < n.getTime())throw new ea("Cannot construct a user ID token that expires before its renewal window opens.");if(!G)throw new ea("Cannot construct a user ID token without a master token.");if(0 > w || w > Ga)throw new ea("Serial number " + w + " is outside the valid range.");A=Math.floor(n.getTime() / 1E3);C=Math.floor(r.getTime() / 1E3);J=G.serialNumber;if(ca){X=ca.tokendata;wa=ca.signature;T=ca.verified;J=G.serialNumber;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:A,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},customer:{value:na,writable:!1,configurable:!1},verified:{value:T,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:X,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa,writable:!1,enumerable:!1,configurable:!1}});return this;}X={};H && (X.issuerdata=H);X.identity=na;X=Ua(JSON.stringify(X),La);xa=g.getMslCryptoContext();xa.encrypt(X,{result:function(n){p(O,function(){var r,P;r={};r.renewalwindow=A;r.expiration=C;r.mtserialnumber=J;r.serialnumber=w;r.userdata=oa(n);P=Ua(JSON.stringify(r),La);xa.sign(P,{result:function(n){p(O,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:A,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:G.serialNumber,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},customer:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:P,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){p(O,function(){g instanceof F && g.setEntity(G);throw g;},v);}});},v);},error:function(g){p(O,function(){g instanceof F && g.setEntity(G);throw g;},v);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(g){return g && g.serialNumber == this.mtSerialNumber;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof ac?this.serialNumber == g.serialNumber && this.mtSerialNumber == g.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Ub=function(v,r,C,G){p(G,function(){var w,A,J,ca,O;w=v.getMslCryptoContext();A=r.tokendata;J=r.signature;if("string" !== typeof A || "string" !== typeof J)throw new ja(g.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(r)).setEntity(C);try{ca=ta(A);}catch(ra){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(r),ra).setEntity(C);}if(!ca || 0 == ca.length)throw new ja(g.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(r)).setEntity(C);try{O=ta(J);}catch(ra){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(r),ra).setEntity(C);}w.verify(ca,O,{result:function(r){p(G,function(){var A,H,J,X,na,T,xa,ya,ra,ua;T=Va(ca,La);try{xa=JSON.parse(T);A=parseInt(xa.renewalwindow);H=parseInt(xa.expiration);J=parseInt(xa.mtserialnumber);X=parseInt(xa.serialnumber);na=xa.userdata;}catch(fa){if(fa instanceof SyntaxError)throw new ja(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + T,fa).setEntity(C);throw fa;}if(!A || A != A || !H || H != H || "number" !== typeof J || J != J || "number" !== typeof X || X != X || "string" !== typeof na)throw new ja(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + T).setEntity(C);if(H < A)throw new F(g.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + T).setEntity(C);if(0 > J || J > Ga)throw new F(g.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + T).setEntity(C);if(0 > X || X > Ga)throw new F(g.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + T).setEntity(C);ya=new Date(1E3 * A);ra=new Date(1E3 * H);if(!C || J != C.serialNumber)throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + J + "; mt " + JSON.stringify(C)).setEntity(C);try{ua=ta(na);}catch(fa){throw new F(g.USERIDTOKEN_USERDATA_INVALID,na,fa).setEntity(C);}if(!ua || 0 == ua.length)throw new F(g.USERIDTOKEN_USERDATA_MISSING,na).setEntity(C);r?w.decrypt(ua,{result:function(w){p(G,function(){var p,A,H,J,P;H=Va(w,La);try{J=JSON.parse(H);p=J.issuerdata;A=J.identity;}catch(d){if(d instanceof SyntaxError)throw new ja(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + H).setEntity(C);throw d;}if(p && "object" !== typeof p || "object" !== typeof A)throw new ja(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + H).setEntity(C);try{P=re(A);}catch(d){throw new F(g.USERIDTOKEN_IDENTITY_INVALID,"userdata " + H,d).setEntity(C);}A=new n(ca,O,r);new ac(v,ya,ra,C,X,p,P,A,G);});},error:function(g){p(G,function(){g instanceof F && g.setEntity(C);throw g;});}}):(A=new n(ca,O,r),new ac(v,ya,ra,C,X,null,null,A,G));});},error:function(g){p(G,function(){g instanceof F && g.setEntity(C);throw g;});}});});};})();(function(){function n(n,p){var v,w,r;v=n.tokendata;if("string" !== typeof v)throw new ja(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n));try{w=ta(v);}catch(na){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(n),na);}if(!w || 0 == w.length)throw new ja(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(n));try{r=JSON.parse(Va(w,La)).name;}catch(na){if(na instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n),na);throw na;}if(!r)throw new ja(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n));return p[r]?p[r]:p[""];}function v(g,n,p){this.tokendata=g;this.signature=n;this.verified=p;}Lb=ma.Class.create({init:function(g,n,v,w,r,G,ca,O,ra,P){var A;A=this;p(P,function(){var C,H,J,T,xa;if(w && r && !r.isBoundTo(w))throw new ea("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=w?w.serialNumber:-1;H=r?r.serialNumber:-1;if(ra)return (xa=ra.tokendata,Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:ra.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ca?(J=pd(ca,v),J.length < v.length || (ca=null,J=v)):(ca=null,J=v);T={};T.name=n;-1 != C && (T.mtserialnumber=C);-1 != H && (T.uitserialnumber=H);T.encrypted=G;ca && (T.compressionalgo=ca);if(G && 0 < J.length)O.encrypt(J,{result:function(J){p(P,function(){var V;T.servicedata=oa(J);V=Ua(JSON.stringify(T),La);O.sign(V,{result:function(w){p(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:V,writable:!1,enumerable:!1,configurable:!1},signature:{value:w,writable:!1,enumerable:!1,configurable:!1}});return this;},A);},error:function(g){p(P,function(){g instanceof F && (g.setEntity(w),g.setUser(r));throw g;});}});},A);},error:function(g){p(P,function(){g instanceof F && (g.setEntity(w),g.setUser(r));throw g;});}});else {T.servicedata=oa(J);xa=Ua(JSON.stringify(T),La);O.sign(xa,{result:function(w){p(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:w,writable:!1,enumerable:!1,configurable:!1}});return this;},A);},error:function(g){p(P,function(){g instanceof F && (g.setEntity(w),g.setUser(r));throw g;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(g){return g?g instanceof hb?g.serialNumber == this.mtSerialNumber:g instanceof ac?g.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof Lb?this.name == g.name && this.mtSerialNumber == g.mtSerialNumber && this.uitSerialNumber == g.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Db=function(g,n,p,v,r,G,F,O,ra){new Lb(g,n,p,v,r,G,F,O,null,ra);};Ic=function(r,C,G,w,H,na){p(na,function(){var A,J,O,P,sa,V,X,wa,T,xa,ya,N,ua;!H || H instanceof bc || (H=n(C,H));A=C.tokendata;J=C.signature;if("string" !== typeof A || "string" !== typeof J)throw new ja(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(C)).setEntity(G).setEntity(w);try{O=ta(A);}catch(fa){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(C),fa).setEntity(G).setEntity(w);}if(!O || 0 == O.length)throw new ja(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(C)).setEntity(G).setEntity(w);try{P=ta(J);}catch(fa){throw new F(g.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(C),fa).setEntity(G).setEntity(w);}ya=Va(O,La);try{N=JSON.parse(ya);sa=N.name;V=N.mtserialnumber?parseInt(N.mtserialnumber):-1;X=N.uitserialnumber?parseInt(N.uitserialnumber):-1;wa=N.encrypted;T=N.compressionalgo;xa=N.servicedata;}catch(fa){if(fa instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"servicetokendata " + ya,fa).setEntity(G).setEntity(w);throw fa;}if(!sa || "number" !== typeof V || V != V || "number" !== typeof X || X != X || "boolean" !== typeof wa || T && "string" !== typeof T || "string" !== typeof xa)throw new ja(g.JSON_PARSE_ERROR,"servicetokendata " + ya).setEntity(G).setEntity(w);if(N.mtserialnumber && 0 > V || V > Ga)throw new F(g.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ya).setEntity(G).setEntity(w);if(N.uitserialnumber && 0 > X || X > Ga)throw new F(g.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ya).setEntity(G).setEntity(w);if(-1 != V && (!G || V != G.serialNumber))throw new F(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + V + "; mt " + G).setEntity(G).setEntity(w);if(-1 != X && (!w || X != w.serialNumber))throw new F(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + X + "; uit " + w).setEntity(G).setEntity(w);wa=!0 === wa;if(T){if(!Pb[T])throw new F(g.UNIDENTIFIED_COMPRESSION,T);ua=T;}else ua=null;H?H.verify(O,P,{result:function(n){p(na,function(){var A,C;if(n){try{A=ta(xa);}catch(id){throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ya,id).setEntity(G).setEntity(w);}if(!A || 0 != xa.length && 0 == A.length)throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ya).setEntity(G).setEntity(w);if(wa && 0 < A.length)H.decrypt(A,{result:function(g){p(na,function(){var p,A;p=ua?Jc(ua,g):g;A=new v(O,P,n);new Lb(r,sa,p,-1 != V?G:null,-1 != X?w:null,wa,ua,H,A,na);});},error:function(g){p(na,function(){g instanceof F && (g.setEntity(G),g.setUser(w));throw g;});}});else {A=ua?Jc(ua,A):A;C=new v(O,P,n);new Lb(r,sa,A,-1 != V?G:null,-1 != X?w:null,wa,ua,H,C,na);}}else (A="" == xa?new Uint8Array(0):null,C=new v(O,P,n),new Lb(r,sa,A,-1 != V?G:null,-1 != X?w:null,wa,ua,H,C,na));});},error:function(g){p(na,function(){g instanceof F && (g.setEntity(G),g.setUser(w));throw g;});}}):(A="" == xa?new Uint8Array(0):null,J=new v(O,P,!1),new Lb(r,sa,A,-1 != V?G:null,-1 != X?w:null,wa,ua,H,J,na));});};})();db={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(db);(function(){Hb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(g){return this === g?!0:g instanceof Hb?this.scheme == g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});ge=function(n,v,r,C){p(C,function(){var p,w,A;p=r.scheme;w=r.authdata;if(!p || !w)throw new ja(g.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(r));if(!db[p])throw new Ca(g.UNIDENTIFIED_USERAUTH_SCHEME,p);A=n.getUserAuthenticationFactory(p);if(!A)throw new Ca(g.USERAUTH_FACTORY_NOT_FOUND,p);A.createData(n,v,w,C);});};})();nc=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,n,p,r){},authenticate:function(g,n,p,r){}});(function(){Xb=Hb.extend({init:function v(g,n){v.base.call(this,db.NETFLIXID);Object.defineProperties(this,{netflixId:{value:g,writable:!1,configurable:!1},secureNetflixId:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.netflixid=this.netflixId;this.secureNetflixId && (g.securenetflixid=this.secureNetflixId);return g;},equals:function A(g){return this === g?!0:g instanceof Xb?A.base.call(this,g) && this.netflixId == g.netflixId && this.secureNetflixId == g.secureNetflixId:!1;}});se=function(n){var p,r;p=n.netflixid;r=n.securenetflixid;if(!p)throw new ja(g.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(n));return new Xb(p,r);};})();We=nc.extend({init:function v(){v.base.call(this,db.NETFLIXID);},createData:function(g,n,r,J){p(J,function(){return se(r);});},authenticate:function(n,p,r,J){if(!(r instanceof Xb))throw new ea("Incorrect authentication data type " + r + ".");n=r.secureNetflixId;if(!r.netflixId || !n)throw new Ca(g.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Ca(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){oc=Hb.extend({init:function A(g,n){A.base.call(this,db.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:g,writable:!1,configurable:!1},password:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.email=this.email;g.password=this.password;return g;},equals:function C(g){return this === g?!0:g instanceof oc?C.base.call(this,this,g) && this.email == g.email && this.password == g.password:!1;}});te=function(n){var p,w;p=n.email;w=n.password;if(!p || !w)throw new ja(g.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(n));return new oc(p,w);};})();Xe=nc.extend({init:function A(){A.base.call(this,db.EMAIL_PASSWORD);},createData:function(g,n,r,w){p(w,function(){return te(r);});},authenticate:function(n,p,r,w){if(!(r instanceof oc))throw new ea("Incorrect authentication data type " + r + ".");n=r.password;if(!r.email || !n)throw new Ca(g.EMAILPASSWORD_BLANK).setUser(r);throw new Ca(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var w,H,O,ca,Ja,ra,P,sa;function n(g,n){return "<" + g + ">" + n + "</" + g + ">";}function r(g){return g.replace(/[<>&"']/g,function(g){return Ja[g];});}function J(g){return encodeURIComponent(g).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}w=Mc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};H=ma.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});O=rd=H.extend({init:function(n,w,r,A,C,H,J){var V;function F(A){p(J,function(){var p,H;try{H={};H.useridtoken=n;H.action=w;H.nonce=r;H.pin=oa(A);p=Ua(JSON.stringify(H),La);}catch(Kb){throw new ja(g.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Kb);}C.sign(p,{result:function(g){P(p,g);},error:J.error});},V);}function P(g,C){p(J,function(){Object.defineProperties(this,{_userIdToken:{value:n,writable:!1,enumerable:!1,configurable:!1},_action:{value:w,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:A,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:C,writable:!1,enumerable:!1,configurable:!1}});return this;},V);}V=this;p(J,function(){H?P(H.encoding,H.signature):C.encrypt(Ua(A,La),{result:function(g){F(g);},error:J.error});},V);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof O?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin && this._userIdToken.equals(g._userIdToken):!1;}});rd.ACTION="userauth";ca=function(n,w,r,A,C){function H(A){p(C,function(){var H,P,T,V,ca,X;H=Va(r,La);try{X=JSON.parse(H);P=X.useridtoken;T=X.action;V=X.nonce;ca=X.pin;}catch(d){if(d instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"MDX authdata " + H,d);throw d;}if(!(P && "object" === typeof P && T && "string" === typeof T && V && "number" === typeof V && ca) || "string" !== typeof ca)throw new ja(g.JSON_PARSE_ERROR,"MDX authdata " + H);Ub(n,P,w,{result:function(d){p(C,function(){if(!d.isDecrypted())throw new Ca(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + H);J(A,d,T,V,ca);});},error:function(d){p(C,function(){if(d instanceof F)throw new Ca(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + H,d);throw d;});}});});}function J(g,n,w,H,J){p(C,function(){var F;F=ta(J);g.decrypt(F,{result:function(g){p(C,function(){var d;d=Va(g,La);new O(n,w,H,d,null,{encoding:r,signature:A},C);});},error:C.error});});}p(C,function(){var J,F;try{F=n.getMslStore().getCryptoContext(w);J=F?F:new ib(n,w);}catch(wb){if(wb instanceof Rb)throw new Ca(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + oa(r));throw wb;}J.verify(r,A,{result:function(n){p(C,function(){if(!n)throw new N(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + oa(r));H(J);});},error:C.error});});};Ja={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};ra=pc=H.extend({init:function(g,p,w,A){var C,H;C=n("action",r(g));H=n("nonce",p.toString());w=n("pin",w);C=n("registerdata",C + H + w);C=Ua(C,"utf-8");Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:p,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:C,writable:!1,enumerable:!1,configurable:!1},_signature:{value:A,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof ra?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin:!1;}});pc.ACTION="regpairrequest";P=sd=H.extend({init:function(g,w,A,C,H,F){var V;function P(A){p(F,function(){var p,H,P,V,d;p=oa(A);H=n("action",r(g));P=n("nonce",w.toString());V=n("pin",p);H=n("registerdata",H + P + V);d=Ua(H,"utf-8");p="action=" + J(g) + "&nonce=" + J(w.toString()) + "&pin=" + J(p);C.sign(Ua(p,"utf-8"),{result:function(b){T(d,b);},error:F.error});},V);}function T(n,r){p(F,function(){Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:w,writable:!1,enumerable:!1,configurable:!1},_pin:{value:A,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:n,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},V);}V=this;p(F,function(){H?T(H.encoding,H.signature):C.encrypt(Ua(A,"utf-8"),{result:function(g){P(g);},error:F.error});},V);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof P?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin:!1;}});sd.ACTION=pc.ACTION;sa=function(n,w,r,A,C){p(C,function(){var H,F,T,V,ca,O,X;H=n.getMslStore().getCryptoContext(w);F=H?H:new ib(n,w);H=Va(r,"utf-8");T=new DOMParser().parseFromString(H,"application/xml");H=T.getElementsByTagName("action");V=T.getElementsByTagName("nonce");T=T.getElementsByTagName("pin");ca=H && 1 == H.length && H[0].firstChild?H[0].firstChild.nodeValue:null;O=V && 1 == V.length && V[0].firstChild?parseInt(V[0].firstChild.nodeValue):null;X=T && 1 == T.length && T[0].firstChild?T[0].firstChild.nodeValue:null;if(!ca || !O || !X)throw new ja(g.XML_PARSE_ERROR,"MDX authdata " + oa(r));H="action=" + J(ca) + "&nonce=" + J(O.toString()) + "&pin=" + J(X);F.verify(Ua(H,"utf-8"),A,{result:function(n){p(C,function(){var w;if(!n)throw new N(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + oa(r));w=ta(X);F.decrypt(w,{result:function(d){p(C,function(){var b;b=Va(d,"utf-8");new P(ca,O,b,null,{encoding:r,signature:A},C);});},error:C.error});});},error:C.error});});};ec=Hb.extend({init:function X(g,n,p,r,A,H){var C,J,F,P,T,ca;X.base.call(this,db.MDX);C=null;J=null;F=null;if("string" === typeof p)(g=w.MSL_LEGACY,F=p);else if(p instanceof Uint8Array)(g=w.NTBA,J=p);else if(p instanceof hb)(g=w.MSL,C=p);else throw new TypeError("Controller token " + p + " is not a master token, encrypted CTicket, or MSL token construct.");P=p=null;T=null;if(H){ca=H.controllerAuthData;p=ca.getAction();P=ca.getPin();H=H.userIdToken;ca instanceof O?T=ca.getUserIdToken().customer:H && (T=H.customer);}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},action:{value:p,writable:!1,configurable:!1},targetPin:{value:n,writable:!1,configurable:!1},controllerPin:{value:P,writable:!1,configurable:!1},customer:{value:T,writable:!1,configurable:!1},_masterToken:{value:C,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:J,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:A,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var g,n;g={};switch(this.mechanism){case w.MSL:n=JSON.parse(JSON.stringify(this._masterToken));g.mastertoken=n;break;case w.NTBA:n=Va(this._encryptedCTicket,"utf-8");g.cticket=n;break;case w.MSL_LEGACY:g.cticket=this._mslTokens;break;default:throw new ea("Unsupported MDX mechanism.");}g.pin=this.targetPin;g.mdxauthdata=oa(this._controllerEncoding);g.signature=oa(this._signature);return g;},equals:function wa(g){return this === g?!0:g instanceof ec?wa.base.call(this,g) && (this._masterToken == g._masterToken || this._masterToken && this._masterToken.equals(g._masterToken)) && (this._encryptedCTicket == g._encryptedCTicket || this._encryptedCTicket && ab(this._encryptedCTicket,g._encryptedCTicket)) && this._mslTokens == g._mslTokens && ab(this._controllerEncoding,g._controllerEncoding) && ab(this._signature,g._signature):!1;}});ue=function(n,w,r){function A(A,H,C,J){Tb(n,H,{result:function(H){p(r,function(){if(!H.isDecrypted())throw new Ca(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + w.toString());ca(n,H,C,J,{result:function(g){p(r,function(){var d,b;d=g.getEncoding();b=g.getSignature();return new ec(n,A,H,d,b,{controllerAuthData:g,userIdToken:null});});},error:r.error});});},error:function(n){p(r,function(){if(n instanceof F)throw new Ca(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),n);throw n;});}});}function H(n,w,A,H){p(r,function(){throw new Ca(g.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function C(A,H,C,J){function P(d,b){p(b,function(){var a,c;try{a=ta(d);}catch(k){throw new Ca(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),k);}if(!a || 0 == a.length)throw new Ca(g.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(w));try{c=JSON.parse(Va(a,"utf-8"));Tb(n,c,{result:function(a){p(b,function(){if(!a.isDecrypted())throw new Ca(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + w.toString());return a;});},error:function(a){p(b,function(){if(a instanceof F)throw new Ca(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),a);throw a;});}});}catch(k){if(k instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w),k);throw k;}});}function ca(d,b,a){p(a,function(){var c,k;try{c=ta(d);}catch(h){throw new Ca(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),h);}if(!c || 0 == c.length)throw new Ca(g.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(w));try{k=JSON.parse(Va(c,"utf-8"));Ub(n,k,b,{result:function(b){p(a,function(){if(!b.isDecrypted())throw new Ca(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(w));return b;});},error:function(b){p(a,function(){if(b instanceof F)throw new Ca(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),b);throw b;});}});}catch(h){if(h instanceof SyntaxError)throw new ja(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w),h);throw h;}});}p(r,function(){var d;d=H.split(",");if(3 != d.length || "1" != d[0])throw new Ca(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(w));P(d[1],{result:function(b){ca(d[2],b,{result:function(a){sa(n,b,C,J,{result:function(b){p(r,function(){return new ec(n,A,H,C,J,{controllerAuthData:b,userIdToken:a});});},error:function(a){p(r,function(){if(a instanceof Rb)throw new Ca(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(w),a);throw a;});}});},error:r.error});},error:r.error});});}p(r,function(){var n,p,r,J,F;n=w.pin;p=w.mdxauthdata;r=w.signature;if(!n || "string" !== typeof n || !p || "string" !== typeof p || !r || "string" !== typeof r)throw new ja(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w));try{J=ta(p);F=ta(r);}catch(Kb){throw new Ca(g.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(w),Kb);}if(w.mastertoken){p=w.mastertoken;if(!p || "object" !== typeof p)throw new ja(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w));A(n,p,J,F);}else if(w.cticket){p=w.cticket;if(!p || "string" !== typeof p)throw new ja(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w));-1 == p.indexOf(",")?H(n,p,J,F):C(n,p,J,F);}else throw new Ca(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(w));});};})();(function(){var n,p,r;n=rd.ACTION;p=pc.ACTION;r=sd.ACTION;ve=nc.extend({init:function H(){H.base.call(this,db.MDX);},createData:function(g,n,p,r){ue(g,p,r);},authenticate:function(A,C,J,F){if(!(J instanceof ec))throw new ea("Incorrect authentication data type " + J.getClass().getName() + ".");A=J.action;switch(J.mechanism){case Mc.MSL:if(n != A)throw new Ca(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Mc.NTBA:if(p != A)throw new Ca(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Mc.MSL_LEGACY:if(r != A)throw new Ca(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);}A=J.controllerPin;C=J.targetPin;if(!A || !C)throw new Ca(g.MDX_PIN_BLANK).setUser(J);if(A != C)throw new Ca(g.MDX_PIN_MISMATCH).setUser(J);A=J.customer;if(!A)throw new Ca(g.MDX_USER_UNKNOWN).setUser(J);if(F && (F=F.customer,!A.equals(F)))throw new Ca(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + A + "; uit customer " + F).setUser(J);return A;}});})();(function(){var n,p,r;n={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};p=xe=ma.Class.create({init:function(g,n){Object.defineProperties(this,{email:{value:g,writable:!1,enumerable:!0,configurable:!1},password:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});r=ye=ma.Class.create({init:function(g,n){Object.defineProperties(this,{netflixId:{value:g,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});qc=Hb.extend({init:function H(g,n,A,C){var J,F,V,ca;H.base.call(this,db.SSO);J=null;F=null;V=null;ca=null;A instanceof p?(J=A.email,F=A.password):A instanceof r && (V=A.netflixId,ca=A.secureNetflixId);Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},token:{value:n,writable:!1,configurable:!1},email:{value:J,writable:!1,configurable:!1},password:{value:F,writable:!1,configurable:!1},netflixId:{value:V,writable:!1,configurable:!1},secureNetflixId:{value:ca,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof C?null:C,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.mechanism=this.mechanism;g.token=oa(this.token);this.email && this.password?(g.email=this.email,g.password=this.password):this.netflixId && this.secureNetflixId && (g.netflixid=this.netflixId,g.securenetflixid=this.secureNetflixId);this.profileGuid && (g.profileguid=this.profileGuid);return g;},equals:function na(g){return this === g?!0:g instanceof qc?na.base.call(this,g) && this.mechanism == g.mechanism && ab(this.token,g.token) && this.email == g.email && this.password == g.password && this.netflixId == g.netflixId && this.secureNetflixId == g.secureNetflixId && this.profileGuid == g.profileGuid:!1;}});we=function(A){var C,J,F,P,O,V,X,na,T;C=A.mechanism;J=A.token;if(!C || !J || "string" !== typeof J)throw new ja(g.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(A));if(!n[C])throw new Ca(g.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(A));F=A.email;P=A.password;O=A.netflixid;V=A.securenetflixid;X=A.profileguid;if(F && !P || !F && P || O && !V || !O && V || F && O)throw new ja(g.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(A));try{na=ta(J);}catch(xa){throw new Ca(g.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(A),xa);}F && P?T=new p(F,P):O && V && (T=new r(O,V));return new qc(C,na,T,X);};})();Ye=nc.extend({init:function C(){C.base.call(this,db.SSO);},createData:function(g,n,w,r){p(r,function(){return we(w);});},authenticate:function(n,p,w,r){var C,H;if(!(w instanceof qc))throw new ea("Incorrect authentication data type " + w + ".");n=w.token;p=w.email;r=w.password;C=w.netflixId;H=w.secureNetflixId;if(!n || 0 == n.length)throw new Ca(g.SSOTOKEN_BLANK);if(!(null === p && null === r || p && r))throw new Ca(g.EMAILPASSWORD_BLANK);if(!(null === C && null === H || C && H))throw new Ca(g.NETFLIXID_COOKIES_BLANK).setUser(w);throw new Ca(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(w);}});(function(){rc=Hb.extend({init:function J(g,n){J.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:g,writable:!1,configurable:!1},profileGuid:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));g.profileguid=this.profileGuid;return g;},equals:function w(g){return this == g?!0:g instanceof rc?w.base.call(this,g) && this.userIdToken.equals(g.userIdToken) && this.profileGuid == g.profileGuid:!1;}});ze=function(n,r,F,O){p(O,function(){var w,H;if(!r)throw new Ca(g.USERAUTH_MASTERTOKEN_MISSING);w=F.useridtoken;H=F.profileguid;if("object" !== typeof w || "string" !== typeof H)throw new ja(g.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(F));Ub(n,w,r,{result:function(n){p(O,function(){if(!n.isDecrypted())throw new Ca(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(F));return new rc(n,H);});},error:function(n){O.error(new Ca(g.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(F),n));}});});};})();Ze=nc.extend({init:function J(g){J.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,n,p,r){ze(g,n,p,r);},authenticate:function(n,p,r,F){if(!(r instanceof rc))throw new ea("Incorrect authentication data type " + r + ".");p=r.userIdToken;n=r.profileGuid;if(!n)throw new Ca(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);p=p.user;if(!p)throw new Ca(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);n=this._store.switchUsers(p,n);if(!n)throw new Ca(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(F && (F=F.user,!n.equals(F)))throw new Ca(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + n + "; uit user " + F).setUserAuthenticationData(r);return n;}});Object.freeze({ENTITY_REAUTH:n.ENTITY_REAUTH,ENTITYDATA_REAUTH:n.ENTITYDATA_REAUTH});$e=ma.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(g,n){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(g){},getUserAuthenticationFactory:function(g){},getTokenFactory:function(){},getKeyExchangeFactory:function(g){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ae=ma.Class.create({setCryptoContext:function(g,n){},getMasterToken:function(){},getNonReplayableId:function(g){},getCryptoContext:function(g){},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(g,n){},removeServiceTokens:function(g,n,p){},clearServiceTokens:function(){}});(function(){var n;n=Pb;pd=function(p,r){var w;w={};switch(p){case n.LZW:return Cd(r,w);case n.GZIP:return gzip$compress(r);default:throw new F(g.UNSUPPORTED_COMPRESSION,p);}};Jc=function(p,r,J){switch(p){case n.LZW:return Dd(r);case n.GZIP:return gzip$uncompress(r);default:throw new F(g.UNSUPPORTED_COMPRESSION,p.name());}};})();Ae.extend({setCryptoContext:function(g,n){},getMasterToken:function(){return null;},getNonReplayableId:function(g){return 1;},getCryptoContext:function(g){return null;},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){return null;},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(n,p){if(p){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!p.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + p.mtSerialNumber + "; mt " + n.serialNumber);}return [];},removeServiceTokens:function(n,p,r){if(r && p && !r.isBoundTo(p))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + r.masterTokenSerialNumber + "; mt " + p.serialNumber);},clearServiceTokens:function(){}});(function(){Be=Ae.extend({init:function w(){w.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(g,n){var p;if(n){p=g.uniqueKey();this.masterTokens[p]=g;this.cryptoContexts[p]=n;}else this.removeCryptoContext(g);},getMasterToken:function(){var g,n,p;g=null;for(n in this.masterTokens){p=this.masterTokens[n];if(!g || p.isNewerThan(g))g=p;}return g;},getNonReplayableId:function(g){var n;g=g.serialNumber;n=this.nonReplayableIds[g] !== ha?this.nonReplayableIds[g]:0;if(0 > n || n > Ga)throw new ea("Non-replayable ID " + n + " is outside the valid range.");n=n == Ga?0:n + 1;return this.nonReplayableIds[g]=n;},getCryptoContext:function(g){return this.cryptoContexts[g.uniqueKey()];},removeCryptoContext:function(g){var n,p,r,w;n=g.uniqueKey();if(this.masterTokens[n]){p=g.serialNumber;for(r in this.masterTokens){w=this.masterTokens[r];if(!w.equals(g) && w.serialNumber == p){delete this.masterTokens[n];delete this.cryptoContexts[n];return;}}Object.keys(this.userIdTokens).forEach(function(n){n=this.userIdTokens[n];n.isBoundTo(g) && this.removeUserIdToken(n);},this);try{this.removeServiceTokens(null,g,null);}catch(ra){if(ra instanceof F)throw new ea("Unexpected exception while removing master token bound service tokens.",ra);throw ra;}delete this.nonReplayableIds[p];delete this.masterTokens[n];delete this.cryptoContexts[n];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(g){for(var n in g){delete g[n];}},this);},addUserIdToken:function(n,p){var r,w;r=!1;for(w in this.masterTokens){if(p.isBoundTo(this.masterTokens[w])){r=!0;break;}}if(!r)throw new F(g.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + p.mtSerialNumber);this.userIdTokens[n]=p;},getUserIdToken:function(g){return this.userIdTokens[g];},removeUserIdToken:function(g){var n,p,r;n=null;for(p in this.masterTokens){r=this.masterTokens[p];if(g.isBoundTo(r)){n=r;break;}}Object.keys(this.userIdTokens).forEach(function(p){if(this.userIdTokens[p].equals(g)){try{this.removeServiceTokens(null,n,g);}catch(ra){if(ra instanceof F)throw new ea("Unexpected exception while removing user ID token bound service tokens.",ra);throw ra;}delete this.userIdTokens[p];}},this);},clearUserIdTokens:function(){for(var g in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[g]);}},addServiceTokens:function(n){n.forEach(function(n){var p,r,w;if(n.isMasterTokenBound()){p=!1;for(r in this.masterTokens){if(n.isBoundTo(this.masterTokens[r])){p=!0;break;}}if(!p)throw new F(g.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + n.mtSerialNumber);}if(n.isUserIdTokenBound()){p=!1;for(w in this.userIdTokens){if(n.isBoundTo(this.userIdTokens[w])){p=!0;break;}}if(!p)throw new F(g.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + n.uitSerialNumber);}},this);n.forEach(function(g){var n;if(g.isUnbound())this.unboundServiceTokens[g.uniqueKey()]=g;else {if(g.isMasterTokenBound()){n=this.mtServiceTokens[g.mtSerialNumber];n || (n={});n[g.uniqueKey()]=g;this.mtServiceTokens[g.mtSerialNumber]=n;}g.isUserIdTokenBound() && ((n=this.uitServiceTokens[g.uitSerialNumber]) || (n={}),n[g.uniqueKey()]=g,this.uitServiceTokens[g.uitSerialNumber]=n);}},this);},getServiceTokens:function(n,p){var r,w,H;if(p){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!p.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + p.mtSerialNumber + "; mt " + n.serialNumber);}r={};for(w in this.unboundServiceTokens){H=this.unboundServiceTokens[w];r[H.uniqueKey()]=H;}if(n && (w=this.mtServiceTokens[n.serialNumber]))for(var O in w){H=w[O];H.isUserIdTokenBound() || (r[O]=H);}if(p && (O=this.uitServiceTokens[p.serialNumber]))for(var P in O){w=O[P];w.isBoundTo(n) && (r[P]=w);}P=[];for(var sa in r){P.push(r[sa]);}return P;},removeServiceTokens:function(n,p,r){var w,H,O;if(r && p && !r.isBoundTo(p))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + r.mtSerialNumber + "; mt " + p.serialNumber);!n || p || r || Object.keys(this.unboundServiceTokens).forEach(function(g){this.unboundServiceTokens[g].name == n && delete this.unboundServiceTokens[g];},this);p && !r && (w=this.mtServiceTokens[p.serialNumber]) && (O=Object.keys(w),O.forEach(function(g){var p;p=w[g];n && p.name != n || delete w[g];},this),this.mtServiceTokens[p.serialNumber]=w);r && (H=this.uitServiceTokens[r.serialNumber]) && (p=Object.keys(H),p.forEach(function(g){var p;p=H[g];n && p.name != n || delete H[g];},this),this.uitServiceTokens[r.serialNumber]=H);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(g){for(var n in g){delete g[n];}},this);}});})();Je=Te.extend({init:function w(){w.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(g,n){var p;if(n && g && g.length){p=oa(g);this._contextMap[p]=n;}},getCryptoContext:function(g){return g && g.length?(g=oa(g),this._contextMap[g] || null):null;},removeCryptoContext:function(g){g && g.length && (g=oa(g),delete this._contextMap[g]);}});Ce=Me.extend({init:function H(g,n,p,r){H.base.call(this,g);Object.defineProperties(this,{_kde:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:p,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,p){if(!(p instanceof nb))throw new ea("Incorrect authentication data type " + JSON.stringify(p) + ".");if(p.identity != this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"mgk " + p.identity);return new Cc(n,this.localIdentity,this._kde,this._kdh,this._kdw);}});af=Nd.extend({init:function na(g,n,p,r){na.base.call(this,g);Object.defineProperties(this,{_kpe:{value:n,writable:!1,enumerable:!1,configurable:!1},_kph:{value:p,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,p){if(!(p instanceof sb))throw new ea("Incorrect authentication data type " + JSON.stringify(p) + ".");if(p.identity != this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"psk " + p.identity);return new Cc(n,this.localIdentity,this._kpe,this._kph,this._kpw);}});cf=Be.extend({init:function ca(g,n,p,r,F,O){ca.base.call(this);this._log=g;this._esn=n;this._keyRequestData=p;this._createKeyRequestData=r;this._systemKeyName=F;this._systemKeyWrapFormat=O;},setCryptoContext:function Ja(g,n,p){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:g.sequenceNumber,SerialNumber:g.serialNumber,Expiration:g.expiration.getTime()});Ja.base.call(this,g,n);!p && (g=r._createKeyRequestData) && (r._log.trace("Generating new keyx request data"),g().then(function(g){r._keyRequestData=g;},function(g){r._log.error("Unable to generate new keyx request data","" + g);}));},addUserIdToken:function ra(g,n){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:n.serialNumber,MTSerialNumber:n.mtSerialNumber,Expiration:n.expiration.getTime()});ra.base.call(this,g,n);},addServiceTokens:function P(g){P.base.call(this,g.filter(function(g){return !bf[g.name];}));},getUserIdTokenKeys:function(){var g,n;g=[];for(n in this.userIdTokens){g.push(n);}return g;},rekeyUserIdToken:function(g,n){this.userIdTokens[g] && (this.userIdTokens[n]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var n;n=this;p(g,function(){var r;r=n.getMasterToken();r?n.getKeysForStore(r,{result:function(F){p(g,function(){var g,p,P;g=n.userIdTokens;p=Object.keys(g).map(function(p){var F;F=g[p];return {userId:p,userIdTokenJSON:g[p].toJSON(),serviceTokenJSONList:n.getServiceTokens(r,F).map(Ge)};});F.esn=n._esn;F.masterTokenJSON=r.toJSON();F.userList=p;P=n._keyRequestData.storeData;P && Object.keys(P).forEach(function(g){F[g]=P[g];});return F;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(n,r){var P;P=this;p(r,function(){var p;p=P.getCryptoContext(n);p={encryptionKey:p.encryptionKey,hmacKey:p.hmacKey};if(p.encryptionKey && p.hmacKey){if(P._systemKeyWrapFormat)P.wrapKeysWithSystemKey(p,r);else return p;}else throw new F(g.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(n,r){var P;P=this;wd(this._systemKeyName,{result:function(O){p(r,function(){var p,V,X,N;p=n.encryptionKey;V=n.hmacKey;X=p[fc];N=V[fc];if(X && N)return {wrappedEncryptionKey:X,wrappedHmacKey:N};Promise.resolve().then(function(){return Promise.all([Ia.wrapKey(P._systemKeyWrapFormat,p,O,O.algorithm),Ia.wrapKey(P._systemKeyWrapFormat,V,O,O.algorithm)]);}).then(function(g){X=oa(g[0]);p[fc]=X;N=oa(g[1]);V[fc]=N;r.result({wrappedEncryptionKey:X,wrappedHmacKey:N});})["catch"](function(n){r.error(new F(g.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",n));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(n,r){var P;P=this;wd(this._systemKeyName,{result:function(O){p(r,function(){var p,V;p=ta(n.wrappedEncryptionKey);V=ta(n.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ia.unwrapKey(P._systemKeyWrapFormat,p,O,O.algorithm,qb,!1,Ib),Ia.unwrapKey(P._systemKeyWrapFormat,V,O,O.algorithm,rb,!1,Sb)]);}).then(function(g){var p;p=g[0];g=g[1];p[fc]=n.wrappedEncryptionKey;g[fc]=n.wrappedHmacKey;r.result({encryptionKey:p,hmacKey:g});})["catch"](function(n){r.error(new F(g.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",n));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(g,n,p,r){var O,V;function F(g,r){var F;try{F=p.userList.slice();}catch(wb){}F?(function Gb(){var p;p=F.shift();p?Ub(n,p.userIdTokenJSON,g,{result:function(n){try{O.addUserIdToken(p.userId,n);P(g,n,p.serviceTokenJSONList,{result:Gb,timeout:Gb,error:Gb});}catch(Kb){Gb();}},timeout:Gb,error:Gb}):r.result();})():r.result();}function P(g,p,r,F){var P,V;try{P=r.slice();}catch(pa){}if(P){V=O.getCryptoContext(g);(function Kb(){var d;d=P.shift();d?Ic(n,d,g,p,V,{result:function(b){O.addServiceTokens([b]);Kb();},timeout:function(){Kb();},error:function(){Kb();}}):F.result();})();}else F.result();}O=this;V=O._log;p.esn != O._esn?(V.error("Esn mismatch, starting fresh"),r.error()):(function(r){var T,X,N,xa;function F(){var p;if(!T && X && N && xa){T=!0;p=new ib(n,X,g.esn,{rawKey:N},{rawKey:xa});O.setCryptoContext(X,p,!0);r.result(X);}}function P(g,d){V.error(g,d && "" + d);T || (T=!0,r.error());}p.masterTokenJSON?(Tb(n,p.masterTokenJSON,{result:function(g){X=g;F();},timeout:function(){P("Timeout parsing MasterToken");},error:function(g){P("Error parsing MasterToken",g);}}),O._systemKeyWrapFormat?O.unwrapKeysWithSystemKey(p,{result:function(g){N=g.encryptionKey;xa=g.hmacKey;F();},timeout:function(){P("Timeout unwrapping keys");},error:function(g){P("Error unwrapping keys",g);}}):Promise.resolve().then(function(){return Ia.encrypt({name:qb.name,iv:new Uint8Array(16)},p.encryptionKey,new Uint8Array(1));}).then(function(g){N=p.encryptionKey;})["catch"](function(g){P("Error loading encryptionKey");}).then(function(){return Ia.sign(rb,p.hmacKey,new Uint8Array(1));}).then(function(g){xa=p.hmacKey;F();})["catch"](function(g){P("Error loading hmacKey");})):P("Persisted store is corrupt");})({result:function(g){F(g,r);},timeout:r.timeout,error:r.error});}});bf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fc="$netflix$msl$wrapsys";df=$e.extend({init:function(g,n,p,r,F,O){var P,V;P=new lc([Pb.LZW]);V=new Oe();V.addPublicKey(n,p);r[Qa.RSA]=new Ne(V);n={};n[db.EMAIL_PASSWORD]=new Xe();n[db.NETFLIXID]=new We();n[db.MDX]=new ve();n[db.SSO]=new Ye();n[db.SWITCH_PROFILE]=new Ze();g={_mslCryptoContext:{value:new Le(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:P,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:F,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:O,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Hd();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,n){n.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(n){return n.scheme == g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});yd=pe.extend({init:function(g,n,p,r){this._log=g;this._mslContext=n;this._mslRequest=p;this._keyRequestData=r;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(g,n,r,F){var P,O;P=this._mslRequest;O=this._mslContext;p(F,function(){var n,p;if(g || !P.shouldSendUserAuthData)return null;if(P.token){P.email?n=new xe(P.email,P.password):P.netflixId && (n=new ye(P.netflixId,P.secureNetflixId));p="undefined" === typeof P.profileGuid?null:P.profileGuid;return new qc(P.mechanism,Ua(P.token),n,p);}return P.email?new oc(P.email,P.password):P.netflixId?new Xb(P.netflixId,P.secureNetflixId):P.mdxControllerToken?(n=new pc("regpairrequest",P.mdxNonce,P.mdxEncryptedPinB64,P.mdxSignature).getEncoding(),new ec(O,P.mdxPin,P.mdxControllerToken,n,P.mdxSignature)):P.useNetflixUserAuthData?new Xb():P.profileGuid?(n=P.userId,n=O.getMslStore().userIdTokens[n],new rc(n,P.profileGuid)):r && P.sendUserAuthIfRequired?new Xb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,n,p){var r,F,P,O,V,N;r=this._log;F=(this._mslRequest.serviceTokens || []).slice();P=this._mslContext;n=P.getMslStore();O=g.builder.getMasterToken();V=this.getUserId();N=n.getUserIdToken(V);(function fa(){var n;n=F.shift();if(n)try{n instanceof Lb?(g.addPrimaryServiceToken(n),fa()):Ic(P,n,O,N,null,{result:function(n){try{g.addPrimaryServiceToken(n);}catch(id){r.warn("Exception adding service token","" + id);}fa();},timeout:function(){r.warn("Timeout parsing service token");fa();},error:function(g){r.warn("Error parsing service token","" + g);fa();}});}catch(Gb){r.warn("Exception processing service token","" + Gb);fa();}else p.result(!0);})();},write:function(g,n,p){var r;r=Ua(this._mslRequest.body);g.write(r,0,r.length,n,{result:function(F){F != r.length?p.error(new Ya("Not all data was written to output.")):g.flush(n,{result:function(){p.result(!0);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},getDebugContext:function(){this._dc || (this._dc=new ef(this._log,this._mslRequest));return this._dc;}});ef=Ve.extend({init:function(g,n){this._log=g;this._mslRequest=n;},sentHeader:function(g){this._log.trace("Sent MSL header",xd(this._mslRequest,g),g.serviceTokens && g.serviceTokens.map(He).join("\n"));},receivedHeader:function(g){var n,p;n=xd(this._mslRequest,g);p=g.errorCode;p?this._log.warn("Received MSL error header",n,{errorCode:p,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",n);}});De={PSK:function(g){return Sc(g,Qa.PSK,af,sb,jd,Gc);},MGK:function(g){return Sc(g,Qa.MGK,Ce,nb,jd,Gc);},MGK_WITH_FALLBACK:function(n){var p,r;switch(n.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":p="PSK";break;default:p="MGK";}r=De[p];if(!r)throw new F(g.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + p);return r(n);},MGK_JWE:function(g){return Sc(g,Qa.MGK,Ce,nb,Td,hd);},JWK_RSA:function(g){return Tc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Hc.JWK_RSA);},JWK_RSAES:function(g){return Tc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWK_RSAES);},JWEJS_RSA:function(g){return Tc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWEJS_RSA);}};O.netflix=O.netflix || ({});O.netflix.msl={createMslClient:function(n,p){var r,O,P,T,N;r=n.log;N=n.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Sa && Sa.generateKey && Sa.importKey && Sa.unwrapKey))throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto");eb=Sa.generateKey({name:"AES-CBC",length:128},!0,Ib).then?xc.V2014_02:xc.LEGACY;N("mslisik");return Ia.importKey("spki",n.serverIdentityKeyData,Id,!1,["verify"]);}).then(function(n){return new Promise(function(p,r){Ob(n,{result:p,error:function(){r(new F(g.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(p){O=p;if(p=De[n.authenticationType])return (N("mslcc"),p(n));throw new F(g.INTERNAL_EXCEPTION,"Invalid authenticationType: " + n.authenticationType);}).then(function(g){var p;P=new cf(r,n.esn,g.keyRequestData,g.createKeyRequestData,n.authenticationKeyNames.s,n.systemKeyWrapFormat);T=new df(P,n.serverIdentityId,O,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);p=n.storeState;if(p)return (N("mslss"),r.info("Loading store state"),new Promise(function(g,r){P.loadStoreState(n,T,p,{result:g,timeout:g,error:g});}));r.info("No store state, starting fresh");}).then(function(){var g;g=new qe();N("msldone");p.result(new Ie(r,g,T,P,n.ErrorSubCodes));})["catch"](function(g){p.error(g);});},IHttpLocation:Re,MslIoException:Ya};(function(){var ta,pa,Ca;function g(){g=function(){};pa.Symbol || (pa.Symbol=n);}function n(d){return "jscomp_symbol_" + (d || "") + Ca++;}function p(){var d;g();d=pa.Symbol.iterator;d || (d=pa.Symbol.iterator=pa.Symbol("iterator"));"function" != typeof Array.prototype[d] && ta(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return r(this);}});p=function(){};}function r(d){var b;b=0;return F(function(){return b < d.length?{done:!1,value:d[b++]}:{done:!0};});}function F(d){p();d={next:d};d[pa.Symbol.iterator]=function(){return this;};return d;}function T(d){var b;p();g();p();b=d[Symbol.iterator];return b?b.call(d):r(d);}function N(d,b){var k;function a(){}a.prototype=b.prototype;d.prototype=new a();d.prototype.constructor=d;for(var c in b){if(Object.defineProperties){k=Object.getOwnPropertyDescriptor(b,c);k && Object.defineProperty(d,c,k);}else d[c]=b[c];}}function ea(d){if(!(d instanceof Array)){d=T(d);for(var b,a=[];!(b=d.next()).done;){a.push(b.value);}d=a;}return d;}function ja(d,b){var a,k;if(b){a=pa;d=d.split(".");for(var c=0;c < d.length - 1;c++){k=d[c];(k in a) || (a[k]={});a=a[k];}d=d[d.length - 1];c=a[d];b=b(c);b != c && null != b && ta(a,d,{configurable:!0,writable:!0,value:b});}}function ha(d,b){return Object.prototype.hasOwnProperty.call(d,b);}function fa(d,b){var a,c;p();d instanceof String && (d+="");a=0;c={next:function(){var k;if(a < d.length){k=a++;return {value:b(k,d[k]),done:!1};}c.next=function(){return {done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function ma(d,b,a){if(null == d)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return d + "";}function oa(d,b,a){var h;d instanceof String && (d=String(d));for(var c=d.length,k=0;k < c;k++){h=d[k];if(b.call(a,h,k,d))return {lk:k,U5:h};}return {lk:-1,U5:void 0};}ta="function" == typeof Object.defineProperties?Object.defineProperty:function(d,b,a){if(a.get || a.set)throw new TypeError("ES3 does not support getters and setters.");d != Array.prototype && d != Object.prototype && (d[b]=a.value);};pa="undefined" != typeof O && O === this?this:"undefined" != typeof global && null != global?global:this;Ca=0;ja("Object.setPrototypeOf",function(d){return d?d:"object" != typeof ("").__proto__?null:function(b,a){b.__proto__=a;if(b.__proto__ !== a)throw new TypeError(b + " is not extensible");return b;};});ja("Object.assign",function(d){return d?d:function(b,a){var k;for(var c=1;c < arguments.length;c++){k=arguments[c];if(k)for(var h in k){ha(k,h) && (b[h]=k[h]);}}return b;};});ja("Object.getOwnPropertySymbols",function(d){return d?d:function(){return [];};});ja("Promise",function(d){var c,k;function b(a){var b;this.pT=0;this.Lpa=void 0;this.ZR=[];b=this.Rfa();try{a(b.resolve,b.reject);}catch(f){b.reject(f);}}function a(){this.pz=null;}if(d)return d;a.prototype.$Ha=function(a){null == this.pz && (this.pz=[],this.Uhb());this.pz.push(a);};a.prototype.Uhb=function(){var a;a=this;this.aIa(function(){a.fsb();});};c=pa.setTimeout;a.prototype.aIa=function(a){c(a,0);};a.prototype.fsb=function(){var a,f;for(;this.pz && this.pz.length;){a=this.pz;this.pz=[];for(var b=0;b < a.length;++b){f=a[b];delete a[b];try{f();}catch(q){this.Whb(q);}}}this.pz=null;};a.prototype.Whb=function(a){this.aIa(function(){throw a;});};b.prototype.Rfa=function(){var b,f;function a(a){return function(c){f || (f=!0,a.call(b,c));};}b=this;f=!1;return {resolve:a(this.JMb),reject:a(this.npa)};};b.prototype.JMb=function(a){var c;if(a === this)this.npa(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.hPb(a);else {a:switch(typeof a){case "object":c=null != a;break a;case "function":c=!0;break a;default:c=!1;}c?this.IMb(a):this.BNa(a);}};b.prototype.IMb=function(a){var b;b=void 0;try{b=a.then;}catch(f){this.npa(f);return;}"function" == typeof b?this.iPb(b,a):this.BNa(a);};b.prototype.npa=function(a){this.IZa(2,a);};b.prototype.BNa=function(a){this.IZa(1,a);};b.prototype.IZa=function(a,b){if(0 != this.pT)throw Error("Cannot settle(" + a + ", " + b | "): Promise already settled in state" + this.pT);this.pT=a;this.Lpa=b;this.gsb();};b.prototype.gsb=function(){if(null != this.ZR){for(var a=this.ZR,b=0;b < a.length;++b){a[b].call();a[b]=null;}this.ZR=null;}};k=new a();b.prototype.hPb=function(a){var b;b=this.Rfa();a.gZ(b.resolve,b.reject);};b.prototype.iPb=function(a,b){var f;f=this.Rfa();try{a.call(b,f.resolve,f.reject);}catch(q){f.reject(q);}};b.prototype.then=function(a,c){var k,l,m;function f(a,b){return "function" == typeof a?function(b){try{k(a(b));}catch(y){l(y);}}:b;}m=new b(function(a,b){k=a;l=b;});this.gZ(f(a,k),f(c,l));return m;};b.prototype["catch"]=function(a){return this.then(void 0,a);};b.prototype.gZ=function(a,b){var c;function f(){switch(c.pT){case 1:a(c.Lpa);break;case 2:b(c.Lpa);break;default:throw Error("Unexpected state: " + c.pT);}}c=this;null == this.ZR?k.$Ha(f):this.ZR.push(function(){k.$Ha(f);});};b.resolve=function(a){return a instanceof b?a:new b(function(b){b(a);});};b.reject=function(a){return new b(function(b,f){f(a);});};b.race=function(a){return new b(function(c,f){for(var k=T(a),l=k.next();!l.done;l=k.next()){b.resolve(l.value).gZ(c,f);}});};b.all=function(a){var c,f;c=T(a);f=c.next();return f.done?b.resolve([]):new b(function(a,l){var q,m;function k(b){return function(f){q[b]=f;m--;0 == m && a(q);};}q=[];m=0;do {q.push(void 0);m++;b.resolve(f.value).gZ(k(q.length - 1),l);f=c.next();}while(!f.done);});};b.$jscomp$new$AsyncExecutor=function(){return new a();};return b;});ja("Array.prototype.entries",function(d){return d?d:function(){return fa(this,function(b,a){return [b,a];});};});ja("Array.prototype.keys",function(d){return d?d:function(){return fa(this,function(b){return b;});};});ja("Math.tanh",function(d){return d?d:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ja("String.prototype.includes",function(d){return d?d:function(b,a){return -1 !== ma(this,b,"includes").indexOf(b,a || 0);};});ja("Number.isNaN",function(d){return d?d:function(b){return "number" === typeof b && isNaN(b);};});ja("WeakMap",function(d){var k,h;function b(a){this.LQ=(h+=Math.random() + 1).toString();if(a){g();p();a=T(a);for(var b;!(b=a.next()).done;){b=b.value;this.set(b[0],b[1]);}}}function a(a){ha(a,k) || ta(a,k,{value:{}});}function c(b){var f;f=Object[b];f && (Object[b]=function(b){a(b);return f(b);});}if((function(){var a,b,c;if(!d || !Object.seal)return !1;try{a=Object.seal({});b=Object.seal({});c=new d([[a,2],[b,3]]);if(2 != c.get(a) || 3 != c.get(b))return !1;c["delete"](a);c.set(b,4);return !c.has(a) && 4 == c.get(b);}catch(l){return !1;}})())return d;k="$jscomp_hidden_" + Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");h=0;b.prototype.set=function(b,f){a(b);if(!ha(b,k))throw Error("WeakMap key fail: " + b);b[k][this.LQ]=f;return this;};b.prototype.get=function(a){return ha(a,k)?a[k][this.LQ]:void 0;};b.prototype.has=function(a){return ha(a,k) && ha(a[k],this.LQ);};b.prototype["delete"]=function(a){return ha(a,k) && ha(a[k],this.LQ)?delete a[k][this.LQ]:!1;};return b;});ja("Map",function(d){var h,m;function b(){var a;a={};return a.Rx=a.next=a.head=a;}function a(a,b){var f;f=a.bx;return F(function(){if(f){for(;f.head != a.bx;){f=f.Rx;}for(;f.next != f.head;){return (f=f.next,{done:!1,value:b(f)});}f=null;}return {done:!0,value:void 0};});}function c(a,b){var f,c,k;f=b && typeof b;"object" == f || "function" == f?h.has(b)?f=h.get(b):(f="" + ++m,h.set(b,f)):f="p_" + b;c=a.Ew[f];if(c && ha(a.Ew,f))for(a=0;a < c.length;a++){k=c[a];if(b !== b && k.key !== k.key || b === k.key)return {id:f,list:c,index:a,Je:k};}return {id:f,list:c,index:-1,Je:void 0};}function k(a){this.Ew={};this.bx=b();this.size=0;if(a){a=T(a);for(var f;!(f=a.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var a,b,c,k;if(!d || !d.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new d(T([[a,"s"]]));if("s" != b.get(a) || 1 != b.size || b.get({x:4}) || b.set({x:4},"t") != b || 2 != b.size)return !1;c=b.entries();k=c.next();if(k.done || k.value[0] != a || "s" != k.value[1])return !1;k=c.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !c.next().done?!1:!0;}catch(t){return !1;}})())return d;g();p();h=new WeakMap();k.prototype.set=function(a,b){var f;f=c(this,a);f.list || (f.list=this.Ew[f.id]=[]);f.Je?f.Je.value=b:(f.Je={next:this.bx,Rx:this.bx.Rx,head:this.bx,key:a,value:b},f.list.push(f.Je),this.bx.Rx.next=f.Je,this.bx.Rx=f.Je,this.size++);return this;};k.prototype["delete"]=function(a){a=c(this,a);return a.Je && a.list?(a.list.splice(a.index,1),a.list.length || delete this.Ew[a.id],a.Je.Rx.next=a.Je.next,a.Je.next.Rx=a.Je.Rx,a.Je.head=null,this.size--,!0):!1;};k.prototype.clear=function(){this.Ew={};this.bx=this.bx.Rx=b();this.size=0;};k.prototype.has=function(a){return ! !c(this,a).Je;};k.prototype.get=function(a){return (a=c(this,a).Je) && a.value;};k.prototype.entries=function(){return a(this,function(a){return [a.key,a.value];});};k.prototype.keys=function(){return a(this,function(a){return a.key;});};k.prototype.values=function(){return a(this,function(a){return a.value;});};k.prototype.forEach=function(a,b){for(var f=this.entries(),c;!(c=f.next()).done;){c=c.value;a.call(b,c[1],c[0],this);}};k.prototype[Symbol.iterator]=k.prototype.entries;m=0;return k;});ja("Set",function(d){function b(a){this.qu=new Map();if(a){a=T(a);for(var b;!(b=a.next()).done;){this.add(b.value);}}this.size=this.qu.size;}if((function(){var a,b,k,h;if(!d || !d.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new d(T([a]));if(!b.has(a) || 1 != b.size || b.add(a) != b || 1 != b.size || b.add({x:4}) != b || 2 != b.size)return !1;k=b.entries();h=k.next();if(h.done || h.value[0] != a || h.value[1] != a)return !1;h=k.next();return h.done || h.value[0] == a || 4 != h.value[0].x || h.value[1] != h.value[0]?!1:k.next().done;}catch(m){return !1;}})())return d;g();p();b.prototype.add=function(a){this.qu.set(a,a);this.size=this.qu.size;return this;};b.prototype["delete"]=function(a){a=this.qu["delete"](a);this.size=this.qu.size;return a;};b.prototype.clear=function(){this.qu.clear();this.size=0;};b.prototype.has=function(a){return this.qu.has(a);};b.prototype.entries=function(){return this.qu.entries();};b.prototype.values=function(){return this.qu.values();};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c;c=this;this.qu.forEach(function(k){return a.call(b,k,k,c);});};return b;});ja("Array.prototype.find",function(d){return d?d:function(b,a){return oa(this,b,a).U5;};});ja("String.prototype.endsWith",function(d){return d?d:function(b,a){var c;c=ma(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var k=b.length;0 < k && 0 < a;){if(c[--a] != b[--k])return !1;}return 0 >= k;};});ja("String.prototype.repeat",function(d){return d?d:function(b){var a;a=ma(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ja("Array.prototype.values",function(d){return d?d:function(){return fa(this,function(b,a){return a;});};});ja("String.prototype.startsWith",function(d){return d?d:function(b,a){var c,k,h;c=ma(this,b,"startsWith");b+="";k=c.length;h=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < h && a < k;){if(c[a++] != b[m++])return !1;}return m >= h;};});ja("Array.prototype.findIndex",function(d){return d?d:function(b,a){return oa(this,b,a).lk;};});ja("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});(function(d){var a;function b(c){var k;if(a[c])return a[c].W;k=a[c]={lk:c,RBb:!1,W:{}};d[c].call(k.W,k,k.W,b);k.RBb=!0;return k.W;}a={};b.r4b=d;b.K1b=a;b.d=function(a,k,h){b.sGb(a,k) || Object.defineProperty(a,k,{enumerable:!0,get:h});};b.r=function(a){g();g();"undefined" !== typeof Symbol && Symbol.toStringTag && (g(),Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(a,"__esModule",{value:!0});};b.t=function(a,k){var c;k & 1 && (a=b(a));if(k & 8 || k & 4 && "object" === typeof a && a && a.Vaa)return a;c=Object.create(null);b.r(c);Object.defineProperty(c,"default",{enumerable:!0,value:a});if(k & 2 && "string" != typeof a)for(var m in a){b.d(c,m,(function(b){return a[b];}).bind(null,m));}return c;};b.n=function(a){var c;c=a && a.Vaa?function(){return a["default"];}:function(){return a;};b.d(c,"a",c);return c;};b.sGb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};b.p="";return b(b.cNb=529);})([function(d,b,a){function c(){c=Object.assign || (function(a){for(var b,f=1,c=arguments.length;f < c;f++){b=arguments[f];for(var k in b){Object.prototype.hasOwnProperty.call(b,k) && (a[k]=b[k]);}}return a;});return c.apply(this,arguments);}function k(a,b){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(a,b){a.__proto__=b;}) || (function(a,b){for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}});return k(a,b);}function h(a,b){function f(){this.constructor=a;}k(a,b);a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());}function m(a,b){var f,c,k;f={};for(c in a){Object.prototype.hasOwnProperty.call(a,c) && 0 > b.indexOf(c) && (f[c]=a[c]);}if(null != a && "function" === typeof Object.getOwnPropertySymbols){k=0;for(c=Object.getOwnPropertySymbols(a);k < c.length;k++){0 > b.indexOf(c[k]) && Object.prototype.propertyIsEnumerable.call(a,c[k]) && (f[c[k]]=a[c[k]]);}}return f;}function f(a,b,f,c){var k,l,q;k=arguments.length;l=3 > k?b:null === c?c=Object.getOwnPropertyDescriptor(b,f):c;if("object" === typeof Reflect && "function" === typeof Reflect.Ez)l=Reflect.Ez(a,b,f,c);else for(var h=a.length - 1;0 <= h;h--){if(q=a[h])l=(3 > k?q(l):3 < k?q(b,f,l):q(b,f)) || l;}return (3 < k && l && Object.defineProperty(b,f,l),l);}function q(a,b){return function(f,c){b(f,c,a);};}function l(a,b){if("object" === typeof Reflect && "function" === typeof Reflect.Ld)return Reflect.Ld(a,b);}function u(a,b,f,c){return new (f || (f=Promise))(function(k,l){function q(a){try{m(c.next(a));}catch(Aa){l(Aa);}}function h(a){try{m(c["throw"](a));}catch(Aa){l(Aa);}}function m(a){a.done?k(a.value):new f(function(b){b(a.value);}).then(q,h);}m((c=c.apply(a,b || [])).next());});}function t(a,b){var k,l,q,h,m;function f(a){return function(b){return c([a,b]);};}function c(f){if(l)throw new TypeError("Generator is already executing.");for(;k;){try{if((l=1,q && (h=f[0] & 2?q["return"]:f[0]?q["throw"] || ((h=q["return"]) && h.call(q),0):q.next) && !(h=h.call(q,f[1])).done))return h;if((q=0,h))f=[f[0] & 2,h.value];switch(f[0]){case 0:case 1:h=f;break;case 4:return (k.label++,{value:f[1],done:!1});case 5:k.label++;q=f[1];f=[0];continue;case 7:f=k.zE.pop();k.AF.pop();continue;default:if(!(h=k.AF,h=0 < h.length && h[h.length - 1]) && (6 === f[0] || 2 === f[0])){k=0;continue;}if(3 === f[0] && (!h || f[1] > h[0] && f[1] < h[3]))k.label=f[1];else if(6 === f[0] && k.label < h[1])(k.label=h[1],h=f);else if(h && k.label < h[2])(k.label=h[2],k.zE.push(f));else {h[2] && k.zE.pop();k.AF.pop();continue;}}f=b.call(a,k);}catch(Aa){f=[6,Aa];q=0;}finally{l=h=0;}}if(f[0] & 5)throw f[1];return {value:f[0]?f[1]:void 0,done:!0};}k={label:0,sm:function(){if(h[0] & 1)throw h[1];return h[1];},AF:[],zE:[]};g();g();p();return (m={next:f(0),"throw":f(1),"return":f(2)},"function" === typeof Symbol && (m[Symbol.iterator]=function(){return this;}),m);}function x(a,b){for(var f in a){b.hasOwnProperty(f) || (b[f]=a[f]);}}function z(a){var b,f;g();g();p();b="function" === typeof Symbol && a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a && f >= a.length && (a=void 0);return {value:a && a[f++],done:!a};}};}function y(a,b){var f,c,k,l;g();g();p();f="function" === typeof Symbol && a[Symbol.iterator];if(!f)return a;a=f.call(a);k=[];try{for(;(void 0 === b || 0 < b--) && !(c=a.next()).done;){k.push(c.value);}}catch(va){l={error:va};}finally{try{c && !c.done && (f=a["return"]) && f.call(a);}finally{if(l)throw l.error;}}return k;}function B(){for(var a=[],b=0;b < arguments.length;b++){a=a.concat(y(arguments[b]));}return a;}function L(){for(var a=0,b=0,f=arguments.length;b < f;b++){a+=arguments[b].length;}for(var a=Array(a),c=0,b=0;b < f;b++){for(var k=arguments[b],l=0,q=k.length;l < q;(l++,c++)){a[c]=k[l];}}return a;}function I(a){return this instanceof I?(this.U5=a,this):new I(a);}function E(a,b,f){var m,u,t;function c(a){m[a] && (u[a]=function(b){return new Promise(function(f,c){1 < t.push([a,b,f,c]) || k(a,b);});});}function k(a,b){var f;try{f=m[a](b);f.value instanceof I?Promise.resolve(f.value.U5).then(l,q):h(t[0][2],f);}catch(ia){h(t[0][3],ia);}}function l(a){k("next",a);}function q(a){k("throw",a);}function h(a,b){(a(b),t.shift(),t.length) && k(t[0][0],t[0][1]);}g();if(!Symbol.OY)throw new TypeError("Symbol.asyncIterator is not defined.");m=f.apply(a,b || []);t=[];g();return (u={},c("next"),c("throw"),c("return"),u[Symbol.OY]=function(){return this;},u);}function da(a){var f,c;function b(b,k){f[b]=a[b]?function(f){return (c=!c)?{value:I(a[b](f)),done:"return" === b}:k?k(f):f;}:k;}g();p();return (f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f);}function W(a){var c,k;function b(b){k[b]=a[b] && (function(c){return new Promise(function(k,l){c=a[b](c);f(k,l,c.done,c.value);});});}function f(a,b,f,c){Promise.resolve(c).then(function(b){a({value:b,done:f});},b);}g();if(!Symbol.OY)throw new TypeError("Symbol.asyncIterator is not defined.");g();c=a[Symbol.OY];g();p();g();return c?c.call(a):(a="function" === typeof z?z(a):a[Symbol.iterator](),k={},b("next"),b("throw"),b("return"),k[Symbol.OY]=function(){return this;},k);}function n(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function M(a){var b;if(a && a.Vaa)return a;b={};if(null != a)for(var f in a){Object.hasOwnProperty.call(a,f) && (b[f]=a[f]);}b["default"]=a;return b;}function D(a){return a && a.Vaa?a:{"default":a};}a.r(b);a.d(b,"__extends",function(){return h;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return f;});a.d(b,"__param",function(){return q;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return u;});a.d(b,"__generator",function(){return t;});a.d(b,"__exportStar",function(){return x;});a.d(b,"__values",function(){return z;});a.d(b,"__read",function(){return y;});a.d(b,"__spread",function(){return B;});a.d(b,"__spreadArrays",function(){return L;});a.d(b,"__await",function(){return I;});a.d(b,"__asyncGenerator",function(){return E;});a.d(b,"__asyncDelegator",function(){return da;});a.d(b,"__asyncValues",function(){return W;});a.d(b,"__makeTemplateObject",function(){return n;});a.d(b,"__importStar",function(){return M;});a.d(b,"__importDefault",function(){return D;});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(40);b.tYb=d;d=a(532);b.GU=d.GU;d=a(72);b.Hq=d.Hq;b.oj=d.oj;b.Cv=d.Cv;d=a(548);b.xta=d.xta;b.Pc=d.Pc;d=a(549);b.N=d.N;d=a(550);b.N_a=d.N_a;d=a(551);b.bUa=d.bUa;d=a(283);b.l=d.l;b.I8=d.I8;d=a(552);b.optional=d.optional;d=a(553);b.Ai=d.Ai;d=a(554);b.rE=d.rE;d=a(555);b.FT=d.FT;d=a(556);b.rWa=d.rWa;d=a(281);b.s9=d.s9;d=a(96);b.id=d.id;d=a(84);b.Ez=d.Ez;d=a(286);b.L0a=d.L0a;b.O_a=d.O_a;b.cUa=d.cUa;b.T0a=d.T0a;d=a(128);b.XI=d.XI;a=a(557);b.ZTa=a.ZTa;},function(d,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Jq=b.I7=b.Zva=b.H7=b.Z5a=b.$5a=b.Yva=b.Vva=b.Y5a=b.Cya=b.GV=b.sV=b.Xva=b.K=b.L=void 0;(function(a){a[a.Hl=7001]="UNKNOWN";a[a.dab=7002]="UNHANDLED_EXCEPTION";a[a.b7a=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Pwa=7010]="INIT_ASYNCCOMPONENT";a[a.exa=7011]="INIT_HTTP";a[a.Y6a=7014]="INIT_BADMOVIEID";a[a.p7a=7016]="INIT_NETFLIXID_MISSING";a[a.o7a=7017]="INIT_NETFLIXID_INVALID";a[a.r7a=7018]="INIT_SECURENETFLIXID_MISSING";a[a.fxa=7020]="INIT_PLAYBACK_LOCK";a[a.gxa=7022]="INIT_SESSION_LOCK";a[a.q7a=7029]="INIT_POSTAUTHORIZE";a[a.dYb=7031]="INIT_HEADER_MEDIA";a[a.IXb=7032]="HEADER_MISSING";a[a.HXb=7033]="HEADER_FRAGMENTS_MISSING";a[a.s7a=7034]="INIT_TIMEDTEXT_TRACK";a[a.eYb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.fYb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.Esa=7037]="ASE_SESSION_ERROR";a[a.C2a=7038]="ASE_SEEK_THREW";a[a.D2a=7039]="ASE_SKIPPED_THREW";a[a.l7a=7041]="INIT_CORE_OBJECTS1";a[a.m7a=7042]="INIT_CORE_OBJECTS2";a[a.n7a=7043]="INIT_CORE_OBJECTS3";a[a.aYb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.VXb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Zwa=7053]="INIT_COMPONENT_STORAGE";a[a.$wa=7054]="INIT_COMPONENT_STORAGELOCK";a[a.WXb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.XXb=7056]="INIT_COMPONENT_NRDDPI";a[a.ZXb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Vwa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.u8=7059]="INIT_COMPONENT_DEVICE";a[a.YXb=7062]="INIT_COMPONENT_NTBA";a[a.Wwa=7063]="INIT_COMPONENT_MSL";a[a.$6a=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Uwa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.qy=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.$Xb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.Z6a=7069]="INIT_COMPONENT_ACCOUNT";a[a.d7a=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.f7a=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.g7a=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.h7a=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.i7a=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.c7a=7081]="INIT_COMPONENT_NRDP";a[a.e7a=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.dxa=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.j7a=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.cYb=7085]="INIT_CONGESTION_SERVICE";a[a.Twa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.axa=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Rwa=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Qwa=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.bYb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.bG=7091]="INIT_COMPONENT_DRM_CACHE";a[a.a7a=7092]="INIT_COMPONENT_DRM";a[a.Xwa=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Swa=7094]="INIT_COMPONENT_FTL";a[a.Ywa=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.bxa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.k7a=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.cxa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.N2a=7112]="AUTHORIZE_UNKNOWN";a[a.S7a=7117]="MANIFEST_VERIFY";a[a.y$a=7120]="START";a[a.JB=7121]="LICENSE";a[a.l$a=7122]="SECURESTOP";a[a.OBa=7123]="STOP";a[a.xXb=7124]="FPSAPPDATA";a[a.F8=7125]="KEEPALIVE";a[a.tWb=7126]="DEACTIVATE";a[a.i0b=7127]="SYNC_DEACTIVATE_LINKS";a[a.pVb=7130]="ACTIVATE";a[a.o9a=7131]="PING";a[a.WYb=7133]="NETFLIXID";a[a.S5a=7134]="ENGAGE";a[a.Q7a=7135]="LOGIN";a[a.G$a=7136]="SWITCH_PROFILES";a[a.P7a=7137]="LOGBLOB";a[a.Y8a=7138]="PAUSE";a[a.b$a=7139]="RESUME";a[a.MBa=7140]="SPLICE";a[a.GWb=7141]="DOWNLOAD_EVENT";a[a.h3a=7142]="BIND";a[a.W8a=7143]="PAIR";a[a.i3a=7144]="BIND_DEVICE";a[a.l6a=7145]="GENERATE_SCREENSHOTS";a[a.r9a=7202]="PLAY_INIT_EXCEPTION";a[a.sYb=7301]="MEDIA_DOWNLOAD";a[a.IZb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.JZb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.Iza=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.x9a=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.Jza=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.y9a=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.O9=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.KZb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.Lza=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Kza=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Hza=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.P9=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.R9=7355]="PLAY_MSE_SOURCEADD";a[a.s9a=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.C9a=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.PZb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.HZb=7359]="PLAY_MSE_ADDKEY";a[a.SZb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.B9a=7361]="PLAY_MSE_EVENT_ERROR";a[a.Q9=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.VV=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.A9a=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.D9a=7365]="PLAY_MSE_GETCURRENTTIME";a[a.E9a=7367]="PLAY_MSE_SETCURRENTTIME";a[a.F9a=7371]="PLAY_MSE_SOURCEAPPEND";a[a.QZb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.J9a=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.I9a=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.H9a=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.RZb=7379]="PLAY_MSE_SOURCE_EOS";a[a.G9a=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.OZb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.t9a=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.u9a=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.v9a=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.MZb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.z9a=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.LZb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.NZb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.w9a=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Mza=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.V5a=7400]="EXTERNAL";a[a.UV=7500]="PAUSE_TIMEOUT";a[a.tV=7502]="INACTIVITY_TIMEOUT";a[a.M2a=7510]="AUTHORIZATION_EXPIRED";a[a.vWb=7520]="DECRYPT_AUDIO";a[a.KBa=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.m$a=7601]="SECURE_STOP_KEY_ERROR";a[a.N_b=7602]="SECURE_STOP_VIDEO_ERROR";a[a.x_b=7603]="SECURE_STOP_NCCP_ERROR";a[a.y_b=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.M_b=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.C_b=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.n$a=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.D_b=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.E_b=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.H_b=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.z_b=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.F_b=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.J_b=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.G_b=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.B_b=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.L_b=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.I_b=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.A_b=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.K_b=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.M5a=7700]="EME_INVALID_KEYSYSTEM";a[a.Ava=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.y7=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.PU=7703]="EME_GENERATEREQUEST_FAILED";a[a.QU=7704]="EME_UPDATE_FAILED";a[a.QWb=7705]="EME_KEYSESSION_ERROR";a[a.Eva=7706]="EME_KEYMESSAGE_EMPTY";a[a.Fva=7707]="EME_REMOVE_FAILED";a[a.O5a=7708]="EME_LOAD_FAILED";a[a.J5a=7709]="EME_CREATE_SESSION_FAILED";a[a.A7=7710]="EME_LDL_RENEWAL_ERROR";a[a.Bva=7711]="EME_INVALID_INITDATA_DATA";a[a.Cva=7712]="EME_INVALID_LICENSE_DATA";a[a.N5a=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.SWb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Dva=7715]="EME_INVALID_SECURESTOP_DATA";a[a.zva=7716]="EME_CLOSE_FAILED";a[a.P5a=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";a[a.p9a=7800]="PLAYDATA_STORE_FAILURE";a[a.GZb=7801]="PLAYDATA_SEND_FAILURE";a[a.YL=7900]="BRANCH_PLAY_FAILURE";a[a.KF=7901]="BRANCH_QUEUE_FAILURE";a[a.Eta=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.$Yb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.aZb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.d9a=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.M9=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.q9a=8201]="PLAYGRAPH_SEGMENT_NOT_READY";})(a=b.L || (b.L={}));(function(a){a[a.Hl=1001]="UNKNOWN";a[a.Yh=1003]="EXCEPTION";a[a.v7a=1004]="INVALID_DI";a[a.G2a=1011]="ASYNCLOAD_EXCEPTION";a[a.H2a=1013]="ASYNCLOAD_TIMEOUT";a[a.qVb=1015]="ASYNCLOAD_BADCONFIG";a[a.E2a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.F2a=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.yM=1101]="HTTP_UNKNOWN";a[a.p8=1102]="HTTP_XHR";a[a.vM=1103]="HTTP_PROTOCOL";a[a.uM=1104]="HTTP_OFFLINE";a[a.xM=1105]="HTTP_TIMEOUT";a[a.GB=1106]="HTTP_READTIMEOUT";a[a.py=1107]="HTTP_ABORT";a[a.Bwa=1108]="HTTP_PARSE";a[a.xwa=1110]="HTTP_BAD_URL";a[a.wM=1111]="HTTP_PROXY";a[a.mya=1203]="MSE_AUDIO";a[a.nya=1204]="MSE_VIDEO";a[a.g8a=1250]="MSE_MEDIA_ERR_BASE";a[a.xYb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.AYb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.yYb=1253]="MSE_MEDIA_ERR_DECODE";a[a.BYb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.zYb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.TF=1260]="EME_MEDIA_KEYERR_BASE";a[a.YWb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.TWb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.XWb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.WWb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.VWb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.UWb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.ZWb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.L5a=1280]="EME_ERROR_NODRMSESSSION";a[a.K5a=1281]="EME_ERROR_NODRMREQUESTS";a[a.OWb=1282]="EME_ERROR_INDIV_FAILED";a[a.PWb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.R5a=1284]="EME_TIMEOUT_MESSAGE";a[a.Q5a=1285]="EME_TIMEOUT_KEYCHANGE";a[a.B7=1286]="EME_UNDEFINED_DATA";a[a.SF=1287]="EME_INVALID_STATE";a[a.RWb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.z7=1289]="EME_EMPTY_DATA";a[a.mM=1290]="EME_TIMEOUT";a[a.QYb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.TYb=1305]="NCCP_PARSEXML";a[a.M9a=1309]="PROCESS_EXCEPTION";a[a.SYb=1311]="NCCP_NETFLIXID_MISSING";a[a.UYb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.NYb=1313]="NCCP_HMAC_MISSING";a[a.MYb=1315]="NCCP_HMAC_MISMATCH";a[a.LYb=1317]="NCCP_HMAC_FAILED";a[a.KYb=1321]="NCCP_CLIENTTIME_MISSING";a[a.JYb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.owa=1331]="GENERIC";a[a.z8a=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.A8a=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.VYb=1341]="NCCP_TRANSACTION";a[a.OYb=1343]="NCCP_INVALID_DRMTYPE";a[a.PYb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.RYb=1345]="NCCP_MISSING_PAYLOAD";a[a.b_b=1346]="PROTOCOL_NOT_INITIALIZED";a[a.a_b=1347]="PROTOCOL_MISSING_FIELD";a[a.$Zb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.Dy=1402]="STORAGE_NODATA";a[a.T_b=1403]="STORAGE_EXCEPTION";a[a.a0b=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.b0b=1407]="STORAGE_QUOTA_TO_SMALL";a[a.QBa=1411]="STORAGE_LOAD_ERROR";a[a.B$a=1412]="STORAGE_LOAD_TIMEOUT";a[a.RBa=1414]="STORAGE_SAVE_ERROR";a[a.E$a=1415]="STORAGE_SAVE_TIMEOUT";a[a.eaa=1417]="STORAGE_DELETE_ERROR";a[a.PBa=1418]="STORAGE_DELETE_TIMEOUT";a[a.$_b=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.X_b=1423]="STORAGE_FS_GETDIRECTORY";a[a.Z_b=1425]="STORAGE_FS_READENTRIES";a[a.U_b=1427]="STORAGE_FS_FILEREAD";a[a.W_b=1429]="STORAGE_FS_FILEWRITE";a[a.V_b=1431]="STORAGE_FS_FILEREMOVE";a[a.Y_b=1432]="STORAGE_FS_PARSEJSON";a[a.D$a=1451]="STORAGE_NO_LOCALSTORAGE";a[a.C$a=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.gZb=1501]="NTBA_UNKNOWN";a[a.fZb=1502]="NTBA_EXCEPTION";a[a.bZb=1504]="NTBA_CRYPTO_KEY";a[a.dZb=1506]="NTBA_CRYPTO_OPERATION";a[a.cZb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.eZb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Mua=1553]="DEVICE_NO_ESN";a[a.Z6=1555]="DEVICE_ERROR_GETTING_ESN";a[a.c6a=1701]="FORMAT_UNKNOWN";a[a.ewa=1713]="FORMAT_XML";a[a.d6a=1715]="FORMAT_XML_CONTENT";a[a.b6a=1721]="FORMAT_BASE64";a[a.UU=1723]="FORMAT_DFXP";a[a.K6a=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Nwa=1802]="INDEXDB_NOT_SUPPORTED";a[a.J6a=1803]="INDEXDB_OPEN_ERROR";a[a.Owa=1804]="INDEXDB_OPEN_NULL";a[a.I6a=1805]="INDEXDB_OPEN_BLOCKED";a[a.L6a=1807]="INDEXDB_OPEN_TIMEOUT";a[a.H6a=1808]="INDEXDB_INVALID_STORE_STATE";a[a.uV=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.q8a=1901]="MSL_UNKNOWN";a[a.j8a=1911]="MSL_INIT_NO_MSL";a[a.pya=1913]="MSL_INIT_ERROR";a[a.k8a=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.h8a=1931]="MSL_ERROR";a[a.p8a=1933]="MSL_REQUEST_TIMEOUT";a[a.o8a=1934]="MSL_READ_TIMEOUT";a[a.i8a=1935]="MSL_ERROR_HEADER";a[a.CYb=1936]="MSL_ERROR_ENVELOPE";a[a.DYb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.oya=1957]="MSL_ERROR_REAUTH";a[a.Oaa=2103]="WEBCRYPTO_MISSING";a[a.mab=2105]="WEBCRYPTOKEYS_MISSING";a[a.nab=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.bWb=2200]="CACHEDDATA_PARSEJSON";a[a.Vta=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.cWb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.my=2203]="CACHEDDATA_INVALID_FORMAT";a[a.nVb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.oVb=3001]="ACCOUNT_INVALID";a[a.FWb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.EWb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.CWb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.DWb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.BWb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.c0b=3300]="STORAGE_VA_LOAD_ERROR";a[a.d0b=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.g0b=3302]="STORAGE_VA_SAVE_ERROR";a[a.h0b=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.e0b=3304]="STORAGE_VA_REMOVE_ERROR";a[a.f0b=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.J9=3077]="PBO_DEVICE_EOL_WARNING";a[a.Aza=3078]="PBO_DEVICE_EOL_FINAL";a[a.Dza=3100]="PBO_DEVICE_RESET";a[a.Cza=3101]="PBO_DEVICE_RELOAD";a[a.Bza=3102]="PBO_DEVICE_EXIT";a[a.l9a=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Z8a=5005]="PBO_ACCOUNT_ON_HOLD";a[a.c9a=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Eza=5007]="PBO_INCORRECT_PIN";a[a.j9a=5008]="PBO_MOBILE_ONLY";a[a.m9a=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.f9a=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.a9a=5059]="PBO_BLACKLISTED_IP";a[a.$8a=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.b9a=5080]="PBO_CHOICE_MAP_ERROR";a[a.k9a=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.h9a=5091]="PBO_MALFORMED_REQUEST";a[a.g9a=5092]="PBO_INVALID_SERVICE_VERSION";a[a.i9a=5093]="PBO_MDX_INVALID_CTICKET";a[a.e9a=5094]="PBO_FREE_PREVIEW_ENDED";a[a.B4a=5100]="DECODER_TIMEOUT_BUFFERING";a[a.C4a=5101]="DECODER_TIMEOUT_PRESENTING";a[a.s5a=5200]="DOWNLOADER_IO_ERROR";a[a.Dta=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.m3a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.FVb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.z6=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.j3a=5304]="BRANCHING_ASE_FAILURE";a[a.CVb=5305]="BRANCHING_MOMENT_FAILURE";a[a.k3a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.EVb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.n3a=5308]="BRANCHING_SEEK_THREW";a[a.DVb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.l3a=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.o3a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.p3a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.x2a=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.w2a=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";a[a.F$a=5500]="STUDIO_MUXED_MANIFEST";})(c=b.K || (b.K={}));(function(a){a[a.QVb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.GVb=5005]="BR_ACCOUNT_ON_HOLD";a[a.KVb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.NVb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.JVb=5059]="BR_BLACKLISTED_IP";a[a.HVb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.OVb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.LVb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.PVb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.MVb=2207]="BR_ENDPOINT_ERROR";a[a.IVb=2208]="BR_AUTHORIZATION_ERROR";})(b.Xva || (b.Xva={}));b.sV={w3a:"400",E0b:"401",Pza:"413"};b.GV={vXb:1,w0b:2,bXb:3,D0b:4,lYb:5,aXb:6,Haa:7,U5a:8,p_b:9,Q_b:10};(function(a){a[a.DZb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.EZb=98]="PAIRING_UNKNOWN_ERROR";})(b.Cya || (b.Cya={}));b.Y5a=function(a){return 7100 <= a && 7200 > a;};b.Vva=function(b){return b == a.UV || b == a.tV;};b.Yva=function(a){return 1100 <= a && 1199 >= a;};b.$5a=function(a){return 1300 <= a && 1399 >= a;};b.Z5a=function(a){return 1900 <= a && 1999 >= a;};b.H7=function(a,b){return 1 <= a && 9 >= a?b + a:b;};b.Zva=function(a){return b.H7(a,c.g8a);};b.I7=function(a){return b.H7(a,c.TF);};b.Jq=function(a){var b,m,f;b={};m=a.errorExternalCode || a.Ke;f=a.errorDetails || a.ub;b.ErrorSubCode=a.errorSubCode || a.ja || c.Hl;m && (b.ErrorExternalCode=m);f && (b.ErrorDetails=f);return b;};},function(d){d.W={k1:function(b){for(var a in b){b.hasOwnProperty(a) && (this[a]=b[a]);}},reset:function(){}};},function(d,b,a){var h;function c(a){return h.jN.apply(this,arguments) || this;}function k(a){return new h.Mq(a,b.fa);}Object.defineProperty(b,"__esModule",{value:!0});b.sb=b.Iwa=b.u9=b.Em=b.fa=b.RB=b.timestamp=b.lzb=b.JR=b.zh=b.Jb=b.wWa=b.EEb=b.U$a=void 0;h=a(287);N(c,h.jN);b.U$a=c;b.EEb=function(a){return new h.Mq(a,b.RB);};b.wWa=function(a){return new h.Mq(a * b.Em.Af,b.RB);};b.Jb=k;b.zh=function(a){return new h.Mq(a,b.Em);};b.JR=function(a){return new h.Mq(a,b.u9);};b.lzb=function(a){return new h.Mq(a,b.Iwa);};b.timestamp=function(a){return k(a);};b.RB=new c(1,"\u03bcs");b.fa=new c(1E3,"ms",b.RB);b.Em=new c(1E3 * b.fa.Af,"s",b.RB);b.u9=new c(60 * b.Em.Af,"min",b.RB);b.Iwa=new c(60 * b.u9.Af,"hr",b.RB);b.sb=k(0);},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);k=a(139);h=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)try{throw new h(b || "Assertion failed");}catch(q){throw (k.Cl.G.error("Assertion failed",{value:a,message:b,stack:q.stack}),q);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kM=b.xb=b.Q8=b.Gi=void 0;d=b.Gi || (b.Gi={});d[d.a6a=0]="FATAL";d[d.ERROR=1]="ERROR";d[d.Naa=2]="WARN";d[d.t8=3]="INFO";d[d.KCa=4]="TRACE";d[d.sa=5]="DEBUG";b.Q8="LogFieldBuilderFactorySymbol";b.xb="LoggerFactorySymbol";b.kM={};},function(d,b,a){var c,k,h,m,f,q,l,u,t;Object.defineProperty(b,"__esModule",{value:!0});b.ha=b.LAa=b.kQ=b.Pg=b.ph=b.log=b.sf=b.RI=b.FCa=b.uIa=b.lw=b.vIa=b.tc=b.Kib=b.kea=b.Iib=b.Jib=b.ei=b.M1a=b.psa=b.Tg=b.ya=b.wa=void 0;c=a(280);d=a(6);k=a(30);h=a(100);m=a(99);f=a(41);q=a(27);l=a(116);u=a(34);t=a(36);b.wa=c.Vd.get(u.Vg);b.ya=c.Vd.get(t.Ig);b.Tg=c.Vd.get(h.Hy);b.psa=b.Tg.encode.bind(b.Tg);b.M1a=b.Tg.decode.bind(b.Tg);b.ei=c.Vd.get(m.ly);b.Jib=b.ei.encode.bind(b.ei);b.Iib=b.ei.decode.bind(b.ei);b.kea=b.ei.gQ.bind(b.ei);b.Kib=b.ei.u0a.bind(b.ei);b.tc=c.Vd.get(f.Di);b.vIa=function(a){a=q.df(a)?b.M1a(a):a;return b.tc.encode(a);};b.lw=b.tc.decode.bind(b.tc);b.uIa=function(a){return b.psa(b.lw(a));};b.FCa=a(1186);b.RI=function(){return c.Vd.get(k.BB);};b.sf=c.Vd.get(d.xb);b.log=b.sf.ob("General");b.ph=function(a,f){return b.sf.ob(a,void 0,f);};b.Pg=function(a,f,c){return b.sf.ob(f,a,c);};b.kQ=function(a,f,c,l){return b.sf.ob(a,void 0,l,f,c);};b.LAa=function(a,b,f){return c.Vd.get(l.YB)(a,b,f).Era();};b.ha=c.Vd;},function(d){var b;b={pa:function(a){return "number" === typeof a;},qf:function(a){return "object" === typeof a;},df:function(a){return "string" === typeof a;},X:function(a){return "undefined" === typeof a;},X3b:function(a){return "boolean" === typeof a;},oc:function(a){return "function" === typeof a;},Xa:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,b){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,b);},MHb:function(a){var c,k;k=[];if(!b.qf(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && k.push([c,a[c]]);}return k;}};b.he=b.forEach=function(a,c,k){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var h=0,m=a.length;h < m;h++){c.call(k,a[h],h,a);}else for(h in a){b.has(a,h) && c.call(k,a[h],h,a);}return a;};d.W=b;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pla=b.localStorage=b.Szb=b.indexedDB=b.LV=b.Cz=b.By=b.lG=b.mG=b.URL=b.OV=b.MV=b.Bya=b.BV=b.NB=b.OB=b.Mn=b.Cm=b.ai=b.h9=b.sv=b.CCa=b.PF=b.XB=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.hw=b.C8a=b.Fe=b.Ws=b.Xs=b.NV=b.Dm=b.bi=void 0;d=O;b.bi=d.navigator;b.Dm=null === b.bi || void 0 === b.bi?void 0:b.bi.userAgent;b.NV=d.location;b.Xs=d.screen;b.Ws=d.performance;b.Fe=d.document;b.C8a=b.Fe.documentElement;b.hw=Array.prototype;b.sort=b.hw.sort;b.map=b.hw.map;b.slice=b.hw.slice;b.every=b.hw.every;b.reduce=b.hw.reduce;b.filter=b.hw.filter;b.forEach=b.hw.forEach;b.pop=b.hw.pop;b.XB=Object.create;b.PF=Date.now;b.CCa=String.fromCharCode;b.sv=Math.floor;b.h9=Math.ceil;b.ai=Math.round;b.Cm=Math.max;b.Mn=Math.min;b.OB=Math.random;b.NB=Math.abs;b.BV=Math.pow;b.Bya=Math.sqrt;b.MV=d.escape;b.OV=d.unescape;b.URL=d.URL || d.webkitURL;b.mG=d.MediaSource || d.WebKitMediaSource;b.lG=d.WebKitMediaKeys || d.MSMediaKeys || d.MediaKeys;b.By=d.nfCrypto || d.webkitCrypto || d.msCrypto || d.crypto;b.Cz=b.By && (b.By.webkitSubtle || b.By.subtle);b.LV=d.nfCryptokeys || d.webkitCryptokeys || d.msCryptokeys || d.cryptokeys;try{b.indexedDB=d.indexedDB;}catch(a){b.Szb=a || "noex";}try{b.localStorage=d.localStorage;}catch(a){b.Pla=a || "noex";}},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.SM=b.pwa=b.EDa=void 0;d=a(0);d.__exportStar(a(819),b);d.__exportStar(a(104),b);d.__exportStar(a(21),b);d.__exportStar(a(821),b);d.__exportStar(a(822),b);d.__exportStar(a(823),b);d.__exportStar(a(824),b);d=a(825);b.EDa=d;d=a(826);b.pwa=d;a=a(377);b.SM=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W$=b.hG=b.zV=b.G3a=b.B3a=b.D3a=b.E3a=b.Nta=b.A3a=b.C3a=b.Mta=b.F3a=b.M3a=b.K3a=b.L3a=b.J3a=b.F5a=b.E5a=b.tva=b.W7a=b.X7a=b.Ss=b.jya=b.kya=b.wy=b.vva=b.G5a=b.u7=b.OU=b.O8a=b.u$a=b.fya=b.v3a=b.Jua=b.SV=b.WB=b.RV=b.eya=b.rv=b.u3a=b.Cta=b.K7a=b.iab=b.V7a=b.U7a=b.k$a=b.j$a=b.Qj=b.$d=b.tBa=b.$g=void 0;b.$g=function(){};b.tBa=function(){return !0;};b.$d={ia:!0};b.Qj=1E3;b.j$a=86400;b.k$a=604800;b.U7a=1E4;b.V7a=1E7;b.iab=1.5;b.K7a=.128;b.Cta=7.8125;b.u3a=128;b.rv=145152E5;b.eya=1E5;b.RV="$netflix$player$order";b.WB=-1;b.SV=1;b.Jua=["en-US"];b.v3a=8;b.fya=65535;b.u$a=65536;b.O8a=Number.MAX_VALUE;b.OU="playready";b.u7="widevine";b.G5a="fps";b.vva="clearkey";b.wy='audio/mp4; codecs="mp4a.40.5"';b.kya='audio/mp4; codecs="mp4a.40.42"';b.jya='audio/mp4; codecs="mp4a.a6"';b.Ss='video/mp4; codecs="avc1.640028"';b.X7a='video/mp4; codecs="hev1.2.6.L153.B0"';b.W7a='video/mp4; codecs="dvhe.01000000"';b.tva="9A04F079-9840-4286-AB92-E65BE0885F95";b.E5a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.F5a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.J3a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.L3a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.K3a="4E657466-6C69-7846-7261-6D6552617465";b.M3a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.F3a="mp4a";b.Mta="enca";b.C3a="ec-3";b.A3a="avc1";b.Nta="encv";b.E3a="hvcC";b.D3a="hev1";b.B3a="dvhe";b.G3a="vp09";b.zV=0;b.hG=1;b.W$="position:relative;width:100%;height:100%;overflow:hidden";},function(d,b,a){var h,m,f,q,l,u,t,x,z,y,B,L,I,g,da,W,n,M;function c(a){return (a=b.config.U0a[k(a)])?a:{};}function k(a){if(a)return 0 <= a.indexOf("billboard")?"billboard":0 <= a.toLowerCase().indexOf("preplay")?"preplay":0 <= a.indexOf("embedded")?"embedded":0 <= a.indexOf("content-sampling")?"content-sampling":0 <= a.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= a.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= a.indexOf("standard")?"standard":0 <= a.indexOf("branching")?"branching":a;}Object.defineProperty(b,"__esModule",{value:!0});b.Blb=b.Clb=b.tfa=b.ufa=b.vfa=b.dKa=b.Alb=b.eKa=b.sfa=b.config=void 0;h=a(11);m=a(48);f=a(7);q=a(35);l=a(18);a(27);u=a(30);t=a(57);x=a(22);a(6);z=a(9);y=a(15);B=a(166);L=a(47);I=a(64);g=a(129);da=a(46);W=a(4);n=a(32);M=a(19);b.eKa=function(a,c){var Wa,F,Ma,fb,lb,$a,Z,N,sc;function k(a,b){x.Jd(a,function(a,f){y.oc(f)?b[a]=f.call(void 0,b[a]):y.qf(f) && (b[a]=b[a] || ({}),k(f,b[a]));});}function d(a,b,f,c){for(var q=[],h=3;h < arguments.length;++h){q[h - 3]=arguments[h];}return function(c){y.ic(c) && (f=c);l.lb(y.oc(a));return a.apply(void 0,[].concat([b,f],ea(q)));};}function E(a){a=a.toLowerCase();fb.hasOwnProperty(a) && (Ma[a]=fb[a],lb[a]=fb[a]);return a;}function R(a,b,c){var q;a=a.toLowerCase();if(Ma.hasOwnProperty(a)){q=Ma[a];try{q=c?c(q):q;}catch(gc){q=void 0;}if(void 0 !== q)return q;l.lb(!1);f.log.error("Invalid configuration value. Name: " + a);}return b;}function p(a,b,f,c){return R(a,b,function(a){y.df(a) && (a=x.Xd(a));if(y.iRa(a,f,c))return a;});}function D(a,b,f,c){return R(a,b,function(a){y.df(a) && (a=x.Xd(a));if(y.jx(a,f,c))return a;});}function U(a,b,f,c){return R(a,b,function(a){y.df(a) && (a=parseFloat(a));if(y.pa(a,f,c))return a;});}function r(a,b,f){return R(a,b,function(a){if(f?f.test(a):y.df(a))return a;});}function S(a,b){return R(a,b,function(a){if("true" == a || !0 === a)return !0;if("false" == a || !1 === a)return !1;});}function Aa(a,b){return R(a,b,function(a){if(y.df(a))return JSON.parse(z.OV(a));if(y.qf(a))return a;});}function Na(a,b,f,c,l,q){var h;a=a.toLowerCase();Ma.hasOwnProperty(a) && (h=Ma[a]);if(!y.ic(h))return b;if(y.df(h))if(h[0] !== f)h=c(h);else try{h=JSON.parse(z.OV(h));}catch(tb){h=void 0;}if(void 0 === h)return b;for(a=0;a < l.length;a++){if(!l[a](h))return b;}return q?q(h):h;}function Pa(a,b,f,c,l){return Na(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;){a[b]=x.Xd(a[b]);}return a;},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!y.jx(a[b],f,c))return !1;}return !0;},function(a){return void 0 === l || a.length >= l;}]);}function Ba(a,b){return Na(a,b,"[",function(a){a=y.isArray(a)?a:a.split("|");for(var b=a.length;b--;){try{a[b]=JSON.parse(z.OV(a[b]));}catch(gc){a=void 0;break;}}return a;},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!y.ic(a[b]) || !y.qf(a[b]))return !1;}return !0;}]);}function ia(a,b,f,c){return Na(a,b,"[",function(a){return y.isArray(a)?a:a.split("|");},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(f?!f.test(a[b]):!y.kx(a[b]))return !1;}return !0;},function(a){return void 0 === c || a.length >= c;}]);}function Ha(a,b,f){return Na(a,b,"{",function(a){var b,c,l;b={};a=a.split(";");for(var f=a.length;f--;){c=a[f];l=c.indexOf(":");if(0 >= l)return;b[c.substring(0,l)]=c.substring(l + 1);}return b;},[function(a){return y.qf(a) && 0 < Object.keys(a).length;},function(a){if(f)for(var b in a){if(!f.test(a[b]))return !1;}return !0;}],function(a){var f;f={};x.Eb(f,b);x.Eb(f,a);return f;});}function Za(a){var b;b=[];x.Jd(a,function(a,f){var c;try{c="videoapp" === a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(lf){c="cantparse";}b.push(a + "=" + c);});return b.join("\n");}Wa=/^[0-9]+[%]?$/;F=/^[0-9]*$/;lb={};$a=f.ha.get(q.Dl);Z=f.ha.get(g.sG);(function(b){function c(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0 < b && (Ma[a.substring(0,b).toLowerCase()]=a.substring(b + 1));});}Ma={};x.Eb(Ma,b);a && a.length && z.forEach.call(a,function(a){y.df(a)?c(a):y.qf(a) && x.Eb(Ma,a,{GJ:!0});});fb=x.Eb({},m.x0(),{GJ:!0});if(b=m.gXa().cadmiumconfig)(f.log.info("Config cookie loaded",b),c(b));if(f.ha.get(n.sj).hhb || Ma.istestaccount)(x.Eb(Ma,fb),lb=fb);"clearkey" != r("drmType") || Ma.keysystemid || (Ma.keysystemid=(O.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"") + "org.w3.clearkey");})(c);b.config={};N={Irb:d(S,E("enableXHEAAC"),!1),Wga:d(S,E("enableDDPlus20"),!0),Vga:d(S,E("enableDDPlus"),!0),RP:d(S,E("enableDDPlusAtmos"),!1),srb:d(S,E("enableLSSDH"),!0),nrb:d(S,E("enableHEVC"),!1),nVa:d(S,E("overrideEnableHEVC"),!1),Yga:d(S,E("enableHDR"),!1),mVa:d(S,E("overrideEnableHDR"),!1),j_:d(S,E("enableAVCHigh"),Z.j_),eS:d(S,E("overrideEnableAVCHigh"),Z.eS),Grb:d(S,E("enableVP9"),!1),oVa:d(S,E("overrideEnableVP9"),!1),irb:d(S,E("enableAV1"),!1),lVa:d(S,E("overrideEnableAV1"),!1),xrb:d(S,E("enablePRK"),!1),orb:d(S,E("enableHWDRM"),!1),qrb:d(S,E("enableImageSubs"),!0),OO:d(ia,E("audioProfiles"),Z.OO),F2b:d(S,E("disableHD"),!1),Frb:d(S,E("enableUHD"),!0),Z5:d(D,"videoCapabilityDetectorType",u.Ok.AB),Xda:d(D,"audioCapabilityDetectorType",u.ky.AB),GF:d(ia,E("videoProfiles"),Z.GF),Gfb:d(ia,E("timedTextProfiles"),Z.Xu),Xu:function(){return N.Gfb().filter(function(a){return a === t.Gl.a7?N.srb():a === t.Gl.kG?N.qrb():!0;});},endpoint:d(S,E("endpoint"),!1),version:d(r,"version","unknown"),uZa:d(S,E("setMediaKeysEarly"),!1),i5b:d(S,E("nrdpPersistCookiesToIndexDB"),!1),wqb:d(S,E("doNotPerformLdlOnPlaybackCreate"),!1),xqb:d(S,E("doNotPerformLdlOnPlaybackStart"),!1),z1a:d(S,E("useHdcpLevelOnCast"),!1),prb:d(S,E("enableHdcp"),!1),ds:d(S,E("prepareCadmium"),!1),fgb:d(S,E("acceptManifestOnPrepareItemParams"),!0),uWa:d(Aa,"ppmconfig",{maxNumberTitlesScheduled:1}),cJb:d(S,E("playerPredictionModelV2"),!0),AI:d(S,E("enableLdlPrefetch"),!1),SP:d(S,E("enableGetHeadersAndMediaPrefetch"),!1),Dpb:d(S,E("deleteCachedManifestOnPlayback"),!1),Hpb:d(S,E("deleteOtherManifestCacheOnCreate"),!1),Gpb:d(S,E("deleteOtherLdlCacheOnCreate"),!1),A5b:d(D,E("periodicPrepareLogsIntervalMilliseconds"),36E5),KJb:d(D,E("prepareManifestCacheMaxCount"),50),IJb:d(D,E("prepareLdlCacheMaxCount"),30),CWa:d(D,E("prepareManifestExpiryMilliseconds"),12E5),JJb:d(D,E("prepareLdlExpiryMilliseconds"),78E4),HJb:d(r,E("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),X6b:d(Aa,"videoApp"),aB:d(Aa,"storageRules"),Ztb:d(S,"ftlEnabled",!0),rka:d(D,E("imageSubsResolution"),0),Fzb:d(D,E("imageSubsMaxBuffer"),Z.WDb.ba(da.Ks),0),hP:d(S,E("captureBatteryStatus"),!1),Gub:d(D,E("getBatteryApiTimeoutMilliseconds"),5E3),ke:d(r,E("keySystemId"),Z.ke),QRa:d(ia,E("keySystemList"),void 0,void 0),IEb:d(D,E("hdcpGlobalTimeout1"),1E4),JEb:d(D,E("hdcpGlobalTimeout2"),1E4),M4b:d(D,E("hdcpQueryTimeout1"),1E3),N4b:d(D,E("hdcpQueryTimeout2"),1E3),KEb:d(D,E("hdcpQueryTimeout2"),100),LEb:d(S,E("microsoftHwdrmRequiresHevc"),!1),FEb:d(S,E("microsoftEnableDeviceInfo"),!1),GEb:d(S,E("microsoftEnableHardwareInfo"),!1),HEb:d(S,E("microsoftEnableHardwareReset"),!1),TTb:d(S,E("useHevcCodecForDolbyVision"),!1),YCb:d(S,"logMediaPipelineStatus",!1),ES:d(S,E("renderDomDiagnostics"),!0),tSa:function(){return -1;},FJ:d(p,E("logDisplayMaxEntryCount"),Z.FJ,-1),eDb:d(p,E("logToConsoleLevel"),-1),F1b:d(p,E("bladerunnerCmdHistorySize"),10),au:function(){return $a.au;},KTb:d(S,"upgradeNetflixId",!0),Ula:d(S,"logErrorIfEsnNotProvided",!0),hha:d(S,"enforceSinglePlayback",Z.hha),n_:d(S,"enforceSingleSession",Z.n_),ifa:d(S,"closeOtherPlaybacks",!0),Vhb:d(D,"asyncLoadTimeout",15E3,1),nDb:d(D,"mainThreadMonitorPollRate",0),h5b:d(S,"nrdpAlwaysShowUIOverlay",!1),j5b:d(S,"nrdpValidateSSOTokens",!0),h6b:d(S,"showNrdpDebugBadging",!1),c6:function(){return $a.c6;},$z:function(){return $a.$z;},UH:function(){return $a.UH;},BF:function(){return $a.BF;},P1a:d(D,E("verbosePlaybackInfoDenominator"),0),f4:d(S,"renderTimedText",!0),tJb:d(S,"preBufferTimedText",!0),Esb:d(S,"fatalOnTimedTextLoadError",!0),k0a:d(Ha,"timedTextStyleDefaults",{}),Ara:d(Ha,"timedTextStyleOverrides",{}),zra:d(Ha,"timedTextFontFamilyMapping",Z.zra || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),l0a:d(D,E("timedTextTimeOverride"),0),AL:d(D,"timedTextSimpleFallbackThreshold",Z.AL.ba(da.Ks)),bga:d(r,E("customDfxpUrl")),Erb:d(S,E("enableSubtitleTrackerLogging"),!1),ZNb:d(S,E("sendSubtitleQoeLogblobOnMidplay"),!1),Pea:d(Pa,"cdnIdWhiteList",[]),Oea:d(Pa,"cdnIdBlackList",[]),Uha:d(r,E("forceAudioTrack")),xFb:d(S,"muteVolumeOnPlaybackClose",!0),k5b:d(r,"nrdpVolumeControlType","VOLUME_STREAM"),Wha:d(r,E("forceTimedTextTrack")),aEb:d(D,E("maxRetriesTimedTextDownload"),0),RRb:d(D,E("timedTextRetryInterval"),8E3),DQb:d(r,"storageType","idb",/^(none|fs|idb|ls)$/),pSa:d(D,"lockExpiration",1E4),WCb:d(D,"lockRefresh",3E3),bkb:d(S,"captureUnhandledExceptions",!0),Ezb:d(S,"ignoreUnhandledExceptionDuringPlayback",!0),VSb:d(S,"unhandledExceptionsArePlaybackErrors",!1),Y0a:d(r,"unhandledExceptionSource",""),WJb:d(S,"preserveLastFrame",!1),VEb:d(D,"minBufferingTimeInMilliseconds",4E3),oKb:d(D,"progressBackwardsGraceTimeMilliseconds",4E3),pKb:d(D,"progressBackwardsMinPercent",10),Wib:d(r,E("bookmarkIgnoreBeginning"),"0",Wa),Xib:d(r,E("bookmarkIgnoreEnd"),"5%",Wa),Yib:d(r,E("bookmarkIgnoreEndForBranching"),"60000",Wa),KJ:d(D,"maxParallelConnections",3),upa:d(S,"reportThroughputInLogblobs",!0),RJ:d(D,"minAudioMediaRequestDuration",16E3),TEb:d(D,"minAudioMediaRequestDurationBranching",0),WJ:d(D,"minVideoMediaRequestDuration",4E3),$Eb:d(D,"minVideoMediaRequestDurationAL1",0),aFb:d(D,"minVideoMediaRequestDurationBranching",0),E2:d(D,"minAudioMediaRequestSizeBytes",0),L2:d(D,"minVideoMediaRequestSizeBytes",0),Sqb:d(S,"droppedFrameRateFilterEnabled",!1),Tqb:d(D,"droppedFrameRateFilterMaxObservation",60,10,1E3),Vqb:d(function(a,b,f,c,l,q){return Na(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;){a[b][f]=x.Xd(a[b][f]);}}return a;},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b-- && void 0 !== a;){if(!y.isArray(a[b]))return !1;for(var l=a[b].length;l--;){if(!y.jx(a[b][l],f,c))return !1;}}return !0;},function(a){if(void 0 !== l)for(var b=a.length;b--;){if(l !== a[b].length)return !1;}return !0;},function(a){return void 0 === q || a.length >= q;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),O2b:d(S,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Uqb:d(D,"droppedFrameRateFilterMinHeight",384),Wqb:d(Pa,"droppedFramesPercentilesList",[]),MEb:d(S,"microsoftScreenSizeFilterEnabled",!1),KBb:d(S,"keyStatusFilterEnabled",!1),fQa:d(D,"hdcpEngagementWaitTime",0),SSb:d(S,"uiLabelFilterEnabled",!0),RSb:d(Aa,"uiLabelFilter",{}),vpb:d(D,E("defaultVolume"),100,0,100),wLa:d(S,"disableVideoRightClickMenu",!1),G2:d(D,"minDecoderBufferMilliseconds",1E3,0,h.rv),AE:d(D,"optimalDecoderBufferMilliseconds",5E3,0,h.rv),bVa:d(D,"optimalDecoderBufferMillisecondsBranching",3E3,0,h.rv),xA:d(D,"minimumTimeBeforeBranchDecision",3E3,0,h.rv),qA:d(D,"maxDecoderBufferMilliseconds",Z.qA.ba(W.fa),0,h.rv),aLa:d(D,"decoderTimeoutMilliseconds",1E4,1),mqb:d(S,"disgardMediaOnAppend",!1),qhb:d(S,"appendMediaBeforeInit",!1),gIb:d(D,"pauseTimeoutLimitMilliseconds",18E5),uka:d(D,"inactivityMonitorInterval",3E4,0),egb:d(Pa,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),CI:d(S,"enableTrickPlay",!1),Ugb:d(Pa,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),BSb:d(D,"trickPlayHighResolutionBitrateThreshold",1E3),CSb:d(D,"trickPlayHighResolutionThresholdMilliseconds",1E4),FSb:d(U,"trickplayBufferFactor",.5),ASb:d(D,"trickPlayDownloadRetryCount",1),pma:d(r,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),gna:d(r,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Hwa:d(Aa,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),eTa:d(p,"maxIQRSamples",Infinity),GTa:d(p,"minIQRSamples",5),F1a:d(S,"useResourceTimingAPI",!1),Czb:d(S,"ignoreFirstByte",!0),uEb:d(S,"mediaRequestAsyncLoadStart",!0),bUb:d(S,"useXHROnLoadStart",!1),zha:d(Pa,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),qZ:d(D,"connectTimeoutMilliseconds",8E3,500),kna:d(D,"noProgressTimeoutMilliseconds",8E3,500),XTb:d(S,"useOnLineApi",!1),j0a:d(D,"timedTextDownloadRetryCountBeforeCdnSwitch",3),a5b:d(D,"netflixRequestExpiryTimeout",0),TUb:d(S,"webkitDecodedFrameCountIncorrectlyReported",!1),DNb:d(D,"seekBackOnAudioTrackChangeMilliseconds",8E3),eIb:d(S,"pausePlaybackOnAudioSwitch",!0),jra:d(ia,E("supportedAudioTrackTypes"),[],void 0,1),NQa:d(D,"initialLogFlushTimeout",5E3),hWa:d(r,"playdataPersistKey",$a.au?"unsentplaydatatest":"unsentplaydata"),nqa:d(S,"sendPersistedPlaydata",!0),$Ib:d(D,"playdataPersistIntervalMilliseconds",4E3),D5b:d(D,"playdataSendDelayMilliseconds",1E4),J4:d(S,"sendPlaydataBackupOnInit",!0),aDb:d(ia,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),OEb:d(S,"midplayEnabled",!0),BTa:d(D,"midplayIntervalMilliseconds",3E5),PEb:d(Pa,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),IP:d(D,"downloadReportDenominator",0),Eqb:d(D,"downloadReportInterval",3E5),sSa:d(D,"logConfigApplyDenominator",0),DIa:d(Ha,E("bookmarkByMovieId"),{}),eQ:d(S,E("forceLimitedDurationLicense"),!1),mA:d(D,E("licenseRenewalRequestDelay"),0),hoa:d(D,E("persistedReleaseDelay"),1E4),l4b:d(S,E("limitedDurationFlagOverride"),void 0),Nj:d(S,E("secureStopEnabled"),!1),$5b:d(S,E("secureStopFromPersistedKeySession"),!1),OYa:d(D,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),cqa:d(D,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),ANb:d(D,E("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),BNb:d(D,E("secureStopPersistedKeySessionRetries"),17,1),zNb:d(D,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),AYa:d(D,"safariPlayPauseWorkaroundDelay",100),bVb:d(D,"workaroundValueForSeekIssue",1200),Jea:d(S,E("callEndOfStream"),Z.Jea),uIb:d(S,"performRewindCheck",!0),Gsb:d(S,"fatalOnUnexpectedSeeking",!0),Fsb:d(S,"fatalOnUnexpectedSeeked",!0),dPb:d(S,E("setVideoElementSize")),Ykb:d(S,E("clearVideoSrc"),!0),mLa:d(D,E("delayPlayPause"),0),Fn:d(S,E("useTypescriptEme"),!1),LP:d(r,E("drmPersistKey"),"unsentDrmData"),Roa:d(S,E("promiseBasedEme"),!1),akb:d(S,"captureKeyStatusData",!1),hJ:d(S,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),mGb:d(S,E("nudgeSourceBuffer"),!1),dqa:d(p,E("seekDelta"),1),oS:d(S,E("preciseSeeking"),!1),wJb:d(S,E("preciseSeekingOnTwoCoreDevice"),!1),lLa:d(Ha,E("delayErrorHandling")),B0a:d(S,"trackingLogEnabled",!1),C0a:d(function(a,b){var f;f=Ha(a,b,void 0);f && Object.entries(f).forEach(function(a){var b;b=T(a);a=b.next().value;b=b.next().value;"true" === b?f[a]=!0:"false" === b && (f[a]=!1);});return f;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Jra:d(r,"trackingLogPath","/customerevents/track/debug"),qSb:d(Pa,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),ji:d(r,"esn",""),PMa:d(r,"fesn",""),zrb:d(S,E("enablePerformanceLogging"),!1),Xga:d(S,E("enableEmeVerboseLogging"),!1),trb:d(S,"enableLastChunkLogging",!1),JO:d(r,"appId","",F),sessionId:d(r,"sessionId","",F),Rea:d(r,"cdnProxyUrl"),aUb:d(S,"usePlayReadyHeaderObject",!1),nNa:d(D,"forceXhrErrorResponseCode",void 0),qr:{X4b:d(r,"mslApiPath","/msl/"),R2b:d(r,E("edgePath"),"/cbp/cadmium-29"),M5b:d(r,"proxyPath",""),gy:d(r,"uiVersion"),G5:d(r,"uiPlatform"),S1b:function(){return "0";},Doa:d(ia,"preferredLanguages",h.Jua,/^[a-zA-Z-]{2,5}$/,1),Dtb:d(r,E("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),iRb:d(S,"supportPreviewContentPin",!0),jRb:d(S,"supportWatermarking",!0),JPb:d(S,"showAllSubDubTracks",!1),e3b:d(S,E("failOnGuidMismatch"),!1)},U3:{enabled:d(S,"qcEnabled",!1),Wo:d(r,"qcPackageId","")},Ds:d(S,"useRangeHeader",!1),UP:d(S,"enableMilestoneEventList",!1),SO:d(r,"authenticationType",$a.au?Z.pib:Z.SO),mIa:d(Ha,"authenticationKeyNames",x.Eb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),tRb:d(r,"systemKeyWrapFormat"),Lzb:d(S,"includeNetflixIdUserAuthData",!0),DPb:d(S,"shouldSendUserAuthData",!0),qqa:d(S,"sendUserAuthIfRequired",Z.qqa),xPb:d(S,"shouldClearUserData",!1),sFb:d(S,"mslDeleteStore",!1),uFb:d(S,"mslPersistStore",!0),Ylb:d(S,"correctNetworkForShortTitles",!0),rJb:d(S,"postplayHighInitBitrate",!1),ztb:d(S,"flushHeaderCacheOnAudioTrackChange",!0),mRb:d(S,"supportsUnequalizedDownloadables",!0),XKa:d(D,E("debugAseDenominator"),100),KY:d(D,"aseAudioBufferSizeBytes",Z.KY.ba(da.Ks)),MY:d(D,"aseVideoBufferSizeBytes",Z.MY.ba(da.Ks)),vu:d(D,"minInitVideoBitrate",560),Vma:d(D,"minHCInitVideoBitrate",560),xx:d(D,"maxInitVideoBitrate",Infinity),GR:d(D,"minInitAudioBitrate",0),FR:d(D,"minHCInitAudioBitrate",0),sR:d(D,"maxInitAudioBitrate",65535),D2:d(D,"minAcceptableVideoBitrate",235),HR:d(D,"minRequiredBuffer",3E4),aj:d(D,"minPrebufSize",7800),Uma:d(D,"minCheckBufferingCompleteInterval",999999),fpa:d(U,"rebufferingFactor",1),lq:d(D,"maxBufferingTime",2600),lsa:d(S,"useMaxPrebufSize",!0),sA:d(D,"maxPrebufSize",45E3),Ama:d(D,"maxRebufSize",Infinity),n1:d(Ba,"initialBitrateSelectionCurve",null),JQa:d(D,"initSelectionLowerBound",560),KQa:d(D,"initSelectionUpperBound",1050),t5:d(D,"throughputPercentForAudio",15),hea:d(D,"bandwidthMargin",10),iea:d(S,"bandwidthMarginContinuous",!1),jea:d(Ba,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),yfa:d(D,"conservBandwidthMargin",20),mra:d(S,"switchConfigBasedOnInSessionTput",!1),nP:d(D,"conservBandwidthMarginTputThreshold",0),zfa:d(Ba,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),L_a:d(S,"switchAlgoBasedOnHistIQR",!1),eB:d(r,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),zma:d(p,"maxPlayerStateToSwitchConfig",-1),ama:d(r,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),v8:d(U,"IQRThreshold",.5),hka:d(r,"histIQRCalcToUse","simple"),So:d(D,"maxTotalBufferLevelPerSession",0),ksa:d(S,"useBufferSizeLimiter",!1),oQa:d(D,"highWatermarkLevel",3E4),t0a:d(D,"toStableThreshold",3E4),y5:d(D,"toUnstableThreshold",Z.y5.ba(W.fa)),Tqa:d(S,"skipBitrateInUpswitch",!0),xsa:d(D,"watermarkLevelForSkipStart",8E3),aka:d(D,"highStreamRetentionWindow",9E4),bma:d(D,"lowStreamTransitionWindow",51E4),cka:d(D,"highStreamRetentionWindowUp",3E5),dma:d(D,"lowStreamTransitionWindowUp",3E5),bka:d(D,"highStreamRetentionWindowDown",6E5),cma:d(D,"lowStreamTransitionWindowDown",0),$ja:d(U,"highStreamInfeasibleBitrateFactor",.5),qx:d(D,"lowestBufForUpswitch",15E3),e2:d(D,"lockPeriodAfterDownswitch",15E3),fma:d(D,"lowWatermarkLevel",25E3),rx:d(D,"lowestWaterMarkLevel",2E4),gma:d(S,"lowestWaterMarkLevelBufferRelaxed",!1),Lma:d(U,"mediaRate",1),r2:d(D,"maxTrailingBufferLen",1E4),NO:d(D,"audioBufferTargetAvailableSize",262144),XT:d(D,"videoBufferTargetAvailableSize",1048576),oTa:d(D,"maxVideoTrailingBufferSize",8388608),ZSa:d(D,"maxAudioTrailingBufferSize",393216),A_:d(U,"fastUpswitchFactor",3),Bha:d(U,"fastDownswitchFactor",1),yx:d(D,"maxMediaBufferAllowed",24E4),Pqa:d(S,"simulatePartialBlocks",!0),RZa:d(S,"simulateBufferFull",!0),Afa:d(S,"considerConnectTime",!1),xfa:d(U,"connectTimeMultiplier",1),BSa:d(D,"lowGradeModeEnterThreshold",12E4),CSa:d(D,"lowGradeModeExitThreshold",9E4),bTa:d(D,"maxDomainFailureWaitDuration",3E4),YSa:d(D,"maxAttemptsOnFailure",18),GMa:d(S,"exhaustAllLocationsForFailure",!0),hTa:d(D,"maxNetworkErrorsDuringBuffering",20),rR:d(D,"maxBufferingTimeAllowedWithNetworkError",6E4),NMa:d(D,"fastDomainSelectionBwThreshold",2E3),a0a:d(D,"throughputProbingEnterThreshold",4E4),b0a:d(D,"throughputProbingExitThreshold",34E3),oSa:d(D,"locationProbingTimeout",1E4),RMa:d(D,"finalLocationSelectionBwThreshold",1E4),Z_a:d(U,"throughputHighConfidenceLevel",.75),$_a:d(U,"throughputLowConfidenceLevel",.4),mMa:d(S,"enablePerfBasedLocationSwitch",!1),gs:d(S,"probeServerWhenError",!0),Loa:d(D,"probeRequestTimeoutMilliseconds",8E3),ew:d(S,"allowSwitchback",!0),ME:d(D,"probeDetailDenominator",100),m2:d(D,"maxDelayToReportFailure",300),Rla:d(D,"locationStatisticsUpdateInterval",6E4),rKa:d(S,"countGapInBuffer",!1),uHa:d(S,"allowCallToStreamSelector",!0),LIa:d(D,"bufferThresholdForAbort",1E4),joa:d(D,"pipelineScheduleTimeoutMs",2),zx:d(D,"maxPartialBuffersAtBufferingStart",2),Wma:d(D,"minPendingBufferLen",6E3),rA:d(D,"maxPendingBufferLen",12E3),ZDb:d(D,"maxPendingBufferLenAL1",3E4),Bma:d(D,"maxStreamingSkew",4E3),yma:d(D,"maxPendingBufferPercentage",10),LJ:d(D,"maxRequestsInBuffer",60),kTa:d(D,"maxRequestsInBufferAL1",240),lTa:d(D,"maxRequestsInBufferBranching",120),Y0:d(D,"headerRequestSize",4096),ER:d(D,"minBufferLenForHeaderDownloading",1E4),IS:d(D,"reserveForSkipbackBufferMs",1E4),yna:d(D,"numExtraFragmentsAllowed",2),Xo:d(S,"pipelineEnabled",!1),XZa:d(D,"socketReceiveBufferSize",0),RY:d(D,"audioSocketReceiveBufferSize",32768),LL:d(D,"videoSocketReceiveBufferSize",65536),Yja:d(D,"headersSocketReceiveBufferSize",32768),L5:d(D,"updatePtsIntervalMs",1E3),vea:d(D,"bufferTraceDenominator",100),$C:d(D,"bufferLevelNotifyIntervalMs",2E3),LO:d(D,"aseReportDenominator",0),Sda:d(D,"aseReportIntervalMs",3E5),jrb:d(S,"enableAbortTesting",!1),dgb:d(D,"abortRequestFrequency",8),gra:d(D,"streamingStatusIntervalMs",2E3),Ox:d(D,"prebufferTimeLimit",24E4),F2:d(D,"minBufferLevelForTrackSwitch",2E3),coa:d(D,"penaltyFactorForLongConnectTime",2),Zla:d(D,"longConnectTimeThreshold",200),vda:d(D,"additionalBufferingLongConnectTime",2E3),wda:d(D,"additionalBufferingPerFailure",8E3),BS:d(D,"rebufferCheckDuration",6E4),kMa:d(S,"enableLookaheadHints",!1),xSa:d(D,"lookaheadFragments",2),Jz:d(S,"enableOCSideChannel",!0),QV:d(Aa,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),g1a:d(S,"updateDrmRequestOnNetworkFailure",!1),kLa:d(S,"deferAseScheduling",!1),aTa:d(D,"maxDiffAudioVideoEndPtsMs",16E3),HL:d(S,"useHeaderCache",!0),FP:d(D,"defaultHeaderCacheSize",4),LZ:d(D,"defaultHeaderCacheDataPrefetchMs",8E3),Uja:d(D,"headerCacheMaxPendingData",6),vE:d(S,"neverWipeHeaderCache",!0),Vja:d(D,"headerCachePriorityLimit",5),WP:d(S,"enableUsingHeaderCount",!1),jQa:d(S,"headerCacheTruncateHeaderAfterParsing",!0),ytb:d(S,E("flushHeaderCacheBeforePlayback"),!1),fna:d(D,"networkFailureResetWaitMs",2E3),ena:d(D,"networkFailureAbandonMs",6E4),q2:d(D,"maxThrottledNetworkFailures",3),s5:d(D,"throttledNetworkFailureThresholdMs",200),ema:d(p,"lowThroughputThreshold",400),uha:d(S,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),UTa:d(S,"mp4ParsingInNative",!1),ZZa:d(S,"sourceBufferInOrderAppend",!0),ns:d(S,"requireAudioStreamToEncompassVideo",!0),tHa:d(S,"allowAudioToStreamPastVideo",!0),oh:d(S,"enableManagerDebugTraces",!1),PSa:d(D,"managerDebugMessageInterval",1E3),OSa:d(D,"managerDebugMessageCount",20),AUa:d(S,"notifyManifestCacheEom",!1),uea:d(D,"bufferThresholdToSwitchToSingleConnMs",18E4),tea:d(D,"bufferThresholdToSwitchToParallelConnMs",12E4),y3:d(D,"periodicHistoryPersistMs",3E5),y4:d(D,"saveVideoBitrateMs",18E4),JHa:d(S,"appendMediaRequestOnComplete",!0),OL:d(S,"waitForDrmToAppendMedia",!1),N_:d(S,E("forceAppendHeadersAfterDrm"),!1),CK:d(S,E("reappendRequestsOnSkip"),!1),BFb:d(D,"netIntrStoreWindow",36E3),XEb:d(D,"minNetIntrDuration",8E3),Asb:d(D,"fastHistoricBandwidthExpirationTime",10368E3),Aib:d(D,"bandwidthExpirationTime",5184E3),xsb:d(D,"failureExpirationTime",86400),izb:d(D,"historyTimeOfDayGranularity",4),isb:d(S,"expandDownloadTime",!1),hFb:d(D,"minimumMeasurementTime",500),gFb:d(D,"minimumMeasurementBytes",131072),GRb:d(D,"throughputMeasurementTimeout",2E3),$zb:d(D,"initThroughputMeasureDataSize",262144),HRb:d(r,"throughputPredictor","ewma"),FRb:d(D,"throughputMeasureWindow",5E3),KRb:d(D,"throughputWarmupTime",5E3),ERb:d(D,"throughputIQRMeasureWindow",5E3),G7a:d(D,"IQRBucketizerWindow",15E3),Elb:d(D,"connectTimeHalflife",10),LMb:d(D,"responseTimeHalflife",10),hzb:d(D,"historicBandwidthUpdateInterval",2E3),fFb:d(D,"minimumBufferToStopProbing",1E4),aqa:d(r,"secondThroughputEstimator","none"),LYa:d(p,"secondThroughputMeasureWindowInMs",Infinity),mrb:d(ia,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),Usb:d(Aa,"filterDefinitionOverrides",{}),rpb:d(r,"defaultFilter","throughput-ewma"),vNb:d(r,"secondaryFilter","none"),spb:d(Aa,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),OR:d(S,"needMinimumNetworkConfidence",!0),nea:d(S,"biasTowardHistoricalThroughput",!0),AY:d(S,"addHeaderDataToNetworkMonitor",!1),ara:d(S,"startMonitorOnLoadStart",!1),tpa:d(S,"reportFailedRequestsToNetworkMonitor",!1),uma:d(p,"maxFastPlayBufferInMs",Infinity),tma:d(p,"maxFastPlayBitThreshold",Infinity),Ida:d(S,"appendFirstHeaderOnComplete",!0),Fhb:d(r,"ase_stream_selector","optimized"),Fka:d(r,"initBitrateSelectorAlgorithm","default"),zea:d(r,"bufferingSelectorAlgorithm","default"),YKa:d(r,"ase_ls_failure_simulation",""),ega:d(S,"ase_dump_fragments",!1),gga:d(D,"ase_location_history",0),hga:d(D,"ase_throughput",0),$Ka:d(S,"ase_simulate_verbose",!1),mJb:d(D,"pollingPeriod",150),OCb:d(D,"loadTimeMs",18E4),GDb:d(D,"marginTimeMs",1E4),kB:d(S,"useMediaCache",!1),Gz:d(D,"diskCacheSizeLimit",52428800),yR:d(D,"mediaCachePrefetchMs",8E3),Gma:d(Ha,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),zia:d(S,"getDeviceIdFromBindDevice",!1),oda:d(S,"addFailedLogBlobsToQueue",!0),U0a:{"content-sampling":{lq:d(D,"contentSamplingMaxBufferingTime",3E3),TK:d(r,"contentSamplingSelectStartingVMAFMethod","fallback"),BO:d(S,"contentSamplingActivateSelectStartingVMAF",!0),VJ:d(D,"contentSamplingMinStartingVideoVMAF",80),DR:d(D,"contentSamplingMinAcceptableVMAF",70),pE:d(D,"contentSamplingMinAllowedVmaf",60),En:d(S,"contentSamplingUseNewApi",!1)},billboard:{vu:d(D,"billboardMinInitVideoBitrate",1050),xx:d(D,"billboardMaxInitVideoBitrate",null),aj:d(D,"billboardMinPrebufSize",null),sA:d(D,"billboardMaxPrebufSize",null),lq:d(D,"billboardMaxBufferingTime",null),zx:d(D,"billboardMaxPartialBuffersAtBufferingStart",null),rx:d(D,"billboardLowestWaterMarkLevel",6E3),qx:d(D,"billboardLowestBufForUpswitch",25E3),eB:d(r,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),En:d(S,"billboardUseNewApi",!1)},branching:{En:d(S,"branchingUseNewApi",!1)},preplay:{vu:d(D,"preplayMinInitVideoBitrate",1050),xx:d(D,"preplayMaxInitVideoBitrate",null),aj:d(D,"preplayMinPrebufSize",null),sA:d(D,"preplayMaxPrebufSize",null),lq:d(D,"preplayMaxBufferingTime",null),zx:d(D,"preplayMaxPartialBuffersAtBufferingStart",null),rx:d(D,"preplayLowestWaterMarkLevel",6E3),qx:d(D,"preplayLowestBufForUpswitch",25E3)},embedded:{vu:d(D,"embeddedMinInitVideoBitrate",1050),xx:d(D,"embeddedMaxInitVideoBitrate",null),aj:d(D,"embeddedMinPrebufSize",null),sA:d(D,"embeddedMaxPrebufSize",null),lq:d(D,"embeddedMaxBufferingTime",null),zx:d(D,"embeddedMaxPartialBuffersAtBufferingStart",null),rx:d(D,"embeddedLowestWaterMarkLevel",6E3),qx:d(D,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{vu:d(D,"videoMerchBobHorizontalMinInitVideoBitrate",null),xx:d(D,"videoMerchBobHorizontalMaxInitVideoBitrate",null),aj:d(D,"videoMerchBobHorizontalMinPrebufSize",null),sA:d(D,"videoMerchBobHorizontalMaxPrebufSize",null),lq:d(D,"videoMerchBobHorizontalMaxBufferingTime",null),zx:d(D,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),rx:d(D,"videoMerchBobHorizontalLowestWaterMarkLevel",null),qx:d(D,"videoMerchBobHorizontalLowestBufForUpswitch",null),GF:d(ia,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{vu:d(D,"miniModalHorizontalMinInitVideoBitrate",null),xx:d(D,"miniModalHorizontalMaxInitVideoBitrate",null),aj:d(D,"miniModalHorizontalMinPrebufSize",null),sA:d(D,"miniModalHorizontalMaxPrebufSize",null),lq:d(D,"miniModalHorizontalMaxBufferingTime",500),zx:d(D,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),rx:d(D,"miniModalHorizontalLowestWaterMarkLevel",null),qx:d(D,"miniModalHorizontalLowestBufForUpswitch",null)},standard:{En:d(S,"standardUseNewApi",!1)},postplay:{En:d(S,"postplayUseNewApi",!1)},"postplay-background-trailer":{En:d(S,"postplayBackgroundTrailerUseNewApi",!1)}},Hrb:d(S,"enableVerbosePlaydelayLogging",!1),Crb:d(S,"enableSeamless",!1),gka:d(D,"hindsightDenominator",0),fka:d(D,"hindsightDebugDenominator",0),b1:d(Aa,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),VP:d(S,"enableSessionHistoryReport",!1),Uga:d(D,"earlyStageEstimatePeriod",1E4),$Ra:d(D,"lateStageEstimatePeriod",3E4),n2:d(D,"maxNumSessionHistoryStored",30),J2:d(D,"minSessionHistoryDuration",3E4),ru:d(D,"maxActiveRequestsPerSession",3),k2:d(D,"maxActiveRequestsSABCell100",2),o2:d(D,"maxPendingBufferLenSABCell100",500),Mla:d(S,"limitAudioDiscountByMaxAudioBitrate",!0),zj:d(Aa,"browserInfo",{}),rjb:d(D,E("busyGracePeriod"),199),$Nb:d(S,E("sendTransitionLogblob"),!0),xI:d(S,E("editVideoFragments"),!0),f_:d(S,E("earlyAppendSingleChildBranch"),!0),Mzb:d(S,E("includeSegmentInfoOnLogblobs"),!0),msb:d(S,"exposeTestData",!1),jga:d(S,"declareBufferingCompleteAtSegmentEnd",!0),mz:d(S,"applyProfileTimestampOffset",!1),yj:d(S,"applyProfileStreamingOffset",!1),ihb:d(S,E("allowSmallSeekDelta"),!1),YPb:d(D,E("smallSeekDeltaThresholdMilliseconds"),B.pW),lrb:d(S,"enableCDMAttestedDescriptors",!1),l4:d(S,"requireDownloadDataAtBuffering",!1),m4:d(S,"requireSetupConnectionDuringBuffering",!1),hpa:d(S,"recordFirstFragmentOnSubBranchCreate",!1),ejb:d(S,"branchingAudioTrackFrameDropSmallSeekFix",!0),lNa:d(S,"forceL3WidevineCdm",!1),VTb:d(S,"useMobileVMAF",!1),Rpb:d(r,"desiredVMAFTypeMobile","phone_plus_lts"),Spb:d(r,"desiredVMAFTypeNonMobile","plus_lts"),BO:d(S,"activateSelectStartingVMAF",!1),VJ:d(D,"minStartingVideoVMAF",1),DR:d(D,"minAcceptableVMAF",1),pE:d(D,"minAllowedVmaf",1),Eda:d(S,"alwaysNotifyEOSForPlaygraph",!0),BI:d(S,"enableNewAse",!0),En:d(S,"useNewApi",!0),WTb:d(S,"useNewAseIntegration",!0),k_:d(S,"enableHudsonFieldTest",!1),KQ:d(ia,"hudsonTitles",["81127954","70125931","80158148"]),xma:d(D,"maxPartialBuffersAtHudson",1),WR:d(D,"numberOfChunksPerSegment",4),r5:d(D,"targetContentLatency",1E4),rra:d(D,"targetLongContentLatency",3E4),M2:d(D,"minimumTimeDelay",1),m_:d(S,"enableWsslEstimate",!1),l2:d(D,"maxAllowedOutstandingRequests",4),GH:d(S,"alwaysRunUnderflowTimer",!0),K2:d(D,"minStreamableConcurrencyWindow",3E3),l5:d(U,"streamableConcurrencyFactor",.3),aP:d(D,"bufferingConcurrencyWindow",7800),Qqa:d(S,"singleStreamablePerBranch",!0),l_:d(S,"enableResolutionVMAFStreamFilter",!1),r4:d(Aa,"resolutionVMAFCappingRuleList",{}),eoa:d(p,"percentCapTitlesForResolutionVMAFStreamFilter",100),kqb:d(S,"disableSkipping",!1)};sc=!0;b.sfa=function(a){var c,q,h;c=f.ha.get(M.xd).id;if(0 < b.config.sSa && 0 === c % b.config.sSa)try{q=f.ha.get(L.El);h=f.ha.get(I.Lq).Mp("config","info",{params:a});q.Uc(h);}catch(gc){f.log.error("Failed to log config$apply",gc);}O._cad_global.config=b.config;l.lb(a);a && (Ma=x.Eb({},a,{GJ:!0}),x.Eb(Ma,lb,{GJ:!0}),k(N,b.config),Ma.istestaccount && f.log.trace("Config applied for",Za(sc?Ma:a)),sc=!1);};b.sfa(Ma);};b.Alb=function(a,b){return y.df(a) && "%" == a[a.length - 1]?z.ai(parseFloat(a) * b / 100):a | 0;};b.dKa=function(a){return a?(a=x.Eb({},b.config),x.Eb(a,{AE:b.config.bVa},{Fx:!0})):b.config;};b.vfa=function(a){var f;f=x.Eb({},b.config);return x.Eb(f,c(a),{Fx:!0});};b.ufa=function(b){b=c(b);return x.Eb({},a(178)(b),{Fx:!0});};b.tfa=function(f,c,l){l=! !l && (0 <= l.indexOf("h264hpl") || 0 <= l.indexOf("vp9"));f={RJ:f?b.config.TEb:b.config.RJ,WJ:f?b.config.aFb:l?b.config.$Eb:b.config.WJ,LJ:f && l?Math.max(b.config.lTa,b.config.kTa):f?b.config.lTa:l?b.config.kTa:b.config.LJ,rA:l?b.config.ZDb:b.config.rA,f_:!c};return x.Eb({},a(178)(f),{Fx:!0});};b.Clb=c;b.Blb=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oc=b.qV=b.Ys=b.fv=void 0;b.fv={R1b:"casttv",chrome:"chrome",Y1b:"chromecast",qr:"edge",$qb:"edgeoss",cNa:"firefox",S3b:"ie",opera:"opera",dNb:"safari"};b.Ys={CHa:"android",Ikb:"chromeos",lCb:"linux",GSa:"mac",BRb:"tesla",ysa:"windows"};b.qV={wlb:"computer",zIb:"phone",wRb:"tablet"};b.Oc="ConfigSymbol";},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.rd=b.tb=b.Ce=b.yb=b.V=b.A8=b.ZB=b.Pb=void 0;(function(a){a.SCb="loadedtracks";a.RCb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.Np="currenttimechanged";a.PIa="bufferedtimechanged";a.Yqb="durationchanged";a.EUb="videosizechanged";a.hIb="pausedchanged";a.kJb="playingchanged";a.Qrb="endedchanged";a.Eea="busychanged";a.eIa="audiotracklistchanged";a.QO="audiotrackchanged";a.uF="timedtexttracklistchanged";a.BL="timedtexttrackchanged";a.LT="trickplayframeschanged";a.yFb="mutedchanged";a.LUb="volumechanged";a.KPb="showsubtitle";a.YLb="removesubtitle";a.SUb="watermark";a.bla="isReadyToTransition";a.gJ="inactivated";a.KNb="segmentmaploaded";a.LNb="segmentpresenting";a.sib="autoplaywasallowed";a.tib="autoplaywasblocked";})(b.Pb || (b.Pb={}));(b.ZB || (b.ZB={})).TS="playgraphsegmenttransition";b.A8=a;a.fZa="serverTimeChanged";(function(a){a.KH="aseException";a.LH="aseReport";a.qib="authorized";a.dea="autoplayWasAllowed";a.Sk="autoplayWasBlocked";a.Fib="bandwidthMeterAggregateUpdate";a.ow="bufferUnderrun";a.closed="closed";a.Kf="closing";a.Np="currentTimeChanged";a.Hz="downloadComplete";a.gJ="inactivated";a.bSa="licenseAdded";a.EJ="licensed";a.ou="locationSelected";a.IJ="manifestClosing";a.iq="manifestPresenting";a.t4b="manifestSelected";a.v2="mediaBufferChanged";a.cna="needLicense";a.X2="nextBranchingSegmentChosen";a.Yo="playbackStart";a.rl="repositioned";a.TE="repositioning";a.BYa="safePlayRequested";a.ENb="segmentAborted";a.QK="segmentPresenting";a.a6b="segmentComplete";a.GNb="segmentLastPts";a.JNb="segmentStarting";a.ZK="serverSwitch";a.OZa="shouldUpdateVideoDiagInfo";a.sL="subtitleError";a.vra="throttledMediaTimeChanged";a.zL="timedTextRebuffer";a.uF="timedTextTrackListChanged";a.LT="trickPlayFramesChanged";a.NT="tryRecoverFromStall";a.esa="updateNextBranchingSegmentWeights";a.hUb="userInitiatedPause";a.J1a="userInitiatedResume";})(b.V || (b.V={}));(function(a){a[a.nG=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.yd=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";})(b.yb || (b.yb={}));(function(a){a[a.yd=1]="NORMAL";a[a.qd=2]="BUFFERING";a[a.NBa=3]="STALLED";})(b.Ce || (b.Ce={}));(function(a){a[a.kg=1]="WAITING";a[a.Wc=2]="PLAYING";a[a.rj=3]="PAUSED";a[a.Os=4]="ENDED";})(b.tb || (b.tb={}));(function(a){a[a.pv=0]="INITIAL";a[a.yv=1]="SEEK";a[a.yG=2]="TRACK_CHANGED";a[a.aC=3]="SEGMENT_CHANGED";a[a.TU=4]="FORCE_REBUFFER";})(b.rd || (b.rd={}));},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.oc=b.Qka=b.kx=b.df=b.kla=b.OAb=b.CAb=b.ala=b.jx=b.iRa=b.pa=b.ila=b.isArray=b.CRa=b.qf=b.ic=b.is=void 0;d=a(193);b.is=d.IB;b.ic=function(a){return b.is.ge(a);};b.qf=function(a){return b.is.PC(a);};b.CRa=function(a){return b.is.fda(a);};b.isArray=function(a){return b.is.fw(a);};b.ila=function(a){return b.is.AHa(a);};b.pa=function(a,d,h){return b.is.Jh(a,d,h);};b.iRa=function(a,d,h){return b.is.Fda(a,d,h);};b.jx=function(a,d,h){return b.is.Kt(a,d,h);};b.ala=function(a){return b.is.xO(a);};b.CAb=function(a){return b.is.bgb(a);};b.OAb=function(a){return b.is.cgb(a);};b.kla=function(a){return b.is.BHa(a);};b.df=function(a){return b.is.lo(a);};b.kx=function(a){return b.is.Om(a);};b.Qka=function(a){return b.is.wO(a);};b.oc=function(a){return b.is.wY(a);};},function(d,b,a){b=a(138);b.tpb=0;d.W={EventEmitter:b,Yg:a(815)};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(375),b);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.dpb=b.dga=b.Xob=b.apb=b.kI=b.EP=b.$ob=b.bpb=b.lI=b.WKa=b.Zob=b.Yob=b.lb=b.lf=b.cpb=b.Bta=void 0;d=a(7);a=a(85);b.Bta=function(){b.lb();};b.cpb=!0;b.lf=d.ha.get(a.Ls);b.lb=b.lf.assert.bind(b.lf);b.Yob=b.lf.Jhb.bind(b.lf);b.Zob=b.lf.Khb.bind(b.lf);b.WKa=b.lf.Phb.bind(b.lf);b.lI=b.lf.Shb.bind(b.lf);b.bpb=b.lf.Qhb.bind(b.lf);b.$ob=b.lf.Nhb.bind(b.lf);b.EP=b.lf.Mhb.bind(b.lf);b.kI=b.lf.Rhb.bind(b.lf);b.apb=b.lf.Ohb.bind(b.lf);b.Xob=b.lf.Ihb.bind(b.lf);b.dga=b.lf.Lhb.bind(b.lf);b.dpb=b.lf.uAb.bind(b.lf);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xd=void 0;b.xd="ApplicationSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.De=void 0;b.De="IsTypeSymbol";},function(d,b){function a(a,b){return a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});b.U=void 0;d=(function(){function b(a,b){"object" === typeof a?(this.Et=a.rb,this.Pl=a.P):(this.Et=a,this.Pl=b);}b.tHb=function(a){return new b(1,a);};b.compare=function(a,b){return a.Cj(b);};b.abs=function(a){return new b(Math.abs(a.Et),a.Pl);};b.ad=function(a){return 0 === a?b.sb:new b(a,1E3);};b.Dra=function(a,b){return Math.floor(1E3 * a / b);};b.bna=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.eia=function(h,m){var f;if(h.P === m.P)return new b(c(h.rb,m.rb),h.P);f=a(h.P,m.P);return b.eia(h.ze(f),m.ze(f));};Object.defineProperties(b.prototype,{rb:{get:function(){return this.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ka:{get:function(){return 1E3 * this.Et / this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zh:{get:function(){return this.Et / this.Pl;},enumerable:!1,configurable:!0}});b.prototype.ze=function(a){a/=this.P;return new b(Math.floor(this.rb * a),Math.floor(this.P * a));};b.prototype.add=function(c){var h;if(this.P === c.P)return new b(this.rb + c.rb,this.P);h=a(this.P,c.P);return this.ze(h).add(c.ze(h));};b.prototype.Ia=function(a){return this.add(new b(-a.rb,a.P));};b.prototype.sE=function(a){return new b(this.rb * a,this.P);};b.prototype.Qp=function(c){var h;if("number" === typeof c){h=a(this.rb,c);return h !== this.rb?this.ze(h / this.rb * this.P).Qp(c):new b(this.rb / c,this.P);}if(this.P === c.P)return this.rb / c.rb;h=a(this.P,c.P);return this.ze(h).Qp(c.ze(h));};b.prototype.Bga=function(c){var h;if(this.P === c.P)return new b(Math.abs(this.rb - c.rb),this.P);h=a(this.P,c.P);return this.ze(h).Bga(c.ze(h));};b.prototype.yPa=function(b){return a(this.P,b);};b.prototype.xXa=function(){return new b(this.P,this.rb);};b.prototype.compare=function(b,c){var f;if(this.P === c.P)return b(this.rb,c.rb);f=a(this.P,c.P);return b(this.ze(f).rb,c.ze(f).rb);};b.prototype.Cj=function(a){return this.equal(a)?0:this.lessThan(a)?-1:1;};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.a3=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.zJ=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.Ko=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.Nib=function(a,b){var f;f=!1;void 0 === f && (f=!0);return f?this.Ko(a) && this.zJ(b):this.greaterThan(a) && this.lessThan(b);};b.prototype.isFinite=function(){return ! !this.P && isFinite(this.rb);};b.prototype.toJSON=function(){return {ticks:this.rb,timescale:this.P};};b.prototype.toString=function(){return this.rb + "/" + this.P;};b.prototype.Wd=function(){return this.rb + "/" + this.P + " (" + this.ka + "ms)";};b.sb=new b(0,1E3);b.jl=new b(1,1E3);b.Jr=new b(Infinity,1);return b;})();b.U=d;},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.qKa=b.oNa=b.Pw=b.ik=b.$e=b.nR=b.trim=b.IQ=b.A_a=b.Xoa=b.OHb=b.Xd=b.THa=b.fJa=b.Eb=b.Jd=void 0;c=a(18);k=a(27);h=a(9);m=a(15);b.Jd=function(a,b){for(var f in a){a.hasOwnProperty(f) && b(f,a[f]);}};b.Eb=b.Eb || (function(a,c,l){var f,q,h;if(c)if(l){f=l.GJ;q=l.prefix;h=l.Fx;b.Jd(c,function(b,c){if(!h || k.ic(c))a[(q || "") + (f?b.toLowerCase():b)]=c;});}else b.Jd(c,function(b,f){a[b]=f;});return a;});b.fJa=function(a,b,c,u){var f;if(a){f=a[b];m.oc(f) && (c=f.apply(a,h.slice.call(arguments,3)));}return c;};b.THa=function(a){for(var b={},f=a.length;f--;){b[a[f]]=!0;}return b;};b.Xd=b.Xd || (function(a){return parseInt(a,10);});b.OHb=function(a){return (/^true$/i).test(a);};b.Xoa=function(a,b){return h.ai(a + h.OB() * (b - a));};b.A_a=function(a){return JSON.stringify(a,null,"  ");};b.IQ=(function(){var b,l;function a(a){c.lb(void 0 !== b[a]);return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};l=/[&'"<>]/g;return function(b){return b.replace(l,a);};})();b.trim=(function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};})();b.nR=function(a){return Array.isArray(a)?a:[a];};b.$e=b.$e || (function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c || (c="" + a);b?(a="" + b,0 != a.indexOf(c) && (a=c + "\n" + a)):a=c;f && (a+="\nnumber:" + f);return a;}});b.ik=function(a){return m.pa(a)?a.toFixed(0):"";};b.Pw=function(a){return m.pa(a)?(a / 1E3).toFixed(0):"";};b.oNa=function(a){return m.pa(a)?a.toFixed():"";};b.qKa=function(a){for(var b=[],f=0;f < a.length;f++){b[f]=a[f];}return b;};},function(d,b,a){var c,k,h,m;c=a(86);k=a(575);h=a(203);m=a(578);d=(function(){function a(a){this.Mv=!1;a && (this.Mm=a);}a.prototype.Or=function(b){var f;f=new a();f.source=this;f.$Ua=b;return f;};a.prototype.subscribe=function(a,b,f){var c;c=this.$Ua;a=k.fSb(a,b,f);c?c.call(a,this.source):a.add(this.source || !a.An?this.Mm(a):this.Wca(a));if(a.An && (a.An=!1,a.mF))throw a.nF;return a;};a.prototype.Wca=function(a){try{return this.Mm(a);}catch(l){a.mF=!0;a.nF=l;a.error(l);}};a.prototype.forEach=function(a,b){var f;f=this;b || (c.root.$B && c.root.$B.config && c.root.$B.config.Promise?b=c.root.$B.config.Promise:c.root.Promise && (b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,c){var l;l=f.subscribe(function(b){if(l)try{a(b);}catch(B){c(B);l.unsubscribe();}else a(b);},c,b);});};a.prototype.Mm=function(a){return this.source.subscribe(a);};a.prototype[h.observable]=function(){return this;};a.prototype.BIb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 0 === a.length?this:m.CIb(a)(this);};a.prototype.As=function(){var a,b;b=this;a || (c.root.$B && c.root.$B.config && c.root.$B.config.Promise?a=c.root.$B.config.Promise:c.root.Promise && (a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,f){var c;b.subscribe(function(a){return c=a;},function(a){return f(a);},function(){return a(c);});});};a.create=function(b){return new a(b);};return a;})();b.Bb=d;},function(d){d.W={RVb:{Av:0,S_b:1,name:["STARTUP","STEADY"]},eV:{bh:0,R_b:1,eab:2,name:["STARTING","STABLE","UNSTABLE"]},Sa:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Zh:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Gg:{URL:0,bC:1,Axa:2,uv:3,name:["URL","SERVER","LOCATION","NETWORK"]},Xe:{HAVE_NOTHING:0,FB:1,EB:2,pM:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ah:{yVb:0,wXb:1,YZb:2,NEXT:3,xZb:4,u0b:5,yXb:6,rYb:7,Av:8,ERROR:9,S9:10,L9a:11,y6:12,O7a:13,N7a:14,p$a:15,o$a:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},$Wb:{uv:0,uWb:1,name:["NETWORK","DECODE"]},O_b:{wWb:"delayedSeamless",RXb:"hideLongTransition"}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sa=void 0;b.sa=!1;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Df=void 0;b.Df="UtilitiesSymbol";},function(d,b,a){var m,f;function c(a){return null !== a && void 0 !== a;}function k(a){return typeof a == b.MCa;}function h(a,b,h){var l,q,u;if(b)if(h){l=h.GJ;q=h.prefix;u=h.Fx;f.Jd(b,function(b,f){if(!u || c(f))a[(q || "") + (l?b.toLowerCase():b)]=f;});}else f.Jd(b,function(b,f){a[b]=f;});return a;}Object.defineProperty(b,"__esModule",{value:!0});b.K=b.$e=b.IQ=b.KI=b.lD=b.createElement=b.St=b.SHa=b.mZ=b.dL=b.Eb=b.Nn=b.Xd=b.kx=b.df=b.qf=b.ic=b.LCa=b.S$a=b.T$a=b.MCa=b.nB=b.h6=b.Gq=b.SL=b.RL=b.mj=b.BV=b.NB=b.OB=b.Mn=b.Cm=b.ai=b.h9=b.sv=b.PF=b.U8a=b.XB=b.Qj=b.$g=void 0;m=a(9);f=a(22);b.$g=function(){};b.Qj=1E3;b.XB=Object.create;b.U8a=Object.keys;b.PF=Date.now;b.sv=Math.floor;b.h9=Math.ceil;b.ai=Math.round;b.Cm=Math.max;b.Mn=Math.min;b.OB=Math.random;b.NB=Math.abs;b.BV=Math.pow;b.mj="$attributes";b.RL="$children";b.SL="$name";b.Gq="$text";b.h6="$parent";b.nB="$sibling";b.MCa="string";b.T$a="number";b.S$a="function";b.LCa="object";b.ic=c;b.qf=function(a){return typeof a == b.LCa;};b.df=k;b.kx=function(a){return k(a) && a;};b.Xd=function(a){return parseInt(a,10);};b.Nn=function(a,b,f){return a >= b?a <= f?a:f:b;};b.Eb=h;b.dL=function(a){return h({},a);};b.mZ=function(a){var q;for(var b=0;b < arguments.length;++b){;}for(var b=0,f=arguments.length;b < f;){q=arguments[b++];if(c(q))return q;}};b.SHa=function(a,b){for(var f,c=!0,l;c;){for((c=!1,f=a.length);--f;){l=a[f];l[b] < a[f - 1][b] && (a[f]=a[f - 1],a[f - 1]=l,c=!0);}}};b.St=function(a,b){if(a.length == b.length){for(var f=a.length;f--;){if(a[f] != b[f])return !1;}return !0;}return !1;};b.createElement=function(a,b,c,h){var l;l=m.Fe.createElement(a);b && (l.style.cssText=b);c && (l.innerHTML=c);h && f.Jd(h,function(a,b){l.setAttribute(a,b);});return l;};b.lD=function(a){var b;b="";f.Jd(a,function(a,f){b+=(b?";":"") + a + ":" + f;});return b;};b.KI=function(a,f,c){var l;a / f > c?(l=b.ai(f * c),a=f):(l=a,a=b.ai(a / c));return {width:l,height:a};};b.IQ=(function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};})();b.$e=function(a){var b,f;if(a){b=a.stack;f=a.number;a="" + a;b?(b="" + b,0 != b.indexOf(a) && (b=a + "\n" + b)):b=a;f && (b+="\nnumber:" + f);return b;}};b.K={Hl:1001,Yh:1003,c6a:1701,ewa:1713,d6a:1715,b6a:1721,UU:1723};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(141);b.sa=!1;d=(function(){function a(a,b,f,c,l){this.hb=a;this.type=b;this.byteOffset=f;this.byteLength=c;this.parent=l;this.Zc={};this.BE=c;}a.GD=function(a,b){var c,h;function f(a){a && a.GD && (a=a.GD(b),a.length && (c=c.concat(a)));}c=[];a.type === b && c.push(a);if(a.Zc)for(var l in a.Zc){h=a.Zc[l];Array.isArray(h) && h.forEach(f);}return c;};a.DO=function(a,b){void 0 === a.Zc[b.type] && (a.Zc[b.type]=[]);a.Zc[b.type].push(b);};a.HD=function(b,c){return a.GD(b,c)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.hb;},enumerable:!0,configurable:!0}});a.prototype.dg=function(){var a;a=this.hb.Nb();this.version=a >> 24;this.Oh=a & 16777215;};a.prototype.DO=function(b){a.DO(this,b);};a.prototype.GD=function(b){return a.GD(this,b);};a.prototype.HD=function(b){return a.HD(this,b);};a.prototype.parse=function(){return !0;};a.prototype.II=function(){return !0;};a.prototype.Bs=function(a){if((a=this.Zc[a]) && Array.isArray(a) && 1 === a.length)return a[0];};a.prototype.ql=function(a,b){b=void 0 === b?this.hb.offset:b;c.assert(b >= this.startOffset + 8 && b + a <= this.startOffset + this.BE,"Removal range [0x" + b.toString(16) + "-0x" + (b + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.BE).toString(16) + ")");this.hb.ql(a,b,this);};a.prototype.g4=function(a,b,f){f=void 0 === f?this.hb.offset:f;c.assert(f >= this.startOffset + 8 && f + a <= this.startOffset + this.BE,"Removal range [0x" + f.toString(16) + "-0x" + (f + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.BE).toString(16) + ")");this.hb.g4(a,b,f,this);};a.prototype.oXa=function(a,b,f){if(1 < f){for(var c=[];0 < f--;){c.push(this.cGa(a,b));}return c;}return this.cGa(a,b);};a.prototype.Mu=function(a){var b,f;f=this;void 0 === b && (b={});a.forEach(function(a){var c,q;if("offset" === a.type){c=a.offset;if(0 < c % 8)throw Error("Requested offset " + a.offset + "is not an even byte multiple");f.hb.offset+=c / 8;}else for(c in a){q=a[c];b[c]="string" === typeof q?f.oXa(q):f.oXa(q.type,q.length,q.Bhb);}});return b;};a.prototype.cGa=function(a,b){var f;f=this.byteLength - this.hb.offset + this.startOffset;"undefined" === typeof b && (b=f);switch(a){case "int8":a=this.hb.Fd();break;case "int64":a=this.hb.Lj();break;case "int32":a=this.hb.Nb();break;case "int16":a=this.hb.vh();break;case "string":a=this.hb.MKb(Math.min(b,f));break;default:throw Error("Invalid type: " + a);}return a;};a.Bc=!1;return a;})();b.jg=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ig=void 0;b.ig="AsyncComponentLoaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D5a=b.BB=b.ADa=b.jab=b.Ei=b.Gd=b.Ok=b.ky=b.Us=void 0;(function(a){a[a.Audio=0]="Audio";a[a.vDa=1]="Video";})(b.Us || (b.Us={}));(function(a){a[a.AB=0]="Default";a[a.SB=1]="Microsoft";})(b.ky || (b.ky={}));(function(a){a[a.AB=0]="Default";a[a.O6=1]="Cast";a[a.R6=2]="Chrome";a[a.SB=3]="Microsoft";a[a.SBa=4]="Safari";})(b.Ok || (b.Ok={}));(function(a){a[a.aN=0]="SD";a[a.$U=1]="HD";a[a.zG=2]="UHD";a[a.jv=3]="DV";a[a.ov=4]="HDR10";a[a.JF=5]="AVCHigh";a[a.Iy=6]="VP9";a[a.nj=7]="AV1";})(b.Gd || (b.Gd={}));(function(a){a[a.Rs=0]="Level_1_4";a[a.KB=1]="Level_2_2";})(b.Ei || (b.Ei={}));b.jab=function(){};(function(a){a[a.g_b=0]="Platform";a[a.rWb=1]="CurrentTitle";})(b.ADa || (b.ADa={}));b.BB="DeviceCapabilitiesSymbol";b.D5a=function(){};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dG=b.yB=b.tj=b.FU=void 0;b.FU="ConfigurableInputsSymbol";b.tj="ValidatingConfigurableInputsSymbol";b.yB="ConfigNameSymbol";b.dG="InitParamsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$s=b.sj=void 0;b.sj="PlatformSymbol";b.$s="PlatformMutableSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tG=b.bW=b.c7=b.M8=b.Rya=b.TB=b.Jaa=b.sy=b.Paa=void 0;b.Paa="WindowTimersSymbol";b.sy="JSONSymbol";b.Jaa="UserAgentSymbol";b.TB="NavigatorSymbol";b.Rya="MediaSourceSymbol";b.M8="LocationSymbol";b.c7="DateSymbol";b.bW="PerformanceSymbol";b.tG="PlatformExtraInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vg=void 0;b.Vg="ClockSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dl=b.Vs=b.nv=void 0;(function(a){a[a.PCa=0]="Test";a[a.rxa=1]="Int";a[a.J$a=2]="Staging";a[a.T9a=3]="Prod";})(b.nv || (b.nv={}));(function(a){a[a.WM=0]="PreferMsl";a[a.bBa=1]="PreferNoMsl";a[a.N8a=2]="NoMsl";})(b.Vs || (b.Vs={}));b.Dl="GeneralConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ig=void 0;b.Ig="SchedulerSymbol";},function(d,b,a){var k;function c(a){return a.filter(function(b,f){return a.indexOf(b) === f;});}Object.defineProperty(b,"__esModule",{value:!0});b.ona=b.qyb=b.Zlb=b.xr=b.WEb=b.TJa=b.UHa=b.nz=b.yhb=b.zhb=b.SC=b.RHa=b.kh=void 0;k=a(0);b.kh=function(a,b){var f;return a.some(function(a,c,h){f=a;return b(a,c,h);})?f:void 0;};b.RHa=function(a,b){for(var f=a.length - 1;0 <= f;--f){if(b(a[f],f,a))return a[f];}};b.SC=function(a,b){var f;f=-1;return a.some(function(a,c,h){f=c;return b(a,c,h);})?f:-1;};b.zhb=function(a,b){for(var f=a.length - 1;0 <= f;f--){if(b(a[f],f,a))return f;}return -1;};b.yhb=c;b.nz=function(a,b,f){return f?a.filter(function(a){return !b.some(function(b){return f(a,b);});}):a.filter(function(a){return -1 === b.indexOf(a);});};b.UHa=function(a,b){return c(a.concat(b));};b.TJa=function(a){return function(b,f){b=a(b);f=a(f);return b < f?-1:b > f?1:0;};};b.WEb=function(a){return function(b,f){return a(b) < a(f)?b:f;};};b.xr=function(a){var b;return (b=[]).concat.apply(b,k.__spread(a));};b.Zlb=function(a,b){void 0 === b && (b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return (void 0 === a[c]?a[c]=1:++a[c],a);},{});};b.qyb=function(a,b){return a.reduce(function(a,c){var f;f=b(c);return (void 0 === a[f]?a[f]=[c]:a[f].push(c),a);},{});};b.ona=function(a){return null !== a && void 0 !== a;};},function(d,b,a){var m,f;function c(a,b){return a && a.Mr && (b || !1 !== a.du);}function k(a,b,f){return !m.pa(a) || a < b?b:a > f?f:a;}function h(a){if(!(this instanceof h))return new h(a);this.fd=m.pa(a)?a:void 0;}m=a(8);f=new (a(3).Console)("ASEJS_STREAM_SELECTOR","media|asejs");d.W={console:f,debug:!1,assert:function(a,b){if(!a)throw (a=b?" : " + b:"",f.error("Assertion failed" + a),Error("ASEJS_STREAM_SELECTOR assertion failed" + a));},sJ:c,Jha:function(a,b,f){var l,q,h,u;function c(b){var c;c=a[b];if(!c.Mr || f && !f(c,b))return !1;u=b;return !0;}l=a.length;q=0;h=l;m.isArray(b) && (q=k(b[0],0,l),h=k(b[1],0,l),b=b[2]);b=k(b,q - 1,h);for(l=b - 1;l >= q;--l){if(c(l))return u;}for(l=b + 1;l < h;++l){if(c(l))return u;}return -1;},qFb:function(a,b){return Math.floor(a / (125 * b) * 1E3);},sjb:function(a,b){return Math.ceil(a / 1E3 * b * 125);},Z3b:function(a,b){return !a.slice(b + 1).some(c);},Rn:h,kh:function(a,b){var f;return a.some(function(a,c,l){f=a;return b(a,c,l);})?f:void 0;},SC:function(a,b){var f;return a.some(function(a,c,l){f=c;return b(a,c,l);})?f:-1;},kZ:k};},function(d,b,a){var m,f,q;function c(a){var b,f,c,h;c=Object.getOwnPropertyNames(a);for(a=Object.getPrototypeOf(a);a !== Object.prototype;){try{for(var l=(b=void 0,m.__values(Object.getOwnPropertyNames(a))),q=l.next();!q.done;q=l.next()){h=q.value;-1 === c.indexOf(h) && c.push(h);}}catch(L){b={error:L};}finally{try{q && !q.done && (f=l["return"]) && f.call(l);}finally{if(b)throw b.error;}}a=Object.getPrototypeOf(a);}return c;}function k(a,b,f,c,q){var l;Object.getOwnPropertyNames(a).filter(function(a){return q(a) && (f || !Object.prototype.hasOwnProperty.call(b,a)) && (c || !((a in b)));}).forEach(function(f){l=Object.getOwnPropertyDescriptor(a,f);void 0 !== l && Object.defineProperty(b,f,l);});}function h(a,b,f,q){var l,u;l=[];f || (l=Object.getOwnPropertyNames(b));q || (l=c(b));u=Object.getPrototypeOf(a);null !== u && u !== Object.prototype && h(u,b,f,q);k(a,b,!0,!0,function(a){return "constructor" !== a && -1 === l.indexOf(a);});}Object.defineProperty(b,"__esModule",{value:!0});b.Ue=b.Xlb=void 0;m=a(0);f=a(5);b.Xlb=h;q=Object.getOwnPropertyNames(Function);b.Ue=function(a,b,c,m){void 0 === c && (c=!0);void 0 === m && (m=!0);m || f.assert(!c);a.prototype?(h(a.prototype,b.prototype,c,m),k(a,b,c,m,function(a){return -1 === q.indexOf(a);})):k(a,b.prototype,c,m,function(a){return -1 === q.indexOf(a);});return b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ay="named";b.HV="name";b.iN="unmanaged";b.sza="optional";b.zM="inject";b.MB="multi_inject";b.HCa="inversify:tagged";b.ICa="inversify:tagged_props";b.I9="inversify:paramtypes";b.Q4a="design:paramtypes";b.MM="post_construct";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Di=void 0;b.Di="Base64EncoderSymbol";},function(d,b,a){var m,f,q;function c(a){return function(b,f){return b.dpa(f,a);};}function k(a,b){return a.V3.BKb[b] || h(a,b);}function h(a,b){a=a.dx.data[b];switch(typeof a){case "undefined":break;case "string":case "number":case "boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(b,"__esModule",{value:!0});b.oo=b.lpa=b.object=b.Zrb=b.url=b.$=b.th=b.Ura=b.tAb=b.n5=b.string=b.hy=b.Gc=b.t1=b.config=void 0;m=a(46);f=a(4);q=a(132);b.config=function(a,b){return function(f,c,l){var m,u;m=void 0 !== b?b:c;u=l.get;void 0 !== u && (l.get=function(){var b;if(!this.jBb(c))return this.mxb(c);a:{b=(this.ghb?k:h)(this,m.toString());if(void 0 !== b)if((b=a(this.XR,b),b instanceof q.On))this.sNa(m,b);else break a;b=u.bind(this)();}this.KMb(c,b);return b;});return l;};};b.t1=function(a,b){return a.kXa(b);};b.Gc=function(a,b){return a.$oa(b);};b.hy=function(a,b){return a.cp(b);};b.string=function(a,b){return a.dpa(b);};b.n5=function(a,f){return a.Dk(f,b.string);};b.tAb=function(a,f){return a.Dk(f,b.t1);};b.Ura=function(a,f){return a.Dk(f,b.hy);};b.th=function(a,b){a=a.cp(b);return a instanceof q.On?a:f.Jb(a);};b.$=function(a,b){a=a.cp(b);return a instanceof q.On?a:m.$(a);};b.url=c(/^\S+$/);b.Zrb=function(a){return function(b,f){return b.jXa(f,a);};};b.object=function(){return function(a,b){return a.lXa(b);};};b.lpa=c;b.oo=function(a,b){return function(f,c){return f.Dk(c,a,b);};};},function(d,b,a){var k;function c(a,b,f,c,l,u,t,d,z,y,B,L){this.code=void 0 === a?k.L.Hl:a;this.pd=b;this.Og=f;this.wI=c;this.wu=l;this.message=u;this.Yt=t;this.data=d;this.lha=z;this.YIb=y;this.alert=B;this.Bda=L;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Dc=void 0;k=a(2);c.$e=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c || (c="" + a);b?(a="" + b,0 !== a.indexOf(c) && (a=c + "\n" + a)):a=c;f && (a+="\nnumber:" + f);return a;}return "";};c.prototype.HP=function(a){this.Yt=c.$e(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.pd,extCode:this.Og,edgeCode:this.wI,mslCode:this.wu,message:this.message,details:this.Yt,data:this.data,errorDisplayMessage:this.lha,playbackServiceError:this.YIb};};c.X_=function(a,b){return new c(a,k.K.Yh,void 0,void 0,void 0,void 0,b.message,b.stack);};c.ZUb=function(a,b,f){return new c(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f);};b.Dc=c;},function(d,b,a){var h,m,f,q;function c(a,b){var f;f=q.call(this,a,b) || this;f.fKa=b;f.debug=a.debug;f.ma=a.sf.ob(f.fKa);return f;}function k(a,b){this.fKa=b;this.Soa={};this.dx=a.dx;this.XR=a.XR;this.V3=a.V3;}Object.defineProperty(b,"__esModule",{value:!0});b.pe=b.ZL=b.JCa=void 0;d=a(0);h=a(568);m=a(1);f=a(132);b.JCa="isTestAccount";k.prototype.sNa=function(){};k.prototype.KMb=function(a,b){this.Soa[a]=[b,this.dx.u4];};k.prototype.jBb=function(a){return h.H9.of(this.Soa[a]).map(function(a){return a[1];}).Hx(-1) < this.dx.u4;};k.prototype.mxb=function(a){return h.H9.of(this.Soa[a]).map(function(a){return a[0];}).Hx(function(){throw Error("Invalid State Error");});};pa.Object.defineProperties(k.prototype,{ghb:{configurable:!0,enumerable:!0,get:function(){var a,c;if(this && this.dx && this.dx.data){a=this.dx.data[b.JCa];"undefined" !== typeof a && (c=a.toString());a=this.XR.$oa(c);a=a instanceof f.On?!1:a;}else a=!1;return a;}}});q=k;q=d.__decorate([m.N(),d.__param(0,m.Ai()),d.__param(1,m.Ai())],q);b.ZL=q;N(c,q);c.prototype.sNa=function(a,b){this.ma.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=c;a=d.__decorate([d.__param(0,m.Ai()),d.__param(1,m.Ai())],a);b.pe=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jt=b.Hg=b.Eh=void 0;b.Eh={uSa:"logblob",ta:"manifest",Yi:"license",events:"events",bind:"bind",qVa:"pair",ping:"ping",config:"config"};d=b.Hg || (b.Hg={});d[d.Ps=20]="High";d[d.o9=10]="Medium";d[d.gG=0]="Low";b.jt={Hg:"reqPriority",e$a:"reqAttempt",f$a:"reqName",N3a:"browsername",O3a:"browserversion",S8a:"osname",T8a:"osversion",t4a:"clienttype",bab:"uiversion"};},function(d,b,a){var h;function c(a){return h.jN.apply(this,arguments) || this;}function k(a){return new h.Mq(a,b.xB);}Object.defineProperty(b,"__esModule",{value:!0});b.sb=b.Uya=b.H8=b.Ks=b.xB=b.yEb=b.QBb=b.$=b.XO=b.Q3a=void 0;h=a(287);N(c,h.jN);b.Q3a=c;b.XO=k;b.$=function(a){return new h.Mq(a,b.Ks);};b.QBb=function(a){return new h.Mq(a,b.H8);};b.yEb=function(a){return new h.Mq(a,b.Uya);};b.xB=new c(1,"b");b.Ks=new c(8 * b.xB.Af,"B",b.xB);b.H8=new c(1024 * b.Ks.Af,"KB",b.xB);b.Uya=new c(1024 * b.H8.Af,"MB",b.xB);b.sb=k(0);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N8=b.El=b.yV=void 0;b.yV="LogBatcherConfigSymbol";b.El="LogBatcherSymbol";b.N8="LogBatcherProviderSymbol";},function(d,b,a){var l,u,t,x,z,y,B;function c(){var a,f;if(a=b.x0.aGa)return a;a=y.NV.search.substr(1);f=a.indexOf("#");0 <= f && (a=a.substr(0,f));a=k(a);return b.x0.aGa=a;}function k(a){for(var b=/[+]/g,f=(a || "").split("&"),c={},l,q=0;q < f.length;q++){a=x.trim(f[q]);l=a.indexOf("=");0 <= l?c[decodeURIComponent(a.substr(0,l).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(l + 1).replace(b,"%20")):c[a.toLowerCase()]=null;}return c;}function h(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";}function m(a){return h(a.constructor);}function f(a){return y.sort.call(a,function(a,b){return a - b;});}function q(a){for(var b=0,f=a.length;f--;){b+=a[f];}return b;}Object.defineProperty(b,"__esModule",{value:!0});b.pJb=b.xQ=b.mOa=b.L1=b.lJb=b.rRa=b.H3a=b.I3a=b.xtb=b.fr=b.vlb=b.KI=b.Rsb=b.ZUa=b.$2a=b.o6=b.a3a=b.lU=b.$sa=b.Z2a=b.pAb=b.lD=b.PJb=b.Bna=b.xia=b.getFunctionName=b.fK=b.fS=b.x0=b.exb=b.gXa=b.gHa=b.lKa=b.KKb=b.St=b.UJa=void 0;l=a(11);u=a(18);t=a(7);x=a(22);z=a(27);y=a(9);B=a(15);b.UJa=function(a,b){if(a === b)return !0;if(!a || !b)return !1;for(var f in a){if(a.hasOwnProperty(f) && (!b.hasOwnProperty(f) || a[f] !== b[f]))return !1;}return !0;};b.St=b.St || (function(a,b){if(a.length == b.length){for(var f=a.length;f--;){if(a[f] != b[f])return !1;}return !0;}return !1;});b.KKb=function(a){var b;if(a){b=a.length;if(b)return (b=x.Xoa(0,b - 1),a[b]);}};b.lKa=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var f=a.length;f--;){if(a[f] !== b[f])return !1;}return !0;};b.gHa=function(a,b,f){function c(){a.removeEventListener(b,c);f.apply(this,arguments);}a.addEventListener(b,c);};b.gXa=function(){var a,b,f,c,l,q;a=y.Fe.cookie.split("; ");b=a.length;q={};for(f=0;f < b;f++){if(c=x.trim(a[f]))(l=c.indexOf("="),0 < l && (q[c.substr(0,l)]=c.substr(l + 1)));}return q;};b.exb=c;b.x0=Object.assign(c,{aGa:void 0});b.fS=k;b.fK=function(a){var b;b="";x.Jd(a,function(a,f){b && (b+="&");u.lb(z.df(f) || B.pa(f) || B.Qka(f));b+=encodeURIComponent(a) + "=" + encodeURIComponent(f);});return b;};b.getFunctionName=h;b.xia=m;b.Bna=function(a){var b;b="";B.isArray(a) || B.ila(a)?b=y.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?y.CCa(b):".");},""):z.df(a)?b=a:x.Jd(a,function(a,f){b+=(b?", ":"") + "{" + a + ": " + (B.oc(f)?h(f) || "function":f) + "}";});return "[" + m(a) + " " + b + "]";};b.PJb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};b.lD=b.lD || (function(a){var b;b="";x.Jd(a,function(a,f){b+=(b?";":"") + a + ":" + f;});return b;});b.pAb=function(a,b){var f;f=a[0];if(b <= f[0])return f.slice(1);for(var c=1,l;l=a[c++];){if(b <= l[0]){a=(b - f[0]) / (l[0] - f[0]);b=[];for(c=1;c < f.length;c++){b.push((f[c] || 0) + a * ((l[c] || 0) - (f[c] || 0)));}return b;}f=l;}return f.slice(1);};b.Z2a=function(a,b){var l;for(var f={},c=0;c < b.length;c++){l=b[c];if("string" != typeof l && "number" != typeof l)return !1;f[b[c]]=1;}for(c=0;c < a.length;c++){if((l=a[c],!f[l]))return !1;}return !0;};b.$sa=function(a,b){0 > a.indexOf(b) && a.push(b);};b.lU=f;b.a3a=q;b.o6=function(a,b){var f,c,l,q;f=-1;c=a.length;if(1 === arguments.length){for(;++f < c && !(null != (l=a[f]) && l <= l);){l=void 0;}for(;++f < c;){null != (q=a[f]) && q > l && (l=q);}}else {for(;++f < c && !(null != (l=b.call(a,a[f],f)) && l <= l);){l=void 0;}for(;++f < c;){null != (q=b.call(a,a[f],f)) && q > l && (l=q);}}return l;};b.$2a=function(a,b){var f,c,l,q;f=-1;c=a.length;if(1 === arguments.length){for(;++f < c && !(null != (l=a[f]) && l <= l);){l=void 0;}for(;++f < c;){null != (q=a[f]) && l > q && (l=q);}}else {for(;++f < c && !(null != (l=b.call(a,a[f],f)) && l <= l);){l=void 0;}for(;++f < c;){null != (q=b.call(a,a[f],f)) && l > q && (l=q);}}return l;};b.ZUa=function(a){return B.oc(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};b.Rsb=function(a,b){var l,q,h,m,u,t;function c(a){0 > l.indexOf(a) && B.pa(a) && l.push(a);}a=a.slice();f(a);l=[];if(!b || !b.length)return a;if(!a.length)return [];q=b.length;try{for(;q--;){u="" + b[q];t=z.Xd(u);switch(u[u.length - 1]){case "-":for(h=a.length;h--;){if((m=a[h],m < t)){c(m);break;}}break;case "+":for(h=0;h < a.length;h++){if((m=a[h],m > t)){c(m);break;}}break;default:0 <= a.indexOf(t) && c(t);}}}catch(ka){}l.length || l.push(a[0]);f(l);return l;};b.KI=b.KI || (function(a,b,f){var c;a / b > f?(c=y.ai(b * f),a=b):(c=a,a=y.ai(a / f));return {width:c,height:a};});b.vlb=function(a,b,f){for(var c=[],l=0;l < b;l++){c.push(y.BV(a[l] - f,2));}return y.Bya(q(c) / c.length);};b.fr=function(a,b){var f;f=a.length;b=(f - 1) * b + 1;if(1 === b)return a[0];if(b == f)return a[f - 1];f=y.sv(b);return a[f - 1] + (b - f) * (a[f] - a[f - 1]);};b.xtb=function(a,b){if(!B.isArray(a))throw Error("boxes is not an array");if(0 >= a.length)throw Error("There are no boxes in boxes");b=B.isArray(b)?b:[b];for(var f=a.length,c=0;c < f;c++){for(var l=0;l < b.length;l++){if(a[c].type == b[l])return a[c];}}throw Error("Box not found " + b);};b.I3a=function(a){return a.mvb("trak/mdia/minf/stbl/stsd/" + l.Mta + "|" + l.Nta).children.filter(function(a){return "sinf" == a.type && "cenc" == a.g3b.schm.Y5b;})[0].mvb("schi/tenc").fq;};b.H3a=function(a){var f;function b(a,b){var c;c=f[a];f[a]=f[b];f[b]=c;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};b.rRa=function(){return B.oc(y.bi.requestMediaKeySystemAccess);};b.lJb=function(a){return function(b){return b && b[a];};};B.oc(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(a,b){var f,c;void 0 === a && (a=0);void 0 === b && (b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0 > a && (a+=this.byteLength);0 > b && (b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0 >= b - a)return new ArrayBuffer(0);f=new ArrayBuffer(b - a);c=new Uint8Array(f);a=new Uint8Array(this,a,b - a);c.set(a);return f;});b.L1=function(a){return a && 0 == a.toLowerCase().indexOf("https");};b.mOa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041 == a[0]?"LE":2712847316 == a[0]?"BE":"undefined";};b.xQ=function(){var a,b,f;try{a=/playercore.*js/;b=y.Ws.getEntries("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length){f=y.ai(b[0].duration);return JSON.stringify(f);}}catch(da){}};b.pJb=function(a,b,f){if(a && a.length){if(f && f.Kkb)try{a.forEach(function(a,c){var l;l=(c=f.Kkb[c]) && c.media;l && z.df(l)?(!1,l=t.lw(l).buffer,a.media={arrayBuffer:l,length:l.byteLength,stream:b,zc:c.cdn}):t.log.warn("chunk not in cache",a.sh);});}catch(da){t.log.error("error reading cached chunks",da);}else t.log.warn("chunks not available in cached stream",f.type);}else t.log.warn("chunks not available in mediabuffer",f.type);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mk=void 0;b.Mk="PboCommandContextSymbol";},function(d,b,a){var k,h,m,f,q;function c(){return k.Vd.get(m.xd).fE.ba(q.fa);}Object.defineProperty(b,"__esModule",{value:!0});b.dlb=b.IJa=b.HJa=b.blb=b.clb=b.lZ=b.hi=void 0;k=a(280);h=a(34);m=a(19);f=a(87);q=a(4);b.hi=function(){return k.Vd.get(m.xd).zb().ba(q.fa);};b.lZ=function(){return k.Vd.get(h.Vg).ve.ba(q.Em);};b.clb=function(){return k.Vd.get(m.xd).fE.ba(q.Em);};b.blb=function(){return k.Vd.get(f.qv).Bz();};b.HJa=c;b.IJa=function(){return k.Vd.get(h.Vg).ve.ba(q.fa);};b.dlb=function(){return c();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t5a="Cannot apply @injectable decorator multiple times.";b.u5a="Metadata key was used more than once in a parameter:";b.HM="NULL argument";b.wxa="Key Not Found";b.z2a="Ambiguous match found for serviceIdentifier:";b.W3a="Could not unbind serviceIdentifier:";b.F8a="No matching bindings found for serviceIdentifier:";b.d8a="Missing required @injectable annotation in:";b.e8a="Missing required @inject or @multiInject annotation in:";b.cab=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Z3a="Circular dependency found:";b.YYb="Sorry, this feature is not fully implemented yet.";b.t7a="Invalid binding type:";b.G8a="No snapshot available to restore.";b.w7a="Invalid return type in middleware. Middleware must return!";b.gYb="Value provided to function binding must be a function!";b.y7a="The toSelf function can only be applied when a constructor is used as service identifier";b.u7a="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.A2a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.n4a="Invalid Container constructor argument. Container options must be an object.";b.l4a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.k4a="Invalid Container option. Auto bind injectable must be a boolean";b.m4a="Invalid Container option. Skip base check must be a boolean";b.r8a="Cannot apply @postConstruct decorator multiple times in the same class";b.K9a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.$3a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "It looks like there is a circular dependency " + ("in one of the '" + a[0] + "' bindings. Please investigate bindings with") + ("service identifier '" + a[1] + "'.");};b.x$a="Maximum call stack size exceeded";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gn=b.NQb=b.KUa=void 0;b.KUa=function(a,b){return a - b;};b.NQb=function(a,b){return a.localeCompare(b);};b.gn=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c && Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zm=void 0;b.zm="EmeConfigSymbol";},function(d,b,a){var c,k;c=a(119);k=a(163);d.W=function(a){return function f(b,l){switch(arguments.length){case 0:return f;case 1:return k(b)?f:c(function(f){return a(b,f);});default:return k(b) && k(l)?f:k(b)?c(function(b){return a(b,l);}):k(l)?c(function(f){return a(b,f);}):a(b,l);}};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uc=void 0;b.uc=function(a){return setTimeout(a,0);};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.pFb=b.platform=b.Wm=b.Ac=b.hwb=b.uQ=b.JSa=b.ci=void 0;d=a(0);d.__exportStar(a(375),b);d.__exportStar(a(810),b);d.__exportStar(a(811),b);d.__exportStar(a(812),b);d.__exportStar(a(21),b);c=a(77);Object.defineProperty(b,"PlaybackLifecycle",{enumerable:!0,get:function(){return c.ci;}});b.JSa=function(c){b.platform.k1(c);return a(814).rya;};b.uQ=function(c){b.platform.k1(c);return Promise.resolve().then(function(){return a(427);}).then(function(a){return a.uQ();});};b.hwb=function(){return a(230);};d=a(24);b.Ac=d;d=a(1021);b.Wm=d.Wm;d=a(3);b.platform=d;k=a(1022);b.pFb=function(){return {zy:k.zy};};},function(d,b){function a(){}function c(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gl=b.Ci=b.Y=void 0;b.Y=k;k.nM="playready-h264mpl30-dash";k.YF="playready-h264mpl31-dash";k.T7="playready-h264mpl40-dash";k.n6a="playready-h264hpl22-dash";k.YU="playready-h264hpl30-dash";k.ZU="playready-h264hpl31-dash";k.S7="playready-h264hpl40-dash";k.f8="hevc-main-L30-dash-cenc";k.g8="hevc-main-L31-dash-cenc";k.h8="hevc-main-L40-dash-cenc";k.i8="hevc-main-L41-dash-cenc";k.j8="hevc-main-L50-dash-cenc";k.k8="hevc-main-L51-dash-cenc";k.b8="hevc-main10-L30-dash-cenc";k.c8="hevc-main10-L31-dash-cenc";k.d8="hevc-main10-L40-dash-cenc";k.e8="hevc-main10-L41-dash-cenc";k.$F="hevc-main10-L50-dash-cenc";k.aG="hevc-main10-L51-dash-cenc";k.fV="hevc-main10-L30-dash-cenc-prk";k.hV="hevc-main10-L31-dash-cenc-prk";k.jV="hevc-main10-L40-dash-cenc-prk";k.lV="hevc-main10-L41-dash-cenc-prk";k.gV="hevc-main10-L30-dash-cenc-prk-do";k.iV="hevc-main10-L31-dash-cenc-prk-do";k.kV="hevc-main10-L40-dash-cenc-prk-do";k.mV="hevc-main10-L41-dash-cenc-prk-do";k.nV="hevc-main10-L50-dash-cenc-prk-do";k.oV="hevc-main10-L51-dash-cenc-prk-do";k.NXb="hevc-main-L30-L31-dash-cenc-tl";k.OXb="hevc-main-L31-L40-dash-cenc-tl";k.PXb="hevc-main-L40-L41-dash-cenc-tl";k.QXb="hevc-main-L50-L51-dash-cenc-tl";k.JXb="hevc-main10-L30-L31-dash-cenc-tl";k.KXb="hevc-main10-L31-L40-dash-cenc-tl";k.LXb="hevc-main10-L40-L41-dash-cenc-tl";k.MXb="hevc-main10-L50-L51-dash-cenc-tl";k.eM="hevc-dv5-main10-L30-dash-cenc-prk";k.fM="hevc-dv5-main10-L31-dash-cenc-prk";k.OF="hevc-dv5-main10-L40-dash-cenc-prk";k.gM="hevc-dv5-main10-L41-dash-cenc-prk";k.hM="hevc-dv5-main10-L50-dash-cenc-prk";k.JU="hevc-dv5-main10-L51-dash-cenc-prk";k.U7="hevc-hdr-main10-L30-dash-cenc";k.V7="hevc-hdr-main10-L31-dash-cenc";k.W7="hevc-hdr-main10-L40-dash-cenc";k.X7="hevc-hdr-main10-L41-dash-cenc";k.Y7="hevc-hdr-main10-L50-dash-cenc";k.Z7="hevc-hdr-main10-L51-dash-cenc";k.qM="hevc-hdr-main10-L30-dash-cenc-prk";k.rM="hevc-hdr-main10-L31-dash-cenc-prk";k.ZF="hevc-hdr-main10-L40-dash-cenc-prk";k.sM="hevc-hdr-main10-L41-dash-cenc-prk";k.aV="hevc-hdr-main10-L50-dash-cenc-prk";k.bV="hevc-hdr-main10-L51-dash-cenc-prk";k.sDa="vp9-profile0-L21-dash-cenc";k.mN="vp9-profile0-L30-dash-cenc";k.nN="vp9-profile0-L31-dash-cenc";k.FW="vp9-profile0-L40-dash-cenc";k.nDa="vp9-profile2-L30-dash-cenc-prk";k.oDa="vp9-profile2-L31-dash-cenc-prk";k.pDa="vp9-profile2-L40-dash-cenc-prk";k.qDa="vp9-profile2-L50-dash-cenc-prk";k.rDa="vp9-profile2-L51-dash-cenc-prk";k.Isa="av1-main-L20-dash-cbcs-prk";k.Jsa="av1-main-L21-dash-cbcs-prk";k.Ksa="av1-main-L30-dash-cbcs-prk";k.Lsa="av1-main-L31-dash-cbcs-prk";k.Msa="av1-main-L40-dash-cbcs-prk";k.Nsa="av1-main-L41-dash-cbcs-prk";k.Osa="av1-main-L50-dash-cbcs-prk";k.Psa="av1-main-L51-dash-cbcs-prk";k.i$a=[k.nM];k.s6a=[k.YF,k.T7];k.Z$a=[k.f8,k.g8,k.h8,k.i8,k.j8,k.k8];k.aab=[k.b8,k.c8,k.d8,k.e8,k.$F,k.aG];k.$$a=[k.fV,k.hV,k.jV,k.lV,k.$F,k.aG];k.B0b=[k.gV,k.iV,k.kV,k.mV,k.nV,k.oV];k.r6a=[k.U7,k.V7,k.W7,k.X7,k.Y7,k.Z7];k.q6a=[k.qM,k.rM,k.ZF,k.sM,k.aV,k.bV];k.v5a=[k.eM,k.OF,k.hM,k.fM,k.gM,k.JU];k.HWb=[k.eM,k.fM,k.OF,k.gM,k.hM];k.tVb=[k.YU,k.ZU,k.S7];k.J0b=[k.mN,k.nN,k.FW];k.Iy=[k.sDa,k.mN,k.nN,k.FW,k.nDa,k.oDa,k.pDa,k.qDa,k.rDa];k.P2a=[k.Isa,k.Jsa,k.Ksa];k.O2a=[k.Lsa,k.Msa,k.Nsa];k.Q2a=[k.Osa,k.Psa];k.nj=[].concat(k.P2a,k.O2a,k.Q2a);k.m6a=k.i$a.concat(k.s6a);k.p6a=k.Z$a;k.o6a=k.aab;k.X2a=[].concat(k.m6a,k.p6a,k.o6a,k.$$a,k.r6a,k.q6a,k.v5a,k.Iy,k.nj);b.Ci=c;c.cV="heaac-2-dash";c.t6a="heaac-5.1-dash";c.dV="heaac-2hq-dash";c.LW="xheaac-dash";c.HU="ddplus-2.0-dash";c.X6="ddplus-5.1-dash";c.IU="ddplus-atmos-dash";c.a8="playready-heaac-2-dash";c.v6a="heaac-2-dash-enc";c.w4a="ddplus-2.0-dash-enc";c.x4a="ddplus-5.1-dash-enc";c.u6a="playready-heaac-2-dash-enc";c.X2a=[c.cV,c.dV,c.HU,c.X6,c.IU,c.a8,c.v6a,c.w4a,c.x4a,c.u6a];b.Gl=a;a.t$a="simplesdh";a.a7="dfxp-ls-sdh";a.kG="nflx-cmisc";a.P_b="simplesdh-enc";a.AWb="dfxp-ls-sdh-enc";a.KV="nflx-cmisc-enc";},function(d,b,a){var k,h;function c(a,f){var q;q=b.Pn[0];q == f && (q=b.Pn[1]);q?q.close(function(){c(a,f);}):a && a(k.$d);}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=b.yAa=b.r$=b.s$=b.uG=b.u$=b.t$=b.x$=b.w$=b.Pn=b.y$=b.v$=void 0;k=a(11);h=a(18);b.v$=c;b.y$=function(a,f){switch(a){case b.t$:b.w$.push(f);return;case b.u$:b.x$.push(f);return;}h.lb(!1);};b.Pn=[];b.w$=[];b.x$=[];b.t$=1;b.u$=3;b.uG={index:0,mFb:void 0,Pha:void 0};b.s$="network";b.r$="media";b.yAa="timedtext";b.zAa="playback";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.M0=b.cJ=b.N0=b.Zz=b.bm=b.Re=void 0;d=a(69);c=a(55);k=a(9);b.Re=new d.pj();b.bm=1;b.Zz=2;b.N0=3;b.cJ=4;b.M0=5;c.uc(function(){var c,f,q;function a(a,b){if(f)f.on(a,b);else O.addEventListener(a,b);}c=O.jQuery;f=c && c(O);c=(c=O.netflix) && c.cadmium && c.cadmium.addBeforeUnloadHandler;q=k.Fe.hidden;c?c(function(a){b.Re.cc(b.bm,a);}):a("beforeunload",function(a){b.Re.cc(b.bm,a);});a("keydown",function(a){b.Re.cc(b.Zz,a);});a("resize",function(){b.Re.cc(b.N0);});k.Fe.addEventListener("visibilitychange",function(){q !== k.Fe.hidden && (q=k.Fe.hidden,b.Re.cc(b.cJ));});});(function(){O.addEventListener("error",function(a){b.Re.cc(b.M0,a);return !0;});})();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);d=(function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key === c.Ay?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return a;})();b.Metadata=d;},function(d,b){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;("stack" in b) && (this.stack=b.stack);this.interval=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Cy=b.Un=void 0;N(a,Error);b.Un=a;b.Cy="PromiseTimerSymbol";},function(d){d.W=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hs=b.qaa=void 0;b.qaa="StorageValidatorSymbol";b.Hs="AppStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lq=void 0;b.Lq="LogMessageFactorySymbol";},function(d,b,a){var c,k,h,m,f,q;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});k=a(295);d=a(114);h=a(201);m=a(202);f=(function(a){function b(b,c,l){var u;a.call(this);this.nF=null;this.Rg=this.An=this.mF=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!b){this.destination=h.empty;break;}if("object" === typeof b){if(b instanceof f || ("syncErrorThrowable" in b) && b[m.ZE]){u=b[m.ZE]();this.An=u.An;this.destination=u;u.add(this);}else (this.An=!0,this.destination=new q(this,b));break;}default:(this.An=!0,this.destination=new q(this,b,c,l));}}c(b,a);b.prototype[m.ZE]=function(){return this;};b.create=function(a,f,c){a=new b(a,f,c);a.An=!1;return a;};b.prototype.next=function(a){this.Rg || this.Nl(a);};b.prototype.error=function(a){this.Rg || (this.Rg=!0,this.gf(a));};b.prototype.complete=function(){this.Rg || (this.Rg=!0,this.ae());};b.prototype.unsubscribe=function(){this.closed || (this.Rg=!0,a.prototype.unsubscribe.call(this));};b.prototype.Nl=function(a){this.destination.next(a);};b.prototype.gf=function(a){this.destination.error(a);this.unsubscribe();};b.prototype.ae=function(){this.destination.complete();this.unsubscribe();};b.prototype.Pfb=function(){var a,b;a=this.xp;b=this.uC;this.uC=this.xp=null;this.unsubscribe();this.Rg=this.closed=!1;this.xp=a;this.uC=b;};return b;})(d.Fy);b.Tn=f;q=(function(a){function b(b,f,c,l){var q;a.call(this);this.aO=b;b=this;k.oc(f)?q=f:f && (q=f.next,c=f.error,l=f.complete,f !== h.empty && (b=Object.create(f),k.oc(b.unsubscribe) && this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.Sj=b;this.Nl=q;this.gf=c;this.ae=l;}c(b,a);b.prototype.next=function(a){var b;if(!this.Rg && this.Nl){b=this.aO;b.An?this.Xaa(b,this.Nl,a) && this.unsubscribe():this.Yaa(this.Nl,a);}};b.prototype.error=function(a){var b;if(!this.Rg){b=this.aO;if(this.gf)(b.An?this.Xaa(b,this.gf,a):this.Yaa(this.gf,a),this.unsubscribe());else if(b.An)(b.nF=a,b.mF=!0,this.unsubscribe());else throw (this.unsubscribe(),a);}};b.prototype.complete=function(){var a,b,f;a=this;if(!this.Rg){b=this.aO;if(this.ae){f=function(){return a.ae.call(a.Sj);};b.An?this.Xaa(b,f):this.Yaa(f);}this.unsubscribe();}};b.prototype.Yaa=function(a,b){try{a.call(this.Sj,b);}catch(z){throw (this.unsubscribe(),z);}};b.prototype.Xaa=function(a,b,f){try{b.call(this.Sj,f);}catch(y){return (a.nF=y,a.mF=!0);}return !1;};b.prototype.Yca=function(){var a;a=this.aO;this.aO=this.Sj=null;a.unsubscribe();};return b;})(f);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jG=b.Gy=void 0;b.Gy="TimingApiSymbol";b.jG="MilestoneTimingApiSymbol";},function(d,b,a){var h,m;function c(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.Am=b.Ea=b.Ii=void 0;d=a(115);(function(a){a[a.Fl=0]="STANDARD";a[a.ty=1]="LIMITED";a[a.XZb=2]="PREVIEW";})(h || (h={}));k.C0b="uirequest";k.VZb="prefetch_start";k.TZb="prefetch_complete";k.UZb="prefetch_delete";k.FZb="periodic_update";d={manifest:d.Ne.Ik.Hsa,ldl:d.Ne.Ik.JB,getHeaders:d.Ne.Ik.tM,getMedia:d.Ne.Ik.MEDIA};(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(m || (m={}));(function(a){a.K2a="asl_start";a.I2a="asl_comp";a.rVb="asl_exc";a.J2a="asl_fail";a.A$a="stf_creat";a.P6a="idb_open";a.M6a="idb_block";a.W6a="idb_upgr";a.V6a="idb_succ";a.N6a="idb_error";a.O6a="idb_invalid_state";a.R6a="idb_open_timeout";a.T6a="idb_open_wrkarnd";a.U6a="idb_storelen_exc";a.Q6a="idb_open_exc";a.S6a="idb_timeout_invalid_storelen";a.l8a="msl_load_data";a.n8a="msl_load_no_data";a.m8a="msl_load_failed";})(a=b.Ii || (b.Ii={}));(function(a){a.L9="PlaybackRequestStart";a.K9="PlaybackRequestEnd";a.nW="RequestPrefetchManifestStart";a.mW="RequestPrefetchManifestEnd";a.lW="RequestManifestStart";a.kW="RequestManifestEnd";a.jW="RequestLicenseStart";a.iW="RequestLicenseEnd";a.zU="RequestTimedTextUrlStart";a.yU="RequestTimedTextUrlEnd";a.xU="RequestAudioUrlStart";a.wU="RequestAudioUrlEnd";a.BU="RequestVideoUrlStart";a.AU="RequestVideoUrlEnd";a.j6="AppendBufferStart";a.i6="AppendBufferEnd";a.caa="SetMediaKeysStart";a.baa="SetMediaKeysEnd";a.WU="GenerateChallengeStart";a.VU="GenerateChallengeEnd";a.l6="ApplyLicenseStart";a.k6="ApplyLicenseEnd";})(b.Ea || (b.Ea={}));b.Am=c;c.mYb=h;c.oKa=function(a){return ["STANDARD","LIMITED","PREVIEW"][a];};c.WZb=k;c.NM=d;c.Ii=a;c.vwa=m;},function(d,b,a){var u,t,x,z,y,B,g,I,E,da,W,n,M,D,p,ka;function c(a){var b,f,c,l;b=a.url.split("?");f=b[0];c="sc=" + a.qNb;l=a.WIa?"random=" + (1E17 * W.OB()).toFixed(0):"";f=b[1]?f + ("?" + b[1] + "&" + c):f + ("?" + c);f=f + (l?"&" + l:"");a.zc && !z.L1(f) && (a=t.config && t.config.Rea) && (f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function k(a){var b,f,c,l;b=a.url.split("?");f=b[0];c="bb_reason=" + a.reason;l=a.WIa?"random=" + (1E17 * W.OB()).toFixed(0):"";f=b[1]?f + ("?" + b[1] + "&" + c):f + ("?" + c);f=f + (l?"&" + l:"");a.zc && !z.L1(f) && (a=t.config && t.config.Rea) && (f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function h(a,b){var f,c,l,q;f=a.url.split("?");c=f[0];l=m(a);l && (b.ks=l,(void 0 === a.Ds?t.config.Ds:a.Ds)?(a.headers=a.headers || ({}),a.headers.Range="bytes=" + l):(b.ks=l,c="/" == c[c.length - 1]?c + "range/":c + "/range/",c+=l));l=a.WIa?"random=" + (1E17 * W.OB()).toFixed(0):"";t.config.Jz && a.Z4 && (q="sc=" + a.Z4,l=q + (l?"&" + l:""));c=f[1]?c + ("?" + f[1] + (l?"&" + l:"")):c + (l?"?" + l:"");a.zc && !z.L1(c) && (a=t.config && t.config.Rea) && (c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));b.url=c;}function m(a){var b;b=a.offset;if(void 0 !== b)return (E.EP(b),void 0 !== a.length?(a=a.offset + a.length - 1,E.EP(a),b + "-" + a):b + "-");}function f(){return !1 !== W.bi.onLine;}function q(a,f,c,l){var q,h;q=l.yoa;h=l.headers;a.open(q?"POST":"GET",f,!c);switch(l.responseType){case b.JQ:a.responseType="arraybuffer";break;case b.kka:da.fJa(a,"overrideMimeType",void 0,"text/xml");}q && (f={"Content-Type":B.df(q)?"text/plain":"application/x-octet-stream"},h=h?B.Eb(f,h):f);h && da.Jd(h,function(b,f){a.setRequestHeader(b,f);});l.withCredentials && (a.withCredentials=!0);void 0 !== a.msCaching && (a.msCaching="disabled");q?a.send(q):a.send();}function l(a,f){switch(f.type){case b.JQ:return a.response || new ArrayBuffer(0);case b.kka:return a.responseXML;default:return a.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.JQ=b.kka=b.jka=b.lka=b.f1=b.rQa=b.qQa=b.d1=b.qab=b.rab=b.szb=b.e1=b.pzb=b.qzb=b.ozb=b.rzb=b.cf=void 0;u=a(69);t=a(12);x=a(11);z=a(48);y=a(50);B=a(27);g=a(2);I=a(7);E=a(18);da=a(22);W=a(9);n=a(55);M=a(15);D=a(29);p={taa:1,N0b:2,g3a:3};b.cf=(function(){var z,L,da,W;function a(a){var b;try{b=a.url;M.kla(b)?0 === b.indexOf("https")?W.ssl++:0 === b.indexOf("http")?W["non-ssl"]++:W.invalid++:W.invalid++;}catch(Na){}}function m(){L.cc(b.rQa);L.cc(b.lka);}function d(){L.cc(b.f1);L.cc(b.lka);}z=I.ph("Http");L=new u.pj();da=0;W={ssl:0,"non-ssl":0,invalid:0};I.ha.get(D.ig).register(g.L.exa,function(a){t.config.XTb && (O.addEventListener("online",m),O.addEventListener("offline",d),b.e1=f);a(x.$d);});return {addEventListener:L.addListener,removeEventListener:L.removeListener,download:function(f,c){var p,U,la,r,Y,Q,qa,ga,ba,S,va;function m(){var a;m=B.$g;va && (clearTimeout(va),va=null);L.removeListener(b.f1,x);ba && (ba.onloadstart=null,ba.onreadystatechange=null,ba.onprogress=null,ba.onerror=null,ba.onload=null,ba=ba.onabort=null);ga.ia?!1:ga.ja != g.K.py?p.warn("Download failed",U,g.Jq(ga)):p.trace("Download aborted",U);a=la;la=void 0;for(var f=a.length;f--;){(function(){var b;b=a[f];n.uc(function(){b(ga);});})();}L.cc(b.qQa,ga,!0);}function u(){va && (clearTimeout(va),va=null);va=setTimeout(W,S?qa:Q);}function d(a,b,f,c){var l,q;ga.ia=!1;ga.ja=a;l=y.hi();q=ga.gl;q.xh=q.xh || l;q.sn=q.sn || l;0 < b && (ga.Vi=ga.Ke=b);f && (ga.ub=f);c && (ga.UA=c);a !== g.K.uM && a !== g.K.GB && a !== g.K.xM || !ba || (ba.onabort=null,D());m();}function k(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f && (b=JSON.parse(f));}catch(tb){!1;}return b;}function x(){b.e1() || d(g.K.uM);}function W(){d(S?g.K.GB:g.K.xM);}function D(){try{ba && ba.abort();}catch(gc){}}function R(){d(g.K.py);}E.lb(c);p=f.j && f.j.log && I.Pg(f.j,"Http") || z;U={Num:da++};la=[c];r={};Q=f.qZ || t.config.qZ;qa=f.kna || t.config.kna;a(f);!1;ga=(function(){var a,b,c;a=B.$g;b=B.$g;c=B.$g;return {request:f,type:f.responseType,gl:r,abort:D,timeout:W,kda:function(a){m !== B.$g && (E.lb(la,"Callback should be added before download starts."),la && la.unshift(a));},i3:function(a){c(a);},k3:function(b){a(b);},yE:function(a){b(a);},JOb:function(a){c=a;},ROb:function(b){a=b;},DOb:function(a){b=a;}};})();n.uc(function(){var a,c;if(M.kla(f.url))try{if((h(f,ga),Y=ga.url,E.lI(Y),U.Url=Y,b.e1())){!1;ba=new XMLHttpRequest();a=t.config.bUb && "undefined" != typeof ba.onloadstart;a && (ba.onloadstart=function(){var a;a=y.hi();r.requestTime=a;ga.i3({mediaRequest:f,timestamp:a});});ba.onreadystatechange=function(){if(2 == ba.readyState){S=!0;r.xh=y.hi();ba.onreadystatechange=null;u();!1;for(var a=ga,b=ba.getAllResponseHeaders().split("\n"),c=b.length,l,q,h={};c--;){if(l=b[c])(q=l.indexOf(": "),1 <= q && q < l.length - 1 && (h[l.substr(0,q)]=l.substr(q + 2)));}a.headers=h;ga.k3({timestamp:r.xh,connect:!0,mediaRequest:f,start:r.requestTime,rt:[r.xh - r.requestTime]});}};ba.onprogress=function(a){S=!0;r.Dfa=a.loaded;u();a={mediaRequest:f,bytes:a.loaded,tempstamp:y.hi(),bytesLoaded:a.loaded};ga.k3(a);};ba.onload=function(){var a;if(m !== B.$g){E.lb(void 0 === r.sn);r.sn=y.hi();r.xh=r.xh || r.sn;200 <= ba.status && 299 >= ba.status?(a=l(ba,ga),ga.parsed=!1,ga.content=a,ga.ia=!0):ba.status == ka?d(g.K.wM,ba.status):d(g.K.vM,ba.status,ba.response,k(ba));m();}};ba.onabort=R;ba.onerror=function(){var a,b;a=ba.status;"undefined" !== typeof t.config.nNa && (a=t.config.nNa);if(0 < a){if(a == ka)d(g.K.wM,a);else {try{b=ba.responseText;}catch(mf){}d(g.K.vM,a,b,k(ba));}}else d(g.K.yM);};c=y.hi();q(ba,Y,!1,f);L.cc(b.d1,ga,!0);a || (r.requestTime=c,ga.i3({mediaRequest:f,timestamp:c}));u();L.addListener(b.f1,x);}else n.uc(d.bind(void 0,g.K.uM));}catch(pb){p.error("Exception starting download",pb,U);d(g.K.p8,void 0,B.$e(pb));}else d(g.K.xwa);});return ga;},Ob:W,g5b:function(a){var b;b=new XMLHttpRequest();a=k(a);b.open("HEAD",a);b.onreadystatechange=function(){2 == b.readyState && !1;};b.send();},NPb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){2 == b.readyState && !1;};b.send();},cKb:function(a){var b,f,c;b=new XMLHttpRequest();f=a.url;c=a.$Jb;b.open("HEAD",f);b.timeout=Math.max(2 * c.UCb,t.config.Loa);b.onreadystatechange=function(){2 == b.readyState && (!1,c && c.yu({url:f}));};b.ontimeout=b.onerror=function(){!1;c && c.una({url:f});};b.send();},a$a:p};})();b.rzb=c;b.ozb=k;b.qzb=h;b.pzb=m;b.e1=x.tBa;b.szb=f;b.rab=q;b.qab=l;b.d1=1;b.qQa=2;b.rQa=3;b.f1=4;b.lka=5;b.jka=1;b.kka=2;b.JQ=3;ka=420;O._cad_global.http=b.cf;},function(d,b,a){var k,h;function c(){var a,b;a=this;this.Tq={};this.on=function(b,f,c){a.addListener(b,f,c);};this.addListener=function(b,f,c){a.Tq && (a.Tq[b]=a.Tq[b] || new h.S$(!0)).add(f,c);};this.removeListener=function(b,f){a.Tq && a.Tq[b] && a.Tq[b].removeAll(f);};this.Dia=function(b){return a.Tq && a.Tq[b]?a.Tq[b].xr():[];};b=this;this.cc=function(a,f,c){var l;if(b.Tq){l=b.Dia(a);for(a={lk:0};a.lk < l.length;(a={lk:a.lk},a.lk++)){c?(function(a){return function(){var b;b=l[a.lk];k.uc(function(){b(f);});};})(a)():l[a.lk].call(this,f);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.pj=void 0;k=a(55);h=a(324);c.prototype.Ng=function(){this.Tq=void 0;};b.pj=c;},function(d,b,a){var c,k,h,m,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.Bh=void 0;c=a(0);a(5);k=a(24);h=a(106);m=a(396);f=a(21);d=a(39);q=a(169);l=a(242);a=a(120);u=(function(a){function b(b,f){var c;c=a.call(this,b,f) || this;c.uj=f.index;c.PG=f.Wa;c.pt=f.nb;c.Yfb=f.ib?f.ib:b.ib;c.RK=f.RK;c.YFa=f.Ck || 0;c.iFa=! !f.Nr;c.ud=void 0 === f.T_ || void 0 === f.Xha || f.T_ === f.Wa && f.Xha === f.nb?c:new l.tB(c,{Wa:f.T_,nb:f.Xha});c.pdb=f.ana;c.yab=f.Ri;c.Sq=f.Ja?c.tUa(f.Ja):void 0;c.yGa=f.xs;c.ee=!1;return c;}c.__extends(b,a);b.FKa=function(a){for(var b=new Uint32Array(a.length),f=new Uint32Array(a.length),c=0,l,q,h=0;h < a.length;++h){l=a[h];q=l.qc;b[h]=l.pt - l.PG;f[h]=q;c+=q;}return new m.jaa(b,f,a.length?a[0].P:1E3,c);};Object.defineProperties(b.prototype,{iA:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{index:{get:function(){return this.uj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ib:{get:function(){return this.Yfb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wa:{get:function(){return this.PG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){return this.pt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ck:{get:function(){return this.YFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Nr:{get:function(){return this.iFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ana:{get:function(){return this.pdb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ri:{get:function(){return this.yab;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ja:{get:function(){return this.Sq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xs:{get:function(){return this.yGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T_:{get:function(){return this.ud.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xha:{get:function(){return this.ud.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mtb:{get:function(){return this.ud.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vNa:{get:function(){return this.ud.toa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qz:{get:function(){return this.ud.dd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{U_:{get:function(){return this.ud.le;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uNa:{get:function(){return this.ud.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yha:{get:function(){return this.ud.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ltb:{get:function(){return this.ud.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{LI:{get:function(){return this.Mtb / this.stream.za.rb;},enumerable:!1,configurable:!0}});b.prototype.wZa=function(a){this.YFa=a.ze(this.P).rb;};b.prototype.qma=function(){this.iFa=!0;};b.prototype.yZa=function(a){this.RK={Ae:a.aOa(),gla:a.ys};};b.prototype.bT=function(a){this.yGa=a;};b.prototype.gj=function(a){var b,f;void 0 === a && (a={});b=this.stream.za.rb;f=this.Sq || ({start:0,end:this.LI});a=this.tUa(a);this.ud && this.ud !== this || (this.ud=new l.tB(this,this));a.start > f.start && (this.PG=this.ud.Wa + a.start * b);a.end < f.end && (this.pt=this.ud.Wa + a.end * b);this.Sq=a;};b.prototype.OP=function(a){void 0 === a && (a=1);this.Sq?this.gj({start:this.Sq.start + a,end:this.Sq.end}):this.gj({start:a});};b.prototype.NLa=function(){this.Sq?this.gj({start:this.Sq.start,end:(this.Sq.end || 0) - 1}):this.gj({start:0,end:-1});};b.prototype.Qqb=function(){this.gj({start:0,end:0});};b.prototype.ltb=function(a){var c;if(!(a < this.T || a >= this.qa) && this.Ri && this.Ri.length){a=new f.U(a + 1 - this.T,1E3).Qp(this.stream.za);for(var b=this.Ri.length - 1;0 <= b;--b){c=this.Ri[b];if(c.tn <= a)return c;}return {tn:0,Hc:this.Qz};}};b.prototype.ktb=function(a){var c;if(!(a < this.T || a >= this.qa) && this.Ri && this.Ri.length){a=new f.U(a + 1 - this.T,1E3).Qp(this.stream.za);for(var b=this.Ri.length - 1;0 <= b;--b){c=this.Ri[b];if(c.tn <= a)return c;}return {tn:0,Hc:this.Qz};}};b.prototype.TMa=function(a,b){var c,l,q;if(!(a < this.T || a >= this.qa)){c=this.za.rb;l=this.za.P;q=Math.floor(this.Rp / c);a=Math.min((b?Math.ceil:Math.floor)((f.U.bna(a,l) - this.Wa + (b?-1:1) * (l / 1E3 - 1)) / c),q);c=f.U.Dra(this.Wa + a * c,l);return a === q?void 0:{tn:a,Hc:c};}};b.prototype.F_=function(a){return this.I === k.Sa.VIDEO?this.ltb(a):this.TMa(a,!1);};b.prototype.itb=function(a){return this.I === k.Sa.VIDEO?this.ktb(a):this.TMa(a,!0);};b.prototype.Ada=function(a){this.qc+=a.$;this.pt=a.nb;this.Sq && (this.ud=new l.tB(this,{Wa:this.T_,nb:this.pt}),this.Sq.end=this.LI);};b.prototype.toString=function(){return "[" + this.Ca + ", " + this.S + "kbit/s, " + ("c:" + this.Wb + "-" + this.Vb + ",") + ("p:" + this.dd + "-" + this.le + ",d:" + this.duration + "]");};b.prototype.toJSON=function(){var a;a=q.jy.prototype.toJSON.call(this);h({index:this.index,startPts:this.T,endPts:this.qa,contentStartPts:this.Wb,contentEndPts:this.Vb,fragmentStartPts:this.Qz !== this.T?this.Qz:void 0,fragmentEndPts:this.U_ !== this.qa?this.U_:void 0,edit:this.Ja},a);return a;};b.prototype.YMa=function(a){var b;if(this.Ri)for(var f=0;f < this.Ri.length;++f){this.Ri[f].tn === a && (b=this.Ri[f].offset);}return b;};b.prototype.tUa=function(a){return {start:a.start || 0,end:(void 0 !== a.end && 0 <= a.end?0:this.LI) + (a.end || 0)};};return b;})(q.jy);b.Bh=u;d.Ue(a.uB,u);d.Ue(a.qB,u);},function(d,b,a){var k,h,m,f,q;function c(a,b,f,c,q,h){this.context=a;this.errorCode=b;this.QMb=f;this.zpa=q;this.UX=h;this.name=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Ch=void 0;d=a(0);k=a(1);h=a(482);m=a(4);f=a(43);q=a(35);c.prototype.send=function(a,b,f,c,h,m,d){var l;d=void 0 === d?q.Vs.WM:d;l=this;return this.svb(a,b,f,d,c,h,m).then(function(a){return l.context.oqb.send(a.context,a.request);});};c.prototype.svb=function(a,b,f,c,q,h,m){var l,u;try{l=this.context.pMb.create(this.context.VD.Bz(),b,f,q,c);u=this.ojb(a,c,h,m);return Promise.resolve({context:u,request:l});}catch(E){return Promise.reject(E);}};c.prototype.ojb=function(a,b,f,c){return {cf:this.context.cf,log:a,dk:this.name,url:this.context.PTb(h.TIa(this.context.kf,this.context.cj,this.name,b)),Npa:this.QMb,timeout:m.zh(59),headers:h.SIa(this.context.cj,this.context.Fz),ypa:this.ypa,zpa:void 0 !== f?f:this.zpa,Rib:c};};c.prototype.Zl=function(a){return a instanceof f.Dc?a:h.Zl(this.errorCode,a);};c.prototype.uJa=function(a){var b;b=this;a.forEach(function(a){if(b.Ska(a))throw a.error;});};c.prototype.Ska=function(a){return void 0 !== a.error;};pa.Object.defineProperties(c.prototype,{ypa:{configurable:!0,enumerable:!0,get:function(){return this.UX;}}});a=c;a=d.__decorate([k.N(),d.__param(0,k.Ai()),d.__param(1,k.Ai()),d.__param(2,k.Ai()),d.__param(3,k.Ai()),d.__param(4,k.Ai()),d.__param(5,k.Ai())],a);b.Ch=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hq={Request:"Request",kaa:"Singleton",DW:"Transient"};b.oj={xua:"ConstantValue",yua:"Constructor",yva:"DynamicValue",O7:"Factory",Function:"Function",z8:"Instance",I7a:"Invalid",pBa:"Provider"};b.Cv={rua:"ClassProperty",zua:"ConstructorArgument",Laa:"Variable"};},function(d,b,a){var k,h;function c(a,b,c,l,u){a=void 0 === a?k.L.Hl:a;return h.Dc.call(this,a,b,c,void 0,void 0,l,h.Dc.$e(u),u) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Ve=void 0;k=a(2);h=a(43);N(c,h.Dc);b.Ve=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lla=b.Fi=void 0;(function(a){a[a.Fl=0]="STANDARD";a[a.ty=1]="LIMITED";})(b.Fi || (b.Fi={}));b.Lla=function(a){return ["STANDARD","LIMITED"][a];};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F7=b.laa=b.G8=b.paa=b.naa=b.SU=b.Bm=void 0;b.Bm={start:"start",stop:"stop",ZQ:"keepAlive",XP:"engage",splice:"splice"};b.SU="EventPboCommandFactorySymbol";b.naa="StartEventPboCommandSymbol";b.paa="StopEventPboCommandSymbol";b.G8="KeepAliveEventPboCommandSymbol";b.laa="SpliceEventPboCommandSymbol";b.F7="EngageEventPboCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zg=void 0;b.Zg={audio:"audio",video:"video",w5:"timedtext",Pra:"trickplay"};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.DBa=b.ci=void 0;c=a(0);k=a(813);(function(a){a[a.nL=0]="startPlayback";a[a.Kz=1]="endPlayback";a[a.jB=2]="underflow";})(b.ci || (b.ci={}));d=(function(){function a(a){this.config=a;this.XXa=[];}a.prototype.Dp=function(a){var b,q;q=c.__read(this.config.yga.filter(function(b){return b.Sm === a.Sm;}),1)[0];(null !== (b=null === q || void 0 === q?void 0:q.enabled) && void 0 !== b?b:a.enabled)?this.XXa.push(a):a.Qb && a.Qb();};a.prototype.Qw=function(a){var b,q,l,h,z,y;l={};h=[];try{for(var m=c.__values(this.XXa),d=m.next();!d.done;d=m.next()){z=d.value;try{y=z.Qw({pk:a});y && (z.MR?l[z.MR]=y:l=c.__assign(c.__assign({},l),y));}catch(B){h.push(B);}}}catch(B){b={error:B};}finally{try{d && !d.done && (q=m["return"]) && q.call(m);}finally{if(b)throw b.error;}}h.length && (l["rpt-error"]=new k.Usa("Reporting error",h));return l;};return a;})();b.DBa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(141);b.Oy=function(a){c.assert("number" === typeof a);return String.fromCharCode(a >>> 24 & 255) + String.fromCharCode(a >>> 16 & 255) + String.fromCharCode(a >>> 8 & 255) + String.fromCharCode(a & 255);};b.iEa=function(a){return a.charCodeAt(3) + (a.charCodeAt(2) << 8) + (a.charCodeAt(1) << 16) + (a.charCodeAt(0) << 24);};b.X0b=function(a,b){return Math.floor(1E3 * a / b);};},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,z;Object.defineProperty(b,"__esModule",{value:!0});b.rB=b.Bi=void 0;c=a(0);d=a(16);k=a(8);h=d.Yg;m=a(3);f=m.Kk;q=a(167);l=a(105);u=a(10);d=a(39);t=a(170);x=a(169);(function(a){a[a.E8a=0]="NOTHING_APPENDED";a[a.X8a=1]="PARTIAL";a[a.hv=2]="COMPLETE";a[a.ERROR=3]="ERROR";})(z=b.Bi || (b.Bi={}));a=(function(a){function b(b,c,l,q,m,u,d){c=a.call(this,c,l) || this;t.sB.call(c,b,q,m,u,d);x.jy.call(c,b,q);c.pN=b.url || q.url;c.oN=q.responseType;c.GDa=q.Z4;void 0 === c.oN && (c.oN=f.Rb && !f.Rb.KK.cC?0:1);c.Vf=new h();c.Vf.on(c,f.Zd.qza,c.YN);c.Vf.on(c,f.Zd.pza,c.uca);c.Vf.on(c,f.Zd.rza,c.vca);c.Vf.on(c,f.Zd.KM,c.XN);c.Vf.on(c,f.Zd.VB,c.oH);c.AG=!1;c.jd=!1;c.Lg=!1;c.zt=!1;c.FN=!1;c.om=0;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{active:{get:function(){return this.jd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gpa:{get:function(){return this.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !this.AG && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xq:{get:function(){return this.AG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yka:{get:function(){return this.zt && !this.FN;},enumerable:!1,configurable:!0}});b.prototype.Ib=function(a){t.sB.prototype.Ib.call(this,a);this.kc || !this.Yc.AY && this.dc || (this.kc=l.pf(),this.active && (this.kc.UE(m.time.da(),{requestId:this.$n(),ue:this.Tb,type:this.I}),this.Lg && (this.kc.Bpa(m.time.da()),this.connect && 0 < this.rq.length && this.kc.aw(this.rq[0]))));};b.prototype.Lr=function(){return this.ee || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};b.prototype.RC=function(a,b,f,c,l,q,h){this.ee=a.appendBuffer(this.response,h || u.fl(this));return {status:this.ee?z.hv:z.ERROR};};b.prototype.Au=function(){(this.zt=f.prototype.open.call(this,this.pN,{start:this.offset,end:this.offset + this.$ - 1},this.oN,{},void 0,void 0,this.GDa)) && this.fQ(this);return this.zt;};b.prototype.abort=function(){var a;if(this.Xq)return !0;a=this.jd;this.kc && a && this.kc.WE(m.time.da(),this.Lg,{requestId:this.$n(),ue:this.Tb,type:this.I});this.AG=!0;this.Lg=this.jd=!1;f.prototype.abort.call(this);this.R_(this,a,this.Yka);return !0;};b.prototype.ac=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Vf && this.Vf.clear();a.prototype.ac.call(this);};b.prototype.YN=function(){var a;a=this.md || this.rf;q.ev.pf().push(m.time.da() - a);this.jd || (this.jd=!0,this.Po=this.track.Po(),this.stream.H.WSa || this.kc && this.kc.UE(a,{requestId:this.$n(),ue:this.Tb,type:this.I}),this.KD(this),this.pm=this.md);};b.prototype.uca=function(){var a,b,f;a=this.md || this.Kha;b=this.connect;f=this.rq;q.ev.pf().push(m.time.da() - a);this.jd || (this.jd=!0);this.Lg || (this.Lg=!0,this.stream.H.WSa && this.kc && this.kc.UE(a,{requestId:this.$n(),ue:this.Tb,type:this.I}),this.kc && this.kc.Bpa(a),b && 0 < f.length && this.kc && this.kc.aw(f[0]),this.Pz(this),this.pm=a);};b.prototype.vca=function(){var a,b,f;a=this;b=this.md;f=this.Pe - this.om;q.ev.pf().push(m.time.da() - b);this.Lg || (this.Lg=!0);this.kc && (void 0 === this.pm || this.kc.lz(f,this.pm,b,{requestId:this.$n(),ue:this.Tb,type:this.I}),this.rq && this.rq.length && this.rq.forEach(function(b){a.kc.$v(b);}));this.LD(this);this.pm=b;this.om=this.Pe;};b.prototype.XN=function(){var a,b,f;a=this;b=this.md;f=this.Pe - this.om;q.ev.pf().push(m.time.da() - b);this.kc && (0 < f && this.kc.lz(f,this.pm,b,{requestId:this.$n(),ue:this.Tb,type:this.I}),this.rq && this.rq.length && this.rq.forEach(function(b){a.kc.$v(b);}),this.kc.WE(b,this.Lg,{requestId:this.$n(),ue:this.Tb,type:this.I}));this.Lg=this.jd=!1;this.FN=!0;this.zr(this);this.pm=b;this.om=this.Pe;this.ac();};b.prototype.$n=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.$Y;b && (a+=",range " + b.start + "-" + b.end);return a;};b.prototype.oH=function(){var a,b,f,c;this.G.warn("AseMediaRequest._onError:",this.toString());a=this.md;b=this.status;f=this.qg;c=this.ni;q.ev.pf().push(m.time.da() - a);this.complete?this.G.warn("Error on a done request " + this.toString() + ", failurecode: " + f):this.Xq?this.G.warn("Error on an aborted request " + this.toString() + ", failurecode: " + f):k.pa(f)?(this.kc && this.Yc && this.Yc.tpa && this.rf && void 0 === b && this.kc.lz(this.om?this.Pe - this.om:this.Pe,this.pm?this.pm:this.rf,a,{requestId:this.$n(),ue:this.Tb,type:this.I}),this.S_(this)):this.G.warn("ignoring undefined request error (nativecode: " + c + ")");};return b;})(f);b.rB=a;d.Ue(t.sB,a,!1);d.Ue(x.jy,a,!1);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ms=void 0;b.Ms="DeviceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zs=void 0;b.Zs="PboConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kt=void 0;b.kt="VideoPreparerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xf=void 0;b.Xf=new (function(){})();},function(d,b,a){var h,m;function c(a,b,c,m,d){var f,l,u;f={};l="number" === typeof d;d=void 0 !== d && l?d.toString():c;if(l && void 0 !== c)throw Error(h.u7a);Reflect.Sja(a,b) && (f=Reflect.getMetadata(a,b));c=f[d];if(Array.isArray(c))for(var l=0,q=c;l < q.length;l++){u=q[l];if(u.key === m.key)throw Error(h.u5a + " " + u.key.toString());}else c=[];c.push(m);f[d]=c;Reflect.rga(a,f,b);}function k(a,b){return function(f,c){b(f,c,a);};}Object.defineProperty(b,"__esModule",{value:!0});h=a(51);m=a(40);b.oF=function(a,b,l,h){c(m.HCa,a,b,h,l);};b.CT=function(a,b,l){c(m.ICa,a.constructor,b,l);};b.Ez=function(a,b,c){"number" === typeof c?Reflect.Ez([k(c,a)],b):"string" === typeof c?Reflect.Ez([a],b,c):Reflect.Ez([a],b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ls=b.e7=void 0;b.e7="DebugConfigSymbol";b.Ls="DebugSymbol";},function(d,b,a){d=a(192);a="undefined" !== typeof self && "undefined" !== typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self;d="undefined" !== typeof O && O || "undefined" !== typeof d && d || a;b.root=d;if(!d)throw Error("RxJS could not find any global context (window, self, global)");},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qv=void 0;b.qv="IdProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l7=b.iM=b.XU=b.J7=void 0;b.J7="EventSourceSymbol";b.XU="GlobalEventSourceSymbol";b.iM="DebugEventSourceSymbol";b.l7="DiagnosticsEventSourceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.UL=b.d3a=b.r6=b.s6=void 0;(function(a){a[a.LLa=0]="downloading";a[a.Lqb=1]="downloaded";a[a.ee=2]="appended";a[a.buffered=3]="buffered";a[a.qpa=4]="removed";a[a.M6b=5]="unused";})(b.s6 || (b.s6={}));(function(a){a[a.waiting=1]="waiting";a[a.p5b=2]="ondeck";a[a.LLa=4]="downloading";a[a.Lqb=8]="downloaded";a[a.RQ=6]="inprogress";})(b.r6 || (b.r6={}));b.d3a="AseBufferViewSymbol";b.UL="AseBufferAccountingSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Is=void 0;d=(function(){function a(a){this.Oe=a;}a.prototype.xZa=function(a){this.Oe=a;};a.prototype.DJa=function(){this.Oe=void 0;};a.prototype.fQ=function(a){return this.Oe && this.Oe.m3 && this.Oe.m3(a);};a.prototype.KD=function(a){this.Oe && this.Oe.Gx && this.Oe.Gx(a);};a.prototype.Pz=function(a){this.Oe && this.Oe.jK && this.Oe.jK(a);};a.prototype.LD=function(a){this.Oe && this.Oe.kK && this.Oe.kK(a);};a.prototype.pNa=function(a){this.Oe && this.Oe.Rna && this.Oe.Rna(a);};a.prototype.zr=function(a){this.Oe && this.Oe.Jj && this.Oe.Jj(a);};a.prototype.S_=function(a){this.Oe && this.Oe.cS && this.Oe.cS(a);};a.prototype.R_=function(a,b,h){this.Oe && this.Oe.bS && this.Oe.bS(a,b,h);};return a;})();b.Is=d;d.prototype.m3=d.prototype.fQ;d.prototype.Gx=d.prototype.KD;d.prototype.jK=d.prototype.Pz;d.prototype.kK=d.prototype.LD;d.prototype.Jj=d.prototype.zr;d.prototype.cS=d.prototype.S_;d.prototype.bS=d.prototype.R_;d.prototype.Rna=d.prototype.pNa;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y9="6674654e-696c-5078-6966-665374726d21";b.z9="6674654e-696c-4878-6165-6465722e7632";b.eza="6674654e-696c-5078-6966-66496e646578";b.JV="6674654e-696c-4d78-6f6f-6653697a6573";b.IV="6674654e-696c-5378-6565-6b506f696e74";b.Gza="cedb7489-e77b-514c-84f9-7148f9882554";b.Fza="524f39a2-9b5a-144f-a244-6c427c648df4";b.x9="6674654e-696c-4678-7261-6d6552617465";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){a.prototype.parse.call(this,b);this.ld=this.Mu([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{O3b:"int32"},{V6b:"int32"},{offset:32,type:"offset"},{m3b:"int16"},{f2b:{type:"int8",Bhb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};b.Bc=!0;return b;})(a(237)["default"]);b["default"]=d;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="avc1";return b;})(d);b.R2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="avc2";return b;})(d);b.S2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="avc3";return b;})(d);b.T2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="avc4";return b;})(d);b.U2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="hvc1";return b;})(d);b.D6a=a;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="hev1";return b;})(d);b.y6a=d;},function(d,b,a){(function(b,k){var m;function c(a,b,c){this.now=a;this.g_a=a=this.now();this.p_=a + b;this.vIb=b;this.Vob=a + c;this.debug=!1;this.Az=this.Sr=0;}m=new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.Jg=function(a,c){var f;a=((a - this.g_a) / 1E3).toFixed(3);a=("     ").slice(a.length - 4) + a;f=b.zEb();m.debug(a + (" " + Math.floor(f.M3b / 1024 / 1024) + " MB/" + Math.floor(f.lQa / 1024 / 1024) + " MB ") + this.FZ + c);};c.prototype.nfb=function(a){var b;b=this.now();this.FZ=a;this.Sr=0;this.Jg(b,"starting");};c.prototype.Qfb=function(a){var f,c;this.Az++;if(!(1E3 > this.Az)){this.Az=0;f=this.now();if(f >= this.Vob)throw (m.error("Execution deadline exceeded after " + (f - this.g_a) + "ms: " + this.FZ),Error("Execution deadline exceeded: " + this.FZ));c=b.zEb();this.Sr=Math.max(this.Sr,c.lQa);if(7516192768 < c.lQa)throw Error("Heap total limit exceeded: " + this.FZ);if(!(f <= this.p_)){for(;f > this.p_;){this.p_+=this.vIb;}this.Jg(f,a);}}};c.Ib=function(a){k.PA=new c(a,5E3,33E5);};c.S4=function(a){k.PA && k.PA.nfb(a);};c.update=function(a){k.PA && k.PA.Qfb(a);};c.Sia=function(){if(k.PA)return k.PA.Sr;};c.now=function(){return k.PA?k.PA.now():Date.now();};d.W=c;}).call(this,a(420),a(192));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cf=void 0;d=b.Cf || (b.Cf={});d.Um="created";d.Su="started";d.uL="succeeded";d.Up="failed";d.bk="cancelled";d.Mea="cancelled_on_create";d.hZ="cancelled_on_start";d.Lea="cancelled_not_encrypted";},function(d,b){var c;function a(a,b){var h;h=this;this.Mba=[];c.forEach(function(f){(f=f(a,b)) && h.Mba.push(f);});}Object.defineProperty(b,"__esModule",{value:!0});b.QB=b.Tya=void 0;c=[];a.prototype.us=function(a){var f;for(var b=[],c=this.Mba.length;c--;){f=this.Mba[c];f.us(a) && b.push(f.HI);}if(b.length)return b;};b.Tya=a;b.QB=function(a){c.push(a);};},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.XM=b.rv=b.y8=void 0;b.y8="Injector";b.rv=145152E5;b.XM="ProfileSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tv=void 0;b.tv="MediaKeySystemAccessServicesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ly=void 0;b.ly="Base16EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hy=void 0;b.Hy="Utf8EncoderSymbol";},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ey=void 0;d=a(0);a=a(1);c.prototype.format=function(a,b){var c;for(var f=1;f < arguments.length;++f){;}c=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof c[b]?c[b]:a;});};c.prototype.OQb=function(a){for(var b=a.length,f=new Uint16Array(b),c=0;c < b;c++){f[c]=a.charCodeAt(c);}return f.buffer;};c.prototype.A_a=function(a){return JSON.stringify(a,null,"  ");};k=c;k=d.__decorate([a.N()],k);b.Ey=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fC=void 0;b.fC="ThrottleFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.LB=void 0;b.LB="LoggerSinksSymbol";},function(d,b,a){var t;function c(a,b){if(a.length == b.length && 1 < a.length){for(var c=a.length,l=0,q=f(a),h=f(b),m=0;m < c;m++){l+=a[m] * b[m];}return (l - q * h / c) / c;}return !1;}function k(a){if(!Array.isArray(a) || 2 > a.length)return !1;a=h(a);return Math.sqrt(a);}function h(a){var b;if(!Array.isArray(a) || 2 > a.length)return !1;b=m(a);return f(a.map(function(a){return (a - b) * (a - b);})) / (a.length - 1);}function m(a){return Array.isArray(a) && a.length?f(a) / a.length:!1;}function f(a){return Array.isArray(a)?a.reduce(function(a,b){return a + b;},0):!1;}function q(a,b,f){return Math.max(Math.min(a,f),b);}function l(a,b){return "number" === typeof a?a:b;}function u(a){return 1 / (1 + Math.exp(-a));}t=a(8);d.W={Pa:function(a,b,f){try{a.emit(b,f);}catch(B){a.gf("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",B,"Event:",f);}},Ut:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a + b.byteLength;},0);return f.buffer;},kZ:q,Qkb:function(a,b,f,c){return {min:q(l(a.min,b),f,c),max:q(l(a.max,b),f,c),ww:q(a.ww || 6E4,0,6E5),mJa:q(a.mJa || 0,-3E5,3E5),scale:q(a.scale || 6E4,0,3E5),HYa:q(a.HYa || 0,-3E5,3E5),gamma:q(a.gamma || 1,.1,10)};},Jd:function(a,b){void 0 !== a && t.MHb(a).forEach(function(a){b(a[0],a[1]);});},CMa:function(a,b,f){return a.min + (a.max - a.min) * (1 - Math.pow(u(6 * (b - (a.ww + (a.mJa || 0) * (1 - f))) / (a.scale + (a.HYa || 0) * (1 - f))),a.gamma));},bsb:function(a,b){return a.min + (a.max - a.min) * Math.pow(u(6 * (b - a.ww) / a.scale),a.gamma);},E3b:f,zub:m,dyb:h,C3b:k,r3b:c,q3b:function(a,b){var f;if(a.length == b.length){f=c(a,b);a=k(a);b=k(b);if(0 < a && 0 < b)return f / (a * b);}return !1;},tx:function(a,b,f){return b.GKa?b.GKa(f):new a.Console("ASEJS","media|asejs",f);},gqa:function(a){return a.length?"{" + a + "} ":"";},mNb:function(a,b,f){return {min:a.min * f + (1 - f) * b.min,max:a.max * f + (1 - f) * b.max,ww:a.ww * f + (1 - f) * b.ww,scale:a.scale * f + (1 - f) * b.scale,gamma:a.gamma * f + (1 - f) * b.gamma};},tanh:Math.tanh || (function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity == b?1:Infinity == a?-1:(b - a) / (b + a);}),Mqa:u,fl:function(a){var b;b=a.Ra.yc.ca.id;return {T:a.T,duration:a.duration,offset:a.offset,$:a.$,S:a.S,profile:a.profile,dc:a.dc,Ba:b,Ca:a.Ca,Tb:a.Tb,location:a.location,kk:a.kk,Mh:a.Mh,Du:{yc:{ca:{id:b}}}};}};},function(d,b,a){var h,m,f,q,l,u,t,x;function c(a){var b;if(!a.Zca){b=a.xPa();a.Ml.NC(b["default"].Ga,a.Ki);a.Ml.EF(b.Kr?b.Kr.w3:void 0,b.Kr?b.Kr.MK:void 0);h.Xa(a.$b) || (a.Zca=!0);}}function k(a,b,c){var l;this.H=c;this.jo={};this.UG=c.UG;this.BEa=new q(this.UG);this.DN=new u(!0);this.rN=new u(!1);this.reset();this.qca=a;this.Ml=b;this.dFa=m.jn.name();this.Ml.R4(this.dFa);this.iO=this.iC=0;this.sN=[];m.events.on("networkchange",(function(a){this.dFa=a;this.Ml.R4(a);}).bind(this));l=c.hga;l && (l={Hd:f.Xe.pM,Ma:{Ga:parseInt(l,10),Xh:0},Vh:{vib:0,Xh:0},Ir:{vib:0,Xh:0}},this.get=function(){return l;});x=this;}h=a(8);m=a(3);f=a(24);a(10);b=a(16).EventEmitter;q=a(378).jwa;l=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");u=a(834).Sva;t=a(140);x=void 0;k.prototype.constructor=k;k.prototype=Object.create(b.prototype);k.pf=function(){return x;};k.reset=function(){x && x.reset();};Object.defineProperties(k.prototype,{startTime:{get:function(){return this.se;}},Hd:{get:function(){return this.Ki;}},Bp:{get:function(){return this.iC;}},PGa:{get:function(){return this.sN;}}});k.prototype.xbb=function(){var a,b,f,c;a=this.H;b=a.Nbb.concat(a.Xbb);f=a.Lba;c=this.BEa;return b.reduce(function(a,b){a[b]=c.create(b,f);return a;},{});};k.prototype.reset=function(){var a,b,l,q;a=this.H.Lba;b=this.BEa;l=this.H;this.location=null;this.jo=this.xbb();if(this.H.oMa){q=this.H.c0a;this.jo.JRb=new t(q.numB * q.bSizeMs,q.bSizeMs);}this.DN.reset();this.rN.reset();this.Sv=b.create("respconn-ewma",a);this.Lv=b.create("respconn-ewma",a);this.Ki=f.Xe.HAVE_NOTHING;this.Sfb=(function(){c(this);}).bind(this);this.uY=void 0;this.Vy=this.qc=this.$b=this.se=null;this.Wab=this.oY=this.tO=0;this.yca=!1;l.iYa && (this.iO=this.iC=0,this.sN=[]);};k.prototype.$S=function(a){var b;b=this.jo;if(a !== this.location){h.X(this.uY) || (clearInterval(this.uY),this.uY=void 0);h.Xa(this.location) && (this.oY=this.tO=0,this.se=null);if(!h.Xa(a)){this.Ki=f.Xe.HAVE_NOTHING;for(var c in b){b[c] && b[c].reset && b[c].reset();}this.Sv.reset();this.Lv.reset();}h.Xa(this.se) || (this.tO+=(h.Xa(this.$b)?m.time.da():this.$b) - this.se,this.oY+=this.qc);this.$b=this.se=null;this.qc=0;this.location=a;this.Ml.$S(a);}};k.prototype.R4=function(a){this.Ml.R4(a);};k.prototype.wgb=function(a){this.jo.QoEEvaluator?l.warn("monitor (QoEEvaluator) already existed."):this.jo.QoEEvaluator=a;};k.prototype.RLb=function(){delete this.jo.QoEEvaluator;};k.prototype.lz=function(a,b,q,m){var u,d;this.T1=Math.max(this.T1 || 0,q);u=this.H;d=this.jo;if(!0 === m.IF)(m=d["throughput-wssl"]) && m.add(a,b,q,!0);else if(h.X(b))l.warn("addDataReceived called with undefined start time");else {u.Wbb && 10 > q - b?b=q - 10:0 === q - b && (b=q - 1);this.DN.lz(a,b,q,m);this.rN.lz(a,b,q,m);for(var t in d){d[t] && d[t].add && d[t].add(a,b,q);}this.Ki=Math.max(this.Ki,f.Xe.FB);h.Xa(this.se) && (this.se=b,this.$b=null,this.Zca=!1,this.qc=0);h.Xa(this.$b) || (b > this.$b && (this.se+=b - this.$b),this.$b=null,this.Zca=!1);this.qc+=a;this.Ki < f.Xe.EB && (q - this.se > u.ndb || this.qc > u.mdb) && (this.Ki=f.Xe.EB);this.Ki < f.Xe.pM && (q - this.se > u.Aeb || this.qc > u.zeb) && (!this.yca || this.Wab > u.ldb) && (this.Ki=f.Xe.pM,c(this),this.uY=setInterval(this.Sfb,u.Xcb));h.Xa(this.Vy) || (b - this.Vy > u.zFa?this.qca.XQa(this.Vy,b):q - b > u.zFa && this.qca.XQa(b,q));this.Vy=Math.max(q,this.Vy);}};k.prototype.aw=function(a){this.Sv.add(a);this.Ml.aw(a);};k.prototype.$v=function(a){this.Lv.add(a);this.Ml.$v(a);};k.prototype.start=function(a){var b;h.Xa(this.Vy) && !h.Xa(this.$b) && (this.Vy=a);b=this.jo;if(this.H.ara)for(var f in b){b[f] && b[f].start && b[f].start(a);}};k.prototype.stop=function(a){var b,f;b=this.jo;for(f in b){b[f] && b[f].stop && b[f].stop(a);}this.$b=h.Xa(this.$b)?a:Math.min(this.$b,a);this.Vy=null;};k.prototype.flush=function(){var a,b;a=this.jo;for(b in a){a[b] && a[b].flush && a[b].flush();}};k.prototype.fail=function(){this.se=null;};k.prototype.nOa=function(){var a,b;a=this.jo.entropy;a && (b=a.Bjb(),a.reset());return b;};k.prototype.xPa=function(){var a,b,f,c,l,q,h;a=m.time.da();b={};f=this.jo;c=this.H;l=c.Bbb;q=c.jfb;for(h in f){f[h] && f[h].get && (b[h]=f[h].get(a),"iqr" === f[h].type && (b.Kr=b[h]),"tdigest" === f[h].type && (b.kj=b[h]),"wssl" === f[h].type && (b.IF=b[h]));}b.cdnavtp=this.DN.Zm();b.activecdnavtp=this.rN.Zm();b["default"]=l && b[l]?b[l]:b["throughput-ewma"];"none" !== c.aqa && "none" !== q && (b.MYa=q && b[q]?b[q]:b["throughput-sw"]);return b;};k.prototype.get=function(){var a,b,f,c,l,q;a=this.xPa();b=a["default"];f=this.Sv.get();c=this.Lv.get();l=this.H;if(a.MYa)(q=a.MYa,b=h.pa(b.Ga) && h.pa(q.Ga) && b.Ga > q.Ga && 0 < q.Ga?q:b);a.Hd=this.Ki;a.Ma=b;!l.m_ || !b || h.Xa(b.Ga) || isNaN(b.Ga) || !a.IF || h.Xa(a.IF.Ga) || isNaN(a.IF.Ga) || ("max" === l.n2a?a.Ma.Ga=Math.max(a.IF.Ga,b.Ga):"sum" === l.n2a && (a.Ma.Ga+=a.IF.Ga));a.Vh=f;a.Ir=c;this.H.oMa && (b=this.H.c0a,a.D6b=this.jo.JRb.get(b.fillS,b.fillHl));b=this.tO + !h.Xa(this.se)?(h.Xa(this.$b)?m.time.da():this.$b) - this.se:0;a.time=b;return a;};k.prototype.oub=function(){var a;a=this.tO + !h.Xa(this.se)?(h.Xa(this.$b)?m.time.da():this.$b) - this.se:0;return {OH:Math.floor(8 * (this.oY + this.qc) / a),N3b:this.qca.cd()};};k.prototype.Rxb=function(){var a,b,f;a={};b=this.get(!0);if(b.Hd && b.Ma){a.aseavtp=Number(b.Ma.Ga).toFixed(2);a.asevartp=Number(b.Ma.Xh).toFixed(2);if(b.Kr){f=b.Kr.w3;!f || isNaN(f.xk) || isNaN(f.wk) || isNaN(f.bj) || (a.aseniqr=0 < f.bj?Number((f.xk - f.wk) / f.bj).toFixed(2):-1,a.aseiqr=Number(f.xk - f.wk).toFixed(2),a.asemedtp=Number(f.bj).toFixed(2));a.iqrsamples=b.Kr.MK;}b.kj && b.kj.Vw && (a.tdigest=b.kj.Vw());}return a;};k.prototype.UE=function(a,b){var f;f=b.requestId;1 === ++this.iC && (this.emit("active",a),this.start(a));f && this.sN.push(f);this.DN.UE(a,b);this.rN.UE(a,b);};k.prototype.Bpa=function(a){++this.iO;this.T1=Math.max(this.T1 || 0,a);};k.prototype.WE=function(a,b,f){var c;c=f.requestId;b && --this.iO;--this.iC;this.H.iYa && (this.iC=Math.max(this.iC,0),this.iO=Math.max(this.iO,0));0 === this.iC && (this.stop(a),this.emit("inactive",a));c && (b=this.sN.indexOf(c),0 <= b && this.sN.splice(b,1));this.DN.WE(a,f);this.rN.WE(a,f);};d.W=k;},function(d){d.W=function a(c,d){var h;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,d);Object.getOwnPropertyNames(c).forEach(function(a){h=Object.getOwnPropertyDescriptor(c,a);void 0 !== h && Object.defineProperty(d,a,h);});};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(235);c=a(142);b.w5a=c;c=a(387);b.Gaa=c;c=a(391);b.x1b=c;b.lCa=d.ZJ.Zc.sidx;d=a(863);b.zy=d.zy;d=a(395);b.EM=d.EM;d=a(867);b.yy=d.yy;b.pR=d.pR;d=a(78);b.Oy=d.Oy;a=a(868);b.Us=a.Us;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(941),b);d.__exportStar(a(942),b);d.__exportStar(a(943),b);d.__exportStar(a(944),b);d.__exportStar(a(945),b);d.__exportStar(a(946),b);d.__exportStar(a(947),b);d.__exportStar(a(948),b);d.__exportStar(a(422),b);d.__exportStar(a(949),b);d.__exportStar(a(950),b);d.__exportStar(a(951),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uy=b.F6a=b.ResponseType=void 0;d=b.ResponseType || (b.ResponseType={});d[d.Text=0]="Text";d[d.O0b=1]="Xml";d[d.VVb=2]="Binary";b.F6a="HttpClientSymbol";b.uy="LegacyHttpSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Dh=b.P8a=b.Nn=void 0;c=a(15);b.Nn=b.Nn || (function(a,b,c){return a >= b?a <= c?a:c:b;});b.P8a=function(a,b,c,f,q){return (a - b) * (q - f) / (c - b) + f;};b.Dh=function(a){if(c.pa(a))return (a / 1E3).toFixed(3);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lM=b.t7=void 0;b.t7="DrmServicesSymbol";b.lM="DrmServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.PB=void 0;b.PB="MediaKeysStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oB=void 0;b.oB="ApiInfoSymbol";},function(d,b,a){var k,h,m,f,q,l;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof l.EW?b.bu:b);},[]);}k=a(152);h=a(296);m=a(295);f=a(576);q=a(297);l=a(577);d=(function(){function a(a){this.closed=!1;this.AH=this.uC=this.xp=null;a && (this.Yca=a);}a.prototype.unsubscribe=function(){var a,b,u,d,B,g;a=!1;if(!this.closed){u=this.xp;d=this.uC;B=this.Yca;g=this.AH;this.closed=!0;this.AH=this.uC=this.xp=null;for(var I=-1,E=d?d.length:0;u;){u.remove(this);u=++I < E && d[I] || null;}m.oc(B) && (u=f.N0a(B).call(this),u === q.Mz && (a=!0,b=b || (q.Mz.e instanceof l.EW?c(q.Mz.e.bu):[q.Mz.e])));if(k.isArray(g))for((I=-1,E=g.length);++I < E;){u=g[I];h.qf(u) && (u=f.N0a(u.unsubscribe).call(u),u === q.Mz && (a=!0,b=b || [],u=q.Mz.e,u instanceof l.EW?b=b.concat(c(u.bu)):b.push(u)));}if(a)throw new l.EW(b);}};a.prototype.add=function(b){var f;if(!b || b === a.EMPTY)return a.EMPTY;if(b === this)return this;f=b;switch(typeof b){case "function":f=new a(b);case "object":if(f.closed || "function" !== typeof f.unsubscribe)return f;if(this.closed)return (f.unsubscribe(),f);"function" !== typeof f.NDa && (b=f,f=new a(),f.AH=[b]);break;default:throw Error("unrecognized teardown " + b + " added to Subscription.");}(this.AH || (this.AH=[])).push(f);f.NDa(this);return f;};a.prototype.remove=function(a){var b;b=this.AH;b && (a=b.indexOf(a),-1 !== a && b.splice(a,1));};a.prototype.NDa=function(a){var b,f;b=this.xp;f=this.uC;b && b !== a?f?-1 === f.indexOf(a) && f.push(a):this.uC=[a]:this.xp=a;};a.EMPTY=(function(a){a.closed=!0;return a;})(new a());return a;})();b.Fy=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J$=b.Ne=void 0;(function(a){function b(){}function d(){}function h(){}h.U3a="cache_start";h.V3a="cache_success";h.R3a="cache_abort";h.T3a="cache_fail";h.S3a="cache_evict";h.n9a="pb_request";h.z$a="start_playback";a.CB=h;d.Hsa="auth";d.JB="ldl";d.tM="hdr";d.MEDIA="media";a.Ik=d;b.uU="cached";b.LOADING="loading";b.U5a="expired";a.kU=b;})(b.Ne || (b.Ne={}));b.J$="PrefetchEventsFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YB=void 0;b.YB="PlayerErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dC=void 0;b.dC="SourceBufferTypeProviderSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Bu=b.Qma=b.yTa=void 0;d=a(733);a=a(736);b.yTa=d;b.Qma=function(a,d){return b.yTa(function(a,b){return void 0 !== b?b:a;},a,d);};b.Bu=a;},function(d,b,a){var c;c=a(163);d.W=function(a){return function m(b){return 0 === arguments.length || c(b)?m:a.apply(this,arguments);};};},function(d,b,a){var f;function c(a,b){return void 0 === a?void 0:0 === a?f.U.sb:new f.U(a,b);}function k(a,b){return a && Math.floor(f.U.Dra(a,b));}function h(a,b){return void 0 === a || void 0 === b?void 0:a + b;}function m(a,b){return void 0 === a || void 0 === b?void 0:a - b;}Object.defineProperty(b,"__esModule",{value:!0});b.qB=b.uB=void 0;f=a(21);d=(function(){function a(){}Object.defineProperties(a.prototype,{Rp:{get:function(){return m(this.nb,this.Wa) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{toa:{get:function(){return h(this.Wa,this.Ck);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iWa:{get:function(){return h(this.nb,this.Ck);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{e_:{get:function(){return c(this.Rp,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nh:{get:function(){return c(this.Wa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xo:{get:function(){return c(this.nb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ll:{get:function(){return c(this.toa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kj:{get:function(){return c(this.iWa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T3:{get:function(){return c(this.Ck,this.P);},enumerable:!1,configurable:!0}});return a;})();b.uB=d;d=(function(){function a(){}Object.defineProperties(a.prototype,{duration:{get:function(){return m(this.qa,this.T) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return k(h(this.Wa,this.Ck),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qa:{get:function(){return k(h(this.nb,this.Ck),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qn:{get:function(){return k(this.Ck,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mh:{get:function(){return k(this.Wa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wb:{get:function(){return k(this.Wa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vb:{get:function(){return k(this.nb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dd:{get:function(){return k(h(this.Wa,this.Ck),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{le:{get:function(){return k(h(this.nb,this.Ck),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kw:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sx:{get:function(){return this.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Iu:{get:function(){return this.qa;},enumerable:!1,configurable:!0}});return a;})();b.qB=d;},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Jn=void 0;c=a(0);k=a(24);h=a(873);m=a(3);d=(function(){function b(a){this.qN=a;this.Wh=[];this.console=new m.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(b,{pf:{get:function(){var f;if(void 0 === b.oC){f=a(3);b.oC=new b(f.QF);}return b.oC;},enumerable:!1,configurable:!0}});b.reset=function(){b.oC=void 0;};b.prototype.mr=function(a,b,f,c,m,d){var l,q,u,t;l=!1;u=d.nPb?this.ctb(f,b,a,d.oPb):-1;if(-1 === u){q={track:this.Snb(f,c,a,m,d),Zr:f,u:b,cXa:a,yK:[],Um:!1,UZ:!1};this.Wh.push(q);t=function(){q.Um=!0;q.track.removeListener("created",t);};q.track.on("created",t);l=!1;}else (l=!0,q=this.Wh[u]);a=new h.IBa(this.console,q.track,q.Um,l);q.yK.push(a);return a;};b.prototype.rI=function(a){var b,f;a.Op();b=this.G_(function(b){return b.track === a.track;});if(-1 !== b){if((b=this.Wh[b],1 === b.yK.length))(b.track.Op(),b.UZ=!0);else {f=b.yK.indexOf(a);0 <= f && b.yK.splice(f,1);}}else a.track.Op();};b.prototype.Le=function(){this.qN.Le();};b.prototype.Snb=function(a,b,f,h,m){var l,q,u;l=this;q=!1;a?1 === f?(a=!1,b=1,m.Xo?(a=!0,b=m.KJ):m.ru && 2 < m.ru && (a=!0,b=m.ru),a={type:this.qN.VIDEO,openRange:!a,pipeline:a,connections:b,socketBufferSize:m.LL,minRequestSize:m.UJ}):0 === f?(q=m.Xo && (m.ZTb || b && m.$Tb),a={type:this.qN.AUDIO,openRange:!q,pipeline:q,connections:1,socketBufferSize:m.RY,minRequestSize:m.UJ}):a={type:this.qN.w6a,openRange:!1,pipeline:!0,connections:1,socketBufferSize:m.Yja,minRequestSize:m.UJ}:a={type:0 === f?k.Sa.AUDIO:k.Sa.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === f?m.RY:m.LL,minRequestSize:m.UJ};u=new this.qN(a,h);u.on("transportreport",function(a){var b;b=l.G_(function(a){return a.track === u;});-1 !== b && (b=l.Wh[b],b.yK.length && b.yK[0].emit("transportreport",a));});u.on("destroyed",function(){var a;a=l.G_(function(a){return a.track === u;});-1 !== a && l.Wh.splice(a,1);u.removeAllListeners();});if(q && m.YTb || m.E1a)u.on("pipelinedisabled",function(){m.E1a && 1 === u.config.type?u.c4(c.__assign(c.__assign({},u.config),{socketBufferSize:m.cFb,pipeline:!1,openRange:!0,connections:1})):u.c4(c.__assign(c.__assign({},u.config),{pipeline:!1,openRange:!0}));});return u;};b.prototype.ctb=function(a,b,f,c){return this.G_(function(l){return !l.UZ && (!c && l.track.config.s5b || !a?!l.Zr && l.cXa === f:l.Zr && l.u === b && l.cXa === f);});};b.prototype.G_=function(a){for(var b=0;b < this.Wh.length;++b){if(a(this.Wh[b]))return b;}return -1;};return b;})();b.Jn=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(144),b);d.__exportStar(a(900),b);d.__exportStar(a(174),b);},function(d){var b;b={k1:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};d.W=b;},function(d,b,a){var f,q;function c(a){return a instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(a);}function k(a){return f.df(a);}function h(a){return f.pa(a);}function m(a){return !c(a) && !k(a) && !h(a) && !Array.isArray(a) && f.qf(a);}f=a(8);q={zB:0,qW:1,H8a:2,OBJECT:3,Hl:4};d.W={Cja:function(a){return c(a)?q.zB:k(a)?q.qW:h(a)?q.H8a:m(a)?q.OBJECT:q.Hl;},w1:c,df:k,pa:h,qf:m,mp:q};},function(d,b,a){d.W={EventEmitter:a(963),Yg:a(964)};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qs=void 0;d=b.Qs || (b.Qs={});d[d.TVb=8]="Backspace";d[d.Tab=9]="Tab";d[d.fXb=13]="Enter";d[d.o0b=16]="Shift";d[d.qWb=17]="Ctrl";d[d.vVb=18]="Alt";d[d.e_b=19]="PauseBreak";d[d.jWb=20]="CapsLock";d[d.hXb=27]="Escape";d[d.q0b=32]="Space";d[d.d_b=33]="PageUp";d[d.c_b=34]="PageDown";d[d.eXb=35]="End";d[d.TXb=36]="Home";d[d.nYb=37]="LeftArrow";d[d.F0b=38]="UpArrow";d[d.u_b=39]="RightArrow";d[d.NWb=40]="DownArrow";d[d.hYb=45]="Insert";d[d.KWb=46]="Delete";d[d.R0b=48]="Zero";d[d.AZb=49]="One";d[d.z0b=50]="Two";d[d.x0b=51]="Three";d[d.CXb=52]="Four";d[d.AXb=53]="Five";d[d.p0b=54]="Six";d[d.n0b=55]="Seven";d[d.dXb=56]="Eight";d[d.hZb=57]="Nine";d[d.lVb=65]="A";d[d.xVb=66]="B";d[d.aWb=67]="C";d[d.v4a=68]="D";d[d.E=69]="E";d[d.iXb=70]="F";d[d.DXb=71]="G";d[d.GXb=72]="H";d[d.G6a=73]="I";d[d.iYb=74]="J";d[d.E8=75]="K";d[d.L7a=76]="L";d[d.qYb=77]="M";d[d.y8a=78]="N";d[d.uZb=79]="O";d[d.CZb=80]="P";d[d.Q=81]="Q";d[d.n_b=82]="R";d[d.g$a=83]="S";d[d.R$a=84]="T";d[d.A0b=85]="U";d[d.G0b=86]="V";d[d.K0b=87]="W";d[d.Raa=88]="X";d[d.P0b=89]="Y";d[d.Q0b=90]="Z";d[d.oYb=91]="LeftWindowKey";d[d.v_b=92]="RightWindowKey";d[d.l0b=93]="SelectKey";d[d.kZb=96]="Numpad0";d[d.lZb=97]="Numpad1";d[d.mZb=98]="Numpad2";d[d.nZb=99]="Numpad3";d[d.oZb=100]="Numpad4";d[d.pZb=101]="Numpad5";d[d.qZb=102]="Numpad6";d[d.rZb=103]="Numpad7";d[d.sZb=104]="Numpad8";d[d.tZb=105]="Numpad9";d[d.IYb=106]="Multiply";d[d.uVb=107]="Add";d[d.s0b=109]="Subtract";d[d.JWb=110]="DecimalPoint";d[d.MWb=111]="Divide";d[d.jXb=112]="F1";d[d.nXb=113]="F2";d[d.oXb=114]="F3";d[d.pXb=115]="F4";d[d.qXb=116]="F5";d[d.rXb=117]="F6";d[d.sXb=118]="F7";d[d.tXb=119]="F8";d[d.uXb=120]="F9";d[d.kXb=121]="F10";d[d.lXb=122]="F11";d[d.mXb=123]="F12";d[d.jZb=144]="NumLock";d[d.j0b=145]="ScrollLock";d[d.m0b=186]="SemiColon";d[d.gXb=187]="Equals";d[d.mWb=188]="Comma";d[d.IWb=189]="Dash";d[d.f_b=190]="Period";d[d.BXb=191]="ForwardSlash";d[d.y0b=192]="Tilde";d[d.BZb=219]="OpenBracket";d[d.SVb=220]="BackSlash";d[d.lWb=221]="CloseBracket";d[d.m_b=222]="Quote";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZV=b.qj=b.Bh=void 0;b.Bh=function(){};(function(a){a.OM="PRE_FETCH";a.U$="QC";a.Fl="STANDARD";a.rW="SUPPLEMENTAL";a.r5a="DOWNLOAD";})(b.qj || (b.qj={}));b.ZV="PboManifestCommandSymbol";},function(d,b,a){var q;function c(a){return "function" === typeof a?a.name:"symbol" === typeof a?a.toString():a;}function k(a,b){return null === a.Ix?!1:a.Ix.yf === b?!0:k(a.Ix,b);}function h(a){function b(a,f){void 0 === f && (f=[]);f.push(c(a.yf));return null !== a.Ix?b(a.Ix,f):f;}return b(a).reverse().join(" --\x3e ");}function m(a){a.Zea.forEach(function(a){if(k(a,a.yf))throw (a=h(a),Error(q.Z3a + " " + a));m(a);});}function f(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: " + a;}Object.defineProperty(b,"__esModule",{value:!0});q=a(51);b.XI=c;b.hSa=function(a,b,c){var l;l="";a=c(a,b);0 !== a.length && (l="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null !== a.cl && (b=f(a.cl));l=l + "\n " + b;a.kD.ATa && (l=l + " - " + a.kD.ATa);}));return l;};b.Mkb=m;b.mCb=function(a,b){var f,c;if(b.fla() || b.Wka()){f="";c=b.zwb();b=b.ivb();null !== c && (f+=c.toString() + "\n");null !== b && b.forEach(function(a){f+=a.toString() + "\n";});return " " + a + "\n " + a + " - " + f;}return " " + a;};b.getFunctionName=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sG=void 0;b.sG="PlatformConfigDefaultsSymbol";},function(d,b,a){var k,h,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RF=b.Db=void 0;k=a(131);h=a(43);m=a(2);c.Bia=function(a){if(a){if(a.includes(b.RF.KE))return k.Kn.KE;if(a.includes("fps"))return k.Kn.FD;if(a.includes(b.RF.f6))return k.Kn.f6;}throw new h.Dc(m.L.M5a,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + a);};c.gOa=function(a){switch(a){case k.Kn.KE:return b.RF.KE;case k.Kn.FD:return b.RF.FD;default:return b.RF.f6;}};b.Db=c;c.dt="com.microsoft.playready";c.Pd="com.microsoft.playready.hardware";c.UM="com.microsoft.playready.software";c.h_b="com.chromecast.playready";c.i_b="org.chromium.external.playready";c.zXb="com.apple.fps.2_0";c.pab="com.widevine.alpha";c.j_b="com.microsoft.playready.recommendation";c.k_b="com.microsoft.playready.recommendation.3000";c.l_b="com.microsoft.playready.recommendation.2000";b.RF={FD:"fairplay",f6:"widevine",KE:"playready"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.wva=b.Kn=void 0;d=b.Kn || (b.Kn={});d[d.KE=0]="playready";d[d.f6=1]="widevine";d[d.FD=2]="fairplay";d[d.c2b=3]="clearkey";b.wva="DrmTypeSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.wW=b.On=void 0;b.On=function(){};b.wW="StringObjectReaderSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(23),b);d.__exportStar(a(298),b);d.__exportStar(a(580),b);d.__exportStar(a(201),b);d.__exportStar(a(114),b);a(587);a(591);a(594);a(598);a(601);a(604);a(606);a(609);a(613);a(616);a(617);a(623);a(625);a(627);a(629);a(630);a(636);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YM=b.saa=void 0;b.saa="SystemRandomSymbol";b.YM="RandomGeneratorSymbol";},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Od=void 0;k=a(30);c.LKa=function(a){var b;b={};b[k.Gd.aN]=c.XF;b[k.Gd.$U]=c.XF;b[k.Gd.zG]=c.oM;b[k.Gd.ov]=c.ov;b[k.Gd.jv]=a || c.jv;b[k.Gd.JF]=c.XF;b[k.Gd.Iy]=c.lN;b[k.Gd.nj]=c.nj;return b;};b.Od=c;c.XF="avc1.640028";c.oM="hev1.1.6.L93.B0";c.b7="dvhe.05.01";c.Qua="dvhe.05.04";c.Rua="dvhe.05.05";c.Sua="dvhe.05.06";c.Tua="dvhe.05.07";c.Uua="dvhe.05.09";c.jv=c.b7;c.ov=c.oM;c.iU="mp4a.40.2";c.LW="mp4a.40.42";c.sWb="ec-3";c.I0b="vp9";c.lN="vp09.00.11.08.02";c.kN="vp09.02.31.10.01";c.nj="av01.0.04M.08";c.q4a=[c.Uua,c.Tua,c.Sua,c.Rua,c.Qua,c.b7];},function(d,b,a){var k,h,m,f;function c(a,b,c){var l;l=m.dM.call(this,a,b,k.Us.vDa) || this;l.config=a;l.Mma=b;l.is=c;l.type=k.Ok.AB;l.aU=f.Od.LKa();return l;}Object.defineProperty(b,"__esModule",{value:!0});b.ym=void 0;k=a(30);h=a(57);m=a(343);d=a(101);f=a(135);new d.Ey();N(c,m.dM);c.prototype.Uu=function(){return Promise.resolve(!1);};c.prototype.Uw=function(){return Promise.resolve("");};c.prototype.vL=function(){return Promise.resolve({result:!1,reason:"not-supported"});};c.prototype.uT=function(){return Promise.resolve(!1);};c.prototype.wT=function(){return Promise.resolve(!1);};c.prototype.tT=function(){return Promise.resolve(!1);};c.prototype.NI=function(a){return this.aU[a];};c.prototype.nda=function(a){return a;};c.prototype.SSa=function(a){switch(a){case k.Ei.Rs:return "1.4";case k.Ei.KB:return "2.2";}};c.prototype.pD=function(){var a;a={};a[h.Y.nM]="avc1.4D401E";a[h.Y.YF]="avc1.4D401F";a[h.Y.T7]="avc1.4D4028";a[h.Y.f8]="hev1.1.6.L90.B0";a[h.Y.g8]="hev1.1.6.L93.B0";a[h.Y.h8]="hev1.1.6.L120.B0";a[h.Y.i8]="hev1.1.6.L123.B0";a[h.Y.j8]="hev1.1.6.L150.B0";a[h.Y.k8]="hev1.1.6.L153.B0";a[h.Y.b8]="hev1.2.6.L90.B0";a[h.Y.c8]="hev1.2.6.L93.B0";a[h.Y.d8]="hev1.2.6.L120.B0";a[h.Y.e8]="hev1.2.6.L123.B0";a[h.Y.$F]="hev1.2.6.L150.B0";a[h.Y.aG]="hev1.2.6.L153.B0";a[h.Y.fV]="hev1.2.6.L90.B0";a[h.Y.hV]="hev1.2.6.L93.B0";a[h.Y.jV]="hev1.2.6.L120.B0";a[h.Y.lV]="hev1.2.6.L123.B0";a[h.Y.U7]="hev1.2.6.L90.B0";a[h.Y.V7]="hev1.2.6.L93.B0";a[h.Y.W7]="hev1.2.6.L120.B0";a[h.Y.X7]="hev1.2.6.L123.B0";a[h.Y.Y7]="hev1.2.6.L150.B0";a[h.Y.Z7]="hev1.2.6.L153.B0";a[h.Y.qM]="hev1.2.6.L90.B0";a[h.Y.rM]="hev1.2.6.L93.B0";a[h.Y.ZF]="hev1.2.6.L120.B0";a[h.Y.sM]="hev1.2.6.L123.B0";a[h.Y.eM]=f.Od.b7;a[h.Y.fM]=f.Od.Qua;a[h.Y.OF]=f.Od.Rua;a[h.Y.gM]=f.Od.Sua;a[h.Y.hM]=f.Od.Tua;a[h.Y.JU]=f.Od.Uua;a[h.Y.n6a]="avc1.640016";a[h.Y.YU]="avc1.64001E";a[h.Y.ZU]="avc1.64001F";a[h.Y.S7]="avc1.640028";a[h.Y.sDa]=f.Od.lN;a[h.Y.mN]=f.Od.lN;a[h.Y.nN]=f.Od.lN;a[h.Y.FW]=f.Od.lN;a[h.Y.nDa]=f.Od.kN;a[h.Y.oDa]=f.Od.kN;a[h.Y.pDa]=f.Od.kN;a[h.Y.qDa]=f.Od.kN;a[h.Y.rDa]=f.Od.kN;a[h.Y.Isa]=f.Od.nj;a[h.Y.Jsa]=f.Od.nj;a[h.Y.Ksa]=f.Od.nj;a[h.Y.Lsa]=f.Od.nj;a[h.Y.Msa]=f.Od.nj;a[h.Y.Nsa]=f.Od.nj;a[h.Y.Osa]=f.Od.nj;a[h.Y.Psa]=f.Od.nj;return a;};c.prototype.ZOa=function(a){return a || this.config().GF;};c.prototype.VI=function(){return Promise.resolve(void 0);};c.prototype.wQ=function(){return Promise.resolve(void 0);};c.prototype.vP=function(a){var b;b=[];this.is.ge(a) && b.push(this.SSa(a));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:! !b.length}];};b.ym=c;c.EL="video/mp4;codecs={0};";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.BW=b.Vn=void 0;b.Vn={rG:"PRIMARY",Fsa:"ASSISTIVE",Xta:"COMMENTARY",NONE:"NONE"};b.BW={assistive:b.Vn.Fsa,closedcaptions:b.Vn.Fsa,directorscommentary:b.Vn.Xta,commentary:b.Vn.Xta,subtitles:b.Vn.rG,primary:b.Vn.rG,none:b.Vn.NONE};},function(d){var f,q,l,u;function b(){b.Ib.call(this);}function a(a){if("function" !== typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof a);}function c(f,c,l,q){var h,m;a(l);h=f.Tf;void 0 === h?(h=f.Tf=Object.create(null),f.nC=0):(void 0 !== h.d5b && (f.emit("newListener",c,l.listener?l.listener:l),h=f.Tf),m=h[c]);void 0 === m?(h[c]=l,++f.nC):("function" === typeof m?m=h[c]=q?[l,m]:[m,l]:q?m.unshift(l):m.push(l),l=void 0 === f.VN?b.tpb:f.VN,0 < l && m.length > l && !m.PUb && (m.PUb=!0,l=Error("Possible EventEmitter memory leak detected. " + m.length + " " + String(c) + " listeners added. Use emitter.setMaxListeners() to increase limit"),l.name="MaxListenersExceededWarning",l.sr=f,l.type=c,l.count=m.length,console && console.warn && console.warn(l)));return f;}function k(){if(!this.bNa)return (this.target.removeListener(this.type,this.k2a),this.bNa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function h(a,b,f){a={bNa:!1,k2a:void 0,target:a,type:b,listener:f};b=k.bind(a);b.listener=f;return a.k2a=b;}function m(a){var b;b=this.Tf;if(void 0 !== b){a=b[a];if("function" === typeof a)return 1;if(void 0 !== a)return a.length;}return 0;}f="object" === typeof Reflect?Reflect:null;q=f && "function" === typeof f.apply?f.apply:function(a,b,f){return Function.prototype.apply.call(a,b,f);};l=Number.isNaN || (function(a){return a !== a;});d.W=b;d.W.once=function(a,b){return new Promise(function(f,c){var q;function l(){void 0 !== q && a.removeListener("error",q);f([].slice.call(arguments));}"error" !== b && (q=function(f){a.removeListener(b,l);c(f);},a.once("error",q));a.once(b,l);});};b.EventEmitter=b;b.prototype.Tf=void 0;b.prototype.nC=0;b.prototype.VN=void 0;u=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return u;},set:function(a){if("number" !== typeof a || 0 > a || l(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + a + ".");u=a;}});b.Ib=function(){if(void 0 === this.Tf || this.Tf === Object.getPrototypeOf(this).Tf)(this.Tf=Object.create(null),this.nC=0);this.VN=this.VN || void 0;};b.prototype.setMaxListeners=function(a){if("number" !== typeof a || 0 > a || l(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + a + ".");this.VN=a;return this;};b.prototype.emit=function(a){var c,f,l;for(var b=[],f=1;f < arguments.length;f++){b.push(arguments[f]);}c="error" === a;f=this.Tf;if(void 0 !== f)c=c && void 0 === f.error;else if(!c)return !1;if(c){0 < b.length && (l=b[0]);if(l instanceof Error)throw l;b=Error("Unhandled error." + (l?" (" + l.message + ")":""));b.context=l;throw b;}f=f[a];if(void 0 === f)return !1;if("function" === typeof f)q(f,this,b);else {l=f.length;for(var c=Array(l),m=0;m < l;++m){c[m]=f[m];}for(f=0;f < l;++f){q(c[f],this,b);}}return !0;};b.prototype.addListener=function(a,b){return c(this,a,b,!1);};b.prototype.on=b.prototype.addListener;b.prototype.FWa=function(a,b){return c(this,a,b,!0);};b.prototype.once=function(b,f){a(f);this.on(b,h(this,b,f));return this;};b.prototype.QJb=function(b,f){a(f);this.FWa(b,h(this,b,f));return this;};b.prototype.removeListener=function(b,f){var c,l,q,m,h;a(f);l=this.Tf;if(void 0 === l)return this;c=l[b];if(void 0 === c)return this;if(c === f || c.listener === f)0 === --this.nC?this.Tf=Object.create(null):(delete l[b],l.removeListener && this.emit("removeListener",b,c.listener || f));else if("function" !== typeof c){q=-1;for(m=c.length - 1;0 <= m;m--){if(c[m] === f || c[m].listener === f){h=c[m].listener;q=m;break;}}if(0 > q)return this;if(0 === q)c.shift();else {for(;q + 1 < c.length;q++){c[q]=c[q + 1];}c.pop();}1 === c.length && (l[b]=c[0]);void 0 !== l.removeListener && this.emit("removeListener",b,h || f);}return this;};b.prototype.gK=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){var b,f,c;f=this.Tf;if(void 0 === f)return this;if(void 0 === f.removeListener)return (0 === arguments.length?(this.Tf=Object.create(null),this.nC=0):void 0 !== f[a] && (0 === --this.nC?this.Tf=Object.create(null):delete f[a]),this);if(0 === arguments.length){b=Object.keys(f);for(f=0;f < b.length;++f){c=b[f];"removeListener" !== c && this.removeAllListeners(c);}this.removeAllListeners("removeListener");this.Tf=Object.create(null);this.nC=0;return this;}b=f[a];if("function" === typeof b)this.removeListener(a,b);else if(void 0 !== b)for(f=b.length - 1;0 <= f;f--){this.removeListener(a,b[f]);}return this;};b.prototype.listeners=function(a){var b;b=this.Tf;if(void 0 === b)a=[];else if((a=b[a],void 0 === a))a=[];else if("function" === typeof a)a=[a.listener || a];else {for(var b=Array(a.length),f=0;f < b.length;++f){b[f]=a[f].listener || a[f];}a=b;}return a;};b.listenerCount=function(a,b){return "function" === typeof a.listenerCount?a.listenerCount(b):m.call(a,b);};b.prototype.listenerCount=m;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Cl=void 0;c=a(3);k=a(104);d=(function(){function a(a){this.G=new c.Console("ASEJS","media|asejs","(" + a + ")");this.mca=[];}a.prototype.Jo=function(a){this.mca[a] || (this.mca[a]=k.tx(c,this.G,"[" + a + "]"));return this.mca[a];};return a;})();b.Cl=new d(0);},function(d,b,a){function c(a,b){this.DH=a;this.Qi=Math.floor((a + b - 1) / b);this.Xc=b;this.reset();}a(5);c.prototype.shift=function(){this.kd.shift();this.Ft.shift();};c.prototype.Cu=function(a){return this.aJa(this.kd[a],a);};c.prototype.update=function(a,b){this.kd[a]=(this.kd[a] || 0) + b;};c.prototype.push=function(){this.kd.push(0);this.Ft.push(0);this.$a+=this.Xc;};c.prototype.add=function(a,b,c){var f,q,l;if(null === this.$a)for((f=Math.max(Math.floor((c - b + this.Xc - 1) / this.Xc),1),this.$a=b);this.kd.length < f;){this.push();}for(;this.$a <= c;){this.push();this.kd.length > this.Qi && this.shift();}if(null === this.Gm || b < this.Gm)this.Gm=b;if(b > this.$a - this.Xc)this.update(this.kd.length - 1,a);else if(b == c)(f=this.kd.length - Math.max(Math.ceil((this.$a - c) / this.Xc),1),0 <= f && this.update(f,a));else for(f=1;f <= this.kd.length;++f){q=this.$a - f * this.Xc;l=q + this.Xc;if(!(q > c)){if(l < b)break;this.update(this.kd.length - f,Math.round(a * (Math.min(l,c) - Math.max(q,b)) / (c - b)));}}for(;this.kd.length > this.Qi;){this.shift();}};c.prototype.start=function(a){null === this.Gm && (this.Gm=a);null === this.$a && (this.$a=a);};c.prototype.stop=function(a){var b,c;if(null !== this.$a)if(a - this.$a > 10 * this.DH)this.reset();else {for(;this.$a <= a;){this.push();this.kd.length > this.Qi && this.shift();}b=this.kd.length - Math.ceil((this.$a - this.Gm) / this.Xc);c=this.kd.length - Math.ceil((this.$a - a) / this.Xc);if(0 <= c)if((0 > b && (this.Gm=this.$a - this.Xc * this.kd.length,b=0),b === c))this.Ft[b]+=a - this.Gm;else if(c > b)for((this.Ft[b]+=(this.$a - this.Gm) % this.Xc,this.Ft[c]+=this.Xc - (this.$a - a) % this.Xc,a=b + 1);a < c;++a){this.Ft[a]=this.Xc;}this.Gm=null;}};c.prototype.aJa=function(a,b){b=this.gia(b);return 0 === b?null:8 * a / b;};c.prototype.gia=function(a){var b;b=this.Ft[a];null !== this.Gm && (a=this.$a - (this.kd.length - a - 1) * this.Xc,a > this.Gm && (b=a - this.Gm <= this.Xc?b + (a - this.Gm):this.Xc));return b;};c.prototype.get=function(a,b){var c,f;c=this.kd.map(this.aJa,this);if("last" === a)for(a=0;a < c.length;++a){null === c[a] && (c[a]=0 < a?c[a - 1]:0);}else if("average" === a){b=1 - Math.pow(.5,1 / ((b || 2E3) / this.Xc));for(a=0;a < c.length;++a){null === c[a]?c[a]=Math.floor(f || 0):f=void 0 !== f?b * c[a] + (1 - b) * f:c[a];}}return c;};c.prototype.reset=function(){this.Tba || (this.kd=[],this.Ft=[],this.Gm=this.$a=null);};c.prototype.setInterval=function(a){this.Qi=Math.floor((a + this.Xc - 1) / this.Xc);};d.W=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)throw new k(b || "Assertion failed");};},function(d){var c,k;function b(){var b,m;if(DataView.prototype && DataView.prototype.YI && !k){try{b=new ArrayBuffer(4);m=new DataView(b);m.ZI(0,4,1);}catch(f){return;}try{b=new ArrayBuffer(4);m=new DataView(b);m.ZI(1,2,2);}catch(f){DataView.prototype.ZI=a(DataView.prototype.ZI,DataView.prototype.getUint8,Uint8Array);DataView.prototype.H0=a(DataView.prototype.H0,DataView.prototype.getUint16,Uint16Array);DataView.prototype.YI=a(DataView.prototype.YI,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Kia=a(DataView.prototype.Kia,DataView.prototype.getInt8,Int8Array);DataView.prototype.Iia=a(DataView.prototype.Iia,DataView.prototype.getInt16,Int16Array);DataView.prototype.Jia=a(DataView.prototype.Jia,DataView.prototype.getInt32,Int32Array);}c.$xb=function(a,b,c,m,h){return c?a.ZI(b,c,m || 1,h):new Uint8Array(0);};c.Yxb=function(a,b,c,m,h){return c?a.H0(b,c,m || 2,h):new Uint16Array(0);};c.Zxb=function(a,b,c,m,h){return c?a.YI(b,c,m || 4,h):new Uint32Array(0);};c.v3b=function(a,b,c,m,h){return c?a.Kia(b,c,m || 1,h):new Int8Array(0);};c.t3b=function(a,b,c,m,h){return c?a.Iia(b,c,m || 2,h):new Int16Array(0);};c.u3b=function(a,b,c,m,h){return c?a.Jia(b,c,m || 4,h):new Int32Array(0);};k=!0;}}function a(a,b,f){return function(c,l,m,h){var q;m=m || f.BYTES_PER_ELEMENT;if(c + l * m > this.byteLength){q=new f(l);q.set(a.call(this,c,l - 1,m,h));q[l - 1]=b.call(this,c + (l - 1 * m),h);return q;}return a.call(this,c,l,m,h);};}c={ZI:function(a,b,f,c,l){var q;q=new Uint8Array(f);c=c || 1;for(var m=0;m < f;(++m,b+=c)){q[m]=a.getUint8(b,l);}return q;},H0:function(a,b,f,c,l){var q;q=new Uint16Array(f);c=c || 2;for(var m=0;m < f;(++m,b+=c)){q[m]=a.getUint16(b,l);}return q;},YI:function(a,b,f,c,l){var q;q=new Uint32Array(f);c=c || 4;for(var m=0;m < f;(++m,b+=c)){q[m]=a.getUint32(b,l);}return q;},Kia:function(a,b,f,c,l){var q;q=new Int8Array(f);c=c || 1;for(var m=0;m < f;(++m,b+=c)){q[m]=a.getInt8(b,l);}return q;},Iia:function(a,b,f,c,l){var q;q=new Int16Array(f);c=c || 2;for(var m=0;m < f;(++m,b+=c)){q[m]=a.getInt16(b,l);}return q;},Jia:function(a,b,f,c,l){var q;q=new Int32Array(f);c=c || 4;for(var m=0;m < f;(++m,b+=c)){q[m]=a.getInt32(b,l);}return q;},d3b:b};k=!1;c.pvb=function(){return k;};b();d.W=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(238);d=(function(){function a(a,b,c){this.tag=a;this.view=b;this.M=c;this.startOffset=c.offset;}a.hXa=function(b,f){var c,l;c=b.Fd();l=b.PKb();b=new (k.pI[c] || a)(c,b.jvb(l),b);b.parse(f);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.tE=0;return !0;};a.prototype.UMa=function(a){var b;b=[];this.tag === a && b.push(this);if(this.pI)for(var q=0;q < this.pI.length;q++){b=c.__spreadArrays(b,this.pI[q].UMa(a));}return b;};a.prototype.HD=function(a){for(a=this.UMa(a);0 < a.length;){return a[0];}};a.prototype.bGa=function(){for(this.pI=[];this.M.offset < this.startOffset + this.length;){this.pI.push(a.hXa(this.M,this));}};return a;})();b.i7=d;d.prototype.skip=d.prototype.parse;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Nq=b.faa=void 0;c=a(21);(function(a){a[a.absolute=0]="absolute";a[a.GLb=1]="relative";})(k=b.faa || (b.faa={}));h=(function(){function a(a,b){this.type=a;this.timestamp=b;}a.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + k[this.type];};return a;})();d=(function(){function a(){}a.dU=function(a){return new h(k.absolute,a);};a.g2a=function(a){return new h(k.GLb,a);};a.wsa=new h(k.absolute,c.U.Jr);return a;})();b.Nq=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.uDb=b.FVa=b.UHb=b.bOa=b.bIb=b.nB=b.h6=b.Gq=b.SL=b.RL=b.mj=void 0;c=a(22);k=a(18);b.mj="$attributes";b.RL="$children";b.SL="$name";b.Gq="$text";b.h6="$parent";b.nB="$sibling";b.bIb=/^\s*\<\?xml.*\?\>/i;b.bOa=function(a,b,f){for(var c=2;c < arguments.length;++c){;}for(c=1;(b=arguments[c++]) && (a=a[b]);){;}return a;};b.UHb=function(a,m){var f;a?f=c.Xd(a[b.Gq]):void 0 !== m && (f=m);k.EP(f);return f;};b.FVa=function(a,c){var f;a?f=a[b.Gq]:void 0 !== c && (f=c);k.WKa(f);return f;};b.uDb=function(a,c){var f;f={};f[b.mj]=a;f[b.Gq]=c;return f;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vG=void 0;b.vG="PlaygraphConfigSymbol";},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Kq=b.ria=void 0;c=a(12);k=a(83);h=a(476);b.ria=function(a,b,q,l){var f,m;m=a.Fs;m=null === (f=null === m || void 0 === m?void 0:m[0].wc) || void 0 === f?void 0:f[0].pP;f=c.ufa(q.Nd);m=c.tfa(! !a.gr,!1,m);f=k.Xf.Yc.jr(Object.assign(Object.assign({},f),m));b=h.Eja(b,h.xLa);return {u:l,me:0,lwb:function(){return {ta:a,Mf:!1,UC:a.hLa[0].UC};},config:f,Md:! !q.Md,TTa:q.TTa,UY:b};};b.Kq=function(){return "";};},function(d,b,a){var k,h,m;function c(a,b,c,d,t){b=m.Ch.call(this,a,b,d,h.Eh.events,t,h.Eh.events + "/" + c) || this;b.context=a;b.csb=c;return b;}Object.defineProperty(b,"__esModule",{value:!0});b.lp=void 0;d=a(0);k=a(1);h=a(45);m=a(71);a(179);N(c,m.Ch);c.prototype.Le=function(a,b){var f,c;f=this;c=this.ZY(b);!1;!1;return this.send(a,b.href,c).then(function(){return b;})["catch"](function(a){throw f.Zl(a);});};c.prototype.Go=function(a,b,c){var f,l;f=this;l=this.ZY(c);!1;!1;return this.send(a,b.sQ("events").href,l).then(function(a){b.pda(a.result.links);return c;})["catch"](function(a){throw f.Zl(a);});};c.prototype.ZY=function(a){return {event:this.csb,xid:a.ea,position:a.position || 0,clientTime:a.kP,sessionStartTime:a.XS,mediaId:a.MJ,trackId:a.jb,sessionId:a.sessionId,appId:a.JO,playTimes:this.qjb(a.iS),sessionParams:a.um,mdxControllerEsn:a.Fma};};c.prototype.Cea=function(a){return {downloadableId:a.Bd,duration:a.duration};};c.prototype.qjb=function(a){var b;b={total:a.total,audio:a.audio.map(this.Cea),video:a.video.map(this.Cea),text:a.text.map(this.Cea)};a.total !== a.wF && (b.totalContentTime=a.wF);return b;};a=c;a=d.__decorate([k.N(),d.__param(0,k.Ai()),d.__param(1,k.Ai()),d.__param(2,k.Ai()),d.__param(3,k.Ai()),d.__param(4,k.Ai())],a);b.lp=a;},function(d){function b(a,b){return a.some(function(a){return a.id === b;});}function a(a,b){return a.filter(c.bind(null,b)).map(k).reduce(h,0);}function c(a,b){return a.id === b.id && a.displayTime + a.duration === b.displayTime;}function k(a){return a.duration;}function h(a,b){return a + b;}d.W={llb:function(a,b,c){for(var f=0;f < a.length;f++){if(a[f] !== b[f])return (c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1);}return !0;},Sfa:function(a,b,c){var f;f={};f.displayTime=a.Wl;f.duration=a.duration;f.originX=a.yHb;f.originY=a.zHb;f.sizeX=a.RPb;f.sizeY=a.SPb;f.imageData=b;f.id=a.WD;f.rootContainerExtentX=c.TMb;f.rootContainerExtentY=c.UMb;return f;},Aia:function(a,b){return "o_" + a + "s_" + b;},qUb:function(a,b){b("P" === String.fromCharCode(a[1]));b("N" === String.fromCharCode(a[2]));b("G" === String.fromCharCode(a[3]));},ic:function(a){return "undefined" !== typeof a;},Z5b:b,P2b:a,rQ:function(a,b){var f,c;f=Object.create({});for(c in a){f[c]=a[c];}a instanceof Error && (f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw (b && b.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},xQa:function(a){return a && 0 < a.entries.length && 0 === a.images.length;},ZQb:function(a,b){for(var f=b.entries.length,c,h=0;h < f;h++){if((c=b.entries[h],c.Wl <= a && c.Wl + c.duration >= a))return !0;}return !1;},$Qb:function(a,b,c){for(var f=c.entries.length,q,h,m=0;m < f;m++){q=c.entries[m];h=q.Wl;q=h + q.duration;if(b < h)break;if(h <= a && q >= a || h > a && h <= b)return !0;}return !1;},hKa:function(c){return c.map(function(b,q){b.duration+=a(c.slice(q + 1),b);return b;}).reduce(function(a,c){b(a,c.id) || a.push(c);return a;},[]);},rja:function(a){return a.reduce(function(a,b){return a + b.entries.reduce(function(a,b){return b.qka + a;},0);},0);},yqb:function(a,b){return a && a.Ku <= b && a.$o >= b;},Kvb:function(a){if(a)return a.endTime;},fwb:function(a){try{return String.fromCharCode.apply(String,a);}catch(f){}return "";}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cM=void 0;b.cM="CannedChallengeProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R7=b.Q7=b.Y$=b.Z$=void 0;b.Z$="ReportSyncSymbol";b.Y$="ReportApiErrorSyncSymbol";b.Q7="FtlProbeConfigSymbol";b.R7="FtlProbeSymbol";},function(d,b){b.isArray=Array.isArray || (function(a){return a && "number" === typeof a.length;});},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);}c(b,a);b.prototype.e3=function(a,b){this.destination.next(b);};b.prototype.XFb=function(a){this.destination.error(a);};b.prototype.yu=function(){this.destination.complete();};return b;})(a(65).Tn);b.TV=d;},function(d,b,a){var c,k,h,m,f,q,l,u;c=a(86);k=a(304);h=a(305);m=a(296);f=a(23);q=a(204);l=a(590);u=a(203);b.p5=function(a,b,d,y){var t;t=new l.qxa(a,d,y);if(t.closed)return null;if(b instanceof f.Bb){if(b.Mv)(t.next(b.value),t.complete());else return (t.An=!0,b.subscribe(t));}else if(k.$Qa(b)){a=0;for(d=b.length;a < d && !t.closed;a++){t.next(b[a]);}t.closed || t.complete();}else {if(h.WQ(b))return (b.then(function(a){t.closed || (t.next(a),t.complete());},function(a){return t.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),t);if(b && "function" === typeof b[q.iterator]){b=b[q.iterator]();do {a=b.next();if(a.done){t.complete();break;}t.next(a.value);if(t.closed)break;}while(1);}else if(b && "function" === typeof b[u.observable]){if((b=b[u.observable](),"function" !== typeof b.subscribe))t.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new l.qxa(a,d,y));}else (b="You provided " + (m.qf(b)?"an invalid object":"'" + b + "'") + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",t.error(new TypeError(b)));}return null;};},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b){a.call(this);this.ya=b;}c(b,a);b.create=function(a){return new b(a);};b.uc=function(a){a.Oj.complete();};b.prototype.Mm=function(a){var f;f=this.ya;if(f)return f.Vc(b.uc,0,{Oj:a});a.complete();};return b;})(a(23).Bb);b.RU=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.BDa=b.N9=b.M7=void 0;b.M7="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.N9="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.BDa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dN=void 0;b.dN="TimeoutMonitorFactorySymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.jM=b.y5a=void 0;c=a(30);b.y5a=function(){this.OO=[];this.GF=[];this.Xda=c.ky.AB;this.Z5=c.Ok.AB;};b.jM="DeviceCapabilitiesConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s8=b.A9=b.gza=void 0;b.gza="NativeLocalStorageSymbol";b.A9="NativeLocalStorageFactorySymbol";b.s8="IDBFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vV=b.x8=b.r8=void 0;b.r8="IDBDatabaseFactorySymbol";b.x8="IndexedDBFactorySymbol";b.vV="IndexedDBStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.FM=void 0;b.FM="MslProviderSymbol";},function(d,b,a){var c,k,h;c=a(119);k=a(54);h=a(163);d.W=function(a){return function q(b,d,m){switch(arguments.length){case 0:return q;case 1:return h(b)?q:k(function(c,l){return a(b,c,l);});case 2:return h(b) && h(d)?q:h(b)?k(function(b,c){return a(b,d,c);}):h(d)?k(function(c,l){return a(b,c,l);}):c(function(c){return a(b,d,c);});default:return h(b) && h(d) && h(m)?q:h(b) && h(d)?k(function(b,c){return a(b,c,m);}):h(b) && h(m)?k(function(b,c){return a(b,d,c);}):h(d) && h(m)?k(function(c,l){return a(b,c,l);}):h(b)?c(function(b){return a(b,d,m);}):h(d)?c(function(c){return a(b,c,m);}):h(m)?c(function(c){return a(b,d,c);}):a(b,d,m);}};};},function(d){d.W=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gN=void 0;b.gN="TrackStreamFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iG=void 0;b.iG="ManifestFactorySymbol";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.uBa=b.pW=b.p0=void 0;c=a(56);k=a(2);b.p0=function(a){return a === c.Ac.Zh.AUDIO?k.K.mya:k.K.nya;};b.pW=50;b.uBa=1E3;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ev=void 0;c=a(229);k=a(5);d=(function(){function a(a){this.config=a;this.reset();}a.pf=function(){k.assert(void 0 !== a.oC);return a.oC;};a.Dlb=function(b){a.oC=new a(b);};a.b2b=function(){a.oC=void 0;};a.prototype.push=function(a){this.kj && this.kj.push(a);};a.prototype.cb=function(){if(this.kj)return (this.kj.Bw(),this.kj.oi([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;}));};a.prototype.reset=function(){this.config.nMa && this.config.D8 && (this.kj=new c.t0b(this.config.D8.c,this.config.D8.maxc));};return a;})();b.ev=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(28);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.M.offset+=8;this.qkb=this.M.vh();this.gNb=this.M.vh();this.M.offset+=4;this.DYa=this.M.vh();this.M.offset+=2;k.sa && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.qkb + ", samplesize: " + this.gNb + ", samplerate: " + this.DYa);return b;};b.Bc=!1;return b;})(a(237)["default"]);b["default"]=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.jy=void 0;a(5);d=(function(){function a(a,b){this.Sc=a;this.qc=b.$;this.de=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Sc.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Sc.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.Sc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ca:{get:function(){return this.Sc.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Sc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Sc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Sc.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YJ:{get:function(){return this.Sc.YJ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.Sc.za;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {movieId:this.u,streamId:this.Ca,offset:this.offset,bytes:this.$};};return a;})();b.jy=d;},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.sB=void 0;c=a(0);k=a(5);h=a(24);m=a(3);d=(function(a){function b(b,f,c,q,d){c=a.call(this,c) || this;c.zda=!1;c.dYa=b;c.Yc=q;c.mFa=b.location || f.location;c.oO=b.Ic || f.Tb;c.uqa=b.uqa || f.uqa;c.v5=m.time.da();k.assert(d);c.G=d;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.mFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tb:{get:function(){return this.oO;},enumerable:!1,configurable:!0}});b.prototype.Ib=function(a){this.Ra=a;};b.prototype.V4=function(a,b){this.mFa=a;this.oO=b;};b.prototype.RX=function(a){var b,f,c;b={type:"logdata",target:"endplay",fields:{}};f=this.I === h.Sa.AUDIO?"audioedit":"videoedit";c=[this.Qz === this.T?this.Vb:this.Wb,this.Qz === this.T?-this.duration:this.duration];a && a.zq && c.push(a.zq);b.fields[f]={type:"array",value:c};return b;};b.prototype.LX=function(a,b){this.Yc.CK && (this.wNa=!0,this.ULa=a,this.hEb=b);};b.prototype.N5=function(){var a,b;if(this.complete)return 0;a=this.dYa;b=a.O;return a.url?this.url === a.url || (b.V4(this,a.location,a.Ic),this.yT(a.url))?0:(this.G.warn("swapUrl failed: ",this.ED),2):(this.G.warn("updateurl, missing url for streamId:",a.Ca,"mediaRequest:",this,"stream:",a),1);};return b;})(a(90).Is);b.sB=d;},function(d,b,a){var k,h,m,f,q,l,u,t,x;function c(a){var b;b=a.ka;return a.Ia(q.U.ad(0 > b?Math.ceil(b):Math.floor(b)));}Object.defineProperty(b,"__esModule",{value:!0});b.K6=b.Uo=void 0;k=a(0);d=a(16);h=a(24);m=a(3);f=a(876);q=a(21);l=a(5);u=a(877);t=a(401);x=a(79);b.Uo=c;a=(function(a){function b(b,f,c,l,q,d,h){var m,t;t=a.call(this) || this;t.G=b;t.mg=f;t.ce=c;t.Mc=l;t.H=q;t.R=d;t.sg=h;t.gf=t.G.error.bind(t.G);t.kb=t.G.warn.bind(t.G);t.Xj=t.G.trace.bind(t.G);null === (m=l.events) || void 0 === m?void 0:m.addListener("ready",function(){t.Ly();});t.H.HFb && (t.Nma=new u.Sya(t.H,t.mg,t.ce.Rb,t.G));t.reset();return t;}k.__extends(b,a);Object.defineProperties(b.prototype,{endOfStream:{get:function(){return this.mX;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YY:{get:function(){return this.Mc?this.Mc.YY:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{OUb:{get:function(){return this.Rk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RRa:{get:function(){return this.Hh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{F_a:{get:function(){return ! !this.Mc.Prb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dB:{get:function(){return ! !this.Mc.reset;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b,c,l;this.Pk=!1;a || (this.Rk=[]);this.EX=this.Hh=this.Pba=this.fH=void 0;this.eO=q.U.sb;this.yt=void 0;this.KYa=new f.YBa(this.H,this.G);this.mX=!1;this.bY(q.U.sb);null === (c=(b=this.Mc).reset) || void 0 === c?void 0:c.call(b);null === (l=this.Nma) || void 0 === l?void 0:l.reset();};b.prototype.kNa=function(){this.Pba=!0;};b.prototype.pause=function(){this.Pk=!0;};b.prototype.resume=function(){this.Pk=!1;this.Ly();};b.prototype.Nia=function(){var a;return null === (a=this.Hh) || void 0 === a?void 0:a.le;};b.prototype.$hb=function(a){var b;if(this.H.gMa){l.assert(a.Ra);b=a.Ra.yc;l.assert(void 0 !== a.Wb);l.assert(void 0 !== b.Vb);if(a.Wb >= b.Vb)return;a.qn !== b.fe && a.wZa(new q.U(b.fe,1E3));}this.Rk.push(a);this.Ly();};b.prototype.Cs=function(){this.Ly();};b.prototype.i4=function(a){a=this.Rk.indexOf(a);-1 !== a && this.Rk.splice(a,1);};b.prototype.xUa=function(a,b){this.H.Ida && b && void 0 === this.Hh && this.QDa(a,0);this.Ly();};b.prototype.d3=function(){this.mX || (this.mX=!0,this.Ly(),this.F_a || this.Mc.endOfStream());};b.prototype.M4=function(){return JSON.stringify(this.Rk);};b.prototype.bY=function(a){var b;null !== (b=this.Sca) && void 0 !== b && b.equal(a) || (this.Sca=a,this.Mc.$Ob(a.rb,a.P));};b.prototype.Ly=function(){var a,b,f,c,l,q,d,u;b=this.H;if(this.Rk.length || this.Hh && !this.Hh.ee)if(!this.Mc || !1 === this.Mc.ready)this.rH("@" + m.time.da() + ", append: not appending, sourceBuffer not ready");else if(!this.Hh || this.Hh.ee || this.Hh.Lr())if(this.Hh && !this.Hh.ee || this.Rk.length)if(this.Pk){f=this.Hh && !this.Hh.ee?this.Hh:this.Rk[0];this.rH("@" + m.time.da() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(f));}else if((!this.Hh || this.Hh.ee || (this.qEa(this.Hh),this.Hh.ee)) && this.Rk.length)if((f=this.Rk[0],!f.complete && f.Xq))(this.kb("aborted MediaRequest should not appear in the toAppend list"),this.rH("@" + m.time.da() + ", append: removing aborted request from toAppend: " + f.toString()),this.Rk.shift());else {c=f.stream;l=c.O;if(c.qh)if(this.sPb(c,f.index))(this.Pba=!1,this.QDa(c,f.index));else {q=this.R.hx(l);d=this.Gzb(c);if(q || d || !(this.RRa && c.track.u2 || b.OL))if((c=f.dd - this.R.Ud(),!(this.mg === h.Sa.AUDIO && f.Nr && f.Ja && !b.ns && !this.mX && 1 === this.Rk.length && c > b.MTa) || null !== (a=f.RK) && void 0 !== a && a.gla)){if(b.gMa || b.rrb)if((a=f.Ra.yc,q=this.Wpb())){d=a.Dj;u=f.Vb >= q;c=c > b.MTa;if(q < a.Vb && u && c && !d)return;}if(b.fIb && this.sg && (b=this.sg(l.eb)) && !b.KO)this.pause();else {this.Rk.shift();try{this.Eab(f);}catch(D){throw (this.G.error(D),D);}}}}}};b.prototype.sPb=function(a,b){var f;if(this.Pba || void 0 === this.fH || a.Ca !== this.fH.Ca)return !0;a=a.qh;l.assert(a);f=this.fH.hRa;return f === a.length - 1?!1:b >= a[f + 1].rg;};b.prototype.Gzb=function(a){if(0 === a.I || !a.mu)return !0;if(void 0 === this.fH)return !1;a=a.qh;l.assert(a);return !1 === a[this.fH.hRa].hk;};b.prototype.Wpb=function(){throw Error("not supported");};b.prototype.zab=function(a){this.eO=t.gW.dZ(this.H,a.track,this.ce.Rb,this.G);};b.prototype.QDa=function(a,b){var f;f=a.qh.reduce(function(a,f,c){return f.rg <= b?c:a;},0);if(this.Mc.appendBuffer(a.qh[f].data,{dc:!0,profile:a.profile,S:a.S,Ca:a.id}))(this.rH("@" + m.time.da() + ", header appended, streamId: " + a.Ca),this.fH={Ca:a.Ca,hRa:f},this.Ueb(a.O.eb || 0,a.Ca,f),this.zab(a),this.Ly());else throw (this.kb("appendHeader error: " + this.Mc.error),this.rH("@" + m.time.da() + ", appendHeader error: " + this.Mc.error),Error("appendHeaderError"));};b.prototype.Eab=function(a){var b,f,c,l,d,h,m;c=a.T3 || q.U.sb;l=a.Ra.yc.ca;l.qa && Infinity !== l.qa && (c=new q.U(l.qa,1E3).add(c).zh,Infinity === this.ce.duration || this.ce.duration < c) && (this.ce.duration=c);if(this.Nma){c=!0;l=!1;d=q.U.sb;h=void 0 !== a.xs?q.U.ad(a.xs).add(a.T3):void 0;m=null === (f=this.Rk[0]) || void 0 === f?void 0:f.ll;f={endOfStream:this.endOfStream || !(null === (b=a.RK) || void 0 === b || !b.gla),A2:h,hna:m};b=this.Nma.append(a,f);this.bY(b);}else (b=this.Tcb(a),c=b.OS,l=b.Rga,d=b.bea);this.yt && d && (this.yt=this.yt.add(d));this.qEa(a,c,l);};b.prototype.qEa=function(a,b,f){var c,l,d;f=a.RC(this.Mc,this.ce.Rb,this.Hh,this.Rk[0],b,f);b=f.status;(f=f.Ro) && this.emit(f.type,f);b !== x.Bi.ERROR?(this.Hh=a,b === x.Bi.hv && (void 0 === this.yt || this.mg !== h.Sa.AUDIO || a.ll.equal(this.yt) || (this.Peb(a,this.yt),this.yt=void 0),this.rH("@" + m.time.da() + ", request appended, type: " + a.I + ", streamId: " + a.Ca + ", pts: " + a.dd + "-" + a.le),a.Nr?(this.yt=a.Kj,this.Rcb=this.abb(a,this.Sca || q.U.sb),null === (l=(c=this.Mc).Prb) || void 0 === l?void 0:l.call(c,a.RK),this.H.En && (null === (d=a.RK) || void 0 === d?0:d.gla) && this.d3()):this.yt=void 0,this.Veb(a),this.Ly())):this.Dab(a);};b.prototype.Dab=function(a){if(void 0 !== this.Mc.error){if("done" === this.Mc.error)return;this.gf("failure to append queued mediaRequest: " + (a && a.toJSON()) + " err: " + this.Mc.error);throw this.Mc.error;}a=Error("failure to append queued mediaRequest: " + (a && JSON.stringify(a)) + " err: " + this.Mc.error);this.gf(a.message);throw a;};b.prototype.Tcb=function(a){var b,f,c,l,d;f=a.T3 || q.U.sb;if(void 0 === this.EX || f && !f.equal(this.EX)){c=this.eO.add(this.KYa.Dv).add(f);this.bY(c);this.EX=f;}l=this.KYa.OS(this.mg,a,this.yt,this.eO,this.EX,this.Hh,this.Rk[0],this.Rcb,this.bY.bind(this),this.Web.bind(this));f=l.OS;c=l.Rga;l=l.bea;if(void 0 === this.Hh && !this.H.z2 && a.stream.ed && this.H.yj){d=null === (b=a.Nh) || void 0 === b?void 0:b.Ia(a.stream.ed).add(this.Sca);d.lessThan(q.U.sb) && a.OP(Math.ceil(d.sE(-1).Qp(a.stream.za)));}return {OS:f,Rga:c,bea:l};};b.prototype.abb=function(a,b){var f,l;f=a.stream.za;l=a.xo;this.H.yj && a.stream.ed && (l=l.Ia(a.stream.ed));return c(l.Ia(f)).add(c(f)).add(c(b));};b.prototype.Ueb=function(a,b,f){a={type:"headerAppended",mediaType:this.mg,manifestIndex:a,streamId:b,isIndex:f};this.emit(a.type,a);};b.prototype.Veb=function(a){a={type:"requestAppended",mediaType:this.mg,request:a};this.emit(a.type,a);};b.prototype.rH=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};b.prototype.Peb=function(a,b){var f;f=a.Wb;a=a.ll.Ia(b).ka;f={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[f,a]}}};this.emit(f.type,f);};b.prototype.Web=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.ka,minavsyncerror:b.ka}};this.emit(a.type,a);};return b;})(d.EventEmitter);b.K6=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xia=b.Dda=void 0;b.Dda=function(a,b){var c,d,m;c=b.profile;b=b.u;d=a.sNb;m=a.tNb;return a.rNb || Array.isArray(d) && -1 !== d.indexOf(c) || "object" === typeof m && Array.isArray(m[c]) && -1 !== m[c].indexOf("" + b);};b.Xia=function(a,b){return void 0 !== a.SJ?a.SJ:b && void 0 !== b.SJ?b.SJ:100;};},function(d,b,a){var h,m,f,q,l,u,t,x;function c(a){return a && "function" === typeof a.Ng?!0:!1;}function k(a){return c(a) && (a=typeof a.JAb,"boolean" === a || "undefined" === a)?!0:!1;}Object.defineProperty(b,"__esModule",{value:!0});b.xr=b.map=b.u4a=b.nsb=b.IAb=b.b3a=b.vB=void 0;h=a(0);m=a(25);f=a(3).Promise;l=(function(){function a(a){var b;b=this;this.Ccb=a;this.MN=!1;this.Deb=function(a){return b.gKb(a);};this.uKa();}a.BBb=function(a,b){function f(){var c;c=a.next();c.then(function(f){k(a) && a.JAb || b(f);});c.then(function(a){return !a.done && f();});}f();};Object.defineProperties(a.prototype,{gx:{get:function(){return this.MN;},enumerable:!1,configurable:!0}});a.Cvb=function(){return new u([]);};a.yja=function(){q || (q=f.resolve({done:!0}));return q;};a.G3b=function(){return {done:!0};};Object.defineProperties(a.prototype,{nJ:{get:function(){return this.Pq || !1;},enumerable:!1,configurable:!0}});a.prototype.Ng=function(){this.cancel();};a.prototype.cancel=function(){this.LFa();this.Pq=!0;return this.oba;};a.prototype.next=function(){return this.Pq?this.oba:f.race([this.oba,this.Ccb()]).then(this.Deb);};a.prototype.gKb=function(a){a.done && (this.MN=!0,this.Ng());this.nJ || (this.LFa(),this.uKa());return a;};a.prototype.uKa=function(){var a;a=this;this.oba=new f(function(b){a.LFa=function(){b({done:!0});};});};return a;})();b.vB=l;u=(function(a){function b(b){var f;f=a.call(this,function(){return f.Bwb();}) || this;f.oo=b;f.index=0;return f;}h.__extends(b,a);b.prototype.Ng=function(){c(this.oo) && this.oo.Ng();a.prototype.Ng.call(this);};b.prototype.Bwb=function(){return this.oo.length > this.index?f.resolve({value:this.oo[this.index++],done:!1}):f.resolve({done:!0});};return b;})(l);b.b3a=u;b.IAb=c;b.nsb=k;t=(function(a){function b(b,f,c){var l;l=a.call(this,function(){return l.ina();}) || this;l.console=f;l.Tj=c;l.Ooa=!1;Array.isArray(b)?l.ZN=new u(b):l.ZN=b;return l;}h.__extends(b,a);b.prototype.iKb=function(a){var b;this.Ooa=!1;b=this.console;m.sa && b && b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.cH)return (c(a) && a.Ng(),l.yja());Array.isArray(a)?this.Tj=new u(a):this.Tj=a;return this.ina();};b.prototype.hKb=function(a){var b;b=this.console;m.sa && b && b.trace("CompoundIterator: processNextInnerResult",this.cH,a.done);if(!a.done || this.cH)return a;this.Tj=void 0;return this.ina();};b.prototype.Ng=function(){var b;b=this.console;m.sa && b && b.trace("CompoundIterator: dispose");this.cH=!0;a.prototype.Ng.call(this);c(this.ZN) && this.ZN.Ng();c(this.Tj) && this.Tj.Ng();};b.prototype.toString=function(){return "CompoundIterator " + this.cH + " " + this.ZN + " " + this.Tj;};b.prototype.ina=function(){var a,b;a=this;b=this.console;m.sa && b && b.trace("CompoundIterator: nextImpl");if(this.Tj)return (m.sa && b && b.trace("CompoundIterator: getNextInner"),this.Tj.next().then(function(b){return a.hKb(b);}));this.Ooa=!0;m.sa && b && b.trace("CompoundIterator: getNextOuter");return this.ZN.next().then(function(b){return a.iKb(b);});};return b;})(l);b.u4a=t;b.map=function(a,b,f){return new x(a,b,f);};x=(function(a){function b(b,f,c){var l;l=a.call(this,function(){return l.ncb();}) || this;l.source=b;l.oma=f;l.xlb=c;return l;}h.__extends(b,a);b.prototype.Ng=function(){c(this.source) && this.source.Ng();a.prototype.Ng.call(this);};b.prototype.ncb=function(){var a,b,f;a=this.xlb;b=this.oma;f=this.source;m.sa && a && a.trace("MappedIterator: Requesting next");return f.next().then(function(a){return a.done?a:b(a.value);});};return b;})(l);b.xr=function(a,b,f){return new t(a,b,f);};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.vaa=b.Oq=void 0;c=a(144);(function(a){a[a.ln=0]="pending";a[a.Ppa=1]="running";a[a.complete=2]="complete";a[a.UZ=3]="destroyed";})(k=b.Oq || (b.Oq={}));d=(function(){function a(){this.mc=k.ln;}Object.defineProperties(a.prototype,{state:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fg:{get:function(){return this.rO;},enumerable:!1,configurable:!0}});a.prototype.Thb=function(a){var b;null === (b=this.rO) || void 0 === b?void 0:b.ppa(this);this.rO=a;};a.prototype.VA=function(){this.mc=k.Ppa;this.Le();this.Y2() === c.Nq.wsa && (this.mc=k.complete);};a.prototype.Qb=function(){var a;this.mc=k.UZ;null === (a=this.rO) || void 0 === a?void 0:a.ppa(this);};return a;})();b.vaa=d;},function(d,b,a){var c;b=a(909);c=a(409);a=a(911);d.W={STARTING:a.TYa,BUFFERING:b.G4,REBUFFERING:b.G4,PLAYING:c.Qu,PAUSED:c.Qu};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.aM=void 0;c=a(925);k=a(926);h=a(250);Object.defineProperty(b,"BasePredictor",{enumerable:!0,get:function(){return h.aM;}});b["default"]=function(a,b){switch(a.pma){case "manifold":return new c.Aya(a,b);default:return new k.oCa(a,b);}};},function(d,b,a){var h,m,f,q;function c(a,b,f){var c,l,q,u;b=h.__assign({},null === (q=null === a || void 0 === a?void 0:a.context) || void 0 === q?void 0:q.call(a,{LUa:b,gw:f}));if((null === a || void 0 === a?0:a.gw) && f)if(!0 === a.gw)b.args=f;else {q={};b.args=q;try{for(var d=h.__values(a.gw),m=d.next();!m.done;m=d.next()){u=m.value;q[u]=f[u];}}catch(E){c={error:E};}finally{try{m && !m.done && (l=d["return"]) && l.call(d);}finally{if(c)throw c.error;}}}return b;}function k(a){var b;b=this.Uaa;b && (b.data=h.__assign(h.__assign({},b.data),a));}Object.defineProperty(b,"__esModule",{value:!0});b.fN=b.BPa=b.Zb=void 0;h=a(0);m=a(25);f=a(3);q=a(10);b.Zb=function(a){return function(f,l,d){var h;h=d.value;d.value=function(){var f,d,m,u,t,k,x;d=b.BPa(this);if(d){u=c(a,this,arguments);t=null !== (f=null === a || void 0 === a?void 0:a.od) && void 0 !== f?f:String(l);m=d.EY(t,u,null === a || void 0 === a?void 0:a.pr);}f=this.Uaa;this.Uaa=m;try{return k=null === h || void 0 === h?void 0:h.apply(this,arguments);}catch(R){throw (x=R,R);}finally{if((this.Uaa=f,m))if((m.data || (m.data={}),x))m.data.error=x;else if(q.WQ(k))k.then(function(b){m && (null === a || void 0 === a?0:a["return"]) && (m.data.resolve=b);},function(a){m && (m.data.reject=a);});else if(null === a || void 0 === a?0:a["return"])m.data.lRet=k;}};};};b.BPa=function(a){if(null === a || void 0 === a?0:a.Waa)return a.Waa;};d=(function(){function a(a){this.nu=[];this.Xba=!1;this.H=h.__assign({vR:10},a);Object.defineProperties(a.EA,{Waa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(a.prototype,{source:{get:function(){return this.H.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{EBb:{get:function(){return h.__spread(this.nu);},enumerable:!1,configurable:!0}});a.prototype.QGa=function(a){this.Xba || k.call(this.H.EA,a);};a.prototype.EY=function(a,b,l){var q,d,m,u;if(!this.Xba){m=!1;u=null === (d=(q=this.H).xda) || void 0 === d?void 0:d.call(q,this.H.EA);q=c({},this.H.EA);b=h.__assign(h.__assign(h.__assign({},u),q),b);u=0 < Object.keys(b).length;b={methodName:a,data:u?b:void 0,time:f.time.da()};l && this.nu.length && (l=this.nu[this.nu.length - 1],l.methodName === a && (l.data=l.data || ({}),l.data.dedup=l.data.dedup || ({hitCount:1}),l.data.dedup.hitCount++,l.data.dedup.lJournal=b,m=!0));this.Flb(b);m || this.nu.push(b);this.nu.length > this.H.vR && this.nu.shift();return b;}};a.prototype.Flb=function(a){var b;m.sa && (null === (b=this.H.console) || void 0 === b?void 0:b.trace(this.H.source + "::" + a.od,a.data));};a.prototype.Qb=function(){Object.defineProperties(this.H.EA,{Waa:{enumerable:!1,value:null,configurable:!0}});this.Xba=!0;this.clear();};a.prototype.clear=function(){this.nu=[];};return a;})();b.fN=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d.W=function(a){return {minInitVideoBitrate:a.vu,minHCInitVideoBitrate:a.Vma,maxInitVideoBitrate:a.xx,minInitAudioBitrate:a.GR,maxInitAudioBitrate:a.sR,minHCInitAudioBitrate:a.FR,minAcceptableVideoBitrate:a.D2,minRequiredBuffer:a.HR,minPrebufSize:a.aj,minCheckBufferingCompleteInterval:a.Uma,rebufferingFactor:a.fpa,useMaxPrebufSize:a.lsa,maxPrebufSize:a.sA,maxRebufSize:a.Ama,maxBufferingTime:a.lq,minAudioMediaRequestSizeBytes:a.E2,minVideoMediaRequestSizeBytes:a.L2,initialBitrateSelectionCurve:a.n1,initSelectionLowerBound:a.JQa,initSelectionUpperBound:a.KQa,throughputPercentForAudio:a.t5,bandwidthMargin:a.hea,bandwidthMarginContinuous:a.iea,bandwidthMarginCurve:a.jea,conservBandwidthMargin:a.yfa,switchConfigBasedOnInSessionTput:a.mra,conservBandwidthMarginTputThreshold:a.nP,conservBandwidthMarginCurve:a.zfa,switchAlgoBasedOnHistIQR:a.L_a,switchConfigBasedOnThroughputHistory:a.eB,maxPlayerStateToSwitchConfig:a.zma,lowEndMarkingCriteria:a.ama,IQRThreshold:a.v8,histIQRCalcToUse:a.hka,maxTotalBufferLevelPerSession:a.So,highWatermarkLevel:a.oQa,toStableThreshold:a.t0a,toUnstableThreshold:a.y5,skipBitrateInUpswitch:a.Tqa,watermarkLevelForSkipStart:a.xsa,highStreamRetentionWindow:a.aka,lowStreamTransitionWindow:a.bma,highStreamRetentionWindowUp:a.cka,lowStreamTransitionWindowUp:a.dma,highStreamRetentionWindowDown:a.bka,lowStreamTransitionWindowDown:a.cma,highStreamInfeasibleBitrateFactor:a.$ja,lowestBufForUpswitch:a.qx,lockPeriodAfterDownswitch:a.e2,lowWatermarkLevel:a.fma,lowestWaterMarkLevel:a.rx,lowestWaterMarkLevelBufferRelaxed:a.gma,mediaRate:a.Lma,maxTrailingBufferLen:a.r2,audioBufferTargetAvailableSize:a.NO,videoBufferTargetAvailableSize:a.XT,maxVideoTrailingBufferSize:a.oTa,maxAudioTrailingBufferSize:a.ZSa,fastUpswitchFactor:a.A_,fastDownswitchFactor:a.Bha,maxMediaBufferAllowed:a.yx,simulatePartialBlocks:a.Pqa,simulateBufferFull:a.RZa,considerConnectTime:a.Afa,connectTimeMultiplier:a.xfa,lowGradeModeEnterThreshold:a.BSa,lowGradeModeExitThreshold:a.CSa,maxDomainFailureWaitDuration:a.bTa,maxAttemptsOnFailure:a.YSa,exhaustAllLocationsForFailure:a.GMa,maxNetworkErrorsDuringBuffering:a.hTa,maxBufferingTimeAllowedWithNetworkError:a.rR,fastDomainSelectionBwThreshold:a.NMa,throughputProbingEnterThreshold:a.a0a,throughputProbingExitThreshold:a.b0a,locationProbingTimeout:a.oSa,finalLocationSelectionBwThreshold:a.RMa,throughputHighConfidenceLevel:a.Z_a,throughputLowConfidenceLevel:a.$_a,locationStatisticsUpdateInterval:a.Rla,enablePerfBasedLocationSwitch:a.mMa,probeServerWhenError:a.gs,probeRequestTimeoutMilliseconds:a.Loa,allowSwitchback:a.ew,probeDetailDenominator:a.ME,maxDelayToReportFailure:a.m2,countGapInBuffer:a.rKa,bufferThresholdForAbort:a.LIa,allowCallToStreamSelector:a.uHa,pipelineScheduleTimeoutMs:a.joa,maxPartialBuffersAtBufferingStart:a.zx,minPendingBufferLen:a.Wma,maxPendingBufferLen:a.rA,maxPendingBufferLenSABCell100:a.o2,maxActiveRequestsSABCell100:a.k2,maxStreamingSkew:a.Bma,maxPendingBufferPercentage:a.yma,maxRequestsInBuffer:a.LJ,headerRequestSize:a.Y0,minBufferLenForHeaderDownloading:a.ER,reserveForSkipbackBufferMs:a.IS,numExtraFragmentsAllowed:a.yna,pipelineEnabled:a.Xo,maxParallelConnections:a.KJ,socketReceiveBufferSize:a.XZa,audioSocketReceiveBufferSize:a.RY,videoSocketReceiveBufferSize:a.LL,headersSocketReceiveBufferSize:a.Yja,updatePtsIntervalMs:a.L5,bufferTraceDenominator:a.vea,bufferLevelNotifyIntervalMs:a.$C,aseReportDenominator:a.LO,aseReportIntervalMs:a.Sda,enableAbortTesting:a.jrb,abortRequestFrequency:a.dgb,streamingStatusIntervalMs:a.gra,prebufferTimeLimit:a.Ox,minBufferLevelForTrackSwitch:a.F2,penaltyFactorForLongConnectTime:a.coa,longConnectTimeThreshold:a.Zla,additionalBufferingLongConnectTime:a.vda,additionalBufferingPerFailure:a.wda,rebufferCheckDuration:a.BS,enableLookaheadHints:a.kMa,lookaheadFragments:a.xSa,enableOCSideChannel:a.Jz,OCSCBufferQuantizationConfig:a.QV,updateDrmRequestOnNetworkFailure:a.g1a,deferAseScheduling:a.kLa,maxDiffAudioVideoEndPtsMs:a.aTa,useHeaderCache:a.HL,useHeaderCacheData:a.SP,defaultHeaderCacheSize:a.FP,defaultHeaderCacheDataPrefetchMs:a.LZ,headerCacheMaxPendingData:a.Uja,neverWipeHeaderCache:a.vE,headerCachePriorityLimit:a.Vja,enableUsingHeaderCount:a.WP,networkFailureResetWaitMs:a.fna,networkFailureAbandonMs:a.ena,maxThrottledNetworkFailures:a.q2,throttledNetworkFailureThresholdMs:a.s5,lowThroughputThreshold:a.ema,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.uha,mp4ParsingInNative:a.UTa,sourceBufferInOrderAppend:a.ZZa,requireAudioStreamToEncompassVideo:a.ns,allowAudioToStreamPastVideo:a.tHa,enableManagerDebugTraces:a.oh,managerDebugMessageInterval:a.PSa,managerDebugMessageCount:a.OSa,bufferThresholdToSwitchToSingleConnMs:a.uea,bufferThresholdToSwitchToParallelConnMs:a.tea,netIntrStoreWindow:a.BFb,minNetIntrDuration:a.XEb,fastHistoricBandwidthExpirationTime:a.Asb,bandwidthExpirationTime:a.Aib,failureExpirationTime:a.xsb,historyTimeOfDayGranularity:a.izb,expandDownloadTime:a.isb,minimumMeasurementTime:a.hFb,minimumMeasurementBytes:a.gFb,throughputMeasurementTimeout:a.GRb,initThroughputMeasureDataSize:a.$zb,throughputMeasureWindow:a.FRb,throughputIQRMeasureWindow:a.ERb,IQRBucketizerWindow:a.G7a,connectTimeHalflife:a.Elb,responseTimeHalflife:a.LMb,historicBandwidthUpdateInterval:a.hzb,throughputWarmupTime:a.KRb,minimumBufferToStopProbing:a.fFb,throughputPredictor:a.HRb,ase_stream_selector:a.Fhb,enableFilters:a.mrb,filterDefinitionOverrides:a.Usb,defaultFilter:a.rpb,secondaryFilter:a.vNb,defaultFilterDefinitions:a.spb,initBitrateSelectorAlgorithm:a.Fka,bufferingSelectorAlgorithm:a.zea,ase_ls_failure_simulation:a.YKa,ase_dump_fragments:a.ega,ase_location_history:a.gga,ase_throughput:a.hga,ase_simulate_verbose:a.$Ka,secondThroughputEstimator:a.aqa,secondThroughputMeasureWindowInMs:a.LYa,marginPredictor:a.pma,networkMeasurementGranularity:a.gna,HistoricalTDigestConfig:a.Hwa,maxIQRSamples:a.eTa,minIQRSamples:a.GTa,periodicHistoryPersistMs:a.y3,saveVideoBitrateMs:a.y4,needMinimumNetworkConfidence:a.OR,biasTowardHistoricalThroughput:a.nea,maxFastPlayBufferInMs:a.uma,maxFastPlayBitThreshold:a.tma,headerCacheTruncateHeaderAfterParsing:a.jQa,minAudioMediaRequestDuration:a.RJ,minVideoMediaRequestDuration:a.WJ,minAudioMediaRequestDurationCache:a.RJ,minVideoMediaRequestDurationCache:a.WJ,addHeaderDataToNetworkMonitor:a.AY,useMediaCache:a.kB,mediaCachePartitionConfig:a.Gma,diskCacheSizeLimit:a.Gz,mediaCachePrefetchMs:a.yR,hindsightDenominator:a.gka,hindsightDebugDenominator:a.fka,hindsightParam:a.b1,minimumTimeBeforeBranchDecision:a.xA,enableSessionHistoryReport:a.VP,earlyStageEstimatePeriod:a.Uga,lateStageEstimatePeriod:a.$Ra,maxNumSessionHistoryStored:a.n2,minSessionHistoryDuration:a.J2,appendMediaRequestOnComplete:a.JHa,waitForDrmToAppendMedia:a.OL,forceAppendHeadersAfterDrm:a.N_,startMonitorOnLoadStart:a.ara,reportFailedRequestsToNetworkMonitor:a.tpa,reappendRequestsOnSkip:a.CK,maxActiveRequestsPerSession:a.ru,limitAudioDiscountByMaxAudioBitrate:a.Mla,appendFirstHeaderOnComplete:a.Ida,maxAudioFragmentOverlapMs:0,editVideoFragments:a.xI,declareBufferingCompleteAtSegmentEnd:a.jga,applyProfileTimestampOffset:a.mz,applyProfileStreamingOffset:a.yj,requireDownloadDataAtBuffering:a.l4,requireSetupConnectionDuringBuffering:a.m4,recordFirstFragmentOnSubBranchCreate:a.hpa,earlyAppendSingleChildBranch:a.f_,selectStartingVMAFMethod:a.TK,activateSelectStartingVMAF:a.BO,minStartingVideoVMAF:a.VJ,minAcceptableVMAF:a.DR,minAllowedVmaf:a.pE,alwaysNotifyEOSForPlaygraph:a.Eda,enableNewAse:a.BI,useNewApi:a.En,useBufferSizeLimiter:a.ksa,enableHudsonFieldTest:a.k_,hudsonTitles:a.KQ,maxPartialBuffersAtHudson:a.xma,numberOfChunksPerSegment:a.WR,targetContentLatency:a.r5,targetLongContentLatency:a.rra,minimumTimeDelay:a.M2,enableWsslEstimate:a.m_,maxAllowedOutstandingRequests:a.l2,alwaysRunUnderflowTimer:a.GH,minStreamableConcurrencyWindow:a.K2,streamableConcurrencyFactor:a.l5,bufferingConcurrencyWindow:a.aP,singleStreamablePerBranch:a.Qqa,enableResolutionVMAFStreamFilter:a.l_,resolutionVMAFCappingRuleList:a.r4,percentCapTitlesForResolutionVMAFStreamFilter:a.eoa};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f7=b.g7=void 0;(b.g7 || (b.g7={})).O9a="PboDebugEvent";b.f7={s8a:"Manifest",Event:"Event",pYb:"Logblob"};},function(d,b,a){var k,h;function c(a){switch(a){case k.K.vM:return "http";case k.K.xM:return "connectiontimeout";case k.K.GB:return "readtimeout";case k.K.Bwa:return "corruptcontent";case k.K.py:return "abort";case k.K.yM:case k.K.p8:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.mja=b.bja=b.aja=void 0;k=a(2);h=a(9);b.aja=c;b.bja=function(a,b){a={errorcode:a + (b.errorCode || k.L.Hl)};b.ja && (a.errorsubcode=b.ja);b.Ke && (a.errorextcode=b.Ke);b.mha && (a.erroredgecode=b.mha);b.ub && (a.errordetails=b.ub);b.Vi && (a.httperr=b.Vi);b.PR && (a.aseneterr=b.PR);b.q_ && (a.errordata=b.q_);b.zR && (a.mediaerrormessage=b.zR);(b=c(Number(b.ja))) && (a.nwerr=b);return a;};b.mja=function(){return {screensize:h.Xs.width + "x" + h.Xs.height,screenavailsize:h.Xs.availWidth + "x" + h.Xs.availHeight,clientsize:O.innerWidth + "x" + O.innerHeight};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eG=void 0;b.eG="LicenseProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.PM=b.h$=void 0;b.h$="PboPlaydataServicesSymbol";b.PM="PboPlaydataServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P$=b.et=void 0;d=b.et || (b.et={});d.S_a="taskstart";d.Q_a="taskabort";d.R_a="taskfail";d.T_a="tasksuccess";b.P$="PreparerTaskSchedulerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q7=b.mva=void 0;b.mva=function(){this.AUDIO=0;this.VIDEO=1;this.w6a=2;this.Le=function(){};};b.q7="DownloadTrackConstructorFactorySymbol";},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Mb=void 0;b.Mb=a;a.Zd={qza:"mr1",pza:"mr2",rza:"mr3",KM:"mr4",R8a:"mr5",VB:"mr6"};a.gc={UNSENT:0,OPENED:1,zv:2,xv:3,DONE:5,WF:6,TL:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.r_b={Dsa:0,cC:1,fza:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.UF={NO_ERROR:-1,b5a:0,Oua:1,n5a:2,f5a:3,f4a:4,Zta:5,M6:6,g4a:7,h4a:8,i4a:9,c4a:10,e4a:11,Yta:12,d4a:13,b4a:14,A6a:15,zwa:16,ywa:17,m8:18,o8:19,n8:20,Cwa:21,C6a:22,pV:23,Awa:24,B6a:25,i5a:26,c5a:27,w$a:28,T4a:29,U4a:30,V4a:31,W4a:32,X4a:33,Y4a:34,Z4a:35,$4a:36,a5a:37,d5a:38,e5a:39,g5a:40,h5a:41,j5a:42,k5a:43,l5a:44,m5a:45,o5a:46,p5a:47,v$a:48,TIMEOUT:49,l8:50,wwa:51,z6a:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Rb={KK:{Dsa:!0,cC:!1,fza:!0}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.QM=void 0;b.QM="PboPublisherSymbol";},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.Pp=b.storage=void 0;c=a(12);k=a(11);h=a(492);d=a(2);m=a(493);f=a(495);q=a(7);a=a(29);b.storage=b.storage || void 0;b.Pp=b.Pp || void 0;q.ha.get(a.ig).register(d.L.Zwa,function(a){var l;switch(c.config.DQb){case "idb":l=m.r_a;break;case "none":l=h.t_a;break;case "ls":l=f.s_a;}l(function(f){f.ia?(b.storage=f.storage,b.Pp=f.Pp,a(k.$d)):a(f);});});},function(d,b,a){var k,h,m;function c(a,b){this.ut=b?[b]:[];this.Sba="$op$" + m++;this.o=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Lc=void 0;k=a(11);h=a(18);m=0;c.prototype.addListener=function(a,b){var f;f=this;h.dga(a);h.lb(0 > this.ut.indexOf(a));a[k.RV + this.Sba]=b;this.ut=this.ut.slice();this.ut.push(a);this.ut.sort(function(a,b){return f.bQb(a,b);});};c.prototype.removeListener=function(a){var b;h.dga(a);this.ut=this.ut.slice();0 <= (b=this.ut.indexOf(a)) && this.ut.splice(b,1);};c.prototype.set=function(a,b){if(this.o !== a){b={oldValue:this.o,newValue:a,Cw:b};this.o=a;a=this.ut;for(var f=a.length,c=0;c < f;c++){a[c](b);}}};c.prototype.when=function(a){var b;b=this;return new Promise(function(f){function c(l){if(a(l.newValue))return (b.removeListener(c),f(l.newValue));}if(a(b.o))return f(b.o);b.addListener(c);});};c.prototype.bQb=function(a,b){return (a[k.RV + this.Sba] || 0) - (b[k.RV + this.Sba] || 0);};pa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.Lc=c;},function(d,b,a){var c,k,h,m,f,q,l,u,t;Object.defineProperty(b,"__esModule",{value:!0});b.ii=void 0;c=a(11);k=a(12);d=a(2);h=a(18);m=a(7);f=a(440);q=a(9);l=a(29);u=a(32);t=m.ha.get(l.ig);t.register(d.L.u8,function(a){var l,d,x,g;l=m.ha.get(u.sj);h.lb(k.config);h.lb(q.By && q.By.getDeviceId || q.LV || l.Y_);d=m.ha.get(f.k7);x=m.ph("Device");t.vd("devs");g=m.ha.get(u.$s);d.create({deviceId:k.config.deviceId,Y_:l.Y_,tLa:"deviceid",ji:k.config.ji,Nz:g.Hva,xga:l.xga,userAgent:q.Dm,Ula:k.config.Ula,zia:k.config.zia,aqb:g.R4a || !1,oib:k.config.mIa.e,$pb:g.xWb || !1,Y4b:k.config.au?"mslstoretest":"mslstore"}).then(function(f){b.ii=f;O._cad_global.device=b.ii;x.info("Esn source: " + b.ii.qha);t.vd("devdone");a(c.$d);})["catch"](function(b){b.ia=void 0;a(b);});});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(1172),b);d.__exportStar(a(1173),b);},function(d,b,a){var k,h,m,f,q,l,u,t,x,z,g,B,L,I,E,da,W,n,M;function c(a){var b,d;b=this;this.createPlayer=function(a,c){var l;c=void 0 === c?{}:c;c="number" === typeof c?{yi:c}:c;l=f.ha.get(W.iG);l=c.manifest?l.create(c.manifest):void 0;a=f.ha.get(g.VM).uob(a);return b.KKa(a,c,l);};this.createPlaygraphPlayer=function(a,c,l){var q;q=f.ha.get(W.iG);l=l?q.create(l):void 0;return b.KKa(da.S9a.encode(a),c,l);};this.closeAllPlayers=function(a){m.v$(void 0 === a?function(){}:a);};this.init=function(a){a=void 0 === a?function(){}:a;b.MH.iR(function(q){q.ia?(h.config.J4?b.VNb().then(function(){k.vAa();})["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(b,c.NY);a(Object.assign({success:!0},c.NY));}):a({success:!1,error:f.LAa(q.errorCode || l.L.Pwa,q)});});};this.applyConfig=function(a){b.j1a(a);h.sfa(a);};this.prepare=function(a,c){var l;a=b.Foa.rLa(a) || [];l=new Set();a=a.filter(function(a){var b;b=l.has(a.u);l.add(a.u);return !b;});if(h.config.ds && b.pc)try{b.pc.Qx(a,c);}catch(qa){f.log.warn("Prepare call failed",qa);}};this.predownload=function(a,c){if((a=b.Foa.rLa(a)) && h.config.kB && b.pc)try{b.pc.zJb(a,c);}catch(Q){f.log.warn("Predownload call failed",Q);}};this.lookupPredownloaded=function(){return h.config.kB && b.pc?b.pc.jDb():Promise.resolve([]);};this.ppmUpdate=function(a){O._cad_global.playerPredictionModel?((a=b.Foa.Qpb(a)) && O._cad_global.playerPredictionModel.update(a),O._cad_global.prefetchEvents && O._cad_global.prefetchEvents.update(a)):f.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){f.RI().vL().then(function(b){return a(b.result);})["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){f.RI().wT().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){f.RI().tT().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){f.RI().uT().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=f.ha.get(t.IM).Mfa();return a?Promise.resolve(a.Zm()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=f.ha.get(t.IM).Mfa();return a?Promise.resolve(a.Ewb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return h.config.Crb;};this.j1a(a);f.ha.get(M.m6);this.Foa=f.ha.get(q.cW);this.MH=f.ha.get(L.ig);d=f.ha.get(n.o$).apply();h.eKa([a],d);this.pc=f.ha.get(B.kt);f.RI().wT();}Object.defineProperty(b,"__esModule",{value:!0});b.HW=void 0;k=a(269);h=a(12);m=a(58);f=a(7);q=a(267);l=a(2);u=a(31);t=a(260);x=a(182);z=a(515);g=a(276);B=a(82);L=a(29);I=a(518);E=a(19);da=a(190);W=a(165);n=a(289);M=a(449);c.prototype.j1a=function(a){f.ha.get(u.dG).AEb(a);};c.prototype.VNb=function(){return f.ha.get(x.PM)()["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){f.log.error("Unable to send deferred playdata",a);});};c.prototype.KKa=function(a,b,c){var l,q,d,h,m;b=void 0 === b?{}:b;q=f.ha.get(E.xd);d=f.ha.get(z.F$);h=f.ha.get(I.H$);m=f.ha.get(g.VM);d=d.create(a);a=d.l0();q=q.zb();b=Object.assign(Object.assign({startPts:b.playbackState && b.playbackState.currentTime || a.oe,uiPlayStartTime:Date.now()},b),{endPts:null !== (l=a.Ie) && void 0 !== l?l:void 0,isPlaygraph:!0});l=h.create(q,d,m);l.addEpisode({movieId:a.la,playbackParams:b,manifest:c});return l;};b.HW=c;c.NY={};},function(d){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof O && (b=O);}d.W=b;},function(d,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.IB=void 0;c=/^\S+$/;a.prototype.tD=function(a){return void 0 !== a;};a.prototype.ge=function(a){return null !== a && void 0 !== a;};a.prototype.PC=function(b){return a.zHa(b);};a.prototype.fda=function(b){return !(!b || !a.zHa(b));};a.prototype.fw=function(a){return Array.isArray(a);};a.prototype.AHa=function(a){return !(!a || a.constructor != Uint8Array);};a.prototype.Jh=function(b,c,d){return a.NGa(b,c,d);};a.prototype.eda=function(b){return a.eda(b);};a.prototype.Fda=function(b,c,d){return a.HY(b,c,d) && 0 === b % 1;};a.prototype.Kt=function(b,c,d){return a.HY(b,c || 0,d);};a.prototype.xO=function(b){return a.HY(b,1);};a.prototype.bgb=function(b){return a.HY(b,0,255);};a.prototype.cgb=function(a){return a === +a && (0 === a || a !== (a | 0)) && !0 && !0;};a.prototype.BHa=function(a){return !(!a || !c.test(a));};a.prototype.lo=function(b){return a.OGa(b);};a.prototype.Om=function(b){return !(!a.OGa(b) || !b);};a.prototype.wO=function(a){return !0 === a || !1 === a;};a.prototype.wY=function(a){return "function" == typeof a;};a.OGa=function(a){return "string" == typeof a;};a.NGa=function(a,b,c){return "number" == typeof a && !isNaN(a) && isFinite(a) && (void 0 === b || a >= b) && (void 0 === c || a <= c);};a.eda=function(a){return "number" == typeof a && isNaN(a);};a.HY=function(b,c,d){return a.NGa(b,c,d) && 0 === b % 1;};a.zHa=function(a){return "object" == typeof a;};b.IB=new a();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(195);d=(function(){function a(a){this.Ub=a;}a.prototype.zu=function(a){this.Ub.zu=a;return new c.E6(this.Ub);};return a;})();b.rU=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(194);a(286);d=(function(){function a(a){this.Ub=a;}a.prototype.when=function(a){this.Ub.kD=a;return new c.rU(this.Ub);};a.prototype.fU=function(){this.Ub.kD=function(a){return null !== a.target && !a.target.Wka() && !a.target.fla();};return new c.rU(this.Ub);};return a;})();b.E6=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TM=void 0;b.TM="PlatformEmeSymbol";},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,z,g,B;Object.defineProperty(b,"__esModule",{value:!0});b.yI=b.eme=void 0;d=a(1);c=a(111);k=a(291);h=a(198);m=a(199);f=a(560);q=a(561);l=a(98);u=a(112);t=a(562);x=a(150);z=a(563);g=a(200);B=a(564);b.eme=new d.Pc(function(a){a(k.r7).to(h.pva).Z();a(m.CU).to(f.eua).Z();a(c.lM).IT(q.UWa);a(g.NU).to(B.rva).Z();a(l.tv).cy(function(a){b.yI.parent=a.gb;return b.yI.get(l.tv);});a(u.PB).zf(function(){return function(){return new t.Lya();};});a(x.cM).to(z.gua).Z;});b.yI=new d.GU({fF:!0});},function(d,b,a){var h;function c(){}function k(a){a?(this.active=!1,this.cia(a)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.pva=b.MU=void 0;d=a(0);a=a(1);k.prototype.cia=function(a){this.jc=a.keySessionData?a.keySessionData.map(function(a){return {id:a.id,lA:a.licenseContextId,CJ:a.licenseId};}):[];this.ea=a.xid;this.u=a.movieId;};k.prototype.Yu=function(){return JSON.parse(JSON.stringify({keySessionData:this.jc?this.jc.map(function(a){return {id:a.id,licenseContextId:a.lA,licenseId:a.CJ};}):[],xid:this.ea,movieId:this.u}));};b.MU=k;c.prototype.create=function(){return new k();};c.prototype.load=function(a){return new k(a);};h=c;h=d.__decorate([a.N()],h);b.pva=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CU=void 0;b.CU="CachedDrmDataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.NU=void 0;b.NU="DrmServiceLogblobBuilderSymbol";},function(d,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(d,b,a){d=a(86).root.Symbol;b.ZE="function" === typeof d && "function" === typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber";b.kVb=b.ZE;},function(d,b,a){function c(a){var b;b=a.Symbol;"function" === typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}d=a(86);b.F3b=c;b.observable=c(d.root);b.jVb=b.observable;},function(d,b,a){function c(a){var b,f;b=a.Symbol;if("function" === typeof b)return (b.iterator || (b.iterator=b("iterator polyfill")),b.iterator);if((b=a.Set) && "function" === typeof new b()["@@iterator"])return "@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c < b.length;++c){f=b[c];if("entries" !== f && "size" !== f && a.prototype[f] === a.prototype.entries)return f;}return "@@iterator";}d=a(86);b.t6b=c;b.iterator=c(d.root);b.iVb=b.iterator;},function(d,b){b.J1=function(a){return a && "function" === typeof a.Vc;};},function(d,b,a){var c,k,h,m;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});d=a(23);k=a(309);h=a(155);m=a(205);a=(function(a){function b(b,f){a.call(this);this.oo=b;(this.ya=f) || 1 !== b.length || (this.Mv=!0,this.value=b[0]);}c(b,a);b.create=function(a,f){return new b(a,f);};b.of=function(){var c;for(var a=[],f=0;f < arguments.length;f++){a[f - 0]=arguments[f];}f=a[a.length - 1];m.J1(f)?a.pop():f=null;c=a.length;return 1 < c?new b(a,f):1 === c?new k.VBa(a[0],f):new h.RU(f);};b.uc=function(a){var b,f,c;b=a.oo;f=a.index;c=a.Oj;f >= a.count?c.complete():(c.next(b[f]),c.closed || (a.index=f + 1,this.Vc(a)));};b.prototype.Mm=function(a){var f,c,l;f=this.oo;c=f.length;l=this.ya;if(l)return l.Vc(b.uc,0,{oo:f,index:0,count:c,Oj:a});for(l=0;l < c && !a.closed;l++){a.next(f[l]);}a.complete();};return b;})(d.Bb);b.p6=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uva=b.wy=b.Ss=void 0;b.Ss='video/mp4; codecs="avc1.640028"';b.wy='audio/mp4; codecs="mp4a.40.5"';b.uva="DrmTraitsSymbol";},function(d,b,a){var k,h,m,f,q,l,u,t,x,z,g;function c(a,b,f,c,l,q){this.NR=a;this.is=b;this.tc=f;this.wd=c;this.Lf=l;this.Tg=q;m.gn(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.ht=void 0;d=a(0);h=a(1);m=a(52);f=a(2);q=a(33);l=a(20);u=a(73);t=a(26);x=a(41);z=a(53);a=a(100);c.prototype.Tw=function(){if(this.Va)return this.Va.sessionId;};c.prototype.oMb=function(a,b){return this.NR.requestMediaKeySystemAccess(a,b);};c.prototype.job=function(a){return a.createMediaKeys();};c.prototype.Tm=function(a,b){this.Va=a.createSession(b);};c.prototype.yZ=function(){return Promise.reject(new u.Ve(f.L.PU));};c.prototype.mBb=function(){return ! !this.Va;};c.prototype.UOb=function(a,b){return this.is.wY(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};c.prototype.MI=function(a,b){return this.Va?this.Va.generateRequest(a,b[0]):Promise.reject(new u.Ve(f.L.PU,f.K.SF,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(a){return this.Va?this.Va.update(a[0]):Promise.reject(new u.Ve(f.L.QU,f.K.SF,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(a){return this.Va?this.Va.load(a):Promise.reject(new u.Ve(f.L.O5a,f.K.SF,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var a;this.jfa=void 0;if(!this.Va)return Promise.reject(new u.Ve(f.L.zva,f.K.SF,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Tw() && (a=this.Va.close());this.Va=void 0;return a;};c.prototype.remove=function(){return this.Va?this.Va.remove():Promise.reject(new u.Ve(f.L.Fva,f.K.SF,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.FS=function(){return Promise.reject(new u.Ve(f.L.A7,void 0,"Unable to renew a key session, not supported"));};c.prototype.aHa=function(a){if(!this.Va)throw ReferenceError("Unable to add message handler, key session is not valid");this.Va.addEventListener(k.Kva,a);};c.prototype.XGa=function(a){if(!this.Va)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Va.addEventListener(k.Jva,a);};c.prototype.VGa=function(a){if(!this.Va)throw ReferenceError("Unable to add error handler, key session is not valid");this.Va.addEventListener(k.Iva,a);};c.prototype.rgb=function(a){var b;b=this;if(!this.Va)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.jfa=a;this.Va.closed.then(function(){var a;return null === (a=b.jfa) || void 0 === a?void 0:a.call(b);});};c.prototype.MXa=function(a){if(!this.Va)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Va.removeEventListener(k.Kva,a);};c.prototype.JXa=function(a){if(!this.Va)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Va.removeEventListener(k.Jva,a);};c.prototype.HXa=function(a){if(!this.Va)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Va.removeEventListener(k.Iva,a);};g=k=c;g.Kva="message";g.Jva="keystatuseschange";g.Iva="error";g=k=d.__decorate([h.N(),d.__param(0,h.l(q.TB)),d.__param(1,h.l(l.De)),d.__param(2,h.l(x.Di)),d.__param(3,h.l(t.Df)),d.__param(4,h.l(z.zm)),d.__param(5,h.l(a.Hy))],g);b.ht=g;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G7=b.Jy=void 0;b.Jy="_ANY_";b.G7="EnricherSymbol";},function(d,b,a){var k,h,m;function c(a,b,c,d){this.xa=a;this.pw=b;this.wm=c;this.Rm=void 0 === d?"General":d;this.lfa={};}Object.defineProperty(b,"__esModule",{value:!0});b.fG=void 0;k=a(6);h=a(331);m=a(677);c.prototype.lda=function(a,b){this.lfa[a]=b;};c.prototype.fatal=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.kz(k.Gi.a6a,a,m.cD(this.pw,this.OI(f)));};c.prototype.error=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.kz(k.Gi.ERROR,a,m.cD(this.pw,this.OI(f)));};c.prototype.warn=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.kz(k.Gi.Naa,a,m.cD(this.pw,this.OI(f)));};c.prototype.info=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.kz(k.Gi.t8,a,m.cD(this.pw,this.OI(f)));};c.prototype.trace=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.kz(k.Gi.KCa,a,m.cD(this.pw,this.OI(f)));};c.prototype.debug=function(a,b){for(var f=1;f < arguments.length;++f){;}!1;};c.prototype.log=function(a,b){for(var f=1;f < arguments.length;++f){;}this.debug.apply(this,arguments);};c.prototype.write=function(a,b,c){for(var f=[],l=2;l < arguments.length;++l){f[l - 2]=arguments[l];}this.kz(a,b,m.cD(this.pw,this.OI(f)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Rm};};c.prototype.Pfa=function(a){return new c(this.xa,this.pw,this.wm,a);};c.prototype.kz=function(a,b,c){a=new h.P8(a,this.Rm,this.xa.zb(),b,c);b=T(this.wm.wm);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a);}};c.prototype.OI=function(a){return 0 < Object.keys(this.lfa).length?[].concat([this.lfa],ea(a)):a;};b.fG=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EV=void 0;b.EV="MomentObserverFactory";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sW=void 0;b.sW="SegmentManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aW=void 0;b.aW="PboPlaydataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.AW=b.xaa=void 0;b.xaa="ThroughputTrackerSymbol";b.AW="ThroughputTrackerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p$=b.B8=void 0;b.B8="IsTypeSupportedProviderFactorySymbol";b.p$="PlatformIsTypeSupportedSymbol";},function(d,b,a){var k,h,m,f,q,l;function c(a,b,q,d){var u;u=h.ym.call(this,a,b,q) || this;u.cast=d;u.type=m.Ok.O6;a=c.Y$a;u.aU[m.Gd.zG]=f.Od.oM + "; " + a;u.aU[m.Gd.ov]=f.Od.ov + "; " + a;a=f.Od.q4a.find(function(a){return u.uw(l(c.EL,a));});u.aU[m.Gd.jv]=a;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.DU=b.P6=void 0;k=a(57);h=a(136);m=a(30);d=a(101);f=a(135);q=a(344);l=new d.Ey().format;N(c,h.ym);c.Kfa=function(a,b){return (b=c.oYa(b))?{isTypeSupported:b}:a;};c.oYa=function(a){if("undefined" !== typeof a)return a.framework && a.framework.platform && a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver && a.receiver.platform && a.receiver.platform.canDisplayType || a.__platform__ && a.__platform__.canDisplayType || void 0;};c.prototype.Uu=function(a){var b,q;b=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().z1a){q={};if(b)return (q[m.Ei.Rs]="1.4",q[m.Ei.KB]="2.2",b().then(function(b){return b === q[a];}));b=this.SSa(a);b=l(c.EL,f.Od.oM) + " hdcp=" + b;b=this.uw.bind(this,b);return Promise.resolve(b());}return Promise.resolve(!1);};c.prototype.NI=function(a){return this.aU[a];};c.prototype.VI=function(){var a;a=this;return this.config().z1a?this.Uu(m.Ei.KB).then(function(b){return b?Promise.resolve(m.Ei.KB):a.Uu(m.Ei.Rs).then(function(a){return a?Promise.resolve(m.Ei.Rs):Promise.resolve(void 0);});}).then(function(b){return a.vP(b);}):Promise.resolve(void 0);};c.prototype.pD=function(){var a,b;a=h.ym.prototype.pD.call(this);b=c.hQa;a[k.Y.T7]=["avc1.4D4028","width=1920; height=1080; "];a[k.Y.U7]=["hev1.2.6.L90.B0",b];a[k.Y.V7]=["hev1.2.6.L93.B0",b];a[k.Y.W7]=["hev1.2.6.L120.B0",b];a[k.Y.X7]=["hev1.2.6.L123.B0",b];a[k.Y.Y7]=["hev1.2.6.L150.B0","width=3840; height=2160; " + b];a[k.Y.Z7]=["hev1.2.6.L153.B0","width=3840; height=2160; " + b];a[k.Y.qM]=["hev1.2.6.L90.B0",b];a[k.Y.rM]=["hev1.2.6.L93.B0",b];a[k.Y.ZF]=["hev1.2.6.L120.B0",b];a[k.Y.sM]=["hev1.2.6.L123.B0",b];a[k.Y.aV]=["hev1.2.6.L150.B0","width=3840; height=2160; " + b];a[k.Y.bV]=["hev1.2.6.L153.B0","width=3840; height=2160; " + b];a[k.Y.f8]="hev1.1.6.L90.B0";a[k.Y.g8]="hev1.1.6.L93.B0";a[k.Y.h8]="hev1.1.6.L120.B0";a[k.Y.i8]="hev1.1.6.L123.B0";a[k.Y.j8]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[k.Y.k8]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[k.Y.b8]="hev1.2.6.L90.B0";a[k.Y.c8]="hev1.2.6.L93.B0";a[k.Y.d8]="hev1.2.6.L120.B0";a[k.Y.e8]="hev1.2.6.L123.B0";a[k.Y.$F]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[k.Y.aG]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[k.Y.gV]="hev1.2.6.L90.B0";a[k.Y.iV]="hev1.2.6.L93.B0";a[k.Y.kV]="hev1.2.6.L120.B0";a[k.Y.mV]="hev1.2.6.L123.B0";a[k.Y.nV]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[k.Y.oV]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};c.prototype.$Na=function(){return [q.Wg.iU,q.Wg.nM,q.Wg.YF];};c.prototype.Lka=function(){h.ym.prototype.Lka.call(this);!c.oYa(this.cast) && this.nl.push(q.Wg.ov);};b.P6=c;c.hQa="eotf=smpte2084";c.L3b="video/mp4;codecs={0}; " + c.hQa;c.Y$a="width=3840; height=2160; ";b.DU="CastSDKSymbol";},function(d,b,a){var k,h,m;function c(){this.type=k.ky.SB;}Object.defineProperty(b,"__esModule",{value:!0});b.xy=void 0;k=a(30);d=a(101);h=a(130);m=new d.Ey();c.Kfa=function(){return {isTypeSupported:function(a){var b;try{if(-1 == a.toLowerCase().indexOf("codec"))return O.MSMediaKeys.isTypeSupported(a,"video/mp4");b=a.split("|");return 1 === b.length?O.MSMediaKeys.isTypeSupported(h.Db.dt,a):"probably" === c.kra(b[0],b[1]);}catch(l){return !1;}}};};c.xZ=function(a,b,l){b=m.format(c.EL,b);if(0 === l.length)return b;l=m.format('features="{0}"',l.join());return m.format("{0}|{1}{2}",a,b,l);};c.kra=function(a,b){var f;try{f=O.MSMediaKeys.isTypeSupportedWithFeatures?O.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(u){f="exception";}return f;};b.xy=c;c.EL='video/mp4;codecs="{0},mp4a";';},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K7=b.oy=void 0;d=b.oy || (b.oy={});d.hab="unknown";d.Qsa="absent";d.iBa="present";d.Error="error";b.K7="ExternalDisplayLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sU=void 0;b.sU="BookmarkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hN=void 0;b.hN="TransportConfigSymbol";},function(d){d.W=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(d,b,a){var h,m,f,q;function c(a,b,f){for(var c=f.next();!c.done;){if((b=a["@@transducer/step"](b,c.value)) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}c=f.next();}return a["@@transducer/result"](b);}function k(a,b,c,q){return a["@@transducer/result"](c[q](f(a["@@transducer/step"],a),b));}h=a(739);m=a(741);f=a(742);g();g();p();q="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";d.W=function(a,b,f){"function" === typeof a && (a=m(a));if(h(f)){for(var l=0,d=f.length;l < d;){if((b=a["@@transducer/step"](b,f[l])) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}l+=1;}return a["@@transducer/result"](b);}if("function" === typeof f["fantasy-land/reduce"])return k(a,b,f,"fantasy-land/reduce");if(null != f[q])return c(a,b,f[q]());if("function" === typeof f.next)return c(a,b,f);if("function" === typeof f.reduce)return k(a,b,f,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(d){d.W=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,d){return a.apply(this,arguments);};case 3:return function(b,d,h){return a.apply(this,arguments);};case 4:return function(b,d,h,m){return a.apply(this,arguments);};case 5:return function(b,d,h,m,f){return a.apply(this,arguments);};case 6:return function(b,d,h,m,f,q){return a.apply(this,arguments);};case 7:return function(b,d,h,m,f,q,l){return a.apply(this,arguments);};case 8:return function(b,d,h,m,f,q,l,u){return a.apply(this,arguments);};case 9:return function(b,d,h,m,f,q,l,u,t){return a.apply(this,arguments);};case 10:return function(b,d,h,m,f,q,l,u,t,x){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xW=void 0;k=a(9);c.gja=function(){var a;a=k.Xs && k.Xs.height;return a?1080 <= a?1080:720:720;};b.xW=c;},function(d,b,a){var k,h,m,f;function c(a,b){return h.DM.call(this,a,b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IW=void 0;k=a(118);h=a(368);m=a(76);f=a(137);N(c,h.DM);c.prototype.Xna=function(a){var b,c;b=this;a=T(k.Bu(function(a){return a.wc && 0 < a.wc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Vr});});a=c.map(function(a){var c;c=a.Dn;c={type:m.Zg.video,jb:a.Vr,$D:a.Ira,Dn:f.BW[c.toLowerCase()] || f.Vn.rG,AS:c,wc:[],sh:{},fs:a.fs};c.wc=b.E0a(a.wc,c);b.log.trace("Transformed video track",{StreamCount:c.wc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.YHb=function(a){var b;b=a.map(function(a){return a.fs;}).filter(Boolean);b=[].concat.apply([],[].concat(ea(b))).map(function(a){return a.$;});a=a.map(function(a){return a.Pga;}).filter(Boolean).map(function(a){return a.$;});return 0 < b.length?b:a;};b.IW=c;},function(d,b,a){var k,h,m,f,q,l,u,t,x,z,g,B,L;function c(a,b,c,d,m,h,u,t,k,x,z,g,B,y,n,p){this.j=a;this.jb=b;this.$D=c;this.Bd=d;this.Jw=m;this.Iga=h;this.Tl=u;this.displayName=t;this.Dn=k;this.AS=x;this.profile=z;this.Ur=g;this.lna=B;this.Itb=y;this.F1=n;this.Fr=p;this.type=f.Zg.w5;this.Ds=void 0;this.Oo=!(!z || z != l.Gl.kG && z != l.Gl.KV);this.sh={bcp47:u,trackId:b,downloadableId:d,isImageBased:this.Oo};this.log=q.Pg(a,"TimedTextTrack");this.state=L.PV;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.gC=void 0;k=a(0);h=a(68);m=a(12);f=a(76);q=a(7);l=a(57);u=a(18);t=a(433);x=a(15);z=a(1023);g=a(14);B=a(2);(function(a){a[a.PV=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.CM=3]="LOAD_FAILED";})(L || (L={}));c.prototype.getEntries=function(){var a;a=this;if(this.j.state.value === g.yb.CLOSED || this.j.state.value === g.yb.CLOSING)return Promise.reject({ia:!1});if(this.Oo)return this.fAb();this.JLa || (this.JLa=this.ILa());return this.JLa.then(function(b){return a.QHb(b);});};c.prototype.cd=function(){return this.state;};c.prototype.H1=function(){return this.lna;};c.prototype.B1=function(){return this.Itb;};c.prototype.Wz=function(a,b){var f;f=[];try{this.Oo?f=this.nf && this.nf.Wz(a,b) || []:this.entries && (f=this.entries.filter(function(f){var c;c=T([f.startTime,f.endTime]);f=c.next().value;c=c.next().value;return f >= a && f <= b || f <= a && a <= c;}));}catch(W){this.log.error("error in getSubtitles",W,{start:a,end:b,isImageBased:this.Oo});}return f;};c.prototype.Exb=function(){var a;if(!x.ic(this.T))try{this.T=this.Oo?(a=this.Wz(0,c.T7a)[0]) && a.displayTime:(a=this.entries && this.entries[0]) && a.startTime;}catch(E){this.log.error("exception in getStartPts",E);}return this.T;};c.prototype.W4=function(a){return this.j.state.value === g.yb.CLOSING || this.j.state.value === g.yb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.Jc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};c.prototype.fAb=function(){var a,b,f,c,l,d,h,u,t;a=this;if(!this.QQa){this.state=L.LOADING;b={uib:!1,profile:this.profile,Sma:this.Ur.offset,CTa:this.Ur.length,Hc:this.j.fb.value || 0,bufferSize:m.config.Fzb,E4:{Ua:this.j.j0()}};f=q.Pg(this.j,"TimedTextTrack");f.warn=f.trace.bind(f);f.info=f.debug.bind(f);c=z.HKa(this.j,f,this.request,this);l=(this.Iga || []).filter(function(b){return (b.id in a.Jw);}).sort(function(a,b){return a.bg - b.bg;}).map(function(a){return a.id;});d=0;h={};u=!0;t=function(f,k){var z;if(x.ic(f)){if(u || a.W4(a.Cr(a.or,"","image"))){u=!1;a.Ur.url=a.Jw[a.or];b.url=a.Ur.url;h[f]=(h[f] || 0) + 1;z=new q.FCa(c,b);z.on("ready",function(){a.nf=z;k({ia:!0,track:a});});z.on("error",function(b){var c;b=Object.assign({ia:!1},b);c=a.Cr(a.or,a.Ur.url,"image");c.details={midxoffset:a.Ur.offset,midxsize:a.Ur.length};c.errorstring=b.errorString;h[f] <= m.config.j0a?(a.H_(c,!0,"retry with current cdn"),a.fea(h[f]).then(function(b){a.log.trace("retry timed text download after " + b,a.Cr(a.or,"","image"));t(a.or,k);})):(a.or=l[d++],a.or?(a.H_(c,!0,"retry with next cdn"),a.fea(h[f]).then(function(b){a.log.trace("retry timed text download after " + b,a.Cr(a.or,"","image"));t(a.or,k);})):(a.H_(c,!1,"all cdns tried"),k({ia:!1,rFb:"all cdns failed for image subs",track:a})));});z.start();}else k({ia:!1,Xq:!0});}else (k({ia:!1,rFb:"cdnId is not defined for image subs downloadUrl"}),a.H_(a.Cr(0,"","image"),!1,"cdnId is undefined"));};this.or=l[d++];this.QQa=new Promise(function(b,f){t(a.or,function(c){c.ia?(a.log.info("Loaded image subtitle manager"),a.state=L.LOADED,b(c)):(a.log.error("Unable to load image subtitles manager",c),a.state=L.CM,f(c));});});}return this.QQa;};c.prototype.H_=function(a,b,f){a=Object.assign({},a,{b7b:b,status:f});this.j.fireEvent(g.V.sL,a);this.log.warn("subtitleerror event",a);};c.prototype.request=function(a,b){var f;f=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,Ds:this.Ds,responseType:h.JQ,headers:{},zc:this.tia(this.or)};this.j.g1.download(a,function(a){f.log.trace("imgsub: request status " + a.ia);a.ia?b(null,new Uint8Array(a.content)):b({ja:a.ja,Ke:a.Ke});});};c.prototype.Cr=function(a,b,f){return {currentCdnId:a,url:b,profile:this.profile,dlid:this.Bd,subtitletype:f,bcp47:this.Tl,trackId:this.jb,cdnCount:Object.keys(this.Jw).length,isImageBased:this.Oo};};c.prototype.tia=function(a){return (this.Iga || []).find(function(b){return b.id === a;});};c.prototype.ILa=function(){var c,l;function a(a){return k.__awaiter(c,void 0,void 0,function(){var q,d,m,h,u;function c(){for(;;){switch(q){case 0:m=f();d=h.Cr(a.zc.id,a.url,"text");d.errorstring=a.reason;if(!m || !h.W4(d)){q=1;break;}q=-1;return {value:h.fea(l[m.id]).then(b),done:!0};case 1:return (q=-1,{value:Promise.reject({ia:!1,Xq:!0}),done:!0});default:return {value:void 0,done:!0};}}}q=0;h=this;u={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};p();u[Symbol.iterator]=function(){return this;};return u;});}function b(){return k.__awaiter(c,void 0,void 0,function(){var c,q,d,m,h;function b(){for(;;){switch(c){case 0:q=(d=f()) && m.Jw[d.id];if(!d || !q){c=1;break;}l[d.id]=(l[d.id] || 0) + 1;c=-1;return {value:m.Bqb(q,d)["catch"](a),done:!0};case 1:return (c=-1,{value:Promise.reject({}),done:!0});default:return {value:void 0,done:!0};}}}c=0;m=this;h={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};p();h[Symbol.iterator]=function(){return this;};return h;});}function f(){return (c.Iga || []).find(function(a){return ! !((l[a.id] || 0) < m.config.j0a && c.Jw[a.id]);});}c=this;this.state=L.LOADING;l={};return b();};c.prototype.fea=function(a){return new Promise(function(b){var f;f=1E3 * Math.min(Math.pow(2,a - 1),8);setTimeout(function(){return b(f);},f);});};c.prototype.QHb=function(a){var b,f;b=this;f=this.j.KL;u.lb(f);return t.DVa(a,f.width / f.height,m.config.k0a,m.config.Ara).then(function(a){var f;if(m.config.l0a){f=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:f,endTime:f+=m.config.l0a});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.sh);b.state=L.LOADED;return {ia:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",B.Jq(a),b.sh,{url:a.url});b.state=L.CM;a.reason="parseerror";a.track=b;throw a;});};c.prototype.Bqb=function(a,b){var f;f=this;this.log.trace("Downloading",b && ({zc:b.id}),this.Cr(b.id,a,"text"));return new Promise(function(c,l){var q;q={responseType:h.jka,url:a,track:f,zc:b,uD:"tt-" + f.Tl};f.j.g1.download(q,function(a){a.ia?c(a.content):(a.reason="downloadfailed",a.url=q.url,a.track=f,a.zc=b,l(a));});});};b.gC=c;c.T7a=72E7;c.daa=L;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xEb=b.We=void 0;b.We=[0,1];b.xEb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.NF=void 0;c=a(167);k=a(230);h=a(833);m=a(105);f=a(5);d=(function(){function a(a,b){var f;f=this;this.Of=new k(a,b);this.kn=new h(a);this.qb=new m(this.kn,this.Of,a);c.ev.Dlb(a);a.y3 && setInterval(function(){f.Of.save();f.kn.save();},a.y3);}a.UOa=function(b,c){void 0 === q?(a.config=b,a.ay=c,q=new a(b,c)):(f.assert(a.config === b),f.assert(a.ay === c));return q;};a.reset=function(){a.config=void 0;q=a.ay=void 0;};return a;})();b.NF=d;},function(d,b,a){var f;function c(a,b,c){this.sI=!1 === a;this.nI=a || .01;this.E8=void 0 === b?25:b;this.dua=void 0 === c?1.1:c;this.Lh=new f(k);this.reset();}function k(a,b){return a.tf > b.tf?1:a.tf < b.tf?-1:0;}function h(a,b){return a.su - b.su;}function m(a){this.config=a || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?a.nI:!1);this.dqb=this.config.ratio || .9;this.eqb=this.config.x6b || 1E3;this.R2=0;}f=a(816).Y9a;c.prototype.reset=function(){this.Lh.clear();this.Gla=this.n=0;};c.prototype.size=function(){return this.Lh.size;};c.prototype.Cn=function(a){var b;b=[];a?(this.eX(!0),this.Lh.he(function(a){b.push(a);})):this.Lh.he(function(a){b.push({tf:a.tf,n:a.n});});return b;};c.prototype.summary=function(){return [(this.sI?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.oi(0),"Q1  = " + this.oi(.25),"Q2  = " + this.oi(.5),"Q3  = " + this.oi(.75),"max = " + this.oi(1)].join("\n");};c.prototype.push=function(a,b){b=b || 1;a=Array.isArray(a)?a:[a];for(var f=0;f < a.length;f++){this.pEa(a[f],b);}};c.prototype.Uoa=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b < a.length;b++){this.pEa(a[b].tf,a[b].n);}};c.prototype.eX=function(a){var b;if(!(this.n === this.Gla || !a && this.dua && this.dua > this.n / this.Gla)){b=0;this.Lh.he(function(a){a.su=b + a.n / 2;b=a.dI=b + a.n;});this.n=this.Gla=b;}};c.prototype.mtb=function(a){var b,f;if(0 === this.size())return null;b=this.Lh.lowerBound({tf:a});f=null === b.data()?b.LE():b.data();return f.tf === a || this.sI?f:(b=b.LE()) && Math.abs(b.tf - a) < Math.abs(f.tf - a)?b:f;};c.prototype.mH=function(a,b,f){a={tf:a,n:b,dI:f};this.Lh.Mo(a);this.n+=b;return a;};c.prototype.MW=function(a,b,f){b !== a.tf && (a.tf+=f * (b - a.tf) / (a.n + f));a.dI+=f;a.su+=f / 2;a.n+=f;this.n+=f;};c.prototype.pEa=function(a,b){var f,c,l;f=this.Lh.min();c=this.Lh.max();l=this.mtb(a);l && l.tf === a?this.MW(l,a,b):l === f?this.mH(a,b,0):l === c?this.mH(a,b,this.n):this.sI?this.mH(a,b,l.dI):(f=l.su / this.n,Math.floor(4 * this.n * this.nI * f * (1 - f)) - l.n >= b?this.MW(l,a,b):this.mH(a,b,l.dI));this.eX(!1);!this.sI && this.E8 && this.size() > this.E8 / this.nI && this.Bw();};c.prototype.$ib=function(a){var b,f;this.Lh.Jl=h;b=this.Lh.upperBound({su:a});this.Lh.Jl=k;f=b.LE();a=f && f.su === a?f:b.next();return [f,a];};c.prototype.oi=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.seb,this);return Array.isArray(a)?b:b[0];};c.prototype.seb=function(a){var b,f;if(0 !== this.size()){this.eX(!0);this.Lh.min();this.Lh.max();a*=this.n;b=this.$ib(a);f=b[0];b=b[1];return b === f || null === f || null === b?(f || b).tf:this.sI?a <= f.dI?f.tf:b.tf:f.tf + (a - f.su) * (b.tf - f.tf) / (b.su - f.su);}};c.prototype.Bw=function(){var a;if(!this.aKa){a=this.Cn();this.reset();for(this.aKa=!0;0 < a.length;){this.Uoa(a.splice(Math.floor(Math.random() * a.length),1)[0]);}this.eX(!0);this.aKa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(a){c.prototype.push.call(this,a);this.Fkb();};m.prototype.mH=function(a,b,f){this.R2+=1;c.prototype.mH.call(this,a,b,f);};m.prototype.MW=function(a,b,f){1 === a.n && --this.R2;c.prototype.MW.call(this,a,b,f);};m.prototype.Fkb=function(){!("auto" !== this.mode || this.size() < this.eqb) && this.R2 / this.size() > this.dqb && (this.mode="cont",this.sI=!1,this.nI=this.config.nI || .01,this.Bw());};d.W={TDigest:c,Digest:m};},function(d,b,a){var f,q,l,u,t,x;function c(a){var b;b=a.Lba;this.H=a;this.Ki=q.Xe.HAVE_NOTHING;this.UG=a.UG;a=new t(this.UG);this.sO=a.create("throughput-location-history",b);this.Sv=a.create("respconn-location-history",b);this.Lv=a.create("respconn-location-history",b);this.mY=a.create("throughput-tdigest-history",b);this.yX=a.create("throughput-iqr-history",b);this.$a=null;}function k(a,b,f,d,q){this.Kv=new c(q);this.zp=[];this.jdb=l.time.da() - Date.now() % 864E5;this.Jv=null;this.H=q;for(a=0;a < d;++a){this.zp.push(new c(q));}}function h(a,b,c){return f.has(a,b)?a[b]:a[b]=c;}function m(a,b){var f;this.H=a;this.zGa=b;this.zMa();this.GN=new c(this.H);this.QN();f=a.gga;f && (f={Hd:q.Xe.pM,Ma:{Ga:parseInt(f,10),Xh:0},Vh:{Ga:0,Xh:0},Ir:{Ga:0,Xh:0}},this.get=function(){return f;});}f=a(8);q=a(24);b=a(10);l=a(3);u=b.pwa;t=a(378).jwa;new l.Console("ASEJS_LOCATION_HISTORY","media|asejs");x={Hd:q.Xe.HAVE_NOTHING};c.prototype.NC=function(a,b){this.Ki=b;this.sO.add(a);this.mY.add(a);this.$a=l.time.da();};c.prototype.EF=function(a,b){this.yX.set(a,b);};c.prototype.aw=function(a){this.Sv.add(a);};c.prototype.$v=function(a){this.Lv.add(a);};c.prototype.cd=function(){var a,b,c,d,q,m;a=this.sO.cd();b=this.Sv.cd();c=this.Lv.cd();d=this.yX.cd();q=this.mY.cd();if(f.Xa(a) && f.Xa(b) && f.Xa(c))return null;m={c:this.Ki,t:l.time.$ma(this.$a)};f.Xa(a) || (m.tp=a);f.Xa(b) || (m.rt=b);f.Xa(c) || (m.hrt=c);f.Xa(d) || (m.iqr=d);f.Xa(q) || (m.td=q);return m;};c.prototype.ne=function(a){var b;b=l.time.now();if(!(a && f.has(a,"c") && f.has(a,"t") && f.has(a,"tp") && f.isFinite(a.c) && f.isFinite(a.t)) || 0 > a.c || a.c > q.Xe.pM || a.t > b || !this.sO.ne(a.tp))return (this.Ki=q.Xe.HAVE_NOTHING,this.Jv=this.$a=null,this.sO.ne(null),this.Sv.ne(null),this.Lv.ne(null),!1);this.Ki=a.c;this.$a=l.time.vna(a.t);this.Sv.ne(f.has(a,"rt")?a.rt:null);this.Lv.ne(f.has(a,"hrt")?a.hrt:null);f.has(a,"iqr") && this.yX.ne(a.iqr);f.has(a,"td") && this.mY.ne(a.td);return !0;};c.prototype.get=function(){var a,b,c,d,m,h;a=this.H;if(f.Xa(this.$a))return x;b=(l.time.da() - this.$a) / 1E3;b > a.Dcb?this.Ki=q.Xe.HAVE_NOTHING:b > a.$bb && (this.Ki=Math.min(this.Ki,q.Xe.FB));a=this.sO.get();c=this.Sv.get();d=this.Lv.get();m=this.yX.get();h=this.mY.get();b={Zj:b,Hd:this.Ki,Ma:a,Vh:c,Ir:d,Kr:m,kj:h};a && (b.z6b=u.prototype.zoa.bind(a));c && (b.U5b=u.prototype.zoa.bind(c));d && (b.Q3b=u.prototype.zoa.bind(d));return b;};c.prototype.time=function(){return this.$a;};c.prototype.TG=function(){this.get();l.time.da();};k.prototype.uj=function(){return ((l.time.da() - this.jdb) / 1E3 / 3600 / (24 / this.zp.length) | 0) % this.zp.length;};k.prototype.cd=function(){var a;a={g:this.Kv.cd(),h:this.zp.map(function(a){return a.cd();})};f.Xa(this.Jv) || (a.f=l.time.$ma(this.Jv));return a;};k.prototype.ne=function(a){var b,c;if(!this.Kv.ne(a.g))return !1;b=this.zp.length;c=!1;this.zp.forEach(function(f,l){c=!f.ne(a.h[l * a.h.length / b | 0]) || c;});this.Jv=f.has(a,"f")?l.time.vna(a.f):null;return c;};k.prototype.NC=function(a,b){this.Kv.NC(a,b);this.zp[this.uj()].NC(a,b);this.Jv=null;};k.prototype.EF=function(a,b){this.Kv.EF(a,b);this.zp[this.uj()].EF(a,b);};k.prototype.aw=function(a){this.Kv.aw(a);this.zp[this.uj()].aw(a);};k.prototype.$v=function(a){this.Kv.$v(a);this.zp[this.uj()].$v(a);};k.prototype.fail=function(a){this.Jv=a;};k.prototype.get=function(){var a,b;if(!f.Xa(this.Jv)){if((l.time.da() - this.Jv) / 1E3 < this.H.Zbb)return {Hd:q.Xe.HAVE_NOTHING,Up:!0};this.Jv=null;}a=this.zp[this.uj()].get();b=this.Kv.get();a=a.Hd >= b.Hd?a:b;a.Up=!1;return a;};k.prototype.time=function(){return this.Kv.time();};k.prototype.TG=function(a){this.Kv.TG(a + ": global");this.zp.forEach(function(b,c,l){f.Xa(b.time()) || (c=24 * c / l.length,b.TG(a + ":  " + ((10 > c?"0":"") + c + "00") + "h"));});};m.prototype.OEa=function(a,b){var f;f=this.H;a=h(this.Ty,a,{});return h(a,b,new k(0,0,0,f.MFa || 4,f));};m.prototype.QN=function(){var a,b;a=l.storage.get("lh");b=l.storage.get("gh");a && this.Mca(a);b && this.ofb(b);};m.prototype.Qba=function(){var a;a={};f.he(this.Ty,function(b,c){f.he(b,function(b,f){h(a,c,{})[f]=b.cd();},this);},this);return a;};m.prototype.ofb=function(a){this.GN.ne(a);};m.prototype.Mca=function(a){var b,c;b=null;c=this.H;f.he(a,function(a,l){f.he(a,function(a,d){var q;q=new k(0,0,0,c.MFa || 4,c);q.ne(a)?(h(this.Ty,l,{})[d]=q,b=!0):f.Xa(b) && (b=!1);},this);},this);return f.Xa(b)?!0:b;};m.prototype.save=function(){var a;a=this.Qba();l.storage.set("lh",a);l.storage.set("gh",this.GN.cd());this.zGa && this.zGa.xqa(this.GN.cd());};m.prototype.zMa=function(a){a?(f.has(this.Ty,a) && delete this.Ty[a],this.gX == a && (this.kC=this.gX="",this.Ml=null)):(this.Ty={},this.kC=this.gX="",this.Ml=null);};m.prototype.$S=function(a){this.gX=a;this.Ml=null;};m.prototype.R4=function(a){this.kC=a;this.Ml=null;};m.prototype.uX=function(){f.Xa(this.Ml) && (this.Ml=this.OEa(this.gX,this.kC));return this.Ml;};m.prototype.NC=function(a,b){this.uX().NC(a,b);this.GN.NC(a,b);};m.prototype.EF=function(a,b){a && a.wk && a.bj && a.xk && (this.uX().EF(a,b),this.GN.EF(a,b));};m.prototype.aw=function(a){this.uX().aw(a);};m.prototype.$v=function(a){this.uX().$v(a);};m.prototype.fail=function(a,b){this.OEa(a,this.kC).fail(b);};m.prototype.get=function(a,b){var c,l,d,m;a=(a=this.Ty[a])?a[this.kC]:null;c=null;if(a && (c=a.get(),c.Hd > q.Xe.HAVE_NOTHING))return c;if(!1 === b)return x;l=c=null;d=!1;m=null;f.he(this.Ty,function(a){f.he(a,function(a,b){var f;if(!d || b == this.kC){f=a.get();f && (!l || l <= f.Hd) && (!m || l < f.Hd || m < a.time()) && (l=f.Hd,d=b == this.kC,m=a.time(),c=f);}},this);},this);return c?c:x;};m.prototype.TG=function(){f.he(this.Ty,function(a,b){f.he(a,function(a,f){a.TG(b + ":" + f);});});};d.W=m;},function(d,b,a){var m;function c(a){this.CH=a;this.reset();}function k(a){this.Qi=new c(a);this.de=0;this.$b=null;}function h(a,b){this.CH=a;this.tFa=b;this.reset();}m=a(8);c.prototype.ZFa=function(a,b){this.$a+=a;this.Li+=a;this.qc+=b;this.xj.push({d:a,SY:b});};c.prototype.fO=function(){var a;for(;this.Li > this.CH;){a=this.xj.shift();this.qc-=a.SY;this.Li-=a.d;}};c.prototype.reset=function(){this.xj=[];this.$a=null;this.Li=this.qc=0;};c.prototype.setInterval=function(a){this.CH=a;this.fO();};c.prototype.start=function(a){m.Xa(this.$a) && (this.$a=a);};c.prototype.add=function(a,b,c){m.Xa(this.$a) && (this.$a=b);b > this.$a && this.ZFa(b - this.$a,0);this.ZFa(c > this.$a?c - this.$a:0,a);this.fO();};c.prototype.get=function(){return {Ga:Math.floor(8 * this.qc / this.Li),Xh:0};};k.prototype.reset=function(){this.Qi.reset();this.de=0;this.$b=null;};k.prototype.add=function(a,b,c){!m.Xa(this.$b) && c > this.$b && (b > this.$b && (this.de+=b - this.$b),this.$b=null);this.Qi.add(a,b - this.de,c - this.de);};k.prototype.start=function(a){!m.Xa(this.$b) && a > this.$b && (this.de+=a - this.$b,this.$b=null);this.Qi.start(a - this.de);};k.prototype.stop=function(a){this.$b=m.Xa(this.$b)?a:Math.min(a,this.$b);};k.prototype.get=function(){return this.Qi.get();};k.prototype.setInterval=function(a){this.Qi.setInterval(a);};h.prototype.reset=function(){this.xj=[];this.qc=this.Li=0;};h.prototype.add=function(a,b,c,d){void 0 !== d && !0 === d && (b=c - b,this.Li+=b,this.qc+=a,this.xj.push({d:b,SY:a}),this.fO());};h.prototype.fO=function(){var a;for(;this.Li > this.CH || this.xj.length > this.tFa;){a=this.xj.shift();this.qc-=a.SY;this.Li-=a.d;}};h.prototype.start=function(){};h.prototype.stop=function(){};h.prototype.get=function(){return {Ga:Math.floor(8 * this.qc / this.Li),Xh:0};};h.prototype.setInterval=function(a,b){this.CH=a;this.tFa=b;this.fO();};d.W={oWb:c,A5a:k,oab:h};},function(d,b){function a(a){var b;b={profile:a.spoofedProfile || a.profile,aia:a.max_framerate_value,$ha:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,HIb:a.pixelAspectX,IIb:a.pixelAspectY,Jp:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile && (b.t5b=a.profile);return b;}Object.defineProperty(b,"__esModule",{value:!0});b.NOa=b.MOa=void 0;b.MOa=function(b,d,h){var c;c=[{},{}];(0 === h?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(f,q){b[f].some(function(b,f){return f === d[q]?(c[q]=a(b),!0):!1;});});return c;};b.NOa=a;},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,z,g;Object.defineProperty(b,"__esModule",{value:!0});b.pU=void 0;c=a(0);k=a(16);h=a(843);d=a(90);m=a(844);f=a(869);q=a(872);l=a(244);u=a(875);t=a(17);x=a(3);z=a(5);a(232);g=(function(){return function(a){var b;b=a.cla;a=a.A1;this.wR=this.replace=b;this.Mf=a;};})();a=(function(a){function b(b,d){var h,u,t,z,I,B,y,L,E,n,p,r,ga,ba,S,Aa,Na,Pa,Ba,ia;h=d.eb;u=d.ta;t=d.ml;z=d.mb;I=d.Ema;B=d.gi;y=d.config;L=d.Xja;E=d.XE;n=d.jQ;p=d.qb;r=d.Of;ga=d.cK;d=d.oha;ba=a.call(this) || this;ba.la=b;ba.Z0=!1;ba.bFa=[];ba.rFa=[];ba.Fh=[];ba.qI=[];ba.Ll=!1;ba.eb=h;ba.TN=u;ba.ml=t;ba.mb=z;ba.config=y;ba.console=new x.Console("ASEJS","media|asejs","<" + String(ba.la) + ">");L && (b=L.Uz,ba.bf=new q.Ewa(ba,ba.console,ba.config,L.km,L.AQ,b,L.x1,L.af,L.Vc,L.sg,L.dA),ba.Uz=b);ba.cA=new k.EventEmitter();ba.jQ=n;ba.qb=p;ba.cK=ga;ba.el=new l.xV(ba.ta,p,r,ba.config,null === d || void 0 === d?void 0:d.km);d && (L=d.Xp,n=d.bn,p=d.qJ,ba.eo=d.Bg,ba.qJ=p,ba.bn=n,ba.Xp=L,ba.Iba=new f.Wva(ba.el,ba.config,ba.wyb.bind(ba),ba.vyb.bind(ba)));ba.XE=E;ba.Me=new g(I);ba.gi=B;S=[[],[]];Aa=[{},{}];Na=[0,0];Pa=!1;Ba=ba.mb(0);ia=ba.mb(1);["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=0 === b;f && !Ba || 1 === b && !ia || ba.ta[a].forEach(function(a,l){a=new m.sta({O:ba,vx:a,I:b,Mf:I.A1,JT:l,MC:l + (f?ba.ta.video_tracks.length:0)},ba.config,ba.console);S[b].push(a);Aa[b]=c.__assign(c.__assign({},Aa[b]),a.PD());a.fm > Na[a.I] && (Na[a.I]=a.fm);Pa=Pa || a.U0;});});ba.EG=S;ba.IQb=Aa;ba.Rr=Na;ba.U0=Pa;ba.$Ea=ba.config && ba.config.KQ && ! !ba.config.KQ.length && -1 !== ba.config.KQ.indexOf(String(ba.u)) && ba.config.oka && ! !ba.config.oka.length && void 0 !== ba.Dr(1,ba.config.oka[0]);ba.Obb=ba.$Ea && ba.config.k_;return ba;}c.__extends(b,a);Object.defineProperties(b.prototype,{ta:{get:function(){return this.TN;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{u2:{get:function(){var a;return !(null === (a=this.EG[1][0]) || void 0 === a || !a.u2);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ug:{get:function(){return this.bFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{VDb:{get:function(){return this.rFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{u:{get:function(){return this.ta.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gr:{get:function(){return this.ta.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{duration:{get:function(){return this.ta.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xi:{get:function(){return this.Ll;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Do:{get:function(){z.assert(this.Iba,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Iba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kha:{get:function(){return this.Do.events;},enumerable:!1,configurable:!0}});b.prototype.Qb=function(){this.close();this.ac();};b.prototype.close=function(){var a;this.qI=[];null === (a=this.Iba) || void 0 === a?void 0:a.Qb();this.el.Qb();this.Ll=!0;};b.prototype.ac=function(){this.bf && this.bf.ac();};b.prototype.FTb=function(a){var b,f,c,l,d;b=this;f=a.ta;c=a.gi;z.assert(a.config === this.config,"Updating Viewable IConfig not supported");z.assert(c === this.gi,"Updating Viewable clearplay not supported");z.assert(f.movieId === this.ta.movieId,"Changing Viewable manifest movieId unsupported");l=this.mb(0);d=this.mb(1);["audio_tracks","video_tracks"].forEach(function(a,f){var c;if((0 !== f || l) && (1 !== f || d)){a=b.ta[a];c=b.EG[f];z.assert(a.length === c.length,"Changing Viewable tracks unsupported");a.forEach(function(a,b){var f;b=c[b];z.assert(a.track_id === b.jb);a=a.streams;f=Object.keys(b.PD());z.assert(a.length === f.length);a.forEach(function(a){z.assert(-1 !== f.indexOf(a.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.TN=f;this.el.EO(this.ta);};b.prototype.cF=function(a){var b,f,c;b=a.CE;f=a.ea;c=a.Iw;a=a.jm;b && f?(this.Y4=new h.kCa(b,{ea:String(f),Iw:! !c,gEb:this.config.QV.mx,jjb:this.config.QV.lv},a),this.Do.cF(this.Y4)):a("SideChannel: pbcid/xid is missing.");};b.prototype.fx=function(){return void 0 !== this.gr;};b.prototype.getTracks=function(a){return this.EG[a];};b.prototype.getTrackById=function(a){var b;this.EG.some(function(f){return f.some(function(f){if(f.jb === a)return (b=f,!0);});});b || this.console.warn("getTrackById not found:",a,"length:",this.EG.length);return b;};b.prototype.CPa=function(a,b){var f;f=this.EG[a];if(0 > b || b >= f.length)this.console.warn("getTrackByIndex out of range:",b,"length:",f.length,"mediaType:",a);else return f[b];};b.prototype.Dr=function(a,b){return (a=this.PD(a)) && a[b];};b.prototype.PD=function(a){return this.IQb[a];};b.prototype.fTb=function(a,b){this.bFa[a]=b;b.stream.aa && this.l1a(a,b.stream.aa);};b.prototype.iMa=function(a){return void 0 === a || 1 === a?this.Obb:!1;};b.prototype.gRa=function(a){return void 0 === a || 1 === a?this.$Ea:!1;};b.prototype.uBb=function(a){var b,f;if(void 0 === a.N3 || void 0 === a.Joa){b=this.el.Qia().filter(function(b){return void 0 !== b.wc[a.Ca];})[0];f=b.children.filter(function(b){return b.Be.some(function(b){return b.stream.id === a.Ca;});})[0];a.N3=b.id;a.Joa=f.id;}return {lla:a.location === a.N3,vBb:a.Ic === a.Joa};};b.prototype.V4=function(a,b,f){void 0 !== b && void 0 !== f && (this.WXa(a.I,b),a.V4(b,f));};b.prototype.WXa=function(a,b){var f,c;c=this.config.gna;("location" === c || "video_location" === c && 1 === a) && this.qb.$S(b);null === (f=this.jQ) || void 0 === f?void 0:f.call(this).YGb(a,b);};b.prototype.Bg=function(a,b,f,c,l){z.assert(this.eo,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.eo(a,b,f,c,l);};b.prototype.Dq=function(){var a,b,f;a=this;b=[];if(this.Xi)return (this.console.error("updateRequestUrls, closed Viewable:",this.la),!1);t.We.forEach(function(f){a.mb(f) && a.yTb(f) && (f=a.kTb(f),0 < f.length && b.push.apply(b,f));});f=this.gTb();0 < f.length && b.push.apply(b,f);return this.xMb(b);};b.prototype.Xm=function(a,b){var f;f=this.getTracks(1)[0];z.assert(f);if(f.QQ)return f.Xm(a,b);};b.prototype.yTb=function(a){var b,f,l,m,h;if(this.Xi)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.mb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1);l=!0;try{for(var d=c.__values(this.Fh),q=d.next();!q.done;q=d.next()){m=q.value.bb(a);z.assert(m);h=this.el.GL(this.la,m.track.gd);h || m.kb("location selector failed to update streamList");l=l && h;}}catch(ka){b={error:ka};}finally{try{q && !q.done && (f=d["return"]) && f.call(d);}finally{if(b)throw b.error;}}return l;};b.prototype.gTb=function(){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.Dq();};b.prototype.kTb=function(a){var b,f,l,m;l=[];if(this.Xi)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),l);if(!this.mb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),l);try{for(var d=c.__values(this.Fh),q=d.next();!q.done;q=d.next()){m=q.value.Dq(a);m.length && l.push.apply(l,m);}}catch(U){b={error:U};}finally{try{q && !q.done && (f=d["return"]) && f.call(d);}finally{if(b)throw b.error;}}return l;};b.prototype.xMb=function(a){var b,f,c;b=this;if(0 === a.length)return !0;f=0;c=[];a.forEach(function(a){var l;if(a.dc){l=a.O;l.eb > b.eb && (c.push({O:l,track:a.stream.track}),++f);}});c.forEach(function(a){var b;b=a.track;a.O.GK([0 === b.I?b:void 0,1 === b.I?b:void 0],void 0,b.I);});return f === a.length;};b.prototype.vk=function(){var a;a=this;this.el.vk();this.Do.vk();this.Y4 && (z.assert(this.Uz),t.We.forEach(function(b){b=a.Uz(b);a.Y4.kqa("rebuffer",b.Fla);}));};b.prototype.Gna=function(){this.Do.Gna();};b.prototype.hsa=function(a,b){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");this.bf.hsa(a,b);};b.prototype.T0=function(){z.assert(this.bf,"Headers not available on old architecture prefetch viewables..");return this.bf.T0();};b.prototype.efa=function(){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");this.bf.efa();};b.prototype.cL=function(a){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");this.bf.cL(a);};b.prototype.Sra=function(){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.Sra();};b.prototype.Hj=function(a,b){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.Hj(a,b);};b.prototype.xKa=function(a,b,f){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");this.bf.F5(a,b,f,!0);};b.prototype.BY=function(a,b,f){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.BY(a,b,! !f);};b.prototype.AOb=function(a,b){this.qI.push({stream:a,Ixb:b});};b.prototype.BQ=function(){var a;a=this;z.assert(this.bn,"Streamables not available on old architecture prefetch viewables.");return this.bn()?[]:this.qI.map(function(b){var f,c;f=b.stream;c=b.Ixb;c=c();return {I:f.I,Uh:c.Uh,Qm:c.Qm,Tt:c.Tt,Aq:c.Aq,Zf:c.Zf,HRa:function(){var c;c=f.zF();a.qI=c?a.qI.filter(function(a){return a.stream !== f;}):a.qI.filter(function(a){return a !== b;});return c;}};});};b.prototype.zF=function(a,b){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.zF(a,b);};b.prototype.yO=function(a,b){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.yO(a,b);};b.prototype.s4=function(a){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.s4(a);};b.prototype.GK=function(a,b,f){z.assert(this.bf,"Headers not available on old architecture prefetch viewables.");return this.bf.GK(a,b,f);};b.prototype.yyb=function(a){var b,f,c;b=a.Ca;f=a.I;this.l1a(f,a.stream.aa);b=this.Dr(f,b);c=this.fx()?this.config.dTa:0;f=x.$l()[f];b.e1a(f,c);this.cA.emit("onHeaderFragments",a);};b.prototype.CXa=function(a){this.Fh.push(a);};b.prototype.$0a=function(a){a=this.Fh.indexOf(a);z.assert(-1 !== a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Fh.splice(a,1);};b.prototype.m3=function(a){var b;null === (b=this.XE) || void 0 === b?void 0:b.Yq(a);};b.prototype.Gx=function(a){this.Xi?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0 !== a.location && this.WXa(a.I,a.location);};b.prototype.kK=function(a){this.Xi?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.Do.I5({timestamp:a.md,url:a.url});};b.prototype.Jj=function(a){var b;null === (b=this.XE) || void 0 === b?void 0:b.Tx(a);z.assert(this.bn && this.cK,"Requests cannot be handled on old architecture prefetch viewables.");this.Xi?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):this.bn() || (this.Do.I5({timestamp:a.md,mediaRequest:a}),this.cK(a));};b.prototype.bS=function(a,b,f){var c;f && (null === (c=this.XE) || void 0 === c?void 0:c.Tx(a));};b.prototype.cS=function(a){var b;if(this.Xi)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else {b=a.qg;this.config.syb && b === u.Kk.UF.l8 && 0 < a.Pe && (b=u.Kk.UF.M6);this.Do.pq({url:a.url},a.status,b,a.ni);this.Dq() || this.Bg(a.ED || "unknown","NFErr_MC_StreamingFailure",a.qg,a.status,a.ni);}};b.prototype.l1a=function(a,b){this.rFa[a]=b.vma;};b.prototype.wyb=function(a){var b,f,c;z.assert(this.qJ,"Error handling not available on old architecture prefetch viewables.");if(!this.Ll){b=a.cBb;f=a.BHb;c=a.CHb;a=a.DHb;this.console.warn("Streaming failure, isBuffering " + this.qJ() + " is permanent: " + b + ", last error code: " + f + ", last http code: " + c + ", last native code: " + a);b?(this.console.warn(" > Permanent failure, done"),this.Bg("Permanent failure","NFErr_MC_StreamingFailure",f,c,a)):this.qJ()?(this.console.warn(" > We are buffering, calling it!"),this.Bg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,c,a)):(this.console.warn(" > Resetting failures"),this.Do.n4());}};b.prototype.vyb=function(){z.assert(this.Xp,"Error handling not available on old architecture prefetch viewables.");this.Ll || (this.Dq(),this.Xp());};return b;})(d.Is);b.pU=a;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.qMa=b.JD=b.Xm=b.rOa=b.B0=void 0;c=a(5);k=a(139);b.B0=function(a,b){return !(1 !== a || !b.xI) || 0 === a;};b.rOa=function(a,b,f,c){a=a.Yl(b,void 0,!0);f && (a=Math.floor(a / c) * c);return a;};b.Xm=function(a,d,f,q,l,u){var m,h,z,g;k.Cl.Jo(a);c.assert(f.aa,"findFirstFragment called without stream fragments");m=f.aa;h=b.B0(a,d);0 === a && !u && d.yj && !d.mz && f.ed && (q=Math.max(f.aa.ij(0),q + f.ed.ka));z=b.rOa(m,q,f.O.gRa(a),4);g=f.Wi(z);if(g.qa < q)return g;h && ((h=g.F_(q))?(0 < h.tn && g.gj({start:h.tn}),0 !== a || d.z2 || (0 > h.Hc && g.gj({start:h.tn}),h.Hc < (d.yj && !d.mz && f.ed?Math.floor(f.ed.ka):0) && g.OP())):q >= g.qa && z < m.length - 1 && (g=f.Wi(z + 1)));1 === a && l && g.qa === l && z < m.length - 1 && (g=f.Wi(z + 1));0 === a && !g.Ja && (d.SQ || d.VQa || d.brb) && u && g.gj({});g.bT(q);return g;};b.JD=function(a,c,f,d,l,u,t){var q;k.Cl.Jo(a);q=f.aa;void 0 === d && (d=q.qa);if(l && (l=l.$sb(f,d,a,c,u)))return l;l=q.za;t=d?d + b.qMa(a,l,c.ns,t):q.fha(q.length - 1);q=q.Yl(t,void 0,!0);l=f.Wi(q);0 === q || l.T !== d || 1 !== a && c.ns || (--q,l=f.Wi(q));b.B0(a,c)?(t=1 === a?t:d,t < l.qa && ((u=l.itb(t)) && 0 !== u.tn?l.gj({end:u.tn}):0 === a && (u || t < l.T) && 0 !== q?l=f.Wi(q - 1):1 === a && u && 0 !== q && (l=f.Wi(q - 1))),0 !== a || l.Ja || !c.SQ && !c.UQa || l.gj()):0 === a && !c.ns && d - l.T < l.duration / 2 && 0 !== q && (l=f.Wi(q - 1));l.bT(d);return l;};b.qMa=function(a,b,f,c){var l;return 1 === a || c?0:f?null !== (l=null === b || void 0 === b?void 0:b.ka) && void 0 !== l?l:0:b?-b.ka:0;};},function(d,b,a){var r,Y,Q,qa,va,ga,ba,S,Aa,Na,Pa,Ba,ia,Ha,Za,Wa,F,Ma,fb,lb,$a,Z,O,sc,Mb,N,P,T,V,X,ea;function c(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function k(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function h(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function m(a,b,f,c,l){qa.call(this,a,b,f,c,l);this.Lqa=a.config.Lqa;this.Sd=this.sizes=void 0;}function f(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function q(){for(var a=new DataView(this),b="",f,c=0;c < this.byteLength;c++){f=a.getUint8(c);b+=("00" + f.toString(16)).slice(-2);}return b;}function l(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function u(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function t(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function x(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function z(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function g(a){function b(b,f,c,l,d){qa.call(this,b,f,c,l,d);this.hUa=a;}b.Bc=!1;b.prototype=new qa();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Pua:{get:function(){return this.hUa;}}});b.prototype.parse=function(){this.M.console.trace("renaming '" + this.type + "' to draft type '" + this.hUa + "'");this.M.offset=this.startOffset + 4;this.hb.m2a(this.Pua);this.type=this.Pua;return !0;};return b;}function B(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function L(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function I(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function E(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function da(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function W(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function n(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function M(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function D(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function p(a,b,f,c,l){qa.call(this,a,b,f,c,l);}function ka(a,b){a.forEach(function(a){b[a.Ye]=a;});}r=a(141).assert;b=a(91);Y=a(236).U;Q=a(387);a(142);a(78);a(78);a(78);qa=a(28).jg;va=a(846)["default"];ga=a(847)["default"];ba=a(848)["default"];S=a(849)["default"];Aa=a(850)["default"];Na=a(851)["default"];Pa=a(852)["default"];Ba=a(853)["default"];ia=a(854)["default"];a(237);a(168);Ha=a(388).v2a;Za=a(388).I5a;Wa=a(855)["default"];F=a(856)["default"];Ma=a(92)["default"];fb=a(92).R2a;lb=a(92).S2a;$a=a(92).T2a;Z=a(92).U2a;O=a(857)["default"];sc=a(858)["default"];Mb=a(92).D6a;N=a(92).y6a;P=a(859)["default"];T=a(860)["default"];V=a(861)["default"];X=a(389)["default"];ea=a(390)["default"];a(143);a(240);a(241);a(239);a=a(862)["default"];c.Bc=!0;c.prototype=new qa();c.prototype.constructor=c;k.Bc=!0;k.prototype=new qa();k.prototype.constructor=k;h.Bc=!1;h.prototype=new qa();h.prototype.constructor=h;h.prototype.parse=function(){var a;this.dg();1 === this.version?(this.M.Lj(),this.M.Lj(),this.P=this.M.Nb(),this.duration=this.M.Lj()):(this.M.Nb(),this.M.Nb(),this.P=this.M.Nb(),this.duration=this.M.Nb());a=this.M.vh() & 32767;this.language=String.fromCharCode(96 + (a >>> 10),96 + (a >>> 5 & 31),96 + (a & 31));return !0;};m.Bc=!1;m.prototype=new qa();m.prototype.constructor=m;m.prototype.oeb=function(){this.dg();this.M.Nb();this.P=this.M.Nb();0 === this.version?(this.SLa=this.M.Nb(),this.eNa=this.M.Nb()):(this.SLa=this.M.Lj(),this.eNa=this.M.Lj());this.AMb=this.M.vh();this.AXa=this.M.vh();};m.prototype.rbb=function(a,b){var f,c,l;f=this.P;a=a && a.P || f;c=a / f;f=this.M.X3(b,12,!1);l=1 === c?this.M.X3(b,12,!1):Q.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.M.Nb() * c);this.M.offset+=8;return a;},this);this.Rfb(b,l,f,a);};m.prototype.Rfb=function(a,b,f,c){if(this.Lqa){c=this.Lqa * c / 1E3;for(var l=0,d=1;d < a;d++){Math.abs(b[l] - c) > Math.abs(b[l] + b[d] - c)?(b[l]+=b[d],f[l]+=f[d]):(++l,l !== d && (b[l]=b[d],f[l]=f[d]));}++l;b=new Uint32Array(b.buffer.slice(0,4 * l));f=new Uint32Array(f.buffer.slice(0,4 * l));}this.sizes=f;this.Sd=b;};m.prototype.parse=function(a){var b,f,c,l;this.oeb();this.za=a.za;b=this.P;f=this.za && this.za.P || b;c=this.AXa;l=this.startOffset + this.length + this.eNa;b=new Y(this.SLa,b).ze(f).rb;this.aa={P:f,Ek:b,offset:l};this.rbb(this.za,c);this.aa.Sd=this.Sd;this.aa.sizes=this.sizes;a.ws=this;return !0;};f.Bc=!1;f.prototype=new qa();f.prototype.constructor=f;f.prototype.parse=function(){var a;this.mB=[];this.AIb=[];a=(this.length - 11) / 2;this.M.Fd();this.M.Fd();this.M.Fd();for(var b=0;b < a;b++){this.mB.push(this.M.Fd());this.AIb.push(this.M.Fd());}return !0;};l.Bc=!1;l.prototype=new qa();l.prototype.constructor=l;l.prototype.parse=function(){this.dg();this.M.offset+=4;this.NRa=this.M.offset;this.fq=this.M.NKb();this.fq.toString=q;return !0;};u.Bc=!1;u.prototype=new qa();u.prototype.constructor=u;u.prototype.parse=function(){this.dg();this.Co=this.M.vh();this.iEb=this.M.X3(this.Co,void 0,!0);return !0;};t.Bc=!1;t.prototype=new qa();t.prototype.constructor=t;t.prototype.parse=function(a){var b,f,c,l,d,q;l=a.ws;r(l);a=a.za;b=l.P;l=l.AXa;r(a);r(b);r(l);this.dg();r(2 > this.version);this.Co=this.M.vh();this.tK=new Uint16Array(l + 1);f=a.yPa(b);d=f / b;q=a.ze(f).rb;if(0 === this.version)for((this.LK=new Uint16Array(),this.uh=new Uint32Array(),a=b=0);a <= l;++a){if((this.tK[a]=b,a < this.Co && (c=this.M.Fd(),0 !== c)))for(f=0;f < c;(++f,++b)){this.LK[b]=Math.floor((this.M.Nb() + 1) * d) / q;this.uh[b]=this.M.Nb();}}else if(1 === this.version)for((f=this.M.LKb(this.Co),this.M.offset+=4,this.uh=this.M.X3(this.Co,10,!1),this.M.offset-=8,this.LK=Q.from(Uint16Array,{length:this.Co},function(){var a;a=Math.floor((this.M.Nb() + 1) * d) / q;this.M.offset+=6;return a;},this),b=a=0);a <= l;++a){for(;b < f.length && f[b] < a;){++b;}this.tK[a]=b;}this.Ri={tK:this.tK,LK:this.LK,uh:this.uh};return !0;};x.Bc=!0;x.prototype=Object.create(c.prototype);x.prototype.constructor=x;z.Bc=!0;z.prototype=Object.create(c.prototype);z.prototype.constructor=z;z.prototype.II=function(){var a;a=this.Bs("tfhd");a && (this.nw=a.wIa?a.nw:this.parent.startOffset);return !0;};B.Bc=!1;B.prototype=new qa();B.prototype.constructor=B;B.prototype.parse=function(){var a,h,u,f,l;a=this.M.offset;this.dg();if(1 === this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var b=this.M.offset,f=this.M.Fd(),c=this.M.Fd(),l=this.M.Fd(),d=this.M.Fd(),q=this.M.vh(),m=[],h=0;h < q;++h){m=this.M.Fd();}h=(f & 240) >>> 4;u=(f & 14) >>> 1;f=f & 1;l=16 === l?1:0;c != d && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + c + " and matrixCoefficients " + d + " should be the same value!");d=2;switch(c){case 1:d=2;break;case 6:d=1;break;case 9:d=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + c + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.hb.g6(this.version,a);this.hb.g6(h << 4 | d,b++);this.hb.g6(u << 4 | l << 1 | f,b++);q+=2;m.push(0,0);this.hb.cVb(q);b+=2;m.forEach(function(a){this.hb.g6(a,b++);});}return !0;};L.Bc=!1;L.prototype=new qa();L.prototype.constructor=L;L.Ye="tfhd";Object.defineProperties(L.prototype,{wIa:{get:function(){return this.Oh & 1;}},fNb:{get:function(){return this.Oh & 2;}},wpb:{get:function(){return this.Oh & 8;}},zpb:{get:function(){return this.Oh & 16;}},xpb:{get:function(){return this.Oh & 32;}}});L.prototype.parse=function(){this.dg();this.Hra=this.M.Nb();this.nw=this.wIa?this.M.Lj():void 0;this.fNb && this.M.Nb();this.NZ=this.wpb?this.M.Nb():void 0;this.PZ=this.zpb?this.M.Nb():void 0;this.OZ=this.xpb?this.M.Nb():void 0;return !0;};I.Bc=!1;I.prototype=new qa();I.prototype.constructor=I;I.prototype.parse=function(){this.dg();this.TY=1 === this.version?this.M.Lj():this.M.Nb();return !0;};I.prototype.Ja=function(a){var b;b=this.startOffset + 12;this.TY+=a;1 === this.version?this.hb.dVb(this.TY,b):this.hb.Eq(this.TY,b);};E.Bc=!1;E.prototype=new qa();E.prototype.constructor=E;Object.defineProperties(E.prototype,{UKa:{get:function(){return this.Oh & 1;}},Sha:{get:function(){return this.Oh & 4;}},w4:{get:function(){return this.Oh & 256;}},x4:{get:function(){return this.Oh & 512;}},CYa:{get:function(){return this.Oh & 1024;}},Vpa:{get:function(){return this.Oh & 2048;}}});E.prototype.parse=function(){this.dg();this.GIa=this.M.offset;this.ye=this.M.Nb();this.Fw=this.UKa?this.M.cpa():0;this.Sha && this.M.Nb();this.LS=(this.w4?4:0) + (this.x4?4:0) + (this.CYa?4:0) + (this.Vpa?4:0);this.K_=this.M.offset;r(this.UKa,"Expected data offset to be present in Track Run");r(this.length - (this.M.offset - this.startOffset) === this.ye * this.LS,"Expected remaining data in box to be sample information");return !0;};E.prototype.hO=function(a,b,f){var c,l,d;c=this.w4?this.M.Nb():a.NZ;l=this.x4?this.M.Nb():a.PZ;a=this.CYa?this.M.Nb():a.OZ;d=0 === this.version?this.Vpa?this.M.Nb():0:this.Vpa?this.M.cpa():0;return {eNb:d,X5b:a,I5b:f + d - (void 0 !== b?b:d),Xx:l,MS:c};};E.prototype.Ja=function(a,b,f,c,l,d,q){var m,h,u,t;m=0;h=0;this.hb.offset=this.K_;for(c=0;c < l;++c){t=this.hO(b,u,h);0 == c && (u=t.eNb);m+=t.Xx;h+=t.MS;}c=l;l=this.M.offset;t=this.hO(b,u,h);this.gL=c;this.WPb=h;if(q){if((this.EK=this.Fw + m,this.ms=0,c === this.ye))return !0;}else if((this.EK=this.Fw,this.ms=m,0 === c))return !0;if(0 === c || c === this.ye)return !1;this.g_=!0;if(q){this.ms+=t.Xx;for(q=c + 1;q < this.ye;++q){t=this.hO(b,u,h);this.ms+=t.Xx;}this.hb.offset=this.GIa;this.ye=c;this.hb.Eq(this.ye);this.hb.Asa(d);this.Sha && (this.M.offset+=4);this.ql(this.length - (l - this.startOffset),l);}else (b=l - this.K_,this.hb.offset=this.GIa,this.ye-=c,this.hb.Eq(this.ye),this.Fw+=m,this.hb.Asa(d,this.Fw),this.Sha && (this.M.offset+=4),this.ql(b,this.hb.offset));f.ql(this.ms,a.nw + this.EK);return !0;};E.prototype.gMb=function(a,b,f,c,l,d){var m;if(c){c=this.EK;for(var q=this.ye - 1;0 <= q && this.ye - q <= l;--q){this.hb.offset=this.K_ + q * this.LS;m=this.hO(b);if(m.MS != d.duration){this.M.console.warn("Could not replace sample of duration " + m.MS + " with silence of duration " + d.duration);break;}if(this.x4)(this.hb.offset-=this.LS - (this.w4?4:0),this.hb.Eq(d.Yx.byteLength));else if(d.Yx.byteLength !== m.Xx){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}c-=m.Xx;f.g4(m.Xx,d.Yx,a.nw + c);}}else for((c=this.EK + this.ms,q=0);q < this.ye && q < l;++q){this.hb.offset=this.K_ + (q + this.gL) * this.LS;m=this.hO(b);if(m.MS != d.duration){this.M.console.warn("Could not replace sample of duration " + m.MS + " with silence of duration " + d.duration);break;}if(this.x4)(this.hb.offset-=this.LS - (this.w4?4:0),this.hb.Eq(d.Yx.byteLength));else if(d.Yx.byteLength !== m.Xx){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}f.g4(m.Xx,d.Yx,a.nw + c);c+=m.Xx;}};da.Bc=!1;da.prototype=Object.create(qa.prototype);da.prototype.constructor=da;Object.defineProperties(da.prototype,{WC:{get:function(){return this.Oh & 1;}}});da.prototype.parse=function(){this.dg();this.WC && this.M.QA();this.WC && this.M.Nb();this.ypb=this.M.Fd();this.ye=this.M.Nb();this.M.Y3(this.ye);return !0;};da.prototype.Ja=function(a,b){if(a && 0 === this.ypb){a=b?this.ye - a:a;this.hb.offset=this.startOffset + 13 + (this.WC?8:0);this.ye-=a;this.hb.Eq(this.ye);this.Tpa=0;if(b)this.hb.offset+=this.ye;else {for(b=0;b < a;++b){this.Tpa+=this.hb.Fd();}this.hb.offset-=a;}this.ql(a,this.M.offset);}return !0;};W.Bc=!1;W.prototype=Object.create(qa.prototype);W.prototype.constructor=W;Object.defineProperties(W.prototype,{WC:{get:function(){return this.Oh & 1;}}});W.prototype.parse=function(){this.dg();this.WC && this.M.QA();this.WC && this.M.Nb();this.Co=this.M.Nb();r(1 === this.Co,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Fw=0 === this.version?this.M.cpa():this.M.TKb();return !0;};W.prototype.Ja=function(a,b){this.Fw+=a;this.hb.offset=this.startOffset + 16 + (this.WC?8:0) + (0 === this.version?0:4);this.hb.Asa(b,this.Fw);return !0;};n.Bc=!1;n.prototype=Object.create(qa.prototype);n.prototype.constructor=n;Object.defineProperties(n.prototype,{pVa:{get:function(){return this.Oh & 1;}},cUb:{get:function(){return this.Oh & 2;}}});n.prototype.parse=function(){this.dg();this.pVa && (this.M.Nb(),this.M.Y3(16));this.ye=this.M.Nb();return !0;};n.prototype.Ja=function(a,b){var f,c;f=b?this.ye - a:a;this.hb.offset=this.startOffset + 28 + (this.pVa?20:0);this.ye-=f;this.hb.Eq(this.ye);a=this.hb.offset;if(this.cUb)for(f=b?this.ye:f;0 < f;--f){this.hb.offset+=8;c=this.hb.vh();this.hb.offset+=6 * c;}else this.hb.offset+=8 * (b?this.ye:f);b?this.ql(this.length - (this.M.offset - this.startOffset),this.M.offset):this.ql(this.M.offset - a,a);};M.Bc=!1;M.prototype=Object.create(qa.prototype);M.prototype.constructor=M;M.prototype.parse=function(){this.dg();return !0;};M.prototype.Ja=function(a,b,f){f?this.ql(b - a,this.startOffset + 12 + a):this.ql(a,this.startOffset + 12);return !0;};D.Bc=!1;D.prototype=Object.create(qa.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.dg();this.M.QA();1 === this.version && this.M.Nb();this.Co=this.M.Nb();this.NS=[];for(var a=0;a < this.Co;++a){for(var b=this.M.Nb(),f=this.M.Nb(),c=0;c < b;++c){this.NS.push(f);}}return !0;};D.prototype.Ja=function(a,b){this.NS=b?this.NS.slice(0,a):this.NS.slice(a);a=this.NS.reduce(function(a,b){0 !== a.length && a[a.length - 1].group === b || a.push({group:b,count:0});++a[a.length - 1].count;return a;},[]);this.hb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.hb.Eq(a.length);a.forEach((function(a){this.hb.Eq(a.count);this.hb.Eq(a.group);}).bind(this));this.Co > a.length && this.ql(8 * (this.Co - a.length));this.Co=a.length;return !0;};p.Bc=!1;p.prototype=Object.create(qa.prototype);p.prototype.constructor=p;Ma={Zc:{moov:k,trak:c,mdia:c,mdhd:h,minf:c,encv:Ma,schi:c,sidx:m,sinf:c,stbl:c,tenc:l,mvex:c,moof:x,traf:z,tfhd:L,trun:E,sbgp:D,sdtp:M,saiz:da,saio:W,tfdt:I,mdat:p,vmaf:f},xSb:{vpcC:B,SmDm:g("smdm"),CoLL:g("coll")},I0a:{schm:O},Upa:{}};ka([sc,Na,Pa,Ba,Mb,N,va,S,X,ea,Aa,ia,ga,ba,a],Ma.Zc);ka([Ha,Wa,fb,lb,$a,Z,Za,F,T,P],Ma.Upa);ka([sc,O],Ma.I0a);Ma.Zc[b.Gza]=l;Ma.Zc[b.JV]=u;Ma.Zc[b.IV]=t;Ma.Zc[b.Fza]=n;Ma.Upa[b.x9]=V;Ma.jg=qa;d.W={ZJ:Ma};},function(d,b){function a(a,b){return "number" !== typeof a || "number" !== typeof b?!1:a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function b(a,b){"object" === typeof a?(this.Et=a.rb,this.Pl=a.P):(this.Et=a,this.Pl=b);}b.tHb=function(a){return new b(1,a);};b.ad=function(a){return new b(a,1E3);};b.Dra=function(a,b){return Math.floor(1E3 * a / b);};b.bna=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.eia=function(d,m){var f;if(d.P === m.P)return new b(c(d.rb,m.rb),d.P);f=a(d.P,m.P);return b.eia(d.ze(f),m.ze(f));};Object.defineProperties(b.prototype,{rb:{get:function(){return this.Et;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.Pl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{ka:{get:function(){return 1E3 * this.Et / this.Pl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{zh:{get:function(){return this.Et / this.Pl;},enumerable:!0,configurable:!0}});b.prototype.ze=function(a){a/=this.P;return new b(Math.floor(this.rb * a),Math.floor(this.P * a));};b.prototype.add=function(c){var d;if(this.P === c.P)return new b(this.rb + c.rb,this.P);d=a(this.P,c.P);return this.ze(d).add(c.ze(d));};b.prototype.Ia=function(a){return this.add(new b(-a.rb,a.P));};b.prototype.sE=function(a){return new b(this.rb * a,this.P);};b.prototype.Qp=function(b){var c;if(this.P === b.P)return this.rb / b.rb;c=a(this.P,b.P);return this.ze(c).Qp(b.ze(c));};b.prototype.yPa=function(b){return a(this.P,b);};b.prototype.xXa=function(){return new b(this.P,this.rb);};b.prototype.compare=function(b,c){var f;if(this.P === c.P)return b(this.rb,c.rb);f=a(this.P,c.P);return b(this.ze(f).rb,c.ze(f).rb);};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.a3=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.zJ=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.Ko=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.toJSON=function(){return {ticks:this.rb,timescale:this.P};};b.prototype.toString=function(){return this.rb + "/" + this.P;};b.sb=new b(0,1);b.jl=new b(1,1E3);return b;})();b.U=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.offset+=6;this.M.vh();return !0;};return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(143),b);d.__exportStar(a(239),b);d.__exportStar(a(240),b);d.__exportStar(a(241),b);d=a(240);c=a(241);a=a(239);b.pI={3:a.Gva,4:d.Zua,5:c.x5a};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.vh();a=this.M.Fd();this.GQb=! !(a & 128);this.gab=! !(a & 64);this.Q8a=! !(a & 32);this.GQb && this.M.vh();this.gab && this.M.Y3(this.M.Fd());this.Q8a && this.M.vh();this.bGa();return !0;};b.tag=3;return b;})(a(143).i7);b.Gva=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.tGb=this.M.Fd();this.M.Fd();this.M.vh();this.M.Fd();this.fm=this.M.Nb();this.wib=this.M.Nb();this.bGa();return !0;};b.tag=4;return b;})(a(143).i7);b.Zua=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(143);k=a(238);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.nXa=function(){15 !== this.M.cg(4) || this.M.cg(24);};b.prototype.parse=function(a){if(this.HAb(a) && 64 === a.tGb)switch((this.TC=this.fXa(),this.nXa(),this.M.cg(4),this.psb=5 === this.TC || 29 === this.TC?5:-1,0 < this.psb && (this.nXa(),this.TC=this.fXa(),22 === this.TC && this.M.cg(4)),this.TC)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.zNa=this.M.cg(1),(this.Ipb=this.M.cg(1)) && this.M.cg(14),this.M.cg(1),this.V_=3 === this.TC?256:23 === this.TC?this.zNa?480:512:this.zNa?960:1024);}this.skip();return !0;};b.prototype.fXa=function(){var a;a=this.M.cg(5);31 === a && (a=32 + this.M.cg(6));return a;};b.prototype.HAb=function(a){return a.tag === k.Zua.tag;};b.tag=5;return b;})(d.i7);b.x5a=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.tB=void 0;d=a(39);a=a(120);c=(function(){function a(a,b){this.xp=a;this.PG=b.Wa;this.pt=b.nb;}Object.defineProperties(a.prototype,{Wa:{get:function(){return void 0 !== this.PG?this.PG:this.xp.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nb:{get:function(){return void 0 !== this.pt?this.pt:this.xp.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.xp.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ck:{get:function(){return this.xp.Ck;},enumerable:!1,configurable:!0}});a.prototype.ZS=function(a){this.pt=a;};a.prototype.dfa=function(){this.pt=void 0;};return a;})();b.tB=c;d.Ue(a.uB,c);d.Ue(a.qB,c);},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.WL=void 0;c=a(0);d=a(106);k=a(79);h=a(169);a=(function(a){function b(b,f,c,d,m,k,g){f=a.call(this,b,f,c,d,m,k,g) || this;h.jy.call(f,b,d);return f;}c.__extends(b,a);return b;})(k.rB);b.WL=a;d(h.jy.prototype,a.prototype);},function(d,b,a){b=a(874);d.W=b;},function(d,b,a){var c,k,h,m,f,q,l,u,t;Object.defineProperty(b,"__esModule",{value:!0});b.nU=void 0;c=a(0);a(5);d=a(39);k=a(246);h=a(70);m=a(79);f=a(24);q=a(106);l=a(3).Kk;u=a(892);a=a(893);t=(function(a){function b(b,f,c,d,q,m,u){var b00,t;b00=2;for(;b00 !== 6;){switch(b00){case 7:return t;break;case 3:void 0 === c.responseType && (c.responseType=c.Ja || l.Rb && !l.Rb.KK.cC?0:1);t=a.call(this,b,f,t,c,d,m,u) || this;h.Bh.call(t,b,c);b00=7;break;case 2:var i8e="e";i8e+="d";i8e+="i";i8e+="t";var g8e="c";g8e+="a";g8e+="c";g8e+="h";g8e+="e";var J8e="1";J8e+="SIYb";J8e+="Zr";J8e+="NJCp9";t=this;J8e;t=[g8e,i8e].filter(function(a,b){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:return [q,c.Ja][b];break;}}});t=t.length?"(" + t.join(",") + ")":"";b00=3;break;}}}var a00;a00=2;for(;a00 !== 3;){switch(a00){case 2:c.__extends(b,a);b.create=function(a,c,d,q,h,t,x){var d00,z,g,B;d00=2;for(;d00 !== 19;){switch(d00){case 10:return h;break;case 20:return new b(a,d,q,h,t,c,x);break;case 1:return new u.bta(a,d,q,h,t,c,x);break;case 6:d00=0 < g?14:10;break;case 4:z=Math.ceil(q.$ / q.kE);t=q.offset;g=q.$;d00=8;break;case 8:h=new k.pB(a,q,h,c,x);d00=7;break;case 14:B={offset:t,$:Math.min(g,z),responseType:q.responseType};t+=B.$;g-=B.$;d00=11;break;case 11:var b8e="sub";b8e+="r";b8e+="equest";h.push(new m.rB(a,d,b8e,B,h,c,x));d00=6;break;case 7:z=Math.ceil(q.$ / z);d00=6;break;case 2:d00=!c.Cg && q.Ja && a.I === f.Sa.VIDEO && l.Rb && l.Rb.KK.cC?1:5;break;case 5:d00=q.kE && q.$ > q.kE?4:20;break;}}};a00=5;break;case 5:b.prototype.toString=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return m.rB.prototype.toString.call(this) + ":" + h.Bh.prototype.toString.call(this);break;}}};return b;break;}}})(m.rB);b.nU=t;q(a["default"],t.prototype);d.Ue(h.Bh,t,!1);},function(d,b,a){var c,k,h,m,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.pB=void 0;c=a(0);k=a(106);h=a(5);d=a(39);m=a(10);f=a(37);q=a(399);l=a(70);u=a(79);a=(function(a){function b(b,f,c,d,q){c=a.call(this,b,f,c,d,q) || this;l.Bh.call(c,b,f);c.qc=0;c.Ja || c.gj();c.ee=!1;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{dc:{get:function(){return !1;},enumerable:!1,configurable:!0}});b.prototype.push=function(b){this.qc+=b.$;a.prototype.push.call(this,b);};b.prototype.Lr=function(){var a;return !this.ee && ! !this.va.length && !(null === (a=f.kh(this.va,function(a){return !a.ee;})) || void 0 === a || !a.Lr());};b.prototype.RC=function(a,b){var f,c;h.assert(!this.ee);f=u.Bi.E8a;c=m.fl(this);this.ee=this.va.every(function(l){if(l.ee)return !0;if(!l.Lr())return !1;f=l.RC(a,b,void 0,void 0,void 0,void 0,c).status;return f === u.Bi.hv;});f !== u.Bi.hv || this.ee || (f=u.Bi.X8a);return {status:f};};b.prototype.JLb=function(){this.va.forEach(function(a){a.DS();});};b.prototype.kk=function(){return this.va?this.va[0].kk() + "-" + this.va[this.va.length - 1].kk():"empty";};b.prototype.toString=function(){return l.Bh.prototype.toString.call(this) + "(aggregate)";};b.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);k(l.Bh.prototype.toJSON.call(this),b);return b;};return b;})(q.q6);b.pB=a;d.Ue(l.Bh,a);},function(d,b,a){var c,k,h,m,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.W9a=b.qU=void 0;c=a(0);d=a(16);k=a(173);h=a(25);m=a(3);f=a(10);a=a(39);q=m.Promise;l=(function(){function a(a,b){this.console=a;this.gg=b;this.tdb=this.BN=0;this.Sf=[];this.console=f.tx(m,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{Jpb:{get:function(){return this.BN;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YJa:{get:function(){var a,b,f;for(b=0;b < this.Sf.length;b++){f=this.Sf[b];if(!f.VQ || (null === (a=f.item) || void 0 === a?0:a.done))break;}return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.gg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gx:{get:function(){return 0 === this.gg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Dpa:{get:function(){var a;for(a=0;a < this.Sf.length && this.Sf[a].dla;a++){;}return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=c.__read(this.Sf,1)[0];return (a=a && a.item) && !a.done && a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jna:{get:function(){var a;for(a=0;a < this.Sf.length && this.Sf[a].VQ;a++){;}return a;},enumerable:!1,configurable:!0}});a.prototype.o_=function(){var a;if(void 0 === this.gg){a=this.console;h.sa && a && a.trace("QueueIterator: enqueueEnd");this.csa(this.jna - (this.gg || 0));}};a.prototype.Cn=function(){return this.Sf.map(function(a){return a.item;});};a.prototype.Fra=function(){return this.Sf.filter(function(a){return (null === a || void 0 === a?void 0:a.item) && !a.item.done;}).map(function(a){return a.item.value;});};a.prototype.csa=function(a){var b;h.sa && this.console.trace("updateCount",{n5b:this.gg,nI:a});if(void 0 !== this.gg){b=this.Sf[this.gg];b && this.Mka(b);}this.gg=void 0 === this.gg?a:void 0 === a?a:this.gg + a;void 0 !== this.gg && (this.gg=Math.max(0,this.gg),(b=this.Sf[this.gg]) && b.tJ.resolve({done:!0}));};a.prototype.enqueue=function(a){h.sa && this.console.trace("Enqueue called");return this.rKb(this.jna,{value:a,done:!1}).pLa.Fu;};a.prototype.Gpa=function(){h.sa && this.console.trace("resetEnd");this.csa(void 0);};a.prototype.clear=function(a){var b,f,c;h.sa && this.console.trace("clear");this.WWa();b=this.Dpa;f=this.Sf.length - b;if(0 < f){c={index:b,zna:f};h.sa && this.console.trace("Removing items",c);this.Sf.splice(b,f);this.emit("onRemoved",c);}for(f=1;f < b;f++){this.Mka(this.Sf[f]);}this.gg=void 0;this.csa(a?a + b:a);this.BN && (this.BN=0);};a.prototype.yOa=function(){var a,b;a=this;b=f.tx(m,this.console,"QueueIteratorInstance::");return new u(this,function(b){return a.ROa(b);},b);};a.prototype.oI=function(){var a;if(0 < this.Dpa){a=c.__read(this.Sf,1)[0];if(a.VQ)return (h.sa && this.console.trace("dequeue",a.id),this.WWa(1),this.emit("onDequeue",a.tJ.Fu));}};a.prototype.remove=function(a){var b,f,c;for(b=0;b < this.Sf.length;b++){f=this.Sf[b];c=f.item;if(c && !c.done && c.value === a){this.Sf.splice(b,1);h.sa && this.console.trace("removed",{id:f.id});this.emit("onRemoved",{index:b,zna:1});break;}}};a.prototype.WWa=function(a){var b;a=a || Math.min(this.Dpa,this.jna);if(0 < a){b=this.Sf.splice(0,a);this.gg && (this.gg-=a);h.sa && this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.pLa.resolve();});},0);this.emit("onRemoved",{index:0,zna:a});this.BN+=a;}};a.prototype.ROa=function(a){var b;h.sa && this.console.trace("getNextItemCalled",{offset:a});if(void 0 === this.count || 0 < this.count){this.HQa(a);b=this.Sf[a];b.uMb.resolve();a=b.tJ.Fu;h.sa && this.console.trace("getNextItem:return",{id:b.id});}else (h.sa && this.console.trace("getNextItem:returnDone"),a=q.resolve({done:!0}));return a;};a.prototype.rKb=function(a,b){var f;f=!b.done && b.value;f=f && f.toJSON?f.toJSON():f;h.sa && this.console.trace("Providing result",{Ahb:a,item:f});this.HQa(a);a=this.Sf[a];f=a.tJ.resolve;f(b);return a;};a.prototype.HQa=function(a){var b;if(void 0 === this.Sf[a]){b={};this.Mka(b);this.Sf[a]=b;a === this.gg && b.tJ.resolve({done:!0});h.sa && this.console.trace("Item initialized",{Ahb:a});}};a.prototype.Qfa=function(a){var b;b={};b.Fu=new q(function(f,c){b.resolve=function(b){f(b);a && a(b);};b.reject=c;});return b;};a.prototype.Mka=function(a){var b;b=this;a.tJ=this.Qfa(function(f){a.item=f;a.VQ=!0;h.sa && b.console.trace("Item resolved",{id:a.id});});a.id && a.dla && !a.VQ && (a.tJ.resolve({done:!0}),h.sa && this.console.warn("Overwriting requested queue item",a.id));a.pLa=this.Qfa();a.uMb=this.Qfa(function(){a.dla=!0;h.sa && b.console.trace("Item requested",{id:a.id});});a.id=this.tdb++;a.dla=!1;a.VQ=!1;a.item=void 0;};a.prototype.yub=function(){var a,b;a=this;b=new k.vB(function(){var f,c;if(0 === a.count)return k.vB.yja();f=a.ROa(0);c=a.Sf[0];f.then(function(){b.nJ || c === a.Sf[0] && a.oI();});return f;});return b;};return a;})();b.qU=l;a.Ue(d.EventEmitter,l);u=(function(a){function b(b,f,c){var l;l=a.call(this,function(){h.sa && l.console.trace("Next item requested",{index:l.index});return l.VMb(l.index++);}) || this;l.parent=b;l.VMb=f;l.console=c;l.cH=!1;l.index=0;l.Uba=!1;l.TUa=function(a){var b;b=a.index;a=a.zna;l.index >= b && (l.index=Math.max(b,l.index - a));b=l.console;h.sa && b && b.trace("QueueIteratorInstance: onRemoved modified",l.index);};return l;}c.__extends(b,a);b.prototype.Ng=function(){this.console.trace("disposed");this.cH=!0;this.ac();a.prototype.Ng.call(this);};b.prototype.next=function(){this.nJ || this.lJ();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.ac();return a.prototype.cancel.call(this);};b.prototype.ac=function(){this.parent.gK("onRemoved",this.TUa);this.Uba=!1;};b.prototype.lJ=function(){this.Uba || (this.Uba=!0,this.parent.on("onRemoved",this.TUa));};return b;})(k.vB);b.W9a=u;},function(d,b,a){var k;function c(a,b){return a < b?-1:a > b?1:0;}Object.defineProperty(b,"__esModule",{value:!0});b.DV=void 0;k=a(0);d=(function(){function a(a,b){this.data=null !== a && void 0 !== a?a:[];this.compare=null !== b && void 0 !== b?b:c;if(!this.empty)for(a=(this.length >> 1) - 1;0 <= a;a--){this.rEa(a);}}Object.defineProperties(a.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.data.push(a);this.GGa(this.length - 1);};a.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty || (this.data[0]=b,this.rEa(0));return a;}};a.prototype.Cu=function(){return this.data[0];};a.prototype.YJb=function(a){a=this.data.indexOf(a);-1 !== a && this.GGa(a);};a.prototype.map=function(a){return this.data.map(a);};a.prototype.find=function(a){return k.__read(this.data.filter(a),1)[0];};a.prototype.clear=function(){this.data=[];};a.prototype.remove=function(a){a=this.data.indexOf(a);-1 !== a && this.data.splice(a,1);};a.prototype.GGa=function(a){for(var b=this.data,c=this.compare,l=b[a],d,m;0 < a;){d=a - 1 >> 1;m=b[d];if(0 <= c(l,m))break;b[a]=m;a=d;}b[a]=l;};a.prototype.rEa=function(a){for(var b=this.data,c=this.compare,l=this.length >> 1,d=b[a],m,h,k;a < l;){m=(a << 1) + 1;k=b[m];h=m + 1;h < this.length && 0 > c(b[h],k) && (m=h,k=b[h]);if(0 <= c(k,d))break;b[a]=k;a=m;}b[a]=d;};return a;})();b.DV=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.E3=void 0;c=a(17);b.E3=function(a){switch(a){case c.na.qd:a=c.Kc.qd;break;case c.na.ff:a=c.Kc.ff;break;case c.na.bh:case c.na.Nk:case c.na.Bv:a=c.Kc.Nk;break;default:a=c.Kc.Qn;}return a;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.aM=void 0;c=a(251);d=(function(){var f00;f00=2;function a(a,b){var g00;g00=2;for(;g00 !== 3;){switch(g00){case 2:this.config=a;this.JJ=b;this.Zda=null;g00=4;break;case 4:var H8e="1SIY";H8e+="bZr";H8e+="NJCp9";H8e;g00=3;break;}}}for(;f00 !== 3;){switch(f00){case 2:a.prototype.yLa=function(a,b){var h00,f;h00=2;for(;h00 !== 3;){switch(h00){case 2:f=null === this.Zda?a * (100 - this.config.t5) / 100:c.Kda(a,this.Zda);b=null !== b && void 0 !== b?b:this.JJ;this.config.Mla && b?(a=c.Kda(a,b),a=Math.max(a,f)):a=f;return a;break;}}};a.prototype.bL=function(a){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:this.Zda=a;i00=1;break;}}};a.prototype.bsa=function(a){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:this.config=a;j00=1;break;}}};return a;break;}}})();b.aM=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Kda=b.Px=b.BMa=void 0;c=a(104).CMa;b.BMa=function(a,b,c){var f,d,l;f=0;if(c){a.some(function(a){var c;c=a.b;a=a.m;if(b <= c)return (f=l && c !== d?l + (a - l) / (c - d) * (b - d):a,!0);d=c;f=l=a;return !1;});}else a.some(function(a){f=a.m;return b <= a.b;});return f;};b.Px=function(a,b,d){var f;b=(null === (f=b.Ma) || void 0 === f?void 0:f.Ga) || 0;return a.Dib?(a=c(a.Cib,d.Vk - d.$c,1),b * (1 - a)):b * a.t5 / 100;};b.Kda=function(a,b){return a < 2 * b?a / 2:a - b;};},function(d,b,a){var m;function c(){}function k(a,b){this.Kp=a;void 0 !== b?(m(b <= a.un,"require remain_sec <= chunk.sec but has " + b + " and " + a.un),this.Mj=b):this.Mj=a.un;}function h(a){void 0 === a && (a=[]);this.pl=[];this.Eg=this.Hk=0;for(var b in a){this.add(a[b],void 0);}}m=a(5).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.jr=function(){return new k(this.Kp,this.Mj);};h.prototype.constructor=h;h.prototype.add=function(a,b){a=new k(a,b);this.pl.push(a);this.Eg+=a.Mj;this.Hk+=a.Kp.Zw() * a.Mj;};h.prototype.jr=function(){var a,b;a=new h(void 0);for(b in this.pl){a.add(this.pl[b].Kp,this.pl[b].Mj);}return a;};h.prototype.Er=function(){try{return this.pl[0];}catch(f){}};h.prototype.aWa=function(a){var b;for(m(0 <= a,"unexpected play_for_x_sec: x=" + a);0 < a;){if(void 0 === this.Er())throw new c();if(a < this.Er().Mj){b=this.Er().Kp.Zw() * a;this.Er().Mj-=a;this.Eg-=a;this.Hk-=b;a=0;}else (b=this.pl.shift(),this.Eg-=b.Mj,this.Hk-=b.Kp.Zw() * b.Mj,a-=b.Mj);}};h.prototype.SIb=function(a){var f;m(0 <= a,"unexpected play_y_kb: y=" + a);for(var b=0;0 < a;){if(void 0 === this.Er())throw new c();if(a < this.Er().Mj * this.Er().Kp.Zw()){f=a / this.Er().Kp.Zw();this.Er().Mj-=f;this.Eg-=f;this.Hk-=a;b+=f;a=0;}else (f=this.pl.shift(),this.Eg-=f.Mj,this.Hk-=f.Kp.Zw() * f.Mj,b+=f.Mj,a-=f.Kp.Zw() * f.Mj);}return b;};d.W={Sta:h,P3a:c};},function(d){d.W={iya:{code:-1,description:"MediaCache is not supported."},q_b:{code:100,description:"Resource was not found"},Z7a:{code:101,description:"Resource Metadata was not found"},xG:{code:102,description:"Read failed",kp:function(b,a){return {code:this.code,description:b,cause:a};}},KW:{code:200,description:"Daily write limit exceeded"},LF:{code:201,description:"Capacity has been exceeded"},JW:{code:202,description:"Write failed, cause unknown",kp:function(b,a){return {code:this.code,description:b,cause:a};}},M0b:{code:203,description:"Write failed, cause unknown"},P4a:{code:300,description:"Failed to delete resource",kp:function(b,a){return {code:this.code,description:b,cause:a};}},ry:{code:900,description:"Invalid partition name"},x7a:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Nua:{code:701,description:"Failed to initialize underlying disk cache."},Y7a:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(d){d.W={KPa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(b){var c;void 0 === b.error.code && (b.error.code=0);void 0 === b.error.description && (b.error.description="Unknown");a.forEach(function(a){b.error && b.error.code == a.error.code && b.error.description === a.error.description && (c=a);});c?c.KS.push(b.ep):a.push({error:b.error,KS:[b.ep]});});return a;}},UNa:function(b){var a;a={freeSize:b.jk,dailyBytesRemaining:b.hI,bytesWritten:b.Aj,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(a){return {key:a.key,operation:a.Rh,itemBytes:a.N1,error:a.error};}));return a;},Gu:function(b){return b["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.eN=void 0;c=a(25);k=a(77);d=(function(){function a(a){this.hB=a;}Object.defineProperties(a.prototype,{MR:{get:function(){return "trace-" + this.hB.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sm:{get:function(){return this.MR;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return c.sa;},enumerable:!1,configurable:!0}});a.prototype.Qw=function(a){var b;if(a.pk === k.ci.Kz || a.pk === k.ci.jB){b=this.hB.EBb;a.pk === k.ci.Kz && this.hB.clear();return b;}};a.prototype.Qb=function(){this.hB.Qb();};return a;})();b.eN=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.z0=b.ju=b.isEqual=b.XQ=void 0;c=a(10);b.XQ=function(a){return ! !a.la;};b.isEqual=function(a,c){var d,f;d=b.XQ(a);f=b.XQ(c);return d === f?d?a.la === c.la:a.Sb === c.Sb:!1;};b.ju=function(a){if(b.XQ(a))return a.la;a=a.Sb;return a.Ua[a.vg].la;};b.z0=function(a,b){return a.pea?a.pea instanceof c.U?{offset:a.pea,Ba:b.vg}:a.pea:{offset:c.U.sb,Ba:b.vg};};},function(d,b,a){var c,k,h,m,f,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.wVa=b.vVa=b.q3=b.Una=b.xVa=b.zVa=b.yVa=b.AVa=b.r3=b.BVa=b.CVa=b.uVa=void 0;c=a(18);k=a(27);h=a(11);m=a(145);f=a(9);q=a(15);l=a(22);b.uVa=(function(){var r,Y,Q,qa,va,ga,ba,S,Aa,Na,Pa,Ba;function a(a){if(k.kx(a)){a=a.toLowerCase();if("#" == a[0]){if(7 == a.length)return a;if(4 == a.length)return "#" + a[1] + a[1] + a[2] + a[2] + a[3] + a[3];}return b.AVa[a];}}function d(a,b,c){b=b[a];0 <= b || (b=parseFloat(a));if(0 <= b)return f.Mn(b,c);}function x(a,b){var f,c;f=a.length;c=a[f - 1];if("t" === c)return parseFloat(a) * b | 0;if("s" === c)return "m" === a[f - 2]?parseFloat(a) | 0:parseFloat(a) * h.Qj | 0;if((a=a.match(Aa)) && 4 <= a.length)return (3600 * parseInt(a[1],10) + 60 * parseInt(a[2],10) + parseFloat(a[3])) * h.Qj | 0;throw Error("dfxp-badtime");}function z(a,b,f,c,l){var d,q,m,h,u,t,k,x;d=void 0;if(a){q=a.style;f=q?f[q]:void 0;c=(q=a.region)?c[q]:void 0;q=l.length;for(m=0;m < q;m++){if((h=l[m],u=a[h],void 0 === u && f && (u=f[h]),void 0 === u && c && (u=c[h]),void 0 !== u && u !== b[h])){if(!d)for((d={},t=0);t < q;t++){k=l[t];x=b[k];void 0 !== x && (d[k]=x);}d[h]=u;}}}return d || b;}function g(a,b,f,c,l,d,q,h,u){var x,g;function t(a,B,y){var I,L,W,da,n,M;I=a[m.mj];L=I.style || B.style || "";W=I.region || B.region || "";L || W?(da=L + "/" + W,n=f[da]):n=b;if(!n){n=b;M=k.dL(c);k.Eb(M,l[L]);n=E(n,M,q,h,u);f[L + "/"]=n;W && (k.Eb(M,d[W]),k.Eb(M,l[L]),n=E(n,M,q,h,u),f[da]=n);}if(!y)a:{for(y=ga.length;y--;){if(void 0 !== I[ga[y]]){y=!0;break a;}}y=void 0;}y && (I=z(I,B,l,d,ba),n=E(n,I,q,h,u));B=(a=a[m.RL]) && a.length;for(L=0;L < B;L++){W=a[L];k.qf(W)?Na.test(W[m.SL])?g++:t(W,I,y):(x.push({text:W,lineBreaks:g,style:n}),g=0);}}x=[];g=0;t(a,c,!1);0 < g && x.push({text:"",lineBreaks:g,style:b});return x;}function B(a,b,f,c,l,d,q,m){var h,u;f && (f=Y[f] || "top",a.verticalAlignment !== f && (a.verticalAlignment=f));c && (f=Q[c] || "left",a.horizontalAlignment !== f && (a.horizontalAlignment=f));l?((u=m[l])?(c=u.marginLeft,f=u.marginTop):(h=l.split(" "),c=n(h[0],q.x) || 0,f=n(h[1],q.y) || 0,u={Bo:0,marginLeft:c,marginTop:f,Ygb:c * b.Kja + b.EQ,$gb:f * b.qsa + b.W5},30 > m.Bo && (m.Bo++,m[l]=u)),a.marginLeft=u.Ygb,a.marginTop=u.$gb):(f=c=0,(u=m["default"]) || (m["default"]=u={Bo:0}));d && (l=u[d],l || (h=d.split(" "),l={Zgb:(1 - (c + (n(h[0],q.x) || 0))) * b.Kja + b.EQ,Xgb:(1 - (f + (n(h[1],q.y) || 0))) * b.qsa + b.W5},30 > u.Bo && (u.Bo++,u[d]=l)),a.marginRight=l.Zgb,a.marginBottom=l.Xgb);}function L(a,b,f,c,l){var d,q,m;d=a.displayAlign;q=a.textAlign;m=a.origin;a=a.extent;f=k.dL(f);B(f,b,d,q,m,a,c,l);f.id=r++;return f;}function I(f,c,l,q){var m,h,u,t,x,z;m=d(l.characterSize || c.characterSize,b.BVa,2) || 1;h=(h=f.fontSize) && Pa.test(h)?k.Nn(k.Xd(h),25,200):void 0;m*=h / 100 || 1;h=f.textOutline;if(h && "none" != h){t=h.split(" ");Ba.test(t)?(z=0,x=f.color):(z=1,x=a(t[0]));u=W(t[z]);t=W(t[z + 1]);}return {characterStyle:l.characterStyle || b.CVa[f.fontFamily] || c.characterStyle,characterSize:m * q,characterColor:a(l.characterColor || f.color || c.characterColor),characterOpacity:d(k.mZ(l.characterOpacity,f.opacity,c.characterOpacity),b.r3,1),characterEdgeAttributes:l.characterEdgeAttributes || h && ("none" === h?b.yVa:t?b.q3:b.Una) || c.characterEdgeAttributes,characterEdgeColor:a(l.characterEdgeColor || x || c.characterEdgeColor),characterEdgeWidth:u,characterEdgeBlur:t,characterItalic:"italic" === f.fontStyle,characterUnderline:"underline" === f.textDecoration,backgroundColor:a(l.backgroundColor || f.backgroundColor || c.backgroundColor),backgroundOpacity:d(k.mZ(l.backgroundOpacity,f.opacity,c.backgroundOpacity),b.r3,1)};}function E(a,b,c,d,q){var m;b=I(b,c,d,q);l.Jd(b,function(b,c){c !== a[b] && (m || (m=f.XB(a)),m[b]=c);});return m || a;}function da(a,b,c,l,d,q,h,u){var t;t=a[m.mj];c=z(a[m.mj],b,c,d,S);b=c.region;a=t.displayAlign;c=c.textAlign;d=t.origin;t=t.extent;b || a || c || d || t?((l=l[b])?l=f.XB(l):a || d || t?(l=f.XB(va),l.id=r++):l=f.XB(qa),B(l,q,a,c,d,t,h,u)):l=qa;return l;}function W(a){a=k.Xd(a);return q.jx(a,0,100)?a:0;}function n(a,b){var f;f=a[a.length - 1];if("%" === f)return k.Nn(.01 * parseFloat(a),0,1);if("c" === f)return k.Nn(k.Xd(a) / b,0,1);}function M(a){for(var b=a.length,c=a[--b].endTime;b--;){c=f.Mn(a[b].endTime,c);}return c;}function D(b){l.Jd(b,function(f,c){0 <= f.toLowerCase().indexOf("color") && (b[f]=a(c));});}function p(a,b){var l,d,q,m;l=a.pixelAspectRatio;m={EQ:0,Kja:1,W5:0,qsa:1};a=(a.extent || "640px 480px").split(" ");2 <= a.length && (l=(l || "").split(" "),d=parseFloat(a[0]) * (parseFloat(l[0]) || 1),q=parseFloat(a[1]) * (parseFloat(l[1]) || 1));d=0 < d && 0 < q?d / q:1280 / 720;b=b || 1280 / 720;l=d / b;.01 < f.NB(b - d) && (b >= d?(m.EQ=(1 - l) / 2,m.Kja=l):c.lb(!1,"not implemented"));return m;}function ka(a){var f,c,l,d,q;if(f=a.cellResolution)if((f=f.split(" "),2 <= f.length)){c=k.Xd(f[0]);f=k.Xd(f[1]);if(0 < c && 0 < f)return {x:c,y:f};}f=a.extent;if(f && (f=f.split(" "),2 <= f.length)){c=k.Xd(f[0]);q=k.Xd(f[1]);if(a=a.pixelAspectRatio)(f=a.split(" "),l=k.Xd(f[0]),d=k.Xd(f[1]));if(c && q && 1.5 < c * (l || 1) / (q * (d || 1)))return b.wVa;}return b.vVa;}r=1;Y={before:"top",center:"center",after:"bottom"};Q={left:"left",start:"left",center:"center",right:"right",end:"right"};qa={id:r++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};va={id:r++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};ga=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");ba=ga.concat(["style","region"]);S=["region","textAlign","displayAlign","extent","origin"];Aa=/^([0-9]+):([0-9]+):([0-9.]+)$/;Na=/^br$/i;Pa=/^[0-9]{1,3}%$/;Ba=/^[0-9]/;return function(c,l,q,u,t){var W,n,R,U,la,Y,Q,qa,ga,Pa,ia,Ba,Na,Aa,Ha,F,Za,Wa,mb,O,P,T,V,X,ea,fa,ja,ha,ma,tc;function B(){try{for(var a;V;){if((ga=V[m.mj],X.push({id:r++,startTime:x(ga.begin,R),endTime:x(ga.end,R),region:da(V,fa,Y,qa,Q,U,Aa,Wa),textNodes:g(V,ja,ha,ea,Y,Q,F,Za,Ha)}),V=V[m.nB],a=f.PF(),100 < a - ma)){ma=Date.now();tc=setTimeout(B,1);return;}}}catch(jf){E({ja:k.K.UU,ub:k.$e(jf)});return;}tc=setTimeout(y,1);}function y(){var b,f,c,l,d,q,m;function a(a,c){for(var l,d=[],q={},m,h=f.length;h--;){l=f[h];m=l.region.id;q[m] || (q[m]=1,d.unshift(l));}(l=b[b.length - 1]) && l.endTime == a && k.St(l.blocks,d)?l.endTime=c:b.push({id:r++,startTime:a,endTime:c,blocks:d});}try{if(!X.length){E({ia:!0,entries:[]});return;}k.SHa(X,"startTime");b=[];f=[];c=X[0];d=X[0].startTime;for(q=1;f.length || c;){for(;!f.length || c && c.startTime == d;){f.push(c);d=c.startTime;c=X[q++];}l=M(f);if(!c || l <= c.startTime)for((a(d,l),d=l,m=f.length);m--;){f[m].endTime <= d && f.splice(m,1);}else (a(d,c.startTime),d=c.startTime,f.push(c),c=X[q++]);}for(q=b.length;q--;){b[q].index=q;b[q].previous=b[q - 1];b[q].next=b[q + 1];}}catch(kf){E({ja:k.K.UU,ub:k.$e(kf)});return;}E({ia:!0,entries:b});}function E(a){setTimeout(function(){W.abort=k.$g;t(a);},1);}W={abort:function(){tc && clearTimeout(tc);}};try{n=c[m.mj];R=h.Qj / (k.Xd(n.tickRate) || 1);U=p(n,l);la=k.Eb(va,{marginLeft:U.EQ,marginTop:U.W5,marginRight:U.EQ,marginBottom:U.W5});Y={};Q={};qa={};Ba=c.head;Na=c.body;Aa=ka(n);Ha=1 / Aa.y * U.qsa;F=k.Eb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.q3,characterEdgeColor:"#000000",characterSize:1},q,{Fx:!0});Za=u || ({});Wa={Bo:0};if(Ba){mb=Ba.styling;if(mb)for(ia=mb.style;ia;){ga=ia[m.mj];D(ga);Y[ga.id]=ga;ia=ia[m.nB];}O=Ba.layout;if(O)for(var N=O.region;N;){ga=N[m.mj];P=ga.id;Pa=k.dL(Y[ga.style]);Pa=k.Eb(Pa,ga);for(ia=N.style;ia;){k.Eb(Pa,ia[m.mj]);ia=ia[m.nB];}D(Pa);Q[P]=Pa;qa[P]=L(Pa,U,la,Aa,Wa);N=N[m.nB];}}T=Na.div;V=T.p;X=[];ea={};ea=z(Na[m.mj],ea,Y,Q,ba);ea=z(T[m.mj],ea,Y,Q,ba);fa={};fa=z(Na[m.mj],fa,Y,Q,S);fa=z(T[m.mj],fa,Y,Q,S);ja=I(ea,F,Za,Ha);k.Eb(ja,{windowColor:a(Za.windowColor || F.windowColor),windowOpacity:d(k.mZ(Za.windowOpacity,F.windowOpacity),b.r3,1),cellResolution:Aa},{Fx:!0});ha={};T.p=void 0;T[m.RL]=[];}catch(hf){E({ja:k.K.UU,ub:k.$e(hf)});return;}ma=f.PF();tc=setTimeout(B,1);return W;};})();b.CVa={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.BVa={SMALL:.5,MEDIUM:1,LARGE:2};b.r3={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.AVa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.yVa="NONE";b.zVa="RAISED";b.xVa="DEPRESED";b.Una="UNIFORM";b.q3="DROP_SHADOW";b.vVa={x:40,y:19};b.wVa={x:52,y:19};},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Csa=void 0;c=a(7);k=a(2);h=a(434);m=a(435);f=a(55);b.Csa=function(a,b){var l,d;try{l=h.o2a(a);}catch(x){c.log.error("xml2xmlDoc exception",x);}f.uc(function(){if(l && l.documentElement)try{d=m.p2a(l);}catch(x){c.log.error("xmlDoc2js exception",x);}f.uc(function(){d?b({ia:!0,object:d}):b({ia:!1,ja:k.K.ewa});});});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S8=b.R8=void 0;b.R8="LogMessageRulerConfigSymbol";b.S8="LogMessageRulerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.IM=void 0;b.IM="NetworkMonitorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YV=void 0;b.YV="PboLicenseResponseTransformerSymbol";},function(d,b,a){var f,q,l,u,t,x;function c(a,b,f,c){this.wa=a;this.L0=b;this.xa=f;this.profile=c;}function k(){}function h(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=b.$V=void 0;d=a(0);f=a(1);q=a(34);l=a(4);u=a(13);t=a(19);a=a(97);m.prototype.encode=function(a){return {downloadableId:a.Bd,duration:a.duration};};m.prototype.decode=function(a){return {Bd:a.downloadableId,duration:a.duration};};h.prototype.encode=function(a){return {total:a.total,totalContentTime:a.wF,audio:a.audio.map(new m().encode),video:a.video.map(new m().encode),text:a.text.map(new m().encode)};};h.prototype.decode=function(a){var b;return {total:a.total,wF:null !== (b=a.totalContentTime) && void 0 !== b?b:a.total,audio:a.audio.map(new m().decode),video:a.video.map(new m().decode),text:a.text.map(new m().decode)};};k.prototype.encode=function(a){return {type:a.type,href:a.href,xid:a.ea,movieId:a.u,position:a.position,clientTime:a.kP,sessionStartTime:a.XS,mediaId:a.MJ,playTimes:new h().encode(a.iS),trackId:a.jb,sessionId:a.sessionId,appId:a.JO,sessionParams:a.um,mdxControllerEsn:a.Fma,profileId:a.profileId};};k.prototype.decode=function(a){return {type:a.type,href:a.href,ea:a.xid,u:a.movieId,position:a.position,kP:a.clientTime,XS:a.sessionStartTime,MJ:a.mediaId,iS:new h().decode(a.playTimes),jb:a.trackId,sessionId:a.sessionId,JO:a.appId,um:a.sessionParams,Fma:a.mdxControllerEsn,profileId:a.profileId};};b.$V=k;c.prototype.create=function(a){return {href:a.ta && a.ta.$i?a.ta.$i.sQ("events").href:"",type:"online",ea:a.ea.toString(),u:a.u,position:a.Zfa || 0,kP:this.wa.N4.ba(l.fa),XS:a.kJ?a.kJ.ba(l.fa):-1,MJ:this.gvb(a),iS:this.Swb(a),jb:void 0 !== a.yi?a.yi.toString():"",sessionId:this.L0().sessionId || this.xa.id,JO:this.L0().JO || this.xa.id,um:a.Ta.um || ({}),profileId:this.profile};};c.prototype.Xnb=function(a,b){return Object.assign({},this.create(a),{Fma:b && b.sZ});};c.prototype.load=function(a){return new k().decode(a);};c.prototype.gvb=function(a){var b,f,c;b=a.Ad.value;f=a.Fg.value;c=a.Jc.value;return b && f && c?(a=a.ta.Tc.media.find(function(a){return a.Wh.AUDIO === b.jb && a.Wh.VIDEO === f.jb && a.Wh.taa === c.jb;}))?a.id:"":"";};c.prototype.eja=function(a){return a.map(function(a){return {Bd:a.downloadableId,duration:a.duration};});};c.prototype.Swb=function(a){return (a=a.pn)?(a=a.Rwb(),{total:a.total,wF:a.totalContentTime,audio:this.eja(a.audio),video:this.eja(a.video),text:this.eja(a.timedtext)}):{total:0,wF:0,video:[],audio:[],text:[]};};x=c;x=d.__decorate([f.N(),d.__param(0,f.l(q.Vg)),d.__param(1,f.l(u.Oc)),d.__param(2,f.l(t.xd)),d.__param(3,f.l(a.XM))],x);b.kAa=x;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g$=b.f$=b.i$=void 0;b.i$="PboPlaydataValidatorSymbol";b.f$="PboPlaydataArrayValidatorSymbol";b.g$="PboPlaydataCollectionValidatorSymbol";},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.EU=void 0;k=a(9);c.Hfa=function(a){var b;if(k.Fe.queryCommandSupported && k.Fe.queryCommandSupported("copy")){b=k.Fe.createElement("textarea");b.textContent=a;b.style.position="fixed";k.Fe.body.appendChild(b);b.select();try{k.Fe.execCommand("copy");}catch(f){console.warn("Copy to clipboard failed.",f);}finally{k.Fe.body.removeChild(b);}}};b.EU=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.V8=void 0;b.V8=a;a.S4a="display";a.j4a="console";a.o_b="remote";a.L0b="writer";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dR=void 0;b.dR=function(a,b,d){var c;if(d.set)throw Error("Property " + b + " has a setter and cannot be made into a lazy property.");c=d.get;d.get=function(){var m,f;m=c.apply(this,arguments);f={enumerable:d.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,b,f):Object.defineProperty(this,b,f);return m;};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cW=void 0;b.cW="PlayPredictionDeserializerSymbol";},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,z;Object.defineProperty(b,"__esModule",{value:!0});b.kF=void 0;c=a(11);k=a(12);h=a(59);m=a(50);f=a(2);q=a(18);l=a(7);u=a(22);t=a(9);x=a(187);z=a(15);d=a(29);l.ha.get(d.ig).register(f.L.$wa,function(a){var y,E,n;function d(){var a;d=c.$g;a=setInterval(g,k.config.WCb);h.Re.addListener(h.bm,function(b){b && b.isPopStateEvent?y.trace("popstate event, Lock timers can stay"):(u.Jd(E,function(a,b){localStorage.removeItem(b.gq);}),clearInterval(a));},c.WB);}function g(){var a;a=m.lZ();u.Jd(E,function(b,f){!1;b=localStorage.getItem(f.gq);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:n,count:1};localStorage.setItem(f.gq,JSON.stringify(b));});}q.lb(x.storage);y=l.ph("StorageLock");E={};n=Date.now() + "-" + Math.floor(1E6 * Math.random());b.kF={Zv:function(a,b,l){var h,x,g,B,I,L,W,da,M,R;function q(a){localStorage.setItem(g,JSON.stringify(a));a={gq:g};E[g]=a;y.trace("Lock acquired",{Name:a.gq});d();b({ia:!0,f2:a});}l=void 0 === l?!1:l;h=this;if(localStorage){x=m.lZ();g="lock-" + a;B={updated:x,sessionId:n,count:1};try{if((g in localStorage)){I=localStorage.getItem(g);L=0;W=JSON.parse(I);z.jx(W.updated) && (L=W.updated);da=t.NB(x - L) * c.Qj;M=n === W.sessionId;if(da < k.config.pSa){if(M)(W.count+=1,y.debug("Incremented lock count for existing playbackSession",{id:n,count:W.count}),W.updated=x,q(W));else if(l){R=k.config.pSa - da + c.Qj;y.error("Waiting until current expiration to confirm whether lock is still active",{id:n,count:W.count,Epoch:x,LockEpoch:L,waitTimeoutMs:R});O.setTimeout(function(){return h.Zv(a,b,!1);},R);}else b({ia:!1});}else (y.error("Lock was expired or invalid, ignoring",{Epoch:x,LockEpoch:L}),q(B));}else q(B);}catch(Aa){y.error("Error acquiring Lock",{errorSubCode:f.K.Yh,errorDetails:u.$e(Aa)});b({ia:!0});}}else (t.Pla?y.error("Local storage access exception",{errorSubCode:f.K.C$a,errorDetails:u.$e(t.Pla)}):y.error("No localstorage",{errorSubCode:f.K.D$a}),b({ia:!0}));},release:function(a,b){var f,l;q.lb(E[a.gq] == a);if(localStorage){try{f=localStorage.getItem(a.gq);l=JSON.parse(f);1 < l.count?(--l.count,localStorage.setItem(a.gq,JSON.stringify(l)),y.trace("Lock count decremented",{Name:a.gq,count:l.count})):(localStorage.removeItem(a.gq),delete E[a.gq],y.trace("Lock released",{Name:a.gq}));}catch(U){y.error("Unable to release Lock",{Name:a.gq},U);}b && b(c.$d);}}};k.config.n_?b.kF.Zv("session",function(f){b.kF.kZa=f;a(c.$d);}):a(c.$d);});},function(d,b,a){var m,f,q,l,u,t,x,z,g,B,L,I,E,n;function c(a,b){var g;function c(b){return m.EXa(a,b);}function l(){var a,b,f,l;b=t.ph("Eme");f=t.ha.get(u.$s);f.mv && f.kv || (a=t.ha.get(E.TM)(),f.mv=a.Cb,f.kv=a.request);a=new f.kv(b,void 0,c,{em:!1,UQ:!1});l=t.ha.get(z.dC);return f.mv(b,"cenc",void 0,{em:!1,UQ:!1,uRa:q.config.Nj,QYa:{zTa:q.config.ANb,pJa:q.config.cqa,L6b:q.config.zNb},TA:a,RWa:q.config.Roa,FF:q.config.Xga,B5b:q.config.BNb,dIa:l.tP([]),S1a:l.yP([]),hJ:q.config.hJ});}function d(){function a(a,b){var f,d;f=t.ha.get(n.NU);if(!b.jc || 0 === b.jc.length || !b.jc[0].lA)return (g.error("releaseDrmSession exception: missing valid keySessionData"),k(a,b));if(0 < b.jc.length){g.info("Sending the deferred playdata and secure stop data");d=l();return d.create(q.config.ke).then(function(){return d.w2b(b);}).then(function(c){g.info("Sent the deferred playdata and secure stop data");f.K4(c,b);return k(a,b);})["catch"](function(c){c && c.code === x.L.n$a && k(a,b);c && c.code === x.L.m$a && k(a,b);g.error("Unable to send last stop",c);f.K4(c,b);throw c;});}g.info("No key session so just send the playdata");return c(b).then(function(){g.trace("Successfully sent stop command for previous session");return k(a,b);})["catch"](function(a){g.error("Unable to send stop command for previous session",a);throw a;});}h(g).then(function(c){var l;l=c.d_.filter(function(a){return !1 === a.active;}).map(function(b){return a(c,b);});Promise.all(l).then(function(){g.info("release drm session completed for " + l.length + " entries");b(f.$d);})["catch"](function(a){a=a || ({});a.DrmCacheSize=l.length;g.error("Unable to release one or more DRM session data",a);b(f.$d);});})["catch"](function(a){g.error("Unable to load DRM session data",a);b(f.$d);});}g=t.ph("PlayDataManager");b=b || f.$g;q.config.Fn?b(f.$d):d();}function k(a,b){return a?a.opa(b):Promise.resolve();}function h(a){var f;if(!b.Oga){f=t.ha.get(g.CU);b.Oga=new Promise(function(b,c){f.iXa().then(function(){b(f);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);c(b);});});}return b.Oga;}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=b.uAa=b.Oga=void 0;m=a(270);f=a(11);q=a(12);l=a(59);u=a(32);t=a(7);x=a(2);z=a(117);g=a(199);B=a(182);L=a(14);I=a(47);d=a(29);E=a(196);n=a(200);b.uAa=function(a){var m,x,z,g,y,n;function b(){x || (a.vd("pdsb"),x=t.ha.get(B.PM)().then(function(b){g=b;a.vd("pdsc");return b;})["catch"](function(b){m.error("Unable to initialize the playdata services",b);a.vd("pdse");throw b;}));return x;}function d(){z=!0;g && g.close();l.Re.removeListener(l.bm,d);}m=t.Pg(a,"PlayDataManager");z=!1;y=t.ha.get(u.$s);if(!y.mv || !y.kv){n=t.ha.get(E.TM)();y.mv=n.Cb;y.kv=n.request;}a.vd("pdctor");a.addEventListener(L.V.Kf,function(){l.Re.removeListener(l.bm,d);});a.addEventListener(L.V.EJ,function(){var b;if(!q.config.Fn && a.Td){b=a.qP.vKa();h(m).then(function(a){return a.UGa(b);})["catch"](function(){m.error("Unable to load/add cached DRM data");});}});a.addEventListener(L.V.Kf,function(){var f;if(!z){a.NUb();f=[(function(){return q.config.Fn || !a.Td?Promise.resolve():new Promise(function(b){var f;m.info("Sending the expedited playdata and secure stop data");f=a.qP.vKa();a.Td.b3b(f).then(function(b){m.info("Sent the expedited playdata and secure stop data");q.config.Nj && a.hq.B4({success:b.ia,persisted:!1,ss_km:b.DEb,ss_sr:b.O4,ss_ka:b.qlb});return h(m);}).then(function(a){return k(a,f);}).then(function(){b();})["catch"](function(f){m.error("Unable to send the expedited playdata and secure stop data",f);q.config.Nj && a.hq.B4({success:f.ia,state:f.state,ErrorCode:f.code,ErrorSubCode:f.pd,ErrorExternalCode:f.Og,ErrorEdgeCode:f.wI,ErrorDetails:f.cause && f.cause.ub});b();});});})(),(function(){return b().then(function(b){return b.p_a(a.ga);}).then(function(){m.info("Sent the playdata");})["catch"](function(a){m.error("Unable to send the playdata",a);});})(),(function(){return new Promise(function(a){t.ha.get(I.El).flush(!1)["catch"](function(){m.error("Unable to send logblob");a();}).then(function(){a();});});})()];Promise.all(f).then(function(){a.c3();})["catch"](function(){a.c3();});}});l.Re.addListener(l.bm,d);return {UNb:function(l){a.vd("pdpb");q.config.J4 || b().then(function(b){return b.send(a.u);}).then(function(){q.config.Fn?(a.vd("pdpc"),l(f.$d)):c(a,function(){a.vd("pdpc");l(f.$d);});})["catch"](function(){a.vd("pdpe");l(f.$d);});}};};b.vAa=function(){return new Promise(function(a){c({},function(b){a(b);});});};t.ha.get(d.ig).register(x.L.qy,function(a){a(f.$d);});},function(d,b,a){var h,m,f,q,l,u,t,x,z,g,B,L,I,E,n,W,p;function c(a){var b;b=this;this.j=a;this.nIa=this.gSa=!1;this.log=q.Pg(this.j,"Playback");this.DJ=q.ha.get(B.eG);this.cj=q.ha.get(E.Zs);this.pc=q.ha.get(n.kt);this.iIb=q.ha.get(W.WV);this.j.addEventListener(I.V.EJ,function(){return b.LTb();});l.lb(m.config);m.config.Fn || (this.Oqb=q.ha.get(u.r7));}function k(a,b){var c;function f(a){return a && 0 < a.length && a[0].lA;}c=q.ha.get(B.eG);return a.ea && f(a.jc)?c.release(Object.assign(Object.assign({},b),{ea:a.ea,jc:a.jc})):b.ea && f(b.jc)?c.release(b):Promise.resolve(h.$d);}Object.defineProperty(b,"__esModule",{value:!0});b.EXa=b.Cua=void 0;h=a(11);m=a(12);f=a(50);q=a(7);l=a(18);u=a(291);t=a(2);x=a(67);z=a(55);g=a(15);B=a(181);L=a(182);I=a(14);E=a(81);n=a(82);W=a(271);p=a(32);c.prototype.TO=function(a){var d,q,u;function b(){d.j.ZYa().then(c)["catch"](a);}function c(b){try{d.j.NWa(b);a(h.$d);d.ntb();}catch(qa){d.log.error("Exception processing authorization response",qa);a({ia:!1,ja:t.K.M9a});}}d=this;l.kI(this.j.u);l.kI(this.j.yi);q=this.j.ta;if(q){u=q.Tc.vha;u?(u-=f.IJa(),18E5 < u?z.uc(function(){c(q);d.j.tw="ui";}):(this.log.error("manifest is expired",{gap:u}),b())):z.uc(function(){c(q);d.j.tw="ui";});}else m.config.ds?(u=this.pc.Ar(this.j.u,"manifest")) && u.then(function(a){c(a);d.j.tw="videopreparer";})["catch"](function(a){d.log.warn("manifest not in cache",a);b();}):b();};c.prototype.Oia=function(a){var b;b=this;return new Promise(function(f,c){var l,d,m;l=x.Am.oKa(a.Zi);d=a.Ti.map(function(a){return {sessionId:a.sessionId,dataBase64:q.vIa(a.data)};});m=b.j.Uwb(a.Ti[0].sessionId);l={yg:m.yg,Zi:g.is.Om(a.Zi)?a.Zi:l,c_:[m.Yk],Ti:d,ea:m.ea,$t:a.$t,$i:m.ta.$i};b.j.rP && b.j.rP.sZ && (l.xR=b.j.rP.sZ);b.DJ.Zv(l).then(function(a){b.j.jc=a.jc;f(a);b.otb(m);})["catch"](c);});};c.prototype.release=function(a){return k(this.j,a);};c.prototype.vKa=function(){var a;a=this.Oqb.create();this.j.Td && (a.ke=this.j.Td.Uw());a.jc=this.j.jc;a.ea=this.j.ea;a.u=this.j.u;return a;};c.prototype.otb=function(a){this.gSa || (this.gSa=!0,this.j.fireEvent(I.V.EJ,{u:a.u}));};c.prototype.ntb=function(){var a;a=this;this.nIa || (this.nIa=!0,this.j.fireEvent(I.V.qib),q.ha.get(L.PM)().then(function(b){b.nL(a.j);}));};c.prototype.LTb=function(){var a,b;a=this;b=q.ha.get(p.sj);this.cj.G1 || c.u1a || (c.u1a=!0,b.iUb && m.config.KTb && this.iIb.Le(this.log,{}).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(b){return a.log.error("NetflixId upgrade failed",t.Jq(b));}));};b.Cua=c;c.u1a=!1;b.EXa=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.WV=void 0;b.WV="PboBindCommandSymbol";},function(d,b,a){var k,h,m,f,q,l,u,t,x,z,g,B;function c(a,b,c,l,d){var t,x;t=this;this.j=a;this.type=b;this.RDa=l;this.log=d;this.zX=new f.Lc(!1);this.lC={data:[],state:"",operation:""};this.QJ=this.JMa((this.type === k.Ac.Sa.VIDEO?this.j.Fg.value:this.j.Ad.value).wc);this.Uq=new q.pj();this.ica={Type:this.type};m.config.mA && (x=!0,this.Nha=new f.Lc(!1));this.log.trace("Adding source buffer",this.ica,{TypeId:this.QJ});this.Mc=c.addSourceBuffer(this.QJ);this.Mc.addEventListener("updatestart",function(){!1;t.lC.state="updatestart";});this.Mc.addEventListener("update",function(){!1;t.lC.state="update";});this.Mc.addEventListener("updateend",function(){var a;!1;t.zX.set(!1);t.aEa && t.aEa();t.lC.state="updateend";a=0;try{a=t.Mc.buffered.length;}catch(U){}x && a && (x=!1,t.Nha.set(!0),!1);});this.Mc.addEventListener("error",function(b){var f;!1;try{f=b.target.error && b.target.error.message;(b.message || f) && d.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(ka){}a.sd(u.L.G9a,h.p0(t.type));});this.Mc.addEventListener("abort",function(){!1;});a.addEventListener(z.V.closed,function(){t.Mc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.k9=void 0;k=a(56);h=a(166);m=a(12);f=a(188);q=a(69);l=a(7);a(89);u=a(2);a(4);t=a(18);x=a(15);z=a(14);g=a(117);B=a(185);c.prototype.Ph=function(){return this.zX.value;};c.prototype.updating=function(){return this.Mc?this.Mc.updating:!1;};c.prototype.Q4=function(a){this.aEa=a;};c.prototype.l0=function(){return this.lC;};c.prototype.buffered=function(){return this.Mc.buffered;};c.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};c.prototype.toJSON=function(){return {type:this.type};};c.prototype.h0=function(){var a,b,f,c,l,d,q;try{a=this.Mc.buffered;l=0;if(a)for((b=[],f=0,c=a.length,f=0);f < c;f++){d=a.start(f);q=a.end(f);l=l + (q - d);t.lb(q > d);b.push(d + "-" + q);}if(b)return {Buffered:l.toFixed(3),Ranges:b.join("|")};}catch(D){}};c.prototype.IHa=function(a,b){!1;try{t.lb(this.Mc.buffered && 1 >= this.Mc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.h0()));}catch(E){}t.lb(!this.Ph());this.JZa("append",a);b=b && b.qn / 1E3;x.pa(b) && this.Mc.timestampOffset !== b && (!1,this.Mc.timestampOffset=b);this.Mc.appendBuffer(a);!1;this.zX.set(!0);};c.prototype.remove=function(a,b){t.lb(!this.Ph());try{this.JZa("remove");!1;this.Mc.remove(a,b);this.zX.set(!0);}catch(E){this.log.error("SourceBuffer remove exception",E,this.ica);}};c.prototype.JZa=function(a,b){this.lC.data=b || [];this.lC.state="init";this.lC.operation=a;};c.prototype.$Ob=function(a,b){this.dCb=Math.floor(1E3 * a / b);};c.prototype.okb=function(a){var b;if(this.Mc){if((a=this.JMa([{type:this.Mlb,Yf:a}]),a !== this.QJ)){b=this.QJ;this.log.info("Changing SourceBuffer mime-type from: " + this.QJ + " to: " + a);try{if(this.Mc.changeType)(this.Mc.changeType(a),this.QJ=a);else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(E){throw (this.log.error("Error changing SourceBuffer type",E,this.ica,{From:b,To:a}),E);}}}else this.log.info("No SourceBuffer");};c.prototype.appendBuffer=function(a,b){!b || b.dc?this.Jda(a,b):this.IY(a,b);return !0;};c.prototype.Jda=function(a,b){this.j.Qh.Jda(this,a,b || ({}));};c.prototype.IY=function(a,b){a=this.Glb(a,b);!1;this.j.Qh.IY(a);};c.prototype.Glb=function(a,b){var f;f=this.dCb || 0;return {zJa:function(){this.response=void 0;},kk:function(){return this.requestId;},constructor:{name:"MediaRequest"},I:this.I,readyState:B.Mb.gc.DONE,Sx:b.T,Iu:b.T + b.duration,Kw:b.duration,qn:f,Mh:b.Mh,Ba:b.Ba,Ca:b.Ca,Tb:+b.Tb,location:b.location,SH:b.offset,RH:b.offset + b.$ - 1,S:b.S,response:a,WPa:a && 0 < a.byteLength,iA:!0,get dc() {return !this.iA;},SYa:this.Li - f || Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Ba,isHeader:this.dc,ptsStart:this.Sx,ptsOffset:this.qn,responseType:this.i1b,duration:this.Kw,readystate:this.Kg};this.stream && (a.bitrate=this.stream.S);return JSON.stringify(a);}};};c.prototype.endOfStream=function(){var a;this.j.Cp("EndOfStream");null === (a=this.j.Qh) || void 0 === a?void 0:a.d3(this.I);};c.prototype.addEventListener=function(a,b,f){this.Uq.addListener(a,b,f);};c.prototype.removeEventListener=function(a,b){this.Uq.removeListener(a,b);};c.prototype.JMa=function(a){var b;b=l.ha.get(g.dC);return this.type === k.Ac.Sa.VIDEO?b.yP(a):b.tP(a);};pa.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.type;}},YY:{configurable:!0,enumerable:!0,get:function(){return this.RDa.YY;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.RDa.sourceId;}},Mlb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.k9=c;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.OKa=b.hma=void 0;c=a(18);k=a(22);h=a(15);(function(){var f,d,l;function a(a){c.lb(void 0 !== f[a]);return f[a];}f={'"':'""',"\r":"","\n":" "};d=/["\r\n]/g;l=/[", ]/;b.OKa=function(b){return h.ic(b)?h.pa(b)?b:h.df(b)?b.replace(d,a):h.Qka(b)?b:isNaN(b)?"NaN":"":"";};b.hma=function(a){var f,c;f=b.OKa;c="";k.Jd(a,function(a,b){a=f(a) + "=" + f(b);l.test(a) && (a='"' + a + '"');c=c?c + ("," + a):a;});return c;};})();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hi=void 0;d=b.Hi || (b.Hi={});d[d.a_a=1]="sourceopen";d[d.Np=2]="currentTimeChanged";d[d.RS=3]="seeked";d[d.Z4b=4]="needlicense";d[d.fSa=5]="licenseadded";d[d.$Za=6]="sourceBuffersAdded";d[d.Lna=7]="onNeedKey";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.op=void 0;d=b.op || (b.op={});d[d.lza=0]="None";d[d.iwa=1]="Fetching";d[d.o7=2]="Done";d[d.Error=3]="Error";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.VM=void 0;b.VM="PlaygraphHelperSymbol";},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},bPa:function(){return this.buffer.length - this.position;},zK:function(){return this.buffer[this.position++];},Dk:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},ap:function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;},apa:function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;},Ag:function(){return this.ap(2);},cp:function(){return this.ap(4);},BK:function(){return this.ap(8);},Lu:function(a){for(var b,d="";a--;){b=this.zK();d+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return d;},bpa:function(a){for(var b=0,d=0;d < a;d++){b+=this.zK() << (d << 3);}return b;},AK:function(){return this.bpa(4);}};d.W=b;},function(d,b,a){b=a(420);d.W="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.da:Date.now;},function(d){d.W={gv:{uaa:0,LBa:1,Rj:2,name:["transient","semiTransient","permanent"]},dv:{dwa:0,JBa:1,oW:2,LM:3,vv:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},H0b:{v0b:0,wYb:1,iWb:2,vv:100,name:["trailer","montage","content"]},Ts:{zxa:0,vBa:1,fab:2,q5a:3,vv:100,name:["left","right","up","down"]},BM:{o4a:0,oW:1,FXb:2,cXb:3,BVb:4,EXb:5,f3a:6,vv:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},cG:{LM:0,Lua:1,vv:100,name:["playFocused","detailsOpened"]}};},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.Vd=void 0;d=a(1);c=a(97);k=a(558);h=a(197);m=a(565);f=a(573);q=a(648);a=a(1184);b.Vd=new d.GU({fF:!0});q.jSa(b.Vd);b.Vd.load(k.platform);b.Vd.load(m.config);h.yI.load(f.XLa);b.Vd.load(a.GHa);b.Vd.load(a.profile);b.Vd.bind(c.y8).wi(b.Vd);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);d=(function(){function a(){}a.prototype.VNa=function(a){var b;b=Reflect.getMetadata(c.I9,a);a=Reflect.getMetadata(c.HCa,a);return {VJa:b,fUb:a || ({})};};a.prototype.bxb=function(a){return Reflect.getMetadata(c.ICa,a) || [];};return a;})();b.s9=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(51);b.wRa=function(a){return a instanceof RangeError || a.message === c.x$a;};},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(51);k=a(40);h=a(60);m=a(84);d=(function(){function a(a){this.gbb=a;}a.prototype.$Sb=function(){return this.gbb();};return a;})();b.I8=d;b.l=function(a){return function(b,f,d){var l;if(void 0 === a)throw Error(c.cab(b.name));l=new h.Metadata(k.zM,a);"number" === typeof d?m.oF(b,f,d,l):m.CT(b,f,l);};};},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);k=a(96);h=a(60);m=a(539);d=(function(){function a(a,b,f,d){this.id=k.id();this.type=a;this.yf=f;this.name=new m.U9a(b || "");this.Ld=[];a=null;"string" === typeof d?a=new h.Metadata(c.Ay,d):d instanceof h.Metadata && (a=d);null !== a && this.Ld.push(a);}a.prototype.aQa=function(a){for(var b=0,f=this.Ld;b < f.length;b++){if(f[b].key === a)return !0;}return !1;};a.prototype.isArray=function(){return this.aQa(c.MB);};a.prototype.NDb=function(a){return this.sma(c.MB)(a);};a.prototype.Wka=function(){return this.aQa(c.Ay);};a.prototype.fla=function(){return this.Ld.some(function(a){return a.key !== c.zM && a.key !== c.MB && a.key !== c.HV && a.key !== c.iN && a.key !== c.Ay;});};a.prototype.nRa=function(){return this.sma(c.sza)(!0);};a.prototype.zwb=function(){return this.Wka()?this.Ld.filter(function(a){return a.key === c.Ay;})[0]:null;};a.prototype.ivb=function(){return this.fla()?this.Ld.filter(function(a){return a.key !== c.zM && a.key !== c.MB && a.key !== c.HV && a.key !== c.iN && a.key !== c.Ay;}):null;};a.prototype.sma=function(a){var b;b=this;return function(f){var d;for(var c=0,l=b.Ld;c < l.length;c++){d=l[c];if(d.key === a && d.value === f)return !0;}return !1;};};return a;})();b.yW=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(194);k=a(195);d=(function(){function a(a){this.Ub=a;this.uN=new k.E6(this.Ub);this.gba=new c.rU(this.Ub);}a.prototype.when=function(a){return this.uN.when(a);};a.prototype.fU=function(){return this.uN.fU();};a.prototype.zu=function(a){return this.gba.zu(a);};return a;})();b.wB=d;},function(d,b,a){var h;function c(a){return function(b){function f(f){return null !== f && null !== f.target && f.target.sma(a)(b);}f.ATa=new h.Metadata(a,b);return f;};}function k(a,b){a=a.Ix;return null !== a?b(a)?!0:k(a,b):!1;}Object.defineProperty(b,"__esModule",{value:!0});d=a(40);h=a(60);b.L0a=k;b.O_a=c;b.cUa=c(d.Ay);b.T0a=function(a){return function(b){var f;return null !== b?(f=b.WO[0],"string" === typeof a?f.yf === a:a === b.WO[0].cl):!1;};};},function(d,b,a){var h;function c(a,b){this.Af=b;this.sx=Math.floor(a);this.display=this.sx + " " + this.Af.name;}function k(a,b,c){this.Af=a;this.name=b;this.ro=c?c:this;h.gn(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Mq=b.jN=void 0;h=a(52);k.prototype.YP=function(a){return this.Af == a.Af;};k.prototype.toJSON=function(){return this.name;};b.jN=k;c.prototype.ba=function(a){return this.Af.YP(a)?this.sx:Math.floor(this.sx * this.Af.Af / a.Af);};c.prototype.vWa=function(a){return this.Af.YP(a)?this.sx:this.sx * this.Af.Af / a.Af;};c.prototype.to=function(a){return new c(this.ba(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.sx,units:this.Af.name};};c.prototype.add=function(a){return this.RJa(a);};c.prototype.Ia=function(a){return this.RJa(a,function(a){return -a;});};c.prototype.scale=function(a){return new c(this.ba(this.Af.ro) * a,this.Af.ro);};c.prototype.Cj=function(a){return this.ba(this.Af.ro) - a.ba(this.Af.ro);};c.prototype.YP=function(a){return 0 == this.Cj(a);};c.prototype.DRa=function(){return 0 == this.sx;};c.prototype.lRa=function(){return 0 > this.sx;};c.prototype.fBb=function(){return 0 < this.sx;};c.prototype.RJa=function(a,b){b=void 0 === b?function(a){return a;}:b;return new c(this.ba(this.Af.ro) + b(a.ba(this.Af.ro)),this.Af.ro);};b.Mq=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.XL=void 0;b.XL=a;a.N9a="PSK";a.$7a="MGK";a.vYb="MGK_WITH_FALLBACK";a.uYb="MGK_JWE";a.jYb="JWEJS_RSA";a.vxa="JWK_RSA";a.kYb="JWK_RSAES";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o$=void 0;b.o$="PlatformConfigOverridesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tU=void 0;b.tU="BrowserInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.r7=void 0;b.r7="DrmDataFactorySymbol";},function(d,b,a){var k,h;function c(a,b,c,l,d){this.version=a;this.qK=b;this.v_a=c;this.Fk=l;this.Yu=d;this.Pt=[];}Object.defineProperty(b,"__esModule",{value:!0});b.w8=void 0;k=a(2);h=a(43);c.prototype.load=function(a){return this.FCb(a);};c.prototype.add=function(a){this.Pt.push(a);return this.foa();};c.prototype.remove=function(a,b){a=this.PNa(this.Ar(a,b));return 0 <= a?(this.Pt.splice(a,1),this.foa()):Promise.resolve();};c.prototype.update=function(a,b){b=this.PNa(this.Ar(a,b));return 0 <= b?(this.Pt[b]=a,this.foa()):Promise.resolve();};c.prototype.FCb=function(a){var b;b=this;this.kSa || (this.kSa=new Promise(function(f,c){function l(a){b.Cpb().then(function(){c(a);})["catch"](function(){c(a);});}b.tja().then(function(a){b.storage=a;return b.storage.load(b.qK);}).then(function(c){var d;c=c.value;try{d=a(c);b.version=d.version;b.Pt=d.data;f();}catch(z){l(z);}})["catch"](function(a){a.ja !== k.K.Dy?c(a):f();});}));return this.kSa;};c.prototype.foa=function(){var a,b,c,l,d;a=this;if(!this.v_a)return Promise.resolve();if(this.j5){l=new Promise(function(a,f){b=a;c=f;});d=function(){a.j5=l;a.u_a().then(function(){b();})["catch"](function(a){c(a);});};this.j5.then(d)["catch"](d);return l;}return this.j5=this.u_a();};c.prototype.u_a=function(){var a,b;a=this;b=this.Yu();return new Promise(function(f,l){a.tja().then(function(f){return f.save(a.qK,b,!1);}).then(function(){f();})["catch"](function(a){l(c.cSb(k.L.p9a,a));});});};c.prototype.Cpb=function(){var a;a=this;return this.v_a?new Promise(function(b,c){a.tja().then(function(b){return b.remove(a.qK);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.tja=function(){return this.storage?Promise.resolve(this.storage):this.Fk.create();};c.prototype.Ar=function(a,b){for(var f=0;f < this.Pt.length;++f){if(b(this.Pt[f],a))return this.Pt[f];}};c.prototype.PNa=function(a){return a?this.Pt.indexOf(a):-1;};c.cSb=function(a,b){var f;if(b.ja && b.cause)return new h.Dc(a,b.ja,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0 !== b.pd){f=(b.message?b.message + " ":"") + "";b.code=a;b.message="" === f?void 0:f;return b;}return b instanceof Error?new h.Dc(a,k.K.Yh,void 0,void 0,void 0,void 0,b.stack,b):new h.Dc(a,k.K.Hl,void 0,void 0,void 0,void 0,void 0,b);};b.w8=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hW=void 0;b.hW="QueryStringDataProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B9=void 0;b.B9="NetworkMonitorConfigSymbol";},function(d,b){b.oc=function(a){return "function" === typeof a;};},function(d,b){b.qf=function(a){return null != a && "object" === typeof a;};},function(d,b){b.Mz={e:{}};},function(d,b,a){var c,k,h,m,f,q,l,u;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});k=a(23);d=a(65);h=a(114);m=a(299);f=a(300);q=a(202);l=(function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;})(d.Tn);b.r0b=l;a=(function(a){function b(){a.call(this);this.Dx=[];this.FQ=this.Rg=this.closed=!1;this.xra=null;}c(b,a);b.prototype[q.ZE]=function(){return new l(this);};b.prototype.Or=function(a){var b;b=new u(this,this);b.$Ua=a;return b;};b.prototype.next=function(a){if(this.closed)throw new m.pG();if(!this.Rg)for(var b=this.Dx,f=b.length,b=b.slice(),c=0;c < f;c++){b[c].next(a);}};b.prototype.error=function(a){if(this.closed)throw new m.pG();this.FQ=!0;this.xra=a;this.Rg=!0;for(var b=this.Dx,f=b.length,b=b.slice(),c=0;c < f;c++){b[c].error(a);}this.Dx.length=0;};b.prototype.complete=function(){if(this.closed)throw new m.pG();this.Rg=!0;for(var a=this.Dx,b=a.length,a=a.slice(),f=0;f < b;f++){a[f].complete();}this.Dx.length=0;};b.prototype.unsubscribe=function(){this.closed=this.Rg=!0;this.Dx=null;};b.prototype.Wca=function(b){if(this.closed)throw new m.pG();return a.prototype.Wca.call(this,b);};b.prototype.Mm=function(a){if(this.closed)throw new m.pG();if(this.FQ)return (a.error(this.xra),h.Fy.EMPTY);if(this.Rg)return (a.complete(),h.Fy.EMPTY);this.Dx.push(a);return new f.ECa(this,a);};b.prototype.Qda=function(){var a;a=new k.Bb();a.source=this;return a;};b.create=function(a,b){return new u(a,b);};return b;})(k.Bb);b.Sn=a;u=(function(a){function b(b,f){a.call(this);this.destination=b;this.source=f;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b && b.next && b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b && b.error && this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a && a.complete && this.destination.complete();};b.prototype.Mm=function(a){return this.source?this.source.subscribe(a):h.Fy.EMPTY;};return b;})(a);b.wVb=u;},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.pG=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,f){a.call(this);this.rT=b;this.Oj=f;this.closed=!1;}c(b,a);b.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.rT;b=a.Dx;this.rT=null;!b || 0 === b.length || a.Rg || a.closed || (a=b.indexOf(this.Oj),-1 !== a && b.splice(a,1));}};return b;})(a(114).Fy);b.ECa=d;},function(d,b,a){var c,k;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});k=a(86);d=(function(a){function b(b,c){a.call(this,b,c);this.ya=b;this.ln=!1;this.zsa=c;}c(b,a);b.prototype.Vc=function(a,b){var f;void 0 === b && (b=0);if(this.closed)return this;this.state=a;this.ln=!0;a=this.id;f=this.ya;null != a && (this.id=this.kpa(a,b));this.Ul=b;this.id=this.id || this.xpa(f,this.id,b);return this;};b.prototype.xpa=function(a,b,c){void 0 === c && (c=0);return k.root.setInterval(a.flush.bind(a,this),c);};b.prototype.kpa=function(a,b){void 0 === b && (b=0);return null !== b && this.Ul === b && !1 === this.ln?a:(k.root.clearInterval(a),void 0);};b.prototype.Le=function(a){if(this.closed)return Error("executing a cancelled action");this.ln=!1;if(a=this.zEa(a))return a;!1 === this.ln && null != this.id && (this.id=this.kpa(this.id,null));};b.prototype.zEa=function(a){var b,f;b=!1;f=void 0;try{this.zsa(a);}catch(u){b=!0;f=! !u && u || Error(u);}if(b)return (this.unsubscribe(),f);};b.prototype.Yca=function(){var a,b,c;a=this.id;b=this.ya.mo;c=b.indexOf(this);this.state=this.zsa=null;this.ln=!1;this.ya=null;-1 !== c && b.splice(c,1);null != a && (this.id=this.kpa(a,null));this.Ul=null;};return b;})(a(583).W2a);b.vta=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);this.mo=[];this.active=!1;}c(b,a);b.prototype.flush=function(a){var b,c;b=this.mo;if(this.active)b.push(a);else {this.active=!0;do {if(c=a.Le(a.state,a.Ul))break;}while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();){a.unsubscribe();}throw c;}}};return b;})(a(585).H$a);b.yta=d;},function(d,b,a){var c,k,h,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(65);k=a(586);b.l5b=function(a,b){void 0 === b && (b=0);return function(c){return c.Or(new h(a,b));};};h=(function(){function a(a,b){void 0 === b && (b=0);this.ya=a;this.Ul=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.ya,this.Ul));};return a;})();b.zZb=h;m=(function(a){function b(b,c,f){void 0 === f && (f=0);a.call(this,b);this.ya=c;this.Ul=f;}c(b,a);b.uc=function(a){a.notification.observe(a.destination);this.unsubscribe();};b.prototype.Zpa=function(a){this.add(this.ya.Vc(b.uc,this.Ul,new f(a,this.destination)));};b.prototype.Nl=function(a){this.Zpa(k.Notification.nob(a));};b.prototype.gf=function(a){this.Zpa(k.Notification.Unb(a));};b.prototype.ae=function(){this.Zpa(k.Notification.Jnb());};return b;})(d.Tn);b.wza=m;f=(function(){return function(a,b){this.notification=a;this.destination=b;};})();b.yZb=f;},function(d,b){b.$Qa=function(a){return a && "number" === typeof a.length;};},function(d,b){b.WQ=function(a){return a && "function" !== typeof a.subscribe && "function" === typeof a.then;};},function(d,b,a){var c,k;c=a(307);k=a(603);b.nE=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.PJ(k.wzb,null,a);};},function(d,b,a){var c,k,h,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});k=a(154);d=a(153);b.PJ=function(a,b,c){void 0 === c && (c=Number.POSITIVE_INFINITY);return function(f){"number" === typeof b && (c=b,b=null);return f.Or(new h(a,b,c));};};h=(function(){function a(a,b,c){void 0 === c && (c=Number.POSITIVE_INFINITY);this.NE=a;this.Pu=b;this.rfa=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.NE,this.Pu,this.rfa));};return a;})();b.FYb=h;m=(function(a){function b(b,c,f,d){void 0 === d && (d=Number.POSITIVE_INFINITY);a.call(this,b);this.NE=c;this.Pu=f;this.rfa=d;this.SPa=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.Nl=function(a){this.active < this.rfa?this.Lfb(a):this.buffer.push(a);};b.prototype.Lfb=function(a){var b,c;c=this.index++;try{b=this.NE(a,c);}catch(x){this.destination.error(x);return;}this.active++;this.Hcb(b,a,c);};b.prototype.Hcb=function(a,b,c){this.add(k.p5(this,a,b,c));};b.prototype.ae=function(){this.SPa=!0;0 === this.active && 0 === this.buffer.length && this.destination.complete();};b.prototype.e3=function(a,b,c,f){this.Pu?this.Ndb(a,b,c,f):this.destination.next(b);};b.prototype.Ndb=function(a,b,c,f){var l;try{l=this.Pu(a,b,c,f);}catch(y){this.destination.error(y);return;}this.destination.next(l);};b.prototype.yu=function(a){var b;b=this.buffer;this.remove(a);this.active--;0 < b.length?this.Nl(b.shift()):0 === this.active && this.SPa && this.destination.complete();};return b;})(d.TV);b.GYb=m;},function(d,b,a){d=a(206);b.of=d.p6.of;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this);this.value=b;this.ya=c;this.Mv=!0;c && (this.Mv=!1);}c(b,a);b.create=function(a,c){return new b(a,c);};b.uc=function(a){var b,c;b=a.value;c=a.Oj;a.done?c.complete():(c.next(b),c.closed || (a.done=!0,this.Vc(a)));};b.prototype.Mm=function(a){var c,d;c=this.value;d=this.ya;if(d)return d.Vc(b.uc,0,{done:!1,value:c,Oj:a});a.next(c);a.closed || a.complete();};return b;})(a(23).Bb);b.VBa=d;},function(d,b,a){d=a(619);b.from=d.k6a.create;},function(d,b,a){var h,m;function c(a){var b;b=a.value;a=a.Oj;a.closed || (a.next(b),a.complete());}function k(a){var b;b=a.BD;a=a.Oj;a.closed || a.error(b);}h=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});m=a(86);d=(function(a){function b(b,c){a.call(this);this.Fu=b;this.ya=c;}h(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.Mm=function(a){var b,f,l;b=this;f=this.Fu;l=this.ya;if(null == l)this.Mv?a.closed || (a.next(this.value),a.complete()):f.then(function(c){b.value=c;b.Mv=!0;a.closed || (a.next(c),a.complete());},function(b){a.closed || a.error(b);}).then(null,function(a){m.root.setTimeout(function(){throw a;});});else if(this.Mv){if(!a.closed)return l.Vc(c,0,{value:this.value,Oj:a});}else f.then(function(f){b.value=f;b.Mv=!0;a.closed || a.add(l.Vc(c,0,{value:f,Oj:a}));},function(b){a.closed || a.add(l.Vc(k,0,{BD:b,Oj:a}));}).then(null,function(a){m.root.setTimeout(function(){throw a;});});};return b;})(a(23).Bb);b.nBa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s7=void 0;b.s7="DrmProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.E7=void 0;b.E7="EmeSessionFactorySymbol";},function(d,b,a){var k,h,m,f,q,l,u,t,x,z,g,B,L,I,E,n,W,p,M,D,U;function c(a,c,l,d,q,m,u,t,k){var x;x=this;this.xa=c;this.ar=l;this.config=d;this.kf=q;this.zi=m;this.$t=u;this.ya=t;this.ol=k;this.onMessage=function(a){var c,l,d,q;try{c=x.zi.Gfa(a);l=c.Ax;d=c.Rma;q=c.sessionId;x.uJ=x.uJ || c.uJ;x.YS(q);x.hA=x.zi.hA(c);x.log.trace("Received " + a.type + " event",{sessionId:q,messageType:d,keyIds:x.uJ,isIntermediateChallenge:x.hA});d === b.Y8 && (x.log.trace("Received a renewal request"),x.Zi=z.Fi.Fl,x.Rh=D.SE);x.Rh !== D.Yi || x.hA || (x.Kla={$t:x.$t,data:l},x.no(g.Iq.tXa));x.Rh === D.SE && x.no(g.Iq.uXa);if(x.hR){if(x.Pja(l)){x.cq(new M.Dc(f.L.Eva));return;}x.hR.next({Ti:l,nJa:d,Zi:x.Zi});x.Zi !== z.Fi.Fl || x.hA || (x.hR.complete(),x.hR=void 0);}x.Rh === D.stop && (x.jj.ekb(),x.config.Nj && x.PS && (x.PS.next({Ti:l}),x.PS.complete(),x.PS=void 0));}catch(Za){x.cq(Za);}};this.Kna=function(a){var b,c,l,d,q,u,t,k,g,B,y,I,W,da,M,D,p;c=a.target;l=c.keyStatuses;x.YS(c.sessionId);x.log.trace("Received event: " + a.type);try{q=null === (b=x.context.fs) || void 0 === b?void 0:b.reduce(function(a,b){a[b.fq]=b.p4.height;return a;},{});a=[];for(var h=T(l),m=h.next();!m.done;m=h.next()){u=T(m.value);t=u.next().value;k=u.next().value;g=x.ar.encode(new Uint8Array(t));a.push({fq:g,status:k,height:null === q || void 0 === q?void 0:q[g]});}a.sort(function(a,b){return (a.height || 0) - (b.height || 0);});B=a.map(function(a){return a.fq;});y=a.map(function(a){return a.height;});I=a.map(function(a){return a.status;});x.log.trace("KeyStatus: " + B + ", " + y + ", " + I);for(var L=T(l),E=L.next();!E.done;E=L.next()){W=T(E.value);da=W.next().value;M=W.next().value;D=x.ar.encode(new Uint8Array(da));p=U[M];x.pla.next({fq:D,value:p.status});x.aE(D,p.error) && (d=new n.Ve(p.error),x.YQ(d));}}catch(tb){d=new n.Ve(f.L.y9a);d.HP(tb);}d?x.mla(d):(x.zi.oZ() || x.GRa(),x.Zi !== z.Fi.ty || x.zi.cea() || x.dMb());};this.yE=function(a){var b;b=x.zi.Lp(a);x.log.error("Received event: " + a.type,b);x.cq(b);x.mla(b);x.Gj || x.cn || x.YQ(b);};this.QGb=function(){x.log.error("MediaKeySession closed unexpectedly.");x.YQ(new M.Dc(f.L.P5a));};this.cq=function(a){x.Gj && x.close().subscribe(void 0,function(b){x.log.error("EmeSession closed with an error.",x.zi.Lp(b));x.Gj && (x.Gj.error(a),x.Gj=void 0);},function(){x.log.trace("Issuing a generate challenge error");x.Gj && (x.Gj.error(a),x.Gj=void 0);});};this.FRa=function(){x.Gj && (x.Gj.complete(),x.Gj=void 0);};this.mla=function(a){x.cn && (x.log.error("Failed to add license",a),x.close().subscribe(void 0,function(b){x.log.error("EmeSession closed with an error.",x.zi.Lp(b));x.Rh === D.SE && x.no(g.Iq.eHa);x.Gj=void 0;x.cn && (x.cn.error(a),x.cn=void 0);},function(){x.log.trace("Issuing a license error");x.Gj=void 0;x.cn && (x.cn.error(a),x.cn=void 0);}));};this.GRa=function(){x.cn && (x.log.info("Successfully added license"),x.Rh === D.Yi?x.no(g.Iq.ZGa):x.Rh === D.SE && x.no(g.Iq.dHa),x.cn.complete(),x.cn=void 0);};this.YQ=function(a){x.vr && x.close().subscribe(void 0,function(b){x.log.error("EmeSession closed with an error.",x.zi.Lp(b));x.Gj=void 0;x.cn=void 0;x.vr && (x.vr.next(a),x.vr.complete(),x.vr=void 0);},function(){x.log.trace("Issuing a CDM error");x.Gj=void 0;x.cn=void 0;x.vr && (x.vr.next(a),x.vr.complete(),x.vr=void 0);});};this.no=function(a){x.Ed.push({time:x.xa.zb(),REb:a});};this.TXa=!1;this.log=a.ob("EmeSession");this.hR=new h.Sn();this.config.Nj && (this.PS=new h.Sn());this.pla=new h.d$a();this.vr=new h.Sn();this.Rh=D.WSb;this.Ed=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Qva=b.Y8=b.Z8=void 0;d=a(0);k=a(1);h=a(133);m=a(4);f=a(2);q=a(19);l=a(6);u=a(41);t=a(36);x=a(53);z=a(74);g=a(315);B=a(644);L=a(131);I=a(207);E=a(645);n=a(73);W=a(646);p=a(61);M=a(43);(function(a){a[a.WSb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Yi=3]="license";a[a.SE=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";})(D || (D={}));b.Z8="license-request";b.Y8="license-renewal";U={usable:{status:B.Ns.v1a},expired:{status:B.Ns.jsb,error:f.L.Iza},released:{status:B.Ns.LLb},"output-not-allowed":{status:B.Ns.iVa,error:f.L.Jza},"output-restricted":{status:B.Ns.iVa,error:f.L.O9},"output-downscaled":{status:B.Ns.HHb},"status-pending":{status:B.Ns.uQb},"internal-error":{status:B.Ns.oAb,error:f.L.x9a}};c.prototype.Uw=function(){var a;return (null === (a=this.vTa) || void 0 === a?void 0:a.keySystem) || "";};c.prototype.Tw=function(){return this.sessionId;};c.prototype.close=function(){var a;a=this;this.pla.complete();this.Rh=D.closed;this.Ed=[];return this.kf.mBb()?(this.log.trace("Closing the session"),this.kf.MXa(this.onMessage),this.kf.JXa(this.Kna),this.kf.HXa(this.yE),this.im=void 0,h.Bb.create(function(b){a.ol.rn(a.config.DHa,a.kf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.zi.Lp(c);c.code=f.L.A9a;b.error(c);});})):h.Bb.empty();};c.prototype.PRa=function(){return this.pla.Qda();};c.prototype.bu=function(){return this.vr?this.vr.Qda():void 0;};c.prototype.Br=function(){return this.$t;};c.prototype.Rja=function(){return void 0 !== this.dn;};c.prototype.Tm=function(a,b,c,l){var d;d=this;this.context=a;this.vTa=b;this.AR=c;this.Zi=l;this.Rh=D.create;this.no(g.Iq.eSa);return h.Bb.create(function(a){(c.XPa()?Promise.resolve():d.ol.rn(d.config.EHa,d.kf.job(b)).then(function(a){d.log.trace("Created media keys");c.bF(a);return d.thb(a);})).then(function(){d.im=c.im;try{d.kf.Tm(d.im,d.zi.A0(l));d.kf.aHa(d.onMessage);d.kf.XGa(d.Kna);d.kf.VGa(d.yE);d.kf.rgb(d.QGb);d.YS(d.kf.Tw());a.next(d);a.complete();}catch(ga){a.error(new n.Ve(f.L.J5a,f.K.Yh,void 0,"Unable to create a persisted key session",ga));}})["catch"](function(b){b.code && b.pd?a.error(b):a.error(new n.Ve(f.L.y7,b instanceof p.Un?f.K.mM:f.K.Yh,void 0,"Unable to create MediaKeys. " + b.message,b));});});};c.prototype.OOb=function(a){this.xg=a;this.log.lda("xid",a.ea);};c.prototype.mSa=function(a){var b;b=this;this.log.trace("Loading the session");this.Rh=D.load;this.jc=a.jc;this.ILb={ea:a.ea};return h.Bb.fu(this.kf.load(a.jc[0].id).then(function(){b.log.trace("Loaded the session.");return b;})["catch"](function(a){b.log.error("Loading the session failed.",a);throw a;}));};c.prototype.MJb=function(a){return this.config.PYa && !a?this.MLb():Promise.resolve();};c.prototype.MLb=function(){var a,b;a=this;this.log.trace("Reloading the session.");b={jc:this.jc,ke:this.Uw(),u:this.xg.u,ea:this.xg.ea};return this.close().As().then(function(){return a.log.trace("Creating the session.");}).then(function(){return a.Tm(a.context,a.vTa,a.AR,z.Fi.Fl).As();}).then(function(){return a.log.trace("Created the session.");}).then(function(){return a.mSa(b).As();}).then(function(){return a.log.trace("Reloaded the session.");});};c.prototype.Z_=function(a){var b;b=this;this.Rh=D.Yi;this.log.trace("Generating a license challenge");this.Gj=new h.Sn();if(!a)return this.hfa(new n.Ve(f.L.Bva,f.K.B7));if(this.Pja(a))return this.hfa(new n.Ve(f.L.Bva,f.K.z7));this.ol.rn(this.config.FHa,this.kf.MI("cenc",a)).then(function(){b.YS(b.kf.Tw());})["catch"](function(a){var c,l;c=new n.Ve(f.L.PU,a instanceof p.Un?f.K.mM:f.K.Yh);l=b.zi.Lp(a);c.Og=l.Og;c.message="Unable to generate request.";c.HP(a);b.log.error("Unable to generate a license request",c);b.cq(c);});this.log.trace("Returning the challenge subject");return this.Gj;};c.prototype.YGa=function(a){var b;b=this;this.jc=a.jc;a=a.dn.map(function(a){return a.data;});this.Pja(a)?(this.log.error("The license buffer is empty"),this.cq(new n.Ve(f.L.Cva,f.K.z7))):this.hA?this.ol.rn(this.config.Hda,this.kf.update(a,this.uJ)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.zi.Lp(a);a.code=f.L.QU;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.cq(a);}):(this.Rh === D.Yi && (this.no(g.Iq.sXa),this.dn=a,this.FRa()),this.Rh === D.SE && (this.no(g.Iq.vXa),this.dn=a,this.Nda()));};c.prototype.Dgb=function(a){this.Rh === D.SE?(this.no(g.Iq.wXa),this.YQ(a)):this.cq(a);};c.prototype.Nda=function(){var a,b;a=this;if(!this.dn)return this.hfa(new n.Ve(f.L.Cva,f.K.B7));this.cn=new h.Sn();b=this.dn;this.dn=void 0;this.ol.rn(this.config.Hda,this.kf.update(b,this.uJ)).then(function(){a.zi.oZ() && a.GRa();})["catch"](function(b){b=a.zi.Lp(b);b.code=f.L.Mza;b.message="Unable to update the EME";a.log.error(b.message,b);a.mla(b);});return this.cn;};c.prototype.BJ=function(){return this.hR;};c.prototype.DNa=function(a){var b;b=this;if(this.Rh === D.Yi && this.Zi === z.Fi.ty)return h.Bb.empty();this.Gj=new h.Sn();this.jj=new W.Ova(this.xa,this.config,this.ya,function(a){b.cq(a);},"non-persisted");this.jj.fkb();this.MJb(a).then(function(){b.Rh=D.stop;b.log.trace("Generating a secure stop challenge");return b.kf.remove();}).then(function(){return b.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(a){var c;c=b.zi.Lp(a);c.code=f.L.Fva;c.pd=f.K.Yh;c.message="Call to 'remove' on key session failed";b.log.error("Call to 'remove' on key session failed",{error:a});b.cq(c);});return this.Gj;};c.prototype.fHa=function(a){a && a.constructor !== Uint8Array?this.cq(a):a?0 === a.length?(this.log.error("The secure stop buffer is empty"),this.cq(new n.Ve(f.L.Dva,f.K.z7))):(this.log.trace("Secure stop is ready to apply"),this.NYa=a,this.jj.iOb(),this.FRa()):(this.log.error("The secure stop buffer is undefined"),this.cq(new n.Ve(f.L.Dva,f.K.B7)));};c.prototype.NHa=function(){var a;a=this;if(!this.NYa)return h.Bb.from([this]);this.log.trace("Setting the secure stop data");return h.Bb.create(function(b){a.jj.gkb();a.kf.update([a.NYa]).then(function(){a.jj.iJa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var l;a.jj.iJa();l=a.zi.Lp(c);l.code=f.L.QU;l.pd=f.K.Yh;l.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(l);});});};c.prototype.thb=function(a){var b,c;b=this;c=this.zi.uia();return c?(c=this.ar.decode(c),this.ol.rn(this.config.HHa,this.kf.UOb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};c.prototype.YS=function(a){a && a !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + a),this.sessionId=a,this.log.lda("sessionId",a));};c.prototype.dMb=function(){var a;a=this;this.TXa || (this.TXa=!0,this.log.info("Kicking off license renewal",{timeout:this.config.mA}),setTimeout(function(){a.FS();},this.config.mA.ba(m.fa)));};c.prototype.sBb=function(a){var b;return !(null === (b=this.context.fs) || void 0 === b || !b.some(function(b){return b.fq === a && 1080 < b.p4.height;}));};c.prototype.aE=function(a,b){return b === f.L.O9?this.sBb(a)?this.config.kVa:this.config.jVa:! !b;};c.prototype.FS=function(){this.log.trace("Initiating a renewal request");this.Zi=z.Fi.Fl;this.Rh=D.SE;this.zi.Kea()?this.zi.Nka(this.kf):this.yZ();};c.prototype.yZ=function(){var a,b;a=this;b=this.zi.A0(z.Fi.Fl);this.kf.yZ(this.im,b,this.onMessage,this.Kna,this.yE).then(function(){a.log.debug("createSession(" + b + ")");a.YS(a.kf.Tw());})["catch"](function(){a.YQ(new n.Ve(f.L.PU));});};c.prototype.hfa=function(a){var b;b=this;return h.Bb.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};c.prototype.Pja=function(a){return 0 === a.length || a.reduce(function(a,b){return a || 0 === b.length;},!1);};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(l.xb)),d.__param(1,k.l(q.xd)),d.__param(2,k.l(u.Di)),d.__param(3,k.l(x.zm)),d.__param(4,k.l(E.Mva)),d.__param(5,k.l(I.uva)),d.__param(6,k.l(L.wva)),d.__param(7,k.l(t.Ig)),d.__param(8,k.l(p.Cy))],a);b.Qva=a;},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.MLa=b.Iq=void 0;(function(a){a[a.eSa=0]="licenseStarted";a[a.tXa=1]="receivedLicenseChallenge";a[a.sXa=2]="receivedLicense";a[a.uXa=3]="receivedRenewalChallengeComplete";a[a.vXa=4]="receivedRenewalLicenseComplete";a[a.wXa=5]="receivedRenewalLicenseFailed";a[a.$Kb=6]="receivedIndivChallengeComplete";a[a.aLb=7]="receivedIndivLicenseComplete";a[a.ZGa=8]="addLicenseComplete";a[a.dHa=9]="addRenewalLicenseComplete";a[a.eHa=10]="addRenewalLicenseFailed";})(a=b.Iq || (b.Iq={}));b.MLa=function(b){switch(b){case a.eSa:return "lg";case a.tXa:return "lc";case a.sXa:return "lr";case a.uXa:return "renew_lc";case a.vXa:return "renew_lr";case a.wXa:return "renew_lr_failed";case a.$Kb:return "ilc";case a.aLb:return "ilr";case a.ZGa:return "ld";case a.dHa:return "renew_ld";case a.eHa:return "renew_ld_failed";default:return "unknown";}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S6=void 0;b.S6="ClockConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F9=void 0;b.F9="OneWayCounterFactorySymbol";},function(d,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.B6=void 0;d=a(0);a=a(1);k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(a){for(var b=new Uint8Array(a.length / 2),c=0;c < b.length;c++){b[c]=this.u0a(a.substr(2 * c,2));}return b;};c.prototype.encode=function(a){var d,b;for(var b="",c=a.length,l=0;l < c;l++){d=a[l];b=b + (("0123456789ABCDEF")[d >>> 4] + ("0123456789ABCDEF")[d & 15]);}return b;};c.prototype.gQ=function(a,b){var c;c="";for(b<<=1;b--;){c=(("0123456789ABCDEF")[a & 15] || "0") + c;a>>>=4;}return c;};c.prototype.u0a=function(a){var b;b=a.length;if(7 < b)throw Error("hex to long");for(var c=0,l=0;l < b;l++){c=16 * c + k[a[l]];}return c;};h=c;h=d.__decorate([a.N()],h);b.B6=h;},function(d,b,a){var k,h;function c(){this.Fo={};this.id="$es$" + k.Az++;}Object.defineProperty(b,"__esModule",{value:!0});b.pj=void 0;d=a(0);a=a(1);c.prototype.addListener=function(a,b,c){var f,d;f="$netflix$player$order" + this.id + "$" + a;if(this.Fo){d=this.Fo[a]?this.Fo[a].slice():[];c && (b[f]=c);0 > d.indexOf(b) && (d.push(b),d.sort(function(a,b){return (a[f] || 0) - (b[f] || 0);}));this.Fo[a]=d;}};c.prototype.removeListener=function(a,b){if(this.Fo && this.Fo[a]){for(var c=this.Fo[a].slice(),f;0 <= (f=c.indexOf(b));){c.splice(f,1);}this.Fo[a]=c;}};c.prototype.cc=function(a,b,c){var f;if(this.Fo){f=this.Dia(a);for(a={lk:0};a.lk < f.length;(a={lk:a.lk},a.lk++)){c?(function(a){return function(){var c;c=f[a.lk];setTimeout(function(){c(b);},0);};})(a)():f[a.lk].call(this,b);}}};c.prototype.Ng=function(){this.Fo=void 0;};c.prototype.on=function(a,b,c){this.addListener(a,b,c);};c.prototype.Dia=function(a){var b;return null !== (b=this.Fo && (this.Fo[a] || (this.Fo[a]=[]))) && void 0 !== b?b:[];};h=k=c;h.Az=0;h=k=d.__decorate([a.N()],h);b.pj=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.raa=void 0;b.raa="StringUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W6=void 0;b.W6="CsvEncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h7=void 0;b.h7="DecoderTimeoutPathologistSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v9=b.x8a=void 0;b.x8a=function(){};b.v9="MseConfigSymbol";},function(d,b,a){var k;function c(a){this.Ncb=void 0 === a?!1:a;this.re={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.S$=void 0;d=a(0);a=a(1);c.prototype.add=function(a,b){var c;b=void 0 === b?0:b;c=this.re[b];c?this.Ncb && -1 !== c.indexOf(a) || c.push(a):this.re[b]=[a];};c.prototype.remove=function(a,b){this.Qv(a,void 0 === b?0:b);};c.prototype.removeAll=function(a){this.Qv(a);};c.prototype.xr=function(){var a;a=this;return Object.keys(this.re).sort().reduce(function(b,c){return b.concat(a.re[c]);},[]);};c.prototype.Qv=function(a,b){Object.entries(this.re).forEach(function(c){var f,l;f=T(c);c=f.next().value;f=f.next().value;if(void 0 === b || b === parseInt(c)){-1 < (l=f.indexOf(a)) && f.splice(l,1);}});};k=c;k=d.__decorate([a.N()],k);b.S$=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iaa=void 0;b.Iaa="UrlFactorySymbol";},function(d,b,a){var k,h,m,f;function c(a,b,c,f,d,k,g){this.debug=a;this.config=b;this.platform=c;this.x2=f;this.debug.assert(d && d != h.L.Hl,"There should always be a specific error code");this.errorCode=d || h.L.Hl;k && m.qf(k)?(this.ja=k.ja || k.pd,this.Ke=k.Ke || k.Og,this.mha=k.mha || k.wI,this.ub=k.ub || k.Yt,this.vD=k.lha,this.FI=k.FI || k.YTa || k.wu,this.q_=k.q_ || k.data,k.zR && (this.zR=k.zR),this.Vi=k.Vi,this.method=k.method,this.PR=k.PR,this.alert=k.alert,this.Bda=k.Bda,this.debug.assert(!this.Vi || this.Vi == this.Ke)):(this.ja=k,this.Ke=g);this.stack=[this.errorCode];this.ja?this.stack.push(this.ja):this.Ke && this.stack.push(h.K.Hl);this.Ke && this.stack.push(this.Ke);this.WZ=this.platform.CD + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;k=a(11);h=a(2);m=a(27);f=a(15);a(22);c.prototype.toString=function(){var a;a="[PlayerError #" + this.WZ + "]";this.ub && (a+=" " + this.ub);this.vD && (a+=" (CustomMessage: " + this.vD + ")");return a;};c.prototype.Era=function(){var a,b;this.vD && (a=["streaming_error"]);a || this.x2.Br() !== k.OU || ("80080017" == this.Ke && (a=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ke && (a=["pause_timeout"]));a || this.x2.Br() !== k.u7 || this.errorCode !== h.L.Ava && this.errorCode !== h.L.y7 || (a=["no_cdm","platform_error","plugin_error"]);this.oBb() && (a=["received_soad"]);b=this.Uub();b && (a=[b],this.vD=void 0);if(!a)switch(this.errorCode){case h.L.UV:case h.L.tV:case h.L.M2a:case h.L.Iza:a=["pause_timeout"];break;case h.L.fxa:case h.L.gxa:a=this.ja?["platform_error"]:["multiple_tabs"];break;case h.L.Q7a:case h.L.G$a:case h.L.p7a:case h.L.o7a:case h.L.r7a:a=["should_signout_and_signin"];break;case h.L.u8:case h.L.Lza:case h.L.Kza:case h.L.R9:case h.L.s9a:a=["platform_error","plugin_error"];break;case h.L.C9a:a=["no_cdm","platform_error","plugin_error"];break;case h.L.P9:a=this.ja?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.L.QU:case h.L.VV:case h.L.Mza:switch(this.Ke){case "FFFFD000":a=["device_needs_service","platform_error"];break;case "48444350":a=["unsupported_output","platform_error"];break;case "00000024":a=["private_mode"];}break;case h.L.Jza:case h.L.O9:a=["unsupported_output"];}!a && h.Yva(this.ja) && (a=this.ja == h.K.wM?["geo"]:["internet_connection_problem"]);a || this.errorCode !== h.L.y7 || this.ja !== h.K.Yh || "S" !== this.platform.CD || (a=["private_mode"]);if(!a)switch(this.B_a(this.ja)){case h.K.Oaa:a=["should_upgrade"];break;case h.K.Dza:a=["should_reset_device"];break;case h.K.Cza:a=["should_reload_device"];break;case h.K.Bza:a=["should_exit_device"];break;case h.K.z8a:case h.K.oya:a=["should_signout_and_signin"];break;case h.K.A8a:a=["internet_connection_problem"];break;case h.K.Mua:a=["platform_error","plugin_error"];break;case h.K.Z6:case h.K.Nwa:case h.K.Owa:a=["private_mode"];}a=a || [];a.push(this.platform.CD + this.errorCode);if(this.ja)switch(this.B_a(this.ja)){case h.K.Eza:a.push("incorrect_pin");break;default:a.push("" + this.ja);}a={display:{code:this.WZ,text:this.vD},messageIdList:a,alert:this.alert,alertTag:this.Bda};if(this.FI || this.YTa)a.mslErrorCode=this.FI || this.YTa || this.wu;return a;};c.prototype.B_a=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.oBb=function(){var a;a=f.pa(this.Ke)?this.Ke.toString():f.df(this.Ke)?this.Ke:"";return this.FI === h.GV.Haa && (a.endsWith("2018") || a.endsWith("2020"));};c.prototype.Uub=function(){if(this.errorCode === h.L.JB && (this.ja === h.K.J9 || this.ja === h.K.Aza))return this.Vub(this.ja === h.K.J9);};c.prototype.Vub=function(a){var b,c,f,d;f=this.config().browserInfo || ({});d=null === (b=f.os) || void 0 === b?void 0:b.name;b=((null === (c=f.os) || void 0 === c?void 0:c.version) || "").split(".");c=parseInt(b && b[0]);b=parseInt(b && b[1]);switch(d){case "windows":return 6 > c || 6 === c && 1 > b?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > c || 10 === c && 10 > b?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.MAa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CV=void 0;b.CV="MediaElementHelpersSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.VF=void 0;b.VF="EventSourceFactorySymbol";},function(d,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VF=b.awa=void 0;d=a(0);k=a(319);a=a(1);c.prototype.create=function(){return new k.pj();};h=c;h=d.__decorate([a.N()],h);b.awa=h;b.VF="EventSourceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d7=void 0;b.d7="DebouncerFactorySymbol";},function(d,b,a){var k;function c(a,b,c,d,l,u){this.level=a;this.Rm=b;this.timestamp=c;this.message=d;this.ld=l;this.index=void 0 === u?0:u;this.M7a={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.P8=void 0;k=a(4);c.prototype.x5=function(a,b){var c;c="" + this.message;this.ld.forEach(function(f){c+=f.vF(a,b);});return (this.timestamp.ba(k.fa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.M7a[this.level] || this.level) + "|" + this.Rm + "| " + c;};b.P8=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.haa=void 0;b.haa="SegmentConfigFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z$=void 0;b.z$="PlaybackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Maa=void 0;b.Maa="VideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Baa=void 0;b.Baa="TransitionLoggerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m7=void 0;b.m7="DiagnosticsFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z9=void 0;b.Z9="PboGenerateScreenshotsCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.waa=void 0;b.waa="ThroughputTrackerConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q6=void 0;b.Q6="CdnThroughputTracker";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L7=void 0;b.L7="ExtraPlatformInfoProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N6=void 0;b.N6="CapabilityDetectorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w6=void 0;b.w6={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(d,b,a){var k,h,m;function c(a,b,c){this.config=a;this.Mma=b;this.I=c;this.Oma={};this.Oma[k.Us.Audio]="audio";this.Oma[k.Us.vDa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.dM=void 0;k=a(30);d=a(101);h=a(344);m=new d.Ey().format;c.prototype.sPa=function(a){return this.Xpb(this.ZOa(a));};c.prototype.uw=function(a){return this.Mma.isTypeSupported(a);};c.prototype.$Na=function(){return [h.Wg.iU,h.Wg.XF];};c.prototype.Lka=function(){this.nl=[];this.hs=[];this.config().nVa && this.hs.push(h.Wg.uwa);this.config().mVa && this.hs.push(h.Wg.twa);this.config().eS && this.hs.push(h.Wg.JF);this.config().oVa && this.hs.push(h.Wg.Iy);this.config().lVa && this.hs.push(h.Wg.nj);this.hs=this.hs.concat(this.$Na());!this.config().Irb && this.nl.push(h.Wg.LW);!this.config().Wga && this.nl.push(h.Wg.y4a);!this.config().Vga && this.nl.push(h.Wg.z4a);!this.config().RP && this.nl.push(h.Wg.A4a);!this.config().xrb && this.nl.push(/prk$/);this.config().nVa || this.config().nrb || this.nl.push(h.Wg.uwa);this.config().mVa || this.config().Yga || this.nl.push(h.Wg.twa);this.config().eS || this.config().j_ || this.nl.push(h.Wg.JF);this.config().oVa || this.config().Grb || this.nl.push(h.Wg.Iy);this.config().lVa || this.config().irb || this.nl.push(h.Wg.nj);!this.config().Frb && this.nl.push(h.Wg.zG);};c.prototype.C_=function(a){var b;b=this;a=a.filter(function(a){for(var c=T(b.hs),f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !0;}c=T(b.nl);for(f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !1;}a=b.Qoa[a];f="";if(a)return (Array.isArray(a) && (f=1 < a.length?" " + a[1]:"",a=a[0]),a=m("{0}/mp4;codecs={1};{2}",b.Oma[b.I],a,f),b.uw(a));});return Promise.resolve(a);};c.prototype.Xpb=function(a){var b;b={};this.Lka();return this.C_(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};pa.Object.defineProperties(c.prototype,{Qoa:{configurable:!0,enumerable:!0,get:function(){this.VFa || (this.VFa=this.pD());return this.VFa;}}});b.dM=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wg=void 0;b.Wg=a;a.uwa=/^hevc-main/;a.twa=/^hevc-hdr-|hevc-dv/;a.ov=/^hevc-hdr-/;a.jv=/^hevc-dv/;a.XF=/-h264mpl/;a.nM=/-h264mpl30/;a.YF=/-h264mpl31/;a.JF=/-h264hpl/;a.Iy=/^vp9-/;a.nj=/^av1-/;a.zG=/-L5[0-1]-/;a.iU=/^heaac-2-/;a.SXb=/^heaac-2hq-dash/;a.LW=/^xheaac-dash/;a.y4a=/ddplus-2/;a.z4a=/ddplus-5/;a.A4a=/ddplus-atmos/;},function(d,b,a){var k,h,m;function c(a,b){var c;c=h.dM.call(this,a,b,k.Us.Audio) || this;c.config=a;c.Mma=b;c.type=k.ky.AB;return c;}Object.defineProperty(b,"__esModule",{value:!0});b.KU=void 0;k=a(30);h=a(343);m=a(57);a(135);new (a(101).Ey)();N(c,h.dM);c.prototype.tT=function(){return Promise.resolve(!1);};c.prototype.pD=function(){var a;a={};a[m.Ci.cV]="mp4a.40.2";a[m.Ci.t6a]="mp4a.40.2";a[m.Ci.a8]="mp4a.40.5";a[m.Ci.dV]="mp4a.40.2";a[m.Ci.LW]="mp4a.40.42";this.config().Wga && (a[m.Ci.HU]="ec-3");this.config().Vga && (a[m.Ci.X6]="ec-3");this.config().RP && (a[m.Ci.IU]="ec-3");return a;};c.prototype.ZOa=function(a){return a || this.config().OO;};b.KU=c;c.EL="audio/mp4;codecs={0};";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j9=void 0;b.j9="MediaCapabilitiesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.i9=void 0;b.i9="MediaCapabilitiesLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q$=void 0;b.Q$="PresentationAPISymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.AM=void 0;b.AM="IndexedDBConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tW=void 0;b.tW="Storage";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T6=void 0;b.T6="CorruptedStorageValidatorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L8=void 0;b.L8="LocalStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p9=void 0;b.p9="MemoryStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n7=void 0;b.n7="DiskStorageRegistrySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G6=void 0;b.G6="BookmarkConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F6=void 0;b.F6="BookmarkConfigParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L6=void 0;b.L6="CDMAttestedDescriptorProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e9=void 0;b.e9="ManifestParserFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d9=void 0;b.d9="ManifestProviderConfigSymbol";},function(d){d.W=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(d,b,a){var c,k,h,m,f,q;b=a(54);c=a(362);k=a(738);h=a(360);m=a(222);f=a(743);q=a(365);a=b(c(["filter"],f,function(a,b){return h(b)?m(function(c,f){a(b[f]) && (c[f]=b[f]);return c;},{},q(b)):k(a,b);}));d.W=a;},function(d,b,a){var c,k;c=a(363);k=a(737);d.W=function(a,b,f){return function(){var d,l;if(0 === arguments.length)return f();d=Array.prototype.slice.call(arguments,0);l=d.pop();if(!c(l)){for(var h=0;h < a.length;){if("function" === typeof l[a[h]])return l[a[h]].apply(l,d);h+=1;}if(k(l))return b.apply(null,d)(l);}return f.apply(this,arguments);};};},function(d){d.W=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(d){d.W={Ib:function(){return this.hU["@@transducer/init"]();},result:function(b){return this.hU["@@transducer/result"](b);}};},function(d,b,a){var c,k,h,m,f;b=a(119);c=a(221);k=a(744);h=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");f=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || f?function(a){var b,d,q,x;if(Object(a) !== a)return [];q=[];d=f && k(a);for(b in a){!c(b,a) || d && "length" === b || (q[q.length]=b);}if(h)for(d=m.length - 1;0 <= d;){b=m[d];if(x=c(b,a)){a:{for(x=0;x < q.length;){if(q[x] === b){x=!0;break a;}x+=1;}x=!1;}x=!x;}x && (q[q.length]=b);--d;}return q;}:function(a){return Object(a) !== a?[]:Object.keys(a);});d.W=a;},function(d){d.W=function(b,a){for(var c=0,d=a.length,h=Array(d);c < d;){h[c]=b(a[c]);c+=1;}return h;};},function(d,b,a){var c,k,h;c=a(223);k=a(119);b=a(54);h=a(747);a=b(function(a,b){return 1 === a?k(b):c(a,h(a,[],b));});d.W=a;},function(d,b){function a(a,b){this.log=a;this.iB=b;}Object.defineProperty(b,"__esModule",{value:!0});b.DM=void 0;a.prototype.E0a=function(a,b){var c,d;c=this;if(!a)return (this.log.warn("There are no media streams for " + b.type + " track - " + b.jb),[]);d=a.map(function(a){var f;f=c.iB(b,b.type,a.Lga,a.S,a.ib,a.size,c.uvb(a.Be),a.pP,a.Otb / a.Ntb,a.mu);f.gPb(a.zMb,a.yMb,a.WVa,a.VVa);f.xOb(a.Lob,a.Mob,a.Kob,a.Job,a.WVa,a.VVa);b.Yk && (f.Yk=b.Yk);a.pP && (f.Yf=a.pP);return f;});d.sort(function(a,b){return a.S - b.S;});d.forEach(function(a,b){a.lower=d[b - 1];a.ezb=d[b + 1];});return d;};a.prototype.uvb=function(a){return a.reduce(function(a,b){a[b.kJa]=b.url;return a;},{});};b.DM=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.E$=void 0;b.E$="PlayerTextTrackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Daa=void 0;b.Daa="TrickPlayFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g9=void 0;b.g9="ManifestVerifyErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f9=void 0;b.f9="ManifestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b$=b.c$=void 0;b.c$="PboLinksManagerSymbol";b.b$="PboLinksManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b9=void 0;b.b9="ManifestEnricherSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(766),b);d.__exportStar(a(767),b);d.__exportStar(a(768),b);d.__exportStar(a(769),b);d.__exportStar(a(770),b);d.__exportStar(a(771),b);d.__exportStar(a(772),b);d.__exportStar(a(773),b);d.__exportStar(a(774),b);d.__exportStar(a(775),b);d.__exportStar(a(776),b);d.__exportStar(a(777),b);d.__exportStar(a(781),b);d.__exportStar(a(782),b);d.__exportStar(a(783),b);d.__exportStar(a(227),b);d.__exportStar(a(784),b);d.__exportStar(a(785),b);d.__exportStar(a(786),b);d.__exportStar(a(787),b);d.__exportStar(a(788),b);d.__exportStar(a(789),b);d.__exportStar(a(790),b);d.__exportStar(a(791),b);d.__exportStar(a(792),b);d.__exportStar(a(793),b);d.__exportStar(a(794),b);d.__exportStar(a(795),b);d.__exportStar(a(796),b);d.__exportStar(a(797),b);d.__exportStar(a(798),b);d.__exportStar(a(799),b);d.__exportStar(a(800),b);d.__exportStar(a(807),b);d.__exportStar(a(809),b);},function(d){function b(){}function a(a){this.BGa=a;this.Xn=[];this.If=null;}b.prototype.clear=function(){this.re=null;this.size=0;};b.prototype.find=function(a){var c;for(var b=this.re;null !== b;){c=this.Jl(a,b.data);if(0 === c)return b.data;b=b.tg(0 < c);}return null;};b.prototype.lowerBound=function(a){var f;for(var b=this.re,c=this.iterator(),d=this.Jl;null !== b;){f=d(a,b.data);if(0 === f)return (c.If=b,c);c.Xn.push(b);b=b.tg(0 < f);}for(f=c.Xn.length - 1;0 <= f;--f){if((b=c.Xn[f],0 > d(a,b.data)))return (c.If=b,c.Xn.length=f,c);}c.Xn.length=0;return c;};b.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Jl;null !== b.data() && 0 === c(b.data(),a);){b.next();}return b;};b.prototype.min=function(){var a;a=this.re;if(null === a)return null;for(;null !== a.left;){a=a.left;}return a.data;};b.prototype.max=function(){var a;a=this.re;if(null === a)return null;for(;null !== a.right;){a=a.right;}return a.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.he=function(a){for(var b=this.iterator(),c;null !== (c=b.next());){a(c);}};a.prototype.data=function(){return null !== this.If?this.If.data:null;};a.prototype.next=function(){var a;if(null === this.If){a=this.BGa.re;null !== a && this.wFa(a);}else if(null === this.If.right){do {if((a=this.If,this.Xn.length))this.If=this.Xn.pop();else {this.If=null;break;}}while(this.If.right === a);}else (this.Xn.push(this.If),this.wFa(this.If.right));return null !== this.If?this.If.data:null;};a.prototype.LE=function(){var a;if(null === this.If){a=this.BGa.re;null !== a && this.uFa(a);}else if(null === this.If.left){do {if((a=this.If,this.Xn.length))this.If=this.Xn.pop();else {this.If=null;break;}}while(this.If.left === a);}else (this.Xn.push(this.If),this.uFa(this.If.left));return null !== this.If?this.If.data:null;};a.prototype.wFa=function(a){for(;null !== a.left;){this.Xn.push(a);a=a.left;}this.If=a;};a.prototype.uFa=function(a){for(;null !== a.right;){this.Xn.push(a);a=a.right;}this.If=a;};d.W=b;},function(d){function b(a){this.lca=a;this.jf=[];this.Ap=!1;this.FC=void 0;this.Oi={};}b.prototype.CY=function(a){this.jf.length === this.lca && this.jf.shift();Array.isArray(a)?this.jf=this.jf.concat(a):this.jf.push(a);this.Ap=!0;};b.prototype.WI=function(){return this.jf.length;};b.prototype.Hea=function(){var a;a=this.jf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.jf.length:void 0;};b.prototype.fZ=function(){var a,b;a=this.jf;if(0 < a.length){b=this.Hea();a=a.reduce(function(a,b){return a + b * b;},0) / a.length;return Math.sqrt(a - b * b);}};b.prototype.fr=function(a){var b,d,h;if(this.Ap || void 0 === this.FC)(this.FC=this.jf.slice(0).sort(function(a,b){return a - b;}),this.Oi={},this.Ap=!1);if(void 0 === this.Oi[a]){b=this.FC;d=Math.floor(a / 100 * (b.length - 1) + 1) - 1;h=(a / 100 * (b.length - 1) + 1) % 1;this.Oi[a]=d === b.length - 1?b[d]:b[d] + h * (b[d + 1] - b[d]);}return this.Oi[a];};d.W=b;},function(d,b,a){d.W={a3b:a(379),l6b:a(231),YVb:a(827),XVb:a(380),ZVb:a(381),jwa:a(830)};},function(d,b,a){var m;function c(a){this.reset();this.NOb(a);}function k(a){this.setInterval(a);this.reset();}function h(a){this.Qy=new k(a);this.de=0;this.$b=null;}m=a(8);c.prototype.NOb=function(a){this.DG=Math.pow(.5,1 / a);this.HN=a;};c.prototype.reset=function(a){a && a.Ga && m.pa(a.Ga)?a.Xh && m.pa(a.Xh)?(this.qt=this.Ecb,this.Yn=a.Ga,this.My=a.Xh + a.Ga * a.Ga):(this.qt=this.Ecb,this.Yn=a.Ga,this.My=a.Ga * a.Ga):this.My=this.Yn=this.qt=0;};c.prototype.add=function(a){var b;if(m.pa(a)){this.qt++;b=this.DG;this.Yn=b * this.Yn + (1 - b) * a;this.My=b * this.My + (1 - b) * a * a;}};c.prototype.get=function(){var a,b,c;if(0 === this.qt)return {Ga:0,Xh:0};a=this.Yn;b=this.My;c=1 - Math.pow(this.DG,this.qt);a=a / c;b=b / c;c=a * a;return {Ga:Math.floor(a),Xh:Math.floor(b > c?b - c:0)};};c.prototype.cd=function(){return 0 === this.qt?null:{a:Number(this.Yn.toPrecision(6)),s:Number(this.My.toPrecision(6)),n:this.qt};};c.prototype.ne=function(a){if(m.Xa(a) || !m.has(a,"a") || !m.has(a,"s") || !m.isFinite(a.a) || !m.isFinite(a.s))return (this.My=this.Yn=this.qt=0,!1);this.Yn=a.a;this.My=a.s;m.has(a,"n") && m.pa(a.n)?this.qt=a.n:this.qt=16 * this.HN;return !0;};k.prototype.setInterval=function(a){this.HN=a;this.DG=-Math.log(.5) / a;};k.prototype.reset=function(a){this.$a=this.se=null;a && m.isFinite(a.Ga)?this.Yn=a.Ga:this.Yn=0;};k.prototype.start=function(a){m.Xa(this.se) && (this.$a=this.se=a);};k.prototype.add=function(a,b,c){var f,d;m.Xa(this.se) && (this.$a=this.se=b);this.se=Math.min(this.se,b);b=Math.max(c - b,1);f=this.DG;d=c > this.$a?c:this.$a;this.Yn=this.Yn * (d > this.$a?Math.exp(-f * (d - this.$a)):1) + 8 * a / b * (1 - Math.exp(-f * b)) * (c > d?Math.exp(-f * (d - c)):1);this.$a=d;};k.prototype.get=function(a){var b;a=Math.max(a,this.$a);b=this.Yn * Math.exp(-this.DG * (a - this.$a));a=1 - Math.exp(-this.DG * (a - this.se));0 < a && (b/=a);return {Ga:Math.floor(b)};};k.prototype.toString=function(){return "ewmav(" + this.HN + ")";};h.prototype.setInterval=function(a){this.Qy.setInterval(a);};h.prototype.reset=function(a){this.Qy.reset(a);this.de=0;this.$b=null;};h.prototype.start=function(a){!m.Xa(this.$b) && a > this.$b && (this.de+=a - this.$b,this.$b=null);this.Qy.start(a - this.de);};h.prototype.add=function(a,b,c){!m.Xa(this.$b) && c > this.$b && (this.de+=b > this.$b?b - this.$b:0,this.$b=null);this.Qy.add(a,b - this.de,c - this.de);};h.prototype.stop=function(a){this.$b=Math.max(m.Xa(this.Qy.$a)?0:this.Qy.$a + this.de,m.Xa(this.$b)?a:Math.min(this.$b,a));};h.prototype.get=function(a){return this.Qy.get((m.Xa(this.$b)?a:this.$b) - this.de);};h.prototype.toString=function(){return this.Qy.toString();};d.W={B5a:c,pWb:k,z5a:h};},function(d,b,a){var k,h;function c(a,b,c,d){k.call(this,c,d);this.xt=new h(a);this.kdb=b;}k=a(140);h=a(377);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var a;a=this.Cu(0);k.prototype.shift.call(this);null !== a && this.xt.CY(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.xt.CY(a);k.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.vQ();return {MK:this.WI(),w3:a,UR:a.bj?(a.xk - a.wk) / a.bj:void 0};};c.prototype.WI=function(){return this.xt.WI();};c.prototype.vQ=function(){return this.xt.WI() < this.kdb?{wk:void 0,bj:void 0,xk:void 0,MK:void 0,oi:void 0}:{wk:this.xt.fr(25),bj:this.xt.fr(50),xk:this.xt.fr(75),MK:this.xt.WI(),oi:this.xt.fr.bind(this.xt)};};c.prototype.toString=function(){return "biqr(" + this.DH + "," + this.Xc + "," + this.Qi + ")";};d.W=c;},function(d,b,a){var k,h;function c(a){this.H={uR:a.maxc || 25,qfa:a.c || .5,VUb:a.w || 15E3,Fp:a.b || 5E3};k.call(this,this.H.VUb,this.H.Fp);this.lO();}k=a(140);h=a(229).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var a;a=this.Cu(0);k.prototype.shift.call(this);null !== a && (this.te.push(a,1),this.Ap=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.te.push(a,1);this.Ap=!0;k.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.uPa();};c.prototype.Vw=function(){var a;a=this.uPa();return {min:a.min,p10:a.n3,p25:a.wk,p50:a.bj,p75:a.xk,p90:a.o3,max:a.max,centroidSize:a.kkb,sampleSize:a.MK,centroids:a.Lh};};c.prototype.uPa=function(){var a;if(0 === this.te.size())return null;a=this.te.oi([0,.1,.25,.5,.75,.9,1]);if(a[2] === a[4])return null;if(this.Ap || !this.Ge)(this.Ap=!1,this.Ge={min:a[0],n3:a[1],wk:a[2],bj:a[3],xk:a[4],o3:a[5],max:a[6],oi:this.te.oi.bind(this.te),kkb:this.te.size(),MK:this.te.n,Lh:this.Xub(),Vw:this.Vw.bind(this)});return this.Ge;};c.prototype.Xub=function(){var a;if(0 === this.te.size())return null;if(!this.Ap && this.Ge)return this.Ge.centroids;a=this.te.oi([.25,.75]);if(a[0] === a[1])return null;this.te.size() > this.H.uR && this.te.Bw();a=this.te.Cn(!1).map(function(a){return {mean:a.tf,n:a.n};});return JSON.stringify(a);};c.prototype.qPa=function(){return this.te.summary();};c.prototype.size=function(){return this.te.size();};c.prototype.toString=function(){return "btdtput(" + this.DH + "," + this.Xc + "," + this.Qi + "): " + this.te.summary();};c.prototype.lO=function(){this.te=new h(this.H.qfa,this.H.uR);};d.W=c;},function(d,b,a){var k,h;function c(a){this.H={uR:a.maxc || 25,qfa:a.c || .5,bLb:a.rc || "none",tyb:a.hl || 7200};this.lO();this.Leb=this.H.bLb;this.HN=this.H.tyb;this.fba=Math.exp(Math.log(2) / this.HN);this.fba=Math.max(this.fba,1);this.dX=1;}k=a(8);h=a(229).TDigest;new (a(3).Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.cd=function(){var a;if(0 === this.te.size())return null;a=this.te.oi([.25,.75]);if(a[0] === a[1])return null;this.te.size() > this.H.uR && this.te.Bw();a=this.te.Cn(!1).reduce((function(a,b){k.pa(b.tf) && k.pa(b.n) && a.push({mean:b.tf,n:b.n / this.dX});return a;}).bind(this),[]);return {tdigest:JSON.stringify(a)};};c.prototype.ne=function(a){var b;if(k.Xa(a) || !k.has(a,"tdigest") || !k.df(a.tdigest))return !1;try{b=JSON.parse(a.tdigest);}catch(q){return !1;}b.forEach(function(a){k.isFinite(a.n) || (a.n=1);});a=b.map(function(a){return {tf:a.mean,n:a.n};});this.dX=1;this.te.Uoa(a);void 0 === this.te.oi(0) && this.lO();};c.prototype.get=function(){var a,b;a=this.te;b=a.oi([0,.1,.25,.5,.75,.9,1]);return {min:b[0],n3:b[1],wk:b[2],bj:b[3],xk:b[4],o3:b[5],max:b[6],Lh:a.Cn(!1)};};c.Pwb=function(a){var b;b=new c({});k.Xa(a) || k.X(a) || !k.isArray(a.Lh) || (b.te.Uoa(a.Lh),void 0 === b.te.oi(0) && b.lO());a=b.te.oi([.25,.75]);return a[0] === a[1]?null:function(a){return b.te.oi(a);};};c.prototype.add=function(a){var b;b=1;"ewma" === this.Leb && (this.dX=b=this.dX * this.fba);this.te.push(a,b);};c.prototype.toString=function(){return "TDigestHist(" + this.te.summary() + ")";};c.prototype.lO=function(){this.te=new h(this.H.qfa,this.H.uR);};d.W={OCa:c};},function(d){(function(){var k00;function b(){var l00;l00=2;for(;l00 !== 5;){switch(l00){case 2:this.az=this.qc=0;this.$a=this.se=void 0;l00=5;break;}}}k00=2;for(;k00 !== 8;){switch(k00){case 2:b.prototype.start=function(a){var m00;m00=2;for(;m00 !== 1;){switch(m00){case 2:this.se?a < this.se?(this.az+=this.se - a,this.se=a):a > this.$a && (this.$a=this.se=a):this.$a=this.se=a;m00=1;break;}}};b.prototype.stop=function(a){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:this.$a && a > this.$a && (this.az+=a - this.$a,this.$a=a);n00=1;break;}}};b.prototype.add=function(a,b,d){var o00;o00=2;for(;o00 !== 4;){switch(o00){case 2:this.start(b);this.stop(d);this.qc+=a;o00=4;break;}}};b.prototype.get=function(){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return {Ga:this.az?Math.floor(8 * this.qc / this.az):null,ZZ:this.az?this.az:0};break;}}};k00=3;break;case 3:var M8e="1";M8e+="SIYbZ";M8e+="r";M8e+="NJC";M8e+="p9";d.W=b;M8e;k00=8;break;}}})();},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=b.rV=void 0;c=a(0);k=a(8);h=a(3);m=a(839);f=a(840);q=(function(){return function(){this.OH=new f.SM(100);this.U2=new f.SM(100);};})();d=(function(){function a(a,b,c){var f,d,l;this.H=b;this.G=c;this.aY=a;f=this.DC=this.GG=this.FG=0;d=0;l=0;this.aY.length >= this.H.H2 && (this.aY.forEach(function(a){!(a=a.get().Btb) || k.X(a.avtp) || k.X(a.neuhd) || (f+=a.avtp,d+=1 * a.neuhd,l++);}),this.DC=l,this.FG=f / l,this.GG=d / l);}Object.defineProperties(a.prototype,{qIa:{get:function(){return this.FG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rIa:{get:function(){return this.GG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mOb:{get:function(){return this.DC;},enumerable:!1,configurable:!0}});a.prototype.D1=function(){return this.DC >= this.H.H2 && this.FG >= this.H.baselineHighAndStableThreshold.bwThreshold && this.GG < this.H.baselineHighAndStableThreshold.nethreshold;};return a;})();b.rV=d;d=(function(a){function b(b,c,f){b=a.call(this,b,c,f) || this;b.Raa=[];b.Hsb={};b.Y_a=[];b.Dw=new q();b.aY.length >= b.H.H2 && (b.IGa("avtp",b.Dw.OH),b.IGa("neuhd",b.Dw.U2));return b;}c.__extends(b,a);b.prototype.D1=function(){var a;this.Owb();a=new m.cya(this.G,this.Y_a,this.Oib);a.Boa(this.Raa);a=a.Skb(this.H.$0.J5b);return this.UTb && 1 === a && this.DC >= this.H.H2;};b.prototype.oQ=function(){var a,b,c,f;a={};b=h.time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};b.prototype.dOa=function(a,b,c){a="avtp" === a?this.FG:this.GG;for(var f=b.fZ(),d=0,l="skew" === c?3:4,q=0;q < b.jf.length;q++){k.X(a) || k.X(f) || (d+=Math.pow(b.jf[q] - a,l));}d/=b.jf.length;return !k.X(f) && 0 < f?d / Math.pow(f,l) - 3 * ("skew" === c?0:1):NaN;};b.prototype.pOa=function(a,b,c){var f;f=0;"lte" === c?f=a.reduce(function(a,c){return c <= b?a + 1:a;},0) / (1 * a.length):"gte" === c && (f=a.reduce(function(a,c){return c >= b?a + 1:a;},0) / (1 * a.length));return f;};b.prototype.ywb=function(a){var b,c;b=a.fr(25);c=a.fr(50);a=a.fr(75);return k.X(b) || k.X(c) || k.X(a)?NaN:0 < c?(a - b) / c:NaN;};b.prototype.Oub=function(a,b){a="avtp" === a?this.FG:this.GG;b=b.fZ();return !k.X(b) && !k.X(a) && (0 < b || 0 < a) && 0 < a?(a - b) / (a + b):NaN;};b.prototype.vQ=function(a,b){a=a.fr(b);return k.X(a)?NaN:a;};b.prototype.normalize=function(a,b,c){return !isNaN(a) && 0 < c?(a - b) / c:NaN;};b.prototype.Owb=function(){var a,b,c,f,d,l,q,h,m,u,g,n;a=this;b=this.H.$0.FSa.q4b;c=this.H.$0.FSa.o4b;f=this.H.$0.FSa.p4b;h=[];n=0;this.UTb=!Object.keys(b).some(function(t){var x;g=NaN;if(!(b.hasOwnProperty(t) && c.hasOwnProperty(t) && f.hasOwnProperty(t) && !k.X(a.Dw) && a.Dw.OH && a.Dw.U2) || 1 > a.DC || "number" !== typeof b[t] || "number" !== typeof c[t] || "number" !== typeof f[t])return !0;d=b[t];l=c[t];q=f[t];h=t.split("_",2);m=h[0];u=h[1];switch(m){case "avtp":x=a.Dw.OH;break;case "neuhd":x=a.Dw.U2;break;default:x=void 0;}if("avtp" === m || "neuhd" === m){if(x)switch(u){case "last":g=x.jf[a.DC - 1];break;case "mean":g="avtp" === m?a.FG:a.GG;break;case "niqr":g=a.ywb(x);break;case "skew":g=a.dOa(m,x,"skew");break;case "kurtosis":g=a.dOa(m,x,"kurtosis");break;case "std":g=x.fZ();break;case "b":g=a.Oub(m,x);break;default:-1 !== t.search("[p][1-9]?[1-9]") && (g=a.vQ(x,Number(t.split("_p",2)[1])));}}else switch(t){case "fracAbove20Mbps":x=a.Dw.OH;g=k.X(x)?NaN:a.pOa(x.jf,2E4,"gte");break;case "fracBelow20p":x=a.Dw.U2;g=k.X(x)?NaN:a.pOa(x.jf,.15,"lte");break;case "hour_current":g=a.oQ().currentHour;break;case "session_ct":g=a.DC;break;case "intercept":(g=d,a.Oib=g);}g=a.normalize(g,l,q);if(isNaN(g))return !0;"intercept" !== t && (a.Raa.push(g),a.Y_a.push(d),a.Hsb[t]=n,n+=1);});};b.prototype.IGa=function(a,b){this.aY.forEach(function(c){c=c.get().Btb;!c || "avtp" !== a && "neuhd" !== a || k.X(c[a]) || b.CY(Number(c[a]));});};return b;})(d);b.Gwa=d;},function(d,b,a){var k,h,m,f;function c(a){return function(){for(var b=Array(this.length),c=0;c < this.length;++c){b[c]=a.call(this,c);}return b;};}Object.defineProperty(b,"__esModule",{value:!0});b.Chb=b.nR=b.zaa=b.$Ca=void 0;k=a(5);d=a(3);h=a(21);m=new d.Console("FRAGMENTS","media|asejs");f=(function(){function a(a,b){this.xc=a;this.uj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.uj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nh:{get:function(){return new h.U(this.Wa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wa:{get:function(){return this.xc.eY + this.xc.fz[this.uj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nb:{get:function(){return this.Wa + this.xc.up[this.uj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rp:{get:function(){return this.xc.up[this.uj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.xc.za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.xc.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return Math.floor(1E3 * this.Wa / this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qa:{get:function(){return Math.floor(1E3 * (this.Wa + this.Rp) / this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.qa - this.T;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {startPts:1E3 * this.Wa / this.za.P,endPts:1E3 * this.nb / this.za.P,duration:1E3 * this.Rp / this.za.P,index:this.index};};return a;})();b.$Ca=f;a=(function(){function a(a,b,c,f){this.I=a;this.length=c.Sd.length;this.Pl=c.P;this.up=c.Sd;this.GY=f && f.tK;this.mHa=f && f.LK;this.ZG=b;this.Wra=this.Xra=this.qFa=void 0;this.eY=c.Ek;this.fz=new Uint32Array(this.length + 1);if(this.length){for(b=a=0;b < this.length;++b){this.fz[b]=a;a+=this.up[b];}this.fz[b]=a;this.eba=Math.floor((this.qa - this.T) / this.length);}}Object.defineProperties(a.prototype,{Ek:{get:function(){return this.l_a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eha:{get:function(){return this.l_a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.ij(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qa:{get:function(){return this.ij(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ur:{get:function(){return new h.U(this.eha,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vma:{get:function(){return this.qFa || this.$ab();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.ZG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});a.prototype.l_a=function(a){return this.eY + this.fz[a];};a.prototype.ij=function(a){return Math.floor(1E3 * (this.eY + this.fz[a]) / this.P);};a.prototype.fha=function(a){return this.ij(a + 1);};a.prototype.Sd=function(a){return this.fha(a) - this.ij(a);};a.prototype.get=function(a){return new f(this,a);};a.prototype.Yl=function(a,b,c){if(0 === this.length || a < this.ij(0))return -1;a=Math.max(a,b || 0);for(var f=0,d=this.length - 1,l,q;d >= f;){if((l=f + (d - f >> 1),q=this.ij(l),a < q))d=l - 1;else if(a >= q + this.Sd(l))f=l + 1;else {for(;b && l < this.length && this.ij(l) < b;){++l;}return l < this.length?l:c?this.length - 1:-1;}}return c?this.length - 1:-1;};a.prototype.E_=function(a,b,c){a=this.Yl(a,b,c);return 0 <= a?this.get(a):void 0;};a.prototype.Ifa=function(a,b){var c,f;c=Math.floor(b * this.P / 1E3);b=Math.min(a + Math.ceil(b / this.eba),this.length);f=this.fz[b] - this.fz[a];if(f > c){for(;f >= c;){--b;f-=this.up[b];}return b - a + 1;}for(;f < c && b <= this.length;){f+=this.up[b];++b;}return b - a;};a.prototype.subarray=function(b,c){k.assert(void 0 === b || 0 <= b && b < this.length);k.assert(void 0 === c || c > b && c <= this.length);return new a(this.I,this.za,{P:this.P,Ek:this.eY + this.fz[b],Sd:this.up.subarray(b,c)},this.GY && ({tK:this.GY.subarray(b,c + 1),LK:this.mHa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],c=0;c < this.length;++c){b.push(a(this.get(c),c,this));}return b;};a.prototype.reduce=function(a,b){for(var c=0;c < this.length;++c){b=a(b,this.get(c),c,this);}return b;};a.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.eba};};a.prototype.dump=function(){var b;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.eba + "ms");for(var a=0;a < this.length;++a){b=this.get(a);m.trace("TrackFragments: " + a + ": [" + b.T + "-" + b.qa + "]");}};a.prototype.$ab=function(){for(var a=0,b=0;b < this.length;b++){a=Math.max(this.up[b],a);}return this.qFa=a;};return a;})();b.zaa=a;b.nR=c;a.prototype.k_a=c(a.prototype.ij);b.Chb=function(a){return "[" + Array(a.length).map(function(b,c){return a[c].toString();}).join(",") + "]";};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.qta=void 0;c=a(845);k=a(21);a(5);h=a(70);d=(function(){function a(a,b,c){this.H=b;this.G=c;this.jh=a.track;this.yfb=a.Rf;this.ux=a.ux;this.Kcb=-1 === this.profile.indexOf("none");this.aH=this.Na=void 0;b=a.lu;this.lu=void 0 === b?!0:b;this.VZ=a.VZ;this.YG=void 0;this.sFa=this.Hf=0;this.url=this.$E=this.Ic=this.vq=this.Sla=this.location=this.Ma=this.cb=void 0;this.bA=!1;this.lla=this.we=void 0;a=this.H && "object" === typeof this.H.QWa && this.H.QWa[this.profile];"object" === typeof a && (a=a[this.S]) && (this.eO=new k.U(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{je:{get:function(){return ! !this.Na;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.jh.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{la:{get:function(){return this.O.la;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.jh.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.jh.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.jh.za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.jh.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YJ:{get:function(){return this.jh.YJ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jb:{get:function(){return this.jh.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.jh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rf:{get:function(){return this.yfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ca:{get:function(){return this.ux.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mu:{get:function(){return this.Kcb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.ux.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ib:{get:function(){return this.ux.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{EMb:{get:function(){return this.ux.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{q4:{get:function(){return this.ux.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.ux.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yf:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ws:{get:function(){return this.ux.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ed:{get:function(){return this.eO;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Na;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{p2:{get:function(){return this.Na && this.Na.p2;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aia:{get:function(){return this.jh.aia;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$ha:{get:function(){return this.jh.$ha;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{du:{get:function(){return void 0 !== this.YG?this.YG:this.ela();},set:function(a){this.YG=a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mr:{get:function(){return this.lu && !this.bA;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qh:{get:function(){return this.aH;},enumerable:!1,configurable:!0}});a.prototype.Hj=function(){return this.O.Hj(this.I,this.Ca);};a.prototype.t0=function(){var a;a=this.Hj();return a && a.stream.aa;};a.prototype.zF=function(a){return this.O.zF(this,a);};a.prototype.Jna=function(){this.track.Jna();};a.prototype.h3=function(a,b,d,h,m,k,g){h && void 0 !== h.Ek && (this.track.je || void 0 !== h.Sd && h.Sd.length) && void 0 !== h.offset && void 0 !== h.sizes && h.sizes.length?(this.H.yj && this.ed && 0 === h.Ek && (h.Ek+=this.ed.ze(h.P).rb),this.aH=a,this.je || (this.track.h3(this,b,d,h,k),this.Na=new c.zCa(this.track.xm,h,m,k,g,this.u),this.track.VGb(this))):h?this.G.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== h.Ek) + "," + this.track.je + "," + this.track.Qga + "," + (void 0 !== h.Sd) + "," + !(!h.Sd || !h.Sd.length) + "," + (void 0 !== h.offset) + "," + (void 0 !== h.sizes) + "," + !(!h.sizes || !h.sizes.length)):this.G.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.uZ=function(a){this.je || (this.track.Vlb(a.track),this.Na=a.aa,this.aH=a.qh);};a.prototype.Wi=function(a){return new h.Bh(this,this.aa.get(a));};a.prototype.oOa=function(a){var b;b=this.Wi(a.index);a.Ja && (b.gj(a.Ja),b.bT(a.xs));return b;};a.prototype.e1a=function(a,b){this.Hf=a;this.sFa=b;};a.prototype.Xkb=function(){this.Ma=this.cb=this.Ic=this.location=this.url=void 0;};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,streamId:this.Ca,bitrate:this.S,streamIndex:this.Rf,isAvailable:this.lu,fittable:this.du,vmaf:this.ib,resolutionWidth:this.EMb,resolutionHeight:this.q4};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.Ca + ":" + this.S;};a.prototype.ela=function(){var a;if(!this.je)return !0;if(this.track.dka >= this.S)return this.YG=!0;if(this.track.DSa <= this.S)return this.YG=!1;a=this.Na.ela(this.H.HR,this.Hf,this.sFa);if(a){if(!this.track.Qga || this.mu)this.track.dka=this.S;}else this.track.DSa=this.S;return this.YG=a;};return a;})();b.qta=d;},function(d){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,b,d){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),d * a.byteLength / a.length);}:function(a,b,d){a.set(b,d);};d.W={from:function(a,b,d,h){a=new a(b.length);for(var c="function" === typeof d,f=0;f < b.length;++f){a[f]=c?d.call(h,b[f],f,b):b[f];}return a;},set:b};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.V_=1536;return b;}c.__extends(b,a);b.Bc=!0;return b;})(a(168)["default"]);b["default"]=d;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="ac-3";return b;})(d);b.v2a=a;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="ec-3";return b;})(d);b.I5a=d;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(91);d=a(28);h=k.y9;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.fileSize=this.M.Lj();this.P=this.M.Lj();this.duration=this.M.Lj(!1,!0);this.CGb=this.M.Lj();this.M.Lj();this.GGb=this.M.Lj();this.NFb=this.M.Nb();this.DGb=this.M.Lj();this.wtb=this.M.Nb();this.M.a4();this.Bk={moof:{offset:this.CGb},sidx:{offset:this.DGb,size:this.wtb}};this.Bk[k.eza]={offset:this.GGb,size:this.NFb};this.M.offset - this.startOffset <= this.length - 24 && (this.FGb=this.M.Lj(),this.DFb=this.M.Nb(),this.EGb=this.M.Lj(),this.CFb=this.M.Nb(),this.Bk[k.JV]={offset:this.FGb,size:this.DFb},this.Bk[k.IV]={offset:this.EGb,size:this.CFb});return !0;};b.Ye=h;b.Bc=!1;return b;})(d.jg);b["default"]=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(91);a=a(28);k=d.z9;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,d,h;this.dg();1 <= this.version && this.M.a4();a=this.M.Nb();this.Bk={};for(var b=this.startOffset + this.length,c=0;c < a;++c){d=this.M.QA();"uuid" === d && (d=this.M.a4());h=this.M.Lj();this.Bk[d]={offset:b,size:h};b+=h;}return !0;};b.Ye=k;b.Bc=!1;return b;})(a.jg);b["default"]=a;},function(d){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,Jp:2,sampleRate:24E3,duration:1024,Yx:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Jp:2,sampleRate:24E3,duration:1024,Yx:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,Jp:6,sampleRate:48E3,duration:1536,Yx:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,Jp:2,sampleRate:48E3,duration:1536,Yx:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};d.W={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var a,b,d;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a + b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a + b.byteLength;},0);return d.buffer;};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(28);h=a(78);d=(function(a){function b(b,c,f,d,h){f=a.call(this,f,d,h) || this;f.ajb=b;f.qL=c;f.Zc={};return f;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,f,d,q,m;this.offset=0;b=[];for(a=a || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){c=this.offset;f=this.Nb();if(0 === f)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};d=h.Oy(this.Nb());if(null === d)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === d){if(16 > this.view.byteLength - this.offset)break;d=this.a4();}if(0 === b.length && this.qL.rNa(d,c,f))break;if(c + f > this.view.byteLength)break;q=this.ajb[d];m=void 0;if(q){if((m=new q(this,d,c,f,b[0]),(b[0] || this).DO(m),m.parse(a)))this.config.Wna && q.Bc?b.unshift(m):this.offset=c + f;else return {done:!1,offset:this.offset,error:"parse error in " + d + " box"};}else this.offset=c + f;for(;b.length && this.offset > b[0].byteOffset + b[0].BE - 8;){m=b.shift();if(!m.II(a))return {done:!1,offset:this.offset,error:"finalize error in " + m.type + " box"};this.offset=m.byteOffset + m.BE;}if(0 === b.length && this.qL.ELa(d,c,f,m))break;}return !this.qL.done && (a=this.qL.endOffset?this.qL.endOffset - this.view.byteLength:4096,0 < a)?{done:!1,offset:this.offset,dUa:a}:{done:!0,offset:Math.min(this.qL.endOffset || Infinity,this.offset)};};b.prototype.DO=function(a){k.jg.DO(this,a);};return b;})(a(865).kab);b.H6=d;},function(d,b,a){var k;function c(a,b){a=b.indexOf(a);-1 !== a && b.splice(a,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(91);d=(function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.rNa=function(){return this.done;};a.prototype.ELa=function(a,b,c){return this.done=b + c >= this.endOffset;};return a;})();b.cva=d;d=(function(){function a(a,b,c,d){void 0 === b && (b=[]);void 0 === c && (c=[]);void 0 === d && (d=!1);this.ps=a;this.SZ=b;this.U_a=c;this.GVa=d;this.done=!1;this.Bk={};}a.prototype.rNa=function(b,c,d){-1 !== a.Zyb.indexOf(b) && (this.Bk[b]={offset:c,size:d});if(-1 !== this.U_a.indexOf(b)){if((this.Bk[b]={offset:c,size:d},this.GVa))this.endOffset=c + d;else return (this.endOffset=c,this.done=!0);}else this.ps && -1 !== this.ps.indexOf(b)?(b=1 < this.ps.length?4096:0,this.endOffset=Math.max(c + d + b,this.endOffset || 0)):-1 !== this.SZ.indexOf(b) && (b=this.ps?4096:0,this.endOffset=Math.max(c + d + b,this.endOffset || 0));return this.done;};a.prototype.ELa=function(a,b,d,l){var f;f=this;if(-1 !== this.U_a.indexOf(a))return this.done=!0;a === k.y9 && this.vZa(l.Bk);a === k.z9 && this.vZa(l.Bk);this.ps && c(a,this.ps);c(a,this.SZ);return this.ps && 0 === this.ps.length && !this.SZ.some(function(a){return f.Bk[a];})?this.done=!0:this.done;};a.prototype.vZa=function(a){var b;b=this;this.Bk=a;this.endOffset=(this.ps || []).concat(this.SZ).reduce(function(a,c){return b.Bk[c]?(c=b.Bk[c],Math.max(c.offset + (c.size || 4096),a)):a;},this.endOffset || 0);};a.Zyb=["moov","sidx"];return a;})();b.E6a=d;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(393);k=a(235);h=a(394);d=(function(){function a(a,b,c){this.console=a;this.stream=b;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);}a.prototype.parse=function(a){var b;b=new h.cva(this.view.byteLength);this.Sh=new c.H6(k.ZJ.Zc,b,this.view,this.console,{Wna:!0});a=this.Sh.parse(a);this.Zc=this.Sh.Zc;return a.done;};return a;})();b.EM=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.jaa=void 0;c=a(0);k=a(107);a(5);a(38);d=(function(){function a(a,b,c,d){this.P=c;this.Sd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.qc=d;}Object.defineProperties(a.prototype,{$:{get:function(){return void 0 !== this.qc?this.qc:this.qc=this.nba();},enumerable:!1,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Sd.subarray(b,c),this.sizes.subarray(b,c),this.P);};a.prototype.concat=function(){var f,b,d,l;for(var b=[],f=0;f < arguments.length;f++){b[f]=arguments[f];}f=[this];b=f.concat.apply(f,c.__spread(b));f=b.reduce(function(a,b){return a + b.length;},0);d=new Uint32Array(f);l=new Uint32Array(f);f=b.reduce(function(a,b){return a || b.P;},void 0);b.reduce(function(a,b){k.Gaa.set(d,b.Sd,a);k.Gaa.set(l,b.sizes,a);return a + b.length;},0);return new a(d,l,f);};a.prototype.nba=function(){for(var a=this.sizes,b=this.length,c=0,d=0;d < b;++d){c+=a[d];}return c;};return a;})();b.jaa=d;},function(d,b,a){var c,k,h,m,f,q,l,u,t,x;Object.defineProperty(b,"__esModule",{value:!0});b.t6=void 0;c=a(0);k=a(107);h=a(24);m=a(3);d=a(16);f=a(10);q=a(39);l=a(5);u=a(243);t=a(398);a=a(399);x=m.MediaSource;a=(function(a){function b(b,c,f,d,l,q,h){c=a.call(this,b,d,l,c,h) || this;t.oU.call(c,b,d,h);c.pl=f;c.track=f.track;c.cu=! !d.cu;c.$J=! !d.$J;c.Iz=! !d.Iz;c.AHb=d.$;c.iL=! !d.iL;c.cca=(q?"(cache)":"") + c.Ca + " header";c.xH(b.url || d.url,d.offset,d.$);return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{dc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{s3:{get:function(){return this.peb;},enumerable:!1,configurable:!0}});b.prototype.ac=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.ac.call(this);};b.prototype.fQ=function(b){this.stream.Jna();a.prototype.fQ.call(this,b);};b.prototype.Jj=function(b){this.qp=this.qp?f.Ut(this.qp,b.response):b.response;b.DS();this.meb()?a.prototype.Jj.call(this,b):this.ODa?(this.xH(b.url,b.offset + b.$,this.ODa),a.prototype.Jj.call(this,b)):this.S_(this);};b.prototype.xH=function(a,b,c){a=new u.WL(this.stream,this.track,this.cca + " (" + this.va.length + ")",{offset:b,$:c,url:a,location:this.location,Tb:this.Tb,responseType:0},this,this.Yc,this.G);this.push(a);this.qc=this.va.reduce(function(a,b){return a + b.$;},0);};b.prototype.meb=function(){var a,c,d;a=this.Yc;c=new k.zy(b.oFb,this.stream,this.qp,["sidx"],this.I === h.Sa.VIDEO && a.xI || this.I === h.Sa.AUDIO,{i6b:this.stream.track.Qga,EVa:void 0 === this.za,H0a:!x.Rb || !x.Rb.LJa,Mra:a.Mra,yj:a.yj,IL:this.Yc.IL,SMb:!0,c5:!x.Rb || !x.Rb.$Ta});d=c.parse({za:this.za});this.dUb=a.IL && c.Syb;d.FA?(l.assert(d.qh),this.aH=d.qh,this.peb=d.s3,this.xEa=! !d.Orb,void 0 === this.za && void 0 === d.za && this.G.error("No frame duration available for " + this.Ca),c=d.za?new f.U(d.za):this.za,this.stream.h3(d.qh,d.P,c,d.aa,d.XJ,d.Ri,a.GA && a.GA.enabled?d.mB:void 0),this.qp=void 0):this.ODa=d.Tgb || 0;return ! !d.FA;};b.oFb=new m.Console("MP4","media|asejs");return b;})(a.q6);b.t6=a;q.Ue(t.oU,a,!1,!1);q.Ue(d.EventEmitter,a);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.oU=void 0;c=a(0);k=a(5);d=(function(a){function b(b,c,d){b=a.call(this,b,c) || this;b.iL=!1;b.cu=!1;b.$J=!1;b.Iz=!1;b.pl=void 0;b.aH=c.qh;b.qp=c.Zna;b.xEa=c.hk;b.G=d;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{dc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qh:{get:function(){return this.aH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zna:{get:function(){return this.qp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hk:{get:function(){return this.xEa;},enumerable:!1,configurable:!0}});b.prototype.ac=function(){};b.prototype.N5=function(){};b.prototype.ahb=function(a){k.assert(this.Sc.Ca === a.Ca);!a.je && this.Sc.je && a.uZ(this.Sc);!a.location && this.Sc.location && (a.location=this.Sc.location,a.Ic=this.Sc.Ic,a.$E=this.Sc.$E,a.url=this.Sc.url,a.cb=this.Sc.cb);this.Sc=a;};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.aa});};return b;})(a(169).jy);b.oU=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.q6=void 0;c=a(0);a(3);a(5);d=(function(a){function b(b,c,d,l,h){b=a.call(this,b,c,d,l,h) || this;b.IEa=!1;b.HEa=!1;b.FN=!1;b.va=[];b.zt=!1;b.IFa=!1;b.cFa=!1;b.jd=!1;b.Lg=!1;b.ae=!1;b.AG=!1;b.eH=void 0;b.tt=void 0;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{Yka:{get:function(){return this.zt && !this.FN;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.jd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gpa:{get:function(){return this.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.ae || (this.ae=this.va.every(function(a){return a.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xq:{get:function(){return this.AG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xi:{get:function(){return this.va.reduce(function(a,b){return a + b.xi;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pe:{get:function(){return this.va.reduce(function(a,b){return a + b.Pe;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{md:{get:function(){return this.eH || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return this.va[0] && this.va[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Kg || this.va.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return this.tt && this.tt.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qg:{get:function(){return this.tt && this.tt.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ED:{get:function(){return this.tt && this.tt.ED;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ni:{get:function(){return this.tt && this.tt.ni;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Po:{get:function(){return ! !this.va.length && this.va[0].Po;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.cFa && a.Ib(this.Ra);this.va.push(a);this.zt && a.Au();};b.prototype.Ib=function(b){a.prototype.Ib.call(this,b);this.va.forEach(function(a){return a.Ib(b);});this.cFa=!0;};b.prototype.Au=function(){this.IFa=!0;(this.zt=this.va.every(function(a){return a.Au();})) && this.fQ(this);this.IFa=!1;return this.zt;};b.prototype.ac=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.va.forEach(function(a){return a.ac();});};b.prototype.yT=function(a){this.Kg=this.tt=void 0;return this.va.every(function(b){return 5 !== b.readyState && 7 !== b.readyState?b.yT(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.Kg=7;this.AG=!0;this.Lg=this.jd=!1;b=this.va.map(function(a){return a.abort();}).every(function(a){return a;});this.R_(this,a,this.Yka);return b;};b.prototype.getResponseHeader=function(a){var b;b=null;this.va.some(function(c){return ! !(b=c.getResponseHeader(a));});return b;};b.prototype.getAllResponseHeaders=function(){var a;a=null;this.va.some(function(b){return ! !(a=b.getAllResponseHeaders());});return a;};b.prototype.m3=function(){};b.prototype.Gx=function(a){this.jd || (this.jd=!0);this.IEa || (this.IEa=!0,this.om=0,this.eH=this.pm=a.md,this.KD(this));};b.prototype.jK=function(a){this.Lg || (this.Lg=!0);this.HEa || (this.HEa=!0,this.eH=a.md,this.Pz(this));};b.prototype.kK=function(a){this.eH=a.md;this.LD(this);this.om=this.Pe;this.pm=a.md;};b.prototype.Jj=function(a){this.eH=a.md;this.complete?(this.ae=!0,this.Kg=5,this.Lg=this.jd=!1,this.FN=!0,this.zr(this)):this.LD(this);this.om=this.Pe;this.pm=a.md;};b.prototype.cS=function(a){this.eH=a.md;this.tt=a;this.Kg=6;this.S_(this);};b.prototype.bS=function(){};b.prototype.kk=function(){return this.va[0].kk() + "-" + this.va[this.va.length - 1].kk();};b.prototype.toString=function(){return "Compound[" + this.va.map(function(a){return a.toString();}).join(",") + "]";};b.prototype.toJSON=function(){return {requests:this.va};};return b;})(a(170).sB);b.q6=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gha=void 0;b.Gha=function(a,b){for(var c,d,m=a.length - 1;0 <= m;--m){if((d=a[m],d.Mr)){if(d.S <= b)return m;c=m;}}return c;};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.gW=void 0;c=a(21);k=a(25);d=(function(){function a(a){this.ed=a;}a.dZ=function(a,b,d,l){var f;f=c.U.sb;b.ed && (d=null === d || void 0 === d?void 0:d.D2b,a.STb && void 0 !== d && 0 <= d?(a=new c.U(d,48E3),f=b.ed.add(a),k.sa && l.trace("Adjusting profile timestamp offset of " + b.ed + (" by DPI assumed delay of " + a) + (" for ASE applied offset of " + f + "."))):a.mz && (f=b.ed));return f;};a.prototype.append=function(a){return {ud:a.ud,offset:a.offset.add(this.ed)};};return a;})();b.gW=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ffa=void 0;b.Ffa=function(a,b){var c;if(!Array.isArray(a.mKa))return a;c=a.jr?a.jr():Object.create(a);a.mKa.forEach(function(a){if(void 0 !== a.dFb && b.duration >= a.dFb && a.config)for(var d in a.config){c[d]=a.config[d];}});return c;};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=b.zBa=void 0;c=a(3).Promise;k=(function(){function a(){var a;a=this;this.QX=[];this.WLb=function(b){b=a.QX.indexOf(b);0 <= b && a.QX.splice(b,1);};}Object.defineProperties(a.prototype,{QC:{get:function(){return 0 !== this.QX.length;},enumerable:!1,configurable:!0}});a.prototype.add=function(){var a;a=new h(this.WLb);this.QX.push(a);return a;};a.prototype.j2a=function(a){var b;b=this.add();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(l){return (b.release(),c.reject(l));}};return a;})();b.zBa=k;h=(function(){function a(a){this.Meb=a;}a.prototype.release=function(){this.Meb(this);};return a;})();d=(function(){function a(a){this.IGb=a;this.Az=new k();}a.prototype.Zv=function(){var a,b;a=this;b=this.Az.add();return {release:function(){b.release();a.Az.QC || a.IGb();}};};return a;})();b.Cxa=d;},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,g;Object.defineProperty(b,"__esModule",{value:!0});b.Exa=b.ZM=void 0;c=a(0);d=a(16);k=a(405);h=a(17);m=a(249);f=a(21);q=a(39);l=a(8);u=a(62);t=a(3);x=a(412);(function(a){a[a.qNa=0]="forwards";a[a.gea=1]="backwards";a[a.lna=2]="none";})(g=b.ZM || (b.ZM={}));a=(function(a){function b(b,c,d,l,q,h,u,t,m,k,g,z,B,y,n,p){var I,L;I=a.call(this,c,l,m.O,b,m,k,B,f.U.ad(g),u.Ud.bind(u),z,p,void 0,void 0,void 0,void 0,!0) || this;I.Va=b;I.fh=d;I.Kb=q;I.lX=h;I.R=u;I.uH=t;I.xf=z;I.lQ=y;I.Gf=n;I.Fm=p;I.active=!1;I.WEa=[];I.zca=0;I.children=Object.create(null);I.Zu=[];I.Dd=void 0;void 0 === B && (B=f.U.ad(m.T));L=[I.H.aea,I.H.k5];k.forEach(function(a){var f,d;f=a.I;d=q.r0.bind(q,I,f);a=new x.wV(b,I.fh,I.G,I,a,B.ka,L[f],c,I.lX,I.Gf,I.tX[f],null === z || void 0 === z?void 0:z.bb(f),d);I.ih.nZa(f,a);});I.dO=I.ih.O3;return I;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.O.u;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qm:{get:function(){var a,b,c,f;return [null !== (b=null === (a=this.bb(0)) || void 0 === a?void 0:a.qm) && void 0 !== b?b:0,null !== (f=null === (c=this.bb(1)) || void 0 === c?void 0:c.qm) && void 0 !== f?f:0];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){var a,b,c,f;return [null !== (b=null === (a=this.bb(0)) || void 0 === a?void 0:a.wo) && void 0 !== b?b:{ka:0,$:0},null !== (f=null === (c=this.bb(1)) || void 0 === c?void 0:c.wo) && void 0 !== f?f:{ka:0,$:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{F4:{get:function(){return this.ca.T;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{roa:{get:function(){return this.F4 + this.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vb:{get:function(){return this.ca.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{le:{get:function(){return this.Vb + this.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mb:{get:function(){return this.O.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.ca.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ca:{get:function(){return this.nGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Se:{get:function(){return this.ih;},enumerable:!1,configurable:!0}});b.prototype.pg=function(){this.bk || (this.active=!1,this.xf && (delete this.xf.children[this.ca.id],this.xf=void 0),l.he(this.children,function(a){a && a.xf && (a.xf=void 0);}),this.children=Object.create(null),this.LG=void 0,a.prototype.pg.call(this),this.ih.clear());};b.prototype.Hpa=function(a,b){void 0 === b && (b=g.gea);this.Se.forEach(function(b){(l.X(a) || b.I === a) && b.reset();});switch(b){case g.gea:this.xf && this.xf.Hpa(a,b);break;case g.qNa:this.children && l.he(this.children,function(c){c && c.Hpa(a,b);});}};b.prototype.ZQa=function(a){var b,c,f;if(!this.active)return !1;b=this.xf;if(b){c=b.bb(a);f=c.Ra.MVa;if(0 !== f && (b.NH(a),f=c.Ra.MVa,0 !== f))return !1;}return !0;};b.prototype.bd=function(a){return this.Se.bb(a);};b.prototype.Uyb=function(){return this.Se.every(function(a){return 0 === a.RA;});};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.dd,playerEndPts:this.le,pipelines:this.Se,previousBranch:this.xf});};b.prototype.GZa=function(a,b){this.O.$0a(this);this.O=this.ca.O=a;this.xZa(this.O);this.O.CXa(this);this.Se.forEach(function(a){var c;c=b[a.I];c && a.dT(c);});};b.prototype.Vwb=function(a){return this.Fm[a];};b.prototype.bb=function(a){return this.Se.bb(a);};b.prototype.kxb=function(a){return this.bb(a).RA;};b.prototype.Bqa=function(a,b,c){var f,d,l,q;f=this;d=this.ca;a=this.eZ(d.T,this.O,a,this.u === (a?a.u:this.Kb.bc.u));l=a.wK;q=a.Ow;void 0 === b && (b=[0,1]);0 === q.length || b.forEach(function(a){var b,l;b=f.bb(a);c && (b.$f=q[a]);l=f.bQ(d.qa);b.T4(l[a]);});return l;};b.prototype.zXa=function(a,b){var c,f,d,q;c=this.Va;f=this.bb(0);void 0 === b && (b=f.eAb);this.xf && (d=this.xf.bd(0));q=this.Kb.r0.bind(this.Kb,this,0);c=new x.wV(c,this.fh,this.G,this,a,b,f.XK,this.H,this.lX,this.Gf,this.tX[0],d,q);this.ih.replace(f,c);this.dO=this.ih.O3;this.Bqa(this.xf,[0],!0);c.dF(b,! !this.xf);f.pg();l.he(this.children,function(b){b && b.zXa(a);});};b.prototype.wr=function(a,b){if(b=this.bb(b))return b.Ra.wr(a);};b.prototype.NH=function(a){void 0 === a?this.Se.forEach(function(a){a.NH();}):this.bb(a).NH();};b.prototype.vS=function(a,b,c){(a=this.bb(a)) && a.Ra.vS(b,c);};b.prototype.y0=function(a,b){(b=this.bb(b)) && b.Ra.y0(a);};b.prototype.HDb=function(a){this.WEa[a]=!0;};b.prototype.ukb=function(){var a;a=this;return [0,1].every(function(b){return !a.mb(b) || a.WEa[b];});};b.prototype.skb=function(a,b,c,f){var d,l,q,u,k,x,g,z,B;d=this.H;l=this.Va;q=this.R.cd();u=q === h.na.qd || q === h.na.ff;if(!u && void 0 === c)return {og:!0};if(q === h.na.ff && t.time.da() < this.zca + d.KTa)return {og:!1};k=this.bb(0);x=this.bb(1);g=this.Kb.Qt(this,0);z=this.Kb.Qt(this,1);B=m.E3(q);g=!k || k.sJa(B,this.R.Ud(),b,g,this.R.Ym(),f);z=!x || x.sJa(B,this.R.Ud(),a,z,this.R.Ym(),f);void 0 !== c && g && (c=c.jb,a=this.O.getTrackById(c),this.Oab(c,a.JT),l.kw=void 0);if(g && z)return (this.uH(),this.$O=t.time.da(),q === h.na.ff && (this.zca=t.time.da()),{og:!0,er:x?x.bD:k.bD});g=this.ki(0);z=this.ki(1);if(u){l=!x || z > d.aj;if((!k || g > d.aj) && l && (k=this.lQ(),k >= d.Ox))return (this.kb("buffering longer than limit: " + k + " >= " + d.Ox + ", audio buffer: " + g + " ms, video buffer: " + z + " ms"),this.uH(),this.$O=t.time.da(),q === h.na.ff && (this.zca=t.time.da()),{og:!0,er:"prebufferTimeLimit"});this.fh.xdb();}return {og:!1};};b.prototype.Vea=function(a,b){var c,f,d,l,q,h;c=this.H;f=this.bb(0);d=this.bb(1);b?(b=this.ki(0,a),a=this.ki(1,a)):(b=this.Kb.Qt(this,0,a),a=this.Kb.Qt(this,1,a));l=c.aj;q=!this.mb(0) || f.Xg && 0 === f.Ra.Jx && 0 === f.Ra.av;f=!this.mb(1) || d.Xg && 0 === d.Ra.Jx && 0 === d.Ra.av;h=q && f;c=!q && b < c.aj;if(!h && (c || !f && a < l))return !1;if(d && d.og || !this.mb(1))return !0;if(h)if(this.Va.NX && 0 === b && 0 === a)this.kb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};b.prototype.P4=function(a,b){var c,f;c=this;f=this.H;this.Se.forEach(function(a){a.seeking=void 0;});a && f.oh && this.Se.forEach(function(a){var f;if(a){f=c.Kb.dD(c,a.I);a="bufferingComplete: , mediaType: " + a.I + ", bufferLevelBytes: " + a.wo.$ + ", completedMs: " + a.YH + ", completedBytes: " + f + ", partials: " + a.Ra.Jx + ", streamingPts: " + a.Yb + ", completeStreamingPts: " + a.hr + ", fragments: " + JSON.stringify(a.Ra.aa) + ", toAppend: " + b(a.I);c.fh.il(a);}});};b.prototype.jF=function(a,b,c){var f,d,q;f=this;d=t.time.da();q={};l.he(this.children,function(a){var b,c,l;if(a){a.Dd?(a.Dd.Mqb=d - a.Dd.o1,a.Dd.o1=void 0,b=a.Dd.weight):b=f.Kb.ePa(f.ca.id,a.ca.id);c=a.qia();l=f.bb(1) && 0 === c.jp;q[a.ca.id]={weight:b,Gp:c,aA:!(f.bb(0) && 0 === c.It) && !l};}});c={requestTime:d,XA:a,Apb:c,d5:this.ca.id,Dd:q};a || (a=b.Ud(),c.kL=a - (this.ca.T + this.fe),c.kL=Math.max(0,c.kL),c.mI=0,c.startTime=d);this.Zu.unshift(c);return c;};b.prototype.rlb=function(a){var b;b=this.Zu[0];b.XA && (b.kL=this.Vb - this.ca.T,b.kL=Math.max(0,b.kL));b.F0a={};u(a.qia(),b.F0a);b.aA=a.wo.every(function(a){return 0 < a.ka;});this.Zu=[];return b;};b.prototype.sl=function(a){var b;b=this.ca;a-=this.fe;if(b.T < a && a < b.qa)this.Zu.shift();else if(b=this.Zu[0])b.sl=!0;};b.prototype.eZ=function(a,b,c,f){var d,l,q,h;d=this;void 0 === b && (b=this.O);l=!1;if(c){l=!0;q=c.bb(1).wg;c=c.bb(0).wg;if(!q || !c)return {wK:[],Ow:[]};q=q.qa;f || (q=void 0);}h=this.VMa(a,q,l,b);b.eb === this.Kb.Oob && [1,0].forEach(function(a){var b;b=d.bb(a);b && (b.$f=h[a]);});return {wK:h.map(function(a){return a.T;}),Ow:h};};b.prototype.VMa=function(a,b,c,f){var d;d=this;void 0 === f && (f=this.O);return this.KGa(f)?[1,0].map(function(l){if(!d.mb(l))return {};l=d.bb(l).Xm(f.ug[l].stream,a,b,c);a=l.T;return l;}).reverse():[];};b.prototype.bQ=function(a,b){var c;c=this;void 0 === b && (b=this.O);return this.KGa(b)?[1,0].map(function(d){var l;if(!c.mb(d))return {};l=b.ug[d].stream;d=c.bb(d).JD(l,a);a=c.H.Cg?new f.U(d.nb,l.za.P).ka:d.qa;return d;}).reverse():[];};b.prototype.hTb=function(a,b){var c;c=this.ca.qa;c && c < b && (a=this.bQ(c));b=this.bd(1);c=this.bd(0);b && b.T4(a[1]);c && c.T4(a[0]);};b.prototype.KGa=function(a){var b;b=a.ug;if(!b)return !1;a=b[1];a=!this.mb(1) || a && a.stream.je;b=b[0];b=!this.mb(0) || b && b.stream.je;return a && b?!0:!1;};b.prototype.Oab=function(a,b){this.fh.vdb(a,b);};return b;})(k.I6);b.Exa=a;q.Ue(d.EventEmitter,a);},function(d,b,a){var k,h,m,f,q,l,u,t,x,g,y,B,L,I;function c(a,b){return (1 === a.I?0:1) - (1 === b.I?0:1);}Object.defineProperty(b,"__esModule",{value:!0});b.I6=b.Q9a=void 0;k=a(0);h=a(16);m=a(406);f=a(90);q=a(173);l=a(921);u=a(17);t=a(922);x=a(10);g=a(5);y=a(21);B=a(3);d=a(120);L=a(39);I=a(924);b.Q9a={Y6b:c};a=(function(a){function b(b,c,f,d,q,u,t,m,k,z,L,E,n,da,p,r){var W,M;M=a.call(this,f) || this;M.H=b;M.O=f;M.DIb=d;M.nGa=q;M.WDa=m;M.icb=k;M.parent=z;M.Fm=L;M.lba=E;M.wC=n;M.ot=da;M.r0=p;M.Uh=1;M.ih=new I.rAa([]);M.yca=!1;M.Pq=!1;M.gFa=0;M.$Da=M.MGb.bind(M);g.assert(f.la === M.ca.la || isNaN(f.la) && isNaN(M.ca.la));M.O.CXa(M);M.G=x.tx(B,c,q.id && q.id.length?"{" + q.id + "}":"");M.gf=M.G.error.bind(M.G);M.kb=M.G.warn.bind(M.G);M.Xj=M.G.trace.bind(M.G);M.PQ=null !== t && void 0 !== t?t:y.U.ad(M.ca.T);M.tX=[];u.forEach(function(a){var b;a=a.I;b=M.O.gRa(a)?new l.Lwa(M.H.WR):new l.mza();M.tX[a]=b;});r || M.zKa(u,M.PQ);M.dsa(M.PQ.ka,M.H.r5);M.events=new h.EventEmitter();null === (W=M.lba) || void 0 === W?void 0:W.addListener(M.$Da);return M;}k.__extends(b,a);Object.defineProperties(b.prototype,{bk:{get:function(){return this.Pq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zr:{get:function(){return this.yca;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ca:{get:function(){return this.nGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zla:{get:function(){return this.ih.every(function(a){return a.zla;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{OC:{get:function(){return this.ih.every(function(a){return a.OC;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cw:{get:function(){return this.UI().reduce(function(a,b){return a + b.cw;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ix:{get:function(){return this.UI().every(function(a){return a.ix();});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wh:{get:function(){return this.UI().map(function(a){return a.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.dO.P;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wa:{get:function(){return this.dO.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){return this.dO.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ck:{get:function(){return this.dr.ze(this.P).rb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jka:{get:function(){return this.PQ.add(this.dr);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{soa:{get:function(){return this.ca.ul.add(this.dr);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kWa:{get:function(){return this.ca.ur.add(this.dr);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fCb:{get:function(){return this.ih.reduce(function(a,b){return a && b.Kj?y.U.max(a,b.Kj):b.Kj?b.Kj:a;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{OQa:{get:function(){return this.Jka.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fe:{get:function(){return this.dr.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dr:{get:function(){return this.WDa;},enumerable:!1,configurable:!0}});b.prototype.Ib=function(){this.IQa();};b.prototype.Zra=function(a){this.dr.equal(a) || (this.WDa=a);};b.prototype.zQ=function(a){return (a=this.bb(a))?a.zQ():q.vB.Cvb();};b.prototype.dha=function(){this.UI().forEach(function(a){return a.dha();});};b.prototype.zO=function(){this.ih.forEach(function(a){return a.zO();});};b.prototype.pg=function(){var a,b;this.Pq || (this.Pq=!0,this.O.$0a(this),this.parent=void 0,null === (a=this.pH) || void 0 === a?void 0:a.ac(),this.pH=void 0,this.ih.forEach(function(a){a.pg();}),null === (b=this.lba) || void 0 === b?void 0:b.removeListener(this.$Da),this.events.removeAllListeners());};b.prototype.ZQa=function(){return !0;};b.prototype.bb=function(a){return this.ih.bb(a);};b.prototype.UI=function(){var a;void 0 === a && (a=c);return this.ih.Se.slice().sort(a);};b.prototype.rwb=function(a){function b(b){return b?b.K1() && !a(b.I):!1;}void 0 === a && (a=function(){return !1;});return this.H.Qqa?this.ih.Se.filter(b).sort(function(a,b){return a.Aq.Cj(b.Aq);}).slice(0,1):this.ih.Se.filter(b);};b.prototype.Via=function(a){return this.bb(a);};b.prototype.ki=function(a,b){a=this.bb(a);if(!a)return 0;if(b)return a.qm;b=a.hr;if(void 0 === b)return 0;a=this.icb();return b - a;};b.prototype.qia=function(){var a,b,c,f,d,l,q;q=null === (a=this.bb(0)) || void 0 === a?void 0:a.wo;a=null === (b=this.bb(1)) || void 0 === b?void 0:b.wo;return {jp:null !== (c=null === a || void 0 === a?void 0:a.ka) && void 0 !== c?c:0,It:null !== (f=null === q || void 0 === q?void 0:q.ka) && void 0 !== f?f:0,bv:null !== (d=null === a || void 0 === a?void 0:a.$) && void 0 !== d?d:0,xY:null !== (l=null === q || void 0 === q?void 0:q.$) && void 0 !== l?l:0};};b.prototype.jPa=function(a){var b;return (a=this.bb(a))?null !== (b=a.hr) && void 0 !== b?b:0:0;};b.prototype.eT=function(a,b){var c;this.zKa(a,null !== (c=null !== b && void 0 !== b?b:this.Nh) && void 0 !== c?c:this.PQ);this.IQa();this.zO();};b.prototype.dsa=function(a,b){this.Vzb=a + b;this.aAb=B.time.da();};b.prototype.Dq=function(a){a=this.bb(a);g.assert(a);return a.Dq();};b.prototype.MGb=function(a){u.gA(a.newValue) && this.tC();};b.prototype.Cfa=function(a){return this.ih.every(function(b){return b.Cfa(a);});};b.prototype.fvb=function(a){var b,c;return null !== (c=null === (b=this.ih.bb(a)) || void 0 === b?void 0:b.Pob) && void 0 !== c?c:y.U.sb;};b.prototype.Jj=function(a){this.Pq || (a.zda || g.assert(!a.dc),this.tC(),this.OC && this.heb());this.zr(a);};b.prototype.kK=function(a){this.H.lMa && this.tC(!0);this.LD(a);};b.prototype.jK=function(a){this.H.lMa && this.tC(!0);this.Pz(a);};b.prototype.ceb=function(a,b){var c;null === (c=this.pH) || void 0 === c?void 0:c.ac();this.pH=void 0;a && this.events.emit("branchNormalized",{type:"branchNormalized",segmentContentStart:this.ca.ul,branchContentStart:this.Nh,branchContentEnd:this.xo,didNormalizeSegment:b});};b.prototype.vPb=function(a){var b;return u.gA((null === (b=this.lba) || void 0 === b?void 0:b.value) || u.Kc.Qn) && (!a || this.gFa + this.H.Uma < B.time.da());};b.prototype.tC=function(a){void 0 === a && (a=!1);this.vPb(a) && (this.gFa=B.time.da(),a={type:"checkBufferingProgress"},this.events.emit(a.type,a));};b.prototype.heb=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};b.prototype.oob=function(a,b){var c,f;f=a.I;return new m.l$(this,this.H,this.G,this.DIb,this,a,b,[this.H.aea,this.H.k5][f],this.tX[f],this.H.v3,null === (c=this.parent) || void 0 === c?void 0:c.bb(f),this.r0,this.wC,this.ot);};b.prototype.zKa=function(a,b){var f,d,l,q,h,u,g,z,B,I;function c(){return 0 === --u && l.events.emit("requestQueuesCreated");}l=this;void 0 === b && (b=this.PQ);u=0;try{for(var m=k.__values(a),x=m.next();!x.done;x=m.next()){g=x.value;z=g.I;B=this.bb(z);if((null === B || void 0 === B?void 0:B.track) !== g){null === B || void 0 === B?void 0:B.pg();I=this.oob(g,b);this.ih.nZa(z,I);++u;if(this.H.v3)I.events.once("requestQueueCreated",c);}}}catch(Na){f={error:Na};}finally{try{x && !x.done && (d=m["return"]) && d.call(m);}finally{if(f)throw f.error;}}this.ih=this.ih.filter(function(b){var c;c=a.some(function(a){return a.I === b.I;});return null !== c && void 0 !== c?c:b.pg();});null === (q=this.pH) || void 0 === q?void 0:q.ac();this.pH=new t.sAa({config:this.H,O:this.O,ca:this.ca,Se:this.ih,Nh:b,xo:null !== (h=this.ca.ur) && void 0 !== h?h:void 0 !== this.ca.qa?y.U.ad(this.ca.qa):void 0,splice:void 0 !== this.parent});this.dO=this.ih.O3;};b.prototype.IQa=function(){var a;null === (a=this.pH) || void 0 === a?void 0:a.Ib(this.ceb.bind(this));};b.prototype.toJSON=function(){var a,b;return {segment:this.ca.id,branchOffset:this.fe,viewableId:this.O.la,contentStartPts:null === (a=this.Nh) || void 0 === a?void 0:a.ka,contentEndPts:null === (b=this.xo) || void 0 === b?void 0:b.ka};};return b;})(f.Is);b.I6=a;L.Ue(d.uB,a);L.Ue(d.qB,a);},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,g,y,B,L,I,E;Object.defineProperty(b,"__esModule",{value:!0});b.l$=void 0;c=a(0);k=a(16);h=a(890);m=a(90);f=a(234);q=a(891);l=a(904);u=a(407);t=a(408);x=a(10);g=a(5);y=a(21);B=a(3);d=a(120);L=a(39);I=a(411);E=a(121);a=(function(a){function b(b,c,f,d,m,g,z,y,L,E,n,da,p,W){var M;M=a.call(this,b) || this;M.H=c;M.Qc=m;M.jh=g;M.aFa=z;M.ecb=L;M.jcb=da;M.wC=p;M.ot=W;M.events=new k.EventEmitter();M.connected=!1;M.Nja=!1;M.Pq=!1;M.G=x.tx(B,f,"[" + M.I + "]");M.gf=M.G.error.bind(M.G);M.kb=M.G.warn.bind(M.G);M.Xj=M.G.trace.bind(M.G);M.W0b=z;M.jY=z.ka;M.ITa=1 === M.I?c.L2:c.E2;M.wma=1 === M.I?c.dEb:c.QDb;M.TJ=(1 === M.I?c.WJ:c.RJ) || c.TJ;M.tR=(1 === M.I?c.cEb:c.PDb) || c.tR;M.Cda=c.Cda;M.eg=new u.uW(n?n.eg:void 0);M.eg.dT(g);M.vGa=new t.vW(y,c,M.eg,0 === M.I && c.dMa || 1 === M.I && c.eMa);M.Ol=new h.tAa(M,d,M.H,M.G,M.I);M.fo=new q.GBa(M,c,M.G,M.Ol,M.Qc,M.I,M.wC);M.nO=!1;c.Cg && (M.Cg=new l.uCa(c.Cg,M.G));E && (M.Sg=I.mr(M.I,M.track.O,M.H,M.G,M.Ol.Ktb.bind(M.Ol),function(){}),M.Sg.on("created",function(){return M.events.emit("requestQueueCreated");}));return M;}c.__extends(b,a);Object.defineProperties(b.prototype,{I:{get:function(){return this.jh.I;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{track:{get:function(){return this.jh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yc:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ba:{get:function(){return this.Qc.ca.id;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.fo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gd:{get:function(){return this.jh.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){return this.fo.wo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qm:{get:function(){return this.fo.qm;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yb:{get:function(){return this.jY;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tt:{get:function(){var a,b;return null !== (b=null !== (a=this.Ra.Tt) && void 0 !== a?a:this.ll) && void 0 !== b?b:this.Aq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hr:{get:function(){return this.Ra.hr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pfa:{get:function(){return this.Ra.pfa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zla:{get:function(){return ! !this.wg && this.uk > this.wg.index;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{OC:{get:function(){return this.zla && 0 === this.fo.Jx;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cw:{get:function(){return this.Ra.cw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pob:{get:function(){return this.Ra.aa.e_;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tu:{get:function(){return this.vGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ox:{get:function(){return this.eg.ox;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){var a,b;return null !== (b=null === (a=this.$f) || void 0 === a?void 0:a.P) && void 0 !== b?b:1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wa:{get:function(){var a;return null === (a=this.$f) || void 0 === a?void 0:a.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){var a;return null === (a=this.wg) || void 0 === a?void 0:a.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ck:{get:function(){return this.yc.dr.ze(this.P).rb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{V0:{get:function(){return this.Ra.V0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Su:{get:function(){return this.Ra.Su;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bra:{get:function(){return this.Ra.bra;},enumerable:!1,configurable:!0}});b.prototype.zO=function(){var a;a=this;this.fo.zO(void 0,function(b){var c;c=b[0];b=c.Wb;c=c.index;c < a.uk && a.U4(b,c);});};b.prototype.pg=function(){this.Pq=!0;this.fo.pg();this.eg.Qb();this.Sg && (this.yc.O.yO(this.I,this.Sg),E.Jn.pf.rI(this.Sg),this.Sg.removeAllListeners(),this.Sg=void 0);};b.prototype.toJSON=function(){return {started:this.Su,startOfSequence:this.bra,segmentId:this.Ba,requestedBufferLevel:this.qm,viewableId:this.Qc.O.la,hasFragments:this.V0};};b.prototype.Dq=function(){return this.Ra.Dq();};b.prototype.U4=function(a,b){this.jY=a;this.uk=b;};b.prototype.zQ=function(){return this.Ra.zQ();};b.prototype.dha=function(){this.Ra.close();};b.prototype.Cfa=function(a){return (a=this.Ra.wr(a.ka))?a.complete:!1;};Object.defineProperties(b.prototype,{Uh:{get:function(){return this.Qc.Uh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Aq:{get:function(){return void 0 === this.jh.xm || void 0 === this.uk?this.aFa.add(y.U.ad(this.Qc.fe)):this.jh.xm.get(this.uk).Nh.add(y.U.ad(this.Qc.fe));},enumerable:!1,configurable:!0}});b.prototype.MSb=function(a,b){var c;g.assert(! !b !== ! !this.Sg);b=null !== b && void 0 !== b?b:this.Sg;g.assert(b);g.assert(!this.Pq,"pipeline.tryIssueRequest on disabled pipeline");c=a.t0();return c?this.P0a(a,c,b):a.zF(b);};b.prototype.mJ=function(a,b){a && (this.$f=a);b && (this.wg=b);g.assert(this.$f);g.assert(this.wg);g.assert(void 0 === this.uk);this.U4(this.$f.Wb,this.$f.index);};b.prototype.Iqa=function(){return f.B0(this.jh.I,this.H);};b.prototype.K1=function(){return this.dRa()?!1:this.ix()?!0:this.track.zFb;};b.prototype.ix=function(){return void 0 !== this.$f && void 0 !== this.wg;};b.prototype.dRa=function(){return ! !(this.Pq || this.wg && this.uk > this.wg.index);};Object.defineProperties(b.prototype,{RJb:{get:function(){var a;a=!0;this.H.m4 && (a=this.connected);this.H.l4 && (a=a && this.Nja);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IHb:{get:function(){return void 0 !== this.Cg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JHb:{get:function(){var a;return (null === (a=this.Cg) || void 0 === a?0:a.xw())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});b.prototype.Jj=function(a){this.Ol.eGb(a);"oncomplete" === this.H.GQa && (this.Nja=!0);this.zr(a);};b.prototype.Gx=function(a){a.dc || this.Ol.CUa(a.stream,a.T,a.Wb);this.Ol.aGb(this.Ba,a.stream,a.dc);this.KD(a);};b.prototype.jK=function(a){a.zda || (this.connected=!0);"onfirstbyte" === this.H.GQa && (this.Nja=!0);this.Pz(a);};b.prototype.Nvb=function(a){var b,c;b=this.Ra.aa;if(0 === b.length)return {aa:[],$na:0,yk:0};c=b.JI(a.ka);0 > c && (c=void 0 === b.T || a.ka <= b.T?0:b.length);return {aa:b.MNb(c),$na:Math.max(0,b.tlb - c),yk:b.yk};};b.prototype.P0a=function(a,b,c,f){var d,l,q,h,u,m,t;h=this.Qc;u=h.O;m=this.I;t=this.uk;if(t >= b.length)return (this.kb("makeRequest nextFragmentIndex:",t,"past fragments length:",b.length),!1);if(!this.$f || !this.wg)return (this.kb("makeRequest delayed, first or last fragment not set","first:",! !this.$f,"last:",! !this.wg),!1);b=this.ecb.qOa(a,t,this,u.fx());if(!b)return (this.kb("makeRequest unable to get valid fragment"),!1);if(this.ot && !this.ot.xkb(this.I,b.$))return !1;null === (d=this.Cg) || void 0 === d?void 0:d.Rzb(b,a);b.Nr && 1 === m && this.Ol.tca(h.ca,b.qa);b.wZa(h.dr);d=null === (l=this.jcb) || void 0 === l?void 0:l.call(this);this.H.kE && void 0 !== d && (!this.H.Vgb || !b.Ja && d < b.$) && (b.kE=this.H.kE);void 0 !== a && (b.location=a.location,b.Tb=a.Ic,b.uqa=a.vq);if(l=h.O.Y4)(m=0 === m && this.H.dMa || 1 === m && this.H.eMa,d=this.H.Brb && 1 === this.I && this.H.Xo,b.Z4=l.Mp({QH:h.ki(this.I),Z2:this.H.wrb?this.H.Z2:void 0,o0a:String(B.time.da()),aI:m?f:void 0,qea:d?{start:b.offset,size:b.$}:void 0}));B.time.da();c=this.Ra.yob(b,c,a);if(!c.Au()){this.kb("MediaRequest.open error: " + c.qg + " native: " + c.ni);if(7 === c.readyState)return !1;this.kb("makeRequest caught:",c.qg);u.Bg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return !1;}null === (q=this.Cg) || void 0 === q?void 0:q.Trb(c,b,a);this.Ol.fGb(c);this.U4(c.Vb,b.QR);this.dRa() && this.Ra.pOb();return !0;};return b;})(m.Is);b.l$=a;L.Ue(d.qB,a);L.Ue(d.uB,a);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uW=void 0;d=(function(){function a(a){this.parent=a;this.fd=null;}Object.defineProperties(a.prototype,{URa:{get:function(){var a,b;return null !== (a=this.bzb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.URa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aR:{get:function(){var a,b;return null !== (a=this.UFb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.aR;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ox:{get:function(){var a,b;return null !== (a=this.xn) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.ox;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bR:{get:function(){var a;return null === this.fd?null === (a=this.parent) || void 0 === a?void 0:a.bR:this.fd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ZRa:{get:function(){var a,b;return null !== (a=this.EQb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.ZRa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Bla:{get:function(){var a,b;return null !== (a=this.FQb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.Bla;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.PNb;},enumerable:!1,configurable:!0}});a.prototype.Qb=function(){this.parent=void 0;};a.prototype.sZa=function(a){this.bzb=a;};a.prototype.MOb=function(a){this.UFb=a;};a.prototype.zZa=function(a){this.xn=a;};a.prototype.Cqa=function(a){this.fd=a;};a.prototype.WOb=function(a){this.EQb=a;};a.prototype.BZa=function(a){this.FQb=a;};a.prototype.dT=function(a){this.PNb=a;};return a;})();b.uW=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(905),b);},function(d,b,a){var c,k,h,m,f,q,l,u,t;Object.defineProperty(b,"__esModule",{value:!0});b.Qu=void 0;c=a(37);k=a(8);h=a(70);m=a(24);d=a(38);f=a(910);q=a(17);l=d.assert;u=d.Rn;b.Qu=t;(function(){var q00;q00=2;for(;q00 !== 5;){switch(q00){case 2:var P8e="1S";P8e+="IYbZ";P8e+="rNJ";P8e+="Cp";P8e+="9";b.Qu=t=function(b,d,t,x,g,E){var s00,y,I,L,n,p,r,Y,Q,qa,va,ga,ba,S,Aa,ia,Ha,Na,Pa,Ba,F,Wa;function B(a,c,q,h,u,t,m){var u00,x,g,z,B,I,M,da,W,D,R,U,ka,la,Q,k;u00=2;for(;u00 !== 43;){switch(u00){case 28:c=0 < h || 0 < u?f(q.concat(ka),B + h + u,t,x,m,I,g,B,B + h,W,M,U / D,da,b.HR,b.m5):U > a.p2?{result:!0,mR:0,du:!0}:{result:!1,mR:0,du:!0};u00=25;break;case 29:(la=Math.min(R,c.aa.length - z),ka.push(c.aa.fL.subarray(z,z + la)),R-=la,z+=la,z >= c.aa.length && (z=0));u00=30;break;case 6:u00=k >= a.S * m * g?14:13;break;case 9:u00=x && !b.m5?8:6;break;case 33:u00=0 < R?32:31;break;case 8:u00=k >= Math.max(a.p2 * m,a.S * m * g) && a.du?7:13;break;case 5:return !1;break;case 22:Q || (c=a);ka=[];u00=35;break;case 30:u00=0 < R?29:28;break;case 13:t=!b.Afa || a === q || a.Ic === q.Ic && E?0:(q=a.cb) && q.Vh && q.Vh.Ga?q.Vh.Ga + b.xfa * (q.Vh.Xh?Math.sqrt(q.Vh.Xh):0):0;q=Na;a000.Y8e(0);t=a000.G8e(L,t,n);m=va;u00=20;break;case 7:return !0;break;case 20:var a8e="Se";a8e+="co";a8e+="nd";a8e+=" stream unde";a8e+="fined";var Z8e="First stream un";Z8e+="de";Z8e+="fined";(x=r - L,g=p - L,z=Y,B=Na.length,I=qa,M=Pa,da=ga,W=d.Mga,D=d.playbackRate,R=! !d.zSa);l(a,Z8e);l(c,a8e);(U=a.Ma,ka=x - t,la=a.aa && a.aa.length,Q=c.aa && c.aa.length);l(q.length === B);b.gma && (da=Math.min(da,ka));u00=27;break;case 26:c=!1;u00=25;break;case 35:u00=R?34:44;break;case 44:(h=Math.max(0,Math.min(h,a.aa.length - z)),u=Math.max(0,Math.min(u,c.aa.length - z - h)),0 < h && ka.push(a.aa.fL.subarray(z,z + h)),0 < u && ka.push(c.aa.fL.subarray(z + h,z + h + u)));u00=28;break;case 27:u00=!U || U < a.S * D * b.$ja || !la?26:22;break;case 1:u00=ba && !ba.B_ && ba.Ma >= k && ba.S <= a.S?5:4;break;case 34:R=h;u00=33;break;case 3:u00=!t || !x?9:13;break;case 25:c && c.result && (y.n4b=c.mR);ba={B_:c && c.result,Ma:k,S:a.S};return c && c.result;break;case 14:return !0;break;case 2:(k=a.Ma || 0,x=a.aa && a.aa.length,g=t?b.Bha:x?b.A_:b.Dsb);u00=1;break;case 4:t || x || (a.era=!0);u00=3;break;case 31:R=u;u00=30;break;case 32:(la=Math.min(R,a.aa.length - z),ka.push(a.aa.fL.subarray(z,z + la)),R-=la,z+=la,z >= a.aa.length && (z=0));u00=33;break;}}}s00=2;for(;s00 !== 15;){switch(s00){case 9:s00=(this.eg.URa || m.eV.bh) === m.eV.eab || !g.Ma?8:7;break;case 4:var I8e="n";I8e+="u";I8e+="m";I8e+="ber";l(I8e === typeof d.Mga);(y=new u(),I=g=t[x],L=d.buffer.T,n=d.buffer.$c,p=d.buffer.Yb,r=d.buffer.Vk,Y=d.rg,Q=r - n,qa=d.state === q.na.Wc || d.state === q.na.rj?d.buffer.yk:0,va=b.r2,ga=b.rx?b.rx:1E3,S=z(g,Y,b.aka),Aa=z(g,Y + S,b.bma));s00=9;break;case 8:return a.call(this,0,0,t);break;case 12:(ia=z(g,Y,b.cka),Ha=z(g,Y + ia,b.dma));s00=11;break;case 11:g=c.kh(t.slice(x + 1,b.Tqa && Q >= b.xsa?t.length:x + 2),function(a,b){var v00;v00=2;for(;v00 !== 1;){switch(v00){case 2:return B(a,t[x + b],I,ia,Ha,!1,d.playbackRate);break;}}});s00=10;break;case 14:s00=B(g,t[Math.max(x - 1,0)],g,S,Aa,!1,d.playbackRate)?13:19;break;case 13:s00=x + 1 < t.length && Q > b.qx && (void 0 === this.U1 || this.Ela && this.Ela > this.U1 || p - this.U1 > b.e2 && Q > b.fma)?12:10;break;case 16:g=Ba;s00=10;break;case 7:g.aa && g.aa.length || (g.era=!0);(Na=h.Bh.FKa(d.buffer.aa),Pa=d.buffer.Ip - Na.$,Ba=t[0]);s00=14;break;case 19:s00=g.aa && g.aa.length?18:10;break;case 20:return y;break;case 10:y.xn=g || I;s00=20;break;case 18:(F=z(g,Y,b.bka),Wa=z(g,Y + F,b.cma));s00=17;break;case 17:s00=(g=c.kh(t.slice(0,x).reverse(),function(a,b){var w00;w00=2;for(;w00 !== 1;){switch(w00){case 2:return B(a,t[Math.max(x - b - 2,0)],I,F,Wa,!0,d.playbackRate);break;}}})) && g.Rf < Ba.Rf || !g?16:10;break;case 2:var V8e="n";V8e+="u";V8e+="m";V8e+="be";V8e+="r";var C8e="player missing fr";C8e+="ag";C8e+="ment";C8e+="Index";var X8e="Must h";X8e+="ave at lea";X8e+="st one ";X8e+="selected stream";l(!k.X(x),X8e);l(k.pa(d.rg),C8e);l(V8e === typeof d.buffer.Ip);s00=4;break;}}function z(a,b,c){var t00;t00=2;for(;t00 !== 1;){switch(t00){case 2:return a.aa?a.aa.Ifa(b,c):0;break;}}}};P8e;q00=5;break;}}function a(a,b,c){var r00;r00=2;for(;r00 !== 4;){switch(r00){case 2:a=new u();a.xn=c[0];return a;break;}}}})();},function(d,b,a){var h,m,f,q,l,u;function c(a,b,c,f){q(!h.X(f),"Must have at least one selected stream");return new u(f);}function k(a,b,c,f){q(!h.X(f),"Must have at least one selected stream");return new u(f);}h=a(8);b=a(38);m=b.console;f=b.debug;q=b.assert;l=b.sJ;u=b.Rn;d.W={STARTING:function(a,b,c){var q,h,t,k;function d(c,d){var l,q,h,u;l=c.id;q=c.S;h=c.Ma || 0;u=! !h;f && m.log("Checking feasibility of [" + d + "] " + l + " (" + q + " Kbps)");if(!c.Mr)return (f && !c.lu && m.log("  Not available"),f && c.bA && m.log("  Failed"),!1);if(q > a.sR)return (f && m.log("  Above maxInitAudioBitrate (" + a.sR + " Kbps)"),!1);if(!(q * a.I2 / 8 < b.buffer.Ip))return (f && m.log("  audio buffer too small to handle this stream"),!1);if(u){f && m.log("  Have throughput history = " + u + " : available throughput = " + h + " Kbps");if(q * b.playbackRate < h / t)return (f && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);f && m.log(" bitrate requires more than available throughput");return !1;}c=a.GR;b.C1 && (c=Math.max(c,a.FR));if(q <= c)return (f && m.log("  Bitrate is less than max of minInitAudioBitrate (" + a.GR + " Kbps) " + (b.C1?" and also minHCInitAudioBitrate (" + a.FR + " Kbps)":"")),f && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);f && m.log("  No throughput history");return !1;}q=new u();t=a.u1b || 1;for(k=c.length - 1;0 <= k;--k){h=c[k];if(d(h,k)){q.fd=k;break;}l(h) && (q.fd=k);}return q;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.mr=void 0;c=a(25);k=a(121);b.mr=function(a,b,f,d,l,u){var q;c.sa && d.trace("AsePlaygraph.createRequestQueue()");q=k.Jn.pf.mr(a,b.u,!0,!1,{hMa:f.hMa},f);q.ag.on(q,"networkfailing",function(){var a;c.sa && d.trace("requestQueue OnNetworkFailing: ",q);q.y_ && (null === (a=b.Do) || void 0 === a?void 0:a.pq(q.Aha,void 0,q.qg,q.ni));b.Dq();});q.ag.on(q,"error",function(){u(q.qg,q.ni);});q.on("transportreport",l);q.Ib();return q;};},function(d,b,a){var c,k,h,m,f,q,l,u,t,x;Object.defineProperty(b,"__esModule",{value:!0});b.wV=void 0;c=a(0);d=a(406);k=a(172);h=a(24);m=a(234);f=a(17);q=a(3);l=a(176);u=a(5);t=a(21);x=a(927);a=(function(a){function b(b,c,f,d,h,u,m,k,g,z,y,n,p){f=a.call(this,d,k,f,d,d,h,t.U.ad(u),m,y,!1,n,p) || this;f.Va=b;f.fh=c;f.mf=g;f.Gf=z;f.yea=0;f.Oz=[];f.Fv=!1;f.fo.x1a=!1;f.ifb=k;f.EN=new x.Fxa(d,f.Gf,k,f.G,f.I,f.fh,f.Ra,f.Va);f.bCb=q.time.da();f.UBb=void 0;f.mE=k.Ika;f.IWa=q.time.da();c=l["default"](k);b=c.Px;c=c.pS;f.yJb=0 === f.I?b:c;f.dT(h);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{cw:{get:function(){return this.Ra.cw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YH:{get:function(){return this.Ra.YH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jD:{get:function(){return this.Ra.jD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RA:{get:function(){return this.Ra.RA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xg:{get:function(){return this.EN.Xg;},set:function(a){this.EN.Xg=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ln:{get:function(){return this.EN.Ln;},set:function(a){this.EN.Ln=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{b2:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{eAb:{get:function(){return this.aFa.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{XK:{get:function(){return this.vGa.XK;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zxb:{get:function(){return this.Va.Dca;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{og:{get:function(){return this.Fv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bD:{get:function(){return this.ZDa;},enumerable:!1,configurable:!0}});b.prototype.reset=function(){this.seeking=void 0;this.connected=this.Xg=!1;this.fo.reset();};b.prototype.pg=function(){this.reset();a.prototype.pg.call(this);};b.prototype.JD=function(a,b){return m.JD(this.jh.I,this.H,a,b,this.Cg,this.Va.wEb,this.nO);};b.prototype.Xm=function(a,b,c,f){return m.Xm(this.jh.I,this.H,a,b,c,f);};b.prototype.sl=function(a){this.Ra.sl(a);this.mE=this.H.Ika;};b.prototype.NH=function(){this.Ra.OT();};b.prototype.dT=function(a){var b,c;b=this.Va;c=this.I;u.assert(a.I === c);u.assert(a.O === this.yc.O);this.jh=a;this.yc.O.hsa(c,a.gd);0 === c && (this.nO=k.Dda(this.ifb,a.gd[0]));b.zcb(this,a.vx);this.Hjb(a.gd);this.eg.dT(a);this.yc.O.efa();this.Xg=!1;};b.prototype.Fha=function(a){var b;b=this.yc.O.ug[this.I];if(b && b.stream.je && (a=b.stream.aa.Yl(a),-1 !== a))return a;};b.prototype.dF=function(a,b){var c,f,d;if(this.$f && this.$f.T === a)(b=this.$f.index,c=a);else {f=this.yc.O;d=f.ug[this.I];if(!d || !d.stream.je){this.EE=a;this.rIb=b;return;}c=d.stream.aa;this.$f=this.Xm(d.stream,a,void 0,b);if(void 0 === this.$f){if((b=c.length - 1,c=c.ij(b),this.kb("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.Me.Mf),f.Me.Mf)){this.EE=a;return;}}else (b=this.$f.index,c=this.$f.T);}this.uk=b;this.jY=c;this.EE=void 0;};b.prototype.uUb=function(a){var b,c;b=this.jh.Dr(a);c="verifying streamId: " + a + " stream's track: " + (b?b.Ca:"unknown") + " currentTrack: " + this.jh.jb;return b?!0:(this.fh.il(c),this.fh.il("unknown streamId: " + a),!1);};b.prototype.Hjb=function(a){this.fzb=a.reduce(function(a,b){return b.Mr && b.S > a.S?b:a;},a[0]);};b.prototype.T4=function(a){this.wg=a;};b.prototype.vDb=function(a,b,c,f,d){this.P0a(a,b,f,d);c && ++this.yea;this.Va.Pi();};b.prototype.Gx=function(b){b.qa && b.T && (this.mE-=b.qa - b.T);a.prototype.Gx.call(this,b);};b.prototype.Jj=function(a){this.NPa(a);this.zr(a);};b.prototype.jTb=function(a){var b;b=q.time.da();this.mE+=a * (b - this.IWa);this.IWa=b;};b.prototype.DMb=function(){this.mE=this.H.Ika;};b.prototype.XH=function(a){this.Ra.tJa();this.Cg || this.EN.XH(a,this.Vb);};b.prototype.NPa=function(a){var b,c,f;c=this.b2;f=this.Va;this.mf.xGa() || (this.fh.Vdb(a.I,a.O.eb,a.stream.track.MC,this.hr,this.Ba),null === (b=this.Cg) || void 0 === b?void 0:b.Pzb(a),b=c.R.Ud() || 0,f.ab.Gv() || (c=c.bb(h.Sa.VIDEO)) && !c.og && c.V0 && f.ab.uja(c),this.XH(b),this.Va.MPa(a),this.mf.$W(this) && this.mf.Pi());};b.prototype.Rna=function(a){this.Va.P0(a);};b.prototype.sJa=function(a,b,c,f,d,l){var q,h;q=this.H;h=q.aj;if(c >= q.aj && (q.l4 && (h=c + 1E3),q.m4 && !this.connected))return !1;if(this.Cg)return this.Cg.xw();c=this.Xg && 0 === this.Ra.Yna && 0 === this.Ra.av;return !c && f < h?!1:c?l && 0 === f?(this.kb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.Bkb(a,b,d);};b.prototype.LOb=function(a){this.jY=a;};b.prototype.P4=function(a){this.Fv=!0;this.ZDa=a;};b.prototype.cfa=function(){this.Fv=!1;this.ZDa=void 0;};b.prototype.Bkb=function(a,b,c){if(this.og || 0 === this.I)return !0;if(void 0 === this.ox)return !1;b=this.gcb(b,a);this.track.O.el.GL(this.track.O.la,this.track.gd);this.Tu.Coa([this.ox],!1,b,this.yJb);a=this.Tu.xw(b,a,c,this.ox,this.yc.O.Do);a.complete?this.P4(a.reason):(this.cfa(),this.oA=a.oA,this.ri=a.ri);return this.og;};b.prototype.gcb=function(a,b){var c,d,l,h,u,m,t,k;t=q.$l()[this.I];k=null !== (l=null === (d=null === (c=q.QOa) || void 0 === c?void 0:c.call(q)) || void 0 === d?void 0:d[this.I]) && void 0 !== l?l:-1;c=this.Ra.y0();a={Ip:t,S5:k,T:null !== (h=c.dd) && void 0 !== h?h:0,$c:a,Yb:null !== (u=c.sK || a) && void 0 !== u?u:0,Vk:null !== (m=c.mP || a) && void 0 !== m?m:0,xi:c.xi,yk:c.yk,Zha:c.aa.length,aa:c.aa};"number" !== typeof a.T?(a.T=0,a.Yb=0):b === f.Kc.qd && a.$c !== a.T && (a.$c=a.T);return a;};return b;})(d.l$);b.wV=a;},function(d,b,a){var c,k,h,m,f,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.v6=void 0;c=a(0);d=a(16);k=a(25);h=a(3);m=a(10);f=a(929);q=a(173);l=a(930);a=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.hGa=0;b.Fca=0;b.zN=0;b.vba=0;return b;}c.__extends(b,a);b.prototype.Apa=function(b){var c,f;a.prototype.Apa.call(this,b);this.hGa++;this.Fca++;this.AGa=h.time.da();this.XG || (this.XG={Vb:b.Vb,Wb:b.Wb,index:b.index},this.rX || (this.rX=this.XG));c=this.DX;f=!1;c && 100 > Math.abs(c.Vb - b.Wb) && (this.zN+=b.Vb - c.Vb,this.vba++,f=!0);f || (this.zN=b.Kw,this.vba=1);this.DX=b;};b.prototype.stop=function(){a.prototype.stop.call(this);this.zN=this.Fca=0;this.XG=void 0;};b.prototype.zOa=function(){var a,b,c,f;a=this.sH;b=a.CZ;if(b){f=b.bb(this.mg);f && f.Ra && (c=f.Ra.ija());return {RM:c,currentBranch:{sId:b.ca && b.ca.id,cancelled:b.bk},currentReceivedCount:a && a.Nob,totalReceivedCount:this.hGa,currentState:a && a.Qob || "Uninitialized",lastRequestPushed:this.DX && ({contentEndPts:this.DX.Vb,fragmentIndex:this.DX.index}),tslp:this.AGa && h.time.da() - this.AGa,cpts:this.zN,crq:this.vba,rslp:this.Fca,firstRequestSSPushed:this.XG && ({contentStartPts:this.XG.Wb,fragmentIndex:this.XG.index}),firstRequestPushed:this.rX && ({contentStartPts:this.rX.Wb,fragmentIndex:this.rX.index})};}};return b;})((function(a){function b(b,c,d,q,u,t,k,g,n){var x;x=a.call(this) || this;x.Ff=b;x.mg=c;x.H=q;x.G=u;x.Wy=new m.wv(!1);x.G=m.tx(h,x.G,"AsePlayerBuffer:");x.sH=new f.Pta(x.G,d,c);x.resume();t && k && g && (x.Ioa=new l.jBa(c,u,t,x.Ff,t.events,k,g,n));x.Ff.on("requestAppended",function(){x.Wy.set(!0);x.emit("requestAppended");});return x;}c.__extends(b,a);Object.defineProperties(b.prototype,{lE:{get:function(){return this.Wy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dB:{get:function(){return this.Ff.dB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.mg;},enumerable:!1,configurable:!0}});b.prototype.zOa=function(){};b.prototype.resume=function(){k.sa && this.G.trace("resume");this.Zqa();};b.prototype.cRa=function(a){return this.Ff.Nia() > a;};b.prototype.reset=function(a){var b;void 0 === a && (a=!1);k.sa && this.G.trace("reset");this.stop();this.Ff.reset(a);this.Wy.set(!1);a || (this.PW=void 0);a || (null === (b=this.Ioa) || void 0 === b?void 0:b.reset());};b.prototype.sq=function(a){void 0 === a && (a=!1);this.reset(a);this.Zqa(!0);};b.prototype.stop=function(){this.sH.o_a();};b.prototype.close=function(){var a;null === (a=this.Ioa) || void 0 === a?void 0:a.close();};b.prototype.Qb=function(){this.stop();this.close();};b.prototype.Ina=function(){this.H.N_ && this.Ff.kNa();this.H.OL && this.Ff.resume();};b.prototype.stb=function(a){this.Ff.xUa(a,!0);};b.prototype.Si=function(a){var b;return !(null === (b=this.Ioa) || void 0 === b || !b.Si(a));};b.prototype.Zqa=function(a){if(!this.sH.$m || a)(this.sH.MMb(),q.vB.BBb(this.sH,this.O1.bind(this)));};b.prototype.O1=function(a){a.done || this.Apa(a.value);};b.prototype.Apa=function(a){this.Ff.endOfStream?k.sa && this.G.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.PW?(this.PW.XBb=a.Vb,this.PW.ZBb=a.le):this.PW={h3b:a.Wb,i3b:a.dd,XBb:a.Vb,ZBb:a.le},this.Ff.$hb(a));};return b;})(d.EventEmitter));b.v6=a;},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.R$=void 0;c=a(0);k=a(16);h=a(10);m=a(25);f=a(122);q=h.U.ad(1E3);d=(function(){function a(a,b,c,f,d,l,m,g){var u,t,x;u=this;this.I=a;this.console=b;this.Fc=c;this.events=d;this.fg=m;this.pSb=g;this.hn=[];this.aoa=q.add(h.U.ad(null !== (x=null === (t=l.jT) || void 0 === t?void 0:t.ka) && void 0 !== x?x:0));this.listeners=new k.Yg();this.listeners.on(m.wa,"clockReset",function(){return u.Ona();});this.listeners.on(f,"requestAppended",function(a){return u.lE(a.request);});this.pO=!0;this.PP=m.wZ(function(){return u.grb();});this.S3=m.wZ(function(){return u.uKb();});}a.prototype.Ona=function(){this.trace("skipped, scheduler clock " + this.fg.wa.currentTime.Wd());this.pO=!0;this.PP.sq();};a.prototype.grb=function(){var a,b;return c.__generator(this,function(c){switch(c.label){case 0:(this.rS=this.LFb(this.pO),a=this.jUa(),b=this.pO?this.Fc.Zf:null === a || void 0 === a?void 0:a.timestamp,c.label=1);case 1:if(!a)return [3,3];this.trace("queuing task for " + a.yF + (" at player time " + a.timestamp.Wd()) + (" scheduler clock is " + this.fg.wa.currentTime.Wd()));return [4,f.Nq.dU(a.timestamp)];case 2:return (c.sm(),this.trace("executing task for " + a.yF + (" at player time " + a.timestamp.Wd()) + (" scheduler clock is " + this.fg.wa.currentTime.Wd())),this.pO=!1,this.aMa(a,b),this.rS++,a=this.jUa(),b=null === a || void 0 === a?void 0:a.timestamp,[3,1]);case 3:return [2];}});};a.prototype.jUa=function(){if(void 0 !== this.rS)return this.hn[this.rS];};a.prototype.LFb=function(a){void 0 === a && (a=!1);for(var b=0;b < this.hn.length;b++){if(this.hn[b].timestamp.Ko(this.Fc.Zf))return a && 0 < b?b - 1:b;}return Math.max(this.hn.length - 1,0);};a.prototype.uKb=function(){var a,b;return c.__generator(this,function(d){switch(d.label){case 0:if(!(1 < this.hn.length))return [3,2];a=c.__read(this.hn,2);b=a[1];this.trace("queuing pruning task for " + b.yF + (" at player time " + this.aoa.add(b.timestamp).Wd()) + (" scheduler clock is " + this.fg.wa.currentTime.Wd()));return [4,f.Nq.dU(this.aoa.add(b.timestamp))];case 1:return (d.sm(),this.trace("executing pruning task for " + b.yF + (" at player time " + this.aoa.add(b.timestamp).Wd()) + (" scheduler clock is " + this.fg.wa.currentTime.Wd())),this.hn.shift(),this.rS && this.rS--,[3,0]);case 2:return [2];}});};a.prototype.reset=function(){this.hn=[];m.sa && this.trace("reset");this.pO=!0;this.S1=void 0;this.S3.sq();this.PP.sq();};a.prototype.close=function(){this.PP.Qb();this.S3.Qb();this.listeners.clear();};a.prototype.Si=function(a){var b;m.sa && this.trace("canSkip() " + a);if(0 === this.hn.length)return (m.sa && this.trace("canSkip false, no media sequence"),!1);b=this.hn[0];return b.timestamp.greaterThan(a)?(m.sa && this.trace("canSkip false, before earliest item at " + b.timestamp),!1):void 0 === this.S1 || this.S1.lessThan(a)?(m.sa && this.trace("canSkip false, later than last appended at " + this.S1),!1):!0;};a.prototype.trace=function(a){m.sa && this.console.trace("PresentationTracker [" + this.I + "] " + this.pSb + ": " + a);};a.prototype.$Ga=function(a,b,c){c && (this.S1=c);c=this.hn.length?this.hn[this.hn.length - 1]:void 0;return void 0 === c || c.yF !== a?(this.hn.push({yF:a,timestamp:b}),this.PP.state === f.Oq.complete && this.PP.sq(),this.S3.state === f.Oq.complete && this.S3.sq(),!0):!1;};return a;})();b.R$=d;},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,g;Object.defineProperty(b,"__esModule",{value:!0});b.J6=void 0;c=a(8);k=a(62);h=a(3);m=a(933);f=a(17);q=a(247);l=a(10);u=a(5);t=a(21);x=a(416);g=a(404);d=(function(){function a(a,b,c,f,d,m,t,k,x,g){this.Va=a;this.fh=b;this.G=c;this.uH=f;this.H=t;this.lX=k;this.PFa=x;this.lQ=g;this.kb=this.G.warn.bind(this.G);this.Xj=this.G.trace.bind(this.G);this.Jg=this.G.log.bind(this.G);this.Fh=[];this.ng={};d.gr?(u.assert(!d.ml),this.jba=!0,this.neb(d,d.gr,m)):(this.Im=this.Hv(d.ml || "",d,0,void 0,void 0,{},!0),this.Im.bK=!0,this.Im.qa=Infinity,this.nY=[this.Im]);this.Qc=this.bX(this.Im,void 0,m);this.Qc.active=!0;a=l.tx(h,this.G,"BranchQueue::");this.Ji=new q.qU(a);this.Ji.enqueue(this.Qc);this.Aca=this.ON=void 0;}a.fia=function(a){return "m" + a;};Object.defineProperties(a.prototype,{fx:{get:function(){return ! !this.jba;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xi:{get:function(){return this.Qc.bk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vg:{get:function(){return this.Im;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mg:{get:function(){return this.Qc.ca.id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Oob:{get:function(){return this.Qc.O.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bc:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lb:{get:function(){return this.Fh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fe:{get:function(){return this.Qc.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gf:{get:function(){return this.Va.Gf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ej:{get:function(){return this.ON?this.ON:this.Lb[0];},enumerable:!1,configurable:!0}});a.prototype.Qb=function(){this.Fh.forEach(function(a){a.pg();});this.Fh=[];this.Ji.clear();};a.prototype.Nf=function(a){return this.ng[a];};a.prototype.fPa=function(){return this.Ji.yOa();};a.prototype.ePa=function(a,b){var c;c=this.ng[a];if(c)return (a=c.gk[b]) && a.weight;this.kb("getSegmentWeight, unknown segment:",a);};a.prototype.txb=function(a){var b;b=this.ng[a];if(b)return b.T;this.kb("getSegmentStartPts, unknown segment:",a);};a.prototype.sxb=function(a){var b;b=this.ng[a];if(!b)this.kb("getSegmentDuration, unknown segment:",a);else if(c.pa(b.qa) && isFinite(b.qa) && c.pa(b.T) && isFinite(b.T))return b.qa - b.T;};a.prototype.e4=function(a){var b;b=-1;this.Fh.some(function(c,f){return c === a?(b=f,!0):!1;});-1 !== b?this.Fh.splice(b,1):this.kb("Unable to find branch:",a,"in branches array");};a.prototype.Ejb=function(a,b){var c;c=0;this.LEa(a).forEach(function(a){(a=a.bd(b)) && (c+=a.cw);});return c;};a.prototype.dD=function(a,b){var c;c=0;this.LEa(a).forEach(function(a){(a=a.bd(b)) && (c+=a.jD);});return c;};a.prototype.Qt=function(a,b,c){if(!a.mb(b))return 0;for(var f=a.bb(b),f=c?f.Yb:f.hr;void 0 === f;){if(!a.xf)return 0;a=a.xf;f=a.bb(b);f=c?f.Yb:f.hr;}a=this.PFa.Ud();return Math.max(f - a,0);};a.prototype.r0=function(a,b){var c;if(void 0 !== this.H.kE){c=h.$l()[b];a=this.Ejb(a,b);return c - a;}};a.prototype.Eha=function(a){return this.Fh.filter(function(b){if(b.O.eb === a)return !0;});};a.prototype.Xsb=function(a,b){return this.CEa(a,!1,b);};a.prototype.Wsb=function(a,b){return this.CEa(a,!0,b);};a.prototype.eMb=function(a,b,f){c.he(this.Fh,function(c){c.O === a && c.GZa(b,f);});c.he(this.ng,function(c){c.O === a && (c.O=b);});};a.prototype.kYa=function(){var a;a=this;c.he(this.Fh,function(b){var c;c=a.Va.sg(b.O.eb);b.Zra(t.U.ad(c.pu));});};a.prototype.yq=function(a){var b;b=this;c.he(this.Fh,function(c){c.bb(1).track.gd.forEach(function(c){var f;f=x.Lda(c.Yf,c.S,a,b.G);k(f,c);});});};a.prototype.wr=function(a,b,c,f){var d;for(;b;){d=b.wr(a,c);if(d)return d;if(f)break;b=b.xf;}};a.prototype.VKa=function(a){var b,c;b=this;void 0 === a && (a=!1);c=this.Fh;a && (c=c.filter(function(a){return a !== b.Qc;}));c.forEach(function(a){a.active=!1;b.Ji.remove(a);});a || this.Ji.clear();return c;};a.prototype.tKb=function(){var a;for(;0 < this.Fh.length;){a=this.Fh[0];if(!a.active)break;if(a === this.Qc)break;if(!a.Uyb())break;a.pg();this.Fh.shift();}};a.prototype.vS=function(a,b,c,f,d){if(c > f){for(c-=f;a;){a.vS(b,c,d);a=a.xf;}return c;}};a.prototype.MSa=function(a,b){for(var c={mP:null,sK:null,dd:null,yk:0,xi:0,aa:[]};a;){a.y0(c,b);a=a.xf;}return c;};a.prototype.elb=function(a){var b,c,d;b=this.Qc;if(b.ASa)c=b.ASa;else {d=this.Qc.fe;c=this.bX(b.ca,b);f.We.forEach(function(a){var f;f=c.bd(a);f && (f.dF(0),f.T4(b.bd(a).wg));});c.Zra(t.U.ad(d + a));b.ASa=c;}this.BG(c,b);};a.prototype.Ngb=function(b,c,f){var d,l;u.assert(!b.fx());if(!this.jba){this.jba=!0;this.ON=this.ej;d=this.Im.id || a.fia(0);this.Im.id=d;this.ng[d]=this.Im;this.Im.qa=this.Va.Yvb().BOa();this.Im.KA=!0;}l=void 0 !== b.ml?b.ml:a.fia(b.eb);b=this.Hv(l,b,c,f,void 0,{},!0);b.KA=!0;this.nY.forEach(function(a){a.gk={};a.gk[l]={weight:100};a.GP=l;a.ys=!1;});this.nY=[b];};a.prototype.Rt=function(a,b){var c,f,d,l;c=this.ej;f=c.jF(b,this.Va.R);d=c.ca;l=c.children[a];if(b){if(!d.gk[a])return (this.Qc.kb("chooseNextSegment, invalid destination:",a,"for current segment:",d.id),!1);if(c.Dj)return c.Dj === a;c.Dj=a;l && c.Q_ && this.BG(l,c);return !0;}if(void 0 !== c.Dj)return !1;if(!l)return (f.eUa=!0,!1);f.eUa=!l.Vea();this.Va.Gca(void 0,g.ZM.lna);c.Q_=void 0;c.Dj=a;this.BG(l,c);c.dha();this.Va.mO();return !0;};a.prototype.jzb=function(a,b){var f,d,l,q;f=this;q=a.ca;b && !a.Dj && (a.Dj=q.GP,a.jF(!0,this.Va.R,!0));a.children=Object.create(null);c.he(q.gk,function(b,c){a.Dj && c !== a.Dj || (d=f.ng[c],l=f.wbb(d,a),a.children[c]=l);});a.Dj && (b=a.children[a.Dj]) && this.BG(b,a);a.Q_=!0;};a.prototype.kSb=function(){var a;a=0;c.he(this.Fh,function(b){f.We.forEach(function(c){b.mb(c) && (a+=b.bd(c).Ra.Bp);});});return a;};a.prototype.pRb=function(a,b){var c,f,d;c=this;f=this.ccb(a,b);if(f){f !== this.Qc.ca?(this.VKa(),d=this.bX(f,this.Qc,a),d.xf=void 0,d.Bqa(void 0,void 0,!0),this.uab(this.Qc),this.BG(d,this.Qc)):(this.VKa(!0).forEach(function(a){a.pg();c.e4(a);c.Ji.remove(a);}),this.Qc.dsa(a,this.H.r5));f === this.ej.ca && (this.ej.Zu.shift(),d && (d.Zu=this.ej.Zu,d.Dj=this.ej.Dj));this.fh.KX(f,this.Qc.fe);this.Qc.Q_=void 0;}else this.kb("findSegment no segment for manifestIndex:",b);};a.prototype.KSa=function(a,b){var c;c=a.ca;b || (b=c.GP);l.gqa(c.id);a.Dj || (a.Dj=b,a.jF(!0,this.Va.R,!0));(b=a.children[a.Dj]) && this.BG(b,a);};a.prototype.oZa=function(a,b){if(this.Qc !== a){if(b)for(b=this.Qc;b && b !== a;){b.active=!1;this.Ji.remove(b);b=b.xf;}this.Qc=a;}};a.prototype.Cs=function(a,b){var c,d,q,h,m;c=this;if(this.fx){d=this.H;q=this.ej;h=q.ca;m=l.gqa(h.id);!q.Dj && !h.ys && q.Vb - b <= d.xA && (this.kb(m + "updatePts making fork decision at playerPts:",a,"contentPts:",b),this.KSa(q));}f.We.forEach(function(a){c.Qc.mb(a) && c.Gf[a].Cs();});};a.prototype.gGb=function(a,b){var c,f;if(this.fx){c=this.ON;if(!(this.H.Dzb && a && this.Aca && a.T === this.Aca || (a=a.Ra.yc,c && a.ca.id === c.ca.id))){f=null === c || void 0 === c?void 0:c.bd(1);f=null === f || void 0 === f?void 0:f.wg;this.Aca=null === f || void 0 === f?void 0:f.T;this.ON=a;this.Sab(c);c=c && c.rlb(a);this.fh.Rdb(a.ca,b,c);}}};a.prototype.nna=function(a,b,c){b.bK || (b.T=this.SOa(a,b.T,!0),c || (b.qa=this.SOa(a,b.qa,!1)),b.bK=!0,!1);};a.prototype.RT=function(a,b){var f;l.gqa(a);f=this.ng[a];f?c.he(f.gk,function(a,c){a.weight=b[c] || 0;}):this.kb("updateChoiceMapEntry, unknown segment:",a);};a.prototype.SOa=function(a,b,c){a=c?a.VMa(b):a.bQ(b);if(!a.length)return b;b=a[1];return c?b.T:b.qa;};a.prototype.fFa=function(a,b,c){var f;f=b?c.Vb:c.le;return (b?c.F4:c.roa) <= a && a < f;};a.prototype.CEa=function(a,b,f){var h;for(var d=this.Va,l=this.Qc;l;){if((!c.pa(f) || d.Rka(f,l.O.eb)) && this.fFa(a,b,l))return l;l=l.xf;}if(b)for(var l=Object.keys(this.Qc.children),q=0;q < l.length;q++){h=this.Qc.children[l[q]];if((!c.pa(f) || d.Rka(f,h.O.eb)) && this.fFa(a,b,h))return h;}};a.prototype.wbb=function(a,b){var c,d;c=this.bX(a,b);d=c.Bqa(b,void 0,this.H.hpa);f.We.forEach(function(a){var f,l,q;if(c.mb(a)){f=c.bd(a);l=b.bd(a);q=d[a];1 === a && c.Zra(t.U.ad(l.Yb + b.fe - q));f.dF(q);}});this.fh.KX(a,c.fe);return c;};a.prototype.uab=function(a){for(var b=[a.ca.id];a.xf;){a=a.xf;b.unshift(a.ca.id);}this.Zaa(a);};a.prototype.Zaa=function(a){var b,f;b=this;f=a.ca;c.he(a.children,function(a){a && b.Zaa(a);});this.Ji.remove(a);a.pg();this.e4(a);this.fh.Odb(f);};a.prototype.BG=function(a,b){var f,d,l,q;f=this;d=b.ca;b.O !== a.O && this.Va.pFa(a.O.eb);a.active=!0;this.Ji.enqueue(a);a.NH();l=h.time.da();q={};c.he(b.children,function(b){var c,d;if(b){if(b.Dd){c=b.bd(0);d=b.bd(1);b.Dd.QH=[c?c.wo.ka:0,d?d.wo.ka:0];b.Dd.Mqb=l - b.Dd.o1;b.Dd.o1=void 0;q[b.ca.id]=b.Dd;}b.ca.id !== a.ca.id && f.Zaa(b);}});b.children=Object.create(null);b.children[a.ca.id]=a;b.LG=void 0;this.oZa(a);this.fh.Pdb(a.ca,q);1 < Object.keys(d.gk).length && a.Vea();};a.prototype.Sab=function(a){var b,c;if(a){b=h.time.da();c=a.Zu[0];c && void 0 === c.mI?c.mI=b - c.requestTime:c || (this.kb("missing metrics for branch:",a.ca.id),c={d5:a.ca.id,XA:!0,mI:0,Dd:{}},a.Zu.unshift(c));void 0 === c.startTime && (c.startTime=b);}};a.prototype.ccb=function(a,b){var f,d,q,h;u.assert(0 <= a);for(var l in this.ng){q=this.ng[l];if(this.Va.Rka(q.O.eb,b)){if(q.T <= a && (Infinity === q.qa || void 0 === q.qa || a < q.qa))return q;h=Math.min(Math.abs(a - q.T),Math.abs(a - q.qa));if(c.X(f) || h < f)(f=h,d=q);}}return d;};a.prototype.Hv=function(a,b,c,f,d,l,q,h,u){b=new m.aCa(a,b,c,f,d,l,q,h,void 0,u);return this.ng[a]=b;};a.prototype.neb=function(a,b,f){var d,l,q;d=this;this.Im=void 0;this.nY=[];l=null;q=null;c.he(b.segments,function(b,h){var m,u,t,k,x;m=b.startTimeMs;u=b.endTimeMs;t={};c.he(b.next,function(a,c){t[c]={weight:a.weight || 0,wSb:a.transitionHint || b.transitionHint,Q2b:"number" === typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});k=b.defaultNext;c.X(k) && (k=Object.keys(t)[0]);x=c.X(k);k=d.Hv(h,a,m,u,k,t,x,b.transitionDelayZones,b.transitionHint);m <= f && (f < u || c.X(u))?d.Im=k:m > f && (!l || m < q) && (l=h,q=m);x && d.nY.push(k);});this.Im || (this.Im=l?this.ng[l]:this.ng[b.initialSegment]);};a.prototype.bX=function(a,b,c){var f,d,l,q;f=a.O;d=this.Va.sg(f.eb);l=d.pu;q=[];[0,1].forEach(function(a){f.mb(a) && q.push(d.Ho(a));});a=new g.Exa(this.Va,this.H,this.fh,this.G,this,this.lX,this.PFa,this.uH,a,q,l,b,c?t.U.ad(c):void 0,this.lQ,this.Va.Gf,this.Va.At);this.vab(a);this.Fh.push(a);return a;};a.prototype.vab=function(a){var c;function b(a){c.Va.emit(a.type,a);}c=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;c.Va.Kca(a.I,a.T);});};a.prototype.LEa=function(a){for(var b=[a];a.xf;){a=a.xf;b.push(a);}return b;};return a;})();b.J6=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lda=void 0;b.Lda=function(a,b,d){var c,m;c=!0;d.forEach(function(f){var d;if(c && a === f.profile){d=f.ranges;c=void 0 === d?b >= f.min && b <= f.max:d.some(function(a){return b >= a.min && b <= a.max;});!c && f.disallowed && f.disallowed.some(function(a){if(a.stream.bitrate === b)return (m=a.disallowedBy,!0);});}});return {inRange:c,VZ:m};};},function(d,b,a){var m,f,q;function c(a,b,c){this.$r=b;this.$j=c;this.Ru=this.jJ=this.t3=this.KVa=this.JVa=this.dK=this.gd=this.aJb=this.$j=this.Ah=this.Yb=this.T=this.bv=this.jp=this.aa=this.SQa=this.VC=void 0;}function k(a,b,c){this.qa=b;this.sRa=c;this.PHa=this.a2a=this.It=this.jp=this.wx=this.zo=void 0;}function h(a,b,f,d,q,h,k){var l;l=new c(0,b,a.$j);a.forEach(function(a){var c,f;c=a.buffer;f=c.aa;a.I === m.Sa.AUDIO?l.VC=f.length?f[0].S:void 0:a.I === m.Sa.VIDEO && (l.SQa=f.length?f[0].S:void 0,l.aa=f,l.jp=c.Vk - c.$c,l.bv=c.xi,l.T=c.$c,l.Yb=c.Yb,l.Ah=a.rg,l.$j=a.$j,l.aJb=b - a.$j,l.gd=a.gd,l.dK=f.filter(function(a){return l.T <= a.Iu;}).length);});this.Dg=l;this.Ao=void 0;this.ZKa=d;this.Ou=q;this.sea=h;this.epa=this.b4=this.aVa=this.Bq=this.HH=this.SMa=this.Gn=this.gd=this.Ao=void 0;this.ehb=k;this.voa={};}m=a(24);f=a(38).assert;q=a(17).na;c.prototype.constructor=c;k.prototype.constructor=k;h.prototype.constructor=h;h.prototype.II=function(a,b){var c,f,d,l,h,u,g,E,n,p,R,M,D,U,r,Y,Q,qa,va,ga,ba;c=this.Dg;f=[];l=a[m.Sa.VIDEO];h=a[m.Sa.AUDIO];if(void 0 === l || void 0 === h)return !1;u=l.buffer;g=h.buffer;E=c.gd.filter(function(a){return a.t0();});if(void 0 === u || void 0 === g || void 0 === E || 0 === E.length)return !1;d=new k(0,l.$c,b === q.ff);n=0;p=0;R=0;M=0;U=c.T;a=a[m.Sa.VIDEO].$c;r=c.aa;D=c.dK;for(var la=0;la < D;la++){Y=r[la];Q=Y.offset;qa=Y.offset + Y.$ - 1;ga=Y.Kw;va=Y.Sx;ba=va + ga;Y && va <= a && ba > U && (ga=Y.Kw,va=Math.min(ga,Math.min(a,ba) - Math.max(va,U) + 1),M+=va,n+=va / ga * (qa - Q + 1),p+=Y.S * va,R+=Y.ib * va);}c.JVa=n;c.KVa=M;c.t3=0 < M?p / M:0;c.nIb=0 < M?R / M:0;c.jJ || (c.jJ=0,E.some(function(a,b){if(a.S === c.SQa)return (c.jJ=b,!0);}));E.forEach(function(a){var b,l;a=a.t0();b=[];c.Ru || (c.Ru=a.Yl(c.T,void 0,!0));d.zo || (d.zo=a.Yl(d.qa,void 0,!0),d.wx=a.length - 1);c.Ah !== c.Ru + c.dK && (c.Ah=c.Ru + c.dK);D=Math.min(d.wx,d.zo + 1);for(var q=c.Ru;q <= D;q++){l=a.get(q);b[q]=l;}f.push(b);});b === q.ff && (d.jp=u.Vk - u.$c,d.It=g.Vk - g.$c,d.a2a=l.rXa,d.PHa=h.rXa);this.Ao=d;this.gd=E;this.Gn=f;return this.SMa=!0;};h.prototype.Vw=function(){var a,b,c,d,q,h,m,k,g,E,n,p,M,D,U,r;if(this.Ro)return this.Ro;b=this.Bq;d=this.Dg;a=this.Ao;q=this.gd;h=this.aVa;p=this.ehb;f(void 0 !== b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace && 0 === b.trace.length || void 0 === b.timestamp)(a.sRa?(g=!1,m=!0):a.zo - d.Ru + 1 <= d.dK?m=g=!0:(g=!0,m=!1),k=!0);if(h){E=h.fA;n=h.t_;for(var R=0;R < p.length;R++){c=p[R];(b=h[c]) && b.VR && (m=!0);}}a={bst:d.$j,pst:d.$r,s:d.Ru,e:a.zo,prebuf:d.dK,brsi:d.Ah,pbdlbytes:d.JVa,pbdur:d.KVa,pbtwbr:d.t3,pbvmaf:d.nIb};this.Ou && (a.fragmentsPrebuffered=d.aa);k && (a.nt=k);m && (a.nd=m);E && (a.invalid=E);n && (a.exception=n);this.epa && (a.rr=this.epa);this.b4 && (a.ra=this.b4);if(!m && !E && !n && (this.ZKa || this.Ou)){a.bitrate=q.map(function(a){return a.S;});b=this.Bq;c=b.trace;M=[];D=0;c.forEach(function(a){a=Number(a).toFixed(0);M.push(a - D);D=a;});a.tput={ts:b.timestamp,trace:M,bkms:b.Fp};}if(m || k || E || n)a.feasible=g;else for((a.sols={},a.elapsed=h.h_,R=0);R < p.length;R++){c=p[R];b=h[c];m={};if(b && b.tl){m.algelapsed=b.dhb;m.maxHeapTotal=b.Sr;m.f=b && b.No || !1;m.dltwbr=b.sqb;m.dlvmaf=b.ALa;m.dlvdur=b.Hga;m.dlvbytes=b.Gga;m.dlabytes=b.Ega;if(this.ZKa || this.Ou){U=b.tl.filter(function(a){return a;}).map(function(a){return a.fd;});D=0;r=[];U.forEach(function(a){r.push(a - D);D=a;});m.strmsel=r;}if(this.Ou){k=[];g=this.Dg.Ah;for(var la in U){E=U[la];n=this.Gn[E][g];n.Rf=E;k.push(n);g++;}m.fragsel=k;m.streamList=this.gd;m.pause_dlnd_sec=b.tl.filter(function(a){return a;}).map(function(a){return a.boa;});m.buffer_sec=b.tl.filter(function(a){return a;}).map(function(a){return a.xea;});m.buffer_kb=b.tl.filter(function(a){return a;}).map(function(a){return a.wea;});m.buffer_frags=b.tl.filter(function(a){return a;}).map(function(a){return a.NIa;});m.elapsed_secs=b.tl.filter(function(a){return a;}).map(function(a){return a.VLa;});m.throughput=b.tl.filter(function(a){return a;}).map(function(a){return a.Ma;});}}a.sols[c]=m;}return this.Ro=a;};h.prototype.gtb=function(a){var f;if(void 0 !== this.voa[a])return this.voa[a];for(var b=this.Gn[this.Dg.jJ],c=0;c < b.length;c++){f=b[c];if(f && f.T <= a && f.T + f.duration > a)return this.voa[a]=f;}throw Error("findPlayingFragment: missing");};d.W=h;},function(d,b,a){var h;function c(a,b,c){this.$=a;this.un=b;this.OE=c;}function k(a,b){this.kma=b;void 0 === b && (this.kma=!0);this.Bj=a;this.Kab();}h=a(5).assert;c.prototype.constructor=c;c.prototype.Zw=function(){return 8 * this.$ / 1E3 / this.un;};k.prototype.constructor=k;k.prototype.jr=function(a,b,c,d,h){void 0 === b && (b=0);void 0 === c && (c=a.bJ());void 0 === d && (d=0);void 0 === h && (h=a.Bj.length);for(var f=[],l,q=d;q < h;q++){d=[];for(var m=b;m < c;m++){l=a.Bj[q][m];d.push(l);}f.push(d);}return new k(f,a.kma);};k.prototype.Kab=function(){var a,b;a=this.Bj[0].length;for(b in this.Bj.slice(1)){h(this.Bj[b].length === a,"expect this.chunkss[chunksIndex].length === n but got " + this.Bj[b].length + " and " + a);}this.kma && this.Lab();this.Mab();};k.prototype.bJ=function(){return this.Bj[0].length;};k.prototype.Lab=function(){for(var a=0;a < this.Bj.length - 1;a++){for(var b=0;b < this.bJ();b++){h(this.Bj[a][b].$ <= this.Bj[a + 1][b].$,"Chunk size for epoch " + b + " is not monotonic");}}};k.prototype.Mab=function(){for(var a=0;a < this.Bj.length - 1;a++){for(var b=0;b < this.bJ();b++){h(1E-8 > Math.abs(this.Bj[a][b].un - this.Bj[a + 1][b].un),"Chunk duration for epoch " + b + " is not consistent");}}};k.prototype.lyb=function(){var a;a=[];this.Bj[0].forEach(function(b){a.push(b.un);});return a;};d.W={r4a:c,s4a:k};},function(d,b,a){var m;function c(){}function k(a,b,c){void 0 === c && (c=!1);m(a.length === b.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < h(a),"bitrate zero, won't be able to send anything.");this.qz=a;this.QLa=b;this.repeat=c;this.Xk=this.Vm=0;}function h(a){return a.reduce(function(a,b){return a + b;},0);}m=a(5).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.jr=function(){var a;a=new k(this.qz,this.QLa,this.repeat);a.Vm=this.Vm;a.Xk=this.Xk;return a;};k.prototype.Gja=function(){return this.qz[this.Vm % this.qz.length];};k.prototype.Yz=function(){return this.QLa[this.Vm % this.qz.length];};k.prototype.Hqb=function(a){m(0 < a,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Vm && this.Vm < this.qz.length))throw new c();m(this.Xk < this.Yz(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.Yz() - this.Xk;b=a < b?a:b;a-=b;this.Xk+=b;if(this.Xk < this.Yz())break;this.Xk-=this.Yz();this.Vm+=1;if(!this.repeat && this.Vm >= this.qz.length){if(0 < a)throw new c();break;}}};k.prototype.HVa=function(a){this.Hqb(a);};k.prototype.Iqb=function(a){m(0 < a,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Vm && this.Vm < this.qz.length))throw new c();m(this.Xk < this.Yz(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,f=0;;){b=this.Yz() - this.Xk;b=a < b * this.Gja()?a / this.Gja():b;a-=this.Gja() * b;f+=b;this.Xk+=b;if(this.Xk < this.Yz())return f;this.Xk-=this.Yz();this.Vm+=1;if(!this.repeat && this.Vm >= this.qz.length){if(0 < a)throw new c();return f;}}};d.W={V$a:k,W$a:c};},function(d){var l,u,t,x,g,y;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(l === setTimeout)return setTimeout(a,0);if((l === b || !l) && setTimeout)return (l=setTimeout,setTimeout(a,0));try{return l(a,0);}catch(L){try{return l.call(null,a,0);}catch(I){return l.call(this,a,0);}}}function k(b){if(u === clearTimeout)clearTimeout(b);else if(u !== a && u || !clearTimeout)try{u(b);}catch(L){try{u.call(null,b);}catch(I){u.call(this,b);}}else (u=clearTimeout,clearTimeout(b));}function h(){x && g && (x=!1,g.length?t=g.concat(t):y=-1,t.length && m());}function m(){var a;if(!x){a=c(h);x=!0;for(var b=t.length;b;){g=t;for(t=[];++y < b;){g && g[y].VA();}y=-1;b=t.length;}g=null;x=!1;k(a);}}function f(a,b){this.$tb=a;this.oo=b;}function q(){}d=d.W={};try{l="function" === typeof setTimeout?setTimeout:b;}catch(B){l=b;}try{u="function" === typeof clearTimeout?clearTimeout:a;}catch(B){u=a;}t=[];x=!1;y=-1;d.f5b=function(a){var b;b=Array(arguments.length - 1);if(1 < arguments.length)for(var d=1;d < arguments.length;d++){b[d - 1]=arguments[d];}t.push(new f(a,b));1 !== t.length || x || c(m);};f.prototype.VA=function(){this.$tb.apply(null,this.oo);};d.title="browser";d.H1b=!0;d.W2b={};d.t1b=[];d.version="";d.U6b={};d.on=q;d.addListener=q;d.once=q;d.gK=q;d.removeListener=q;d.removeAllListeners=q;d.emit=q;d.FWa=q;d.QJb=q;d.listeners=function(){return [];};d.D1b=function(){throw Error("process.binding is not supported");};d.m2b=function(){return "/";};d.X1b=function(){throw Error("process.chdir is not supported");};d.K6b=function(){return 0;};},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,g,y,B,L,I;Object.defineProperty(b,"__esModule",{value:!0});b.K$a=b.r9=b.M$a=b.xCa=void 0;c=a(8);k=a(3);h=a(38).sJ;m=a(10).tx;f=a(417);q=a(400);l=a(227);u=a(17);t=a(37);x=a(5);g=a(108);y=a(249);d=(function(){function a(a,b,c,f,d,l,q,h,m,u,k){var t;t=this;this.G=a;this.Ef=b;this.H=c;this.mb=f;this.R=d;this.$K=l;this.qb=q;this.Ya=h;this.mf=m;this.WY=u;this.zC=k;this.hY=[];this.Qca=[];this.vFa=[];this.TDa=void 0;[0,1].forEach(function(a){t.mb(a) && (t.hY[a]=new I(t.G,a),t.Qca[a]=new B(a),t.vFa[a]=new L(a));});this.Q1a=new g.GW(this.G);this.ML=g.nD(this.H,this.Q1a);this.$da=g.mD();this.mC=void 0;}Object.defineProperties(a.prototype,{Te:{get:function(){return this.hY;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$x:{get:function(){return this.Qca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uu:{get:function(){return this.vFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kw:{get:function(){return this.TDa;},set:function(a){this.TDa=a;},enumerable:!1,configurable:!0}});a.prototype.yq=function(a,b){this.Q1a.yq(a,b);};a.prototype.jma=function(a){var b,f,d,l,q,h,m;l=this.H;q=a.I;h=k.$l()[q];m=null !== (d=null === (f=null === (b=k.QOa) || void 0 === b?void 0:b.call(k)) || void 0 === f?void 0:f[q]) && void 0 !== d?d:-1;f=l.RTb?0 === q?l.NO:l.XT:1 === q?l.NO:l.XT;d=this.R.cd();l=this.R.Ud();b=a.Ra.yc;q=this.WY.MSa(b,q);h={Ip:h,S5:m,T:q.dd,$c:l,Yb:q.sK || l,Vk:q.mP || l,xi:q.xi,yk:q.yk,Zha:q.aa.length,aa:[]};m={state:d,jA:this.R.jA(),rg:a.uk,buffer:h,Mga:f,zSa:! !this.$K.lR,QP:! !this.$K.qq,Bp:this.qb && this.qb.Bp,CS:a.zxb,playbackRate:this.R.Ym()};void 0 === m.rg && (m.rg=a.Fha(h.Yb));m.$O=b.$O;h.aa=q.aa;c.pa(h.T)?a.seeking && h.$c != h.T && (h.$c=h.T):(h.T=0,h.Yb=0);this.Ef.zkb(m);this.Ef.Mgb(m);return m;};a.prototype.ykb=function(a,b,c){var m,u;a=this.hY[a];for(var f=a.fm,d="manifest",l=0,q=b.length - 1;0 <= q;q--){m=b[q];u=m.S;if(h(m)){l=Math.max(l,u);break;}else this.H.m5 && !m.du?d="bc":m.lu?m.bA && (d="hf"):d="av";}if(void 0 === f || l !== f)(a.fm=l,this.Ya.bGb(f,l,d,c));};a.prototype.wxb=function(a){return this.uja(a).Rf;};a.prototype.uja=function(a){var b,f,d,l,h,m,k,g,z,B,I,L,E,n,p,da,r,Ba,ia;b=this.H;f=a.I;d=1 == f;l=0;m=this.hY[f];k=this.Qca[f];if(!m.Sg)return {Rf:void 0};g=this.jma(a);z=a.eg;B=z.ox;I=a.b2;L=I.O;E=a.track.gd;if(!L.el.GL(L.la,E))return (a.gf("location selector did not find any urls"),{Rf:void 0});n=y.E3(g.state);p=d?this.ML:this.$da;try{da=p.Zk(E,n);}catch(Ha){this.G.error("StreamFilters: filterStreams: " + Ha);da=[E[0]];}0 === da.length && (this.G.error("StreamFilters: empty list"),da=[E[0]]);if(this.zC.Sp && (a.Oz.length !== da.length || 0 < t.nz(a.Oz,da).length || 0 < t.nz(da,a.Oz).length)){try{this.mC && this.Vsb();}catch(Ha){this.Ya.jm("Hindsight: Error when handling maxbitrate chagned: " + Ha);}a.Oz=da;}n=B?B.Rf:m.Rha;try{if(B && (l=B.S,B && !B.track.equals(z.track))){r=q.Gha(da,l) || 0;h=da[r];if(B.S !== h.S || 1 === f)g.state=u.na.bh;B=h;n=E.indexOf(h);}}catch(Ha){this.G.error("StreamFilters: track change: " + Ha);}if(!d && (l=b.wL,!(l && 0 < l.length) && n && E[n] && B && B.location === E[n].location))return {Rf:n};a.Tu.Tna && (ia={fm:L.Rr[f],QH:I.ki(f)});try{if((Ba=a.Tu.I4(g,da,void 0,this.Ef.Ywb(f),m.Sg.config.Du,L.Do,ia),!Ba))return (a.gf("stream selector did not find a stream"),{Rf:void 0});}catch(Ha){this.G.error("StreamFilters: stream selector: " + Ha);Ba={fd:0};}Ba.fd=E.indexOf(da[Ba.fd]);this.$K.qq && this.$K.qq.Ogb(a.I,Ba,E);d && this.ykb(f,da,a.Yb);g=Ba.fd;B=E[g];I=B.S;g != n && (d && b.zI && this.mf.JDa(a,I),d || this.Ef.bL(I));c.pa(m.Rha) || (m.Rha=g);a.og || (Ba.og?(x.assert(void 0 !== Ba.XY),a.P4(Ba.XY),k.er=Ba.XY):(a.oA=Ba.oA,a.YE=Ba.YE,a.ri=Ba.ri));this.Gv();if(d)if(Ba.Gw)L.cL(Ba.Gw);else if(!L.T0() && !b.WZa)for(a=0;a < E.length;++a){if((b=E[a],b.Mr && !L.Hj(f,b.Ca))){L.cL([b.Ca]);break;}}Ba.kIa && this.Ya.iGb(Ba.kIa);return {Ca:B.Ca,Rf:g,Sna:Ba.Sna};};a.prototype.Gv=function(){var a,b,c,f,d,l;c=this.Te[0];f=this.Te[1];d=this.$x[1];l=this.$x[0];c=this.WY.bc.skb(null !== (a=null === f || void 0 === f?void 0:f.cs) && void 0 !== a?a:0,null !== (b=null === c || void 0 === c?void 0:c.cs) && void 0 !== b?b:0,this.kw,this.$K.JE);c.er && (this.$K.zl && d?d.er=c.er:l && (l.er=c.er));return c.og;};a.prototype.Dha=function(a,b){var c,f,d,q;c=this;if(this.mC){f=this.mC;d=this.R.Ud();q=[];b && (d=b.qa);l.We.forEach(function(b){var f,l;f=c.WY.bc.bd(b);if(f){l=c.jma(f);l.I=b;l.$c=d;a === u.na.ff && (l.rXa=f.Ra.Gda(d));q[b]=l;}});f.SMa || f.II(q,a) || this.Fpa();return f;}};a.prototype.Vsb=function(){var a,b;a=this.mC;b=this.H;a && (this.Dha(void 0),a && !a.HH && this.Ef.Voa.rha(a));this.AKa(b);};a.prototype.Fpa=function(){this.mC=void 0;};a.prototype.nTb=function(a){var b,c,f;b=a.oldValue;a=a.newValue;c=this.mC;f=this.H;a === u.na.Wc && b !== u.na.Wc?(c && this.G.warn("override an existing play segment!"),this.AKa(f,b,!0)):a !== u.na.Wc && b === u.na.Wc && c && (this.Dha(a),c && !c.HH && this.Ef.Voa.rha(c),this.Fpa());};a.prototype.AKa=function(a,b,c){var d,q,h;d=this;q=[];l.We.forEach(function(a){var b,f,l;b=d.WY.bc.bd(a);if(b){f=d.jma(b);if(c){l=d.Te[a];l.Vqa?(f.$j=l.Vqa,l.Vqa=void 0):f.$j=l.$j;}else f.$j=k.time.da();f.gd=b.Oz;f.I=a;q[a]=f;}});h=k.$l();h={o1b:h[0],X5:h[1],iTa:a.LJ,yx:a.yx};this.mC=new f(q,k.time.da(),b,this.zC.TP,a.Ou,h,a.a1);};return a;})();b.xCa=d;B=(function(){function a(a){this.I=a;this.bP=this.Vp=this.ex=this.er=this.aq=void 0;}a.prototype.uTb=function(a,b,c,f){this.aq=a?a:this.aq;this.er=this.er;this.ex=b?b:this.ex;this.Vp=c?c:this.Vp;this.Zzb=f?f:this.Zzb;};return a;})();b.M$a=B;L=(function(){return function(a){this.I=a;this.W1=this.Fla=this.W1=this.Cla=this.eE=void 0;};})();b.r9=L;I=(function(){return function(a,b){this.I=b;this.G=m(k,a,"[" + b + "]");this.gf=this.G.error.bind(this.G);this.kb=this.G.warn.bind(this.G);this.Xj=this.G.trace.bind(this.G);this.Jg=this.G.log.bind(this.G);this.TG=this.G.debug.bind(this.G);this.Rha=this.$j=this.Pm=this.Sg=void 0;this.nS=this.cs=0;this.PL=!1;this.fm=void 0;};})();b.K$a=I;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.UB=void 0;b.UB={Zk:function(a){return a;}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aaa=void 0;d=(function(){function a(a){this.kGa=a;}Object.defineProperties(a.prototype,{nJ:{get:function(){return this.Jcb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.kGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rYa:{get:function(){var a;a=this;return this.kGa.then(function(){return a;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Jcb=!0;};a.prototype.Hna=function(a,b){var c;c=this;this.result.then(function(d){c.nJ?b && b(d):a(d);});return this;};return a;})();b.Aaa=d;},function(d,b,a){var g,y,B,L,I,E,n,p,R,M,D,U,r;function c(){}function k(a,b){var f,d,l,h;f=g.oc(b)?b:c;this.H=a || ({});(function(a,b,c){this.Ni[a].Qd[b]=c;}).bind(this);(function(a,b){return this.Ni[a].Qd?this.Ni[a].Qd[b]:void 0;}).bind(this);this.on=this.addEventListener=U.addEventListener;this.removeEventListener=U.removeEventListener;this.emit=this.Pa=a.V2b?U.Pa:c;d=L.Qnb(a);l=this.H.dailyDiskCacheWriteLimit;if(d){this.st=d;h=u(a.Gma || r,L.rvb());this.Xv=function(a){return g.X(h) || null === h || void 0 === this.Ni[a]?!1:!g.X(h[a]);};h?(this.Ni={},b=y.Promise.all(Object.keys(h).map(function(b){return new y.Promise(function(c,f){var q;q=h[b];q.C1a=a.C1a;new I(b,d,q,function(a,b){a?f(a):c(b);},l);});})).then((function(a){a.map((function(a){var b;b=a.Xy;this.Ni[b]=a;h[b].Ptb=h[b].Ip - a.Wv;this.Ni[b].on(I.Zd.REPLACE,(function(a){a=a || ({});a.partition=b;a.type="save";this.Pa("mediacache",a);}).bind(this));this.Ni[b].on(I.Zd.CDa,(function(a){a=a || ({});a.partition=b;a.type="save";this.Pa("mediacache",a);}).bind(this));this.Ni[b].on(I.Zd.ERROR,(function(a){a=a || ({});a.partition=b;a.type=I.Zd.ERROR;this.Pa("mediacache-error",a);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(a){q(d,y.storage.oG,Object.keys(h));return a;}).bind(this)).then((function(a){Object.keys(a.Ni).map(function(b){a.Ni[b].Eia().map(function(c){a["delete"](b,c);});});a.dm=!0;f(null,a);}).bind(this))["catch"]((function(a){B.error("Failed to initialize media cache ",a);this.ZD=M.Nua;f(this.ZD,this);}).bind(this)),D.Gu(b)):(this.ZD=M.x7a,f(this.ZD,this));}else (this.ZD=M.Nua,f(this.ZD,this));}function h(a,b,c,f,d,l){var q;q=l?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:y.time.now()};l && (b.error=l);d && (g.pa(d.duration) && (b.duration=d.duration),g.pa(d.qw) && (b.bytesRead=d.qw));try{a.Pa(q,b);}catch(S){B.warn("caught exception while emitting basic event",S);}}function m(a,b,c,f,d){var l;l=d?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:y.time.now()};d && (b.error=d);try{a.Pa(l,b);}catch(ba){B.warn("caught exception while emitting basic event",ba);}}function f(a){return !E.pJ(a) && !p.RAb(a);}function q(a,b,f){a.query(b,"",function(d,l){d || Object.keys(l).filter(function(a){return 0 > f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(b,f,c);});});}function l(a,b,c){var d,l;function f(b){a["delete"](d,function(f){f?c(f):(delete a.Qd[l],f=Object.keys(b.resourceIndex),f=y.Promise.all(f.map(function(b){return new y.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),D.Gu(f));});}E.pJ(b)?(d=b,l=E.x_(b)):(d=E.Lfa(b),l=b);(b=a.Qd[l])?f(b):a.read(d,function(a,b){a?c(a):f(b);});}function u(a,b){var c,f,d;c={};f=a.partitions.reduce(function(a,b){return a + b.capacity;},0);d=b / f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Ip=Math.floor(d * a.capacity);c[b].Sob=a.dailyWriteFactor || 1;c[b].u5b=a.owner;c[b].esb=a.evictionPolicy;});return c;}function t(a,b,c){if(c)return p.nqb(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function x(a,b,c,f,d,l,q,h,m,u,k){return function(t,x){t?g.isArray(t)?(x=t.map(function(a){return a.error;}),x.some(function(a){return a.code === M.LF.code;}) && !x.some(function(a){return a.code === M.KW.code;})?k(u,t,function(){m.save(b,c,f,d,l,q);}):(u["delete"](h),delete u.Qd[c],l({error:t[0].error,Bu:t[0].Bu,type:t[0].type,rHa:t}))):l({error:t,Bu:b,type:"save"}):(t=x.items.filter(function(b){return 0 <= Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a + b.N1;},0),u.Qd[c].AZa(t),t={Ptb:x.jk,o2b:x.hI,Aj:0,items:x},0 < x.Aj && (t.Aj=x.Aj),0 < x.duration && (t.duration=x.duration),l(null,t));};}g=a(8);y=a(123);B=new y.Console("MEDIACACHE","media|asejs");L=a(959);I=a(960);E=a(425);n=a(124);p=a(967);R=a(968);M=a(253);D=a(254);U=a(125).EventEmitter;r={x5b:[]};k.prototype.PE=function(a,b,d){var l;l=g.oc(d)?d:c;this.Xv(a)?this.Ni[a].query(b,function(a,b){a?(B.error("Failed to query resources",a),l([])):l(b.filter(f));}):l([]);};k.prototype.read=function(a,b,f){var d,l,q,m;d=g.oc(f)?f:c;if(this.Xv(a)){l=this.Ni[a];q=l.Qd[b];if(!E.pJ(b) && this.H.rEb){m=(function(c){l.Z3(Object.keys(c),(function(c,f,l){c?d(M.xG.kp("Failed to read " + b,c)):(h(this,"read",a,b,l),d(null,p.nAb(f)));}).bind(this),c);}).bind(this);q?m(q.resourceIndex):this.QKb(a,b,function(a,c){a?d(M.xG.kp("Failed to read " + b,a)):m(c.resourceIndex);});}else l.read(b,(function(c,f,l){c?d(M.xG.kp("Failed to read " + b,c)):(q && q.convertToBinaryData && (f=R.Slb(f)),h(this,"read",a,b,l),d(null,f));}).bind(this));}else d(M.ry);};k.prototype.Z3=function(a,b,f){var d,l;d=g.oc(f)?f:c;if(this.Xv(a)){l={};b=y.Promise.all(b.map((function(b){return new y.Promise((function(c,f){this.read(a,b,function(a,d){a?(d={},d[b]=a,f(d)):(l[b]=d,c());});}).bind(this));}).bind(this))).then(function(){d(null,l);},function(a){d(a);});D.Gu(b);}else d(M.ry);};k.prototype.FYa=function(a,b,f){var d;d=g.oc(f)?f:c;this.Xv(a)?"[object Object]" !== Object.prototype.toString.call(b)?d(M.JW.kp("items must be a map of keys to objects")):(f=new y.Promise((function(c){var f,d;f=this.Ni[a].Eia();d=Object.keys(b);(f=f.filter(function(a){return -1 === d.indexOf(a);})) && 0 < f.length?this.nLa(a,f,function(){c();}):c();}).bind(this)).then((function(){return y.Promise.all(Object.keys(b).map((function(c){return new y.Promise((function(f,d){this.save(a,c,b[c].ep,b[c].Ld,function(a,b){a?(B.error("Received an error saving",c,a),d(a)):f(b);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(c){var f,l,q;try{f=Number.MAX_VALUE;l=Number.MAX_VALUE;q=c.reduce(function(a,b){b.jk && b.jk < f && (f=b.jk);b.hI && b.hI < l && (l=b.hI);f < Number.MAX_VALUE && (a.freeSize=f);l < Number.MAX_VALUE && (a.dailyBytesRemaining=l);g.pa(b.Aj) && (a.bytesWritten+=b.Aj);g.pa(b.duration) && (a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:y.time.now(),bytesWritten:0,duration:0});this.Pa("mediacache",q);d(null,q);}catch(Aa){d(err);}}).bind(this),(function(b){g.isArray(b.rHa)?b.rHa.forEach((function(b){this.Pa("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.KS});}).bind(this)):this.Pa("mediacache-error",{partition:a,type:"saveMultiple",error:b});d(b);}).bind(this)),D.Gu(f)):(g.oc(f)?f:c)(M.ry);};k.prototype.save=function(a,b,f,d,l,q){var u,k,z,I,L,p,da,D,W;u=g.oc(l)?l:c;if(this.Xv(a)){k=this.Ni[a];z=E.Lfa(b);l=k.Eia();l=l.filter(function(a){return a !== b;});if(g.X(d) || g.Xa(d) || !g.pa(d.lifespan))u(M.Y7a);else {I=t(b,f,this.H.rEb);L=k.Qd[b] || ({});p=L.resourceIndex;p && Object.keys(p).map(function(a){g.X(I[a]) && k["delete"](a);});d.convertToBinaryData && (f=R.Tlb(I),I=t(b,f,!1));p=y.time.now();da={};da.partition=a;da.resourceIndex=Object.keys(I).reduce(function(a,b){a[b]=n.Cja(I[b]);return a;},{});da.creationTime=L.creationTime || p;da.lastRefresh=p;da.lifespan=d.lifespan;da.lastMetadataUpdate=p;da.size=L.size;da.convertToBinaryData=d.convertToBinaryData;D=(function(a,c,f){a.Fpb((function(d,l){d && B.error("Evicting","Failed to delete some orphaned records",d);l.jpa?f():(d=a.Evb())?this["delete"](a.getName(),d,(function(d){d?(q || (g.isArray(c)?c.forEach((function(b){m(this,"save",a.getName,b.KS,b.error);}).bind(this)):h(this,"save",a.getName(),b,void 0,c)),u(c)):f();}).bind(this)):u(M.LF);}).bind(this));}).bind(this);W=(function(){var a,b,c;a=this.Ni;b=0;c=y.time.now();if(!g.X(a))for(var f in a){b+=a[f].Pub(c);}return b;}).bind(this);this.nLa(a,l,(function(){k.replace(z,da,(function(c,l){l?(k.Qd[b]=E.bia(da),k.fMb(I,x(I,a,b,f,d,u,q,z,this,k,D),q,W)):c.code === M.LF.code?D(k,c,(function(){this.save(a,b,f,d,u,q);}).bind(this)):u(c);}).bind(this),q,W);}).bind(this));}}else u(M.ry);};k.prototype["delete"]=function(a,b,f){var d;d=g.oc(f)?f:c;this.Xv(a)?l(this.Ni[a],b,(function(c){h(this,"delete",a,b,void 0,c);d(c);}).bind(this)):d(M.ry);};k.prototype.nLa=function(a,b,f){var d,q;d=g.oc(f)?f:c;if(this.Xv(a)){q=this.Ni[a];f=y.Promise.all(b.map((function(a){return new y.Promise((function(b){l(q,a,(function(c){b({ia:g.X(c),error:c,ep:a});}).bind(this));}).bind(this));}).bind(this))).then((function(b){var h,u;for(var c=[],f=[],l=[],q=0;q < b.length;q++){h=b[q];h.ia?c.push(h.ep):h.error && f.push(h);}0 < c.length && m(this,"delete",a,c);0 < f.length && (l=f.map(function(a){return a.ep;}),b=D.KPa(f),u=b[0],b.forEach((function(b){B.error("Failed to delete resources ",b.error,b.KS);m(this,"delete",a,b.KS,b.error);}).bind(this)));b={};b.S5b=c;0 < l.length && (b.T5b=l);u?d(u,b):d(void 0,b);}).bind(this),(function(c){m(this,"delete",a,b,c);d(c);}).bind(this));D.Gu(f);}else d(M.ry);};k.prototype.clear=function(a,b){var d;d=g.oc(b)?b:c;this.Xv(a)?this.Ni[a].clear(function(a){d(a.filter(f));}):d(M.ry);};k.prototype.QKb=function(a,b,f){var d,l;d=g.oc(f)?f:c;if(this.Xv(a)){f=E.Lfa(b);l=this.Ni[a];l.read(f,function(a,c){var f;if(a)d(M.Z7a);else {f=E.bia(c) || ({});l.VOa(Object.keys(f.Jpa),function(a){f.size=a;(a=l.Qd[b]) && (f.lastMetadataUpdate && a.lastMetadataUpdate && a.lastMetadataUpdate <= f.lastMetadataUpdate?l.Qd[b]=f:a.lastMetadataUpdate && (a.lastMetadataUpdate > f.lastMetadataUpdate || g.X(f.lastMetadataUpdate)) && (f=a));d(null,f);});}});}else d(M.ry);};k.prototype.constructor=k;d.W=k;},function(d,b,a){var m,f;function c(a,b,c,f,d,m){return new h(a,b,c,f,d,m);}function k(a){return a && 0 <= a.indexOf(".__metadata__");}function h(a,b,c,f,d,h){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=f;this.creationTime=d;this.lastRefresh=h;return this.w0a();}m=a(8);f=a(123);a(124);new f.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=f.time.now();return this.w0a();};h.prototype.AZa=function(a){this.size=a;};h.prototype.bKa=function(){var a;a=f.time.now();return (this.lastRefresh + 1E3 * this.lifespan - a) / 1E3;};h.prototype.w0a=function(){this.lastMetadataUpdate=f.time.now();return this;};h.prototype.constructor=h;d.W={create:c,bia:function(a){var b;b=a;"string" === typeof a && (b=JSON.parse(a));if(b && b.partition && !m.X(b.lifespan) && b.resourceIndex && b.creationTime && b.lastRefresh)return (a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate && (a.lastMetadataUpdate=b.lastMetadataUpdate),!m.X(b.size) && 0 <= b.size && a.AZa(b.size),a.bKa(),a.convertToBinaryData=b.convertToBinaryData,a);},Lfa:function(a){return a + ".__metadata__";},x_:function(a){return k(a)?a.slice(0,a.length - 13):a;},pJ:k};},function(d){d.W="4.1.1377";},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.uQ=void 0;c=a(972);k=a(3);b.uQ=function(){var a;if(!h){a=new k.Console("ASEJS","media|asejs");h=new c.Ssa(a);}return h;};},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.D$=void 0;c=a(0);k=a(16);h=a(10);m=a(5);f=a(17);d=(function(){function a(){this.oK=[];this.Wy=new h.wv(!1);this.events=new k.EventEmitter();}Object.defineProperties(a.prototype,{dy:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{playbackRate:{get:function(){return this.Ym();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lE:{get:function(){return this.Wy;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eJ:{get:function(){return this.dJ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zf:{get:function(){return this.QI();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xt:{get:function(){var a,b;a=this.Zf;b=this.Yr(a);m.assert(b,"Could not find current branch for " + a.ka);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vJ:{get:function(){return this.dJ?this.Lb[this.Lb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ej:{get:function(){var a,b;a=this.Zf;b=this.e0(a);m.assert(b,"Could not find presenting branch for " + a.ka);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dJ:{get:function(){return 0 < this.Lb.length;},enumerable:!1,configurable:!0}});a.prototype.PY=function(){return void 0 !== this.Fb?!1:!0;};a.prototype.Qb=function(){};a.prototype.O0=function(a){var b,c,f;b=this.Lb.filter(function(b){return b.ca.id === a.Ba;});if(0 !== b.length){c=this.QI();f=new h.U(Infinity,1);b.forEach(function(b){b=b.soa.add(a.offset);c.Bga(b).lessThan(c.Bga(f)) && (f=b);});return f;}};a.prototype.Yr=function(a){var b,c,f;b=this.e0(a);if(b){c=b.ca;f=c.id;a=a.Ia(c.ul.add(b.dr));return {Ba:f,offset:a};}};a.prototype.reset=function(){};a.prototype.JS=function(){};a.prototype.pause=function(a){void 0 === a && (a=f.We);this.oK=null === a || void 0 === a?void 0:a.reduce(function(a,b){-1 === a.indexOf(b) && a.push(b);return a;},this.oK);};a.prototype.resume=function(a){var b;b=this;void 0 === a && (a=f.We);a.forEach(function(a){a=b.oK.indexOf(a);-1 !== a && b.oK.splice(a,1);});};a.prototype.Kra=function(a){var b;m.assert(this.Fb);m.assert(a !== this);this.oL();b=a.PY(this.Fb,this);b && (a.pause(this.oK),a.iha.apply(a,c.__spread(this.Lb)),this.vga(this.Fb));return b;};a.prototype.QI=function(){return this.xOa();};a.prototype.xOa=function(){var a,b;m.assert(this.dJ,"Attempted to get initial time before any branches were queued");b=c.__read(this.Lb,1)[0];m.assert(b);return null !== (a=b.ll) && void 0 !== a?a:b.Jka;};a.prototype.Ym=function(){return 1;};a.prototype.e0=function(a){var b;if(this.dJ){b=this.xOa();return a.lessThan(b)?this.Lb[0]:h.ZMa(this.Lb,a);}};return a;})();b.D$=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.In=void 0;d=b.In || (b.In={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";d[d.Qn=2]="STREAMING";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.iaa=void 0;d=a(16);c=a(39);k=a(21);a=(function(){function a(a){void 0 === a && (a={$m:!1,currentTime:k.U.sb,speed:1});this.mc={$m:function(){return "function" === typeof a.$m?a.$m():a.$m;},currentTime:function(){return "function" === typeof a.currentTime?a.currentTime():a.currentTime;},speed:function(){return "function" === typeof a.speed?a.speed():a.speed;}};}Object.defineProperties(a.prototype,{$m:{get:function(){return this.mc.$m();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.mc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){return this.mc.speed();},enumerable:!1,configurable:!0}});return a;})();b.iaa=a;c.Ue(d.EventEmitter,a);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.pRa=b.oPa=b.dLa=void 0;k=a(0);b.dLa=(c={},c[1]=0,c[0]=0,c.total=0,c);b.oPa=function(a){return a.reduce(function(a,b){var c,f,m;try{for(var d=k.__values(b.UI()),h=d.next();!h.done;h=d.next()){m=h.value;a[m.I]+=m.cw;a.total+=m.cw;}}catch(z){c={error:z};}finally{try{h && !h.done && (f=d["return"]) && f.call(d);}finally{if(c)throw c.error;}}return a;},k.__assign({},b.dLa));};b.pRa=function(a){var c;c=a.ZC;return b.oPa(a.Lb).total >= c.OQ;};},function(d,b){function a(a,b){var c;c={};Object.keys(b).forEach(function(d){var f;f=b[d];c[d]={la:a.viewableId,oe:f.startTimeMs,Ie:f.endTimeMs || Infinity,Ui:f.defaultNext || null,Ae:f.transitionHint,D5:f.transitionDelayZones,next:f.next};});return c;}Object.defineProperty(b,"__esModule",{value:!0});b.ysb=b.Rqa=b.$ea=void 0;b.$ea=function(b){return {vg:b.initialSegment,Ae:b.transitionType,Ua:a(b,b.segments)};};b.Rqa=function(a,b){var c;return {vg:b,Ae:"lazy",Ua:(c={},c[b]={la:a,oe:0,Ie:Infinity,Ui:null,next:{}},c)};};b.ysb=function(a,b){var c,u,k;a=Math.max(a.duration - 3E4,3E4);for(var d={},f,q=0,l=0;l < a;l+=3E4){u="s" + q++;k={la:b,oe:l,Ie:l + 3E4 < a?l + 3E4:null};void 0 !== f && (f.next=(c={},c[u]={weight:1},c),f.Ui=u);f=d[u]=k;}return {vg:"s0",Ua:d,Ae:"lazy"};};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.DVa=void 0;c=a(257);k=a(258);b.DVa=function(a,b,f,d){return new Promise(function(l,q){k.Csa(a,function(a){a.ia?c.uVa(a.object,b,f,d,function(a){a.ia?l(a.entries):q(a);}):q(a);});});};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.o2a=void 0;c=a(7);k=a(15);b.o2a=function(a){var b,f;if(k.kx(a)){b=new DOMParser().parseFromString(a,"text/xml");f=b.getElementsByTagName("parsererror");if(f && f[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(q){}throw Error("xml parser error");}return b;}throw Error("bad xml text");};},function(d,b,a){var k;function c(a){var d,f,q,l,h,t,x;q={};q[k.SL]=a.localName;l={};q[k.mj]=l;h=[];q[k.RL]=h;t=a.attributes;d=t.length;for(f=0;f < d;f++){x=t[f];l[x.localName]=x.value;}a=a.childNodes;d=a.length;l={};for(f=0;f < d;f++){switch((t=a[f],t.nodeType)){case b.s2a:t=c(t);x=t[k.SL];t[k.h6]=q;h.push(t);q[x]?l[x][k.nB]=t:q[x]=t;l[x]=t;break;case b.t2a:case b.q2a:(t=t.text || t.nodeValue,h.push(t),q[k.Gq] || (q[k.Gq]=t));}}return q;}Object.defineProperty(b,"__esModule",{value:!0});b.r2a=b.q2a=b.t2a=b.gVb=b.s2a=b.hVb=b.p2a=void 0;k=a(145);b.p2a=function(a){return c(a.nodeType == b.r2a?a.documentElement:a);};b.hVb=c;b.s2a=1;b.gVb=2;b.t2a=3;b.q2a=4;b.r2a=9;},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.p4a=b.fua=void 0;c=a(11);k=a(22);h=a(15);m=a(76);b.fua=function(a,b,c,d,m,x,g,y,B,L){var f,l;f=this;l={Type:b,Bitrate:d,DownloadableId:c};k.Eb(f,{track:a,type:b,Bd:c,S:d,ib:m,Yf:y,size:x,Jw:g,Yp:null,gPb:function(a,b,c,d){if(h.ic(a) || h.ic(b))(f.width=a,f.height=b,h.pa(c) && h.pa(d) && (f.yda=c / d * a),l.Resolution=(f.width || "") + ":" + (f.height || ""));},xOb:function(a,b,c,d,l,q){h.ic(a) && h.ic(b) && h.ic(c) && h.ic(d) && (f.Ufa=a,f.BZ=b,f.AZ=c,f.zZ=d);h.ic(l) && h.ic(q) && (f.XVa=l,f.YVa=q);},W_:B,mu:L,sh:l,toJSON:function(){return l;}});};b.p4a=function(a,b,d,h,k){if(a == c.zV || a === m.Zg.audio)return b;if(a == c.hG || a === m.Zg.video)return d;if(a == m.Zg.w5)return h;if(a == m.Zg.Pra)return k;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.FV=void 0;b.FV="MslReadyNotifierSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j7=void 0;b.j7="DeviceIdGeneratorSymbol";},function(d,b){function a(b,d,h){if(null != h){if(0 < h(b,d))throw a.DKa(b,d);}else if(b.Cj && 0 < b.Cj(d))throw a.DKa(b,d);this.start=b;this.end=d;}Object.defineProperty(b,"__esModule",{value:!0});b.X$=void 0;a.DKa=function(a,b){return new RangeError("end [" + b + "] must be >= start [" + a + "]");};b.X$=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.k7=void 0;b.k7="DeviceProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U6=void 0;b.U6="CryptoDeviceIdSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.V6=void 0;b.V6="CryptoKeysSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U9=void 0;b.U9="PboBindDeviceCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U8=void 0;b.U8="LogblobSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q9=void 0;b.q9="MessageQueueSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ee=void 0;d=b.Ee || (b.Ee={});d.Sib="bitraterestriction";d.lJa="cdnsel";d.Xea="chgstrm";d.debug="debug";d.qqb="dlreport";d.gha="endplay";d.Oka="intrplay";d.B2="midplay";d.gWa="playbackaborted";d.cMb="renderstrmswitch";d.wpa="repos";d.Mpa="resumeplay";d.lOb="serversel";d.g5="startplay";d.sQb="statechanged";d.transition="transition";d.Hhb="asereport";d.Ghb="aseexception";d.mib="audioswitch";d.Tib="blockedautoplay";d.config="config";d.B2b="destiny_prepare";d.C2b="destiny_start";d.z2b="destiny_events";d.y2b="destiny_cachestate";d.A2b="destiny_playback";d.$Z="dlreq";d.Qx="prepare";d.o3b="ftlProbeError";d.CNb="securestop";d.bRb="subtitleerror";d.cRb="subtitleqoe";d.TRb="timedtextrebuffer";d.URb="timedtextswitch";d.cQb="speedchanged";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d$=void 0;b.d$="PboLogblobCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kaa=void 0;b.Kaa="UuidProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m6=void 0;b.m6="AppLogSinkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T8=void 0;b.T8="LogblobBuilderFactorySymbol";},function(d,b,a){var k,h,m,f,q,l,u,t,x,g,y,B,L,I,E,n,p,R,M,D,U,r,la,Y;function c(a,b,c,f,d,u,k,z,M,D,da,W,ka,la,F,N,fb,lb,$a,Z,P){var Q;Q=this;this.j=a;this.wn=b;this.d0a=f;this.jZ=d;this.rh=u;this.Jma=k;this.xha=z;this.Nc=M;this.b_=D;this.cf=da;this.config=W;this.pc=ka;this.wa=la;this.xa=F;this.platform=N;this.nn=fb;this.hE=lb;this.pi=$a;this.Wp=Z;this.C2=P;this.GT=[];this.QEb=this.v1=this.YXa=0;this.uI=[];this.sda=!1;this.px=function(a,b){return function(c){var f;f=b(c);if("number" !== typeof f)throw Error("Event " + JSON.stringify(c) + " does not have movie Id");f === Q.u && a(c);};};this.iq=this.px(function(a){Q.f_a(a.aE);},function(a){return a.u;});this.IJ=this.px(function(){Q.flb();},function(a){return a.u;});this.b_a=function(a){Q.Uc(U.Ee.cQb,!1,Y.$h | Y.Ug,{speedold:Math.floor(1E3 * a.oldValue),speed:Math.floor(1E3 * a.newValue)});};this.zL=function(){Q.Uc(U.Ee.TRb,!1,Y.$h | Y.Ug,{track:Q.j.Jc.value.sh});};this.m0a=function(a){a.newValue && Q.lm && (a={track:a.newValue.sh},Q.XD(a,Q.j.wf.value && Q.j.wf.value.stream,Q.j.zg.value && Q.j.zg.value.stream),Q.Uc(U.Ee.URb,!1,Y.$h | Y.Ug,a));};this.so=function(a){Q.Uc(U.Ee.Sib,!1,Y.$h | Y.Ug,a.newValue);};this.zLa=function(){var a,b,c;if(Q.j.ck)try{a=!1;Q.ea % Q.config().IP && !Q.j.QP && (a=!0,Q.uI=Q.uI.filter(function(a){return !a.ia;}));if(0 < Q.uI.length){b=Q.b_.construct(Q.uI,Q.j.zk.ba(x.fa));Q.uI=[];b.erroronly=a;c={};t.Jd(b,function(a,b){c[a]=JSON.stringify(b);});Q.Uc(U.Ee.qqb,!1,Y.Ug,c);}}catch(gf){Q.log.error("Exception in dlreport.",gf);}};this.yQ=function(){var a;a=Q.j.Xb.value;return a === R.tb.Wc?"playing":a === R.tb.rj?"paused":a === R.tb.Os?"ended":"waiting";};this.B2=function(){var a,b;if(Q.j.state.value == R.yb.yd){b=Q.dWa();Q.config().upa && (b.avtp=Q.gB.Zm().rF,Q.j.Gk && Q.l1(b));b.mediabuffered=null === (a=Q.j.Qh) || void 0 === a?void 0:a.g0();b.midplayseq=Q.QEb++;b.prstate=Q.yQ();b.paustate=Q.j.paused.value;Q.config().ZNb && Q.D_a("midplay");Q.config().ds && Q.Cka(b);Q.yka(b);Q.Aka(b);Q.Bka(b);Q.Uc(U.Ee.B2,!1,Y.$h | Y.Ug | Y.ny | Y.$M,b);}};this.zDa=/-?l(\d\d)/i;this.HLa=this.px(function(a){Q.uI.push(Q.b_.Ulb(a.response));},function(a){return a.u;});this.$Z=this.px(function(a){var b,c,f,d,l,h;a=a.response;b=a.request;c=a.request.mq;f=b.track;if(f){d=!a.ia && a.ja != g.K.py;l=f.type;h=a.gl;if(d || Q.wn.h2){c={dltype:l,url1:b.url,url2:a.url || "",cdnid:b.zc && b.zc.id,tresp:t.ik(h.xh - h.requestTime),brecv:t.oNa(h.Dfa),trecv:t.ik(h.sn - h.xh),sbr:c && c.S};a.ks && (c.range=a.ks);switch(l){case q.Zg.audio:c.adlid=b.stream.Bd;break;case q.Zg.video:c.vdlid=b.stream.Bd;break;case q.Zg.w5:c.ttdlid=f.Bd;}(b=r.aja(a.ja)) && (c.nwerr=b);a.Vi && (c.httperr=a.Vi);Q.Uc(U.Ee.$Z,d,Y.Ug,c);}}},function(a){return a.u;});this.Sk=function(){Q.Uc(U.Ee.Tib,!1,Y.$h | Y.ny,{browserua:n.Dm});};this.PJa=this.px(function(a){var b,c,f;a=a.response;b=a.gl;c=x.Jb(b.xh);f=x.Jb(b.sn);b=B.$(b.Dfa || 0);b.DRa() || b.lRa() || (c=new L.X$(c,f),Q.gB.zY(new I.LU(c,b)),a && a.request && a.request.mq && a.request.mq.Tb && Q.jZ.zY(new E.lua(c,b,a.request.mq.Tb)));},function(a){return a.u;});this.IVa=function(a){var b;b=a.newValue;a.Cw && a.Cw.pna && b || b == Q.vla || (Q.qQb(Q.vla,b),Q.vla=b);};this.ow=function(a){function b(a){var b;if(Q.j.Gb && Q.j.Gb.sourceBuffers){b=Q.j.Gb.sourceBuffers.filter(function(b){return b.type === a;}).pop();if(b)return {busy:b.Ph(),updating:b.updating(),ranges:b.h0()};}}Q.Vx="rebuffer";a={cause:a.cause};a.cause && a.cause === m.r$ && (a.mediaTime=Q.j.fb.value,a.buf_audio=b(h.zV),a.buf_video=b(h.hG));Q.Oka(Q.GT[R.tb.Wc] || 0,Q.GT[R.tb.rj] || 0,a);Q.HF=Q.getTime();p.uc(Q.iP);};this.z0a=function(a){var b;a=a.oldValue;b=Q.getTime();a === R.tb.kg?Q.GT=[]:Q.GT[a]=(Q.GT[a] || 0) + (b - Q.$Bb);Q.$Bb=b;};this.rl=function(a){a.skip && (Q.sl=!0);switch(a.cause){case R.rd.yv:case R.rd.yG:Q.Vx && Q.HF && Q.TIb(Q.getTime() - Q.HF,Q.Vx);Q.Vx="repos";Q.wpa(a.Ena,a.zg,a.wf);Q.HF=Q.getTime();p.uc(Q.iP);break;case R.rd.TU:(Q.Vx="force_rebuffer",Q.HF=Q.getTime(),p.uc(Q.iP));}};this.iP=function(){var a;if(Q.HF && Q.j.Xb.value !== R.tb.kg){a=Q.getTime() - Q.HF;Q.Mpa(a,Q.sl);Q.qla && Q.qla != Q.j.Ad.value && Q.iib();Q.HF=void 0;Q.Vx=void 0;Q.sl=void 0;}};this.Uea=this.px(function(){Q.j.Xb.value === R.tb.Wc && (Q.j.Xb.removeListener(Q.Uea),Q.Yo());},function(){return Q.j.u;});this.QO=function(a){Q.TBb=Q.getTime();Q.qla=a.oldValue;};this.Yo=function(){Q.lm || (Q.lm=!0,Q.g5(!1),Q.Wzb(),Q.config().NQa && (Q.p1=O.setTimeout(function(){Q.rh.flush(!1)["catch"](function(){return Q.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});Q.p1=void 0;},Q.config().NQa)));};this.Kf=function(){Q.p1 && (O.clearTimeout(Q.p1),Q.p1=void 0);if(Q.config().IP || Q.config().LO)(Q.Jga && (O.clearInterval(Q.Jga),Q.Jga=void 0),Q.zLa());Q.a1a && Q.a1a();Q.lm?Q.gha(! !Q.j.Ej):Q.j.Ej?Q.g5(!0):Q.wn.background || Q.UIb();Q.yNb || (Q.Uc=h.$g);};this.KJa=this.px(function(){Q.Kf();},function(a){return a.movieId;});this.V1a=function(a){a.oldValue && a.Cw && a.Cw.xJa && Q.Xea(a.oldValue,a.newValue,a.Cw.xJa,a.Cw.zib);};this.GWa=function(a){var b;if(a.newValue){b=a.newValue.stream;Q.xla != b && (Q.xla && Q.bMb(Q.xla,b,a.newValue.Kp.startTime),Q.xla=b);}};this.ou=this.px(function(a){function b(a,b){var c;if(!a || a.Tla !== b.location){c={Tla:b.location,qSa:b.locationlv,jOb:b.serverid,$E:b.servername};Q.ikb(a,b);return c;}}if("audio" === a.mediatype){if(a=b(Q.SBb,a))Q.SBb=a;}else if(a=b(Q.$Q,a))Q.$Q=a;},function(a){return Q.j.Ww(a.segmentId).u;});this.ZK=this.px(function(a){var b,c;b=a.mediatype;c=a.reason;"video" === b?"serverswitchaway" === c?(Q.ti.summary.b2a++,Q.ti.X1=Q.wa.ve.ba(x.fa)):"serverswitchback" === c && (Q.ti.summary.c2a++,Q.ti.X1 && (Q.ti.summary.d2a.push(Q.wa.ve.ba(x.fa) - Q.ti.X1),Q.ti.X1=void 0)):"audio" === b && ("serverswitchaway" === c?(Q.ti.summary.VHa++,Q.ti.R1=Q.wa.ve.ba(x.fa)):"serverswitchback" === c && (Q.ti.summary.WHa++,Q.ti.R1 && (Q.ti.summary.XHa.push(Q.wa.ve.ba(x.fa) - Q.ti.R1),Q.ti.R1=void 0)));Q.Uc(U.Ee.lOb,!1,Y.$h | Y.Ug,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return Q.j.Ww(a.segmentId).u;});this.LH=function(a){Q.Uc(U.Ee.Hhb,!1,Y.Ug,{strmsel:a.strmsel});};this.KH=function(a){Q.Uc(U.Ee.Ghb,!1,Y.Ug,{msg:a.msg});};this.sL=function(a){a=y.dL(a);a.details && (a.details=JSON.stringify(a.details));Q.Uc(U.Ee.bRb,!0,Y.$h | Y.qG | Y.vU,a);};this.sda=$a.P5 || $a.Q5;this.gB=f();this.log=l.Pg(a,"LogblobBuilder");this.vla=a.paused.value;this.u=b.u;this.ea=this.wn.ea;this.ti={summary:{b2a:0,c2a:0,d2a:[],VHa:0,WHa:0,XHa:[]},X1:void 0,R1:void 0};this.Ib();c && this.f_a();}Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;k=a(56);h=a(11);m=a(58);f=a(48);q=a(76);l=a(7);u=a(18);t=a(22);x=a(4);g=a(2);y=a(27);B=a(46);L=a(439);I=a(452);E=a(1040);n=a(9);p=a(55);R=a(14);M=a(15);D=a(1041);U=a(446);r=a(180);la=a(94);c.prototype.Ib=function(){this.j.addEventListener(R.V.iq,this.iq);this.j.addEventListener(R.V.IJ,this.IJ);this.j.addEventListener(R.V.ou,this.ou);this.j.addEventListener(R.V.ZK,this.ZK);this.j.addEventListener(R.V.Kf,this.KJa);this.j.addEventListener(R.V.Hz,this.$Z,h.SV);if(this.config().IP || this.config().LO)(this.j.addEventListener(R.V.Hz,this.HLa),this.Jga=O.setInterval(this.zLa,this.config().Eqb));this.config().upa && this.j.addEventListener(R.V.Hz,this.PJa);};c.prototype.f_a=function(a){this.RTa || (this.j.Xb.value !== R.tb.Wc || (void 0 === a?0:a)?this.j.Xb.addListener(this.Uea):this.Yo(),this.j.Yj.addListener(this.m0a),this.j.Ad.addListener(this.QO),this.j.paused.addListener(this.IVa),this.j.wf.addListener(this.GWa),this.j.Xb.addListener(this.iP),this.j.Xb.addListener(this.z0a),this.j.Bf.addListener(this.V1a),this.j.playbackRate.addListener(this.b_a),this.j.addEventListener(R.V.Sk,this.Sk),this.j.addEventListener(R.V.KH,this.KH),this.j.addEventListener(R.V.LH,this.LH),this.j.addEventListener(R.V.sL,this.sL),this.j.addEventListener(R.V.ow,this.ow),this.j.addEventListener(R.V.rl,this.rl),this.j.addEventListener(R.V.zL,this.zL),this.wn.so && this.wn.so.addListener(this.so),this.config().Nj && (this.yNb=!0),this.RTa=!0);};c.prototype.flb=function(){this.Kf();this.RTa && (this.j.removeEventListener(R.V.iq,this.iq),this.j.removeEventListener(R.V.IJ,this.IJ),this.j.removeEventListener(R.V.ou,this.ou),this.j.removeEventListener(R.V.ZK,this.ZK),this.j.Yj.removeListener(this.m0a),this.j.Ad.removeListener(this.QO),this.j.paused.removeListener(this.IVa),this.j.wf.removeListener(this.GWa),this.j.Xb.removeListener(this.iP),this.j.Xb.removeListener(this.Uea),this.j.Xb.removeListener(this.z0a),this.j.Bf.removeListener(this.V1a),this.j.playbackRate.removeListener(this.b_a),this.j.removeEventListener(R.V.Hz,this.$Z),this.j.removeEventListener(R.V.Kf,this.KJa),this.j.removeEventListener(R.V.Sk,this.Sk),this.j.removeEventListener(R.V.KH,this.KH),this.j.removeEventListener(R.V.LH,this.LH),this.j.removeEventListener(R.V.sL,this.sL),this.j.removeEventListener(R.V.ow,this.ow),this.j.removeEventListener(R.V.rl,this.rl),this.j.removeEventListener(R.V.zL,this.zL),this.wn.so && this.wn.so.removeListener(this.so),this.j.removeEventListener(R.V.Hz,this.HLa),this.j.removeEventListener(R.V.Hz,this.PJa));};c.prototype.g5=function(a){var b,c,d,l,q,h,m,u,k,g,z,y,B,I,L,E,p,da,W,r,Q,ka,F,N,P,V,X;b={};try{b={browserua:n.Dm,browserhref:location.href,playdelaysdk:t.ik(this.j.Iea()),applicationPlaydelay:t.ik(this.j.Fjb()),playdelay:t.ik(this.j.Mjb()),trackid:this.j.yi,bookmark:t.ik(this.j.YC || 0),pbnum:this.j.index,endianness:f.mOa()};this.config().Hrb && (b.transitiontime=this.j.yl,b.uiplaystarttime=this.j.Ta.H5,b.playbackrequestedat=this.j.zk.ba(x.fa),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.wa.ve.ba(x.fa),b.clockgetpreciseappepoch=this.xa.fE.ba(x.fa),b.absolutestarttime=this.j.c0(),b.relativetime=this.j.jja());this.b0(b,"startplay");}catch(pb){this.log.error("error in startplay log fields",pb);}this.j.Sk && (b.blocked=this.j.Sk);b.configversion=this.config().version;this.config().endpoint || (b.configendpoint="error");this.j.yg && (b.playbackcontextid=this.j.yg);this.BQa(b);if(this.config().c6 && this.j.Ta.e2a){d={};Object.entries(this.j.Ta.e2a).reverse().forEach(function(a){var b;b=T(a);a=b.next().value;b=b.next().value;d[a.toLowerCase()]=b;});b.vui=d;}M.pa(this.j.FIa) && (b.bookmarkact=t.ik(this.j.FIa));l=this.j.Ed.at && this.j.Ed.ats?this.j.Ed.at - this.j.Ed.ats:void 0;l && (b.nccpat=l);(l=this.j.Ed.lr && this.j.Ed.lc?this.j.Ed.lr - this.j.Ed.lc:void 0) && (b.nccplt=l);(l=this.Kqb()) && (b.downloadables=l);O._cad_global.device && M.ic(O._cad_global.device.qha) && (b.esnSource=O._cad_global.device.qha);t.Eb(b,this.nn,{prefix:"pi_"});(l=n.bi && n.bi.connection && n.bi.connection.type) && (b.nettype=l);this.j.Hp && this.j.Hp.initBitrate && (b.initvbitrate=this.j.Hp.initBitrate);this.j.Hp && this.j.Hp.selector && (b.selector=this.j.Hp.selector);b.fullDlreports=this.j.fMa;if(this.j.state.value >= R.yb.yd)try{q=this.j.kr();q && (this.fm=f.o6(q.map(function(a){return a.S;})),this.mTa=f.o6(q.map(function(a){return a.height;})),c=0 < q.length?D.$Sa(q,function(a){return a.S;}):void 0,b.maxbitrate=this.fm,b.maxresheight=this.mTa);}catch(pb){this.log.error("Exception computing max bitrate",pb);}try{h=f.xQ();h && (b.pdltime=h);}catch(pb){}try{t.Eb(b,this.j.Ed,{prefix:"sm_"});t.Eb(b,this.j.I0(),{prefix:"vd_"});}catch(pb){}"undefined" !== typeof nrdp && nrdp.device && (b.firmware_version=nrdp.device.firmwareVersion);a && this.j.js && (b.pssh=this.j.js);if(this.config().ds)try{q={};m=this.pc.getStats(void 0,void 0,this.j.u);u=this.j.c0();k=m.qF.slb || [];q.attempts=m.K3 || 0;q.num_completed_tasks=k.length;g=this.Nc.Ssb;h={};z=la.Cf.uL;y=la.Cf.Up;B=la.Cf.Mea;I=la.Cf.hZ;L=la.Cf.Lea;m.Fj && (h.scheduled=m.Fj - u);E=this.j.ta;E && M.pa(E.SA) && (h.preauthsent=E.SA - this.j.rf,h.preauthreceived=E.VE - this.j.rf);p=k.filter(function(a){return "manifest" === a.type;});q.mf_succ=p.filter(g("status",z)).length;q.mf_fail=p.filter(g("status",y)).length;da=this.j.Ed;M.ic(da.lg) && 0 > da.lg && this.j.rf && (h.ldlsent=da.lc,h.ldlreceived=da.lr);W=k.filter(function(a){return "ldl" === a.type;});q.ldl_succ=W.filter(g("status",z)).length;q.ldl_fail=W.filter(g("status",y)).length;m=!0;u=[];r="ui" === this.j.tw;h.preauthreceived && 0 > h.preauthreceived || r || (m=!1,u.push("Missing cached manifest"));this.config().AI || (m=!1,u.push("LDL prefetch disabled"));Q=W.filter(g("status",B)).length;ka=W.filter(g("status",I)).length;F=W.filter(g("status",L)).length;this.config().AI && 0 === Q + ka + F && (!h.ldlreceived || 0 <= h.ldlreceived) && (m=!1,u.push("LDL received after start"));if(this.config().SP){N=this.j.Lo && this.j.Lo.stats;if(N){if((N.L_ && (h.headersent=N.L_ - this.j.rf),N.Z1 && (h.headerreceived=N.Z1 - this.j.rf),N.uK && (h.prebuffstarted=N.uK - this.j.rf),N.H3 && (h.prebuffcomplete=N.H3 - this.j.rf),!h.prebuffcomplete || 0 <= h.prebuffcomplete))(m=!1,u.push("Missing cached media"));}else (m=!1,u.push("aseStats not initialized"));}P=k.filter(function(a){return "getHeaders" === a.type;});q.header_succ=P.filter(g("status",z)).length;q.header_fail=P.filter(g("status",y)).length;V=k.filter(function(a){return "getMedia" === a.type;});q.media_succ=V.filter(g("status",z)).length;q.media_fail=V.filter(g("status",y)).length;q.hm_succ=q.header_succ + q.media_succ;q.hm_fail=q.header_fail + q.media_fail;t.Eb(b,q,{prefix:"pr_"});this.Wp.UP && (b.eventlist=this.C2.XOa(this.j));(b.prefetchCompleted=m) || (b.prefetchFailed=u,t.Eb(b,h,{prefix:"pe_"}));this.Cka(b);}catch(pb){this.log.warn("error in collecting video prepare data",pb);}b.avtp=this.gB.Zm().rF;this.j.Gk && this.l1(b);if(this.j.Jc.value)try{b.ttTrackFields=this.j.Jc.value.sh;}catch(pb){}if(k=this.j.Ad && this.j.Ad.value && this.j.Ad.value.wc){X={};k.forEach(function(a){X[a.Yf]=void 0;});b.audioProfiles=Object.keys(X);}this.Dka(b);this.j.ta && "boolean" === typeof this.j.ta.Tc.bE && (b.isSupplemental=this.j.ta.Tc.bE);b.headerCacheHit=! !this.j.Lo;this.j.Lo && (b.headerCacheDataAudio=this.j.Lo.audio,b.headerCacheDataAudioFromMediaCache=this.j.Lo.audioFromMediaCache,b.headerCacheDataVideo=this.j.Lo.video,b.headerCacheDataVideoFromMediaCache=this.j.Lo.videoFromMediaCache);this.j.ta && (b.packageId=this.j.ta.Tc.Wo);this.j.ta && this.j.ta.Tc.gr && (b.hasChoiceMap=!0);this.config().lNa && (b.forceL3WidevineCdm=!0);this.PBb(c);this.OBb();this.zQa(this.j,b);this.AQa(this.j,b);this.YD(this.j,b);this.eA(this.j,b,this.sda);this.yka(b);this.Aka(b);this.Bka(b);this.EQa(b);this.yQa(b);this.FQa(b);this.zka(b);this.Uc(U.Ee.g5,a,Y.$h | Y.qG | Y.Ug | Y.$M | Y.ny | Y.vU | Y.N7,b);};c.prototype.Mpa=function(a,b){b={playdelay:t.ik(a),reason:this.Vx,intrplayseq:this.v1 - 1,skipped:b};"repos" === this.Vx && (b.prstate=!0 === this.j.paused.value?"paused":"playing");this.YD(this.j,b);this.Uc(U.Ee.Mpa,!1,Y.$h | Y.qG | Y.Ug,b);"rebuffer" !== this.Vx && "force_rebuffer" !== this.Vx || this.j.pn.zgb(Number(t.ik(a)));};c.prototype.Xea=function(a,b,c,f){a={moff:t.Pw(c),moffms:t.ik(c),vbitrate:b.S,vbitrateold:a.S,vdlid:b.Bd,vdlidold:a.Bd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.YD(this.j,a);this.eA(this.j,a);this.Uc(U.Ee.Xea,!1,Y.Ug,a);};c.prototype.bMb=function(a,b,c){a={moff:t.Pw(c),moffms:t.ik(c),vdlidold:a.Bd,vbitrateold:a.S};this.YD(this.j,a);this.eA(this.j,a);this.XD(a,b,this.j.zg.value && this.j.zg.value.stream);this.Uc(U.Ee.cMb,!1,Y.Ug,a);};c.prototype.UIb=function(){var a,b;a={waittime:t.ik(this.j.jja()),abortedevent:"startplay",browserua:n.Dm,browserhref:location.href,trackid:this.j.yi,prstate:this.yQ(),paustate:this.j.paused.value};this.b0(a,"endplay");this.Wp.UP && (a.eventlist=this.C2.XOa(this.j));this.j.yg && (a.playbackcontextid=this.j.yg);this.j.Hp && this.j.Hp.initBitrate && (a.initvbitrate=this.j.Hp.initBitrate);try{b=f.xQ();b && (a.pdltime=b);t.Eb(a,this.j.Ed,{prefix:"sm_"});}catch(va){}this.wka(a,!0);this.FQa(a);this.Dka(a);this.CQa(a);this.XD(a,this.j.Bf.value,this.j.Sl.value);this.Uc(U.Ee.gWa,!1,Y.$h | Y.Ug | Y.ny | Y.$M,a);};c.prototype.TIb=function(a,b){a={waittime:t.ik(a),abortedevent:"resumeplay",browserua:n.Dm,resumeplayreason:b};this.j.yg && (a.playbackcontextid=this.j.yg);this.j.Hp && this.j.Hp.initBitrate && (a.initvbitrate=this.j.Hp.initBitrate);this.XD(a,this.j.Bf.value,this.j.Sl.value);this.Uc(U.Ee.gWa,!1,Y.$h | Y.Ug,a);};c.prototype.qQb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.YD(this.j,a);this.eA(this.j,a);this.XD(a,this.j.wf.value && this.j.wf.value.stream,this.j.zg.value && this.j.zg.value.stream);this.Uc(U.Ee.sQb,!1,Y.$h | Y.Ug,a);};c.prototype.Oka=function(a,b,c){var f;a=t.Eb({vdlid:this.j.Bf.value.Bd,playingms:a,pausedms:b,intrplayseq:this.v1++,prstate:this.yQ(),paustate:this.j.paused.value},c);this.b0(a,"intrplay");b=this.j.zc[k.Ac.Sa.VIDEO].value;c=this.j.zc[k.Ac.Sa.AUDIO].value;a.cdnid=a.vcdnid=b && b.id;a.acdnid=c && c.id;a.locid=this.$Q && this.$Q.Tla;a.loclv=this.$Q && this.$Q.qSa;a.avtp=this.gB.Zm().rF;a.mediabuffered=null === (f=this.j.Qh) || void 0 === f?void 0:f.g0();this.j.Gk && (this.wka(a,!0),this.l1(a),this.DQa(a));try{t.Eb(a,this.j.I0(),{prefix:"vd_"});}catch(ba){}this.YD(this.j,a);this.eA(this.j,a);this.XD(a,this.j.wf.value && this.j.wf.value.stream,this.j.zg.value && this.j.zg.value.stream);this.Uc(U.Ee.Oka,!1,Y.$h | Y.Ug,a);};c.prototype.wpa=function(a,b,c){a={moffold:t.Pw(a),reposseq:this.YXa++,prstate:this.yQ(),paustate:this.j.paused.value};this.eA(this.j,a);this.XD(a,c && c.stream,b && b.stream);this.Uc(U.Ee.wpa,!1,Y.$h | Y.Ug,a);};c.prototype.iib=function(){this.Uc(U.Ee.mib,!1,Y.$h | Y.Ug,{switchdelay:t.ik(this.getTime() - this.TBb),newtrackinfo:this.j.Ad.value.jb,oldtrackinfo:this.qla.jb});};c.prototype.ikb=function(a,b){var c,f;c=b.serverid;f={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};f.mediatype=b.mediatype;f.selreason=b.selreason || "unknown";f.seldetail=b.seldetail;f.cdnbwdata=JSON.stringify([{id:c}]);a && (f.oldlocid=a.Tla,f.oldloclv=a.qSa,f.oldocaid=a.jOb,f.oldocaname=a.$E);this.Uc(U.Ee.lJa,!1,Y.vU,f);};c.prototype.D_a=function(a){var b,c;b={};b.trigger=a;try{c=this.j.cja();b.subtitleqoescore=this.j.hp.Lxb(c);b.metrics=JSON.stringify(this.j.hp.wja(c));}catch(ga){this.log.error("error getting subtitle qoe data",ga);}this.Uc(U.Ee.cRb,!1,Y.$h | Y.ny | Y.qG,b,"info");};c.prototype.transition=function(a){this.eA(this.j,a);this.Uc(U.Ee.transition,!1,0,a);};c.prototype.uxb=function(a,b){if(a=a.j0())if(b=a[b])return b.oe;};c.prototype.zQa=function(a,b){a.Ta.mk && (b.isBranching=!0);};c.prototype.AQa=function(a,b){b.cachedManifest=a.tw;b.cachedLicense=a.wz;b.usedldl=this.config().AI?("videopreparer" === a.wz).toString():"not_capable";};c.prototype.YD=function(a,b){var c,f;if(this.config().Mzb){c=a.dja();f=a.ga.ta;c && f && (b.segment=c,f=a.Vz(),b.segmenttime=f,a=this.uxb(a,c),null !== f && void 0 !== a && (b.segmentoffset=f - a));}};c.prototype.eA=function(a,b,c){b.pxid=a.Nx;(void 0 === c?0:c) && (b.playgraph_trace=a.nWa);};c.prototype.DQa=function(a){var b,c;b=this.j.eka;c=b && b.lMb;b && b.tQa && (a.htwbr=b.tQa,a.pbtwbr=b.t3,a.hptwbr=b.nzb);b && b.zYa && (a.rr=b.zYa,a.ra=b.JKb);b && c && 0 < (c.length || 0) && (a.qe=JSON.stringify(c));};c.prototype.Dka=function(a){var b,c,f,d,l;b=this;c=this.j.Fg && this.j.Fg.value && this.j.Fg.value.wc;if(c){f=new Set();d=new Set();l=new Set();c.forEach(function(a){a=a.Yf;f.add(a);d.add(a.replace(b.zDa,""));(a=a.match(b.zDa)) && 0 < a.length && l.add(a[1]);});a.videoProfiles=[].concat(ea(f));a.videoProfile=0 === d.size?"none":[].concat(ea(d))[0];a.videoProfileLevels=[].concat(ea(l));}};c.prototype.CQa=function(a){var b,c,f;try{b=this.Nc.createElement("canvas");c=b.getContext("webgl") || b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f && (a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(ba){}};c.prototype.Nzb=function(a){a.switchAwaySummary={vsa:this.ti.summary.b2a,vsb:this.ti.summary.c2a,vsbt:this.ti.summary.d2a,asa:this.ti.summary.VHa,asb:this.ti.summary.WHa,asbt:this.ti.summary.XHa};};c.prototype.gha=function(a){var b,c,f,d,z;b=this;c=this.dWa();this.b0(c,"endplay");c.browserua=n.Dm;c.prstate=this.yQ();c.paustate=this.j.paused.value;c.muted=this.j.muted.value;this.j.ey && "downloaded" === this.j.ey.C0() && (c.trickplay_ms=this.j.MT.offset,c.trickplay_res=this.j.MT.hYa);this.config().F1a && (c.rtinfo=this.j.nxb());if(this.config().upa){f=this.gB.Zm().rF;void 0 !== c.avtp?c.avtp_retired=f:c.avtp=f;f=this.jZ.Wub().map(function(a){return {cdnid:a.yz,avtp:a.rF,tm:a.Kga};});void 0 != c.cdnavtp?c.cdnavtp_retired=f:c.cdnavtp=f;this.j.Gk && this.l1(c);}this.BQa(c);c.endreason=a?"error":this.j.Xb.value === R.tb.Os?"ended":"stopped";f=this.nn;this.Hzb(f);f && t.Eb(c,f,{prefix:"pi_"});f=this.j.Ej;a && f && g.Vva(f.errorCode) && (d="info");try{t.Eb(c,this.j.Ed,{prefix:"sm_"});}catch(Wa){}this.j.vka && (c.inactivityTime=this.j.vka);this.wka(c,"info" !== d && a);this.DQa(c);if(this.j.aD){for(var f=this.j.aD,l=this.config().$C,q=this.j.rf,h={iv:l,seg:[]},m=function(a,b,c){return 0 === b || void 0 === c[b - 1]?a:a - c[b - 1];},u=f.jw.map(m),m=f.iy.map(m),k,x=0;x < u.length;x++){if(u[x] || m[x])k?(k.ams.push(u[x]),k.vms.push(m[x])):k={ams:[f.jw[x]],vms:[f.iy[x]],soffms:f.startTime + x * l - q};x !== u.length - 1 && u[x] && m[x] || !k || (h.seg.push(k),k=void 0);}c.bt=JSON.stringify(h);}if(this.j.s2 && 0 < this.j.s2.length){z=[];this.j.s2.forEach(function(a){z.push({soffms:a.time - b.j.rf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=z;}a && this.CQa(c);this.D_a("endplay");this.config().ds && this.Cka(c);this.Dka(c);this.zQa(this.j,c);this.AQa(this.j,c);this.YD(this.j,c);this.eA(this.j,c,this.sda);this.yka(c);this.Aka(c);this.Bka(c);this.EQa(c);this.Izb(c);this.yQa(c);this.Kzb(c);this.Jzb(c);this.Nzb(c);this.zka(c);this.Uc(U.Ee.gha,a,Y.$h | Y.qG | Y.Ug | Y.ny | Y.$M | Y.N7,c,d);};c.prototype.Ybb=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return +a;}):b;};c.prototype.Kqb=function(){var a,b;a=this;if(this.j.Hn && this.j.po){b=[];this.j.Hn.concat(this.j.po).forEach(function(c){c.wc.forEach(function(c){b.push({dlid:c.Bd,type:c.type,bitrate:c.S,vmaf:c.ib,cdn_ids:a.Ybb(c.Jw)});});});return JSON.stringify(b);}};c.prototype.hkb=function(){var b,c,f;function a(a,b){var d,l,q;d=a.cdnId;l=f[d];q=a.vmaf;l || (l={cdnid:d,dls:[]},f[d]=l,c.push(l));u.kI(a.bitrate);u.kI(a.duration);d={bitrate:a.bitrate,tm:n.ai(a.duration)};q && (u.kI(a.vmaf),d.vf=q);d[b]=t.Xd(a.downloadableId);l.dls.push(d);}b=this.j.pn.vub();c=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};c.prototype.dWa=function(){var a,b,c,f,d,l,q,h,m,g,z;a=this.j.pn;b={totaltime:t.Pw(a.CQ()),totalcontenttime:t.Pw(a.APa()),cdndldist:this.hkb(),reposcount:this.YXa,intrplaycount:this.v1};try{c={numskip:0,numlowqual:0};f=this.j.Qh;d=f.ND();M.pa(d) && (b.totfr=d,c.numren=d);d=f.MD();M.pa(d) && (b.totdfr=d,c.numrendrop=d);d=f.nQ();M.pa(d) && (b.totcfr=d,c.numrenerr=d);d=f.q0();M.pa(d) && (b.totfdl=d);b.playqualvideo=JSON.stringify(c);l=this.j.Bf.value;l && (b.videofr=l.W_.toFixed(3));q=a.INa();q && (b.abrdel=q);h=a.Xyb() && a.Bub();h && (b.tw_vmaf=h);m=a.Aub();m && t.Eb(b,m);b.rbfrs=this.v1;b.maxbitrate=this.fm;b.maxresheight=this.mTa;for(var k=this.j.$I(),x,a=0;a < k.length;a++){g=k[a];z=this.wn.NJ.us(g);if(z){u.lb(x);b.maxbitrate=x?x.S:0;b.maxresheight=x?x.height:0;b.bitratefilters=z.join("|");break;}x=g;}this.j.ey && (b.trickplay=this.j.ey.C0());null !== this.j.hp.sIa && (b.avg_subt_delay=this.j.hp.sIa);}catch(Wa){this.log.error("Exception reading some of the endplay fields",Wa);}t.Eb(b,this.j.I0(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.xa.zb().ba(x.fa);};c.prototype.B4=function(a){a.browserua=n.Dm;this.zka(a);this.Uc(U.Ee.CNb,!a.success,Y.$h | Y.ny,a);this.Uc=h.$g;};c.prototype.Wzb=function(){var a,b,c;a=this;c=[];this.config().OEb && (this.config().PEb.forEach(function(b){c.push(O.setTimeout(a.B2,b));}),this.config().BTa && (b=O.setInterval(this.B2,this.config().BTa)),this.a1a=function(){c.forEach(function(a){O.clearTimeout(a);});b && O.clearInterval(b);});};c.prototype.Cka=function(a){var b;try{b=this.pc.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.aub);}catch(va){}};c.prototype.yka=function(a){this.log.debug("httpstats",this.cf.Ob);t.Eb(a,this.cf.Ob,{prefix:"http_"});};c.prototype.wka=function(a,b){this.config().XKa && !(this.ea % this.config().XKa) && this.j.Ab && this.j.Ab.u1 && (a.ASEstats=JSON.stringify(this.j.Ab.u1(b)));};c.prototype.l1=function(a){Object.assign(a,this.j.Gk.qb.Rxb());};c.prototype.Aka=function(a){var b;try{b=n.Ws.memory;M.CRa(b) && (a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(va){}};c.prototype.Bka=function(a){var b,c;if(this.config().zrb){c=null === (b=null === n.bi || void 0 === n.bi?void 0:n.bi.connection) || void 0 === b?void 0:b.effectiveType;b=null === n.bi || void 0 === n.bi?void 0:n.bi.deviceMemory;c && (a.effectiveType=c);b && (a.deviceMemory=b);}};c.prototype.EQa=function(a){var b;b=this.j.Td;this.config().akb && b && !this.config().Fn && (b=this.j.SFb(b.w3b()),a.keystatuses=b,this.log.trace("keystatuses",b));};c.prototype.yQa=function(a){var b;try{if(this.config().hP){b=this.j.Hub();a.battery=b;this.log.trace("batterystatuses",b);}}catch(va){}};c.prototype.Izb=function(a){this.j.IZ && (a.dqec=this.j.IZ);};c.prototype.Hzb=function(a){this.j.iZ && t.Eb(a,{cast_interaction_counts:this.j.iZ.H3b()});};c.prototype.FQa=function(a){var b;b=this.j.Ta.um;b && b.isUIAutoPlay && (a.isUIAutoPlay=!0);};c.prototype.zka=function(a){var b,c,f;if(null === (c=null === (b=this.j.Td) || void 0 === b?void 0:b.im) || void 0 === c?0:c.keySystem)a.keysys=this.j.Td.im.keySystem;else if(null === (f=this.j.Td) || void 0 === f?0:f.Uw)a.keysys=this.j.Td.Uw();};c.prototype.Jzb=function(a){this.wha && (a.externaldisplay=this.wha.$P);};c.prototype.Kzb=function(a){this.lB && this.lB.Rb && (a.media_capabilities_smooth=this.lB.Rb.ZPb,a.media_capabilities_efficient=this.lB.Rb.sJb,a.media_capabilities_bitrate=this.lB.Rb.S,a.media_capabilities_height=this.lB.Rb.height,a.media_capabilities_width=this.lB.Rb.width);};c.prototype.XD=function(a,b,c){c && (a.adlid=c.Bd,a.abitrate=c.S);b && (a.vdlid=b.Bd,a.vbitrate=b.S);};c.prototype.BQa=function(a){var b,c;if(this.j.rP){b=this.j.rP;b.sZ && (a.controllerESN=b.sZ);b.Rlb && (a.controllerUiVer=b.Rlb);if(b.Qlb)try{c=JSON.parse(b.Qlb);a.controllerGroupNames=c;}catch(ga){this.log.error("Exception parsing controller group names",ga);}}};c.prototype.OBb=function(){void 0 === this.wha && (this.wha=this.xha.Isb());};c.prototype.PBb=function(a){void 0 === this.lB && void 0 !== a && (this.lB=this.Jma.Cha(a));};c.prototype.b0=function(a,b){(b=this.j.Vw(b)) && Object.entries(b).forEach(function(b){var c;c=T(b);b=c.next().value;c=c.next().value;a[b]=c;});};c.prototype.Uc=function(a,b,c,f,d){this.sgb(f,this.j,b,c);a=this.hE.Mp(a,d || (b?"error":"info"),f,this.wn);this.rh.Uc(a);};c.prototype.sgb=function(a,b,c,f){var d,l,q,h,m,x,z,y,B;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (a.devmod=nrdp.device.deviceModel);b.Wk && (a.pbcid=b.Wk);f & Y.$h && (u.lb(!a || void 0 === a.moff),0 <= b.fb.value && (a.moff=t.Pw(b.fb.value),a.moffms=t.ik(b.fb.value)));if(f & Y.qG){m=b.zc[k.Ac.Sa.VIDEO].value;x=b.zc[k.Ac.Sa.AUDIO].value;z=b.zg.value;y=b.wf.value;m && (a.cdnid=m.id,a.cdnname=m.name);x && (a.acdnid=x.id,a.acdnname=x.name);z && (a.adlid=z.stream.Bd,a.abitrate=z.stream.S);y && (a.vdlid=y.stream.Bd,a.vbitrate=y.stream.S,a.vheight=y.stream.height,a.vwidth=y.stream.width);}f & Y.Ug && b.Ab && (a.abuflbytes=null !== (d=a.abuflbytes) && void 0 !== d?d:b.Vda(),a.abuflmsec=null !== (l=a.abuflmsec) && void 0 !== l?l:b.MO(),a.vbuflbytes=null !== (q=a.vbuflbytes) && void 0 !== q?q:b.rsa(),a.vbuflmsec=null !== (h=a.vbuflmsec) && void 0 !== h?h:b.WT());if(f & Y.$M){Object.assign(a,r.mja());try{B=b.Qf.getBoundingClientRect();a.rendersize=B.width + "x" + B.height;a.renderpos=B.left + "x" + B.top;}catch(Wa){}}f & Y.ny && (d=n.bi.hardwareConcurrency,0 <= d && (a.numcores=d),d=this.wn.Sga) && (l=d.Cub(),a.droppedFrames=JSON.stringify(l),d=d.vQ(this.config().Wqb),t.Jd(d,function(b,c){a["droppedFramesP" + b]=JSON.stringify(c);}));if(f & Y.vU)try{b.ck && (a.cdninfo=JSON.stringify(b.ck.map(function(a){return {id:a.id,nm:a.name,rk:a.bg,wt:a.location.weight,lv:a.location.level};})));}catch(Wa){}c && f & Y.N7 && (u.lb(b.Ej),(c=b.Ej)?a=Object.assign(a,r.bja(this.platform.CD,c)):a.errorcode=g.L.Hl,a.errorcode === this.platform.CD + g.L.Hza && (a.lastSyncWithVideoElement=this.getTime() - b.zT));};b.Zxa=c;(function(a){a[a.$h=1]="MOFF";a[a.qG=2]="PRESENTEDSTREAMS";a[a.Ug=4]="BUFFER";a[a.$M=8]="SCREEN";a[a.ny=16]="CPU";a[a.vU=32]="CDN";a[a.N7=64]="FATALERROR";})(Y || (Y={}));},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.LU=void 0;c=a(46);b.LU=function(a,b){this.Fqb=a;this.size=b.lRa()?c.sb:b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p7=void 0;b.p7="DownloadReportBuilderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t9=void 0;b.t9="MilestonesEventBuilderSymbol";},function(d,b,a){var k,h,m,f,q,l,u,t,x;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.kva=void 0;d=a(0);k=a(180);h=a(76);m=a(22);f=a(2);q=a(18);l=a(9);u=a(15);t=a(1);a=a(13);c.prototype.construct=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b] || (f[b]=[]);f[b].push(a);});d=[];m.Jd(f,function(a,f){d.push(c.cyb(f,b));});return {urls:d};};c.prototype.cyb=function(a,b){var c,f,d,l;c=this;f=a[0];d={url:f.url,bitrate:f.S,cdnid:u.qf(f.zc)?f.zc.id:f.zc,dltype:f.tqb,id:f.Bd};l={};a.forEach(function(a){var b;b=c.LAb(a)?"fail":"success";l[b] || (l[b]=[]);l[b].push(a);});m.Jd(l,function(a,f){"fail" === a?d.failures=c.Hvb(f,b):"success" === a && (d.downloads=c.wvb(f,b));});return d;};c.prototype.wvb=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.alb;f[b] || (f[b]=[]);f[b].push(a);});d=[];m.Jd(f,function(a,f){var l;l=[];f.forEach(function(f){l.push(f);c.yAb(f) && (d.push(c.eOa(l,b,a)),l=[]);});0 < l.length && d.push(c.eOa(l,b,a));});return d;};c.prototype.eOa=function(a,b,c){var m;for(var f=a.sort(function(a,b){return a.gl.xh < b.gl.xh?-1:a.gl.xh > b.gl.xh?1:0;}),d=f[0].gl,l=d.requestTime,q=d.xh,d=d.sn,h=1;h < a.length;h++){m=a[h].gl;m.requestTime < l && (l=m.requestTime);m.xh < q && (q=m.xh);m.sn > d && (d=m.sn);}h=this.fxb(f);m=f[f.length - 1];return {time:l - b,tcpid:c?parseInt(c):-1,tresp:q - l,first:h,ranges:this.gxb(f,h),dur:d - q,trace:this.Yw(a),status:this.C0(m)};};c.prototype.fxb=function(a){var b;b=0;a.forEach(function(a){a.ks && (b=l.Mn(b,a.ks[0]));});return b;};c.prototype.gxb=function(a,b){var c;c=[];a.forEach(function(a){a.ks?c.push([a.ks[0] - b,a.ks[1] - b]):c.push([0,-1]);});return c;};c.prototype.Yw=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.gl;if(c){f=a.requestTime - c.sn;0 < f && b.push([f,-2]);f=l.Cm(c.sn,a.requestTime);f=a.xh - f;0 < f && b.push([f,-3]);}b.push([a.sn - a.xh,a.Dfa || 0]);c=a;});return b;};c.prototype.yAb=function(a){if(a.ja === f.K.py || a.ja === f.K.GB)return !0;};c.prototype.C0=function(a){if(a.ia)return "complete";if(a.ja === f.K.py)return "abort";if(a.ja === f.K.GB)return "stall";q.lb(!1,"download status should never be: other");return "other";};c.prototype.Hvb=function(a,b){var c,f;c=this;f=[];a.forEach(function(a){var d;d=a.gl;a={time:d.xh - b,tresp:d.xh - d.requestTime,dur:d.sn - d.xh,range:a.ks,reason:c.ixb(a),httpcode:a.Vi,nwerr:k.aja(a.ja)};f.push(a);});return f;};c.prototype.ixb=function(a){return a.Vi || a.ja === f.K.vM?"http":a.ja === f.K.xM?"timeout":"network";};c.prototype.LAb=function(a){return a.ia || void 0 === a.ia || a.ja === f.K.py || a.ja === f.K.GB?!1:!0;};c.prototype.Ulb=function(a){var b,c,f,d,l,q;b=a.request;c=b.stream;f=b.track;d=b.url;l=this.tvb(f,d);switch(l){case h.Zg.audio:case h.Zg.video:q=b.stream.Bd;break;case h.Zg.w5:case h.Zg.Pra:q=f.Bd;}a={S:c && c.S,tqb:l,Bd:q,gl:a.gl,zc:b.zc,url:d,Ke:a.Ke,Vi:a.Vi,ja:a.ja,ia:a.ia,alb:this.ssb(a)};void 0 !== b.offset && void 0 != b.length && (a.ks=[b.offset,b.offset + b.length - 1]);return a;};c.prototype.tvb=function(a,b){if(a)return a.type;if(0 <= b.indexOf("netflix.com")){if(0 <= b.indexOf("nccp"))return "nccp";if(0 <= b.indexOf("api"))return "api";}return "other";};c.prototype.ssb=function(a){if(a.headers && (a=a.headers["X-TCP-Info"] || a.headers["x-tcp-info"]))return (a=a.split(";").filter(function(a){return 0 == a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?m.Xd(a):a;};x=c;x=d.__decorate([t.N(),d.__param(0,t.l(a.Oc))],x);b.kva=x;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Saa=void 0;b.Saa="XhrFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C9=void 0;b.C9="NetworkMonitorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P7=void 0;b.P7="FtlDataParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q8=void 0;b.q8="HttpRequesterSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T9=void 0;b.T9="PboAcquireLicenseCommandSymbol";},function(d,b,a){var f,q,l,u,t,x;function c(a){var b;a=new l.Vua(a);if(1481462272 != a.cp())throw Error("Invalid header");b={XMR:{Version:a.cp(),RightsID:a.Lu(16)}};k(a,b.XMR,a.buffer.length);return b;}function k(a,b,c){var f,d,l,q,u;for(;a.position < c;){f=a.Ag();d=a.cp();d=d - 8;switch(f){case 1:l="OuterContainer";break;case 2:l="GlobalPolicy";break;case 3:l="MinimumEnvironment";break;case 4:l="PlaybackPolicy";break;case 5:l="OutputProtection";break;case 6:l="UplinkKID";break;case 7:l="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:l="AnalogVideoOutputConfiguration";break;case 9:l="KeyMaterial";break;case 10:l="ContentKey";break;case 11:l="Signature";break;case 12:l="DeviceIdentification";break;case 13:l="Settings";break;case 18:l="ExpirationRestriction";break;case 42:l="ECCKey";break;case 48:l="ExpirationAfterFirstPlayRestriction";break;case 50:l="PlayReadyRevocationInformationVersion";break;case 51:l="EmbeddedLicenseSettings";break;case 52:l="SecurityLevel";break;case 54:l="PlayEnabler";break;case 57:l="PlayEnablerType";break;case 85:l="RealTimeExpirationRestriction";break;default:l="Other";}q={Type:h(f)};u=b[l];u?x.isArray(u)?u.push(q):(b[l]=[],b[l].push(u),b[l].push(q)):b[l]=q;switch(f){case 1:case 2:case 4:case 7:case 9:case 54:k(a,q,a.position + d);break;case 5:q.Reserved1=a.Ag();q.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Ag();q.MinimumAnalogVideoOutputProtectionLevel=a.Ag();q.Reserved2=a.Ag();q.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Ag();break;case 10:q.Reserved=a.Lu(16);q.SymmetricCipherType=a.Ag();q.AsymmetricCipherType=a.Ag();d=a.Ag();q.EncryptedKeyLength=d;f=a.Lu(d);q.EncryptedKeyData=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 11:q.SignatureType=a.Lu(2);d=a.Ag();f=a.Lu(d);q.SignatureData=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 13:q.Reserved=a.Ag();break;case 18:q.BeginDate=a.cp();q.EndDate=a.cp();break;case 42:q.CurveType=a.Lu(2);d=a.Ag();f=a.Lu(d);q.Key=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 48:q.ExpireAfterFirstPlay=a.cp();break;case 50:q.Sequence=a.cp();break;case 51:q.LicenseProcessingIndicator=a.Ag();break;case 52:q.MinimumSecurityLevel=a.Ag();break;case 57:q.PlayEnablerType=m(a.Lu(16));break;case 85:break;default:q.OtherData=a.Lu(d);}}}function h(a){return "0x" + a.toString(16);}function m(a){return a.substring(6,8) + a.substring(4,6) + a.substring(2,4) + a.substring(0,2) + "-" + a.substring(10,12) + a.substring(8,10) + "-" + a.substring(14,16) + a.substring(12,14) + "-" + a.substring(16,20) + "-" + a.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.hpb=b.ipb=b.gpb=b.fpb=b.epb=void 0;f=a(11);q=a(7);l=a(462);u=a(145);t=a(258);x=a(15);b.epb=function(a,b,d){switch(b){case f.OU:a && (a=q.uIa(a),t.Csa(a,function(a){a.ia && (a=a.object) && (a=u.bOa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (a=u.FVa(a)) && (a=q.lw(a)) && (a=c(a)) && d(a);}));}};b.fpb=c;b.gpb=k;b.ipb=h;b.hpb=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.bPa=function(){return this.buffer.length - this.position;};a.prototype.zK=function(){return this.buffer[this.position++];};a.prototype.Dk=function(a){var b;b=this.position;this.position+=a;return this.tBb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.tBb=function(a){return void 0 !== a.subarray;};a.prototype.ap=function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;};a.prototype.apa=function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;};a.prototype.Ag=function(){return this.ap(2);};a.prototype.cp=function(){return this.ap(4);};a.prototype.BK=function(){return this.ap(8);};a.prototype.Lu=function(a){for(var b,c="";a--;){b=this.zK();c+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return c;};a.prototype.bpa=function(a){for(var b=0,c=0;c < a;c++){b+=this.zK() << (c << 3);}return b;};a.prototype.AK=function(){return this.bpa(4);};return a;})();b.Vua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j$=void 0;b.j$="PboReleaseLicenseCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a$=void 0;b.a$="PboLicenseRequestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.V9=void 0;b.V9="PboCachedPlaydataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C$=void 0;b.C$="PlaydataConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y9=b.XV=void 0;b.XV={ZQ:"keepAlive",splice:"splice"};b.Y9="PboEventSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v7=void 0;b.v7="DxDisplaySymbol";},function(d,b,a){var k,h,m,f,q;function c(a,b,c){this.wd=a;this.is=b;this.prefix=c;this.tS=this.Qo=!1;this.VIa=new f.dDa(b);}Object.defineProperty(b,"__esModule",{value:!0});b.cN=b.MF=b.cua=b.bua=b.aua=void 0;d=a(0);k=a(1);h=a(26);m=a(20);f=a(1067);q=a(9);b.aua="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.bua="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.cua="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.MF="";c.prototype.show=function(){this.Qo || (this.Hlb(),this.$H && q.Fe.body.appendChild(this.$H),this.Qf && q.Fe.body.appendChild(this.Qf),this.YO && q.Fe.body.appendChild(this.YO),this.lF && q.Fe.getElementsByTagName("head")[0].appendChild(this.lF),this.Qo=!0,this.refresh());};c.prototype.Zp=function(){this.Qo && (this.Qf && q.Fe.body.removeChild(this.Qf),this.YO && q.Fe.body.removeChild(this.YO),this.$H && q.Fe.body.removeChild(this.$H),this.lF && q.Fe.getElementsByTagName("head")[0].removeChild(this.lF),this.lF=this.BT=this.$H=this.YO=this.Qf=void 0,this.Qo=!1);};c.prototype.toggle=function(){this.Qo?this.Zp():this.show();};c.prototype.hSb=function(){(this.tS=!this.tS) || this.refresh();};c.prototype.Qub=function(a){return "table." + a + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}' + ("table." + a + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}") + ("table." + a + "-display-table tr:nth-child(2n+3) {background-color: #fff;}") + ("table." + a + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}") + ("table." + a + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}") + ("table." + a + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}") + ("span." + a + "-display-indexheader {margin-left:5px;}") + ("span." + a + "-display-indexvalue {margin-left:5px;}") + ("span." + a + "-display-keyheader {margin-left:5px;}") + ("span." + a + "-display-keyvalue {margin-left:5px;}") + ("span." + a + "-display-valueheader {margin-left:5px;}") + ("ul." + a + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}") + ("ul." + a + "-display-tree li {list-style-type: none; position: relative;}") + ("ul." + a + "-display-tree li ul {display: none;}") + ("ul." + a + "-display-tree li.open > ul {display: block;}") + ("ul." + a + "-display-tree li a {color: black;text-decoration: none;}") + ("ul." + a + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}") + ("ul." + a + "-display-tree li > a:not(:last-child):before {content: '+';}") + ("ul." + a + "-display-tree li.open > a:not(:last-child):before {content: '-';}") + ("div." + a + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("button." + a + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("select." + a + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("ul." + a + "-display-item-inline {margin:0;padding:0}") + ("." + a + "-display-btn:hover, ." + a + "-display-btn:focus, ." + a + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }") + ("button." + a + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}") + ("." + a + "-display-btn-inline:hover, ." + a + "-display-btn-inline:focus, ." + a + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.Hlb=function(){var a;a=this;this.lF=q.Fe.createElement("style");this.lF.type="text/css";this.lF.innerHTML=this.Qub(this.prefix);this.YO=this.wd.createElement("div",b.aua,void 0,{"class":this.prefix + "-display-blur"});this.Qf=this.wd.createElement("div",b.bua,void 0,{"class":this.prefix + "-display"});this.$H=this.wd.createElement("div",b.cua,void 0,{"class":this.prefix + "-display"});this.XNa().forEach(function(b){return a.$H.appendChild(b);});};c.prototype.Klb=function(a){a=this.wd.createElement("div","",a,{"class":this.prefix + "-display-tree1"});for(var b=a.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),c=0;c < b.length;c++){b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a < c.length;a++){c[a].classList.remove("open");}}catch(B){}}else b.add("open");}});}return a;};c.prototype.refresh=function(){var a;a=this;return !this.Qo || this.tS?Promise.resolve():this.BXa().then(function(b){if(b && (b=a.Klb(b),a.Qf)){a.BT && (a.Qf.removeChild(a.BT),a.BT=void 0);a.BT=b;a.Qf.appendChild(a.BT);b=a.Qf.querySelectorAll("button." + a.prefix + "-display-btn-inline");for(var c=0;c < b.length;++c){b[c].addEventListener("click",a.xYa);}(b=a.Qf.querySelector("#" + a.prefix + "-display-close-btn")) && b.addEventListener("click",function(){a.toggle();});}});};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.Df)),d.__param(1,k.l(m.De)),d.__param(2,k.Ai())],a);b.cN=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w7=b.x7=void 0;b.x7="DxManagerSymbol";b.w7="DxManagerProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O8=void 0;b.O8="LogDisplayConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D9=void 0;b.D9="NfCryptoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qaa=void 0;b.Qaa="WindowUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I$=void 0;b.I$="PrefetchEventsConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O$=b.K$=b.L$=b.M$=b.N$=void 0;b.N$="PreparerManifestFetcherSymbol";b.M$="PreparerLicenseFetcherSymbol";b.L$="PreparerLegacyLicenseFetcherSymbol";b.K$="PreparerHeadersFetcherSymbol";b.O$="PreparerMediaFetcherSymbol";},function(d,b){function a(a,b,c){var f,d,l,h;f=[];a.forEach(function(a){-1 == f.indexOf(a.Yf) && f.push(a.Yf);});d=null;l=null;b.forEach(function(a){null === d?l=d=a.S:l < a.S?l=a.S:d > a.S && (d=a.S);});h=[];f.forEach(function(a){var b;b={ranges:[],profile:a};d && l && (b.ranges.push({min:d,max:l}),c && (b.disallowed=c.filter(function(b){return b.stream.Yf === a;}).map(function(a){return {stream:{bitrate:a.stream.S},disallowedBy:a.VZ};})),h.push(b));});return h;}function c(a,b){var c;c=void 0;a=a.filter(function(a){var f;f=b(a);f && (c=c || [],c.push({stream:a,VZ:f}));return !f;});for(var f=0;f < a.length;f++){a[f].lower=a[f - 1];a[f].ezb=a[f + 1];}return {Oz:a,lqb:c};}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=b.kr=b.Fob=b.Eja=void 0;b.Eja=function(b,d){d=c(b,d);return a(b,d.Oz,d.lqb);};b.Fob=a;b.kr=c;b.xLa=function(a){if(a.lower && 1080 < a.height)return ["Prefetch UHD"];};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l9=void 0;b.l9="MediaHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n9=b.G9=void 0;b.G9="OpenConnectSideChannelSymbol";b.n9="MediaRequestDownloaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m9=void 0;b.m9="MediaRequestConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W9=void 0;b.W9="PboDispatcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.maa=b.w9=b.Caa=void 0;b.Caa="TransportFactorySymbol";b.w9="MslTransportSymbol";b.maa="SslTransportSymbol";},function(d,b,a){var l,u;function c(a){return !(!a || !a.DE && !a.pboc || !a.code && !a.code);}function k(a){return !(!a || !a.pd);}function h(a){return ! !(a instanceof Error);}function m(a){switch(a){case "ACCOUNT_ON_HOLD":return u.K.Z8a;case "STREAM_QUOTA_EXCEEDED":return u.K.c9a;case "INSUFFICICENT_MATURITY":return u.K.f9a;case "TITLE_OUT_OF_WINDOW":return u.K.l9a;case "CHOICE_MAP_ERROR":return u.K.b9a;case "BadRequest":return u.K.h9a;case "Invalid_SemVer_Format":return u.K.g9a;case "RESTRICTED_TO_TESTERS":return u.K.k9a;case "AGE_VERIFICATION_REQUIRED":return u.K.$8a;case "BLACKLISTED_IP":return u.K.a9a;case "DEVICE_EOL_WARNING":return u.K.J9;case "DEVICE_EOL_FINAL":return u.K.Aza;case "INCORRECT_PIN":return u.K.Eza;case "MOBILE_ONLY":return u.K.j9a;case "MDX_CONTROLLER_CTICKET_INVALID":return u.K.i9a;case "VIEWABLE_RESTRICTED_BY_PROFILE":return u.K.m9a;case "RESET_DEVICE":return u.K.Dza;case "RELOAD_DEVICE":return u.K.Cza;case "EXIT_DEVICE":return u.K.Bza;case "FREE_PREVIEW_ENDED":return u.K.e9a;default:return u.K.owa;}}function f(a,b){return new l.Dc(a,m(b.code),"BadRequest" === b.code?u.sV.w3a:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function q(a,b){return new l.Dc(a,b.pd,b.Og,void 0,b.wu,b.message,b.Yt,b.data);}Object.defineProperty(b,"__esModule",{value:!0});b.SIa=b.TIa=b.Qtb=b.Utb=b.Zl=b.Ttb=b.Ska=b.DAb=b.qRa=void 0;l=a(43);u=a(2);b.qRa=c;b.DAb=k;b.Ska=h;b.Ttb=m;b.Zl=function(a,b){return k(b)?q(a,b):c(b)?f(a,b):h(b)?l.Dc.X_(a,b):new l.Dc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,b);};b.Utb=f;b.Qtb=q;b.TIa=function(a,b,c,f,d){var l,q,h,m;l=b.gZa[c];if(void 0 === l)throw {DE:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no configuration information",detail:b};q=l.version;if(void 0 === q)throw {DE:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no version information",detail:b};h=b.G1 && l.serviceNonMember?l.serviceNonMember:l.service;if(void 0 === h)throw {DE:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no service information",detail:b};m=l.orgOverride;if(void 0 === m && (m=b.eVa,void 0 === m))throw {DE:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no organization information",detail:b};return l.isPlayApiDirect?a.Qwb(f) + "/" + m + "/" + h + "/" + q:a.Gwb(f) + "/" + m + "/" + h + "/" + q + "/" + (void 0 === d?"router":d);};b.SIa=function(a,b){var c;c={"Content-Type":"text/plain"};b=b();a.jHa && b && (c["X-Esn"]=b.ji);return c;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.k$=void 0;b.k$="PboRequestFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eaa=void 0;b.Eaa="TrickPlayManagerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wn=void 0;d=b.Wn || (b.Wn={});d[d.PV=0]="NOT_LOADED";d[d.LOADING=1]="LOADING";d[d.LOADED=2]="LOADED";d[d.CM=3]="LOAD_FAILED";d[d.zza=4]="PARSE_FAILED";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A6=void 0;b.A6="BandwidthMeterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B$=void 0;b.B$="PlaybackSegmentDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A$=void 0;b.A$="PlaybackInfoPanelFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$$=b.aaa=void 0;b.aaa="RepositionTraceSymbol";b.$$="RepositionTraceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u6=void 0;b.u6="AseIntegrationFactorySymbol";},function(d,b,a){var k,h,m,f,q,l,u,t,x,g,y,B,L,I,E,n,p,R,M,D,U,r,la,Y,Q,qa,va,ga,ba,S,Aa,Na,Pa,Ba,ia,Ha,F,Wa,N,Ma;function c(a,b,c,f,d,l,q,h,u,z,L,n,W,da,R,ka,Ba,qa,ba,S,Na,Aa,F,Za,Wa,N,mb,Ma,P,V){var Z,$a,Ee,X;function fb(a){a.newValue !== ia.tb.kg && a.newValue !== ia.tb.rj && (Z.Xb.removeListener(fb),Z.kJ=Z.wa.N4,Z.Hb.cc(ia.V.Yo));}function lb(a){a.newValue !== ia.tb.kg && (Z.Xb.removeListener(lb),Z.fWa=Z.wa.ve.ba(U.fa));}Z=this;this.Nx=d;this.VD=l;this.xa=h;this.MH=u;this.wa=z;this.mma=L;this.nma=da;this.i2=R;this.pc=ka;this.dj=Ba;this.pi=qa;this.Ot=ba;this.noa=S;this.qR=Na;this.Ora=Aa;this.rh=F;this.Nc=Za;this.loa=Wa;this.kl=N;this.ZXa=mb;this.Rda=Ma;this.JH=P;this.iZ=V;this.nWa=[];this.lS={};this.Ad=new g.Lc(null);this.Fg=new g.Lc(null);this.Jc=new g.Lc(null);this.Yj=new g.Lc(null);this.Wu=new g.Lc(void 0);this.Bf=new g.Lc(null);this.Sl=new g.Lc(null);this.fb=new g.Lc(void 0);this.playbackRate=new g.Lc(1);this.Yra=function(a){return Z.Ad.set(a.newValue);};this.ETb=function(a){return Z.Fg.set(a.newValue);};this.BTb=function(a){return Z.Jc.set(a.newValue);};this.aTb=function(a){return Z.Yj.set(a.newValue);};this.ATb=function(a){return Z.Wu.set(a.newValue);};this.DTb=function(a){return Z.Bf.set(a.newValue);};this.bTb=function(a){return Z.Sl.set(a.newValue);};this.rTb=function(a){return Z.wf.set(a.newValue);};this.qTb=function(a){return Z.zg.set(a.newValue);};this.lTb=function(a){return Z.fb.set(a.newValue);};this.K5=function(a){return Z.playbackRate.set(a.newValue);};this.Ro={};this.Kpa=this.Gra=0;this.Hb=new B.pj();this.YT={};this.m_a=!1;this.state=new g.Lc(ia.yb.nG);this.Zr=new g.Lc(!1);this.paused=new g.Lc(!1);this.muted=new g.Lc(!1);this.volume=new g.Lc(y.config.vpb / 100);this.Xb=new g.Lc(ia.tb.kg);this.Qm=new g.Lc(ia.Ce.qd);this.qo=new g.Lc(ia.Ce.qd);this.wl=new g.Lc(ia.Ce.qd);this.zg=new g.Lc(null);this.wf=new g.Lc(null);this.Dea=new g.Lc(null);this.g1=t.Jwa(this);this.s2=[];this.zc=[];this.mea={};this.QP=this.fMa=!1;this.Ma=this.Vh=-1;this.oja=function(a,b){a=void 0 === a?null:a;return ga.pa(a)?b && !Z.Ww(b).ta?a:Z.Ab?Z.Ab.Wt(void 0,a,b):a:null;};this.OUa=function(){Z.Yqa();};this.qD=a;this.addEventListener=this.Hb.addListener;this.removeEventListener=this.Hb.removeListener;this.fireEvent=this.Hb.cc;this.rda({la:a,Ba:f,Ta:c || ({})},y.config.ds?this.pc.J0(a):void 0,b);this.log=D.Pg(this);this.yga=q(this);this.Eib=n(this);this.Qf=Pa.createElement("DIV",x.W$,void 0,{id:this.u});this.Xzb();$a=W(U.zh(1));this.xe=this.log.Pfa("Playback");this.OIb=m.uAa(this);E.uG.mFb=this;E.uG.Pha || (E.uG.Pha=this);this.xe.info("Playback created",this.sh);this.h2?this.xe.info("Playback selected for trace playback info logging"):this.xe.trace("Playback not selected for trace playback info logging");y.config.ds && (this.pc.Dyb(this.u),this.addEventListener(ia.V.Yo,function(){Z.pc.Eyb(Z.u);Z.Jc.addListener(function(){Z.pc.OPa();});Z.Ad.addListener(function(){Z.pc.OPa();});}),this.addEventListener(ia.V.Kf,function(){Z.pc.Cyb(Z.u);}));this.state.addListener(function(a){Z.xe.info("Playback state changed",{From:a.oldValue,To:a.newValue});Y.lb(a.newValue > a.oldValue);});I.Re.addListener(I.bm,this.OUa,x.SV);this.fb.addListener(function(){$a.Vc(function(){return Z.aNa();});});X=!1;this.paused.addListener(function(a){var b;b=Z.Ab;!a.pna && b && (!0 === a.newValue?b.paused && b.paused():b.QT && b.QT());a.newValue || (X=!1);Z.xe.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:Q.Dh(Z.fb.value)});});this.Xb.addListener(function(a){Z.xe.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Q.Dh(Z.fb.value)},Z.Tr());});this.Xb.addListener(function(){Z.Zr.set(Z.Xb.value === ia.tb.Wc);});this.Qm.addListener(function(a){Z.xe.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Q.Dh(Z.fb.value)},Z.Tr());});this.qo.addListener(function(a){Z.xe.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Q.Dh(Z.fb.value)},Z.Tr());});this.wl.addListener(function(a){Z.xe.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Q.Dh(Z.fb.value)},Z.Tr());});this.Ad.addListener(function(a){Y.lb(a.newValue);Z.xe.info("AudioTrack changed",a.newValue && ({ToBcp47:a.newValue.Tl,To:a.newValue.jb}),a.oldValue && ({FromBcp47:a.oldValue.Tl,From:a.oldValue.jb}),{MediaTime:Q.Dh(Z.fb.value)});});this.Jc.addListener(function(a){Z.xe.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Tl,To:a.newValue.jb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Tl,From:a.oldValue.jb}:{From:"none"},{MediaTime:Q.Dh(Z.fb.value)});});this.zc[k.Ac.Sa.AUDIO]=new g.Lc(null);this.zc[k.Ac.Sa.VIDEO]=new g.Lc(null);this.Xb.addListener(lb,x.WB);this.Xb.addListener(fb);this.addEventListener(ia.V.Yo,function(){var a,b,c,f;Z.m_a=!0;Z.kQb=Z.Iea();Z.vd("start");a=Z.wf.value;b=O._cad_global.prefetchEvents;if(b){c=U.Jb(Z.Lo?Z.Lo.audio:0);f=U.Jb(Z.Lo?Z.Lo.video:0);b.lm(Z.u,Z.ea,"notcached" !== Z.tw,"notcached" !== Z.wz,! !Z.Lo,c,f);}Z.r1=a.stream.S;});M.AAa(this);E.Pn.push(this);y.config.ES && (this.A3=this.loa(this),this.B3=new p.HAa(this));E.w$.forEach(function(a){a(Z);});this.tda=function(a){Z.addEventListener(ia.V.TE,function(b){b=b.cause;b !== ia.rd.pv && b !== ia.rd.aC && a.stop();});Z.addEventListener(ia.V.rl,function(b){var c,f,d,l,q,h;Z.ZXa.rl(b);c=b.cause;f=b.skip;d=b.W2;l=b.Ena;q=b.u;b=b.Mh;Z.ga.pn.dGb(l,d);if(c !== ia.rd.aC && (y.config.ztb && c === ia.rd.yG && Z.Gk.dP(),c !== ia.rd.pv))if(f){if(a.Si(d)){Z.xe.trace("Repositioned. Skipping from " + l + " to " + d);c=function(a){Z.log.error("streamingSession.skipped threw an exception",a);a=Ha.Dc.X_(r.L.D2a,a);Z.Zo(a.code,a);};try{a.sl(d).then(function(b){b.nJ || (Z.L1a() || Z.qo.set(ia.Ce.yd),a.play());})["catch"](c);}catch(Nc){c(Nc);}}else Z.log.error("can skip returned false");}else {Z.xe.trace("Repositioned. Seeking from " + l + " to " + d);try{h=Z.am(q).Ba;a.qs(b,Z.COa(h),h);}catch(Nc){Z.log.error("streamingSession.seekByContentPts threw an exception",Nc);d=Ha.Dc.X_(r.L.C2a,Nc);Z.Zo(d.code,d);}}});a.addEventListener("maxPosition",function(a){var b,c;b=U.Jb(a.maxPts);c=U.Jb(a.maxSeekPts);if(a=Z.Mx[a.index])(a.Vt=b,a.bEb=c);Z.Xr || (Z.Xr=b);});a.addEventListener("segmentStarting",function(a){Z.fireEvent(ia.V.JNb,a);});a.addEventListener("lastSegmentPts",function(a){Z.fireEvent(ia.V.GNb,a);});a.addEventListener("segmentPresenting",function(a){Z.fireEvent(ia.V.QK,a);});a.addEventListener("segmentAborted",function(a){Z.fireEvent(ia.V.ENb,a);});a.addEventListener("manifestPresenting",function(a){Z.RSa({u:parseInt(a.movieId),M3:a.previousMovieId?parseInt(a.previousMovieId):void 0,aE:!1});});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure" === a.error && (Z.xe.trace("receiving an unrecoverable streaming error: " + JSON.stringify(a)),Z.xe.trace("StreamingFailure, buffer status:" + JSON.stringify(Z.Tr())),va.uc(function(){Z.sd(r.L.Esa,{ja:a.nativeCode,ub:a.errormsg,Vi:a.httpCode,PR:a.networkErrorCode});}));});a.addEventListener("maxvideobitratechanged",function(a){Z.s2.push(a);});a.addEventListener("bufferingStarted",function(){Z.qo.set(ia.Ce.qd);});a.addEventListener("locationSelected",function(a){Z.fireEvent(ia.V.ou,a);});a.addEventListener("serverSwitch",function(a){var b;Z.fireEvent(ia.V.ZK,a);"video" === a.mediatype?b=k.Ac.Sa.VIDEO:"audio" === a.mediatype && (b=k.Ac.Sa.AUDIO);ga.ic(b) && Z.wOb(a.server,b);});a.addEventListener("bufferingComplete",function(b){Z.xe.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},Z.Tr());Z.Hp=b;Z.qo.set(ia.Ce.yd);Ee || (Ee=!0,Z.vd("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.Fna();y.config.eIb && !Z.paused.value && (X=!0,Z.paused.set(!0,{pna:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){Z.paused.value && X && (X=!1,Z.paused.set(!1,{pna:!0}));Z.Qh.jGb();});a.addEventListener("asereportenabled",function(){Z.QP=!0;});a.addEventListener("asereport",function(a){Z.fireEvent(ia.V.LH,a);});a.addEventListener("aseexception",function(a){Z.fireEvent(ia.V.KH,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=ga.pa(Z.rf)?0:Z.rf;c=a.report;c && c.length && c.forEach(function(a){a.bst-=b;a.pst-=b;void 0 === a.nd && a.tput && (a.tput.ts-=b);});Z.eka={lMb:c,nzb:a.hptwbr,tQa:a.htwbr,t3:a.pbtwbr};a.rr && (Z.eka.zYa=a.rr);a.ra && (Z.eka.JKb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;Z.Ma=a.location.bandwidth;Z.Vh=a.location.httpResponseTime;b && (void 0 === Z.aD && (Z.aD={interval:y.config.$C,startTime:b.startTime,jw:[],iy:[]}),Z.aD.jw=Z.aD.jw.concat(b.jw),Z.aD.iy=Z.aD.iy.concat(b.iy));!1;});a.addEventListener("headerCacheDataHit",function(a){a.movieId === "" + Z.u && (Z.Lo=a);});a.addEventListener("startEvent",function(a){O._cad_global.prefetchEvents && "adoptHcdEnd" === a.event && O._cad_global.prefetchEvents.cP(la.Ne.Ik.MEDIA,Z.u);});a.addEventListener("requestComplete",function(a){var b;b=(a=a && a.mediaRequest) && a.ZH && a.ZH.cadmiumResponse;b && Z.fireEvent(ia.V.Hz,{response:b,u:Z.Ww(a.Ba).u});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType === k.Ac.Sa.VIDEO?(c=Z.bQa(a.streamId),b=Z.Bf):a.mediaType === k.Ac.Sa.AUDIO && (c=Z.RPa(a.streamId),b=Z.Sl);c && b?(!1,b.set(c,{xJa:a.movieTime,zib:a.bandwidth})):Z.xe.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string" === typeof a.target && "object" === typeof a.fields){b=Z.Ro[a.target];c=ga.pa(Z.rf)?Z.rf:0;b || (b=Z.Ro[a.target]={});Object.entries(a.fields).forEach(function(a){var f,d,l,q;f=T(a);a=f.next().value;f=f.next().value;if("object" !== typeof f || null === f)b[a]=f;else {d=f.type;if("count" === d)(void 0 === b[a] && (b[a]=0),++b[a]);else if(void 0 !== f.value){if("array" === d){d=b[a];l=f.adjust;q=f.value;d || (d=b[a]=[]);l && 0 < l.length && l.forEach(function(a){q[a]-=c || 0;});d.push(q);}else "sum" === d?(void 0 === b[a] && (b[a]=0),b[a]+=f.value):b[a]=f.value;}else b[a]=f;}});}});};this.playbackRate.addListener(function(){var a;null === (a=Z.Ab) || void 0 === a?void 0:a.eWa();});this.Ad.addListener(function(a){var b,c,f,d;if(Z.Ab)if(a.Cw && a.Cw.yHa)Z.xe.trace("Not processing already applied track",null === (b=a.newValue) || void 0 === b?void 0:b.jb);else {d=a.newValue;Z.Ab.pra({UC:d.$D,toJSON:function(){return d.sh;}})?Z.xe.trace("ASE accepted the audio track switch",null === (f=a.newValue) || void 0 === f?void 0:f.jb):(Z.xe.trace("ASE rejected the audio track switch",null === (c=a.newValue) || void 0 === c?void 0:c.jb),a.oldValue.$D !== d.$D && Z.Ad.set(a.oldValue,{yHa:!0}));}});this.addEventListener(ia.V.ow,function(a){a.cause == E.s$ && (Z.Qm.set(ia.Ce.qd),Z.Ab.jB(Z.Qh.kOa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;k=a(56);h=a(268);m=a(269);f=a(83);q=a(496);l=a(1117);u=a(1118);t=a(499);x=a(11);g=a(188);y=a(12);B=a(69);L=a(500);I=a(59);E=a(58);n=a(95);p=a(502);R=a(1121);M=a(506);D=a(7);U=a(4);r=a(2);la=a(115);Y=a(18);Q=a(110);qa=a(22);va=a(55);ga=a(15);ba=a(189);S=a(507);Aa=a(118);Na=a(274);Pa=a(27);Ba=a(127);ia=a(14);Ha=a(43);F=a(270);Wa=a(509);N=a(137);Ma=a(476);c.prototype.vd=function(a,b){b=void 0 === b?this.qD:b;this.lS[b].vd(a);};c.prototype.cx=function(a){this.ga.cx(a);};c.prototype.Xzb=function(){var a;a=this;this.Ad.addListener(function(b){return a.ga.Ad.set(b.newValue);});this.Fg.addListener(function(b){return a.ga.Fg.set(b.newValue);});this.Jc.addListener(function(b){return a.ga.Jc.set(b.newValue);});this.Yj.addListener(function(b){return a.ga.Yj.set(b.newValue);});this.Wu.addListener(function(b){return a.ga.Wu.set(b.newValue);});this.Bf.addListener(function(b){return a.ga.Bf.set(b.newValue);});this.Sl.addListener(function(b){return a.ga.Sl.set(b.newValue);});this.wf.addListener(function(b){return a.ga.wf.set(b.newValue);});this.zg.addListener(function(b){return a.ga.zg.set(b.newValue);});this.fb.addListener(function(b){return a.ga.fb.set(b.newValue);});this.playbackRate.addListener(function(b){return a.ga.playbackRate.set(b.newValue);});this.vYa();};c.prototype.vYa=function(){this.ga !== this.iqa && (this.ga.fb.set(this.fb.value),this.ga.playbackRate.set(this.playbackRate.value),this.Gs(function(a){return a.Ad;},this.Yra),this.Gs(function(a){return a.Fg;},this.ETb),this.Gs(function(a){return a.Wu;},this.ATb),this.Gs(function(a){return a.Jc;},this.BTb),this.Gs(function(a){return a.Yj;},this.aTb),this.Gs(function(a){return a.Bf;},this.DTb),this.Gs(function(a){return a.Sl;},this.bTb),this.Gs(function(a){return a.zg;},this.qTb),this.Gs(function(a){return a.wf;},this.rTb),this.Gs(function(a){return a.fb;},this.lTb),this.Gs(function(a){return a.playbackRate;},this.K5),this.Jc.set(this.ga.Jc.value),this.Ad.set(this.ga.Ad.value,{yHa:!0}),this.Fg.set(this.ga.Fg.value),this.Yj.set(this.ga.Yj.value),this.Wu.set(this.ga.Wu.value),this.Bf.set(this.ga.Bf.value),this.Sl.set(this.ga.Sl.value),this.iqa=this.ga);};c.prototype.Gs=function(a,b){this.iqa && a(this.iqa).removeListener(b);a(this.ga).addListener(b);};c.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.qWa=a;if(this.state.value == ia.yb.nG){this.xe.info("Playback loading",this);this.ZFb();this.vd("asl_load_start");a=this.MH;c=a.endTime;ga.ic(a.startTime)?ga.ic(c)?this.vd("asl_ended"):this.vd("asl_in_progress"):this.vd("asl_not_started");this.MH.iR(function(a){b.vd("asl_load_complete");a.ia?b.Lnb():b.Zo(a.errorCode || r.L.Pwa,a);});}};c.prototype.qJb=function(){var a;try{if(this.state.value === ia.yb.LOADING){a={width:1,height:1,yda:1};this.$I().forEach(function(b){a.width * a.height < b.width * b.height && (a.width=b.width,a.height=b.height,a.yda=b.yda);});this.KL=a;this.YC=this.Ot.pHa({DF:U.Jb(this.T),u:this.u,jS:this.Vt,Ta:this.Ta}).ba(U.fa);this.Oda();this.Iob();}}catch(lb){this.Zo(r.L.m7a,{ja:r.K.Yh,ub:qa.$e(lb)});}};c.prototype.rda=function(a,b,c){var f,d,l;b=void 0 === b?this.VD.Bz():b;c=void 0 === c?this.xa.zb():c;f=! !y.config.P1a && !(b % y.config.P1a);d=a.la;l=a.Ba;a=a.Ta;b=this.noa(E.uG.index++,d,l,a,b,c,f,this.ga,this.oja);this.lS[d]=b;1 < this.Mx.length && (b.hq=this.i2.create(this,b,!1));b.NJ=new n.Tya(this,b);return d;};c.prototype.COa=function(a){return a?void 0:0;};c.prototype.am=function(a){return this.lS[a];};c.prototype.Ww=function(a){return this.Mx.find(function(b){return b.Ba === a;}) || this.ga;};c.prototype.Uwb=function(a){return this.Mx.find(function(b){var c,f;return (null === (f=null === (c=b.Td) || void 0 === c?void 0:c.JBb) || void 0 === f?void 0:f.sessionId) === a;}) || this.ga;};c.prototype.DKb=function(a,b){var c,f;b=void 0 === b?!0:b;c=this;f=this.am(a);return this.ZYa(f).then(function(a){var d;if(!c.Ab)throw new Ha.Dc(r.L.M9,r.K.w2a);c.NWa(a,f);a=[f.vc.eLa,f.vc.iLa];d=!1;try{d=! !c.Ab.EO(f.ta.Tc,{nSb:a,replace:!1,T:f.Ta.T,qa:f.Ta.qa,JE:!0,gi:!f.lx,oIa:b,UY:c.xP(f.u),Bzb:!0},f.Ba);}catch(Mb){throw Ha.Dc.X_(r.L.M9,Mb);}if(!d)throw new Ha.Dc(r.L.M9,r.K.x2a);return f.lx?c.Gb.nk.$Xa(f):Promise.resolve();})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.dj(a.code,a);});};c.prototype.xub=function(){if(ga.pa(this.Ed.ats) && ga.pa(this.Ed.at))return this.Ed.at - this.Ed.ats;};c.prototype.MNa=function(){var a,b;a=this.WT();b=this.MO();return Math.min(a,b);};c.prototype.mT=function(){this.background || (this.xe.info("Starting inactivity monitor for movie " + this.u),new L.kxa(this));};c.prototype.close=function(a){a && (this.state.value == ia.yb.CLOSED?a():this.addEventListener(ia.V.closed,function(){a();}));this.Yqa();};c.prototype.sd=function(a,b,c,f){a=this.dj(a,b,c);this.hD(a,f);};c.prototype.hD=function(a,b){var c,f,d,l;c=this;if(this.state.value == ia.yb.nG)this.Ej || (this.Ej=a,this.load());else {b && (this.state.value == ia.yb.CLOSED?b():this.addEventListener(ia.V.closed,function(){b();}));f=function(){c.Yqa(a);};d=y.config.lLa && a && y.config.lLa[a.errorCode];l=-1;ga.kx(d) && (l=qa.Xd(d));this.xe.error("Fatal playback error",{Error:"" + a,HandleDelay:"" + d});0 <= l?setTimeout(f,l):f();}};c.prototype.NT=function(){this.Hb.cc(ia.V.NT);};c.prototype.Cp=function(a,b){b=void 0 === b?this.Ba:b;this.nWa.push(this.xa.zb().ba(U.fa) + "-" + b + "-" + a);};c.prototype.Atb=function(){this.aNa();};c.prototype.dja=function(){var a;a=this.Ab;return a && (a=a.Xw().id,void 0 !== a)?a:null;};c.prototype.Vz=function(){return void 0 !== this.ga.rZ && void 0 === this.Ab?this.ga.rZ:this.oja(this.fb.value,this.Ba);};c.prototype.cja=function(){var a;a=this.oja(this.Qh.kOa());return null === a?null:Math.min(this.Vt.ba(U.fa),Math.max(0,a));};c.prototype.j0=function(){var a,b;return null === (b=null === (a=this.ta) || void 0 === a?void 0:a.Tc.gr) || void 0 === b?void 0:b.Ua;};c.prototype.oTb=function(a){this.Ta=Aa.Qma(this.Ta,a);this.Oda();};c.prototype.$I=function(a){a=void 0 === a?this.u:a;return (a=this.am(a).Fg) && a.value?a.value.wc:[];};c.prototype.Kyb=function(a){for(var b=T(this.Mx),c=b.next();!c.done;c=b.next()){if(c=(c=c.value.ck) && c.find(function(b){return b.id === a;}))return c;}};c.prototype.EJb=function(a){a=void 0 === a?this.ga:a;a.Jc.value?this.hp.BJb(a.Jc.value):Promise.resolve();};c.prototype.RPa=function(a){for(var b=T(this.Mx),c=b.next();!c.done;c=b.next()){for(var c=T(c.value.po),f=c.next();!f.done;f=c.next()){if(f=f.value.wc.find(function(b){return b.Bd === a;}))return f;}}};c.prototype.bQa=function(a){for(var b=T(this.Mx),c=b.next();!c.done;c=b.next()){for(var c=T(c.value.Hn),f=c.next();!f.done;f=c.next()){if(f=(f=f.value) && f.wc.find(function(b){return b.Bd === a;}))return f;}}};c.prototype.kr=function(){var a,b,c;return null !== (c=null === (b=null === (a=this.B3) || void 0 === a?void 0:a.uP) || void 0 === b?void 0:b.call(a)) && void 0 !== c?c:this.Wnb().Oz;};c.prototype.FZa=function(a){var b;this.Ab && this.am(a) && ((null === (b=this.B3) || void 0 === b?0:b.uP)?this.B3.c1a():(b=this.xP(a),this.Ab.yq(b,a)));};c.prototype.rBb=function(){return "trailer" === this.Nd;};c.prototype.AAb=function(){return ! !this.Nd && 0 <= this.Nd.indexOf("billboard");};c.prototype.wBb=function(){return ! !this.Nd && 0 <= this.Nd.indexOf("video-merch");};c.prototype.VAb=function(){return ! !this.Nd && 0 <= this.Nd.indexOf("mini-modal");};c.prototype.bE=function(){return this.rBb() || this.AAb() || this.wBb() || this.VAb();};c.prototype.yia=function(){var d,l,q;if(this.Hn){for(var a,b=0;b < this.Hn.length;b++){for(var c=this.Hn[b],f=0;f < c.wc.length;f++){d=c.wc[f];if(ga.pa(d.Ufa) && ga.pa(d.BZ) && ga.pa(d.AZ) && ga.pa(d.zZ) && (0 < d.Ufa || 0 < d.BZ)){l=1;q=1;ga.pa(d.XVa) && ga.pa(d.YVa) && (l=d.XVa,q=d.YVa);d=d.zZ * q / (d.AZ * l);a=ga.pa(a)?Math.min(a,d):d;}}}return a;}};c.prototype.nxb=function(){return {tr:this.Gra,rt:this.Kpa};};c.prototype.Vw=function(a){return this.Ro[a];};c.prototype.Fjb=function(){return this.yl?this.xa.zb().ba(U.fa) - this.yl:this.wa.ve.ba(U.fa) - this.c0();};c.prototype.Iea=function(){var a;if(this.yl)return this.xa.zb().ba(U.fa) - this.yl;a=this.xa.fE;return this.fWa - (this.zk.ba(U.fa) + a.ba(U.fa));};c.prototype.Mjb=function(){return this.yl?this.xa.zb().ba(U.fa) - this.yl:this.fWa - this.c0();};c.prototype.SFb=function(a){var b,c;b=this.rf;c={};qa.Jd(a,function(a,f){c[a]=f.map(function(a){return a - b;});});return c;};c.prototype.Hub=function(){var a,b;a=this.rf;b={};qa.Jd(this.mea,function(c,f){b[c]=f.map(function(b){return b - a;});});return q.Nt?{level:q.Nt.DOa(),charging:q.Nt.wia(),statuses:b}:null;};c.prototype.I0=function(){this.$Ma();return this.YT;};c.prototype.c0=function(){var a;a=this.Ta.H5;a=ga.pa(a)?a:this.zk.ba(U.fa) + this.xa.fE.ba(U.fa);Y.lb(ga.jx(a));return a;};c.prototype.jja=function(){return this.xa.zb().ba(U.fa) - this.zk.ba(U.fa);};c.prototype.cPb=function(){this.YT.HasRA=!0;};c.prototype.NUb=function(){this.IPb=!0;};c.prototype.c3=function(){this.FXa();};c.prototype.WT=function(){var a;a=this.LY();return a && a.vbuflmsec || 0;};c.prototype.MO=function(){var a;a=this.LY();return a && a.abuflmsec || 0;};c.prototype.rsa=function(){var a;a=this.LY();return a && a.vbuflbytes || 0;};c.prototype.Vda=function(){var a;a=this.LY();return a && a.abuflbytes || 0;};c.prototype.ZYa=function(a){var b,c,f,d;a=void 0 === a?this.ga:a;b=this;c=y.config.U3.enabled?Ba.qj.U$:this.bE()?Ba.qj.rW:Ba.qj.Fl;c={ea:a.ea,Ta:a.Ta,la:a.u,yr:c};f=a.u !== this.ga.u;d=this.xa.zb().ba(U.fa);return this.qR.Le(this.log,c).then(function(c){var l;l=b.xa.zb().ba(U.fa);c.Zt && b.fireEvent(ia.V.EJ,{u:a.u});f && (c.SA=d,c.VE=l);return c;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.NWa=function(a,b){b=void 0 === b?this:b;b.ta=a;a=this.mma.create(this).VHb(a);b.vc=a;b.Fg.set(a.qga);b.Ad.set(a.KZ);b.Jc.set(a.pga);};c.prototype.mNa=function(a,b){this.RSa({u:a,M3:this.qD,aE:void 0 === b?!1:b});};c.prototype.nyb=function(a,b){this.am(a.la) || this.rda(a);this.mNa(a.la,!0);this.hD(b);};c.prototype.TPa=function(a,b){if(!this.pi.P5)return !0;a=this.Xr.ba(U.fa) - a;return 0 > a || a > b;};c.prototype.L1a=function(){var a;if(this.oz)return this.oz.osa;a=y.vfa(this.Nd);return a.En && a.BI;};c.prototype.NMb=function(){this.Qh.seek(this.Vz() || 0,ia.rd.TU);};c.prototype.RSa=function(a){var b,c;if(a.M3){if(a.u === this.qD)return;b=this.am(a.u);c=b.ta;c && ga.ic(c.SA) && ga.ic(c.VE) && b.cx({pr_ats:c.SA,pr_at:c.VE});this.fireEvent(ia.V.IJ,{u:this.qD});this.qD=a.u;this.Oda();a.aE || this.vYa();this.kJ=this.wa.N4;this.ga.yl || (this.ga.yl=this.xa.zb().ba(U.fa));}("boolean" === typeof this.Ta.CI?this.Ta.CI:y.config.CI) && !a.aE && this.Ora.CI(this);this.fireEvent(ia.V.iq,a);};c.prototype.Lnb=function(){try{this.qP=new F.Cua(this);this.hq=this.i2.create(this,this.ga,!0);y.config.bkb && new Wa.bwa(this,this.rh,this.log);y.config.hP && this.hP(this);this.pUb();}catch(fb){this.Zo(r.L.l7a,{ja:r.K.Yh,ub:qa.$e(fb)});}};c.prototype.pUb=function(){this.Ej?this.hD(this.Ej):ga.ala(this.u)?this.Akb():this.Zo(r.L.Y6a,{ub:"" + this.u});};c.prototype.Akb=function(){var a;a=h.kF.kZa;a?a.ia?this.ifa():this.Zo(r.L.gxa,a):(Y.lb(!y.config.n_),this.hda());};c.prototype.ifa=function(){var a;a=this;!this.background && y.config.ifa?E.v$(function(){a.hda();},this):this.hda();};c.prototype.hda=function(){var a;a=this;this.state.value == ia.yb.LOADING && (y.config.hha && !this.bE()?h.kF.Zv(E.zAa,function(b){b.ia?(a.f2=b.f2,y.config.J4?a.TO():a.nqa()):a.Zo(r.L.fxa);},!0):y.config.J4?this.TO():this.nqa());};c.prototype.nqa=function(){var a;a=this;this.state.value == ia.yb.LOADING && (this.vd("ic"),this.OIb.UNb(function(b){b.error && a.log.error("Error sending persisted playdata",r.Jq(b));try{a.TO();}catch($a){a.log.error("playback.authorize threw an exception",$a);a.Zo(r.L.N2a,{ja:r.K.Yh,ub:qa.$e($a)});}}));};c.prototype.TO=function(){var a,b;a=this;if(this.state.value == ia.yb.LOADING){this.log.info("Authorizing",this);b=this.xa.zb().ba(U.fa);this.vd("ats");this.qP.TO(function(c){var f;if(a.state.value == ia.yb.LOADING){a.vd("at");f=a.ta;a.cx({pr_ats:f && ga.ic(f.SA)?f.SA:b,pr_at:f && ga.ic(f.VE)?f.VE:a.xa.zb().ba(U.fa)});c.ia?0 < a.vc.ck.length && a.vc.KZ && a.vc.qga && a.vc.pga?a.jKb():a.Zo(r.L.S7a,a.nma(a.vc)):a.Zo(r.L.MANIFEST,c);}});}};c.prototype.jKb=function(){var a;a=this;this.qWa?(this.log.info("Processing post-authorize",this),this.qWa(this,function(b){b.ia?a.f1a():a.Zo(r.L.q7a,b);})):this.f1a();};c.prototype.f1a=function(){this.state.value == ia.yb.LOADING && (this.oz=this.Rda(this),this.oz.Hqa({Xf:f.Xf,config:y.config,Nc:this.Nc,xe:this.xe,Tr:this.Tr.bind(this),ph:D.ph}),this.qJb());};c.prototype.Iob=function(){var a,b,c,f,d,q;a=this;try{this.Gb=new l.Iya(this);this.Gb.open();b=new Promise(function(b){a.Gb.addEventListener(Na.Hi.a_a,b);});this.Qh=new S.Nya(this);c={Ud:function(){return a.fb.value;},Ym:function(){return a.playbackRate.value;},tQ:function(){return a.Gb;}};f={Mf:!1,HL:y.config.HL,O5:y.config.SP,lR:!1,gi:!this.lx,JE:! !this.Ta.I1,qa:this.Ta.qa,CUb:this.vc.KZ.Dn === N.Vn.NONE};d={GE:this.log,gm:this.gm,sessionId:this.u + "-" + this.ea,ea:this.ea,CE:this.Wk,ji:ba.ii?ba.ii.ji:void 0,Iw:0 === y.config.IP || 0 !== this.ea % y.config.IP?!1:!0};this.fMa=d.Iw;q=this.am(this.u).Ba;try{this.oz.mJ({Oh:f,zP:d,R:c,Ba:q,xP:this.xP.bind(this),tda:this.tda.bind(this)});this.oz.oea();}catch(Mb){throw (this.log.error("Failed to initialize ASE streaming",{error:Mb,startPts:this.T,flags:f}),Mb);}b.then(function(){a.state.value !== ia.yb.CLOSING && a.state.value !== ia.yb.CLOSED && a.Ab.open();});this.fb.set(this.T);this.hp=new u.WCa(this);if("boolean" === typeof this.Ta.f4?this.Ta.f4:y.config.f4)this.HT=new R.XCa(this);this.mT();E.x$.forEach(function(b){b(a);});this.YFb();}catch(Mb){this.Zo(r.L.n7a,{ja:r.K.Yh,ub:qa.$e(Mb)});}};c.prototype.ZFb=function(){Y.lb(this.state.value == ia.yb.nG);this.rf=this.xa.zb().ba(U.fa);this.state.set(ia.yb.LOADING);O._cad_global.prefetchEvents && O._cad_global.prefetchEvents.XIb(this.u);};c.prototype.Zo=function(a,b){this.done || (this.done=!0,b instanceof Ha.Dc?this.sd(b.code,b):this.sd(a,b));};c.prototype.hP=function(a){var c,f;function b(){var b,f;b=q.Nt.wia() + "";f=a.mea[b];f || (f=a.mea[b]=[]);f.push(c.xa.zb().ba(U.fa));c.log.trace("charging change event",{level:q.Nt.DOa(),charging:q.Nt.wia()});}c=this;f=q.Nt.Y3a;q.Nt.addEventListener(f,b);a.addEventListener(ia.V.Kf,function(){q.Nt.removeEventListener(f,b);});};c.prototype.Yqa=function(a){var b;b=this;if(this.state.value == ia.yb.nG || this.state.value == ia.yb.LOADING || this.state.value == ia.yb.yd){this.xe.info("Playback closing",this,a?{ErrorCode:a.WZ}:void 0);this.Cp("Closing");I.Re.removeListener(I.bm,this.OUa);this.Ej=a;this.$Ma();this.Ab && this.Ab.flush();try{this.Hb.cc(ia.V.Kf,{movieId:this.qD});}catch($a){this.xe.error("Unable to fire playback closing event",$a);}this.state.set(ia.yb.CLOSING);this.ga.rZ=this.Vz();this.B2a();this.IPb || va.uc(function(){return b.FXa();});}};c.prototype.aNa=function(){var a;a=this.fb.value;this.cCb != a && (!1,this.cCb=a,this.Hb.cc(ia.V.vra));};c.prototype.FXa=function(){var a,b;a=this;Y.lb(this.state.value == ia.yb.CLOSING);b=this.f2;this.f2=void 0;b?h.kF.release(b,function(b){Y.lb(b.ia);a.ofa();}):this.ofa();};c.prototype.B2a=function(){this.Ab && (this.Ab.close(),this.Ab.ac());this.Gk && this.Ej && this.Gk.dP();this.oz && this.oz.ac();delete this.oz;delete this.Ab;delete this.Gk;};c.prototype.ofa=function(){var a;this.ofa=x.$g;Y.lb(this.state.value == ia.yb.CLOSING);a=E.Pn.indexOf(this);Y.lb(0 <= a);E.Pn.splice(a,1);this.state.set(ia.yb.CLOSED);this.Hb.cc(ia.V.closed,void 0,!0);this.Hb.Ng();delete this.Td;this.ga.c3();};c.prototype.Oda=function(){this.Ta.playbackState && ("number" === typeof this.Ta.playbackState.volume && this.volume.set(Q.Nn(this.Ta.playbackState.volume,0,1)),"boolean" === typeof this.Ta.playbackState.muted && this.muted.set(this.Ta.playbackState.muted),"number" === typeof this.Ta.playbackState.playbackRate && this.playbackRate.set(Q.Nn(this.Ta.playbackState.playbackRate,0,2)));};c.prototype.$Ma=function(){this.Hb.cc(ia.V.OZa,{YT:this.YT});};c.prototype.wOb=function(a,b){var c;c=this.ck.filter(function(b){return b.id === a;})[0];c && this.zc[b].set(c);};c.prototype.Tr=function(){return {AudioBufferLength:this.MO(),VideoBufferLength:this.WT()};};c.prototype.LY=function(){if(this.Ab)return this.Ab.u1(!1);};c.prototype.YFb=function(){this.state.value == ia.yb.LOADING && this.state.set(ia.yb.yd);};c.prototype.Wnb=function(){var a,b,c;a=void 0 === a?this.u:a;b=this.$I(a);c=this.am(a);return Ma.kr(b,function(a){return c.NJ.us(a);});};c.prototype.xP=function(a){var b,c;a=void 0 === a?this.u:a;b=this.$I(a);c=this.am(a);return Ma.Eja(b,function(a){return c.NJ.us(a);});};pa.Object.defineProperties(c.prototype,{Mx:{configurable:!0,enumerable:!0,get:function(){return Object.values(this.lS);}},ga:{configurable:!0,enumerable:!0,get:function(){return this.lS[this.qD];}},vRa:{configurable:!0,enumerable:!0,get:function(){return 1 === this.Mx.length;}},T:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.YC?this.YC:this.Mx[0].Ta.T || 0;}},vc:{configurable:!0,enumerable:!0,get:function(){return this.ga.vc;},set:function(a){this.ga.vc=a;}},O_:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ta.O_;}},P_:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ta.P_;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ga.index;}},Ba:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ba;}},Td:{configurable:!0,enumerable:!0,get:function(){return this.ga.Td;},set:function(a){this.ga.Td=a;}},yl:{configurable:!0,enumerable:!0,get:function(){return this.ga.yl;},set:function(a){this.ga.yl=a;}},tw:{configurable:!0,enumerable:!0,get:function(){return this.ga.tw;},set:function(a){this.ga.tw=a;}},wz:{configurable:!0,enumerable:!0,get:function(){return this.ga.wz;},set:function(a){this.ga.wz=a;}},r1:{configurable:!0,enumerable:!0,get:function(){return this.ga.r1;},set:function(a){this.ga.r1=a;}},ta:{configurable:!0,enumerable:!0,get:function(){return this.ga.ta;},set:function(a){this.ga.ta=a;}},YC:{configurable:!0,enumerable:!0,get:function(){return this.ga.YC;},set:function(a){this.ga.YC=a;}},zT:{configurable:!0,enumerable:!0,get:function(){return this.ga.zT;},set:function(a){this.ga.zT=a;}},Ta:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ta;},set:function(a){this.ga.Ta=a;}},hq:{configurable:!0,enumerable:!0,get:function(){return this.ga.hq;},set:function(a){this.ga.hq=a;}},pn:{configurable:!0,enumerable:!0,get:function(){return this.ga.pn;}},u:{configurable:!0,enumerable:!0,get:function(){return this.ga.u;}},Nd:{configurable:!0,enumerable:!0,get:function(){return this.ga.Nd;}},po:{configurable:!0,enumerable:!0,get:function(){return this.ga.po;}},Hn:{configurable:!0,enumerable:!0,get:function(){return this.ga.Hn;}},fy:{configurable:!0,enumerable:!0,get:function(){return this.ga.fy;}},xl:{configurable:!0,enumerable:!0,get:function(){return this.ga.xl;}},yg:{configurable:!0,enumerable:!0,get:function(){return this.ga.yg;}},lx:{configurable:!0,enumerable:!0,get:function(){return this.ga.lx;}},js:{configurable:!0,enumerable:!0,get:function(){return this.ga.js;}},Yk:{configurable:!0,enumerable:!0,get:function(){return this.ga.Yk;}},ck:{configurable:!0,enumerable:!0,get:function(){return this.ga.ck;}},I3:{configurable:!0,enumerable:!0,get:function(){return this.ga.I3;}},Vt:{configurable:!0,enumerable:!0,get:function(){return this.ga.Vt;},set:function(a){this.ga.Vt=a;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.ga.ea;}},yi:{configurable:!0,enumerable:!0,get:function(){return this.ga.yi;}},zk:{configurable:!0,enumerable:!0,get:function(){return this.ga.zk;}},kJ:{configurable:!0,enumerable:!0,get:function(){return this.ga.kJ;},set:function(a){this.ga.kJ=a;}},Wk:{configurable:!0,enumerable:!0,get:function(){return this.ga.Wk;}},aF:{configurable:!0,enumerable:!0,get:function(){return this.ga.aF;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ga.background;},set:function(a){this.ga.background=a;}},Zfa:{configurable:!0,enumerable:!0,get:function(){return this.ga.Zfa;}},Ed:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ed;}},so:{configurable:!0,enumerable:!0,get:function(){return this.ga.so;}},Sga:{configurable:!0,enumerable:!0,get:function(){return this.ga.Sga;}},NJ:{configurable:!0,enumerable:!0,get:function(){return this.ga.NJ;}},sh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.u,TrackingId:this.yi,Xid:this.ea};}}});b.CAa=c;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.t_a=void 0;c=a(11);k=a(7);h=a(2);a(22);b.t_a=function(a){var b;k.ph("Storage");b={};a({ia:!0,storage:{load:function(a,c){var f;if(b.hasOwnProperty(a)){f=b[a];!1;c({ia:!0,data:f,i5:a});}else (!1,c({ja:h.K.Dy}));},save:function(a,c,f,d){f && b.hasOwnProperty(a)?d({ia:!1}):(b[a]=c,!1,d && d({ia:!0,i5:a}));},remove:function(a,f){delete b[a];!1;f && f(c.$d);}}});};},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.r_a=void 0;c=a(7);k=a(63);h=a(26);m=a(494);f=a(354);b.r_a=function(a){c.ha.get(k.Hs).create().then(function(b){a({ia:!0,storage:new m.J8(b,c.ha.get(h.Df)),Pp:c.ha.get(f.n7)});})["catch"](function(b){a(b);});};},function(d,b){function a(a,b){this.Lt=a;this.Nc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.J8=void 0;a.prototype.load=function(b,d){var c;c=this;this.Lt.load(b).then(function(b){d && d(a.E_a(b));})["catch"](function(a){d && d(c.pha(b,a));});};a.prototype.save=function(b,d,h,m){var c;c=this;this.Lt.save(b,d,h).then(function(){m && m(a.E_a({key:b,value:d}));})["catch"](function(a){m && m(c.pha(b,a));});};a.prototype.remove=function(a,b){var c;c=this;this.Lt.remove(a).then(function(){b && b({ia:!0,i5:a});})["catch"](function(d){b && b(c.pha(a,d));});};a.E_a=function(a){return {ia:!0,data:a.value,i5:a.key};};a.prototype.pha=function(a,b){return {ia:!1,i5:a,ja:b.ja,ub:b.cause?this.Nc.$e(b.cause):void 0};};b.J8=a;},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.s_a=void 0;c=a(494);k=a(7);h=a(352);m=a(26);b.s_a=function(a){a({ia:!0,storage:new c.J8(k.ha.get(h.L8),k.ha.get(m.Df))});};},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Nt=void 0;c=a(11);k=a(12);d=a(2);h=a(7);m=a(27);f=a(9);a=a(29);h.ha.get(a.ig).register(d.L.Rwa,function(a){var q,t,x;function d(){x && clearTimeout(x);a(c.$d);d=m.$g;}q=h.ph("BatteryManager");b.Nt={Y3a:"chargingchange",DOa:function(){return t?t.level:null;},wia:function(){return t?t.charging:null;},addEventListener:function(a,b){t && t.addEventListener(a,b);},removeEventListener:function(a,b){t && t.removeEventListener(a,b);}};if(k.config.hP){x=setTimeout(d,k.config.Gub);try{f.bi.getBattery().then(function(a){t=a;d();})["catch"](function(a){q.error("getBattery promise rejected",a);d();});}catch(z){q.error("exception on getBattery api call",z);d();}}else d();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K8=void 0;b.K8="LicenseBrokerFactorySymbol";},function(d,b,a){var k;function c(a,b){var c;c=this;this.POa=a;this.MUa=b;this.Bra=!1;this.Ex=function(){c.vi=void 0;c.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;k=a(27);c.prototype.update=function(a){var b,c,d;b=this.POa();if(this.r1a !== b){k.ic(b) && k.ic(this.duration) && b < this.duration && this.entries && (d=this.iUa || this.entries[Math.floor(b * this.QRb)] || this.entries[0]);if(d){for(;d && d.endTime < b;){d=d.next;}for(;d && d.previous && d.previous.endTime >= b;){d=d.previous;}}d && (d.startTime <= b && b <= d.endTime?(c=d,this.k1a(d.endTime - b)):this.k1a(d.startTime - b));this.iUa=d;this.r1a=b;this.jda !== c && (this.jda=c,!a && this.MUa && this.MUa());}};c.prototype.start=function(){this.Bra=!0;this.update();};c.prototype.rZa=function(a){this.iUa=this.jda=this.r1a=void 0;this.duration=(this.entries=a) && Math.max.apply(Math,[].concat(ea(a.map(function(a){return a.endTime;})))) || 0;this.QRb=a && a.length / this.duration || 0;this.update();};c.prototype.stop=function(){this.Bra=!1;this.jj();};c.prototype.kub=function(){this.update(!0);return this.jda;};c.prototype.k1a=function(a){this.jj();this.Bra && 0 < a && (this.vi=setTimeout(this.Ex,a + c.B8a));};c.prototype.jj=function(){this.vi && (clearTimeout(this.vi),this.vi=void 0);};b.YCa=c;c.B8a=10;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Jwa=void 0;c=a(14);k=a(68);b.Jwa=function(a){function b(b){a.fireEvent(c.V.Hz,{response:b,u:a.ga.u});}return {download:function(c,d){c.j=a;c=k.cf.download(c,d);c.kda(b);return c;}};};},function(d,b,a){var c,k,h,m,f,q,l,u,t;Object.defineProperty(b,"__esModule",{value:!0});b.kxa=void 0;c=a(12);k=a(50);h=a(2);m=a(501);f=a(9);q=a(15);l=a(14);u=a(7);t=a(157);b.kxa=function(a){var d,x,g,I;function b(){a.state.value !== l.yb.yd || a.Xb.value !== l.tb.rj && a.Xb.value !== l.tb.Os?x.jj():x.zD();}d=c.config.gIb;if(!a.bE() && d){x=u.ha.get(t.dN)(d,function(){a.fireEvent(l.V.gJ,h.L.UV);});a.Xb.addListener(b);a.state.addListener(b);if(c.config.uka){I=k.hi();g=new m.yBa(c.config.uka,function(){var b,q;b=k.hi();q=b - I;q > d && (a.fireEvent(l.V.gJ,h.L.tV),g.FJa());q > 2 * c.config.uka && (a.vka=f.Cm(q,a.vka || 0));I=b;});g.ZOb();}a.addEventListener(l.V.Kf,function(){x.jj();q.ic(g) && g.FJa();});}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;b.yBa=function(a,b){var c;this.ZOb=function(){c || (c=setInterval(b,a));};this.FJa=function(){c && (clearInterval(c),c=void 0);};};},function(d,b,a){var k,h,m,f,q,l,u;function c(a){var b,c,d,l;b=this;this.j=a;this.uP=void 0;this.Gba=m.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.wba=m.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.mba=m.createElement("DIV","width:100%;text-align:center");this.Nab=this.yba("Audio Bitrate");this.bda=this.yba("Video Bitrate");this.qba=this.yba("CDN");this.$N={};this.L0=f.ha.get(q.Dl);this.Gba.appendChild(this.wba);this.wba.appendChild(this.mba);c=m.createElement("BUTTON",void 0,"Override");c.addEventListener("click",this.Fab.bind(this),!1);this.mba.appendChild(c);c=m.createElement("BUTTON",void 0,"Reset");c.addEventListener("click",this.cfb.bind(this),!1);this.mba.appendChild(c);d=this.keb.bind(this);h.Re.addListener(h.Zz,d);a.addEventListener(u.V.iq,function(){b.$N={};});a.addEventListener(u.V.Kf,function(){h.Re.removeListener(h.Zz,d);});l=this.Neb.bind(this);a.zc.forEach(function(a){a.addListener(l);});a.Ad.addListener(l);a.Fg.addListener(l);}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;k=a(56);h=a(59);m=a(27);f=a(7);q=a(35);l=a(126);u=a(14);c.prototype.show=function(){this.vO || (this.gGa(),this.j.Qf.appendChild(this.Gba),this.vO=!0);};c.prototype.Zp=function(){this.vO && (this.j.Qf.removeChild(this.Gba),this.vO=!1);};c.prototype.toggle=function(){this.vO?this.Zp():this.show();};c.prototype.c1a=function(){var c,f,d;function a(a,b,c){var f,d,l;l=[];b.filter(function(b){return b.Yf === a;}).forEach(function(a){0 <= c.indexOf(a)?(void 0 === f?f=a.S:d=a.S,void 0 === d && (d=a.S)):void 0 !== f && void 0 !== d && (l.push({min:f,max:d}),f=d=void 0);});void 0 !== f && void 0 !== d && (l.push({min:f,max:d}),f=d=void 0);return l;}function b(a,b,c){var f;f=[];b.filter(function(b){return b.Yf === a;}).forEach(function(a){-1 === c.indexOf(a) && f.push({stream:{bitrate:a.S},disallowedBy:["manual"]});});return f;}c=this.j.kr();f=this.j.$I().sort(function(a,b){return a.S - b.S;});d=f.reduce(function(a,b){0 > a.indexOf(b.Yf) && a.push(b.Yf);return a;},[]).map(function(d){return {profile:d,ranges:a(d,f,c),disallowed:b(d,f,c)};});!1;this.j.Ab.yq(d,this.j.u);};c.prototype.Fab=function(){var c,f,a,b;this.$N={};for(var a=this.bda.options,b=a.length;b--;){c=a[b];c.selected && (this.$N[c.value]=1);}this.uP=this.pbb.bind(this);this.c1a();if(a=this.j.ck){f=this.qba.value;a=a.filter(function(a){return a.id == f;})[0];b=this.j.zc[k.Ac.Sa.VIDEO].value;a && a != b && (a.lJa={testreason:"streammanager",selreason:"userselection"},this.j.zc[k.Ac.Sa.VIDEO].set(a));}this.Zp();};c.prototype.cfb=function(){this.uP=void 0;this.j.FZa(this.j.u);this.Zp();};c.prototype.pbb=function(){var a;a=this;return this.j.$I().filter(function(b){return a.$N[b.S];});};c.prototype.gGa=function(){var a,b,c,f;a=this;b=this.j.Ad.value;c=this.j.Fg.value;f=this.j.ck;b && (f=f.slice(),f.sort(function(a,b){return a.bg - b.bg;}),this.Lca(this.Nab,b.wc.map(function(b){return {value:b.S,caption:b.S,selected:b == a.j.Sl.value};})));c && (this.Lca(this.bda,c.wc.map(function(b){var c,f;c=a.j.NJ.us(b);b=b.S;f="" + b;c && (f+=" (" + c.join("|") + ")");return {value:b,caption:f,selected:a.uP?a.$N[b]:!c};})),this.bda.removeAttribute("disabled"));f && (this.Lca(this.qba,f.map(function(b){return {value:b.id,caption:"[" + b.id + "] " + b.name,selected:b == a.j.zc[k.Ac.Sa.VIDEO].value};})),this.qba.removeAttribute("disabled"));};c.prototype.Neb=function(){this.vO && this.gGa();};c.prototype.yba=function(a){var b,c;b=m.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=m.createElement("DIV",void 0,a);c=m.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);this.wba.appendChild(b);return c;};c.prototype.Lca=function(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected && (c.selected="selected");c=m.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});};c.prototype.keb=function(a){a.ctrlKey && a.altKey && a.shiftKey && a.keyCode == l.Qs.g$a && this.L0.hla && this.toggle();};b.HAa=c;},function(d,b,a){var k,h,m,f,q;function c(a,b){this.Tha=a;this.yD={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=k.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.qZa(b);this.jNa=this.Lvb(this.Tha);}Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;k=a(27);h=a(504);m=a(505);f=a(9);q=a(22);c.prototype.Io=function(){return this.element;};c.prototype.qOb=function(a){this.Tda=a;};c.prototype.COb=function(a){this.Je=a;this.FK();};c.prototype.IOb=function(a){this.qZa(a);this.FK();};c.prototype.FK=function(){var a,b,f,d,q,g,B,L,I,E,n,R,M,D;a=this;b=this.Io();f=b.parentElement;d=f && f.clientWidth || 0;q=f && f.clientHeight || 0;g=f=0;B={width:d,height:q};if(0 < d && 0 < q && this.Je){this.Tda && (B=k.KI(d,q,this.Tda),f=Math.round((d - B.width) / 2),g=Math.round((q - B.height) / 2));L=this.Qjb(B);E=k.KI(L.width,L.height,this.Tda);L=(I=this.Je.blocks) && I.map(function(b){var f;f=m.jha(b,E,a.Tha,a.jNa);b=m.wMa(b) + ";position:absolute";return k.createElement("div",b,f,c.Y6);});}Object.assign(this.yD,{left:f + "px",right:f + "px",top:g + "px",bottom:g + "px"});b.style.display="none";b.style.direction=this.yD.direction;b.innerHTML="";if(L && L.length){d=B.width;f=B.height;n=B;this.ZO && (n=this.ggb(B,this.ZO,q,g));this.yD.margin=this.kq?this.cZ(B,"top") + "px " + this.cZ(B,"right") + "px " + this.cZ(B,"bottom") + "px " + this.cZ(B,"left") + "px ":void 0;L.forEach(function(a){return b.appendChild(a);});q=k.lD(this.yD);b.style.cssText=q + ";visibility:hidden;z-index:-1";for(var g=[],p=L.length - 1;0 <= p;p--){R=L[p];M=I[p];D=this.qUa(R,M,d,f);D.width > d && (R.innerHTML=m.jha(M,B,this.Tha,this.jNa,d / D.width),D=this.qUa(R,M,d,f));g[p]=D;}g=h.X0a(g,n);if(p=I && I[0] && I[0].textNodes && I[0].textNodes[0] && I[0].textNodes[0].style)(n=p.windowColor,p=p.windowOpacity,n && 0 < p && (B=m.yMa(I,g,Math.round(f / 50),n,B),B=k.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + p,B,c.Y6),b.insertBefore(B,b.firstChild)));b.style.display="none";for(B=g.length - 1;0 <= B;B--){n=L[B].style;p=m.xMa(I[B].region,g[B],d,f,0);Object.assign(n,p);}b.style.cssText=q;}};c.prototype.Eqa=function(a){this.ZO=a;this.FK();};c.prototype.zja=function(){return this.ZO;};c.prototype.Fqa=function(a){this.kq=a;this.FK();};c.prototype.Aja=function(){return this.kq;};c.prototype.Bja=function(){return "block" === this.yD.display;};c.prototype.Gqa=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.yD.display=b;a && this.FK();};c.prototype.Lvb=function(a){var b,c;b=this;c={};q.Jd(a,function(a,f){c[a]=b.oEb(f);});return c;};c.prototype.qZa=function(a){this.yD.direction="boolean" === typeof a?a?"ltr":"rtl":"inherit";};c.prototype.cZ=function(a,b){if(this.kq){if("left" === b || "right" === b)return a.width * (this.kq[b] || 0);if("top" === b || "bottom" === b)return a.height * (this.kq[b] || 0);}return 0;};c.prototype.Qjb=function(a){return this.kq?{height:a.height * (1 - (this.kq.top || 0) - (this.kq.bottom || 0)),width:a.width * (1 - (this.kq.left || 0) - (this.kq.right || 0))}:a;};c.prototype.oEb=function(a){var b;a=k.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + a + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Y6);f.Fe.body.appendChild(a);b={fontSize:1E3,height:a.clientHeight,width:a.clientWidth / 52,lineHeight:a.clientHeight / 1E3};f.Fe.body.removeChild(a);return b;};c.prototype.qUa=function(a,b,c,f){var d,l,q,h,m;d=b.region;l=(d.marginTop || 0) * f;q=(d.marginBottom || 0) * f;h=(d.marginLeft || 0) * c;m=(d.marginRight || 0) * c;b=a.clientWidth || 1;a=a.clientHeight || 1;switch(d.verticalAlignment){case "top":f=l;break;case "center":f=(l + f - q - a) / 2;break;default:f=f - q - a;}switch(d.horizontalAlignment){case "left":c=h;break;case "right":c=c - m - b;break;default:c=(h + c - m - b) / 2;}return {top:f,left:c,width:b,height:a};};c.prototype.ggb=function(a,b,c,f){return {height:c - Math.max(f,b.bottom || 0) - Math.max(f,b.top || 0),width:a.width};};b.VCa=c;c.Y6={"class":"player-timedtext-text-container"};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.X0a=void 0;c=a(9);b.X0a=function(a,b){function d(a,b,d){var k,t,g,n;if(a && 1 < a.length){for(var l=[],q=[],h=0;h < a.length;h++){l[h]=0;q[h]=0;}for(var m=!1,h=0;h < a.length;h++){for(var u=h + 1;u < a.length;u++){t=a[h];g=a[u];if(0 > t.width || 0 > g.width || g.left > t.left + t.width || g.left + g.width < t.left || g.top > t.top + t.height?0:g.top + g.height >= t.top){k=c.Cm(t.left,g.left);n=c.Cm(t.top,g.top);k={width:c.Cm(c.Mn(t.left + t.width,g.left + g.width) - k,0),height:c.Cm(c.Mn(t.top + t.height,g.top + g.height) - n,0),x:k,y:n};}else k=void 0;if(k && 1 < k.width && 1 < k.height)if((n=k.width <= k.height,t=f(a[h]),g=f(a[u]),n && b || !n && !b))(k=c.Cm(k.width / 2,.25),t.x <= g.x?(q[h]-=k,q[u]+=k):(q[u]-=k,q[h]+=k));else if(n && !b || !n && b)(t=c.Cm(k.height / 2,.25),l[h]-=t,l[u]+=t);}}for(h=0;h < a.length;h++){if(-.25 > q[h] && 0 <= a[h].left + q[h] || .25 < q[h] && a[h].left + a[h].width + q[h] <= d.width)(a[h].left+=q[h],m=!0);if(-.25 > l[h] && 0 <= a[h].top + l[h] || .25 < l[h] && a[h].top + a[h].height + l[h] <= d.height)(a[h].top+=l[h],m=!0);}return m;}}function f(a){return {x:a.left + a.width / 2,y:a.top + a.height / 2};}a=a.map(function(a){return {top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0 > a.left && a.left + a.width < b.width?a.left+=c.Mn(-a.left,b.width - (a.left + a.width)):a.left + a.width > b.width && 0 < a.left && (a.left-=c.Mn(a.left + a.width - b.width,a.left));0 > a.top && a.top + a.height < b.height?a.top+=c.Mn(-a.top,b.height - (a.top + a.height)):a.top + a.height > b.height && 0 < a.top && (a.top-=c.Mn(a.top + a.height - b.height,a.top));});})(a,b);for(var q=0;50 > q && d(a,!0,b);q++){;}for(q=0;50 > q && d(a,!1,b);q++){;}return a;};},function(d,b,a){var q,l,u,t;function c(a,b,c,f,d){var l;l={};"right" == a.horizontalAlignment?l.right=100 * (c - b.left - b.width - d) / c + "%":l.left=100 * (b.left - d) / c + "%";"bottom" == a.verticalAlignment?l.bottom=100 * (f - b.top - b.height - d) / f + "%":l.top=100 * (b.top - d) / f + "%";return l;}function k(a,b){var c;if(a && b){40 === b.x && 19 === b.y?c=4 / 3 / (40 / 19):52 === b.x && 19 === b.y && (c=16 / 9 / (52 / 19));if(c)return a.width / a.fontSize / c;}}function h(a,b,c,f,d){var l,q;l=a.style;q=u.IQ(a.text);for(a=a.lineBreaks;a--;){q="<br />" + q;}return m(q,l,b,c,f,d);}function m(a,b,c,d,h,m){var u;u=b.characterStyle;h=h[u];d=b.characterSize * d.height / ((0 <= u.indexOf("MONOSPACE")?k(h,b.cellResolution) || h.lineHeight:h.lineHeight) || 1);d=0 < m?t.sv(d * m):t.ai(d);m={"font-size":d + "px","line-height":"normal","font-weight":"normal"};b.characterItalic && (m["font-style"]="italic");b.characterUnderline && (m["text-decoration"]="underline");b.characterColor && (m.color=b.characterColor);b.backgroundColor && 0 !== b.backgroundOpacity && (m["background-color"]=f(b.backgroundColor,b.backgroundOpacity));d=b.characterEdgeColor || "#000000";switch(b.characterEdgeAttributes){case l.q3:m["text-shadow"]=d + " 0px 0px 7px";break;case l.Una:m["text-shadow"]="-1px 0px " + d + ",0px 1px " + d + ",1px 0px " + d + ",0px -1px " + d;break;case l.zVa:m["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case l.xVa:m["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}m=q.lD(m);(c=c[b.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (m+=";" + c);b=b.characterOpacity;0 < b && 1 > b && (a='<span style="opacity:' + b + '">' + a + "</span>");return '<span style="' + m + '">' + a + "</span>";}function f(a,b){a=a.substring(1);a=parseInt(a,16);return "rgba(" + (a >> 16 & 255) + "," + (a >> 8 & 255) + "," + (a & 255) + "," + (void 0 !== b?b:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=b.Xrb=b.Vrb=b.Yrb=b.Wrb=b.xMa=b.yMa=b.jha=void 0;q=a(48);l=a(257);u=a(22);t=a(9);b.jha=function(a,b,c,f,d){var l;l="";a.textNodes.forEach(function(a){l+=h(a,c,b,f,d);});return l;};b.yMa=function(a,b,f,d,l){var q,h,k,g,x;q="";h=l.width;l=l.height;for(var m=b.length;m--;){k=b[m];g=a[m];g=g && g.region;x="position:absolute;background:" + d + ";width:" + t.ai(k.width + 2 * f) + "px;height:" + t.ai(k.height + 2 * f) + "px;";u.Jd(c(g,k,h,l,f),function(a,b){x+=a + ":" + b + ";";});q+='<div style="' + x + '"></div>';}return q;};b.xMa=c;b.Wrb=k;b.Yrb=h;b.Vrb=m;b.Xrb=f;b.wMa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case "left":b["text-align"]="left";break;case "right":b["text-align"]="right";break;default:b["text-align"]="center";}return q.lD(b);};},function(d,b,a){var c,k,h,m,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;c=a(11);k=a(12);h=a(50);m=a(110);f=a(9);q=a(55);l=a(15);u=a(14);b.AAa=function(a){var g,L,I,E,n,p;function b(){return a.state.value === u.yb.LOADING || a.state.value === u.yb.yd && a.Xb.value === u.tb.kg;}function d(){b()?p || (p=setInterval(t,100)):p && (clearInterval(p),p=void 0,q.uc(t));}function t(){var c,d,q,t,x,z,y,B;c=h.hi();d=g.value;q=d?d.ri:0;x=a.state.value == u.yb.LOADING || b() && c - L > k.config.rjb;x && a.state.value == u.yb.yd?(a.Qm.value === u.Ce.NBa?(y=q,z=!0):(t=c + (a.gm && a.gm.mzb() || 0),I=I || c,E=E || I + k.config.VEb + 1,l.pa(t) && (t=f.Cm(t,E),y=a.gm?a.gm.x3b():.99,y=f.ai(1E3 * m.Nn((c - I) / (t - I),0,y)) / 1E3)),y < q && (q - y < k.config.pKb / 100?(y=q,n=void 0):n?c - n > k.config.oKb?(B=!0,n=void 0):y=q:(n=c,y=q))):n=E=I=void 0;c=x?{e5:z,ri:y,qKb:B}:null;(!c || !g || !d || l.pa(c.ri) && !l.pa(d.ri) || l.pa(c.ri) && l.pa(d.ri) && .01 < f.NB(c.ri - d.ri) || c.e5 !== d.e5) && g.set(c);}g=a.Dea;L=0;a.state.addListener(function(){d();t();},c.SV);a.Xb.addListener(function(a){if(a.oldValue !== u.tb.kg || a.newValue !== u.tb.kg)L=h.hi();d();});a.Qm.addListener(function(){d();});a.qo.addListener(function(){d();});a.wl.addListener(function(){d();});p || (p=setInterval(t,100));};},function(d,b,a){var k,h,m,f,q,l,u,t,g,z,y,B,L,I,E,n,p,R,M,D,U,r,la,Y;function c(a){var b;b=this;this.j=a;this.Gb=this.j.Gb;this.log=t.Pg(this.j,"MediaPresenterASE");this.T2=this.HZ=0;this.oa=this.Gb.oa;this.$Va=this.QVa=this.moa=!1;this.sRb=t.ha.get(D.fC)(M.Jb(p.pW));this.JH=void 0;this.vn=t.ha.get(r.gaa)(this.j);this.cv={};this.uTa={};this.HPa={};this.Pf=new Y.Dya(this.j);this.qRb=function(){var a,c,f;b.j.zT=u.hi();if(!b.Xi() && b.dm){a=b.Gb.dPa();a || (b.tIb(),b.Pf.Rra(b.fb));b.j.paused.value || !b.Pf.mga(b.fb) || !b.Aea() || a || b.vn.$ka?b.Rpa():b.moa || b.Spa();b.sIb();if(!b.Gb.dPa()){a=b.Gb.oQ(!0);c=b.j.Xb.value;f=b.ulb();c !== f && !1;f === E.tb.Os?(b.fb=b.j.Xr.ba(M.fa),b.Rpa()):f !== E.tb.kg && b.mTb(a);b.m1a();b.Pf.Tea(b.fb);b.j.Xb.set(f);f !== E.tb.kg || c !== E.tb.Wc && c !== E.tb.rj || b.fHb();}}};this.vl=la.TWa(this.qRb);this.fb=a.T;this.j.Sk=!1;this.Gb.addEventListener(R.Hi.$Za,function(){b.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.Ib();}catch(va){b.log.error("Exception while initializing",va);b.sd(g.L.r9a);}});}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;k=a(56);h=a(11);m=a(12);f=a(58);q=a(59);l=a(48);u=a(50);t=a(7);a(89);g=a(2);z=a(322);y=a(18);B=a(110);L=a(27);I=a(55);E=a(14);n=a(15);p=a(166);R=a(274);M=a(4);D=a(102);U=a(157);r=a(508);la=a(1122);Y=a(1123);c.prototype.kOa=function(){return this.Gb.oQ(!1);};c.prototype.ND=function(){return this.Gb.ND();};c.prototype.MD=function(){return this.Gb.MD();};c.prototype.nQ=function(){return this.Gb.nQ();};c.prototype.q0=function(){return this.Gb.q0();};c.prototype.Ib=function(){var a;a=this;this.log.trace("Video element initializing");this.Gb.sourceBuffers.forEach(function(b){return a.Pf.VOb(b);});this.Yzb(this.j.lx);};c.prototype.Yzb=function(a){var f;function b(){function a(a){var b,c;a=void 0 === a?!0:a;c=f.j.Ab && f.j.Ab.Rja();f.j.Xb.value == E.tb.kg && f.j.state.value == E.yb.yd && f.j.qo.value == E.Ce.yd && f.j.wl.value == E.Ce.yd && !f.j.Sk && c?(a && f.JZ.jj(),f.JZ.zD(),b="ensureTimer"):(f.JZ.jj(),b="stopTimer");f.log.trace("Timer update: " + b,{presentingState:E.tb[f.j.Xb.value],playbackState:E.yb[f.j.state.value],avBufferingState:E.Ce[f.j.qo.value],textBufferingState:E.Ce[f.j.wl.value],autoplayWasBlocked:f.j.Sk,hasLicense:c,restartTimer:a});}m.config.aLa && (y.lb(!f.JZ),f.JZ=t.ha.get(U.dN)(m.config.aLa,function(){var a;a=t.ha.get(z.h7).bqb(f.j);f.sd(a.code,a);}),f.j.Xb.addListener(function(){return a();}),f.j.qo.addListener(function(){return a();}),f.j.wl.addListener(function(){return a();}),f.j.state.addListener(function(){return a();}),f.j.addEventListener(E.V.bSa,function(){return a();}),f.j.addEventListener(E.V.Sk,function(){return a();}),f.j.addEventListener(E.V.dea,function(){return a();}),f.j.addEventListener(E.V.TE,function(){return a(!0);}),a());}function c(){f.closed || (c=y.Bta,f.Gb.addEventListener(R.Hi.RS,f.cv[R.Hi.RS]=function(){return f.jHb();}),f.Gb.addEventListener(R.Hi.Np,f.cv[R.Hi.Np]=function(){return f.g3();}),f.oa.addEventListener("ended",f.cv.ended=function(){return f.UGb();}),f.oa.addEventListener("play",f.cv.play=function(){return f.aHb();}),f.oa.addEventListener("pause",f.cv.pause=function(){return f.ZGb();}),f.oa.addEventListener("playing",f.cv.playing=function(){return f.dHb();}),f.dm=!0,f.j.vRa && (f.Pf.Rra(f.fb),f.log.trace("Video element initialization complete"),f.j.vd("vi"),m.config.mLa?setTimeout(function(){f.Dna=!0;f.vl();},m.config.mLa):f.Dna=!0,b(),I.uc(function(){return f.vl();})));}f=this;a?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.u}),this.j.Ab.MP("" + this.j.u));this.log.trace("Waiting for loadedmetadata");this.Gb.addEventListener(R.Hi.fSa,function(a){a=a.la;f.j.vd("ld",a);f.j.Ab.MP("" + a);f.j.fireEvent(E.V.bSa);});l.gHa(this.oa,"loadedmetadata",function(){f.log.trace("Video element event: loadedmetadata");f.j.vd("md");});q.Re.addListener(q.bm,this.HPa[q.bm]=function(){return f.close();},h.WB);this.j.addEventListener(E.V.Kf,function(){return f.close();},h.WB);this.j.addEventListener(E.V.BYa,function(){return f.Spa();});this.j.addEventListener(E.V.iq,function(){return f.XGb();});this.j.paused.addListener(function(){return f.vl();});this.j.muted.addListener(function(){return f.isa();});this.j.volume.addListener(function(){return f.isa();});this.j.playbackRate.addListener(function(){return f.K5();});this.j.qo.addListener(function(){return f.vl();});this.j.wl.addListener(function(){return f.vl();});this.isa();this.K5();this.Pf.Q4(function(){return f.w2();});this.w2();I.uc(function(){c();});};c.prototype.IY=function(a){var b;b=this;!1;this.Pf.rhb(a);this.nkb(a).then(function(){b.w2();b.j.fireEvent(E.V.v2);})["catch"](function(a){b.sd(g.L.w9a,{ub:L.$e(a)});});};c.prototype.Jda=function(a,b,c){c=void 0 === c?{}:c;this.Pf.phb(a,b,c);this.w2();this.QVa || a.type !== k.Ac.Zh.VIDEO || (this.vn.$ka || this.seek(this.j.T,E.rd.pv),this.QVa=!0);};c.prototype.w2=function(){this.dm?this.vl():m.config.qhb && this.Pf.Rra(this.fb);};c.prototype.g0=function(){return this.Pf.g0();};c.prototype.jGb=function(){var a,b;a=this.j.Vz() || 0;if(this.j.Ta.mk){if(m.config.ejb)(a=a - (this.Gb.eqa + 1) - m.config.dqa,b=this.j.Ab.Xw().Wb,a=Math.max(a,b));}else (a-=m.config.DNb,a=Math.max(a,this.vn.Ala));this.seek(a,E.rd.yG);};c.prototype.d3=function(a){var b;b=this;this.Pf.XOb(a);I.uc(function(){return b.vl();});};c.prototype.$vb=function(){return {HZ:this.HZ,T2:this.T2};};c.prototype.nkb=function(a){var b;b=this.Gb && this.Gb.OOa();this.j.Xr && b && Infinity !== a.SYa && (a=a.SYa + a.qn,a > this.j.Xr.vWa(M.fa) && (this.j.Xr=M.Jb(a)));return Promise.resolve();};c.prototype.sIb=function(){var a;a=this;this.vn.u3 && (!1,this.Aea() && this.Pf.mga(this.fb) && (this.Gb.seek(this.fb),this.vn.u3=!1,I.uc(function(){return a.vl();})));};c.prototype.mTb=function(a){var b;if(a < this.fb){b=this.fb - a;m.config.uIb && a && b > p.pW && (a={ElementTime:B.Dh(a),MediaTime:B.Dh(this.fb)},b > p.uBa?this.sd(g.L.H9a,{ub:Object.assign({Trace:this.Gb.Yw()},a)}):this.log.warn("VIDEO.currentTime became smaller",a));}else this.fb=B.Nn(a,0,this.j.Xr.ba(M.fa));};c.prototype.Aea=function(){return this.j.qo.value === E.Ce.yd && this.j.wl.value === E.Ce.yd;};c.prototype.ulb=function(){var a,b,c;a=this;b=this.j.Xb.value;c=b;this.vn.$ka?c=E.tb.kg:this.oa && this.oa.ended?b === E.tb.Wc && (c=E.tb.Os):this.Aea() && this.Pf.mga(this.fb)?this.Gb.cqb()?c=this.oa && this.oa.paused?E.tb.rj:E.tb.Wc:this.sRb.Vc(function(){return a.rRb();}):c=this.j.Xr?this.j.TPa(this.fb,this.Pf.GZ())?E.tb.kg:E.tb.Os:E.tb.kg;return c;};c.prototype.fHb=function(){var a;if(this.j.Xb.value === E.tb.kg){a=this.Pf.$Rb() > this.Pf.GZ();this.j.wl.value !== E.Ce.yd?this.j.Yj.value?(this.j.fireEvent(E.V.ow,{cause:f.yAa}),this.log.warn("rebuffer due to timed text",this.j.Yj.value.sh)):this.j.fireEvent(E.V.zL):a?(this.HZ++,this.j.fireEvent(E.V.ow,{cause:f.r$})):(this.T2++,this.j.fireEvent(E.V.ow,{cause:f.s$}));}};c.prototype.rRb=function(){this.Xi() || (m.config.mGb && this.Pf.lGb(),this.vl());};c.prototype.jHb=function(){this.vl();};c.prototype.g3=function(){this.vl();this.j.fireEvent(E.V.Np);};c.prototype.UGb=function(){this.log.trace("Video element event: ended");this.vl();};c.prototype.aHb=function(){this.log.trace("Video element event: play");this.vl();};c.prototype.ZGb=function(){this.log.trace("Video element event: pause");this.vl();};c.prototype.dHb=function(){this.log.trace("Video element event: playing");this.vl();};c.prototype.isa=function(){this.Xi() || (this.oa && this.oa.volume !== this.j.volume.value && (this.oa.volume=this.j.volume.value),this.oa && this.oa.muted !== this.j.muted.value && (this.oa.muted=this.j.muted.value));};c.prototype.K5=function(){!this.Xi() && this.oa && (this.oa.playbackRate=this.j.playbackRate.value);};c.prototype.Spa=function(){var a;a=this;this.Xi() || !n.ic(this.oa) || this.oa.ended || !this.Dna || !this.JL && void 0 !== this.JL || (this.log.trace("Calling play on element"),Promise.resolve(this.oa.play()).then(function(){a.closed || (a.JL=!1,a.moa=!1,a.oa.style.display=null,a.j.Sk=!1,a.j.fireEvent(E.V.dea,{j:a.j}));})["catch"](function(b){"NotAllowedError" === b.name?(a.log.warn("Playback is blocked by the browser settings",b),a.j.Sk=!0,a.closed || (a.moa=!0,a.oa.style.display="none",a.j.fireEvent(E.V.Sk,{player:{play:function(){return a.Spa();}}}))):a.closed || (a.JL=!1,a.$Va || (a.$Va=!0,a.log.error("Play promise rejected",b)));}));};c.prototype.XGb=function(){this.vn.Ala=this.j.Vz() || 0;};c.prototype.Rpa=function(){this.Xi() || !n.ic(this.oa) || this.oa.ended || !this.Dna || this.JL && void 0 !== this.JL || (this.log.trace("Calling pause on element"),this.oa.pause(),this.JL=!0);};c.prototype.m1a=function(a){this.j.fb.set(this.fb);a && this.j.Atb();};c.prototype.seek=function(a,b,c,f){b=void 0 === b?E.rd.yv:b;c=void 0 === c?this.j.Ba:c;f=void 0 === f?!1:f;!this.Xi() && this.j.Ab && (this.j.fireEvent(E.V.TE,{cause:b}),this.vn.gS={time:a,cause:b,Ba:c,Htb:f},this.j.Xb.set(E.tb.kg),this.vl());};c.prototype.tIb=function(){var a,b,c,f,d,l,q,h;if(this.vn.gS){a=this.vn.gS;b=a.time;c=a.cause;f=a.Ba;d=a.Htb;if(!this.Pf.Ph() || c === E.rd.pv){a=this.j.Ww(f).u;l=this.Pf.Ph()?void 0:this.Pf.Mub();l=this.vn.Awb(b,c,f,d,l);f=l.W2;d=l.Mh;q=l.dJb;l=l.Si;this.Pf.Tea(this.fb);h=this.fb;b=B.Dh(b);this.j.Cp("SEEKING: Requested: (" + a + ":" + c + ":" + b + ") - Actual: (contentPts: " + d + "," + ("playerPts: " + q + ", newMediaTime: " + f + ")"));this.log.info("Seeking",{Requested:b,Actual:B.Dh(f),Cause:c,Skip:l});c === E.rd.pv || l || (this.Pf.jYa(),this.Pf.SOb());this.fb=f;this.vn.Ala=d;b=this.j.zg.value;q=this.j.wf.value;this.j.zg.set(null);this.j.wf.set(null);this.m1a(!0);this.vn.gS=void 0;this.vn.u3=!0;this.j.fireEvent(E.V.rl,{Ena:h,W2:f,Mh:d,cause:c,skip:l,zg:b,wf:q,u:a});l && this.Pf.skip(f);}}};c.prototype.sd=function(a,b,c){this.closed || this.j.sd(a,b,c);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Pf.close();this.Gb.removeEventListener(R.Hi.RS,this.uTa[R.Hi.RS]);this.Gb.removeEventListener(R.Hi.Np,this.uTa[R.Hi.Np]);this.oa.removeEventListener("ended",this.cv.ended);this.oa.removeEventListener("play",this.cv.play);this.oa.removeEventListener("pause",this.cv.pause);this.oa.removeEventListener("playing",this.cv.playing);q.Re.removeListener(q.bm,this.HPa[q.bm]);this.closed=!0;try{m.config.xFb && (this.oa.volume=0,this.oa.muted=!0);this.Rpa();this.Gb.close();}catch(Q){}this.oa=void 0;this.Pf.jYa();}};c.prototype.Xi=function(){return this.closed?!0:n.ic(this.oa)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.Nya=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gaa=void 0;b.gaa="SeekManagerFactorySymbol";},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.bwa=void 0;c=a(12);k=a(59);h=a(22);m=a(2);f=a(14);b.bwa=function(a,b,d){function l(b){var f,l;f=b.error || b;l=h.$e(f);d.error("uncaught exception",f,l);(f=(f=f && f.stack) && c.config.Y0a && c.config.VSb?0 <= f.indexOf(c.config.Y0a):void 0) && (b && b.stopImmediatePropagation && b.stopImmediatePropagation(),a.sd(m.L.dab));}function q(){k.Re.removeListener(k.M0,l);a.removeEventListener(f.V.Kf,q);a.removeEventListener(f.V.Yo,q);}try{k.Re.addListener(k.M0,l);a.addEventListener(f.V.Kf,q);c.config.Ezb && a.addEventListener(f.V.Yo,q);}catch(z){d.error("exception in exception handler ",z);}};},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.HSa=void 0;c=a(12);k=a(11);h=a(50);d=a(2);m=a(9);f=a(15);q=a(7);a=a(29);q.ha.get(a.ig).register(d.L.Vwa,function(a){var l,q,g,y,B;function d(){var a;a=m.sv(h.hi() / g);if(a != B){for(var b=m.Mn(a - B,30);b--;){y.push(0);}(b=m.Cm(y.length - 31,0)) && y.splice(0,b);B=a;}y[y.length - 1]++;}l=c.config.nDb;q=-6 / (l - 2 - 2);g=k.Qj;y=[];B=m.sv(h.hi() / g);f.ala(l) && (setInterval(d,1E3 / l),b.HSa={Uvb:function(){var c;for(var a=[],b=y.length - 1;b--;){c=y[b];a.unshift(0 >= c?9:1 >= c?8:c >= l - 1?0:m.ai((c - 2) * q + 7));}return a;}});a(k.$d);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dW=void 0;b.dW="PlaybackMilestoneStoreSymbol";},function(d,b,a){var k,h,m,f;function c(a,b){this.j=a;this.osa=void 0 === b?!1:b;}Object.defineProperty(b,"__esModule",{value:!0});b.VL=void 0;k=a(56);h=a(2);m=a(55);f=a(12);c.prototype.ac=function(){delete this.Ab;delete this.Gk;};c.prototype.Hqa=function(b){var c,d,q,h,m,g;c=b.Xf;d=b.config;q=b.Nc;h=b.xe;m=b.ph;b=b.Tr;this.xe=h;this.Tr=b;this.Gk=c.Rl;d.ytb && this.Gk.dP();c.Yc.set(a(178)(d),!0,m("ASE"));c.Yc.set({maxNumberTitlesScheduled:d.uWa?d.uWa.maxNumberTitlesScheduled:1},!0,h);d.Ylb && 3E5 > this.j.ta.Tc.duration?c.Yc.mK({expandDownloadTime:!1},!0,h):c.Yc.mK({expandDownloadTime:c.Yc.RVa().expandDownloadTime},!0,h);this.j.background || d.rJb && "postplay" === this.j.Nd?c.Yc.mK({initBitrateSelectorAlgorithm:"historical"},!0,h):c.Yc.mK({initBitrateSelectorAlgorithm:c.Yc.RVa().initBitrateSelectorAlgorithm},!0,h);(d=this.j.Fg && this.j.Fg.value && this.j.Fg.value.wc) && d.length && (g=d[0].Yf);c.Yc.mK(f.tfa(this.j.Ta.mk,this.j.Ta.I1,g),!0,h);h={};h=q.KR(h,f.ufa(this.j.Nd));this.x_a=c.Yc.jr(h);this.x_a.En=this.osa;k.platform.events.emit("networkchange",this.j.vc.nOb);this.j.Gk=this.Gk;};c.prototype.mJ=function(a){var b,c,f;b=a.Ba;c=a.xP;f=a.tda;this.Ab=this.Gk.Tm(this.j.ta.Tc,[this.j.vc.eLa,this.j.vc.iLa],this.j.T,a.Oh,a.zP,void 0,a.R,this.x_a,c(this.j.u),b);this.j.Ab=this.Ab;f(this.Ab);};c.prototype.oea=function(){var a,b;a=this;null === (b=this.Ab) || void 0 === b?void 0:b.addEventListener("error",function(b){"NFErr_MC_StreamingFailure" === b.error && (a.xe.trace("receiving an unrecoverable streaming error: " + JSON.stringify(b)),a.xe.trace("StreamingFailure, buffer status:" + JSON.stringify(a.Tr())),m.uc(function(){a.j.sd(h.L.Esa,{ja:b.nativeCode,ub:b.errormsg,Vi:b.httpCode,PR:b.networkErrorCode});}));});};b.VL=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e$=void 0;b.e$="PboManifestRequestTransformerSymbol";},function(d,b,a){var k,h,m,f,q,l;function c(a,b){this.Gb=a;this.j=b;this.fR=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$L=void 0;d=a(0);k=a(2);h=a(1);m=a(15);f=a(27);q=a(7);l=a(14);c.prototype.I_=function(a){this.fR.forEach(function(b){return b(a);});};c.prototype.sd=function(a,b,c){this.j.sd(a,b,c);};c.prototype.Q0=function(a){this.j.fireEvent(l.V.cna,{mkb:a});};c.prototype.Cgb=function(a){-1 === this.fR.indexOf(a) && this.fR.push(a);};c.prototype.SLb=function(a){a=this.fR.indexOf(a);0 <= a && this.fR.splice(a,1);};c.prototype.EPa=function(a){var b,c;b={};m.ic(a.code)?b.ja=k.I7(a.code):b.ja=k.K.Yh;try{c=a.message.match(/\((\d*)\)/)[1];b.Ke=q.kea(c,4);}catch(z){}b.ub=f.$e(a);return b;};a=c;a=d.__decorate([h.N()],a);b.$L=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F$=void 0;b.F$="PlaygraphManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.np=void 0;d=b.np || (b.np={});d[d.JM=0]="No";d[d.Taa=1]="Yes";d[d.Bxa=2]="Later";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G$=void 0;b.G$="PlaygraphPlaybackStrategyFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H$=void 0;b.H$="PlaygraphVideoPlayerFactorySymbol";},function(d,b,a){var k;function c(a,b,c){var f;f=this;this.zk=a;this.uf=b;this.mS=c;this.addEventListener=function(a,b,c){return f.uf.addListener(a,f.bLa(a,b),c);};this.removeEventListener=function(a,b){return f.uf.removeListener(a,f.bLa(a,b));};this.getReady=function(){return f.uf.isReady();};this.getXid=function(){return f.wb().J0();};this.getMovieId=function(){return f.wb().wwb();};this.getPlaygraphId=function(){return f.uf.Wwb();};this.getElement=function(){return f.uf.Io();};this.isPlaying=function(){return f.wb().jA();};this.isPaused=function(){return f.wb().bBb();};this.isMuted=function(){return f.wb().YAb();};this.isReady=function(){return f.wb().isReady();};this.isBackground=function(){return f.wb().zAb();};this.setBackground=function(a){return f.wb().lZa(a);};this.startInactivityMonitor=function(){return f.wb().mT();};this.setTransitionTime=function(a){return f.wb().EZa(a);};this.getDiagnostics=function(){return f.wb().nvb();};this.getTextTrackList=function(a){return f.wb().wPa(a);};this.getTextTrack=function(){return f.wb().vPa();};this.setTextTrack=function(a){return f.wb().DZa(a);};this.getVolume=function(){return f.wb().kyb();};this.isEnded=function(){return f.wb().KAb();};this.getBusy=function(){return f.wb().Ph();};this.getError=function(){return f.wb().getError();};this.getCurrentTime=function(){return f.wb().j.fb.value;};this.getBufferedTime=function(){return f.wb().Nub();};this.getSegmentTime=function(){return f.wb().k0();};this.getDuration=function(){return f.wb().WNa();};this.getVideoSize=function(){return f.wb().hyb();};this.getAudioTrackList=function(){return f.wb().uub();};this.getAudioTrack=function(){return f.wb().tub();};this.getTimedTextTrackList=function(a){return f.wb().wPa(a);};this.getTimedTextTrack=function(){return f.wb().vPa();};this.getAdditionalLogInfo=function(){return f.wb().mub();};this.getTrickPlayFrame=function(a){return f.wb().Vxb(a);};this.getSessionSummary=function(){return f.wb().hPa();};this.getTimedTextSettings=function(){return f.wb().F0();};this.setMuted=function(a){return f.wb().KOb(a);};this.setVolume=function(a){return f.wb().fPb(a);};this.getPlaybackRate=function(){return f.wb().Ym();};this.setPlaybackRate=function(a){return f.wb().POb(a);};this.setAudioTrack=function(a){return f.wb().rOb(a);};this.setTimedTextTrack=function(a){return f.wb().DZa(a);};this.setTimedTextSettings=function(a){return f.wb().cT(a);};this.prepare=function(){return f.wb().Qx();};this.load=function(){return f.wb().load();};this.close=function(a){return f.KHa(f.uf.close(),a);};this.play=function(){return f.wb().play();};this.pause=function(){return f.wb().pause();};this.seek=function(a){return f.wb().seek(a);};this.engage=function(a,b){return f.KHa(f.wb().XP(a),b);};this.induceError=function(a){return f.wb().Tzb(a);};this.loadCustomTimedTextTrack=function(a,b,c,d){return f.wb().HCb(a,b,c,d);};this.tryRecoverFromStall=function(){return f.wb().NT();};this.addEpisode=function(a){var b,c;f.log.info("Next episode added",a);b=f.TSa(a.playbackParams);c=("startPts" in a)?a.startPts:("nextStartPts" in a)?a.nextStartPts:b.T;if(void 0 === c || 0 > c)c=0;return f.uf.Zq({id:b.mk?void 0:f.mS.$_(a.movieId,c),u:a.movieId,T:c,Ij:("endPts" in a)?a.endPts:("currentEndPts" in a)?a.currentEndPts:b.Ij,Za:b,ta:a.manifest,zk:f.zk});};this.playNextEpisode=function(a){a=void 0 === a?{}:a;a=f.TSa(a);f.log.info("Playing the next episode",a);return f.uf.Hja(f.uf.ZNa(),f.uf.l0().Ui,a);};this.playSegment=function(a){return f.wb().RIb(a);};this.queueSegment=function(a){return f.wb().FKb(a);};this.updateNextSegmentWeights=function(a,b){return f.wb().lj(a,b);};this.getCropAspectRatio=function(){return f.wb().yia();};this.getCropAspectRatioXandY=function(){return f.wb().cvb();};this.generateScreenshots=function(a){return f.wb().gub(a);};this.getCurrentSegmentId=function(){return f.uf.ZNa();};this.getPlaygraphMap=function(){return f.uf.Xwb();};this.setNextSegment=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}b=b.map(function(a){return {Ba:a.segmentId,RR:a.nextSegmentId};});f.uf.yn.apply(f.uf,[].concat(ea(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}return f.uf.Wkb.apply(f.uf,[].concat(ea(b)));};this.updatePlaygraphMap=function(a){return f.uf.pTb(a);};this.goToNextSegment=function(a,b){return f.uf.Hja(a,b);};this.getPlaying=function(){return f.isPlaying();};this.getPaused=function(){return f.isPaused();};this.getMuted=function(){return f.isMuted();};this.getEnded=function(){return f.isEnded();};this.getTimedTextVisibility=function(){return f.isTimedTextVisible();};this.isTimedTextVisible=function(){return ! !f.wb().F0().visibility;};this.setTimedTextVisibility=function(a){return f.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return f.wb().cT({size:a});};this.setTimedTextBounds=function(a){return f.wb().cT({bounds:a});};this.setTimedTextMargins=function(a){return f.wb().cT({margins:a});};this.setTimedTextVisible=function(a){return f.wb().cT({visibility:a});};this.getCongestionInfo=function(a){a && a({success:!1,name:null,isCongested:null});};this.sha=new Map();this.log=k.ph("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.wDa=void 0;k=a(7);a(89);c.prototype.wb=function(){return this.uf.li();};c.prototype.bLa=function(a,b){var c;this.sha.has(a) || this.sha.set(a,new Map());c=this.sha.get(a);c.has(b) || c.set(b,this.ppb(a,b));return c.get(b);};c.prototype.ppb=function(a,b){var c;c=this;return function(f){return b(Object.assign({},f,{type:a,target:c}));};};c.prototype.KHa=function(a,b){return b?a.then(b,b):a;};c.prototype.TSa=function(a){a=void 0 === a?{}:a;return {yi:a.trackingId,RO:a.authParams,um:a.sessionParams,Nd:a.uiLabel,T5:a.uxLabels,Dga:a.disableTrackStickiness,H5:a.uiPlayStartTime,O_:a.forceAudioTrackId,P_:a.forceTimedTextTrackId,mk:a.isBranching,e2a:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted,playbackRate:a.playbackState.playbackRate}:void 0,CI:a.enableTrickPlay,Zja:a.heartbeatCooldown,I1:a.isPlaygraph,c2:a.loadImmediately || !1,SVa:a.pin,oS:a.preciseSeeking,T:a.startPts,qa:a.endPts,Ij:a.logicalEnd,f4:a.renderTimedText,HMa:a.extraManifestParams,Wo:a.packageId,Uda:a.assetId,fib:a.audioLanguages,CRb:a.textLanguages};};b.wDa=c;},function(d,b,a){var k;function c(a,b,c,d){var f;f=this;this.Cc=a;this.Bl=b;this.rs=c;this.Hb=d;this.L3=new Map();this.kPb();this.Hb.addListener(k.Pb.loaded,function(){return f.NA();});}Object.defineProperty(b,"__esModule",{value:!0});b.GM=void 0;k=a(14);c.prototype.IPa=function(a,b){var c;c=this;return this.rs.transition(b).then(function(){c.Cc.Mg=a;});};c.prototype.close=function(a){return this.rs.close(a);};c.prototype.isReady=function(){return this.rs.hxb();};c.prototype.Io=function(){return this.rs.Io();};c.prototype.li=function(){return this.rs.li();};c.prototype.qS=function(a){var b;b=a.id;this.L3.has(b) || this.L3.set(b,this.rs.Zq(a));return this.L3.get(b);};c.prototype.kPb=function(){var a;a=this;this.rs.addListener(k.ZB.TS,function(){return a.Hb.cc(k.ZB.TS);});Object.values(k.Pb).forEach(function(b){a.rs.addListener(b,function(c){return a.Hb.cc(b,c);});});};c.prototype.YR=function(){this.NA();};c.prototype.Nna=function(a){this.rs.tTb({id:a,u:this.Cc.Nf(a).la,Ij:this.Cc.iPa(a)});};c.prototype.NA=function(){var a,b,c,d,l;if(this.isReady()){c=this.Cc.Mg;d=this.Cc.OD(c);if(d && !this.L3.has(d)){this.Nna(c);d=this.Cc.Nf(d);l=null === (a=this.Bl.aJ(d.la)) || void 0 === a?void 0:a.Za;this.qS({id:this.Cc.OD(c),u:d.la,T:d.oe,Ij:null !== (b=null === l || void 0 === l?void 0:l.Ij) && void 0 !== b?b:d.Ie,Za:l});}}};b.GM=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nwa=void 0;b.nwa=function(a){var h,m,f,q;function b(){if(f)for(var a;a=h.pop();){a(q);}}function d(a){f=!0;q=a;b();}h=[];return function(c){h.push(c);m || (m=!0,a(d));b();};};},function(d){function b(a){return Object.keys(a).every(function(b){return "function" === typeof a[b];});}d.W=function(a){var m,f,q;function c(a,b,c){throw new TypeError(("undefined" !== typeof c.key?"Types: expected " + c.key:"Types: expected argument " + c.index) + (" to be '" + a + "' but found '" + b + "'"));}function d(a,b,d){var l;l=f[a];"undefined" !== typeof l?l(b) || c(a,b,d):a !== typeof b && c(a,b,d);}function h(a,b){var c;c=a.filter(function(a){return "object" !== typeof a && -1 === q.indexOf(a);});c=c.concat(a.filter(function(a){return "object" === typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return -1 === q.indexOf(a);}));},[]));if(0 < c.length)throw Error(c.join(",") + " are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length !== a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var f;f=c[b];if("string" === typeof a)d(a,f,{index:b});else if("object" === typeof a)Object.keys(a).forEach(function(b){d(a[b],f[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}m=("number boolean string object function symbol").split(" ");f={array:function(a){return Array.isArray(a);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined" !== typeof f[b] || -1 < m.indexOf(b))throw new TypeError("Types: attempting to override a built in type with " + b);f[b]=a[b];});}q=Object.keys(f).concat(m);return h(["array","function"],h);};},function(d,b,a){var m;function c(a,b,c){b=b || 0;c=c || a.length;for(var f,d=b,l,q,h,m={};d < b + c;){f=a[d];l=f & 7;q=f >> 3;h=k(a,d);if(!h.count)throw Error("Parsing error. bytes length is 0 for the tag " + f);d+=h.count + 1;2 == l && (d+=h.value);m[q]={f3b:q,c7b:l,value:h.value,count:h.count,start:h.start};}return m;}function k(a,b){var c,f,d,h,q,k,g,L;c=b + 1;f=a.length;d=c;h=0;q={};k=[];L=0;if(c >= f)throw Error("Invalid Range for Protobuf - start: " + c + " , len: " + f);for(;d < f;){h++;c=a[d];g=c & 127;k.push(g);if(!(c & 128))break;d++;}m.lb(k.length);for(a=k.length - 1;0 <= a;a--){L<<=7;L|=k[a];}q.count=h;q.value=L;q.start=b + h + 1;return q;}function h(a,b){if(a && (a=a[b]))return a.value;}Object.defineProperty(b,"__esModule",{value:!0});b.dxb=b.cxb=b.wsb=b.iBb=b.tRa=void 0;m=a(18);b.tRa=function(a){a=c(a);if(1 == h(a,1) && a[5] && a[5].value)return !0;};b.iBb=function(a){var b;b=c(a);if(2 == h(b,1) && (a=c(a,b[2].start,b[2].value),h(a,5)))return !0;};b.wsb=c;b.cxb=k;b.dxb=h;},function(d,b,a){var c,k,h,m,f,q,l,u,t,g,z,y,B,L,I;Object.defineProperty(b,"__esModule",{value:!0});b.A0a=void 0;c=a(68);k=a(11);h=a(12);m=a(48);f=a(50);q=a(7);l=a(2);u=a(22);t=a(66);g=a(9);z=a(113);y=a(29);B=a(33);L=a(32);I=a(19);b.A0a=(function(){var d,x,n,p;function a(a){var c,f,l;c="info";f="";l=q.ha.get(t.Gy).IOa();a.ia || (c="error",f+="&errorcode=" + (a.errorCode || ""),f+="&errorsubcode=" + (a.ja || ""));f="type=startup&sev=" + c + f + "&" + m.fK(u.Eb({},l,{prefix:"m_"}));!1;b("startup",f,d);}function b(a,b,d){d && x && h.config.C0a[a] && (a=n + "&jsoffms=" + f.hi() + "&do=" + g.bi.onLine + "&" + b + "&" + m.fK(u.Eb({},p.Ed,{prefix:"im_"})),!1,c.cf.download({url:d,yoa:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},uD:"track"},k.$g));}x=!1;n="";q.ph("TrackingLog");p=q.ha.get(y.ig);p.register(l.L.axa,function(b){var c,f,l;if(x=h.config.B0a && ! !h.config.Jra){d=q.ha.get(z.oB).host + h.config.Jra;c=q.ha.get(L.sj);f=q.ha.get(L.$s);l=q.ha.get(I.xd).id;n="cat=cadplayback&dev=" + encodeURIComponent(c.wga) + "&ep=" + encodeURIComponent(f.Hva) + "&ver=" + encodeURIComponent("6.0026.945.051") + "&jssid=" + l + "&browserua=" + g.Dm;h.config.$z && (n+="&groupname=" + encodeURIComponent(h.config.$z));h.config.BF && (n+="&uigroupname=" + encodeURIComponent(h.config.BF));c=n;f=q.ha.get(B.tG);f=u.Eb({},f,{prefix:"pi_"});f="&" + m.fK(f);n=c + f;p.iR(a);}b(k.$d);});return b;})();},function(d,b,a){var k,h,m,f,q;function c(a){var b;k.ph("MediaSourceASE").trace("Inside MediaSourceASE");b=a.tQ();this.readyState=q.gc.CLOSED;this.sourceBuffers=b.sourceBuffers;this.addSourceBuffer=function(a){return b.addSourceBuffer(a);};this.DY=function(a){return b.DY(a);};this.removeSourceBuffer=function(a){return b.removeSourceBuffer(a);};this.Op=function(a){return b.Op(a);};this.sourceId=f++;this.duration=void 0;b.oOb(this.sourceId);this.readyState=q.gc.OPEN;this.Rb=h.ha.get(m.Df).KR(q.Rb,{});}Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;k=a(7);h=a(7);m=a(26);f=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Li;},set:function(a){var b;this.Li=a || Infinity;b=Math.floor(1E3 * a) || Infinity;this.sourceBuffers.forEach(function(a){a.Li=b;});}});q={gc:{CLOSED:0,OPEN:1,Os:2,name:["CLOSED","OPEN","ENDED"]},Rb:{LJa:!0,$Ta:!0}};b.Qya=Object.assign(c,q);},function(d,b,a){var l,u,t,g,z,y,B,L;function c(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b && b.length && (a[b]=c || !0);return a;},{});}function k(a){return a && "object" === typeof a?JSON.stringify(a):"string" === typeof a?'"' + a + '"':"" + a;}function h(a,b,f){var d;if("string" === typeof a)return h.call(this,c(a),b,f);d=0;Object.keys(a).forEach(function(c){var h,q,m;h=z[c];q=a[c];if(h){if(m=y[c] || L[typeof l[h]])try{q=m(q);}catch(ka){f && f.error("Failed to convert value '" + q + "' for config '" + c + "' : " + ka.toString());return;}m=g[h];this[h]=q;g[h] !== m && (f && f.debug("Config changed for '" + c + "' from " + k(m) + " (" + typeof m + ") to " + k(q) + " (" + typeof q + ")"),++d);}else b?(h=(h=B[c])?h.filter(function(a){return a[0] !== this;},this):[],h.push([this,q]),B[c]=h):f && f.error("Attempt to change undeclared config option '" + c + "'");},this);d && g.emit("changed");return d;}function m(){return Object.keys(z).reduce(function(a,b){var c,f;c=z[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length - a.length;})):a[c]=[b];return a;},{});}function f(a,b){return a.hasOwnProperty(b)?k(a[b]):void 0;}function q(a,b){return "undefined" === typeof a?b:a;}b=a(62);a=a(125).EventEmitter;l={};u=Object.create(l);t=Object.create(u);g=Object.create(t);z={};y={};B={};g.declare=function(a){Object.keys(a).forEach(function(b){var c,f,d,q;c=a[b];f=c[0];d=c[1];q=c[2];if(l.hasOwnProperty(b))throw Error("The local configuraion key '" + b + "' is already in use");"string" === typeof f && (f=[f]);f.forEach(function(a){var c;if(z.hasOwnProperty(a))throw Error("The configuration value '" + a + "' has been declared more than once");l.hasOwnProperty(b) || ("function" === typeof d && (d=d()),l[b]=d);z[a]=b;"function" === typeof q && (y[a]=q);if(c=B[a])(c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];h.call(c,f,!1);}),delete B[a]);});});return g;};L={object:function(a){return "object" == typeof a?a:JSON.parse("" + a);},"boolean":function(a){return "boolean" == typeof a?a:!("0" === "" + a || "false" === ("" + a).toLowerCase());},number:function(a){if("number" == typeof a)return a;a=parseFloat("" + a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};g.set=h.bind(u);g.mK=h.bind(t);g.dump=function(a,b){var d,h,x,y;function c(){y && a && a.log("===========================================");}d=Object.keys(B).sort();h={};x=m();b=q(b,!0);Object.keys(z).sort().forEach(function(d){var m,B,I;d=z[d];!h[d] && (h[d]=!0,B=f(u,d),I=f(t,d),b || "undefined" !== typeof B || "undefined" !== typeof I) && (m=x[d].join(","),m+=" = " + k(g[d]) + " (" + typeof g[d] + ") [",m+=q(I,"<unset>") + ",",m+=q(B,"<unset>") + ",",m+=f(l,d) + "]",y || (y=!0,a && a.log("Current config values"),c()),a && a.log(m));});(b || d.length) && a && a.log("<undeclared> :",d);c();};g.jr=function(a){var b,c;b={};c={};Object.keys(z).forEach(function(a){a=z[a];c[a] || (c[a]=!0,b[a]=g[a]);});a && h.call(b,a);return b;};g.RVa=function(){var a;a=m();return Object.getOwnPropertyNames(u).reduce(function(b,c){b[a[c][0]]=u[c];return b;},{});};g.reset=function(){Object.keys(u).forEach(function(a){delete u[a];});};g.co={};b(a,g);d.W=Object.freeze(g);},function(d,b,a){var k;function c(a){for(var b="",c=0;c < a.length;c++){b+=a[c].la + "|";}return b;}k=a(279);d.W={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed" + (b?" : " + b:""));},V3b:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},avb:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === k.BM.o4a){b=a[c].list;break;}}return b;},Iub:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === k.BM.f3a){b=a[c].list;break;}}return b;},Vpb:function(a,b){for(var f=0,d,l,h,m=0,k=a.length - 1;m < k;m++){d=c(a[m].list || []);h=!1;for(var g=0,y=b.length;g < y;g++){if((l=c(b[g].list || []),l == d)){h=!0;break;}}if(!1 === h){f=m;break;}}return f;},BGb:function(a,b,c){for(var f=[],d,h=0;h < Math.min(b,a.length);h++){d=a[h].list || [];f=f.concat(d.slice(0,c));}return f;},AGb:function(a,b){for(var c=[],d,l=0;l < a.length && (d=a[l].list || [],d=d.slice(0,Math.min(d.length,b)),b-=d.length,c=c.concat(d),0 !== b);l++){;}return c;},zGb:function(a,b,c){var f;b < a.length && 0 <= b && (a=a[b].list || [],c < a.length && (f=a[c]));return f;},XMa:function(a){for(var b={},c=a.length,d,l=0;l < c;l++){d=a[l].list || [];for(var h=0;h < d.length;h++){if(d[h].property === k.cG.LM || d[h].property === k.cG.Lua){b.fj=l;b.Uk=h;break;}}}void 0 === b.fj && void 0 === b.Uk && (b.fj=0,b.Uk=0);return b;}};},function(d,b,a){var m;function c(a,b,c,d,h,m,k){this.VT=d;this.u2a=a;this.oUa=b;this.Zma=c;this.zBb=m;this.WA=k;this.split=h;}function k(){this.J={};this.J["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new c("7","8","7","10","1.5",0,0);this.J["7"]=new c("15","16","15","9","4.5",0,0);this.J["15"]=new c("31","32","31","2","5.5",0,0);this.J["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new c("123","124","123","0","0",1,.207298);this.J["124"]=new c("123","124","123","0","0",1,.49076);this.J["64"]=new c("125","126","125","4","40.5",0,0);this.J["125"]=new c("125","126","125","0","0",1,-.00157835);this.J["126"]=new c("125","126","125","0","0",1,.934205);this.J["32"]=new c("65","66","65","135","5.5",0,0);this.J["65"]=new c("127","128","128","4","1272.5",0,0);this.J["127"]=new c("127","128","128","0","0",1,-.510333);this.J["128"]=new c("127","128","128","0","0",1,.18363);this.J["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new c("129","130","129","0","0",1,-.0464542);this.J["130"]=new c("129","130","129","0","0",1,.458833);this.J["16"]=new c("33","34","34","10","2.00001",0,0);this.J["33"]=new c("67","68","67","0","29.5",0,0);this.J["67"]=new c("131","132","131","2","39.5",0,0);this.J["131"]=new c("131","132","131","0","0",1,-.37577);this.J["132"]=new c("131","132","131","0","0",1,.512087);this.J["68"]=new c("133","134","134","140","1.5",0,0);this.J["133"]=new c("133","134","134","0","0",1,.321272);this.J["134"]=new c("133","134","134","0","0",1,-.675396);this.J["34"]=new c("69","70","70","2","24.5",0,0);this.J["69"]=new c("135","136","136","9","28.5",0,0);this.J["135"]=new c("135","136","136","0","0",1,-.0573845);this.J["136"]=new c("135","136","136","0","0",1,-.507455);this.J["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new c("137","138","137","0","0",1,-.503909);this.J["138"]=new c("137","138","137","0","0",1,.450886);this.J["8"]=new c("17","18","17","4","44189.5",0,0);this.J["17"]=new c("35","36","35","2","21.5",0,0);this.J["35"]=new c("71","72","72","0","19.5",0,0);this.J["71"]=new c("139","140","140","9","2.5",0,0);this.J["139"]=new c("139","140","140","0","0",1,.00403497);this.J["140"]=new c("139","140","140","0","0",1,-.312656);this.J["72"]=new c("141","142","141","135","96",0,0);this.J["141"]=new c("141","142","141","0","0",1,-.465786);this.J["142"]=new c("141","142","141","0","0",1,.159633);this.J["36"]=new c("73","74","73","130","89.5",0,0);this.J["73"]=new c("143","144","144","10","4.5",0,0);this.J["143"]=new c("143","144","144","0","0",1,-.76265);this.J["144"]=new c("143","144","144","0","0",1,-.580804);this.J["74"]=new c("145","146","146","10","16.5",0,0);this.J["145"]=new c("145","146","146","0","0",1,.296357);this.J["146"]=new c("145","146","146","0","0",1,-.691659);this.J["18"]=new c("37","38","38","9","1.5",0,0);this.J["37"]=new c("37","38","38","0","0",1,.993951);this.J["38"]=new c("75","76","75","0","19",0,0);this.J["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new c("147","148","147","0","0",1,-.346535);this.J["148"]=new c("147","148","147","0","0",1,-.995745);this.J["76"]=new c("147","148","147","0","0",1,-.99978);this.J["4"]=new c("9","10","9","5","4.5",0,0);this.J["9"]=new c("19","20","19","2","4.5",0,0);this.J["19"]=new c("39","40","39","140","7.5",0,0);this.J["39"]=new c("77","78","78","134","6.5",0,0);this.J["77"]=new c("149","150","150","7","11.5",0,0);this.J["149"]=new c("149","150","150","0","0",1,.729843);this.J["150"]=new c("149","150","150","0","0",1,.383857);this.J["78"]=new c("151","152","151","133","4.5",0,0);this.J["151"]=new c("151","152","151","0","0",1,.39017);this.J["152"]=new c("151","152","151","0","0",1,.0434342);this.J["40"]=new c("79","80","79","133","3.5",0,0);this.J["79"]=new c("153","154","154","8","4.5",0,0);this.J["153"]=new c("153","154","154","0","0",1,-.99536);this.J["154"]=new c("153","154","154","0","0",1,-.00943396);this.J["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new c("155","156","155","0","0",1,.266272);this.J["156"]=new c("155","156","155","0","0",1,.959904);this.J["20"]=new c("41","42","42","10","65.5",0,0);this.J["41"]=new c("81","82","82","7","10.5",0,0);this.J["81"]=new c("157","158","158","2","37.5",0,0);this.J["157"]=new c("157","158","158","0","0",1,-.701873);this.J["158"]=new c("157","158","158","0","0",1,.224649);this.J["82"]=new c("159","160","159","133","9.5",0,0);this.J["159"]=new c("159","160","159","0","0",1,.0955181);this.J["160"]=new c("159","160","159","0","0",1,-.58962);this.J["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new c("161","162","161","135","31",0,0);this.J["161"]=new c("161","162","161","0","0",1,-.229692);this.J["162"]=new c("161","162","161","0","0",1,.88595);this.J["84"]=new c("163","164","164","1","13.5",0,0);this.J["163"]=new c("163","164","164","0","0",1,-.992157);this.J["164"]=new c("163","164","164","0","0",1,.922159);this.J["10"]=new c("21","22","22","4","486",0,0);this.J["21"]=new c("43","44","44","133","4.5",0,0);this.J["43"]=new c("85","86","86","10","4.5",0,0);this.J["85"]=new c("165","166","166","4","158.5",0,0);this.J["165"]=new c("165","166","166","0","0",1,-.127778);this.J["166"]=new c("165","166","166","0","0",1,.955189);this.J["86"]=new c("165","166","166","0","0",1,-.994012);this.J["44"]=new c("87","88","88","1","3.5",0,0);this.J["87"]=new c("167","168","168","135","7",0,0);this.J["167"]=new c("167","168","168","0","0",1,-.997015);this.J["168"]=new c("167","168","168","0","0",1,.400821);this.J["88"]=new c("169","170","169","130","36",0,0);this.J["169"]=new c("169","170","169","0","0",1,-.898638);this.J["170"]=new c("169","170","169","0","0",1,.56129);this.J["22"]=new c("45","46","45","9","2.5",0,0);this.J["45"]=new c("89","90","90","9","1.5",0,0);this.J["89"]=new c("171","172","171","10","10.5",0,0);this.J["171"]=new c("171","172","171","0","0",1,.573986);this.J["172"]=new c("171","172","171","0","0",1,-.627266);this.J["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new c("173","174","173","0","0",1,.925273);this.J["174"]=new c("173","174","173","0","0",1,-.994805);this.J["46"]=new c("91","92","91","136","5.5",0,0);this.J["91"]=new c("175","176","175","10","10.5",0,0);this.J["175"]=new c("175","176","175","0","0",1,.548352);this.J["176"]=new c("175","176","175","0","0",1,-.879195);this.J["92"]=new c("177","178","178","8","14.5",0,0);this.J["177"]=new c("177","178","178","0","0",1,.457305);this.J["178"]=new c("177","178","178","0","0",1,-.998992);this.J["2"]=new c("5","6","5","10","2.5",0,0);this.J["5"]=new c("11","12","11","9","4.5",0,0);this.J["11"]=new c("23","24","24","10","4.00001",0,0);this.J["23"]=new c("47","48","48","133","5.5",0,0);this.J["47"]=new c("93","94","93","3","13.5",0,0);this.J["93"]=new c("179","180","179","138","15.5",0,0);this.J["179"]=new c("179","180","179","0","0",1,.658398);this.J["180"]=new c("179","180","179","0","0",1,-.927007);this.J["94"]=new c("181","182","182","3","15.5",0,0);this.J["181"]=new c("181","182","182","0","0",1,-.111351);this.J["182"]=new c("181","182","182","0","0",1,-.99827);this.J["48"]=new c("95","96","95","7","167",0,0);this.J["95"]=new c("183","184","183","132","36.5",0,0);this.J["183"]=new c("183","184","183","0","0",1,.895161);this.J["184"]=new c("183","184","183","0","0",1,-.765217);this.J["96"]=new c("185","186","186","137","6.00001",0,0);this.J["185"]=new c("185","186","186","0","0",1,-.851095);this.J["186"]=new c("185","186","186","0","0",1,.674286);this.J["24"]=new c("49","50","49","137","5.5",0,0);this.J["49"]=new c("97","98","97","5","23.5",0,0);this.J["97"]=new c("187","188","187","3","28.5",0,0);this.J["187"]=new c("187","188","187","0","0",1,.951654);this.J["188"]=new c("187","188","187","0","0",1,-.993808);this.J["98"]=new c("187","188","187","0","0",1,-.99705);this.J["50"]=new c("187","188","187","0","0",1,-.997525);this.J["12"]=new c("25","26","25","8","8.5",0,0);this.J["25"]=new c("51","52","52","10","4.00001",0,0);this.J["51"]=new c("99","100","100","133","5.5",0,0);this.J["99"]=new c("189","190","190","7","40.5",0,0);this.J["189"]=new c("189","190","190","0","0",1,.151839);this.J["190"]=new c("189","190","190","0","0",1,-.855517);this.J["100"]=new c("191","192","192","133","14.5",0,0);this.J["191"]=new c("191","192","192","0","0",1,.86223);this.J["192"]=new c("191","192","192","0","0",1,.544394);this.J["52"]=new c("101","102","101","135","47.5",0,0);this.J["101"]=new c("193","194","194","4","24.5",0,0);this.J["193"]=new c("193","194","194","0","0",1,.946185);this.J["194"]=new c("193","194","194","0","0",1,.811859);this.J["102"]=new c("193","194","194","0","0",1,-.991561);this.J["26"]=new c("53","54","54","132","6.5",0,0);this.J["53"]=new c("103","104","103","131","85",0,0);this.J["103"]=new c("195","196","196","134","16.5",0,0);this.J["195"]=new c("195","196","196","0","0",1,.0473538);this.J["196"]=new c("195","196","196","0","0",1,-.999401);this.J["104"]=new c("197","198","198","8","15.5",0,0);this.J["197"]=new c("197","198","198","0","0",1,.816129);this.J["198"]=new c("197","198","198","0","0",1,-.99322);this.J["54"]=new c("105","106","105","133","3.5",0,0);this.J["105"]=new c("105","106","105","0","0",1,-.998783);this.J["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new c("199","200","199","0","0",1,.528588);this.J["200"]=new c("199","200","199","0","0",1,-.998599);this.J["6"]=new c("13","14","14","10","7.5",0,0);this.J["13"]=new c("27","28","28","133","7.5",0,0);this.J["27"]=new c("55","56","56","10","4.5",0,0);this.J["55"]=new c("107","108","107","3","3.5",0,0);this.J["107"]=new c("201","202","201","4","17.5",0,0);this.J["201"]=new c("201","202","201","0","0",1,-.379512);this.J["202"]=new c("201","202","201","0","0",1,.15165);this.J["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new c("203","204","203","0","0",1,-.884606);this.J["204"]=new c("203","204","203","0","0",1,.265406);this.J["56"]=new c("109","110","109","136","6.5",0,0);this.J["109"]=new c("205","206","205","4","157.5",0,0);this.J["205"]=new c("205","206","205","0","0",1,-.0142737);this.J["206"]=new c("205","206","205","0","0",1,.691279);this.J["110"]=new c("205","206","205","0","0",1,-.998086);this.J["28"]=new c("57","58","58","138","11.5",0,0);this.J["57"]=new c("111","112","112","2","6.5",0,0);this.J["111"]=new c("207","208","208","7","67.5",0,0);this.J["207"]=new c("207","208","208","0","0",1,.763925);this.J["208"]=new c("207","208","208","0","0",1,-.309645);this.J["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new c("209","210","209","0","0",1,-.306635);this.J["210"]=new c("209","210","209","0","0",1,.556696);this.J["58"]=new c("113","114","113","138","50.5",0,0);this.J["113"]=new c("211","212","212","8","25.5",0,0);this.J["211"]=new c("211","212","212","0","0",1,.508234);this.J["212"]=new c("211","212","212","0","0",1,.793551);this.J["114"]=new c("211","212","212","0","0",1,-.998438);this.J["14"]=new c("29","30","29","134","27.5",0,0);this.J["29"]=new c("59","60","60","7","17.5",0,0);this.J["59"]=new c("115","116","115","135","5.5",0,0);this.J["115"]=new c("213","214","214","137","5.5",0,0);this.J["213"]=new c("213","214","214","0","0",1,.401747);this.J["214"]=new c("213","214","214","0","0",1,.0367503);this.J["116"]=new c("215","216","216","8","5.5",0,0);this.J["215"]=new c("215","216","216","0","0",1,-.0241984);this.J["216"]=new c("215","216","216","0","0",1,-.999046);this.J["60"]=new c("117","118","117","0","12.5",0,0);this.J["117"]=new c("217","218","218","132","5.5",0,0);this.J["217"]=new c("217","218","218","0","0",1,-.997294);this.J["218"]=new c("217","218","218","0","0",1,.210398);this.J["118"]=new c("219","220","219","137","1.5",0,0);this.J["219"]=new c("219","220","219","0","0",1,-.55763);this.J["220"]=new c("219","220","219","0","0",1,.074493);this.J["30"]=new c("61","62","62","133","42.5",0,0);this.J["61"]=new c("119","120","119","135","5.5",0,0);this.J["119"]=new c("221","222","222","4","473.5",0,0);this.J["221"]=new c("221","222","222","0","0",1,-.920213);this.J["222"]=new c("221","222","222","0","0",1,-.17615);this.J["120"]=new c("223","224","224","5","144",0,0);this.J["223"]=new c("223","224","224","0","0",1,-.954295);this.J["224"]=new c("223","224","224","0","0",1,-.382538);this.J["62"]=new c("121","122","121","133","50",0,0);this.J["121"]=new c("225","226","226","10","18.5",0,0);this.J["225"]=new c("225","226","226","0","0",1,-.0731343);this.J["226"]=new c("225","226","226","0","0",1,.755454);this.J["122"]=new c("227","228","228","0","30",0,0);this.J["227"]=new c("227","228","228","0","0",1,.25);this.J["228"]=new c("227","228","228","0","0",1,-.997101);}function h(a,b,c,d,h,m){this.v4=h;this.nZ=m;}b=a(526);m=a(278);a={};a.cib=new (function(){this.dcb=m();this.o=0;this.update=function(){this.o=m() - this.dcb;};this.getValue=function(){return this.o;};this.type="num";})();a.nCb=new (function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded" === c.Ka[a].context || null;};this.type="cat";})();a.oCb=new (function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked" === c.Ka[a].context || null;};this.type="cat";})();a.qCb=new (function(){this.getValue=function(a,b,c){return this.o="billboard" === c.Ka[a].context || null;};this.type="cat";})();a.rCb=new (function(){this.getValue=function(a,b,c){return this.o="continueWatching" === c.Ka[a].context || null;};this.type="cat";})();a.pCb=new (function(){this.getValue=function(a,b,c){return this.o="bigRow" === c.Ka[a].context || null;};this.type="cat";})();a.sCb=new (function(){this.getValue=function(a,b,c){return this.o="genre" === c.Ka[a].context || null;};this.type="cat";})();a.tCb=new (function(){this.getValue=function(a,b,c){return this.o="netflixOriginals" === c.Ka[a].context || null;};this.type="cat";})();a.uCb=new (function(){this.getValue=function(a,b,c){return this.o="newRelease" === c.Ka[a].context || null;};this.type="cat";})();a.vCb=new (function(){this.getValue=function(a,b,c){return this.o="popularTitles" === c.Ka[a].context || null;};this.type="cat";})();a.wCb=new (function(){this.getValue=function(a,b,c){return this.o="queue" === c.Ka[a].context || null;};this.type="cat";})();a.xCb=new (function(){this.getValue=function(a,b,c){return this.o="recentlyAdded" === c.Ka[a].context || null;};this.type="cat";})();a.yCb=new (function(){this.getValue=function(a,b,c){return this.o="similars" === c.Ka[a].context || null;};this.type="cat";})();a.ACb=new (function(){this.getValue=function(a,b,c){return this.o="trendingNow" === c.Ka[a].context || null;};this.type="cat";})();a.BCb=new (function(){this.getValue=function(a,b,c){return this.o="ultraHD" === c.Ka[a].context || null;};this.type="cat";})();a.CCb=new (function(){this.getValue=function(a,b,c){return this.o="watchAgain" === c.Ka[a].context || null;};this.type="cat";})();a.zCb=new (function(){this.getValue=function(a,b,c){return this.o="topTen" === c.Ka[a].context || null;};this.type="cat";})();a.Lib=new (function(){this.update=function(a){for(var b in a.Ka){if("becauseYouAdded" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Mib=new (function(){this.update=function(a){for(var b in a.Ka){if("becauseYouLiked" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Qib=new (function(){this.update=function(a){for(var b in a.Ka){if("billboard" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Plb=new (function(){this.update=function(a){for(var b in a.Ka){if("continueWatching" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Pib=new (function(){this.update=function(a){for(var b in a.Ka){if("bigRow" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.hub=new (function(){this.update=function(a){for(var b in a.Ka){if("genre" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.EFb=new (function(){this.update=function(a){for(var b in a.Ka){if("netflixOriginals" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.GFb=new (function(){this.update=function(a){for(var b in a.Ka){if("newRelease" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.oJb=new (function(){this.update=function(a){for(var b in a.Ka){if("popularTitles" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.pl=new (function(){this.update=function(a){for(var b in a.Ka){if("queue" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.cLb=new (function(){this.update=function(a){for(var b in a.Ka){if("recentlyAdded" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.PPb=new (function(){this.update=function(a){for(var b in a.Ka){if("similars" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.zSb=new (function(){this.update=function(a){for(var b in a.Ka){if("trendingNow" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.TSb=new (function(){this.update=function(a){for(var b in a.Ka){if("ultraHD" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.QUb=new (function(){this.update=function(a){for(var b in a.Ka){if("watchAgain" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.jSb=new (function(){this.update=function(a){for(var b in a.Ka){if("topTen" === a.Ka[b].context){this.o=Math.max(a.Ka[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.$lb=new (function(){this.getValue=function(a,b,c){return this.o="AR" === c.Oa || null;};this.type="cat";})();a.amb=new (function(){this.getValue=function(a,b,c){return this.o="AT" === c.Oa || null;};this.type="cat";})();a.bmb=new (function(){this.getValue=function(a,b,c){return this.o="AU" === c.Oa || null;};this.type="cat";})();a.cmb=new (function(){this.getValue=function(a,b,c){return this.o="AZ" === c.Oa || null;};this.type="cat";})();a.dmb=new (function(){this.getValue=function(a,b,c){return this.o="BB" === c.Oa || null;};this.type="cat";})();a.emb=new (function(){this.getValue=function(a,b,c){return this.o="BE" === c.Oa || null;};this.type="cat";})();a.fmb=new (function(){this.getValue=function(a,b,c){return this.o="BO" === c.Oa || null;};this.type="cat";})();a.gmb=new (function(){this.getValue=function(a,b,c){return this.o="BR" === c.Oa || null;};this.type="cat";})();a.hmb=new (function(){this.getValue=function(a,b,c){return this.o="BS" === c.Oa || null;};this.type="cat";})();a.imb=new (function(){this.getValue=function(a,b,c){return this.o="CA" === c.Oa || null;};this.type="cat";})();a.jmb=new (function(){this.getValue=function(a,b,c){return this.o="CH" === c.Oa || null;};this.type="cat";})();a.kmb=new (function(){this.getValue=function(a,b,c){return this.o="CL" === c.Oa || null;};this.type="cat";})();a.lmb=new (function(){this.getValue=function(a,b,c){return this.o="CO" === c.Oa || null;};this.type="cat";})();a.mmb=new (function(){this.getValue=function(a,b,c){return this.o="CR" === c.Oa || null;};this.type="cat";})();a.nmb=new (function(){this.getValue=function(a,b,c){return this.o="CW" === c.Oa || null;};this.type="cat";})();a.omb=new (function(){this.getValue=function(a,b,c){return this.o="DE" === c.Oa || null;};this.type="cat";})();a.pmb=new (function(){this.getValue=function(a,b,c){return this.o="DK" === c.Oa || null;};this.type="cat";})();a.qmb=new (function(){this.getValue=function(a,b,c){return this.o="DM" === c.Oa || null;};this.type="cat";})();a.rmb=new (function(){this.getValue=function(a,b,c){return this.o="DO" === c.Oa || null;};this.type="cat";})();a.smb=new (function(){this.getValue=function(a,b,c){return this.o="EC" === c.Oa || null;};this.type="cat";})();a.tmb=new (function(){this.getValue=function(a,b,c){return this.o="EE" === c.Oa || null;};this.type="cat";})();a.umb=new (function(){this.getValue=function(a,b,c){return this.o="EG" === c.Oa || null;};this.type="cat";})();a.vmb=new (function(){this.getValue=function(a,b,c){return this.o="ES" === c.Oa || null;};this.type="cat";})();a.wmb=new (function(){this.getValue=function(a,b,c){return this.o="FI" === c.Oa || null;};this.type="cat";})();a.xmb=new (function(){this.getValue=function(a,b,c){return this.o="FR" === c.Oa || null;};this.type="cat";})();a.ymb=new (function(){this.getValue=function(a,b,c){return this.o="GB" === c.Oa || null;};this.type="cat";})();a.zmb=new (function(){this.getValue=function(a,b,c){return this.o="GF" === c.Oa || null;};this.type="cat";})();a.Amb=new (function(){this.getValue=function(a,b,c){return this.o="GP" === c.Oa || null;};this.type="cat";})();a.Bmb=new (function(){this.getValue=function(a,b,c){return this.o="GT" === c.Oa || null;};this.type="cat";})();a.Cmb=new (function(){this.getValue=function(a,b,c){return this.o="HK" === c.Oa || null;};this.type="cat";})();a.Dmb=new (function(){this.getValue=function(a,b,c){return this.o="HN" === c.Oa || null;};this.type="cat";})();a.Emb=new (function(){this.getValue=function(a,b,c){return this.o="HR" === c.Oa || null;};this.type="cat";})();a.Fmb=new (function(){this.getValue=function(a,b,c){return this.o="HU" === c.Oa || null;};this.type="cat";})();a.Gmb=new (function(){this.getValue=function(a,b,c){return this.o="ID" === c.Oa || null;};this.type="cat";})();a.Hmb=new (function(){this.getValue=function(a,b,c){return this.o="IE" === c.Oa || null;};this.type="cat";})();a.Imb=new (function(){this.getValue=function(a,b,c){return this.o="IL" === c.Oa || null;};this.type="cat";})();a.Jmb=new (function(){this.getValue=function(a,b,c){return this.o="IN" === c.Oa || null;};this.type="cat";})();a.Kmb=new (function(){this.getValue=function(a,b,c){return this.o="IT" === c.Oa || null;};this.type="cat";})();a.Lmb=new (function(){this.getValue=function(a,b,c){return this.o="JE" === c.Oa || null;};this.type="cat";})();a.Mmb=new (function(){this.getValue=function(a,b,c){return this.o="JM" === c.Oa || null;};this.type="cat";})();a.Nmb=new (function(){this.getValue=function(a,b,c){return this.o="JP" === c.Oa || null;};this.type="cat";})();a.Omb=new (function(){this.getValue=function(a,b,c){return this.o="KE" === c.Oa || null;};this.type="cat";})();a.Pmb=new (function(){this.getValue=function(a,b,c){return this.o="KN" === c.Oa || null;};this.type="cat";})();a.Qmb=new (function(){this.getValue=function(a,b,c){return this.o="KR" === c.Oa || null;};this.type="cat";})();a.Rmb=new (function(){this.getValue=function(a,b,c){return this.o="LU" === c.Oa || null;};this.type="cat";})();a.Smb=new (function(){this.getValue=function(a,b,c){return this.o="MK" === c.Oa || null;};this.type="cat";})();a.Tmb=new (function(){this.getValue=function(a,b,c){return this.o="MU" === c.Oa || null;};this.type="cat";})();a.Umb=new (function(){this.getValue=function(a,b,c){return this.o="MX" === c.Oa || null;};this.type="cat";})();a.Vmb=new (function(){this.getValue=function(a,b,c){return this.o="MY" === c.Oa || null;};this.type="cat";})();a.Wmb=new (function(){this.getValue=function(a,b,c){return this.o="NI" === c.Oa || null;};this.type="cat";})();a.Xmb=new (function(){this.getValue=function(a,b,c){return this.o="NL" === c.Oa || null;};this.type="cat";})();a.Ymb=new (function(){this.getValue=function(a,b,c){return this.o="NO" === c.Oa || null;};this.type="cat";})();a.Zmb=new (function(){this.getValue=function(a,b,c){return this.o="NZ" === c.Oa || null;};this.type="cat";})();a.$mb=new (function(){this.getValue=function(a,b,c){return this.o="OM" === c.Oa || null;};this.type="cat";})();a.anb=new (function(){this.getValue=function(a,b,c){return this.o="PA" === c.Oa || null;};this.type="cat";})();a.bnb=new (function(){this.getValue=function(a,b,c){return this.o="PE" === c.Oa || null;};this.type="cat";})();a.cnb=new (function(){this.getValue=function(a,b,c){return this.o="PF" === c.Oa || null;};this.type="cat";})();a.dnb=new (function(){this.getValue=function(a,b,c){return this.o="PH" === c.Oa || null;};this.type="cat";})();a.enb=new (function(){this.getValue=function(a,b,c){return this.o="PK" === c.Oa || null;};this.type="cat";})();a.fnb=new (function(){this.getValue=function(a,b,c){return this.o="PL" === c.Oa || null;};this.type="cat";})();a.gnb=new (function(){this.getValue=function(a,b,c){return this.o="PT" === c.Oa || null;};this.type="cat";})();a.hnb=new (function(){this.getValue=function(a,b,c){return this.o="PY" === c.Oa || null;};this.type="cat";})();a.inb=new (function(){this.getValue=function(a,b,c){return this.o="QA" === c.Oa || null;};this.type="cat";})();a.jnb=new (function(){this.getValue=function(a,b,c){return this.o="RO" === c.Oa || null;};this.type="cat";})();a.knb=new (function(){this.getValue=function(a,b,c){return this.o="RS" === c.Oa || null;};this.type="cat";})();a.lnb=new (function(){this.getValue=function(a,b,c){return this.o="RU" === c.Oa || null;};this.type="cat";})();a.mnb=new (function(){this.getValue=function(a,b,c){return this.o="SA" === c.Oa || null;};this.type="cat";})();a.nnb=new (function(){this.getValue=function(a,b,c){return this.o="SE" === c.Oa || null;};this.type="cat";})();a.onb=new (function(){this.getValue=function(a,b,c){return this.o="SG" === c.Oa || null;};this.type="cat";})();a.pnb=new (function(){this.getValue=function(a,b,c){return this.o="SV" === c.Oa || null;};this.type="cat";})();a.qnb=new (function(){this.getValue=function(a,b,c){return this.o="SX" === c.Oa || null;};this.type="cat";})();a.rnb=new (function(){this.getValue=function(a,b,c){return this.o="TH" === c.Oa || null;};this.type="cat";})();a.snb=new (function(){this.getValue=function(a,b,c){return this.o="TR" === c.Oa || null;};this.type="cat";})();a.tnb=new (function(){this.getValue=function(a,b,c){return this.o="TT" === c.Oa || null;};this.type="cat";})();a.unb=new (function(){this.getValue=function(a,b,c){return this.o="TW" === c.Oa || null;};this.type="cat";})();a.vnb=new (function(){this.getValue=function(a,b,c){return this.o="US" === c.Oa || null;};this.type="cat";})();a.wnb=new (function(){this.getValue=function(a,b,c){return this.o="UY" === c.Oa || null;};this.type="cat";})();a.xnb=new (function(){this.getValue=function(a,b,c){return this.o="VE" === c.Oa || null;};this.type="cat";})();a.ynb=new (function(){this.getValue=function(a,b,c){return this.o="ZA" === c.Oa || null;};this.type="cat";})();a.hLb=new (function(){this.getValue=function(a,b,c){return this.o=1 === c.wh || null;};this.type="cat";})();a.iLb=new (function(){this.getValue=function(a,b,c){return this.o=10 === c.wh || null;};this.type="cat";})();a.jLb=new (function(){this.getValue=function(a,b,c){return this.o=11 === c.wh || null;};this.type="cat";})();a.kLb=new (function(){this.getValue=function(a,b,c){return this.o=12 === c.wh || null;};this.type="cat";})();a.lLb=new (function(){this.getValue=function(a,b,c){return this.o=13 === c.wh || null;};this.type="cat";})();a.mLb=new (function(){this.getValue=function(a,b,c){return this.o=14 === c.wh || null;};this.type="cat";})();a.nLb=new (function(){this.getValue=function(a,b,c){return this.o=15 === c.wh || null;};this.type="cat";})();a.oLb=new (function(){this.getValue=function(a,b,c){return this.o=16 === c.wh || null;};this.type="cat";})();a.pLb=new (function(){this.getValue=function(a,b,c){return this.o=17 === c.wh || null;};this.type="cat";})();a.qLb=new (function(){this.getValue=function(a,b,c){return this.o=18 === c.wh || null;};this.type="cat";})();a.rLb=new (function(){this.getValue=function(a,b,c){return this.o=19 === c.wh || null;};this.type="cat";})();a.sLb=new (function(){this.getValue=function(a,b,c){return this.o=2 === c.wh || null;};this.type="cat";})();a.tLb=new (function(){this.getValue=function(a,b,c){return this.o=20 === c.wh || null;};this.type="cat";})();a.uLb=new (function(){this.getValue=function(a,b,c){return this.o=21 === c.wh || null;};this.type="cat";})();a.vLb=new (function(){this.getValue=function(a,b,c){return this.o=22 === c.wh || null;};this.type="cat";})();a.wLb=new (function(){this.getValue=function(a,b,c){return this.o=23 === c.wh || null;};this.type="cat";})();a.xLb=new (function(){this.getValue=function(a,b,c){return this.o=3 === c.wh || null;};this.type="cat";})();a.yLb=new (function(){this.getValue=function(a,b,c){return this.o=4 === c.wh || null;};this.type="cat";})();a.zLb=new (function(){this.getValue=function(a,b,c){return this.o=5 === c.wh || null;};this.type="cat";})();a.ALb=new (function(){this.getValue=function(a,b,c){return this.o=6 === c.wh || null;};this.type="cat";})();a.BLb=new (function(){this.getValue=function(a,b,c){return this.o=7 === c.wh || null;};this.type="cat";})();a.CLb=new (function(){this.getValue=function(a,b,c){return this.o=8 === c.wh || null;};this.type="cat";})();a.DLb=new (function(){this.getValue=function(a,b,c){return this.o=9 === c.wh || null;};this.type="cat";})();a.eRb=new (function(){this.update=function(a){"down" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.gRb=new (function(){this.update=function(a){"right" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.fRb=new (function(){this.update=function(a){"left" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.hRb=new (function(){this.update=function(a){"up" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.eEb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";})();a.fEb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.kfa);};this.getValue=function(){return this.o;};this.type="num";})();a.mEb=new (function(){this.AN=this.o=0;this.update=function(a){this.AN++;this.o=1 * (this.o + a.rowIndex) / this.AN;};this.getValue=function(){return this.o;};this.type="num";})();a.nEb=new (function(){this.AN=this.o=0;this.update=function(a){this.AN++;return this.o=1 * (this.o + a.kfa) / this.AN;};this.getValue=function(){return this.o;};this.type="num";})();a.TJb=new (function(){this.getValue=function(a,b,c){return this.o=c.kfa + b;};this.type="num";})();a.UJb=new (function(){this.getValue=function(a,b,c){return this.o=c.rowIndex + a;};this.type="num";})();k.prototype.WA=function(a){return this.mGa(this.J["0"].JYa(a),a);};k.prototype.mGa=function(a,b){return "string" == typeof a?this.mGa(this.J[a].JYa(b),b):a;};c.prototype.JYa=function(a){switch(this.zBb){case 0:switch(a.Kd[this.VT].type){case "cat":return null === a.Kd[this.VT].value?this.oUa:"missing" == a.Kd[this.VT].value?this.Zma:this.u2a;case "num":return null === a.Kd[this.VT].value?this.Zma:a.Kd[this.VT].value < this.split?this.u2a:this.oUa;default:return this.Zma;}case 1:return this.WA;default:return this.WA;}};b.declare({LR:["modelSelector","modelone"],ilb:["colEpisodeList",5],kzb:["holdDuration",15E3],wYa:["rowFirst",2],NJa:["colFirst",5],yYa:["rowScroll",2],OJa:["colScroll",6],YMb:["rowScrollHorizontal",6],uNb:["searchTop",3],TKa:["cwFirst",2],HQ:["horizontalItemsFocusedMode",3],ABb:["itemsPerRank",1],YDb:["maxNumberPayloadsStored",10],jTa:["maxNumberTitlesScheduled",5],U2b:["enableDetailedLogging",!0],V5b:["rowStep",20],e2b:["colStep",15],w5b:["pageRows",100],v5b:["pageColumns",75],rma:["maskParamsList",new (function(){var a,b;this.rma=[];this.Bk={};this.v4=20;this.nZ=15;for(a=0;100 > a;a++){for(b=0;75 > b;b++){(Math.floor(a / this.v4) + "_" + Math.floor(b / this.nZ) in this.Bk) || (this.Bk[Math.floor(a / this.v4) + "_" + Math.floor(b / this.nZ)]=1,this.rma.push(new h(0,0,0,0,Math.floor(a / this.v4),Math.floor(b / this.nZ))));}}})().rma],J:["nodes",new k().J],mapping:["mapping",{fEb:"0",nEb:"1",eEb:"2",mEb:"3",cib:"4",hRb:"5",fRb:"6",gRb:"7",eRb:"8",UJb:"9",TJb:"10",nCb:"11",oCb:"12",qCb:"13",rCb:"14",pCb:"15",sCb:"16",tCb:"17",uCb:"18",vCb:"19",wCb:"20",xCb:"21",yCb:"22",zCb:"23",ACb:"24",BCb:"25",CCb:"26",hLb:"27",iLb:"28",jLb:"29",kLb:"30",lLb:"31",mLb:"32",nLb:"33",oLb:"34",pLb:"35",qLb:"36",rLb:"37",sLb:"38",tLb:"39",uLb:"40",vLb:"41",wLb:"42",xLb:"43",yLb:"44",zLb:"45",ALb:"46",BLb:"47",CLb:"48",DLb:"49",$lb:"50",amb:"51",bmb:"52",cmb:"53",dmb:"54",emb:"55",fmb:"56",gmb:"57",hmb:"58",imb:"59",jmb:"60",kmb:"61",lmb:"62",mmb:"63",nmb:"64",omb:"65",pmb:"66",qmb:"67",rmb:"68",smb:"69",tmb:"70",umb:"71",vmb:"72",wmb:"73",xmb:"74",ymb:"75",zmb:"76",Amb:"77",Bmb:"78",Cmb:"79",Dmb:"80",Emb:"81",Fmb:"82",Gmb:"83",Hmb:"84",Imb:"85",Jmb:"86",Kmb:"87",Lmb:"88",Mmb:"89",Nmb:"90",Omb:"91",Pmb:"92",Qmb:"93",Rmb:"94",Smb:"95",Tmb:"96",Umb:"97",Vmb:"98",Wmb:"99",Xmb:"100",Ymb:"101",Zmb:"102",$mb:"103",anb:"104",bnb:"105",cnb:"106",dnb:"107",enb:"108",fnb:"109",gnb:"110",hnb:"111",inb:"112",jnb:"113",knb:"114",lnb:"115",mnb:"116",nnb:"117",onb:"118",pnb:"119",qnb:"120",rnb:"121",snb:"122",tnb:"123",unb:"124",vnb:"125",wnb:"126",xnb:"127",ynb:"128",QUb:"129",cLb:"130",PPb:"131",pl:"132",Plb:"133",hub:"134",zSb:"135",jSb:"136",Qib:"137",GFb:"138",TSb:"139",oJb:"140",Lib:"141",Pib:"142",Mib:"143",EFb:"144"}],Kd:["features",a],f1b:["_modelName","tree"],Y0b:["_format","xgboost"],e1b:["_itemsToKeep",5],d1b:["_itemsThreshold",null],L1b:["cacheLimit",20]});d.W={config:b,u4b:h,n2b:c};},function(d,b,a){d.W=a(530);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(531);O._cad_global={};O.DEBUG=!1;a(11);a(9);a(15);a(22);a(48);a(110);a(1195);a(521);a(55);a(50);a(18);a(69);a(59);a(1196);a(273);a(326);a(1197);a(501);a(1198);a(523);a(257);a(433);a(498);a(505);a(503);a(504);a(524);a(492);a(493);a(495);a(187);a(268);a(1199);a(12);a(510);a(1200);a(189);a(68);a(499);a(145);a(434);a(435);a(258);a(1201);a(1202);a(461);a(1203);a(455);a(270);a(451);a(269);a(491);a(1204);a(272);a(507);a(184);a(525);a(83);a(1205);a(95);a(1209);a(1210);a(1211);a(1212);a(1213);a(1215);a(506);a(58);a(1216);a(502);a(436);a(500);a(509);a(1217);a(1218);a(519);a(191);a(1219);a(1220);a(1221);a(1222);a(1225);a(496);},function(d,b,a){(function(a){var b;(function(b){var la,Y,Q,qa,va,ga,ba,S,Aa;function c(a,b,c){var f;f=Aa.get(a);if(!f){if(!c)return;f=new ba();Aa.set(a,f);}a=f.get(b);if(!a){if(!c)return;a=new ba();f.set(b,a);}return a;}function f(a,b,c){if(d(a,b,c))return !0;b=I(b);return null !== b?f(a,b,c):!1;}function d(a,b,f){b=c(b,f,!1);return void 0 !== b && ! !b.has(a);}function l(a,b,c){if(d(a,b,c))return h(a,b,c);b=I(b);return null !== b?l(a,b,c):void 0;}function h(a,b,f){b=c(b,f,!1);return void 0 === b?void 0:b.get(a);}function k(a,b){var c,d;c=g(a,b);a=I(a);if(null === a)return c;b=k(a,b);if(0 >= b.length)return c;if(0 >= c.length)return b;a=new S();for(var f=0;f < c.length;f++){d=c[f];a.add(d);}for(c=0;c < b.length;c++){d=b[c];a.add(d);}return p(a);}function g(a,b){var f;a=c(a,b,!1);f=[];a && n(a,function(a,b){return f.push(b);});return f;}function z(a){return void 0 === a;}function y(a){return Array.isArray?Array.isArray(a):a instanceof Array || "[object Array]" === Object.prototype.toString.call(a);}function B(a){return "object" === typeof a?null !== a:"function" === typeof a;}function L(a){return "symbol" === typeof a?a:String(a);}function I(a){var b,c;b=Object.getPrototypeOf(a);if("function" !== typeof a || a === ga || b !== ga)return b;c=a.prototype;c=c && Object.getPrototypeOf(c);if(null == c || c === Object.prototype)return b;c=c.constructor;return "function" !== typeof c || c === a?b:c;}function E(a){a=a.next();return a.done?void 0:a;}function n(a,b){var c,f,d;c=a.entries;if("function" === typeof c){c=c.call(a);try{for(;f=E(c);){d=f.value;b.call(void 0,d[1],d[0],a);}}finally{f && (a=c["return"]) && a.call(c);}}else (c=a.forEach,"function" === typeof c && c.call(a,b,void 0));}function p(a){var b;b=[];n(a,function(a,c){b.push(c);});return b;}function R(a,b,c){var f;f=0;return {next:function(){var d;if((a || b) && f < (a || b).length){d=f++;switch(c){case "key":return {value:a[d],done:!1};case "value":return {value:b[d],done:!1};case "key+value":return {value:[a[d],b[d]],done:!1};}}b=a=void 0;return {value:void 0,done:!0};},"throw":function(c){if(a || b)b=a=void 0;throw c;},"return":function(c){if(a || b)b=a=void 0;return {value:c,done:!0};}};}function M(){var a;a={};return (function(){function b(){this.Vq=[];this.Yv=[];this.UW=a;this.TW=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Vq.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0 <= this.qX(a,!1);};b.prototype.get=function(a){a=this.qX(a,!1);return 0 <= a?this.Yv[a]:void 0;};b.prototype.set=function(a,b){a=this.qX(a,!0);this.Yv[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.qX(b,!1);if(0 <= c){b=this.Vq.length;for(c+=1;c < b;c++){this.Vq[c - 1]=this.Vq[c];this.Yv[c - 1]=this.Yv[c];}this.Vq.length--;this.Yv.length--;this.UW=a;this.TW=-2;return !0;}return !1;};b.prototype.clear=function(){this.Vq.length=0;this.Yv.length=0;this.UW=a;this.TW=-2;};b.prototype.keys=function(){return R(this.Vq,void 0,"key");};b.prototype.values=function(){return R(void 0,this.Yv,"value");};b.prototype.entries=function(){return R(this.Vq,this.Yv,"key+value");};b.prototype.qX=function(a,b){var c;if(this.UW === a)return this.TW;c=this.Vq.indexOf(a);0 > c && b && (c=this.Vq.length,this.Vq.push(a),this.Yv.push(void 0));return (this.UW=a,this.TW=c);};return b;})();}function D(){return (function(){function a(){this.Uj=new ba();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Uj.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Uj.has(a);};a.prototype.add=function(a){return (this.Uj.set(a,a),this);};a.prototype["delete"]=function(a){return this.Uj["delete"](a);};a.prototype.clear=function(){this.Uj.clear();};a.prototype.keys=function(){return this.Uj.keys();};a.prototype.values=function(){return this.Uj.values();};a.prototype.entries=function(){return this.Uj.entries();};return a;})();}function U(){var f,d;function a(a){for(var b=0;16 > b;++b){a[b]=255 * Math.random() | 0;}return a;}function b(){var b,l;do {b="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6] & 79 | 64;b[8]=b[8] & 191 | 128;for(var c="",d=0;16 > d;++d){l=b[d];if(4 === d || 6 === d || 8 === d)c+="-";16 > l && (c+="0");c+=l.toString(16).toLowerCase();}b="@@WeakMap@@" + c;}while(va.has(f,b));f[b]=!0;return b;}function c(a,b){if(!la.call(a,d)){if(!b)return;Object.defineProperty(a,d,{value:qa()});}return a[d];}f=qa();d=b();return (function(){function a(){this.NN=b();}a.prototype.has=function(a){a=c(a,!1);return void 0 !== a?va.has(a,this.NN):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0 !== a?va.get(a,this.NN):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.NN]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0 !== a?delete a[this.NN]:!1;};a.prototype.clear=function(){this.NN=b();};return a;})();}function r(a){a.T0b=1;delete a.U0b;return a;}la=Object.prototype.hasOwnProperty;Y="function" === typeof Object.create;Q=(function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__ === b;})();qa=Y?function(){return r(Object.create(null));}:Q?function(){return r({__proto__:null});}:function(){return r({});};(function(a){var b;b=!Y && !Q;a.has=b?function(a,b){return la.call(a,b);}:function(a,b){return (b in a);};a.get=b?function(a,b){return la.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};})(va || (va={}));ga=Object.getPrototypeOf(Function);ba="function" === typeof Map?Map:M();S="function" === typeof Set?Set:D();Aa=new ("function" === typeof WeakMap?WeakMap:U())();b.Ez=function(a,b,c,f){var l;if(z(f)){if(z(c)){if(!y(a))throw new TypeError();if("function" !== typeof b)throw new TypeError();for(c=a.length - 1;0 <= c;--c){if((f=(0,a[c])(b),!z(f))){if("function" !== typeof f)throw new TypeError();b=f;}}return b;}if(!y(a))throw new TypeError();if(!B(b))throw new TypeError();c=L(c);for(f=a.length - 1;0 <= f;--f){(0,a[f])(b,c);}}else {if(!y(a))throw new TypeError();if(!B(b))throw new TypeError();if(z(c))throw new TypeError();if(!B(f))throw new TypeError();c=L(c);for(var d=a.length - 1;0 <= d;--d){l=(0,a[d])(b,c,f);if(!z(l)){if(!B(l))throw new TypeError();f=l;}}return f;}};b.Ld=function(a,b){return function(f,d){if(z(d)){if("function" !== typeof f)throw new TypeError();c(f,void 0,!0).set(a,b);}else {if(!B(f))throw new TypeError();d=L(d);c(f,d,!0).set(a,b);}};};b.rga=function(a,b,f){var d;if(!B(f))throw new TypeError();z(d) || (d=L(d));c(f,d,!0).set(a,b);};b.Ryb=function(a,b){var c;if(!B(b))throw new TypeError();z(c) || (c=L(c));return f(a,b,c);};b.Sja=function(a,b){var c;if(!B(b))throw new TypeError();z(c) || (c=L(c));return d(a,b,c);};b.getMetadata=function(a,b,c){if(!B(b))throw new TypeError();z(c) || (c=L(c));return l(a,b,c);};b.z3b=function(a,b,c){if(!B(b))throw new TypeError();z(c) || (c=L(c));return h(a,b,c);};b.y3b=function(a,b){if(!B(a))throw new TypeError();z(b) || (b=L(b));return k(a,b);};b.A3b=function(a,b){if(!B(a))throw new TypeError();z(b) || (b=L(b));return g(a,b);};b.x2b=function(a,b,f){var d;if(!B(b))throw new TypeError();z(f) || (f=L(f));d=c(b,f,!1);if(z(d) || !d["delete"](a))return !1;if(0 < d.size)return !0;a=Aa.get(b);a["delete"](f);if(0 < a.size)return !0;Aa["delete"](b);return !0;};(function(a){if("undefined" !== typeof a.Reflect){if(a.Reflect !== b)for(var c in b){la.call(b,c) && (a.Reflect[c]=b[c]);}}else a.Reflect=b;})("undefined" !== typeof O?O:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a?a:Function("return this;")());})(b || (b={}));}).call(this,a(192));},function(d,b,a){var c,k,h,m,f,q,l,u,t,x,z,y;c=this && this.__awaiter || (function(a,b,c,f){return new (c || (c=Promise))(function(d,l){function h(a){try{m(f.next(a));}catch(ka){l(ka);}}function q(a){try{m(f["throw"](a));}catch(ka){l(ka);}}function m(a){a.done?d(a.value):new c(function(b){b(a.value);}).then(h,q);}m((f=f.apply(a,b || [])).next());});});k=this && this.__generator || (function(a,b){var d,l,h,q,m;function c(a){return function(b){return f([a,b]);};}function f(c){if(l)throw new TypeError("Generator is already executing.");for(;d;){try{if((l=1,h && (q=h[c[0] & 2?"return":c[0]?"throw":"next"]) && !(q=q.call(h,c[1])).done))return q;if((h=0,q))c=[0,q.value];switch(c[0]){case 0:case 1:q=c;break;case 4:return (d.label++,{value:c[1],done:!1});case 5:d.label++;h=c[1];c=[0];continue;case 7:c=d.zE.pop();d.AF.pop();continue;default:if(!(q=d.AF,q=0 < q.length && q[q.length - 1]) && (6 === c[0] || 2 === c[0])){d=0;continue;}if(3 === c[0] && (!q || c[1] > q[0] && c[1] < q[3]))d.label=c[1];else if(6 === c[0] && d.label < q[1])(d.label=q[1],q=c);else if(q && d.label < q[2])(d.label=q[2],d.zE.push(c));else {q[2] && d.zE.pop();d.AF.pop();continue;}}c=b.call(a,d);}catch(ka){c=[6,ka];h=0;}finally{l=q=0;}}if(c[0] & 5)throw c[1];return {value:c[0]?c[1]:void 0,done:!0};}d={label:0,sm:function(){if(q[0] & 1)throw q[1];return q[1];},AF:[],zE:[]};g();g();p();return (m={next:c(0),"throw":c(1),"return":c(2)},"function" === typeof Symbol && (m[Symbol.iterator]=function(){return this;}),m);});Object.defineProperty(b,"__esModule",{value:!0});h=a(533);m=a(51);f=a(72);a(40);q=a(281);l=a(534);u=a(541);t=a(543);x=a(96);z=a(128);a(546);y=a(547);d=(function(){function a(a){a=a || ({});if("object" !== typeof a)throw Error("" + m.n4a);if(void 0 === a.sD)a.sD=f.Hq.DW;else if(a.sD !== f.Hq.kaa && a.sD !== f.Hq.DW && a.sD !== f.Hq.Request)throw Error("" + m.l4a);if(void 0 === a.UO)a.UO=!1;else if("boolean" !== typeof a.UO)throw Error("" + m.k4a);if(void 0 === a.fF)a.fF=!1;else if("boolean" !== typeof a.fF)throw Error("" + m.m4a);this.options={UO:a.UO,sD:a.sD,fF:a.fF};this.id=x.id();this.IG=new y.R7a();this.tfb=[];this.parent=this.oca=null;this.hdb=new q.s9();}a.L4b=function(b,c){var d,h;function f(a,b){a.ySb(function(a,c){c.forEach(function(a){b.add(a.yf,a.clone());});});}d=new a();h=l.nia(d);b=l.nia(b);c=l.nia(c);f(b,h);f(c,h);return d;};a.prototype.load=function(){var f,d;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}for(var b=this.MEa(),c=0;c < a.length;c++){f=a[c];d=b(f.id);f.mpa(d.yIa,d.W0a,d.ERa,d.pXa);}};a.prototype.iR=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return c(this,void 0,void 0,function(){var b,c,f,d,l;return k(this,function(h){switch(h.label){case 0:(b=this.MEa(),c=0,f=a,h.label=1);case 1:if(!(c < f.length))return [3,4];d=f[c];l=b(d.id);return [4,d.mpa(l.yIa,l.W0a,l.ERa,l.pXa)];case 2:(h.sm(),h.label=3);case 3:return (c++,[3,1]);case 4:return [2];}});});};a.prototype.bind=function(a){var b;b=new h.x3a(a,this.options.sD || f.Hq.DW);this.IG.add(a,b);return new t.z3a(b);};a.prototype.XKb=function(a){this.V0a(a);return this.bind(a);};a.prototype.V0a=function(a){try{this.IG.remove(a);}catch(I){throw Error(m.W3a + " " + z.XI(a));}};a.prototype.bRa=function(a){var b;b=this.IG.VPa(a);!b && this.parent && (b=this.parent.bRa(a));return b;};a.prototype.restore=function(){var a;a=this.tfb.pop();if(void 0 === a)throw Error(m.G8a);this.IG=a.WO;this.oca=a.NEb;};a.prototype.Gnb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.JEa(!1,!1,f.Cv.Laa,a);};a.prototype.getAll=function(a){return this.JEa(!0,!0,f.Cv.Laa,a);};a.prototype.resolve=function(a){var b;b=this.Gnb();b.bind(a).s0a();return b.get(a);};a.prototype.MEa=function(){var d;function a(a){return function(b){b=d.XKb.bind(d)(b);b.Ub.lFb=a;return b;};}function b(){return function(a){return d.bRa.bind(d)(a);};}function c(){return function(a){d.V0a.bind(d)(a);};}function f(a){return function(b){b=d.bind.bind(d)(b);b.Ub.lFb=a;return b;};}d=this;return function(d){return {yIa:f(d),ERa:b(),pXa:a(d),W0a:c()};};};a.prototype.JEa=function(a,b,c,f){var d;d=null;a={xib:a,Olb:function(a){return a;},XAb:b,key:void 0,yf:f,zRb:c,value:void 0};if(this.oca){if((d=this.oca(a),void 0 === d || null === d))throw Error(m.w7a);}else d=this.ueb()(a);return d;};a.prototype.ueb=function(){var a;a=this;return function(b){var c;c=l.rK(a.hdb,a,b.XAb,b.zRb,b.yf,b.key,b.value,b.xib);c=b.Olb(c);return u.resolve(c);};};return a;})();b.GU=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(72);k=a(96);d=(function(){function a(a,b){this.id=k.id();this.ida=!1;this.yf=a;this.scope=b;this.type=c.oj.I7a;this.kD=function(){return !0;};this.vI=this.zu=this.Hu=this.GI=this.cache=this.cl=null;}a.prototype.clone=function(){var b;b=new a(this.yf,this.scope);b.ida=!1;b.cl=this.cl;b.vI=this.vI;b.scope=this.scope;b.type=this.type;b.GI=this.GI;b.Hu=this.Hu;b.kD=this.kD;b.zu=this.zu;b.cache=this.cache;return b;};return a;})();b.x3a=d;},function(d,b,a){var f,q,l,u,t,g,z,y,B,L,I,E;function c(a,b,c,d,l){var h,q;h=m(c.gb,l.yf);q=[];h.length === f.D6.kza && c.gb.options.UO && "function" === typeof l.yf && a.VNa(l.yf).VJa && (c.gb.bind(l.yf).s0a(),h=m(c.gb,l.yf));q=b?h:h.filter(function(a){var b;b=new I.Request(a.yf,c,d,a,l);return a.kD(b);});k(l.yf,q,l,c.gb);return q;}function k(a,b,c,d){switch(b.length){case f.D6.kza:if(c.nRa())break;a=g.XI(a);b=q.F8a;b+=g.mCb(a,c);b+=g.hSa(d,a,m);throw Error(b);case f.D6.V8a:if(!c.isArray())break;default:if(!c.isArray())throw (a=g.XI(a),b=q.z2a + " " + a,b+=g.hSa(d,a,m),Error(b));}}function h(a,b,f,d,m,k){var u;null === m?(b=c(a,b,d,null,k),u=new I.Request(f,d,null,b,k),f=new B.R9a(d,u),d.Igb(f)):(b=c(a,b,d,m,k),u=m.SGa(k.yf,b,k));b.forEach(function(b){var c,f,m;c=null;if(k.isArray())c=u.SGa(b.yf,b,k);else {if(b.cache)return;c=u;}if(b.type === l.oj.z8 && null !== b.cl){f=L.lvb(a,b.cl);if(!d.gb.options.fF){m=L.Eub(a,b.cl);if(f.length < m)throw (b=q.A2a(L.getFunctionName(b.cl)),Error(b));}f.forEach(function(b){h(a,!1,b.yf,d,c,b);});}});}function m(a,b){var c,f;c=[];f=a.IG;f.VPa(b)?c=f.get(b):null !== a.parent && (c=m(a.parent,b));return c;}Object.defineProperty(b,"__esModule",{value:!0});f=a(535);q=a(51);l=a(72);u=a(40);t=a(282);g=a(128);z=a(536);y=a(60);B=a(537);L=a(538);I=a(540);E=a(284);b.nia=function(a){return a.IG;};b.rK=function(a,b,c,f,d,l,q,m){void 0 === m && (m=!1);b=new z.Aua(b);c=new y.Metadata(c?u.MB:u.zM,d);f=new E.yW(f,"",d,c);void 0 !== l && (l=new y.Metadata(l,q),f.Ld.push(l));try{return (h(a,m,d,b,null,f),b);}catch(Y){throw (t.wRa(Y) && b.rK && g.Mkb(b.rK.Opa),Y);}};b.j2b=function(a,b,c,f){c=new E.yW(l.Cv.Laa,"",b,new y.Metadata(c,f));a=new z.Aua(a);return new I.Request(b,a,null,[],c);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D6={HYb:2,kza:0,V8a:1};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(96);d=(function(){function a(a){this.id=c.id();this.gb=a;}a.prototype.Igb=function(a){this.rK=a;};return a;})();b.Aua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R9a=(function(){return function(a,b){this.nK=a;this.Opa=b;};})();},function(d,b,a){var f,q,l,u,t,g;function c(a,b,c,d){var h,u,y,B,L,n,p,r,Q,qa;h=a.VNa(c);u=h.VJa;if(void 0 === u)throw Error(q.d8a + " " + b + ".");for(var h=h.fUb,t=Object.keys(h),x=0 === c.length && 0 < t.length?t.length:c.length,t=[],z=0;z < x;z++){B=z;L=d;n=b;p=u;y=h[B.toString()] || [];r=m(y);Q=!0 !== r.Ai;p=p[B];qa=r.l || r.rE;p=qa?qa:p;p instanceof f.I8 && (p=p.$Sb());if(Q){Q=p === Function;Q=p === Object || Q || void 0 === p;if(!L && Q)throw Error(q.e8a + " argument " + B + " in class " + n + ".");B=new g.yW(l.Cv.zua,r.FT,p);B.Ld=y;y=B;}else y=null;null !== y && t.push(y);}a=k(a,c);return t.concat(a);}function k(a,b){var q,u,t;for(var c=a.bxb(b),f=[],d=0,h=Object.keys(c);d < h.length;d++){q=h[d];u=c[q];t=m(c[q]);q=new g.yW(l.Cv.rua,t.FT || q,t.l || t.rE);q.Ld=u;f.push(q);}b=Object.getPrototypeOf(b.prototype).constructor;b !== Object && (a=k(a,b),f=f.concat(a));return f;}function h(a,b){var f,d;b=Object.getPrototypeOf(b.prototype).constructor;if(b !== Object){f=t.getFunctionName(b);f=c(a,f,b,!0);d=f.map(function(a){return a.Ld.filter(function(a){return a.key === u.iN;});});d=[].concat.apply([],d).length;f=f.length - d;return 0 < f?f:h(a,b);}return 0;}function m(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return {l:b[u.zM],rE:b[u.MB],FT:b[u.HV],Ai:b[u.iN]};}Object.defineProperty(b,"__esModule",{value:!0});f=a(283);q=a(51);l=a(72);u=a(40);t=a(128);b.getFunctionName=t.getFunctionName;g=a(284);b.lvb=function(a,b){var f;f=t.getFunctionName(b);return c(a,f,b,!1);};b.Eub=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.bB=a;}a.prototype.startsWith=function(a){return 0 === this.bB.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.bB.split("").reverse().join("");return this.startsWith.call({bB:a},b);};a.prototype.contains=function(a){return -1 !== this.bB.indexOf(a);};a.prototype.equals=function(a){return this.bB === a;};a.prototype.value=function(){return this.bB;};return a;})();b.U9a=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(96);d=(function(){function a(a,b,f,d,l){this.id=c.id();this.yf=a;this.nK=b;this.Ix=f;this.target=l;this.Zea=[];this.WO=Array.isArray(d)?d:[d];this.sMb=null === f?new Map():null;}a.prototype.SGa=function(b,c,f){b=new a(b,this.nK,this,c,f);this.Zea.push(b);return b;};return a;})();b.Request=d;},function(d,b,a){var h,m,f,q,l;function c(a){return function(b){var f,d,u,t,g;f=b.WO;d=b.Zea;u=b.target && b.target.isArray();t=!b.Ix || !b.Ix.target || !b.target || !b.Ix.target.NDb(b.target.yf);if(u && t)return d.map(function(b){return c(a)(b);});u=null;if(!b.target.nRa() || 0 !== f.length){g=f[0];f=g.scope === m.Hq.kaa;t=g.scope === m.Hq.Request;if(f && g.ida)return g.cache;if(t && null !== a && a.has(g.id))return a.get(g.id);if(g.type === m.oj.xua)u=g.cache;else if(g.type === m.oj.Function)u=g.cache;else if(g.type === m.oj.yua)u=g.cl;else if(g.type === m.oj.yva && null !== g.vI)u=k("toDynamicValue",g.yf,function(){return g.vI(b.nK);});else if(g.type === m.oj.O7 && null !== g.GI)u=k("toFactory",g.yf,function(){return g.GI(b.nK);});else if(g.type === m.oj.pBa && null !== g.Hu)u=k("toProvider",g.yf,function(){return g.Hu(b.nK);});else if(g.type === m.oj.z8 && null !== g.cl)u=l.FMb(g.cl,d,c(a));else throw (d=q.XI(b.yf),Error(h.t7a + " " + d));"function" === typeof g.zu && (u=g.zu(b.nK,u));f && (g.cache=u,g.ida=!0);t && null !== a && !a.has(g.id) && a.set(g.id,u);return u;}};}function k(a,b,c){try{return c();}catch(z){if(f.wRa(z))throw Error(h.$3a(a,b.toString()));throw z;}}Object.defineProperty(b,"__esModule",{value:!0});h=a(51);m=a(72);f=a(282);q=a(128);l=a(542);b.resolve=function(a){return c(a.rK.Opa.sMb)(a.rK.Opa);};},function(d,b,a){var h,m,f;function c(a,b,c){var f;b=b.filter(function(a){return null !== a.target && a.target.type === m.Cv.rua;});f=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=f[c];});return a;}function k(a,b){var c;if(Reflect.Ryb(f.MM,a)){c=Reflect.getMetadata(f.MM,a);try{b[c.value]();}catch(t){throw Error(h.K9a(a.name,t.message));}}}Object.defineProperty(b,"__esModule",{value:!0});h=a(51);m=a(72);f=a(40);b.FMb=function(a,b,f){var d;d=null;0 < b.length?(d=b.filter(function(a){return null !== a.target && a.target.type === m.Cv.zua;}).map(f),d=new (a.bind.apply(a,[void 0].concat(d)))(),d=c(d,b,f)):d=new a();k(a,d);return d;};},function(d,b,a){var c,k,h,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(51);k=a(72);h=a(544);m=a(285);d=(function(){function a(a){this.Ub=a;}a.prototype.to=function(a){this.Ub.type=k.oj.z8;this.Ub.cl=a;return new h.Ita(this.Ub);};a.prototype.s0a=function(){if("function" !== typeof this.Ub.yf)throw Error("" + c.y7a);this.to(this.Ub.yf);};a.prototype.wi=function(a){this.Ub.type=k.oj.xua;this.Ub.cache=a;this.Ub.vI=null;this.Ub.cl=null;new m.wB(this.Ub);};a.prototype.cy=function(a){this.Ub.type=k.oj.yva;this.Ub.cache=null;this.Ub.vI=a;this.Ub.cl=null;return new h.Ita(this.Ub);};a.prototype.dSb=function(a){this.Ub.type=k.oj.yua;this.Ub.cl=a;new m.wB(this.Ub);};a.prototype.zf=function(a){this.Ub.type=k.oj.O7;this.Ub.GI=a;new m.wB(this.Ub);};a.prototype.q0a=function(a){this.Ub.type=k.oj.O7;this.Ub.GI=function(b){return function(){return b.gb.get(a);};};new m.wB(this.Ub);};a.prototype.IT=function(a){this.Ub.type=k.oj.pBa;this.Ub.Hu=a;new m.wB(this.Ub);};a.prototype.eSb=function(a){this.cy(function(b){return b.gb.get(a);});};return a;})();b.z3a=d;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(545);k=a(194);h=a(195);d=(function(){function a(a){this.Ub=a;this.uN=new h.E6(this.Ub);this.gba=new k.rU(this.Ub);this.UDa=new c.y3a(a);}a.prototype.Z=function(){return this.UDa.Z();};a.prototype.tka=function(){return this.UDa.tka();};a.prototype.when=function(a){return this.uN.when(a);};a.prototype.fU=function(){return this.uN.fU();};a.prototype.zu=function(a){return this.gba.zu(a);};return a;})();b.Ita=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(72);k=a(285);d=(function(){function a(a){this.Ub=a;}a.prototype.Z=function(){this.Ub.scope=c.Hq.kaa;return new k.wB(this.Ub);};a.prototype.tka=function(){this.Ub.scope=c.Hq.DW;return new k.wB(this.Ub);};return a;})();b.y3a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(){}a.of=function(b,d){var c;c=new a();c.WO=b;c.NEb=d;return c;};return a;})();b.nWb=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(51);d=(function(){function a(){this.Uj=new Map();}a.prototype.add=function(a,b){var f;if(null === a || void 0 === a)throw Error(c.HM);if(null === b || void 0 === b)throw Error(c.HM);f=this.Uj.get(a);void 0 !== f?(f.push(b),this.Uj.set(a,f)):this.Uj.set(a,[b]);};a.prototype.get=function(a){if(null === a || void 0 === a)throw Error(c.HM);a=this.Uj.get(a);if(void 0 !== a)return a;throw Error(c.wxa);};a.prototype.remove=function(a){if(null === a || void 0 === a)throw Error(c.HM);if(!this.Uj["delete"](a))throw Error(c.wxa);};a.prototype.VPa=function(a){if(null === a || void 0 === a)throw Error(c.HM);return this.Uj.has(a);};a.prototype.clone=function(){var b;b=new a();this.Uj.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.ySb=function(a){this.Uj.forEach(function(b,c){a(c,b);});};return a;})();b.R7a=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(96);b.Pc=(function(){return function(a){this.id=c.id();this.mpa=a;};})();b.xta=(function(){return function(a){this.id=c.id();this.mpa=a;};})();},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(51);k=a(40);b.N=function(){return function(a){var b;if(Reflect.Sja(k.I9,a))throw Error(c.t5a);b=Reflect.getMetadata(k.Q4a,a) || [];Reflect.rga(k.I9,b,a);return a;};};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(60);k=a(84);b.N_a=function(a,b){return function(f,d,l){var h;h=new c.Metadata(a,b);"number" === typeof l?k.oF(f,d,l,h):k.CT(f,d,h);};};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);k=a(60);h=a(84);b.bUa=function(a){return function(b,d,l){var f;f=new k.Metadata(c.Ay,a);"number" === typeof l?h.oF(b,d,l,f):h.CT(b,d,f);};};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);k=a(60);h=a(84);b.optional=function(){return function(a,b,d){var f;f=new k.Metadata(c.sza,!0);"number" === typeof d?h.oF(a,b,d,f):h.CT(a,b,f);};};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);k=a(60);h=a(84);b.Ai=function(){return function(a,b,d){var f;f=new k.Metadata(c.iN,!0);h.oF(a,b,d,f);};};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);k=a(60);h=a(84);b.rE=function(a){return function(b,d,l){var f;f=new k.Metadata(c.MB,a);"number" === typeof l?h.oF(b,d,l,f):h.CT(b,d,f);};};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);k=a(60);h=a(84);b.FT=function(a){return function(b,d,l){var f;f=new k.Metadata(c.HV,a);h.oF(b,d,l,f);};};},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(51);k=a(40);h=a(60);b.rWa=function(){return function(a,b){b=new h.Metadata(k.MM,b);if(Reflect.Sja(k.MM,a.constructor))throw Error(c.r8a);Reflect.rga(k.MM,b,a.constructor);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZTa=function(a){return function(b){return function(){for(var c=[],d=0;d < arguments.length;d++){c[d]=arguments[d];}return c.forEach(function(c){return a.bind(c).eSb(b);});};};};},function(d,b,a){var f,q,l,u,t,g,z,y,B,n,I,m,E,p;function c(a){this.Hva=a.Nz;}function k(a){this.zj=a;}function h(){var a;a=t.n$.call(this) || this;a.OO=[g.Ci.cV,g.Ci.dV];a.GF=[g.Y.nM,g.Y.YF,g.Y.YU,g.Y.ZU,g.Y.mN,g.Y.nN];a.j_=!0;a.eS=!0;a.ke=z.Db.pab;a.qA=l.Jb(31E3);return a;}function m(a){this.version="6.0026.945.051";this.WTa=!0;this.CD="F";this.Nz=a.UAb?"NFCDFF-MC-":a.xBb?"NFCDFF-02-":"NFCDFF-LX-";this.Y_=!0;this.wga="firefox-cadmium";this.Ypb="browser";this.fDb="";this.xga="cadmium";this.hhb=this.iUb=!0;this.NLb=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.i6a=b.h6a=b.g6a=void 0;d=a(0);f=a(1);q=a(32);l=a(4);u=a(129);t=a(559);g=a(57);z=a(130);y=a(289);B=a(290);n=a(30);I=a(196);m=d.__decorate([f.N(),d.__param(0,f.l(B.tU))],m);b.g6a=m;N(h,t.n$);E=h;E=d.__decorate([f.N()],E);b.h6a=E;k.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,doNotPerformLdlOnPlaybackStart:!0,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:n.Ok.R6,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};this.zj.NAb && 58 <= this.zj.gjb && (a=Object.assign(Object.assign({},a),{enableVP9:!0,preciseSeeking:!0}));return a;};p=k;p=d.__decorate([f.N(),d.__param(0,f.l(B.tU))],p);b.i6a=p;c=d.__decorate([f.N(),d.__param(0,f.l(q.sj))],c);b.platform=new f.Pc(function(a){a(q.sj).to(m).Z();a(u.sG).to(E).Z();a(y.o$).to(p).Z();a(q.$s).to(c).Z();a(I.TM).zf(function(){return function(){return {};};});});},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.n$=void 0;c=a(4);k=a(46);h=a(288);m=a(57);f={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.n$=function(){this.pib=this.SO=h.XL.vxa;this.qqa=!0;this.OO=[];this.GF=[];this.eS=this.j_=!1;this.Xu=[m.Gl.a7,m.Gl.t$a,m.Gl.kG];this.ke=void 0;this.hha=!0;this.n_=!1;this.KY=k.$(288E4);this.MY=k.$(335544320);this.qA=c.Jb(15E3);this.WDb=k.$(6291456);this.FJ=1E3;this.Jea=!0;this.zra=f;this.AL=k.$(0);this.y5=c.Jb(0);this.j1=!0;};},function(d,b,a){var m,f,q,l,u,t,g,z;function c(a,b,c){var f;f=this;this.is=a;this.Fk=b;this.config=c;this.Yu=function(){return {version:f.version,drmData:f.d_.map(function(a){return a.Yu();})};};this.cia=function(a){var b;f.is.Om(a) && (a=k(a));1 === a.version && (a=h(f.is,a));b={version:2,data:[]};if(2 === a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new z.MU(a);});}catch(W){throw new u.Dc(q.L.bG,q.K.my,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",W);}}else {if(!a.version || !f.is.Jh(a.version))throw new u.Dc(q.L.bG,q.K.my,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== a.version)throw new u.Dc(q.L.bG,q.K.Vta,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version);}return b;};this.wq=new t.w8(2,this.config.LP,this.is.Om(this.config.LP),this.Fk,this.Yu);}function k(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId || !a.xid || !a.movieId)throw new u.Dc(q.L.bG,q.K.my);return {version:1,drmData:[a]};}function h(a,b){if(a.fw(b.drmData))return {version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new z.MU({keySystemId:a.keySystemId,keySessionData:(b && 0 < b.length?b:[void 0]).map(function(b){return {id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).Yu();})};throw new u.Dc(q.L.bG,q.K.my);}Object.defineProperty(b,"__esModule",{value:!0});b.eua=void 0;d=a(0);m=a(1);f=a(53);q=a(2);l=a(20);u=a(43);t=a(292);g=a(63);z=a(198);c.prototype.iXa=function(){return this.oQb();};c.prototype.UGa=function(a){return this.wq.add(a);};c.prototype.opa=function(a){return this.wq.remove(a,function(a,b){return a.ea === b.ea;});};c.prototype.toString=function(){return JSON.stringify(this.Yu(),null,"  ");};c.prototype.oQb=function(){var a;a=this;this.mXa || (this.mXa=new Promise(function(b,c){a.wq.load(a.cia).then(function(){b();})["catch"](function(a){a.ja && a.cause?c(new u.Dc(q.L.bG,a.ja,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.mXa;};pa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.wq.version;}},d_:{configurable:!0,enumerable:!0,get:function(){return this.wq.Pt;}}});a=c;a=d.__decorate([m.N(),d.__param(0,m.l(l.De)),d.__param(1,m.l(g.Hs)),d.__param(2,m.l(f.zm))],a);b.eua=a;},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.UWa=void 0;c=a(2);k=a(73);h=a(111);m=a(197);b.UWa=function(a){m.yI.parent=a.gb;return function(){f || (f=new Promise(function(a,b){try{a(m.yI.get(h.t7));}catch(t){b(new k.Ve(c.L.a7a,c.K.v7a,void 0,"Unable to extract the DRM services from the dependency injector",t));}}));return f;};};},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lya=void 0;a.prototype.XPa=function(){return void 0 !== this.im;};a.prototype.bF=function(a){this.im=a;};a.prototype.TLb=function(){this.XPa() && (this.im=void 0);};b.Lya=a;},function(d,b,a){var k,h,m,f,q,l,u,t,g;function c(a,b,c,f,d,l){this.xD=a;this.tc=b;this.config=c;this.uA=d;this.hm=l;this.log=f.ob("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gua=void 0;d=a(0);k=a(1);h=a(111);m=a(41);f=a(13);q=a(6);l=a(112);u=a(98);t=a(74);g=a(131);c.prototype.qja=function(){var a;a=this;return Promise.all([this.xD(),this.Wvb()]).then(function(b){var c;c=T(b);b=c.next().value;c=c.next().value;c={type:t.Fi.ty,iJ:[c],context:{ke:a.config().ke}};return b.cub(c,a.uA());}).then(function(b){var c;c=b.Kla.data.map(function(b){return a.tc.encode(b);});a.log.trace("Challenge generated",c);return {Cb:b,Sea:c && c[0]};});};c.prototype.Wvb=function(){return this.hm.Br().then(function(a){switch(a){case g.Kn.FD:return "c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return "AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.tc.decode);};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.lM)),d.__param(1,k.l(m.Di)),d.__param(2,k.l(f.Oc)),d.__param(3,k.l(q.xb)),d.__param(4,k.l(l.PB)),d.__param(5,k.l(u.tv))],a);b.gua=a;},function(d,b,a){var k,h,m,f,q,l;function c(a,b,c,f){this.uA=a;this.rh=b;this.hE=c;this.wa=f;}Object.defineProperty(b,"__esModule",{value:!0});b.rva=void 0;d=a(0);k=a(1);h=a(112);m=a(64);f=a(47);q=a(9);a=a(34);c.prototype.K4=function(a,b){var c;c=a.ia?{success:a.ia,persisted:!0}:a instanceof Error?{success:!1,persisted:!0,message:a.message,name:a.name,stack:a.stack}:{success:a.ia,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.pd,ErrorExternalCode:a.Og,ErrorEdgeCode:a.wI,ErrorDetails:a.cause && a.cause.ub};c.browserua=q.Dm;a=this.hE.Mp("securestop",a.ia?"info":"error",c,{u:b.movieId,ea:b.xid,zk:this.wa.ve,h2:!1});this.rh.Uc(a);};l=c;l=d.__decorate([k.N(),d.__param(0,k.l(h.PB)),d.__param(1,k.l(f.El)),d.__param(2,k.l(m.Lq)),d.__param(3,k.l(a.Vg))],l);b.rva=l;},function(d,b,a){var c,k,h,m,f,q,l,u,t,g,z;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;d=a(1);c=a(13);k=a(566);h=a(31);m=a(35);f=a(567);q=a(294);l=a(569);u=a(151);t=a(570);g=a(53);z=a(571);b.config=new d.Pc(function(a){a(c.Oc).zf(function(){return function(){return O._cad_global.config;};});a(h.FU).to(k.wua).Z();a(h.tj).to(k.tDa).Z();a(h.dG).to(k.pxa).Z();a(m.Dl).to(f.qwa).Z();a(q.B9).to(l.iza).Z();a(u.Q7).to(t.lwa).Z();a(g.zm).to(z.Nva).Z();});},function(d,b,a){var m,f,q,l,u;function c(){this.Ew={};this.uYa=0;}function k(a,b,c,f,d){this.debug=a;this.dx=b;this.XR=c;this.sf=f;this.V3=d;}function h(a,b,c){this.dx=a;this.XR=b;this.V3=c;}Object.defineProperty(b,"__esModule",{value:!0});b.pxa=b.tDa=b.wua=void 0;d=a(0);m=a(1);f=a(85);q=a(6);l=a(132);u=a(293);a=a(31);h=d.__decorate([m.N(),d.__param(0,m.l(a.dG)),d.__param(1,m.l(l.wW)),d.__param(2,m.l(u.hW))],h);b.wua=h;k=d.__decorate([m.N(),d.__param(0,m.l(f.Ls)),d.__param(1,m.l(a.dG)),d.__param(2,m.l(l.wW)),d.__param(3,m.l(q.xb)),d.__param(4,m.l(u.hW))],k);b.tDa=k;c.prototype.AEb=function(a){this.Ew=Object.assign({},this.Ew,a);this.uYa++;};pa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Ew;}},u4:{configurable:!0,enumerable:!0,get:function(){return this.uYa;}}});a=c;a=d.__decorate([m.N()],a);b.pxa=a;},function(d,b,a){var k,h,m,f,q,l,u,t;function c(a,b,c){a=f.pe.call(this,a,void 0 === c?"GeneralConfigImpl":c) || this;a.Wm=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.qwa=b.EI=void 0;d=a(0);k=a(4);h=a(1);m=a(42);f=a(44);q=a(35);l=a(31);a=a(129);u={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.EI=function(a,b){return a.jXa(u[b] || b,q.nv);};N(c,f.pe);pa.Object.defineProperties(c.prototype,{EI:{configurable:!0,enumerable:!0,get:function(){return q.nv.T9a;}},dra:{configurable:!0,enumerable:!0,get:function(){return k.zh(8);}},$z:{configurable:!0,enumerable:!0,get:function(){return "";}},UH:{configurable:!0,enumerable:!0,get:function(){return "";}},BF:{configurable:!0,enumerable:!0,get:function(){return "";}},V_a:{configurable:!0,enumerable:!0,get:function(){return !1;}},JY:{configurable:!0,enumerable:!0,get:function(){return !0;}},j1:{configurable:!0,enumerable:!0,get:function(){return this.Wm.j1;}},hsb:{configurable:!0,enumerable:!0,get:function(){return !1;}},zj:{configurable:!0,enumerable:!0,get:function(){return {};}},tYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},hla:{configurable:!0,enumerable:!0,get:function(){return !1;}},c6:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ds:{configurable:!0,enumerable:!0,get:function(){return !1;}},UP:{configurable:!0,enumerable:!0,get:function(){return !1;}},aB:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},au:{configurable:!0,enumerable:!0,get:function(){return 0 <= [q.nv.PCa,q.nv.rxa].indexOf(this.EI);}}});t=c;d.__decorate([m.config(b.EI,"environment")],t.prototype,"EI",null);d.__decorate([m.config(m.th,"storageTimeout")],t.prototype,"dra",null);d.__decorate([m.config(m.string,"groupName")],t.prototype,"$z",null);d.__decorate([m.config(m.string,"canaryGroupName")],t.prototype,"UH",null);d.__decorate([m.config(m.string,"uiGroupName")],t.prototype,"BF",null);d.__decorate([m.config(m.Gc,"testIndexDBForCorruptedDatabase")],t.prototype,"V_a",null);d.__decorate([m.config(m.Gc,"applyIndexedDbOpenWorkaround")],t.prototype,"JY",null);d.__decorate([m.config(m.Gc,"ignoreIdbOpenError")],t.prototype,"j1",null);d.__decorate([m.config(m.Gc,"executeStorageMigration")],t.prototype,"hsb",null);d.__decorate([m.config(m.object(),"browserInfo")],t.prototype,"zj",null);d.__decorate([m.config(m.Gc,"retryAllMslRequestsOnError")],t.prototype,"tYa",null);d.__decorate([m.config(m.Gc,"isTestAccount")],t.prototype,"hla",null);d.__decorate([m.config(m.Gc,"vuiCommandLogging")],t.prototype,"c6",null);d.__decorate([m.config(m.Gc,"useRangeHeader")],t.prototype,"Ds",null);d.__decorate([m.config(m.Gc,"enableMilestoneEventList")],t.prototype,"UP",null);d.__decorate([m.config(m.object,"storageRules")],t.prototype,"aB",null);t=d.__decorate([h.N(),d.__param(0,h.l(l.tj)),d.__param(1,h.l(a.sG)),d.__param(2,h.l(l.yB)),d.__param(2,h.optional())],t);b.qwa=t;},function(d,b){function a(a){this.value=a;}Object.defineProperty(b,"__esModule",{value:!0});b.H9=void 0;a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.Hx=function(a){return void 0 === this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0 === this.value?a.empty():a.of(b(this.value));};b.H9=a;},function(d,b,a){var k,h,m,f;function c(a,b){return m.pe.call(this,a,void 0 === b?"NetworkMonitorConfigImpl":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iza=void 0;d=a(0);k=a(1);h=a(42);m=a(44);a=a(31);N(c,m.pe);pa.Object.defineProperties(c.prototype,{B1a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;d.__decorate([h.config(h.Gc,"useNetworkMonitor")],f.prototype,"B1a",null);f=d.__decorate([k.N(),d.__param(0,k.l(a.tj)),d.__param(1,k.l(a.yB)),d.__param(1,k.optional())],f);b.iza=f;},function(d,b,a){var k,h,m,f,q,l,u;function c(a,b,c,d){a=f.pe.call(this,a,void 0 === d?"FtlProbeConfigImpl":d) || this;a.kf=b;a.wa=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.lwa=void 0;d=a(0);k=a(34);h=a(1);m=a(4);f=a(44);q=a(113);l=a(42);a=a(31);N(c,f.pe);pa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.dia + (-1 === this.dia.indexOf("?")?"?":"&") + "monotonic=" + this.wa.STa + "&device=web";}},e_a:{configurable:!0,enumerable:!0,get:function(){return m.sb;}},Vha:{configurable:!0,enumerable:!0,get:function(){return "";}},dia:{configurable:!0,enumerable:!0,get:function(){return this.kf.endpoint + "/ftl/probe" + (this.Vha?"?force=" + this.Vha:"");}}});u=c;d.__decorate([l.config(l.Gc,"ftlEnabled")],u.prototype,"enabled",null);d.__decorate([l.config(l.th,"ftlStartDelay")],u.prototype,"e_a",null);d.__decorate([l.config(l.string,"ftlEndpointForceParam")],u.prototype,"Vha",null);d.__decorate([l.config(l.url,"ftlEndpoint")],u.prototype,"dia",null);u=d.__decorate([h.N(),d.__param(0,h.l(a.tj)),d.__param(1,h.l(q.oB)),d.__param(2,h.l(k.Vg)),d.__param(3,h.l(a.yB)),d.__param(3,h.optional())],u);b.lwa=u;},function(d,b,a){var k,h,m,f;function c(a,b){return f.C6.call(this,a,void 0 === b?"FirefoxEmeConfig":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Nva=void 0;d=a(0);k=a(1);h=a(31);m=a(42);f=a(572);N(c,f.C6);pa.Object.defineProperties(c.prototype,{s1:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;d.__decorate([m.config(m.Gc,"initializeKeySystemAtStartup")],a.prototype,"s1",null);a=d.__decorate([k.N(),d.__param(0,k.l(h.tj)),d.__param(1,k.l(h.yB)),d.__param(1,k.optional())],a);b.Nva=a;},function(d,b,a){var k,h,m,f,q;function c(a,b){return h.pe.call(this,a,void 0 === b?"EmeConfigImpl":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.C6=void 0;d=a(0);k=a(1);h=a(44);m=a(31);f=a(4);a=a(42);N(c,h.pe);pa.Object.defineProperties(c.prototype,{s1:{configurable:!0,enumerable:!0,get:function(){return !1;}},Nj:{configurable:!0,enumerable:!0,get:function(){return !1;}},PYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},mA:{configurable:!0,enumerable:!0,get:function(){return f.zh(5);}},hoa:{configurable:!0,enumerable:!0,get:function(){return f.zh(10);}},ska:{configurable:!0,enumerable:!0,get:function(){return f.Jb(2E3);}},bqa:{configurable:!0,enumerable:!0,get:function(){return f.Jb(1E3);}},yIb:{configurable:!0,enumerable:!0,get:function(){return f.Jb(2500);}},LP:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},eQ:{configurable:!0,enumerable:!0,get:function(){return !1;}},ds:{configurable:!0,enumerable:!0,get:function(){return !0;}},DHa:{configurable:!0,enumerable:!0,get:function(){return f.zh(30);}},EHa:{configurable:!0,enumerable:!0,get:function(){return f.zh(30);}},HHa:{configurable:!0,enumerable:!0,get:function(){return f.zh(30);}},FHa:{configurable:!0,enumerable:!0,get:function(){return f.zh(30);}},Hda:{configurable:!0,enumerable:!0,get:function(){return f.zh(30);}},tqa:{configurable:!0,enumerable:!0,get:function(){return "";}},jVa:{configurable:!0,enumerable:!0,get:function(){return !1;}},kVa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});q=c;d.__decorate([a.config(a.Gc,"initializeKeySystemAtStartup")],q.prototype,"s1",null);d.__decorate([a.config(a.Gc,"secureStopEnabled")],q.prototype,"Nj",null);d.__decorate([a.config(a.Gc,"secureStopRequiresReload")],q.prototype,"PYa",null);d.__decorate([a.config(a.th,"licenseRenewalRequestDelay")],q.prototype,"mA",null);d.__decorate([a.config(a.th,"persistedReleaseDelay")],q.prototype,"hoa",null);d.__decorate([a.config(a.th,"secureStopKeyMessageTimeoutMilliseconds")],q.prototype,"ska",null);d.__decorate([a.config(a.th,"secureStopKeyAddedTimeoutMilliseconds")],q.prototype,"bqa",null);d.__decorate([a.config(a.th,"secureStopPersistedKeyMessageTimeoutMilliseconds")],q.prototype,"yIb",null);d.__decorate([a.config(a.string,"drmPersistKey")],q.prototype,"LP",null);d.__decorate([a.config(a.Gc,"forceLimitedDurationLicense")],q.prototype,"eQ",null);d.__decorate([a.config(a.Gc,"prepareCadmium")],q.prototype,"ds",null);d.__decorate([a.config(a.th,"apiCloseTimeout")],q.prototype,"DHa",null);d.__decorate([a.config(a.th,"apiCreateMediaKeysTimeout")],q.prototype,"EHa",null);d.__decorate([a.config(a.th,"apiSetServerCertificateTimeout")],q.prototype,"HHa",null);d.__decorate([a.config(a.th,"apiGenerateRequestTimeout")],q.prototype,"FHa",null);d.__decorate([a.config(a.th,"apiUpdateTimeout")],q.prototype,"Hda",null);d.__decorate([a.config(a.string,"serverCertificate")],q.prototype,"tqa",null);d.__decorate([a.config(a.Gc,"outputRestrictedIsFatal")],q.prototype,"jVa",null);d.__decorate([a.config(a.Gc,"outputRestrictedIsFatalForUhd")],q.prototype,"kVa",null);q=d.__decorate([k.N(),d.__param(0,k.l(m.tj)),d.__param(1,k.l(m.yB)),d.__param(1,k.optional())],q);b.C6=q;},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;d=a(1);c=a(111);k=a(574);h=a(98);m=a(637);f=a(313);q=a(647);b.XLa=new d.Pc(function(a){a(c.t7).to(k.sva).Z();a(h.tv).to(m.Kya).Z();a(f.E7).to(q.Pva);});},function(d,b,a){var k,h,m,f,q,l,u,t,g,z,y,B,n,I,E,p;function c(a,b,c,f,d,l,q,m,k,t,g){var x;x=this;this.ya=b;this.Hu=c;this.config=f;this.Wp=d;this.ZLa=l;this.TH=q;this.hm=m;this.uA=k;this.kl=t;this.hq=g;this.VQb=function(a,b){x.kl.mark(E.Ea.WU,a.xg.ea,"generate-challenge");b.BJ().DT(1).subscribe(function(c){x.dSa.next({$t:b.Br(),data:c.Ti});x.kl.mark(E.Ea.VU,a.xg.ea,"generate-challenge");});b.BJ().map(function(c){return x.Oia(a,b,c);}).nE().a_(function(a){return b.YGa(a);}).subscribe(void 0,function(a){b.Dgb(a);},function(){x.ujb(b);});};this.C_a=function(a){a.PS.map(function(b){return x.aPa(a,b);}).nE().subscribe(function(b){return a.fHa(b.response);},function(b){return a.fHa(b);});};this.log=a.ob("DrmServices");this.dSa=new h.Sn();this.Wp().Fn && this.TH.iXa().then(function(){x.xQb();})["catch"](function(a){x.log.error("Unable to load the persisted DRM data",a);});this.config.s1 && this.hm.SI().then(function(a){return x.yKa(a,{ke:a.keySystem},u.Fi.Fl,k()).eu(function(a){return a.close();}).subscribe();});}Object.defineProperty(b,"__esModule",{value:!0});b.sva=void 0;d=a(0);k=a(1);h=a(133);m=a(6);f=a(36);q=a(312);l=a(66);u=a(74);t=a(53);g=a(199);z=a(198);y=a(313);B=a(13);n=a(98);I=a(112);E=a(67);a=a(200);c.prototype.Qx=function(a,b){var c;c=this;return new Promise(function(f,d){c.Yi(a,b).subscribe(f,d);});};c.prototype.cub=function(a,b){var c;c=this;return new Promise(function(f,d){c.Z_(a,b).subscribe(f,d);});};c.prototype.Yi=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.EOa(a,a.type));return this.oD(a.context,a.type,b).eu(function(b){c.QTa(a,b);return c.cKa(b.Z_(a.iJ),b);});};c.prototype.QTa=function(a,b){b.OOb(a.xg);this.VQb(a,b);};c.prototype.AQb=function(a,b){var c,f;c=this;this.config.Nj?(this.log.info("Releasing server license and EME license",this.sja(a)),this.C_a(a),f=a.DNa(!1)):(this.log.info("Releasing server license",this.sja(a)),f=this.aPa(a));return this.cKa(f,a).a_(function(){var f;f=Object.assign({ke:a.context.ke,jc:[]},a.xg);c.TH.opa(f);b.TLb();});};c.prototype.BJ=function(){return this.dSa.Qda();};c.prototype.EOa=function(a,b){return {movieId:a.xg.u,xid:a.xg.ea,type:u.Lla(b)};};c.prototype.sja=function(a){return {movieId:a.xg?a.xg.u:void 0,xid:a.xg?a.xg.ea:void 0,keySessionId:a.Tw()};};c.prototype.cKa=function(a,b){return h.Bb.concat(a,h.Bb.of(b)).mi();};c.prototype.Oia=function(a,b,c){this.log.info("Sending license request",this.EOa(a,c.Zi));return h.Bb.fu(this.Hu.Yi({ea:a.xg.ea,yg:a.xg.yg,c_:[a.xg.Yk],Ti:[{sessionId:b.Tw() || "session",data:c.Ti}],Zi:c.Zi,$t:b.Br(),nJa:c.nJa,xR:a.xg.xR,$i:a.xg.$i}));};c.prototype.aPa=function(a,b){this.log.info("Sending release request",this.sja(a));return b?h.Bb.fu(this.Hu.release({ea:(a.xg || a.ILb).ea,jc:a.jc,Ti:b.Ti})):h.Bb.fu(this.Hu.release({ea:a.xg.ea,jc:a.jc}));};c.prototype.Z_=function(a,b){return this.oD(a.context,a.type,b).eu(function(b){return h.Bb.race(b.Z_(a.iJ).map(function(){return b;}),b.BJ().map(function(){return b;}));});};c.prototype.oD=function(a,b,c){var f;f=this;return h.Bb.fu(this.hm.SI()).eu(function(d){return f.yKa(d,a,b,c);});};c.prototype.yKa=function(a,b,c,f){return h.Bb.fu(this.ZLa.create()).eu(function(d){return d.Tm(b,a,f,c);});};c.prototype.wQb=function(a){var b;b=this;return this.config.Nj?h.Bb.fu(this.ECb(a)):h.Bb.fu(this.Hu.release({ea:a.ea,jc:a.jc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Bb.empty();}).map(function(){return a;});};c.prototype.ECb=function(a){var b;b=this;return this.hm.SI().then(function(c){return b.ZLa.create().then(function(f){return f.Tm({ke:c.keySystem},c,b.uA(),u.Fi.Fl).eu(function(){return f.mSa(a);}).eu(function(){b.C_a(f);return f.DNa(!0);}).As().then(function(){return f.NHa().As();}).then(function(){return b.hq.K4({ia:!0},a);})["catch"](function(c){return b.hq.K4(c,a);}).then(function(){return a;});});});};c.prototype.xQb=function(){var a;a=this;this.ya.yh(this.config.hoa,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.TH.d_.length});b=a.TH.d_.filter(function(a){return !a.active;}).map(function(b){return a.wQb(b);});h.Bb.concat.apply(h.Bb,[].concat(ea(b))).subscribe(function(b){a.TH.opa(b);});});};c.prototype.ujb=function(a){var b;if(a.Tw() && a.xg){b=new z.MU();b.ke=a.context.ke;b.jc=a.jc;b.ea=a.xg.ea;b.u=a.xg.u;this.TH.UGa(b);}};p=c;p=d.__decorate([k.N(),d.__param(0,k.l(m.xb)),d.__param(1,k.l(f.Ig)),d.__param(2,k.l(q.s7)),d.__param(3,k.l(t.zm)),d.__param(4,k.l(B.Oc)),d.__param(5,k.l(y.E7)),d.__param(6,k.l(g.CU)),d.__param(7,k.l(n.tv)),d.__param(8,k.l(I.PB)),d.__param(9,k.l(l.jG)),d.__param(10,k.l(a.NU))],p);b.sva=p;},function(d,b,a){var c,k,h;c=a(65);k=a(202);h=a(201);b.fSb=function(a,b,d){if(a){if(a instanceof c.Tn)return a;if(a[k.ZE])return a[k.ZE]();}return a || b || d?new c.Tn(a,b,d):new c.Tn(h.empty);};},function(d,b,a){var k,h;function c(){try{return h.apply(this,arguments);}catch(m){return (k.Mz.e=m,k.Mz);}}k=a(297);b.N0a=function(a){h=a;return c;};},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(a){b.call(this);this.bu=a;a=Error.call(this,a?a.length + " errors occurred during unsubscription:\n  " + a.map(function(a,b){return b + 1 + ") " + a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.EW=d;},function(d,b,a){var k;function c(a){return a?1 === a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:k.QFb;}k=a(579);b.BIb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return c(a);};b.CIb=c;},function(d,b){b.QFb=function(){};},function(d,b,a){var c,k,h,m,f,q,l;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(298);k=a(581);h=a(114);m=a(303);f=a(299);q=a(300);a=(function(a){function b(b,c,f){void 0 === b && (b=Number.POSITIVE_INFINITY);void 0 === c && (c=Number.POSITIVE_INFINITY);a.call(this);this.ya=f;this.Tf=[];this.Xab=1 > b?1:b;this.Zfb=1 > c?1:c;}c(b,a);b.prototype.next=function(b){var c;c=this.QEa();this.Tf.push(new l(c,b));this.CGa();a.prototype.next.call(this,b);};b.prototype.Mm=function(a){var b,c,d;b=this.CGa();c=this.ya;if(this.closed)throw new f.pG();this.FQ?d=h.Fy.EMPTY:this.Rg?d=h.Fy.EMPTY:(this.Dx.push(a),d=new q.ECa(this,a));c && a.add(a=new m.wza(a,c));for(var c=b.length,l=0;l < c && !a.closed;l++){a.next(b[l].value);}this.FQ?a.error(this.xra):this.Rg && a.complete();return d;};b.prototype.QEa=function(){return (this.ya || k.pl).now();};b.prototype.CGa=function(){for(var a=this.QEa(),b=this.Xab,c=this.Zfb,f=this.Tf,d=f.length,l=0;l < d && !(a - f[l].time < c);){l++;}d > b && (l=Math.max(l,d - b));0 < l && f.splice(0,l);return f;};return b;})(d.Sn);b.d$a=a;l=(function(){return function(a,b){this.time=a;this.value=b;};})();},function(d,b,a){d=a(582);a=a(584);b.pl=new a.X9a(d.V9a);},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this,b,c);this.ya=b;this.zsa=c;}c(b,a);b.prototype.Vc=function(b,c){void 0 === c && (c=0);if(0 < c)return a.prototype.Vc.call(this,b,c);this.Ul=c;this.state=b;this.ya.flush(this);return this;};b.prototype.Le=function(b,c){return 0 < c || this.closed?a.prototype.Le.call(this,b,c):this.zEa(b);};b.prototype.xpa=function(b,c,d){void 0 === d && (d=0);return null !== d && 0 < d || null === d && 0 < this.Ul?a.prototype.xpa.call(this,b,c,d):b.flush(this);};return b;})(a(301).vta);b.V9a=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.call(this);}c(b,a);b.prototype.Vc=function(){return this;};return b;})(a(114).Fy);b.W2a=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);}c(b,a);return b;})(a(302).yta);b.X9a=d;},function(d,b){d=(function(){function a(b,d){void 0 === d && (d=a.now);this.I$a=b;this.now=d;}a.prototype.Vc=function(a,b,d){void 0 === b && (b=0);return new this.I$a(this,a).Vc(d,b);};a.now=Date.now?Date.now:function(){return +new Date();};return a;})();b.H$a=d;},function(d,b,a){a(23);d=(function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.fJ="N" === a;}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next && a.next(this.value);case "E":return a.error && a.error(this.error);case "C":return a.complete && a.complete();}};a.prototype.a_=function(a,b,c){switch(this.kind){case "N":return a && a(this.value);case "E":return b && b(this.error);case "C":return c && c();}};a.prototype.accept=function(a,b,c){return a && "function" === typeof a.next?this.observe(a):this.a_(a,b,c);};a.nob=function(b){return "undefined" !== typeof b?new a("N",b):a.USb;};a.Unb=function(b){return new a("E",void 0,b);};a.Jnb=function(){return a.plb;};a.plb=new a("C");a.USb=new a("N",void 0);return a;})();b.Notification=d;},function(d,b,a){d=a(23);a=a(588);d.Bb.prototype["catch"]=a.pba;d.Bb.prototype.pba=a.pba;},function(d,b,a){var c;c=a(589);b.pba=function(a){return c.ckb(a)(this);};},function(d,b,a){var c,k,h,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(153);k=a(154);b.ckb=function(a){return function(b){var c;c=new h(a);b=b.Or(c);return c.Nea=b;};};h=(function(){function a(a){this.jqa=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.jqa,this.Nea));};return a;})();m=(function(a){function b(b,c,f){a.call(this,b);this.jqa=c;this.Nea=f;}c(b,a);b.prototype.error=function(b){var c;if(!this.Rg){c=void 0;try{c=this.jqa(b,this.Nea);}catch(t){a.prototype.error.call(this,t);return;}this.Pfb();this.add(k.p5(this,c));}};return b;})(d.TV);},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c,d){a.call(this);this.parent=b;this.GHb=c;this.FHb=d;this.index=0;}c(b,a);b.prototype.Nl=function(a){this.parent.e3(this.GHb,a,this.FHb,this.index++,this);};b.prototype.gf=function(a){this.parent.XFb(a);this.unsubscribe();};b.prototype.ae=function(){this.parent.yu(this);this.unsubscribe();};return b;})(a(65).Tn);b.qxa=d;},function(d,b,a){d=a(23);a=a(592);d.Bb.prototype.a_=a.Eba;d.Bb.prototype.Eba=a.Eba;},function(d,b,a){var c;c=a(593);b.Eba=function(a,b,d){return c.xRb(a,b,d)(this);};},function(d,b,a){var c,k,h,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});k=a(65);b.xRb=function(a,b,c){return function(f){return f.Or(new h(a,b,c));};};h=(function(){function a(a,b,c){this.KFb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.KFb,this.error,this.complete));};return a;})();m=(function(a){function b(b,c,f,d){a.call(this,b);b=new k.Tn(c,f,d);b.An=!0;this.add(b);this.Qpa=b;}c(b,a);b.prototype.Nl=function(a){var b;b=this.Qpa;b.next(a);b.mF?this.destination.error(b.nF):this.destination.next(a);};b.prototype.gf=function(a){var b;b=this.Qpa;b.error(a);b.mF?this.destination.error(b.nF):this.destination.error(a);};b.prototype.ae=function(){var a;a=this.Qpa;a.complete();a.mF?this.destination.error(a.nF):this.destination.complete();};return b;})(k.Tn);},function(d,b,a){d=a(23);a=a(595);d.Bb.prototype.mi=a.mi;},function(d,b,a){var c;c=a(596);b.mi=function(a,b,d){return c.mi(a,b,d)(this);};},function(d,b,a){var c,k,h,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(65);k=a(597);b.mi=function(a,b,c){return function(f){return f.Or(new h(a,b,c,f));};};h=(function(){function a(a,b,c,f){this.MA=a;this.Pu=b;this.defaultValue=c;this.source=f;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.MA,this.Pu,this.defaultValue,this.source));};return a;})();m=(function(a){function b(b,c,f,d,h){a.call(this,b);this.MA=c;this.Pu=f;this.defaultValue=d;this.source=h;this.fJ=!1;this.index=0;"undefined" !== typeof d && (this.Y1=d,this.fJ=!0);}c(b,a);b.prototype.Nl=function(a){var b;b=this.index++;this.MA?this.Mfb(a,b):this.Pu?this.EGa(a,b):(this.Y1=a,this.fJ=!0);};b.prototype.Mfb=function(a,b){var c;try{c=this.MA(a,b,this.source);}catch(x){this.destination.error(x);return;}c && (this.Pu?this.EGa(a,b):(this.Y1=a,this.fJ=!0));};b.prototype.EGa=function(a,b){var c;try{c=this.Pu(a,b);}catch(x){this.destination.error(x);return;}this.Y1=c;this.fJ=!0;};b.prototype.ae=function(){var a;a=this.destination;this.fJ?(a.next(this.Y1),a.complete()):a.error(new k.W5a());};return b;})(d.Tn);},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.W5a=d;},function(d,b,a){d=a(23);a=a(599);d.Bb.prototype.map=a.map;},function(d,b,a){var c;c=a(600);b.map=function(a,b){return c.map(a,b)(this);};},function(d,b,a){var c,k,h;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(65);b.map=function(a,b){return function(c){if("function" !== typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.Or(new k(a,b));};};k=(function(){function a(a,b){this.NE=a;this.tra=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.NE,this.tra));};return a;})();b.EYb=k;h=(function(a){function b(b,c,f){a.call(this,b);this.NE=c;this.count=0;this.tra=f || this;}c(b,a);b.prototype.Nl=function(a){var b;try{b=this.NE.call(this.tra,a,this.count++);}catch(u){this.destination.error(u);return;}this.destination.next(b);};return b;})(d.Tn);},function(d,b,a){d=a(23);a=a(602);d.Bb.prototype.nE=a.nE;},function(d,b,a){var c;c=a(306);b.nE=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.nE(a)(this);};},function(d,b){b.wzb=function(a){return a;};},function(d,b,a){d=a(23);a=a(605);d.Bb.prototype.PJ=a.PJ;d.Bb.prototype.eu=a.PJ;},function(d,b,a){var c;c=a(307);b.PJ=function(a,b,d){void 0 === d && (d=Number.POSITIVE_INFINITY);return c.PJ(a,b,d)(this);};},function(d,b,a){d=a(23);a=a(607);d.Bb.prototype.kT=a.kT;},function(d,b,a){var c;c=a(608);b.kT=function(a){return c.kT(a)(this);};},function(d,b,a){var c,k,h;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(65);b.kT=function(a){return function(b){return b.Or(new k(a));};};k=(function(){function a(a){this.MA=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.MA));};return a;})();h=(function(a){function b(b,c){a.call(this,b);this.MA=c;this.Wqa=!0;this.index=0;}c(b,a);b.prototype.Nl=function(a){var b;b=this.destination;this.Wqa && this.ISb(a);this.Wqa || b.next(a);};b.prototype.ISb=function(a){try{this.Wqa=! !this.MA(a,this.index++);}catch(l){this.destination.error(l);}};return b;})(d.Tn);},function(d,b,a){d=a(23);a=a(610);d.Bb.prototype.DT=a.DT;},function(d,b,a){var c;c=a(611);b.DT=function(a){return c.DT(a)(this);};},function(d,b,a){var c,k,h,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(65);k=a(612);h=a(155);b.DT=function(a){return function(b){return 0 === a?new h.RU():b.Or(new m(a));};};m=(function(){function a(a){this.total=a;if(0 > this.total)throw new k.Y2a();}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total));};return a;})();f=(function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.Nl=function(a){var b,c;b=this.total;c=++this.count;c <= b && (this.destination.next(a),c === b && (this.destination.complete(),this.unsubscribe()));};return b;})(d.Tn);},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.Y2a=d;},function(d,b,a){d=a(23);a=a(614);d.Bb.prototype.ET=a.ET;},function(d,b,a){var c;c=a(615);b.ET=function(a){return c.ET(a)(this);};},function(d,b,a){var c,k,h,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(153);k=a(154);b.ET=function(a){return function(b){return b.Or(new h(a));};};h=(function(){function a(a){this.Ya=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Ya));};return a;})();m=(function(a){function b(b,c){a.call(this,b);this.Ya=c;this.add(k.p5(this,c));}c(b,a);b.prototype.e3=function(){this.complete();};b.prototype.yu=function(){};return b;})(d.TV);},function(){},function(d,b,a){d=a(23);a=a(618);d.Bb.concat=a.concat;},function(d,b,a){var c,k,h,m;c=a(205);k=a(308);h=a(310);m=a(622);b.concat=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 1 === a.length || 2 === a.length && c.J1(a[1])?h.from(a[0]):m.ylb()(k.of.apply(void 0,a));};},function(d,b,a){var c,k,h,m,f,q,l,u,t,g,z,y;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});k=a(152);h=a(304);m=a(305);f=a(311);q=a(620);l=a(206);u=a(621);t=a(204);g=a(23);z=a(303);y=a(203);d=(function(a){function b(b,c){a.call(this,null);this.yBb=b;this.ya=c;}c(b,a);b.create=function(a,c){if(null != a){if("function" === typeof a[y.observable])return a instanceof g.Bb && !c?a:new b(a,c);if(k.isArray(a))return new l.p6(a,c);if(m.WQ(a))return new f.nBa(a,c);if("function" === typeof a[t.iterator] || "string" === typeof a)return new q.J7a(a,c);if(h.$Qa(a))return new u.c3a(a,c);}throw new TypeError((null !== a && typeof a || a) + " is not observable");};b.prototype.Mm=function(a){var b,c;b=this.yBb;c=this.ya;return null == c?b[y.observable]().subscribe(a):b[y.observable]().subscribe(new z.wza(a,c,0));};return b;})(g.Bb);b.k6a=d;},function(d,b,a){var c,k,h,m,f,q;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});k=a(86);d=a(23);h=a(204);a=(function(a){function b(b,c){a.call(this);this.ya=c;if(null == b)throw Error("iterator cannot be null.");if((c=b[h.iterator]) || "string" !== typeof b){if(c || void 0 === b.length){if(!c)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new f(b);}else b=new m(b);this.iterator=b;}c(b,a);b.create=function(a,c){return new b(a,c);};b.uc=function(a){var b,c,f,d;b=a.index;c=a.iterator;f=a.Oj;if(a.FQ)f.error(a.error);else {d=c.next();d.done?f.complete():(f.next(d.value),a.index=b + 1,f.closed?"function" === typeof c["return"] && c["return"]():this.Vc(a));}};b.prototype.Mm=function(a){var c,f;c=this.iterator;f=this.ya;if(f)return f.Vc(b.uc,0,{index:0,iterator:c,Oj:a});do {f=c.next();if(f.done){a.complete();break;}else a.next(f.value);if(a.closed){"function" === typeof c["return"] && c["return"]();break;}}while(1);};return b;})(d.Bb);b.J7a=a;m=(function(){function a(a,b,c){void 0 === b && (b=0);void 0 === c && (c=a.length);this.bB=a;this.MQ=b;this.Jla=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.MQ < this.Jla?{done:!1,value:this.bB.charAt(this.MQ++)}:{done:!0,value:void 0};};return a;})();f=(function(){function a(a,b,c){var f;void 0 === b && (b=0);if(void 0 === c)if((c=+a.length,isNaN(c)))c=0;else if(0 !== c && "number" === typeof c && k.root.isFinite(c)){f=+c;c=(0 === f || isNaN(f)?f:0 > f?-1:1) * Math.floor(Math.abs(c));c=0 >= c?0:c > q?q:c;}this.xhb=a;this.MQ=b;this.Jla=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.MQ < this.Jla?{done:!1,value:this.xhb[this.MQ++]}:{done:!0,value:void 0};};return a;})();q=Math.pow(2,53) - 1;},function(d,b,a){var c,k,h;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(23);k=a(309);h=a(155);a=(function(a){function b(b,c){a.call(this);this.Pda=b;(this.ya=c) || 1 !== b.length || (this.Mv=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var f;f=a.length;return 0 === f?new h.RU():1 === f?new k.VBa(a[0],c):new b(a,c);};b.uc=function(a){var b,c,f;b=a.Pda;c=a.index;f=a.Oj;f.closed || (c >= a.length?f.complete():(f.next(b[c]),a.index=c + 1,this.Vc(a)));};b.prototype.Mm=function(a){var c,f,d;c=this.Pda;f=this.ya;d=c.length;if(f)return f.Vc(b.uc,0,{Pda:c,index:0,length:d,Oj:a});for(f=0;f < d && !a.closed;f++){a.next(c[f]);}a.complete();};return b;})(d.Bb);b.c3a=a;},function(d,b,a){var c;c=a(306);b.ylb=function(){return c.nE(1);};},function(d,b,a){d=a(23);a=a(624);d.Bb.empty=a.empty;},function(d,b,a){d=a(155);b.empty=d.RU.create;},function(d,b,a){d=a(23);a=a(626);d.Bb.fu=a.fu;},function(d,b,a){d=a(311);b.fu=d.nBa.create;},function(d,b,a){d=a(23);a=a(628);d.Bb.race=a.race;},function(d,b,a){var c,k,h,m,f,q;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});k=a(152);h=a(206);d=a(153);m=a(154);b.race=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}if(1 === a.length)if(k.isArray(a[0]))a=a[0];else return a[0];return new h.p6(a).Or(new f());};f=(function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new q(a));};return a;})();b.s_b=f;q=(function(a){function b(b){a.call(this,b);this.Qja=!1;this.Cna=[];this.sT=[];}c(b,a);b.prototype.Nl=function(a){this.Cna.push(a);};b.prototype.ae=function(){var a,b,f;a=this.Cna;b=a.length;if(0 === b)this.destination.complete();else {for(var c=0;c < b && !this.Qja;c++){f=a[c];f=m.p5(this,f,f,c);this.sT && this.sT.push(f);this.add(f);}this.Cna=null;}};b.prototype.e3=function(a,b,c){var f;if(!this.Qja){this.Qja=!0;for(a=0;a < this.sT.length;a++){if(a !== c){f=this.sT[a];f.unsubscribe();this.remove(f);}}this.sT=null;}this.destination.next(b);};return b;})(d.TV);b.t_b=q;},function(d,b,a){d=a(23);a=a(308);d.Bb.of=a.of;},function(d,b,a){d=a(23);a=a(631);d.Bb.by=a.by;},function(d,b,a){d=a(632);b.by=d.X$a.create;},function(d,b,a){var c,k,h,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});k=a(633);d=a(23);h=a(634);m=a(205);f=a(635);a=(function(a){function b(b,c,d){void 0 === b && (b=0);a.call(this);this.x3=-1;this.PLa=0;k.aBb(c)?this.x3=1 > Number(c) && 1 || Number(c):m.J1(c) && (d=c);m.J1(d) || (d=h.async);this.ya=d;this.PLa=f.GAb(b)?+b - this.ya.now():b;}c(b,a);b.create=function(a,c,f){void 0 === a && (a=0);return new b(a,c,f);};b.uc=function(a){var b,c,f;b=a.index;c=a.x3;f=a.Oj;f.next(b);if(!f.closed){if(-1 === c)return f.complete();a.index=b + 1;this.Vc(a,c);}};b.prototype.Mm=function(a){return this.ya.Vc(b.uc,this.PLa,{index:0,x3:this.x3,Oj:a});};return b;})(d.Bb);b.X$a=a;},function(d,b,a){var c;c=a(152);b.aBb=function(a){return !c.isArray(a) && 0 <= a - parseFloat(a) + 1;};},function(d,b,a){d=a(301);a=a(302);b.async=new a.yta(d.vta);},function(d,b){b.GAb=function(a){return a instanceof Date && !isNaN(+a);};},function(d,b,a){d=a(23);a=a(310);d.Bb.from=a.from;},function(d,b,a){var k,h,m,f,q,l,u,t,g,z,y,B,n,I,E,p,W,R,M,D;function c(a,b,c,f,d,l,h,q,m){this.Pr=a;this.Nc=b;this.Tg=c;this.ei=f;this.tc=d;this.is=l;this.NR=h;this.config=q;this.Lf=m;this.log=this.Pr.ob("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;d=a(0);k=a(1);h=a(2);m=a(6);f=a(73);q=a(131);l=a(638);u=a(639);t=a(640);g=a(208);z=a(26);y=a(99);B=a(41);n=a(20);I=a(33);E=a(641);p=a(643);W=a(100);R=a(13);M=a(130);a=a(53);c.prototype.SI=function(){this.Fu || (this.Fu=this.aNb());return this.Fu;};c.prototype.cob=function(a){var b;b=this;return new Promise(function(c,d){var l,q;l=M.Db.Bia(a);q=b.lOa(l);l=b.hOa(l);q.oMb(a,l.kja()).then(function(f){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:f.getConfiguration?JSON.stringify(f.getConfiguration()):void 0});c(f);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new f.Ve(h.L.Ava,h.K.Yh,void 0,"Unable to create media keys system access. " + c.message,c));});});};c.prototype.Br=function(){var a;a=this;return this.SI().then(function(b){return a.iOa(b);});};c.prototype.xvb=function(){var a,b;a=this;b=this.config().QRa || [this.config().ke];if(1 < b.length)return this.SI().then(function(b){return a.iOa(b);}).then(function(a){return M.Db.gOa(a);});b=M.Db.Bia(b[0]);return Promise.resolve(M.Db.gOa(b));};c.prototype.yvb=function(){var a;a=this;return this.Br().then(function(b){return a.hOa(b);});};c.prototype.Avb=function(){var a;a=this;return this.Br().then(function(b){return a.lOa(b);});};c.prototype.iOa=function(a){return M.Db.Bia(a.keySystem);};c.prototype.hOa=function(a){switch(a){case q.Kn.KE:return new l.Lva(this.ei,this.tc,this.Lf);case q.Kn.FD:return new p.TBa(this.Nc,this.ei,this.tc,this.Tg,this.Lf);default:return new t.pua(this.Nc,this.ei,this.Lf,this.config);}};c.prototype.lOa=function(a){switch(a){case q.Kn.KE:return new u.aBa(this.NR,this.is,this.tc,this.Nc,this.Lf,this.Tg);case q.Kn.FD:return new E.hwa(this.NR,this.is,this.tc,this.Nc,this.Lf,this.Tg);default:return new g.ht(this.NR,this.is,this.tc,this.Nc,this.Lf,this.Tg);}};c.prototype.aNb=function(){var a,b;a=this;b=(this.config().QRa || [this.config().ke]).map(function(b){return function(){return a.cob(b);};});return this.bNb(b);};c.prototype.bNb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};D=c;D=d.__decorate([k.N(),d.__param(0,k.l(m.xb)),d.__param(1,k.l(z.Df)),d.__param(2,k.l(W.Hy)),d.__param(3,k.l(y.ly)),d.__param(4,k.l(B.Di)),d.__param(5,k.l(n.De)),d.__param(6,k.l(I.TB)),d.__param(7,k.l(R.Oc)),d.__param(8,k.l(a.zm))],D);b.Kya=D;},function(d,b,a){var k,h,m,f,q,l,u,t,g,z,y;function c(a,b,c){this.ei=a;this.tc=b;this.Lf=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Lva=void 0;d=a(0);k=a(1);h=a(2);m=a(99);f=a(41);q=a(207);l=a(73);u=a(74);t=a(53);g=a(61);z=a(43);y=a(156);c.prototype.oZ=function(){return !0;};c.prototype.cea=function(){return !1;};c.prototype.Kea=function(){return !1;};c.prototype.A0=function(a){return this.Lf.Nj && a === u.Fi.Fl?"persistent-usage-record":"temporary";};c.prototype.uia=function(){return y.N9;};c.prototype.kja=function(){return [{initDataTypes:["cenc"],audioCapabilities:[{contentType:q.wy}],videoCapabilities:[{contentType:q.Ss}],sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.hA=function(){return !1;};c.prototype.Nka=function(){return Promise.reject(new z.Dc(h.L.A7));};c.prototype.Gfa=function(a){var b;b=new Uint8Array(a.message);b=this.yha(b,"PlayReadyKeyMessage","Challenge");b=this.tc.decode(b);return {type:a.type,sessionId:a.target.sessionId,Ax:[b],Rma:a.messageType};};c.prototype.Lp=function(a){var b,c,f;b=new l.Ve(h.L.VV);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.pd=1 <= c && 9 >= c?h.K.TF + c:h.K.TF):b.pd=a instanceof g.Un?h.K.mM:h.K.Yh;try{f=(/\((\d+)\)/).exec(a.message);b.Og=this.ei.gQ(Number(f && f[1]),4);}catch(da){}b.HP(a);return b;};c.prototype.yha=function(a,b){var c,f,d,l;for(var c=1;c < arguments.length;++c){;}for(c=1;c < arguments.length;c++){;}c="";d=a.length;for(f=0;f < d;f++){l=a[f];0 < l && (c+=String.fromCharCode(l));}d="\\s*(.*)\\s*";for(f=arguments.length - 1;0 < f;f--){l=arguments[f];if(0 > c.search(l))return "";l="(?:[^:].*:|)" + l;d="[\\s\\S]*<" + l + "[^>]*>" + d + "</" + l + ">[\\s\\S]*";}return (c=c.match(new RegExp(d)))?c[1]:"";};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(m.ly)),d.__param(1,k.l(f.Di)),d.__param(2,k.l(t.zm))],a);b.Lva=a;},function(d,b,a){var k,h,m,f;function c(a){return h.ht.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aBa=void 0;d=a(0);k=a(1);h=a(208);m=a(73);f=a(2);N(c,h.ht);c.prototype.yZ=function(a,b,c,f,d){this.MXa(c);this.JXa(f);this.HXa(d);this.Scb=this.Va;this.Va=a.createSession(b);this.aHa(c);this.XGa(f);this.VGa(d);return this.MI(this.Gka,this.iJ);};c.prototype.close=function(){var b;function a(a){return a && a.sessionId?a.close().then(function(){return a=void 0;}):Promise.resolve();}b=this;this.jfa=void 0;return this.Va?a(this.Va).then(function(){a(b.Scb);}):Promise.reject(new m.Ve(f.L.zva,f.K.SF,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.MI=function(a,b){this.Gka=a;this.iJ=b;return h.ht.prototype.MI.call(this,a,b);};a=c;a=d.__decorate([k.N()],a);b.aBa=a;},function(d,b,a){var k,h,m,f,q,l,u,t,g,z;function c(a,b,c,f){this.Nc=a;this.ei=b;this.Lf=c;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.pua=void 0;d=a(0);k=a(1);h=a(2);m=a(26);f=a(99);q=a(207);l=a(73);u=a(61);t=a(53);g=a(13);z=a(43);c.prototype.oZ=function(){return !0;};c.prototype.cea=function(){return !0;};c.prototype.Kea=function(){return !0;};c.prototype.A0=function(){return "temporary";};c.prototype.uia=function(){return this.Lf.tqa?this.Lf.tqa:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};c.prototype.kja=function(){var a,b;a=[{contentType:q.Ss,robustness:"HW_SECURE_DECODE"},{contentType:q.Ss,robustness:"SW_SECURE_DECODE"},{contentType:q.Ss,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:q.Ss,robustness:"SW_SECURE_CRYPTO"}];return [{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:q.wy,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().lNa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};c.prototype.hA=function(a){return this.Nc.St(a.Ax[0],new Uint8Array([8,4]));};c.prototype.Nka=function(){return Promise.reject(new z.Dc(h.L.A7));};c.prototype.Gfa=function(a){return {type:a.type,sessionId:a.target.sessionId,Ax:[new Uint8Array(a.message)],Rma:a.messageType};};c.prototype.Lp=function(a){var b,c,f;b=new l.Ve(h.L.VV);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.pd=1 <= c && 9 >= c?h.K.TF + c:h.K.TF):b.pd=a instanceof u.Un?h.K.mM:h.K.Yh;try{f=a.message.match(/\((\d*)\)/)[1];b.Og=this.ei.gQ(f,4);}catch(E){}b.HP(a);return b;};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(m.Df)),d.__param(1,k.l(f.ly)),d.__param(2,k.l(t.zm)),d.__param(3,k.l(g.Oc))],a);b.pua=a;},function(d,b,a){var k,h,m,f,q,l,u,t,g;function c(a,b,c,f,d,l){a=h.ht.call(this,a,b,c,f,d,l) || this;a.tc=c;a.wd=f;a.Lf=d;a.Tg=l;a.nQa=new m.gwa(a.tc,a.wd,a.Tg);return a;}Object.defineProperty(b,"__esModule",{value:!0});b.hwa=void 0;d=a(0);k=a(1);h=a(208);m=a(642);f=a(33);q=a(20);l=a(41);u=a(26);t=a(53);a=a(100);N(c,h.ht);c.prototype.MI=function(a,b){var c,f,d;c=this;try{f=b.map(function(a){return c.nQa.ewb(a);});this.ORa=f.map(function(a){return c.tc.encode(a);});d=this.nQa.Ilb(f,this.Lf.Nj);return h.ht.prototype.MI.call(this,a,[d]);}catch(E){return Promise.reject(E);}};c.prototype.update=function(a,b){var c,f,d,l,q;c=this;if(b)try{f=this.Tg.encode(a[0]);d=JSON.parse(f).RESPONSES;l=d.map(function(a,f){return {keyID:1 === d.length?c.ORa[c.ORa.length - 1]:b[f],payload:d.find(function(a){return a.ID === "ID" + (f + 1);}).PAYLOAD};});q=JSON.stringify(l);a=[this.Tg.decode(q)];}catch(W){return Promise.reject(W);}return h.ht.prototype.update.call(this,a);};c.prototype.FS=function(){return h.ht.prototype.update.call(this,[this.Tg.decode("renew")]);};g=c;g=d.__decorate([k.N(),d.__param(0,k.l(f.TB)),d.__param(1,k.l(q.De)),d.__param(2,k.l(l.Di)),d.__param(3,k.l(u.Df)),d.__param(4,k.l(t.zm)),d.__param(5,k.l(a.Hy))],g);b.hwa=g;},function(d,b){function a(a,b,d){var c;c=this;this.tc=a;this.wd=b;this.Tg=d;this.ewb=function(a){var b;a=a.subarray(14,30);a=c.tc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.j6a={X3a:1667591779,gWb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.gwa=void 0;a.prototype.Ilb=function(a,b){var c;c=this.j6a.X3a;b=b?1:0;a=a.map(function(a){return {f4b:"",NBb:a,Uda:a,gQb:a,vUb:[1]};});return this.qDb(c,b,a);};a.prototype.pDb=function(a,b){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.ima("fpsi",b,[c]);};a.prototype.oDb=function(a,b,d,m){a=[this.ima("fkri",0,[a])];b.byteLength && a.push(this.oR("fkai",[b]));d.byteLength && a.push(this.oR("fkcx",[d]));m.length && a.push(this.oR("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.oR("fpsk",a);};a.prototype.qDb=function(a,b,d){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.pDb(a,b)];for(var f in d){b=d[f];a.push(this.oDb(b.NBb,b.Uda,b.gQb,b.vUb));}d=this.oR("fpsd",a);f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,d.byteLength);return this.ima("pssh",0,[c,f,d]);};a.prototype.ima=function(a,b,d){var c,f,h;c=0;for(f in d){c+=d[f].byteLength;}c=new Uint8Array(12 + c);h=new DataView(c.buffer);f=0;h.setUint32(f,c.byteLength);f+=4;c.set(this.Tg.decode(a),f);f+=4;h.setUint32(f,0 | 4095 & b);f+=4;for(var l in d){a=d[l];c.set(a,f);f+=a.byteLength;}return c;};a.prototype.oR=function(a,b){var c,d;c=0;for(d in b){c+=b[d].byteLength;}c=new Uint8Array(8 + c);d=0;new DataView(c.buffer).setUint32(d,c.byteLength);d+=4;c.set(this.Tg.decode(a),d);d+=4;for(var f in b){a=b[f];c.set(a,d);d+=a.byteLength;}return c;};b.gwa=a;},function(d,b,a){var k,h,m,f,q,l,u,t,g,z,y,B;function c(a,b,c,f,d){this.Nc=a;this.ei=b;this.tc=c;this.Tg=f;this.Lf=d;}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;d=a(0);k=a(1);h=a(2);m=a(26);f=a(99);q=a(100);l=a(73);u=a(61);t=a(53);g=a(41);z=a(156);y=a(314);B=a(43);c.prototype.oZ=function(){return !1;};c.prototype.cea=function(){return !1;};c.prototype.Kea=function(){return !0;};c.prototype.A0=function(){return this.Lf.Nj?"persistent-usage-record":"temporary";};c.prototype.uia=function(){return z.M7;};c.prototype.kja=function(){return [{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.hA=function(a){return this.Nc.St(a.Ax[0],this.Tg.decode("certificate"));};c.prototype.Nka=function(a){return a.FS();};c.prototype.Gfa=function(a){var b,c;c=[];if(a.messageType === y.Z8 || a.messageType === y.Y8){a.messageType === y.Z8?(b=this.Tg.encode(new Uint8Array(a.message)),c=JSON.parse(b),b=c.map(function(a){return a.keyID;}),c=c.map(function(a){return a.payload;})):c=[this.tc.encode(new Uint8Array(a.message))];if(0 === c.length || !c.every(function(a){return a && a.length;}))throw new B.Dc(h.L.Eva);c=this.bSb(c);c=this.Tg.decode(JSON.stringify(c));}else c=new Uint8Array(a.message);return {type:a.type,sessionId:a.target.sessionId,Ax:[c],Rma:a.messageType,uJ:b};};c.prototype.Lp=function(a){var b,c,f,d;c=null === (b=a.target) || void 0 === b?void 0:b.error;c && (f=c.systemCode,d=c.code);b=new l.Ve(h.L.VV,a instanceof u.Un?h.K.mM:h.K.TF,f?this.ei.gQ(f,4):d,"",c);b.HP(a);return b;};c.prototype.bSb=function(a){return {VERSION:1,CHALLENGES:a.map(function(a,b){return {ID:"ID" + (b + 1),PAYLOAD:a};})};};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(m.Df)),d.__param(1,k.l(f.ly)),d.__param(2,k.l(g.Di)),d.__param(3,k.l(q.Hy)),d.__param(4,k.l(t.zm))],a);b.TBa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ns=void 0;d=b.Ns || (b.Ns={});d.v1a="usable";d.jsb="expired";d.LLb="released";d.iVa="output-restricted";d.HHb="output-downscaled";d.uQb="status-pending";d.oAb="internal-error";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mva=void 0;b.Mva="EmeApiSymbol";},function(d,b,a){var h,m;function c(a,b,c,d,h){this.xa=a;this.config=b;this.ya=c;this.Ex=d;this.name=h;}function k(a,b,c,d){var f;f=this;this.xa=a;this.ya=b;this.timeout=c;this.WRb=d;this.Iyb=function(){f.bk=!0;f.cE.cancel();f.WRb();};this.startTime=this.xa.zb();this.cE=this.ya.yh(this.timeout,function(){f.Iyb();});this.bk=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Ova=void 0;h=a(2);m=a(73);k.prototype.stop=function(){this.bk || (this.h5=this.xa.zb(),this.cE.cancel());};pa.Object.defineProperties(k.prototype,{h_:{configurable:!0,enumerable:!0,get:function(){if(this.h5 && this.startTime)return this.h5.Ia(this.startTime);}}});c.prototype.fkb=function(){var a;a=this;this.WH=new k(this.xa,this.ya,this.config.ska,function(){a.Ex(new m.Ve(h.L.KBa,h.K.R5a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.ska));});};c.prototype.ekb=function(){this.WH && this.WH.stop();};c.prototype.iOb=function(){this.O4=this.xa.zb();};c.prototype.gkb=function(){var a;a=this;this.M5=new k(this.xa,this.ya,this.config.bqa,function(){a.Ex(new m.Ve(h.L.KBa,h.K.Q5a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.bqa));});};c.prototype.iJa=function(){this.M5 && this.M5.stop();};pa.Object.defineProperties(c.prototype,{Ed:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.WH){b=this.WH.h_;b && (a.DEb=b);this.O4 && this.WH.h5 && (a.O4=this.O4.Ia(this.WH.h5));}this.M5 && (b=this.M5.h_) && (a.qlb=b);return a;}}});b.Ova=c;},function(d,b,a){var k,h,m,f,q,l,u,t,g;function c(a,b,c,f,d,l,h){this.Pr=a;this.xa=b;this.tc=c;this.config=f;this.ya=d;this.ol=l;this.hm=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Pva=void 0;d=a(0);k=a(1);h=a(6);m=a(19);f=a(41);q=a(53);l=a(36);u=a(61);t=a(314);a=a(98);c.prototype.create=function(){var a;a=this;return Promise.all([this.hm.Avb(),this.hm.yvb(),this.hm.Br()]).then(function(b){var c,f;c=T(b);b=c.next().value;f=c.next().value;c=c.next().value;return new t.Qva(a.Pr,a.xa,a.tc,a.config,b,f,c,a.ya,a.ol);});};g=c;g=d.__decorate([k.N(),d.__param(0,k.l(h.xb)),d.__param(1,k.l(m.xd)),d.__param(2,k.l(f.Di)),d.__param(3,k.l(q.zm)),d.__param(4,k.l(l.Ig)),d.__param(5,k.l(u.Cy)),d.__param(6,k.l(a.tv))],g);b.Pva=g;},function(d,b,a){var c,k,h,m,f,q,l,u,t,g,z,y,B,n,I,E,p,W,R,M,D,r,ka,la,Y,Q,qa,F,ga,ba,S,Aa;Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;c=a(649);k=a(674);h=a(685);m=a(688);f=a(694);q=a(697);l=a(701);u=a(713);t=a(724);g=a(728);z=a(730);y=a(1024);B=a(1026);n=a(1030);I=a(1042);E=a(1049);p=a(1056);W=a(1059);R=a(1065);M=a(197);D=a(1073);r=a(1075);ka=a(1082);la=a(1097);Y=a(1103);Q=a(1105);qa=a(1112);F=a(1137);ga=a(1159);ba=a(1163);S=a(1167);Aa=a(1181);b.jSa=function(a){a.load(c.zw,q.gB,k.wSa,l.Vl,h.PTa,m.Ua,f.U1a,u.storage,t.Ot,g.$Ia,z.QSa,y.AA,B.ii,n.vSa,I.fUa,E.ANa,p.VWa,W.IE,R.RLa,M.eme,D.crypto,r.Nc,ka.pc,la.Kh,Y.VTa,Q.LVa,qa.j,F.SJa,ga.K0a,ba.nk,S.uf,Aa.bIa);};},function(d,b,a){var c,k,h,m,f,q,l,u,t,g,z,y,B,n,I,E,p,W,R,M,D,r,ka,la,Y,Q,qa,F,ga,ba,S,Aa,Na,Pa,Ba,ia,Ha,Za,Wa,N,P,T,V,X,Z,ea,fa,ja,ha,ma,oa,pa,ua,sa,ta,wa,xa,ya,Ca,Da,Fa,Ia,La,Ga;Object.defineProperty(b,"__esModule",{value:!0});b.zw=void 0;d=a(1);c=a(33);k=a(34);h=a(36);m=a(87);f=a(134);q=a(650);l=a(651);u=a(652);t=a(653);g=a(100);z=a(99);y=a(41);B=a(26);n=a(20);I=a(88);E=a(61);p=a(317);W=a(654);R=a(318);M=a(655);D=a(656);r=a(657);ka=a(193);la=a(319);Y=a(658);Q=a(320);qa=a(101);F=a(659);ga=a(19);ba=a(321);S=a(660);Aa=a(661);Na=a(85);Pa=a(662);Ba=a(6);ia=a(316);Ha=a(663);Za=a(66);Wa=a(664);N=a(322);P=a(665);T=a(666);V=a(102);X=a(9);Z=a(667);ea=a(324);fa=a(325);ja=a(668);ha=a(326);ma=a(13);oa=a(32);pa=a(116);ua=a(327);sa=a(290);ta=a(669);wa=a(328);xa=a(329);ya=a(157);Ca=a(670);Da=a(330);Fa=a(671);Ia=a(209);La=a(672);Ga=a(673);b.zw=new d.Pc(function(a){a(c.tG).cy(function(){return {};}).Z();a(c.sy).wi(JSON);a(c.Paa).wi(O);a(f.saa).wi(Math);a(c.M8).wi(X.NV);a(c.bW).wi(X.Ws);a(c.Jaa).wi(X.Dm);a(c.c7).wi(Date);a(c.TB).wi(X.bi);a(c.Rya).wi(X.mG);a(ia.S6).to(Ha.sua).Z();a(ga.xd).to(F.Zsa).Z();a(k.Vg).to(t.tua).Z();a(h.Ig).to(q.WBa).Z();a(m.qv).to(l.jxa).Z();a(E.Cy).to(r.oBa).Z();a(f.YM).to(u.wBa).Z();a(ua.CV).to(Ga.Hya).Z();a(Na.Ls).to(Aa.Yua).Z();a(Na.e7).to(Pa.Xua).Z();a(g.Hy).to(W.kDa).Z();a(z.ly).to(R.B6).Z();a(y.Di).to(M.Hta).Z();a(B.Df).to(D.lDa).Z();a(n.De).wi(ka.IB);a(wa.VF).to(xa.awa).Z();a(I.J7).to(la.pj).tka();a(I.iM).to(la.pj).Z();a(I.l7).to(la.pj).Z();a(I.XU).to(la.pj).Z();a(Q.raa).to(qa.Ey).Z();a(ba.W6).to(S.Hua).Z();a(Za.Gy).to(Wa.yaa).Z();a(Za.jG).to(Wa.yaa).Z();a("Factory<LoggerFactory>").q0a(Ba.xb);a(N.h7).to(P.$ua).Z();a(V.fC).zf(function(a){return function(b){return new T.RCa(a.gb.get(ga.xd),a.gb.get(h.Ig),b);};});a(Da.d7).zf(function(a){return function(b){return new Fa.Wua(a.gb.get(h.Ig),b);};});a(Z.fW).dSb(ea.S$);a(Z.kBa).zf(function(a){var b;b=a.gb.get(Z.fW);return function(){return new b(!1);};});a(Z.lBa).zf(function(a){var b;b=a.gb.get(Z.fW);return function(){return new b(!0);};});a(fa.Iaa).zf(function(){return function(a){return new ja.jDa(a);};});a(pa.YB).zf(function(a){return function(b,c,f){return new ha.MAa(a.gb.get(Na.Ls),a.gb.get(ma.Oc),a.gb.get(oa.sj),a.gb.get(ua.CV),b,c,f);};});a(p.F9).zf(function(){return function(a){return new Y.xza(a);};});a(sa.tU).to(ta.Rta);a(ya.dN).zf(function(a){return function(b,c){return new Ca.ZCa(a.gb.get(h.Ig),b,c);};});a(Ia.G7).to(La.Uva).Z();});},function(d,b,a){var h,m,f,q;function c(a){this.CL=a;m.gn(this,"timers");}function k(a,b){this.CL=a;this.$jb=b;}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;d=a(0);h=a(1);m=a(52);f=a(33);q=a(4);k.prototype.cancel=function(){this.$jb(this.CL);};c.prototype.Vc=function(a){return this.yh(q.sb,a);};c.prototype.yh=function(a,b){var c;c=this.CL.setTimeout(b,a.ba(q.fa));return new k(this.CL,function(a){a.clearTimeout(c);});};c.prototype.Ypa=function(a,b){var c;c=this.CL.setInterval(b,a.ba(q.fa));return new k(this.CL,function(a){a.clearInterval(c);});};a=c;a=d.__decorate([h.N(),d.__param(0,h.l(f.Paa))],a);b.WBa=a;},function(d,b,a){var k,h,m,f,q;function c(a,b){this.wa=a;this.random=b;}Object.defineProperty(b,"__esModule",{value:!0});b.jxa=void 0;d=a(0);h=a(1);m=a(4);f=a(34);a=a(134);c.prototype.Bz=function(){return this.wa.ve.ba(m.Em) * k.$ta + Math.floor(this.random.random() * k.$ta);};q=k=c;q.$ta=1E4;q=k=d.__decorate([h.N(),d.__param(0,h.l(f.Vg)),d.__param(1,h.l(a.YM))],q);b.jxa=q;},function(d,b,a){var k,h;function c(a){this.uRb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;d=a(0);k=a(1);a=a(134);c.prototype.random=function(){return this.uRb.random();};c.prototype.dXa=function(a,b){if("number" !== typeof a)(b=a.end,a=a.start);else if("undefined" === typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a + this.random() * (b - a));};h=c;h=d.__decorate([k.N(),d.__param(0,k.l(a.saa))],h);b.wBa=h;},function(d,b,a){var k,h,m,f,q,l,u;function c(a,b,c,f){var d;d=this;this.config=a;this.Tob=b;this.Hb=c;this.performance=f;this.lHb=function(a){d.dZa=a.Ia(d.ve);};k.gn(this,"date");k.gn(this,"performance");this.mhb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.dZa=h.sb;this.Hb.addListener(u.A8.fZa,this.lHb);}Object.defineProperty(b,"__esModule",{value:!0});b.tua=void 0;d=a(0);k=a(52);h=a(4);m=a(1);f=a(33);q=a(316);l=a(88);u=a(14);pa.Object.defineProperties(c.prototype,{ve:{configurable:!0,enumerable:!0,get:function(){return this.STa?h.timestamp(this.performance.timing.navigationStart + this.performance.now()):h.Jb(this.Tob.now());}},N4:{configurable:!0,enumerable:!0,get:function(){return this.ve.add(this.dZa);}},STa:{configurable:!0,enumerable:!0,get:function(){return this.config.D1a && this.mhb;}}});a=c;a=d.__decorate([m.N(),d.__param(0,m.l(q.S6)),d.__param(1,m.l(f.c7)),d.__param(2,m.l(l.XU)),d.__param(3,m.l(f.bW)),d.__param(3,m.optional())],a);b.tua=a;},function(d,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;d=a(0);a=a(1);c.prototype.encode=function(a){return k.aha(a);};c.prototype.decode=function(a){return k.lga(a);};c.aha=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,h="";b < d;){c=a[b++];if(!(0 <= c && 255 >= c))throw Error("bad utf8");if(c & 128)if(192 === (c & 224))c=((c & 31) << 6) + (a[b++] & 63);else if(224 === (c & 240))c=((c & 15) << 12) + ((a[b++] & 63) << 6) + (a[b++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(c);}return h;};c.lga=function(a){var b,c,d,h,m;b=a.length;c=0;h=0;if(!(0 <= b))throw Error("bad string");for(d=b;d--;){m=a.charCodeAt(d);128 > m?c++:c=2048 > m?c + 2:c + 3;}c=new Uint8Array(c);for(d=0;d < b;d++){m=a.charCodeAt(d);128 > m?c[h++]=m:(2048 > m?c[h++]=192 | m >>> 6:(c[h++]=224 | m >>> 12,c[h++]=128 | m >>> 6 & 63),c[h++]=128 | m & 63);}return c;};h=k=c;h=k=d.__decorate([a.N()],h);b.kDa=h;},function(d,b,a){var k,h,m,f,q,l,u,t;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hta=void 0;d=a(0);a=a(1);h=Array.prototype.slice;m=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};q={};l={};u={};t=/\s+/g;[m,h].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];f[c]=b << 18;q[c]=b << 12;l[c]=b << 6;u[c]=b;}});c.prototype.encode=function(a){return k.aha(a,m,"=");};c.prototype.decode=function(a){return k.lga(a);};c.lga=function(a){var b,c,d;a=a.replace(t,"");b=a.length;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=3 * (b >> 2);d=0;switch(b % 4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c + d),h=0,m=0,k;m < c;){k=f[a[h++]] + q[a[h++]] + l[a[h++]] + u[a[h++]];if(!(0 <= k && 16777215 >= k))throw Error("bad base64");b[m++]=k >>> 16;b[m++]=k >>> 8 & 255;b[m++]=k & 255;}if(0 < d && (k=f[a[h++]] + q[a[h++]],b[m++]=k >>> 16,1 < d && (k+=l[a[h++]],b[m++]=k >>> 8 & 255),!(0 <= k && 16776960 >= k && 0 === (k & (1 < d?255:65535)))))throw Error("bad base64");return b;};c.aha=function(a,b,c){for(var f="",d=0,l=a.length,h=l - 2,q;d < h;){q=(a[d++] << 16) + (a[d++] << 8) + a[d++];if(!(0 <= q && 16777215 >= q))throw Error("not bytes");f+=b[q >>> 18] + b[q >>> 12 & 63] + b[q >>> 6 & 63] + b[q & 63];}if(d == h){q=(a[d++] << 8) + a[d++];if(!(0 <= q && 65535 >= q))throw Error("not bytes");f+=b[q >>> 10] + b[q >>> 4 & 63] + b[q << 2 & 63] + c;}else if(d == l - 1){q=a[d++];if(!(0 <= q && 255 >= q))throw Error("not bytes");f+=b[q >>> 2] + b[q << 4 & 63] + c + c;}return f;};h=k=c;h=k=d.__decorate([a.N()],h);b.Hta=h;},function(d,b,a){var k,h,m,f;function c(a,b){this.is=a;this.ei=b;}Object.defineProperty(b,"__esModule",{value:!0});b.lDa=void 0;d=a(0);k=a(1);a(2);h=a(20);m=a(99);f=a(9);c.prototype.KR=function(a,b,c){var f,d,l,h;f=this;if(b)if(c){d=c.GJ;l=c.prefix;h=c.Fx;this.Lz(b,function(b,c){if(!h || f.is.ge(c))a[(l || "") + (d?b.toLowerCase():b)]=c;});}else this.Lz(b,function(b,c){a[b]=c;});return a;};c.prototype.Lz=function(a,b){for(var c in a){a.hasOwnProperty(c) && b(c,a[c]);}};c.prototype.St=function(a,b){if(a.length == b.length){for(var c=a.length;c--;){if(a[c] != b[c])return !1;}return !0;}return !1;};c.prototype.lKa=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var c=a.length;c--;){if(a[c] !== b[c])return !1;}return !0;};c.prototype.$e=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f || (f="" + a);b?(a="" + b,0 !== a.indexOf(f) && (a=f + "\n" + a)):a=f;c && (a+="\nnumber:" + c);return a;}};c.prototype.getFunctionName=function(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";};c.prototype.xia=function(a){return this.getFunctionName(a.constructor);};c.prototype.Bna=function(a){var b,c;b=this;c="";this.is.fw(a) || this.is.AHa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?String.fromCharCode(b):".");},""):this.is.lo(a)?c=a:this.Lz(a,function(a,f){c+=(c?", ":"") + "{" + a + ": " + (b.is.wY(f)?b.getFunctionName(f) || "function":f) + "}";});return "[" + this.xia(a) + " " + c + "]";};c.prototype.createElement=function(a,b,c,d){var l;l=f.Fe.createElement(a);b && (l.style.cssText=b);c && (l.innerHTML=c);d && this.Lz(d,function(a,b){l.setAttribute(a,b);});return l;};c.prototype.Ssb=function(a,b){return function(c){return c[a] === b;};};c.prototype.fS=function(a){var b;b={};(a || "").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0 <= c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c + 1)):b[a.toLowerCase()]=void 0;});return b;};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.De)),d.__param(1,k.l(m.ly))],a);b.lDa=a;},function(d,b,a){var k,h,m;function c(a){this.ya=a;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;d=a(0);k=a(1);h=a(36);m=a(61);c.prototype.rn=function(a,b){var c;c=this;return new Promise(function(f,d){var l;l=c.ya.yh(a,function(){d(new m.Un(a));});b.then(function(a){f(a);l.cancel();})["catch"](function(a){d(a);l.cancel();});});};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.Ig))],a);b.oBa=a;},function(d,b,a){var k;function c(a){this.lub=a;this.R0=!1;this.h1=this.gg=this.xL=0;this.NQ=!1;this.i1=0;}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;k=a(15);c.prototype.Hgb=function(a){a < this.xL && (this.gg+=this.xL);this.xL=a;this.R0=!0;};c.prototype.bvb=function(){if(this.R0)return this.NQ?this.i1 - this.h1:this.gg + this.xL - this.h1;};c.prototype.refresh=function(){var a;a=this.lub();k.pa(a) && this.Hgb(a);};c.prototype.iQb=function(){this.NQ || (this.R0 && (this.i1=this.gg + this.xL),this.NQ=!0);};c.prototype.yQb=function(){this.NQ && (this.R0 && (this.h1+=this.gg + this.xL - this.i1),this.i1=0,this.NQ=!1);};b.xza=c;},function(d,b,a){var k,h,m,f;function c(a,b){this.wa=a;this.a0=this.wa.ve.ba(m.fa) - 1;this.cDb=this.V1=0;this.id="" + b.Bz();}Object.defineProperty(b,"__esModule",{value:!0});b.Zsa=void 0;d=a(0);k=a(1);h=a(34);m=a(4);a=a(87);c.prototype.zb=function(){var a,b;a=this.wa.ve.ba(m.fa) - this.a0;if(a < this.V1){b=this.V1 + 1;this.a0-=b - a;a=b;}this.V1=a;return m.Jb(this.V1);};c.prototype.jwb=function(){return this.cDb++;};pa.Object.defineProperties(c.prototype,{fE:{configurable:!0,enumerable:!0,get:function(){return m.Jb(this.a0);}}});f=c;f=d.__decorate([k.N(),d.__param(0,k.l(h.Vg)),d.__param(1,k.l(a.qv))],f);b.Zsa=f;},function(d,b,a){var k,h,m,f;function c(a,b){this.is=a;this.Nc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Hua=void 0;d=a(0);h=a(1);m=a(20);a=a(26);c.prototype.encode=function(a){var b,c;b=this;c="";this.Nc.Lz(a,function(a,f){a=b.pMa(a) + "=" + b.pMa(f);c=c?c + ("," + a):a;});return c;};c.prototype.pMa=function(a){return this.is.tD(a)?this.is.Jh(a)?"" + a:this.is.lo(a)?(a=a.replace(k.lpa,this.oma.bind(this)),!k.IKb.test(a) && k.AFb.test(a) && (a='"' + a + '"'),a):this.is.wO(a)?"" + a:this.is.eda(a)?"NaN":"":"";};c.prototype.oma=function(a){return k.map[a];};f=k=c;f.map={'"':'""',"\r":"","\n":" "};f.lpa=/(?!^.+)["\r\n](?=.+$)/g;f.IKb=/["].*["]/g;f.AFb=/[", ]/;f=k=d.__decorate([h.N(),d.__param(0,h.l(m.De)),d.__param(1,h.l(a.Df))],f);b.Hua=f;},function(d,b,a){var k,h,m,f;function c(a,b,c){this.config=a;this.Da=b;this.ma=c.ob("General");}Object.defineProperty(b,"__esModule",{value:!0});b.Yua=void 0;d=a(0);k=a(1);h=a(20);m=a(85);a=a(6);c.prototype.assert=function(){};c.prototype.Jhb=function(a,b){this.assert(this.Da.tD(a),b);};c.prototype.Khb=function(a,b){this.assert(this.Da.ge(a),b);};c.prototype.Phb=function(a,b){this.assert(this.Da.lo(a),b);};c.prototype.Shb=function(a,b){this.assert(this.Da.Om(a),b);};c.prototype.Qhb=function(a,b){this.assert(this.Da.lo(a) || null === a || void 0 === a,b);};c.prototype.Nhb=function(a,b){this.assert(this.Da.Jh(a),b);};c.prototype.Mhb=function(a,b){this.assert(this.Da.Fda(a),b);};c.prototype.Rhb=function(a,b){this.assert(this.Da.Kt(a),b);};c.prototype.Ohb=function(a,b){this.assert(this.Da.xO(a),b);};c.prototype.Ihb=function(a,b){this.assert(this.Da.wO(a),b);};c.prototype.Lhb=function(a,b){this.assert(this.Da.wY(a),b);};c.prototype.uAb=function(){this.assert(!1,"invalid operation, this method should not be called");};c.B3b=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var f;f={toString:function(){return "";}};a(f,c || b);return f.stack;}:function(){try{throw Error("capture stack");}catch(u){return u.stack;}};};f=c;f=d.__decorate([k.N(),d.__param(0,k.l(m.e7)),d.__param(1,k.l(h.De)),d.__param(2,k.l(a.xb))],f);b.Yua=f;},function(d,b,a){var k,h,m,f;function c(a){a=h.ZL.call(this,a,"DebugConfigImpl") || this;a.r2b=function(){debugger;};return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Xua=void 0;d=a(0);k=a(42);h=a(44);m=a(1);a=a(31);N(c,h.ZL);pa.Object.defineProperties(c.prototype,{fjb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;d.__decorate([k.config(k.Gc,"breakOnError")],f.prototype,"fjb",null);f=d.__decorate([m.N(),d.__param(0,m.l(a.FU))],f);b.Xua=f;},function(d,b,a){var k,h,m,f;function c(a){return h.ZL.call(this,a,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sua=void 0;d=a(0);k=a(42);h=a(44);m=a(1);a=a(31);N(c,h.ZL);pa.Object.defineProperties(c.prototype,{D1a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;d.__decorate([k.config(k.Gc,"usePerformanceApi")],f.prototype,"D1a",null);f=d.__decorate([m.N(),d.__param(0,m.l(a.FU))],f);b.sua=f;},function(d,b,a){var k,h,m,f;function c(a,b){this.xa=a;this.entries=new Set();this.ma=b.ob("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.yaa=void 0;d=a(0);k=a(1);h=a(19);m=a(4);a=a(6);c.prototype.mark=function(a,b,c){a={name:a,Vu:this.xa.zb()};b && (a.ea=b);c && (a.Wk=c);this.entries.add(a);return a;};c.prototype.Ria=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};c.prototype.KOa=function(a){return this.Ria().filter(function(b){return b.ea === a;});};c.prototype.IOa=function(){var a;a={};try{a=this.Ria().filter(function(a){return !a.ea;}).reduce(function(a,b){a[b.name]=b.Vu.ba(m.fa);return a;},{});}catch(l){this.ma.error(" getMapOfCommonMarks exception",l);}return a;};c.prototype.LXa=function(a){var b;b=this;this.Ria().forEach(function(c){c.ea === a && b.entries["delete"](c);});};f=c;f=d.__decorate([k.N(),d.__param(0,k.l(h.xd)),d.__param(1,k.l(a.xb))],f);b.yaa=f;},function(d,b,a){var k,h,m,f,q,l,u,t,g;function c(a,b){this.xa=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.$ua=void 0;d=a(0);h=a(1);m=a(19);f=a(43);q=a(2);l=a(14);u=a(4);t=a(9);a=a(323);c.prototype.bqb=function(a){var b,c,d,h,m,t,g,x,z,n;b=this;t=a.fb.value;g=a.qo.value;x=a.Xb.value;z=a.state.value;m={segmentId:a.dja(),mediaTime:t,segmentTime:a.Vz(),bufferingState:k.njb[g],presentingState:k.VJb[x],playbackState:k.ZIb[z],mseBuffersBusy:this.Cxb(a),intBuffersBusy:this.Zvb(a),tabVisible:this.vRb(),decodedFrameCount:this.opb(a),videoElementInDom:this.AUb(a),lastVideoSync:this.xa.zb().Ia(u.Jb(a.zT)).ba(u.fa)};n=x === l.tb.kg?a.Ta.mk?this.config.dVa:this.config.cVa:this.config.LTa;g !== l.Ce.yd?(d=q.K.B4a,this.IIa(m.mseBuffersBusy,m.intBuffersBusy) && (h=k.Fta)):x !== l.tb.Wc && (d=q.K.C4a,(g=a.Qh) && g.Gb.sourceBuffers.forEach(function(a){var c,f;c=k.tu[a.I];m[c + "Ranges"]=a.h0();try{f=a.buffered();}catch(Y){f=void 0;}f && 0 !== f.length?(a=1E3 * f.end(0) - t,m[c + "Undecoded"]=a,1 < f.length && (h=k.r3a),t < 1E3 * f.start(0) || t > 1E3 * f.end(0)?h=k.s3a:a < n.ba(u.fa)?h=k.t3a:b.IIa(m.mseBuffersBusy,m.intBuffersBusy) && (h=k.Fta)):(m[c + "Undecoded"]=0,h=k.q3a);}));a=a.ZXa.qPa();g=t === (null === (c=a.repositionTrace) || void 0 === c?void 0:c[0].newMediaTime);m.lastRepositionCausedTimeout=g;Object.assign(m,a);c="";try{c=JSON.stringify(m);}catch(U){c="Cannot stringify details: " + U;}return new f.Dc(q.L.Hza,d,h,void 0,void 0,void 0,c,void 0);};c.prototype.Cxb=function(a){var b;if(a.Gb){b={};a.Gb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.updating()};});return b;}};c.prototype.Zvb=function(a){var b;if(a.Gb){b={};a.Gb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.Ph()};});return b;}};c.prototype.vRb=function(){return !t.Fe.hidden;};c.prototype.opb=function(a){return (a=a.Qh) && (a=a.Gb.oa) && void 0 !== a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};c.prototype.AUb=function(a){if(a=a.Qh)if(a=a.Gb.oa)return t.Fe.body.contains(a);return !1;};c.prototype.IIa=function(a,b){var c,f,d,l;return !((null === (c=a.audio) || void 0 === c?void 0:c.updating) === (null === (f=b.audio) || void 0 === f?void 0:f.updating) && (null === (d=a.video) || void 0 === d?void 0:d.updating) === (null === (l=b.video) || void 0 === l?void 0:l.updating));};g=k=c;g.q3a="1";g.r3a="2";g.s3a="3";g.Fta="4";g.t3a="5";g.tu=["Audio","Video"];g.njb=["","NORMAL","BUFFERING","STALLED"];g.VJb=["","WAITING","PLAYING ","PAUSED","ENDED"];g.ZIb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];g=k=d.__decorate([h.N(),d.__param(0,h.l(m.xd)),d.__param(1,h.l(a.v9))],g);b.$ua=g;},function(d,b,a){var k,h,m,f;function c(a,b,c){var f;f=this;this.app=a;this.ya=b;this.tZ=c;this.Ex=function(a){f.si=void 0;f.KSb(a || f.tZ);};this.SRa=m.Jb(-this.tZ.ba(m.fa));}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;d=a(0);k=a(1);h=a(19);m=a(4);a=a(36);c.prototype.Vc=function(a){this.$pa=a;this.si=this.si || this.uc(this.Ex);};c.prototype.Ng=function(){this.si && this.si.cancel();this.si=void 0;};c.prototype.KSb=function(a){var b,c;b=this.app.zb();if(this.$pa){c=a.Ia(b.Ia(this.SRa));0 >= c.Cj(m.sb)?(a=this.$pa,this.$pa=void 0,this.SRa=b,a()):this.si=this.si || this.ya.yh(c,this.Ex.bind(this,a));}};c.prototype.uc=function(a){return this.ya.yh(m.sb,a);};f=c;f=d.__decorate([k.N(),d.__param(0,k.l(h.xd)),d.__param(1,k.l(a.Ig))],f);b.RCa=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lBa=b.kBa=b.fW=void 0;b.fW="PrioritizedSetOfListsSymbol";b.kBa="PrioritizedSetOfListsFactorySymbol";b.lBa="PrioritizedSetOfSetsFactorySymbol";},function(d,b){function a(){this.searchParams={};}function c(b){this.ro=b;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;c.prototype.toString=function(){return this.href;};pa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.ro + this.searchParams.toString();}}});b.jDa=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(a,b,c){var f;f=T(b);b=f.next().value;f=f.next().value;return "" + a + (0 == c?"?":"&") + b + "=" + f;},"");};},function(d,b,a){var k,h,m,f,q;function c(a,b){this.zj=this.rsb(a,b.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=b.Rta=void 0;d=a(0);k=a(1);h=a(13);m=a(31);a=a(33);c.prototype.eyb=function(a,b){var c;b=this.fyb(b);if(b)switch(a){case q.ISa:c=0 < b.length?Number(b[0]):0;break;case q.iFb:c=1 < b.length?Number(b[1]):0;break;case q.dIb:c=2 < b.length?Number(b[2]):0;break;case q.u4:c=3 < b.length?Number(b[3]):0;}return void 0 === c || isNaN(c)?0:c;};c.prototype.fyb=function(a){return null === a || void 0 === a?void 0:a.split(".");};c.prototype.BAb=function(a){return this.zj.name === a;};c.prototype.oRa=function(a){return this.zj.lK.name === a;};c.prototype.rsb=function(a,b){return Object.assign(Object.assign({QPa:this.tsb(a,b)},this.qsb(a,b)),{lK:this.usb(a,b)});};c.prototype.tsb=function(a,b){return b && b.QPa?b.QPa:(/Android.*Chrome\/[.0-9]* Mobile/).test(a)?h.qV.zIb:(/Android.*Chrome\/[.0-9]* /).test(a)?h.qV.wRb:h.qV.wlb;};c.prototype.qsb=function(a,b){return b && b.name && b.version?{name:b.name,version:b.version}:(/OPR/).test(a)?{name:h.fv.opera,version:""}:(b=a.match(/Edge\/(\d*)\./))?{name:h.fv.qr,version:b[1]}:(b=a.match(/Edg\/(\d*)\./))?{name:h.fv.$qb,version:b[1]}:(b=a.match(/Chrome\/(\d*)\./))?{name:h.fv.chrome,version:b[1]}:(b=a.match(/Firefox\/(\d*)\./))?{name:h.fv.cNa,version:b[1]}:(a=a.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:h.fv.dNb,version:a[1]}:{name:h.fv.chrome,version:""};};c.prototype.usb=function(a,b){return b && b.lK && b.lK.name && b.lK.version?{name:b.lK.name,version:b.lK.version}:(/CrOS/).test(a)?{name:h.Ys.Ikb,version:""}:(/Tesla/).test(a)?{name:h.Ys.BRb,version:""}:(b=a.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:h.Ys.GSa,version:b[1] + "." + b[2] + "." + b[3]}:(/Windows NT/).test(a)?{name:h.Ys.ysa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(a) || (/Android.*Chrome\/[.0-9]* /).test(a)?{name:h.Ys.CHa,version:""}:(/Linux/).test(a)?{name:h.Ys.lCb,version:""}:{name:h.Ys.ysa,version:""};};pa.Object.defineProperties(c.prototype,{NAb:{configurable:!0,enumerable:!0,get:function(){return this.BAb(h.fv.cNa);}},UAb:{configurable:!0,enumerable:!0,get:function(){return this.oRa(h.Ys.GSa);}},xBb:{configurable:!0,enumerable:!0,get:function(){return this.oRa(h.Ys.ysa);}},gjb:{configurable:!0,enumerable:!0,get:function(){return this.eyb(q.ISa,this.zj.version);}}});f=c;f=d.__decorate([k.N(),d.__param(0,k.l(a.Jaa)),d.__param(1,k.l(m.dG))],f);b.Rta=f;(function(a){a[a.ISa=0]="major";a[a.iFb=1]="minor";a[a.dIb=2]="patch";a[a.u4=3]="revision";})(q=b.uDa || (b.uDa={}));},function(d,b,a){var k,h,m;function c(a,b,c){this.ya=a;this.XRb=b;this.SD=c;}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;d=a(0);k=a(36);h=a(1);m=a(4);c.prototype.zD=function(){this.si || (this.si=this.ya.yh(m.Jb(this.XRb),this.SD));};c.prototype.jj=function(){this.si && this.si.cancel();this.si=void 0;};a=c;a=d.__decorate([h.N(),d.__param(0,h.l(k.Ig))],a);b.ZCa=a;},function(d,b,a){var k,h;function c(a,b){this.ya=a;this.tZ=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Wua=void 0;d=a(0);k=a(1);a=a(36);c.prototype.Vc=function(a){this.Ng();this.si=this.ya.yh(this.tZ,a);};c.prototype.Ng=function(){this.si && this.si.cancel();this.si=void 0;};h=c;h=d.__decorate([k.N(),d.__param(0,k.l(a.Ig))],h);b.Wua=h;},function(d,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Uva=void 0;d=a(0);k=a(1);h=a(209);c.prototype.DI=function(a,b){var c;c=this;a && Object.entries(b).forEach(function(b){var f,d,l;f=T(b);b=f.next().value;f=f.next().value;if(c.FAb(f)){d=T(f);f=d.next().value;l=d.next().value;d=a[f];Array.isArray(d)?(c.sga(a,b,f),d.forEach(function(a){c.DI(a,l);})):f === h.Jy?Object.values(a).forEach(function(a){c.DI(a,l);}):(c.sga(a,b,f),"object" === typeof d && c.DI(d,l));}else c.sga(a,b,f);});};c.prototype.FAb=function(a){return Array.isArray(a);};c.prototype.sga=function(a,b,c){a.hasOwnProperty(b) || b === c || Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};a=c;a=d.__decorate([k.N()],a);b.Uva=a;},function(d,b,a){var k,h,m;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Hya=void 0;d=a(0);k=a(13);h=a(11);a=a(1);c.prototype.Br=function(){return this.EAb()?h.vva:(/widevine/i).test(this.config().ke)?h.u7:(/fps/i).test(this.config().ke)?"fairplay":h.OU;};c.prototype.EAb=function(){return (/clearkey/i).test(this.config().ke);};m=c;m=d.__decorate([a.N(),d.__param(0,a.l(k.Oc))],m);b.Hya=m;},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.wSa=void 0;c=a(675);k=a(676);d=a(1);h=a(103);m=a(6);f=a(682);b.wSa=new d.Pc(function(a){a(m.xb).to(k.aya).Z();a(h.LB).to(c.bya).Z();a(m.Q8).to(f.Txa).Z();});},function(d,b,a){var k;function c(){this.UZa={};this.wm=[];}Object.defineProperty(b,"__esModule",{value:!0});b.bya=void 0;d=a(0);a=a(1);c.prototype.d4=function(a,b){b && (this.UZa[a]=b,this.wm=Object.values(this.UZa));};k=c;k=d.__decorate([a.N()],k);b.bya=k;},function(d,b,a){var k,h,m,f,q,l,u;function c(a,b,c){this.xa=a;this.wm=b;this.Vla=c;}Object.defineProperty(b,"__esModule",{value:!0});b.aya=void 0;d=a(0);k=a(210);h=a(1);m=a(679);f=a(19);q=a(103);l=a(6);u=a(680);c.prototype.ob=function(a,b,c,f,d){c=void 0 === c?this.wm:c;return b?new m.EAa(this.xa,this.Vla,c,b,a):d?new u.jta(this.xa,this.Vla,c,a,f || "",d):new k.fG(this.xa,this.Vla,c,a);};a=c;a=d.__decorate([h.N(),d.__param(0,h.l(f.xd)),d.__param(1,h.l(q.LB)),d.__param(2,h.l(l.Q8))],a);b.aya=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.cD=void 0;c=a(678);b.cD=function(a,b){var f;a=a.iwb();for(var d=0;d < b.length;++d){f=b[d];void 0 != f && null != f && (f.sh && (f=f.sh),f.constructor === Uint8Array?a.Qgb(f):"MediaRequest" === f.constructor.name?a.Fgb(f):"string" === typeof f?a.Pgb(f):"function" === typeof f?a.ygb(f):f instanceof Error?a.vgb(f):f instanceof c.EnumeratedErrorBase?a.ugb(f):f instanceof Object?a.Ggb(f):a.Rgb(f));}return a.Tk();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,b,d,h){this.type=a;this.name=a.name;this.number=b;"string" === typeof d?this.message=d:void 0 !== d && (this.cause=d);void 0 !== h && (this.message=h);};},function(d,b,a){var k,h,m;function c(a,b,c,d,h){a=m.fG.call(this,a,b,c,h) || this;a.j=d;k.gn(a,"playback");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;k=a(52);h=a(331);m=a(210);N(c,m.fG);c.prototype.Pfa=function(a){return new c(this.xa,this.pw,this.wm,this.j,a);};c.prototype.kz=function(a,b,c){a=new h.P8(a,this.Rm,this.xa.zb(),b,c,this.j.index);b=T(this.wm.wm);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a,this.j);}};b.EAa=c;},function(d,b,a){var k,h;function c(a,b,c,d,h,t){a=k.fG.call(this,a,b,c,d) || this;a.Jja=h;Array.isArray(t)?a.prefix=t:t && "string" === typeof t && (a.prefix=[],a.prefix.push(t));return a;}Object.defineProperty(b,"__esModule",{value:!0});b.jta=void 0;k=a(210);h=a(681);N(c,k.fG);c.prototype.kz=function(a,b,c){a=new h.ita(a,this.Rm,this.xa.zb(),b,c,this.prefix);b=T(this.wm.wm);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a);}};c.prototype.Pfa=function(a){return new c(this.xa,this.pw,this.wm,a,this.Jja,this.prefix);};b.jta=c;},function(d,b,a){var k,h;function c(a,b,c,d,h,k,g){this.level=a;this.Rm=b;this.timestamp=c;this.message=d;this.ld=h;this.prefix=k;this.index=void 0 === g?0:g;}Object.defineProperty(b,"__esModule",{value:!0});b.ita=void 0;k=a(4);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.x5=function(a,b){a=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (b?"":" " + this.SQb(! !a));return (this.timestamp.ba(k.fa) / 1E3).toFixed(3) + "|" + this.index + "|" + (h[this.level] || this.level) + "|" + this.Rm + "| " + a;};c.prototype.SQb=function(a){var h;for(var b=this.ld.length,c="",d=0;d < b;++d){h=this.ld[d].ls;d && c.length && (c+=" ");if("object" === typeof h){if(null === h)c+="null";else if(h instanceof Error)c+=this.RQb(h,a);else try{c+=JSON.stringify(h);}catch(t){c+=this.QQb(h);}}else c+=h;}return c;};c.prototype.RQb=function(a,b){return a.toString() + (a.stack && !b?"\n" + a.stack:"") + "\n";};c.prototype.QQb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object" === typeof c && null !== c){if(-1 !== b.indexOf(c))return "<cycle>";b.push(c);}return c;});};b.ita=c;},function(d,b,a){var k,h,m,f;function c(a,b){this.tc=a;this.Nc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Txa=void 0;d=a(0);k=a(1);h=a(683);m=a(41);a=a(26);c.prototype.iwb=function(){return new h.Uxa(this.tc,this.Nc);};f=c;f=d.__decorate([k.N(),d.__param(0,k.l(m.Di)),d.__param(1,k.l(a.Df))],f);b.Txa=f;},function(d,b,a){var z,y,B,n;function c(a,b){this.tc=a;this.Nc=b;this.ld=[];}function k(a){return g.call(this,a,function(a){return {Details:a};}) || this;}function h(a){return g.call(this,a,function(a){return JSON.parse(a.toJSON());}) || this;}function m(a,b){b=g.call(this,b,function(b){return {Base64:a.encode(b)};}) || this;b.tc=a;return b;}function f(a,b){b=g.call(this,b,function(a){return a();}) || this;b.Nc=a;return b;}function q(a,b){return u.call(this,a,b,function(a){var b;b=y.reduce(a,function(a,b){var c;a.name=void 0 !== a.name?a.name + ("-" + b.name):b.name;c="";c="undefined" !== typeof b.type && "undefined" !== typeof b.type.prefix?c + b.type.prefix:c + b.name;"undefined" !== typeof b.number && (c+=b.number);a.errorCode=void 0 !== a.errorCode?a.errorCode + ("-" + c):c;q.jlb(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);}) || this;}function l(a){return g.call(this,a,function(a){return {Exception:a.message || "" + a,StackTrace:a.stack || "nostack"};}) || this;}function u(a,b,c){b=g.call(this,b,c) || this;b.Nc=a;return b;}function t(a){return g.call(this,a,function(a){return {Details:a};}) || this;}function g(a,b){this.ls=a;this.value=b?b(a):a;}Object.defineProperty(b,"__esModule",{value:!0});b.Uxa=b.X5a=void 0;d=a(0);z=a(1);y=a(684);B=a(26);a=a(41);g.prototype.YP=function(a){return this.ls === a;};N(t,g);t.prototype.vF=function(a,b){return b?"":"\r\n" + this.ls;};N(u,g);u.prototype.vF=function(){var a;a="";this.Nc.Lz(this.value,function(b,c){try{a+=", " + b + ": " + c;}catch(W){try{a+=", " + b + ": " + JSON.stringify(c);}catch(R){a+=", error stringifying " + b;}}});return a.replace(/[\r\n]+ */g," ");};N(l,g);l.prototype.vF=function(a){var b;b="\r\n" + this.ls.message;a || (b+="\r\n" + this.ls.stack);return b;};N(q,u);q.jlb=function(a,b,c){var l,h;for(var f=[],d=2;d < arguments.length;++d){f[d - 2]=arguments[d];}for(d=0;d < f.length;++d){l=a[f[d]];if(void 0 !== l){h="" + f[d];b[h]=b[h] || [];b[h].push(l);}}};b.X5a=q;N(f,g);f.prototype.vF=function(){var a;a="";this.Nc.Lz(this.value,function(b,c){a+=", " + b + ": " + c;});return a.replace(/[\r\n]+ */g," ");};N(m,g);m.prototype.vF=function(a,b){return this.ls && !b?"\r\n" + this.tc.encode(this.ls):"";};N(h,g);h.prototype.vF=function(){return this.ls?this.ls.toJSON():"";};N(k,g);k.prototype.vF=function(){return ", " + (this.ls.toString?"" + this.ls.toString():"");};c.prototype.Pgb=function(a){this.ld.push(new t(a));};c.prototype.Ggb=function(a){this.ld.push(new u(this.Nc,a));};c.prototype.vgb=function(a){this.ld.push(new l(a));};c.prototype.ugb=function(a){this.ld.push(new q(this.Nc,a));};c.prototype.ygb=function(a){this.ld.push(new f(this.Nc,a));};c.prototype.Qgb=function(a){this.ld.push(new m(this.tc,a));};c.prototype.Fgb=function(a){this.ld.push(new h(a));};c.prototype.Rgb=function(a){this.ld.push(new k(a));};c.prototype.Tk=function(){return this.ld;};n=c;n=d.__decorate([z.N(),d.__param(0,z.l(a.Di)),d.__param(1,z.l(B.Df))],n);b.Uxa=n;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,b,d){for(;void 0 !== a;a=a.cause){d=b(d,a);}return d;};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.PTa=void 0;d=a(1);c=a(211);k=a(686);b.PTa=new d.Pc(function(a){a(c.EV).to(k.Zya).Z();});},function(d,b,a){var k,h,m;function c(a){this.ya=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Zya=void 0;d=a(0);k=a(1);h=a(687);a=a(36);c.prototype.Nfa=function(a,b){return new h.$ya(this.ya,a,b);};m=c;m=d.__decorate([k.N(),d.__param(0,k.l(a.Ig))],m);b.Zya=m;},function(d,b){function a(a,b,d){this.ya=a;this.config=b;this.getTime=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;a.prototype.observe=function(a,b){var c;c=this;this.cancel();this.si=this.ya.Ypa(this.config.fja(),function(){c.getTime() >= a && (c.cancel(),b());});};a.prototype.cancel=function(){this.si && (this.si.cancel(),this.si=void 0);};b.$ya=a;},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.Ua=void 0;d=a(1);c=a(212);k=a(332);h=a(689);m=a(692);f=a(335);q=a(693);b.Ua=new d.Pc(function(a){a(c.sW).to(h.dCa).Z();a(k.haa).to(m.bCa).Z();a(f.Baa).to(q.aDa).Z();});},function(d,b,a){var k,h,m,f,q,l,u,t,g,z,y,B,n;function c(a,b,c,f,d,l,h,m,k,q){this.xa=a;this.sf=b;this.yA=c;this.DUb=f;this.kS=d;this.ya=l;this.JH=h;this.dj=m;this.tha=k;this.wd=q;}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;d=a(0);k=a(1);h=a(19);m=a(6);f=a(211);q=a(116);l=a(333);u=a(334);t=a(690);g=a(691);z=a(89);y=a(36);B=a(329);a=a(26);c.prototype.gob=function(a,b){return new t.eCa(this.xa,this.sf,this.yA,this.DUb,b,a,this.dj,this.kS,this.wd,this.tha);};c.prototype.Cnb=function(a,b){return new g.Qta(this.sf,a,b,this.yA,this.ya,this.JH);};n=c;n=d.__decorate([k.N(),d.__param(0,k.l(h.xd)),d.__param(1,k.l(m.xb)),d.__param(2,k.l(f.EV)),d.__param(3,k.l(u.Maa)),d.__param(4,k.l(l.z$)),d.__param(5,k.l(y.Ig)),d.__param(6,k.l(z.UL)),d.__param(7,k.l(q.YB)),d.__param(8,k.l(B.VF)),d.__param(9,k.l(a.Df))],n);b.dCa=n;},function(d,b,a){var f,q,l,u;function c(a,b,c,d,l,h,m,k,g,n){var t;t=this;this.xa=a;this.yA=c;this.qoa=d;this.config=l;this.Nx=h;this.dj=m;this.kS=k;this.wd=g;this.dsb=Object.values(q.Pb).map(function(a){return {event:a,SD:function(b){return t.Hb.cc(a,b);}};});this.Hb=n.create();this.QE=[];this.log=b.ob("SegmentManager");new f.Sn();this.Qha=!0;this.Qf=this.wd.createElement("div",u.W$);}function k(a,b,c,d,l,m,k,q,u,g){var t;t=this;this.log=a;this.config=b;this.yGb=c;this.qoa=d;this.dj=l;this.kS=m;this.rs=k;this.ca=q;this.Qf=u;this.Nx=g;this.VH=function(){t.DA && (t.DA.cancel(),t.DA=void 0);};this.Lja=function(a){t.log.trace("Received the transition event",{movieId:a.u});t.VKb();};this.log.debug("Constructing session data",h(q));this.Ola=new f.Sn();this.ZRb=new Promise(function(a){t.VKb=a;});}function h(a){return {movieId:a.u};}function m(a){return JSON.stringify({movieId:a.u,startPts:a.T,logicalEnd:a.Ij,params:a.Za?{trackingId:a.Za.yi,authParams:a.Za.RO,sessionParams:a.Za.um,disableTrackStickiness:a.Za.Dga,uiPlayStartTime:a.Za.H5,loadImmediately:a.Za.c2,playbackState:a.Za.playbackState?{currentTime:a.Za.playbackState.currentTime,volume:a.Za.playbackState.volume,muted:a.Za.playbackState.muted,playbackRate:a.Za.playbackState.playbackRate}:void 0,pin:a.Za.SVa,heartbeatCooldown:a.Za.Zja,uiLabel:a.Za.Nd,uxLabels:a.Za.T5}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;f=a(133);q=a(14);l=a(4);u=a(11);k.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",h(this.ca));this.R=this.qoa.pob(this.config,this.kS,this.dj,this.ca,this.Nx);this.R.addEventListener(q.Pb.gJ,function(a){b.log.trace("Segment is inactive",h(b.ca));b.rs.close(b.dj(a.errorCode));});this.R.addEventListener(q.Pb.closed,this.VH);if(a)(this.log.debug("Pausing background segment",h(this.ca)),this.R.addEventListener(q.Pb.bla,this.Lja),this.R.pause());else {this.Qf.appendChild(this.R.Io());c=function(a){b.Lja(a);b.R.removeEventListener(q.Pb.loaded,c);};this.R.addEventListener(q.Pb.loaded,c);}};k.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",m(this.ca));if(this.DA)this.log.trace("Segment is currently observing",h(this.ca));else if(this.ca.Za && this.ca.Za.c2)this.Ola.next(this);else {b=this.yGb.Nfa(this.config,function(){var b;if(a.R){b=a.R.j.fb.value;if(b)return b;}return 0;});c=this.Ijb(this.ca);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",h(a.ca));a.Ola.next(a);a.VH();});}};k.prototype.close=function(a){this.log.info("Closing segment",{segment:m(this.ca),error:a});return this.R?(this.R.removeEventListener(q.Pb.bla,this.Lja),this.R.close(a)):Promise.resolve();};k.prototype.Ijb=function(a){var b,c;b=a.Ij;a=a.Za?a.Za.c2:!1;c=0;b && !a && (c=b - this.config.GOa(),c < this.config.JOa() && (a=b - this.config.JOa(),c=b - a / 2));return c;};c.prototype.hxb=function(){return this.Qe && this.Qe.R?this.Qe.R.isReady():!1;};c.prototype.Io=function(){return this.Qf;};c.prototype.li=function(){if(!this.Qe || !this.Qe.R)throw Error("Player not ready");return this.Qe.R;};c.prototype.tTb=function(a){var b,c;c=this.Hha(a);c?this.n1a(c,a):(this.log.lda("xid",null === (b=this.Qe.R) || void 0 === b?void 0:b.J0()),this.log.error("Tried to update a non-existent segment",{segment:m(a),currentMovieId:this.Qe.ca.u,queuedMovieIds:this.QE.map(function(a){return a.ca.u;})}));};c.prototype.Zq=function(a){var b;this.log.info("Adding segment",m(a));this.Qha?(this.log.trace("First segment, loading",h(a)),b=this.lSa(a),this.Qha=!1):(this.log.trace("Subsequent segment, caching",h(a)),(b=this.Hha(a))?this.n1a(b,a):(b=this.Tm(a),this.QE.push(b),this.Qe.observe()));return b?b.ZRb:null;};c.prototype.transition=function(a){var b;if(this.Cx && this.Cx.R){b=this.Cx;this.Cx=void 0;this.log.info("Transitioning segment",m(b.ca));b && b.R && b.R.EZa(this.xa.zb().ba(l.fa));return this.G0a(b,a);}return Promise.resolve();};c.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.Qe.ca)),nextSession:this.Cx?JSON.stringify(h(this.Cx.ca)):void 0});a=[this.Qe.close(a)];this.Cx && a.push(this.Cx.close());return Promise.all(a).then(function(){b.Cx=void 0;b.QE=[];b.Qha=!0;});};c.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};c.prototype.n1a=function(a,b){this.KHb(a.ca,b);this.log.trace("Overwrote existing segment data",m(a.ca));};c.prototype.lSa=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.Qe?(this.config.oia()[a.u]=a.T,c=this.Hha(a)):c=this.Tm(a);if(c)return (this.log.trace("Found the next session",h(a)),c.Ola.subscribe(function(a){b.NRb(a);}),this.Qe?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.Cx=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.G0a(c)),c);this.log.warn("Unable to find the session, make sure to add it before loading",h(a));};c.prototype.G0a=function(a,b){var c,f;b=void 0 === b?{}:b;this.log.trace("Playing episode",h(a.ca));c=this.Qe;this.Qe=a;if(this.Qe.R && (this.Qe.R.lZa(!1),this.gU(this.Qe.R,c?c.R:void 0),c && c.R)){f=c.R.Io();a=this.Qe.R.Io();f.style.display="none";c=c.close();this.Qf.appendChild(a);this.Qe.R && (a.style.display="block",this.Qe.R.getError()?this.Qe.R.close():(this.Qe.R.hu().oTb(b),this.Qe.R.mT(),this.Qe.R.play()));c.then(function(){f.parentElement && f.parentElement.removeChild(f);});return c;}return Promise.resolve();};c.prototype.NRb=function(a){var b,c,f,d;if(this.QE.length && a.R){a=a.R.j.fb.value;b=this.QE[0];c=this.Qe.ca.Ij;f=this.Qe.ca.Za?this.Qe.ca.Za.c2:!1;if(c || f){f?d=0:c && (d=c - this.config.GOa());null !== a && a >= d && (this.log.info("Got a time change, loading the next player",h(b.ca)),this.lSa(b.ca),this.QE.splice(0,1));}}};c.prototype.Hha=function(a){return this.Qe.ca.u === a.u?this.Qe:this.QE.find(function(b){return b.ca.u === a.u;});};c.prototype.KHb=function(a,b){a.T=b.T || a.T;a.Ij=b.Ij || a.Ij;a.Za=b.Za || a.Za;a.ta=b.ta || a.ta;};c.prototype.Tm=function(a){return new k(this.log,this.config,this.yA,this.qoa,this.dj,this.kS,this,a,this.Qf,this.Nx);};c.prototype.gU=function(a,b){this.dsb.forEach(function(c){b && b.removeEventListener(c.event,c.SD);a.addEventListener(c.event,c.SD);});this.Hb.cc(q.ZB.TS);};b.eCa=c;},function(d,b,a){var m,f,q,l;function c(a,b,c,f,d,l){var h;h=this;this.R=b;this.j=c;this.yA=f;this.ya=d;this.JH=l;this.VH=function(){h.DA && (h.DA.cancel(),h.DA=void 0);};this.log=a.ob("SegmentManager",this.j);this.Ua=new Map();this.j.Ta.mk && (this.j.addEventListener(q.V.QK,function(a){return h.iK(a);}),this.j.addEventListener(q.V.closed,this.VH));}function k(a,b){this.id=a;this.afa=b;}function h(a,b,c,d){return f.Dc.call(this,a,c,void 0,void 0,void 0,b,void 0,d) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qta=void 0;m=a(2);f=a(43);q=a(14);l=a(4);N(h,f.Dc);h.prototype.toString=function(){return this.code + "-" + this.pd + " : " + this.message + "\n" + JSON.stringify(this.data);};k.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.oe,contentEndPts:this.Ie};};pa.Object.defineProperties(k.prototype,{oe:{configurable:!0,enumerable:!0,get:function(){return this.afa.startTimeMs;}},Ie:{configurable:!0,enumerable:!0,get:function(){return this.afa.endTimeMs;}},CA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.afa.next);}}});c.prototype.iK=function(a){var b;b=this;!1;0 === this.Ua.size && Object.entries(this.j.j0()).forEach(function(a){var c;c=T(a);a=c.next().value;c=c.next().value;b.Ua.set(a,new k(a,c));});this.ga=this.Ua.get(a.segmentId);};c.prototype.play=function(a){this.Ju && (this.Ju=void 0);this.VH();this.log.trace("Playing segment",a);return this.mRa(a)?this.QIb(a):this.hS(a);};c.prototype.pl=function(a){this.log.trace("Queueing segment",a);return this.mRa(a)?this.EKb(a):this.GKb(a);};c.prototype.lj=function(a,b){var c,f;c=this;f=this.j.Ab;if(!f)return Promise.reject(this.getError(m.L.Eta,"ASE session manager is not yet initialized",m.K.z6,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(d,l){try{f.RT(a,b);c.j.fireEvent(q.V.esa,{Ba:a,HTb:b});d();}catch(L){l(c.getError(m.L.Eta,"updateNextSegmentWeights threw an exception",m.K.p3a,{segmentId:a,updates:b,error:L}));}});};c.prototype.mRa=function(a){return this.ga?void 0 !== this.j.j0()[this.ga.id].next[a]:!1;};c.prototype.hja=function(){if(this.j.Ab)return this.j.Ab.Xw().le;};c.prototype.$wb=function(){if(this.j.Ab)return this.j.Ab.Xw().id;};c.prototype.Yub=function(a){if(this.j.Ab)return (a=this.j.Ab.i0(a)) && a.fe;};c.prototype.QIb=function(a){var b,c,f;b=this;c=this.j.Ab;if(!c)return Promise.reject(this.getError(m.L.YL,"ASE session manager is not yet initialized",m.K.z6,{id:a}));if(this.ga && 1 === this.ga.CA.length)return this.hS(a);if(!this.j.Qh)return (this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(m.L.YL,"MediaPresenter is not initialized",m.K.m3a,{id:a})));f=this.Yub(a);return void 0 === f?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.hS(a)):new Promise(function(d,h){var x,z,y,B,n,p;function k(){!y && z && x && (p.cancel(),y=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:z,repositioned:x,completed:y}),c.Rt(a,!1,!0)?(d(),y=!0):(y=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.hS(a).then(d)["catch"](h)));}function u(){x=!0;b.log.trace("Player is repositioned",{id:a,stopped:z,repositioned:x,completed:y});b.j.removeEventListener(q.V.rl,u);k();}function g(){b.j.removeEventListener(q.V.TE,g);c.stop();}function t(){z=!0;b.log.trace("ASE is stopped",{id:a,stopped:z,repositioned:x,completed:y});c.removeEventListener("stop",t);k();}x=!1;z=!1;y=!1;B=b.Ua.get(a);if(b.j.L1a()){if((n=b.hja(),void 0 === n))return (b.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:a}),b.hS(a));}else n=B.oe + (f || 0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:n,currentSegment:b.ga,nextSegment:B},null,"  "));b.j.fireEvent(q.V.X2,{Mg:b.ga && b.ga.id,RR:a});c.addEventListener("stop",t);b.j.addEventListener(q.V.TE,g);b.j.addEventListener(q.V.rl,u);p=b.ya.yh(l.zh(10),function(){y=!0;p.cancel();h(b.getError(m.L.YL,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.K.l3a,{id:a,stopped:z,repositioned:x,completed:y}));});b.R.seek(n,q.rd.aC);});};c.prototype.hS=function(a){var b;b=this.Ua.get(a);return b?this.QS(b,m.L.YL):Promise.reject(this.getError(m.L.YL,"Unable to find the separated segment",m.K.Dta,{id:a}));};c.prototype.EKb=function(a){var b;b=this.j.Ab;if(!b)return Promise.reject(this.getError(m.L.KF,"ASE session manager is not yet initialized",m.K.z6,{id:a}));this.j.fireEvent(q.V.X2,{Mg:this.ga && this.ga.id,RR:a});if(b.Rt(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(m.L.KF,"ASE chooseNextSegment failed",m.K.j3a,{id:a}));};c.prototype.GKb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.$wb()});if(this.Ju)return Promise.reject(this.getError(m.L.KF,"Unable to queue a non-next segment because there is currently already a segment queued",m.K.o3a,{currentSegment:this.ga?this.ga.id:void 0,queuedSegment:this.Ju.id,failedSegment:a}));if(!this.ga)return Promise.reject(this.getError(m.L.KF,"Unable to queue a non-next segment because there is no currently playing segment",m.K.k3a,{nextSegmentid:a}));c=this.Ua.get(a);if(!c)return Promise.reject(this.getError(m.L.KF,"Unable to find the separated segment",m.K.Dta,{nextSegmentid:a,currentSegmentId:this.ga.id}));this.Ju={id:a,Fu:new Promise(function(f,d){var h;b.DA=b.yA.Nfa({fja:function(){return l.Jb(100);}},function(){return b.R.j.fb.value || 0;});h=b.hja() - 500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});b.DA.observe(h,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ga.id,playerEndPts:b.hja(),pts:h});b.Ju=void 0;b.VH();b.QS(c,m.L.KF).then(f)["catch"](d);});})};this.Ju.Fu["catch"](function(a){b.j.sd(a.code,a);});return Promise.resolve();};c.prototype.QS=function(a,b){var c;c=this;return new Promise(function(f,d){var l;try{l=a.oe;!1;c.R.seek(l,q.rd.yv);f();}catch(L){d(c.getError(b,"Seek threw an exception",m.K.n3a,{id:a.id,error:L}));}});};c.prototype.getError=function(a,b,c,f){this.log.warn(b,f);return new h(a,b,c,f);};b.Qta=c;},function(d,b,a){var h,m;function c(){}function k(a,b,c,d,h){this.debug=a;this.version=b;this.HBb=c;this.NIb=d;this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;d=a(0);h=a(1);m=a(4);k.prototype.Pvb=function(){return this.config().$z;};k.prototype.oia=function(){return this.config().DIa;};k.prototype.fja=function(){return m.Jb(this.config().mJb);};k.prototype.GOa=function(){return this.config().OCb;};k.prototype.JOa=function(){return this.config().GDb;};c.prototype.Rz=function(a,b,c,d,h){return new k(a,b,c,d,h);};a=c;a=d.__decorate([h.N()],a);b.bCa=a;},function(d,b,a){var k,h;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;d=a(0);k=a(1);a=a(13);c.prototype.lKb=function(a,b,c){var f,d;if(this.config().$Nb){f=a.metrics;if(void 0 !== f){d=a.playlistSegment || void 0;b.hq.transition({isBranching:void 0 === d || void 0,isPlaygraph:d,mid:b.u,xid:b.ea,srcxid:c.ea,srcmid:c.u,segment:a.segmentId,srcsegment:f.srcsegment,srcsegmentduration:f.srcsegmentduration,srcoffset:f.srcoffset,seamlessRequested:f.seamlessRequested,transitionType:f.transitionType,delayToTransition:f.delayToTransition,durationOfTransition:f.durationOfTransition,atRequest:f.atRequest,atTransition:f.atTransition,discard:f.discard});}}};h=c;h=d.__decorate([k.N(),d.__param(0,k.l(a.Oc))],h);b.aDa=h;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.U1a=void 0;d=a(1);c=a(334);k=a(695);b.U1a=new d.Pc(function(a){a(c.Maa).to(k.xDa).Z();});},function(d,b,a){var k,h,m,f,q,l,u,g,x,z,y,B;function c(a){this.Vd=a;}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;d=a(0);k=a(1);h=a(97);m=a(26);f=a(20);q=a(6);l=a(88);u=a(212);g=a(336);x=a(696);z=a(213);y=a(75);B=a(337);c.prototype.pob=function(a,b,c,d,h){return new x.sxa(this.Vd.get(m.Df),this.Vd.get(f.De),this.Vd.get(q.xb),this.Vd.get(l.J7),this.Vd.get(u.sW),this.Vd.get(z.aW),this.Vd.get(y.SU),this.Vd.get(B.Z9),this.Vd.get(g.m7),a,b,c,d,h);};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.y8))],a);b.xDa=a;},function(d,b,a){var k,h,m,f,q,l;function c(a,b,c,f,d,l,m,k,q,g,n,p,M,D){var u;u=this;this.Nc=a;this.Da=b;this.Hb=f;this.Wr=l;this.lP=m;this.CNa=k;this.config=g;this.dj=p;this.ca=M;this.Nx=D;this.j=n.create(M.u,M.zk,q,D,M.Za,M.id);this.j.background=!0;this.j.ta=M.ta;this.log=c.ob("VideoPlayer",this.j);this.NVa=[];this.ended=!1;this.gU();this.j.state.addListener(function(a){a.newValue === h.yb.yd && u.ie(h.Pb.bla,{movieId:M.u});});this.j.Ta.mk && (this.PH=d.Cnb(this,this.j),this.j.addEventListener(h.V.QK,function(a){u.ie(h.Pb.LNb,{segmentId:a.segmentId});}));}Object.defineProperty(b,"__esModule",{value:!0});b.sxa=void 0;k=a(2);h=a(14);m=a(4);f=a(9);q=a(75);l=a(22);c.prototype.isReady=function(){return this.j.state.value === h.yb.yd;};c.prototype.wwb=function(){return this.j.u;};c.prototype.J0=function(){return this.j.ea;};c.prototype.Io=function(){return this.j.Qf;};c.prototype.hu=function(){return this.j;};c.prototype.jA=function(){return this.j.Zr.value;};c.prototype.bBb=function(){return this.j.paused.value;};c.prototype.KAb=function(){return this.ended;};c.prototype.Ph=function(){var a;a=this.j.Dea.value;return a?{networkStalled:! !a.e5,stalled:! !a.e5,progress:a.ri,progressRollback:! !a.qKb}:null;};c.prototype.getError=function(){var a;a=this.j.Ej;return a?a.Era():null;};c.prototype.Nub=function(){var a;a=(this.k0() || 0) + this.j.MNa();return Math.min(a,this.WNa());};c.prototype.k0=function(){return this.j.Vz();};c.prototype.WNa=function(){return this.j.Vt.ba(m.fa);};c.prototype.hyb=function(){return this.j.KL?{width:this.j.KL.width,height:this.j.KL.height}:null;};c.prototype.yia=function(){var d;if(this.j.Hn){for(var a,b=0;b < this.j.Hn.length;b++){for(var c=this.j.Hn[b],f=0;f < c.wc.length;f++){d=c.wc[f];this.Da.Jh(d.Ufa) && this.Da.Jh(d.BZ) && this.Da.Jh(d.AZ) && this.Da.Jh(d.zZ) && 0 < d.BZ && (d=d.zZ / d.AZ,a=this.Da.Jh(a)?Math.min(a,d):d);}}return a;}};c.prototype.cvb=function(){return this.j.yia();};c.prototype.gub=function(a){var b,c;return (null === (b=this.j.ta) || void 0 === b?0:b.$i.sQ("generateScreenshots"))?this.CNa.Go(this.log,this.j.ta.$i,a):(b=null === (c=this.j.Ta) || void 0 === c?void 0:c.Wo)?this.CNa.Le(this.log,Object.assign({packageId:b},a)):Promise.reject("Unknown packageId");};c.prototype.nvb=function(){return this.ovb(this.j.yga);};c.prototype.uub=function(){var a;a=this;return this.j.po?this.j.po.map(function(b){return a.QD(b);}).filter(function(a){return null !== a;}):[];};c.prototype.wPa=function(a){var b,c;b=this;c=a && this.j.po.find(function(c){return b.QD(c) === a;}) || this.j.Ad.value;return null === c?[]:c.xl.map(function(a){return b.QD(a);}).filter(function(a){return null !== a;});};c.prototype.YAb=function(){return this.j.muted.value;};c.prototype.kyb=function(){return this.j.volume.value;};c.prototype.tub=function(){return this.QD(this.j.Ad.value);};c.prototype.vPa=function(){return this.QD(this.j.Jc.value);};c.prototype.zAb=function(){return ! !this.j.background;};c.prototype.KOb=function(a){this.j.muted.set(! !a);};c.prototype.fPb=function(a){this.j.volume.set(this.JUa(a,1));};c.prototype.POb=function(a){this.j.playbackRate.set(this.JUa(a,2));};c.prototype.Ym=function(){return this.j.playbackRate.value;};c.prototype.rOb=function(a){var b,c;b=this;c=this.j.po.find(function(c){return b.QD(c) === a;});c?this.j.Ad.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.DZa=function(a){var f;if(null !== this.j.Ad.value){for(var b=this.j.Ad.value.xl,c=0;c < b.length;c++){f=b[c];if(!a && null === f){this.j.Jc.set(null);return;}if(this.QD(f) === a){this.log.info("Setting Timed Text, profile: " + f.profile);this.j.Jc.set(f);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.lZa=function(a){this.j.background=a;};c.prototype.mT=function(){this.j.mT();};c.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};c.prototype.Qx=function(){};c.prototype.load=function(){var a;a=this;this.loaded || (this.loaded=!0,this.j.load(function(b,c){try{a.ie(h.Pb.SCb,void 0,!0);b.ta && (b.ta.Tc.i2a && a.ie(h.Pb.SUb,b.ta.Tc.i2a,!0),b.ta.Tc.gr && a.ie(h.Pb.KNb,{segmentMap:b.ta.Tc.gr},!0));c({ia:!0});}catch(z){c({ja:k.K.Yh,ub:a.Nc.$e(z)});}}));};c.prototype.close=function(a){var b;b=this;this.JJa || (this.JJa=new Promise(function(c){a?b.j.hD(a,c):b.j.close(c);}));return this.JJa;};c.prototype.play=function(){this.j.Sk?this.j.fireEvent(h.V.BYa):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(h.V.J1a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(h.V.hUb));};c.prototype.seek=function(a,b,c,f){this.j.Qh?this.j.Qh.seek(a,b,c,f):this.j.YC=a;};c.prototype.RIb=function(a){return this.PH?(this.log.trace("Playing a segment",a),this.PH.play(a)):Promise.resolve();};c.prototype.FKb=function(a){return this.PH?(this.log.trace("Queueing a segment",a),this.PH.pl(a)):Promise.resolve();};c.prototype.lj=function(a,b){return this.PH?(this.log.trace("Updating next segment weights",a,b),this.PH.lj(a,b)):Promise.resolve();};c.prototype.NT=function(){this.j.NT();};c.prototype.F0=function(){var a;a=this.j.hp.F0();return {bounds:a.ZO,margins:a.kq,size:a.size,visibility:a.visibility};};c.prototype.cT=function(a){var b,c,f;b=a.bounds;c=a.margins;f=a.size;a=a.visibility;this.j.HT && (b && this.j.HT.Eqa(b),c && this.j.HT.Fqa(c),"boolean" === typeof a && this.j.HT.Gqa(a));this.j.hp && f && this.j.hp.YOb(f);};c.prototype.EZa=function(a){this.j.yl=a;};c.prototype.Vxb=function(a){return this.j.ey && this.j.ey.Ovb(a) || null;};c.prototype.mub=function(){return this.Nc.KR({playerver:this.config.version,jssid:this.config.HBb,groupName:this.config.Pvb(),xid:this.j.ea,pbi:this.j.index},this.config.NIb,{prefix:"pi_"});};c.prototype.Tzb=function(a){this.j.sd(k.L.V5a,k.K.Hl,a);};c.prototype.HCb=function(a,b,c,f){if(!this.Da.BHa(a))throw Error("invalid url");this.NVa.push({url:a,name:b,rib:c,options:f});this.OWa();};c.prototype.hPa=function(){var a,b,c,f,d,h,m,k;a={};b=this.j.m_a;try{if((this.j.Ej && (a.errorCode=this.j.Ej.WZ,a.errorType=b?"endplay":"startplay"),a.playdelay=l.ik(this.j.Iea()),a.xid=this.j.ea,this.j.ta && this.Da.lo(this.j.ta.Tc.Wo) && (a.packageId=Number(this.j.ta.Tc.Wo)),a.auth=this.j.xub(),b)){a.totaltime=this.j.pn?this.Pw(this.j.pn.CQ()):0;a.abrdel=this.j.pn?this.j.pn.INa():0;c=this.j.Qh;f=c?c.MD():null;this.Da.Jh(f) && (a.totdfr=f);f=c?c.nQ():null;this.Da.Jh(f) && (a.totcfr=f);d=c?c.$vb():null;d && (a.rbfrs_decoder=d.HZ,a.rbfrs_network=d.T2);a.rbfrs_delay=this.j.pn?this.j.pn.Pka:0;a.init_vbr=this.j.r1;h=this.xQ();this.Da.tD(h) && (a.pdltime=h);m=this.j.wf.value;k=m && m.stream;k && (a.vbr=k.S,a.vdlid=k.Bd);a.bufferedTime=this.j.MNa();}}catch(E){this.log.error("error capturing session summary",E);}return a;};c.prototype.XP=function(a){this.j.Ta.um && (this.j.Ta.um.T6b=1);return this.Da.Jh(this.j.fb.value)?(a=Object.assign(Object.assign({},this.Wr.create(this.j)),{action:a}),this.lP(q.Bm.XP).Go(this.log,this.j.ta.$i,a).then(function(){return {success:!0};})["catch"](function(a){return {success:!1,errorCode:a.code,errorSubCode:a.pd,errorExternalCode:a.Og,errorData:a.data,errorDetails:a.Yt};})):Promise.resolve({success:!1});};c.prototype.ovb=function(a){return {register:a.register.bind(a),notifyUpdated:a.EUa.bind(a),getModel:a.uwb.bind(a),getGroups:a.s0.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.QD=function(a){var b;if(null !== a){b=a.vKb=a.vKb || ({trackId:a.jb,bcp47:a.Tl,displayName:a.displayName,trackType:a.Dn,channels:a.Jp});a.Oo && (b.isImageBased=!0);this.dBb(a) && (b.isNative=a.isNative);this.eBb(a) && (b.isNoneTrack=a.H1(),b.isForcedNarrative=a.B1());return b;}return null;};c.prototype.dBb=function(a){return "undefined" !== typeof a.isNative;};c.prototype.eBb=function(a){return "undefined" !== typeof a.H1 && "undefined" !== typeof a.B1;};c.prototype.JUa=function(a,b){return 0 <= a?a <= b?a:b:0;};c.prototype.Pw=function(a){return this.Da.Jh(a)?(a / 1E3).toFixed(0):"";};c.prototype.ie=function(a,b,c){b=b || ({});b.target=this;this.Hb.cc(a,b,!c);};c.prototype.gU=function(){var a;a=this;this.j.addEventListener(h.V.vra,function(){a.ie(h.Pb.Np);});this.j.addEventListener(h.V.v2,function(){a.ie(h.Pb.PIa);});this.j.addEventListener(h.V.rl,function(){a.ie(h.Pb.PIa);});this.j.addEventListener(h.V.gJ,function(b){a.ie(h.Pb.gJ,{errorCode:b});});this.j.addEventListener(h.V.dea,function(b){a.ie(h.Pb.sib,b.j);});this.j.addEventListener(h.V.Sk,function(b){a.ie(h.Pb.tib,b);});this.j.Zr.addListener(function(){a.ie(h.Pb.kJb);});this.j.paused.addListener(function(){a.ie(h.Pb.hIb);});this.j.muted.addListener(function(){a.ie(h.Pb.yFb);});this.j.volume.addListener(function(){a.ie(h.Pb.LUb);});this.j.Xb.addListener(function(){a.h1a();});this.j.state.addListener(function(){a.h1a();});this.j.Dea.addListener(function(b){a.PCb || a.j.state.value != h.yb.yd || b.newValue || (a.PCb=!0,a.ie(h.Pb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.hPa());}));a.ie(h.Pb.Eea);});this.j.Ad.addListener(function(b){a.ie(h.Pb.QO);b.oldValue && b.newValue && b.oldValue.xl == b.newValue.xl || a.ie(h.Pb.uF);setTimeout(function(){var b;if(null !== a.j.Ad.value && null !== a.j.Jc.value){b=a.j.Ad.value.xl;0 <= b.indexOf(a.j.Jc.value) || (a.log.info("Changing timed text track to match audio track"),a.j.Jc.set(b[0]));}},0);});this.j.Jc.addListener(function(b){b.oldValue && b.newValue && b.oldValue.jb == b.newValue.jb || a.ie(h.Pb.BL);});this.j.addEventListener(h.V.uF,function(){a.ie(h.Pb.uF);});this.j.addEventListener(h.V.LT,function(){a.ie(h.Pb.LT);});this.j.state.addListener(function(b){switch(b.newValue){case h.yb.yd:a.ie(h.Pb.Yqb);a.ie(h.Pb.EUb);a.ie(h.Pb.eIa);a.ie(h.Pb.uF);a.ie(h.Pb.RCb);a.OWa();a.XUb();break;case h.yb.CLOSING:a.j.Ej && a.ie(h.Pb.error,a.j.Ej.Era());break;case h.yb.CLOSED:(a.ie(h.Pb.closed),a.Hb.Ng());}});};c.prototype.XUb=function(){var a;a=this;this.j.hp.addEventListener("showsubtitle",function(b){a.ie(h.Pb.KPb,b,!0);});this.j.hp.addEventListener("removesubtitle",function(b){a.ie(h.Pb.YLb,b,!0);});};c.prototype.OWa=function(){if(this.j.state.value == h.yb.yd){for(var a,b,c;b=this.NVa.shift();){a=this.j.hp.mda(b.url,b.name,b.options);b.rib && (c=a);}c && this.j.Jc.set(c);}};c.prototype.h1a=function(){var a;a=this.j.state.value == h.yb.yd && this.j.Xb.value == h.tb.Os;this.ended !== a && (this.ended=a,this.j.Cp("Ended changed: " + a),(a || this.j.state.value === h.yb.CLOSING) && this.ie(h.Pb.Qrb));};c.prototype.xQ=function(){var a,b;try{a=/playercore.*js/;b=f.Ws.getEntriesByType("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length)return JSON.stringify(Math.round(b[0].duration));}catch(x){}};b.sxa=c;},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.gB=void 0;d=a(1);c=a(698);k=a(699);h=a(700);m=a(339);f=a(338);q=a(214);b.gB=new d.Pc(function(a){a(q.xaa).to(c.TCa);a(m.Q6).to(k.nua).Z();a(f.waa).wi(new h.SCa());a(q.AW).zf(function(a){return function(){return a.gb.get(q.xaa);};});});},function(d,b,a){var k,h,m,f;function c(a){this.config=a;this.Sqa=h.sb;this.hL=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;d=a(0);k=a(1);h=a(46);m=a(4);a=a(338);c.prototype.Zm=function(){var b;for(var a;0 < this.hL.length;){a=this.hL.shift();this.TGa(a);}a=void 0 === this.JP || void 0 === this.wD?m.sb:this.wD.Ia(this.JP);b=a.DRa()?0:this.Sqa.ba(h.xB) / a.ba(m.fa);return {rF:Math.floor(b),Kga:a.ba(m.fa)};};c.prototype.zY=function(a){this.Sqa=this.Sqa.add(a.size);this.hL.push(a.Fqb);for(this.hL.sort(function(a,b){return a.start.Cj(b.start);});this.hL.length > this.config.Gqb;){a=this.hL.shift();this.TGa(a);}};c.prototype.TGa=function(a){void 0 === this.JP && (this.JP=a.start);void 0 !== this.wD && 0 > this.wD.Cj(a.start) && (this.JP=this.JP.add(a.start.Ia(this.wD)));if(void 0 === this.wD || 0 > this.wD.Cj(a.end))this.wD=a.end;};f=c;f=d.__decorate([k.N(),d.__param(0,k.l(a.waa))],f);b.TCa=f;},function(d,b,a){var k,h;function c(a){this.oSb=a;this.u5={};}Object.defineProperty(b,"__esModule",{value:!0});b.nua=void 0;d=a(0);k=a(1);a=a(214);c.prototype.Wub=function(){var a,b,c;a=[];for(b in this.u5){c=this.u5[b];a.push({yz:Number(b),rF:c.Zm().rF,Kga:c.Zm().Kga});}return a;};c.prototype.zY=function(a){var b,c;b=a.yz;c=this.u5[b];c || (c=this.oSb(),this.u5[b]=c);c.zY(a);};h=c;h=d.__decorate([k.N(),d.__param(0,k.l(a.AW))],h);b.nua=h;},function(d,b,a){function c(a){this.Gqb=void 0 === a?10:a;}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;d=a(0);a=a(1);c=d.__decorate([a.N()],c);b.SCa=c;},function(d,b,a){var c,k,h,m,f,q,l,g,t,x,z,y,B,n,I,E,p,W,R,M,D;Object.defineProperty(b,"__esModule",{value:!0});b.Vl=void 0;d=a(1);c=a(30);k=a(13);h=a(702);m=a(158);f=a(117);q=a(703);l=a(215);g=a(704);t=a(340);x=a(341);z=a(705);y=a(216);B=a(9);n=a(346);I=a(710);E=a(347);p=a(711);W=a(218);R=a(712);M=a(348);D=a(33);b.Vl=new d.Pc(function(a){a(f.dC).to(q.rCa).Z();a(c.BB).to(h.dva).Z();a(l.B8).to(g.txa).Z();a(x.N6).to(z.hua).Z();a(l.p$).wi({isTypeSupported:B.mG && B.mG.isTypeSupported});a(y.DU).wi("undefined" !== typeof cast?cast:null);a(t.L7).cy(function(a){return {Gvb:function(){return a.gb.get(D.tG);}};});a(m.jM).cy(function(a){return a.gb.get(k.Oc);});a(n.j9).to(I.Eya).Z();a(E.i9).to(p.Fya).Z();a(W.K7).to(R.cwa).Z();a(M.Q$).wi(O);});},function(d,b,a){var k,h,m,f,q,l;function c(a,b,c){this.config=a;this.hJa=b;this.MIb=c;this.mKb=this.xob();}Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;d=a(0);k=a(30);h=a(158);m=a(1);f=a(57);q=a(340);a=a(341);c.prototype.rPa=function(){return this.HNa().sPa();};c.prototype.tPa=function(a){return this.iu().sPa(a);};c.prototype.HNa=function(){this.Wda && this.Wda.type == this.config().Xda || (this.Wda=this.hJa.Bnb(this.config().Xda));return this.Wda;};c.prototype.iu=function(){this.Y5 && this.Y5.type == this.config().Z5 || (this.Y5=this.hJa.Hob(this.config().Z5),this.Y5.nda(this.MIb.Gvb()));return this.Y5;};c.prototype.Tvb=function(a){var f;if(!a || !a.length)return k.Gd.$U;a=this.jtb(a);for(var b=[k.Gd.aN,k.Gd.$U,k.Gd.zG,k.Gd.ov,k.Gd.jv,k.Gd.JF,k.Gd.Iy,k.Gd.nj],c=b.length;c--;){f=b[c];if((0,this.mKb[f])(a))return f;}return k.Gd.aN;};c.prototype.Uu=function(a){return this.iu().Uu(a);};c.prototype.uw=function(a){return this.iu().uw(a);};c.prototype.Uw=function(){return this.iu().Uw();};c.prototype.vL=function(){return this.iu().vL();};c.prototype.tT=function(){return this.HNa().tT();};c.prototype.uT=function(){return this.iu().uT();};c.prototype.wT=function(){return this.iu().wT();};c.prototype.NI=function(a){return this.iu().NI(a);};c.prototype.VI=function(){return this.iu().VI();};c.prototype.wQ=function(){return this.iu().wQ();};c.prototype.jtb=function(a){var b;b={};a.filter(function(a){return "video" === a.type;}).forEach(function(a){b[a.Yf]="";});return Object.keys(b);};c.prototype.xob=function(){var a;a={};a[k.Gd.nj]=function(a){return a.some(function(a){return -1 < a.indexOf("av1");});};a[k.Gd.JF]=function(a){return a.some(function(a){return -1 < a.indexOf("hpl");});};a[k.Gd.Iy]=function(a){return a.some(function(a){return -1 < a.indexOf("vp9");});};a[k.Gd.jv]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-dv");});};a[k.Gd.ov]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-hdr");});};a[k.Gd.zG]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-main10-L") || -1 < a.indexOf("hevc-main-L");});};a[k.Gd.$U]=(function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=T(b);for(b=a.next();!b.done;b=a.next()){if(c[b.value])return !0;}}).bind(null,[f.Y.YF]);a[k.Gd.aN]=function(){return !0;};return a;};l=c;l=d.__decorate([m.N(),d.__param(0,m.l(h.jM)),d.__param(1,m.l(a.N6)),d.__param(2,m.l(q.L7))],l);b.dva=l;},function(d,b,a){var k,h,m,f,q,l,g,t;function c(a,b,c){this.Vl=a;this.Da=b;this.z_a=c;this.Xfb="video/mp4;codecs={0}";this.Pab="audio/mp4;codecs={0}";a=this.Vl.NI(h.Gd.jv);this.Wfb=f.Od.LKa(a);}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=void 0;d=a(0);h=a(30);m=a(1);f=a(135);q=a(20);l=a(320);g=a(342);t=a(11);c.prototype.yP=function(a){a=this.Vl.Tvb(a);a=this.Da.tD(a)?a:h.Gd.aN;return this.z_a.format(this.Xfb,this.Wfb[a]);};c.prototype.tP=function(a){if(0 === a.length)return this.z_a.format(this.Pab,f.Od.iU);a=g.w6[a[0].Yf] || k.Gsa;return a === k.Gsa?t.wy:a === k.L2a?t.kya:t.jya;};a=k=c;a.Gsa="AAC";a.L2a="XHEAAC";a=k=d.__decorate([m.N(),d.__param(0,m.l(h.BB)),d.__param(1,m.l(q.De)),d.__param(2,m.l(l.raa))],a);b.rCa=a;},function(d,b,a){var k,h,m,f,q,l;function c(a,b,c){this.config=a;this.gLa=b;this.cast=c;}Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;d=a(0);k=a(1);h=a(215);m=a(158);f=a(30);q=a(216);l=a(217);c.prototype.CKa=function(){switch(this.config().Z5){case f.Ok.O6:return q.P6.Kfa(this.gLa,this.cast);case f.Ok.SB:return l.xy.Kfa(this.config);default:return this.gLa;}};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(m.jM)),d.__param(1,k.l(h.p$)),d.__param(2,k.l(q.DU))],a);b.txa=a;},function(d,b,a){var k,h,m,f,q,l,g,t,x,z,y,B,n,I,E,p,W,R,M,D;function c(a,b,c,f,d,l,h,m,k,q,g,t){this.zRa=a;this.cast=b;this.config=c;this.ya=f;this.wa=d;this.is=l;this.hm=h;this.Pr=m;this.Lf=k;this.platform=q;this.tc=g;this.navigator=t;}Object.defineProperty(b,"__esModule",{value:!0});b.hua=void 0;d=a(0);k=a(1);h=a(30);m=a(215);f=a(158);q=a(216);l=a(706);g=a(707);t=a(136);x=a(345);z=a(36);y=a(34);B=a(20);n=a(708);I=a(98);E=a(6);p=a(709);W=a(53);R=a(32);M=a(41);a=a(33);c.prototype.Bnb=function(a){var b;b=this.zRa.CKa();switch(a){case h.ky.SB:return new l.Xya(this.config,b,this.is,this.platform);default:return new x.KU(this.config,b);}};c.prototype.Hob=function(a){var b;b=this.zRa.CKa();switch(a){case h.Ok.O6:a=new q.P6(this.config,b,this.is,this.cast);break;case h.Ok.R6:a=new n.qua(this.config,b,this.is,this.hm,this.Pr,this.wa);break;case h.Ok.SB:a=new g.qya(this.config,b,this.is,this.ya,this.wa,this.Pr,this.tc);break;case h.Ok.SBa:a=new p.UBa(this.config,b,this.is,this.Lf,this.navigator,this.Pr);break;default:a=new t.ym(this.config,b,this.is);}return a;};D=c;D=d.__decorate([k.N(),d.__param(0,k.l(m.B8)),d.__param(1,k.l(q.DU)),d.__param(2,k.l(f.jM)),d.__param(3,k.l(z.Ig)),d.__param(4,k.l(y.Vg)),d.__param(5,k.l(B.De)),d.__param(6,k.l(I.tv)),d.__param(7,k.l(E.xb)),d.__param(8,k.l(W.zm)),d.__param(9,k.l(R.sj)),d.__param(10,k.l(M.Di)),d.__param(11,k.l(a.TB))],D);b.hua=D;},function(d,b,a){var k,h,m,f,q;function c(a,b,c,d){a=f.KU.call(this,a,b) || this;a.is=c;a.platform=d;a.type=k.ky.SB;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Xya=void 0;k=a(30);h=a(57);m=a(130);f=a(345);q=a(217);N(c,f.KU);c.prototype.tT=function(){return Promise.resolve(this.config().RP && this.xz(m.Db.dt,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.pD=function(){var a;a={};a[h.Ci.cV]="mp4a.40.2";a[h.Ci.a8]="mp4a.40.5";a[h.Ci.dV]="mp4a.40.2";"browser" === this.platform.Ypb?this.config().RP && (a[h.Ci.HU]={Ze:"avc1",ef:m.Db.dt,Kd:["audio-endpoint-codec=DD+JOC"]},a[h.Ci.IU]={Ze:"avc1",ef:m.Db.dt,Kd:["audio-endpoint-codec=DD+JOC"]}):(this.config().Wga && (a[h.Ci.HU]="ec-3"),this.config().Vga && (a[h.Ci.X6]="ec-3"),this.config().RP && (a[h.Ci.IU]={Ze:"avc1",ef:m.Db.dt,Kd:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.C_=function(a){var b;b=this;a=a.filter(function(a){var c,d;for(var c=T(b.hs),f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !0;}c=T(b.nl);for(f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !1;}a=b.Qoa[a];c=[];d=m.Db.dt;if(a)return (b.is.lo(a)?f=a:(c=a.Kd,f=a.Ze,d=a.ef),b.xz(d,f,c));});return Promise.resolve(a);};c.prototype.xz=function(a,b,c){a=q.xy.xZ(a,b,c);return this.uw(a);};b.Xya=c;},function(d,b,a){var k,h,m,f,q,l,g,t,x,z,y,B,n,I,E,p,W,R,M,D;function c(a,b,c,f,d,l,k){a=h.ym.call(this,a,b,c) || this;a.ya=f;a.wa=d;a.Pr=l;a.tc=k;a.type=m.Ok.SB;a.bM="hvc1";a.a4a="avc1";a.ZVa={};a.log=a.Pr.ob("MicrosoftVideoCapabilityDetector");a.mQb();a.vT && a.config().FEb?a.Nqb=a.Tnb():(a.Nqb=Promise.resolve(""),a.config().HEb?a.Znb():a.config().GEb && a.Ynb());return a;}Object.defineProperty(b,"__esModule",{value:!0});b.qya=void 0;k=a(57);h=a(136);m=a(30);d=a(101);f=a(130);q=a(133);l=a(4);g=a(318);t=a(135);x=a(217);z=a(156);y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");B=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");n=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");I=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");E=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");p=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");W=["hdcp=1"];R=["hdcp=2"];M=new d.Ey();D=new g.B6();N(c,h.ym);c.prototype.NI=function(a){return a === m.Gd.jv && this.config().TTb?t.Od.oM:h.ym.prototype.NI.call(this,a);};c.prototype.Uu=function(a){switch(a){case m.Ei.Rs:return this.I_a();case m.Ei.KB:return this.uS;default:return Promise.resolve(!1);}};c.prototype.Uw=function(){return this.vT?this.uzb?this.I_a().then(function(a){return Promise.resolve(a?f.Db.Pd:f.Db.UM);}):Promise.resolve(f.Db.UM):this.lRb?Promise.resolve(f.Db.UM):Promise.resolve(f.Db.dt);};c.prototype.vL=function(){return Promise.resolve({result:this.H_a(),reason:"is-type-supported"});};c.prototype.wT=function(){return this.vT && this.K_a()?this.uS:Promise.resolve(!1);};c.prototype.uT=function(){return Promise.resolve(this.G_a());};c.prototype.nda=function(a){this.nn=a;Object.assign(this.nn,this.ZVa);a.itshwdrm=this.vT;a.itsqhd=this.J_a();a.itshevc=this.K_a();a.itshdr=this.H_a();a.itsdv=this.G_a();return a;};c.prototype.FO=function(a,b){(this.nn?this.nn:this.ZVa)[a]=b;};c.prototype.VI=function(){var a;a=this;return this.Uu(m.Ei.KB).then(function(b){return b?a.vP(m.Ei.KB):a.Uu(m.Ei.Rs).then(function(b){return b?a.vP(m.Ei.Rs):a.vP(void 0);});});};c.prototype.wQ=function(){return this.Uw().then(function(a){return a === f.Db.Pd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.C_=function(a){var b;b=this;a=a.filter(function(a){var c,l;for(var c=T(b.hs),d=c.next();!d.done;d=c.next()){if(d.value.test(a))return !0;}c=T(b.nl);for(d=c.next();!d.done;d=c.next()){if(d.value.test(a))return !1;}a=b.Qoa[a];c=[];l=f.Db.dt;if(a)return (b.is.lo(a)?d=a:(c=a.Kd,d=a.Ze,l=a.ef),b.xz(l,d,c));});return Promise.resolve(a);};c.prototype.pD=function(){var a;a=h.ym.prototype.pD.call(this);a[k.Y.mN]="vp09.00.11.08.02";a[k.Y.nN]="vp09.00.11.08.02";a[k.Y.FW]="vp09.00.11.08.02";a[k.Y.fV]={Ze:"hev1.2.6.L90.B0",ef:f.Db.Pd,Kd:y};a[k.Y.hV]={Ze:"hev1.2.6.L93.B0",ef:f.Db.Pd,Kd:y};a[k.Y.jV]={Ze:"hev1.2.6.L120.B0",ef:f.Db.Pd,Kd:y};a[k.Y.lV]={Ze:"hev1.2.6.L123.B0",ef:f.Db.Pd,Kd:y};a[k.Y.$F]={Ze:"hev1.2.6.L150.B0",ef:f.Db.Pd,Kd:y};a[k.Y.aG]={Ze:"hev1.2.6.L153.B0",ef:f.Db.Pd,Kd:y};a[k.Y.gV]={Ze:"hev1.2.6.L90.B0",ef:f.Db.Pd,Kd:y};a[k.Y.iV]={Ze:"hev1.2.6.L93.B0",ef:f.Db.Pd,Kd:y};a[k.Y.kV]={Ze:"hev1.2.6.L120.B0",ef:f.Db.Pd,Kd:y};a[k.Y.mV]={Ze:"hev1.2.6.L123.B0",ef:f.Db.Pd,Kd:y};a[k.Y.nV]={Ze:"hev1.2.6.L150.B0",ef:f.Db.Pd,Kd:y};a[k.Y.oV]={Ze:"hev1.2.6.L153.B0",ef:f.Db.Pd,Kd:y};a[k.Y.qM]={Ze:"hev1.2.6.L90.B0",ef:f.Db.Pd,Kd:n};a[k.Y.rM]={Ze:"hev1.2.6.L93.B0",ef:f.Db.Pd,Kd:n};a[k.Y.ZF]={Ze:"hev1.2.6.L120.B0",ef:f.Db.Pd,Kd:n};a[k.Y.sM]={Ze:"hev1.2.6.L123.B0",ef:f.Db.Pd,Kd:I};a[k.Y.aV]={Ze:"hev1.2.6.L150.B0",ef:f.Db.Pd,Kd:I};a[k.Y.bV]={Ze:"hev1.2.6.L153.B0",ef:f.Db.Pd,Kd:I};a[k.Y.eM]={Ze:"hev1.2.6.L90.B0",ef:f.Db.Pd,Kd:E};a[k.Y.fM]={Ze:"hev1.2.6.L93.B0",ef:f.Db.Pd,Kd:E};a[k.Y.OF]={Ze:"hev1.2.6.L120.B0",ef:f.Db.Pd,Kd:E};a[k.Y.gM]={Ze:"hev1.2.6.L123.B0",ef:f.Db.Pd,Kd:p};a[k.Y.hM]={Ze:"hev1.2.6.L150.B0",ef:f.Db.Pd,Kd:p};a[k.Y.JU]={Ze:"hev1.2.6.L153.B0",ef:f.Db.Pd,Kd:p};return a;};c.prototype.xz=function(a,b,c){a=x.xy.xZ(a,b,c);return this.uw(a);};c.prototype.J_a=function(){return this.xz(f.Db.Pd,this.bM,y);};c.prototype.H_a=function(){return this.xz(f.Db.Pd,this.bM,n);};c.prototype.G_a=function(){return this.xz(f.Db.Pd,this.bM,E);};c.prototype.K_a=function(){return this.xz(f.Db.Pd,this.bM,B);};c.prototype.I_a=function(){var a;a=this;return this.uS.then(function(b){return b?Promise.resolve(b):a.SWa;});};c.prototype.ST=function(){this.nn && (this.nn.itshdcp=JSON.stringify({hdcp1:this.cQa,time1:this.e0a - this.i_a,hdcp2:this.dQa,time2:this.f0a - this.j_a}));};c.prototype.mQb=function(){var a;a=this;this.vT?(this.woa=new q.Sn(),this.xoa=new q.Sn(),this.SWa=q.Bb.from(this.woa).As().then(function(a){return "probably" === a;}),this.uS=q.Bb.from(this.xoa).As().then(function(a){return "probably" === a;}),this.KZa(this.xoa,this.config().JEb),this.pWa(this.Rvb.bind(this),this.xoa),this.uS.then(function(b){b || (a.KZa(a.woa,a.config().IEb),a.pWa(a.Qvb.bind(a),a.woa));})):(this.SWa=Promise.resolve(!0),this.uS=Promise.resolve(!1));};c.prototype.pWa=function(a,b){q.Bb.by(0,this.config().KEb).map(function(){return a();}).kT(function(a){return "maybe" === a;}).map(function(a){b.next(a);b.complete();}).ET(q.Bb.from(b)).As();};c.prototype.KZa=function(a,b){this.ya.yh(l.Jb(b),function(){a.next("timeout");a.complete();});};c.prototype.Qvb=function(){var a;a=x.xy.xZ(f.Db.UM,this.a4a,W).split("|");this.cQa=x.xy.kra(a[0],a[1]);this.e0a=this.wa.ve.ba(l.fa);this.i_a=this.i_a || this.e0a;this.ST();return this.cQa;};c.prototype.Rvb=function(){var a;a=x.xy.xZ(f.Db.Pd,this.bM,R).split("|");this.dQa=x.xy.kra(a[0],a[1]);this.f0a=this.wa.ve.ba(l.fa);this.j_a=this.j_a || this.f0a;this.ST();return this.dQa;};c.prototype.Tnb=function(){var a;a=this;return this.Ofa(f.Db.Pd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0">' + ("<ServerCert>" + z.N9 + "</ServerCert>") + "</DriverInfo></PlayReadyCDMData>").then(function(b){a.log.debug("DriverInfo: " + b);return b;})["catch"](function(b){a.FO("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};c.prototype.Ynb=function(){var a;a=this;this.Ofa(f.Db.dt,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.tc.decode(b));a.FO("itsHardwareInfo",c);a.log.debug("HardwareInfo: " + c);return b;})["catch"](function(b){a.FO("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};c.prototype.Znb=function(){var a;a=this;this.Ofa(f.Db.dt,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.tc.decode(b));a.FO("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: " + c);return b;})["catch"](function(b){a.FO("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};c.prototype.Ofa=function(a,b){var c;c=this;return new Promise(function(f,d){var t,u,x;function h(a){try{q(a.target,"Unexpectedly got an mskeyerror event: 0x" + D.gQ(a && a.target && a.target.error && a.target.error.u6b || 0,4));}catch(ia){q(a.target,ia);}}function m(a){q(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.yha(a.message,"PlayReadyKeyMessage","Challenge");g(a.target);f(b);}catch(Ha){q(a.target,Ha);}}function q(a,f){c.log.error("PlayReadyChallenge error",{cdmData:b});g(a);d(f);}function g(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",m);a.removeEventListener("mskeyerror",h);t && t.cancel();}try{u=new Uint8Array(M.OQb(b));x=new O.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),u);x.addEventListener("mskeymessage",k);x.addEventListener("mskeyadded",m);x.addEventListener("mskeyerror",h);t=c.ya.yh(l.Jb(1E3),function(){q(x,Error("timeout"));});}catch(Ba){d(Ba);}});};c.prototype.yha=function(a,b){var c,f,d,l;for(var c=1;c < arguments.length;++c){;}c="";d=a.length;for(f=0;f < d;f++){l=a[f];0 < l && (c+=String.fromCharCode(l));}d="\\s*(.*)\\s*";for(f=arguments.length - 1;0 < f;f--){l=arguments[f];if(0 > c.search(l))return;l="(?:[^:].*:|)" + l;d="[\\s\\S]*<" + l + "[^>]*>" + d + "</" + l + ">[\\s\\S]*";}if(c=c.match(new RegExp(d)))return c[1];};pa.Object.defineProperties(c.prototype,{uzb:{configurable:!0,enumerable:!0,get:function(){return this.config().orb && (!this.config().LEb || this.J_a());}},vT:{configurable:!0,enumerable:!0,get:function(){try{return this.uw(f.Db.Pd + '|video/mp4;codecs="' + t.Od.XF + '"');}catch(U){return !1;}}},lRb:{configurable:!0,enumerable:!0,get:function(){try{return this.uw(f.Db.UM);}catch(U){return !1;}}}});b.qya=c;c.EL='video/mp4;codecs="{0},mp4a";';},function(d,b,a){var k,h,m;function c(a,b,c,d,m,g){a=k.ym.call(this,a,b,c) || this;a.hm=d;a.Pr=m;a.wa=g;a.type=h.Ok.R6;a.log=a.Pr.ob("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.qua=void 0;k=a(136);h=a(30);m=a(4);N(c,k.ym);c.prototype.Uu=function(a){switch(a){case h.Ei.Rs:return this.kRb;default:return Promise.resolve(!1);}};c.prototype.VI=function(){var a;a=this;return this.Uu(h.Ei.Rs).then(function(a){return a?h.Ei.Rs:void 0;}).then(function(b){return a.vP(b);});};c.prototype.nda=function(a){return this.nn=a;};c.prototype.ST=function(){var a;if(this.nn){a=this.eQa && this.gQa && this.eQa.Ia(this.gQa).ba(m.fa);this.nn.itshdcp=JSON.stringify({hdcp1:this.ax,time1:a});}};pa.Object.defineProperties(c.prototype,{im:{configurable:!0,enumerable:!0,get:function(){this.wTa || (this.wTa=this.hm.SI().then(function(a){return a.createMediaKeys();}));return this.wTa;}},kRb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.lra || (this.config().prb?this.lra=this.im.then(function(b){if(b && b.getStatusForPolicy)return (a.gQa=a.wa.ve,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.eQa=a.wa.ve;a.ax=b;a.log.trace("hdcpStatus: " + a.ax);return "usable" === a.ax;}));a.ax="not available";a.log.trace("hdcpStatus: " + a.ax);return !1;})["catch"](function(b){a.ax="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.ax},b);return !1;}).then(function(b){a.ST();return b;}):(this.ax="not enabled",this.log.trace("hdcpStatus: " + this.ax),this.ST(),this.lra=Promise.resolve(!1)));return this.lra;}}});b.qua=c;},function(d,b,a){var k,h,m,f;function c(a,b,c,d,m){a=k.ym.call(this,a,b,c) || this;a.Lf=d;a.navigator=m;a.type=h.Ok.SBa;a.T1a={};a.T1a=a.Gob();a.log=f.sf.ob("SafariVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;k=a(136);h=a(30);m=a(57);f=a(7);N(c,k.ym);c.prototype.wQ=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Lf.Nj.toString()});};c.prototype.C_=function(a){var b,c;b=this;c=a.map(function(a){for(var c=T(b.hs),f=c.next();!f.done;f=c.next()){if(f.value.test(a))return Promise.resolve(!0);}c=T(b.nl);for(f=c.next();!f.done;f=c.next()){if(f.value.test(a))return Promise.resolve(!1);}return b.Ima(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.Ima=function(a){var b,c;b=this;try{c=this.T1a[a];return !c || this.PAb(c) && !this.eRa()?Promise.resolve(!1):this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:c}).then(function(a){var c;c=!0 === a.supported && !0 === a.powerEfficient;c?b.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(a)):b.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(a));return c;})["catch"](function(a){b.log.error("mediaCapabilities.decodingInfo failed",a);return !1;});}catch(t){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",t),Promise.resolve(!1));}};c.prototype.Gob=function(){var a,b,c,f,d,h,k,g,n,I,E,p,W;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};f={width:1920,height:1080};d={width:3840,height:2160};h=Object.assign(Object.assign({},f),{bitrate:12E6,framerate:30});k=Object.assign(Object.assign({},f),{bitrate:2E7,framerate:60});f=Object.assign(Object.assign({},d),{bitrate:25E6,framerate:30});d=Object.assign(Object.assign({},d),{bitrate:4E7,framerate:60});g={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};n={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};I=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),h);a[m.Y.YU]=I;a[m.Y.ZU]=I;a[m.Y.S7]=I;I=Object.assign(Object.assign({},b),h);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),k);p=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),f);W=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),d);a[m.Y.fV]=I;a[m.Y.hV]=I;a[m.Y.jV]=I;a[m.Y.lV]=E;a[m.Y.$F]=p;a[m.Y.aG]=W;a[m.Y.gV]=I;a[m.Y.iV]=I;a[m.Y.kV]=I;a[m.Y.mV]=E;a[m.Y.nV]=p;a[m.Y.oV]=W;I=Object.assign(Object.assign(Object.assign({},b),h),g);E=Object.assign(Object.assign(Object.assign({},b),k),g);p=Object.assign(Object.assign(Object.assign({},b),f),g);b=Object.assign(Object.assign(Object.assign({},b),d),g);a[m.Y.qM]=I;a[m.Y.rM]=I;a[m.Y.ZF]=I;a[m.Y.sM]=E;a[m.Y.aV]=p;a[m.Y.bV]=b;h=Object.assign(Object.assign(Object.assign({},c),h),n);k=Object.assign(Object.assign(Object.assign({},c),k),n);f=Object.assign(Object.assign(Object.assign({},c),f),n);c=Object.assign(Object.assign(Object.assign({},c),d),n);a[m.Y.eM]=h;a[m.Y.fM]=h;a[m.Y.OF]=h;a[m.Y.gM]=k;a[m.Y.hM]=f;a[m.Y.JU]=c;return a;};c.prototype.PAb=function(a){return ! !a.colorGamut || ! !a.hdrMetadataType || ! !a.transferFunction;};c.prototype.eRa=function(){return O.matchMedia("(dynamic-range: high)").matches;};c.prototype.uT=function(){return this.config().Yga?this.Ima(m.Y.OF):Promise.resolve(!1);};c.prototype.vL=function(){return this.config().Yga?this.eRa()?this.Ima(m.Y.ZF).then(function(a){return {result:a,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};b.UBa=c;},function(d,b,a){var k,h;function c(a){this.navigator=a;this.tTa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;d=a(0);k=a(1);a=a(33);c.prototype.Cha=function(a){return this.tTa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.S,framerate:a.W_}}).then(function(a){return {s6b:a.supported,ZPb:a.smooth,sJb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=c;h=d.__decorate([k.N(),d.__param(0,k.l(a.TB))],h);b.Eya=h;},function(d,b,a){var k,h,m;function c(a,b){this.sTa=a;this.log=b.ob("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.Fya=void 0;d=a(0);k=a(346);h=a(6);a=a(1);c.prototype.Cha=function(a){var b,c,f;b=this;c={Rb:void 0};if(this.sTa.tTa){f={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,S:1E3 * a.S,W_:"24"};this.sTa.Cha(f).then(function(a){return c.Rb=Object.assign(Object.assign({},a),f);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};m=c;m=d.__decorate([a.N(),d.__param(0,a.l(k.j9)),d.__param(1,a.l(h.xb))],m);b.Fya=m;},function(d,b,a){var k,h,m;function c(a){this.SJb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.cwa=void 0;d=a(0);k=a(1);h=a(218);a=a(348);c.prototype.Isb=function(){var a,b;a={$P:h.oy.hab};b=this.SJb.PresentationRequest;b && (new b("https://netflix.com").getAvailability() || Promise.reject()).then(function(b){var c;a.$P=b.value?h.oy.iBa:h.oy.Qsa;if(a.$P === h.oy.Qsa){c=function(){b.value && (a.$P=h.oy.iBa);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.$P=h.oy.Error;});return a;};m=c;m=d.__decorate([k.N(),d.__param(0,k.l(a.Q$))],m);b.cwa=m;},function(d,b,a){var c,k,h,m,f,q,l,g,t,x,z,y,B,n,I,E,p;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(1);c=a(349);k=a(63);h=a(159);m=a(714);f=a(352);q=a(715);l=a(351);g=a(160);t=a(716);x=a(718);z=a(719);y=a(720);B=a(63);n=a(353);I=a(722);E=a(354);p=a(723);b.storage=new d.Pc(function(a){a(h.A9).zf(function(){return function(){return O.localStorage;};});a(h.s8).zf(function(){return function(){return O.indexedDB;};});a(n.p9).to(I.Vya).Z();a(B.Hs).to(y.Ysa).Z();a(f.L8).to(q.Oxa).Z();a(c.AM).to(x.mxa).Z();a(g.x8).to(t.nxa).Z();a(k.qaa).to(m.Dua).Z();a(g.r8).to(t.Mwa).Z();a(g.vV).to(t.oxa).Z();a(l.T6).to(z.Eua).Z();a(E.n7).to(p.jva).Z();});},function(d,b,a){var k,h,m,f,q;function c(a,b,c){this.ol=b;this.config=c;this.ma=a.ob(f.tW);}Object.defineProperty(b,"__esModule",{value:!0});b.Dua=void 0;d=a(0);k=a(1);h=a(6);m=a(61);f=a(350);a=a(351);c.prototype.Es=function(a){return this.config.enabled?this.config.timeout?this.ol.rn(this.config.timeout,this.CLa(a)):this.CLa(a):Promise.resolve();};c.prototype.CLa=function(a){var b;b=this;return new Promise(function(c,f){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(d){"true" !== d.value && f();b.ma.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ma.error("Failed to remove testValue");c();});});})["catch"](function(a){return f(a);});});};q=c;q=d.__decorate([k.N(),d.__param(0,k.l(h.xb)),d.__param(1,k.l(m.Cy)),d.__param(2,k.l(a.T6))],q);b.Dua=q;},function(d,b,a){var k,h,m;function c(a){this.Kx=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Oxa=void 0;d=a(0);k=a(1);h=a(2);a=a(159);c.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){var d,l;try{d=b.Kx.getItem(a);if(d){l=d;if("{" === d[0])try{l=JSON.parse(d) || d;}catch(z){}c({key:a,value:l});}else f({ja:h.K.Dy});}catch(z){f({ja:h.K.QBa,cause:z});}});};c.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,l){if(c && f.Kx.getItem(a))d(!1);else try{"string" === typeof b?f.Kx.setItem(a,b):f.Kx.setItem(a,JSON.stringify(b));d(!0);}catch(z){l({ja:h.K.RBa,cause:z});}});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){try{b.Kx.removeItem(a);c();}catch(t){f({ja:h.K.eaa,cause:t});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.jR=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=d.__decorate([k.N(),d.__param(0,k.l(a.gza))],m);b.Oxa=m;},function(d,b,a){var m,f,q,l,g,t,x,z,y,B,n,I;function c(a,b,c,f,d,h){this.config=b;this.DP=c;this.Fk=f;this.tUb=d;this.Pj=h;this.ma=a.ob(t.tW);}function k(a,b){this.config=a;this.by=b;}function h(a,b,c,f,d){this.config=b;this.by=c;this.Pj=d;this.ma=a.ob(t.tW);this.DP=new Promise(function(a,b){var c;try{c=f();c?a(c):b({ja:g.K.Nwa});}catch(la){b({ja:g.K.uV,cause:la});}});}Object.defineProperty(b,"__esModule",{value:!0});b.oxa=b.nxa=b.Mwa=void 0;d=a(0);m=a(1);f=a(6);q=a(717);l=a(159);g=a(2);t=a(350);x=a(349);z=a(61);y=a(63);B=a(66);n=a(160);I=a(67);h.prototype.create=function(){this.cga || (this.cga=this.bI());return this.cga;};h.prototype.Op=function(a){var b;b=this;this.cga=null;return this.by.rn(this.config.timeout,new Promise(function(c,f){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){f(a);});}))["catch"](function(a){return a instanceof z.Un?Promise.reject({ja:g.K.uV}):a.ja?Promise.reject(a):Promise.reject({ja:g.K.uV,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.by.rn(this.config.timeout,new Promise(function(c,f){b.DP.then(function(b){var d;d=b.deleteDatabase(a);d.onsuccess=function(){c();};d.onerror=function(){f({ja:g.K.uV,cause:d.error});};})["catch"](function(a){f(a);});}));};h.prototype.bI=function(){var a,b;a=this;return this.by.rn(this.config.timeout,new Promise(function(c,f){if(a.config.Oqa)return f({ja:a.config.Oqa});a.DP.then(function(d){a.Pj.mark(I.Ii.P6a);b=d.open(a.config.name,a.config.version);if(!b)return f({ja:g.K.Owa});b.onblocked=function(){a.Pj.mark(I.Ii.M6a);f({ja:g.K.I6a});};b.onupgradeneeded=function(){var c;a.Pj.mark(I.Ii.W6a);c=b.result;try{c.createObjectStore(a.config.xE,{keyPath:"name"});}catch(U){a.ma.error("Exception while creating object store",U);}};b.onsuccess=function(h){var l,m;a.Pj.mark(I.Ii.V6a);try{l=h.target.result;m=l.objectStoreNames.length;a.ma.trace("objectstorenames length ",m);if(0 === m){a.ma.error("invalid indexedDb state, deleting");a.Pj.mark(I.Ii.O6a);try{l.close();}catch(la){}d.deleteDatabase(a.config.name);setTimeout(function(){f({ja:g.K.H6a});},1);return;}}catch(la){a.ma.error("Exception while inspecting indexedDb objectstorenames",la);}c(b.result);};b.onerror=function(){a.Pj.mark(I.Ii.N6a);a.ma.error("IndexedDB open error",b.error);f({ja:g.K.J6a,cause:b.error});};})["catch"](function(a){f(a);});}))["catch"](function(c){if(c instanceof z.Un){try{b && b.readyState && a.Pj.mark("readyState-" + b.readyState);}catch(R){}if(a.config.JY && b && "done" === b.readyState){if(a.oUb(b))return (a.Pj.mark(I.Ii.T6a),Promise.resolve(b.result));a.Pj.mark(I.Ii.S6a);}a.Pj.mark(I.Ii.R6a);return Promise.reject({ja:g.K.L6a});}if(c.ja)return Promise.reject(c);a.Pj.mark(I.Ii.Q6a);a.ma.error("IndexedDB open exception occurred",c);return Promise.reject({ja:g.K.K6a,cause:c});});};h.prototype.oUb=function(a){try{return 0 < a.result.objectStoreNames.length;}catch(da){this.Pj.mark(I.Ii.U6a);this.ma.error("failed to check open request state",da);}return !1;};a=h;a=d.__decorate([m.N(),d.__param(0,m.l(f.xb)),d.__param(1,m.l(x.AM)),d.__param(2,m.l(z.Cy)),d.__param(3,m.l(l.s8)),d.__param(4,m.l(B.Gy))],a);b.Mwa=a;k.prototype.create=function(a){return Promise.resolve(new q.lxa(this.config,this.by,a));};a=k;a=d.__decorate([m.N(),d.__param(0,m.l(x.AM)),d.__param(1,m.l(z.Cy))],a);b.nxa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.wP || (this.wP=this.bI(this.tUb));return this.wP;};c.prototype.bI=function(a){var b;a=void 0 === a?[]:a;b=this;return new Promise(function(c,f){b.Pj.mark(I.Ii.A$a);b.DP.create().then(function(d){b.Fk.create(d).then(function(h){Promise.all(a.map(function(a){return a.Es(h);})).then(function(){b.storage=h;c(b.storage);})["catch"](function(a){b.ma.debug("DB validation failed, cause: " + a);b.config.gNa?(b.ma.debug("Fixing corrupt DB"),b.DP.Op(d).then(function(){b.ma.error("Invalid database deleted, creating new database.");b.bI().then(function(a){b.ma.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ma.error("Couldn't delete invalid database.");f(a);})):(b.ma.debug("Ignoring invalid DB due to config"),b.storage=h,c(b.storage));});})["catch"](function(a){f(a);});})["catch"](function(a){f(a);});});};a=c;a=d.__decorate([m.N(),d.__param(0,m.l(f.xb)),d.__param(1,m.l(x.AM)),d.__param(2,m.l(n.r8)),d.__param(3,m.l(n.x8)),d.__param(4,m.rE(y.qaa)),d.__param(5,m.l(B.Gy))],a);b.oxa=a;},function(d,b,a){var h,m,f;function c(a,b,c){this.config=a;this.ol=b;this.Kx=c;}function k(a,b){this.reason=a;this.cause=b;}Object.defineProperty(b,"__esModule",{value:!0});b.lxa=b.xBa=void 0;h=a(2);m=a(61);(function(a){a[a.E9=0]="NoData";a[a.Error=1]="Error";a[a.hC=2]="Timeout";})(f=b.xBa || (b.xBa={}));c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.u_("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=h.K.QBa;switch(a.reason){case f.E9:b=h.K.Dy;break;case f.hC:b=h.K.B$a;}d({ja:b,cause:a.cause});});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(l,m){d.u_(c?"add":"put",!0,{name:a,data:b}).then(function(){l(!c);})["catch"](function(a){var b;b=h.K.RBa;switch(a.reason){case f.hC:b=h.K.E$a;}m({ja:b,cause:a.cause});});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.u_("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=h.K.eaa;switch(a.reason){case f.hC:b=h.K.PBa;}d({ja:b,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.u_("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.K.eaa;switch(a.reason){case f.hC:b=h.K.PBa;}c({ja:b,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.ol.rn(this.config.timeout,new Promise(function(b,c){var d,h,l;if(a.config.iT)c(new k(a.config.iT));else {d=[];h=a.Kx.transaction(a.config.xE,"readonly");l=h.objectStore(a.config.xE).openCursor();h.onerror=function(){c(new k(f.Error,l.error));};l.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(B){c(new k(f.Error,B));}else b(d);};l.onerror=function(){c(new k(f.Error,l.error));};}}))["catch"](function(a){return a instanceof m.Un?Promise.reject(new k(f.hC,a)):a instanceof k?Promise.reject(a):Promise.reject(new k(f.Error,a));});};c.prototype.jR=function(a){var b;b=this;return this.ol.rn(this.config.timeout,new Promise(function(c,d){var h,l,m;if(b.config.iT)d(new k(b.config.iT));else {h={};l=b.Kx.transaction(b.config.xE,"readonly");m=l.objectStore(b.config.xE).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);l.onerror=function(){d(new k(f.Error,m.error));};m.onsuccess=function(b){var l,m;try{l=b.target.result;if(l){m=l.key;a && 0 !== m.indexOf(a)?c(h):(h[m]=void 0,l["continue"]());}else c(h);}catch(E){d(new k(f.Error,E));}};m.onerror=function(){d(new k(f.Error,m.error));};}}))["catch"](function(a){return a instanceof m.Un?Promise.reject(new k(f.hC,a)):a instanceof k?Promise.reject(a):Promise.reject(new k(f.Error,a));});};c.prototype.u_=function(a,b,c){var d;d=this;return this.ol.rn(this.config.timeout,new Promise(function(h,l){var m,q;m=d.Kx.transaction(d.config.xE,b?"readwrite":"readonly");q=m.objectStore(d.config.xE)[a](c);m.onerror=function(){l(new k(f.Error,q.error));};q.onsuccess=function(b){var c;if("get" == a)try{c=b.target.result;c?h(c.data):l(new k(f.E9));}catch(E){l(new k(f.E9,E));}else h();};q.onerror=function(){l(new k(f.Error,q.error));};}))["catch"](function(a){return a instanceof m.Un?Promise.reject(new k(f.hC,a)):a instanceof k?Promise.reject(a):Promise.reject(new k(f.Error,a));});};b.lxa=c;},function(d,b,a){var k,h,m,f,q;function c(a,b){a=m.pe.call(this,a,"IndexedDBConfigImpl") || this;a.config=b;a.version=1;a.xE="namedatapairs";return a;}Object.defineProperty(b,"__esModule",{value:!0});b.mxa=void 0;d=a(0);k=a(1);h=a(42);m=a(44);f=a(35);a=a(31);N(c,m.pe);pa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.au?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.dra;}},JY:{configurable:!0,enumerable:!0,get:function(){return this.config.JY;}},Oqa:{configurable:!0,enumerable:!0,get:function(){return 0;}},iT:{configurable:!0,enumerable:!0,get:function(){return 0;}},gNa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});q=c;d.__decorate([h.config(h.hy,"simulateIdbOpenError")],q.prototype,"Oqa",null);d.__decorate([h.config(h.hy,"simulateIdbLoadAllError")],q.prototype,"iT",null);d.__decorate([h.config(h.Gc,"fixInvalidDatabase")],q.prototype,"gNa",null);q=d.__decorate([k.N(),d.__param(0,k.l(a.tj)),d.__param(1,k.l(f.Dl))],q);b.mxa=q;},function(d,b,a){var k,h;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Eua=void 0;d=a(0);k=a(1);a=a(35);pa.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.dra;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.V_a;}}});h=c;h=d.__decorate([k.N(),d.__param(0,k.l(a.Dl))],h);b.Eua=h;},function(d,b,a){var h,m,f,q,l,g,t;function c(a,b,c,f){this.ma=a;this.config=b;this.vzb=c;this.Pma=f;this.zz={mem:{storage:this.Pma,key:"mem"}};this.aB=this.config.aB;}function k(a,b,c,f){this.sf=a;this.Fk=b;this.Pma=c;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.n6=b.Ysa=void 0;d=a(0);h=a(1);m=a(2);f=a(160);q=a(6);l=a(353);g=a(721);a=a(35);k.prototype.create=function(){this.wP || (this.wP=this.bI());return this.wP;};k.prototype.bI=function(){this.ohb=new c(this.sf.ob("AppStorage"),this.config,this.Fk,this.Pma);return this.ohb.create();};t=k;t=d.__decorate([h.N(),d.__param(0,h.l(q.xb)),d.__param(1,h.l(f.vV)),d.__param(2,h.l(l.p9)),d.__param(3,h.l(a.Dl))],t);b.Ysa=t;c.prototype.create=function(){var a;a=this;return this.aob().then(function(b){if(!a.Yjb(b,a.config.j1))throw a.RFb(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){b.mQ(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){f(a);});});};c.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,h){f.mQ(a).storage.save(a,b,c).then(function(a){d(a);})["catch"](function(a){h(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){b.mQ(a).storage.remove(a).then(function(){c();})["catch"](function(a){f(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.GXa("mem").then(function(){return a.GXa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ma.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.iSa("mem").then(function(c){b=b.concat(c);return a.iSa("idb");})["catch"](function(b){a.pBb(b) || a.ma.error("IndexedDb.LoadAll exception",b);return [];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ma.error("load all failed",b);throw b;});};c.prototype.jR=function(a){var b;b=this;return new Promise(function(c,f){var d;d=b.zz.idb;d?d.storage.jR(a).then(function(a){c(a);})["catch"](function(a){b.ma.error("loadKeys failed",a);f(a);}):f("Storage is not available");});};c.prototype.aob=function(){var a;a=this;return this.vzb.create().then(function(b){a.zz.idb={storage:b,key:"idb"};})["catch"](function(b){a.ma.error("idb failed to load",b);return b || ({ja:m.K.Hl});});};c.prototype.Yjb=function(a,b){return !a || a && b?!0:!1;};c.prototype.RFb=function(a){var b;b="";a && (b+=a.ja);return {ja:b};};c.prototype.GXa=function(a){return (a=this.zz[a])?a.storage.removeAll():Promise.resolve();};c.prototype.iSa=function(a){return (a=this.zz[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.btb=function(a){for(var b in this.aB){if(a.startsWith(b))return this.aB[b];}return this.aB[g.Kua];};c.prototype.mQ=function(a){var b,c;b=this;this.btb(a).every(function(a){return b.zz[a]?(c=b.zz[a],!1):!0;});c || (this.ma.error("component not found for storageKey",{CQb:a,y1b:Object.keys(this.zz),rules:this.aB}),c=this.zz.mem);this.ma.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.pBb=function(a){return (a && (a.ja || a.errorSubCode)) === m.K.Dy;};b.n6=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;b.Kua="__default_rule_key__";},function(d,b,a){var k,h,m;function c(a){this.sf=a;this.BA={};this.ma=this.sf.ob("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.Vya=void 0;d=a(0);k=a(1);h=a(2);a=a(6);c.prototype.load=function(a){var b;if(this.BA.hasOwnProperty(a)){b=this.BA[a];this.ma.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ma.debug("Storage entry not found",{key:a});return Promise.reject({ja:h.K.Dy});};c.prototype.save=function(a,b,c){if(c && this.BA.hasOwnProperty(a))return Promise.resolve(!1);this.BA[a]=b;return Promise.resolve(!0);};c.prototype.remove=function(a){delete this.BA[a];return Promise.resolve();};c.prototype.loadAll=function(){var a;a=Object.entries(this.BA).map(function(a){var b;b=T(a);a=b.next().value;b=b.next().value;return {key:a,value:b};});return Promise.resolve(a);};c.prototype.jR=function(a){var b;b=Object.keys(this.BA).reduce(function(b,c){a && 0 !== c.indexOf(a) || (b[c]=void 0);return b;},{});return Promise.resolve(b);};c.prototype.removeAll=function(){this.BA={};return Promise.resolve();};m=c;m=d.__decorate([k.N(),d.__param(0,k.l(a.xb))],m);b.Vya=m;},function(d,b,a){var h,m,f;function c(a,b,c){var f;f=this;this.ma=a;this.valid=!0;this.hk=!1;this.context=c.context;this.size=c.size;this.cm=b.create().then(function(a){f.storage=a;return a.jR("mediacache").then(function(a){f.keys=a;});});}function k(a,b){this.sf=a;this.Fk=b;this.tI={};}Object.defineProperty(b,"__esModule",{value:!0});b.C5a=b.jva=void 0;d=a(0);h=a(1);m=a(6);a=a(63);k.prototype.vZ=function(a){this.tI[a.context]=new c(this.sf.ob("DiskStorageContext"),this.Fk,a);return this.tI[a.context];};k.prototype.sLa=function(a){delete this.tI[a.context];};f=k;f=d.__decorate([h.N(),d.__param(0,h.l(m.xb)),d.__param(1,h.l(a.Hs))],f);b.jva=f;c.prototype.create=function(a,b,c,f){var d,h,l;d=this;h=this.getKey(a,b);l=Date.now();this.cm.then(function(){d.keys[h]=void 0;return d.storage.save(h,c,!1).then(function(){d.ma.trace("create succeeded for " + h + ", " + (Date.now() - l) + " ms");f(d.E0(a,b));});})["catch"](function(c){d.ma.trace("create failed",c);f(d.Sz(a,b,c));});};c.prototype.append=function(a,b,c,f){c=this.getKey(a,b);this.ma.trace("append " + c);f(this.Sz(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var f,d,h;f=this;d=this.getKey(a,b);h=Date.now();this.cm.then(function(){if(f.keys.hasOwnProperty(d))return (delete f.keys[d],f.storage.remove(d).then(function(){f.ma.trace("remove succeeded for " + d + ", " + (Date.now() - h) + " ms");c(f.E0(a,b));}));c(f.E0(a,b));})["catch"](function(d){f.ma.trace("remove failed",d);c(f.Sz(a,b,d));});};c.prototype.read=function(a,b,c,f,d){var h,l,m;h=this;l=this.getKey(a,b);m=Date.now();0 !== c || -1 != f?d(this.Sz(a,b,"byteStart/byteEnd combination is not supported")):this.cm.then(function(){if(h.keys.hasOwnProperty(l))return h.storage.load(l).then(function(k){h.ma.trace("read succeeded for " + l + ", " + (Date.now() - m) + " ms");d(Object.assign(h.E0(a,b),{value:k.value,C1b:c,end:f}));});d(h.Sz(a,b,"Item doesn't exist"));})["catch"](function(c){h.ma.trace("read failed",c);d(h.Sz(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.ma.trace("info ");this.cm.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Vna(c);a[c.CP] || (a[c.CP]={});a[c.CP][c.kA]={size:0};return a;},{}),total:b.size,S6b:0};a(c);})["catch"](function(c){b.ma.trace("info failed",c);a(b.Sz(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var f,d;f=this;d=this.getKey(a,b || "");this.cm.then(function(){var a;a=Object.keys(f.keys).filter(function(a){return 0 === a.indexOf(d);}).reduce(function(a,b){a[f.Vna(b).kA]={size:0};return a;},{});f.ma.trace("query succeeded for prefix " + b,a);c(a);})["catch"](function(a){f.ma.trace("query failed",a);c({});});};c.prototype.Es=function(a){var b;b=this;this.ma.trace("validate");this.cm.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Vna(c).kA]={size:0};return a;},{});a(c);})["catch"](function(c){b.ma.trace("validate failed",c);a(b.Sz(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return ["mediacache",this.context,a,b].join(".");};c.prototype.E0=function(a,b){return {ia:!0,CP:void 0 === a?"":a,key:void 0 === b?"":b,eUb:0,jk:this.size};};c.prototype.Sz=function(a,b,c){return {ia:!1,error:c,CP:void 0 === a?"":a,key:void 0 === b?"":b,eUb:0,jk:this.size};};c.prototype.Vna=function(a){var b,c;a=a.slice(a.indexOf(".") + 1);b=a.slice(a.indexOf(".") + 1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c + 1);return {CP:a,kA:b};};b.C5a=c;},function(d,b,a){var c,k,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.Ot=void 0;d=a(1);c=a(219);k=a(355);h=a(356);m=a(725);f=a(726);q=a(727);b.Ot=new d.Pc(function(a){a(c.sU).to(m.Lta).Z();a(k.G6).to(f.Jta).Z();a(h.F6).to(q.Kta).Z();});},function(d,b,a){var k,h,m,f,q,l,g;function c(a,b,c,f,d){this.VY=b;this.Da=c;this.Vib=f;this.config=d;this.ma=a.ob("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Lta=void 0;d=a(0);k=a(1);h=a(355);m=a(356);f=a(6);q=a(20);l=a(4);a=a(13);c.prototype.pHa=function(a){var b,c;b=a.Ta.playbackState && a.Ta.playbackState.currentTime;c=this.$ub(a.u);b=this.Da.tD(b)?l.Jb(b):c;if(this.Da.ge(b))(this.ma.info("Overriding bookmark",{From:a.DF.ba(l.fa),To:b.ba(l.fa)}),a=Object.assign({},a,{DF:b}));else if(this.Azb(a))return (this.ma.trace("Ignoring bookmark because it's too close to beginning"),l.zh(0));return this.zzb(a)?(this.ma.trace("Ignoring bookmark because it's too close to end"),l.zh(0)):this.yzb(a)?(this.ma.trace("Ignoring bookmark because it's too close to the end to start decoding"),l.zh(0)):a.DF;};c.prototype.Azb=function(a){return 0 > a.DF.Cj(this.Gia(a));};c.prototype.Gia=function(a){return this.EIa(this.VY.Gia(),a.jS);};c.prototype.zzb=function(a){return 0 < a.DF.Cj(this.Hia(a));};c.prototype.Hia=function(a){var b;b=a.Ta.mk?this.VY.Vvb():this.VY.Hia();return a.jS.Ia(this.EIa(b,a.jS));};c.prototype.yzb=function(a){return 0 < a.DF.Cj(this.Dvb(a));};c.prototype.Dvb=function(a){var b;b=a.Ta.mk?this.config().bVa:this.config().AE;return a.jS.Ia(l.Jb(b));};c.prototype.$ub=function(a){var b;a=this.VY.oia()[a];b=-1;this.Da.lo(a)?b=parseInt(a):this.Da.Jh(a) && (b=a);if(this.Da.Kt(b))return l.Jb(b);};c.prototype.EIa=function(a,b){return this.Vib.PQb(a,b);};g=c;g=d.__decorate([k.N(),d.__param(0,k.l(f.xb)),d.__param(1,k.l(h.G6)),d.__param(2,k.l(q.De)),d.__param(3,k.l(m.F6)),d.__param(4,k.l(a.Oc))],g);b.Lta=g;},function(d,b,a){var k,h;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Jta=void 0;d=a(0);k=a(1);a=a(13);c.prototype.Gia=function(){return this.Rz().Wib;};c.prototype.Hia=function(){return this.Rz().Xib;};c.prototype.Vvb=function(){return this.Rz().Yib;};c.prototype.oia=function(){return this.Rz().DIa;};c.prototype.Rz=function(){return this.config();};h=c;h=d.__decorate([k.N(),d.__param(0,k.l(a.Oc))],h);b.Jta=h;},function(d,b,a){var k,h,m;function c(a){this.Da=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Kta=void 0;d=a(0);k=a(1);h=a(20);m=a(4);c.prototype.PQb=function(a,b){var c,f;c=parseFloat(a);f=0;"%" === a[a.length - 1] && this.Da.Jh(c)?f=Math.round(c * b.ba(m.fa) / 100):(a=parseInt(a),this.Da.Kt(a) && (f=a));return m.Jb(Math.min(f,b.ba(m.fa)));};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.De))],a);b.Kta=a;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;d=a(1);c=a(357);k=a(729);b.$Ia=new d.Pc(function(a){a(c.L6).to(k.Wta).Z();});},function(d,b,a){var k,h,m,f,q,l,g,t;function c(a,b,c,f,d,h){this.config=a;this.AA=c;this.profile=f;this.E5=d;this.gP=h;this.log=b.ob("CDMAttestedDescriptor");this.SNa(t.Vs.WM);}Object.defineProperty(b,"__esModule",{value:!0});b.Wta=void 0;d=a(0);k=a(1);h=a(13);m=a(6);f=a(161);q=a(220);l=a(97);g=a(150);t=a(35);c.prototype.SNa=function(a){var b;b=this;return this.E5.X4(a)?this.config().lrb?this.QNa().then(function(a){if(a)return (!1,Promise.resolve(void 0));b.cSa || (!1,b.cSa=b.gP.qja());return b.cSa;})["catch"](function(a){b.log.error("Failed to generate challenge",a);}).then(function(a){null === a || void 0 === a?void 0:a.Cb.close().subscribe();return null === a || void 0 === a?void 0:a.Sea;}).then(function(a){return Promise.all([Promise.resolve(a),b.QNa()]);}).then(function(a){var b;a=T(a);b=a.next().value;if(a.next().value)!1;else return b;}):this.AA().then(function(a){a.Q2.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.QNa=function(){var a;a=this;return this.AA().then(function(b){return (b=b.Q2.getServiceTokens(a.profile)) && b.find(function(a){return "cad" === a.name;});});};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.Oc)),d.__param(1,k.l(m.xb)),d.__param(2,k.l(f.FM)),d.__param(3,k.l(l.XM)),d.__param(4,k.l(q.hN)),d.__param(5,k.l(g.cM))],a);b.Wta=a;},function(d,b,a){var c,k,h,m,f,q,l,g,t,x,z,y,B,n;Object.defineProperty(b,"__esModule",{value:!0});b.QSa=void 0;d=a(1);c=a(358);k=a(731);h=a(359);m=a(761);f=a(369);q=a(164);l=a(371);g=a(762);t=a(372);x=a(763);z=a(165);y=a(764);B=a(374);n=a(765);b.QSa=new d.Pc(function(b){b(h.d9).to(m.uya).Z();b(c.e9).to(k.vya).Z();b(f.E$).wi(function(b){for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}f=a(226).gC;return new (Function.prototype.bind.apply(f,[null].concat(ea(c))))();});b(q.gN).wi(function(b){for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}f=a(436).fua;return new (Function.prototype.bind.apply(f,[null].concat(ea(c))))();});b(l.g9).zf(function(){return function(a){return new g.zya(a);};});b(t.f9).to(x.yya).Z();b(z.iG).to(y.tya).Z();b(B.b9).to(n.sya).Z();});},function(d,b,a){var k,h,m,f,q,l,g,t,x,z,y,B;function c(a,b,c,f,d){this.sf=a;this.config=b;this.uoa=c;this.Nra=f;this.iB=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vya=void 0;d=a(0);k=a(1);h=a(6);m=a(359);f=a(732);q=a(757);l=a(758);g=a(759);t=a(760);x=a(225);z=a(369);y=a(164);a=a(370);c.prototype.create=function(a){var b,c;b=this.sf.ob("ManifestParser",a);c=new f.mua(b,this.config);return new l.wya(c,new q.QCa(b,this.config,a,c,this.uoa),new g.fDa(b,a,this.Nra),new t.Ata(b,this.config,a,this.iB),new x.IW(b,this.iB));};B=c;B=d.__decorate([k.N(),d.__param(0,k.l(h.xb)),d.__param(1,k.l(m.d9)),d.__param(2,k.l(z.E$)),d.__param(3,k.l(a.Daa)),d.__param(4,k.l(y.gN))],B);b.vya=B;},function(d,b,a){var k;function c(a,b){this.log=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.mua=void 0;k=a(118);c.prototype.tVa=function(a,b,c){var f,d,h,m,g;f=this;d=this.config.Pea;h=this.config.Oea;a=T(k.Bu(function(a){return (!d.length || 0 <= d.indexOf(a.id)) && 0 > h.indexOf(a.id);},a || []));m=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});g=m.map(function(a){var c;c=(b?b.find(function(b){return b.key === a.key;}):void 0) || ({});return {id:a.id,name:a.name,bg:a.bg,type:a.type,Qla:a.key,a4b:a.ESa,location:{id:c.key,bg:c.bg,level:c.level,weight:c.weight,ck:[]}};});g.sort(function(a,b){return a.bg - b.bg;});g.forEach(function(a){return a.location.ck=g.filter(function(b){return b.Qla === a.Qla;});});this.log.trace("Transformed cdns",{Count:g.length});if(c && !g.length)throw Error("no valid cdns");return g;};b.mua=c;},function(d,b,a){var c;b=a(162);c=a(734);a=b(function(a,b,d){return c(function(b,c,d){return a(c,d);},b,d);});d.W=a;},function(d,b,a){var c,k;b=a(162);c=a(360);k=a(735);a=b(function m(a,b,d){return k(function(b,f,d){return c(f) && c(d)?m(a,f,d):a(b,f,d);},b,d);});d.W=a;},function(d,b,a){var c;b=a(162);c=a(221);a=b(function(a,b,d){var f,h;f={};for(h in b){c(h,b) && (f[h]=c(h,d)?a(h,b[h],d[h]):b[h]);}for(h in d){c(h,d) && !c(h,f) && (f[h]=d[h]);}return f;});d.W=a;},function(d,b,a){var c;b=a(361);c=a(745);a=a(755);a=c([b,a]);d.W=a;},function(d){d.W=function(b){return "function" === typeof b["@@transducer/step"];};},function(d){d.W=function(b,a){for(var c=0,d=a.length,h=[];c < d;){b(a[c]) && (h[h.length]=a[c]);c+=1;}return h;};},function(d,b,a){var c,k;b=a(119);c=a(363);k=a(740);a=b(function(a){return c(a)?!0:!a || "object" !== typeof a || k(a)?!1:1 === a.nodeType?! !a.length:0 === a.length?!0:0 < a.length?a.hasOwnProperty(0) && a.hasOwnProperty(a.length - 1):!1;});d.W=a;},function(d){d.W=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(d){var b;b=(function(){function a(a){this.Tp=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,b){return this.Tp(a,b);};return a;})();d.W=function(a){return new b(a);};},function(d,b,a){var c;c=a(223);b=a(54)(function(a,b){return c(a.length,function(){return a.apply(b,arguments);});});d.W=b;},function(d,b,a){var c,k;b=a(54);c=a(364);k=(function(){function a(a,b){this.hU=b;this.Tp=a;}a.prototype["@@transducer/init"]=c.Ib;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.Tp(b)?this.hU["@@transducer/step"](a,b):a;};return a;})();a=b(function(a,b){return new k(a,b);});d.W=a;},function(d,b,a){var c,k;c=a(221);k=Object.prototype.toString;d.W=function(){return "[object Arguments]" === k.call(arguments)?function(a){return "[object Arguments]" === k.call(a);}:function(a){return c("callee",a);};};},function(d,b,a){var c;b=a(119);c=a(746);a=b(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});d.W=a;},function(d,b,a){var c,k,h,m,f;b=a(54);c=a(366);k=a(367);h=a(748);m=a(749);f=a(754);a=b(function(a,b){return k(f(h,0,m("length",b)),function(){var f,d;f=arguments;d=this;return a.apply(d,c(function(a){return a.apply(d,f);},b));});});d.W=a;},function(d,b,a){var k,h;function c(a,b,d){return function(){var z;for(var f=[],m=0,q=a,g=0;g < b.length || m < arguments.length;){g < b.length && (!h(b[g]) || m >= arguments.length)?z=b[g]:(z=arguments[m],m+=1);f[g]=z;h(z) || --q;g+=1;}return 0 >= q?d.apply(this,f):k(q,c(a,f,d));};}k=a(223);h=a(163);d.W=c;},function(d,b,a){b=a(54)(function(a,b){return b > a?b:a;});d.W=b;},function(d,b,a){var c,k;b=a(54);c=a(750);k=a(752);a=b(function(a,b){return c(k(a),b);});d.W=a;},function(d,b,a){var c,k,h,m,f,q;b=a(54);c=a(362);k=a(366);h=a(222);m=a(751);f=a(367);q=a(365);a=b(c(["fantasy-land/map","map"],m,function(a,b){switch(Object.prototype.toString.call(b)){case "[object Function]":return f(b.length,function(){return a.call(this,b.apply(this,arguments));});case "[object Object]":return h(function(c,f){c[f]=a(b[f]);return c;},{},q(b));default:return k(a,b);}}));d.W=a;},function(d,b,a){var c,k;b=a(54);c=a(364);k=(function(){function a(a,b){this.hU=b;this.Tp=a;}a.prototype["@@transducer/init"]=c.Ib;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.hU["@@transducer/step"](a,this.Tp(b));};return a;})();a=b(function(a,b){return new k(a,b);});d.W=a;},function(d,b,a){var c;b=a(54);c=a(753);a=b(function(a,b){return c([a],b);});d.W=a;},function(d,b,a){b=a(54)(function(a,b){for(var c=0;c < a.length;){if(null == b)return;b=b[a[c]];c+=1;}return b;});d.W=b;},function(d,b,a){b=a(162);a=a(222);a=b(a);d.W=a;},function(d,b,a){var c,k;c=a(756);b=a(54);k=a(361);a=b(function(a,b){return k(c(a),b);});d.W=a;},function(d){d.W=function(b){return function(){return !b.apply(this,arguments);};};},function(d,b,a){var k,h,m,f;function c(a,b,c,f,d){this.log=a;this.config=b;this.j=c;this.Qea=f;this.uoa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;k=a(57);h=a(9);m=a(137);f=a(224);c.prototype.$Hb=function(a){var b;b=this;a=a.map(function(a){var c,f,d;c=b.sSb(a);!1 !== a.Xka || c.length || b.log.error("track without downloadables",b.HOa(a));!0 !== a.Tka || c.length || b.log.error("forced track without downloadables",b.HOa(a));f={};d=[];if(0 < c.length){f=c[0];d=f.profile;if(d == k.Gl.kG || d == k.Gl.KV)(f=b.NNb(c),!1);d=b.Qea.tVa(a.jkb,void 0,!1);}a=b.uoa(b.j,a.Vr,a.id,f.Bd,f.Be || ({}),d,a.language,a.Q1,m.BW[a.Dn.toLowerCase()] || m.Vn.rG,a.AS.toUpperCase(),f.profile,b.swb(f) || ({}),a.Xka,a.Tka,a.F1,a.Fr);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.SRb=function(a){var b,c;b=this;c=this.config.Wha;if(c){if(a=T(a.filter(function(a){return a.Tl == c || a.jb == c;})).next().value)return a;}else if(this.j.P_ && (a=T(a.filter(function(a){return a.jb == b.j.P_;})).next().value))return a;};c.prototype.sSb=function(a){var b,c;b=this;c=a.Jqb;a=Object.entries(a.OSb || ({})).map(function(a){var f;f=T(a);a=f.next().value;f=f.next().value;return {Bd:c[a],profile:a,size:f.size || 0,me:b.vvb(a,f),offset:f.Sma || 0,EIb:f.width,UVa:f.height,Be:f.Jw};});a.sort(function(a,b){return a.me - b.me;});return a;};c.prototype.vvb=function(a,b){var c,f;c=this.config.Xu.indexOf(a);b=b.size;f=this.config.AL;return a === k.Gl.a7 && 0 < f && b > f?this.config.Xu.length + 1:0 <= c?c:this.config.Xu.length;};c.prototype.swb=function(a){if(a.profile === k.Gl.kG || a.profile === k.Gl.KV)return {offset:a.offset,length:a.size,p4:{width:a.EIb,height:a.UVa}};};c.prototype.NNb=function(a){var b,c;b=this.config.rka || f.xW.gja();c=T(a.filter(function(a){return a.profile === k.Gl.kG || a.profile === k.Gl.KV;}).filter(function(a){return a.UVa === b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.Xs.height,intendedResolution:b});return a[0];};c.prototype.HOa=function(a){return {isNone:a.Xka,isForced:a.Tka,bcp47:a.language,id:a.Vr};};b.QCa=c;},function(d,b){function a(a,b,d,m,f){this.Qea=a;this.W_a=b;this.DSb=d;this.hIa=m;this.X1a=f;}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;a.prototype.VHb=function(a){var b,c,d,f,q,l,g,t,x,z,y,B,n,I,E;b=a.Tc;a=this.Qea.tVa(b.ss,b.en,!0);c=this.W_a.$Hb(b.VRb);d=this.DSb.aIb(b.GSb);f=this.hIa.NHb(b.jIa,b.media,c);q=this.X1a.Xna(b.Fs);l=this.XHb(b,f,c);g=l[0];t=q[0];x=this.hIa.kib(f) || g.Ad || f[0];g=this.W_a.SRb(x.xl) || g.Jc || x.xl[0];z=this.X1a.YHb(b.Fs);y=b.yg;B=b.Zkb;n=b.Oja;I=b.Yk;E=b.jIa.findIndex(function(a){return a.Vr == x.jb;});b=b.Fs.findIndex(function(a){return a.Vr == t.jb;});return {js:z,ck:a,po:f,Hn:q,xl:c,fy:d,yg:y,nOb:B,lx:n,Yk:I,eLa:E,iLa:b,I3:l,qga:t,KZ:x,pga:g};};a.prototype.XHb=function(a,b,d){var c,f;c=[];f=a.hLa[0];c.push({Ad:b.find(function(a){return a.$D === f.UC;}),Jc:d.find(function(a){return a.$D === f.aRb;}),G5b:0});return c;};b.wya=a;},function(d,b){function a(a,b,d){this.log=a;this.j=b;this.Nra=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fDa=void 0;a.prototype.aIb=function(a){var b;b=this;a=(a || []).filter(function(a){return a.Be && 0 < a.Be.length;}).map(function(a){return b.Nra(b.j,a.id,a.height,a.width,a.JIb,a.KIb,a.size,a.Fr,{unknown:a.Be[0]});});0 === a.length && this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size - b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};b.fDa=a;},function(d,b,a){var k,h,m,f,q;function c(a,b,c,f){a=h.DM.call(this,a,f) || this;a.config=b;a.j=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Ata=void 0;k=a(342);h=a(368);m=a(118);f=a(76);q=a(137);N(c,h.DM);c.prototype.NHb=function(a,b,c){var d,h,l;d=this;a=T(m.Bu(function(a){return a.wc && 0 < a.wc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.DPa(a));});l=this.config.jra;a=T(m.Bu(function(a){return 0 === l.length || 0 <= l.indexOf(a.Dn);},h));h=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.DPa(a));});a=h.map(function(a){var h;h=a.Dn;h={type:f.Zg.audio,jb:a.Vr,$D:a.Ira,Dn:q.BW[h.toLowerCase()] || q.Vn.rG,AS:h,Tl:a.language,displayName:a.Q1,Jp:a.Jp,W1b:a.Jp,V1b:Number(a.Jp[0]),xl:d.pub(a.Vr,b,c),sh:{Bcp47:a.language,TrackId:a.Vr},wc:[],isNative:a.isNative};h.wc=d.E0a(a.wc,h);d.log.trace("Transformed audio track",h,{StreamCount:h.wc.length,AllowedTimedTextTracks:h.xl.length});h.hlb=k.w6[h.wc[0].Yf];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.kib=function(a){var b,c;b=this;c=this.config.Uha;if(c){if(a=T(a.filter(function(a){return a.Tl == c || a.jb == c;})).next().value)return a;}else if(this.j.O_ && (a=T(a.filter(function(a){return a.jb == b.j.O_;})).next().value))return a;};c.prototype.DPa=function(a){return {language:a.Q1,bcp47:a.language,type:a.Dn};};c.prototype.pub=function(a,b,c){return b.filter(function(b){return b.Wh.AUDIO === a;}).map(function(a){return a.Wh.taa;}).map(function(a){return c.find(function(b){return b.jb === a;});}).filter(Boolean);};b.Ata=c;},function(d,b,a){var k,h,m,f,q,l;function c(a,b){a=h.pe.call(this,a,"ManifestParserConfigImpl") || this;a.Wm=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.uya=void 0;d=a(0);k=a(1);h=a(44);m=a(31);f=a(42);q=a(129);l=a(46);N(c,h.pe);pa.Object.defineProperties(c.prototype,{jra:{configurable:!0,enumerable:!0,get:function(){return [];}},Uha:{configurable:!0,enumerable:!0,get:function(){return "";}},Pea:{configurable:!0,enumerable:!0,get:function(){return [];}},Oea:{configurable:!0,enumerable:!0,get:function(){return [];}},Wha:{configurable:!0,enumerable:!0,get:function(){return "";}},rka:{configurable:!0,enumerable:!0,get:function(){return 0;}},AL:{configurable:!0,enumerable:!0,get:function(){return this.Wm.AL.ba(l.Ks);}},Xu:{configurable:!0,enumerable:!0,get:function(){return this.Wm.Xu;}}});a=c;d.__decorate([f.config(f.n5,"supportedAudioTrackTypes")],a.prototype,"jra",null);d.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"Uha",null);d.__decorate([f.config(f.Ura,"cdnIdWhiteList")],a.prototype,"Pea",null);d.__decorate([f.config(f.Ura,"cdnIdBlackList")],a.prototype,"Oea",null);d.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"Wha",null);d.__decorate([f.config(f.hy,"imageSubsResolution")],a.prototype,"rka",null);d.__decorate([f.config(f.hy,"timedTextSimpleFallbackThreshold")],a.prototype,"AL",null);d.__decorate([f.config(f.n5,"timedTextProfiles")],a.prototype,"Xu",null);a=d.__decorate([k.N(),d.__param(0,k.l(m.tj)),d.__param(1,k.l(q.sG))],a);b.uya=a;},function(d,b){function a(a){this.vc=a;this.ub=JSON.stringify(this.mwb());}Object.defineProperty(b,"__esModule",{value:!0});b.zya=void 0;a.prototype.mwb=function(){var a;a=[];(!this.vc.ck || 0 >= this.vc.ck.length) && a.push({error:"No CDN."});this.vc.KZ || a.push({error:"No default audio track.",foundTracks:this.Fia(this.vc.po)});this.vc.qga || a.push({error:"No default video track.",foundTracks:this.Fia(this.vc.Hn)});this.vc.pga || a.push({error:"No default subtitle track.",foundTracks:this.Fia(this.vc.xl)});return a;};a.prototype.Fia=function(a){return a && 0 < a.length?a.map(function(a){return a.jb;}):"No tracks found.";};b.zya=a;},function(d,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yya=void 0;d=a(0);k=a(1);h=a(224);c.prototype.decode=function(a){var b,c;b=this.xxb(a.cdns);c=this.Fvb(a);return {movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.Qia(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position / 1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.kvb(a),timedtexttracks:this.Sxb(a.textTracks,b),media:this.qwb(a.media),trickplays:this.Xxb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:! !a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.vha,urlExpirationDuration:c.O1a,manifestExpirationDuration:c.O1a,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:"",type:"standard"};};c.prototype.kvb=function(a){var b,c,d;b=T(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return [{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};c.prototype.Qia=function(a){return a?a.map(function(a){return {key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};c.prototype.xxb=function(a){return a?a.map(function(a){return {name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};c.prototype.FPa=function(a){return Object.entries(a).map(function(a){var b;b=T(a);a=b.next().value;b=b.next().value;return {cdn_id:Number(a),url:b};});};c.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return {type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.rub(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c && c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};c.prototype.rub=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.FPa(a.urls),isDrm:! !a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};c.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return {type:1,trackType:"PRIMARY",streams:c.gyb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:! !b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b && b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length - 25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};c.prototype.gyb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.FPa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};c.prototype.Sxb=function(a,b){var c;c=this;return a?a.map(function(a){return {type:"timedtext",trackType:"SUBTITLES" === a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47 || null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.Nxb(a.downloadables),ttDownloadables:c.Oxb(a.downloadables),isLanguageLeftToRight:! !a.isLanguageLeftToRight,cdnlist:b};}):[];};c.prototype.Nxb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};c.prototype.Zwb=function(a){var b;b=h.xW.gja();a=a.filter(function(a){return a.isImage;});return 0 === a.length?b:0 < a.filter(function(a){return a.pixHeight === b;}).length?b:Math.min.apply(Math,[].concat(ea(a.map(function(a){return a.pixHeight;}))));};c.prototype.Oxb=function(a){var b;if(a){b=this.Zwb(a);return a.reduce(function(a,c){c.isImage && c.pixHeight !== b || (a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return {};};c.prototype.qwb=function(a){return a?a.map(function(a){return {id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return "AUDIO" === a.type;}).id,VIDEO:a.tracks.find(function(a){return "VIDEO" === a.type;}).id,TEXT:a.tracks.find(function(a){return "TEXT" === a.type;}).id}};}):[];};c.prototype.Xxb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.values(a.urls),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return [];};c.prototype.Fvb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return {O1a:1E3 * b,vha:a.clientGenesis + 1E3 * b};};c.prototype.encode=function(){throw Error("encode not supported");};a=c;a=d.__decorate([k.N()],a);b.yya=a;},function(d,b,a){var k,h,m,f,q,l,g,t;function c(a,b,c,f){this.wa=a;this.ADb=b;this.kCb=c;this.xDb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;d=a(0);k=a(372);h=a(1);m=a(34);f=a(4);q=a(373);l=a(374);g=a(43);t=a(2);c.prototype.create=function(a){var b;if(this.ZAb(a))throw g.Dc.ZUb(t.L.MANIFEST,t.K.F$a,a);b=this.kCb();this.SAb(a)?(a.clientGenesis=a.clientGenesis || this.wa.ve.ba(f.fa),a=this.ADb.decode(a),b.Bgb(a)):b.pda(a.links);this.xDb.DI(a);return {Tc:a,$i:b};};c.prototype.ZAb=function(a){return ("type" in a) && "muxed" === a.type;};c.prototype.SAb=function(a){return ("runtime" in a) && ! !a.runtime;};a=c;a=d.__decorate([h.N(),d.__param(0,h.l(m.Vg)),d.__param(1,h.l(k.f9)),d.__param(2,h.l(q.b$)),d.__param(3,h.l(l.b9))],a);b.tya=a;},function(d,b,a){var k,h;function c(a){this.Urb=a;this.yDb={$t:"drmType",N2b:"drmVersion",vha:"expiration",d4b:"isUsingLegacyBatchingAPI",Ot:"bookmark",u:"movieId",Wo:"packageId",duration:"duration",yg:"playbackContextId",hLa:["defaultTrackOrderList",{MJ:"mediaId",Z6b:"videoTrackId",aRb:"subtitleTrackId",UC:"audioTrackId",F5b:"preferenceOrder"}],Yk:"drmContextId",Nyb:"hasDrmProfile",Lyb:"hasClearProfile",Oja:"hasDrmStreams",Myb:"hasClearStreams",en:["locations",{bg:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],ss:["servers",{id:"id",name:"name",type:"type",bg:"rank",ESa:"lowgrade",uqb:["dns",{host:"host",wAb:"ipv4",xAb:"ipv6",Gtb:"forceLookup"}],key:"key"}],jIa:["audio_tracks",{type:"type",Dn:"trackType",Vr:"new_track_id",Ira:"track_id",nKb:"profileType",vQb:"stereo",profile:"profile",Jp:"channels",language:"language",rkb:"channelsFormat",nRb:"surroundFormatLabel",Q1:"languageDescription",G2b:"disallowedSubtitleTracks",v2b:"defaultTimedText",isNative:"isNative",wc:["streams",{Lga:"downloadable_id",size:"size",pP:"content_profile",Dn:"trackType",S:"bitrate",mu:"isDrm",Be:["urls",{kJa:"cdn_id",url:"url"}],IFb:"new_stream_id",type:"type",Jp:"channels",rkb:"channelsFormat",nRb:"surroundFormatLabel",language:"language",v1b:"audioKey"}],hlb:"codecName",AS:"rawTrackType",id:"id"}],Fs:["video_tracks",{Dn:"trackType",Vr:"new_track_id",type:"type",Ira:"track_id",Nyb:"hasDrmProfile",Lyb:"hasClearProfile",Oja:"hasDrmStreams",Myb:"hasClearStreams",wc:["streams",{Lga:"downloadable_id",size:"size",pP:"content_profile",Dn:"trackType",S:"bitrate",mu:"isDrm",Be:["urls",{kJa:"cdn_id",url:"url"}],IFb:"new_stream_id",type:"type",y5b:"peakBitrate",gqb:"dimensionsCount",hqb:"dimensionsLabel",WVa:"pix_w",VVa:"pix_h",zMb:"res_w",yMb:"res_h",Lob:"crop_x",Mob:"crop_y",Kob:"crop_w",Job:"crop_h",Otb:"framerate_value",Ntb:"framerate_scale",o6b:"startByteOffset",ib:"vmaf"}],nKb:"profileType",vQb:"stereo",profile:"profile",gqb:"dimensionsCount",hqb:"dimensionsLabel",Pga:["drmHeader",{$:"bytes",Gkb:"checksum",fq:"keyId"}],fs:["prkDrmHeaders",{$:"bytes",Gkb:"checksum",fq:"keyId",p4:["resolution",{height:"height",width:"width"}]}],yr:"flavor",R3b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",HIb:"pixelAspectX",IIb:"pixelAspectY",y4b:"maxCroppedWidth",x4b:"maxCroppedHeight",z4b:"maxCroppedX",A4b:"maxCroppedY",E4b:"max_framerate_value",D4b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Q4b:"minCroppedWidth",P4b:"minCroppedHeight",R4b:"minCroppedX",S4b:"minCroppedY",Yi:["license",{iCb:"licenseResponseBase64",L5b:"providerSessionToken",L2b:"drmSessionId",links:["links",{}]}]}],jJa:["cdnResponseData",{aF:"sessionABTestCell",CE:"pbcid"}],gr:["choiceMap",{vg:"initialSegment",type:"type",la:"viewableId",Ua:["segments",{Jy:[h.Jy,{oe:"startTimeMs",Ie:"endTimeMs",next:["next",{Jy:[h.Jy,{weight:"weight"}]}],Ui:"defaultNext"}]}]}],bAb:["initialHeader",{aa:["fragments",{qa:"endPts"}]}],media:["media",{id:"id",Wh:["tracks",{AUDIO:"AUDIO",taa:"TEXT",VIDEO:"VIDEO"}]}],VRb:["timedtexttracks",{Dn:"trackType",Vr:"new_track_id",type:"type",AS:"rawTrackType",Q1:"languageDescription",language:"language",id:"id",Xka:"isNoneTrack",Tka:"isForcedNarrative",Jqb:["downloadableIds",{}],jkb:["cdnlist",{id:"id",name:"name",type:"type",bg:"rank",ESa:"lowgrade",uqb:["dns",{host:"host",wAb:"ipv4",xAb:"ipv6",Gtb:"forceLookup"}],key:"key"}],OSb:["ttDownloadables",{Jy:[h.Jy,{size:"size",w6b:"textKey",K3b:"hashValue",J3b:"hashAlgo",$3b:"isImage",Sma:"midxOffset",CTa:"midxSize",height:"height",width:"width",Jw:["downloadUrls",{}]}]}],F1:"isLanguageLeftToRight",Fr:"headIdentDuration"}],GSb:["trickplays",{Lga:"downloadable_id",size:"size",Be:"urls",id:"id",interval:"interval",KIb:"pixelsAspectY",JIb:"pixelsAspectX",width:"width",height:"height",Fr:"headIdentDuration"}],i2a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],K2b:"dpsid",mk:"isBranching",$6b:"viewableType",type:"type",bE:"isSupplemental",Zkb:"clientIpAddress",P6b:"urlExpirationDuration",s4b:"manifestExpirationDuration",p6b:["steeringAdditionalInfo",{q6b:"steeringId",q1b:"additionalGroupNames",r6b:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.sya=void 0;d=a(0);k=a(1);h=a(209);c.prototype.DI=function(a){this.Urb.DI(a,this.yDb);};a=c;a=d.__decorate([k.N(),d.__param(0,k.l(h.G7))],a);b.sya=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Kc=b.gA=void 0;(function(a){a[a.Nk=0]="STOPPED";a[a.qd=1]="BUFFERING";a[a.ff=2]="REBUFFERING";a[a.Qn=3]="STREAMING";a[a.bN=4]="TRACK_SWITCH";})(a || (a={}));b.Kc=a;b.gA=function(b){return b === a.qd || b === a.ff || b === a.bN;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(778),b);d.__exportStar(a(779),b);d.__exportStar(a(780),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.na=void 0;d=a || (a={});d[d.bh=0]="STARTING";d[d.qd=1]="BUFFERING";d[d.ff=2]="REBUFFERING";d[d.Wc=3]="PLAYING";d[d.Bv=4]="STOPPING";d[d.Nk=5]="STOPPED";d[d.rj=6]="PAUSED";b.na=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(801),b);d.__exportStar(a(802),b);d.__exportStar(a(803),b);d.__exportStar(a(804),b);d.__exportStar(a(805),b);d.__exportStar(a(806),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(808),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Usa=void 0;c=a(0);d=(function(a){function b(c,f){c=a.call(this,b.dub(c,f)) || this;c.Sbb=f;c.name="AggregateError";return c;}c.__extends(b,a);b.dub=function(a,b){return b.reduce(function(a,b){return a + "\n" + b;},a);};Object.defineProperties(b.prototype,{bu:{get:function(){return this.Sbb;},enumerable:!1,configurable:!0}});return b;})(Error);b.Usa=d;},function(d,b,a){var c,k,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.rya=void 0;c=a(0);k=a(16);h=a(228);m=a(836);d=new (a(3).Console)("ASEJS","media|asejs");d.trace.bind(d);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];d=(function(b){function d(a,c){var d;d=b.call(this) || this;d.H=a;d.ec=new m.Ixa(a,c);a.BI && d.kKa(c);d.ag=new k.Yg();f.forEach(function(a){d.ag.on(d.ec,a,function(b){return d.emit(a,b);});d.gp && d.ag.on(d.gp,a,function(b){return d.emit(a,b);});});return d;}c.__extends(d,b);Object.defineProperties(d.prototype,{qb:{get:function(){return this.ec.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kn:{get:function(){return this.ec.kn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xq:{get:function(){return this.ec.xq;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$A:{get:function(){return this.ec.$A;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jla:{get:function(){return this.ec.jla;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gF:{get:function(){return this.ec.gF;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{af:{get:function(){return this.ec.af;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Of:{get:function(){return this.ec.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nka:{get:function(){return this.ec.nka;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{z3:{get:function(){return this.ec.z3.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kR:{get:function(){return this.ec.kR.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$la:{get:function(){return this.ec.$la.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{CZa:{get:function(){return this.ec.CZa.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{d0:{get:function(){return this.ec.d0.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gPa:{get:function(){return this.ec.gPa.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{iE:{get:function(){return this.ec.iE.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{BJa:{get:function(){return this.ec.BJa.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aZ:{get:function(){return this.ec.aZ.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dP:{get:function(){var a;a=this;return function(){a.Ipa();a.ec.dP();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gea:{get:function(){var a;a=this;return function(){a.Ipa();a.ec.Gea();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eP:{get:function(){return this.ec.eP.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rw:{get:function(){var a;a=this;return function(){a.Ipa();a.ec.rw();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{YIa:{get:function(){return this.ec.YIa.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{XIa:{get:function(){return this.ec.XIa.bind(this.ec);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{iZa:{get:function(){return this.ec.iZa.bind(this.ec);},enumerable:!1,configurable:!0}});d.prototype.kKa=function(b){return this.gp=new (a(971).iCa)(this.H,this.rw,b);};d.prototype.Ib=function(a,b,c,f,d,h){this.ec.Ib(a,b,c,f,d,h);this.gp?this.gp.Ib(a,b,c,f,d,h):this.VRa={eib:a,zUb:b,zP:c,$A:f,gF:d,pEb:h};};d.prototype.aT=function(a,b,c){this.ec.aT(a,b,c);this.gp?this.gp.aT(a,b,c):this.YRa={LQb:a,$A:b,gF:c};};d.prototype.Tm=function(a,b,c,d,h,l,k,m,q,g){var t,u,x,z,B;t=this;if(this.ec.config.BI && !this.gp){u=this.kKa(this.ec.ay);f.forEach(function(a){t.ag.on(t.gp,a,function(b){return t.emit(a,b);});});if(this.VRa){x=this.VRa;z=x.$A;B=x.gF;u.Ib(x.eib,x.zUb,x.zP,z,B,x.pEb);}this.YRa && (B=this.YRa,x=B.LQb,z=B.$A,B=B.gF,u.aT(x,z,B));}return this.gp && m.En?(m.dw || m.vE || this.ec.rw(),this.gp.Tm(a,b,c,d,h,l,k,m,q,g)):this.ec.Tm(a,b,c,d,h,l,k,m,q,g);};d.prototype.addEventListener=function(a,b){this.addListener(a,b);return !0;};d.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return !0;};d.prototype.Qb=function(){var a;this.ag.clear();this.ec.Qb();null === (a=this.gp) || void 0 === a?void 0:a.Qb();h.NF.reset();};d.prototype.Ipa=function(){var a;this.H.dw || this.H.vE || (null === (a=this.gp) || void 0 === a?void 0:a.Kh.J3.reset());};return d;})(k.EventEmitter);b.rya=d;},function(d){function b(a,b,d,m){a.trace(":",d,":",m);b(m);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,d,h,m){h=m?h.bind(m):h;if(a){this.console && (h=b.bind(null,this.console,h,d));if("function" === typeof a.addListener)a.addListener(d,h);else if("function" === typeof a.addEventListener)a.addEventListener(d,h);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,h]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.W=a;},function(d,b,a){d.W={Y9a:a(817),UVb:a(818)};},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function k(a){this.re=null;this.Jl=a;this.size=0;}function h(a){return null !== a && a.red;}function m(a,b){var c;c=a.tg(!b);a.fp(!b,c.tg(b));c.fp(b,a);a.red=!0;c.red=!1;return c;}function f(a,b){a.fp(!b,m(a.tg(!b),!b));return m(a,b);}b=a(376);c.prototype.tg=function(a){return a?this.right:this.left;};c.prototype.fp=function(a,b){a?this.right=b:this.left=b;};k.prototype=new b();k.prototype.Mo=function(a){var b,d,k,q,g,y,B,n,I;b=!1;if(null === this.re)(this.re=new c(a),b=!0,this.size++);else {d=new c(void 0);k=0;q=0;g=null;y=d;B=null;n=this.re;for(y.right=this.re;;){null === n?(n=new c(a),B.fp(k,n),b=!0,this.size++):h(n.left) && h(n.right) && (n.red=!0,n.left.red=!1,n.right.red=!1);if(h(n) && h(B)){I=y.right === g;n === B.tg(q)?y.fp(I,m(g,!q)):y.fp(I,f(g,!q));}I=this.Jl(n.data,a);if(0 === I)break;q=k;k=0 > I;null !== g && (y=g);g=B;B=n;n=n.tg(k);}this.re=d.right;}this.re.red=!1;return b;};k.prototype.remove=function(a){var b,d,B,k,n,y,I;if(null === this.re)return !1;b=new c(void 0);d=b;d.right=this.re;for(var k=null,q,g=null,y=1;null !== d.tg(y);){B=y;q=k;k=d;d=d.tg(y);n=this.Jl(a,d.data);y=0 < n;0 === n && (g=d);if(!h(d) && !h(d.tg(y)))if(h(d.tg(!y)))(q=m(d,y),k.fp(B,q),k=q);else if(!h(d.tg(!y)) && (n=k.tg(!B),null !== n))if(h(n.tg(!B)) || h(n.tg(B))){I=q.right === k;h(n.tg(B))?q.fp(I,f(k,B)):h(n.tg(!B)) && q.fp(I,m(k,B));B=q.tg(I);B.red=!0;d.red=!0;B.left.red=!1;B.right.red=!1;}else (k.red=!1,n.red=!0,d.red=!0);}null !== g && (g.data=d.data,k.fp(k.right === d,d.tg(null === d.left)),this.size--);this.re=b.right;null !== this.re && (this.re.red=!1);return null !== g;};d.W=k;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;}function k(a){this.re=null;this.Jl=a;this.size=0;}b=a(376);c.prototype.tg=function(a){return a?this.right:this.left;};c.prototype.fp=function(a,b){a?this.right=b:this.left=b;};k.prototype=new b();k.prototype.Mo=function(a){if(null === this.re)return (this.re=new c(a),this.size++,!0);for(var b=0,f=null,d=this.re;;){if(null === d)return (d=new c(a),f.fp(b,d),ret=!0,this.size++,!0);if(0 === this.Jl(d.data,a))return !1;b=0 > this.Jl(d.data,a);f=d;d=d.tg(b);}};k.prototype.remove=function(a){var b,f,d,g,k;if(null === this.re)return !1;b=new c(void 0);f=b;f.right=this.re;for(var d=null,h=null,k=1;null !== f.tg(k);){d=f;f=f.tg(k);g=this.Jl(a,f.data);k=0 < g;0 === g && (h=f);}return null !== h?(h.data=f.data,d.fp(d.right === f,f.tg(null === f.left)),this.re=b.right,this.size--,!0):!1;};d.W=k;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.wv=b.c$a=void 0;c=a(0);k=a(820);d=(function(){function a(a,b){this.o=a;this.$w=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.addListener=function(a){-1 === this.$w.indexOf(a) && (this.$w=this.$w.slice(),this.$w.push(a));};a.prototype.removeListener=function(a){a=this.$w.indexOf(a);-1 !== a && (this.$w=this.$w.slice(),this.$w.splice(a,1));};return a;})();b.c$a=d;d=(function(a){function b(b,c){return a.call(this,b,c) || this;}c.__extends(b,a);b.h2a=function(a,b,c){return new k.vza(a,b,c);};b.RUb=function(a,c,d){return b.h2a(a,function(a){return a.every(function(a,b){return a === c[b];});},d);};Object.defineProperties(b.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!1,configurable:!0}});b.prototype.set=function(a){var b;b=this.o;b !== a && (this.o=a,this.$w.forEach(function(c){return c({oldValue:b,newValue:a});}));};return b;})(d);b.wv=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vza=void 0;d=(function(){function a(a,b,d){var c;c=this;this.properties=a;this.zlb=b;this.fP=d;this.state=!1;this.Mna=function(){var a,b;a=c.state;b=c.properties.map(function(a){return a.value;});c.state=c.zlb(b);a !== c.state && c.fP(c.state);};a.forEach(function(a){return a.addListener(c.Mna);});this.Mna();}a.prototype.clear=function(){var a;a=this;this.properties.forEach(function(b){return b.removeListener(a.Mna);});};return a;})();b.vza=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;c=a(37);k=a(5);d=(function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b + a.data[c].length;},0);},enumerable:!1,configurable:!0}});a.prototype.get=function(a){var b;return null !== (b=this.data[a]) && void 0 !== b?b:[];};a.prototype.has=function(a,b){return (a=this.data[a])?void 0 === b?!0:-1 !== a.indexOf(b):!1;};a.prototype.count=function(a){return (a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.xr(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a] || (this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,f;c=this.data[a];if(void 0 === c)return !1;if(void 0 === b)return (k.assert(1 === arguments.length),delete this.data[a],!0);f=c.indexOf(b);if(-1 === f)return !1;1 === c.length?delete this.data[a]:c.splice(f,1);return !0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0 !== b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(f){return a(f,b,c);});});};a.prototype.reduce=function(a,b,c){var f,d;f=this;a=void 0 !== c?a.bind(c):a;d=b;this.forEach(function(b,c){d=a(d,b,c,f);});return d;};a.prototype.map=function(a,b){var f;f=this;a=void 0 !== b?a.bind(b):a;return c.xr(this.keys().map(function(b){return f.data[b].map(function(c){return a(c,b,f);});}));};a.prototype.filter=function(a,b){var f;f=this;a=void 0 !== b?a.bind(b):a;return c.xr(this.keys().map(function(b){return f.data[b].filter(function(c){return a(c,b,f);});}));};return a;})();b.dza=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZMa=void 0;b.ZMa=function(a,b){return a.filter(function(a){var c,d;a=null !== (d=null !== (c=a.ll) && void 0 !== c?c:a.Jka) && void 0 !== d?d:a.ul;return ! !a && a.zJ(b);}).pop();};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.nCa=b.mCa=void 0;c=a(37);d=(function(){function a(a){this.o=a;this.listeners=[];this.aS=[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.set=function(a){var b;this.o=a;b=this.aS;this.aS=[];this.listeners.forEach(function(b){return b(a);});b.forEach(function(b){return b(a);});};a.prototype.mYa=function(){this.o=void 0;};a.prototype.on=function(a){this.listeners=this.listeners.concat([a]);void 0 !== this.o && a(this.o);};a.prototype.once=function(a){void 0 !== this.o?a(this.o):this.aS.push(a);};a.prototype.gK=function(a){this.listeners=this.listeners.filter(function(b){return b !== a;});this.aS=this.aS.filter(function(b){return b !== a;});};return a;})();b.mCa=d;d=(function(){function a(){this.listeners=[];}a.prototype.on=function(a,b){this.listeners.push({b5:a,listener:b});a.on(b);};a.prototype.once=function(a,b){var c,d;c=this;if(void 0 === a.value){d=function(f){c.remove(a,b);b(f);};this.listeners.push({b5:a,listener:b,l2a:d});a.once(d);}else a.once(b);};a.prototype.gK=function(a,b){var f,d;d=c.kh(this.listeners,function(c){return c.b5 === a && c.listener === b;});void 0 !== d && a.gK(null !== (f=d.l2a) && void 0 !== f?f:d.listener);this.remove(a,b);};a.prototype.removeAllListeners=function(){this.listeners.forEach(function(a){var b,c;b=a.listener;c=a.l2a;return a.b5.gK(null !== c && void 0 !== c?c:b);});this.listeners=[];};a.prototype.remove=function(a,b){this.listeners=this.listeners.filter(function(c){return c.b5 !== a || c.listener !== b;});};return a;})();b.nCa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.WQ=void 0;b.WQ=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(d,b,a){var k;function c(a){this.PK=new Uint16Array(a.length);for(var b=0;b < a.length;++b){this.PK[b]=a.charCodeAt(b);}}k=new (a(3).Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var b,c;b=this.PK.length;if(void 0 === this.PK)k.warn("XORCiper.encrypt is called with undefined secret!");else {c="";for(var d=0;d < a.length;++d){c+=String.fromCharCode(this.PK[d % b] ^ a.charCodeAt(d));}return encodeURIComponent(c);}};c.prototype.decrypt=function(a){var b,c;b="";c=this.PK.length;a=decodeURIComponent(a);for(var d=0;d < a.length;d++){b+=String.fromCharCode(this.PK[d % c] ^ a.charCodeAt(d));}return b;};d.W=c;},function(d){function b(a,b){this.Ga=a;this.Xh=b;}b.prototype.zoa=function(a){var m,f,d;a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {for(var b=1 > a?a:2 - a,d=Math.sqrt(-2 * Math.log(b / 2)),d=-.70711 * ((2.30753 + .27061 * d) / (1 + d * (.99229 + .04481 * d)) - d),h=0;2 > h;h++){m=Math.abs(d);f=1 / (1 + m / 2);m=f * Math.exp(-m * m - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));m=(0 <= d?m:2 - m) - b;d=d + m / (1.1283791670955126 * Math.exp(-(d * d)) - d * m);}a=1 > a?d:-d;}return this.Ga - Math.sqrt(2 * this.Xh) * a;};d.W=b;},function(d,b,a){var h,m,f,g;function c(a,b,c){h.call(this,a,b,c);}function k(a,b){m.call(this,new c(a,b,!1));}h=a(828);m=a(829);f=a(104).zub;g=a(104).dyb;c.prototype=Object.create(h.prototype);c.prototype.Ga=function(){return Math.floor(8 * f(this.kd) / this.Xc);};c.prototype.Xh=function(){return Math.floor(64 * g(this.kd) / (this.Xc * this.Xc));};c.prototype.get=function(){return {Ga:this.Ga(),Xh:this.Xh(),I1b:this.kd.length};};c.prototype.toString=function(){return "bsw(" + this.DH + "," + this.Xc + "," + this.Qi + ")";};k.prototype=Object.create(m.prototype);k.prototype.setInterval=function(a){this.QG.setInterval(a);};d.W=k;},function(d){function b(a,b,d){this.DH=a;this.Qi=Math.floor((a + b - 1) / b);this.Xc=b;this.Keb=d;this.reset();}b.prototype.shift=function(){this.kd.shift();this.hh.shift();};b.prototype.update=function(a,b){this.kd[a]+=b;};b.prototype.push=function(a){this.kd.push(0);this.hh.push(a?a:0);this.$a+=this.Xc;};b.prototype.add=function(a,b,d,h){var c,f;if(null === this.$a){c=Math.max(Math.floor((d - b + this.Xc - 1) / this.Xc),1);for(this.$a=b;this.kd.length < c;){this.push(h);}}for(;this.$a < d;){if((this.push(h),this.Keb))for(;1 < this.kd.length && d + h - (this.$a - this.Xc * this.kd.length + this.hh[0]) > this.DH;){this.shift();}else this.kd.length > this.Qi && this.shift();}if(b > this.$a - this.Xc)this.update(this.kd.length - 1,a);else if(b == d)(h=this.kd.length - Math.max(Math.ceil((this.$a - d) / this.Xc),1),0 <= h && this.update(h,a));else for(h=1;h <= this.kd.length;++h){c=this.$a - h * this.Xc;f=c + this.Xc;if(!(c > d)){if(f < b)break;this.update(this.kd.length - h,Math.round(a * (Math.min(f,d) - Math.max(c,b)) / (d - b)));}}for(;this.kd.length > this.Qi;){this.shift();}};b.prototype.reset=function(){this.kd=[];this.hh=[];this.$a=null;};b.prototype.setInterval=function(a){this.Qi=Math.floor((a + this.Xc - 1) / this.Xc);};d.W=b;},function(d){function b(a){this.QG=a;this.de=0;this.yH=null;}b.prototype.add=function(a,b,d){null !== this.yH && b > this.yH && (this.de+=b - this.yH,this.yH=null);this.QG.add(a,b - this.de,d - this.de,this.de);};b.prototype.stop=function(a){null === this.yH && (this.yH=a);};b.prototype.Boa=function(a,b){return this.QG.Boa(a,b);};b.prototype.get=function(){return this.QG.get();};b.prototype.reset=function(){this.QG.reset();};b.prototype.toString=function(){return this.QG.toString();};d.W=b;},function(d,b,a){var k,h,m,f,g,l,u,t,x,z;function c(a){this.Cbb=a;}b=a(379);k=b.B5a;h=b.z5a;m=a(231).A5a;f=a(231).oab;g=a(380);l=a(381);u=a(382).OCa;t=a(831);x=a(832);z=a(383);c.prototype.constructor=c;c.prototype.create=function(a,b){var c,d,q,B;d=this.Cbb[a];q=b[a];B={};d && Object.keys(d).forEach(function(a){B[a]=d[a];});q && Object.keys(q).forEach(function(a){B[a]=q[a];});switch(B.type){case "slidingwindow":c=new m(B.mw);break;case "discontiguous-ewma":c=new h(B.mw);break;case "wssl":c=new f(B.mw,B.max_n);break;case "iqr":c=new g(B.mx,B.mn,B.bw,B.iv);break;case "tdigest":c=new l(B);break;case "discrete-ewma":c=new k(B.hl);break;case "tdigest-history":c=new u(B);break;case "iqr-history":c=new t(B);break;case "avtp":c=new z();break;case "entropy":c=new x(B);}c && (c.type=B.type);return c;};d.W=c;},function(d,b,a){var k;function c(){this.Oi=void 0;this.cz=0;}k=a(8);c.prototype.cd=function(){return 0 !== this.cz && this.Oi?{p25:this.Oi.wk,p50:this.Oi.bj,p75:this.Oi.xk,c:this.cz}:null;};c.prototype.ne=function(a){if(!(!k.Xa(a) && k.has(a,"p25") && k.has(a,"p50") && k.has(a,"p75") && k.has(a,"c") && k.isFinite(a.p25) && k.isFinite(a.p50) && k.isFinite(a.p75) && k.isFinite(a.c)))return (this.Oi=void 0,this.cz=0,!1);this.Oi={wk:a.p25,bj:a.p50,xk:a.p75};this.cz=a.c;};c.prototype.get=function(){return {w3:this.Oi,Wpa:this.cz};};c.prototype.set=function(a,b){this.Oi=a;this.cz=b;};c.prototype.reset=function(){this.Oi=void 0;this.cz=0;};c.prototype.toString=function(){return "IQRHist(" + this.Oi + "," + this.cz + ")";};d.W=c;},function(d,b,a){var k;function c(a){var b,c;b=a.sw;c=a.mw;this.CH=b;this.hba={uhd:a.uhdl,hd:a.hdl};this.Qi=Math.max(Math.ceil(1 * b / c),1);this.odb=a.mins || 1;k.call(this,b,c);this.reset();}k=a(140);new (a(3).Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.flush=function(){this.kd.map(function(a,b){this.iHa(a,this.gia(b));},this);};c.prototype.Bjb=function(){var a,b,c,d,l,k,g,B;a=this.hba;for(b in a){if(a.hasOwnProperty(b)){c=a[b];d=this.Uca[b];l=this.Tca[b];if(d.first){k=d.first;g=d.LE;void 0 !== g && (l[k][g]+=1);d.first=void 0;}for(var d=[],k=0,c=g=c.length + 1,x=0;x < g;x++){for(var z=0,y=0;y < c;y++){z+=l[y][x];}k+=z;d.push(z);}z=-1;if(k > this.odb){for(x=z=0;x < g;x++){if(0 < d[x])for(y=0;y < c;y++){B=l[y][x];0 < B && (z-=B * Math.log(1 * B / d[x]));}}z/=k * Math.log(2);}this.Hba[b]=z;}}return this.Hba;};c.prototype.iHa=function(a,b){var c,k,m;for(var c=this.Qi,d=this.hba;this.jX.length >= c;){this.jX.shift();}for(;this.kX.length >= c;){this.kX.shift();}this.jX.push(a);this.kX.push(b);a=this.jX.reduce(function(a,b){return a + b;},0);b=this.kX.reduce(function(a,b){return a + b;},0);if(0 < b){a=8 * a / b;for(var h in d){if(d.hasOwnProperty(h)){b=this.Uca[h];c=this.Tca[h];k=this.AKb(a,d[h]);m=b.LE;void 0 !== m?c[k][m]+=1:b.first=k;b.LE=k;}}}};c.prototype.AKb=function(a,b){for(var c=0;c < b.length && a > b[c];){c+=1;}return c;};c.prototype.shift=function(){this.iHa(this.kd[0],this.gia(0));k.prototype.shift.call(this);};c.prototype.reset=function(){var a,b;this.Uca={};this.jX=[];this.kX=[];this.Tca={};this.Hba={};a=this.hba;for(b in a){if(a.hasOwnProperty(b)){for(var c=this.Tca,d=b,l,g=void 0,t=Array(g),g=l=a[b].length + 1,x=0;x < g;x++){t[x]=Array(l);for(var z=0;z < l;z++){t[x][z]=0;}}c[d]=t;this.Uca[b]={first:void 0,LE:void 0};this.Hba[b]=0;}}k.prototype.reset.call(this);};d.W=c;},function(d,b,a){var k,h;function c(a){this.H=a;this.QN();}k=a(8);h=a(3);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.cd();h.storage.set("nh",a);};c.prototype.pQb=function(){this.IC || (this.IC=!0,this.Pv=h.time.da());};c.prototype.BQb=function(){var a;if(this.IC){a=h.time.da();this.Vv+=a - this.Pv;this.Pv=a;this.IC=!1;this.PN=null;}};c.prototype.XQa=function(a,b){this.IC && (b > this.Pv && (this.Vv+=b - this.Pv,this.Pv=b),null === this.PN || a > this.PN) && (a=b - a,this.bH.push([this.Vv - a,a]),this.Ifb(),this.PN=b);};c.prototype.Ifb=function(){var a;a=this.Vv - this.H.FFb;this.bH=this.bH.filter(function(b){return b[0] > a;});};c.prototype.QN=function(){var a;a=h.storage.get("nh");this.Mca(a) || (this.Pv=h.time.da(),this.Vv=0,this.IC=!1,this.PN=null,this.bH=[]);};c.prototype.Mca=function(a){if(!(a && k.has(a,"t") && k.has(a,"s") && k.has(a,"i") && k.pa(a.t) && k.pa(a.s) && k.isArray(a.i)))return !1;this.Pv=h.time.vna(1E3 * a.t);this.Vv=1E3 * a.s;this.IC=!1;this.bH=a.i.map(function(a){return [1E3 * a[0],a[1]];});this.PN=null;return !0;};c.prototype.cd=function(){return this.IC?{t:h.time.now() / 1E3 | 0,s:(this.Vv + (h.time.da() - this.Pv)) / 1E3 | 0,i:this.bH.map(function(a){return [a[0] / 1E3 | 0,a[1]];})}:{t:h.time.$ma(this.Pv) / 1E3 | 0,s:this.Vv / 1E3 | 0,i:this.bH.map(function(a){return [a[0] / 1E3 | 0,a[1]];})};};d.W=c;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;c=a(835);new (a(3).Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");d=(function(){var x00;x00=2;for(;x00 !== 7;){switch(x00){case 2:a.prototype.reset=function(){var z00;z00=2;for(;z00 !== 1;){switch(z00){case 2:this.fB=new c.kua();z00=1;break;}}};a.prototype.UE=function(a,b){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:b.ue && (this.xka?this.fB.start(a,b.ue):1 === b.type && (this.Lw[b.ue]?this.Lw[b.ue].ZT+=1:this.Lw[b.ue]={ue:b.ue,ZT:1,D_:!1},this.d1a(a)));A00=1;break;}}};a.prototype.WE=function(a,b){var B00,c;B00=2;for(;B00 !== 9;){switch(B00){case 7:B00=b.ue?4:1;break;B00=b.ue?1:9;break;case 1:B00=this.xka?5:4;break;case 4:c=this.Lw[b.ue];1 === b.type && c && (--c.ZT,0 === c.ZT && (c.D_ && this.fB.stop(a,b.ue),c.D_=!1,delete this.Lw[b.ue]),this.d1a(a));B00=9;break;case 2:B00=b.ue?1:9;break;case 5:this.fB.stop(a,b.ue);B00=9;break;}}};a.prototype.lz=function(a,b,c,d){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:d.ue && (this.xka?this.fB.add(a,b,c,d.ue):this.CO === d.ue && this.fB.add(a,b,c,d.ue));C00=1;break;}}};x00=3;break;case 3:a.prototype.Zm=function(){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return this.fB.get();break;}}};a.prototype.d1a=function(a){var E00,b,c;E00=2;for(;E00 !== 5;){switch(E00){case 2:(b=Object.keys(this.Lw),c=this.Lw[b[0]]);1 === b.length && !1 === c.D_?(this.fB.start(a,c.ue),this.CO=c.ue):1 < b.length && this.CO && (b=this.Lw[this.CO],this.fB.stop(a,this.CO),b.D_=!1,this.CO=void 0);E00=5;break;}}};return a;break;}}function a(a){var y00;y00=2;for(;y00 !== 4;){switch(y00){case 2:var k8e="1";k8e+="SI";k8e+="YbZ";k8e+="rNJCp9";this.xka=a;this.Lw={};k8e;y00=4;break;}}}})();b.Sva=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kua=void 0;c=a(383);d=(function(){var F00;F00=2;for(;F00 !== 9;){switch(F00){case 2:a.prototype.add=function(a,b,f,d){var H00,h;H00=2;for(;H00 !== 4;){switch(H00){case 2:h=this.PX;void 0 === h[d] && (h[d]=new c());h[d].add(a,b,f);H00=4;break;}}};a.prototype.start=function(a,b){var I00,f;I00=2;for(;I00 !== 4;){switch(I00){case 2:f=this.PX;void 0 === f[b] && (f[b]=new c());f[b].start(a);I00=4;break;}}};a.prototype.stop=function(a,b){var J00,c;J00=2;for(;J00 !== 5;){switch(J00){case 2:c=this.PX;void 0 !== c[b] && c[b].stop(a);J00=5;break;}}};F00=4;break;case 4:a.prototype.get=function(){var K00,l,k,a,b,c,d;K00=2;for(;K00 !== 8;){switch(K00){case 1:K00=d < b.length?5:9;break;case 5:(l=b[d],k=a[l].get());k && c.push({cdnid:l,avtp:k.Ga,tm:k.ZZ});K00=3;break;case 2:(a=this.PX,b=Object.keys(a),c=[],d=0);K00=1;break;case 3:d++;K00=1;break;case 9:return c;break;}}};return a;break;}}function a(){var G00;G00=2;for(;G00 !== 5;){switch(G00){case 2:var l8e="1S";l8e+="IYb";l8e+="Zr";l8e+="NJCp9";this.PX={};l8e;G00=5;break;}}}})();b.kua=d;},function(d,b,a){var c,k,h,m,f,g,l,u,t,x,z,y,B,n,I,E,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ixa=void 0;c=a(0);k=a(8);h=a(24);d=a(16);m=a(837);f=a(3);g=f.Promise;l=a(232);u=a(228);t=a(230);x=a(838);z=a(384);y=a(5);B=a(841);n=a(956);I=new f.Console("ASEJS","media|asejs");E=I.trace.bind(I);p=I.warn.bind(I);d=(function(b){function d(c,f){var M00,d;M00=2;for(;M00 !== 13;){switch(M00){case 9:d.LN=!1;d.OFa=!1;M00=7;break;case 2:var f8e="D";f8e+="E";f8e+="B";f8e+="UG";f8e+=":";var E8e="nf-ase v";E8e+="er";E8e+="sion:";d=b.call(this) || this;d.config=c;d.ay=f;c=a(426);E(E8e,c,f8e,!1);M00=9;break;case 7:d.EC=[];M00=6;break;case 6:var B8e="1SIYbZ";B8e+="r";B8e+="NJC";B8e+="p9";B8e;return d;break;}}}var L00;L00=2;for(;L00 !== 30;){switch(L00){case 14:Object.defineProperties(d.prototype,{nka:{get:function(){var V00;V00=2;for(;V00 !== 1;){switch(V00){case 4:return this.OFa;break;V00=1;break;case 2:return this.OFa;break;}}},enumerable:!1,configurable:!0}});d.prototype.Ib=function(a,b,c,f,d,h){var W00,l,g;W00=2;for(;W00 !== 11;){switch(W00){case 14:W00=g.HL || g.O5?13:12;break;case 5:0 < g.So && (!k.X(a) && a > g.So && (a=g.So),b > g.So && (b=g.So));k.X(a) && (this.wGa=b);this.qO=f;W00=9;break;case 2:(l=this,g=this.config);u.NF.reset();W00=5;break;case 9:this.sGa=d;m(g);this.ZW=u.NF.UOa(g,this.ay);this.Jca=new x(g);W00=14;break;case 13:var v8e="me";v8e+="dia";v8e+="c";v8e+="ach";v8e+="e";var S8e="cacheE";S8e+="vic";S8e+="t";var F8e="fl";F8e+="ushe";F8e+="dBy";F8e+="tes";var O8e="d";O8e+="iscard";O8e+="e";O8e+="dByt";O8e+="es";var N8e="pr";N8e+="eb";N8e+="uffs";N8e+="tat";N8e+="s";(b=new n.Dwa(this,g,c,h),a=function(a){var X00;X00=2;for(;X00 !== 1;){switch(X00){case 2:l.emit(a.type,a);X00=1;break;}}},b.addListener(N8e,a),b.addListener(O8e,a),b.addListener(F8e,a),b.addListener(S8e,a),(g.msa || g.kB) && b.addListener(v8e,function(a){var Y00;Y00=2;for(;Y00 !== 1;){switch(Y00){case 2:var n8e="media";n8e+="cac";n8e+="he";l.emit(n8e,a);Y00=1;break;}}}),this.Gh=b);W00=12;break;case 12:this.LN=!0;W00=11;break;}}};d.prototype.aT=function(a,b,c){var Z00;Z00=2;for(;Z00 !== 4;){switch(Z00){case 2:this.wGa=a;this.qO=b || 0;this.sGa=c || 0;Z00=4;break;}}};d.prototype.z3=function(){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:this.OFa=!0;a10=1;break;case 4:this.OFa=+3;a10=2;break;a10=1;break;}}};d.prototype.Tm=function(a,b,c,d,l,m,g,q,t,u){var b10;b10=2;for(;b10 !== 4;){switch(b10){case 1:return (q=q || this.config,this.qb.reset(),this.kn.pQb(),this.Jca.reset(),void 0 === m && (m=this.d0(a,b)),k.X(this.qO) && (f.$l()[h.Sa.VIDEO] <= q.ZEb?this.qO=0:this.qO=q.IS),a=new B.hCa(this,a,u,b,c,d,l,m,g,q,t),this.EC.push(a),a);break;case 2:b10=this.LN?1:5;break;case 5:var R8e="ope";R8e+="n:";R8e+=" streamingManager";R8e+=" not";R8e+=" initted";p(R8e);b10=4;break;}}};d.prototype.kR=function(a,b){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return this.Gh && (a=this.Gh.kR(a,b))?a:!1;break;}}};L00=19;break;case 19:d.prototype.$la=function(a){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:return this.Gh && (a=this.Gh.ySa(a))?a:!1;break;}}};d.prototype.iE=function(){var e10;e10=2;for(;e10 !== 1;){switch(e10){case 2:return this.Gh?this.Gh.iE():g.resolve([]);break;}}};d.prototype.Oeb=function(a){var f10,b;f10=2;for(;f10 !== 4;){switch(f10){case 9:this.qb.$S(1);f10=4;break;f10=1;break;case 2:this.qb.$S(null);f10=1;break;case 1:var c8e="ca";c8e+="n't";c8e+=" ";c8e+="find session in array,";c8e+=" movieId:";b=this.EC.indexOf(a);k.X(b)?p(c8e,a.Rd.O.u):(this.EC.splice(b,1),0 === this.EC.length && this.kn.BQb(),this.kn.save(),this.Of.save());f10=4;break;}}};d.prototype.CZa=function(){};L00=15;break;case 15:d.prototype.d0=function(a,b,c){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:return l.MOa(a,b,c);break;}}};d.prototype.gPa=function(){var h10;h10=2;for(;h10 !== 4;){switch(h10){case 1:return this.qb.oub();break;case 5:var e8e="getSessionStatistics: ";e8e+="StreamingM";e8e+="anager not initted";p(e8e);h10=4;break;case 2:h10=this.LN?1:5;break;}}};d.prototype.BJa=function(a){var i10,b;i10=2;for(;i10 !== 3;){switch(i10){case 5:b.save();this.qb && this.qb.reset();i10=3;break;case 2:b=this.Of || new t(this.config,this.ay);b.zMa(a);i10=5;break;}}};d.prototype.aZ=function(a,b){var j10;j10=2;for(;j10 !== 1;){switch(j10){case 2:var d1e="ca";d1e+="t";d1e+="c";d1e+="h";this.Gh && (a=this.Gh.LJb(this,a),k.X(b) || a.then(b),a[d1e](function(a){var k10;k10=2;for(;k10 !== 1;){switch(k10){case 4:E("",a);k10=5;break;k10=1;break;case 2:var r1e="cachePrep";r1e+="are caught error";r1e+=":";E(r1e,a);k10=1;break;}}}));j10=1;break;}}};L00=24;break;case 4:Object.defineProperties(d.prototype,{xq:{get:function(){var P00;P00=2;for(;P00 !== 1;){switch(P00){case 2:return this.Jca;break;case 4:return this.Jca;break;P00=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$A:{get:function(){var Q00;Q00=2;for(;Q00 !== 1;){switch(Q00){case 4:return this.qO;break;Q00=1;break;case 2:return this.qO;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jla:{get:function(){var R00;R00=2;for(;R00 !== 1;){switch(R00){case 2:return !k.X(this.wGa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gF:{get:function(){var S00;S00=2;for(;S00 !== 1;){switch(S00){case 2:return this.sGa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{af:{get:function(){var T00;T00=2;for(;T00 !== 1;){switch(T00){case 2:return this.Gh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Of:{get:function(){var U00;U00=2;for(;U00 !== 1;){switch(U00){case 2:return this.ZW.Of;break;case 4:return this.ZW.Of;break;U00=1;break;}}},enumerable:!1,configurable:!0}});L00=14;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{qb:{get:function(){var N00;N00=2;for(;N00 !== 1;){switch(N00){case 2:return this.ZW.qb;break;case 4:return this.ZW.qb;break;N00=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kn:{get:function(){var O00;O00=2;for(;O00 !== 1;){switch(O00){case 2:return this.ZW.kn;break;case 4:return this.ZW.kn;break;O00=1;break;}}},enumerable:!1,configurable:!0}});L00=4;break;case 24:d.prototype.dP=function(){var l10,a;l10=2;for(;l10 !== 5;){switch(l10){case 2:null === (a=this.Gh) || void 0 === a?void 0:a.flush();l10=5;break;}}};d.prototype.Gea=function(){var m10,a;m10=2;for(;m10 !== 5;){switch(m10){case 2:null === (a=this.Gh) || void 0 === a?void 0:a.hNa();m10=5;break;}}};d.prototype.eP=function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 4:return this.Gh?this.Gh.list():[];break;n10=1;break;case 2:return this.Gh?this.Gh.list():[];break;}}};L00=21;break;case 21:d.prototype.YIa=function(a){var o10,b;o10=2;for(;o10 !== 5;){switch(o10){case 2:null === (b=this.Gh) || void 0 === b?void 0:b.Aqa(a);o10=5;break;}}};d.prototype.rw=function(){var q10,a;q10=2;for(;q10 !== 5;){switch(q10){case 2:null === (a=this.Gh) || void 0 === a?void 0:a.Upb();q10=5;break;}}};d.prototype.XIa=function(){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 4:return this.Gh?this.Gh.j4():1;break;r10=1;break;case 2:return this.Gh?this.Gh.j4():null;break;}}};d.prototype.iZa=function(){var s10,a;s10=2;for(;s10 !== 3;){switch(s10){case 2:s10=this.LN?1:4;break;case 1:a=new z.rV(this.xq.Tv,this.config,I);s10=5;break;case 4:var h1e="se";h1e+="ssionHistory";h1e+="Report: ase-manager n";h1e+="ot ini";h1e+="tted";p(h1e);s10=3;break;case 5:return {OH:a.qIa,$4b:a.rIa,f6b:a.mOb};break;case 14:p("");s10=7;break;s10=3;break;}}};d.prototype.Qb=function(){var t10;t10=2;for(;t10 !== 6;){switch(t10){case 8:delete this.Gh;u.NF.reset();t10=6;break;case 2:var A1e="A";A1e+="ttempted ";A1e+="to destruct Manager befo";A1e+="re a";A1e+="ll Sessions removed";y.assert(0 === this.EC.length,A1e);this.LN=!1;delete this.ZW;delete this.Jca;delete this.ay;this.rw();t10=8;break;}}};return d;break;}}})(d.EventEmitter);b.Ixa=d;},function(d,b,a){var k,h,m,f;function c(a){var b;b=nrdp.ii.m6b.match(/android-(\d*)/);b?23 < b[1]?a.ira=!1:(b=nrdp.ii.w_b.Aw.platform.C5b.match(/(\d*)\.(\d*).(\d*)/),a.ira=b?6 < b[1] || 6 == b[1] && 1 < b[2] || 6 == b[1] && 1 == b[2] && 1 <= b[3]?!0:!1:!1):a.ira=!1;a.q5=!1;}k=a(5).assert;a(106);h=a(3);m=h.Kk;f=h.t8a;d.W=function(){var a,b,d;new h.Console("ASEJSMONKEY","media|asejs");if(!h.Kk.Rb){a=function(a){this.fdb=a;};b=f.prototype.appendBuffer;h.MediaSource.Rb || (h.MediaSource.Rb={});"undefined" !== typeof nrdp && nrdp.CHa && (c(h.MediaSource.Rb),h.MediaSource.Rb.LJa=!1,h.MediaSource.Rb.$Ta=!1);h.Kk.Rb={KK:{Dsa:!0,cC:!0,fza:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.Afb || this.Abb;},set:function(a){this.Abb=a;}});d=m.prototype.open;m.prototype.open=function(b,c,f,h,l,k,m){1 === f && (this.Afb=new a(this));return d.call(this,b,c,f,h,l,k,m);};m.prototype.DS=function(){this.tH=void 0;};f.prototype.appendBuffer=function(c){if(c instanceof ArrayBuffer)return b.call(this,c);if(c instanceof a)return this.IY(c.fdb);k(!1);};}};},function(d,b,a){var h,m;function c(){this.Ov=this.CN=this.sX=this.FX=this.oX=null;}function k(a){this.H=a;this.Tv=[];this.pp=new c();this.QN();}h=a(8);a(24);a(10);m=a(3);new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.ne=function(a){var b;b=!1;a && h.has(a,"ens") && h.has(a,"lns") && h.has(a,"fns") && h.has(a,"d") && h.has(a,"t") && (this.oX=a.ens,this.FX=a.lns,this.sX=a.fns,this.CN=a.d,this.Ov=a.t,b=!0);return b;};c.prototype.cd=function(){var a;if(h.Xa(this.oX) || h.Xa(this.FX) || h.Xa(this.sX) || h.Xa(this.CN) || h.Xa(this.Ov))return null;a={d:this.CN,t:this.Ov};a.ens=this.oX;a.lns=this.FX;a.fns=this.sX;return a;};c.prototype.get=function(){var a,b;a=this.cd();if(a){b=new Date(this.Ov);a.dateint=1E4 * b.getFullYear() + 100 * (b.getMonth() + 1) + b.getDate();a.hour=b.getHours();}return a;};k.prototype.QN=function(){var a;a=m.storage.get("sth");a && this.ne(a);};k.prototype.ne=function(a){var b,f;b=null;f=this.H;a.forEach(function(a){var f;f=new c();f.ne(a)?(b=!0,this.Tv.push(f)):h.Xa(b) && (b=!1);},this);this.Tv=this.Tv.filter(function(a){return a.CN >= f.J2;});this.Tv.sort(function(a,b){return a.Ov - b.Ov;});return h.Xa(b)?!0:b;};k.prototype.Qba=function(){var a;a=[];this.Tv.forEach(function(b){a.push(b.cd());},this);return a;};k.prototype.save=function(){var a,b,d;a=this.Qba();b=this.H;d=this.pp.cd();d && d.d >= b.J2 && (a.push(d),this.Tv.push(this.pp));a.length > b.n2 && (a=a.slice(a.length - b.n2,a.length));this.pp=new c();a && m.storage.set("sth",a);};k.prototype.reset=function(){this.pp=new c();};k.prototype.hvb=function(){return this.pp.get();};k.prototype.yxb=function(){return this.Tv.length + 1;};k.prototype.tgb=function(a){this.pp.oX=a;this.pp.Ov=m.time.da();};k.prototype.Egb=function(a){this.pp.FX=a;this.pp.Ov=m.time.da();};k.prototype.xgb=function(a,b){this.pp.sX=a;this.pp.Ov=m.time.da();this.pp.CN=b;};d.W=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cya=void 0;d=(function(){function a(a,b,d){this.Ffb=b;this.Qab=d;this.G=a;}a.prototype.Boa=function(a){a=this.hAb(a,this.Ffb) + this.Qab;return this.qH=isNaN(a)?NaN:this.Mqa(a);};a.prototype.Skb=function(a){return isNaN(this.qH)?0:this.qH > a?1:0;};a.prototype.hAb=function(a,b){var c;c=0;if(a.length !== b.length)c=NaN;else for(var d=0;d < a.length;d++){c+=a[d] * b[d];}return c;};a.prototype.Mqa=function(a){return 1 / (1 + Math.exp(-a));};return a;})();b.cya=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.SM=void 0;d=(function(){function a(a){this.Oi={};this.lca=a;this.jf=[];this.Ap=!1;this.FC=void 0;}a.prototype.CY=function(a){this.jf.length === this.lca && this.jf.shift();Array.isArray(a)?this.jf=this.jf.concat(a):this.jf.push(a);this.Ap=!0;};a.prototype.WI=function(){return this.jf.length;};a.prototype.Hea=function(){var a;a=this.jf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.jf.length:void 0;};a.prototype.fZ=function(){var a,b;a=this.jf;b=this.Hea();if(0 < a.length && "undefined" !== typeof b)return (a=a.reduce(function(a,b){return a + b * b;},0) / a.length,Math.sqrt(a - b * b));};a.prototype.fr=function(a){var b,c,d;if(this.Ap || void 0 === this.FC)(this.FC=this.jf.slice(0).sort(function(a,b){return a - b;}),this.Ap=!1);if(void 0 === this.Oi[a]){b=this.FC;c=Math.floor(a / 100 * (b.length - 1) + 1) - 1;d=(a / 100 * (b.length - 1) + 1) % 1;this.Oi[a]=c === b.length - 1?b[c]:b[c] + d * (b[c + 1] - b[c]);}return this.Oi[a];};return a;})();b.SM=d;},function(d,b,a){var c,k,h,m,f,g,l,u,t,x,z,y,B,n,I,E,p,W,r,M,D,U,ka,la,Y,Q,qa,F,ga,ba,S,Aa;Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;c=a(16);k=a(8);h=a(139);m=a(842);f=a(232);g=a(17);l=a(227);u=a(244);t=a(171);x=a(882);z=a(884);y=a(3);B=y.Promise;n=y.MediaSource;I=a(10);E=a(5);p=a(167);W=a(885);r=a(886);M=a(887);D=a(403);d=a(39);U=a(888);ka=a(889);la=a(404);Y=a(928);Q=a(415);qa=a(934);F=a(421);ga=a(952);ba=a(953);S=a(954);Aa=a(955);a=(function(){function a(a,b,f,d,h,l,k,g,q,t,B){var v10,E,L,da,n,U;v10=2;for(;v10 !== 74;){switch(v10){case 59:R=b.O;this.Aa=new Q.J6(this,this.Ya,this.G,this.Nca.bind(this),R,this.dY,this.H,this.mf,this.R,this.lQ.bind(this));t={lR:this.lR,qq:this.qq,zl:this.zl,JE:this.JE};this.ab=new F.xCa(this.G,this.Ef,this.H,this.mb.bind(this),this.R,t,this.Kb.qb,this.Ya,this.mf,this.Aa,da);v10=55;break;case 6:var T1e="b";T1e+="ran";T1e+="ching";this.Xj=this.G.trace.bind(this.G);E=new Aa.nza(this,this.G);this.Ya=E;this.nKa=new W.Bua(this.G);(L=!(!b || !b.choiceMap || T1e !== b.choiceMap.type),da=L?{TP:!1,Sp:!1}:z.wOa(t));this.TP=da.TP;this.Sp=da.Sp;v10=19;break;case 37:var y1e="m";y1e+="e";y1e+="d";y1e+="ia";y1e+="cache";this.Vf.on(this.Kb.af,y1e,function(a){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:var x1e="m";x1e+="ed";x1e+="iacach";x1e+="e";I.Pa(n,x1e,a);x10=1;break;}}});v10=36;break;case 35:this.R=new M.hta(q);this.dY=h || 0;this.iH=0;this.dba=g;v10=31;break;case 62:t=t.dzb;for(var R in t){f=t[R];t.hasOwnProperty(R) && f && (this.H[R]=f);}v10=60;break;case 60:this.Ef.bsa(this.H);v10=59;break;case 31:this.iY=!1;this.JN=void 0;this.BX=-1;this.Dca=0;v10=44;break;case 63:v10=t.Zga && this.Ef.D1?62:59;break;case 36:L && t.zI && !t.hrb && (t.set?t.set({enableAdaptiveParallelStreaming:!1}):t.zI=!1);0 === Math.floor(1E6 * Math.random()) % t.LO && (this.Xeb=new x.CBa(t));this.At=[];this.Gf=[];this.jZa=new u.xV(b,this.Kb.qb,this.Kb.Of,this.H,void 0);a=this.jZa.Fxb();v10=49;break;case 4:var z1e="media|a";z1e+="se";z1e+="js";var W1e="A";W1e+="SEJ";W1e+="S";var j1e="1SIYbZ";j1e+="rNJC";j1e+="p9";this.dA={vt:[Object.create(null),Object.create(null)]};j1e;this.G=new y.Console(W1e,z1e,"(" + k.sessionId + ")");this.gf=this.G.error.bind(this.G);this.kb=this.G.warn.bind(this.G);v10=6;break;case 75:B && this.ab.yq(B,R.la);v10=74;break;case 46:b=m.c9.create({eb:0,ta:b,ml:f,XYa:d,Mf:! !l.Mf,jRa:!1,gi:! !l.gi,T:0,qa:l.qa,Ya:this.Ya,Xp:this.UEa.bind(this),mb:this.mb.bind(this),Cb:this,config:this.H,G:this.G,mf:this.mf,rm:this.rm,af:this.JGa?this.Kb.af:void 0,dA:this.dA});b.KO=!0;this.Rc=[b];this.Ef=new qa.Vsa(this,this.G,a,this.Kb.qb,t,this.JJ(),h,this.mb.bind(this),da);v10=63;break;case 49:h=null;t.VP && (h=this.Kb.xq.Tv);p.ev.pf().reset();v10=46;break;case 26:this.H=t=this.nKa.Gab(b,t);this.NX=l.JE;this.JGa=! !l.HL;this.Ufb=! !l.O5;this.hH=l.lR;this.WX=void 0;v10=35;break;case 76:this.R.addListener(function(a){var y10,z10;y10=2;for(;y10 !== 1;){switch(y10){case 2:try{z10=2;for(;z10 !== 1;){switch(z10){case 2:U.ab.nTb.bind(U.ab)(a);z10=1;break;}}}catch(gc){var K1e="Hindsigh";K1e+="t: Erro";K1e+="r when";K1e+=" a";K1e+="dding updatePlaySegment Listener: ";a000.Y8e(1);U.Ya.jm(a000.s8e(K1e,gc));}y10=1;break;}}});v10=75;break;case 19:this.Ou=t.Ou;this.pk=new S.Nxa(this,this.G,this.mb.bind(this),da);this.Cfb=[!l.CUb,!l.w1b];this.mb(0) && this.mb(1);this.Kb=a;this.Kl=k;v10=26;break;case 55:v10=this.Sp?77:75;break;case 39:var L1e="man";L1e+="age";L1e+="rdebuge";L1e+="vent";this.Vf.on(this.Kb.af,L1e,function(a){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:I.Pa(n,a.type,a);w10=1;break;}}});v10=38;break;case 44:this.Vf=new c.Yg();this.rm=new ga.$Ba(this,this.G,this.mb.bind(this),E);this.mf=new ba.ova(this,this.G,this.mb.bind(this));this.KP=new r.nva(this,this.G,E);v10=40;break;case 2:n=this;this.Ky=new D.zBa();this.VDa=[];v10=4;break;case 77:U=this;v10=76;break;case 40:v10=t.oh && this.Kb.af?39:38;break;case 38:v10=(t.msa || t.kB) && this.Kb.af?37:36;break;}}}var u10;u10=2;for(;u10 !== 119;){switch(u10){case 32:a.prototype.eWa=function(){};a.prototype.close=function(){var p20;p20=2;for(;p20 !== 4;){switch(p20){case 2:this.jZa.Qb();this.Rc.forEach(function(a){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 2:a.close();q20=1;break;case 4:a.close();q20=4;break;q20=1;break;}}});this.pk.close();p20=4;break;}}};a.prototype.QXa=function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:this.Kb.Oeb(this);r20=1;break;}}};a.prototype.ac=function(){var s20,a;s20=2;for(;s20 !== 20;){switch(s20){case 6:this.Rc.forEach(function(a){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:a.ac();u20=1;break;}}});this.Rc=[];this.Vf.clear();a=this.ce;this.ce=void 0;s20=10;break;case 2:this.Ef.NGb();this.XW();this.Aa.Qb();s20=3;break;case 3:this.KP.Fbb();null === (a=this.Fv) || void 0 === a?void 0:a.reset();this.At.forEach(function(a){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:a.reset();t20=1;break;}}});this.R.ne(g.na.Nk);s20=6;break;case 10:var p1e="Error o";p1e+="n ";p1e+="MediaSource d";p1e+="est";p1e+="roy: ";k.X(a) || a.Op() || this.kb(p1e,a.error);s20=20;break;}}};a.prototype.suspend=function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:this.pk.suspend();v20=1;break;}}};a.prototype.resume=function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:this.pk.resume();w20=1;break;case 4:this.pk.resume();w20=0;break;w20=1;break;}}};a.prototype.Ll=function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:return this.pk.Ll();break;case 4:return this.pk.Ll();break;x20=1;break;}}};a.prototype.rfb=function(){var y20,a;y20=2;for(;y20 !== 8;){switch(y20){case 2:a=this.H;this.hz && clearTimeout(this.hz);y20=5;break;case 5:this.hz=setTimeout(this.uO.bind(this),a.L5);this.Ev || (this.Ev=setInterval(this.Ya.CFa.bind(this.Ya),a.$C));this.kY || (this.kY=setInterval(this.Ya.Wdb.bind(this.Ya),a.gra));this.qq && !this.OW && (this.OW=setInterval(this.Ya.BFa.bind(this.Ya),a.Sda));y20=8;break;}}};a.prototype.XW=function(){var z20;z20=2;for(;z20 !== 7;){switch(z20){case 5:this.kY && (clearInterval(this.kY),this.kY=void 0);this.OW && (clearInterval(this.OW),this.OW=void 0);this.JG && (clearTimeout(this.JG),this.JG=void 0);this.Fba && (clearTimeout(this.Fba),this.Fba=void 0);this.mf.XW();z20=7;break;case 2:this.hz && (clearTimeout(this.hz),this.hz=void 0);this.Ev && (clearInterval(this.Ev),this.Ev=void 0);z20=5;break;}}};a.prototype.play=function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:this.pk.play();A20=1;break;}}};u10=39;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wEb:{get:function(){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:return this.ce.Rb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ep:{get:function(){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:return this.mb(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zl:{get:function(){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 4:return this.mb(4);break;E10=1;break;case 2:return this.mb(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var F10;F10=2;for(;F10 !== 1;){switch(F10){case 2:return this.dba;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ag:{get:function(){var G10;G10=2;for(;G10 !== 1;){switch(G10){case 2:return this.Vf;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sS:{get:function(){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 4:return 1 >= this.BX?this.BX:2;break;H10=1;break;case 2:return 0 <= this.BX?this.BX:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rd:{get:function(){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 4:return this.Rc[this.iH];break;I10=1;break;case 2:return this.Rc[this.iH];break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xq:{get:function(){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:return this.Kb.xq;break;case 4:return this.Kb.xq;break;J10=1;break;}}},enumerable:!1,configurable:!0}});u10=13;break;case 59:a.prototype.r_=function(a,b){var e30,c,f,f30;e30=2;for(;e30 !== 6;){switch(e30){case 2:c=this.ab;a=c.Dha(a,b);f=this.Ef.Voa;a && !a.HH && f.rha(a);e30=3;break;case 9:c.Fpa();e30=6;break;case 3:e30=b?9:8;break;case 8:b=f.Rub();try{f30=2;for(;f30 !== 1;){switch(f30){case 2:this.Ya.Edb(b);f30=1;break;}}}catch(Za){var o1e="]";o1e+=" ";o1e+="[";var u1e="exception:";u1e+=" ";u1e+="[";this.G.error(u1e + Za.message + o1e + Za.n6b + "]");}e30=6;break;}}};a.prototype.dJa=function(a,b,c,f){var g30;g30=2;for(;g30 !== 4;){switch(g30){case 2:f && (E.assert(void 0 === b),b=this.v0(f));a000.Y8e(2);E.assert(a000.s8e(0,b));return this.Rc[b].Rjb(a,c || !1);break;}}};a.prototype.Wt=function(a,b,c){var h30,f;h30=2;for(;h30 !== 8;){switch(h30){case 2:c && (E.assert(void 0 === a),a=this.v0(c),E.assert(void 0 !== a));h30=1;break;case 1:void 0 === a && (a=this.sS);(c=this.Aa.Xsb(b,a))?f=c.fe:(c=this.Aa.Eha(a),0 < c.length && (c=c[0],f=c.fe));k.pa(f) || (f=this.Rc[a].pu);a000.Y8e(3);return a000.G8e(f,b);break;}}};a.prototype.sP=function(a,b,c){var i30,f;i30=2;for(;i30 !== 8;){switch(i30){case 5:void 0 === a && (a=this.sS);(c=this.Aa.Wsb(b,a))?f=c.fe:(c=this.Aa.Eha(a),0 < c.length && (c=c[0],f=c.fe));i30=3;break;case 3:k.pa(f) || (f=this.Rc[a].pu);a000.w8e(1);return a000.G8e(b,f);break;case 2:c && (E.assert(void 0 === a),a=this.v0(c),E.assert(void 0 !== a));i30=5;break;}}};a.prototype.uH=function(){var j30,a;j30=2;for(;j30 !== 4;){switch(j30){case 1:j30=a || this.ab.kw?5:4;break;case 2:a=this.R.Qg();j30=1;break;case 5:(a && this.Ya.sca(),this.uO(),this.R.ne(g.na.Wc),this.mf.Pi());j30=4;break;case 9:a=this.R.Qg();j30=3;break;j30=1;break;}}};a.prototype.Nca=function(){var k30,a,b;k30=2;for(;k30 !== 3;){switch(k30){case 2:(a=this,b=this.R.Qg());this.Aa.bc.P4(b,function(b){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:return a.Gf[b]?a.Gf[b].M4():"";break;}}});this.JG && (clearTimeout(this.JG),this.JG=void 0);this.Fv.LDb();k30=3;break;}}};a.prototype.oGa=function(a){var m30,n30,b;m30=2;for(;m30 !== 7;){switch(m30){case 9:m30=this.Sp && 1 === a.I?8:7;break;case 8:try{n30=2;for(;n30 !== 1;){switch(n30){case 2:this.r_(g.na.Bv,{qa:a.Vb});n30=1;break;}}}catch(ia){var U1e="Hindsigh";U1e+="t: Error";U1e+=" evaluating QoE a";U1e+="t endOfStream";U1e+=": ";a000.Y8e(1);this.Ya.jm(a000.s8e(U1e,ia));}m30=7;break;case 2:a.Xg=!0;a.Ln=!1;b=this.R.Ud() || 0;a.XH(b);this.ab.Gv();m30=9;break;}}};a.prototype.Seb=function(){var o30,a;o30=2;for(;o30 !== 5;){switch(o30){case 2:a=this.Kb.qb;a && (a=a.get()) && a.avtp && this.xq.tgb({avtp:a.avtp.Ga});o30=5;break;}}};a.prototype.wfb=function(){var p30,a,b,c;p30=2;for(;p30 !== 4;){switch(p30){case 2:var q1e="startup, playerS";q1e+="t";q1e+="ate no longer STARTING:";var Q1e="failed to start a";Q1e+="udio ";Q1e+="pipeline";var D1e="failed to start";D1e+=" video pipe";D1e+="line";this.R.ne(g.na.bh);(a=this.Aa.bc,b=a.bd(0),c=a.bd(1));this.zl && !this.tGa(c)?this.kb(D1e):this.Ep && !this.tGa(b)?this.kb(Q1e):(this.NFa=!0,this.Rc[0].O.Z0=!0,b=this.ab.Te[1],c=this.ab.Te[0],(b && 0 < b.cs || c && 0 < c.cs) && this.Ya.Cdb(String(a.O.u),c?c.cs:0,b?b.cs:0,c?c.nS:0,b?b.nS:0),this.R.xRa()?(this.cY(0),this.Ep && (a=this.Rd.m0(0),b=this.Rd.Ho(0).jb,this.Ya.Fdb(a,b))):this.kb(q1e,this.R.cd()));p30=4;break;}}};a.prototype.tGa=function(a){var q30,b,c;q30=2;for(;q30 !== 14;){switch(q30){case 2:(b=a.I,c=this.ab.wxb(a));q30=1;break;case 1:q30=k.X(c)?5:4;break;case 4:a=a.track.gd[c];q30=3;break;case 5:var t1e="NFErr_M";t1e+="C_StreamingInitFail";t1e+="ure";var m1e="st";m1e+="a";m1e+="rtP";m1e+="ipeli";m1e+="ne failed";return (this.Ll() || this.eo(m1e,a.yc.O.eb,t1e),!1);break;case 9:return !0;break;case 8:c=this.Rd.O;a.O.xKa(a,{offset:0,Iz:!c.Me.Mf && !c.gi && 1 === b,cu:!this.ab.Te[b].ttb});return !0;break;case 3:q30=a.Hj()?9:8;break;}}};u10=72;break;case 94:a.prototype.zcb=function(a,b){var u40;u40=2;for(;u40 !== 5;){switch(u40){case 2:b=f.NOa(b);this.dba[a.I]=b;u40=5;break;}}};Object.defineProperties(a.prototype,{kw:{set:function(a){var v40;v40=2;for(;v40 !== 1;){switch(v40){case 2:this.ab.kw=a;v40=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.v0=function(a){var w40,b;w40=2;for(;w40 !== 4;){switch(w40){case 2:this.Rc.some(function(c){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 2:return c.O.ml === a?(b=c.O.eb,!0):!1;break;}}});return b;break;}}};return a;break;case 13:Object.defineProperties(a.prototype,{qq:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:return this.Xeb;break;case 4:return this.Xeb;break;K10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lR:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 4:return this.hH;break;L10=1;break;case 2:return this.hH;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JE:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 4:return this.NX;break;M10=1;break;case 2:return this.NX;break;}}},enumerable:!1,configurable:!0}});a.prototype.mb=function(a){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 4:return this.Cfb[a];break;N10=1;break;case 2:return this.Cfb[a];break;}}};a.prototype.lQ=function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 2:return y.time.da() - this.kba;break;case 4:return y.time.da() % this.kba;break;O10=1;break;}}};a.prototype.LOa=function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return (this.Rc || []).reduce(function(a,b){var Q10,c;Q10=2;for(;Q10 !== 4;){switch(Q10){case 2:c=b.O;l.We.forEach(function(b){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:c.Rr[b] > a[b] && (a[b]=c.Rr[b]);R10=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.JJ=function(){var S10,a;S10=2;for(;S10 !== 4;){switch(S10){case 2:a=0;k.forEach(this.Rd.O.ta.audio_tracks,function(b){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:k.forEach(b.streams,function(b){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:a=Math.max(a,b.bitrate);U10=1;break;}}});T10=1;break;}}});return a;break;}}};a.prototype.sg=function(a){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.Rc[a];break;}}};a.prototype.Yvb=function(){var W10,a;W10=2;for(;W10 !== 5;){switch(W10){case 2:a=this.Rc[0];W10=1;break;case 1:return a.O.Me.Mf?this.Rc[1]:a;break;}}};a.prototype.TI=function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.Rc.length;break;case 4:return this.Rc.length;break;X10=1;break;}}};u10=27;break;case 27:a.prototype.Rka=function(a,b){var Y10;Y10=2;for(;Y10 !== 9;){switch(Y10){case 2:Y10=a === b?1:5;break;case 1:return !0;break;case 5:a=this.Rc[a];b=this.Rc[b];Y10=3;break;case 6:return ~5;break;Y10=5;break;case 7:Y10=a == b?7:9;break;Y10=a === b?1:5;break;case 3:return a.O.Me.Mf && b.O.Me.wR || b.O.Me.Mf && a.O.Me.wR;break;}}};a.prototype.i0=function(a){var Z10;Z10=2;for(;Z10 !== 5;){switch(Z10){case 2:Z10=(a=this.Aa.ej.children[a])?1:5;break;case 1:return {id:a.ca.id,fe:a.fe,dd:a.roa,le:a.le,Wb:a.F4,Vb:a.Vb};break;}}};a.prototype.Xw=function(){var a20,a;a20=2;for(;a20 !== 5;){switch(a20){case 2:a=this.Aa.ej;return {id:a.ca.id,fe:a.fe,dd:a.roa,le:a.le,Wb:a.F4,Vb:a.Vb};break;}}};a.prototype.RT=function(a,b){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return this.Aa.RT(a,b);break;}}};a.prototype.open=function(){var c20,q,m,g,a,b,c,f,d,h,l;c20=2;for(;c20 !== 33;){switch(c20){case 24:this.Ya.DFa(c);q=function(){var i20;i20=2;for(;i20 !== 5;){switch(i20){case 2:var G1e="sh";G1e+="utdown detected before startRe";G1e+="quests";a.Ya.Ldb();a.Ll()?a.kb(G1e):a.wfb();i20=5;break;}}};b.Bpb?setTimeout(function(){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:a.fEa(f).then(q);j20=1;break;}}},0):this.fEa(f).then(function(){var k20;k20=2;for(;k20 !== 1;){switch(k20){case 2:setTimeout(q,0);k20=1;break;}}});c20=21;break;case 19:g.Rb || (g.Rb=n.Rb);this.ce=g;c20=17;break;case 14:var Y1e="c";Y1e+="re";Y1e+="ateMediaS";Y1e+="ourceStar";Y1e+="t";m=this.KP.tbb(h,c);h.forEach(function(b,c){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:var s1e="hea";s1e+="d";s1e+="ers";s1e === b?a.JN=m[c]:a.ab.Te[b].Sg=m[c];d20=1;break;}}});this.Ya.vj(Y1e);g=new n(this.R.gD);c20=10;break;case 15:g.sourceBuffers.forEach(function(c){var e20,f,d;e20=2;for(;e20 !== 13;){switch(e20){case 3:var J1e="e";J1e+="r";J1e+="r";J1e+="o";J1e+="r";var w1e="reque";w1e+="stAppen";w1e+="ded";c.addListener(w1e,a.ycb.bind(a));c.addListener(J1e,function(b){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:var g1e="NFE";g1e+="rr_MC_S";g1e+="tr";g1e+="eamin";g1e+="gFailure";a.eo(b.errorstr,void 0,g1e);f20=1;break;}}});e20=8;break;case 14:a.At[f]=d;e20=13;break;case 2:var i1e="heade";i1e+="rA";i1e+="ppended";(f=c.I,d=a.ab.Te[f]);c=new t.K6(d.G,f,g,c,b,a.R,a.sg.bind(a));d=new Y.Dxa(c,f,a.Aa,a.H,d.G);c.addListener(i1e,a.vcb.bind(a));e20=3;break;case 8:var H1e="manager";H1e+="de";H1e+="b";H1e+="ugevent";var b1e="l";b1e+="o";b1e+="g";b1e+="d";b1e+="ata";c.addListener(b1e,function(b){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 2:I.Pa(a,b.type,b);g20=1;break;case 4:I.Pa(a,b.type,b);g20=7;break;g20=1;break;}}});b.oh && c.addListener(H1e,function(b){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:I.Pa(a,b.type,b);h20=1;break;case 4:I.Pa(a,b.type,b);h20=2;break;h20=1;break;}}});a.Gf[f]=c;e20=14;break;}}});this.Fv=new U.JAa(this.At,this.uH.bind(this),this.R.Ud.bind(this.R));this.qq && this.Ya.udb();c=this.LOa();c20=24;break;case 17:c20=!g.DY(d)?16:15;break;case 20:var M1e="crea";M1e+="teMed";M1e+="iaSourceE";M1e+="n";M1e+="d";this.Ya.vj(M1e);c20=19;break;case 1:c20=!k.pa(this.dY) || 0 > this.dY?5:4;break;case 2:a=this;c20=1;break;case 16:var Z1e="E";Z1e+="rr";Z1e+="o";Z1e+="r:";throw (this.Xj(Z1e,g.error),g.error);c20=15;break;case 10:c20=1 === g.readyState?20:34;break;case 4:var a1e="h";a1e+="eade";a1e+="rs";(b=this.H,c=this.Rd.O,f=c.u,d=[],h=[a1e]);this.zl && (d.push(1),h.push(1));this.Ep && (d.push(0),h.push(0));this.KP.Fcb();l=b.dw;this.Kb.af && this.Kb.af.HO(l,this.Kl.sessionId);c20=14;break;case 21:var X1e="st";X1e+="art";X1e+="pl";X1e+="a";X1e+="y";var I1e="l";I1e+="o";I1e+="gd";I1e+="ata";c={type:I1e,target:X1e,fields:{audiogapconfig:b.SJ,audiogapdpi:this.ce.Rb && this.ce.Rb.SJ,aseApiVersion:this.IO}};this.emit(c.type,c);c20=33;break;case 5:var V1e="NFErr_M";V1e+="C_Strea";V1e+="mingInitFailure";var C1e="startPts must be a";C1e+=" p";C1e+="ositive number, not ";this.eo(C1e + this.dY,void 0,V1e);c20=33;break;case 34:var l1e="NF";l1e+="Err_MC_StreamingI";l1e+="nitFailu";l1e+="re";var k1e="exce";k1e+="ption i";k1e+="n init";var P1e="E";P1e+="r";P1e+="r";P1e+="o";P1e+="r:";(this.Xj(P1e,g.error),this.eo(k1e,void 0,l1e));c20=33;break;}}};Object.defineProperties(a.prototype,{IO:{get:function(){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:var E1e="1";E1e+=".";E1e+="0";return E1e;break;}}},enumerable:!1,configurable:!0}});a.prototype.ija=function(){};a.prototype.flush=function(){var m20;m20=2;for(;m20 !== 1;){switch(m20){case 2:this.pk.flush();m20=1;break;case 4:this.pk.flush();m20=3;break;m20=1;break;}}};a.prototype.paused=function(){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:this.R.paused();n20=1;break;}}};a.prototype.QT=function(){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 2:this.R.QT();o20=1;break;}}};u10=32;break;case 72:a.prototype.cY=function(a,b){var r30,c,f,d,h,k;r30=2;for(;r30 !== 19;){switch(r30){case 2:(c=this,f=this.H,d=this.ab.Te[0] || ({}),h=this.ab.Te[1] || ({}),k=this.ab.$x[1] || ({}));(this.ab.$x[0] || ({})).bP=void 0;r30=5;break;case 5:k.bP=void 0;this.R.ne(2 === a?g.na.ff:g.na.qd);this.Ya.zdb(b);this.Fv.reset();this.Rd.O.Gna();r30=7;break;case 7:var f1e="start";f1e+="Buff";f1e+="ering";this.emit(f1e);l.We.forEach(function(b){var s30;s30=2;for(;s30 !== 5;){switch(s30){case 1:(b.yea=0,b.seeking=0 === a || 1 === a,b.cfa());s30=5;break;case 2:s30=(b=c.Aa.bc.bd(b))?1:5;break;}}});this.kba=y.time.da();d.$j=h.$j=this.kba;0 === a && (!this.zl || 0 < h.cs) && (!this.Ep || 0 < d.cs) && this.ab.Gv();f.VP && (this.Fba=setTimeout(function(){var t30;t30=2;for(;t30 !== 1;){switch(t30){case 2:c.Seb();t30=1;break;}}},f.Uga));this.R.Qg() && (this.JG=setTimeout(function(){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:c.ab.Gv();u30=1;break;case 4:c.ab.Gv();u30=7;break;u30=1;break;}}},f.Ox));r30=20;break;case 20:this.mf.Pi();r30=19;break;}}};a.prototype.sY=function(a){var v30,b;v30=2;for(;v30 !== 3;){switch(v30){case 2:var N1e="AdoptingData sti";N1e+="ll ha";N1e+="s lock:";var B1e="w";B1e+="ipe";B1e+="HeaderCa";B1e+="che";B1e+=":";a000.w8e(1);a=a000.s8e(B1e,a);this.Ky.QC && this.gf(N1e + a);b=this.H;v30=4;break;case 4:b.vE || (b.oh && this.Ya.il(a),this.Kb.rw(),this.dh && (this.dh=void 0));v30=3;break;}}};a.prototype.fEa=function(a){function b(a,b){var x30,f,d,h,l,m,g,q;x30=2;for(;x30 !== 10;){switch(x30){case 9:q.Vp=b.Vp;x30=8;break;case 2:(f=a.I,d=b[f],h=B.resolve(void 0));x30=1;break;case 14:var O1e="adoptPipeline";O1e+=" no header for s";O1e+="treamId:";return (a.gf(O1e,l),h);break;case 8:x30=!a.uUb(l)?7:6;break;case 6:x30=!d.Yp?14:13;break;case 7:return h;break;case 13:b=c.Rd.O;x30=12;break;case 11:return h;break;case 12:b.BY(d.Yp,!b.Me.Mf && !b.gi && 1 === f,!0) && (void 0 !== a.EE && a.dF(a.EE),h=b.Hj(f,l).stream.aa.Yl(a.Yb,void 0,!0),b=m.Wi(h),m=b.T,a.Iqa() && (b=b.F_(a.Yb)) && 0 < b.Hc && (m=b.Hc),a.Yb !== m && (a.U4(m,h),c.Kca(f,m)),h=c.Aab(a,d.data).then(function(){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 4:return l;break;y30=1;break;case 2:return l;break;}}}),g.ttb=!0,0 === f && c.Ef.bL(d.Yp.S));x30=11;break;case 1:x30=d?5:11;break;case 5:(l=d.Ca,m=d.Yp.stream,g=c.ab.Te[f],q=c.ab.$x[f]);k.X(b.Hr) || c.Ef.tZa(b.Hr,b.$k,b.al);q.aq=b.aq;x30=9;break;}}}var w30,c,f,d,h;w30=2;for(;w30 !== 13;){switch(w30){case 9:return (this.Kb.Gea(),B.resolve());break;case 3:w30=!this.Ufb || !this.Kb.af?9:8;break;case 2:var F1e="Previ";F1e+="ously a";F1e+="dopt";F1e+="ed request list";F1e+=" still retained was unexpected";c=this;(null === (f=this.dh) || void 0 === f?0:f.TD()) && this.gf(F1e);this.dh=void 0;d=this.H;w30=3;break;case 8:var S1e="che";S1e+="c";S1e+="kForHcdStart";this.Ya.vj(S1e);w30=7;break;case 7:var d4e="c";d4e+="a";d4e+="t";d4e+="c";d4e+="h";this.Rc.forEach(function(b){var z30;z30=2;for(;z30 !== 1;){switch(z30){case 2:b.O.u === a && (h=b);z30=1;break;}}});return this.Kb.af.kDb(a,h?h.O:void 0).then(function(a){var A30,f,h;A30=2;for(;A30 !== 8;){switch(A30){case 4:var v1e="adop";v1e+="t";v1e+="Hc";v1e+="dStart";(f=c.Aa.bc.bd(0),h=c.Aa.bc.bd(1));c.Ya.vj(v1e);return c.Ky.j2a(function(){var B30,k,l;B30=2;for(;B30 !== 7;){switch(B30){case 5:var n1e="a";n1e+="do";n1e+="pt";n1e+="H";n1e+="cdEnd";k=B.resolve();!c.Ep || d.iQa && !l || (k=d.iQa?l.then(function(c){var C30;C30=2;for(;C30 !== 1;){switch(C30){case 2:return c?b(f,a):B.resolve();break;case 4:return c?b(f,a):B.resolve();break;C30=1;break;}}}):b(f,a));c.YEa=a;c.Ya.vj(n1e);B30=8;break;case 8:return B.all([l,k]);break;case 2:l=B.resolve();c.zl && (l=b(h,a));B30=5;break;}}});break;case 1:A30=k.X(a)?5:4;break;case 2:var R1e="ch";R1e+="eck";R1e+="ForHcd";R1e+="End";c.Ya.vj(R1e);A30=1;break;case 5:var c1e="hea";c1e+="derCacheDataNo";c1e+="tFou";c1e+="nd";return (d.dw || c.Ky.QC || c.sY(c1e),B.resolve());break;}}}).then(function(){var D30,a;D30=2;for(;D30 !== 5;){switch(D30){case 2:var e1e="adop";e1e+="tedComp";e1e+="letedRequests";d.dw || (null === (a=c.dh) || void 0 === a?0:a.TD()) || c.Ky.QC || c.sY(e1e);D30=5;break;}}})[d4e](function(a){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 4:c.kb("",a);E30=4;break;E30=1;break;case 2:var r4e="headerCache:lo";r4e+="okupDataPromis";r4e+="e caught error:";c.kb(r4e,a);E30=1;break;}}});break;}}};a.prototype.Aab=function(a,b){var F30,c,f,d,h,l,m,g;F30=2;for(;F30 !== 9;){switch(F30){case 2:c=this;F30=1;break;case 14:return B.resolve();break;F30=4;break;case 5:return B.resolve();break;case 4:(f=a.b2,d=f.ca,h=Math.min(this.Rc[0].qa || Infinity,f.Vb || Infinity),l=a.I,m=this.ab.Te[l]);return this.Ky.j2a(function(){var G30,q;G30=2;for(;G30 !== 3;){switch(G30){case 1:G30=0 < b.length?5:4;break;case 7:G30=6 <= b.length?6:6;break;G30=0 < b.length?5:4;break;case 2:q=[];G30=1;break;case 4:return B.all(q);break;case 5:f();G30=1;break;case 14:return B.all(q);break;G30=3;break;}}function f(){var H30,f;H30=2;for(;H30 !== 5;){switch(H30){case 2:var A4e="adoptData, no";A4e+="t adopting failed me";A4e+="diaRe";A4e+="quest:";var h4e="adoptData, not adop";h4e+="ting aborted m";h4e+="ediaR";h4e+="equest:";f=b.shift();7 === f.readyState?a.kb(h4e,f.toString()):6 === f.readyState?(a.kb(A4e,f.toString()),c.LC(f,!1)):a.Yb >= f.Wb && a.Yb < f.Vb && (a.Yb < h || !k.pa(h))?(q.push(c.Bab(a,f).then(function(){var I30;I30=2;for(;I30 !== 1;){switch(I30){case 4:f.complete || c.MPa(f);I30=5;break;I30=1;break;case 2:f.complete && c.MPa(f);I30=1;break;}}})),a.LOb(f.Vb),k.pa(h) && a.Yb >= h && c.Ya.tca(d,f.Vb),0 === l && c.Ef.bL(f.S),f.complete?(m.cs+=f.duration,f.QCb && (m.nS+=f.duration),g=f):(c.dh || (c.dh=new ka.Tsa(c.G)),c.dh.push(f))):c.LC(f,!1);H30=5;break;}}}}).then(function(){var J30,b,d;J30=2;for(;J30 !== 8;){switch(J30){case 2:g && a.NPa(g);J30=5;break;case 5:J30=g || (null === (b=c.dh) || void 0 === b?0:b.TD())?4:8;break;case 4:b=c.Rc[f.O.eb];d=a.Fha(a.Yb);void 0 !== d?(a.uk=d,a.$f=b.O.ug[l].stream.Wi(a.uk)):a.uk=a.wg?a.wg.index + 1:a.uk + 1;J30=8;break;}}});break;case 1:F30=0 === b.length?5:4;break;}}};a.prototype.Bab=function(a,b){var K30,c,f;K30=2;for(;K30 !== 3;){switch(K30){case 2:var j4e="c";j4e+="atc";j4e+="h";var x4e=",";x4e+=" ";x4e+="pt";x4e+="s";x4e+=": ";var y4e=", ";y4e+="s";y4e+="ta";y4e+="t";y4e+="e: ";var T4e="adopt";T4e+="Me";T4e+="di";T4e+="a";T4e+="Request: type: ";(c=this,f=a.I);this.H.oh && this.Ya.il(T4e + f + y4e + b.readyState + x4e + b.Wb);this.Kca(f,b.Wb);return a.Ra.bhb(b)[j4e](function(a){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:var W4e="Error adoptin";W4e+="g reques";W4e+="t";W4e+="s";c.gf(W4e,a);L30=1;break;}}});break;}}};a.prototype.Gca=function(a,b,c){var M30,f;M30=2;for(;M30 !== 9;){switch(M30){case 2:f=this;void 0 === b && (b=la.ZM.gea);(c || this.Aa.bc).Hpa(a,b);this.Fv.reset();(void 0 === a?l.We:[a]).forEach(function(a){var N30;N30=2;for(;N30 !== 1;){switch(N30){case 2:f.mb(a) && (f.At[a].reset(),f.dfb(a),f.Ef.$Gb(a));N30=1;break;}}});M30=9;break;}}};a.prototype.cra=function(a){var O30,b;O30=2;for(;O30 !== 5;){switch(O30){case 2:b=this;(void 0 === a?l.We:[a]).forEach(function(a){var P30,c;P30=2;for(;P30 !== 5;){switch(P30){case 2:null === (c=b.At[a]) || void 0 === c?void 0:c.stop();P30=5;break;}}});O30=5;break;}}};a.prototype.iF=function(a){var Q30,b;Q30=2;for(;Q30 !== 4;){switch(Q30){case 2:b=this;(void 0 === a?l.We:[a]).forEach(function(a){var R30,c;R30=2;for(;R30 !== 5;){switch(R30){case 2:null === (c=b.At[a]) || void 0 === c?void 0:c.resume();R30=5;break;}}});return B.resolve();break;}}};a.prototype.mO=function(a){var S30,b,c;S30=2;for(;S30 !== 3;){switch(S30){case 2:b=this;a=void 0 === a?l.We:[a];null === (c=this.Fv) || void 0 === c?void 0:c.reset();a.forEach(function(a){var T30,c;T30=2;for(;T30 !== 5;){switch(T30){case 2:null === (c=b.At[a]) || void 0 === c?void 0:c.resume();T30=5;break;}}});S30=3;break;}}};a.prototype.dfb=function(a){var U30,b;U30=2;for(;U30 !== 3;){switch(U30){case 14:b.nS=1;U30=9;break;U30=3;break;case 2:b=this.ab.Te[a];this.ab.uu[a].Cla=void 0;b.cs=0;U30=4;break;case 4:b.nS=0;U30=3;break;}}};u10=87;break;case 39:a.prototype.stop=function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:this.pk.stop();B20=1;break;case 4:this.pk.stop();B20=2;break;B20=1;break;}}};a.prototype.qs=function(a,b,c){var C20;C20=2;for(;C20 !== 5;){switch(C20){case 2:c && (E.assert(void 0 === b),b=this.v0(c));return this.rm.qs(a,b);break;}}};a.prototype.seek=function(a,b){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 4:return this.rm.seek(a,b);break;D20=1;break;case 2:return this.rm.seek(a,b);break;}}};a.prototype.jB=function(a){var E20,h,H20,b,c,f,d;E20=2;for(;E20 !== 17;){switch(E20){case 7:var q4e="un";q4e+="der";q4e+="fl";q4e+="ow";l.We.forEach(function(f){var G20,d,l,k,m;G20=2;for(;G20 !== 13;){switch(G20){case 2:l=h.bd(f);G20=1;break;case 5:G20=4;break;case 3:k=b.Gf[f];m=b.Aa.dD(h,f);G20=8;break;case 7:c.oh && b.Ya.il(k);l.cfa();null === (d=l.Cg) || void 0 === d?void 0:d.kMb();G20=13;break;case 1:G20=l?5:13;break;case 4:G20=c.oh?3:7;break;case 8:var Q4e=",";Q4e+=" toAppe";Q4e+="nd";Q4e+=": ";var D4e=", ";D4e+="fr";D4e+="agments:";D4e+=" ";var U4e=", completeStreami";U4e+="ngPts";U4e+=": ";var o4e=", s";o4e+="treaming";o4e+="P";o4e+="t";o4e+="s: ";var u4e=", part";u4e+="i";u4e+="a";u4e+="ls: ";var p4e=", c";p4e+="om";p4e+="pl";p4e+="etedByt";p4e+="es: ";var L4e=", complete";L4e+="d";L4e+="Ms: ";var K4e=", mediaT";K4e+="y";K4e+="p";K4e+="e:";K4e+=" ";var z4e="un";z4e+="de";z4e+="r";z4e+="flo";z4e+="w: ";k=z4e + a + K4e + f + L4e + l.YH + p4e + m + u4e + l.Ra.Jx + o4e + l.Yb + U4e + l.hr + D4e + JSON.stringify(l.Ra.aa) + Q4e + (k && k.M4());G20=7;break;}}});this.Rd.O.vk();this.emit(q4e);this.cY(2);this.mf.Pi();E20=11;break;case 11:E20=this.Sp?10:20;break;case 8:h=this.Aa.bc;E20=7;break;case 10:try{H20=2;for(;H20 !== 1;){switch(H20){case 2:this.r_(g.na.qd);H20=1;break;}}}catch(mb){var m4e="Hindsight: Error ";m4e+="when evaluating QoE at Bufferin";m4e+="g:";m4e+=" ";a000.w8e(1);this.Ya.jm(a000.G8e(m4e,mb));}E20=20;break;case 2:var Y4e="branchOff";Y4e+="s";Y4e+="et:";var s4e="en";s4e+="tr";s4e+="y.";s4e+="manife";s4e+="stOffset:";var G4e="c";G4e+="o";G4e+="ntentPts:";var t4e="unde";t4e+="rflow: going to BUFFERI";t4e+="NG at pl";t4e+="ayer pts:";(b=this,c=this.H,f=this.Wt(this.sS,a));this.kb(t4e,a,G4e,f,s4e,this.Rd.pu,Y4e,this.Aa.fe);d=c.yx;this.Gf.forEach(function(b){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:d=Math.max(0,Math.min(d,b.Nia - a));F20=1;break;}}});this.Dca+=1;this.Aa.bc.dsa(f,this.H.rra);E20=8;break;case 20:f=this.Kb.qb.get();f=f.Hd?f.Ma.Ga:0;d > c.Csb && f > c.Bsb && this.Nca();E20=17;break;}}};a.prototype.sl=function(a){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:return this.rm.sl(a);break;}}};a.prototype.Rt=function(a,b,c){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:return this.rm.Rt(a,b,c);break;case 4:return this.rm.Rt(a,b,c);break;J20=1;break;}}};a.prototype.pFa=function(a){var K20,b;K20=2;for(;K20 !== 3;){switch(K20){case 4:this.Ya.DFa(b.O.Rr);K20=3;break;case 2:this.iH=a;b=this.Rc[a];this.Ya.Jdb(a,b);K20=4;break;}}};a.prototype.EO=function(a,b,c){var L20,f,d,h,l,t,g,q;L20=2;for(;L20 !== 31;){switch(L20){case 35:return !0;break;case 34:a.O.GK([a.Ho(0),a.Ho(1)]);this.rY();return !0;break;case 1:L20=this.Ll()?5:4;break;case 5:var w4e="addManifest: pipeline";w4e+="s already";w4e+=" shutdown";this.kb(w4e);L20=31;break;case 8:var J4e="addManifest ignored, pipelines already s";J4e+="et EOS";J4e+=":";this.kb(J4e,h.Ln,l.Ln);L20=31;break;case 2:(f=this,d=this.H);L20=1;break;case 9:L20=!b.Bzb && (this.Ep && h.Ln || this.zl && l.Ln)?8:7;break;case 25:var Z4e=",";Z4e+=" ";var M4e=") ";M4e+="last";M4e+="Stre";M4e+="amAppended: (";var H4e=",";H4e+=" ";var b4e=" s";b4e+="t";b4e+="r";b4e+="eamC";b4e+="ount: (";var i4e=" ";i4e+="pl";i4e+="ayerState: ";var g4e="addMa";g4e+="nifest, c";g4e+="urrentPt";g4e+="s";g4e+=": ";b.replace || this.Aa.Ngb(q,l,g);b=this.ab.uu[0].eE;c=this.ab.uu[1].eE;d.oh && this.Ya.il(g4e + this.R.Ud() + i4e + this.R.cd() + b4e + a.Ho(0).gd.length + H4e + a.Ho(1).gd.length + M4e + b + Z4e + c + ")");L20=21;break;case 4:b || (b={});(h=this.Aa.bc.bd(0),l=this.Aa.bc.bd(1));L20=9;break;case 21:L20=this.Ep && k.X(b) || this.zl && k.X(c)?35:34;break;case 20:var X4e="b";X4e+="o";X4e+="olean";var I4e="vide";I4e+="o_tra";I4e+="cks";var a4e="a";a4e+="udio_trac";a4e+="ks";c=[a4e,I4e];t=this.LOa();b.replace && c.forEach(function(a,b){var M20,d,c;M20=2;for(;M20 !== 3;){switch(M20){case 5:d=f.Rc[0].O;Object.keys(c).forEach(function(a){var N20,f;N20=2;for(;N20 !== 5;){switch(N20){case 2:f=d.Dr(b,a);f && f.je && (c[a].uZ(f),a=q.Rr,a[b] > t[b] && (t[b]=a[b]));N20=5;break;}}});M20=3;break;case 2:c=q.PD(b);M20=1;break;case 1:M20=c?5:3;break;}}});c.forEach(function(a,b){var O20,c;O20=2;for(;O20 !== 5;){switch(O20){case 2:c=q.PD(b);c && Object.keys(c).forEach(function(a){var P20,f;P20=2;for(;P20 !== 5;){switch(P20){case 2:f=y.$l()[b];c[a].e1a(f,q.fx()?d.dTa:0);P20=5;break;}}});O20=5;break;}}});a.KO=X4e === typeof b.oIa?b.oIa:!0;L20=15;break;case 15:this.Rc[h] && this.Rc[h].ac();this.Rc[h]=a;a.bJa();L20=25;break;case 7:var C4e="addManifest in fastplay but not drm manifest, l";C4e+="eavi";C4e+="ng space for it";b.JE && (this.NX=!0);h=this.Rc.length;b.replace && 1 !== h?h=1:this.Rd.O.Me.Mf && !b.replace && 1 === h && (this.kb(C4e),h=this.Rc[0].clone(),this.Rc.push(h),h=this.Rc.length);(l=b.T || 0,g=b.qa);a=m.c9.create({eb:h,ta:a,ml:c,XYa:b.nSb || [this.Rd.m0(0),this.Rd.m0(1)],Mf:!1,jRa:! !b.replace,gi:! !b.gi,T:l,qa:g,Ya:this.Ya,Xp:this.UEa.bind(this),mb:this.mb.bind(this),Cb:this,config:this.H,G:this.G,mf:this.mf,rm:this.rm,af:this.JGa?this.Kb.af:void 0,dA:this.dA});q=a.O;(b.UY || this.VDa) && this.ab.yq(b.UY || this.VDa,q.la);L20=20;break;}}};a.prototype.AO=function(a){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:return this.rm.AO(a);break;}}};a.prototype.MP=function(a,b){var R20,c,f,d;R20=2;for(;R20 !== 7;){switch(R20){case 1:R20=!this.Ll()?5:7;break;case 2:c=this.H;R20=1;break;case 5:k.X(b) && (b=!0);(f=this.Aa.bc.bd(0),d=this.Aa.bc.bd(1));R20=3;break;case 8:b && (this.Gf.forEach(function(a){var S20;S20=2;for(;S20 !== 5;){switch(S20){case 2:c.N_ && a.kNa();c.OL && a.resume();S20=5;break;}}}),c.OL && this.mO(),this.Rd.O.Me.Mf && this.qY(this.rm.Zy?this.rm.Zy.eb:this.iH + 1),this.rm.Kba());R20=7;break;case 3:var l4e=" ";l4e+="ready";l4e+="St";l4e+="ate";l4e+=": ";var k4e=" fo";k4e+="r mov";k4e+="ieI";k4e+="d";k4e+=": ";var P4e=",";P4e+=" ";var V4e="drmReady";V4e+=" at stream";V4e+="ing pts: ";c.oh && this.Ya.il(V4e + (f?f.Yb:null) + P4e + (d?d.Yb:null) + k4e + a + l4e + b);a000.w8e(1);this.R.wqa(a000.s8e(a,""),b);R20=8;break;}}};u10=48;break;case 87:a.prototype.Kca=function(a,b){var V30,f,d,c;V30=2;for(;V30 !== 8;){switch(V30){case 4:var E4e="p";E4e+="tschang";E4e+="ed";(f=this.ab.Te[a],d=this.ab.$x[a]);k.X(f.Pm) && (f.Pm=b,1 === a && this.Ep && (a=this.ab.Te[0],k.X(a.Pm) && (c=c.bb(0),c.dF(b)),this.emit(E4e,b)));k.X(d.bP) && (d.bP=b);V30=8;break;case 5:V30=c.bb(a)?4:8;break;case 2:c=this.Aa.bc;V30=5;break;}}};a.prototype.MPa=function(a){var W30;W30=2;for(;W30 !== 1;){switch(W30){case 2:this.dh && (this.dh.KDb(a),this.qJa());W30=1;break;}}};a.prototype.P0=function(a){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:this.dh && (this.dh.JDb(a),this.qJa());X30=1;break;}}};a.prototype.qJa=function(){var Y30,a;Y30=2;for(;Y30 !== 4;){switch(Y30){case 2:Y30=this.dh?1:4;break;case 1:var f4e="allCo";f4e+="mpl";f4e+="e";f4e+="ted";a=this.H;this.dh.TD() || (this.dh=void 0,a.dw || this.Ky.QC || this.sY(f4e));Y30=4;break;}}};a.prototype.uO=function(){var Z30,a,b,c,f,d,h,l,m;Z30=2;for(;Z30 !== 7;){switch(Z30){case 2:(a=this,b=this.H,c=this.sS,f=this.Rc[c],d=this.Aa.bc,h=this.R.Ud() || 0,l=this.Wt(c,h),m=b.L5);this.Kb.af && void 0 !== f.wE && f.wE - h <= b.FTa && this.Kb.af.HO(!0,this.Kl.sessionId);this.R.cd() === g.na.Wc && ([1,0].forEach(function(b){var a40,u,c,x,f,g,q,t;a40=2;for(;a40 !== 33;){switch(a40){case 7:a40=u?6:34;break;case 9:(u=a.Aa.wr(h,d,b)) && !u.ee && (u=a.Gf[b].RRa);a40=7;break;case 2:a40=a.mb(b)?1:33;break;case 5:a40=c?4:33;break;case 21:a.Geb(t,h);a.Aa.tKb();a40=33;break;case 1:c=d.bb(b);a40=5;break;case 12:f=u.O;g=f.eb;t=u.Ra;a40=20;break;case 20:a40=!a.zl || 1 === b?19:26;break;case 19:a40=(a.Aa.gGb(u,u.qn),g > a.BX)?18:27;break;case 15:l=a.Wt(g,h);a40=26;break;case 6:t=u.le - h;t < m && (m=t);q=a.ab.uu[b];a40=12;break;case 18:a.BX=g;x=0 < g?g - 1:null;a.Ya.Hdb(f,h,u.qn,null !== x?a.Rc[x].O.u:null,x);a40=15;break;case 27:a.hH && u.qn != q.aCb && a.Ya.Xdb(u.qn);a40=26;break;case 22:k.X(u) || u == c.bWa || (c.bWa=u);a40=21;break;case 26:q.aCb=u.qn;f=u.Ca;f != q.Cla && (q.Cla=f,b=a.Rc[g].O.Dr(b,f),g=a.Wt(g,u.dd),a.Ya.Sdb(b,u.dd,g,b.O.eb));u=u.S;a40=22;break;case 34:var B4e="Unable";B4e+=" to fin";B4e+="d request present";B4e+="ing at playerPts:";c.kb(B4e,h);a40=21;break;case 4:t=c.Ra;c.XH(h);a40=9;break;}}}),this.Aa.Cs(h,l));Z30=4;break;case 4:this.mf.Pi();m=Math.max(m,1);this.hz && clearTimeout(this.hz);this.hz=setTimeout(this.uO.bind(this),m);Z30=7;break;}}};a.prototype.$W=function(a){var b40;b40=2;for(;b40 !== 1;){switch(b40){case 2:return this.mf.$W(a);break;}}};a.prototype.Pi=function(){var c40;c40=2;for(;c40 !== 1;){switch(c40){case 2:return this.mf.Pi();break;}}};a.prototype.LC=function(a,b){var d40,f,d,c;d40=2;for(;d40 !== 13;){switch(d40){case 5:var N4e="abortRequest w";N4e+="ith";N4e+=" no req";N4e+="uestMana";N4e+="gaer:";return (this.kb(N4e,a),!1);break;case 1:d40=!c?5:4;break;case 4:(f=a.I,d=a.abort());a.ac();a.Vf && a.Vf.clear();c.i4(a);this.Gf[f].i4(a);!0 === b && this.mf.Pi();return d;break;case 2:c=a.Ra;d40=1;break;}}};a.prototype.vfb=function(a){var e40,b,c;e40=2;for(;e40 !== 5;){switch(e40){case 2:var O4e="no ne";O4e+="wAudioT";O4e+="r";O4e+="ack set";(b=a.I,c=this.ab.Te[b]);k.X(c.V2)?a.kb(O4e):(this.Gf[b].pause(),c.PL=!0,a=this.Rd.Ho(0),c=this.Rd.O.getTrackById(c.V2.jb),this.Ya.wdb(a,c));e40=5;break;}}};a.prototype.Beb=function(a){var f40,h,l,k,m,b,c,f,d;f40=2;for(;f40 !== 27;){switch(f40){case 9:f40=(null === (c=this.dh) || void 0 === c?0:c.TD())?8:7;break;case 7:c=this.Kb.d0(h.O.ta,[k],0);this.dba[0]=c[0];f40=14;break;case 10:this.Aa.oZa(a,!0);f40=20;break;case 8:var F4e="a";F4e+="ud";F4e+="ioS";F4e+="w";F4e+="itch";(this.dh.$Lb(function(a){var g40;g40=2;for(;g40 !== 5;){switch(g40){case 1:return (b.LC(a,!1),!0);break;case 9:return (b.LC(a,-2),~6);break;g40=5;break;case 2:g40=0 === a.I?1:5;break;}}}),this.dh.TD() || (this.dh=void 0,f.dw || this.Ky.QC || this.sY(F4e)));f40=7;break;case 3:(h=this.Rd,l=h.O.getTrackById(this.ab.kw.jb),k=l.JT,m=this.R.Ud() - a.fe);f40=9;break;case 17:++c;f40=19;break;case 19:f40=c < this.Rc.length?18:16;break;case 2:(b=this,f=this.H);a=a.yc;d=this.ab.Te[0];this.ab.kw=d.V2;f40=3;break;case 14:this.KP.dGa(0,a.O);d.V2=void 0;this.Ef.bL(null);this.Gca(0,la.ZM.qNa,a);f40=10;break;case 16:a.zXa(l,m);this.iF(0);f40=27;break;case 18:this.fKb(c,k,m);f40=17;break;case 20:c=this.iH;f40=19;break;}}};u10=104;break;case 104:a.prototype.fKb=function(a,b,c){var h40,f;h40=2;for(;h40 !== 6;){switch(h40){case 7:this.mO(0);h40=6;break;case 2:h.Cl.Jo(0);a=this.Rc[a];a.Yra(b);h40=4;break;case 3:a.Ho(0).gd.some(function(a){var i40;i40=2;for(;i40 !== 4;){switch(i40){case 1:i40=!(f && f.stream && f.stream.aa && c < f.stream.aa.ij(0))?5:4;break;case 9:f=a.Hj();i40=4;break;i40=1;break;case 2:f=a.Hj();i40=1;break;case 5:return ! !f;break;}}});h40=8;break;case 4:h40=a.O.Z0?3:7;break;case 8:f?(a.O.ug[0]=f,a.yS=!1,f.stream.je && a.bZ()):(a.O.ug[0]=void 0,a.yS=!1,a.O.GK([a.Ho(0)],!0,0));h40=7;break;}}};a.prototype.Geb=function(a,b){var j40,c;j40=2;for(;j40 !== 4;){switch(j40){case 2:c=this.Gf[a.I];a=this.Aa.vS(a.yc,a.I,b,this.Kb.$A || 0,function(a){var k40;k40=2;for(;k40 !== 1;){switch(k40){case 2:c.i4(a);k40=1;break;}}});k.X(a) || this.mf.Pi();j40=4;break;}}};a.prototype.vcb=function(a){var l40,b;l40=2;for(;l40 !== 9;){switch(l40){case 2:b=a.mediaType;a=this.Rc[a.manifestIndex].O.Dr(b,a.streamId);this.pfb(this.Aa.bc.bb(b),a);this.H=this.nKa.Iab(a.Yf,this.H);this.Rc.forEach(function(a,b){var m40,c;m40=2;for(;m40 !== 5;){switch(m40){case 2:c=a.O;c.Z0 || 0 === b || c.GK([a.Ho(0),a.Ho(1)]);m40=5;break;}}});l40=9;break;}}};a.prototype.ycb=function(a){var n40,b,c;n40=2;for(;n40 !== 8;){switch(n40){case 2:b=a.request;a=a.mediaType;c=b.Ra.yc;c.HDb(a);b.J_ && this.Ya.Bdb(b);b.Nr && this.Ya.Qdb(a,b.O.eb,c.ca);n40=8;break;}}};a.prototype.pfb=function(a,b){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:this.ab.uu[a.I].eE={id:b.Ca,index:b.Rf,S:b.S,Ma:b.cb && b.cb.Hd && b.cb.Ma?b.cb.Ma.Ga:0,location:b.location};o40=1;break;}}};a.prototype.u1=function(a){var p40,b,c,f,d,h,l,k,m,g,q;p40=2;for(;p40 !== 11;){switch(p40){case 2:(h={},l=this.Gf,k=this.Aa);p40=1;break;case 1:p40=!k.bc.bk?5:12;break;case 6:h.abuflmsec=k.Qt(m,0);a && (h.a=null === g || void 0 === g?void 0:g.Ra.aa.toJSON(),h.v=null === q || void 0 === q?void 0:q.Ra.aa.toJSON());p40=13;break;case 12:return h;break;case 5:(m=k.bc,g=m.bd(0),q=m.bd(1));h.vspts=null !== (b=null === q || void 0 === q?void 0:q.Yb) && void 0 !== b?b:0;h.aspts=null !== (c=null === g || void 0 === g?void 0:g.Yb) && void 0 !== c?c:0;h.vbuflbytes=null !== (f=null === q || void 0 === q?void 0:q.wo.$) && void 0 !== f?f:0;h.abuflbytes=null !== (d=null === g || void 0 === g?void 0:g.wo.$) && void 0 !== d?d:0;h.vbuflmsec=k.Qt(m,1);p40=6;break;case 13:a && l && (a=l[1],l=l[0],h.atoappend=null === a || void 0 === a?void 0:a.M4(),h.vtoappend=null === l || void 0 === l?void 0:l.M4());p40=12;break;}}};a.prototype.kPa=function(a){var q40,f,d,h,l,k,b,c;q40=2;for(;q40 !== 3;){switch(q40){case 5:(f=this.ab.uu[a],d=this.Aa.dD(b,a),f=f.eE?f.eE.S:0,h=c.Ra.Yna,l=this.Aa.fe,k=y.$l()[a]);return {type:a,availableMediaBuffer:k - d,completeBuffer:b.ki(a),incompleteBuffer:h,playbackBitrate:c.bWa,streamingBitrate:f,streamingTime:c.Yb + l,usedMediaBuffer:d,toappend:c.OUb};break;case 1:q40=c?5:3;break;case 2:(b=this.Aa.bc,c=b.bb(a));q40=1;break;}}};a.prototype.qMb=function(){var r40,a;r40=2;for(;r40 !== 5;){switch(r40){case 2:var S4e="requestGarb";S4e+="ageC";S4e+="o";S4e+="llection";a={type:S4e,time:y.time.da()};I.Pa(this,a.type,a);r40=5;break;}}};a.prototype.eo=function(a,b,c,f,d,h){var s40;s40=2;for(;s40 !== 1;){switch(s40){case 2:var v4e="NFErr_MC_";v4e+="Stream";v4e+="ingFail";v4e+="ur";v4e+="e";this.iY || (k.X(c) && (c=v4e),this.iY=!0,this.Ya.Udb(c,a,f,d,h,void 0 !== b?b:this.sS));s40=1;break;}}};a.prototype.UEa=function(){var t40;t40=2;for(;t40 !== 5;){switch(t40){case 2:var n4e="N";n4e+="etwork fail";n4e+="ures";n4e+=" r";n4e+="eset!";this.kb(n4e);this.mf.Pi();t40=5;break;}}};u10=94;break;case 48:a.prototype.Rja=function(){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:return this.R.hx(this.Rd.O);break;}}};a.prototype.gEa=function(a){var U20,b,c,f;U20=2;for(;U20 !== 14;){switch(U20){case 1:return !1;break;case 5:(b=this.Aa.bc.bd(0),c=this.Aa.bc.bd(1),b=!b || b.Xg,f=!c || c.Xg,c=this.Rc[a].O);U20=4;break;case 3:return !1;break;case 2:U20=a >= this.Rc.length?1:5;break;case 4:U20=!(a === this.iH + 1 && c.Me.replace || b && f) || !this.R.hx(c)?3:9;break;case 9:a=c.ug[0];b=c.ug[1];b=!this.zl || b && b.stream.je;return (!this.Ep || a && a.stream.je) && b?!0:!1;break;}}};a.prototype.rY=function(){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 4:this.qY(this.iH / 0);V20=8;break;V20=1;break;case 2:this.qY(this.iH + 1);V20=1;break;}}};a.prototype.qY=function(a){var W20,b;W20=2;for(;W20 !== 6;){switch(W20){case 2:W20=!this.gEa(a)?1:5;break;case 1:return !1;break;case 5:b=this.Rc[a];W20=4;break;case 4:W20=b.zsb || !b.O.Me.replace?3:9;break;case 3:return !1;break;case 9:this.Efb(a);this.mf.Pi();return !0;break;}}};a.prototype.Efb=function(a){var X20,b,c,f,d,h;X20=2;for(;X20 !== 14;){switch(X20){case 2:var e4e=",";e4e+=" ";var c4e=", stream";c4e+="in";c4e+="gPt";c4e+="s: ";var R4e="sw";R4e+="itchManifest manifestIndex";R4e+=": ";(b=this.Rc[a],c=this.Aa.bc,f=c.bb(0),f=f?f.Yb:void 0,d=c.bb(1),d=d?d.Yb:void 0);this.H.oh && this.Ya.il(R4e + a + c4e + f + e4e + d);(f=this.Rd,d=f.O.Me.Mf,h=[]);X20=4;break;case 4:[1,0].forEach(function(a){var Y20;Y20=2;for(;Y20 !== 1;){switch(Y20){case 2:b.O.mb(a) && (h[a]=b.Ho(a));Y20=1;break;}}});d?this.Aa.eMb(f.O,b.O,h):c.GZa(b.O,h);this.pFa(a);b.mna();this.rm.Kba();this.mf.Pi();X20=14;break;}}};a.prototype.Fna=function(){var Z20,a,b,c,f;Z20=2;for(;Z20 !== 6;){switch(Z20){case 1:Z20=b?5:7;break;case 2:(a=this.Aa.bc,b=a.bb(0));Z20=1;break;case 9:f.PL=!1;this.mf.Pi();Z20=6;break;case 7:var d6e="onAudio";d6e+="TrackSwitchStarted ignored, ";d6e+="no audio";d6e+=" pipeline";this.kb(d6e);Z20=6;break;case 5:var r6e="onAu";r6e+="dioTrackSwitchStarted but";r6e+=" current playing request not found";(c=this.R.Ud(),f=this.ab.Te[b.I]);(a=this.Aa.wr(c,a,0))?b=a.Ra:(this.kb(r6e),b=b.Ra);this.Beb(b);Z20=9;break;}}};a.prototype.pra=function(a){var a30,f,h,c,b,d;a30=2;for(;a30 !== 21;){switch(a30){case 13:f=this.Aa.bc;a30=12;break;case 27:a30=h === d.jb?26:25;break;case 20:var h6e="switchTracks r";h6e+="ejected, bufferLev";h6e+="elMs";return (this.kb(h6e,d,"<",b.F2),!1);break;case 6:a30=c.PL?14:13;break;case 15:h=this.Rd.Ho(0).jb;a30=27;break;case 5:var A6e="s";A6e+="witchTracks";A6e+=" rejected, audio d";A6e+="isabled";return (this.kb(A6e),!1);break;case 7:c=this.ab.Te[0];a30=6;break;case 9:a30=this.R.Qg()?8:7;break;case 17:a30=!d?16:15;break;case 3:var T6e="s";T6e+="witchTracks";T6e+=" rej";T6e+="ected, prev";T6e+="ious switch still in progress: ";return (this.kb(T6e + JSON.stringify(this.ab.kw)),!1);break;case 12:a30=this.R.cd() === g.na.Wc?11:19;break;case 2:b=this.H;a30=1;break;case 1:a30=!this.Ep?5:4;break;case 11:d=this.Aa.Qt(f,1);a30=10;break;case 8:var y6e="swit";y6e+="chTracks reject";y6e+="ed, buff";y6e+="ering";return (this.kb(y6e),!1);break;case 10:a30=d < b.F2?20:19;break;case 14:var x6e="switchTra";x6e+="cks rejecte";x6e+="d, pre";x6e+="vious s";x6e+="witch still waiting to start";return (this.kb(x6e),!1);break;case 16:var j6e="switchTracks can'";j6e+="t";j6e+=" ";j6e+="find trackId:";return (this.kb(j6e,a),!1);break;case 19:a=a.UC;d=this.Rd.O.getTrackById(a);a30=17;break;case 26:return !1;break;case 25:var z6e=" to";z6e+=":";z6e+=" ";var W6e="swit";W6e+="c";W6e+="hTracks curre";W6e+="nt: ";b.oh && this.Ya.il(W6e + h + z6e + d.jb);c.V2={jb:a};this.vfb(f.bb(0));return !0;break;case 4:a30=this.ab.kw?3:9;break;}}};a.prototype.yq=function(a,b){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:this.ab.yq(a,b);b30=1;break;case 4:this.ab.yq(a,b);b30=2;break;b30=1;break;}}};a.prototype.wr=function(a,b,c){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:return this.Aa.wr(a,this.Aa.ej,b,c);break;}}};a.prototype.Si=function(a){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 4:return this.rm.Si(a);break;d30=1;break;case 2:return this.rm.Si(a);break;}}};u10=59;break;}}})();b.hCa=a;d.Ue(c.EventEmitter,a);},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.c9=void 0;c=a(16);k=a(10);h=a(233);d=(function(){function a(a,b,c,d,h,k,g,m,B,n,I,E){void 0 === c && (c=0);this.zd=a;this.$X=b;this.T=c;this.qa=d;this.f0=h;this.sg=k;this.TI=g;this.config=m;this.G=B;this.Ya=n;this.zsb=I;this.ag=E;this.pu=0;}a.create=function(b){var d,g,m,x,z,y,B,n,I,E,p,W,r,M,D;function f(a){k.Pa(n,a.type,a);}d=b.eb;g=b.ta;m=b.XYa;x=b.T;z=b.qa;y=b.Xp;B=b.Ya;n=b.Cb;I=b.config;E=b.G;p=b.mf;W=b.rm;r=b.af;M=b.dA;D=new h.pU(Number(g.movieId),{eb:d,ta:g,ml:b.ml,mb:b.mb,Ema:{A1:b.Mf,cla:! !b.jRa},gi:b.gi,config:I,Xja:{Vc:p.Pi.bind(p),af:r,dA:M,km:f,x1:function(a){return a === n.Aa.bc.O;},AQ:function(a,b,c,f,d){a=n.ab.Te[a];return !b || c || f || d?n.JN:a.Sg;},Uz:function(a){return n.ab.uu[a];},sg:n.sg.bind(n)},cK:function(a){n.emit("requestComplete",{timestamp:a.md,mediaRequest:a});},jQ:function(){return n.Ef;},qb:n.Kb.qb,Of:n.Kb.Of,oha:{Xp:y,Bg:function(a,b,c,f,h){n.eo(a,d,b,c,f,h);},bn:function(){return n.iY;},qJ:n.R.Qg.bind(n.R),km:f},XE:void 0});I.Jz && D.cF({CE:n.Kl.CE,ea:n.Kl.ea,Iw:n.Kl.Iw,jm:B.jm.bind(B)});b=new c.Yg();b.addListener(D.cA,"onHeaderFragments",function(a){var b,c,f,h,l;b=a.I;c=a.Ca;f=a.stream.aa;h=n.sg(d);if(h){if(D.ug[b] && a !== D.ug[b])a.cu && (h=D.ug[b],a=a.stream,l=h && h.stream,E.warn("first header received for non-current track (trackId " + a.jb + "streamId " + a.Ca + "), expected track " + (l && l.jb) + ", stream " + (l && l.Ca) + ", " + h));else {D.ug[b]=a;a=n.Aa.bc;if(0 === d){l=D.mb(1)?a.bb(1).Yb:a.bb(0).Yb;a.eZ(l,D);}h.yS=!1;h.bZ();n.rY();}W.Kba();B.Mdb(d,b,c,D.u,f);p.Pi();}else E.warn("addFragments for stale manifestIndex:",d);});b.addListener(D.cA,"onHeaderRequestComplete",function(a){var b,c;a.hk?n.rY():a.Iz && (E.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),n.MP(a.u));b=a.I;c=Object.getOwnPropertyNames(M.vt[b]);n.Gf[b].xUa(a.stream,1 === c.length && c[0] === a.Ca);p.vEa();n.qMb();});b.addListener(D.cA,"onHeaderFromCache",function(a){var b;b=a.Yp;a=a.utb;b.hk && n.rY();a && B.Ddb(b.u,b.Ca);});return new a(D,m,x,z,function(){return n.Aa;},n.sg.bind(n),n.TI.bind(n),I,E,B,!1,b);};Object.defineProperties(a.prototype,{O:{get:function(){return this.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.O.eb;},enumerable:!1,configurable:!0}});a.prototype.Ho=function(a){return this.zd.CPa(a,this.m0(a));};a.prototype.m0=function(a){return this.$X[a];};a.prototype.close=function(){this.ag.clear();this.O.close();};a.prototype.ac=function(){this.zd.ac();delete this.zd;};a.prototype.clone=function(){return new a(this.O,this.$X,this.T,this.qa,this.f0,this.sg,this.TI,this.config,this.G,this.Ya,!0,this.ag);};a.prototype.Yra=function(a){this.G.trace("updateAudioTrack:",this.$X[0],"->",a);this.$X[0]=a;};a.prototype.BOa=function(){return void 0 !== this.wE?this.wE:this.qa?this.qa:this.zd.duration;};a.prototype.Rjb=function(a,b){var c,f,d,h;c=this.zd.ug[1];if(c && c.stream.je){if(this.Ow && this.Ow[1] && this.Ow[1].T <= a && this.Ow[1].qa > a)return this.Ow[1].dd;f=c.stream.aa;d=f.Yl(a,void 0,!0);h=void 0;b && (a=c.stream.Wi(d).F_(a)) && (h=a.Hc);void 0 === h && (h=f.ij(d));return h;}};a.prototype.bZ=function(){var a,b;if(!this.yS && this.$Pa()){this.mna();b=[0,0];0 === this.eb || this.zd.Me.wR || this.zd.Me.replace || (a=this.sg(this.eb - 1),a=this.zd.u === a.zd.u,b=this.f0().bc,a=b.eZ(this.T,this.O,b,a),b=a.wK);this.T=b[1];this.wK=b;this.Ow=a && a.Ow;this.bJa();a=this.zd.mb(1)?this.zd.ug[1].stream.aa.qa:this.zd.ug[0].stream.aa.qa;this.Ya.Idb(this.eb,this.pu,this.T,this.wE,a);this.yS=!0;for(a=this.eb + 1;a < this.TI();++a){b=this.sg(a);b.yS=!1;b.bZ();}}};a.prototype.bJa=function(){var a;if(0 === this.eb || this.zd.Me.replace)this.pu=0;else {a=this.sg(this.eb - 1);this.pu=a.pu + a.BOa() - this.T;}};a.prototype.mna=function(){var a,b,c,d,h,k,g,m;if(this.$Pa()){h=this.f0().bc;k=this.qa || Infinity;g=this.zd.mb(1);m=h.bQ(k,this.O);this.wE=g?m[1].qa:m[0].qa;h=g?this.zd.ug[1].stream.aa.qa:this.zd.ug[0].stream.aa.qa;g=Math.min(null !== (b=null === (a=m[1]) || void 0 === a?void 0:a.qa) && void 0 !== b?b:Infinity,null !== (d=null === (c=m[0]) || void 0 === c?void 0:c.qa) && void 0 !== d?d:Infinity);this.Ya.Kdb(this.eb,this.wE,h,g);a=this.f0().Eha(this.eb);0 < a.length && a.forEach(function(a){a.hTb(m,k);});}};a.prototype.$Pa=function(){var a,b,c,d;a=this.zd.mb(0);b=this.zd.mb(1);c=this.zd.ug[0];d=this.zd.ug[1];c=c && c.stream.je;d=d && d.stream.je;return (!a || c) && (!b || d);};return a;})();b.c9=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;c=a(10);d=a(3);k=d.Kk;new d.Console("ASEJS_SIDECHANNEL","media|asejs");d=(function(){function a(a,b,d){this.jm=d;this.agb=new c.EDa(a);this.ea=b.ea;this.Vab=1E3 * b.gEb / b.jjb;this.rqb=b.Iw;this.QHa=!1;}a.prototype.Mp=function(a){var b,d;b={s_xid:this.ea,dl:this.rqb?1:0};a.QH && (b.bs=c.kZ(Math.floor(a.QH / this.Vab) + 1,1,5));a.Z2 && (b.limit_rate=a.Z2);a.CIa && (b.bb_reason=a.CIa);a.o0a && (b.tm=a.o0a);if(a.aI){d=Object.keys(a.aI).every(function(b){return 0 === a.aI[b];});if(!d || d && this.QHa)(b.cpr_ss=a.aI.Jfa,b.cpr_ca=a.aI.Jfa,b.cpr_rec=a.aI.sKa,this.QHa=d?!1:!0);}a.qea && (b.br="" + a.qea.start + "+" + a.qea.size);return this.Ydb(b);};a.prototype.kqa=function(a,b){var c,f;try{c=new k(void 0,"notification");f=this.Mp({CIa:a});b && f && c.open(b,void 0,2,void 0,void 0,void 0,f);}catch(u){this.jm("SideChannel: Error when sending sendBlackBoxNotification. Error: " + u);}};a.prototype.Ydb=function(a){var b;try{b=this.mfb(a);return this.agb.encrypt(b);}catch(q){this.jm("SideChannel: Error when obfuscating msg. Error: " + q);}};a.prototype.mfb=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b) + "=" + encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;})();b.kCa=d;},function(d,b,a){var k,h,g,f,q,l;function c(a,b){var c,f;c=Math.floor(1E3 * a / b);f=1E3 * Math.round(c / 1E3);return new h.U(f,Math.abs(Math.floor(1001 * a / b) - f) > Math.abs(c - f)?1E3:1001);}Object.defineProperty(b,"__esModule",{value:!0});b.sta=void 0;k=a(385);h=a(21);g=a(5);f=a(10);q=a(234);l=a(386);d=(function(){function a(b,d,h){this.H=d;this.G=h;this.Ry=new f.mCa();this.XEa=!1;this.vx=b.vx;this.O=b.O;this.I=b.I;this.JT=b.JT;this.MC=b.MC;1 === this.I && (d=this.vx.streams[0],void 0 !== d.framerate_value && void 0 !== d.framerate_scale && (this.jca=c(d.framerate_value,d.framerate_scale).xXa()));this.Pl=(this.ZG=this.jca) && this.ZG.P;this.Rba=this.wEa=!1;this.dka=-Infinity;this.DSa=Infinity;b=a.vbb(this,b.Mf);d=b.fm;h=b.gd;this.U0=b.U0;this.fm=d;this.gd=h;this.zfb=h.reduce(function(a,b){a[b.Ca]=b;return a;},{});!1;}a.vbb=function(a,b){var c,f,d,h,k;c=a.H;f=1 === a.I;d=!1;h=0;k=[];a.vx.streams.forEach(function(g,m){var q,t,u;t=g.bitrate;u=!0;f && (q=-1 === g.content_profile.indexOf("none"),u=b && !q || !b && q,d=d || q);u && t > h && (h=t);g=new l.qta({ux:g,Rf:m,track:a,lu:u},c,a.G);k.push(g);});return {U0:d,fm:h,gd:k};};Object.defineProperties(a.prototype,{zFb:{get:function(){return !this.je && !this.XEa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{je:{get:function(){return ! !this.xm && ! !this.Ry.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qga:{get:function(){return this.wEa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.O.u);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jb:{get:function(){return this.vx.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.ZG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YJ:{get:function(){return this.rdb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xm:{get:function(){return this.xc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{QQ:{get:function(){return this.Ry.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aia:{get:function(){return this.za.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$ha:{get:function(){return this.za.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Oha:{get:function(){return this.Ry;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ed:{get:function(){var a;return null === (a=this.gd[0]) || void 0 === a?void 0:a.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u2:{get:function(){return this.gd.some(function(a){var b;return 1 < ((null === (b=a.qh) || void 0 === b?void 0:b.length) || 0);});},enumerable:!1,configurable:!0}});a.prototype.Dr=function(a){return this.PD()[a];};a.prototype.PD=function(){return this.zfb;};a.prototype.equals=function(a){return this.u === a.u && this.I === a.I && this.jb === a.jb;};a.prototype.Jna=function(){this.XEa=!0;};a.prototype.h3=function(a,b,c,f,d){if(f && void 0 !== f.Ek && (this.je || void 0 !== f.Sd && f.Sd.length)){if((a.mu && (this.wEa=!0),this.je))!this.Rba && f.Sd && f.Sd.length > this.xm.length && (this.xc=new k.zaa(this.I,this.za,f,d),this.Ry.mYa(),this.dka=-Infinity,this.Rba=!0);else {this.qGa(b);if(c=c || this.jca)(this.pGa(c || this.jca),void 0 === this.P && this.rGa(c.P));this.xc=new k.zaa(this.I,this.za,f,d);a.mu && (this.Rba=!0);}}else this.G && this.G.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.VGb=function(a){void 0 === this.Ry.value && this.Ry.set(a);};a.prototype.Vlb=function(a){this.je || (this.rGa(a.P),this.qGa(a.YJ),this.pGa(a.za),this.xc=a.xm,a.Oha.value?this.Ry.set(a.Oha.value):this.Ry.mYa());};a.prototype.Xm=function(a,b,c,f){g.assert(this.QQ);return q.Xm(this.I,a,this.QQ,b,c,f);};a.prototype.JD=function(a,b,c){g.assert(this.QQ);return q.JD(this.I,a,this.QQ,b,c);};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,trackId:this.jb};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.jb;};a.prototype.rGa=function(a){this.Pl=a;};a.prototype.qGa=function(a){this.rdb=a;};a.prototype.pGa=function(a){this.ZG=a;};return a;})();b.sta=d;},function(d,b,a){var c,k,h,g,f,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.zCa=b.L$a=void 0;c=a(0);k=a(107);h=a(5);d=a(3);g=a(396);a=a(385);f=new d.Console("FRAGMENTS","media|asejs");try{q=!0;}catch(u){q=!1;}l=(function(a){function b(b,c){c=a.call(this,b.xm,c) || this;c.GC=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{$:{get:function(){return this.GC.TPb(this.uj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.GC.uh(this.uj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ana:{get:function(){return this.GC.XJ && this.GC.XJ[this.uj];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ri:{get:function(){return this.GC.nub(this.uj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ib:{get:function(){return this.GC.mB && this.GC.mB[this.uj];},enumerable:!1,configurable:!0}});b.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Wa,contentEndTicks:this.nb,durationTicks:this.Rp,timescale:this.P,startPts:this.T,endPts:this.qa,duration:this.duration,additionalSAPs:this.Ri};};return b;})(a.$Ca);b.L$a=l;d=(function(){function a(a,b,c,d,h,l){this.nH=128;this.xc=a;this.de=b.offset;this.io=b.sizes;this.KG=this.wN=this.hh=this.ko=this.Oca=void 0;this.qdb=c;this.bba=d && d.uh;this.LGa=h;this.He=Math.min(this.xc.length,this.io.length);this.bdb=this.Jjb();this.xm.up.length !== this.io.length && f.error("Mis-matched stream duration (" + this.xm.up.length + "," + this.io.length + ") for movie id " + l);this.xm.GY && !this.bba && f.error("Mis-matched additional SAPs information for movie id " + l);}a.i2b=function(a,b){var c,f;b=b.P;c=b / 1E3;f=new DataView(a);a=Math.floor(a.byteLength / 16);return {P:b,Ek:f.getUint32(4) * c,offset:65536 * f.getUint32(8) + f.getUint16(12),sizes:k.w5a.YI(f,0,a,16),Sd:k.Gaa.from(Uint32Array,{length:a},function(a,b){return f.getUint16(16 * b + 14) * c;})};};Object.defineProperties(a.prototype,{I:{get:function(){return this.xc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.He;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ek:{get:function(){return this.xc.Ek;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eha:{get:function(){return this.xc.eha;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.xc.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qa:{get:function(){return this.xc.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vma:{get:function(){return this.xc.vma;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{p2:{get:function(){return this.bdb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.xc.za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.xc.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xi:{get:function(){return this.ko || this.nba();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{XJ:{get:function(){return this.qdb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lHa:{get:function(){return this.bba;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mB:{get:function(){return this.LGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xm:{get:function(){return this.xc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fL:{get:function(){return this.Oca || this.ubb();},enumerable:!1,configurable:!0}});a.prototype.TPb=function(a){if(this.io)return this.io[a];f.error("sizesByIndex _sizes is undefined");return -1;};a.prototype.ij=function(a){return this.xc.ij(a);};a.prototype.fha=function(a){return this.xc.ij(a) + this.xc.Sd(a);};a.prototype.uh=function(a){if(this.wN !== a || void 0 === this.KG){if(0 === a)return this.de;if(this.wN === a - 1 && void 0 !== this.KG)(this.KG+=this.io[this.wN],++this.wN);else {for(var b=this.hh || this.cbb(),c=Math.floor(a / this.nH),f=c * this.nH,b=b[c];f < a;++f){b+=this.io[f];}this.wN=a;this.KG=b;}}return this.KG;};a.prototype.Sd=function(a){return this.xc.Sd(a);};a.prototype.get=function(a){return new l(this,a);};a.prototype.nub=function(a){var b,c,f;h.assert(0 <= a);b=this.xm.GY;c=this.xm.mHa;f=this.bba;if(!f || !b || !c || a >= b.length)return [];for(var d=[],l=a === b.length - 1?c.length:b[a + 1],b=b[a];b < l;++b){d.push({tn:c[b],Hc:this.ij(a) + this.za.sE(c[b]).ka,offset:f[b]});}return d;};a.prototype.ePb=function(a){this.LGa=a;};a.prototype.Yl=function(a,b,c){return this.xc.Yl(a,b,c);};a.prototype.E_=function(a,b,c){return this.xc.E_(a,b,c);};a.prototype.Ifa=function(a,b){return this.xc.Ifa(a,b);};a.prototype.ela=function(a,b,c){var f,d,h,l,k,g,m,q,t;f=!0;d=0;l=this.xc.up;k=this.io;g=Math.floor(a * this.P / 1E3);m=0;q=0;t=0;if(this.xc.Xra && this.xc.Wra)for(d=this.xc.Xra;d <= this.xc.Wra;++d){m+=l[d];q+=k[d];}if(q > b)f=!1;else for(;d < this.length && (!c || d < c);){h=k[d];a=l[d];if(q + h > b){for(;0 < d - t && q + h > b;){m-=l[t];q-=k[t];++t;}if(m < g){f=!1;this.xc.Xra=t;this.xc.Wra=d;break;}}m+=a;q+=h;++d;}return f;};a.prototype.subarray=function(b,c){h.assert(void 0 === b || 0 <= b && b < this.length);h.assert(void 0 === c || c > b && c <= this.length);return new a(this.xc.subarray(b,c),{offset:this.uh(b),sizes:this.io.subarray(b,c)},this.XJ && this.XJ.subarray(b,c),this.lHa && ({uh:this.lHa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],c=0;c < this.length;++c){b.push(a(this.get(c),c,this));}return b;};a.prototype.reduce=function(a,b){for(var c=0;c < this.length;++c){b=a(b,this.get(c),c,this);}return b;};a.prototype.toJSON=function(){return {length:this.length};};a.prototype.dump=function(){var b;f.trace("StreamFragments: " + this.length);for(var a=0;a < this.length;++a){b=this.get(a);f.trace("StreamFragments: " + a + ": [" + b.T + "-" + b.qa + "] @ " + b.offset + ", " + b.$ + " bytes");}};a.prototype.Jjb=function(){var a,b,c,f,d;b=0;c=this.xc.cTa;f=this.xc.up;d=this.io;if(void 0 === c || c >= this.length){for(var h=0;h < this.length;++h){a=d[h] / f[h];a > b && (b=a,c=h);}void 0 === this.xc.cTa && (this.xc.cTa=c);}else b=d[c] / f[c];return Math.floor(b * this.P / 125);};a.prototype.nba=function(){for(var a=0,b=0;b < this.length;++b){a+=this.io[b];}return this.ko=a;};a.prototype.ubb=function(){return this.Oca=new g.jaa(this.xc.up,this.io,this.xc.P);};a.prototype.cbb=function(){var a;if(!this.hh){a=q?new Float64Array(Math.ceil(this.length / this.nH)):Array(Math.ceil(this.length / this.nH));for(var b=this.de,c=0;c < a.length;++c){a[c]=b;for(var f=0;f < this.nH;++f){b+=this.io[c * this.nH + f];}}this.hh=a;}return this.hh;};return a;})();b.zCa=d;d.prototype.k_a=a.nR(d.prototype.ij);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.ld=1 === this.version?this.Mu([{ek:"int64"},{modificationTime:"int64"},{P:"int32"},{duration:"int64"}]):this.Mu([{ek:"int32"},{modificationTime:"int32"},{P:"int32"},{duration:"int32"}]);return !0;};b.Ye="mvhd";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.Ye="trak";b.Bc=!0;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.dg();a=1 === this.version?[{ek:"int64"},{modificationTime:"int64"},{jb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{ek:"int32"},{modificationTime:"int32"},{jb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{j4b:"int16"},{s1b:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.ld=this.Mu(a);this.ld.E6b=! !(this.Oh & 1);this.ld.F6b=! !(this.Oh & 2);this.ld.G6b=! !(this.Oh & 4);this.ld.H6b=! !(this.Oh & 8);this.M.console.trace("Finished parsing track box");return !0;};b.Ye="tkhd";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.ld=this.Mu(1 === this.version?[{uNa:"int64"}]:[{uNa:"int32"}]);return !0;};b.Ye="mehd";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ld=this.Mu([{P3b:"int32"},{W6b:"int32"}]);return !0;};b.Ye="pasp";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ld=this.Mu([{J1b:"int32"},{fm:"int32"},{wib:"int32"}]);return !0;};b.Ye="btrt";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.QA();this.M.QA();for(this.nfa=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.nfa.push(this.M.QA());}return !0;};b.Ye="ftyp";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(78);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.ld=this.Mu([{E5b:"int32"},{PPa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.ld.PPa=k.Oy(this.ld.PPa);return !0;};b.Ye="hdlr";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c,k,h,g,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(91);h=a(236);g=a(168);d=a(28);f=a(92);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.Bo=this.M.Nb();return !0;};b.prototype.II=function(a){var b;b=Object.keys(this.Zc);b.length && (b=b[0],this.Zc[b].length && (b=this.Zc[b][0],b instanceof g["default"]?this.za=new h.U(b.V_,b.DYa):b instanceof f["default"] && (b=b.Zc[k.x9]) && b.length && (b=b[0].ld,1E3 !== b.RZ && 1001 !== b.RZ || 0 !== b.Ana % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + b.Ana + "/" + b.RZ):this.za=new h.U(b.RZ,b.Ana)),this.za && (a.za=this.za)));return !0;};b.prototype.PXa=function(a){void 0 !== this.Zc[a] && 0 !== this.Zc[a].length && (this.hb.Eq(this.Bo - 1,this.byteOffset + 12),a=this.Zc[a][0],this.ql(a.byteLength,a.byteOffset));};b.Ye="stsd";b.Bc=!0;return b;})(d.jg);b["default"]=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.Ytb=this.M.cg(2);this.hjb=this.M.cg(5);this.ijb=this.M.cg(3);this.hgb=this.M.cg(3);this.M.cg(1);this.M.cg(5);this.M.cg(5);return !0;};b.Ye="dac3";return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var b;this.pGb=this.M.vh() & 7;this.YQb=[];for(var a=0;a < this.pGb;a++){b={Ytb:this.M.cg(2),hjb:this.M.cg(5),ijb:this.M.cg(5),hgb:this.M.cg(3),k4b:this.M.cg(1),oGb:this.M.cg(4)};0 < b.oGb?b.T1b=this.M.cg(9):this.M.cg(1);this.YQb.push(b);}return !0;};b.Ye="dec3";return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(28);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.IYa=this.M.QA();k.sa && this.M.console.trace("SchemeTypeBoxTranslator: " + this.IYa);"cenc" === this.IYa && (this.M.offset-=4,k.sa && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.hb.m2a("piff"));this.M.Nb();return !0;};b.Ye="schm";b.Bc=!1;return b;})(k.jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.Fd();this.V2a=this.M.Fd();this.M.Fd();this.M.Fd();this.M.Fd();this.c_a=this.Cca(this.M.Fd() & 31);this.Cca(this.M.Fd());this.R3=this.c_a.length?this.c_a[0][0]:this.V2a;this.WFa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.R3 || 110 === this.R3 || 122 === this.R3 || 144 === this.R3) && (this.M.Fd(),this.M.Fd(),this.Cca(this.M.Fd()));a=this.startOffset + this.length - this.WFa;0 < a && this.ql(a,this.WFa);return !0;};b.prototype.Cca=function(a){var d;for(var b=[],c=0;c < a;++c){d=this.M.vh();b.push(this.M.Y3(d));}return b;};b.Ye="avcC";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.II=function(){var a;a=this.HD("esds");if(a=a && a.T5a.HD(5))this.V_=a.V_;return !0;};b.Ye="mp4a";b.Bc=!0;return b;})(a(168)["default"]);b["default"]=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(238);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.T5a=k.Gva.hXa(this.M);return !0;};b.Ye="esds";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(91);a=a(28);k=d.x9;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.dg();this.ld=this.Mu([{Ana:"int32"},{RZ:"int16"}]);return !0;};b.Ye=k;b.Bc=!1;return b;})(a.jg);b["default"]=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,b,c,d,h;this.dg();a=this.Mu([{Hra:"int32"},{jLa:"int32"},{NZ:"int32"},{PZ:"int32"},{OZ:"int32"}]);b=a.Hra;c=a.jLa;d=a.NZ;h=a.OZ;a=a.PZ;this.ld={jb:b,s2b:c,MZ:d,t2b:h,u2b:a};this.Hra=b;this.jLa=c;this.NZ=d;this.PZ=a;this.OZ=h;return !0;};b.Ye="trex";b.Bc=!1;return b;})(a(28).jg);b["default"]=d;},function(d,b,a){var c,k,h,g,f,q,l,u,t,x,z,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(864);h=a(392);g=a(141);f=a(236);q=a(28);d=a(389);l=a(390);u=a(393);t=a(142);x=a(235);z=a(91);n=a(394);a=(function(){function a(a,b,c,f,d,h){this.console=a;this.stream=b;this.ps=f;this.Sgb=d;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=h || ({});this.Syb=t.pvb();}a.path=function(a,b){return b.reduce(function(a,b){return a && a.Zc[b] && a.Zc[b][0];},a);};a.pwb=function(a){return a && a.nfa && -1 !== a.nfa.indexOf("mcl0")?"mcl0":void 0;};a.dtb=function(a,b){var c;g.assert("mcl0" === a,"Unsupported McClearen brand");c=b.aa;a=c.Sd;b=new f.U(120,1).ze(c.P).rb;for(var d=0,c=c.Ek;d < a.length && c < b;){c+=a[d++];}return d;};a.prototype.parse=function(a){var b;b=this.nNb();if(!b.done){if(b.dUa)return {FA:!1,Tgb:b.dUa};this.console.error("Scan error: " + b.error);return {FA:!1,parseError:b.error || "unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + b.offset);this.view=new DataView(b);a=this.PHb(a);return a.done?this.Jlb():(this.console.error("Parse error: " + a.error),{FA:!1,parseError:a.error || "unknown mp4 parse error"});};a.prototype.GD=function(a){return q.jg.GD(this,a);};a.prototype.HD=function(a){return q.jg.HD(this,a);};a.prototype.nNb=function(){var b,f;b=new n.E6a(this.ps,this.Sgb?[z.JV,z.IV]:[],this.config && this.config.v6b || ["moof",z.eza],this.config && this.config.GVa);f=c.__assign(c.__assign({},this.config),{Wna:!1});return new u.H6(a.Xpa,b,this.view,this.console,f).parse();};a.prototype.PHb=function(a){var b,f,d;b=new n.cva(this.view.byteLength);f=Object.create(x.ZJ.Zc);this.config && ((this.config.EVa || this.config.H0a || this.config.c5) && k(x.ZJ.Upa,f),this.config.Mra && k(x.ZJ.xSb,f),this.config.H0a && k(x.ZJ.I0a,f));d=c.__assign(c.__assign({},this.config),{Wna:!0});this.Sh=new u.H6(f,b,this.view,this.console,d);a=this.Sh.parse(a);a.done && (this.Zc=this.Sh.Zc);return a;};a.prototype.Jlb=function(){var b,c,d,l,k,g;b={FA:!0};c=a.path(this,["moov"]);d=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.EVa)if(d)(b.za=d.za,b.W5b=d.Zc);else return {FA:!1,parseError:"Missing sample descriptions"};l=a.path(d,["encv","sinf","schi"]);l && (l=a.path(l,["tenc"]) || a.path(l,[z.Gza])) && (b.Orb={g2b:l.fq,NRa:l.NRa,e4b:!1});if(l=a.path(c,["trak","mdia","mdhd"]))b.P=l.P;if(l=a.path(c,["mvex","trex"]))b.MZ=l && l.ld.MZ;b.MZ && b.P && (b.za=new f.U(b.MZ,b.P));if(l=a.path(this,["sidx"])){k=a.path(this,[z.JV]);k=k && k.iEb;g=a.path(this,[z.IV]);g=g && g.Ri;b.aa=l.aa;b.XJ=k;b.Ri=g;}if(k=this.Zc.vmaf && this.Zc.vmaf[0])b.mB=k.mB;if(this.config.SMb)if(c)(this.trim(c.byteOffset + c.byteLength),this.config.c5 && d && 1 < d.Bo && l && (b.qh=this.c5(d,l)),void 0 === b.qh && (c=this.Sh.g_?h.concat(this.Sh.Ja()):this.view.buffer,b.qh=[{rg:0,data:c}]));else return {FA:!1,parseError:"Missing movie box"};b.FA=!0;b.s3=this.Sh.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(a,this.view.byteLength));this.Sh.trim(a);this.view=new DataView(b);};a.prototype.c5=function(b,c){var f,d,l;f=Object.keys(b.Zc);d=f.filter(function(a){return "encv" !== a;});if(!(2 > f.length || d.length === f.length || 0 === d.length)){f=a.path(this,["ftyp"]);l=a.pwb(f);if(l)return (f=[],this.Sh.zKb(),b.PXa("encv"),f.push({rg:0,hk:!1,data:h.concat(this.Sh.Ja())}),this.Sh.nJb(),b.PXa(d[0]),b=a.dtb(l,c),f.push({rg:b,hk:!0,data:h.concat(this.Sh.Ja())}),f);}};a.Xpa={};return a;})();b.zy=a;a.Xpa[z.y9]=d["default"];a.Xpa[z.z9]=l["default"];},function(d){d.W=function a(c,d){var h;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,d);Object.getOwnPropertyNames(c).forEach(function(a){h=Object.getOwnPropertyDescriptor(c,a);void 0 !== h && Object.defineProperty(d,a,h);});};},function(d,b,a){var c,k,h,g,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(141);h=a(392);g=a(78);d=a(866);f=(function(){function a(a){a?(this.zn=a.zn.slice(),this.Fq=a.Fq.slice(),this.uh=a.uh.slice(),this.trim=a.trim):(this.zn=[],this.Fq=[],this.uh=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.zn.length && 0 === this.Fq.length && 0 === this.uh.length;},enumerable:!0,configurable:!0}});return a;})();d=(function(a){function b(b,c,d){b=a.call(this,b,c,d) || this;b.TLa=[];b.Cd=new f();return b;}c.__extends(b,a);b.whb=function(a,b){if(b.offset + b.size <= a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.hT?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.hT?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:k.assert(!b.hT);a.setUint32(b.offset,Math.floor(b.value / 4294967296));a.setUint32(b.offset + 4,b.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(b.prototype,{g_:{get:function(){return !this.Cd.empty;},enumerable:!0,configurable:!0}});b.prototype.g6=function(a,b){this.Cd.Fq.push({offset:void 0 !== b?b:this.offset,value:a,size:1});void 0 === b && (this.offset+=1);};b.prototype.cVb=function(a){this.Cd.Fq.push({offset:!1,value:a,size:2,hT:!1});};b.prototype.Eq=function(a,b){this.Cd.Fq.push({offset:void 0 !== b?b:this.offset,value:a,size:4,hT:!1});void 0 === b && (this.offset+=4);};b.prototype.dVb=function(a,b){this.Cd.Fq.push({offset:void 0 !== b?b:this.offset,value:a,size:8,hT:!1});void 0 === b && (this.offset+=8);};b.prototype.m2a=function(a){this.Eq(g.iEa(a));};b.prototype.Asa=function(a,b){this.Cd.uh.push({offset:this.offset,ro:a,value:b});this.offset+=4;};b.prototype.ql=function(a,b,c){this.Cd.zn.push({offset:b,remove:a,gb:c});};b.prototype.g4=function(a,b,c,f){this.Cd.zn.push({offset:c,remove:a,replace:b,gb:f});};b.prototype.trim=function(a){this.Cd.trim=a;};b.prototype.zKb=function(){this.TLa.push(new f(this.Cd));};b.prototype.nJb=function(){this.Cd=this.TLa.pop() || new f();};b.prototype.Ja=function(){var a,c,f,d,h,l,k;a=this;if(0 === this.Cd.zn.length && 0 === this.Cd.Fq.length && 0 === this.Cd.uh.length)return [void 0 === this.Cd.trim?this.view.buffer:this.view.buffer.slice(0,this.Cd.trim)];this.Cd.zn.sort(function(a,b){return a.offset - b.offset;});this.Cd.Fq.sort(function(a,b){return a.offset - b.offset;});this.HMb();c=this.Ysb();f=this.view.buffer.slice(0,c);d=new DataView(f);this.Cd.Fq.forEach(b.whb.bind(void 0,d));this.eTb(d);this.dTb(d);h=[];l=void 0 !== this.Cd.trim?Math.min(this.Cd.trim,this.view.byteLength):this.view.byteLength;k=0;this.Cd.zn.filter(function(a){return a.offset <= l;}).forEach(function(b){b.offset > k && (h.push(d.buffer.slice(k,b.offset)),b.offset > d.byteLength && d !== a.view && (d=a.view,h.push(d.buffer.slice(c,b.offset))));b.replace && h.push(b.replace);k=b.offset + b.remove;});k < c && h.push(f.slice(k));k < l && h.push(this.view.buffer.slice(Math.max(f.byteLength,k),l));return h;};b.prototype.Ysb=function(){var a,b,c;a=[];b=this.Cd.Fq[this.Cd.Fq.length - 1];c=this.Cd.uh[this.Cd.uh.length - 1];b && a.push(b.offset + b.size);c && a.push(c.offset + 4);this.Cd.zn.filter(function(a){return a.gb;}).forEach(function(b){return a.push(b.gb.byteOffset + 4);});b=Math.max.apply(void 0,a);return void 0 !== this.Cd.trim?Math.min(b,this.Cd.trim):b;};b.prototype.HMb=function(){this.Cd.zn=this.Cd.zn.reduce(function(a,b){var c,f;if(0 === a.length)return (a.push(b),a);c=a[a.length - 1];f=c.offset + c.remove;b.offset >= f?a.push(b):b.offset + b.remove > f && (k.assert(c.gb === b.gb),c.remove+=b.offset + b.remove - f,b.replace && (c.replace=c.replace?h.concat(c.replace,b.replace):b.replace));return a;},[]);};b.prototype.eTb=function(a){var b;b=this;this.Cd.uh.forEach(function(c){var f,d,h,l;f=a;d=c.offset;b.Cd.zn.some(function(a){return a.offset <= c.offset && a.replace && a.offset + a.replace.byteLength >= c.offset + 4?(f=new DataView(a.replace),d=c.offset - a.offset,!0):!1;});h=c.ro + (void 0 !== c.value?c.value:f.getInt32(d));l=b.Cd.zn.reduce(function(a,b){return b.offset > c.ro && b.offset < h?a + (b.remove - (b.replace?b.replace.byteLength:0)):a;},0);f.setInt32(d,h - c.ro - l);});};b.prototype.dTb=function(a){this.Cd.zn.forEach(function(b){var c;c=(b.remove || 0) - (b.replace?b.replace.byteLength:0);if(0 !== c)for(b=b.gb;b;){a.setUint32(b.byteOffset,a.getUint32(b.byteOffset) - c);b=b.parent;}});};return b;})(d.lab);b.kab=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(142);a(142);k=a(78);d=(function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.tE=this.XO=this.offset=0;}a.prototype.jvb=function(a){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,a);};a.prototype.cg=function(a){for(;this.tE < a;){this.XO=(this.XO << 8) + this.Fd();this.tE+=8;}this.tE-=a;return this.XO >>> this.tE & (1 << a) - 1;};a.prototype.Fd=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.vh=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Nb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.cpa=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.oIb=function(a,b){var c;c=this.view.getUint32(this.offset + (a?4:0),a);a=this.view.getUint32(this.offset + (a?0:4),a);b || 0 === (c & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * c + a;};a.prototype.Lj=function(a,b){a=this.oIb(a,b);this.offset+=8;return a;};a.prototype.qIb=function(){var a,b;a=this.view.getInt32(this.offset + 0,void 0);b=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < a?a:-a) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * a + b;};a.prototype.TKb=function(){var a;a=this.qIb();this.offset+=8;return a;};a.prototype.QA=function(){return k.Oy(this.Nb());};a.prototype.a4=function(){var b,c,d,h,k,g;function a(a,b){return ("000000" + a.toString(16)).slice(2 * -b);}b=this.Nb(!0);c=this.vh(!0);d=this.vh(!0);h=this.vh();k=this.vh();g=this.Nb();return [a(b,4),a(c,2),a(d,2),a(h,2),a(k,2) + a(g,4)].join("-");};a.prototype.NKb=function(){var a;a=this.view.byteOffset + this.offset;return this.view.buffer.slice(a,a + 16);};a.prototype.MKb=function(a){var b;b=[];if(0 === a)return "";a=a || Number.MAX_SAFE_INTEGER;for(var c=this.Fd();0 !== c && 0 <= --a;){b.push(c);c=this.Fd();}return String.fromCharCode.apply(null,b);};a.prototype.Y3=function(a){var b,d;void 0 === b && (b=1);void 0 === d && (d=!0);return this.Dk(this.config.IL && c.$xb || c.ZI,1,a,b,d);};a.prototype.LKb=function(a){var b,d,h;d=10;h=!1;void 0 === d && (d=2);void 0 === h && (h=!0);void 0 === b && (b=!1);return this.Dk(this.config.IL && c.Yxb || c.H0,2,a,d,h,b);};a.prototype.X3=function(a,b,d){var f;void 0 === b && (b=4);void 0 === d && (d=!0);void 0 === f && (f=!1);return this.Dk(this.config.IL && c.Zxb || c.YI,4,a,b,d,f);};a.prototype.PKb=function(){for(var a=this.Fd(),b=a & 127;a & 128;){a=this.Fd();b=b << 7 | a & 127;}return b;};a.prototype.Dk=function(a,b,c,d,h,k){void 0 === h && (h=!0);void 0 === k && (k=!1);a=a(this.view,this.offset,c,d,k);this.offset=h || !d || d === b?this.offset + c * (d || b):this.offset + b;return a;};return a;})();b.lab=d;},function(d,b,a){var h,g,f,q;function c(a,b,c,f){g.call(this,a,b,c,f);}function k(a,b,c){g.call(this,a,b,c,void 0);}h=a(91);g=a(395).EM;f=a(391);q=a(78).iEa;c.prototype=Object.create(g.prototype);k.prototype=Object.create(c.prototype);k.prototype.pcb=function(a,b){return "string" === typeof b?f[b]:b?f.reset[a] || f.hQb[a]:f.hQb[a];};k.prototype.KXa=function(a,b,c,f){return this.Ja(a,b,!1,c,f);};k.prototype.SXa=function(a,b,c,f){return this.Ja(a,b,!0,c,f);};k.prototype.Ja=function(a,b,c,f,d){var k,g,m,q,t,u,x,z,n,p,r,la,Y,Q;function l(a){g=k[a];m=g.Bs("traf");if(void 0 === m || void 0 === m.nw)return !1;q=m.Bs("tfdt");if(void 0 === q)return !1;t=m.Bs("trun");return void 0 === t?!1:!0;}if(!this.parse())return !1;k=this.Zc.moof;if(!k || 0 === k.length)return !1;if(void 0 !== a)for((u=a,a=0);a < k.length;++a){if(!l(a))return !1;if(t.ye > u || c && t.ye === u)break;u-=t.ye;}else if((a=c?k.length - 1:0,!l(a)))return !1;if(c && a < k.length - 1){x=k[a + 1];this.Sh.ql(this.q2b - x.startOffset,x.startOffset);}else !c && 0 < a && this.Sh.ql(g.startOffset,0);x=m.Bs("tfhd");if(void 0 === x)return !1;q=m.Bs("tfdt");z=t.ye;n=m.Bs("saiz");p=m.Bs("saio");r=m.Bs(h.Fza);la=m.Bs("sbgp");if(!(!n && !p || n && p))return !1;Y=m.Bs("sdtp");if(this.Zc.mdat && a < this.Zc.mdat.length)Q=this.Zc.mdat[a];else if(a !== k.length - 1)return !1;void 0 === u && (u=c?t.ye:0);if(t.Ja(m,x,Q || this.Sh,b,u,m.nw,c))t.g_ && (!c && q && q.Ja(t.WPb),n && p && (n.Ja(t.gL,c),p.Ja(r?0:n.Tpa,m.nw,c)),r && r.Ja(t.gL,c),Y && Y.Ja(t.gL,z,c),la && la.Ja(t.gL,c));else if(!c){if(a === k.length - 1)return !1;this.Sh.ql(k[a + 1].startOffset - g.startOffset,g.startOffset);}else if(0 === t.gL)return !1;f && (b=this.pcb(this.stream.profile,d)) && t.gMb(m,x,Q,c,f,b);c=this.Sh.Ja();f=c.reduce(function(a,b){return a + b.byteLength;},0);c={ud:c,length:f,BE:this.Sh.view.byteLength};t.g_ && !Q && (c.EK=m.nw + t.EK,c.ms=t.ms);return c;};d.W={yy:k,pR:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a + 8);c.setUint32(4,q("mdat"));return b;}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=b.Us || (b.Us={});d[d.AUDIO=0]="AUDIO";d[d.VIDEO=1]="VIDEO";},function(d,b,a){var c,k,h,g,f,q,l,u,t,x,z,n,B,p,I;Object.defineProperty(b,"__esModule",{value:!0});b.Wva=void 0;c=a(16);k=a(8);h=a(3);g=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");f=a(24);q=a(870);l=h.Kk;u=l.UF;t={};x={};d=[f.Gg.uv,!1];a=[f.Gg.uv,!0];z=[f.Gg.bC,!1];n=[f.Gg.bC,!0];B=[f.Gg.URL,!0];p=[-1,!1];I=[f.Gg.bC,!1];t[u.mVb]=z;t[u.UNKNOWN_ERROR]=z;t[u.ZYb]=z;t[u.b5a]=z;t[u.Oua]=z;t[u.n5a]=z;t[u.f5a]=n;t[u.f4a]=n;t[u.Zta]=I;t[u.M6]=I;t[u.g4a]=p;t[u.h4a]=I;t[u.i4a]=I;t[u.c4a]=z;t[u.e4a]=z;t[u.Yta]=d;t[u.d4a]=z;t[u.b4a]=I;t[u.hWb]=n;t[u.A6a]=I;t[u.zwa]=I;t[u.ywa]=I;t[u.l8]=I;t[u.wwa]=I;t[u.z6a]=B;t[u.m8]=n;t[u.o8]=B;t[u.n8]=a;t[u.Cwa]=n;t[u.C6a]=B;t[u.pV]=I;t[u.Awa]=n;t[u.B6a]=n;t[u.i5a]=n;t[u.c5a]=z;t[u.w$a]=z;t[u.T4a]=z;t[u.U4a]=z;t[u.V4a]=z;t[u.W4a]=z;t[u.X4a]=z;t[u.Y4a]=z;t[u.Z4a]=z;t[u.$4a]=z;t[u.a5a]=z;t[u.d5a]=z;t[u.e5a]=z;t[u.g5a]=z;t[u.h5a]=z;t[u.j5a]=z;t[u.k5a]=z;t[u.l5a]=z;t[u.m5a]=z;t[u.o5a]=z;t[u.p5a]=z;t[u.v$a]=I;t[u.TIMEOUT]=d;x[u.Zta]=!0;x[u.zwa]=!0;x[u.ywa]=!0;x[u.wwa]=!0;x[u.Oua]=!0;d=(function(){var y40;y40=2;for(;y40 !== 12;){switch(y40){case 9:a.prototype.n4=function(){var K40;K40=2;for(;K40 !== 1;){switch(K40){case 2:this.IK || (this.el.n4(),this.wra={},this.Xp());K40=1;break;}}};a.prototype.I5=function(a){var L40,b;L40=2;for(;L40 !== 9;){switch(L40){case 2:b=this.config;this.xJ=Math.max(a.timestamp || h.time.da(),this.xJ);this.fD();b.gs && this.Koa.I5(a);L40=3;break;case 3:var L6e="updat";L6e+="ingLastSuc";L6e+="cessEven";L6e+="t";var K6e="updatingLastSuccess";K6e+="Ev";K6e+="ent";this.events.emit(K6e,{type:L6e});L40=9;break;}}};a.prototype.Gna=function(){var M40;M40=2;for(;M40 !== 1;){switch(M40){case 4:this.nr=3;M40=2;break;M40=1;break;case 2:this.nr=0;M40=1;break;}}};a.prototype.vk=function(){var N40,a,b,c;N40=2;for(;N40 !== 4;){switch(N40){case 2:var u6e="m";u6e+="s";var p6e="Setting under";p6e+="fl";p6e+="ow timeout";p6e+=" i";p6e+="n ";(a=this,b=this.config,c=b.rR);this.xJ=Math.max(h.time.da(),this.xJ);b.y1a && !this.Cq && (g.info(p6e + c + u6e),this.Cq=setTimeout(function(){var O40;O40=2;for(;O40 !== 4;){switch(O40){case 2:var U6e="F";U6e+="orcing permanent n";U6e+="etwork failure ";U6e+="after ";var o6e="ms, sinc";o6e+="e";o6e+=" underflow with no success";a000.w8e(4);g.info(a000.G8e(o6e,c,U6e));a.Cq=void 0;a.el.pq(f.Gg.uv,!0);O40=4;break;}}},c));N40=4;break;}}};a.prototype.fD=function(){var P40;P40=2;for(;P40 !== 1;){switch(P40){case 2:var D6e="Cleared un";D6e+="der";D6e+="fl";D6e+="ow t";D6e+="imeout";this.Cq && (clearTimeout(this.Cq),this.Cq=void 0,g.info(D6e));P40=1;break;}}};return a;break;case 4:a.prototype.iMb=function(a){var H40,b,c,f;H40=2;for(;H40 !== 7;){switch(H40){case 8:this.wra[a]={mi:b,count:1};H40=7;break;case 4:(f.mi=b,f.count=1);H40=7;break;case 2:(b=h.time.da(),c=this.config,f=this.wra[a]);H40=1;break;case 3:H40=!(f.mi >= b - c.s5 || f.Ux || (f.mi=b,++f.count,f.count < c.q2))?9:7;break;case 1:H40=f?5:8;break;case 5:H40=f.mi < this.xJ?4:3;break;case 9:return f.Ux=!0;break;}}};a.prototype.Ayb=function(a){var I40,b,c,f,d,l,k,m;I40=2;for(;I40 !== 8;){switch(I40){case 9:f?(this.IK && (clearTimeout(this.IK),this.IK=void 0),this.fD(),this.Koa.reset(),this.Hyb({cBb:a,BHb:d,CHb:l,DHb:k})):this.IK || (this.IK=setTimeout(function(){var J40;J40=2;for(;J40 !== 5;){switch(J40){case 2:b.IK=void 0;b.n4();J40=5;break;}}},m.fna));I40=8;break;case 2:var Y6e="te";Y6e+="mporaryNetwo";Y6e+="r";Y6e+="kError";var s6e="tem";s6e+="poraryNe";s6e+="tworkError";var G6e=" last succ";G6e+="ess";G6e+=" was ";var t6e="Ne";t6e+="twor";t6e+="k h";t6e+="as fa";t6e+="iled ";var m6e="tem";m6e+="po";m6e+="rarily";var q6e="pe";q6e+="rman";q6e+="en";q6e+="tl";q6e+="y";var Q6e=" ms a";Q6e+="g";Q6e+="o";(b=this,c=h.time.da() - this.xJ,f=a,m=this.config);a000.Y8e(5);g.warn(a000.s8e(Q6e,a?q6e:m6e,t6e,c,G6e));!a && c > m.ena && (f=!0);this.nx && (d=this.nx.qg,l=this.nx.UD,k=this.nx.ni);a || this.events.emit(s6e,{type:Y6e,errorCode:d,httpCode:l,nativeCode:k});I40=9;break;}}};y40=9;break;case 2:a.prototype.Qb=function(){var A40;A40=2;for(;A40 !== 1;){switch(A40){case 2:this.ag.clear();A40=1;break;case 4:this.ag.clear();A40=0;break;A40=1;break;}}};a.prototype.cF=function(a){var B40;B40=2;for(;B40 !== 1;){switch(B40){case 2:this.a5=a;B40=1;break;}}};a.prototype.pq=function(a,b,c,d){var C40,h,m,q,u,n,y,E,L,B;C40=2;for(;C40 !== 17;){switch(C40){case 14:y && (m[y]=[a.url]);C40=13;break;case 19:return;break;case 7:C40=void 0 !== a.url?6:11;break;case 11:C40=void 0 !== a.host && void 0 !== a.port?10:20;break;case 20:var w6e="Invalid af";w6e+="f";w6e+="ecte";w6e+="d for network failure";g.error(w6e);C40=19;break;case 2:var i6e=" :";i6e+=" ";i6e+="critical error ";i6e+="count = ";var g6e=" ";g6e+="o";g6e+="n";g6e+=" ";var J6e="Fail";J6e+="ur";J6e+="e ";(h=this,m=l.UF.name,q=c?m[c]:void 0,m={},u=this.config,n=this.el);g.warn(J6e + q + g6e + JSON.stringify(a) + i6e + this.nr);C40=5;break;case 6:y=n.eZa(a.url);C40=14;break;case 13:(E=B[0],L=B[1]);u.gs?k.forEach(m,function(l,k){var D40;D40=2;for(;D40 !== 5;){switch(D40){case 2:var b6e="e";b6e+="r";b6e+="r";b6e+="o";b6e+="r";B === I || B === z?h.Koa.aKb({url:void 0 !== a.url?a.url:l[0],Tb:k},{qHa:k,PT:B,UD:b,qg:c,MMa:q,ni:d}):l.some(function(a){var E40;E40=2;for(;E40 !== 5;){switch(E40){case 2:n.pq(E,L,a);return E === f.Gg.bC;break;}}});!h.a5 || 0 !== b && void 0 !== b || (l=void 0 !== a.url?a.url:l[0]) && h.a5.kqa(b6e,l);D40=5;break;}}}):k.forEach(m,function(c,d){var F40;F40=2;for(;F40 !== 5;){switch(F40){case 2:F40=B !== I || h.iMb(d)?1:5;break;case 1:var H6e="err";H6e+="o";H6e+="r";(c.some(function(a){var G40;G40=2;for(;G40 !== 5;){switch(G40){case 2:n.pq(E,L,a);return E === f.Gg.bC;break;}}}),!h.a5 || 0 !== b && void 0 !== b || (c=void 0 !== a.url?a.url:c[0]) && h.a5.kqa(H6e,c));F40=5;break;}}});C40=17;break;case 5:C40=c && k.isArray(t[c])?4:18;break;case 8:C40=B !== p?7:17;break;case 4:var Z6e="critic";Z6e+="alN";Z6e+="etwor";Z6e+="kErro";Z6e+="r";var M6e="crit";M6e+="icalN";M6e+="e";M6e+="twork";M6e+="Error";B=t[c];this.nx={UD:b,qg:c,MMa:q,ni:d};x[c] && (++this.nr,this.events.emit(M6e,{type:Z6e,qg:c}));C40=8;break;case 10:m=n.kOb(a.host,a.port);C40=13;break;case 18:var a6e="Unmapped";a6e+=" failure code in JSA";a6e+="SE error director : ";a000.w8e(1);g.error(a000.s8e(a6e,c));C40=17;break;}}};y40=4;break;}}function a(a,b,f,d){var z40;z40=2;for(;z40 !== 10;){switch(z40){case 8:var X6e="netwo";X6e+="rkFa";X6e+="i";X6e+="led";var I6e="1S";I6e+="I";I6e+="YbZrNJC";I6e+="p9";I6e;t[u.l8]=b.tzb?n:I;this.ag.addListener(this.el,X6e,this.Ayb.bind(this));z40=14;break;case 14:this.xJ=h.time.da();this.nr=0;this.wra={};this.Koa=new q(a,d,b);z40=10;break;case 2:this.el=a;this.config=b;this.Hyb=f;this.Xp=d;this.events=new c.EventEmitter();this.ag=new c.Yg();z40=8;break;}}}})();b.Wva=d;},function(d,b,a){var k,h,g;function c(a,b,c){this.RN=a;this.rC=0 === Math.floor(1E6 * Math.random()) % c.ME;this.groupId=1;this.config=c;this.Nw={};this.OA={};this.Xp=b;}k=a(8);h=a(3);new h.Console("ASEJS_PROBE_MANAGER","asejs");g=a(871).nta;c.prototype.constructor=c;c.prototype.aKb=function(a,b){var c,f,d,g,m,q,n,p,I,E,r;c=this.RN;f=a.Tb;d=c.w_a(a.url);g=c.d2(a.url);m=this.config;q=h.time.da();p=b;I=[];E=d.en[0];r=!1;n=this.Nw[f];if(!n)n=this.Nw[f]={count:0,mi:q,Ux:!1,error:b,vqa:[],Moa:{}};else if(n.mi >= q - m.s5)return;n.Ux || (E && g.id === E.id && (a.isPrimary=!0),n.mi=q,n.Ux=!1,n.error=b,++n.count,d && d.Be && 0 !== d.Be.length && (k.forEach(d.Be,function(b){var c,d,h;c=b.Ic.id;d=c + "-" + f;h=this.OA[d];if(void 0 === h || void 0 === h.Q3)(h && h.vi && clearTimeout(h.vi),b=this.BKa(b.url,a,c),this.OA[d]={ia:!1,count:0,Q3:b.kk()},I.push(b.kk()),r=!0);-1 === n.vqa.indexOf(c) && n.vqa.push(c);},this),this.rC && 0 < I.length && (d={type:"logdata",target:"endplay",fields:{}},b=p,p={ts:h.time.da(),es:b.qHa,fc:b.qg,fn:b.MMa,nc:b.ni,pb:I,gid:this.groupId},b.UD && (p.hc=b.UD),d.fields.errpb={type:"array",value:p,adjust:["ts"]},c.km(d)),r && this.groupId++));};c.prototype.BKa=function(a,b,c){var d,f,h;d=this.RN.d2(b.url);d && d.cb && d.cb.Ir && d.cb.Ir.Ga || Math.random(0,1);d=new g(this);f=a.split("?");h="random=" + parseInt(1E7 * Math.random(),10);d.xHb(1 < f.length?a + "&" + h:a + "?" + h,b,c);return d;};c.prototype.bKb=function(a,b){var c,d,f,k,g,m,q,n;c=this.RN;d=this.config;f=b.Tb;k=this.Nw[f];m=a.url;q=this.OA[a.Tb + "-" + f];if(k && (g=k.error,q)){q && q.vi && clearTimeout(q.vi);q.ia=!0;q.count=0;q.Q3=void 0;k.Moa[a.Tb]=!0;(q=this.Nw[a.Tb]) && !0 === q.Ux && d.ew && (c.lYa(a.Tb,q.error.PT[1]),this.rC && (q={type:"logdata",target:"endplay",fields:{}},q.fields.errst={type:"array",value:{ts:h.time.da(),id:a.requestId,servid:b.Tb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.km(q)),this.Nw[a.Tb]=void 0,this.Xp());if(m !== b.url){n=this.OA[f + "-" + f];n && n.ia || (f=(f=c.d2(m)) && f.cb && f.cb.Ir && f.cb.Ir.Ga || Math.random(0,1) * d.m2,f=Math.min(f,d.m2),setTimeout((function(){var d;if(!(!1 !== k.Ux || n && n.ia) && (k.Ux=!0,c.pq(g.PT[0],g.PT[1],b.url,g),this.rC)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:h.time.da(),id:a.requestId,servid:b.Tb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.km(d);}}).bind(this),f));}this.rC && (q={type:"logdata",target:"endplay",fields:{}},q.fields.pbres={type:"array",value:{ts:h.time.da(),id:a.requestId,result:1,servid:a.Tb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.km(q));}};c.prototype.ZJb=function(a,b){var c,d,f,g,m,q,n,p,I,E;c=this.RN;d=parseInt(b.Tb,10);f=this.Nw[d];g=parseInt(a.Tb,10);m=this.OA[g + "-" + d];q=0;I=this.config;if(m && f){m.ia=!1;m.Q3=void 0;f.Moa[g]=!1;p=f.vqa;if(I.ew && g === d && b.isPrimary){E=c.d2(b.url);E=E && E.cb && E.cb.Ir && E.cb.Ir.Ga || 300 * Math.random(0,1);E=E * Math.pow(2,m.count);E=Math.min(E,12E4);E=E + Math.random(0,1) * (1E4 > E?100:1E4);m.vi=setTimeout((function(){var c;m.vi=void 0;c=this.BKa(a.url,b,g);c.GOb(a.groupId);m.Q3=c.kk();}).bind(this),E);}++m.count;g === d && (q=0,p.forEach(function(a){!1 === f.Moa[a] && q++;}),p.length === q && f.count >= I.q2 && (n=f.error,f.Ux=!0,k.forEach(c.w_a(b.url).Be,function(a){var b;c.pq(n.PT[0],n.PT[1],a.url,n);if(this.rC){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.da(),id:-1,servid:a.Ic.id},adjust:["ts"]};c.km(b);}},this)));this.rC && (d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:h.time.da(),id:a.requestId,result:0,servid:a.Tb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.km(d));}};c.prototype.I5=function(a){var b,c,d;b=a.url || a.mediaRequest.url;if(b){a=this.RN;b=a.eZa(b);c=this.Nw[b];d=this.OA[b + "-" + b];c && c.Ux && this.config.ew && (a.lYa(c.error.qHa,!1),this.rC && (c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.da(),id:-1,servid:b},adjust:["ts"]},a.km(c)),this.Nw[b]=void 0,d && d.vi && clearTimeout(d.vi));}};c.prototype.reset=function(){var a,b,c;a=this.OA;for(c in a){a.hasOwnProperty(c) && (b=a[c + "-" + c]) && b.vi && clearTimeout(b.vi);}this.OA={};this.Nw={};};d.W=c;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.nta=void 0;c=a(0);k=a(16);h=a(3).ft;d=(function(a){function b(b){var c;c=a.call(this) || this;c.UFa=b;c.wX=b.groupId;c.Vf=new k.Yg();c.Vf.on(c,h.Zd.KM,c.XN);c.Vf.on(c,h.Zd.VB,c.oH);return c;}c.__extends(b,a);b.prototype.xHb=function(a,b,c){h.prototype.open.call(this,a,b,c);};b.prototype.GOb=function(a){this.wX=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.wX;},enumerable:!1,configurable:!0}});b.prototype.ac=function(){this.Vf && this.Vf.clear();h.prototype.ac.call(this);};b.prototype.XN=function(a){this.UFa.bKb(a.probed,a.affected);this.ac();};b.prototype.oH=function(a){this.UFa.ZJb(a.probed,a.affected);this.ac();};return b;})(h);b.nta=d;},function(d,b,a){var c,k,h,g,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.Ewa=void 0;c=a(0);k=a(139);h=a(397);g=a(17);f=a(3);d=a(90);q=a(400);l=a(5);u=a(121);a=(function(a){function b(b,c,d,f,h,l,k,g,m,q,t){var x;x=a.call(this,b) || this;x.zd=b;x.G=c;x.H=d;x.km=f;x.Uz=l;x.x1=k;x.Gh=g;x.lGa=m;x.sg=q;x.hFa=[void 0,void 0];x.cda=[];x.IN=null !== t && void 0 !== t?t:{vt:[Object.create(null),Object.create(null)]};h?x.AQ=h:(x.Wf=u.Jn.pf.mr("headers","" + x.zd.la,!0,!1,{},x.H),x.Wf.Ib());return x;}c.__extends(b,a);Object.defineProperties(b.prototype,{vt:{get:function(){return this.IN.vt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Py:{get:function(){return this.IN.Py;},set:function(a){this.IN.Py=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RG:{get:function(){return this.IN.RG;},set:function(a){this.IN.RG=a;},enumerable:!1,configurable:!0}});b.prototype.ac=function(){var a;a=this;this.vt.forEach(function(b,c){for(var d in b){b[d].ac();a.tga(c,d);}});this.Wf && u.Jn.pf.rI(this.Wf);this.Wf=void 0;};b.prototype.Hj=function(a,b){return this.vt[a][b];};b.prototype.T0=function(){return !(!this.Py || !this.Py.length);};b.prototype.efa=function(){this.Py=void 0;};b.prototype.cL=function(a){this.Py=a;};b.prototype.Sra=function(){var a,b;if(!this.T0() || this.RG)return !1;for(k.Cl.Jo(1);0 < this.Py.length;){a=this.Py.shift();b=this.zd.Dr(1,a);if(b && !this.Qyb(a) && b.Mr)return (this.RG=a,this.F5(b,{offset:0,iL:!0}));}return !1;};b.prototype.hsa=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.Hj(a,b.Ca);d && !b.je && (d.stream.je?b.uZ(d.stream):(d.dS || (d.dS=[]),d.dS.push(c.zd)));});};b.prototype.GK=function(a,b,c){var d,f,h;d=this;h=this.zd;g.We.forEach(function(f){var k,g,m,t,u;if(h.mb(f) && (void 0 === c || f === c)){t=a[f];l.assert(t && h.getTrackById(t.jb) === t);t=t.gd;if(h.Xi)d.G.warn("requestHeadersFromManifest, shutdown detected");else if(h.el.GL(h.la,t)){u=null !== (m=null === (g=null === (k=d.Uz(f)) || void 0 === k?void 0:k.eE) || void 0 === g?void 0:g.S) && void 0 !== m?m:0;k=q.Gha(t,u);void 0 === k && d.G.warn("Unable to find stream for bitrate " + u);k=t[k];(g=h.Hj(f,k.Ca)) && g.stream.aa?h.fTb(f,g):(f={offset:0,iL:!1,Iz:1 === f,cu:!0,$J:!d.x1(h)},h.xKa(k,f,b));}else d.G.warn("requestHeadersFromManifest, unable to update urls");}});h.Z0=!0;null === (f=this.sg) || void 0 === f?void 0:f.call(this,h.eb).bZ();};b.prototype.zF=function(a,b){var c,d,h,l;c=this.H;d=this.Hj(a.I,a.Ca);if(d)return (d.stream.aa || d.iL && this.EJa(d),!1);d=this.Pcb;h=this.Qcb;if(void 0 !== c.Xma && void 0 !== d && void 0 !== h){l=f.time.da();if(l - d < c.Xma || l - h < c.Xma)return !1;}a=this.F5(a,{url:a.url,offset:0},void 0,void 0,b);this.Qcb=f.time.da();return a;};b.prototype.F5=function(a,b,d,f,h){var g,m,q,t,u;q=a.I;k.Cl.Jo(q);t=a.Ca;if(this.hbb(t,! !b.cu))return (null === (g=this.lGa) || void 0 === g?void 0:g.call(this),!1);if(g=this.Hj(q,t))a=!1;else {g=c.__assign(c.__assign({},b),{$:this.Tbb(a)});t=! !g.Iz;u=! !g.$J;this.AQ?h=this.AQ(q,! !g.cu,t,u,! !d):h || (h=this.Wf);l.assert(h);a.url && (this.Uz(q).Fla=a.url);g=a=this.xba(a,h,g);if(!a.Au())return (this.zd.Bg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);a=!0;}b.cu && f && (this.zd.ug[q]=g);null === (m=this.lGa) || void 0 === m?void 0:m.call(this);return a;};b.prototype.Dq=function(){var a,b;a=this;b=[];this.vt.forEach(function(c,d){var h;k.Cl.Jo(d);for(var f in c){d=c[f];h=d.N5();1 === h?b.push(d):2 === h && a.zd.Bg("swapUrl failure");}});return b;};b.prototype.Jj=function(a){var b,c;b=a.I;c=k.Cl.Jo(b);this.zd.Xi?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.km({type:"logdata",target:"startplay",ld:{usedNativeDataView:a.dUb}}),a.s3 > a.AHb && (this.hFa[b]=a.s3),a.iL && this.EJa(a),this.xcb(a),this.Pcb=f.time.da(),this.zd.cA.emit("onHeaderRequestComplete",a));this.zr(a);};b.prototype.BY=function(a,b,c){var d;d=a.I;k.Cl.Jo(d);d=this.zd.Dr(d,a.Ca);if(b !== ! !a.hk)return !1;this.WGa(a);a.ahb(d);this.KDa(a);this.zd.cA.emit("onHeaderFromCache",{Yp:a,utb:c});return !0;};b.prototype.yO=function(a,b){var c,d,f,h;c=[];d=this.vt[a];for(f in d){h=d[f];h && !h.stream.aa && h.pl === b && (this.tga(a,f),c.push({stream:h.stream,offset:h.offset,$:h.$,Iz:h.Iz,cu:h.cu,$J:h.$J,Zna:h.Zna}),h.ac());}return c;};b.prototype.s4=function(a){var b;b=this;a.forEach(function(a){b.F5(a.stream,a);});};b.prototype.WGa=function(a){this.vt[a.I][a.Ca]=a;};b.prototype.Qyb=function(a){return ! !this.Hj(1,a);};b.prototype.xcb=function(a){var b,c,d,f,l;b=this.H;c=k.Cl.Jo(a.I);d=a.stream.aa;if(b.ega){f=d.length;c.trace("fragment count:",f);for(var h=0;h < f;++h){l=d.get(h);c.trace("fragment: " + h + ", startPts: " + l.T + ", duration: " + l.duration + ", offset: " + l.offset);}}this.KDa(a);if(b.GA && b.GA.enabled && void 0 === d.mB && b.GA.simulatedFallback){f=d.length;b=[];for(h=0;h < f;++h){b[h]=Math.max(0,a.stream.ib + this.Ieb(h));}d.ePb(b);}};b.prototype.KDa=function(a){var b,c;b=a.I;c=a.Ca;k.Cl.Jo(b);a.dS && (a.dS.forEach(function(d){(d=d.Dr(b,c)) && d !== a.stream && !d.je && d.uZ(a.stream);}),a.dS=void 0);this.zd.yyb(a);};b.prototype.xba=function(a,b,c){var d,f;d=this;f=k.Cl.Jo(a.I);a=new h.t6(a,this.H,b,c,this,!1,f);a.addListener("headerRequestCancelled",function(a){d.wcb(a.request);});a.Ib(void 0);this.WGa(a);return a;};b.prototype.hbb=function(a,b){return this.Gh && (a=this.Gh.kR(this.zd.u,a)) && this.BY(a,!1,b)?!0:!1;};b.prototype.Tbb=function(a){var b,c,d;b=a.ws;c=a.O;d=this.H;return c.Me.Mf?d.z_?d.z_:d.Y0:d.G1a && b?b.offset + b.size:(a=this.hFa[a.I])?a + 128:2292 + 12 * Math.ceil(c.duration / 2E3);};b.prototype.wcb=function(a){this.tga(a.I,a.Ca);};b.prototype.tga=function(a,b){delete this.vt[a][b];};b.prototype.EJa=function(a){this.RG === a.Ca && (this.RG=void 0);};b.prototype.Ieb=function(a){var b;b=this.H.GA.fallbackBound;void 0 === this.cda[a] && (this.cda[a]=Math.floor(2 * Math.random() * b) - b);return this.cda[a];};return b;})(d.Is);b.Ewa=a;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.IBa=void 0;c=a(0);k=a(16);d=(function(a){function b(b,c,d,h){var f;f=a.call(this) || this;f.G=b;f.track=c;f.Um=!1;f.Vba=!1;f.ag=new k.Yg();f.ag.on(c,"networkfailing",function(){f.emit("networkfailing");});f.ag.on(c,"error",function(){f.G.warn("requestQueue got error");f.emit("error");});if(d)(f.Um=!0,setTimeout(function(){return f.emit("created");},0));else f.ag.on(c,"created",function(){f.Um=!0;f.emit("created");});f.Vba=h;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{y_:{get:function(){return this.track.y_;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qg:{get:function(){return this.track.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ni:{get:function(){return this.track.ni;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Aha:{get:function(){return this.track.Aha;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});b.prototype.Ib=function(){var a,b;this.Vba || (null === (b=(a=this.track).Ib) || void 0 === b?void 0:b.call(a),this.Vba=!0);};b.prototype.Po=function(){return this.track.Po();};b.prototype.j4=function(){return this.track.j4();};b.prototype.toString=function(){return this.track.toString();};b.prototype.toJSON=function(){return this.track;};b.prototype.Op=function(){this.ag.clear();};return b;})(k.EventEmitter);b.IBa=d;},function(d,b,a){var l,u,t,x,n,y,B;function c(a){var b,d,f;a=a.parent;b=!1;if(a && a.children){d={};d[y.Lk]=[];d[y.Rj]=[];d[y.TEMPORARY]=[];f=a.children;f.forEach(function(a){a && d[a.we].push(a);});0 < d[y.Lk].length || (d[y.Rj].length === f.length?a.we !== y.Rj && (a.we=y.Rj,n.error("PERM failing :",t.Gg.name[a.AD] + " " + a.id),b=!0):(a.we === y.Lk && (a.we=y.TEMPORARY,n.error("TEMP failing :",t.Gg.name[a.AD] + " " + a.id),b=!0),d[y.TEMPORARY].forEach(function(a){a.we=y.Lk;})),b && c(a));}}function k(a){var c;for(var b=[];a;a=a.parent){switch(a.AD){case t.Gg.bC:c=a;b.unshift(c.id + "(" + c.name + ")");break;case t.Gg.Axa:b.unshift(a.id);break;case t.Gg.URL:b.unshift("<url for " + a.stream.S + ">");}}return b.length?"/" + b.join("/"):"";}function h(a){var b;if((a=a.parent) && 0 < a.children.length && a.we !== y.Lk){b={};b[y.Lk]=[];b[y.Rj]=[];b[y.TEMPORARY]=[];a.children.forEach(function(a){a && b[a.we].push(a);});0 < b[y.Lk].length && (a.we=y.Lk,h(a));}}function g(a){return a.we !== y.Lk;}function f(a){switch(a.we){case y.Lk:return "OK";case y.Rj:return "FAILED PERMANENTLY";case y.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function q(a,b){if(a.we === y.TEMPORARY || a.we === y.Rj && b)a.we=y.Lk;a.children && a.children.forEach(function(a){a && q(a,b);});}Object.defineProperty(b,"__esModule",{value:!0});b.xV=void 0;l=a(0);u=a(8);d=a(16);t=a(24);x=a(3);n=new x.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Lk=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Rj=2]="PERMANENT";})(y || (y={}));(function(a){a[a.Av=0]="STARTUP";a[a.$9a=1]="REBUFFER";})(B || (B={}));a=(function(a){function b(b,c,d,f,h){var R40,l;R40=2;for(;R40 !== 27;){switch(R40){case 2:l=a.call(this) || this;l.qb=c;l.Of=d;R40=4;break;case 8:l.ou=void 0;l.en={};l.ss={};R40=14;break;case 4:l.config=f;l.Gdb=h;l.eKb=B.Av;R40=8;break;case 14:l.Be={};l.wc={};R40=12;break;case 15:return l;break;case 12:var C6e="netw";C6e+="or";C6e+="k";l.Bx=[];l.S2=!1;l.jn={id:C6e,AD:t.Gg.uv,we:y.Lk,Eu:void 0,parent:void 0,children:l.Bx};l.GX=null;R40=19;break;case 19:var V6e="1";V6e+="SI";V6e+="YbZrNJCp9";l.VK=null;l.WK=t.ah.Av;l.EO(b);V6e;R40=15;break;}}}var Q40;Q40=2;for(;Q40 !== 25;){switch(Q40){case 2:l.__extends(b,a);b.prototype.Fxb=function(){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 4:return this.Bx[4].cb;break;S40=1;break;case 2:return this.Bx[0].cb;break;}}};b.prototype.Qia=function(){var T40;T40=2;for(;T40 !== 1;){switch(T40){case 2:return this.Bx;break;}}};b.prototype.Up=function(){var U40;U40=2;for(;U40 !== 1;){switch(U40){case 2:return g(this.jn);break;}}};b.prototype.eZa=function(a){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 2:V40=(a=this.Be[a]) && a.parent?1:5;break;case 1:return a.parent.id;break;case 9:return a.parent.id;break;V40=5;break;}}};Q40=9;break;case 14:b.prototype.kOb=function(a,b){var n50,c,d;n50=2;for(;n50 !== 4;){switch(n50){case 2:(c={},d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);u.forEach(this.Be,function(f,h){var o50,l,k,g,m;o50=2;for(;o50 !== 8;){switch(o50){case 5:o50=k && 4 === k.length?4:8;break;case 2:f=f.parent?f.parent.id:"";(l=c[f],k=h.match(d));o50=5;break;case 4:var k6e="8";k6e+="0";var P6e="4";P6e+="4";P6e+="3";(g="s" === k[1],m=k[2],k=k[3]);k.length || (k=g?P6e:k6e);u.df(m) && u.df(k) && m === a && k == b && (l?l.push(h):c[f]=[h]);o50=8;break;}}});return c;break;}}};b.prototype.pq=function(a,b,d,h){var q50,l,m,q,r50;q50=2;for(;q50 !== 25;){switch(q50){case 6:var E6e="n";E6e+="e";E6e+="t";E6e+="workFaile";E6e+="d";var l6e="Emitting ";l6e+="net";l6e+="workFailed, permanent =";l.we=q;c(l);this.S2=this.S2 || g(this.jn);a=this.jn.we;a > m && (n.warn(l6e,a === y.Rj),this.emit(E6e,a === y.Rj));q50=10;break;case 16:q50=r50 === y.Lk?6:15;break;case 20:this.WK=t.ah.ERROR;h && (this.WK=t.ah.L9a,l.Eu=h);this.dump();q50=25;break;case 4:q50=l?3:26;break;case 9:var F6e=" ";F6e+=":";F6e+=" ";F6e+="w";F6e+="as ";var O6e=" a";O6e+="t";O6e+=" ";var N6e=" f";N6e+="ailure rep";N6e+="orted ";N6e+="for ";var B6e="T";B6e+="E";B6e+="M";B6e+="P";var f6e="P";f6e+="E";f6e+="R";f6e+="M";n.warn((b?f6e:B6e) + N6e + t.Gg.name[a] + O6e + k(l) + F6e + f(l));q50=8;break;case 1:q50=l && l.parent && l.AD !== a?5:4;break;case 2:(l=a !== t.Gg.uv && d?this.Be[d]:this.jn,m=this.jn.we,q=b?y.Rj:y.TEMPORARY);q50=1;break;case 3:q50=q !== l.we?9:25;break;case 8:r50=l.we;q50=r50 === y.Rj?7:17;break;case 17:q50=r50 === y.TEMPORARY?6:16;break;case 7:return;break;case 10:this.VK=null;q50=20;break;case 5:l=l.parent;q50=1;break;case 15:q50=27;break;case 27:var S6e="Invali";S6e+="d";S6e+=" failure";S6e+=" st";S6e+="ate";throw Error(S6e);q50=6;break;case 26:var v6e="Unabl";v6e+="e";v6e+=" to find ";v6e+="failure entity";v6e+=" for URL ";a000.w8e(1);n.warn(a000.G8e(v6e,d));q50=25;break;}}};b.prototype.lYa=function(a,b){var s50;s50=2;for(;s50 !== 3;){switch(s50){case 7:(q(a,b),h(a));s50=3;break;s50=5;break;case 2:s50=(a=this.ss[a])?1:5;break;case 1:(q(a,b),h(a));s50=5;break;case 8:s50=(a=this.ss[a])?3:3;break;s50=(a=this.ss[a])?1:5;break;case 5:this.VK=null;this.WK=t.ah.S9;s50=3;break;}}};b.prototype.n4=function(){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 2:q(this.jn,!1);t50=1;break;}}};Q40=10;break;case 10:b.prototype.km=function(a){var u50,b;u50=2;for(;u50 !== 5;){switch(u50){case 2:null === (b=this.Gdb) || void 0 === b?void 0:b.call(this,a);u50=5;break;}}};b.prototype.vk=function(){var v50;v50=2;for(;v50 !== 1;){switch(v50){case 2:this.nMb(B.$9a);v50=1;break;}}};b.prototype.Qb=function(){var w50;w50=2;for(;w50 !== 1;){switch(w50){case 2:this.config.VCb && this.xIb();w50=1;break;}}};Q40=18;break;case 26:return b;break;case 9:b.prototype.d2=function(a){var W40;W40=2;for(;W40 !== 5;){switch(W40){case 1:return a.Ic.location;break;case 9:return a.Ic.location;break;W40=5;break;case 2:W40=(a=this.Be[a]) && a.Ic?1:5;break;}}};b.prototype.w_a=function(a){var X40;X40=2;for(;X40 !== 5;){switch(X40){case 2:X40=(a=this.Be[a])?1:5;break;case 1:return a.stream;break;}}};b.prototype.EO=function(a){var Y40,b;Y40=2;for(;Y40 !== 11;){switch(Y40){case 9:a.audio_tracks.forEach(function(a){var c50;c50=2;for(;c50 !== 1;){switch(c50){case 2:b.LWa(a);c50=1;break;case 4:b.LWa(a);c50=0;break;c50=1;break;}}});a.video_tracks.forEach(function(a){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:b.LWa(a);d50=1;break;}}});a=this.Bx.filter(function(a){var e50,c;e50=2;for(;e50 !== 4;){switch(e50){case 2:c=a.ss.every(function(a){var f50;f50=2;for(;f50 !== 1;){switch(f50){case 2:return 0 === a.Be.length;break;}}});c && (a.ss.forEach(function(a){var g50;g50=2;for(;g50 !== 1;){switch(g50){case 2:b.ss[a.id]=void 0;g50=1;break;}}}),b.en[a.id]=void 0,a.parent=void 0,a.children.length=0,a.wc={});return !c;break;}}});a.forEach(function(a){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:a.ss.sort(function(a,b){var i50;i50=2;for(;i50 !== 1;){switch(i50){case 2:return a.bg - b.bg;break;}}});h50=1;break;}}});Y40=14;break;case 5:this.GX=x.time.da();this.Bx.sort(function(a,b){var a50;a50=2;for(;a50 !== 1;){switch(a50){case 2:return a.level - b.level || a.bg - b.bg;break;}}});a.servers.forEach(function(a){var b50,d,c,f;b50=2;for(;b50 !== 6;){switch(b50){case 4:b50=d?3:6;break;case 5:d=b.en[a.key];b50=4;break;case 2:c=a.id;b50=1;break;case 1:b50=!b.ss[c]?5:6;break;case 3:f=[];a={id:c,AD:t.Gg.bC,we:y.Lk,Eu:void 0,parent:d,children:f,Be:f,name:a.name,type:a.type,bg:a.rank,location:d};b.ss[a.id]=a;d.children.push(a);b50=6;break;}}});Y40=9;break;case 2:b=this;a.locations.forEach(function(a){var Z40,c,d,f,h;Z40=2;for(;Z40 !== 8;){switch(Z40){case 2:c=a.key;Z40=1;break;case 1:Z40=!b.en[c]?5:8;break;case 5:(d=[],f=b.Of.get(c),h=b.jn);a={id:c,AD:t.Gg.Axa,we:y.Lk,bg:a.rank,level:a.level,weight:a.weight,Eu:void 0,parent:h,children:d,ss:d,wc:{},cb:f};b.en[a.id]=a;Z40=9;break;case 9:h.children.push(a);Z40=8;break;}}});Y40=5;break;case 14:this.Bx=a;this.jn.children=a;this.dump();Y40=11;break;}}};b.prototype.GL=function(a,b){var j50,k,c,d,f,h,l;j50=2;for(;j50 !== 19;){switch(j50){case 12:j50=!k.length?11:10;break;case 13:k=this.VK;j50=12;break;case 2:(c=this,d=this.config,f=this.qb.get(),h=0);x.kr && x.kr(a);j50=5;break;case 10:b.forEach(function(a,b){var k50,m;k50=2;for(;k50 !== 5;){switch(k50){case 2:var A7e=" K";A7e+="b";A7e+="ps)";var h7e=" ";h7e+="(";var r7e="]";r7e+=" ";var d7e="F";d7e+="ailing st";d7e+="ream";d7e+=" [";m=a.id;k.some(function(b){var l50,h,c;l50=2;for(;l50 !== 8;){switch(l50){case 4:h=c.en[0];void 0 === a.N3 && (a.N3=h.id,a.Joa=c.UT[h.id][0].Ic.id);return c.UT[b.id].some(function(c){var m50,m;m50=2;for(;m50 !== 12;){switch(m50){case 7:a.Ic=c.Ic.id;a.$E=c.Ic.name;a.cb=d.nea?b.cb.Hd >= t.Xe.EB || f.Hd < l?b.cb:f:f.Hd === t.Xe.HAVE_NOTHING || b.cb.Hd >= t.Xe.EB?b.cb:f;return !0;break;case 5:m50=g(c)?4:3;break;case 2:m50=g(c.Ic)?1:5;break;case 1:return (c.Ic.we === y.TEMPORARY && (a.we=y.TEMPORARY),d.gs && a.Ic === c.Ic.id && c.Ic.Eu && (a.Eu=c.Ic.Eu),!1);break;case 3:var e6e="locationf";e6e+="a";e6e+="il";e6e+="o";e6e+="ver";var c6e="s";c6e+="erve";c6e+="rf";c6e+="ailov";c6e+="er";var R6e="per";R6e+="form";R6e+="a";R6e+="n";R6e+="ce";var n6e="un";n6e+="k";n6e+="n";n6e+="own";m=n6e;a.location !== b.id && (d.gs?a.lla=b.id === h.id:m=b !== k[0]?"" + t.ah.y6:void 0 === a.location?"" + t.ah.Av:u.X(a.WRa) || a.WRa === b.id?u.X(a.XRa) || a.XRa === c.Ic.id?R6e:c6e:e6e,a.location=b.id,a.Sla=b.level,a.vq=m);a.url=c.url;m50=7;break;case 4:return !1;break;}}});break;case 1:l50=!c?5:4;break;case 2:c=b.wc[m];l50=1;break;case 5:return !1;break;}}})?(a.bA=!1,a.we=void 0,a.lu && ++h):a.we && a.we === y.TEMPORARY?c.jn.we=y.TEMPORARY:a.bA || (n.warn(d7e + b + r7e + m + h7e + a.S + A7e),a.Xkb(),a.bA=!0);k50=5;break;}}});j50=20;break;case 3:l=t.Xe.FB;d.OR && (l=t.Xe.EB);this.qb.location && f.Hd >= l && (a=this.en[this.qb.location]) && (a.cb=f);j50=7;break;case 14:return (this.pq(t.Gg.uv,!1),!1);break;case 5:j50=g(this.jn)?4:3;break;case 7:u.Xa(this.VK) && (this.VK=this.iTb());j50=6;break;case 6:j50=!this.VK?14:13;break;case 11:return (this.pq(t.Gg.uv,!1),!1);break;case 4:return !1;break;case 20:var j7e="(";j7e+="empty";j7e+=" stream list";j7e+=")";var x7e="Did ";x7e+="not find";x7e+=" a URL for A";x7e+="NY";x7e+=" stream...";var y7e="net";y7e+="w";y7e+="or";y7e+="kFa";y7e+="iled";var T7e="Network has";T7e+=" failed, not ";T7e+="upd";T7e+="ating stream selection";return g(this.jn)?(n.warn(T7e),this.S2=!0,this.emit(y7e,this.jn.we === y.Rj),!1):h?!0:(n.warn(x7e + (b.length?"":j7e)),this.pq(t.Gg.uv,!0),!1);break;}}};Q40=14;break;case 18:b.prototype.LWa=function(a){var x50,b;x50=2;for(;x50 !== 5;){switch(x50){case 2:b=this;a.streams.forEach(function(a){var y50,f,d,c;y50=2;for(;y50 !== 7;){switch(y50){case 4:b.wc[d.id]=d;y50=3;break;case 1:y50=u.X(d)?5:3;break;case 5:var W7e="n";W7e+="o";W7e+="n";W7e+="e";W7e+="-";(f=a.content_profile,d={id:c,S:a.bitrate,ib:a.vmaf,type:a.type,profile:f,clear:0 === f.indexOf(W7e),lu:!0,Be:[],UT:{},en:[]});y50=4;break;case 3:a.urls.forEach(function(a){var z50,c,f,h;z50=2;for(;z50 !== 14;){switch(z50){case 1:z50=u.X(f) && (a=b.ss[a.cdn_id])?5:14;break;case 2:(c=a.url,f=b.Be[c]);z50=1;break;case 7:h.wc[d.id]=d;(c=d.UT[h.id])?c.push(f):d.UT[h.id]=[f];z50=14;break;case 5:(h=a.location,f={id:c,AD:t.Gg.URL,we:y.Lk,Eu:void 0,parent:a,children:[],url:c,Ic:a,stream:d});b.Be[c]=f;a.children.push(f);d.Be.push(f);0 === d.en.filter(function(a){var A50;A50=2;for(;A50 !== 1;){switch(A50){case 2:return a.id === h.id;break;}}}).length && d.en.push(h);z50=7;break;}}});u.he(d.UT,function(a){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:a.sort(function(a,b){var C50;C50=2;for(;C50 !== 1;){switch(C50){case 2:return a.Ic.bg - b.Ic.bg;break;}}});B50=1;break;}}});d.en=d.en.sort(function(a,b){var D50;D50=2;for(;D50 !== 1;){switch(D50){case 2:return a.level - b.level || a.bg - b.bg;break;}}});y50=7;break;case 2:(c=a.downloadable_id,d=b.wc[c]);y50=1;break;}}});x50=5;break;}}};b.prototype.iTb=function(){var E50,a,b,c,d;E50=2;for(;E50 !== 13;){switch(E50){case 9:(c.forEach(function(b){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:b.id !== a.qb.location && (b.cb=a.Of.get(b.id));G50=1;break;}}}),this.GX=d);E50=8;break;case 2:(a=this,b=this.config,c=this.Bx.filter(function(a){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:return !g(a) && 0 !== a.level;break;}}}));E50=1;break;case 5:return null;break;case 4:d=x.time.da();E50=3;break;case 1:E50=0 === c.length?5:4;break;case 8:b=this.WK;E50=7;break;case 3:E50=null === this.GX || this.GX + b.Rla < d?9:8;break;case 14:return c;break;case 7:c.sort(function(a,b){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:return a.level - b.level || a.bg - b.bg;break;}}});this.ou || u.Xa(b) || (this.ou=!0);E50=14;break;}}};b.prototype.nMb=function(a){var I50,b;I50=2;for(;I50 !== 3;){switch(I50){case 2:b=this.qb.location;this.ou=!1;this.eKb=a;this.Bx.forEach(function(a){var J50;J50=2;for(;J50 !== 1;){switch(J50){case 2:a.id !== b && a.cb && a.cb.Hd > t.Xe.FB && (a.cb.Hd=t.Xe.FB);J50=1;break;}}});I50=3;break;}}};b.prototype.xIb=function(){var K50,a;K50=2;for(;K50 !== 5;){switch(K50){case 2:a=this;this.S2 || this.Bx.forEach(function(b){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:b.we === y.TEMPORARY && a.Of.fail(b.id,x.time.da());L50=1;break;}}});K50=5;break;}}};b.prototype.dump=function(){};Q40=26;break;}}})(d.EventEmitter);b.xV=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,k,h,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;c=a(171);k=a(172);h=a(24);g=a(21);d=(function(){function a(a,b){this.H=a;this.G=b;this.pca=this.kca=this.Dv=g.U.sb;this.IX=this.HX=void 0;this.Xj=this.G.trace.bind(this.G);this.wna=new f(a,b);}a.prototype.OS=function(a,b,c,d,f,k,m,q,n,p){var l,t,u,x,z,B,y,I;l=!1;a=a === h.Sa.AUDIO && ! !b.Ja && this.hfb(b.stream);t=g.U.sb;u=b.console;if(a){x=b.stream.za;z=this.lcb(b.profile,x);B=this.mcb(b.profile,x);y=b.xs + b.qn;if(b.Nr)(l=new g.U(b.qa - y,1E3),(l=this.Dv.add(l).Ko(z)) || !m || this.Jab(b,m) || (n=m.xs + m.qn,b=new g.U(y - (b.qa - x.ka),1E3),n=new g.U(n - m.T,1E3),this.Dv.Ia(b).add(n).Nib(B,z) && (l=!0)));else if(void 0 !== c){I=b.ll;new g.U(y - b.T,1E3);m=this.Dv.add(c.Ia(I)).Ia(this.wna.Rob);if(I.add(x).zJ(c) || m.Ko(z))(l=!0,I.add(x),m=m.Ia(x));z=B.Ia(g.U.jl.sE(2));m.a3(this.Dv) && m.lessThan(z)?(l=a=!1,this.wna.reset(),this.Dv=g.U.sb,z=d.add(f),n(z),u.error("Unexpected seamless audio sync " + m.toString() + " at content pts " + b.Wb + " in stream " + b.stream.Ca + " following " + k.Vb)):(z=d.add(m).add(f),z=this.wna.round(b,q,z,l),n(z),m.a3(this.Dv) && (this.kca=g.U.max(this.kca,m),this.pca=g.U.min(this.pca,m),p(this.kca,this.pca),t=m.Ia(this.Dv),this.Dv=m));}}return {OS:a,Rga:l,bea:t};};a.prototype.hfb=function(a){void 0 === this.nO && (this.nO=k.Dda(this.H,a));return this.nO;};a.prototype.lcb=function(a,b){void 0 === this.HX && ("object" === typeof this.H.NK && this.H.NK[a]?(a=new g.U(this.H.NK[a],1E3).ze(b.P).add(new g.U(1,b.P)),this.HX=g.U.min(b,a)):this.HX=b);return this.HX;};a.prototype.mcb=function(a,b){var c;if(void 0 === this.IX)if("object" === typeof this.H.OK && this.H.OK[a]){c=new g.U(-Math.floor(b.ka / 2),b.P);a=new g.U(this.H.OK[a],1E3).ze(b.P).Ia(new g.U(1,b.P));this.IX=g.U.max(c,a);}else this.IX=new g.U(-12,1E3);return this.IX;};a.prototype.Jab=function(a,b){return a.Wb <= b.Wb && a.Vb >= b.Wb && a.stream.track.equals(b.stream.track);};return a;})();b.YBa=d;f=(function(){function a(a,b){this.H=a;this.G=b;this.gz=0;}Object.defineProperties(a.prototype,{Rob:{get:function(){return g.U.jl.sE(this.gz);},enumerable:!1,configurable:!0}});a.prototype.round=function(a,b,c,d){this.H.ns || (a=this.bbb(a,c,d),b=b.Ia(a),b.Ko(g.U.jl.sE(2))?(c=c.Ia(g.U.jl),++this.gz):b.lessThan(g.U.sb)?(c=c.add(g.U.jl),--this.gz):0 < this.gz && b.lessThan(g.U.jl)?(c=c.add(g.U.jl),--this.gz):0 > this.gz && b.greaterThan(g.U.jl) && (c=c.Ia(g.U.jl),++this.gz));return c;};a.prototype.reset=function(){this.gz=0;};a.prototype.bbb=function(a,b,d){var f;f=a.Nh;this.H.yj && a.stream.ed && (f=f.Ia(a.stream.ed));d && (f=f.add(a.stream.za));return c.Uo(f).add(c.Uo(b));};return a;})();},function(d,b,a){var c,k,h,g,f,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Sya=void 0;c=a(21);k=a(5);h=a(401);g=a(878);f=a(879);q=a(880);l=a(881);d=(function(){function a(a,b,c,d){this.config=a;this.I=b;this.Rb=c;this.console=d;}a.prototype.append=function(a,b){var d,f,h,l;f=b.endOfStream;h=b.A2;l=b.hna;void 0 === this.track?this.lJ(a.stream.track):this.track !== a.stream.track && (k.assert(this.track.za),k.assert(a.stream.track.za),k.assert(1 === this.I || this.track.za.equal(a.stream.track.za)),this.track=a.stream.track);k.assert(void 0 !== this.Aw);b={ud:a,offset:null !== (d=a.T3) && void 0 !== d?d:c.U.sb};b=this.Aw.reduce(function(a,b){return b.append(a,{endOfStream:f,A2:h,hna:l});},b);d=b.ud;b=b.offset;d.Ja && a.gj(d.Ja);return b;};a.prototype.reset=function(){this.Aw=this.track=void 0;};a.prototype.lJ=function(a){var b;this.track=a;this.Aw=[];if(0 === this.I){this.Aw.push(new f.XBa(this.config,a,this.console));b=this.dZ(a);b.equal(c.U.sb) || (this.Aw.push(new h.gW(b)),this.config.z2 || this.Aw.push(new q.hza(this.config,a,this.console)));this.$Ab() && (this.Aw.push(new g.oza(this.config,a,this.console)),this.GPb(a) && this.Aw.push(this.Llb(a.ed,b)));}};a.prototype.dZ=function(a){return h.gW.dZ(this.config,a,this.Rb,this.console);};a.prototype.$Ab=function(){return !this.config.ns;};a.prototype.GPb=function(a){return this.config.HSb && this.config.yj && ! !a.ed;};a.prototype.Llb=function(a,b){return new l.iDa(a.Ia(b),this.console);};return a;})();b.Sya=d;},function(d,b,a){var h,g,f,q;function c(a){return 0 > a?Math.ceil(a):Math.floor(a);}function k(a){return a.toString() + " (nrdp: " + c(a.ka) + "ms)";}Object.defineProperty(b,"__esModule",{value:!0});b.oza=void 0;h=a(21);g=a(171);f=a(25);q=a(5);d=(function(){function a(a,b,c){this.console=c;this.offset=h.U.sb;this.ed=a.yj?b.ed:void 0;q.assert(b.za);this.za=b.za;}a.prototype.append=function(a){var b,c;b=a.ud;c=a.offset;void 0 !== this.TRa && (q.assert(void 0 !== this.sla),b.Nh.add(a.offset).equal(this.TRa)?(a=this.Ljb(b,c.add(this.offset)),a=Math.floor(a.ka) - this.sla,0 > a?this.offset=this.offset.add(h.U.jl):0 === a?this.offset.lessThan(h.U.sb) && (this.offset=this.offset.add(h.U.jl)):1 === a?this.offset.greaterThan(h.U.sb) && (this.offset=this.offset.Ia(h.U.jl)):this.offset=this.offset.Ia(h.U.jl)):this.offset=h.U.sb);a=this.Kjb(b,c.add(this.offset));this.sla=Math.floor(a.ka);this.TRa=b.xo.add(c);return {ud:b,offset:c.add(this.offset)};};a.prototype.Ljb=function(a,b){var d,h;a=this.nHa(a.Nh);d=g.Uo(a).add(g.Uo(b));h=a.add(b).Ia(d);f.sa && this.console.trace("NrdpRounding: content start " + k(a) + ", timestamp offset: " + k(b) + ", start rounding error: " + g.Uo(a).toString() + ", offset rounding error: " + g.Uo(b).toString() + ", total error: " + d.toString() + ", expected nrdp value:" + h.Wd() + ", (" + (c(a.ka) + c(b.ka)) + "ms), last fragment end nrdp: " + this.sla);return h;};a.prototype.Kjb=function(a,b){var d,h,l;d=this.za;a=this.nHa(a.xo);h=g.Uo(a.Ia(d)).add(g.Uo(d)).add(g.Uo(b));l=a.add(b).Ia(h);f.sa && this.console.trace("NrdpRounding: content end: start of last frame:" + k(a.Ia(d)) + ", frame duration: " + k(d) + ", offset: " + k(b) + ", timestamp rounding error: " + g.Uo(a.Ia(d)).toString() + ", frame duration rouding error: " + g.Uo(d).toString() + ", offset rounding error: " + g.Uo(b).toString() + ", total rounding error: " + h.toString() + ", expected nrdp value: " + l.Wd() + ", (" + (c(a.Ia(d).ka) + c(d.ka) + c(b.ka)) + "ms)");return l;};a.prototype.nHa=function(a){return this.ed?a.Ia(this.ed):a;};return a;})();b.oza=d;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;c=a(21);k=a(5);h=a(25);d=(function(){function a(a,b,d){this.config=a;this.console=d;this.Mt=c.U.sb;k.assert(b.za);this.za=b.za;a=b.gd[0].profile;this.IR=this.twb(a,this.za);this.t2=this.owb(a,this.za);}a.prototype.append=function(a,b){var d,f;d=a.ud;a=a.offset;f=b.A2;b=b.hna;d.Nr?(k.assert(f),d.Ja && (b=this.kFb(d,f,b),b.Ko(this.IR) && d.NLa()),this.doa=f):this.doa && (b=this.jFb(d,this.doa),d.Ja && this.eea(b)?(d.OP(1),this.Mt=b):(this.Mt=b.add(this.za),this.pIa(this.Mt) || (h.sa && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + d.ll.Wd() + " error would be " + this.Mt.Wd() + " (editing " + (d.Ja?"":"not ") + "allowed)"),this.Mt=c.U.sb)),this.doa=void 0);k.assert(this.pIa(this.Mt));this.wla=d.Kj;return {ud:d,offset:a.add(this.Mt)};};a.prototype.kFb=function(a,b,c){var d;c?d=this.Mt.add(a.Kj.Ia(c)).Ia(this.za):(d=a.Kj.Ia(b),d=this.Mt.add(d).Ia(this.za));h.sa && this.console.trace("SeamlessAudio: fragment end: " + a.Kj.Wd() + ", splice " + b.Wd() + ", next start " + (null === c || void 0 === c?void 0:c.Wd()) + ", error " + d.add(this.za).Wd() + ", error with frame drop " + d.Wd() + ", is" + (this.eea(d)?"":" not") + " within bounds of [" + this.IR.Wd() + " and " + this.t2.Wd() + ")");return d;};a.prototype.jFb=function(a,b){var c;k.assert(this.wla);c=this.Mt.add(this.wla.Ia(a.ll)).Ia(this.za);h.sa && this.console.trace("SeamlessAudio: fragment start: " + a.ll.Wd() + ", splice " + b.Wd() + ", last fragment end: " + this.wla.Wd() + ", error " + c.add(this.za).Wd() + ", error with frame drop " + c.Wd() + ", is" + (this.eea(c)?"":" not") + " within bounds of [" + this.IR.Wd() + " and " + this.t2.Wd() + ")");return c;};a.prototype.eea=function(a){return a.lessThan(this.t2) && a.Ko(this.IR);};a.prototype.pIa=function(a){return a.lessThan(this.t2.add(c.U.jl)) && a.Ko(this.IR.Ia(c.U.jl));};a.prototype.owb=function(a,b){return "object" === typeof this.config.NK && void 0 !== this.config.NK[a]?(a=new c.U(this.config.NK[a],1E3).ze(b.P).add(new c.U(1,b.P)),c.U.min(b,a)):b;};a.prototype.twb=function(a,b){var d;if("object" === typeof this.config.OK && void 0 !== this.config.OK[a]){d=b.Qp(-2);a=new c.U(this.config.OK[a],1E3).ze(b.P).Ia(new c.U(1,b.P));return c.U.max(d,a);}return new c.U(-12,1E3);};return a;})();b.XBa=d;},function(d,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.hza=void 0;c=a(21);k=a(5);h=a(25);d=(function(){function a(a,b,c){this.console=c;this.fYa=!1;k.assert(b.za);k.assert(b.ed);this.za=b.za;this.ed=b.ed;this.yj=a.yj;}a.prototype.append=function(a){var b,d,f;if(this.fYa)return a;b=a.ud;a=a.offset;if(b.Ja){d=b.Nh.Ia(this.yj?this.ed:c.U.sb).add(a);if(d.lessThan(c.U.sb)){f=Math.ceil(d.sE(-1).Qp(this.za));b.OP(f);h.sa && this.console.trace("NegativePtsGuard: dropping " + f + " frames on first fragment to avoid nagative pts, " + ("profile offset " + this.ed.Wd() + ", ") + ("request content start " + b.Nh.Wd() + ", ") + ("current timestamp offset " + a.Wd() + " => " + d.Wd() + "."));}}this.fYa=!0;return {ud:b,offset:a};};return a;})();b.hza=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;c=a(25);d=(function(){function a(a,b){this.ed=a;this.console=b;}a.prototype.append=function(a,b){var d,h;d=a.ud;a=a.offset;h=b.endOfStream;b=b.A2;h && b?(h=d.Nh.Ia(this.ed).add(a),c.sa && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted start time " + h.Wd() + " vs media splice point at " + b.Wd()),h.Ko(b) && d.Qqb()):h && c.sa && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {ud:d,offset:a};};return a;})();b.iDa=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;c=a(24);k=a(883);d=(function(){function a(a){this.lY=[];this.lY[c.Sa.VIDEO]=new k(a,c.Sa.VIDEO);this.lY[c.Sa.AUDIO]=new k(a,c.Sa.AUDIO);}a.prototype.Ogb=function(a,b,c){this.lY[a].add(b,c);};a.prototype.Hxb=function(){var a;a=[];this.lY.forEach(function(b){var c;if(b){c=b.get();c && 0 < c.length && c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.Osb=function(a){var b;b=this.Hxb();a.strmsel=b;return 0 < b.length;};return a;})();b.CBa=d;},function(d,b,a){var k;function c(a,b){this.reb=a.GA && a.GA.enabled;this.HC=void 0;this.gdb=b;this.Ica=[];this.dda=[];this.Ge=[];}k=a(38).sJ;c.prototype.reset=function(a){this.HC=void 0;this.Ica=[];this.dda=[];a && (this.Ge=[]);};c.prototype.add=function(a,b){var c,d,h;c=b.filter(function(b,c){return k(b) || c === a.fd;});d=c.map(function(a){return a.S;});b=b[a.fd];c=c.indexOf(b);if(this.HC && (this.HC.length !== d.length || this.HC.some(function(a,b){return a !== d[b];}))){h=this.YNa();h && (this.Ge.push(h),this.reset(!1));}void 0 === this.HC && (this.HC=d);this.Ica.push([c,a.S0a,a.Yb,a.Bea,a.RIa,a.xJb,a.wGb,a.IA,a.Bp,a.Mh,a.ARb - a.S0a,a.eJb]);this.reb && void 0 !== b.aa && (c=b.aa.Yl(a.Mh),-1 != c && (c=b.aa.get(c),h=c.duration,b=c.ib || b.ib,void 0 !== b && this.dda.push({T:c.T,duration:h,ib:b})));};c.prototype.Nrb=function(){for(var a=this.Ica,b=[],c=[],d=0;d < a.length;d++){for(var l=a[d],k=[],g=0;g < l.length;g++){k.push(l[g] - (c[g] || 0));}b.push(k);c=l;}return b;};c.prototype.YNa=function(){var a;a=this.Nrb();if(0 !== a.length)return {dltype:this.gdb,bitrates:this.HC,seltrace:a,vmaftrace:this.dda};};c.prototype.get=function(){var a,b;a=this.YNa();b=this.Ge;a && b.push(a);if(0 !== b.length)return b;};d.W=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.wOa=void 0;b.wOa=function(a){var b,d,h;b=Math.floor(1E6 * Math.random());d=a.fka;h=a.a1;a=0 === b % a.gka && 0 < h.length;return {Sp:a,TP:a && 0 === b % d};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Bua=void 0;c=a(402);d=(function(){var M50;M50=2;function a(a){var N50;N50=2;for(;N50 !== 5;){switch(N50){case 2:var z7e="1SIYb";z7e+="ZrN";z7e+="JCp9";this.G=a;z7e;N50=5;break;}}}for(;M50 !== 3;){switch(M50){case 2:a.prototype.Gab=function(a,b){var O50,d;O50=2;for(;O50 !== 14;){switch(O50){case 7:var Q7e="using sab c";Q7e+="ell";Q7e+=" >= 100";Q7e+=",";Q7e+=" pipelineEnabled: ";var D7e="using ";D7e+="sab cell >= 200, p";D7e+="ipelineEnabled: ";var U7e=", a";U7e+="llow";U7e+="Sw";U7e+="itc";U7e+="hback";var o7e=", probeDet";o7e+="a";o7e+="ilDen";o7e+="ominator:";o7e+=" ";var u7e="using";u7e+=" sab cell >= 300, probeServerW";u7e+="he";u7e+="nErr";u7e+="or: ";var p7e=", al";p7e+="lowSwitchbac";p7e+="k";var L7e=", p";L7e+="rob";L7e+="eDetailDenominator: ";var K7e="u";K7e+="s";K7e+="ing sab ce";K7e+="ll >= 400, probeServ";K7e+="erWhenError: ";(a=a.sessionABTestCell) && (a=a.split(".")) && 1 < a.length && (a=parseInt(a[1].replace(/cell/i,""),10),400 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.gs=!0,b.ME=1,b.ew=!0),this.G.trace(K7e + b.gs + L7e + b.ME + p7e + b.ew)):300 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.gs=!0,b.ME=1,b.ew=!1),this.G.trace(u7e + b.gs + o7e + b.ME + U7e + b.ew)):200 <= a?(b.set?b.set({pipelineEnabled:!1}):b.Xo=!1,this.G.trace(D7e + b.Xo)):100 <= a && (b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.k2}),b.set({maxPendingBufferLen:b.o2})):(b.Xo=!0,b.KJ=1,b.ru=b.k2,b.rA=b.o2),this.G.trace(Q7e + b.Xo)));return b;break;case 5:O50=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 3:a=a.cdnResponseData;O50=9;break;case 2:b=c.Ffa(b,a);d=a.steeringAdditionalInfo;O50=5;break;case 9:O50=!a?8:7;break;case 8:return b;break;case 4:var q7e="applying manifest b";q7e+="ased streami";q7e+="n";q7e+="g";q7e+="ClientConfig";return (a=d.streamingClientConfig,this.G.trace(q7e + JSON.stringify(a)),this.JFa(b,a));break;}}};a.prototype.Iab=function(a,b){var P50;P50=2;for(;P50 !== 9;){switch(P50){case 5:this.Ocb=a;P50=4;break;case 4:for(var c in b.Efa){new RegExp(c).test(a) && (b=this.JFa(b,b.Efa[c]));}return b;break;case 2:P50=!b.Efa || a === this.Ocb?1:5;break;case 1:return b;break;}}};a.prototype.JFa=function(a,b){var Q50,c,d,h;Q50=2;for(;Q50 !== 4;){switch(Q50){case 2:for(d in b){if(b.hasOwnProperty(d)){var m7e="Inv";m7e+="alid ke";m7e+="y";h=b[d];a.set?0 === a.set((c={},c[d]=h,c)) && this.G.trace(m7e + d):a[d]=h;}}return a;break;}}};return a;break;}}})();b.Bua=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.nva=void 0;c=a(8);k=a(121);d=(function(){var R50;R50=2;for(;R50 !== 7;){switch(R50){case 2:a.prototype.tbb=function(a,b){var T50,c,d;T50=2;for(;T50 !== 8;){switch(T50){case 2:(c=this,d=this.Xl.H);T50=1;break;case 1:var t7e="cre";t7e+="ateDl";t7e+="Tr";t7e+="acksStar";t7e+="t";0 === this.AC && this.Xl.Ya.vj(t7e);this.AC+=a.length;T50=4;break;case 4:a=a.map(function(a){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:return c.jEa(a,b.u,b.fx(),c.Xl.Kl,d);break;}}});k.Jn.pf.Le();return a;break;}}};a.prototype.Fbb=function(){var V50,a,b;V50=2;for(;V50 !== 3;){switch(V50){case 2:(a=this,b=[]);this.Xl.ab.Te.forEach(function(a){var W50;W50=2;for(;W50 !== 5;){switch(W50){case 2:c.X(a.Sg) || b.push(a.Sg);a.Sg=void 0;W50=5;break;}}});this.Xl.JN && (b.push(this.Xl.JN),this.Xl.JN=void 0);b.forEach(function(b){var X50;X50=2;for(;X50 !== 5;){switch(X50){case 2:b.Um || --a.AC;k.Jn.pf.rI(b);X50=5;break;}}});V50=3;break;}}};R50=5;break;case 8:return a;break;case 5:a.prototype.Fcb=function(){var Y50;Y50=2;for(;Y50 !== 1;){switch(Y50){case 2:this.AC=0;Y50=1;break;}}};a.prototype.dGa=function(a,b){var Z50,c,d;Z50=2;for(;Z50 !== 5;){switch(Z50){case 2:(c=this.Xl.ab.Te[a],d=c.Sg);d && (d=b.yO(a,d),this.Ebb(a),c.Sg=this.jEa(a,b.u,b.fx(),this.Xl.Kl,this.Xl.H),b.s4(d));Z50=5;break;}}};a.prototype.jEa=function(a,b,c,d,h){var a60,f,l;a60=2;for(;a60 !== 7;){switch(a60){case 2:var J7e="err";J7e+="o";J7e+="r";var Y7e="ne";Y7e+="t";Y7e+="workfailing";var G7e="c";G7e+="re";G7e+="a";G7e+="te";G7e+="d";(f=this,l=k.Jn.pf.mr(a,b,!0,c,d,h));l.ag.on(l,G7e,function(){var b60;b60=2;for(;b60 !== 5;){switch(b60){case 2:var s7e="c";s7e+="re";s7e+="ate";s7e+="DlTr";s7e+="acksEnd";--f.AC;0 === f.AC && f.Xl.Ya.vj(s7e);b60=5;break;}}});l.ag.on(l,Y7e,function(){var c60,a;c60=2;for(;c60 !== 9;){switch(c60){case 2:var w7e="reportNe";w7e+="two";w7e+="rkFailin";w7e+="g";w7e+=": ";h.oh && f.fh.il(w7e + l);c60=1;break;case 1:c60=l.y_?5:9;break;case 5:a=f.Xl.Rd.O;a.Do.pq(l.Aha,void 0,l.qg,l.ni);a.Dq();c60=9;break;}}});l.ag.on(l,J7e,function(){var d60;d60=2;for(;d60 !== 5;){switch(d60){case 2:var b7e="NFErr_MC_";b7e+="Streamin";b7e+="gF";b7e+="ailure";var i7e="Download";i7e+="Trac";i7e+="k fata";i7e+="l erro";i7e+="r";var g7e="Download";g7e+="Trac";g7e+="k";g7e+=" fa";g7e+="tal error";h.oh && f.fh.il(g7e);f.Xl.eo(i7e,void 0,b7e,l.qg,0,l.ni);d60=5;break;}}});a60=3;break;case 3:var H7e="transp";H7e+="ort";H7e+="report";l.on(H7e,function(a){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:var M7e="tran";M7e+="sp";M7e+="ort";M7e+="repo";M7e+="rt";f.Xl.emit(M7e,a);e60=1;break;}}});l.Ib();return l;break;}}};a.prototype.Ebb=function(a){var f60,b;f60=2;for(;f60 !== 9;){switch(f60){case 2:a=this.Xl.ab.Te[a];b=a.Sg;b.Um || --this.AC;k.Jn.pf.rI(b);a.Sg=void 0;f60=9;break;}}};R50=8;break;}}function a(a,b,c){var S50;S50=2;for(;S50 !== 3;){switch(S50){case 2:var Z7e="1SI";Z7e+="YbZr";Z7e+="NJCp";Z7e+="9";this.Xl=a;this.G=b;this.fh=c;Z7e;S50=3;break;}}}})();b.nva=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.hta=void 0;c=a(17);k=a(10);d=(function(){function a(a){this.gD=a;this.state=new k.wv(c.na.bh);this.dn={};}a.prototype.cd=function(){return this.state.value;};a.prototype.ne=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value === c.na.Wc && this.state.set(c.na.rj);};a.prototype.QT=function(){this.state.value === c.na.rj && this.state.set(c.na.Wc);};a.prototype.xRa=function(){return this.state.value === c.na.bh;};a.prototype.jA=function(){return "function" === typeof this.gD.jA?this.gD.jA():this.state.value === c.na.Wc;};a.prototype.Qg=function(){return this.state.value === c.na.qd || this.state.value === c.na.ff;};a.prototype.Rg=function(){return this.state.value === c.na.Nk;};a.prototype.yRa=function(){return this.state.value === c.na.Bv;};a.prototype.Ud=function(){return this.gD.Ud();};a.prototype.Ym=function(){return "function" === typeof this.gD.Ym?this.gD.Ym():1;};a.prototype.tQ=function(){return this.gD.tQ();};a.prototype.wqa=function(a,b){this.dn[a]=b;};a.prototype.hx=function(a){return ! !this.dn[a.u] || a.gi;};return a;})();b.hta=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;c=a(3).Promise;d=(function(){function a(a,b,c){var d;this.Ehb=a;this.sca=b;this.ybb=c;this.Jba=(d={},d[0]=!1,d[1]=!1,d);this.reset();}a.prototype.xw=function(){var a,b;a=this;b=this.Ehb.filter(function(b){return !b.cRa(a.ybb());});0 === b.length && this.aca?this.ydb():b.forEach(function(b){a.Jba[b.I] || (b.once("requestAppended",function(){a.Jba[b.I]=!1;a.xw();}),a.Jba[b.I]=!0);});};a.prototype.reset=function(){var a;a=this;this.aca=!1;new c(function(b){a.ydb=b;}).then(function(){return a.sca();});};a.prototype.LDb=function(){this.aca || (this.aca=!0,this.xw());};return a;})();b.JAa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Tsa=void 0;c=a(25);d=(function(){function a(a){this.console=a;this.vC=[];this.Yy=[];c.sa && this.console.trace("Received pending adoption " + this.TA.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.vC.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{TA:{get:function(){return this.Yy;},enumerable:!1,configurable:!0}});a.prototype.JDb=function(a){a=this.Yy.indexOf(a);-1 !== a && (c.sa && this.console.trace("Marking request attached"),this.vC[a].aRa=!0,this.Q0a(a));};a.prototype.KDb=function(a){a=this.Yy.indexOf(a);-1 !== a && (c.sa && this.console.trace("Marking request completed"),this.vC[a].gx=!0,this.Q0a(a));};a.prototype.$Lb=function(a){var b,c;b=this;c=[];this.Yy.forEach(function(b,d){a(b) && c.unshift(d);});c.forEach(function(a){b.Yy.splice(a,1);b.vC.splice(a,1);});};a.prototype.push=function(a){this.Yy.push(a);this.vC.push({aRa:!1,gx:!1});c.sa && this.console.trace("Pushing pending request, " + this.length + " total");};a.prototype.TD=function(){return 0 < this.length;};a.prototype.Q0a=function(a){var b;b=this.vC[a];b.aRa && b.gx && (b=this.Yy[a],this.Yy.splice(a,1),this.vC.splice(a,1),c.sa && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.sa && this.console.trace("Removing last request, contentEndPts: " + b.Vb));};return a;})();b.Tsa=d;},function(d,b,a){var c,k,h,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;c=a(24);k=a(10);h=a(21);g=a(105);f=a(3);d=(function(){function a(a,b,c,d,f){this.Du=a;this.sr=b;this.H=c;this.G=d;this.mg=f;}a.prototype.fGb=function(a){a={type:"requestCreated",request:a};k.Pa(this.sr,a.type,a);};a.prototype.eGb=function(a){var b;b=a.Ra.yc.ca;a={type:"updateStreamingPts",mediaType:a.I,position:{Ba:b.id,offset:h.U.ad(this.Du.pfa - b.T)},completePlayerStreamingTimestamp:h.U.ad(this.Du.hr),trackIndex:a.stream.track.MC};k.Pa(this.sr,a.type,a);};a.prototype.CUa=function(a,b,c){var d,l;d=this.mg;l=this.Du.eg;l.zZa(a);1 === d && this.H.y4 && (void 0 === l.Bla?l.BZa(f.time.da()):f.time.da() - l.Bla > this.H.y4 && (a.S !== l.ZRa && (f.storage.set("vb",a.S),l.WOb(a.S)),l.BZa(f.time.da())));l.aR && l.aR === a || (this.Du.Tu.JQb(b,l.aR,a),l.MOb(a),b=0,a.cb && a.cb.Hd && a.cb.Ma && (b=a.cb.Ma.Ga),l={Ba:this.Du.yc.ca.id,offset:h.U.ad(c - this.Du.yc.ca.T)},a={type:"streamSelected",nativetime:f.time.da(),mediaType:d,streamId:a.id,manifestIndex:a.O.eb,trackIndex:a.track.MC,streamIndex:a.Rf,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:l},k.Pa(this.sr,a.type,a));};a.prototype.aGb=function(a,b,d){var f,h,l,g,m;f=b.O;h=f.el;l=this.Du.eg;g=f.uBb(b);m=g.lla;g=g.vBb;d && b.Ic && !l.cR?(g=c.ah.Av,b.vq=c.ah.name[g],this.BUa(f.eb,a,b.Ic,b.vq,b.location,b.S),l.cR=b.Ic):!d && b.Ic && b.Ic !== l.cR && (g=g?void 0 === l.cR?c.ah.Av:h.WK === c.ah.S9?c.ah.p$a:c.ah.y6:c.ah.o$a,b.vq=c.ah.name[g],this.BUa(f.eb,a,b.Ic,b.vq,b.location,b.S),l.cR=b.Ic);l.wJ || (g={type:"logdata",target:"startplay",fields:{}},this.mg === c.Sa.AUDIO?g.fields.alocid=b.location:this.mg === c.Sa.VIDEO && (g.fields.locid=b.location),k.Pa(this.sr,g.type,g));d && b.location && !l.wJ?(g=c.ah.Av,b.vq=c.ah.name[g],this.zUa(f.eb,a,b.location,b.Sla,b.Ic,b.$E,b.vq,b.Eu),l.wJ=b.location):!d && b.location && b.location !== l.wJ && (g=m?void 0 === l.wJ?c.ah.Av:h.WK === c.ah.S9?c.ah.O7a:c.ah.y6:c.ah.N7a,b.vq=c.ah.name[g],this.zUa(f.eb,a,b.location,b.Sla,b.Ic,b.$E,b.vq,b.Eu),b.Eu=void 0,l.wJ=b.location);this.H.gs || (b.WRa=b.location,b.XRa=b.Ic);};a.prototype.f3=function(a){a={type:"requestsPruned",requests:a};k.Pa(this.sr,a.type,a);};a.prototype.BUa=function(a,b,d,f,h,m){var l,q;l=this.mg === c.Sa.VIDEO?"video":"audio";q=g.pf().get();a={type:"serverSwitch",manifestIndex:a,segmentId:b,mediatype:l,server:d,reason:f,location:h,bitrate:m,confidence:q.Hd};q.Hd && (a.throughput=q.Ma.Ga);this.Du.eg.cR && (a.oldserver=d);k.Pa(this.sr,a.type,a);};a.prototype.zUa=function(a,b,d,f,h,g,m,q){k.Pa(this.sr,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.mg === c.Sa.VIDEO?"video":"audio",location:d,locationlv:f,serverid:h,servername:g,selreason:m,seldetail:q});};a.prototype.tca=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.KA || k.Pa(this.sr,b.type,b);};a.prototype.il=function(a){a={type:"managerdebugevent",message:"@" + f.time.da() + ", " + a};k.Pa(this.sr,a.type,a);};a.prototype.Ktb=function(a){k.Pa(this.sr,"transportReport",a);};return a;})();b.tAa=d;},function(d,b,a){var c,k,h,g,f,q,l,u,t,x,n,y,B;Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;c=a(0);k=a(245);h=a(894);g=a(897);f=a(898);d=a(90);q=a(899);l=a(5);u=a(8);t=a(3);x=a(247);n=a(10);y=a(122);B=t.Promise;a=(function(a){function b(b,c,d,f,h,l,k){var g;g=a.call(this,b) || this;g.H=c;g.G=d;g.Ol=f;g.Qc=h;g.mg=l;g.x1a=!0;g.Wf=new x.qU(g.G);g.gf=g.G.error.bind(g.G);g.kb=g.G.warn.bind(g.G);g.Xj=g.G.trace.bind(g.G);g.iGa();g.Ct=null === k || void 0 === k?void 0:k.wZ(function(){return g.rMb();});return g;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yc:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Su:{get:function(){return 0 < this.RA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bra:{get:function(){return !this.WG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RA:{get:function(){return this.va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{av:{get:function(){return this.va.av;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{CKb:{get:function(){return this.Wf.count;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tt:{get:function(){return this.va.complete.Kj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hr:{get:function(){return this.va.XJa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pfa:{get:function(){return this.va.WJa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qm:{get:function(){return void 0 === this.va.dd?0:this.va.le - this.va.dd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){return {$:this.va.jD,ka:Math.max(this.va.XJa - this.va.dd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YH:{get:function(){return this.va.mlb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jD:{get:function(){return this.va.jD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cw:{get:function(){return this.va.$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jx:{get:function(){return this.ocb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yna:{get:function(){return this.va.Ozb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{V0:{get:function(){return this.va.length > this.va.av;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bp:{get:function(){return this.va.Bp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{MVa:{get:function(){return this.va.length - this.Vj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aa:{get:function(){return this.va;},enumerable:!1,configurable:!0}});b.prototype.pg=function(){var a;this.va.forEach(function(a){a.abort();a.ac();});this.iGa();this.Wf.o_();null === (a=this.Ct) || void 0 === a?void 0:a.Qb();};b.prototype.reset=function(){this.pg();this.Wf.Gpa();};b.prototype.close=function(){this.Wf.o_();};b.prototype.pOb=function(){this.PDa=!0;};b.prototype.ija=function(){return {hasSentinel:void 0 !== this.Wf.count,queueCount:this.Wf.count,isComplete:this.Wf.gx,itemCount:this.Wf.YJa,continuousEndPts:this.Wf.Cn().reduce(function(a,b){return b && !b.done && (b=b.value,100 > Math.abs(b.Yha - a) || -1 === a)?b.Ltb:a;},-1),sentinelItemCount:this.Wf.Cn().filter(function(a){return a && a.done;}).length,processedCount:this.Wf.Jpb,rc:this.RA};};b.prototype.yob=function(a,b,c){var d,h;d=this.H;l.assert(!a.Yp);d.vrb && 1 === this.I?h=new f.kta(c,d,b.track,a,this.va,this.G):c.O.iMa(this.mg)?(h=new g.fta(c,d,b.track,a,this.va,!1,this.G),d.m_ && 0 < h.PRb && (a=new q.uta(c,d,b.track,a,this.va,!1,this.G),a.Ib(this),a.Au())):h=k.nU.create(c,d,b.track,a,this.va,!1,this.G);h.Ib(this);this.Yq(h);return h;};b.prototype.bhb=function(a){var b;a.Ib(this);a.zda=!0;this.Yq(a);b=B.resolve();a.complete?(this.rba(a),this.Ol.CUa(a.stream,a.dd,a.Wb),b=this.OT(),this.zr(a)):(a.active && this.KD(a),a.gpa && this.Pz(a));return b;};b.prototype.Yq=function(a){var b,c;this.va.Mo(a);(null === (b=this.Ct) || void 0 === b?void 0:b.state) === y.Oq.complete && (null === (c=this.Ct) || void 0 === c?void 0:c.sq());this.rba(a);a.Nr && (this.WG=!1);};b.prototype.zQ=function(){return this.Wf.yub();};b.prototype.tJa=function(){this.Vj === this.va.length && this.PDa && this.Wf.o_();};b.prototype.OT=function(){var a,b,c,d,k;a=this;c=B.resolve();d=this.Qc;if(!d.ZQa(this.mg) || this.Vj === this.va.length)return c;for(var f=this.H.$Db,h=0,l=[];this.Vj < this.va.length;){if(b=this.va.get(this.Vj)){if(this.va.fNa && this.va.fNa.Wa < b.Wa)break;if(!b.Lr())break;l.push(b);++h;u.pa(this.dd) || (this.dd=b.dd);}++this.Vj;if(!u.X(f) && h >= f)break;}if(l.length){void 0 !== this.Wf.count && (this.gf("Request Manager count"),this.Wf.Gpa());if(this.x1a)c=B.all(l.map(function(b){return a.Wf.enqueue(b).then(function(){return a.P0(b);});}));else for(b=0;b < l.length;b++){try{k=l[b];d.Vwb(this.I).iqb(k);this.P0(k);}catch(la){return (this.Vj-=l.length - b,B.reject(la));}}this.tJa();}return c;};b.prototype.P0=function(a){this.pNa(a);};b.prototype.WKb=function(a){var d;for(var b,c=0;c < this.va.length;++c){d=this.va.get(c);d && a < d.le && (u.X(b) && (b=c),d.ee=!1);}u.X(b) || (this.Vj=b,this.Wf.Gpa());return this.OT();};b.prototype.zO=function(a,b){var c,d,f;c=this;d=[];if(0 !== this.va.av){f=this.va.cIb;this.va.YSb.Xqa(function(b){if(!u.X(a) && b.O.eb !== a || b.Nr || f > b.dd)return !0;b.J_ && (c.WG=!1);if(!c.$aa(b))return (c.kb("request abort failed:",b.toString()),!0);d.unshift(b);});this.XFa();d.length && "function" === typeof b && b(d);}};b.prototype.i4=function(){this.XFa();};b.prototype.rMb=function(){var a,b,d,f,h,k;return c.__generator(this,function(c){switch(c.label){case 0:c.label=1;case 1:if(!this.va.length)return [3,3];a=this.va.get(0);b=n.U.ad(null !== (k=null === (h=this.H.jT) || void 0 === h?void 0:h.ka) && void 0 !== k?k:0);d=b.add(a.Kj);return [4,y.Nq.dU(d)];case 2:return (c.sm(),l.assert(a === this.va.get(0)),a.ee || this.$aa(a),f=this.va.splice(0,1),0 < this.Vj && this.Vj--,this.Ol.f3(f),[3,1]);case 3:return [2];}});};b.prototype.vS=function(a,b){var c,d,f,h,l,k;c=this;d=this.H;f=!1;h=0;l=this.va.some(function(l){if(a < l.le)return (f && c.rba(l),!0);++h;l.ee || (c.kb("pruning unappended request:",l && l.toString()),d.oh && c.Ol.il("prune pts:" + a + " unappended request:" + (l && l.toString())),l.J_ && (c.WG=!1,f=!0),c.$aa(l,b) || c.gf("MediaRequest.abort error:",l.qg));});if(0 < h){k=this.va.splice(0,h);this.Vj-=Math.min(h,this.Vj);this.Ol.f3(k);}return l;};b.prototype.y0=function(a){var b,c,d;void 0 === a && (a={mP:null,sK:null,dd:null,yk:0,xi:0,aa:[]});b=this.H;c=this.va;u.pa(c.dd) && (null === a.dd || c.dd < a.dd) && (a.dd=c.dd);d=this.hr;void 0 !== d && null === a.mP && (a.mP=d);d=c.le;void 0 !== d && (null === a.sK || d > a.sK) && (a.sK=d);a.yk+=c.yk;a.xi=b.Pqa?a.xi + c.ZKb:a.xi + c.jD;Array.prototype.unshift.apply(a.aa,c.sm.aa);return a;};b.prototype.wr=function(a){if(this.va.length && (a=this.va.WMa(a)))return a;};b.prototype.Dq=function(){var a,b;a=this;b=[];this.va.forEach(function(c){var d;d=c.N5();1 === d?b.push(c):2 === d && a.yc.O.Bg("swapUrl failure");});return b;};b.prototype.sl=function(a){return this.H.CK?(this.Wf.clear(),this.WKb(a)):B.resolve();};b.prototype.jK=function(a){a.iA && a.Lr() && this.OT();this.Pz(a);};b.prototype.Jj=function(a){a.iA && !a.ee && this.OT();this.zr(a);};b.prototype.Gda=function(a){var b,c,d;b=1 === this.mg?"v_":"a_";c=this.va;d=c.JI(a);a=0 <= d?c.get(d):void 0;return (c=0 <= d && d + 1 < c.length?c.get(d + 1):void 0) && a?a.le !== c.dd?b + "rg":a.complete && c.complete?b + "uk":b + "fd":b + "rm";};b.prototype.ocb=function(){return this.va.Bp + this.va.av;};b.prototype.iGa=function(){var a,b,c;b=void 0 !== this.va && 0 < this.va.length;c=this.va;this.va=new h.eta(this.G,this);this.Vj=0;this.Wf.clear();this.dd=null;null === (a=this.Ct) || void 0 === a?void 0:a.sq();this.PDa=this.WG=!1;b && (a=c.map(function(a){return a;}),this.Ol.f3(a));};b.prototype.rba=function(a){this.WG?a.J_=!1:this.WG=a.J_=!0;};b.prototype.$aa=function(a,b){if(!a.abort())return !1;"function" === typeof b && b(a);return !0;};b.prototype.XFa=function(){var a,b,c,d;a=this;if(0 !== this.va.length){c=[];d=0;this.va.sKb(function(b,f){f < a.Vj && ++d;c.push(b);});this.Vj-=d;null === (b=this.Ct) || void 0 === b?void 0:b.sq();this.Ol.f3(c);}};return b;})(d.Is);b.GBa=a;},function(d,b,a){var c,k,h,g,f,q,l,u,t,x;Object.defineProperty(b,"__esModule",{value:!0});b.bta=void 0;c=a(0);k=a(24);h=a(107);d=a(3);g=a(10);f=a(5);q=a(246);l=a(70);u=a(243);t=a(79);x=d.Kk;a=(function(a){function b(b,c,d,f,h,g,m){var q,t;f=a.call(this,b,d,f,g,m) || this;h=l.Bh.prototype.toString.call(f) + (h?"(cache)":"");q={offset:d.offset,$:d.ana + 8,responseType:0};f.push(new u.WL(b,c,h + "(moof)",q,f,g,m));q={offset:d.offset + q.$,$:d.$ - q.$,responseType:x.Rb && !x.Rb.KK.cC?0:1};if(f.I === k.Sa.VIDEO && f.Ja){if(0 < f.Ja.start){if(t=f.YMa(f.Ja.start))(q.offset=d.offset + t,q.$=d.$ - t);}else f.Ja.end < f.LI && (t=f.YMa(f.Ja.end)) && (q.$-=d.$ - t);}f.push(new u.WL(b,c,h + "(mdat)",q,f,g,m));return f;}c.__extends(b,a);b.prototype.Lr=function(){return !this.ee && ! !this.va.length && this.va.every(function(a){return a.Lr();});};b.prototype.RC=function(a){var b,c,d,l,k;if(this.ee)return {status:t.Bi.hv};if(!this.Lr())return {status:t.Bi.ERROR};c=!1;if(this.wNa)(c=a.appendBuffer(g.Ut(this.ULa),g.fl(this)),d=this.hEb);else {d=this.va[0].response;l=d.slice(0,d.byteLength - 8);k=new DataView(d);d=k.getUint32(l.byteLength);f.assert("mdat" === h.Oy(k.getUint32(l.byteLength + 4)));if(this.Ja && 0 < this.Ja.start){b=new h.yy(this.G,this.stream,l);if(b=b.KXa(this.Ja.start,this.P))(c=a.appendBuffer(g.Ut(b.ud),g.fl(this)),d-=b.ms,this.LX(b.ud,d));b=this.RX();}else if(this.Ja && this.Ja.end < this.LI){b=new h.yy(this.G,this.stream,l);if(b=b.SXa(this.Ja.end,this.P))(c=a.appendBuffer(g.Ut(b.ud),g.fl(this)),d-=b.ms,this.LX(b.ud,d));b=this.RX();}else c=a.appendBuffer(l,g.fl(this));}c && (c=a.appendBuffer(h.pR(d - 8),g.fl(this))) && (c=a.appendBuffer(this.va[1].response,g.fl(this)));this.ee=c;this.JLb();return {status:c?t.Bi.hv:t.Bi.ERROR,Ro:b};};return b;})(q.pB);b.bta=a;},function(d,b,a){var c,k,h,g,f,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.e3a=void 0;c=a(107);k=a(172);h=a(24);g=a(10);a(5);f=a(21);q=a(3);l=a(79);d=(function(){var g60;g60=2;for(;g60 !== 12;){switch(g60){case 2:a.prototype.hEa=function(a){var i60;i60=2;for(;i60 !== 1;){switch(i60){case 2:return a && a.u === this.u && a.Yha === this.Yha?!0:!1;break;}}};a.prototype.Icb=function(){var j60,a;j60=2;for(;j60 !== 5;){switch(j60){case 2:a=this.Yc;return a.yj && !a.mz && this.stream.ed && (a.iAb || a.WQa && -1 !== a.WQa.indexOf(this.stream.la))?a.jAb || 2:0;break;}}};a.prototype.dbb=function(a){var k60,b;k60=2;for(;k60 !== 5;){switch(k60){case 2:b=this.Yc;return {Etb:!1,QZa:!(void 0 !== b.q5?b.q5:a && a.q5)};break;}}};g60=4;break;case 4:a.prototype.dEa=function(a,b,c){var l60,d,f,h;l60=2;for(;l60 !== 14;){switch(l60){case 3:var I7e="defa";I7e+="ul";I7e+="t";var a7e="d";a7e+="ef";a7e+="a";a7e+="ult";(f=b.name,d=void 0 !== b[c]?b[c]:void 0 !== b[a7e]?b[I7e]:d);l60=9;break;case 5:l60=void 0 !== h.SQ && null !== h.SQ?4:6;break;case 2:h=this.Yc;a=this.dbb(a);l60=5;break;case 8:void 0 !== f && (a.Nqa=f);return a;break;case 4:l60=(d=(void 0 !== b?b:h.SQ) || 0,b=h.TQa && h.TQa[this.stream.profile])?3:9;break;case 9:a.zq=a.QZa?void 0 !== d?d:1:0;l60=8;break;case 6:a.QZa=!1;l60=9;break;}}};a.prototype.ebb=function(a){var m60;m60=2;for(;m60 !== 1;){switch(m60){case 2:var X7e="o";X7e+="nEnt";X7e+="ry";return this.dEa(a,this.Yc.UQa,X7e);break;}}};a.prototype.fbb=function(a){var n60;n60=2;for(;n60 !== 1;){switch(n60){case 4:return this.dEa(a,this.Yc.VQa,"");break;n60=1;break;case 2:var C7e="on";C7e+="E";C7e+="x";C7e+="i";C7e+="t";return this.dEa(a,this.Yc.VQa,C7e);break;}}};g60=8;break;case 8:a.prototype.Hab=function(a,b,c){var o60,h,l,g,m,q,t,u,x,n;function d(a){var p60,b,c;p60=2;for(;p60 !== 4;){switch(p60){case 2:a=Math.floor(Math.min(t,a) / m.rb);(b=m.rb * a,c=x - b);return {Wpa:a,Rp:b,p3b:c,pUa:0 < a && c < q / 1E3};break;}}}o60=2;for(;o60 !== 12;){switch(o60){case 8:b && !c && (h=d(x),n=h.Wpa,h=h.pUa);h || (n=u - f.U.bna(a,q),n=new f.U(n - this.vNa,q),b=d(l.Cg?Infinity:Math.max(0,n.rb)),n=b.Wpa,(b=b.pUa) && 0 < n && !l.Cg && --n);o60=6;break;case 2:(l=this.Yc,g=!0);h=!1;a=k.Xia(l,a);(m=this.za,q=m.P,t=this.Rp,u=b?b.toa:this.iWa - 2 * m.rb,x=u - this.vNa);c=l.Ftb || c;o60=8;break;case 14:n < (l.eFb || 1) && (g=!1);return {rPb:g,mDb:h};break;case 6:this.gj({start:0,end:n});o60=14;break;}}};a.prototype.RC=function(a,b,c,d,f,k){var q60,m,q;q60=2;for(;q60 !== 7;){switch(q60){case 4:this.wNa?a=a.appendBuffer(g.Ut(this.ULa),g.fl(this)):this.Ja && !this.Nr?(m=this.Lbb(a,b,c,f,k),a=m.ia,m=m.Ro):this.Ja && this.Nr?(m=this.Mbb(a,b,d,f,k),a=m.ia,m=m.Ro):a=this.I === h.Sa.AUDIO && q.ns && c && this.xs && c.le >= this.le && this.Vb - this.xs < this.xs - this.Wb?!0:a.appendBuffer(this.response,g.fl(this));this.ee=!0;this.DS();q60=8;break;case 2:q=this.Yc;q60=1;break;case 1:q60=this.ee?5:4;break;case 8:return {status:a?l.Bi.hv:l.Bi.ERROR,Ro:m};break;case 5:return {status:l.Bi.ERROR};break;}}};a.prototype.Lbb=function(a,b,d,f,l){var r60,k,m,t,u;r60=2;for(;r60 !== 6;){switch(r60){case 3:var l7e=" f";l7e+="ro";l7e+="m [ ";var k7e="AseFragmentMediaRequest: Fragment ";k7e+="edit failed for";k7e+=" ";var P7e="me";P7e+="di";P7e+="a|as";P7e+="ej";P7e+="s";var V7e="M";V7e+="P";V7e+="4";this.I === h.Sa.AUDIO && !d && this.Ja && (m.zq=Math.min(this.Ja.end - this.Ja.start,Math.max(this.Icb(),m.zq || 0)));0 >= this.duration && (u=!1,k=!0);u && (this.Ja && (0 < this.Ja.start || m.zq)?(k=new c.yy(new q.Console(V7e,P7e),this.stream,this.response),(b=k.KXa(this.Ja.start,this.YJ,m.zq,m.Nqa))?(k=a.appendBuffer(g.Ut(b.ud),g.fl(this)),t=this.RX(m),this.LX(b.ud)):(this.G.error(k7e + this.toString() + l7e + this.Qz + "-" + this.U_ + "]"),k=!0)):k=a.appendBuffer(this.response,g.fl(this)));return {ia:k,Ro:t};break;case 2:m={zq:0};k=!1;u=!0;this.I === h.Sa.AUDIO && d && (f?l && this.OP():this.hEa(d)?d.Ja && this.Ja && this.Ja.start !== d.Ja.end && this.gj({start:d.Ja.end}):(m=this.ebb(b),d.le === this.dd && (m.zq=0)));r60=3;break;}}};g60=14;break;case 14:a.prototype.Mbb=function(a,b,d,f,l){var s60,k,m,q,t;s60=2;for(;s60 !== 8;){switch(s60){case 2:var f7e=" ";f7e+="f";f7e+="rom";f7e+=" [ ";var E7e="AseFragmentMediaRequest: Fragment edit ";E7e+="fa";E7e+="iled for ";(k=this.Yc,q={zq:0});m=!0;this.I === h.Sa.AUDIO && (f?l && (this.NLa(),m=0 < this.Ja.end):this.hEa(d)?d.Ja && 0 !== d.Ja.start?this.gj({start:0,end:d.Ja.start}):m=!1:(q=this.fbb(b),k.ns || (b=this.Hab(b,d,q.Etb),(m=b.rPb) && b.mDb && !q.Nqa && (q.zq=0))));m && 0 === this.duration && (m=!1);m?this.Ja && this.Ja.end < this.LI || q.zq?(m=new c.yy(this.G,this.stream,this.response),(m=m.SXa(this.Ja && this.Ja.end,this.P,q.zq,q.Nqa))?(a=a.appendBuffer(g.Ut(m.ud),g.fl(this)),t=this.RX(q),this.LX(m.ud)):(this.G.error(E7e + this.toString() + f7e + this.Qz + "-" + this.U_ + "]"),a=!0)):a=a.appendBuffer(this.response,g.fl(this)):a=!0;return {ia:a,Ro:t};break;}}};return a;break;}}function a(){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 2:var B7e="1SI";B7e+="YbZrNJ";B7e+="Cp9";B7e;h60=1;break;}}}})();b.e3a=d;b["default"]=new d();},function(d,b,a){var c,k,h,g,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.eta=void 0;c=a(0);a(5);k=a(895);d=a(39);h=a(896);g=a(120);f=a(90);q=a(242);a=(function(a){function b(b,d){var l,k;k=this;l=[new h.mU(b),new h.mU(b),new h.mU(b)];k=a.call(this,l,function(a){return a.complete?k.empty || a.Wa <= k.nlb?0:1:a.active?1:2;}) || this;l=c.__read(l,3);k.ae=l[0];k.jd=l[1];k.Gt=l[2];k.yp=0;k.aba=0;k.G=b;f.Is.call(k,d);return k;}c.__extends(b,a);Object.defineProperties(b.prototype,{$:{get:function(){return this.ae.$ + this.jd.$ + this.Gt.$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YSb:{get:function(){return this.Gt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.jd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ZKb:{get:function(){return this.yp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jD:{get:function(){return this.ae.$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yk:{get:function(){return this.ae.$ + this.jd.$ - this.yp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{first:{get:function(){return this.Xtb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mi:{get:function(){return this.yib();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tga:{get:function(){return !this.ae.empty || this.Gt.empty || this.jd.empty?this.first:this.jd.Wa < this.Gt.Wa?this.jd.first:this.Gt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aSa:{get:function(){return this.Gt.empty || this.jd.empty?this.mi:this.jd.nb < this.Gt.nb?this.Gt.mi:this.jd.mi;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fNa:{get:function(){return this.Gt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wa:{get:function(){return this.Tga && this.Tga.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){return this.aSa && this.aSa.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ck:{get:function(){return this.first && this.first.Ck;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mlb:{get:function(){return this.ae.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ozb:{get:function(){return this.Vb - this.WJa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nlb:{get:function(){return this.ae.empty?this.Wa:this.ae.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{WJa:{get:function(){return this.ae.empty?this.Wb:this.ae.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{XJa:{get:function(){return this.ae.empty?this.dd:this.ae.le;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cIb:{get:function(){return this.jd.le || this.ae.le;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{av:{get:function(){return this.Gt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bp:{get:function(){return this.jd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tlb:{get:function(){return this.ae.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sm:{get:function(){return this.ae.concat(this.jd);},enumerable:!1,configurable:!0}});b.prototype.CG=function(a){var b;a.Xq?++this.aba:this.yp+=a.Pe || 0;if(this.empty)this.eh=new q.tB(this,{});else if(a.Wa !== this.nb)if(a.Wa > this.eh.nb)this.eh.ZS(this.eh.nb);else if(a.Wa < this.Wa || a.Wa === this.eh.nb){b=a.nb;this.Ctb(function(a,b){return a.Wa - b.Wa;},function(a){b=a.Wa === b?a.nb:b;});b === Math.max(this.nb,a.nb)?this.eh.dfa():this.eh.ZS(b);}a.xZa(this);};b.prototype.Qv=function(a){a.Xq?--this.aba:this.yp-=a.Pe;this.empty?this.eh=void 0:a.Wa !== this.nb && a.nb <= this.eh.nb && a.Wa > this.eh.Wa && this.eh.ZS(a.Wa);a.DJa();};b.prototype.push=function(b){this.CG(b);return a.prototype.push.call(this,b);};b.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b && this.Qv(b);return b;};b.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b && this.Qv(b);return b;};b.prototype.unshift=function(b){this.CG(b);return a.prototype.unshift.call(this,b);};b.prototype.Mo=function(b){this.CG(b);a.prototype.Mo.call(this,b);};b.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return !1;this.Qv(b);return !0;};b.prototype.splice=function(b,d){for(var f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=a.prototype.splice.apply(this,c.__spread([b,d],f));f.forEach(this.CG.bind(this));h.forEach(this.Qv.bind(this));return h;};b.prototype.sKb=function(a){var b;b=this;this.reduce(function(c,d,f){d.Xq && (a && a(d,f,b),0 === c.length || c[0].end !== f?c.unshift({start:f,end:f + 1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end - a.start);});};b.prototype.JI=function(a){return this.atb(function(b){return b.JI(a);});};b.prototype.WMa=function(a){a=this.JI(a);return -1 !== a?this.get(a):void 0;};b.prototype.MNb=function(a){var c;for(var b=[];a < this.length;){c=this.get(a);c && b.push(c);a++;}return b;};b.prototype.Gx=function(a){this.move(a);this.KD(a);};b.prototype.kK=function(a){this.yp+=a.Pe - a.om;this.LD(a);};b.prototype.Jj=function(a){for(this.yp+=a.Pe - a.om;this.jd.first && this.jd.first.complete && (this.ae.empty?this.jd.first === this.Tga:this.jd.first.Wa === this.ae.nb);){this.pPb();}this.zr(a);};b.prototype.bS=function(a,b,c){this.yp-=a.Pe;++this.aba;this.R_(a,b,c);};return b;})(k.uua);b.eta=a;d.Ue(f.Is,a,!1);d.Ue(g.uB,a);d.Ue(g.qB,a);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.uua=void 0;c=a(0);a(5);d=(function(){function a(a,b){this.Ec=a;this.MG=b;this.Nv();}Object.defineProperties(a.prototype,{length:{get:function(){return this.He;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.He;},enumerable:!1,configurable:!0}});a.prototype.Xtb=function(){return this.Uf && this.Uf.get(0);};a.prototype.yib=function(){return this.HG && this.HG.get(this.HG.length - 1);};a.prototype.get=function(a){0 > a && (a+=this.length);for(var b=0;b < this.Ec.length;++b){if(this.hh[b + 1] > a)return this.Ec[b].get(a - this.hh[b]);}};a.prototype.push=function(a){this.Ec[this.MG(a)].push(a);this.Nv();return this.He;};a.prototype.shift=function(){var a;if(this.Uf){a=this.Uf.shift();this.Nv();return a;}};a.prototype.pop=function(){var a;if(this.HG){a=this.HG.pop();this.Nv();return a;}};a.prototype.unshift=function(a){this.Ec[this.MG(a)].unshift(a);this.Nv();return this.He;};a.prototype.Mo=function(a){var b;b=this.MG(a);this.Ec[b].Mo(a);this.Nv();};a.prototype.remove=function(a){var b;b=this.Ec.some(function(b){return b.remove(a);});b && this.Nv();return b;};a.prototype.splice=function(a,b){var n,y,B,p;for(var d,h=[],l=2;l < arguments.length;l++){h[l - 2]=arguments[l];}for(var l=[],g,k=a + Math.max(0,b),m=0;m < this.Ec.length;++m){n=this.Ec[m];y=this.hh[m];B=this.hh[m + 1];if(a < B){p=a - y;y=Math.min(k - y,n.length);void 0 === g && 0 < p && y < n.length?Array.prototype.push.apply(l,n.splice.apply(n,c.__spread([p,y - p],h))):(Array.prototype.push.apply(l,n.splice(p,y - p)),void 0 === g && (g=0 < m && 0 === p?m - 1:m));a=B;if(a >= k)break;}}if(h.length && void 0 !== g){for(k=this.MG(h[0]);0 < g && k < g && this.Ec[g].empty;){--g;}for(;h.length && k === g;){this.Ec[g].push(h.shift());if(!h.length)break;k=this.MG(h[0]);}for(;h.length && ++g < this.Ec.length && this.Ec[g].empty;){for(;h.length && k === g;){this.Ec[g].push(h.shift());if(!h.length)break;k=this.MG(h[0]);}}h.length && (d=this.Ec[g]).splice.apply(d,c.__spread([0,0],h));}this.Nv();return l;};a.prototype.find=function(a){var b,c;b=this;return this.Ec.some(function(d,f){c=d.find(b.jz(a,f));return void 0 !== c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b < this.Ec.length;++b){c=this.Ec[b].findIndex(this.jz(a,b));if(-1 !== c)return c + this.hh[b];}return -1;};a.prototype.indexOf=function(a){var c;for(var b=0;b < this.Ec.length;++b){c=this.Ec[b].indexOf(a);if(-1 !== c)return c + this.hh[b];}return -1;};a.prototype.map=function(a){var b,c;b=this;c=this.Ec.map(function(c,d){return c.map(b.jz(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Ec.reduce(function(b,d,f){return d.reduce(c.$fb(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Ec.forEach(function(c,d){c.forEach(b.jz(a,d));});};a.prototype.M_=function(a){for(var b=this.Ec.length - 1;0 <= b;--b){this.Ec[b].M_(this.jz(a,b));}};a.prototype.some=function(a){var b;b=this;return this.Ec.some(function(c,d){return c.some(b.jz(a,d));});};a.prototype.Xqa=function(a){for(var b=this.Ec.length - 1;0 <= b;--b){if(this.Ec[b].Xqa(this.jz(a,b)))return !0;}return !1;};a.prototype.every=function(a){var b;b=this;return this.Ec.every(function(c,d){return c.every(b.jz(a,d));});};a.prototype.Ctb=function(a,b){var k,m;function c(b){return b.reduce(function(b,c,d,f){return void 0 === c?b:void 0 === b?d:0 > a(c,f[b])?d:b;},void 0);}for(var d=this,h=this.Ec.map(function(){return 0;}),g=this.Ec.filter(function(a){return a.empty;}).length;g < this.Ec.length;){k=h.map(function(a,b){return a < d.Ec[b].length?d.Ec[b].get(a):void 0;});m=c(k);b(k[m],this.hh[m] + h[m],this);++h[m];h[m] === this.Ec[m].length && ++g;}};a.prototype.move=function(a){return this.remove(a)?(this.Mo(a),!0):!1;};a.prototype.pPb=function(){var a;if(this.Ec[1].length){a=this.Ec[1].shift();this.Ec[0].push(a);this.Nv();}};a.prototype.atb=function(a){for(var b=-1,c=0;c < this.Ec.length;++c){if((b=a(this.Ec[c]),-1 !== b)){b+=this.hh[c];break;}}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Nv=function(){var b;this.He=0;this.hh=[0];this.HG=this.Uf=void 0;for(var a=0;a < this.Ec.length;++a){b=this.Ec[a];this.He+=b.length;this.hh.push(this.hh[this.hh.length - 1] + b.length);!this.Uf && b.length && (this.Uf=b);b.length && (this.HG=b);}};a.prototype.jz=function(a,b){var c,d;c=this;d=this.hh[b];return function(b,f){return a(b,d + f,c);};};a.prototype.$fb=function(a,b){var c,d;c=this;d=this.hh[b];return function(b,f,h){return a(b,f,d + h,c);};};return a;})();b.uua=d;},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.mU=void 0;c=a(0);g=a(5);d=a(39);h=a(242);a=a(120);m=(function(){function a(b,c){this.Na=[];this.eh=void 0;this.qc=0;this.G=b;c && c.length && (Array.isArray(c)?(this.Na=c.slice(),this.tN(0,this.Na.length)):c instanceof a && (this.Na=c.Na.slice(),this.tN(0,this.Na.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Na.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.Na.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Na[0];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mi:{get:function(){return this.Na[this.Na.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wa:{get:function(){return this.first && this.first.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nb:{get:function(){return this.mi && this.mi.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ck:{get:function(){return this.first && this.first.Ck;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Na;},enumerable:!1,configurable:!0}});a.prototype.get=function(a){0 > a && (a+=this.Na.length);return this.Na[a];};a.prototype.push=function(a){this.Na.push(a);this.tN(this.Na.length - 1);return this.length;};a.prototype.unshift=function(a){this.Na.unshift(a);this.tN(0,1);return this.length;};a.prototype.pop=function(){if(0 !== this.Na.length)return (this.Eca(this.Na.length - 1),this.Na.pop());};a.prototype.shift=function(){if(0 !== this.Na.length)return (this.Eca(0),this.Na.shift());};a.prototype.splice=function(a,b){for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}0 > a && (a+=this.Na.length);0 > a && (a=0);a > this.Na.length && (a=this.Na.length);if(void 0 === b || 0 > b)b=0;b=Math.min(b,this.Na.length - a);0 < b && this.Eca(a,a + b);h=(d=this.Na).splice.apply(d,c.__spread([a,b],f));0 < f.length && this.tN(a,a + arguments.length - 2);return h;};a.prototype.slice=function(b,c){void 0 === b && (b=0);void 0 === c && (c=this.Na.length);0 > b && (b+=this.Na.length);if(b >= this.Na.length)return new a(this.G);c > this.Na.length && (c=this.Na.length);0 > c && (c+=this.Na.length);return new a(this.G,this.Na.slice(b,c));};a.prototype.Mo=function(a){if(0 === this.Na.length || a.Wa >= this.nb)this.push(a);else if(a.nb <= this.Wa)this.unshift(a);else {for(var b=0,c=this.Na.length - 1,d;b < c - 1;){d=Math.floor((c + b) / 2);g.assert(d !== c && d !== b);a.Wa >= this.Na[d].nb?b=d:c=d;}g.assert(b !== c);g.assert(this.Na[b].nb <= a.Wa && this.Na[c].Wa >= a.nb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.Na.indexOf(a);if(0 > a)return !1;this.splice(a,1);return !0;};a.prototype.concat=function(){for(var b=[],c=0;c < arguments.length;c++){b[c]=arguments[c];}b=b.map(function(a){return a.Na;});return new a(this.G,Array.prototype.concat.apply(this.Na,b));};a.prototype.forEach=function(a){var b;b=this;this.Na.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.Na.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.Na.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.Na.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Na.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.indexOf=function(a){return this.Na.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.Na.some(function(d,f){c=f;return a(d,f,b);})?this.Na[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.Na.some(function(d,f){c=f;return a(d,f,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.G,this.Na.filter(function(a,d){return b(a,d,c);}));};a.prototype.M_=function(a){for(var b=this.Na.length - 1;0 <= b;--b){a(this.Na[b],b,this);}};a.prototype.Xqa=function(a){for(var b=this.Na.length - 1;0 <= b;--b){if(a(this.Na[b],b,this))return !0;}return !1;};a.prototype.JI=function(a){if(this.empty || a < this.dd || a >= this.le)return -1;for(var b=0,c=this.Na.length - 1,d;c > b;){d=Math.floor((c + b) / 2);if(a >= this.Na[d].dd && a < this.Na[d].le){c=d;break;}a < this.Na[d].le?c=d - 1:b=d + 1;}return c;};a.prototype.WMa=function(a){a=this.JI(a);return 0 <= a?this.Na[a]:void 0;};a.prototype.tY=function(a){var b;b=this.Na[a].nb;for(a+=1;a < this.Na.length && b === this.Na[a].Wa;++a){b=this.Na[a].nb;}a < this.Na.length?void 0 === this.eh?this.eh=new h.tB(this,{nb:b}):this.eh.ZS(b):void 0 === this.eh?this.eh=new h.tB(this,{}):this.eh.dfa();};a.prototype.CG=function(a,b){for(var c=a;c < b;++c){this.qc+=this.Na[c].$;}void 0 === this.eh || 0 === a?this.tY(0):this.eh.nb === this.nb?this.tY(a - 1):this.Na[a].Wa === this.eh.nb && this.tY(a);};a.prototype.Qv=function(a,b){var c;if(0 === a)(this.eh=void 0,b < this.length && this.tY(b));else {c=this.eh;c.nb > this.Na[a - 1].nb && (b < this.length?c.ZS(this.Na[a - 1].nb):c.dfa());}for(;a < b;++a){this.qc-=this.Na[a].$;}};a.prototype.tN=function(a,b){void 0 === b && (b=a + 1);this.CG(a,b);};a.prototype.Eca=function(a,b){void 0 === b && (b=a + 1);this.Qv(a,b);};return a;})();b.mU=m;d.Ue(a.uB,m);d.Ue(a.qB,m);},function(d,b,a){var c,g,h,m,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.fta=void 0;c=a(0);a(5);g=a(8);d=a(39);h=a(3);m=a(105);f=a(70);q=a(79);l=a(170);u=h.Kk;a=(function(a){function b(b,c,d,h,g,k,l){var m;m=this;m=["cache","edit"].filter(function(a,b){return [k,h.Ja][b];});m=m.length?"(" + m.join(",") + ")":"";void 0 === h.responseType && (h.responseType=u.Rb && !u.Rb.KK.cC?0:1);m=a.call(this,b,d,m,h,g,c,l) || this;f.Bh.call(m,b,h);m.kFa=h.eCb;m.Vf.on(m,u.Zd.wZb,m.aeb);m.Vf.on(m,u.Zd.vZb,m.$db);return m;}c.__extends(b,a);b.prototype.Ib=function(a){l.sB.prototype.Ib.call(this,a);this.kc || !this.Yc.AY && this.dc || (this.kc=m.pf());};b.prototype.Au=function(){var a;a={start:this.offset,end:this.offset + this.$ - 1};void 0 !== this.Wb && 0 <= this.Wb && void 0 !== this.Vb && (this.pN=this.xFa(this.pN,!0),a={start:0,end:-1});return u.prototype.open.call(this,this.pN,a,this.oN,{},void 0,void 0,this.GDa);};b.prototype.N5=function(){var a,b,c;if(this.complete)return 0;a=this.dYa;b=a.O;if(!a.url)return (this.G.warn("updateurl, missing url for streamId:",a.Ca,"mediaRequest:",this,"stream:",a),1);c=this.xFa(a.url,!1);return this.url === c || (b.V4(this,a.location,a.Ic),this.yT(c))?0:(this.G.warn("swapUrl failed: ",this.ED),2);};b.prototype.YN=function(){this.jd || (this.jd=!0,this.Po=this.track.Po(),this.KD(this),this.om=0,this.pm=this.md);};b.prototype.uca=function(){var a;a=this.md;this.Pz(this);this.pm=a;};b.prototype.vca=function(){var a;a=this.md;this.LD(this);this.pm=a;this.om=this.Pe;};b.prototype.aeb=function(){var a;a=this.WBb;this.Lg=!0;this.kc && (this.kc.UE(a,{requestId:this.$n(),ue:this.Tb,type:this.I}),this.kc.Bpa(a));};b.prototype.XN=function(){var a;a=this.md;this.kc && this.Lg && this.kc.WE(h.time.da(),this.Lg,{requestId:this.$n(),ue:this.Tb,type:this.I});this.Lg=this.jd=!1;this.zr(this);this.pm=a;this.om=this.Pe;this.ac();};b.prototype.$db=function(){this.kc && (this.kc.lz(this.g4b,this.WBb,this.VBb,{requestId:this.$n(),ue:this.Tb,type:this.I}),this.kc.WE(this.VBb,this.Lg,{requestId:this.$n(),ue:this.Tb,type:this.I}));this.Lg=!1;};b.prototype.cEa=function(a,b,c,d){return void 0 === a || void 0 === b || void 0 === c?0:b < c?0:a < c?d:a - c;};Object.defineProperties(b.prototype,{PRb:{get:function(){return g.X(this.Wb) || 0 > this.Wb || g.X(this.Vb)?0:this.cEa(this.Wb,this.Vb - 1,this.kFa,this.Yc.M2);},enumerable:!1,configurable:!0}});b.prototype.xFa=function(a,b){var c,d;if(g.X(this.Wb) || 0 > this.Wb || g.X(this.Vb))return a;c=[];d=this.cEa(this.Wb,this.Vb - 1,this.kFa,this.Yc.M2);c.push("ptsRange/" + this.Wb + "-" + (this.Vb - 1));0 < d && b && c.push("timeDelay/" + d);a=a.split("?");b=a[0];for(var d="",f=0;f < c.length;f++){d+="/" + c[f];}return a[1]?b + (d + "?" + a[1]):b + d;};return b;})(q.rB);b.fta=a;d.Ue(f.Bh,a,!1);},function(d,b,a){var c,g,h,m,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.kta=void 0;c=a(0);g=a(107);h=a(5);a(3);m=a(10);f=a(246);q=a(70);l=a(243);u=a(79);d=(function(a){function b(c,d,f,h,g,k){d=a.call(this,c,h,g,d,k) || this;d.Jbb=f;d.pX=b.DB.INIT;d.g1b=h.offset;d.cca=q.Bh.prototype.toString.call(d) + " multiple";d.leb=h.$;d.xH(c.url,h.offset,8,0);return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{data:{get:function(){return this.qp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$:{get:function(){return this.leb;},enumerable:!1,configurable:!0}});b.prototype.Jj=function(a){var c,d;this.qp=this.pX === b.DB.INIT?a.response:m.Ut(this.qp,a.response);a.DS();switch(this.pX){case b.DB.INIT:c=new DataView(this.qp);d=c.getUint32(0);c=c.getUint32(4);g.Oy(c);this.xH(a.url,a.offset + a.$,d,0);f.pB.prototype.Jj.call(this,a);this.pX=b.DB.lya;break;case b.DB.lya:c=new DataView(this.qp);d=c.getUint32(this.bEa - 8);c=c.getUint32(this.bEa - 4);g.Oy(c);this.xH(a.url,a.offset + a.$,d - 8,0);this.pX=b.DB.gya;f.pB.prototype.Jj.call(this,a);break;case b.DB.gya:f.pB.prototype.Jj.call(this,a);break;default:h.assert(!1);}};b.prototype.RC=function(a){if(this.ee)return {status:u.Bi.hv};if(!this.Lr())return {status:u.Bi.ERROR};this.ee=a.appendBuffer(this.qp,m.fl(this));return {status:this.ee?u.Bi.hv:u.Bi.ERROR};};b.prototype.xH=function(a,b,c,d){a=new l.WL(this.stream,this.Jbb,this.cca + " (" + this.va.length + ")",{u:this.u,I:this.I,Ca:this.Ca,S:this.S,offset:b,$:c,url:a,location:this.location,Tb:this.Tb,responseType:d},this,this.Yc,this.G);this.push(a);this.bEa=this.va.reduce(function(a,b){return a + b.$;},0);};b.DB={INIT:0,lya:1,gya:2,name:["INIT","MOOF","MDAT"]};return b;})(f.pB);b.kta=d;},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.uta=void 0;c=a(0);a(5);d=a(39);g=a(3);h=a(105);m=a(70);a=a(79);f=g.Kk;a=(function(a){function b(b,c,d,f,h,g,k){f.responseType=0;d=a.call(this,b,d,"",f,h,c,k) || this;m.Bh.call(d,b,f);d.Cma=c.Cma;d.Dma=c.Dma;d.Mha=0;return d;}c.__extends(b,a);b.prototype.Ib=function(){this.kc || (this.kc=h.pf());};b.prototype.Au=function(){return f.prototype.open.call(this,this.pN,{start:this.offset,end:this.offset + Math.min(this.Dma,Math.floor(this.Cma * this.$)) - 1},this.oN,{},void 0,void 0,void 0);};b.prototype.abort=function(){return !0;};b.prototype.YN=function(){var a;a=this.md || this.rf;this.jd || (this.jd=!0,this.Mha=a);};b.prototype.uca=function(){this.Mha=this.md;};b.prototype.vca=function(){};b.prototype.XN=function(){var a;a=this.md;this.kc && this.kc.lz(this.Pe,this.Mha,a,{requestId:this.$n(),ue:this.Tb,type:this.I,IF:!0});this.Lg=this.jd=!1;this.ac();};b.prototype.oH=function(){this.Vf && this.Vf.clear();};return b;})(a.rB);b.uta=a;d.Ue(m.Bh,a,!1);},function(d,b,a){var g,h,m,f,q,l,u,t,x,n,y;function c(a,b,d,f){var h,g;q.assert(a.$m);q.assert(a.currentTime.isFinite());h=d.Ia(a.currentTime);h=Math.max(h.ka / a.speed,0);g=null !== f && void 0 !== f?f:{id:void 0,oLa:h};g.id=setTimeout(function(){d.Ia(a.currentTime).zJ(m.U.sb)?b():c(a,b,d,g);},h);g.oLa=h;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.zW=void 0;g=a(0);h=a(16);m=a(21);f=a(248);q=a(5);l=a(25);u=a(901);t=a(174);x=a(902);n=a(903);y=a(144);d=(function(a){function b(b,c){var d;d=a.call(this) || this;d.wa=b;d.console=c;d.sdb=0;d.Wba=!1;d.mc={aK:m.U.Jr};d.s_=new h.Yg();d.Jm=new f.DV([],u.$Ja(function(a,b){return a.JK.Cj(b.JK);},function(a,b){return a.pF.id > b.pF.id?1:a.pF.id < b.pF.id?-1:0;}));d.YHa(b);return d;}g.__extends(b,a);Object.defineProperties(b.prototype,{wPb:{get:function(){return this.wa.$m;},enumerable:!1,configurable:!0}});b.prototype.IKa=function(a,b){a=new (a.bind.apply(a,g.__spread([void 0],b)))();a.id=this.sdb++;a.Thb(this);this.uda(a);return a;};b.prototype.wZ=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.IKa(x.uxa,a);};b.prototype.wub=function(){var a;return {hasSchedule:! !this.mc.vi,sleepTime:null === (a=this.mc.vi) || void 0 === a?void 0:a.oLa,nextWakeup:this.mc.aK.ka,numTasks:this.Jm.length,clock:{ir:this.wa.$m,ct:this.wa.currentTime.ka,sp:this.wa.speed}};};b.prototype.EKa=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.IKa(n.pCa,a);};b.prototype.YHa=function(a){var b;b=this;this.pL();this.s_.clear();this.wa=a;this.s_.on(a,"stopStart",function(){return b.DK();});this.s_.on(a,"clockReset",function(){return b.PUa();});this.s_.on(a,"speedChanged",function(){return b.nHb();});this.PUa();this.emit("clockChanged");};b.prototype.nHb=function(){this.pL();this.DK();};b.prototype.Qb=function(){this.reset();};b.prototype.reset=function(){this.pL();this.Jm.clear();};b.prototype.PUa=function(){var a,b;a=this;b=this.Jm.map(function(a){return a.pF;});this.pL();this.Jm.clear();b.forEach(function(b){return a.uda(b,!1);});this.DK();};b.prototype.uda=function(a,b){var c,d;void 0 === b && (b=!0);c=a.Y2();d=this.p0a(c);this.Jm.push({pF:a,JK:d,k4:c});b && this.DK();};b.prototype.DK=function(){var a,b,d,f,h,g;a=this;l.sa && (null === (b=this.console) || void 0 === b?void 0:b.trace("recheck schedule task count:" + this.Jm.length));this.wPb?this.Wba?l.sa && (null === (d=this.console) || void 0 === d?void 0:d.trace("Already executing, bailing")):(b=this.mc.aK,d=null !== (h=null === (f=this.Jm.Cu()) || void 0 === f?void 0:f.JK) && void 0 !== h?h:m.U.Jr,d.a3(this.mc.aK) && (this.pL(!1),this.mc.aK=d,d.lessThan(b) && (this.wa.currentTime.Ko(d)?Promise.resolve().then(function(){return a.R0a();}):(l.sa && (null === (g=this.console) || void 0 === g?void 0:g.trace("Scheduling next wakeup for:" + d.ka)),this.mc.vi=c(this.wa,function(){a.R0a();},d))))):this.pL();};b.prototype.R0a=function(){var a,b,c,d;c=0;d=null === (a=this.Jm.Cu()) || void 0 === a?void 0:a.k4;try{for(this.Wba=!0;1E4 > c++ && this.LSb();){;}}finally{this.Wba=!1;this.mc.aK=m.U.Jr;1E4 < c && !this.Wyb(d)?null === (b=this.console) || void 0 === b?void 0:b.error("Task scheduler executed more than 10000 iterations in same tick"):this.DK();}};b.prototype.Wyb=function(a){var b,c;c=null === (b=this.Jm.Cu()) || void 0 === b?void 0:b.k4;return a && c && a.timestamp.equal(c.timestamp) && a.type === c.type?!1:!0;};b.prototype.LSb=function(){var a,b,c,d,f;f=null !== (b=null === (a=this.Jm.Cu()) || void 0 === a?void 0:a.JK) && void 0 !== b?b:m.U.Jr;if(this.wa.currentTime.Ko(f) && (a=this.Jm.pop())){b=a.pF;l.sa && (null === (c=this.console) || void 0 === c?void 0:c.trace("Running a task now, scheduled for time:" + f.ka));try{b.VA();a.k4=b.Y2();a.JK=this.p0a(a.k4);}catch(M){throw (null === (d=this.console) || void 0 === d?void 0:d.error("Unhandled error from a task occurred. Removing the task from future executions:" + M),b.Qb(),M);}finally{a.JK !== m.U.Jr && b.state === t.Oq.Ppa && this.Jm.push(a);}return !0;}};b.prototype.OMb=function(a){q.assert(a.fg === this);this.ppa(a,!1);this.uda(a);};b.prototype.ppa=function(a,b){var c;void 0 === b && (b=!0);c=this.Jm.find(function(b){return b.pF === a;});c && this.ZLb(c,b);};b.prototype.ZLb=function(a,b){this.Jm.remove(a);b && this.DK();};b.prototype.pL=function(a){void 0 === a && (a=!0);this.mc.vi && (a && this.emit("stopping"),clearTimeout(this.mc.vi.id));this.mc.vi=void 0;this.mc.aK=m.U.Jr;};b.prototype.p0a=function(a){return a.type === y.faa.absolute?a.timestamp:a.timestamp.add(this.wa.currentTime);};return b;})(h.EventEmitter);b.zW=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=void 0;c=a(0);g=a(25);h=a(5);b.$Ja=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}g.sa && h.assert(a.length);return function(b,d){var f,h,l,m;try{for(var g=c.__values(a),k=g.next();!k.done;k=g.next()){l=k.value;m=l(b,d);if(0 !== m)return m;}}catch(L){f={error:L};}finally{try{k && !k.done && (h=g["return"]) && h.call(g);}finally{if(f)throw f.error;}}return 0;};};},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;c=a(0);g=a(21);h=a(5);m=a(174);f=a(144);d=(function(a){function b(b){var c;c=a.call(this) || this;c.oNb=b;c.reset();return c;}c.__extends(b,a);b.prototype.reset=function(){var a,b;if(this.mc === m.Oq.Ppa || this.mc === m.Oq.ln)null === (b=null === (a=this.hX) || void 0 === a?void 0:a["return"]) || void 0 === b?void 0:b.call(a);this.mc=m.Oq.ln;this.hX=this.oNb();this.rca=f.Nq.g2a(g.U.sb);};b.prototype.sq=function(){this.reset();h.assert(this.rO);this.rO.OMb(this);};b.prototype.Y2=function(){return this.rca;};b.prototype.Le=function(){var a,b,c;c=this.hX.next();c.done?(this.rca=f.Nq.wsa,null === (b=(a=this.hX)["return"]) || void 0 === b?void 0:b.call(a)):this.rca=c.value;};b.prototype.Qb=function(){var b,c;null === (c=(b=this.hX)["return"]) || void 0 === c?void 0:c.call(b);a.prototype.Qb.call(this);};return b;})(m.vaa);b.uxa=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;c=a(0);g=a(174);h=a(144);d=(function(a){function b(b,c){var d;d=a.call(this) || this;d.pNb=b;d.fP=c;return d;}c.__extends(b,a);b.prototype.Y2=function(){return this.mc === g.Oq.ln?this.pNb:h.Nq.wsa;};b.prototype.Le=function(){this.fP();};return b;})(g.vaa);b.pCa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;c=a(172);a(21);d=(function(){function a(a,b){this.Cg=a;this.console=b;this.sC=Infinity;this.yN=this.VX=0;this.FGa=!1;}a.prototype.kMb=function(){this.FGa=!0;};a.prototype.$sb=function(a,b,d,g,k){var f;if(this.Cg){f=a.aa;if(f){if(1 === d)(d=f.Yl(this.Cg * a.za.ka,void 0,!0),f=a.Wi(d),f.gj({start:0,end:this.Cg - d * f.e_.Qp(a.za)}),this.sC=this.Cg);else {void 0 !== g.d_a?(b=g.d_a,d=b * a.za.ka):(d=c.Xia(g,k) + g.gib * a.za.ka,d=b + d,b=Math.ceil(d / a.za.ka));d=f.Yl(d,void 0,!0);for(k=g=0;k < d;++k){f=a.Wi(k);g+=f.e_.Qp(a.za);}g=b - g;f=a.Wi(d);f.gj({end:g});this.sC=b;}f.qma();return f;}}};a.prototype.Pzb=function(a){this.yN+=a.gYa;this.console.warn("StallAtFrameCount, adding frames: " + a.gYa,"total frames: " + this.yN,"needed frames: " + this.sC);};a.prototype.Pyb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.VX,"needed: " + this.sC);return this.VX >= this.sC;};a.prototype.Oyb=function(){return this.yN >= this.sC;};a.prototype.Rzb=function(a,b){this.VX+=this.ND(a,b);};a.prototype.Trb=function(a,b,c){a.gYa=this.ND(b,c);};a.prototype.ND=function(a,b){return a.e_.Qp(b.za);};a.prototype.xw=function(){if(!this.Oyb())return !1;if(this.FGa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.yN + " >= " + this.sC);return !0;};return a;})();b.uCa=d;},function(d,b,a){var c,g,h,m,f,q,l,u,t,x,n;Object.defineProperty(b,"__esModule",{value:!0});b.vW=void 0;c=a(8);g=a(24);h=a(3);m=a(37);f=a(17);q=a(249);l=a(906);u=new h.Console("ASEJS_STREAM_SELECTOR","media|asejs");t=[f.na[f.na.bh],f.na[f.na.qd],f.na[f.na.ff],f.na[f.na.Wc],f.na[f.na.rj],"checkBuffering"];x={first:a(907),random:a(908),optimized:a(175),roundrobin:a(912),selectaudio:a(410),selectaudioadaptive:a(913),"default":a(175),lowest:a(914),highest:a(915),throughputthreshold:a(916),replay:a(917),checkdefault:a(919),testscript:a(920)};n={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};d=(function(){var t60;t60=2;function a(a,b,c,d){var u60,f;u60=2;for(;u60 !== 6;){switch(u60){case 7:d && (this.Tna=new l.Oza(b));u60=6;break;case 2:var N7e="1SIY";N7e+="bZr";N7e+="N";N7e+="JCp9";f=this;this.XK=a;this.H=b;this.eg=c;N7e;a=a || this.H.k5;this.Ef=t.reduce(function(b,c){var v60;v60=2;for(;v60 !== 5;){switch(v60){case 2:b[c]=((x[a] || x[n[c]])[c] || x[n[c]][c]).bind(f);return b;break;}}},{});u60=7;break;}}}for(;t60 !== 14;){switch(t60){case 5:a.prototype.JQb=function(a,b,d){var C60;C60=2;for(;C60 !== 1;){switch(C60){case 2:c.X(b)?this.dca=this.hca=void 0:b.S < d.S && (this.hca=a);C60=1;break;}}};a.prototype.Coa=function(a,b,c,d){var D60,f,h;D60=2;for(;D60 !== 5;){switch(D60){case 2:this.M_(a,function(a){var E60;E60=2;for(;E60 !== 1;){switch(E60){case 2:a.Mr && a.cb && a.cb.Hd?(f !== a.cb && (f=a.cb,b && a.cb && (a.cb.bq=!0),h=Math.floor(d(a.cb,c,a.track.O.Rr[0])),h=0 === h?1:h),a.Ma=h):a.Ma=void 0;E60=1;break;}}});D60=5;break;}}};a.prototype.M_=function(a,b){var F60,c;F60=2;for(;F60 !== 3;){switch(F60){case 1:F60=0 <= c?5:3;break;case 5:b(a[c],c,a);F60=4;break;case 7:F60=9 >= c?0:0;break;F60=0 <= c?5:3;break;case 2:a000.Y8e(6);var e41=a000.G8e(12,12);c=a.length - e41;F60=1;break;case 6:b(a[c],c,a);F60=7;break;F60=4;break;case 14:++c;F60=2;break;F60=1;break;case 4:--c;F60=1;break;}}};t60=9;break;case 2:a.prototype.I4=function(a,b,d,k,l,t,x){var w60,y,p,x60,L,E,z,n,B,I;w60=2;for(;w60 !== 49;){switch(w60){case 42:var O7e="p";O7e+="la";O7e+="yi";O7e+="n";O7e+="g";this.Tna && (L.Sna=x?this.Tna.Mwb(x):void 0);c.pa(z) && k.S < b[z].S && (this.dca=d.Yb);a.state !== f.na.Wc && a.state !== f.na.rj?(b=q.E3(a.state),t=this.xw(a.buffer,b,a.playbackRate,k,t),(L.og=t.complete)?L.XY=t.reason:(L.og=!1,L.YE=t.YE,L.oA=t.oA,L.ri=t.ri)):(L.og=!0,L.XY=O7e);w60=39;break;case 30:w60=!L || null === L.fd?29:28;break;case 7:w60=!(0 <= z)?6:14;break;case 5:c.pa(z) && a.state === f.na.bh && (this.eg.Cqa(void 0),z=void 0);c.pa(z) && z >= b.length && (this.eg.Cqa(void 0),z=void 0);(y=d.aa,p=y.length);w60=9;break;case 34:w60=0 <= l?33:31;break;case 10:x60=a.state;w60=x60 === f.na.bh?20:37;break;case 26:w60=B.WZa && l > B.ER?25:31;break;case 20:this.hca=this.dca=void 0;w60=19;break;case 29:return null;break;case 54:w60=x60 === f.na.ff?36:53;break;case 19:this.eg.sZa(g.eV.bh);w60=18;break;case 35:l=L.fd - 1;w60=34;break;case 12:a.state === f.na.bh && c.pa(z) && (a.state=f.na.qd);a.state !== f.na.bh && void 0 === z && (a.state=f.na.bh);w60=10;break;case 16:l=d.Vk - d.$c;y=void 0;k=!1;w60=26;break;case 18:L=this.Ef[f.na[a.state]].call(this,B,a,b,z,k,! !l);w60=17;break;case 22:y.aa && y.aa.length || (k=!0,L.Gw.push(y.Ca));w60=21;break;case 6:(E=y[p - 1].S,z=m.SC(b,function(a){var z60;z60=2;for(;z60 !== 1;){switch(z60){case 4:return a.S <= E;break;z60=1;break;case 2:return a.S > E;break;}}}),z=0 < z?z - 1:0 === z?0:b.length - 1);w60=14;break;case 14:c.X(z) && (z=this.eg.bR);void 0 !== k && this.Coa(b,! !a.bq,a.buffer,k);w60=12;break;case 2:d=null === a || void 0 === a?void 0:a.buffer;(n=h.time.da(),B=this.H,z=this.eg.bR);w60=5;break;case 8:(I=y[p - 1].Ca,z=m.SC(b,function(a){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 4:return a.Ca !== I;break;y60=1;break;case 2:return a.Ca === I;break;}}}));w60=7;break;case 51:w60=50;break;case 32:y.aa && y.aa.length || (k=!0,L.Gw.push(y.Ca));w60=31;break;case 33:y=b[l];w60=32;break;case 25:l=L.fd + 1;w60=24;break;case 31:k || (L.Gw=void 0);w60=30;break;case 52:w60=x60 === f.na.rj?18:51;break;case 9:w60=0 < p?8:14;break;case 23:y=b[l];w60=22;break;case 50:var F7e="S";F7e+="tream selector called";F7e+=" with invalid player state";F7e+=" ";return (u.error(F7e + f.na[a.state]),null);break;case 53:w60=x60 === f.na.Wc?18:52;break;case 28:this.eg.Cqa(L.fd);k=b[L.fd];L.reason && (k.vq=L.reason,k.US=L.ku,k.ex=L.ex,k.$k=L.$k,k.al=L.al);w60=42;break;case 39:a.QP && (L.Yb=d.Yb,t=a && a.rg,b=k.aa,L.Mh=b && void 0 !== t && !isNaN(t) && 0 <= t && t < b.length?b.ij(t):d.Yb,L.xJb=k.Ma || 0,L.wGb=k.cb && k.cb.Ma && k.cb.Ma.Ga || 0,L.Bea=d.Vk - d.$c,L.RIa=d.xi,L.eJb=d.S5,L.IA=a.state,L.Bp=a && a.Bp,L.S0a=n,L.ARb=h.time.da());return L;break;case 36:this.eg.sZa(g.eV.bh);w60=18;break;case 37:w60=x60 === f.na.qd?36:54;break;case 17:w60=L.xn && (L.Gw=[],b.forEach(function(a,b){var A60;A60=2;for(;A60 !== 4;){switch(A60){case 2:a === L.xn && (L.fd=b);(!B.krb || a.aa && a.aa.length) && !a.era || L.Gw.push(a.Ca);a.era=!1;A60=4;break;}}}),!L.Gw.length)?16:30;break;case 24:w60=l < b.length?23:21;break;case 21:w60=!k?35:31;break;}}};a.prototype.xw=function(a,b,c,d,f){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:return this.Ef.checkBuffering.call(this,a,b,c,d,f,this.H);break;}}};t60=5;break;case 9:Object.defineProperties(a.prototype,{U1:{get:function(){var G60;G60=2;for(;G60 !== 1;){switch(G60){case 2:return this.dca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ela:{get:function(){var H60;H60=2;for(;H60 !== 1;){switch(H60){case 2:return this.hca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bR:{get:function(){var I60;I60=2;for(;I60 !== 1;){switch(I60){case 2:return this.eg.bR;break;case 4:return this.eg.bR;break;I60=1;break;}}},enumerable:!1,configurable:!0}});t60=6;break;case 6:return a;break;}}})();b.vW=d;},function(d,b,a){var g;function c(a){return a.fm;}Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;new (a(3).Console)("ASEJS_PACERATE_SELECTOR","media|asejs");g={maxStreamBitrate:c,"static":function(a,b){return b.tQb;},"default":c};d=(function(){var J60;function a(a){var K60;K60=2;for(;K60 !== 4;){switch(K60){case 2:var v7e="de";v7e+="f";v7e+="aul";v7e+="t";var S7e="1SI";S7e+="YbZrNJC";S7e+="p9";this.H=a;S7e;this.algorithm=(g[this.H.LHb] || g[v7e]).bind(this);K60=4;break;}}}J60=2;for(;J60 !== 5;){switch(J60){case 2:a.prototype.Mwb=function(a){var L60,b,c;L60=2;for(;L60 !== 4;){switch(L60){case 2:(b={Jfa:0,znb:0,sKa:0},c=this.H.$kb);a.QH && a.QH > c.HR && (a=this.algorithm(a,this.H),c.zS[0] && (b.Jfa=c.zS[0] * a),c.zS[1] && (b.znb=c.zS[1] * a),c.zS[2] && (b.sKa=c.zS[2] * a));return b;break;}}};return a;break;}}})();b.Oza=d;},function(d,b,a){var g,h,m,f;function c(a,b,c,d){if(g.X(d))a=h(c);else if(m(c[d]))a=d;else if((a=h(c,d),0 > a))return null;return new f(a);}g=a(8);b=a(38);h=b.Jha;m=b.sJ;f=b.Rn;d.W={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g;function c(a,b,c){a=c.map(function(a,b){return a.Mr?b:null;}).filter(function(a){return null !== a;});return a.length?new g(a[Math.floor(Math.random() * a.length)]):null;}g=a(38).Rn;d.W={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.G4=void 0;c=a(37);g=a(8);d=a(38);h=a(409);m=d.assert;f=d.Rn;b.G4=q;(function(){function a(a,b,d,h){var N60,l,q,t,u,n;function k(c){var O60,d;O60=2;for(;O60 !== 8;){switch(O60){case 5:return !1;break;case 2:d=c.Ma;O60=1;break;case 1:O60=!d || (c.S > q?a.OTb:1) * c.S * b.playbackRate > d?5:4;break;case 3:u=d;return !0;break;case 4:var n7e="buf";n7e+="f_lt_h";n7e+="i";n7e+="st";n=n7e;O60=3;break;}}}N60=2;for(;N60 !== 7;){switch(N60){case 4:d=new f();d.xn=l;t !== l && (d.reason=n,d.ku=u);return d;break;case 2:var e7e="select_feas";e7e+="ible_b";e7e+="ufferin";e7e+="g";var c7e="fa";c7e+="llba";c7e+="ck_lowes";c7e+="t_acceptable_stream";var R7e="Must have at leas";R7e+="t ";R7e+="one sele";R7e+="cted stream";m(!g.X(h),R7e);(l=d[h],q=l.S,t=l);l.Ma && (l=c.kh(d.slice(0,Math.min(h + (a.khb?2:1),d.length)).reverse(),k),void 0 === l?(l=d[0],n=c7e):n=e7e,u=null === l || void 0 === l?void 0:l.Ma);N60=4;break;}}}var M60;M60=2;for(;M60 !== 5;){switch(M60){case 2:var r2e="1SI";r2e+="YbZr";r2e+="N";r2e+="JC";r2e+="p9";b.G4=q=function(b,c,d,f,g,k){var P60;P60=2;for(;P60 !== 1;){switch(P60){case 2:var d2e="pl";d2e+="a";d2e+="yi";d2e+="ng";return d2e === b.zea?h.Qu.call(this,b,c,d,f,g,k):a.call(this,b,c,d,f);break;}}};r2e;M60=5;break;}}})();},function(d,b,a){var c;a(8);c=a(38).console;d.W=function(a,b,d,f,g,l,u,t,n,z,y,B,p,I,E){var I8Z=a000;var Q60,h,k,m,q,x,L,r,la;Q60=2;for(;Q60 !== 38;){switch(Q60){case 34:I8Z.Y8e(3);a=I8Z.G8e(d,u);Q60=33;break;case 16:I8Z.w8e(6);L*=I8Z.s8e(1E3,h);Q60=15;break;case 41:Q60=(a=Math.max(u - d,0),a < p && a < r)?40:33;break;case 15:Q60=t < b?27:39;break;case 40:return {result:!1,mR:Math.min(a,f) / (h / 1E3),du:!0};break;case 24:r=Math.max(q,z);Q60=23;break;case 23:Q60=y < r?22:21;break;case 30:Q60=g < d && la < t?29:28;break;case 43:r=a;Q60=42;break;case 29:(y+=m[la],++la,g+=k[la]);Q60=30;break;case 8:var A2e=" >=";A2e+=" fra";A2e+="gmentsLength";A2e+=": ";var h2e="Streamin";h2e+="gIn";h2e+="dex:";h2e+=" ";a=a.Sd[0];I8Z.w8e(7);g=I8Z.s8e(g,h,a,1E3);I8Z.Y8e(8);a=I8Z.s8e(0,l,B,8);I8Z.w8e(9);B=I8Z.s8e(B,8,0);I8Z.w8e(6);l=I8Z.G8e(1E3,h);t >= b && c.error(h2e + t + A2e + b);d+=a;Q60=10;break;case 39:return {result:!0,mR:f / (h / 1E3),du:!0};break;case 31:y-=q;Q60=30;break;case 44:Q60=t >= n && a > L?39:43;break;case 27:q=m[t];x=k[t];Q60=25;break;case 22:(d=g,y+=m[la],++la,a=k[la],g+=a);Q60=23;break;case 42:f=Math.min(a,f);Q60=15;break;case 2:var T2e="1SIYb";T2e+="ZrNJ";T2e+="Cp9";T2e;h=a.P;b=Math.min(a.length,b);(k=a.Sd,m=a.sizes,L=f - d);f=Infinity;(r=0,la=0);Q60=8;break;case 28:++t;Q60=44;break;case 25:Q60=y < q?24:41;break;case 33:I8Z.Y8e(10);d+=I8Z.G8e(B,0,l,q);u+=x;Q60=31;break;case 21:Q60=!E && (a=u - d,a < I)?35:34;break;case 35:return {result:!1,mR:a / (h / 1E3),du:!1};break;case 10:0 === u && (d=0);I8Z.Y8e(6);d*=I8Z.G8e(1E3,h);I8Z.w8e(6);u*=I8Z.s8e(1E3,h);I8Z.w8e(6);I*=I8Z.G8e(1E3,h);I8Z.w8e(6);p*=I8Z.G8e(1E3,h);Q60=16;break;}}};},function(d,b,a){var c,g,h,m,f,q,l,u,t,n;Object.defineProperty(b,"__esModule",{value:!0});b.MAb=b.TYa=void 0;c=a(37);g=a(62);h=a(8);m=a(382);f=a(3);d=a(104);a=a(38);q=a.qFb;l=a.sjb;u=a.kZ;t=a.Rn;n=d.Mqa;a=(function(){var R60;R60=2;function W(a,b,d){var d70,h;d70=2;for(;d70 !== 7;){switch(d70){case 1:var y2e="n";y2e+="u";y2e+="m";y2e+="b";y2e+="er";d70=y2e !== typeof h?5:4;break;case 2:var x2e="v";x2e+="b";h=f.storage.get(x2e);d70=1;break;case 4:var j2e="hi";j2e+="st_bit";j2e+="ra";j2e+="te";a=new t();a.xn=c.kh(d.slice().reverse(),function(a){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return a.S <= h;break;case 4:return a.S >= h;break;e70=1;break;}}}) || d[0];a.reason=j2e;return a;break;case 5:return a.BO?x(a,b,d):r(a,b,d);break;}}}function p(a,b,c,d,f,h){var Z60;Z60=2;for(;Z60 !== 5;){switch(Z60){case 2:var K2e="no";K2e+="_valid";K2e+="_Bitrate";var z2e="no_v";z2e+="ali";z2e+="d";z2e+="_VMAF";var W2e="no_valid";W2e+="_DelayTarge";W2e+="t";a=c?a.ib >= h.VJ && a.ib <= h.nTa:a.S >= h.vu && a.S <= h.xx;return (d=d < f && a)?{B_:d}:{B_:d,reason:a?W2e:c?z2e:K2e};break;}}}function b(a,b,c){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:a=l(c.aj,a * c.Lma);return q(a,b);break;}}}function k(a,b){var W60,c;W60=2;for(;W60 !== 9;){switch(W60){case 1:var L2e="l";L2e+="o";L2e+="g";W60=0 === b.TK.lastIndexOf(L2e,0)?5:3;break;case 3:var p2e="sigm";p2e+="o";p2e+="id";return 0 === b.TK.lastIndexOf(p2e,0)?(c=b.TK,(c=b.UYa[c]) && 2 === c.length?1E3 * (c[0] + c[1] * n(a)):b.lq):b.lq;break;case 2:a000.w8e(1);var h41=a000.G8e(99989,11);a=u(a,0,h41) / 1E3;W60=1;break;case 5:c=b.TK;W60=4;break;case 14:c=b.TK;W60=5;break;W60=4;break;case 4:return (c=b.UYa[c]) && 2 === c.length?1E3 * (c[0] + c[1] * Math.log(1 + a)):b.lq;break;}}}for(;R60 !== 5;){switch(R60){case 2:var u2e="1SIY";u2e+="bZr";u2e+="N";u2e+="JCp";u2e+="9";u2e;return {kfb:function(a,b,c){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:var o2e="hist";o2e+="o";o2e+="rical";return o2e === a.Fka?W(a,b,c):a.BO?x(a,b,c):r(a,b,c);break;}}},Lcb:p};break;}}function r(a,f,h){var a70,g,l;a70=2;for(;a70 !== 4;){switch(a70){case 2:(g=new t(),l=Math.max(a.vu,a.D2,f.C1?a.Vma:-Infinity));g.xn=c.kh(h.filter(function(b){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return b.S <= a.xx;break;case 4:return b.S >= a.xx;break;b70=1;break;}}}).reverse(),function(c){var c70,h,k,m;c70=2;for(;c70 !== 13;){switch(c70){case 1:c70=c.S > l?5:14;break;case 2:h={Ma:c.Ma,Zj:c.cb && c.cb.Zj,kj:c.cb && c.cb.kj};c70=1;break;case 5:c=c.S * f.playbackRate;k=h.Ma;c70=3;break;case 3:c70=k?9:6;break;case 7:return h;break;case 9:m=d(a,c);c70=8;break;case 6:h=!1;c70=7;break;case 14:var Q2e="no_hist";Q2e+="o";Q2e+="r";Q2e+="ica";Q2e+="l_lte_minbitrate";var D2e="hist_";D2e+="tp";D2e+="ut_lt_minb";D2e+="itrat";D2e+="e";var U2e="lt_hist_lte_mi";U2e+="nbitr";U2e+="ate";(k=h.Ma,c.S * f.playbackRate <= k?(g.ku=k,h && (g.$k=h.Zj?h.Zj:0,g.al=h.Zj?h.kj:void 0),g.reason=U2e,h=!0):k?(g.ku=k,h && (g.$k=h.Zj?h.Zj:0,g.al=h.Zj?h.kj:void 0),g.reason=D2e,h=!1):(g.reason=Q2e,h=!0));c70=7;break;case 8:var q2e="hist_b";q2e+="uff";q2e+="t";q2e+="ime";b(c,k,a) <= m?(g.ku=k,h && (g.$k=h.Zj?h.Zj:0,g.al=h.Zj && h.kj),g.reason=q2e,h=!0):h=!1;c70=7;break;}}}) || h[0];return g;break;}}}function x(c,d,f){var X60,g,l,m,q,t,u;X60=2;for(;X60 !== 13;){switch(X60){case 3:X60=q?7:9;break;case 2:(g=! !c.VJ && ! !c.nTa && f.every(function(a){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return a.ib && 110 >= a.ib;break;case 4:return a.ib || 787 < a.ib;break;Y60=1;break;}}}),l=null,m=f.length - 1);X60=1;break;case 8:m--;X60=1;break;case 9:l.reason=u;X60=8;break;case 5:(q=f[m],l=a(q,c),t=b(q.S * d.playbackRate,l.ku,c),u=k(l.ku,c),u=p(q,0,g,t,u,c),q=u.B_,u=u.reason);l.ex=t;X60=3;break;case 1:X60=0 <= m && (g?f[m].ib >= c.VJ:f[m].S >= c.vu)?5:7;break;case 7:var m2e="f";m2e+="allback_no";m2e+="_acceptable_stre";m2e+="am";h.Xa(l) && (l=a(f[0],c));h.Xa(l) && (l=a(f[0],c),l.reason=m2e);return l;break;}}}function d(a,b){var U60,d,f;U60=2;for(;U60 !== 13;){switch(U60){case 1:(d=a.n1,f=c.SC(d,function(a){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 2:return b <= a.r;break;}}}));U60=5;break;case 4:return d[0].d;break;case 2:U60=a.n1?1:14;break;case 5:U60=0 === f?4:3;break;case 6:return Math.floor(a.d + (d.d - a.d) * (b - a.r) / (d.r - a.r));break;case 3:U60=-1 === f?9:8;break;case 9:return d[d.length - 1].d;break;case 14:return a.lq;break;case 8:a000.Y8e(3);a=d[a000.G8e(1,f)];d=d[f];U60=6;break;}}}function a(a,b){var S60,c,d;S60=2;for(;S60 !== 12;){switch(S60){case 2:c=new t();c.xn=a;a=c.xn.cb || ({});c.al=a.Zj && a.kj;S60=3;break;case 3:c.$k=a.Zj?a.Zj:0;a=g(c.al,{});S60=7;break;case 7:S60=(d=h.pa(b.H4) && 0 <= b.H4 && 100 >= b.H4 && !h.X(a) && !h.Xa(a))?6:14;break;case 6:(d=m.OCa.Pwb(a),h.oc(d)?(a.oi=d,d=!0):d=!1);S60=14;break;case 14:var G2e="h";G2e+="ist_thro";G2e+="ughput";var t2e="h";t2e+="i";t2e+="st";t2e+="_td";t2e+="igest";d?(b=a.oi(b.H4 / 100) || c.xn.Ma,c.ku=b,c.reason=t2e):c.xn.Ma && (b=c.xn.Ma,c.ku=b,c.reason=G2e);return c;break;}}}})();d=a.Lcb;b.TYa=a.kfb;b.MAb=d;},function(d,b,a){var g,h,m,f;function c(a,b,c){var d,k;d=this.fca;b=b.buffer.Yb;k="forward" === a.WMb;if(g.X(d))return (d=k?h(c):h(c,c.length),this.gca=b,this.fca=d,new f(d));m(c[d]) || (d=h(c,d),this.gca=b,this.fca=d);if(0 > d)return null;if(b > this.gca + a.LRb){a=c.map(function(a,b){return a.Mr?b:null;}).filter(function(a){return null !== a;});if(!a.length)return null;k?d=(a.indexOf(d) + 1) % a.length:(d=a.indexOf(d) - 1,0 > d && (d=a.length - 1));this.fca=a[d];this.gca=b;return new f(a[d]);}return new f(d);}g=a(8);b=a(38);h=b.Jha;m=b.sJ;f=b.Rn;d.W={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){function b(a,b){var h70,c;h70=2;for(;h70 !== 4;){switch(h70){case 2:c=void 0;b.some(function(b){var i70,d;i70=2;for(;i70 !== 4;){switch(i70){case 2:d=b.profiles;(d=d && 0 <= d.indexOf(a)) && (c=b.override);return d;break;}}});return c;break;}}}function g(a,b,c,d){var j70,k,m,I,L,g,u,x,z,y,B,p;j70=2;for(;j70 !== 33;){switch(j70){case 3:k=d;a.M_a.some(function(d){var k70,f,h,k,l,q,t;k70=2;for(;k70 !== 9;){switch(k70){case 6:k70=h?4:6;break;k70=h?5:3;break;case 2:(f=d.profiles,h=f && 0 <= f.indexOf(g));k70=1;break;case 1:k70=h?5:3;break;case 5:(k=(d=d.mK) && d.I2 || a.I2,l=d && d.O4b || -Infinity,q=d && d.JJ || Infinity,t=b.buffer.Ip);k70=4;break;case 3:return h;break;case 4:m=c.filter(function(a){var l70,b;l70=2;for(;l70 !== 5;){switch(l70){case 1:return b >= l && b <= q && 0 <= f.indexOf(a.Yf) && b * k / 8 < t;break;case 3:b=a.S;l70=6;break;l70=1;break;case 2:b=a.S;l70=1;break;}}}).map(function(a){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:return a.Rf;break;case 4:return a.Rf;break;m70=1;break;}}});k70=3;break;}}});j70=8;break;case 34:return new n(k);break;case 15:j70=b.jA && p > B.qx && (void 0 === L || Number(I) > L || x.Yb - L > B.e2)?27:23;break;case 19:k=x;j70=22;break;case 27:var w2e=", streaming";w2e+="Pts";w2e+=" = ";var Y2e=", lastUpswit";Y2e+="chP";Y2e+="ts = ";var s2e="  Upswitch allowed. last";s2e+="Downswi";s2e+="tchPts";s2e+=" = ";q && f.log(s2e + L + Y2e + I + w2e + x.Yb);j70=26;break;case 17:var i2e=" k";i2e+="bp";i2e+="s";var g2e=" kb";g2e+="ps";g2e+=" >";g2e+=" ";var J2e="throughput for a";J2e+="u";J2e+="dio";J2e+=" ";j70=z < m.length - 1 && y > B.b1a * x * b.playbackRate && (q && f.log(J2e + y + g2e + B.b1a + "*" + x + i2e),x=b.buffer,p=x.Vk - x.$c,u.aa && u.aa.length)?16:22;break;case 18:z--;j70=11;break;case 12:var M2e=" kbps, tr";M2e+="y to down";M2e+="switch";var H2e=" ";H2e+="kbp";H2e+="s";H2e+=" ";H2e+="< ";var b2e="thr";b2e+="oughput ";b2e+="for audio ";(q && f.log(b2e + y + H2e + B.GLa + "*" + x + M2e),--z);j70=11;break;case 11:j70=0 <= z?10:22;break;case 16:(I=this.Ela,L=this.U1);j70=15;break;case 5:j70=!(a && a.wL && 0 <= a.wL.indexOf(g))?4:3;break;case 8:j70=m && 1 < m.length?7:22;break;case 20:j70=t(p) && (0 == z || p.S * b.playbackRate * B.GLa < y)?19:18;break;case 26:j70=++z < m.length?25:22;break;case 14:k=0;j70=22;break;case 23:var X2e="m";X2e+="s";var I2e=", buffe";I2e+="r ";I2e+="le";I2e+="vel = ";var a2e=", lastU";a2e+="pswitchPts";a2e+=" = ";var Z2e="  Upsw";Z2e+="itch not ";Z2e+="allowed. lastDownswitchPts";Z2e+=" = ";q && f.log(Z2e + L + a2e + I + I2e + p + X2e);j70=22;break;case 24:k=x;j70=22;break;case 13:j70=z && y < B.GLa * x * b.playbackRate?12:17;break;case 2:var C2e="Mu";C2e+="st ha";C2e+="ve at";C2e+=" least one selected stream";l(!h.X(d),C2e);g=c[d].Yf;j70=5;break;case 4:return new n(d);break;case 25:j70=(x=m[z],p=c[x],t(p) && y > B.b1a * p.S * b.playbackRate)?24:26;break;case 7:(u=c[d],x=u.S,z=m.indexOf(d),y=u.Ma,B=a.jib);j70=6;break;case 6:j70=0 > z?14:13;break;case 22:var O2e="kbp";O2e+="s, stre";O2e+="ami";O2e+="ngPts :";var N2e=", audio th";N2e+="rou";N2e+="g";N2e+="h";N2e+="put:";var B2e=" kbps,";B2e+=" profi";B2e+="le :";var f2e="sele";f2e+="ct";f2e+="AudioStream: selecte";f2e+="d stream :";var E2e=" k";E2e+="b";E2e+="ps";var l2e=" k";l2e+="bp";l2e+="s, to ";var k2e="switching";k2e+=" au";k2e+="dio from ";var P2e="d";P2e+="o";P2e+="w";P2e+="n";var V2e="u";V2e+="p";y=c[k];k !== d && q && f.log((k > d?V2e:P2e) + k2e + u.S + l2e + y.S + E2e);q && f.log(f2e + y.S + B2e + g + N2e + y.Ma + O2e + b.buffer.Yb);j70=34;break;case 10:(x=m[z],p=c[x]);j70=20;break;}}}var g70,h,m,f,q,l,u,t,n,z,y;g70=2;for(;g70 !== 4;){switch(g70){case 2:var n2e="1SIYbZ";n2e+="rNJ";n2e+="Cp9";(h=a(8),m=a(38),f=m.console,q=m.debug,l=m.assert,u=a(62),t=m.sJ,n=m.Rn,z=a(410),y=a(17).na);d.W={STARTING:function(a,c,d,h){var n70,g,k;n70=2;for(;n70 !== 6;){switch(n70){case 2:g=a;k=d[h || 0].Yf;n70=5;break;case 5:n70=(k=a && a.wL && 0 <= a.wL.indexOf(k)?b(k,a.M_a):b(k,a.hib))?4:3;break;case 4:var F2e="selectAudioStreamStarting: overri";F2e+="ding co";F2e+="nf";F2e+="ig with ";(g={minInitAudioBitrate:a.GR,minHCInitAudioBitrate:a.FR,maxInitAudioBitrate:a.sR,minRequiredAudioBuffer:a.I2},q && f.log(F2e + JSON.stringify(k)),u(k,g));n70=3;break;case 3:var v2e=" ";v2e+="kbps";v2e+=", p";v2e+="rofile :";var S2e="selec";S2e+="tAudioStreamStar";S2e+="ting: selec";S2e+="ted stream :";a=z[y[y.bh]](g,c,d,h);d=d[a.fd];q && f.log(S2e + d.S + v2e + d.Yf);return a;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};n2e;g70=4;break;}}})();},function(d,b,a){var g;function c(){return new g(0);}a(8);g=a(38).Rn;d.W={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g;function c(a,b,c){return new g(c.length - 1);}a(8);g=a(38).Rn;d.W={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){function b(a,b,c,d){var p70,h;p70=2;for(;p70 !== 12;){switch(p70){case 2:var c2e="pla";c2e+="yer miss";c2e+="ing fragmen";c2e+="tIndex";var R2e="Must have at l";R2e+="east one s";R2e+="elected stream";m(!g.X(d),R2e);m(g.pa(b.rg),c2e);b=f(d);p70=4;break;case 4:a000.w8e(11);var j41=a000.s8e(13,32,18);d=c.length - j41;p70=3;break;case 7:return (b.fd=d,b);break;case 9:h=c[d];p70=8;break;case 3:p70=-1 < d?9:14;break;case 8:p70=h.cb && h.cb.Ma && h.S < h.cb.Ma.Ga - a.IRb?7:6;break;case 6:--d;p70=3;break;case 14:b.fd=0;return b;break;}}}var o70,g,h,m,f;o70=2;for(;o70 !== 7;){switch(o70){case 2:g=a(8);a(24);h=a(38);a(3);o70=3;break;case 3:(m=h.assert,f=h.Rn,h=a(175));d.W={STARTING:h.STARTING,BUFFERING:h.BUFFERING,REBUFFERING:h.REBUFFERING,PLAYING:b,PAUSED:b};o70=8;break;case 8:var e2e="1SIYbZrN";e2e+="J";e2e+="Cp";e2e+="9";e2e;o70=7;break;}}})();},function(d,b,a){b=a(918);d.W={PLAYING:b.Qu,PAUSED:b.Qu};},function(d,b,a){var c,g,h,m,f,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qu=void 0;c=a(8);d=a(38);g=a(175);h=a(70);m=a(3);f=d.assert;q=d.Rn;b.Qu=l;(function(){var q70;q70=2;for(;q70 !== 5;){switch(q70){case 2:var h9Z="1";h9Z+="SIY";h9Z+="bZrNJ";h9Z+="Cp9";b.Qu=l=function(a,b,d,k,l,n){var r70,y,Q,ba,B,t,u,x,z,S,p,D,r,F,va,ga,ka,la,Y;r70=2;for(;r70 !== 68;){switch(r70){case 20:r70=void 0 !== z?19:61;break;case 8:r70=z < t || z > y?7:6;break;case 37:r70=void 0 !== va?36:46;break;case 57:r70=y < u.length?56:75;break;case 17:r70=a.Drb?16:62;break;case 54:r70=ba < Math.min(ba + a.nib,va.length)?53:50;break;case 9:y=u[u.length - 1].Tp;r70=8;break;case 74:--y;r70=73;break;case 48:ga+=va.get(ba).duration;r70=47;break;case 72:r70=u[y].Tp === z?71:70;break;case 22:t=d[k];r70=21;break;case 69:y--;r70=73;break;case 62:return x;break;case 47:ba++;r70=49;break;case 31:Q=ka.cb.tdigest;Y.push(Q.min);Y.push(Q.n3);Y.push(Q.wk);r70=44;break;case 32:r70=ka.cb && ka.cb.tdigest?31:40;break;case 58:y+=1;r70=57;break;case 63:x.kIa=l;r70=62;break;case 73:r70=0 <= y?72:75;break;case 77:r70=u[y].Tp > z?75:76;break;case 21:B=0;r70=35;break;case 35:r70=B < d.length?34:63;break;case 36:ba=b.rg;r70=54;break;case 7:return g.PLAYING.call(this,a,b,d,k,l,n);break;case 6:a000.w8e(3);y=a000.s8e(t,z);0 > y && (y=0);y >= u.length && (y=u.length - 1);B=u[y].Tp;r70=11;break;case 60:t=void 0;r70=59;break;case 56:r70=u[y].Tp === z?55:77;break;case 51:ba++;r70=54;break;case 19:x.fd=u[z].cNb;r70=18;break;case 2:var r9Z="player miss";r9Z+="ing fra";r9Z+="gmentIndex";var d9Z="Must have at ";d9Z+="least one sele";d9Z+="c";d9Z+="ted stre";d9Z+="am";f(!c.X(k),d9Z);f(c.pa(b.rg),r9Z);(u=a.KQb,x=new q(k),z=null !== (t=b.rg) && void 0 !== t?t:-1);t=u[0].Tp;r70=9;break;case 76:y++;r70=57;break;case 53:S=va.get(ba);F.push({d:S.duration,SY:S.$});r70=51;break;case 16:l=[];n=b.buffer;r70=26;break;case 71:t=y;r70=75;break;case 10:z=y;r70=20;break;case 55:t=y;r70=75;break;case 44:Y.push(Q.bj);Y.push(Q.xk);Y.push(Q.o3);r70=41;break;case 26:n=n.Vk - n.$c;u=h.Bh.FKa(b.buffer.aa);u=b.buffer.Ip - u.$;z=d[k];r70=22;break;case 18:x.xn=d[x.fd];r70=17;break;case 41:Y.push(Q.max);r70=40;break;case 70:r70=u[y].Tp < z?75:69;break;case 40:Q=void 0;ka.cb && ka.cb.tputTrace && (Q=ka.cb.tputTrace);(F=[],va=ka.aa,ga=0);r70=37;break;case 61:return g.PLAYING.call(this,a,b,d,k,l,n);break;case 75:z=t;r70=20;break;case 64:B++;r70=35;break;case 50:ba=b.rg;r70=49;break;case 49:r70=ba < va.length?48:46;break;case 46:va=void 0;b.$O && (va=m.time.da() - b.$O);l.push({rg:b.rg,B6b:va,C4b:ga,z1b:la,y6b:Y,A6b:Q,Bea:n,n3b:u,Z1b:F,h4b:z.S,i4b:null !== (p=z.ib) && void 0 !== p?p:0,k2b:ka.S,l2b:null !== (D=ka.ib) && void 0 !== D?D:0,b6b:t.S,c6b:null !== (r=t.ib) && void 0 !== r?r:0,No:y});r70=64;break;case 11:r70=B === z?10:60;break;case 34:(ka=d[B],y=B <= k?!0:!1,la=void 0,Y=[]);ka.cb && ka.cb.throughput && (la=ka.cb.throughput.Ga);r70=32;break;case 59:r70=B < z?58:74;break;}}};h9Z;q70=5;break;}}})();},function(d,b,a){(function(){var s70,b;s70=2;for(;s70 !== 8;){switch(s70){case 2:a(8);a(24);a(38);s70=4;break;case 4:var j9Z="1SIY";j9Z+="b";j9Z+="ZrNJCp9";b=a(17).Kc;d.W={checkBuffering:function(a,c,d,f,g,l){var O8Z=a000;var t70,p,k,m,q,n,I,B;t70=2;function h(b){var u70;u70=2;for(;u70 !== 5;){switch(u70){case 2:b=f.aa.E_(a.$c + b,void 0,!0);return (B - a.yk) / (B + (b.offset + b.$) - p);break;}}}for(;t70 !== 39;){switch(t70){case 33:--l;t70=32;break;case 11:return {complete:!1,YE:q};break;case 15:g=f.aa.Yl(a.Yb);t70=27;break;case 17:t70=!f.aa || !f.aa.length?16:15;break;case 41:0 < c && c < m && (q=Math.min(n,Math.max(l.BS * (m / c - 1),q)));return {complete:!1,YE:q,ri:h(q)};break;case 22:var A9Z="h";A9Z+="i";A9Z+="g";A9Z+="ht";A9Z+="p";return {complete:!0,reason:A9Z};break;case 25:p=f.aa.uh(g);t70=24;break;case 8:return {complete:!1,oA:!0};break;case 31:m=f.aa.get(l);O8Z.w8e(12);var k41=O8Z.s8e(5,12,15,4);I=k41 * I * d / c - m.T - q;t70=29;break;case 44:I=m.offset;t70=43;break;case 9:t70=c <= l.ema && (0 < c || !l.uha)?8:7;break;case 4:t70=k >= n?3:9;break;case 2:(k=a.Vk - a.$c,m=c === b.ff);c=f.Ma || 0;(q=0,n=l.lsa && !m?l.sA:l.Ama,n=Math.min(l.yx,n));t70=4;break;case 3:var T9Z="m";T9Z+="a";T9Z+="x";T9Z+="s";T9Z+="ize";return {complete:!0,reason:T9Z};break;case 42:var y9Z="no";y9Z+="re";y9Z+="bu";y9Z+="f";y9Z+="f";return {complete:!0,reason:y9Z};break;case 23:t70=c > m * l.A_?22:21;break;case 7:O8Z.Y8e(13);var l41=O8Z.s8e(19,152,13,5);q=l.aj * (m?l.fpa:l41);l.yrb && f.cb && f.cb.Vh && f.cb.Vh.Ga > l.Zla && (q+=l.vda + f.cb.Vh.Ga * l.coa);g && (q+=g.nr * l.wda);t70=13;break;case 21:q=f.aa.Sd(g);l=Math.min(g + Math.floor(l.BS / q),f.aa.length - 1);(I=f.aa.uh(l),q=8 * p * d / c - a.$c);t70=33;break;case 26:var x9Z="outofr";x9Z+="ang";x9Z+="e";return {complete:!0,reason:x9Z};break;case 27:t70=-1 === g?26:25;break;case 12:t70=!c?11:10;break;case 29:t70=0 < I?28:44;break;case 16:return (c < m && (q=Math.min(n,Math.max(l.BS * (m / c - 1),q))),{complete:!1,YE:q,ri:0});break;case 28:return (q=Math.min(n,k + I),{complete:!1,YE:q,ri:h(q)});break;case 13:q=n?Math.min(n,q):q;t70=12;break;case 24:t70=k >= q?23:41;break;case 10:B=0;a.aa.forEach(function(b){var v70;v70=2;for(;v70 !== 1;){switch(v70){case 2:B+=b.T + b.duration > a.$c?b.$:0;v70=1;break;}}});d=Math.max(d,1);m=d * f.S;t70=17;break;case 43:--l;t70=32;break;case 32:t70=l > g?31:42;break;}}}};j9Z;s70=8;break;}}})();},function(d,b,a){var g,h,m,f,q,l;function c(a,b,c){q=c;l=c.map(function(a,b){return b;});if(null === f)return (a=h(c),f=c[a].S,new m(a));if(!c.length)return null;a=l.filter(function(a){return c[a].S == f;})[0];return void 0 === a?(g.log("Defaulting to first stream due to unvalid bitrate requested: " + f),new m(l[0])):new m(a);}b=a(38);a=a(3);g=b.console;h=b.Jha;m=b.Rn;f=null;q=null;l=null;a.lkb && (a.lkb.Tu={Ib:function(){l=q=f=null;},I4:function(a){f=a;},D3b:function(){return {all:q,v1a:l};}});d.W={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.mza=b.Lwa=void 0;c=a(25);g=a(3);d=(function(){function a(a){this.WR=a;}a.prototype.qOa=function(a,b,d){var f,h;f=a.aa;a=a.Wi(b);a.QR=b + 1;if(!a.Ja)for(++b;b < f.length && b < d.wg.index && (a.duration < d.TJ || 0 !== b % this.WR);++b){h=f.get(b);if(a.duration + h.duration > d.tR)break;if(a.$ + h.$ > d.wma)break;a.Ada(h);a.QR=b + 1;c.sa && d.Xj("getFragmentForHudsonRequest: extended fragment startPts:",a.T,"to duration:",a.duration,"size:",a.$,"index: ",b,"min request size in ms:",d.TJ);}a.eCb=d.yc.Vzb + (g.time.da() - d.yc.aAb);c.sa && d.Xj("getFragmentForHudsonRequest( " + b + ") returning: " + JSON.stringify(a));return a;};return a;})();b.Lwa=d;d=(function(){function a(){}a.prototype.qOa=function(a,b,d,h){var f,g,k;f=a.aa;g=b === d.$f.index;k=b === d.wg.index;!k || g && d.$f.Ja?g?(g=a.oOa(d.$f),g.bT(d.$f.xs),k && (g.qma(),g.yZa(d.yc.ca))):g=a.Wi(b):(g=a.oOa(d.wg),g.bT(d.wg.xs),g.qma(),g.yZa(d.yc.ca));g.QR=b + 1;if(!h && (d.Cda || !g.Ja))for(++b;b < f.length && b < d.wg.index && (g.$ < d.ITa || g.duration < d.TJ) && (1 === g.stream.qh.length || this.Ujb(a,b));++b){h=f.get(b);if(g.duration + h.duration > d.tR)break;if(g.$ + h.$ > d.wma)break;g.Ada(h);g.QR=b + 1;c.sa && d.Xj("getFragmentForRequest: extended fragment startPts:",g.T,"to duration:",g.duration,"size:",g.$,"min request size:",d.ITa,"max request size:",d.wma,"min request duration:",d.TJ,"max request duration:",d.tR,"edit:",g.Ja);}c.sa && d.Xj("getFragmentForRequest( " + b + ") returning: " + JSON.stringify(g) + ", stream: " + JSON.stringify(g.stream));return g;};a.prototype.Ujb=function(a,b){return !a.qh.some(function(a){return b === a.rg;});};return a;})();b.mza=d;},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;c=a(0);g=a(10);h=a(923);m=a(5);d=(function(){function a(a){var b,c,d,f,h,g,k;b=this;c=a.config;d=a.O;f=a.Se;h=a.ca;g=a.Nh;k=a.xo;a=a.splice;this.LQa=this.jP=!1;this.rJa=function(){b.jP || b.sHa() && b.rUa();};this.config=c;this.Se=f;this.O=d;this.ca=h;this.Nh=g;this.xo=k;this.splice=a;}a.prototype.Ib=function(a){if(this.jP)throw Error("Cannot call init() after cleanup");if(this.LQa)throw Error("Cannot call init() twice");this.LQa=!0;this.SUa=a;this.O.cA.addListener("onHeaderFragments",this.rJa);this.sHa() && this.rUa();};a.prototype.ac=function(){this.jP || (this.jP=!0,this.SUa=void 0,this.O.cA.removeListener("onHeaderFragments",this.rJa));};a.prototype.rUa=function(){var a,b,c;if(!this.jP){b=this.TFb();c=!1;this.ca && !this.ca.bK && (c=this.nna());null === (a=this.SUa) || void 0 === a?void 0:a.call(this,b,c);this.ac();}};a.prototype.sHa=function(){return this.Se.every(function(a){return a.track.je;});};a.prototype.TFb=function(){var a,b;a=c.__read(h.sUa(this.config,this.Se,this.Nh,this.xo,this.splice),2);b=a[0];return a[1] || void 0 === this.Se.bb(1) && b;};a.prototype.nna=function(){var a,b;m.assert(this.ca);m.assert(!this.ca.bK);a=this.Se.O3;b=h.uUa(this.config,a,this.ca.ul);if(void 0 === b || void 0 === a.xo)return !1;a=this.xo && !this.xo.equal(g.U.Jr)?a.xo:g.U.Jr;this.ca.normalize(b,a);return !0;};return a;})();b.sAa=d;},function(d,b,a){var g,h;function c(a,b,c,d,h){var f,g;c=null !== (f=b.$f) && void 0 !== f?f:b.track.Xm(a,c.ka,void 0,h);a=null !== (g=b.wg) && void 0 !== g?g:b.track.JD(a,null === d || void 0 === d?void 0:d.ka,b.Cg);return [!b.ix(),c,a];}Object.defineProperty(b,"__esModule",{value:!0});b.uUa=b.sUa=void 0;g=a(0);h=a(10);b.sUa=function(a,b,d,k,u){var f,l,m,q;f=b.bb(0);b=b.bb(1);l=g.__read(b?c(a,b,d,k,u):[!1],3);m=l[0];q=l[1];l=l[2];k=g.__read(f?c(a,f,m && void 0 !== (null === q || void 0 === q?void 0:q.T)?h.U.ad(q.T):d,void 0 !== (null === l || void 0 === l?void 0:l.qa)?h.U.ad(null === l || void 0 === l?void 0:l.qa):k,u):[!1],3);a=k[0];d=k[1];k=k[2];a && (null === f || void 0 === f?void 0:f.mJ(d,k));m && (null === b || void 0 === b?void 0:b.mJ(q,l));return [a,m];};b.uUa=function(a,b,c){return b.track.Xm(a,c.ka,void 0,!0).Nh;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.rAa=void 0;c=a(5);d=(function(){function a(a){var b;b=this;void 0 === a && (a=[]);this.Se=a;a.forEach(function(a){return b.fsa(a);});}Object.defineProperties(a.prototype,{length:{get:function(){return this.Se.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O3:{get:function(){var a;return null !== (a=this.ssa) && void 0 !== a?a:this.Yda;},enumerable:!1,configurable:!0}});a.prototype.bb=function(a){return 1 === a?this.ssa:this.Yda;};a.prototype.every=function(a){return this.Se.every(a);};a.prototype.forEach=function(a){this.Se.forEach(a);};a.prototype.reduce=function(a,b){return this.Se.reduce(a,b);};a.prototype.filter=function(b){return new a(this.Se.filter(b));};a.prototype.replace=function(a,b){var d;d=this.Se.indexOf(a);c.assert(-1 < d);c.assert(a.I === b.I);this.Se[d]=b;this.fsa(b);};a.prototype.nZa=function(a,b){(a=this.bb(a))?this.replace(a,b):this.add(b);};a.prototype.add=function(a){this.Se.push(a);this.fsa(a);};a.prototype.clear=function(){this.Se=[];this.Yda=this.ssa=void 0;};a.prototype.fsa=function(a){1 === a.I?this.ssa=a:this.Yda=a;};return a;})();b.rAa=d;},function(d,b,a){var c,g,h,m,f,q,l,u;Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;c=a(0);d=a(104);g=a(250);h=a(251);a=a(3);m=d.kZ;f=d.Qkb;q=d.CMa;l=d.bsb;u=d.mNb;new a.Console("ASEJS_PREDICTOR","media|asejs");a=(function(a){var w70;w70=2;function b(b,c){var x70,d;x70=2;for(;x70 !== 12;){switch(x70){case 14:var W9Z="1SI";W9Z+="Yb";W9Z+="ZrNJ";W9Z+="Cp9";W9Z;return d;break;case 9:d.Bib=m(b.$q.gamma || 1,.1,10);d.filter=b.$q.filter;d.QPb=! !b.$q.simpleScaling;b.$q.niqrfilter && b.$q.niqrcurve && (d.nUa=b.$q.niqrfilter,d.OFb=f(b.$q.niqrcurve,1,0,4));x70=14;break;case 2:d=a.call(this,b,c) || this;d.Px=function(a,b){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:return h.Px(d.config,a,b);break;}}};d.pS=function(a,b,c){var z70,f,h,g,k,m,t;z70=2;for(;z70 !== 13;){switch(z70){case 2:c=null !== c && void 0 !== c?c:d.JJ;t=null !== (h=null === (f=a.Ma) || void 0 === f?void 0:f.Ga) && void 0 !== h?h:0;z70=4;break;case 4:f=null !== (k=null === (g=a[d.filter]) || void 0 === g?void 0:g.Ga) && void 0 !== k?k:t;g=Math.pow(Math.max(1 - f / d.Hib,0),d.Bib);k=b.Vk - b.$c;d.QPb?(b=q(d.RKa,k,1),k=q(d.QKa,k,1),b=b * g + k * (1 - g)):b=q(u(d.RKa,d.QKa,g),k,1);a=d.nUa && (null === (m=a[d.nUa]) || void 0 === m?void 0:m.UR);z70=6;break;case 6:void 0 !== a && (m=l(d.OFb,a),b=Math.min(b * m,1));a000.w8e(14);return d.yLa(a000.s8e(b,t,1),c);break;}}};Array.isArray(b.$q.curves) && (d.RKa=f(b.$q.curves[0],0,0,1),d.QKa=f(b.$q.curves[1],0,0,1));d.Hib=m(b.$q.threshold || 6E3,1,1E5);x70=9;break;}}}for(;w70 !== 5;){switch(w70){case 2:c.__extends(b,a);w70=1;break;case 3:c.__extends(b,a);w70=2;break;w70=1;break;case 9:return b;break;w70=5;break;case 1:return b;break;}}})(g.aM);b.Aya=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;c=a(0);d=a(250);g=a(251);new (a(3).Console)("ASEJS_PREDICTOR","media|asejs");a=(function(a){function b(c,d){var B70,f;B70=2;for(;B70 !== 9;){switch(B70){case 12:return f;break;B70=9;break;case 3:return f;break;case 2:var z9Z="1";z9Z+="SI";z9Z+="YbZr";z9Z+="NJCp9";f=a.call(this,c,d) || this;f.Px=function(a,b){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:return g.Px(f.config,a,b);break;}}};f.pS=function(a,c,d){var D70,h;D70=2;for(;D70 !== 3;){switch(D70){case 2:d=null !== d && void 0 !== d?d:f.JJ;h=b.HPb(a,f.config);a=a.Ma?a.Ma.Ga * (100 - f.Dub(c,h)) / 100 | 0:0;return f.yLa(a,d);break;}}};z9Z;B70=3;break;}}}var A70;A70=2;for(;A70 !== 3;){switch(A70){case 2:c.__extends(b,a);b.HPb=function(a,b){var E70,c,d;E70=2;for(;E70 !== 4;){switch(E70){case 2:d=! !a.bq;b.mra && (null === (c=a.Ma) || void 0 === c?void 0:c.Ga) < b.nP && (d=!0);return d;break;}}};b.prototype.Dub=function(a,b){var F70,c,d;F70=2;for(;F70 !== 3;){switch(F70){case 2:(c=this.config,d=b?c.yfa:c.hea);b=b?c.zfa:c.jea;Array.isArray(b) && (d=g.BMa(b,a.Vk - a.$c,c.iea));return d;break;}}};A70=4;break;case 4:return b;break;}}})(d.aM);b.oCa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fxa=void 0;d=(function(){function a(a,b,d,g,f,q,l,u){this.yc=a;this.JIa=b;this.config=d;this.console=g;this.I=f;this.Ya=q;this.Ra=l;this.Cb=u;this.Ln=this.Xg=!1;}a.prototype.XH=function(a,b){!this.yc.ca.ys || this.Cb.hH || this.Cb.NX && !this.config.Eda || (a-=this.yc.fe,this.Xg && !this.Ln && a + this.config.MRb >= b && 0 === this.Ra.Jx && 0 === this.Ra.av && 0 === this.Ra.CKb && (b=this.Cb.Rd.O.eb,a=this.Cb.TI(),b + 1 < a || (this.JIa[this.I].F_a || this.Ya.Adb(this.I),this.Ln=!0,this.JIa[this.I].d3())));};return a;})();b.Fxa=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;c=a(0);g=a(25);d=a(413);h=a(412);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.iqb=function(b){a.prototype.O1.call(this,{value:b});};b.prototype.cRa=function(){return !0;};b.prototype.Zqa=function(){};b.prototype.O1=function(b){a.prototype.O1.call(this,b);b.done && (b=this.sH.CZ,g.sa && this.G.trace("Requests drained",{A1b:b && b.ca.id}),(b=b && b.bb(this.mg)) && b instanceof h.wV && b.XH(this.Ff.Nia() || 0));};return b;})(d.v6);b.Dxa=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Pta=void 0;c=a(173);g=a(25);d=(function(){function a(a,b,c){this.G=a;this.Uab=b;this.mg=c;this.fX=0;this.AX=!1;g.sa && a.trace("creating new iterator for " + this.mg);}Object.defineProperties(a.prototype,{Nob:{get:function(){return this.fX;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{CZ:{get:function(){return this.lEa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$m:{get:function(){return this.AX;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qob:{get:function(){return this.Tj?this.Tj.gx?"Complete":this.Tj.Ooa?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.Tj;return b?b.next().then(function(c){if(a.Tj !== b)return {done:!0};c.done || a.fX++;return c;}):c.vB.yja();};a.prototype.MMb=function(){this.o_a();this.eLb();};a.prototype.o_a=function(){var a;if(this.Tj){a=this.Tj;a && a.Ng();a && g.sa && this.G.trace("Disposing iterator that was on branch",this.CZ && this.CZ.ca);this.AX=!1;this.Tj=void 0;}};a.prototype.eLb=function(){var a,b,d,h;a=this;if(!this.AX){b=this.G;d=this.Uab;h=this.mg;this.fX=0;this.lEa=void 0;this.Tj=c.xr(c.map(d.fPa(),function(c){var d;a.lEa=c;a.fX=0;g.sa && b.trace("Received branch",c.ca);d=c.zQ(h);if(d)return {value:d};g.sa && b.error("Skipping Branch",c.ca);return {value:[]};},b),b);this.AX=!0;}};return a;})();b.Pta=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;c=a(0);g=a(931);h=a(932);d=(function(){function a(a,b,c,d,k,m,n,y){this.I=a;this.Fc=c;this.events=k;this.KT=[];this.KT=[new g.ACa(a,b,c,d,k,m,n,"stream")];1 === this.I && this.KT.push(new h.fCa(a,b,c,d,k,m,n,y));}a.prototype.reset=function(){this.KT.forEach(function(a){return a.reset();});};a.prototype.close=function(){this.KT.forEach(function(a){return a.close();});};a.prototype.Si=function(a){return c.__read(this.KT,1)[0].Si(a);};return a;})();b.jBa=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.ACa=void 0;c=a(0);g=a(5);h=a(25);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.lE=function(a){var b,c;b=a.stream;c=a.ll;a=a.Kj;g.assert(void 0 !== c);this.$Ga(b,c,a) && h.sa && this.trace("stream " + b.id + ", " + b.S + "kbit/s @ " + c.ka + "ms");};b.prototype.aMa=function(a,b){var c,d,f;d=a.yF;f=this.Fc.Yr(b);g.assert(void 0 !== f);h.sa && this.trace("emitStreamPresentingEvent @ " + a.timestamp.ka + "ms for " + (null === d || void 0 === d?void 0:d.id) + ", " + ((null === d || void 0 === d?void 0:d.S) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.I,playerTimestamp:b,position:f,trackIndex:null === (c=null === d || void 0 === d?void 0:d.track) || void 0 === c?void 0:c.MC,streamIndex:null === d || void 0 === d?void 0:d.Rf});};return b;})(a(414).R$);b.ACa=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;c=a(0);g=a(25);h=a(5);d=(function(a){function b(b,c,d,f,h,g,k,m){b=a.call(this,b,c,d,f,h,g,k,"segment") || this;b.dy=m;return b;}c.__extends(b,a);b.prototype.lE=function(a){var b,c,d;c=a.ll;a=a.Kj;h.assert(void 0 !== c);d=null === (b=this.Fc.Yr(c)) || void 0 === b?void 0:b.Ba;h.assert(void 0 !== d);this.$Ga(d,c,a) && g.sa && this.trace("segment " + d + " @ " + c.ka + "ms");};b.prototype.aMa=function(a,b){var c,d;c=a.yF;d=this.Fc.Yr(b);h.assert(void 0 !== d);g.sa && this.trace("emitSegmentPresentingEvent @ " + a.timestamp.ka + "ms for segment " + c);a={type:"segmentPresenting",playerTimestamp:b,position:d};this.dy && (a.metrics=this.dy.Wia(c));this.events.emit(a.type,a);};return b;})(a(414).R$);b.fCa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;d=(function(){function a(a,b,d,g,f,q,l,u,t,n){var c;c=this;this.id=a;this.O=b;this.T=d;this.GP=f;this.gk=q;this.ys=l;this.D5=u;this.ml=t;this.Ae=n;this.G0=function(a){var b,d;return (null === (d=null === (b=c.gk) || void 0 === b?void 0:b[a]) || void 0 === d?void 0:d.wSb) || c.Ae;};this.qa=g || Infinity;}Object.defineProperties(a.prototype,{la:{get:function(){return this.O.la;},enumerable:!1,configurable:!0}});a.prototype.aOa=function(){var a,b,d;a=this;d=Object.keys(this.gk || ({})).filter(function(b){var c,d;return !(null === (d=null === (c=a.gk) || void 0 === c?void 0:c[b]) || void 0 === d || !d.weight);});return d.length?null !== (b=d.map(this.G0).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== b?b:this.Ae:this.Ae;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.ml + " viewableId: " + this.O.la + " pts: " + this.T + "-" + this.qa + " defaultKey: " + this.GP + " dests: " + JSON.stringify(this.gk) + " terminal: " + ! !this.ys;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.O.la,"startPts:":this.T,endPts:this.qa,defaultKey:this.GP,"dests:":this.gk,terminal:! !this.ys,playlistSegmentId:this.ml};};return a;})();b.aCa=d;},function(d,b,a){var c,g,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.Vsa=void 0;c=a(176);g=a(935);h=a(384);m=a(8);f=a(24);q=a(3);d=(function(){var G70;G70=2;function a(a,b,d,k,l,m,n,p,E){var H70,t,I70,J70,u,x;H70=2;for(;H70 !== 32;){switch(H70){case 26:H70=n && 1 < n.length && l.Zga?25:33;break;case 7:this.Xj=this.G.trace.bind(this.G);this.H=l;a000.Y8e(15);var m41=a000.s8e(2,846154,76923);this.nFa=0 === Math.floor(m41 * Math.random()) % l.vea;this.Hr=this.c1=this.pQa=this.pZ=this.bq=void 0;H70=12;break;case 35:H70=34;break;case 16:H70=this.zC.Sp?15:27;break;case 20:void 0 !== b && void 0 !== b.wk && void 0 !== b.bj && void 0 !== b.xk && (t=(b.xk - b.wk) / b.bj);k=l.OR?f.Xe.EB:f.Xe.FB;d && d.Hd >= k && d.Ma && t && this.Gcb(d,b,t);H70=16;break;case 22:var K9Z="L";K9Z+="R";H70=I70 === K9Z?21:35;break;case 21:this.$G=new h.Gwa(n,l,this.G);H70=23;break;case 5:this.mb=p;this.zC=E;H70=3;break;case 2:this.G=b;this.kc=k;H70=5;break;case 25:var L9Z="ba";L9Z+="s";L9Z+="elin";L9Z+="e";I70=l.czb;H70=I70 === L9Z?24:22;break;case 27:this.Yba=!1;H70=26;break;case 24:this.$G=new h.rV(n,l,this.G);H70=23;break;case 23:this.Yba=this.$G.D1();H70=33;break;case 15:try{J70=2;for(;J70 !== 4;){switch(J70){case 2:(u=q.$l(),x=new g(a,this.G,{bufferSize:u},l));this.kc.wgb(x);this.$Fa=x;J70=4;break;}}}catch(M){var p9Z="Hin";p9Z+="dsight: Error when creati";p9Z+="ng QoEEvaluat";p9Z+="or:";p9Z+=" ";a000.Y8e(1);a.Ya.jm(a000.s8e(p9Z,M));}H70=27;break;case 12:var u9Z="de";u9Z+="f";u9Z+="aul";u9Z+="t";this.ora=this.SZa=this.TZa=this.nra=this.rVa=this.sVa=0;this.OX=c[u9Z](l,m);b=this.PEa(d);H70=20;break;case 33:l.d6 && (this.ZX=this.YX=!1);H70=32;break;case 3:var o9Z="1SIYb";o9Z+="Zr";o9Z+="NJ";o9Z+="Cp";o9Z+="9";o9Z;this.Va=a;this.kb=this.G.warn.bind(this.G);H70=7;break;case 34:this.$G=new h.rV(n,l,this.G);H70=23;break;}}}for(;G70 !== 27;){switch(G70){case 3:a.prototype.Zba=function(a,b,c,d){var O70,f;O70=2;for(;O70 !== 7;){switch(O70){case 1:var U9Z="i";U9Z+="q";U9Z+="r";O70=a === U9Z?5:9;break;case 2:f=this.H;O70=1;break;case 9:var D9Z="a";D9Z+="v";D9Z+="g";O70=a === D9Z?8:3;break;case 4:return b.Ma && c && m.pa(d) && b.Ma.Ga < f.nP && d > f.v8;break;case 5:O70=void 0 !== d?4:3;break;case 3:return !1;break;case 8:return b.Ma?b.Ma.Ga < f.nP:!0;break;}}};a.prototype.Ywb=function(a){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:return 1 === a?this.OX.pS:this.OX.Px;break;}}};a.prototype.bL=function(a){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 4:this.OX.bL(a);Q70=8;break;Q70=1;break;case 2:this.OX.bL(a);Q70=1;break;}}};a.prototype.mgb=function(a,b,c,d,f,h){var R70,g;R70=2;for(;R70 !== 5;){switch(R70){case 2:g=this.H;g.d6 && this.teb(b) || !c || !d || !(c=h?Math.min(c,d,h):Math.min(c,d)) || (this.kc.get(),d=this.Va.Aa,a=d.Qt(d.bc,a),b.track.Po() && a > g.uea && c === f?(g.set?(g.set({pipelineEnabled:!0}),g.set({maxParallelConnections:1}),g.set({maxActiveRequestsPerSession:2}),g.set({maxPendingBufferLen:500})):(g.Xo=!0,g.KJ=1,g.ru=2,g.rA=500),b.track.c4({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:g.LL,minRequestSize:g.UJ}),this.nra++,g.d6 && (this.YX=!0)):g.Xo && !b.Po() && (a < g.tea || c !== f) && (g.set?(g.set({pipelineEnabled:!0}),g.set({maxParallelConnections:3}),g.set({maxActiveRequestsPerSession:3}),g.set({maxPendingBufferLen:12E3})):(g.Xo=!0,g.KJ=3,g.ru=3,g.rA=12E3),b.track.c4({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:g.LL,minRequestSize:g.UJ}),this.ora++,g.d6 && (this.ZX=!0)));R70=5;break;}}};G70=6;break;case 6:a.prototype.qgb=function(a,b){var S70,c,d,f;S70=2;for(;S70 !== 7;){switch(S70){case 1:S70=this.nFa?5:7;break;case 2:c=this.H;S70=1;break;case 5:void 0 === this.Il && (this.Il={startTime:q.time.da(),jw:[],iy:[],Dla:void 0,ula:void 0});(c=Math.floor((q.time.da() - this.Il.startTime) / c.$C),d=this.Il.ula,f=this.Il.Dla?c - this.Il.Dla - 1:c);S70=3;break;case 9:(this.Il.jw[f]=a,this.Il.iy[f]=b);S70=8;break;case 8:this.Il.ula=c;S70=7;break;case 3:S70=void 0 === d || c > d?9:8;break;}}};a.prototype.NGb=function(){var T70,a,U70;T70=2;for(;T70 !== 4;){switch(T70){case 2:a=this.Va;T70=1;break;case 8:T70=this.zC.Sp?8:5;break;T70=this.zC.Sp?5:4;break;case 5:try{U70=2;for(;U70 !== 1;){switch(U70){case 2:(this.kc.RLb(),this.$Fa.ac());U70=1;break;}}}catch(t){var Q9Z="Hindsight:";Q9Z+=" Error";Q9Z+=" ";Q9Z+="during c";Q9Z+="lean up: ";a000.w8e(1);a.Ya.jm(a000.s8e(Q9Z,t));}T70=4;break;case 1:T70=this.zC.Sp?5:4;break;}}};a.prototype.$Gb=function(a){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.H.zI && a === f.Sa.VIDEO && (this.ora=this.nra=this.SZa=this.TZa=this.rVa=this.sVa=0);V70=1;break;}}};a.prototype.YGb=function(a,b){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:a === f.Sa.VIDEO && (this.BUb=b);W70=1;break;}}};a.prototype.zkb=function(a){var X70,g,b,c,d,h;X70=2;for(;X70 !== 8;){switch(X70){case 5:var q9Z="i";q9Z+="q";q9Z+="r";c=this.kc.get();q9Z === b.eB && (d=this.PEa(c),void 0 !== d && void 0 !== d.wk && void 0 !== d.bj && void 0 !== d.xk && (h=(d.xk - d.wk) / d.bj));g=b.OR?f.Xe.EB:f.Xe.FB;c && c.Hd >= g && this.Zba(b.eB,c,d,h) && (this.bq=!0,this.pZ=a.state);X70=8;break;case 1:var m9Z="n";m9Z+="o";m9Z+="n";m9Z+="e";X70=m9Z !== b.eB && !0 !== this.bq && a.state <= b.zma?5:8;break;case 2:b=this.H;X70=1;break;}}};a.prototype.Mgb=function(a){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:a.bq=this.bq;Y70=1;break;case 4:a.bq=this.bq;Y70=8;break;Y70=1;break;}}};G70=20;break;case 20:a.prototype.Psb=function(a){var Z70,b,c,d,h,g,k,l,u;Z70=2;for(;Z70 !== 15;){switch(Z70){case 2:var G9Z="startp";G9Z+="l";G9Z+="ay";var t9Z="l";t9Z+="ogd";t9Z+="ata";(b={},c=this.H,d=this.Va,h={type:t9Z,target:G9Z,fields:{}});h.fields=b;Object.keys(a).forEach(function(c){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 4:b[c]=a[c];a80=2;break;a80=1;break;case 2:b[c]=a[c];a80=1;break;}}});Z70=4;break;case 4:g=this.kc.get();g && g.Ma && (g=g.Ma.Ga);b.actualbw=g;Z70=8;break;case 8:b.isConserv=this.bq;b.ccs=this.pZ;b.isLowEnd=this.TAb;b.histdiscbw=this.Hr;k=this.c1;Z70=12;break;case 12:Z70=k?11:19;break;case 11:(l=function(a){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:return m.pa(a)?Number(a).toFixed(2):-1;break;}}},g=[l(k.min || void 0),l(k.n3 || void 0),l(k.wk || void 0),l(k.bj || void 0),l(k.xk || void 0),l(k.o3 || void 0),l(k.max || void 0)],u=[],k=m.isArray(k.Lh) && k.Lh.reduce(function(a,b){var c80,c;c80=2;for(;c80 !== 3;){switch(c80){case 2:c=l(b.tf || void 0);b=l(b.n || void 0);-1 < c && -1 < b && a.push({mean:c,n:b});c80=4;break;case 4:return a;break;}}},u));b.histtdc=k;Z70=20;break;case 20:b.histtd=g;Z70=19;break;case 19:b.histage=this.pQa;c.Zga && this.$G && (b.ishighstable=this.Yba,b.avg_avtp=this.$G.qIa,b.avg_ne=Number(this.$G.rIa).toFixed(4));d.Kb && (c=q.$l(),b.maxAudioBufferAllowedBytes=c[f.Sa.AUDIO],b.maxVideoBufferAllowedBytes=c[f.Sa.VIDEO]);Z70=16;break;case 16:d.emit(h.type,h);Z70=15;break;}}};a.prototype.Qsb=function(a){var d80,b,c,d,h,g,k,l;d80=2;for(;d80 !== 6;){switch(d80){case 2:(b=this,c=this.H,d=this.kc.get(),h=[]);[f.Sa.VIDEO,f.Sa.AUDIO].forEach(function(a){var e80,g;e80=2;for(;e80 !== 4;){switch(e80){case 2:e80=b.mb(a)?1:4;break;case 1:g=b.Va.kPa(a);void 0 !== g && (a === f.Sa.VIDEO && (c.zI && (g.parallelDownloadMs=b.sVa,g.parallelDownloadBytes=b.rVa,g.singleDownloadMs=b.TZa,g.singleDownloadBytes=b.SZa,g.switchFromParallelToSingle=b.nra,g.switchFromSingleToParallel=b.ora),d && d.Hd && d.Ma && (g.asetput=d.Ma,g.aseiqr=d.Kr,g.tdigest=d.kj && d.kj.Vw() || void 0),d && d.avtp && (g.avtp=d.avtp.Ga)),h.push(g));e80=4;break;}}});a.stat=h;d80=4;break;case 4:(g=0,k=0,l=0);d.Hd && (g=d.Ma?d.Ma.Ga:0,k=d.Vh?d.Vh.Ga:0,l=d.Ir?d.Ir.Ga:0);a.location={responseTime:k,httpResponseTime:l,bandwidth:g,confidence:d.Hd,name:this.BUb};this.nFa && (a.bt={startTime:this.Il.startTime,audioMs:this.Il.jw,videoMs:this.Il.iy},this.Il.jw=[],this.Il.iy=[],this.Il.Dla=this.Il.ula);d80=7;break;case 7:var s9Z="n";s9Z+="o";s9Z+="n";s9Z+="e";s9Z !== c.eB && (a.isConserv=this.bq,a.ccs=this.pZ);d80=6;break;}}};a.prototype.teb=function(a){var f80,b;f80=2;for(;f80 !== 6;){switch(f80){case 1:f80=this.YX && a.Po()?5:4;break;case 2:b=this.H;f80=1;break;case 5:return !0;break;case 8:this.ZX && (this.ZX=!1);return !1;break;case 4:this.YX && (this.YX=!1);f80=3;break;case 3:f80=this.ZX && b.Xo && !a.Po()?9:8;break;case 9:return !0;break;}}};a.prototype.PEa=function(a){var g80,h80;g80=2;for(;g80 !== 4;){switch(g80){case 5:return a;break;case 2:var Y9Z="tdi";Y9Z+="ge";Y9Z+="st";h80=this.H.hka;g80=h80 === Y9Z?1:3;break;case 1:a=a.kj;g80=5;break;case 9:a=a.Kr && a.Kr.w3;g80=5;break;case 3:g80=9;break;}}};G70=16;break;case 16:a.prototype.Gcb=function(a,b,c){var i80,d;i80=2;for(;i80 !== 3;){switch(i80){case 2:d=this.H;this.Zba(d.eB,a,b,c)?this.bq=!0:this.bq=!1;this.pZ=0;this.Zba(d.ama,a,b,c) && (this.TAb=!0);i80=3;break;}}};return a;break;case 2:Object.defineProperties(a.prototype,{D1:{get:function(){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 4:return this.Yba;break;K70=1;break;case 2:return this.Yba;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Voa:{get:function(){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 2:return this.$Fa;break;}}},enumerable:!1,configurable:!0}});a.prototype.tZa=function(a,b,c){var M70;M70=2;for(;M70 !== 4;){switch(M70){case 2:this.Hr=a;m.X(b) || (this.pQa=b);m.X(c) || (this.c1=c);M70=4;break;}}};a.prototype.bsa=function(a){var N70;N70=2;for(;N70 !== 5;){switch(N70){case 2:this.H=a;this.OX.bsa(a);N70=5;break;}}};G70=3;break;}}})();b.Vsa=d;},function(d,b,a){var g,h,m;function c(a,b,c,d){this.Va=a;this.G=b;this.gf=this.G.error.bind(this.G);this.kb=this.G.warn.bind(this.G);this.Xj=this.G.trace.bind(this.G);this.Jg=this.G.log.bind(this.G);this.Cab=new h();this.H=d;this.MX=[];this.gY=void 0;a=d.b1;g.call(this,a.numB * a.bSizeMs,a.bSizeMs);this.Tba=!0;}a(24);b=a(3);g=a(140);a(417);h=a(936);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(93).T$ || a(93);c.prototype=Object.create(g.prototype);c.prototype.add=function(a,b,c){this.gY || (this.gY=b);g.prototype.add.call(this,a,b,c);};c.prototype.Rub=function(){var a;if(0 !== this.MX.length){a=[];this.MX.forEach(function(b){b && b.HH && a.push(b.Vw());});return a;}};c.prototype.ac=function(){this.MX=[];};c.prototype.Qxb=function(){var a,b,c;a=this.get(this.H.b1.fillS);if(0 === a[0] || null === a[0]){a.some(function(a,d){if(a)return (b=a,c=d,!0);});if(b)for(var d=0;d < c;d++){a[d]=b;}}a={trace:a,timestamp:this.gY,Fp:this.Xc};this.Tba=!1;g.prototype.reset.call(this);this.Tba=!0;this.gY=void 0;return a;};c.prototype.rha=function(a){var b,c,d,f,h,g;if(a && !a.HH){c=a.Ao.sRa;c && (a.epa=this.Gda(a),a.b4=!1);if((b=this.Qxb()) && b.trace && b.trace.length){d=a.Dg.$r;f=b.timestamp;if(f > d){h=b.Fp;g=b.trace[0];d=Math.ceil(1 * (f - d) / h);b.timestamp=f - d * h;for(f=0;f < d;f++){b.trace.splice(0,0,g);}}b.trace.length && b.trace.pop();}a.Bq=b;b.trace && 0 === b.trace.length || void 0 === b.timestamp || (b=this.Cjb(a),a.aVa=b,c && b && (a.b4=b.No),a.HH=!0,this.MX.push(a));}};c.prototype.Cjb=function(a){var h,g,k,n;function b(a){var d;for(var b,c=0;c < a.length;c++){d=a[c].reduce(function(a,b){return b.ib?a + 1:a;},0);if(void 0 === b)b=d;else if(d !== b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(d > b?d - b:b - d) * Math.LOG2E) + "]");}}for(var c=this.H.a1,d={No:!1,fA:!1,h_:0},f=0;f < c.length;f++){h=c[f];g=this.Cab.create(h);if(g){k=m.now();n={};try{b(a.Gn);n=g(a);}catch(L){n.t_=L;}n.dhb=m.now() - k;d[h]=n;d.No=d.No || n.No;d.fA=d.fA || n.fA;d.t_=d.t_ || n.t_;}}return d;};c.prototype.Gda=function(a){var b;a=a.Ao;b="";1E3 > a.jp && (b+=a.a2a);1E3 > a.It && (b=b + ("" !== b?",":"") + a.PHa);1E3 <= a.jp && 1E3 <= a.It && (b="media");return b;};d.W=c;},function(d,b,a){var h,m;function c(){}function g(a,b,c){return function(d){d.SK=b;c && (d.lhb=c);return a(d);};}h=a(937);m=a(940);c.prototype.constructor=c;c.prototype.create=function(a){switch(a){case "htwbr":a=m.RD;break;case "hvmafgr":a=h.RD;break;case "hvmafdp":a=h.dp;break;case "hvmafgr-dlvmaf":a=g(h.RD,!1);break;case "hvmafgr-segvmaf":a=g(h.RD,!0);break;case "hvmafgr2-dlvmaf":a=g(h.RD,!1,!0);break;case "hvmafgr2-segvmaf":a=g(h.RD,!0,!0);break;case "hvmafdp-dlvmaf":a=g(h.dp,!1);break;case "hvmafdp-segvmaf":a=g(h.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};d.W=c;},function(d,b,a){var B,L,I,E,r,W,R,M,D,U,ka;function c(a){var b,c,d;c=a.Bq;b=a.Dg;d=a.Ao.qa - b.T;c.timestamp > b.$r && U.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + c.timestamp + " and " + b.$r);a=[];for(var f,h=c.timestamp,g=0;g < c.trace.length;g++){h >= b.$r && (a.push(c.trace[g]),f=c.trace[g]);h+=c.Fp;d-=c.Fp;}for(;0 < d;){a.push(f);d-=c.Fp;}b=c.Fp;c=a.length;if(0 === c)c=[];else {for(b=[b / 1E3];2 * b.length <= c;){b=b.concat(b);}b.length < c && (b=b.concat(b.slice(0,c - b.length)));c=b;}return new W(a,c,!1);}function g(a,b){if(a.jq < b.jq)return 1;if(a.jq > b.jq)return -1;if(a.Qr > b.Qr)return 1;if(a.Qr < b.Qr)return -1;if(a.index > b.index)return 1;if(a.index < b.index)return -1;throw Error("Invalid frag comparison");}function h(a,b){if(a.jq < b.jq)return 1;if(a.jq > b.jq)return -1;if(a.Qr < b.Qr)return 1;if(a.Qr > b.Qr)return -1;if(a.index < b.index)return 1;if(a.index > b.index)return -1;throw Error("Invalid frag comparison");}function m(a,b,c){b=a.Gn[b][c];return b.$ + a.Dg.VC * b.duration * 1 / 8;}function f(a){var t;for(var b=a.Dg,c=b.Ah,d=a.Ao,f=d.zo,h,g,k,l=[],d=f=Math.min(d.wx,f);d >= c;d--){ka.update("backward step loop");g=k=a.Gn[0][d].T - a.Dg.T;d < f && (B(void 0 !== l[d + 1],"expect solution[(fragIndex + 1)] !== undefined"),g=Math.min(l[d + 1].startTime,g));h=m(a,0,d);t=y(h,g,a.Bq,b.$r);if(0 > t)throw Error("Infeasible: reason throughput at min bitrate");h={startTime:t,endTime:g,jI:g,Aqb:k,uq:h,fd:0};h.tNa=d;l[d]=h;}b=0;for(d=c;d <= f;d++){b+=l[d].uq;l[d].Fga=b;}if(!q(a,l,c,f))throw Error("Infeasible: reason buffer capacity at min bitrate");return {No:!0,VR:0 == l.length,tl:l};}function q(a,b,c,d){var f,h,g,k,l,m,q,t,u,n;for(;c <= d;c++){ka.update("checkBuffer");f=a;h=b;g=c;ka.update("check buffer vacancy");k=f.Dg;l=f.Gn[k.jJ];m=f.sea;q=!0;t=f.gtb(Math.floor(h[g].startTime) + k.T);u=k.bv + h[g].Fga;n=0;f=0;if(t.index < k.Ah){for(var x=0,y=k.Ru;y < t.index;y++){x+=l[y].$;}n+=x;x=0;for(y=k.Ru;y < t.index;y++){x+=l[y].duration;}f+=x;}else (n+=k.bv,f+=k.jp);x=0;for(y=k.Ah;y < t.index;y++){x+=h[y].uq;}n+=x;x=0;for(y=k.Ah;y < t.index;y++){x+=l[h[y].tNa].duration;}f+=x;t=u - n;k=l[g].T + l[g].duration - k.T - f;if(k >= m.yx || t >= m.X5)q=!1;h[g].RIa=t;h[g].Bea=k;if(!q)return !1;}return !0;}function l(a){a=a.Dg.aa;for(var b=[],c,d=0;d < a.length;d++){ka.update("get prebuffered chunks loop");c=a[d];B(void 0 !== c.ib,"expect frag.vmaf !== undefined");c=new I(c.$,c.duration / 1E3,c.ib);b.push(c);}return b;}function u(a){for(var b=a.Gn,c=a.Dg,d=a.Ao,f=d.zo,h=a.gd,g=[],k,f=Math.min(d.wx,f),l=0;l < b.length;l++){for(var d=[],m=c.Ah;m <= f;m++){ka.update("get chunk map from play segment");k=b[l][m];k=new I(k.$,k.duration / 1E3,a.SK && void 0 !== k.ib?k.ib:h[l].ib);d.push(k);}g.push(d);}return new E(g,!1);}function t(a,b){B(a.bJ() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,d=0,f,h,g=0;g < b.length;g++){ka.update("calculate twvmaf");B(b[g].uQa === g,"expect stream_choices[idx].i_epoch === idx");h=a.Bj[b[g].pka][g];f=h.OE;h=h.un;c+=f * h;d+=h;}return {ALa:c / d,Hga:1E3 * d};}function n(a,b,c){var d,f;B(a.bJ() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");d=0;f=0;c=c.Dg.VC;for(var h,g=0;g < b.length;g++){ka.update("calculate Bytes");B(b[g].uQa === g,"expect stream_choices[idx].i_epoch === idx");h=a.Bj[b[g].pka][g];d+=h.$;f+=c * h.un * 1E3 / 8;}return {Gga:d,Ega:f};}function p(a,b,c){b=Math.min(a.length - 1,b);b=Math.max(0,b);return a[b] * c * 1 / 8;}function y(a,b,c,d){var f,h,g,k,l;f=c.trace;h=1 * c.Fp;l=b + d - c.timestamp;k=Math.floor(1 * l / h);b=0 + (l - k * h) / h * p(f,k,h);if(b >= a)g=l - 1 * a / b * (l - k * h);else for(l=k;b < a;){ka.update("find download start time");--l;if(0 > l)return -1;k=p(f,l,h);if(b + k >= a){a=1 * (a - b) / k * h;g=(l + 1) * h - a;break;}b+=k;}return g + c.timestamp - d;}B=a(5).assert;L=a(938);I=a(418).r4a;E=a(418).s4a;r=a(939).H5a;W=a(419).V$a;R=a(252).Sta;M=a(248).DV;D=a(62);U=new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");ka=a(93).T$ || a(93);d.W={RD:function(a){var b,c,d,k,l,t,u,n,x,p,z,I,E,D,r,W,R,da,F,O,N,V,X,ea,fa,ja,ha,ma;U.debug("greedy DEBUG false");ka.S4("greedy-" + (a.SK?"segvmaf":"dlvmaf") + ": ");try{a.jE=[];l=a.Gn;t=a.Dg;u=a.Ao;n=u.zo;x=a.gd;n=Math.min(u.wx,n);for(R=t.Ah;R <= n;R++){da=new L();a.jE[R]=da;l[0][R].Fea=l[0][R].$;for(W=1;W < l.length;W++){l[W][R].Fea=l[W][R].$;}W=0;p=l[W][R];p.jq=Infinity;p.Rf=W;for(W=1;W < l.length;W++){p=l[W][R];p.Rf=W;z=da.y1()?l[0][R]:da.pIb();I=8 * p.Fea / p.duration;E=8 * z.Fea / z.duration;a.SK && void 0 !== p.ib?(D=p.ib,r=z.ib):(D=x[W].ib,r=x[z.Rf].ib);p.Qr=I - E;p.jq=(D - r) / p.Qr;isFinite(p.jq) && (0 < p.jq || W == l.length - 1) && 0 < p.Qr && da.enqueue(p);}}for(R=t.Ah;R <= n;R++){k=[];d=[];c=[];for(var la=a.jE[R].Cn(),l=0;l < la.length;l++){p=la[l];k.push(p.Qr.toFixed(2));a.SK && void 0 !== p.ib?d.push(p.ib):d.push(x[p.Rf].ib);c.push(p.jq.toFixed(4));}}b=f(a);if(b.VR)return b;F=a.Dg;O=a.Ao;N=O.zo;N=Math.min(O.wx,N);c=[];for(var P=F.Ah;P <= N;P++){a.jE[P].y1() || c.push(a.jE[P].oI());}for(var T=new M(c,a.lhb?h:g);0 < T.length;){ka.update("upgrade frags");V=T.pop();a:{N=F=void 0;P=a;c=b;d=V;ea=P.Dg;fa=P.Ao;ja=Math.min(fa.wx,fa.zo);ha=JSON.parse(JSON.stringify(c.tl));B(d && ha[d.index].fd < d.Rf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");N=d.index;F=ha[N];F.fd=d.Rf;F.uq=m(P,F.fd,N);F.startTime=y(F.uq,F.jI,P.Bq,ea.$r);ha[N]=F;if(0 > F.startTime)X=!1;else {for(N=d.index - 1;N >= ea.Ah;N--){F=ha[N];ma=ha[N + 1].startTime;if(F.jI <= ma)break;F.jI=ma;F.startTime=y(F.uq,F.jI,P.Bq,ea.$r);ha[N]=F;if(0 > F.startTime){X=!1;break a;}}for(var oa=d.index + 1;oa <= ja;oa++){ha[oa].Fga=ha[oa].uq + (oa > P.Dg.Ah?ha[oa - 1].Fga:0);}for(var pa=d.index + 1;pa <= ja;pa++){if(ha[pa].startTime > ha[d.index].Aqb){ja=pa - 1;break;}}q(P,ha,d,Math.min(N + 1,d.index))?(c.tl=ha,X=!0):X=!1;}}X && (a.jE[V.index].y1() || T.push(a.jE[V.index].oI()));}}finally{delete a.jE;}for(fa=ea=X=V=T=0;fa < b.tl.length;fa++){if(ja=b.tl[fa])(ha=a.Gn[ja.fd][ja.tNa],T+=(ha.ib?ha.ib:a.gd[ja.fd].ib) * ha.duration,V+=ha.duration,X+=ha.$,ea+=a.Dg.VC * ha.duration * 1 / 8);}b.ALa=0 < V?1 * T / V:0;b.Hga=V;b.Gga=X;b.Ega=ea;b.Sr=ka.Sia();U.debug("Max heap used: " + Math.round(b.Sr / 1024 / 1024) + " MB");return b;},dp:function(a){var b,d,h,g,k,m;ka.S4("dp-" + (a.SK?"segvmaf":"dlvmaf") + ": ");b=f(a);if(!1 === b.No || !0 === b.VR)return b;d=u(a);h=new r(d);g=l(a);g={i0a:c(a),iIa:a.Dg.VC,JTa:0,qTa:240,pTa:8 * a.sea.X5 / 1E3,OIa:.5,xIa:new R(g),rMa:0,I3b:void 0,LPa:void 0,$Wa:void 0,xHa:!0};h=h.VA(g);g=t(d,h);d=n(d,h,a);k=[];m=a.Dg.Ah;h.forEach(function(a){k[m]={fd:a.pka};m++;});D(g,b);D(d,b);b.tl=k;b.Sr=ka.Sia();U.debug("Max heap used: " + Math.round(b.Sr / 1024 / 1024) + " MB");return b;}};},function(d){var c;function b(b){this.Hf=a(b);this.Uf=this.He=0;if(c(b)){for(var d=b.length,g=0;g < d;++g){this[g]=b[g];}this.He=d;}}function a(a){if("number" !== typeof a)if(c(a))a=a.length;else return 16;a=Math.min(Math.max(16,a),1073741824);a=(a >>> 0) - 1;a|=a >> 1;a|=a >> 2;a|=a >> 4;a|=a >> 8;return (a | a >> 16) + 1;}b.prototype.Cn=function(){for(var a=this.He,b=Array(a),c=this.Uf,d=this.Hf,g=0;g < a;++g){b[g]=this[c + g & d - 1];}return b;};b.prototype.push=function(a){var b,c,d,k;b=arguments.length;c=this.He;if(1 < b){d=this.Hf;if(c + b > d){for(var g=0;g < b;++g){this.WW(c + 1);k=this.Uf + c & this.Hf - 1;this[k]=arguments[g];c++;this.He=c;}return c;}k=this.Uf;for(g=0;g < b;++g){this[k + c & d - 1]=arguments[g];k++;}this.He=c + b;return c + b;}if(0 === b)return c;this.WW(c + 1);g=this.Uf + c & this.Hf - 1;this[g]=a;this.He=c + 1;return c + 1;};b.prototype.pop=function(){var a,b,c;a=this.He;if(0 !== a){b=this.Uf + a - 1 & this.Hf - 1;c=this[b];this[b]=void 0;this.He=a - 1;return c;}};b.prototype.shift=function(){var a,b,c;a=this.He;if(0 !== a){b=this.Uf;c=this[b];this[b]=void 0;this.Uf=b + 1 & this.Hf - 1;this.He=a - 1;return c;}};b.prototype.unshift=function(a){var b,c,d,k;b=this.He;c=arguments.length;if(1 < c){d=this.Hf;if(b + c > d){for(var g=c - 1;0 <= g;g--){this.WW(b + 1);d=this.Hf;k=(this.Uf - 1 & d - 1 ^ d) - d;this[k]=arguments[g];b++;this.He=b;this.Uf=k;}return b;}k=this.Uf;for(g=c - 1;0 <= g;g--){k=(k - 1 & d - 1 ^ d) - d;this[k]=arguments[g];}this.Uf=k;this.He=b + c;return b + c;}if(0 === c)return b;this.WW(b + 1);d=this.Hf;g=(this.Uf - 1 & d - 1 ^ d) - d;this[g]=a;this.He=b + 1;this.Uf=g;return b + 1;};b.prototype.pIb=function(){var a;a=this.He;if(0 !== a)return this[this.Uf + a - 1 & this.Hf - 1];};b.prototype.get=function(a){var b;if(a === (a | 0)){b=this.He;0 > a && (a+=b);if(!(0 > a || a >= b))return this[this.Uf + a & this.Hf - 1];}};b.prototype.y1=function(){return 0 === this.He;};b.prototype.clear=function(){for(var a=this.He,b=this.Uf,c=this.Hf,d=0;d < a;++d){this[b + d & c - 1]=void 0;}this.Uf=this.He=0;};b.prototype.toString=function(){return this.Cn().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.oI=b.prototype.shift;b.prototype.toJSON=b.prototype.Cn;Object.defineProperty(b.prototype,"length",{get:function(){return this.He;},set:function(){throw new RangeError("");}});b.prototype.WW=function(b){this.Hf < b && this.efb(a(1.5 * this.Hf + 16));};b.prototype.efb=function(a){var b,c;b=this.Hf;this.Hf=a;a=this.Uf;c=this.He;if(a + c > b)for((a=a + c & b - 1,c=0);c < a;++c){this[c + b]=this[c + 0];this[c + 0]=void 0;}};c=Array.isArray;d.W=b;},function(d,b,a){var p,y,B,L;function c(a,b,c){this.AIa=this.obb(a,b,c);}function g(){}function h(){}function m(){}function f(a){this.Jkb=a;}function q(){}function l(){}function u(){}function t(){this.Aga={};}function n(a){return Array.apply(0,Array(a)).map(function(a,b){return b + 1;});}p=a(5).assert;b=a(252).Sta;y=a(419).W$a;B=a(252).P3a;new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");L=a(93).T$ || a(93);c.prototype.constructor=c;c.prototype.obb=function(a,b,c){p(a < b,"expect min_buffer_sec < max_buffer_sec but got " + a + " and " + b);p(0 < c,"expect buffer_step_sec > 0. but got " + c);for(var d=[];a < b;a+=c){d.push(a);}d[d.length - 1] < b && d.push(b);return d;};c.prototype.Xz=function(a){return this.tcb(a,this.AIa);};c.prototype.tcb=function(a,b){a=this.fqb(a,b);if(0 === a)throw new g();if(a === b.length)throw new h();return a;};c.prototype.fqb=function(a,b){p(0 < b.length,"expect bins.length > 0 but got " + b.length);if(a < b[0])return 0;if(a >= b[b.length - 1])return b.length;for(var c=1;c < b.length;c++){if(b[c - 1] <= a && a < b[c])return c;}p(!1,"expect not coming here in digitize()");};c.prototype.K0=function(){return n(this.AIa.length - 1);};g.prototype=Error();h.prototype=Error();m.prototype=Error();f.prototype.constructor=f;f.prototype.VERSION="0.5";f.prototype.M4a=-20;f.prototype.L4a=20;f.prototype.K4a=void 0;f.prototype.F4a=new b(void 0);f.prototype.H4a=0;f.prototype.G4a=1;f.prototype.O4a=!1;f.prototype.J4a=!0;f.prototype.I4a=!0;f.prototype.N4a=void 0;f.prototype.D4a=!0;f.prototype.E4a=0;f.prototype.VA=function(a){p(void 0 !== a.i0a,"expect recipe.time_varying_bandwidth !== undefined");return this.ffb(this.Jkb,a.i0a,void 0 !== a.JTa?a.JTa:this.M4a,void 0 !== a.qTa?a.qTa:this.L4a,void 0 !== a.pTa?a.pTa:this.K4a,void 0 !== a.xIa?a.xIa:this.F4a,void 0 !== a.rMa?a.rMa:this.H4a,void 0 !== a.OIa?a.OIa:this.G4a,void 0 !== a.XPb?a.XPb:this.O4a,void 0 !== a.ryb?a.ryb:this.J4a,void 0 !== a.LPa?a.LPa:this.I4a,void 0 !== a.$Wa?a.$Wa:this.N4a,void 0 !== a.xHa?a.xHa:this.D4a,void 0 !== a.iIa?a.iIa:this.E4a);};f.prototype.ffb=function(a,b,d,f,k,n,x,z,r,la,Y,Q,F,va){var E,M,D,W,R,da,U,P,ea,fa,ja,ha,ma,oa,pa,ua,sa,ta,wa,xa;function I(a){return a[da];}L.S4("dp: ");p(d <= n.Eg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");p(n.Eg <= f,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");p(d <= x,"expect min_buffer_sec <= end_buffer_sec");p(x <= f,"expect end_buffer_sec <= max_buffer_sec");void 0 !== k && p(n.Hk <= k,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + n.Hk + " and " + k);E=new c(d,f,z);z=new t();M=0;D=n;z.put([0,E.Xz(n.Eg)],[M,D,void 0,void 0,b,void 0,void 0,void 0]);W=D=0;b=a.lyb();p(a.bJ() == b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");da=-1;for(U in b){for(var da=da + 1,ka=!0,qa=a.Bj.map(I),N=E.K0(),O=0;O < N.length;O++){P=N[O];if(z.ola([da,P])){R=z.get([da,P]);for(var T=R[0],V=R[1],X=R[4],Z=0;Z < qa.length;Z++){b=qa[Z];L.update("epoch-ibuf-chunk loop");n=void 0 !== Q?Q(b.OE):b.OE;ea=X.jr();try{R=this.Vbb(V,b,ea,va);fa=R[0];ja=R[1];ha=R[2];ma=R[3];oa=R[4];pa=R[5];}catch(Xa){if(Xa instanceof y)continue;else if(Xa instanceof g){D+=1;continue;}else throw Xa;}ua=M=!1;try{sa=E.Xz(ma.Eg);la && E.Xz(fa);Y && E.Xz(ja);if(void 0 !== k)if(Y){if(ha.Hk > k)throw new m();}else if(ma.Hk > k)throw new m();}catch(Xa){if(Xa instanceof g)(sa=void 0,D+=1);else if(Xa instanceof h)(F?M=!0:W+=1,sa=void 0);else if(Xa instanceof m)(F?ua=M=!0:W+=1,sa=void 0);else throw Xa;}try{if(M && ua){p(void 0 !== k,"expect max_buffer_kb !== undefined");wa=Y?ha.Hk - k:ma.Hk - k;p(0 <= wa,"pause dlnd kb cannot be -ve but is " + wa);try{ta=ma.SIb(wa);}catch(Xa){if(Xa instanceof B)throw new g();throw Xa;}ea.HVa(ta);oa+=ta;p(ma.Eg < f,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=E.Xz(ma.Eg);}else if(M && !ua){ta=Y?ha.Eg - f + 1E-8:ma.Eg - f + 1E-8;p(0 <= ta,"pause dlnd kb cannot be -ve but is " + ta);try{ma.aWa(ta);}catch(Xa){if(Xa instanceof B)throw new g();throw Xa;}ea.HVa(ta);oa+=ta;p(d <= ma.Eg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");p(ma.Eg < f,"cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=E.Xz(ma.Eg);}else ta=0;}catch(Xa){if(Xa instanceof g)(sa=void 0,D+=1,ta=void 0);else if(Xa instanceof y)continue;else throw Xa;}M=z.ola([da + 1,sa])?z.get([da + 1,sa])[0]:-Infinity;this.Tfb(ma,sa,b,n,P,da + 1,M,z,T,Z,ea,oa,pa,ta) && (ka=!1);}}}if(ka){--da;break;}}try{xa=this.FEa(da + 1,E.Xz(x),z,r,E);}catch(Xa){if(Xa instanceof q)try{xa=this.FEa(da + 1,E.Xz(x),z,!r,E);}catch(Fe){if(Fe instanceof q){if(D > W)throw new l();throw new u();}throw Fe;}else throw Xa;}P=xa;for(d=[];-1 < da;da--){R=z.get([da + 1,P]);M=R[0];D=R[1];f=R[3];k=R[5];x=R[6];r=R[7];R=R[2];b=a.Bj[R][da];la=b.Zw();n=b.OE;d.unshift({uQa:da,pka:R,info:{E1b:la,OE:n,xea:D.Eg,wea:D.Hk,VLa:k,Ma:x,boa:r}});P=f;}return d;};f.prototype.FEa=function(a,b,c,d,f){var h,g;h=!1;g=f.K0()[0];for(f=f.K0()[f.K0().length - 1];;){if(b < g || b > f){h=!0;break;}if(c.ola([a,b]))break;else b=d?b - 1:b + 1;}if(h)throw new q();return b;};f.prototype.Tfb=function(a,b,c,d,f,h,g,k,l,m,q,t,u,n){c=l + d * c.un;return void 0 !== b && c > g?(k.put([h,b],[c,a,m,f,q,t,u,n]),!0):!1;};f.prototype.Vbb=function(a,b,c,d){var f,h,k;d=(b.Zw() + d) * b.un;c=c.Iqb(d);d/=c;f=a.Eg - c;h=a.Eg + b.un;k=a.jr();k.add(b,void 0);a=a.jr();a.add(b,void 0);try{a.aWa(c);}catch(U){if(U instanceof B)throw new g();throw U;}return [f,h,k,a,c,d];};q.prototype=Error();l.prototype=new q();u.prototype=new q();t.prototype={Tra:function(a){return a.join(",");},put:function(a,b){this.Aga[this.Tra(a)]=b;},get:function(a){return this.Aga[this.Tra(a)];},ola:function(a){return (this.Tra(a) in this.Aga);}};d.W={H5a:f,$Vb:c,zVb:g,AVb:h};},function(d,b,a){var m,f,q;function c(a,b,c){var d,f;a=Math.max(0,a);d=[];c.forEach(function(a){d.push(a[b].$);});c=d.filter(function(b){return b <= a;});if(0 < c.length)(c=c[c.length - 1],f=d.lastIndexOf(c));else throw Error("selectStream infeasible");return {uq:c,fd:f};}function g(a,b,c){b=Math.min(a.length - 1,b);b=Math.max(0,b);return a[b] * c * 1 / 8;}function h(a,b,c,d,f){var h,g,k,l,m,t;h=a.Dg;g=c + h.T;c=a.Gn[h.jJ];a=a.sea;k={N1a:!0,waitUntil:void 0,YQa:!1};l=c.filter(function(a){return a && a.T <= g && a.T + a.duration > g;})[0];if(void 0 === l)return {YQa:!0};m=f - 1 - (l.index - 1);d=h.bv + d;t=0;t=l.index < h.Ah?t + c.slice(h.Ru,l.index).reduce(function(a,b){return a + b.$;},0):t + h.bv;t=t + b.slice(h.Ah,l.index).reduce(function(a,b){return a + b.uq;},0);d-=t;if(m >= a.iTa || d >= a.X5)for((k.N1a=!1,l=l.index);l < f && (m >= a.iTa || d >= a.X5);){q.update("checkBufferVacancy loop");k.waitUntil=c[l].T + c[l].duration - h.T;d=l < h.Ah?d - c[l].$:d - b[l].uq;--m;l+=1;}return k;}m=a(5).assert;f=new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");q=a(93).T$ || a(93);d.W={RD:function(a){var b,r,W,R,M,D,U,ka,la,Y,Q,F,va,ga;q.S4("htwbr-" + (a.SK?"segvmaf":"dlvmaf") + ": ");for(var d=a.Dg,k=a.Ao,l=k.zo,n=a.Gn,p=!0,L=[],I,E=l=Math.min(k.wx,l);E >= d.Ah;E--){q.update("backward step");b=a.Gn[0][E].T - a.Dg.T;E < l && (b=Math.min(L[E + 1].startTime,b));k=n[0][E].$;I=d.VC * n[0][E].duration * 1 / 8;a:{r=void 0;D=k + I;I=a.Bq;U=d.$r;ka=I.trace;la=1 * I.Fp;W=b + U - I.timestamp;R=Math.floor(1 * W / la);M=0 + (W - R * la) / la * g(ka,R,la);if(M >= D)r=W - 1 * D / M * (W - R * la);else for(W=R;M < D;){q.update("findDownloadStartTime loop");--W;if(0 > W){r=-1;break a;}R=g(ka,W,la);if(M + R >= D){r=1 * (D - M) / R * la;r=(W + 1) * la - r;break;}M+=R;}r=r + I.timestamp - U;}if(0 > r){p=!1;break;}L[E]={startTime:r,endTime:b,jI:b,uq:k,fd:0};}b={No:p,tl:L,fA:!1,VR:0 === L.length};if(!1 === b.No || !0 === b.VR)return b;a:{d=a.Dg;l=a.Ao;n=l.zo;p=a.Gn;k=L=0;b=b.tl;r=E=0;n=Math.min(l.wx,n);for(U=d.Ah;U <= n;U++){q.update("forwardStep loop");M=b[U];D=M.fd;I=p[D][U].duration;la=U === d.Ah?0:b[U - 1].endTime;D=h(a,b,la,L,U);if(D.YQa){b={No:!1,fA:!0};break a;}D.N1a || (la=D.waitUntil);R=M.jI;Q=a.Bq;Y=d.$r;M=0;D=Q.trace;ka=1 * Q.Fp;W=la + Y - Q.timestamp;Q=R + Y - Q.timestamp;if(!(la >= R)){m(0 <= W);m(0 <= Q);m(Q >= W);F=Math.floor(1 * W / ka);va=1 * Q / ka;if(F === Math.floor(va))(W=(Q - W) / ka * g(D,F,ka),m(0 <= W),M+=W);else for((va=Math.ceil(va),Y=F,R=va,F * ka < W && (Y++,W=(Y * ka - W) / ka * g(D,F,ka),m(0 <= W),M+=W),va * ka > Q && (R--,W=(Q - R * ka) / ka * g(D,R,ka),m(0 <= W),M+=W),W=Y);W < R;W++){M+=g(D,W,ka);}}ka=d.VC * I * 1 / 8;k+=ka;D=c(Math.max(0,M - ka),U,p);if(void 0 === D){b={No:!1,fA:!0};break a;}M=D.uq;D=D.fd;ka=M + ka;Y=a.Bq;R=W=0;Q=Y.trace;F=Math.max(0,la + d.$r - Y.timestamp);Y=1 * Y.Fp;ga=va=Math.max(0,Math.floor(1 * F / Y));for(ga * Y < F && (va+=1,F=ga * Y + Y - F,ga=F / Y * g(Q,ga,Y),W=ka - R < ga?W + (ka - R) / ga * 1 * F:W + F,R+=ga);R < ka;){q.update("getDownloadTime");F=g(Q,va,Y);W=ka - R < F?W + (ka - R) / F * 1 * Y:W + Y;R+=F;va+=1;}ka=W;b[U].startTime=la;b[U].endTime=la + ka;b[U].uq=M;b[U].fd=D;U <= l.zo && (L+=M,r+=I,E+=I * a.gd[D].S);}b={No:!0,fA:!1,tl:b,sqb:0 < r?1 * E / r:0,Hga:r,Gga:L,Ega:k};}b.Sr=q.Sia();f.debug("Max heap used: " + Math.round(b.Sr / 1024 / 1024) + " MB");return b;}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.rta=void 0;c=a(17);d=(function(){function a(a){this.config=a;}a.prototype.Zk=function(a,b){return this.config.m5 || b !== c.Kc.Qn?a.filter(function(a){return a.du;}):a;};return a;})();b.rta=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.GW=void 0;c=a(25);g=a(3);h=a(416);d=(function(){function a(a){this.console=a;this.fLa=[];this.BIa={};this.uLa=!1;}a.prototype.yq=function(a,b){this.fLa=a;void 0 !== b?this.BIa[b]=a:this.uLa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.uLa=!0);};a.prototype.Zk=function(a){var b,d,f,k,m;b=this;if(0 === a.length)return a;k=a[0].la;if(void 0 === k)return (this.console.error("StreamFilters: Stream has undefined viewable id"),a);try{null === (d=g.kr) || void 0 === d?void 0:d.call(g,k);}catch(z){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + z),a);}m=null !== (f=this.BIa[k]) && void 0 !== f?f:this.fLa;c.sa && this.console.trace("VideoBitrateRangesFilter: filtering " + a.length + " streams with " + JSON.stringify(m));a=a.filter(function(a){return h.Lda(a.profile,a.S,m,b.console).inRange;});c.sa && this.console.trace("VideoBitrateRangesFilter: ... " + a.length + " streams in range");return a;};return a;})();b.GW=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tta=void 0;d=(function(){function a(a){var b;b=this;a.rL && a.rL.enabled && a.rL.profiles && a.rL.profiles.length && "keepLowest" === a.rL.action && (this.MRa={},a.rL.profiles.forEach(function(a){return b.MRa[a]=!0;}));}a.prototype.Zk=function(a){var b,c;b={};c=this.MRa;return void 0 === c?a:a.filter(function(a){return !c[a.profile] || (b[a.profile]?!1:b[a.profile]=!0);});};return a;})();b.tta=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pta=void 0;d=(function(){function a(a){this.config=a;}a.prototype.Zk=function(a){var b;b=this.config;return a.filter(function(a){return !(void 0 !== a.ib && (a.ib < b.pE || a.ib > b.XSa) || (void 0 === a.ib || 0 >= b.pE) && a.S < b.Tma || (void 0 === a.ib || Infinity === b.XSa) && a.S > b.ODb);});};return a;})();b.pta=d;},function(d,b,a){var g;function c(a,b){b=Math.max(a,b);return isNaN(b)?a || -Infinity:b;}Object.defineProperty(b,"__esModule",{value:!0});b.dta=void 0;g=a(17);d=(function(){function a(a){this.config=a;this.CS=0;this.state=g.Kc.Nk;this.NTa=c(a.Tma,a.D2);this.Yma=c(a.pE,a.DR);}a.prototype.Zk=function(a,b){var c;c=this;if(b !== this.state){this.state=b;if(b === g.Kc.qd || b === g.Kc.bN)return a;b === g.Kc.ff && this.qXa();}return a.filter(function(a){return !(void 0 !== a.ib && a.ib < c.Yma || (void 0 === a.ib || 0 > c.Yma) && a.S < c.NTa);});};a.prototype.qXa=function(){++this.CS;this.Yma=c(this.config.pE,this.config.DR - this.config.SEb * this.CS);this.NTa=this.config.Tma || -Infinity;};return a;})();b.dta=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ota=void 0;c=a(37);d=(function(){function a(a){this.config=a;}a.prototype.tPb=function(a){return a % 100 + 1 <= this.config.eoa;};a.prototype.Zk=function(a){var b,d,g,h,k,t,n,p,y,B,L;n=Number(null === (b=a[0]) || void 0 === b?void 0:b.u);if(!(this.config.l_ && this.tPb(n) && 0 < this.config.r4.length))return a;b=a.length;p=null !== (d=a[b - 1].q4) && void 0 !== d?d:0;if(d=c.kh(this.config.r4,function(a){return a.Q5b >= p && a.nYa <= p;})){for(n=0;n < b;n++){y=a[Math.max(n - 1,0)];B=a[n];if(!((null !== (g=B.q4) && void 0 !== g?g:0) < d.nYa || (null !== (h=y.q4) && void 0 !== h?h:0) < d.nYa)){L=null !== (k=B.ib) && void 0 !== k?k:Infinity;y=null !== (t=y.ib) && void 0 !== t?t:Infinity;if(!(y < d.V4b || y < d.U4b && B.S < d.fm || !L && B.S < d.w4b))break;}}return a.slice(0,n);}return a;};return a;})();b.ota=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.W8=b.x6=void 0;c=a(37);b.x6={Zk:function(a){return a.filter(function(a){return a.lu && !a.bA;});}};b.W8={Zk:function(a){return (a=c.kh(a,function(a){return ! !a.lu && !a.bA;}))?[a]:[];}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.eC=void 0;c=a(422);d=(function(){function a(a,b){void 0 === b && (b=!1);this.Xjb=b;this.filters=[];Array.isArray(a)?a.forEach(this.and.bind(this)):this.and(a);}a.prototype.and=function(a){a !== c.UB && this.filters.push({filter:a,gKa:!0});return this;};a.prototype.Hx=function(a){this.filters.push({filter:a,gKa:!1});return this;};a.prototype.Zk=function(a,b){return this.filters.reduce(function(c,d){d.gKa?c=d.filter.Zk(c,b):0 === c.length && (c=d.filter.Zk(a,b));return c;},a);};return a;})();b.eC=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X8=void 0;b.X8={Zk:function(a){return [a[0]];}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.nD=b.mD=void 0;c=a(108);b.mD=function(a,b){b && (null === a || void 0 === a?0:a.wQa) && (b=new c.eC(b).Hx(c.UB));return new c.eC(c.x6).and(null !== b && void 0 !== b?b:c.UB).Hx(c.W8).Hx(c.X8);};b.nD=function(a,b){b && a.wQa && (b=new c.eC(b).Hx(c.UB));return new c.eC(c.x6).and(new c.rta(a)).and(new c.pta(a)).and(new c.dta(a)).and(new c.tta(a)).and(a.l_?new c.ota(a):c.UB).and(null !== b && void 0 !== b?b:c.UB).Hx(c.W8).Hx(c.X8);};},function(d,b,a){var c,g,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.$Ba=void 0;c=a(8);g=a(17);h=a(17);m=a(3);f=a(423);q=a(415);d=(function(){var j80;j80=2;for(;j80 !== 13;){switch(j80){case 2:a.prototype.qs=function(a,b){var l80,k,l,m,d,f,t,u;l80=2;for(;l80 !== 50;){switch(l80){case 23:l80=a > l?22:31;break;case 26:l=this.La.Aa.bc.bQ(k.qa || Infinity,k.O);l80=25;break;case 54:h.We.forEach(function(a){var o80,b;o80=2;for(;o80 !== 5;){switch(o80){case 2:b=u.bd(a);d.mb(a) && d.Eeb(b,t[a]);o80=5;break;}}});l80=53;break;case 27:return;break;case 35:var w9Z="se";w9Z+="ekD";w9Z+="elayed";this.Zy={eb:k.O.eb + 1,Mh:a};this.La.emit(w9Z);l80=33;break;case 52:var J9Z="see";J9Z+="k";J9Z+="Delay";J9Z+="e";J9Z+="d";(this.Zy={eb:b,Mh:a},this.La.emit(J9Z));l80=50;break;case 15:l80=this.Rt(q.J6.fia(b),!1,!0)?27:26;break;case 5:var M9Z=" pl";M9Z+="aye";M9Z+="rState:";M9Z+=" ";var H9Z=" m";H9Z+="ed";H9Z+="i";H9Z+="a.cur";H9Z+="rentPts: ";var b9Z=" current m";b9Z+="anifest";b9Z+=": ";var i9Z=" mani";i9Z+="festIn";i9Z+="dex: ";var g9Z="se";g9Z+="ek";g9Z+=":";g9Z+=" ";(k=this.La.H,l=this.La.R.Ud());f=a;k.oh && this.fh.il(g9Z + a + i9Z + b + b9Z + this.La.Rd.O.eb + H9Z + l + M9Z + this.La.R.cd());c.X(b) && (b=this.La.Rd.O.eb);this.La.Aa.kYa();l80=7;break;case 22:l80=k.O.Me.Mf?21:32;break;case 53:this.La.mO();l80=43;break;case 21:l80=!this.La.qY(k.O.eb + 1)?35:31;break;case 32:(a=l,f=a + this.La.Aa.fe);l80=31;break;case 51:var a9Z="se";a9Z+="ekF";a9Z+="a";a9Z+="il";a9Z+="ed";var Z9Z="seek, no mani";Z9Z+="fest ";Z9Z+="at manifestIndex:";(this.G.warn(Z9Z,b),this.La.emit(a9Z));l80=50;break;case 44:h.We.forEach(function(a){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:d.La.At[a].sq(!0);n80=1;break;}}});l80=43;break;case 12:l80=b != l.O.eb?11:26;break;case 19:l80=!this.La.gEa(b)?18:15;break;case 28:l80=(l=this.La.Rd.O.eb === b && !this.Mcb(b) && a === k.T)?44:39;break;case 31:this.La.R.ne(g.na.bh);this.La.cra();this.La.Aa.pRb(a,b);l80=28;break;case 11:b < l.O.eb && k.O.Me.replace && (k.O.Me.replace=!1);m=this.La.Aa.bc;h.We.forEach(function(a){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:(a=m.bd(a)) && d.La.oGa(a);m80=1;break;}}});l80=19;break;case 43:l80=this.La.R.xRa()?42:41;break;case 2:d=this;null === (f=this.jFa) || void 0 === f?void 0:f.cancel();l80=5;break;case 39:this.La.Gca();t=this.La.Aa.bc.eZ(a).wK;k.mna();u=this.La.Aa.bc;l80=54;break;case 16:return;break;case 18:var I9Z="seek";I9Z+="Delaye";I9Z+="d";this.Zy={eb:b,Mh:a};this.La.emit(I9Z);l80=16;break;case 33:return;break;case 42:var C9Z="se";C9Z+="e";C9Z+="k";var X9Z="ptschan";X9Z+="g";X9Z+="ed";return (this.La.emit(X9Z,f),this.La.emit(C9Z),this.AO(b),a=l && this.La.ab.Gv()?100:0,this.La.cY(1,a),this.La.Pi(),f);break;case 41:var P9Z="s";P9Z+="e";P9Z+="e";P9Z+="kFai";P9Z+="led";var V9Z="after se";V9Z+="eking,";V9Z+=" playerState no longer STAR";V9Z+="TIN";V9Z+="G: ";this.G.warn(V9Z + this.La.R.cd());this.La.emit(P9Z);l80=50;break;case 25:l80=l.length?24:52;break;case 24:l=this.La.Ep?this.La.zl?Math.min(l[0].T,l[1].T):l[0].T:l[1].T;l80=23;break;case 6:!k.O.Me.wR && 0 < b && (f=this.La.sP(b,a));this.La.R.ne(g.na.Nk);l=this.La.Rd;l80=12;break;case 7:l80=(k=this.La.sg(b))?6:51;break;}}};a.prototype.seek=function(a,b){var p80,d;p80=2;for(;p80 !== 9;){switch(p80){case 3:return this.qs(d,b);break;case 2:d=a;c.X(b) && (b=this.La.Rd.O.eb);this.La.Aa.kYa();this.La.sg(b).O.Me.wR || this.La.hH || (d=this.La.Wt(b,a));p80=3;break;}}};a.prototype.Rt=function(a,b,c){var q80,d,f;q80=2;for(;q80 !== 9;){switch(q80){case 2:f=this.La.Aa.Rt(a,b);q80=1;break;case 5:return f;break;case 1:q80=b?5:4;break;case 4:var l9Z="s";l9Z+="e";l9Z+="ek";var k9Z="pt";k9Z+="sch";k9Z+="a";k9Z+="nged";f?(this.La.R.ne(g.na.Nk),(a=this.La.Aa.ej.children[a]) && this.La.emit(k9Z,null !== (d=a.dd) && void 0 !== d?d:a.OQa),this.La.R.ne(g.na.bh),this.La.emit(l9Z),a && this.AO(a.O.eb),this.La.cY(1),this.La.Pi(),this.La.ab.Gv()):c || (d=this.La.Aa.txb(a),this.qs(d));return f;break;}}};a.prototype.Mcb=function(a){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:return ! !this.La.sg(a).KO;break;}}};a.prototype.AO=function(a){var s80,b;s80=2;for(;s80 !== 4;){switch(s80){case 2:b=this;a=this.La.sg(a);a.KO || (a.KO=!0,h.We.forEach(function(a){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:b.La.Gf[a].resume();t80=1;break;}}}),this.La.mO());s80=4;break;}}};a.prototype.Eeb=function(a,b){var u80,c,d,f;u80=2;for(;u80 !== 8;){switch(u80){case 4:u80=(null === (d=this.La.dh) || void 0 === d?0:d.TD())?3:9;break;case 2:(c=this,f=a.I);u80=1;break;case 1:a.dF(b);a.DMb();u80=4;break;case 3:(this.La.dh.TA.forEach(function(a){var v80;v80=2;for(;v80 !== 1;){switch(v80){case 2:c.La.LC(a,!1);v80=1;break;}}}),this.La.dh=void 0);u80=9;break;case 9:this.La.KP.dGa(f,a.yc.O);u80=8;break;}}};a.prototype.Kba=function(){var w80,a,b;w80=2;for(;w80 !== 4;){switch(w80){case 2:w80=this.Zy?1:4;break;case 1:(a=this.Zy.Mh,b=this.Zy.eb);this.La.sg(b) && (this.Zy=void 0,this.qs(a,b));w80=4;break;}}};j80=7;break;case 7:a.prototype.sl=function(a){var x80,c,d,k;x80=2;function b(d,f){var y80;y80=2;for(;y80 !== 4;){switch(y80){case 1:y80=(d=d.bd(f))?5:4;break;case 8:y80=(d=d.bd(f))?8:6;break;y80=(d=d.bd(f))?5:4;break;case 2:var E9Z="skip: unexpected behaviour - a non-";E9Z+="presenting branch doesn't have a pre";E9Z+="vious branch";d !== c.La.Aa.ej && (d.xf?b(d.xf,f):c.G.error(E9Z));y80=1;break;case 5:(d.sl(a),k.CK && (d.Ln=!1));y80=4;break;}}}for(;x80 !== 6;){switch(x80){case 2:c=this;null === (d=this.jFa) || void 0 === d?void 0:d.cancel();k=this.La.H;this.La.cra();this.La.Aa.ej.sl(a);h.We.forEach(function(a){var z80,d;z80=2;for(;z80 !== 9;){switch(z80){case 2:z80=c.mb(a)?1:9;break;case 7:z80=c.mb(a)?2:6;break;z80=c.mb(a)?1:9;break;case 1:var f9Z="skip:";f9Z+=" not resu";f9Z+="m";f9Z+="ing bufferManager, audio track switch in progress";d=c.La.ab.Te[a];c.La.Sp && (d.Vqa=m.time.da());k.CK?c.La.Gf[a].reset():d.PL?d.kb(f9Z):c.La.Gf[a].resume();b(c.La.Aa.bc,a);z80=9;break;}}});this.jFa=d=new f.Aaa(this.La.iF());x80=7;break;case 7:return d.Hna(function(){var A80;A80=2;for(;A80 !== 5;){switch(A80){case 2:c.La.R.ne(g.na.Wc);c.La.uO();A80=5;break;}}}).rYa;break;}}};a.prototype.Si=function(a){var B80,b,c,d;B80=2;for(;B80 !== 7;){switch(B80){case 2:c=this.La.Aa.ej;d=0 < Object.keys(c.ca && c.ca.gk || ({})).length && !c.Dj?c.le - this.La.H.xA:c.le;B80=5;break;case 5:B80=a < (null !== (b=c.dd) && void 0 !== b?b:c.OQa) || a >= d?4:3;break;case 4:return !1;break;case 3:b=this.La.wr(a,0,!0);a=this.La.wr(a,1,!0);return void 0 !== b && void 0 !== a && b.complete && a.complete;break;}}};return a;break;}}function a(a,b,c,d){var k80;k80=2;for(;k80 !== 9;){switch(k80){case 2:var B9Z="1";B9Z+="S";B9Z+="IYb";B9Z+="Zr";B9Z+="NJCp9";this.La=a;this.G=b;this.mb=c;this.fh=d;B9Z;k80=9;break;}}}})();b.$Ba=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.ova=void 0;c=a(8);g=a(17);h=a(3);d=(function(){var C80;C80=2;function a(a,b,c){var D80;D80=2;for(;D80 !== 9;){switch(D80){case 2:var N9Z="1";N9Z+="SIYbZrN";N9Z+="JCp9";this.Ha=a;this.G=b;this.mb=c;N9Z;this.YDa=this.jC=void 0;D80=9;break;}}}for(;C80 !== 18;){switch(C80){case 2:a.prototype.XW=function(){var E80;E80=2;for(;E80 !== 1;){switch(E80){case 2:this.jC && (clearTimeout(this.jC),this.jC=void 0);E80=1;break;}}};a.prototype.vEa=function(){var F80,a,b,c,d;F80=2;for(;F80 !== 6;){switch(F80){case 2:F80=!this.Ha.pk.Rca && !this.Ha.Ll()?1:6;break;case 1:var O9Z="firstDr";O9Z+="iveSt";O9Z+="r";O9Z+="eami";O9Z+="ng";void 0 === this.Ha.Gbb && (this.Ha.Gbb=!0,this.Ha.Ya.vj(O9Z));(a=this.Ha.Aa,b=a.bc.bd(0),c=a.bc.bd(1),d=!c || c.Xg);(!b || b.Xg) && d && this.Ha.hH && a.elb(c?c.Vb:b.Vb);c=!c || c.Ln;b && !b.Ln || !c || this.Ha.hH || (this.Ha.Kb.af && this.Ha.Kb.af.HO(!0,this.Ha.Kl.sessionId),this.Ha.Ya.DUa());F80=8;break;case 8:this.sEa(a.bc);this.Jfb();F80=6;break;}}};a.prototype.xGa=function(){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:return this.Ha.Ll() || this.Ha.R.yRa() || this.Ha.R.Rg()?!0:!1;break;}}};C80=4;break;case 4:a.prototype.$W=function(a){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return this.xGa() || this.Ha.ab.Te[a.I].PL || this.Ha.Ky.QC?!1:!0;break;}}};a.prototype.Pi=function(){var I80,a,b;I80=2;for(;I80 !== 5;){switch(I80){case 2:(a=this,b=this.Ha.H);!this.Ha.NFa || this.Ha.WX || this.Ha.iY || (this.Ha.WX=setTimeout(function(){var J80;J80=2;for(;J80 !== 4;){switch(J80){case 2:clearTimeout(a.Ha.WX);a.Ha.WX=void 0;a.vEa();J80=4;break;}}},b.joa),b.zI && this.Ha.zl && (this.jC || (this.jC=setTimeout(function(){var K80,b;K80=2;for(;K80 !== 3;){switch(K80){case 2:clearTimeout(a.jC);a.jC=void 0;b=a.Ha.Aa.bc.bd(1);b && a.JDa(b);K80=3;break;}}},b.ngb))));I80=5;break;}}};a.prototype.JDa=function(a,b){var L80,c,d,f,g;L80=2;for(;L80 !== 3;){switch(L80){case 2:(c=a.I,d=this.Ha.ab.uu[c].eE,f=a.eg.aR);L80=1;break;case 5:g=this.Ha.ab.Te[c].Sg;g && (this.Ha.R.Qg() || this.Ha.Ef.mgb(c,g,d.S,f.S,a.fzb.S,b));L80=3;break;case 1:L80=d && f?5:3;break;}}};a.prototype.sEa=function(a,b){var M80,c,d,f,g,h;M80=2;for(;M80 !== 7;){switch(M80){case 2:(c=a.ca,d=a.bd(1),f=a.bd(0),g=!f || f.Xg,h=!d || d.Xg);c.bK || this.Ha.Aa.nna(a,c,a.O.Me.Mf && 0 === a.O.eb);M80=5;break;case 5:M80=!h || !g?4:9;break;case 4:M80=(this.Ha.zl && this.tEa(a,d,f),this.Ha.Ep && this.tEa(a,f,d),g=!f || f.Xg,h=!d || d.Xg,!h || !g)?3:9;break;case 9:var F9Z="Still in";F9Z+=" buffering s";F9Z+="tate while pipeline's ";F9Z+="are done";this.Ha.R.Qg() && (this.G.warn(F9Z),this.Ha.ab.Gv());b || c.ys || a.O.Me.Mf || !this.tkb(a) || ((b=this.Ha.R.Qg()) && this.Ha.H.jga && (this.Ha.Nca(),b=!1),a.Q_ || this.Ha.Aa.jzb(a,b),a.NH(),a.ukb() && (b=Object.keys(a.children),this.Ha.H.f_ && 1 === b.length && !a.children[b[0]].active && this.Ha.Aa.KSa(a,b[0]),this.Kbb(a,c)));M80=7;break;case 3:return;break;}}};C80=7;break;case 7:a.prototype.Kbb=function(a,b){var N80,k,m,q,n,p,d,f,g;N80=2;for(;N80 !== 25;){switch(N80){case 5:k=a.LG.qm;N80=4;break;case 15:d.Dd || (d.Dd={o1:h.time.da(),RA:0});d.Dd.weight=f;this.sEa(d,!0);N80=25;break;case 4:Math.min(k[0] - a.sba[0],k[1] - a.sba[1]) >= g.Hkb?a.LG=void 0:(d=a.LG,f=b.gk[d.ca.id].weight);N80=3;break;case 3:N80=!d?9:15;break;case 10:var S9Z="No subbran";S9Z+="ch c";S9Z+="a";S9Z+="nd";S9Z+="idates to drive";this.G.warn(S9Z);N80=20;break;case 16:a.sba=d.qm;N80=15;break;case 9:(m=[],q=[]);c.he(a.children,function(a,c){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:c=b.gk[c].weight;0 !== c && (c={weight:c,yc:a},a.Vea(!0,!0) || q.push(c),m.push(c));O80=5;break;}}});0 === q.length?q=m:2 < q.length && (q.sort(function(a,b){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 2:return b.weight - a.weight;break;}}}),q.length=2);N80=6;break;case 19:d=q[0].yc;f=q[0].weight;a.LG=d;N80=16;break;case 14:d=q.reduce(function(a,b){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 2:b.qm=b.yc.qm;b.ETa=Math.min(b.qm[0],b.qm[1]);return [a[0] + b.weight,a[1] + b.ETa];break;}}},[0,0]);(n=d[0],p=d[1]);N80=12;break;case 2:g=this.Ha.H;N80=1;break;case 12:0 !== n && 0 !== p?(c.he(q,function(a){var R80;R80=2;for(;R80 !== 4;){switch(R80){case 2:a.UUb=a.weight / n;a.ljb=a.ETa / p;a.w1a=a.ljb - a.UUb;R80=4;break;}}}),q.sort(function(a,b){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 4:return a.w1a / b.w1a;break;S80=1;break;case 2:return a.w1a - b.w1a;break;}}})):q.sort(function(a,b){var T80;T80=2;for(;T80 !== 4;){switch(T80){case 2:a=Math.min.apply(null,a.yc.qm);b=Math.min.apply(null,b.yc.qm);a000.w8e(3);return a000.G8e(b,a);break;}}});N80=11;break;case 20:return;break;case 1:N80=this.Ha.Kb.nka && a.LG && a.sba?5:3;break;case 11:N80=0 === q.length?10:19;break;case 6:N80=1 < q.length?14:11;break;}}};a.prototype.tEa=function(a,b,d){var U80,f,g,q,k,l,m;U80=2;for(;U80 !== 8;){switch(U80){case 1:U80=!b.Xg?5:8;break;case 2:(f=this.Ha.H,g=b.I);U80=1;break;case 4:U80=k.Sg && (void 0 === b.EE || (b.dF(b.EE,b.rIb),void 0 === b.EE))?3:8;break;case 3:var n9Z="Still";n9Z+=" in buffering state while pipeline does";n9Z+=" not have vacancy";var v9Z="drivePipeli";v9Z+="ne, delaying audio until video a";v9Z+="ctualSta";v9Z+="rtPts determined";q=this.Ha.Rd;c.X(q.wE) || (f.ns && 0 === g && c.X(this.Ha.ab.Te[1].Pm)?b.kb(v9Z):(c.X(b.uk) && (b.uk=b.$f?b.$f.index:b.Fha(b.Yb)),b.wg && b.uk > b.wg.index?a.O.Me.Mf && c.X(q.qa) && c.X(a.Vb) || (b.Xg || this.Ha.oGa(b),a=this.Ha.Rd.O.eb,a < this.Ha.TI() - 1 && this.Ha.qY(a + 1)):this.$W(b) && (f.Arb && !this.Ha.R.Qg() && 0 >= b.mE?b.jTb(f.vEb):this.jbb(b,d)?(b.bCb=h.time.da(),d=this.Ha.ab.uja(b),f=d.Rf,c.X(f) || (f=b.track.gd[f],this.ibb(b,f) || ((g=f.t0())?(b.UBb=f.S,b.vDb(f,g,this.Ha.R.Qg(),k.Sg,d.Sna),this.xTb(f,m,l),a.Dd && ++a.Dd.RA):f.zF()))):this.Ha.R.Qg() && (b.Xj(n9Z),this.Ha.ab.Gv()))));U80=8;break;case 5:(k=this.Ha.ab.Te[g],l=this.Ha.ab.$x[g],m=this.Ha.ab.uu[g]);U80=4;break;}}};a.prototype.xTb=function(a,b,d){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:b.W1=a.Ic;c.pa(d.Vp) || (d.uTb(a.vq,a.ex || -1,a.S,a.US),c.X(a.US) || this.Ha.Ef.tZa(a.US,a.$k,a.al));V80=5;break;case 5:a.url && (b.Fla=a.url);V80=4;break;}}};a.prototype.ibb=function(a,b){var W80,c;W80=2;for(;W80 !== 5;){switch(W80){case 2:c=this.Ha.ab.uu[a.I];return this.Ha.NFa && b.Ic && c.W1 && b.Ic !== c.W1 && (0 < a.Ra.Jx || 0 < a.Ra.av)?!0:!1;break;}}};C80=12;break;case 12:a.prototype.jbb=function(a,b){var X80,E,d,f,k,m,q,n,p,L,I;X80=2;for(;X80 !== 32;){switch(X80){case 35:X80=(q=1,a.yea < f.zx && (q=f.zx),a.Ra.Jx >= q)?34:33;break;case 3:return !1;break;case 33:return f.k_ && a.Ra.Jx >= f.xma || 0 < f.So && !m && n + (b?E:0) > f.So || void 0 !== this.YDa && p > this.YDa || 1 === k && d.Me.Mf && p > f.uma && (b=this.Ha.Kb.qb.get(),b.Hd && b.Ma && b.Ma.Ga * a.YH > f.tma)?!1:!0;break;case 23:X80=!c.X(f.ru) && L >= f.ru || a.YH + q >= Math.max(f.yx,this.Ha.Kb.$A + f.yna * m.O.VDb[k])?22:21;break;case 22:return !1;break;case 27:return !1;break;case 25:return !1;break;case 15:X80=void 0 === L || L < f.RDb?27:26;break;case 24:L=this.Ha.Aa.kSb();X80=23;break;case 4:X80=(null === (d=a.Cg) || void 0 === d?0:d.Pyb())?3:9;break;case 18:return !1;break;case 34:return !1;break;case 11:n=this.Ha.Aa.dD(m,k);E=0;X80=20;break;case 26:X80=this.rcb(k) >= f.LJ?25:24;break;case 6:d=this.Ha.Rd.O;E=this.Ha.R.hx(d);X80=13;break;case 12:return !1;break;case 21:X80=(m=this.Ha.R.Qg())?35:33;break;case 8:X80=q >= f.rA?7:6;break;case 19:X80=this.Ha.Kb.jla?18:17;break;case 20:X80=b && (E=this.Ha.Aa.dD(m,b.I),I=a.Yb - I,this.mb(b.I) && !b.Xg && I >= f.Bma && L > f.aj)?19:26;break;case 9:q=a.Ra.Yna;X80=8;break;case 13:X80=n === g.na.Wc && p > f.SDb && !d.Me.Mf && !E && !d.u2 || p && q > Math.max(p * f.yma / 100,f.Wma)?12:11;break;case 7:return !1;break;case 17:L=void 0;b && (L=b.I,I=h.$l()[L],L=f.QTb?this.Ha.Aa.MSa(m,L).xi / I:E / I);X80=15;break;case 2:var c9Z="f";c9Z+="loor";c9Z+="ed to 0";var R9Z="nega";R9Z+="tive scheduledB";R9Z+="ufferLe";R9Z+="vel:";(f=this.Ha.H,k=a.I,m=a.b2,q=this.Ha.R.Ud(),n=this.Ha.R.cd(),p=this.Ha.Aa.Qt(m,k),L=a.Yb + m.fe - q);0 > L && (a.kb(R9Z,L,c9Z),L=0);I=b?b.Yb:0;X80=4;break;}}};a.prototype.rcb=function(a){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 2:return this.Ha.Aa.Lb.reduce(function(b,c){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 4:return b % c.kxb(a);break;Z80=1;break;case 2:return b + c.kxb(a);break;}}},0);break;}}};a.prototype.tkb=function(a){var a90,b,d,f;a90=2;for(;a90 !== 4;){switch(a90){case 2:(b=this,d=this.Ha.Aa,f=!0);c.he(a.ca.gk,function(c,g){var b90,h;b90=2;for(;b90 !== 7;){switch(b90){case 8:var d5Z="i";d5Z+="n d";d5Z+="e";d5Z+="sts";d5Z+=":";var e9Z="in";e9Z+="vali";e9Z+="d segment:";a.kb(e9Z,g,d5Z,a.ca.gk);b90=7;break;case 2:b90=(c=d.Nf(g))?1:8;break;case 1:g=c.O;c=g.ug[0];h=g.ug[1];c && h && c.stream.je && h.stream.je || (f=!1);b.Ha.R.hx(g) || (f=!1);b90=7;break;}}});a90=5;break;case 5:return f;break;}}};a.prototype.Jfb=function(){var c90,a,b,c;c90=2;for(;c90 !== 5;){switch(c90){case 2:(a=this.Ha.H,b=this.Ha.Aa,c=b.bc);this.Ha.R.Qg() || b.Qt(c,1) < a.ER || c.O.Sra();c90=5;break;}}};return a;break;}}})();b.ova=d;},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Nxa=void 0;c=a(167);g=a(17);h=a(17);m=a(10);d=(function(){var d90;d90=2;for(;d90 !== 6;){switch(d90){case 2:a.prototype.play=function(){var f90,a;f90=2;for(;f90 !== 5;){switch(f90){case 2:a=this;f90=1;break;case 1:var A5Z="pl";A5Z+="a";A5Z+="y";var r5Z="play c";r5Z+="alled afte";r5Z+="r pipelines already shutd";r5Z+="own";this.Ll()?this.G.warn(r5Z):(this.Cb.R.ne(g.na.Wc),this.Cb.rfb(),this.Cb.ab.Te.forEach(function(b){var g90;g90=2;for(;g90 !== 1;){switch(g90){case 2:var h5Z="play: not ";h5Z+="resuming ";h5Z+="bufferManager, a";h5Z+="udio track swi";h5Z+="tch in progress";a.mb(b.I) && (b.PL?b.kb(h5Z):(a.Cb.Gf[b.I].resume(),a.Cb.At[b.I].resume()));g90=1;break;}}}),this.Cb.uO(),this.Cb.emit(A5Z));f90=5;break;case 3:a=this;f90=4;break;f90=1;break;}}};a.prototype.stop=function(){var h90,d,a,b,c;h90=2;for(;h90 !== 6;){switch(h90){case 3:d=this.Cb.Aa.bc;h90=9;break;case 9:h.We.forEach(function(a){var i90;i90=2;for(;i90 !== 5;){switch(i90){case 3:i90=(a=d.bd(a))?4:6;break;i90=(a=d.bd(a))?1:5;break;case 9:a.Xg=-5;i90=1;break;i90=5;break;case 2:i90=(a=d.bd(a))?1:5;break;case 1:a.Xg=!1;i90=5;break;}}});h.We.forEach(function(b){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:(b=a.Cb.Gf[b]) && b.pause();j90=1;break;}}});h90=7;break;case 7:var T5Z="s";T5Z+="t";T5Z+="o";T5Z+="p";this.Cb.emit(T5Z);h90=6;break;case 2:(a=this,b=this.Cb.R.yRa(),c=this.Cb.R.Rg());this.Cb.R.ne(g.na.Bv);this.Cb.XW();b || c || this.Cb.Aa.ej.jF(!1,this.Cb.R);h90=3;break;}}};a.prototype.suspend=function(){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:this.Rca=!0;k90=1;break;case 4:this.Rca=~6;k90=4;break;k90=1;break;}}};d90=4;break;case 4:a.prototype.resume=function(){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:this.Rca=!1;this.Cb.mf.Pi();l90=5;break;}}};a.prototype.close=function(){var m90,a;m90=2;for(;m90 !== 6;){switch(m90){case 4:var j5Z="e";j5Z+="n";j5Z+="dpl";j5Z+="a";j5Z+="y";var x5Z="l";x5Z+="ogda";x5Z+="ta";var y5Z="c";y5Z+="l";y5Z+="os";y5Z+="e";this.Cb.emit(y5Z);a.nMa && (a=c.ev.pf().cb()) && (a={type:x5Z,target:j5Z,fields:{bridgestat:a}},m.Pa(this.Cb,a.type,a));m90=9;break;case 9:this.Cb.Kb.af && this.Cb.Kb.af.HO(!0,this.Cb.Kl.sessionId,!0);this.Cb.Ya.DUa();this.Cb.QXa();m90=6;break;case 2:a=this.Cb.H;this.KFa=!0;this.stop();m90=4;break;}}};d90=9;break;case 9:a.prototype.flush=function(){var n90,k,c,d,f,h,o90,a,b;n90=2;for(;n90 !== 17;){switch(n90){case 9:c.flush();(k=c.nOa(),c=c.PGa);n90=7;break;case 13:var z5Z="endp";z5Z+="l";z5Z+="ay";var W5Z="l";W5Z+="o";W5Z+="gda";W5Z+="t";W5Z+="a";this.Cb.Rd.O.iMa(1) && (d.enableHudson=!0);d.aseApiVersion=this.Cb.IO;Object.keys(d).length && (d={type:W5Z,target:z5Z,fields:d},m.Pa(this.Cb,d.type,d));n90=10;break;case 19:n90=this.zC.Sp?18:17;break;case 1:n90=c?5:20;break;case 14:c && c.length && (d.activeRequests=JSON.stringify(c));n90=13;break;case 7:n90=k?6:14;break;case 5:(d={},f=c.get(),h={});f && f.avtp && f.avtp.Ga && (d.avtp=f.avtp.Ga,d.dltm=f.avtp.ZZ,h.avtp=d.avtp);f && f.cdnavtp && (d.cdnavtp=f.cdnavtp,d.activecdnavtp=f.activecdnavtp);n90=9;break;case 10:var U5Z="e";U5Z+="ndp";U5Z+="l";U5Z+="ay";var o5Z="l";o5Z+="og";o5Z+="d";o5Z+="at";o5Z+="a";var u5Z="throughp";u5Z+="u";u5Z+="t";u5Z+="-s";u5Z+="w";var p5Z="th";p5Z+="roug";p5Z+="hp";p5Z+="ut-sw";var L5Z="thr";L5Z+="oughp";L5Z+="u";L5Z+="t-sw";var K5Z="t";K5Z+="hrough";K5Z+="put-";K5Z+="sw";b.VP && (f && f[K5Z] && f[L5Z].Ga && this.Cb.xq.Egb({avtp:f[p5Z].Ga,variance:f[u5Z].Xh}),this.Cb.xq.xgb(h,null === (a=f.avtp) || void 0 === a?void 0:a.ZZ),a=this.Cb.xq.hvb(),b=this.Cb.xq.yxb(),a && (a.n=b,a={type:o5Z,target:U5Z,fields:{ibef:a}},m.Pa(this.Cb,a.type,a),this.Cb.xq.save()));n90=20;break;case 18:try{o90=2;for(;o90 !== 1;){switch(o90){case 2:this.Cb.r_(g.na.Bv);o90=1;break;}}}catch(L){var D5Z="Hindsight: Error evaluating QoE at sto";D5Z+="ppin";D5Z+="g: ";a000.Y8e(1);this.Cb.Ya.jm(a000.s8e(D5Z,L));}n90=17;break;case 6:for(var n in k){var m5Z="n";m5Z+="e";var q5Z="n";q5Z+="e";var Q5Z="n";Q5Z+="e";k.hasOwnProperty(n) && (d[Q5Z + n]=Number(k[n]).toFixed(6),h[q5Z + n]=1 * d[m5Z + n]);}n90=14;break;case 2:(b=this.Cb.H,c=this.Cb.Kb.qb);n90=1;break;case 20:this.Cb.Ya.BFa();n90=19;break;}}};a.prototype.Ll=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return this.KFa || this.Cb.Aa.Xi;break;case 4:return this.KFa && this.Cb.Aa.Xi;break;q90=1;break;}}};return a;break;}}function a(a,b,c,d){var e90;e90=2;for(;e90 !== 8;){switch(e90){case 4:var t5Z="1";t5Z+="SI";t5Z+="YbZr";t5Z+="NJCp9";this.zC=d;this.KFa=this.Rca=!1;t5Z;e90=8;break;case 2:this.Cb=a;this.G=b;this.mb=c;e90=4;break;}}}})();b.Nxa=d;},function(d,b,a){var c,g,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.nza=void 0;c=a(8);g=a(139);h=a(24);m=a(3);f=a(10);q=a(5);d=(function(){function a(a,b){var s90;s90=2;for(;s90 !== 4;){switch(s90){case 2:var G5Z="1";G5Z+="SIYbZrNJ";G5Z+="Cp9";this.Qa=a;this.G=b;G5Z;s90=4;break;}}}var r90;r90=2;for(;r90 !== 38;){switch(r90){case 7:a.prototype.KX=function(a,b){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var s5Z="seg";s5Z+="mentS";s5Z+="tartin";s5Z+="g";b={type:s5Z,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.O.Rr[0],video:a.O.Rr[1]}};a.KA || f.Pa(this.Qa,b.type,b);A90=5;break;}}};a.prototype.Odb=function(a){var B90,b;B90=2;for(;B90 !== 5;){switch(B90){case 1:a.KA || f.Pa(this.Qa,b.type,b);B90=5;break;case 2:var Y5Z="segme";Y5Z+="nt";Y5Z+="Ab";Y5Z+="o";Y5Z+="rted";b={type:Y5Z,segmentId:a.id};B90=1;break;}}};a.prototype.scb=function(a,b){var C90,d,f;C90=2;for(;C90 !== 12;){switch(C90){case 2:var b5Z="re";b5Z+="s";b5Z+="e";b5Z+="t";var i5Z="s";i5Z+="k";i5Z+="ip";var g5Z="l";g5Z+="on";g5Z+="g";var J5Z="l";J5Z+="o";J5Z+="ng";var w5Z="s";w5Z+="e";w5Z+="a";w5Z+="mle";w5Z+="ss";(d={segment:a,srcsegment:b.d5,srcoffset:b.kL,seamlessRequested:b.XA,atRequest:{},discard:{}},f=b.Dd[a]);f?d.atRequest={weight:f.weight,abuflmsec:f.Gp.It,vbuflmsec:f.Gp.jp,abuflbytes:f.Gp.xY,vbuflbytes:f.Gp.bv}:(f=this.Qa.Aa.ePa(b.d5,a),void 0 !== f && (d.atRequest.weight=f));c.he(b.Dd,function(b,c){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:c != a && (d.discard[c]={weight:b.weight,abuflmsec:b.Gp.It,vbuflmsec:b.Gp.jp,abuflbytes:b.Gp.xY,vbuflbytes:b.Gp.bv});D90=1;break;}}});f=b.XA?b.aA?w5Z:J5Z:b.eUa?g5Z:b.sl?i5Z:b5Z;d.transitionType=f;b.Apb || (d.delayToTransition=b.mI);C90=8;break;case 8:var H5Z="sea";H5Z+="mles";H5Z+="s";f=H5Z === f?0:m.time.da() - b.startTime;d.durationOfTransition=f;d.atTransition=b.F0a;d.srcsegmentduration=this.Qa.Aa.sxb(b.d5);C90=13;break;case 13:return d;break;}}};a.prototype.Rdb=function(a,b,c){var E90;E90=2;for(;E90 !== 4;){switch(E90){case 2:var M5Z="s";M5Z+="egment";M5Z+="Pre";M5Z+="se";M5Z+="nting";c=c?this.scb(a.id,c):void 0;a={type:M5Z,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.KA,manifestIndex:a.O.eb};f.Pa(this.Qa,a.type,a);E90=4;break;}}};r90=12;break;case 34:a.prototype.CFa=function(){var X90,a,b,c,d,g,h,k;X90=2;for(;X90 !== 7;){switch(X90){case 1:X90=!this.Qa.Ll()?5:7;break;case 2:a=this.Qa.H;X90=1;break;case 5:var Z5Z="upda";Z5Z+="teBu";Z5Z+="fferLevel";(b=this.Qa.Aa.bc,c=b.ki(0),d=b.ki(1));this.Qa.Ef.qgb(c,d);(g=this.Qa.Kb.qb.get(),g=g.Hd?g.Ma.Ga:0,h=this.Qa.Aa,k=h.dD(b,0),b=h.dD(b,1),c={type:Z5Z,abuflbytes:k,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:d,currentBandwidth:g});d > a.FTa && this.Qa.Kb.af && this.Qa.Kb.af.HO(!0,this.Qa.Kl.sessionId);X90=8;break;case 8:f.Pa(this.Qa,c.type,c);X90=7;break;}}};a.prototype.Ycb=function(a){var Y90,b,d,f;Y90=2;for(;Y90 !== 7;){switch(Y90){case 5:Y90=!c.X(this.jH)?4:8;break;case 4:var C5Z=", o";C5Z+="sA";C5Z+="llocator";C5Z+="Delta: ";var X5Z=", jsHea";X5Z+="p";X5Z+="Delta: ";var I5Z=",";I5Z+=" fastMallocD";I5Z+="el";I5Z+="ta:";I5Z+=" ";var a5Z="memoryUsage ";a5Z+="at time:";a5Z+=" ";(b=a.OMa - this.jH.OMa,d=a.mQa - this.jH.mQa,f=a.gVa - this.jH.gVa);(4194304 < b || 4194304 < f) && this.G.warn(a5Z + m.time.da() + I5Z + b + X5Z + d + C5Z + f);Y90=9;break;case 1:c.pa(a.AT);Y90=5;break;case 2:Y90=!c.X(a)?1:7;break;case 9:var P5Z=", s";P5Z+="yste";P5Z+="mDelt";P5Z+="a: ";var V5Z="memoryUsag";V5Z+="e at t";V5Z+="ime: ";c.pa(a.AT) && c.pa(this.jH.AT) && (b=a.AT - this.jH.AT,4194304 < b && this.G.warn(V5Z + m.time.da(),P5Z + b));Y90=8;break;case 8:this.jH=a;Y90=7;break;}}};r90=32;break;case 42:a.prototype.DUa=function(){var g01,a;g01=2;for(;g01 !== 3;){switch(g01){case 1:var k5Z="st";k5Z+="r";k5Z+="eamere";k5Z+="n";k5Z+="d";this.Bfb=!0;a={type:k5Z,time:m.time.da()};f.Pa(this.Qa,a.type,a);g01=3;break;case 2:g01=!this.Bfb && this.Qa.H.AUa?1:3;break;}}};a.prototype.iGb=function(a){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var l5Z="streamSelection";l5Z+="AugmentDa";l5Z+="ta";a={type:l5Z,augmentData:a,fragmentIndex:a[0].rg};f.Pa(this.Qa,a.type,a);h01=5;break;}}};a.prototype.il=function(a){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var f5Z=",";f5Z+=" ";var E5Z="manage";E5Z+="r";E5Z+="de";E5Z+="b";E5Z+="ugevent";a={type:E5Z,message:"@" + m.time.da() + f5Z + a};f.Pa(this.Qa,a.type,a);i01=5;break;}}};return a;break;case 3:a.prototype.Cdb=function(a,b,c,d,g){var x90,h;x90=2;for(;x90 !== 3;){switch(x90){case 1:var B5Z="heade";B5Z+="rCach";B5Z+="eDataH";B5Z+="it";this.Qa.YEa=void 0;a={type:B5Z,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:g,actualStartPts:h && h.Pm,headerCount:h && h.Gr,stats:h && h.Ob};f.Pa(this.Qa,a.type,a);x90=3;break;case 2:h=this.Qa.YEa;x90=1;break;case 8:h=this.Qa.YEa;x90=9;break;x90=1;break;}}};a.prototype.Kdb=function(a,b,c,d){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var N5Z="m";N5Z+="a";N5Z+="xPo";N5Z+="si";N5Z+="tion";a={type:N5Z,index:a,endPts:b,maxPts:c,maxSeekPts:d};f.Pa(this.Qa,a.type,a);y90=5;break;}}};a.prototype.Udb=function(a,b,c,d,g,h){var z90;z90=2;for(;z90 !== 4;){switch(z90){case 2:var F5Z="noti";F5Z+="fyStr";F5Z+="e";F5Z+="amingError: ";var O5Z="e";O5Z+="r";O5Z+="ror";a={type:O5Z,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:g,manifestIndex:h};this.G.error(F5Z + JSON.stringify(a));f.Pa(this.Qa,a.type,a);z90=4;break;}}};r90=7;break;case 12:a.prototype.Pdb=function(a,b){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var S5Z="s";S5Z+="eg";S5Z+="men";S5Z+="tAppended";b={type:S5Z,segmentId:a.id,metrics:b};a.KA || f.Pa(this.Qa,b.type,b);F90=5;break;}}};a.prototype.Qdb=function(a,b,c){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 2:var v5Z="se";v5Z+="gm";v5Z+="en";v5Z+="tC";v5Z+="omplete";a={type:v5Z,mediaType:a,manifestIndex:b,segmentId:c.id};f.Pa(this.Qa,a.type,a);G90=5;break;}}};a.prototype.tca=function(a,b){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var n5Z="la";n5Z+="stSegment";n5Z+="Pts";b={type:n5Z,segmentId:a.id,pts:Math.floor(b)};H90=1;break;case 1:a.KA || f.Pa(this.Qa,b.type,b);H90=5;break;}}};a.prototype.Idb=function(a,b,c,d,g){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var R5Z="m";R5Z+="an";R5Z+="i";R5Z+="festRange";a={type:R5Z,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(g)};f.Pa(this.Qa,a.type,a);I90=5;break;}}};a.prototype.DFa=function(a){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var c5Z="max";c5Z+="Bit";c5Z+="ra";c5Z+="t";c5Z+="es";a={type:c5Z,audio:a[0],video:a[1]};f.Pa(this.Qa,a.type,a);J90=5;break;}}};r90=18;break;case 30:a.prototype.udb=function(){var b01,a;b01=2;for(;b01 !== 5;){switch(b01){case 3:a={type:""};b01=8;break;b01=1;break;case 2:var e5Z="as";e5Z+="ere";e5Z+="portenabled";a={type:e5Z};b01=1;break;case 1:f.Pa(this.Qa,a.type,a);b01=5;break;}}};a.prototype.Edb=function(a){var R8Z=a000;var c01,b,c,d,g,h,k,l,m,n,u,p,r,D,U,ka,la,Y,Q,F,va,S;c01=2;for(;c01 !== 6;){switch(c01){case 3:b.report=a;c01=9;break;case 4:c01=this.Qa.TP || this.Qa.Ou?3:9;break;case 1:var d3Z="hi";d3Z+="ndsigh";d3Z+="trepo";d3Z+="rt";(b={type:d3Z},c=this.Qa.H.a1);for(d in c){var T3Z="hv";T3Z+="ma";T3Z+="f";T3Z+="dp";var A3Z="hvm";A3Z+="a";A3Z+="fgr";var h3Z="h";h3Z+="vm";h3Z+="a";h3Z+="ft";h3Z+="b";var r3Z="h";r3Z+="t";r3Z+="wb";r3Z+="r";g=c[d];h=0;k=0;l=0;m=0;n=0;u=0;p=void 0;r=void 0;D=!1;U=-1;ka=-1;la=-1;Y=-1;Q=-1;F=-1;for(va in a){r=a[va];void 0 === r.nd && (p=(p=r.sols) && p[g]) && (D=!0,l+=p.dlvdur,h+=p.dltwbr * p.dlvdur,k+=p.dlvmaf * p.dlvdur);u+=r.pbdur;m+=r.pbtwbr * r.pbdur;n+=r.pbvmaf * r.pbdur;p=r.rr;r=r.ra;}0 < u && (U=1 * m / u,Y=1 * n / u);D && (0 < l && (ka=1 * h / l,Q=1 * k / l),0 < l + u && (la=1 * (h + m) / (l + u),F=1 * (k + n) / (l + u)));switch(g){case r3Z:b.htwbr=la;b.hptwbr=ka;b.pbtwbr=U;p && (b.rr=p,b.ra=r);break;case h3Z:b.hvmaftb=F;b.hpvmaftb=Q;b.pbvmaftb=Y;p && (b.rrvmaftb=p,b.ravmaftb=r);break;case A3Z:b.hvmafgr=F;b.hpvmafgr=Q;b.pbvmafgr=Y;p && (b.rrvmafgr=p,b.ravmafgr=r);break;case T3Z:(b.hvmafdp=F,b.hpvmafdp=Q,b.pbvmafdp=Y,p && (b.rrvmafdp=p,b.ravmafdp=r));}}c01=4;break;case 9:c01=this.Qa.Ou?8:7;break;case 8:for(var ga in a){if((c=a[ga],void 0 !== c.YZa))for(g in c.YZa){if((p=c.YZa[g],void 0 !== p.o5)){var W3Z=" a";W3Z+="n";W3Z+="d ";var j3Z="expect sol.strmsel.";j3Z+="le";j3Z+="ngth === so";j3Z+="l.fragsel.length but got ";var x3Z="expect report";x3Z+=".fr";x3Z+="agmentsPrebuffered !== u";x3Z+="ndefined";var y3Z="e";y3Z+="xpect report.fragme";y3Z+="ntsPrebuffered !== undefined";(d=void 0 !== c.xNa) || (console.error(y3Z),q.assert(d,x3Z));d=[];for(var ba in c.xNa){h=c.xNa[ba];d.push({$:h.$,un:h.duration / 1E3,OE:h.ib});}d=p.o5.length === p.yNa.length;h=j3Z + p.o5.length + W3Z + p.yNa.length;d || (console.error(h),q.assert(d,h));d=[];h=0;for(S in p.o5){l=p.o5[S];k=p.yNa[S];R8Z.Y8e(1);h=l=R8Z.s8e(h,l);d.push({d6b:l,C6b:p.VLa[S],J2b:p.Ma[S],xea:p.xea[S],wea:p.wea[S],NIa:p.NIa[S],$1b:{$:k.$,un:k.duration / 1E3,OE:k.ib?k.ib:p.gd[l].ib,j6b:k.Rf,a2b:k.uj},qXa:0,N5b:0,boa:p.boa[S]});}p=[];d=0;for(var Aa in c.Bq.trace){h=c.Bq.trace[Aa];R8Z.Y8e(1);d=h=R8Z.s8e(d,h);p.push(h);}}}}c01=7;break;case 2:c01=a?1:6;break;case 7:f.Pa(this.Qa,b.type,b);c01=6;break;}}};a.prototype.Adb=function(a){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var z3Z="e";z3Z+="n";z3Z+="dOfStr";z3Z+="eam";a={type:z3Z,mediaType:a};f.Pa(this.Qa,a.type,a);d01=5;break;}}};a.prototype.jm=function(a){var e01;e01=2;for(;e01 !== 1;){switch(e01){case 2:var L3Z="a";L3Z+="s";L3Z+="ee";L3Z+="xceptio";L3Z+="n";var K3Z="a";K3Z+="seexce";K3Z+="ptio";K3Z+="n";this.Qa.emit(K3Z,{type:L3Z,msg:a});e01=1;break;}}};a.prototype.bGb=function(a,b,c,d){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var u3Z="m";u3Z+="axvide";u3Z+="obitratechange";u3Z+="d";var p3Z="ma";p3Z+="xvi";p3Z+="de";p3Z+="obi";p3Z+="tratechanged";a={type:p3Z,time:m.time.da(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.Qa.emit(u3Z,a);f01=5;break;}}};r90=42;break;case 2:a.prototype.vj=function(a){var t90;t90=2;for(;t90 !== 5;){switch(t90){case 2:var o3Z="st";o3Z+="artEv";o3Z+="ent";a={type:o3Z,event:a,time:m.time.da()};f.Pa(this.Qa,a.type,a);t90=5;break;}}};a.prototype.Ldb=function(){var u90,a;u90=2;for(;u90 !== 5;){switch(u90){case 2:var U3Z="op";U3Z+="enC";U3Z+="ompl";U3Z+="ete";a={type:U3Z};f.Pa(this.Qa,a.type,a);u90=5;break;}}};a.prototype.Mdb=function(a,b,c,d,g){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:var D3Z="pt";D3Z+="sSta";D3Z+="rts";this.Qa.H.jqb || (a={type:D3Z,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:g.k_a()},f.Pa(this.Qa,a.type,a));v90=1;break;}}};a.prototype.Ddb=function(a,b){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var Q3Z="heade";Q3Z+="rC";Q3Z+="acheHit";a={type:Q3Z,movieId:a,streamId:b};w90=1;break;case 1:f.Pa(this.Qa,a.type,a);w90=5;break;}}};r90=3;break;case 24:a.prototype.wdb=function(a,b){var R90;R90=2;for(;R90 !== 3;){switch(R90){case 2:var q3Z="audio";q3Z+="TrackS";q3Z+="witchStarted";a=a.vx;b=b.vx;b={type:q3Z,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels,sourceBufferReset:void 0};f.Pa(this.Qa,b.type,b);R90=3;break;}}};a.prototype.vdb=function(a,b){var S90,c;S90=2;for(;S90 !== 5;){switch(S90){case 2:c=this;setTimeout(function(){var T90,d;T90=2;for(;T90 !== 5;){switch(T90){case 2:var m3Z="audioTrac";m3Z+="kSwitchCompl";m3Z+="ete";d={type:m3Z,trackId:a,trackIndex:b};f.Pa(c.Qa,d.type,d);T90=5;break;}}},0);S90=5;break;}}};a.prototype.zdb=function(a){var U90,b;U90=2;for(;U90 !== 4;){switch(U90){case 2:var t3Z="buff";t3Z+="eringSta";t3Z+="rted";b={type:t3Z,time:m.time.da(),percentage:a || 0};f.Pa(this.Qa,b.type,b);this.eca=a || 0;U90=4;break;}}};a.prototype.xdb=function(){var V90,a,b,c,d,g;V90=2;for(;V90 !== 5;){switch(V90){case 1:var G3Z="bu";G3Z+="fferin";G3Z+="g";a != this.eca && (b={type:G3Z,time:b,percentage:a},f.Pa(this.Qa,b.type,b),this.eca=a);V90=5;break;case 2:(a=this.Qa.H,b=m.time.da(),c=this.Qa.Aa.bc,d=this.Qa.zl?1:0,g=c.bb(d),c=c.ki(d),a=Math.min(Math.max(Math.round(100 * (g.oA?(b - this.Qa.kba) / a.Ox:g.ri?g.ri:c / a.aj)),this.eca),99));V90=1;break;}}};a.prototype.sca=function(){var W90,a,b,c,d,g;W90=2;for(;W90 !== 9;){switch(W90){case 2:var s3Z="buffer";s3Z+="ingCompl";s3Z+="ete";(a=this.Qa.Aa.bc,b=a.bb(0),c=a.bb(1));this.CFa();(d=this.Qa.zl?this.Qa.ab.$x[h.Sa.VIDEO]:this.Qa.ab.$x[h.Sa.AUDIO],g=d.bP,a={type:s3Z,time:m.time.da(),actualStartPts:g,aBufferLevelMs:a.ki(0),vBufferLevelMs:a.ki(1),selector:c?c.XK:b.XK,initBitrate:d.Vp,skipbackBufferSizeBytes:this.Qa.Kb.gF});this.Qa.Ef.Psb({initSelReason:d.aq,initSelectionPredictedDelay:d.ex,buffCompleteReason:d.er,hashindsight:this.Qa.Sp,hasasereport:! !this.Qa.qq,bcVBufferLevelMs:a.vBufferLevelMs,bcABufferLevelMs:a.aBufferLevelMs});W90=3;break;case 3:f.Pa(this.Qa,a.type,a);W90=9;break;}}};r90=34;break;case 18:a.prototype.Jdb=function(a,b){var K90,c;K90=2;for(;K90 !== 3;){switch(K90){case 2:var w3Z="n";w3Z+="otif";w3Z+="yManifest";w3Z+="Select";w3Z+="ed: ";var Y3Z="man";Y3Z+="ifes";Y3Z+="tSel";Y3Z+="ec";Y3Z+="ted";c=this.Qa.H;a={type:Y3Z,index:a,replace:b.O.Me.replace,ptsStarts:b.wK,streamingOffset:b.T + b.pu};c.oh && (b=w3Z + JSON.stringify(a),c.oh && this.il(b));f.Pa(this.Qa,a.type,a);K90=3;break;}}};a.prototype.Hdb=function(a,b,c,d,g){var L90;L90=2;for(;L90 !== 4;){switch(L90){case 2:var J3Z="manife";J3Z+="stPres";J3Z+="e";J3Z+="nting";a={type:J3Z,index:a.eb,pts:Math.floor(b),movieId:a.u,replace:a.Me.replace,contentOffset:c};null != d && null != g && (a.previousMovieId=d,a.previousIndex=g);f.Pa(this.Qa,a.type,a);L90=4;break;}}};a.prototype.Sdb=function(a,b,c,d){var M90,h;M90=2;for(;M90 !== 3;){switch(M90){case 2:var g3Z="streamP";g3Z+="resenti";g3Z+="n";g3Z+="g";h=a.I;g.Cl.Jo(h);a={type:g3Z,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:h,manifestIndex:d,trackIndex:a.track.MC,streamIndex:a.Rf};f.Pa(this.Qa,a.type,a);M90=3;break;}}};r90=15;break;case 32:a.prototype.Wdb=function(){var Z90,a;Z90=2;for(;Z90 !== 3;){switch(Z90){case 2:var i3Z="s";i3Z+="trea";i3Z+="mi";i3Z+="ngsta";i3Z+="t";this.Qa.H.ZCb && m.memory.Svb(this.Ycb.bind(this));a={type:i3Z,time:m.time.da(),playbackTime:this.Qa.R.Ud()};this.Qa.Ef.Qsb(a);f.Pa(this.Qa,a.type,a);Z90=3;break;}}};a.prototype.BFa=function(){var a01,a;a01=2;for(;a01 !== 4;){switch(a01){case 1:var b3Z="a";b3Z+="serep";b3Z+="o";b3Z+="r";b3Z+="t";a={type:b3Z};this.Qa.qq.Osb(a) && f.Pa(this.Qa,a.type,a);a01=4;break;case 2:a01=this.Qa.qq?1:4;break;}}};r90=30;break;case 15:a.prototype.Xdb=function(a){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var H3Z="videoLo";H3Z+="o";H3Z+="ped";a={type:H3Z,offset:a};f.Pa(this.Qa,a.type,a);N90=5;break;}}};a.prototype.Vdb=function(a,b,c,d,h){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 2:var M3Z="u";M3Z+="p";M3Z+="dateStreami";M3Z+="ngPts";b={type:M3Z,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d),segmentId:h};g.Cl.Jo(a);f.Pa(this.Qa,b.type,b);O90=4;break;}}};a.prototype.Bdb=function(a){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:var Z3Z="fir";Z3Z+="st";Z3Z+="RequestAp";Z3Z+="pend";Z3Z+="ed";a={type:Z3Z,manifestIndex:a.Ra.yc.O.eb,mediatype:a.I,time:m.time.da()};f.Pa(this.Qa,a.type,a);P90=5;break;}}};a.prototype.Fdb=function(a,b){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var a3Z="initi";a3Z+="alAud";a3Z+="ioTr";a3Z+="ac";a3Z+="k";a={type:a3Z,trackId:b,trackIndex:a};f.Pa(this.Qa,a.type,a);Q90=5;break;}}};r90=24;break;}}})();b.nza=d;},function(d,b,a){var c,g,h,m,f,q,l,n,t,x,p,y,B,L,I,E,r,W,R,M,D,U,ka,la,Y,Q;Object.defineProperty(b,"__esModule",{value:!0});b.Dwa=void 0;c=a(0);d=a(16);g=a(5);h=a(8);m=a(233);f=a(245);q=a(397);l=a(90);a(386);n=a(402);t=a(121);x=a(24);p=a(244);y=a(957);B=a(106);L=a(17);I=a(3);E=a(176);r=a(408);W=a(407);R=a(108);M=I.Promise;D=new I.Console("HEADERCACHE","media|asejs");a=new I.Console("MEDIACACHE","media|asejs");U=I.QF;ka=D.trace.bind(D);a.trace.bind(a);la=D.warn.bind(D);Y=D.error.bind(D);Q=D.info.bind(D);a=(function(a){function b(b,c,d,f){var k01;k01=2;for(;k01 !== 25;){switch(k01){case 3:b.c1b=Q;b.KN=Object.create(null);k01=8;break;case 2:b=a.call(this) || this;b.Xj=ka;b.gf=Y;b.kb=la;k01=3;break;case 8:b.Km=c;b.Ge=Object.create(null);b.Ny=0;b.xj=[];b.UN=c.FP;k01=12;break;case 20:b.EC={};b.$ca=(b.Km.kB || b.Km.msa) && 0 < (b.Km.Gz || (I.options || ({})).OJ || 0);b.vp=b.Km.Hma;b.hf=void 0;k01=16;break;case 12:b.Dt=[];b.iX=!1;b.SG=[];k01=20;break;case 16:var X3Z="c";X3Z+="a";X3Z+="tch";b.$ca && (b.Km.Gz || (c=(I.options || ({})).OJ || 0,b.Km.set?b.Km.set({Gz:c}):b.Km.Gz=(I.options || ({})).OJ || 0),b.hf=new y.Gya(b.Km,I,b),b.hf.Ib(b,f).then(function(){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 2:var I3Z="M";I3Z+="edi";I3Z+="a cache";I3Z+=" initialized";ka(I3Z);l01=1;break;case 4:ka("");l01=2;break;l01=1;break;}}})[X3Z](function(a){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 4:Y("",a);m01=2;break;m01=1;break;case 2:var C3Z="Media cac";C3Z+="he did";C3Z+=" not i";C3Z+="nitialize";Y(C3Z,a);m01=1;break;}}}));k01=15;break;case 15:var V3Z="1S";V3Z+="IYbZ";V3Z+="rNJ";V3Z+="Cp";V3Z+="9";b.Kl=d;V3Z;return b;break;}}}var j01;j01=2;for(;j01 !== 49;){switch(j01){case 17:b.prototype.uHb=function(a){var I01,b;I01=2;for(;I01 !== 9;){switch(I01){case 2:b=this;a.ORb=a.md;this.xab(a);h.X(a.GQ) || a.GQ(a.ORb);this.$eb(a,function(){var J01;J01=2;for(;J01 !== 1;){switch(J01){case 2:h.X(a) || (h.X(a.sk) || a.sk.X0--,b.YW(a));J01=1;break;}}});I01=9;break;}}};b.prototype.vHb=function(a){var K01,b,c,d,f;K01=2;for(;K01 !== 8;){switch(K01){case 2:(b=this,c=a.u,d=this.Ge[c] || a.sk);K01=1;break;case 1:K01=d?5:8;break;case 9:(--d.iI,b.YW(a));K01=8;break;case 5:var f3Z="manag";f3Z+="er";f3Z+="debugevent";var E3Z=", r";E3Z+="e";E3Z+="m";E3Z+="ai";E3Z+="ning: ";var l3Z=", ";l3Z+="pt";l3Z+="s";l3Z+=": ";var k3Z=",";k3Z+=" ";k3Z+="s";k3Z+="trea";k3Z+="mId: ";var P3Z=", h";P3Z+="eaderCache dataComplete";P3Z+=": movieId: ";K01=(this.Km.oh && (c="@" + I.time.da() + P3Z + c + k3Z + a.Ca + l3Z + a.T + E3Z + (d.iI - 1),this.emit(f3Z,{message:c})),a.Md && 0 === a.responseType && this.hf && !this.vp)?4:9;break;case 4:f=I.time.now();this.hf.iNb(a,d,function(c){var L01;L01=2;for(;L01 !== 4;){switch(L01){case 2:c || h.X(d) || (c=I.time.da() - f,h.X(d.Ob) && (d.Ob={}),h.X(d.Ob.ip) && (d.Ob.ip=0),d.Ob.ip+=c);--d.iI;b.YW(a);L01=4;break;}}});K01=8;break;}}};b.prototype.kEa=function(){var M01;M01=2;for(;M01 !== 1;){switch(M01){case 2:0 === this.Dt.length && (this.Dt=[t.Jn.pf.mr(0,void 0,!1,!1,this.Kl,this.Km),t.Jn.pf.mr(1,void 0,!1,!1,this.Kl,this.Km)],this.Dt.forEach(function(a){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:return a.Ib();break;}}}),U.Le());M01=1;break;}}};b.prototype.oEa=function(){var O01,a;O01=2;for(;O01 !== 4;){switch(O01){case 5:a.forEach(function(a){var P01;P01=2;for(;P01 !== 1;){switch(P01){case 2:t.Jn.pf.rI(a);P01=1;break;case 4:t.Jn.pf.rI(a);P01=0;break;P01=1;break;}}});O01=4;break;case 2:a=this.Dt;this.Dt=[];O01=5;break;}}};b.prototype.Zcb=function(){var Q01,a;Q01=2;for(;Q01 !== 5;){switch(Q01){case 2:a=this;!this.iX && 0 < this.SG.length && (this.SG.forEach(function(b){var R01;R01=2;for(;R01 !== 1;){switch(R01){case 2:a.SX(b.azb,b.Hc);R01=1;break;}}}),this.SG=[]);Q01=5;break;}}};b.prototype.Yeb=function(a,b){var S01,c,d,f,k,l,m,q,t,u,y,B,z,I,E;S01=2;for(;S01 !== 13;){switch(S01){case 4:S01=!B?3:9;break;case 3:return M.reject();break;case 2:var B3Z="A config mu";B3Z+="st be passed to _r";B3Z+="equestHeader";(c=this,d=b.u,f=b.me,k=b.Hc,l=b.Md,m=b.lwb(),q=m.ta,t=m.Mf,m=m.UC);g.assert(b.config,B3Z);(u=b.config,u=n.Ffa(u,q),y={stream:[new r.vW(u.aea,u,new W.uW()),new r.vW(u.k5,u,new W.uW())],location:new p.xV(q,a.qb,a.Of,u,void 0),R:{state:L.na.bh,C1:!0,CS:0,playbackRate:1,buffer:{Ip:void 0,S5:0,T:0,$c:0,Yb:0,Vk:0,yk:0,aa:[],xi:void 0,Zha:void 0}}},B=this.Kxb(a,y,q,m,t,u,b.UY));S01=4;break;case 6:u.$yb && (E=2292 + 12 * Math.ceil(q.duration / 2E3));return (l && this.hf?this.vp?this.hf.MCb(d,z):this.hf.lDb(d):M.resolve(void 0)).then(function(a){var T01;T01=2;for(;T01 !== 5;){switch(T01){case 2:B.forEach(function(b){var U01,d;U01=2;for(;U01 !== 5;){switch(U01){case 2:d=E?E:u.Y0;u.WP && z.headers[b.Ca] || (h.X(z.Vp) && b.I === x.Sa.VIDEO && (z.Vp=b.S,z.aq=b.aq,z.Hr=b.Hr,z.$k=b.gzb,z.al=b.c1),t && b.I === x.Sa.VIDEO && u.z_?d=u.z_:u.G1a && b.ws && (d=b.ws.offset + b.ws.size),b={stream:b,url:b.url,offset:0,$:d,Md:l},l && (z.Ob.qEb=!h.X(a) && 0 < Object.keys(a).length,b.tA=a),b=c.Zeb(b,k,z,u),I.push(b));U01=5;break;}}});return M.all(I);break;}}}).then(function(a){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:return new M(function(b){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:c.hf && l && !c.vp?c.hf.kNb(z,function(){var X01;X01=2;for(;X01 !== 1;){switch(X01){case 2:b(a);X01=1;break;}}}):b(a);W01=1;break;}}});break;}}}).then(function(a){var Y01;Y01=2;for(;Y01 !== 3;){switch(Y01){case 5:z.Ob.Z1=a;return {firstheadersent:z.Ob.L_,lastheadercomplete:z.Ob.Z1};break;case 2:a=Math.max.apply(Math,a);z.Ob.L_=z.Ob.kQa;Y01=5;break;}}});break;case 9:z=this.Ge[d];z || (z={me:f,u:d,headers:Object.create(null),Gr:0,X0:0,iI:0,data:void 0,Md:l,Ob:{},QZ:void 0,kHa:void 0},!z.Md || this.vp?this.Ge[d]=z:z.Ob.ip=0,this.xj.push(z),this.xj.sort(this.P3));I=[];S01=6;break;}}};b.prototype.xba=function(a,b){var Z01,c;Z01=2;for(;Z01 !== 8;){switch(Z01){case 2:c=a.stream.I;2 > this.Dt.length && this.kEa();b=new q.t6(a.stream,b,this.Dt[c],a,this,!0,D);b.Md=a.Md;Z01=3;break;case 3:b.af=this;return b;break;}}};j01=23;break;case 2:c.__extends(b,a);Object.defineProperties(b.prototype,{cache:{get:function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 2:return this.Ge;break;case 4:return this.Ge;break;n01=1;break;}}},enumerable:!1,configurable:!0}});b.prototype.j4=function(){var o01;o01=2;for(;o01 !== 1;){switch(o01){case 2:return this.Dt.map(function(a){var p01;p01=2;for(;p01 !== 1;){switch(p01){case 2:return a.j4();break;}}});break;}}};b.prototype.Upb=function(){var q01;q01=2;for(;q01 !== 5;){switch(q01){case 3:this.flush();this.oEa();q01=2;break;q01=5;break;case 2:this.flush();this.oEa();q01=5;break;}}};b.prototype.HO=function(a,b,c){var r01,d,f;r01=2;for(;r01 !== 9;){switch(r01){case 1:r01=(d[b]=a)?5:4;break;case 5:for(var g in d){d.hasOwnProperty(g) && !1 === d[g] && (f=!1);}r01=4;break;case 2:(d=this.EC,f=a);r01=1;break;case 6:r01=(d[b]=a)?0:9;break;r01=(d[b]=a)?5:4;break;case 4:c && delete d[b];f?(this.iX=!1,this.Zcb()):this.iX=!0;r01=9;break;}}};b.prototype.LJb=function(a,b){var s01,c,d,f,k;s01=2;for(;s01 !== 15;){switch(s01){case 17:return M.reject();break;case 10:for(var l in c.headers){a=c.headers[l];!h.X(a.url) && null !== a.url && (void 0 === c.data || void 0 === c.data[l] || c.data[l].length < k.oga)?this.SX(a,f):(h.X(a.url) || null === a.url) && void 0 !== c.data && void 0 !== c.data[l] && 0 < c.data[l].length && delete c.headers[l];}s01=20;break;case 14:s01=!h.X(c) && (2 <= c.Gr || !k.WP)?13:19;break;case 19:s01=!b.Md || !this.hf || this.vp?18:16;break;case 7:var O3Z="); ignoring ";O3Z+="prepare";O3Z+=" ";O3Z+="for ";O3Z+="movieId: ";var N3Z="P";N3Z+="TS passed to H";N3Z+="eaderCache.prepareP is not ";N3Z+="undefined or a positive number ";N3Z+="(";return (Y(N3Z + f + O3Z + c),M.reject());break;case 18:s01=d > k.Vja || this.Ny + 1 > this.UN && d > this.xj[0].me?17:16;break;case 8:s01=!h.X(f) && (!h.pa(f) || 0 > f)?7:6;break;case 4:this.Aqa(k.FP);s01=3;break;case 11:void 0 === c.data && (c.Ob.uK=void 0);s01=10;break;case 3:s01=k.tEb?9:8;break;case 13:s01=!this.vp || !c.Md?12:20;break;case 16:return this.Yeb(a,b);break;case 20:return M.resolve();break;case 6:c=this.Ge[c];s01=14;break;case 12:s01=(c.me=d,this.xj.sort(this.P3),!h.X(f))?11:20;break;case 9:return M.reject();break;case 2:var F3Z="A config must ";F3Z+="b";F3Z+="e passed";F3Z+=" to";F3Z+=" prepareP";(c=b.u,d=b.me,f=b.Hc);g.assert(b.config,F3Z);k=b.config;s01=4;break;}}};b.prototype.flush=function(){var t01,a;t01=2;for(;t01 !== 7;){switch(t01){case 2:var v3Z="manager";v3Z+="de";v3Z+="b";v3Z+="u";v3Z+="gevent";var S3Z=", ";S3Z+="heade";S3Z+="rCa";S3Z+="che flush: ";this.hNa();for(var b in this.KN){a=this.KN[b];a.abort();}this.Ge=Object.create(null);this.Ny=0;this.xj=[];this.Km.oh && (a="@" + I.time.da() + S3Z,this.emit(v3Z,{message:a}));t01=7;break;}}};j01=7;break;case 23:b.prototype.qbb=function(a,b){var a11,c;a11=2;for(;a11 !== 8;){switch(a11){case 2:c=a.stream.I;2 > this.Dt.length && this.kEa();b=f.nU.create(a.stream,b,this.Dt[c].track,a,this,!0,D);b.Md=a.Md;b.af=this;return b;break;}}};b.prototype.YW=function(a){var b11,b;b11=2;for(;b11 !== 9;){switch(b11){case 4:var n3Z="save";n3Z+="todis";n3Z+="k";b=this.Ge[a.u] || a.sk;b && 0 === b.X0 && 0 === b.iI && (this.lfb(b,a.md),b.Md && this.hf && (b.Ob.qEb || (this.vp?this.hf.lNb(b):this.hf.YK(n3Z,{GYa:b.Ob.ip}))));b11=9;break;case 2:this.dc(a) && delete this.KN[a.Ca];this.dc(a) || delete a.response;a.ac();b11=4;break;}}};b.prototype.Zeb=function(a,b,c,d){var c11,f;c11=2;for(;c11 !== 12;){switch(c11){case 9:return M.reject();break;case 8:c.X0++;this.KN[f.Ca]=f;c11=6;break;case 3:c11=!f.Au()?9:8;break;case 6:c11=a.GQ?14:13;break;case 13:return new M(function(a){var d11;d11=2;for(;d11 !== 1;){switch(d11){case 2:f.GQ=a;d11=1;break;}}});break;case 2:f=this.xba(a,d);f.cYa=b;f.sk=c;f.tA=a.tA;c11=3;break;case 14:f.GQ=a.GQ;c11=12;break;}}};b.prototype.edb=function(a,b,c){var e11,f,d;e11=2;for(;e11 !== 8;){switch(e11){case 4:return function(a,b){var y1Z=a000;var f11;f11=2;for(;f11 !== 1;){switch(f11){case 4:y1Z.Y8e(16);return y1Z.G8e(b,d);break;f11=1;break;case 2:y1Z.w8e(17);return y1Z.G8e(d,b);break;}}};break;case 5:e11=0 < d?4:3;break;case 3:f=c && c.length < a.oga?c.length:a.oga;return function(a){var x1Z=a000;var g11;g11=2;for(;g11 !== 1;){switch(g11){case 2:x1Z.Y8e(17);return x1Z.G8e(f,a);break;case 4:x1Z.Y8e(18);return x1Z.G8e(f,a);break;g11=1;break;}}};break;case 2:d=a.LZ;b.Md && this.hf && (a.yR?d=a.yR:a.gTa && 0 < a.gTa && (d=2E3 * a.gTa));e11=5;break;}}};b.prototype.SX=function(a,b){var h11,n,q,l,m,u,g,t,c,d,f,k;h11=2;for(;h11 !== 51;){switch(h11){case 54:q=void 0;h11=53;break;case 13:return;break;case 27:n=q.F_(b);h11=26;break;case 17:h11=!h.X(q)?16:24;break;case 37:++n;h11=36;break;case 42:(q.Ada(l.get(t)),q.QR=t + 1,m=t);h11=41;break;case 28:h11=!h.X(l) && !q.Ja?44:40;break;case 25:var r0Z="ma";r0Z+="nagerdebug";r0Z+="event";var d0Z=", s";d0Z+="t";d0Z+="artPts:";d0Z+=" ";var e3Z=", pt";e3Z+="s";e3Z+=": ";var c3Z=", streamI";c3Z+="d";c3Z+=":";c3Z+=" ";var R3Z=", he";R3Z+="aderCache requ";R3Z+="estData: movie";R3Z+="Id: ";g.oh && (b="@" + I.time.da() + R3Z + c + c3Z + d + e3Z + b + d0Z + q.T,this.emit(r0Z,{message:b}));h11=24;break;case 31:h11=m < (l && l.length || 0) && !c(n,f)?30:52;break;case 15:h11=this.Iqa(a.I,g)?27:25;break;case 20:h11=-1 === m || void 0 === m?19:18;break;case 34:n=f=0;h11=33;break;case 5:this.SG.push({azb:a,Hc:b});h11=4;break;case 44:a000.w8e(1);t=a000.s8e(m,1);h11=43;break;case 18:q=a.stream.Wi(m);h11=17;break;case 3:this.SG.shift();h11=4;break;case 4:h11=this.SG.length > g.Uja?3:51;break;case 52:k.QZ && !h.X(k.Pm) && (a=k.QZ,delete k.QZ,this.SX(a,k.Pm));h11=51;break;case 26:n && (q.I === x.Sa.AUDIO && !g.z2 && n.Hc < (g.yj && !g.mz && f.ed?Math.floor(f.ed.ka):0) && (++n.tn,n.Hc+=q.za.ka),0 < n.tn && q.gj({start:n.tn}));h11=25;break;case 53:++m;h11=31;break;case 40:var h0Z="u";h0Z+="n";h0Z+="d";h0Z+="efine";h0Z+="d";h.X(k.Pm) && (k.Pm=q.T);q.Md && (q.responseType=0);a.Md && this.hf && a.tA && a.tA[d] && h0Z !== typeof q.T && a.tA[d][q.T] || (t=this.qbb(q,a.Yc),t.Md && (t.sk=a.sk),t.Au(),++k.iI,b.push(t));h11=37;break;case 14:k.QZ=a;h11=13;break;case 12:b=k.Pm;h11=11;break;case 29:q.Md=a.Md;h11=28;break;case 36:f+=q.duration;h11=54;break;case 33:t=q && q.I;h11=32;break;case 41:++t;h11=43;break;case 30:h11=(void 0 === q && (q=a.stream.Wi(m)),void 0 !== q)?29:53;break;case 6:h11=void 0 === k.Pm?14:12;break;case 16:q.Md=a.Md;h11=15;break;case 43:h11=t < l.length && (q.$ < u || q.duration < g)?42:40;break;case 1:h11=this.iX?5:9;break;case 7:h11=a.I === x.Sa.AUDIO?6:11;break;case 11:a.I === x.Sa.AUDIO && g.yj && !g.mz && f.ed && (b=Math.max(f.aa && f.aa.ij(0) || 0,b + f.ed.ka));(l=a.stream.aa,m=l && l.Yl(b));h11=20;break;case 32:(u=t === x.Sa.VIDEO?g.L2:g.E2,g=t === x.Sa.VIDEO?g.bFb:g.UEb);h11=31;break;case 8:h11=k?7:51;break;case 24:void 0 === k.data && (k.data={});void 0 === k.data[d] && (k.data[d]=[]);b=k.data[d];c=this.edb(g,a,l);h11=34;break;case 2:(c=a.u,d=a.Ca,f=a.stream,g=a.Yc);h11=1;break;case 9:k=this.Ge[c] || a.sk;h11=8;break;case 19:var A0Z="no p";A0Z+="rop";A0Z+="er fragment found to";A0Z+=" r";A0Z+="equest data at pts";Y(A0Z,b);h11=51;break;}}};b.prototype.xab=function(a){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:this.LDa(a,a.sk);i11=1;break;}}};j01=32;break;case 12:b.prototype.ySa=function(a){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:return this.MWa(this.Ge[a]);break;case 4:return this.MWa(this.Ge[a]);break;z01=1;break;}}};b.prototype.iE=function(){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 2:var T0Z="Me";T0Z+="dia cache is no";T0Z+="t enabl";T0Z+="ed";return this.hf?this.hf.xwb():M.reject(T0Z);break;}}};b.prototype.hNa=function(){var B01,c,d,f;B01=2;for(;B01 !== 4;){switch(B01){case 2:c=0;for(d in this.Ge){f=this.Ge[d];if(f.data){for(var g in f.data){var x0Z="i";x0Z+="n";x0Z+=" ";x0Z+="ent";x0Z+="ry:";var y0Z="miss";y0Z+="ing he";y0Z+="a";y0Z+="derEntry for";y0Z+=" streamId:";f.headers[g] || Y(y0Z,g,x0Z,f);b(f,g);f.data[g].forEach(a);delete f.data[g];}delete f.data;}}this.Teb(c);B01=4;break;}}function a(a){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 4:a.DJa();C01=8;break;C01=1;break;case 2:a.DJa();C01=1;break;}}}function b(a,b){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 2:a && a.data && a.data[b].forEach(function(a){var E01;E01=2;for(;E01 !== 5;){switch(E01){case 2:a.abort();c+=a.Pe;E01=5;break;}}});D01=1;break;}}}};b.prototype.Gx=function(a){var F01,b;F01=2;for(;F01 !== 5;){switch(F01){case 2:b=this.Ge[a.u];b && (this.dc(a)?h.X(b.Ob.kQa) && !h.X(a.rf) && (b.Ob.kQa=a.rf):h.X(b.Ob.uK) && !h.X(a.rf) && (b.Ob.uK=a.rf));F01=5;break;}}};b.prototype.Jj=function(a){var G01;G01=2;for(;G01 !== 1;){switch(G01){case 2:this.dc(a)?this.uHb(a):this.vHb(a);G01=1;break;}}};b.prototype.cS=function(a){var H01;H01=2;for(;H01 !== 5;){switch(H01){case 2:var j0Z="_o";j0Z+="nE";j0Z+="rro";j0Z+="r";j0Z+=": ";la(j0Z,a.toString());this.YW(a);H01=5;break;}}};j01=17;break;case 7:b.prototype.list=function(){var u01;u01=2;for(;u01 !== 1;){switch(u01){case 2:return this.xj;break;case 4:return this.xj;break;u01=1;break;}}};b.prototype.Aqa=function(a){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 2:this.UN !== a && (this.UN=a,this.VW());v01=1;break;}}};b.prototype.kR=function(a,b){var w01;w01=2;for(;w01 !== 4;){switch(w01){case 5:return b;break;case 1:w01=(b=a.headers[b])?5:4;break;case 9:w01=(a=this.Ge[a])?7:5;break;w01=(a=this.Ge[a])?1:4;break;case 2:w01=(a=this.Ge[a])?1:4;break;}}};b.prototype.kDb=function(a,b){var x01,c,d;x01=2;for(;x01 !== 5;){switch(x01){case 2:(c=this,d=this.ySa(a));return d || !this.hf?M.resolve(d):(this.vp?this.Vcb(a,b):this.Ucb(a,b)).then(function(a){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:return c.MWa(a);break;case 4:return c.MWa(a);break;y01=1;break;}}});break;}}};j01=12;break;case 32:b.prototype.wab=function(a,b){var j11;j11=2;for(;j11 !== 1;){switch(j11){case 2:this.LDa(a,b);j11=1;break;}}};b.prototype.LDa=function(a,b){var k11,c;k11=2;for(;k11 !== 4;){switch(k11){case 1:k11=(b=this.Ge[a.u] || b)?5:4;break;case 2:c=a.Ca;k11=1;break;case 5:(b.kHa || b.Md && !this.vp || (b.kHa=!0,++this.Ny),b.headers || (b.headers={}),b.headers[c]=a,this.Km.WP && (b.Gr || (b.Gr=0),++b.Gr),this.VW());k11=4;break;}}};b.prototype.VW=function(){function a(a){var m11;m11=2;for(;m11 !== 5;){switch(m11){case 2:a.abort();d+=a.Pe;m11=5;break;}}}var l11,b,c,d;l11=2;for(;l11 !== 12;){switch(l11){case 1:l11=!(this.Ny <= this.UN)?5:12;break;case 2:d=0;l11=1;break;case 5:l11=this.Ny > this.UN?4:13;break;case 9:l11=c.data?8:7;break;case 3:b=c.u;l11=9;break;case 4:l11=(c=this.xj.shift())?3:5;break;case 7:delete this.Ge[b];--this.Ny;l11=14;break;case 8:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}l11=7;break;case 13:this.Reb(d);l11=12;break;case 14:this.Qeb(b);l11=5;break;}}};b.prototype.Reb=function(a){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:var W0Z="di";W0Z+="scarded";W0Z+="Bytes";0 !== a && (a={type:W0Z,bytes:a},this.emit(a.type,a));n11=1;break;}}};b.prototype.Teb=function(a){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 2:var z0Z="fl";z0Z+="u";z0Z+="she";z0Z+="d";z0Z+="Bytes";0 !== a && (a={type:z0Z,bytes:a},this.emit(a.type,a));o11=1;break;}}};b.prototype.Qeb=function(a){var p11;p11=2;for(;p11 !== 5;){switch(p11){case 2:var K0Z="cac";K0Z+="h";K0Z+="e";K0Z+="E";K0Z+="vict";a={type:K0Z,movieId:a};this.emit(a.type,a);p11=5;break;}}};b.prototype.$eb=function(a,b){var q11,c;q11=2;for(;q11 !== 3;){switch(q11){case 4:c.O5 || 0 !== Object.keys(this.KN).length || this.oEa();q11=3;break;case 2:c=a.Yc;h.X(a.cYa) || this.SX(a,a.cYa);!this.hf || !a.Md || this.vp || h.X(a.tA) || a.tA[a.Ca] && a.tA[a.Ca].header?b():this.hf.jNb(a,b);q11=4;break;}}};j01=42;break;case 42:b.prototype.lfb=function(a,b){var r11;r11=2;for(;r11 !== 4;){switch(r11){case 2:var L0Z="pr";L0Z+="ebuff";L0Z+="stats";a.Ob.H3=b;a={type:L0Z,movieId:a.u,stats:{prebuffstarted:a.Ob.uK,prebuffcomplete:a.Ob.H3}};this.emit(a.type,a);r11=4;break;}}};b.prototype.Vcb=function(a,b){var s11,c;s11=2;for(;s11 !== 5;){switch(s11){case 2:var p0Z="Me";p0Z+="dia cache is no";p0Z+="t enab";p0Z+="led";c=this;return this.hf?this.hf.JCb(a,b).then(function(b){var t11;t11=2;for(;t11 !== 5;){switch(t11){case 2:t11=b && b.sk?1:5;break;case 1:return (c.Ge[a]=b.sk,++c.Ny,c.VW(),c.xj.push(b.sk),c.xj.sort(c.P3),c.MDa(a,b),c.cache[a]);break;}}}):M.reject(p0Z);break;}}};b.prototype.Ucb=function(a,b){var u11,d,f,c;u11=2;for(;u11 !== 8;){switch(u11){case 5:(d=void 0,f=!1);this.hf.kRa(this.Ge[a])?(d=M.resolve(this.Ge[a]),f=!0):d=this.hf.NCb(a);u11=3;break;case 2:c=this;u11=1;break;case 1:u11=this.hf?5:9;break;case 3:return d.then(function(d){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return !h.X(d) && c.hf?c.hf.ICb(a,b,d).then(function(b){var w11;w11=2;for(;w11 !== 5;){switch(w11){case 2:b && (f || (c.Ge[a]=d,++c.Ny,c.VW(),c.xj.push(d),c.xj.sort(c.P3)),c.MDa(a,b));return c.Ge[a];break;}}}):M.resolve(void 0);break;}}});break;case 9:var u0Z="Media cache is ";u0Z+="not";u0Z+=" enabled";return M.reject(u0Z);break;}}};b.prototype.MDa=function(a,b){var x11,d,f,c,g;x11=2;for(;x11 !== 7;){switch(x11){case 5:(d=this.Ge[a],f=b.headers);d && f && Object.keys(f).forEach(function(a){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 4:c.wab(f[a],d);y11=7;break;y11=1;break;case 2:c.wab(f[a],d);y11=1;break;}}});x11=3;break;case 3:x11=b.data?9:7;break;case 2:c=this;x11=1;break;case 9:g=b.data;Object.keys(g).forEach(function(a){var z11,b,c;z11=2;for(;z11 !== 9;){switch(z11){case 2:b=g[a];h.X(d.data) && (d.data={});h.X(d.data[a]) && (d.data[a]=[]);c=d.data;b.forEach(function(b){var A11;A11=2;for(;A11 !== 1;){switch(A11){case 2:c[a].push(b);A11=1;break;case 4:c[a].push(b);A11=4;break;A11=1;break;}}});z11=9;break;}}});x11=7;break;case 1:x11=b?5:7;break;}}};j01=38;break;case 38:b.prototype.P3=function(a,b){var B11;B11=2;for(;B11 !== 1;){switch(B11){case 4:return b.me % a.me;break;B11=1;break;case 2:return b.me - a.me;break;}}};b.prototype.MWa=function(a){var C11,b,c,d;C11=2;for(;C11 !== 11;){switch(C11){case 2:b={};C11=1;break;case 5:for(c in a.data){d=a.data[c];0 < d.length && (b[d[0].I]={Ca:c,Yp:a.headers[c],data:d});}b.Pm=a.Pm;b.Gr=a.Gr;C11=9;break;case 1:C11=a && a.data?5:11;break;case 14:b.$k=a.$k;b.al=a.al;return b;break;case 9:b.Ob=a.Ob;b.Vp=a.Vp;b.aq=a.aq;b.Hr=a.Hr;C11=14;break;}}};b.prototype.gJa=function(a,b,c,d,f,g){var D11;D11=2;for(;D11 !== 8;){switch(D11){case 1:var o0Z="d";o0Z+="e";o0Z+="fa";o0Z+="u";o0Z+="lt";a=E[o0Z](f,g);D11=5;break;case 3:var U0Z="selectStream r";U0Z+="etu";U0Z+="rned null";la(U0Z);D11=8;break;case 4:return (c=c[b.fd],c.aq=b.reason,c.Hr=b.ku,c.gzb=b.$k,c.c1=b.al,c);break;case 9:var D0Z="updateStreamSelec";D0Z+="tion ret";D0Z+="urned null lis";D0Z+="t";la(D0Z);D11=8;break;case 2:D11=b.location.GL(a,c)?1:9;break;case 5:D11=(b=b.stream[d?1:0].I4(b.R,c,void 0,d?a.pS:a.Px))?4:3;break;}}};b.prototype.lPa=function(a,b,c,d,f,g,h){var E11,n,q,k,l,m;E11=2;for(;E11 !== 10;){switch(E11){case 8:h.Zk(b.gd,L.Kc.qd).forEach(function(a){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:(a.mu?m:l).push(a);F11=1;break;}}});b=[];d && 0 !== l.length && (n=this.gJa(a,c,l,k,f,g)) && b.push(n);E11=13;break;case 4:q=new R.GW(D);q.yq(h);E11=9;break;case 11:h=R.mD(f);E11=8;break;case 2:void 0 === h && (h=[]);(k=b.I === x.Sa.VIDEO,l=[],m=[]);E11=5;break;case 9:h=R.nD(f,q);E11=8;break;case 5:E11=k?4:11;break;case 13:n || (n=this.gJa(a,c,m,k,f,g)) && b.push(n);return b;break;}}};b.prototype.Kxb=function(a,b,c,d,f,g,k){var G11,q,n,l,u,t;G11=2;for(;G11 !== 18;){switch(G11){case 12:G11=h.X(t) && h.X(u)?11:10;break;case 5:q=new m.pU(Number(c.movieId),{eb:0,ta:c,ml:void 0,mb:function(){var H11;H11=2;for(;H11 !== 1;){switch(H11){case 2:return !0;break;}}},Ema:{A1:! !f,cla:!1},gi:!1,config:g,Xja:void 0,jQ:void 0,qb:a.qb,Of:a.Of,cK:void 0,oha:void 0,XE:void 0});q.Qb();n=q.Rr[0];G11=9;break;case 2:l=this;void 0 === k && (k=[]);G11=5;break;case 11:var Q0Z="Unable to find audio nor";Q0Z+=" video tra";Q0Z+="cks in manifest:";la(Q0Z,d);G11=18;break;case 6:q.getTracks(1).some(function(a){var I11;I11=2;for(;I11 !== 3;){switch(I11){case 8:I11=a.vx.stereo?0:6;break;I11=a.vx.stereo?1:5;break;case 2:I11=a.vx.stereo?1:5;break;case 7:return -7;break;I11=5;break;case 1:return !1;break;case 5:t=l.lPa(q.la,a,b,f,g,n,k);return !0;break;}}});q.getTracks(0).some(function(a){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:return a.jb === d?(u=l.lPa(q.la,a,b,f,g,n),!0):!1;break;}}});G11=12;break;case 9:a=I.$l();b.R.buffer.Ip=a[x.Sa.VIDEO];G11=6;break;case 10:G11=h.X(u) && d?20:19;break;case 20:var q0Z="Una";q0Z+="ble to find req";q0Z+="uested audio track in manifest:";la(q0Z,d);G11=18;break;case 19:return [].concat(t || []).concat(u || []);break;}}};b.prototype.Iqa=function(a,b){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:return a === x.Sa.VIDEO && b.xI || a === x.Sa.AUDIO;break;}}};j01=51;break;case 51:b.prototype.dc=function(a){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 2:return ! !a.dc;break;}}};return b;break;}}})(l.Is);b.Dwa=a;B(d.EventEmitter.prototype,a.prototype);},function(d,b,a){var c,g,h,m,f,q,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;c=a(0);g=a(16);a(5);h=a(958);m=a(8);f=a(245);q=a(10);d=a(39);l=a(969);n=l.hya;a=(function(){function a(a,b,c){var N11;N11=2;for(;N11 !== 12;){switch(N11){case 2:var t0Z="med";t0Z+="ia";t0Z+="|asejs";var m0Z="MEDIA";m0Z+="CACH";m0Z+="E";this.G=new b.Console(m0Z,t0Z);this.$ca=(a.kB || a.msa) && 0 < (a.Gz || (b.options || ({})).OJ || 0);this.Pbb=a.urb?a.urb:!1;this.vp=a.Hma?a.Hma:!1;N11=3;break;case 6:var Y0Z="1";Y0Z+="SIYbZrNJCp";Y0Z+="9";var s0Z="c";s0Z+="at";s0Z+="ch";var G0Z="Med";G0Z+="i";G0Z+="a cache h";G0Z+="as not been initiaiz";G0Z+="ed";this.bo=Promise.reject(G0Z);this.bo[s0Z](function(){});Y0Z;N11=12;break;case 3:this.ddb=a.rTa?a.rTa:!1;this.H=a;this.Lm=b;this.Oe=c;N11=6;break;}}}var M11;M11=2;for(;M11 !== 27;){switch(M11){case 8:a.prototype.iNb=function(a,b,c){var n21,d,f,g,h,k;n21=2;for(;n21 !== 14;){switch(n21){case 2:(d=this,f=a.response);n21=1;break;case 6:var w0Z="Unable to save frag";w0Z+="ment because response is not an ArrayB";w0Z+="uffer";c(Error(w0Z));n21=14;break;case 1:n21=f instanceof ArrayBuffer?5:6;break;case 5:(g=this.Lm.time.da(),h=[a.u,a.Ca,a.Wb].join("."));a=l.Tia(a);k={};k[h + "." + n.a9]={ep:a,Ld:n.vy};n21=8;break;case 8:m.X(f) || (k[h + "." + n.f8a]={ep:f,Ld:n.vy});this.Mi.FYa(n.Jk,k,function(a){var o21;o21=2;for(;o21 !== 5;){switch(o21){case 2:var J0Z="Fail";J0Z+="ed ";J0Z+="to";J0Z+=" save";J0Z+=" fragment";a?d.G.warn(J0Z,a):(a=d.Lm.time.da() - g,m.X(b.Ob.ip) && (b.Ob.ip=0),b.Ob.ip+=a);c();o21=5;break;}}});n21=14;break;}}};a.prototype.lNb=function(a){var p21,p,u,x,r,r21,U,ka,la,Y,s21,Q,F,N,ga,t21,u21,v21,w21,x21,y21,b,d,g,h,k,q,t;p21=2;for(;p21 !== 10;){switch(p21){case 4:p={};Object.keys(a.headers).forEach(function(b){var q21,c;q21=2;for(;q21 !== 5;){switch(q21){case 2:c=l.sOa(a.headers[b]);p[b]=c;q21=5;break;}}});p21=9;break;case 5:p21=a.headers?4:8;break;case 8:p21=a && a.data?7:13;break;case 7:(u={},x=a.data,r=Object.keys(a.data));try{r21=2;for(;r21 !== 7;){switch(r21){case 2:(U=c.__values(r),ka=U.next());r21=1;break;case 1:r21=!ka.done?5:7;break;case 5:(la=ka.value,Y=x[la],r={});r21=4;break;case 8:ka=U.next();r21=1;break;case 4:r21=Y?3:8;break;case 3:try{s21=2;for(;s21 !== 7;){switch(s21){case 9:r[N.Wb]={mediaType:ga.mediaType,streamId:ga.streamId,movieId:ga.movieId,bitrate:ga.bitrate,location:ga.location,serverId:ga.serverId,saveToDisk:ga.saveToDisk,offset:ga.offset,bytes:ga.bytes,timescale:ga.timescale,startTicks:ga.startTicks,durationTicks:ga.durationTicks,response:N.response};s21=8;break;case 2:(Q=(g=void 0,c.__values(Y)),F=Q.next());s21=1;break;case 4:s21=N instanceof f.nU && N.response instanceof ArrayBuffer && !m.X(N.Wb)?3:8;break;case 5:N=F.value;s21=4;break;case 1:s21=!F.done?5:7;break;case 3:ga=l.Tia(N);s21=9;break;case 8:F=Q.next();s21=1;break;}}}catch(ba){g={error:ba};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:var g0Z="r";g0Z+="e";g0Z+="t";g0Z+="urn";F && !F.done && (h=Q[g0Z]) && h.call(Q);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 1:throw g.error;v21=5;break;case 3:v21=g?0:6;break;v21=g?1:5;break;case 2:v21=g?1:5;break;case 9:throw g.error;v21=0;break;v21=5;break;}}}t21=1;break;}}}r21=9;break;case 9:u[la]=r;r21=8;break;}}}catch(ba){b={error:ba};}finally{w21=2;for(;w21 !== 1;){switch(w21){case 2:try{x21=2;for(;x21 !== 1;){switch(x21){case 2:var i0Z="re";i0Z+="tu";i0Z+="r";i0Z+="n";ka && !ka.done && (d=U[i0Z]) && d.call(U);x21=1;break;}}}finally{y21=2;for(;y21 !== 5;){switch(y21){case 1:throw b.error;y21=5;break;case 2:y21=b?1:5;break;}}}w21=1;break;}}}p21=14;break;case 14:t.data=u;p21=13;break;case 2:(k=this,q=this.Lm.time.da(),t={},u=l.Zia(a));t.movieEntry=u;p21=5;break;case 9:t.headers=p;p21=8;break;case 13:b={lifespan:259200};this.ddb && (b.convertToBinaryData=!0);this.Mi.save(n.Jk,a.u,t,b,function(a){var z21;z21=2;for(;z21 !== 1;){switch(z21){case 2:var b0Z="saveto";b0Z+="d";b0Z+="isk";a || k.YK(b0Z,{GYa:k.Lm.time.da() - q});z21=1;break;}}});p21=10;break;}}};a.prototype.kRa=function(a){var A21;A21=2;for(;A21 !== 1;){switch(A21){case 2:return !(m.X(a) || m.Xa(a) || m.X(a.Ob) || m.Xa(a.Ob) || m.X(a.u) || m.Xa(a.u) || m.X(a.me) || m.Xa(a.me));break;}}};M11=14;break;case 2:a.prototype.Ib=function(a,b){var O11,c;O11=2;for(;O11 !== 4;){switch(O11){case 2:var Z0Z="c";Z0Z+="a";Z0Z+="t";Z0Z+="c";Z0Z+="h";var M0Z="Med";M0Z+="ia cac";M0Z+="he is d";M0Z+="isabled";c=this;this.$ca?this.bo=new Promise(function(d,f){var P11;P11=2;for(;P11 !== 1;){switch(P11){case 2:(void 0 !== b && null !== b?b.lJ:function(a){var Q11;Q11=2;for(;Q11 !== 1;){switch(Q11){case 2:return h.lJ(c.Lm,c.H,a);break;}}})(function(b){var R11,g;R11=2;for(;R11 !== 4;){switch(R11){case 2:var H0Z="Media cache ";H0Z+="did not";H0Z+=" initialize";c.Mi=b;g=b.dm;(b=b.ZD)?f(b):g?(c.mPb(a),d()):f(Error(H0Z));R11=4;break;}}});P11=1;break;}}}):(this.bo=Promise.reject(M0Z),this.bo[Z0Z](function(){}));return this.bo;break;}}};a.prototype.NCb=function(a){var S11,b,c,d;S11=2;for(;S11 !== 5;){switch(S11){case 2:(b=this,c=[n.AV,a].join("."),d=this.Lm.time.da());return this.bo.then(function(){var T11;T11=2;for(;T11 !== 1;){switch(T11){case 2:return new Promise(function(f){var U11;U11=2;for(;U11 !== 1;){switch(U11){case 2:b.Mi.PE(n.Jk,c,function(c){var V11,g;V11=2;for(;V11 !== 3;){switch(V11){case 2:V11=!c || 0 >= c.length?1:5;break;case 5:g=c[0];b.Mi.read(n.Jk,g,function(c,d){var W11,h,k,X11;W11=2;for(;W11 !== 13;){switch(W11){case 2:var I0Z=" fai";I0Z+="l";I0Z+="ed";var a0Z="Reading movi";a0Z+="e ";a0Z+="entry";a0Z+=" ";c && b.G.warn(a0Z + g + I0Z,c);W11=5;break;case 6:m.X(k) || m.Xa(k) || (k.Ob=k.Ob || ({}),k.headers=k.headers || ({}));b.kRa(k)?f(k):(b.gfb(a),f());W11=13;break;case 5:W11=!m.X(d)?4:8;break;case 4:W11=d instanceof ArrayBuffer?3:9;break;case 8:m.X(h) || (k=l.Yia(h));W11=6;break;case 9:h={priority:d.priority,movieId:d.movieId,saveToDisk:d.saveToDisk,firstSelectedStreamBitrate:d.firstSelectedStreamBitrate,initSelectionReason:d.initSelectionReason,histDiscountedThroughputValue:d.histDiscountedThroughput,histTdigest:d.histTdigest,histAge:d.histAge,headerCount:d.headerCount,dataRequestCount:d.dataRequestCount,headerRequestCount:d.headerRequestCount,stats:d.stats};W11=8;break;case 3:try{X11=2;for(;X11 !== 1;){switch(X11){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));X11=1;break;}}}catch(D){}W11=8;break;}}});V11=3;break;case 1:var X0Z="me";X0Z+="d";X0Z+="iacachelook";X0Z+="up";(f(),b.YK(X0Z,{j2:b.Lm.time.da() - d,EZ:!1}));V11=3;break;}}});U11=1;break;}}});break;}}});break;}}};M11=5;break;case 5:a.prototype.ICb=function(a,b,c){var Y11,d,f;Y11=2;for(;Y11 !== 9;){switch(Y11){case 6:Y11=-this.bo?8:6;break;Y11=!this.bo?5:4;break;case 2:d=this;Y11=1;break;case 5:var C0Z="Media cache is ";C0Z+="not enabl";C0Z+="ed";return Promise.reject(C0Z);break;case 1:Y11=!this.bo?5:4;break;case 14:return Promise.reject("");break;Y11=4;break;case 4:f=this.Lm.time.da();return this.bo.then(function(){var Z11;Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:return new Promise(function(g){var a21;a21=2;for(;a21 !== 1;){switch(a21){case 2:d.Mi.PE(n.Jk,a,function(h){var b21;b21=2;for(;b21 !== 5;){switch(b21){case 2:h=h.reduce(function(a,b){var c21,c;c21=2;for(;c21 !== 9;){switch(c21){case 1:var V0Z="d";V0Z+="rm";V0Z+="Header.__embed__";c21=-1 !== c.indexOf(V0Z)?5:4;break;case 2:c=b.substr(0,b.lastIndexOf("."));c21=1;break;case 6:var P0Z="d";P0Z+="rmHeader";P0Z+=".__emb";P0Z+="e";P0Z+="d__";c21=!8 === c.indexOf("")?0:9;break;c21=-1 !== c.indexOf(P0Z)?5:4;break;case 14:return a;break;c21=4;break;case 5:return a;break;case 4:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});d.yKb(h,b).then(function(b){var d21,h,k;d21=2;for(;d21 !== 8;){switch(d21){case 1:return g();break;case 2:d21=void 0 === c || void 0 === b?1:5;break;case 5:var k0Z="No co";k0Z+="ntent data f";k0Z+="ound for";k0Z+=" ";(h=d.Lm.time.da() - f,k=!1);m.X(b) || m.X(b.data) || !m.qf(b.data)?d.G.trace(k0Z + a,c):k=!0;d21=3;break;case 3:var l0Z="me";l0Z+="d";l0Z+="iacach";l0Z+="elookup";d.YK(l0Z,{j2:h,EZ:k});g(b);d21=8;break;}}},function(){var e21;e21=2;for(;e21 !== 1;){switch(e21){case 2:g();e21=1;break;}}});b21=5;break;}}});a21=1;break;}}});break;}}});break;}}};a.prototype.JCb=function(a,b){var f21,c,d;f21=2;for(;f21 !== 5;){switch(f21){case 2:(c=this,d=this.Lm.time.da());return this.bo.then(function(){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 4:return c.eFa(a);break;g21=1;break;case 2:return c.eFa(a);break;}}}).then(function(f){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:h21=f?1:4;break;case 1:return c.Jeb(a.toString(),b,d);break;case 8:return c.Jeb(a.toString(),b,d);break;h21=4;break;case 4:var E0Z="mediaca";E0Z+="chel";E0Z+="ook";E0Z+="u";E0Z+="p";c.YK(E0Z,{j2:c.Lm.time.da() - d,EZ:!1});h21=5;break;}}});break;}}};a.prototype.kNb=function(a,b){var i21,c;i21=2;for(;i21 !== 5;){switch(i21){case 2:c=l.Zia(a);i21=1;break;case 1:this.Mi.save(n.Jk,[n.AV,a.u].join("."),c,n.vy,function(){var j21;j21=2;for(;j21 !== 1;){switch(j21){case 2:b();j21=1;break;}}});i21=5;break;}}};a.prototype.jNb=function(a,b){var k21,c,d,f,g,h,k;k21=2;for(;k21 !== 14;){switch(k21){case 4:k21=a.stream.je && !m.X(a.stream.aa)?3:6;break;case 2:(c=this,d=[a.u,a.Ca,n.x6a].join("."),f=this.Lm.time.da(),g=l.uOa(a),h={});h[d + "." + n.a9]={ep:g,Ld:n.vy};h[d + "." + n.X6a]={ep:q.Ut(a.qh.map(function(a){var l21;l21=2;for(;l21 !== 1;){switch(l21){case 2:return a.data;break;}}})),Ld:n.vy};k21=4;break;case 3:(g={timescale:a.stream.aa.P,startTicks:a.stream.aa.Ek,offset:a.stream.aa.uh(0)},k=a.stream.aa.fL);k21=9;break;case 9:h[d + "." + n.fwa]={ep:g,Ld:n.vy};h[d + "." + n.f6a]={ep:k.sizes.buffer,Ld:n.vy};k21=7;break;case 6:this.Mi.FYa(n.Jk,h,function(d){var m21;m21=2;for(;m21 !== 5;){switch(m21){case 2:d || (d=c.Lm.time.da() - f,a.sk && (m.X(a.sk.Ob.ip) && (a.sk.Ob.ip=0),a.sk.Ob.ip+=d));b();m21=5;break;}}});k21=14;break;case 7:h[d + "." + n.e6a]={ep:k.Sd.buffer,Ld:n.vy};k21=6;break;}}};M11=8;break;case 14:a.prototype.lDb=function(a){var B21,b,c;B21=2;for(;B21 !== 5;){switch(B21){case 2:(b=this,c=m.X(a)?"":a.toString());return new Promise(function(a){var C21,D21;C21=2;for(;C21 !== 4;){switch(C21){case 2:C21=m.X(b.Mi)?1:5;break;case 1:a();C21=4;break;case 5:try{D21=2;for(;D21 !== 1;){switch(D21){case 2:b.Mi.PE(n.Jk,"",function(b){var E21;E21=2;for(;E21 !== 5;){switch(E21){case 2:b=b.filter(function(a){var F21;F21=2;for(;F21 !== 5;){switch(F21){case 2:var f0Z="m";f0Z+="ovi";f0Z+="eEnt";f0Z+="ry";a=a.split(".");return c && (c === a[0] || f0Z === a[0] && c === a[1]);break;}}}).reduce(function(a,b){var G21,c;G21=2;for(;G21 !== 4;){switch(G21){case 2:var B0Z="mov";B0Z+="i";B0Z+="e";B0Z+="Entry";c=b.split(".");B0Z !== c[0] && (b=c[1],c=c[2],m.X(a[b]) && (a[b]={}),m.X(a[b][c]) && (a[b][c]=!0));return a;break;}}},{});a(b);E21=5;break;}}});D21=1;break;}}}catch(L){a();}C21=4;break;}}});break;}}};a.prototype.MCb=function(a,b){var H21,c;H21=2;for(;H21 !== 5;){switch(H21){case 2:c=this;H21=1;break;case 3:c=this;H21=2;break;H21=1;break;case 1:return b && b.headers && b.headers && 0 < Object.keys(b.headers).length && b.data?new Promise(function(a){var I21,c,d;I21=2;for(;I21 !== 8;){switch(I21){case 2:c={};b.headers && Object.keys(b.headers).forEach(function(a){var J21;J21=2;for(;J21 !== 5;){switch(J21){case 2:c[a] || (c[a]={});c[a].header=!0;J21=5;break;}}});I21=5;break;case 5:I21=b.data?4:9;break;case 3:Object.keys(d).forEach(function(a){var K21;K21=2;for(;K21 !== 5;){switch(K21){case 2:c[a] || (c[a]={});d[a].forEach(function(b){var L21;L21=2;for(;L21 !== 1;){switch(L21){case 2:m.X(b.Wb) || (c[a][b.Wb]=!0);L21=1;break;}}});K21=5;break;}}});I21=9;break;case 9:return a(c);break;case 4:d=b.data;I21=3;break;}}}):this.eFa(a).then(function(b){var M21;M21=2;for(;M21 !== 5;){switch(M21){case 2:M21=b?1:5;break;case 1:return new Promise(function(b){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 2:c.Mi.read(n.Jk,a,function(c,d){var O21,f,g;O21=2;for(;O21 !== 5;){switch(O21){case 1:b();O21=5;break;case 4:O21=m.X(d)?3:9;break;case 2:O21=c?1:4;break;case 3:b(void 0);O21=5;break;case 9:(f=d[a],g={});f.headers && Object.keys(f.headers).forEach(function(a){var P21;P21=2;for(;P21 !== 5;){switch(P21){case 2:g[a] || (g[a]={});g[a].header=!0;P21=5;break;}}});O21=7;break;case 7:f.data && Object.keys(f.data).forEach(function(a){var Q21;Q21=2;for(;Q21 !== 5;){switch(Q21){case 2:g[a] || (g[a]={});Object.keys(f.data[a]).forEach(function(b){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:g[a][b]=!0;R21=1;break;}}});Q21=5;break;}}});b(g);O21=5;break;}}});N21=1;break;}}});break;}}});break;}}};M11=12;break;case 12:a.prototype.xwb=function(){var S21,a;S21=2;for(;S21 !== 5;){switch(S21){case 2:var N0Z="M";N0Z+="edi";N0Z+="a cache is not enabled";a=this;return this.bo?this.bo.then(function(){var T21;T21=2;for(;T21 !== 1;){switch(T21){case 2:return new Promise(function(b){var U21;U21=2;for(;U21 !== 1;){switch(U21){case 2:a.Mi.PE(n.Jk,n.AV,function(a){var V21,c;V21=2;for(;V21 !== 9;){switch(V21){case 2:V21=!a || 0 >= a.length?1:5;break;case 6:b([]);V21=2;break;V21=9;break;case 5:c=[];a.forEach(function(a){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:a && a.length && (a=a.split(".")) && 1 < a.length && c.push(a[1]);W21=1;break;}}});b(c);V21=9;break;case 1:b([]);V21=9;break;}}});U21=1;break;}}});break;}}}):Promise.reject(N0Z);break;}}};a.prototype.YK=function(a,b){var X21,c;X21=2;for(;X21 !== 9;){switch(X21){case 4:var O0Z="medi";O0Z+="acach";O0Z+="e";c.oneObject=this.vp;this.Pbb && this.emit(O0Z,c);X21=9;break;case 2:var v0Z="me";v0Z+="d";v0Z+="ia";v0Z+="cachelookup";var S0Z="save";S0Z+="tod";S0Z+="isk";var F0Z="m";F0Z+="ediac";F0Z+="ache";F0Z+="stats";c={type:F0Z,operation:a};S0Z === a && (c.saveTime=b.GYa);v0Z === a && (c.lookupTime=b.j2,c.dataFound=b.EZ);X21=4;break;}}};a.prototype.yKb=function(a,b){var Y21,c,d;Y21=2;for(;Y21 !== 5;){switch(Y21){case 2:(c=this,d=Object.keys(a).map(function(b){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:return c.Nnb(a[b]);break;case 4:return c.Nnb(a[b]);break;Z21=1;break;}}}));return Promise.all(d).then(function(a){var a31;a31=2;for(;a31 !== 5;){switch(a31){case 2:a.sort(function(a,b){var b31;b31=2;for(;b31 !== 1;){switch(b31){case 2:return a.dc === b.dc?0:a.dc?-1:1;break;}}});return l.$ia(c.H,c.G,c.Oe,a,b);break;}}});break;}}};a.prototype.Nnb=function(a){var c31,b,c,d,f;c31=2;for(;c31 !== 5;){switch(c31){case 2:(b=this,f={});return new Promise(function(g,h){var d31,k;d31=2;for(;d31 !== 5;){switch(d31){case 3:d31=6;break;d31=1;break;case 2:d31=1;break;case 1:b.Mi.Z3(n.Jk,a,function(a,b){var e31,f31,m;e31=2;for(;e31 !== 1;){switch(e31){case 2:try{f31=2;for(;f31 !== 19;){switch(f31){case 9:var n0Z="Header ";n0Z+="fragments was an";n0Z+=" array buffer, is invalid type";n0Z+=" ";m=n0Z + k.Ca;f31=8;break;case 2:f31=a || void 0 === b?1:5;break;case 5:Object.keys(b).map(function(a){var g31,h31,h,g;g31=2;for(;g31 !== 3;){switch(g31){case 5:try{h31=2;for(;h31 !== 5;){switch(h31){case 2:h=new Uint8Array(b[a]);d=JSON.parse(String.fromCharCode.apply(null,h));h31=5;break;}}}catch(la){d=b[a];}g31=3;break;case 1:g31=g === n.a9?5:4;break;case 2:g=a.substr(a.lastIndexOf(".") + 1);g31=1;break;case 4:g === n.fwa?c=b[a]:f[g]=b[a];g31=3;break;}}});f31=4;break;case 10:var R0Z="Missing or inv";R0Z+="alid media data parts";R0Z+=" ";R0Z+="for stre";R0Z+="am ";return (m=R0Z + k.Ca,h(m));break;case 4:f31=l.fRa(d)?3:20;break;case 3:f31=c instanceof ArrayBuffer?9:7;break;case 6:f31=k.dc?14:11;break;case 12:g(k);f31=19;break;case 20:k=l.iia(d,{response:f.response});f31=6;break;case 1:return h(a);break;case 8:return h(m);break;case 14:f31=l.Vka(k)?13:12;break;case 13:var c0Z="Missi";c0Z+="ng or invalid hea";c0Z+="der data";c0Z+=" parts for stream";c0Z+=" ";return (m=c0Z + k.Ca,h(m));break;case 11:f31=l.Uka(k)?10:12;break;case 7:k=l.jia(d,f,c);f31=6;break;}}}catch(D){h(D);}e31=1;break;}}});d31=5;break;}}});break;}}};M11=19;break;case 19:a.prototype.Jeb=function(a,b,d){var i31,f;i31=2;for(;i31 !== 5;){switch(i31){case 2:f=this;return new Promise(function(g,h){var j31,k;j31=2;for(;j31 !== 5;){switch(j31){case 2:f.Mi.read(n.Jk,a,function(q,n){var k31,p31,E,P,q31,T,V,ia,Ha,r31,s31,t31,N,O,u31,v31,w31,l31,L,r,F,W,da,m31,n31,o31,t,u,p,x,y,B,I,z;k31=2;for(;k31 !== 4;){switch(k31){case 15:var e0Z="medi";e0Z+="aca";e0Z+="ch";e0Z+="elooku";e0Z+="p";f.YK(e0Z,{j2:f.Lm.time.da() - d,EZ:!0});g(k);k31=4;break;case 16:void 0 !== k && (k.sk=q);k31=15;break;case 3:k31=m.X(n)?9:8;break;case 9:g();k31=4;break;case 6:q=l.Yia(z.movieEntry);n=[];k31=13;break;case 1:k31=q?5:3;break;case 7:k31=z.movieEntry?6:15;break;case 18:try{p31=2;for(;p31 !== 9;){switch(p31){case 5:(E=O.value,P=Object.keys(t[E]));try{q31=2;for(;q31 !== 7;){switch(q31){case 5:(T=t[E][Ha.value],V=l.iia(T,T));q31=4;break;case 2:(ia=(y=void 0,c.__values(P)),Ha=ia.next());q31=1;break;case 3:var d8Z="Mi";d8Z+="ssing or inval";d8Z+="id media data parts for stream ";return (da=d8Z + V.Ca,h(da));break;case 4:q31=l.Uka(V)?3:9;break;case 8:Ha=ia.next();q31=1;break;case 1:q31=!Ha.done?5:7;break;case 9:n.push(V);q31=8;break;}}}catch(mb){y={error:mb};}finally{r31=2;for(;r31 !== 1;){switch(r31){case 2:try{s31=2;for(;s31 !== 1;){switch(s31){case 2:var r8Z="r";r8Z+="e";r8Z+="tu";r8Z+="r";r8Z+="n";Ha && !Ha.done && (B=ia[r8Z]) && B.call(ia);s31=1;break;}}}finally{t31=2;for(;t31 !== 5;){switch(t31){case 1:throw y.error;t31=5;break;case 2:t31=y?1:5;break;}}}r31=1;break;}}}p31=3;break;case 2:(N=c.__values(u),O=N.next());p31=1;break;case 1:p31=!O.done?5:9;break;case 6:p31=-O.done?3:0;break;p31=!O.done?5:9;break;case 3:O=N.next();p31=1;break;}}}catch(mb){p={error:mb};}finally{u31=2;for(;u31 !== 1;){switch(u31){case 2:try{v31=2;for(;v31 !== 1;){switch(v31){case 2:var h8Z="re";h8Z+="t";h8Z+="ur";h8Z+="n";O && !O.done && (x=N[h8Z]) && x.call(N);v31=1;break;}}}finally{w31=2;for(;w31 !== 5;){switch(w31){case 1:throw p.error;w31=5;break;case 2:w31=p?1:5;break;}}}u31=1;break;}}}k31=17;break;case 10:k31=z.data?20:17;break;case 11:try{l31=2;for(;l31 !== 12;){switch(l31){case 2:(L=c.__values(I),r=L.next());l31=1;break;case 8:F=l.jia(W,W,W.fragments);l31=7;break;case 6:var A8Z="Missing or in";A8Z+="valid header da";A8Z+="ta";A8Z+=" parts for stream ";return (da=A8Z + F.Ca,h(da));break;case 5:(E=r.value,W=z.headers[E]);l31=4;break;case 3:var T8Z="Header ";T8Z+="fragments was an array buffe";T8Z+="r, is invalid type ";da=T8Z + W.streamId;l31=9;break;case 13:r=L.next();l31=1;break;case 1:l31=!r.done?5:12;break;case 4:l31=W.fragments instanceof ArrayBuffer?3:8;break;case 14:n.push(F);l31=13;break;case 7:l31=l.Vka(F)?6:14;break;case 9:return h(da);break;}}}catch(mb){t={error:mb};}finally{m31=2;for(;m31 !== 1;){switch(m31){case 2:try{n31=2;for(;n31 !== 1;){switch(n31){case 2:var y8Z="re";y8Z+="t";y8Z+="u";y8Z+="r";y8Z+="n";r && !r.done && (u=L[y8Z]) && u.call(L);n31=1;break;}}}finally{o31=2;for(;o31 !== 5;){switch(o31){case 2:o31=t?1:5;break;case 1:throw t.error;o31=5;break;case 9:throw t.error;o31=3;break;o31=5;break;}}}m31=1;break;}}}k31=10;break;case 2:k31=1;break;case 20:t=z.data;u=Object.keys(t);k31=18;break;case 12:I=Object.keys(z.headers);k31=11;break;case 5:h(q);k31=4;break;case 8:z=n[a];k31=7;break;case 17:k=l.$ia(f.H,f.G,f.Oe,n,b);k31=16;break;case 13:k31=z.headers?12:10;break;}}});j31=5;break;}}});break;}}};a.prototype.eFa=function(a){var x31,b;x31=2;for(;x31 !== 5;){switch(x31){case 2:var x8Z="M";x8Z+="edia ";x8Z+="cache is not enabled";b=this;return this.bo?this.bo.then(function(){var y31;y31=2;for(;y31 !== 1;){switch(y31){case 2:return new Promise(function(c){var z31;z31=2;for(;z31 !== 1;){switch(z31){case 2:b.Mi.PE(n.Jk,a.toString(),function(b){var A31;A31=2;for(;A31 !== 1;){switch(A31){case 2:b && 0 !== b.length?1 === b.length && b[0] === a.toString()?c(!0):c(!1):c(!1);A31=1;break;}}});z31=1;break;}}});break;}}}):Promise.reject(x8Z);break;}}};a.prototype.gfb=function(a){var B31,d,f;B31=2;for(;B31 !== 4;){switch(B31){case 2:(d=this,f=a.toString());this.Mi.PE(n.Jk,[n.AV,a].join("."),c);this.Mi.PE(n.Jk,f,c);B31=4;break;}}function c(a){var D31;D31=2;for(;D31 !== 1;){switch(D31){case 2:a.map(b);D31=1;break;}}}function b(a){var C31;C31=2;for(;C31 !== 1;){switch(C31){case 2:var j8Z="de";j8Z+="let";j8Z+="e";d.Mi[j8Z](n.Jk,a);C31=1;break;}}}};a.prototype.mPb=function(a){var E31,b;E31=2;for(;E31 !== 4;){switch(E31){case 2:var K8Z="media";K8Z+="cac";K8Z+="he";K8Z+="-";K8Z+="error";var W8Z="mediaca";W8Z+="ch";W8Z+="e";b=new g.Yg();b.on(this.Mi,W8Z,function(b){var F31;F31=2;for(;F31 !== 4;){switch(F31){case 5:var z8Z="me";z8Z+="dia";z8Z+="cach";z8Z+="e";a.emit(z8Z,b);F31=4;break;case 2:F31=b.keys || b.items?1:5;break;case 7:a.emit("",b);F31=5;break;F31=4;break;case 1:b.keys || b.items.map(function(a){var G31;G31=2;for(;G31 !== 1;){switch(G31){case 4:return a.key;break;G31=1;break;case 2:return a.key;break;}}});F31=5;break;}}});b.on(this.Mi,K8Z,function(b){var H31;H31=2;for(;H31 !== 5;){switch(H31){case 2:var p8Z="m";p8Z+="e";p8Z+="diac";p8Z+="ach";p8Z+="e";var L8Z="e";L8Z+="rr";L8Z+="or";b.type=L8Z;a.emit(p8Z,b);H31=5;break;}}});E31=4;break;}}};return a;break;}}})();b.Gya=a;d.Ue(g.EventEmitter,a);},function(d,b,a){var c,g,h,m,f;c=a(8);h=[];f=!1;d.W={lJ:function(b,d,k){var l;if(f)c.oc(k) && (g.dm || g.ZD?setTimeout(function(){k(g);},0):h.push(k));else {f=!0;l=a(123);l.k1(b);m=new l.Console("MEDIACACHE","media|asejs");g=new (a(424))(d,function(a){a && m.warn("Failed to initialize MediaCache",a);c.oc(k) && setTimeout(function(){k(g);},0);h.map(function(a){setTimeout(function(){a(g);},0);});});}return g;},l3b:function(b,d){g=new (a(424))(b,function(a,b){a && m.warn("Failed to initialize MediaCache",a);c.oc(d) && setTimeout(function(){d(b);},0);});}};},function(d,b,a){var g,h,m,f,q;function c(a){this.Sj=a;this.context=a.context;this.vUa="NULLCONTEXT" === a.context?!0:!1;}g=a(8);h=a(123);m=new h.Console("DISKCACHE","media|asejs");f={context:"NULLCONTEXT",read:function(a,b,c,d,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.JC=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length - 1];a=a.slice(1,a.length - 1);a.push(function(a){c(null,a);});try{if(this.vUa)throw Error("Media Cache not supported");b.apply(this.Sj,a);}catch(x){c(x);}};c.prototype.query=function(a,b,c,d){try{if(this.vUa)throw Error("Media Cache not supported");this.Sj.query(a,b,function(a){c(null,a);},d);}catch(z){c(z);}};c.prototype.read=function(a,b,c,d,f){this.JC(this.Sj.read,a,b,c,d,f);};c.prototype.remove=function(a,b,c){this.JC(this.Sj.remove,a,b,c);};c.prototype.create=function(a,b,c,d){this.JC(this.Sj.create,a,b,c,d);};c.prototype.append=function(a,b,c,d){this.JC(this.Sj.append,a,b,c,d);};c.prototype.info=function(a){this.JC(this.Sj.info,a);};c.prototype.Es=function(a){this.JC(this.Sj.Es,a);};c.prototype.flush=function(a){this.JC(this.Sj.flush,a);};c.prototype.clear=function(){this.Sj.clear();};d.W={Qnb:function(a){var b,d,k,l,n;b=a.H2b || "NRDMEDIADISKCACHE";q=a.Gz || 0;0 !== q || g.X(h.options) || g.X(h.options.OJ) || (q=h.options.OJ);a=q;try{l=h.storage.tI;if(!l || !g.qf(l))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(k=l[b])(m.warn("Disk store exists, returning"),d=new c(k));else {if(g.X(h.storage) || !g.oc(h.storage.vZ) || h.options && 0 === h.options.OJ)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + a);n=h.storage.vZ({context:b,size:a,encrypted:!0,signed:!0});if(!n || !n.valid)throw "Failed to create disk store context";d=new c(n);}}catch(B){m.warn("Exception creating disk store context - returning NullContext (noops)",B);d=new c(f);}return d;},rvb:function(){return q;},LWb:c};},function(d,b,a){var q,l,n,t,p,z,y,B,L;function c(){}function g(b,d,f,k,n){var t;t=q.oc(k)?k:c;this.Xy=b;this.Hf=f.Ip;this.Wv=0;this.Ubb=f.esb || "NONE";this.Iv=q.X(n) || q.Xa(n)?0:n;this.Qd={};this.Rq=f.K4b || l.storage.oG;this.st=d;this.EH=p.create(this.st,f.Sob * this.Iv,this.Xy);this.on=this.addEventListener=L.addEventListener;this.removeEventListener=L.removeEventListener;this.emit=this.Pa=L.Pa;this.VEa=m(this,g.Zd.REPLACE);this.Acb=m(this,g.Zd.CDa);this.CC;this.CC=f.C1a?a(965):a(966);this.st.query(this.Rq,this.Vo(""),(function(a,b){var c;if(a)t(a);else {c=this.EH.Mia();a=Object.keys(b).filter(function(a){return a !== c && z.pJ(a);}).map(this.Qra.bind(this));this.Z3(a,(function(a,c){Object.keys(c).map((function(a){var d,f;d=c[a];this.Qd[z.x_(a)]=d;if(d.Jpa && 1 < Object.keys(d.Jpa).length){f=0;Object.keys(d.Jpa).forEach((function(a){b[this.Vo(a)] && q.pa(b[this.Vo(a)].size) && (f+=b[this.Vo(a)].size);}).bind(this));a=z.x_(a);this.Qd[a].size=f;}else (a=z.x_(a),b[this.Vo(a)] && (this.Qd[a].size=b[this.Vo(a)].size));}).bind(this));h(this.st,this.Rq,this.Xy,(function(a,b){this.Wv=b;a?t(a):t(null,this);}).bind(this));}).bind(this));}}).bind(this));}function h(a,b,d,f){var g;g=q.oc(f)?f:c;a.query(b,d,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a + (b[c].size || 0);},0),g(null,a));});}function m(a,b){return function(c,d,f,k,m){return function(n,t){var u;if(n)(d || a.Pa(g.Zd.ERROR,{itemKey:c,error:n}),f(n));else {u={Aj:0,duration:0,items:[],time:l.time.now()};Object.keys(t.mo).map(function(b){var c;c=t.mo[b];b={key:a.Qra(c.kA),Rh:b};c.ia?(u.Aj+=c.Aj,b.N1=c.Aj,q.pa(c.duration) && (u.duration+=c.duration)):b.error=c.error;u.items.push(b);});n=q.oc(k)?k():0;0 < m && (u.hI=m - n);h(a.st,a.Rq,a.Xy,function(c,g){c?f(c):(a.Wv=g,u.jk=a.Hf - g,d || a.Pa(b,B.UNa(u)),f(null,u));});}};};}function f(a,b){return 0 < b && a >= b?!0:!1;}q=a(8);l=a(123);n=a(253);b=a(62);t=new l.Console("MEDIACACHE","media|asejs");p=a(961);z=a(425);y=a(124);B=a(254);L=a(125).EventEmitter;b({Zd:{CDa:"writeitem",REPLACE:"replaceitem",C8:"journalupdate",ERROR:"mediacache-error"}},g);g.prototype.getName=function(){return this.Xy;};g.prototype.Qra=function(a){return a.slice(this.Xy.length + 1);};g.prototype.Eia=function(){return Object.keys(this.Qd).filter((function(a){a=z.bia(this.Qd[a]);return void 0 === a || 0 >= a.bKa();}).bind(this));};g.prototype.Jwb=function(){return Object.keys(this.Qd).reduce((function(a,b){var c;c=this.Qd[b];return c && c.creationTime < a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}).bind(this),{resourceKey:null,creationTime:l.time.now()}).R5b;};g.prototype.Evb=function(){var a;switch(this.Ubb){case "FIFO":a=this.Jwb();}return a;};g.prototype.Fpb=function(a){var b;b=q.oc(a)?a:c;this.AOa((function(c){var d,f,g;d=this.Qd;f=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex && Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return !z.pJ(a) && 0 > f.indexOf(a);})) && 0 < c.length){g=this;c=l.Promise.all(c.map(function(a){return new l.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){b(void 0,{jpa:!0});},function(a){b(a,{jpa:!1});});B.Gu(c);}else a(void 0,{jpa:!1});}).bind(this));};g.prototype.SKb=function(a,b,d){var f,g;f=q.oc(b)?b:c;b=this.Vo(a);g=l.time.now();this.st.read(this.Rq,b,0,-1,(function(b,c){var h;if(b)f(b);else if(c && c.ia && c.value){q.oc(d) || (d=this.CC.pQ(y.mp.zB),z.pJ(a)?d=this.CC.pQ(y.mp.OBJECT):(b=this.Qd[a],!q.X(b) && q.pa(b.resourceIndex[a])?(b=b.resourceIndex[a],q.X(b) && (b=y.mp.zB),d=this.CC.pQ(b)):t.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=d(c.value);}catch(ka){return f(n.xG.kp(ka.message));}c={duration:l.time.now() - g};this.Qd[a] && q.pa(this.Qd[a].size) && (c.qw=q.pa(this.Qd[a].size)?this.Qd[a].size:0);f(null,h,c);}else f(n.xG.kp(c.error));}).bind(this));};g.prototype.read=function(a,b,c){this.SKb(a,b,c);};g.prototype.Z3=function(a,b,d){var f,g,h;f=q.oc(b)?b:c;if("[object Array]" !== Object.prototype.toString.call(a))f(n.xG.kp("item keys must be an array"));else {g={};h=[];a=l.Promise.all(a.map((function(a){return new l.Promise((function(b,c){var f;d && !q.X(d[a]) && (f=this.CC.pQ(d[a]));this.read(a,function(d,f,k){d?(f={},f[a]=d,c(f)):(g[a]=f,h.push({duration:k.duration,qw:k.qw}),b());},f);}).bind(this));}).bind(this))).then(function(){var a;a={};0 < h.length && (a=h.reduce(function(a,b){q.pa(b.duration) && (a.duration+=b.duration);q.pa(b.qw) && (a.qw+=b.qw);return a;},{duration:0,qw:0}));f(null,g,a);},function(a){f(a);});B.Gu(a);}};g.prototype.write=function(a,b,d,g,h){var k,l,m;d=q.oc(d)?d:c;k=this.Vo(a);l="function" === typeof h?h():0;m=y.Cja(b);m=this.CC.pja(m)(b);m.byteLength + this.Wv >= this.Hf?d(n.LF):f(m.byteLength + l,this.Iv)?d(n.KW):this.EH.save(this.Rq,k,b,this.Acb(a,g,d,h,this.Iv),m.byteLength);};g.prototype.replace=function(a,b,d,g,h){var k,l,m,u;k=q.oc(d)?d:c;l=this.Vo(a);m=0;"function" === typeof h && (m=h());d=y.Cja(b);u=this.CC.pja(d)(b);d=(this.Qd[a] || ({})).size || 0;0 >= d && this.Qd[a]?this.VOa([a],(function(c){t.trace("Replacing key",a,"which exists:",! !this.Qd[a],this.Qd[a]?this.Qd[a]:void 0,"and has size",c,"with",b,"with size",u.byteLength,"plus _used",this.Wv,"vs capacity",this.Hf);u.byteLength - c + this.Wv >= this.Hf?k(n.LF):f(u.byteLength - c + m,this.Iv)?k(n.KW):this.EH.replace(this.Rq,l,b,this.VEa(a,g,k,h,this.Iv),u.byteLength);}).bind(this)):(t.trace("Replacing key",a,"which exists:",! !this.Qd[a],this.Qd[a]?this.Qd[a]:void 0,"and has size",d,"with",b,"with size",u.byteLength,"plus _used",this.Wv,"vs capacity",this.Hf),u.byteLength - d + this.Wv >= this.Hf?k(n.LF):f(u.byteLength - d + m,this.Iv)?k(n.KW):this.EH.replace(this.Rq,l,b,this.VEa(a,g,k,h,this.Iv),u.byteLength));};g.prototype.fMb=function(a,b,d,f){var h;h=q.oc(b)?b:c;"[object Object]" !== Object.prototype.toString.call(a)?h(n.JW.kp("items must be a map of keys to objects")):(b=l.Promise.all(Object.keys(a).map((function(b){return new l.Promise((function(c){this.replace(b,a[b],function(a,d){a?c({error:a,ep:b}):c(d);},!0,f);}).bind(this));}).bind(this))).then((function(a){var b,c,k,m;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error || (a.Aj+=c.Aj,q.pa(c.duration) && (a.duration+=c.duration),!q.X(c.jk) && c.jk < b && (b=c.jk),c.items.map(function(b){a.items.push({key:b.key,Rh:b.Rh,N1:b.N1,dDb:b.dDb,duration:b.duration});}),b < Number.MAX_VALUE && (a.jk=b));return a;},{Aj:0,items:[],time:l.time.now(),duration:0});0 < this.Iv && (c.hI=this.Iv - f());k=a.filter(function(a){return !q.X(a.error);});m=B.KPa(k);d || (m?m.forEach((function(a){this.Pa(g.Zd.ERROR,a);}).bind(this)):this.Pa(g.Zd.REPLACE,B.UNa(c)));h(m,c);}catch(Y){h(Y);}}).bind(this),(function(a){d || this.Pa(g.Zd.ERROR,a);h(a);}).bind(this)),B.Gu(b));};g.prototype["delete"]=function(a,b){var d;d=q.oc(b)?b:c;this.st.remove(this.Rq,this.Vo(a),(function(a,b){a?d(a):b && b.ia?h(this.st,this.Rq,this.Vo(""),(function(a,b){a?d(a):(this.Wv=b,d());}).bind(this)):d(n.P4a.kp(b.error));}).bind(this));};g.prototype.AOa=function(a){this.query("",function(b,c){b?(t.error("Failed to get keys",b),a([])):a(c);});};g.prototype.query=function(a,b){var d,f;d=q.oc(b)?b:c;f=this.EH.Mia();this.st.query(this.Rq,this.Vo(a),(function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a !== f;}).map(this.Qra.bind(this)));}).bind(this));};g.prototype.Vo=function(a){return this.Xy + "." + a;};g.prototype.clear=function(a){var b;b=q.oc(a)?a:c;this.AOa((function(a){var c;c=l.Promise.all(a.map((function(a){return new l.Promise((function(b){a && this["delete"](a,function(){b();});}).bind(this));}).bind(this))).then(function(){b(a);},(function(a){this.Pa(g.Zd.ERROR,a);b([],a);}).bind(this));B.Gu(c);}).bind(this));};g.prototype.VOa=function(a,b){var d,f;d=q.oc(b)?b:c;f=(a || []).map((function(a){return this.Vo(a);}).bind(this));this.st.query(this.Rq,this.Xy,(function(b,c){b?(t.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0 <= f.indexOf(a);}).reduce(function(a,b){return a + (c[b].size || 0);},0),d(b));}).bind(this));};g.prototype.Pub=function(a){return this.EH.NNa(a);};g.prototype.constructor=g;d.W=g;},function(d,b,a){var g,h,m,f,q,l,n,t;function c(a,b,d){var r,M;function k(a,b,c,d){a.info.call(a,(function(a,f){var g;if(a)d(a);else {try{g=f.values[this.context].entries[b][c].size;}catch(va){g=-1;}-1 < g?d(null,g):this.Es(function(a,b){a?d(a):(b[c] && (g=b[c].size),d(null,g));});}}).bind(a));}function u(a,b,d,f,g,l,m){var t;l?l.mo || (l.mo={}):l={mo:{}};r(f);t=h.time.now();f=new n(function(c,f){a.create(h.storage.oG,b,d,function(a,b){a?f(a):c(b);});}).then(function(d){d.ia?k(a,h.storage.oG,b,function(a,f){a?m(a):(M(f),r(f),l.mo[c.jU.C8]={ia:!0,time:g,Aj:f,kA:b,eXa:d,duration:h.time.now() - t},l.jk=d.jk,m(null,l));}):(l.mo[c.jU.C8]={ia:!1,kA:b,error:d.error},m(null,l));},function(a){m(a);});q.Gu(f);}function p(a,b,c,d,f,g){d.Mo(c.time,c);for(var h=c.time - 864E5,k=d.Cu();k && !isNaN(k.time) && k.time < h;){k=d.oI();r(0 - (k.$ || 0));k=d.Cu();}d=d.Cn().map(function(a){return a.time + ";" + a.$;});u(a,b,Array.prototype.join.call(d,"|"),c.$,c.time,f,g);}function x(a,b,d,f,g,q,n,t,u){var x;x=h.time.now();a.create(d,f,g,function(g,y){var B;if(g)l.error("Failed to replace item",f,g);else if(y.ia){B=y.jk;k(a,d,f,function(d,g){var k,l;if(d)u(d);else {d={time:t,$:g || 0};k={jk:B,mo:{}};l=h.time.now() - x;k.mo[c.jU.REPLACE]={ia:!0,time:t,Aj:g,kA:f,eXa:y,duration:l};q?p(a,b,d,n,k,u):(r(g),u(null,k));}});}else u(m.JW.kp(y.error || "Failed to create item"));});}function y(a,b,d,f,g,q,n,t,u){var x;x=h.time.now();a.append(d,f,g,function(g,y){var B;if(g)(l.error("Failed to save item " + f,g),u(g));else if(y.ia){B=y.jk;k(a,d,f,function(d,g){var k,l;if(d)u(d);else {d={time:t,$:g || 0};k={jk:B,mo:{}};l=h.time.now() - x;k.mo[c.jU.h$a]={ia:!0,time:t,Aj:g,kA:f,eXa:y,duration:l};q?p(a,b,d,n,k,u):(r(g),u(null,k));}});}else u(m.JW.kp(y.error || "Failed to save item"));});}function z(a,b){a && g.oc(a.remove) && a.Sj.valid && a.remove(h.storage.oG,b.dH,function(c,d){if(c)l.error("Failed to delete old journal key",c);else try{d && (g.X(d.error) || d.error.some(function(a){return "NFErr_FileNotFound" === a.Y2b;})) && p(a,b.dH,{time:0,$:0},b.jO,0,function(){});}catch(Y){}});}if(!a.Sj.valid)return t;this.nEa=g.X(b) || g.Xa(b)?0:b;this.Dba=a;this.bca=this.vN=0;this.jO=new f();this.qeb=d || "default";this.dH=this.qeb + ".NRDCACHEJOURNALKEY";r=(function(a){isNaN(a) || (this.vN+=a);return this.vN;}).bind(this);M=(function(a){isNaN(a) || (this.bca+=a);return this.bca;}).bind(this);this.Mia=function(){return this.dH;};this.save=function(a,b,c,d){var f;f=h.time.now();y(this.Dba,this.dH,a,b,c,0 <= this.nEa,this.jO,f,d);};this.replace=function(a,b,c,d){var f;f=h.time.now();x(this.Dba,this.dH,a,b,c,0 <= this.nEa,this.jO,f,d);};this.NNa=function(a){var b,f;b=this.vN;a-=864E5;for(var c=this.jO.Cn(),d=0;d < c.length;d++){f=c[d];f.time < a && !isNaN(f.$) && (b-=f.$);}return b;};(function(a){var b;b=a.Dba;a.vN=0;b.read(h.storage.oG,a.dH,0,-1,function(c,d){var f,g,k,q;f=[];g=0;k=!0;if(c)l.error("Failed to compile records",c);else if(d.ia){c=String.fromCharCode.apply(null,new Uint8Array(d.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a + (b.length + 40);},0);r(d);f=c.map(function(a){a=a.split(";");return {time:Number(a[0]),$:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a + b.$;},0)))for(var k=!1,m=h.time.now() - 864E5;g < f.length;g++){q=f[g];q.time < m || (a.jO.Mo(q.time,q),r(q.$));}}catch(ba){}}k && z(b,a);});})(this);}g=a(8);h=a(123);m=a(253);f=a(962);b=a(62);q=a(254);l=new h.Console("DISKWRITEMANAGER","media|asejs");n=h.Promise;b({jU:{h$a:"saveitem",REPLACE:"replaceitem",C8:"journalupdate"}},c);t={save:function(a,b,c,d){d(m.iya);},replace:function(a,b,c,d){d(m.iya);},Mia:function(){return "";},NNa:function(){return 0;}};c.prototype.constructor=c;d.W={create:function(a,b,d){return new c(a,b,d);},iZb:t};},function(d){function b(a){if(!(this instanceof b))return new b(a);if("undefined" === typeof a)this.Jl=function(a,b){return a <= b;};else {if("function" !== typeof a)throw Error("heap comparator must be a function");this.Jl=a;}this.ao=[];}function a(b,d){var g,f,h,k,n,t,p;g=b.ao;f=b.Jl;h=2 * d + 1;k=2 * d + 2;n=g[d];t=g[h];p=g[k];t && f(t.me,n.me) && (!p || f(t.me,p.me))?(c(g,d,h),a(b,h)):p && f(p.me,n.me) && (c(g,d,k),a(b,k));}function c(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}b.prototype.clear=function(){this.ao=[];};b.prototype.Mo=function(a,b){this.ao.push({me:a,value:b});a=this.ao;b=this.Jl;for(var d=a.length - 1,f=0 === d?null:Math.floor((d - 1) / 2);null !== f && b(a[d].me,a[f].me);){c(a,d,f);d=f;f=0 === d?null:Math.floor((d - 1) / 2);}};b.prototype.remove=function(){var b;if(0 !== this.ao.length){b=this.ao[0];c(this.ao,0,this.ao.length - 1);this.ao.pop();a(this,0);return b.value;}};b.prototype.Cu=function(){if(0 !== this.ao.length)return this.ao[0].value;};b.prototype.enqueue=b.prototype.Mo;b.prototype.oI=b.prototype.remove;b.prototype.y1=function(){return 0 === this.ao.length;};b.prototype.Cn=function(){return this.ao.map(function(a){return a.value;});};d.W=b;},function(d){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.co)return (this.co={},this.co[a]=[b],!0);c=this.co[a];return void 0 === c?(this.co[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.co?this.co[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}d.W={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.co)return !1;c=this.co[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.co[a],!0);c.splice(b,1);return !0;},Pa:a,emit:a,removeAllListeners:function(a){this.co && (void 0 === a?delete this.co:delete this.co[a]);return this;}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,m){g=m?g.bind(m):g;m=!1;if(a){this.console && (g=b.bind(null,this.console,g,d));if("function" === typeof a.addEventListener)m=a.addEventListener(d,g);else if("function" === typeof a.addListener)m=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.W=a;},function(d,b,a){var c,g,h,m;c=a(8);g=a(124);h={};h[g.mp.zB]=function(a){return a;};h[g.mp.qW]=function(a){a=a || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[g.mp.OBJECT]=function(a){var b;b=a || new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c < b.byteLength;c++){a+=String.fromCharCode(b[c]);}return JSON.parse(a);};m={};m[g.mp.zB]=function(a){return a;};m[g.mp.qW]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,f=a.length;d < f;d++){c[d]=a.charCodeAt(d);}return b;};m[g.mp.OBJECT]=function(a){return c.X(a) || c.Xa(a)?a:m[g.mp.qW](JSON.stringify(a));};d.W={pQ:function(a){return h[a] || h[g.mp.zB];},pja:function(a){return m[a] || m[g.mp.zB];}};},function(d,b,a){function c(a){return a;}function g(){return c;}a(8);d.W={pQ:g,pja:g};},function(d,b,a){var h;function c(a,b){return a.length > b.length?1:b.length > a.length?-1:0;}function g(a,b){var c,d,f;c=[];if(h.qf(b)){d={};f={};f[a]=d;c.push(f);c=Object.keys(b).reduce(function(c,f){var k,l,m;k=b[f];m={};h.w1(k)?(l=a + ".__embed__." + f,m[l]=k,c.push(m)):h.qf(k)?(l=a + ".__sub__." + f,k=g(l,k),d[f]=k[0][l],c=c.concat(k.slice(1))):d[f]=k;return c;},c);}else (f={},f[a]=b,c.push(f));return c;}h=a(124);d.W={nqb:g,nAb:function(a){var b,B;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var d=b[0],g=d.length,d=a[d.join(".")],h=1;h < b.length;h++){for(var k=!1,m=!1,n=d,p=g;p < b[h].length;p++){B=b[h][p];switch(B){case "__metadata__":break;case "__sub__":m=!0;break;case "__embed__":k=!0;break;default:m?(n=n[B],m=!1):k && (n[B]=a[b[h].join(".")],k=!1);}}}return d;},RAb:function(a){return a && (0 <= a.indexOf("__sub__") || 0 <= a.indexOf("__embed__"));}};},function(d,b,a){var m,f;function c(a,b,d){Object.keys(a).forEach(function(f){var g,h;if(m.qf(a[f]))if(a[f].w1){g=a[f];h=d + g.offset;a[f]=b.slice(h,h + g.byteLength);}else a[f]=c(a[f],b,d);});return a;}function g(a,b,c){Object.keys(a).forEach(function(d){var f;if(m.w1(a[d])){f=a[d];b.push(f);a[d]={w1:!0,offset:c.Yfa,byteLength:f.byteLength};c.Yfa+=f.byteLength;}else m.qf(a[d]) && g(a[d],b,c);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a + b.byteLength;},0);return c.buffer;}m=a(124);f=a(62);d.W={Tlb:function(a){var b,c,d;b=f(a,{});a=[];b=g(b,a,{Yfa:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length + 4);d=new DataView(c);d.setUint32(0,b.length);for(var k=4,m=0,q=b.length;m < q;m++){d.setUint8(k,b.charCodeAt(m));k++;}a=[c].concat(a);return h.apply(null,a);},Slb:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,b),f="",g=0;g < d.byteLength;g++){f+=String.fromCharCode(d[g]);}b=4 + b;f=JSON.parse(f);return c(f,a,b);}};},function(d,b,a){var g,h,m,f,q;function c(a){return {mediaType:a.I,streamId:a.Ca,movieId:a.u,bitrate:a.S,location:a.location,serverId:a.Tb,saveToDisk:!0,offset:a.offset,bytes:a.$,timescale:a.P,frameDuration:a.stream.za && a.stream.za.rb,encrypted:a.hk,initSegments:1 < a.qh.length?a.qh.map(function(a){return {fi:a.rg,s:a.data.byteLength,e:! !a.hk};}):void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.Uka=b.Vka=b.fRa=b.Zia=b.sOa=b.uOa=b.Tia=b.$ia=b.Yia=b.iia=b.jia=b.hya=void 0;g=a(8);h=a(970);m=a(398);f=a(10);q=a(21);b.hya={AV:"movieEntry",x6a:"header",a9:"metadata",X6a:"headerData",UXb:"headerMetadata",f6a:"sizes",e6a:"durations",fwa:"fragments",f8a:"response",Jk:"billboard",vy:{lifespan:259200}};b.jia=function(a,b,c){var d,f;d=b.headerData;c && b.sizes instanceof ArrayBuffer && b.durations instanceof ArrayBuffer && (f={Ek:c.startTicks,offset:c.offset,P:c.timescale,sizes:new Uint32Array(b.sizes),Sd:new Uint32Array(b.durations)});return {dc:!0,I:a.mediaType,u:a.movieId,Ca:a.streamId,S:a.bitrate,location:a.location,Tb:a.serverId,$:a.bytes,offset:a.offset,Wja:d,m1:a.initSegments,hk:a.encrypted,P:a.timescale,za:a.frameDuration,Md:a.saveToDisk,aa:f};};b.iia=function(a,b){var c,d,f;b=b.response;c=a.startTicks;d=a.durationTicks;void 0 !== c && void 0 !== d && (f=c + d);return {dc:!1,I:a.mediaType,u:a.movieId,Ca:a.streamId,S:a.bitrate,location:a.location,Tb:a.serverId,$:a.bytes,offset:a.offset,response:b,P:a.timescale,Wa:a.startTicks,Rp:d,Md:a.saveToDisk,nb:f};};b.Yia=function(a){return {me:a.priority,u:a.movieId,headers:{},Gr:0,iI:0,X0:0,Md:a.saveToDisk,Ob:a.stats,Vp:a.firstSelectedStreamBitrate,aq:a.initSelectionReason,Hr:a.histDiscountedThroughputValue,al:a.histTdigest,$k:a.histAge,Pm:void 0};};b.$ia=function(a,b,c,d,f){var k,l;k={headers:{},data:{}};d.forEach(function(d){var g,l,u;g=d.I;g=f && f.Dr(g,d.Ca);l=[];if(d.dc)if(!Array.isArray(d.m1) || 2 > d.m1.length)l.push({rg:0,data:d.Wja});else for(var n=0,t=0;t < d.m1.length;++t){u=d.m1[t];l.push({rg:u.fi,data:d.Wja.slice(n,n + u.s),hk:u.e});n+=u.s;}g?(d.aa && g.h3(l,d.P,d.za?new q.U(d.za,d.P):void 0,d.aa),d.dc && g && g.je?(void 0 === k.headers && (k.headers={}),k.headers[d.Ca]=new m.oU(g,{$:d.$,offset:d.offset,qh:l,hk:d.hk},b)):d.response instanceof ArrayBuffer && void 0 !== g.aa && void 0 !== d.Wa && void 0 !== d.P && void 0 !== d.nb && (l=g.aa.E_(new q.U(d.Wa,d.P).ka),void 0 !== l && (g=new h.cta(g,{P:d.P,Wa:d.Wa,nb:d.nb,index:l.index,offset:d.offset,$:d.$},d.response,c,a,b),void 0 === k.data && (k.data={}),k.data[d.Ca] || (k.data[d.Ca]=[]),k.data[d.Ca].push(g)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + d.Ca + " movieId: " + d.u);});if(!g.X(k.data)){l=k.data;Object.keys(l).forEach(function(a){l[a].sort(function(a,b){return a.Wa - b.Wa;});});}return k;};b.Tia=function(a){return {mediaType:a.I,streamId:a.Ca,movieId:a.u,bitrate:a.S,location:a.location,serverId:a.Tb,saveToDisk:!0,offset:a.offset,bytes:a.$,timescale:a.P,startTicks:a.Wa,durationTicks:a.Rp};};b.uOa=c;b.sOa=function(a){var b,d,g,h;b=c(a);a.stream.je && a.stream && a.stream.aa && (d={timescale:a.stream.aa.P,startTicks:a.stream.aa.Ek,offset:a.stream.aa.uh(0)},h=a.stream.aa.fL,g=h.sizes.buffer,h=h.Sd.buffer);return {mediaType:b.mediaType,streamId:b.streamId,movieId:b.movieId,bitrate:b.bitrate,location:b.location,serverId:b.serverId,saveToDisk:!0,offset:b.offset,bytes:b.bytes,timescale:b.timescale,frameDuration:b.frameDuration,headerData:f.Ut(a.qh.map(function(a){return a.data;})),initSegments:b.initSegments,encrypted:a.hk,fragments:d,sizes:g,durations:h};};b.Zia=function(a){return {priority:a.me,movieId:a.u,saveToDisk:a.Md,firstSelectedStreamBitrate:a.Vp,initSelectionReason:a.aq,histDiscountedThroughputValue:a.Hr,histTdigest:a.al,histAge:a.$k};};b.fRa=function(a){return !g.has(a,"startTicks");};b.Vka=function(a){return !a.Wja || !a.P || !a.aa || void 0 === a.aa.Ek || void 0 === a.aa.offset || void 0 === a.aa.Sd || !a.aa.Sd.length || void 0 === a.aa.sizes || !a.aa.sizes.length;};b.Uka=function(a){return void 0 === a.$ || void 0 === a.offset || void 0 === a.P || void 0 === a.Wa || void 0 === a.Rp;};},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.cta=void 0;c=a(0);g=a(10);d=a(39);h=a(70);a=(function(a){function b(b,c,d,f,g,k){f=a.call(this,b,c,f,g,k) || this;c.$=d.byteLength;h.Bh.call(f,b,c);f.tH=d;f.Zab=c.$;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{dc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Po:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{md:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ni:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.tH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{QCb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xq:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ED:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gpa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pe:{get:function(){return this.Zab;},enumerable:!1,configurable:!0}});b.prototype.Lr=function(){return !0;};b.prototype.RC=function(a){this.ee=a.appendBuffer(this.response,g.fl(this));return {ia:this.ee};};b.prototype.kk=function(){return -1;};b.prototype.abort=function(){return !0;};b.prototype.ac=function(){};b.prototype.yT=function(){return !1;};return b;})(a(170).sB);b.cta=a;d.Ue(h.Bh,a);},function(d,b,a){var c,g,h,m,f,q,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;c=a(0);d=a(16);g=a(3);h=a(427);m=a(10);f=a(5);q=a(1018);l=a(432);n=new g.Console("ASEJS","media|asejs");n.trace.bind(n);d=(function(b){function d(c,d,f){var J31,g;J31=2;for(;J31 !== 12;){switch(J31){case 2:g=b.call(this) || this;g.config=c;g.rw=d;g.ay=f;J31=3;break;case 3:var U8Z="1";U8Z+="SIYbZ";U8Z+="r";U8Z+="NJC";U8Z+="p9";var o8Z="DEB";o8Z+="U";o8Z+="G:";var u8Z="nf-ase shim";u8Z+=" vers";u8Z+="io";u8Z+="n:";g.aL={};c=a(426);g.console=n;g.console.trace(u8Z,c,o8Z,!1);g.Kh=h.uQ();U8Z;J31=13;break;case 13:return g;break;}}}var I31;I31=2;for(;I31 !== 19;){switch(I31){case 9:d.prototype.aT=function(a,b,c){var O31;O31=2;for(;O31 !== 1;){switch(O31){case 2:this.Kh.mZa({total:a},{ka:b,$:c});O31=1;break;}}};d.prototype.z3=function(){};d.prototype.Tm=function(a,b,c,g,h,k,l,n,t,u){var P31,p;P31=2;for(;P31 !== 10;){switch(P31){case 2:var D8Z="cr";D8Z+="eat";D8Z+="ing se";D8Z+="ssi";D8Z+="on";this.console.trace(D8Z);this.Kh.qb.reset();p=Number(a.movieId);P31=4;break;case 4:t=this.Fja(p,h.ea);this.aL[t]={Q1b:function(){},ea:h.ea,equals:function(a){var Q31;Q31=2;for(;Q31 !== 1;){switch(Q31){case 2:return a.la === p && (h.ea === a.ea || !a.ea || !h.ea);break;}}},tsa:Promise.resolve({ta:a,gi:! !g.gi,config:n}),la:p};n.Jz && this.Kh.cF(this.aL[t],{CE:h.CE,ea:h.ea,Iw:h.Iw});u=this.tob(p,a,n,h,u || d.upb);t=u.Sb.vg;P31=6;break;case 6:var Q8Z="end";Q8Z+="Pts ";Q8Z+="is not";Q8Z+=" supported";c={Ba:t,offset:m.U.max(m.U.ad(c).Ia(m.U.ad(u.Sb.Ua[t].oe)),m.U.sb)};f.assert(void 0 === g.qa,Q8Z);this.a2=new q.jCa(this.console,this,a,u,b,c,g,h,k,l,t,n);P31=12;break;case 12:n.dw || n.vE || this.rw();return this.a2;break;}}};I31=6;break;case 6:d.prototype.tob=function(a,b,c,d,f){var R31,g;R31=2;for(;R31 !== 3;){switch(R31){case 5:c=Object.create(c,{hMa:{value:d.Iw}});return this.Kh.GO(a,100,c,{lia:function(a){var S31;S31=2;for(;S31 !== 1;){switch(S31){case 2:return g.aL[g.Fja(a,d.ea)];break;}}}});break;case 2:g=this;a=b.choiceMap?l.$ea(b.choiceMap):l.Rqa(a,f);R31=5;break;}}};d.prototype.Vkb=function(){var T31;T31=2;for(;T31 !== 1;){switch(T31){case 2:this.qb.$S(null);T31=1;break;}}};d.prototype.XLb=function(a){var U31;U31=2;for(;U31 !== 7;){switch(U31){case 2:this.Vkb();this.Kh.Nu(a.Fb);U31=5;break;case 8:delete this.aL[a];U31=7;break;case 5:a.Fc && this.Kh.OXa(a.Fc);a === this.a2 && delete this.a2;a=this.Fja(a.la,a.ea);this.Kh.RXa(this.aL[a]);U31=8;break;}}};I31=12;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{qb:{get:function(){var K31;K31=2;for(;K31 !== 1;){switch(K31){case 2:return this.Kh.qb;break;}}},enumerable:!1,configurable:!0}});I31=5;break;case 20:return d;break;case 5:Object.defineProperties(d.prototype,{kn:{get:function(){var L31;L31=2;for(;L31 !== 1;){switch(L31){case 2:return this.Kh.kn;break;case 4:return this.Kh.kn;break;L31=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Of:{get:function(){var M31;M31=2;for(;M31 !== 1;){switch(M31){case 2:return this.Kh.Of;break;case 4:return this.Kh.Of;break;M31=1;break;}}},enumerable:!1,configurable:!0}});d.prototype.Ib=function(a,b,c,d,f){var N31;N31=2;for(;N31 !== 5;){switch(N31){case 2:this.Kh.mZa({audio:a,video:b},{ka:d,$:f});this.Kh.open(this.config,this.ay);N31=5;break;}}};I31=9;break;case 12:var s8Z="s";s8Z+="0";d.prototype.Qb=function(){var V31;V31=2;for(;V31 !== 9;){switch(V31){case 3:this.Kh.close();V31=9;break;case 12:this.Kh.close();V31=5;break;V31=9;break;case 2:var G8Z="Attempt to destru";G8Z+="ct Sh";G8Z+="i";G8Z+="mManager with latest session st";G8Z+="ill defined";var t8Z="Attempted to destruct ShimMan";t8Z+="ager";t8Z+=" with session config active";var m8Z="Attempted to ";m8Z+="destruct ShimManager with ";m8Z+="players";m8Z+=" present in ASE";var q8Z="Attempted to destruct ";q8Z+="ShimM";q8Z+="anager with pl";q8Z+="aygrap";q8Z+="hs present in ASE";f.assert(0 === this.Kh.oWa.length,q8Z);f.assert(0 === this.Kh.fJb.length,m8Z);f.assert(0 === Object.keys(this.aL).length,t8Z);f.assert(void 0 === this.a2,G8Z);V31=3;break;}}};d.prototype.Fja=function(a,b){var W31;W31=2;for(;W31 !== 1;){switch(W31){case 2:a000.Y8e(4);return a000.s8e(b,"-",a);break;}}};d.upb=s8Z;I31=20;break;}}})(d.EventEmitter);b.iCa=d;},function(d,b,a){var c,g,h,m,f,q,l,n,t,p,z,y,B,r,I,E,da,W,R,M,D,U;Object.defineProperty(b,"__esModule",{value:!0});b.Ssa=void 0;c=a(0);g=a(16);h=a(973);m=a(974);f=a(233);q=a(975);l=a(228);n=a(977);t=a(981);a(431);p=a(1002);z=a(421);y=a(37);B=a(5);r=a(1003);I=a(403);E=a(1013);da=a(1014);W=a(1015);R=a(177);M=a(255);D=a(1016);U=a(1017);d=(function(){function a(a){this.G=a;this.events=new g.EventEmitter();this.mc=h.Js.CLOSED;this.iz=[];this.gT=[];this.cO=[];this.Bt=[];this.XDa={};this.Pca={};this.Hfb=new R.fN({EA:this,source:"engine",vR:10});}Object.defineProperties(a.prototype,{J3:{get:function(){B.assert(this.RFa);return this.RFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{state:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fJb:{get:function(){return this.cO;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oWa:{get:function(){return this.Bt.map(function(a){return a.Sb;});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qb:{get:function(){this.sF();return this.zw.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kn:{get:function(){this.sF();return this.zw.kn;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Of:{get:function(){this.sF();return this.zw.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kjb:{get:function(){return this.XDa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{KIa:{get:function(){return this.ot;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{VPb:{get:function(){return this.Pca;},enumerable:!1,configurable:!0}});a.prototype.open=function(a,b,c,d){var f;f=this;if(this.mc === h.Js.OPEN)return !1;this.ucb=new q.swa(this.G,a);this.bz=new p.HBa(this.M1.bind(this),a);this.ot=new m.Tta(this.G,a,function(){return f.kjb;});this.zw=l.NF.UOa(a,b);this.mc=h.Js.OPEN;a=Object.create(a,{fhb:{value:a.vE || a.dw}});this.RFa=new r.gBa(this,a,c,d,this.G);this.mWa=new U.WAa({vo:function(){f.mc !== h.Js.CLOSED && setTimeout(function(){return f.bz.vo();},0);}});return !0;};a.prototype.GO=function(a,b,c,d,f){var h,k;h=this;void 0 === f && (f=!0);this.sF();k=Object.create(c,{jT:{value:this.VPb}});if(f && (c=this.J3.Okb(a,k)))return (c.p1a(b),c);a=new t.mta(this.G,a,b,k,this.qb,this.ot,this.Cpa.bind(this,d),function(a,b){var c,f;f=d.lia(a);a=null === (c=y.kh(h.iz,function(a){return a.wfa.equals(f);})) || void 0 === c?void 0:c.O;return null === a || void 0 === a?void 0:a.Xm(k,b);},this.bz.vo.bind(this.bz),f?this.J3.Nkb.bind(this.J3):function(){});a.Dp(new E.Rva(this.qb));a.Dp(new D.Rsa(this.qb));a.Dp(new da.wCa(a));a.Dp(new W.NCa(a.JA));a.Dp(new M.eN(this.Hfb));a.Dp(new M.eN(this.bz.nu));this.mWa.GO(a);b=new g.Yg();b.on(a.events,"requestsPruned",this.vMb.bind(this));b.on(a.events,"weightUpdated",this.Qna.bind(this));this.Bt.push({Sb:a,ag:b,DXa:0});this.Qna();return a;};a.prototype.Nu=function(a){this.mWa.Nu(a);this.Bt=this.Bt.filter(function(b){return b.Sb === a?(b.ag.clear(),!1):!0;});a.Qb();this.Qna();};a.prototype.Lgb=function(a,b){var d,f,g;this.sF();g=b.tu;a=new n.lta(a,void 0 === g?[0,1]:g,c.__assign({jT:null !== (f=null !== (d=b.jT) && void 0 !== d?d:this.Pca) && void 0 !== f?f:{}},b));this.cO.push(a);return a;};a.prototype.OXa=function(a){this.sF();this.cO=this.cO.filter(function(b){return b !== a;});a.Qb();};a.prototype.mZa=function(a,b){this.XDa=a;this.Pca=b;};a.prototype.cF=function(a,b){var d,f;f=null === (d=y.kh(this.iz,function(b){return b.wfa.equals(a);})) || void 0 === d?void 0:d.O;f?f.cF(c.__assign(c.__assign({},b),{jm:this.rna.bind(this)})):this.gT.push({Y1a:a,MPb:b});};a.prototype.RXa=function(a){this.gT=this.gT.filter(function(b){return !b.Y1a.equals(a);});};a.prototype.close=function(){this.mc !== h.Js.CLOSED && (this.PLb(),B.assert(0 === this.iz.length,"Unexpected viewable lease after Playgraph destruction."),this.OLb(),this.gT=[],delete this.zw,this.mc=h.Js.CLOSED);};a.prototype.rna=function(){};a.prototype.Cpa=function(a,b){var d,f,g;d=this;f=a.lia(b);g=y.kh(this.iz,function(a){return a.wfa.equals(f);});g?g.cU.then(function(a){return c.__awaiter(d,void 0,void 0,function(){var b,d;return c.__generator(this,function(c){switch(c.label){case 0:return (d=(b=a).FTb,[4,f.tsa]);case 1:return (d.apply(b,[c.sm()]),[2]);}});});}):(g={wfa:f,cU:(function(){return c.__awaiter(d,void 0,void 0,function(){var a,d;return c.__generator(this,function(c){switch(c.label){case 0:return [4,f.tsa];case 1:return (a=c.sm(),d=this.MKa(b,f,a),g.O=d,[2,d]);}});});})(),O:void 0,hCb:new I.Cxa(function(){g.cU.then(function(a){a.Qb();});d.iz=d.iz.filter(function(a){return a !== g;});})},this.iz.push(g));return {cU:g.cU,yJ:g.hCb.Zv()};};a.prototype.MKa=function(a,b,d){var h,k,l,m,q;function g(a){h.events.emit("logdata",a);}h=this;this.sF();l=d.ta;m=d.gi;d=d.config;q=[new z.r9(0),new z.r9(1)];l={ta:l,config:d,mb:function(){return !0;},gi:m,jQ:void 0,qb:this.zw.qb,Of:this.zw.Of,oha:{qJ:function(){return !1;},Xp:this.bz.vo.bind(this.bz),Bg:this.Bg.bind(this,a),bn:this.bn.bind(this,a),km:g},Xja:{km:g,AQ:void 0,Uz:function(a){return q[a];},x1:function(){return !0;},af:void 0,Vc:void 0,sg:void 0,dA:void 0},XE:{Yq:this.Yq.bind(this),Tx:this.Tx.bind(this)},eb:0,ml:void 0,Ema:{A1:!1,cla:!1},cK:function(){}};a=new f.pU(a,l);d.Jz && (d=(null === (k=y.kh(this.gT,function(a){return a.Y1a.equals(b);})) || void 0 === k?void 0:k.MPb) || ({}),this.RXa(b),a.cF(c.__assign(c.__assign({},d),{jm:this.rna.bind(this)})));return a;};a.prototype.M1=function(){var a;B.assert(this.state === h.Js.OPEN);a=this.BQ();return this.ucb.iHb(a);};a.prototype.BQ=function(){var a,b;a=this.Bt.map(function(a){return a.Sb.BQ().map(function(b){a.Sb.YPa || (b.Uh*=a.DXa);return b;});});b=this.iz.reduce(function(a,b){return b.O?c.__spread(a,b.O.BQ()):a;},[]);return y.xr(c.__spread(a,b));};a.prototype.sF=function(){if(this.mc === h.Js.CLOSED)throw Error("Engine CLOSED");};a.prototype.PLb=function(){var a,b,g;try{for(var d=c.__values(this.Bt),f=d.next();!f.done;f=d.next()){g=f.value;g.ag.clear();this.Nu(g.Sb);}}catch(ga){a={error:ga};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.OLb=function(){var a,b;try{for(var d=c.__values(this.cO),f=d.next();!f.done;f=d.next()){this.OXa(f.value);}}catch(va){a={error:va};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.Bg=function(a,b,c,d,f,g){this.YOa(a).forEach(function(h){return h.Bg(b,a,c,d,f,g);});};a.prototype.bn=function(a){return this.YOa(a).some(function(a){return a.bn();});};a.prototype.YOa=function(a){return this.Bt.filter(function(b){b=b.Sb.Sb;return "" + a === "" + b.Ua[b.vg].la;}).map(function(a){return a.Sb;});};a.prototype.Yq=function(a){var b;this.bz.Yq();null === (b=this.ot) || void 0 === b?void 0:b.Yq(a);};a.prototype.Tx=function(){this.bz.Tx();};a.prototype.Qna=function(){var a;a=this.oWa.reduce(function(a,b){return Math.max(b.weight,0) + a;},0);this.Bt.forEach(function(b){b.DXa=0 >= b.Sb.weight?0:b.Sb.weight / a;});};a.prototype.vMb=function(a){var b;b=this;this.ot && a.requests.forEach(function(a){return b.ot.Tx(a);});};c.__decorate([R.Zb({od:"open"})],a.prototype,"open",null);c.__decorate([R.Zb({od:"addPlaygraph",context:function(a){var b,c;return {playgraphCount:null !== (c=null === (b=a.LUa.Bt) || void 0 === b?void 0:b.length) && void 0 !== c?c:0};}})],a.prototype,"GO",null);c.__decorate([R.Zb({od:"removePlaygraph",context:function(a){return {playgraphCount:a.LUa.Bt.length};}})],a.prototype,"Nu",null);c.__decorate([R.Zb({od:"close"})],a.prototype,"close",null);c.__decorate([R.Zb({od:"notifyAseException",gw:!0})],a.prototype,"rna",null);c.__decorate([R.Zb({od:"createViewable"})],a.prototype,"MKa",null);c.__decorate([R.Zb({od:"issueRequestOpportunity",pr:!0,"return":!0})],a.prototype,"M1",null);c.__decorate([R.Zb({od:"reportStreamingFailure",gw:!0})],a.prototype,"Bg",null);return a;})();b.Ssa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Js=void 0;d=b.Js || (b.Js={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Tta=void 0;c=a(5);d=(function(){function a(a,b,c){this.G=a;this.H=b;this.fcb=c;this.Ht=this.mt=this.ko=0;}a.prototype.Yq=function(a){var b;if(!a.dc){b=a.$;c.assert(0 < b);this.ko+=b;0 === a.I?this.mt+=b:this.Ht+=b;c.assert(this.ko === this.mt + this.Ht);c.assert(0 < this.ko);c.assert(0 <= this.mt);c.assert(0 <= this.Ht);}};a.prototype.Tx=function(a){var b;if(!a.dc){b=a.$;c.assert(0 < b);this.ko-=b;0 === a.I?this.mt-=b:this.Ht-=b;c.assert(this.ko === this.mt + this.Ht);c.assert(0 <= this.ko);c.assert(0 <= this.mt);c.assert(0 <= this.Ht);}};a.prototype.xkb=function(a,b){var d,g;c.assert(this.ko === this.mt + this.Ht);d=this.ko + b;if(0 < this.H.So && d > this.H.So)return !1;if(this.H.ksa){g=this.fcb();if(void 0 !== g.total && d > g.total)return !1;d=0 === a?g.audio:g.video;a=0 === a?this.mt:this.Ht;if(void 0 !== d && a + b > d)return !1;}return !0;};return a;})();b.Tta=d;},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;c=a(0);g=a(37);h=a(17);m=a(10);f=a(976);d=(function(){function a(a,b){this.G=a;this.config=b;}a.prototype.iHb=function(a){var b;b=this;return 0 < a.length?c.__spread(a).sort(g.TJa(function(a){return -f.eJa(b.config,a);})).some(function(a){return b.Ckb(a)?a.HRa():!1;}):!1;};a.prototype.Ckb=function(a){return a.Aq.equal(a.Tt)?!0:this.config.aP && h.gA(a.Qm)?this.Dkb(a):this.Ekb(a);};a.prototype.Ekb=function(a){var b;if(!this.config.K2 || void 0 === this.config.l5)return !0;b=a.Tt.Ia(a.Zf).ka;b=Math.max(this.config.K2,b * this.config.l5);return a.Aq.Ia(a.Tt).ka <= b;};a.prototype.Dkb=function(a){var b;if(void 0 === this.config.aP)return !0;b=a.Zf.add(m.U.ad(this.config.aP));return a.Aq.zJ(b);};return a;})();b.swa=d;},function(d,b){function a(a){return a.Aq.Ia(a.Zf).ka;}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=b.Sjb=void 0;b.Sjb=a;b.eJa=function(b,d){return d.Uh * Math.exp(-(Math.log(2) / b.YKb) * a(d));};},function(d,b,a){var c,g,h,m,f,q,l,n,t;Object.defineProperty(b,"__esModule",{value:!0});b.lta=void 0;c=a(0);g=a(16);h=a(10);m=a(5);f=a(3);q=a(122);l=a(37);n=a(978);d=a(428);t=a(980);a=(function(a){function b(b,c,d){var h;h=a.call(this) || this;h.R=b;h.tu=c;h.$y=d;h.NP=[];h.yEa=new g.Yg();h.G=new f.Console("ASEJS","media|asejs");h.yEa.on(h.R,"underflow",function(){return h.vk();});h.xN=new t.KAa(b);h.wC=new q.zW(h.xN,h.G);return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{dy:{get:function(){var a;return null === (a=this.mh) || void 0 === a?void 0:a.dy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JA:{get:function(){return this.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lb:{get:function(){var a,b;return null !== (b=null === (a=this.mh) || void 0 === a?void 0:a.Rw()) && void 0 !== b?b:[];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fb:{get:function(){var a;return null === (a=this.mh) || void 0 === a?void 0:a.Fb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wa:{get:function(){return this.xN;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dB:{get:function(){var a;return !(null === (a=this.mh) || void 0 === a || !a.dB);},enumerable:!1,configurable:!0}});b.prototype.wqa=function(a){-1 === this.NP.indexOf(a) && this.NP.push(a);this.mh && this.mh.Ina(a);};b.prototype.BOb=function(a){a=this.NP.indexOf(a);-1 !== a && this.NP.splice(a,1);};b.prototype.hx=function(a){var b;return -1 !== this.NP.indexOf(a) || !(null === (b=l.kh(this.Lb,function(b){return b.O.la === a;})) || void 0 === b || !b.O.gi);};b.prototype.reset=function(){var b;a.prototype.reset.call(this);null === (b=this.mh) || void 0 === b?void 0:b.reset();};b.prototype.JS=function(b){var c;a.prototype.JS.call(this,b);null === (c=this.mh) || void 0 === c?void 0:c.JS(b);};b.prototype.eD=function(){var a;null === (a=this.mh) || void 0 === a?void 0:a.eD();};b.prototype.pause=function(b){this.oL(b);a.prototype.pause.call(this,null !== b && void 0 !== b?b:this.tu);};b.prototype.resume=function(b){var c;null === (c=this.mh) || void 0 === c?void 0:c.resume(b);a.prototype.resume.call(this,null !== b && void 0 !== b?b:this.tu);};b.prototype.Qb=function(){this.CX=this.ZPa()?this.Xw():void 0;this.mh && this.vga(this.mh.Fb);this.xN.Qb();this.wC.Qb();this.yEa.clear();a.prototype.Qb.call(this);};b.prototype.QI=function(){var b;return (null === (b=this.mh) || void 0 === b?0:b.XJb)?this.R.$c:a.prototype.QI.call(this);};b.prototype.Ym=function(){var b;b=this.R.playbackRate;void 0 === b && (b=a.prototype.Ym.call(this));return b;};b.prototype.ZPa=function(){return ! !this.CX || 0 < this.Lb.length;};b.prototype.Xw=function(){if(this.CX)return this.CX;m.assert(0 < this.Lb.length,"Could not find presenting branch. Player has no branches.");return this.ej;};b.prototype.vga=function(a){var b;m.assert(a === this.Fb);null === (b=this.mh) || void 0 === b?void 0:b.Qb();this.mh=void 0;};b.prototype.PY=function(b,c){this.CX=void 0;if(c=a.prototype.PY.call(this,b,c))(this.mh=new n.zta(b,this,this.G,b.config,this.$y,this.events,this.tu,this.wC,this.Wy),this.oL(this.oK));return c;};b.prototype.iha=function(){var c;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}c=this.mh;m.assert(c);a.forEach(function(a){return c.Srb(a);});};b.prototype.Si=function(a){var b;if(!this.mh)return !1;b=this.e0(a);return b?b.ca.ur.Ia(h.U.ad(this.$y.xA)).lessThan(a) || !b.Cfa(a)?!1:this.mh.Si(a):!1;};b.prototype.vk=function(){var a,b,c;b=this.Zf;m.assert(this.Fb);c=this.Yr(b);m.assert(c);null === (a=this.mh) || void 0 === a?void 0:a.vk();a=this.e0(b);null === a || void 0 === a?void 0:a.O.vk();this.Fb.vk(c);};b.prototype.mia=function(){var a;return null === (a=this.mh) || void 0 === a?void 0:a.mia();};b.prototype.oL=function(a){var b;null === (b=this.mh) || void 0 === b?void 0:b.oL(a);};b.prototype.Kra=function(b){m.assert(this.Fb && this.mh);return a.prototype.Kra.call(this,b);};return b;})(d.D$);b.lta=a;},function(d,b,a){var c,g,h,m,f,q,l,n,t,p,z;Object.defineProperty(b,"__esModule",{value:!0});b.zta=void 0;c=a(0);g=a(16);h=a(413);m=a(3);f=a(247);a(17);q=a(171);l=a(10);n=a(37);t=a(122);p=a(5);z=a(979);d=(function(){function a(a,b,c,d,h,k,m,q,n){var t;t=this;this.Fb=a;this.R=b;this.G=c;this.H=d;this.$y=h;this.Tf=k;this.tu=m;this.JA=q;this.Wy=n;this.iba=!1;this.GEa=new l.nCa();this.Rab=new g.Yg();this.Ji=new f.qU(this.G);this.dy=new z.bDa(this.G,a);this.qob(this.dy);this.Fm && (this.yeb=this.kia(this.axb()),this.cdb=l.wv.h2a(this.Fm.map(function(a){return a.lE;}),function(a){return a.every(function(a){return a;});},function(a){return t.Wy.set(a);}));this.Ct=q.wZ(function(){return t.cjb();});}a.prototype.cjb=function(){var a,b,d,f,g,h,k;return c.__generator(this,function(m){switch(m.label){case 0:if(!this.Ji.YJa)return [3,2];a=c.__read(this.Ji.Fra(),1);b=a[0];d=null !== (k=null === (h=this.$y.jT) || void 0 === h?void 0:h.ka) && void 0 !== k?k:0;f=b.fCb || b.Kj;g=f.add(l.U.ad(d));return [4,t.Nq.dU(g)];case 1:return (m.sm(),this.Ji.remove(b),b.pg(),[3,0]);case 2:return [2];}});};Object.defineProperties(a.prototype,{XJb:{get:function(){var a;return !(null === (a=this.yeb) || void 0 === a || !a.lE.value);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dB:{get:function(){var a;return !(null === (a=this.Fm[0]) || void 0 === a || !a.dB);},enumerable:!1,configurable:!0}});a.prototype.Srb=function(a){this.Ji.enqueue(a);this.Ct.state === t.Oq.complete && this.Ct.sq();a.ca.ys && this.Ji.o_();this.iba || this.rtb(a);};a.prototype.Ina=function(a){this.Fm.forEach(function(b){b.Ina(a);});};a.prototype.reset=function(){this.Fm.forEach(function(a){a.reset();});this.iba=!1;this.GEa.removeAllListeners();this.eD();};a.prototype.JS=function(a){a=this.kia(a);null === a || void 0 === a?void 0:a.reset();};a.prototype.eD=function(){this.Ji.clear();this.Rab.clear();this.Ct.sq();};a.prototype.resume=function(a){this.Fm.forEach(function(b){void 0 !== a && -1 === a.indexOf(b.I) || b.resume();});};a.prototype.oL=function(a){this.Fm.forEach(function(b){return (void 0 === a || -1 !== a.indexOf(b.I)) && b.stop();});};a.prototype.vk=function(){this.G.trace("attached-player: onUnderflow");};a.prototype.fPa=function(){return this.Ji.yOa();};a.prototype.Xvb=function(){return this.Rw()[0];};a.prototype.Rw=function(){return this.Ji.Fra();};a.prototype.qob=function(a){var b,c;b=this;this.vj("createMediaSourceStart");this.$y.Uia?c=this.$y.Uia():(c=new m.MediaSource(this.R.R),c.Rb || (c.Rb=m.MediaSource.Rb));if(1 !== c.readyState)this.eo("exception in init","NFErr_MC_StreamingInitFailure");else {this.vj("createMediaSourceEnd");this.ce=c;if(!c.DY(this.tu))throw (this.G.trace("Error:",c.error),this.eo("error creating source buffers","NFErr_MC_StreamingInitFailure"),c.error);this.Fm=c.sourceBuffers.filter(function(a){return 0 <= b.tu.indexOf(a.I);}).map(function(d){var f;f=new q.K6(b.G,d.I,c,d,b.H,{Ud:function(){return b.R.Zf.ka;},hx:function(a){return b.R.hx(a.la);}});f.addListener("error",function(a){return b.eo(a.errorstr);});f.addListener("logdata",function(a){return b.Tf.emit("logdata",a);});return new h.v6(f,d.I,b,b.H,b.G,b.R,b.$y,b.JA,a);});}};a.prototype.Qb=function(){this.cdb.clear();this.Fm.forEach(function(a){return a.Qb();});this.$y.Uia || this.ce.Op();this.eD();this.Ct.Qb();};a.prototype.Si=function(a){return this.Fm.every(function(b){return b.Si(a);});};a.prototype.mia=function(){return {HKb:this.Ji.Fra(),bJb:this.Fm};};a.prototype.rtb=function(a){var b;b=this;this.iba=!0;a.Wh.forEach(function(a){var c;c=b.kia(a.I);if(void 0 !== c)b.GEa.once(a.Oha,function(a){return c.stb(a);});});if(a.Nh)this.bMa();else a.events.once("branchNormalized",function(){return b.bMa();});};a.prototype.bMa=function(){var a;a=this.Xvb();a && (p.assert(a.ll),this.Tf.emit("ptsChanged",{initialTimestamp:a.ll}));};a.prototype.kia=function(a){return n.kh(this.Fm,function(b){return b.I === a;});};a.prototype.axb=function(){return -1 !== this.tu.indexOf(1)?1:0;};a.prototype.vj=function(a){a={type:"startEvent",event:a,time:m.time.da()};this.Tf.emit(a.type,a);};a.prototype.eo=function(a,b){this.Fb.Bg(a,void 0,b);};return a;})();b.zta=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.bDa=void 0;c=a(3);d=(function(){function a(a,b){this.G=a;this.veb=b;}a.prototype.jF=function(a,b,d,g){var f,h;d || g?(f=a.duration.ka,g || (h=a.duration.Ia(b).ka)):(f=b.ka,h=0);b=this.hcb(a);this.Vca={startTime:c.time.da(),eQb:a.id,fQb:a.duration.ka,dQb:f,mI:h,XA:d,Yea:b};};a.prototype.Wia=function(a){var b,d,g,h,k,n;if(this.Vca){b=this.Vca;this.Vca=void 0;d=b.Yea[a];if(d){g=d.Yt.weight;h=this.KEa(a).Gp;g=this.oFa(g,h);h={};for(k in b.Yea){k !== a && (h[k]=b.Yea[k].Yt);}k=b.XA?d.aA?"seamless":"long":d.aA?"skip":"long";n=b.XA?0:c.time.da() - b.startTime;return {segment:a,srcsegment:b.eQb,srcsegmentduration:b.fQb,srcoffset:b.dQb,seamlessRequested:b.XA,atRequest:d.Yt,atTransition:g,discard:h,transitionType:k,delayToTransition:b.mI,durationOfTransition:n};}}};a.prototype.hcb=function(a){var b,c;b=this;c={};a.CA.forEach(function(d){var f,g;f=a.kUa[d];g=b.KEa(d);c[d]={Yt:b.oFa(f,g.Gp),aA:g.aA};});return c;};a.prototype.KEa=function(a){var b,c;a=this.veb.Lub(a);if(0 === a.length)return {aA:!1,Gp:{jp:0,It:0,bv:0,xY:0}};a=a[0];b=a.qia();c=a.bb(1) && 0 === b.jp;return {aA:!(a.bb(0) && 0 === b.It) && !c,Gp:b};};a.prototype.oFa=function(a,b){return {weight:a,vbuflmsec:b.jp,abuflmsec:b.It,vbuflbytes:b.bv,abuflbytes:b.xY};};return a;})();b.bDa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;c=a(16);d=a(39);a=(function(){function a(a){var b;b=this;this.R=a;this.$ba=!1;this.lH=new c.Yg();this.lH.on(a,"paused",function(){return b.l3();});this.lH.on(a,"playing",function(){return b.l3(!0);});this.lH.on(a,"underflow",function(){return b.l3();});this.lH.on(a,"skipped",function(){return b.Ona();});this.lH.on(a,"playbackRateChanged",function(){return b.cHb();});}Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.uGa || this.R.$c;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$m:{get:function(){return this.$ba;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){var a;return null !== (a=this.R.playbackRate) && void 0 !== a?a:1;},enumerable:!1,configurable:!0}});a.prototype.l3=function(a){void 0 === a && (a=!1);a !== this.$ba && (this.uGa=(this.$ba=a)?void 0:this.R.$c);this.emit("stopStart",{type:"stopStart"});};a.prototype.Ona=function(){this.uGa=void 0;this.emit("clockReset",{type:"clockReset"});};a.prototype.cHb=function(){this.emit("speedChanged",{type:"speedChanged"});};a.prototype.Qb=function(){this.l3();this.lH.clear();};return a;})();b.KAa=a;d.Ue(c.EventEmitter,a);},function(d,b,a){var c,g,h,m,f,q,l,n,t,p,z,y,B,r,I,E,da,W,R,M,D,U,ka,F,Y,Q,N,O,P,ba,S,T,V,X;Object.defineProperty(b,"__esModule",{value:!0});b.mta=void 0;c=a(0);g=a(16);h=a(429);m=a(17);f=a(10);q=a(405);l=a(982);n=a(3);t=a(5);p=a(121);z=a(983);y=a(37);B=a(122);r=a(108);I=a(984);E=a(77);da=a(985);W=a(411);R=a(430);M=a(255);D=a(986);U=a(987);ka=a(988);F=a(989);Y=a(991);Q=a(995);N=a(996);O=a(997);P=a(998);ba=a(999);S=a(431);T=a(1E3);V=a(105);X=a(1001);d=(function(){function a(a,b,c,d,k,q,t,u,p,x){var y;y=this;this.G=a;this.Sb=b;this.MGa=c;this.config=d;this.KIa=q;this.afb=t;this.acb=u;this.vo=p;this.Pkb=x;this.IO="2.0";this.mc=h.In.CLOSED;this.Oba=!0;this.rea=new g.Yg();this.Al=void 0;this.bU=new g.Yg();this.navigator=new F.TAa(b);this.pyb=Y.jKa(this.navigator,d.gJb);this.Lb=new Q.NAa();this.Ija=new U.rwa(this.config,f.U.ad(this.config.r2),{parent:this.Jxb.bind(this)});this.events=new g.EventEmitter();this.y_a=new l.BCa(a,this.events);this.Jf=new N.Uta(a,d,k,this.events,this);this.HK=[];this.$ra({OQ:d.So || Infinity});this.console=new n.Console("ASEJS_PLAYGRAPH","asejs");this.R=new z.m$(this);this.JA=new B.zW(this.R.wa,this.console);this.e6=new B.zW(new R.iaa({$m:!0,currentTime:function(){return f.U.ad(n.time.da());},speed:1}),this.console);this.HIa=new ba.Ota(this.JA,f.U.ad(d.xA),this.yn.bind(this));this.vpa=new E.DBa(d);X.tKa({Jf:this.Jf,e6:this.e6},B.Nq.g2a(f.U.ad(this.config.Ox)),function(){!y.R.ej || y.Jf.state.value !== m.Kc.ff && y.Jf.state.value !== m.Kc.qd || y.tC(y.R.ej);});this.vpa.Dp(new M.eN(this.Jf.hB));}Object.defineProperties(a.prototype,{state:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YPa:{get:function(){return !(this.R instanceof z.m$);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{weight:{get:function(){return this.MGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{C4:{get:function(){t.assert(this.W0,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Wq.position;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RYa:{get:function(){t.assert(this.W0,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.DQ(this.C4).oP;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qm:{get:function(){return this.Jf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IA:{get:function(){return this.Jf.IA;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{W0:{get:function(){return void 0 !== this.Wq;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xt:{get:function(){return this.R.eJ?this.R.Xt:this.C4;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zf:{get:function(){return this.R.eJ?this.R.Zf:this.RYa;},enumerable:!1,configurable:!0}});a.prototype.open=function(){this.Oba=!0;if(this.mc !== h.In.CLOSED)return !1;this.mc=h.In.OPEN;return !0;};a.prototype.Qb=function(){var a;this.mc !== h.In.CLOSED && (this.pg(),null === (a=this.Al) || void 0 === a?void 0:a.yJ.release(),this.Al=void 0,this.bU.clear(),this.Jf.stop(),this.mc=h.In.CLOSED);};a.prototype.eT=function(a,b){var c,d,f;c=this;this.fIa=a;this.W1a=b;b=O.DMa(this.Lb,this.VYa.bind(this));a=b.pkb;b=b.djb;if(0 === a.length)return !0;if(1 !== a.length || 0 !== a[0])return !1;d=this.Xt;this.R.pause(a);a.forEach(function(a){return c.R.JS(a);});f=this.DQ(d).oP;b.forEach(function(a){var b;b=a.yc;b.eT(a.Wh,d.Ba === b.ca.id?f:void 0);});this.Jf.qHb(d);this.R.resume(a);return !0;};a.prototype.mD=function(a){return r.mD(this.config,a);};a.prototype.nD=function(a){return r.nD(this.config,a);};a.prototype.Cwb=function(a,b){var c,d;c=this.navigator.Nf(a);d=this.navigator.Nf(b);return {nUb:c.Tyb(b),QIa:b !== a && this.Lb.has(b),Wb:d.ul.ka,xu:c.xu};};a.prototype.yn=function(a,b,c,d){var g,h;void 0 === d && (d=!0);if(!b)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");h=this.navigator.Nf(a);this.Xt.Ba === a && (null === (g=this.R.dy) || void 0 === g?void 0:g.jF(h,this.Xt.offset,d,c));d || (this.Wq={position:{offset:f.U.sb,Ba:b},ix:!0});h.xu=b;this.RE();d || this.Jf.WUa(this.C4);};a.prototype.lj=function(a){this.navigator.lj(a);};a.prototype.Dqa=function(a,b){this.$da=a;this.ML=b;this.vo();};a.prototype.D4=function(a){var b,c;if(D.BRa(this.Sb,a)){if((a=this.EYa(a),void 0 === a))this.Bg("Invalid seekPosition");else if(void 0 === this.fIa || void 0 === this.W1a)this.Bg("No track selectors available");else {if(this.YPa && this.R.dJ || !D.JPa(null === (b=this.Wq) || void 0 === b?void 0:b.position,a))(this.W0 && (b=this.navigator.Nf(this.Xt.Ba),null === (c=this.R.dy) || void 0 === c?void 0:c.jF(b,this.Xt.offset,!1)),this.pg(!0),this.Tkb(),this.Wq={position:a,ix:!1,lWa:void 0},this.Jf.WUa(),this.mc=h.In.Qn,this.RE());}}else this.Bg("Invalid seekPosition");};a.prototype.pg=function(a){var b,c;c=this.GPa();this.Lb.reset();this.HK.forEach(function(b,d){c && (d=c.yO(m.We[d],b),a && d.length && c.s4(d));p.Jn.pf.rI(b);});this.HK=[];this.JA.reset();this.e6.reset();this.R.reset();this.Wq=void 0;null === (b=this.rea) || void 0 === b?void 0:b.clear();this.mc === h.In.Qn && (this.mc=h.In.OPEN);};a.prototype.Lub=function(a){return this.Lb.Rw(a);};a.prototype.vk=function(a){this.Jf.vk(a);this.vo();};a.prototype.Dp=function(a){this.vpa.Dp(a);};a.prototype.Xhb=function(a){this.Dp(new da.FBa(a));this.Yhb(a);};a.prototype.Yhb=function(a){this.R.Kra(a)?(this.R=a,this.JA.YHa(this.R.wa)):this.Bg("player in use");};a.prototype.DQ=function(a){var b,c;b=a.offset;c=this.navigator.Nf(a.Ba);a=c.la;b=c.ul.add(b);return {la:a,oP:b};};a.prototype.Yr=function(a,b){var c;c=this.R.Yr(a);if(void 0 !== c)return c;c=this.R.vJ;return D.Yr(a,{Fb:this,cAb:c && ({id:c.ca.id,INb:c.soa})},b);};a.prototype.O0=function(a){return this.R.O0(a);};a.prototype.EYa=function(a){var b;b=this.Sb.Ua[a.Ba];if(void 0 !== b)return null === b.Ie || void 0 === b.Ie?{Ba:a.Ba,offset:f.U.max(f.U.sb,a.offset)}:{Ba:a.Ba,offset:f.U.max(f.U.sb,f.U.min(a.offset,f.U.ad(b.Ie - b.oe)))};};a.prototype.Xm=function(a,b){return this.acb(this.Sb.Ua[a].la,b);};a.prototype.ki=function(a){var b,c;this.Lb.forEach(function(a){var d;if(!a.OC || a.ca.ys){d=a.jPa(0);a=a.jPa(1);if(!b || d < b)b=d;if(!c || a < c)c=a;}});return {z5:b?Math.max(b - a.ka,0):0,A5:c?Math.max(c - a.ka,0):0};};a.prototype.pia=function(){var a,b,c,d;c=this.W0?this.ki(this.Zf):{z5:0,A5:0};d=V.pf().get();return {totalabuflmsecs:c.z5,totalvbuflmsecs:c.A5,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (b=Number(0 < d.Hd) && (null === (a=d.Ma) || void 0 === a?void 0:a.Ga)) && void 0 !== b?b:0};};a.prototype.BQ=function(){var a,b;a=this;if(this.bn() || S.pRa({Lb:this.Lb,ZC:this.ZC}))return [];b=I.xTa(T.Zka.bind(void 0,this.Lb,this.config));return this.Lb.reduce(function(d,f){var g,h,m;try{for(var k=c.__values(f.rwb(b)),l=k.next();!l.done;l=k.next()){m=l.value;m.K1() && d.push(a.Aob(m));}}catch(Z){g={error:Z};}finally{try{l && !l.done && (h=k["return"]) && h.call(k);}finally{if(g)throw g.error;}}return d;},[]);};a.prototype.vxb=function(a){if(a=c.__read(this.Lb.Rw(a),1)[0])return P.cCa.iyb(a);};a.prototype.Jxb=function(a){var b,c;c=a.I;return null === (b=a.yc.parent) || void 0 === b?void 0:b.Via(c);};a.prototype.$R=function(a,b,c){var d,f;f=this.R.Xt;f && (d=this.navigator.Nf(f.Ba).la);this.Bg(a,d,b,null === c || void 0 === c?void 0:c.qg,null === c || void 0 === c?void 0:c.UD,null === c || void 0 === c?void 0:c.ni);};a.prototype.Bg=function(a,b,c,d,f,g){this.y_a.Bg(a,b,c,d,f,g);};a.prototype.M0a=function(a,b){b=this.u0(b);this.events.emit("logdata",{type:"logdata",target:a,fields:b});};a.prototype.u0=function(a){var b;b=this.vpa.Qw(a);a === E.ci.Kz && (a=this.pia(),b.vbuflmsec=a.totalvbuflmsecs,b.abuflmsec=a.totalabuflmsecs,b.vbuflbytes=a.vbuflbytes,b.abuflbytes=a.abuflbytes);return b;};a.prototype.$ra=function(a){this.ZC=a;this.vo();};a.prototype.bn=function(){return this.y_a.bn();};a.prototype.p1a=function(a){a !== this.weight && (this.MGa=a,this.events.emit("weightUpdated"));};a.prototype.Cpa=function(a){var b,c,d,f;b=this;c=this.afb(a);d=c.cU;f=c.yJ;this.Al?(t.assert(this.Al.la === a,"Multi-viewable playgraphs not supported"),this.Al.yJ.release(),this.Al.yJ=f):this.Al={la:a,yJ:f};d.then(function(a){b.Al && b.Al.yJ === f && (b.Al.O=a,b.bU.clear(),b.bU.addListener(b.Al.O.kha,"criticalNetworkError",b.Jf.TGb.bind(b.Jf)),b.bU.addListener(b.Al.O.kha,"temporaryNetworkError",b.Jf.XUa.bind(b.Jf)),b.bU.addListener(b.Al.O.kha,"updatingLastSuccessEvent",b.Jf.sHb.bind(b.Jf)),b.mc === h.In.Qn && b.RE());});};a.prototype.RGa=function(a){var b,c;b=this;if(null === (c=this.Wq) || void 0 === c || !c.ix)if(void 0 !== a.Nh)this.dNa(a);else this.rea.on(a.events,"branchNormalized",this.dNa.bind(this,a));!this.R.dJ && this.config.v3 && (this.vj("createDlTracksStart"),a.events.once("requestQueuesCreated",function(){return b.vj("createDlTracksEnd");}));this.HIa.mSb(a);this.R.iha(a);};a.prototype.dNa=function(a){t.assert(a.Nh);this.Wq={position:{Ba:a.ca.id,offset:a.Nh.Ia(a.ca.ul)},ix:!0};this.Jf.vOb(this.Wq.position,a.Wh.filter(function(a){return 0 === a.I;})[0]);};a.prototype.Tkb=function(){var a;this.HIa.reset();this.R.eD();this.Wq=void 0;null === (a=this.rea) || void 0 === a?void 0:a.clear();};a.prototype.erb=function(a,b){this.events.emit("streamSelection",{type:"streamSelection",mediaType:a.I,selDiscBw:null === b || void 0 === b?void 0:b.US,histAge:null === b || void 0 === b?void 0:b.$k});};a.prototype.Aob=function(a){var b;b=this;return {I:a.I,Uh:a.Uh,Qm:this.Qm.value,Tt:a.Tt,Aq:a.Aq,Zf:this.Zf,HRa:function(){var c,d,f,g,h,k;d=a.I;f=b.Ija.ONb(b.Qm.value,b.Zf,b.R.playbackRate,a,0 === d?b.$da:b.ML);g=f.stream;h=f.jL;f=f.QNb;if(!g)return !1;b.erb(g,f);k=1;if(null === (c=a.yc) || void 0 === c?0:c.Wh.every(function(a){return 0 === a.I;}))k=0;b.Jf.Qg && d === k && b.Jf.HOb(a.Tu.XK,g.S,f);b.cL(h);(c=a.MSb(g,b.HK[d])) && b.Oba && (b.vj("firstDriveStreaming"),b.Oba=!1);return c;}};};a.prototype.cL=function(a){var b;b=this;a.forEach(function(a){a.O.AOb(a,function(){var c,d,g;c=b.Jf.state.value;d=b.Zf;g=d.add(f.U.ad(b.config.ER));return {I:a.I,Uh:1,Qm:c,Tt:g,Aq:g,Zf:d};});});};a.prototype.RE=function(){var a,b,c,d,g;a=this;t.assert(this.mc === h.In.Qn);b=this.Xt;c=this.navigator.Nf(b.Ba);d=this.Zub();c=ka.RE(this.navigator,this.pyb,c,d,f.U.ad(this.config.bjb));d=this.Lb.cTb(c,function(c,d){var f;f=a.navigator.Nf(c);c=c === b.Ba?f.ul.add(b.offset):f.ul;return a.JSb(f,c,d);});g=d.FY;c=d.ln;d.qpa.forEach(function(a){a.pg();a.ca.xu=void 0;});g.forEach(function(b){return a.Uzb(b);});this.gLb();!this.config.v3 && 0 === this.HK.length && 0 < this.Lb.size && (d=this.GPa()) && this.fLb(d);0 === c.length && this.wkb();this.vo();};a.prototype.GPa=function(){var a;this.Lb.forEach(function(b){a=a || b.O;t.assert(b.O === a,"Multi-viewable playgraphs not supported");});return a;};a.prototype.gLb=function(){var a,b,d;if(!this.R.vJ){b=c.__read(this.Lb.Rw(this.C4.Ba),1)[0];b && this.RGa(b);}if(this.R.vJ){do {a=void 0;b=!1;if(void 0 !== this.R.vJ.ca.xu)(a=c.__read(this.Lb.Rw(this.R.vJ.ca.xu),1),a=a[0]);else {d=this.navigator.qvb(this.R.vJ.ca);1 === d.length && (a=c.__read(this.Lb.Rw(d[0].id),1),a=a[0]);}a && (this.RGa(a),b=!0);}while(b);}};a.prototype.wkb=function(){var a;if(0 === this.jub()){if(this.Jf.Qg){a=this.ki(this.Zf);this.Jf.og("complete",a.z5,a.A5);}this.Tdb();}};a.prototype.Zub=function(){return this.Lb.filter(function(a){return a.OC;}).map(function(a){return a.ca.id;});};a.prototype.jub=function(){return this.Lb.filter(function(a){return !a.OC;}).length;};a.prototype.tC=function(a){var b;b=T.Zka.bind(void 0,this.Lb,this.config);this.Jf.vJa(this.Zf,this.R.playbackRate,a,{Wea:this.Ija.Wea.bind(this.Ija,b)});};a.prototype.KGb=function(a,b){b.didNormalizeSegment && this.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:a.ca.id,normalizedStart:b.segmentContentStart,normalizedEnd:b.branchContentEnd});};a.prototype.Zdb=function(){this.RE();};a.prototype.JSb=function(a,b,c){var d,g,h,k,l;d=this;k=f.U.sb;if(c && c.Kj)k=c.Kj.Ia(a.ul);else if(null === (g=this.Wq) || void 0 === g?0:g.lWa)k=this.Wq.lWa.Ia(this.RYa);if(this.Pkb(a,b))throw Error("Not implemented");g=a.la;t.assert(!this.Al || this.Al.la === g,"Multi-viewable playgraphs not supported");l=null === (h=this.Al) || void 0 === h?void 0:h.O;if(l)return new q.I6(this.config,this.console,l,this.events,a,this.VYa(l),b,k,function(){return d.Zf.ka;},c,[],this.Qm,this.JA,this.KIa);this.Cpa(g);};a.prototype.Uzb=function(a){a.events.once("branchNormalized",this.KGb.bind(this,a));a.events.on("branchStreamingComplete",this.Zdb.bind(this,a));a.events.on("checkBufferingProgress",this.tC.bind(this,a));a.Ib();this.KX(a.ca.id,a.O,a.dr);};a.prototype.fLb=function(a){var b,c,d,f;b=this;c=a.u;t.assert(0 === this.HK.length);d=0;f=new g.Yg();this.vj("createDlTracksStart");this.HK=m.We.map(function(g){g=b.mr(g,c,a);++d;f.on(g,"created",function(){--d;0 === d && (b.vj("createDlTracksEnd"),f.clear());});return g;});};a.prototype.frb=function(a){this.events.emit("transportReport",a);};a.prototype.mr=function(a,b,c){var d;d=this;return W.mr(a,c,this.config,this.G,this.frb.bind(this),function(a,b){return d.Bg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",a,0,b);});};a.prototype.VYa=function(a){return [[0,this.fIa,"audio_tracks"],[1,this.W1a,"video_tracks"]].map(function(b){var d,f;d=c.__read(b,3);b=d[0];f=d[1];d=d[2];t.assert(f,"Expected mediaType " + b + " track selector to be defined");f=f.UK(a.ta,a.ta[d]);return void 0 !== f?a.CPa(b,f):void 0;}).filter(y.ona);};a.prototype.KX=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c.ka,maxBitrates:{audio:b.Rr[0],video:b.Rr[1]}};this.events.emit(a.type,a);};a.prototype.Tdb=function(){var a;a={type:"streamerEnd",time:n.time.da()};this.events.emit(a.type,a);};a.prototype.vj=function(a){a={type:"startEvent",event:a,time:n.time.da()};this.events.emit(a.type,a);};return a;})();b.mta=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;d=(function(){function a(a,b){this.G=a;this.Tf=b;this.fra=!1;}a.prototype.Bg=function(a,b,d,g,f,q){this.fra || (this.fra=!0,a={type:"error",error:null !== d && void 0 !== d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:f,nativeCode:q,viewableId:b},this.G.error("notifyStreamingError: " + JSON.stringify(a)),this.Tf.emit("error",a));};a.prototype.bn=function(){return this.fra;};return a;})();b.BCa=d;},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.m$=void 0;c=a(0);g=a(5);h=a(10);m=a(25);f=a(430);d=(function(a){function b(b){var c;c=a.call(this) || this;c.Fb=b;c.Lb=[];c.xN=new f.iaa({$m:!1,currentTime:function(){return c.eJ?c.Zf:h.U.Jr;},speed:1});return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{wa:{get:function(){return this.xN;},enumerable:!1,configurable:!0}});b.prototype.PY=function(a,b){var c;c=!this.Fb;c && (this.Fb=a,this.zba=(null === b || void 0 === b?0:b.eJ)?b.Zf:void 0);return c;};b.prototype.eD=function(){this.Lb=[];this.zba=void 0;};b.prototype.vga=function(a){m.sa && g.assert(this.Fb === a);this.Fb=void 0;this.eD();};b.prototype.iha=function(){for(var a,b=[],d=0;d < arguments.length;d++){b[d]=arguments[d];}(a=this.Lb).push.apply(a,c.__spread(b));};b.prototype.QI=function(){return this.zba?this.zba:a.prototype.QI.call(this);};b.prototype.oL=function(){};return b;})(a(428).D$);b.m$=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xTa=void 0;b.xTa=function(a){var b;b={};return function(c){(c in b) || (b[c]=a(c));return b[c];};};},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;c=a(0);g=a(25);h=a(77);d=(function(){function a(a){this.Fc=a;}Object.defineProperties(a.prototype,{Sm:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MR:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return g.sa;},enumerable:!1,configurable:!0}});a.prototype.Qw=function(a){var b,d,f,m;a=a.pk;if(a === h.ci.Kz || a === h.ci.jB)if(a=this.Fc.mia()){f={};try{for(var g=c.__values(a.bJb),k=g.next();!k.done;k=g.next()){m=k.value;f[m.I]=this.EDb(m);}}catch(y){b={error:y};}finally{try{k && !k.done && (d=g["return"]) && d.call(g);}finally{if(b)throw b.error;}}return {branchQueue:this.CDb(a.HKb),playerIterator:f};}};a.prototype.EDb=function(a){return null === a || void 0 === a?void 0:a.zOa();};a.prototype.BDb=function(a){var b,c,d;b=this;if(a){c=a.ca;d={};a.UI().forEach(function(a){d[a.I]=b.DDb(a);});return {sId:null === c || void 0 === c?void 0:c.id,cancelled:a.bk,RM:d};}return a;};a.prototype.DDb=function(a){if(a && a.Ra)return a.Ra.ija();};a.prototype.CDb=function(a){var b;b=this;return a.map(function(a){return b.BDb(a);});};return a;})();b.FBa=d;},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Yr=b.JPa=b.BRa=void 0;c=a(10);g=a(5);h=a(25);b.BRa=function(a,b){a=a.Ua[b.Ba];if(void 0 === a)return !1;if(void 0 === a.Ie || null === a.Ie)throw Error("Cannot validate graph position without endTimeMs");a=a.Ie - a.oe;return 0 <= b.offset.ka && b.offset.ka < a;};m=c.U.ad(100);b.JPa=function(a,b){if(a === b)return !0;if(a && b && a.Ba === b.Ba){if(a.offset === b.offset)return !0;a=c.U.abs(a.offset.Ia(b.offset));if(m.greaterThan(a))return !0;}return !1;};b.Yr=function(a,b,d){var f,k,l,m;l=b.Fb;b=b.cAb;void 0 === d && (d={});m=l.Sb;l=l.navigator;m=l.Nf(null !== (f=null === b || void 0 === b?void 0:b.id) && void 0 !== f?f:m.vg);f=null !== (k=null === b || void 0 === b?void 0:b.INb) && void 0 !== k?k:m.ul;if(f.greaterThan(a))return d.$Pb?{offset:a.Ia(f),Ba:m.id}:void 0;b=l.CBb(m);for(l=b.next();!l.done;){k=l.value;l=k.ur.Ia(k.ul);m=f;f=m.add(l);if(f.greaterThan(a))return (a=a.Ia(m),h.sa && g.assert(a.Ko(c.U.sb) && a.lessThan(l)),{Ba:k.id,offset:a});l=b.next();if(l.done && d.aQb)return {Ba:k.id,offset:a.Ia(m)};}};},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;c=a(17);g=a(105);h=a(3);m=a(176);f=a(37);d=(function(){function a(a,b,c){this.config=a;this.UPb=b;this.navigator=c;a=m["default"](this.config);this.zWa=[a.Px,a.pS];}a.prototype.ONb=function(a,b,d,g,h){var k,l,m,q,n;m=[];if(!this.OVa(g.track))return {stream:l,jL:m};l=g.eg.ox;q=h?h.Zk(g.track.gd,a):g.track.gd;if(0 === q.length && (null === h || void 0 === h?0:h.Xjb))return {stream:void 0,jL:m};l && !l.track.equals(g.track) && (l=this.etb(l,q));if(0 === g.I && l && !this.yPb(g,l))return {stream:l,jL:m};a=this.rob(a === c.Kc.qd?c.na.qd:a === c.Kc.ff?c.na.ff:a === c.Kc.bN?c.na.qd:a === c.Kc.Qn?c.na.Wc:c.na.bh,b,d,g);a=g.Tu.I4(a,q,void 0,this.zWa[g.I],!0,g.track.O.Do);if(!a)return {stream:l,jL:m};a.reason && (n={reason:a.reason,US:a.ku,ex:a.ex,$k:a.$k,al:a.al});l=q[a.fd];g.eg.zZa(l);if(null === (k=a.Gw) || void 0 === k?0:k.length)m=a.Gw.map(function(a){return f.kh(q,function(b){return b.id === a;});}).filter(f.ona);return void 0 !== n?{stream:l,jL:m,QNb:n}:{stream:l,jL:m};};a.prototype.Wea=function(a,b,d,f,g,h,k){var l,m;if(!c.gA(b))return {complete:!0,reason:"playing"};if(!h.RJb)return {complete:!1,reason:"unknown"};if(h.IHb)return h.JHb;l=this.LNa(h,d);m=h.eg.ox;d=l.Vk - l.$c;if(d < this.config.aj || void 0 === m)return {complete:!1,rz:d,reason:"preBuf"};if(0 === h.I)return {complete:!0,rz:d,reason:"audio"};if(a(h.I))return {complete:!0,rz:d,reason:"mediaDurationLimit"};this.OVa(h.track);h.Tu.Coa([m],!1,l,this.zWa[h.I]);a=h.Tu.xw(l,b,g,m,{nr:k});if(!a.complete && f >= this.config.Ox)return {complete:!0,reason:"prebufferTimeLimit",rz:d};a.rz=d;return a;};a.prototype.etb=function(a,b){var c;c=b[0];b.filter(function(a){return a.Mr;}).every(function(b){return b.S <= a.S?c=b:!1;});return c;};a.prototype.yPb=function(a,b){return 0 < this.config.wL.length?!0:(a=a.eg.wJ) && a === b.location?!1:!0;};a.prototype.OVa=function(a){return a.O.el.GL(a.O.la,a.gd);};a.prototype.LNa=function(a,b){var D;for(var c,d,f,g,k=b.Ia(this.UPb),l=[],m=a,q=b,n,p,u=0,r=!0;m;){D=m.Nvb(k);if(0 === D.aa.length)break;if(!r && !m.OC)break;q=D.aa[0].ll;void 0 === n && (n=D.aa[D.aa.length - 1].Kj,p=D.$na >= D.aa.length?n:D.aa[D.$na].ll);l=D.aa.concat(l);u+=D.yk;m=this.navigator.parent(m);m=(null === m || void 0 === m?0:m.K1())?m:void 0;r=!1;}k=h.$l()[a.I];a=null !== (f=null === (d=null === (c=h.QOa) || void 0 === c?void 0:c.call(h)) || void 0 === d?void 0:d[a.I]) && void 0 !== f?f:-1;return {Ip:k,S5:a,T:Math.floor(q.ka),$c:b.ka,Yb:Math.floor(null !== (g=null === n || void 0 === n?void 0:n.ka) && void 0 !== g?g:b.ka),Vk:Math.floor(p?p.ka:b.ka),xi:l.reduce(function(a,b){return a + b.$;},0),yk:u,Zha:l.length,aa:l};};a.prototype.rob=function(a,b,d,f){var h,k,l;h=this.LNa(f,b);k=1 === f.I?this.config.XT:this.config.NO;l=g.pf();return {state:a,jA:a === c.na.Wc,rg:f.uk,playbackRate:d,buffer:h,Mga:k,zSa:!1,QP:!1,Bp:null === l || void 0 === l?void 0:l.Bp,I:f.I,$c:b.ka,bq:!1,C1:!1,CS:0};};return a;})();b.rwa=d;},function(d,b,a){var g;function c(a,b,c,d,k,n,t){if(t && -1 === b.indexOf(t.id) && !a.UPa(t,k.id))return {a6:!1};a=t && a.Uxb(t,k.id);if(0 === a || -1 === b.indexOf(k.id) && n >= c)return {a6:!1};k.sTb(t,null === t || void 0 === t?void 0:t.dRb,a);g.assert(void 0 !== k.Uh);if(0 === k.Uh)return {a6:!1};b={Ba:k.id,Uh:k.Uh};t && (b.LA=t.id);d.push(b);k.GTb();return {a6:!0};}Object.defineProperty(b,"__esModule",{value:!0});b.Xqb=b.KUb=b.RE=void 0;g=a(5);b.RE=function(a,b,d,g,k){var f,h,l;h=[];l=(null === (f=d.ur) || void 0 === f?void 0:f.Ia(d.ul).ka) || 0;b.JUb(d,function(b,d,f){return c(a,g,k.ka + l,h,b,d,f);});return h;};b.KUb=c;b.Xqb=function(a){function b(){var b,d;d=[];a=a.filter(function(a){return void 0 === b || a.LA === b.Ba?(b=a,d.push(a),!1):!0;});c.push(d);}a=a.slice();for(var c=[];a.length;){b();}return c.map(function(a){return (a[0].LA?a[0].LA + " --\x3e":"") + a.map(function(a){return a.Ba + " (" + a.Uh + ") ";}).join("--\x3e");}).join(", ");};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;c=a(0);g=a(990);d=(function(){function a(a){this.Sb=a;this.Ua={};}a.QAb=function(a){return "immediate" === a || "delayedSeamless" === a;};a.prototype.Nf=function(a){var b,c,d;c=this.Ua[a];if(void 0 === c){c=this.Sb.Ua[a];if(void 0 === c)throw Error("Segment not found (" + a + ")");d=null !== (b=c.Ae) && void 0 !== b?b:this.Sb.Ae;c=new g.XAa(a,c,d);this.Ua[a]=c;}return c;};a.prototype.qvb=function(a){var b;b=this;return a.ca.next?Object.keys(a.ca.next).map(function(a){return b.Nf(a);}):[];};a.prototype.CBb=function(a){var b;return c.__generator(this,function(c){switch(c.label){case 0:return [4,a];case 1:(c.sm(),b=a,c.label=2);case 2:if(!b.ca.Ui)return [3,4];b=this.Nf(b.ca.Ui);return [4,b];case 3:return (c.sm(),[3,2]);case 4:return [2];}});};a.prototype.Uxb=function(a,b){return a.kUa[b];};a.prototype.UPa=function(b,c){return a.QAb(b.G0(c));};a.prototype.lj=function(a){var b;b=this;Object.keys(a).forEach(function(c){var d;return null === (d=b.Nf(c)) || void 0 === d?void 0:d.lj(a[c]);});};return a;})();b.TAa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.XAa=void 0;c=a(10);g=a(5);d=(function(){function a(a,b,d){var f;f=this;this.id=a;this.ca=b;this.Ae=d;this.AFa=!1;this.G0=function(a){var b,c,d;return null !== (d=null === (c=null === (b=f.ca.next) || void 0 === b?void 0:b[a]) || void 0 === c?void 0:c.Ae) && void 0 !== d?d:f.Ae;};this.fY=new c.U(b.oe,1E3);this.nX=void 0 !== b.Ie && null !== b.Ie?new c.U(b.Ie,1E3):c.U.Jr;this.gAb(b);}Object.defineProperties(a.prototype,{la:{get:function(){return this.ca.la;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bK:{get:function(){return this.AFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ul:{get:function(){return this.fY;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ur:{get:function(){return this.nX;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.nX.Ia(this.fY);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.fY.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qa:{get:function(){return this.nX.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{KA:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ys:{get:function(){return this.CA.length?!this.ca.Ui && 0 === this.SR.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kUa:{get:function(){return this.WN;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{CA:{get:function(){var a,b;return Object.keys(null !== (b=null === (a=this.ca) || void 0 === a?void 0:a.next) && void 0 !== b?b:{});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SR:{get:function(){var a;a=this;return this.CA.filter(function(b){return ! !a.WN[b];});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uh:{get:function(){return this.qH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dRb:{get:function(){return this.Dfb;},enumerable:!1,configurable:!0}});a.prototype.normalize=function(a,b){this.fY=a;this.nX=b;this.AFa=!0;};a.prototype.aOa=function(){var a;return this.SR.length?null !== (a=this.SR.map(this.G0).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== a?a:this.Ae:this.Ae;};a.prototype.lj=function(a){void 0 !== this.ca.next && (this.WN=Object.keys(this.ca.next).reduce(function(b,c){b[c]=a[c] || 0;return b;},{}));};a.prototype.GTb=function(){var a;a=this;this.Dfb=this.SR.reduce(function(b,c){return b + a.WN[c];},0);};a.prototype.sTb=function(a,b,c){a?(g.assert(void 0 !== a.Uh),this.qH=void 0 !== a.xu?this.id === a.xu?1:0:b?void 0 !== c?a.Uh * c / b:0:a.Uh / a.CA.length):this.qH=1;};a.prototype.Tyb=function(a){return -1 < this.CA.indexOf(a);};a.prototype.gAb=function(a){var b;if(void 0 === a.next)this.WN={};else {b=a.next;this.WN=Object.keys(b).reduce(function(a,c){var d;d=b[c].weight;void 0 !== d && null !== d && (a[c]=d);return a;},{});}};return a;})();b.XAa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Njb=b.jKa=void 0;c=a(992);b.jKa=function(a,b){return new c.iva(function(c){return Object.keys(c.ca.next || ({})).map(function(d){return {wUb:a.Nf(d),weight:a.UPa(c,d)?b:c.ur?c.ur.Ia(c.ul).ka:Infinity};});});};b.Njb=function(a,b){var c,d,g,h,k;c=Object.keys(a.Ua);d=Object.keys(b.Ua);g=d.filter(function(a){return -1 === c.indexOf(a);});h=c.filter(function(a){return -1 === d.indexOf(a);});k=c.filter(function(c){return -1 === d.indexOf(c)?!1:a.Ua[c].Ie !== b.Ua[c].Ie;});return {FY:g,qpa:h,U1b:k};};},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.iva=void 0;c=a(5);g=a(248);h=a(993);m=a(994);d=(function(){function a(a){this.arb=a;this.usa=!1;this.b6=new h.V$();this.Ju=new h.V$();this.IH=new m.rBa();}a.prototype.JUb=function(a,b){var f,h;function d(){var a,c,d;a=k.pop();c=l.IH.get(a);if(!l.b6.has(a)){l.b6.add(a);d=b(a,c.Hw,c.xWa).a6;h(a).forEach(function(b){var g,h;g=b.wUb;if(!f.b6.has(g))if((b=c.Hw + b.weight,f.Ju.has(g))){h=f.IH.get(g);b < h.Hw && (h.Hw=b,h.xWa=a,k.YJb(g));}else d && (f.Ju.add(g),f.IH.set(g,{Hw:b,xWa:a}),k.push(g));});}}f=this;h=this.arb;c.assert(!this.usa);this.usa=!0;this.b6.clear();this.Ju.clear();this.IH.set(a,{Hw:0});for(var k=new g.DV([a],function(a,b){return f.IH.get(a).Hw - f.IH.get(b).Hw;}),l=this;!k.empty;){d();}this.usa=!1;};return a;})();b.iva=d;},function(d,b){var g,h,m;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.IDa);}function c(b){return (a(b)?b:Object.defineProperties(b,{IDa:{value:{},configurable:!1,enumerable:!1}})).IDa;}Object.defineProperty(b,"__esModule",{value:!0});b.V$=void 0;h=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % h;d=(function(){function b(){this.L4=0;this.id=m=(m + 1) % h;}b.prototype.add=function(a){c(a)[this.id]=this.L4;return this;};b.prototype.has=function(b){return a(b) && c(b)[this.id] === this.L4;};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};b.prototype.clear=function(){this.L4=(this.L4 + 1) % h;return this;};return b;})();b.V$=d;},function(d,b){var g,h,m;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.HDa);}function c(b){return (a(b)?b:Object.defineProperties(b,{HDa:{value:{},configurable:!1,enumerable:!1}})).HDa;}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;h=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % h;d=(function(){function b(){this.id=m=(m + 1) % h;}b.prototype.get=function(b){return a(b)?c(b)[this.id]:void 0;};b.prototype.set=function(a,b){c(a)[this.id]=b;return this;};b.prototype.has=function(b){return a(b) && void 0 !== c(b)[this.id];};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};return b;})();b.rBa=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;c=a(10);g=a(37);h=a(5);d=(function(){function a(){this.Lb=new c.dza();}Object.defineProperties(a.prototype,{size:{get:function(){return this.Lb.size;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a;a=this.Lb.values();this.Lb.clear();a.forEach(function(a){return a.pg();});};a.prototype.Rw=function(a){return this.Lb.get(a);};a.prototype.has=function(a){return this.Lb.has(a);};a.prototype.pgb=function(a){this.Lb.set(a.ca.id,a);};a.prototype.e4=function(a){return this.Lb["delete"](a.ca.id,a);};a.prototype.forEach=function(a){var b;b=this;this.Lb.forEach(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Lb.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.map=function(a){var b;b=this;return this.Lb.map(function(c,d){return a(c,d,b);});};a.prototype.filter=function(a){var b;b=this;return this.Lb.filter(function(c,d){return a(c,d,b);});};a.prototype.cTb=function(a,b){var c,d,f;c=this;b=this.MDb(a,b);d=b.yRb;a=b.FY;b=b.ln;f=g.xr(this.Lb.keys().map(function(a){return g.nz(c.Lb.get(a),d);}));f.forEach(function(a){return c.e4(a);});a.forEach(function(a){return c.pgb(a);});return {FY:a,qpa:f,ln:b};};a.prototype.MDb=function(a,b){var d,f,k;function c(a,c){(a=b(a.Ba,c)) && f.push(a);return a;}d=this;f=[];k=[];return {yRb:a.reduce(function(a,b,f){var l,m;h.assert(0 === f || b.LA);if(b.LA && (l=g.RHa(a,function(a){return a.ca.id === b.LA;}),!l))return (h.assert(void 0 !== g.kh(k,function(a){return a.Ba === b.LA;}),"predecessorSegmentId " + b.LA + " specified without previously specifying predessor requiredBranch."),k.push(b),a);m=g.kh(d.Rw(b.Ba),function(a){return a.parent === l || 0 === f;}) || c(b,l);m?(m.Uh=b.Uh,a.push(m)):k.push(b);return a;},[]),FY:f,ln:k};};return a;})();b.NAa=d;},function(d,b,a){var c,g,h,m,f,q;Object.defineProperty(b,"__esModule",{value:!0});b.Uta=void 0;c=a(0);g=a(3);h=a(17);m=a(10);f=a(5);q=a(177);d=(function(){function a(a,b,c,d,f,g){var k;k=this;void 0 === g && (g=500);this.G=a;this.config=b;this.qb=c;this.events=d;this.nha=f;this.mjb=g;this.HWa=this.$j=0;this.bu={nr:0};this.state=new m.wv(h.Kc.Nk);this.IA=new m.wv(h.na.bh);this.hB=new q.fN({vR:10,EA:this,source:"BufferStateTracker",xda:function(){return {isBuffering:k.Qg,alwaysRunUnderflowTimer:k.config.GH};}});}Object.defineProperties(a.prototype,{nr:{get:function(){return this.bu.nr;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qg:{get:function(){return h.gA(this.state.value);},enumerable:!1,configurable:!0}});a.prototype.WUa=function(a){this.iF(a,h.Kc.qd);};a.prototype.TGb=function(){this.bu.nr++;};a.prototype.XUa=function(a){this.config.GH || void 0 === this.nx && this.Qg && this.Tfa();this.nx={UD:a.httpCode,qg:a.errorCode,ni:a.nativeCode};};a.prototype.sHb=function(){this.nx=void 0;this.config.GH || this.fD();};a.prototype.vk=function(a){this.iF(a,h.Kc.ff);this.Qg && (this.nx || this.config.GH) && this.Tfa();};a.prototype.qHb=function(a){this.iF(a,h.Kc.bN);};a.prototype.vOb=function(a,b){f.assert(this.state.value === h.Kc.qd && void 0 === this.Zx);this.Zx=a;b && this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:b.jb,trackIndex:b.JT});};a.prototype.HOb=function(a,b,c){f.assert(this.Qg);this.Kka=null !== a && void 0 !== a?a:this.Kka;this.Hka=null !== b && void 0 !== b?b:this.Hka;void 0 === this.q1?this.q1=c:void 0 !== (null === c || void 0 === c?void 0:c.reason) && (this.q1.reason=c.reason);};a.prototype.og=function(a,b,c){f.assert(this.Qg && void 0 !== this.Zx && void 0 === this.bD && void 0 === this.V5 && void 0 === this.vY);this.bD=a;this.V5=b;this.vY=c;this.uo=100;this.CJa();this.fD();this.state.value === h.Kc.ff && (this.HWa=g.time.da());this.i_();this.set(h.Kc.Qn);this.vY=this.V5=this.bD=this.q1=this.Hka=this.Kka=this.Zx=void 0;};a.prototype.stop=function(){this.set(h.Kc.Nk);this.CJa();this.fD();};a.prototype.vJa=function(a,b,c,d){var m,q,n,t,p,u,x,z,r;function k(a){var b;return {reason:a.reason,complete:a.complete,bl:null !== (b=a.rz) && void 0 !== b?b:0};}function l(c){return c?c.K1()?d.Wea(m.state.value,a,u,b,c,m.nr):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};}m=this;f.assert(this.Qg);if(!(this.state.value === h.Kc.ff && g.time.da() < this.HWa + this.config.KTa)){p=c.Via(0);c=c.Via(1);u=g.time.da() - this.$j;if(p || c){x=l(p);z=l(c);this.hB.QGa({as:k(x),vs:k(z),bt:u});r=c?z:x;r.yUb=c?z.rz:0;r.dib=p?x.rz:0;x.complete && z.complete?(r.complete=!0,this.og(null !== (q=r.reason) && void 0 !== q?q:"unknown",null !== (n=r.yUb) && void 0 !== n?n:0,null !== (t=r.dib) && void 0 !== t?t:0)):(r.complete=!1,this.Djb(r),this.hB.QGa({bp:this.uo}));}}};a.prototype.Djb=function(a){var b,c,d;d=a.ri;a.oA?d=(g.time.da() - this.$j) / this.config.Ox:d || (d=(null !== (b=a.rz) && void 0 !== b?b:0) / this.config.aj);a=Math.min(Math.max(Math.round(100 * d),null !== (c=this.uo) && void 0 !== c?c:0),99);a != this.uo && (this.uo=a);};a.prototype.iF=function(a,b){f.assert(b === h.Kc.qd || void 0 !== a);this.Zx=a;this.uo=0;this.b3=void 0;this.bu.nr=0;a=this.state.value === h.Kc.qd || this.state.value === h.Kc.ff;this.$j=g.time.da();this.set(b);a || (this.drb(),this.bPb());};a.prototype.set=function(a){this.state.set(a);switch(a){case h.Kc.Nk:this.IA.set(h.na.Nk);break;case h.Kc.qd:case h.Kc.bN:this.IA.set(h.na.qd);break;case h.Kc.ff:this.IA.set(h.na.ff);break;case h.Kc.Qn:this.IA.set(h.na.Wc);}};a.prototype.drb=function(){f.assert(this.events && void 0 !== this.uo);this.b3=this.uo;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g.time.da(),percentage:this.uo});};a.prototype.bPb=function(){var a;a=this;this.qna=setInterval(function(){return a.crb();},this.mjb);};a.prototype.CJa=function(){this.qna && (clearInterval(this.qna),this.qna=void 0);};a.prototype.crb=function(){this.Qg && this.events && void 0 !== this.uo && this.uo !== this.b3 && this.events.emit("buffering",{type:"buffering",time:g.time.da(),percentage:this.uo}) && (this.b3=this.uo);};a.prototype.i_=function(){var a;f.assert(this.events && this.Zx && void 0 !== this.bD && void 0 !== this.vY && void 0 !== this.V5);this.b3=this.uo;this.events.emit("bufferingComplete",{type:"bufferingComplete",time:g.time.da(),actualStartPosition:this.Zx,reason:this.bD,aBufferLevelMs:this.vY,vBufferLevelMs:this.V5,selector:this.Kka,initBitrate:this.Hka,initSelReason:null === (a=this.q1) || void 0 === a?void 0:a.reason,skipbackBufferSizeBytes:this.k6b});};a.prototype.Tfa=function(){var a;if(this.config.y1a && !this.Cq){a=this.config.rR;this.G.trace("BufferingStateTracker: Setting underflow timeout in in ${ms}ms");this.Cq=setTimeout(this.$R.bind(this),a);}};a.prototype.fD=function(){this.Cq && (clearTimeout(this.Cq),this.Cq=void 0);};a.prototype.$R=function(){var a,b;a=this.config.rR;b=this.qb.T1 || 0;b=g.time.da() - b;b >= a?(this.G.trace("Forcing streaming failure, ${elapsed}ms since data received"),this.Cq=void 0,this.nha.$R("BufferingStateTracker: Temporary failure while buffering","NFErr_MC_StreamingFailure",this.nx)):(this.G.trace("BufferingStateTracker: Resetting underflow timeout in in ${ms - elapsed}ms"),this.Cq=setTimeout(this.$R.bind(this),a - b));};c.__decorate([q.Zb({od:"onTemporaryNetworkError",pr:!0})],a.prototype,"XUa",null);c.__decorate([q.Zb({od:"onUnderflow",pr:!0})],a.prototype,"vk",null);c.__decorate([q.Zb({od:"bufferingComplete",pr:!0})],a.prototype,"og",null);c.__decorate([q.Zb({od:"stop",pr:!0})],a.prototype,"stop",null);c.__decorate([q.Zb({od:"checkStreamingBufferingComplete",pr:!0})],a.prototype,"vJa",null);c.__decorate([q.Zb({od:"createUnderflowTimeout",pr:!0})],a.prototype,"Tfa",null);c.__decorate([q.Zb({od:"clearUnderflowTimeout",pr:!0})],a.prototype,"fD",null);c.__decorate([q.Zb({od:"onUnderflowTimeout",pr:!0})],a.prototype,"$R",null);return a;})();b.Uta=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.DMa=void 0;c=a(37);b.DMa=function(a,b){var d;d=[];a=a.map(function(a){var f,g;f=b(a.O);g=c.nz(f,a.Wh).map(function(a){return a.I;});d=c.UHa(d,g);return {yc:a,Wh:f};});return {pkb:d,djb:a};};},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;c=a(0);g=a(21);h=a(5);d=(function(){function a(){}a.iyb=function(a){var b,d,f;if(a.ix){a=c.__read(a.Wh,2);f=a[1];a=null === (b=a[0].xm) || void 0 === b?void 0:b.ur;b=null === (d=null === f || void 0 === f?void 0:f.xm) || void 0 === d?void 0:d.ur;h.assert(a);d=b?g.U.min(a,b):a;return {HUb:a,IUb:d};}};return a;})();b.cCa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ota=void 0;c=a(122);d=(function(){function a(a,b,c){this.fg=a;this.YEb=b;this.JGb=c;}a.Kub=function(a){var b;return null !== (b=a.Kj) && void 0 !== b?b:a.kWa;};a.Mvb=function(a){var b,c;b=a.ca;c=a.CA;a=a.SR;if(b.Ui)return b.Ui;if(1 === c.length)return c[0];if(1 === a.length)return a[0];};a.prototype.mSb=function(b){var d,f,g;d=this;null === (f=this.iga) || void 0 === f?void 0:f.Qb();f=a.Kub(b).Ia(this.YEb);g=b.ca;g.ys || (this.iga=this.fg.EKa(c.Nq.dU(f),function(){d.JGb(g.id,a.Mvb(g),!0);}));};a.prototype.reset=function(){var a;null === (a=this.iga) || void 0 === a?void 0:a.Qb();this.iga=void 0;};return a;})();b.Ota=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zka=b.pPa=void 0;b.pPa=function(a,b){return a.reduce(function(a,c){return a + c.fvb(b).ka;},0);};b.Zka=function(a,c,d){return b.pPa(a,d) > c.yx;};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.tKa=void 0;c=a(0);g=a(17);b.tKa=function(a){var h,k,n;function b(a){g.gA(a.newValue) && !g.gA(a.oldValue)?(null === n || void 0 === n?void 0:n.Qb(),n=k.EKa.apply(k,c.__spread(d))):null === n || void 0 === n?void 0:n.Qb();}for(var d=[],h=1;h < arguments.length;h++){d[h - 1]=arguments[h];}h=a.Jf;k=a.e6;h.state.addListener(b);b({oldValue:g.Kc.Nk,newValue:h.state.value});};},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;c=a(0);g=a(5);h=a(3);m=a(177);d=(function(){var X31;X31=2;for(;X31 !== 8;){switch(X31){case 1:var J8Z="Y";J8Z+="q";var w8Z="a";w8Z+="d";w8Z+="dReq";w8Z+="uest";a.prototype.Tx=function(){var b41,a;b41=2;for(;b41 !== 3;){switch(b41){case 2:var Y8Z="Receive";Y8Z+="d r";Y8Z+="em";Y8Z+="ove request when there are no requests outstanding";a=this;this.eK--;g.assert(0 <= this.eK,Y8Z);setTimeout(function(){var c41;c41=2;for(;c41 !== 1;){switch(c41){case 2:return a.vo();break;case 4:return a.vo();break;c41=1;break;}}},0);b41=3;break;}}};a.prototype.vo=function(){var d41,a;d41=2;for(;d41 !== 5;){switch(d41){case 1:d41=this.eK < a && this.M1()?1:5;break;case 2:a=this.config.l2;d41=1;break;}}};c.__decorate([m.Zb({od:w8Z,pr:!0})],a.prototype,J8Z,null);X31=3;break;case 3:var i8Z="T";i8Z+="x";var g8Z="rem";g8Z+="oveR";g8Z+="equ";g8Z+="e";g8Z+="st";c.__decorate([m.Zb({od:g8Z,pr:!0})],a.prototype,i8Z,null);return a;break;case 2:a.prototype.Yq=function(){var a41;a41=2;for(;a41 !== 5;){switch(a41){case 2:var b8Z="Mo";b8Z+="re than maxAllowedO";b8Z+="utstandingRequests are ";b8Z+="outstanding";this.eK++;g.assert(this.eK <= this.config.l2,b8Z);a41=5;break;}}};X31=1;break;}}function a(a,b){var Y31,c;Y31=2;for(;Y31 !== 7;){switch(Y31){case 2:var Z8Z="1SIY";Z8Z+="bZrNJC";Z8Z+="p9";var M8Z="me";M8Z+="dia";M8Z+="|asejs";var H8Z="AS";H8Z+="EJS_REQUEST_";H8Z+="PACE";H8Z+="R";c=this;this.M1=a;this.config=b;this.eK=0;this.console=new h.Console(H8Z,M8Z);Z8Z;Y31=8;break;case 8:var a8Z="RequestP";a8Z+="ac";a8Z+="e";a8Z+="r";this.nu=new m.fN({EA:this,source:a8Z,xda:function(){var Z31;Z31=2;for(;Z31 !== 1;){switch(Z31){case 2:return {numOutstanding:c.eK};break;}}},vR:5});Y31=7;break;}}}})();b.HBa=d;},function(d,b,a){var c,g,h,m,f,q,l,n,t,p,z,y,B,r,I,E,da;Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;c=a(0);g=a(16);h=a(10);m=a(1004);f=a(37);q=a(5);l=a(1005);n=a(25);t=a(108);p=a(1006);z=a(1007);y=a(1008);B=a(1009);r=a(3);I=a(256);E=a(1011);da=a(1012);d=(function(){function a(a,b,c,d,f){void 0 === c && (c=new y.bva());void 0 === d && (d=new z.ava());this.tMa=a;this.config=b;this.dLb=c;this.mm=[];this.BWa=[];this.QL=[];this.events=new g.EventEmitter();this.G=h.tx(r,f,"PREFETCH");this.cHa(new B.Fua(b));this.cHa(new da.gCa(b));this.tOb({OQ:b.CJb});this.QOb(d);}Object.defineProperties(a.prototype,{AWa:{get:function(){return this.mm.map(function(a){return a.context;});},enumerable:!1,configurable:!0}});a.prototype.cHa=function(a){this.BWa.unshift(a);};a.prototype.reset=function(){var a,b,g,h,k,l,m;try{for(var d=c.__values(this.mm),f=d.next();!f.done;f=d.next()){g=f.value;h=g.Sb;k=g.P1;l=g.context;if(h){h.pg();k.clear();m=I.z0(l.hg,h.Sb);h.D4(m);}}}catch(va){a={error:va};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.tOb=function(a){n.sa && this.G.debug("Budget changed",{m5b:this.ZC,c5b:a});this.ZC=a;this.PWa();};a.prototype.Okb=function(a,b){var c,d,f,g;if(b=this.dLb.ftb(this.mm,{Sb:a,pi:b}))if((n.sa && this.G.debug("Claiming item: " + I.ju(b.context.hg.key),{Zj:r.time.da() - b.v5,buffer:null === (c=b.Sb) || void 0 === c?void 0:c.ki(h.U.sb)}),this.OLa(b.context,!1),b.Sb)){c=b.Sb;f=b.context;g=b.qq;E.eBa.hMb(c,b.P1,this.G);a=I.z0(f.hg,a);g.hNb(null !== (d=c.O0(a)) && void 0 !== d?d:h.U.sb);c.Dqa(void 0,void 0);c.$ra({OQ:this.config.So || Infinity});}this.config.fhb || this.reset();return null === b || void 0 === b?void 0:b.Sb;};a.prototype.Nkb=function(){};a.prototype.getStats=function(){var a;a=r.time.da();return {d7b:this.QL.length,AWa:this.AWa.length,h2b:this.mm.map(function(b){var c,d;return {id:I.ju(b.context.hg.key),buffer:null === (c=b.Sb) || void 0 === c?void 0:c.ki(h.U.sb),ZC:b.context.IRa,weight:b.context.G3,Zj:a - b.v5,g0a:a - (null !== (d=b.g0a) && void 0 !== d?d:0)};})};};a.prototype.OLa=function(a,b){var c,d;void 0 === b && (b=!0);d=f.kh(this.mm,function(b){return b.context === a;});d && (this.mm.splice(this.mm.indexOf(d),1),this.QL=this.QL.filter(function(b){return b !== a.hg;}),n.sa && this.G.debug("Dropping playgraph",{Zj:r.time.da() - d.v5,buffer:null === (c=d.Sb) || void 0 === c?void 0:c.ki(h.U.sb),O5b:b}),b && this.Nu(d),this.QL=this.QL.filter(function(a){return a.key !== d.context.hg.key;}),this.PWa());};a.prototype.QOb=function(a){q.assert(a,"Playgraph resolver is undefined");this.jJb=a;};a.prototype.PWa=function(){var a,b,d,g,h,k;a=this;b=m.oua.vAb({YUb:this.QL,myb:this.ZC},this.BWa.map(function(a){return a.cJa.bind(a);})).mm;d=f.nz(b,this.mm,function(a,b){return I.isEqual(a.hg.key,b.context.hg.key);});g=f.nz(this.mm,b,function(a,b){return I.isEqual(a.context.hg.key,b.hg.key);});h=f.nz(this.mm,g);n.sa && this.G.debug("Re-evaluated prefetch items. new:" + d.length + ", evict: " + g.length + ", update: " + d.length);g=g.map(function(b){var c;c=b.context.hg.key;n.sa && a.G.debug("Releasing playgraph",I.ju(c));return a.Nu(b).then(function(){a.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:b.context.hg});});});k=h.map(function(d){return c.__awaiter(a,void 0,void 0,function(){var a,g;return c.__generator(this,function(c){switch(c.label){case 0:return (a=f.kh(b,function(a){return I.isEqual(a.hg.key,d.context.hg.key);}),q.assert(a,"Couldn't find the requested item context"),[4,d.F3]);case 1:return (g=c.sm(),this.OHa(d.context,g),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:d.context.hg}),[2]);}});});});d=d.map(function(b){var c;c=a.vob(b);a.events.emit("itemQueued",{type:"itemQueued",wishListItem:b.hg});return c;});this.mm=c.__spread(h,d);h=d.map(function(a){return a.F3.then(function(){});});h=g.concat(k).concat(h);Promise.all(h).then(function(){});};a.prototype.Nu=function(a){var b;b=this;return a.F3.then(function(c){n.sa && b.G.debug("Removing prefetch playgraph",{size:c.ki(h.U.sb)});a.EMa.clear();b.tMa.Nu(c);});};a.prototype.sob=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,d,f,g;g=this;return c.__generator(this,function(c){switch(c.label){case 0:return (b=a.context,n.sa && this.G.debug("Creating playgraph",I.ju(b.hg.key)),[4,this.jJb.FDb(b)]);case 1:return (d=c.sm(),f=this.tMa.GO(d,b.G3,b.pi,b.hg.GUb,!1),a.EMa.addListener(f.events,"error",function(a){n.sa && g.G.debug("Prefetch playgraph resulted in error",a.Z2b);g.OLa(b,!0);}),[2,f]);}});});};a.prototype.wHb=function(a,b){a=a.context;this.OHa(a,b);b.open();b.eT({UK:function(a,b){var c;c=a.defaultTrackOrderList[0].audioTrackId;return f.SC(b,function(a){return a.track_id === c;});}},{UK:function(a,b){var c;c=a.defaultTrackOrderList[0].videoTrackId;return f.SC(b,function(a){return a.track_id === c;});}});b.D4(I.z0(a.hg,b.Sb));};a.prototype.OHa=function(a,b){var c;b.p1a(a.G3);b.$ra(a.IRa);a=a.HQb;c=a.video;b.Dqa(new t.eC(a.audio,!0),new t.eC(c,!0));};a.prototype.vob=function(a){var b,d,f;b=this;d=new l.fBa();f={context:a,v5:r.time.da(),EMa:new g.Yg(),qq:d};f.F3=this.sob(f);f.F3.then(function(g){return c.__awaiter(b,void 0,void 0,function(){var b;b=this;return c.__generator(this,function(){try{return (f.Sb=g,g.Dp(d),d.Zhb(g),f.P1=new p.$va(g.events,{APb:function(a){var b;b=a.ZP;switch(b){case "buffering":return !1;case "bufferingStarted":f.P1.IXa(function(a){return "bufferingComplete" === a.ZP || "updateStreamingPts" === a.ZP;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":f.P1.IXa(function(a){return a.ZP === b;});default:return !0;}}}),g.events.on("bufferingComplete",function(){b.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:a.hg});}),this.wHb(f,g),f.g0a=r.time.da(),[2,g]);}catch(Y){throw (n.sa && this.G.error("Exception occurred creating playgraph",Y),this.Nu(f),Y);}});});});return f;};return a;})();b.gBa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oua=void 0;d=(function(){function a(){}a.vAb=function(a,b){var f;function c(a){return d(f++)(a,c);}function d(a){return a >= b.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + a);}:b[a];}f=0;return c(a);};return a;})();b.oua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;c=a(3);g=a(77);d=(function(){function a(){this.ek=c.time.da();this.ld={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}a.prototype.Zhb=function(a){this.Sb=a;};a.prototype.hNb=function(a){var b;a=null === (b=this.Sb) || void 0 === b?void 0:b.ki(a);this.ld={isPrefetchItem:!0,prefetchedVideoMs:a.A5,prefetchedAudioMs:a.z5,prefetchClaimDurationMs:c.time.da() - this.ek};};Object.defineProperties(a.prototype,{Sm:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.Qw=function(a){if(a.pk === g.ci.nL)return this.ld;};return a;})();b.fBa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.$va=void 0;c=a(0);d=(function(){function a(a,b){void 0 === b && (b={});this.Eo=a;this.options=b;this.DD=[];this.TQ=new g(a,this.Agb.bind(this));}a.prototype.Agb=function(a){for(var b,c,d,g,h,k,m=[],n=1;n < arguments.length;n++){m[n - 1]=arguments[n];}m={ZP:a,gw:m};(null !== (d=null === (c=(b=this.options).APb) || void 0 === c?void 0:c.call(b,m,this.DD)) && void 0 !== d?d:1) && this.DD.push(m);return null !== (k=null === (h=(g=this.options).g6b) || void 0 === h?void 0:h.call(g,m)) && void 0 !== k?k:!0;};a.prototype.IXa=function(a){this.DD=this.DD.filter(function(b,c){return !a(b,c);});};a.prototype.rpa=function(){var a;a=this;this.TQ.Z0a();this.DD.forEach(function(b){var d;(d=a.Eo).emit.apply(d,c.__spread([b.ZP],b.gw));});this.TQ.install();};Object.defineProperties(a.prototype,{length:{get:function(){return this.DD.length;},enumerable:!1,configurable:!0}});a.prototype.clear=function(){this.DD=[];};a.prototype.Qb=function(){this.TQ.Z0a();};return a;})();b.$va=d;g=(function(){function a(a,b){var d;d=this;this.Eo=a;this.fP=b;this.TQ=function(a){for(var b,f=[],g=1;g < arguments.length;g++){f[g - 1]=arguments[g];}return d.fP.apply(d,c.__spread([a],f))?(b=d.fVa).call.apply(b,c.__spread([d.Eo,a],f)):!1;};this.fVa=this.Eo.emit;this.install();}a.prototype.install=function(){this.Eo.emit=this.TQ;};a.prototype.Z0a=function(){this.Eo.emit=this.fVa;};return a;})();},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.ava=void 0;c=a(0);g=a(432);h=a(256);m=a(3);d=(function(){function a(){}a.prototype.FDb=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,d,f,k,q;return c.__generator(this,function(c){switch(c.label){case 0:b=a.hg.key;if(!h.XQ(b))return [3,2];d=b.la;f=a.hg.GUb.lia(d);return [4,m.Promise.resolve(f.tsa)];case 1:return (k=c.sm(),q=k.ta,q.gr?[2,g.$ea(q.gr)]:[2,g.Rqa(d,"ps0")]);case 2:return [2,b.Sb];}});});};return a;})();b.ava=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;c=a(0);g=a(5);h=a(256);d=(function(){function a(){}a.ju=function(a){var b,c;b=a.Ua;a=a.vg;c=b[a].la;Object.keys(b).forEach(function(a){return g.assert(b[a].la === c);});return b[a].la;};a.prototype.ftb=function(b,d){return c.__read(b.filter(function(b){return a.ju(d.Sb) === h.ju(b.context.hg.key);}),1)[0];};return a;})();b.bva=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Fua=b.Iua=void 0;c=a(108);g=a(1010);b.Iua=625E3;d=(function(){function a(a){this.config=a;}a.prototype.cJa=function(a){var d,h,k;d=this.config.FP;h=(this.config.yR || this.config.LZ) * b.Iua / 1E3;k=Math.floor(a.myb.OQ / h);return {mm:a.YUb.sort(function(a,b){return a.me - b.me;}).slice(0,d).map(function(a,b){var d;d=a.key.config;return {IRa:{OQ:b > k - 1?0:h},hg:a,G3:1,pi:d,HQb:{audio:[c.mD(d),new g.oaa()],video:[c.nD(d),new g.oaa()]}};})};};return a;})();b.Fua=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.oaa=void 0;c=a(17);d=(function(){function a(){}a.prototype.Zk=function(a,b){return b === c.Kc.Qn?[]:a;};return a;})();b.oaa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.eBa=void 0;c=a(25);d=(function(){function a(){}a.hMb=function(a,b,d){var f;f=a.open;a.open=function(){c.sa && d.log("Replaying " + b.length + " events from prefetched playgraph");b.rpa();b.Qb();a.open=f;return f.call(a);};};return a;})();b.eBa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;d=(function(){function a(a){this.config=a;}a.prototype.cJa=function(a,b){var c,d;c=this;a=b(a);d=a.mm.map(function(a){return a.hg.me;});a.mm.forEach(function(a){a.G3=c.config.FJb / (2 << d.lastIndexOf(a.hg.me));});return a;};return a;})();b.gCa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Rva=void 0;c=a(77);d=(function(){function a(a){this.qb=a;}Object.defineProperties(a.prototype,{Sm:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.Qw=function(a){var b;if(a.pk === c.ci.Kz && this.qb){a={};b=this.qb.get();b && b.avtp && b.avtp.Ga && (a.avtp=b.avtp.Ga,a.dltm=b.avtp.ZZ);b && b.cdnavtp && (a.cdnavtp=b.cdnavtp,a.activecdnavtp=b.activecdnavtp);this.qb.flush();if(b=this.qb.nOa())for(var d in b){b.hasOwnProperty(d) && (a["ne" + d]=Number(b[d]).toFixed(6));}return a;}};return a;})();b.Rva=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;c=a(77);d=(function(){function a(a){a.events.on("streamSelection",this.oHb.bind(this));}a.prototype.oHb=function(a){0 === a.mediaType && void 0 === this.MQa?this.MQa=a:1 === a.mediaType && void 0 === this.PQa && (this.PQa=a);};Object.defineProperties(a.prototype,{Sm:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.Qw=function(a){var b;if(a.pk === c.ci.nL)return (a=null !== (b=this.PQa) && void 0 !== b?b:this.MQa,{histdiscbw:null === a || void 0 === a?void 0:a.selDiscBw,histage:null === a || void 0 === a?void 0:a.histAge});};return a;})();b.wCa=d;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;c=a(16);g=a(25);h=a(3);d=(function(){function a(a){this.fg=a;this.QW=[];this.reset();}Object.defineProperties(a.prototype,{Sm:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MR:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return g.sa;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a,b;a=this;null === (b=this.VG) || void 0 === b?void 0:b.clear();this.VG=new c.Yg();this.VG.on(this.fg,"clockChanged",function(){a.reset();a.iQ("initial");});this.VG.on(this.fg,"stopping",function(){a.iQ("stopping");});this.VG.on(this.fg.wa,"clockReset",function(){a.iQ("clockReset");});this.VG.on(this.fg.wa,"stopStart",function(){a.iQ("stopStart");});this.VG.on(this.fg.wa,"speedChanged",function(){a.iQ("speedChanged");});};a.prototype.iQ=function(a){this.QW.push({reason:a,audit:this.fg.wub(),time:h.time.da()});5 < this.QW.length && this.QW.shift();};a.prototype.Qw=function(){return this.QW;};return a;})();b.NCa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Rsa=void 0;c=a(77);d=(function(){function a(a){this.qb=a;}Object.defineProperties(a.prototype,{Sm:{get:function(){return "ActiveRequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.Qw=function(a){a=a.pk;if((a === c.ci.Kz || a === c.ci.jB) && this.qb && (a=this.qb.PGa) && a.length)return {activeRequests:JSON.stringify(a)};};return a;})();b.Rsa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;d=(function(){function a(a){var b;b=this;a=a.vo;this.SD=function(){b.vo();};this.vo=a;}a.prototype.GO=function(a){a.events.on("requestsPruned",this.SD);};a.prototype.Nu=function(a){a.events.removeListener("requestsPruned",this.SD);};return a;})();b.WAa=d;},function(d,b,a){var c,g,h,m,f,q,l,n,t,p,z,y,B,r,I,E,da,W;Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;c=a(0);g=a(16);h=a(17);m=a(429);f=a(17);q=a(10);l=a(5);n=a(21);t=a(423);p=a(8);z=a(77);y=a(108);B=a(177);r=a(255);I=a(1019);E=a(1020);da=a(3);W=0;d=(function(a){function b(b,c,d,h,k,m,n,t,p,u,x,L){var D,M,R,U,da;U=a.call(this) || this;U.console=b;U.HJ=c;U.TN=d;U.Fb=h;U.BH=k;U.Zx=m;U.zP=t;U.R=u;U.dAb=x;U.config=L;U.qC=!1;U.og=function(){var a,b,c,d;null === (a=U.SW) || void 0 === a?void 0:a.clear();a=U.Yab;l.assert(a);U.Wj.value !== f.na.Bv && U.Wj.value !== f.na.Nk && (null !== (b=U.Fc) && void 0 !== b && b.eJ?(b=null === (d=null === (c=U.HJ.Kh.qb.get()) || void 0 === c?void 0:c.Ma) || void 0 === d?void 0:d.Ga,U.Fb.M0a("startplay",z.ci.nL),U.C5.EY("emitBufferingComplete",{}),I.i_(U,a,U.Fc.Zf,b)):U.console.error("Shim received buffering complete but player has no position (player " + (U.Fc?"":"un") + "defined, state " + U.Wj.value + ")"));};U.gIa=function(){var a,b,c;U.C5.EY("audioTrackSwitchComplete",{});l.assert(void 0 !== U.Rv);b=U.TN.audio_tracks[U.Rv];c=U.Rv;U.Rv=void 0;I.$La(U,b,c);null === (a=U.NUa) || void 0 === a?void 0:a.call(U);U.NUa=void 0;};U.Vf=new g.Yg();U.la=h.Sb.Ua[U.dAb].la;U.Wj=new q.wv(f.na.bh);U.ML=new y.GW(U.console);b=U.Fb.nD(U.ML);d=U.Fb.mD();U.Fb.Dqa(d,b);h.eT({UK:function(){return U.BH[0];}},{UK:function(){return U.BH[1];}});U.E2b=!1;U.vLa=!1;I.VSa(U.console,c,U,U.Fb);da=W++;U.C5=new B.fN({EA:U,source:"ShimSession",console:U.console,vR:50,xda:function(){return {shimId:da};}});U.Fb.Dp(new r.eN(U.C5));U.nsa=void 0 !== (null === (R=null === (M=(D=U.R).tQ) || void 0 === M?void 0:M.call(D)) || void 0 === R?void 0:R.oa);U.tk=E.lIa(u);c=U.Anb({Uia:U.Lwb.bind(U)});U.Fc=c;return U;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.la;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ea:{get:function(){return this.zP.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ag:{get:function(){return this.Vf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rd:{get:function(){return {bAb:{1:{aa:{qa:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{x0a:{get:function(){return void 0 !== this.Rv;},enumerable:!1,configurable:!0}});b.prototype.DCb=function(){var a,b,c,d,f;a=this;f=null === (d=null === (c=(b=this.R).tQ) || void 0 === c?void 0:c.call(b)) || void 0 === d?void 0:d.oa;l.assert(f,"video element is not defined");f.addEventListener("play",function(){return a.Xca();});f.addEventListener("pause",function(){return a.Pk();});};b.prototype.RT=function(a,b){var c;this.Fb.lj((c={},c[a]=b,c));};b.prototype.open=function(){this.qC || (this.qC=!0,this.Fb.open(),this.emit("openComplete",{type:"openComplete"}),this.Fb.D4(this.Zx),l.assert(this.Fc,"asePlayer should be defined on session.open"),I.USa(this.HJ,this,this.Fc,this.console),this.Wj.set(f.na.qd),this.eU(this.og),this.Fb.Xhb(this.Fc),this.nsa && this.DCb());};b.prototype.Lwb=function(){this.ce || (this.ce=new da.MediaSource(this.tk),this.ce.Rb || (this.ce.Rb=da.MediaSource.Rb));return this.ce;};b.prototype.Anb=function(a){void 0 === a && (a={});a=c.__assign({xA:this.config.xA},a);return this.HJ.Kh.Lgb(this.tk,a);};b.prototype.close=function(){this.qC && (this.qC=!1);};Object.defineProperties(b.prototype,{IO:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});b.prototype.flush=function(){this.qC && this.Wj.value !== f.na.Nk && this.Wj.value !== f.na.Bv && this.stop();this.Fb.M0a("endplay",z.ci.Kz);this.Fb.pg();this.HJ.Of.save();this.HJ.kn.save();};b.prototype.paused=function(){this.nsa || this.Pk();};b.prototype.QT=function(){this.nsa || this.Xca();};b.prototype.Pk=function(){this.Wj.value === f.na.Wc && (this.Wj.set(f.na.rj),this.tk.emit("paused",{type:"paused",Hc:this.tk.$c}));};b.prototype.Xca=function(){this.Wj.value === f.na.rj && (this.Wj.set(f.na.Wc),this.tk.emit("playing",{type:"playing",Hc:this.tk.$c}));};b.prototype.ac=function(){var a,b;this.qC && this.Wj.value !== f.na.Nk && this.Wj.value !== f.na.Bv && this.stop();this.HJ.XLb(this);this.qC && this.close();this.Ev && (clearInterval(this.Ev),this.Ev=void 0);null === (a=this.Fc) || void 0 === a?void 0:a.Qb();null === (b=this.ce) || void 0 === b?void 0:b.Op();};b.prototype.suspend=function(){l.assert(!1,"Not supported");};b.prototype.resume=function(){l.assert(!1,"Not supported");};b.prototype.play=function(){var a;a=this;this.Fb.state !== m.In.CLOSED && (l.assert(this.Fc),this.Fc.resume(),this.Wj.set(f.na.Wc),this.tk.emit("playing",{type:"playing",Hc:this.tk.$c}),this.emit("play"),this.Ev || (this.Ev=setInterval(function(){return a.WFb();},this.config.$C)));};b.prototype.stop=function(){this.Wj.set(f.na.Bv);l.assert(this.Fc);this.Fc.pause();this.tk.emit("paused",{type:"paused",Hc:this.tk.$c});this.emit("stop");};b.prototype.MP=function(a,b){void 0 === b && (b=!0);if(!this.Fc)return this.fail("Must call open prior to drmReady");a=parseInt(a);p.isFinite(a) && (b?this.Fc.wqa(a):this.Fc.BOb(a));};b.prototype.Rja=function(){return this.Fc && this.Fc.eJ?this.Fc.hx(this.Fb.Sb.Ua[this.Fc.Xt.Ba].la):!1;};b.prototype.jB=function(){this.Wj.set(f.na.ff);this.tk.emit("underflow",{type:"underflow",Hc:this.tk.$c});this.eU(this.og);};b.prototype.u0=function(a){var b;b=z.ci.nL;switch(a){case "intrplay":b=z.ci.jB;break;case "endplay":b=z.ci.Kz;}return this.Fb.u0(b);};b.prototype.eWa=function(){this.tk.emit("playbackRateChanged",{type:"playbackRateChanged",Hc:this.tk.$c});};b.prototype.sl=function(){var a;a=this.tk.Ud();a={type:"skipped",pts:n.U.ad(a)};this.tk.emit(a.type,a);return new t.Aaa(Promise.resolve()).rYa;};b.prototype.dJa=function(a,b){var c;b=this.nja(b || 0,a);return null === (c=this.Fb.Xm(b,a)) || void 0 === c?void 0:c.Wb;};b.prototype.Wt=function(a,b){var c;c=new n.U(b,1E3);return (c=this.Fb.Yr(c,{aQb:!0,$Pb:!0}))?this.Fb.Sb.Ua[c.Ba].oe + c.offset.ka:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + a + ", playerPts: " + b);};b.prototype.sP=function(a,b){a=this.nja(a || 0,b);a={Ba:a,offset:new n.U(b - this.Fb.Sb.Ua[a].oe,1E3)};return (a=this.Fb.O0(a))?a.ka:b;};b.prototype.u1=function(){var a,b,c;b={};c=null === (a=this.Fb) || void 0 === a?void 0:a.pia();c && (b.vbuflmsec=c.totalvbuflmsecs,b.abuflmsec=c.totalabuflmsecs,b.vbuflbytes=c.vbuflbytes,b.abuflbytes=c.abuflbytes);return b;};b.prototype.z3=function(){return this.vA("pipeliningDisabled");};b.prototype.i0=function(){return {fe:0};};b.prototype.Xw=function(){var a,b,c,d;b=(null === (a=this.Fc) || void 0 === a?void 0:a.ZPa()) && this.Fc.Xw() || ({});a=b.ca;c=b.dr;d=b.kWa;b=b.soa;return {id:a?a.id:this.Zx.Ba,fe:(null === c || void 0 === c?void 0:c.ka) || 0,Wb:(null === a || void 0 === a?void 0:a.ul.ka) || Infinity,Vb:(null === a || void 0 === a?void 0:a.ur.ka) || 0,le:(null === d || void 0 === d?void 0:d.ka) || Infinity,dd:(null === b || void 0 === b?void 0:b.ka) || 0};};b.prototype.QXa=function(){return this.vA("removeSession");};b.prototype.qs=function(a,b,c){void 0 === b && (b=0);b=null !== c && void 0 !== c?c:this.nja(b,a);a={Ba:b,offset:n.U.ad(a - this.Fb.Sb.Ua[b].oe)};this.Fb.D4(a);l.assert(this.Fc);this.Fc.resume();this.Wj.set(f.na.qd);this.eU(this.og);a=this.Fb.EYa(a);l.assert(a,"Valid position must be provided for seek");return a.offset.ka;};b.prototype.seek=function(a,b){a=this.Wt(b,a);return this.qs(a,b);};b.prototype.Rt=function(a,b,c){var d,g;d=this.Xw().id;g=this.Fb.Cwb(d,a);if(b){if(!g.nUb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (a + " for current segment: " + d)),!1);if(void 0 !== g.xu)return g.xu === a;this.Fb.yn(d,a,!1,b);return !0;}if(void 0 !== g.xu)return (c || this.qs(g.Wb,0),!1);g.QIa?(l.assert(this.Fc),this.Fc.reset(),this.Fb.yn(d,a,!1,b),this.Fc.resume(),this.Wj.set(f.na.qd),this.eU(this.og)):c || this.qs(g.Wb,0);return ! !g.QIa;};b.prototype.EO=function(){return this.vA("addManifest");};b.prototype.AO=function(){return this.vA("activateManifest");};b.prototype.Fna=function(){this.eEa();};b.prototype.pra=function(a){var b,c,d,f,g,h;d=a.UC;if(void 0 !== this.Rv)return !1;a=this.TN.audio_tracks;if(!a.some(function(a,b){if(a.track_id === d)return (f=a,g=b,!0);}))return !1;a=a[this.BH[0]];this.Rv=g;h=null === (b=this.Fc) || void 0 === b?void 0:b.dB;h?this.eEa():(null === (c=this.Fc) || void 0 === c?void 0:c.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:f.language,newNumChannels:f.channels,sourceBufferReset:h}));return !0;};b.prototype.yq=function(a,b){this.ML.yq(a,b);};b.prototype.Si=function(a){return this.Fc?this.Fc.Si(n.U.ad(a)):!1;};b.prototype.r_=function(){return this.vA("evaluateQoE");};b.prototype.cra=function(){return this.vA("stopBuffering");};b.prototype.iF=function(){return this.vA("startBuffering");};b.prototype.kPa=function(){return this.vA("getStreamingStatistics");};b.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};b.prototype.nja=function(a,b){return 0 !== a?this.fail("Unexpected manifestIndex: " + a + ", single viewable playback only supports manifestIndex: 0"):this.htb(b);};b.prototype.htb=function(a){var b,c,d,f,h,k,m;b=this.Fb.Sb;c=[];l.assert(0 <= a,"contentPts must be 0 or greater for segmentId lookup");for(var g in b.Ua){h=b.Ua[g];k=h.oe;h=h.Ie;m=a < Number(null !== h && void 0 !== h?h:Infinity);if(k <= a && m)c.push(g);else if((k=Math.min(Math.abs(a - k),Math.abs(a - h)),void 0 === d || k < d))(d=k,f=g);}l.assert(1 >= c.length,"Overlapped segments detected in branching, this is not supported");a=c[0] || f;l.assert(void 0 !== a,"segmentId from contentPts lookup failed");return a;};b.prototype.WFb=function(){var a,b;b=null === (a=this.Fb) || void 0 === a?void 0:a.pia();b && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:b.vbuflbytes,vbuflbytes:b.abuflbytes,totalabuflmsecs:b.totalabuflmsecs,totalvbuflmsecs:b.totalvbuflmsecs,currentBandwidth:b.currentBandwidth});};b.prototype.vA=function(a){return this.fail("Method not implemented " + a);};b.prototype.eEa=function(){var a;a=this;l.assert(void 0 !== this.Rv);this.BH[0]=this.Rv;this.Fb.eT({UK:function(){return a.BH[0];}},{UK:function(){return a.BH[1];}});this.eU(this.gIa);};b.prototype.uOb=function(a){this.Yab=a;};b.prototype.eU=function(a){var b,c;b=this;a !== this.gIa && void 0 !== this.Rv?this.NUa=a:(null === (c=this.SW) || void 0 === c?void 0:c.clear(),this.SW=q.wv.RUb([this.Fb.Qm,this.Fc.lE],[h.Kc.Qn,!0],function(c){var d;c && (null === (d=b.SW) || void 0 === d?void 0:d.clear(),b.SW=void 0,setTimeout(a,0));}));};c.__decorate([B.Zb()],b.prototype,"RT",null);c.__decorate([B.Zb({od:"open"})],b.prototype,"open",null);c.__decorate([B.Zb({od:"close"})],b.prototype,"close",null);c.__decorate([B.Zb({od:"paused"})],b.prototype,"Pk",null);c.__decorate([B.Zb({od:"unpaused"})],b.prototype,"Xca",null);c.__decorate([B.Zb({od:"cleanup"})],b.prototype,"ac",null);c.__decorate([B.Zb({od:"suspend"})],b.prototype,"suspend",null);c.__decorate([B.Zb({od:"resume"})],b.prototype,"resume",null);c.__decorate([B.Zb({od:"play"})],b.prototype,"play",null);c.__decorate([B.Zb({od:"stop"})],b.prototype,"stop",null);c.__decorate([B.Zb({gw:!0,od:"drmReady"})],b.prototype,"MP",null);c.__decorate([B.Zb({od:"underflow"})],b.prototype,"jB",null);c.__decorate([B.Zb({od:"getLogdataReport"})],b.prototype,"u0",null);c.__decorate([B.Zb({od:"skipped"})],b.prototype,"sl",null);c.__decorate([B.Zb({od:"seekByContentPts"})],b.prototype,"qs",null);c.__decorate([B.Zb({od:"seek"})],b.prototype,"seek",null);c.__decorate([B.Zb({od:"chooseNextSegment",gw:!0})],b.prototype,"Rt",null);c.__decorate([B.Zb({od:"onAudioTrackSwitchStarted"})],b.prototype,"Fna",null);c.__decorate([B.Zb({od:"switchTracks"})],b.prototype,"pra",null);return b;})(g.EventEmitter);b.jCa=d;},function(d,b,a){var g,h,m;function c(a,b,c){var d,f;d=Array.isArray(c)?c[0]:c;f=Array.isArray(c)?c[1]:c;b.on(d,function(b){a.emit(f,g.__assign(g.__assign({},b),{type:f}));});}Object.defineProperty(b,"__esModule",{value:!0});b.$La=b.i_=b.USa=b.VSa=void 0;g=a(0);h=a(5);m=a(25);b.VSa=function(a,b,d,k){var f;["buffering",["debug","managerdebugevent"],"endOfStream","initialAudioTrack","lastSegmentPts","locationSelected","openComplete","startEvent",["streamerEnd","streamerend"],["transportReport","transportreport"]].forEach(function(a){c(d,k.events,a);});k.events.on("logdata",function(a){d.emit("logdata",g.__assign(g.__assign({},a),{fields:g.__assign(g.__assign({},a.fields),{aseApiVersion:d.IO})}));});f=!0;k.events.on("bufferingStarted",function(a){d.x0a && f?f=!1:(d.C5.EY("bufferingStarted",{}),d.emit("bufferingStarted",a));});k.events.on("bufferingComplete",function(a){d.x0a?f=!0:d.uOb(a);});k.events.on("error",function(a){a=g.__assign(g.__assign({},a),{manifestIndex:0});d.emit("error",a);});k.events.on("segmentComplete",function(a){d.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:0,segmentId:a.segmentId});});k.events.on("segmentNormalized",function(a){var b;a=k.vxb(a.segmentId);h.assert(a,"Segment should be normalized");b=Math.floor(a.HUb.ka);d.emit("maxPosition",{type:"maxPosition",index:0,endPts:b,maxPts:b,maxSeekPts:Math.floor(a.IUb.ka)});d.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:b,maxPts:b});});k.events.on("segmentStarting",function(a){d.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});d.emit("segmentStarting",a);});k.events.on("serverSwitch",function(a){d.emit("serverSwitch",{type:"serverSwitch",manifestIndex:0,segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});k.events.on("streamSelected",function(a){var b;b=k.DQ(a.position);d.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:b.oP.ka,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});k.events.on("updateStreamingPts",function(b){var c;c=d.u;m.sa && a.trace("converting updateStreamingPts, movieId:",c);d.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:b.mediaType,manifestIndex:0,trackIndex:b.trackIndex,segmentId:b.position.Ba,movieTime:Math.floor(b.completePlayerStreamingTimestamp.ka)});});};b.USa=function(a,b,d,g){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(a){return c(b,d.events,a);});d.events.on("streamPresenting",function(a){var c,d;c=a.playerTimestamp.ka;d=b.Fb.DQ(a.position);void 0 === d?g.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(a)):b.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(c),contentStartPts:Math.floor(d.oP.ka),mediaType:a.mediaType,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex});});d.events.on("segmentPresenting",function(a){var c,d,f;c=b.Fb.DQ(a.position);d=a.playerTimestamp.Ia(c.oP);f=a.position.Ba;b.vLa || (b.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:a.playerTimestamp.ka,movieId:c.la.toString(),replace:!1,contentOffset:d.ka}),b.vLa=!0);b.emit("segmentPresenting",{type:"segmentPresenting",segmentId:f,contentOffset:d.ka,metrics:a.metrics});});d.events.on("ptsChanged",function(a){b.emit("ptschanged",a.initialTimestamp.ka);b.tk.emit("skipped");});};b.i_=function(a,b,c,d){var f;c=c.ka;a.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:b.reason,actualbw:d,initSelReason:null !== (f=b.initSelReason) && void 0 !== f?f:"unknown",bcVBufferLevelMs:b.vBufferLevelMs,bcABufferLevelMs:b.aBufferLevelMs}});a.emit("ptschanged",c);a.emit("bufferingComplete",{type:"bufferingComplete",time:b.time,actualStartPts:c,aBufferLevelMs:b.aBufferLevelMs,vBufferLevelMs:b.vBufferLevelMs,selector:b.selector,initBitrate:b.initBitrate,skipbackBufferSizeBytes:b.skipbackBufferSizeBytes});};b.$La=function(a,b,c){a.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:b.track_id,trackIndex:c});};},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;c=a(16);g=a(106);h=a(10);b.lIa=function(a){if(a.sab)return a;g(c.EventEmitter.prototype,a);Object.defineProperties(a,{sab:{value:!0},$c:{get:function(){return new h.U(this.Ud(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Ym?this.Ym():1,.01);}}});return a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wm=b.iKa=void 0;b.iKa={vu:["minInitVideoBitrate",-Infinity],Vma:["minHCInitVideoBitrate",-Infinity],xx:["maxInitVideoBitrate",Infinity],GR:["minInitAudioBitrate",-Infinity],FR:["minHCInitAudioBitrate",-Infinity],sR:["maxInitAudioBitrate",Infinity],D2:["minAcceptableVideoBitrate",-Infinity],DR:["minAcceptableVMAF",0],SEb:["minAcceptableVMAFRebufferScalingFactor",0],Tma:["minAllowedVideoBitrate",-Infinity],ODb:["maxAllowedVideoBitrate",Infinity],pE:["minAllowedVmaf",-Infinity],XSa:["maxAllowedVmaf",Infinity],rL:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],l_:["enableResolutionVMAFStreamFilter",!1],eoa:["percentCapTitlesForResolutionVMAFStreamFilter",100],r4:["resolutionVMAFCappingRuleList",[]],wQa:["ignoreUserFilterOnEmptyResult",!0],HR:["minRequiredBuffer",2E4],I2:["minRequiredAudioBuffer",0],aj:["minPrebufSize",5800],Uma:["minCheckBufferingCompleteInterval",200],lMa:["enableMoreFrequentBufferingCompleteCheck",!1],KTa:["minimumBufferingCompleteInterval",1E4],l4:["requireDownloadDataAtBuffering",!1],GQa:["indicatorForDownloadDataAtBuffering","oncomplete"],m4:["requireSetupConnectionDuringBuffering",!1],fpa:["rebufferingFactor",1],lq:["maxBufferingTime",2E3],lsa:["useMaxPrebufSize",!0],sA:["maxPrebufSize",4E4],Ama:["maxRebufSize",Infinity],Csb:["fastRebufferRecoveryThreshold",Infinity],Bsb:["fastRebufferRecoverBwThrehold",3E3],n1:["initialBitrateSelectionCurve",null],JQa:["initSelectionLowerBound",-Infinity],KQa:["initSelectionUpperBound",Infinity],t5:["throughputPercentForAudio",15],hea:["bandwidthMargin",0],jea:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],Cib:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,ww:76376,scale:18862.4,gamma:3.0569}],iea:["bandwidthMarginContinuous",!1],Dib:["bandwidthMarginForAudio",!0],mra:["switchConfigBasedOnInSessionTput",!0],yfa:["conservBandwidthMargin",20],nP:["conservBandwidthMarginTputThreshold",6E3],zfa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],L_a:["switchAlgoBasedOnHistIQR",!1],eB:["switchConfigBasedOnThroughputHistory","iqr"],zma:["maxPlayerStateToSwitchConfig",-1],ama:["lowEndMarkingCriteria","iqr"],v8:["IQRThreshold",.5],hka:["histIQRCalcToUse","simple"],$q:["bandwidthManifold",{curves:[{min:.05,max:.82,ww:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,ww:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],So:["maxTotalBufferLevelPerSession",0],oQa:["highWatermarkLevel",3E4],t0a:["toStableThreshold",3E4],y5:["toUnstableThreshold",0],Tqa:["skipBitrateInUpswitch",!1],xsa:["watermarkLevelForSkipStart",8E3],aka:["highStreamRetentionWindow",9E4],bma:["lowStreamTransitionWindow",51E4],cka:["highStreamRetentionWindowUp",5E5],dma:["lowStreamTransitionWindowUp",1E5],bka:["highStreamRetentionWindowDown",6E5],cma:["lowStreamTransitionWindowDown",0],$ja:["highStreamInfeasibleBitrateFactor",.5],qx:["lowestBufForUpswitch",9E3],e2:["lockPeriodAfterDownswitch",15E3],fma:["lowWatermarkLevel",15E3],rx:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],gma:["lowestWaterMarkLevelBufferRelaxed",!1],Lma:["mediaRate",1.5],r2:["maxTrailingBufferLen",15E3],NO:["audioBufferTargetAvailableSize",262144],XT:["videoBufferTargetAvailableSize",1048576],oTa:["maxVideoTrailingBufferSize",8388608],ZSa:["maxAudioTrailingBufferSize",393216],A_:["fastUpswitchFactor",3],Dsb:["fastUpswitchFactorWithoutHeaders",3],Bha:["fastDownswitchFactor",3],yx:["maxMediaBufferAllowed",27E4],T4b:["minMediaBufferLen",1E4],Pqa:["simulatePartialBlocks",!0],RZa:["simulateBufferFull",!0],Afa:["considerConnectTime",!0],xfa:["connectTimeMultiplier",1],BSa:["lowGradeModeEnterThreshold",12E4],CSa:["lowGradeModeExitThreshold",9E4],bTa:["maxDomainFailureWaitDuration",3E4],YSa:["maxAttemptsOnFailure",18],GMa:["exhaustAllLocationsForFailure",!0],hTa:["maxNetworkErrorsDuringBuffering",20],rR:["maxBufferingTimeAllowedWithNetworkError",6E4],GH:["alwaysRunUnderflowTimer",!0],NMa:["fastDomainSelectionBwThreshold",2E3],a0a:["throughputProbingEnterThreshold",4E4],b0a:["throughputProbingExitThreshold",34E3],oSa:["locationProbingTimeout",1E4],RMa:["finalLocationSelectionBwThreshold",1E4],Z_a:["throughputHighConfidenceLevel",.75],$_a:["throughputLowConfidenceLevel",.4],Rla:["locationStatisticsUpdateInterval",6E4],VCb:["locationSelectorPersistFailures",!0],mMa:["enablePerfBasedLocationSwitch",!1],B4b:["maxRateMaxFragmentGroups",4500],joa:["pipelineScheduleTimeoutMs",2],zx:["maxPartialBuffersAtBufferingStart",2],Wma:["minPendingBufferLen",3E3],rA:["maxPendingBufferLen",6E3],wrb:["enableNginxRateLimit",!1],Z2:["nginxSendingRate",4E4],Arb:["enableRequestPacingToken",!1],vEb:["mediaRequestPacingSpeed",2],Ika:["initialMediaRequestToken",2E4],k2:["maxActiveRequestsSABCell100",2],o2:["maxPendingBufferLenSABCell100",500],iYa:["resetActiveRequestsAtSessionInit",!0],dMa:["enableCprAudio",!1],eMa:["enableCprVideo",!1],$kb:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],tQb:["staticPacingRateKbps",0],LHb:["paceRateSelectorAlgorithm","default"],Bma:["maxStreamingSkew",2E3],RDb:["maxBufferOccupancyForSkewCheck",Infinity],QTb:["useBufferOccupancySkipBack",!0],yma:["maxPendingBufferPercentage",10],LJ:["maxRequestsInBuffer",120],Y0:["headerRequestSize",4096],$yb:["headerCacheEstimateHeaderSize",!1],vE:["neverWipeHeaderCache",!1],G1a:["useSidxInfoFromManifestForHeaderRequestSize",!1],z_:["fastPlayHeaderRequestSize",0],kE:["maxRequestSize",0],Vgb:["additionalMaxRequestSizeChecks",!1],UJ:["minRequestSize",65536],ER:["minBufferLenForHeaderDownloading",1E4],WZa:["smartHeaderPreDownloading",!1],krb:["enableAllHeadersPreDownloading",!1],r5b:["onlyAllowPtsUpdatePolling",!1],ZEb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],IS:["reserveForSkipbackBufferMs",15E3],yna:["numExtraFragmentsAllowed",2],Xo:["pipelineEnabled",!0],KJ:["maxParallelConnections",3],ZTb:["usePipelineForAudio",!1],YTb:["usePipelineDetectionForAudio",!1],XZa:["socketReceiveBufferSize",0],RY:["audioSocketReceiveBufferSize",32768],LL:["videoSocketReceiveBufferSize",65536],E1a:["usePipelineDetectionForVideo",!1],cFb:["minVideoSocketReceiveBufferSize",65536],Yja:["headersSocketReceiveBufferSize",32768],nPb:["shareDownloadTracks",!0],oPb:["shareOpenRangeTracks",!1],v3:["perPipelineRequestQueues",!1],Xma:["minTimeBetweenHeaderRequests",void 0],L5:["updatePtsIntervalMs",1E3],vea:["bufferTraceDenominator",0],$C:["bufferLevelNotifyIntervalMs",2E3],gra:["streamingStatusIntervalMs",2E3],Ox:["prebufferTimeLimit",6E4],F2:["minBufferLevelForTrackSwitch",2E3],yrb:["enablePenaltyForLongConnectTime",!1],coa:["penaltyFactorForLongConnectTime",2],Zla:["longConnectTimeThreshold",200],vda:["additionalBufferingLongConnectTime",2E3],wda:["additionalBufferingPerFailure",8E3],BS:["rebufferCheckDuration",6E4],kMa:["enableLookaheadHints",!1],xSa:["lookaheadFragments",2],Jz:["enableOCSideChannel",!0],Loa:["probeRequestTimeoutMilliseconds",3E4],K5b:["probeRequestConnectTimeoutMilliseconds",8E3],QV:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],Brb:["enableSCByteRangeHints",!1],g1a:["updateDrmRequestOnNetworkFailure",!0],aTa:["maxDiffAudioVideoEndPtsMs",1E3],v4b:["maxAudioFragmentOverlapMs",80],Bpb:["deferAseHeaderCache",!1],kLa:["deferAseScheduling",!1],MRb:["timeBeforeEndOfStreamBufferMark",6E3],uma:["maxFastPlayBufferInMs",2E4],tma:["maxFastPlayBitThreshold",2E8],SDb:["maxBufferingCompleteBufferInMs",Infinity],E2:["minAudioMediaRequestSizeBytes",0],L2:["minVideoMediaRequestSizeBytes",0],QDb:["maxAudioMediaRequestSizeBytes",Infinity],dEb:["maxVideoMediaRequestSizeBytes",Infinity],RJ:["minAudioMediaRequestDuration",0],WJ:["minVideoMediaRequestDuration",0],TJ:["minMediaRequestDuration",0],PDb:["maxAudioMediaRequestDuration",Infinity],cEb:["maxVideoMediaRequestDuration",Infinity],tR:["maxMediaRequestDuration",Infinity],Cda:["allowFirstRequestAggregation",!1],UEb:["minAudioMediaRequestDurationCache",0],bFb:["minVideoMediaRequestDurationCache",0],vrb:["enableMultiFragmentRequest",!1],HL:[["useHeaderCache","usehc"],!0],O5:[["useHeaderCacheData","usehcd"],!0],FP:["defaultHeaderCacheSize",4],oga:["defaultHeaderCacheDataCount",4],LZ:["defaultHeaderCacheDataPrefetchMs",0],Uja:["headerCacheMaxPendingData",6],Vja:["headerCachePriorityLimit",5],iQa:["headerCacheAdoptBothAV",!1],$Tb:["usePipelineForBranchedAudio",!0],Hkb:["childBranchBatchedAmount",1E4],xA:["minimumTimeBeforeBranchDecision",2E3],$Db:["maxRequestsToAttachOnBranchActivation",void 0],MTa:["minimumJustInTimeBufferLevel",3E3],rrb:["enableJustInTimeAppends",!1],gMa:["enableDelayedSeamless",!1],G1b:["branchEndPtsIntervalMs",250],Dzb:["ignorePtsJustBeforeCurrentSegment",!1],dTa:["maxFragsForFittableOnBranching",300],fIb:["pausePlaylistAtEnd",!0],ngb:["adaptiveParallelTimeoutMs",1E3],zI:["enableAdaptiveParallelStreaming",!1],uea:["bufferThresholdToSwitchToSingleConnMs",45E3],tea:["bufferThresholdToSwitchToParallelConnMs",35E3],hrb:["enableAPSForBranching",!1],d6:["waitForPendingConnAdaptation",!1],fna:["networkFailureResetWaitMs",2E3],ena:["networkFailureAbandonMs",6E4],q2:["maxThrottledNetworkFailures",5],s5:["throttledNetworkFailureThresholdMs",200],ema:["lowThroughputThreshold",400],uha:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],LRb:["timeAtEachBitrateRoundRobin",1E4],WMb:["roundRobinDirection","forward"],syb:["hackForHttpsErrorCodes",!1],tzb:["httpsConnectErrorAsPerm",!1],UTa:["mp4ParsingInNative",!1],oh:["enableManagerDebugTraces",!1],PSa:["managerDebugMessageInterval",1E3],OSa:["managerDebugMessageCount",20],AUa:["notifyManifestCacheEom",!0],WP:["enableUsingHeaderCount",!1],ZZa:["sourceBufferInOrderAppend",!0],ns:["requireAudioStreamToEncompassVideo",!1],tHa:["allowAudioToStreamPastVideo",!1],rKa:["countGapInBuffer",!1],uHa:["allowCallToStreamSelector",!1],LIa:["bufferThresholdForAbort",2E4],k5:["ase_stream_selector","optimized"],aea:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Fka:["initBitrateSelectorAlgorithm","default"],zea:["bufferingSelectorAlgorithm","default"],KQb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],oMa:["enableThroughputTraceResearchData",!1],c0a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Ou:["researchEnvironmentEnabled",!1],Drb:["enableStreamSelectionAugmentData",!1],nib:["augmentDataNumOfChunks",30],YKa:["ase_ls_failure_simulation",""],ega:["ase_dump_fragments",!1],gga:["ase_location_history",0],hga:["ase_throughput",0],$Ka:["ase_simulate_verbose",!1],Cg:["stallAtFrameCount",void 0],d_a:["stallAtFrameCountAudio",void 0],pma:["marginPredictor","simple"],y1a:["useBackupUnderflowTimer",!0],Q6b:["useManifestDrmHeader",!0],R6b:["useOnlyManifestDrmHeader",!0],gna:["networkMeasurementGranularity","video_location"],FFb:["netIntrStoreWindow",36E3],b5b:["minNetIntrDuration",8E3],$bb:["fastHistoricBandwidthExpirationTime",10368E3],Dcb:["bandwidthExpirationTime",5184E3],Zbb:["failureExpirationTime",86400],MFa:["historyTimeOfDayGranularity",4],Wbb:["expandDownloadTime",!0],ndb:["minimumMeasurementTime",500],mdb:["minimumMeasurementBytes",131072],Aeb:["throughputMeasurementTimeout",2E3],zeb:["initThroughputMeasureDataSize",262144],Xcb:["historicBandwidthUpdateInterval",2E3],ldb:["minimumBufferToStopProbing",1E4],m1b:["throughputPredictor","ewma"],aqa:["secondThroughputEstimator","slidingwindow"],LYa:["secondThroughputMeasureWindowInMs",3E5],l1b:["throughputMeasureWindow",5E3],n1b:["throughputWarmupTime",5E3],k1b:["throughputIQRMeasureWindow",1E3],S0b:["IQRBucketizerWindow",15E3],eTa:["maxIQRSamples",100],GTa:["minIQRSamples",5],h1b:["connectTimeHalflife",10],b1b:["responseTimeHalflife",10],a1b:["historicThroughputHalflife",14400],$0b:["historicResponseTimeHalflife",100],Z0b:["historicHttpResponseTimeHalflife",100],Hwa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],zFa:["minReportedNetIntrDuration",4E3],j1b:["throughputBucketMs",500],V0b:["bucketHoltWintersWindow",2E3],Nbb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Xbb:["experimentalFilter",["throughput-wssl"]],Lba:["filterDefinitionOverrides",{}],Bbb:["defaultFilter","throughput-ewma"],jfb:["secondaryFilter","throughput-sw"],UG:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],k_:["enableHudsonFieldTest",!1],m_:["enableWsslEstimate",!1],Dma:["maxWsslRequestSize",131072],Cma:["maxWsslRequestRatio",.2],n2a:["wsslAggregationMethod","max"],KQ:["hudsonTitles",["81127954","70125931","80158148"]],oka:["hudsonStreams",("2076313785 2076314053 2076314493 2076314871 2076314922 2076315208 2076315730 2076316089 2076316293 2076316728").split(" ")],xma:["maxPartialBuffersAtHudson",1],WR:["numberOfChunksPerSegment",4],r5:["targetContentLatency",1E4],rra:["targetLongContentLatency",3E4],M2:["minimumTimeDelay",1],VP:["enableSessionHistoryReport",!0],Uga:["earlyStageEstimatePeriod",1E4],$Ra:["lateStageEstimatePeriod",3E4],n2:["maxNumSessionHistoryStored",10],J2:["minSessionHistoryDuration",3E5],czb:["highAndStableModelName","baseline"],Zga:["enableHighAndStablePredictor",!1],H2:["minNumSessionHistory",5],B1b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],$0:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],dzb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],AY:["addHeaderDataToNetworkMonitor",!0],ara:["startMonitorOnLoadStart",!1],tpa:["reportFailedRequestsToNetworkMonitor",!1],y3:["periodicHistoryPersistMs",0],y4:["saveVideoBitrateMs",0],OR:["needMinimumNetworkConfidence",!0],nea:["biasTowardHistoricalThroughput",!1],ZCb:["logMemoryUsage",!1],jQa:["headerCacheTruncateHeaderAfterParsing",!0],gs:["probeServerWhenError",!0],ew:["allowSwitchback",!0],ME:["probeDetailDenominator",100],m2:["maxDelayToReportFailure",300],dw:["allowParallelStreaming",!1],tEb:["mediaPrefetchDisabled",!1],FTa:["minBufferLevelToAllowPrefetch",5E3],xI:["editVideoFragments",!1],S2b:["editAudioFragments",!0],rNb:["seamlessAudio",!1],HFb:["newSeamlessAudio",!1],sNb:["seamlessAudioProfiles",[]],tNb:["seamlessAudioProfilesAndTitles",{}],NK:["seamlessAudioMaximumSyncError",void 0],OK:["seamlessAudioMinimumSyncError",void 0],SQ:["insertSilentFrames",0],VQa:["insertSilentFramesOnExit",void 0],UQa:["insertSilentFramesOnEntry",void 0],TQa:["insertSilentFramesForProfile",void 0],iAb:["insertSilentFramesOnSeek",!1],WQa:["insertSilentFramesOnSeekForTitles",[]],jAb:["insertSilentFramesOnSeekCount",3],Ftb:["forceDiscontinuityAtTransition",!0],ira:["supportAudioResetOnDiscontinuity",void 0],q5:["supportAudioEasingOnDiscontinuity",void 0],brb:["editCompleteFragments",!0],eFb:["minimumAudioFramesPerFragment",1],mz:["applyProfileTimestampOffset",!1],yj:["applyProfileStreamingOffset",!0],QWa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],HSb:["truncateEndOfStreamAudio",!1],STb:["useDpiAssumedAacEncoderDelay",!0],z2:["mediaSourceSupportsNegativePts",!1],SJ:["minAudioPtsGap",void 0],gib:["audioOverlapGuardSampleCount",2],nMa:["enableRecordJSBridgePerf",!1],D8:["JSBridgeTDigestConfig",{maxc:25,c:.5}],IRb:["throughputThresholdSelectorParam",0],OTb:["upswitchDuringBufferingFactor",2],khb:["allowUpswitchDuringBuffering",!1],mKa:["contentOverrides",void 0],Efa:["contentProfileOverrides",void 0],gka:["hindsightDenominator",0],fka:["hindsightDebugDenominator",0],a1:["hindsightAlgorithmsEnabled",["htwbr"]],b1:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],JHa:["appendMediaRequestOnComplete",!1],OL:["waitForDrmToAppendMedia",!1],N_:["forceAppendHeadersAfterDrm",!1],CK:["reappendRequestsOnSkip",!1],jga:["declareBufferingCompleteAtSegmentEnd",!1],ru:["maxActiveRequestsPerSession",void 0],Mla:["limitAudioDiscountByMaxAudioBitrate",!1],Ida:["appendFirstHeaderOnComplete",!0],m5:["strictBufferCapacityCheck",!1],LO:["aseReportDenominator",0],Sda:["aseReportIntervalMs",3E5],Mra:["translateToVp9Draft",!1],wL:["switchableAudioProfiles",[]],hib:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],M_a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],jib:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],nTa:["maxStartingVideoVMAF",110],VJ:["minStartingVideoVMAF",1],BO:["activateSelectStartingVMAF",!1],H4:["selectStartingVMAFTDigest",-1],TK:["selectStartingVMAFMethod","fallback"],UYa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],GA:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],jqb:["disablePtsStartsEvent",!0],hpa:["recordFirstFragmentOnSubBranchCreate",!0],rTa:["mediaCacheConvertToBinaryData",!1],Hma:["mediaCacheSaveOneObject",!1],WSa:["markRequestActiveOnFirstByte",!1],f_:["earlyAppendSingleChildBranch",!0],IL:["useNativeDataViewMethods",!0],Eda:["alwaysNotifyEOSForPlaygraph",!1],RTb:["useCorrectDrainingAmounts",!0],BI:["enableNewAse",!1],En:["useNewApi",!1],yga:["aseDiagnostics",[{Sm:"queue-audit",enabled:!0},{Sm:"task-audit",enabled:!0},{Sm:"trace-ShimSession",enabled:!0},{Sm:"trace-engine",enabled:!0},{Sm:"trace-RequestPacer",enabled:!0},{Sm:"trace-BufferStateTracker",enabled:!0}]],gJb:["playgraphImmediateTransitionDistance",3E3],bjb:["branchDistanceThreshold",6E4],l2:["maxAllowedOutstandingRequests",4],K2:["minStreamableConcurrencyWindow",3E3],l5:["streamableConcurrencyFactor",.3],aP:["bufferingConcurrencyWindow",7800],Qqa:["singleStreamablePerBranch",!0],CJb:["prefetchBudgetInBytes",0],YKb:["rebufferRiskHalfLife",1E4],ksa:["useBufferSizeLimiter",!1],FJb:["prefetchWeightBudget",32]};b.Wm=b.iKa;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.yy=b.EM=b.zy=b.pR=b.lCa=void 0;c=a(0);g=a(107);Object.defineProperty(b,"Mp4FragmentParser",{enumerable:!0,get:function(){return g.EM;}});Object.defineProperty(b,"Mp4FragmentSlicer",{enumerable:!0,get:function(){return g.yy;}});Object.defineProperty(b,"makeMdatHeader",{enumerable:!0,get:function(){return g.pR;}});Object.defineProperty(b,"SidxBox",{enumerable:!0,get:function(){return g.lCa;}});h=a(3);d=(function(a){function b(c,d,f,g,h){return a.call(this,b.console,c,d,f,g,h) || this;}c.__extends(b,a);Object.defineProperties(b,{console:{get:function(){return this.G || (this.G=new h.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return b;})(g.zy);b.zy=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.HKa=void 0;b.HKa=function(a,b,d,g){return {$Oa:function(){var b;b=a.cja();g.Fr && (b+=g.Fr);return b;},ma:b,request:d,em:!1};};},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.AA=void 0;d=a(1);c=a(437);g=a(1025);h=a(161);b.AA=new d.Pc(function(a){a(c.FV).to(g.bza).Z();a(h.FM).IT(function(a){return function(){return a.gb.get(c.FV).vFb;};});});},function(d,b,a){var g;function c(){var a;a=this;this.ready=!1;this.vFb=new Promise(function(b){a.GMb=b;});}Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;d=a(0);a=a(1);c.prototype.wFb=function(a){this.ready || (this.GMb(a),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};g=c;g=d.__decorate([a.N()],g);b.bza=g;},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.ii=void 0;d=a(1);c=a(80);g=a(438);h=a(1027);m=a(440);f=a(1028);b.ii=new d.Pc(function(a){a(c.Ms).zf(function(){return function(){return O._cad_global.device;};});a(m.k7).to(f.gva).Z();a(g.j7).to(h.eva).Z();});},function(d,b,a){var g,h,m,f,q,l;function c(a,b){this.wa=a;this.Woa=b;}Object.defineProperty(b,"__esModule",{value:!0});b.eva=void 0;d=a(0);g=a(34);h=a(4);m=a(134);f=a(439);q=a(52);a=a(1);c.prototype.bub=function(){for(var a="",b=this.wa.ve.ba(h.fa),c=6;c--;){a=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[b % 32] + a;b=Math.floor(b / 32);}for(;30 > a.length;){a+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Woa.dXa(new f.X$(0,31,q.KUa))];}return a;};l=c;l=d.__decorate([a.N(),d.__param(0,a.l(g.Vg)),d.__param(1,a.l(m.YM))],l);b.eva=l;},function(d,b,a){var g,h,m,f,q,l,n,t,p,z,y,B,r;function c(a,b,c,d,f,g,h,k,l,m){this.Zpb=a;this.Fk=b;this.Da=d;this.Wfa=f;this.tc=g;this.debug=h;this.lUb=k;this.Vfa=l;this.jIb=m;this.C7=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.ob("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.gva=void 0;d=a(0);g=a(2);h=a(20);m=a(1029);f=a(6);q=a(438);l=a(41);n=a(85);t=a(26);p=a(1);z=a(63);y=a(441);B=a(442);a=a(443);c.prototype.IMa=function(a){try{return a.match(this.C7)[2];}catch(E){}};c.prototype.KMa=function(a){try{return a.match(this.C7)[1];}catch(E){}};c.prototype.create=function(a){var b;b=this;return new Promise(function(c,d){b.Fk.create().then(function(f){var k,l,q,n,t,p;function h(f){b.Da.Om(f) && b.Da.Om(k)?(l=new m.fva(f,k,void 0,q,a.xga || "cadmium"),c(l)):d({ja:g.K.Mua});}k=a.Nz;if(a.zia)(q="bind_device",b.jIb.Le(b.log,{}).then(function(a){h(a.esn);})["catch"](function(a){d(a);}));else if(a.Y_){t=a.ji;if(b.Da.Om(t)){p=b.KMa(t);p != a.Nz && b.log.error("esn prefix from ui is different",{ui:p,cad:a.Nz,ua:a.userAgent});}else a.Ula && b.log.error("esn from ui is missing");f.load(a.tLa).then(function(a){n=a.value;b.Da.Om(n) && (!1,b.Da.Om(t)?(a=b.IMa(t),q=a === n?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):q="storage_esn_not_in_config",h(k + n));})["catch"](function(c){var n;function l(){f.save(a.tLa,n,!1).then(function(){h(k + n);})["catch"](function(a){d(a);});}function m(){n=b.Zpb.bub();!1;l();}c.ja === g.K.Dy?b.Da.Om(a.ji)?(n=b.IMa(a.ji),b.Da.Om(n)?(q="config_since_not_in_storage",l()):(q="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.ji),m())):(q="generated_since_not_in_config_and_storage",m()):d(c);});}else a.aqb && b.Wfa && b.Wfa.getKeyByName?b.Wfa.getKeyByName(a.oib).then(function(a){a=a.id;if(b.Da.lo(a))(a=String.fromCharCode.apply(void 0,b.tc.decode(a)),b.debug.assert("" != a),k=b.KMa(a),h(a));else throw "ESN from getKeyByName is not a string";})["catch"](function(a){d({ja:g.K.Z6,ub:b.lUb.$e(a)});}):a.$pb && b.Vfa && b.Vfa.cOa?b.Vfa.cOa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=k + a;b.debug.assert(b.C7.test(a));h(c);})["catch"](function(){d({ja:g.K.Z6});}):h();})["catch"](function(a){d(a);});});};r=c;r=d.__decorate([p.N(),d.__param(0,p.l(q.j7)),d.__param(1,p.l(z.Hs)),d.__param(2,p.l(f.xb)),d.__param(3,p.l(h.De)),d.__param(4,p.l(B.V6)),d.__param(5,p.l(l.Di)),d.__param(6,p.l(n.Ls)),d.__param(7,p.l(t.Df)),d.__param(8,p.l(y.U6)),d.__param(9,p.l(a.U9))],r);b.gva=r;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;b.fva=function(a,b,d,g){this.ji=a;this.Nz=b;this.qha=g;};},function(d,b,a){var c,g,h,m,f,q,l,n,t,p,z,y,B,r,I,E,da,W,R,M,D,U;Object.defineProperty(b,"__esModule",{value:!0});b.vSa=void 0;d=a(1);c=a(161);g=a(1031);h=a(1032);m=a(1033);f=a(1034);q=a(1035);l=a(13);n=a(1036);t=a(1037);p=a(1038);z=a(36);y=a(80);B=a(449);r=a(445);I=a(444);E=a(64);da=a(259);W=a(47);R=a(450);M=a(1039);D=a(453);U=a(455);b.vSa=new d.Pc(function(a){a(W.El).to(h.Qxa).Z();a(r.q9).to(m.Wya).Z();a(I.U8).to(f.$xa).Z();a(da.S8).to(q.Xxa).Z();a(W.yV).to(n.Pxa).Z();a(E.Lq).to(t.Vxa).Z();a(da.R8).to(p.Wxa).Z();a(R.T8).to(M.Yxa).Z();a(D.p7).to(U.kva).Z();a(B.m6).to(g.Xsa).Z();a(W.N8).IT(function(a){return function(){return a.gb.get(c.FM)().then(function(b){return new Promise(function(c){var f,g,h;function d(){g() && h() && b.Q2?c(a.gb.get(W.El)):f.Vc(d);}f=a.gb.get(z.Ig);g=a.gb.get(l.Oc);h=a.gb.get(y.Ms);f.Vc(d);});});};});});},function(d,b,a){var g,h,m,f,q,l,n;function c(a,b,c,d){var f;f=this;this.iDb=a;this.hE=b;this.config=d;this.ipa=[];this.iDb.d4(g.y2a,this.zyb.bind(this));c().then(function(a){var b;b=d().qr.Dtb;f.XDb=b?n.Gi[b.toUpperCase()]:n.Gi.ERROR;f.rh=a;f.WNb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Xsa=void 0;d=a(0);h=a(1);m=a(13);f=a(103);q=a(47);l=a(64);n=a(6);c.prototype.zyb=function(a,b){this.rh?this.bXa(a,b):this.ipa.push([a,b]);};c.prototype.WNb=function(){var a,b;a=this;b=this.ipa;this.ipa=[];b.forEach(function(b){a.bXa(b[0],b[1]);});};c.prototype.bXa=function(a,b){var c;if(this.rh && this.uPb(a)){c={debugMessage:a.message,debugCategory:a.Rm};a.ld.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.hE.Mp("debug",n.Gi[a.level].toLowerCase(),c,b);this.rh.Uc(a);}};c.prototype.uPb=function(a){var b;b=this.XDb;return void 0 !== b && a.level <= b && !a.ld.find(function(a){return a.YP(n.kM);});};a=g=c;a.y2a="adaptorAll";a=g=d.__decorate([h.N(),d.__param(0,h.l(f.LB)),d.__param(1,h.l(l.Lq)),d.__param(2,h.l(q.N8)),d.__param(3,h.l(m.Oc))],a);b.Xsa=a;},function(d,b,a){var g,h,m,f,q,l,n,t,p,z,y;function c(a,b,c,d,f,g,k){this.config=a;this.json=b;this.ya=c;this.XCb=d;this.BR=g;this.fga=k;this.E1=this.dm=!1;this.listeners=[];h.gn(this,"json");this.ma=f.ob("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.Qxa=void 0;d=a(0);g=a(1);h=a(52);m=a(33);f=a(444);q=a(36);l=a(6);n=a(47);t=a(445);p=a(2);z=a(88);a(179);y=a(446);c.prototype.Ib=function(){this.dm=!0;};c.prototype.Uc=function(a){var b;b=this;this.EPb(a) || (!1,0 < a.size.Cj(this.config.UDb)?this.ma.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.BEb(a);}),!1,this.BR.qda(a),this.ya.Vc(function(){b.ptb();})));};c.prototype.flush=function(a){var b;a=void 0 === a?!1:a;b=this;return this.E1?(this.ma.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.ma.trace("Flushing",l.kM);b.jj();b.ya.Vc(function(){b.lqa(a).then(function(){c();})["catch"](function(a){d(a);});});});};c.prototype.addListener=function(a){this.listeners.push(a);};c.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0 <= a && this.listeners.splice(a,1);};c.prototype.lqa=function(a){var b,c;a=void 0 === a?!1:a;b=this;if(!this.dm)return (this.ma.trace("LogBatcher is not initialized"),Promise.resolve());if(this.E1)return (this.ma.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());c=this.BR.Fub();if(0 === c.length && !a)return (this.ma.trace("No logblobs to send"),Promise.resolve());!1;this.jj();this.listeners.forEach(function(){});a=Promise.resolve();for(var d={},f=T(c),g=f.next();!g.done;(d={lea:d.lea},g=f.next())){d.lea=g.value;a=a.then((function(a){return function(){return b.SNb(a.lea);};})(d));}return a.then(function(){return b.zD();})["catch"](function(a){c.filter(function(a){return !a.gx;}).forEach(function(a){return a.Up();});b.zD();throw Error("Send failure. " + a);});};c.prototype.SNb=function(a){var b;b=this;this.ma.trace("Sending batch: " + a.size,l.kM);return Promise.resolve(this.BR.QLb(a)).then(function(){return b.XCb.send(a.Ax);}).then(function(){return a.uL();})["catch"](function(c){b.ma.warn("Failed to send batch of logblobs.",c,l.kM);a.Up();b.qPb(c) && b.BR.ogb(a);b.FPb(c) && (b.E1=!0);throw c;});};c.prototype.qPb=function(a){return a.Og === p.sV.Pza?!1:this.config.oda;};c.prototype.FPb=function(a){return a.pd === p.K.owa || a.pd === p.K.uM || a.pd === p.K.yM?!0:!1;};c.prototype.ptb=function(){var a;a=this;0 < this.BR.size.Cj(this.config.fTa)?this.lqa()["catch"](function(b){return a.ma.warn("Failed to send log messages on size threshold. " + b);}):this.zD();};c.prototype.jj=function(){this.cE && (!1,this.cE.cancel(),this.cE=void 0);};c.prototype.zD=function(){this.cE || (!1,this.cE=this.ya.yh(this.config.TNb,this.Ex.bind(this)));};c.prototype.Ex=function(){var a;a=this;this.E1=!1;this.jj();this.lqa()["catch"](function(b){return a.ma.warn("Failed to send log messages on timer. " + b);});};c.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(I){}return b;};c.prototype.EPb=function(a){return 0 <= this.config.MZa.indexOf(a.type)?!0:a.type === y.Ee.debug?0 <= this.config.LZa.indexOf(a.data.debugCategory):!1;};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(n.yV)),d.__param(1,g.l(m.sy)),d.__param(2,g.l(q.Ig)),d.__param(3,g.l(f.U8)),d.__param(4,g.l(l.xb)),d.__param(5,g.l(t.q9)),d.__param(6,g.l(z.iM))],a);b.Qxa=a;},function(d,b,a){var h,m,f,q,l,n,t;function c(a){this.vH=f.sb;this.nca=[];this.MN=this.xX=!1;this.SDa=0;a && (this.vH=a.size,this.nca=a.Ax,a instanceof c && (this.SDa=a.bib + 1));}function g(a,b,c,d){this.CEb=a;this.config=b;this.sf=c;this.json=d;m.gn(this,"json");this.ma=this.sf.ob("MessageQueue");this.cr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Wya=void 0;d=a(0);h=a(1);m=a(52);f=a(46);q=a(259);l=a(6);n=a(33);a=a(47);g.prototype.qda=function(a){var b,c;0 === this.cr.length && this.cr.push(this.Cia());if(a=this.oxb(a)){b=this.CEb.measure([a]);c=this.cr[this.cr.length - 1];0 < c.size.add(b).Cj(this.config.fTa) && (c=this.Cia(),this.cr.push(c));c.qda(a);}};g.prototype.Fub=function(){var a;a=this.cr.filter(function(a){return a.Zjb;});this.cr.push(this.Cia());a.forEach(function(a){return a.IDb();});return a;};g.prototype.ogb=function(a){a.gx || this.cr.unshift(new c(a));};g.prototype.QLb=function(a){a=this.cr.indexOf(a);0 <= a && this.cr.splice(a,1);};g.prototype.oxb=function(a){try{return {data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(B){var b,c;b={};a=a.data;c=a.debugMessage;c && "string" === typeof c && (b.originalDebugMessage=c);(a=a.debugCategory) && "string" === typeof a && (b.originalDebugCategory=a);this.ma.error("JSON.stringify error: " + B.message,b);}};g.prototype.Cia=function(){return new c();};pa.Object.defineProperties(g.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.cr.reduce(function(a,b){return a.add(b.size);},f.sb);}}});t=g;t=d.__decorate([h.N(),d.__param(0,h.l(q.S8)),d.__param(1,h.l(a.yV)),d.__param(2,h.l(l.xb)),d.__param(3,h.l(n.sy))],t);b.Wya=t;c.prototype.uL=function(){this.xX=!1;this.MN=!0;};c.prototype.Up=function(){this.xX=!1;};c.prototype.qda=function(a){this.nca.push(a);this.vH=this.vH.add(a.size);};c.prototype.IDb=function(){this.xX=!0;};pa.Object.defineProperties(c.prototype,{bib:{configurable:!0,enumerable:!0,get:function(){return this.SDa;}},size:{configurable:!0,enumerable:!0,get:function(){return this.vH;}},Ax:{configurable:!0,enumerable:!0,get:function(){return this.nca;}},Zjb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.Ax.length && !1 === this.xX;}},gx:{configurable:!0,enumerable:!0,get:function(){return this.MN;}}});},function(d,b,a){var h,m,f,q,l,n,t,p,z,y,B;function c(a,b,c,d,f,g,h,k){this.xa=a;this.platform=c;this.ii=d;this.json=f;this.wd=g;this.cj=h;this.gDb=k;m.gn(this,"json");this.ma=b.ob("LogblobSender");}function g(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$xa=void 0;d=a(0);h=a(1);m=a(52);f=a(33);q=a(4);l=a(26);n=a(19);t=a(32);p=a(80);z=a(6);y=a(447);a=a(81);c.prototype.send=function(a){var b;b=this;return new Promise(function(c,d){var f;try{f=a.reduce(function(a,c){a.entries.push(b.fob(c));return a;},new g());c(b.eub(f));}catch(R){b.ma.error(R.message);d(R);}}).then(function(a){return b.oqa(a);});};c.prototype.fob=function(a){return this.wd.KR(this.wd.KR({},a.data),{esn:this.ii().ji,sev:a.severity,type:a.type,lver:this.platform.fDb,jssid:this.xa.id,devmod:this.platform.wga,jsoffms:a.timestamp.Ia(this.xa.fE).ba(q.fa),clienttime:a.timestamp.ba(q.fa),client_utc:a.timestamp.ba(q.Em),uiver:this.cj.gy});};c.prototype.eub=function(a){var b;b=this;try{return this.json.stringify(a);}catch(W){for(var c={},d=0;d < a.entries.length;(c={qT:c.qT,Je:c.Je},++d)){c.Je=Object.assign({},a.entries[d]);try{this.json.stringify(c.Je);}catch(R){c.qT=void 0;this.wd.Lz(c.Je,(function(a){return function(c,d){try{b.json.stringify(d);}catch(ka){a.qT=ka.message;a.Je[c]=a.qT;}};})(c));c.Je.stringifyException=c.qT;c.Je.originalType=c.Je.type;c.Je.type="debug";c.Je.sev="error";}}return this.json.stringify(a);}};c.prototype.oqa=function(a){var b;b=this;return this.gDb.Le(this.ma,{logblobs:a}).then(function(){!1;})["catch"](function(a){b.ma.error("PBO logblob failed",a);return Promise.reject(a);});};B=c;B=d.__decorate([h.N(),d.__param(0,h.l(n.xd)),d.__param(1,h.l(z.xb)),d.__param(2,h.l(t.sj)),d.__param(3,h.l(p.Ms)),d.__param(4,h.l(f.sy)),d.__param(5,h.l(l.Df)),d.__param(6,h.l(a.Zs)),d.__param(7,h.l(y.d$))],B);b.$xa=B;},function(d,b,a){var g,h,m;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=void 0;d=a(0);g=a(1);h=a(259);m=a(46);c.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.$Cb());}).reduce(function(a,b){return a.add(b);},m.$(0));};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(h.R8))],a);b.Xxa=a;},function(d,b,a){var g,h,m,f,q,l,n;function c(a,b){a=l.pe.call(this,a,"PboConfigImpl") || this;a.config=b;a.UDb=g.$(5E5);a.TNb=h.JR(1);a.fTa=g.$(1E6);return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;d=a(0);g=a(46);h=a(4);m=a(1);f=a(13);q=a(42);l=a(44);a=a(31);N(c,l.pe);pa.Object.defineProperties(c.prototype,{oda:{configurable:!0,enumerable:!0,get:function(){return this.config().oda;}},MZa:{configurable:!0,enumerable:!0,get:function(){return [];}},LZa:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});n=c;d.__decorate([q.config(q.object(),"shedLogblobTypes")],n.prototype,"MZa",null);d.__decorate([q.config(q.oo("string"),"shedDebugTypes")],n.prototype,"LZa",null);n=d.__decorate([m.N(),d.__param(0,m.l(a.tj)),d.__param(1,m.l(f.Oc))],n);b.Pxa=n;},function(d,b,a){var h,m,f,q,l,n,t,p,z;function c(a,b,c,d,f,g,h,k,l,m){this.platform=b;this.Xfa=c;this.type=d;this.severity=f;this.timestamp=g;this.xa=k;this.data=h;this.data.type=d;this.data.sev=f;this.data.devmod=this.platform.wga;this.data.clver=this.platform.version;a && a.zj && (a.zj.os && (this.data.osplatform=a.zj.os.name,this.data.osver=a.zj.os.version),this.data.browsername=a.zj.name,this.data.browserver=a.zj.version);a.hla && (this.data.tester=!0);a.$z && !this.data.groupname && (this.data.groupname=a.$z);a.UH && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + a.UH:a.UH);a.BF && (this.data.uigroupname=a.BF);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.xa.jwb();this.data.uniqueLogId=l.ENa();this.data.appId=this.xa.id;m && (a=this.xa.zb(),this.data.soffms=a.Ia(m.zk).ba(q.fa),this.data.mid=this.data.mid || m.u,this.data.lvpi=m.h2,this.data.uiLabel=m.Nd,this.data.uxLabels=m.T5,d="startup" === d?"playbackxid":"xid",this.data[d]="xid" === d && this.data.xid || m.ea,m.aF && (d=m.aF,(m=m.aF.split(".")) && 1 < m.length && "S" !== m[0][0] && (d="SABTest" + m[0] + ".Cell" + m[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + d:d));}function g(a,b,c,d,f,g){this.wa=a;this.Xfa=b;this.config=c;this.xa=d;this.mUb=f;this.platform=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Vxa=void 0;d=a(0);h=a(46);m=a(1);f=a(34);q=a(4);l=a(321);n=a(35);t=a(19);p=a(448);a=a(32);g.prototype.Mp=function(a,b,d,f){return new c(this.config,this.platform,this.Xfa,a,b,this.wa.ve,d,this.xa,this.mUb,f);};z=g;z=d.__decorate([m.N(),d.__param(0,m.l(f.Vg)),d.__param(1,m.l(l.W6)),d.__param(2,m.l(n.Dl)),d.__param(3,m.l(t.xd)),d.__param(4,m.l(p.Kaa)),d.__param(5,m.l(a.sj))],z);b.Vxa=z;pa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.ZIa || (this.ZIa=h.$(this.Xfa.encode(this.data).length));return this.ZIa;}}});},function(d,b,a){var g,h,m;function c(a){this.ii=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Wxa=void 0;d=a(0);g=a(1);h=a(46);a=a(80);c.prototype.$Cb=function(){var a;a=this.ii()?this.ii().ji.length:40;return h.$(a + 33);};m=c;m=d.__decorate([g.N(),d.__param(0,g.l(a.Ms))],m);b.Wxa=m;},function(d,b,a){var g,h,m,f,q,l,n,t,p,z,y,B,r,I,E,da,W,R,M,D;function c(a,b,c,d,f,g,h,k,l,m,q,n,t,p,u,x,y,B){this.d0a=a;this.jZ=b;this.rh=c;this.Jma=d;this.xha=f;this.Nc=g;this.b_=h;this.cf=k;this.config=l;this.pc=m;this.wa=q;this.xa=n;this.platform=t;this.nn=p;this.hE=u;this.pi=x;this.Wp=y;this.C2=B;}Object.defineProperty(b,"__esModule",{value:!0});b.Yxa=void 0;d=a(0);g=a(214);h=a(339);m=a(47);f=a(26);q=a(347);l=a(218);n=a(1);t=a(451);p=a(453);z=a(109);y=a(13);B=a(34);r=a(19);I=a(32);E=a(64);da=a(82);W=a(146);R=a(33);M=a(35);a=a(454);c.prototype.create=function(a,b,c){return new t.Zxa(a,b,c,this.d0a,this.jZ,this.rh,this.Jma,this.xha,this.Nc,this.b_,this.cf,this.config,this.pc,this.wa,this.xa,this.platform,this.nn,this.hE,this.pi,this.Wp,this.C2);};D=c;D=d.__decorate([n.N(),d.__param(0,n.l(g.AW)),d.__param(1,n.l(h.Q6)),d.__param(2,n.l(m.El)),d.__param(3,n.l(q.i9)),d.__param(4,n.l(l.K7)),d.__param(5,n.l(f.Df)),d.__param(6,n.l(p.p7)),d.__param(7,n.l(z.uy)),d.__param(8,n.l(y.Oc)),d.__param(9,n.l(da.kt)),d.__param(10,n.l(B.Vg)),d.__param(11,n.l(r.xd)),d.__param(12,n.l(I.sj)),d.__param(13,n.l(R.tG)),d.__param(14,n.l(E.Lq)),d.__param(15,n.l(W.vG)),d.__param(16,n.l(M.Dl)),d.__param(17,n.l(a.t9))],D);b.Yxa=D;},function(d,b,a){var g;function c(a,b,c){a=g.LU.call(this,a,b) || this;a.yz=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.lua=void 0;g=a(452);N(c,g.LU);b.lua=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Sa=void 0;b.$Sa=function(a,b){var f,q;if(0 !== a.length){if(1 === a.length)return a[0];for(var c=a[0],d=b(c),g=1;g < a.length;g++){f=a[g];q=b(f);q > d && (c=f,d=q);}return c;}};},function(d,b,a){var c,g,h,m,f,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.fUa=void 0;d=a(1);c=a(1043);g=a(109);h=a(456);m=a(1044);f=a(260);q=a(457);l=a(1045);b.fUa=new d.Pc(function(a){a(h.Saa).to(c.FDa).Z();a(g.uy).cy(function(){return O._cad_global.http;});a(f.IM).to(m.jza).Z();a(q.C9).wi(l["default"]);});},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;d=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};g=c;g=d.__decorate([a.N()],g);b.FDa=g;},function(d,b,a){var g,h,m,f;function c(a,b,c){this.config=a;this.TCb=b;this.qb=c;}Object.defineProperty(b,"__esModule",{value:!0});b.jza=void 0;d=a(0);g=a(294);h=a(1);m=a(159);a=a(457);c.prototype.Mfa=function(){if(this.config.B1a)return this.qb(this.TCb());};f=c;f=d.__decorate([h.N(),d.__param(0,h.l(g.B9)),d.__param(1,h.l(m.A9)),d.__param(2,h.l(a.C9))],f);b.jza=f;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(1046);g=a(1047);h=a(1048);b["default"]=function(a){var b;a=new c.n6(a);b=new h.K8a(a);return new g.J8a(a,b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.nSa=a;}a.prototype.xqa=function(a){try{this.nSa.setItem("gtp",JSON.stringify(a));}catch(k){return !1;}return !0;};a.prototype.tOa=function(){var a;try{a=this.nSa.getItem("gtp");if(a)return JSON.parse(a);}catch(k){}};a.prototype.Zm=function(){var a;a=this.tOa();if(a && a.tp)return a.tp.a;};a.prototype.awb=function(){var a;a=this.Lia();if(a)return a.p25;};a.prototype.bwb=function(){var a;a=this.Lia();if(a)return a.p50;};a.prototype.cwb=function(){var a;a=this.Lia();if(a)return a.p75;};a.prototype.Lia=function(){var a;a=this.tOa();if(a && (a=a.iqr))return a;};return a;})();b.n6=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a,b){this.Lt=a;this.UR=b;}a.prototype.xqa=function(a){return this.Lt.xqa(a);};a.prototype.Zm=function(){return this.Lt.Zm();};a.prototype.Ewb=function(){return this.UR.UR();};return a;})();b.J8a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.Lt=a;}a.prototype.UR=function(){var a,b,d;a=this.Lt.awb();b=this.Lt.bwb();d=this.Lt.cwb();if("number" === typeof a && "number" === typeof b && "number" === typeof d)return (d - a) / b;};return a;})();b.K8a=d;},function(d,b,a){var c,g,h,m,f,q,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.ANa=void 0;d=a(1);c=a(1050);g=a(1051);h=a(1052);m=a(1053);f=a(1054);q=a(458);l=a(459);n=a(151);b.ANa=new d.Pc(function(a){a(n.R7).to(c.mwa).Z();a(n.Z$).to(g.BBa).Z();a(n.Y$).to(h.ABa).Z();a(q.P7).to(m.kwa).Z();a(l.q8).to(f.Kwa).Z();});},function(d,b,a){var g,h,m,f,q,l,n,t;function c(a,b,c,d,f,g,h){this.config=a;this.sQa=b;this.ya=c;this.Sh=d;this.jMb=f;this.spa=g;this.DBb=0;this.ma=h.ob("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.mwa=void 0;d=a(0);h=a(1);m=a(4);f=a(36);q=a(6);l=a(458);n=a(459);a=a(151);c.prototype.start=function(){this.config.enabled && !this.tq && (this.tq=this.ya.yh(this.config.e_a,this.VA.bind(this)));};c.prototype.stop=function(){this.tq && (this.tq.cancel(),this.tq=void 0);};c.prototype.VA=function(){var a,b;a=this;b="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.DBb++;this.Mxb(b).then(function(b){return Promise.all(b.Be.map(function(c){return a.Jyb(b,c.url,c.name);})).then(function(c){0 < c.length && a.jMb.GS({data:c,context:b.context,Xla:b.Xla});}).then(function(){return b;});}).then(function(b){a.tq && (b.JRa?a.tq=a.ya.yh(b.JRa,a.VA.bind(a)):a.stop());})["catch"](function(b){return a.ma.error("FTL run failed",b);});};c.prototype.Mxb=function(a){var b;b=this;return this.sQa.get(a,!1).then(function(c){var d;if(200 != c.status || null == c.body)return (b.spa.GS({url:a,status:c.status,ioa:"FTL API request failed",Dd:c.Dd}),Promise.reject(Error("FTL API request failed: " + c.status)));d=b.Sh.parse(c.body);return d instanceof Error?(b.spa.GS({url:a,status:4,ioa:"FTL Probe API JSON parsing error",Dd:c.Dd}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error && (b.spa.GS({url:a,status:0,ioa:c.message}),b.ma.error("FTL API call failed",c.message));return Promise.reject(c);});};c.prototype.Jyb=function(a,b,c){var d;d=this;return new Promise(function(f,h){var u;for(var k,l,q,n=[],t={},p=0;p < a.xKb;(t={Ul:t.Ul,Toa:t.Toa},++p)){t.Ul=p < a.ZWa.length?a.ZWa[p]:m.sb;t.Toa="" + b + (-1 === b.indexOf("?")?"?":"&") + "pulse=" + (p + 1);u=(function(b){return function(){return new Promise(function(c,f){d.ya.yh(b.Ul,function(){g.dKb(d.sQa,b.Toa,a.wKb).then(function(a){function b(a,b,c){a || (a=c.headers[b]);return a;}k=b(k,"via",a);l=b(l,"x-ftl-probe-data",a);q=b(q,"x-ftl-error",a);c({status:a.status,Dd:a.Dd,xUb:k || "",Lkb:l || "",BD:q || ""});})["catch"](function(a){f(a);});});});};})(t);n.push(0 < p?n[p - 1].then(u):u());}Promise.all(n).then(function(a){f({url:b,name:c,data:a});})["catch"](function(a){h(a);});});};c.dKb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};t=g=c;t=g=d.__decorate([h.N(),d.__param(0,h.l(a.Q7)),d.__param(1,h.l(n.q8)),d.__param(2,h.l(f.Ig)),d.__param(3,h.l(l.P7)),d.__param(4,h.l(a.Z$)),d.__param(5,h.l(a.Y$)),d.__param(6,h.l(q.xb))],t);b.mwa=t;},function(d,b,a){var g,h,m,f,q,l;function c(a,b){this.rh=a;this.oE=b;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;d=a(0);h=a(1);m=a(46);f=a(4);q=a(47);a=a(64);c.prototype.GS=function(a){var b;b={ctx:a.context,data:a.data.map(function(a){return {name:a.name,url:a.url,data:a.data.map(function(a){return g.aVb({d:a.Dd.duration.ba(f.fa),sc:a.status,sz:a.Dd.size.ba(m.Ks),via:a.xUb,cip:a.Lkb,err:a.BD},a);})};})};a=this.oE.Mp(a.Xla,"info",b);this.rh.Uc(a);};c.aVb=function(a,b){g.Jt(a,"dns",b.Dd.BLa);g.Jt(a,"tcp",b.Dd.sra);g.Jt(a,"tls",b.Dd.Cra);g.Jt(a,"ttfb",b.Dd.yra);return a;};c.Jt=function(a,b,c){c && (a[b]=c.ba(f.fa));return a;};l=g=c;l=g=d.__decorate([h.N(),d.__param(0,h.l(q.El)),d.__param(1,h.l(a.Lq))],l);b.BBa=l;},function(d,b,a){var g,h,m,f,q,l;function c(a,b){this.rh=a;this.oE=b;}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;d=a(0);h=a(1);m=a(46);f=a(4);q=a(47);a=a(64);c.prototype.GS=function(a){a=this.oE.Mp("ftlProbeError","info",g.$Ub({url:a.url,sc:a.status,pf_err:a.ioa},a));this.rh.Uc(a);};c.$Ub=function(a,b){b.Dd && (b=b.Dd,g.Jt(a,"d",b.duration),g.Jt(a,"dns",b.BLa),g.Jt(a,"tcp",b.sra),g.Jt(a,"tls",b.Cra),g.Jt(a,"ttfb",b.yra),a.sz=b.size.ba(m.Ks));return a;};c.Jt=function(a,b,c){c && (a[b]=c.ba(f.fa));return a;};l=g=c;l=g=d.__decorate([h.N(),d.__param(0,h.l(q.El)),d.__param(1,h.l(a.Lq))],l);b.ABa=l;},function(d,b,a){var g,h,m,f,q;function c(a,b){this.is=a;this.json=b;h.gn(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.kwa=void 0;d=a(0);g=a(1);h=a(52);m=a(33);f=a(4);a=a(20);c.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.fda(a))throw Error("FtlProbe: param: not an object");if(a.next && !this.is.xO(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.xO(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays && !this.is.fw(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.xO(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.fw(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Om(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.PC(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b < a.urls.length;++b){c=a.urls[b];if(!this.is.fda(c))throw Error("FtlProbe: param.urls[" + b + "]: not an object");if(!this.is.lo(c.name))throw Error("FtlProbe: param.urls[" + b + "].name: not a string");if(!this.is.lo(c.url))throw Error("FtlProbe: param.urls[" + b + "].url: not a string");}return {xKb:a.pulses,ZWa:a.pulse_delays?a.pulse_delays.map(f.Jb):[],wKb:f.Jb(a.pulse_timeout),JRa:a.next?f.Jb(a.next):void 0,Be:a.urls,Xla:a.logblob,context:a.ctx};};q=c;q=d.__decorate([g.N(),d.__param(0,g.l(a.De)),d.__param(1,g.l(m.sy))],q);b.kwa=q;},function(d,b,a){var g,h,m,f,q,l,n,p,x;function c(a,b,c){this.wa=a;this.eVb=b;this.performance=c;h.gn(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;d=a(0);h=a(52);m=a(1055);f=a(46);q=a(33);l=a(34);n=a(1);p=a(456);x=a(4);c.prototype.get=function(a,b,c){var d;d=this;return new Promise(function(h,k){var l,m,q;try{l=d.eVb.create();("withCredentials" in l) || k(Error("Missing CORS support"));l.open("GET",a,!0);b && (l.withCredentials=!0);c && (l.timeout=c.ba(x.fa));m=d.wa.ve;q=void 0;l.onreadystatechange=function(){var b;switch(l.readyState){case XMLHttpRequest.HEADERS_RECEIVED:q=d.wa.ve.Ia(m);break;case XMLHttpRequest.DONE:(b=d.wa.ve.Ia(m),b={body:l.responseText,status:l.status,headers:g.SHb(l.getAllResponseHeaders()),Dd:d.Wia(a,f.$(l.responseText.length),b,q)});h(b);}};l.send();}catch(M){k(M);}});};c.SHb=function(a){var b,d,f;b={};a=a.split("\r\n");for(var c=0;c < a.length;c++){d=a[c];f=d.indexOf(": ");0 < f && (b[d.substring(0,f).toLowerCase()]=d.substring(f + 2));}return b;};c.prototype.Wia=function(a,b,c,d){b={size:b,duration:c,yra:d};if(!this.performance || !this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0 == c.length && (c=this.performance.getEntriesByName(a + "/"),0 == c.length))return b;a=c[c.length - 1];b=m.LSa(b);a.npb && (b.size=f.$(a.npb));0 < a.duration?b.duration=x.timestamp(a.duration):0 < a.startTime && 0 < a.responseEnd && (b.duration=x.timestamp(a.responseEnd - a.startTime));0 < a.requestStart && (b.BLa=x.timestamp(a.domainLookupEnd - a.domainLookupStart),b.sra=x.timestamp(a.connectEnd - a.connectStart),b.yra=x.timestamp(a.responseStart - a.startTime),0 === a.secureConnectionStart?b.Cra=x.timestamp(0):void 0 !== a.secureConnectionStart && (c=a.connectEnd - a.secureConnectionStart,b.Cra=x.timestamp(c),b.sra=x.timestamp(a.connectEnd - a.connectStart - c)));return b;};a=g=c;a=g=d.__decorate([n.N(),d.__param(0,n.l(l.Vg)),d.__param(1,n.l(p.Saa)),d.__param(2,n.l(q.bW)),d.__param(2,n.optional())],a);b.Kwa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tDb=b.LSa=b.rDb=void 0;b.rDb=function(a){return a;};b.LSa=function(a){return a;};b.tDb=function(a){return Object.assign({},a);};},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.VWa=void 0;d=a(1);c=a(312);g=a(1057);h=a(181);m=a(1058);b.VWa=new d.Pc(function(a){a(c.s7).to(g.qva).Z();a(h.eG).to(m.Mxa).Z();});},function(d,b,a){var g,h,m,f,q,l,n,p;function c(a,b,c,d){this.wd=a;this.ar=b;this.kUb=c;this.DJ=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qva=void 0;d=a(0);g=a(1);h=a(26);m=a(41);f=a(100);q=a(131);l=a(74);n=a(156);a=a(181);c.prototype.Yi=function(a){var b;b=this;return this.wd.St(a.Ti[0].data[0],[8,4])?Promise.resolve({jc:[{id:"ddd",lA:"cert",CJ:void 0}],dn:[{sessionId:"ddd",data:new Uint8Array(this.ar.decode(n.BDa))}]}):this.wd.St(a.Ti[0].data[0],this.kUb.decode("certificate"))?Promise.resolve({jc:[{id:"ddd",lA:"cert",CJ:void 0}],dn:[{sessionId:"ddd",data:new Uint8Array(this.ar.decode(n.M7))}]}):this.DJ.Zv(this.Rtb(a)).then(function(a){return b.Stb(a);});};c.prototype.release=function(a){var b;b=this;return this.DJ.release(this.Vtb(a)).then(function(c){return b.Wtb(c,a);});};c.prototype.Rtb=function(a){var b,c;b=this;c=a.Ti.map(function(a){return a.data.map(function(c){return {sessionId:a.sessionId,dataBase64:b.ar.encode(c)};});});return {ea:a.ea,yg:a.yg,c_:a.c_,Zi:l.Lla(a.Zi),$t:q.Kn[a.$t],Ti:c.reduce(function(a,b){return a.concat(b);},[]),xR:a.xR,$i:a.$i};};c.prototype.Vtb=function(a){var b;b={};a.Ti && a.jc[0].id && (b[a.jc[0].id]=this.ar.encode(a.Ti[0]));return a && a.Ti?{ea:a.ea,jc:a.jc,xNb:b}:{ea:a.ea,jc:a.jc};};c.prototype.Stb=function(a){return {jc:a.jc,dn:a.dn};};c.prototype.Wtb=function(a,b){return a && a.response && a.response.data && b.jc[0].id && (a=a.response.data[b.jc[0].id])?{response:this.ar.decode(a)}:{};};p=c;p=d.__decorate([g.N(),d.__param(0,g.l(h.Df)),d.__param(1,g.l(m.Di)),d.__param(2,g.l(f.Hy)),d.__param(3,g.l(a.eG))],p);b.qva=p;},function(d,b,a){var g,h,m,f,q,l;function c(a,b,c,d,f){this.igb=a;this.HLb=b;this.eYa=d;this.qYa=f;this.ma=c.ob("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Mxa=void 0;d=a(0);g=a(1);h=a(6);m=a(460);a(461);f=a(463);q=a(464);a=a(261);c.prototype.Zv=function(a){var b,c;b=this;!1;c=this.eYa.rSb(a);return this.igb.Go(this.ma,a.$i,c).then(function(a){a.map(function(a){return a.iCb;});return b.qYa.D0a(a);})["catch"](function(a){b.ma.error("PBO license failed",a);return Promise.reject(a);});};c.prototype.release=function(a){var b;b=this;!1;a=this.eYa.uSb(a);return this.HLb.Le(this.ma,a).then(function(a){return b.qYa.vSb(a);})["catch"](function(a){b.ma.error("PBO release license failed",a);return Promise.reject(a);});};l=c;l=d.__decorate([g.N(),d.__param(0,g.l(m.T9)),d.__param(1,g.l(f.j$)),d.__param(2,g.l(h.xb)),d.__param(3,g.l(q.a$)),d.__param(4,g.l(a.YV))],l);b.Mxa=l;},function(d,b,a){var g,h,m,f,q,l,n,p,x,z,y,B;function c(a){return function(){return a.gb.get(g.h$).Ib();};}Object.defineProperty(b,"__esModule",{value:!0});b.IE=void 0;d=a(1);g=a(182);h=a(213);m=a(262);f=a(465);q=a(1060);l=a(1061);n=a(466);p=a(1062);x=a(467);z=a(1063);y=a(263);B=a(1064);b.IE=new d.Pc(function(a){a(n.C$).to(p.IAa).Z();a(h.aW).to(m.kAa).Z();a(f.V9).to(q.Tza).Z();a(g.h$).to(l.lAa).Z();a(g.PM).IT(c);a(x.Y9).to(z.Xza).Z().fU();a(y.i$).to(B.mAa).Z();a(y.f$).to(B.iAa).Z();a(y.g$).to(B.jAa).Z();});},function(d,b,a){var m,f,q,l,n,p,x,z,y,B;function c(){}function g(){}function h(a,b,d,f,g){var h;h=this;this.is=a;this.Fk=b;this.config=d;this.Fz=f;this.lIb=g;this.Yu=function(){return new c().encode({version:h.version,data:h.IE});};this.JTb=function(a){a=h.ITb(a);h.lIb.Es(a);return a;};this.ITb=function(a){var b;if(h.is.Om(a))return h.MTb(a);b=a.version;if(void 0 != b && h.is.Jh(b) && 1 == b)return h.NTb(a);b=a.version;if(void 0 != b && h.is.Jh(b) && 2 == b)return new c().decode(a);if(a.version && h.is.Jh(a.version))throw new n.Dc(q.L.qy,q.K.Vta,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version,void 0,a);throw new n.Dc(q.L.qy,q.K.my,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.wq=new p.w8(2,this.config().hWa,"" !== this.config().hWa && 0 < this.config().$Ib,this.Fk,this.Yu);}Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;d=a(0);m=a(1);f=a(13);q=a(2);l=a(20);n=a(43);p=a(292);x=a(63);z=a(80);y=a(262);a=a(263);h.prototype.RKb=function(){return this.wq.load(this.JTb)["catch"](function(a){throw new n.Dc(q.L.qy,a.ja || a.pd,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.Kgb=function(a){return this.wq.add(a);};h.prototype.NXa=function(a){return this.wq.remove(a,function(a,b){return a.ea === b.ea;});};h.prototype.gsa=function(a){return this.wq.update(a,function(a,b){return a.ea === b.ea;});};h.prototype.toString=function(){return JSON.stringify(this.Yu(),null,"  ");};h.prototype.s1a=function(a){return a?"/events?playbackContextId=" + a + "&esn=" + this.Fz().ji:"";};h.prototype.jsa=function(a){return a.map(function(a){return {Bd:a.downloadableId,duration:a.duration};});};h.prototype.t1a=function(a){var b;return a?{total:a.playTimes.total,wF:null !== (b=a.playTimes.totalContentTime) && void 0 !== b?b:a.playTimes.total,audio:this.jsa(a.playTimes.audio || []),video:this.jsa(a.playTimes.video || []),text:this.jsa(a.playTimes.timedtext || [])}:{total:0,wF:0,audio:[],video:[],text:[]};};h.prototype.MTb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",href:this.s1a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,kP:a.timestamp,XS:a.playback?1E3 * a.playback.startEpoch:-1,MJ:a.mediaId,iS:this.t1a(a.playback),jb:"",um:{},profileId:a.accountKey};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Fk.create().then(function(a){a.save(b.config().LP,d,!1);});if("" === c.href || "" === c.ea)throw new n.Dc(q.L.qy,q.K.my);return {version:2,data:[c]};};h.prototype.NTb=function(a){var b;b=this;if(!a.playdata || !this.is.fw(a.playdata))throw new n.Dc(q.L.qy,q.K.my,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return {version:2,data:(function(a){return a.map(function(a){return {type:a.type,href:b.s1a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,kP:a.timestamp,XS:a.playback?1E3 * a.playback.startEpoch:-1,MJ:a.mediaId,iS:b.t1a(a.playback),jb:"",um:{},profileId:a.profileId};});})(a.playdata)};};pa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.wq.version;}},IE:{configurable:!0,enumerable:!0,get:function(){return this.wq.Pt;}}});B=h;B=d.__decorate([m.N(),d.__param(0,m.l(l.De)),d.__param(1,m.l(x.Hs)),d.__param(2,m.l(f.Oc)),d.__param(3,m.l(z.Ms)),d.__param(4,m.l(a.g$))],B);b.Tza=B;g.prototype.encode=function(a){var b;b=new y.$V();return a.map(b.encode);};g.prototype.decode=function(a){var b;b=new y.$V();return a.map(b.decode);};c.prototype.encode=function(a){return {version:a.version,data:new g().encode(a.data)};};c.prototype.decode=function(a){return {version:a.version,data:new g().decode(a.data)};};},function(d,b,a){var m,f,q,l,n,p,x,z,y,B,r,I,E,da;function c(a,b,c,d,f,h,k,l){this.config=a;this.ya=c;this.$u=d;this.Wr=f;this.C3=h;this.dj=k;this.dE=Promise.resolve();this.closed=!1;this.log=b.ob("PlaydataServices");this.HE=[];this.active=new Set();this.PMb=new g(a,l);}function g(a,b){this.config=a;this.wa=b;}function h(a,b,c,d,f,g){this.log=a;this.ya=b;this.Th=c;this.Wr=d;this.$u=f;this.PIb=g;this.LMa=this.bk=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=b.P9a=void 0;d=a(0);m=a(1);f=a(4);q=a(6);l=a(36);n=a(213);p=a(465);x=a(14);z=a(466);y=a(2);B=a(262);r=a(467);I=a(118);E=a(34);a=a(116);h.prototype.O2=function(a,b){var d;function c(){var a;a=d.Wr.create(d.Th);d.$u.gsa(a)["catch"](function(a){var b;b=d.LMa?q.Gi.Naa:q.Gi.ERROR;d.LMa=!0;d.log.write(b,"Unable to save playdata changes to IDB",a);});}d=this;this.log.trace("Adding initial playdata",b);this.$u.Kgb(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.tq=d.ya.Ypa(a,c);})["catch"](function(f){d.log.error("Unable to add playdata",{error:f,playdata:new B.$V().encode(b)});d.tq=d.ya.Ypa(a,c);});};h.prototype.stop=function(a){var b,c;b=this;if(this.bk)return Promise.resolve();this.tq && this.tq.cancel();c=this.Wr.create(this.Th);return this.$u.gsa(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.Th.background)return (b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve());b.log.trace("Sending final playdata to the server",c);return b.PIb.cZa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return (b.log.trace("Removing playdata from the persisted store",c),b.$u.NXa(c));b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.bk=!0;this.tq && this.tq.cancel();this.$u.gsa(this.Wr.create(this.Th));};pa.Object.defineProperties(g.prototype,{Wjb:{configurable:!0,enumerable:!0,get:function(){var a;a=this.wa.ve;return !this.dE || 0 <= a.Ia(this.dE).Cj(this.config.LRa)?(this.dE=a,!0):!1;}}});b.P9a=g;c.prototype.Ib=function(){var a;a=this;this.cm || (this.log.trace("Starting playdata services"),this.cm=this.$u.RKb().then(function(){!1;return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.cm;};c.prototype.close=function(){this.closed=!0;this.HE.forEach(function(a){a.O2.cancel();});};c.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.qK && b.mqa?this.RNb(a):Promise.resolve();};c.prototype.nL=function(a){this.closed || this.lQb(a);};c.prototype.p_a=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=this.Wr.create(a);this.active["delete"](c.ea);a=T(I.Bu(function(a){return a.key === c.ea;},this.HE));d=a.next().value;this.HE=a.next().value;return Promise.all(d.map(function(a){a.q_a=!0;return a.O2.stop(b.config.mqa);})).then(function(){});};c.prototype.j3=function(a,b){var c,d;c=this;d=a.ga;this.h_a(d,b);this.pqa(d,a.rP)["catch"](function(a){c.log.error("Start command failed",{playdata:a.IE,error:a.BD});});this.jQb(a);};c.prototype.lQb=function(a){var b;b=this;a.addEventListener(x.V.iq,function(c){var d;if(void 0 !== c.M3){d=a.am(c.M3);b.p_a(d);c.aE || new Promise(function(b){var c;if(a.Zr.value)b();else {c=function(d){d.newValue && (b(),a.Zr.removeListener(c));};a.Zr.addListener(c);}}).then(function(){return b.j3(a,"online");});}});a.addEventListener(x.V.Yo,function(){b.j3(a,"online");});a.background || a.addEventListener(x.V.EJ,function(c){c=a.am(c.u);b.h_a(c,"online");});a.addEventListener(x.V.Kf,function(){b.zQb();});a.addEventListener(x.V.J1a,function(){b.XNb(a.ga)["catch"](function(b){(b=b.poa) && a.hD(b);});});a.Jc.addListener(function(){a.Ta.Dga?b.log.trace("stickiness is disabled for timedtext"):b.bZa(a.ga);});a.Ad.addListener(function(){a.Ta.Dga?b.log.trace("stickiness is disabled for audio"):b.bZa(a.ga)["catch"](function(b){(b=b.poa) && a.hD(b);});});};c.prototype.h_a=function(a,b){var c,d;a.vd("pdb");if(this.config.goa.fBb()){c=this.Wr.create(a);d=c.ea;this.HE.some(function(a){return a.key === d;})?this.log.trace("Already collecting " + b + " playdata, ignoring",c):(this.log.info("Starting to collect " + b + " playdata",c),this.active.add(d),this.HE.push({key:d,O2:this.vwb(a,c),Su:!1,q_a:!1}));}};c.prototype.RNb=function(a){var b,c,d,f;b=this;c=this.$u.IE.filter(function(a){return !b.active.has(a.ea);});d=void 0;f=void 0;a && Infinity === a?d=c:(c=T(I.Bu(function(b){return b.u === a;},c)),d=c.next().value,f=c.next().value);f && 0 < f.length && this.ya.yh(this.config.YYa,function(){b.aZa(f);});return d && 0 !== d.length?this.aZa(d):Promise.resolve();};c.prototype.aZa=function(a){var c;function b(a){return c.C3.cZa(a).then(function(){return c.ULb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};c.prototype.ULb=function(a){var b;b=this;return this.$u.NXa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};c.prototype.vwb=function(a,b){a=new h(this.log,this.ya,a,this.Wr,this.$u,this.C3);a.O2(this.config.goa,b);return a;};c.prototype.pqa=function(a,b){var c,d;c=this;d=this.Wr.Xnb(a,b);return this.C3.pqa(a,d).then(function(){!1;c.HE.filter(function(b){return b.key === a.ea.toString();}).forEach(function(a){a.Su=!0;});})["catch"](function(a){throw {IE:d,BD:a};});};c.prototype.XNb=function(a){return this.PMb.Wjb?this.VS(r.XV.ZQ,a,y.L.F8):Promise.resolve();};c.prototype.bZa=function(a){return this.VS(r.XV.splice,a,y.L.MBa);};c.prototype.VS=function(a,b,c){var f;function d(a){var b;b=f.HE.filter(function(b){return b.key === a.ea.toString();});return 0 === b.length?!0:b.reduce(function(a,b){return a || b.q_a || !b.Su;},!1);}f=this;return d(b)?this.dE:this.dE=this.dE["catch"](function(){return Promise.resolve();}).then(function(){var c;if(d(b))return Promise.resolve();!1;c=f.Wr.create(b);return f.C3.VS(a,b,c);}).then(function(a){!1;return a;})["catch"](function(d){var g;f.log.error("Failed to send event",{eventKey:a,xid:b.ea,error:d});d.lha?g=f.dj(c,d):d.wu === y.GV.Haa && (g=f.dj(c,d));throw {BD:d,poa:g};});};c.prototype.jQb=function(a){this.CPb(a) && this.$qa(this.dwb(a.ga),a);};c.prototype.$qa=function(a,b){var c;c=this;!1;this.ffa();this.nla=this.ya.yh(a,function(){c.ffa();c.VS(r.XV.ZQ,b.ga,y.L.F8).then(function(){c.$qa(a,b);})["catch"](function(d){var f;f=d.BD;(d=d.poa) && b.hD(d);f.wu === y.GV.Haa && c.$qa(a,b);});});};c.prototype.zQb=function(){this.ffa();};c.prototype.CPb=function(a){return a.state.value == x.yb.yd;};c.prototype.ffa=function(){this.nla && (this.nla.cancel(),this.nla=void 0);};c.prototype.dwb=function(a){return a.Ta.Zja?f.Jb(a.Ta.Zja):this.config.KRa;};da=c;da=d.__decorate([m.N(),d.__param(0,m.l(z.C$)),d.__param(1,m.l(q.xb)),d.__param(2,m.l(l.Ig)),d.__param(3,m.l(p.V9)),d.__param(4,m.l(n.aW)),d.__param(5,m.l(r.Y9)),d.__param(6,m.l(a.YB)),d.__param(7,m.l(E.Vg))],da);b.lAa=da;},function(d,b,a){var g,h,m,f,q,l;function c(a,b){a=h.pe.call(this,a,"PlaydataConfigImpl") || this;a.config=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.IAa=void 0;d=a(0);g=a(1);h=a(44);m=a(31);f=a(42);q=a(4);a=a(35);N(c,h.pe);pa.Object.defineProperties(c.prototype,{qK:{configurable:!0,enumerable:!0,get:function(){return this.config.au?"unsentplaydatatest":"unsentplaydata";}},mqa:{configurable:!0,enumerable:!0,get:function(){return !0;}},YYa:{configurable:!0,enumerable:!0,get:function(){return q.Jb(1E4);}},goa:{configurable:!0,enumerable:!0,get:function(){return q.Jb(4E3);}},KRa:{configurable:!0,enumerable:!0,get:function(){return q.JR(1);}},LRa:{configurable:!0,enumerable:!0,get:function(){return q.zh(30);}}});l=c;d.__decorate([f.config(f.string,"playdataPersistKey")],l.prototype,"qK",null);d.__decorate([f.config(f.Gc,"sendPersistedPlaydata")],l.prototype,"mqa",null);d.__decorate([f.config(f.th,"playdataSendDelayMilliseconds")],l.prototype,"YYa",null);d.__decorate([f.config(f.th,"playdataPersistIntervalMilliseconds")],l.prototype,"goa",null);d.__decorate([f.config(f.th,"heartbeatCooldown")],l.prototype,"KRa",null);d.__decorate([f.config(f.th,"keepAliveWindow")],l.prototype,"LRa",null);l=d.__decorate([g.N(),d.__param(0,g.l(m.tj)),d.__param(1,g.l(a.Dl))],l);b.IAa=l;},function(d,b,a){var g,h,m;function c(a,b){this.lP=b;this.log=a.ob("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Xza=void 0;d=a(0);g=a(75);h=a(6);a=a(1);c.prototype.pqa=function(a,b){var c;c=this.lP(g.Bm.start);return this.FMa(c,a,b);};c.prototype.cZa=function(a){var b;b=this;return this.lP(g.Bm.stop).Le(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};c.prototype.VS=function(a,b,c){a=this.lP(a);return this.FMa(a,b,c);};c.prototype.FMa=function(a,b,c){var d;d=this;return a.Go(this.log,b.ta.$i,c).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};m=c;m=d.__decorate([a.N(),d.__param(0,a.l(h.xb)),d.__param(1,a.l(g.SU))],m);b.Xza=m;},function(d,b,a){var m,f,q,l;function c(){}function g(a){this.kIb=a;}function h(a){this.mIb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=b.jAa=b.iAa=void 0;d=a(0);m=a(1);f=a(263);q=a(43);l=a(2);h.prototype.Es=function(a){a.map(this.mIb.Es);};a=h;a=d.__decorate([m.N(),d.__param(0,m.l(f.i$))],a);b.iAa=a;g.prototype.Es=function(a){this.kIb.Es(a.data);};a=g;a=d.__decorate([m.N(),d.__param(0,m.l(f.f$))],a);b.jAa=a;c.prototype.Es=function(a){var b;a.ea && "string" === typeof a.ea?a.href && "string" === typeof a.href?a.profileId && "string" === typeof a.profileId || (b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new q.Dc(l.L.qy,l.K.my,void 0,void 0,void 0,b,void 0,a.ea);};f=c;f=d.__decorate([m.N()],f);b.mAa=f;},function(d,b,a){var g,h,m,f,q,l,n,p;function c(a){return function(){return new Promise(function(b,c){var d;d=a.gb.get(h.x7);d.Ib().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;d=a(1);g=a(468);a(1066);h=a(470);m=a(1068);f=a(89);q=a(1069);l=a(471);n=a(1070);p=a(1071);a(1072);b.RLa=new d.Pc(function(a){a(l.O8).to(n.Rxa).Z();a(g.v7).to(p.Sxa);a(f.UL).to(q.ata).Z();a(h.x7).to(m.xva).Z();a(h.w7).IT(c);});},function(d,b,a){var g,h,m,f,q,l,n;function c(a,b,c){var d;d=q.cN.call(this,a,b,"idb") || this;d.Fk=c;d.xYa=function(a){d.Epb(a.target.id).then(function(){return d.refresh();});};d.PGb=function(){d.Ukb().then(function(){return d.refresh();});};d.gHb=function(){d.refresh();};d.SGb=function(){d.Wlb();};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.H7a=void 0;d=a(0);g=a(1);h=a(26);m=a(20);f=a(160);q=a(469);l=a(126);n=a(264);N(c,q.cN);c.prototype.Ib=function(){var a;a=this;if(this.dm)return Promise.resolve();O.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == l.Qs.G6a && a.toggle();});return this.Fk.create().then(function(b){a.storage=b;a.dm=!0;});};c.prototype.Hj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};c.prototype.lja=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"' + b + '"</font>';c=this.VIa.Tk({name:b,data:c});return "<tr>" + ('<td><span class="' + this.prefix + '-display-indexvalue">' + a + "</span></td>") + ('<td><span class="' + this.prefix + '-display-keyvalue">' + d + "</span></td>") + ('<td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + c + "</ul></td>") + ('<td style="border-left:solid 0px"><ul class="' + this.prefix + '-display-item-inline"><button id="' + b + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td>') + "</tr>";};c.prototype.xja=function(a){var b,c;b=this;c='<table class="' + this.prefix + '-display-table" width="100%">' + this.Hj();Object.entries(a).forEach(function(a,d){var f;f=T(a);a=f.next().value;f=f.next().value;c+=b.lja(d,a,f);});return c + "</table>";};c.prototype.XNa=function(){var a,b,c;a=this.wd.createElement("button",q.MF,"Clear",{"class":this.prefix + "-display-btn"});b=this.wd.createElement("button",q.MF,"Refresh",{"class":this.prefix + "-display-btn"});c=this.wd.createElement("button",q.MF,"Copy",{"class":this.prefix + "-display-btn"});a.onclick=this.PGb;b.onclick=this.gHb;c.onclick=this.SGb;return [a,b,c];};c.prototype.LCb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.vQa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.vQa;});};c.prototype.Epb=function(a){return this.storage.remove(a);};c.prototype.Ukb=function(){return this.storage.removeAll();};c.prototype.BXa=function(){var a;a=this;return this.LCb().then(function(b){return a.xja(b);});};c.prototype.Wlb=function(){var a;a=JSON.stringify(this.vQa,null,4);n.EU.Hfa(a);};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(h.Df)),d.__param(1,g.l(m.De)),d.__param(2,g.l(f.vV))],a);b.H7a=a;},function(d,b){function a(a){this.is=a;this.IBb="#881391";this.MQb="#C41A16";this.Zib=this.qGb="#1C00CF";this.sAb="#D79BDB";this.XSb=this.nGb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.dDa=void 0;a.prototype.Tk=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Tz=function(a,b){return '<font color="' + ((void 0 === b?0:b)?this.sAb:this.IBb) + '">' + a + ": </font>";};a.prototype.GNa=function(a,b){b=b || "";a="" + ('<li><a href="#">' + this.Tz(a) + "Array[" + b.length + "]</a>");a+="<ul>";for(var c=0;c < b.length;++c){a+=this.getValue(c.toString(),b[c]);}a+=this.getValue("length",b.length,!0);return a + "</ul></li>";};a.prototype.TOa=function(a,b){var c,d;c=this;if(b instanceof CryptoKey)return this.dvb(a,b);d="";d=d + ('<li><a href="#">' + ("~~NONAME~~" !== a?this.Tz(a):"") + "Object</a>");d=d + "<ul>";Object.entries(b).forEach(function(a){var b;b=T(a);a=b.next().value;b=b.next().value;d=a.startsWith("$")?d + c.getValue(a,"REMOVED"):d + c.getValue(a,b);});d+="</ul>";return d+="</li>";};a.prototype.dvb=function(a,b){a="" + ('<li><a href="#">' + this.Tz(a) + "CryptoKey</a>");a=a + "<ul>" + this.TOa("algorithm",b.algorithm);a+=this.KNa("extractable",b.extractable);a+=this.mPa("type",b.type);a+=this.GNa("usages",b.usages);return a + "</ul></li>";};a.prototype.Iwb=function(a,b,d){return '<li><a href="#">' + this.Tz(a,void 0 === d?!1:d) + ('<font color="' + this.qGb + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.KNa=function(a,b,d){return '<li><a href="#">' + this.Tz(a,void 0 === d?!1:d) + ('<font color="' + this.Zib + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.mPa=function(a,b,d){128 < b.length && (b=b.substr(0,128) + "...");return '<li><a href="#">' + this.Tz(a,void 0 === d?!1:d) + ('<font color="' + this.MQb + '">"' + b + '"</font>') + "</a></li>";};a.prototype.Hwb=function(a){return '<li><a href="#">' + this.Tz(a) + ('<font color="' + this.nGb + '">null</font>') + "</a></li>";};a.prototype.ayb=function(a,b){b="undefined" === typeof b?"":b.toString();255 < b.length && (b=b.substr(0,255) + "...");return '<li><a href="#">' + this.Tz(a) + ('<font color="' + this.XSb + '">' + b + "</font>") + "</a></li>";};a.prototype.getValue=function(a,b,d){d=void 0 === d?!1:d;return null === b?"" + this.Hwb(a):this.is.fw(b)?"" + this.GNa(a,b):this.is.PC(b)?"" + this.TOa(a,b):this.is.lo(b)?"" + this.mPa(a,b,d):this.is.Jh(b)?"" + this.Iwb(a,b,d):this.is.wO(b)?"" + this.KNa(a,b,d):"" + this.ayb(a,b);};b.dDa=a;},function(d,b,a){var g,h;function c(a){this.pqb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.xva=void 0;d=a(0);g=a(1);a=a(468);c.prototype.Ib=function(){var a;a=this;this.cm || (this.cm=new Promise(function(b,c){var d;d=[];a.pqb.forEach(function(a){d.push(a.Ib());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.cm;};h=c;h=d.__decorate([g.N(),d.__param(0,g.rE(a.v7))],h);b.xva=h;},function(d,b,a){var g,h;function c(){this.fqa="";this.$1a=[[],[]];this.aa=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.ata=void 0;d=a(0);g=a(1);a(4);h=a(89);c.prototype.downloadRequest=function(a){var b;"" === this.fqa && (this.fqa=a.Ba);if(!a.dc){b=this.aSb(a);this.aa[a.I].push(b);this.$1a[a.I].forEach(function(a){a.p1b(b);});}};c.prototype.aSb=function(a){return {id:a.kk(),Ba:a.Ba,I:a.I,Mh:a.Mh,startTime:a.Sx,endTime:a.Iu,offset:a.qn,SH:a.SH,RH:a.RH,duration:a.Kw,S:a.S,state:h.s6.LLa,Zr:!1,T3b:!1,WPa:!1,I2b:h.r6.waiting};};c.prototype.update=function(a){this.$1a[a.I].forEach(function(b){b.N6b(a);});};pa.Object.defineProperties(c.prototype,{Ba:{configurable:!0,enumerable:!0,get:function(){return this.fqa;}}});a=c;a=d.__decorate([g.N()],a);b.ata=a;},function(d,b,a){var g,h,m,f,q;function c(a,b){a=m.pe.call(this,a,"LogDisplayConfigImpl") || this;a.Wm=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Rxa=void 0;d=a(0);g=a(1);h=a(42);m=a(44);f=a(31);a=a(129);N(c,m.pe);pa.Object.defineProperties(c.prototype,{ES:{configurable:!0,enumerable:!0,get:function(){return !0;}},FJ:{configurable:!0,enumerable:!0,get:function(){return this.Wm.FJ;}},tSa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});q=c;d.__decorate([h.config(h.Gc,"renderDomDiagnostics")],q.prototype,"ES",null);d.__decorate([h.config(h.t1,"logDisplayMaxEntryCount")],q.prototype,"FJ",null);d.__decorate([h.config(h.t1,"logDisplayAutoshowLevel")],q.prototype,"tSa",null);q=d.__decorate([g.N(),d.__param(0,g.l(f.tj)),d.__param(1,g.l(a.sG))],q);b.Rxa=q;},function(d,b,a){var m,f,q,l,n,p,x,z,y,B,r,I,E,da,W,R;function c(a,b,c,d,f,g,k,l,m,q){var n;n=this;this.wa=a;this.app=b;this.wd=c;this.ya=d;this.wm=f;this.config=g;this.Fz=k;this.ura=l;this.Wob=m;this.Fk=q;this.DRb=function(){n.TT.Vc(function(){n.update();});};this.clear=function(){n.entries=[];n.update();};this.HTa=function(){n.Yd.rJ=!n.Yd.rJ;n.pA && n.wA && (n.Yd.rJ?(n.pA.style.display="inline-block",n.wA.style.display="none"):(n.wA.style.display="inline-block",n.pA.style.display="none"));n.eF(!1);};this.hDb=function(a){var b;n.entries.push(a);b=n.config.FJ;0 <= b && n.entries.length > b && n.entries.shift();void 0 === n.Yd.vw[a.Rm] && (n.Yd.vw[a.Rm]=!0,n.eF(!1));n.Yd.Qo && !n.X_a?n.DRb():n.TT.Vc();};this.zqb=function(){h.download("all",n.entries.map(function(a){return a.x5(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.dm=!1;this.Yd={Qo:!1,rJ:!0,XZ:!0,Wla:B.Gi.t8,vw:{}};this.TT=this.ura(x.zh(1));this.Tsb=this.Wob(x.Jb(250));this.entries=[];!1;!1;}function g(a){var b;this.elements=[];b=document.createElementNS(g.xT,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sxa=void 0;d=a(0);m=a(1);f=a(26);q=a(102);l=a(330);n=a(36);p=a(34);x=a(4);z=a(19);y=a(80);B=a(6);r=a(103);I=a(265);E=a(471);da=a(63);W=a(126);R=a(264);h.download=function(a,b){return h.Ivb(a).then(function(a){return h.Pxb(a,b.join("\r\n")).then(function(a){return h.vqb(a.filename,a.text);});});};h.Ivb=function(a){return new Promise(function(b,c){var d,f,g,h,k,l,m;try{d=new Date();f=d.getDate().toString();g=(d.getMonth() + 1).toString();h=d.getFullYear().toString();k=d.getHours().toString();l=d.getMinutes().toString();m=d.getSeconds().toString();1 === f.length && (f="0" + f);1 === g.length && (g="0" + g);1 === k.length && (k="0" + k);1 === l.length && (l="0" + l);1 === m.length && (m="0" + m);b(h + g + f + k + l + m + "." + a + ".log");}catch(ba){c(ba);}});};h.Pxb=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(la){d(la);}});};h.vqb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(ka){return Promise.reject(ka);}};g.prototype.lL=function(){var a;a=document.createElementNS(g.xT,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",(1).toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};g.prototype.mL=function(a,b,c){var d;d=document.createElementNS(g.xT,"path");d.setAttribute("d",a);b && d.setAttribute("fill",b);c && d.setAttribute("fill-rule",c);this.addElement(d);return this;};g.prototype.nT=function(a,b,c,d,f){var h;f=void 0 === f?"#000000":f;h=document.createElementNS(g.xT,"rect");h.setAttribute("x",a.toString());h.setAttribute("y",b.toString());h.setAttribute("height",c.toString());h.setAttribute("width",d.toString());f && h.setAttribute("fill",f);this.addElement(h);return this;};g.prototype.nQb=function(){var a;a=document.createElementNS(g.xT,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};g.prototype.end=function(){this.elements.pop();return this;};g.prototype.Tk=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};g.prototype.addElement=function(a){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(a);this.elements.push(a);};pa.Object.defineProperties(g,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},rD:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});g.xT="http://www.w3.org/2000/svg";c.prototype.Ib=function(){var a;a=this;this.cm || (this.cm=new Promise(function(b){O.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && (b.keyCode == W.Qs.L7a?a.toggle():b.keyCode == W.Qs.E && R.EU.Hfa(a.Fz().ji));});a.wm.d4(I.V8.S4a,a.hDb);b();}));return this.cm;};c.prototype.show=function(){document.body && (this.element || (this.Knb(),this.dm=!0),!this.Yd.Qo && this.element && (document.body.appendChild(this.element),this.Yd.Qo=!0,this.update(!0)));};c.prototype.Zp=function(){this.dm && this.Yd.Qo && this.element && (document.body.removeChild(this.element),this.Yd.Qo=!1);};c.prototype.toggle=function(){this.Yd.Qo?this.Zp():this.show();this.eF(!1);};c.prototype.Knb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Bn=this.Bob());a.appendChild(this.Cob());a.appendChild(this.Dnb());this.element=a;}catch(U){console.error("Unable to create the log console",U);}};c.prototype.Bob=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.X_a=!0;a.update();a.Bn && (a.Bn.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.X_a=!1;a.update();a.Bn && (a.Bn.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};c.prototype.Cob=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.eob());a.appendChild(this.Vnb());a.appendChild(this.Pnb());a.appendChild(this.Eob());a.appendChild(this.Hnb());a.appendChild(this.lob());a.appendChild(this.iob());a.appendChild(this.Rnb());a.appendChild(this.Inb());return a;};c.prototype.Dnb=function(){var a,b,c,d,f,g;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");d=this.createElement("select",this.gu(22,160,1,2),"<option>Select categories</option>");f=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(f);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?f.style.display="none":(f.innerHTML="",["all","none"].concat(Object.keys(a.Yd.vw).sort()).forEach(function(b){f.appendChild(a.Enb(b,c));}),f.style.display="block");g=!g;});return b;};c.prototype.Enb=function(a,b){var c,d,f;c=this;d=this.createElement("label","display: block;margin:1px");d.htmlFor=a;f=this.createElement("input","margin:1px");f.type="checkbox";f.id=a;f.checked=this.Yd.vw[a];f.addEventListener("click",function(){"all" === a || "none" === a?(Object.keys(c.Yd.vw).forEach(function(b){c.Yd.vw[b]="all" === a;}),b.click()):c.Yd.vw[a]=!c.Yd.vw[a];c.eF(!0);});d.appendChild(f);d.insertAdjacentText("beforeend",18 < a.length?a.slice(0,15) + "...":a);return d;};c.prototype.eob=function(){var a,b;a=this;b=this.createElement("select",this.gu(22,NaN,1,2),'<option value="' + B.Gi.ERROR + '">Error</option>' + ('<option value="' + B.Gi.Naa + '">Warn</option>') + ('<option value="' + B.Gi.t8 + '">Info</option>') + ('<option value="' + B.Gi.KCa + '">Trace</option>') + ('<option value="' + B.Gi.sa + '">Debug</option>'));b.value=this.Yd.Wla.toString();b.addEventListener("change",function(b){a.Yd.Wla=parseInt(b.target.value);a.eF(!0);},!1);return b;};c.prototype.Vnb=function(){var b,c;function a(a){return b.Tsb.Vc(function(){var c;c=a.target.value;b.Yd.filter=c?new RegExp(c):void 0;b.eF(!0);});}b=this;c=this.createElement("input",this.gu(14,150,1,2));c.value=this.Yd.filter?this.Yd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};c.prototype.Pnb=function(){var a,b,c,d;a=this;b=this.createElement("div",this.gu(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Yd.XZ;c.addEventListener("change",function(b){a.Yd.XZ=b.target.checked;a.eF(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};c.prototype.Eob=function(){var a,b,c;a=this;b=this.createElement("button",this.gu());c=new g("0 0 24 24").lL().nQb().end().mL("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",g.rD,"nonzero").end().end().Tk();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};c.prototype.Hnb=function(){var a,b;a=this.createElement("button",this.gu());b=new g("0 0 24 24").lL().nT(0,0,24,24,g.background).end().mL("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",g.rD).end().end().Tk();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};c.prototype.lob=function(){var a;this.wA=this.createElement("button",this.gu());this.wA.style.display=this.Yd.rJ?"none":"inline-block";a=new g("0 0 24 24").lL().nT(0,0,24,24,g.background).end().mL("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",g.rD,"nonzero").end().end().Tk();this.wA.addEventListener("click",this.HTa,!1);this.wA.appendChild(a);this.wA.setAttribute("title","Shrink the log console");return this.wA;};c.prototype.iob=function(){var a;this.pA=this.createElement("button",this.gu());this.pA.style.display=this.Yd.rJ?"inline-block":"none";a=new g("0 0 24 24").lL().nT(4,4,16,16,g.background).end().mL("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",g.rD,"nonzero").end().end().Tk();this.pA.addEventListener("click",this.HTa,!1);this.pA.appendChild(a);this.pA.setAttribute("title","Expand the log console");return this.pA;};c.prototype.Rnb=function(){var a,b;a=this.createElement("button",this.gu());b=new g("0 0 26 26").lL().nT(0,0,24,24,g.background).end().mL("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",g.rD,"nonzero").end().end().Tk();a.appendChild(b);a.addEventListener("click",this.zqb,!1);a.setAttribute("title","Download all log messages");return a;};c.prototype.Inb=function(){var a,b,c;a=this;b=this.createElement("button",this.gu());c=new g("0 0 24 24").lL().nT(0,0,24,24,g.background).end().mL("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",g.rD,"nonzero").end().end().Tk();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};c.prototype.eF=function(a){var b;a=void 0 === a?!1:a;b=void 0 === b?!1:b;!1;a && this.update(b);};c.prototype.update=function(a){var b;a=void 0 === a?!1:a;b=this;this.element && this.config.ES && Promise.resolve(this.pjb() + this.Jvb().join("\r\n")).then(function(c){b.element && b.Bn && (b.Bn.value=c,b.element.style.cssText=b.Yd.rJ?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a && b.ya.yh(x.sb,function(){b.Bn.scrollTop=b.Bn.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};c.prototype.Jvb=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level || c.level) <= a.Yd.Wla && a.Yd.vw[c.Rm] && (c=c.x5(!a.Yd.XZ,!a.Yd.XZ),a.Yd.filter && !a.Yd.filter.test(c) || b.push(c));});return b;};c.prototype.pjb=function(){var a;a=this.Fz();return "Version: 6.0026.945.051 \n" + ((a?"Esn: " + a.ji:"") + "\n") + ("JsSid: " + this.app.id + ", Epoch: " + this.wa.ve.ba(x.Em) + ", Start: " + this.app.fE.ba(x.Em) + ", TimeZone: " + new Date().getTimezoneOffset() + "\n") + ("Href: " + location.href + "\n") + ("UserAgent: " + navigator.userAgent + "\n") + "--------------------------------------------------------------------------------\n";};c.prototype.createElement=function(a,b,c,d){return this.wd.createElement(a,b,c,d);};c.prototype.gu=function(a,b,c,d){a=void 0 === a?26:a;b=void 0 === b?26:b;return "display:inline-block;border:" + (void 0 === c?0:c) + "px solid " + g.rD + ";padding:3px;" + (isNaN(a)?"":"height:" + a + "px") + ";" + (isNaN(b)?"":"width:" + b + "px") + ";margin:0px 3px;background-color:transparent;" + (d?"border-radius:" + d + "px;":"");};a=c;a.CQb="logDxDisplay";a=d.__decorate([m.N(),d.__param(0,m.l(p.Vg)),d.__param(1,m.l(z.xd)),d.__param(2,m.l(f.Df)),d.__param(3,m.l(n.Ig)),d.__param(4,m.l(r.LB)),d.__param(5,m.l(E.O8)),d.__param(6,m.l(y.Ms)),d.__param(7,m.l(q.fC)),d.__param(8,m.l(l.d7)),d.__param(9,m.l(da.Hs))],a);b.Sxa=a;},function(d,b,a){var g,h,m,f,q,l,n,p;function c(a,b,c){var d;d=l.cN.call(this,a,b,"network") || this;d.fga=c;d.YZ=q.f7.s8a;d.TDb=30;d.rHb=function(a){d.YZ=a.target.value;d.refresh();};d.OGb=function(){d.data={};d.refresh();};d.xYa=function(a){var b,c;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=d.data[d.YZ][b].value;c=JSON.stringify(b,null,4);"copy" === a?p.EU.Hfa(c):"log" === a && console.log(b);};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.I8a=void 0;d=a(0);g=a(1);h=a(26);m=a(20);f=a(88);q=a(179);l=a(469);n=a(126);p=a(264);N(c,l.cN);c.prototype.Ib=function(){var a;a=this;if(this.dm)return Promise.resolve();O.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == n.Qs.y8a && a.toggle();});this.data={};this.fga.addListener(q.g7.O9a,function(b){var c;a.data[b.type] || (a.data[b.type]=[]);c=a.data[b.type];c.length === a.TDb && c.shift();c.push(b);b.type === a.YZ && a.refresh();});this.dm=!0;return Promise.resolve();};c.prototype.Hj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};c.prototype.lja=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"' + b + '"</font>';c=this.VIa.Tk(c);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + d + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + b + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + c + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.xja=function(){for(var a='<table class="' + this.prefix + '-display-table" width="100%">' + this.Hj(),b=this.data[this.YZ] || [],c=0;c < b.length;++c){a+=this.lja(c,b[c].name,b[c].value);}return a + "</table>";};c.prototype.XNa=function(){var a;a=this.wd.createElement("button",l.MF,"Clear",{"class":this.prefix + "-display-btn"});a.onclick=this.OGb;return [a,this.Dob(),this.wob()];};c.prototype.Dob=function(){var a;a=this.wd.createElement("select",l.MF,Object.values(q.f7).reduce(function(a,b){return a + ('<option value="' + b + '">' + b + "</option>");},""),{"class":this.prefix + "-display-select"});a.onchange=this.rHb;return a;};c.prototype.wob=function(){var a,b,c,d;a=this;b=this.wd.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.tS;b.onchange=function(){return a.hSb();};c=this.wd.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});d=this.wd.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});d.appendChild(b);d.appendChild(c);return d;};c.prototype.BXa=function(){return Promise.resolve(this.xja());};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(h.Df)),d.__param(1,g.l(m.De)),d.__param(2,g.l(f.iM))],a);b.I8a=a;},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;d=a(1);c=a(472);g=a(442);h=a(441);m=a(1074);f=a(9);b.crypto=new d.Pc(function(a){a(h.U6).to(m.Gua).Z();a(c.D9).wi(f.By);a(g.V6).wi(f.LV);});},function(d,b,a){var g,h;function c(a){this.MFb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Gua=void 0;d=a(0);g=a(472);a=a(1);c.prototype.cOa=function(){var a;a=this.MFb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};h=c;h=d.__decorate([a.N(),d.__param(0,a.l(g.D9))],h);b.Gua=h;},function(d,b,a){var c,g,h,m,f,q,l,n,p,x;Object.defineProperty(b,"__esModule",{value:!0});b.Nc=void 0;d=a(1);c=a(1076);g=a(1077);h=a(1078);m=a(132);f=a(293);q=a(448);l=a(1079);n=a(1080);p=a(473);x=a(1081);b.Nc=new d.Pc(function(a){a(m.wW).to(c.DCa).Z();a(f.hW).to(h.qBa).Z();a(q.Kaa).to(g.mDa).Z();a(l.uza).to(n.tza).Z();a(p.Qaa).to(x.DDa).Z();});},function(d,b,a){var g,h,m,f,q,l;function c(a,b){this.is=a;this.json=b;h.gn(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;d=a(0);h=a(52);m=a(33);f=a(1);q=a(20);l=a(132);c.prototype.kXa=function(a){var b;b=this;return g.read(a,function(a){return parseInt(a);},function(a){return b.is.Fda(a);});};c.prototype.$oa=function(a){var b;b=this;return g.read(a,function(a){return "true" == a?!0:"false" == a?!1:void 0;},function(a){return b.is.wO(a);});};c.prototype.cp=function(a){var b;b=this;return g.read(a,function(a){return parseInt(a);},function(a){return b.is.Kt(a);});};c.prototype.OKb=function(a){var b;b=this;return g.read(a,function(a){return parseFloat(a);},function(a){return b.is.Jh(a);});};c.prototype.jXa=function(a,b){return g.read(a,function(a){return g.Zsb(a,b);},function(a){return void 0 !== a;});};c.prototype.dpa=function(a,b){return g.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};c.prototype.lXa=function(a){var b,c;b=void 0 === b?function(){return !0;}:b;c=this;try{return g.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.PC(a) && b(a);});}catch(z){return new l.On();}};c.prototype.Dk=function(a,b,c){var d,f;c=void 0 === c?1:c;d=this;a=a.trim();f=b instanceof Function?b:this.mob(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0 != b || c != a.length - 1)return new l.On();a=a.substring(b + 1,c);try{return g.WHb(a).map(function(a){a=f(d,g.rUb(a));if(a instanceof l.On)throw a;return a;});}catch(B){return B instanceof l.On?B:new l.On();}};c.prototype.mob=function(a,b){var c;b=void 0 === b?1:b;c=this;return function(d,f){d=g.Kwb(a);return 1 < b?c.Dk(f,a,b - 1):d(c,f);};};c.Zsb=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d] == a)return d;}};c.read=function(a,b,c){a=b(a);return void 0 !== a && c(a)?a:new l.On();};c.Kwb=function(a){switch(a){case "int":return function(a,b){return a.kXa(b);};case "bool":return function(a,b){return a.$oa(b);};case "uint":return function(a,b){return a.cp(b);};case "float":return function(a,b){return a.OKb(b);};case "string":return function(a,b){return a.dpa(b);};case "object":return function(a,b){return a.lXa(b);};}};c.WHb=function(a){var m;for(var b=[["[","]"]],c=[],d=0,f=0,g=0,h=[],k={};f < a.length;(k={"char":k["char"]},++f)){k["char"]=a.charAt(f);m=void 0;"," == k["char"] && 0 == g?(c.push(a.substr(d,f - d)),d=f + 1):(m=b.find((function(a){return function(b){return b[0] == a["char"];};})(k)))?(++g,h.push(m)):0 < h.length && h[h.length - 1][1] == k["char"] && (--g,h.pop());}if(d != f)c.push(a.substr(d,f - d));else if(d == f && 0 < d)throw new l.On();return c;};c.rUb=function(a){var b;b=a.charAt(0);if('"' == b || "'" == b){if(a.charAt(a.length - 1) != b)throw new l.On();return a.substring(1,a.length - 1);}return a;};a=g=c;a=g=d.__decorate([f.N(),d.__param(0,f.l(q.De)),d.__param(1,f.l(m.sy))],a);b.DCa=a;},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=void 0;d=a(0);a=a(1);c.prototype.ENa=function(a){var b;b=this;return a?(a ^ 16 * Math.random() >> a / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(a){return b.ENa(a);});};g=c;g=d.__decorate([a.N()],g);b.mDa=g;},function(d,b,a){var g,h,m,f;function c(a){this.location=a;h.gn(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;d=a(0);h=a(52);m=a(33);a=a(1);c.fS=function(a){var b,d,f;b={};if(0 < a.length){a=a.split("&");for(var c=0;c < a.length;c++){d=a[c].trim();f=d.indexOf("=");0 <= f?b[decodeURIComponent(d.substr(0,f).replace(g.Nza,"%20"))]=decodeURIComponent(d.substr(f + 1).replace(g.Nza,"%20")):b[d.toLowerCase()]="";}}return b;};pa.Object.defineProperties(c.prototype,{BKb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=g.fS(this.aXa);}},aXa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0 !== this.xS)return this.xS;this.xS=this.location.search.substr(1);a=this.xS.indexOf("#");0 <= a && (this.xS=this.aXa.substr(0,a));return this.xS;}}});f=g=c;f.Nza=/[+]/g;f=g=d.__decorate([a.N(),d.__param(0,a.l(m.M8))],f);b.qBa=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uza=void 0;b.uza="ObjectComparerSymbol";},function(d,b,a){var g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;d=a(0);g=a(1);h=a(193);c.prototype.compare=function(a,b){var c;c=[];this.mfa(a,b,"",c);return c;};c.prototype.mfa=function(a,b,c,d){var f;f=this;if(h.IB.fw(a))h.IB.fw(b) && a.length === b.length?a.forEach(function(g,h){f.mfa(a[h],b[h],c + "[" + h + "]",d);}):d.push({a:a,b:b,path:c});else if(h.IB.PC(a) && null != a){if(h.IB.PC(b) && null != b){for(var g in a){this.mfa(a[g],b[g],c + "." + g,d);}for(var k in b){(k in a) || void 0 === b[k] || d.push({a:void 0,b:b[k],path:c + "." + k});}}else d.push({a:a,b:b,path:c});}else a !== b && d.push({a:a,b:b,path:c});};a=c;a=d.__decorate([g.N()],a);b.tza=a;},function(d,b,a){var g,h,m,f,q;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;d=a(0);g=a(1);h=a(9);m=a(32);f=a(266);q=a(7);c.prototype.jxb=function(){var a;a=O.devicePixelRatio || 1;return {width:this.xca.zWb || h.Xs.width * a,height:this.xca.yWb || h.Xs.height * a};};pa.Object.defineProperties(c.prototype,{xca:{configurable:!0,enumerable:!0,get:function(){return q.ha.get(m.$s);}}});a=c;d.__decorate([f.dR],a.prototype,"xca",null);a=d.__decorate([g.N()],a);b.DDa=a;},function(d,b,a){var c,g,h,m,f,q,l,n,p,x,z,y,B,r,I,E;Object.defineProperty(b,"__esModule",{value:!0});b.pc=void 0;d=a(1);c=a(115);g=a(1083);h=a(267);m=a(1084);f=a(1085);q=a(474);l=a(82);n=a(183);p=a(1086);x=a(1087);z=a(1092);y=a(1093);B=a(1094);r=a(1095);I=a(1096);E=a(475);b.pc=new d.Pc(function(a){a(q.I$).to(f.cBa).Z();a(c.J$).to(g.dBa).Z();a(h.cW).to(m.wAa).Z();a(n.P$).to(p.hBa).Z();a(l.kt).to(x.yDa).Z();a(E.N$).to(B.xya).Z();a(E.M$).to(y.Lxa).Z();a(E.L$).to(z.Hxa).Z();a(E.K$).to(r.Fwa).Z();a(E.O$).to(I.Mya).Z();});},function(d,b,a){var h,m,f,q,l,n,p,x,z;function c(a,b,c,d,f,g,h,k){this.rh=a;this.oE=b;this.ya=c;this.HA=f;this.config=g;this.sia=h;this.koa=k;this.W3=[];this.rla=[];this.Eoa={};this.ma=d.ob("PrefetchEvents");}function g(a,b,c,d,f,g){this.rh=a;this.oE=b;this.ya=c;this.sf=d;this.config=f;this.koa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;d=a(0);h=a(115);m=a(1);f=a(4);q=a(47);l=a(64);n=a(36);p=a(6);x=a(474);a=a(267);g.prototype.create=function(a,b){return new c(this.rh,this.oE,this.ya,this.sf,a,this.config,b,this.koa);};z=g;z=d.__decorate([m.N(),d.__param(0,m.l(q.El)),d.__param(1,m.l(l.Lq)),d.__param(2,m.l(n.Ig)),d.__param(3,m.l(p.xb)),d.__param(4,m.l(x.I$)),d.__param(5,m.l(a.cW))],z);b.dBa=z;c.prototype.yjb=function(a,b){this.gE(h.Ne.CB.U3a,a,b,void 0,"");};c.prototype.Ajb=function(a,b,c){this.gE(h.Ne.CB.V3a,a,b,void 0,c);};c.prototype.vjb=function(a,b,c){this.gE(h.Ne.CB.T3a,a,b,void 0,c);};c.prototype.tjb=function(a,b,c){this.gE(h.Ne.CB.R3a,a,b,void 0,c);};c.prototype.cP=function(a,b,c){this.gE(h.Ne.CB.S3a,a,b,void 0,c);};c.prototype.XIb=function(a){this.gE(h.Ne.CB.n9a,void 0,a);};c.prototype.lm=function(a,b,c,d,f,g,k){this.yY() && (this.gE(h.Ne.CB.z$a,void 0,a),this.bDb(a,b,c,d,f,g,k),this.iNa(),this.rSa());this.hBb(a) && this.CMb();};c.prototype.Tpb=function(a){a={dest_id:a,cache:this.rqa(this.sia())};this.WS("destiny_start",a);};c.prototype.GJb=function(a){(a=this.koa.aOb(a))?this.WS("destiny_prepare",a):this.ma.error("failed to serialize prepare event");};c.prototype.iNa=function(){0 < this.W3.length && this.yY() && (this.WS("destiny_events",{dest_id:this.HA.rp,events:this.W3}),this.W3=[]);this.A4 && (this.A4.cancel(),this.A4=void 0);this.vMa();};c.prototype.rSa=function(){var a;if(this.zjb() && this.yY()){a=this.sia();this.rla=a;a={dest_id:this.HA.rp,offset:this.HA.n0(),cache:this.rqa(a)};this.WS("destiny_cachestate",a);}this.z4 && (this.z4.cancel(),this.z4=void 0);this.uMa();};c.prototype.update=function(a){var b;b=this;a.Ka.forEach(function(a){a.list.forEach(function(a){b.Eoa[a.la]=!0;});});};c.prototype.hBb=function(a){return this.Eoa[a];};c.prototype.zjb=function(){var a,b,c;a=this;b=this.sia();if(b.length !== this.rla.length)return !0;c=!1;b.forEach(function(b,d){try{JSON.stringify(b) !== JSON.stringify(a.rla[d]) && (c=!0);}catch(da){a.ma.error("Failed to stringify cachedTitle",da);}});return c;};c.prototype.gE=function(a,b,c,d,f){this.yY() && (a={offset:this.HA.n0(),event_type:a,title_id:c,asset_type:b,size:d,reason:f},this.W3.push(a),this.vMa(),this.uMa());};c.prototype.vMa=function(){this.A4 || (this.A4=this.ya.yh(this.config.Yla,this.iNa.bind(this)));};c.prototype.uMa=function(){this.z4 || (this.z4=this.ya.yh(this.config.Yla,this.rSa.bind(this)));};c.prototype.bDb=function(a,b,c,d,g,k,l){var m;m=[];c && m.push({zs:a,iw:h.Ne.Ik.Hsa,state:h.Ne.kU.uU});d && m.push({zs:a,iw:h.Ne.Ik.JB,state:h.Ne.kU.uU});g && m.push({zs:a,iw:h.Ne.Ik.tM,state:h.Ne.kU.uU});(0 < k.ba(f.fa) || 0 < l.ba(f.fa)) && m.push({zs:a,iw:h.Ne.Ik.MEDIA,state:h.Ne.kU.uU,lib:k.ba(f.fa),FUb:l.ba(f.fa)});a={dest_id:this.HA.rp,offset:this.HA.n0(),xid:b,cache:this.rqa(m)};this.WS("destiny_playback",a);};c.prototype.WS=function(a,b){this.config.$Ya && (a=this.oE.Mp(a,"info",b),this.rh.Uc(a));};c.prototype.rqa=function(a){return a.map(function(a){return {title_id:a.zs,state:a.state,asset_type:a.iw,size:a.size,audio_ms:a.lib,video_ms:a.FUb};});};c.prototype.yY=function(){return 0 !== this.HA.rp;};c.prototype.CMb=function(){this.HA.BMb();this.Eoa={};};},function(d,b,a){var g,h,m;function c(a,b){this.Da=b;this.ma=a.ob("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;d=a(0);g=a(1);h=a(6);a=a(20);c.prototype.Qpb=function(a){var b;b=this;try{return {direction:a.direction,gCb:a.layoutHasChanged,XMb:a.rowInteractionIndex,Ka:a.lolomos.map(function(a){return b.Mpb(a);})};}catch(l){this.ma.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};c.prototype.Mpb=function(a){var b;b=this;return {context:a.context,list:a.list.map(function(a){return b.Lpb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,ZMb:a.rowSegment};};c.prototype.Lpb=function(a){var b,c;b={Hc:a.pts,property:a.property,la:a.viewableId,index:a.index};c=a.preplay;this.Da.ge(c) && (b.vK=this.Ppb(c));a=a.params;this.Da.ge(a) && (b.Za=this.qLa(a));return b;};c.prototype.Ppb=function(a){var b;b={Hc:a.pts,la:a.viewableId,FE:a.pipelineNum,index:a.index};a=a.params;this.Da.ge(a) && (b.Za=this.qLa(a));return b;};c.prototype.qLa=function(a){return {Nd:a.uiLabel,yi:a.trackingId,um:a.sessionParams};};c.prototype.rLa=function(a){var b;b=this;try{return a.map(function(a){return b.Npb(a);});}catch(l){this.ma.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};c.prototype.Npb=function(a){var b,c;c=a.params;this.Da.ge(c) && (b=this.Opb(c));return {u:a.movieId,me:a.priority,force:a.force,Za:b,Nd:a.uiLabel,J6b:a.uiExpectedStartTime,I6b:a.uiExpectedEndTime,Fj:a.firstTimeAdded};};c.prototype.Opb=function(a){var b,c;b=void 0;c=a.sessionParams;this.Da.ge(c) && (b=c);return {RO:this.Kpb(a.authParams),um:b,yi:a.trackingId,T:a.startPts,ta:a.manifest,mk:a.isBranching};};c.prototype.Kpb=function(a){return {TVa:null === a || void 0 === a?void 0:a.pinCapableClient};};c.prototype.aOb=function(a){var b,c;try{b="";this.Da.ge(a.sWa) && (b=JSON.stringify(this.dOb(JSON.parse(a.sWa))));c="";this.Da.ge(a.tWa) && (c=JSON.stringify(this.eOb(JSON.parse(a.tWa))));return {dest_id:a.TZ,offset:a.offset,predictions:a.yWa.map(this.gOb,this),ppm_input:b,ppm_output:c,prepare_type:a.H5b};}catch(u){this.ma.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};c.prototype.gOb=function(a){return {title_id:a.zs};};c.prototype.dOb=function(a){return {direction:a.direction,layoutHasChanged:a.gCb,rowInteractionIndex:a.XMb,lolomos:a.Ka.map(this.cOb,this)};};c.prototype.cOb=function(a){return {context:a.context,list:a.list.map(this.bOb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.ZMb};};c.prototype.bOb=function(a){var b,c;this.Da.ge(a.vK) && (b=this.hOb(a.vK));this.Da.ge(a.Za) && (c=this.sqa(a.Za));return {preplay:b,pts:a.Hc,viewableId:a.la,params:c,property:a.property,index:a.index};};c.prototype.hOb=function(a){var b;this.Da.ge(a.Za) && (b=this.sqa(a.Za));return {pts:a.Hc,viewableId:a.la,params:b,pipelineNum:a.FE,index:a.index};};c.prototype.sqa=function(a){return {uiLabel:a.Nd,trackingId:a.yi,sessionParams:a.um};};c.prototype.eOb=function(a){return a.map(this.fOb,this);};c.prototype.fOb=function(a){var b;this.Da.ge(a.Za) && (b=this.sqa(a.Za));return {movieId:a.u,priority:a.me,params:b,uiLabel:a.Nd,firstTimeAdded:a.Fj,viewableId:a.la,pts:a.Hc};};m=c;m=d.__decorate([g.N(),d.__param(0,g.l(h.xb)),d.__param(1,g.l(a.De))],m);b.wAa=m;},function(d,b,a){var g,h,m,f,q;function c(a){return h.pe.call(this,a,"PrefetchEventsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;d=a(0);g=a(1);h=a(44);m=a(31);f=a(42);q=a(4);N(c,h.pe);pa.Object.defineProperties(c.prototype,{$Ya:{configurable:!0,enumerable:!0,get:function(){return !0;}},Yla:{configurable:!0,enumerable:!0,get:function(){return q.JR(5);}}});a=c;d.__decorate([f.config(f.Gc,"sendPrefetchEventLogs")],a.prototype,"$Ya",null);d.__decorate([f.config(f.th,"logsInterval")],a.prototype,"Yla",null);a=d.__decorate([g.N(),d.__param(0,g.l(m.tj))],a);b.cBa=a;},function(d,b,a){var g,h,m,f,q,l,n,p,x,z;function c(a,b,c,d){this.is=c;this.app=d;this.log=a.ob("TaskScheduler");this.Hb=new x.pj();this.config=b();this.DZ=this.AP=0;this.qF=[];this.paused=!1;this.f5=[];this.ZJa=[];this.kAb=this.config.HJb || z.append;this.addEventListener=this.Hb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;d=a(0);g=a(1);h=a(183);m=a(6);f=a(13);q=a(94);l=a(20);n=a(19);p=a(4);x=a(69);(function(a){a.OJb="prepend";a.append="append";a.xzb="ignore";})(z || (z={}));c.prototype.hHa=function(a){this.log.trace("adding tasks, number of tasks: " + a.length);this.paused=!1;this.qF=this.lAb(a);this.AP=0;this.DZ+=1;this.uc();};c.prototype.pause=function(){this.paused=!0;};c.prototype.uc=function(){var a,b,c,d;a=this;if(this.AP === this.qF.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.AP,numberOfTasks:this.qF.length});else {b=this.Dwb();c=this.DZ;b.startTime=this.app.zb().ba(p.fa);b.status=q.Cf.Su;this.Hb.cc(h.et.S_a,{u:b.u,type:b.type});this.f5.push(b);d=function(d){b.endTime=a.app.zb().ba(p.fa);d();a.ZJa.push(b);a.f5.splice(a.f5.indexOf(b),1);a.DZ === c && (a.AP++,a.uc());};b.$Mb().then(function(){d(function(){b.status=q.Cf.uL;a.Noa(b,h.et.T_a,"task succeeded");});})["catch"](function(c){d(function(){0 <= [q.Cf.bk,q.Cf.Mea,q.Cf.hZ,q.Cf.Lea].indexOf(c.status)?(b.status=c.status,a.Noa(b,h.et.Q_a,"cancelled task")):(b.status=q.Cf.Up,a.Noa(b,h.et.R_a,"task failed",c));});});}};c.prototype.Dwb=function(){return this.qF[this.AP];};c.prototype.getStats=function(a,b,c){var d,f,g,h;d=this.ZJa.map(function(a){return a.Cr();});f=this.f5.map(function(a){return a.Cr();});g=this.is.ge(a) && this.is.ge(b);h={};if(this.is.ge(c))return (h.slb=d.filter(function(a){return a.movieId === c;}),h);d.concat(f).forEach(function(c){var d;h[c.type + "_" + c.status]=(h[c.type + "_" + c.status] | 0) + 1;d=c.status == q.Cf.Su?c.startTime:c.endTime;g && d && d >= a && d < b && (h[c.type + "_" + c.status + "_delta"]=(h[c.type + "_" + c.status + "_delta"] | 0) + 1);});return h;};c.prototype.Noa=function(a,b,c,d){var f;f=a.Cr();d?this.log.warn(c,f,d):this.log.trace(c,f);this.Hb.cc(b,{u:a.u,type:a.type,reason:a.status});a.yu(f);};c.prototype.lAb=function(a){var b,c;b=this.qF.filter(function(a){return a.wIb && a.status === q.Cf.Um;});c=this.kAb;return c === z.xzb?[].concat(a):c === z.OJb?b.concat(a):a.concat(b);};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(m.xb)),d.__param(1,g.l(f.Oc)),d.__param(2,g.l(l.De)),d.__param(3,g.l(n.xd))],a);b.hBa=a;},function(d,b,a){var h,m,f,q,l,n,p,x,z,y,B,r,I,E,da,W,R;function c(a,b,c,d,f,g,h,k,l,m,q,n){var p;p=this;this.cj=c;this.fVb=d;this.Da=f;this.app=g;this.fg=h;this.QMa=k;this.Ksb=l;this.Lsb=m;this.Jsb=q;this.Msb=n;this.log=a.ob("VideoPreparer");this.config=b();this.Bsa={};this.P2={};this.Hla={};this.Ila={};this.Ob={num_of_calls:0,num_of_movies:0};this.ak=new W({log:this.log,wa:{getTime:function(){return p.app.zb().ba(B.fa);}},Promise:Promise,em:!1,xjb:this.config.KJb,wjb:this.config.IJb,lsb:this.config.CWa,ksb:this.config.JJb,Eo:R});}function g(a){return void 0 !== a;}Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;d=a(0);h=a(56);m=a(1088);f=a(115);q=a(13);l=a(1);n=a(6);p=a(87);x=a(20);z=a(183);y=a(19);B=a(4);r=a(94);I=a(475);E=a(83);da=a(81);W=a(1089);R=a(125).EventEmitter;c.prototype.YA=function(a,b,c,d){this.ak.setData(a,b,c,d);};c.prototype.Mja=function(a,b){return this.ak.S0(a,b);};c.prototype.Ar=function(a,b){return this.ak.getData(a,b);};c.prototype.jDb=function(){return this.iE();};c.prototype.ONa=function(a){var b;b=this.ak.getData(a,"ldl");this.ak.clearData(a,"ldl",void 0,!0);return b;};c.prototype.Qx=function(a,b){var c,d,f;c=this;a=a.map(function(a){a.Za=a.Za || ({RO:{TVa:!1},yi:0});c.Da.tD(a.Za.yi) || (a.Za.yi=0);c.Da.tD(a.Hc) && (a.Za.T=a.Hc);return a;});d=a.map(function(a){return c.JKa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=d.map(function(a){return a.u + "-" + a.type;});this.log.trace("prepare tasks",f);this.fg.hHa(d);this.Ob.num_of_calls++;this.Ob.num_of_movies+=a.length;};c.prototype.zJb=function(a,b){var c,d,f;c=this;d=a.map(function(a){return a.u + "";});a=a.map(function(a){a.Za=a.Za || ({RO:{TVa:!1},yi:0});a.Za.Md=!0;a.Za.TTa=d;return c.JKa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=a.map(function(a){return a.u + "-" + a.type;});this.log.trace("predownload tasks",f);this.fg.hHa(a);};c.prototype.getStats=function(a,b,c){return Object.assign(Object.assign({},c && this.P2[c] || ({})),{qF:this.fg.getStats(a,b,c),cache:this.ak.getStats(a,b),aub:Object.assign(Object.assign({},this.zvb()),this.Ob)});};c.prototype.Eyb=function(a){this.oT=a;};c.prototype.Dyb=function(a){this.log.trace("task scheduler paused on playback created");this.fg.pause();this.config.Hpb && this.ak.bfa(a,["manifest"]);this.config.Gpb && this.ak.bfa(a,["ldl"]);this.cI=a;};c.prototype.OPa=function(){this.log.info("track changed, clearing all manifests from cache");this.ak.bfa("none",["manifest"]);};c.prototype.Cyb=function(a){var b;b=this;this.config.Dpb?this.ak.clearData(a,"manifest"):this.ak.S0(a,"manifest") && this.ak.getData(a,"manifest").then(function(c){c.Tc.isSupplemental || b.ak.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId [" + a + "] from cacheManager.",c);});this.gfa(a);this.oT=this.cI=void 0;};c.prototype.gfa=function(a){delete this.Bsa[a];};c.prototype.J0=function(a){return this.Bsa[a];};c.prototype.NKa=function(a){return this.Bsa[a]=this.fVb.Bz();};c.prototype.DJb=function(){var a;a=[];a=this.ak.cd().map(function(a){return {zs:parseInt(a.movieId,10),state:a.state,iw:a.type,size:a.size || void 0};});this.qub().map(function(b){2 === b.Gr?a.push({zs:b.u,state:"cached",iw:f.Ne.Ik.tM,size:void 0}):b.vtb && !b.YBb && a.push({zs:b.u,state:"loading",iw:f.Ne.Ik.tM,size:void 0});b.R1a && 0 < b.R1a && b.cIa && 0 < b.cIa?a.push({zs:b.u,state:"cached",iw:f.Ne.Ik.MEDIA,size:void 0}):b.vJb && !b.uJb && a.push({zs:b.u,state:"loading",iw:f.Ne.Ik.MEDIA,size:void 0});});return a;};c.prototype.WAb=function(a){return this.cI === a;};c.prototype.NZa=function(a,b,c){if(this.Mja(a,"ldl"))return r.Cf.bk;if(!b.Oja)return r.Cf.Lea;if(this.config.wqb && this.cI && this.cI !== a && !c.force)return r.Cf.Mea;if(this.config.xqb && this.oT && this.oT !== a && !c.force)return r.Cf.hZ;this.cI && this.cI !== a && (this.Hla[a]=(this.Hla[a] | 0) + 1);this.oT && this.oT !== a && (this.Ila[a]=(this.Ila[a] | 0) + 1);};c.prototype.JKa=function(a,b){var c,d,f,h;a.Nd && a.Za && (a.Za.Nd=a.Nd);this.wTb(a.u,a.Fj);d=null === (c=this.nFb) || void 0 === c?void 0:c.call(this,a.u);c=this.hob(a,b);f=this.dob(a,null === c || void 0 === c?void 0:c.id,b);h=this.kob(a,d,this.config.SP,null === c || void 0 === c?void 0:c.id,b);a=this.$nb(a,d,this.config.SP,null === c || void 0 === c?void 0:c.id,b);return [c,f,h,a].filter(g);};c.prototype.hob=function(a,b){if(this.ak.S0(a.u,"manifest"))this.log.trace("manifest exists in cache for " + a.u);else return new m.wG("manifest",this.app.zb().ba(B.fa),! !a.Za.Md,void 0,b,this.QMa,a,this);};c.prototype.dob=function(a,b,c){if(this.config.AI && (!this.cj.$ga || !this.config.Fn))if(this.ak.S0(a.u,"ldl"))!1;else return this.config.Fn?new m.wG("ldl",this.app.zb().ba(B.fa),! !a.Za.Md,b,c,this.Ksb,a,this):new m.wG("ldl",this.app.zb().ba(B.fa),! !a.Za.Md,b,c,this.Lsb,a,this);};c.prototype.kob=function(a,b,c,d,f){if(c)if(b)!1;else return new m.wG("getMedia",this.app.zb().ba(B.fa),! !a.Za.Md,d,f,this.Msb,a,this);};c.prototype.$nb=function(a,b,c,d,f){if(c)if(b)!1;else return new m.wG("getHeaders",this.app.zb().ba(B.fa),! !a.Za.Md,d,f,this.Jsb,a,this);};c.prototype.wTb=function(a,b){this.P2[a] || (this.P2[a]={K3:0,Fj:0});a=this.P2[a];a.K3=(void 0 !== a?void 0 !== a.K3?a.K3:0:0) + 1;a.Fj=b;};c.prototype.zvb=function(){return {ldls_after_create:this.Hla,ldls_after_start:this.Ila};};c.prototype.qub=function(){var a;a=this;return E.Xf.Rl.eP().map(function(b){var c,d;c=E.Xf.Rl.$la(b.u);d=c && c[h.Ac.Zh.AUDIO] && c[h.Ac.Zh.AUDIO].data || void 0;c=c && c[h.Ac.Zh.VIDEO] && c[h.Ac.Zh.VIDEO].data || void 0;return {u:b.u,Gr:b.Gr,cIa:d && d.length,R1a:c && c.length,vtb:a.Da.Kt(b.Ob.L_),YBb:a.Da.Kt(b.Ob.Z1),vJb:a.Da.Kt(b.Ob.uK),uJb:a.Da.Kt(b.Ob.H3)};});};c.prototype.nFb=function(a){var b;b=!1;E.Xf.Rl.eP().forEach(function(c){c.u == a && (b=!0);});return b;};c.prototype.iE=function(){return E.Xf.Rl.iE();};a=c;a=d.__decorate([l.N(),d.__param(0,l.l(n.xb)),d.__param(1,l.l(q.Oc)),d.__param(2,l.l(da.Zs)),d.__param(3,l.l(p.qv)),d.__param(4,l.l(x.De)),d.__param(5,l.l(y.xd)),d.__param(6,l.l(z.P$)),d.__param(7,l.l(I.N$)),d.__param(8,l.l(I.M$)),d.__param(9,l.l(I.L$)),d.__param(10,l.l(I.K$)),d.__param(11,l.l(I.O$))],a);b.yDa=a;},function(d,b,a){var g,h;function c(a,b,c,d,k,n,p,z){this.type=a;this.Um=b;this.wIb=void 0 === c?!1:c;this.wUa=k;this.Nsb=n;this.Goa=p;this.pc=z;this.id=++h;this.status=g.Cf.Um;}Object.defineProperty(b,"__esModule",{value:!0});b.wG=void 0;g=a(94);h=0;c.prototype.Cr=function(){var a;a={id:this.id,type:this.type,created:this.Um,status:this.status,movieId:this.u};this.startTime && (a.startTime=this.startTime);this.endTime && this.startTime && (a.duration=this.endTime - this.startTime,a.endTime=this.endTime);return a;};c.prototype.yu=function(a){this.wUa && this.wUa(a);};c.prototype.$Mb=function(){return this.Nsb.fetch(this.Goa,this.pc);};pa.Object.defineProperties(c.prototype,{u:{configurable:!0,enumerable:!0,get:function(){return this.Goa.u;}},me:{configurable:!0,enumerable:!0,get:function(){return this.Goa.me;}}});b.wG=c;},function(d,b,a){var f,q;function c(){return Object.create(null);}function g(a){this.log=a.log;this.wa=a.wa;this.zA=c();this.Promise=a.Promise;this.Bw=a.Bw;this.Vra=a.Vra;this.em=a.em || !1;this.Mw=c();this.uz=c();this.tz=c();this.qfb(a);a.Eo && (this.Eo=a.Eo,f(this.Eo,g.prototype));}function h(a){return "undefined" !== typeof a;}function m(a){var d;for(var b=0,c=arguments.length;b < c;){d=arguments[b++];if(h(d))return d;}}f=a(62);a(1090);q=a(1091);g.prototype.qfb=function(a){this.Mw.manifest=m(a.lsb,q.Mw.ta);this.Mw.ldl=m(a.ksb,q.Mw.eR);this.Mw.metadata=m(a.c3b,q.Mw.Ld);this.uz.manifest=m(a.xjb,q.uz.ta);this.uz.ldl=m(a.wjb,q.uz.eR);this.uz.metadata=m(a.P1b,q.uz.Ld);this.tz.manifest=m(a.N1b,q.tz.ta);this.tz.ldl=m(a.M1b,q.tz.eR);this.tz.metadata=m(a.O1b,q.tz.Ld);};g.prototype.S0=function(a,b){this.yo("undefined" !== typeof a);this.yo("undefined" !== typeof b);return ! !this.DEa(a,b,void 0).value;};g.prototype.DEa=function(a,b,c){var d,f;d={value:null,reason:"",log:""};f=this.zA[b];if("undefined" === typeof f)return (d.log="cache miss: no data exists for field:" + b,d.reason="unavailable",d);"undefined" === typeof f[a]?(d.log="cache miss: no data exists for movieId:" + a,d.reason="unavailable"):(c=f[a][c?c:"DEFAULTCAPS"]) && c.value?this.z1(b,c.ek)?(d.log="cache miss: " + b + " data expired for movieId:" + a,d.reason="expired"):(d.log=this.Promise && c.value instanceof this.Promise?"cache hit: " + b + " request in flight for movieId:" + a:"cache hit: " + b + " available for movieId:" + a,d.value=c.value):(d.log="cache miss: " + b + " data not available for movieId:" + a,d.reason="unavailable");return d;};g.prototype.getData=function(a,b,c){this.yo("undefined" !== typeof a);this.yo("undefined" !== typeof b);a=this.DEa(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Vra?JSON.parse(this.Vra(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};g.prototype.setData=function(a,b,d,f,g){var h;this.yo("undefined" !== typeof a);this.yo("undefined" !== typeof b);h=this.zA;g=g?g:"DEFAULTCAPS";h[b] || (h[b]=c(),Object.defineProperty(h[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(h[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.Bw?this.Bw(JSON.stringify(d),"gzip",!0):d;h=h[b];this.$cb(a,b,g,h);b={ek:this.wa.getTime(),value:d,size:0,type:b,uga:f};h[a]=h[a] || c();h[a][g]=h[a][g] || c();h[a][g]=b;h.size+=0;h.numEntries++;this.Eo && this.emit("addedCacheItem",b);return b;};g.prototype.$cb=function(a,b,c,d){var f,g,h,k,l,m,q,n,p;f=this;g=d.numEntries;h=this.uz[b];m=d[a] && d[a][c];if(m && m.value)(k=a,l="promise_or_expired");else if(g >= h){n=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var g;g=d[a] && d[a][c];g && g.value && f.z1(b,g.ek) && (p=a);g && g.value && g.ek < n && (n=g.ek,q=a);return !0;});k=p || q;l="cache_full";}this.em && this.log.debug("makespace ",{maxCount:h,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:k});k && (f.clearData(k,b,c,void 0,l),this.log.debug("removed from cache: ",k,b));};g.prototype.bfa=function(a,b){var c,d;c=this;c.yo("undefined" !== typeof a);d=a + "";b.forEach(function(a){var b;b=c.zA[a];b && Object.keys(b).forEach(function(b){b != d && c.clearData(b,a,void 0,void 0,"clear_all");});});};g.prototype.clearData=function(a,b,c,d,f){var g;this.yo("undefined" !== typeof a);this.yo("undefined" !== typeof b);g=this.zA[b];b=g?g[a]:void 0;c=c?c:"DEFAULTCAPS";if(b && b[c]){g.size-=b[c].size;g.numEntries--;if(g=b && b[c])(b[c]=void 0,!d && g.uga && g.uga());this.Eo && (a={creationTime:g.ek,destroyFn:g.uga,size:g.size,type:g.type,value:g.value,reason:f,movieId:a},this.emit("deletedCacheItem",a));}};g.prototype.flush=function(a){var b;this.yo("undefined" !== typeof a);b=this.zA;b[a]=c();b[a].numEntries=0;b[a].size=0;};g.prototype.yJa=function(a,b){var c,d,f;this.yo("undefined" !== typeof a);c=this;d=this.zA;f=b?b:"DEFAULTCAPS";d[a] instanceof Object && (b=Object.keys(d[a]),b.forEach(function(b){var g;g=d[a][b][f];c.wa.getTime() - g.ek > c.Mw[a] && this.clearData(b,a,f,void 0,"clean_up");}));};g.prototype.z1=function(a,b){return this.wa.getTime() - b > this.Mw[a];};g.prototype.getStats=function(a,b,c){var d,f,g,k,l;d={};f=this;g=f.zA;k=h(a) && h(b);l=c || "DEFAULTCAPS";Object.keys(g).forEach(function(c){var m,q;m=Object.keys(g[c]);q=g[c];m.forEach(function(g){!(g=q && q[g] && q[g][l]) || !h(g.value) || g.value instanceof this.Promise || (d[c]=(d[c] | 0) + 1,f.z1(g.type,g.ek) && (d[c + "_expired"]=(d[c + "_expired"] | 0) + 1),k && g.ek >= a && g.ek < b && (d[c + "_delta"]=(d[c + "_delta"] | 0) + 1));});});return d;};g.prototype.cd=function(a){var b,c,d,f;b=[];c=this;d=c.zA;f=a || "DEFAULTCAPS";Object.keys(d).forEach(function(a){var g,k;g=Object.keys(d[a]);k=d[a];g.forEach(function(d){var g,l;g=k && k[d] && k[d][f];g && h(g.value) && (l=c.z1(g.type,g.ek)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:d,state:l,type:a,size:g.size}));});});return b;};g.prototype.Aqa=function(a,b){this.yo("undefined" !== typeof a);this.yo("undefined" !== typeof b);this.tz[a]=b;};g.prototype.yo=function(a){if(!a && (this.log.error("Debug Assert Failed for"),this.em))throw Error("Debug Assert Failed ");};d.W=g;},function(d){function b(a){var b;b=[];return (function h(a){if(a && "object" === typeof a){if(-1 !== b.indexOf(a))return !0;b.push(a);for(var c in a){if(a.hasOwnProperty(c) && h(a[c]))return !0;}}return !1;})(a);}d.W=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var d=0;a.length;){g=a.pop();if("boolean" === typeof g)d+=4;else if("string" === typeof g)d+=2 * g.length;else if("number" === typeof g)d+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var m in g){a.push(g[m]);}}}return d;};},function(d){d.W={Mw:{ta:12E5,eR:9E5,Ld:12E5},uz:{ta:10,eR:10,Ld:10},tz:{ta:10240,eR:10240,Ld:10240}};},function(d,b,a){var g,h,m,f,q,l,n,p,x,r,y,B,L,I,E;function c(a,b,c,d,f,g,h,k,l){this.nq=c;this.lT=d;this.tc=f;this.wa=g;this.xa=h;this.DJ=k;this.LIb=l;this.log=a.ob("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.Hxa=void 0;d=a(0);g=a(1);h=a(6);m=a(13);f=a(94);q=a(67);l=a(74);n=a(32);p=a(117);x=a(181);r=a(41);y=a(4);B=a(34);L=a(19);I=a(147);a=a(196);c.prototype.fetch=function(a,b){var c;c=this;this.log.trace("Fetching LDL",I.Kq(a));this.u=a.u;this.pc=b;return b.Ar(a.u,"ldl")["catch"](function(){c.log.trace("Requesting a new license",I.Kq(a));return b.Ar(a.u,"manifest").then(function(d){var f,g;c.ta=d;c.Tc=d.Tc;if(d=c.pc.NZa(a.u,c.Tc,a))throw {status:d};d=c.Tc.Fs[0].fs;f=c.Tc.Fs[0].Pga;g=(d?d:[f]).map(function(a){return c.tc.decode(a.bytes);});c.Td=c.oD({Gka:"cenc",YLa:c.log,nha:function(a){return c.handleError(a);},vd:void 0,tna:function(){},wa:{getTime:function(){return c.xa.zb().ba(y.fa);},s3b:function(){return c.wa.ve.ba(y.Em);}}});b.YA(a.u,"ldl",c.Td,function(){c.Td.close();});return c.Td.create(c.config.ke).then(function(){return c.Td.Yi(l.Fi.ty,g,!0);}).then(function(){return c.Td;})["catch"](function(a){c.handleError(a);throw a;});})["catch"](function(a){c.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:f.Cf.bk};});});};c.prototype.handleError=function(a){this.log.warn("ldl is now invalid",a);this.Td.close();this.pc.YA(this.u,"ldl",void 0);this.pc.gfa(this.u);};c.prototype.oD=function(a){var b,c;b=this;if(!this.nq.mv || !this.nq.kv){c=this.LIb();this.nq.mv=c.Cb;this.nq.kv=c.request;}c=new this.nq.kv(a.YLa,function(a){var c;c=[];a.Ti.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:b.tc.encode(a.data)});});a={Ti:c,c_:[b.Tc.Yk],Zi:q.Am.oKa(a.Zi),yg:b.Tc.yg,ea:b.pc.NKa(b.u),$i:b.ta.$i};b.log.trace("xid created ",{MovieId:b.u,xid:a.ea});return b.DJ.Zv(a);},void 0,{em:!1,UQ:!1});return this.nq.mv(a.YLa,a.Gka,a.vd,{em:!1,UQ:!1,uRa:this.config.Nj,QYa:{zTa:this.config.OYa,pJa:this.config.cqa},TA:c,RWa:this.config.Roa,oa:void 0,FF:this.config.Xga,onerror:a.nha,tna:a.tna,wa:a.wa,VIb:!1,dIa:this.lT.tP([]),S1a:this.lT.yP([]),hJ:this.config.hJ});};E=c;E=d.__decorate([g.N(),d.__param(0,g.l(h.xb)),d.__param(1,g.l(m.Oc)),d.__param(2,g.l(n.$s)),d.__param(3,g.l(p.dC)),d.__param(4,g.l(r.Di)),d.__param(5,g.l(B.Vg)),d.__param(6,g.l(L.xd)),d.__param(7,g.l(x.eG)),d.__param(8,g.l(a.TM))],E);b.Hxa=E;},function(d,b,a){var g,h,m,f,q,l,n,p,x;function c(a,b,c,d,f){this.tc=c;this.Pqb=d;this.uA=f;this.log=a.ob("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.Lxa=void 0;d=a(0);g=a(1);h=a(6);m=a(13);f=a(74);q=a(41);l=a(111);n=a(112);p=a(94);x=a(147);c.prototype.fetch=function(a,b){var c;c=this;this.log.trace("Fetching LDL",x.Kq(a));this.u=a.u;this.pc=b;return b.Ar(a.u,"ldl")["catch"](function(){c.log.trace("Requesting a new license",x.Kq(a));return b.Ar(a.u,"manifest").then(function(d){var g,h,k,l;c.Tc=d.Tc;g=c.pc.NZa(a.u,c.Tc,a);if(g)throw {status:g};h=c.Tc.Fs[0].fs;g=c.Tc.Fs[0].Pga;k=(h?h:[g]).map(function(a){return c.tc.decode(a.bytes);});l=c.Pqb().then(function(g){var l;l={type:f.Fi.ty,iJ:k,context:{ke:c.config.ke,fs:h},xg:{u:a.u,ea:b.NKa(a.u),yg:c.Tc.yg,Yk:c.Tc.Yk,$i:d.$i}};return g.Qx(l,c.uA());})["catch"](function(a){c.handleError("Unable to prepare an EME session.",a);throw a;});c.pc.YA(a.u,"ldl",l,function(){try{l.then(function(a){a.close().subscribe(void 0,function(a){c.handleError("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){c.handleError("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(R){c.handleError("Unable to cleanup LDL session, unexpected exception.",R);}});return l;})["catch"](function(a){c.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:p.Cf.bk};});});};c.prototype.handleError=function(a,b){this.log.warn(a + " LDL is now invalid.",b);this.pc.YA(this.u,"ldl",void 0);this.pc.gfa(this.u);};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(h.xb)),d.__param(1,g.l(m.Oc)),d.__param(2,g.l(q.Di)),d.__param(3,g.l(l.lM)),d.__param(4,g.l(n.PB))],a);b.Lxa=a;},function(d,b,a){var g,h,m,f,q,l,n,p,x,r;function c(a,b,c,d,f,g){this.lma=c;this.qR=d;this.is=f;this.app=g;this.log=a.ob("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.xya=void 0;d=a(0);g=a(13);h=a(1);m=a(6);f=a(20);q=a(19);l=a(4);n=a(94);p=a(165);x=a(127);r=a(147);c.prototype.fetch=function(a,b){var c,d,f;c=this;this.log.trace("Fetching manifest",r.Kq(a));d=a.Za;if(this.config.fgb && d && d.ta && !b.Mja(a.u,"manifest") && (!(("clientGenesis" in d.ta) && d.ta.clientGenesis) || Date.now() - d.ta.clientGenesis < this.config.CWa)){f=this.lma.create(d.ta);f.SA=this.app.zb().ba(l.fa);f.VE=this.app.zb().ba(l.fa);b.YA(a.u,"manifest",f);return Promise.resolve(f);}return b.Ar(a.u,"manifest")["catch"](function(){var f,g;c.log.trace("Requesting a new manifest",r.Kq(a));if(b.Mja(a.u,"manifest"))throw {status:n.Cf.bk};f=c.app.zb().ba(l.fa);g=c.wDb(a.u,d);b.YA(a.u,"manifest",g);return g.then(function(d){d.SA=f;d.VE=c.app.zb().ba(l.fa);b.YA(a.u,"manifest",d);return d;})["catch"](function(c){b.YA(a.u,"manifest",void 0);throw c;});});};c.prototype.wDb=function(a,b){this.is.PC(b) || (b={trackingId:b});b={Ta:b,la:a,yr:x.qj.OM};this.log.trace("manifest request",{movieId:a});return this.qR.Le(this.log,b);};a=c;a=d.__decorate([h.N(),d.__param(0,h.l(m.xb)),d.__param(1,h.l(g.Oc)),d.__param(2,h.l(p.iG)),d.__param(3,h.l(x.ZV)),d.__param(4,h.l(f.De)),d.__param(5,h.l(q.xd))],a);b.xya=a;},function(d,b,a){var g,h,m,f,q,l;function c(a,b){this.iB=b;this.log=a.ob("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.Fwa=void 0;d=a(0);g=a(1);h=a(83);m=a(6);f=a(147);q=a(164);l=a(225);c.prototype.fetch=function(a,b){var c,d;c=this;this.log.trace("Fetching headers",f.Kq(a));d=a.Za;return void 0 === d?Promise.reject("PrepareItemParams is not initialized for Headers Prepare"):new Promise(function(g,k){b.Ar(a.u,"manifest").then(function(b){var k;k=new l.IW(c.log,c.iB).Xna(b.Tc.Fs);b=f.ria(b.Tc,k[0].wc,d,a.u);h.Xf.Rl.aZ(b,function(){return g();});})["catch"](function(a){c.log.error("Exception in getHeaders",a);k(a);});});};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(m.xb)),d.__param(1,g.l(q.gN))],a);b.Fwa=a;},function(d,b,a){var g,h,m,f,q,l,n,p,x,r;function c(a,b,c,d){this.Da=b;this.Ot=c;this.iB=d;this.log=a.ob("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;d=a(0);g=a(1);h=a(6);m=a(219);f=a(4);q=a(20);l=a(94);n=a(83);p=a(147);x=a(164);r=a(225);c.prototype.fetch=function(a,b){var c,d;c=this;this.log.trace("Fetching media",p.Kq(a));d=a.Za;return void 0 === d?Promise.reject("PrepareItemParams is not initialized for Media Prepare"):new Promise(function(g,h){b.Ar(a.u,"manifest").then(function(h){var k,m,q;if(void 0 === n.Xf.Rl)throw (c.log.warn("Failing media prepare: aseManager is not initialized",p.Kq(a)),{status:l.Cf.Up});h=h.Tc;k=new r.IW(c.log,c.iB).Xna(h.Fs);k=p.ria(h,k[0].wc,d,a.u);m=h.duration;k.Hc=c.Da.Kt(d.T)?d.T:c.Ot.pHa({DF:f.Jb(h.Ot),u:a.u,jS:f.Jb(m),Ta:d}).ba(f.fa);if(!b.WAb(a.u) || d.Md || a.force){q=function(b){b.movieId === a.u && b.stats && b.stats.prebuffcomplete && (n.Xf.Rl.removeEventListener("prebuffstats",q),g({}));};n.Xf.Rl.addEventListener("prebuffstats",q);n.Xf.Rl.aZ(k);}else throw (c.log.warn("Cancelling media prepare: movie is already started",p.Kq(a)),{status:l.Cf.hZ});})["catch"](function(a){c.log.error("Exception in getMedia",a);if(void 0 !== a.status)throw a;h(a);});});};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(h.xb)),d.__param(1,g.l(q.De)),d.__param(2,g.l(m.sU)),d.__param(3,g.l(x.gN))],a);b.Mya=a;},function(d,b,a){var c,g,h,m,f,q,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Kh=void 0;d=a(1);c=a(184);g=a(1098);h=a(477);m=a(1099);f=a(478);q=a(1100);l=a(1101);n=a(479);p=a(1102);b.Kh=new d.Pc(function(a){a(c.q7).to(g.lva).Z();a(h.l9).to(m.Jya).Z();a(f.G9).to(q.yza).Z();a(f.n9).to(l.Pya).Z();a(n.m9).to(p.Oya).Z();});},function(d,b,a){var g,h,m,f,c;function c(a){function b(b,c){this.H=b;this.Kl=c;this.y_=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.Jg=a.ob("DownloadTrack");}b.prototype.Op=function(){!1;this.pY=void 0;this.emit("destroyed");};b.prototype.toString=function(){return "id:" + this.pY + " config: " + JSON.stringify(this.H);};b.prototype.toJSON=function(){return "Download Track id:" + this.pY + " config: " + JSON.stringify(this.H);};b.prototype.c4=function(a){this.H.connections !== a.connections && (this.H=a);};b.prototype.Po=function(){return 1 < this.H.connections?!0:!1;};pa.Object.defineProperties(b.prototype,{jb:{configurable:!0,enumerable:!0,get:function(){return this.pY;}},Um:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.pY;}},config:{configurable:!0,enumerable:!0,get:function(){return this.H;}},GE:{configurable:!0,enumerable:!0,get:function(){return this.Jg;}},gm:{configurable:!0,enumerable:!0,get:function(){return this.Kl.gm;}}});this.QF=Object.assign(b,new m.mva());}Object.defineProperty(b,"__esModule",{value:!0});b.lva=void 0;d=a(0);g=a(1);h=a(6);m=a(184);f=a(138).EventEmitter;c=d.__decorate([g.N(),d.__param(0,g.l(h.xb))],c);b.lva=c;},function(d,b,a){var g,h,m,f,q,l,n,p,x,r;function c(a,b,c,d,f,g){this.JH=a;this.cf=c;this.Da=d;this.xa=f;this.config=g;this.log=b.ob("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.Jya=void 0;d=a(0);g=a(185);h=a(89);m=a(2);f=a(6);q=a(1);l=a(109);n=a(20);p=a(19);x=a(4);a=a(13);c.prototype.Sw=function(){return this.xa.zb().ba(x.fa);};c.prototype.yUa=function(a,b){a.$Fb({mediaRequest:a,timestamp:b});};c.prototype.QUa=function(a){var b;b=a.mediaRequest.mq;b.readyState=g.Mb.gc.xv;a=a.connect?a:{timestamp:this.Sw(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.sna(a);};c.prototype.i3=function(a){this.yUa(a.mediaRequest.mq,a.timestamp);};c.prototype.k3=function(a){var b,c;b=a.mediaRequest.mq;c=a.bytes;"undefined" === typeof b?!1:(b.readyState === g.Mb.gc.zv && this.QUa(a),this.Da.Jh(c) && (a.mediaRequest=b,a.timestamp=this.Sw(),c > b.Pe && (a.newBytes=c - b.Pe,a.bytesLoaded=c,b.cGb(a))));};c.prototype.yE=function(a){var b,c,d,f;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;f=g.Mb.UF;if("undefined" === typeof b)!1;else if((b=b.mq,"undefined" === typeof b))!1;else if(b.readyState !== g.Mb.gc.WF)if(c === m.K.py)(b.readyState=g.Mb.gc.TL,a.mediaRequest=b,a.readyState=b.readyState,b.VFb(a));else {b.readyState=g.Mb.gc.WF;switch(c){case m.K.yM:d=f.M6;break;case m.K.p8:d=f.m8;break;case m.K.vM:d=400 < d && 500 > d?f.o8:500 <= d?f.Cwa:f.m8;break;case m.K.wM:d=f.n8;break;case m.K.uM:d=f.Yta;break;case m.K.xM:d=f.pV;break;case m.K.GB:d=f.pV;break;case m.K.Bwa:d=f.Awa;break;case m.K.xwa:d=f.o8;break;case m.K.s5a:d=f.n8;break;default:d=f.pV;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.una(a);}};c.prototype.Hna=function(a,b){var c,d;c=b.request.mq;if(c)if(b.ia){if((!1,a.j && c.readyState !== g.Mb.gc.DONE)){switch(c.readyState){case g.Mb.gc.TL:!1;return;case g.Mb.gc.WF:!1;break;case g.Mb.gc.xv:break;case g.Mb.gc.zv:this.QUa({mediaRequest:b.request});break;default:!1;}c.readyState=g.Mb.gc.DONE;if(!c.dc){d={mediaRequest:c,readyState:c.readyState,timestamp:this.Sw(),cadmiumResponse:b};a.j.Gra+=1;c.Txb();c.kBb() && (a.j.Kpa+=1,b.gl.xh=Math.ceil(c.Lha),b.gl.sn=Math.ceil(c.iD),b.gl.requestTime=Math.floor(c.nA));c.ZH=d;c.yu(d);}}}else (!1,c.readyState === g.Mb.gc.TL?!1:(a={mediaRequest:b.request,timestamp:this.Sw(),errorcode:b.ja,httpcode:b.Vi},this.yE(a)));};c.prototype.download=function(a,b){var c,d;c=this;b=this.cf.download(a,b);if(a.mq){d=a.mq;-1 < [g.Mb.gc.OPENED,g.Mb.gc.WF].indexOf(d.readyState) && (d.readyState=g.Mb.gc.zv,this.config().uEb?b.JOb(function(a){c.i3(a);}):this.yUa(d,this.Sw()));}b.kda(function(b){c.Hna(a,b);});b.ROb(function(a){c.k3(a);});b.DOb(function(a){c.yE(a);});return b;};r=c;r=d.__decorate([q.N(),d.__param(0,q.l(h.UL)),d.__param(1,q.l(f.xb)),d.__param(2,q.l(l.uy)),d.__param(3,q.l(n.De)),d.__param(4,q.l(p.xd)),d.__param(5,q.l(a.Oc))],r);b.Jya=r;},function(d,b,a){var g,h,m;function c(a,b){this.cf=b;this.log=a.ob("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.yza=void 0;d=a(0);g=a(1);h=a(6);a=a(109);c.prototype.hQ=function(a,b,c){a={url:a.url,qNb:c};!1;this.cf.NPb(a);};c.prototype.LC=function(a){try{a.mka();}catch(q){this.log.warn("exception aborting request");}};m=c;m=d.__decorate([g.N(),d.__param(0,g.l(h.xb)),d.__param(1,g.l(a.uy))],m);b.yza=m;},function(d,b,a){var g,h,m,f,q,l,n,p,r,z,y;function c(a,b,c,d,f,g){this.xa=a;this.Wp=b;this.config=c;this.cf=f;this.sEb=g;this.log=d.ob("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;d=a(0);g=a(56);h=a(1);m=a(6);f=a(109);q=a(477);l=a(76);n=a(185);p=a(19);r=a(4);z=a(35);a=a(13);c.prototype.hQ=function(a,b,c){var f,h,k;function d(){a.removeEventListener(n.Mb.Zd.VB,d);a.aQ?a.aQ++:a.aQ=1;a.aQ >= f.config().zha.length && (a.aQ=f.config().zha.length - 1);setTimeout(function(){f.hQ(a,b,c);},f.config().zha[a.aQ]);}f=this;a.b4b=!0;h=this.sEb.download({url:a.url,responseType:this.cf.a$a.g3a,withCredentials:!1,uD:a.I === g.Ac.Sa.AUDIO?"audio":"video",offset:b.start,length:a.xi,track:{type:a.I === g.Ac.Sa.AUDIO?l.Zg.audio:l.Zg.video},stream:{Bd:a.Ca,S:a.S},zc:a.Tb,mq:a,Z4:c,Ds:this.Wp.Ds},function(b){b.ia && a.readyState !== n.Mb.gc.DONE && (a.readyState === n.Mb.gc.TL?!1:(a.readyState === n.Mb.gc.WF?!1:a.readyState === n.Mb.gc.zv?(a.readyState=n.Mb.gc.xv,a.sna({mediaRequest:a,readyState:a.readyState,timestamp:f.Sw(),connect:!1})):a.readyState !== n.Mb.gc.zv && a.readyState !== n.Mb.gc.xv && !1,a.readyState=n.Mb.gc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:f.Sw(),cadmiumResponse:b,response:b.content},a.ZH=b,a.yu(b)));});if(a.dc){k={mediaRequest:a,readyState:a.readyState,timestamp:this.Sw(),connect:!1};a.sna(k);}a.addEventListener(n.Mb.Zd.VB,d);a.mka=h.abort;};c.prototype.LC=function(a){try{a.mka();}catch(L){this.log.warn("exception aborting request");}};c.prototype.Sw=function(){return this.xa.zb().ba(r.fa);};y=c;y=d.__decorate([h.N(),d.__param(0,h.l(p.xd)),d.__param(1,h.l(z.Dl)),d.__param(2,h.l(a.Oc)),d.__param(3,h.l(m.xb)),d.__param(4,h.l(f.uy)),d.__param(5,h.l(q.l9))],y);b.Pya=y;},function(d,b,a){var g,h,m,f,q,l,n,p;function c(a,b,c,d,g,h){function k(f,k){this.track=f;this.label=k;this.Kg=p.Mb.gc.UNSENT;this.Pe=0;this.rq=[];this.requestId=h.Bz().toString();this.Da=c;this.log=b.ob("MediaRequest");this.config=a;this.Hb=new n.pj();"notification" === this.label?this.config().Jz && (this.gm=d):this.gm=g;!1;}function l(f,k){this.requestId=h.Bz().toString();this.Da=c;this.log=b.ob("MediaRequest");this.config=a;this.Hb=new n.pj();this.label=k;"notification" === this.label?this.config().Jz && (this.gm=d):this.gm=g;this.RQ=this.RH=this.SH=void 0;this.track=f;this.$Y=this.url=this.responseType=void 0;this.Kg=p.Mb.gc.UNSENT;this.ni=this.ED=this.qg=this.status=void 0;this.om=this.Pe=0;this.connect=this.Lha=this.iD=this.nA=this.tla=this.md=this.Kha=this.rf=this.tH=void 0;this.rq=[];this.Um=!1;!1;}k.prototype.addEventListener=function(a,b,c){this.Hb.addListener.call(this,a,b,c);};k.prototype.removeEventListener=function(a,b){this.Hb.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,c){this.Hb.cc.call(this,a,b,c);};k.prototype.$Fb=function(a){this.Kg === p.Mb.gc.OPENED && (this.RQ=!0,this.rf=this.md=a.timestamp,!1,this.Kg=p.Mb.gc.zv,this.emit(p.Mb.Zd.qza,a));};k.prototype.sna=function(a){var b;if(this.Kg < p.Mb.gc.xv){this.rq=[];b=a.timestamp - this.rf;!this.dc && 0 < b && (this.connect=!0,this.rq.push(b));!0 === this.config().Czb?this.Kha=a.timestamp:this.Kha=this.md=a.timestamp;!1;this.Kg=p.Mb.gc.xv;this.emit(p.Mb.Zd.pza,a);}};k.prototype.cGb=function(a){this.Kg === p.Mb.gc.xv && (!1,this.tla=this.md=a.timestamp,a.newBytes=a.bytesLoaded - this.Pe,this.Pe=a.bytesLoaded,this.Da.ge(this.tla) && this.emit(p.Mb.Zd.rza,a));};k.prototype.yu=function(a){-1 < [p.Mb.gc.zv,p.Mb.gc.xv].indexOf(this.Kg) && (this.RQ=!1,!1,this.md=a.timestamp,this.Kg=p.Mb.gc.DONE,a.newBytes=this.xi - this.Pe,this.Pe=this.xi,this.Da.ge(this.iD) && (this.md=this.iD,0 === a.newBytes && (this.tla=this.iD)),this.Da.ge(this.nA) && (this.rf=this.nA),this.tH=a.response,this.emit(p.Mb.Zd.KM,a));};k.prototype.VFb=function(a){this.RQ=!1;!1;this.emit(p.Mb.Zd.R8a,a);};k.prototype.una=function(a){this.md=a.timestamp;this.status=a.httpcode;this.qg=a.errorcode;this.ED=p.Mb.UF.name[this.qg];this.ni=a.nativecode;!1;this.emit(p.Mb.Zd.VB,a);this.RQ=!1;};k.prototype.open=function(a,b,c,d,f,g,h){this.Su=!1;this.$Y=b;this.url=a;this.responseType=c;!1;if(!this.url)return (!1,!1);this.Kg=p.Mb.gc.OPENED;this.gm.hQ(this,b,h);return !0;};k.prototype.ac=function(){!1;-1 !== [p.Mb.gc.OPENED,p.Mb.gc.zv,p.Mb.gc.xv].indexOf(this.Kg) && this.abort();return !0;};k.prototype.zJa=function(){this.tH=void 0;this.ZH && (this.ZH.response=void 0,this.ZH.cadmiumResponse.content=void 0);this.mka=void 0;};k.prototype.yT=function(a){!1;this.url=a;return !0;};k.prototype.abort=function(){this.Kg=p.Mb.gc.TL;this.gm.LC(this);return !0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return "";};k.prototype.DS=function(){};k.prototype.kk=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.kk(),segmentId:this.Ba,isHeader:this.dc,ptsStart:this.Sx,ptsOffset:this.qn,responseType:this.responseType,duration:this.Kw,readystate:this.Kg};this.stream && (a.bitrate=this.stream.S);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.Txb=function(){var a,b;if(this.config().F1a && f.Ws && f.Ws.getEntriesByType && (!this.Da.ge(this.nA) || !this.Da.ge(this.iD) && this.Da.ge(this.url))){a="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.SH + "-" + this.RH + "*");b=new RegExp(a);a=f.Ws.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Da.ge(a) && (0 < a.startTime && (this.nA=a.startTime,0 < a.requestStart && (this.nA=Math.max(this.nA,a.requestStart))),0 < a.responseStart && (this.Lha=a.responseStart),0 < a.responseEnd && (this.iD=a.responseEnd));}};k.prototype.kBb=function(){return this.Da.ge(this.nA) && this.Da.ge(this.iD) && this.Da.ge(this.Lha);};pa.Object.defineProperties(k.prototype,{xi:{configurable:!0,enumerable:!0,get:function(){return this.$Y.end - this.$Y.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.RH - this.SH + 1;}},WPa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},dc:{configurable:!0,enumerable:!0,get:function(){return !this.iA;}},response:{configurable:!0,enumerable:!0,get:function(){return this.tH;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Kg;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(l.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.Kk=Object.assign(l,p.Mb);}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;d=a(0);g=a(1);h=a(6);m=a(13);f=a(9);q=a(20);l=a(478);n=a(69);p=a(185);a=a(87);c=d.__decorate([g.N(),d.__param(0,g.l(m.Oc)),d.__param(1,g.l(h.xb)),d.__param(2,g.l(q.De)),d.__param(3,g.l(l.G9)),d.__param(4,g.l(l.n9)),d.__param(5,g.l(a.qv))],c);b.Oya=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.VTa=void 0;d=a(1);c=a(323);g=a(1104);b.VTa=new d.Pc(function(a){a(c.v9).to(g.aza).Z();});},function(d,b,a){var g,h,m,f,q;function c(a){return h.pe.call(this,a,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aza=void 0;d=a(0);g=a(42);h=a(44);m=a(1);f=a(31);q=a(4);N(c,h.pe);pa.Object.defineProperties(c.prototype,{LTa:{configurable:!0,enumerable:!0,get:function(){return q.Jb(5E3);}},cVa:{configurable:!0,enumerable:!0,get:function(){return q.Jb(1E3);}},dVa:{configurable:!0,enumerable:!0,get:function(){return q.Jb(1E3);}}});a=c;d.__decorate([g.config(g.th,"minDecoderBufferMilliseconds")],a.prototype,"LTa",null);d.__decorate([g.config(g.th,"optimalDecoderBufferMilliseconds")],a.prototype,"cVa",null);d.__decorate([g.config(g.th,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"dVa",null);a=d.__decorate([m.N(),d.__param(0,m.l(f.tj))],a);b.aza=a;},function(d,b,a){var c,g,h,m,f,q,l,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.LVa=void 0;d=a(1);c=a(480);g=a(1106);h=a(81);m=a(1108);f=a(483);q=a(1109);l=a(373);n=a(1110);p=a(186);r=a(1111);b.LVa=new d.Pc(function(a){a(h.Zs).to(m.Vza).Z();a(c.W9).to(g.Wza).Z();a(l.c$).to(n.aAa);a(l.b$).zf(function(a){return function(){return a.gb.get(l.c$);};});a(f.k$).to(q.pAa).Z();a(p.QM).to(r.nAa).Z();});},function(d,b,a){var m,f,q,l,n,p,r,z,y,B,L,I,E,F,W,R;function c(a){this.config=a;this.yw=[];}function g(a,b,c){this.xa=a;this.DL=b;this.context=c;this.startTime=this.xa.zb();}function h(a,b,d,f,g,h,k,l,m){this.J0a=b;this.json=d;this.xa=f;this.Wp=g;this.Woa=h;this.ya=k;this.config=l;this.Hb=m;this.log=a.ob("Pbo");l.yXa && (this.yw=new c(l));this.DL=this.J0a();}Object.defineProperty(b,"__esModule",{value:!0});b.Wza=void 0;d=a(0);m=a(1);f=a(4);q=a(481);l=a(6);n=a(33);p=a(19);r=a(35);z=a(134);y=a(36);B=a(482);L=a(81);I=a(88);E=a(14);F=a(45);W=a(1107);R={"shakti-":"akira","UI-":"chromecast"};h.prototype.send=function(a,b){var c;c=new g(this.xa,this.DL,a);this.yw && this.yw.append(c);return this.oqa(a,b,c);};h.prototype.oqa=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.Wx(a,b).then(function(a){var b,h;d.YNb(a);b=T(d.sUb(a));h=b.next().value;b=b.next().value;h && (d.glb(c),f(a));b && (d.MJa(c,b),g(b));})["catch"](function(a){var b;b=d.MJa(c,a);a.ub && (a.ub=[a.ub," ",b].join(""));g(a);});});};h.prototype.YNb=function(a){(a=a.serverTime) && this.Hb.cc(E.A8.fZa,f.Jb(a));};h.prototype.sUb=function(a){var b;!1;b=a.result;if(("deviceCommand" in a)){a=a.deviceCommand;this.log.trace("Received device command '" + a + "'");switch(a){case "reset":b="RESET_DEVICE";break;case "reload":b="RELOAD_DEVICE";break;case "exit":b="EXIT_DEVICE";break;default:(b="FAIL",this.log.error("Unhandled device command '" + a + "'"));}return [,{code:b,detail:{message:"Server sent device action to '" + a + "' device"}}];}if(b)return (!1,[b,void 0]);if(a.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}]);this.log.error("Response did not contain a result or an error",a);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.ZHb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(U){throw {DE:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw {DE:!0,code:"FAIL",message:"There is no result property on the response"};}throw {DE:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.aib=function(a,b,c){var d;d=this;this.CTb(b,a);this.DL=this.J0a(c);return this.DL.send(b,c).then(function(a){return {Wx:!1,result:d.ZHb(a.body)};})["catch"](function(c){var f,g;g=(f=W.X9.nwb(c))?Math.min(f,b.Npa):b.Npa;return d.W4(b,c,a,g)?(f=d.Ojb(c,a,g),d.log.warn("Method failed, retrying",Object.assign({Method:b.dk,Attempt:a + 1,WaitTime:f,MaxRetries:g},d.kga(c))),Promise.resolve({Wx:!0,Ul:f,error:c})):Promise.resolve({Wx:!1,error:c});});};h.prototype.iub=function(a){var b,c;if(!this.gda || this.gda.EHb !== a){b="";c=a;Object.entries(R).find(function(c){var d;d=T(c);c=d.next().value;d=d.next().value;if(0 === a.indexOf(c))return (b=d,a=a.slice(c.length),!0);});this.gda={GJa:b,gy:a,EHb:c};}return this.gda;};h.prototype.CTb=function(a,b){var c,d,f,g;g=a.url.searchParams;g.set(F.jt.e$a,(b + 1).toString());g.set(F.jt.Hg,a.zpa.toString());g.set(F.jt.f$a,a.ypa);a=this.iub(null !== (c=this.config.gy) && void 0 !== c?c:"");a.GJa && (g.set(F.jt.t4a,a.GJa),a.gy && g.set(F.jt.bab,encodeURIComponent(a.gy)),c=this.Wp.zj,(null === c || void 0 === c?0:c.name) && g.set(F.jt.N3a,encodeURIComponent(c.name)),(null === c || void 0 === c?0:c.version) && g.set(F.jt.O3a,encodeURIComponent(c.version)),(null === (d=null === c || void 0 === c?void 0:c.os) || void 0 === d?0:d.name) && g.set(F.jt.S8a,encodeURIComponent(c.os.name)),(null === (f=null === c || void 0 === c?void 0:c.os) || void 0 === f?0:f.version) && g.set(F.jt.T8a,encodeURIComponent(c.os.version)));};h.prototype.Wx=function(a,b,c){var d;c=void 0 === c?0:c;d=this;return this.aib(c++,a,b).then(function(f){if(f.Wx)return d.MUb(f.Ul).then(function(){return d.Wx(a,b,c);});if(f.error)throw f.error;if(void 0 === f.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return f.result;});};h.prototype.W4=function(a,b,c,d){var f;f=this.Wp.tYa || W.X9.lBb(b);if(f && c < d)return !0;f?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.dk,Attempt:c + 1,MaxRetries:d},this.kga(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.dk},this.kga(b)));return !1;};h.prototype.Ojb=function(a,b,c){return a && a.UA && void 0 !== a.UA.retryAfterSeconds?f.zh(a.UA.retryAfterSeconds):f.Jb(this.Woa.dXa(1E3 * (0 === b?1:b),1E3 * Math.pow(2,Math.min(b,c))));};h.prototype.MUb=function(a){var b;b=this;return new Promise(function(c){b.ya.yh(a || f.sb,c);});};h.prototype.kga=function(a){return B.qRa(a)?a:{message:a.message,subCode:a.pd,extCode:a.Og,mslCode:a.wu,data:a.data};};h.prototype.glb=function(a){a.uL();};h.prototype.MJa=function(a,b){var c;a.Up(b);if(this.yw)try{c=this.json.stringify(this.yw);this.log.error("PBO command history",c);return c;}catch(ka){}return "";};a=h;a=d.__decorate([m.N(),d.__param(0,m.l(l.xb)),d.__param(1,m.l(q.Caa)),d.__param(2,m.l(n.sy)),d.__param(3,m.l(p.xd)),d.__param(4,m.l(r.Dl)),d.__param(5,m.l(z.YM)),d.__param(6,m.l(y.Ig)),d.__param(7,m.l(L.Zs)),d.__param(8,m.l(I.XU))],a);b.Wza=a;g.prototype.uL=function(){this.ia=!0;this.elapsedTime=this.xa.zb().Ia(this.startTime);};g.prototype.Up=function(a){this.ia=!1;this.elapsedTime=this.xa.zb().Ia(this.startTime);this.TQb=a.pd || a.subCode;this.osb=a.Og || a.extCode;};g.prototype.toString=function(){return JSON.stringify(this);};g.prototype.toJSON=function(){var a;a=Object.assign({success:this.ia,method:this.context.dk,startTime:this.startTime.ba(f.fa),elapsedTime:this.elapsedTime?this.elapsedTime.ba(f.fa):"in progress"},this.DL.Bfa());return this.ia?a:Object.assign(Object.assign(Object.assign({},a),this.DL.Bfa()),{subcode:this.TQb,extcode:this.osb});};c.prototype.append=function(a){this.yw.push(a);0 < this.config.ika && this.yw.length > this.config.ika && this.yw.shift();};c.prototype.toJSON=function(){return this.yw;};},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.X9=void 0;g=a(2);c.lBb=function(a){var b,c;b=a && a.code;c=a && (a.ja || a.pd);a=a.Og !== g.sV.Pza;c=! !c && c >= g.K.yM && c <= g.K.wM && a;return !("RETRY" !== b && "FAIL" !== b) || c;};c.nwb=function(a){var b,c;c=null === (b=null === a || void 0 === a?void 0:a.UA) || void 0 === b?void 0:b.maxRetries;return "number" === typeof c?c:"FAIL" === (null === a || void 0 === a?void 0:a.code)?1:void 0;};b.X9=c;},function(d,b,a){var g,h,m,f,q,l;function c(a,b,c){a=h.pe.call(this,a,"PboConfigImpl") || this;a.config=b;a.nhb=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;d=a(0);g=a(1);h=a(44);m=a(31);f=a(42);q=a(13);a=a(113);N(c,h.pe);pa.Object.defineProperties(c.prototype,{gy:{configurable:!0,enumerable:!0,get:function(){return this.config().qr.gy || "";}},G5:{configurable:!0,enumerable:!0,get:function(){return this.config().qr.G5 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},eVa:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().qr.Doa;}},G1:{configurable:!0,enumerable:!0,get:function(){return !1;}},jEb:{configurable:!0,enumerable:!0,get:function(){return !0;}},lEb:{configurable:!0,enumerable:!0,get:function(){return !0;}},gZa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.nhb.zIa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.hZa);}},hZa:{configurable:!0,enumerable:!0,get:function(){return {};}},yXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},ika:{configurable:!0,enumerable:!0,get:function(){return 10;}},jHa:{configurable:!0,enumerable:!0,get:function(){return !1;}},QJa:{configurable:!0,enumerable:!0,get:function(){return !1;}},$ga:{configurable:!0,enumerable:!0,get:function(){return !1;}},A1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},I1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},jMa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});l=c;d.__decorate([f.config(f.string,"uiVersion")],l.prototype,"gy",null);d.__decorate([f.config(f.string,"uiPlatform")],l.prototype,"G5",null);d.__decorate([f.config(f.hy,"pboVersion")],l.prototype,"version",null);d.__decorate([f.config(f.string,"pboOrganization")],l.prototype,"eVa",null);d.__decorate([f.config(f.n5,"pboLanguages")],l.prototype,"languages",null);d.__decorate([f.config(f.Gc,"hasLimitedPlaybackFunctionality")],l.prototype,"G1",null);d.__decorate([f.config(f.Gc,"mdxBindUsingNodeQuark")],l.prototype,"jEb",null);d.__decorate([f.config(f.Gc,"mdxPairUsingNodeQuark")],l.prototype,"lEb",null);d.__decorate([f.config(f.object(),"pboCommands")],l.prototype,"gZa",null);d.__decorate([f.config(f.object(),"pboCommandsOverride")],l.prototype,"hZa",null);d.__decorate([f.config(f.Gc,"pboRecordHistory")],l.prototype,"yXa",null);d.__decorate([f.config(f.hy,"pboHistorySize")],l.prototype,"ika",null);d.__decorate([f.config(f.Gc,"pboAddXEsnHeader")],l.prototype,"jHa",null);d.__decorate([f.config(f.Gc,"combineManifestAndLicense")],l.prototype,"QJa",null);d.__decorate([f.config(f.Gc,"enableLicensedManifestForPrefetch")],l.prototype,"$ga",null);d.__decorate([f.config(f.Gc,"useLdlForPrefetchLicensedManifest")],l.prototype,"A1a",null);d.__decorate([f.config(f.Gc,"pboUseStudioManifest")],l.prototype,"I1a",null);d.__decorate([f.config(f.Gc,"pboEnableLeanManifest")],l.prototype,"jMa",null);l=d.__decorate([g.N(),d.__param(0,g.l(m.tj)),d.__param(1,g.l(q.Oc)),d.__param(2,g.l(a.oB))],l);b.Vza=l;},function(d,b,a){var h,m;function c(a,b,c,d,g,h,k){this.version=a;this.url=b;this.id=c;this.languages=d;this.Za=g;this.Zqb=h;this.tFb=k;}function g(a){this.cj=a;}Object.defineProperty(b,"__esModule",{value:!0});b.pAa=void 0;d=a(0);h=a(1);a=a(81);g.prototype.create=function(a,b,d,g,h){return new c(this.cj.version,b,a,this.cj.languages,d,g,h);};m=g;m=d.__decorate([h.N(),d.__param(0,h.l(a.Zs))],m);b.pAa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Za,echo:this.Zqb};};},function(d,b,a){var g,h,m;function c(a,b){this.Fz=b;this.log=a.ob("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;d=a(0);g=a(1);h=a(6);a=a(80);c.prototype.pda=function(a){a && (!1,this.links=Object.assign(Object.assign({},this.links),a));};c.prototype.sQ=function(a){!1;return this.links[a];};c.prototype.Bgb=function(a){var b;b="playbackContextId=" + a.playbackContextId + "&esn=" + this.Fz().ji;a="drmContextId=" + a.drmContextId;this.pda({events:{rel:"events",href:"/events?" + b},license:{rel:"license",href:"/license?licenseType=standard&" + b + "&" + a},ldl:{rel:"ldl",href:"/license?licenseType=limited&" + b + "&" + a}});};m=c;m=d.__decorate([g.N(),d.__param(0,g.l(h.xb)),d.__param(1,g.l(a.Ms))],m);b.aAa=m;},function(d,b,a){var g,h;function c(){this.rT=new h.Sn();}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;d=a(0);g=a(1);h=a(133);c.prototype.xK=function(a){this.rT.next(a);};pa.Object.defineProperties(c.prototype,{TA:{configurable:!0,enumerable:!0,get:function(){return this.rT;}}});a=c;a=d.__decorate([g.N()],a);b.nAa=a;},function(d,b,a){var c,g,h,m,f,q,l,n,p,r,z,y,B,L,I,E,F,W,R,M,D,U,N,O,P,Q,T,V,ga,ba,S,Aa,X,ea,fa,ia,ha,ja,ma;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;d=a(1);c=a(370);g=a(484);h=a(1113);m=a(486);f=a(1114);q=a(336);l=a(333);n=a(1115);p=a(1124);r=a(13);z=a(19);y=a(85);B=a(20);L=a(6);I=a(1125);E=a(487);F=a(1126);W=a(4);R=a(1127);M=a(1128);D=a(508);U=a(1129);N=a(88);O=a(488);P=a(1130);Q=a(102);T=a(26);V=a(117);ga=a(80);ba=a(454);S=a(511);Aa=a(1131);X=a(66);ea=a(35);fa=a(489);ia=a(1132);ha=a(490);ja=a(12);ma=a(30);b.j=new d.Pc(function(b){b(S.dW).to(Aa.FAa).Z();b(ha.u6).zf(function(){return function(b){var c;c=ja.vfa(b.Nd);return c.En && c.BI && c.WTb?new (a(1133).gta)(b):new (a(512).VL)(b,c.En);};});b(c.Daa).zf(function(b){var c;c=b.gb;return function(b,d,f,g,h,k,l,m,q){return new (a(1134).eDa)(c.get(R.Faa),b,d,f,g,h,k,l,m,q);};});b(R.Faa).to(M.hDa).Z();b(g.Eaa).to(h.gDa).Z();b(l.z$).to(n.BAa).Z();b(fa.aaa).to(ia.EBa);b(fa.$$).q0a(fa.aaa);b(q.m7).zf(function(b){var c;c=b.gb;return function(b){return new (a(1135).hva)(c.get(N.l7),c.get(y.Ls),c.get(z.xd),b);};});b(m.A6).zf(function(){return function(a){return new f.Gta(a);};});b(I.q$).zf(function(a){var b;b=a.gb;return function(a){return new p.xAa(a,b.get(L.xb),b.get(r.Oc),b.get(B.De),b.get(y.Ls));};});b(E.B$).zf(function(a){var b;b=a.gb;return function(a,c,d,f,g,h,k,l,m){return new F.GAa(a,c,d,f,g,h,k,l,m,b.get(I.q$),b.get(S.dW));};});b(D.gaa).zf(function(a){return function(b){var c;c=a.gb.get(r.Oc);return new U.ZBa(c,b);};});b(O.A$).zf(function(a){return function(b){var c,d,f,g,h;c=a.gb.get(ga.Ms);d=a.gb.get(Q.fC);f=a.gb.get(T.Df);g=a.gb.get(V.dC);h=a.gb.get(ma.BB);return new P.DAa(b,c,d(W.zh(1)),f,g,h);};});b(ba.t9).cy(function(b){return new (a(1136).Yya)(b.gb.get(X.jG),b.gb.get(ea.Dl));}).Z();});},function(d,b,a){var g,h,m,f,q,l;function c(a,b){this.app=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;d=a(0);g=a(14);h=a(485);m=a(19);f=a(1);q=a(4);a=a(13);c.prototype.CI=function(a){var b;a.MT={};if(!a.bE() && a.fy && 0 < a.fy.length && (a.ey=this.vOa(a),a.ey)){b=this.jPb(a);b() || (a.Xb.addListener(b),a.Bf.addListener(b));}};c.prototype.jPb=function(a){var c;function b(){var d,f;if(!a.Bf.value || a.Xb.value === g.tb.kg)return !1;d=a.ey;f=d.cd();return f === h.Wn.LOADING?!1:f !== h.Wn.LOADED && d.Wx?(d=c.Wxb(a))?(a.MT.offset=c.app.zb().ba(q.fa),a.ey=d,d.download(),!0):!1:(a.Xb.removeListener(b),a.Bf.removeListener(b),!1);}c=this;return b;};c.prototype.Wxb=function(a){var b,c;b=this.config();c=a.pn.CQ() < b.CSb;b=(a.Bf.value?a.Bf.value.S:0) > b.BSb;return this.pxb(a,c && b);};c.prototype.pxb=function(a,b){if(b && (b=this.vOa(a),this.cPa(a,b.size)))return (a.MT.hYa="h",b);b=this.kwb(a);if(this.cPa(a,b.size))return (a.MT.hYa="l",b);};c.prototype.cPa=function(a,b){var c,d;c=this.config();d=Math.min(a.MO(),a.WT());return a.Eib.Gjb(b) * (1 + .01 * c.Ugb[2]) < d * c.FSb;};c.prototype.vOa=function(a){return a.fy[a.fy.length - 1];};c.prototype.kwb=function(a){return a.fy[0];};l=c;l=d.__decorate([f.N(),d.__param(0,f.l(m.xd)),d.__param(1,f.l(a.Oc))],l);b.gDa=l;},function(d,b){function a(a){this.j=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Gta=void 0;a.prototype.o1a=function(){var a;a=this.j.Gk && this.j.Gk.qb.get();if(null === a || void 0 === a?0:a.Vh)this.j.Vh=a.Vh.Ga;if(null === a || void 0 === a?0:a.Ma)this.j.Ma=a.Ma.Ga;};a.prototype.Zm=function(){-1 === this.j.Ma && this.o1a();return this.j.Ma;};a.prototype.Gjb=function(a){-1 !== this.j.Vh && -1 !== this.j.Ma || this.o1a();return -1 === this.j.Vh || -1 === this.j.Ma?Number.MAX_VALUE:this.j.Vh + 8 * a / this.j.Ma;};b.Gta=a;},function(d,b,a){var g,h,m,f,q,l,n,p,r,z,y,B,L,I,E,F,W,R,M,D,U,N,O,P,Q,T;function c(a,b,c,d,f,g,h,k,l,m,q,n,p,t,u,r,x,z,B,y,I,E,L,D){this.VD=a;this.MH=b;this.xa=c;this.wa=d;this.Gib=f;this.ura=g;this.mma=h;this.nma=k;this.i2=l;this.pc=m;this.dj=q;this.pi=n;this.Ot=p;this.noa=t;this.qR=u;this.Ora=r;this.rh=x;this.kl=z;this.Nc=B;this.loa=y;this.mMb=I;this.Rda=E;this.iZ=L;this.JH=D;}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;d=a(0);g=a(87);h=a(1);m=a(102);f=a(29);q=a(19);l=a(34);n=a(486);p=a(358);r=a(371);z=a(450);y=a(82);B=a(116);L=a(146);I=a(89);E=a(219);F=a(487);W=a(127);R=a(1116);M=a(484);D=a(47);U=a(26);N=a(488);O=a(66);P=a(489);Q=a(490);c.prototype.create=function(b,c,d,f,g,h){return new (a(491).CAa)(b,c,g,h,f,this.VD,d,this.xa,this.MH,this.wa,this.mma,this.Gib,this.ura,this.nma,this.i2,this.pc,this.dj,this.pi,this.Ot,this.noa,this.qR,this.Ora,this.rh,this.Nc,this.loa,this.kl,this.mMb(),this.Rda,void 0,this.iZ);};T=c;T=d.__decorate([h.N(),d.__param(0,h.l(g.qv)),d.__param(1,h.l(f.ig)),d.__param(2,h.l(q.xd)),d.__param(3,h.l(l.Vg)),d.__param(4,h.l(n.A6)),d.__param(5,h.l(m.fC)),d.__param(6,h.l(p.e9)),d.__param(7,h.l(r.g9)),d.__param(8,h.l(z.T8)),d.__param(9,h.l(y.kt)),d.__param(10,h.l(B.YB)),d.__param(11,h.l(L.vG)),d.__param(12,h.l(E.sU)),d.__param(13,h.l(F.B$)),d.__param(14,h.l(W.ZV)),d.__param(15,h.l(M.Eaa)),d.__param(16,h.l(D.El)),d.__param(17,h.l(O.jG)),d.__param(18,h.l(U.Df)),d.__param(19,h.l(N.A$)),d.__param(20,h.l(P.$$)),d.__param(21,h.l(Q.u6)),d.__param(22,h.l(R.iua)),d.__param(22,h.optional()),d.__param(23,h.l(I.UL)),d.__param(23,h.optional())],T);b.BAa=T;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iua=b.jua=void 0;d=b.jua || (b.jua={});d[d.Y8a=0]="PAUSE";d[d.b$a=1]="RESUME";d[d.eWb=2]="CAPTIONS_ON";d[d.dWb=3]="CAPTIONS_OFF";d[d.fWb=4]="CAPTION_LANGUAGE_CHANGED";d[d.sVb=5]="AUDIO_LANGUAGE_CHANGED";d[d.XYb=6]="NEXT_EP";d[d.ZZb=7]="PREV_EP";d[d.yv=8]="SEEK";d[d.OBa=9]="STOP";b.iua="CastInteractionTrackerSymbol";},function(d,b,a){var q,l,n,p,r,z,y,B,L,I,E,F,W,R,M,D,U,N,P,Y,Q,T,V,X,ba,S;function c(){this.B5=[];this.lSb=50;}function g(a){var b;b=this;this.j=a;this.f2a=Promise.resolve();this.D7=O.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.ez=[];this.Uq=new r.pj();this.mEa=this.cba=0;this.aX=[];this.Jg=B.Pg(this.j,"MediaElementASE");this.jGa=R.$g;this.Bba=!1;this.Zb=new c();this.Nm={};this.TEa={};this.ND=this.cX(function(){var a;if(b.oa){a=b.vX();return a?a.totalVideoFrames:b.oa.webkitDecodedFrameCount;}});this.MD=this.cX(function(){var a;if(b.oa){a=b.vX();return a?a.droppedVideoFrames:b.oa.webkitDroppedFrameCount;}});this.nQ=this.cX(function(){var a;if(b.oa){a=b.vX();return a && a.corruptedVideoFrames;}});this.q0=this.cX(function(){var a;if(b.oa){a=b.vX();return a && D.ai(a.totalFrameDelay * R.Qj);}});this.lFa=function(a){return b.Uq.cc(P.Hi.fSa,{la:a});};this.nk=B.ha.get(N.K8).create(p.config.Fn,this,this.j);p.config.mA && (this.f2a=new Promise(function(a){b.jGa=a;b.j.addEventListener(T.V.Kf,a);}));this.Jg.trace("Created Media Element");this.addEventListener=this.Uq.addListener;this.removeEventListener=this.Uq.removeListener;this.oa=h(this.j.KL);this.sourceBuffers=this.ez;}function h(a){var b,c;b=B.ha.get(Y.Qaa).jxb();a=a.width / a.height * b.height;c=(b.width - a) / 2;return p.config.dPb?R.createElement("VIDEO","position:absolute;width:" + a + "px;height:" + b.height + "px;left:" + c + "px;top:0px"):R.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(a){a.preventDefault();return !1;}function f(a,b,c){var d,f,g;d=a.target;d=d && d.error;f=a.errorCode;g=d && d.code;R.ic(g) || (g=f && f.code);f=d && d.msExtendedCode;R.ic(f) || (f=d && d.systemCode);R.ic(f) || (f=a.systemCode);a=R.Eb({},{code:g,systemCode:f,trace:JSON.stringify(c)},{Fx:!0});b={ja:b(g),ub:M.hma(a)};try{d && d.message && (b.zR=d.message);}catch(Za){}f=R.Xd(f);U.pa(f) && (b.Ke=B.kea(f,4));return b;}Object.defineProperty(b,"__esModule",{value:!0});b.Iya=void 0;q=a(56);l=a(272);n=a(11);p=a(12);r=a(69);z=a(59);y=a(48);B=a(7);L=a(2);I=a(18);E=a(110);F=a(317);W=a(22);R=a(27);M=a(273);D=a(9);U=a(15);N=a(497);P=a(274);Y=a(473);Q=a(4);T=a(14);V=a(157);X=a(67);ba=! !(D.mG && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);S=ba && (HTMLVideoElement.prototype.webkitGenerateKeyRequest || D.lG);g.prototype.oQ=function(a){try{this.oa && (this.mEa=this.oa.currentTime);}catch(Na){this.Jg.error("Exception while getting VIDEO.currentTime",Na);a && this.OG(L.L.D9a,Na);}return D.ai(this.mEa * R.Qj);};g.prototype.seek=function(a){var b;I.lb(!this.ho);this.eGa();b=this.oQ(!0);if(!p.config.ihb && D.NB(b - a) <= this.eqa)(this.Jg.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.eqa}),this.Zb.trace("smallseek",a));else {this.Zb.trace("seek",a);try{this.Jg.trace("Setting video elements currentTime",{From:E.Dh(b),To:E.Dh(a)});this.ho={};this.oa.currentTime=a / R.Qj;this.Uq.cc(P.Hi.Np);}catch(Pa){this.Jg.error("Exception while setting VIDEO.currentTime",Pa);this.OG(L.L.E9a,Pa);}}};g.prototype.dPa=function(){return ! !this.ho;};g.prototype.addSourceBuffer=function(a){var b,c;b=R.Xd(this.cba.toString() + this.ez.length.toString());b={sourceId:this.cba,YY:b};try{c=new l.k9(this.j,a,this.ce,b,this.Jg);this.ez.push(c);a == n.hG && c.Nha && c.Nha.addListener(this.jGa);return c;}catch(Ba){c=R.$e(Ba);this.Jg.error("Unable to add source buffer.",{error:c});this.j.sd(L.L.R9,{ja:a === q.Ac.Zh.AUDIO?R.K.mya:R.K.nya,ub:c});}};g.prototype.DY=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.Uq.cc(P.Hi.$Za);return !0;};g.prototype.removeSourceBuffer=function(a){this.ez=this.ez.filter(function(b){return !y.UJa(a,b);});this.ce.removeSourceBuffer(a);};g.prototype.endOfStream=function(){this.Zb.trace("endofstream");!1;p.config.Jea && this.ce.endOfStream();};g.prototype.Op=function(a){!1;this.ez=[];a && a.q5b();return !0;};g.prototype.oOb=function(a){this.cba=a;};g.prototype.OOa=function(){if(this.ce)return Q.wWa(this.ce.duration);};g.prototype.cqb=function(){var a;if(!this.Bba && this.oa && this.oa.readyState >= X.Am.vwa.HAVE_CURRENT_DATA){a=this.oa.webkitDecodedFrameCount;if(void 0 === a || 0 < a || p.config.TUb)this.Bba=!0;}return this.Bba;};g.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(T.V.OZa,function(b){return a.geb(b);});if(ba){if(this.j.lx){if(!S){this.NG(L.L.Kza);return;}if(D.lG && D.lG.isTypeSupported && this.nk.ke)try{if(!D.lG.isTypeSupported(this.nk.ke,"video/mp4")){this.Kfb(function(b){a.NG(L.L.P9,b);});return;}}catch(Ba){this.OG(L.L.P9,Ba);return;}}try{this.ce=new D.mG();}catch(Ba){this.OG(L.L.t9a,Ba);return;}try{this.Ql=URL.createObjectURL(this.ce);}catch(Ba){this.OG(L.L.u9a,Ba);return;}try{this.nk.Cgb(this.lFa);this.ce.addEventListener("sourceopen",function(b){return a.HFa(b);});this.ce.addEventListener(this.D7 + "sourceopen",function(b){return a.HFa(b);});this.oa.addEventListener("error",this.Nm.error=function(b){return a.oH(b);});this.oa.addEventListener("seeking",this.Nm.seeking=function(){return a.feb();});this.oa.addEventListener("seeked",this.Nm.seeked=function(){return a.eeb();});this.oa.addEventListener("timeupdate",this.Nm.timeupdate=function(){return a.ieb();});this.oa.addEventListener("loadstart",this.Nm.loadstart=function(){return a.YN();});this.oa.addEventListener("volumechange",this.Nm.volumechange=function(b){return a.jeb(b);});this.oa.addEventListener(this.nk.uE,this.Nm[this.nk.uE]=function(b){return a.deb(b);});b=this.j.Qf;c=b.lastChild;c?b.insertBefore(this.oa,c):b.appendChild(this.oa);p.config.wLa && this.oa.addEventListener("contextmenu",m);this.oa.src=this.Ql;z.Re.addListener(z.cJ,this.TEa[z.cJ]=function(){return a.GFa();});this.GFa();}catch(Ba){this.OG(L.L.v9a,Ba);}}else this.NG(L.L.Lza);};g.prototype.close=function(){var b;function a(){b.Ql && (b.eGa(),z.Re.removeListener(z.cJ,b.TEa[z.cJ]),b.nbb());}b=this;this.Zb.trace("close");this.oa.removeEventListener(this.nk.uE,this.Nm[this.nk.uE]);this.oa.removeEventListener("error",this.Nm.error);this.oa.removeEventListener("seeking",this.Nm.seeking);this.oa.removeEventListener("seeked",this.Nm.seeked);this.oa.removeEventListener("timeupdate",this.Nm.timeupdate);this.oa.removeEventListener("loadstart",this.Nm.loadstart);this.oa.removeEventListener("volumechange",this.Nm.volumechange);this.nk.SLb(this.lFa);p.config.Fn?this.nk.PVa().then(function(){return a();}):a();this.nk.UXa && clearTimeout(this.nk.UXa);};g.prototype.Yw=function(){return this.Zb.Yw();};g.prototype.deb=function(a){return this.nk.Lna(a);};g.prototype.vX=function(){if(this.oa)return this.oa.getVideoPlaybackQuality && this.oa.getVideoPlaybackQuality() || this.oa.videoPlaybackQuality || this.oa.playbackQuality;};g.prototype.sfb=function(){var a;a=this.j.Ej;return (a=a && a.errorCode) && 0 <= [L.L.UV,L.L.tV].indexOf(a);};g.prototype.nbb=function(){var a;a=!1;p.config.WJb && this.sfb() && (a=!0);p.config.Ykb && !a && (this.oa.removeAttribute("src"),this.oa.load && this.oa.load());URL.revokeObjectURL(this.Ql);p.config.wLa && this.oa.removeEventListener("contextmenu",m);!a && this.oa && this.j.Qf.removeChild(this.oa);this.oa=this.ce=void 0;this.Ql="";};g.prototype.GFa=function(){!0 === D.Fe.hidden?this.aX.forEach(function(a){a.refresh();a.iQb();}):this.aX.forEach(function(a){a.refresh();a.yQb();});};g.prototype.cX=function(a){var b;b=B.ha.get(F.F9)(a);this.aX.push(b);return function(){b.refresh();return b.bvb();};};g.prototype.OG=function(a,b){var c,d;c={ja:R.K.Yh,ub:R.$e(b)};try{(d=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == d.length && (c.Ke=d);}catch(ia){}this.j.sd(a,c);};g.prototype.eGa=function(){this.aX.forEach(function(a){a.refresh();});};g.prototype.kcb=function(){return this.oa && this.oa.msGraphicsTrustStatus;};g.prototype.NG=function(a,b){this.j.sd(a,b,void 0);};g.prototype.Kfb=function(a){var c,d,g;function b(c){b=R.$g;d.jj();a(c);}c=this;d=B.ha.get(V.dN)(500,function(){b();});d.zD();try{g=this.j.Bf.value.Yp.W4b.children.filter(function(a){return "pssh" == a.type && a.M2b == n.tva;})[0];new D.lG(this.nk.ke).createSession("video/mp4",g.raw,null).addEventListener(this.D7 + "keyerror",function(a){b(f(a,L.I7,c.Yw()));});}catch(Ha){b();}};g.prototype.geb=function(a){var b,d,f,g,h,k,l;if(this.oa){a=a.YT;b=this.kcb();b && (a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState="" + this.oa.readyState;a.currentTime="" + this.oa.currentTime;a.pbRate="" + this.oa.playbackRate;}catch(Ma){}for(var b=this.ez.length,c;b--;){c=this.ez[b];d="";c.type == n.zV?d="audio":c.type == n.hG && (d="video");R.Eb(a,c.h0(),{prefix:d});p.config.trb && this.j.Ej && n.hG == c.type && (d=R.dL(c.l0()),3E3 > (d.data && d.data.length) && (d.data=W.qKa(d.data).join(),R.Eb(a,d,{prefix:c.type})));}this.ce && (b=this.ce.duration) && !isNaN(b) && (a.duration=b.toFixed(4));if(p.config.YCb)try{f=this.j.Td;g=f && f.JBb;if(g){h=g.expiration;isNaN(h) || (a.exp=h);k=g.keyStatuses.entries();if(k.next){l=k.next().value;l && (a.keyStatus=l[1]);}}}catch(Ma){}}};g.prototype.HFa=function(a){!1;this.ufb || (this.ufb=!0,this.Uq.cc(P.Hi.a_a,a));};g.prototype.feb=function(){this.Zb.trace("seeking");this.Jg.trace("Video element event: seeking");this.ho?this.ho.vGb=!0:(this.Jg.error("unexpected seeking event"),p.config.Gsb && this.NG(L.L.J9a,{ub:{Trace:this.Yw()}}));};g.prototype.eeb=function(){this.Zb.trace("seeked");this.Jg.trace("Video element event: seeked");this.ho?(I.lb(this.ho.vGb),this.ho.uGb=!0,this.DGa()):(this.Jg.error("unexpected seeked event"),p.config.Fsb && this.NG(L.L.I9a,{ub:{Trace:this.Yw()}}));};g.prototype.ieb=function(){var a;this.Zb.trace("timeupdate",null === (a=this.oa) || void 0 === a?void 0:a.currentTime);!1;this.ho && (this.ho.xGb=!0,this.DGa());this.Uq.cc(P.Hi.Np);};g.prototype.YN=function(){this.Jg.trace("Video element event: loadstart");};g.prototype.jeb=function(a){this.Jg.trace("Video element event:",a.type);try{this.j.volume.set(this.oa.volume);this.j.muted.set(this.oa.muted);}catch(Na){this.Jg.error("error updating volume",Na);}};g.prototype.oH=function(a){this.NG(L.L.B9a,f(a,L.Zva,this.Yw()));};g.prototype.DGa=function(){this.ho && this.ho.uGb && this.ho.xGb && (this.Zb.trace("seekcomplete"),this.ho=void 0,this.Uq.cc(P.Hi.RS));};pa.Object.defineProperties(g.prototype,{eqa:{configurable:!0,enumerable:!0,get:function(){return p.config.YPb;}}});b.Iya=g;c.prototype.trace=function(a,b){this.B5.push([a,b]);this.B5.length > this.lSb && this.B5.shift();};c.prototype.Yw=function(){return this.B5;};},function(d,b,a){var g,h,m,f,q,l,n,p,r,z,y,B;function c(a){var b;b=this;this.j=a;this.hra=this.aUa=0;this.Kf=this.lm=!1;this.t4=0;this.BL=function(){var a,c;b.o4();b.BP && (b.log.info("Deactivating",b.BP),b.cB.Uob(b.Ud()));b.j.Yj.set(null);b.tF.rZa(b.entries=void 0);b.AJa();a=b.j.Jc.value;a && a.H1() && !a.B1() && (a=null);if(a && b.j.Xb.value !== y.tb.kg){c=b.Ud();b.cB.lgb(c,a);}a?(b.log.info("Activating",a),b.j.wl.set(a.cd() === g.gC.daa.LOADED?y.Ce.yd:y.Ce.qd),b.lm || b.j.vd("tt_start"),a.getEntries().then(b.FH)["catch"](b.FH)):b.j.wl.set(y.Ce.yd);b.BP=a;b.FL();};this.qra=function(){b.lm && (b.tF.start(),b.j.Xb.value !== y.tb.Wc && b.tF.stop());};this.FL=function(){var a;b.j.state.value === y.yb.yd && b.j.Xb.value !== y.tb.kg && (b.entries?a=b.tF.kub():b.j.Jc.value && (a=c.rQb[b.j.Jc.value.cd()]));a && z.ic(a.startTime) && (b.aUa++,b.hra+=b.tF.POa() - a.startTime,b.sIa=Math.ceil(b.hra / (b.aUa + 0)));b.j.Wu.set(a);};this.Ud=function(){var a;a=b.j.cja();b.BP && b.BP.Fr && (a+=b.BP.Fr);return a;};this.mHb=function(a){b.fireEvent(c.LPb,a);a && a.id && (b.cB.q1a(a.id),!1);b.log.trace("showsubtitle",b.nPa(a));};this.hHb=function(a){b.fireEvent(c.aMb,a);b.log.trace("removesubtitle",b.nPa(a));};this.vk=function(){b.log.warn("imagesubs buffer underflow",b.j.Jc.value.sh);b.j.wl.set(y.Ce.qd);};this.LGb=function(){b.log.info("imagesubs buffering complete",b.j.Jc.value.sh);b.j.wl.set(y.Ce.yd);};this.g3=function(){b.lm && b.nf && b.nf.Cs(b.Ud());};this.UUa=function(a){b.lm && b.nf && (b.nf.pause(),b.nf.ZA(a.Mh));};this.iK=function(){b.lm && b.nf && b.nf.YWa();};this.RUa=function(a){b.nf && b.nf.yn(a.Mg,a.RR);};this.YUa=function(a){b.nf && b.nf.lj(a.Ba,a.HTb);};this.j3=function(){b.lm=!0;r.uc(function(){b.nf?b.nf.Cs(b.Ud()):b.qra();b.FL();});};this.bHb=function(){b.entries=void 0;b.AJa();b.tF.stop();b.FL();b.Kf=!0;b.o4();};this.Pna=function(a){(a=a.newValue) && z.ic(a.id) && (b.cB.q1a(a.id),!1);};this.eHb=function(a){b.zTb(a.newValue,a.oldValue);b.qra();};this.FH=function(a){var c;if(!b.Kf){c=a.track;if(c === b.j.Jc.value)try{c.Oo?b.jgb(a):b.kgb(a);}catch(W){b.log.error("Error activating track:",W,c);return;}b.lm || b.j.vd(a.ia?"tt_comp":"tt_err");a.ia?(f.config.AYa?setTimeout(function(){b.j.wl.set(y.Ce.yd);},f.config.AYa):b.j.wl.set(y.Ce.yd),c.Oo || b.FL()):a.Xq?b.log.warn("aborted timed text track loading"):f.config.Esb?b.j.sd(p.L.s7a,{ub:a.track?a.track.sh:{}}):(b.log.error("ignore subtitle initialization error",a),b.j.wl.set(y.Ce.yd));}};this.Hb=new m.pj();this.cB=new n.GCa(l.Pg(a,"SubtitleTracker"),f.config.Erb);this.log=l.Pg(a,"TimedTextManager");this.tF=new h.YCa(this.Ud,this.FL);this.j.Jc.addListener(this.BL);f.config.tJb?(this.j.addEventListener(y.V.Yo,this.j3),this.BL()):(this.j.wl.set(y.Ce.yd),this.j.addEventListener(y.V.Yo,function(){b.lm=!0;b.BL();}));this.j.Xb.addListener(this.eHb);this.j.addEventListener(y.V.vra,this.qra);this.j.Wu.addListener(this.Pna);this.j.addEventListener(y.V.Kf,this.bHb);}Object.defineProperty(b,"__esModule",{value:!0});b.WCa=void 0;g=a(226);h=a(498);m=a(69);f=a(12);q=a(48);l=a(7);n=a(1119);p=a(2);r=a(55);z=a(15);y=a(14);B=a(1120);c.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};c.prototype.fireEvent=function(a,b,c){this.Hb.cc(a,b,c);};c.prototype.mda=function(a,b,c){var d;d=B.UCa.Mnb(this.j,a,b,c);this.j.xl.push(d);this.j.po.forEach(function(a){q.$sa(a.xl,d);});this.j.Jc.set(d);this.j.fireEvent(y.V.uF);};c.prototype.BJb=function(a){this.Epa(a)?a.getEntries().then(function(){}):Promise.resolve();};c.prototype.Lxb=function(a){return this.cB.qxb(a);};c.prototype.wja=function(a){return this.cB.wja(a);};c.prototype.F0=function(){var a,b;a=this.j.HT;b=f.config.k0a.characterSize;b={size:f.config.Ara.characterSize || b};a && (b.visibility=a.Bja(),b.ZO=a.zja(),b.kq=a.Aja());return b;};c.prototype.YOb=function(a){f.config.Ara.characterSize=a;a=this.j.Jc.value;this.Epa(a) && !a.Oo && a.getEntries().then(this.FH)["catch"](this.FH);};c.prototype.zTb=function(a,b){var c;a === y.tb.Wc || a == y.tb.rj?b !== y.tb.Wc && b !== y.tb.rj && ((b=this.j.Jc.value) && !this.Epa(b) || this.cB.gUa(this.Ud(),b || void 0,"presentingstate:" + a)):a !== y.tb.kg && a !== y.tb.Os || this.cB.cha(null !== (c=this.Ud()) && void 0 !== c?c:void 0,"presentingstate:" + a);};c.prototype.o4=function(){this.t4=0;clearTimeout(this.RMb);};c.prototype.AJa=function(){this.nf && (this.nf.stop(),this.NSa("removeListener"));this.nf=void 0;};c.prototype.NSa=function(a){this.nf && (this.nf[a]("showsubtitle",this.mHb),this.nf[a]("removesubtitle",this.hHb),this.nf[a]("underflow",this.vk),this.nf[a]("bufferingComplete",this.LGb),"addListener" === a?(this.j.addEventListener(y.V.Np,this.g3),this.j.addEventListener(y.V.rl,this.UUa),this.j.addEventListener(y.V.QK,this.iK),this.j.addEventListener(y.V.X2,this.RUa),this.j.addEventListener(y.V.esa,this.YUa)):(this.j.removeEventListener(y.V.Np,this.g3),this.j.removeEventListener(y.V.rl,this.UUa),this.j.removeEventListener(y.V.QK,this.iK),this.j.removeEventListener(y.V.X2,this.RUa),this.j.removeEventListener(y.V.esa,this.YUa)));};c.prototype.nPa=function(a){return {currentPts:this.Ud(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};c.prototype.jgb=function(a){var b,c;b=this;c=a.track;if(!c || !c.Oo)throw Error("Not an image base subtitle");a.ia?(this.o4(),this.nf=c.nf,this.NSa("addListener"),this.log.info("Activated",c),this.j.Yj.set(c),this.lm?r.uc(function(){b.nf.Cs(b.Ud());}):this.nf.pause()):this.sYa(c,a);};c.prototype.kgb=function(a){var b,c;b=a.track;c=a.entries;if(!b || b.Oo)throw Error("Not a valid text track");c?(this.o4(),this.tF.rZa(this.entries=c),this.log.info("Activated",b),this.j.Yj.set(b)):this.sYa(b,p.Jq(a));this.FL();};c.prototype.sYa=function(a,b){var c,d;c=this;d=this.t4 < f.config.aEb;d && (this.RMb=setTimeout(function(){c.t4++;a.getEntries().then(c.FH)["catch"](c.FH);},f.config.RRb));this.log.error("Failed to activate" + ((null === a || void 0 === a?0:a.Oo)?" img subtitle":""),{retry:d},b,a);};c.prototype.Epa=function(a){return !(!a || a.H1() && !a.B1());};b.WCa=c;d={};c.rQb=(d[g.gC.daa.LOADING]={m4b:!0},d[g.gC.daa.CM]={Up:!0},d);c.LPb="showsubtitle";c.aMb="removesubtitle";},function(d,b,a){var h;function c(a,b,c){this.start=a;this.track=b;this.tL=Array.isArray(c)?c:[];}function g(a,b){this.log=a;this.FF=b;this.Yoa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;h=a(18);g.prototype.lgb=function(a,b){this.gUa(a,b,"activating");};g.prototype.Uob=function(a){this.cha(a,"de-activating");};g.prototype.gUa=function(a,b,d){var f;this.fk && this.cha(a,"close current for new");f=[];this.orphans.length && (f.push.apply(f,[].concat(ea(this.orphans))),this.orphans=[]);this.fk=new c(a,b,f);this.FF && this.log.trace("new range: " + d,this.fk);};g.prototype.cha=function(a,b){this.fk && (this.fk.end=a,this.Yoa.push(this.fk),this.FF && this.log.trace("end range: " + b,this.fk || ({})),this.fk=void 0);};g.prototype.q1a=function(a){this.fk?this.fk.tL.push(a):this.orphans.push(a);};g.prototype.wja=function(a){var b,d;b=this.Yoa.slice(0);if(this.fk && "undefined" !== typeof a){d=new c(this.fk.start,this.fk.track,this.fk.tL);d.end=a;b.push(d);}a=b.reduce(function(a,b){var c,d,f,g;if(!b.track)return a;d=b.track.Bd;f=b.track.Wz(b.start,b.end);if(!f)return a;g=new Set(b.tL);a[d]?(b=a[d],b.expected+=f.length,b.missed+=f.length - g.size):a[d]={dlid:d,bcp47:b.track.Tl,profile:b.track.profile,expected:f.length,missed:f.length - g.size,startPts:null !== (c=b.track.Exb()) && void 0 !== c?c:0};return a;},{});a=Object.values(a);this.FF && this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};g.prototype.qxb=function(a){var b,d,g,k;b=this.Yoa.slice(0);d=0;g=0;this.fk && "undefined" != typeof a && (k=new c(this.fk.start,this.fk.track,this.fk.tL),k.end=a,b.push(k));b.forEach(function(a){var b,c;if(a.track){if(a.end < a.start){h.lb("negative range",a);a.WA=0;return;}b=new Set(a.tL);c=a.track.Wz(a.start,a.end);a.v_=c?c.map(function(a){return a.id;}):[];a.WA=c?0 === c.length?100:100 * b.size / c.length:0;}else a.WA=100;b=a.end - a.start;d+=b;g+=a.WA * b;});k=d?Math.round(g / d):100;this.log.trace("qoe score " + k + ", at pts: " + a);this.FF && (a=b.map(function(a){return {start:a.start,"end  ":a.end,duration:a.end - a.start,score:Math.round(a.WA),lang:a.track?a.track.Tl:"none","actual  ":a.tL.join(" "),expected:(a.v_ || []).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return k;};b.GCa=g;},function(d,b,a){var g,h,m,f,q,l,n,p,r;function c(a,b,c,d,f){var g,h;a=q.gC.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",d || a,l.Vn.rG,"primary",null !== (g=null === f || void 0 === f?void 0:f.profile) && void 0 !== g?g:"custom",null !== (h=null === f || void 0 === f?void 0:f.midx) && void 0 !== h?h:{},!1,!1,null === f || void 0 === f?void 0:f.isLanguageLeftToRight) || this;a.j=b;a.url=c;a.options=f;a.Ds=null === f || void 0 === f?void 0:f.useRangeHeader;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;d=a(58);g=a(12);h=a(59);m=a(7);f=a(27);q=a(226);l=a(137);n=a(68);p=a(126);r=a(14);d.y$(d.u$,function(a){var c;function b(b){var d;if(b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == p.Qs.R$a){d=f.createElement("INPUT",void 0,void 0,{type:"file"});d.addEventListener("change",function(){var b,f,g;b=d.files[0];if(b){f=b.name;c.info("Loading file",{FileName:f});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.hp.mda("nourl",f,{content:g.result});});}});d.click();}}c=m.Pg(a,"TimedTextCustomTrack");g.config.bga && (c.info("Loading url",{Url:g.config.bga}),a.hp.mda(g.config.bga,"custom"));h.Re.addListener(h.Zz,b);a.addEventListener(r.V.Kf,function(){h.Re.removeListener(h.Zz,b);});});N(c,q.gC);c.Mnb=function(a,b,d,f){var g;g="custom" + c.mAb++;return new c(g,a,b,d,f);};c.prototype.ILa=function(){var a;a=this;return new Promise(function(b,c){var d,f;if(null === (d=a.options) || void 0 === d?0:d.content)b(a.options.content);else if(a.url){f={responseType:n.jka,url:a.url,track:a,zc:null,uD:"tt-" + a.Tl};a.j.g1.download(f,function(d){d.ia?b(d.content):(d.reason="downloadfailed",d.url=f.url,d.track=a,c(d));});}});};b.UCa=c;c.mAb=0;},function(d,b,a){var g,h,m,f,q,l;function c(a){var b,c;b=this;this.j=a;this.RGb=function(){var a;m.Re.removeListener(m.N0,b.VUa);a=b.$p.Io();a && a.parentNode && a.parentNode.removeChild(a);};this.Pna=function(a){b.$p.COb(a.newValue);};this.pHb=function(a){b.$p.IOb(a.newValue?a.newValue.F1:void 0);};this.VUa=function(){b.$p.FK();};this.$p=new q.VCa(f.config.zra,a.Jc.value?a.Jc.value.F1:void 0);c=a.KL;h.lb(.1 < c.width / c.height);this.$p.qOb(c.width / c.height);a.Qf.appendChild(this.$p.Io());a.Wu.addListener(this.Pna);a.Jc.addListener(this.pHb);a.addEventListener(l.V.Kf,this.RGb,g.WB);m.Re.addListener(m.N0,this.VUa);}Object.defineProperty(b,"__esModule",{value:!0});b.XCa=void 0;g=a(11);h=a(18);m=a(59);f=a(12);q=a(503);l=a(14);c.prototype.Gqa=function(a){this.$p.Gqa(a);};c.prototype.Bja=function(){return this.$p.Bja();};c.prototype.Eqa=function(a){this.$p.Eqa(a);};c.prototype.zja=function(){return this.$p.zja();};c.prototype.Fqa=function(a){this.$p.Fqa(a);};c.prototype.Aja=function(){return this.$p.Aja();};b.XCa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TWa=void 0;b.TWa=function(a){var b,d;b=!1;d=!1;return function(){if(b)d=!0;else for(d=!0;d;){d=!1;b=!0;a();b=!1;}};};},function(d,b,a){var g,h,m,f,q,l,n,p,r,z,y;function c(a){this.j=a;this.oRb=!1;this.log=f.Pg(this.j,"MediaAppendManager");this.Gb=this.j.Gb;this.oa=this.Gb.oa;this.$T=this.PO=!1;this.audio={type:m.Zg.audio,Dz:[],qk:[],pK:!1};this.video={type:m.Zg.video,Dz:[],qk:[],pK:!1};a={};this.xF=(a[g.Ac.Zh.VIDEO]=this.video,a[g.Ac.Zh.AUDIO]=this.audio,a);this.closed=!1;this.qA=h.config.qA;this.G2=h.config.G2;this.AE=h.dKa(! !this.j.Ta.mk).AE;this.tIa=!0;l.lb(this.qA > this.G2,"bad config");l.lb(this.qA > this.AE,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.Dya=void 0;g=a(56);h=a(12);m=a(76);f=a(7);q=a(2);l=a(18);n=a(27);p=a(14);r=a(166);z=a(4);y=a(67);c.prototype.g0=function(){var c,d;function a(a,c){return b(a,c.y2);}function b(a,b){var c,d,f,g;f=! !b.response;g=b.response;if(b.dc)return a + (g.byteLength || 0);b=(null !== (c=null === b || void 0 === b?void 0:b.RH) && void 0 !== c?c:0) - (null !== (d=null === b || void 0 === b?void 0:b.SH) && void 0 !== d?d:0);return (f?g.byteLength:b) + a;}c=this.xF[g.Ac.Zh.VIDEO];d=this.xF[g.Ac.Zh.AUDIO];return {videoToAppend:c.qk.reduce(b,0),videoInBuffer:c.Dz.reduce(a,0),audioToAppend:d.qk.reduce(b,0),audioInBuffer:d.Dz.reduce(a,0)};};c.prototype.lGb=function(){this.audio.hj && !this.audio.hj.Ph() && (!1,this.audio.hj.IHa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.SOb=function(){this.audio.Kqa=!0;this.video.Kqa=!0;};c.prototype.XOb=function(a){a === g.Ac.Zh.AUDIO?this.PO=!0:a === g.Ac.Zh.VIDEO && (this.$T=!0);};c.prototype.Ph=function(){var a,b;return !(null === (a=this.audio.hj) || void 0 === a || !a.Ph()) || !(null === (b=this.video.hj) || void 0 === b || !b.Ph());};c.prototype.Q4=function(a){var b,c;null === (b=this.audio.hj) || void 0 === b?void 0:b.Q4(a);null === (c=this.video.hj) || void 0 === c?void 0:c.Q4(a);};c.prototype.rhb=function(a){var b;a.I === g.Ac.Zh.AUDIO?this.PO=!1:a.I === g.Ac.Zh.VIDEO && (this.$T=!1);b=this.xF[a.I];b?b.qk.push(a):l.lb(!1);};c.prototype.phb=function(a,b,c){b={I:a.type,iA:!1,response:b,kk:function(){return "header";},get dc() {return !this.iA;},profile:c.profile};(a=this.xF[a.type])?a.qk.push(b):l.lb(!1);};c.prototype.VOb=function(a){var b;b=this.xF[a.type];if(b)try{b.hj=a;}catch(I){this.sd(q.L.R9,{ja:r.p0(a.type),ub:n.$e(I)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.sd=function(a,b,c){this.closed || this.j.sd(a,b,c);};c.prototype.mga=function(a){return this.DLa(this.audio,a,this.GZ()) && this.DLa(this.video,a,this.GZ());};c.prototype.GZ=function(){return this.j.Xb.value === p.tb.kg?this.AE:this.G2;};c.prototype.$Rb=function(){var a,b;a=this.video.qk.filter(function(a){return !a.dc;}).reduce(function(a,b){return a + b.Kw;},0);b=this.audio.qk.filter(function(a){return !a.dc;}).reduce(function(a,b){return a + b.Kw;},0);return Math.min(a,b);};c.prototype.DLa=function(a,b,c){var d;d=a.nga;d=d && d.y2;return !a.hj || 0 === a.qk.length && (a.type === m.Zg.audio && this.PO || a.type === m.Zg.video && this.$T)?!0:d && d.Iu - b >= c || !1;};c.prototype.Rra=function(a){var b,c;this.oRb || (this.O0a(this.audio,a),this.O0a(this.video,a));!(this.closed || !(0 === this.audio.qk.length && this.PO || 0 === this.video.qk.length && this.$T) || (null === (b=this.audio.hj) || void 0 === b?0:b.Ph()) || (null === (c=this.video.hj) || void 0 === c?0:c.Ph()) || this.bha) && this.oa.readyState > y.Am.vwa.HAVE_NOTHING && (this.bha=!0,this.Gb.endOfStream());};c.prototype.O0a=function(a,b){var c,d,f;if(!this.closed && a.hj){c=a.hj;d=a.Dz;!c.Ph() && 0 < d.length && (a.nga=d[d.length - 1]);if(a.Kqa){if(c.Ph())return;a.Kqa=!1;f=this.Gb.OOa().vWa(z.Em);0 < f && c.remove(0,f);}for(f=a.qk[0];f && f.response && (f.dc || f.Sx - b <= this.qA);){if((this.bha=!1,this.NSb(f)))(a.qk.shift(),f=a.qk[0]);else break;}!c.Ph() && 0 < d.length && (a.nga=d[d.length - 1]);}};c.prototype.NSb=function(a){var b,c,d;!1;l.lb(a && a.response);b=a.response;c=a.I;d=this.xF[c];if(!this.closed && d.hj && !d.hj.Ph()){try{a.dc && a.profile && d.hj.okb(a.profile);this.log.trace("Feeding media segment to decoder",{Bytes:b.byteLength});d.hj.IHa(b,a);a.dc || d.Dz.push(this.Onb(a));h.config.mqb && !a.dc && a.zJa();}catch(da){"QuotaExceededError" != da.name?(this.log.error("Exception while appending media",a,da),this.sd(q.L.F9a,r.p0(c))):(this.j.IZ=this.j.IZ?this.j.IZ + 1:1,this.tIa=!1,d.pK=!0);return;}return !0;}};c.prototype.Fnb=function(a){var b;b=this.j.Kyb(a.Tb);b || (this.log.error("Could not find CDN",{cdnId:a.Tb}),b={id:a.Tb,Qla:a.location});return b;};c.prototype.zob=function(a){var b,c;c=a.Ca;a.I === g.Ac.Zh.AUDIO?b=this.j.RPa(c):a.I === g.Ac.Zh.VIDEO && (b=this.j.bQa(c));b || this.log.error("Could not find stream",{stream:c});return b;};c.prototype.Onb=function(a){var b;b=this.zob(a);return {y2:a,stream:b,Kp:{startTime:Math.floor(a.Sx),endTime:Math.floor(a.Iu)},zc:this.Fnb(a)};};c.prototype.Tea=function(a){this.wJa(a,g.Ac.Zh.AUDIO);this.wJa(a,g.Ac.Zh.VIDEO);};c.prototype.wJa=function(a,b){var c,d,f,k,m,q,p,t,u;c=this;d=a;this.tIa && (d-=h.config.IS);f=this.xF[b];k=f.Dz;p=!1;k.some(function(f,h){var k;k=f.y2;if(a < k.Sx)return (l.lb(!1,"decoder content does not contain media time"),!0);d >= k.Iu && (m=h);if(a < k.Iu)return (q=h,h=b === g.Ac.Zh.AUDIO?c.j.zg:c.j.wf,f !== h.value && (h.set(f),p=!0),!0);});if((f.pK || p) && void 0 !== m && !this.bha){if(m + 1 === q){if(0 === m)return;m--;}t=k[m].y2.Iu - 1;if(0 < t){u=f.hj;u && !u.Ph()?(u.remove(0,t / n.Qj),f.pK=!1,k.splice(0,m + 1)):(f.pK=!0,!1);}}};c.prototype.jYa=function(){!1;[this.audio,this.video].forEach(function(a){a.Dz=[];a.nga=void 0;a.qk=[];});this.$T=this.PO=!1;this.j.fireEvent(p.V.v2);};c.prototype.Dja=function(){return [this.audio,this.video].filter(function(a){return a.hj;});};c.prototype.Mub=function(){var a,b;if(this.Ph())l.lb(!1,"should not be busy while checking buffer ranges");else {a=this.Dja().map(function(a){var b,c,d,f,g;f=a.qk.filter(function(a){return a.iA;});g=a.hj.buffered();a=g.length?Math.ceil(1E3 * g.start(0)):void 0;g=g.length?Math.floor(1E3 * g.end(g.length - 1)):void 0;a=null !== a && void 0 !== a?a:null === (b=f[0]) || void 0 === b?void 0:b.Sx;b=null !== (d=null === (c=f[f.length - 1]) || void 0 === c?void 0:c.Iu) && void 0 !== d?d:g;if(void 0 !== a && void 0 !== b)return {start:a,end:b};});if(a.every(function(a){return a;})){b=Math.max.apply(Math,[].concat(ea(a.map(function(a){return a.start;}))));a=Math.min.apply(Math,[].concat(ea(a.map(function(a){return a.end;}))));if(a > b)return {start:z.Jb(b),end:z.Jb(a)};}}};c.prototype.skip=function(a){l.lb(!this.Ph(),"should not be busy while skipping");this.Dja().forEach(function(a){a.pK=!0;});this.Tea(a);this.Dja().forEach(function(b){0 < b.Dz.length || (b.qk=b.qk.filter(function(b){return b.dc || b.Iu > a?!0:!1;}));});};b.Dya=c;},function(d,b,a){var h,m,f,q,l,n,p,r;function c(a,b,c,d,f){var g;g=this;this.Th=a;this.config=c;this.Da=d;this.debug=f;this.D3=[];this.oq=[];this.ooa=[];this.XC={};this.FLa=!1;this.VO={};this.Pka=0;this.log=b.ob("PlayTimeTracker");this.startTime=this.Th.fb.value;this.g2=this.config().egb;this.gU();this.XC.abrdel=0;this.g2.forEach(function(a){a="abrdel" + a;g.VO[a]=0;g.XC[a]=0;});}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;d=a(0);h=a(1);m=a(6);f=a(13);q=a(97);a(4);l=a(20);n=a(85);p=a(11);r=a(22);g.prototype.encode=function(a){return {key:a.key,downloadableId:a.Bd,bitrate:a.S,vmaf:a.ib,duration:a.duration,metric:a.CR,cdnId:a.yz};};g.prototype.decode=function(a){return {key:a.key,Bd:a.downloadableId,S:a.bitrate,ib:a.vmaf,duration:a.duration,CR:a.metric,yz:a.cdnId};};c.prototype.CQ=function(){var a;this.hF(this.Th.fb.value);a=0;this.oq.forEach(function(b){a+=(b.endTime - b.startTime) / b.Zoa;});return Math.floor(a);};c.prototype.APa=function(){var a;this.hF(this.Th.fb.value);a=0;this.oq.forEach(function(b){a+=b.endTime - b.startTime;});this.debug.assert(a === Math.floor(a),"Value of totalContentPlayTime is not an integer.");return Math.floor(a);};c.prototype.vub=function(){this.hF(this.Th.fb.value);return {audio:this.qQ(this.D3,this.fOa),video:this.qQ(this.oq,this.fOa)};};c.prototype.Rwb=function(){var a;a={total:this.CQ(),totalContentTime:this.APa(),audio:this.qQ(this.D3,this.o0),video:this.qQ(this.oq,this.o0),timedtext:this.qQ(this.ooa,this.o0)};this.debug.assert(!(!a.audio || !a.video));return a;};c.prototype.INa=function(){var a,b;this.hF(this.Th.fb.value);a=this.hia(this.oq,this.Jub);try{b=this.JNa(a);}catch(B){return (this.log.warn("Failed to calc average bitrate."),null);}this.XC.abrdel=Math.round(b);return this.XC.abrdel;};c.prototype.Bub=function(){var a,b;this.hF(this.Th.fb.value);a=this.hia(this.oq,this.jyb);try{b=this.JNa(a);}catch(B){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(b);};c.prototype.Aub=function(){var a,b;a=this;if(!this.FLa){b=this.CQ();this.g2.forEach(function(c){var d,f,g;if(0 === a.VO["abrdel" + c] && b > c * p.Qj){d=0;f=0;g=0;a.oq.some(function(a){d+=a.stream.S * (a.endTime - a.startTime);f+=a.endTime - a.startTime;g=a.stream.S;if(f > c * p.Qj)return !0;});d && (a.VO["abrdel" + c]=Math.round((d - g * (f - c * p.Qj)) / (c * p.Qj)));}});0 !== this.VO["abrdel" + this.g2[this.g2.length - 1]] && (this.FLa=!0);r.Jd(this.VO,function(b,c){a.XC[b]=0 === c?a.XC.abrdel:c;});}return this.XC;};c.prototype.zgb=function(a){this.Pka+=a;};c.prototype.Xyb=function(){return ! !(this.oq[0] && this.oq[0].stream && this.Da.ge(this.oq[0].stream.ib));};c.prototype.gU=function(){var a;a=this;this.Th.zg.addListener(function(b){a.eI=a.oJa(a.eI,a.D3,b.newValue);});this.Th.wf.addListener(function(b){a.gI=a.oJa(a.gI,a.oq,b.newValue);});this.Th.playbackRate.addListener(function(b){a.hF(a.Th.fb.value,b.oldValue);});this.Th.Yj.addListener(this.HGb.bind(this));};c.prototype.dGb=function(a,b){this.hF(a);this.startTime=b;this.gI=this.eI=void 0;this.fI && (this.fI.startTime=this.startTime);!1;};c.prototype.HGb=function(a){this.wS(this.fI,this.ooa,this.Th.fb.value);this.fI=a.newValue?{track:a.newValue,startTime:this.Th.fb.value,endTime:q.rv}:void 0;};c.prototype.hF=function(a,b){b=void 0 === b?this.Th.playbackRate.value:b;a && this.eI && this.gI && (a=Math.min(a,this.eI.endTime,this.gI.endTime),this.wS(this.eI,this.D3,a,b),this.eI.startTime=a,this.wS(this.gI,this.oq,a,b),this.gI.startTime=a,this.fI && (this.wS(this.fI,this.ooa,a,b),this.fI.startTime=a),this.startTime=a,!1);};c.prototype.oJa=function(a,b,c){a && this.wS(a,b,Math.min(a.endTime,this.Th.fb.value));if(c && c.stream)return (a=c.Kp,b=c.stream,{zc:c.zc,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime});};c.prototype.wS=function(a,b,c,d){d=void 0 === d?this.Th.playbackRate.value:d;a && c && c >= a.startTime && (a={zc:a.zc,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c,Zoa:d},(c=b[b.length - 1]) && c.track === a.track && c.stream === a.stream && c.zc === a.zc && c.endTime === a.startTime && c.Zoa === a.Zoa?c.endTime=a.endTime:b.push(a),!1);};c.prototype.hia=function(a,b){var c,d;c=this;d={};return a.reduce(function(a,f){var g,h,k;g=b.bind(c,f)();h=g.key;f=f.endTime - f.startTime;k=d[h];k?k.duration+=f:(delete g.key,k=g,k.duration=f,a.push(k),d[h]=k);return a;},[]);};c.prototype.qQ=function(a,b){return this.hia(a,b).map(function(a){return new g().encode(a);});};c.prototype.o0=function(a){var b,c,d;d=a.stream;d?(a=d.Bd,b=d.S,c=d.ib):a=a.track.Bd;return {key:a + "$" + (b || 0),Bd:a,S:b,ib:c};};c.prototype.fOa=function(a){var b;b=this.o0(a);a=a.zc.id;return Object.assign({},b,{key:b.key + "$" + a,yz:a});};c.prototype.Jub=function(a){a=(a=a.stream)?a.S:0;return {key:a,CR:a};};c.prototype.jyb=function(a){a=(a=a.stream)?a.ib:0;return {key:a,CR:a};};c.prototype.JNa=function(a){var b,c,d;b=this;c=0;a.forEach(function(a){if(b.Da.ge(a.duration) && b.Da.ge(a.CR))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;d=0;a.forEach(function(a){d+=a.CR * a.duration / c;});return d;};a=c;a=d.__decorate([h.N(),d.__param(1,h.l(m.xb)),d.__param(2,h.l(f.Oc)),d.__param(3,h.l(l.De)),d.__param(4,h.l(n.Ls))],a);b.xAa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q$=void 0;b.q$="PlayTimeTrackerFactorySymbol";},function(d,b,a){var g,h;function c(a,b,c,d,h,k,n,p,r,B,L){this.index=a;this.u=b;this.Ba=c;this.Ta=d;this.ea=h;this.zk=k;this.h2=n;this.Nlb=r;this.DTa=L;this.Ad=new g.Lc(null);this.Fg=new g.Lc(null);this.Jc=new g.Lc(null);this.Yj=new g.Lc(null);this.Wu=new g.Lc(void 0);this.Bf=new g.Lc(null);this.Sl=new g.Lc(null);this.zg=new g.Lc(null);this.wf=new g.Lc(null);this.fb=new g.Lc(void 0);this.playbackRate=new g.Lc(1);this.so=new g.Lc(null);this.tw=this.wz="notcached";this.background=!1;p && (this.Bf.set(p.Bf.value),this.Sl.set(p.Sl.value));this.pn=B(this);this.kl=this.DTa.ELb(this.ea,this.zk);}Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;g=a(188);h=a(4);c.prototype.vd=function(a){this.kl.no(a);};c.prototype.cx=function(a){var b;b=this;Object.entries(a).forEach(function(a){var c;c=T(a);a=c.next().value;c=c.next().value;b.kl.no(a,h.Jb(c - b.zk.ba(h.fa)));});};c.prototype.c3=function(){this.DTa.VLb(this.ea);};pa.Object.defineProperties(c.prototype,{Nd:{configurable:!0,enumerable:!0,get:function(){return this.Ta.Nd;}},T5:{configurable:!0,enumerable:!0,get:function(){return this.Ta.T5;}},Yk:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.Yk;}},po:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.po;}},Hn:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.Hn;}},fy:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.fy;}},xl:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.xl;}},yg:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.yg;}},lx:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.lx;}},js:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.js;}},ck:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.ck;}},I3:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.I3;}},Vt:{configurable:!0,enumerable:!0,get:function(){return this.uba && 0 < this.uba.ba(h.fa)?this.uba:h.Jb(this.ta?this.ta.Tc.duration:0);},set:function(a){this.uba=a;}},yi:{configurable:!0,enumerable:!0,get:function(){return this.Ta.yi || 0;}},Zfa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.rZ?this.rZ:void 0 === this.fb.value?null:this.Nlb(this.fb.value,this.Ba);}},Wk:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.ta) || void 0 === a?void 0:a.Tc.jJa) || void 0 === b?void 0:b.CE;}},aF:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.ta) || void 0 === a?void 0:a.Tc.jJa) || void 0 === b?void 0:b.aF;}},Ed:{configurable:!0,enumerable:!0,get:function(){return this.kl.Ed;}}});b.GAa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Faa=void 0;b.Faa="TrickPlayParserSymbol";},function(d,b,a){var g,h,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=void 0;d=a(0);h=a(462);a=a(1);c.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new h.Vua(b);a=this.RHb(c);b=this.THb(c,b,a);return {Yp:a,images:b};};c.prototype.RHb=function(a){var b,c,d,f;if(a.bPa() < this.wMb())throw Error("array buffer too short");g.dya.forEach(function(b){if(b != a.zK())throw Error("BIF has invalid magic.");});b=a.AK();if(b > g.VERSION)throw Error("BIF version in unsupported");c=a.AK();if(0 == c)throw Error("BIF has no frames.");d=a.AK();f=a.Dk(g.sBa);return {version:b,rGb:c,n0a:d,AMb:f};};c.prototype.THb=function(a,b,c){var g,h;for(var d=[],f=0;f <= c.rGb;f++){h={timestamp:a.AK(),offset:a.AK()};void 0 != g && d.push(b.subarray(g.offset,h.offset));g=h;}return d;};c.prototype.wMb=function(){return g.dya.length + 4 + 4 + 4 + g.sBa;};m=g=c;m.dya=[137,66,73,70,13,10,26,10];m.VERSION=0;m.sBa=44;m=g=d.__decorate([a.N()],m);b.hDa=m;},function(d,b,a){var g,h,m;function c(a,b){this.config=a;this.j=b;this.gS=void 0;this.u3=!1;this.Ala=0;}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=void 0;g=a(14);h=a(4);m=a(110);c.prototype.Awb=function(a,b,c,d,k){var f,l,m,n;c=void 0 === c?this.j.Ba:c;d=void 0 === d?!1:d;f=b === g.rd.aC;l=this.j.COa(c);d=this.Pjb(f?a:this.Rkb(a,c),d,c,l);f?(a=d,d=this.j.Ab.Wt(l,d,c)):a=this.j.Ab.sP(l,d,c);b === g.rd.pv && (this.j.FIa=d);k=this.Si(a,b,k);m=(b === g.rd.yv || b === g.rd.yG) && !this.j.vRa;m=(f=f || k || m)?a:d;if(this.j.Xr){n=this.config().AE;this.j.TPa(m,n) || b !== g.rd.yv || (m=this.j.Xr.ba(h.fa) - n - 1E3,f?(a=m,d=this.j.Ab.Wt(l,m,c)):(a=this.j.Ab.sP(l,m,c),d=m));}return {W2:m,Mh:d,dJb:a,Si:k};};c.prototype.Pjb=function(a,b,c,d){a=this.gBb() || b?Math.round(a):this.Dxb(a,c,d);this.config().dqa && (a+=this.config().dqa);return a;};c.prototype.Si=function(a,b,c){return this.config().kqb || b === g.rd.pv || b === g.rd.aC || b === g.rd.yG || b === g.rd.TU || !c || a < c.start.ba(h.fa) || a >= c.end.ba(h.fa)?!1:(b=this.j.Ab) && b.Si(a) || !1;};c.prototype.gBb=function(){return this.j.Ta.mk?!0:"boolean" === typeof this.j.Ta.oS?this.j.Ta.oS:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().oS && this.config().wJb:this.config().oS;};c.prototype.Rkb=function(a,b){var c;b=this.j.Ww(b);c=b.Vt;b=(b.bEb || c).ba(h.fa) - this.config().bVb;return m.Nn(a,0,b);};c.prototype.Dxb=function(a,b,c){var d;d=this.j.Ta.mk?this.config().T2b:this.config().xI;return this.j.Ab.dJa(a,c,d,b);};pa.Object.defineProperties(c.prototype,{$ka:{configurable:!0,enumerable:!0,get:function(){return this.u3 || ! !this.gS;}}});b.ZBa=c;},function(d,b,a){var g,h,m,f,n,l,p,t,r,z,y,B,L,I;function c(a,b,c,d,h,k){var n;n=this;this.j=a;this.ii=b;this.TT=c;this.wd=d;this.lT=h;this.Vl=k;this.SKa={};this.update=function(){var a;if(n.Bn.selectionStart == n.Bn.selectionEnd){a="";n.s0().forEach(function(b){a=a?a + "\n":"";Object.entries(b).forEach(function(b){var c;c=T(b);b=c.next().value;c=c.next().value;a+=b + ": " + c + "\n";});});n.Bn.style.fontSize=f.Nn(l.sv(n.element.clientHeight / 60),8,18) + "px";n.Bn.value=a;}};this.WGb=function(){var a,b;if(n.j.Qh){b=n.j.Qh.MD();b && (n.$fa=b - (null !== (a=n.v0a) && void 0 !== a?a:0),n.v0a=b,n.hK());}};this.hK=function(){n.TT.Vc(n.update);};this.onkeydown=function(a){a.ctrlKey && a.altKey && a.shiftKey && (a.keyCode == r.Qs.v4a || a.keyCode == r.Qs.Q) && n.toggle();};this.cWa=[a.fb,a.zc[g.Ac.Sa.AUDIO],a.zc[g.Ac.Sa.VIDEO],a.zg,a.wf,a.Sl,a.Bf,a.Yj,a.state,a.qo,a.Xb,a.volume,a.muted];this.element=this.wd.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.Bn=this.wd.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.Bn);this.controls=this.wd.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.wd.createElement("button",void 0,"X");b.addEventListener("click",function(){return n.Zp();},!1);this.controls.appendChild(b);m.Re.addListener(m.Zz,this.onkeydown);a.addEventListener(t.V.Kf,function(){m.Re.removeListener(m.Zz,n.onkeydown);n.Zp();});}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;g=a(56);h=a(58);m=a(59);f=a(110);n=a(273);l=a(9);p=a(15);t=a(14);r=a(126);z=a(4);d={};y=(d[t.yb.nG]="Not Loaded",d[t.yb.LOADING]="Loading",d[t.yb.yd]="Normal",d[t.yb.CLOSING]="Closing",d[t.yb.CLOSED]="Closed",d);d={};B=(d[t.Ce.yd]="Normal",d[t.Ce.qd]="Pre-buffering",d[t.Ce.NBa]="Network stalled",d);d={};L=(d[t.tb.kg]="Waiting for decoder",d[t.tb.Wc]="Playing",d[t.tb.rj]="Paused",d[t.tb.Os]="Media ended",d);I=[t.V.v2,t.V.Fib];c.prototype.zOb=function(a){this.SKa.DFR=a;};c.prototype.show=function(){var a;a=this;this.visible || (this.qAb=O.setInterval(this.WGb,1E3),this.j.Qf.appendChild(this.element),this.cWa.forEach(function(b){b.addListener(a.hK);}),I.forEach(function(b){a.j.addEventListener(b,a.hK);}),this.visible=!0,this.Vl.vL().then(function(b){a.Tja=b;a.hK();}));this.update();};c.prototype.Zp=function(){var a;a=this;this.visible && (clearInterval(this.qAb),this.v0a=this.$fa=void 0,this.j.Qf.removeChild(this.element),this.cWa.forEach(function(b){b.removeListener(a.hK);}),I.forEach(function(b){a.j.removeEventListener(b,a.hK);}),this.TT.Vc(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Zp():this.show();};c.prototype.s0=function(){var b,c,d,k,m,q,t,u,r,x,I,F,N,O,P,S,V,X,ea,fa,ia,ha,ja,ma,oa,pa,sa,ua,ta,Z,wa,xa,ya,Ca,Da,Fa,Ia,La,Ga;r=[];x=this.ii();r.push({Version:"6.0026.945.051",Esn:x?x.ji:"UNKNOWN",PBCID:this.j.Wk,UserAgent:l.Dm});try{I={MovieId:this.j.u,TrackingId:this.j.yi,Xid:this.j.ea + " (" + h.Pn.map(function(a){return a.ea;}).join(", ") + ")",Position:f.Dh(this.j.fb.value),Duration:f.Dh(this.j.Vt.ba(z.fa)),PlayerDuration:f.Dh(this.j.Xr.ba(z.fa)),Volume:l.ai(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.Ta.mk || this.j.Ta.I1)(I["Segment Position"]=f.Dh(this.j.Vz()),I.Segment=this.j.dja());r.push(I);}catch(tb){}try{F=this.j.gm?this.j.gm.mzb():void 0;r.push({"Player state":y[this.j.state.value],"Buffering state":B[this.j.qo.value] + (p.pa(F)?", ETA:" + f.Dh(F):""),"Rendering state":L[this.j.Xb.value]});}catch(tb){}try{N=this.j.rsa() + this.j.Vda();O=this.j.zg.value;P=null === O || void 0 === O?void 0:O.stream;S=this.j.wf.value;V=null === S || void 0 === S?void 0:S.stream;X=null !== (b=null === P || void 0 === P?void 0:P.S) && void 0 !== b?b:"?";ea=V?V.S + " (" + V.width + "x" + V.height + ")":"?";fa=null !== (c=null === V || void 0 === V?void 0:V.ib) && void 0 !== c?c:"?";ia=null !== (k=null === (d=this.j.Bf.value) || void 0 === d?void 0:d.ib) && void 0 !== k?k:"?";ha=null !== (q=null === (m=this.j.Sl.value) || void 0 === m?void 0:m.S) && void 0 !== q?q:"?";ja=null !== (u=null === (t=this.j.Bf.value) || void 0 === t?void 0:t.S) && void 0 !== u?u:"?";ma=this.j.zc[g.Ac.Sa.VIDEO].value;oa=this.j.zc[g.Ac.Sa.AUDIO].value;r.push({"Playing bitrate (a/v)":X + " / " + ea,"Playing/Buffering vmaf":fa + "/" + ia,"Buffering bitrate (a/v)":ha + " / " + ja,"Buffer size in Bytes (a/v)":this.j.Vda() + " / " + this.j.rsa(),"Buffer size in Bytes":"" + N,"Buffer size in Seconds (a/v)":f.Dh(this.j.MO()) + " / " + f.Dh(this.j.WT()),"Current CDN (a/v)":(oa?oa.name + ", Id: " + oa.id:"?") + " / " + (ma?ma.name + ", Id: " + ma.id:"?")});}catch(tb){}try{if(this.j.zg.value && this.j.wf.value){pa=this.j.zg.value.stream;sa=pa.track;ua=this.j.wf.value.stream;ta=this.j.Yj.value;Z=this.lT.yP(this.j.Fg.value?this.j.Fg.value.wc:[]);wa=this.lT.tP(sa.wc);xa=ua.Yf;ya=(/hevc/).test(xa)?"hevc":(/vp9/).test(xa)?"vp9":(/h264hpl/).test(xa)?"avchigh":"avc";(/hdr/).test(xa) && (ya+=", hdr");(/dv/).test(xa) && (ya+=", dv");(/prk/).test(xa) && (ya+=", prk");Ca=pa.Yf;Da=(/xheaac/).test(Ca)?"xhe-aac":(/heaac/).test(Ca)?"he-aac":(/ddplus/).test(Ca)?"ddplus":"unknown";(/atmos/).test(Ca) && (Da+=", atmos");r.push({"Audio Track":sa.Tl + ", Id: " + sa.jb + ", Channels: " + sa.Jp + ", Codec: " + wa + " (" + Da + ")","Video Track":"Codec: " + Z + " (" + ya + ")","Timed Text Track":ta?ta.Tl + ", Profile: " + ta.profile + ", Id: " + ta.jb:"none"});}}catch(tb){}try{Fa=this.j.Qh;Ia=this.j.Bf.value?this.j.Bf.value.W_:0;La=a(510).HSa;r.push({Framerate:Ia.toFixed(3),"Current Dropped Frames":p.pa(this.$fa)?this.$fa:"","Total Frames":Fa.ND(),"Total Dropped Frames":Fa.MD(),"Total Corrupted Frames":Fa.nQ(),"Total Frame Delay":Fa.q0(),"Main Thread stall/sec":La?La.Uvb().join(" "):"DISABLED",VideoDiag:n.hma(this.j.I0()),"HDR support":this.Tja?this.Tja.result + " (" + this.Tja.reason + ")":"unknown"});}catch(tb){}try{r.push({Throughput:this.j.Ma + " kbps"});}catch(tb){}Ga=void 0;try{Object.entries(this.SKa).forEach(function(a){var b;b=T(a);a=b.next().value;b=b.next().value;Ga=Ga || ({});Ga[a]=JSON.stringify(b);});Ga && r.push(Ga);}catch(tb){}return r;};b.DAa=c;},function(d,b,a){var h,m,f,n;function c(a,b,c,d){this.ea=a;this.tMb=b;this.ma=c;this.app=d;this.Ed={};}function g(a,b){this.sf=a;this.app=b;this.Ld={};this.ma=a.ob("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;d=a(0);h=a(1);m=a(6);f=a(19);n=a(4);g.prototype.ELb=function(a,b){this.Ld[a] && this.ma.warn("registerPlayback: xid " + a + " already registered, overriding");b=(b?b:this.app.zb()).ba(n.fa);this.ma.trace("registerPlayback: xid " + a + " at " + b);this.Ld[a]=new c(a,b,this.ma,this.app);return this.Ld[a];};g.prototype.Twb=function(a){this.Ld[a] || this.ma.warn("getPlaybackMilestones: xid " + a + " is not registered");return this.Ld[a];};g.prototype.VLb=function(a){this.ma.trace("removePlayback: xid " + a);delete this.Ld[a];};a=g;a=d.__decorate([h.N(),d.__param(0,h.l(m.xb)),d.__param(1,h.l(f.xd))],a);b.FAa=a;c.prototype.no=function(a,b){b=b?b.ba(n.fa):this.app.zb().ba(n.fa) - this.tMb;this.ma.trace("addMilestone: xid " + this.ea + " " + a + " at " + b);this.Ed[a]=b;};},function(d,b,a){var g,h,m,f;function c(a){this.xa=a;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.EBa=void 0;d=a(0);g=a(14);h=a(1);m=a(19);f=a(4);c.prototype.rl=function(a){a.cause !== g.rd.pv && (this.trace.unshift({time:this.xa.zb(),event:a}),5 < this.trace.length && this.trace.pop());};c.prototype.qPa=function(){var a,b;a=this;if(0 === this.trace.length)return {};b=this.trace[0];return {timeSinceLastRepositionMs:this.h0a(b.time),lastRepositionCause:this.RNa(b.event.cause),repositionTrace:this.trace.map(function(b){return {timeSince:a.h0a(b.time),cause:a.RNa(b.event.cause),newMediaTime:b.event.W2,oldMediaTime:b.event.Ena,contentPts:b.event.Mh,skip:b.event.skip};})};};c.prototype.h0a=function(a){return this.xa.zb().Ia(a).ba(f.fa);};c.prototype.RNa=function(a){switch(a){case g.rd.pv:return "initial";case g.rd.yv:return "seek";case g.rd.aC:return "segment_changed";case g.rd.yG:return "track_changed";case g.rd.TU:return "force_rebuffer";}};a=c;a=d.__decorate([h.N(),d.__param(0,h.l(m.xd))],a);b.EBa=a;},function(d,b,a){var g;function c(a,b){this.j=a;this.osa=void 0 === b?!0:b;this.j;}Object.defineProperty(b,"__esModule",{value:!0});b.gta=void 0;g=a(512);c.prototype.ac=function(){delete this.Ab;delete this.Gk;};c.prototype.Hqa=function(){return g.VL.prototype.Hqa.apply(this,arguments);};c.prototype.mJ=function(){return g.VL.prototype.mJ.apply(this,arguments);};c.prototype.oea=function(){return g.VL.prototype.oea.apply(this,arguments);};b.gta=c;},function(d,b,a){var g,h,m,f,n,l,p;function c(a,b,c,d,f,h,k,q,u,r){var t;t=this;this.ESb=a;this.j=b;this.id=c;this.height=d;this.width=f;this.FIb=h;this.GIb=k;this.size=q;this.Fr=u;this.Be=r;this.type=g.Zg.Pra;this.Wx=!0;this.state=n.Wn.PV;this.sh={};this.QY={};this.kKb=function(a){if(a.ia)try{t.data=t.ESb.parse(a.content);t.state=n.Wn.LOADED;t.log.trace("TrickPlay parsed",{Images:t.data.images.length},t.sh);t.j.fireEvent(l.V.LT);}catch(D){t.state=n.Wn.zza;t.log.error("TrickPlay parse failed.",D);}else (t.state=n.Wn.PV,t.log.error("TrickPlay download failed.",p.Jq(a),t.sh));};this.log=m.Pg(b,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;g=a(76);h=a(12);m=a(7);f=a(68);n=a(485);l=a(14);p=a(2);c.prototype.Ovb=function(a){if(this.data && (this.Fr && (a+=this.Fr),a=Math.floor(a / this.data.Yp.n0a),0 <= a && a < this.data.images.length))return {image:this.data.images[a],time:a * this.data.Yp.n0a,height:this.height,width:this.width,pixelAspectHeight:this.FIb,pixelAspectWidth:this.GIb};};c.prototype.C0=function(){switch(this.state){case n.Wn.LOADED:return "downloaded";case n.Wn.LOADING:return "loading";case n.Wn.CM:return "downloadfailed";case n.Wn.zza:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var a;a=this.byb();a?(this.state=n.Wn.LOADING,this.Cqb(a)):this.Wx=!1;};c.prototype.cd=function(){return this.state;};c.prototype.byb=function(){var a,b,c;a=this;b=Object.keys(this.Be).find(function(b){return (a.QY[a.Be[b]] || 0) <= h.config.ASb;});if(b){c=this.Be[b];(c in this.QY)?this.QY[c]++:this.QY[c]=1;return {url:c,yz:b};}};c.prototype.Cqb=function(a){this.log.trace("Downloading",a.url,this.sh);a={responseType:f.JQ,zc:this.tia(a.yz),url:a.url,track:this};this.j.g1.download(a,this.kKb);};c.prototype.tia=function(a){return this.j.ck.find(function(b){return b && b.id === a;});};b.eDa=c;},function(d,b,a){var g;function c(a,b,c,d){this.zga=a;this.debug=b;this.xa=c;this.j=d;this.p3=[];this.N2={};this.Cga={};this.Iha=!1;this.P_a=1;this.Cta=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.hva=void 0;g=a(4);a(14);a(15);a(68);c.prototype.register=function(a,b){this.debug.assert(!(0 <= this.p3.indexOf(a)),"panel already registered");this.N2[a]=b;this.p3.push(a);};c.prototype.EUa=function(a){var b;b=this;this.Cga[a]=!0;this.Iha || (this.Iha=!0,setTimeout(function(){return b.qtb();},0));};c.prototype.uwb=function(a){return (a=this.N2[a])?a():void 0;};c.prototype.s0=function(){var a;a=this.j.A3;return a?a.s0():[];};c.prototype.addEventListener=function(a,b){this.zga.addListener(a,b);this.N2[a] && this.EUa(a);};c.prototype.removeEventListener=function(a,b){this.zga.removeListener(a,b);};c.prototype.getTime=function(){return this.xa.zb().ba(g.fa);};c.prototype.qtb=function(){this.Iha=!1;for(var a=this.p3.length,b;a--;){b=this.p3[a];this.Cga[b] && (this.Cga[b]=!1,this.zga.cc(b + "changed",{getModel:this.N2[b]}));}};b.hva=c;},function(d,b,a){var g,h,m,f,n,l,p;function c(a,b){var c;c=this;this.kl=a;this.Wp=b;this.y0a=function(a){var b,d,f,g,h,k;b=c.P_a++;d=a.request.uD || "dl";f=c.zPa(d,"start");if(f){g=a.request.mq.stream.O.ml;if(g && !c.n_a.has(g)){h=c.WOa(g);k=a.ks;c.kl.mark(f,h,k?d + "-" + k + "-" + b:d);a.kda(function(){var a,f;a=c.zPa(d,"end");f=k?d + "-" + k + "-" + b:d;a && c.kl.mark(a,h,f);});}}};this.P_a=0;this.n_a=new Set();this.hqa=new Map();b.UP && this.WUb();}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;d=a(0);g=a(1);h=a(67);m=a(66);f=a(4);n=a(68);a=a(35);l={start:{video:h.Ea.BU,audio:h.Ea.xU},end:{video:h.Ea.AU,audio:h.Ea.wU}};c.prototype.XOa=function(a){var c,d,g,k,l,m,n,q;function b(b){return f.timestamp(c.oHa(f.timestamp(b),a,!0));}c=this;d=new Set();g=a.Ed;k=a.kQb;l=a.ea;m=a.Ba;n=this.kl.KOa(l);q=m && this.WOa(m);q && n.push.apply(n,[].concat(ea(this.kl.KOa(q))));this.kl.LXa(a.ea);q && this.kl.LXa(q);m && this.n_a.add(m);m=[];("pr_ats" in g) && m.push({name:h.Ea.nW,Vu:b(g.pr_ats),ea:l,Wk:"request-pre-manifest"});("ats" in g) && m.push({name:h.Ea.lW,Vu:b(g.ats),ea:l,Wk:"request-manifest"});("pr_at" in g) && m.push({name:h.Ea.mW,Vu:b(g.pr_at),ea:l,Wk:"request-pre-manifest"});("at" in g) && m.push({name:h.Ea.kW,Vu:b(g.at),ea:l,Wk:"request-manifest"});("lg" in g) && m.push({name:h.Ea.jW,Vu:b(g.lg),ea:l,Wk:"request-license"});("lr" in g) && m.push({name:h.Ea.iW,Vu:b(g.lr),ea:l,Wk:"request-license"});("tt_start" in g) && m.push({name:h.Ea.zU,Vu:b(g.tt_start),ea:l,Wk:"request-timed-text"});("tt_comp" in g) && m.push({name:h.Ea.yU,Vu:b(g.tt_comp),ea:l,Wk:"request-timed-text"});return m.concat(n).map(function(b){return c.YRb(b,a);}).filter(function(a){return a.timestamp <= k?("end" === a.step && d.add(a.eventId),!0):!1;}).filter(function(a){return "start" !== a.step || d.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.timestamp - b.timestamp;});};c.prototype.Wgb=function(a,b,c){return (void 0 === c?0:c)?a.ba(f.fa) + b.zk.ba(f.fa):a.ba(f.fa) - b.zk.ba(f.fa);};c.prototype.oHa=function(a,b,c){c=void 0 === c?!1:c;if(b.yl)if(c)a.ba(f.fa) + b.yl;else return a.ba(f.fa) - b.yl;return this.Wgb(a,b,c);};c.prototype.YRb=function(a,b){var c;c=a.name;return {eventName:c,eventId:a.Wk || c,timestamp:this.oHa(a.Vu,b),component:this.mQ(c),category:this.Sub(c),step:this.Gxb(c)};};c.prototype.mQ=function(a){switch(a){case h.Ea.nW:case h.Ea.mW:case h.Ea.lW:case h.Ea.kW:return "manifest";case h.Ea.jW:case h.Ea.iW:case h.Ea.caa:case h.Ea.baa:case h.Ea.WU:case h.Ea.VU:case h.Ea.l6:case h.Ea.k6:return "license";case h.Ea.zU:case h.Ea.yU:case h.Ea.xU:case h.Ea.wU:case h.Ea.BU:case h.Ea.AU:case h.Ea.j6:case h.Ea.i6:return "buffering";case h.Ea.L9:case h.Ea.K9:return "playback";default:return null;}};c.prototype.Sub=function(a){switch(a){case h.Ea.nW:case h.Ea.mW:case h.Ea.lW:case h.Ea.kW:return "aws";case h.Ea.jW:case h.Ea.iW:return "mixed";case h.Ea.L9:case h.Ea.K9:case h.Ea.caa:case h.Ea.baa:case h.Ea.WU:case h.Ea.VU:case h.Ea.l6:case h.Ea.k6:case h.Ea.j6:case h.Ea.i6:return "dev";case h.Ea.zU:case h.Ea.yU:case h.Ea.xU:case h.Ea.wU:case h.Ea.BU:case h.Ea.AU:return "cdn";default:return null;}};c.prototype.Gxb=function(a){switch(a){case h.Ea.nW:case h.Ea.L9:case h.Ea.lW:case h.Ea.jW:case h.Ea.j6:case h.Ea.zU:case h.Ea.xU:case h.Ea.BU:case h.Ea.caa:case h.Ea.WU:case h.Ea.l6:return "start";case h.Ea.mW:case h.Ea.K9:case h.Ea.kW:case h.Ea.iW:case h.Ea.baa:case h.Ea.VU:case h.Ea.k6:case h.Ea.i6:case h.Ea.yU:case h.Ea.wU:case h.Ea.AU:return "end";default:return null;}};c.prototype.zPa=function(a,b){if((a in l[b]))return l[b][a];};c.prototype.ZSb=function(){n.cf.removeEventListener(n.d1,this.y0a);};c.prototype.WUb=function(){this.ZSb();n.cf.addEventListener(n.d1,this.y0a);};c.prototype.WOa=function(a){var b;if(this.hqa.has(a))return this.hqa.get(a);b=Date.now();this.hqa.set(a,b);return b;};p=c;p=d.__decorate([g.N(),d.__param(0,g.l(m.jG)),d.__param(1,g.l(a.Dl))],p);b.Yya=p;},function(d,b,a){var c,g,h,m,f,n,l,p,t,r,z,y,B,L,I,E,F,W,R,M,D,N,O,P,T,Q,V,X,ga,ba,S,ea,fa,ha,ja,ia;Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;d=a(1);c=a(447);g=a(1138);h=a(127);m=a(1139);f=a(460);n=a(1140);l=a(463);p=a(1141);t=a(464);r=a(1142);z=a(261);y=a(1143);B=a(75);L=a(1144);I=a(1145);E=a(43);F=a(2);W=a(1146);R=a(1147);M=a(1148);D=a(49);N=a(1149);O=a(271);P=a(1150);T=a(1151);Q=a(1152);V=a(443);X=a(1153);ga=a(1154);ba=a(1155);S=a(337);ea=a(1156);fa=a(81);ha=a(513);ja=a(1157);ia=a(1158);b.SJa=new d.Pc(function(a){a(D.Mk).to(N.Uza);a(c.d$).to(g.bAa);a(O.WV).to(P.Rza);a(V.U9).to(X.Sza);a(T.fAa).to(Q.eAa);a(h.ZV).to(m.cAa);a(ha.e$).cy(function(a){var b;b=a.gb.get(fa.Zs);return b && b.I1a?a.gb.resolve(ia.qAa):a.gb.resolve(ja.dAa);});a(f.T9).to(n.Qza);a(l.j$).to(p.oAa);a(t.a$).to(r.Zza);a(z.YV).to(y.$za);a(B.naa).to(L.vCa);a(B.paa).to(I.yCa);a(B.G8).to(W.xxa);a(B.laa).to(R.sCa);a(B.F7).to(M.Tva);a(ba.hAa).to(ga.gAa);a(S.Z9).to(ea.Yza);a(B.SU).zf(function(a){return function(b){switch(b){case B.Bm.start:return a.gb.get(B.naa);case B.Bm.stop:return a.gb.get(B.paa);case B.Bm.ZQ:return a.gb.get(B.G8);case B.Bm.splice:return a.gb.get(B.laa);case B.Bm.XP:return a.gb.get(B.F7);}throw new E.Dc(F.L.d9a,void 0,void 0,void 0,void 0,"The event key was invalid - " + b);};});});},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.P7a,1,m.Eh.uSa,m.Hg.gG,m.Eh.uSa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bAa=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(a,b){var c;c=this;return this.send(a,"/" + this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.Zl(a);});};c.prototype.Go=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.bAa=n;},function(d,b,a){var g,h,m,f,n,l,p,t,r,z,y;function c(a,b,c,d,g){a=f.Ch.call(this,a,h.L.MANIFEST,3,m.Eh.ta,m.Hg.Ps,m.Eh.ta) || this;a.platform=b;a.lma=c;a.jCb=d;a.zDb=g;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=void 0;d=a(0);g=a(127);h=a(2);m=a(45);a(179);f=a(71);n=a(49);l=a(32);p=a(35);t=a(165);r=a(261);z=a(1);a=a(513);N(c,f.Ch);c.prototype.Le=function(a,b){var c,d;c=this;this.UX=b.yr === g.qj.OM?"prefetch/manifest":m.Eh.ta;d=b.yr === g.qj.rW?p.Vs.bBa:p.Vs.WM;return this.zDb.transform(b,d).then(function(f){var g,h;f=T(f);g=f.next().value;h=f.next().value;!1;h.Zt && (c.UX="licensedManifest");return c.send(a,h.dk,g,void 0,c.lxb(b.yr),void 0,d).then(function(a){var b;a=c.lma.create(a.result);b=a.Tc.Fs.map(function(a){return a.Yi;}).filter(Boolean);h.Zt && (0 < b.length?(b=c.jCb.D0a(b),h.Zt.YGa(b),a.Zt=h.Zt):h.Zt.close().subscribe());!1;return a;});})["catch"](function(a){!1;throw c.Zl(a);});};c.prototype.Go=function(){return Promise.reject(Error("Links are not supported with manifest command"));};c.prototype.lxb=function(a){switch(a){case g.qj.Fl:case g.qj.r5a:return m.Hg.Ps;case g.qj.U$:case g.qj.rW:return m.Hg.o9;case g.qj.OM:return m.Hg.gG;}};y=c;y=d.__decorate([z.N(),d.__param(0,z.l(n.Mk)),d.__param(1,z.l(l.sj)),d.__param(2,z.l(t.iG)),d.__param(3,z.l(r.YV)),d.__param(4,z.l(a.e$))],y);b.cAa=y;},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.JB,3,m.Eh.Yi,m.Hg.Ps,m.Eh.Yi) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Go=function(a,b,c){var d,f;d=this;b=b.sQ(c.Nla).href;f="license" === c.Nla?m.Hg.Ps:m.Hg.gG;this.UX="ldl" === c.Nla?"prefetch/license":m.Eh.Yi;return this.send(a,b,c.inputs,"drmSessionId",f).then(function(a){a=a.result;d.uJa(a);d.vkb(a);return a;})["catch"](function(a){throw d.Zl(a);});};c.prototype.vkb=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.Qza=n;},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.l$a,3,m.Eh.Yi,m.Hg.o9,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.uJa(a);return a;})["catch"](function(a){throw c.Zl(a);});};c.prototype.Go=function(){return Promise.reject(Error("Links are unsupported with release"));};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.oAa=n;},function(d,b,a){var g,h,m;function c(a){this.wa=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=void 0;d=a(0);g=a(1);h=a(34);m=a(4);c.prototype.rSb=function(a){var b;b=this.wa.ve.ba(m.Em);return {inputs:a.Ti.map(function(c){return {drmSessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ea.toString(),mdxControllerEsn:a.xR};}),Nla:"standard" === a.Zi.toLowerCase()?"license":"ldl"};};c.prototype.uSb=function(a){var b,c,d,f;b=this;c=a.xNb || ({});d=[];f=a.jc.map(function(f){var g;d.push(f.id);g=c[f.id];delete c[f.id];return {url:b.UIa(f.lA,f.CJ),echo:"drmSessionId",params:{drmSessionId:f.id,secureStop:g,secureStopId:g?f.CJ:void 0,xid:a.ea.toString()}};});Object.entries(c).forEach(function(c){var d;d=T(c);c=d.next().value;d=d.next().value;f.push({url:b.UIa(a.jc[0].lA),echo:"drmSessionId",params:{drmSessionId:c,secureStop:d,secureStopId:void 0,xid:a.ea.toString()}});});return f;};c.prototype.UIa=function(a,b){return "/releaseLicense?drmLicenseContextId=" + a + (b?"&licenseId=" + b:"");};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(h.Vg))],a);b.Zza=a;},function(d,b,a){var g,h,m;function c(a,b){this.wd=a;this.ar=b;}Object.defineProperty(b,"__esModule",{value:!0});b.$za=void 0;d=a(0);g=a(1);h=a(26);a=a(41);c.prototype.D0a=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.wd.fS(a.substring(a.indexOf("?") + 1));});return {ia:!0,jc:a.map(function(a,b){return {id:a.drmSessionId,lA:c[b].drmlicensecontextid,CJ:c[b].licenseid};}),dn:a.map(function(a){return {data:b.ar.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};c.prototype.vSb=function(a){return {ia:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.drmSessionId) && c && (a[b]=c);return a;},{})}};};m=c;m=d.__decorate([g.N(),d.__param(0,g.l(h.Df)),d.__param(1,g.l(a.Di))],m);b.$za=m;},function(d,b,a){var g,h,m,f,n,l;function c(a){return m.lp.call(this,a,h.L.y$a,f.Bm.start,3,l.Hg.Ps) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;d=a(0);g=a(1);h=a(2);m=a(148);f=a(75);n=a(49);l=a(45);N(c,m.lp);a=c;a=d.__decorate([g.N(),d.__param(0,g.l(n.Mk))],a);b.vCa=a;},function(d,b,a){var g,h,m,f,n,l;function c(a){return m.lp.call(this,a,h.L.OBa,f.Bm.stop,3,l.Hg.o9) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;d=a(0);g=a(1);h=a(2);m=a(148);f=a(75);n=a(49);l=a(45);N(c,m.lp);a=c;a=d.__decorate([g.N(),d.__param(0,g.l(n.Mk))],a);b.yCa=a;},function(d,b,a){var g,h,m,f,n,l;function c(a){return m.lp.call(this,a,h.L.F8,f.Bm.ZQ,1,l.Hg.gG) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;d=a(0);g=a(1);h=a(2);m=a(148);f=a(75);n=a(49);l=a(45);N(c,m.lp);a=c;a=d.__decorate([g.N(),d.__param(0,g.l(n.Mk))],a);b.xxa=a;},function(d,b,a){var g,h,m,f,n,l;function c(a){return m.lp.call(this,a,h.L.MBa,f.Bm.splice,1,l.Hg.gG) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;d=a(0);g=a(1);h=a(2);m=a(148);f=a(75);n=a(49);l=a(45);N(c,m.lp);a=c;a=d.__decorate([g.N(),d.__param(0,g.l(n.Mk))],a);b.sCa=a;},function(d,b,a){var g,h,m,f,n,l;function c(a){return m.lp.call(this,a,h.L.S5a,f.Bm.XP,3,l.Hg.gG) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Tva=void 0;d=a(0);g=a(1);h=a(2);m=a(148);f=a(75);n=a(49);l=a(45);N(c,m.lp);c.prototype.ZY=function(a){return Object.assign(Object.assign({},m.lp.prototype.ZY.call(this,a)),{action:a.action});};a=c;a=d.__decorate([g.N(),d.__param(0,g.l(n.Mk))],a);b.Tva=a;},function(d,b,a){var g,h,m,f,n,l,p,t,r;function c(a,b,c,d,f,g,h,k,l){this.kf=a;this.cf=b;this.cj=c;this.oqb=d;this.VD=f;this.PTb=g;this.fga=h;this.pMb=k;this.Fz=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Uza=void 0;d=a(0);g=a(1);h=a(113);m=a(81);f=a(483);n=a(480);l=a(87);p=a(109);t=a(325);r=a(88);a=a(80);c=d.__decorate([g.N(),d.__param(0,g.l(h.oB)),d.__param(1,g.l(p.uy)),d.__param(2,g.l(m.Zs)),d.__param(3,g.l(n.W9)),d.__param(4,g.l(l.qv)),d.__param(5,g.l(t.Iaa)),d.__param(6,g.l(r.iM)),d.__param(7,g.l(f.k$)),d.__param(8,g.l(a.Ms))],c);b.Uza=c;},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.h3a,2,m.Eh.bind,m.Hg.Ps,m.Eh.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Rza=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.Zl(a);});};c.prototype.Go=function(){return Promise.reject(Error("Links are unsupported with bind"));};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.Rza=n;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;b.fAa="PboPairCommandSymbol";},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.W8a,2,m.Eh.qVa,m.Hg.Ps,m.Eh.qVa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.Zl(a);});};c.prototype.Go=function(){return Promise.reject(Error("Links are unsupported with pair"));};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.eAa=n;},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.i3a,2,m.Eh.bind,m.Hg.Ps,m.Eh.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Sza=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(a,b,c){var d;d=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.Zl(a);});};c.prototype.Go=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.Sza=n;},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.o9a,1,m.Eh.ping,m.Hg.Ps,m.Eh.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.Zl(a);});};c.prototype.Go=function(){return Promise.reject(Error("Links are unsupported with ping"));};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.gAa=n;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hAa=void 0;b.hAa="PboPingCommandSymbol";},function(d,b,a){var g,h,m,f,n;function c(a){return f.Ch.call(this,a,h.L.l6a,2,m.Eh.ta,m.Hg.Ps,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;d=a(0);g=a(1);h=a(2);m=a(45);f=a(71);a=a(49);N(c,f.Ch);c.prototype.Le=function(a,b){var c;c=this;return this.send(a,"/generateScreenshots",b).then(function(a){return a.result;})["catch"](function(a){throw c.Zl(a);});};c.prototype.Go=function(a,b,c){var d;d=this;return this.send(a,b.sQ("generateScreenshots").href,c).then(function(a){return a.result;})["catch"](function(a){throw d.Zl(a);});};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(a.Mk))],n);b.Yza=n;},function(d,b,a){var g,h,m,f,n,l,p,t,r,z,y,B,L,I;function c(a,b,c,d,f,g,h,k,l,m){this.cj=a;this.platform=b;this.config=c;this.dkb=d;this.WIb=f;this.hm=g;this.gP=h;this.wa=k;this.x2=l;this.Vl=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dAa=void 0;d=a(0);g=a(1);h=a(127);m=a(13);f=a(224);n=a(357);l=a(511);p=a(98);t=a(32);r=a(34);z=a(4);y=a(150);B=a(81);L=a(327);a=a(30);c.prototype.transform=function(a,b){var c,d,g,k,l,m,n,q,p,t;c=this;k=a.Ta;l=Object.assign({},k.RO,k.um);m={};n=a.la;m[n]={unletterboxed:! !l.preferUnletterboxed};q=this.config();p=q.aUb?30:25;t=q.Fn?this.hm.xvb():Promise.resolve(this.x2.Br());q=null === (g=null === (d=q.U0a) || void 0 === d?void 0:d[null === k || void 0 === k?void 0:k.Nd]) || void 0 === g?void 0:g.GF;return Promise.all([this.Vl.rPa(),this.Vl.tPa(q),this.Vl.VI(),this.Vl.wQ(),this.Tub(a.ea,b),this.Bvb(a),t]).then(function(b){var d,g,q,t,r,u;d=T(b);g=d.next().value;q=d.next().value;t=d.next().value;r=d.next().value;u=d.next().value;b=d.next().value;d=d.next().value;g=(g || []).concat(q || []).concat(c.config().Xu).concat(["BIF240","BIF320"]).filter(Boolean);q=r && void 0 !== r.SUPPORTS_SECURE_STOP?! !r.SUPPORTS_SECURE_STOP:void 0;r=r?r.DEVICE_SECURITY_LEVEL:void 0;t={type:"standard",viewableId:n,profiles:g,flavor:a.yr,drmType:d,drmVersion:p,usePsshBox:!0,isBranching:! !a.Ta.mk,useHttpsStreams:!0,supportsUnequalizedDownloadables:c.config().mRb,imageSubtitleHeight:f.xW.gja(),uiVersion:c.cj.gy,uiPlatform:c.cj.G5,clientVersion:c.platform.version,supportsPreReleasePin:c.config().qr.iRb,supportsWatermark:c.config().qr.jRb,showAllSubDubTracks:c.config().qr.JPb || ! !l.showAllSubDubTracks,packageId:c.Nwb(k),deviceSupportsSecureStop:q,deviceSecurityLevel:r,videoOutputInfo:t,titleSpecificData:m,preferAssistiveAudio:! !l.assistiveAudioPreferred,preferredTextLocale:l.preferredTextLocale,preferredAudioLocale:l.preferredAudioLocale,isUIAutoPlay:! !l.isUIAutoPlay,challenge:u,isNonMember:c.cj.G1,pin:k.SVa,desiredVmaf:c.config().VTb?c.config().Rpb:c.config().Spb};k.HMa && (t.extraParams=k.HMa);u={dk:b?"licensedManifest":"manifest",Zt:null === b || void 0 === b?void 0:b.Cb};b && (b={drmSessionId:b.Cb.Tw() || "session",clientTime:c.wa.N4.ba(z.Em),challengeBase64:b.Sea},t.challenges={"default":[b]},t.profileGroups=[{name:"default",profiles:g}],t.licenseType=a.yr === h.qj.OM && c.cj.A1a?"limited":"standard",a.ea && (t.xid=a.ea.toString()));c.cj.jMa && a.yr === h.qj.rW && (t.maxSupportedLanguages=2);return [t,u];});};c.prototype.Nwb=function(a){if(this.config().U3.enabled){if(void 0 !== a.Wo)return a.Wo;if(void 0 !== this.config().U3.Wo)return Number(this.config().U3.Wo);}};c.prototype.Tub=function(a,b){var c;c=this;return this.dkb.SNa(b).then(function(b){var d;d=a && c.WIb.Twb(a);d && d.no("cad");return b;});};c.prototype.Bvb=function(a){var b,c,d;b=a.yr === h.qj.Fl || a.yr === h.qj.U$;a=a.yr === h.qj.OM;c=this.config().Fn && this.cj.QJa;d=this.config().Fn && this.cj.$ga;return b && c || a && d?this.gP.qja():Promise.resolve(void 0);};I=c;I=d.__decorate([g.N(),d.__param(0,g.l(B.Zs)),d.__param(1,g.l(t.sj)),d.__param(2,g.l(m.Oc)),d.__param(3,g.l(n.L6)),d.__param(4,g.l(l.dW)),d.__param(5,g.l(p.tv)),d.__param(6,g.l(y.cM)),d.__param(7,g.l(r.Vg)),d.__param(8,g.l(L.CV)),d.__param(9,g.l(a.BB))],I);b.dAa=I;},function(d,b,a){var g,h,m,f,n;function c(a,b,c,d){this.platform=a;this.config=b;this.gP=c;this.Vl=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;d=a(0);g=a(1);h=a(13);m=a(32);f=a(150);a=a(30);c.prototype.transform=function(a){var b,c;b=this;c=a.Ta;return Promise.all([this.Vl.rPa(),this.Vl.tPa(),this.gP.qja()]).then(function(d){var f,g;f=T(d);d=f.next().value;g=f.next().value;f=f.next().value;return [{viewableId:a.la,packageId:c.Wo,assetId:c.Uda,challenge:f.Sea,audioProfiles:d,textProfiles:b.config().Xu,trickplayProfiles:["BIF240","BIF320"],videoProfiles:g,audioLanguages:c.fib,textLanguages:c.CRb},{Zt:null === f || void 0 === f?void 0:f.Cb,dk:"studioManifest"}];});};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(m.sj)),d.__param(1,g.l(h.Oc)),d.__param(2,g.l(f.cM)),d.__param(3,g.l(a.BB))],n);b.qAa=n;},function(d,b,a){var c,g,h,m,f,n;Object.defineProperty(b,"__esModule",{value:!0});b.K0a=void 0;d=a(1);c=a(220);g=a(481);h=a(1160);m=a(1161);f=a(1162);n=a(35);b.K0a=new d.Pc(function(a){a(c.hN).to(f.cDa).Z();a(g.w9).to(h.cza);a(g.maa).to(m.tCa);a(g.Caa).zf(function(a){return function(b){var d;return a.gb.get(c.hN).X4(null !== (d=null === b || void 0 === b?void 0:b.tFb) && void 0 !== d?d:n.Vs.WM)?a.gb.get(g.w9):a.gb.get(g.maa);};});});},function(d,b,a){var g,h,m,f,n,l,p;function c(a,b,c,d){var f;f=this;this.AA=b;this.receiver=c;this.profile=d;this.log=a.ob("MslTransport");this.AA().then(function(a){return f.WTa=a;});}Object.defineProperty(b,"__esModule",{value:!0});b.cza=void 0;d=a(0);g=a(1);h=a(6);m=a(161);f=a(4);n=a(186);a=a(97);l={license:!0};c.prototype.send=function(a,b){var c,d;c=this;d={XTa:Object.assign({cf:a.cf,log:a.log,profile:this.profile},a.Rib),method:a.dk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ba(f.fa),gUb:this.profile,P5b:!l[a.dk],PFb:! !l[a.dk],hk:!0,t4:a.Npa,headers:a.headers};!1;return this.AA().then(function(f){return f.send(d).then(function(d){c.receiver.xK({command:a.dk,inputs:b,outputs:d});return d;})["catch"](function(d){var f;if(!d.error)throw (d.pd=d.ja || d.pd,c.receiver.xK({command:a.dk,inputs:b,outputs:d}),d);f=d.error;f.UA=d.UA;c.log.error("Error sending MSL request",{mslCode:f.wu,subCode:f.pd,data:f.data,message:f.message});c.receiver.xK({command:a.dk,inputs:b,outputs:f});throw f;});});};c.prototype.Bfa=function(){var a;return {userTokens:null === (a=this.WTa) || void 0 === a?void 0:a.Q2.getUserIdTokenKeys()};};p=c;p=d.__decorate([g.N(),d.__param(0,g.l(h.xb)),d.__param(1,g.l(m.FM)),d.__param(2,g.l(n.QM)),d.__param(3,g.l(a.XM))],p);b.cza=p;},function(d,b,a){var g,h,m,f,n;function c(a,b,c){this.receiver=b;this.cf=c;this.log=a.ob("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;d=a(0);g=a(1);h=a(4);m=a(6);f=a(186);a=a(109);c.prototype.send=function(a,b){var c,d;c=this;d={url:a.url.href,uD:"nq-" + a.dk,yoa:JSON.stringify(b),qZ:a.timeout.ba(h.fa),headers:a.headers,withCredentials:!0};!1;return new Promise(function(a,b){c.cf.download(d,function(c){c.ia?a(c):b(c);});}).then(function(d){d={status:"success",body:d.content};c.receiver.xK({command:a.dk,inputs:b,outputs:d});return d;})["catch"](function(d){var f;if(!d.error)throw (d.pd=d.ja || d.pd,c.receiver.xK({command:a.dk,inputs:b,outputs:d}),d);f=d.error;f.UA=d.UA;c.log.error("Error sending SSL request",{subCode:f.pd,data:f.content,message:f.message});c.receiver.xK({command:a.dk,inputs:b,outputs:f});throw f;});};c.prototype.Bfa=function(){return {};};n=c;n=d.__decorate([g.N(),d.__param(0,g.l(m.xb)),d.__param(1,g.l(f.QM)),d.__param(2,g.l(a.uy))],n);b.tCa=n;},function(d,b,a){var g,h,m,f,n;function c(a){return h.pe.call(this,a,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;d=a(0);g=a(1);h=a(44);m=a(31);f=a(42);n=a(35);N(c,h.pe);c.prototype.X4=function(a){var b,c;b=this.K1a;c=this.vHa;switch(a){case n.Vs.WM:return b;case n.Vs.bBa:return b && !c;case n.Vs.N8a:return !1;}};pa.Object.defineProperties(c.prototype,{K1a:{configurable:!0,enumerable:!0,get:function(){return !0;}},vHa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;d.__decorate([f.config(f.Gc,"usesMsl")],a.prototype,"K1a",null);d.__decorate([f.config(f.Gc,"allowRequestsWithoutMsl")],a.prototype,"vHa",null);a=d.__decorate([g.N(),d.__param(0,g.l(m.tj))],a);b.cDa=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.nk=void 0;d=a(1);c=a(497);g=a(1164);b.nk=new d.Pc(function(a){a(c.K8).to(g.Jxa);});},function(d,b,a){var g,h,m,f,n,l,p,t;function c(a,b,c,d,f){this.xD=a;this.Lf=b;this.config=c;this.uA=d;this.pc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Jxa=void 0;d=a(0);g=a(1);h=a(111);m=a(1165);f=a(1166);n=a(53);l=a(13);p=a(112);a=a(82);c.prototype.create=function(a,b,c){return a?new m.Kxa(this.config(),this.Lf,this.pc,b,c,this.xD,this.uA()):new f.Gxa(this.config,this.pc,b,c);};t=c;t=d.__decorate([g.N(),d.__param(0,g.l(h.lM)),d.__param(1,g.l(n.zm)),d.__param(2,g.l(l.Oc)),d.__param(3,g.l(p.PB)),d.__param(4,g.l(a.kt))],t);b.Jxa=t;},function(d,b,a){var g,h,m,f,n,l,p,t,r,z;function c(a,b,c,d,f,g,k){d=t.$L.call(this,d,f) || this;d.config=a;d.Lf=b;d.pc=c;d.xD=g;d.AR=k;d.log=h.Pg(d.j,"LicenseBroker");d.gR=new Set();d.Kma=!1;return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Kxa=void 0;d=a(0);g=a(2);h=a(7);m=a(11);f=a(315);n=a(4);l=a(1);p=a(266);t=a(514);r=a(74);z=a(14);N(c,t.$L);c.prototype.Lna=function(){var a,b,c;a=this;c=this.j.ga;this.gR.has(c.u) || (this.gR.add(c.u),((null === (b=c.ta) || void 0 === b?0:b.Zt)?this.uhb(c,c.ta.Zt):this.config.AI && this.config.ds?this.vhb(c):Promise.reject())["catch"](function(){return a.aYa(c);}).then(function(){return a.MHa(c);})["catch"](function(b){return a.LHa(c,b);})["catch"](function(b){return a.sd(b.code,b,b.Og);}));};c.prototype.vhb=function(a){var b;b=this;return this.pc.ONa(a.u).then(function(c){return b.Mda(c,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};c.prototype.uhb=function(a,b){var c;c=this;return this.xD().then(function(d){var f;f=c.FOa(a);d.QTa(f,b);d.BJ().subscribe(c.TNa(a));return c.Mda(b,a,"manifest");});};c.prototype.Mda=function(a,b,c){this.KWa(a,b);b.wz=c;this.AR.bF(a.im);return a.Nda().As();};c.prototype.Jtb=function(a){var b;b={};a.forEach(function(a){b[f.MLa(a.REb)]=a.time.ba(n.fa);});return b;};c.prototype.KWa=function(a,b){var c,d;c=this;b.Td=a;null === (d=a.bu()) || void 0 === d?void 0:d.subscribe(function(a){c.sd(a.code,a,a.Og);});};c.prototype.MHa=function(a){var b;this.log.info("Successfully applied license for xid: " + a.ea + ", viewable: " + a.u + ", segment: " + a.Ba);b=a.Td;(null === b || void 0 === b?0:b.Kla) && this.Q0(b.Kla);this.cx(a);this.Kma?this.I_(a.u):this.bF(a);};c.prototype.LHa=function(a,b){this.cx(a);throw b;};c.prototype.cx=function(a){a.Td && a.cx(this.Jtb(a.Td.Ed));};c.prototype.TNa=function(a){var b;b=this;return {next:function(c){b.gR.add(a.u);b.Q0(c);},error:m.$g,complete:m.$g};};c.prototype.FOa=function(a){var b;return {type:this.Pia(),iJ:a.js.map(function(a){return h.lw(a);}),context:{ke:this.config.ke,oa:this.Gb.oa,fs:null === (b=a.Fg.value) || void 0 === b?void 0:b.fs},xg:{u:a.u,ea:a.ea,yg:a.yg,Yk:a.Yk,$i:a.ta.$i}};};c.prototype.aYa=function(a){var b;b=this;return this.xD().then(function(c){var d;d=b.FOa(a);c.BJ().subscribe(b.TNa(a));return c.Yi(d,b.AR).eu(function(c){b.KWa(c,a);b.j.fireEvent(z.V.EJ,{u:a.u});return c.Nda();}).As();});};c.prototype.bF=function(a){var b;b=this;if(this.Kma)this.log.trace("Media Keys already set");else try{this.Gb.oa?this.Gb.oa.setMediaKeys(a.Td.im).then(function(){b.I_(a.u);b.Kma=!0;})["catch"](function(a){a=b.EPa(a);b.sd(g.L.Q9,a,a.Ke);}):this.I_(a.u);}catch(L){this.sd(g.L.Q9,L,void 0);}};c.prototype.PVa=function(){var a,b;a=this;b=this.j.ga.Td;return b?this.xD().then(function(c){return c.AQb(b,a.AR).eu(function(a){return a.NHa();}).eu(function(b){a.log.trace("Fulfilled the last secure stop");a.Lf.Nj && a.j.hq.B4({success:!0,persisted:!1});return b.close();}).As()["catch"](function(b){a.log.error("Unable to get/add secure stop data",b);a.Lf.Nj && a.j.hq.B4({success:b.ia,ErrorCode:b.code,ErrorSubCode:b.pd,ErrorExternalCode:b.Og,ErrorEdgeCode:b.wI,ErrorDetails:b.Yt});});}):Promise.resolve();};c.prototype.$Xa=function(a){var b;a=void 0 === a?this.j:a;b=this;return this.aYa(a).then(function(){return b.MHa(a);})["catch"](function(c){return b.LHa(a,c);});};c.prototype.Pia=function(){return this.Lf.eQ?r.Fi.ty:r.Fi.Fl;};pa.Object.defineProperties(c.prototype,{uE:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},ke:{configurable:!0,enumerable:!0,get:function(){return this.config.ke;}}});a=c;d.__decorate([p.dR],a.prototype,"uE",null);a=d.__decorate([l.N()],a);b.Kxa=a;},function(d,b,a){var g,h,m,f,n,l,p,t,r,z,y;function c(a,b,c,d){c=r.$L.call(this,c,d) || this;c.config=a;c.pc=b;c.log=h.Pg(c.j,"LegacyLicenseBroker");c.ke=c.config().ke;c.config().Roa?f.rRa()?c.R5=!0:c.log.error("Promise based eme requested but platform does not support it",{browserua:n.Dm}):c.R5=!1;return c;}Object.defineProperty(b,"__esModule",{value:!0});b.Gxa=void 0;d=a(0);g=a(2);h=a(7);m=a(117);f=a(48);n=a(9);l=a(1);p=a(266);t=a(32);r=a(514);z=a(74);N(c,r.$L);c.prototype.wKa=function(a){var b;b=void 0 === b?this.j:b;return new this.nq.kv(a,function(a){return b.qP.Oia(a);},function(a){return b.qP.release(a);},{em:!1,UQ:!1});};c.prototype.oD=function(b,c){var d,f,k,l,n,q;c=void 0 === c?this.j:c;d=this;l=a(50).hi;this.nq.kv || this.sd(g.L.JB,g.K.K5a);k=h.Pg(c,"Eme");f=this.wKa(k);n=h.ha.get(m.dC);q=n.tP(c.Ad.value.wc);n=n.yP(c.Fg.value.wc);return this.nq.mv(k,b,function(a){return c.vd(a);},{em:!1,UQ:!1,uRa:this.config().Nj,QYa:{zTa:this.config().OYa,pJa:this.config().cqa},wa:{getTime:l},TA:f,RWa:! !this.R5,oa:this.Gb.oa,FF:this.config().Xga,onerror:function(a,b,c){return d.sd(a,b,c);},tna:function(a){return d.Q0(a);},VIb:!0,dIa:q,S1a:n,hJ:this.config().hJ});};c.prototype.bF=function(a){var b;b=this;return this.R5?new Promise(function(c,d){if(b.Gb.oa)b.Gb.oa.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.EPa(a);d({ia:!1,code:g.L.Q9,pd:c.ja,Og:c.Ke,ub:c.ub,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};c.prototype.AMa=function(a){return {code:a.code,subCode:a.pd,extCode:a.Og,edgeCode:a.wI,message:a.message,errorDetails:a.ub,errorData:a.q_,state:a.state};};c.prototype.zqa=function(a,b,c){var f,g,h;function d(){g.FS()["catch"](function(a){f.log.error("Unable to set the license",f.AMa(a));a.cause && a.cause.ub && (a.ub=a.ub?a.ub + a.cause.ub:a.cause.ub);f.sd(a.code,a,a.Og);});}c=void 0 === c?this.j:c;f=this;g=c.Td;this.log.info("Setting the license");h=b?function(){return Promise.resolve();}:function(){return g.Yi(f.Pia(),a);};return (b?function(){return g.Mda(f.Gb.oa);}:function(){return g.create(f.ke).then(function(){return Promise.resolve();});})().then(function(){return f.config().uZa?f.bF(g.im):Promise.resolve();}).then(h).then(function(){return f.config().uZa?Promise.resolve():f.bF(g.im);}).then(function(){f.log.info("license set");f.I_(c.u);f.Gb.f2a.then(function(){f.config().mA && (b || f.config().eQ) && (f.UXa=O.setTimeout(d,f.config().mA));});})["catch"](function(a){f.log.error("Unable to set the license",f.AMa(a));a.cause && a.cause.ub && (a.ub=a.ub?a.ub + a.cause.ub:a.cause.ub);if(b)throw Error(a && a.message?a.message:"failed to set license");f.sd(a.code,a,a.Og);});};c.prototype.PVa=function(){return Promise.resolve();};c.prototype.Lna=function(a){var c;function b(){var b;c.j.Td=c.oD(a.initDataType);b=[];c.j.js.forEach(function(a){b.push(h.lw(a));});c.zqa(b);}c=this;this.log.trace("Received event: " + a.type);this.gR || (this.gR=!0,this.nq.mv?this.j.js?(!1,this.config().AI && this.config().ds?this.pc.ONa(this.j.u).then(function(a){c.j.Td=a;return a.a7b.then(function(){var b;b=[];c.j.js.forEach(function(a){b.push(h.lw(a));});return c.zqa(b,!0).then(function(){var b;if(a.d2b)c.sd(g.L.N5a);else {b=h.Pg(c.j,"Eme");a.O6b({log:b,o5b:function(a){return c.j.vd(a);}},{TA:c.wKa(b),onerror:function(a,b,d){return c.sd(a,b,d);}});(b=a.z5b) && c.Q0(b);c.j.cx(a.Ed || ({}));c.j.wz="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b()):(this.log.error("Missing the PSSH on the video track, closing the player"),this.sd(g.L.z9a)):this.sd(g.L.JB,g.K.L5a));};c.prototype.$Xa=function(a){var b;a=void 0 === a?this.j:a;a.Td=this.oD("cenc");b=[];a.js.forEach(function(a){b.push(h.lw(a));});return this.zqa(b,!1,a);};c.prototype.Pia=function(){return this.config().eQ?z.Fi.ty:z.Fi.Fl;};pa.Object.defineProperties(c.prototype,{nq:{configurable:!0,enumerable:!0,get:function(){return h.ha.get(t.$s);}},uE:{configurable:!0,enumerable:!0,get:function(){return this.R5?"encrypted":this.Gb.D7 + "needkey";}}});y=c;d.__decorate([p.dR],y.prototype,"nq",null);d.__decorate([p.dR],y.prototype,"uE",null);y=d.__decorate([l.N()],y);b.Gxa=y;},function(d,b,a){var c,g,h,m,f,n,l,p,t,r;Object.defineProperty(b,"__esModule",{value:!0});b.uf=void 0;d=a(1);c=a(515);g=a(1168);h=a(518);m=a(1176);f=a(276);n=a(1177);l=a(1178);p=a(146);t=a(517);r=a(1179);b.uf=new d.Pc(function(a){a(c.F$).to(g.QAa).Z();a(h.H$).to(m.ZAa).Z();a(f.VM).to(n.PAa).Z();a(p.vG).to(l.OAa).Z();a(t.G$).to(r.UAa).Z();});},function(d,b,a){var g,h,m,f,n,l,p,t,r;function c(a,b,c,d,f,g,h){this.sf=a;this.tha=b;this.pi=c;this.mS=d;this.Lra=f;this.hJb=g;this.VD=h;}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;d=a(0);g=a(1);h=a(1169);m=a(6);f=a(146);n=a(328);l=a(517);p=a(276);t=a(335);a=a(87);c.prototype.create=function(a){return new h.RAa(a,this.sf,this.tha,this.mS,this.pi,this.Lra,this.hJb,this.VD);};r=c;r=d.__decorate([g.N(),d.__param(0,g.l(m.xb)),d.__param(1,g.l(n.VF)),d.__param(2,g.l(f.vG)),d.__param(3,g.l(p.VM)),d.__param(4,g.l(t.Baa)),d.__param(5,g.l(l.G$)),d.__param(6,g.l(a.qv))],r);b.QAa=r;},function(d,b,a){var g,h,m,f,n,l;function c(a,b,c,d,g,h,k,q){this.mS=d;this.Lra=h;this.cQ=!1;this.Nx=q.Bz();g.Q5 && (a=new n.SAa().tSb(a));this.Cc=new f.YAa(a);this.Bl=new m.$Aa(this.Cc);this.Bl.pZa(this.Cc.ga.la);this.log=b.ob("PlaygraphManager");a=new l.VAa(g,this,this.Bl);this.Hb=c.create();this.Lx=k.create(this.Nx,this.Cc,this.Bl,this.log,a,this.Hb);this.lPb();}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;g=a(14);h=a(275);m=a(1170);f=a(1171);n=a(1174);l=a(1175);c.prototype.Wwb=function(){return this.Nx;};c.prototype.l0=function(){return this.Cc.ga;};c.prototype.ZNa=function(){return this.Cc.Mg;};c.prototype.Xwb=function(){return this.Cc.Ak;};c.prototype.yn=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}this.Cc.yn.apply(this.Cc,[].concat(ea(b)));};c.prototype.Wkb=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}this.Cc.ZHa(b);};c.prototype.pTb=function(a){this.Cc.Ak=a;};c.prototype.lj=function(a,b){this.Cc.lj(a,b);};c.prototype.Hja=function(a,b,c){if(a !== this.Cc.Mg)throw Error("Invalid currentSegmentId");if(b !== this.Cc.OD(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + a + " -> " + b);return this.Lx.IPa(b,c);};c.prototype.isReady=function(){return this.Lx.isReady();};c.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};c.prototype.Io=function(){return this.Lx.Io();};c.prototype.li=function(){return this.Lx.li();};c.prototype.Zq=function(a){var b,c;b=this;this.log.info("Adding segment - movieId: " + a.u + ", startPts: " + a.T + ", logicalEnd: " + ("" + a.Ij));if(!this.cQ){c=this.Lx.qS(a);this.li().hu().addEventListener(g.V.QK,function(a){return b.iK(a);});this.cQ=!0;return c;}if(c=Object.keys(this.Cc.Ak.Ua).find(function(c){return b.Cc.Ak.Ua[c].la === a.u;}))return (a.Ij && this.Cc.vTb(c,a.Ij),null);this.Bl.Jgb(a.u,Object.assign({},a.Za,a.T?{T:a.T}:{},a.Ij?{Ij:a.Ij}:{}));this.Cc.Ak=this.mS.shb(this.Cc.Ak,a);this.li().hu().Cp("addSegment movieId: " + a.u + ", startPts: " + a.T + ", logicalEnd: " + a.Ij);return this.Lx.qS(a);};c.prototype.transition=function(a){var b;b=this.Cc.OD(this.Cc.Mg);return b?this.Hja(this.Cc.Mg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(a){return this.Lx.close(a);};c.prototype.am=function(a){if(this.Bl.aJ(a).state == h.op.o7)return this.li().hu().am(a);};c.prototype.lPb=function(){var a;a=this;this.Cc.WQb(function(){a.Bl.YR();a.Lx.YR();});this.Cc.XQb(function(b){a.Lx.Nna(b);});this.addListener(g.ZB.TS,function(){return a.kHb();});};c.prototype.kHb=function(){var a;a=this.li().getError();a?this.Hb.cc(g.Pb.Eea,a):(this.Hb.cc(g.Pb.eIa),this.Hb.cc(g.Pb.QO),this.Hb.cc(g.Pb.uF),this.Hb.cc(g.Pb.BL),this.Hb.cc(g.Pb.LT),this.Hb.cc(g.Pb.Eea));};c.prototype.iK=function(a){var b,c,d;!1;b=a.metrics;if(b){c=this.li().hu();d=c.Ww(a.segmentId);b=c.Ww(b.srcsegment);this.Lra.lKb(a,d,b);}};b.RAa=c;},function(d,b,a){var g;function c(a){this.Sb=a;this.NL={};this.YR();}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;g=a(275);c.prototype.YR=function(){var a;a=this;Object.values(this.Sb.Ak.Ua).forEach(function(b){b=b.la;a.NL[b] || a.RQa(b);});this.J5();};c.prototype.aJ=function(a){return this.NL[a];};c.prototype.FOb=function(a){this.w0(a).state=g.op.iwa;this.J5();};c.prototype.EOb=function(a,b){a=this.w0(a);a.state=g.op.Error;a.error=b;a.pYa(!1);this.J5();};c.prototype.pZa=function(a){a=this.w0(a);a.state=g.op.o7;a.pYa(!0);this.J5();};c.prototype.Jgb=function(a,b){this.w0(a).Za=b;};c.prototype.w0=function(a){var b;return null !== (b=this.aJ(a)) && void 0 !== b?b:this.RQa(a);};c.prototype.RQa=function(a){var b,c;b=void 0;c=new Promise(function(a,c){b=function(b){(b?a:c)();};});return this.NL[a]={state:g.op.lza,UKb:c,pYa:b};};c.prototype.J5=function(){var b;this.lUa=void 0;for(var a=this.Sb.Mg;a=this.Sb.OD(a);){b=this.ju(a);if(this.NL[b].state === g.op.Error)break;if(this.NL[b].state === g.op.iwa)break;if(this.NL[b].state === g.op.lza){this.lUa={la:b,Ba:a};break;}}};c.prototype.ju=function(a){return this.Sb.Ak.Ua[a].la;};b.$Aa=c;},function(d,b,a){var g;function c(a){this.JX={};this.Uqa={};this.i1a=[];this.VZa=[];this.Ak=a;this.Mg=a.vg;}Object.defineProperty(b,"__esModule",{value:!0});b.YAa=void 0;g=a(190);c.prototype.yn=function(a){var d;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}d=this;b.filter(function(a){return d.SS(a.Ba);}).filter(function(a){a=a.RR;return !a || d.SS(a);}).forEach(function(a){d.JX[a.Ba]=d.xna(a.RR);});};c.prototype.ZHa=function(a){var b;b=this;a.filter(function(a){return b.SS(a);}).forEach(function(a){b.JX[a]=b.xna(b.Nf(a).Ui);});};c.prototype.lj=function(a,b){var c,d,h;c=this.Nf(a);if(c && c.next){d=new g.eW(this.Ak);h=Object.keys(c.next).reduce(function(a,d){a[d]=void 0 === b[d]?c.next[d]:Object.assign({},c.next[d],{weight:b[d]});return a;},{});h=Object.assign({},c,{next:h});d.Zq(a,h);this.Ak=d.Tk();}};c.prototype.SS=function(a,b){b=void 0 === b?this.Ak.Ua:b;return (a in b);};c.prototype.OD=function(a){return this.JX[a];};c.prototype.Nf=function(a){return this.Ak.Ua[a];};c.prototype.iPa=function(a){return void 0 === this.Uqa[a]?this.xna(this.Nf(a).Ie):this.Uqa[a];};c.prototype.vTb=function(a,b){this.Uqa[a]=b;this.hGb(a);};c.prototype.WQb=function(a){this.i1a.push(a);};c.prototype.XQb=function(a){this.VZa.push(a);};c.prototype.kGb=function(){var a;a=this;this.i1a.forEach(function(b){return b(a.Ak);});};c.prototype.hGb=function(a){this.VZa.forEach(function(b){return b(a);});};c.prototype.xna=function(a){return null === a?void 0:a;};pa.Object.defineProperties(c.prototype,{Ak:{configurable:!0,enumerable:!0,get:function(){return this.web;},set:function(a){if(this.Mg && !this.SS(this.Mg,a.Ua))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Mg);this.web=a;this.JX={};a=Object.keys(a.Ua);this.ZHa(a);this.kGb();}},Mg:{configurable:!0,enumerable:!0,get:function(){return this.zbb;},set:function(a){if(!this.SS(a))throw Error("Provided currentSegmentId " + a + " does not exist in the current playgraph");this.zbb=a;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.Nf(this.Mg);}}});b.YAa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){a && (this.yqa(a.vg),this.aPb(a.Ae),this.TOb(a.Ua));}a.prototype.yqa=function(a){this.vg=a;return this;};a.prototype.aPb=function(a){this.Ae=a;};a.prototype.Zq=function(a,b){this.Ua || (this.Ua={});this.Ua[a]=this.cLa(b);return this;};a.prototype.TOb=function(a){var b;b=this;this.Ua={};Object.keys(a).forEach(function(c){return b.Zq(c,a[c]);});};a.prototype.Tk=function(){if(!this.Ua)throw Error("Invalid playgraph - `segments` is not defined");if(!this.vg)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Ua[this.vg])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({vg:this.vg,Ua:this.Ua},this.Ae?{Ae:this.Ae}:{});};a.prototype.cLa=function(a){var b;b=this;return a && "object" === typeof a?Object.keys(a).reduce(function(c,d){c[d]="object" === typeof a[d]?b.cLa(a[d]):a[d];return c;},{}):a;};return a;})();b.eW=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.vg,segments:a.mpb(b.Ua)},void 0 !== b.Ae?{transitionType:b.Ae}:{});};a.encode=function(b){return Object.assign({vg:b.initialSegment,Ua:a.Mrb(b.segments)},void 0 !== b.transitionType?{Ae:b.transitionType}:{});};a.Y3b=function(a){return void 0 !== a.vg && void 0 !== a.Ua;};a.c4b=function(a){return void 0 !== a.la && void 0 !== a.oe;};a.Mrb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Lrb(b[d]);return c;},{});};a.Lrb=function(b){return Object.assign({la:b.viewableId,oe:b.startTimeMs},b.endTimeMs?{Ie:b.endTimeMs}:{},b.defaultNext?{Ui:b.defaultNext}:{},b.transitionType?{Ae:b.transitionType}:{},b.next?{next:a.Jrb(b.next)}:{},b.transitionDelayZones?{D5:b.transitionDelayZones}:{});};a.Jrb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Krb(b[d]);return c;},{});};a.Krb=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.transitionType?{Ae:a.transitionType}:{});};a.mpb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.lpb(b[d]);return c;},{});};a.lpb=function(b){return Object.assign({viewableId:b.la,startTimeMs:b.oe},b.Ie?{endTimeMs:b.Ie}:{},b.Ui?{defaultNext:b.Ui}:{},b.Ae?{transitionType:b.Ae}:{},b.next?{next:a.jpb(b.next)}:{},b.D5?{transitionDelayZones:b.D5}:{});};a.jpb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.kpb(b[d]);return c;},{});};a.kpb=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.Ae?{transitionType:a.Ae}:{});};return a;})();b.S9a=d;},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;g=a(190);c.prototype.tSb=function(a){var b;if(!this.nBb(a.Ua))return a;b=new g.eW().yqa(a.vg);Object.entries(a.Ua).forEach(function(c){var d;d=T(c);c=d.next().value;d=d.next().value;c === a.vg?b.Zq(c,Object.assign(Object.assign({},d),{next:void 0,Ie:void 0,Ui:void 0})):b.Zq(c,d);});return b.Tk();};c.prototype.nBb=function(a){a=Object.values(a).map(function(a){return a.la;});return 1 === new Set(a).size;};b.SAa=c;},function(d,b,a){var g,h;function c(a,b,c){this.pi=a;this.uf=b;this.Bl=c;}Object.defineProperty(b,"__esModule",{value:!0});b.VAa=void 0;g=a(4);h=a(516);c.prototype.BPb=function(){var a,b,c,d,k;a=this.Bl.lUa;if(!a)return {result:h.np.JM};b=this.uf.Cc;if(b.Mg === a.Ba)return {result:h.np.Taa,Z1a:a};c=this.rxb(b,b.Mg,a.Ba);if(!c)return {result:h.np.JM};d=c.duration;if(c.Hw >= this.pi.EWa)return {result:h.np.JM};c=this.jOa(b.Mg);if(!c)return {result:h.np.JM};b=this.uf.li().k0() || 0;c=Math.max(0,c - b);d=c + d;k=this.pi.DWa.ba(g.fa);if(d <= k)return {result:h.np.Taa,Z1a:a};a=d - k;return c < a?{result:h.np.JM}:{result:h.np.Bxa,Mh:b + a};};c.prototype.rxb=function(a,b,c){var g,h,f;b=a.OD(b);for(var d=0,f=0;b !== c && void 0 !== b;){d++;g=a.Nf(b);h=this.jOa(b) || Infinity;f=f + (h - g.oe);b=a.OD(b);}return b?{Hw:d,duration:f}:void 0;};c.prototype.jOa=function(a){var b,c;b=this.uf.Cc;c=b.iPa(a);if(void 0 !== c)return c;a=b.Nf(a);if(a=this.uf.am(a.la))return a.Vt.ba(g.fa);};b.VAa=c;},function(d,b,a){var g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;d=a(0);g=a(1);c.prototype.create=function(b,c,d){return new (a(519).wDa)(b,c,d);};h=c;h=d.__decorate([g.N()],h);b.ZAa=h;},function(d,b,a){var g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;d=a(0);g=a(1);h=a(190);c.prototype.uob=function(a){var d,g,k;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}d=this;if(0 === b.length)throw Error("Empty playgraph");g=new h.eW().yqa(this.$_(b[0]));b.reverse().forEach(function(a){var b;b=d.$_(a);g.Zq(b,Object.assign({la:a,oe:0},k?{Ui:k}:{}));k=b;});return g.Tk();};c.prototype.$_=function(a,b){return a + ":[startPts:" + (void 0 === b?0:b) + "]";};c.prototype.shb=function(a,b){var c,d,f,g;c=void 0 === c?this.$_(b.u,b.T):c;d=void 0 === d?"pauseAtStart":d;f=this.gwb(a);g=new h.eW(a);g.Zq(c,{la:b.u,oe:b.T || 0,Ae:d});a=a.Ua[f];b={};g.Zq(f,Object.assign({},a,{Ui:c,next:Object.assign({},a.next || ({}),(b[c]={},b))}));return g.Tk();};c.prototype.gwb=function(a){for(var b=a.vg,c=b;c=a.Ua[c].Ui;){b=c;}return b;};a=c;a=d.__decorate([g.N()],a);b.PAa=a;},function(d,b,a){var g,h,m,f,n;function c(a){return h.pe.call(this,a,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;d=a(0);g=a(1);h=a(44);m=a(31);f=a(42);n=a(4);N(c,h.pe);pa.Object.defineProperties(c.prototype,{EWa:{configurable:!0,enumerable:!0,get:function(){return 2;}},DWa:{configurable:!0,enumerable:!0,get:function(){return n.JR(3);}},P5:{configurable:!0,enumerable:!0,get:function(){return !1;}},Q5:{configurable:!0,enumerable:!0,get:function(){return !1;}},H1a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;d.__decorate([f.config(f.hy,"prepareSegmentsUpfront")],a.prototype,"EWa",null);d.__decorate([f.config(f.th,"prepareSegmentsDuration")],a.prototype,"DWa",null);d.__decorate([f.config(f.Gc,"usePlaygraphForPostPlay")],a.prototype,"P5",null);d.__decorate([f.config(f.Gc,"usePlaygraphForSkipSegment")],a.prototype,"Q5",null);d.__decorate([f.config(f.Gc,"useSinglePlayerPlayback")],a.prototype,"H1a",null);a=d.__decorate([g.N(),d.__param(0,g.l(m.tj))],a);b.OAa=a;},function(d,b,a){var g,h,m,f,n,l,p,t,r,z,y;function c(a,b,c,d,f,g,h,k){this.xa=a;this.dj=b;this.HNb=d;this.pi=g;this.yA=h;this.nn=k;this.FNb=c.Rz(!1,"6.0026.945.051",a.id,k,f);}Object.defineProperty(b,"__esModule",{value:!0});b.UAa=void 0;d=a(0);g=a(1);h=a(116);m=a(19);f=a(146);n=a(1180);l=a(332);p=a(212);t=a(13);r=a(520);z=a(211);a=a(33);c.prototype.create=function(a,b,c,d,f,g){var h;a=this.HNb.gob(a,this.FNb);h=this.pi.P5 || this.pi.H1a && 1 < Object.keys(b.Ak.Ua).length;d.debug("Using " + (h?"single":"multiple") + " player playback strategy");return h?new n.qCa(this.pi,b,c,d,this.dj,this.xa,f,this.yA,a,g):new r.GM(b,c,a,g);};y=c;y=d.__decorate([g.N(),d.__param(0,g.l(m.xd)),d.__param(1,g.l(h.YB)),d.__param(2,g.l(l.haa)),d.__param(3,g.l(p.sW)),d.__param(4,g.l(t.Oc)),d.__param(5,g.l(f.vG)),d.__param(6,g.l(z.EV)),d.__param(7,g.l(a.tG))],y);b.UAa=y;},function(d,b,a){var g,h,m,f,n,l,p;function c(a,b,c,d,f,g,h,k,l,q){var p;p=n.GM.call(this,b,c,l,q) || this;p.pi=a;p.ma=d;p.dj=f;p.xa=g;p.iJb=h;p.cQ=!1;p.Hoa=Promise.resolve();p.OTa=k.Nfa({fja:function(){return m.Jb(100);}},function(){return p.li().k0() || 0;});return p;}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;g=a(14);h=a(275);m=a(4);f=a(2);n=a(520);l=a(516);p=a(118);N(c,n.GM);c.prototype.YR=function(){this.NA();};c.prototype.Nna=function(){};c.prototype.IPa=function(a,b){var c,d,k,l;c=this.Cc.Nf(a);if(this.pi.Q5 && this.Cc.ga.la === c.la)return Promise.resolve(this.li().seek(c.oe,g.rd.yv,void 0));d=this.Bl.aJ(c.la);b=p.Qma(d.Za,b);k=this.li().hu();if(d.state !== h.op.o7)return (d=d.state === h.op.Error?d.error:this.dj(f.L.q9a,{ub:a}),k.nyb({la:c.la,Ba:a,Ta:b},d),k.Cp("Transition " + this.Cc.Mg + "->" + a + " error " + d.vD),Promise.reject());c=k.Ab;if(!c)throw (this.ma.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.ma.debug("going to next segment: " + this.Cc.Mg + " -> " + a);k.Cp("Transition " + this.Cc.Mg + "->" + a);l=k.Ww(a);l.yl=this.xa.zb().ba(m.fa);l.Ta=b;return (void 0 !== c.i0(a)?this.oyb(a,l.u):this.QS(a,l.u)).then(function(){k.mNa(l.u);});};c.prototype.QS=function(a,b){var c;c=this.Cc.Ak.Ua[a].oe;this.ma.debug("Segment is not pre-buffered - performing a regular seek");this.li().hu().Cp("NO DATA " + a + ", SEEKING " + c + ", viewableId: " + b);return Promise.resolve(this.li().seek(c,g.rd.yv,a,!0));};c.prototype.oyb=function(a,b){var c,d,f,h,k;c=this;d=this.li().hu();f=d.Ab;if(!f)throw Error("No streaming session");h=new Promise(function(a){function b(){c.ma.debug("Stopped ASE");f.removeEventListener("stop",b);a();}f.addEventListener("stop",b);});k=new Promise(function(a){function b(){c.ma.debug("Repositioned");d.removeEventListener(g.V.rl,b);a();}function h(){c.ma.debug("Repositioning");d.removeEventListener(g.V.TE,h);f.stop();}d.addEventListener(g.V.TE,h);d.addEventListener(g.V.rl,b);});h=Promise.all([h,k]).then(function(){if(!f.Rt(a,!1,!0))return (d.Cp("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.QS(a,b));});k=f.sP(void 0,this.Cc.Ak.Ua[a].oe,a);this.ma.debug("Calling seek on internal player to " + k);this.li().seek(k,g.rd.aC,a,!0);return h;};c.prototype.qS=function(a){if(!this.cQ)return (this.cQ=!0,n.GM.prototype.qS.call(this,a));this.NA();this.Hoa=this.li().hu().Xb.when(function(a){return a !== g.tb.kg;}).then(function(){});return this.Bl.aJ(a.u).UKb;};c.prototype.NA=function(){var a,b;a=this;if(this.isReady()){this.OTa.cancel();b=this.iJb.BPb();b.result === l.np.Bxa?this.OTa.observe(b.Mh,function(){a.NA();}):b.result === l.np.Taa && this.NJb(b.Z1a);}};c.prototype.NJb=function(a){var c,d,f,h,k,l,m;function b(a){a.u === k && (c.Cc.Mg=d,c.NA(),h.removeEventListener(g.V.iq,b),c.Hb.cc(g.ZB.TS));}c=this;d=a.Ba;f=this.Cc.Nf(d);h=this.li().hu();a=Object.assign(this.Bl.aJ(a.la).Za || ({}),{T:f.oe,qa:f.Ie,mk:!1,H5:Date.now(),I1:!0});k=h.rda({la:f.la,Ba:d,Ta:a});l=h.am(k);this.ma.debug("Creating new playback xid: " + l.ea + ", movieId: " + l.u);h.addEventListener(g.V.iq,b);m="pauseAtStart" !== f.Ae;this.Bl.FOb(f.la);h.Cp("queueManifest",l.Ba);this.Hoa=a=this.Hoa.then(function(){return h.DKb(k,m);}).then(function(){h.Cp("queueManifest done",l.Ba);c.Bl.pZa(f.la);h.EJb(l);})["catch"](function(a){h.Cp("queueManifest error " + a.vD,l.Ba);c.Bl.EOb(f.la,a);throw a;});a.then(function(){return c.NA();});};b.qCa=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;d=a(1);c=a(1182);g=a(29);b.bIa=new d.Pc(function(a){a(g.ig).to(c.wta).Z();});},function(d,b,a){var g,h,m,f,n,l,p,t,r,z,y,B,L;function c(a,b,c,d,f,g){var h;h=this;this.Pj=a;this.config=c;this.ol=d;this.debug=f;this.xa=g;this.r0a=[];this.Ed={};this.log=b.ob("loadAsync");this.sDb=y.nwa(function(a){h.FLb=!0;h.startTime=h.xa.zb().ba(r.fa);h.load(h.r0a).then(function(){h.endTime=h.xa.zb().ba(r.fa);a(L.$d);})["catch"](function(b){h.endTime=h.xa.zb().ba(r.fa);a(b);});});}Object.defineProperty(b,"__esModule",{value:!0});b.wta=void 0;d=a(0);g=a(66);h=a(2);m=a(1183);f=a(67);n=a(1);l=a(6);p=a(13);t=a(61);r=a(4);z=a(85);y=a(521);B=a(19);L=a(11);c.prototype.iR=function(a){this.sDb(a);};c.prototype.register=function(a,b){this.debug.assert(!this.FLb);this.r0a.push({KCb:this.Tjb(b),errorCode:a});};c.prototype.vd=function(a){this.debug.assert(void 0 === this.Ed[a]);this.Ed[a]=this.xa.zb().ba(r.fa);};c.prototype.load=function(a){var b;b=this;return m.JWa(a).then(function(a){b.Pj.mark(f.Am.Ii.K2a);return a.reduce(function(a,c){return a.then(function(){return b.GCb(c);});},Promise.resolve()).then(function(){b.Pj.mark(f.Am.Ii.I2a);});});};c.prototype.GCb=function(a){var b,c;b=this;c=a.KCb;!1;return this.ol.rn(r.Jb(this.config().Vhb),c())["catch"](function(c){b.log.error("Failed to load component " + a.errorCode,c);b.Pj.mark(f.Am.Ii.J2a);if(c instanceof t.Un)throw {ja:h.K.H2a,errorCode:a.errorCode};c.errorCode=c.errorCode || a.errorCode;c.ja=c.ja || h.K.G2a;throw c;});};c.prototype.Tjb=function(a){return function(){return new Promise(function(b,c){a(function(a){a.ia?b():c(a);});});};};a=c;a=d.__decorate([n.N(),d.__param(0,n.l(g.Gy)),d.__param(1,n.l(l.xb)),d.__param(2,n.l(p.Oc)),d.__param(3,n.l(t.Cy)),d.__param(4,n.l(z.Ls)),d.__param(5,n.l(B.xd))],a);b.wta=a;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.JWa=void 0;c=a(2);g=[c.L.b7a,c.L.axa,c.L.Zwa,c.L.$wa,c.L.dxa,c.L.Vwa,c.L.Twa,c.L.u8,c.L.exa,c.L.Wwa,c.L.Z6a,c.L.$6a,c.L.Uwa,c.L.qy,c.L.Qwa,c.L.Swa,c.L.bxa,c.L.k7a,c.L.cxa,c.L.c7a,c.L.e7a,c.L.i7a,c.L.g7a,c.L.f7a,c.L.d7a,c.L.h7a,c.L.j7a,c.L.Ywa,c.L.Xwa,c.L.Rwa];(function(a){a.L8a=function(a){var f;for(var b={},d=0;d < a.length;d++){f=a[d];if(b[f.errorCode])return {errorCode:f.errorCode,ja:c.K.E2a};b[f.errorCode]=1;}};a.M8a=function(a){var d;for(var b=0;b < a.length;b++){d=a[b];if(-1 === g.indexOf(d.errorCode))return {errorCode:d.errorCode,ja:c.K.F2a};}};})(h || (h={}));b.JWa=function(a){return new Promise(function(b,c){var d;d=h.M8a(a);d && c(d);(d=h.L8a(a)) && c(d);b(a.sort(function(a,b){return g.indexOf(a.errorCode) - g.indexOf(b.errorCode);}));});};},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.GHa=void 0;c=a(1185);g=a(113);d=a(1);h=a(97);m=a(13);b.GHa=new d.Pc(function(a){a(g.oB).to(c.Wsa).Z();});b.profile=new d.Pc(function(a){a(h.XM).cy(function(a){return (a=a.gb.get(m.Oc)()) && a.au?"browsertest":"browser";});});},function(d,b,a){var g,h,m,f,n,l;function c(a,b,c,d){a=f.pe.call(this,a,void 0 === d?"AppInfoConfigImpl":d) || this;a.config=b;a.E5=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Wsa=void 0;d=a(0);g=a(1);h=a(35);m=a(42);f=a(44);n=a(31);a=a(220);N(c,f.pe);c.prototype.Gwb=function(a){return "" + this.sMa + (this.E5.X4(a)?"/msl_v1":"");};c.prototype.Qwb=function(a){return "" + this.host + (this.E5.X4(a)?"/msl":"") + "/playapi";};pa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},sMa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.EI){case h.nv.J$a:a="www.stage";break;case h.nv.PCa:a="www-qa.test";break;case h.nv.rxa:a="www-int.test";break;default:a="www";}return "https://" + a + ".netflix.com";}},zIa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});l=c;d.__decorate([m.config(m.string,"apiEndpoint")],l.prototype,"endpoint",null);d.__decorate([m.config(m.string,"nqEndpoint")],l.prototype,"sMa",null);d.__decorate([m.config(m.string,"bindService")],l.prototype,"zIa",null);l=d.__decorate([g.N(),d.__param(0,g.l(n.tj)),d.__param(1,g.l(h.Dl)),d.__param(2,g.l(a.hN)),d.__param(3,g.l(n.yB)),d.__param(3,g.optional())],l);b.Wsa=l;},function(d,b,a){var n,l,p;function c(a){var b,c,f;b=0;this.Fa.info("show subtitle called at " + this.Sy() + " for displayTime " + a.displayTime);this.emit("showsubtitle",a);c=this.Uy[this.Uy.length - 1];c.eL || (c.eL={});if("dfxp-ls-sdh" === this.Bca)for(var d=0;d < a.Uib.length;d++){f=a.Uib[d];c.eL[f.id] || (b++,c.eL[f.id]=!0);}else c.eL[a.id] || (b++,c.eL[a.id]=!0);c.fT+=b;}function g(a){this.Fa.info("remove subtitle called at " + this.Sy() + " for remove time " + (a.displayTime + a.duration));this.emit("removesubtitle",a);}function h(){this.Fa.info("underflow fired by the subtitle timer");this.emit("underflow");}function m(){this.Fa.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}function f(a){var b;this.Fa.info("ending subtitle interval at " + a);b=this.Uy[this.Uy.length - 1];b.qa=a;b.qa < b.T && (this.Fa.warn("correcting for interval where endPts is smaller than startPts"),b.T=0 < b.qa?b.qa - 1:0);b.w_=this.Sc.D0(b.T,b.qa);delete b.eL;b.w_ > b.fT && b.yla && 500 > b.qa - b.yla && (b.w_=this.Sc.D0(b.T,b.yla));this.Fa.info("showed " + b.fT + " during this interval");this.Fa.info("expected " + b.w_ + " for this interval");}n=a(138).EventEmitter;l=a(1187);b=a(522)();p=a(1188);a=function x(a,b){var d,f;d=this;f=a.em || !1;if(!(d instanceof x))return new x(a,b);n.call(d);d.Fa=a.ma || console;d.kO=a.request;d.Sy=a.$Oa;d.di=null;d.Pk=!0;d.Uy=[];d.Bca=b.profile;d.Ql=b.url;d.yC=b.Hc;d.xeb=b.AJb;d.Dbb=b.Wm;d.gH=d.yC || 0;a={url:d.Ql,request:d.kO,Hc:d.yC,xml:b.xml,AJb:d.xeb,Wm:d.Dbb,ma:d.Fa,em:f,bufferSize:b.bufferSize,Ur:b.Ur,XWa:b.XWa || 0,MIa:b.MIa};if("nflx-cmisc" === d.Bca)(a.offset=b.Sma,a.size=b.CTa,a.E4=b.E4,a.cMa=b.cMa,d.Sc=new p(a));else throw Error("SubtitleManager: " + d.Bca + " is an unsupported profile");d.Sc.on("ready",function(){var a,f;a=! !b.uib;d.Fa.info("ready event fired by subtitle stream");d.emit("ready");f=d.Sc.evb.bind(d.Sc);d.di=new l(d.Sy,f,d.Fa,b);d.di.on("showsubtitle",c.bind(d));d.di.on("removesubtitle",g.bind(d));d.di.on("underflow",h.bind(d));d.di.on("bufferingComplete",m.bind(d));a && (d.Fa.info("autostarting subtitles"),setTimeout(function(){d.Cs(d.Sy());},10));});d.Sc.on("error",d.emit.bind(d,"error"));};a.prototype=Object.create(n.prototype);a.prototype.start=function(){this.Sc.start();};a.prototype.YWa=function(){this.Pk || (this.Pk=!0,f.call(this,this.gH));};a.prototype.Cs=function(a){!this.Pk && 1E4 < Math.abs(a - this.gH) && (this.Fa.warn("Detected an unexpected pts jump larger than",1E4,"at",a,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.YWa());this.gH=a;this.Pk && (this.Pk=!1,this.Fa.info("creating a new subtitle interval at " + a),this.Uy.push({T:a,fT:0}));null !== this.di && (this.Uy[this.Uy.length - 1].yla=a,this.di.Cs(a));};a.prototype.stop=function(){var a;this.Fa.info("stop called");this.Pk || this.pause();this.Sc.removeAllListeners(["ready"]);null !== this.di && this.di.stop();a=this.Uy.reduce(function(a,b){a.PZa+=b.fT;a.v_+=b.w_;a.rAb.push(b);return a;},{PZa:0,v_:0,rAb:[]});"object" === typeof this.Sc && this.Sc.close();this.Fa.info("metrics: " + JSON.stringify(a));return a;};a.prototype.pause=function(){var a;a=this.Sy();this.Pk?this.Fa.warn("pause called on subtitle manager, but it was already paused!"):(this.Fa.info("pause called at " + a),this.Pk=!0,f.call(this,a));null !== this.di && this.di.pause();};a.prototype.Wz=function(a,b){return this.Sc.Wz(a,b);};a.prototype.D0=function(a,b){return this.Sc.D0(a,b);};a.prototype.ZA=function(a){var c;function b(){c.Fa.trace("bufferingComplete from setStreamStartPosition");c.emit("bufferingComplete");}c=this;"function" === typeof c.Sc.ZA?c.Sc.ZA(a,b):b();};a.prototype.yn=function(a,b){this.Sc.yn && this.Sc.yn(a,b);};a.prototype.lj=function(a,b){this.Sc.lj && this.Sc.lj(a,b);};a=b([{request:"function",$Oa:"function",ma:"object"},"object"],a);d.W=a;},function(d,b,a){var h;function c(a,b){return b.reduce(g.bind(this,a),[]);}function g(a,b,c){var d,f;d=c.displayTime - a;a=c.displayTime + c.duration - a;f=0 < b.length?b[0].timeout:Infinity;return 0 < d && d < f?[{timeout:d,type:"showsubtitle",Je:c}]:d === f?b.concat([{timeout:d,type:"showsubtitle",Je:c}]):0 < a && a < f?[{timeout:a,type:"removesubtitle",Je:c}]:a === f?b.concat([{timeout:a,type:"removesubtitle",Je:c}]):b;}h=a(138).EventEmitter;b=a(522)({});a=function f(a,b,c,d){if(!(this instanceof f))return new f(a,b,c,d);h.call(this);this.Sy=a;this.qcb=b;this.Uv={};this.wH={};this.Fa=c || console;this.RW=!1;this.Heb=d && d.XWa || 0;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.di);Object.keys(a.Uv).forEach(function(b){a.emit("removesubtitle",a.Uv[b]);});a.Uv={};};a.prototype.pause=function(){clearTimeout(this.di);};a.prototype.Cs=function(a,b){var d,f;d=this;f=d.Sy();clearTimeout(this.di);a=d.qcb(f);null !== a && d.RW && (d.RW=!1,d.emit("bufferingComplete"));b="number" === typeof b?b:0;Object.keys(d.Uv).forEach(function(a){a=d.Uv[a];a.displayTime - d.Heb <= f && f < a.displayTime + a.duration || (delete d.Uv[a.id],d.emit("removesubtitle",a));});Object.keys(d.wH).forEach(function(a){a=d.wH[a];f >= a.displayTime + a.duration && delete d.wH[a.id];});null !== a && 0 < a.length?(b=a.length,d.Fa.info("found " + b + " entries for pts " + f),a.forEach(function(a){a.displayTime - 0 <= f && f < a.displayTime + a.duration && !d.Uv[a.id] && (d.emit("showsubtitle",a),d.Uv[a.id]=a,delete d.wH[a.id]);}),b=a[a.length - 1],d.Uv[b.id] || d.wH[b.id] || (d.emit("stagesubtitle",b),d.wH[b.id]=b),b=c(f,a),0 < b.length?d.XX(b[0].timeout):d.XX(2E4)):null === a?(a=250 * Math.pow(2,b),2E3 < a && (a=2E3),d.Fa.warn("checking buffer again in " + a + "ms"),d.RW || (d.RW=!0,d.emit("underflow")),d.XX(a,b + 1)):d.XX(2E4);};a.prototype.XX=function(a,b){var c;c=this;c.Fa.info("Scheduling pts check.");c.di=setTimeout(function(){c.Cs(c.Sy(),b);},a);};d.W=b(["function","function","object","object"],a);},function(d,b,a){var g,h,m,f,n,l,p;function c(a){g.call(this);this.Ql=a.url;this.kO=a.request;this.yC=a.Hc || 0;this.Fa=a.ma;this.Ih=this.wp=null;a.Ur?this.wp=a.Ur:(this.de=a.offset,this.vH=a.size);this.Qk;this.wca=a;}g=a(138).EventEmitter;h=a(1189);m=a(1190);f=a(1191);n=a(149);l=c.events={c8a:"midxready",s$a:"sidxready",Z9a:"ready",ERROR:"error"};p=c.X2b={a8a:"midxdownloaderror",b8a:"midxparseerror",D8a:"nosidxfoundinmidx",q$a:"sidxdownloaderror",r$a:"sidxparseerror"};c.prototype=Object.create(g.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Zn:{get:function(){return this.Qk && this.Qk.aga;}}});c.prototype.start=function(){this.wp?(this.Fa.warn("midx was prefectched and provided"),this.AEa(this.wp)):this.Hbb(this.de,this.vH,this.Ceb.bind(this));};c.prototype.close=function(){};c.prototype.Wz=function(a,b){return this.Qk && this.Qk.vja(a,b);};c.prototype.D0=function(a,b){return (a=this.Wz(a,b))?a.length:a;};c.prototype.ZA=function(a,b){this.Fa.debug("setStreamStartPosition: buffering subtitles at pts " + a);this.yC=a;this.Qk?this.Qk.ZA(a,b):b && b();};c.prototype.evb=function(a){var b,c,d;if(!this.Qk)return [];b=n.Kvb(this.wp);if(a > b)return [];this.Qk && this.Qk.Nga(a);c=this.Zn.ws;d=this.Zn.index;b=[];d=n.ic(d) && this.Ih[d + 1];if(!(d && d.entries.length || c && !(a > c.endTime)))return [];c && c.images.length && (b=this.NEa(c,a,[]));2 > b.length && d && d.images.length && (c=this.NEa(d,a,b),b.push.apply(b,c));return this.Qk.Jqa(a)?null:n.hKa(b);};c.prototype.lj=function(a,b){this.Qk && this.Qk.lj(a,b);};c.prototype.yn=function(a,b){this.Qk && this.Qk.yn(a,b);};c.prototype.Hbb=function(a,b,c){this.Fa.debug("downloading midx...");this.ZEa(a,b,"binary",c);};c.prototype.Ibb=function(a,b,c){this.Fa.debug("downloading sidx...");this.ZEa(a,b,void 0,c);};c.prototype.ZEa=function(a,b,c,d){this.kO({url:this.Ql,offset:a,size:b,responseType:c},d);};c.prototype.Ceb=function(a,b){if(a)this.emit(l.ERROR,n.rQ(a,p.a8a));else try{this.wp=new h(b);this.AEa(this.wp);}catch(z){this.emit(l.ERROR,n.rQ(z,p.b8a));}};c.prototype.AEa=function(a){var b;b=a.entries.reduce(function(a,b){return a + b.size;},0);b?(this.emit(l.c8a,a),this.Ibb(a.startOffset,b,this.Feb.bind(this,a))):this.emit(l.ERROR,n.rQ({},p.D8a));};c.prototype.Feb=function(a,b,c){var d,g,h,k;d=this;if(b)d.emit(l.ERROR,n.rQ(b,p.q$a));else {g=0;h=0;d.Ih=[];try{k=0;a.entries.forEach(function(b){var f;f=new m(c,g,a.Eka,d.Fa,h,h + b.duration,k);d.Ih.push(f);b.OPb=f;h=f.$o;g+=b.size;k++;});}catch(E){d.emit(l.ERROR,n.rQ(E,p.r$a));return;}d.emit(l.s$a,d.Ih);this.Qk=new f(d.wca,a,d.Ih);b=d.yC;d.wca && d.wca.E4 || (b=Math.max(d.yC - 1E4,0));this.Qk.Nga(b,function(a){a && d.Fa.error("initial sidx download failed");d.emit(l.Z9a);});}};c.prototype.NEa=function(a,b,c){var m;for(var d=a.entries,f=0,g=d.length,h=[],k,l=this.wp;f < g;){k=d[f];if(k.Wl <= b)k.Wl + k.duration >= b && h.push(n.Sfa(k,a.images[f].data,l));else {m=h.length && h[h.length - 1] || c.length && c[c.length - 1];if(m && m.Wl > b && m.Wl !== k.Wl)break;m.WD !== k.WD && h.push(n.Sfa(k,a.images[f].data,l));}f++;}return h;};d.W=c;},function(d,b,a){var g,h;function c(a,b){this.duration=a;this.size=b;this.OPb=void 0;}g=a(277);h=a(149);d.W=function(a){var m;a=new g(a);this.identifier=a.apa(4);h.assert("midx" === this.identifier);this.version=a.ap(4);h.assert(0 === this.version);this.Eka=a.Dk(36);this.ek=a.BK();this.Wo=a.BK();this.u=a.BK();this.TMb=a.Ag();this.UMb=a.Ag();this.language=a.Dk(16);a.Dk(16);this.startOffset=a.BK();this.Bo=a.Ag();for(var b=[],d=0,k=0;k < this.Bo;k++){m=new c(a.ap(4),a.Ag());b.push(m);d+=m.duration;}this.entries=b;this.endTime=d;};},function(d,b,a){var h,m;function c(a,b,c,d,g,h,k,m){this.Wl=a;this.duration=b;this.yHb=c;this.zHb=d;this.RPb=g;this.SPb=h;this.WD=k;this.qka=m;}function g(a,b,d,g,k,n,p){var f;a=new h(a);f=0;a.position=b;this.Fa=g;this.identifier=a.apa(4);m.assert("sidx" === this.identifier,g);this.Eka=a.Dk(36);m.llb(this.Eka,d,g);this.duration=a.ap(4);this.Bo=a.Ag();this.Ku=k;this.$o=n;this.index=p || 0;this.entries=[];this.images=[];for(this.Hca=0;f < this.Bo;){b=new c(a.ap(4),a.ap(4),a.Ag(),a.Ag(),a.Ag(),a.Ag(),a.BK(),a.ap(4));f++;this.entries.push(b);}this.entries.length && (this.startTime=this.entries[0].Wl,this.endTime=this.entries[this.entries.length - 1].Wl + this.entries[this.entries.length - 1].duration);}h=a(277);m=a(149);g.prototype.Qzb=function(){this.Hca++;};g.prototype.qpb=function(){var a;a=0;this.Hca--;1 > this.Hca?this.images && 0 < this.images.length && (a+=m.rja([this]),this.images=[]):this.Fa.debug("Not cleaning up shared sidx with range",this.Ku,"-",this.$o);return a;};d.W=g;},function(d,b,a){var m,f;function c(a,b){var d;a=a || 0;if(b)for(var c in b.Ua){d=b.Ua[c];if(a >= (d.oe || 0) && (!d.Ie || a < d.Ie))return c;}}function g(a,b){return a && b && b.Ua[a];}function h(a,b,d){var f;this.Fa=a.ma;this.Ih=d;this.dz=this.mbb(a.E4);this.ng=[];f=d && d[d.length - 1];this.gH=f && (f.endTime || f.$o);this.Ff=new m(a,b,d);this.Hm=this.Hv(c(a.Hc || 0,this.dz));}m=a(1192);f=a(1194);Object.defineProperties(h.prototype,{aga:{get:function(){return this.Ff.aga;}},PKa:{get:function(){return this.Ff.PKa || 0;}}});h.prototype.vja=function(a,b){return this.Ff && this.Ff.vja(a,b);};h.prototype.Nga=function(a,b){this.Ff.yOb(a);this.HGa(a);if(!this.dz && this.gH && a > this.gH)b && b();else if((a=this.uEa(a,this.Hm,2,b),this.dz && 0 < this.Hm.mUa.length))b && b();else if(this.dz && this.Hm.oJ && a){2 > this.ng.length && this.sbb(this.Hm);b=Math.ceil(2 / (this.ng.length - 1));for(var c=0;c < this.ng.length && a && 3 > c;c++){a=this.ng[c];a=this.uEa(a.startTime,a,b);}}};h.prototype.Jqa=function(a){return this.Ff.Jqa(a)?(this.Ff.chb(),this.Nga(a),this.Hm.oJ=!1,!0):!1;};h.prototype.ZA=function(a,b){var c;this.HGa(a);this.ng.forEach(function(a){a.oJ=!1;});c=this.Hm.vm && this.Hm.vm[0];this.Ff.ZA(a,c && c.index);(a=this.Ff.Axb(a)) && a.length?this.Ff.KLa(a,b):b && b();};h.prototype.yn=function(a,b){var c;this.Fa.debug("Set next segment to",b,"for segment",a);a=this.EEa(a) || this.Hv(a);a.WYa=b;c=this;a.TR=a.TR.filter(function(a){if(a.id === b)return !0;c.Cba(a);return !1;});};h.prototype.lj=function(a,b){var c;c=g(a,this.dz);Object.keys(c.next).forEach(function(a){c.next[a].weight=b[a] || 0;});};h.prototype.mbb=function(a){var b,d;b={};if(a=(a || ({})).Ua){b.Ua={};for(var c in a){d=a[c] || ({});b.Ua[c]={oe:d.oe,Ie:d.Ie,Ui:d.Ui,next:this.lbb(d.next)};}}return b;};h.prototype.lbb=function(a){var b,c;b={};for(c in a){b[c]={weight:(a[c] || ({})).weight};}return b;};h.prototype.HGa=function(a){var b,d;if(this.dz && this.Hm.startTime > a || this.Hm.endTime && this.Hm.endTime < a){b=this.Hm;d=c(a,this.dz);d?(this.Fa.debug("Switching segments from",this.Hm.id,"to",d,"at pts",a),this.Hm=this.EEa(d) || this.Hv(d),this.Cba(b)):this.Fa.debug("The pts is outside of the current segment but not in a new one yet");}};h.prototype.Hv=function(a){this.Fa.debug("SegmentManager: creating segment",a);a=new f(a,g(a,this.dz),this.Ih,this.Fa);this.ng.push(a);this.Fa.debug("SegmentManager: segment contains",a.vm.length,"sidxes");return a;};h.prototype.Cba=function(a){var b;if(a && a !== this.Hm){this.Fa.debug("SegmentManager: deleting segment",a.id);a.TR.forEach(this.Cba.bind(this));this.ng=this.ng.filter(function(b){return b !== a;});b=a.yJa();this.Ff.KLb(b && b.size || 0,b && b.vm);}};h.prototype.EEa=function(a){var c;for(var b=0;a && b < this.ng.length;b++){c=this.ng[b];if(a === c.id)return c;}};h.prototype.sbb=function(a){var b,c,d;b=a.WYa;if(b && "" !== b)a.TR.push(this.Hv(b));else {b=a.mUa;for(c in b){d=b[c];if(!d || !d.weight)break;a.TR.push(this.Hv(c));}}};h.prototype.uEa=function(a,b,c,d){if(!b || b.oJ)return (this.Fa.debug("Done driving segment",b && b.id),!0);if(!this.Ff.Vjb)return (this.Fa.debug("Throttling buffering in quiet period"),!1);this.Fa.debug("Drive streaming of segment",b.id,"from pts",a);c=(a=this.Ff.Bxb(a,b,c)) && a.length || 0;if(0 === c)return (this.Fa.debug("Segment is fully downloaded",b && b.id),b.oJ=!0,d && d(),!0);this.Fa.debug("Downloading",c,"sidxes in segment",b.id);return this.Ff.KLa(a,function(a,c){a && (b.oJ=!1);d && d(a,c);});};d.W=h;},function(d,b,a){var l,p;function c(a,b,c){var d;d=c.Wl <= a && a <= c.Wl + c.duration;return a <= c.Wl && c.Wl <= b || d;}function g(a,b,c){return b && (!b.entries.length && a > b.Ku || a > b.endTime) && c.entries.length && a < c.endTime;}function h(a,b,c){this.BC=this.Qq=0;this.adb=a.bufferSize || 4194304;this.Zn=new n();this.xC;this.pC=a.em;this.Fa=a.ma;this.wp=b;this.Ih=c;this.fo=new l(a);this.KC=new f(this.Ih.length,a.cMa);this.gO=new m(a.MIa);}function m(a){this.Qbb=0 !== a;this.on=!1;this.Li=a || 3E3;this.di;}function f(a,b){if(this.enabled=b)this.vm=Array.apply(null,Array(a)).map(function(){return "-";});}function n(a,b){this.ws=a;this.index=b;}l=a(1193);p=a(149);n.prototype.reset=function(){this.index=this.ws=void 0;};f.prototype.ba=function(a){this.enabled && a < this.vm.length && (this.vm[a]="x");};f.prototype.hVa=function(a){this.enabled && a < this.vm.length && (this.vm[a]="-");};f.prototype.toString=function(){return this.enabled && "|" + this.vm.join("") + "|";};m.prototype.start=function(){var a;if(this.Qbb){a=this;this.on=!0;this.di=setTimeout(function(){a.on=!1;a.di=void 0;},this.Li);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.di);this.di=void 0;};Object.defineProperties(h.prototype,{PKa:{get:function(){return this.Qq;}},aga:{get:function(){return this.Zn;}},Vjb:{get:function(){return !this.gO.on;}}});h.prototype.SN=function(){this.KC.enabled && this.Fa.debug("Buffer: " + this.KC.toString());};h.prototype.bfb=function(a){this.BC+=a;this.Fa.debug("Reserved buffer size is",this.Qq + this.BC,"after reserving",a);};h.prototype.Ofb=function(a){this.BC-=a;this.Fa.debug("Reserved buffer size is",this.Qq + this.BC,"after unreserving",a);};h.prototype.kbb=function(a){this.Qq+=a;this.Fa.debug("Buffer size is",this.Qq,"after claiming",a);};h.prototype.fGa=function(a){this.Qq-=a;this.Fa.debug("Buffer size is",this.Qq,"after clearing",a);};h.prototype.KLb=function(a,b){var c;this.fGa(a);c=this;b && this.KC.enabled && (b.forEach(function(a){c.KC.hVa(a.index);}),this.SN());};h.prototype.Jqa=function(a){var b;b=this.bcb(a);return p.xQa(b) && p.ZQb(a,b);};h.prototype.yOb=function(a){var b;b=this.SEa(a);(!b || b.index) !== (!this.Zn || this.Zn.index) && (this.xC=this.Zn.ws,b?(this.pC && this.Fa.debug("Current sidx is index",b.index),this.Zn=b):(this.pC && this.Fa.debug("Current sidx is out of range"),this.Zn.reset()));this.xC && "number" === typeof this.xC.index && (a < this.xC.Ku - 35E3 || a > this.xC.$o + 35E3) && (this.tba(this.xC.index),this.xC=void 0,this.SN());};h.prototype.ZA=function(a,b){var c,d;c=this.Ih && this.Ih.length;for(b;b < c;b++){(d=this.Ih[b]) && ((d.endTime || d.$o) >= a - 1E4 && (d.endTime || d.$o) < a + 3E5 || this.tba(b));}this.gO.stop();this.SN();};h.prototype.chb=function(){var a,b;this.Fa.debug("executing aggressive cleanup");a=this.Ih && this.Ih.length;for(b=0;b < a;b++){b === this.Zn.index && (b+=2);this.tba(b);}this.gO.stop();this.SN();};h.prototype.Axb=function(a){var b,c,d,f;b=[];c=this.SEa(a);if(!c)return (this.Zn.reset(),b);this.Zn=c;d=a + 1E4;c=c.index;f=this.Ih[c];c;for(f;c < this.Ih.length && d > f.Ku;(c++,f=this.Ih[c])){p.xQa(f) && p.$Qb(a,d,f) && b.push(f);}return b;};h.prototype.KLa=function(a,b){var c,d,f,g,h,k;if(!a || !a.length)return (b && b(null),!0);this.fo.bO && 2 <= Object.keys(this.fo.bO).length && !this.gO.on && (this.Fa.debug("Enabling buffering quiet period"),this.gO.start());c=this;d=a[0];f=a[a.length - 1];0 < d.entries.length && (g=d.entries[0].WD,h=d.entries[d.entries.length - 1]);0 < f.entries.length && (p.ic(g) || (g=f.entries[0].WD),h=f.entries[f.entries.length - 1]);if(g)k=h.WD + h.qka - g;else return (b && b(null),!0);d=p.Aia(g,k);if(this.fo.bO[d])(this.Fa.debug("The request for",d,"is already pending. Not requesting again"),b && b());else if(this.Bcb(p.rja(a)))(this.Fa.debug("Reserving",k,"bytes for subtitle request",a[0].Ku,a[a.length - 1].$o),this.bfb(k),this.fo.Dqb(a,g,k,function(d,f){c.Fa.debug("Claiming reserved space.  Expected",k,"received",f);c.KC.enabled && (a.forEach(function(a){c.KC.ba(a.index);}),c.SN());c.Ofb(k);c.kbb(f);b && b(d);}));else return (this.Fa.debug("Not enough space in buffer to download all of the imaages in the list"),b && b(),!1);return !0;};h.prototype.vja=function(a,b){var d,f,g;d=this.wp;f=this.REa(a,b,this.Ih);if(!f || 0 === f.length)return [];g=[];b=c.bind(null,a,b);for(var h=0;h < f.length;h++){a=f[h];g=g.concat(a.entries.filter(b));}g=g.map(function(a){return p.Sfa(a,null,d);});return p.hKa(g);};h.prototype.Bxb=function(a,b,c){return this.REa(a,b.endTime,b.vm,c,!0);};h.prototype.REa=function(a,b,c,d,f){var g,h,k,l;if(b && a > b || 0 > a)this.Fa.error("invalid range startPts: " + a + ", endPts: " + b);else {g=c && c.length || 0;h=[];if(c && 0 !== g){k=c[0].duration;l=c[0].Ku;if(p.ic(k) && 0 < k)k=Math.floor((a - l) / k);else for((this.pC && this.Fa.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),k=0);k < g && (l=c[k],!p.yqb(l,a));k++){;}for(;k < g && (!d || h.length < d);){l=c[k];if(!f || !l.images.length && l.endTime > a)h.push(l);else if(h.length)break;if(b && b <= l.$o)break;k++;}return h;}}};h.prototype.bcb=function(a){var b,c,f;b=this.Ih;if(b && 0 !== b.length){c=b[Math.floor(a / 6E4)];if(c && (c.Ku > a || a > c.$o)){this.Rbb || (this.Rbb=!0,c=p.fwb(this.wp.language),this.Fa.error("bruteforce search for ",{movieId:this.wp.u,packageId:this.wp.Wo,lang:c}));a:{for(var c=b.length,d=0;d < c;d++){f=b[d];if(f.Ku <= a && a <= f.$o){c=f;break a;}}c=void 0;}}return c;}};h.prototype.SEa=function(a){var b,c,d,f,h,k,l,m;c=this.Zn;d=c.ws;f=c.index;m=this.Ih;this.Aba(p.ic(a));d && (d.entries.length?0 === f && a <= d.startTime || a >= d.startTime && a <= d.endTime?(l=!0,b=c):0 < f && (k=m[f - 1],g(a,k,d) && (l=!0,b=c)):(k=m[f - 1],h=m[f + 1],g(a,k,d)?(l=!0,b=c):h && h.endTime && a <= h.endTime && (a >= d.endTime || a >= d.$o) && (l=!0,b=new n(h,f + 1))));if(!l)for((c=m.length,d=0);d < c;d++){if((f=m[d],f.entries.length && a <= f.endTime)){b=new n(f,d);break;}}return b;};h.prototype.Bcb=function(a){return this.Qq + this.BC + a <= this.adb;};h.prototype.tba=function(a){var b,c,d;b=this.Ih[a];c=b && b.images && b.images.length || 0;if(0 < c){d=p.rja([b]);b.images=[];this.KC.hVa(a);this.fGa(d);this.pC && this.Fa.debug("cleaning up space from sidx",{index:a,start:b.startTime,size:d,images:c,e5b:this.Qq});}};h.prototype.Aba=function(a){this.pC && p.assert(a,this.Fa);};d.W=h;},function(d,b,a){var g,h;function c(a){this.Ql=a.url;this.kO=a.request;this.yC=a.Hc || 0;this.pC=a.em;this.Fa=a.ma;this.bO={};}g=a(277);h=a(149);c.prototype.Dqb=function(a,b,c,d){var f;f=h.Aia(b,c);this.bO[f]=!0;a && a.forEach(function(a){a.bYa=!0;});this.kO({url:this.Ql,offset:b,size:c},this.beb.bind(this,a,b,c,d));};c.prototype.beb=function(a,b,c,d,k,n){var f,l,m,q;f=this;l=h.Aia(b,c);setTimeout(function(){delete f.bO[l];},1E3);if(k)(d && d(k,0),a && a.forEach(function(a){delete a.bYa;}));else {m=new g(n);q=0;a && a.forEach(function(a){delete a.bYa;a.entries.forEach(function(c,d){m.position=c.WD - b;c={data:m.Dk(c.qka)};a.images[d]=c;h.qUb(a.images[d].data,f.Aba.bind(f));q+=a.images[d].data.length;});});d && d(null,q);}};c.prototype.Aba=function(a){this.pC && h.assert(a,this.Fa);};d.W=c;},function(d){function b(a,b,d,g){this.Fa=g;this.id=a;this.startTime=b && b.oe || 0;this.endTime=b && b.Ie;this.mUa=b && b.next || [];this.WYa;this.TR=[];this.oJ=!1;a=this.startTime;b=this.endTime;for(var c=[],f=0;f < d.length;f++){(g=d[f]) && (!b || b > g.Ku) && a < g.$o && (g.Qzb(),c.push(g));}this.vm=c;}b.prototype.yJa=function(){this.Fa.debug("Cleaning up segment",this.id);for(var a,b=0,d,g=[],m=0;m < this.vm.length;m++){a=this.vm[m];(d=a.qpb()) && g.push(a);a && (b+=d);}this.vm=[];return {size:b,vm:g};};d.W=b;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.jUb=b.Q$a=b.O$a=b.N$a=b.P$a=void 0;c=a(27);g=a(9);b.P$a=function(a,b,c){for(c=(c - a.length) / b.length;0 < c--;){a+=b;}return a;};b.N$a=function(a,b,d){d=c.df(d)?d:"...";return a.length <= b?a:a.substr(0,a.length - (a.length + d.length - b)) + d;};b.O$a=function(a,b){var d;for(var c=1;c < arguments.length;++c){;}d=g.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof d[b]?d[b]:a;});};b.Q$a=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d < b;d++){c[d]=a.charCodeAt(d);}return c.buffer;};b.jUb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(7);b=a(103);a=a(265);d.ha.get(b.LB).d4(a.V8.j4a,function(a){var b,c;b=a.level;if(!O._cad_global.config || b <= O._cad_global.config.eDb){a=a.x5();c=O.console;1 >= b?c.error(a):2 >= b?c.warn(a):c.log(a);}});},function(d,b,a){var l,p,r,x,z;function c(a){var c,f;p.lI(a);if(r.df(a) && b.hxa.test(a)){c=a.split(".");if(4 === c.length){for(var d=0;d < c.length;d++){f=r.Xd(c[d]);if(0 > f || !z.jx(f,0,255) || 1 !== c[d].length && 0 === c[d].indexOf("0"))return;}return a;}}}function g(a){var b;b=0;if(c(a) === a)return (a=a.split("."),b+=r.Xd(a[0]) << 24,b+=r.Xd(a[1]) << 16,b+=r.Xd(a[2]) << 8,b + r.Xd(a[3]));}function h(a){var c;p.lI(a);if(r.df(a) && a.match(b.ixa)){c=a.split(":");-1 !== c[c.length - 1].indexOf(".") && (a=m(c[c.length - 1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2 < a.length || 1 === a.length && 8 !== c.length) && (c=1 < a.length?f(a):c,a=c.length,8 === a)){for(;a--;){if(!z.jx(parseInt(c[a],16),0,l.fya))return;}return c.join(":");}}}function m(a){var b;a=g(a) >>> 0;b=[];b.push((a >>> 16 & 65535).toString(16));b.push((a & 65535).toString(16));return b;}function f(a){var b,c,d;b=a[0].split(":");a=a[1].split(":");1 === b.length && "" === b[0] && (b=[]);1 === a.length && "" === a[0] && (a=[]);c=8 - (b.length + a.length);if(1 > c)return [];for(d=0;d < c;d++){b.push("0");}for(d=0;d < a.length;d++){b.push(a[d]);}return b;}function n(a){return -1 << 32 - a;}Object.defineProperty(b,"__esModule",{value:!0});b.A7a=b.F7a=b.C7a=b.B7a=b.E7a=b.z7a=b.D7a=b.HB=b.ixa=b.hxa=void 0;l=a(11);p=a(18);r=a(27);x=a(9);z=a(15);b.hxa=/^[0-9.]*$/;b.ixa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.HB="0000000000000000";b.D7a=c;b.z7a=g;b.E7a=h;b.B7a=m;b.C7a=f;b.F7a=function(a,d,f){var k,l,m,q;k=c(a);l=h(a);m=c(d);q=h(d);if(!k && !l || !m && !q || k && !m || l && !q)return !1;if(a === k)return (f=n(f),(g(a) & f) !== (g(d) & f)?!1:!0);if(a === l){a=a.split(":");d=d.split(":");for(k=x.sv(f / b.HB.length);k--;){if(a[k] !== d[k])return !1;}f%=b.HB.length;if(0 !== f)for((a=parseInt(a[k],16).toString(2),d=parseInt(d[k],16).toString(2),a=b.HB.substring(0,b.HB.length - a.length) + a,d=b.HB.substring(0,b.HB.length - d.length) + d,k=0);k < f;k++){if(a[k] !== d[k])return !1;}return !0;}return !1;};b.A7a=n;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(12);a(11);d=a(7);a(103);a(265);a(2);a(102);a(4);a=a(29);d.ha.get(a.ig);!1;},function(d,b,a){var c,g,h,m,f,n,l,p,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(48);g=a(11);h=a(12);m=a(2);f=a(288);n=a(32);l=a(9);p=a(7);d=a(29);r=p.ha.get(d.ig);r.register(m.L.dxa,function(a){l.Cz && l.Cz.generateKey && l.Cz.importKey && l.Cz.unwrapKey?!p.ha.get(n.$s).R4a && h.config.SO != f.XL.N9a && h.config.SO != f.XL.$7a || l.LV?(r.vd("wcs"),c.ZUa(l.Cz.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){r.vd("wcdone");a(g.$d);},function(b){var c;b="" + b;0 <= b.indexOf("missing crypto.subtle")?c=m.K.Oaa:0 <= b.indexOf("timeout waiting for iframe to load") && (c=m.K.nab);a({ja:c,ub:b});})):a({ja:m.K.mab}):a({ja:m.K.Oaa});});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(2);c=a(7);g=a(470);a=a(29);c.ha.get(a.ig).register(d.L.Twa,function(a){c.ha.get(g.w7)().then(function(){a({ia:!0});})["catch"](function(b){c.log.error("error in initializing indexedDb debug tool",b);a({ia:!0});});});},function(d,b,a){var m,f,n,l;function c(a,b,c,d){var k,q,p;m.lb(l.qf(a) && !l.isArray(a));d=d || "";k="";q=a.hasOwnProperty(n.mj) && a[n.mj];q && f.Jd(q,function(a,b){k && (k+=" ");k+=a + '="' + h(b) + '"';});c=(b?b + ":":"") + c;q=d + "<" + c + (k?" " + k:"");p=a.hasOwnProperty(n.Gq) && a[n.Gq].trim && "" !== a[n.Gq].trim() && a[n.Gq];if(p)return q + ">" + h(p) + "</" + c + ">";a=g(a,b,d + "  ");return q + (a?">\n" + a + "\n" + d + "</" + c + ">":"/>");}function g(a,b,d){var g;m.lb(l.qf(a) && !l.isArray(a));d=d || "";g="";f.Jd(a,function(a,k){var q;if("$" != a[0])for(var m=f.nR(k),n=0;n < m.length;n++){if((k=m[n],g && (g+="\n"),l.qf(k)))g+=c(k,b,a,d);else {q=(b?b + ":":"") + a;g+=d + "<" + q + ">" + h(k) + "</" + q + ">";}}});return g;}function h(a){if(l.df(a))return f.IQ(a);if(l.pa(a))return (m.EP(a,"Convert non-integer numbers to string for xml serialization."),"" + a);if(null === a || void 0 === a)return "";m.lb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.gSb=b.GBb=b.FBb=void 0;m=a(18);f=a(22);n=a(145);l=a(15);b.FBb=c;b.GBb=g;b.gSb=h;},function(d,b,a){var c,g,h,m,f,n,l,p,r,x,z,y,B,F,I,E,N,W,R;Object.defineProperty(b,"__esModule",{value:!0});c=a(268);g=a(189);h=a(12);m=a(11);f=a(2);n=a(18);l=a(7);p=a(66);r=a(67);x=a(63);z=a(22);y=a(9);B=a(15);F=a(48);I=a(102);E=a(4);d=a(29);N=a(437);W={};R=l.ha.get(d.ig);R.register(f.L.Wwa,function(a){var q,t,u,L,M,P,T,S,V,da,X,ea,ia,fa;function b(b){b && b.userList && h.config.xPb && (b.userList=[]);L({esn:g.ii.ji,esnPrefix:g.ii.Nz,authenticationType:h.config.SO,authenticationKeyNames:h.config.mIa,systemKeyWrapFormat:h.config.tRb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ia,storeState:b,notifyMilestone:R.vd.bind(R),log:T,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.K.p8a,MSL_READ_TIMEOUT:f.K.o8a}},{result:function(a){d(a);},timeout:function(){a({ja:f.K.pya});},error:function(b){a(k(f.K.pya,void 0,b));}});}function d(b){var d,g,q;function c(){ea && l.ha.get(x.Hs).create().then(function(a){return a.save(da,g,!1);})["catch"](function(a){T.error("Error persisting msl store",f.Jq(a));});}d=l.ha.get(I.fC)(E.Jb(100));q=M.extend({init:function(a){this.yFa=a;},getResponse:function(a,b,c){var d,f;b=this.yFa;d=b.XTa.cf || d;a=B.ila(a.body)?l.psa(a.body):a.body;n.lI(a,"Msl should not be sending empty request");a={url:b.url,yoa:a,withCredentials:!0,uD:"nq-" + b.method,headers:b.headers};b=this.yFa.timeout;a.qZ=b;a.kna=b;f=d.download(a,function(a){try{if(a.ia)c.result({body:a.content});else if(400 === a.Vi && a.ub)c.result({body:a.ub});else throw z.Eb(new P("HTTP error, SubCode: " + a.ja + (a.Vi?", HttpCode: " + a.Vi:"")),{cadmiumResponse:a});}catch(ff){c.error(ff);}});return {abort:function(){f.abort();}};}});V && b.addEventHandler("shouldpersist",function(a){g=a.storeState;d.Vc(c);});z.Eb(W,{U3b:function(){X=!0;},send:function(a){function c(){var b,c;b=a.XTa;c={method:a.method,nonReplayable:a.PFb,encrypted:a.hk,userId:a.gUb,body:a.body,timeout:2 * a.timeout,url:new q(a),allowTokenRefresh:ea,sendUserAuthIfRequired:fa,shouldSendUserAuthData:h.config.DPb};b.WLa?(c.email=b.WLa,c.password=b.password || ""):b.iSb?(c.token=b.iSb,c.mechanism=b.J4b,b.dna && (c.netflixId=b.dna,c.secureNetflixId=b.wNb),b.Poa && (c.profileGuid=b.Poa)):b.dna?(c.netflixId=b.dna,c.secureNetflixId=b.wNb):b.kEb?(c.mdxControllerToken=b.kEb,c.mdxPin=b.H4b,c.mdxNonce=b.G4b,c.mdxEncryptedPinB64=b.F4b,c.mdxSignature=b.I4b):X || b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.Poa && (c.profileGuid=b.Poa);return c;}return new Promise(function(a,d){var g;g=c();b.send(g).then(function(b){X && (X=!1);a({ia:!0,body:b.body});})["catch"](function(a){var c,g;if(a.error){c=a.error.cadmiumResponse && a.error.cadmiumResponse.ja?a.error.cadmiumResponse.ja:b.isErrorReauth(a.error)?f.K.oya:b.isErrorHeader(a.error)?f.K.i8a:f.K.h8a;g=b.getErrorCode(a.error);d(k(c,g,a.error));}else (T.error("Unknown MSL error",a),a.pd=a.subCode,d({ja:a.pd?a.pd:f.K.q8a}));});});},Q2:b});a(m.$d);l.ha.get(N.FV).wFb(W);}function k(a,b,c){var d,f,g,h;h={ja:a,FI:b};if(c){d=function(a){var b;a=a || "" + c;if(c.stack){b="" + c.stack;a=0 <= b.indexOf(a)?b:a + b;}return a;};if(g=c.cadmiumResponse){if(f=g.Ke && g.Ke.toString())g.Ke=f;g.ja=a;g.FI=b;g.ub=d(c.message);g.error={pd:a,Og:f,wu:b,data:c.cause,message:c.message};return g;}d=d(c.errorMessage);f=z.Xd(c.internalCode) || z.Xd(c.error && c.error.internalCode);g=void 0 !== c.$rb?F.Bna(c.$rb):void 0;}d && (h.ub=d);f && (h.Ke=f);h.error={pd:a,Og:f.toString(),wu:b,data:g,message:d};return h;}n.lb(h.config);q=l.ha.get(p.Gy);t=r.Am.Ii;if(y.By && y.Cz && y.Cz.unwrapKey){try{u=O.netflix.msl;L=u.createMslClient;M=u.IHttpLocation;P=u.MslIoException;}catch(Za){a({ja:f.K.j8a});return;}T=l.ph("Msl");S=h.config.sFb;V=h.config.uFb;da=h.config.au?"mslstoretest":"mslstore";u=c.kF.kZa;X=h.config.Lzb;ea=!u || u.ia;ia=l.lw(h.config.au?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");fa=! !h.config.qqa;l.ha.get(x.Hs).create().then(function(c){S?c.remove(da).then(function(){b();})["catch"](function(a){T.error("Unable to delete MSL store",f.Jq(a));b();}):V?c.load(da).then(function(a){q.mark(t.l8a);b(a.value);})["catch"](function(d){d.ja == f.K.Dy?(q.mark(t.n8a),b()):(T.error("Error loading msl store",f.Jq(d)),q.mark(t.m8a),c.remove(da).then(function(){b();})["catch"](function(b){a(b);}));}):b();})["catch"](function(b){T.error("Error creating app storage while loading msl store",f.Jq(b));a(b);});}else a({ja:f.K.k8a});});},function(d,b,a){var c,g,h,m,f,n,l,p,r,x,z,y,B,F,I;Object.defineProperty(b,"__esModule",{value:!0});c=a(180);g=a(11);h=a(12);m=a(58);f=a(50);d=a(2);n=a(7);l=a(66);p=a(9);r=a(55);x=a(15);z=a(47);y=a(64);a=a(29);I=n.ha.get(a.ig);I.register(d.L.Uwa,function(a){var d;function b(){var a,b,g;a=I.startTime;b={browserua:p.Dm,browserhref:p.NV.href,initstart:a,initdelay:I.endTime - a};(a=p.Fe.documentMode) && (b.browserdm="" + a);"undefined" !== typeof O.nrdp && O.nrdp.device && (b.firmware_version=O.nrdp.device.firmwareVersion);x.kx(h.config.PMa) && (b.fesn=h.config.PMa);Object.assign(b,c.mja());g=p.Ws && p.Ws.timing;g && h.config.aDb.map(function(a){var c;c=g[a];c && (b["pt_" + a]=c - f.HJa());});a=d.IOa();Object.entries(a).forEach(function(a){var c;c=T(a);a=c.next().value;c=c.next().value;return b["m_" + a]=c;});a=F.Mp("startup","info",b,m.uG.Pha);B.Uc(a);}F=n.ha.get(y.Lq);B=n.ha.get(z.El);d=n.ha.get(l.Gy);I.iR(function(){B.Ib();r.uc(b);});a(g.$d);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g,h,m,f,n,l,p,r,x,z,y,B,F,I;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);g=a(479);h=a(1206);m=a(272);f=a(12);n=a(11);l=a(184);p=a(525);r=a(50);d=a(2);x=a(7);z=a(260);y=a(9);B=a(187);b=a(29);F=a(58);I=a(83);x.ha.get(b.ig).register(d.L.Qwa,function(b){var d,k,q,t,u,E,L;d=x.ha.get(z.IM).Mfa();k=x.ha.get(l.q7).QF;q=x.ha.get(g.m9).Kk;t={GE:x.kQ("ASE"),Dhb:x.kQ("JS-ASE",void 0,"Platform"),ph:x.kQ,storage:B.storage,Pp:B.Pp,Fwb:y.PF,getTime:r.hi,AJ:{},Kk:q,ft:h.ft,QF:k,MediaSource:p.Qya,SourceBuffer:m.k9,$l:function(){return [f.config.KY,f.config.MY];},kr:function(a){F.Pn.forEach(function(b){b.FZa(a);});}};k=new Promise(function(a){B.storage.load("nh",function(b){t.AJ.nh=b.ia?b.data:void 0;a();});});q=new Promise(function(a){B.storage.load("lh",function(b){t.AJ.lh=b.ia?b.data:void 0;a();});});u=new Promise(function(a){B.storage.load("gh",function(b){t.AJ.gh=b.ia?b.data:void 0;a();});});E=new Promise(function(a){B.storage.load("sth",function(b){t.AJ.sth=b.ia?b.data:void 0;a();});});L=new Promise(function(a){B.storage.load("vb",function(b){t.AJ.vb=b.ia?b.data:void 0;a();});});Promise.all([k,q,L,E,u]).then(function(){var g;g=a(1208)(t);I.Xf.Yc=a(526);I.Xf.Yc.declare(c.Wm);I.Xf.Yc.declare({kB:["useMediaCache",!1],Gz:["diskCacheSizeLimit",0],p2b:["dailyDiskCacheWriteLimit",0],yR:["mediaCachePrefetchMs",8E3],Gma:["mediaCachePartitionConfig",{}]});I.Xf.Yc.set(a(178)(f.config),!0,x.kQ("ASE"));g=c.JSa(g);I.Xf.Rl=new g(I.Xf.Yc,d);I.Xf.Rl.Ib(f.config.KY,f.config.MY,{GE:t.GE},f.config.IS);b(n.$d);})["catch"](function(a){t.GE.error("Exception loading location history from local storage",a);});});},function(d,b,a){var g,h,m,f,n,l,p;function c(){var a;a=new h.pj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.cc.bind(this);this.TX=l++;this.Jg=m.ph("ProbeRequest");this.TFa=g.mBa;f.lb(void 0 !== this.TFa);this.Kg=b.ft.gc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ft=void 0;g=a(1207);h=a(69);m=a(7);f=a(18);n=a(27);l=0;(function(){function a(){return JSON.stringify({url:this.Ql,id:this.TX,affected:this.NW,readystate:this.Kg});}n.Eb(c.prototype,{yu:function(a){a.affected=this.NW;a.probed={requestId:this.TX,url:this.Ql,Tb:this.oO,groupId:this.wX};this.emit(b.ft.Zd.KM,a);},una:function(a){this.xfb=a.httpcode;a.affected=this.NW;a.probed={requestId:this.TX,url:this.Ql,Tb:this.oO,groupId:this.wX};this.emit(b.ft.Zd.VB,a);},open:function(a,c,d,f){if(!a)return (!1,!1);this.Ql=a;this.NW=c;this.oO=d;this.Kg=b.ft.gc.OPENED;this.Wcb=f;this.TFa.hQ(this);return !0;},ac:function(){!1;return !0;},kk:function(){return this.TX;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Kg;},set:function(){}},status:{get:function(){return this.xfb;}},url:{get:function(){return this.Ql;}},r1b:{get:function(){return this.NW;}},UCb:{get:function(){return this.Wcb;}}});})();(function(a){a.Zd={KM:"pr0",VB:"pr1"};a.gc={UNSENT:0,OPENED:1,zv:2,DONE:3,WF:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(p || (p={}));b.ft=Object.assign(c,p);},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.mBa=void 0;c=a(7);g=a(68);b.mBa=(function(){c.ph("ProbeDownloader");return {hQ:function(a){a={url:a.url,$Jb:a};!1;g.cf.cKb(a);}};})();},function(d,b,a){var l,p,r,x,z,y,B,F,I,E,N,O,R,M,D,P;function c(a,b,c){this.Rm=a;this.Jja=b;this.prefix=c;a=E(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function g(){this.sLa=l.Pp.sLa.bind(l.Pp);this.vZ=l.Pp.vZ.bind(l.Pp);this.tI=l.Pp.tI;this.oG="NDA";}function h(){}function m(){}function f(){return I?I:"0.0.0.0";}function n(a){a({gVa:0,AT:0,mQa:0,OMa:0});}l=a(187);g.prototype.set=function(a,b){x[a]=b;z.save(a,b);};g.prototype.get=function(a,b){if(x.hasOwnProperty(a))return x[a];F.trace("key: " + a + ", is not available in storage cache and needs to be retrieved asynchronously");z.load(a,function(c){c.ia?(x[a]=c.data,b && b(c.data)):x[a]=void 0;});};g.prototype.remove=function(a){z.remove(a);};g.prototype.clear=function(){F.info("WARNING: Calling unimplemented function Storage.clear()");};h.prototype.now=function(){return y();};h.prototype.da=function(){return B();};h.prototype.$ma=function(a){return a + y() - B();};h.prototype.vna=function(a){return a + B() - y();};b=a(125).EventEmitter;a(62)(b,m.prototype);c.prototype.GKa=function(a){var b;b=[];this.prefix && Array.isArray(this.prefix)?b.push.apply(b,[].concat(ea(this.prefix))):this.prefix && b.push(this.prefix);b.push(a);return new c(this.Rm,this.Jja,b);};N=(function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;})();d.W=function(a){p=a.GE;E=a.ph;z=a.storage;x=a.AJ;y=a.Fwb;B=a.getTime;F=a.Dhb;O=a.Kk;P=a.ft;R=a.QF;M=a.SourceBuffer;D=a.MediaSource;I=a.W3b;r=a.kr;return {name:"cadmium",kr:r,GE:p,storage:new g(),Storage:g,time:new h(),events:new m(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:N,Kk:O,QF:R,t8a:M,MediaSource:D,ft:P,jn:{name:f},memory:{Svb:n},$l:a.$l};};},function(d,b,a){var g,h,m,f,n,l,p,r,x;function c(a,b){var k,q,t,u,y,z,D,F,N,P,T;function c(){var c;c=a.Xb.value === r.tb.Wc && a.state.value === r.yb.yd && a.u === b.u;T?c || (clearInterval(T),z=T=void 0):c && (T=O.setInterval(d,1E3));}function d(){var b,c,d,g,h,k;b=a.wf.value;b=(b=b && b.stream) && b.height;if(null !== b && 0 < b){c=f.hi();d=a.Qh.MD();if(d){if(z && 2E3 > c - z.time && b === z.height){g=d - z.Rqb;h=q[b];h || (q[b]=h=[],b > F && (y.push(b),m.lU(y)));0 < g && !(P && P < b) && (P=b);h.push(g);h.length > D && h.shift();(h=u[b]) || (u[b]=h={});k=h[g];h[g]=k?k + 1:1;}z={time:c,Rqb:d,height:b};a.A3 && a.A3.zOb(q);}}}k=n.Pg(a,"DFF");q={};t=g.config.Vqb;u={};y=[];D=g.config.Tqb;F=g.config.Uqb;N=h.eya;if(g.config.Sqb)return (b.Sga={Cub:function(){var a;a={};u && y.forEach(function(b){var c,d,f;c=u[b];if(c){d=0;f=0;x.Jd(c,function(a,b){f+=l.Xd(a);d+=b;});a[b]=f / d;}});return a;},vQ:function(a){var b;b={};a.forEach(function(a){b[a]={};});u && (m.lU(a),y.forEach(function(c){var d,f,g,h;d=u[c];if(d){f=0;g=0;x.Jd(d,function(a,b){f+=b;});h=Object.keys(d).map(Number);m.lU(h);for(var k=h.length - 1,l=h[k],n=a.length - 1;0 <= n;n--){for(var q=a[n];l >= q && 0 <= k;){(l=d[l]) && (g+=l);l=h[--k];}b[q][c]=p.ai(g / f * 100);}}}));return b;}},a.state.addListener(c),a.Xb.addListener(c),a.addEventListener(r.V.iq,c),{HI:"df",us:function(a){var c,f,g,h;if(a.lower && a.height > F){a=a.height;a:{if(P){c=y.length;for(var d=0;d < c;d++){f=y[d];if(f >= P && f < N){g=q[f];if(h=g)b:{h=t.length;for(var l=g.length,m=0;m < h;m++){for(var n=t[m],p=n[0],n=n[1],r=0;r < l;r++){if(g[r] >= n && 0 >= --p){h=!0;break b;}}}h=!1;}if(h && N != f){k.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:f});b.so.set({reason:"droppedFrames",height:f});c=N=f;break a;}}}P=void 0;}c=N;}a=a >= c;}else a=!1;return a;}});}Object.defineProperty(b,"__esModule",{value:!0});b.u8a=void 0;d=a(95);g=a(12);h=a(11);m=a(48);f=a(50);n=a(7);l=a(27);p=a(9);r=a(14);x=a(22);d.QB(c);b.u8a=c;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(95).QB(function(){return {HI:"op",us:function(){}};});},function(d,b,a){var g,h;function c(a,b){var c,d;c=h.Pg(a,"MSS");if(g.config.MEb)return {HI:"mss",us:function(a){var f,g;if(a.lower && 2160 <= a.height)a:{for(f=a;f.lower;){if(2160 > f.height && 1080 < f.height){f=!0;break a;}if(1080 >= f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0 === d){try{g=O.MSMediaKeys;d=g && g.isTypeSupportedWithFeatures?"probably" === g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(z){c.error("hasUltraHdDisplay exception");d=!0;}d || (c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.so.set({reason:"microsoftScreenSize",height:a.height}));}return !d;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.v8a=void 0;d=a(95);g=a(12);h=a(7);d.QB(c);b.v8a=c;},function(d,b,a){var g,h,m,f;function c(a){var c,d;function b(f){f=f.mkb;a.removeEventListener(m.V.cna,b);try{h.tRa(f.data[0]) && (d=!0,a.cPb());c.trace("RA check",{HasRA:d});}catch(z){c.error("RA check exception",z);}}if(g.ha.get(f.sj).NLb){c=g.Pg(a,"RAF");a.addEventListener(m.V.cna,b);return {HI:"ra",us:function(a){if(!d && a.mu)return (a=a.Yf,!(0 < a.toLowerCase().indexOf("l30") || 0 < a.toLowerCase().indexOf("l31")));}};}}Object.defineProperty(b,"__esModule",{value:!0});b.w8a=void 0;d=a(95);g=a(7);h=a(523);m=a(14);f=a(32);d.QB(c);b.w8a=c;},function(d,b,a){var c,g,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(95);c=a(12);g=a(7);h=a(1214);d.QB(function(a,b){if(c.config.KBb)return new h.yxa(a,b,g.sf,c.config,g.wa,g.ya);});},function(d,b,a){var g,h;function c(a,b,c,d,k,n){var f;f=this;this.j=a;this.wn=b;this.ma=c;this.config=d;this.wa=k;this.ya=n;this.jhb=function(a){!0 === a.oldValue && !1 === a.newValue && (f.log.error("RestartStreaming: UHD key is no longer usable"),f.j.NMb());};this.QSb=function(a){var b,c,d;f.log.trace("UhdKeyStatus: " + a.oldValue + " -> " + a.newValue);c=null === a || void 0 === a?void 0:a.newValue;d=null === a || void 0 === a?void 0:a.oldValue;"usable" !== c && (f.sOb(c,(null === (b=null === a || void 0 === a?void 0:a.Cw) || void 0 === b?void 0:b.height) || 0),"usable" === d && (a=f.wa.ve.Ia(f.MBb),f.log.error("UHD KeyStatus unexpectedly changed: " + a.ba(h.fa))));};this.ARa=!1;this.log=this.ma.ob("KeyStatusStreamFilter",this.j);this.wHa=new g.Lc(!1,this.jhb);this.PSb=new g.Lc(void 0,this.QSb);}Object.defineProperty(b,"__esModule",{value:!0});b.yxa=void 0;g=a(188);h=a(4);c.prototype.us=function(a){this.UQb();this.wHa.set(this.ARa && this.Yyb);return a.lower && 1080 < a.height && !this.wHa.value?!0:!1;};c.prototype.olb=function(){this.Yyb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.fQa);};c.prototype.bob=function(){var a,b,c;b={};c=null === (a=this.wn.Fg.value) || void 0 === a?void 0:a.fs;null === c || void 0 === c?void 0:c.forEach(function(a){b[a.fq]=a.p4.height;});this.log.trace("KeyStatusMap",b);return b;};c.prototype.JFb=function(a){var b;b=this.LBb[a.fq];1080 < b && (this.ARa="usable" === a.value,this.PSb.set(a.value,{height:b}));};c.prototype.UQb=function(){var a,b,c;a=this;b=this.wn.Td;c=b && b.PRa;!this.qBb && c && (this.qBb=!0,this.LBb=this.bob(),b.PRa().subscribe(function(b){return a.JFb(b);}),this.ya.yh(h.Jb(this.config.fQa),function(){return a.olb();}),this.MBb=this.wa.ve);};c.prototype.sOb=function(a,b){this.log.error("Restricting resolution due to keyStatus",{keyHeight:b,keyStatus:a});this.wn.so.set({reason:"keyStatus",height:b});};pa.Object.defineProperties(c.prototype,{HI:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.yxa=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(95);c=a(12);g=a(7);d.QB(function(a,b){var d,h,k,m;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.RSb);h=d[b.Nd];if(c.config.SSb && h){k={};m=g.Pg(a,"MediaStreamFilter");return {HI:"uiLabel",us:function(a){if(a.lower && a.height > h)return (k[a.height] || (k[a.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:h,streamHeight:a.height}),b.so.set({reason:"uiLabel",height:a.height})),!0);}};}});},function(d,b,a){var c,g,h,m,f,n,l,p,r,x,z,y,B,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(180);g=a(524);d=a(58);h=a(12);m=a(59);f=a(11);n=a(48);l=a(50);p=a(22);r=a(9);x=a(7);z=a(113);y=a(14);B=a(29);F=a(32);d.y$(d.t$,function(a){var L,N,O,Q,P,T;function b(c){c.newValue >= y.yb.LOADING && (a.state.removeListener(b),I("type=openplay&sev=info&locstor=" + r.MV(u())),O=l.hi(),q());}function d(){T("type=startplay&sev=info&outcome=success");}function k(){var b,d;b=a.Ej;if(b){d="type=startplay&sev=error&outcome=error";b=c.bja(x.ha.get(F.sj).CD,b);p.Jd(b,function(a,b){d+="&" + r.MV(a) + "=" + r.MV(b || "");});T(d);}else T("type=startplay&sev=info&outcome=abort");}function q(){var a,b;a=Q.shift();if(0 < a){b=r.Cm(a - (l.hi() - O),0);N=setTimeout(function(){I("type=startstall&sev=info&kt=" + a);q();},b);}}function t(){T("type=startplay&sev=info&outcome=unload");}function u(){var a,b,c;try{b="" + l.lZ();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b == c?"success":"mism";}catch(Aa){a="ex: " + Aa;}return a;}function I(b){b=P + "&soffms=" + a.jja() + "&" + b;a.Ed && Object.keys(a.Ed).length && (b+="&" + n.fK(p.Eb({},a.Ed,{prefix:"sm_"})));g.A0a("playback",b,L);}L=x.ha.get(z.oB).host + h.config.Jra;if(h.config.B0a && L && h.config.C0a.playback){Q=h.config.qSb.slice();P="xid=" + a.ea + "&pbi=" + a.index + "&uiLabel=" + (a.Nd || "");a.state.addListener(b);a.addEventListener(y.V.Yo,d);a.addEventListener(y.V.Kf,k);m.Re.addListener(m.bm,t,f.WB);T=function(b){var c;T=f.$g;c=x.ha.get(B.ig);b+="&initstart=" + c.startTime + "&initend=" + c.endTime;I(b);clearTimeout(N);a.removeEventListener(y.V.Yo,d);a.removeEventListener(y.V.Kf,k);m.Re.removeListener(m.bm,t);};}});},function(d,b,a){var c,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);g=a(11);d=a(2);h=a(7);m=a(151);a=a(29);h.ha.get(a.ig).register(d.L.Swa,function(a){c.config.Ztb && h.ha.get(m.R7).start();a(g.$d);});},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.vua=void 0;c=a(68);g=a(48);h=a(18);m=a(22);f=a(27);b.vua=function(a,b){h.lb(a);h.lb(b);h.lI(b.Rrb,"endpointURL property is required");h.lb(b.zj);this.log=a;this.jWa=b;};b.vua.prototype.Rz=function(){var a,b,d;a=this;a.log.trace("Downloading config data.");b={browserInfo:JSON.stringify(a.jWa.zj)};d=a.jWa.Rrb + "?" + g.fK(b);return new Promise(function(b,g){function h(b){var c;try{if(b.ia){c=new Uint8Array(b.content);return {ia:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return {ia:!1,message:"Unable to download the config. " + b.ub,UD:b.Vi};}catch(da){return (b=m.$e(da),a.log.error("Unable to download the config. Received an exception parsing response",{message:da.message,exception:b,url:d}),{ia:!1,ub:b,message:"Unable to download the config. " + da.message});}}function k(b,c,d){return c > d?(a.log.error("Config download failed, retry limit exceeded, giving up",f.Eb({Attempts:c - 1,MaxRetries:d},b)),!1):!0;}function l(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function n(d,q,p){c.cf.download(d,function(c){var r;c=h(c);if(c.ia)b(c);else {a.log.warn("Config download failed, retrying",f.Eb({Attempt:q,WaitTime:r,MaxRetries:p},c));if(k(c,q + 1,p))return (r=m.Xoa(1E3,1E3 * Math.pow(2,Math.min(q - 1,p))),l(r).then(function(){return n(d,q + 1,p);}));g(c);}});}return c.cf?n({url:d,responseType:3,withCredentials:!0,uD:"config-download"},1,3):Promise.reject({ia:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(d,b,a){var c,g,h,m,f,n,l,p,r,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(189);g=a(191);h=a(11);m=a(12);d=a(2);f=a(7);n=a(18);l=a(22);p=a(27);r=a(15);x=a(47);z=a(64);a=a(29);f.ha.get(a.ig).register(d.L.bxa,function(a){var b,d;b=f.ph("NccpApi");d=l.THa(["info","warn","trace","error"]);g.HW.NY.nccp={getEsn:function(){return c.ii.ji;},getPreferredLanguages:function(){return m.config.qr.Doa;},setPreferredLanguages:function(a){n.lb(r.isArray(a) && p.kx(a[0]));m.config.qr.Doa=a;},queueLogblob:function(a,c,g){var h;if(a && c)if((c=c.toLowerCase(),d[c])){h=f.ha.get(x.El);a=f.ha.get(z.Lq).Mp(a,c,g);h.Uc(a);}else b.warn("Invalid severity",{severity:c});},flushLogblobs:function(){f.ha.get(x.El).flush(!0);}};a(h.$d);});},function(d,b,a){var c,g,h,m,f,n,l,p,r,x,z;Object.defineProperty(b,"__esModule",{value:!0});d=a(29);b=a(2);c=a(6);g=a(32);h=a(186);m=a(11);f=a(12);n=a(7);l=a(83);p=a(58);r=a(191);x=a(271);z=a(82);n.ha.get(d.ig).register(b.L.cxa,function(a){var k,q,t;function b(a,b){return void 0 === a || void 0 === b?Promise.reject("Invalid email and/or password"):n.ha.get(x.WV).Le(this.log,{},{WLa:a,password:b}).then(function(){});}function d(a){var b;b=n.ha.get(z.kt);return b.QMa.fetch(a,b);}if(f.config.msb){k=n.ha.get(h.QM);q=n.ha.get(g.sj);t=n.ha.get(c.xb).ob("Test");r.HW.NY.test={pboRequests:k.TA.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:p.Pn,getPlayback:function(a){return p.Pn.find(function(b){return b.ea === a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,d;return void 0 !== (null === (d=null === (c=p.Pn.find(function(b){return b.ea === a;})) || void 0 === c?void 0:c.Ab) || void 0 === d?void 0:d.i0(b));}},aseManager:{cacheDestroy:function(){return l.Xf.Rl.rw();}},device:{esn:O._cad_global.device.ji,esnPrefix:q.Nz,errorPrefix:q.CD},log:{info:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return t.info(a,c);},error:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return t.error(a,c);},warn:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return t.warn(a,c);},trace:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return t.trace(a,c);},log:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return t.log(a,c);},debug:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return t.debug(a,c);}},login:b,getManifest:d};}a(m.$d);});},function(d,b,a){var c,g,h,m,f,n,l,p,r;Object.defineProperty(b,"__esModule",{value:!0});d=a(191);c=a(11);g=a(12);h=a(58);b=a(6);m=a(7);f=a(47);n=a(103);l=a(18);p=a(27);r=a(9);O.netflix=O.netflix || ({});l.lb(!O.netflix.player);O.netflix.player={VideoSession:d.HW,diag:{togglePanel:function(a,b){var c;c=[];if(!g.config || g.config.ES){switch(a){case "info":c=h.Pn.map(function(a){return a.A3;});break;case "streams":c=h.Pn.map(function(a){return a.B3;});break;case "log":c=[];}c.forEach(function(a){p.ic(b)?b?a.show():a.Zp():a.toggle();});}},addLogMessageSink:function(a){m.ha.get(f.El).addListener({e6b:function(){},BEb:function(b){a({data:b.data});}});}},log:m.ph("Ext"),LogLevel:b.Gi,addLogSink:function(a,b){m.ha.get(n.LB).d4(a,b);},getVersion:function(){return "6.0026.945.051";},isWidevineSupported:function(a){var d;function b(a){return function(b,c){return c.contentType == a;};}if("function" !== typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Ss,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.wy,robustness:"SW_SECURE_CRYPTO"}]}];try{r.bi.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var f;f=d.getConfiguration();d=f.videoCapabilities || [];f=(f.audioCapabilities || []).reduce(b(c.wy),!1);d=d.reduce(b(c.Ss),!1);a(f && d);})["catch"](function(){a(!1);});}catch(B){a(!1);}}};},function(d,b,a){var c,g,h,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);g=a(11);d=a(2);h=a(7);b=a(29);m=a(82);h.ha.get(b.ig).register(d.L.Ywa,function(b){var d,k,n;if(c.config.cJb){d=h.ph("PlayerPredictionModel");k=h.ha.get(m.kt);n=a(1223);d.log=d.trace.bind(d);f=new n({},d,{HS:function(a){O._cad_global.prefetchEvents.Tpb(a.TZ);},VXa:function(a){O._cad_global.prefetchEvents.GJb(a);}},k,{Qx:function(){}});O._cad_global.playerPredictionModel=f;d.info("ppm v2 initialized");}b(g.$d);});},function(d,b,a){var m,f,n,l,p,r,x;function c(a,b,c,d,f,g){this.u=this.la=a;this.me=b;this.Hc=c;g && g.Nd && (this.Nd=g.Nd);void 0 !== d && (this.FE=d);this.Fj=f;this.Za=g;}function g(a,b,c,d,f){n(void 0 !== d,"video preparer is null");n(void 0 !== f,"ui preparer is null");this.G=b || console;this.G=b;this.Fa=c;this.Vfb=d;this.Nfb=f;this.QFa=r.Aoa;this.zH=[];this.ada=!1;this.rp=0;new x().on(r,"changed",h,this);this.reset();}function h(){this.G.log("config changed");r.Aoa && (this.QFa=r.Aoa);r.LR !== this.kH && (this.reset(),this.rpa());}m=a(278);f=a(279);b=a(527);n=b.assert;l=b.XMa;p=a(1224);r=a(528).config;x=a(125).Yg;r.declare({Aoa:["ppmConfig",{WVb:{IUa:0,HUa:2,FUa:0,GUa:5,HZa:0},k0b:{IUa:0,HUa:1,FUa:0,GUa:3,HZa:1E3},kWb:{IUa:0,HUa:1,FUa:0,GUa:3,HZa:1E3}}]});g.prototype.constructor=g;g.prototype.reset=function(){this.Nba=!0;this.kH=r.LR;this.G.log("create model: " + r.LR,r.wYa,r.NJa);switch(r.LR){case "modelone":this.kH=new p(this.G);break;default:this.kH=new p(this.G);}};g.prototype.rpa=function(){var b,c;if(!1 === this.ada){this.ada=!0;for(var a=0;a < this.zH.length;a++){this.G.log("PlayPredictionModel replay: ",JSON.stringify(this.zH[a]));b=this.pKa(this.zH[a]);c=this.FNa(b);this.kH.update(b,c);this.Nba=!1;}this.zH=[];}};g.prototype.update=function(a){var b,c,d;this.G.log("PlayPredictionModel update: ",JSON.stringify(a));if(a && a.Ka && a.Ka[0]){!1 === this.ada && this.zH.length < r.YDb && this.zH.push(a);b=this.pKa(a);c=this.FNa(b);this.G.log("actionType",c);b="mlmodel" == r.LR?this.kH.update(a,c):this.kH.update(b,c);b=this.fub(b,r.ABb || 1);this.G.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0 === this.rp && (this.rp=m(),this.Fa && this.Fa.HS && this.Fa.HS({TZ:this.rp}));if(this.Fa && this.Fa.VXa){d={TZ:this.rp,offset:this.n0(),yWa:[]};b.forEach(function(a){d.yWa.push({zs:a.la});});d.sWa=JSON.stringify(a);d.tWa=JSON.stringify(b);this.Fa.VXa(d);}this.Vfb.Qx(b);this.Nfb.Qx(b);this.Nba=!1;}};g.prototype.BMb=function(){this.rp=0;};g.prototype.n0=function(){return m() - this.rp;};g.prototype.HS=function(){this.rp=m();this.Fa && this.Fa.HS && this.Fa.HS({TZ:this.rp});};g.prototype.pKa=function(a){var b,c,d,g,h;b={};g=a.Ka || [];h=(function(a){var g,h;g={};c=f.BM.name.indexOf(a.context);g.context=0 <= c?c:f.BM.vv;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];d=a.list || [];d.forEach((function(a){h={la:a.la,Hc:a.Hc,index:a.index,FE:a.FE,vK:a.vK,list:a.list,Za:a.Za};void 0 !== a.property && (c=f.cG.name.indexOf(a.property),h.property=0 <= c?c:f.cG.vv);g.list.push(h);}).bind(this));b.Ka.push(g);}).bind(this);void 0 !== a.direction && (c=f.Ts.name.indexOf(a.direction),b.direction=0 <= c?c:f.Ts.vv);void 0 !== a.dQ && (b.k3b=a.dQ.rowIndex,b.j3b=a.dQ.klb);b.dQ=a.dQ;b.Ka=[];g.forEach(h);return b;};g.prototype.FNa=function(a){var b,c,d;b=a.direction || f.Ts.vv;c=a.dQ;d=a.Ka || [];!0 === this.Nba?a=f.dv.dwa:!0 === d.some(this.Vyb)?(a=f.dv.LM,this.h4(d,b,c)):a=d[0].context === f.BM.oW?f.dv.oW:b === f.Ts.vBa || b === f.Ts.zxa?f.dv.JBa:f.dv.vv;return a;};g.prototype.Vyb=function(a){return (a.list || []).some(function(a){return a.property === f.cG.LM || a.property === f.cG.Lua;});};g.prototype.h4=function(a,b,c){var d,g;this.G.log("reportPlayFocusEvent: ",b,c);d={};g=l(a);this.Fa && this.Fa.h4 && (d.$2b=m(),d.direction=f.Ts.name[b],c && (d.rowIndex=c.rowIndex,d.kfa=c.klb),void 0 !== g.fj && (d.requestId=a[g.fj].requestId),this.Fa.h4 && this.Fa.h4(d));};g.prototype.fub=function(a,b){for(var c=a.length,d=[],f,g,h,k,l=0;l < c;l++){g=a[l];f=Math.floor(l / b) + 1;if(void 0 !== g.list){h=g.list;k=h.length;for(var m=0;m < Math.min(r.ilb,k) && !(h[m].Fj=g.Fj,this.bHa(h[m],f,d),d.length >= r.jTa);m++){;}}else this.bHa(g,f,d);if(d.length >= r.jTa)break;}return d;};g.prototype.bHa=function(a,b,d){var g,h;function f(a){a.Nd && (a.Za || (a.Za={}),a.Za.Nd=a.Nd);return a.Za;}g=a.vK;void 0 !== g && g instanceof Array?g.forEach(function(g){void 0 !== g.la && (h=f(g),d.push(new c(g.la,b,g.Hc,g.FE,a.Fj,h)));}):void 0 !== g && void 0 !== g.la && (g=a.vK,h=f(g),d.push(new c(g.la,b,g.Hc,g.FE,a.Fj,h)));void 0 !== a.la && (h=f(a),d.push(new c(a.la,b,a.Hc,a.FE,a.Fj,h)));};g.prototype.Rz=function(a){var b;b=this.QFa;return a?b[a]:b;};d.W=g;},function(d,b,a){var h,m,f,n,l,p,r,x,z,y;function c(a,b){this.fj=a;this.Uk=b;}function g(a){this.G=a;this.reset();}h=a(278);m=a(279);b=a(527);f=a(528).config;n=b.avb;l=b.Iub;p=b.Vpb;r=b.BGb;x=b.AGb;z=b.zGb;y=b.XMa;g.prototype.constructor=g;g.prototype.reset=function(){this.SFa=void 0;this.wj=[];this.EFa=this.FFa=!1;};g.prototype.update=function(a,b){var c;this.wj && (this.wj=this.wj.filter(this.zPb,this));if(!1 === this.FFa){c=n(a.Ka).slice(0,f.TKa);0 < c.length && (this.qE(c,m.gv.Rj),this.FFa=!0,this.wj=this.CF(c.concat(this.wj)));}!1 === this.EFa && (c=l(a.Ka).slice(0,f.TKa),0 < c.length && (this.qE(c,m.gv.Rj),this.EFa=!0,this.wj=this.CF(c.concat(this.wj))));switch(b){case m.dv.dwa:b=this.xyb(a);break;case m.dv.JBa:b=this.Fyb(a);break;case m.dv.oW:b=this.Gyb(a);break;case m.dv.LM:b=this.Byb(a);break;default:b=this.uyb(a);}this.SFa=a;return b;};g.prototype.xyb=function(a){a=r(a.Ka,f.wYa,f.NJa);this.qE(a,m.gv.Rj);return this.wj=this.CF(this.wj.concat(a));};g.prototype.Fyb=function(a){var b,c;this.G.log("handleScrollHorizontal");b=a.Ka;a=r(b,f.yYa,f.OJa);c=p(b,this.SFa.Ka);b=b[c].list.slice(0,f.YMb);b.concat(a);this.qE(b,m.gv.uaa);return this.CF(b.concat(this.wj));};g.prototype.qE=function(a,b){a.forEach(function(a){if(void 0 === a.vz || a.vz < b)a.vz=b;void 0 === a.yL && (a.yL=h());void 0 === a.Fj && (a.Fj=h());});};g.prototype.Gyb=function(a){this.G.log("handleSearch");a=x(a.Ka,f.uNb);this.qE(a,m.gv.LBa);this.wj=a.concat(this.wj);return this.wj=this.CF(this.wj);};g.prototype.Byb=function(a){var b,d,g,h,k;this.G.log("handlePlayFocus: ",f.HQ);b=a.direction;d=a.Ka;a=[];g=y(d);if(void 0 !== g.fj)switch((a.push(g),b)){case m.Ts.vBa:for(b=1;b < f.HQ;b++){a.push(new c(g.fj,g.Uk + b));}a.push(new c(g.fj - 1,g.Uk));a.push(new c(g.fj + 1,g.Uk));break;case m.Ts.zxa:for(b=1;b < f.HQ;b++){a.push(new c(g.fj,g.Uk - b));}a.push(new c(g.fj - 1,g.Uk));a.push(new c(g.fj + 1,g.Uk));break;case m.Ts.fab:a.push(new c(g.fj - 1,g.Uk));for(b=1;b <= f.HQ / 2;b++){a.push(new c(g.fj,g.Uk + b));a.push(new c(g.fj,g.Uk - b));}break;case m.Ts.q5a:for((a.push(new c(g.fj + 1,g.Uk)),b=1);b <= f.HQ / 2;b++){a.push(new c(g.fj,g.Uk + b));a.push(new c(g.fj,g.Uk - b));}}h=[];a.forEach(function(a){k=z(d,a.fj,a.Uk);void 0 !== k && h.push(k);});this.qE(h,m.gv.uaa);return this.CF(h.concat(this.wj));};g.prototype.uyb=function(a){this.G.log("ModelOne: handleDefaultCase");a=r(a.Ka,f.yYa,f.OJa);this.qE(a,m.gv.uaa);return this.CF(a.concat(this.wj));};g.prototype.zPb=function(a){return a.vz == m.gv.Rj | a.vz == m.gv.LBa & h() - a.yL < f.kzb;};g.prototype.CF=function(a){var b,c,d,f,g,h,k;b=[];c={};h=0;k=a.length;for(g=0;g < k;g++){d=a[g].la;f=a[g];!1 === (d in c)?(b.push(f),c[d]=h,h++):(d=b[c[d]],f.Fj < d.Fj && (d.Fj=f.Fj),f.vz > d.vz && (d.vz=f.vz),f.yL > d.yL && (d.yL=f.yL));}return b;};d.W=g;},function(d,b,a){var c,g,h,m,f,n,l,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(83);g=a(11);d=a(2);h=a(7);m=a(115);f=a(67);n=a(82);b=a(29);l=a(183);h.ha.get(b.ig).register(d.L.Xwa,function(a){var b,d;b=h.ha.get(n.kt);d=O._cad_global.playerPredictionModel;b && O._cad_global.playerPredictionModel && (p=h.ha.get(m.J$).create(d,b.DJb.bind(b)),O._cad_global.prefetchEvents=p,b.ak.on("deletedCacheItem",function(a){p.cP(f.Am.NM[a.type],parseInt(a.movieId,10),a.reason);}),c.Xf.Rl.addEventListener("cacheEvict",function(a){p.cP(m.Ne.Ik.tM,a.movieId,"ase_cacheEvict");p.cP(m.Ne.Ik.MEDIA,a.movieId,"ase_cacheEvict");}),c.Xf.Rl.addEventListener("flushedBytes",function(){c.Xf.Rl.eP().forEach(function(a){p.cP(m.Ne.Ik.MEDIA,a.u,"ase_flushedBytes");},this);}),b.fg.addEventListener(l.et.S_a,function(a){p.yjb(f.Am.NM[a.type],a.u);}),b.fg.addEventListener(l.et.Q_a,function(a){p.tjb(f.Am.NM[a.type],a.u,a.reason);}),b.fg.addEventListener(l.et.R_a,function(a){p.vjb(f.Am.NM[a.type],a.u,a.reason);}),b.fg.addEventListener(l.et.T_a,function(a){p.Ajb(f.Am.NM[a.type],a.u,a.reason);}));a(g.$d);});}]);}).call(O);})(window);}).call(window);