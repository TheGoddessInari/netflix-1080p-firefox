a000.J62=function(){return typeof a000.I62.a62 === 'function'?a000.I62.a62.apply(a000.I62,arguments):a000.I62.a62;};a000.q62=function(){return typeof a000.I62.r62 === 'function'?a000.I62.r62.apply(a000.I62,arguments):a000.I62.r62;};function a000(){}a000.W62=function(){return typeof a000.I62.r62 === 'function'?a000.I62.r62.apply(a000.I62,arguments):a000.I62.r62;};a000.I62=(function(N62){return {a62:function(){var D62,Z62=arguments;switch(N62){case 3:D62=Z62[1] / Z62[0] / Z62[2];break;case 12:D62=Z62[0] * Z62[2] / Z62[1] | Z62[3];break;case 7:D62=Z62[1] - Z62[2] + -Z62[0];break;case 9:D62=(Z62[2] / Z62[3] | Z62[0]) * Z62[1];break;case 5:D62=Z62[2] + Z62[1] + Z62[3] + Z62[4] + Z62[0];break;case 0:D62=Z62[1] - Z62[0];break;case 18:D62=Z62[0] === Z62[1];break;case 1:D62=Z62[0] + Z62[1];break;case 4:D62=void Z62[1] !== Z62[0];break;case 13:D62=Z62[0] / Z62[2] | Z62[1];break;case 15:D62=(Z62[0] - Z62[1]) * Z62[2];break;case 10:D62=Z62[1] / Z62[0];break;case 14:D62=(Z62[0] - Z62[2]) * Z62[1] / Z62[3];break;case 16:D62=Z62[1] >= Z62[0];break;case 2:D62=Z62[0] + Z62[1] - Z62[2];break;case 6:D62=Z62[1] + Z62[0] + Z62[2];break;case 17:D62=Z62[1] > Z62[0];break;case 11:D62=Z62[3] + Z62[0] / Z62[2] * Z62[1];break;case 8:D62=Z62[0] * Z62[1];break;}return D62;},r62:function(V62){N62=V62;}};})();a000.x62=function(){return typeof a000.I62.a62 === 'function'?a000.I62.a62.apply(a000.I62,arguments):a000.I62.a62;};(function(){(function(pb,Ab){var wc,Gc,Rb,sd,Db,Fb,Zb,Ae,Be,Lb,Mb,Nc,Ce,td,De,Ee,Td,Ja,Bb,hd,Fe,Ud,bb,ub,yb,xc,ic,Wb,vb,$b,Qb,Pc,Ib,Gb,Jb,bc,ud,yc,rc,sc,vd,Vd,Ge,Ic,Jc,Qc,Wd,Xc,zc,wd,Mc,Xd,He,Yc,Yd,Zd,$d,ae,Ac,be,ce,de,$c,Bc,Cc,ad,xd,yd,zd,gc,Hf,Ob,Oc,Ie,Ad,lc,Je,If,tc,Ke,Jf,Bd,Le,Kf,gd,Me,Gf,Lf,ee,Cd,Mf,Nf,xe,Of,ye,Ne,jc,id,Oe,jd,Pe,mc,Qe,fe,Re,ge,Dd,Se,Qf,ze,Ed,Sd,Te,Pf,Ue,he,Ve,We,Xe,ie,Lc,Ze,Ye,Rf,kd,$e,ke,ld,af,je,bf,cf,le,ef,ff,Hd,Tc,bd,Uc,gf,hf,jf,kf,lf,mf,Id,Sf,nf,of,ne,pf,fc,Rc,Zc,Sc,Kc,Dc,Fd,ac,Hc,df,md,Vc,qf,Tf,nd,rf,Uf,cd,sf,Jd,oe,od,pe,tf,pd,uf,vf,wf,Vf,qd,xf,Wf,Xf,yf,me,Gd,zf,Ff,Af,Yf,$f,Zf,dd,rd,ag,we,bg,Bf;function Tb(gb,fb){if(!fb || "utf-8" === fb)return Nd(gb);throw Error("unsupported encoding");}function Sb(gb,fb){if(!fb || "utf-8" === fb)return Od(gb);throw Error("unsupported encoding");}function Nd(gb){for(var fb=0,eb,ab=gb.length,lb="";fb < ab;){eb=gb[fb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (gb[fb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((gb[fb++] & 63) << 6) + (gb[fb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(eb);}return lb;}function Od(gb){var fb,eb,ab,lb,qb;fb=gb.length;eb=0;lb=0;for(ab=fb;ab--;){qb=gb.charCodeAt(ab);128 > qb?eb++:eb=2048 > qb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(ab=0;ab < fb;ab++){qb=gb.charCodeAt(ab);128 > qb?eb[lb++]=qb:(2048 > qb?eb[lb++]=192 | qb >>> 6:(eb[lb++]=224 | qb >>> 12,eb[lb++]=128 | qb >>> 6 & 63),eb[lb++]=128 | qb & 63);}return eb;}function Xb(gb,fb){if(gb === fb)return !0;if(!gb || !fb || gb.length != fb.length)return !1;for(var eb=0;eb < gb.length;++eb){if(gb[eb] != fb[eb])return !1;}return !0;}function ec(gb){var ab;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var fb=1,eb=0;eb < gb.length;++eb){ab=gb[eb];if("number" !== typeof ab)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + ab);fb=31 * fb + ab & 4294967295;}return fb;}function re(gb,fb){var jb;if(gb === fb)return !0;if(!gb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var eb=0;eb < fb.length;++eb){for(var ab=fb[eb],lb=!1,qb=0;qb < gb.length;++qb){jb=gb[qb];if(ab.equals && "function" === typeof ab.equals && ab.equals(jb) || ab == jb){lb=!0;break;}}if(!lb)return !1;}return !0;}function se(gb,fb){return re(gb,fb) && (gb.length == fb.length || re(fb,gb));}function Ka(gb,fb,eb){var ab,lb;eb && (ab=eb);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=fb.call(ab,gb);lb !== Ab && gb.result(lb);}catch(qb){try{gb.error(qb);}catch(jb){}}}function cb(gb,fb,eb){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ka(gb,fb,eb);}function V(gb,fb,eb){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Pd(gb){switch(gb){case Ob.PSK:case Ob.MGK:return !0;default:return !1;}}function te(gb){switch(gb){case Ob.PSK:case Ob.MGK:case Ob.X509:case Ob.RSA:case Ob.NPTICKET:case Ob.ECC:return !0;default:return !1;}}function Cf(gb){return gb.toJSON();}function ue(gb,fb){rd?fb.result(rd):Promise.resolve().then(function(){return Jb.getKeyByName(gb);}).catch(function(){return Jb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){rd=eb;fb.result(rd);}).catch(function(eb){fb.error(new bb(V.INTERNAL_EXCEPTION,"Unable to get system key"));});}function ve(gb,fb){var eb,ab;eb=fb.masterToken;ab=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:ab && ab.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:fb && fb.length};}function Df(gb){return gb.uniqueKey();}function Ef(gb,fb,eb,ab,lb){var Pa;function qb(ya,la){ya.errorCode === Ja.ENTITY_REAUTH || ya.errorCode === Ja.ENTITYDATA_REAUTH?(ab.clearCryptoContexts(),La()):ya.errorCode !== Ja.USER_REAUTH && ya.errorCode !== Ja.USERDATA_REAUTH || jb(la);}function jb(ya){if(ya=ab.getUserIdToken(ya))(ab.removeUserIdToken(ya),La());}function Ea(ya,la,fa){var Z;Z=[];(function ha(){ya.read(-1,la,{result:function(da){Ka(fa,function(){var U,Y,pa,na,ra;if(da)(Z.push(da),ha());else switch(Z.length){case 0:return new Uint8Array(0);case 1:return Z[0];default:(pa=Z.length,na=0);for(Y=U=0;Y < pa;Y++){U+=Z[Y].length;}U=new Uint8Array(U);for(Y=0;Y < pa;Y++){ra=Z[Y];U.set(ra,na);na+=ra.length;}return U;}});},timeout:function(){fa.timeout();},error:function(da){fa.error(da);}});})();}function La(){ab.getStoreState({result:function(ya){for(var la=Pa.slice(),fa=0;fa < la.length;fa++){la[fa]({storeState:ya});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(ya){gb.error("Error getting store state","" + ya);}});}Pa=[];this.addEventHandler=function(ya,la){switch(ya){case "shouldpersist":Pa.push(la);}};this.send=function(ya){return new Promise(function(la,fa){var Z,ba,ha;Z=ya.timeout;ba=new we(gb,eb,ya,ab.getKeyRequestData());ha=new xe(ya.url);gb.trace("Sending MSL request");fb.request(eb,ba,ha,Z,{result:function(da){var U;gb.trace("Received MSL response",{Method:ya.method});if(da){ya.allowTokenRefresh && La();U=da.getErrorHeader();U?(qb(U,ya.profileGuid || ya.userId),fa({success:!1,error:U})):Ea(da,Z,{result:function(Y){la({success:!0,body:Tb(Y)});},timeout:function(){fa({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(Y){fa({success:!1,error:Y});}});}else fa({success:!1,error:new bb(V.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){fa({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(da){fa({success:!1,error:da});}});});};this.hasUserIdToken=function(ya){return ! !ab.getUserIdToken(ya);};this.getUserIdTokenKeys=function(){return ab.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){ab.clearUserIdTokens();La();};this.isErrorReauth=function(ya){return ya && ya.errorCode == Ja.USERDATA_REAUTH;};this.isErrorHeader=function(ya){return ya instanceof Lc;};this.getErrorCode=function(ya){return ya && ya.errorCode;};this.getStateForMdx=function(ya){var la,fa;la=ab.getMasterToken();ya=ab.getUserIdToken(ya);fa=ab.getCryptoContext(la);return {masterToken:la,userIdToken:ya,cryptoContext:fa};};this.buildPlayDataRequest=function(ya,la){var fa;fa=new ye();fb.request(eb,new we(gb,eb,ya),fa,ya.timeout,{result:function(){la.result(fa.getRequest());},error:function(){la.result(fa.getRequest());},timeout:function(){la.timeout();}});};this.rekeyUserIdToken=function(ya,la){ab.rekeyUserIdToken(ya,la);La();};this.getServiceTokens=function(ya){var la;la=ab.getMasterToken();(ya=ab.getUserIdToken(ya)) && !ya.isBoundTo(la) && (ya=Ab);return ab.getServiceTokens(la,ya);};this.removeServiceToken=function(ya){var la;la=ab.getMasterToken();ab.getServiceTokens(la).find(function(fa){return fa.name === ya;}) && (ab.removeServiceTokens(ya,la),La());};}function Qd(gb,fb,eb,ab,lb,qb){function jb(Ea){var La;return Promise.resolve().then(function(){La=gb.authenticationKeyNames[Ea];if(!La)throw new bb(V.KEY_IMPORT_ERROR,"Invalid config keyName " + Ea);return Jb.getKeyByName(La);}).then(function(Pa){return new Promise(function(ya,la){Xc(Pa,{result:ya,error:function(){la(new bb(V.KEY_IMPORT_ERROR,"Unable to create " + La + " CipherKey"));}});});}).catch(function(Pa){throw new bb(V.KEY_IMPORT_ERROR,"Unable to import " + La,Pa);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new bb(V.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([jb("e"),jb("h"),jb("w")]);}).then(function(Ea){var La,Pa,ya;La={};La[fb]=new eb(gb.esn,Ea[0],Ea[1],Ea[2]);Ea=new ab(gb.esn);Pa=new Ff();Pa=[new lb(Pa)];ya=new qb(fb);return {entityAuthFactories:La,entityAuthData:Ea,keyExchangeFactories:Pa,keyRequestData:ya};});}function Rd(gb,fb,eb){var qb;function ab(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return lb(jb.publicKey,jb.privateKey);});}function lb(jb,Ea){return Promise.all([new Promise(function(La,Pa){Mc(jb,{result:La,error:function(ya){Pa(new bb(V.INTERNAL_EXCEPTION,"Unable to create keyx public key",ya));}});}),new Promise(function(La,Pa){Yc(Ea,{result:La,error:function(ya){Pa(new bb(V.INTERNAL_EXCEPTION,"Unable to create keyx private key",ya));}});})]).then(function(La){La=new Sd("rsaKeypairId",eb,La[0],La[1]);qb && (La.storeData={keyxPublicKey:jb,keyxPrivateKey:Ea});return La;});}qb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Ea;jb=gb.storeState;Ea=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return qb && Ea && jb?lb(Ea,jb):ab();}).then(function(jb){var Ea,La,Pa;Ea={};Ea[Ob.NONE]=new Gf();La=new gd(gb.esn);Pa=[new ze()];return {entityAuthFactories:Ea,entityAuthData:La,keyExchangeFactories:Pa,keyRequestData:jb,createKeyRequestData:qb?ab:Ab};});}Gc=pb.nfCrypto || pb.msCrypto || pb.webkitCrypto || pb.crypto;Rb=Gc && (Gc.webkitSubtle || Gc.subtle);sd=pb.nfCryptokeys || pb.msCryptokeys || pb.webkitCryptokeys || pb.cryptokeys;(function(gb){var fb,eb;fb=(function(){function ab(lb,qb){lb instanceof fb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=qb || 0);}ab.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,qb,jb){var Ea;Ea=new Uint8Array(this.abv.buffer,this.position,jb);lb=new Uint8Array(lb.buffer,qb,jb);Ea.set(lb);this.position+=jb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return ab;})();eb={};(function(){var da,U,Y,pa,na,ra,Ba,ta,oa;function ab(W,aa){var ca;aa.writeByte(W.tagClass << 6 | W.constructed << 5 | W.tag);ca=W.payloadLen;if(128 > ca)aa.writeByte(ca);else {for(var ka=ca,Ga=0;ka;){++Ga;ka>>=8;}aa.writeByte(128 | Ga);for(ka=0;ka < Ga;++ka){aa.writeByte(ca >> 8 * (Ga - ka - 1) & 255);}}if(W.child)for((W.tag == da.BIT_STRING && aa.writeByte(0),W=W._child);W;){if(!ab(W,aa))return !1;W=W.next;}else switch(W.tag){case da.INTEGER:W.backingStore[W.dataIdx] >> 7 && aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case da.BIT_STRING:aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case da.OCTET_STRING:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case da.OBJECT_IDENTIFIER:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);}return !0;}function lb(W){var aa,ca;aa=W.readByte();ca=aa & 127;if(ca == aa)return ca;if(3 < ca || 0 === ca)return -1;for(var ka=aa=0;ka < ca;++ka){aa=aa << 8 | W.readByte();}return aa;}function qb(W,aa,ca){var ka,Ga,Ca,Oa,Ra,ia,va;ka=W.backingStore;Ga=new fb(ka,aa);aa+=ca;ca=W;if(8 < na++)return Ab;for(;Ga.getPosition() < aa;){Ga.getPosition();Oa=Ga.readByte();if(31 == (Oa & 31)){for(Ca=0;Oa & 128;){Ca<<=8;Ca|=Oa & 127;}Oa=Ca;}Ra=Oa;Ca=Ra & 31;if(0 > Ca || 30 < Ca)return Ab;Oa=lb(Ga);if(0 > Oa || Oa > Ga.getRemaining())return Ab;ca.constructed=Ra & 32;ca.tagClass=(Ra & 192) >> 6;ca.tag=Ca;ca.dataLen=Oa;ca.dataIdx=Ga.getPosition();Ca=Ga;ia=Ra;Ra=Oa;if(ia & 32)Ca=!0;else if(ia < da.BIT_STRING || ia > da.OCTET_STRING)Ca=!1;else {va=new fb(Ca);ia == da.BIT_STRING && va.skip(1);va.readByte() >> 6 & 1?Ca=!1:(ia=lb(va),Ca=va.getPosition() - Ca.getPosition() + ia == Ra);}Ca && (Ca=Ga.getPosition(),Ra=Oa,ca.tag == da.BIT_STRING && (ca.dataIdx++,ca.dataLen--,Ca++,Ra--),ca.child=new U(ka,ca),qb(ca.child,Ca,Ra));ca.tag == da.INTEGER && (Ca=Ga.getPosition(),0 == Ga.peekByte(Ca) && Ga.peekByte(Ca + 1) >> 7 && (ca.dataIdx++,ca.dataLen--));Ga.skip(Oa);Ga.getPosition() < aa && (ca.next=new U(ka,ca.parent),ca=ca.next);}na--;return W;}function jb(W,aa,ca){if(9 != ca)return !1;for(ca=0;9 > ca;++ca){if(W[aa++] != ra[ca])return !1;}return !0;}function Ea(W){var aa;if(!(W && W.child && W.child.next && W.child.child && W.child.next.child))return !1;aa=W.child.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 2 == W.nChildren && 2 == W.child.nChildren && 2 == W.child.next.child.nChildren?!0:!1;}function La(W){var aa;if(!(W && W.child && W.child.next && W.child.next.child && W.child.next.next && W.child.next.next.child))return !1;aa=W.child.next.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 3 == W.nChildren && 2 == W.child.next.nChildren && 9 == W.child.next.next.child.nChildren?!0:!1;}function Pa(W){var aa,ca;aa=Y.createSequenceNode();ca=new pa(aa);ca.addChild(Y.createSequenceNode());ca.addChild(Y.createOidNode(ra));ca.addSibling(Y.createNullNode());ca.addToParent(aa,Y.createBitStringNode(null));ca.addChild(Y.createSequenceNode());ca.addChild(Y.createIntegerNode(W.n));ca.addSibling(Y.createIntegerNode(W.e));return aa;}function ya(W){var aa;W=W.child.next.child.child;aa=W.data;W=W.next;return new Ba(aa,W.data,null,null);}function la(W){var aa,ca;aa=Y.createSequenceNode();ca=new pa(aa);ca.addChild(Y.createIntegerNode(new Uint8Array([0])));ca.addSibling(Y.createSequenceNode());ca.addChild(Y.createOidNode(ra));ca.addSibling(Y.createNullNode());ca.addToParent(aa,Y.createOctetStringNode(null));ca.addChild(Y.createSequenceNode());ca.addChild(Y.createIntegerNode(new Uint8Array([0])));ca.addSibling(Y.createIntegerNode(W.n));ca.addSibling(Y.createIntegerNode(W.e));ca.addSibling(Y.createIntegerNode(W.d));ca.addSibling(Y.createIntegerNode(W.p));ca.addSibling(Y.createIntegerNode(W.q));ca.addSibling(Y.createIntegerNode(W.dp));ca.addSibling(Y.createIntegerNode(W.dq));ca.addSibling(Y.createIntegerNode(W.qi));return aa;}function fa(W){var aa;aa=[];W=W.child.next.next.child.child.next;for(var ca=0;8 > ca;ca++){aa.push(W.data);W=W.next;}return new ta(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);}function Z(W,aa,ca,ka){if(!(W instanceof Ba || W instanceof ta))return Ab;if(ca)for(var Ga=0;Ga < ca.length;++Ga){if(-1 == oa.indexOf(ca[Ga]))return Ab;}aa={kty:"RSA",alg:aa,key_ops:ca || [],ext:ka == Ab?!1:ka,n:Db(W.n,!0),e:Db(W.e,!0)};W instanceof ta && (aa.d=Db(W.d,!0),aa.p=Db(W.p,!0),aa.q=Db(W.q,!0),aa.dp=Db(W.dp,!0),aa.dq=Db(W.dq,!0),aa.qi=Db(W.qi,!0));return aa;}function ba(W){var aa,ca,ka,Ga,Ca,Oa,Ra,ia,va,xa;if(!W.kty || "RSA" != W.kty || !W.n || !W.e)return Ab;aa=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(W.alg && -1 == aa.indexOf(W.alg))return Ab;aa=[];W.use?"enc" == W.use?aa=["encrypt","decrypt","wrap","unwrap"]:"sig" == W.use && (aa=["sign","verify"]):aa=W.key_ops;ca=W.ext;ka=Fb(W.n,!0);Ga=Fb(W.e,!0);if(W.d){Ca=Fb(W.d,!0);Oa=Fb(W.p,!0);Ra=Fb(W.q,!0);ia=Fb(W.dp,!0);va=Fb(W.dq,!0);xa=Fb(W.qi,!0);return new ta(ka,Ga,Ca,Oa,Ra,ia,va,xa,W.alg,aa,ca);}return new Ba(ka,Ga,ca,aa);}function ha(W,aa,ca,ka){this.der=W;this.type=aa;this.keyOps=ca;this.extractable=ka;}da={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};U=function(W,aa,ca,ka,Ga,Ca){this._data=W;this._parent=aa || Ab;this._constructed=ca || !1;this._tagClass=0;this._tag=ka || 0;this._dataIdx=Ga || 0;this._dataLen=Ca || 0;};U.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(W) {this._constructed=0 != W?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(W) {this._tagClass=W;},get tag() {return this._tag;},set tag(W) {this._tag=W;},get dataIdx() {return this._dataIdx;},set dataIdx(W) {this._dataIdx=W;},get dataLen() {return this._dataLen;},set dataLen(W) {this._dataLen=W;},get child() {return this._child;},set child(W) {this._child=W;this._child.parent=this;},get next() {return this._next;},set next(W) {this._next=W;},get parent() {return this._parent;},set parent(W) {this._parent=W;},get payloadLen() {var W;W=0;if(this._child){for(var aa=this._child;aa;){W+=aa.length;aa=aa.next;}this._tag == da.BIT_STRING && W++;}else switch(this._tag){case da.INTEGER:W=this._dataLen;this._data[this._dataIdx] >> 7 && W++;break;case da.BIT_STRING:W=this._dataLen + 1;break;case da.OCTET_STRING:W=this._dataLen;break;case da.NULL:W=0;break;case da.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (W=9);}return W;},get length() {var W,aa;W=this.payloadLen;if(127 < W)for(aa=W;aa;){aa>>=8;++W;}return W + 2;},get der() {var W,aa;W=this.length;if(!W)return Ab;W=new Uint8Array(W);aa=new fb(W);return ab(this,aa)?W:Ab;},get nChildren() {for(var W=0,aa=this._child;aa;){W++;aa=aa.next;}return W;}};Y={createSequenceNode:function(){return new U(null,null,!0,da.SEQUENCE,null,null);},createOidNode:function(W){return new U(W,null,!1,da.OBJECT_IDENTIFIER,0,W?W.length:0);},createNullNode:function(){return new U(null,null,!1,da.NULL,null,null);},createBitStringNode:function(W){return new U(W,null,!1,da.BIT_STRING,0,W?W.length:0);},createIntegerNode:function(W){return new U(W,null,!1,da.INTEGER,0,W?W.length:0);},createOctetStringNode:function(W){return new U(W,null,!1,da.OCTET_STRING,0,W?W.length:0);}};pa=function(W){this._currentNode=this._rootNode=W;};pa.prototype={addChild:function(W){this.addTo(this._currentNode,W);},addSibling:function(W){this.addTo(this._currentNode.parent,W);},addTo:function(W,aa){this._currentNode=aa;this._currentNode.parent=W;if(W.child){for(W=W.child;W.next;){W=W.next;}W.next=aa;}else W.child=aa;},addToParent:function(W,aa){this.findNode(W) && this.addTo(W,aa);},findNode:function(W){for(var aa=this._currentNode;aa;){if(W == aa)return !0;aa=aa.parent;}return !1;}};na=0;ra=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ba=function(W,aa,ca,ka){this.n=W;this.e=aa;this.ext=ca;this.keyOps=ka;};ta=function(W,aa,ca,ka,Ga,Ca,Oa,Ra,ia,va,xa){this.n=W;this.e=aa;this.d=ca;this.p=ka;this.q=Ga;this.dp=Ca;this.dq=Oa;this.qi=Ra;this.alg=ia;this.keyOps=va;this.ext=xa;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ha.prototype.getDer=function(){return this.der;};ha.prototype.getType=function(){return this.type;};ha.prototype.getKeyOps=function(){return this.keyOps;};ha.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(W){na=0;return qb(new U(W),0,W.length);};eb.show=function(W,aa){};eb.isRsaSpki=Ea;eb.isRsaPkcs8=La;eb.NodeFactory=Y;eb.Builder=pa;eb.tagVal=da;eb.RsaPublicKey=Ba;eb.RsaPrivateKey=ta;eb.buildRsaSpki=Pa;eb.parseRsaSpki=function(W){W=eb.parse(W);return Ea?ya(W):Ab;};eb.buildRsaPkcs8=la;eb.parseRsaPkcs8=function(W){W=eb.parse(W);return La(W)?fa(W):Ab;};eb.buildRsaJwk=Z;eb.parseRsaJwk=ba;eb.RsaDer=ha;eb.rsaDerToJwk=function(W,aa,ca,ka){W=eb.parse(W);if(!W)return Ab;if(Ea(W))W=ya(W);else if(La(W))W=fa(W);else return Ab;return Z(W,aa,ca,ka);};eb.jwkToRsaDer=function(W){var aa,ca;W=ba(W);if(!W)return Ab;if(W instanceof Ba){aa="spki";ca=Pa(W).der;}else if(W instanceof ta)(aa="pkcs8",ca=la(W).der);else return Ab;return new ha(ca,aa,W.keyOps,W.ext);};eb.webCryptoAlgorithmToJwkAlg=function(W){return "RSAES-PKCS1-v1_5" == W.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == W.name?"SHA-256" == W.hash.name?"RS256":"SHA-384" == W.hash.name?"RS384":"SHA-512" == W.hash.name?"RS512":Ab:Ab;};eb.webCryptoUsageToJwkKeyOps=function(W){return W.map(function(aa){return "wrapKey" == aa?"wrap":"unwrapKey" == aa?"unwrap":aa;});};})();gb.ASN1=eb;})(pb);(function(){for(var gb={},fb={},eb={"=":0,".":0},ab={"=":0,".":0},lb=/\s+/g,qb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Db=function(Ea,La){for(var Pa="",ya=0,la=Ea.length,fa=la - 2,Z=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ba=La?"":"=";ya < fa;){La=65536 * Ea[ya++] + 256 * Ea[ya++] + Ea[ya++];Pa+=Z[La >>> 18] + Z[La >>> 12 & 63] + Z[La >>> 6 & 63] + Z[La & 63];}ya == fa?(La=65536 * Ea[ya++] + 256 * Ea[ya++],Pa+=Z[La >>> 18] + Z[La >>> 12 & 63] + Z[La >>> 6 & 63] + ba):ya == la - 1 && (La=65536 * Ea[ya++],Pa+=Z[La >>> 18] + Z[La >>> 12 & 63] + ba + ba);return Pa;};Fb=function(Ea,La){Ea=Ea.replace(lb,"");if(La && (La=Ea.length % 4)){La=4 - La;for(var Pa=0;Pa < La;++Pa){Ea+="=";}}La=Ea.length;if(0 != La % 4 || !qb.test(Ea))throw Error("bad base64: " + Ea);for(var ya=La / 4 * 3 - ("=" == Ea[La - 1]?1:0) - ("=" == Ea[La - 2]?1:0),la=new Uint8Array(ya),fa=0,Z=0;fa < La;){Pa=gb[Ea[fa++]] + fb[Ea[fa++]] + eb[Ea[fa++]] + ab[Ea[fa++]];la[Z++]=Pa >>> 16;Z < ya && (la[Z++]=Pa >>> 8 & 255,Z < ya && (la[Z++]=Pa & 255));}return la;};})();Zb={};(function(){var qb,jb,Ea,Pa;function gb(ya){if(!(this instanceof gb))return new gb(ya);for(var la=0,fa=jb.length;la < fa;la++){this[jb[la]]="";}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ya || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ea.BEGIN;this.stack=new qb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(ya,la,fa){if(ya[la])ya[la](fa);}function eb(ya,la){var fa,Z;fa=ya.opt;Z=ya.textNode;fa.trim && (Z=Z.trim());fa.normalize && (Z=Z.replace(/\s+/g," "));ya.textNode=Z;ya.textNode && fb(ya,la?la:"onvalue",ya.textNode);ya.textNode="";}function ab(ya,la){eb(ya);la+="\nLine: " + ya.line + "\nColumn: " + ya.column + "\nChar: " + ya.c;la=Error(la);ya.error=la;fb(ya,"onerror",la);return ya;}function lb(ya){ya.state !== Ea.VALUE && ab(ya,"Unexpected end");eb(ya);ya.c="";ya.closed=!0;fb(ya,"onend");gb.call(ya,ya.opt);return ya;}qb=Array;Zb.parser=function(ya){return new gb(ya);};Zb.CParser=gb;Zb.MAX_BUFFER_LENGTH=65536;Zb.DEBUG=!1;Zb.INFO=!1;Zb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];Zb.EVENTS.filter(function(ya){return "error" !== ya && "end" !== ya;});Ea=0;Zb.STATE={BEGIN:Ea++,VALUE:Ea++,OPEN_OBJECT:Ea++,CLOSE_OBJECT:Ea++,OPEN_ARRAY:Ea++,CLOSE_ARRAY:Ea++,TEXT_ESCAPE:Ea++,STRING:Ea++,BACKSLASH:Ea++,END:Ea++,OPEN_KEY:Ea++,CLOSE_KEY:Ea++,TRUE:Ea++,TRUE2:Ea++,TRUE3:Ea++,FALSE:Ea++,FALSE2:Ea++,FALSE3:Ea++,FALSE4:Ea++,NULL:Ea++,NULL2:Ea++,NULL3:Ea++,NUMBER_DECIMAL_POINT:Ea++,NUMBER_DIGIT:Ea++};for(var La in Zb.STATE){Zb.STATE[Zb.STATE[La]]=La;}Ea=Zb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ya){return ya.__proto__;});Pa=/[\\"\n]/g;gb.prototype={end:function(){lb(this);},write:function(ya){var Z,ba,ha;if(this.error)throw this.error;if(this.closed)return ab(this,"Cannot write after close. Assign an onready handler.");if(null === ya)return lb(this);for(var la=ya[0],fa;la;){fa=la;this.c=la=ya.charAt(this.index++);fa !== la?this.p=fa:fa=this.p;if(!la)break;this.position++;"\n" === la?(this.line++,this.column=0):this.column++;switch(this.state){case Ea.BEGIN:"{" === la?this.state=Ea.OPEN_OBJECT:"[" === la?this.state=Ea.OPEN_ARRAY:"\r" !== la && "\n" !== la && " " !== la && "\t" !== la && ab(this,"Non-whitespace before {[.");continue;case Ea.OPEN_KEY:case Ea.OPEN_OBJECT:if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;if(this.state === Ea.OPEN_KEY)this.stack.push(Ea.CLOSE_KEY);else if("}" === la){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Ea.VALUE;continue;}else this.stack.push(Ea.CLOSE_OBJECT);'"' === la?this.state=Ea.STRING:ab(this,'Malformed object key should start with "');continue;case Ea.CLOSE_KEY:case Ea.CLOSE_OBJECT:if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;":" === la?(this.state === Ea.CLOSE_OBJECT?(this.stack.push(Ea.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Ea.VALUE):"}" === la?(eb(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ea.VALUE):"," === la?(this.state === Ea.CLOSE_OBJECT && this.stack.push(Ea.CLOSE_OBJECT),eb(this),this.state=Ea.OPEN_KEY):ab(this,"Bad object");continue;case Ea.OPEN_ARRAY:case Ea.VALUE:if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;if(this.state === Ea.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Ea.VALUE,"]" === la)){fb(this,"onclosearray");this.state=this.stack.pop() || Ea.VALUE;continue;}else this.stack.push(Ea.CLOSE_ARRAY);'"' === la?this.state=Ea.STRING:"{" === la?this.state=Ea.OPEN_OBJECT:"[" === la?this.state=Ea.OPEN_ARRAY:"t" === la?this.state=Ea.TRUE:"f" === la?this.state=Ea.FALSE:"n" === la?this.state=Ea.NULL:"-" === la?this.numberNode+=la:"0" === la?(this.numberNode+=la,this.state=Ea.NUMBER_DIGIT):-1 !== ("123456789").indexOf(la)?(this.numberNode+=la,this.state=Ea.NUMBER_DIGIT):ab(this,"Bad value");continue;case Ea.CLOSE_ARRAY:if("," === la)(this.stack.push(Ea.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Ea.VALUE);else if("]" === la)(eb(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ea.VALUE);else if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;else ab(this,"Bad array");continue;case Ea.STRING:fa=this.index - 1;(Z=this.slashed,ba=this.unicodeI);a:for(;;){if(Zb.DEBUG)for(;0 < ba;){if((this.unicodeS+=la,la=ya.charAt(this.index++),4 === ba?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),ba=0,fa=this.index - 1):ba++,!la))break a;}if('"' === la && !Z){this.state=this.stack.pop() || Ea.VALUE;(this.textNode+=ya.substring(fa,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === la && !Z && (Z=!0,this.textNode+=ya.substring(fa,this.index - 1),la=ya.charAt(this.index++),!la))break;if(Z)if((Z=!1,"n" === la?this.textNode+="\n":"r" === la?this.textNode+="\r":"t" === la?this.textNode+="\t":"f" === la?this.textNode+="\f":"b" === la?this.textNode+="\b":"u" === la?(ba=1,this.unicodeS=""):this.textNode+=la,la=ya.charAt(this.index++),fa=this.index - 1,la))continue;else break;Pa.lastIndex=this.index;ha=Pa.exec(ya);if(null === ha){this.index=ya.length + 1;this.textNode+=ya.substring(fa,this.index - 1);break;}this.index=ha.index + 1;la=ya.charAt(ha.index);if(!la){this.textNode+=ya.substring(fa,this.index - 1);break;}}this.slashed=Z;this.unicodeI=ba;continue;case Ea.TRUE:if("" === la)continue;"r" === la?this.state=Ea.TRUE2:ab(this,"Invalid true started with t" + la);continue;case Ea.TRUE2:if("" === la)continue;"u" === la?this.state=Ea.TRUE3:ab(this,"Invalid true started with tr" + la);continue;case Ea.TRUE3:if("" === la)continue;"e" === la?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Ea.VALUE):ab(this,"Invalid true started with tru" + la);continue;case Ea.FALSE:if("" === la)continue;"a" === la?this.state=Ea.FALSE2:ab(this,"Invalid false started with f" + la);continue;case Ea.FALSE2:if("" === la)continue;"l" === la?this.state=Ea.FALSE3:ab(this,"Invalid false started with fa" + la);continue;case Ea.FALSE3:if("" === la)continue;"s" === la?this.state=Ea.FALSE4:ab(this,"Invalid false started with fal" + la);continue;case Ea.FALSE4:if("" === la)continue;"e" === la?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Ea.VALUE):ab(this,"Invalid false started with fals" + la);continue;case Ea.NULL:if("" === la)continue;"u" === la?this.state=Ea.NULL2:ab(this,"Invalid null started with n" + la);continue;case Ea.NULL2:if("" === la)continue;"l" === la?this.state=Ea.NULL3:ab(this,"Invalid null started with nu" + la);continue;case Ea.NULL3:if("" === la)continue;"l" === la?(fb(this,"onvalue",null),this.state=this.stack.pop() || Ea.VALUE):ab(this,"Invalid null started with nul" + la);continue;case Ea.NUMBER_DECIMAL_POINT:"." === la?(this.numberNode+=la,this.state=Ea.NUMBER_DIGIT):ab(this,"Leading zero not followed by .");continue;case Ea.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(la)?this.numberNode+=la:"." === la?(-1 !== this.numberNode.indexOf(".") && ab(this,"Invalid number has two dots"),this.numberNode+=la):"e" === la || "E" === la?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || ab(this,"Invalid number has two exponential"),this.numberNode+=la):"+" === la || "-" === la?("e" !== fa && "E" !== fa && ab(this,"Invalid symbol in number"),this.numberNode+=la):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ea.VALUE);continue;default:ab(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ya=Math.max(Zb.MAX_BUFFER_LENGTH,10);fa=la=0;for(Z=jb.length;fa < Z;fa++){ba=this[jb[fa]].length;if(ba > ya)switch(jb[fa]){case "text":break;default:ab(this,"Max buffer length exceeded: " + jb[fa]);}la=Math.max(la,ba);}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH - la + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var ab,lb,qb;function gb(jb,Ea){Ea || (Ea=jb.length);return jb.reduce(function(La,Pa,ya){return ya < Ea?La + String.fromCharCode(Pa):La;},"");}for(var fb={},eb=0;256 > eb;++eb){ab=gb([eb]);fb[ab]=eb;}lb=Object.keys(fb).length;qb=[];for(eb=0;256 > eb;++eb){qb[eb]=[eb];}Ae=function(jb,Ea){var U,Y;function La(pa,na){var ra;for(;0 < na;){if(ba >= Z.length)return !1;if(na > ha){ra=pa;ra>>>=na - ha;Z[ba]|=ra & 255;na-=ha;ha=8;++ba;}else na <= ha && (ra=pa,ra<<=ha - na,ra&=255,ra>>>=8 - ha,Z[ba]|=ra & 255,ha-=na,na=0,0 == ha && (ha=8,++ba));}return !0;}for(var Pa in fb){Ea[Pa]=fb[Pa];}for(var ya=lb,la=[],fa=8,Z=new Uint8Array(jb.length),ba=0,ha=8,da=0;da < jb.length;++da){U=jb[da];la.push(U);Pa=gb(la);Y=Ea[Pa];if(!Y){la=gb(la,la.length - 1);if(!La(Ea[la],fa))return null;0 != ya >> fa && ++fa;Ea[Pa]=ya++;la=[U];}}return 0 < la.length && (Pa=gb(la),Y=Ea[Pa],!La(Y,fa))?null:Z.subarray(0,8 > ha?ba + 1:ba);};Be=function(jb){var da,U;for(var Ea=qb.slice(),La=0,Pa=0,ya=8,la=new Uint8Array(Math.ceil(1.5 * jb.length)),fa=0,Z,ba=[];La < jb.length && !(8 * (jb.length - La) - Pa < ya);){for(var ha=Z=0;ha < ya;){da=Math.min(ya - ha,8 - Pa);U=jb[La];U<<=Pa;U&=255;U>>>=8 - da;ha+=da;Pa+=da;8 == Pa && (Pa=0,++La);Z|=(U & 255) << ya - ha;}ha=Ea[Z];0 == ba.length?++ya:(ha?ba.push(ha[0]):ba.push(ba[0]),Ea[Ea.length]=ba,ba=[],Ea.length == 1 << ya && ++ya,ha || (ha=Ea[Z]));Z=fa + ha.length;Z >= la.length && (da=new Uint8Array(Math.ceil(1.5 * Z)),da.set(la),la=da);la.set(ha,fa);fa=Z;ba=ba.concat(ha);}return la.subarray(0,fa);};})();(function(){var gb,fb,eb;Lb="utf-8";Mb=9007199254740992;gb=Nc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Nc);Ce=function(ab){for(var lb=[gb.GZIP,gb.LZW],qb=0;qb < lb.length && 0 < ab.length;++qb){for(var jb=lb[qb],Ea=0;Ea < ab.length;++Ea){if(ab[Ea] == jb)return jb;}}return null;};fb=td={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(td);De=function(ab){return fb.AES_CBC_PKCS5Padding == ab?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == ab?fb.RSA_ECB_PKCS1Padding:fb[ab];};eb=Ee={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Ee);Td=function(ab){return eb[ab];};Ja={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ja);})();Bb={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,fb,eb,ab,lb,qb,jb,Ea;gb=arguments[0];fb=1;eb=arguments.length;ab=!1;"boolean" === typeof gb && (ab=gb,gb=arguments[1],fb=2);for(;fb < eb;fb++){if(null != (lb=arguments[fb]))for(qb in lb){if(!(ab && (qb in gb))){jb=lb[qb];if(gb !== jb && jb !== Ab){Ea=gb[qb];gb[qb]=null !== Ea && null !== jb && "object" === typeof Ea && "object" === typeof jb?Bb.extendDeep(ab,{},Ea,jb):jb;}}}}return gb;}};(function(){var jb,Ea;function gb(La,Pa){return function(){var ya,la;ya=La.base;La.base=Pa;la=La.apply(this,arguments);La.base=ya;return la;};}function fb(La,Pa,ya){var la,fa,Z,ba;ya=ya || Ea;fa=! !ya.extendAll;for(la in Pa){Z=Pa.__lookupGetter__(la);ba=Pa.__lookupSetter__(la);Z || ba?(Z && La.__defineGetter__(la,Z),ba && La.__defineSetter__(la,ba)):(Z=Pa[la],ba=La[la],"function" === typeof Z && "function" === typeof ba && Z !== ba?(Z.base !== Function.prototype.base && (Z=gb(Z,ba)),Z.base=ba):(fa || ya[la]) && Bb.isObjectLiteral(Z) && Bb.isObjectLiteral(ba) && (Z=Bb.extendDeep({},ba,Z)),La[la]=Z);}}function eb(){var La,Pa;La=Array.prototype.slice;Pa=La.call(arguments,1);return this.extend({init:function la(){var fa;fa=La.call(arguments,0);la.base.apply(this,Pa.concat(fa));}});}function ab(La,Pa){var ya;ya=new this(jb);fb(ya,La,Pa);return qb(ya);}function lb(La,Pa){fb(this.prototype,La,Pa);return this;}function qb(La){var Pa;Pa=function(){var ya;ya=this.init;ya && arguments[0] !== jb && ya.apply(this,arguments);};La && (Pa.prototype=La);Pa.prototype.constructor=Pa;Pa.extend=ab;Pa.bind=eb;Pa.mixin=lb;return Pa;}jb={};Ea={actions:!0};Function.prototype.base=function(){};Bb.Class={create:qb,mixin:fb,extend:function(La,Pa){var ya;ya=qb();ya.prototype=new La();return ya.extend(Pa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var jb,Ea,La;function gb(Pa,ya){return function(){var la,fa;la=Pa.base;Pa.base=ya;fa=Pa.apply(this,arguments);Pa.base=la;return fa;};}function fb(Pa,ya,la){var fa,Z,ba,ha;la=la || Ea;Z=! !la.extendAll;for(fa in ya){ba=ya.__lookupGetter__(fa);ha=ya.__lookupSetter__(fa);ba || ha?(ba && Pa.__defineGetter__(fa,ba),ha && Pa.__defineSetter__(fa,ha)):(ba=ya[fa],ha=Pa[fa],"function" === typeof ba && "function" === typeof ha && ba !== ha?(ba.base !== La && (ba=gb(ba,ha)),ba.base=ha):(Z || la[fa]) && Bb.isObjectLiteral(ba) && Bb.isObjectLiteral(ha) && (ba=Bb.extendDeep({},ha,ba)),Pa[fa]=ba);}}function eb(){var Pa,ya;Pa=Array.prototype.slice;ya=Pa.call(arguments,1);return this.extend({init:function fa(){var Z;Z=Pa.call(arguments,0);fa.base.apply(this,ya.concat(Z));}});}function ab(Pa,ya){var la;la=new this(jb);fb(la,Pa,ya);return qb(la);}function lb(Pa,ya){fb(this.prototype,Pa,ya);return this;}function qb(Pa){var ya;ya=function(){var la;la=this.init;la && arguments[0] !== jb && la.apply(this,arguments);};Pa && (ya.prototype=Pa);ya.prototype.constructor=ya;ya.extend=ab;ya.bind=eb;ya.mixin=lb;return ya;}jb={};Ea={actions:!0};La=function(){};Function.prototype.base=La;Bb.Class={create:qb,mixin:fb,extend:function(Pa,ya){var la;la=qb();la.prototype=new Pa();return la.extend(ya);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function gb(eb){return eb == Mb?1:eb + 1;}function fb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var ab=gb(eb._nextWaiter);!eb._waiters[ab];){ab=gb(ab);}return ab;}hd=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var ab;if(this._waiters[eb]){ab=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=fb(this));ab.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,ab){var lb,qb;lb=this;qb=gb(this._lastWaiter);this._lastWaiter=qb;cb(ab,function(){var jb,Ea;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){ab.result(jb);},0);}else {-1 != eb && (Ea=setTimeout(function(){delete lb._waiters[qb];qb == lb._nextWaiter && (lb._nextWaiter=fb(lb));ab.timeout();},eb));this._waiters[qb]=function(La){clearTimeout(Ea);setTimeout(function(){ab.result(La);},0);};this._nextWaiter || (this._nextWaiter=qb);}},lb);return qb;},add:function(eb){var ab;if(this._nextWaiter){ab=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);ab.call(this,eb);}else this._queue.push(eb);}});})();(function(){var gb;gb=0 - Mb;Fe=Bb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);Gc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var eb;if(null !== fb && fb !== Ab){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;eb=new Uint8Array(4);Gc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);Gc.getRandomValues(fb);eb=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var fb=gb;fb == gb;){fb=new Uint8Array(7);Gc.getRandomValues(fb);eb=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-eb - 1:eb;}return fb;},nextBytes:function(fb){Gc.getRandomValues(fb);}});})();(function(){function gb(ab){return ab == Mb?1:ab + 1;}function fb(ab){if(0 === Object.keys(ab._waitingReaders).length)return 0;for(var lb=gb(ab._nextReader);!ab._waitingReaders[lb];){lb=gb(lb);}return lb;}function eb(ab){if(0 === Object.keys(ab._waitingWriters).length)return 0;for(var lb=gb(ab._nextWriter);!ab._waitingWriters[lb];){lb=gb(lb);}return lb;}Ud=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(ab){var lb;if(this._waitingReaders[ab]){lb=this._waitingReaders[ab];delete this._waitingReaders[ab];ab == this._nextReader && (this._nextReader=fb(this));lb.call(this,!0);}this._waitingWriters[ab] && (lb=this._waitingWriters[ab],delete this._waitingWriters[ab],ab == this._nextWriter && (this._nextWriter=eb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(ab,lb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;cb(lb,function(){var Ea;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != ab && (Ea=setTimeout(function(){delete qb._waitingReaders[jb];jb == qb._nextReader && (qb._nextReader=fb(qb));lb.timeout();},ab));this._waitingReaders[jb]=function(La){clearTimeout(Ea);La?setTimeout(function(){lb.result(Ab);},0):(qb._readers[jb]=!0,setTimeout(function(){lb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},qb);return jb;},writeLock:function(ab,lb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;cb(lb,function(){var Ea;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != ab && (Ea=setTimeout(function(){delete qb._waitingWriters[jb];jb == qb._nextWriter && (qb._nextWriter=eb(qb));lb.timeout();},ab));this._waitingWriters[jb]=function(La){clearTimeout(Ea);La?setTimeout(function(){lb.result(Ab);},0):(qb._writer=jb,setTimeout(function(){lb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},qb);return jb;},unlock:function(ab){if(ab == this._writer)this._writer=null;else {if(!this._readers[ab])throw new vb("There is no reader or writer with ticket number " + ab + ".");delete this._readers[ab];}if(this._nextWriter)0 < Object.keys(this._readers).length || (ab=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),ab.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=gb(lb)){this._waitingReaders[lb] && (ab=this._waitingReaders[lb],delete this._waitingReaders[lb],ab.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(V,{JSON_PARSE_ERROR:new V(0,Ja.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new V(1,Ja.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new V(2,Ja.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new V(3,Ja.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new V(4,Ja.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new V(5,Ja.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new V(6,Ja.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new V(7,Ja.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new V(8,Ja.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new V(9,Ja.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new V(10,Ja.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new V(11,Ja.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new V(12,Ja.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new V(13,Ja.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new V(14,Ja.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new V(15,Ja.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new V(16,Ja.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new V(17,Ja.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new V(18,Ja.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new V(19,Ja.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new V(20,Ja.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new V(21,Ja.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new V(22,Ja.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new V(23,Ja.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new V(24,Ja.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new V(25,Ja.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new V(26,Ja.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new V(27,Ja.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new V(28,Ja.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new V(29,Ja.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new V(30,Ja.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new V(31,Ja.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new V(32,Ja.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new V(33,Ja.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new V(34,Ja.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new V(35,Ja.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new V(36,Ja.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new V(37,Ja.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new V(38,Ja.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new V(39,Ja.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new V(40,Ja.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new V(41,Ja.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new V(42,Ja.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new V(43,Ja.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new V(44,Ja.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new V(45,Ja.FAIL,"Error exporting key."),DIGEST_ERROR:new V(46,Ja.FAIL,"Error in digest."),UNSUPPORTED_KEY:new V(47,Ja.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new V(48,Ja.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new V(49,Ja.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new V(50,Ja.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new V(51,Ja.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new V(52,Ja.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new V(53,Ja.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new V(54,Ja.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new V(55,Ja.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new V(56,Ja.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new V(57,Ja.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new V(58,Ja.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new V(59,Ja.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new V(60,Ja.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new V(61,Ja.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new V(62,Ja.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new V(1E3,Ja.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new V(1001,Ja.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new V(1002,Ja.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new V(1003,Ja.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(1004,Ja.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(1005,Ja.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new V(1006,Ja.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new V(1007,Ja.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new V(1008,Ja.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new V(1009,Ja.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new V(1010,Ja.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new V(1011,Ja.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new V(1012,Ja.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new V(1013,Ja.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new V(1014,Ja.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new V(2E3,Ja.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new V(2001,Ja.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new V(2002,Ja.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new V(2003,Ja.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new V(2004,Ja.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new V(2005,Ja.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2006,Ja.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2007,Ja.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new V(2008,Ja.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new V(2009,Ja.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new V(2010,Ja.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new V(2011,Ja.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new V(2012,Ja.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new V(2013,Ja.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new V(2014,Ja.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new V(2015,Ja.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new V(2016,Ja.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new V(2017,Ja.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new V(2018,Ja.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new V(2019,Ja.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new V(2020,Ja.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new V(3E3,Ja.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new V(3001,Ja.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new V(3002,Ja.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new V(3003,Ja.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new V(3004,Ja.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3005,Ja.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3006,Ja.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new V(3007,Ja.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new V(3008,Ja.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new V(3009,Ja.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new V(4E3,Ja.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new V(4001,Ja.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new V(4002,Ja.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new V(4003,Ja.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new V(4004,Ja.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new V(4005,Ja.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new V(4006,Ja.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new V(4007,Ja.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new V(4008,Ja.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new V(4009,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new V(4010,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new V(4011,Ja.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new V(4012,Ja.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new V(4013,Ja.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new V(4014,Ja.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new V(4015,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new V(4016,Ja.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new V(4017,Ja.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new V(4018,Ja.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new V(4019,Ja.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new V(4020,Ja.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new V(4021,Ja.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new V(4022,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new V(4023,Ja.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new V(4024,Ja.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new V(4025,Ja.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new V(4026,Ja.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new V(5E3,Ja.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new V(5001,Ja.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new V(5002,Ja.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new V(5003,Ja.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new V(5004,Ja.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new V(5005,Ja.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new V(5006,Ja.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new V(5007,Ja.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new V(5008,Ja.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new V(5009,Ja.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new V(5010,Ja.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new V(5011,Ja.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new V(5012,Ja.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new V(5013,Ja.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new V(5014,Ja.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new V(5015,Ja.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new V(5016,Ja.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new V(5017,Ja.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new V(5018,Ja.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new V(5019,Ja.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new V(5020,Ja.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new V(5021,Ja.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new V(5022,Ja.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new V(5023,Ja.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new V(5024,Ja.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new V(5025,Ja.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new V(5026,Ja.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new V(5027,Ja.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new V(5028,Ja.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new V(5029,Ja.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new V(5030,Ja.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new V(5031,Ja.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new V(5032,Ja.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new V(5033,Ja.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new V(5034,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new V(5035,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new V(5036,Ja.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new V(5037,Ja.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new V(5038,Ja.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new V(5039,Ja.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new V(5040,Ja.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new V(6E3,Ja.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new V(6001,Ja.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new V(6002,Ja.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new V(6003,Ja.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new V(6004,Ja.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new V(6005,Ja.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new V(6006,Ja.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new V(6007,Ja.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new V(6008,Ja.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new V(6009,Ja.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new V(6010,Ja.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new V(6011,Ja.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new V(6012,Ja.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new V(6013,Ja.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new V(6014,Ja.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new V(6015,Ja.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new V(6016,Ja.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new V(6017,Ja.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new V(6018,Ja.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(6019,Ja.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new V(6020,Ja.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new V(6021,Ja.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new V(6022,Ja.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new V(6023,Ja.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new V(6024,Ja.FAIL,"Invalid header data."),PAYLOAD_INVALID:new V(6025,Ja.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new V(6026,Ja.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new V(6027,Ja.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new V(6028,Ja.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new V(6029,Ja.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new V(6030,Ja.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new V(6031,Ja.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new V(6032,Ja.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new V(6033,Ja.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new V(6034,Ja.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new V(6035,Ja.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new V(6036,Ja.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new V(6037,Ja.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new V(7E3,Ja.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new V(7001,Ja.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new V(7002,Ja.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new V(7003,Ja.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new V(7004,Ja.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new V(7005,Ja.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new V(7006,Ja.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new V(7007,Ja.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new V(7008,Ja.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new V(7009,Ja.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new V(7010,Ja.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new V(7011,Ja.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new V(7012,Ja.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new V(7013,Ja.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new V(7014,Ja.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new V(7015,Ja.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new V(7016,Ja.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new V(8E3,Ja.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new V(8001,Ja.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new V(8002,Ja.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new V(8003,Ja.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new V(8004,Ja.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new V(8005,Ja.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new V(8006,Ja.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new V(8007,Ja.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new V(8008,Ja.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new V(8009,Ja.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new V(8010,Ja.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new V(8011,Ja.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new V(8012,Ja.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new V(9E3,Ja.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new V(9001,Ja.FAIL,"Error communicating with MSL entity."),NONE:new V(9999,Ja.FAIL,"Special unit test error.")});Object.freeze(V);(function(){bb=Bb.Class.create(Error());bb.mixin({init:function(gb,fb,eb){var lb,qb,jb;function ab(){return qb?qb:this.cause && this.cause instanceof bb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=gb.message;fb && (lb+=" [" + fb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:ab,set:function(Ea){if(0 > Ea || Ea > Mb)throw new RangeError("Message ID " + Ea + " is outside the valid range.");ab() || (qb=Ea);},configurable:!0},stack:{get:function(){var Ea;Ea=this.toString();jb && (Ea+="\n" + jb);eb && eb.stack && (Ea+="\nCaused by " + eb.stack);return Ea;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof fc?this.masterToken=gb:gb instanceof Oc && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof Zc?this.userIdToken=gb:gb instanceof Hc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=bb.extend({init:function lb(fb,eb,ab){lb.base.call(this,fb,eb,ab);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});yb=bb.extend({init:function qb(eb,ab,lb){qb.base.call(this,eb,ab,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xc=bb.extend({init:function jb(ab,lb,qb){jb.base.call(this,ab,lb,qb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){ic=Bb.Class.create(Error());ic.mixin({init:function(ab,lb,qb){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:qb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ea;Ea=this.toString();jb && (Ea+="\n" + jb);lb && lb.stack && (Ea+="\nCaused by " + lb.stack);return Ea;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Wb=Bb.Class.create(Error());Wb.mixin({init:function(ab,lb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Bb.Class.create(Error());vb.mixin({init:function(ab,lb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){$b=Bb.Class.create(Error());$b.mixin({init:function(ab,lb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Qb=bb.extend({init:function Ea(lb,qb,jb){Ea.base.call(this,lb,qb,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Pc=bb.extend({init:function Ea(qb,jb){Ea.base.call(this,qb);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=bb.extend({init:function Pa(jb,Ea,La){Pa.base.call(this,jb,Ea,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Gb=bb.extend({init:function ya(Ea,La,Pa){ya.base.call(this,Ea,La,Pa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var la;function Ea(fa){return "undefined" === typeof fa?!1:fa;}function La(fa){return fa && fa.length?(bc === la.V2014_02 && (fa=fa.map(function(Z){return "wrap" == Z?"wrapKey":"unwrap" == Z?"unwrapKey":Z;})),fa):bc === la.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Pa(fa,Z,ba,ha,da){return Promise.resolve().then(function(){return Rb.importKey(fa,Z,ba,ha,da);}).catch(function(U){var Y;if("spki" !== fa && "pkcs8" !== fa)throw U;U=ASN1.webCryptoAlgorithmToJwkAlg(ba);Y=ASN1.webCryptoUsageToJwkKeyOps(da);U=ASN1.rsaDerToJwk(Z,U,Y,ha);if(!U)throw Error("Could not make valid JWK from DER input");U=JSON.stringify(U);return Rb.importKey("jwk",Od(U),ba,ha,da);});}function ya(fa,Z){return Promise.resolve().then(function(){return Rb.exportKey(fa,Z);}).catch(function(ba){if("spki" !== fa && "pkcs8" !== fa)throw ba;return Rb.exportKey("jwk",Z).then(function(ha){ha=JSON.parse(Nd(new Uint8Array(ha)));ha=ASN1.jwkToRsaDer(ha);if(!ha)throw Error("Could not make valid DER from JWK input");return ha.getDer().buffer;});});}la=ud={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(ud);bc=la.LATEST;Jb={encrypt:function(fa,Z,ba){switch(bc){case la.LEGACY:return new Promise(function(ha,da){var U;U=Rb.encrypt(fa,Z,ba);U.oncomplete=function(Y){ha(Y.target.result);};U.onerror=function(Y){da(Y);};});case la.V2014_01:case la.V2014_02:return Rb.encrypt(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(fa,Z,ba){switch(bc){case la.LEGACY:return new Promise(function(ha,da){var U;U=Rb.decrypt(fa,Z,ba);U.oncomplete=function(Y){ha(Y.target.result);};U.onerror=function(Y){da(Y);};});case la.V2014_01:case la.V2014_02:return Rb.decrypt(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(fa,Z,ba){switch(bc){case la.LEGACY:return new Promise(function(ha,da){var U;U=Rb.sign(fa,Z,ba);U.oncomplete=function(Y){ha(Y.target.result);};U.onerror=function(Y){da(Y);};});case la.V2014_01:case la.V2014_02:return Rb.sign(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(fa,Z,ba,ha){switch(bc){case la.LEGACY:return new Promise(function(da,U){var Y;Y=Rb.verify(fa,Z,ba,ha);Y.oncomplete=function(pa){da(pa.target.result);};Y.onerror=function(pa){U(pa);};});case la.V2014_01:case la.V2014_02:return Rb.verify(fa,Z,ba,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(fa,Z){switch(bc){case la.LEGACY:return new Promise(function(ba,ha){var da;da=Rb.digest(fa,Z);da.oncomplete=function(U){ba(U.target.result);};da.onerror=function(U){ha(U);};});case la.V2014_01:case la.V2014_02:return Rb.digest(fa,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(fa,Z,ba){var ha,da;ha=Ea(Z);da=La(ba);switch(bc){case la.LEGACY:return new Promise(function(U,Y){var pa;pa=Rb.generateKey(fa,ha,da);pa.oncomplete=function(na){U(na.target.result);};pa.onerror=function(na){Y(na);};});case la.V2014_01:case la.V2014_02:return Rb.generateKey(fa,ha,da);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(fa,Z,ba,ha,da){var U,Y;U=Ea(ha);Y=La(da);switch(bc){case la.LEGACY:return new Promise(function(pa,na){var ra;ra=Rb.deriveKey(fa,Z,ba,U,Y);ra.oncomplete=function(Ba){pa(Ba.target.result);};ra.onerror=function(Ba){na(Ba);};});case la.V2014_01:case la.V2014_02:return Rb.deriveKey(fa,Z,ba,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(fa,Z,ba,ha,da){var U,Y;U=Ea(ha);Y=La(da);switch(bc){case la.LEGACY:return new Promise(function(pa,na){var ra;ra=Rb.importKey(fa,Z,ba,U,Y);ra.oncomplete=function(Ba){pa(Ba.target.result);};ra.onerror=function(Ba){na(Ba);};});case la.V2014_01:case la.V2014_02:return Pa(fa,Z,ba,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(fa,Z){switch(bc){case la.LEGACY:return new Promise(function(ba,ha){var da;da=Rb.exportKey(fa,Z);da.oncomplete=function(U){ba(U.target.result);};da.onerror=function(U){ha(U);};});case la.V2014_01:case la.V2014_02:return ya(fa,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(fa,Z,ba,ha){switch(bc){case la.LEGACY:return new Promise(function(da,U){var Y;Y=Rb.wrapKey(Z,ba,ha);Y.oncomplete=function(pa){da(pa.target.result);};Y.onerror=function(pa){U(pa);};});case la.V2014_01:case la.V2014_02:return Rb.wrapKey(fa,Z,ba,ha).then(function(da){return new Uint8Array(da);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(fa,Z,ba,ha,da,U,Y){switch(bc){case la.LEGACY:return new Promise(function(pa,na){var ra;ra=Rb.unwrapKey(Z,da,ba);ra.oncomplete=function(Ba){pa(Ba.target.result);};ra.onerror=function(Ba){na(Ba);};});case la.V2014_01:case la.V2014_02:return Rb.unwrapKey(fa,Z,ba,ha,da,Ea(U),La(Y));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};sd && sd.getKeyByName && (Jb.getKeyByName=function(fa){switch(bc){case la.LEGACY:return new Promise(function(Z,ba){var ha;ha=sd.getKeyByName(fa);ha.oncomplete=function(da){Z(da.target.result);};ha.onerror=function(da){ba(da);};});case la.V2014_01:case la.V2014_02:return sd.getKeyByName(fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});pb.netflix=pb.netflix || ({});pb.netflix.crypto=Jb;})();yc={name:"AES-KW"};rc={name:"AES-CBC"};sc={name:"HMAC",hash:{name:"SHA-256"}};vd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Vd={name:"RSAES-PKCS1-v1_5"};Ge={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Ic=["encrypt","decrypt"];Jc=["wrap","unwrap"];Qc=["sign","verify"];(function(){Wd=Bb.Class.create({init:function(Ea,La,Pa){var la;function ya(fa){Ka(La,function(){var Z;Z=fa?Db(fa):Ab;Object.defineProperties(la,{rawKey:{value:Ea,writable:!1,configurable:!1},keyData:{value:fa,writable:!1,configurable:!1},keyDataB64:{value:Z,writable:!1,configurable:!1}});return this;},la);}la=this;Ka(La,function(){if(!Ea || "object" != typeof Ea)throw new ub(V.INVALID_SYMMETRIC_KEY);!Pa && Ea.extractable?Jb.exportKey("raw",Ea).then(function(fa){ya(new Uint8Array(fa));},function(fa){La.error(new ub(V.KEY_EXPORT_ERROR,"raw"));}):ya(Pa);},la);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Xc=function(Ea,La){new Wd(Ea,La);};zc=function(Ea,La,Pa,ya){Ka(ya,function(){try{Ea="string" == typeof Ea?Fb(Ea):Ea;}catch(la){throw new ub(V.INVALID_SYMMETRIC_KEY,"keydata " + Ea,la);}Jb.importKey("raw",Ea,La,!0,Pa).then(function(la){new Wd(la,ya,Ea);},function(la){ya.error(new ub(V.INVALID_SYMMETRIC_KEY));});});};})();(function(){wd=Bb.Class.create({init:function(Ea,La,Pa){var la;function ya(fa){Ka(La,function(){Object.defineProperties(la,{rawKey:{value:Ea,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},la);}la=this;Ka(La,function(){if(!Ea || "object" != typeof Ea || "public" != Ea.type)throw new TypeError("Only original public crypto keys are supported.");!Pa && Ea.extractable?Jb.exportKey("spki",Ea).then(function(fa){ya(new Uint8Array(fa));},function(fa){La.error(new ub(V.KEY_EXPORT_ERROR,"spki"));}):ya(Pa);});},getEncoded:function(){return this.encoded;}});Mc=function(Ea,La){new wd(Ea,La);};Xd=function(Ea,La,Pa,ya){Ka(ya,function(){try{Ea="string" == typeof Ea?Fb(Ea):Ea;}catch(la){throw new ub(V.INVALID_PUBLIC_KEY,"spki " + Ea,la);}Jb.importKey("spki",Ea,La,!0,Pa).then(function(la){new wd(la,ya,Ea);},function(la){ya.error(new ub(V.INVALID_PUBLIC_KEY));});});};})();(function(){He=Bb.Class.create({init:function(Ea,La,Pa){var la;function ya(fa){Ka(La,function(){Object.defineProperties(la,{rawKey:{value:Ea,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},la);}la=this;Ka(La,function(){if(!Ea || "object" != typeof Ea || "private" != Ea.type)throw new TypeError("Only original private crypto keys are supported.");!Pa && Ea.extractable?Jb.exportKey("pkcs8",Ea).then(function(fa){ya(new Uint8Array(fa));},function(fa){La.error(new ub(V.KEY_EXPORT_ERROR,"pkcs8"));}):ya(Pa);});},getEncoded:function(){return this.encoded;}});Yc=function(Ea,La){new He(Ea,La);};})();(function(){var Ea;Ea=ae={V1:1,V2:2};Yd=Bb.Class.create({init:function(La,Pa,ya,la){Ka(la,function(){var fa,Z,ba,ha;fa=Ea.V1;Z=La;ba=null;for(ha in td){if(td[ha] == La){fa=Ea.V2;Z=null;ba=La;break;}}Object.defineProperties(this,{version:{value:fa,writable:!1,enumerable:!1,configurable:!1},keyId:{value:Z,writable:!1,configurable:!1},cipherSpec:{value:ba,writable:!1,configurable:!1},iv:{value:Pa,writable:!1,configurable:!1},ciphertext:{value:ya,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Ea.V1:La.keyid=this.keyId;this.iv && (La.iv=Db(this.iv));La.ciphertext=Db(this.ciphertext);La.sha256="AA==";break;case Ea.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Db(this.iv));La.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});Zd=function(La,Pa,ya,la){new Yd(La,Pa,ya,la);};$d=function(La,Pa,ya){Ka(ya,function(){var la,fa,Z,ba,ha,da,U;la=La.keyid;fa=La.cipherspec;Z=La.iv;ba=La.ciphertext;ha=La.sha256;if(!Pa)if((Pa=La.version) && "number" === typeof Pa && Pa === Pa){da=!1;for(U in Ea){if(Ea[U] == Pa){da=!0;break;}}if(!da)throw new ub(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Pa=Ea.V1;switch(Pa){case Ea.V1:if("string" !== typeof la || Z && "string" !== typeof Z || "string" !== typeof ba || "string" !== typeof ha)throw new yb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Ea.V2:U=La.version;if(U != Ea.V2)throw new ub(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof fa || Z && "string" !== typeof Z || "string" !== typeof ba)throw new yb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));fa=De(fa);if(!fa)throw new ub(V.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));la=fa;break;default:throw new ub(V.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{Z && (Z=Fb(Z));ba=Fb(ba);}catch(Y){throw new ub(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),Y);}new Yd(la,Z,ba,ya);});};})();(function(){var Ea;Ea=de={V1:1,V2:2};Ac=Bb.Class.create({init:function(La,Pa,ya){var la;switch(La){case Ea.V1:la=ya;break;case Ea.V2:la={};la.version=La;la.algorithm=Pa;la.signature=Db(ya);la=Sb(JSON.stringify(la),Lb);break;default:throw new vb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Pa,writable:!1,configurable:!1},signature:{value:ya,writable:!1,configurable:!1},bytes:{value:la,writable:!1,configurable:!1}});}});be=function(){var La,Pa,ya,la;if(2 == arguments.length){La=Ea.V1;Pa=arguments[0];ya=null;la=arguments[1];}else 3 == arguments.length && (La=Ea.V2,ya=arguments[0],Pa=arguments[1],la=arguments[2]);Ka(la,function(){return new Ac(La,ya,Pa);});};ce=function(La,Pa,ya){Ka(ya,function(){var la,fa,Z,ba,ha,da,U;if(Pa)switch(Pa){case Ea.V1:return new Ac(Ea.V1,null,La);case Ea.V2:try{la=Tb(La,Lb);fa=JSON.parse(la);Z=parseInt(fa.version);ba=fa.algorithm;ha=fa.signature;if(!Z || "number" !== typeof Z || Z != Z || "string" !== typeof ba || "string" !== typeof ha)throw new yb(V.JSON_PARSE_ERROR,"signature envelope " + Db(La));if(Ea.V2 != Z)throw new ub(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(La));da=Td(ba);if(!da)throw new ub(V.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(La));U=Fb(ha);if(!U)throw new ub(V.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new Ac(Ea.V2,da,U);}catch(Y){if(Y instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"signature envelope " + Db(La),Y);throw Y;}default:throw new ub(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(La));}try{la=Tb(La,Lb);fa=JSON.parse(la);}catch(Y){fa=null;}if(fa && fa.version){if((la=fa.version,"number" !== typeof la || la !== la))la=Ea.V1;}else la=Ea.V1;switch(la){case Ea.V1:return new Ac(la,null,La);case Ea.V2:da=fa.algorithm;ha=fa.signature;if("string" !== typeof da || "string" !== typeof ha)return new Ac(Ea.V1,null,La);da=Td(da);if(!da)return new Ac(Ea.V1,null,La);try{U=Fb(ha);}catch(Y){return new Ac(Ea.V1,null,La);}return new Ac(la,da,U);default:throw new ub(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();$c=Bb.Class.create({encrypt:function(Ea,La){},decrypt:function(Ea,La){},wrap:function(Ea,La){},unwrap:function(Ea,La,Pa,ya){},sign:function(Ea,La){},verify:function(Ea,La,Pa){}});(function(){var Ea;Ea=Cc={RSA_OAEP:vd.name,A128KW:yc.name};wc="A128GCM";Bc=Bb.Class.create({init:function(La,Pa,ya,la,fa){switch(Pa){case Ea.RSA_OAEP:fa=fa && (fa.rawKey || fa);la=la && (la.rawKey || la);break;case Ea.A128KW:fa=la=la && (la.rawKey || la);break;default:throw new vb("Unsupported algorithm: " + Pa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ya,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:la,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Pa){Pa.error(new ub(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Pa){Pa.error(new ub(V.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Pa){Ka(Pa,function(){Jb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ya){Pa.result(ya);},function(ya){Pa.error(new ub(V.WRAP_ERROR));});},this);},unwrap:function(La,Pa,ya,la){function fa(Z){Ka(la,function(){switch(Z.type){case "secret":Xc(Z,la);break;case "public":Mc(Z,la);break;case "private":Yc(Z,la);break;default:throw new ub(V.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(la,function(){Jb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Pa,!1,ya).then(function(Z){fa(Z);},function(){la.error(new ub(V.UNWRAP_ERROR));});},this);},sign:function(La,Pa){Pa.error(new ub(V.SIGN_NOT_SUPPORTED));},verify:function(La,Pa,ya){ya.error(new ub(V.VERIFY_NOT_SUPPORTED));}});})();ad=$c.extend({encrypt:function(Ea,La){La.result(Ea);},decrypt:function(Ea,La){La.result(Ea);},wrap:function(Ea,La){La.result(Ea);},unwrap:function(Ea,La,Pa,ya){ya.result(Ea);},sign:function(Ea,La){La.result(new Uint8Array(0));},verify:function(Ea,La,Pa){Pa.result(!0);}});(function(){var Ea;Ea=yd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};xd=$c.extend({init:function ba(Pa,ya,la,fa,Z){ba.base.call(this);la && (la=la.rawKey);fa && (fa=fa.rawKey);Object.defineProperties(this,{id:{value:ya,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:la,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},transform:{value:Z == Ea.ENCRYPT_DECRYPT_PKCS1?Vd:Z == Ea.ENCRYPT_DECRYPT_OAEP?vd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:Z == Ea.WRAP_UNWRAP_PKCS1?Vd:Z == Ea.WRAP_UNWRAP_OAEP?vd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:Z == Ea.SIGN_VERIFY?Ge:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Pa,ya){var la;la=this;Ka(ya,function(){if("nullOp" == this.transform)return Pa;if(!this.publicKey)throw new ub(V.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Pa.length)return Pa;Jb.encrypt(la.transform,la.publicKey,Pa).then(function(fa){Zd(la.id,null,fa,{result:function(Z){var ba;try{ba=JSON.stringify(Z);ya.result(Sb(ba,Lb));}catch(ha){ya.error(new ub(V.ENCRYPT_ERROR,null,ha));}},error:function(Z){Z instanceof bb || (Z=new ub(V.ENCRYPT_ERROR,null,Z));ya.error(Z);}});},function(fa){ya.error(new ub(V.ENCRYPT_ERROR));});},this);},decrypt:function(Pa,ya){var la;la=this;Ka(ya,function(){var fa,Z;if("nullOp" == this.transform)return Pa;if(!this.privateKey)throw new ub(V.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Pa.length)return Pa;try{fa=Tb(Pa,Lb);Z=JSON.parse(fa);}catch(ba){if(ba instanceof SyntaxError)throw new ub(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ba);throw new ub(V.DECRYPT_ERROR,null,ba);}$d(Z,ae.V1,{result:function(ba){var ha;try{if(ba.keyId != la.id)throw new ub(V.ENVELOPE_KEY_ID_MISMATCH);ha=ya.result;Jb.decrypt(la.transform,la.privateKey,ba.ciphertext).then(ha,function(da){ya.error(new ub(V.DECRYPT_ERROR));});}catch(da){da instanceof bb?ya.error(da):ya.error(new ub(V.DECRYPT_ERROR,null,da));}},error:function(ba){ba instanceof yb && (ba=new ub(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ba));ba instanceof bb || (ba=new ub(V.DECRYPT_ERROR,null,ba));ya.error(ba);}});},this);},wrap:function(Pa,ya){Ka(ya,function(){var la;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(V.WRAP_NOT_SUPPORTED,"no public key");la=ya.result;Jb.wrapKey("jwk",Pa.rawKey,this.publicKey,this.wrapTransform).then(la,function(fa){ya.error(new ub(V.WRAP_ERROR));});},this);},unwrap:function(Pa,ya,la,fa){function Z(ba){Ka(fa,function(){switch(ba.type){case "secret":Xc(ba,fa);break;case "public":Mc(ba,fa);break;case "private":Yc(ba,fa);break;default:throw new ub(V.UNSUPPORTED_KEY,"type: " + ba.type);}});}Ka(fa,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(V.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Pa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ya,!1,la).then(Z,function(ba){fa.error(new ub(V.UNWRAP_ERROR));});},this);},sign:function(Pa,ya){Ka(ya,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(V.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Pa).then(function(la){be(la,{result:function(fa){ya.result(fa.bytes);},error:ya.error});},function(la){ya.error(new ub(V.SIGNATURE_ERROR));});},this);},verify:function(Pa,ya,la){var fa;fa=this;Ka(la,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(V.VERIFY_NOT_SUPPORTED,"no public key");ce(ya,de.V1,{result:function(Z){Ka(la,function(){var ba;ba=la.result;Jb.verify(this.algo,this.publicKey,Z.signature,Pa).then(ba,function(ha){la.error(new ub(V.SIGNATURE_ERROR));});},fa);},error:la.error});},this);}});})();(function(){zd=$c.extend({init:function Z(La,Pa,ya,la,fa){Z.base.call(this);ya=ya && ya.rawKey;la=la && la.rawKey;fa=fa && fa.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Pa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:la,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Pa){var ya;ya=this;Ka(Pa,function(){var la;if(!this.encryptionKey)throw new ub(V.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;la=new Uint8Array(16);this.ctx.getRandom().nextBytes(la);Jb.encrypt({name:rc.name,iv:la},ya.encryptionKey,La).then(function(fa){fa=new Uint8Array(fa);Zd(ya.id,la,fa,{result:function(Z){var ba;try{ba=JSON.stringify(Z);Pa.result(Sb(ba,Lb));}catch(ha){Pa.error(new ub(V.ENCRYPT_ERROR,null,ha));}},error:function(Z){Z instanceof bb || (Z=new ub(V.ENCRYPT_ERROR,null,Z));Pa.error(Z);}});},function(fa){Pa.error(new ub(V.ENCRYPT_ERROR));});},this);},decrypt:function(La,Pa){var ya;ya=this;Ka(Pa,function(){var la,fa;if(!this.encryptionKey)throw new ub(V.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{la=Tb(La,Lb);fa=JSON.parse(la);}catch(Z){if(Z instanceof SyntaxError)throw new ub(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new ub(V.DECRYPT_ERROR,null,Z);}$d(fa,ae.V1,{result:function(Z){try{if(Z.keyId != ya.id)throw new ub(V.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:rc.name,iv:Z.iv},ya.encryptionKey,Z.ciphertext).then(function(ba){ba=new Uint8Array(ba);Pa.result(ba);},function(){Pa.error(new ub(V.DECRYPT_ERROR));});}catch(ba){ba instanceof bb?Pa.error(ba):Pa.error(new ub(V.DECRYPT_ERROR,null,ba));}},error:function(Z){Z instanceof yb && (Z=new ub(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof bb || (Z=new ub(V.DECRYPT_ERROR,null,Z));Pa.error(Z);}});},this);},wrap:function(La,Pa){Ka(Pa,function(){if(!this.wrapKey)throw new ub(V.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ya){Pa.result(ya);},function(ya){Pa.error(new ub(V.WRAP_ERROR));});},this);},unwrap:function(La,Pa,ya,la){function fa(Z){Ka(la,function(){switch(Z.type){case "secret":Xc(Z,la);break;case "public":Mc(Z,la);break;case "private":Yc(Z,la);break;default:throw new ub(V.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(la,function(){if(!this.wrapKey)throw new ub(V.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Pa,!1,ya).then(function(Z){fa(Z);},function(Z){la.error(new ub(V.UNWRAP_ERROR));});},this);},sign:function(La,Pa){var ya;ya=this;Ka(Pa,function(){if(!this.hmacKey)throw new ub(V.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(sc,this.hmacKey,La).then(function(la){Ka(Pa,function(){var fa;fa=new Uint8Array(la);be(fa,{result:function(Z){Pa.result(Z.bytes);},error:Pa.error});},ya);},function(){Pa.error(new ub(V.HMAC_ERROR));});},this);},verify:function(La,Pa,ya){var la;la=this;Ka(ya,function(){if(!this.hmacKey)throw new ub(V.VERIFY_NOT_SUPPORTED,"no HMAC key.");ce(Pa,de.V1,{result:function(fa){Ka(ya,function(){Jb.verify(sc,this.hmacKey,fa.signature,La).then(function(Z){ya.result(Z);},function(Z){ya.error(new ub(V.HMAC_ERROR));});},la);},error:ya.error});},this);}});})();gc=zd.extend({init:function Z(La,Pa,ya,la,fa){if(ya || la || fa)Z.base.call(this,La,ya + "_" + Pa.sequenceNumber,la,fa,null);else {if(!Pa.isDecrypted())throw new Pc(V.MASTERTOKEN_UNTRUSTED,Pa);Z.base.call(this,La,Pa.identity + "_" + Pa.sequenceNumber,Pa.encryptionKey,Pa.hmacKey,null);}}});Hf=$c.extend({encrypt:function(La,Pa){Pa.result(La);},decrypt:function(La,Pa){Pa.result(La);},wrap:function(La,Pa){Pa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Pa,ya,la){la.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Pa){Pa.result(new Uint8Array(0));},verify:function(La,Pa,ya){ya.result(!1);}});Ob={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ob);(function(){Oc=Bb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Oc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});Ie=function(La,Pa){var ya,la;ya=Pa.scheme;la=Pa.authdata;if(!ya || !la)throw new yb(V.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Pa));if(!Ob[ya])throw new xc(V.UNIDENTIFIED_ENTITYAUTH_SCHEME,ya);Pa=La.getEntityAuthenticationFactory(ya);if(!Pa)throw new xc(V.ENTITYAUTH_FACTORY_NOT_FOUND,ya);return Pa.createData(La,la);};})();Ad=Bb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Pa){},getCryptoContext:function(La,Pa){}});(function(){lc=Oc.extend({init:function ya(Pa){ya.base.call(this,Ob.MGK);Object.defineProperties(this,{identity:{value:Pa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Pa;Pa={};Pa.identity=this.identity;return Pa;},equals:function la(ya){return this === ya?!0:ya instanceof lc?la.base.call(this,this,ya) && this.identity == ya.identity:!1;}});Je=function(ya){var la;la=ya.identity;if(!la)throw new yb(V.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ya));return new lc(la);};})();If=Ad.extend({init:function ya(Pa){ya.base.call(this,Ob.MGK);Object.defineProperties(this,{localIdentity:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Pa,ya){return Je(ya);},getCryptoContext:function(Pa,ya){if(!(ya instanceof lc))throw new vb("Incorrect authentication data type " + JSON.stringify(ya) + ".");if(ya.identity != this.localIdentity)throw new xc(V.ENTITY_NOT_FOUND,"mgk " + ya.identity).setEntity(ya);return new ad();}});(function(){tc=Oc.extend({init:function la(ya){la.base.call(this,Ob.PSK);Object.defineProperties(this,{identity:{value:ya,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ya;ya={};ya.identity=this.identity;return ya;},equals:function fa(la){return this === la?!0:la instanceof tc?fa.base.call(this,this,la) && this.identity == la.identity:!1;}});Ke=function(la){var fa;fa=la.identity;if(!fa)throw new yb(V.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(la));return new tc(fa);};})();Jf=Ad.extend({init:function la(ya){la.base.call(this,Ob.PSK);Object.defineProperties(this,{localIdentity:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ya,la){return Ke(la);},getCryptoContext:function(ya,la){if(!(la instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(la) + ".");if(la.getIdentity() != this.localIdentity)throw new xc(V.ENTITY_NOT_FOUND,"psk " + la.identity).setEntity(la);return new ad();}});(function(){Bd=Oc.extend({init:function Z(la,fa){Z.base.call(this,Ob.RSA);Object.defineProperties(this,{identity:{value:la,writable:!1,configurable:!1},publicKeyId:{value:fa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var la;la={};la.identity=this.identity;la.pubkeyid=this.publicKeyId;return la;},equals:function Z(fa){return this === fa?!0:fa instanceof Bd?Z.base.call(this,this,fa) && this.identity == fa.identity && this.publicKeyId == fa.publicKeyId:!1;}});Le=function(fa){var Z,ba;Z=fa.identity;ba=fa.pubkeyid;if(!Z || "string" !== typeof Z || !ba || "string" !== typeof ba)throw new yb(V.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(fa));return new Bd(Z,ba);};})();Kf=Ad.extend({init:function fa(la){fa.base.call(this,Ob.RSA);Object.defineProperties(this,{store:{value:la,writable:!1,enumerable:!1,configurable:!1}});},createData:function(la,fa){return Le(fa);},getCryptoContext:function(la,fa){var Z,ba,ha;if(!(fa instanceof Bd))throw new vb("Incorrect authentication data type " + fa + ".");Z=fa.identity;ba=fa.publicKeyId;ha=this.store.getPublicKey(ba);if(!ha)throw new xc(V.RSA_PUBLICKEY_NOT_FOUND,ba).setEntity(fa);return new xd(la,Z,null,ha,yd.SIGN_VERIFY);}});(function(){gd=Oc.extend({init:function Z(fa){Z.base.call(this,Ob.NONE);Object.defineProperties(this,{identity:{value:fa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var fa;fa={};fa.identity=this.identity;return fa;},equals:function ba(Z){return this === Z?!0:Z instanceof gd?ba.base.call(this,this,Z) && this.identity == Z.identity:!1;}});Me=function(Z){var ba;ba=Z.identity;if(!ba)throw new yb(V.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(Z));return new gd(ba);};})();Gf=Ad.extend({init:function fa(){fa.base.call(this,Ob.NONE);},createData:function(fa,Z){return Me(Z);},getCryptoContext:function(fa,Z){if(!(Z instanceof gd))throw new vb("Incorrect authentication data type " + JSON.stringify(Z) + ".");return new ad();}});Lf=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(fa,Z){if(!(Z instanceof wd))throw new vb("Incorrect key data type " + Z + ".");this.rsaKeys[fa]=Z;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(fa){delete this.rsaKeys[fa];},getPublicKey:function(fa){return this.rsaKeys[fa];}});ee=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(fa,Z,ba){}});Cd=Bb.Class.create({abort:function(){},close:function(fa,Z){},write:function(fa,Z,ba,ha,da){},flush:function(fa,Z){}});Mf=Bb.Class.create({init:function(fa){Object.defineProperties(this,{_data:{value:fa,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Wb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(fa,Z,ba){cb(ba,function(){var ha;if(this._closed)throw new Wb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == fa && (fa=this._data.length - this._currentPosition);ha=this._data.subarray(this._currentPosition,this._currentPosition + fa);this._currentPosition+=ha.length;return ha;},this);}});Nf=Bb.Class.create({init:function(){var fa;fa={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);},abort:function(){},close:function(fa,Z){this._closed=!0;Z.result(!0);},write:function(fa,Z,ba,ha,da){cb(da,function(){var U;if(this._closed)throw new Wb("Stream is already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");U=fa.subarray(Z,ba);this._buffered.push(U);return U.length;},this);},flush:function(fa,Z){var ba;for(;0 < this._buffered.length;){if((fa=this._buffered.shift(),this._result)){ba=new Uint8Array(this._result.length + fa.length);ba.set(this._result);ba.set(fa,this._result.length);this._result=ba;}else this._result=new Uint8Array(fa);}Z.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Of=Bb.Class.create({getResponse:function(fa,Z,ba){}});(function(){var fa,Z;fa=Cd.extend({init:function(ba,ha){ba={_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Nf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(ba){this._timeout=ba;},getResponse:function(ba,ha){var da;da=this;this._responseQueue.poll(ba,{result:function(U){cb(ha,function(){U && this._responseQueue.add(U);return U;},da);},timeout:function(){cb(ha,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ha.timeout();},da);},error:function(U){cb(ha,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw U;},da);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(ba,ha){var da;da=this;cb(ha,function(){var U;if(this._response)return !0;U=this._buffer.toByteArray();0 < U.length && (this._abortToken=this._httpLocation.getResponse({body:U},this._timeout,{result:function(Y){da._response={response:Y};da._responseQueue.add(da._response);},timeout:function(){da._response={isTimeout:!0};da._responseQueue.add(da._response);},error:function(Y){da._response={isError:!0,error:Y};da._responseQueue.add(da._response);}}));return !0;},this);},write:function(ba,ha,da,U,Y){cb(Y,function(){if(this._response)throw new Wb("HttpOutputStream already closed.");this._buffer.write(ba,ha,da,U,Y);},this);},flush:function(ba,ha){cb(ha,function(){if(this._response)return !0;this._buffer.flush(ba,ha);},this);}});Z=ee.extend({init:function(ba){Object.defineProperties(this,{_out:{value:ba,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(ba,ha,da){var Y;function U(pa){cb(da,function(){if(!pa)return new Uint8Array(0);this._out.getResponse(ha,{result:function(na){cb(da,function(){var ra;if(na.isTimeout)(this._timedout=!0,da.timeout());else {if(na.isError)throw (this._exception=na.error || new Wb("Unknown HTTP exception."),this._exception);if(!na.response)throw (this._exception=new Wb("Missing HTTP response."),this._exception);na.response.json !== Ab && (this._json=na.response.json,this.getJSON=function(){return Y._json;});ra=na.response.content || Od("string" === typeof na.response.body?na.response.body:JSON.stringify(this._json));this._buffer=new Mf(ra);this._buffer.read(ba,ha,da);}},Y);},timeout:function(){da.timeout();},error:function(na){da.error(na);}});},Y);}Y=this;cb(da,function(){if(this._exception)throw this._exception;if(this._timedout)da.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(ba,ha,da):this._out.close(ha,{result:function(pa){U(pa);},timeout:function(){da.timeout();},error:function(pa){da.error(pa);}});}},Y);}});xe=Bb.Class.create({init:function(ba,ha){Object.defineProperties(this,{_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(ba){this._timeout=ba;},openConnection:function(){var ba;ba=new fa(this._httpLocation,this._timeout);return {input:new Z(ba),output:ba};}});})();(function(){var fa,Z;fa=Cd.extend({init:function(){var ba;ba={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},getResponse:function(ba,ha){ha.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(ba,ha){ha.result(!0);},write:function(ba,ha,da,U,Y){var pa,na;try{if(0 > ha)throw new RangeError("Offset cannot be negative.");if(0 > da)throw new RangeError("Length cannot be negative.");if(ha + da > ba.length)throw new RangeError("Offset plus length cannot be greater than the array length.");pa=ba.subarray(ha,da);na=new Uint8Array(this._buffer.length + pa.length);na.set(this._buffer);na.set(pa,this._buffer.length);this._buffer=na;Y.result(pa.length);}catch(ra){Y.error(ra);}},flush:function(ba,ha){ha.result(!0);},request:function(){return this._buffer;}});Z=ee.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ba,ha,da){da.result(new Uint8Array(16));}});ye=Bb.Class.create({init:function(){var ba;ba={output:{value:new fa(),writable:!1,enumerable:!1,configurable:!1},input:{value:new Z(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Nd(this.output.request());}});})();Ne=function(fa,Z,ba){(function(ha,da,U){ha.read(-1,da,{result:function(Y){Y && Y.length?U(null,Y):U(null,null);},timeout:function(){ba.timeout();},error:function(Y){U(Y,null);}});})(fa,Z,function(ha,da){var U,Y;if(ha)ba.error(ha);else if(da){if(fa.getJSON !== Ab && "function" === typeof fa.getJSON)ba.result(fa.getJSON());else {ha=ba.result;da=new Pf(Tb(da,"utf-8"));U=[];for(Y=da.nextValue();Y !== Ab;){U.push(Y);Y=da.nextValue();}ha.call(ba,U);}}else ba.result(null);});};jc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(jc);(function(){id=Bb.Class.create({init:function(fa){Object.defineProperties(this,{keyExchangeScheme:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof id?this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Oe=function(fa,Z,ba){Ka(ba,function(){var ha,da,U;ha=Z.scheme;da=Z.keydata;if(!ha || !da || "object" !== typeof da)throw new yb(V.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(Z));if(!jc[ha])throw new Qb(V.UNIDENTIFIED_KEYX_SCHEME,ha);U=fa.getKeyExchangeFactory(ha);if(!U)throw new Qb(V.KEYX_FACTORY_NOT_FOUND,ha);U.createRequestData(fa,da,ba);});};})();(function(){jd=Bb.Class.create({init:function(fa,Z){Object.defineProperties(this,{masterToken:{value:fa,writable:!1,configurable:!1},keyExchangeScheme:{value:Z,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.mastertoken=this.masterToken;fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof jd?this.masterToken.equals(fa.masterToken) && this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Pe=function(fa,Z,ba){Ka(ba,function(){var ha,da,U;ha=Z.mastertoken;da=Z.scheme;U=Z.keydata;if(!da || !ha || "object" !== typeof ha || !U || "object" !== typeof U)throw new yb(V.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(Z));if(!jc[da])throw new Qb(V.UNIDENTIFIED_KEYX_SCHEME,da);Rc(fa,ha,{result:function(Y){Ka(ba,function(){var pa;pa=fa.getKeyExchangeFactory(da);if(!pa)throw new Qb(V.KEYX_FACTORY_NOT_FOUND,da);return pa.createResponseData(fa,Y,U);});},error:function(Y){ba.error(Y);}});});};})();(function(){var fa;fa=Bb.Class.create({init:function(Z,ba){Object.defineProperties(this,{keyResponseData:{value:Z,writable:!1,configurable:!1},cryptoContext:{value:ba,writable:!1,configurable:!1}});}});mc=Bb.Class.create({init:function(Z){Object.defineProperties(this,{scheme:{value:Z,writable:!1,configurable:!1}});},createRequestData:function(Z,ba,ha){},createResponseData:function(Z,ba,ha){},generateResponse:function(Z,ba,ha,da){},getCryptoContext:function(Z,ba,ha,da,U){},generateSessionKeys:function(Z,ba){Ka(ba,function(){var ha,da;ha=new Uint8Array(16);da=new Uint8Array(32);Z.getRandom().nextBytes(ha);Z.getRandom().nextBytes(da);zc(ha,rc,Ic,{result:function(U){zc(da,sc,Qc,{result:function(Y){ba.result({encryptionKey:U,hmacKey:Y});},error:function(Y){ba.error(new ub(V.SESSION_KEY_CREATION_FAILURE,null,Y));}});},error:function(U){ba.error(new ub(V.SESSION_KEY_CREATION_FAILURE,null,U));}});});},importSessionKeys:function(Z,ba,ha){zc(Z,rc,Ic,{result:function(da){zc(ba,sc,Qc,{result:function(U){ha.result({encryptionKey:da,hmacKey:U});},error:function(U){ha.error(U);}});},error:function(da){ha.error(da);}});}});mc.KeyExchangeData=fa;})();(function(){var Z,ba,ha;function fa(da,U,Y,pa,na){Ka(na,function(){var ra,Ba;switch(U){case Z.PSK:(ra=new tc(pa),Ba=da.getEntityAuthenticationFactory(Ob.PSK));if(!Ba)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,U);ra=Ba.getCryptoContext(da,ra);return new Bc(da,Cc.A128KW,wc,Ab);case Z.MGK:ra=new lc(pa);Ba=da.getEntityAuthenticationFactory(Ob.MGK);if(!Ba)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,U);ra=Ba.getCryptoContext(da,ra);return new Bc(da,Cc.A128KW,wc,Ab);case Z.WRAP:ra=da.getMslCryptoContext();ra.unwrap(Y,yc,Jc,{result:function(ta){Ka(na,function(){return new Bc(da,Cc.A128KW,wc,ta);});},error:na.error});break;default:throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,U);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=fe=id.extend({init:function pa(U,Y){pa.base.call(this,jc.JWE_LADDER);switch(U){case Z.WRAP:if(!Y)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Y=null;}Object.defineProperties(this,{mechanism:{value:U,writable:!1,configurable:!1},wrapdata:{value:Y,writable:!1,configurable:!1}});},getKeydata:function(){var U;U={};U.mechanism=this.mechanism;this.wrapdata && (U.wrapdata=Db(this.wrapdata));return U;},equals:function pa(Y){return Y === this?!0:Y instanceof fe?pa.base.call(this,Y) && this.mechanism == Y.mechanism && Xb(this.wrapdata,Y.wrapdata):!1;},uniqueKey:function pa(){var na;na=pa.base.call(this) + ":" + this.mechanism;this.wrapdata && (na+=":" + ec(this.wrapdata));return na;}});ha=Re=jd.extend({init:function W(na,ra,Ba,ta,oa){W.base.call(this,na,jc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ra,writable:!1,configurable:!1},wrapdata:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.wrapkey=Db(this.wrapKey);na.wrapdata=Db(this.wrapdata);na.encryptionkey=Db(this.encryptionKey);na.hmackey=Db(this.hmacKey);return na;},equals:function Ba(ra){return this === ra?!0:ra instanceof Re?Ba.base.call(this,ra) && Xb(this.wrapKey,ra.wrapKey) && Xb(this.wrapdata,ra.wrapdata) && Xb(this.encryptionKey,ra.encryptionKey) && Xb(this.hmacKey,ra.hmacKey):!1;},uniqueKey:function Ba(){return Ba.base.call(this) + ":" + ec(this.wrapKey) + ":" + ec(this.wrapdata) + ":" + ec(this.encryptionKey) + ":" + ec(this.hmacKey);}});Qe=mc.extend({init:function oa(ta){oa.base.call(this,jc.JWE_LADDER);Object.defineProperties(this,{repository:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ta,oa,W){Ka(W,function(){var aa,ca,ka;aa=oa.mechanism;ca=oa.wrapdata;if(!aa || aa == Z.WRAP && (!ca || "string" !== typeof ca))throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!Z[aa])throw new Qb(V.UNIDENTIFIED_KEYX_MECHANISM,aa);switch(aa){case Z.WRAP:try{ka=Fb(ca);}catch(Ga){throw new Qb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == ka || 0 == ka.length)throw new Qb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:ka=null;}return new ba(aa,ka);});},createResponseData:function(ta,oa,W){var aa,ca,ka,Ga,Ca,Oa,Ra;ta=W.wrapkey;aa=W.wrapdata;ca=W.encryptionkey;ka=W.hmackey;if(!(ta && "string" === typeof ta && aa && "string" === typeof aa && ca && "string" === typeof ca && ka) || "string" !== typeof ka)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));try{Ga=Fb(ta);Ca=Fb(aa);}catch(ia){throw new ub(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(W),ia);}try{Oa=Fb(ca);}catch(ia){throw new ub(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(W),ia);}try{Ra=Fb(ka);}catch(ia){throw new ub(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(W),ia);}return new ha(oa,Ga,Ca,Oa,Ra);},generateResponse:function(ta,oa,W,aa){var Oa,Ra;function ca(ia,va,xa){Oa.generateSessionKeys(ta,{result:function(Ha){Ka(aa,function(){ka(ia,va,xa,Ha.encryptionKey,Ha.hmacKey);},Oa);},error:function(Ha){Ka(aa,function(){Ha instanceof bb && Ha.setEntity(Ra);throw Ha;});}});}function ka(ia,va,xa,Ha,Aa){Ka(aa,function(){fa(ta,oa.mechanism,oa.wrapdata,ia,{result:function(Na){Na.wrap(va,{result:function(Da){Ga(va,xa,Ha,Aa,Da);},error:function(Da){Ka(aa,function(){Da instanceof bb && Da.setEntity(Ra);throw Da;});}});},error:function(Na){Ka(aa,function(){Na instanceof bb && Na.setEntity(Ra);throw Na;});}});},Oa);}function Ga(ia,va,xa,Ha,Aa){Ka(aa,function(){var Na;Na=new Bc(ta,Cc.A128KW,wc,ia);Na.wrap(xa,{result:function(Da){Na.wrap(Ha,{result:function(Ua){Ca(va,Aa,xa,Da,Ha,Ua);},error:function(Ua){Ka(aa,function(){Ua instanceof bb && Ua.setEntity(Ra);throw Ua;});}});},error:function(Da){Ka(aa,function(){Da instanceof bb && Da.setEntity(Ra);throw Da;});}});},Oa);}function Ca(ia,va,xa,Ha,Aa,Na){Ka(aa,function(){var Da;Da=ta.getTokenFactory();Ra?Da.renewMasterToken(ta,Ra,xa,Aa,{result:function(Ua){Ka(aa,function(){var $a,Va;$a=new gc(ta,Ua);Va=new ha(Ua,va,ia,Ha,Na);return new mc.KeyExchangeData(Va,$a,aa);},Oa);},error:function(Ua){Ka(aa,function(){Ua instanceof bb && Ua.setEntity(Ra);throw Ua;});}}):Da.createMasterToken(ta,W,xa,Aa,{result:function(Ua){Ka(aa,function(){var $a,Va;$a=new gc(ta,Ua);Va=new ha(Ua,va,ia,Ha,Na);return new mc.KeyExchangeData(Va,$a,aa);},Oa);},error:aa.error});},Oa);}Oa=this;Ka(aa,function(){var ia,va;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");ia=W;if(W instanceof fc){if(!W.isVerified())throw new Pc(V.MASTERTOKEN_UNTRUSTED,W);Ra=W;ia=W.identity;}va=new Uint8Array(16);ta.getRandom().nextBytes(va);zc(va,yc,Jc,{result:function(xa){Ka(aa,function(){ta.getMslCryptoContext().wrap(xa,{result:function(Ha){ca(ia,xa,Ha);},error:function(Ha){Ka(aa,function(){Ha instanceof bb && Ha.setEntity(Ra);throw Ha;},Oa);}});},Oa);},error:function(xa){Ka(aa,function(){throw new ub(V.WRAP_KEY_CREATION_FAILURE,null,xa).setEntity(Ra);},Oa);}});},Oa);},getCryptoContext:function(ta,oa,W,aa,ca){var Ga;function ka(Ca,Oa,Ra,ia,va){Ka(ca,function(){var xa;xa=new Bc(ta,Cc.A128KW,wc,va);xa.unwrap(Oa.encryptionKey,rc,Ic,{result:function(Ha){xa.unwrap(Oa.hmacKey,sc,Qc,{result:function(Aa){Ka(ca,function(){this.repository.addCryptoContext(Oa.wrapdata,xa);this.repository.removeCryptoContext(Ra);return new gc(ta,Oa.masterToken,ia,Ha,Aa);},Ga);},error:function(Aa){Ka(ca,function(){Aa instanceof bb && Aa.setEntity(Ca);throw Aa;});}});},error:function(Ha){Ka(ca,function(){Ha instanceof bb && Ha.setEntity(Ca);throw Ha;});}});},Ga);}Ga=this;Ka(ca,function(){var Ca,Oa;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(W instanceof ha))throw new vb("Key response data " + JSON.stringify(W) + " was not created by this factory.");Ca=oa.mechanism;Oa=oa.wrapdata;ta.getEntityAuthenticationData(null,{result:function(Ra){Ka(ca,function(){var ia,va,xa;ia=Ra.getIdentity();switch(Ca){case Z.PSK:va=new tc(ia);xa=ta.getEntityAuthenticationFactory(Ob.PSK);if(!xa)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Ca).setEntity(Ra);va=xa.getCryptoContext(ta,va);va=new Bc(ta,Cc.A128KW,wc,Ab);break;case Z.MGK:va=new lc(ia);xa=ta.getEntityAuthenticationFactory(Ob.MGK);if(!xa)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Ca).setEntity(Ra);va=xa.getCryptoContext(ta,va);va=new Bc(ta,Cc.A128KW,wc,va.wrapKey);break;case Z.WRAP:va=this.repository.getCryptoContext(Oa);if(!va)throw new Qb(V.KEYX_WRAPPING_KEY_MISSING,Db(Oa)).setEntity(Ra);break;default:throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Ca).setEntity(Ra);}va.unwrap(W.wrapKey,yc,Jc,{result:function(Ha){ka(Ra,W,Oa,ia,Ha);},error:function(Ha){Ka(ca,function(){Ha instanceof bb && Ha.setEntity(Ra);throw Ha;});}});},Ga);},error:ca.error});},Ga);}});})();(function(){var Z,ba,ha,da;function fa(U,Y,pa,na,ra){Ka(ra,function(){var Ba,ta;switch(Y){case Z.PSK:(Ba=new tc(na),ta=U.getEntityAuthenticationFactory(Ob.PSK));if(!ta)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ba=ta.getCryptoContext(U,Ba);return new da(Ab);case Z.MGK:Ba=new lc(na);ta=U.getEntityAuthenticationFactory(Ob.MGK);if(!ta)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ba=ta.getCryptoContext(U,Ba);return new da(Ab);case Z.WRAP:Ba=U.getMslCryptoContext();Ba.unwrap(pa,yc,Jc,{result:function(oa){Ka(ra,function(){return new da(oa);});},error:ra.error});break;default:throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Y);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=Dd=id.extend({init:function na(Y,pa){na.base.call(this,jc.JWK_LADDER);switch(Y){case Z.WRAP:if(!pa)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:pa=null;}Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},wrapdata:{value:pa,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.mechanism=this.mechanism;this.wrapdata && (Y.wrapdata=Db(this.wrapdata));return Y;},equals:function na(pa){return pa === this?!0:pa instanceof Dd?na.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.wrapdata,pa.wrapdata):!1;},uniqueKey:function na(){var ra;ra=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (ra+=":" + ec(this.wrapdata));return ra;}});ha=Se=jd.extend({init:function aa(ra,Ba,ta,oa,W){aa.base.call(this,ra,jc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ba,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:W,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.wrapkey=Db(this.wrapKey);ra.wrapdata=Db(this.wrapdata);ra.encryptionkey=Db(this.encryptionKey);ra.hmackey=Db(this.hmacKey);return ra;},equals:function ta(Ba){return this === Ba?!0:Ba instanceof Se?ta.base.call(this,Ba) && Xb(this.wrapKey,Ba.wrapKey) && Xb(this.wrapdata,Ba.wrapdata) && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + ec(this.wrapKey) + ":" + ec(this.wrapdata) + ":" + ec(this.encryptionKey) + ":" + ec(this.hmacKey);}});da=$c.extend({init:function(ta){ta && ta.rawKey && (ta=ta.rawKey);Object.defineProperties(this,{_wrapKey:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ta,oa){oa.error(new ub(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ta,oa){oa.error(new ub(V.DECRYPT_NOT_SUPPORTED));},wrap:function(ta,oa){Ka(oa,function(){Jb.wrapKey("jwk",ta.rawKey,this._wrapKey,yc).then(function(W){oa.result(W);},function(W){oa.error(new ub(V.WRAP_ERROR));});},this);},unwrap:function(ta,oa,W,aa){function ca(ka){Ka(aa,function(){switch(ka.type){case "secret":Xc(ka,aa);break;case "public":Mc(ka,aa);break;case "private":Yc(ka,aa);break;default:throw new ub(V.UNSUPPORTED_KEY,"type: " + ka.type);}});}Ka(aa,function(){Jb.unwrapKey("jwk",ta,this._wrapKey,yc,oa,!1,W).then(function(ka){ca(ka);},function(ka){aa.error(new ub(V.UNWRAP_ERROR));});},this);},sign:function(ta,oa){oa.error(new ub(V.SIGN_NOT_SUPPORTED));},verify:function(ta,oa,W){W.error(new ub(V.VERIFY_NOT_SUPPORTED));}});ge=mc.extend({init:function W(oa){W.base.call(this,jc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,W,aa){Ka(aa,function(){var ca,ka,Ga;ca=W.mechanism;ka=W.wrapdata;if(!ca || ca == Z.WRAP && (!ka || "string" !== typeof ka))throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));if(!Z[ca])throw new Qb(V.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case Z.WRAP:try{Ga=Fb(ka);}catch(Ca){throw new Qb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());}if(null == Ga || 0 == Ga.length)throw new Qb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());break;default:Ga=null;}return new ba(ca,Ga);});},createResponseData:function(oa,W,aa){var ca,ka,Ga,Ca,Oa,Ra,ia;oa=aa.wrapkey;ca=aa.wrapdata;ka=aa.encryptionkey;Ga=aa.hmackey;if(!(oa && "string" === typeof oa && ca && "string" === typeof ca && ka && "string" === typeof ka && Ga) || "string" !== typeof Ga)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ca=Fb(oa);Oa=Fb(ca);}catch(va){throw new ub(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),va);}try{Ra=Fb(ka);}catch(va){throw new ub(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),va);}try{ia=Fb(Ga);}catch(va){throw new ub(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),va);}return new ha(W,Ca,Oa,Ra,ia);},generateResponse:function(oa,W,aa,ca){var Ra,ia;function ka(va,xa,Ha){Ra.generateSessionKeys(oa,{result:function(Aa){Ka(ca,function(){Ga(va,xa,Ha,Aa.encryptionKey,Aa.hmacKey);},Ra);},error:function(Aa){Ka(ca,function(){Aa instanceof bb && Aa.setEntity(ia);throw Aa;});}});}function Ga(va,xa,Ha,Aa,Na){Ka(ca,function(){fa(oa,W.mechanism,W.wrapdata,va,{result:function(Da){Da.wrap(xa,{result:function(Ua){Ca(xa,Ha,Aa,Na,Ua);},error:function(Ua){Ka(ca,function(){Ua instanceof bb && Ua.setEntity(ia);throw Ua;});}});},error:function(Da){Ka(ca,function(){Da instanceof bb && Da.setEntity(ia);throw Da;});}});},Ra);}function Ca(va,xa,Ha,Aa,Na){Ka(ca,function(){var Da;Da=new da(va);Da.wrap(Ha,{result:function(Ua){Da.wrap(Aa,{result:function($a){Oa(xa,Na,Ha,Ua,Aa,$a);},error:function($a){Ka(ca,function(){$a instanceof bb && $a.setEntity(ia);throw $a;});}});},error:function(Ua){Ka(ca,function(){Ua instanceof bb && Ua.setEntity(ia);throw Ua;});}});},Ra);}function Oa(va,xa,Ha,Aa,Na,Da){Ka(ca,function(){var Ua;Ua=oa.getTokenFactory();ia?Ua.renewMasterToken(oa,ia,Ha,Na,{result:function($a){Ka(ca,function(){var Va,ib;Va=new gc(oa,$a);ib=new ha($a,xa,va,Aa,Da);return new mc.KeyExchangeData(ib,Va,ca);},Ra);},error:function($a){Ka(ca,function(){$a instanceof bb && $a.setEntity(ia);throw $a;});}}):Ua.createMasterToken(oa,aa,Ha,Na,{result:function($a){Ka(ca,function(){var Va,ib;Va=new gc(oa,$a);ib=new ha($a,xa,va,Aa,Da);return new mc.KeyExchangeData(ib,Va,ca);},Ra);},error:ca.error});},Ra);}Ra=this;Ka(ca,function(){var va,xa;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");va=aa;if(aa instanceof fc){if(!aa.isVerified())throw new Pc(V.MASTERTOKEN_UNTRUSTED,aa);ia=aa;va=aa.identity;}xa=new Uint8Array(16);oa.getRandom().nextBytes(xa);zc(xa,yc,Jc,{result:function(Ha){Ka(ca,function(){oa.getMslCryptoContext().wrap(Ha,{result:function(Aa){ka(va,Ha,Aa);},error:function(Aa){Ka(ca,function(){Aa instanceof bb && Aa.setEntity(ia);throw Aa;},Ra);}});},Ra);},error:function(Ha){Ka(ca,function(){throw new ub(V.WRAP_KEY_CREATION_FAILURE,null,Ha).setEntity(ia);},Ra);}});},Ra);},getCryptoContext:function(oa,W,aa,ca,ka){var Ca;function Ga(Oa,Ra,ia,va,xa){Ka(ka,function(){var Ha;Ha=new da(xa);Ha.unwrap(Ra.encryptionKey,rc,Ic,{result:function(Aa){Ha.unwrap(Ra.hmacKey,sc,Qc,{result:function(Na){Ka(ka,function(){this.repository.addCryptoContext(Ra.wrapdata,Ha);this.repository.removeCryptoContext(ia);return new gc(oa,Ra.masterToken,va,Aa,Na);},Ca);},error:function(Na){Ka(ka,function(){Na instanceof bb && Na.setEntity(Oa);throw Na;});}});},error:function(Aa){Ka(ka,function(){Aa instanceof bb && Aa.setEntity(Oa);throw Aa;});}});},Ca);}Ca=this;Ka(ka,function(){var Oa,Ra;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ha))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Oa=W.mechanism;Ra=W.wrapdata;oa.getEntityAuthenticationData(null,{result:function(ia){Ka(ka,function(){var va,xa,Ha;va=ia.getIdentity();switch(Oa){case Z.PSK:xa=new tc(va);Ha=oa.getEntityAuthenticationFactory(Ob.PSK);if(!Ha)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ia);xa=Ha.getCryptoContext(oa,xa);xa=new da(xa.wrapKey);break;case Z.MGK:xa=new lc(va);Ha=oa.getEntityAuthenticationFactory(Ob.MGK);if(!Ha)throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ia);xa=Ha.getCryptoContext(oa,xa);xa=new da(xa.wrapKey);break;case Z.WRAP:xa=this.repository.getCryptoContext(Ra);if(!xa)throw new Qb(V.KEYX_WRAPPING_KEY_MISSING,Db(Ra)).setEntity(ia);break;default:throw new Qb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ia);}xa.unwrap(aa.wrapKey,yc,Jc,{result:function(Aa){Ga(ia,aa,Ra,va,Aa);},error:function(Aa){Ka(ka,function(){Aa instanceof bb && Aa.setEntity(ia);throw Aa;});}});},Ca);},error:ka.error});},Ca);}});})();Qf=Bb.Class.create({addCryptoContext:function(fa,Z){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){}});(function(){var Z,ba,ha,da;function fa(U,Y,pa,na,ra){switch(pa){case Z.JWE_RSA:case Z.JWEJS_RSA:return new Bc(U,Cc.RSA_OAEP,wc,na,ra);case Z.JWK_RSA:return new xd(U,Y,na,ra,yd.WRAP_UNWRAP_OAEP);case Z.JWK_RSAES:return new xd(U,Y,na,ra,yd.WRAP_UNWRAP_PKCS1);default:throw new ub(V.UNSUPPORTED_KEYX_MECHANISM,pa);}}Z=Ed={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};ba=Sd=id.extend({init:function Ba(Y,pa,na,ra){Ba.base.call(this,jc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Y,writable:!1,configurable:!1},mechanism:{value:pa,writable:!1,configurable:!1},publicKey:{value:na,writable:!1,configurable:!1},privateKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.keypairid=this.keyPairId;Y.mechanism=this.mechanism;Y.publickey=Db(this.publicKey.getEncoded());return Y;},equals:function na(pa){var ra;if(pa === this)return !0;if(!(pa instanceof Sd))return !1;ra=this.privateKey === pa.privateKey || this.privateKey && pa.privateKey && Xb(this.privateKey.getEncoded(),pa.privateKey.getEncoded());return na.base.call(this,pa) && this.keyPairId == pa.keyPairId && this.mechanism == pa.mechanism && Xb(this.publicKey.getEncoded(),pa.publicKey.getEncoded()) && ra;},uniqueKey:function na(){var ra,Ba;ra=this.publicKey.getEncoded();Ba=this.privateKey && this.privateKey.getEncoded();ra=na.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + ec(ra);Ba && (ra+=":" + ec(Ba));return ra;}});ha=function(na,ra){Ka(ra,function(){var Ba,ta,oa,W;Ba=na.keypairid;ta=na.mechanism;oa=na.publickey;if(!Ba || "string" !== typeof Ba || !ta || !oa || "string" !== typeof oa)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(na));if(!Z[ta])throw new Qb(V.UNIDENTIFIED_KEYX_MECHANISM,ta);try{W=Fb(oa);switch(ta){case Z.JWE_RSA:case Z.JWEJS_RSA:case Z.JWK_RSA:Xd(W,vd,Jc,{result:function(aa){ra.result(new ba(Ba,ta,aa,null));},error:function(aa){ra.error(aa);}});break;case Z.JWK_RSAES:Xd(W,Vd,Jc,{result:function(aa){ra.result(new ba(Ba,ta,aa,null));},error:function(aa){ra.error(aa);}});break;default:throw new ub(V.UNSUPPORTED_KEYX_MECHANISM,ta);}}catch(aa){if(!(aa instanceof bb))throw new ub(V.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(na),aa);throw aa;}});};da=Te=jd.extend({init:function W(ra,Ba,ta,oa){W.base.call(this,ra,jc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.keypairid=this.keyPairId;ra.encryptionkey=Db(this.encryptionKey);ra.hmackey=Db(this.hmacKey);return ra;},equals:function ta(Ba){return this === Ba?!0:Ba instanceof Te?ta.base.call(this,Ba) && this.keyPairId == Ba.keyPairId && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + this.keyPairId + ":" + ec(this.encryptionKey) + ":" + ec(this.hmacKey);}});ze=mc.extend({init:function oa(){oa.base.call(this,jc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,W,aa){ha(W,aa);},createResponseData:function(oa,W,aa){var ca,ka,Ga,Ca;oa=aa.keypairid;ca=aa.encryptionkey;ka=aa.hmackey;if(!oa || "string" !== typeof oa || !ca || "string" !== typeof ca || !ka || "string" !== typeof ka)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ga=Fb(ca);}catch(Oa){throw new ub(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Oa);}try{Ca=Fb(ka);}catch(Oa){throw new ub(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Oa);}return new da(W,oa,Ga,Ca);},generateResponse:function(oa,W,aa,ca){var Ca;function ka(Oa,Ra){Ka(ca,function(){var ia;ia=fa(oa,W.keyPairId,W.mechanism,null,W.publicKey);ia.wrap(Oa,{result:function(va){Ka(ca,function(){ia.wrap(Ra,{result:function(xa){Ga(Oa,va,Ra,xa);},error:function(xa){Ka(ca,function(){xa instanceof bb && aa instanceof fc && xa.setEntity(aa);throw xa;},Ca);}});},Ca);},error:function(va){Ka(ca,function(){va instanceof bb && aa instanceof fc && va.setEntity(aa);throw va;},Ca);}});},Ca);}function Ga(Oa,Ra,ia,va){Ka(ca,function(){var xa;xa=oa.getTokenFactory();aa instanceof fc?xa.renewMasterToken(oa,aa,Oa,ia,{result:function(Ha){Ka(ca,function(){var Aa,Na;Aa=new gc(oa,Ha);Na=new da(Ha,W.keyPairId,Ra,va);return new mc.KeyExchangeData(Na,Aa,ca);},Ca);},error:function(Ha){Ka(ca,function(){Ha instanceof bb && Ha.setEntity(aa);throw Ha;},Ca);}}):xa.createMasterToken(oa,aa,Oa,ia,{result:function(Ha){Ka(ca,function(){var Aa,Na;Aa=new gc(oa,Ha);Na=new da(Ha,W.keyPairId,Ra,va);return new mc.KeyExchangeData(Na,Aa,ca);},Ca);},error:ca.error});},Ca);}Ca=this;Ka(ca,function(){if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Oa){ka(Oa.encryptionKey,Oa.hmacKey);},error:function(Oa){Ka(ca,function(){Oa instanceof bb && aa instanceof fc && Oa.setEntity(aa);throw Oa;},Ca);}});},Ca);},getCryptoContext:function(oa,W,aa,ca,ka){var Ga;Ga=this;Ka(ka,function(){var Ca,Oa,Ra;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof da))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Ca=W.keyPairId;Oa=aa.keyPairId;if(Ca != Oa)throw new Qb(V.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ca + "; response " + Oa).setEntity(ca);Oa=W.privateKey;if(!Oa)throw new Qb(V.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ca);Ra=fa(oa,Ca,W.mechanism,Oa,null);Ra.unwrap(aa.encryptionKey,rc,Ic,{result:function(ia){Ra.unwrap(aa.hmacKey,sc,Qc,{result:function(va){oa.getEntityAuthenticationData(null,{result:function(xa){Ka(ka,function(){var Ha;Ha=xa.getIdentity();return new gc(oa,aa.masterToken,Ha,ia,va);},Ga);},error:function(xa){Ka(ka,function(){xa instanceof bb && xa.setEntity(ca);throw xa;},Ga);}});},error:function(va){Ka(ka,function(){va instanceof bb && va.setEntity(ca);throw va;},Ga);}});},error:function(ia){Ka(ka,function(){ia instanceof bb && ia.setEntity(ca);throw ia;},Ga);}});},Ga);}});})();Pf=Bb.Class.create({init:function(fa){var Z,ba,ha,da,U,Y,pa,na;Z=Zb.parser();ba=[];ha=[];pa=0;na=!1;Z.onerror=function(ra){na || (na=!0,Z.end());};Z.onopenobject=function(ra){var Ba;if(da)(da[Y]={},ha.push(da),da=da[Y]);else if(U){Ba={};ha.push(U);U.push(Ba);da=Ba;U=Ab;}else da={};Y=ra;};Z.oncloseobject=function(){var ra;ra=ha.pop();ra?"object" === typeof ra?da=ra:(da=Ab,U=ra):(ba.push(da),pa=Z.index,da=Ab);};Z.onopenarray=function(){var ra;if(da)(da[Y]=[],ha.push(da),U=da[Y],da=Ab);else if(U){ra=[];ha.push(U);U.push(ra);U=ra;}else U=[];};Z.onclosearray=function(){var ra;ra=ha.pop();ra?"object" === typeof ra?(da=ra,U=Ab):U=ra:(ba.push(U),pa=Z.index,U=Ab);};Z.onkey=function(ra){Y=ra;};Z.onvalue=function(ra){da?da[Y]=ra:U?U.push(ra):(ba.push(ra),pa=Z.index);};Z.write(fa).close();Object.defineProperties(this,{_values:{value:ba,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:pa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var fa,Z,ba,ha,da;fa=he="entityauthdata";Z=Ve="mastertoken";ba=We="headerdata";ha=Xe="errordata";da=ie="signature";Ue=function(U,Y,pa,na){Ka(na,function(){var ra,Ba,ta,oa,W,aa;ra=Y[fa];Ba=Y[Z];ta=Y[da];if(ra && "object" !== typeof ra || Ba && "object" !== typeof Ba || "string" !== typeof ta)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));try{oa=Fb(ta);}catch(ca){throw new Ib(V.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(Y),ca);}W=null;ra && (W=Ie(U,ra));aa=Y[ba];if(aa != Ab && null != aa){if("string" !== typeof aa)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ba?Rc(U,Ba,{result:function(ca){je(U,aa,W,ca,oa,pa,na);},error:function(ca){na.error(ca);}}):je(U,aa,W,null,oa,pa,na);}else if((ra=Y[ha],ra != Ab && null != ra)){if("string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ye(U,ra,W,oa,na);}else throw new yb(V.JSON_PARSE_ERROR,JSON.stringify(Y));});};})();(function(){function fa(Z,ba){this.errordata=Z;this.signature=ba;}Lc=Bb.Class.create({init:function(Z,ba,ha,da,U,Y,pa,na,ra,Ba){var ta;ta=this;Ka(Ba,function(){var oa,W;0 > Y && (Y=-1);if(0 > da || da > Mb)throw new vb("Message ID " + da + " is out of range.");if(!ba)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);if(ra)return (Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ha,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:ra.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};ha && (oa.recipient=ha);oa.messageid=da;oa.errorcode=U;0 < Y && (oa.internalcode=Y);pa && (oa.errormsg=pa);na && (oa.usermsg=na);try{W=Z.getEntityAuthenticationFactory(ba.scheme).getCryptoContext(Z,ba);}catch(aa){throw (aa instanceof bb && (aa.setEntity(ba),aa.setMessageId(da)),aa);}oa=Sb(JSON.stringify(oa),Lb);W.encrypt(oa,{result:function(aa){Ka(Ba,function(){W.sign(aa,{result:function(ca){Ka(Ba,function(){Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ha,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ca,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(ca){Ka(Ba,function(){ca instanceof bb && (ca.setEntity(ba),ca.setMessageId(da));throw ca;},ta);}});},ta);},error:function(aa){Ka(Ba,function(){aa instanceof bb && (aa.setEntity(ba),aa.setMessageId(da));throw aa;},ta);}});},ta);},toJSON:function(){var Z;Z={};Z[he]=this.entityAuthenticationData;Z[Xe]=Db(this.errordata);Z[ie]=Db(this.signature);return Z;}});Ze=function(Z,ba,ha,da,U,Y,pa,na,ra){new Lc(Z,ba,ha,da,U,Y,pa,na,null,ra);};Ye=function(Z,ba,ha,da,U){Ka(U,function(){var Y,pa,na;if(!ha)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);try{Y=ha.scheme;pa=Z.getEntityAuthenticationFactory(Y);if(!pa)throw new xc(V.ENTITYAUTH_FACTORY_NOT_FOUND,Y);na=pa.getCryptoContext(Z,ha);}catch(ra){throw (ra instanceof bb && ra.setEntity(ha),ra);}try{ba=Fb(ba);}catch(ra){throw new Ib(V.HEADER_DATA_INVALID,ba,ra).setEntity(ha);}if(!ba || 0 == ba.length)throw new Ib(V.HEADER_DATA_MISSING,ba).setEntity(ha);na.verify(ba,da,{result:function(ra){Ka(U,function(){if(!ra)throw new ub(V.MESSAGE_VERIFICATION_FAILED).setEntity(ha);na.decrypt(ba,{result:function(Ba){Ka(U,function(){var ta,oa,W,aa,ca,ka,Ga,Ca;ta=Tb(Ba,Lb);try{oa=JSON.parse(ta);}catch(Ra){if(Ra instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"errordata " + ta,Ra).setEntity(ha);throw Ra;}W=oa.recipient !== Ab?oa.recipient:null;aa=parseInt(oa.messageid);ca=parseInt(oa.errorcode);ka=parseInt(oa.internalcode);Ga=oa.errormsg;Ca=oa.usermsg;if(W && "string" !== typeof W || !aa || aa != aa || !ca || ca != ca || oa.internalcode && ka != ka || Ga && "string" !== typeof Ga || Ca && "string" !== typeof Ca)throw new yb(V.JSON_PARSE_ERROR,"errordata " + ta).setEntity(ha);if(0 > aa || aa > Mb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ta).setEntity(ha);oa=!1;for(var Oa in Ja){if(Ja[Oa] == ca){oa=!0;break;}}oa || (ca=Ja.FAIL);if(ka){if(0 > ka)throw new Ib(V.INTERNAL_CODE_NEGATIVE,"errordata " + ta).setEntity(ha).setMessageId(aa);}else ka=-1;ta=new fa(ba,da);new Lc(Z,ha,W,aa,ca,ka,Ga,Ca,ta,U);});},error:function(Ba){Ka(U,function(){Ba instanceof bb && Ba.setEntity(ha);throw Ba;});}});});},error:function(ra){Ka(U,function(){ra instanceof bb && ra.setEntity(ha);throw ra;});}});});};})();Rf=Bb.Class.create({getUserMessage:function(fa,Z){}});(function(){ke=function(fa,Z){var ba;if(!fa || !Z)return null;ba=fa.compressionAlgorithms.filter(function(ha){for(var da=0;da < Z.compressionAlgorithms.length;++da){if(ha == Z.compressionAlgorithms[da])return !0;}return !1;});fa=fa.languages.filter(function(ha){for(var da=0;da < Z.languages.length;++da){if(ha == Z.languages[da])return !0;}return !1;});return new kd(ba,fa);};kd=Bb.Class.create({init:function(fa,Z){fa || (fa=[]);Z || (Z=[]);fa.sort();Object.defineProperties(this,{compressionAlgorithms:{value:fa,writable:!1,enumerable:!0,configurable:!1},languages:{value:Z,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var fa;fa={};fa.compressionalgos=this.compressionAlgorithms;fa.languages=this.languages;return fa;},equals:function(fa){return this === fa?!0:fa instanceof kd?se(this.compressionAlgorithms,fa.compressionAlgorithms) && se(this.languages,fa.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});$e=function(fa){var Z,ba,da;Z=fa.compressionalgos;ba=fa.languages;if(Z && !(Z instanceof Array) || ba && !(ba instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(fa));fa=[];for(var ha=0;Z && ha < Z.length;++ha){da=Z[ha];Nc[da] && fa.push(da);}return new kd(fa,ba);};})();(function(){var Ba,ta;function fa(oa,W,aa,ca,ka){this.customer=oa;this.sender=W;this.messageCryptoContext=aa;this.headerdata=ca;this.signature=ka;}function Z(oa,W,aa,ca,ka,Ga,Ca,Oa,Ra,ia,va,xa,Ha,Aa,Na,Da,Ua,$a,Va,ib){return {cryptoContext:{value:W,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},entityAuthenticationData:{value:ca,writable:!1,configurable:!1},masterToken:{value:ka,writable:!1,configurable:!1},sender:{value:Ga,writable:!1,configurable:!1},messageId:{value:Ca,writable:!1,configurable:!1},nonReplayableId:{value:Da,writable:!1,configurable:!1},keyRequestData:{value:Oa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthenticationData:{value:ia,writable:!1,configurable:!1},userIdToken:{value:va,writable:!1,configurable:!1},serviceTokens:{value:xa,writable:!1,configurable:!1},peerMasterToken:{value:Ha,writable:!1,configurable:!1},peerUserIdToken:{value:Aa,writable:!1,configurable:!1},peerServiceTokens:{value:Na,writable:!1,configurable:!1},messageCapabilities:{value:$a,writable:!1,configurable:!1},renewable:{value:Ua,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:ib,writable:!1,enumerable:!1,configurable:!1}};}function ba(oa,W,aa){var ca;if(aa){if(W=oa.getMslStore().getCryptoContext(aa))return W;if(!aa.isVerified() || !aa.isDecrypted())throw new Pc(V.MASTERTOKEN_UNTRUSTED,aa);return new gc(oa,aa);}aa=W.scheme;ca=oa.getEntityAuthenticationFactory(aa);if(!ca)throw new xc(V.ENTITYAUTH_FACTORY_NOT_FOUND,aa);return ca.getCryptoContext(oa,W);}function ha(oa,W,aa,ca,ka){Ka(ka,function(){W.verify(aa,ca,{result:function(Ga){Ka(ka,function(){if(!Ga)throw new ub(V.MESSAGE_VERIFICATION_FAILED);W.decrypt(aa,{result:function(Ca){Ka(ka,function(){return Tb(Ca,Lb);});},error:function(Ca){ka.error(Ca);}});});},error:function(Ga){ka.error(Ga);}});});}function da(oa,W,aa){Ka(aa,function(){if(W)Pe(oa,W,aa);else return null;});}function U(oa,W,aa,ca){Ka(ca,function(){if(W)Sc(oa,W,aa,ca);else return null;});}function Y(oa,W,aa,ca){Ka(ca,function(){if(aa)df(oa,W,aa,ca);else return null;});}function pa(oa,W,aa,ca,ka,Ga,Ca){var Ra;function Oa(ia,va,xa){var Ha,Aa;if(va >= ia.length){Ha=[];for(Aa in Ra){Ha.push(Ra[Aa]);}xa.result(Ha);}else {Ha=ia[va];if("object" !== typeof Ha)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + Ga);Fd(oa,Ha,aa,ca,ka,{result:function(Na){Ka(xa,function(){Ra[Na.uniqueKey()]=Na;Oa(ia,va + 1,xa);});},error:function(Na){xa.error(Na);}});}}Ra={};Ka(Ca,function(){if(W){if(!(W instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + Ga);Oa(W,0,Ca);}else return [];});}function na(oa,W,aa,ca,ka,Ga){function Ca(Ra,ia,va){Ka(va,function(){var xa;xa=ia.peermastertoken;if(xa && "object" !== typeof xa)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka);if(!xa)return null;Rc(Ra,xa,va);});}function Oa(Ra,ia,va,xa){Ka(xa,function(){var Ha;Ha=ia.peeruseridtoken;if(Ha && "object" !== typeof Ha)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka);if(!Ha)return null;Sc(Ra,Ha,va,xa);});}Ka(Ga,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ca(oa,W,{result:function(Ra){Ka(Ga,function(){var ia;ia=aa?aa.masterToken:Ra;Oa(oa,W,ia,{result:function(va){Ka(Ga,function(){pa(oa,W.peerservicetokens,ia,va,ca,ka,{result:function(xa){Ka(Ga,function(){return {peerMasterToken:Ra,peerUserIdToken:va,peerServiceTokens:xa};});},error:function(xa){Ka(Ga,function(){xa instanceof bb && (xa.setEntity(ia),xa.setUser(va));throw xa;});}});});},error:function(va){Ka(Ga,function(){va instanceof bb && va.setEntity(ia);throw va;});}});});},error:Ga.error});});}function ra(oa,W,aa,ca){var Ga;function ka(Ca,Oa){Ka(ca,function(){if(Oa >= Ca.length)return Ga;Oe(oa,Ca[Oa],{result:function(Ra){Ka(ca,function(){Ga.push(Ra);ka(Ca,Oa + 1);});},error:function(Ra){ca.error(Ra);}});});}Ga=[];Ka(ca,function(){var Ca;Ca=W.keyrequestdata;if(!Ca)return Ga;if(!(Ca instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + aa);ka(Ca,0);});}Ba=bf=Bb.Class.create({init:function(oa,W,aa,ca,ka,Ga,Ca,Oa,Ra){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:W,writable:!1,configurable:!1},renewable:{value:aa,writable:!1,configurable:!1},capabilities:{value:ca,writable:!1,configurable:!1},keyRequestData:{value:ka,writable:!1,configurable:!1},keyResponseData:{value:Ga,writable:!1,configurable:!1},userAuthData:{value:Ca,writable:!1,configurable:!1},userIdToken:{value:Oa,writable:!1,configurable:!1},serviceTokens:{value:Ra,writable:!1,configurable:!1}});}});ta=cf=Bb.Class.create({init:function(oa,W,aa){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:W,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1}});}});ld=Bb.Class.create({init:function(oa,W,aa,ca,ka,Ga,Ca){var Ra;function Oa(ia){Ka(Ca,function(){var va,xa,Ha,Aa,Na,Da,Ua,$a,Va,ib,mb,ob,rb,sb,zb,xb,r;W=aa?null:W;va=ca.nonReplayableId;xa=ca.renewable;Ha=ca.capabilities;Aa=ca.messageId;Na=ca.keyRequestData?ca.keyRequestData:[];Da=ca.keyResponseData;Ua=ca.userAuthData;$a=ca.userIdToken;Va=ca.serviceTokens?ca.serviceTokens:[];if(oa.isPeerToPeer()){ib=ka.peerMasterToken;mb=ka.peerUserIdToken;ob=ka.peerServiceTokens?ka.peerServiceTokens:[];}else (mb=ib=null,ob=[]);if(0 > Aa || Aa > Mb)throw new vb("Message ID " + Aa + " is out of range.");if(!W && !aa)throw new vb("Message entity authentication data or master token must be provided.");if(Da){if(oa.isPeerToPeer()){rb=aa;sb=Da.masterToken;}else (rb=Da.masterToken,sb=ib);}else (rb=aa,sb=ib);if($a && (!rb || !$a.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(mb && (!sb || !mb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Va.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!$a || !b.isBoundTo($a)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ga){r=Ga.customer;zb=Ga.messageCryptoContext;xb=Z(oa,zb,r,W,aa,ia,Aa,Na,Da,Ua,$a,Va,ib,mb,ob,va,xa,Ha,Ga.headerdata,Ga.signature);Object.defineProperties(this,xb);return this;}r=$a?$a.customer:null;xb={};ia && (xb.sender=ia);xb.messageid=Aa;"number" === typeof va && (xb.nonreplayableid=va);xb.renewable=xa;Ha && (xb.capabilities=Ha);0 < Na.length && (xb.keyrequestdata=Na);Da && (xb.keyresponsedata=Da);Ua && (xb.userauthdata=Ua);$a && (xb.useridtoken=$a);0 < Va.length && (xb.servicetokens=Va);ib && (xb.peermastertoken=ib);mb && (xb.peeruseridtoken=mb);0 < ob.length && (xb.peerservicetokens=ob);try{zb=ba(oa,W,aa);}catch(b){throw (b instanceof bb && (b.setEntity(aa),b.setEntity(W),b.setUser($a),b.setUser(Ua),b.setMessageId(Aa)),b);}xb=Sb(JSON.stringify(xb),Lb);zb.encrypt(xb,{result:function(b){Ka(Ca,function(){zb.sign(b,{result:function(a){Ka(Ca,function(){var c;c=Z(oa,zb,r,W,aa,ia,Aa,Na,Da,Ua,$a,Va,ib,mb,ob,va,xa,Ha,b,a);Object.defineProperties(this,c);return this;},Ra);},error:function(a){Ka(Ca,function(){a instanceof bb && (a.setEntity(aa),a.setEntity(W),a.setUser($a),a.setUser(Ua),a.setMessageId(Aa));throw a;},Ra);}});},Ra);},error:function(b){Ka(Ca,function(){b instanceof bb && (b.setEntity(aa),b.setEntity(W),b.setUser($a),b.setUser(Ua),b.setMessageId(Aa));throw b;},Ra);}});},Ra);}Ra=this;Ka(Ca,function(){Ga?Oa(Ga.sender):aa?oa.getEntityAuthenticationData(null,{result:function(ia){ia=ia.getIdentity();Oa(ia);},error:Ca.error}):Oa(null);},Ra);},isEncrypting:function(){return this.masterToken || Pd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[Ve]=this.masterToken:oa[he]=this.entityAuthenticationData;oa[We]=Db(this.headerdata);oa[ie]=Db(this.signature);return oa;}});af=function(oa,W,aa,ca,ka,Ga){new ld(oa,W,aa,ca,ka,null,Ga);};je=function(oa,W,aa,ca,ka,Ga,Ca){Ka(Ca,function(){var Oa,Ra;aa=ca?null:aa;if(!aa && !ca)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);Oa=W;try{W=Fb(Oa);}catch(ia){throw new Ib(V.HEADER_DATA_INVALID,Oa,ia);}if(!W || 0 == W.length)throw new Ib(V.HEADER_DATA_MISSING,Oa);try{Ra=ba(oa,aa,ca);}catch(ia){throw (ia instanceof bb && (ia.setEntity(ca),ia.setEntity(aa)),ia);}ha(oa,Ra,W,ka,{result:function(ia){Ka(Ca,function(){var va,xa,Ha,Aa,Na;try{va=JSON.parse(ia);}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia,Da).setEntity(ca).setEntity(aa);throw Da;}xa=parseInt(va.messageid);if(!xa || xa != xa)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ca).setEntity(aa);if(0 > xa || xa > Mb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ia).setEntity(ca).setEntity(aa);Ha=ca?va.sender:null;if(ca && (!Ha || "string" !== typeof Ha))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ca).setEntity(aa).setMessageId(xa);Aa=va.keyresponsedata;if(Aa && "object" !== typeof Aa)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ca).setEntity(aa).setMessageId(xa);Na=Ca;Ca={result:function(Da){Na.result(Da);},error:function(Da){Da instanceof bb && (Da.setEntity(ca),Da.setEntity(aa),Da.setMessageId(xa));Na.error(Da);}};da(oa,Aa,{result:function(Da){Ka(Ca,function(){var Ua,$a;Ua=!oa.isPeerToPeer() && Da?Da.masterToken:ca;$a=va.useridtoken;if($a && "object" !== typeof $a)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia);U(oa,$a,Ua,{result:function(Va){Ka(Ca,function(){var ib;ib=va.userauthdata;if(ib && "object" !== typeof ib)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia);Y(oa,Ua,ib,{result:function(mb){Ka(Ca,function(){var ob,rb,sb;if(mb){ob=mb.scheme;rb=oa.getUserAuthenticationFactory(ob);if(!rb)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Va).setUser(mb);ob=ca?ca.identity:aa.getIdentity();sb=rb.authenticate(oa,ob,mb,Va);}else sb=Va?Va.customer:null;pa(oa,va.servicetokens,Ua,Va,Ga,ia,{result:function(zb){Ka(Ca,function(){var xb,r,b,a;xb=va.nonreplayableid !== Ab?parseInt(va.nonreplayableid):null;r=va.renewable;if(xb != xb || "boolean" !== typeof r)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia);if(0 > xb || xb > Mb)throw new Ib(V.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ia);b=null;a=va.capabilities;if(a){if("object" !== typeof a)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ia);b=$e(a);}ra(oa,va,ia,{result:function(c){na(oa,va,Da,Ga,ia,{result:function(f){Ka(Ca,function(){var l,m,d,g;l=f.peerMasterToken;m=f.peerUserIdToken;d=f.peerServiceTokens;g=new Ba(xa,xb,r,b,c,Da,mb,Va,zb);l=new ta(l,m,d);m=new fa(sb,Ha,Ra,W,ka);new ld(oa,aa,ca,g,l,m,Ca);});},error:Ca.error});},error:function(c){Ka(Ca,function(){c instanceof bb && (c.setUser(Va),c.setUser(mb));throw c;});}});});},error:function(zb){Ka(Ca,function(){zb instanceof bb && (zb.setEntity(Ua),zb.setUser(Va),zb.setUser(mb));throw zb;});}});});},error:Ca.error});});},error:Ca.error});});},error:Ca.error});});},error:Ca.error});});};})();(function(){function fa(Z,ba){this.payload=Z;this.signature=ba;}le=Bb.Class.create({init:function(Z,ba,ha,da,U,Y,pa,na){var ra;ra=this;Ka(na,function(){var Ba,ta;if(0 > Z || Z > Mb)throw new vb("Sequence number " + Z + " is outside the valid range.");if(0 > ba || ba > Mb)throw new vb("Message ID " + ba + " is outside the valid range.");if(pa)return (Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:da,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ha,writable:!1,enumerable:!1,configurable:!1},payload:{value:pa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(da){Ba=me(da,U);Ba || (da=null,Ba=U);}else (da=null,Ba=U);ta={};ta.sequencenumber=Z;ta.messageid=ba;ha && (ta.endofmsg=ha);da && (ta.compressionalgo=da);ta.data=Db(Ba);Ba=Sb(JSON.stringify(ta),Lb);Y.encrypt(Ba,{result:function(oa){Ka(na,function(){Y.sign(oa,{result:function(W){Ka(na,function(){Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:da,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ha,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:W,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(W){na.error(W);}});},ra);},error:function(oa){na.error(oa);}});},ra);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var Z;Z={};Z.payload=Db(this.payload);Z.signature=Db(this.signature);return Z;}});ef=function(Z,ba,ha,da,U,Y,pa){new le(Z,ba,ha,da,U,Y,null,pa);};ff=function(Z,ba,ha){Ka(ha,function(){var da,U,Y,pa;da=Z.payload;U=Z.signature;if(!da || "string" !== typeof da || "string" !== typeof U)throw new yb(V.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(Z));try{Y=Fb(da);}catch(na){throw new Ib(V.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(Z),na);}try{pa=Fb(U);}catch(na){throw new Ib(V.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(Z),na);}ba.verify(Y,pa,{result:function(na){Ka(ha,function(){if(!na)throw new ub(V.PAYLOAD_VERIFICATION_FAILED);ba.decrypt(Y,{result:function(ra){Ka(ha,function(){var Ba,ta,oa,W,aa,ca,ka;Ba=Tb(ra,Lb);try{ta=JSON.parse(Ba);}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ba,Ga);throw Ga;}oa=parseInt(ta.sequencenumber);W=parseInt(ta.messageid);aa=ta.endofmsg;ca=ta.compressionalgo;ta=ta.data;if(!oa || oa != oa || !W || W != W || aa && "boolean" !== typeof aa || ca && "string" !== typeof ca || "string" !== typeof ta)throw new yb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ba);if(0 > oa || oa > Mb)throw new bb(V.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ba);if(0 > W || W > Mb)throw new bb(V.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ba);aa || (aa=!1);if(ca && !Nc[ca])throw new Ib(V.UNIDENTIFIED_COMPRESSION,ca);try{ka=Fb(ta);}catch(Ga){throw new Ib(V.PAYLOAD_DATA_CORRUPT,ta,Ga);}if(ka && 0 != ka.length)Ba=ca?Gd(ca,ka):ka;else {if(0 < ta.length)throw new Ib(V.PAYLOAD_DATA_CORRUPT,ta);if(aa)Ba=new Uint8Array(0);else throw new Ib(V.PAYLOAD_DATA_MISSING,ta);}ka=new fa(Y,pa);new le(oa,W,aa,ca,Ba,ba,ka,ha);});},error:function(ra){ha.error(ra);}});});},error:function(na){ha.error(na);}});});};})();(function(){var ha,da;function fa(U,Y,pa,na,ra){var ta,oa,W,aa,ca;function Ba(){Ka(ra,function(){var ka,Ga;oa >= Y.length && (oa=0,++ta);if(ta >= W.length){if(aa)throw aa;throw new Qb(V.KEYX_FACTORY_NOT_FOUND,JSON.stringify(Y));}ka=W[ta];Ga=Y[oa];ka.scheme != Ga.keyExchangeScheme?(++oa,Ba()):ka.generateResponse(U,Ga,ca,{result:function(Ca){ra.result(Ca);},error:function(Ca){Ka(ra,function(){if(!(Ca instanceof bb))throw Ca;aa=Ca;++oa;Ba();});}});});}ta=0;oa=0;W=U.getKeyExchangeFactories();ca=pa?pa:na;Ba();}function Z(U,Y,pa,na,ra){Ka(ra,function(){var Ba;Ba=Y.keyRequestData;if(Y.isRenewable() && 0 < Ba.length)na?na.isRenewable() || na.isExpired()?fa(U,Ba,na,null,ra):U.getTokenFactory().isNewestMasterToken(U,na,{result:function(ta){Ka(ra,function(){if(ta)return null;fa(U,Ba,na,null,ra);});},error:ra.error}):fa(U,Ba,null,pa.getIdentity(),ra);else return null;});}function ba(U,Y,pa,na){Ka(na,function(){var ra,Ba,ta,oa;ra=Y.userIdToken;Ba=Y.userAuthenticationData;ta=Y.messageId;if(ra && ra.isVerified()){if(ra.isRenewable() && Y.isRenewable() || ra.isExpired() || !ra.isBoundTo(pa)){Ba=U.getTokenFactory();Ba.renewUserIdToken(U,ra,pa,na);return;}}else if(Y.isRenewable() && pa && Ba){ra=Y.customer;if(!ra){ra=Ba.scheme;oa=U.getUserAuthenticationFactory(ra);if(!oa)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,ra).setEntity(pa).setUser(Ba).setMessageId(ta);ra=oa.authenticate(U,pa.identity,Ba,null);}Ba=U.getTokenFactory();Ba.createUserIdToken(U,ra,pa,na);return;}return ra;});}ha=new Uint8Array(0);da=Tc=function(U){if(0 > U || U > Mb)throw new vb("Message ID " + U + " is outside the valid range.");return U == Mb?0:U + 1;};bd=function(U){if(0 > U || U > Mb)throw new vb("Message ID " + U + " is outside the valid range.");return 0 == U?Mb:U - 1;};Uc=function(U,Y,pa,na,ra){Ka(ra,function(){var Ba;if(na == Ab || null == na){Ba=U.getRandom();do {na=Ba.nextLong();}while(0 > na || na > Mb);}else if(0 > na || na > Mb)throw new vb("Message ID " + na + " is outside the valid range.");U.getEntityAuthenticationData(null,{result:function(ta){Ka(ra,function(){var oa;oa=U.getMessageCapabilities();return new Hd(U,na,oa,ta,Y,pa,null,null,null,null,null);});},error:function(ta){ra.error(ta);}});});};gf=function(U,Y,pa){Ka(pa,function(){var ra,Ba,ta,oa,W,aa;function na(ca){Ka(pa,function(){ca instanceof bb && (ca.setEntity(ra),ca.setEntity(Ba),ca.setUser(ta),ca.setUser(oa),ca.setMessageId(W));throw ca;});}ra=Y.masterToken;Ba=Y.entityAuthenticationData;ta=Y.userIdToken;oa=Y.userAuthenticationData;W=Y.messageId;aa=da(W);Z(U,Y,Ba,ra,{result:function(ca){Ka(pa,function(){var ka;ka=ca?ca.keyResponseData.masterToken:ka=ra;U.getEntityAuthenticationData(null,{result:function(Ga){Ka(pa,function(){ba(U,Y,ka,{result:function(Ca){Ka(pa,function(){var Oa,Ra,ia;ta=Ca;Oa=ke(Y.messageCapabilities,U.getMessageCapabilities());Ra=Y.keyResponseData;ia=Y.serviceTokens;return U.isPeerToPeer()?new Hd(U,aa,Oa,Ga,Ra?Ra.masterToken:Y.peerMasterToken,Y.peerUserIdToken,Y.peerServiceTokens,ra,ta,ia,ca):new Hd(U,aa,Oa,Ga,Ra?Ra.masterToken:ra,ta,ia,null,null,null,ca);});},error:na});});},error:na});});},error:na});});};hf=function(U,Y,pa,na,ra){Ka(ra,function(){U.getEntityAuthenticationData(null,{result:function(Ba){Ka(ra,function(){var ta,oa;if(Y != Ab && null != Y)ta=da(Y);else {oa=U.getRandom();do {ta=oa.nextInt();}while(0 > ta || ta > Mb);}Ze(U,Ba,ta,pa.responseCode,pa.internalCode,pa.message,na,ra);});},error:function(Ba){ra.error(Ba);}});});};Hd=Bb.Class.create({init:function(U,Y,pa,na,ra,Ba,ta,oa,W,aa,ca){var ka,Ga,Ca,Oa,Ra;if(!U.isPeerToPeer() && (oa || W))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");ka=ca && !U.isPeerToPeer()?ca.keyResponseData.masterToken:ra;Ga=[];ka=U.getMslStore().getServiceTokens(ka,Ba);Ga.push.apply(Ga,ka);ta && ta.forEach(function(ia){Ga.push(ia);},this);Ca=[];if(U.isPeerToPeer()){Oa=oa;Ra=W;ta=ca?ca.keyResponseData.masterToken:oa;W=U.getMslStore().getServiceTokens(ta,W);Ca.push.apply(Ca,W);aa && aa.forEach(function(ia){Ca.push(ia);},this);}Object.defineProperties(this,{_ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:na,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ra,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:pa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ca,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Pd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Pd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || te(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || te(this._entityAuthData.scheme);},getHeader:function(U){Ka(U,function(){var Y,pa,na;Y=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;pa=[];for(na in this._keyRequestData){pa.push(this._keyRequestData[na]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(V.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);na=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else na=null;Y=new bf(this._messageId,na,this._renewable,this._capabilities,pa,Y,this._userAuthData,this._userIdToken,this._serviceTokens);pa=new cf(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);af(this._ctx,this._entityAuthData,this._masterToken,Y,pa,U);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(U){this._nonReplayable=U;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(U){this._renewable=U;return this;},setAuthTokens:function(U,Y){var pa,ra;if(Y && !Y.isBoundTo(U))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{pa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ba){if(Ba instanceof bb)throw new vb("Invalid master token and user ID token combination despite checking above.",Ba);throw Ba;}for(var na=this._serviceTokens.length - 1;0 <= na;--na){ra=this._serviceTokens[na];(ra.isUserIdTokenBound() && !ra.isBoundTo(Y) || ra.isMasterTokenBound() && !ra.isBoundTo(U)) && this._serviceTokens.splice(na,1);}pa.forEach(function(Ba){this.excludeServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._serviceTokens.push(Ba);},this);this._masterToken=U;this._userIdToken=Y;},setUserAuthenticationData:function(U){this._userAuthData=U;return this;},setCustomer:function(U,Y){var pa;pa=this;Ka(Y,function(){var na;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");na=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!na)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,U,na,{result:function(ra){Ka(Y,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ra:(this._userIdToken=ra,this._userAuthData=null);return !0;},pa);},error:function(ra){Y.error(ra);}});},pa);},addKeyRequestData:function(U){this._keyRequestData[U.uniqueKey()]=U;return this;},removeKeyRequestData:function(U){delete this._keyRequestData[U.uniqueKey()];return this;},addServiceToken:function(U){var Y;Y=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(U.isMasterTokenBound() && !U.isBoundTo(Y))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(Y)).setEntity(Y);if(U.isUserIdTokenBound() && !U.isBoundTo(this._userIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(Y).setUser(this._userIdToken);this.excludeServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._serviceTokens.push(U);return this;},addServiceTokenIfAbsent:function(U){var pa;for(var Y=this._serviceTokens.length - 1;0 <= Y;--Y){pa=this._serviceTokens[Y];if(pa.name == U.name && pa.isMasterTokenBound() == U.isMasterTokenBound() && pa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addServiceToken(U);return this;},excludeServiceToken:function(){var U,Y,pa,ra;if(1 == arguments.length){U=arguments[0];Y=U.name;pa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],pa=arguments[1],U=arguments[2]);for(var na=this._serviceTokens.length - 1;0 <= na;--na){ra=this._serviceTokens[na];ra.name == Y && ra.isMasterTokenBound() == pa && ra.isUserIdTokenBound() == U && this._serviceTokens.splice(na,1);}return this;},deleteServiceToken:function(){var U,Y,pa,na;if(2 == arguments.length){U=arguments[0];Y=U.name;U.isMasterTokenBound();U.isUserIdTokenBound();pa=arguments[1];}else (arguments.length=4,Y=arguments[0],pa=arguments[3]);na=this;Ka(pa,function(){var ra,Ba;ra=originalToken.isMasterTokenBound()?this._masterToken:null;Ba=originalToken.isUserIdTokenBound()?this._userIdToken:null;Dc(this._ctx,Y,ha,ra,Ba,!1,null,new ad(),{result:function(ta){Ka(pa,function(){return this.addServiceToken(ta);},na);},error:function(ta){ta instanceof bb && (ta=new vb("Failed to create and add empty service token to message.",ta));pa.error(ta);}});},na);},getServiceTokens:function(){var U;U=[];U.push.apply(U,this._serviceTokens);return U;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(U,Y){var pa,ra;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(Y && !U)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(Y && !Y.isBoundTo(U))throw new Ib(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + Y + "; mt " + U).setEntity(U).setUser(Y);try{pa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ba){if(Ba instanceof bb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Ba);throw Ba;}for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){ra=this._peerServiceTokens[na];(ra.isUserIdTokenBound() && !ra.isBoundTo(Y) || ra.isMasterTokenBound() && !ra.isBoundTo(U)) && this._peerServiceTokens.slice(na,1);}pa.forEach(function(Ba){this.excludePeerServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._peerServiceTokens.push(Ba);},this);this._peerUserIdToken=Y;this._peerMasterToken=U;return this;},addPeerServiceToken:function(U){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(U.isMasterTokenBound() && !U.isBoundTo(this._peerMasterToken))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(U.isUserIdTokenBound() && !U.isBoundTo(this._peerUserIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._peerServiceTokens.push(U);return this;},addPeerServiceTokenIfAbsent:function(U){var pa;for(var Y=this._peerServiceTokens.length - 1;0 <= Y;--Y){pa=this._peerServiceTokens[Y];if(pa.name == U.name && pa.isMasterTokenBound() == U.isMasterTokenBound() && pa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addPeerServiceToken(U);return this;},excludePeerServiceToken:function(){var U,Y,pa,ra;if(1 == arguments.length){U=arguments[0];Y=U.name;pa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],pa=arguments[1],U=arguments[2]);for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){ra=this._peerServiceTokens[na];ra.name == Y && ra.isMasterTokenBound() == pa && ra.isUserIdTokenBound() == U && this._peerServiceTokens.splice(na,1);}return this;},deletePeerServiceToken:function(){var U,Y,pa,na,ra,Ba;if(2 == arguments.length){U=arguments[0];Y=U.name;pa=U.isMasterTokenBound();na=U.isUserIdTokenBound();ra=arguments[1];}else (arguments.length=4,Y=arguments[0],pa=arguments[1],na=arguments[2],ra=arguments[3]);Ba=this;Ka(ra,function(){Dc(this._ctx,Y,ha,pa?this._peerMasterToken:null,na?this._peerUserIdToken:null,!1,null,new ad(),{result:function(ta){Ka(ra,function(){return this.addPeerServiceToken(ta);},Ba);},error:function(ta){ta instanceof bb && (ta=new vb("Failed to create and add empty peer service token to message.",ta));ra.error(ta);}});},Ba);},getPeerServiceTokens:function(){var U;U=[];U.push.apply(U,this._peerServiceTokens);return U;}});})();(function(){function fa(ba,ha){return ha[ba]?ha[ba]:ha[""];}function Z(ba){var ha;ha=ba.builder.getKeyExchangeData();return ha && !ba.ctx.isPeerToPeer()?ha.keyResponseData.masterToken:ba.builder.getMasterToken();}jf=Bb.Class.create({init:function(ba,ha,da){ba={ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ha.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:da,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},isPrimaryMasterTokenAvailable:function(){return Z(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(ba){try{return (this.builder.addServiceToken(ba),!0);}catch(ha){if(ha instanceof Ib)return !1;throw ha;}},addPeerServiceToken:function(ba){try{return (this.builder.addPeerServiceToken(ba),!0);}catch(ha){if(ha instanceof Ib)return !1;throw ha;}},addUnboundPrimaryServiceToken:function(ba,ha,da,U,Y){var pa;pa=this;Ka(Y,function(){var na;na=fa(ba,this.cryptoContexts);if(!na)return !1;Dc(this.ctx,ba,ha,null,null,da,U,na,{result:function(ra){Ka(Y,function(){try{this.builder.addServiceToken(ra);}catch(Ba){if(Ba instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},pa);},error:function(ra){Y.error(ra);}});},pa);},addUnboundPeerServiceToken:function(ba,ha,da,U,Y){var pa;pa=this;Ka(Y,function(){var na;na=fa(ba,this.cryptoContexts);if(!na)return !1;Dc(this.ctx,ba,ha,null,null,da,U,na,{result:function(ra){Ka(Y,function(){try{this.builder.addPeerServiceToken(ra);}catch(Ba){if(Ba instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},pa);},error:function(ra){Y.error(ra);}});},pa);},addMasterBoundPrimaryServiceToken:function(ba,ha,da,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra;na=Z(this);if(!na)return !1;ra=fa(ba,this.cryptoContexts);if(!ra)return !1;Dc(this.ctx,ba,ha,na,null,da,U,ra,{result:function(Ba){Ka(Y,function(){try{this.builder.addServiceToken(Ba);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ta);throw ta;}return !0;},pa);},error:function(Ba){Y.error(Ba);}});},pa);},addMasterBoundPeerServiceToken:function(ba,ha,da,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra;na=this.builder.getPeerMasterToken();if(!na)return !1;ra=fa(ba,this.cryptoContexts);if(!ra)return !1;Dc(this.ctx,ba,ha,na,null,da,U,ra,{result:function(Ba){Ka(Y,function(){try{this.builder.addPeerServiceToken(Ba);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ta);throw ta;}return !0;},pa);},error:function(Ba){Y.error(Ba);}});},pa);},addUserBoundPrimaryServiceToken:function(ba,ha,da,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra,Ba;na=Z(this);if(!na)return !1;ra=this.builder.getUserIdToken();if(!ra)return !1;Ba=fa(ba,this.cryptoContexts);if(!Ba)return !1;Dc(this.ctx,ba,ha,na,ra,da,U,Ba,{result:function(ta){Ka(Y,function(){try{this.builder.addServiceToken(ta);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(ta){Y.error(ta);}});},pa);},addUserBoundPeerServiceToken:function(ba,ha,da,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra,Ba;na=this.builder.getPeerMasterToken();if(!na)return !1;ra=this.builder.getPeerUserIdToken();if(!ra)return !1;Ba=fa(ba,this.cryptoContexts);if(!Ba)return !1;Dc(this.ctx,ba,ha,na,ra,da,U,Ba,{result:function(ta){Ka(Y,function(){try{this.builder.addPeerServiceToken(ta);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(ta){Y.error(ta);}});},pa);},excludePrimaryServiceToken:function(){var ba,ha,da,U;if(1 == arguments.length){ba=arguments[0];ha=ba.name;da=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],da=arguments[1],U=arguments[2]);for(var Y=this.builder.getServiceTokens(),pa=0;pa < Y.length;++pa){if((ba=Y[pa],ba.name == ha && ba.isMasterTokenBound() == da && ba.isUserIdTokenBound() == U))return (this.builder.excludeServiceToken(ha,da,U),!0);}return !1;},excludePeerServiceToken:function(){var ba,ha,da,U;if(1 == arguments.length){ba=arguments[0];ha=ba.name;da=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],da=arguments[1],U=arguments[2]);for(var Y=this.builder.getPeerServiceTokens(),pa=0;pa < Y.length;++pa){if((ba=Y[pa],ba.name == ha && ba.isMasterTokenBound() == da && ba.isUserIdTokenBound() == U))return (this.builder.excludePeerServiceToken(ha,da,U),!0);}return !1;},deletePrimaryServiceToken:function(){var ba,ha,da,U,Y;if(2 == arguments.length){ba=arguments[0];ha=ba.name;da=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ha=arguments[0],da=arguments[1],U=arguments[2],Y=arguments[3]);Ka(Y,function(){var ra;for(var pa=this.builder.getServiceTokens(),na=0;na < pa.length;++na){ra=pa[na];if(ra.name == ha && ra.isMasterTokenBound() == da && ra.isUserIdTokenBound() == U){this.builder.deleteServiceToken(ha,da,U,{result:function(){Y.result(!0);},error:function(Ba){Y.error(Ba);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var ba,ha,da,U,Y;if(2 == arguments.length){ba=arguments[0];ha=ba.name;da=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ha=arguments[0],da=arguments[1],U=arguments[2],Y=arguments[3]);Ka(Y,function(){var ra;for(var pa=this.builder.getPeerServiceTokens(),na=0;na < pa.length;++na){ra=pa[na];if(ra.name == ha && ra.isMasterTokenBound() == da && ra.isUserIdTokenBound() == U){this.builder.deletePeerServiceToken(ha,da,U,{result:function(){Y.result(!0);},error:function(Ba){Y.error(Ba);}});return;}}return !1;},this);}});})();(function(){function fa(Z,ba,ha,da){Ka(da,function(){var Y,pa,na,ra,Ba,ta;function U(){Ka(da,function(){var oa;if(ta >= ha.length){if(Ba)throw Ba;throw new Qb(V.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ha));}oa=ha[ta];na != oa.keyExchangeScheme?(++ta,U()):ra.getCryptoContext(Z,oa,pa,Y,{result:da.result,error:function(W){Ka(da,function(){if(!(W instanceof bb))throw W;Ba=W;++ta;U();});}});});}Y=ba.masterToken;pa=ba.keyResponseData;if(!pa)return null;na=pa.keyExchangeScheme;ra=Z.getKeyExchangeFactory(na);if(!ra)throw new Qb(V.KEYX_FACTORY_NOT_FOUND,na);ta=0;U();});}kf=ee.extend({init:function(Z,ba,ha,da,U,Y,pa){var na;na=this;cb(pa,function(){var aa;function ra(){na._ready=!0;na._readyQueue.add(!0);}function Ba(ca,ka){var Ga;try{Ga=ka.masterToken;ca.getTokenFactory().isMasterTokenRevoked(ca,Ga,{result:function(Ca){Ca?(na._errored=new Pc(Ca,Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),ra()):ta(ca,ka);},error:function(Ca){Ca instanceof bb && (Ca.setEntity(ka.masterToken),Ca.setUser(ka.userIdToken),Ca.setUser(ka.userAuthenticationData),Ca.setMessageId(ka.messageId));na._errored=Ca;ra();}});}catch(Ca){Ca instanceof bb && (Ca.setEntity(ka.masterToken),Ca.setUser(ka.userIdToken),Ca.setUser(ka.userAuthenticationData),Ca.setMessageId(ka.messageId));na._errored=Ca;ra();}}function ta(ca,ka){var Ga,Ca;try{Ga=ka.masterToken;Ca=ka.userIdToken;Ca?ca.getTokenFactory().isUserIdTokenRevoked(ca,Ga,Ca,{result:function(Oa){Oa?(na._errored=new MslUserIdTokenException(Oa,Ca).setEntity(Ga).setUser(Ca).setMessageId(ka.messageId),ra()):oa(ca,ka);},error:function(Oa){Oa instanceof bb && (Oa.setEntity(ka.masterToken),Oa.setUser(ka.userIdToken),Oa.setUser(ka.userAuthenticationData),Oa.setMessageId(ka.messageId));na._errored=Oa;ra();}}):oa(ca,ka);}catch(Oa){Oa instanceof bb && (Oa.setEntity(ka.masterToken),Oa.setUser(ka.userIdToken),Oa.setUser(ka.userAuthenticationData),Oa.setMessageId(ka.messageId));na._errored=Oa;ra();}}function oa(ca,ka){var Ga;try{Ga=ka.masterToken;Ga.isExpired()?ka.isRenewable() && 0 != ka.keyRequestData.length?ca.getTokenFactory().isMasterTokenRenewable(ca,Ga,{result:function(Ca){Ca?(na._errored=new Ib(Ca,"Master token is expired and not renewable.").setEntity(Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),ra()):W(ca,ka);},error:function(Ca){Ca instanceof bb && (Ca.setEntity(ka.masterToken),Ca.setUser(ka.userIdToken),Ca.setUser(ka.userAuthenticationData),Ca.setMessageId(ka.messageId));na._errored=Ca;ra();}}):(na._errored=new Ib(V.MESSAGE_EXPIRED,JSON.stringify(ka)).setEntity(Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),ra()):W(ca,ka);}catch(Ca){Ca instanceof bb && (Ca.setEntity(ka.masterToken),Ca.setUser(ka.userIdToken),Ca.setUser(ka.userAuthenticationData),Ca.setMessageId(ka.messageId));na._errored=Ca;ra();}}function W(ca,ka){var Ga,Ca;try{Ga=ka.masterToken;Ca=ka.nonReplayableId;"number" === typeof Ca?Ga?ca.getTokenFactory().acceptNonReplayableId(ca,Ga,Ca,{result:function(Oa){Oa || (na._errored=new Ib(V.MESSAGE_REPLAYED,JSON.stringify(ka)).setEntity(Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId));ra();},error:function(Oa){Oa instanceof bb && (Oa.setEntity(Ga),Oa.setUser(ka.userIdToken),Oa.setUser(ka.userAuthenticationData),Oa.setMessageId(ka.messageId));na._errored=Oa;ra();}}):(na._errored=new Ib(V.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(ka)).setEntity(ka.entityAuthenticationData).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),ra()):ra();}catch(Oa){Oa instanceof bb && (Oa.setEntity(ka.masterToken),Oa.setEntity(ka.entityAuthenticationData),Oa.setUser(ka.userIdToken),Oa.setUser(ka.userAuthenticationData),Oa.setMessageId(ka.messageId));na._errored=Oa;ra();}}aa={_source:{value:ba,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ha,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Y,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);Ne(na._source,Y,{result:function(ca){na._json=ca;na._jsonIndex=0;null === na._json?(na._errored=new yb(V.MESSAGE_DATA_MISSING),ra()):Ue(Z,na._json[na._jsonIndex++],U,{result:function(ka){var Ga;na._header=ka;if(na._header instanceof Lc)(na._keyxCryptoContext=null,na._cryptoContext=null,ra());else {Ga=na._header;fa(Z,Ga,da,{result:function(Ca){var Oa;try{na._keyxCryptoContext=Ca;Z.isPeerToPeer() || !na._keyxCryptoContext?na._cryptoContext=Ga.cryptoContext:na._cryptoContext=na._keyxCryptoContext;try{Oa=Ga.masterToken;Oa && (Z.isPeerToPeer() || Oa.isVerified())?Ba(Z,Ga):W(Z,Ga);}catch(Ra){Ra instanceof bb && (Ra.setEntity(Ga.masterToken),Ra.setUser(Ga.userIdToken),Ra.setUser(Ga.userAuthenticationData),Ra.setMessageId(Ga.messageId));na._errored=Ra;ra();}}catch(Ra){Ra instanceof bb && (Ra.setEntity(Ga.masterToken),Ra.setEntity(Ga.entityAuthenticationData),Ra.setUser(Ga.userIdToken),Ra.setUser(Ga.userAuthenticationData),Ra.setMessageId(Ga.messageId));na._errored=Ra;ra();}},error:function(Ca){Ca instanceof bb && (Ca.setEntity(Ga.masterToken),Ca.setEntity(Ga.entityAuthenticationData),Ca.setUser(Ga.userIdToken),Ca.setUser(Ga.userAuthenticationData),Ca.setMessageId(Ga.messageId));na._errored=Ca;ra();}});}},error:function(ka){na._errored=ka;ra();}});},timeout:function(){na._timedout=!0;ra();},error:function(ca){na._errored=ca;ra();}});return this;},na);},nextData:function(Z,ba){var ha;ha=this;cb(ba,function(){var U;function da(Y){cb(Y,function(){var pa;if(this._jsonIndex < this._json.length)return pa=this._json[this._jsonIndex++];Ne(this._source,this._timeout,{result:function(na){na && na.length && 0 < na.length?(na.forEach(function(ra){this._json.push(ra);}),da(Y)):(this._eom=!0,Y.result(null));},timeout:function(){Y.timeout();},error:function(na){Y.error(na);}});},ha);}U=this.getMessageHeader();if(!U)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;da({result:function(Y){cb(ba,function(){if(!Y)return null;if("object" !== typeof Y)throw new yb(V.MESSAGE_FORMAT_ERROR);ff(Y,this._cryptoContext,{result:function(pa){cb(ba,function(){var na,ra,Ba,ta;na=U.masterToken;ra=U.entityAuthenticationData;Ba=U.userIdToken;ta=U.getUserAuthenticationData;if(pa.messageId != U.messageId)throw new Ib(V.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + pa.messageId + " header mid " + U.messageId).setEntity(na).setEntity(ra).setUser(Ba).setUser(ta);if(pa.sequenceNumber != this._payloadSequenceNumber)throw new Ib(V.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + pa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(na).setEntity(ra).setUser(Ba).setUser(ta);++this._payloadSequenceNumber;pa.isEndOfMessage() && (this._eom=!0);na=pa.data;this._payloads.push(na);this._payloadIndex=-1;return na;},ha);},error:function(pa){pa instanceof SyntaxError && (pa=new yb(V.JSON_PARSE_ERROR,"payloadchunk",pa));ba.error(pa);}});},ha);},timeout:function(){ba.timeout();},error:function(Y){ba.error(Y);}});},ha);},isReady:function(Z,ba){var da;function ha(){cb(ba,function(){if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;return !0;}},da);}da=this;cb(ba,function(){this._ready?ha():this._readyQueue.poll(Z,{result:function(U){cb(ba,function(){if(U === Ab)return !1;ha();},da);},timeout:function(){ba.timeout();},error:function(U){ba.error(U);}});},da);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorHeader:function(){return this._header instanceof Lc?this._header:null;},getIdentity:function(){var Z,ba;Z=this.getMessageHeader();if(Z){ba=Z.masterToken;return ba?ba.identity:Z.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var Z;Z=this.getMessageHeader();return Z?Z.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(Z){this._closeSource=Z;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(Z,ba,ha){var U;function da(){cb(ha,function(){var pa,na,ra,Ba;function Y(ta){cb(ta,function(){var oa,W,aa;if(na && Ba >= na.length)return na.subarray(0,Ba);oa=-1;if(this._currentPayload){W=this._currentPayload.length - this._payloadOffset;if(!na){aa=W;if(-1 != this._payloadIndex)for(var ca=this._payloadIndex;ca < this._payloads.length;++ca){aa+=this._payloads[ca].length;}0 < aa && (na=new Uint8Array(aa));}W=Math.min(W,na?na.length - Ba:0);0 < W && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + W),na.set(oa,ra),oa=W,ra+=W,this._payloadOffset+=W);}-1 != oa?(Ba+=oa,Y(ta)):this.nextData(ba,{result:function(ka){cb(ta,function(){if(this._aborted)return na?na.subarray(0,Ba):new Uint8Array(0);this._currentPayload=ka;this._payloadOffset=0;if(this._currentPayload)Y(ta);else return 0 == Ba && 0 != Z?null:na?na.subarray(0,Ba):new Uint8Array(0);},U);},timeout:function(){ta.timeout(na?na.subarray(0,Ba):new Uint8Array(0));},error:function(ka){cb(ta,function(){ka instanceof bb && (ka=new Wb("Error reading the payload chunk.",ka));if(0 < Ba)return (U._readException=ka,na.subarray(0,Ba));throw ka;},U);}});},U);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ha.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){pa=this._readException;this._readException=null;throw pa;}na=-1 != Z?new Uint8Array(Z):Ab;ra=0;Ba=0;Y(ha);}},U);}U=this;cb(ha,function(){if(-1 > Z)throw new RangeError("read requested with illegal length " + Z);this._ready?da():this._readyQueue.poll(ba,{result:function(Y){Y === Ab?ha.result(!1):da();},timeout:function(){ha.timeout(new Uint8Array(0));},error:function(Y){ha.error(Y);}});},U);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});lf=function(Z,ba,ha,da,U,Y,pa){new kf(Z,ba,ha,da,U,Y,pa);};})();(function(){mf=Cd.extend({init:function(fa,Z,ba,ha,da,U,Y){var pa;pa=this;cb(Y,function(){var ra,Ba,ta;function na(){pa._ready=!0;pa._readyQueue.add(!0);}ra=ke(fa.getMessageCapabilities(),ha.messageCapabilities);Ba=null;ra && (Ba=Ce(ra.compressionAlgorithms));ra={_destination:{value:Z,writable:!1,enumerable:!1,configurable:!1},_charset:{value:ba,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ra,writable:!1,enumerable:!1,configurable:!1},_header:{value:ha,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:da,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ra);ta=Sb(JSON.stringify(ha),ba);Z.write(ta,0,ta.length,U,{result:function(oa){try{pa._aborted?na():oa < ta.length?(pa._timedout=!0,na()):Z.flush(U,{result:function(W){pa._aborted || (pa._timedout=!W);na();},timeout:function(){pa._timedout=!0;na();},error:function(W){pa._errored=W;na();}});}catch(W){pa._errored=W;na();}},timeout:function(){pa._timedout=!0;na();},error:function(oa){pa._errored=oa;na();}});return this;},pa);},setCompressionAlgorithm:function(fa,Z,ba){var da;function ha(){da.flush(Z,{result:function(U){cb(ba,function(){if(!U)throw new Wb("flush() aborted");this._compressionAlgo=fa;return !0;},da);},timeout:function(){ba.timeout();},error:function(U){ba.error(U);}});}da=this;cb(ba,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == fa)return !0;if(fa){if(!this._capabilities)return !1;for(var U=this._capabilities.compressionAlgorithms,Y=0;Y < U.length;++Y){if(U[Y] == fa){ha();return;}}return !1;}ha();},da);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorMessage:function(){return this._header instanceof Lc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(fa,Z){var ba;ba=this;cb(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(fa,{result:function(ha){cb(Z,function(){ha && (this._currentPayload=null);return ha;},ba);},timeout:function(){Z.timeout();},error:function(ha){Z.error(ha);}});}},ba);},flush:function(fa,Z){var ha;function ba(){cb(Z,function(){var da,U,ra;if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;da=this.getMessageHeader();if(!da)return !0;U=0;this._currentPayload && this._currentPayload.forEach(function(Ba){U+=Ba.length;});for(var Y=new Uint8Array(U),pa=0,na=0;this._currentPayload && na < this._currentPayload.length;++na){ra=this._currentPayload[na];Y.set(ra,pa);pa+=ra.length;}ef(this._payloadSequenceNumber,da.messageId,this._closed,this._compressionAlgo,Y,this._cryptoContext,{result:function(Ba){cb(Z,function(){var ta;this._payloads.push(Ba);ta=Sb(JSON.stringify(Ba),this._charset);this._destination.write(ta,0,ta.length,fa,{result:function(oa){cb(Z,function(){if(this._aborted)return !1;oa < Ba.length?Z.timeout():this._destination.flush(fa,{result:function(W){cb(Z,function(){if(this._aborted)return !1;if(W)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);Z.timeout();},ha);},timeout:function(){Z.timeout();},error:function(W){W instanceof bb && (W=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",W));Z.error(W);}});},ha);},timeout:function(oa){Z.timeout();},error:function(oa){oa instanceof bb && (oa=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",oa));Z.error(oa);}});},ha);},error:function(Ba){Ba instanceof bb && (Ba=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",Ba));Z.error(Ba);}});}},ha);}ha=this;cb(Z,function(){this._ready?ba():this._readyQueue.poll(fa,{result:function(da){da === Ab?Z.result(!1):ba();},timeout:function(){Z.timeout();},error:function(da){Z.error(da);}});},ha);},write:function(fa,Z,ba,ha,da){cb(da,function(){var U;if(this._aborted)return !1;if(this._timedout)da.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Wb("Message output stream already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");U=fa.subarray(Z,Z + ba);this._currentPayload.push(U);return U.length;}},this);}});Id=function(fa,Z,ba,ha,da,U,Y){new mf(fa,Z,ba,ha,da,U,Y);};})();Sf=Bb.Class.create({sentHeader:function(fa){},receivedHeader:function(fa){}});Object.freeze({USERDATA_REAUTH:Ja.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ja.SSOTOKEN_REJECTED});nf=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(fa,Z,ba,ha){},getCustomer:function(){},getKeyRequestData:function(fa){},updateServiceTokens:function(fa,Z,ba){},write:function(fa,Z,ba){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(fa){},getOutputStream:function(fa){}});(function(){var pa,na,ra,Ba,ta,oa,W,aa,ca,ka,Ga,Ca;function fa(Oa){return function(){Oa.abort();};}function Z(Oa,Ra){Object.defineProperties(this,{masterToken:{value:Oa,writable:!1,configurable:!1},ticket:{value:Ra,writable:!1,configurable:!1}});}function ba(Oa,Ra){Object.defineProperties(this,{builder:{value:Oa,writable:!1,configurable:!1},msgCtx:{value:Ra,writable:!1,configurable:!1}});}function ha(Oa,Ra,ia){Object.defineProperties(this,{requestHeader:{value:Oa,writable:!1,configurable:!1},payloads:{value:Ra,writable:!1,configurable:!1},handshake:{value:ia,writable:!1,configurable:!1}});}function da(Oa,Ra){Object.defineProperties(this,{requestHeader:{value:Ra.requestHeader,writable:!1,configurable:!1},payloads:{value:Ra.payloads,writable:!1,configurable:!1},handshake:{value:Ra.handshake,writable:!1,configurable:!1},response:{value:Oa,writable:!1,configurable:!1}});}function U(Oa){for(;Oa;){if(Oa instanceof $b)return !0;Oa=Oa instanceof bb?Oa.cause:Ab;}return !1;}function Y(Oa,Ra,ia,va,xa,Ha,Aa,Na,Da){hf(Ra,va,xa,Ha,{result:function(Ua){ia && ia.sentHeader(Ua);Id(Ra,Aa,Lb,Ua,null,null,Na,{result:function($a){Oa.setAbort(function(){$a.abort();});$a.close(Na,{result:function(Va){cb(Da,function(){if(!Va)throw new $b("sendError aborted.");return Va;});},timeout:function(){Da.timeout();},error:function(Va){Da.error(Va);}});},timeout:function(){},error:function($a){Da.error($a);}});},error:function(Ua){Da.error(Ua);}});}pa=Cd.extend({close:function(Oa,Ra){Ra.result(!0);},write:function(Oa,Ra,ia,va,xa){Ka(xa,function(){return Math.min(Oa.length - Ra,ia);});},flush:function(Oa,Ra){Ra.result(!0);}});na=Rf.extend({getUserMessage:function(Oa,Ra){return null;}});ra=nf.extend({init:function(Oa){Object.defineProperties(this,{_appCtx:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Oa,Ra,ia,va){this._appCtx.getUserAuthData(Oa,Ra,ia,va);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Oa){this._appCtx.getKeyRequestData(Oa);},updateServiceTokens:function(Oa,Ra,ia){this._appCtx.updateServiceTokens(Oa,Ra,ia);},write:function(Oa,Ra,ia){this._appCtx.write(Oa,Ra,ia);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ba=ra.extend({init:function va(Ra,ia){va.base.call(this,ia);Object.defineProperties(this,{_payloads:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ra,ia,va){var Ha;function xa(Aa,Na){var Da;if(Aa == Ha._payloads.length)va.result(!0);else {Da=Ha._payloads[Aa];Ra.setCompressionAlgorithm(Da.compressionAlgo,ia,{result:function(Ua){Ra.write(Da.data,0,Da.data.length,ia,{result:function($a){cb(va,function(){Da.isEndOfMessage()?xa(Aa + 1,Na):Ra.flush(ia,{result:function(Va){va.result(Va);},timeout:function(){va.timeout();},error:function(Va){va.error(Va);}});},Ha);},timeout:function($a){va.timeout($a);},error:function($a){va.error($a);}});},timeout:function(){},error:function(Ua){va.error(Ua);}});}}Ha=this;xa(0);}});ta=ra.extend({init:function va(ia){va.base.call(this,ia);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ia,va,xa){xa.result(!0);}});oa={};W=Bb.Class.create({init:function(ia){ia || (ia=new na());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ia,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ia){this._filterFactory=ia;},getNewestMasterToken:function(ia,va,xa,Ha){var Aa;Aa=this;cb(Ha,function(){var Na,Da,Ua,$a,Va;Na=va.getMslStore();Da=Na.getMasterToken();if(!Da)return null;Ua=Da.uniqueKey();$a=this._masterTokenLocks[Ua];$a || ($a=new Ud(),this._masterTokenLocks[Ua]=$a);Va=$a.readLock(xa,{result:function(ib){cb(Ha,function(){var mb;if(ib === Ab)throw new $b("getNewestMasterToken aborted.");mb=Na.getMasterToken();if(Da.equals(mb))return new Z(Da,ib);$a.unlock(ib);$a.writeLock(xa,{result:function(ob){cb(Ha,function(){if(ob === Ab)throw new $b("getNewestMasterToken aborted.");delete this._masterTokenLocks[Ua];$a.unlock(ob);return this.getNewestMasterToken(ia,va,xa,Ha);},Aa);},timeout:function(){Ha.timeout();},error:function(ob){Ha.error(ob);}});},Aa);},timeout:function(){Ha.timeout();},error:function(ib){Ha.error(ib);}});ia.setAbort(function(){Va && ($a.cancel(Va),Va=Ab);});},Aa);},deleteMasterToken:function(ia,va){var xa;if(va){xa=this;setTimeout(function(){var Ha,Aa;Ha=va.uniqueKey();Aa=xa._masterTokenLocks[Ha];Aa || (Aa=new Ud(),xa._masterTokenLocks[Ha]=Aa);Aa.writeLock(-1,{result:function(Na){ia.getMslStore().removeCryptoContext(va);delete xa._masterTokenLocks[Ha];Aa.unlock(Na);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Na){throw Na;}});},0);}},releaseMasterToken:function(ia){var va;if(ia && ia.masterToken){va=ia.masterToken.uniqueKey();va=this._masterTokenLocks[va];if(!va)throw new vb("Master token read/write lock does not exist when it should.");va.unlock(ia.ticket);}},updateOutgoingCryptoContexts:function(ia,va,xa){var Ha;Ha=ia.getMslStore();!ia.isPeerToPeer() && xa && (Ha.setCryptoContext(xa.keyResponseData.masterToken,xa.cryptoContext),this.deleteMasterToken(ia,va.masterToken));},updateIncomingCryptoContexts:function(ia,va,xa){var Ha,Aa;Ha=xa.getMessageHeader();if(Ha){Aa=ia.getMslStore();if(Ha=Ha.keyResponseData)(Aa.setCryptoContext(Ha.masterToken,xa.getKeyExchangeCryptoContext()),this.deleteMasterToken(ia,va.masterToken));}},storeServiceTokens:function(ia,va,xa,Ha){var Da,Ua;ia=ia.getMslStore();for(var Aa=[],Na=0;Na < Ha.length;++Na){Da=Ha[Na];if(!Da.isBoundTo(va) || !va.isVerified()){Ua=Da.data;Ua && 0 == Ua.length?ia.removeServiceTokens(Da.name,Da.isMasterTokenBound()?va:null,Da.isUserIdTokenBound()?xa:null):Aa.push(Da);}}0 < Aa.length && ia.addServiceTokens(Aa);},buildRequest:function(ia,va,xa,Ha,Aa){var Na;Na=this;this.getNewestMasterToken(ia,va,Ha,{result:function(Da){Ka(Aa,function(){var Ua,$a,Va;Ua=Da && Da.masterToken;if(Ua){$a=xa.getUserId();Va=va.getMslStore();$a=($a=$a?Va.getUserIdToken($a):null) && $a.isBoundTo(Ua)?$a:null;}else $a=null;Uc(va,Ua,$a,null,{result:function(ib){Ka(Aa,function(){ib.setNonReplayable(xa.isNonReplayable());return {builder:ib,tokenTicket:Da};});},error:function(ib){Ka(Aa,function(){this.releaseMasterToken(Da);ib instanceof bb && (ib=new vb("User ID token not bound to master token despite internal check.",ib));throw ib;},Na);}});},Na);},timeout:function(){Aa.timeout();},error:function(Da){Aa.error(Da);}});},buildResponse:function(ia,va,xa,Ha,Aa,Na){var Da;Da=this;gf(va,Ha,{result:function(Ua){cb(Na,function(){Ua.setNonReplayable(xa.isNonReplayable());if(!va.isPeerToPeer() && !Ha.keyResponseData)return {builder:Ua,tokenTicket:null};this.getNewestMasterToken(ia,va,Aa,{result:function($a){cb(Na,function(){var Va,ib,mb;Va=$a && $a.masterToken;if(Va){ib=xa.getUserId();mb=va.getMslStore();ib=(ib=ib?mb.getUserIdToken(ib):null) && ib.isBoundTo(Va)?ib:null;}else ib=null;Ua.setAuthTokens(Va,ib);return {builder:Ua,tokenTicket:$a};},Da);},timeout:function(){Na.timeout();},error:function($a){Na.error($a);}});},Da);},error:function(Ua){Na.error(Ua);}});},buildErrorResponse:function(ia,va,xa,Ha,Aa,Na,Da){var Va;function Ua(ib,mb){cb(Da,function(){var ob,rb;ob=Tc(Aa.messageId);rb=new Ba(mb,xa);Uc(va,null,null,ob,{result:function(sb){cb(Da,function(){va.isPeerToPeer() && sb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Va);},error:function(sb){Da.error(sb);}});},Va);}function $a(ib,mb){Va.getNewestMasterToken(ia,va,Na,{result:function(ob){cb(Da,function(){var rb,sb,zb;rb=ob && ob.masterToken;sb=Tc(Aa.messageId);zb=new Ba(mb,xa);Uc(va,rb,null,sb,{result:function(xb){cb(Da,function(){va.isPeerToPeer() && xb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);xb.setNonReplayable(zb.isNonReplayable());return {errorResult:new ba(xb,zb),tokenTicket:ob};},Va);},error:function(xb){Da.error(xb);}});},Va);},timeout:function(){Da.timeout();},error:function(ob){Da.error(ob);}});}Va=this;cb(Da,function(){var ib,mb,ob,rb;ib=Ha.requestHeader;mb=Ha.payloads;ob=Aa.errorCode;switch(ob){case Ja.ENTITYDATA_REAUTH:case Ja.ENTITY_REAUTH:va.getEntityAuthenticationData(ob,{result:function(sb){cb(Da,function(){if(!sb)return null;Ua(ib,mb);},Va);},error:function(sb){Da.error(sb);}});break;case Ja.USERDATA_REAUTH:case Ja.SSOTOKEN_REJECTED:xa.getUserAuthData(ob,!1,!0,{result:function(sb){cb(Da,function(){if(!sb)return null;$a(ib,mb);},Va);},error:function(sb){Da.error(sb);}});break;case Ja.USER_REAUTH:$a(ib,mb);break;case Ja.KEYX_REQUIRED:ob=Tc(Aa.messageId);rb=new Ba(mb,xa);Uc(va,null,null,ob,{result:function(sb){cb(Da,function(){va.isPeerToPeer() && sb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Va);},error:function(sb){Da.error(sb);}});break;case Ja.EXPIRED:this.getNewestMasterToken(ia,va,Na,{result:function(sb){cb(Da,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=ib.userIdToken;r=Tc(Aa.messageId);b=new Ba(mb,xa);Uc(va,zb,xb,r,{result:function(a){cb(Da,function(){va.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Va);},error:function(a){Da.error(a);}},Va);},Va);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});break;case Ja.REPLAYED:this.getNewestMasterToken(ia,va,Na,{result:function(sb){cb(Da,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=ib.userIdToken;r=Tc(Aa.messageId);b=new Ba(mb,xa);Uc(va,zb,xb,r,{result:function(a){cb(Da,function(){va.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Va);},error:function(a){Da.error(a);}});},Va);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});break;default:return null;}},Va);},cleanupContext:function(ia,va,xa){switch(xa.errorCode){case Ja.ENTITY_REAUTH:this.deleteMasterToken(ia,va.masterToken);break;case Ja.USER_REAUTH:(xa=va.userIdToken,va.masterToken && xa && ia.getMslStore().removeUserIdToken(xa));}},send:function(ia,va,xa,Ha,Aa,Na,Da){var ob;function Ua(rb,sb,zb){cb(Da,function(){var xb;xb=Aa.getPeerUserIdToken();!va.isPeerToPeer() && !sb || va.isPeerToPeer() && !xb?(xb=xa.getCustomer())?Aa.setCustomer(xb,{result:function(r){cb(Da,function(){sb=Aa.getUserIdToken();$a(rb,sb,zb);},ob);},error:function(r){Da.error(r);}}):$a(rb,sb,zb):$a(rb,sb,zb);},ob);}function $a(rb,sb,zb){cb(Da,function(){var xb,r;xb=!zb && (!xa.isEncrypted() || Aa.willEncryptPayloads()) && (!xa.isIntegrityProtected() || Aa.willIntegrityProtectPayloads()) && (!xa.isNonReplayable() || Aa.isNonReplayable() && rb);xb || Aa.setNonReplayable(!1);r=[];Aa.isRenewable() && (!rb || rb.isRenewable() || xa.isNonReplayable())?xa.getKeyRequestData({result:function(b){cb(Da,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Aa.addKeyRequestData(c);}Va(rb,sb,xb,r);},ob);},error:function(b){Da.error(b);}}):Va(rb,sb,xb,r);},ob);}function Va(rb,sb,zb,xb){cb(Da,function(){var r;r=new jf(va,xa,Aa);xa.updateServiceTokens(r,!zb,{result:function(b){Aa.getHeader({result:function(a){cb(Da,function(){var c,f;c=xa.getDebugContext();c && c.sentHeader(a);c=Aa.getKeyExchangeData();this.updateOutgoingCryptoContexts(va,a,c);this.storeServiceTokens(va,rb,sb,a.serviceTokens);c=!va.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ia.isAborted())throw new $b("send aborted.");f=null != this._filterFactory?this._filterFactory.getOutputStream(Ha):Ha;Id(va,f,Lb,a,c,Na,{result:function(l){ia.setAbort(function(){l.abort();});ib(l,a,zb);},timeout:function(){Da.timeout();},error:function(l){Da.error(l);}});},ob);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});},error:function(b){Da.error(b);}});},ob);}function ib(rb,sb,zb){var xb,r;if(zb)xa.write(rb,Na,{result:function(b){cb(Da,function(){if(ia.isAborted())throw new $b("MessageOutputStream write aborted.");mb(rb,sb,zb);},ob);},timeout:function(){Da.timeout();},error:function(b){Da.error(b);}});else {xb=new pa();r=new ad();Id(va,xb,Lb,sb,r,Na,{result:function(b){xa.write(b,Na,{result:function(a){cb(Da,function(){if(ia.isAborted())throw new $b("MessageOutputStream proxy write aborted.");b.close(Na,{result:function(c){cb(Da,function(){var f;if(!c)throw new $b("MessageOutputStream proxy close aborted.");f=b.getPayloads();mb(rb,sb,zb,f);},ob);},timeout:function(){Da.timeout();},error:function(c){Da.error(c);}});},ob);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});},timeout:function(){Da.timeout();},error:function(b){Da.error(b);}});}}function mb(rb,sb,zb,xb){rb.close(Na,{result:function(r){cb(Da,function(){if(!r)throw new $b("MessageOutputStream close aborted.");xb || (xb=rb.getPayloads());return new ha(sb,xb,!zb);},ob);},timeout:function(){Da.timeout();},error:function(r){Da.error(r);}});}ob=this;cb(Da,function(){var rb,sb,zb,xb;rb=Aa.getMasterToken();sb=Aa.getUserIdToken();zb=!1;if(xa.getUserId()){xb=!sb;xa.getUserAuthData(null,Aa.isRenewable(),xb,{result:function(r){cb(Da,function(){r && (Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()?Aa.setUserAuthenticationData(r):zb=!0);Ua(rb,sb,zb);},ob);},error:function(r){Da.error(r);}});}else Ua(rb,sb,zb);},ob);},receive:function(ia,va,xa,Ha,Aa,Na,Da){var Ua;Ua=this;cb(Da,function(){var $a,Va,ib;if(ia.isAborted())throw new $b("receive aborted.");$a=[];Aa && ($a=Aa.keyRequestData.filter(function(){return !0;}));Va=xa.getCryptoContexts();ib=this._filterFactory?this._filterFactory.getInputStream(Ha):Ha;lf(va,ib,Lb,$a,Va,Na,{result:function(mb){ia.setAbort(function(){mb.abort();});mb.isReady(Na,{result:function(ob){cb(Da,function(){var rb,sb,zb,xb;if(!ob)throw new $b("MessageInputStream aborted.");rb=mb.getMessageHeader();sb=mb.getErrorHeader();zb=xa.getDebugContext();zb && zb.receivedHeader(rb?rb:sb);if(Aa && (zb=sb?sb.errorCode:null,rb || zb != Ja.FAIL && zb != Ja.TRANSIENT_FAILURE && zb != Ja.ENTITY_REAUTH && zb != Ja.ENTITYDATA_REAUTH)){zb=rb?rb.messageId:sb.messageId;xb=Tc(Aa.messageId);if(zb != xb)throw new Ib(V.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + zb);}va.getEntityAuthenticationData(null,{result:function(r){cb(Da,function(){var b,a,c,f;b=r.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);Aa && this.updateIncomingCryptoContexts(va,Aa,mb);b=rb.keyResponseData;va.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);f=xa.getUserId();f && c && !c.isVerified() && va.getMslStore().addUserIdToken(f,c);this.storeServiceTokens(va,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);return mb;},Ua);},error:Da.error});},Ua);},timeout:function(){Da.timeout();},error:function(ob){Da.error(ob);}});},timeout:function(){Da.timeout();},error:function(mb){Da.error(mb);}});},Ua);},sendReceive:function(ia,va,xa,Ha,Aa,Na,Da,Ua,$a){var ib;function Va(mb,ob){cb($a,function(){Na.setRenewable(ob);this.send(ia,va,xa,Aa,Na,Da,{result:function(rb){cb($a,function(){var sb;sb=rb.requestHeader.keyRequestData;Ua || rb.handshake || !sb.isEmpty()?this.receive(ia,va,xa,Ha,rb.requestHeader,Da,{result:function(zb){cb($a,function(){ob && this.releaseRenewalLock(va,mb,zb);return new da(zb,rb);},ib);},timeout:function(){cb($a,function(){ob && this.releaseRenewalLock(va,mb,null);$a.timeout();},ib);},error:function(zb){cb($a,function(){ob && this.releaseRenewalLock(va,mb,null);throw zb;},ib);}}):cb($a,function(){ob && this.releaseRenewalLock(va,mb,null);return new da(null,rb);},ib);},ib);},timeout:function(){cb($a,function(){ob && this.releaseRenewalLock(va,mb,null);$a.timeout();},ib);},error:function(rb){cb($a,function(){ob && this.releaseRenewalLock(va,mb,null);throw rb;},ib);}});},ib);}ib=this;cb($a,function(){var mb;mb=new hd();this.acquireRenewalLock(ia,va,xa,mb,Na,Da,{result:function(ob){Va(mb,ob);},timeout:function(){$a.timeout();},error:function(ob){ob instanceof $b?$a.result(null):$a.error(ob);}});},ib);},acquireRenewalLock:function(ia,va,xa,Ha,Aa,Na,Da){var Va;function Ua(ib,mb,ob){cb(Da,function(){var zb,xb;if(ia.isAborted())throw new $b("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){zb=this._renewingContexts[sb];if(zb.ctx === va){rb=zb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:va,queue:Ha}),!0);xb=rb.poll(Na,{result:function(r){cb(Da,function(){var b;if(r === Ab)throw new $b("acquireRenewalLock aborted.");rb.add(r);if(r === oa || r.isExpired())Ua(r,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(r)){b=va.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(r)?b:null;}Aa.setAuthTokens(r,mb);Aa.isRenewable() && r.equals(ib)?Ua(r,mb,ob):xa.isRequestingTokens() && !mb?Ua(r,mb,ob):$a(r,mb);}},Va);},timeout:function(){},error:function(r){}});ia.setAbort(function(){xb && (rb.cancel(xb),xb=Ab);});},Va);}function $a(ib,mb){cb(Da,function(){var sb;if(ia.isAborted())throw new $b("acquireRenewalLock aborted.");if(!ib || ib.isRenewable() || !mb && xa.getUserId() || mb && mb.isRenewable()){for(var ob=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === va){ob=sb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:va,queue:Ha}),!0);}return !1;},Va);}Va=this;cb(Da,function(){var ib,mb,ob;ib=Aa.getMasterToken();mb=Aa.getUserIdToken();ob=xa.getUserId();xa.isEncrypted() && !Aa.willEncryptPayloads() || xa.isIntegrityProtected() && !Aa.willIntegrityProtectPayloads() || Aa.isRenewable() || !ib && xa.isNonReplayable() || ib && ib.isExpired() || !(mb || !ob || Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()) || xa.isRequestingTokens() && (!ib || ob && !mb)?Ua(ib,mb,ob):$a(ib,mb);},Va);},releaseRenewalLock:function(ia,va,xa){var Da;for(var Ha,Aa,Na=0;Na < this._renewingContexts.length;++Na){Da=this._renewingContexts[Na];if(Da.ctx === ia){Ha=Na;Aa=Da.queue;break;}}if(Aa !== va)throw new vb("Attempt to release renewal lock that is not owned by this queue.");xa?(xa=xa.messageHeader)?(Aa=xa.keyResponseData)?va.add(Aa.masterToken):(ia=ia.isPeerToPeer()?xa.peerMasterToken:xa.masterToken)?va.add(ia):va.add(oa):va.add(oa):va.add(oa);this._renewingContexts.splice(Ha,1);}});of=Bb.Class.create({init:function(){var ia;ia={_impl:{value:new W(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},setFilterFactory:function(ia){this._impl.setFilterFactory(ia);},shutdown:function(){this._shutdown=!0;},receive:function(ia,va,xa,Ha,Aa,Na){var Da;if(this._shutdown)throw new bb("MslControl is shutdown.");Da=new aa(this._impl,ia,va,xa,Ha,Aa);setTimeout(function(){Da.call(Na);},0);return fa(Da);},respond:function(ia,va,xa,Ha,Aa,Na,Da){var Ua;if(this._shutdown)throw new bb("MslControl is shutdown.");Ua=new ca(this._impl,ia,va,xa,Ha,Aa,Na);setTimeout(function(){Ua.call(Da);},0);return fa(Ua);},error:function xa(ia,va,xa,Ha,Aa,Na,Da){var Ua;if(this._shutdown)throw new bb("MslControl is shutdown.");Ua=new ka(this._impl,ia,va,xa,Ha,Aa,Na);setTimeout(function(){Ua.call(Da);},0);return fa(Ua);},request:function(ia,va){var xa,Ha,Aa,Na,Da,Ua;if(this._shutdown)throw new bb("MslControl is shutdown.");if(5 == arguments.length){Ha=arguments[2];Aa=xa=null;Na=arguments[3];Da=arguments[4];if(ia.isPeerToPeer()){Da.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ha=null,xa=arguments[2],Aa=arguments[3],Na=arguments[4],Da=arguments[5],!ia.isPeerToPeer())){Da.error(new vb("This method cannot be used in trusted network mode."));return;}Ua=new Ca(this._impl,ia,va,Ha,xa,Aa,null,0,Na);setTimeout(function(){Ua.call(Da);},0);return fa(Ua);}});aa=Bb.Class.create({init:function(ia,va,xa,Ha,Aa,Na){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Na,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},call:function(ia){var Aa;function va(Na){cb(ia,function(){var Da;Da=Na.messageHeader;if(!Da)return Na;this.setAbort(function(){Na.abort();});Na.mark(Number.MAX_VALUE);Na.read(1,Aa._timeout,{result:function(Ua){cb(ia,function(){if(Ua && 0 == Ua.length)return null;if(Ua)return (Na.reset(),Na);xa(Na);},Aa);},timeout:function(){ia.timeout();},error:function(Ua){cb(ia,function(){var $a,Va,ib;if(U(Ua))return null;$a=Da?Da.messageId:null;if(Ua instanceof Wb){Va=V.MSL_COMMS_FAILURE;ib=Ua;}else (Va=V.INTERNAL_EXCEPTION,ib=new vb("Error peeking into the message payloads."));Y(this,this._ctx,this._msgCtx.getDebugContext(),$a,Va,null,this._output,this._timeout,{result:function(mb){ia.error(ib);},timeout:function(){ia.timeout();},error:function(mb){cb(ia,function(){if(U(mb))return null;throw new ic("Error peeking into the message payloads.",mb,Ua);},Aa);}});},Aa);}});},Aa);}function xa(Na){cb(ia,function(){Na.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Na.messageHeader,this._timeout,{result:function(Da){cb(ia,function(){var Ua,$a,Va,ib,mb;Ua=Da.builder;$a=Da.tokenTicket;Va=Na.messageHeader;ib=new ta(this._msgCtx);if(!this._ctx.isPeerToPeer() || Va.isEncrypting() || Va.keyResponseData)Ha(Va,Ua,ib,$a);else {mb=new Ca(this._ctrl,this._ctx,ib,null,this._input,this._output,Da,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(ia);}},Aa);},timeout:function(){ia.timeout();},error:function(Da){cb(ia,function(){var Ua,$a,Va,ib;if(U(Da))return null;if(Da instanceof bb){Ua=Da.messageId;$a=Da.error;Va=Na.messageHeader.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage($a,Va?Va.languages:null);ib=Da;}else (Ua=requestHeader?requestHeader.messageId:null,$a=V.INTERNAL_EXCEPTION,Va=null,ib=new vb("Error creating an automatic handshake response.",Da));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ua,$a,Va,this._output,this._timeout,{result:function(mb){ia.error(ib);},timeout:function(){ia.timeout();},error:function(mb){cb(ia,function(){if(U(mb))return null;throw new ic("Error creating an automatic handshake response.",mb,Da);},Aa);}});},Aa);}});},Aa);}function Ha(Na,Da,Ua,$a){cb(ia,function(){Da.setRenewable(!1);this._ctrl.send(this._ctx,Ua,this._output,Da,this._timeout,{result:function(Va){cb(ia,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);return null;},Aa);},timeout:function(){cb(ia,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);ia.timeout();},Aa);},error:function(Va){cb(ia,function(){var ib,mb,ob,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);if(U(Va))return null;if(Va instanceof bb){ib=Va.messageId;mb=Va.error;ob=Na?Na.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);rb=Va;}else Va instanceof Wb?(ib=Na?Na.messageId:null,mb=V.MSL_COMMS_FAILURE,ob=null,rb=Va):(ib=Na?Na.messageId:null,mb=V.INTERNAL_EXCEPTION,ob=null,rb=new vb("Error sending an automatic handshake response.",Va));Y(this,this._ctx,this._msgCtx.getDebugContext(),ib,mb,ob,this._output,this._timeout,{result:function(sb){ia.error(rb);},timeout:function(){ia.timeout();},error:function(sb){cb(ia,function(){if(U(sb))return null;throw new ic("Error sending an automatic handshake response.",sb,Va);},Aa);}});},Aa);}});},Aa);}Aa=this;cb(ia,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Na){va(Na);},timeout:function(){ia.timeout();},error:function(Na){cb(ia,function(){var Da,Ua,$a,Va;if(U(Na))return null;if(Na instanceof bb){Da=Na.messageId;Ua=Na.error;$a=this._ctrl.messageRegistry.getUserMessage(Ua,null);Va=Na;}else (Da=null,Ua=V.INTERNAL_EXCEPTION,$a=null,Va=new vb("Error receiving the message header.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Ua,$a,this._output,this._timeout,{result:function(ib){ia.error(Va);},timeout:function(){ia.timeout();},error:function(ib){cb(ia,function(){if(U(ib))return null;throw new ic("Error receiving the message header.",ib,Na);},Aa);}});},Aa);}});},Aa);}});ca=Bb.Class.create({init:function(ia,va,xa,Ha,Aa,Na,Da){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_request:{value:Na,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Da,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},trustedNetworkExecute:function(ia,va,xa){var Ha;Ha=this;cb(xa,function(){var Aa,Na;if(12 < va + 1)return !1;if(Aa=this._msgCtx.isIntegrityProtected() && !ia.willIntegrityProtectHeader()?V.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ia.willEncryptPayloads()?V.RESPONSE_REQUIRES_ENCRYPTION:null){Na=bd(ia.getMessageId());Y(this,this._ctx,this._msgCtx.getDebugContext(),Na,Aa,null,this._output,this._timeout,{result:function(Da){xa.result(!1);},timeout:function(){xa.timeout();},error:function(Da){cb(xa,function(){if(U(Da))return !1;throw new ic("Response requires encryption or integrity protection but cannot be protected: " + Aa,Da,null);},Ha);}});}else !this._msgCtx.getCustomer() || ia.getMasterToken() || ia.getKeyExchangeData()?(ia.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ia,this._timeout,{result:function(Da){xa.result(!0);},timeout:function(){xa.timeout();},error:function(Da){xa.error(Da);}})):(Na=bd(ia.getMessageId()),Y(this,this._ctx,this._msgCtx.getDebugContext(),Na,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Da){xa.result(!1);},timeout:function(){xa.timeout();},error:function(Da){cb(xa,function(){if(U(Da))return !1;throw new ic("Response wishes to attach a user ID token but there is no master token.",Da,null);},Ha);}}));},Ha);},peerToPeerExecute:function(ia,va,xa,Ha){var Na;function Aa(Da){cb(Ha,function(){var Ua;Ua=Da.response;Ua.close();Ua=Ua.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Da.requestHeader,Ua);this._ctrl.buildErrorResponse(this,this._ctx,ia,Da,Ua,{result:function($a){cb(Ha,function(){var Va,ib;if(!$a)return !1;Va=$a.errorResult;ib=$a.tokenTicket;this.peerToPeerExecute(Va.msgCtx,Va.builder,xa,{result:function(mb){cb(Ha,function(){this._ctrl.releaseMasterToken(ib);return mb;},Na);},timeout:function(){cb(Ha,function(){this._ctrl.releaseMasterToken(ib);Ha.timeout();},Na);},error:function(mb){cb(Ha,function(){this._ctrl.releaseMasterToken(ib);throw mb;},Na);}});},Na);}});},Na);}Na=this;cb(Ha,function(){var Da;if(12 < xa + 2)return !1;if(null != ia.getCustomer() && null == va.getPeerMasterToken() && null == va.getKeyExchangeData()){Da=bd(va.getMessageId());Y(this,this._ctx,ia.getDebugContext(),Da,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ua){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ua){cb(Ha,function(){if(U(Ua))return !1;throw new ic("Response wishes to attach a user ID token but there is no master token.",Ua,null);},Na);}});}else this._ctrl.sendReceive(this._ctx,ia,this._input,this._output,va,this._timeout,!1,{result:function(Ua){cb(Ha,function(){var ib,mb,ob;function $a(){ib.read(32768,Na._timeout,{result:function(rb){cb(Ha,function(){rb?$a():Va();},Na);},timeout:function(){Ha.timeout();},error:function(rb){Ha.error(rb);}});}function Va(){cb(Ha,function(){var rb;rb=new Ba(Ua.payloads,ia);this._ctrl.buildResponse(this,this._ctx,rb,mb,this._timeout,{result:function(sb){cb(Ha,function(){var zb;zb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,xa,{result:function(xb){cb(Ha,function(){this._ctrl.releaseMasterToken(zb);return xb;},Na);},timeout:function(){cb(Ha,function(){this._ctrl.releaseMasterToken(zb);Ha.timeout();},Na);},error:function(xb){cb(Ha,function(){this._ctrl.releaseMasterToken(zb);throw xb;},Na);}});},Na);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});},Na);}ib=Ua.response;xa+=2;if(!ib)return !0;mb=ib.getMessageHeader();if(mb){ob=Ua.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Ua.handshake && ob)$a();else return !0;}else Aa(Ua);},Na);},timeout:function(){Ha.timeout();},error:function(Ua){Ha.error(Ua);}});},Na);},call:function(ia){var va;va=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(xa){cb(ia,function(){var Ha,Aa;Ha=xa.builder;Aa=xa.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ha,3,{result:function(Na){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Na;},va);},timeout:function(){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ia.timeout();},va);},error:function(Na){cb(ia,function(){var Da,Ua,$a,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(U(Na))return !1;Da=bd(Ha.getMessageId());if(Na instanceof bb){Ua=Na.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Ua,$a?$a.languages:null);Va=Na;}else Na instanceof Wb?(Ua=V.MSL_COMMS_FAILURE,$a=null,Va=Na):(Ua=V.INTERNAL_EXCEPTION,$a=null,Va=new vb("Error sending the response.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Ua,$a,this._output,this._timeout,{result:function(ib){ia.error(Va);},timeout:function(){ia.timeout();},error:function(ib){cb(ia,function(){if(U(ib))return !1;throw new ic("Error sending the response.",ib,null);},va);}});},va);}}):this.trustedNetworkExecute(Ha,3,{result:function(Na){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Na;},va);},timeout:function(){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ia.timeout();},va);},error:function(Na){cb(ia,function(){var Da,Ua,$a,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(U(Na))return !1;Da=bd(Ha.getMessageId());if(Na instanceof bb){Ua=Na.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Ua,$a?$a.languages:null);Va=Na;}else Na instanceof Wb?(Ua=V.MSL_COMMS_FAILURE,$a=null,Va=Na):(Ua=V.INTERNAL_EXCEPTION,$a=null,Va=new vb("Error sending the response.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Ua,$a,this._output,this._timeout,{result:function(ib){ia.error(Va);},timeout:function(){ia.timeout();},error:function(ib){cb(ia,function(){if(U(ib))return !1;throw new ic("Error sending the response.",ib,null);},va);}});},va);}});},va);},timeout:function(){ia.timeout();},error:function(xa){cb(ia,function(){var Ha,Aa,Na,Da;if(U(xa))return !1;if(xa instanceof bb){Ha=xa.messageId;Aa=xa.error;Na=this._request.messageCapabilities;Na=this._ctrl.messageRegistry.getUserMessage(Aa,Na?Na.languages:null);Da=xa;}else (Ha=null,Aa=V.INTERNAL_EXCEPTION,Na=null,Da=new vb("Error building the response.",xa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Aa,Na,this._output,this._timeout,{result:function(Ua){ia.error(Da);},timeout:function(){ia.timeout();},error:function(Ua){cb(ia,function(){if(U(Ua))return null;throw new ic("Error building the response.",Ua,xa);},va);}});},va);}});}});ka=Bb.Class.create({init:function(ia,va,xa,Ha,Aa,Na,Da){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Na,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Da,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},call:function(ia){var va;va=this;cb(ia,function(){var xa,Ha;if(this._appError == ENTITY_REJECTED)xa=this._request.masterToken?V.MASTERTOKEN_REJECTED_BY_APP:V.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)xa=this._request.userIdToken?V.USERIDTOKEN_REJECTED_BY_APP:V.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ha=this._request.messageCapabilities;Ha=this._ctrl.messageRegistry.getUserMessage(xa,Ha?Ha.languages:null);Y(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,xa,Ha,this._output,this._timeout,{result:function(Aa){ia.result(Aa);},timeout:ia.timeout,error:function(Aa){cb(ia,function(){if(U(Aa))return !1;if(Aa instanceof bb)throw Aa;throw new vb("Error building the error response.",Aa);},va);}});},va);}});Ga={result:function(){},timeout:function(){},error:function(){}};Ca=Bb.Class.create({init:function(ia,va,xa,Ha,Aa,Na,Da,Ua,$a){var Va;if(Da){Va=Da.builder;Da=Da.tokenTicket;}else Da=Va=null;Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Aa,writable:!0,enumerable:!1,configurable:!1},_output:{value:Na,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Va,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Da,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:$a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},execute:function(ia,va,xa,Ha,Aa){var Ua;function Na($a){function Va(ib){cb(Aa,function(){var mb;mb=$a.response;return ib?ib:mb;},Ua);}cb(Aa,function(){var ib,mb;ib=$a.response;ib.close();mb=ib.getErrorHeader();this._ctrl.cleanupContext(this._ctx,$a.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,ia,$a,mb,xa,{result:function(ob){cb(Aa,function(){var rb,sb,zb,xb;if(!ob)return ib;rb=ob.errorResult;sb=ob.tokenTicket;zb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,zb,this._timeout,Ha,{result:function(r){cb(Aa,function(){this._ctrl.releaseMasterToken(sb);Va(r);},Ua);},timeout:function(){cb(Aa,function(){this._ctrl.releaseMasterToken(sb);Aa.timeout();},Ua);},error:function(r){cb(Aa,function(){this._ctrl.releaseMasterToken(sb);Aa.error(r);},Ua);}});else {this._openedStreams && (this._input.close(),this._output.close(xa,Ga));xb=new Ca(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:zb,tokenTicket:sb},Ha,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(r){Va(r);},timeout:function(){Aa.timeout();},error:function(r){Aa.error(r);}});}},Ua);},timeout:function(){Aa.timeout();},error:function(ob){Aa.error(ob);}});},Ua);}function Da($a){cb(Aa,function(){var mb,ob,rb,sb,zb;function Va(){mb.read(32768,Ua._timeout,{result:function(xb){xb?Va():ib();},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}function ib(){cb(Aa,function(){var xb;xb=new Ba($a.payloads,ia);this._ctrl.buildResponse(this,this._ctx,ia,ob,xa,{result:function(r){cb(Aa,function(){var b;b=r.tokenTicket;this.execute(xb,r.builder,this._timeout,Ha,{result:function(a){cb(Aa,function(){this._ctrl.releaseMasterToken(b);return a;},Ua);},timeout:function(){cb(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Ua);},error:function(a){cb(Aa,function(){this._ctrl.releaseMasterToken(b);throw a;},Ua);}});},Ua);},timeout:function(){Aa.timeout();},error:function(r){Aa.error(r);}});},Ua);}mb=$a.response;ob=mb.getMessageHeader();rb=$a.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!$a.handshake || !rb)return mb;this._openedStreams && (this._input.close(),this._output.close(xa,Ga));sb=new Ba($a.payloads,ia);this._ctrl.buildResponse(this,this._ctx,ia,ob,xa,{result:function(xb){cb(Aa,function(){var r;r=new Ca(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,xb,Ha,this._timeout);this.setAbort(function(){r.abort();});r.call(Aa);},Ua);},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}else if($a.handshake && rb)Va();else if(0 < ob.keyRequestData.length){zb=new ta(ia);this._ctrl.buildResponse(this,this._ctx,zb,ob,xa,{result:function(xb){cb(Aa,function(){var r,b;r=xb.builder;b=xb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){cb(Aa,function(){function c(){mb.read(32768,Ua._timeout,{result:function(l){l?c():f();},timeout:function(){Aa.timeout();},error:function(l){Aa.error(l);}});}function f(){Ua.execute(zb,r,Ua._timeout,Ha,{result:function(l){cb(Aa,function(){this._ctrl.releaseMasterToken(b);return l;},Ua);},timeout:function(){cb(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Ua);},error:function(l){cb(Aa,function(){this._ctrl.releaseMasterToken(b);throw l;},Ua);}});}if(a){if((mb.reset(),12 >= Ha + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,r,this._timeout,{result:function(l){cb(Aa,function(){this.releaseMasterToken(b);return mb;},Ua);},timeout:function(){Aa.timeout();},error:function(l){Aa.error(l);}}));else return (this.releaseMasterToken(b),mb);}else c();},Ua);},timeout:function(){cb(Aa,function(){this.releaseMasterToken(b);Aa.timeout();},Ua);},error:function(a){cb(Aa,function(){this.releaseMasterToken(b);throw a;},Ua);}});},Ua);},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}},Ua);}Ua=this;cb(Aa,function(){if(12 < Ha + 2)return null;this._ctrl.sendReceive(this,this._ctx,ia,this._input,this._output,va,xa,!0,{result:function($a){cb(Aa,function(){var Va;if(!$a)return null;Va=$a.response;Ha+=2;Va.getMessageHeader()?Da($a):Na($a);},Ua);},timeout:function(){Aa.timeout();},error:function($a){Aa.error($a);}});},Ua);},call:function(ia){var xa;function va(Ha,Aa,Na){cb(ia,function(){this.execute(this._msgCtx,Ha,Na,this._msgCount,{result:function(Da){cb(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && this._output.close(Na,Ga);Da && Da.closeSource(this._openedStreams);return Da;},xa);},timeout:function(){cb(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Na,Ga),this._input.close());ia.timeout();},xa);},error:function(Da){cb(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Na,Ga),this._input.close());if(U(Da))return null;throw Da;},xa);}});},xa);}xa=this;cb(ia,function(){var Ha,Aa,Na;Ha=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Aa=Date.now();Na=this._remoteEntity.openConnection();this._output=Na.output;this._input=Na.input;-1 != Ha && (Ha=this._timeout - (Date.now() - Aa));this._openedStreams=!0;}catch(Da){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ga);this._input && this._input.close();if(U(Da))return null;throw Da;}this._builder?va(this._builder,this._tokenTicket,Ha):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Da){cb(ia,function(){va(Da.builder,Da.tokenTicket,Ha);},xa);},timeout:function(){cb(ia,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());ia.timeout();},xa);},error:function(Da){cb(ia,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());if(U(Da))return null;throw Da;},xa);}});},xa);}});})();(function(){ne=Bb.Class.create({init:function(fa){Object.defineProperties(this,{id:{value:fa,writable:!1,configurable:!1}});},toJSON:function(){var fa;fa={};fa.id=this.id;return fa;},equals:function(fa){return this === fa?!0:fa instanceof ne?this.id == fa.id:!1;},uniqueKey:function(){return this.id;}});pf=function(fa){var Z;Z=fa.id;if(!Z)throw new yb(V.JSON_PARSE_ERROR,JSON.stringify(fa));return new ne(Z);};})();Bb.Class.create({isNewestMasterToken:function(fa,Z,ba){},isMasterTokenRevoked:function(fa,Z){},acceptNonReplayableId:function(fa,Z,ba,ha){},createMasterToken:function(fa,Z,ba,ha,da){},isMasterTokenRenewable:function(fa,Z,ba){},renewMasterToken:function(fa,Z,ba,ha,da){},isUserIdTokenRevoked:function(fa,Z,ba,ha){},createUserIdToken:function(fa,Z,ba,ha){},renewUserIdToken:function(fa,Z,ba,ha){}});(function(){function fa(Z,ba,ha,da){this.sessiondata=Z;this.tokendata=ba;this.signature=ha;this.verified=da;}fc=Bb.Class.create({init:function(Z,ba,ha,da,U,Y,pa,na,ra,Ba,ta){var oa;oa=this;Ka(ta,function(){var W,aa,ca,ka,Ga;if(ha.getTime() < ba.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > da || da > Mb)throw new vb("Sequence number " + da + " is outside the valid range.");if(0 > U || U > Mb)throw new vb("Serial number " + U + " is outside the valid range.");W=Math.floor(ba.getTime() / 1E3);aa=Math.floor(ha.getTime() / 1E3);if(Ba)ca=Ba.sessiondata;else {ka={};Y && (ka.issuerdata=Y);ka.identity=pa;ka.encryptionkey=Db(na.toByteArray());ka.hmackey=Db(ra.toByteArray());ca=Sb(JSON.stringify(ka),Lb);}if(Ba)return (Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:da,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ba.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ga=Z.getMslCryptoContext();Ga.encrypt(ca,{result:function(Ca){Ka(ta,function(){var Oa,Ra;Oa={};Oa.renewalwindow=W;Oa.expiration=aa;Oa.sequencenumber=da;Oa.serialnumber=U;Oa.sessiondata=Db(Ca);Ra=Sb(JSON.stringify(Oa),Lb);Ga.sign(Ra,{result:function(ia){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:da,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:U,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(ia){ta.error(ia);}});},oa);},error:function(Ca){ta.error(Ca);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(Z){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(Z){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(Z){var ba;if(this.sequenceNumber == Z.sequenceNumber)return this.expiration > Z.expiration;if(this.sequenceNumber > Z.sequenceNumber){ba=this.sequenceNumber - Mb + 127;return Z.sequenceNumber >= ba;}ba=Z.sequenceNumber - Mb + 127;return this.sequenceNumber < ba;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof fc?this.serialNumber == Z.serialNumber && this.sequenceNumber == Z.sequenceNumber && this.expiration.getTime() == Z.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Rc=function(Z,ba,ha){Ka(ha,function(){var da,U,Y,pa,na;da=Z.getMslCryptoContext();U=ba.tokendata;Y=ba.signature;if("string" !== typeof U || "string" !== typeof Y)throw new yb(V.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(ba));try{pa=Fb(U);}catch(ra){throw new bb(V.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(ba),ra);}if(!pa || 0 == pa.length)throw new yb(V.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(ba));try{na=Fb(Y);}catch(ra){throw new bb(V.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(ba),ra);}da.verify(pa,na,{result:function(ra){Ka(ha,function(){var Ba,ta,oa,W,aa,ca,ka,Ga,Ca,Oa;Ba=Tb(pa,Lb);try{ta=JSON.parse(Ba);oa=parseInt(ta.renewalwindow);W=parseInt(ta.expiration);aa=parseInt(ta.sequencenumber);ca=parseInt(ta.serialnumber);ka=ta.sessiondata;}catch(Ra){if(Ra instanceof SyntaxError)throw new yb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba,Ra);throw Ra;}if(!oa || oa != oa || !W || W != W || "number" !== typeof aa || aa != aa || "number" !== typeof ca || ca != ca || "string" !== typeof ka)throw new yb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba);if(W < oa)throw new bb(V.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ba);if(0 > aa || aa > Mb)throw new bb(V.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);if(0 > ca || ca > Mb)throw new bb(V.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);Ga=new Date(1E3 * oa);Ca=new Date(1E3 * W);try{Oa=Fb(ka);}catch(Ra){throw new bb(V.MASTERTOKEN_SESSIONDATA_INVALID,ka,Ra);}if(!Oa || 0 == Oa.length)throw new bb(V.MASTERTOKEN_SESSIONDATA_MISSING,ka);ra?da.decrypt(Oa,{result:function(Ra){Ka(ha,function(){var ia,va,xa,Ha,Aa,Na;ia=Tb(Ra,Lb);try{va=JSON.parse(ia);xa=va.issuerdata;Ha=va.identity;Aa=va.encryptionkey;Na=va.hmackey;}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ia,Da);throw Da;}if(xa && "object" !== typeof xa || !Ha || "string" !== typeof Aa || "string" !== typeof Na)throw new yb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ia);zc(Aa,rc,Ic,{result:function(Da){zc(Na,sc,Qc,{result:function(Ua){Ka(ha,function(){var $a;$a=new fa(Ra,pa,na,ra);new fc(Z,Ga,Ca,aa,ca,xa,Ha,Da,Ua,$a,ha);});},error:function(Ua){ha.error(new ub(V.MASTERTOKEN_KEY_CREATION_ERROR,Ua));}});},error:function(Da){ha.error(new ub(V.MASTERTOKEN_KEY_CREATION_ERROR,Da));}});});},error:function(Ra){ha.error(Ra);}}):(oa=new fa(null,pa,na,ra),new fc(Z,Ga,Ca,aa,ca,null,null,null,null,oa,ha));});},error:function(ra){ha.error(ra);}});});};})();(function(){function fa(Z,ba,ha){this.tokendata=Z;this.signature=ba;this.verified=ha;}Zc=Bb.Class.create({init:function(Z,ba,ha,da,U,Y,pa,na,ra){var Ba;Ba=this;Ka(ra,function(){var ta,oa,W,aa,ca,ka,Ga;if(ha.getTime() < ba.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!da)throw new vb("Cannot construct a user ID token without a master token.");if(0 > U || U > Mb)throw new vb("Serial number " + U + " is outside the valid range.");ta=Math.floor(ba.getTime() / 1E3);oa=Math.floor(ha.getTime() / 1E3);W=da.serialNumber;if(na){aa=na.tokendata;ca=na.signature;ka=na.verified;W=da.serialNumber;Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:ka,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ca,writable:!1,enumerable:!1,configurable:!1}});return this;}aa={};Y && (aa.issuerdata=Y);aa.identity=pa;aa=Sb(JSON.stringify(aa),Lb);Ga=Z.getMslCryptoContext();Ga.encrypt(aa,{result:function(Ca){Ka(ra,function(){var Oa,Ra;Oa={};Oa.renewalwindow=ta;Oa.expiration=oa;Oa.mtserialnumber=W;Oa.serialnumber=U;Oa.userdata=Db(Ca);Ra=Sb(JSON.stringify(Oa),Lb);Ga.sign(Ra,{result:function(ia){Ka(ra,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:da.serialNumber,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},Ba);},error:function(ia){Ka(ra,function(){ia instanceof bb && ia.setEntity(da);throw ia;},Ba);}});},Ba);},error:function(Ca){Ka(ra,function(){Ca instanceof bb && Ca.setEntity(da);throw Ca;},Ba);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(Z){return Z && Z.serialNumber == this.mtSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof Zc?this.serialNumber == Z.serialNumber && this.mtSerialNumber == Z.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Sc=function(Z,ba,ha,da){Ka(da,function(){var U,Y,pa,na,ra;U=Z.getMslCryptoContext();Y=ba.tokendata;pa=ba.signature;if("string" !== typeof Y || "string" !== typeof pa)throw new yb(V.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(ba)).setEntity(ha);try{na=Fb(Y);}catch(Ba){throw new bb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ba).setEntity(ha);}if(!na || 0 == na.length)throw new yb(V.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(ba)).setEntity(ha);try{ra=Fb(pa);}catch(Ba){throw new bb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ba).setEntity(ha);}U.verify(na,ra,{result:function(Ba){Ka(da,function(){var ta,oa,W,aa,ca,ka,Ga,Ca,Oa,Ra;ta=Tb(na,Lb);try{oa=JSON.parse(ta);W=parseInt(oa.renewalwindow);aa=parseInt(oa.expiration);ca=parseInt(oa.mtserialnumber);ka=parseInt(oa.serialnumber);Ga=oa.userdata;}catch(ia){if(ia instanceof SyntaxError)throw new yb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ta,ia).setEntity(ha);throw ia;}if(!W || W != W || !aa || aa != aa || "number" !== typeof ca || ca != ca || "number" !== typeof ka || ka != ka || "string" !== typeof Ga)throw new yb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ta).setEntity(ha);if(aa < W)throw new bb(V.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ta).setEntity(ha);if(0 > ca || ca > Mb)throw new bb(V.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ta).setEntity(ha);if(0 > ka || ka > Mb)throw new bb(V.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ta).setEntity(ha);Ca=new Date(1E3 * W);Oa=new Date(1E3 * aa);if(!ha || ca != ha.serialNumber)throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ca + "; mt " + JSON.stringify(ha)).setEntity(ha);try{Ra=Fb(Ga);}catch(ia){throw new bb(V.USERIDTOKEN_USERDATA_INVALID,Ga,ia).setEntity(ha);}if(!Ra || 0 == Ra.length)throw new bb(V.USERIDTOKEN_USERDATA_MISSING,Ga).setEntity(ha);Ba?U.decrypt(Ra,{result:function(ia){Ka(da,function(){var va,xa,Ha,Aa,Na;va=Tb(ia,Lb);try{xa=JSON.parse(va);Ha=xa.issuerdata;Aa=xa.identity;}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + va).setEntity(ha);throw Da;}if(Ha && "object" !== typeof Ha || "object" !== typeof Aa)throw new yb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + va).setEntity(ha);try{Na=pf(Aa);}catch(Da){throw new bb(V.USERIDTOKEN_IDENTITY_INVALID,"userdata " + va,Da).setEntity(ha);}Aa=new fa(na,ra,Ba);new Zc(Z,Ca,Oa,ha,ka,Ha,Na,Aa,da);});},error:function(ia){Ka(da,function(){ia instanceof bb && ia.setEntity(ha);throw ia;});}}):(W=new fa(na,ra,Ba),new Zc(Z,Ca,Oa,ha,ka,null,null,W,da));});},error:function(Ba){Ka(da,function(){Ba instanceof bb && Ba.setEntity(ha);throw Ba;});}});});};})();(function(){function fa(ba,ha){var da,U,Y;da=ba.tokendata;if("string" !== typeof da)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));try{U=Fb(da);}catch(pa){throw new bb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ba),pa);}if(!U || 0 == U.length)throw new yb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ba));try{Y=JSON.parse(Tb(U,Lb)).name;}catch(pa){if(pa instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba),pa);throw pa;}if(!Y)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));return ha[Y]?ha[Y]:ha[""];}function Z(ba,ha,da){this.tokendata=ba;this.signature=ha;this.verified=da;}Kc=Bb.Class.create({init:function(ba,ha,da,U,Y,pa,na,ra,Ba,ta){var oa;oa=this;Ka(ta,function(){var W,aa,ca,ka,Ga;if(U && Y && !Y.isBoundTo(U))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");W=U?U.serialNumber:-1;aa=Y?Y.serialNumber:-1;if(Ba)return (Ga=Ba.tokendata,Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:da,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(na){ca=me(na,da);ca.length < da.length || (na=null,ca=da);}else (na=null,ca=da);ka={};ka.name=ha;-1 != W && (ka.mtserialnumber=W);-1 != aa && (ka.uitserialnumber=aa);ka.encrypted=pa;na && (ka.compressionalgo=na);if(pa && 0 < ca.length)ra.encrypt(ca,{result:function(Ca){Ka(ta,function(){var Oa;ka.servicedata=Db(Ca);Oa=Sb(JSON.stringify(ka),Lb);ra.sign(Oa,{result:function(Ra){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:da,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ra){Ka(ta,function(){Ra instanceof bb && (Ra.setEntity(U),Ra.setUser(Y));throw Ra;});}});},oa);},error:function(Ca){Ka(ta,function(){Ca instanceof bb && (Ca.setEntity(U),Ca.setUser(Y));throw Ca;});}});else {ka.servicedata=Db(ca);Ga=Sb(JSON.stringify(ka),Lb);ra.sign(Ga,{result:function(Ca){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:da,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ca){Ka(ta,function(){Ca instanceof bb && (Ca.setEntity(U),Ca.setUser(Y));throw Ca;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(ba){return ba?ba instanceof fc?ba.serialNumber == this.mtSerialNumber:ba instanceof Zc?ba.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var ba;ba={};ba.tokendata=Db(this.tokendata);ba.signature=Db(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof Kc?this.name == ba.name && this.mtSerialNumber == ba.mtSerialNumber && this.uitSerialNumber == ba.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Dc=function(ba,ha,da,U,Y,pa,na,ra,Ba){new Kc(ba,ha,da,U,Y,pa,na,ra,null,Ba);};Fd=function(ba,ha,da,U,Y,pa){Ka(pa,function(){var na,ra,Ba,ta,oa,W,aa,ca,ka,Ga,Ca,Oa,Ra;!Y || Y instanceof $c || (Y=fa(ha,Y));na=ha.tokendata;ra=ha.signature;if("string" !== typeof na || "string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ha)).setEntity(da).setEntity(U);try{Ba=Fb(na);}catch(ia){throw new bb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ha),ia).setEntity(da).setEntity(U);}if(!Ba || 0 == Ba.length)throw new yb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ha)).setEntity(da).setEntity(U);try{ta=Fb(ra);}catch(ia){throw new bb(V.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ha),ia).setEntity(da).setEntity(U);}oa=Tb(Ba,Lb);try{W=JSON.parse(oa);aa=W.name;ca=W.mtserialnumber?parseInt(W.mtserialnumber):-1;ka=W.uitserialnumber?parseInt(W.uitserialnumber):-1;Ga=W.encrypted;Ca=W.compressionalgo;Oa=W.servicedata;}catch(ia){if(ia instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"servicetokendata " + oa,ia).setEntity(da).setEntity(U);throw ia;}if(!aa || "number" !== typeof ca || ca != ca || "number" !== typeof ka || ka != ka || "boolean" !== typeof Ga || Ca && "string" !== typeof Ca || "string" !== typeof Oa)throw new yb(V.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(da).setEntity(U);if(W.mtserialnumber && 0 > ca || ca > Mb)throw new bb(V.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(da).setEntity(U);if(W.uitserialnumber && 0 > ka || ka > Mb)throw new bb(V.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(da).setEntity(U);if(-1 != ca && (!da || ca != da.serialNumber))throw new bb(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ca + "; mt " + da).setEntity(da).setEntity(U);if(-1 != ka && (!U || ka != U.serialNumber))throw new bb(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + ka + "; uit " + U).setEntity(da).setEntity(U);Ga=!0 === Ga;if(Ca){if(!Nc[Ca])throw new bb(V.UNIDENTIFIED_COMPRESSION,Ca);Ra=Ca;}else Ra=null;Y?Y.verify(Ba,ta,{result:function(ia){Ka(pa,function(){var va,xa;if(ia){try{va=Fb(Oa);}catch(Ha){throw new bb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ha).setEntity(da).setEntity(U);}if(!va || 0 != Oa.length && 0 == va.length)throw new bb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(da).setEntity(U);if(Ga && 0 < va.length)Y.decrypt(va,{result:function(Ha){Ka(pa,function(){var Aa,Na;Aa=Ra?Gd(Ra,Ha):Ha;Na=new Z(Ba,ta,ia);new Kc(ba,aa,Aa,-1 != ca?da:null,-1 != ka?U:null,Ga,Ra,Y,Na,pa);});},error:function(Ha){Ka(pa,function(){Ha instanceof bb && (Ha.setEntity(da),Ha.setUser(U));throw Ha;});}});else {va=Ra?Gd(Ra,va):va;xa=new Z(Ba,ta,ia);new Kc(ba,aa,va,-1 != ca?da:null,-1 != ka?U:null,Ga,Ra,Y,xa,pa);}}else (va="" == Oa?new Uint8Array(0):null,xa=new Z(Ba,ta,ia),new Kc(ba,aa,va,-1 != ca?da:null,-1 != ka?U:null,Ga,Ra,Y,xa,pa));});},error:function(ia){Ka(pa,function(){ia instanceof bb && (ia.setEntity(da),ia.setUser(U));throw ia;});}}):(na="" == Oa?new Uint8Array(0):null,ra=new Z(Ba,ta,!1),new Kc(ba,aa,na,-1 != ca?da:null,-1 != ka?U:null,Ga,Ra,Y,ra,pa));});};})();ac={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(ac);(function(){Hc=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(fa){return this === fa?!0:fa instanceof Hc?this.scheme == fa.scheme:!1;},toJSON:function(){var fa;fa={};fa.scheme=this.scheme;fa.authdata=this.getAuthData();return fa;}});df=function(fa,Z,ba,ha){Ka(ha,function(){var da,U,Y;da=ba.scheme;U=ba.authdata;if(!da || !U)throw new yb(V.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(ba));if(!ac[da])throw new Gb(V.UNIDENTIFIED_USERAUTH_SCHEME,da);Y=fa.getUserAuthenticationFactory(da);if(!Y)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,da);Y.createData(fa,Z,U,ha);});};})();md=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},createData:function(fa,Z,ba,ha){},authenticate:function(fa,Z,ba,ha){}});(function(){Vc=Hc.extend({init:function ha(Z,ba){ha.base.call(this,ac.NETFLIXID);Object.defineProperties(this,{netflixId:{value:Z,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.netflixid=this.netflixId;this.secureNetflixId && (Z.securenetflixid=this.secureNetflixId);return Z;},equals:function ha(ba){return this === ba?!0:ba instanceof Vc?ha.base.call(this,ba) && this.netflixId == ba.netflixId && this.secureNetflixId == ba.secureNetflixId:!1;}});qf=function(ba){var ha,da;ha=ba.netflixid;da=ba.securenetflixid;if(!ha)throw new yb(V.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(ba));return new Vc(ha,da);};})();Tf=md.extend({init:function Z(){Z.base.call(this,ac.NETFLIXID);},createData:function(Z,ba,ha,da){Ka(da,function(){return qf(ha);});},authenticate:function(Z,ba,ha,da){if(!(ha instanceof Vc))throw new vb("Incorrect authentication data type " + ha + ".");Z=ha.secureNetflixId;if(!ha.netflixId || !Z)throw new Gb(V.NETFLIXID_COOKIES_BLANK).setUser(ha);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ha);}});(function(){nd=Hc.extend({init:function da(ba,ha){da.base.call(this,ac.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:ba,writable:!1,configurable:!1},password:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){var ba;ba={};ba.email=this.email;ba.password=this.password;return ba;},equals:function da(ha){return this === ha?!0:ha instanceof nd?da.base.call(this,this,ha) && this.email == ha.email && this.password == ha.password:!1;}});rf=function(ha){var da,U;da=ha.email;U=ha.password;if(!da || !U)throw new yb(V.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ha));return new nd(da,U);};})();Uf=md.extend({init:function ba(){ba.base.call(this,ac.EMAIL_PASSWORD);},createData:function(ba,ha,da,U){Ka(U,function(){return rf(da);});},authenticate:function(ba,ha,da,U){if(!(da instanceof nd))throw new vb("Incorrect authentication data type " + da + ".");ba=da.password;if(!da.email || !ba)throw new Gb(V.EMAILPASSWORD_BLANK).setUser(da);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(da);}});(function(){var U,Y,pa,na,ra,Ba,ta,oa;function ba(W,aa){return "<" + W + ">" + aa + "</" + W + ">";}function ha(W){return W.replace(/[<>&"']/g,function(aa){return ra[aa];});}function da(W){return encodeURIComponent(W).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}U=Jd={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};Y=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});pa=oe=Y.extend({init:function(W,aa,ca,ka,Ga,Ca,Oa){var va;function Ra(xa){Ka(Oa,function(){var Ha,Aa;try{Ha={};Ha.useridtoken=W;Ha.action=aa;Ha.nonce=ca;Ha.pin=Db(xa);Aa=Sb(JSON.stringify(Ha),Lb);}catch(Na){throw new yb(V.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Na);}Ga.sign(Aa,{result:function(Na){ia(Aa,Na);},error:Oa.error});},va);}function ia(xa,Ha){Ka(Oa,function(){Object.defineProperties(this,{_userIdToken:{value:W,writable:!1,enumerable:!1,configurable:!1},_action:{value:aa,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ca,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ka,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:xa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ha,writable:!1,enumerable:!1,configurable:!1}});return this;},va);}va=this;Ka(Oa,function(){Ca?ia(Ca.encoding,Ca.signature):Ga.encrypt(Sb(ka,Lb),{result:function(xa){Ra(xa);},error:Oa.error});},va);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof pa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin && this._userIdToken.equals(W._userIdToken):!1;}});oe.ACTION="userauth";na=function(W,aa,ca,ka,Ga){function Ca(Ra){Ka(Ga,function(){var ia,va,xa,Ha,Aa,Na;ia=Tb(ca,Lb);try{va=JSON.parse(ia);xa=va.useridtoken;Ha=va.action;Aa=va.nonce;Na=va.pin;}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + ia,Da);throw Da;}if(!(xa && "object" === typeof xa && Ha && "string" === typeof Ha && Aa && "number" === typeof Aa && Na) || "string" !== typeof Na)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + ia);Sc(W,xa,aa,{result:function(Da){Ka(Ga,function(){if(!Da.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ia);Oa(Ra,Da,Ha,Aa,Na);});},error:function(Da){Ka(Ga,function(){if(Da instanceof bb)throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ia,Da);throw Da;});}});});}function Oa(Ra,ia,va,xa,Ha){Ka(Ga,function(){var Aa;Aa=Fb(Ha);Ra.decrypt(Aa,{result:function(Na){Ka(Ga,function(){var Da;Da=Tb(Na,Lb);new pa(ia,va,xa,Da,null,{encoding:ca,signature:ka},Ga);});},error:Ga.error});});}Ka(Ga,function(){var Ra,ia;try{Ra=W.getMslStore().getCryptoContext(aa);ia=Ra?Ra:new gc(W,aa);}catch(va){if(va instanceof Pc)throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(ca));throw va;}ia.verify(ca,ka,{result:function(va){Ka(Ga,function(){if(!va)throw new ub(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ca));Ca(ia);});},error:Ga.error});});};ra={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ba=od=Y.extend({init:function(W,aa,ca,ka){var Ga,Ca;Ga=ba("action",ha(W));Ca=ba("nonce",aa.toString());ca=ba("pin",ca);Ga=ba("registerdata",Ga + Ca + ca);Ga=Sb(Ga,"utf-8");Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof Ba?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});od.ACTION="regpairrequest";ta=pe=Y.extend({init:function(W,aa,ca,ka,Ga,Ca){var ia;function Oa(va){Ka(Ca,function(){var xa,Ha,Aa,Na,Da;xa=Db(va);Ha=ba("action",ha(W));Aa=ba("nonce",aa.toString());Na=ba("pin",xa);Ha=ba("registerdata",Ha + Aa + Na);Da=Sb(Ha,"utf-8");xa="action=" + da(W) + "&nonce=" + da(aa.toString()) + "&pin=" + da(xa);ka.sign(Sb(xa,"utf-8"),{result:function(Ua){Ra(Da,Ua);},error:Ca.error});},ia);}function Ra(va,xa){Ka(Ca,function(){Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ca,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:va,writable:!1,enumerable:!1,configurable:!1},_signature:{value:xa,writable:!1,enumerable:!1,configurable:!1}});return this;},ia);}ia=this;Ka(Ca,function(){Ga?Ra(Ga.encoding,Ga.signature):ka.encrypt(Sb(ca,"utf-8"),{result:function(va){Oa(va);},error:Ca.error});},ia);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof ta?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});pe.ACTION=od.ACTION;oa=function(W,aa,ca,ka,Ga){Ka(Ga,function(){var Ca,Oa,Ra,ia,va,xa,Ha;Ca=W.getMslStore().getCryptoContext(aa);Oa=Ca?Ca:new gc(W,aa);Ca=Tb(ca,"utf-8");Ra=new DOMParser().parseFromString(Ca,"application/xml");Ca=Ra.getElementsByTagName("action");ia=Ra.getElementsByTagName("nonce");Ra=Ra.getElementsByTagName("pin");va=Ca && 1 == Ca.length && Ca[0].firstChild?Ca[0].firstChild.nodeValue:null;xa=ia && 1 == ia.length && ia[0].firstChild?parseInt(ia[0].firstChild.nodeValue):null;Ha=Ra && 1 == Ra.length && Ra[0].firstChild?Ra[0].firstChild.nodeValue:null;if(!va || !xa || !Ha)throw new yb(V.XML_PARSE_ERROR,"MDX authdata " + Db(ca));Ca="action=" + da(va) + "&nonce=" + da(xa.toString()) + "&pin=" + da(Ha);Oa.verify(Sb(Ca,"utf-8"),ka,{result:function(Aa){Ka(Ga,function(){var Na;if(!Aa)throw new ub(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ca));Na=Fb(Ha);Oa.decrypt(Na,{result:function(Da){Ka(Ga,function(){var Ua;Ua=Tb(Da,"utf-8");new ta(va,xa,Ua,null,{encoding:ca,signature:ka},Ga);});},error:Ga.error});});},error:Ga.error});});};cd=Hc.extend({init:function Ra(aa,ca,ka,Ga,Ca,Oa){var ia,va,xa,Ha,Aa,Na;Ra.base.call(this,ac.MDX);ia=null;va=null;xa=null;if("string" === typeof ka)(aa=U.MSL_LEGACY,xa=ka);else if(ka instanceof Uint8Array)(aa=U.NTBA,va=ka);else if(ka instanceof fc)(aa=U.MSL,ia=ka);else throw new TypeError("Controller token " + ka + " is not a master token, encrypted CTicket, or MSL token construct.");Ha=ka=null;Aa=null;if(Oa){Na=Oa.controllerAuthData;ka=Na.getAction();Ha=Na.getPin();Oa=Oa.userIdToken;Na instanceof pa?Aa=Na.getUserIdToken().customer:Oa && (Aa=Oa.customer);}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},action:{value:ka,writable:!1,configurable:!1},targetPin:{value:ca,writable:!1,configurable:!1},controllerPin:{value:Ha,writable:!1,configurable:!1},customer:{value:Aa,writable:!1,configurable:!1},_masterToken:{value:ia,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:va,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:xa,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var aa,ca;aa={};switch(this.mechanism){case U.MSL:ca=JSON.parse(JSON.stringify(this._masterToken));aa.mastertoken=ca;break;case U.NTBA:ca=Tb(this._encryptedCTicket,"utf-8");aa.cticket=ca;break;case U.MSL_LEGACY:aa.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}aa.pin=this.targetPin;aa.mdxauthdata=Db(this._controllerEncoding);aa.signature=Db(this._signature);return aa;},equals:function ka(ca){return this === ca?!0:ca instanceof cd?ka.base.call(this,ca) && (this._masterToken == ca._masterToken || this._masterToken && this._masterToken.equals(ca._masterToken)) && (this._encryptedCTicket == ca._encryptedCTicket || this._encryptedCTicket && Xb(this._encryptedCTicket,ca._encryptedCTicket)) && this._mslTokens == ca._mslTokens && Xb(this._controllerEncoding,ca._controllerEncoding) && Xb(this._signature,ca._signature):!1;}});sf=function(ca,ka,Ga){function Ca(ia,va,xa,Ha){Rc(ca,va,{result:function(Aa){Ka(Ga,function(){if(!Aa.isDecrypted())throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + ka.toString());na(ca,Aa,xa,Ha,{result:function(Na){Ka(Ga,function(){var Da,Ua;Da=Na.getEncoding();Ua=Na.getSignature();return new cd(ca,ia,Aa,Da,Ua,{controllerAuthData:Na,userIdToken:null});});},error:Ga.error});});},error:function(Aa){Ka(Ga,function(){if(Aa instanceof bb)throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),Aa);throw Aa;});}});}function Oa(ia,va,xa,Ha){Ka(Ga,function(){throw new Gb(V.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ra(ia,va,xa,Ha){function Aa(Da,Ua){Ka(Ua,function(){var $a,Va;try{$a=Fb(Da);}catch(ib){throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),ib);}if(!$a || 0 == $a.length)throw new Gb(V.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(ka));try{Va=JSON.parse(Tb($a,"utf-8"));Rc(ca,Va,{result:function(ib){Ka(Ua,function(){if(!ib.isDecrypted())throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + ka.toString());return ib;});},error:function(ib){Ka(Ua,function(){if(ib instanceof bb)throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),ib);throw ib;});}});}catch(ib){if(ib instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka),ib);throw ib;}});}function Na(Da,Ua,$a){Ka($a,function(){var Va,ib;try{Va=Fb(Da);}catch(mb){throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),mb);}if(!Va || 0 == Va.length)throw new Gb(V.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(ka));try{ib=JSON.parse(Tb(Va,"utf-8"));Sc(ca,ib,Ua,{result:function(mb){Ka($a,function(){if(!mb.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(ka));return mb;});},error:function(mb){Ka($a,function(){if(mb instanceof bb)throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),mb);throw mb;});}});}catch(mb){if(mb instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka),mb);throw mb;}});}Ka(Ga,function(){var Da;Da=va.split(",");if(3 != Da.length || "1" != Da[0])throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(ka));Aa(Da[1],{result:function(Ua){Na(Da[2],Ua,{result:function($a){oa(ca,Ua,xa,Ha,{result:function(Va){Ka(Ga,function(){return new cd(ca,ia,va,xa,Ha,{controllerAuthData:Va,userIdToken:$a});});},error:function(Va){Ka(Ga,function(){if(Va instanceof Pc)throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(ka),Va);throw Va;});}});},error:Ga.error});},error:Ga.error});});}Ka(Ga,function(){var ia,va,xa,Ha,Aa;ia=ka.pin;va=ka.mdxauthdata;xa=ka.signature;if(!ia || "string" !== typeof ia || !va || "string" !== typeof va || !xa || "string" !== typeof xa)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka));try{Ha=Fb(va);Aa=Fb(xa);}catch(Na){throw new Gb(V.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(ka),Na);}if(ka.mastertoken){va=ka.mastertoken;if(!va || "object" !== typeof va)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka));Ca(ia,va,Ha,Aa);}else if(ka.cticket){va=ka.cticket;if(!va || "string" !== typeof va)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka));-1 == va.indexOf(",")?Oa(ia,va,Ha,Aa):Ra(ia,va,Ha,Aa);}else throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(ka));});};})();(function(){var ba,ha,da;ba=oe.ACTION;ha=od.ACTION;da=pe.ACTION;tf=md.extend({init:function Y(){Y.base.call(this,ac.MDX);},createData:function(Y,pa,na,ra){sf(Y,na,ra);},authenticate:function(Y,pa,na,ra){if(!(na instanceof cd))throw new vb("Incorrect authentication data type " + na.getClass().getName() + ".");Y=na.action;switch(na.mechanism){case Jd.MSL:if(ba != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Jd.NTBA:if(ha != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Jd.MSL_LEGACY:if(da != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);}Y=na.controllerPin;pa=na.targetPin;if(!Y || !pa)throw new Gb(V.MDX_PIN_BLANK).setUser(na);if(Y != pa)throw new Gb(V.MDX_PIN_MISMATCH).setUser(na);Y=na.customer;if(!Y)throw new Gb(V.MDX_USER_UNKNOWN).setUser(na);if(ra && (ra=ra.customer,!Y.equals(ra)))throw new Gb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + Y + "; uit customer " + ra).setUser(na);return Y;}});})();(function(){var ba,ha,da;ba={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ha=vf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{email:{value:U,writable:!1,enumerable:!0,configurable:!1},password:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});da=wf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{netflixId:{value:U,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});pd=Hc.extend({init:function Ba(Y,pa,na,ra){var ta,oa,W,aa;Ba.base.call(this,ac.SSO);ta=null;oa=null;W=null;aa=null;na instanceof ha?(ta=na.email,oa=na.password):na instanceof da && (W=na.netflixId,aa=na.secureNetflixId);Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},token:{value:pa,writable:!1,configurable:!1},email:{value:ta,writable:!1,configurable:!1},password:{value:oa,writable:!1,configurable:!1},netflixId:{value:W,writable:!1,configurable:!1},secureNetflixId:{value:aa,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof ra?null:ra,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.mechanism=this.mechanism;Y.token=Db(this.token);this.email && this.password?(Y.email=this.email,Y.password=this.password):this.netflixId && this.secureNetflixId && (Y.netflixid=this.netflixId,Y.securenetflixid=this.secureNetflixId);this.profileGuid && (Y.profileguid=this.profileGuid);return Y;},equals:function na(pa){return this === pa?!0:pa instanceof pd?na.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.token,pa.token) && this.email == pa.email && this.password == pa.password && this.netflixId == pa.netflixId && this.secureNetflixId == pa.secureNetflixId && this.profileGuid == pa.profileGuid:!1;}});uf=function(pa){var na,ra,Ba,ta,oa,W,aa,ca,ka;na=pa.mechanism;ra=pa.token;if(!na || !ra || "string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));if(!ba[na])throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(pa));Ba=pa.email;ta=pa.password;oa=pa.netflixid;W=pa.securenetflixid;aa=pa.profileguid;if(Ba && !ta || !Ba && ta || oa && !W || !oa && W || Ba && oa)throw new yb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));try{ca=Fb(ra);}catch(Ga){throw new Gb(V.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(pa),Ga);}Ba && ta?ka=new ha(Ba,ta):oa && W && (ka=new da(oa,W));return new pd(na,ca,ka,aa);};})();Vf=md.extend({init:function ha(){ha.base.call(this,ac.SSO);},createData:function(ha,da,U,Y){Ka(Y,function(){return uf(U);});},authenticate:function(ha,da,U,Y){var pa,na;if(!(U instanceof pd))throw new vb("Incorrect authentication data type " + U + ".");ha=U.token;da=U.email;Y=U.password;pa=U.netflixId;na=U.secureNetflixId;if(!ha || 0 == ha.length)throw new Gb(V.SSOTOKEN_BLANK);if(!(null === da && null === Y || da && Y))throw new Gb(V.EMAILPASSWORD_BLANK);if(!(null === pa && null === na || pa && na))throw new Gb(V.NETFLIXID_COOKIES_BLANK).setUser(U);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(U);}});(function(){qd=Hc.extend({init:function Y(da,U){Y.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:da,writable:!1,configurable:!1},profileGuid:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var da;da={};da.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));da.profileguid=this.profileGuid;return da;},equals:function Y(U){return this == U?!0:U instanceof qd?Y.base.call(this,U) && this.userIdToken.equals(U.userIdToken) && this.profileGuid == U.profileGuid:!1;}});xf=function(U,Y,pa,na){Ka(na,function(){var ra,Ba;if(!Y)throw new Gb(V.USERAUTH_MASTERTOKEN_MISSING);ra=pa.useridtoken;Ba=pa.profileguid;if("object" !== typeof ra || "string" !== typeof Ba)throw new yb(V.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(pa));Sc(U,ra,Y,{result:function(ta){Ka(na,function(){if(!ta.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(pa));return new qd(ta,Ba);});},error:function(ta){na.error(new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(pa),ta));}});});};})();Wf=md.extend({init:function U(da){U.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:da,writable:!1,enumerable:!1,configurable:!1}});},createData:function(da,U,Y,pa){xf(da,U,Y,pa);},authenticate:function(da,U,Y,pa){if(!(Y instanceof qd))throw new vb("Incorrect authentication data type " + Y + ".");U=Y.userIdToken;da=Y.profileGuid;if(!da)throw new Gb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(Y);U=U.user;if(!U)throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(Y);da=this._store.switchUsers(U,da);if(!da)throw new Gb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(Y);if(pa && (pa=pa.user,!da.equals(pa)))throw new Gb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + da + "; uit user " + pa).setUserAuthenticationData(Y);return da;}});Object.freeze({ENTITY_REAUTH:Ja.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ja.ENTITYDATA_REAUTH});Xf=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(da,U){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(da){},getUserAuthenticationFactory:function(da){},getTokenFactory:function(){},getKeyExchangeFactory:function(da){},getKeyExchangeFactories:function(){},getMslStore:function(){}});yf=Bb.Class.create({setCryptoContext:function(da,U){},getMasterToken:function(){},getNonReplayableId:function(da){},getCryptoContext:function(da){},removeCryptoContext:function(da){},clearCryptoContexts:function(){},addUserIdToken:function(da,U){},getUserIdToken:function(da){},removeUserIdToken:function(da){},clearUserIdTokens:function(){},addServiceTokens:function(da){},getServiceTokens:function(da,U){},removeServiceTokens:function(da,U,Y){},clearServiceTokens:function(){}});(function(){var da;da=Nc;me=function(U,Y){var pa;pa={};switch(U){case da.LZW:return Ae(Y,pa);case da.GZIP:return gzip$compress(Y);default:throw new bb(V.UNSUPPORTED_COMPRESSION,U);}};Gd=function(U,Y,pa){switch(U){case da.LZW:return Be(Y);case da.GZIP:return gzip$uncompress(Y);default:throw new bb(V.UNSUPPORTED_COMPRESSION,U.name());}};})();yf.extend({setCryptoContext:function(da,U){},getMasterToken:function(){return null;},getNonReplayableId:function(da){return 1;},getCryptoContext:function(da){return null;},removeCryptoContext:function(da){},clearCryptoContexts:function(){},addUserIdToken:function(da,U){},getUserIdToken:function(da){return null;},removeUserIdToken:function(da){},clearUserIdTokens:function(){},addServiceTokens:function(da){},getServiceTokens:function(da,U){if(U){if(!da)throw new bb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!U.isBoundTo(da))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + U.mtSerialNumber + "; mt " + da.serialNumber);}return [];},removeServiceTokens:function(da,U,Y){if(Y && U && !Y.isBoundTo(U))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.masterTokenSerialNumber + "; mt " + U.serialNumber);},clearServiceTokens:function(){}});(function(){zf=yf.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(U,Y){var pa;if(Y){pa=U.uniqueKey();this.masterTokens[pa]=U;this.cryptoContexts[pa]=Y;}else this.removeCryptoContext(U);},getMasterToken:function(){var U,Y,pa;U=null;for(Y in this.masterTokens){pa=this.masterTokens[Y];if(!U || pa.isNewerThan(U))U=pa;}return U;},getNonReplayableId:function(U){var Y;U=U.serialNumber;Y=this.nonReplayableIds[U] !== Ab?this.nonReplayableIds[U]:0;if(0 > Y || Y > Mb)throw new vb("Non-replayable ID " + Y + " is outside the valid range.");Y=Y == Mb?0:Y + 1;return this.nonReplayableIds[U]=Y;},getCryptoContext:function(U){return this.cryptoContexts[U.uniqueKey()];},removeCryptoContext:function(U){var Y,pa,na,ra;Y=U.uniqueKey();if(this.masterTokens[Y]){pa=U.serialNumber;for(na in this.masterTokens){ra=this.masterTokens[na];if(!ra.equals(U) && ra.serialNumber == pa){delete this.masterTokens[Y];delete this.cryptoContexts[Y];return;}}Object.keys(this.userIdTokens).forEach(function(Ba){Ba=this.userIdTokens[Ba];Ba.isBoundTo(U) && this.removeUserIdToken(Ba);},this);try{this.removeServiceTokens(null,U,null);}catch(Ba){if(Ba instanceof bb)throw new vb("Unexpected exception while removing master token bound service tokens.",Ba);throw Ba;}delete this.nonReplayableIds[pa];delete this.masterTokens[Y];delete this.cryptoContexts[Y];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);},addUserIdToken:function(U,Y){var pa,na;pa=!1;for(na in this.masterTokens){if(Y.isBoundTo(this.masterTokens[na])){pa=!0;break;}}if(!pa)throw new bb(V.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + Y.mtSerialNumber);this.userIdTokens[U]=Y;},getUserIdToken:function(U){return this.userIdTokens[U];},removeUserIdToken:function(U){var Y,pa,na;Y=null;for(pa in this.masterTokens){na=this.masterTokens[pa];if(U.isBoundTo(na)){Y=na;break;}}Object.keys(this.userIdTokens).forEach(function(ra){if(this.userIdTokens[ra].equals(U)){try{this.removeServiceTokens(null,Y,U);}catch(Ba){if(Ba instanceof bb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Ba);throw Ba;}delete this.userIdTokens[ra];}},this);},clearUserIdTokens:function(){for(var U in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[U]);}},addServiceTokens:function(U){U.forEach(function(Y){var pa,na;if(Y.isMasterTokenBound()){pa=!1;for(na in this.masterTokens){if(Y.isBoundTo(this.masterTokens[na])){pa=!0;break;}}if(!pa)throw new bb(V.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + Y.mtSerialNumber);}if(Y.isUserIdTokenBound()){pa=!1;for(var ra in this.userIdTokens){if(Y.isBoundTo(this.userIdTokens[ra])){pa=!0;break;}}if(!pa)throw new bb(V.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + Y.uitSerialNumber);}},this);U.forEach(function(Y){var pa;if(Y.isUnbound())this.unboundServiceTokens[Y.uniqueKey()]=Y;else {if(Y.isMasterTokenBound()){pa=this.mtServiceTokens[Y.mtSerialNumber];pa || (pa={});pa[Y.uniqueKey()]=Y;this.mtServiceTokens[Y.mtSerialNumber]=pa;}Y.isUserIdTokenBound() && ((pa=this.uitServiceTokens[Y.uitSerialNumber]) || (pa={}),pa[Y.uniqueKey()]=Y,this.uitServiceTokens[Y.uitSerialNumber]=pa);}},this);},getServiceTokens:function(U,Y){var pa,na,ra;if(Y){if(!U)throw new bb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!Y.isBoundTo(U))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.mtSerialNumber + "; mt " + U.serialNumber);}pa={};for(na in this.unboundServiceTokens){ra=this.unboundServiceTokens[na];pa[ra.uniqueKey()]=ra;}if(U && (na=this.mtServiceTokens[U.serialNumber]))for(var Ba in na){ra=na[Ba];ra.isUserIdTokenBound() || (pa[Ba]=ra);}if(Y && (Y=this.uitServiceTokens[Y.serialNumber]))for(var ta in Y){Ba=Y[ta];Ba.isBoundTo(U) && (pa[ta]=Ba);}U=[];for(var oa in pa){U.push(pa[oa]);}return U;},removeServiceTokens:function(U,Y,pa){var na,ra,Ba;if(pa && Y && !pa.isBoundTo(Y))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + pa.mtSerialNumber + "; mt " + Y.serialNumber);!U || Y || pa || Object.keys(this.unboundServiceTokens).forEach(function(ta){this.unboundServiceTokens[ta].name == U && delete this.unboundServiceTokens[ta];},this);if(Y && !pa && (na=this.mtServiceTokens[Y.serialNumber])){Ba=Object.keys(na);Ba.forEach(function(ta){var oa;oa=na[ta];U && oa.name != U || delete na[ta];},this);this.mtServiceTokens[Y.serialNumber]=na;}pa && (ra=this.uitServiceTokens[pa.serialNumber]) && (Y=Object.keys(ra),Y.forEach(function(ta){var oa;oa=ra[ta];U && oa.name != U || delete ra[ta];},this),this.uitServiceTokens[pa.serialNumber]=ra);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);}});})();Ff=Qf.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(U,Y){Y && U && U.length && (U=Db(U),this._contextMap[U]=Y);},getCryptoContext:function(U){return U && U.length?(U=Db(U),this._contextMap[U] || null):null;},removeCryptoContext:function(U){U && U.length && (U=Db(U),delete this._contextMap[U]);}});Af=If.extend({init:function Ba(Y,pa,na,ra){Ba.base.call(this,Y);Object.defineProperties(this,{_kde:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:na,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Y,pa){if(!(pa instanceof lc))throw new vb("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.identity != this.localIdentity)throw new xc(V.ENTITY_NOT_FOUND,"mgk " + pa.identity);return new zd(Y,this.localIdentity,this._kde,this._kdh,this._kdw);}});Yf=Jf.extend({init:function ta(pa,na,ra,Ba){ta.base.call(this,pa);Object.defineProperties(this,{_kpe:{value:na,writable:!1,enumerable:!1,configurable:!1},_kph:{value:ra,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(pa,na){if(!(na instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.identity != this.localIdentity)throw new xc(V.ENTITY_NOT_FOUND,"psk " + na.identity);return new zd(pa,this.localIdentity,this._kpe,this._kph,this._kpw);}});$f=zf.extend({init:function aa(na,ra,Ba,ta,oa,W){aa.base.call(this);this._log=na;this._esn=ra;this._keyRequestData=Ba;this._createKeyRequestData=ta;this._systemKeyName=oa;this._systemKeyWrapFormat=W;},setCryptoContext:function oa(ra,Ba,ta){var W;W=this;W._log.trace("Adding MasterToken",{SequenceNumber:ra.sequenceNumber,SerialNumber:ra.serialNumber,Expiration:ra.expiration.getTime()});oa.base.call(this,ra,Ba);!ta && (ra=W._createKeyRequestData) && (W._log.trace("Generating new keyx request data"),ra().then(function(aa){W._keyRequestData=aa;},function(aa){W._log.error("Unable to generate new keyx request data","" + aa);}));},addUserIdToken:function oa(Ba,ta){this._log.trace("Adding UserIdToken",{UserId:Ba,SerialNumber:ta.serialNumber,MTSerialNumber:ta.mtSerialNumber,Expiration:ta.expiration.getTime()});oa.base.call(this,Ba,ta);},addServiceTokens:function oa(ta){oa.base.call(this,ta.filter(function(W){return !Zf[W.name];}));},getUserIdTokenKeys:function(){var ta,oa;ta=[];for(oa in this.userIdTokens){ta.push(oa);}return ta;},rekeyUserIdToken:function(ta,oa){this.userIdTokens[ta] && (this.userIdTokens[oa]=this.userIdTokens[ta],delete this.userIdTokens[ta]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ta){var oa;oa=this;Ka(ta,function(){var W;W=oa.getMasterToken();W?oa.getKeysForStore(W,{result:function(aa){Ka(ta,function(){var ca,ka,Ga;ca=oa.userIdTokens;ka=Object.keys(ca).map(function(Ca){var Oa;Oa=ca[Ca];return {userId:Ca,userIdTokenJSON:ca[Ca].toJSON(),serviceTokenJSONList:oa.getServiceTokens(W,Oa).map(Cf)};});aa.esn=oa._esn;aa.masterTokenJSON=W.toJSON();aa.userList=ka;Ga=oa._keyRequestData.storeData;Ga && Object.keys(Ga).forEach(function(Ca){aa[Ca]=Ga[Ca];});return aa;});},timeout:ta.timeout,error:ta.error}):ta.result(null);});},getKeysForStore:function(ta,oa){var W;W=this;Ka(oa,function(){var aa;aa=W.getCryptoContext(ta);aa={encryptionKey:aa.encryptionKey,hmacKey:aa.hmacKey};if(aa.encryptionKey && aa.hmacKey){if(W._systemKeyWrapFormat)W.wrapKeysWithSystemKey(aa,oa);else return aa;}else throw new bb(V.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ta,oa){var W;W=this;ue(this._systemKeyName,{result:function(aa){Ka(oa,function(){var ca,ka,Ga,Ca;ca=ta.encryptionKey;ka=ta.hmacKey;Ga=ca[dd];Ca=ka[dd];if(Ga && Ca)return {wrappedEncryptionKey:Ga,wrappedHmacKey:Ca};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(W._systemKeyWrapFormat,ca,aa,aa.algorithm),Jb.wrapKey(W._systemKeyWrapFormat,ka,aa,aa.algorithm)]);}).then(function(Oa){Ga=Db(Oa[0]);ca[dd]=Ga;Ca=Db(Oa[1]);ka[dd]=Ca;oa.result({wrappedEncryptionKey:Ga,wrappedHmacKey:Ca});}).catch(function(Oa){oa.error(new bb(V.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Oa));});});},timeout:oa.timeout,error:oa.error});},unwrapKeysWithSystemKey:function(ta,oa){var W;W=this;ue(this._systemKeyName,{result:function(aa){Ka(oa,function(){var ca,ka;ca=Fb(ta.wrappedEncryptionKey);ka=Fb(ta.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(W._systemKeyWrapFormat,ca,aa,aa.algorithm,rc,!1,Ic),Jb.unwrapKey(W._systemKeyWrapFormat,ka,aa,aa.algorithm,sc,!1,Qc)]);}).then(function(Ga){var Ca;Ca=Ga[0];Ga=Ga[1];Ca[dd]=ta.wrappedEncryptionKey;Ga[dd]=ta.wrappedHmacKey;oa.result({encryptionKey:Ca,hmacKey:Ga});}).catch(function(Ga){oa.error(new bb(V.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ga));});});},timeout:oa.timeout,error:oa.error});},loadStoreState:function(ta,oa,W,aa){var Ga,Ca;function ca(Oa,Ra){var ia;try{ia=W.userList.slice();}catch(va){}ia?(function xa(){var Ha;Ha=ia.shift();Ha?Sc(oa,Ha.userIdTokenJSON,Oa,{result:function(Aa){try{Ga.addUserIdToken(Ha.userId,Aa);ka(Oa,Aa,Ha.serviceTokenJSONList,{result:xa,timeout:xa,error:xa});}catch(Na){xa();}},timeout:xa,error:xa}):Ra.result();})():Ra.result();}function ka(Oa,Ra,ia,va){var xa,Ha;try{xa=ia.slice();}catch(Aa){}if(xa){Ha=Ga.getCryptoContext(Oa);(function Na(){var Da;Da=xa.shift();Da?Fd(oa,Da,Oa,Ra,Ha,{result:function(Ua){Ga.addServiceTokens([Ua]);Na();},timeout:function(){Na();},error:function(){Na();}}):va.result();})();}else va.result();}Ga=this;Ca=Ga._log;W.esn != Ga._esn?(Ca.error("Esn mismatch, starting fresh"),aa.error()):(function(Oa){var va,xa,Ha,Aa;function Ra(){var Na;if(!va && xa && Ha && Aa){va=!0;Na=new gc(oa,xa,ta.esn,{rawKey:Ha},{rawKey:Aa});Ga.setCryptoContext(xa,Na,!0);Oa.result(xa);}}function ia(Na,Da){Ca.error(Na,Da && "" + Da);va || (va=!0,Oa.error());}W.masterTokenJSON?(Rc(oa,W.masterTokenJSON,{result:function(Na){xa=Na;Ra();},timeout:function(){ia("Timeout parsing MasterToken");},error:function(Na){ia("Error parsing MasterToken",Na);}}),Ga._systemKeyWrapFormat?Ga.unwrapKeysWithSystemKey(W,{result:function(Na){Ha=Na.encryptionKey;Aa=Na.hmacKey;Ra();},timeout:function(){ia("Timeout unwrapping keys");},error:function(Na){ia("Error unwrapping keys",Na);}}):Promise.resolve().then(function(){return Jb.encrypt({name:rc.name,iv:new Uint8Array(16)},W.encryptionKey,new Uint8Array(1));}).then(function(Na){Ha=W.encryptionKey;}).catch(function(Na){ia("Error loading encryptionKey");}).then(function(){return Jb.sign(sc,W.hmacKey,new Uint8Array(1));}).then(function(Na){Aa=W.hmacKey;Ra();}).catch(function(Na){ia("Error loading hmacKey");})):ia("Persisted store is corrupt");})({result:function(Oa){ca(Oa,aa);},timeout:aa.timeout,error:aa.error});}});Zf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};dd="$netflix$msl$wrapsys";ag=Xf.extend({init:function(ta,oa,W,aa,ca,ka){var Ga,Ca;Ga=new kd([Nc.LZW]);Ca=new Lf();Ca.addPublicKey(oa,W);aa[Ob.RSA]=new Kf(Ca);oa={};oa[ac.EMAIL_PASSWORD]=new Uf();oa[ac.NETFLIXID]=new Tf();oa[ac.MDX]=new tf();oa[ac.SSO]=new Vf();oa[ac.SWITCH_PROFILE]=new Wf();ta={_mslCryptoContext:{value:new Hf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ca,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:aa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ka,writable:!1,enumerable:!1,configurable:!1},_store:{value:ta,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ta);},getTime:function(){return Date.now();},getRandom:function(){return new Fe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ta,oa){oa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ta){return this._entityAuthFactories[ta];},getUserAuthenticationFactory:function(ta){return this._userAuthFactories[ta];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ta){return this._keyExchangeFactories.filter(function(oa){return oa.scheme == ta;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});we=nf.extend({init:function(ta,oa,W,aa){this._log=ta;this._mslContext=oa;this._mslRequest=W;this._keyRequestData=aa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ta,oa,W,aa){var ca,ka;ca=this._mslRequest;ka=this._mslContext;Ka(aa,function(){var Ga,Ca;if(ta || !ca.shouldSendUserAuthData)return null;if(ca.token){ca.email?Ga=new vf(ca.email,ca.password):ca.netflixId && (Ga=new wf(ca.netflixId,ca.secureNetflixId));Ca="undefined" === typeof ca.profileGuid?null:ca.profileGuid;return new pd(ca.mechanism,Sb(ca.token),Ga,Ca);}return ca.email?new nd(ca.email,ca.password):ca.netflixId?new Vc(ca.netflixId,ca.secureNetflixId):ca.mdxControllerToken?(Ga=new od("regpairrequest",ca.mdxNonce,ca.mdxEncryptedPinB64,ca.mdxSignature).getEncoding(),new cd(ka,ca.mdxPin,ca.mdxControllerToken,Ga,ca.mdxSignature)):ca.useNetflixUserAuthData?new Vc():ca.profileGuid?(Ga=ca.userId,Ga=ka.getMslStore().userIdTokens[Ga],new qd(Ga,ca.profileGuid)):W && ca.sendUserAuthIfRequired?new Vc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ta){ta.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ta,oa,W){var aa,ca,ka,Ga,Ca,Oa;aa=this._log;ca=(this._mslRequest.serviceTokens || []).slice();ka=this._mslContext;oa=ka.getMslStore();Ga=ta.builder.getMasterToken();Ca=this.getUserId();Oa=oa.getUserIdToken(Ca);(function ia(){var va;va=ca.shift();if(va)try{va instanceof Kc?(ta.addPrimaryServiceToken(va),ia()):Fd(ka,va,Ga,Oa,null,{result:function(xa){try{ta.addPrimaryServiceToken(xa);}catch(Ha){aa.warn("Exception adding service token","" + Ha);}ia();},timeout:function(){aa.warn("Timeout parsing service token");ia();},error:function(xa){aa.warn("Error parsing service token","" + xa);ia();}});}catch(xa){aa.warn("Exception processing service token","" + xa);ia();}else W.result(!0);})();},write:function(ta,oa,W){var aa;aa=Sb(this._mslRequest.body);ta.write(aa,0,aa.length,oa,{result:function(ca){ca != aa.length?W.error(new Wb("Not all data was written to output.")):ta.flush(oa,{result:function(){W.result(!0);},timeout:function(){W.timeout();},error:function(ka){W.error(ka);}});},timeout:function(){W.timeout();},error:function(ca){W.error(ca);}});},getDebugContext:function(){this._dc || (this._dc=new bg(this._log,this._mslRequest));return this._dc;}});bg=Sf.extend({init:function(ta,oa){this._log=ta;this._mslRequest=oa;},sentHeader:function(ta){this._log.trace("Sent MSL header",ve(this._mslRequest,ta),ta.serviceTokens && ta.serviceTokens.map(Df).join("\n"));},receivedHeader:function(ta){var oa,W;oa=ve(this._mslRequest,ta);W=ta.errorCode;W?this._log.warn("Received MSL error header",oa,{errorCode:W,errorMessage:ta.errorMessage,internalCode:ta.internalCode}):this._log.trace("Received MSL header",oa);}});Bf={PSK:function(ta){return Qd(ta,Ob.PSK,Yf,tc,ge,Dd);},MGK:function(ta){return Qd(ta,Ob.MGK,Af,lc,ge,Dd);},MGK_WITH_FALLBACK:function(ta){var oa,W;switch(ta.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":oa="PSK";break;default:oa="MGK";}W=Bf[oa];if(!W)throw new bb(V.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + oa);return W(ta);},MGK_JWE:function(ta){return Qd(ta,Ob.MGK,Af,lc,Qe,fe);},JWK_RSA:function(ta){return Rd(ta,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ed.JWK_RSA);},JWK_RSAES:function(ta){return Rd(ta,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ed.JWK_RSAES);},JWEJS_RSA:function(ta){return Rd(ta,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ed.JWEJS_RSA);}};pb.netflix=pb.netflix || ({});pb.netflix.msl={createMslClient:function(ta,oa){var W,aa,ca,ka,Ga;W=ta.log;Ga=ta.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Rb && Rb.generateKey && Rb.importKey && Rb.unwrapKey))throw new bb(V.INTERNAL_EXCEPTION,"No WebCrypto");bc=Rb.generateKey({name:"AES-CBC",length:128},!0,Ic).then?ud.V2014_02:ud.LEGACY;Ga("mslisik");return Jb.importKey("spki",ta.serverIdentityKeyData,Ge,!1,["verify"]);}).then(function(Ca){return new Promise(function(Oa,Ra){Mc(Ca,{result:Oa,error:function(){Ra(new bb(V.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ca){aa=Ca;if(Ca=Bf[ta.authenticationType])return (Ga("mslcc"),Ca(ta));throw new bb(V.INTERNAL_EXCEPTION,"Invalid authenticationType: " + ta.authenticationType);}).then(function(Ca){var Oa;ca=new $f(W,ta.esn,Ca.keyRequestData,Ca.createKeyRequestData,ta.authenticationKeyNames.s,ta.systemKeyWrapFormat);ka=new ag(ca,ta.serverIdentityId,aa,Ca.entityAuthFactories,Ca.entityAuthData,Ca.keyExchangeFactories);Oa=ta.storeState;if(Oa)return (Ga("mslss"),W.info("Loading store state"),new Promise(function(Ra,ia){ca.loadStoreState(ta,ka,Oa,{result:Ra,timeout:Ra,error:Ra});}));W.info("No store state, starting fresh");}).then(function(){var Ca;Ca=new of();Ga("msldone");oa.result(new Ef(W,Ca,ka,ca,ta.ErrorSubCodes));}).catch(function(Ca){oa.error(Ca);});},IHttpLocation:Of,MslIoException:Wb};(function(){var $a,Va,ib,mb,ob,rb,sb,zb,xb;function ta(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function oa(r,b){var a,f;if(b)a:{a=Va;r=r.split(".");for(var c=0;c < r.length - 1;c++){f=r[c];if(!((f in a)))break a;a=a[f];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && $a(a,r,{configurable:!0,writable:!0,value:b});}}function W(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function aa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:ta(r)};}function ca(r){if(!(r instanceof Array)){r=aa(r);for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}r=a;}return r;}function ka(r,b){var c;r.prototype=ib(b.prototype);r.prototype.constructor=r;if(zb)zb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.L8b=b.prototype;}function Ga(){this.kU=!1;this.aD=null;this.Sua=void 0;this.rG=1;this.hSa=this.Qob=0;this.qR=null;}function Ca(r){if(r.kU)throw new TypeError("Generator is already running");r.kU=!0;}function Oa(r){this.lf=new Ga();this.ZOb=r;}function Ra(r,b){var a;Ca(r.lf);a=r.lf.aD;if(a)return ia(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.lf.return);r.lf.return(b);return va(r);}function ia(r,b,a,c){var f,l;try{f=b.call(r.lf.aD,a);if(!(f instanceof Object))throw new TypeError("Iterator result " + f + " is not an object");if(!f.done)return (r.lf.kU=!1,f);l=f.value;}catch(m){return (r.lf.aD=null,r.lf.eX(m),va(r));}r.lf.aD=null;c.call(r.lf,l);return va(r);}function va(r){var b;for(;r.lf.rG;){try{b=r.ZOb(r.lf);if(b)return (r.lf.kU=!1,{value:b.value,done:!1});}catch(a){r.lf.Sua=void 0;r.lf.eX(a);}}r.lf.kU=!1;if(r.lf.qR){b=r.lf.qR;r.lf.qR=null;if(b.qFb)throw b.RK;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function xa(r){this.next=function(b){return r.dV(b);};this.throw=function(b){return r.eX(b);};this.return=function(b){return Ra(r,b);};this[Symbol.iterator]=function(){return this;};}function Ha(r,b){b=new xa(new Oa(b));zb && r.prototype && zb(b,r.prototype);return b;}function Aa(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Na(r,b){var a,c,f;r instanceof String && (r+="");a=0;c=!1;f={next:function(){var l;if(!c && a < r.length){l=a++;return {value:b(l,r[l]),done:!1};}c=!0;return {done:!0,value:void 0};}};f[Symbol.iterator]=function(){return f;};return f;}function Da(r,b,a){var l;r instanceof String && (r=String(r));for(var c=r.length,f=0;f < c;f++){l=r[f];if(b.call(a,l,f,r))return {Lla:f,VC:l};}return {Lla:-1,VC:void 0};}function Ua(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}$a="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Va=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof pb && pb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);oa("Symbol",function(r){var c;function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (f || "") + "_" + c++,f);}function a(f,l){this.Y7a=f;$a(this,"description",{configurable:!0,writable:!0,value:l});}if(r)return r;a.prototype.toString=function(){return this.Y7a;};c=0;return b;});oa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Va[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && $a(c.prototype,r,{configurable:!0,writable:!0,value:function(){return W(ta(this));}});}return r;});ib="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};mb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,f){a=b(a,c);f && Reflect.setPrototypeOf(a,f.prototype);return a;};}return function(a,c,f){void 0 === f && (f=a);f=ib(f.prototype || Object.prototype);return Function.prototype.apply.call(a,f,c) || f;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;ob=sb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}zb=ob;Ga.prototype.dV=function(r){this.Sua=r;};Ga.prototype.eX=function(r){this.qR={RK:r,qFb:!0};this.rG=this.Qob || this.hSa;};Ga.prototype.return=function(r){this.qR={return:r};this.rG=this.hSa;};Oa.prototype.dV=function(r){Ca(this.lf);if(this.lf.aD)return ia(this,this.lf.aD.next,r,this.lf.dV);this.lf.dV(r);return va(this);};Oa.prototype.eX=function(r){Ca(this.lf);if(this.lf.aD)return ia(this,this.lf.aD["throw"],r,this.lf.dV);this.lf.eX(r);return va(this);};oa("Reflect",function(r){return r?r:{};});oa("Reflect.construct",function(){return mb;});oa("Reflect.setPrototypeOf",function(r){return r?r:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});oa("Object.setPrototypeOf",function(r){return r || zb;});xb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var f in c){Aa(c,f) && (r[f]=c[f]);}}return r;};oa("Object.assign",function(r){return r || xb;});oa("Promise",function(r){var f,l;function b(m){var d;this.JN=0;this.qW=void 0;this.vM=[];this.$Wa=!1;d=this.pha();try{m(d.resolve,d.reject);}catch(g){d.reject(g);}}function a(){this.hB=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.VMa=function(m){var d;if(null == this.hB){this.hB=[];d=this;this.WMa(function(){d.Zwb();});}this.hB.push(m);};f=Va.setTimeout;a.prototype.WMa=function(m){f(m,0);};a.prototype.Zwb=function(){var m,g;for(;this.hB && this.hB.length;){m=this.hB;this.hB=[];for(var d=0;d < m.length;++d){g=m[d];m[d]=null;try{g();}catch(h){this.Cmb(h);}}}this.hB=null;};a.prototype.Cmb=function(m){this.WMa(function(){throw m;});};b.prototype.pha=function(){var d,g;function m(h){return function(k){g || (g=!0,h.call(d,k));};}d=this;g=!1;return {resolve:m(this.jRb),reject:m(this.gra)};};b.prototype.jRb=function(m){var d;if(m === this)this.gra(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.mTb(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.iRb(m):this.OSa(m);}};b.prototype.iRb=function(m){var d;d=void 0;try{d=m.then;}catch(g){this.gra(g);return;}"function" == typeof d?this.nTb(d,m):this.OSa(m);};b.prototype.gra=function(m){this.h4a(2,m);};b.prototype.OSa=function(m){this.h4a(1,m);};b.prototype.h4a=function(m,d){if(0 != this.JN)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.JN);this.JN=m;this.qW=d;2 === this.JN && this.NRb();this.$wb();};b.prototype.NRb=function(){var m;m=this;f(function(){var d;if(m.PKb()){d=Va.console;"undefined" !== typeof d && d.error(m.qW);}},1);};b.prototype.PKb=function(){var m,d,g;if(this.$Wa)return !1;m=Va.CustomEvent;d=Va.Event;g=Va.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Va.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.qW;return g(m);};b.prototype.$wb=function(){if(null != this.vM){for(var m=0;m < this.vM.length;++m){l.VMa(this.vM[m]);}this.vM=null;}};l=new a();b.prototype.mTb=function(m){var d;d=this.pha();m.q1(d.resolve,d.reject);};b.prototype.nTb=function(m,d){var g;g=this.pha();try{m.call(d,g.resolve,g.reject);}catch(h){g.reject(h);}};b.prototype.then=function(m,d){var h,k,n;function g(q,p){return "function" == typeof q?function(t){try{h(q(t));}catch(u){k(u);}}:p;}n=new b(function(q,p){h=q;k=p;});this.q1(g(m,h),g(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.q1=function(m,d){var h;function g(){switch(h.JN){case 1:m(h.qW);break;case 2:d(h.qW);break;default:throw Error("Unexpected state: " + h.JN);}}h=this;null == this.vM?l.VMa(g):this.vM.push(g);this.$Wa=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,g){g(m);});};b.race=function(m){return new b(function(d,g){for(var h=aa(m),k=h.next();!k.done;k=h.next()){c(k.value).q1(d,g);}});};b.all=function(m){var d,g;d=aa(m);g=d.next();return g.done?c([]):new b(function(h,k){var q,p;function n(t){return function(u){q[t]=u;p--;0 == p && h(q);};}q=[];p=0;do {q.push(void 0);p++;c(g.value).q1(n(q.length - 1),k);g=d.next();}while(!g.done);});};return b;});oa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push([c,b[c]]);}return a;};});oa("Array.prototype.keys",function(r){return r?r:function(){return Na(this,function(b){return b;});};});oa("Array.prototype.find",function(r){return r?r:function(b,a){return Da(this,b,a).VC;};});oa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});oa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,f,l;c=this;c instanceof String && (c=String(c));f=c.length;a=a || 0;for(0 > a && (a=Math.max(a + f,0));a < f;a++){l=c[a];if(l === b || Object.is(l,b))return !0;}return !1;};});oa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Ua(this,b,"includes").indexOf(b,a || 0);};});oa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});oa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});oa("Array.prototype.entries",function(r){return r?r:function(){return Na(this,function(b,a){return [b,a];});};});oa("WeakMap",function(r){var m,d;function b(g){this.ZT=(d+=Math.random() + 1).toString();if(g){g=aa(g);for(var h;!(h=g.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(g){var h;h=typeof g;return "object" === h && null !== g || "function" === h;}function f(g){var h;if(!Aa(g,m)){h=new a();$a(g,m,{value:h});}}function l(g){var h;h=Object[g];h && (Object[g]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && f(k);return h(k);});}if((function(){var g,h,k;if(!r || !Object.seal)return !1;try{g=Object.seal({});h=Object.seal({});k=new r([[g,2],[h,3]]);if(2 != k.get(g) || 3 != k.get(h))return !1;k.delete(g);k.set(h,4);return !k.has(g) && 4 == k.get(h);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();l("freeze");l("preventExtensions");l("seal");d=0;b.prototype.set=function(g,h){if(!c(g))throw Error("Invalid WeakMap key");f(g);if(!Aa(g,m))throw Error("WeakMap key fail: " + g);g[m][this.ZT]=h;return this;};b.prototype.get=function(g){return c(g) && Aa(g,m)?g[m][this.ZT]:void 0;};b.prototype.has=function(g){return c(g) && Aa(g,m) && Aa(g[m],this.ZT);};b.prototype.delete=function(g){return c(g) && Aa(g,m) && Aa(g[m],this.ZT)?delete g[m][this.ZT]:!1;};return b;});oa("Map",function(r){var l,m;function b(){var d;d={};return d.lz=d.next=d.head=d;}function a(d,g){var h;h=d.zy;return W(function(){if(h){for(;h.head != d.zy;){h=h.lz;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:g(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,g){var h,k,n;h=g && typeof g;"object" == h || "function" == h?l.has(g)?h=l.get(g):(h="" + ++m,l.set(g,h)):h="p_" + g;k=d.Sx[h];if(k && Aa(d.Sx,h))for(d=0;d < k.length;d++){n=k[d];if(g !== g && n.key !== n.key || g === n.key)return {id:h,list:k,index:d,entry:n};}return {id:h,list:k,index:-1,entry:void 0};}function f(d){this.Sx={};this.zy=b();this.size=0;if(d){d=aa(d);for(var g;!(g=d.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var d,g,h,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});g=new r(aa([[d,"s"]]));if("s" != g.get(d) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;h=g.entries();k=h.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=h.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;l=new WeakMap();f.prototype.set=function(d,g){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.Sx[h.id]=[]);h.entry?h.entry.value=g:(h.entry={next:this.zy,lz:this.zy.lz,head:this.zy,key:d,value:g},h.list.push(h.entry),this.zy.lz.next=h.entry,this.zy.lz=h.entry,this.size++);return this;};f.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Sx[d.id],d.entry.lz.next=d.entry.next,d.entry.next.lz=d.entry.lz,d.entry.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.Sx={};this.zy=this.zy.lz=b();this.size=0;};f.prototype.has=function(d){return ! !c(this,d).entry;};f.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};f.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};f.prototype.keys=function(){return a(this,function(d){return d.key;});};f.prototype.values=function(){return a(this,function(d){return d.value;});};f.prototype.forEach=function(d,g){for(var h=this.entries(),k;!(k=h.next()).done;){k=k.value;d.call(g,k[1],k[0],this);}};f.prototype[Symbol.iterator]=f.prototype.entries;m=0;return f;});oa("Set",function(r){function b(a){this.yv=new Map();if(a){a=aa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.yv.size;}if((function(){var a,c,f,l;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(aa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;f=c.entries();l=f.next();if(l.done || l.value[0] != a || l.value[1] != a)return !1;l=f.next();return l.done || l.value[0] == a || 4 != l.value[0].x || l.value[1] != l.value[0]?!1:f.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.yv.set(a,a);this.size=this.yv.size;return this;};b.prototype.delete=function(a){a=this.yv.delete(a);this.size=this.yv.size;return a;};b.prototype.clear=function(){this.yv.clear();this.size=0;};b.prototype.has=function(a){return this.yv.has(a);};b.prototype.entries=function(){return this.yv.entries();};b.prototype.values=function(){return this.yv.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var f;f=this;this.yv.forEach(function(l){return a.call(c,l,l,f);});};return b;});oa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Ua(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var f=b.length;0 < f && 0 < a;){if(c[--a] != b[--f])return !1;}return 0 >= f;};});oa("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Ua(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});oa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});oa("Array.prototype.values",function(r){return r?r:function(){return Na(this,function(b,a){return a;});};});oa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push(b[c]);}return a;};});oa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,f,l;c=Ua(this,b,"startsWith");b+="";f=c.length;l=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < l && a < f;){if(c[a++] != b[m++])return !1;}return m >= l;};});oa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Da(this,b,a).Lla;};});oa("String.fromCodePoint",function(r){return r?r:function(b){var f;for(var a="",c=0;c < arguments.length;c++){f=Number(arguments[c]);if(0 > f || 1114111 < f || f !== Math.floor(f))throw new RangeError("invalid_code_point " + f);65535 >= f?a+=String.fromCharCode(f):(f-=65536,a+=String.fromCharCode(f >>> 10 & 1023 | 55296),a+=String.fromCharCode(f & 1023 | 56320));}return a;};});oa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(r){var a;function b(c){var f;if(a[c])return a[c].exports;f=a[c]={Lla:c,yGb:!1,exports:{}};r[c].call(f.exports,f,f.exports,b);f.yGb=!0;return f.exports;}a={};b.G6b=r;b.c=a;b.d=function(c,f,l){b.ZKb(c,f) || Object.defineProperty(c,f,{enumerable:!0,get:l});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,f){var l;f & 1 && (c=b(c));if(f & 8 || f & 4 && "object" === typeof c && c && c.__esModule)return c;l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:c});if(f & 2 && "string" != typeof c)for(var m in c){b.d(l,m,(function(d){return c[d];}).bind(null,m));}return l;};b.n=function(c){var f;f=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(f,"a",f);return f;};b.ZKb=function(c,f){return Object.prototype.hasOwnProperty.call(c,f);};b.p="";return b(b.CRb=532);})([function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(41);b.d1b=r;r=a(535);b.lY=r.lY;r=a(75);b.Lr=r.Lr;b.fj=r.fj;b.Ow=r.Ow;r=a(551);b.Eva=r.Eva;b.ad=r.ad;r=a(552);b.R=r.R;r=a(553);b.u5a=r.u5a;r=a(554);b.QZa=r.QZa;r=a(299);b.l=r.l;b.eaa=r.eaa;r=a(555);b.optional=r.optional;r=a(556);b.Ek=r.Ek;r=a(557);b.oG=r.oG;r=a(558);b.cX=r.cX;r=a(559);b.b1a=r.b1a;r=a(297);b.xaa=r.xaa;r=a(103);b.id=r.id;r=a(88);b.Qq=r.Qq;r=a(302);b.m6a=r.m6a;b.v5a=r.v5a;b.RZa=r.RZa;b.s6a=r.s6a;r=a(130);b.rL=r.rL;a=a(560);b.NZa=a.NZa;},function(r,b,a){var G,J;function c(){c=Object.assign || (function(K){for(var H,L=1,R=arguments.length;L < R;L++){H=arguments[L];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (K[I]=H[I]);}}return K;});return c.apply(this,arguments);}function f(K,H){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,R){L.__proto__=R;}) || (function(L,R){for(var I in R){Object.prototype.hasOwnProperty.call(R,I) && (L[I]=R[I]);}});return f(K,H);}function l(K,H){function L(){this.constructor=K;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");f(K,H);K.prototype=null === H?Object.create(H):(L.prototype=H.prototype,new L());}function m(K,H){var L,R,I;L={};for(R in K){Object.prototype.hasOwnProperty.call(K,R) && 0 > H.indexOf(R) && (L[R]=K[R]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){I=0;for(R=Object.getOwnPropertySymbols(K);I < R.length;I++){0 > H.indexOf(R[I]) && Object.prototype.propertyIsEnumerable.call(K,R[I]) && (L[R[I]]=K[R[I]]);}}return L;}function d(K,H,L,R){var I,Q,N;I=arguments.length;Q=3 > I?H:null === R?R=Object.getOwnPropertyDescriptor(H,L):R;if("object" === typeof Reflect && "function" === typeof Reflect.Qq)Q=Reflect.Qq(K,H,L,R);else for(var M=K.length - 1;0 <= M;M--){if(N=K[M])Q=(3 > I?N(Q):3 < I?N(H,L,Q):N(H,L)) || Q;}return (3 < I && Q && Object.defineProperty(H,L,Q),Q);}function g(K,H){return function(L,R){H(L,R,K);};}function h(K,H){if("object" === typeof Reflect && "function" === typeof Reflect.yd)return Reflect.yd(K,H);}function k(K,H,L,R){function I(Q){return Q instanceof L?Q:new L(function(N){N(Q);});}return new (L || (L=Promise))(function(Q,N){function M(ea){try{S(R.next(ea));}catch(qa){N(qa);}}function P(ea){try{S(R["throw"](ea));}catch(qa){N(qa);}}function S(ea){ea.done?Q(ea.value):I(ea.value).then(M,P);}S((R=R.apply(K,H || [])).next());});}function n(K,H){var I,Q,N,M,P;function L(S){return function(ea){return R([S,ea]);};}function R(S){if(Q)throw new TypeError("Generator is already executing.");for(;I;){try{if((Q=1,N && (M=S[0] & 2?N["return"]:S[0]?N["throw"] || ((M=N["return"]) && M.call(N),0):N.next) && !(M=M.call(N,S[1])).done))return M;if((N=0,M))S=[S[0] & 2,M.value];switch(S[0]){case 0:case 1:M=S;break;case 4:return (I.label++,{value:S[1],done:!1});case 5:I.label++;N=S[1];S=[0];continue;case 7:S=I.Qm.pop();I.gn.pop();continue;default:if(!(M=I.gn,M=0 < M.length && M[M.length - 1]) && (6 === S[0] || 2 === S[0])){I=0;continue;}if(3 === S[0] && (!M || S[1] > M[0] && S[1] < M[3]))I.label=S[1];else if(6 === S[0] && I.label < M[1])(I.label=M[1],M=S);else if(M && I.label < M[2])(I.label=M[2],I.Qm.push(S));else {M[2] && I.Qm.pop();I.gn.pop();continue;}}S=H.call(K,I);}catch(ea){S=[6,ea];N=0;}finally{Q=M=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}I={label:0,$d:function(){if(M[0] & 1)throw M[1];return M[1];},gn:[],Qm:[]};return (P={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (P[Symbol.iterator]=function(){return this;}),P);}function q(K,H){for(var L in K){"default" === L || Object.prototype.hasOwnProperty.call(H,L) || G(H,K,L);}}function p(K){var H,L,R;H="function" === typeof Symbol && Symbol.iterator;L=H && K[H];R=0;if(L)return L.call(K);if(K && "number" === typeof K.length)return {next:function(){K && R >= K.length && (K=void 0);return {value:K && K[R++],done:!K};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(K,H){var L,R,I;L="function" === typeof Symbol && K[Symbol.iterator];if(!L)return K;K=L.call(K);I=[];try{for(;(void 0 === H || 0 < H--) && !(R=K.next()).done;){I.push(R.value);}}catch(N){var Q;Q={error:N};}finally{try{R && !R.done && (L=K["return"]) && L.call(K);}finally{if(Q)throw Q.error;}}return I;}function u(){for(var K=[],H=0;H < arguments.length;H++){K=K.concat(t(arguments[H]));}return K;}function v(){var R;for(var K=0,H=0,L=arguments.length;H < L;H++){K+=arguments[H].length;}K=Array(K);R=0;for(H=0;H < L;H++){for(var I=arguments[H],Q=0,N=I.length;Q < N;(Q++,R++)){K[R]=I[Q];}}return K;}function w(K,H,L){if(L || 2 === arguments.length)for(var R=0,I=H.length,Q;R < I;R++){!Q && (R in H) || (Q || (Q=Array.prototype.slice.call(H,0,R)),Q[R]=H[R]);}return K.concat(Q || H);}function x(K){return this instanceof x?(this.VC=K,this):new x(K);}function y(K,H,L){var P,S,ea;function R(qa){P[qa] && (S[qa]=function(wa){return new Promise(function(ua,X){1 < ea.push([qa,wa,ua,X]) || I(qa,wa);});});}function I(qa,wa){var ua;try{ua=P[qa](wa);ua.value instanceof x?Promise.resolve(ua.value.VC).then(Q,N):M(ea[0][2],ua);}catch(X){M(ea[0][3],X);}}function Q(qa){I("next",qa);}function N(qa){I("throw",qa);}function M(qa,wa){(qa(wa),ea.shift(),ea.length) && I(ea[0][0],ea[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");P=L.apply(K,H || []);ea=[];return (S={},R("next"),R("throw"),R("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function A(K){var L,R;function H(I,Q){L[I]=K[I]?function(N){return (R=!R)?{value:x(K[I](N)),done:"return" === I}:Q?Q(N):N;}:Q;}return (L={},H("next"),H("throw",function(I){throw I;}),H("return"),L[Symbol.iterator]=function(){return this;},L);}function z(K){var R,I;function H(Q){I[Q]=K[Q] && (function(N){return new Promise(function(M,P){N=K[Q](N);L(M,P,N.done,N.value);});});}function L(Q,N,M,P){Promise.resolve(P).then(function(S){Q({value:S,done:M});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=K[Symbol.asyncIterator];return R?R.call(K):(K="function" === typeof p?p(K):K[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(K,H){Object.defineProperty?Object.defineProperty(K,"raw",{value:H}):K.raw=H;return K;}function D(K){var H;if(K && K.__esModule)return K;H={};if(null != K)for(var L in K){"default" !== L && Object.prototype.hasOwnProperty.call(K,L) && G(H,K,L);}J(H,K);return H;}function E(K){return K && K.__esModule?K:{default:K};}function F(K,H,L,R){if("a" === L && !R)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?K !== H || !R:!H.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === L?R:"a" === L?R.call(K):R?R.value:H.get(K);}function C(K,H,L,R,I){if("m" === R)throw new TypeError("Private method is not writable");if("a" === R && !I)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?K !== H || !I:!H.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === R?I.call(K,L):I?I.value=L:H.set(K,L),L);}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return G;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return p;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__spreadArray",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return A;});a.d(b,"__asyncValues",function(){return z;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});G=Object.create?function(K,H,L,R){void 0 === R && (R=L);Object.defineProperty(K,R,{enumerable:!0,get:function(){return H[L];}});}:function(K,H,L,R){void 0 === R && (R=L);K[R]=H[L];};J=Object.create?function(K,H){Object.defineProperty(K,"default",{enumerable:!0,value:H});}:function(K,H){K["default"]=H;};},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,H=arguments.length;K < H;K++){J=arguments[K];for(var L in J){Object.prototype.hasOwnProperty.call(J,L) && (G[L]=J[L]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,H){K.__proto__=H;}) || (function(K,H){for(var L in H){H.hasOwnProperty(L) && (K[L]=H[L]);}});return f(G,J);}function l(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function m(G,J){var K,H,L;K={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > J.indexOf(H) && (K[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){L=0;for(H=Object.getOwnPropertySymbols(G);L < H.length;L++){0 > J.indexOf(H[L]) && Object.prototype.propertyIsEnumerable.call(G,H[L]) && (K[H[L]]=G[H[L]]);}}return K;}function d(G,J,K,H){var L,R,I;L=arguments.length;R=3 > L?J:null === H?H=Object.getOwnPropertyDescriptor(J,K):H;if("object" === typeof Reflect && "function" === typeof Reflect.Qq)R=Reflect.Qq(G,J,K,H);else for(var Q=G.length - 1;0 <= Q;Q--){if(I=G[Q])R=(3 > L?I(R):3 < L?I(J,K,R):I(J,K)) || R;}return (3 < L && R && Object.defineProperty(J,K,R),R);}function g(G,J){return function(K,H){J(K,H,G);};}function h(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.yd)return Reflect.yd(G,J);}function k(G,J,K,H){function L(R){return R instanceof K?R:new K(function(I){I(R);});}return new (K || (K=Promise))(function(R,I){function Q(P){try{M(H.next(P));}catch(S){I(S);}}function N(P){try{M(H["throw"](P));}catch(S){I(S);}}function M(P){P.done?R(P.value):L(P.value).then(Q,N);}M((H=H.apply(G,J || [])).next());});}function n(G,J){var L,R,I,Q,N;function K(M){return function(P){return H([M,P]);};}function H(M){if(R)throw new TypeError("Generator is already executing.");for(;L;){try{if((R=1,I && (Q=M[0] & 2?I["return"]:M[0]?I["throw"] || ((Q=I["return"]) && Q.call(I),0):I.next) && !(Q=Q.call(I,M[1])).done))return Q;if((I=0,Q))M=[M[0] & 2,Q.value];switch(M[0]){case 0:case 1:Q=M;break;case 4:return (L.label++,{value:M[1],done:!1});case 5:L.label++;I=M[1];M=[0];continue;case 7:M=L.Qm.pop();L.gn.pop();continue;default:if(!(Q=L.gn,Q=0 < Q.length && Q[Q.length - 1]) && (6 === M[0] || 2 === M[0])){L=0;continue;}if(3 === M[0] && (!Q || M[1] > Q[0] && M[1] < Q[3]))L.label=M[1];else if(6 === M[0] && L.label < Q[1])(L.label=Q[1],Q=M);else if(Q && L.label < Q[2])(L.label=Q[2],L.Qm.push(M));else {Q[2] && L.Qm.pop();L.gn.pop();continue;}}M=J.call(G,L);}catch(P){M=[6,P];I=0;}finally{R=Q=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}L={label:0,$d:function(){if(Q[0] & 1)throw Q[1];return Q[1];},gn:[],Qm:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(G,J,K,H){void 0 === H && (H=K);G[H]=J[K];}function p(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function t(G){var J,K,H;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];H=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(G,J){var K,H,L;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);L=[];try{for(;(void 0 === J || 0 < J--) && !(H=G.next()).done;){L.push(H.value);}}catch(I){var R;R={error:I};}finally{try{H && !H.done && (K=G["return"]) && K.call(G);}finally{if(R)throw R.error;}}return L;}function v(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(u(arguments[J]));}return G;}function w(){var H;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);H=0;for(J=0;J < K;J++){for(var L=arguments[J],R=0,I=L.length;R < I;(R++,H++)){G[H]=L[R];}}return G;}function x(G){return this instanceof x?(this.VC=G,this):new x(G);}function y(G,J,K){var N,M,P;function H(S){N[S] && (M[S]=function(ea){return new Promise(function(qa,wa){1 < P.push([S,ea,qa,wa]) || L(S,ea);});});}function L(S,ea){var qa;try{qa=N[S](ea);qa.value instanceof x?Promise.resolve(qa.value.VC).then(R,I):Q(P[0][2],qa);}catch(wa){Q(P[0][3],wa);}}function R(S){L("next",S);}function I(S){L("throw",S);}function Q(S,ea){(S(ea),P.shift(),P.length) && L(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);P=[];return (M={},H("next"),H("throw"),H("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function A(G){var K,H;function J(L,R){K[L]=G[L]?function(I){return (H=!H)?{value:x(G[L](I)),done:"return" === L}:R?R(I):I;}:R;}return (K={},J("next"),J("throw",function(L){throw L;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function z(G){var H,L;function J(R){L[R]=G[R] && (function(I){return new Promise(function(Q,N){I=G[R](I);K(Q,N,I.done,I.value);});});}function K(R,I,Q,N){Promise.resolve(N).then(function(M){R({value:M,done:Q});},I);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof t?t(G):G[Symbol.iterator](),L={},J("next"),J("throw"),J("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return A;});a.d(b,"__asyncValues",function(){return z;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Pr=b.Jya=b.Iya=b.A$=b.pab=b.qab=b.Hya=b.Eya=b.oab=b.aCa=b.gZ=b.YY=b.Gya=b.L=b.M=void 0;(function(f){f[f.im=7001]="UNKNOWN";f[f.ffb=7002]="UNHANDLED_EXCEPTION";f[f.ibb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";f[f.Rza=7010]="INIT_ASYNCCOMPONENT";f[f.gAa=7011]="INIT_HTTP";f[f.ebb=7014]="INIT_BADMOVIEID";f[f.wbb=7016]="INIT_NETFLIXID_MISSING";f[f.vbb=7017]="INIT_NETFLIXID_INVALID";f[f.ybb=7018]="INIT_SECURENETFLIXID_MISSING";f[f.hAa=7020]="INIT_PLAYBACK_LOCK";f[f.iAa=7022]="INIT_SESSION_LOCK";f[f.xbb=7029]="INIT_POSTAUTHORIZE";f[f.S0b=7031]="INIT_HEADER_MEDIA";f[f.F0b=7032]="HEADER_MISSING";f[f.E0b=7033]="HEADER_FRAGMENTS_MISSING";f[f.zbb=7034]="INIT_TIMEDTEXT_TRACK";f[f.T0b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";f[f.U0b=7036]="INIT_STREAMS_NOT_AVAILABLE";f[f.f8a=7037]="ASE_SESSION_ERROR";f[f.e8a=7038]="ASE_SEEK_THREW";f[f.g8a=7039]="ASE_SKIPPED_THREW";f[f.sbb=7041]="INIT_CORE_OBJECTS1";f[f.tbb=7042]="INIT_CORE_OBJECTS2";f[f.ubb=7043]="INIT_CORE_OBJECTS3";f[f.P0b=7051]="INIT_COMPONENT_REQUESTQUOTA";f[f.J0b=7052]="INIT_COMPONENT_FILESYSTEM";f[f.$za=7053]="INIT_COMPONENT_STORAGE";f[f.aAa=7054]="INIT_COMPONENT_STORAGELOCK";f[f.K0b=7055]="INIT_COMPONENT_LOGPERSIST";f[f.L0b=7056]="INIT_COMPONENT_NRDDPI";f[f.N0b=7057]="INIT_COMPONENT_PEPPERCRYPTO";f[f.Xza=7058]="INIT_COMPONENT_MAINTHREADMONITOR";f[f.U$=7059]="INIT_COMPONENT_DEVICE";f[f.M0b=7062]="INIT_COMPONENT_NTBA";f[f.Yza=7063]="INIT_COMPONENT_MSL";f[f.gbb=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";f[f.Wza=7066]="INIT_COMPONENT_LOGBLOBBATCHER";f[f.jA=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";f[f.O0b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";f[f.fbb=7069]="INIT_COMPONENT_ACCOUNT";f[f.kbb=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";f[f.mbb=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";f[f.nbb=7072]="INIT_COMPONENT_NRDP_MEDIA";f[f.obb=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";f[f.pbb=7074]="INIT_COMPONENT_NRDP_REGISTRATION";f[f.jbb=7081]="INIT_COMPONENT_NRDP";f[f.lbb=7082]="INIT_COMPONENT_NRDP_DEVICE";f[f.fAa=7083]="INIT_COMPONENT_WEBCRYPTO";f[f.rbb=7084]="INIT_COMPONENT_VIDEO_PREPARER";f[f.R0b=7085]="INIT_CONGESTION_SERVICE";f[f.Vza=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";f[f.bAa=7087]="INIT_COMPONENT_TRACKING_LOG";f[f.Tza=7088]="INIT_COMPONENT_BATTERY_MANAGER";f[f.Sza=7089]="INIT_COMPONENT_ASE";f[f.Q0b=7090]="INIT_COMPONENT_VIDEO_CACHE";f[f.mI=7091]="INIT_COMPONENT_DRM_CACHE";f[f.hbb=7092]="INIT_COMPONENT_DRM";f[f.qbb=7093]="INIT_COMPONENT_PREFETCH_EVENTS";f[f.Uza=7094]="INIT_COMPONENT_FTL";f[f.Zza=7095]="INIT_COMPONENT_PREPARE_MODEL";f[f.cAa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";f[f.dAa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";f[f.eAa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";f[f.naa=7111]="MANIFEST";f[f.q8a=7112]="AUTHORIZE_UNKNOWN";f[f.$bb=7117]="MANIFEST_VERIFY";f[f.Geb=7120]="START";f[f.pI=7121]="LICENSE";f[f.Aba=7122]="RELEASE";f[f.kGa=7123]="STOP";f[f.v0b=7124]="FPSAPPDATA";f[f.baa=7125]="KEEPALIVE";f[f.s_b=7126]="DEACTIVATE";f[f.f3b=7127]="SYNC_DEACTIVATE_LINKS";f[f.qZb=7130]="ACTIVATE";f[f.wdb=7131]="PING";f[f.B1b=7133]="NETFLIXID";f[f.kab=7134]="ENGAGE";f[f.Xbb=7135]="LOGIN";f[f.Neb=7136]="SWITCH_PROFILES";f[f.Wbb=7137]="LOGBLOB";f[f.edb=7138]="PAUSE";f[f.oeb=7139]="RESUME";f[f.iGa=7140]="SPLICE";f[f.E_b=7141]="DOWNLOAD_EVENT";f[f.E8a=7142]="BIND";f[f.cdb=7143]="PAIR";f[f.F8a=7144]="BIND_DEVICE";f[f.Bab=7145]="GENERATE_SCREENSHOTS";f[f.Adb=7202]="PLAY_INIT_EXCEPTION";f[f.c1b=7301]="MEDIA_DOWNLOAD";f[f.j2b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";f[f.k2b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";f[f.pDa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";f[f.Gdb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";f[f.qDa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";f[f.Hdb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";f[f.Oaa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";f[f.l2b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";f[f.Fdb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";f[f.tDa=7351]="PLAY_MSE_NOTSUPPORTED";f[f.oDa=7353]="PLAY_MSE_DECODER_TIMEOUT";f[f.Paa=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";f[f.Qaa=7355]="PLAY_MSE_SOURCEADD";f[f.nDa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";f[f.EP=7357]="PLAY_MSE_GENERATEKEYREQUEST";f[f.o2b=7358]="PLAY_MSE_PARSECHALLENGE";f[f.i2b=7359]="PLAY_MSE_ADDKEY";f[f.r2b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";f[f.Kdb=7361]="PLAY_MSE_EVENT_ERROR";f[f.xI=7362]="PLAY_MSE_SETMEDIAKEYS";f[f.tq=7363]="PLAY_MSE_EVENT_KEYERROR";f[f.Jdb=7364]="PLAY_MSE_EME_SESSION_CLOSE";f[f.Ldb=7365]="PLAY_MSE_GETCURRENTTIME";f[f.Mdb=7367]="PLAY_MSE_SETCURRENTTIME";f[f.Ndb=7371]="PLAY_MSE_SOURCEAPPEND";f[f.p2b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";f[f.Rdb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";f[f.Qdb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";f[f.Pdb=7377]="PLAY_MSE_UNEXPECTED_REWIND";f[f.q2b=7379]="PLAY_MSE_SOURCE_EOS";f[f.Odb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";f[f.uDa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";f[f.n2b=7385]="PLAY_MSE_KEYSESSION_UPDATE";f[f.Bdb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";f[f.Cdb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";f[f.Ddb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";f[f.rDa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";f[f.Idb=7395]="PLAY_MSE_EME_MISSING_PSSH";f[f.m2b=7396]="PLAY_MSE_EME_MISSING_CERT";f[f.sDa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";f[f.Edb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";f[f.uZ=7399]="PLAY_MSE_SET_LICENSE_ERROR";f[f.nab=7400]="EXTERNAL";f[f.tZ=7500]="PAUSE_TIMEOUT";f[f.ZY=7502]="INACTIVITY_TIMEOUT";f[f.p8a=7510]="AUTHORIZATION_EXPIRED";f[f.u_b=7520]="DECRYPT_AUDIO";f[f.eab=7700]="EME_INVALID_KEYSYSTEM";f[f.eya=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";f[f.MO=7702]="EME_CREATE_MEDIAKEYS_FAILED";f[f.EY=7703]="EME_GENERATEREQUEST_FAILED";f[f.lya=7704]="EME_UPDATE_FAILED";f[f.jya=7705]="EME_KEYSESSION_ERROR";f[f.iya=7706]="EME_KEYMESSAGE_EMPTY";f[f.hab=7707]="EME_REMOVE_FAILED";f[f.gab=7708]="EME_LOAD_FAILED";f[f.bab=7709]="EME_CREATE_SESSION_FAILED";f[f.y$=7710]="EME_LDL_RENEWAL_ERROR";f[f.gya=7711]="EME_INVALID_INITDATA_DATA";f[f.hya=7712]="EME_INVALID_LICENSE_DATA";f[f.fab=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";f[f.O_b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";f[f.dya=7716]="EME_CLOSE_FAILED";f[f.iab=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";f[f.xdb=7800]="PLAYDATA_STORE_FAILURE";f[f.h2b=7801]="PLAYDATA_SEND_FAILURE";f[f.sO=7900]="BRANCH_PLAY_FAILURE";f[f.TH=7901]="BRANCH_QUEUE_FAILURE";f[f.Lva=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";f[f.G1b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";f[f.H1b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";f[f.ldb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.M || (b.M={}));(function(f){f[f.im=1001]="UNKNOWN";f[f.gj=1003]="EXCEPTION";f[f.Cbb=1004]="INVALID_DI";f[f.j8a=1011]="ASYNCLOAD_EXCEPTION";f[f.k8a=1013]="ASYNCLOAD_TIMEOUT";f[f.rZb=1015]="ASYNCLOAD_BADCONFIG";f[f.h8a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";f[f.i8a=1017]="ASYNCLOAD_COMPONENT_MISSING";f[f.lP=1101]="HTTP_UNKNOWN";f[f.P$=1102]="HTTP_XHR";f[f.iP=1103]="HTTP_PROTOCOL";f[f.hP=1104]="HTTP_OFFLINE";f[f.kP=1105]="HTTP_TIMEOUT";f[f.mD=1106]="HTTP_READTIMEOUT";f[f.iA=1107]="HTTP_ABORT";f[f.Cza=1108]="HTTP_PARSE";f[f.yza=1110]="HTTP_BAD_URL";f[f.jP=1111]="HTTP_PROXY";f[f.HBa=1203]="MSE_AUDIO";f[f.IBa=1204]="MSE_VIDEO";f[f.lcb=1250]="MSE_MEDIA_ERR_BASE";f[f.f1b=1251]="MSE_MEDIA_ERR_ABORTED";f[f.i1b=1252]="MSE_MEDIA_ERR_NETWORK";f[f.g1b=1253]="MSE_MEDIA_ERR_DECODE";f[f.j1b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";f[f.h1b=1255]="MSE_MEDIA_ERR_ENCRYPTED";f[f.Or=1260]="EME_MEDIA_KEYERR_BASE";f[f.U_b=1261]="EME_MEDIA_KEYERR_UNKNOWN";f[f.P_b=1262]="EME_MEDIA_KEYERR_CLIENT";f[f.T_b=1263]="EME_MEDIA_KEYERR_SERVICE";f[f.S_b=1264]="EME_MEDIA_KEYERR_OUTPUT";f[f.R_b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";f[f.Q_b=1266]="EME_MEDIA_KEYERR_DOMAIN";f[f.V_b=1269]="EME_MEDIA_UNAVAILABLE_CDM";f[f.dab=1280]="EME_ERROR_NODRMSESSSION";f[f.cab=1281]="EME_ERROR_NODRMREQUESTS";f[f.L_b=1282]="EME_ERROR_INDIV_FAILED";f[f.M_b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";f[f.jab=1284]="EME_TIMEOUT_MESSAGE";f[f.W_b=1285]="EME_TIMEOUT_KEYCHANGE";f[f.kya=1286]="EME_UNDEFINED_DATA";f[f.dI=1287]="EME_INVALID_STATE";f[f.N_b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";f[f.fya=1289]="EME_EMPTY_DATA";f[f.NO=1290]="EME_TIMEOUT";f[f.v1b=1303]="NCCP_METHOD_NOT_SUPPORTED";f[f.y1b=1305]="NCCP_PARSEXML";f[f.Udb=1309]="PROCESS_EXCEPTION";f[f.x1b=1311]="NCCP_NETFLIXID_MISSING";f[f.z1b=1312]="NCCP_SECURENETFLIXID_MISSING";f[f.s1b=1313]="NCCP_HMAC_MISSING";f[f.r1b=1315]="NCCP_HMAC_MISMATCH";f[f.q1b=1317]="NCCP_HMAC_FAILED";f[f.p1b=1321]="NCCP_CLIENTTIME_MISSING";f[f.o1b=1323]="NCCP_CLIENTTIME_MISMATCH";f[f.eza=1331]="GENERIC";f[f.Ecb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";f[f.Fcb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";f[f.A1b=1341]="NCCP_TRANSACTION";f[f.t1b=1343]="NCCP_INVALID_DRMTYPE";f[f.u1b=1344]="NCCP_INVALID_LICENCE_RESPONSE";f[f.w1b=1345]="NCCP_MISSING_PAYLOAD";f[f.x2b=1346]="PROTOCOL_NOT_INITIALIZED";f[f.w2b=1347]="PROTOCOL_MISSING_FIELD";f[f.v2b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";f[f.xA=1402]="STORAGE_NODATA";f[f.Q2b=1403]="STORAGE_EXCEPTION";f[f.Y2b=1405]="STORAGE_QUOTA_NOT_GRANTED";f[f.Z2b=1407]="STORAGE_QUOTA_TO_SMALL";f[f.mGa=1411]="STORAGE_LOAD_ERROR";f[f.Ieb=1412]="STORAGE_LOAD_TIMEOUT";f[f.nGa=1414]="STORAGE_SAVE_ERROR";f[f.Leb=1415]="STORAGE_SAVE_TIMEOUT";f[f.Iba=1417]="STORAGE_DELETE_ERROR";f[f.lGa=1418]="STORAGE_DELETE_TIMEOUT";f[f.X2b=1421]="STORAGE_FS_REQUESTFILESYSTEM";f[f.U2b=1423]="STORAGE_FS_GETDIRECTORY";f[f.W2b=1425]="STORAGE_FS_READENTRIES";f[f.R2b=1427]="STORAGE_FS_FILEREAD";f[f.T2b=1429]="STORAGE_FS_FILEWRITE";f[f.S2b=1431]="STORAGE_FS_FILEREMOVE";f[f.V2b=1432]="STORAGE_FS_PARSEJSON";f[f.Keb=1451]="STORAGE_NO_LOCALSTORAGE";f[f.Jeb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";f[f.N1b=1501]="NTBA_UNKNOWN";f[f.M1b=1502]="NTBA_EXCEPTION";f[f.I1b=1504]="NTBA_CRYPTO_KEY";f[f.K1b=1506]="NTBA_CRYPTO_OPERATION";f[f.J1b=1508]="NTBA_CRYPTO_KEYEXCHANGE";f[f.L1b=1515]="NTBA_DECRYPT_UNSUPPORTED";f[f.jxa=1553]="DEVICE_NO_ESN";f[f.ixa=1555]="DEVICE_ERROR_GETTING_ESN";f[f.tab=1701]="FORMAT_UNKNOWN";f[f.Sya=1713]="FORMAT_XML";f[f.uab=1715]="FORMAT_XML_CONTENT";f[f.sab=1721]="FORMAT_BASE64";f[f.JY=1723]="FORMAT_DFXP";f[f.Rab=1801]="INDEXDB_OPEN_EXCEPTION";f[f.Pza=1802]="INDEXDB_NOT_SUPPORTED";f[f.Qab=1803]="INDEXDB_OPEN_ERROR";f[f.Qza=1804]="INDEXDB_OPEN_NULL";f[f.Pab=1805]="INDEXDB_OPEN_BLOCKED";f[f.Sab=1807]="INDEXDB_OPEN_TIMEOUT";f[f.Oab=1808]="INDEXDB_INVALID_STORE_STATE";f[f.$Y=1809]="INDEXDB_ACCESS_EXCEPTION";f[f.vcb=1901]="MSL_UNKNOWN";f[f.ocb=1911]="MSL_INIT_NO_MSL";f[f.KBa=1913]="MSL_INIT_ERROR";f[f.pcb=1915]="MSL_INIT_NO_WEBCRYPTO";f[f.mcb=1931]="MSL_ERROR";f[f.ucb=1933]="MSL_REQUEST_TIMEOUT";f[f.tcb=1934]="MSL_READ_TIMEOUT";f[f.ncb=1935]="MSL_ERROR_HEADER";f[f.k1b=1936]="MSL_ERROR_ENVELOPE";f[f.l1b=1937]="MSL_ERROR_MISSING_PAYLOAD";f[f.JBa=1957]="MSL_ERROR_REAUTH";f[f.gca=2103]="WEBCRYPTO_MISSING";f[f.lfb=2105]="WEBCRYPTOKEYS_MISSING";f[f.mfb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";f[f.a_b=2200]="CACHEDDATA_PARSEJSON";f[f.hwa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";f[f.b_b=2202]="CACHEDDATA_UPGRADE_FAILED";f[f.fA=2203]="CACHEDDATA_INVALID_FORMAT";f[f.oZb=3E3]="ACCOUNT_CHANGE_INFLIGHT";f[f.pZb=3001]="ACCOUNT_INVALID";f[f.D_b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";f[f.C_b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";f[f.A_b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";f[f.B_b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";f[f.z_b=3202]="DOWNLOADED_LICENSE_EXCEPTION";f[f.$2b=3300]="STORAGE_VA_LOAD_ERROR";f[f.a3b=3301]="STORAGE_VA_LOAD_TIMEOUT";f[f.d3b=3302]="STORAGE_VA_SAVE_ERROR";f[f.e3b=3303]="STORAGE_VA_SAVE_TIMEOUT";f[f.b3b=3304]="STORAGE_VA_REMOVE_ERROR";f[f.c3b=3305]="STORAGE_VA_REMOVE_TIMEOUT";f[f.Kaa=3077]="PBO_DEVICE_EOL_WARNING";f[f.iDa=3078]="PBO_DEVICE_EOL_FINAL";f[f.lDa=3100]="PBO_DEVICE_RESET";f[f.kDa=3101]="PBO_DEVICE_RELOAD";f[f.jDa=3102]="PBO_DEVICE_EXIT";f[f.udb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.fdb=5005]="PBO_ACCOUNT_ON_HOLD";f[f.kdb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.mDa=5007]="PBO_INCORRECT_PIN";f[f.rdb=5008]="PBO_MOBILE_ONLY";f[f.vdb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";f[f.ndb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";f[f.hdb=5059]="PBO_BLACKLISTED_IP";f[f.gdb=5070]="PBO_AGE_VERIFICATION_REQUIRED";f[f.jdb=5080]="PBO_CHOICE_MAP_ERROR";f[f.sdb=5090]="PBO_RESTRICTED_TO_TESTERS";f[f.pdb=5091]="PBO_MALFORMED_REQUEST";f[f.odb=5092]="PBO_INVALID_SERVICE_VERSION";f[f.qdb=5093]="PBO_MDX_INVALID_CTICKET";f[f.mdb=5094]="PBO_FREE_PREVIEW_ENDED";f[f.tdb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";f[f.W9a=5100]="DECODER_TIMEOUT_BUFFERING";f[f.Y9a=5101]="DECODER_TIMEOUT_PRESENTING";f[f.X9a=5102]="DECODER_TIMEOUT_PLAYING";f[f.N$a=5200]="DOWNLOADER_IO_ERROR";f[f.Kva=5300]="BRANCHING_SEGMENT_NOTFOUND";f[f.J8a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";f[f.EZb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";f[f.V9=5303]="BRANCHING_ASE_UNINITIALIZED";f[f.G8a=5304]="BRANCHING_ASE_FAILURE";f[f.BZb=5305]="BRANCHING_MOMENT_FAILURE";f[f.H8a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";f[f.DZb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";f[f.K8a=5308]="BRANCHING_SEEK_THREW";f[f.CZb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";f[f.I8a=5310]="BRANCHING_PLAY_TIMEDOUT";f[f.L8a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";f[f.M8a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";f[f.Meb=5500]="STUDIO_MUXED_MANIFEST";f[f.Zbb=5600]="MANIFEST_HYDRATION_FAILURE";})(c=b.L || (b.L={}));(function(f){f[f.PZb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.FZb=5005]="BR_ACCOUNT_ON_HOLD";f[f.JZb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.MZb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";f[f.IZb=5059]="BR_BLACKLISTED_IP";f[f.GZb=5070]="BR_AGE_VERIFICATION_REQUIRED";f[f.NZb=2204]="BR_PLAYBACK_CONTEXT_CREATION";f[f.KZb=2205]="BR_DRM_LICENSE_AQUISITION";f[f.OZb=2206]="BR_PLAYBACK_SERVICE_ERROR";f[f.LZb=2207]="BR_ENDPOINT_ERROR";f[f.HZb=2208]="BR_AUTHORIZATION_ERROR";})(b.Gya || (b.Gya={}));b.YY={T8a:"400",z3b:"401",zDa:"413"};b.gZ={t0b:1,s3b:2,Z_b:3,y3b:4,X0b:5,Y_b:6,bca:7,a0b:8,F2b:9,N2b:10};(function(f){f[f.f2b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";f[f.g2b=98]="PAIRING_UNKNOWN_ERROR";})(b.aCa || (b.aCa={}));b.oab=function(f){return 7100 <= f && 7200 > f;};b.Eya=function(f){return f == a.tZ || f == a.ZY;};b.Hya=function(f){return 1100 <= f && 1199 >= f;};b.qab=function(f){return 1300 <= f && 1399 >= f;};b.pab=function(f){return 1900 <= f && 1999 >= f;};b.A$=function(f,l){return 1 <= f && 9 >= f?l + f:l;};b.Iya=function(f){return b.A$(f,c.lcb);};b.Jya=function(f){return b.A$(f,c.Or);};b.Pr=function(f){var l,m,d;l={};m=f.errorExternalCode || f.Ze;d=f.errorDetails || f.rb;l.ErrorSubCode=f.errorSubCode || f.oa || c.im;m && (l.ErrorExternalCode=m);d && (l.ErrorDetails=d);return l;};},function(r,b,a){var l;function c(){return l.YP.apply(this,arguments) || this;}function f(m){return new l.Qr(m,b.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.ab=b.Iza=b.zaa=b.sn=b.ma=b.zD=b.timestamp=b.PDb=b.W5=b.Ug=b.xc=b.f1a=b.pJb=b.$eb=void 0;l=a(303);ka(c,l.YP);b.$eb=c;b.pJb=function(m){return new l.Qr(m,b.zD);};b.f1a=function(m){return new l.Qr(m * b.sn.Zf,b.zD);};b.xc=f;b.Ug=function(m){return new l.Qr(m,b.sn);};b.W5=function(m){return new l.Qr(m,b.zaa);};b.PDb=function(m){return new l.Qr(m,b.Iza);};b.timestamp=function(m){return f(m);};b.zD=new c(1,"\u03bcs");b.ma=new c(1E3,"ms",b.zD);b.sn=new c(1E3 * b.ma.Zf,"s",b.zD);b.zaa=new c(60 * b.sn.Zf,"min",b.zD);b.Iza=new c(60 * b.zaa.Zf,"hr",b.zD);b.ab=f(0);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={bU:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);f=a(144);l=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(Error);b.assert=function(m,d){if(!m)try{throw new l(d || "Assertion failed");}catch(g){throw (f.cm.H.error("Assertion failed",{value:m,message:d,stack:g.stack}),g);}};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.ha=b.WEa=b.pT=b.ih=b.hi=b.log=b.Bg=b.jL=b.oNa=b.Kq=b.gB=b.Dc=b.tnb=b.Hfa=b.rnb=b.snb=b.Gi=b.$N=b.zX=b.vh=b.yc=b.xa=void 0;c=a(193);r=a(8);f=a(25);l=a(77);m=a(76);d=a(35);g=a(29);h=a(137);k=a(40);a=a(46);b.xa=c.kd.get(k.vi);b.yc=c.kd.get(a.lj);b.vh=c.kd.get(l.uu);b.zX=b.vh.encode.bind(b.vh);b.$N=b.vh.decode.bind(b.vh);b.Gi=c.kd.get(m.pw);b.snb=b.Gi.encode.bind(b.Gi);b.rnb=b.Gi.decode.bind(b.Gi);b.Hfa=b.Gi.vF.bind(b.Gi);b.tnb=b.Gi.$5a.bind(b.Gi);b.Dc=c.kd.get(d.Th);b.gB=function(n){n=g.Fe(n)?b.$N(n):n;return b.Dc.encode(n);};b.Kq=b.Dc.decode.bind(b.Dc);b.oNa=function(n){return b.zX(b.Kq(n));};b.jL=function(){return c.kd.get(f.vw);};b.Bg=c.kd.get(r.Kb);b.log=b.Bg.Db("General");b.hi=function(n,q){return b.Bg.Db(n,void 0,q);};b.ih=function(n,q,p){return b.Bg.Db(q,n,p);};b.pT=function(n,q,p,t){return b.Bg.Db(n,void 0,t,q,p);};b.WEa=function(n,q,p){return c.kd.get(h.JP)(n,q,p).Ita();};b.ha=c.kd;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LO=b.Kb=b.jaa=b.ij=void 0;r=b.ij || (b.ij={});r[r.rab=0]="FATAL";r[r.xf=1]="ERROR";r[r.fca=2]="WARN";r[r.T$=3]="INFO";r[r.kHa=4]="TRACE";r[r.ia=5]="DEBUG";b.jaa="LogFieldBuilderFactorySymbol";b.Kb="LoggerFactorySymbol";b.LO={};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GP=b.fza=b.uIa=void 0;r=a(2);r.__exportStar(a(378),b);r.__exportStar(a(110),b);r.__exportStar(a(22),b);r.__exportStar(a(787),b);r.__exportStar(a(788),b);r.__exportStar(a(789),b);r.__exportStar(a(790),b);r.__exportStar(a(791),b);r.__exportStar(a(792),b);r.__exportStar(a(793),b);c=r.__importDefault(a(794));b.uIa=c.default;c=r.__importDefault(a(795));b.fza=c.default;a=r.__importDefault(a(384));b.GP=a.default;},function(r){var b;b={ya:function(a){return "number" === typeof a;},jh:function(a){return "object" === typeof a;},Fe:function(a){return "string" === typeof a;},fa:function(a){return "undefined" === typeof a;},n6b:function(a){return "boolean" === typeof a;},Oc:function(a){return "function" === typeof a;},tb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},vMb:function(a){var c,f;f=[];if(!b.jh(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && f.push([c,a[c]]);}return f;}};b.Xe=b.forEach=function(a,c,f){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var l=0,m=a.length;l < m;l++){c.call(f,a[l],l,a);}else for(l in a){b.has(a,l) && c.call(f,a[l],l,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ina=b.localStorage=b.zEb=b.indexedDB=b.iZ=b.ip=b.rA=b.ED=b.URL=b.lZ=b.jZ=b.$Ba=b.eZ=b.wD=b.xD=b.Do=b.pn=b.wi=b.taa=b.Ew=b.dHa=b.ZH=b.JD=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.yx=b.Hcb=b.Ke=b.ou=b.pu=b.kZ=b.sA=void 0;r=pb;b.Ve=r.navigator;b.sA=null === b.Ve || void 0 === b.Ve?void 0:b.Ve.userAgent;b.kZ=r.location;b.pu=r.screen;b.ou=r.performance;b.Ke=r.document;b.Hcb=b.Ke.documentElement;b.yx=Array.prototype;b.sort=b.yx.sort;b.map=b.yx.map;b.slice=b.yx.slice;b.every=b.yx.every;b.reduce=b.yx.reduce;b.filter=b.yx.filter;b.forEach=b.yx.forEach;b.pop=b.yx.pop;b.JD=Object.create;b.ZH=Date.now;b.dHa=String.fromCharCode;b.Ew=Math.floor;b.taa=Math.ceil;b.wi=Math.round;b.pn=Math.max;b.Do=Math.min;b.xD=Math.random;b.wD=Math.abs;b.eZ=Math.pow;b.$Ba=Math.sqrt;b.jZ=r.escape;b.lZ=r.unescape;b.URL=r.URL || r.webkitURL;b.ED=r.MediaSource || r.WebKitMediaSource;b.rA=r.webkitCrypto || r.msCrypto || r.crypto;b.ip=b.rA && (b.rA.webkitSubtle || b.rA.subtle);b.iZ=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.zEb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.ina=a || "noex";}},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tI=b.dZ=b.c9a=b.Y8a=b.$8a=b.a9a=b.Yva=b.X8a=b.Z8a=b.Xva=b.b9a=b.i9a=b.g9a=b.h9a=b.f9a=b.Y$a=b.X$a=b.W$a=b.ccb=b.dcb=b.Dw=b.DBa=b.EBa=b.sI=b.Xxa=b.$$a=b.w$=b.DY=b.Vcb=b.Ceb=b.zBa=b.S8a=b.gxa=b.sZ=b.HD=b.rZ=b.yBa=b.oA=b.R8a=b.Jva=b.Rbb=b.jfb=b.bcb=b.acb=b.web=b.veb=b.Hk=b.Le=b.KFa=b.Ik=void 0;b.Bba=void 0;b.Ik=function(){};b.KFa=function(){return !0;};b.Le={W:!0};b.Hk=1E3;b.veb=86400;b.web=604800;b.acb=1E4;b.bcb=1E7;b.jfb=1.5;b.Rbb=.128;b.Jva=7.8125;b.R8a=128;b.oA=145152E5;b.yBa=1E5;b.rZ="$netflix$player$order";b.HD=-1;b.sZ=1;b.gxa=["en-US"];b.S8a=8;b.zBa=65535;b.Ceb=65536;b.Vcb=Number.MAX_VALUE;b.DY="playready";b.w$="widevine";b.$$a="fps";b.Xxa="clearkey";b.sI='audio/mp4; codecs="mp4a.40.5"';b.EBa='audio/mp4; codecs="mp4a.40.42"';b.DBa='audio/mp4; codecs="mp4a.a6"';b.Dw='video/mp4; codecs="avc1.640028"';b.dcb='video/mp4; codecs="hev1.2.6.L153.B0"';b.ccb='video/mp4; codecs="dvhe.01000000"';b.W$a="9A04F079-9840-4286-AB92-E65BE0885F95";b.X$a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Y$a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.f9a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.h9a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.g9a="4E657466-6C69-7846-7261-6D6552617465";b.i9a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.b9a="mp4a";b.Xva="enca";b.Z8a="ec-3";b.X8a="avc1";b.Yva="encv";b.a9a="hvcC";b.$8a="hev1";b.Y8a="dvhe";b.c9a="vp09";b.dZ=0;b.tI=1;b.Bba="position:relative;width:100%;height:100%;overflow:hidden";},function(r,b,a){var l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B;function c(D){return (D=b.config.Zta[f(D)])?D:{};}function f(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":D;}Object.defineProperty(b,"__esModule",{value:!0});b.mqb=b.nqb=b.ZOa=b.Wga=b.lqb=b.$Oa=b.kqb=b.aPa=b.Vga=b.config=void 0;l=a(12);m=a(49);d=a(7);g=a(39);h=a(21);a(29);k=a(25);n=a(48);q=a(24);a(8);p=a(11);t=a(18);u=a(170);v=a(54);w=a(99);x=a(131);y=a(47);A=a(4);z=a(34);B=a(19);b.aPa=function(D,E){var wa,ua,X,sa,O,T,ma,ja,Qa;function F(Fa,Wa){q.ee(Fa,function(Xa,db){t.Oc(db)?Wa[Xa]=db.call(void 0,Wa[Xa]):t.jh(db) && (Wa[Xa]=Wa[Xa] || ({}),F(db,Wa[Xa]));});}function C(Fa,Wa,Xa,db){for(var Za=[],kb=3;kb < arguments.length;++kb){Za[kb - 3]=arguments[kb];}return function(Ya){t.Kc(Ya) && (Xa=Ya);h.hb(t.Oc(Fa));return Fa.apply(void 0,[Wa,Xa].concat(ca(Za)));};}function G(Fa){Fa=Fa.toLowerCase();sa.hasOwnProperty(Fa) && (X[Fa]=sa[Fa],O[Fa]=sa[Fa]);return Fa;}function J(Fa,Wa,Xa){var db;Fa=Fa.toLowerCase();if(X.hasOwnProperty(Fa)){db=X[Fa];try{db=Xa?Xa(db):db;}catch(Za){db=void 0;}if(void 0 !== db)return db;h.hb(!1);d.log.error("Invalid configuration value. Name: " + Fa);}return Wa;}function K(Fa,Wa,Xa,db){return J(Fa,Wa,function(Za){t.Fe(Za) && (Za=q.ue(Za));if(t.PWa(Za,Xa,db))return Za;});}function H(Fa,Wa,Xa,db){return J(Fa,Wa,function(Za){t.Fe(Za) && (Za=q.ue(Za));if(t.Ly(Za,Xa,db))return Za;});}function L(Fa,Wa,Xa,db){return J(Fa,Wa,function(Za){t.Fe(Za) && (Za=parseFloat(Za));if(t.ya(Za,Xa,db))return Za;});}function R(Fa,Wa,Xa){return J(Fa,Wa,function(db){if(Xa?Xa.test(db):t.Fe(db))return db;});}function I(Fa,Wa){return J(Fa,Wa,function(Xa){if("true" == Xa || !0 === Xa)return !0;if("false" == Xa || !1 === Xa)return !1;});}function Q(Fa,Wa){return J(Fa,Wa,function(Xa){if(t.Fe(Xa))return JSON.parse(p.lZ(Xa));if(t.jh(Xa))return Xa;});}function N(Fa,Wa,Xa,db,Za,kb){var Ya;Fa=Fa.toLowerCase();X.hasOwnProperty(Fa) && (Ya=X[Fa]);if(!t.Kc(Ya))return Wa;if(t.Fe(Ya))if(Ya[0] !== Xa)Ya=db(Ya);else try{Ya=JSON.parse(p.lZ(Ya));}catch(Sa){Ya=void 0;}if(void 0 === Ya)return Wa;for(Fa=0;Fa < Za.length;Fa++){if(!Za[Fa](Ya))return Wa;}return kb?kb(Ya):Ya;}function M(Fa,Wa,Xa,db,Za){return N(Fa,Wa,"[",function(kb){kb=kb.split("|");for(var Ya=kb.length;Ya--;){kb[Ya]=q.ue(kb[Ya]);}return kb;},[function(kb){return t.isArray(kb) && 0 < kb.length;},function(kb){for(var Ya=kb.length;Ya--;){if(!t.Ly(kb[Ya],Xa,db))return !1;}return !0;},function(kb){return void 0 === Za || kb.length >= Za;}]);}function P(Fa,Wa){return N(Fa,Wa,"[",function(Xa){Xa=t.isArray(Xa)?Xa:Xa.split("|");for(var db=Xa.length;db--;){try{Xa[db]=JSON.parse(p.lZ(Xa[db]));}catch(Za){Xa=void 0;break;}}return Xa;},[function(Xa){return t.isArray(Xa) && 0 < Xa.length;},function(Xa){for(var db=Xa.length;db--;){if(!t.Kc(Xa[db]) || !t.jh(Xa[db]))return !1;}return !0;}]);}function S(Fa,Wa,Xa,db){return N(Fa,Wa,"[",function(Za){return t.isArray(Za)?Za:Za.split("|");},[function(Za){return t.isArray(Za) && 0 < Za.length;},function(Za){for(var kb=Za.length;kb--;){if(Xa?!Xa.test(Za[kb]):!t.My(Za[kb]))return !1;}return !0;},function(Za){return void 0 === db || Za.length >= db;}]);}function ea(Fa,Wa,Xa){return N(Fa,Wa,"{",function(db){var Za,Ya,Sa;Za={};db=db.split(";");for(var kb=db.length;kb--;){Ya=db[kb];Sa=Ya.indexOf(":");if(0 >= Sa)return;Za[Ya.substring(0,Sa)]=Ya.substring(Sa + 1);}return Za;},[function(db){return t.jh(db) && 0 < Object.keys(db).length;},function(db){if(Xa)for(var Za in db){if(!Xa.test(db[Za]))return !1;}return !0;}],function(db){var Za;Za={};q.Tb(Za,Wa);q.Tb(Za,db);return Za;});}function qa(Fa){var Wa;Wa=[];q.ee(Fa,function(Xa,db){var Za;try{Za="videoapp" === Xa.toLowerCase()?"[object object]":JSON.stringify(db);}catch(kb){Za="cantparse";}Wa.push(Xa + "=" + Za);});return Wa.join("\n");}wa=/^[0-9]+[%]?$/;ua=/^[0-9]*$/;O={};T=d.ha.get(g.em);ma=d.ha.get(x.HP);(function(Fa){function Wa(Xa){Xa.split(",").forEach(function(db){var Za;Za=db.indexOf("=");0 < Za && (X[db.substring(0,Za).toLowerCase()]=db.substring(Za + 1));});}X={};q.Tb(X,Fa);D && D.length && p.forEach.call(D,function(Xa){t.Fe(Xa)?Wa(Xa):t.jh(Xa) && q.Tb(X,Xa,{VL:!0});});sa=q.Tb({},m.C3(),{VL:!0});if(Fa=m.M1a().cadmiumconfig)(d.log.info("Config cookie loaded",Fa),Wa(Fa));if(d.ha.get(z.Kk).N0 || X.istestaccount)(q.Tb(X,sa),O=sa);})(E);b.config={};ja={Cwb:C(I,G("enableXHEAAC"),!1),lRa:C(I,G("enableDDPlus20"),!0),kRa:C(I,G("enableDDPlus"),!0),OS:C(I,G("enableDDPlusAtmos"),!1),jwb:C(I,G("enableLSSDH"),!0),dwb:C(I,G("enableHEVC"),!1),b0a:C(I,G("overrideEnableHEVC"),!1),uia:C(I,G("enableHDR"),!1),a0a:C(I,G("overrideEnableHDR"),!1),$_a:C(I,G("overrideEnableDV"),!1),JK:C(I,G("enableAVCHigh"),ma.JK),yG:C(I,G("overrideEnableAVCHigh"),ma.yG),Awb:C(I,G("enableVP9"),!1),c0a:C(I,G("overrideEnableVP9"),!1),Yvb:C(I,G("enableAV1"),!1),Z_a:C(I,G("overrideEnableAV1"),!1),sMb:C(I,G("overrideEnableXHEAAC"),!1),qwb:C(I,G("enablePRK"),!1),bwb:C(I,G("enableDV"),!1),ewb:C(I,G("enableHWDRM"),!1),hwb:C(I,G("enableImageSubs"),!0),ZXb:C(I,G("useLegacySubs"),!1),fB:C(S,G("audioProfiles"),ma.fB),W4b:C(I,G("disableHD"),!1),ywb:C(I,G("enableUHD"),!0),b9:C(H,"videoCapabilityDetectorType",k.Bi.du),rfa:C(H,"audioCapabilityDetectorType",k.au.du),jw:C(S,G("videoProfiles"),ma.jw),ukb:C(S,G("timedTextProfiles"),ma.cw),cw:function(){return ja.ukb().filter(function(Fa){return Fa === n.Sr.l$?ja.jwb():Fa === n.Sr.uI?ja.hwb():!0;});},endpoint:C(I,G("endpoint"),!1),version:C(R,"version","unknown"),R3a:C(I,G("setMediaKeysEarly"),!1),z7b:C(I,G("nrdpPersistCookiesToIndexDB"),!1),d7a:C(I,G("useHdcpLevelOnCast"),!1),fwb:C(I,G("enableHdcp"),!1),Nv:C(I,G("prepareCadmium"),!1),Skb:C(I,G("acceptManifestOnPrepareItemParams"),!0),WNb:C(Q,"ppmconfig",{maxNumberTitlesScheduled:1}),FNb:C(I,G("playerPredictionModelV2"),!0),QS:C(I,G("enableLdlPrefetch"),!1),rRa:C(I,G("enableMediaPrefetch"),!1),lwb:C(I,G("enableManifestCache"),!0),tub:C(I,G("deleteCachedManifestOnPlayback"),!1),rub:C(I,G("deleteCachedManifestOnCreate"),!1),xub:C(I,G("deleteOtherManifestCacheOnCreate"),!1),wub:C(I,G("deleteOtherLdlCacheOnCreate"),!1),P7b:C(H,G("periodicPrepareLogsIntervalMilliseconds"),36E5),tOb:C(H,G("prepareManifestCacheMaxCount"),50),rOb:C(H,G("prepareLdlCacheMaxCount"),30),j1a:C(H,G("prepareManifestExpiryMilliseconds"),12E5),sOb:C(H,G("prepareLdlExpiryMilliseconds"),78E4),kOb:C(H,G("prefetcherMaxWishlistSize"),1),jOb:C(H,G("prefetcherBudgetInBytes"),Infinity),lOb:C(I,G("prefetcherOverrideItemPriority"),!0),nOb:C(I,G("prefetcherRemoveItemOnManifestExpiration"),!0),cOb:C(I,G("preferManifestFromPrefetcher"),!1),qOb:C(R,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),i9b:C(Q,"videoApp"),PC:C(Q,"storageRules"),Myb:C(I,"ftlEnabled",!0),Nla:C(H,G("imageSubsResolution"),0),jEb:C(H,G("imageSubsMaxBuffer"),ma.CIb.ea(y.bu),0),YR:C(I,G("captureBatteryStatus"),!1),vzb:C(H,G("getBatteryApiTimeoutMilliseconds"),5E3),Nl:C(R,G("keySystemId"),ma.Nl),xXa:C(S,G("keySystemList"),void 0,void 0),tJb:C(H,G("hdcpGlobalTimeout1"),1E4),uJb:C(H,G("hdcpGlobalTimeout2"),1E4),e7b:C(H,G("hdcpQueryTimeout1"),1E3),f7b:C(H,G("hdcpQueryTimeout2"),1E3),qZa:C(H,G("hdcpQueryTimeout2"),100),vJb:C(I,G("microsoftHwdrmRequiresHevc"),!1),poa:C(I,G("microsoftClearLeadRequiresSwdrm"),!1),qJb:C(I,G("microsoftEnableDeviceInfo"),!1),rJb:C(I,G("microsoftEnableHardwareInfo"),!1),sJb:C(I,G("microsoftEnableHardwareReset"),!1),WXb:C(I,G("useHevcCodecForDolbyVision"),!1),nwb:C(I,G("enableMediaCapabilities"),!1),VNb:C(I,G("powerEfficientForVideo"),!1),JHb:C(I,"logMediaPipelineStatus",!1),gW:C(I,G("renderDomDiagnostics"),!0),eYa:function(){return -1;},UL:C(K,G("logDisplayMaxEntryCount"),ma.UL,-1),PHb:C(K,G("logToConsoleLevel"),-1),r4b:C(K,G("bladerunnerCmdHistorySize"),10),ev:function(){return T.ev;},MXb:C(I,"upgradeNetflixId",!0),nna:C(I,"logErrorIfEsnNotProvided",!0),Dia:C(I,"enforceSinglePlayback",ma.Dia),s2:C(I,"enforceSingleSession",ma.s2),Lga:C(I,"closeOtherPlaybacks",!0),Bmb:C(H,"asyncLoadTimeout",15E3,1),ZHb:C(H,"mainThreadMonitorPollRate",0),y7b:C(I,"nrdpAlwaysShowUIOverlay",!1),A7b:C(I,"nrdpValidateSSOTokens",!0),v8b:C(I,"showNrdpDebugBadging",!1),e9:function(){return T.e9;},wy:function(){return T.wy;},iK:function(){return T.iK;},GH:function(){return T.GH;},s7a:C(H,G("verbosePlaybackInfoDenominator"),0),o7:C(I,"renderTimedText",!0),XNb:C(I,"preBufferTimedText",!0),uxb:C(I,"fatalOnTimedTextLoadError",!0),Fta:C(ea,"timedTextStyleDefaults",{}),x8:C(ea,"timedTextStyleOverrides",{}),Dta:C(ea,"timedTextFontFamilyMapping",ma.Dta || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),TN:C(H,"timedTextSimpleFallbackThreshold",ma.TN.ea(y.bu)),Aha:C(R,G("customDfxpUrl")),xwb:C(I,G("enableSubtitleTrackerLogging"),!1),mSb:C(I,G("sendSubtitleQoeLogblobOnMidplay"),!1),kga:C(M,"cdnIdWhiteList",[]),jga:C(M,"cdnIdBlackList",[]),uja:C(R,G("forceAudioTrack")),fKb:C(I,"muteVolumeOnPlaybackClose",!0),B7b:C(R,"nrdpVolumeControlType","VOLUME_STREAM"),zja:C(R,G("forceTimedTextTrack")),MIb:C(H,G("maxRetriesTimedTextDownload"),0),UVb:C(H,G("timedTextRetryInterval"),8E3),EUb:C(R,"storageType","idb",/^(none|fs|idb|ls)$/),aYa:C(H,"lockExpiration",1E4),HHb:C(H,"lockRefresh",3E3),Pob:C(I,"captureUnhandledExceptions",!0),iEb:C(I,"ignoreUnhandledExceptionDuringPlayback",!0),YWb:C(I,"unhandledExceptionsArePlaybackErrors",!1),x6a:C(R,"unhandledExceptionSource",""),EOb:C(I,"preserveLastFrame",!1),FJb:C(H,"minBufferingTimeInMilliseconds",4E3),$Ob:C(H,"progressBackwardsGraceTimeMilliseconds",4E3),aPb:C(H,"progressBackwardsMinPercent",10),Fnb:C(R,G("bookmarkIgnoreBeginning"),"0",wa),Gnb:C(R,G("bookmarkIgnoreEnd"),"5%",wa),Hnb:C(R,G("bookmarkIgnoreEndForBranching"),"60000",wa),XL:C(H,"maxParallelConnections",3),ura:C(I,"reportThroughputInLogblobs",!0),dM:C(H,"minAudioMediaRequestDuration",16E3),DJb:C(H,"minAudioMediaRequestDurationBranching",0),hM:C(H,"minVideoMediaRequestDuration",4E3),IJb:C(H,"minVideoMediaRequestDurationAL1",0),JJb:C(H,"minVideoMediaRequestDurationBranching",0),N5:C(H,"minAudioMediaRequestSizeBytes",0),U5:C(H,"minVideoMediaRequestSizeBytes",0),Evb:C(I,"droppedFrameRateFilterEnabled",!1),Fvb:C(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),Hvb:C(function(Fa,Wa,Xa,db,Za,kb){return N(Fa,Wa,"[",function(Ya){Ya=Ya.split(";");for(var Sa=Ya.length;Sa--;){Ya[Sa]=Ya[Sa].split("|");for(var za=Ya[Sa].length;za--;){Ya[Sa][za]=q.ue(Ya[Sa][za]);}}return Ya;},[function(Ya){return t.isArray(Ya) && 0 < Ya.length;},function(Ya){for(var Sa=Ya.length;Sa-- && void 0 !== Ya;){if(!t.isArray(Ya[Sa]))return !1;for(var za=Ya[Sa].length;za--;){if(!t.Ly(Ya[Sa][za],Xa,db))return !1;}}return !0;},function(Ya){if(void 0 !== Za)for(var Sa=Ya.length;Sa--;){if(Za !== Ya[Sa].length)return !1;}return !0;},function(Ya){return void 0 === kb || Ya.length >= kb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),g5b:C(I,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Gvb:C(H,"droppedFrameRateFilterMinHeight",384),Ivb:C(M,"droppedFramesPercentilesList",[]),wJb:C(I,"microsoftScreenSizeFilterEnabled",!1),rGb:C(I,"keyStatusFilterEnabled",!1),HVa:C(H,"hdcpEngagementWaitTime",0),VWb:C(I,"uiLabelFilterEnabled",!0),UWb:C(Q,"uiLabelFilter",{}),nub:C(H,G("defaultVolume"),100,0,100),Xna:C(H,G("maxPlaybackRate"),2,0,16),BQa:C(I,"disableVideoRightClickMenu",!1),P5:C(H,"minDecoderBufferMilliseconds",1E3,0,l.oA),xG:C(H,"optimalDecoderBufferMilliseconds",5E3,0,l.oA),Q_a:C(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,l.oA),oC:C(H,"minimumTimeBeforeBranchDecision",3E3,0,l.oA),Uy:C(H,"maxDecoderBufferMilliseconds",ma.Uy.ea(A.ma),0,l.oA),dQa:C(H,"decoderTimeoutMilliseconds",1E4,1),a_a:C(H,"noRenderTimeoutMilliseconds",0),avb:C(I,"disgardMediaOnAppend",!1),gmb:C(I,"appendMediaBeforeInit",!1),RMb:C(H,"pauseTimeoutLimitMilliseconds",18E5),Pla:C(H,"inactivityMonitorInterval",3E4,0),Rkb:C(M,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),LK:C(I,"enableTrickPlay",!1),Ilb:C(M,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),EWb:C(H,"trickPlayHighResolutionBitrateThreshold",1E3),FWb:C(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),IWb:C(L,"trickplayBufferFactor",.5),DWb:C(H,"trickPlayDownloadRetryCount",1),Pna:C(R,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Joa:C(R,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Hza:C(Q,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),UYa:C(K,"maxIQRSamples",Infinity),xZa:C(K,"minIQRSamples",5),k7a:C(I,"useResourceTimingAPI",!1),eEb:C(I,"ignoreFirstByte",!0),cJb:C(I,"mediaRequestAsyncLoadStart",!0),gYb:C(I,"useXHROnLoadStart",!1),Uia:C(M,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),E1:C(H,"connectTimeoutMilliseconds",8E3,500),Ooa:C(H,"noProgressTimeoutMilliseconds",8E3,500),$Xb:C(I,"useOnLineApi",!1),R5a:C(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),q7b:C(H,"netflixRequestExpiryTimeout",0),YYb:C(I,"webkitDecodedFrameCountIncorrectlyReported",!1),SRb:C(H,"seekBackOnAudioTrackChangeMilliseconds",8E3),PMb:C(I,"pausePlaybackOnAudioSwitch",!0),n8:C(S,G("supportedAudioTrackTypes"),[],void 0,1),rWa:C(H,"initialLogFlushTimeout",5E3),U0a:C(R,"playdataPersistKey",T.ev?"unsentplaydatatest":"unsentplaydata"),lsa:C(I,"sendPersistedPlaydata",!0),CNb:C(H,"playdataPersistIntervalMilliseconds",4E3),Q7b:C(H,"playdataSendDelayMilliseconds",1E4),L7:C(I,"sendPlaydataBackupOnInit",!0),MHb:C(S,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),yJb:C(I,"midplayEnabled",!0),rZa:C(H,"midplayIntervalMilliseconds",3E5),zJb:C(M,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),j2:C(H,"downloadReportDenominator",0),svb:C(H,"downloadReportInterval",3E5),dYa:C(H,"logConfigApplyDenominator",0),wNa:C(ea,G("bookmarkByMovieId"),{}),iT:C(I,G("forceLimitedDurationLicense"),!1),eC:C(H,G("licenseRenewalRequestDelay"),0),Ppa:C(H,G("persistedReleaseDelay"),1E4),y6b:C(I,G("limitedDurationFlagOverride"),void 0),c3a:C(H,"safariPlayPauseWorkaroundDelay",100),hZb:C(H,"workaroundValueForSeekIssue",1200),gga:C(I,G("callEndOfStream"),ma.gga),dNb:C(I,"performRewindCheck",!0),wxb:C(I,"fatalOnUnexpectedSeeking",!0),vxb:C(I,"fatalOnUnexpectedSeeked",!0),iTb:C(I,G("setVideoElementSize")),Lpb:C(I,G("clearVideoSrc"),!0),oQa:C(H,G("delayPlayPause"),0),cq:C(I,G("useTypescriptEme"),!1),b7a:C(I,G("useEncryptedEvent"),!0),GS:C(R,G("drmPersistKey"),"unsentDrmData"),w1a:C(I,G("promiseBasedEme"),!1),Oob:C(I,"captureKeyStatusData",!1),l4:C(I,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),SKb:C(I,G("nudgeSourceBuffer"),!1),bsa:C(K,G("seekDelta"),1),JV:C(I,G("preciseSeeking"),!1),$Nb:C(I,G("preciseSeekingOnTwoCoreDevice"),!1),nQa:C(ea,G("delayErrorHandling")),f6a:C(I,"trackingLogEnabled",!1),g6a:C(function(Fa,Wa){var Xa;Xa=ea(Fa,Wa,void 0);Xa && Object.entries(Xa).forEach(function(db){var Za;Za=aa(db);db=Za.next().value;Za=Za.next().value;"true" === Za?Xa[db]=!0:"false" === Za && (Xa[db]=!1);});return Xa;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Mta:C(R,"trackingLogPath","/customerevents/track/debug"),vWb:C(M,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),kk:C(R,"esn",""),cSa:C(R,"fesn",""),swb:C(I,G("enablePerformanceLogging"),!1),nRa:C(I,G("enableEmeVerboseLogging"),!1),kwb:C(I,"enableLastChunkLogging",!1),appId:C(R,"appId","",ua),sessionId:C(R,"sessionId","",ua),mga:C(R,"cdnProxyUrl"),dYb:C(I,"usePlayReadyHeaderObject",!1),DSa:C(H,"forceXhrErrorResponseCode",void 0),Rq:{o7b:C(R,"mslApiPath","/msl/"),V7b:C(R,"proxyPath",""),Oz:C(R,"uiVersion"),M8:C(R,"uiPlatform"),B4b:function(){return "0";},nqa:C(S,"preferredLanguages",l.gxa,/^[a-zA-Z-]{2,5}$/,1),pyb:C(R,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),jVb:C(I,"supportPreviewContentPin",!0),kVb:C(I,"supportWatermarking",!0),NTb:C(I,"showAllSubDubTracks",!1),u5b:C(I,G("failOnGuidMismatch"),!1)},g7:{enabled:C(I,"qcEnabled",!1),Jp:C(R,"qcPackageId","")},Yt:C(I,"useRangeHeader",!1),RS:C(I,"enableMilestoneEventList",!0),$J:C(R,"authenticationType",T.ev?ma.iNa:ma.$J),hNa:C(ea,"authenticationKeyNames",q.Tb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),uVb:C(R,"systemKeyWrapFormat"),qEb:C(I,"includeNetflixIdUserAuthData",!0),HTb:C(I,"shouldSendUserAuthData",!0),osa:C(I,"sendUserAuthIfRequired",ma.osa),DTb:C(I,"shouldClearUserData",!1),aKb:C(I,"mslDeleteStore",!1),cKb:C(I,"mslPersistStore",!0),Kqb:C(I,"correctNetworkForShortTitles",!0),UNb:C(I,"postplayHighInitBitrate",!1),kyb:C(I,"flushHeaderCacheOnAudioTrackChange",!0),oVb:C(I,"supportsUnequalizedDownloadables",!0),$Pa:C(H,G("debugAseDenominator"),100),AR:C(H,"aseAudioBufferSizeBytes",ma.AR.ea(y.bu)),BR:C(H,"aseVideoBufferSizeBytes",ma.BR.ea(y.bu)),Ev:C(H,"minInitVideoBitrate",560),toa:C(H,"minHCInitVideoBitrate",560),Wy:C(H,"maxInitVideoBitrate",Infinity),TU:C(H,"minInitAudioBitrate",0),SU:C(H,"minHCInitAudioBitrate",0),FU:C(H,"maxInitAudioBitrate",65535),M5:C(H,"minAcceptableVideoBitrate",235),UU:C(H,"minRequiredBuffer",3E4),Qi:C(H,"minPrebufSize",7800),soa:C(H,"minCheckBufferingCompleteInterval",999999),Vqa:C(L,"rebufferingFactor",1),fr:C(H,"maxBufferingTime",2600),uua:C(I,"useMaxPrebufSize",!0),lC:C(H,"maxPrebufSize",45E3),Zna:C(H,"maxRebufSize",Infinity),o4:C(P,"initialBitrateSelectionCurve",null),mWa:C(H,"initSelectionLowerBound",560),nWa:C(H,"initSelectionUpperBound",1050),u8:C(H,"throughputPercentForAudio",15),Efa:C(H,"bandwidthMargin",10),Ffa:C(I,"bandwidthMarginContinuous",!1),Gfa:C(P,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Yga:C(H,"conservBandwidthMargin",20),uta:C(I,"switchConfigBasedOnInSessionTput",!1),gS:C(H,"conservBandwidthMarginTputThreshold",0),Zga:C(P,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),s5a:C(I,"switchAlgoBasedOnHistIQR",!1),RC:C(R,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Yna:C(K,"maxPlayerStateToSwitchConfig",-1),wna:C(R,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),V$:C(L,"IQRThreshold",.5),Ela:C(R,"histIQRCalcToUse","simple"),ft:C(H,"maxTotalBufferLevelPerSession",0),p2:C(I,"enableDiscontiguousBuffering",!1),xja:C(M,"forceImmediateTransitionTypeForTitles",[]),wja:C(H,"forceImmediateTransitionExitZone",0),rua:C(I,"useBufferSizeLimiter",!1),PVa:C(H,"highWatermarkLevel",3E4),Z5a:C(H,"toStableThreshold",3E4),A8:C(H,"toUnstableThreshold",ma.A8.ea(A.ma)),Psa:C(I,"skipBitrateInUpswitch",!0),Mua:C(H,"watermarkLevelForSkipStart",8E3),yla:C(H,"highStreamRetentionWindow",9E4),xna:C(H,"lowStreamTransitionWindow",51E4),Ala:C(H,"highStreamRetentionWindowUp",3E5),zna:C(H,"lowStreamTransitionWindowUp",3E5),zla:C(H,"highStreamRetentionWindowDown",6E5),yna:C(H,"lowStreamTransitionWindowDown",0),xla:C(L,"highStreamInfeasibleBitrateFactor",.5),Qy:C(H,"lowestBufForUpswitch",15E3),n5:C(H,"lockPeriodAfterDownswitch",15E3),Bna:C(H,"lowWatermarkLevel",25E3),Ry:C(H,"lowestWaterMarkLevel",2E4),Cna:C(I,"lowestWaterMarkLevelBufferRelaxed",!1),joa:C(L,"mediaRate",1),A5:C(H,"maxTrailingBufferLen",1E4),ER:C(H,"audioBufferTargetAvailableSize",262144),CX:C(H,"videoBufferTargetAvailableSize",1048576),dZa:C(H,"maxVideoTrailingBufferSize",8388608),OYa:C(H,"maxAudioTrailingBufferSize",393216),G2:C(L,"fastUpswitchFactor",3),Via:C(L,"fastDownswitchFactor",1),Xy:C(H,"maxMediaBufferAllowed",24E4),Nsa:C(I,"simulatePartialBlocks",!0),s4a:C(I,"simulateBufferFull",!0),$ga:C(I,"considerConnectTime",!1),Xga:C(L,"connectTimeMultiplier",1),lYa:C(H,"lowGradeModeEnterThreshold",12E4),mYa:C(H,"lowGradeModeExitThreshold",9E4),RYa:C(H,"maxDomainFailureWaitDuration",3E4),NYa:C(H,"maxAttemptsOnFailure",18),RRa:C(I,"exhaustAllLocationsForFailure",!0),XYa:C(H,"maxNetworkErrorsDuringBuffering",20),u5:C(H,"maxBufferingTimeAllowedWithNetworkError",12E4),ZRa:C(H,"fastDomainSelectionBwThreshold",2E3),E5a:C(H,"throughputProbingEnterThreshold",4E4),F5a:C(H,"throughputProbingExitThreshold",34E3),ZXa:C(H,"locationProbingTimeout",1E4),fSa:C(H,"finalLocationSelectionBwThreshold",1E4),C5a:C(L,"throughputHighConfidenceLevel",.75),D5a:C(L,"throughputLowConfidenceLevel",.4),uRa:C(I,"enablePerfBasedLocationSwitch",!1),Dt:C(I,"probeServerWhenError",!0),uqa:C(H,"probeRequestTimeoutMilliseconds",8E3),vx:C(I,"allowSwitchback",!0),IG:C(H,"probeDetailDenominator",100),v5:C(H,"maxDelayToReportFailure",300),kna:C(H,"locationStatisticsUpdateInterval",6E4),qPa:C(I,"countGapInBuffer",!1),lMa:C(I,"allowCallToStreamSelector",!0),ENa:C(H,"bufferThresholdForAbort",1E4),$na:C(H,"maxResponsesInitialTput",6),q2:C(I,"enableInitialTputLogging",!1),Tpa:C(H,"pipelineScheduleTimeoutMs",2),Yy:C(H,"maxPartialBuffersAtBufferingStart",2),uoa:C(H,"minPendingBufferLen",6E3),kC:C(H,"maxPendingBufferLen",12E3),HIb:C(H,"maxPendingBufferLenAL1",3E4),aoa:C(H,"maxStreamingSkew",4E3),Wna:C(H,"maxPendingBufferPercentage",10),ZL:C(H,"maxRequestsInBuffer",60),ZYa:C(H,"maxRequestsInBufferAL1",240),$Ya:C(H,"maxRequestsInBufferBranching",120),Y3:C(H,"headerRequestSize",4096),Lia:C(I,"estimateHeaderSize",!0),RU:C(H,"minBufferLenForHeaderDownloading",1E4),fN:C(H,"reserveForSkipbackBufferMs",1E4),Xoa:C(H,"numExtraFragmentsAllowed",2),Kp:C(I,"pipelineEnabled",!1),B4a:C(H,"socketReceiveBufferSize",0),Y0:C(H,"audioSocketReceiveBufferSize",32768),cO:C(H,"videoSocketReceiveBufferSize",65536),vla:C(H,"headersSocketReceiveBufferSize",32768),S8:C(H,"updatePtsIntervalMs",1E3),Rfa:C(H,"bufferTraceDenominator",100),dK:C(H,"bufferLevelNotifyIntervalMs",2E3),WJ:C(H,"aseReportDenominator",0),T0:C(H,"aseReportIntervalMs",3E5),Zvb:C(I,"enableAbortTesting",!1),Pkb:C(H,"abortRequestFrequency",8),mta:C(H,"streamingStatusIntervalMs",2E3),jz:C(H,"prebufferTimeLimit",24E4),O5:C(H,"minBufferLevelForTrackSwitch",2E3),Kpa:C(H,"penaltyFactorForLongConnectTime",2),una:C(H,"longConnectTimeThreshold",200),Sea:C(H,"additionalBufferingLongConnectTime",2E3),Tea:C(H,"additionalBufferingPerFailure",8E3),ZV:C(H,"rebufferCheckDuration",6E4),qRa:C(I,"enableLookaheadHints",!1),iYa:C(H,"lookaheadFragments",2),fy:C(I,"enableOCSideChannel",!0),pZ:C(Q,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),I6a:C(I,"updateDrmRequestOnNetworkFailure",!1),mQa:C(I,"deferAseScheduling",!1),QYa:C(H,"maxDiffAudioVideoEndPtsMs",16E3),a2:C(H,"defaultHeaderCacheSize",4),Z1:C(H,"defaultHeaderCacheDataPrefetchMs",8E3),qG:C(I,"neverWipeHeaderCache",!0),Ioa:C(H,"networkFailureResetWaitMs",2E3),Hoa:C(H,"networkFailureAbandonMs",6E4),z5:C(H,"maxThrottledNetworkFailures",3),t8:C(H,"throttledNetworkFailureThresholdMs",200),Ana:C(K,"lowThroughputThreshold",400),Pia:C(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),JZa:C(I,"mp4ParsingInNative",!1),D4a:C(I,"sourceBufferInOrderAppend",!0),yz:C(I,"requireAudioStreamToEncompassVideo",!0),kMa:C(I,"allowAudioToStreamPastVideo",!0),Gh:C(I,"enableManagerDebugTraces",!1),zYa:C(H,"managerDebugMessageInterval",1E3),yYa:C(H,"managerDebugMessageCount",20),n_a:C(I,"notifyManifestCacheEom",!1),Qfa:C(H,"bufferThresholdToSwitchToSingleConnMs",18E4),Pfa:C(H,"bufferThresholdToSwitchToParallelConnMs",12E4),M6:C(H,"periodicHistoryPersistMs",3E5),C7:C(H,"saveVideoBitrateMs",18E4),BMa:C(I,"appendMediaRequestOnComplete",!0),g9:C(I,"waitForDrmToAppendMedia",!1),P2:C(I,G("forceAppendHeadersAfterDrm"),!1),APb:C(I,G("reappendRequestsOnSkip"),!1),iKb:C(H,"netIntrStoreWindow",36E3),GJb:C(H,"minNetIntrDuration",8E3),rxb:C(H,"fastHistoricBandwidthExpirationTime",10368E3),jnb:C(H,"bandwidthExpirationTime",5184E3),oxb:C(H,"failureExpirationTime",86400),JDb:C(H,"historyTimeOfDayGranularity",4),bxb:C(I,"expandDownloadTime",!1),QJb:C(H,"minimumMeasurementTime",500),PJb:C(H,"minimumMeasurementBytes",131072),LVb:C(H,"throughputMeasurementTimeout",2E3),FEb:C(H,"initThroughputMeasureDataSize",262144),MVb:C(R,"throughputPredictor","ewma"),KVb:C(H,"throughputMeasureWindow",5E3),PVb:C(H,"throughputWarmupTime",5E3),JVb:C(H,"throughputIQRMeasureWindow",5E3),Obb:C(H,"IQRBucketizerWindow",15E3),pqb:C(H,"connectTimeHalflife",10),lRb:C(H,"responseTimeHalflife",10),IDb:C(H,"historicBandwidthUpdateInterval",2E3),OJb:C(H,"minimumBufferToStopProbing",1E4),$ra:C(R,"secondThroughputEstimator","none"),j3a:C(K,"secondThroughputMeasureWindowInMs",Infinity),cwb:C(S,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),Ixb:C(Q,"filterDefinitionOverrides",{}),fub:C(R,"defaultFilter","throughput-ewma"),QRb:C(R,"secondaryFilter","none"),gub:C(Q,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),ZU:C(I,"needMinimumNetworkConfidence",!0),Jfa:C(I,"biasTowardHistoricalThroughput",!0),Mea:C(I,"addHeaderDataToNetworkMonitor",!1),Ysa:C(I,"startMonitorOnLoadStart",!1),tra:C(I,"reportFailedRequestsToNetworkMonitor",!1),Una:C(K,"maxFastPlayBufferInMs",Infinity),Tna:C(K,"maxFastPlayBitThreshold",Infinity),afa:C(I,"appendFirstHeaderOnComplete",!0),pmb:C(R,"ase_stream_selector","optimized"),$la:C(R,"initBitrateSelectorAlgorithm","default"),Vfa:C(R,"bufferingSelectorAlgorithm","default"),aQa:C(R,"ase_ls_failure_simulation",""),Dha:C(I,"ase_dump_fragments",!1),Fha:C(H,"ase_location_history",0),Gha:C(H,"ase_throughput",0),cQa:C(I,"ase_simulate_verbose",!1),QNb:C(H,"pollingPeriod",150),zHb:C(H,"loadTimeMs",18E4),mIb:C(H,"marginTimeMs",1E4),$ja:C(I,"getDeviceIdFromBindDevice",!1),Lea:C(I,"addFailedLogBlobsToQueue",!0),Zta:{"content-sampling":{fr:C(H,"contentSamplingMaxBufferingTime",3E3),mN:C(R,"contentSamplingSelectStartingVMAFMethod","fallback"),tR:C(I,"contentSamplingActivateSelectStartingVMAF",!0),gM:C(H,"contentSamplingMinStartingVideoVMAF",80),QU:C(H,"contentSamplingMinAcceptableVMAF",70),kG:C(H,"contentSamplingMinAllowedVmaf",60)},billboard:{Ev:C(H,"billboardMinInitVideoBitrate",1050),Wy:C(H,"billboardMaxInitVideoBitrate",null),Qi:C(H,"billboardMinPrebufSize",null),lC:C(H,"billboardMaxPrebufSize",null),fr:C(H,"billboardMaxBufferingTime",null),Yy:C(H,"billboardMaxPartialBuffersAtBufferingStart",null),Ry:C(H,"billboardLowestWaterMarkLevel",6E3),Qy:C(H,"billboardLowestBufForUpswitch",25E3),RC:C(R,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Ev:C(H,"preplayMinInitVideoBitrate",1050),Wy:C(H,"preplayMaxInitVideoBitrate",null),Qi:C(H,"preplayMinPrebufSize",null),lC:C(H,"preplayMaxPrebufSize",null),fr:C(H,"preplayMaxBufferingTime",null),Yy:C(H,"preplayMaxPartialBuffersAtBufferingStart",null),Ry:C(H,"preplayLowestWaterMarkLevel",6E3),Qy:C(H,"preplayLowestBufForUpswitch",25E3)},embedded:{Ev:C(H,"embeddedMinInitVideoBitrate",1050),Wy:C(H,"embeddedMaxInitVideoBitrate",null),Qi:C(H,"embeddedMinPrebufSize",null),lC:C(H,"embeddedMaxPrebufSize",null),fr:C(H,"embeddedMaxBufferingTime",null),Yy:C(H,"embeddedMaxPartialBuffersAtBufferingStart",null),Ry:C(H,"embeddedLowestWaterMarkLevel",6E3),Qy:C(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Ev:C(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),Wy:C(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Qi:C(H,"videoMerchBobHorizontalMinPrebufSize",null),lC:C(H,"videoMerchBobHorizontalMaxPrebufSize",null),fr:C(H,"videoMerchBobHorizontalMaxBufferingTime",null),Yy:C(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Ry:C(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Qy:C(H,"videoMerchBobHorizontalLowestBufForUpswitch",null),jw:C(S,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Ev:C(H,"miniModalHorizontalMinInitVideoBitrate",null),Wy:C(H,"miniModalHorizontalMaxInitVideoBitrate",null),Qi:C(H,"miniModalHorizontalMinPrebufSize",null),lC:C(H,"miniModalHorizontalMaxPrebufSize",null),fr:C(H,"miniModalHorizontalMaxBufferingTime",500),Yy:C(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Ry:C(H,"miniModalHorizontalLowestWaterMarkLevel",null),Qy:C(H,"miniModalHorizontalLowestBufForUpswitch",null)}},Bwb:C(I,"enableVerbosePlaydelayLogging",!1),vwb:C(I,"enableSeamless",!1),Dla:C(H,"hindsightDenominator",0),Cla:C(H,"hindsightDebugDenominator",0),c4:C(Q,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),TS:C(I,"enableSessionHistoryReport",!1),tia:C(H,"earlyStageEstimatePeriod",1E4),LXa:C(H,"lateStageEstimatePeriod",3E4),x5:C(H,"maxNumSessionHistoryStored",30),T5:C(H,"minSessionHistoryDuration",3E4),zv:C(H,"maxActiveRequestsPerSession",3),s5:C(H,"maxActiveRequestsSABCell100",2),y5:C(H,"maxPendingBufferLenSABCell100",500),fna:C(I,"limitAudioDiscountByMaxAudioBitrate",!0),Xd:C(Q,"browserInfo",{}),aob:C(H,G("busyGracePeriod"),199),nSb:C(I,G("sendTransitionLogblob"),!0),Pvb:C(I,G("editVideoFragments"),!0),n2:C(I,G("earlyAppendSingleChildBranch"),!0),rEb:C(I,G("includeSegmentInfoOnLogblobs"),!0),gxb:C(I,"exposeTestData",!1),Iha:C(I,"declareBufferingCompleteAtSegmentEnd",!0),dB:C(I,"applyProfileTimestampOffset",!1),ck:C(I,"applyProfileStreamingOffset",!1),Ylb:C(I,G("allowSmallSeekDelta"),!1),aUb:C(H,G("smallSeekDeltaThresholdMilliseconds"),u.LZ),awb:C(I,"enableCDMAttestedDescriptors",!1),t7:C(I,"requireDownloadDataAtBuffering",!1),u7:C(I,"requireSetupConnectionDuringBuffering",!1),Zqa:C(I,"recordFirstFragmentOnSubBranchCreate",!1),Nnb:C(I,"branchingAudioTrackFrameDropSmallSeekFix",!0),BSa:C(I,"forceL3WidevineCdm",!1),f7a:C(I,"useMobileVMAF",!1),uQa:C(R,"desiredVMAFTypeMobile","phone_plus_lts"),vQa:C(R,"desiredVMAFTypeNonMobile","plus_lts"),tR:C(I,"activateSelectStartingVMAF",!1),gM:C(H,"minStartingVideoVMAF",1),QU:C(H,"minAcceptableVMAF",1),kG:C(H,"minAllowedVmaf",1),bmb:C(I,"alwaysNotifyEOSForPlaygraph",!0),SS:C(I,"enableNewAse",!0),U8:C(I,"useNewApi",!0),gwb:C(I,"enableHudsonFieldTest",!1),XDb:C(S,"hudsonTitles",["81127954","70125931","80158148"]),GIb:C(H,"maxPartialBuffersAtHudson",1),XKb:C(H,"numberOfChunksPerSegment",4),yVb:C(H,"targetContentLatency",1E4),zVb:C(H,"targetLongContentLatency",3E4),RJb:C(H,"minimumTimeDelay",1),xia:C(I,"enableWsslEstimate",!1),t5:C(H,"maxAllowedOutstandingRequests",4),RJ:C(I,"alwaysRunUnderflowTimer",!0),voa:C(H,"minStreamableConcurrencyWindow",3E3),ita:C(L,"streamableConcurrencyFactor",.3),UR:C(H,"bufferingConcurrencyWindow",7800),WTb:C(I,"singleStreamablePerBranch",!0),r2:C(I,"enableResolutionVMAFStreamFilter",!1),y7:C(Q,"resolutionVMAFCappingRuleList",{}),Mpa:C(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),Xub:C(I,"disableSkipping",!1),sua:C(I,G("useExitZones"),!0),WQb:C(I,"requestSegmentVmaf",!1),iz:C(Q,"perFragmentVMAFConfig",{enabled:!1})};Qa=!0;b.Vga=function(Fa){var Wa,Xa,db;Wa=d.ha.get(B.rd).id;if(0 < b.config.dYa && 0 === Wa % b.config.dYa)try{Xa=d.ha.get(v.Co);db=d.ha.get(w.nA).Zu("config","info",{params:Fa});Xa.ve(db);}catch(Za){d.log.error("Failed to log config$apply",Za);}pb._cad_global.config=b.config;h.hb(Fa);Fa && (X=q.Tb({},Fa,{VL:!0}),q.Tb(X,O,{VL:!0}),F(ja,b.config),X.istestaccount && d.log.trace("Config applied for",qa(Qa?X:Fa)),Qa=!1);};b.Vga(X);};b.kqb=function(D,E){return t.Fe(D) && "%" == D[D.length - 1]?p.wi(parseFloat(D) * E / 100):D | 0;};b.$Oa=function(D){return D?(D=q.Tb({},b.config),q.Tb(D,{xG:b.config.Q_a},{dz:!0})):b.config;};b.lqb=function(D){var E;E=q.Tb({},b.config);D=c(D);return q.Tb(E,D,{dz:!0});};b.Wga=function(D){D=c(D);return q.Tb({},a(180)(D),{dz:!0});};b.ZOa=function(D,E,F){F=! !F && (0 <= F.indexOf("h264hpl") || 0 <= F.indexOf("vp9"));D={dM:D?b.config.DJb:b.config.dM,hM:D?b.config.JJb:F?b.config.IJb:b.config.hM,ZL:D && F?Math.max(b.config.$Ya,b.config.ZYa):D?b.config.$Ya:F?b.config.ZYa:b.config.ZL,kC:F?b.config.HIb:b.config.kC,n2:!E};return q.Tb({},a(180)(D),{dz:!0});};b.nqb=c;b.mqb=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ao={A4b:"casttv",Cga:"chrome",E4b:"chromecast",Rq:"edge",$Qa:"edgeoss",uSa:"firefox",g6b:"ie",opera:"opera",b3a:"safari"};b.qn={P0:"android",ZEb:"ios",qOa:"chromeos",YGb:"linux",rYa:"mac",x5a:"tesla",Nua:"windows"};b.XY={iqb:"computer",phone:"phone",xVb:"tablet"};b.Vc="ConfigSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(375),b);},function(r,b,a){b=a(109);b.hub=0;r.exports={EventEmitter:b,xh:a(783)};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pe=b.Eb=b.df=b.Lb=b.Z=b.Y$=b.MD=b.Ub=void 0;(function(c){c.DHb="loadedtracks";c.CHb="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Pq="currenttimechanged";c.eXb="unthrottledcurrenttimechanged";c.INa="bufferedtimechanged";c.Kvb="durationchanged";c.IYb="videosizechanged";c.SMb="pausedchanged";c.ONb="playingchanged";c.Jwb="endedchanged";c.$fa="busychanged";c.bNa="audiotracklistchanged";c.ME="audiotrackchanged";c.wH="timedtexttracklistchanged";c.Kz="timedtexttrackchanged";c.pX="trickplayframeschanged";c.gKb="mutedchanged";c.QYb="volumechanged";c.Jsa="showsubtitle";c.lra="removesubtitle";c.XYb="watermark";c.Bma="isReadyToTransition";c.CL="inactivated";c.EWa="internalPlaybackError";c.YRb="segmentmaploaded";c.ZRb="segmentpresenting";c.bnb="autoplaywasallowed";c.cnb="autoplaywasblocked";})(b.Ub || (b.Ub={}));(b.MD || (b.MD={})).wW="playgraphsegmenttransition";b.Y$=a;a.z3a="serverTimeChanged";(function(c){c.VJ="aseReport";c.Ymb="authorized";c.zfa="autoplayWasAllowed";c.Bl="autoplayWasBlocked";c.onb="bandwidthMeterAggregateUpdate";c.Ex="bufferUnderrun";c.closed="closed";c.yg="closing";c.Pq="currentTimeChanged";c.mF="downloadComplete";c.CL="inactivated";c.NXa="licenseAdded";c.TL="licensed";c.Py="locationSelected";c.Jna="manifestClosing";c.cG="manifestPresenting";c.D5="mediaBufferChanged";c.j6="nextBranchingSegmentChosen";c.st="playbackStart";c.Mp="playbackReady";c.Wl="repositioned";c.OG="repositioning";c.d3a="safePlayRequested";c.$G="segmentPresenting";c.p8b="segmentComplete";c.yW="serverSwitch";c.p4a="shouldUpdateVideoDiagInfo";c.NN="subtitleError";c.zta="throttledMediaTimeChanged";c.B6a="unthrottledMediaTimeChanged";c.SN="timedTextRebuffer";c.wH="timedTextTrackListChanged";c.pX="trickPlayFramesChanged";c.sX="tryRecoverFromStall";c.jua="updateNextBranchingSegmentWeights";c.kYb="userInitiatedPause";c.o7a="userInitiatedResume";})(b.Z || (b.Z={}));(function(c){c[c.vI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.ce=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Lb || (b.Lb={}));(function(c){c[c.ce=1]="NORMAL";c[c.$c=2]="BUFFERING";c[c.jGa=3]="STALLED";})(b.df || (b.df={}));(function(c){c[c.Hg=1]="WAITING";c[c.Hc=2]="PLAYING";c[c.Xh=3]="PAUSED";c[c.fu=4]="ENDED";})(b.Eb || (b.Eb={}));(function(c){c[c.Cw=0]="INITIAL";c[c.vA=1]="SEEK";c[c.TP=2]="TRACK_CHANGED";c[c.GI=3]="SEGMENT_CHANGED";c[c.IY=4]="FORCE_REBUFFER";})(b.pe || (b.pe={}));},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Oc=b.jma=b.My=b.Fe=b.Ima=b.uFb=b.hFb=b.zma=b.Ly=b.PWa=b.ya=b.Gma=b.isArray=b.jXa=b.jh=b.Kc=b.is=void 0;r=a(192);b.is=r.oD;b.Kc=function(c){return b.is.fg(c);};b.jh=function(c){return b.is.SJ(c);};b.jXa=function(c){return b.is.Bea(c);};b.isArray=function(c){return b.is.wx(c);};b.Gma=function(c){return b.is.rMa(c);};b.ya=function(c,f,l){return b.is.ai(c,f,l);};b.PWa=function(c,f,l){return b.is.Zea(c,f,l);};b.Ly=function(c,f,l){return b.is.yR(c,f,l);};b.zma=function(c){return b.is.nR(c);};b.hFb=function(c){return b.is.Nkb(c);};b.uFb=function(c){return b.is.Okb(c);};b.Ima=function(c){return b.is.sMa(c);};b.Fe=function(c){return b.is.Wo(c);};b.My=function(c){return b.is.Fn(c);};b.jma=function(c){return b.is.mR(c);};b.Oc=function(c){return b.is.H0(c);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rd="ApplicationSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ia=!1;},function(r,b,a){function c(f,l){return b.Jn.assert(f,l);}Object.defineProperty(b,"__esModule",{value:!0});b.Rtb=b.Cha=b.Ktb=b.Otb=b.yK=b.sS=b.Ntb=b.Ptb=b.zK=b.ZPa=b.Mtb=b.Ltb=b.hb=b.Jn=b.Qtb=b.B8a=void 0;r=a(7);a=a(91);b.B8a=function(){c(!1);};b.Qtb=!0;b.Jn=r.ha.get(a.cu);b.hb=c;b.Ltb=function(f,l){return b.Jn.smb(f,l);};b.Mtb=function(f,l){return b.Jn.tmb(f,l);};b.ZPa=function(f,l){return b.Jn.V0(f,l);};b.zK=function(f,l){return b.Jn.zmb(f,l);};b.Ptb=function(f,l){return b.Jn.xmb(f,l);};b.Ntb=function(f,l){return b.Jn.lfa(f,l);};b.sS=function(f,l){return b.Jn.vmb(f,l);};b.yK=function(f,l){return b.Jn.ymb(f,l);};b.Otb=function(f,l){return b.Jn.wmb(f,l);};b.Ktb=function(f,l){return b.Jn.rmb(f,l);};b.Cha=function(f,l){return b.Jn.umb(f,l);};b.Rtb=function(){return b.Jn.XEb();};},function(r,b){function a(c,f){var l,m,d,g,h;if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.S=void 0;r=(function(){function c(f,l){"object" === typeof f?(this.dc=f.Xb,this.fb=f.U):(this.dc=f,this.fb=l);}c.compare=function(f,l){return f.Vk(l);};c.abs=function(f){return new c(Math.abs(f.dc),f.fb);};c.mb=function(f){return 0 === f?c.ab:new c(f,1E3);};c.jX=function(f,l){return Math.floor(1E3 * f / l);};c.a6=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Xb:{get:function(){return this.dc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return c.jX(this.dc,this.fb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{EG:{get:function(){return 1E3 * this.dc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{TG:{get:function(){var f;f=this.EG;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ug:{get:function(){return this.dc / this.fb;},enumerable:!1,configurable:!0}});c.prototype.Yf=function(f){f/=this.fb;return new c(Math.floor(this.dc * f),Math.floor(this.fb * f));};c.prototype.add=function(f){var l;if(this.fb === f.fb)return new c(this.dc + f.dc,this.fb);l=a(this.fb,f.fb);return new c(this.dc * l / this.fb + f.dc * l / f.fb,l);};c.prototype.Aa=function(f){var l;if(this.fb === f.fb)return new c(this.dc - f.dc,this.fb);l=a(this.fb,f.fb);return new c(this.dc * l / this.fb - f.dc * l / f.fb,l);};c.prototype.rC=function(f){return new c(this.dc * f,this.fb);};c.prototype.Xk=function(f){var l;if("number" === typeof f){l=a(this.dc,f);return l !== this.dc?this.Yf(l / this.dc * this.fb).Xk(f):new c(this.dc / f,this.fb);}if(this.fb === f.fb)return this.dc / f.dc;l=a(this.fb,f.fb);return this.dc * l / this.fb / (f.dc * l / f.fb);};c.prototype.AQa=function(f){var l;if(this.fb === f.fb)return new c(Math.abs(this.dc - f.dc),this.fb);l=a(this.fb,f.fb);return new c(Math.abs(this.dc * l / this.fb - f.dc * l / f.fb),l);};c.prototype.Xqa=function(){return new c(this.fb,this.dc);};c.prototype.compare=function(f,l){var m;if(this.fb === l.fb)return f(this.dc,l.dc);m=a(this.fb,l.fb);return f(this.dc * m / this.fb,l.dc * m / l.fb);};c.prototype.Vk=function(f){var l;if(this.fb === f.fb)return this.dc - f.dc;l=a(this.fb,f.fb);return this.dc * l / this.fb - f.dc * l / f.fb;};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.o6=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.uv=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Un=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.isFinite=function(){return ! !this.fb && isFinite(this.dc);};c.prototype.I3=function(f){return a(this.U,f);};c.prototype.toJSON=function(){return {ticks:this.dc,timescale:this.fb};};c.prototype.toString=function(){return this.dc + "/" + this.fb;};c.prototype.Pd=function(){return this.dc + "/" + this.fb + " (" + this.V + "ms)";};c.ab=new c(0,1E3);c.Hv=new c(1,1E3);c.By=new c(Infinity,1);return c;})();b.S=r;},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,H=arguments.length;K < H;K++){J=arguments[K];for(var L in J){Object.prototype.hasOwnProperty.call(J,L) && (G[L]=J[L]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,H){K.__proto__=H;}) || (function(K,H){for(var L in H){H.hasOwnProperty(L) && (K[L]=H[L]);}});return f(G,J);}function l(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function m(G,J){var K,H,L;K={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > J.indexOf(H) && (K[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){L=0;for(H=Object.getOwnPropertySymbols(G);L < H.length;L++){0 > J.indexOf(H[L]) && Object.prototype.propertyIsEnumerable.call(G,H[L]) && (K[H[L]]=G[H[L]]);}}return K;}function d(G,J,K,H){var L,R,I;L=arguments.length;R=3 > L?J:null === H?H=Object.getOwnPropertyDescriptor(J,K):H;if("object" === typeof Reflect && "function" === typeof Reflect.Qq)R=Reflect.Qq(G,J,K,H);else for(var Q=G.length - 1;0 <= Q;Q--){if(I=G[Q])R=(3 > L?I(R):3 < L?I(J,K,R):I(J,K)) || R;}return (3 < L && R && Object.defineProperty(J,K,R),R);}function g(G,J){return function(K,H){J(K,H,G);};}function h(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.yd)return Reflect.yd(G,J);}function k(G,J,K,H){function L(R){return R instanceof K?R:new K(function(I){I(R);});}return new (K || (K=Promise))(function(R,I){function Q(P){try{M(H.next(P));}catch(S){I(S);}}function N(P){try{M(H["throw"](P));}catch(S){I(S);}}function M(P){P.done?R(P.value):L(P.value).then(Q,N);}M((H=H.apply(G,J || [])).next());});}function n(G,J){var L,R,I,Q,N;function K(M){return function(P){return H([M,P]);};}function H(M){if(R)throw new TypeError("Generator is already executing.");for(;L;){try{if((R=1,I && (Q=M[0] & 2?I["return"]:M[0]?I["throw"] || ((Q=I["return"]) && Q.call(I),0):I.next) && !(Q=Q.call(I,M[1])).done))return Q;if((I=0,Q))M=[M[0] & 2,Q.value];switch(M[0]){case 0:case 1:Q=M;break;case 4:return (L.label++,{value:M[1],done:!1});case 5:L.label++;I=M[1];M=[0];continue;case 7:M=L.Qm.pop();L.gn.pop();continue;default:if(!(Q=L.gn,Q=0 < Q.length && Q[Q.length - 1]) && (6 === M[0] || 2 === M[0])){L=0;continue;}if(3 === M[0] && (!Q || M[1] > Q[0] && M[1] < Q[3]))L.label=M[1];else if(6 === M[0] && L.label < Q[1])(L.label=Q[1],Q=M);else if(Q && L.label < Q[2])(L.label=Q[2],L.Qm.push(M));else {Q[2] && L.Qm.pop();L.gn.pop();continue;}}M=J.call(G,L);}catch(P){M=[6,P];I=0;}finally{R=Q=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}L={label:0,$d:function(){if(Q[0] & 1)throw Q[1];return Q[1];},gn:[],Qm:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(G,J,K,H){void 0 === H && (H=K);G[H]=J[K];}function p(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function t(G){var J,K,H;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];H=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(G,J){var K,H,L;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);L=[];try{for(;(void 0 === J || 0 < J--) && !(H=G.next()).done;){L.push(H.value);}}catch(I){var R;R={error:I};}finally{try{H && !H.done && (K=G["return"]) && K.call(G);}finally{if(R)throw R.error;}}return L;}function v(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(u(arguments[J]));}return G;}function w(){var H;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);H=0;for(J=0;J < K;J++){for(var L=arguments[J],R=0,I=L.length;R < I;(R++,H++)){G[H]=L[R];}}return G;}function x(G){return this instanceof x?(this.VC=G,this):new x(G);}function y(G,J,K){var N,M,P;function H(S){N[S] && (M[S]=function(ea){return new Promise(function(qa,wa){1 < P.push([S,ea,qa,wa]) || L(S,ea);});});}function L(S,ea){var qa;try{qa=N[S](ea);qa.value instanceof x?Promise.resolve(qa.value.VC).then(R,I):Q(P[0][2],qa);}catch(wa){Q(P[0][3],wa);}}function R(S){L("next",S);}function I(S){L("throw",S);}function Q(S,ea){(S(ea),P.shift(),P.length) && L(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);P=[];return (M={},H("next"),H("throw"),H("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function A(G){var K,H;function J(L,R){K[L]=G[L]?function(I){return (H=!H)?{value:x(G[L](I)),done:"return" === L}:R?R(I):I;}:R;}return (K={},J("next"),J("throw",function(L){throw L;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function z(G){var H,L;function J(R){L[R]=G[R] && (function(I){return new Promise(function(Q,N){I=G[R](I);K(Q,N,I.done,I.value);});});}function K(R,I,Q,N){Promise.resolve(N).then(function(M){R({value:M,done:Q});},I);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof t?t(G):G[Symbol.iterator](),L={},J("next"),J("throw"),J("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return A;});a.d(b,"__asyncValues",function(){return z;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.pPa=b.ESa=b.my=b.lk=b.wd=b.vv=b.trim=b.WT=b.h5a=b.Iqa=b.zMb=b.ue=b.NMa=b.aOa=b.Tb=b.ee=void 0;c=a(21);f=a(29);l=a(11);m=a(18);b.ee=function(d,g){for(var h in d){d.hasOwnProperty(h) && g(h,d[h]);}};b.Tb=b.Tb || (function(d,g,h){var k,n,q;if(g)if(h){k=h.VL;n=h.prefix;q=h.dz;b.ee(g,function(p,t){if(!q || f.Kc(t))d[(n || "") + (k?p.toLowerCase():p)]=t;});}else b.ee(g,function(p,t){d[p]=t;});return d;});b.aOa=function(d,g,h,k){var n;if(d){n=d[g];m.Oc(n) && (h=n.apply(d,l.slice.call(arguments,3)));}return h;};b.NMa=function(d){for(var g={},h=d.length;h--;){g[d[h]]=!0;}return g;};b.ue=b.ue || (function(d){return parseInt(d,10);});b.zMb=function(d){return (/^true$/i).test(d);};b.Iqa=function(d,g){return l.wi(d + l.xD() * (g - d));};b.h5a=function(d){return JSON.stringify(d,null,"  ");};b.WT=(function(){var g,h;function d(k){c.hb(void 0 !== g[k]);return g[k];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(k){return k.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(g){return g.replace(d,"");};})();b.vv=function(d){return Array.isArray(d)?d:[d];};b.wd=b.wd || (function(d){var g,h,k;if(d){g=d.stack;h=d.number;k=d.message;k || (k="" + d);g?(d="" + g,0 != d.indexOf(k) && (d=k + "\n" + d)):d=k;h && (d+="\nnumber:" + h);return d;}});b.lk=function(d){return m.ya(d)?d.toFixed(0):"";};b.my=function(d){return m.ya(d)?(d / 1E3).toFixed(0):"";};b.ESa=function(d){return m.ya(d)?d.toFixed():"";};b.pPa=function(d){for(var g=[],h=0;h < d.length;h++){g[h]=d[h];}return g;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vw=b.jIa=b.kfb=b.hj=b.de=b.Bi=b.au=b.fm=void 0;(function(a){a[a.Audio=0]="Audio";a[a.dIa=1]="Video";})(b.fm || (b.fm={}));(function(a){a[a.du=0]="Default";a[a.Fw=1]="Microsoft";})(b.au || (b.au={}));(function(a){a[a.du=0]="Default";a[a.f$=1]="Cast";a[a.XH=2]="Chrome";a[a.Fw=3]="Microsoft";})(b.Bi || (b.Bi={}));(function(a){a[a.QP=0]="SD";a[a.MY=1]="HD";a[a.JI=2]="UHD";a[a.Mr=3]="DV";a[a.Bw=4]="HDR10";a[a.$z=5]="AVCHigh";a[a.Qw=6]="VP9";a[a.dj=7]="AV1";})(b.de || (b.de={}));(function(a){a[a.rD=0]="Level_1_4";a[a.iu=1]="Level_2_2";})(b.hj || (b.hj={}));b.kfb=function(){};(function(a){a[a.C2b=0]="Platform";a[a.r_b=1]="CurrentTitle";})(b.jIa || (b.jIa={}));b.vw="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jf="IsTypeSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={QZb:{Nw:0,P2b:1,name:["STARTUP","STEADY"]},NY:{$g:0,O2b:1,gfb:2,name:["STARTING","STABLE","UNSTABLE"]},Ra:{Sb:0,Fb:1,name:["AUDIO","VIDEO"]},Gk:{Sb:0,Fb:1,name:["AUDIO","VIDEO"]},Zg:{URL:0,OD:1,LOCATION:2,Iw:3,name:["URL","SERVER","LOCATION","NETWORK"]},zf:{HAVE_NOTHING:0,hA:1,Aw:2,jI:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ND:{xZb:0,u0b:1,t2b:2,C1b:3,b2b:4,q3b:5,w0b:6,b1b:7,Nw:8,xf:9,Raa:10,Tdb:11,U9:12,Vbb:13,Ubb:14,zeb:15,yeb:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},X_b:{Iw:0,t_b:1,name:["NETWORK","DECODE"]},M2b:{v_b:"delayedSeamless",G0b:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kf="UtilitiesSymbol";},function(r,b,a){var m,d;function c(g){return null !== g && void 0 !== g;}function f(g){return typeof g == b.mHa;}function l(g,h,k){var n,q,p;if(h)if(k){n=k.VL;q=k.prefix;p=k.dz;d.ee(h,function(t,u){if(!p || c(u))g[(q || "") + (n?t.toLowerCase():t)]=u;});}else d.ee(h,function(t,u){g[t]=u;});return g;}Object.defineProperty(b,"__esModule",{value:!0});b.L=b.wd=b.WT=b.XK=b.bF=b.createElement=b.rs=b.MMa=b.x1=b.yN=b.Tb=b.Eo=b.ue=b.My=b.Fe=b.jh=b.Kc=b.lHa=b.Yeb=b.Zeb=b.mHa=b.$C=b.k9=b.Jr=b.lO=b.kO=b.Wj=b.eZ=b.wD=b.xD=b.Do=b.pn=b.wi=b.taa=b.Ew=b.ZH=b.$cb=b.JD=b.Hk=b.Ik=void 0;m=a(11);d=a(24);b.Ik=function(){};b.Hk=1E3;b.JD=Object.create;b.$cb=Object.keys;b.ZH=Date.now;b.Ew=Math.floor;b.taa=Math.ceil;b.wi=Math.round;b.pn=Math.max;b.Do=Math.min;b.xD=Math.random;b.wD=Math.abs;b.eZ=Math.pow;b.Wj="$attributes";b.kO="$children";b.lO="$name";b.Jr="$text";b.k9="$parent";b.$C="$sibling";b.mHa="string";b.Zeb="number";b.Yeb="function";b.lHa="object";b.Kc=c;b.jh=function(g){return typeof g == b.lHa;};b.Fe=f;b.My=function(g){return f(g) && g;};b.ue=function(g){return parseInt(g,10);};b.Eo=function(g,h,k){return g >= h?g <= k?g:k:h;};b.Tb=l;b.yN=function(g){return l({},g);};b.x1=function(g){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var k=arguments.length;h < k;){n=arguments[h++];if(c(n))return n;}};b.MMa=function(g,h){for(var k,n=!0,q;n;){for((n=!1,k=g.length);--k;){q=g[k];q[h] < g[k - 1][h] && (g[k]=g[k - 1],g[k - 1]=q,n=!0);}}};b.rs=function(g,h){if(g.length == h.length){for(var k=g.length;k--;){if(g[k] != h[k])return !1;}return !0;}return !1;};b.createElement=function(g,h,k,n){var q;q=m.Ke.createElement(g);h && (q.style.cssText=h);k && (q.innerHTML=k);n && d.ee(n,function(p,t){q.setAttribute(p,t);});return q;};b.bF=function(g){var h;h="";d.ee(g,function(k,n){h+=(h?";":"") + k + ":" + n;});return h;};b.XK=function(g,h,k){var n;if(g / h > k){n=b.wi(h * k);g=h;}else (n=g,g=b.wi(g / k));return {width:n,height:g};};b.WT=(function(){var h,k;function g(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};k=/[&'"<>]/g;return function(n){return n.replace(k,g);};})();b.wd=function(g){var h,k;if(g){h=g.stack;k=g.number;g="" + g;h?(h="" + h,0 != h.indexOf(g) && (h=g + "\n" + h)):h=g;k && (h+="\nnumber:" + k);return h;}};b.L={im:1001,gj:1003,tab:1701,Sya:1713,uab:1715,sab:1721,JY:1723};},function(r,b,a){var f;function c(l){return l.filter(function(m,d){return l.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.n6=b.QCb=b.Lqb=b.flatten=b.wZa=b.Ypb=b.OMa=b.js=b.LMa=b.IMa=b.JMa=b.ap=b.KMa=b.wg=void 0;f=a(2);b.wg=function(l,m){for(var d=0;d < l.length;d++){if(m(l[d],d,l))return l[d];}};b.KMa=function(l,m){for(var d=l.length - 1;0 <= d;--d){if(m(l[d],d,l))return l[d];}};b.ap=function(l,m){var d;d=-1;return l.some(function(g,h,k){d=h;return m(g,h,k);})?d:-1;};b.JMa=function(l,m){for(var d=l.length - 1;0 <= d;d--){if(m(l[d],d,l))return d;}return -1;};b.IMa=c;b.LMa=function(l,m){m=l.indexOf(m);if(-1 === m)return !1;l.splice(m,1);return !0;};b.js=function(l,m,d){return d?l.filter(function(g){return !m.some(function(h){return d(g,h);});}):l.filter(function(g){return -1 === m.indexOf(g);});};b.OMa=function(l,m){return c(l.concat(m));};b.Ypb=function(l){return function(m,d){return l(m) - l(d);};};b.wZa=function(l){return function(m,d){return l(m) < l(d)?m:d;};};b.flatten=function(l){var m;return (m=[]).concat.apply(m,f.__spread(l));};b.Lqb=function(l,m){void 0 === m && (m=function(d){return d;});return l.reduce(function(d,g){g=m(g);return (void 0 === d[g]?d[g]=1:++d[g],d);},{});};b.QCb=function(l,m){return l.reduce(function(d,g){var h;h=m(g);return (void 0 === d[h]?d[h]=[g]:d[h].push(g),d);},{});};b.n6=function(l){return null !== l && void 0 !== l;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);b.ia=!1;r=(function(){function f(l,m,d,g,h){this.ja=l;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ta={};this.Sm=g;}f.Cm=function(l,m){var g,k;function d(n){n && n.Cm && (n=n.Cm(m),n.length && (g=g.concat(n)));}g=[];l.type === m && g.push(l);if(l.Ta)for(var h in l.Ta){k=l.Ta[h];Array.isArray(k) && k.forEach(d);}return g;};f.hs=function(l,m){void 0 === l.Ta[m.type] && (l.Ta[m.type]=[]);l.Ta[m.type].push(m);};f.Zk=function(l,m){return f.Cm(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.ja;},enumerable:!0,configurable:!0}});f.prototype.ic=function(){var l;l=this.ja.ta();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.hs=function(l){f.hs(this,l);};f.prototype.Cm=function(l){return f.Cm(this,l);};f.prototype.Zk=function(l){return f.Zk(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Fs=function(){return !0;};f.prototype.uh=function(l){if((l=this.Ta[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.we=function(l,m){m=void 0 === m?this.ja.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Sm,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Sm).toString(16) + ")");this.ja.we(l,m,this);};f.prototype.Jt=function(l,m,d){d=void 0 === d?this.ja.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Sm,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Sm).toString(16) + ")");this.ja.Jt(l,m,d,this);};f.prototype.YV=function(l,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.ZQ(l,m));}return g;}return this.ZQ(l,m);};f.prototype.li=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(g){var h,k;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.ja.offset+=h / 8;}else for(h in g){k=g[h];m[h]="string" === typeof k?d.YV(k):d.YV(k.type,k.length,k.hfa);}});return m;};f.prototype.ZQ=function(l,m){var d;d=this.byteLength - this.ja.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.ja.eb();break;case "int64":l=this.ja.Hd();break;case "int32":l=this.ja.ta();break;case "int16":l=this.ja.Gc();break;case "string":l=this.ja.Mqa(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.La=!1;return f;})();b.mc=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yg="AsyncComponentLoaderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(155);b.ia=!1;r=(function(){function f(l,m,d,g,h){this.ja=l;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ta={};this.Sm=g;}f.Cm=function(l,m){var g,k;function d(n){n && n.Cm && (n=n.Cm(m),n.length && (g=g.concat(n)));}g=[];l.type === m && g.push(l);if(l.Ta)for(var h in l.Ta){k=l.Ta[h];Array.isArray(k) && k.forEach(d);}return g;};f.hs=function(l,m){void 0 === l.Ta[m.type] && (l.Ta[m.type]=[]);l.Ta[m.type].push(m);};f.Zk=function(l,m){return f.Cm(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.ja;},enumerable:!0,configurable:!0}});f.prototype.ic=function(){var l;l=this.ja.ta();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.hs=function(l){f.hs(this,l);};f.prototype.Cm=function(l){return f.Cm(this,l);};f.prototype.Zk=function(l){return f.Zk(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Fs=function(){return !0;};f.prototype.uh=function(l){if((l=this.Ta[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.we=function(l,m){m=void 0 === m?this.ja.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Sm,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Sm).toString(16) + ")");this.ja.we(l,m,this);};f.prototype.Jt=function(l,m,d){d=void 0 === d?this.ja.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Sm,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Sm).toString(16) + ")");this.ja.Jt(l,m,d,this);};f.prototype.YV=function(l,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.ZQ(l,m));}return g;}return this.ZQ(l,m);};f.prototype.li=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(g){var h,k;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.ja.offset+=h / 8;}else for(h in g){k=g[h];m[h]="string" === typeof k?d.YV(k):d.YV(k.type,k.length,k.hfa);}});return m;};f.prototype.ZQ=function(l,m){var d;d=this.byteLength - this.ja.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.ja.eb();break;case "int64":l=this.ja.Hd();break;case "int32":l=this.ja.ta();break;case "int16":l=this.ja.Gc();break;case "string":l=this.ja.Mqa(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.La=!1;return f;})();b.mc=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kk="PlatformSymbol";b.tA="PlatformMutableSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Th="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qIa="WindowTimersSymbol";b.pD="JSONSymbol";b.WHa="UserAgentSymbol";b.wI="NavigatorSymbol";b.zcb="MediaSourceSymbol";b.YAa="LocationSymbol";b.qxa="DateSymbol";b.$aa="PerformanceSymbol";b.IP="PlatformExtraInfoSymbol";},function(r,b,a){var m,d;function c(g,h){return g && g.Zs && (h || !1 !== g.Hs);}function f(g,h,k){return !m.ya(g) || g < h?h:g > k?k:g;}function l(g){if(!(this instanceof l))return new l(g);this.je=m.ya(g)?g:void 0;}m=a(10);d=new (a(5).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,h){if(!g)throw (g=h?" : " + h:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},UF:c,ija:function(g,h,k){var q,p,t,u;function n(v){var w;w=g[v];if(!w.Zs || k && !k(w,v))return !1;u=v;return !0;}q=g.length;p=0;t=q;m.isArray(h) && (p=f(h[0],0,q),t=f(h[1],0,q),h=h[2]);h=f(h,p - 1,t);for(q=h - 1;q >= p;--q){if(n(q))return u;}for(q=h + 1;q < t;++q){if(n(q))return u;}return -1;},ZJb:function(g,h){return Math.floor(g / (125 * h) * 1E3);},bob:function(g,h){return Math.ceil(g / 1E3 * h * 125);},o6b:function(g,h){return !g.slice(h + 1).some(c);},Go:l,wg:function(g,h){var k;return g.some(function(n,q,p){k=n;return h(n,q,p);})?k:void 0;},ap:function(g,h){var k;return g.some(function(n,q,p){k=q;return h(n,q,p);})?k:-1;},t1:f};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.h$="ConfigurableInputsSymbol";b.jm="ValidatingConfigurableInputsSymbol";b.DO="ConfigNameSymbol";b.nP="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.em=b.lu=b.zw=void 0;(function(a){a[a.pHa=0]="Test";a[a.wAa=1]="Int";a[a.Oeb=2]="Staging";a[a.geb=3]="Prod";})(b.zw || (b.zw={}));(function(a){a[a.KP=0]="PreferMsl";a[a.tFa=1]="PreferNoMsl";a[a.Ucb=2]="NoMsl";})(b.lu || (b.lu={}));b.em="GeneralConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vi="ClockSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qA="named";b.hZ="name";b.XP="unmanaged";b.bDa="optional";b.mP="inject";b.uD="multi_inject";b.hHa="inversify:tagged";b.iHa="inversify:tagged_props";b.Jaa="inversify:paramtypes";b.m$a="design:paramtypes";b.FP="post_construct";},function(r,b,a){var f;function c(l,m,d,g,h,k,n,q,p,t,u,v){this.code=void 0 === l?f.M.im:l;this.kc=m;this.xd=d;this.zm=g;this.Fv=h;this.message=k;this.details=n;this.data=q;this.Fj=p;this.ANb=t;this.alert=u;this.Xea=v;this.W=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ed=void 0;f=a(3);c.wd=function(l){var m,d,g;if(l){m=l.stack;d=l.number;g=l.message;g || (g="" + l);m?(l="" + m,0 !== l.indexOf(g) && (l=g + "\n" + l)):l=g;d && (l+="\nnumber:" + d);return l;}return "";};c.prototype.yS=function(l){this.details=c.wd(l);this.data=l;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.kc,extCode:this.xd,edgeCode:this.zm,mslCode:this.Fv,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Fj,playbackServiceError:this.ANb};};c.Dja=function(l,m){return new c(l,f.L.gj,void 0,void 0,void 0,void 0,m.message,m.stack);};c.eZb=function(l,m,d){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.ed=c;},function(r,b,a){var m,d,g;function c(h){var k,n,q,u;q=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var p=(k=void 0,m.__values(Object.getOwnPropertyNames(h))),t=p.next();!t.done;t=p.next()){u=t.value;-1 === q.indexOf(u) && q.push(u);}}catch(v){k={error:v};}finally{try{t && !t.done && (n=p.return) && n.call(p);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return q;}function f(h,k,n,q,p){var t;Object.getOwnPropertyNames(h).filter(function(u){return p(u) && (n || !Object.prototype.hasOwnProperty.call(k,u)) && (q || !((u in k)));}).forEach(function(u){t=Object.getOwnPropertyDescriptor(h,u);void 0 !== t && Object.defineProperty(k,u,t);});}function l(h,k,n,q){var p,t;p=[];n || (p=Object.getOwnPropertyNames(k));q || (p=c(k));t=Object.getPrototypeOf(h);null !== t && t !== Object.prototype && l(t,k,n,q);f(h,k,!0,!0,function(u){return "constructor" !== u && -1 === p.indexOf(u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.wf=b.Jqb=void 0;m=a(2);d=a(6);b.Jqb=l;g=Object.getOwnPropertyNames(Function);b.wf=function(h,k,n,q){void 0 === n && (n=!0);void 0 === q && (q=!0);q || d.assert(!n);h.prototype?(l(h.prototype,k.prototype,n,q),f(h,k,n,q,function(p){return -1 === g.indexOf(p);})):f(h,k.prototype,n,q,function(p){return -1 === g.indexOf(p);});return k;};},function(r,b,a){var m,d,g;function c(h){return function(k,n){return k.Sqa(n,h);};}function f(h,k){return h.h7.lPb[k] || l(h,k);}function l(h,k){h=h.Cy.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.xx=b.bra=b.object=b.Swb=b.url=b.ca=b.tk=b.$ta=b.WEb=b.j8=b.string=b.Pz=b.bd=b.x4=b.config=void 0;m=a(47);d=a(4);g=a(135);b.config=function(h,k,n){n=void 0 === n?!1:n;return function(q,p,t){var u,v;u=void 0 !== k?k:p;v=t.get;void 0 !== v && (t.get=function(){var w;if(!this.OFb(p))return this.YBb(p);a:{w=(this.Wlb || n?f:l)(this,u.toString());if(void 0 !== w)if((w=h(this.iV,w),w instanceof g.Fo))this.HSa(u,w);else break a;w=v.bind(this)();}this.kRb(p,w);return w;});return t;};};b.x4=function(h,k){return h.P1a(k);};b.bd=function(h,k){return h.Lqa(k);};b.Pz=function(h,k){return h.Rp(k);};b.string=function(h,k){return h.Sqa(k);};b.j8=function(h,k){return h.ph(k,b.string);};b.WEb=function(h,k){return h.ph(k,b.x4);};b.$ta=function(h,k){return h.ph(k,b.Pz);};b.tk=function(h,k){h=h.Rp(k);return h instanceof g.Fo?h:d.xc(h);};b.ca=function(h,k){h=h.Rp(k);return h instanceof g.Fo?h:m.ca(h);};b.url=c(/^\S+$/);b.Swb=function(h){return function(k,n){return k.O1a(n,h);};};b.object=function(){return function(h,k){return h.Q1a(k);};};b.bra=c;b.xx=function(h,k){return function(n,q){return n.ph(q,h,k);};};},function(r,b,a){var l,m,d,g;function c(h,k){var n;n=g.call(this,h,k) || this;n.bPa=k;n.debug=h.debug;n.za=h.Bg.Db(n.bPa);return n;}function f(h,k){this.bPa=k;this.Bqa={};this.Cy=h.Cy;this.iV=h.iV;this.h7=h.h7;}Object.defineProperty(b,"__esModule",{value:!0});b.gf=b.tO=b.jHa=void 0;r=a(1);l=a(580);m=a(0);d=a(135);b.jHa="isTestAccount";f.prototype.HSa=function(){};f.prototype.kRb=function(h,k){this.Bqa[h]=[k,this.Cy.A7];};f.prototype.OFb=function(h){return l.Iaa.of(this.Bqa[h]).map(function(k){return k[1];}).or(-1) < this.Cy.A7;};f.prototype.YBb=function(h){return l.Iaa.of(this.Bqa[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Va.Object.defineProperties(f.prototype,{Wlb:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.Cy && this.Cy.data){h=this.Cy.data[b.jHa];"undefined" !== typeof h && (k=h.toString());h=this.iV.Lqa(k);h=h instanceof d.Fo?!1:h;}else h=!1;return h;}}});g=f;g=r.__decorate([m.R(),r.__param(0,m.Ek()),r.__param(1,m.Ek())],g);b.tO=g;ka(c,g);c.prototype.HSa=function(h,k){this.za.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,m.Ek()),r.__param(1,m.Ek())],a);b.gf=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lj="SchedulerSymbol";},function(r,b,a){var l;function c(){return l.YP.apply(this,arguments) || this;}function f(m){return new l.Qr(m,b.dD);}Object.defineProperty(b,"__esModule",{value:!0});b.ab=b.xCa=b.caa=b.bu=b.dD=b.gJb=b.xGb=b.ca=b.Cx=b.q9a=void 0;l=a(303);ka(c,l.YP);b.q9a=c;b.Cx=f;b.ca=function(m){return new l.Qr(m,b.bu);};b.xGb=function(m){return new l.Qr(m,b.caa);};b.gJb=function(m){return new l.Qr(m,b.xCa);};b.dD=new c(1,"b");b.bu=new c(8 * b.dD.Zf,"B",b.dD);b.caa=new c(1024 * b.bu.Zf,"KB",b.dD);b.xCa=new c(1024 * b.caa.Zf,"MB",b.dD);b.ab=f(0);},function(r,b){function a(){}function c(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sr=b.oe=b.N=void 0;b.N=f;f.iI="playready-h264mpl30-dash";f.jD="playready-h264mpl31-dash";f.I$="playready-h264mpl40-dash";f.kza="playready-h264hpl22-dash";f.QO="playready-h264hpl30-dash";f.RO="playready-h264hpl31-dash";f.H$="playready-h264hpl40-dash";f.YZ="vp9-profile0-L21-dash-cenc";f.KI="vp9-profile0-L30-dash-cenc";f.LI="vp9-profile0-L31-dash-cenc";f.$P="vp9-profile0-L40-dash-cenc";f.Fab="hevc-main10-L30-dash-cenc";f.Gab="hevc-main10-L31-dash-cenc";f.Hab="hevc-main10-L40-dash-cenc";f.Iab="hevc-main10-L41-dash-cenc";f.dP="hevc-main10-L50-dash-cenc";f.fP="hevc-main10-L51-dash-cenc";f.OY="hevc-main10-L30-dash-cenc-prk";f.QY="hevc-main10-L31-dash-cenc-prk";f.SY="hevc-main10-L40-dash-cenc-prk";f.UY="hevc-main10-L41-dash-cenc-prk";f.PY="hevc-main10-L30-dash-cenc-prk-do";f.RY="hevc-main10-L31-dash-cenc-prk-do";f.TY="hevc-main10-L40-dash-cenc-prk-do";f.VY="hevc-main10-L41-dash-cenc-prk-do";f.eP="hevc-main10-L50-dash-cenc-prk-do";f.gP="hevc-main10-L51-dash-cenc-prk-do";f.oY="hevc-dv5-main10-L30-dash-cenc-prk";f.qY="hevc-dv5-main10-L31-dash-cenc-prk";f.HO="hevc-dv5-main10-L40-dash-cenc-prk";f.tY="hevc-dv5-main10-L41-dash-cenc-prk";f.vY="hevc-dv5-main10-L50-dash-cenc-prk";f.xY="hevc-dv5-main10-L51-dash-cenc-prk";f.pY="hevc-dv5-main10-L30-dash-cenc-prk-do";f.rY="hevc-dv5-main10-L31-dash-cenc-prk-do";f.sY="hevc-dv5-main10-L40-dash-cenc-prk-do";f.uY="hevc-dv5-main10-L41-dash-cenc-prk-do";f.wY="hevc-dv5-main10-L50-dash-cenc-prk-do";f.yY="hevc-dv5-main10-L51-dash-cenc-prk-do";f.mza="hevc-hdr-main10-L30-dash-cenc";f.nza="hevc-hdr-main10-L31-dash-cenc";f.oza="hevc-hdr-main10-L40-dash-cenc";f.pza="hevc-hdr-main10-L41-dash-cenc";f.qza="hevc-hdr-main10-L50-dash-cenc";f.rza="hevc-hdr-main10-L51-dash-cenc";f.TO="hevc-hdr-main10-L30-dash-cenc-prk";f.VO="hevc-hdr-main10-L31-dash-cenc-prk";f.kI="hevc-hdr-main10-L40-dash-cenc-prk";f.YO="hevc-hdr-main10-L41-dash-cenc-prk";f.$O="hevc-hdr-main10-L50-dash-cenc-prk";f.bP="hevc-hdr-main10-L51-dash-cenc-prk";f.UO="hevc-hdr-main10-L30-dash-cenc-prk-do";f.WO="hevc-hdr-main10-L31-dash-cenc-prk-do";f.XO="hevc-hdr-main10-L40-dash-cenc-prk-do";f.ZO="hevc-hdr-main10-L41-dash-cenc-prk-do";f.aP="hevc-hdr-main10-L50-dash-cenc-prk-do";f.cP="hevc-hdr-main10-L51-dash-cenc-prk-do";f.s8a="av1-main-L20-dash-cbcs-prk";f.t8a="av1-main-L21-dash-cbcs-prk";f.w9="av1-main-L30-dash-cbcs-prk";f.x9="av1-main-L31-dash-cbcs-prk";f.y9="av1-main-L40-dash-cbcs-prk";f.z9="av1-main-L41-dash-cbcs-prk";f.A9="av1-main-L50-dash-cbcs-prk";f.B9="av1-main-L51-dash-cbcs-prk";f.ueb=[f.iI];f.Cab=[f.jD,f.I$];f.Zba=[f.OY,f.QY,f.SY,f.UY,f.dP,f.fP];f.$ba=[f.PY,f.RY,f.TY,f.VY,f.eP,f.gP];f.K$=[f.TO,f.VO,f.kI,f.YO,f.$O,f.bP];f.J$=[f.UO,f.WO,f.XO,f.ZO,f.aP,f.cP];f.pxa=[f.oY,f.HO,f.vY,f.qY,f.tY,f.xY];f.oxa=[f.pY,f.sY,f.wY,f.rY,f.uY,f.yY];f.G9=[f.QO,f.RO,f.H$];f.aIa=[f.KI,f.LI,f.$P];f.Qw=[f.YZ,f.KI,f.LI,f.$P];f.dj=[f.w9,f.x9,f.y9,f.z9,f.A9,f.B9];f.G$=f.ueb.concat(f.Cab);b.oe=c;c.kD="heaac-2-dash";c.sza="heaac-5.1-dash";c.lD="heaac-2hq-dash";c.WD="xheaac-dash";c.EO="ddplus-2.0-dash";c.i$="ddplus-5.1-dash";c.FO="ddplus-atmos-dash";b.Sr=a;a.Beb="simplesdh";a.l$="dfxp-ls-sdh";a.uI="nflx-cmisc";},function(r,b,a){var h,k,n,q,p,t,u,v;function c(){var w,x;if(w=b.C3.OKa)return w;w=t.kZ.search.substr(1);x=w.indexOf("#");0 <= x && (w=w.substr(0,x));w=f(w);return b.C3.OKa=w;}function f(w){for(var x=/[+]/g,y=(w || "").split("&"),A={},z,B=0;B < y.length;B++){w=q.trim(y[B]);z=w.indexOf("=");0 <= z?A[decodeURIComponent(w.substr(0,z).replace(x,"%20")).toLowerCase()]=decodeURIComponent(w.substr(z + 1).replace(x,"%20")):A[w.toLowerCase()]=null;}return A;}function l(w){return (w=(/function (.{1,})\(/).exec(w.toString())) && 1 < w.length?w[1]:"";}function m(w){return l(w.constructor);}function d(w){return t.sort.call(w,function(x,y){return x - y;});}function g(w){for(var x=0,y=w.length;y--;){x+=w[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.SNb=b.HT=b.GTa=b.T4=b.PNb=b.YWa=b.d9a=b.e9a=b.jyb=b.ns=b.hqb=b.XK=b.Fxb=b.wG=b.v8a=b.J9=b.w8a=b.YX=b.u8a=b.SEb=b.bF=b.wOb=b.apa=b.Vja=b.getFunctionName=b.sM=b.xV=b.C3=b.QBb=b.M1a=b.YLa=b.gPa=b.tPb=b.rs=b.POa=void 0;h=a(12);k=a(21);n=a(7);q=a(24);p=a(29);t=a(11);u=a(18);v=a(58);b.POa=function(w,x){if(w === x)return !0;if(!w || !x)return !1;for(var y in w){if(w.hasOwnProperty(y) && (!x.hasOwnProperty(y) || w[y] !== x[y]))return !1;}return !0;};b.rs=b.rs || (function(w,x){if(w.length == x.length){for(var y=w.length;y--;){if(w[y] != x[y])return !1;}return !0;}return !1;});b.tPb=function(w){var x;if(w){x=w.length;if(x)return (x=q.Iqa(0,x - 1),w[x]);}};b.gPa=function(w,x){if(w.length != x.length)return !1;w.sort();x.sort();for(var y=w.length;y--;){if(w[y] !== x[y])return !1;}return !0;};b.YLa=function(w,x,y){function A(){w.removeEventListener(x,A);y.apply(this,arguments);}w.addEventListener(x,A);};b.M1a=function(){var w,x,y,A,z,B;w=t.Ke.cookie.split("; ");x=w.length;z={};for(y=0;y < x;y++){if(A=q.trim(w[y])){B=A.indexOf("=");0 < B && (z[A.substr(0,B)]=A.substr(B + 1));}}return z;};b.QBb=c;b.C3=Object.assign(c,{OKa:void 0});b.xV=f;b.sM=function(w){var x;x="";q.ee(w,function(y,A){x && (x+="&");k.hb(p.Fe(A) || u.ya(A) || u.jma(A));x+=encodeURIComponent(y) + "=" + encodeURIComponent(A);});return x;};b.getFunctionName=l;b.Vja=m;b.apa=function(w){var x;x="";u.isArray(w) || u.Gma(w)?x=t.reduce.call(w,function(y,A){return y + (32 <= A && 128 > A?t.dHa(A):".");},""):p.Fe(w)?x=w:q.ee(w,function(y,A){x+=(x?", ":"") + "{" + y + ": " + (u.Oc(A)?l(A) || "function":A) + "}";});return "[" + m(w) + " " + x + "]";};b.wOb=function(w,x){w.firstChild?w.insertBefore(x,w.firstChild):w.appendChild(x);};b.bF=b.bF || (function(w){var x;x="";q.ee(w,function(y,A){x+=(x?";":"") + y + ":" + A;});return x;});b.SEb=function(w,x){var y;y=w[0];if(x <= y[0])return y.slice(1);for(var A=1,z;z=w[A++];){if(x <= z[0]){w=(x - y[0]) / (z[0] - y[0]);x=[];for(A=1;A < y.length;A++){x.push((y[A] || 0) + w * ((z[A] || 0) - (y[A] || 0)));}return x;}y=z;}return y.slice(1);};b.u8a=function(w,x){var z;for(var y={},A=0;A < x.length;A++){z=x[A];if("string" != typeof z && "number" != typeof z)return !1;y[x[A]]=1;}for(A=0;A < w.length;A++){if((z=w[A],!y[z]))return !1;}return !0;};b.YX=d;b.w8a=g;b.J9=function(w,x){var y,A,z,B;y=-1;A=w.length;if(1 === arguments.length){for(;++y < A && !(null != (z=w[y]) && z <= z);){z=void 0;}for(;++y < A;){null != (B=w[y]) && B > z && (z=B);}}else {for(;++y < A && !(null != (z=x.call(w,w[y],y)) && z <= z);){z=void 0;}for(;++y < A;){null != (B=x.call(w,w[y],y)) && B > z && (z=B);}}return z;};b.v8a=function(w,x){var y,A,z,B;y=-1;A=w.length;if(1 === arguments.length){for(;++y < A && !(null != (z=w[y]) && z <= z);){z=void 0;}for(;++y < A;){null != (B=w[y]) && z > B && (z=B);}}else {for(;++y < A && !(null != (z=x.call(w,w[y],y)) && z <= z);){z=void 0;}for(;++y < A;){null != (B=x.call(w,w[y],y)) && z > B && (z=B);}}return z;};b.wG=function(w){return u.Oc(w.then)?w:new Promise(function(x,y){w.oncomplete=function(){x(w.result);};w.onerror=function(){y(w.error);};});};b.Fxb=function(w,x){var A,z,B,D,E,F;function y(C){0 > A.indexOf(C) && u.ya(C) && A.push(C);}w=w.slice();d(w);A=[];if(!x || !x.length)return w;if(!w.length)return [];z=x.length;try{for(;z--;){D="" + x[z];E=p.ue(D);switch(D[D.length - 1]){case "-":for(B=w.length;B--;){F=w[B];if(F < E){y(F);break;}}break;case "+":for(B=0;B < w.length;B++){if((F=w[B],F > E)){y(F);break;}}break;default:0 <= w.indexOf(E) && y(E);}}}catch(C){}A.length || A.push(w[0]);d(A);return A;};b.XK=b.XK || (function(w,x,y){var A;if(w / x > y){A=t.wi(x * y);w=x;}else (A=w,w=t.wi(w / y));return {width:A,height:w};});b.hqb=function(w,x,y){for(var A=[],z=0;z < x;z++){A.push(t.eZ(w[z] - y,2));}return t.$Ba(g(A) / A.length);};b.ns=function(w,x){var y;y=w.length;x=(y - 1) * x + 1;if(1 === x)return w[0];if(x == y)return w[y - 1];y=t.Ew(x);return w[y - 1] + (x - y) * (w[y] - w[y - 1]);};b.jyb=function(w,x){if(!u.isArray(w))throw Error("boxes is not an array");if(0 >= w.length)throw Error("There are no boxes in boxes");x=u.isArray(x)?x:[x];for(var y=w.length,A=0;A < y;A++){for(var z=0;z < x.length;z++){if(w[A].type == x[z])return w[A];}}throw Error("Box not found " + x);};b.e9a=function(w){return w.Yzb("trak/mdia/minf/stbl/stsd/" + h.Xva + "|" + h.Yva).children.filter(function(x){return "sinf" == x.type && x.v5b.schm.j8b == v.tw;})[0].Yzb("schi/tenc").Li;};b.d9a=function(w){var y;function x(A,z){var B;B=y[A];y[A]=y[z];y[z]=B;}y=new Uint8Array(w);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.YWa=function(){return u.Oc(t.Ve.requestMediaKeySystemAccess);};b.PNb=function(w){return function(x){return x && x[w];};};u.Oc(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(w,x){var y,A;void 0 === w && (w=0);void 0 === x && (x=this.byteLength);w=Math.floor(w);x=Math.floor(x);0 > w && (w+=this.byteLength);0 > x && (x+=this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - w)return new ArrayBuffer(0);y=new ArrayBuffer(x - w);A=new Uint8Array(y);w=new Uint8Array(this,w,x - w);A.set(w);return y;});b.T4=function(w){return w && 0 == w.toLowerCase().indexOf("https");};b.GTa=function(){var w,x;w=new ArrayBuffer(4);x=new Uint8Array(w);w=new Uint32Array(w);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == w[0]?"LE":2712847316 == w[0]?"BE":"undefined";};b.HT=function(){var w,x,y;try{w=/playercore.*js/;x=t.ou.getEntries("resource").filter(function(A){return null !== w.exec(A.name);});if(x && 0 < x.length){y=t.wi(x[0].duration);return JSON.stringify(y);}}catch(A){}};b.SNb=function(w,x,y){if(w && w.length){if(y && y.vpb)try{w.forEach(function(A,z){var B;B=(z=y.vpb[z]) && z.media;B && p.Fe(B)?(!1,B=n.Kq(B).buffer,A.media={arrayBuffer:B,length:B.byteLength,stream:x,pc:z.cdn}):n.log.warn("chunk not in cache",A.mh);});}catch(A){n.log.error("error reading cached chunks",A);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(r,b,a){var f,l,m,d,g;function c(){return f.kd.get(m.rd).aG.ea(g.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.Qpb=b.Kga=b.DOa=b.Opb=b.Ppb=b.w1=b.Ii=void 0;f=a(193);l=a(40);m=a(19);d=a(92);g=a(4);b.Ii=function(){return f.kd.get(m.rd).Wb().ea(g.ma);};b.w1=function(){return f.kd.get(l.vi).mf.ea(g.sn);};b.Ppb=function(){return f.kd.get(m.rd).aG.ea(g.sn);};b.Opb=function(){return f.kd.get(d.lA).rB();};b.DOa=c;b.Kga=function(){return f.kd.get(l.vi).mf.ea(g.ma);};b.Qpb=function(){return c();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gm="PboCommandContextSymbol";},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YJb=b.platform=b.Il=b.Pb=b.ZAb=b.ET=b.DF=b.tYa=b.SD=b.Ud=b.Fk=b.UD=void 0;c=a(2);c.__exportStar(a(171),b);c.__exportStar(a(375),b);c.__exportStar(a(756),b);c.__exportStar(a(757),b);c.__exportStar(a(758),b);f=a(95);Object.defineProperties(b,{UD:{enumerable:!0,get:function(){return f.UD;}}});c.__exportStar(a(770),b);c.__exportStar(a(378),b);c.__exportStar(a(221),b);c.__exportStar(a(22),b);l=a(379);Object.defineProperties(b,{Fk:{enumerable:!0,get:function(){return l.Fk;}}});m=a(53);Object.defineProperties(b,{Ud:{enumerable:!0,get:function(){return m.Ud;}}});d=a(223);Object.defineProperties(b,{SD:{enumerable:!0,get:function(){return d.SD;}}});c.__exportStar(a(382),b);b.tYa=function(h){b.platform.bU(h);return a(782).MBa;};b.DF=function(h){b.platform.bU(h);return Promise.resolve().then(function(){return c.__importStar(a(255));}).then(function(k){return k.DF();});};b.ET=function(h,k){b.platform.bU(h);return Promise.resolve().then(function(){return c.__importStar(a(437));}).then(function(n){return n.ET(k);});};b.ZAb=function(){return a(227);};r=c.__importDefault(a(27));b.Pb=r.default;r=a(990);b.Il=r.Il;r=c.__importDefault(a(5));b.platform=r.default;g=a(991);b.YJb=function(){return {Rr:g.Rr};};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Dba=b.Ud=void 0;c=a(2);f=a(777);(function(l){l[l.Tt=0]="startPlayback";l[l.np=1]="endPlayback";l[l.hn=2]="underflow";})(b.Ud || (b.Ud={}));r=(function(){function l(m){this.config=m;this.$M=[];}l.prototype.bi=function(m){var d,g;g=c.__read(this.config.bia.filter(function(h){return h.Ji === m.Ji;}),1)[0];(null !== (d=null === g || void 0 === g?void 0:g.enabled) && void 0 !== d?d:m.enabled)?this.$M.push(m):m.Ab && m.Ab();};l.prototype.Rn=function(m){var d,g,h,q,p;g={};h=[];try{for(var k=c.__values(this.$M),n=k.next();!n.done;n=k.next()){q=n.value;try{p=q.Rn({ii:m});p && (q.sC?g[q.sC]=p:g=c.__assign(c.__assign({},g),p));}catch(u){h.push(u);}}}catch(u){var t;t={error:u};}finally{try{n && !n.done && (d=k.return) && d.call(k);}finally{if(t)throw t.error;}}h.length && (g["rpt-error"]=new f.$ua("Reporting error",h));return g;};return l;})();b.Dba=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.haa="LogBatcherConfigSymbol";b.Co="LogBatcherSymbol";b.aBa="LogBatcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.O$a="Cannot apply @injectable decorator multiple times.";b.P$a="Metadata key was used more than once in a parameter:";b.zP="NULL argument";b.CAa="Key Not Found";b.$7a="Ambiguous match found for serviceIdentifier:";b.r9a="Could not unbind serviceIdentifier:";b.Kcb="No matching bindings found for serviceIdentifier:";b.icb="Missing required @injectable annotation in:";b.jcb="Missing required @inject or @multiInject annotation in:";b.efb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.t9a="Circular dependency found:";b.E1b="Sorry, this feature is not fully implemented yet.";b.Abb="Invalid binding type:";b.Mcb="No snapshot available to restore.";b.Ebb="Invalid return type in middleware. Middleware must return!";b.Dbb="Value provided to function binding must be a function!";b.Gbb="The toSelf function can only be applied when a constructor is used as service identifier";b.Bbb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.b8a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.I9a="Invalid Container constructor argument. Container options must be an object.";b.G9a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.F9a="Invalid Container option. Auto bind injectable must be a boolean";b.H9a="Invalid Container option. Skip base check must be a boolean";b.wcb="Cannot apply @postConstruct decorator multiple times in the same class";b.Sdb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.u9a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Feb="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.co=b.RUb=b.y_a=void 0;b.y_a=function(a,c){return a - c;};b.RUb=function(a,c){return a.localeCompare(c);};b.co=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f && Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(r,b,a){var c,f;c=a(122);f=a(169);r.exports=function(l){return function h(d,g){switch(arguments.length){case 0:return h;case 1:return f(d)?h:c(function(k){return l(d,k);});default:return f(d) && f(g)?h:f(d)?c(function(k){return l(k,g);}):f(g)?c(function(k){return l(d,k);}):l(d,g);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u3=b.lI=b.Kba=b.NZ=b.mIa=b.nIa=b.Naa=b.HY=b.tw=void 0;b.tw="cenc";b.HY="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.Naa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.nIa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.mIa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.NZ="SW_SECURE_CRYPTO";b.Kba="SW_SECURE_DECODE";b.lI="HW_SECURE_DECODE";b.u3=function(a){var c;c=a.getConfiguration();return [b.lI,b.Kba,b.NZ].find(function(f){var l;return null === (l=c.videoCapabilities) || void 0 === l?void 0:l.some(function(m){return m.robustness === f;});});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ena=b.Vh=void 0;(function(a){a[a.uq=0]="STANDARD";a[a.ln=1]="LIMITED";})(b.Vh || (b.Vh={}));b.ena=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b){function a(c){var f;f=Error.call(this,"TimeoutError");this.message=f.message;("stack" in f) && (this.stack=f.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Kw=b.wq=void 0;ka(a,Error);b.wq=a;b.Kw="PromiseTimerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gg=void 0;b.gg=function(a){return setTimeout(a,0);};},function(r,b,a){var f,l;function c(m,d){var g;g=b.rn[0];g == d && (g=b.rn[1]);g?g.close(function(){c(m,d);}):m && m(f.Le);}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=b.EEa=b.fba=b.gba=b.BI=b.iba=b.hba=b.lba=b.kba=b.rn=b.mba=b.jba=void 0;f=a(12);l=a(21);b.jba=c;b.mba=function(m,d){switch(m){case b.hba:b.kba.push(d);return;case b.iba:b.lba.push(d);return;}l.hb(!1);};b.rn=[];b.kba=[];b.lba=[];b.hba=1;b.iba=3;b.BI={index:0,WJb:void 0,nja:void 0};b.gba="network";b.fba="media";b.EEa="timedtext";b.FEa="playback";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.O3=b.yL=b.P3=b.NB=b.Hm=b.nf=void 0;r=a(73);c=a(61);f=a(11);b.nf=new r.Xj();b.Hm=1;b.NB=2;b.P3=3;b.yL=4;b.O3=5;c.gg(function(){var m,d,g;function l(h,k){if(d)d.on(h,k);else pb.addEventListener(h,k);}m=pb.jQuery;d=m && m(pb);m=(m=pb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;g=f.Ke.hidden;m?m(function(h){b.nf.qc(b.Hm,h);}):l("beforeunload",function(h){b.nf.qc(b.Hm,h);});l("keydown",function(h){b.nf.qc(b.NB,h);});l("resize",function(){b.nf.qc(b.P3);});f.Ke.addEventListener("visibilitychange",function(){g !== f.Ke.hidden && (g=f.Ke.hidden,b.nf.qc(b.yL));});});(function(){pb.addEventListener("error",function(l){b.nf.qc(b.O3,l);return !0;});})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function f(l,m){this.key=l;this.value=m;}f.prototype.toString=function(){return this.key === c.qA?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return f;})();b.Metadata=r;},function(r,b){var c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mq=b.Fa=b.nj=void 0;(function(l){l[l.uq=0]="STANDARD";l[l.ln=1]="LIMITED";l[l.s2b=2]="PREVIEW";})(c || (c={}));(function(l){l[l.HAVE_NOTHING=0]="HAVE_NOTHING";l[l.HAVE_METADATA=1]="HAVE_METADATA";l[l.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";l[l.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";l[l.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(f || (f={}));(function(l){l.n8a="asl_start";l.l8a="asl_comp";l.sZb="asl_exc";l.m8a="asl_fail";l.Heb="stf_creat";l.Wab="idb_open";l.Tab="idb_block";l.cbb="idb_upgr";l.bbb="idb_succ";l.Uab="idb_error";l.Vab="idb_invalid_state";l.Yab="idb_open_timeout";l.$ab="idb_open_wrkarnd";l.abb="idb_storelen_exc";l.Xab="idb_open_exc";l.Zab="idb_timeout_invalid_storelen";l.qcb="msl_load_data";l.scb="msl_load_no_data";l.rcb="msl_load_failed";})(r=b.nj || (b.nj={}));(function(l){l.Maa="PlaybackRequestStart";l.Laa="PlaybackRequestEnd";l.HZ="RequestPrefetchManifestStart";l.GZ="RequestPrefetchManifestEnd";l.FZ="RequestManifestStart";l.EZ="RequestManifestEnd";l.DZ="RequestLicenseStart";l.CZ="RequestLicenseEnd";l.yO="RequestTimedTextUrlStart";l.xO="RequestTimedTextUrlEnd";l.wO="RequestAudioUrlStart";l.vO="RequestAudioUrlEnd";l.AO="RequestVideoUrlStart";l.zO="RequestVideoUrlEnd";l.q9="AppendBufferStart";l.p9="AppendBufferEnd";l.Fba="SetMediaKeysStart";l.Eba="SetMediaKeysEnd";l.LY="GenerateChallengeStart";l.KY="GenerateChallengeEnd";l.WX="ApplyLicenseStart";l.VX="ApplyLicenseEnd";})(b.Fa || (b.Fa={}));b.mq=a;a.daa=c;a.nPa=function(l){return ["STANDARD","LIMITED","PREVIEW"][l];};a.nj=r;a.vza=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(1);r.__exportStar(a(778),b);r.__exportStar(a(224),b);r.__exportStar(a(779),b);r.__exportStar(a(780),b);r.__exportStar(a(781),b);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(151),b);r.__exportStar(a(854),b);r.__exportStar(a(176),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ai={fYa:"logblob",sa:"manifest",hg:"license",events:"events",bind:"bind",f0a:"pair",ping:"ping",config:"config"};b.uA={qeb:"reqAttempt",reb:"reqName",j9a:"browsername",o9a:"browserversion",Ycb:"osname",Zcb:"osversion",O9a:"clienttype",dfb:"uiversion"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gu="EmeConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RD="TimingApiSymbol";b.vP="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qu="PboConfigSymbol";},function(r,b,a){var k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F;function c(C){var G,J,K,H;G=C.url.split("?");J=G[0];K="sc=" + C.ORb;H=C.PNa?"random=" + (1E17 * A.xD()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=H?"&" + H:"";C.pc && !p.T4(J) && (C=n.config && n.config.mga) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function f(C){var G,J,K,H;G=C.url.split("?");J=G[0];K="bb_reason=" + C.reason;H=C.PNa?"random=" + (1E17 * A.xD()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=H?"&" + H:"";C.pc && !p.T4(J) && (C=n.config && n.config.mga) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function l(C,G){var J,K,H;J=C.url.split("?");K=J[0];H=m(C);H && (G.nr=H,(void 0 === C.Yt?n.config.Yt:C.Yt)?(C.headers=C.headers || ({}),C.headers.Range="bytes=" + H):(G.nr=H,K="/" == K[K.length - 1]?K + "range/":K + "/range/",K+=H));H=C.PNa?"random=" + (1E17 * A.xD()).toFixed(0):"";n.config.fy && C.Y7 && (H="sc=" + C.Y7 + (H?"&" + H:""));K=J[1]?K + ("?" + J[1] + (H?"&" + H:"")):K + (H?"?" + H:"");C.pc && !p.T4(K) && (C=n.config && n.config.mga) && (K=C.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));G.url=K;}function m(C){var G;G=C.offset;if(void 0 !== G)return (x.sS(G),void 0 !== C.length?(C=C.offset + C.length - 1,x.sS(C),G + "-" + C):G + "-");}function d(){return !1 !== A.Ve.onLine;}function g(C,G,J,K){var H,L;H=K.iqa;L=K.headers;C.open(H?"POST":"GET",G,!J);switch(K.responseType){case b.XT:C.responseType="arraybuffer";break;case b.Hla:y.aOa(C,"overrideMimeType",void 0,"text/xml");}H && (G={"Content-Type":u.Fe(H)?"text/plain":"application/x-octet-stream"},L=L?u.Tb(G,L):G);L && y.ee(L,function(R,I){C.setRequestHeader(R,I);});K.withCredentials && (C.withCredentials=!0);void 0 !== C.msCaching && (C.msCaching="disabled");H?C.send(H):C.send();}function h(C,G){switch(G.type){case b.XT:return C.response || new ArrayBuffer(0);case b.Hla:return C.responseXML;default:return C.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.XT=b.Hla=b.Gla=b.Ila=b.f4=b.TVa=b.SVa=b.d4=b.pfb=b.qfb=b.UDb=b.e4=b.RDb=b.SDb=b.QDb=b.TDb=b.Ff=void 0;k=a(73);n=a(13);q=a(12);p=a(49);t=a(50);u=a(29);v=a(3);w=a(7);x=a(21);y=a(24);A=a(11);z=a(61);B=a(18);D=a(32);E={hm:1,F3b:2,D8a:3};b.Ff=(function(){var K,H,L,R;function C(I){var Q;try{Q=I.url;B.Ima(Q)?0 === Q.indexOf("https")?R.ssl++:0 === Q.indexOf("http")?R["non-ssl"]++:R.invalid++:R.invalid++;}catch(N){}}function G(){H.qc(b.TVa);H.qc(b.Ila);}function J(){H.qc(b.f4);H.qc(b.Ila);}K=w.hi("Http");H=new k.Xj();L=0;R={ssl:0,"non-ssl":0,invalid:0};w.ha.get(D.Yg).register(v.M.gAa,function(I){n.config.$Xb && (pb.addEventListener("online",G),pb.addEventListener("offline",J),b.e4=d);I(q.Le);});return {addEventListener:H.addListener,removeEventListener:H.removeListener,download:function(I,Q){var X,sa,O,T,ma,ja,Qa,Fa,Wa,Xa,db;function N(){var Za;N=u.Ik;db && (clearTimeout(db),db=null);H.removeListener(b.f4,ea);Wa && (Wa.onloadstart=null,Wa.onreadystatechange=null,Wa.onprogress=null,Wa.onerror=null,Wa.onload=null,Wa=Wa.onabort=null);Fa.W?!1:Fa.oa != v.L.iA?X.warn("Download failed",sa,v.Pr(Fa)):X.trace("Download aborted",sa);Za=O;O=void 0;for(var kb=Za.length;kb--;){(function(){var Ya;Ya=Za[kb];z.gg(function(){Ya(Fa);});})();}H.qc(b.SVa,Fa,!0);}function M(){db && (clearTimeout(db),db=null);db=setTimeout(qa,Xa?Qa:ja);}function P(Za,kb,Ya,Sa){var za,Ia;Fa.W=!1;Fa.oa=Za;za=t.Ii();Ia=Fa.Pl;Ia.Oh=Ia.Oh || za;Ia.no=Ia.no || za;0 < kb && (Fa.jk=Fa.Ze=kb);Ya && (Fa.rb=Ya);Sa && (Fa.HC=Sa);Za !== v.L.hP && Za !== v.L.mD && Za !== v.L.kP || !Wa || (Wa.onabort=null,wa());N();}function S(Za){var kb,Ya;try{Ya=Za.getResponseHeader("X-Netflix.Retry.Server.Policy");Ya && (kb=JSON.parse(Ya));}catch(Sa){!1;}return kb;}function ea(){b.e4() || P(v.L.hP);}function qa(){P(Xa?v.L.mD:v.L.kP);}function wa(){try{Wa && Wa.abort();}catch(Za){}}function ua(){P(v.L.iA);}x.hb(Q);X=I.j && I.j.log && w.ih(I.j,"Http") || K;sa={Num:L++};O=[Q];T={};ja=I.E1 || n.config.E1;Qa=I.Ooa || n.config.Ooa;C(I);!1;Fa=(function(){var Za,kb,Ya;Za=u.Ik;kb=u.Ik;Ya=u.Ik;return {request:I,type:I.responseType,Pl:T,abort:wa,timeout:qa,Iea:function(Sa){N !== u.Ik && (x.hb(O,"Callback should be added before download starts."),O && O.unshift(Sa));},y6:function(Sa){Ya(Sa);},A6:function(Sa){Za(Sa);},Om:function(Sa){kb(Sa);},NSb:function(Sa){Ya=Sa;},VSb:function(Sa){Za=Sa;},ESb:function(Sa){kb=Sa;}};})();z.gg(function(){var Za,kb;if(B.Ima(I.url))try{if((l(I,Fa),ma=Fa.url,x.zK(ma),sa.Url=ma,b.e4())){!1;Wa=new XMLHttpRequest();Za=n.config.gYb && "undefined" != typeof Wa.onloadstart;Za && (Wa.onloadstart=function(){var Ya;Ya=t.Ii();T.Tp=Ya;Fa.y6({mediaRequest:I,timestamp:Ya});});Wa.onreadystatechange=function(){if(2 == Wa.readyState){Xa=!0;T.Oh=t.Ii();Wa.onreadystatechange=null;M();!1;for(var Ya=Fa,Sa=Wa.getAllResponseHeaders().split("\n"),za=Sa.length,Ia,Ma,Ta={};za--;){if(Ia=Sa[za])(Ma=Ia.indexOf(": "),1 <= Ma && Ma < Ia.length - 1 && (Ta[Ia.substr(0,Ma)]=Ia.substr(Ma + 2)));}Ya.headers=Ta;Fa.A6({timestamp:T.Oh,connect:!0,mediaRequest:I,start:T.Tp,rt:[T.Oh - T.Tp]});}};Wa.onprogress=function(Ya){Xa=!0;T.cha=Ya.loaded;M();Ya={mediaRequest:I,bytes:Ya.loaded,timestamp:t.Ii(),bytesLoaded:Ya.loaded};Fa.A6(Ya);};Wa.onload=function(){var Ya;if(N !== u.Ik){x.hb(void 0 === T.no);T.no=t.Ii();T.Oh=T.Oh || T.no;if(200 <= Wa.status && 299 >= Wa.status){Ya=h(Wa,Fa);Fa.parsed=!1;Fa.content=Ya;Fa.W=!0;}else Wa.status == F?P(v.L.jP,Wa.status):P(v.L.iP,Wa.status,Wa.response,S(Wa));N();}};Wa.onabort=ua;Wa.onerror=function(){var Ya,Sa;Ya=Wa.status;"undefined" !== typeof n.config.DSa && (Ya=n.config.DSa);if(0 < Ya){if(Ya == F)P(v.L.jP,Ya);else {try{Sa=Wa.responseText;}catch(za){}P(v.L.iP,Ya,Sa,S(Wa));}}else P(v.L.lP);};kb=t.Ii();g(Wa,ma,!1,I);H.qc(b.d4,Fa,!0);Za || (T.Tp=kb,Fa.y6({mediaRequest:I,timestamp:kb}));M();H.addListener(b.f4,ea);}else z.gg(P.bind(void 0,v.L.hP));}catch(Ya){X.error("Exception starting download",Ya,sa);P(v.L.P$,void 0,u.wd(Ya));}else P(v.L.yza);});return Fa;},Ad:R,x7b:function(I){var Q;Q=new XMLHttpRequest();I=f(I);Q.open("HEAD",I);Q.onreadystatechange=function(){2 == Q.readyState && !1;};Q.send();},PTb:function(I){var Q;Q=new XMLHttpRequest();I=c(I);Q.open("HEAD",I);Q.onreadystatechange=function(){2 == Q.readyState && !1;};Q.send();},NOb:function(I){var Q,N,M;Q=new XMLHttpRequest();N=I.url;M=I.KOb;Q.open("HEAD",N);Q.timeout=Math.max(2 * M.FHb,n.config.uqa);Q.onreadystatechange=function(){2 == Q.readyState && (!1,M && M.qM({url:N}));};Q.ontimeout=Q.onerror=function(){!1;M && M.Voa({url:N});};Q.send();},neb:E};})();b.TDb=c;b.QDb=f;b.SDb=l;b.RDb=m;b.e4=q.KFa;b.UDb=d;b.qfb=g;b.pfb=h;b.d4=1;b.SVa=2;b.TVa=3;b.f4=4;b.Ila=5;b.Gla=1;b.Hla=2;b.XT=3;F=420;pb._cad_global.http=b.Ff;},function(r,b,a){var f,l;function c(){var m,d;m=this;this.Wr={};this.on=function(g,h,k){m.addListener(g,h,k);};this.addListener=function(g,h,k){m.Wr && (m.Wr[g]=m.Wr[g] || new l.vba(!0)).add(h,k);};this.removeListener=function(g,h){m.Wr && m.Wr[g] && m.Wr[g].removeAll(h);};this.fka=function(g){return m.Wr && m.Wr[g]?m.Wr[g].flatten():[];};d=this;this.qc=function(g,h,k){var n;if(d.Wr){n=d.fka(g);for(g={OH:0};g.OH < n.length;(g={OH:g.OH},g.OH++)){k?(function(q){return function(){var p;p=n[q.OH];f.gg(function(){p(h);});};})(g)():n[g.OH].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Xj=void 0;f=a(61);l=a(322);c.prototype.hh=function(){this.Wr=void 0;};b.Xj=c;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,q,p){this.context=h;this.errorCode=k;this.rRb=n;this.h0=p;this.name=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Uh=void 0;r=a(1);f=a(0);l=a(484);m=a(4);d=a(42);g=a(39);c.prototype.send=function(h,k,n,q,p,t){var u;u=this;t=void 0 === t?g.lu.KP:t;return this.dAb(h,k,n,t,q,p).then(function(v){return u.context.dvb.send(v.context,v.request);});};c.prototype.dAb=function(h,k,n,q,p,t){var u,v;try{u=this.context.RQb.create(this.context.LF.rB(),k,n,p,q);v=this.Wnb(h,q,t);return Promise.resolve({context:v,request:u});}catch(w){return Promise.reject(w);}};c.prototype.Wnb=function(h,k,n){return {Ff:this.context.Ff,log:h,Uk:this.name,url:this.context.SXb(l.ONa(this.context.eh,this.context.Kh,this.name,k)),Mra:this.rRb,timeout:m.Ug(59),headers:l.NNa(this.context.Kh,this.context.kF),wra:this.wra,znb:n};};c.prototype.Gm=function(h){return h instanceof d.ed?h:l.Gm(this.errorCode,h);};Va.Object.defineProperties(c.prototype,{wra:{configurable:!0,enumerable:!0,get:function(){return this.h0;}}});a=c;a=r.__decorate([f.R(),r.__param(0,f.Ek()),r.__param(1,f.Ek()),r.__param(2,f.Ek()),r.__param(3,f.Ek()),r.__param(4,f.Ek())],a);b.Uh=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lr={Request:"Request",Oba:"Singleton",WZ:"Transient"};b.fj={Twa:"ConstantValue",Uwa:"Constructor",cya:"DynamicValue",E$:"Factory",Function:"Function",Instance:"Instance",Qbb:"Invalid",HFa:"Provider"};b.Ow={Mwa:"ClassProperty",Vwa:"ConstructorArgument",cca:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pw="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uu="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XGa="StorageValidatorSymbol";b.aA="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ku="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bo={start:"start",stop:"stop",nU:"keepAlive",WS:"engage",splice:"splice"};b.B$="EventPboCommandFactorySymbol";b.SGa="StartEventPboCommandSymbol";b.WGa="StopEventPboCommandSymbol";b.EAa="KeepAliveEventPboCommandSymbol";b.NGa="SpliceEventPboCommandSymbol";b.Aya="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wh={audio:"audio",video:"video",y8:"timedtext",Sta:"trickplay"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);b.un=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.nQ=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.lgb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.Vb=this.li([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{NDb:"int32"},{zYb:"int32"},{offset:32,type:"offset"},{Ayb:"int16"},{fqb:{type:"int8",hfa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.La=!0;return l;})(a(232).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc1";return l;})(r);b.C9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc2";return l;})(r);b.D9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc3";return l;})(r);b.E9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc4";return l;})(r);b.F9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="hvc1";return l;})(r);b.Q$=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="hev1";return l;})(r);b.L$=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="av01";return l;})(r);b.r8a=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ww="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.yi=b.Wcb=b.Eo=void 0;c=a(18);b.Eo=b.Eo || (function(f,l,m){return f >= l?f <= m?f:m:l;});b.Wcb=function(f,l,m,d,g){return (f - l) * (g - d) / (m - l) + d;};b.yi=function(f){if(c.ya(f))return (f / 1E3).toFixed(3);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(155);b.un=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.nQ=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.lgb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b,a){var l,m;function c(d,g,h,k,n){var q,p,u;q={};p="number" === typeof n;n=void 0 !== n && p?n.toString():h;if(p && void 0 !== h)throw Error(l.Bbb);Reflect.rla(d,g) && (q=Reflect.getMetadata(d,g));h=q[n];if(Array.isArray(h)){p=0;for(var t=h;p < t.length;p++){u=t[p];if(u.key === k.key)throw Error(l.P$a + " " + u.key.toString());}}else h=[];h.push(k);q[n]=h;Reflect.Uha(d,q,g);}function f(d,g){return function(h,k){g(h,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(41);b.rH=function(d,g,h,k){c(m.hHa,d,g,k,h);};b.bX=function(d,g,h){c(m.iHa,d.constructor,g,h);};b.Qq=function(d,g,h){"number" === typeof h?(d=[f(h,d)],Reflect.Qq(d,g)):"string" === typeof h?Reflect.Qq([d],g,h):Reflect.Qq([d],g);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uAa="Injector";b.oA=145152E5;b.MP="ProfileSymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k){m=void 0 === m?f.M.im:m;return l.ed.call(this,m,d,g,void 0,void 0,h,l.ed.wd(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pg=void 0;f=a(3);l=a(42);ka(c,l.ed);b.pg=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uxa="DebugConfigSymbol";b.cu="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lA="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mya="EventSourceSymbol";b.F$="GlobalEventSourceSymbol";b.zY="DebugEventSourceSymbol";b.Gxa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pO=b.y8a=b.L9=b.M9=void 0;(function(a){a[a.TQa=0]="downloading";a[a.zvb=1]="downloaded";a[a.Qe=2]="appended";a[a.buffered=3]="buffered";a[a.YM=4]="removed";a[a.a9b=5]="unused";})(b.M9 || (b.M9={}));(function(a){a[a.waiting=1]="waiting";a[a.E7b=2]="ondeck";a[a.TQa=4]="downloading";a[a.zvb=8]="downloaded";a[a.eU=6]="inprogress";})(b.L9 || (b.L9={}));b.y8a="AseBufferViewSymbol";b.pO="AseBufferAccountingSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(759),b);r.__exportStar(a(760),b);r.__exportStar(a(761),b);r.__exportStar(a(762),b);r.__exportStar(a(763),b);r.__exportStar(a(764),b);r.__exportStar(a(765),b);r.__exportStar(a(766),b);r.__exportStar(a(377),b);r.__exportStar(a(767),b);r.__exportStar(a(768),b);r.__exportStar(a(769),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nw=void 0;r=(function(){function a(c){this.Ne=c;}a.prototype.Asa=function(c){this.Ne=c;};a.prototype.xOa=function(){this.Ne=void 0;};a.prototype.jT=function(c){return this.Ne && this.Ne.D6 && this.Ne.D6(c);};a.prototype.ZK=function(c){this.Ne && this.Ne.ez && this.Ne.ez(c);};a.prototype.uF=function(c){this.Ne && this.Ne.xM && this.Ne.xM(c);};a.prototype.$K=function(c){this.Ne && this.Ne.yM && this.Ne.yM(c);};a.prototype.FSa=function(c){this.Ne && this.Ne.ypa && this.Ne.ypa(c);};a.prototype.mv=function(c){this.Ne && this.Ne.uk && this.Ne.uk(c);};a.prototype.T2=function(c){this.Ne && this.Ne.sV && this.Ne.sV(c);};a.prototype.YK=function(c,f,l){this.Ne && this.Ne.rV && this.Ne.rV(c,f,l);};return a;})();b.nw=r;r.prototype.D6=r.prototype.jT;r.prototype.ez=r.prototype.ZK;r.prototype.xM=r.prototype.uF;r.prototype.yM=r.prototype.$K;r.prototype.uk=r.prototype.mv;r.prototype.sV=r.prototype.T2;r.prototype.rV=r.prototype.YK;r.prototype.ypa=r.prototype.FSa;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CD="6674654e-696c-5078-6966-665374726d21";b.DD="6674654e-696c-4878-6165-6465722e7632";b.xP="6674654e-696c-5078-6966-66496e646578";b.Hw="6674654e-696c-4d78-6f6f-6653697a6573";b.Gw="6674654e-696c-5378-6565-6b506f696e74";b.CP="cedb7489-e77b-514c-84f9-7148f9882554";b.BP="524f39a2-9b5a-144f-a244-6c427c648df4";b.BD="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dm=void 0;c=a(2);f=a(6);l=c.__importDefault(a(27));m=c.__importDefault(a(123));d=a(401);g=a(22);r=a(43);h=a(175);k=a(239);a=a(112);n=(function(q){function p(t,u){var v;v=q.call(this,t,u) || this;p.nb(v,t,u);return v;}c.__extends(p,q);p.nb=function(t,u,v,w){var x;h.$t.nb(t,u,v);t.Ig=v.index;t.cJ=v.Ya;t.wu=v.kb;t.Jkb=v.wb?v.wb:u.wb;t.bH=v.bH;t.zka=w;t.VJa=! !v.Fp;t.SKa=null !== (x=v.region) && void 0 !== x?x:0;t.rJa=! !v.oja;t.UJa=! !v.tv;t.jd=void 0 === v.U2 || void 0 === v.Aja || v.U2 === v.Ya && v.Aja === v.kb?t:new k.cA(t,{Ya:v.U2,kb:v.Aja});t.gib=v.Coa;t.Afb=v.Dh;t.shb=u.tDb;t.Lo=v.na?t.g_a(v.na):void 0;t.mLa=v.Ut;t.Qe=!1;};p.IPa=function(t){for(var u=new Uint32Array(t.length),v=new Uint32Array(t.length),w=0,x,y,A=0;A < t.length;++A){x=t[A];y=x.Ic;u[A]=x.wu - x.cJ;v[A]=y;w+=y;}return new d.Nba(u,v,t.length?t[0].U:1E3,w);};Object.defineProperties(p.prototype,{ZB:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wb:{get:function(){return this.Jkb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uNa:{get:function(){return 8 * this.ca / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ya:{get:function(){return this.cJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{kb:{get:function(){return this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Oj:{get:function(){var t,u;return null !== (u=null === (t=this.zka) || void 0 === t?void 0:t.call(this)) && void 0 !== u?u:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fp:{get:function(){return this.VJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.SKa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{oja:{get:function(){return this.rJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tv:{get:function(){return this.UJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Coa:{get:function(){return this.gib;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Dh:{get:function(){return this.Afb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{na:{get:function(){return this.Lo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ut:{get:function(){return this.mLa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{U2:{get:function(){return this.jd.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Aja:{get:function(){return this.jd.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zyb:{get:function(){return this.jd.lp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{KSa:{get:function(){return this.jd.dqa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{aL:{get:function(){return this.jd.Zc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{W2:{get:function(){return this.jd.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{V2:{get:function(){return this.jd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lT:{get:function(){return this.jd.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yyb:{get:function(){return this.jd.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CB:{get:function(){var t;t=this.zyb;f.assert(t);return t / this.stream.qa.Xb;},enumerable:!1,configurable:!0}});p.prototype.IYa=function(){this.VJa=!0;};p.prototype.ZSb=function(t){this.bH={ae:t.sTa(),R4:t.Vt};};p.prototype.xN=function(t){this.mLa=t;};p.prototype.XSb=function(t,u,v){this.SKa=t;this.rJa=u;this.UJa=v;};p.prototype.th=function(t){var u,v;void 0 === t && (t={});u=this.stream.qa.Xb;v=this.Lo || ({start:0,end:this.CB});t=this.g_a(t);this.jd && this.jd !== this || (this.jd=new k.cA(this,this));t.start > v.start && (this.cJ=this.jd.Ya + t.start * u);t.end < v.end && (this.wu=this.jd.Ya + t.end * u);this.Lo=t;};p.prototype.IS=function(t){void 0 === t && (t=1);this.Lo?this.th({start:this.Lo.start + t,end:this.Lo.end}):this.th({start:t});};p.prototype.m2=function(t){this.Lo?this.th({start:this.Lo.start,end:(this.Lo.end || 0) - t}):this.th({start:0,end:-t});};p.prototype.qia=function(){this.th({start:0,end:0});};p.prototype.$Sb=function(t){this.Lo || this.th();this.Lo.a8=t;};p.prototype.pSa=function(t){var v;if(!(t < this.X || t >= this.Ea) && this.Dh && this.Dh.length){t=new g.S(t + 1 - this.X,1E3).Xk(this.stream.qa);for(var u=this.Dh.length - 1;0 <= u;--u){v=this.Dh[u];if(v.zk <= t)return v;}return {zk:0,pd:this.lT};}};p.prototype.Xxb=function(t){var v;if(!(t < this.X || t >= this.Ea) && this.Dh && this.Dh.length){t=new g.S(t + 1 - this.X,1E3).Xk(this.stream.qa);for(var u=this.Dh.length - 1;0 <= u;--u){v=this.Dh[u];if(v.zk <= t)return v;}return {zk:0,pd:this.lT};}};p.prototype.iSa=function(t,u){var v,w,x;if(!(t < this.X || t >= this.Ea)){if(!u && this.shb)return {zk:0,pd:this.X};v=this.qa.Xb;w=this.qa.U;x=Math.floor(this.lp / v);t=Math.min((u?Math.ceil:Math.floor)((g.S.a6(t,w) - this.Ya + (u?-1:1) * (w / 1E3 - 1)) / v),x);v=g.S.jX(this.Ya + t * v,w);return t === x?void 0:{zk:t,pd:v};}};p.prototype.gja=function(t){return this.mediaType === l.default.Ra.Fb?this.pSa(t):this.iSa(t,!1);};p.prototype.fja=function(t){return this.mediaType === l.default.Ra.Fb?this.Xxb(t):this.iSa(t,!0);};p.prototype.hMa=function(t){this.Ic+=t.ca;this.wu=t.kb;this.Lo && (this.jd=new k.cA(this,{Ya:this.U2,kb:this.wu}),this.Lo.end=this.CB);};p.prototype.toString=function(){return "[" + this.Na + ", " + this.bitrate + "kbit/s, c:" + (this.Mc + "-" + this.vc + ",p:") + (this.Zc + "-" + this.Rd + ",d:" + this.duration + "]");};p.prototype.toJSON=function(){var t;t=h.$t.prototype.toJSON.call(this);m.default({index:this.index,startPts:this.X,endPts:this.Ea,"contentStartTicks:":this.Ya,contentEndTicks:this.kb,contentStartPts:this.Mc,contentEndPts:this.vc,fragmentStartPts:this.aL !== this.X?this.aL:void 0,fragmentEndPts:this.W2 !== this.Ea?this.W2:void 0,edit:this.na},t);return t;};p.prototype.oSa=function(t){var v;if(this.Dh)for(var u=0;u < this.Dh.length;++u){if(this.Dh[u].zk === t)v=this.Dh[u].offset;}return v;};p.prototype.g_a=function(t){var u;u=t.start || 0;return {start:u,end:void 0 === t.end?this.CB:Math.min(this.CB,Math.max(u,0 > t.end?this.CB + t.end:t.end)),a8:t.a8,RTb:t.RTb};};return p;})(h.$t);b.dm=n;r.wf(a.dA,n);r.wf(a.bA,n);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nA="LogMessageFactorySymbol";},function(r,b){var c;function a(f,l){var m;m=this;this.Zca=[];c.forEach(function(d){(d=d(f,l)) && m.Zca.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.yD=b.wCa=void 0;c=[];a.prototype.Rt=function(f){var d;for(var l=[],m=this.Zca.length;m--;){d=this.Zca[m];d.Rt(f) && l.push(d.UK);}if(l.length)return l;};b.wCa=a;b.yD=function(f){c.push(f);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CD="6674654e-696c-5078-6966-665374726d21";b.DD="6674654e-696c-4878-6165-6465722e7632";b.xP="6674654e-696c-5078-6966-66496e646578";b.Hw="6674654e-696c-4d78-6f6f-6653697a6573";b.Gw="6674654e-696c-5378-6565-6b506f696e74";b.CP="cedb7489-e77b-514c-84f9-7148f9882554";b.BP="524f39a2-9b5a-144f-a244-6c427c648df4";b.BD="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.Vb=this.li([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{NDb:"int32"},{zYb:"int32"},{offset:32,type:"offset"},{Ayb:"int16"},{fqb:{type:"int8",hfa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.La=!0;return l;})(a(284).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc1";return l;})(r);b.C9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc2";return l;})(r);b.D9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc3";return l;})(r);b.E9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="avc4";return l;})(r);b.F9=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="hvc1";return l;})(r);b.Q$=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="hev1";return l;})(r);b.L$=r;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bI=b.zb=void 0;f=a(133);l=a(42);m=a(3);c.dka=function(d){if(d){if(d.includes(b.bI.CC))return f.kn.CC;if(d.includes("fps"))return f.kn.sF;if(d.includes(b.bI.i9))return f.kn.i9;}throw new l.ed(m.M.eab,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.xTa=function(d){switch(d){case f.kn.CC:return b.bI.CC;case f.kn.sF:return b.bI.sF;default:return b.bI.i9;}};b.zb=c;c.ru="com.microsoft.playready";c.Kd="com.microsoft.playready.hardware";c.AI="com.microsoft.playready.software";c.xab="com.apple.fps.2_0";c.pIa="com.widevine.alpha";c.beb="com.microsoft.playready.recommendation.3000";c.ceb="com.microsoft.playready.recommendation.2000";b.bI={sF:"fairplay",i9:"widevine",CC:"playready"};},function(r,b,a){var f,l,m;function c(d,g){this.Bu=g?[g]:[];this.jda="$op$" + m++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Ac=void 0;f=a(12);l=a(21);m=0;c.prototype.addListener=function(d,g){var h;h=this;l.Cha(d);l.hb(0 > this.Bu.indexOf(d));d[f.rZ + this.jda]=g;this.Bu=this.Bu.slice();this.Bu.push(d);this.Bu.sort(function(k,n){return h.cUb(k,n);});};c.prototype.removeListener=function(d){var g;l.Cha(d);this.Bu=this.Bu.slice();0 <= (g=this.Bu.indexOf(d)) && this.Bu.splice(g,1);};c.prototype.set=function(d,g){if(this.G !== d){g={oldValue:this.G,newValue:d,av:g};this.G=d;d=this.Bu;for(var h=d.length,k=0;k < h;k++){d[k](g);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(h){function k(n){if(d(n.newValue))return (g.removeListener(k),h(n.newValue));}if(d(g.G))return h(g.G);g.addListener(k);});};c.prototype.cUb=function(d,g){return (d[f.rZ + this.jda] || 0) - (g[f.rZ + this.jda] || 0);};Va.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.Ac=c;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yA=void 0;r=a(1);a=a(0);c.prototype.format=function(f,l){var d;for(var m=1;m < arguments.length;++m){;}d=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(g,h){return "undefined" != typeof d[h]?d[h]:g;});};c.prototype.e5a=function(f){for(var l=f.length,m=new Uint16Array(l),d=0;d < l;d++){m[d]=f.charCodeAt(d);}return m.buffer;};c.prototype.h5a=function(f){return JSON.stringify(f,null,"  ");};a=r.__decorate([a.R()],c);b.yA=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HI="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rI="LoggerSinksSymbol";},function(r){var h,k,n,q;function b(){b.nb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function c(p,t,u,v){var w,x;a(u);w=p.zh;if(void 0 === w)(w=p.zh=Object.create(null),p.cE=0);else {void 0 !== w.u7b && (p.emit("newListener",t,u.listener?u.listener:u),w=p.zh);x=w[t];}void 0 === x?(w[t]=u,++p.cE):("function" === typeof x?x=w[t]=v?[u,x]:[x,u]:v?x.unshift(u):x.push(u),u=void 0 === p.NQ?b.hub:p.NQ,0 < u && x.length > u && !x.VYb && (x.VYb=!0,u=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"),u.name="MaxListenersExceededWarning",u.Cs=p,u.type=t,u.count=x.length,console && console.warn && console.warn(u)));return p;}function f(){if(!this.tSa)return (this.target.removeListener(this.type,this.N7a),this.tSa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function l(p,t,u){p={tSa:!1,N7a:void 0,target:p,type:t,listener:u};t=f.bind(p);t.listener=u;return p.N7a=t;}function m(p){var t;t=this.zh;if(void 0 !== t){p=t[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function d(p,t,u){"function" === typeof p.on && g(p,"error",t,u);}function g(p,t,u,v){if("function" === typeof p.on){if(v.once)p.once(t,u);else p.on(t,u);}else if("function" === typeof p.addEventListener)p.addEventListener(t,function y(x){v.once && p.removeEventListener(t,y);u(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(p,t,u){return Function.prototype.apply.call(p,t,u);};n=Number.isNaN || (function(p){return p !== p;});r.exports=b;r.exports.once=function(p,t){return new Promise(function(u,v){function w(y){p.removeListener(t,x);v(y);}function x(){"function" === typeof p.removeListener && p.removeListener("error",w);u([].slice.call(arguments));}g(p,t,x,{once:!0});"error" !== t && d(p,w,{once:!0});});};b.EventEmitter=b;b.prototype.zh=void 0;b.prototype.cE=0;b.prototype.NQ=void 0;q=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return q;},set:function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");q=p;}});b.nb=function(){if(void 0 === this.zh || this.zh === Object.getPrototypeOf(this).zh)(this.zh=Object.create(null),this.cE=0);this.NQ=this.NQ || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.NQ=p;return this;};b.prototype.emit=function(p){var v,w;for(var t=[],u=1;u < arguments.length;u++){t.push(arguments[u]);}v="error" === p;u=this.zh;if(void 0 !== u)v=v && void 0 === u.error;else if(!v)return !1;if(v){0 < t.length && (w=t[0]);if(w instanceof Error)throw w;t=Error("Unhandled error." + (w?" (" + w.message + ")":""));t.context=w;throw t;}u=u[p];if(void 0 === u)return !1;if("function" === typeof u)k(u,this,t);else {w=u.length;v=Array(w);for(var x=0;x < w;++x){v[x]=u[x];}for(u=0;u < w;++u){k(v[u],this,t);}}return !0;};b.prototype.addListener=function(p,t){return c(this,p,t,!1);};b.prototype.on=b.prototype.addListener;b.prototype.l1a=function(p,t){return c(this,p,t,!0);};b.prototype.once=function(p,t){a(t);this.on(p,l(this,p,t));return this;};b.prototype.xOb=function(p,t){a(t);this.l1a(p,l(this,p,t));return this;};b.prototype.removeListener=function(p,t){var u,v,w,x,y;a(t);v=this.zh;if(void 0 === v)return this;w=v[p];if(void 0 === w)return this;if(w === t || w.listener === t)0 === --this.cE?this.zh=Object.create(null):(delete v[p],v.removeListener && this.emit("removeListener",p,w.listener || t));else if("function" !== typeof w){x=-1;for(u=w.length - 1;0 <= u;u--){if(w[u] === t || w[u].listener === t){y=w[u].listener;x=u;break;}}if(0 > x)return this;if(0 === x)w.shift();else {for(;x + 1 < w.length;x++){w[x]=w[x + 1];}w.pop();}1 === w.length && (v[p]=w[0]);void 0 !== v.removeListener && this.emit("removeListener",p,y || t);}return this;};b.prototype.tM=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var t,u,v;t=this.zh;if(void 0 === t)return this;if(void 0 === t.removeListener)return (0 === arguments.length?(this.zh=Object.create(null),this.cE=0):void 0 !== t[p] && (0 === --this.cE?this.zh=Object.create(null):delete t[p]),this);if(0 === arguments.length){u=Object.keys(t);for(t=0;t < u.length;++t){v=u[t];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.zh=Object.create(null);this.cE=0;return this;}u=t[p];if("function" === typeof u)this.removeListener(p,u);else if(void 0 !== u)for(t=u.length - 1;0 <= t;t--){this.removeListener(p,u[t]);}return this;};b.prototype.listeners=function(p){var t;t=this.zh;if(void 0 === t)p=[];else if((p=t[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {t=Array(p.length);for(var u=0;u < t.length;++u){t[u]=p[u].listener || p[u];}p=t;}return p;};b.listenerCount=function(p,t){return "function" === typeof p.listenerCount?p.listenerCount(t):m.call(p,t);};b.prototype.listenerCount=m;},function(r,b,a){var n;function c(q,p){if(q.length == p.length && 1 < q.length){for(var t=q.length,u=0,v=d(q),w=d(p),x=0;x < t;x++){u+=q[x] * p[x];}return (u - v * w / t) / t;}return !1;}function f(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=l(q);return Math.sqrt(q);}function l(q){var p;if(!Array.isArray(q) || 2 > q.length)return !1;p=m(q);return d(q.map(function(t){return (t - p) * (t - p);})) / (q.length - 1);}function m(q){return Array.isArray(q) && q.length?d(q) / q.length:!1;}function d(q){return Array.isArray(q)?q.reduce(function(p,t){return p + t;},0):!1;}function g(q,p,t){return Math.max(Math.min(q,t),p);}function h(q,p){return "number" === typeof q?q:p;}function k(q){return 1 / (1 + Math.exp(-q));}n=a(10);r.exports={Ua:function(q,p,t){try{q.emit(p,t);}catch(u){q.$j("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",u,"Event:",t);}},qB:function(){var q,p,t;q=Array.prototype.concat.apply([],arguments);p=q.reduce(function(u,v){return u + v.byteLength;},0);t=new Uint8Array(p);q.reduce(function(u,v){t.set(new Uint8Array(v),u);return u + v.byteLength;},0);return t.buffer;},t1:g,Bpb:function(q,p,t,u){return {min:g(h(q.min,p),t,u),max:g(h(q.max,p),t,u),Kx:g(q.Kx || 6E4,0,6E5),fOa:g(q.fOa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),g3a:g(q.g3a || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};},ee:function(q,p){void 0 !== q && n.vMb(q).forEach(function(t){p(t[0],t[1]);});},NRa:function(q,p,t){return q.min + (q.max - q.min) * (1 - Math.pow(k(6 * (p - (q.Kx + (q.fOa || 0) * (1 - t))) / (q.scale + (q.g3a || 0) * (1 - t))),q.gamma));},Vwb:function(q,p){return q.min + (q.max - q.min) * Math.pow(k(6 * (p - q.Kx) / q.scale),q.gamma);},P5b:d,ozb:m,FCb:l,N5b:f,G5b:c,F5b:function(q,p){var t;if(q.length == p.length){t=c(q,p);q=f(q);p=f(p);if(0 < q && 0 < p)return t / (q * p);}return !1;},dr:function(q,p,t){return p.KPa?p.KPa(t):new q.Console("ASEJS","media|asejs",p.prefix?p.prefix + " " + t:t);},WRb:function(q){return q.length?"{" + q + "} ":"";},JRb:function(q,p,t){return {min:q.min * t + (1 - t) * p.min,max:q.max * t + (1 - t) * p.max,Kx:q.Kx * t + (1 - t) * p.Kx,scale:q.scale * t + (1 - t) * p.scale,gamma:q.gamma * t + (1 - t) * p.gamma};},tanh:Math.tanh || (function(q){var p;p=Math.exp(+q);q=Math.exp(-q);return Infinity == p?1:Infinity == q?-1:(p - q) / (p + q);}),Ksa:k,Gp:function(q){var p;p=q.Oa.xb.P.id;return {X:q.X,duration:q.duration,offset:q.offset,ca:q.ca,bitrate:q.bitrate,profile:q.profile,Pc:q.Pc,va:p,Na:q.Na,zd:q.zd,location:q.location,Jh:q.Jh,Bj:q.Bj,Kv:{xb:{P:{id:p}}}};}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(230);c=a(148);b.Q$a=c;c=a(394);b.Yba=c;c=a(398);b.Qmb=c;b.PZ=r.Hp.Ta.sidx;r=a(834);b.Rr=r.Rr;r=a(238);b.qq=r.qq;r=a(838);b.rq=r.rq;b.Ty=r.Ty;r=a(839);b.oI=r.oI;r=a(82);b.un=r.un;a=a(840);b.fm=a.fm;},function(r,b,a){var d;function c(g,h){return void 0 === g?void 0:0 === g?d.S.ab:new d.S(g,h);}function f(g,h){return g && Math.floor(d.S.jX(g,h));}function l(g,h){return void 0 === g || void 0 === h?void 0:g + h;}function m(g,h){return void 0 === g || void 0 === h?void 0:g - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.bA=b.dA=void 0;d=a(22);r=(function(){function g(){}Object.defineProperties(g.prototype,{lp:{get:function(){return m(this.kb,this.Ya) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{dqa:{get:function(){return l(this.Ya,this.Oj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{V0a:{get:function(){return l(this.kb,this.Oj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{KS:{get:function(){return c(this.lp,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nc:{get:function(){return c(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nd:{get:function(){return c(this.kb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ui:{get:function(){return c(this.dqa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rf:{get:function(){return c(this.V0a,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{f7:{get:function(){return c(this.Oj,this.U);},enumerable:!1,configurable:!0}});return g;})();b.dA=r;r=(function(){function g(){}Object.defineProperties(g.prototype,{duration:{get:function(){return m(this.Ea,this.X) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X:{get:function(){return f(l(this.Ya,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ea:{get:function(){return f(l(this.kb,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gt:{get:function(){return f(this.Oj,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Bj:{get:function(){return f(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mc:{get:function(){return f(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vc:{get:function(){return f(this.kb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zc:{get:function(){return f(l(this.Ya,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rd:{get:function(){return f(l(this.kb,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cy:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{oz:{get:function(){return this.X;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qv:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});return g;})();b.bA=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.bY=b.ej=void 0;c=a(2);r=c.__importDefault(a(16));f=c.__importStar(a(10));l=r.default.xh;m=c.__importDefault(a(5));d=m.default.pq;g=a(172);h=c.__importDefault(a(146));k=a(9);r=a(43);n=a(241);q=a(175);(function(t){t[t.Icb=0]="NOTHING_APPENDED";t[t.ddb=1]="PARTIAL";t[t.uw=2]="COMPLETE";t[t.xf=3]="ERROR";})(p=b.ej || (b.ej={}));a=(function(t){function u(v,w,x,y,A,z,B){w=t.call(this,w,x) || this;n.SH.nb(w,v,y,A,z,B);q.$t.nb(w,v,y);w.ufb=v.url || y.url;w.jca=y.responseType;w.tfb=y.Y7;void 0 === w.jca && (w.jca=d.Yb && !d.Yb.pW.RP?0:1);w.Zh=new l();w.Zh.on(w,d.ze.ZCa,w.Nda);w.Zh.on(w,d.ze.YCa,w.Rib);w.Zh.on(w,d.ze.$Ca,w.Uib);w.Zh.on(w,d.ze.AP,w.Mda);w.Zh.on(w,d.ze.GD,w.OQ);w.OI=!1;w.Me=!1;w.yl=!1;w.An=!1;w.yQ=!1;w.Rjb=y.QG;w.mr=0;return w;}c.__extends(u,t);Object.defineProperties(u.prototype,{active:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wqa:{get:function(){return this.yl;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{complete:{get:function(){return !this.OI && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aborted:{get:function(){return this.OI;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xma:{get:function(){return this.An && !this.yQ;},enumerable:!1,configurable:!0}});u.prototype.nb=function(v){n.SH.prototype.nb.call(this,v);this.Mf || !this.Cd.Mea && this.Pc || (this.Mf=h.default.instance(),this.active && (this.Mf.bN(m.default.time.ba(),this.kW),this.yl && (m.default.time.ba(),this.connect && 0 < this.sr.length && this.Mf.tx(this.sr[0]))));};u.prototype.Ws=function(){return this.Qe || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};u.prototype.LE=function(v,w,x,y,A,z,B){this.Qe=v.appendBuffer(this.response,B || k.Gp(this));return {status:this.Qe?p.uw:p.xf};};u.prototype.zM=function(){(this.An=d.prototype.open.call(this,this.ufb,{start:this.offset,end:this.offset + this.ca - 1},this.jca,{},void 0,void 0,this.tfb)) && this.jT(this);return this.An;};u.prototype.abort=function(){var v;if(this.aborted)return !0;v=this.Me;this.Mf && v && this.Mf.jW(m.default.time.ba(),this.yl,{requestId:this.J_(),Hh:this.zd,type:this.mediaType});this.OI=!0;this.yl=this.Me=!1;d.prototype.abort.call(this);this.YK(this,v,this.xma);return !0;};u.prototype.Lc=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Zh && this.Zh.clear();t.prototype.Lc.call(this);};u.prototype.Nda=function(){var v;v=this.af || this.loadTime;g.qw.instance().push(m.default.time.ba() - v);this.Me || (this.Me=!0,this.Ys=this.track.Ys(),this.stream.I.KYa || this.Mf && this.Mf.bN(v,{requestId:this.J_(),Hh:this.zd,type:this.mediaType}),this.ZK(this),this.Bt=this.af);};u.prototype.Rib=function(){var v,w,x;v=this.af || this.jja;w=this.connect;x=this.sr;g.qw.instance().push(m.default.time.ba() - v);this.Me || (this.Me=!0);this.yl || (this.yl=!0,this.stream.I.KYa && this.Mf && this.Mf.bN(v,{requestId:this.J_(),Hh:this.zd,type:this.mediaType}),w && 0 < x.length && this.Mf && this.Mf.tx(x[0]),this.uF(this),this.Bt=v);};u.prototype.Uib=function(){var v,w,x;v=this;w=this.af;x=this.bytesReceived - this.mr;g.qw.instance().push(m.default.time.ba() - w);this.yl || (this.yl=!0);this.Mf && (void 0 === this.Bt || this.Mf.Qu(x,this.Bt,w,this.kW),this.sr && this.sr.length && this.sr.forEach(function(y){v.Mf.rx(y);}));this.$K(this);this.Bt=w;this.mr=this.bytesReceived;};u.prototype.Mda=function(){var v,w,x;v=this;w=this.af;x=this.bytesReceived - this.mr;g.qw.instance().push(m.default.time.ba() - w);this.Mf && (0 < x && this.Mf.Qu(x,this.Bt,w,this.kW),this.sr && this.sr.length && this.sr.forEach(function(y){v.Mf.rx(y);}),this.Mf.jW(w,this.yl,this.kW));this.yl=this.Me=!1;this.yQ=!0;this.mv(this);this.Bt=w;this.mr=this.bytesReceived;this.Lc();};u.prototype.J_=function(){var v,w;v=(v=this.stream)?v.toString():this.url;w=this.j1;w && (v+=",range " + w.start + "-" + w.end);return v;};Object.defineProperties(u.prototype,{kW:{get:function(){return {requestId:this.J_(),Hh:this.zd,type:this.mediaType,QG:this.Rjb};},enumerable:!1,configurable:!0}});u.prototype.OQ=function(){var v,w,x,y;this.H.warn("AseMediaRequest._onError:",this.toString());v=this.af;w=this.status;x=this.Mg;y=this.Ri;g.qw.instance().push(m.default.time.ba() - v);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):f.ya(x)?(this.Mf && this.Cd && this.Cd.tra && this.loadTime && void 0 === w && this.Mf.Qu(this.mr?this.bytesReceived - this.mr:this.bytesReceived,this.Bt?this.Bt:this.loadTime,v,this.kW),this.T2(this)):this.H.warn("ignoring undefined request error (nativecode: " + y + ")");};return u;})(d);b.bY=a;r.wf(n.SH,a,!1);r.wf(q.$t,a,!1);},function(r,b,a){var f,l,m,d;function c(g,h,k){var n,q,u;h=f.__assign({},null === (q=null === g || void 0 === g?void 0:g.context) || void 0 === q?void 0:q.call(g,{A_a:h,Gq:k}));if((null === g || void 0 === g?0:g.Gq) && k)if(!0 === g.Gq)h.args=k;else {q={};h.args=q;try{for(var p=f.__values(g.Gq),t=p.next();!t.done;t=p.next()){u=t.value;q[u]=k[u];}}catch(w){var v;v={error:w};}finally{try{t && !t.done && (n=p.return) && n.call(p);}finally{if(v)throw v.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.BA=b.iVa=b.Rb=void 0;f=a(2);l=a(20);m=f.__importDefault(a(5));d=a(9);b.Rb=function(g){return function(h,k,n){var q;q=n.value;n.value=function(){var p,t,u,v,w,x;t=b.iVa(this);if(t)(u=c(g,this,arguments),v=null !== (p=null === g || void 0 === g?void 0:g.methodName) && void 0 !== p?p:String(k),w=t.xR(v,u,null === g || void 0 === g?void 0:g.Hl,null === g || void 0 === g?void 0:g.a6b));p=this.kca;this.kca=w;try{return x=null === q || void 0 === q?void 0:q.apply(this,arguments);}catch(A){var y;y=A;throw A;}finally{if((this.kca=p,w))if((w.data || (w.data={}),y))w.data.error="" + y;else if(d.XWa(x))x.then(function(A){w && (null === g || void 0 === g?0:g.return) && (w.data.resolve=A);},function(A){w && (w.data.reject="" + A);});else if(null === g || void 0 === g?0:g.return)w.data.lRet=x;}};};};b.iVa=function(g){if(null === g || void 0 === g?0:g.lca)return g.lca;};r=(function(){function g(h){this.$n=[];this.R_=!1;this.ida={};this.I=f.__assign({mC:10},h);Object.defineProperties(h.ot,{lca:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.I.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.R_;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kGb:{get:function(){return f.__spread(this.$n);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{KDb:{get:function(){return this.ida;},enumerable:!1,configurable:!0}});g.prototype.Pu=function(h){var k;if(!this.R_){k=this.I.ot.kca;k && (k.data=f.__assign(f.__assign({},k.data),h));}};g.prototype.xR=function(h,k,n,q){var p,t,u,v;if(!this.R_){u=!1;v=null === (t=(p=this.I).Uea) || void 0 === t?void 0:t.call(p,this.I.ot);p=c({},this.I.ot);k=f.__assign(f.__assign(f.__assign({},v),p),k);v=0 < Object.keys(k).length;k={methodName:h,data:v?k:void 0,time:m.default.time.ba()};q && this.ida[h]++;n && this.$n.length && (n=this.$n[this.$n.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,u=!0));this.qqb(k);u || this.$n.push(k);this.$n.length > this.I.mC && this.$n.shift();return k;}};g.prototype.qqb=function(h){var k;l.ia && (null === (k=this.I.console) || void 0 === k?void 0:k.trace(this.I.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.I,h);};g.prototype.Ab=function(){Object.defineProperties(this.I.ot,{lca:{enumerable:!1,value:null,configurable:!0}});this.R_=!0;this.clear();};g.prototype.clear=function(){this.$n=[];this.ida={};};return g;})();b.BA=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mA=b.ResponseType=void 0;b.ResponseType={Text:1,G3b:2,UZb:3};b.mA="LegacyHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VD="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vD="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yaa=b.nn=void 0;r=b.nn || (b.nn={});r.KD="PRE_FETCH";r.heb="QC";r.uq="STANDARD";r.Jba="SUPPLEMENTAL";r.y_b="DOWNLOAD";b.Yaa="PboManifestCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wxa="DrmServicesSymbol";b.CY="DrmServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RH="ApiInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.qt=b.noa=b.nZa=void 0;r=a(676);a=a(679);b.nZa=r;b.noa=function(c,f){return b.nZa(function(l,m){return void 0 !== m?m:l;},c,f);};b.qt=a;},function(r,b,a){var c;c=a(169);r.exports=function(f){return function d(m){return 0 === arguments.length || c(m)?d:f.apply(this,arguments);};};},function(r,b){function a(c,f){var l;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(m){l=Object.getOwnPropertyDescriptor(c,m);void 0 !== l && Object.defineProperty(f,m,l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){(function(c,f){function l(m,d,g,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.E3a=this.nUb=m=this.now();this.v2=m + g;this.eNb=g;this.YPa=m + h;this.debug=!1;this.counter=this.Vy=0;this.Yu=1E4;this.M5a=g / 100;this.O5a=m;this.N5a=1 * this.M5a / 4;this.v8=0;this.tS="";this.eg(m,"progress tracking start");}l.prototype.constructor=l;l.prototype.eg=function(m,d){var g,h;g=((m - this.E3a) / 1E3).toFixed(3);g=("     ").slice(g.length - 4) + g;h=c.lJb();this.console.info(g + (" " + ((this.YPa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.Yu)) + (" M:(" + Math.floor(h.Z5b / 1024 / 1024) + " MB/" + Math.floor(h.MVa / 1024 / 1024) + " MB) ") + this.tS + d);};l.prototype.ckb=function(m){var d;d=this.now();this.tS=m?m + ": ":m;this.Vy=0;this.E3a=d;this.eg(d,"starting");};l.prototype.Bkb=function(m){var d,g;this.counter++;if(!(this.counter < this.Yu)){this.counter=0;d=this.now();g=d - (this.O5a + this.M5a);this.O5a=d;this.v8=.9 * this.v8 + .1 * g;this.v8 > this.N5a?(this.Yu*=.875,this.Yu=Math.max(1,this.Yu)):this.v8 < -this.N5a && (this.Yu*=1.5,this.Yu=Math.min(this.Yu,1E5));if(d >= this.YPa)throw (this.eg("Execution deadline exceeded after " + (d - this.nUb) + " ms" + this.tS),Error("Execution deadline exceeded" + this.tS));g=c.lJb();this.Vy=Math.max(this.Vy,g.MVa);if(7516192768 < g.MVa)throw Error("Heap total limit exceeded" + this.tS);if(!(d <= this.v2)){for(;d > this.v2;){this.v2+=this.eNb;}this.eg(d,m);}}};l.nb=function(m,d,g,h){f.FC=new l(m,d,g || 5E3,h || 33E5);};l.tsa=function(m){f.FC && f.FC.ckb(m);};l.update=function(m){f.FC && f.FC.Bkb(m);};l.hUa=function(){if(f.FC)return f.FC.Vy;};l.now=function(){return f.FC?f.FC.now():Date.now();};r.exports=l;}).call(this,a(426),a(296));},function(r){var b;b={bU:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,g;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function f(h){return d.Fe(h);}function l(h){return d.ya(h);}function m(h){return !c(h) && !f(h) && !l(h) && !Array.isArray(h) && d.jh(h);}d=a(10);g={gD:0,MZ:1,Ncb:2,oZ:3,im:4};r.exports={ala:function(h){return c(h)?g.gD:f(h)?g.MZ:l(h)?g.Ncb:m(h)?g.oZ:g.im;},E4:c,Fe:f,ya:l,jh:m,oq:g};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;r=b.Yj || (b.Yj={});r.Nn="created";r.$v="started";r.ON="succeeded";r.Es="failed";r.Kn="cancelled";r.Nob="cancelled_on_start";r.iga="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hu=void 0;r=b.hu || (b.hu={});r[r.SZb=8]="Backspace";r[r.t3b=9]="Tab";r[r.d0b=13]="Enter";r[r.l3b=16]="Shift";r[r.q_b=17]="Ctrl";r[r.vZb=18]="Alt";r[r.A2b=19]="PauseBreak";r[r.j_b=20]="CapsLock";r[r.f0b=27]="Escape";r[r.n3b=32]="Space";r[r.z2b=33]="PageUp";r[r.y2b=34]="PageDown";r[r.c0b=35]="End";r[r.H0b=36]="Home";r[r.Y0b=37]="LeftArrow";r[r.A3b=38]="UpArrow";r[r.H2b=39]="RightArrow";r[r.K_b=40]="DownArrow";r[r.V0b=45]="Insert";r[r.H_b=46]="Delete";r[r.J3b=48]="Zero";r[r.c2b=49]="One";r[r.w3b=50]="Two";r[r.u3b=51]="Three";r[r.z0b=52]="Four";r[r.x0b=53]="Five";r[r.m3b=54]="Six";r[r.k3b=55]="Seven";r[r.b0b=56]="Eight";r[r.O1b=57]="Nine";r[r.mZb=65]="A";r[r.wZb=66]="B";r[r.$Zb=67]="C";r[r.R9a=68]="D";r[r.E=69]="E";r[r.g0b=70]="F";r[r.A0b=71]="G";r[r.D0b=72]="H";r[r.Nab=73]="I";r[r.W0b=74]="J";r[r.aaa=75]="K";r[r.Sbb=76]="L";r[r.a1b=77]="M";r[r.Dcb=78]="N";r[r.a2b=79]="O";r[r.e2b=80]="P";r[r.Q=81]="Q";r[r.E2b=82]="R";r[r.seb=83]="S";r[r.Xeb=84]="T";r[r.x3b=85]="U";r[r.B3b=86]="V";r[r.D3b=87]="W";r[r.ica=88]="X";r[r.H3b=89]="Y";r[r.I3b=90]="Z";r[r.Z0b=91]="LeftWindowKey";r[r.I2b=92]="RightWindowKey";r[r.i3b=93]="SelectKey";r[r.R1b=96]="Numpad0";r[r.S1b=97]="Numpad1";r[r.T1b=98]="Numpad2";r[r.U1b=99]="Numpad3";r[r.V1b=100]="Numpad4";r[r.W1b=101]="Numpad5";r[r.X1b=102]="Numpad6";r[r.Y1b=103]="Numpad7";r[r.Z1b=104]="Numpad8";r[r.$1b=105]="Numpad9";r[r.n1b=106]="Multiply";r[r.uZb=107]="Add";r[r.o3b=109]="Subtract";r[r.G_b=110]="DecimalPoint";r[r.J_b=111]="Divide";r[r.h0b=112]="F1";r[r.l0b=113]="F2";r[r.m0b=114]="F3";r[r.n0b=115]="F4";r[r.o0b=116]="F5";r[r.p0b=117]="F6";r[r.q0b=118]="F7";r[r.r0b=119]="F8";r[r.s0b=120]="F9";r[r.i0b=121]="F10";r[r.j0b=122]="F11";r[r.k0b=123]="F12";r[r.Q1b=144]="NumLock";r[r.g3b=145]="ScrollLock";r[r.j3b=186]="SemiColon";r[r.e0b=187]="Equals";r[r.m_b=188]="Comma";r[r.F_b=189]="Dash";r[r.B2b=190]="Period";r[r.y0b=191]="ForwardSlash";r[r.v3b=192]="Tilde";r[r.d2b=219]="OpenBracket";r[r.RZb=220]="BackSlash";r[r.l_b=221]="CloseBracket";r[r.D2b=222]="Quote";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sm=b.z8a=void 0;b.z8a=a;b.sm=new a();},function(r,b,a){var g;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function f(h,k){return null === h.gz?!1:h.gz.mg === k?!0:f(h.gz,k);}function l(h){function k(n,q){var p;void 0 === q && (q=[]);p=c(n.mg);q.push(p);return null !== n.gz?k(n.gz,q):q;}return k(h).reverse().join(" --\x3e ");}function m(h){h.Aga.forEach(function(k){if(f(k,k.mg))throw (k=l(k),Error(g.t9a + " " + k));m(k);});}function d(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);b.rL=c;b.TXa=function(h,k,n){var q;q="";h=n(h,k);0 !== h.length && (q="\nRegistered bindings:",h.forEach(function(p){var t;t="Object";null !== p.Ml && (t=d(p.Ml));q=q + "\n " + t;p.$E.oZa && (q=q + " - " + p.$E.oZa);}));return q;};b.xpb=m;b.ZGb=function(h,k){var n,q;if(k.Ema() || k.uma()){n="";q=k.nBb();k=k.Vzb();null !== q && (n+=q.toString() + "\n");null !== k && k.forEach(function(p){n+=p.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HP="PlatformConfigDefaultsSymbol";},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.gL=b.fL=b.hL=b.kXa=b.jU=void 0;c=a(4);f=a(104);l=a(48);b.jU=function(m,d,g,h){var k,n;k=m.kMb;n=m.lMb;m=m.mMb;return k > d || k === d && n > g || k === d && n === g && (void 0 === h || m >= h);};b.kXa=function(m,d){return m.Lq >= d;};b.hL=function(){return {version:"6.0032.694.911",b6:!0,bL:!0,aia:"browser",iQa:["en-US"],sna:"",zS:"cadmium",Aua:!0,N0:!0,cW:!1};};b.fL=function(){return {fB:[l.oe.kD,l.oe.lD],jw:[l.N.iI,l.N.jD,l.N.QO,l.N.RO,l.N.KI,l.N.LI],Nl:f.zb.pIa,Uy:c.xc(31E3)};};b.gL=function(m){return {GY:m.Qn};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yxa=b.kn=void 0;r=b.kn || (b.kn={});r[r.CC=0]="playready";r[r.i9=1]="widevine";r[r.sF=2]="fairplay";r[r.I4b=3]="clearkey";b.Yxa="DrmTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sP="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SZ=b.Fo=void 0;b.Fo=function(){};b.SZ="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gHa="SystemRandomSymbol";b.IZ="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JP="PlayerErrorFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.$H=b.R$a=void 0;c=a(25);b.R$a=function(){this.fB=[];this.jw=[];this.rfa=c.au.du;this.b9=c.Bi.du;};b.$H="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SP="SourceBufferTypeProviderSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Jd=void 0;f=a(25);c.OPa=function(l){var m;m={};m[f.de.QP]=c.hI;m[f.de.MY]=c.hI;m[f.de.JI]=c.SO;m[f.de.Bw]=c.Bw;m[f.de.Mr]=l || c.Mr;m[f.de.$z]=c.hI;m[f.de.Qw]=c.ZP;m[f.de.dj]=c.dj;return m;};b.Jd=c;c.hI="avc1.640028";c.SO="hev1.1.6.L93.B0";c.nY="dvhe.05.01";c.n$="dvhe.05.04";c.o$="dvhe.05.05";c.p$="dvhe.05.06";c.q$="dvhe.05.07";c.r$="dvhe.05.09";c.Mr=c.nY;c.Bw=c.SO;c.TX="mp4a.40.2";c.WD="mp4a.40.42";c.S9a="ec-3";c.ZP="vp09.00.11.08.02";c.dj="av01.0.04M.08";c.L9a=[c.r$,c.q$,c.p$,c.o$,c.n$,c.nY];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wP="MslProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VZ=void 0;b.xq={zI:"PRIMARY",Tua:"ASSISTIVE",nwa:"COMMENTARY",NONE:"NONE"};b.VZ={assistive:b.xq.Tua,closedcaptions:b.xq.Tua,directorscommentary:b.xq.nwa,commentary:b.xq.nwa,subtitles:b.xq.zI,primary:b.xq.zI,none:b.xq.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rP="ManifestFactorySymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cm=void 0;c=a(2).__importDefault(a(5));f=a(110);r=(function(){function l(m){this.H=new c.default.Console("ASEJS","media|asejs","(" + m + ")");this.Eda=[];}l.prototype.yp=function(m){this.Eda[m] || (this.Eda[m]=f.dr(c.default,this.H,"[" + m + "]"));return this.Eda[m];};return l;})();b.cm=new r(0);},function(r,b,a){function c(f,l){this.NJ=f;this.wj=Math.floor((f + l - 1) / l);this.sd=l;this.reset();}a(6);c.prototype.shift=function(){this.Bd.shift();this.Ou.shift();};c.prototype.Jv=function(f){return this.TNa(this.Bd[f],f);};c.prototype.update=function(f,l){this.Bd[f]=(this.Bd[f] || 0) + l;};c.prototype.push=function(){this.Bd.push(0);this.Ou.push(0);this.jb+=this.sd;};c.prototype.add=function(f,l,m){var d,g,h;if(null === this.jb){d=Math.max(Math.floor((m - l + this.sd - 1) / this.sd),1);for(this.jb=l;this.Bd.length < d;){this.push();}}for(;this.jb <= m;){this.push();this.Bd.length > this.wj && this.shift();}if(null === this.tn || l < this.tn)this.tn=l;if(l > this.jb - this.sd)this.update(this.Bd.length - 1,f);else if(l == m)(d=this.Bd.length - Math.max(Math.ceil((this.jb - m) / this.sd),1),0 <= d && this.update(d,f));else for(d=1;d <= this.Bd.length;++d){g=this.jb - d * this.sd;h=g + this.sd;if(!(g > m)){if(h < l)break;this.update(this.Bd.length - d,Math.round(f * (Math.min(h,m) - Math.max(g,l)) / (m - l)));}}for(;this.Bd.length > this.wj;){this.shift();}};c.prototype.start=function(f){null === this.tn && (this.tn=f);null === this.jb && (this.jb=f);};c.prototype.stop=function(f){var l,m;if(null !== this.jb)if(f - this.jb > 10 * this.NJ)this.reset();else {for(;this.jb <= f;){this.push();this.Bd.length > this.wj && this.shift();}l=this.Bd.length - Math.ceil((this.jb - this.tn) / this.sd);m=this.Bd.length - Math.ceil((this.jb - f) / this.sd);if(0 <= m)if((0 > l && (this.tn=this.jb - this.sd * this.Bd.length,l=0),l === m))this.Ou[l]+=f - this.tn;else if(m > l)for((this.Ou[l]+=(this.jb - this.tn) % this.sd,this.Ou[m]+=this.sd - (this.jb - f) % this.sd,f=l + 1);f < m;++f){this.Ou[f]=this.sd;}this.tn=null;}};c.prototype.TNa=function(f,l){l=this.Jja(l);return 0 === l?null:8 * f / l;};c.prototype.Jja=function(f){var l;l=this.Ou[f];null !== this.tn && (f=this.jb - (this.Bd.length - f - 1) * this.sd,f > this.tn && (l=f - this.tn <= this.sd?l + (f - this.tn):this.sd));return l;};c.prototype.get=function(f,l){var m,d;m=this.Bd.map(this.TNa,this);if("last" === f)for(f=0;f < m.length;++f){null === m[f] && (m[f]=0 < f?m[f - 1]:0);}else if("average" === f){l=1 - Math.pow(.5,1 / ((l || 2E3) / this.sd));for(f=0;f < m.length;++f){null === m[f]?m[f]=Math.floor(d || 0):d=void 0 !== d?l * m[f] + (1 - l) * d:m[f];}}return m;};c.prototype.reset=function(){this.kda || (this.Bd=[],this.Ou=[],this.tn=this.jb=null);};c.prototype.setInterval=function(f){this.wj=Math.floor((f + this.sd - 1) / this.sd);};r.exports=c;},function(r,b,a){var l,m,d,g,h,k,n,q,p,t;function c(u){var v;if(!u.tea){v=u.fVa();u.xn.JE(v.default.Ca,u.oj);u.xn.KH(v.Vs?v.Vs.L6:void 0,v.Vs?v.Vs.sampleSize:void 0);l.tb(u.Cc) || (u.tea=!0);}}function f(u,v,w){var x;this.I=w;this.Uo={};this.hJ=w.hJ;this.lJa=new g(this.hJ);this.wQ=new k(!0);this.aQ=new k(!1);this.cjb=w.G6;this.uhb=w.fEb;this.vhb=w.gEb;w.tRa && (this.BJ=new n(this.I));w.q2 && (this.KA=new q(w.$na));this.reset();this.nKa=u;this.xn=v;this.PJa=m.ho.name();this.xn.S7(this.PJa);this.XD=0;this.bQ=[];m.events.on("networkchange",(function(y){this.PJa=y;this.xn.S7(y);}).bind(this));x=w.Gha;x && (x={confidence:d.zf.jI,Pa:{Ca:parseInt(x,10),ti:0},Vi:{fnb:0,ti:0},Us:{fnb:0,ti:0}},this.get=function(){return x;});t=this;}l=a(10);m=a(5).default;d=a(27).default;a(9);b=a(16).EventEmitter;g=a(385).Xya;h=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");k=a(803).yya;n=a(805).xDa;q=a(806).tAa;p=a(145);t=void 0;f.prototype.constructor=f;f.prototype=Object.create(b.prototype);f.instance=function(){return t;};f.reset=function(){t && t.reset();};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.hf;}},confidence:{get:function(){return this.oj;}},Xo:{get:function(){return this.XD;}},ELa:{get:function(){return this.bQ;}}});f.prototype.tgb=function(){var u,v,w,x;u=this.I;v=u.Jgb.concat(u.Sgb);w=u.Yca;x=this.lJa;return v.reduce(function(y,A){y[A]=x.create(A,w);return y;},{});};f.prototype.reset=function(){var u,v,w,x;u=this.I.Yca;v=this.lJa;w=this.I;this.location=null;this.Uo=this.tgb();if(this.I.wRa){x=this.I.G5a;this.Uo.OVb=new p(x.numB * x.bSizeMs,x.bSizeMs);}this.wQ.reset();this.aQ.reset();this.jx=v.create("respconn-ewma",u);this.$w=v.create("respconn-ewma",u);this.BJ && this.BJ.reset();this.KA && this.KA.reset();this.oj=d.zf.HAVE_NOTHING;this.Ckb=(function(){c(this);}).bind(this);this.F0=void 0;this.LA=this.Ic=this.Cc=this.hf=null;this.EA=this.A0=0;this.pjb=!1;w.J2a && (this.XD=0,this.bQ=[]);};f.prototype.vN=function(u){var v;v=this.Uo;if(u !== this.location){l.fa(this.F0) || (clearInterval(this.F0),this.F0=void 0);l.tb(this.location) && (this.A0=0,this.hf=null);if(!l.tb(u)){this.oj=d.zf.HAVE_NOTHING;for(var w in v){v[w] && v[w].reset && v[w].reset();}this.jx.reset();this.$w.reset();}l.tb(this.hf) || (this.A0+=(l.tb(this.Cc)?m.time.ba():this.Cc) - this.hf);this.Cc=this.hf=null;this.Ic=0;this.location=u;this.xn.vN(u);}};f.prototype.S7=function(u){this.xn.S7(u);};f.prototype.hlb=function(u){this.Uo.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Uo.QoEEvaluator=u;};f.prototype.sQb=function(){delete this.Uo.QoEEvaluator;};f.prototype.Qu=function(u,v,w,x){var y,A;this.yXa=Math.max(this.yXa || 0,w);y=this.I;A=this.Uo;if(!0 === x.jO)(x=A["throughput-wssl"]) && x.add(u,v,w,!0);else if(l.fa(v))h.warn("addDataReceived called with undefined start time");else {this.BJ && this.BJ.Qu(u,v,w,x);if(x.QG)if(this.uhb){if(x.QG.LYa(u,v,w,this.cjb))return;}else if(this.vhb && x.QG.P4())return;this.KA && this.KA.Qu(u,v,w);y.Rgb && 10 > w - v?v=w - 10:0 === w - v && (v=w - 1);this.wQ.Qu(u,v,w,x);this.aQ.Qu(u,v,w,x);for(var z in A){A[z] && A[z].add && A[z].add(u,v,w);}this.oj=Math.max(this.oj,d.zf.hA);l.tb(this.hf) && (this.hf=v,this.Cc=null,this.tea=!1,this.Ic=0);l.tb(this.Cc) || (v > this.Cc && (this.hf+=v - this.Cc),this.Cc=null,this.tea=!1);this.Ic+=u;this.oj < d.zf.Aw && (w - this.hf > y.eib || this.Ic > y.dib) && (this.oj=d.zf.Aw);this.oj < d.zf.jI && (w - this.hf > y.sjb || this.Ic > y.rjb) && (!this.pjb || this.EA > y.cib) && (this.oj=d.zf.jI,c(this),this.F0=setInterval(this.Ckb,y.Phb));l.tb(this.LA) || (v - this.LA > y.oKa?this.nKa.FWa(this.LA,v):w - v > y.oKa && this.nKa.FWa(v,w));this.LA=Math.max(w,this.LA);}};f.prototype.tx=function(u){this.jx.add(u);this.xn.tx(u);};f.prototype.rx=function(u){this.$w.add(u);this.xn.rx(u);};f.prototype.start=function(u){var v;l.tb(this.LA) && !l.tb(this.Cc) && (this.LA=u);v=this.Uo;if(this.I.Ysa)for(var w in v){v[w] && v[w].start && v[w].start(u);}};f.prototype.stop=function(u){var v,w;v=this.Uo;for(w in v){v[w] && v[w].stop && v[w].stop(u);}this.Cc=l.tb(this.Cc)?u:Math.min(this.Cc,u);this.LA=null;};f.prototype.flush=function(){var u,v;u=this.Uo;for(v in u){u[v] && u[v].flush && u[v].flush();}};f.prototype.fail=function(){this.hf=null;};f.prototype.HTa=function(){var u,v;u=this.Uo.entropy;if(u){v=u.gob();u.reset();}return v;};f.prototype.fVa=function(){var u,v,w,x,y,A,z;u=m.time.ba();v={};w=this.Uo;x=this.I;y=x.ygb;A=x.Zjb;for(z in w){w[z] && w[z].get && (v[z]=w[z].get(u),"iqr" === w[z].type && (v.Vs=v[z]),"tdigest" === w[z].type && (v.Uj=v[z]),"wssl" === w[z].type && (v.jO=v[z]));}v.cdnavtp=this.wQ.Ns();v.activecdnavtp=this.aQ.Ns();v.default=y && v[y]?v[y]:v["throughput-ewma"];"none" !== x.$ra && "none" !== A && (v.k3a=A && v[A]?v[A]:v["throughput-sw"]);return v;};f.prototype.z3=function(){return this.BJ?this.BJ.z3():void 0;};f.prototype.r3=function(){return this.KA?this.KA.r3():void 0;};f.prototype.get=function(){var u,v,w,x,y,A;u=this.fVa();v=u.default;w=this.jx.get();x=this.$w.get();y=this.I;if(u.k3a){A=u.k3a;v=l.ya(v.Ca) && l.ya(A.Ca) && v.Ca > A.Ca && 0 < A.Ca?A:v;}u.confidence=this.oj;u.Pa=v;!y.xia || !v || l.tb(v.Ca) || isNaN(v.Ca) || !u.jO || l.tb(u.jO.Ca) || isNaN(u.jO.Ca) || ("max" === y.Q7a?u.Pa.Ca=Math.max(u.jO.Ca,v.Ca):"sum" === y.Q7a && (u.Pa.Ca+=u.jO.Ca));u.Vi=w;u.Us=x;this.I.wRa && (v=this.I.G5a,u.W8b=this.Uo.OVb.get(v.fillS,v.fillHl));v=this.A0 + !l.tb(this.hf)?(l.tb(this.Cc)?m.time.ba():this.Cc) - this.hf:0;u.time=v;return u;};f.prototype.wCb=function(){var u,v,w;u={};v=this.get(!0);if(v.confidence && v.Pa){u.aseavtp=Number(v.Pa.Ca).toFixed(2);u.asevartp=Number(v.Pa.ti).toFixed(2);if(v.Vs){w=v.Vs.L6;!w || isNaN(w.il) || isNaN(w.gl) || isNaN(w.Mj) || (u.aseniqr=0 < w.Mj?Number((w.il - w.gl) / w.Mj).toFixed(2):-1,u.aseiqr=Number(w.il - w.gl).toFixed(2),u.asemedtp=Number(w.Mj).toFixed(2));u.iqrsamples=v.Vs.sampleSize;}v.Uj && v.Uj.sy && (u.tdigest=v.Uj.sy());}return u;};f.prototype.bN=function(u,v){var w;w=v.requestId;1 === ++this.XD && (this.emit("active",u),this.start(u));w && this.bQ.push(w);this.wQ.bN(u,v);this.aQ.bN(u,v);};f.prototype.jW=function(u,v,w){v=w.requestId;--this.XD;this.I.J2a && (this.XD=Math.max(this.XD,0));0 === this.XD && (this.stop(u),this.emit("inactive",u));v && (v=this.bQ.indexOf(v),0 <= v && this.bQ.splice(v,1));this.wQ.jW(u,w);this.aQ.jW(u,w);this.KA && this.KA.uEb(w.type);};r.exports=f;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.Os && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.Bp(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.Bp(1,2,2);}catch(d){DataView.prototype.Bp=a(DataView.prototype.Bp,DataView.prototype.getUint8,Uint8Array);DataView.prototype.uy=a(DataView.prototype.uy,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Os=a(DataView.prototype.Os,DataView.prototype.getUint32,Uint32Array);DataView.prototype.BF=a(DataView.prototype.BF,DataView.prototype.getInt8,Int8Array);DataView.prototype.zF=a(DataView.prototype.zF,DataView.prototype.getInt16,Int16Array);DataView.prototype.AF=a(DataView.prototype.AF,DataView.prototype.getInt32,Int32Array);}c.dla=function(d,g,h,k,n){return h?d.Bp(g,h,k || 1,n):new Uint8Array(0);};c.bla=function(d,g,h,k,n){return h?d.uy(g,h,k || 2,n):new Uint16Array(0);};c.cla=function(d,g,h,k,n){return h?d.Os(g,h,k || 4,n):new Uint32Array(0);};c.NAb=function(d,g,h,k,n){return h?d.BF(g,h,k || 1,n):new Int8Array(0);};c.LAb=function(d,g,h,k,n){return h?d.zF(g,h,k || 2,n):new Int16Array(0);};c.MAb=function(d,g,h,k,n){return h?d.AF(g,h,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(g,h,k,n){var q;k=k || d.BYTES_PER_ELEMENT;if(g + h * k > this.byteLength){q=new d(h);q.set(l.call(this,g,h - 1,k,n));q[h - 1]=m.call(this,g + (h - 1 * k),n);return q;}return l.call(this,g,h,k,n);};}c={Bp:function(l,m,d,g,h){var k;k=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint8(m,h);}return k;},uy:function(l,m,d,g,h){var k;k=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint16(m,h);}return k;},Os:function(l,m,d,g,h){var k;k=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint32(m,h);}return k;},BF:function(l,m,d,g,h){var k;k=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt8(m,h);}return k;},zF:function(l,m,d,g,h){var k;k=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt16(m,h);}return k;},AF:function(l,m,d,g,h){var k;k=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt32(m,h);}return k;},fxb:b};f=!1;c.aka=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(233);r=(function(){function l(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}l.WV=function(m,d){var g,h;g=m.eb();h=m.Pqa();m=new (f.jp[g] || l)(g,m.Zja(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Km=0;return !0;};l.prototype.bT=function(m){var d;d=[];this.tag === m && d.push(this);if(this.jp)for(var g=0;g < this.jp.length;g++){d=c.__spreadArrays(d,this.jp[g].bT(m));}return d;};l.prototype.Zk=function(m){for(m=this.bT(m);0 < m.length;){return m[0];}};l.prototype.YQ=function(){for(this.jp=[];this.u.offset < this.startOffset + this.length;){this.jp.push(l.WV(this.u,this));}};return l;})();b.hD=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.kq=void 0;c=a(2);f=c.__importDefault(a(27));l=c.__importDefault(a(5));m=a(845);r=(function(){function d(g){this.NI=g;this.Qh=[];this.console=new l.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var g;if(void 0 === d.pJ){g=a(5).default;d.pJ=new d(g.aI);}return d.pJ;},enumerable:!1,configurable:!0}});d.reset=function(){d.pJ=void 0;};d.prototype.tB=function(g,h,k,n,q,p){var t,u,v,w;t=!1;u=p.tTb?this.Sxb(k,h,g,p.uTb):-1;if(-1 === u){v={track:this.Esb(k,n,g,q,p),Mv:k,K:h,G1a:g,QM:[],Nn:!1,CK:!1};this.Qh.push(v);w=function(){v.Nn=!0;v.track.removeListener("created",w);};v.track.on("created",w);t=!1;}else (t=!0,v=this.Qh[u]);g=new m.cGa(this.console,v.track,v.Nn,t);v.QM.push(g);return g;};d.prototype.xS=function(g){var h,k;g.kp();h=this.K2(function(n){return n.track === g.track;});if(-1 !== h){if((h=this.Qh[h],1 === h.QM.length))(h.track.kp(),h.CK=!0);else {k=h.QM.indexOf(g);0 <= k && h.QM.splice(k,1);}}else g.track.kp();};d.prototype.Rf=function(){this.NI.Rf();};d.prototype.Esb=function(g,h,k,n,q){var p,t,u;p=this;t=!1;g?1 === k?(g=!1,h=1,q.Kp?(g=!0,h=q.XL):q.zv && 2 < q.zv && (g=!0,h=q.zv),g={type:this.NI.Fb,openRange:!g,pipeline:g,connections:h,socketBufferSize:q.cO,minRequestSize:q.fM}):0 === k?(t=q.Kp && (q.bYb || h && q.cYb),g={type:this.NI.Sb,openRange:!t,pipeline:t,connections:1,socketBufferSize:q.Y0,minRequestSize:q.fM}):g={type:q.Vub?this.NI.Fb:this.NI.Dab,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.vla,minRequestSize:q.fM}:g={type:0 === k?f.default.Ra.Sb:f.default.Ra.Fb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === k?q.Y0:q.cO,minRequestSize:q.fM};u=new this.NI(g,n);u.on("transportreport",function(v){var w;w=p.K2(function(x){return x.track === u;});-1 !== w && (w=p.Qh[w],w.QM.length && w.QM[0].emit("transportreport",v));});u.on("destroyed",function(){var v;v=p.K2(function(w){return w.track === u;});-1 !== v && p.Qh.splice(v,1);u.removeAllListeners();});if(t && q.aYb || q.j7a)u.on("pipelinedisabled",function(){q.j7a && 1 === u.config.type?u.l7(c.__assign(c.__assign({},u.config),{socketBufferSize:q.LJb,pipeline:!1,openRange:!0,connections:1})):u.l7(c.__assign(c.__assign({},u.config),{pipeline:!1,openRange:!0}));});return u;};d.prototype.Sxb=function(g,h,k,n){return this.K2(function(q){return !q.CK && (!n && q.track.config.H7b || !g?!q.Mv && q.G1a === k:q.Mv && q.K === h && q.G1a === k);});};d.prototype.K2=function(g){for(var h=0;h < this.Qh.length;++h){if(g(this.Qh[h]))return h;}return -1;};return d;})();b.kq=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mj=b.Lba=void 0;c=a(22);(function(d){d[d.absolute=0]="absolute";d[d.h2a=1]="relative";})(f=b.Lba || (b.Lba={}));m=(function(){function d(g,h){this.type=g;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + f[this.type];};Object.defineProperties(d,{ab:{get:function(){l || (l=new d(f.h2a,c.S.ab));return l;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.fO=function(g){return new m(f.absolute,g);};Object.defineProperties(d,{TYb:{get:function(){return m.ab;},enumerable:!1,configurable:!0}});d.ZC=function(g){return new m(f.h2a,g);};d.Iua=new m(f.absolute,c.S.By);return d;})();b.mj=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.fIb=b.t0a=b.FMb=b.tTa=b.OMb=b.$C=b.k9=b.Jr=b.lO=b.kO=b.Wj=void 0;c=a(24);f=a(21);b.Wj="$attributes";b.kO="$children";b.lO="$name";b.Jr="$text";b.k9="$parent";b.$C="$sibling";b.OMb=/^\s*<\?xml.*\?>/i;b.tTa=function(l,m,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(m=arguments[g++]) && (l=l[m]);){;}return l;};b.FMb=function(l,m){var d;l?d=c.ue(l[b.Jr]):void 0 !== m && (d=m);f.sS(d);return d;};b.t0a=function(l,m){var d;l?d=l[b.Jr]:void 0 !== m && (d=m);f.ZPa(d);return d;};b.fIb=function(l,m){var d;d={};d[b.Wj]=l;d[b.Jr]=m;return d;};},function(r){function b(m,d){return m.some(function(g){return g.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(f).reduce(l,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function f(m){return m.duration;}function l(m,d){return m + d;}r.exports={Zpb:function(m,d,g){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (g.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},qha:function(m,d,g){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.cMb;h.originY=m.dMb;h.sizeX=m.XTb;h.sizeY=m.YTb;h.imageData=d;h.id=m.MF;h.rootContainerExtentX=g.tRb;h.rootContainerExtentY=g.uRb;return h;},cka:function(m,d){return "o_" + m + "s_" + d;},sYb:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},Kc:function(m){return "undefined" !== typeof m;},n8b:b,h5b:a,xT:function(m,d){var g,h;g=Object.create({});for(h in m){g[h]=m[h];}m instanceof Error && (g.message=m.message,g.stack=m.stack);g.errorString=d;return g;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},YVa:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},aVb:function(m,d){for(var g=d.entries.length,h,k=0;k < g;k++){if((h=d.entries[k],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},bVb:function(m,d,g){for(var h=g.entries.length,k,n,q=0;q < h;q++){k=g.entries[q];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},dPa:function(m){return m.map(function(d,g){d.duration+=a(m.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},Qka:function(m){return m.reduce(function(d,g){return d + g.entries.reduce(function(h,k){return k.Mla + h;},0);},0);},lvb:function(m,d){return m && m.Sv <= d && m.Pp >= d;},uAb:function(m){if(m)return m.endTime;},WAb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CI="PlaygraphConfigSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.Os && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.Bp(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.Bp(1,2,2);}catch(d){DataView.prototype.Bp=a(DataView.prototype.Bp,DataView.prototype.getUint8,Uint8Array);DataView.prototype.uy=a(DataView.prototype.uy,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Os=a(DataView.prototype.Os,DataView.prototype.getUint32,Uint32Array);DataView.prototype.BF=a(DataView.prototype.BF,DataView.prototype.getInt8,Int8Array);DataView.prototype.zF=a(DataView.prototype.zF,DataView.prototype.getInt16,Int16Array);DataView.prototype.AF=a(DataView.prototype.AF,DataView.prototype.getInt32,Int32Array);}c.dla=function(d,g,h,k,n){return h?d.Bp(g,h,k || 1,n):new Uint8Array(0);};c.bla=function(d,g,h,k,n){return h?d.uy(g,h,k || 2,n):new Uint16Array(0);};c.cla=function(d,g,h,k,n){return h?d.Os(g,h,k || 4,n):new Uint32Array(0);};c.NAb=function(d,g,h,k,n){return h?d.BF(g,h,k || 1,n):new Int8Array(0);};c.LAb=function(d,g,h,k,n){return h?d.zF(g,h,k || 2,n):new Int16Array(0);};c.MAb=function(d,g,h,k,n){return h?d.AF(g,h,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(g,h,k,n){var q;k=k || d.BYTES_PER_ELEMENT;if(g + h * k > this.byteLength){q=new d(h);q.set(l.call(this,g,h - 1,k,n));q[h - 1]=m.call(this,g + (h - 1 * k),n);return q;}return l.call(this,g,h,k,n);};}c={Bp:function(l,m,d,g,h){var k;k=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint8(m,h);}return k;},uy:function(l,m,d,g,h){var k;k=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint16(m,h);}return k;},Os:function(l,m,d,g,h){var k;k=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint32(m,h);}return k;},BF:function(l,m,d,g,h){var k;k=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt8(m,h);}return k;},zF:function(l,m,d,g,h){var k;k=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt16(m,h);}return k;},AF:function(l,m,d,g,h){var k;k=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt32(m,h);}return k;},fxb:b};f=!1;c.aka=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(285);r=(function(){function l(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}l.WV=function(m,d){var g,h;g=m.eb();h=m.Pqa();m=new (f.jp[g] || l)(g,m.Zja(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Km=0;return !0;};l.prototype.bT=function(m){var d;d=[];this.tag === m && d.push(this);if(this.jp)for(var g=0;g < this.jp.length;g++){d=c.__spreadArrays(d,this.jp[g].bT(m));}return d;};l.prototype.Zk=function(m){for(m=this.bT(m);0 < m.length;){return m[0];}};l.prototype.YQ=function(){for(this.jp=[];this.u.offset < this.startOffset + this.length;){this.jp.push(l.WV(this.u,this));}};return l;})();b.hD=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var f,l,m;function c(d,g,h,k){g=m.Uh.call(this,d,g,k,l.Ai.events,l.Ai.events + "/" + h) || this;g.context=d;g.Wwb=h;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.jq=void 0;r=a(1);f=a(0);l=a(68);m=a(74);a(181);ka(c,m.Uh);c.prototype.Rf=function(d,g){var h,k;h=this;k=this.h1(g);!1;!1;return this.send(d,g.href,k).then(function(){return g;}).catch(function(n){throw h.Gm(n);});};c.prototype.up=function(d,g,h){var k,n;k=this;n=this.h1(h);!1;!1;return this.send(d,g.zT("events").href,n).then(function(q){g.PLa(q.result.links);return h;}).catch(function(q){throw k.Gm(q);});};c.prototype.h1=function(d){return {event:this.Wwb,xid:d.da,position:d.position || 0,clientTime:d.aS,sessionStartTime:d.zW,videoTrackId:d.dO,audioTrackId:d.cp,timedTextTrackId:d.hX,mediaId:d.$L,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Ynb(d.EV),sessionParams:d.po,mdxControllerEsn:d.coa};};c.prototype.Yfa=function(d){return {downloadableId:d.Dd,duration:d.duration};};c.prototype.Ynb=function(d){var g;g={total:d.total,audio:d.audio.map(this.Yfa),video:d.video.map(this.Yfa),text:d.text.map(this.Yfa)};d.total !== d.zH && (g.totalContentTime=d.zH);return g;};a=c;a=r.__decorate([f.R(),r.__param(0,f.Ek()),r.__param(1,f.Ek()),r.__param(2,f.Ek()),r.__param(3,f.Ek())],a);b.jq=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A;function c(z){var B,D;B=this;this.P6=new A.oba();this.createPlaygraphPlayer=function(E,F,C){var G;E=v.deb.encode(E);G=d.ha.get(w.rP);C=C?G.create(C):void 0;G=d.ha.get(p.qba).create(E);return G.gtb(E.Te,B.P6.Nna(B.gNa(F,G.i3())),C);};this.closeAllPlayers=function(E){m.jba(void 0 === E?function(){}:E);};this.init=function(E){E=void 0 === E?function(){}:E;B.YJ.yU(function(F){F.W?(l.config.L7?B.iSb().then(function(){f.zEa();}).catch(function(C){d.log.error("Unable to initialize the playdata services",C);}):Promise.resolve()).then(function(){Object.assign(B,c.CR);E(Object.assign({success:!0},c.CR));}):E({success:!1,error:d.WEa(F.errorCode || h.M.Rza,F)});});};this.applyConfig=function(E){B.L6a(E);l.Vga(E);};this.prepare=function(E,F){var C;E=B.h1a.Eub(E) || [];C=new Set();E=E.filter(function(G){var J;J=C.has(G.K);C.add(G.K);return !J;});if(l.config.Nv && B.qd)try{B.qd.LM(E,F);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(E){pb._cad_global.playerPredictionModel?(E=B.h1a.Gub(E)) && pb._cad_global.playerPredictionModel.update(E):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(E){d.jL().WW().then(function(F){return E(F.result);}).catch(function(){return E(!1);});};this.supportsUltraHd=function(E){d.jL().XW().then(E).catch(function(){return E(!1);});};this.supportsDolbyAtmos=function(E){d.jL().UW().then(E).catch(function(){return E(!1);});};this.supportsDolbyVision=function(E){d.jL().o8().then(function(F){return E(F.result);}).catch(function(){return E(!1);});};this.close=function(){};this.deviceThroughput=function(){var E;E=d.ha.get(n.nZ).kha();return E?Promise.resolve(E.Ns()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var E;E=d.ha.get(n.nZ).kha();return E?Promise.resolve(E.tBb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.vwb;};this.L6a(z);d.ha.get(y.dva);this.h1a=d.ha.get(g.BEa);this.YJ=d.ha.get(u.Yg);D=d.ha.get(x.wEa).apply();l.aPa([z],D);this.qd=d.ha.get(t.VD);d.jL().XW();}Object.defineProperty(b,"__esModule",{value:!0});b.MI=void 0;f=a(276);l=a(13);m=a(62);d=a(7);g=a(476);h=a(3);k=a(38);n=a(263);q=a(184);p=a(291);t=a(116);u=a(32);v=a(66);w=a(143);x=a(304);y=a(453);A=a(524);c.prototype.gNa=function(z,B){var D,E,F,C;z=void 0 === z?{}:z;C=null !== (E=null === (D=z.playbackState) || void 0 === D?void 0:D.currentTime) && void 0 !== E?E:B.jc;return Object.assign(Object.assign({startPts:C,uiPlayStartTime:Date.now()},z),{endPts:null !== (F=B.Fc) && void 0 !== F?F:void 0,isPlaygraph:!0});};c.prototype.L6a=function(z){d.ha.get(k.nP).mJb(z);};c.prototype.iSb=function(){return d.ha.get(q.xZ)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});};b.MI=c;c.CR={};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eA="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Ika=function(){return this.buffer.length - this.position;};a.prototype.rz=function(){return this.buffer[this.position++];};a.prototype.ph=function(c){var f;f=this.position;this.position+=c;return this.$Fb(this.buffer)?this.buffer.subarray(f,this.position):this.buffer.slice(f,this.position);};a.prototype.$Fb=function(c){return void 0 !== c.subarray;};a.prototype.Qp=function(c){for(var f=0;c--;){f=256 * f + this.buffer[this.position++];}return f;};a.prototype.Nqa=function(c){for(var f="";c--;){f+=String.fromCharCode(this.buffer[this.position++]);}return f;};a.prototype.Tg=function(){return this.Qp(2);};a.prototype.Rp=function(){return this.Qp(4);};a.prototype.UM=function(){return this.Qp(8);};a.prototype.Tv=function(c){for(var f,l="";c--;){f=this.rz();l+=("0123456789ABCDEF")[f >>> 4] + ("0123456789ABCDEF")[f & 15];}return l;};a.prototype.Qqa=function(c){for(var f=0,l=0;l < c;l++){f+=this.rz() << (l << 3);}return f;};a.prototype.TM=function(){return this.Qqa(4);};a.prototype.QX=function(c){this.iO(c,2);};a.prototype.Zz=function(c){this.iO(c,4);};a.prototype.j9=function(c){this.buffer[this.position++]=c;};a.prototype.iO=function(c,f){this.position+=f;for(var l=1;l <= f;l++){this.buffer[this.position - l]=c & 255;c=Math.floor(c / 256);}};a.prototype.Yz=function(c){for(var f=0;f < c.length;f++){this.buffer[this.position++]=c.charCodeAt(f);}};a.prototype.PX=function(c){for(var f=c.length,l=0;l < f;l++){this.buffer[this.position++]=c[l];}};a.prototype.hO=function(c,f){this.PX(c.ph(f));};a.prototype.P7a=function(c){c=new a(c);for(var f,l;;){if((f=c.Ika(),l=f >>> 14))(l=Math.min(4,l),this.j9(192 | l),this.hO(c,16384 * l));else {128 > f?this.j9(f):this.iO(f | 32768,2);this.hO(c,f);break;}}};a.prototype.L1a=function(){var l;for(var c=[],f=new a(c);;){l=this.rz();if(l & 128){if(128 == (l & 192))(l&=63,l=(l << 8) + this.rz(),f.hO(this,l));else if((l&=63,0 < l && 4 >= l)){f.hO(this,16384 * l);continue;}else throw Error("bad asn1");}else f.hO(this,l);break;}return new Uint8Array(c);};return a;})();b.IO=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iY="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VFa="ReportSyncSymbol";b.TFa="ReportApiErrorSyncSymbol";b.aza="FtlProbeConfigSymbol";b.cza="FtlProbeSymbol";},function(r,b,a){var f,l,m,d;function c(g,h,k,n){var q;q=m.CO.call(this,g,h,f.fm.dIa,n) || this;q.config=g;q.Oi=h;q.is=k;q.C5=n;q.type=f.Bi.du;q.HX=d.Jd.OPa();return q;}Object.defineProperty(b,"__esModule",{value:!0});b.jn=void 0;f=a(25);l=a(48);m=a(342);r=a(106);d=a(140);new r.yA();ka(c,m.CO);c.prototype.aw=function(){return Promise.resolve(!1);};c.prototype.Ks=function(){return Promise.resolve("");};c.prototype.l3=function(){return Promise.resolve("");};c.prototype.WW=function(){return this.config().uia?this.C5.pma()?this.C5.iy(l.N.kI).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.o8=function(){return this.config().uia?this.C5.pma()?this.C5.iy(l.N.HO).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.XW=function(){return Promise.resolve(!1);};c.prototype.UW=function(){return Promise.resolve(!1);};c.prototype.eL=function(g){return this.HX[g];};c.prototype.Kea=function(){};c.prototype.DYa=function(g){switch(g){case f.hj.rD:return "1.4";case f.hj.iu:return "2.2";}};c.prototype.fF=function(){var g;g={};g[l.N.iI]="avc1.4D401E";g[l.N.jD]="avc1.4D401F";g[l.N.I$]="avc1.4D4028";g[l.N.Fab]="hev1.2.6.L90.B0";g[l.N.Gab]="hev1.2.6.L93.B0";g[l.N.Hab]="hev1.2.6.L120.B0";g[l.N.Iab]="hev1.2.6.L123.B0";g[l.N.OY]="hev1.2.6.L90.B0";g[l.N.QY]="hev1.2.6.L93.B0";g[l.N.SY]="hev1.2.6.L120.B0";g[l.N.UY]="hev1.2.6.L123.B0";g[l.N.dP]="hev1.2.6.L150.B0";g[l.N.fP]="hev1.2.6.L153.B0";g[l.N.PY]="hev1.2.6.L90.B0";g[l.N.RY]="hev1.2.6.L93.B0";g[l.N.TY]="hev1.2.6.L120.B0";g[l.N.VY]="hev1.2.6.L123.B0";g[l.N.eP]="hev1.2.6.L150.B0";g[l.N.gP]="hev1.2.6.L153.B0";g[l.N.mza]="hev1.2.6.L90.B0";g[l.N.nza]="hev1.2.6.L93.B0";g[l.N.oza]="hev1.2.6.L120.B0";g[l.N.pza]="hev1.2.6.L123.B0";g[l.N.qza]="hev1.2.6.L150.B0";g[l.N.rza]="hev1.2.6.L153.B0";g[l.N.TO]="hev1.2.6.L90.B0";g[l.N.VO]="hev1.2.6.L93.B0";g[l.N.kI]="hev1.2.6.L120.B0";g[l.N.YO]="hev1.2.6.L123.B0";g[l.N.$O]="hev1.2.6.L150.B0";g[l.N.bP]="hev1.2.6.L153.B0";g[l.N.UO]="hev1.2.6.L90.B0";g[l.N.WO]="hev1.2.6.L93.B0";g[l.N.XO]="hev1.2.6.L120.B0";g[l.N.ZO]="hev1.2.6.L123.B0";g[l.N.aP]="hev1.2.6.L150.B0";g[l.N.cP]="hev1.2.6.L153.B0";g[l.N.oY]=d.Jd.nY;g[l.N.qY]=d.Jd.n$;g[l.N.HO]=d.Jd.o$;g[l.N.tY]=d.Jd.p$;g[l.N.vY]=d.Jd.q$;g[l.N.xY]=d.Jd.r$;g[l.N.pY]=d.Jd.nY;g[l.N.rY]=d.Jd.n$;g[l.N.sY]=d.Jd.o$;g[l.N.uY]=d.Jd.p$;g[l.N.wY]=d.Jd.q$;g[l.N.yY]=d.Jd.r$;g[l.N.kza]="avc1.640016";g[l.N.QO]="avc1.64001E";g[l.N.RO]="avc1.64001F";g[l.N.H$]="avc1.640028";g[l.N.YZ]=d.Jd.ZP;g[l.N.KI]=d.Jd.ZP;g[l.N.LI]=d.Jd.ZP;g[l.N.$P]=d.Jd.ZP;g[l.N.s8a]=d.Jd.dj;g[l.N.t8a]=d.Jd.dj;g[l.N.w9]=d.Jd.dj;g[l.N.x9]=d.Jd.dj;g[l.N.y9]=d.Jd.dj;g[l.N.z9]=d.Jd.dj;g[l.N.A9]=d.Jd.dj;g[l.N.B9]=d.Jd.dj;return g;};c.prototype.GUa=function(g){return g || this.config().jw;};c.prototype.nL=function(){return Promise.resolve(void 0);};c.prototype.A3=function(){return Promise.resolve(void 0);};c.prototype.lS=function(g){var h;h=[];this.is.fg(g) && h.push(this.DYa(g));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:h,isHdcpEngaged:! !h.length}];};b.jn=c;c.FH="video/mp4;codecs={0};";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Je=void 0;b.Je=a;a.tza=/^hevc-main/;a.lza=/^hevc-hdr-|hevc-dv/;a.Bw=/^hevc-hdr-/;a.Mr=/^hevc-dv/;a.hI=/-h264mpl/;a.iI=/-h264mpl30/;a.jD=/-h264mpl31/;a.$z=/-h264hpl/;a.Qw=/^vp9-/;a.dj=/^av1-/;a.JI=/-L5[0-1]-/;a.TX=/^heaac-2-/;a.uza=/^heaac-2hq-dash/;a.WD=/^xheaac-dash/;a.T9a=/ddplus-2/;a.U9a=/ddplus-5/;a.V9a=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ocb="NativeLocalStorageSymbol";b.NCa="NativeLocalStorageFactorySymbol";b.Oza="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nza="IDBDatabaseFactorySymbol";b.qAa="IndexedDBFactorySymbol";b.X$="IndexedDBStorageFactorySymbol";},function(r,b,a){var c,f,l;c=a(122);f=a(57);l=a(169);r.exports=function(m){return function n(g,h,k){switch(arguments.length){case 0:return n;case 1:return l(g)?n:f(function(q,p){return m(g,q,p);});case 2:return l(g) && l(h)?n:l(g)?f(function(q,p){return m(q,h,p);}):l(h)?f(function(q,p){return m(g,q,p);}):c(function(q){return m(g,h,q);});default:return l(g) && l(h) && l(k)?n:l(g) && l(h)?f(function(q,p){return m(q,p,k);}):l(g) && l(k)?f(function(q,p){return m(q,h,p);}):l(h) && l(k)?f(function(q,p){return m(g,q,p);}):l(g)?c(function(q){return m(q,h,k);}):l(h)?c(function(q){return m(g,q,k);}):l(k)?c(function(q){return m(g,h,q);}):m(g,h,k);}};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.LFa=b.LZ=b.n3=void 0;c=a(52);f=a(3);b.n3=function(l){return l === c.Pb.Gk.Sb?f.L.HBa:f.L.IBa;};b.LZ=50;b.LFa=1E3;},function(r,b){function a(c){var f;f={profile:c.spoofedProfile || c.profile,Cja:c.max_framerate_value,Bja:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,lNb:c.pixelAspectX,mNb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (f.I7b=c.profile);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.lUa=b.kUa=void 0;b.kUa=function(c,f,l){var m;m=[{},{}];(0 === l?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,g){c[d].some(function(h,k){return k === f[g]?(m[g]=a(h),!0):!1;});});return m;};b.lUa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qw=void 0;c=a(226);f=a(6);r=(function(){function l(m){this.config=m;this.reset();}l.instance=function(){f.assert(void 0 !== l.pJ);return l.pJ;};l.oqb=function(m){l.pJ=new l(m);};l.prototype.push=function(m){this.Uj && this.Uj.push(m);};l.prototype.lb=function(){if(this.Uj)return (this.Uj.Ox(),this.Uj.Si([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};l.prototype.reset=function(){this.config.vRa && this.config.$$ && (this.Uj=new c.p3b(this.config.$$.c,this.config.$$.maxc));};return l;})();b.qw=r;},function(r){(function(){function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.RA=this.Ic=0;this.jb=this.hf=void 0;a00=5;break;}}}var R8;R8=2;for(;R8 !== 8;){switch(R8){case 2:var i62="1S";i62+="IYbZ";i62+="r";i62+="NJC";i62+="p9";b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.hf?a < this.hf?(this.RA+=this.hf - a,this.hf=a):a > this.jb && (this.jb=this.hf=a):this.jb=this.hf=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.jb && a > this.jb && (this.RA+=a - this.jb,this.jb=a);c00=1;break;}}};b.prototype.add=function(a,c,f){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 2:this.start(c);this.stop(f);this.Ic+=a;d00=4;break;}}};b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Ca:this.RA?Math.floor(8 * this.Ic / this.RA):null,vB:this.RA?this.RA:0};break;}}};r.exports=b;i62;R8=8;break;}}})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.pga=this.u.Gc();this.Sra=this.u.Gc();this.u.offset+=4;this.samplerate=this.u.Gc();this.u.offset+=2;f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.pga + ", samplesize: " + this.Sra + ", samplerate: " + this.samplerate);return d;};m.La=!1;return m;})(a(232).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.$t=void 0;a(6);r=(function(){function c(f,l){c.nb(this,f,l);}c.nb=function(f,l,m){f.Qc=l;f.Ic=m.ca;f.Ae=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Qc.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.Qc.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Qc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Na:{get:function(){return this.Qc.Na;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Qc.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Qc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.Qc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{jM:{get:function(){return this.Qc.jM;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{qa:{get:function(){return this.Qc.qa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Na,offset:this.offset,bytes:this.ca};};return c;})();b.$t=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Vba=b.sl=void 0;c=a(151);(function(l){l[l.pending=0]="pending";l[l.rW=1]="running";l[l.complete=2]="complete";l[l.CK=3]="destroyed";})(f=b.sl || (b.sl={}));r=(function(){function l(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.Jc=f.pending;}Object.defineProperties(l.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cFb:{get:function(){return this.Jc === f.pending || this.Jc === f.rW;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hf:{get:function(){return this.Lu;},enumerable:!1,configurable:!0}});l.prototype.Amb=function(m){var d;null === (d=this.Lu) || void 0 === d?void 0:d.mra(this);this.Lu=m;};l.prototype.Wv=function(){this.Jc=f.rW;this.Rf();this.k6() === c.mj.Iua && (this.Jc=f.complete);};l.prototype.Ab=function(){var m;this.Jc=f.CK;null === (m=this.Lu) || void 0 === m?void 0:m.mra(this);};return l;})();b.Vba=r;},function(r,b,a){var l,m,d,g,h,k,n;function c(q){return q && "function" === typeof q.hh?!0:!1;}function f(q){return c(q) && (q=typeof q.nFb,"boolean" === q || "undefined" === q)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Q9a=b.hxb=b.mFb=b.x8a=b.AsyncIterator=void 0;l=a(2);m=a(20);g=(function(){function q(p){var t;t=this;this.rhb=p;this.FQ=!1;this.vjb=function(u){return t.ROb(u);};this.uPa();}q.hGb=function(p,t){function u(){var v;v=p.next();v.then(function(w){f(p) && p.nFb || t(w);});v.then(function(w){return !w.done && u();});}u();};Object.defineProperties(q.prototype,{Iy:{get:function(){return this.FQ;},enumerable:!1,configurable:!0}});q.nAb=function(){return new h([]);};q.Xka=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(q.prototype,{HL:{get:function(){return this.Ur || !1;},enumerable:!1,configurable:!0}});q.prototype.hh=function(){this.cancel();};q.prototype.cancel=function(){this.DKa();this.Ur=!0;return this.zca;};q.prototype.next=function(){return this.Ur?this.zca:Promise.race([this.zca,this.rhb()]).then(this.vjb);};q.prototype.ROb=function(p){p.done && (this.FQ=!0,this.hh());this.HL || (this.DKa(),this.uPa());return p;};q.prototype.uPa=function(){var p;p=this;this.zca=new Promise(function(t){p.DKa=function(){t({done:!0});};});};return q;})();b.AsyncIterator=g;h=(function(q){function p(t){var u;u=q.call(this,function(){return u.pBb();}) || this;u.xx=t;u.index=0;return u;}l.__extends(p,q);p.prototype.hh=function(){c(this.xx) && this.xx.hh();q.prototype.hh.call(this);};p.prototype.pBb=function(){return this.xx.length > this.index?Promise.resolve({value:this.xx[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(g);b.x8a=h;b.mFb=c;b.hxb=f;k=(function(q){function p(t,u,v){var w;w=q.call(this,function(){return w.Koa();}) || this;w.console=u;w.Mk=v;w.yqa=!1;Array.isArray(t)?w.PQ=new h(t):w.PQ=t;return w;}l.__extends(p,q);p.prototype.TOb=function(t){var u;this.yqa=!1;u=this.console;m.ia && u && u.trace("CompoundIterator: processNextOuterIterator");if(t.done)return t;t=t.value;if(this.rJ)return (c(t) && t.hh(),g.Xka());Array.isArray(t)?this.Mk=new h(t):this.Mk=t;return this.Koa();};p.prototype.SOb=function(t){var u;u=this.console;m.ia && u && u.trace("CompoundIterator: processNextInnerResult",this.rJ,t.done);if(!t.done || this.rJ)return t;this.Mk=void 0;return this.Koa();};p.prototype.hh=function(){var t;t=this.console;m.ia && t && t.trace("CompoundIterator: dispose");this.rJ=!0;q.prototype.hh.call(this);c(this.PQ) && this.PQ.hh();c(this.Mk) && this.Mk.hh();};p.prototype.toString=function(){return "CompoundIterator " + this.rJ + " " + this.PQ + " " + this.Mk;};p.prototype.Koa=function(){var t,u;t=this;u=this.console;m.ia && u && u.trace("CompoundIterator: nextImpl");if(this.Mk)return (m.ia && u && u.trace("CompoundIterator: getNextInner"),this.Mk.next().then(function(v){return t.SOb(v);}));this.yqa=!0;m.ia && u && u.trace("CompoundIterator: getNextOuter");return this.PQ.next().then(function(v){return t.TOb(v);});};return p;})(g);b.Q9a=k;b.map=function(q,p,t){return new n(q,p,t);};n=(function(q){function p(t,u,v){var w;w=q.call(this,function(){return w.ehb();}) || this;w.source=t;w.Ona=u;w.jqb=v;return w;}l.__extends(p,q);p.prototype.hh=function(){c(this.source) && this.source.hh();q.prototype.hh.call(this);};p.prototype.ehb=function(){var t,u,v;t=this.jqb;u=this.Ona;v=this.source;m.ia && t && t.trace("MappedIterator: Requesting next");return v.next().then(function(w){return w.done?w:u(w.value);});};return p;})(g);b.flatten=function(q,p,t){return new k(q,p,t);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(879);c=a(415);a=a(881);b.default={STARTING:a.n3a,BUFFERING:r.I7,REBUFFERING:r.I7,PLAYING:c.Xv,PAUSED:c.Xv};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pL=b.UH=void 0;c=a(896);f=a(897);l=a(250);Object.defineProperties(b,{UH:{enumerable:!0,get:function(){return l.UH;}}});b.pL=function(m,d){switch(m.Pna){case "manifold":return new c.ZBa(m,d);default:return new f.IGa(m,d);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Ev,minHCInitVideoBitrate:a.toa,maxInitVideoBitrate:a.Wy,minInitAudioBitrate:a.TU,maxInitAudioBitrate:a.FU,minHCInitAudioBitrate:a.SU,minAcceptableVideoBitrate:a.M5,minRequiredBuffer:a.UU,minPrebufSize:a.Qi,minCheckBufferingCompleteInterval:a.soa,rebufferingFactor:a.Vqa,useMaxPrebufSize:a.uua,maxPrebufSize:a.lC,maxRebufSize:a.Zna,maxBufferingTime:a.fr,minAudioMediaRequestSizeBytes:a.N5,minVideoMediaRequestSizeBytes:a.U5,initialBitrateSelectionCurve:a.o4,initSelectionLowerBound:a.mWa,initSelectionUpperBound:a.nWa,throughputPercentForAudio:a.u8,bandwidthMargin:a.Efa,bandwidthMarginContinuous:a.Ffa,bandwidthMarginCurve:a.Gfa,conservBandwidthMargin:a.Yga,switchConfigBasedOnInSessionTput:a.uta,conservBandwidthMarginTputThreshold:a.gS,conservBandwidthMarginCurve:a.Zga,switchAlgoBasedOnHistIQR:a.s5a,switchConfigBasedOnThroughputHistory:a.RC,maxPlayerStateToSwitchConfig:a.Yna,lowEndMarkingCriteria:a.wna,IQRThreshold:a.V$,histIQRCalcToUse:a.Ela,maxTotalBufferLevelPerSession:a.ft,highWatermarkLevel:a.PVa,toStableThreshold:a.Z5a,toUnstableThreshold:a.A8,skipBitrateInUpswitch:a.Psa,watermarkLevelForSkipStart:a.Mua,highStreamRetentionWindow:a.yla,lowStreamTransitionWindow:a.xna,highStreamRetentionWindowUp:a.Ala,lowStreamTransitionWindowUp:a.zna,highStreamRetentionWindowDown:a.zla,lowStreamTransitionWindowDown:a.yna,highStreamInfeasibleBitrateFactor:a.xla,lowestBufForUpswitch:a.Qy,lockPeriodAfterDownswitch:a.n5,lowWatermarkLevel:a.Bna,lowestWaterMarkLevel:a.Ry,lowestWaterMarkLevelBufferRelaxed:a.Cna,mediaRate:a.joa,maxTrailingBufferLen:a.A5,audioBufferTargetAvailableSize:a.ER,videoBufferTargetAvailableSize:a.CX,maxVideoTrailingBufferSize:a.dZa,maxAudioTrailingBufferSize:a.OYa,fastUpswitchFactor:a.G2,fastDownswitchFactor:a.Via,maxMediaBufferAllowed:a.Xy,simulatePartialBlocks:a.Nsa,simulateBufferFull:a.s4a,considerConnectTime:a.$ga,connectTimeMultiplier:a.Xga,lowGradeModeEnterThreshold:a.lYa,lowGradeModeExitThreshold:a.mYa,maxDomainFailureWaitDuration:a.RYa,maxAttemptsOnFailure:a.NYa,exhaustAllLocationsForFailure:a.RRa,maxNetworkErrorsDuringBuffering:a.XYa,maxBufferingTimeAllowedWithNetworkError:a.u5,fastDomainSelectionBwThreshold:a.ZRa,throughputProbingEnterThreshold:a.E5a,throughputProbingExitThreshold:a.F5a,locationProbingTimeout:a.ZXa,finalLocationSelectionBwThreshold:a.fSa,throughputHighConfidenceLevel:a.C5a,throughputLowConfidenceLevel:a.D5a,locationStatisticsUpdateInterval:a.kna,enablePerfBasedLocationSwitch:a.uRa,probeServerWhenError:a.Dt,probeRequestTimeoutMilliseconds:a.uqa,allowSwitchback:a.vx,probeDetailDenominator:a.IG,maxDelayToReportFailure:a.v5,countGapInBuffer:a.qPa,bufferThresholdForAbort:a.ENa,allowCallToStreamSelector:a.lMa,pipelineScheduleTimeoutMs:a.Tpa,maxPartialBuffersAtBufferingStart:a.Yy,minPendingBufferLen:a.uoa,maxPendingBufferLen:a.kC,maxPendingBufferLenSABCell100:a.y5,maxActiveRequestsSABCell100:a.s5,maxStreamingSkew:a.aoa,maxPendingBufferPercentage:a.Wna,maxRequestsInBuffer:a.ZL,headerRequestSize:a.Y3,estimateHeaderSize:a.Lia,minBufferLenForHeaderDownloading:a.RU,reserveForSkipbackBufferMs:a.fN,numExtraFragmentsAllowed:a.Xoa,pipelineEnabled:a.Kp,maxParallelConnections:a.XL,socketReceiveBufferSize:a.B4a,audioSocketReceiveBufferSize:a.Y0,videoSocketReceiveBufferSize:a.cO,headersSocketReceiveBufferSize:a.vla,updatePtsIntervalMs:a.S8,bufferTraceDenominator:a.Rfa,bufferLevelNotifyIntervalMs:a.dK,aseReportDenominator:a.WJ,aseReportIntervalMs:a.T0,enableAbortTesting:a.Zvb,abortRequestFrequency:a.Pkb,streamingStatusIntervalMs:a.mta,prebufferTimeLimit:a.jz,minBufferLevelForTrackSwitch:a.O5,penaltyFactorForLongConnectTime:a.Kpa,longConnectTimeThreshold:a.una,additionalBufferingLongConnectTime:a.Sea,additionalBufferingPerFailure:a.Tea,rebufferCheckDuration:a.ZV,enableLookaheadHints:a.qRa,lookaheadFragments:a.iYa,enableOCSideChannel:a.fy,OCSCBufferQuantizationConfig:a.pZ,updateDrmRequestOnNetworkFailure:a.I6a,deferAseScheduling:a.mQa,maxDiffAudioVideoEndPtsMs:a.QYa,defaultHeaderCacheSize:a.a2,defaultHeaderCacheDataPrefetchMs:a.Z1,neverWipeHeaderCache:a.qG,networkFailureResetWaitMs:a.Ioa,networkFailureAbandonMs:a.Hoa,maxThrottledNetworkFailures:a.z5,throttledNetworkFailureThresholdMs:a.t8,lowThroughputThreshold:a.Ana,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Pia,mp4ParsingInNative:a.JZa,sourceBufferInOrderAppend:a.D4a,requireAudioStreamToEncompassVideo:a.yz,allowAudioToStreamPastVideo:a.kMa,enableManagerDebugTraces:a.Gh,managerDebugMessageInterval:a.zYa,managerDebugMessageCount:a.yYa,bufferThresholdToSwitchToSingleConnMs:a.Qfa,bufferThresholdToSwitchToParallelConnMs:a.Pfa,netIntrStoreWindow:a.iKb,minNetIntrDuration:a.GJb,fastHistoricBandwidthExpirationTime:a.rxb,bandwidthExpirationTime:a.jnb,failureExpirationTime:a.oxb,historyTimeOfDayGranularity:a.JDb,expandDownloadTime:a.bxb,minimumMeasurementTime:a.QJb,minimumMeasurementBytes:a.PJb,throughputMeasurementTimeout:a.LVb,initThroughputMeasureDataSize:a.FEb,throughputMeasureWindow:a.KVb,throughputIQRMeasureWindow:a.JVb,IQRBucketizerWindow:a.Obb,connectTimeHalflife:a.pqb,responseTimeHalflife:a.lRb,historicBandwidthUpdateInterval:a.IDb,throughputWarmupTime:a.PVb,minimumBufferToStopProbing:a.OJb,throughputPredictor:a.MVb,ase_stream_selector:a.pmb,enableFilters:a.cwb,filterDefinitionOverrides:a.Ixb,defaultFilter:a.fub,secondaryFilter:a.QRb,defaultFilterDefinitions:a.gub,initBitrateSelectorAlgorithm:a.$la,bufferingSelectorAlgorithm:a.Vfa,ase_ls_failure_simulation:a.aQa,ase_dump_fragments:a.Dha,ase_location_history:a.Fha,ase_throughput:a.Gha,ase_simulate_verbose:a.cQa,secondThroughputEstimator:a.$ra,secondThroughputMeasureWindowInMs:a.j3a,marginPredictor:a.Pna,networkMeasurementGranularity:a.Joa,HistoricalTDigestConfig:a.Hza,maxIQRSamples:a.UYa,minIQRSamples:a.xZa,periodicHistoryPersistMs:a.M6,saveVideoBitrateMs:a.C7,needMinimumNetworkConfidence:a.ZU,biasTowardHistoricalThroughput:a.Jfa,maxFastPlayBufferInMs:a.Una,maxFastPlayBitThreshold:a.Tna,minAudioMediaRequestDuration:a.dM,minVideoMediaRequestDuration:a.hM,minAudioMediaRequestDurationCache:a.dM,minVideoMediaRequestDurationCache:a.hM,addHeaderDataToNetworkMonitor:a.Mea,hindsightDenominator:a.Dla,hindsightDebugDenominator:a.Cla,hindsightParam:a.c4,minimumTimeBeforeBranchDecision:a.oC,enableSessionHistoryReport:a.TS,earlyStageEstimatePeriod:a.tia,lateStageEstimatePeriod:a.LXa,maxNumSessionHistoryStored:a.x5,minSessionHistoryDuration:a.T5,appendMediaRequestOnComplete:a.BMa,waitForDrmToAppendMedia:a.g9,forceAppendHeadersAfterDrm:a.P2,startMonitorOnLoadStart:a.Ysa,reportFailedRequestsToNetworkMonitor:a.tra,reappendRequestsOnSkip:a.APb,maxActiveRequestsPerSession:a.zv,limitAudioDiscountByMaxAudioBitrate:a.fna,appendFirstHeaderOnComplete:a.afa,maxAudioFragmentOverlapMs:0,editVideoFragments:a.Pvb,declareBufferingCompleteAtSegmentEnd:a.Iha,applyProfileTimestampOffset:a.dB,applyProfileStreamingOffset:a.ck,requireDownloadDataAtBuffering:a.t7,requireSetupConnectionDuringBuffering:a.u7,recordFirstFragmentOnSubBranchCreate:a.Zqa,earlyAppendSingleChildBranch:a.n2,selectStartingVMAFMethod:a.mN,activateSelectStartingVMAF:a.tR,minStartingVideoVMAF:a.gM,minAcceptableVMAF:a.QU,minAllowedVmaf:a.kG,alwaysNotifyEOSForPlaygraph:a.bmb,enableNewAse:a.SS,useNewApi:a.U8,enableDiscontiguousBuffering:a.p2,forceImmediateTransitionTypeForTitles:a.xja,forceImmediateTransitionExitZone:a.wja,useBufferSizeLimiter:a.rua,enableHudsonFieldTest:a.gwb,hudsonTitles:a.XDb,maxPartialBuffersAtHudson:a.GIb,numberOfChunksPerSegment:a.XKb,targetContentLatency:a.yVb,targetLongContentLatency:a.zVb,minimumTimeDelay:a.RJb,enableWsslEstimate:a.xia,maxAllowedOutstandingRequests:a.t5,alwaysRunUnderflowTimer:a.RJ,minStreamableConcurrencyWindow:a.voa,streamableConcurrencyFactor:a.ita,bufferingConcurrencyWindow:a.UR,singleStreamablePerBranch:a.WTb,enableResolutionVMAFStreamFilter:a.r2,resolutionVMAFCappingRuleList:a.y7,percentCapTitlesForResolutionVMAFStreamFilter:a.Mpa,useExitZones:a.sua,perFragmentVMAFConfig:a.iz,enableInitialTputLogging:a.q2,maxResponsesInitialTput:a.$na};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.s$=void 0;(b.s$ || (b.s$={})).Wdb="PboDebugEvent";b.vxa={xcb:"Manifest",Event:"Event",$0b:"Logblob"};},function(r,b,a){var f,l;function c(m){switch(m){case f.L.iP:return "http";case f.L.kP:return "connectiontimeout";case f.L.mD:return "readtimeout";case f.L.Cza:return "corruptcontent";case f.L.iA:return "abort";case f.L.lP:case f.L.P$:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Lka=b.Aka=b.wka=void 0;f=a(3);l=a(11);b.wka=c;b.Aka=function(m,d){m={errorcode:m + (d.errorCode || f.M.im)};d.oa && (m.errorsubcode=d.oa);d.Ze && (m.errorextcode=d.Ze);d.Gia && (m.erroredgecode=d.Gia);d.rb && (m.errordetails=d.rb);d.jk && (m.httperr=d.jk);d.d6 && (m.aseneterr=d.d6);d.OK && (m.errordata=d.OK);d.MU && (m.mediaerrormessage=d.MU);(d=c(Number(d.oa))) && (m.nwerr=d);return m;};b.Lka=function(){return {screensize:l.pu.width + "x" + l.pu.height,screenavailsize:l.pu.availWidth + "x" + l.pu.availHeight,clientsize:pb.innerWidth + "x" + pb.innerHeight};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qP="LicenseProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jEa="PboPlaydataServicesSymbol";b.xZ="PboPlaydataServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gI=void 0;b.gI=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zZ="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v$=b.Oxa=void 0;b.Oxa=function(){this.Sb=0;this.Fb=1;this.Dab=2;this.Rf=function(){};};b.v$="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.cc=void 0;b.cc=a;a.ze={ZCa:"mr1",YCa:"mr2",$Ca:"mr3",AP:"mr4",Xcb:"mr5",GD:"mr6"};a.Bc={UNSENT:0,OPENED:1,Mw:2,Lw:3,DONE:5,fI:6,oO:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.FY={NO_ERROR:-1,x$a:0,lxa:1,J$a:2,B$a:3,A9a:4,swa:5,qwa:6,B9a:7,C9a:8,D9a:9,x9a:10,z9a:11,rwa:12,y9a:13,w9a:14,Kab:15,Aza:16,zza:17,M$:18,O$:19,N$:20,Dza:21,Mab:22,WY:23,Bza:24,Lab:25,E$a:26,y$a:27,Eeb:28,o$a:29,p$a:30,q$a:31,r$a:32,s$a:33,t$a:34,u$a:35,v$a:36,w$a:37,z$a:38,A$a:39,C$a:40,D$a:41,F$a:42,G$a:43,H$a:44,I$a:45,K$a:46,L$a:47,Deb:48,TIMEOUT:49,wza:50,xza:51,Jab:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Yb={pW:{c8a:!0,RP:!1,Jcb:!0}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yZ="PboPublisherSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.pga=this.u.Gc();this.Sra=this.u.Gc();this.u.offset+=4;this.samplerate=this.u.Gc();this.u.offset+=2;f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.pga + ", samplesize: " + this.Sra + ", samplerate: " + this.samplerate);return d;};m.La=!1;return m;})(a(284).default);b.default=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ej=void 0;c=a(12);f=a(13);r=a(3);l=a(21);m=a(7);d=a(445);g=a(11);h=a(32);k=a(34);n=m.ha.get(h.Yg);n.register(r.M.U$,function(q){var p,t,u,v;p=m.ha.get(k.Kk);l.hb(f.config);l.hb(g.rA && g.rA.getDeviceId || g.iZ || p.bL);t=m.ha.get(d.Fxa);u=m.hi("Device");n.Qd("devs");v=m.ha.get(k.tA);t.create({deviceId:f.config.deviceId,bL:p.bL,wQa:"deviceid",kk:f.config.kk,Qn:v.GY,zS:p.zS,userAgent:g.sA,nna:f.config.nna,$ja:f.config.$ja,Nub:v.k$ || !1,Xmb:f.config.hNa.e,p7b:f.config.ev?"mslstoretest":"mslstore"}).then(function(w){b.Ej=w;pb._cad_global.device=b.Ej;u.info("Esn source: " + b.Ej.Kia);n.Qd("devdone");q(c.Le);}).catch(function(w){w.W=void 0;q(w);});});},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oD=void 0;c=/^\S+$/;a.prototype.jF=function(f){return void 0 !== f;};a.prototype.fg=function(f){return null !== f && void 0 !== f;};a.prototype.SJ=function(f){return a.qMa(f);};a.prototype.Bea=function(f){return !(!f || !a.qMa(f));};a.prototype.wx=function(f){return Array.isArray(f);};a.prototype.rMa=function(f){return !(!f || f.constructor != Uint8Array);};a.prototype.ai=function(f,l,m){return a.ALa(f,l,m);};a.prototype.Aea=function(f){return a.Aea(f);};a.prototype.Zea=function(f,l,m){return a.O0(f,l,m) && 0 === f % 1;};a.prototype.yR=function(f,l,m){return a.O0(f,l || 0,m);};a.prototype.nR=function(f){return a.O0(f,1);};a.prototype.Nkb=function(f){return a.O0(f,0,255);};a.prototype.Okb=function(f){return f === +f && (0 === f || f !== (f | 0)) && !0;};a.prototype.sMa=function(f){return !(!f || !c.test(f));};a.prototype.Wo=function(f){return a.BLa(f);};a.prototype.Fn=function(f){return !(!a.BLa(f) || !f);};a.prototype.mR=function(f){return !0 === f || !1 === f;};a.prototype.H0=function(f){return "function" == typeof f;};a.BLa=function(f){return "string" == typeof f;};a.ALa=function(f,l,m){return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === l || f >= l) && (void 0 === m || f <= m);};a.Aea=function(f){return "number" == typeof f && isNaN(f);};a.O0=function(f,l,m){return a.ALa(f,l,m) && 0 === f % 1;};a.qMa=function(f){return "object" == typeof f;};b.oD=new a();},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.kd=void 0;r=a(0);c=a(89);f=a(561);l=a(199);m=a(577);d=a(584);g=a(595);a=a(1201);b.kd=new r.lY({jH:!0});g.VXa(b.kd);b.kd.load(f.platform);b.kd.load(m.config);l.HK.load(d.cRa);b.kd.load(a.xMa);b.kd.load(a.profile);b.kd.bind(c.uAa).ri(b.kd);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(195);r=(function(){function f(l){this.oc=l;}f.prototype.Gv=function(l){this.oc.Gv=l;return new c.Y9(this.oc);};return f;})();b.dY=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(194);a(302);r=(function(){function f(l){this.oc=l;}f.prototype.when=function(l){this.oc.$E=l;return new c.dY(this.oc);};f.prototype.LX=function(){this.oc.$E=function(l){return null !== l.target && !l.target.uma() && !l.target.Ema();};return new c.dY(this.oc);};return f;})();b.Y9=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ow=void 0;b.ow=a;a.Vdb="PSK";a.gcb="MGK";a.BAa="JWEJS_RSA";a.bZ="JWK_RSA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eba="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rba="StringUtilsSymbol";},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.HK=b.eme=void 0;r=a(0);c=a(119);f=a(305);l=a(200);m=a(201);d=a(572);g=a(573);h=a(79);k=a(134);n=a(574);q=a(162);p=a(575);b.eme=new r.ad(function(t){t(f.Sxa).to(l.Rxa).aa();t(m.e$).to(d.zwa).aa();t(c.CY).kX(g.z1a);t(h.ku).UC(function(u){b.HK.parent=u.$a;return b.HK.get(h.ku);});t(k.sP).uf(function(){return function(){return new n.oCa();};});t(q.iY).to(p.Bwa).aa;});b.HK=new r.lY({jH:!0});},function(r,b,a){function c(){}function f(l){l?(this.active=!1,this.Fja(l)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.Rxa=b.BY=void 0;r=a(1);a=a(0);f.prototype.Fja=function(l){this.fe=l.keySessionData?l.keySessionData.map(function(m){return {id:m.id,bG:m.licenseContextId,xU:m.licenseId};}):[];this.da=l.xid;this.K=l.movieId;};f.prototype.dw=function(){return JSON.parse(JSON.stringify({keySessionData:this.fe?this.fe.map(function(l){return {id:l.id,licenseContextId:l.bG,licenseId:l.xU};}):[],xid:this.da,movieId:this.K}));};b.BY=f;c.prototype.create=function(){return new f();};c.prototype.load=function(l){return new f(l);};a=r.__decorate([a.R()],c);b.Rxa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e$="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dw='video/mp4; codecs="avc1.640028"';b.sI='audio/mp4; codecs="mp4a.40.5"';b.Z$a="DrmTraitsSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u,v,w,x,y,A){this.YU=u;this.is=v;this.Dc=w;this.Td=x;this.mp=y;this.vh=A;m.co(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.tu=void 0;r=a(1);l=a(0);m=a(56);d=a(3);g=a(36);h=a(26);k=a(90);n=a(28);q=a(35);p=a(69);a=a(77);c.prototype.qy=function(){if(this.gb)return this.gb.sessionId;};c.prototype.QQb=function(u,v){return this.YU.requestMediaKeySystemAccess(u,v);};c.prototype.createMediaKeys=function(u){return u.createMediaKeys();};c.prototype.createSession=function(u,v){this.gb=u.createSession(v);};c.prototype.M1=function(){return Promise.reject(new k.pg(d.M.EY));};c.prototype.RFb=function(){return ! !this.gb;};c.prototype.setServerCertificate=function(u,v){return this.is.H0(u.setServerCertificate)?u.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(u,v){return this.gb?this.gb.generateRequest(u,v[0]):Promise.reject(new k.pg(d.M.EY,d.L.dI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(u){return this.gb?this.gb.update(u[0]):Promise.reject(new k.pg(d.M.lya,d.L.dI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(u){return this.gb?this.gb.load(u):Promise.reject(new k.pg(d.M.gab,d.L.dI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var u;this.Mga=void 0;if(!this.gb)return Promise.reject(new k.pg(d.M.dya,d.L.dI,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.qy() && (u=this.gb.close());this.gb=void 0;return u;};c.prototype.remove=function(){return this.gb?this.gb.remove():Promise.reject(new k.pg(d.M.hab,d.L.dI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.MG=function(){return Promise.reject(new k.pg(d.M.y$,void 0,"Unable to renew a key session, not supported"));};c.prototype.RLa=function(u){if(!this.gb)throw ReferenceError("Unable to add message handler, key session is not valid");this.gb.addEventListener(f.pya,u);};c.prototype.MLa=function(u){if(!this.gb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.gb.addEventListener(f.oya,u);};c.prototype.KLa=function(u){if(!this.gb)throw ReferenceError("Unable to add error handler, key session is not valid");this.gb.addEventListener(f.nya,u);};c.prototype.clb=function(u){var v;v=this;if(!this.gb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Mga=u;this.gb.closed.then(function(){var w;return null === (w=v.Mga) || void 0 === w?void 0:w.call(v);});};c.prototype.o2a=function(u){if(!this.gb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.gb.removeEventListener(f.pya,u);};c.prototype.m2a=function(u){if(!this.gb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.gb.removeEventListener(f.oya,u);};c.prototype.k2a=function(u){if(!this.gb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.gb.removeEventListener(f.nya,u);};t=f=c;t.pya="message";t.oya="keystatuseschange";t.nya="error";t=f=r.__decorate([l.R(),r.__param(0,l.l(g.wI)),r.__param(1,l.l(h.Jf)),r.__param(2,l.l(q.Th)),r.__param(3,l.l(n.Kf)),r.__param(4,l.l(p.gu)),r.__param(5,l.l(a.uu))],t);b.tu=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lma=b.eu=void 0;(function(a){a.Z6a="usable";a.AB="expired";a.released="released";a.W_a="output-restricted";a.oMb="output-downscaled";a.yUb="status-pending";a.REb="internal-error";})(b.eu || (b.eu={}));b.lma=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UZ="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tr="_ANY_";b.Dya="EnricherSymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k){this.Ja=d;this.i1=g;this.$m=h;this.Ln=void 0 === k?"General":k;this.Oga={};}Object.defineProperty(b,"__esModule",{value:!0});b.qI=void 0;f=a(8);l=a(329);m=a(624);c.prototype.HLa=function(d,g){this.Oga[d]=g;};c.prototype.fatal=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.bB(f.ij.rab,d,this.aO(d,h));};c.prototype.error=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.bB(f.ij.xf,d,this.aO(d,h));};c.prototype.warn=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.bB(f.ij.fca,d,this.aO(d,h));};c.prototype.info=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.bB(f.ij.T$,d,this.aO(d,h));};c.prototype.trace=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.bB(f.ij.kHa,d,this.aO(d,h));};c.prototype.debug=function(d,g){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ca(h)));};c.prototype.write=function(d,g,h){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.bB(d,g,this.aO(g,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Ln};};c.prototype.mha=function(d){return new c(this.Ja,this.i1,this.$m,d);};c.prototype.bB=function(d,g,h){d=new l.iaa(d,this.Ln,this.Ja.Wb(),g,h);g=aa(this.$m.$m);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d);}};c.prototype.Nzb=function(d){return 0 < Object.keys(this.Oga).length?[this.Oga].concat(ca(d)):d;};c.prototype.aO=function(d,g){var h;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return m.MNa(this.i1,this.Nzb(g));};b.qI=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mba="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zaa="PboPlaydataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zAa="IsTypeSupportedProviderFactorySymbol";b.xEa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q,p,t){var u;u=l.jn.call(this,k,n,q,t) || this;u.cast=p;u.type=m.Bi.f$;k=c.cfb;u.HX[m.de.JI]=d.Jd.SO + "; " + k;u.HX[m.de.Bw]=d.Jd.Bw + "; " + k;k=d.Jd.L9a.find(function(v){return u.Ix(h(c.FH,v));});u.HX[m.de.Mr]=k;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Ewa=b.jY=b.g$=void 0;f=a(48);l=a(164);m=a(25);r=a(106);d=a(140);g=a(165);h=new r.yA().format;ka(c,l.jn);c.iha=function(k,n){return (n=c.R2a(n))?{isTypeSupported:n}:k;};c.R2a=function(k){var n;if("undefined" !== typeof k){if(k.framework && k.framework.CastReceiverContext && k.framework.CastReceiverContext.getInstance){n=k.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(k.framework && k.framework.platform && k.framework.platform.canDisplayType)return k.framework.platform.canDisplayType;if(k.receiver && k.receiver.platform && k.receiver.platform.canDisplayType)return k.receiver.platform.canDisplayType;if(k.__platform__ && k.__platform__.canDisplayType)return k.__platform__.canDisplayType;}};c.prototype.aw=function(k){var n,q;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().d7a){q={};if(n)return (q[m.hj.rD]="1.4",q[m.hj.iu]="2.2",n().then(function(p){return p === q[k];}));n=this.DYa(k);n=h(c.FH,d.Jd.SO) + " hdcp=" + n;n=this.Ix.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.eL=function(k){return this.HX[k];};c.prototype.nL=function(){var k;k=this;return this.config().d7a?this.aw(m.hj.iu).then(function(n){return n?Promise.resolve(m.hj.iu):k.aw(m.hj.rD).then(function(q){return q?Promise.resolve(m.hj.rD):Promise.resolve(void 0);});}).then(function(n){return k.lS(n);}):Promise.resolve(void 0);};c.prototype.fF=function(){var k,n;k=l.jn.prototype.fF.call(this);n=c.yDb;k[f.N.I$]=["avc1.4D4028","width=1920; height=1080; "];k[f.N.dP]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.N.fP]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.N.eP]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.N.gP]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.N.mza]=["hev1.2.6.L90.B0",n];k[f.N.nza]=["hev1.2.6.L93.B0",n];k[f.N.oza]=["hev1.2.6.L120.B0",n];k[f.N.pza]=["hev1.2.6.L123.B0",n];k[f.N.qza]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.rza]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.N.TO]=["hev1.2.6.L90.B0",n];k[f.N.VO]=["hev1.2.6.L93.B0",n];k[f.N.kI]=["hev1.2.6.L120.B0",n];k[f.N.YO]=["hev1.2.6.L123.B0",n];k[f.N.$O]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.bP]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.N.UO]=["hev1.2.6.L90.B0",n];k[f.N.WO]=["hev1.2.6.L93.B0",n];k[f.N.XO]=["hev1.2.6.L120.B0",n];k[f.N.ZO]=["hev1.2.6.L123.B0",n];k[f.N.aP]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.cP]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return k;};c.prototype.rTa=function(){return [g.Je.TX,g.Je.uza,g.Je.iI,g.Je.jD];};c.prototype.ema=function(){l.jn.prototype.ema.call(this);!c.R2a(this.cast) && this.Vm.push(g.Je.Bw);};b.g$=c;c.yDb="eotf=smpte2084";c.cfb="width=3840; height=2160; ";b.jY="CastSDKSymbol";b.Ewa="CastEmeSymbol";},function(r,b,a){var f,l,m;function c(){this.type=f.au.Fw;}Object.defineProperty(b,"__esModule",{value:!0});b.pA=void 0;f=a(25);r=a(106);l=a(104);m=new r.yA();c.iha=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return pb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?pb.MSMediaKeys.isTypeSupported(l.zb.ru,d):"probably" === c.sta(g[0],g[1]);}catch(h){return !1;}}};};c.L1=function(d,g,h){g=m.format(c.FH,g);if(0 === h.length)return g;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,g,h);};c.sta=function(d,g){var h;try{h=pb.MSMediaKeys.isTypeSupportedWithFeatures?pb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(k){h="exception";}return h;};b.pA=c;c.FH='video/mp4;codecs="{0},mp4a";';},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C$=b.gA=void 0;r=b.gA || (b.gA={});r.ifb="unknown";r.Xua="absent";r.BFa="present";r.Error="error";b.C$="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XZ="TransportConfigSymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var l,m,d,g;function c(h,k,n){for(var q=n.next();!q.done;){if((k=h["@@transducer/step"](k,q.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}q=n.next();}return h["@@transducer/result"](k);}function f(h,k,n,q){return h["@@transducer/result"](n[q](d(h["@@transducer/step"],h),k));}l=a(682);m=a(684);d=a(685);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,k,n){"function" === typeof h && (h=m(h));if(l(n)){for(var q=0,p=n.length;q < p;){if((k=h["@@transducer/step"](k,n[q])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}q+=1;}return h["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return f(h,k,n,"fantasy-land/reduce");if(null != n[g])return c(h,k,n[g]());if("function" === typeof n.next)return c(h,k,n);if("function" === typeof n.reduce)return f(h,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,l){return a.apply(this,arguments);};case 4:return function(c,f,l,m){return a.apply(this,arguments);};case 5:return function(c,f,l,m,d){return a.apply(this,arguments);};case 6:return function(c,f,l,m,d,g){return a.apply(this,arguments);};case 7:return function(c,f,l,m,d,g,h){return a.apply(this,arguments);};case 8:return function(c,f,l,m,d,g,h,k){return a.apply(this,arguments);};case 9:return function(c,f,l,m,d,g,h,k,n){return a.apply(this,arguments);};case 10:return function(c,f,l,m,d,g,h,k,n,q){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w;function c(x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M){this.j=x;this.trackId=y;this.Gy=A;this.Dd=z;this.ay=B;this.iia=D;this.ie=E;this.wm=F;this.displayName=C;this.en=G;this.MN=J;this.variant=K;this.SM=H;this.profile=L;this.jt=R;this.oM=I;this.vyb=Q;this.N4=N;this.Ss=M;this.type=d.Wh.y8;this.Yt=void 0;this.Zn=!(!L || L != h.Sr.uI);this.mh={bcp47:F,trackId:y,downloadableId:z,isImageBased:this.Zn};this.log=g.ih(x,"TimedTextTrack");this.state=w.mZ;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.QD=void 0;f=a(1);l=a(72);m=a(13);d=a(81);g=a(7);h=a(48);k=a(21);n=a(18);q=a(992);p=a(17);t=a(3);u=a(993);v=a(996);(function(x){x[x.mZ=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.qD=2]="LOADED";x[x.pP=3]="LOAD_FAILED";})(w || (w={}));c.prototype.n4=function(){var x;x=this;if(this.j.state.value === p.Lb.CLOSED || this.j.state.value === p.Lb.CLOSING)return Promise.reject({W:!1});if(this.Zn)return this.KEb();this.QQa || (this.QQa=this.SQa());return this.QQa.then(function(y){return x.LEb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Ky=function(){return this.oM;};c.prototype.YB=function(){return this.vyb;};c.prototype.Vq=function(x,y){var A;try{return null === (A=this.nta) || void 0 === A?void 0:A.Vq(x,y);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:x,end:y,isImageBased:this.Zn});}};c.prototype.nCb=function(){var x,y,A;if(!n.Kc(this.X))try{A=null === (y=null === (x=this.nta) || void 0 === x?void 0:x.xF(0)) || void 0 === y?void 0:y[0];this.X=null === A || void 0 === A?void 0:A.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.X;};c.prototype.V7=function(x){return this.j.state.value === p.Lb.CLOSING || this.j.state.value === p.Lb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Uc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.LPa=function(x){var y,A,z;y=this;A=g.ih(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=q.MPa(this.j,A,this.request,this);z=new (m.config.ZXb && !this.Zn?u.PAa:v.default)(A,x);z.on("ready",function(){y.nta=z;});return z;};c.prototype.KEb=function(){var x,y,A,z,B,D,E;x=this;if(!this.wWa){this.state=w.LOADING;y={profile:"nflx-cmisc",url:"",kNa:!1,qoa:this.jt.offset,sZa:this.jt.length,pd:this.j.mediaTime.value || 0,bufferSize:m.config.jEb,G7:{wa:this.j.rT()}};A=(this.iia || []).filter(function(F){return (F.id in x.ay);}).sort(function(F,C){return F.ie - C.ie;}).map(function(F){return F.id;});z=0;B={};D=!0;E=function(F,C){var G;if(n.Kc(F)){if(D || x.V7(x.Ls(x.As,"","image"))){D=!1;x.jt.url=x.ay[x.As];y.url=x.jt.url;B[F]=(B[F] || 0) + 1;G=x.LPa(y);G.on("ready",function(){C({W:!0,track:x});});G.on("error",function(J){var K;J=Object.assign({W:!1},J);K=x.Ls(x.As,x.jt.url,"image");K.details={midxoffset:x.jt.offset,midxsize:x.jt.length};K.errorstring=J.errorString;B[F] <= m.config.R5a?(x.L2(K,!0,"retry with current cdn"),x.Cfa(B[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Ls(x.As,"","image"));E(x.As,C);})):(x.As=A[z++],x.As?(x.L2(K,!0,"retry with next cdn"),x.Cfa(B[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Ls(x.As,"","image"));E(x.As,C);})):(x.L2(K,!1,"all cdns tried"),C({W:!1,$Jb:"all cdns failed for image subs",track:x})));});G.start();}else C({W:!1,aborted:!0});}else (C({W:!1,$Jb:"cdnId is not defined for image subs downloadUrl"}),x.L2(x.Ls(0,"","image"),!1,"cdnId is undefined"));};this.As=A[z++];this.wWa=new Promise(function(F,C){E(x.As,function(G){G.W?(x.log.info("Loaded image subtitle manager"),x.state=w.qD,F(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=w.pP,C(G));});});}return this.wWa;};c.prototype.LEb=function(x){var y,A;y=this;A=this.j.Vz;k.hb(A);return new Promise(function(z,B){var D;D=y.LPa({profile:y.profile,xml:x,Il:m.config.Fta,preferences:m.config.x8,pd:y.j.mediaTime.value || 0,kNa:!1,videoSize:A});D.on("ready",function(){z(D);}).on("error",function(E){B({W:!1,error:E});}).start();}).then(function(){y.state=w.qD;return {W:!0,track:y};}).catch(function(z){y.log.error("Unable to parse timed text track",t.Pr(z),y.mh,{url:z.url});y.state=w.pP;z.reason="parseerror";z.track=y;throw z;});};c.prototype.L2=function(x,y,A){x=Object.assign({},x,{k9b:y,status:A});this.j.fireEvent(p.Z.NN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var A;A=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,Yt:this.Yt,responseType:l.XT,headers:{},pc:this.Sja(this.As)};this.j.g4.download(x,function(z){A.log.trace("imgsub: request status " + z.W);z.W?y(null,new Uint8Array(z.content)):y({oa:z.oa,Ze:z.Ze});});};c.prototype.Ls=function(x,y,A){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Dd,subtitletype:A,bcp47:this.wm,trackId:this.trackId,cdnCount:Object.keys(this.ay).length,isImageBased:this.Zn};};c.prototype.Sja=function(x){return (this.iia || []).find(function(y){return y.id === x;});};c.prototype.SQa=function(){var z,B;function x(D){return f.__awaiter(z,void 0,void 0,function F(){var C,G,J;G=this;return Ha(F,function(K){C=A();J=G.Ls(D.pc.id,D.url,"text");J.errorstring=D.reason;return C && G.V7(J)?K.return(G.Cfa(B[C.id]).then(y)):K.return(Promise.reject({W:!1,aborted:!0}));});});}function y(){return f.__awaiter(z,void 0,void 0,function E(){var F,C,G;C=this;return Ha(E,function(J){G=(F=A()) && C.ay[F.id];return F && G?(B[F.id]=(B[F.id] || 0) + 1,J.return(C.pvb(G,F).catch(x))):J.return(Promise.reject({}));});});}function A(){return (z.iia || []).find(function(D){return ! !((B[D.id] || 0) < m.config.R5a && z.ay[D.id]);});}z=this;this.state=w.LOADING;B={};return y();};c.prototype.Cfa=function(x){return new Promise(function(y){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(A);},A);});};c.prototype.pvb=function(x,y){var A;A=this;this.log.trace("Downloading",y && ({pc:y.id}),this.Ls(y.id,x,"text"));return new Promise(function(z,B){var D;D={responseType:l.Gla,url:x,track:A,pc:y,lF:"tt-" + A.wm};A.j.g4.download(D,function(E){E.W?z(E.content):(E.reason="downloadfailed",E.url=D.url,E.track=A,E.pc=y,B(E));});});};b.QD=c;c.wA=w;},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.NUb=b.S1a=b.Tqa=void 0;b.Tqa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.S1a=a;b.NUb=function(c){var f,l,m;return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.oh) + " sp:" + c.Cz + " pssp:") + (c.LV + " state:") + (c.jf + " path-complete:" + (null === (f=c.hz) || void 0 === f?void 0:f.V) + " streaming:") + ((null === (l=c.bj) || void 0 === l?void 0:l.V) + " current:" + (null === (m=c.vd) || void 0 === m?void 0:m.V));};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fJb=b.J5=b.ff=void 0;b.ff=[0,1];b.J5=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.fJb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Haa=void 0;r=(function(){function a(c,f,l,m){var d;d=this;this.properties=c;this.transform=f;this.WR=l;this.state=m;this.rpa=function(){var g,h;g=d.state;h=d.properties.map(function(k){return k.value;});d.state=d.transform(h);(d.KWa(d.state) && d.KWa(g)?d.state.equal(g):g === d.state) || d.WR(d.state);};c.forEach(function(g){return g.addListener(d.rpa);});this.rpa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(f){return f.removeListener(c.rpa);});};a.prototype.KWa=function(c){return void 0 !== c.equal;};return a;})();b.Haa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fk=void 0;r=b.Fk || (b.Fk={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Zj=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SD=void 0;r=(function(){function a(c){this.YKa=c;}Object.defineProperties(a.prototype,{HL:{get:function(){return this.Ahb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.YKa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kra:{get:function(){var c;c=this;return this.YKa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Ahb=!0;};a.prototype.npa=function(c,f){var l;l=this;this.result.then(function(m){l.HL?f && f(m):c(m);});return this;};return a;})();b.SD=r;},function(r,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(f,l){f[l]=a(c[l]);return f;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f){f && (this.FW(f.Te),this.Gsa(f.ae),this.W3a(f.wa));}c.prototype.FW=function(f){this.Te=f;return this;};c.prototype.Gsa=function(f){this.ae=f;return this;};c.prototype.S3a=function(f){this.Fd=f;return this;};c.prototype.Hn=function(f,l){this.wa || (this.wa={});this.wa[f]=a(l);return this;};c.prototype.W3a=function(f){var l;l=this;this.wa={};Object.keys(f).forEach(function(m){return l.Hn(m,f[m]);});};c.prototype.zj=function(){var f;if(!this.wa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Te)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.wa[this.Te])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={Te:this.Te,wa:this.wa};this.ae && (f.ae=this.ae);this.Fd && (f.Fd=this.Fd);return f;};return c;})();b.LD=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YH=void 0;r=a(2);c=a(172);f=r.__importDefault(a(227));l=r.__importDefault(a(802));m=r.__importDefault(a(146));d=a(6);b.YH=(function(){function h(k,n){var q;q=this;this.kh=new f.default(k,n);this.Lm=new l.default(k);this.Ib=new m.default(this.Lm,this.kh,k);c.qw.oqb(k);k.M6 && setInterval(function(){q.kh.save();q.Lm.save();},k.M6);}h.wUa=function(k,n){void 0 === g?(h.config=k,h.TC=n,g=new h(k,n)):(d.assert(h.config === k),d.assert(h.TC === n));return g;};h.reset=function(){h.config=void 0;g=h.TC=void 0;};return h;})();},function(r,b,a){var d;function c(g,h,k){this.DK=!1 === g;this.AK=g || .01;this.aaa=void 0 === h?25:h;this.xwa=void 0 === k?1.1:k;this.di=new d(f);this.reset();}function f(g,h){return g.Uf > h.Uf?1:g.Uf < h.Uf?-1:0;}function l(g,h){return g.Bv - h.Bv;}function m(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.AK:!1);this.Pub=this.config.ratio || .9;this.Qub=this.config.P8b || 1E3;this.c6=0;}d=a(784).keb;c.prototype.reset=function(){this.di.clear();this.bna=this.n=0;};c.prototype.size=function(){return this.di.size;};c.prototype.uo=function(g){var h;h=[];g?(this.u_(!0),this.di.Xe(function(k){h.push(k);})):this.di.Xe(function(k){h.push({Uf:k.Uf,n:k.n});});return h;};c.prototype.summary=function(){return [(this.DK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Si(0),"Q1  = " + this.Si(.25),"Q2  = " + this.Si(.5),"Q3  = " + this.Si(.75),"max = " + this.Si(1)].join("\n");};c.prototype.push=function(g,h){h=h || 1;g=Array.isArray(g)?g:[g];for(var k=0;k < g.length;k++){this.cJa(g[k],h);}};c.prototype.Fqa=function(g){g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.cJa(g[h].Uf,g[h].n);}};c.prototype.u_=function(g){var h;if(!(this.n === this.bna || !g && this.xwa && this.xwa > this.n / this.bna)){h=0;this.di.Xe(function(k){k.Bv=h + k.n / 2;h=k.sK=h + k.n;});this.n=this.bna=h;}};c.prototype.Yxb=function(g){var h,k;if(0 === this.size())return null;h=this.di.lowerBound({Uf:g});k=null === h.data()?h.HG():h.data();return k.Uf === g || this.DK?k:(h=h.HG()) && Math.abs(h.Uf - g) < Math.abs(k.Uf - g)?h:k;};c.prototype.zJ=function(g,h,k){this.di.Dp({Uf:g,n:h,sK:k});this.n+=h;};c.prototype.c_=function(g,h,k){h !== g.Uf && (g.Uf+=k * (h - g.Uf) / (g.n + k));g.sK+=k;g.Bv+=k / 2;g.n+=k;this.n+=k;};c.prototype.cJa=function(g,h){var k,n,q;k=this.di.min();n=this.di.max();q=this.Yxb(g);q && q.Uf === g?this.c_(q,g,h):q === k?this.zJ(g,h,0):q === n?this.zJ(g,h,this.n):this.DK?this.zJ(g,h,q.sK):(k=q.Bv / this.n,Math.floor(4 * this.n * this.AK * k * (1 - k)) - q.n >= h?this.c_(q,g,h):this.zJ(g,h,q.sK));this.u_(!1);!this.DK && this.aaa && this.size() > this.aaa / this.AK && this.Ox();};c.prototype.Jnb=function(g){var h,k;this.di.lm=l;h=this.di.upperBound({Bv:g});this.di.lm=f;k=h.HG();g=k && k.Bv === g?k:h.next();return [k,g];};c.prototype.Si=function(g){var h;h=(Array.isArray(g)?g:[g]).map(this.jjb,this);return Array.isArray(g)?h:h[0];};c.prototype.jjb=function(g){var h,k;if(0 !== this.size()){this.u_(!0);this.di.min();this.di.max();g*=this.n;h=this.Jnb(g);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).Uf:this.DK?g <= k.sK?k.Uf:h.Uf:k.Uf + (g - k.Bv) * (h.Uf - k.Uf) / (h.Bv - k.Bv);}};c.prototype.Ox=function(){var g;if(!this.XOa){g=this.uo();this.reset();for(this.XOa=!0;0 < g.length;){this.Fqa(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.u_(!0);this.XOa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(g){c.prototype.push.call(this,g);this.rpb();};m.prototype.zJ=function(g,h,k){this.c6+=1;c.prototype.zJ.call(this,g,h,k);};m.prototype.c_=function(g,h,k){1 === g.n && --this.c6;c.prototype.c_.call(this,g,h,k);};m.prototype.rpb=function(){!("auto" !== this.mode || this.size() < this.Qub) && this.c6 / this.size() > this.Pub && (this.mode="cont",this.DK=!1,this.AK=this.config.AK || .01,this.Ox());};r.exports={TDigest:c,Digest:m};},function(r,b,a){var d,g,h,k,n,q;function c(p){var t;t=p.Yca;this.I=p;this.oj=g.zf.HAVE_NOTHING;this.hJ=p.hJ;p=new n(this.hJ);this.hR=p.create("throughput-location-history",t);this.jx=p.create("respconn-location-history",t);this.$w=p.create("respconn-location-history",t);this.y0=p.create("throughput-tdigest-history",t);this.P_=p.create("throughput-iqr-history",t);this.jb=null;}function f(p,t,u,v,w){this.IA=new c(w);this.ds=[];this.aib=h.time.ba() - Date.now() % 864E5;this.Yw=null;this.I=w;for(p=0;p < v;++p){this.ds.push(new c(w));}}function l(p,t,u){return d.has(p,t)?p[t]:p[t]=u;}function m(p,t){var u;this.I=p;this.nLa=t;this.Twb();this.zQ=new c(this.I);this.JQ();u=p.Fha;u && (u={confidence:g.zf.jI,Pa:{Ca:parseInt(u,10),ti:0},Vi:{Ca:0,ti:0},Us:{Ca:0,ti:0}},this.get=function(){return u;});}d=a(10);g=a(27).default;b=a(9);h=a(5).default;k=b.fza;n=a(385).Xya;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");q={confidence:g.zf.HAVE_NOTHING};c.prototype.JE=function(p,t){this.oj=t;this.hR.add(p);this.y0.add(p);this.jb=h.time.ba();};c.prototype.KH=function(p,t){this.P_.set(p,t);};c.prototype.tx=function(p){this.jx.add(p);};c.prototype.rx=function(p){this.$w.add(p);};c.prototype.getState=function(){var p,t,u,v,w,x;p=this.hR.getState();t=this.jx.getState();u=this.$w.getState();v=this.P_.getState();w=this.y0.getState();if(d.tb(p) && d.tb(t) && d.tb(u))return null;x={c:this.oj,t:h.time.Boa(this.jb)};d.tb(p) || (x.tp=p);d.tb(t) || (x.rt=t);d.tb(u) || (x.hrt=u);d.tb(v) || (x.iqr=v);d.tb(w) || (x.td=w);return x;};c.prototype.Ie=function(p){var t;t=h.time.now();if(!(p && d.has(p,"c") && d.has(p,"t") && d.has(p,"tp") && d.isFinite(p.c) && d.isFinite(p.t)) || 0 > p.c || p.c > g.zf.jI || p.t > t || !this.hR.Ie(p.tp))return (this.oj=g.zf.HAVE_NOTHING,this.Yw=this.jb=null,this.hR.Ie(null),this.jx.Ie(null),this.$w.Ie(null),!1);this.oj=p.c;this.jb=h.time.Woa(p.t);this.jx.Ie(d.has(p,"rt")?p.rt:null);this.$w.Ie(d.has(p,"hrt")?p.hrt:null);d.has(p,"iqr") && this.P_.Ie(p.iqr);d.has(p,"td") && this.y0.Ie(p.td);return !0;};c.prototype.get=function(){var p,t,u,v,w,x;p=this.I;if(d.tb(this.jb))return q;t=(h.time.ba() - this.jb) / 1E3;t > p.thb?this.oj=g.zf.HAVE_NOTHING:t > p.Vgb && (this.oj=Math.min(this.oj,g.zf.hA));p=this.hR.get();u=this.jx.get();v=this.$w.get();w=this.P_.get();x=this.y0.get();t={Al:t,confidence:this.oj,Pa:p,Vi:u,Us:v,Vs:w,Uj:x};p && (t.R8b=k.prototype.jqa.bind(p));u && (t.e8b=k.prototype.jqa.bind(u));v && (t.c6b=k.prototype.jqa.bind(v));return t;};c.prototype.time=function(){return this.jb;};f.prototype.Ig=function(){return ((h.time.ba() - this.aib) / 1E3 / 3600 / (24 / this.ds.length) | 0) % this.ds.length;};f.prototype.getState=function(){var p;p={g:this.IA.getState(),h:this.ds.map(function(t){return t.getState();})};d.tb(this.Yw) || (p.f=h.time.Boa(this.Yw));return p;};f.prototype.Ie=function(p){var t,u;if(!this.IA.Ie(p.g))return !1;t=this.ds.length;u=!1;this.ds.forEach(function(v,w){u=!v.Ie(p.h[w * p.h.length / t | 0]) || u;});this.Yw=d.has(p,"f")?h.time.Woa(p.f):null;return u;};f.prototype.JE=function(p,t){this.IA.JE(p,t);this.ds[this.Ig()].JE(p,t);this.Yw=null;};f.prototype.KH=function(p,t){this.IA.KH(p,t);this.ds[this.Ig()].KH(p,t);};f.prototype.tx=function(p){this.IA.tx(p);this.ds[this.Ig()].tx(p);};f.prototype.rx=function(p){this.IA.rx(p);this.ds[this.Ig()].rx(p);};f.prototype.fail=function(p){this.Yw=p;};f.prototype.get=function(){var p,t;if(!d.tb(this.Yw)){if((h.time.ba() - this.Yw) / 1E3 < this.I.Ugb)return {confidence:g.zf.HAVE_NOTHING,Es:!0};this.Yw=null;}p=this.ds[this.Ig()].get();t=this.IA.get();p=p.confidence >= t.confidence?p:t;p.Es=!1;return p;};f.prototype.time=function(){return this.IA.time();};m.prototype.xJa=function(p,t){var u;u=this.I;p=l(this.DQ,p,{});return l(p,t,new f(u.LJa || 14400,u.KJa || 100,u.JJa || 100,u.EKa || 4,u));};m.prototype.JQ=function(){var p,t;p=h.storage.get("lh");t=h.storage.get("gh");p && this.gea(p);t && this.dkb(t);};m.prototype.fda=function(){var p;p={};d.Xe(this.DQ,function(t,u){d.Xe(t,function(v,w){l(p,u,{})[w]=v.getState();},this);},this);return p;};m.prototype.dkb=function(p){this.zQ.Ie(p);};m.prototype.gea=function(p){var t,u;t=null;u=this.I;d.Xe(p,function(v,w){d.Xe(v,function(x,y){var A;A=new f(u.LJa || 14400,u.KJa || 100,u.JJa || 100,u.EKa || 4,u);A.Ie(x)?(l(this.DQ,w,{})[y]=A,t=!0):d.tb(t) && (t=!1);},this);},this);return d.tb(t)?!0:t;};m.prototype.save=function(){var p;p=this.fda();h.storage.set("lh",p);h.storage.set("gh",this.zQ.getState());this.nLa && this.nLa.wsa(this.zQ.getState());};m.prototype.Twb=function(){this.DQ={};this.eJ=this.ZIa="";this.xn=null;};m.prototype.vN=function(p){this.ZIa=p;this.xn=null;};m.prototype.S7=function(p){this.eJ=p;this.xn=null;};m.prototype.K_=function(){d.tb(this.xn) && (this.xn=this.xJa(this.ZIa,this.eJ));return this.xn;};m.prototype.JE=function(p,t){this.K_().JE(p,t);this.zQ.JE(p,t);};m.prototype.KH=function(p,t){p && p.gl && p.Mj && p.il && (this.K_().KH(p,t),this.zQ.KH(p,t));};m.prototype.tx=function(p){this.K_().tx(p);};m.prototype.rx=function(p){this.K_().rx(p);};m.prototype.fail=function(p,t){this.xJa(p,this.eJ).fail(t);};m.prototype.get=function(p,t){var u,v,w,x;p=(p=this.DQ[p])?p[this.eJ]:null;u=null;if(p && (u=p.get(),u.confidence > g.zf.HAVE_NOTHING))return u;if(!1 === t)return q;v=u=null;w=!1;x=null;d.Xe(this.DQ,function(y){d.Xe(y,function(A,z){var B;if(!w || z == this.eJ){B=A.get();B && (!v || v <= B.confidence) && (!x || v < B.confidence || x < A.time()) && (v=B.confidence,w=z == this.eJ,x=A.time(),u=B);}},this);},this);return u?u:q;};r.exports=m;},function(r,b,a){var m;function c(d){this.MJ=d;this.reset();}function f(d){this.wj=new c(d);this.Ae=0;this.Cc=null;}function l(d,g){this.MJ=d;this.gKa=g;this.reset();}m=a(10);c.prototype.MKa=function(d,g){this.jb+=d;this.pj+=d;this.Ic+=g;this.Cn.push({d:d,b:g});};c.prototype.WQ=function(){var d;for(;this.pj > this.MJ;){d=this.Cn.shift();this.Ic-=d.b;this.pj-=d.d;}};c.prototype.reset=function(){this.Cn=[];this.jb=null;this.pj=this.Ic=0;};c.prototype.setInterval=function(d){this.MJ=d;this.WQ();};c.prototype.start=function(d){m.tb(this.jb) && (this.jb=d);};c.prototype.add=function(d,g,h){m.tb(this.jb) && (this.jb=g);g > this.jb && this.MKa(g - this.jb,0);this.MKa(h > this.jb?h - this.jb:0,d);this.WQ();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.Ic / this.pj),ti:0};};f.prototype.reset=function(){this.wj.reset();this.Ae=0;this.Cc=null;};f.prototype.add=function(d,g,h){!m.tb(this.Cc) && h > this.Cc && (g > this.Cc && (this.Ae+=g - this.Cc),this.Cc=null);this.wj.add(d,g - this.Ae,h - this.Ae);};f.prototype.start=function(d){!m.tb(this.Cc) && d > this.Cc && (this.Ae+=d - this.Cc,this.Cc=null);this.wj.start(d - this.Ae);};f.prototype.stop=function(d){this.Cc=m.tb(this.Cc)?d:Math.min(d,this.Cc);};f.prototype.get=function(){return this.wj.get();};f.prototype.setInterval=function(d){this.wj.setInterval(d);};l.prototype.reset=function(){this.Cn=[];this.Ic=this.pj=0;};l.prototype.add=function(d,g,h,k){void 0 !== k && !0 === k && (g=h - g,this.pj+=g,this.Ic+=d,this.Cn.push({d:g,b:d}),this.WQ());};l.prototype.WQ=function(){var d;for(;this.pj > this.MJ || this.Cn.length > this.gKa;){d=this.Cn.shift();this.Ic-=d.b;this.pj-=d.d;}};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.get=function(){return {Ca:Math.floor(8 * this.Ic / this.pj),ti:0};};l.prototype.setInterval=function(d,g){this.MJ=d;this.gKa=g;this.WQ();};r.exports={o_b:c,T$a:f,nfb:l};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Q9=void 0;c=a(2);f=a(16);l=a(814);r=a(96);m=a(815);d=a(841);g=a(844);h=a(242);k=a(15);n=c.__importDefault(a(5));q=a(6);p=a(9);a(171);t=(function(){return function(u){var v;v=u.aXa;u=u.nma;this.JU=this.replace=v;this.Ng=u;};})();a=(function(u){function v(w,x){var y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea;y=x.Gb;A=x.sa;z=x.ko;B=x.Fd;D=x.gZa;E=x.Hi;F=x.config;C=x.KVa;G=x.eN;J=x.a3;K=x.Ib;H=x.kh;L=x.hV;R=x.KRa;x=x.kH;I=u.call(this) || this;I.$=w;I.Z3=!1;I.NJa=[];I.eKa=[];I.yh=[];I.uB=[];I.om=!1;I.Gb=y;I.MQ=A;I.ko=z;I.Zb=function(qa){return 0 <= B.indexOf(qa);};I.config=F;I.console=new n.default.Console("ASEJS","media|asejs","<" + String(I.$) + ">");C && (w=C.GB,I.Ef=new g.Fza(I,I.console,I.config,C.Nm,C.JT,w,C.G4,C.pf,C.nl,C.Og,C.RB),I.GB=w);I.QB=new f.EventEmitter();I.a3=J;I.Ib=K;I.hV=L;I.Ol=new h.gaa(I.sa,K,H,I.config,null === R || void 0 === R?void 0:R.Nm);R && (C=R.Wq,J=R.Jm,K=R.ML,I.Po=R.qh,I.ML=K,I.Jm=J,I.Wq=C,I.Uca=new d.Fya(I.Ol,I.config,I.VCb.bind(I),I.UCb.bind(I)));I.eN=G;I.kH=x;I.bf=new t(D);I.Hi=E;Q=[[],[]];N=[{},{}];M=[0,0];P=!1;S=I.Zb(0);ea=I.Zb(1);["audio_tracks","video_tracks"].forEach(function(qa,wa){var ua;ua=0 === wa;ua && !S || 1 === wa && !ea || I.sa[qa].forEach(function(X,sa){X=new m.Bva({O:I,hC:X,mediaType:wa,Ng:D.nma,WN:sa,GE:sa + (ua?I.sa.video_tracks.length:0)},I.config,I.console);Q[wa].push(X);N[wa]=c.__assign(c.__assign({},N[wa]),X.GF());X.maxBitrate > M[X.mediaType] && (M[X.mediaType]=X.maxBitrate);P=P || X.ST;});});I.TI=Q;I.IUb=N;I.Av=M;I.ST=P;return I;}c.__extends(v,u);Object.defineProperties(v.prototype,{sa:{get:function(){return this.MQ;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{IU:{get:function(){var w;return !(null === (w=this.TI[1][0]) || void 0 === w || !w.IU);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qg:{get:function(){return this.NJa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{BIb:{get:function(){return this.eKa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{K:{get:function(){return this.sa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Mn:{get:function(){return this.sa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{duration:{get:function(){return this.sa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Gj:{get:function(){return this.om;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{op:{get:function(){q.assert(this.Uca,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Uca;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{PK:{get:function(){return this.op.events;},enumerable:!1,configurable:!0}});v.prototype.Ab=function(){this.close();this.Lc();};v.prototype.close=function(){var w;this.uB=[];null === (w=this.Uca) || void 0 === w?void 0:w.Ab();this.Ol.Ab();this.om=!0;};v.prototype.Lc=function(){this.Ef && this.Ef.Lc();};v.prototype.JXb=function(w){var x,y,A,z,B,D;x=this;y=w.sa;A=w.Fd;z=void 0 === A?k.ff:A;q.assert(w.Hi === this.Hi,"Updating Viewable clearplay not supported");k.ff.forEach(function(E){q.assert(x.Zb(E) === 0 <= z.indexOf(E),"Updating Viewable media types not supported");});q.assert(y.movieId === this.sa.movieId,"Changing Viewable manifest movieId unsupported");B=this.Zb(0);D=this.Zb(1);["audio_tracks","video_tracks"].forEach(function(E,F){var C;if((0 !== F || B) && (1 !== F || D)){E=x.sa[E];C=x.TI[F];q.assert(E.length === C.length,"Changing Viewable tracks unsupported");E.forEach(function(G,J){var K;J=C[J];q.assert(G.track_id === J.trackId);G=G.streams;K=Object.keys(J.GF());q.assert(G.length === K.length);G.forEach(function(H){q.assert(-1 !== K.indexOf(H.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.MQ=y;this.Ol.QJ(this.sa);};v.prototype.KC=function(w){var x,y,A;x=w.Iv;y=w.da;A=w.wB;w=w.Mm;x && y?(this.X7=new l.FGa(x,{da:String(y),wB:! !A,TIb:this.config.pZ.mx,Pnb:this.config.pZ.lv},w),this.op.KC(this.X7)):w("SideChannel: pbcid/xid is missing.");};v.prototype.Hy=function(){return void 0 !== this.Mn;};v.prototype.getTracks=function(w){return this.TI[w];};v.prototype.getTrackById=function(w){var x;this.TI.some(function(y){return y.some(function(A){if(A.trackId === w)return (x=A,!0);});});x || this.console.warn("getTrackById not found:",w,"length:",this.TI.length);return x;};v.prototype.jVa=function(w,x){var y;y=this.TI[w];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",w);else return y[x];};v.prototype.pv=function(w,x){return (w=this.GF(w)) && w[x];};v.prototype.GF=function(w){return this.IUb[w];};v.prototype.kXb=function(w,x){this.NJa[w]=x;x.stream.Y && this.N6a(w,x.stream.Y);};v.prototype.aGb=function(w){var x,y;if(void 0 === w.b7 || void 0 === w.sqa){x=this.Ol.bz.filter(function(A){return void 0 !== A.streams[w.Na];})[0];y=x.children.filter(function(A){return A.urls.some(function(z){return z.stream.id === w.Na;});})[0];w.b7=x.id;w.sqa=y.id;}return {Jma:w.location === w.b7,bGb:w.dd === w.sqa};};v.prototype.Bsa=function(w,x,y){void 0 !== x && void 0 !== y && (this.v2a(w.mediaType,x),w.Bsa(x,y));};v.prototype.v2a=function(w,x){var y,A;A=this.config.Joa;("location" === A || "video_location" === A && 1 === w) && this.Ib.vN(x);null === (y=this.a3) || void 0 === y?void 0:y.call(this).zLb(w,x);};v.prototype.qh=function(w,x,y,A,z){q.assert(this.Po,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Po(w,x,y,A,z);};v.prototype.wo=function(){var w,x,y;w=this;x=[];if(this.Gj)return (this.console.error("updateRequestUrls, closed Viewable:",this.$),!1);k.ff.forEach(function(A){w.Zb(A) && w.CXb(A) && (A=w.qXb(A),0 < A.length && x.push.apply(x,A));});y=this.lXb();0 < y.length && x.push.apply(x,y);return this.bRb(x);};v.prototype.Dm=function(w,x){var y;y=this.getTracks(1)[0];q.assert(y);if(y.DL)return y.Dm(w,x);};v.prototype.CXb=function(w){var x,y,B,D;if(this.Gj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.Zb(w))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",w),!1);y=!0;try{for(var A=c.__values(this.yh),z=A.next();!z.done;z=A.next()){B=z.value.Sa(w);q.assert(B);D=this.Ol.wX(this.$,B.track.Sd);D || B.Hb("location selector failed to update streamList");y=y && D;}}catch(F){var E;E={error:F};}finally{try{z && !z.done && (x=A.return) && x.call(A);}finally{if(E)throw E.error;}}return y;};v.prototype.lXb=function(){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.wo();};v.prototype.qXb=function(w){var x,y,B;y=[];if(this.Gj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.Zb(w))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",w),y);try{for(var A=c.__values(this.yh),z=A.next();!z.done;z=A.next()){B=z.value.wo(w);B.length && y.push.apply(y,B);}}catch(E){var D;D={error:E};}finally{try{z && !z.done && (x=A.return) && x.call(A);}finally{if(D)throw D.error;}}return y;};v.prototype.bRb=function(w){var x,y,A;x=this;if(0 === w.length)return !0;y=0;A=[];w.forEach(function(z){var B;if(z.Pc){B=z.O;B.Gb > x.Gb && (A.push({O:B,track:z.stream.track}),++y);}});A.forEach(function(z){var B;B=z.track;z.O.dN([0 === B.mediaType?B:void 0,1 === B.mediaType?B:void 0],void 0,B.mediaType);});return y === w.length;};v.prototype.Lj=function(){var w;w=this;this.Ol.Lj();this.op.Lj();this.X7 && (q.assert(this.GB),k.ff.forEach(function(x){x=w.GB(x);w.X7.isa("rebuffer",x.ana);}));};v.prototype.lpa=function(){this.op.lpa();};v.prototype.nua=function(w,x){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");this.Ef.nua(w,x);};v.prototype.T3=function(){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables..");return this.Ef.T3();};v.prototype.Hga=function(){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");this.Ef.Hga();};v.prototype.uN=function(w){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");this.Ef.uN(w);};v.prototype.Vta=function(){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.Vta();};v.prototype.nk=function(w,x){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.nk(w,x);};v.prototype.yPa=function(w,x,y){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");this.Ef.K8(w,x,y,!0);};v.prototype.I0=function(w,x,y){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.I0(w,x,! !y);};v.prototype.CSb=function(w,x){this.uB.push({stream:w,qCb:x});};v.prototype.lQb=function(){this.uB=[];};v.prototype.rQb=function(w){this.uB=this.uB.filter(function(x){return x.stream !== w;});};v.prototype.qQb=function(w){this.uB=this.uB.filter(function(x){return x !== w;});};v.prototype.sL=function(){var w;w=this;q.assert(this.Jm,"Streamables not available on old architecture prefetch viewables.");return this.Jm()?[]:this.uB.map(function(x){var y,A;y=x.stream;A=x.qCb;A=A();return {identifier:y.$ + "-" + y.mediaType + "-" + y.bitrate,mediaType:y.mediaType,oh:A.oh,jf:A.jf,hz:A.hz,bj:A.bj,vd:A.vd,qqa:p.S.ab,pqa:p.S.By,LV:1,Cz:1,WK:p.S.ab,groupId:"" + w.$,VF:!0,qv:!1,lXa:function(){return {result:!0};},pXa:function(){if(y.EH())return (w.rQb(y),{Ep:!0,reason:"success"});w.qQb(x);return {Ep:!1,reason:"viewableTryIssueHeaderRequest"};}};});};v.prototype.EH=function(w,x){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.EH(w,x);};v.prototype.oR=function(w,x){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.oR(w,x);};v.prototype.Jra=function(w){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.Jra(w);};v.prototype.dN=function(w,x,y){q.assert(this.Ef,"Headers not available on old architecture prefetch viewables.");return this.Ef.dN(w,x,y);};v.prototype.XCb=function(w){var x,y,A;x=w.Na;y=w.mediaType;this.N6a(y,w.stream.Y);x=this.pv(y,x);A=this.Hy()?this.config.TYa:0;x.G6a(n.default.Sn()[y],A);this.QB.emit("onHeaderFragments",w);};v.prototype.cra=function(w){this.yh.push(w);};v.prototype.dua=function(w){w=this.yh.indexOf(w);q.assert(-1 !== w,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.yh.splice(w,1);};v.prototype.D6=function(w){var x;null === (x=this.eN) || void 0 === x?void 0:x.sx(w);};v.prototype.ez=function(w){this.Gj?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",w):void 0 !== w.location && this.v2a(w.mediaType,w.location);};v.prototype.yM=function(w){this.Gj?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",w):this.op.O8({timestamp:w.af,url:w.url});};v.prototype.uk=function(w){var x;null === (x=this.eN) || void 0 === x?void 0:x.LG(w);q.assert(this.Jm && this.hV,"Requests cannot be handled on old architecture prefetch viewables.");this.Gj?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",w):this.Jm() || (this.op.O8({timestamp:w.af,mediaRequest:w}),this.hV(w));};v.prototype.rV=function(w,x,y){var A;y && (null === (A=this.eN) || void 0 === A?void 0:A.LG(w));};v.prototype.sV=function(w){this.Gj?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",w):(this.op.pr({url:w.url},w.status,w.Mg,w.Ri),this.wo() || this.qh(w.TK || "unknown","NFErr_MC_StreamingFailure",w.Mg,w.status,w.Ri));};v.prototype.N6a=function(w,x){this.eKa[w]=x.Vna;};v.prototype.VCb=function(w){var x,y,A;q.assert(this.ML,"Error handling not available on old architecture prefetch viewables.");if(!this.om){x=w.JFb;y=w.gMb;A=w.hMb;w=w.iMb;this.console.warn("Streaming failure, isBuffering " + this.ML() + " is permanent: " + x + ", last error code: " + y + ", last http code: " + A + ", last native code: " + w);x?(this.console.warn(" > Permanent failure, done"),this.qh("Permanent failure","NFErr_MC_StreamingFailure",y,A,w)):this.ML()?(this.console.warn(" > We are buffering, calling it!"),this.qh("Temporary failure while buffering","NFErr_MC_StreamingFailure",w,A,w)):(this.console.warn(" > Resetting failures"),this.op.v7());}};v.prototype.UCb=function(){q.assert(this.Wq,"Error handling not available on old architecture prefetch viewables.");this.om || (this.wo(),this.Wq());};return v;})(r.nw);b.Q9=a;},function(r,b,a){var C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa,O,T,ma,ja,Qa,Fa,Wa,Xa,db,Za,kb,Ya,Sa;function c(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function f(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function l(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function m(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);this.hH=za.config.hH;this.gd=this.sizes=void 0;}function d(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function g(){for(var za=new DataView(this),Ia="",Ma,Ta=0;Ta < this.byteLength;Ta++){Ma=za.getUint8(Ta);Ia+=("00" + Ma.toString(16)).slice(-2);}return Ia;}function h(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function k(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function n(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function q(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function p(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function t(za){function Ia(Ma,Ta,hb,wb,Eb){K.call(this,Ma,Ta,hb,wb,Eb);this.aV=za;}Ia.La=!1;Ia.prototype=new K();Ia.prototype.constructor=Ia;Object.defineProperties(Ia.prototype,{GO:{get:function(){return this.aV;}}});Ia.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.aV + "'");this.u.offset=this.startOffset + 4;this.ja.OX(this.GO);this.type=this.GO;return !0;};return Ia;}function u(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function v(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function w(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function x(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function y(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function A(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function z(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function B(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function D(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function E(za,Ia,Ma,Ta,hb){K.call(this,za,Ia,Ma,Ta,hb);}function F(za,Ia){za.forEach(function(Ma){Ia[Ma.Nb]=Ma;});}C=a(147).assert;b=a(97);G=a(231).S;J=a(394);a(148);a(82);a(82);a(82);K=a(31).mc;H=a(817).default;L=a(818).default;R=a(819).default;I=a(820).default;Q=a(821).default;N=a(822).default;M=a(823).default;P=a(824).default;S=a(825).default;a(232);a(174);ea=a(395).o9;qa=a(395).x$;wa=a(826).default;ua=a(827).default;X=a(83).default;sa=a(83).C9;O=a(83).D9;T=a(83).E9;ma=a(83).F9;ja=a(828).default;Qa=a(829).default;Fa=a(83).Q$;Wa=a(83).L$;Xa=a(83).r8a;db=a(830).default;Za=a(831).default;kb=a(832).default;Ya=a(396).default;Sa=a(397).default;a(149);a(235);a(236);a(234);a=a(833).default;c.La=!0;c.prototype=new K();c.prototype.constructor=c;f.La=!0;f.prototype=new K();f.prototype.constructor=f;l.La=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var za;this.ic();1 === this.version?(this.u.Hd(),this.u.Hd(),this.U=this.u.ta(),this.duration=this.u.Hd()):(this.u.ta(),this.u.ta(),this.U=this.u.ta(),this.duration=this.u.ta());za=this.u.Gc() & 32767;this.language=String.fromCharCode(96 + (za >>> 10),96 + (za >>> 5 & 31),96 + (za & 31));return !0;};m.La=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Pda=function(){this.ic();this.u.ta();this.U=this.u.ta();0 === this.version?(this.LS=this.u.ta(),this.eT=this.u.ta()):(this.LS=this.u.Hd(),this.eT=this.u.Hd());this.I2a=this.u.Gc();this.$V=this.u.Gc();};m.prototype.Ica=function(za,Ia){var Ma,Ta,hb;Ma=this.U;za=za && za.U || Ma;Ta=za / Ma;Ma=this.u.pz(Ia,12,!1);hb=1 === Ta?this.u.pz(Ia,12,!1):J.from(Uint32Array,{length:Ia},function(){var wb;wb=Math.round(this.u.ta() * Ta);this.u.offset+=8;return wb;},this);this.sea(Ia,hb,Ma,za);};m.prototype.sea=function(za,Ia,Ma,Ta){if(this.hH){Ta=this.hH * Ta / 1E3;for(var hb=0,wb=1;wb < za;wb++){Math.abs(Ia[hb] - Ta) > Math.abs(Ia[hb] + Ia[wb] - Ta)?(Ia[hb]+=Ia[wb],Ma[hb]+=Ma[wb]):(++hb,hb !== wb && (Ia[hb]=Ia[wb],Ma[hb]=Ma[wb]));}++hb;Ia=new Uint32Array(Ia.buffer.slice(0,4 * hb));Ma=new Uint32Array(Ma.buffer.slice(0,4 * hb));}this.sizes=Ma;this.gd=Ia;};m.prototype.parse=function(za){var Ia,Ma,Ta,hb;this.Pda();this.qa=za.qa;Ia=this.U;Ma=this.qa && this.qa.U || Ia;Ta=this.$V;hb=this.startOffset + this.length + this.eT;Ia=new G(this.LS,Ia).Yf(Ma).Xb;this.Y={U:Ma,Bk:Ia,offset:hb};this.Ica(this.qa,Ta);this.Y.gd=this.gd;this.Y.sizes=this.sizes;za.Ar=this;return !0;};d.La=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var za;this.fq=[];this.Rpa=[];za=(this.length - 11) / 2;this.u.eb();this.u.eb();this.u.eb();for(var Ia=0;Ia < za;Ia++){this.fq.push(this.u.eb());this.Rpa.push(this.u.eb());}return !0;};h.La=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.ic();this.u.offset+=4;this.XF=this.u.offset;this.Li=this.u.Oqa(16);this.Li.toString=g;return !0;};k.La=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.ic();this.Qf=this.u.Gc();this.boa=this.u.pz(this.Qf,void 0,!0);return !0;};n.La=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(za){var Ia,Ma,Ta,hb,wb,Eb;Ia=za.Ar;C(Ia);za=za.qa;Ma=Ia.U;Ia=Ia.$V;C(za);C(Ma);C(Ia);this.ic();C(2 > this.version);this.Qf=this.u.Gc();this.xt=new Uint16Array(Ia + 1);Ta=za.I3(Ma);hb=Ta / Ma;wb=za.Yf(Ta).Xb;if(0 === this.version)for((this.Lt=new Uint16Array(),this.Gd=new Uint32Array(),za=Ma=0);za <= Ia;++za){if((this.xt[za]=Ma,za < this.Qf)){Eb=this.u.eb();if(0 !== Eb)for(Ta=0;Ta < Eb;(++Ta,++Ma)){this.Lt[Ma]=Math.floor((this.u.ta() + 1) * hb) / wb;this.Gd[Ma]=this.u.ta();}}}else if(1 === this.version)for((Ta=this.u.Kqa(this.Qf,10,!1),this.u.offset+=4,this.Gd=this.u.pz(this.Qf,10,!1),this.u.offset-=8,this.Lt=J.from(Uint16Array,{length:this.Qf},function(){var Hb;Hb=Math.floor((this.u.ta() + 1) * hb) / wb;this.u.offset+=6;return Hb;},this),Ma=za=0);za <= Ia;++za){for(;Ma < Ta.length && Ta[Ma] < za;){++Ma;}this.xt[za]=Ma;}this.Dh={xt:this.xt,Lt:this.Lt,Gd:this.Gd};return !0;};q.La=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.La=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Fs=function(){var za;za=this.uh("tfhd");za && (this.xj=za.NR?za.xj:this.parent.startOffset);return !0;};u.La=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(){var za,Cb;za=this.u.offset;this.ic();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ia=this.u.offset,Ma=this.u.eb(),Ta=this.u.eb(),hb=this.u.eb(),wb=this.u.eb(),Eb=this.u.Gc(),Hb=[],Pb=0;Pb < Eb;++Pb){Hb=this.u.eb();}Pb=(Ma & 240) >>> 4;Cb=(Ma & 14) >>> 1;Ma&=1;hb=16 === hb?1:0;Ta != wb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ta + " and matrixCoefficients " + wb + " should be the same value!");wb=2;switch(Ta){case 1:wb=2;break;case 6:wb=1;break;case 9:wb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ta + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ja.Xz(this.version,za);this.ja.Xz(Pb << 4 | wb,Ia++);this.ja.Xz(Cb << 4 | hb << 1 | Ma,Ia++);Eb+=2;Hb.push(0,0);this.ja.Oua(Eb,!1);Ia+=2;Hb.forEach(function(Kb){this.ja.Xz(Kb,Ia++);});}return !0;};v.La=!1;v.prototype=new K();v.prototype.constructor=v;v.Nb="tfhd";Object.defineProperties(v.prototype,{NR:{get:function(){return this.flags & 1;}},Rra:{get:function(){return this.flags & 2;}},Pha:{get:function(){return this.flags & 8;}},Sha:{get:function(){return this.flags & 16;}},Qha:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(){this.ic();this.CH=this.u.ta();this.xj=this.NR?this.u.Hd():void 0;this.Rra && this.u.ta();this.Ux=this.Pha?this.u.ta():void 0;this.Wx=this.Sha?this.u.ta():void 0;this.Vx=this.Qha?this.u.ta():void 0;return !0;};w.La=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){this.ic();this.Bx=1 === this.version?this.u.Hd():this.u.ta();return !0;};w.prototype.na=function(za){var Ia;Ia=this.startOffset + 12;this.Bx+=za;1 === this.version?this.ja.Pua(this.Bx,Ia):this.ja.Fg(this.Bx,Ia);};x.La=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{qS:{get:function(){return this.flags & 1;}},tF:{get:function(){return this.flags & 4;}},Az:{get:function(){return this.flags & 256;}},Bz:{get:function(){return this.flags & 512;}},sW:{get:function(){return this.flags & 1024;}},WG:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.ic();this.RR=this.u.offset;this.Bb=this.u.ta();this.Dj=this.qS?this.u.KG():0;this.tF && this.u.ta();this.Kt=(this.Az?4:0) + (this.Bz?4:0) + (this.sW?4:0) + (this.WG?4:0);this.ly=this.u.offset;C(this.qS,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Bb * this.Kt,"Expected remaining data in box to be sample information");return !0;};x.prototype.cs=function(za,Ia,Ma){var Ta,hb,wb;Ta=this.Az?this.u.ta():za.Ux;hb=this.Bz?this.u.ta():za.Wx;za=this.sW?this.u.ta():za.Vx;wb=0 === this.version?this.WG?this.u.ta():0:this.WG?this.u.KG():0;return {Qra:wb,ERb:za,COb:Ma + wb - (void 0 !== Ia?Ia:wb),Qj:hb,Mt:Ta};};x.prototype.na=function(za,Ia,Ma,Ta,hb,wb,Eb){var Hb,Pb,Cb,Kb;Hb=0;Pb=0;this.ja.offset=this.ly;for(Ta=0;Ta < hb;++Ta){Cb=this.cs(Ia,Kb,Pb);if(0 == Ta)Kb=Cb.Qra;Hb+=Cb.Qj;Pb+=Cb.Mt;}Ta=hb;hb=this.u.offset;Cb=this.cs(Ia,Kb,Pb);this.Zp=Ta;this.Ssa=Pb;if(Eb){if((this.Sp=this.Dj + Hb,this.mi=0,Ta === this.Bb))return !0;}else if((this.Sp=this.Dj,this.mi=Hb,0 === Ta))return !0;if(0 === Ta || Ta === this.Bb)return !1;this.dy=!0;if(Eb){this.mi+=Cb.Qj;for(Eb=Ta + 1;Eb < this.Bb;++Eb){Cb=this.cs(Ia,Kb,Pb);this.mi+=Cb.Qj;}this.ja.offset=this.RR;this.Bb=Ta;this.ja.Fg(this.Bb);this.ja.NH(wb);this.tF && (this.u.offset+=4);this.we(this.length - (hb - this.startOffset),hb);}else (Ia=hb - this.ly,this.ja.offset=this.RR,this.Bb-=Ta,this.ja.Fg(this.Bb),this.Dj+=Hb,this.ja.NH(wb,this.Dj),this.tF && (this.u.offset+=4),this.we(Ia,this.ja.offset));Ma.we(this.mi,za.xj + this.Sp);return !0;};x.prototype.qra=function(za,Ia,Ma,Ta,hb,wb){var Hb;if(Ta){Ta=this.Sp;for(var Eb=this.Bb - 1;0 <= Eb && this.Bb - Eb <= hb;--Eb){this.ja.offset=this.ly + Eb * this.Kt;Hb=this.cs(Ia);if(Hb.Mt != wb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Mt + " with silence of duration " + wb.duration);break;}if(this.Bz)(this.ja.offset-=this.Kt - (this.Az?4:0),this.ja.Fg(wb.Tj.byteLength));else if(wb.Tj.byteLength !== Hb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ta-=Hb.Qj;Ma.Jt(Hb.Qj,wb.Tj,za.xj + Ta);}}else for((Ta=this.Sp + this.mi,Eb=0);Eb < this.Bb && Eb < hb;++Eb){this.ja.offset=this.ly + (Eb + this.Zp) * this.Kt;Hb=this.cs(Ia);if(Hb.Mt != wb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Mt + " with silence of duration " + wb.duration);break;}if(this.Bz)(this.ja.offset-=this.Kt - (this.Az?4:0),this.ja.Fg(wb.Tj.byteLength));else if(wb.Tj.byteLength !== Hb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma.Jt(Hb.Qj,wb.Tj,za.xj + Ta);Ta+=Hb.Qj;}};y.La=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{vm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.ic();this.vm && this.u.kl();this.vm && this.u.ta();this.Rha=this.u.eb();this.Bb=this.u.ta();this.u.qz(this.Bb);return !0;};y.prototype.na=function(za,Ia){if(za && 0 === this.Rha){za=Ia?this.Bb - za:za;this.ja.offset=this.startOffset + 13 + (this.vm?8:0);this.Bb-=za;this.ja.Fg(this.Bb);this.UG=0;if(Ia)this.ja.offset+=this.Bb;else {for(Ia=0;Ia < za;++Ia){this.UG+=this.ja.eb();}this.ja.offset-=za;}this.we(za,this.u.offset);}return !0;};A.La=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{vm:{get:function(){return this.flags & 1;}}});A.prototype.parse=function(){this.ic();this.vm && this.u.kl();this.vm && this.u.ta();this.Qf=this.u.ta();C(1 === this.Qf,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Dj=0 === this.version?this.u.KG():this.u.Rqa();return !0;};A.prototype.na=function(za,Ia){this.Dj+=za;this.ja.offset=this.startOffset + 16 + (this.vm?8:0) + (0 === this.version?0:4);this.ja.NH(Ia,this.Dj);return !0;};z.La=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{vV:{get:function(){return this.flags & 1;}},zua:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(){this.ic();this.vV && (this.u.ta(),this.u.qz(16));this.Bb=this.u.ta();return !0;};z.prototype.na=function(za,Ia){var Ma,Ta;Ma=Ia?this.Bb - za:za;this.ja.offset=this.startOffset + 28 + (this.vV?20:0);this.Bb-=Ma;this.ja.Fg(this.Bb);za=this.ja.offset;if(this.zua)for(Ma=Ia?this.Bb:Ma;0 < Ma;--Ma){this.ja.offset+=8;Ta=this.ja.Gc();this.ja.offset+=6 * Ta;}else this.ja.offset+=8 * (Ia?this.Bb:Ma);Ia?this.we(this.length - (this.u.offset - this.startOffset),this.u.offset):this.we(this.u.offset - za,za);};B.La=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.ic();return !0;};B.prototype.na=function(za,Ia,Ma){Ma?this.we(Ia - za,this.startOffset + 12 + za):this.we(za,this.startOffset + 12);return !0;};D.La=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.ic();this.u.kl();1 === this.version && this.u.ta();this.Qf=this.u.ta();this.Nt=[];for(var za=0;za < this.Qf;++za){for(var Ia=this.u.ta(),Ma=this.u.ta(),Ta=0;Ta < Ia;++Ta){this.Nt.push(Ma);}}return !0;};D.prototype.na=function(za,Ia){this.Nt=Ia?this.Nt.slice(0,za):this.Nt.slice(za);za=this.Nt.reduce(function(Ma,Ta){0 !== Ma.length && Ma[Ma.length - 1].group === Ta || Ma.push({group:Ta,count:0});++Ma[Ma.length - 1].count;return Ma;},[]);this.ja.offset=this.startOffset + 16 + (1 === this.version?4:0);this.ja.Fg(za.length);za.forEach((function(Ma){this.ja.Fg(Ma.count);this.ja.Fg(Ma.group);}).bind(this));this.Qf > za.length && this.we(8 * (this.Qf - za.length));this.Qf=za.length;return !0;};E.La=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ta:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:X,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:q,traf:p,tfhd:v,trun:x,sbgp:D,sdtp:B,saiz:y,saio:A,tfdt:w,mdat:E,vmaf:d},Pta:{vpcC:u,SmDm:t("smdm"),CoLL:t("coll")},oX:{schm:ja},VG:{}};F([Qa,N,M,P,Fa,Wa,Xa,H,I,Ya,Sa,Q,S,L,R,a],X.Ta);F([ea,wa,sa,O,T,ma,qa,ua,Za,db],X.VG);F([Qa,ja],X.oX);X.Ta[b.CP]=h;X.Ta[b.Hw]=k;X.Ta[b.Gw]=n;X.Ta[b.BP]=z;X.VG[b.BD]=kb;X.mc=K;r.exports={Hp:X};},function(r,b){function a(c,f){var l,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.dc=f.Xb,this.fb=f.U):(this.dc=f,this.fb=l);}c.mb=function(f){return new c(f,1E3);};c.jX=function(f,l){return Math.floor(1E3 * f / l);};c.a6=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Xb:{get:function(){return this.dc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.dc / this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ug:{get:function(){return this.dc / this.fb;},enumerable:!0,configurable:!0}});c.prototype.Yf=function(f){f/=this.U;return new c(Math.floor(this.Xb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var l;if(this.U === f.U)return new c(this.Xb + f.Xb,this.U);l=a(this.U,f.U);return this.Yf(l).add(f.Yf(l));};c.prototype.Aa=function(f){return this.add(new c(-f.Xb,f.U));};c.prototype.rC=function(f){return new c(this.Xb * f,this.U);};c.prototype.Xk=function(f){var l;if(this.U === f.U)return this.Xb / f.Xb;l=a(this.U,f.U);return this.Yf(l).Xk(f.Yf(l));};c.prototype.I3=function(f){return a(this.U,f);};c.prototype.Xqa=function(){return new c(this.U,this.Xb);};c.prototype.compare=function(f,l){var m;if(this.U === l.U)return f(this.Xb,l.Xb);m=a(this.U,l.U);return f(this.Yf(m).Xb,l.Yf(m).Xb);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.o6=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.uv=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Un=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.Xb,timescale:this.U};};c.prototype.toString=function(){return this.Xb + "/" + this.U;};c.ab=new c(0,1);c.Hv=new c(1,1E3);return c;})();b.S=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.Gc();return !0;};return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);r.__exportStar(a(149),b);r.__exportStar(a(234),b);r.__exportStar(a(235),b);r.__exportStar(a(236),b);r=a(235);c=a(236);a=a(234);b.jp={3:a.OO,4:r.JO,5:c.t$};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.Gc();m=this.u.eb();this.gta=! !(m & 128);this.aca=! !(m & 64);this.Faa=! !(m & 32);this.gta && this.u.Gc();this.aca && this.u.qz(this.u.eb());this.Faa && this.u.Gc();this.YQ();return !0;};l.tag=3;return l;})(a(149).hD);b.OO=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.bpa=this.u.eb();this.u.eb();this.u.Gc();this.u.eb();this.maxBitrate=this.u.ta();this.Bfa=this.u.ta();this.YQ();return !0;};l.tag=4;return l;})(a(149).hD);b.JO=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(149);f=a(233);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.XV=function(){15 !== this.u.ec(4) || this.u.ec(24);};m.prototype.parse=function(d){if(this.kma(d) && 64 === d.bpa)switch((this.um=this.VV(),this.XV(),this.u.ec(4),this.Qia=5 === this.um || 29 === this.um?5:-1,0 < this.Qia && (this.XV(),this.um=this.VV(),22 === this.um && this.u.ec(4)),this.um)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.mT=this.u.ec(1),(this.Yha=this.u.ec(1)) && this.u.ec(14),this.u.ec(1),this.ny=3 === this.um?256:23 === this.um?this.mT?480:512:this.mT?960:1024);}this.skip();return !0;};m.prototype.VV=function(){var d;d=this.u.ec(5);31 === d && (d=32 + this.u.ec(6));return d;};m.prototype.kma=function(d){return d.tag === f.JO.tag;};m.tag=5;return m;})(r.hD);b.t$=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(399);f=a(230);l=a(400);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new l.KO(this.view.byteLength);this.ac=new c.eD(f.Hp.Ta,g,this.view,this.console,{zG:!0});d=this.ac.parse(d);this.Ta=this.ac.Ta;return d;};return m;})();b.qq=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cA=void 0;r=a(43);a=a(112);c=(function(){function f(l,m){this.a0=l;this.cJ=m.Ya;this.wu=m.kb;}Object.defineProperties(f.prototype,{Ya:{get:function(){return void 0 !== this.cJ?this.cJ:this.a0.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kb:{get:function(){return void 0 !== this.wu?this.wu:this.a0.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.a0.U;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oj:{get:function(){return this.a0.Oj;},enumerable:!1,configurable:!0}});f.prototype.DW=function(l){this.wu=l;};f.prototype.Gga=function(){this.wu=void 0;};return f;})();b.cA=c;r.wf(a.dA,c);r.wf(a.bA,c);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qO=void 0;c=a(2);r=c.__importDefault(a(123));f=a(113);l=a(175);a=(function(m){function d(g,h,k,n,q,p,t){h=m.call(this,g,h,k,n,q,p,t) || this;l.$t.nb(h,g,n);return h;}c.__extends(d,m);return d;})(f.bY);b.qO=a;r.default(l.$t.prototype,a.prototype);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SH=void 0;c=a(2);f=c.__importDefault(a(27));l=c.__importDefault(a(5));r=(function(m){function d(g,h,k,n,q){var p;p=m.call(this,k) || this;p.Wea=!1;d.nb(p,g,h,k,n,q);return p;}c.__extends(d,m);d.nb=function(g,h,k,n,q,p){g.Ne=n;g.zra=h;g.Cd=q;g.ZJa=h.location || k.location;g.dR=h.dd || k.zd;g.qsa=h.qsa || k.qsa;g.w8=l.default.time.ba();g.H=p;};Object.defineProperties(d.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.ZJa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zd:{get:function(){return this.dR;},enumerable:!1,configurable:!0}});d.prototype.nb=function(g){this.Oa=g;};d.prototype.Bsa=function(g,h){this.ZJa=g;this.dR=h;};d.prototype.Yda=function(g){var h,k,n;h={type:"logdata",target:"endplay",fields:{}};k=this.mediaType === f.default.Ra.Sb?"audioedit":"videoedit";n=[this.aL === this.X?this.vc:this.Mc,this.aL === this.X?-this.duration:this.duration];g && g.Yp && n.push(g.Yp);h.fields[k]={type:"array",value:n};return h;};d.prototype.oua=function(){var g,h;if(this.complete)return 0;g=this.zra;h=g.O;return g.url?this.url === g.url || (h.Bsa(this,g.location,g.dd),this.q8(g.url))?0:(this.H.warn("swapUrl failed: ",this.TK),2):(this.H.warn("updateurl, missing url for streamId:",g.Na,"mediaRequest:",this,"stream:",g),1);};return d;})(a(96).nw);b.SH=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(846),b);},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t){return t.Aa(d.S.mb(t.TG));}Object.defineProperties(b,{__esModule:{value:!0}});b.a$=b.kt=void 0;f=a(2);r=a(16);l=f.__importDefault(a(27));m=f.__importDefault(a(5));d=a(22);g=a(6);h=a(847);k=a(406);n=a(113);q=a(67);p=a(30);b.kt=c;a=(function(t){function u(v,w,x,y,A,z,B,D,E){var F,C;C=t.call(this) || this;C.H=v;C.tg=w;C.Bf=x;C.Wc=y;C.I=A;C.Eib=z;C.T=B;C.Lu=D;C.Og=E;C.$j=C.H.error.bind(C.H);C.Hb=C.H.warn.bind(C.H);C.rm=C.H.trace.bind(C.H);null === (F=y.events) || void 0 === F?void 0:F.addListener("ready",function(){C.vu();});C.koa=new h.vCa(C.I,C.tg,C.Bf.Yb,C.H);C.reset();return C;}f.__extends(u,t);Object.defineProperties(u.prototype,{endOfStream:{get:function(){return this.uQ;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{g1:{get:function(){return this.Wc?this.Wc.g1:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{UYb:{get:function(){return this.Ok.length;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zGb:{get:function(){return this.Di;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{m5a:{get:function(){return ! !this.Wc.Iwb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Jz:{get:function(){return ! !this.Wc.reset;},enumerable:!1,configurable:!0}});u.prototype.reset=function(v){var w,x,y,A;null === (w=this.sKa) || void 0 === w?void 0:w.Ab();this.sj=!1;v || (this.Ok=[]);this.Di=this.bda=this.uJ=void 0;this.Oca=!1;this.yda=void 0;this.e0=d.S.ab;this.ax=void 0;this.uQ=!1;this.iea(d.S.ab);null === (y=(x=this.Wc).reset) || void 0 === y?void 0:y.call(x);null === (A=this.koa) || void 0 === A?void 0:A.reset();};u.prototype.ASa=function(){this.bda=!0;};u.prototype.pause=function(){this.sj=!0;};u.prototype.resume=function(){this.sj=!1;this.vu();};u.prototype.by=function(){this.sj || this.vu();};u.prototype.oka=function(){var v;return null === (v=this.Di) || void 0 === v?void 0:v.Rd;};u.prototype.Fmb=function(v){var w;if(this.I.mRa){g.assert(v.Oa);w=v.Oa.xb;g.assert(void 0 !== v.Mc);g.assert(void 0 !== w.vc);if(v.Mc >= w.vc)return;}this.Ok.push(v);this.vu();};u.prototype.Hr=function(){this.vu();};u.prototype.q7=function(v){v=this.Ok.indexOf(v);-1 !== v && this.Ok.splice(v,1);};u.prototype.k_a=function(v,w){this.I.afa && w && void 0 === this.Di && this.FIa(v,0);this.vu();};u.prototype.r6=function(v){var w,x,y;w=this;if(!this.uQ && (this.uQ=!0,this.vu(),!this.m5a))if(v && this.Lu && this.I.pub){y=d.S.mb(this.I.K5a);v=v.Aa(y);y=q.Jua(this.Lu,v,!0);v=y.Cr;y=y.promise;null === (x=this.sKa) || void 0 === x?void 0:x.Ab();this.sKa=v;y.then(function(){w.uQ && w.Wc.endOfStream();});}else this.Wc.endOfStream();};u.prototype.N7=function(){return JSON.stringify(this.Ok);};u.prototype.iea=function(v){var w;null !== (w=this.oea) && void 0 !== w && w.equal(v) || (this.oea=v,this.Wc.gTb(v.Xb,v.U));};u.prototype.vu=function(){var v,w,x,y,A,z,B,D,E;w=this.I;if(this.Ok.length || this.Di && !this.Di.Qe)if(!this.Wc || !1 === this.Wc.ready)this.DJ("@" + m.default.time.ba() + ", append: not appending, sourceBuffer not ready");else if(!this.Di || this.Di.Qe || this.Di.Ws())if(this.Di && !this.Di.Qe || this.Ok.length)if(this.sj){x=this.Di && !this.Di.Qe?this.Di:this.Ok[0];this.DJ("@" + m.default.time.ba() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(x));}else if((!this.Di || this.Di.Qe || (this.dJa(this.Di),this.Di.Qe)) && this.Ok.length)if((x=this.Ok[0],x.aborted))(this.Hb("aborted MediaRequest should not appear in the toAppend list:",x.toString(),"complete:",x.complete),this.DJ("@" + m.default.time.ba() + ", append: removing aborted request from toAppend: " + x.toString()),this.Ok.shift());else {y=x.stream;A=y.O;if(y.zg)if(this.yTb(y,x.index))(this.bda=!1,this.FIa(y,x.index));else {z=this.T.Yn(A);B=this.lEb(y);if(z || B || !(this.Oca && y.track.IU || w.g9))if((y=this.IUa(x),this.tg !== l.default.Ra.Sb || !x.Fp && !x.tv || !x.na || w.yz || this.uQ || 1 !== this.Ok.length || !(y > w.VU) || null !== (v=x.bH) && void 0 !== v && v.R4)){if(w.mRa || w.iwb)if((v=x.Oa.xb,z=this.Kub())){D=v.hk;E=x.vc >= z;y=y > w.VU;if(z < v.vc && E && y && !D)return;}if(w.QMb && this.Og && (w=this.Og(A.Gb)) && !w.zR)this.pause();else {this.Oca || (this.Oca=B);this.Ok.shift();try{this.Gfb(x);}catch(F){throw (this.H.error(F),F);}}}else this.MRb();}}};u.prototype.MRb=function(){var v;v=this;this.Lu && (this.Kma?this.Kma.cFb || this.Kma.ml():this.Kma=this.Lu.sB(function(){return v.oGb();},"JIT Appender"));};u.prototype.oGb=function(){var v,w,x,y;return f.__generator(this,function(A){switch(A.label){case 0:if(1 !== this.Ok.length)return [3,3];v=this.Ok[0];if(!v.Fp && !v.tv || (null === (y=v.bH) || void 0 === y?0:y.R4))return [2];w=this.IUa(v);x=this.I.VU;return w > x?[4,q.mj.ZC(d.S.mb(w - x))]:[3,2];case 1:(A.$d(),A.label=2);case 2:return (this.vu(),[3,0]);case 3:return [2];}});};u.prototype.IUa=function(v){return v.Zc - this.T.Ce();};u.prototype.yTb=function(v,w){if(this.bda || void 0 === this.uJ || v.Na !== this.uJ.Na)return !0;v=v.zg;g.assert(v);return 1 < v.length?p.JMa(v,function(x){return x.Od <= w;}) !== this.uJ.OWa:!1;};u.prototype.lEb=function(v){if(0 === v.mediaType || !v.Jy)return !0;if(void 0 === this.uJ)return !1;v=v.zg;g.assert(v);return !1 === v[this.uJ.OWa].ik;};u.prototype.Kub=function(){throw Error("not supported");};u.prototype.Bfb=function(v){this.e0=k.AZ.n1(this.I,v.he,this.Bf.Yb,this.H);};u.prototype.FIa=function(v,w){var x;x=v.zg.reduce(function(y,A,z){return A.Od <= w?z:y;},0);if(this.Wc.appendBuffer(v.zg[x].data,{Pc:!0,profile:v.profile,bitrate:v.bitrate,Na:v.id}))(this.DJ("@" + m.default.time.ba() + ", header appended, streamId: " + v.Na),this.uJ={Na:v.Na,OWa:x},this.Mjb(v.O.Gb || 0,v.Na,x),this.Bfb(v),this.vu());else throw (this.Hb("appendHeader error: " + this.Wc.error),this.DJ("@" + m.default.time.ba() + ", appendHeader error: " + this.Wc.error),Error("appendHeaderError"));};u.prototype.Gfb=function(v){var w,x,y,A,z,B,D;y=v.f7 || d.S.ab;A=v.Oa.xb.P;A.Ea && Infinity !== A.Ea && (y=new d.S(A.Ea,1E3).add(y).Ug,Infinity === this.Bf.duration || this.Bf.duration < y) && (this.Bf.duration=y);if(this.koa){y=!0;A=!1;z=d.S.ab;B=void 0 !== v.Ut?d.S.mb(v.Ut).add(v.f7):void 0;D=null === (w=this.Ok[0]) || void 0 === w?void 0:w.Ui;w={endOfStream:this.endOfStream || !(null === (x=v.bH) || void 0 === x || !x.R4),I5:B,bV:D};x=this.koa.append(v,w);this.iea(x);}else (A=y=!1,z=d.S.ab,this.Lhb(v));this.ax && z && (this.ax=this.ax.add(z));this.dJa(v,y,A);};u.prototype.dJa=function(v,w,x){var y,A,z;x=v.LE(this.Wc,this.Bf.Yb,this.Di,this.Ok[0],w,x);w=x.status;(x=x.Jj) && this.emit(x.type,x);w !== n.ej.xf?(this.Di=v,w === n.ej.uw && (void 0 === this.ax || this.tg !== l.default.Ra.Sb || v.Ui.equal(this.ax) || (this.Hjb(v,this.ax),this.ax=void 0),this.DJ("@" + m.default.time.ba() + ", request appended, type: " + v.mediaType + ", streamId: " + v.Na + ", pts: " + v.Zc + "-" + v.Rd),v.Fp || v.tv?(this.ax=v.rf,this.$fb(v,this.oea || d.S.ab),null === (A=(y=this.Wc).Iwb) || void 0 === A?void 0:A.call(y,v.bH),(null === (z=v.bH) || void 0 === z?0:z.R4) && this.Eib && this.r6(v.rf)):this.ax=void 0,this.Njb(v),this.vu())):this.Ffb(v);};u.prototype.Ffb=function(v){if(void 0 !== this.Wc.error){if("done" === this.Wc.error)return;this.$j("failure to append queued mediaRequest:",null === v || void 0 === v?void 0:v.toString(),"err:",JSON.stringify(this.Wc.error));throw this.Wc.error;}v=Error("failure to append queued mediaRequest: " + (null === v || void 0 === v?void 0:v.toString()) + " err: " + this.Wc.error);this.$j(v.message);throw v;};u.prototype.Lhb=function(v){var w,x,y;x=v.f7 || d.S.ab;if(void 0 === this.yda || x && !x.equal(this.yda)){y=this.e0.add(x);this.iea(y);this.yda=x;}void 0 === this.Di && !this.I.H5 && v.stream.he && this.I.ck && (x=null === (w=v.Nc) || void 0 === w?void 0:w.Aa(v.stream.he).add(this.oea),x.lessThan(d.S.ab) && (w=Math.ceil(x.rC(-1).Xk(v.stream.qa)),v.IS(w)));};u.prototype.$fb=function(v,w){var x,y;x=v.stream.qa;y=v.Nd;this.I.ck && v.stream.he && (y=y.Aa(v.stream.he));c(y.Aa(x)).add(c(x)).add(c(w));};u.prototype.Mjb=function(v,w,x){v={type:"headerAppended",mediaType:this.tg,manifestIndex:v,streamId:w,isIndex:x};this.emit(v.type,v);};u.prototype.Njb=function(v){v={type:"requestAppended",mediaType:this.tg,request:v};this.emit(v.type,v);};u.prototype.DJ=function(v){v={type:"managerdebugevent",message:v};this.emit(v.type,v);};u.prototype.Hjb=function(v,w){var x;x=v.Mc;v=v.Ui.Aa(w).V;x={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[x,v]}}};this.emit(x.type,x);};return u;})(r.EventEmitter);b.a$=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.x3=b.Xlb=void 0;b.Xlb=function(a){return a.E7;};b.x3=function(a,c){return void 0 !== a.eM?a.eM:c && void 0 !== c.eM?c.eM:100;};},function(r,b,a){var f;function c(l,m){return l < m?-1:l > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.fZ=void 0;f=a(2);r=(function(){function l(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Qca(m);}}Object.defineProperties(l.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.data.push(m);this.rea(this.length - 1);};l.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Qca(0));return m;}};l.prototype.Jv=function(){return this.data[0];};l.prototype.HOb=function(m){m=this.data.indexOf(m);-1 !== m && this.rea(m);};l.prototype.map=function(m){return this.data.map(m);};l.prototype.find=function(m){return f.__read(this.data.filter(m),1)[0];};l.prototype.clear=function(){this.data=[];};l.prototype.remove=function(m){var d,g,h;d=this.data;m=d.indexOf(m);if(-1 !== m){g=d.pop();if(m < d.length){d[m]=g;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(g,d)?this.rea(m):this.Qca(m);}}};l.prototype.Vmb=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + m);}};l.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};l.prototype.rea=function(m){for(var d=this.data,g=this.compare,h=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= g(h,n))break;d[m]=n;m=k;}d[m]=h;};l.prototype.Qca=function(m){for(var d=this.data,g=this.compare,h=this.length >> 1,k=d[m],n,q,p;m < h;){n=(m << 1) + 1;p=d[n];q=n + 1;q < this.length && 0 > g(d[q],p) && (n=q,p=d[q]);if(0 <= g(p,k))break;d[m]=p;m=n;}d[m]=k;};return l;})();b.fZ=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$X=void 0;c=a(2);a(6);r=a(43);f=c.__importDefault(a(27));l=c.__importDefault(a(123));m=c.__importDefault(a(5));d=a(247);g=a(98);h=a(113);k=m.default.pq;n=a(867);a=c.__importDefault(a(868));m=(function(q){function p(t,u,v,w,x,y,A,z){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 9:B=q.call(this,t,u,B,v,w,y,A) || this;g.dm.nb(B,t,v,z);g00=7;break;case 7:return B;break;case 2:var p62="e";p62+="d";p62+="i";p62+="t";var z62="ca";z62+="c";z62+="he";var S62="1SI";S62+="YbZrNJCp";S62+="9";B=this;S62;B=[z62,p62].filter(function(D,E){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 4:return [x,v.na][E];break;h00=1;break;case 2:return [x,v.na][E];break;}}});B=B.length?"(" + B.join(",") + ")":"";void 0 === v.responseType && (v.responseType=v.na || k.Yb && !k.Yb.pW.RP?0:1);g00=9;break;}}}var f00;f00=2;for(;f00 !== 9;){switch(f00){case 2:c.__extends(p,q);p.create=function(t,u,v,w,x,y,A,z){var i00,B,D;i00=2;for(;i00 !== 11;){switch(i00){case 2:i00=!u.Xf && w.na && t.mediaType === f.default.Ra.Fb && k.Yb && k.Yb.pW.RP?1:5;break;case 7:z=Math.ceil(w.ca / B);i00=6;break;case 5:i00=w.YL && w.ca > w.YL?4:12;break;case 4:B=Math.ceil(w.ca / w.YL);y=w.offset;D=w.ca;x=new d.bD(t,w,x,u,A,z);i00=7;break;case 1:return new n.hva(t,v,w,x,y,u,A,z);break;case 14:var R62="s";R62+="ubr";R62+="eque";R62+="s";R62+="t";(B={offset:y,ca:Math.min(D,z),responseType:w.responseType},y+=B.ca,D-=B.ca,x.push(new h.bY(t,v,R62,B,x,u,A)));i00=6;break;case 13:return x;break;case 6:i00=0 < D?14:13;break;case 12:return new p(t,v,w,x,y,u,A,z);break;}}};p.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var s62="I";s62+="D";s62+=": ";return s62 + this.Jh() + ":" + g.dm.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.Jh(),request:g.dm.prototype.toJSON.call(this)};break;}}};return p;break;}}})(h.bY);b.$X=m;l.default(a.default,m.prototype);r.wf(g.dm,m,!1);},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bD=void 0;c=a(2);f=a(6);r=a(43);l=a(9);m=a(30);d=a(404);g=a(98);h=a(113);a=(function(k){function n(q,p,t,u,v,w){t=k.call(this,q,p,t,u,v) || this;g.dm.nb(t,q,p,w);t.Ic=0;t.na || t.th();t.Qe=!1;return t;}c.__extends(n,k);Object.defineProperties(n.prototype,{Pc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(q){this.Ic+=q.ca;k.prototype.push.call(this,q);};n.prototype.Ws=function(){var q;return !this.Qe && ! !this.Ba.length && !(null === (q=m.wg(this.Ba,function(p){return !p.Qe;})) || void 0 === q || !q.Ws());};n.prototype.LE=function(q,p){var t,u;f.assert(!this.Qe);t=h.ej.Icb;u=l.Gp(this);this.Qe=this.Ba.every(function(v){if(v.Qe)return !0;if(!v.Ws())return !1;t=v.LE(q,p,void 0,void 0,void 0,void 0,u).status;return t === h.ej.uw;});t !== h.ej.uw || this.Qe || (t=h.ej.ddb);return {status:t};};n.prototype.jQb=function(){this.Ba.forEach(function(q){q.bW();});};n.prototype.Jh=function(){return this.Ba?this.Ba[0].Jh() + "-" + this.Ba[this.Ba.length - 1].Jh():"empty";};n.prototype.toString=function(){return "ID: " + this.Jh() + ":" + g.dm.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Jh(),request:k.prototype.toJSON.call(this)};};return n;})(d.K9);b.bD=a;r.wf(g.dm,a);},function(r,b,a){var l,m,d,g,h,k,n,q;function c(p,t){return p.done?p:{value:{value:p.value,DLa:t}};}function f(p){p.DLa();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Zmb=b.jeb=b.cY=void 0;l=a(2);r=a(16);m=a(177);d=a(20);g=l.__importDefault(a(5));h=a(9);k=a(6);a=a(43);n=(function(){function p(t,u){this.console=t;this.If=u;this.kib=this.rQ=0;this.ag=[];this.console=h.dr(g.default,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{yub:{get:function(){return this.rQ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{TOa:{get:function(){var t,u,v;for(u=0;u < this.ag.length;u++){v=this.ag[u];if(!v.hU || (null === (t=v.item) || void 0 === t?0:t.done))break;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.If;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Iy:{get:function(){return 0 === this.If;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ara:{get:function(){var t;for(t=0;t < this.ag.length && this.ag[t].Cma;t++){;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var t;t=l.__read(this.ag,1)[0];return (t=t && t.item) && !t.done && t.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Loa:{get:function(){var t;for(t=0;t < this.ag.length && this.ag[t].hU;t++){;}return t;},enumerable:!1,configurable:!0}});p.prototype.u2=function(){var t;if(void 0 === this.If){t=this.console;d.ia && t && t.trace("QueueIterator: enqueueEnd");this.hua(this.Loa - (this.If || 0));}};p.prototype.uo=function(){return this.ag.map(function(t){return t.item;});};p.prototype.B8=function(){this.Vo || (this.Vo=this.ag.filter(function(t){return (null === t || void 0 === t?void 0:t.item) && !t.item.done;}).map(function(t){return t.item.value;}));return this.Vo;};p.prototype.hua=function(t){var u;d.ia && this.console.trace("updateCount",{D7b:this.If,AK:t});if(void 0 !== this.If){u=this.ag[this.If];u && this.fma(u);}this.If=void 0 === this.If?t:void 0 === t?t:this.If + t;void 0 !== this.If && (this.If=Math.max(0,this.If),(u=this.ag[this.If]) && u.WF.resolve({done:!0}));};p.prototype.enqueue=function(t){var u;d.ia && this.console.trace("Enqueue called");u=this.Loa;this.u1();return this.cPb(u,{value:t,done:!1}).rQa.promise;};p.prototype.M2a=function(){d.ia && this.console.trace("resetEnd");this.hua(void 0);};p.prototype.clear=function(t){var u,v,w;d.ia && this.console.trace("clear");this.B1a();u=this.Ara;v=this.ag.length - u;if(0 < v){w={index:u,Yoa:v};d.ia && this.console.trace("Removing items",w);this.ag.splice(u,v);this.u1();this.emit("onRemoved",w);}for(v=1;v < u;v++){this.fma(this.ag[v]);}this.If=void 0;this.hua(t?t + u:t);this.rQ && (this.rQ=0);};p.prototype.getIterator=function(){var t,u;t=this;u=h.dr(g.default,this.console,"QueueIteratorInstance::");return new q(this,function(v){return t.pUa(v);},u);};p.prototype.BK=function(){var t;if(0 < this.Ara){t=l.__read(this.ag,1)[0];if(t.hU)return (d.ia && this.console.trace("dequeue",t.id),this.B1a(1),this.emit("onDequeue",t.WF.promise));}};p.prototype.remove=function(t){var u,v,w;for(u=0;u < this.ag.length;u++){v=this.ag[u];w=v.item;if(w && !w.done && w.value === t){this.ag.splice(u,1);this.If && this.If > u && this.If--;this.u1();d.ia && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:u,Yoa:1});break;}}};p.prototype.B1a=function(t){var u;t=t || Math.min(this.Ara,this.Loa);if(0 < t){u=this.ag.splice(0,t);this.u1();this.If && (this.If-=t);d.ia && this.console.trace("pruned",t);Promise.resolve().then(function(){u.forEach(function(v){v.rQa.resolve();});});this.emit("onRemoved",{index:0,Yoa:t});this.rQ+=t;}};p.prototype.pUa=function(t){var u;d.ia && this.console.trace("getNextItemCalled",{offset:t});if(void 0 === this.count || 0 < this.count){this.kWa(t);u=this.ag[t];u.YQb.resolve();t=u.WF.promise;d.ia && this.console.trace("getNextItem:return",{id:u.id});}else (d.ia && this.console.trace("getNextItem:returnDone"),t=Promise.resolve({done:!0}));return t;};p.prototype.cPb=function(t,u){var v;v=!u.done && u.value;v=v && v.toJSON?v.toJSON():v;d.ia && this.console.trace("Providing result",{lmb:t,item:v});this.kWa(t);t=this.ag[t];v=t.WF.resolve;v(u);return t;};p.prototype.kWa=function(t){var u;if(void 0 === this.ag[t]){u={};this.fma(u);this.ag[t]=u;t === this.If && u.WF.resolve({done:!0});d.ia && this.console.trace("Item initialized",{lmb:t});}};p.prototype.oha=function(t){var u;u={};u.promise=new Promise(function(v,w){u.resolve=function(x){v(x);t && t(x);};u.reject=w;});return u;};p.prototype.fma=function(t){var u;u=this;t.WF=this.oha(function(v){t.item=v;t.hU=!0;d.ia && u.console.trace("Item resolved",{id:t.id});});t.id && t.Cma && !t.hU && (t.WF.resolve({done:!0}),d.ia && this.console.warn("Overwriting requested queue item",t.id));t.rQa=this.oha();t.YQb=this.oha(function(){t.Cma=!0;d.ia && u.console.trace("Item requested",{id:t.id});});t.id=this.kib++;t.Cma=!1;t.hU=!1;t.item=void 0;};p.prototype.u1=function(){this.Vo=void 0;};p.prototype.nzb=function(){var t,u,v;t=this;u=h.dr(g.default,this.console,"QueueIteratorInstance::");v=new q(this,function(w){var x,y;if(0 === t.count)return m.AsyncIterator.Xka();x=t.pUa(w);y=t.ag[0];return x.then(function(A){return c(A,function(){v.HL || (y === t.ag[0]?t.BK():k.assert(!t.ag.filter(function(z){return z.WF.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},u);return v;};return p;})();b.cY=n;a.wf(r.EventEmitter,n);q=(function(p){function t(u,v,w){var x;x=p.call(this,function(){d.ia && x.console.trace("Next item requested",{index:x.index});return x.vRb(x.index++);}) || this;x.parent=u;x.vRb=v;x.console=w;x.rJ=!1;x.index=0;x.lda=!1;x.J_a=function(y){var A;A=y.index;y=y.Yoa;x.index >= A && (x.index=Math.max(A,x.index - y));A=x.console;d.ia && A && A.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}l.__extends(t,p);t.prototype.hh=function(){this.console.trace("disposed");this.rJ=!0;this.Lc();p.prototype.hh.call(this);};t.prototype.next=function(){this.HL || this.FL();return p.prototype.next.call(this);};t.prototype.cancel=function(){this.Lc();return p.prototype.cancel.call(this);};t.prototype.Lc=function(){this.parent.tM("onRemoved",this.J_a);this.lda=!1;};t.prototype.FL=function(){this.lda || (this.lda=!0,this.parent.on("onRemoved",this.J_a));};return t;})(m.AsyncIterator);b.jeb=q;b.Zmb=function(p){return m.map(p,f);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.T6=void 0;c=a(15);b.T6=function(f){switch(f){case c.ka.$c:f=c.zc.$c;break;case c.ka.Af:f=c.zc.Af;break;case c.ka.$g:case c.ka.zi:case c.ka.vq:f=c.zc.zi;break;default:f=c.zc.Zj;}return f;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.UH=void 0;c=a(251);r=(function(){function f(l,m){var m00;m00=2;for(;m00 !== 3;){switch(m00){case 2:var U62="1";U62+="SIY";U62+="b";U62+="ZrNJC";U62+="p9";this.config=l;this.WL=m;this.ufa=null;U62;m00=3;break;}}}var l00;l00=2;for(;l00 !== 3;){switch(l00){case 4:return f;break;case 2:f.prototype.CQa=function(l,m){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 2:d=null === this.ufa?l * (100 - this.config.u8) / 100:c.cfa(l,this.ufa);m=null !== m && void 0 !== m?m:this.WL;this.config.fna && m?(l=c.cfa(l,m),l=Math.max(l,d)):l=d;return l;break;}}};f.prototype.tN=function(l){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 4:this.ufa=l;o00=8;break;o00=1;break;case 2:this.ufa=l;o00=1;break;}}};f.prototype.fua=function(l){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:this.config=l;p00=1;break;case 4:this.config=l;p00=4;break;p00=1;break;}}};l00=4;break;}}})();b.UH=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cfa=b.DC=b.MRa=void 0;c=a(2).__importDefault(a(110)).default.NRa;b.MRa=function(f,l,m){var d,g,h;d=0;if(m){f.some(function(k){var n;n=k.b;k=k.m;if(l <= n)return (d=h && n !== g?h + (k - h) / (n - g) * (l - g):k,!0);g=n;d=h=k;return !1;});}else f.some(function(k){d=k.m;return l <= k.b;});return d;};b.DC=function(f,l,m){var d;l=(null === (d=l.Pa) || void 0 === d?void 0:d.Ca) || 0;return f.mnb?(f=c(f.lnb,m.Fl - m.wc,1),l * (1 - f)):l * f.u8 / 100;};b.cfa=function(f,l){return f < 2 * l?f / 2:f - l;};},function(r,b,a){var m;function c(){}function f(d,g){this.Nq=d;void 0 !== g?(m(g <= d.Xl,"require remain_sec <= chunk.sec but has " + g + " and " + d.Xl),this.yk=g):this.yk=d.Xl;}function l(d){void 0 === d && (d=[]);this.mo=[];this.Xg=this.pl=0;for(var g in d){this.add(d[g],void 0);}}m=a(6).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.xs=function(){return new f(this.Nq,this.yk);};l.prototype.constructor=l;l.prototype.add=function(d,g){d=new f(d,g);this.mo.push(d);this.Xg+=d.yk;this.pl+=d.Nq.vy() * d.yk;};l.prototype.xs=function(){var d,g;d=new l(void 0);for(g in this.mo){d.add(this.mo[g].Nq,this.mo[g].yk);}return d;};l.prototype.Qs=function(){try{return this.mo[0];}catch(d){}};l.prototype.O0a=function(d){var g;for(m(0 <= d,"unexpected play_for_x_sec: x=" + d);0 < d;){if(void 0 === this.Qs())throw new c();if(d < this.Qs().yk){g=this.Qs().Nq.vy() * d;this.Qs().yk-=d;this.Xg-=d;this.pl-=g;d=0;}else (g=this.mo.shift(),this.Xg-=g.yk,this.pl-=g.Nq.vy() * g.yk,d-=g.yk);}};l.prototype.wNb=function(d){var h;m(0 <= d,"unexpected play_y_kb: y=" + d);for(var g=0;0 < d;){if(void 0 === this.Qs())throw new c();if(d < this.Qs().yk * this.Qs().Nq.vy()){h=d / this.Qs().Nq.vy();this.Qs().yk-=h;this.Xg-=h;this.pl-=d;g+=h;d=0;}else (h=this.mo.shift(),this.Xg-=h.yk,this.pl-=h.Nq.vy() * h.yk,g+=h.yk,d-=h.Nq.vy() * h.yk);}return g;};r.exports={fwa:l,p9a:c};},function(r){r.exports={CBa:{code:-1,description:"MediaCache is not supported."},G2b:{code:100,description:"Resource was not found"},fcb:{code:101,description:"Resource Metadata was not found"},EI:{code:102,description:"Read failed",iq:function(b,a){return {code:this.code,description:b,cause:a};}},a_:{code:200,description:"Daily write limit exceeded"},VH:{code:201,description:"Capacity has been exceeded"},$Z:{code:202,description:"Write failed, cause unknown",iq:function(b,a){return {code:this.code,description:b,cause:a};}},E3b:{code:203,description:"Write failed, cause unknown"},l$a:{code:300,description:"Failed to delete resource",iq:function(b,a){return {code:this.code,description:b,cause:a};}},kA:{code:900,description:"Invalid partition name"},Fbb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},kxa:{code:701,description:"Failed to initialize underlying disk cache."},ecb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={oVa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var f;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(l){c.error && c.error.code == l.error.code && c.error.description === l.error.description && (f=l);});f?f.resources.push(c.Vp):a.push({error:c.error,resources:[c.Vp]});});return a;}},kTa:function(b){var a;a={freeSize:b.Fm,dailyBytesRemaining:b.xK,bytesWritten:b.ek,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.vk,itemBytes:c.X4,error:c.error};}));return a;},Pv:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DF=void 0;c=a(2).__importDefault(a(5));f=a(932);b.DF=function(){var m;if(!l){m=new c.default.Console("ASEJS","media|asejs");l=new f.Yua(m);}return l;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QZ=void 0;r=a(16);c=a(43);f=a(22);a=(function(){function l(m){void 0 === m && (m={sk:!1,currentTime:f.S.ab,speed:1});this.Jc={sk:function(){return "function" === typeof m.sk?m.sk():m.sk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(l.prototype,{sk:{get:function(){return this.Jc.sk();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.Jc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){return this.Jc.speed();},enumerable:!1,configurable:!0}});return l;})();b.QZ=a;c.wf(r.EventEmitter,a);},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.AA=void 0;c=a(2);f=a(20);l=a(9);m=a(53);r=(function(){function d(g,h){this.Ph=g;this.options=c.__assign({Jpb:!0},h);}Object.defineProperties(d.prototype,{sC:{get:function(){return "trace-" + this.Ph.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ji:{get:function(){return this.sC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});d.prototype.Rn=function(g){var h,k;if(g.ii === m.Ud.np || g.ii === m.Ud.hn){h=l.fQa(this.Ph.kGb);k=this.Ph.KDb;g.ii === m.Ud.np && this.options.Jpb && this.Ph.clear();g=h;Object.keys(k).length && (g=c.__spread(h,[k]));return g;}};d.prototype.Ab=function(){this.Ph.Ab();};return d;})();b.AA=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.E3=b.Cp=b.isEqual=b.lU=void 0;c=a(9);b.lU=function(f){return ! !f.$;};b.isEqual=function(f,l){var m,d;m=b.lU(f);d=b.lU(l);return m === d?m?f.$ === l.$:f.Da === l.Da:!1;};b.Cp=function(f){if(b.lU(f))return f.$;f=f.Da;return f.wa[f.Te].$;};b.E3=function(f,l){return f.a1?f.a1 instanceof c.S?{offset:f.a1,va:l.Te}:f.a1:{offset:c.S.ab,va:l.Te};};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;c=a(7);f=a(3);l=a(438);m=a(439);d=a(61);b.Rua=function(g,h){var k,n;try{n=l.R7a(g);}catch(q){c.log.error("xml2xmlDoc exception",q);}d.gg(function(){if(n && n.documentElement)try{k=m.S7a(n);}catch(q){c.log.error("xmlDoc2js exception",q);}d.gg(function(){k?h({W:!0,object:k}):h({W:!1,oa:f.L.Sya});});});};},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Ika:function(){return this.buffer.length - this.position;},rz:function(){return this.buffer[this.position++];},ph:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Qp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Nqa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Tg:function(){return this.Qp(2);},Rp:function(){return this.Qp(4);},UM:function(){return this.Qp(8);},Tv:function(a){for(var c,f="";a--;){c=this.rz();f+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return f;},Qqa:function(a){for(var c=0,f=0;f < a;f++){c+=this.rz() << (f << 3);}return c;},TM:function(){return this.Qqa(4);},QX:function(a){this.iO(a,2);},Zz:function(a){this.iO(a,4);},j9:function(a){this.buffer[this.position++]=a;},iO:function(a,c){this.position+=c;for(var f=1;f <= c;f++){this.buffer[this.position - f]=a & 255;a=Math.floor(a / 256);}},Yz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},PX:function(a){for(var c=a.length,f=0;f < c;f++){this.buffer[this.position++]=a[f];}},hO:function(a,c){this.PX(a.ph(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iBa="LogMessageRulerConfigSymbol";b.kBa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yaa="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nZ="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xaa="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,g,h,k,n,q;function c(p,t,u,v){this.xa=p;this.N3=t;this.Ja=u;this.profile=v;}function f(){}function l(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=b.wZ=void 0;r=a(1);d=a(0);g=a(40);h=a(4);k=a(14);n=a(19);a=a(89);m.prototype.encode=function(p){return {downloadableId:p.Dd,duration:p.duration};};m.prototype.decode=function(p){return {Dd:p.downloadableId,duration:p.duration};};l.prototype.encode=function(p){return {total:p.total,totalContentTime:p.zH,audio:p.audio.map(new m().encode),video:p.video.map(new m().encode),text:p.text.map(new m().encode)};};l.prototype.decode=function(p){var t;return {total:p.total,zH:null !== (t=p.totalContentTime) && void 0 !== t?t:p.total,audio:p.audio.map(new m().decode),video:p.video.map(new m().decode),text:p.text.map(new m().decode)};};f.prototype.encode=function(p){return {type:p.type,href:p.href,xid:p.da,movieId:p.K,position:p.position,clientTime:p.aS,sessionStartTime:p.zW,videoTrackId:p.dO,audioTrackId:p.cp,timedTextTrackId:p.hX,mediaId:p.$L,playTimes:new l().encode(p.EV),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,sessionParams:p.po,mdxControllerEsn:p.coa,profileId:p.profileId};};f.prototype.decode=function(p){return {type:p.type,href:p.href,da:p.xid,K:p.movieId,position:p.position,aS:p.clientTime,zW:p.sessionStartTime,dO:p.videoTrackId,cp:p.audioTrackId,hX:p.timedTextTrackId,$L:p.mediaId,EV:new l().decode(p.playTimes),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,po:p.sessionParams,coa:p.mdxControllerEsn,profileId:p.profileId};};b.wZ=f;c.prototype.create=function(p){var t,u,v;return {href:p.sa && p.sa.Hj?p.sa.Hj.zT("events").href:"",type:"online",da:p.da.toString(),K:p.K,position:Math.floor(p.xha || 0),aS:this.xa.O7.ea(h.ma),zW:p.EL?p.EL.ea(h.ma):-1,dO:null === (t=p.Rh.value) || void 0 === t?void 0:t.trackId,cp:null === (u=p.Wd.value) || void 0 === u?void 0:u.trackId,hX:null === (v=p.Uc.value) || void 0 === v?void 0:v.trackId,$L:void 0,EV:this.HBb(p),trackId:void 0 !== p.Dk?p.Dk.toString():"",sessionId:this.N3().sessionId || this.Ja.id,appId:this.N3().appId || this.Ja.id,po:p.ib.po || ({}),profileId:this.profile};};c.prototype.Isb=function(p,t){return Object.assign({},this.create(p),{coa:t && t.H1});};c.prototype.load=function(p){return new f().decode(p);};c.prototype.Dka=function(p){return p.map(function(t){return {Dd:t.downloadableId,duration:t.duration};});};c.prototype.HBb=function(p){return (p=p.jo)?(p=p.GBb(),{total:p.total,zH:p.totalContentTime,audio:this.Dka(p.audio),video:this.Dka(p.video),text:this.Dka(p.timedtext)}):{total:0,zH:0,video:[],audio:[],text:[]};};q=c;q=r.__decorate([d.R(),r.__param(0,d.l(g.vi)),r.__param(1,d.l(k.Vc)),r.__param(2,d.l(n.rd)),r.__param(3,d.l(a.MP))],q);b.fEa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lEa="PboPlaydataValidatorSymbol";b.cEa="PboPlaydataArrayValidatorSymbol";b.eEa="PboPlaydataCollectionValidatorSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kY=void 0;f=a(11);c.gha=function(l){var m;if(f.Ke.queryCommandSupported && f.Ke.queryCommandSupported("copy")){m=f.Ke.createElement("textarea");m.textContent=l;m.style.position="fixed";f.Ke.body.appendChild(m);m.select();try{f.Ke.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.Ke.body.removeChild(m);}}};b.kY=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.kaa=void 0;b.kaa=a;a.n$a="display";a.E9a="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sU=void 0;b.sU=function(a,c,f){var l;if(f.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");l=f.get;f.get=function(){var m,d;m=l.apply(this,arguments);d={enumerable:f.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tba=b.DI=void 0;r=b.DI || (b.DI={});r.DVb="taskstart";r.BVb="taskabort";r.CVb="taskfail";r.EVb="tasksuccess";b.tba="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d$="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tva="AsePrefetcherAdapterSymbol";b.uva="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.O9=b.Ud=void 0;r=b.Ud || (b.Ud={});r[r.Tt=0]="startPlayback";r[r.np=1]="endPlayback";r[r.hn=2]="underflow";b.O9="AseIntegrationFactorySymbol";},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.oH=void 0;c=a(12);f=a(13);l=a(63);m=a(50);d=a(3);g=a(21);h=a(7);k=a(24);n=a(11);q=a(275);p=a(18);r=a(32);h.ha.get(r.Yg).register(d.M.aAa,function(t){var w,x,y;function u(){var A;u=c.Ik;A=setInterval(v,f.config.HHb);l.nf.addListener(l.Hm,function(z){z && z.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):(k.ee(x,function(B,D){localStorage.removeItem(D.ar);}),clearInterval(A));},c.HD);}function v(){var A;A=m.w1();k.ee(x,function(z,B){!1;z=localStorage.getItem(B.ar);(z=JSON.parse(z))?z.updated=A:z={updated:A,sessionId:y,count:1};localStorage.setItem(B.ar,JSON.stringify(z));});}g.hb(q.storage);w=h.hi("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.oH={qx:function(A,z,B){var E,F,C,G,J,K,H,L,R,I;function D(Q){localStorage.setItem(C,JSON.stringify(Q));Q={ar:C};x[C]=Q;w.trace("Lock acquired",{Name:Q.ar});u();z({W:!0,o5:Q});}E=this;B=void 0 === B?!1:B;if(localStorage){F=m.w1();C="lock-" + A;G={updated:F,sessionId:y,count:1};try{if((C in localStorage)){J=localStorage.getItem(C);K=0;H=JSON.parse(J);p.Ly(H.updated) && (K=H.updated);L=n.wD(F - K) * c.Hk;R=y === H.sessionId;if(L < f.config.aYa){if(R)(H.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:y,count:H.count}),H.updated=F,D(H));else if(B){I=f.config.aYa - L + c.Hk;w.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:H.count,Epoch:F,LockEpoch:K,waitTimeoutMs:I});pb.setTimeout(function(){return E.qx(A,z,!1);},I);}else z({W:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),D(G));}else D(G);}catch(Q){w.error("Error acquiring Lock",{errorSubCode:d.L.gj,errorDetails:k.wd(Q)});z({W:!0});}}else (n.ina?w.error("Local storage access exception",{errorSubCode:d.L.Jeb,errorDetails:k.wd(n.ina)}):w.error("No localstorage",{errorSubCode:d.L.Keb}),z({W:!0}));},release:function(A,z){var B,D;g.hb(x[A.ar] == A);if(localStorage){try{B=localStorage.getItem(A.ar);D=JSON.parse(B);1 < D.count?(--D.count,localStorage.setItem(A.ar,JSON.stringify(D)),w.trace("Lock count decremented",{Name:A.ar,count:D.count})):(localStorage.removeItem(A.ar),delete x[A.ar],w.trace("Lock released",{Name:A.ar}));}catch(E){w.error("Unable to release Lock",{Name:A.ar},E);}z && z(c.Le);}}};f.config.s2?b.oH.qx("session",function(A){b.oH.D3a=A;t(c.Le);}):t(c.Le);});},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(13);f=a(12);l=a(493);r=a(3);m=a(494);d=a(496);g=a(7);a=a(32);b.storage=b.storage || void 0;g.ha.get(a.Yg).register(r.M.$za,function(h){var k;switch(c.config.EUb){case "idb":k=m.V4a;break;case "none":k=l.X4a;break;case "ls":k=d.W4a;}k(function(n){n.W?(b.storage=n.storage,h(f.Le)):h(n);});});},function(r,b,a){var l,m,d,g,h,k,n,q,p,t,u,v;function c(w,x){var A;function y(){function z(B,D){return D.fe && 0 !== D.fe.length && D.fe[0].bG?l.vz(w,D).then(function(){A.trace("Successfully released license for session",JSON.stringify(D));return B?B.eW(D):Promise.resolve();}).catch(function(E){A.error("Unable to send stop command for session",JSON.stringify({Ob:D,error:E}));throw E;}):(A.error("releaseDrmSession exception: missing valid keySessionData"),B?B.eW(D):Promise.resolve());}f(A).then(function(B){var D;D=B.l2.filter(function(E){return !1 === E.active;}).map(function(E){return z(B,E);});Promise.all(D).then(function(){A.info("release drm session completed for " + D.length + " entries");x(m.Le);}).catch(function(E){E=E || ({});E.DrmCacheSize=D.length;A.error("Unable to release one or more DRM session data",E);x(m.Le);});}).catch(function(B){A.error("Unable to load DRM session data",B);x(m.Le);});}A=k.hi("PlayDataManager");x=x || m.Ik;d.config.cq?x(m.Le):y();}function f(w){var x;if(!b.nia){x=k.ha.get(n.e$);b.nia=new Promise(function(y,A){x.N1a().then(function(){y(x);}).catch(function(z){w.error("Unable to load DRM data for license release",z);A(z);});});}return b.nia;}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=b.yEa=b.nia=void 0;l=a(277);m=a(12);d=a(13);g=a(63);h=a(34);k=a(7);r=a(3);n=a(201);q=a(184);p=a(17);t=a(54);u=a(32);v=a(197);b.yEa=function(w){var A,z,B,D,E,F;function x(){z || (w.Qd("pdsb"),z=k.ha.get(q.xZ)().then(function(C){D=C;w.Qd("pdsc");return C;}).catch(function(C){A.error("Unable to initialize the playdata services",C);w.Qd("pdse");throw C;}));return z;}function y(){B=!0;D && D.close();g.nf.removeListener(g.Hm,y);}A=k.ih(w,"PlayDataManager");B=!1;E=k.ha.get(h.tA);if(!E.eI || !E.cI){F=k.ha.get(v.eba)();E.eI=F.Ob;E.cI=F.request;}w.Qd("pdctor");w.addEventListener(p.Z.yg,function(){g.nf.removeListener(g.Hm,y);});w.addEventListener(p.Z.TL,function(){var C;if(!d.config.cq && w.Ye){C=w.iS.wPa();f(A).then(function(G){return G.JLa(C);}).catch(function(){A.error("Unable to load/add cached DRM data");});}});w.addEventListener(p.Z.yg,function(){var C;if(!B){w.SYb();C=[(function(){return d.config.cq || !w.Ye?Promise.resolve():new Promise(function(G){var J;A.info("Sending the expedited playdata");J=w.iS.wPa();w.Ye.SRa(J).then(function(){A.info("Sent the expedited playdata");return f(A);}).then(function(K){return K?K.eW(J):Promise.resolve();}).then(function(){G(void 0);}).catch(function(K){A.error("Unable to send the expedited playdata",K);G();});});})(),(function(){return x().then(function(G){return G.U4a(w.ga);}).then(function(){A.info("Sent the playdata");}).catch(function(G){A.error("Unable to send the playdata",G);});})(),(function(){return new Promise(function(G){k.ha.get(t.Co).flush(!1).catch(function(){A.error("Unable to send logblob");G(void 0);}).then(function(){G(void 0);});});})()];Promise.all(C).then(function(){w.q6();}).catch(function(){w.q6();});}});g.nf.addListener(g.Hm,y);return {hSb:function(C){w.Qd("pdpb");d.config.L7 || x().then(function(G){return G.send(w.K);}).then(function(){d.config.cq?(w.Qd("pdpc"),C(m.Le)):c(w,function(){w.Qd("pdpc");C(m.Le);});}).catch(function(){w.Qd("pdpe");C(m.Le);});}};};b.zEa=function(){return new Promise(function(w){c({},function(x){w(x);});});};k.ha.get(u.Yg).register(r.M.jA,function(w){w(m.Le);});},function(r,b,a){var l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A;function c(z){var B;B=this;this.j=z;this.jNa=this.RXa=!1;this.log=g.ih(this.j,"Playback");this.SL=g.ha.get(t.qP);this.Kh=g.ha.get(w.qu);this.TMb=g.ha.get(x.Vaa);this.el=g.ha.get(A.vD);this.j.addEventListener(v.Z.TL,function(){return B.NXb();});h.hb(m.config);m.config.cq || (this.Bvb=g.ha.get(k.Sxa));}function f(z,B){var E;function D(F){return F && 0 < F.length && F[0].bG;}E=g.ha.get(t.qP);return z.da && D(z.fe)?E.release({da:z.da,fe:z.fe}).then(function(){}):B.da && D(B.fe)?E.release(B).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.vz=b.Ywa=void 0;l=a(12);m=a(13);d=a(50);g=a(7);h=a(21);k=a(305);n=a(3);q=a(65);p=a(18);t=a(183);u=a(470);v=a(17);w=a(71);x=a(278);y=a(34);A=a(117);c.prototype.KR=function(z){var B;B=this;h.yK(this.j.K);h.yK(this.j.Dk);Promise.all([this.j.sa,m.config.Nv && this.el.R3(this.j.K)?this.el.g3(this.j.K):void 0]).then(function(D){var E,F;E=aa(D);D=E.next().value;E=E.next().value;D && E?F=m.config.cOb || E.Tc.expiration > D.Tc.expiration?E:D:D?F=D:E && (F=E);F && 18E5 > F.Tc.expiration - d.Kga() && (F=void 0);return F?(B.j.SE=F === D?"ui":"videopreparer",F):B.j.s3a();}).then(function(D){try{B.j.t1a(D);z(l.Le);B.Zxb();}catch(E){B.log.error("Exception processing authorization response",E);z({W:!1,oa:n.L.Udb});}}).catch(z);};c.prototype.CF=function(z){var B;B=this;return new Promise(function(D,E){var F,C,G;F=q.mq.nPa(z.Tf);C=z.Aj.map(function(J){return {sessionId:J.sessionId,dataBase64:g.gB(J.data)};});G=B.j.JBb(z.Aj[0].sessionId);F={Ti:G.Ti,Tf:p.is.Fn(z.Tf)?z.Tf:F,k2:[G.Jl],Aj:C,da:G.da,Pn:z.Pn,Hj:G.sa.Hj};B.j.nK && B.j.nK.H1 && (F.KU=B.j.nK.H1);B.SL.qx(F).then(function(J){B.j.fe=J.fe;D(J);B.$xb(G);}).catch(E);});};c.prototype.release=function(z){return f(this.j,z);};c.prototype.wPa=function(){var z;z=this.Bvb.create();z.fe=this.j.fe;z.da=this.j.da;z.K=this.j.K;return z;};c.prototype.$xb=function(z){this.RXa || (this.RXa=!0,this.j.fireEvent(v.Z.TL,{K:z.K}));};c.prototype.Zxb=function(){this.jNa || (this.jNa=!0,this.j.fireEvent(v.Z.Ymb),g.ha.get(u.hEa).Tt(this.j));};c.prototype.NXb=function(){var z,B;z=this;B=g.ha.get(y.Kk);this.Kh.wma || c.Y6a || (c.Y6a=!0,B.Aua && m.config.MXb && this.TMb.Rf(this.log,{}).then(function(){return z.log.trace("Updated NetflixId");}).catch(function(D){return z.log.error("NetflixId upgrade failed",n.Pr(D));}));};b.Ywa=c;c.Y6a=!1;b.vz=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vaa="PboBindCommandSymbol";},function(r,b,a){var l,m,d,g,h,k,n,q,p,t,u,v;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function f(w,x,y,A,z){var B,D;B=this;this.j=w;this.type=x;this.GIa=A;this.log=z;this.Q_=new g.Ac(!1);this.$D={data:[],state:"",operation:""};this.mimeType=this.VRa((this.type === l.Pb.Ra.Fb?this.j.Rh.value:this.j.Wd.value).streams);this.Xr=new h.Xj();this.Bda={Type:this.type};if(d.config.eC){D=!0;this.lja=new g.Ac(!1);}this.log.trace("Adding source buffer",this.Bda,{TypeId:this.mimeType});this.Wc=y.addSourceBuffer(this.mimeType);this.Wc.addEventListener("updatestart",function(){!1;B.$D.state="updatestart";});this.Wc.addEventListener("update",function(){!1;B.$D.state="update";});this.Wc.addEventListener("updateend",function(){var E;!1;B.Q_.set(!1);B.OIa && B.OIa();B.$D.state="updateend";E=0;try{E=B.Wc.buffered.length;}catch(F){}D && E && (D=!1,B.lja.set(!0),!1);});this.Wc.addEventListener("error",function(E){var F;!1;try{F=E.target.error && E.target.error.message;(E.message || F) && z.error("error event received on sourcebuffer",{mediaErrorMessage:E.message});}catch(C){}w.Md(n.M.Odb,m.n3(B.type));});this.Wc.addEventListener("abort",function(){!1;});w.addEventListener(t.Z.closed,function(){B.Wc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.P9a=b.vaa=void 0;l=a(52);m=a(170);d=a(13);g=a(105);h=a(73);k=a(7);a(94);n=a(3);a(4);q=a(21);p=a(18);t=a(17);u=a(139);v=a(188);f.prototype.gi=function(){return this.Q_.value;};f.prototype.updating=function(){return this.Wc?this.Wc.updating:!1;};f.prototype.R7=function(w){this.OIa=w;};f.prototype.i3=function(){return this.$D;};f.prototype.buffered=function(){return this.Wc.buffered;};f.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};f.prototype.toJSON=function(){return {type:this.type};};f.prototype.f3=function(){var w,x,y,A,z,B,D;try{w=this.Wc.buffered;x=0;if(w){y=[];A=0;z=w.length;for(A=0;A < z;A++){B=w.start(A);D=w.end(A);x+=D - B;q.hb(D > B);y.push(B + "-" + D);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(E){}};f.prototype.AMa=function(w,x){!1;try{q.hb(this.Wc.buffered && 1 >= this.Wc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.f3()));}catch(y){}q.hb(!this.gi());this.i4a("append",w);x=x && x.Gt / 1E3;p.ya(x) && this.Wc.timestampOffset !== x && (!1,this.Wc.timestampOffset=x);this.Wc.appendBuffer(w);!1;this.Q_.set(!0);};f.prototype.remove=function(w,x){q.hb(!this.gi());try{this.i4a("remove");!1;this.Wc.remove(w,x);this.Q_.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Bda);}};f.prototype.i4a=function(w,x){this.$D.data=x || [];this.$D.state="init";this.$D.operation=w;};f.prototype.gTb=function(w,x){this.OGb=Math.floor(1E3 * w / x);};f.prototype.Zob=function(w){var x;if(this.Wc){if((w=this.VRa([{type:this.yqb,Kg:w}]),w !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.Wc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Wc.changeType(w);this.mimeType=w;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Bda,{From:x,To:w}),new c(y.message));}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(w,x){!x || x.Pc?this.bfa(w,x):this.Q0(w,x);return !0;};f.prototype.bfa=function(w,x){this.j.Cg.bfa(this,w,x || ({}));};f.prototype.Q0=function(w,x){w=this.sqb(w,x);!1;this.j.Cg.Q0(w);};f.prototype.sqb=function(w,x){var y;y=this.OGb || 0;return {tOa:function(){this.response=void 0;},Jh:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:v.cc.Bc.DONE,oz:x.X,Qv:x.X + x.duration,cy:x.duration,Gt:y,Bj:x.Bj,va:x.va,Na:x.Na,zd:+x.zd,location:x.location,gK:x.offset,fK:x.offset + x.ca - 1,bitrate:x.bitrate,response:w,yVa:w && 0 < w.byteLength,ZB:!0,get Pc() {return !this.ZB;},m3a:this.pj - y || Infinity,toJSON:function(){var A;A={requestId:this.requestId,segmentId:this.va,isHeader:this.Pc,ptsStart:this.oz,ptsOffset:this.Gt,responseType:this.W3b,duration:this.cy,readystate:this.dh};this.stream && (A.bitrate=this.stream.bitrate);return JSON.stringify(A);}};};f.prototype.endOfStream=function(){var w;this.j.IE("EndOfStream");null === (w=this.j.Cg) || void 0 === w?void 0:w.r6(this.mediaType);};f.prototype.addEventListener=function(w,x,y){this.Xr.addListener(w,x,y);};f.prototype.removeEventListener=function(w,x){this.Xr.removeListener(w,x);};f.prototype.VRa=function(w){var x;x=k.ha.get(u.SP);return this.type === l.Pb.Ra.Fb?x.N1(w):x.K1(w);};Va.Object.defineProperties(f.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},g1:{configurable:!0,enumerable:!0,get:function(){return this.GIa.g1;}},NW:{configurable:!0,enumerable:!0,get:function(){return this.GIa.NW;}},yqb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.vaa=f;ka(c,Error);b.P9a=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.RPa=b.Fna=void 0;c=a(21);f=a(24);l=a(18);(function(){var d,g,h;function m(k){c.hb(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;h=/[", ]/;b.RPa=function(k){return l.Kc(k)?l.ya(k)?k:l.Fe(k)?k.replace(g,m):l.jma(k)?k:isNaN(k)?"NaN":"":"";};b.Fna=function(k){var n,q;n=b.RPa;q="";f.ee(k,function(p,t){p=n(p) + "=" + n(t);h.test(p) && (p='"' + p + '"');q=q?q + ("," + p):p;});return q;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kj=void 0;r=b.kj || (b.kj={});r[r.F4a=1]="sourceopen";r[r.Pq=2]="currentTimeChanged";r[r.vW=3]="seeked";r[r.QXa=5]="licenseadded";r[r.E4a=6]="sourceBuffersAdded";r[r.z6=7]="onNeedKey";},function(r,b,a){var C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa,O,T,ma,ja,Qa,Fa,Wa,Xa,db,Za,kb,Ya;function c(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function f(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function l(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function m(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);this.hH=Sa.config.hH;this.gd=this.sizes=void 0;}function d(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function g(){for(var Sa=new DataView(this),za="",Ia,Ma=0;Ma < this.byteLength;Ma++){Ia=Sa.getUint8(Ma);za+=("00" + Ia.toString(16)).slice(-2);}return za;}function h(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function k(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function n(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function q(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function p(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function t(Sa){function za(Ia,Ma,Ta,hb,wb){K.call(this,Ia,Ma,Ta,hb,wb);this.aV=Sa;}za.La=!1;za.prototype=new K();za.prototype.constructor=za;Object.defineProperties(za.prototype,{GO:{get:function(){return this.aV;}}});za.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.aV + "'");this.u.offset=this.startOffset + 4;this.ja.OX(this.GO);this.type=this.GO;return !0;};return za;}function u(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function v(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function w(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function x(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function y(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function A(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function z(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function B(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function D(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function E(Sa,za,Ia,Ma,Ta){K.call(this,Sa,za,Ia,Ma,Ta);}function F(Sa,za){Sa.forEach(function(Ia){za[Ia.Nb]=Ia;});}C=a(155).assert;b=a(101);G=a(283).S;J=a(510);a(156);a(87);a(87);a(87);K=a(33).mc;H=a(1112).default;L=a(1113).default;R=a(1114).default;I=a(1115).default;Q=a(1116).default;N=a(1117).default;M=a(1118).default;P=a(1119).default;S=a(1120).default;a(284);a(190);ea=a(511).o9;qa=a(511).x$;wa=a(1121).default;ua=a(1122).default;X=a(102).default;sa=a(102).C9;O=a(102).D9;T=a(102).E9;ma=a(102).F9;ja=a(1123).default;Qa=a(1124).default;Fa=a(102).Q$;Wa=a(102).L$;Xa=a(1125).default;db=a(1126).default;Za=a(1127).default;kb=a(512).default;Ya=a(513).default;a(157);a(287);a(288);a(286);a=a(1128).default;c.La=!0;c.prototype=new K();c.prototype.constructor=c;f.La=!0;f.prototype=new K();f.prototype.constructor=f;l.La=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var Sa;this.ic();1 === this.version?(this.u.Hd(),this.u.Hd(),this.U=this.u.ta(),this.duration=this.u.Hd()):(this.u.ta(),this.u.ta(),this.U=this.u.ta(),this.duration=this.u.ta());Sa=this.u.Gc() & 32767;this.language=String.fromCharCode(96 + (Sa >>> 10),96 + (Sa >>> 5 & 31),96 + (Sa & 31));return !0;};m.La=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Pda=function(){this.ic();this.u.ta();this.U=this.u.ta();0 === this.version?(this.LS=this.u.ta(),this.eT=this.u.ta()):(this.LS=this.u.Hd(),this.eT=this.u.Hd());this.I2a=this.u.Gc();this.$V=this.u.Gc();};m.prototype.Ica=function(Sa,za){var Ia,Ma,Ta;Ia=this.U;Sa=Sa && Sa.U || Ia;Ma=Sa / Ia;Ia=this.u.pz(za,12,!1);Ta=1 === Ma?this.u.pz(za,12,!1):J.from(Uint32Array,{length:za},function(){var hb;hb=Math.round(this.u.ta() * Ma);this.u.offset+=8;return hb;},this);this.sea(za,Ta,Ia,Sa);};m.prototype.sea=function(Sa,za,Ia,Ma){if(this.hH){Ma=this.hH * Ma / 1E3;for(var Ta=0,hb=1;hb < Sa;hb++){Math.abs(za[Ta] - Ma) > Math.abs(za[Ta] + za[hb] - Ma)?(za[Ta]+=za[hb],Ia[Ta]+=Ia[hb]):(++Ta,Ta !== hb && (za[Ta]=za[hb],Ia[Ta]=Ia[hb]));}++Ta;za=new Uint32Array(za.buffer.slice(0,4 * Ta));Ia=new Uint32Array(Ia.buffer.slice(0,4 * Ta));}this.sizes=Ia;this.gd=za;};m.prototype.parse=function(Sa){var za,Ia,Ma,Ta;this.Pda();this.qa=Sa.qa;za=this.U;Ia=this.qa && this.qa.U || za;Ma=this.$V;Ta=this.startOffset + this.length + this.eT;za=new G(this.LS,za).Yf(Ia).Xb;this.Y={U:Ia,Bk:za,offset:Ta};this.Ica(this.qa,Ma);this.Y.gd=this.gd;this.Y.sizes=this.sizes;Sa.Ar=this;return !0;};d.La=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var Sa;this.fq=[];this.Rpa=[];Sa=(this.length - 11) / 2;this.u.eb();this.u.eb();this.u.eb();for(var za=0;za < Sa;za++){this.fq.push(this.u.eb());this.Rpa.push(this.u.eb());}return !0;};h.La=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.ic();this.u.offset+=4;this.XF=this.u.offset;this.Li=this.u.Oqa(16);this.Li.toString=g;return !0;};k.La=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.ic();this.Qf=this.u.Gc();this.boa=this.u.pz(this.Qf,void 0,!0);return !0;};n.La=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(Sa){var za,Ia,Ma,Ta,hb,wb;za=Sa.Ar;C(za);Sa=Sa.qa;Ia=za.U;za=za.$V;C(Sa);C(Ia);C(za);this.ic();C(2 > this.version);this.Qf=this.u.Gc();this.xt=new Uint16Array(za + 1);Ma=Sa.I3(Ia);Ta=Ma / Ia;hb=Sa.Yf(Ma).Xb;if(0 === this.version)for((this.Lt=new Uint16Array(),this.Gd=new Uint32Array(),Sa=Ia=0);Sa <= za;++Sa){if((this.xt[Sa]=Ia,Sa < this.Qf)){wb=this.u.eb();if(0 !== wb)for(Ma=0;Ma < wb;(++Ma,++Ia)){this.Lt[Ia]=Math.floor((this.u.ta() + 1) * Ta) / hb;this.Gd[Ia]=this.u.ta();}}}else if(1 === this.version)for((Ma=this.u.Kqa(this.Qf,10,!1),this.u.offset+=4,this.Gd=this.u.pz(this.Qf,10,!1),this.u.offset-=8,this.Lt=J.from(Uint16Array,{length:this.Qf},function(){var Eb;Eb=Math.floor((this.u.ta() + 1) * Ta) / hb;this.u.offset+=6;return Eb;},this),Ia=Sa=0);Sa <= za;++Sa){for(;Ia < Ma.length && Ma[Ia] < Sa;){++Ia;}this.xt[Sa]=Ia;}this.Dh={xt:this.xt,Lt:this.Lt,Gd:this.Gd};return !0;};q.La=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.La=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Fs=function(){var Sa;Sa=this.uh("tfhd");Sa && (this.xj=Sa.NR?Sa.xj:this.parent.startOffset);return !0;};u.La=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(){var Sa,Pb;Sa=this.u.offset;this.ic();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var za=this.u.offset,Ia=this.u.eb(),Ma=this.u.eb(),Ta=this.u.eb(),hb=this.u.eb(),wb=this.u.Gc(),Eb=[],Hb=0;Hb < wb;++Hb){Eb=this.u.eb();}Hb=(Ia & 240) >>> 4;Pb=(Ia & 14) >>> 1;Ia&=1;Ta=16 === Ta?1:0;Ma != hb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ma + " and matrixCoefficients " + hb + " should be the same value!");hb=2;switch(Ma){case 1:hb=2;break;case 6:hb=1;break;case 9:hb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ma + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ja.Xz(this.version,Sa);this.ja.Xz(Hb << 4 | hb,za++);this.ja.Xz(Pb << 4 | Ta << 1 | Ia,za++);wb+=2;Eb.push(0,0);this.ja.Oua(wb,!1);za+=2;Eb.forEach(function(Cb){this.ja.Xz(Cb,za++);});}return !0;};v.La=!1;v.prototype=new K();v.prototype.constructor=v;v.Nb="tfhd";Object.defineProperties(v.prototype,{NR:{get:function(){return this.flags & 1;}},Rra:{get:function(){return this.flags & 2;}},Pha:{get:function(){return this.flags & 8;}},Sha:{get:function(){return this.flags & 16;}},Qha:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(){this.ic();this.CH=this.u.ta();this.xj=this.NR?this.u.Hd():void 0;this.Rra && this.u.ta();this.Ux=this.Pha?this.u.ta():void 0;this.Wx=this.Sha?this.u.ta():void 0;this.Vx=this.Qha?this.u.ta():void 0;return !0;};w.La=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){this.ic();this.Bx=1 === this.version?this.u.Hd():this.u.ta();return !0;};w.prototype.na=function(Sa){var za;za=this.startOffset + 12;this.Bx+=Sa;1 === this.version?this.ja.Pua(this.Bx,za):this.ja.Fg(this.Bx,za);};x.La=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{qS:{get:function(){return this.flags & 1;}},tF:{get:function(){return this.flags & 4;}},Az:{get:function(){return this.flags & 256;}},Bz:{get:function(){return this.flags & 512;}},sW:{get:function(){return this.flags & 1024;}},WG:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.ic();this.RR=this.u.offset;this.Bb=this.u.ta();this.Dj=this.qS?this.u.KG():0;this.tF && this.u.ta();this.Kt=(this.Az?4:0) + (this.Bz?4:0) + (this.sW?4:0) + (this.WG?4:0);this.ly=this.u.offset;C(this.qS,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Bb * this.Kt,"Expected remaining data in box to be sample information");return !0;};x.prototype.cs=function(Sa,za,Ia){var Ma,Ta,hb;Ma=this.Az?this.u.ta():Sa.Ux;Ta=this.Bz?this.u.ta():Sa.Wx;Sa=this.sW?this.u.ta():Sa.Vx;hb=0 === this.version?this.WG?this.u.ta():0:this.WG?this.u.KG():0;return {Qra:hb,ERb:Sa,COb:Ia + hb - (void 0 !== za?za:hb),Qj:Ta,Mt:Ma};};x.prototype.na=function(Sa,za,Ia,Ma,Ta,hb,wb){var Eb,Hb,Pb,Cb;Eb=0;Hb=0;this.ja.offset=this.ly;for(Ma=0;Ma < Ta;++Ma){Pb=this.cs(za,Cb,Hb);if(0 == Ma)Cb=Pb.Qra;Eb+=Pb.Qj;Hb+=Pb.Mt;}Ma=Ta;Ta=this.u.offset;Pb=this.cs(za,Cb,Hb);this.Zp=Ma;this.Ssa=Hb;if(wb){if((this.Sp=this.Dj + Eb,this.mi=0,Ma === this.Bb))return !0;}else if((this.Sp=this.Dj,this.mi=Eb,0 === Ma))return !0;if(0 === Ma || Ma === this.Bb)return !1;this.dy=!0;if(wb){this.mi+=Pb.Qj;for(wb=Ma + 1;wb < this.Bb;++wb){Pb=this.cs(za,Cb,Hb);this.mi+=Pb.Qj;}this.ja.offset=this.RR;this.Bb=Ma;this.ja.Fg(this.Bb);this.ja.NH(hb);this.tF && (this.u.offset+=4);this.we(this.length - (Ta - this.startOffset),Ta);}else (za=Ta - this.ly,this.ja.offset=this.RR,this.Bb-=Ma,this.ja.Fg(this.Bb),this.Dj+=Eb,this.ja.NH(hb,this.Dj),this.tF && (this.u.offset+=4),this.we(za,this.ja.offset));Ia.we(this.mi,Sa.xj + this.Sp);return !0;};x.prototype.qra=function(Sa,za,Ia,Ma,Ta,hb){var Eb;if(Ma){Ma=this.Sp;for(var wb=this.Bb - 1;0 <= wb && this.Bb - wb <= Ta;--wb){this.ja.offset=this.ly + wb * this.Kt;Eb=this.cs(za);if(Eb.Mt != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Mt + " with silence of duration " + hb.duration);break;}if(this.Bz)(this.ja.offset-=this.Kt - (this.Az?4:0),this.ja.Fg(hb.Tj.byteLength));else if(hb.Tj.byteLength !== Eb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma-=Eb.Qj;Ia.Jt(Eb.Qj,hb.Tj,Sa.xj + Ma);}}else for((Ma=this.Sp + this.mi,wb=0);wb < this.Bb && wb < Ta;++wb){this.ja.offset=this.ly + (wb + this.Zp) * this.Kt;Eb=this.cs(za);if(Eb.Mt != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Mt + " with silence of duration " + hb.duration);break;}if(this.Bz)(this.ja.offset-=this.Kt - (this.Az?4:0),this.ja.Fg(hb.Tj.byteLength));else if(hb.Tj.byteLength !== Eb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ia.Jt(Eb.Qj,hb.Tj,Sa.xj + Ma);Ma+=Eb.Qj;}};y.La=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{vm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.ic();this.vm && this.u.kl();this.vm && this.u.ta();this.Rha=this.u.eb();this.Bb=this.u.ta();this.u.qz(this.Bb);return !0;};y.prototype.na=function(Sa,za){if(Sa && 0 === this.Rha){Sa=za?this.Bb - Sa:Sa;this.ja.offset=this.startOffset + 13 + (this.vm?8:0);this.Bb-=Sa;this.ja.Fg(this.Bb);this.UG=0;if(za)this.ja.offset+=this.Bb;else {for(za=0;za < Sa;++za){this.UG+=this.ja.eb();}this.ja.offset-=Sa;}this.we(Sa,this.u.offset);}return !0;};A.La=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{vm:{get:function(){return this.flags & 1;}}});A.prototype.parse=function(){this.ic();this.vm && this.u.kl();this.vm && this.u.ta();this.Qf=this.u.ta();C(1 === this.Qf,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Dj=0 === this.version?this.u.KG():this.u.Rqa();return !0;};A.prototype.na=function(Sa,za){this.Dj+=Sa;this.ja.offset=this.startOffset + 16 + (this.vm?8:0) + (0 === this.version?0:4);this.ja.NH(za,this.Dj);return !0;};z.La=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{vV:{get:function(){return this.flags & 1;}},zua:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(){this.ic();this.vV && (this.u.ta(),this.u.qz(16));this.Bb=this.u.ta();return !0;};z.prototype.na=function(Sa,za){var Ia,Ma;Ia=za?this.Bb - Sa:Sa;this.ja.offset=this.startOffset + 28 + (this.vV?20:0);this.Bb-=Ia;this.ja.Fg(this.Bb);Sa=this.ja.offset;if(this.zua)for(Ia=za?this.Bb:Ia;0 < Ia;--Ia){this.ja.offset+=8;Ma=this.ja.Gc();this.ja.offset+=6 * Ma;}else this.ja.offset+=8 * (za?this.Bb:Ia);za?this.we(this.length - (this.u.offset - this.startOffset),this.u.offset):this.we(this.u.offset - Sa,Sa);};B.La=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.ic();return !0;};B.prototype.na=function(Sa,za,Ia){Ia?this.we(za - Sa,this.startOffset + 12 + Sa):this.we(Sa,this.startOffset + 12);return !0;};D.La=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.ic();this.u.kl();1 === this.version && this.u.ta();this.Qf=this.u.ta();this.Nt=[];for(var Sa=0;Sa < this.Qf;++Sa){for(var za=this.u.ta(),Ia=this.u.ta(),Ma=0;Ma < za;++Ma){this.Nt.push(Ia);}}return !0;};D.prototype.na=function(Sa,za){this.Nt=za?this.Nt.slice(0,Sa):this.Nt.slice(Sa);Sa=this.Nt.reduce(function(Ia,Ma){0 !== Ia.length && Ia[Ia.length - 1].group === Ma || Ia.push({group:Ma,count:0});++Ia[Ia.length - 1].count;return Ia;},[]);this.ja.offset=this.startOffset + 16 + (1 === this.version?4:0);this.ja.Fg(Sa.length);Sa.forEach((function(Ia){this.ja.Fg(Ia.count);this.ja.Fg(Ia.group);}).bind(this));this.Qf > Sa.length && this.we(8 * (this.Qf - Sa.length));this.Qf=Sa.length;return !0;};E.La=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ta:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:X,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:q,traf:p,tfhd:v,trun:x,sbgp:D,sdtp:B,saiz:y,saio:A,tfdt:w,mdat:E,vmaf:d},Pta:{vpcC:u,SmDm:t("smdm"),CoLL:t("coll")},oX:{schm:ja},VG:{}};F([Qa,N,M,P,Fa,Wa,H,I,kb,Ya,Q,S,L,R,a],X.Ta);F([ea,wa,sa,O,T,ma,qa,ua,db,Xa],X.VG);F([Qa,ja],X.oX);X.Ta[b.CP]=h;X.Ta[b.Hw]=k;X.Ta[b.Gw]=n;X.Ta[b.BP]=z;X.VG[b.BD]=Za;X.mc=K;r.exports={Hp:X};},function(r,b){function a(c,f){var l,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.dc=f.Xb,this.fb=f.U):(this.dc=f,this.fb=l);}c.mb=function(f){return new c(f,1E3);};c.jX=function(f,l){return Math.floor(1E3 * f / l);};c.a6=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Xb:{get:function(){return this.dc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.dc / this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ug:{get:function(){return this.dc / this.fb;},enumerable:!0,configurable:!0}});c.prototype.Yf=function(f){f/=this.U;return new c(Math.floor(this.Xb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var l;if(this.U === f.U)return new c(this.Xb + f.Xb,this.U);l=a(this.U,f.U);return this.Yf(l).add(f.Yf(l));};c.prototype.Aa=function(f){return this.add(new c(-f.Xb,f.U));};c.prototype.rC=function(f){return new c(this.Xb * f,this.U);};c.prototype.Xk=function(f){var l;if(this.U === f.U)return this.Xb / f.Xb;l=a(this.U,f.U);return this.Yf(l).Xk(f.Yf(l));};c.prototype.I3=function(f){return a(this.U,f);};c.prototype.Xqa=function(){return new c(this.U,this.Xb);};c.prototype.compare=function(f,l){var m;if(this.U === l.U)return f(this.Xb,l.Xb);m=a(this.U,l.U);return f(this.Yf(m).Xb,l.Yf(m).Xb);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.o6=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.uv=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Un=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.Xb,timescale:this.U};};c.prototype.toString=function(){return this.Xb + "/" + this.U;};c.ab=new c(0,1);c.Hv=new c(1,1E3);return c;})();b.S=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.Gc();return !0;};return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(23);r.__exportStar(a(157),b);r.__exportStar(a(286),b);r.__exportStar(a(287),b);r.__exportStar(a(288),b);r=a(287);c=a(288);a=a(286);b.jp={3:a.OO,4:r.JO,5:c.t$};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.Gc();m=this.u.eb();this.gta=! !(m & 128);this.aca=! !(m & 64);this.Faa=! !(m & 32);this.gta && this.u.Gc();this.aca && this.u.qz(this.u.eb());this.Faa && this.u.Gc();this.YQ();return !0;};l.tag=3;return l;})(a(157).hD);b.OO=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.bpa=this.u.eb();this.u.eb();this.u.Gc();this.u.eb();this.maxBitrate=this.u.ta();this.Bfa=this.u.ta();this.YQ();return !0;};l.tag=4;return l;})(a(157).hD);b.JO=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(157);f=a(285);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.XV=function(){15 !== this.u.ec(4) || this.u.ec(24);};m.prototype.parse=function(d){if(this.kma(d) && 64 === d.bpa)switch((this.um=this.VV(),this.XV(),this.u.ec(4),this.Qia=5 === this.um || 29 === this.um?5:-1,0 < this.Qia && (this.XV(),this.um=this.VV(),22 === this.um && this.u.ec(4)),this.um)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.mT=this.u.ec(1),(this.Yha=this.u.ec(1)) && this.u.ec(14),this.u.ec(1),this.ny=3 === this.um?256:23 === this.um?this.mT?480:512:this.mT?960:1024);}this.skip();return !0;};m.prototype.VV=function(){var d;d=this.u.ec(5);31 === d && (d=32 + this.u.ec(6));return d;};m.prototype.kma=function(d){return d.tag === f.JO.tag;};m.tag=5;return m;})(r.hD);b.t$=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(515);f=a(282);l=a(516);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new l.KO(this.view.byteLength);this.ac=new c.eD(f.Hp.Ta,g,this.view,this.console,{zG:!0});d=this.ac.parse(d);this.Ta=this.ac.Ta;return d;};return m;})();b.qq=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qba="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sba="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var f;function c(l,m){var d;d=this;this.Ul=l;this.Lh=m;this.addEventListener=function(g,h,k){return d.Lh.addListener(g,d.eQa(g,h),k);};this.removeEventListener=function(g,h){return d.Lh.removeListener(g,d.eQa(g,h));};this.getReady=function(){return d.Lh.isReady();};this.getXid=function(){return d.sb().KB();};this.getMovieId=function(){return d.sb().kBb();};this.getPlaygraphId=function(){return d.Lh.LBb();};this.getElement=function(){return d.Lh.xp();};this.isPlaying=function(){return d.sb().$B();};this.isPaused=function(){return d.sb().IFb();};this.isMuted=function(){return d.sb().EFb();};this.isReady=function(){return d.sb().isReady();};this.isBackground=function(){return d.sb().fFb();};this.setBackground=function(g){return d.sb().G3a(g);};this.startInactivityMonitor=function(){return d.sb().PW();};this.setTransitionTime=function(g){return d.sb().a4a(g);};this.getDiagnostics=function(){return d.sb().$zb();};this.getTextTrackList=function(g){return d.sb().eVa(g);};this.getMaxRecommendedTextIndex=function(g){return d.sb().jUa(g);};this.getTextTrack=function(){return d.sb().dVa();};this.setTextTrack=function(g){return d.sb().$3a(g);};this.getVolume=function(){return d.sb().LCb();};this.isEnded=function(){return d.sb().oFb();};this.getBusy=function(){return d.sb().gi();};this.getError=function(){return d.sb().getError();};this.getCurrentTime=function(){return d.sb().j.mediaTime.value;};this.getBufferedTime=function(){return d.sb().Bzb();};this.getSegmentTime=function(){return d.sb().nTa();};this.getDuration=function(){return d.sb().mTa();};this.getVideoSize=function(){return d.sb().HCb();};this.getAudioTrackList=function(){return d.sb().jzb();};this.getMaxRecommendedAudioIndex=function(){return d.sb().dBb();};this.getAudioTrack=function(){return d.sb().izb();};this.getTimedTextTrackList=function(g){return d.sb().eVa(g);};this.getMaxRecommendedTimedTextIndex=function(g){return d.sb().jUa(g);};this.getTimedTextTrack=function(){return d.sb().dVa();};this.getAdditionalLogInfo=function(){return d.sb().czb();};this.getTrickPlayFrame=function(g){return d.sb().zCb(g);};this.getSessionSummary=function(){return d.sb().RUa();};this.getTimedTextSettings=function(){return d.sb().H3();};this.setMuted=function(g){return d.sb().OSb(g);};this.setVolume=function(g){return d.sb().kTb(g);};this.getPlaybackRate=function(){return d.sb().zp();};this.setPlaybackRate=function(g){return d.sb().USb(g);};this.setAudioTrack=function(g){return d.sb().uSb(g);};this.setTimedTextTrack=function(g){return d.sb().$3a(g);};this.setTimedTextSettings=function(g){return d.sb().IW(g);};this.prepare=function(){return d.sb().LM();};this.load=function(){return d.sb().load();};this.close=function(g){return d.CMa(d.Lh.close(),g);};this.play=function(){return d.sb().play();};this.pause=function(){return d.sb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(g,h){return d.CMa(d.sb().WS(g),h);};this.induceError=function(g){return d.sb().AEb(g);};this.loadCustomTimedTextTrack=function(g,h,k,n){return d.sb().tHb(g,h,k,n);};this.tryRecoverFromStall=function(){return d.sb().sX();};this.getCropAspectRatio=function(){return d.sb().Wja();};this.getCropAspectRatioXandY=function(){return d.sb().Szb();};this.generateScreenshots=function(g){return d.sb().Xyb(g);};this.getCurrentSegmentId=function(){return d.Lh.qTa();};this.getPlaygraphMap=function(){return d.Lh.EF();};this.updatePlaygraphMap=function(g){return d.Lh.vX(g);};this.Nia=new Map();this.log=f.hi("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.ZZ=void 0;f=a(7);a(94);c.prototype.sb=function(){return this.Lh.sb();};c.prototype.eQa=function(l,m){var d;this.Nia.has(l) || this.Nia.set(l,new Map());d=this.Nia.get(l);d.has(m) || d.set(m,this.bub(l,m));return d.get(m);};c.prototype.bub=function(l,m){var d;d=this;return function(g){return m(Object.assign({},g,{type:l,target:d}));};};c.prototype.CMa=function(l,m){return m?l.then(m,m):l;};b.ZZ=c;},function(r,b,a){b=a(426);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ba:Date.now;},function(r){r.exports={rw:{Uba:0,gGa:1,Jk:2,name:["transient","semiTransient","permanent"]},lw:{Rya:0,fGa:1,KZ:2,DP:3,Jw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},C3b:{r3b:0,e1b:1,i_b:2,Jw:100,name:["trailer","montage","content"]},ju:{HAa:0,MFa:1,hfb:2,M$a:3,Jw:100,name:["left","right","up","down"]},oP:{J9a:0,KZ:1,C0b:2,$_b:3,AZb:4,B0b:5,C8a:6,Jw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},nI:{DP:0,hxa:1,Jw:100,name:["playFocused","detailsOpened"]}};},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof pb && (b=pb);}r.exports=b;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function f(){}f.prototype.lTa=function(l){var m;m=Reflect.getMetadata(c.Jaa,l);l=Reflect.getMetadata(c.hHa,l);return {QOa:m,iYb:l || ({})};};f.prototype.OBb=function(l){return Reflect.getMetadata(c.iHa,l) || [];};return f;})();b.xaa=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.bXa=function(f){return f instanceof RangeError || f.message === c.Feb;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(41);l=a(64);m=a(88);r=(function(){function d(g){this.cgb=g;}d.prototype.gXb=function(){return this.cgb();};return d;})();b.eaa=r;b.l=function(d){return function(g,h,k){var n;if(void 0 === d)throw Error(c.efb(g.name));n=new l.Metadata(f.mP,d);"number" === typeof k?m.rH(g,h,k,n):m.bX(g,h,n);};};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(103);l=a(64);m=a(542);r=(function(){function d(g,h,k,n){this.id=f.id();this.type=g;this.mg=k;this.name=new m.ieb(h || "");this.yd=[];g=null;"string" === typeof n?g=new l.Metadata(c.qA,n):n instanceof l.Metadata && (g=n);null !== g && this.yd.push(g);}d.prototype.CVa=function(g){for(var h=0,k=this.yd;h < k.length;h++){if(k[h].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.CVa(c.uD);};d.prototype.uIb=function(g){return this.Rna(c.uD)(g);};d.prototype.uma=function(){return this.CVa(c.qA);};d.prototype.Ema=function(){return this.yd.some(function(g){return g.key !== c.mP && g.key !== c.uD && g.key !== c.hZ && g.key !== c.XP && g.key !== c.qA;});};d.prototype.VWa=function(){return this.Rna(c.bDa)(!0);};d.prototype.nBb=function(){return this.uma()?this.yd.filter(function(g){return g.key === c.qA;})[0]:null;};d.prototype.Vzb=function(){return this.Ema()?this.yd.filter(function(g){return g.key !== c.mP && g.key !== c.uD && g.key !== c.hZ && g.key !== c.XP && g.key !== c.qA;}):null;};d.prototype.Rna=function(g){var h;h=this;return function(k){var p;for(var n=0,q=h.yd;n < q.length;n++){p=q[n];if(p.key === g && p.value === k)return !0;}return !1;};};return d;})();b.TZ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(194);f=a(195);r=(function(){function l(m){this.oc=m;this.eQ=new f.Y9(this.oc);this.tca=new c.dY(this.oc);}l.prototype.when=function(m){return this.eQ.when(m);};l.prototype.LX=function(){return this.eQ.LX();};l.prototype.Gv=function(m){return this.tca.Gv(m);};return l;})();b.cD=r;},function(r,b,a){var l;function c(m){return function(d){function g(h){return null !== h && null !== h.target && h.target.Rna(m)(d);}g.oZa=new l.Metadata(m,d);return g;};}function f(m,d){m=m.gz;return null !== m?d(m)?!0:f(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(41);l=a(64);b.m6a=f;b.v5a=c;a=c(r.qA);b.RZa=a;b.s6a=function(m){return function(d){var g;if(null !== d){g=d.OR[0];return "string" === typeof m?g.mg === m:m === d.OR[0].Ml;}return !1;};};},function(r,b,a){var l;function c(m,d){this.Zf=d;this.Sy=Math.floor(m);this.display=this.Sy + " " + this.Zf.name;}function f(m,d,g){this.Zf=m;this.name=d;this.Rk=g?g:this;l.co(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Qr=b.YP=void 0;l=a(56);f.prototype.XS=function(m){return this.Zf == m.Zf;};f.prototype.toJSON=function(){return this.name;};b.YP=f;c.prototype.ea=function(m){return this.Zf.XS(m)?this.Sy:Math.floor(this.Sy * this.Zf.Zf / m.Zf);};c.prototype.e1a=function(m){return this.Zf.XS(m)?this.Sy:this.Sy * this.Zf.Zf / m.Zf;};c.prototype.as=function(m){return new c(this.ea(m),m);};c.prototype.to=function(m){return new c(this.ea(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Sy,units:this.Zf.name};};c.prototype.add=function(m){return this.MOa(m);};c.prototype.Aa=function(m){return this.MOa(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.ea(this.Zf.Rk) * m,this.Zf.Rk);};c.prototype.Vk=function(m){return this.ea(this.Zf.Rk) - m.ea(this.Zf.Rk);};c.prototype.XS=function(m){return 0 == this.Vk(m);};c.prototype.mXa=function(){return 0 == this.Sy;};c.prototype.vma=function(){return 0 > this.Sy;};c.prototype.MFb=function(){return 0 < this.Sy;};c.prototype.MOa=function(m,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ea(this.Zf.Rk) + d(m.ea(this.Zf.Rk)),this.Zf.Rk);};b.Qr=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wEa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sxa="DrmDataFactorySymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k){this.version=m;this.EM=d;this.$4a=g;this.cn=h;this.dw=k;this.Vu=[];}Object.defineProperty(b,"__esModule",{value:!0});b.W$=void 0;f=a(3);l=a(42);c.prototype.load=function(m){return this.rHb(m);};c.prototype.add=function(m){this.Vu.push(m);return this.Npa();};c.prototype.remove=function(m,d){m=this.cTa(this.dL(m,d));return 0 <= m?(this.Vu.splice(m,1),this.Npa()):Promise.resolve();};c.prototype.update=function(m,d){d=this.cTa(this.dL(m,d));return 0 <= d?(this.Vu[d]=m,this.Npa()):Promise.resolve();};c.prototype.rHb=function(m){var d;d=this;this.WXa || (this.WXa=new Promise(function(g,h){function k(n){d.qub().then(function(){h(n);}).catch(function(){h(n);});}d.Rka().then(function(n){d.storage=n;return d.storage.load(d.EM);}).then(function(n){var q;n=n.value;try{q=m(n);d.version=q.version;d.Vu=q.data;g();}catch(p){k(p);}}).catch(function(n){n.oa !== f.L.xA?h(n):g();});}));return this.WXa;};c.prototype.Npa=function(){var m,d,g,h,k;m=this;if(!this.$4a)return Promise.resolve();if(this.g8){h=new Promise(function(n,q){d=n;g=q;});k=function(){m.g8=h;m.Y4a().then(function(){d();}).catch(function(n){g(n);});};this.g8.then(k).catch(k);return h;}return this.g8=this.Y4a();};c.prototype.Y4a=function(){var m,d;m=this;d=this.dw();return new Promise(function(g,h){m.Rka().then(function(k){return k.save(m.EM,d,!1);}).then(function(){g();}).catch(function(k){h(c.eWb(f.M.xdb,k));});});};c.prototype.qub=function(){var m;m=this;return this.$4a?new Promise(function(d,g){m.Rka().then(function(h){return h.remove(m.EM);}).then(function(){d();}).catch(function(h){g(h);});}):Promise.resolve();};c.prototype.Rka=function(){return this.storage?Promise.resolve(this.storage):this.cn.create();};c.prototype.dL=function(m,d){for(var g=0;g < this.Vu.length;++g){if(d(this.Vu[g],m))return this.Vu[g];}};c.prototype.cTa=function(m){return m?this.Vu.indexOf(m):-1;};c.eWb=function(m,d){var g;if(d.oa && d.cause)return new l.ed(m,d.oa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.kc){g=d.message?d.message + " ":"";d.code=m;d.message="" === g?void 0:g;return d;}return d instanceof Error?new l.ed(m,f.L.gj,void 0,void 0,void 0,void 0,d.stack,d):new l.ed(m,f.L.im,void 0,void 0,void 0,void 0,void 0,d);};b.W$=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xba="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QCa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uxa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vya="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sya=b.TD=void 0;r=b.TD || (b.TD={});r[r.Request=0]="Request";r[r.RFa=1]="Renewal";b.sya="EmeApiSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.OZ=void 0;a.yEb=function(c){return "ID" + (c + 1);};a.f5a=function(c){return Number(c.substr(2)) - 1;};b.OZ=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E;function c(F,C,G,J,K,H,L,R){var I;I=this;this.Ja=C;this.Ax=G;this.config=J;this.eh=K;this.ql=H;this.Pn=L;this.lo=R;this.keyStatuses=new A.Ac({});this.qpa=function(Q){var N,M,P,S,ea,qa;try{M=I.ql.fha(Q);P=M.hG;S=M.messageType;ea=M.sessionId;I.sv=I.sv || M.sv;I.AW(ea);I.log.trace("Received " + Q.type + " event",{sessionId:ea,messageType:S,keyIds:I.sv});S === b.paa && (I.log.trace("Received a renewal request"),I.Tf=n.Vh.uq,I.vk=D.NG);I.vk === D.hg && I.Yo(q.Nr.Z1a);I.vk === D.NG && I.Yo(q.Nr.$1a);qa={Aj:P,gOa:S,Tf:I.Tf};null === (N=I.xLb) || void 0 === N?void 0:N.call(I,qa);I.wU && (I.qla(P)?I.cC(new y.ed(m.M.iya)):(I.wU.resolve(qa),I.wU=void 0));}catch(wa){I.cC(wa);}};this.opa=function(Q){var N,M,P,S,ea,ua,X,sa,O,T,ma,ja,Wa,Xa,db,Za,kb,Ya;P=Q.target;S=P.keyStatuses;I.AW(P.sessionId);I.log.trace("Received event: " + Q.type);try{ea=null === (M=null === (N=I.context) || void 0 === N?void 0:N.Ct) || void 0 === M?void 0:M.reduce(function(Sa,za){Sa[za.Li]=za.oW.height;return Sa;},{});Q=[];for(var qa=aa(S),wa=qa.next();!wa.done;wa=qa.next()){ua=aa(wa.value);X=ua.next().value;sa=ua.next().value;O=I.Ax.encode(new Uint8Array(X));Q.push({Li:O,status:sa,height:null === ea || void 0 === ea?void 0:ea[O]});}Q.sort(function(Sa,za){return (Sa.height || 0) - (za.height || 0);});T=Q.map(function(Sa){return Sa.Li;});ma=Q.map(function(Sa){return Sa.height;});ja=Q.map(function(Sa){return Sa.status;});I.log.trace("KeyStatus: " + T + ", " + ma + ", " + ja);ea={};for(var Qa=aa(S),Fa=Qa.next();!Fa.done;Fa=Qa.next()){Wa=aa(Fa.value);Xa=Wa.next().value;db=Wa.next().value;Za=I.Ax.encode(new Uint8Array(Xa));kb=E[db];ea[Za]=kb.status;if(I.K4(Za,kb.error)){Ya=new w.pg(kb.error);I.mU(Ya);}}I.keyStatuses.set(ea);}catch(Sa){Ya=new w.pg(m.M.Hdb);Ya.yS(Sa);}Ya?I.V4(Ya):(I.ql.A1() || I.oXa(),I.Tf !== n.Vh.ln || I.ql.yfa() || I.EQb());};this.Om=function(Q){var N;N=I.ql.Qx(Q);I.log.error("Received event: " + Q.type,N);I.cC(N);I.V4(N);I.vp || I.dt || I.mU(N);};this.qLb=function(){I.log.error("MediaKeySession closed unexpectedly.");I.mU(new y.ed(m.M.iab));};this.cC=function(Q){var N;I.vp && I.close().then(function(){var M;I.log.trace("Issuing a generate challenge error");null === (M=I.vp) || void 0 === M?void 0:M.reject(Q);I.vp=void 0;},function(M){var P;I.log.error("EmeSession closed with an error.",I.ql.Qx(M));null === (P=I.vp) || void 0 === P?void 0:P.reject(Q);I.vp=void 0;});null === (N=I.wU) || void 0 === N?void 0:N.reject(Q);};this.fGb=function(){var Q;null === (Q=I.vp) || void 0 === Q?void 0:Q.resolve();I.vp=void 0;};this.V4=function(Q){I.log.error("Failed to add license",Q);return I.close().then(function(){var N;I.log.trace("Issuing a license error");I.vp=void 0;null === (N=I.dt) || void 0 === N?void 0:N.reject(Q);I.dt=void 0;},function(N){var M;I.log.error("EmeSession closed with an error.",I.ql.Qx(N));I.vk === D.NG && I.Yo(q.Nr.XLa);I.vp=void 0;null === (M=I.dt) || void 0 === M?void 0:M.reject(Q);I.dt=void 0;}).then(function(){throw Q;});};this.oXa=function(){I.dt && (I.log.info("Successfully added license"),I.vk === D.hg?I.Yo(q.Nr.OLa):I.vk === D.NG && I.Yo(q.Nr.WLa),I.dt.resolve(),I.dt=void 0);};this.mU=function(Q){I.close().then(function(){var N;I.log.trace("Issuing a CDM error");I.vp=void 0;I.dt=void 0;null === (N=I.E_a) || void 0 === N?void 0:N.call(I,Q);},function(N){var M;I.log.error("EmeSession closed with an error.",I.ql.Qx(N));I.vp=void 0;I.dt=void 0;null === (M=I.E_a) || void 0 === M?void 0:M.call(I,Q);});};this.Yo=function(Q){I.cd.push({time:I.Ja.Wb(),PU:Q});};this.s2a=!1;this.log=F.Db("EmeSession");this.vk=D.ZWb;this.cd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.wya=b.paa=b.qaa=void 0;r=a(1);f=a(0);l=a(4);m=a(3);d=a(19);g=a(8);h=a(35);k=a(69);n=a(59);q=a(314);p=a(204);t=a(133);u=a(202);v=a(311);w=a(90);x=a(60);y=a(42);A=a(105);z=a(593);B=a(58);(function(F){F[F.ZWb=0]="unknown";F[F.create=1]="create";F[F.load=2]="load";F[F.hg=3]="license";F[F.NG=4]="renewal";F[F.stop=5]="stop";F[F.closed=6]="closed";})(D || (D={}));b.qaa="license-request";b.paa="license-renewal";E={usable:{status:p.eu.Z6a},expired:{status:p.eu.AB,error:m.M.pDa},released:{status:p.eu.released},"output-not-allowed":{status:p.eu.W_a,error:m.M.qDa},"output-restricted":{status:p.eu.W_a,error:m.M.Oaa},"output-downscaled":{status:p.eu.oMb},"status-pending":{status:p.eu.yUb},"internal-error":{status:p.eu.REb,error:m.M.Gdb}};c.prototype.Ks=function(){var F,C;if(this.foa){C=null === (F=this.foa) || void 0 === F?void 0:F.keySystem;(F=B.u3(this.foa)) && (C+="." + F);return C;}return "n/a";};c.prototype.qy=function(){return this.sessionId;};c.prototype.close=function(){var F;F=this;this.vk=D.closed;this.cd=[];return this.eh.RFb()?(this.log.trace("Closing the session"),this.eh.o2a(this.qpa),this.eh.m2a(this.opa),this.eh.k2a(this.Om),this.mediaKeys=void 0,this.lo.Up(this.config.uMa,this.eh.close()).then(function(){F.log.info("Closed the session");}).catch(function(C){F.log.error("Close failed",C);F.ql.Qx(C).code=m.M.Jdb;throw C;})):Promise.resolve(void 0);};c.prototype.Js=function(){return this.Pn;};c.prototype.V3=function(){return void 0 !== this.Mi;};c.prototype.createSession=function(F,C,G,J){var K;K=this;this.context=J;this.foa=F;this.Tf=G;this.vk=D.create;this.Yo(q.Nr.PXa);return (C.zVa()?Promise.resolve():this.lo.Up(this.config.vMa,this.eh.createMediaKeys(F)).then(function(H){K.log.trace("Created media keys");C.setMediaKeys(H);return K.kmb(H);})).then(function(){K.mediaKeys=C.mediaKeys;try{K.eh.createSession(K.mediaKeys,"temporary");K.eh.RLa(K.qpa);K.eh.MLa(K.opa);K.eh.KLa(K.Om);K.eh.clb(K.qLb);K.AW(K.eh.qy());}catch(H){return Promise.reject(new w.pg(m.M.bab,m.L.gj,void 0,"Unable to create a persisted key session",H));}}).catch(function(H){return H.code && H.kc?Promise.reject(H):Promise.reject(new w.pg(m.M.MO,H instanceof x.wq?m.L.NO:m.L.gj,void 0,"Unable to create MediaKeys. " + H.message,H));});};c.prototype.TSb=function(F){this.ji=F;this.log.HLa("xid",F.da);};c.prototype.Uyb=function(F){var C;C=this;return this.generateRequest(F).then(function(){C.log.trace("Returning the challenge promise");return C.wU.promise;});};c.prototype.Vyb=function(F){this.generateRequest(F);return this.vp.promise;};c.prototype.NLa=function(F){this.fe=F.fe;F=F.Mi.map(function(C){return C.data;});this.qla(F)?(this.log.error("The license buffer is empty"),this.cC(new w.pg(m.M.hya,m.L.fya))):(this.vk === D.hg && (this.Yo(q.Nr.Y1a),this.Mi=F,this.WQa=this.ql.kL(this.sv,F),this.fGb()),this.vk === D.NG && (this.Yo(q.Nr.a2a),this.Mi=F,this.WQa=this.ql.kL(this.sv,F),this.efa()));};c.prototype.nlb=function(F){this.vk === D.NG?(this.Yo(q.Nr.b2a),this.mU(F)):this.cC(F);};c.prototype.efa=function(){var F,C;F=this;if(!this.Mi)return this.V4(new w.pg(m.M.hya,m.L.kya));this.dt=new z.BZ();C=this.Mi;this.Mi=void 0;this.lo.Up(this.config.zMa,this.eh.update(C,this.vk === D.hg?v.TD.Request:v.TD.RFa,this.sv)).then(function(){F.ql.A1() && F.oXa();}).catch(function(G){G=F.ql.Qx(G);G.code=m.M.uZ;G.message="Unable to update the EME";F.log.error(G.message,G);F.V4(G);});return this.dt.promise;};c.prototype.LSb=function(F){this.xLb=F;};c.prototype.FSb=function(F){this.E_a=F;};c.prototype.kL=function(){return this.WQa;};c.prototype.generateRequest=function(F){var C;C=this;this.vk=D.hg;this.log.trace("Generating a license challenge");this.vp=new z.BZ();this.wU=new z.BZ();return F?this.qla(F)?(F=new w.pg(m.M.gya,m.L.fya),this.cC(F),Promise.reject(F)):this.lo.Up(this.config.wMa,this.eh.generateRequest(this.ql.yT(),F)).then(function(){C.AW(C.eh.qy());}).catch(function(G){var J,K;J=new w.pg(m.M.EY,G instanceof x.wq?m.L.NO:m.L.gj);K=C.ql.Qx(G);J.xd=K.xd;J.message="Unable to generate request.";J.yS(G);C.log.error("Unable to generate a license request",J);C.cC(J);return Promise.reject(J);}):(F=new w.pg(m.M.gya,m.L.kya),this.cC(F),Promise.reject(F));};c.prototype.kmb=function(F){var C,G;C=this;G=this.ql.Tja();return G?(G=this.Ax.decode(G),this.lo.Up(this.config.yMa,this.eh.setServerCertificate(F,G)).then(function(J){C.log.trace("Set the server certificate",{result:J});})):Promise.resolve();};c.prototype.AW=function(F){F && F !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + F),this.sessionId=F,this.log.HLa("sessionId",F));};c.prototype.EQb=function(){var F;F=this;this.s2a || (this.s2a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.eC}),setTimeout(function(){F.MG();},this.config.eC.ea(l.ma)));};c.prototype.ZFb=function(F){var C,G;return !(null === (G=null === (C=this.context) || void 0 === C?void 0:C.Ct) || void 0 === G || !G.some(function(J){return J.Li === F && 1080 < J.oW.height;}));};c.prototype.K4=function(F,C){return C === m.M.Oaa?this.ZFb(F)?this.config.Y_a:this.config.X_a:! !C;};c.prototype.MG=function(){this.log.trace("Initiating a renewal request");this.Tf=n.Vh.uq;this.vk=D.NG;this.ql.hga()?this.ql.gma(this.eh):this.M1();};c.prototype.M1=function(){var F;F=this;this.eh.M1(this.mediaKeys,"temporary",this.qpa,this.opa,this.Om).then(function(){F.log.debug("Creating session to renew license");F.AW(F.eh.qy());}).catch(function(){F.mU(new w.pg(m.M.EY));});};c.prototype.qla=function(F){return 0 === F.length || F.reduce(function(C,G){return C || 0 === G.length;},!1);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.Kb)),r.__param(1,f.l(d.rd)),r.__param(2,f.l(h.Th)),r.__param(3,f.l(k.gu)),r.__param(4,f.l(v.sya)),r.__param(5,f.l(u.Z$a)),r.__param(6,f.l(t.Yxa)),r.__param(7,f.l(x.Kw))],a);b.wya=a;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.XQa=b.Nr=void 0;(function(c){c[c.PXa=0]="licenseStarted";c[c.Z1a=1]="receivedLicenseChallenge";c[c.Y1a=2]="receivedLicense";c[c.$1a=3]="receivedRenewalChallengeComplete";c[c.a2a=4]="receivedRenewalLicenseComplete";c[c.b2a=5]="receivedRenewalLicenseFailed";c[c.DPb=6]="receivedIndivChallengeComplete";c[c.EPb=7]="receivedIndivLicenseComplete";c[c.OLa=8]="addLicenseComplete";c[c.WLa=9]="addRenewalLicenseComplete";c[c.XLa=10]="addRenewalLicenseFailed";})(a=b.Nr || (b.Nr={}));b.XQa=function(c){switch(c){case a.PXa:return "lg";case a.Z1a:return "lc";case a.Y1a:return "lr";case a.$1a:return "renew_lc";case a.a2a:return "renew_lr";case a.b2a:return "renew_lr_failed";case a.DPb:return "ilc";case a.EPb:return "ilr";case a.OLa:return "ld";case a.WLa:return "renew_ld";case a.XLa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Owa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dDa="OneWayCounterFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.W9=void 0;r=a(1);a=a(0);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(l){for(var m=new Uint8Array(l.length / 2),d=0;d < m.length;d++){m[d]=this.$5a(l.substr(2 * d,2));}return m;};c.prototype.encode=function(l){var h;for(var m="",d=l.length,g=0;g < d;g++){h=l[g];m+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return m;};c.prototype.vF=function(l,m){var d;d="";for(m<<=1;m--;){d=(("0123456789ABCDEF")[l & 15] || "0") + d;l>>>=4;}return d;};c.prototype.$5a=function(l){var m;m=l.length;if(7 < m)throw Error("hex to long");for(var d=0,g=0;g < m;g++){d=16 * d + f[l[g]];}return d;};a=r.__decorate([a.R()],c);b.W9=a;},function(r,b,a){var f,l;function c(){this.rp={};this.id="$es$" + f.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Xj=void 0;r=a(1);a=a(0);c.prototype.addListener=function(m,d,g){var h,k;h="$netflix$player$order" + this.id + "$" + m;if(this.rp){k=this.rp[m]?this.rp[m].slice():[];g && (d[h]=g);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,q){return (n[h] || 0) - (q[h] || 0);}));this.rp[m]=k;}};c.prototype.removeListener=function(m,d){if(this.rp && this.rp[m]){for(var g=this.rp[m].slice(),h;0 <= (h=g.indexOf(d));){g.splice(h,1);}this.rp[m]=g;}};c.prototype.qc=function(m,d,g){var h;if(this.rp){h=this.fka(m);for(m={PH:0};m.PH < h.length;(m={PH:m.PH},m.PH++)){g?(function(k){return function(){var n;n=h[k.PH];setTimeout(function(){n(d);},0);};})(m)():h[m.PH].call(this,d);}}};c.prototype.hh=function(){this.rp=void 0;};c.prototype.on=function(m,d,g){this.addListener(m,d,g);};c.prototype.fka=function(m){var d;return null !== (d=this.rp && (this.rp[m] || (this.rp[m]=[]))) && void 0 !== d?d:[];};l=f=c;l.counter=0;l=f=r.__decorate([a.R()],l);b.Xj=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.exa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u$="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aaa=b.Ccb=void 0;b.Ccb=function(){};b.Aaa="MseConfigSymbol";},function(r,b,a){function c(f){this.Ghb=void 0 === f?!1:f;this.Oe={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.vba=void 0;r=a(1);a=a(0);c.prototype.add=function(f,l){var m;l=void 0 === l?0:l;m=this.Oe[l];m?this.Ghb && -1 !== m.indexOf(f) || m.push(f):this.Oe[l]=[f];};c.prototype.remove=function(f,l){this.hx(f,void 0 === l?0:l);};c.prototype.removeAll=function(f){this.hx(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Oe).sort().reduce(function(l,m){return l.concat(f.Oe[m]);},[]);};c.prototype.hx=function(f,l){Object.entries(this.Oe).forEach(function(m){var d,g;d=aa(m);m=d.next().value;d=d.next().value;if(void 0 === l || l === parseInt(m)){-1 < (g=d.indexOf(f)) && d.splice(g,1);}});};a=r.__decorate([a.R()],c);b.vba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UHa="UrlFactorySymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k,n,q,p){this.debug=d;this.config=g;this.platform=h;this.F5=k;this.debug.assert(n && n != l.M.im,"There should always be a specific error code");this.errorCode=n || l.M.im;q && "object" === typeof q?(this.oa=q.oa || q.kc,this.Ze=q.Ze || q.xd,this.Gia=q.Gia || q.zm,this.rb=q.rb || q.details,this.CS=q.Fj,this.QK=q.QK || q.MZa || q.Fv,this.OK=q.OK || q.data,q.MU && (this.MU=q.MU),this.jk=q.jk,this.method=q.method,this.d6=q.d6,this.alert=q.alert,this.Xea=q.Xea,this.YT=q.YT,!this.rb && this.YT && (this.rb=JSON.stringify(this.YT)),this.debug.assert(!this.jk || this.jk == this.Ze)):(this.oa=q,this.Ze=p);this.stack=[this.errorCode];this.oa?this.stack.push(this.oa):this.Ze && this.stack.push(l.L.im);this.Ze && this.stack.push(this.Ze);this.f2=this.platform.pp + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;f=a(12);l=a(3);m=a(18);a(24);c.prototype.toString=function(){var d;d="[PlayerError #" + this.f2 + "]";this.rb && (d+=" " + this.rb);this.CS && (d+=" (CustomMessage: " + this.CS + ")");return d;};c.prototype.Ita=function(){var d,g,h,k;this.CS && (h=["streaming_error"]);h || this.F5.Js() !== f.DY || ("80080017" == this.Ze && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ze && (h=["pause_timeout"]));h || this.F5.Js() !== f.w$ || this.errorCode !== l.M.eya && this.errorCode !== l.M.MO || (h=["no_cdm","platform_error","plugin_error"]);this.TFb() && (h=["received_soad"]);k=this.Izb();k && (h=[k],this.CS=void 0);if(!h)switch(this.errorCode){case l.M.tZ:case l.M.ZY:case l.M.p8a:case l.M.pDa:h=["pause_timeout"];break;case l.M.hAa:case l.M.iAa:h=this.oa?["platform_error"]:["multiple_tabs"];break;case l.M.Xbb:case l.M.Neb:case l.M.wbb:case l.M.vbb:case l.M.ybb:h=["should_signout_and_signin"];break;case l.M.U$:case l.M.tDa:case l.M.Qaa:case l.M.nDa:h=["platform_error","plugin_error"];break;case l.M.EP:h=["no_cdm","platform_error","plugin_error"];break;case l.M.Paa:h=this.oa?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case l.M.lya:case l.M.tq:case l.M.uZ:switch(this.Ze){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case l.M.qDa:case l.M.Oaa:h=["unsupported_output"];}!h && l.Hya(this.oa) && (h=this.oa == l.L.jP?["geo"]:["internet_connection_problem"]);h || this.errorCode !== l.M.MO || this.oa !== l.L.gj || "S" !== this.platform.pp || (h=["private_mode"]);if(!h)switch(this.i5a(this.oa)){case l.L.gca:h=["should_upgrade"];break;case l.L.lDa:h=["should_reset_device"];break;case l.L.kDa:h=["should_reload_device"];break;case l.L.jDa:h=["should_exit_device"];break;case l.L.Ecb:case l.L.JBa:h=["should_signout_and_signin"];break;case l.L.Fcb:h=["internet_connection_problem"];break;case l.L.jxa:h=["platform_error","plugin_error"];break;case l.L.ixa:case l.L.Pza:case l.L.Qza:h=["private_mode"];break;case l.L.Zbb:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.pp + this.errorCode);if(this.oa)switch(this.i5a(this.oa)){case l.L.mDa:h.push("incorrect_pin");break;default:h.push("" + this.oa);}h={display:{code:this.f2,text:this.CS},messageIdList:h,alert:this.alert,alertTag:this.Xea,preferredAudioLocale:null === (d=this.YT) || void 0 === d?void 0:d.d6b,preferredTextLocale:null === (g=this.YT) || void 0 === g?void 0:g.e6b};if(this.QK || this.MZa)h.mslErrorCode=this.QK || this.MZa || this.Fv;return h;};c.prototype.i5a=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.TFb=function(){var d;d=m.ya(this.Ze)?this.Ze.toString():m.Fe(this.Ze)?this.Ze:"";return this.QK === l.gZ.bca && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.Izb=function(){if(this.errorCode === l.M.pI && (this.oa === l.L.Kaa || this.oa === l.L.iDa))return this.Jzb(this.oa === l.L.Kaa);};c.prototype.Jzb=function(d){var g,h,k,n;k=this.config().browserInfo || ({});n=null === (g=k.os) || void 0 === g?void 0:g.name;g=((null === (h=k.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.XEa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uaa="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PO="EventSourceFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PO=b.Lya=void 0;r=a(1);f=a(318);a=a(0);c.prototype.create=function(){return new f.Xj();};a=r.__decorate([a.R()],c);b.Lya=a;b.PO="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rxa="DebouncerFactorySymbol";},function(r,b,a){var f;function c(l,m,d,g,h,k){this.level=l;this.Ln=m;this.timestamp=d;this.message=g;this.Vb=h;this.index=void 0 === k?0:k;this.Tbb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.iaa=void 0;f=a(4);c.prototype.z8=function(l,m){var d;d="" + this.message;this.Vb.forEach(function(g){d+=g.yH(l,m);});return (this.timestamp.ea(f.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Tbb[this.level] || this.level) + "|" + this.Ln + "| " + d;};b.iaa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GCa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IEa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gIa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GHa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hxa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ODa="PboGenerateScreenshotsCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wHa="ThroughputTrackerSymbol";b.uHa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qya="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dwa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iva={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var f,l,m;function c(d,g,h,k){this.config=d;this.Oi=g;this.mediaType=h;this.Cv=k;this.loa={};this.loa[f.fm.Audio]="audio";this.loa[f.fm.dIa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.CO=void 0;f=a(25);r=a(106);l=a(165);m=new r.yA().format;c.prototype.aVa=function(d){return this.Lub(this.GUa(d));};c.prototype.Ix=function(d){return this.Oi.isTypeSupported(d);};c.prototype.rTa=function(){return [l.Je.TX,l.Je.uza,l.Je.hI];};c.prototype.ema=function(){this.Vm=[];this.Et=[];this.config().sMb && this.Et.push(l.Je.WD);this.config().b0a && this.Et.push(l.Je.tza);this.config().a0a && this.Et.push(l.Je.lza);this.config().$_a && this.Et.push(l.Je.Mr);this.config().yG && this.Et.push(l.Je.$z);this.config().c0a && this.Et.push(l.Je.Qw);this.config().Z_a && this.Et.push(l.Je.dj);this.Et=this.Et.concat(this.rTa());!this.config().Cwb && this.Vm.push(l.Je.WD);!this.config().lRa && this.Vm.push(l.Je.T9a);!this.config().kRa && this.Vm.push(l.Je.U9a);!this.config().OS && this.Vm.push(l.Je.V9a);!this.config().qwb && this.Vm.push(/prk$/);this.config().$_a || this.config().bwb || this.Vm.push(l.Je.Mr);this.config().b0a || this.config().dwb || this.Vm.push(l.Je.tza);this.config().a0a || this.config().uia || this.Vm.push(l.Je.lza);this.config().yG || this.config().JK || this.Vm.push(l.Je.$z);this.config().c0a || this.config().Awb || this.Vm.push(l.Je.Qw);this.config().Z_a || this.config().Yvb || this.Vm.push(l.Je.dj);!this.config().ywb && this.Vm.push(l.Je.JI);};c.prototype.eSa=function(d){var g,h;g=this;h=d.map(function(k){for(var n=aa(g.Et),q=n.next();!q.done;q=n.next()){if(q.value.test(k))return Promise.resolve(!0);}n=aa(g.Vm);for(q=n.next();!q.done;q=n.next()){if(q.value.test(k))return Promise.resolve(!1);}return g.iy(k).catch(function(){return !1;});});return Promise.all(h).then(function(k){return d.filter(function(n,q){return k[q];});});};c.prototype.iy=function(d){return this.config().nwb?this.Cv.iy(d):this.Jxb(d);};c.prototype.Jxb=function(d){var g;d=this.Aqa[d];g="";return d?(Array.isArray(d) && (g=1 < d.length?" " + d[1]:"",d=d[0]),d=m("{0}/mp4;codecs={1};{2}",this.loa[this.mediaType],d,g),d=this.Ix(d),Promise.resolve(d)):Promise.resolve(!1);};c.prototype.Lub=function(d){var g;g={};this.ema();return this.eSa(d).then(function(h){return h.map(function(k){return g[k]=1;});}).then(function(){return Object.keys(g);});};Va.Object.defineProperties(c.prototype,{Aqa:{configurable:!0,enumerable:!0,get:function(){this.LKa || (this.LKa=this.fF());return this.LKa;}}});b.CO=c;},function(r,b,a){var f,l,m,d,g;function c(h,k,n){n=l.CO.call(this,h,k,f.fm.Audio,n) || this;n.config=h;n.Oi=k;n.type=f.au.du;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.AY=void 0;f=a(25);l=a(342);m=a(48);d=a(140);g=new (a(106).yA)().format;ka(c,l.CO);c.prototype.UW=function(){var h;h=g(c.FH,d.Jd.S9a);return Promise.resolve(this.config().OS && this.Oi.isTypeSupported(h));};c.prototype.fF=function(){var h;h={};h[m.oe.kD]="mp4a.40.2";h[m.oe.sza]="mp4a.40.2";h[m.oe.lD]="mp4a.40.2";h[m.oe.WD]="mp4a.40.42";h[m.oe.EO]="ec-3";h[m.oe.i$]="ec-3";h[m.oe.FO]="ec-3";return h;};c.prototype.GUa=function(h){return h || this.config().fB;};b.AY=c;c.FH="audio/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dCa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hCa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gCa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CFa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aZ="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qba="Storage";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.axa="CorruptedStorageValidatorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XAa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ACa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wva="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uva="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tva="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lwa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UBa="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SBa="ManifestProviderConfigSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,f,l,m,d,g;b=a(57);c=a(361);f=a(681);l=a(359);m=a(216);d=a(686);g=a(364);a=b(c(["filter"],d,function(h,k){return l(k)?m(function(n,q){h(k[q]) && (n[q]=k[q]);return n;},{},g(k)):f(h,k);}));r.exports=a;},function(r,b,a){var c,f;c=a(362);f=a(680);r.exports=function(l,m,d){return function(){var g,h;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);h=g.pop();if(!c(h)){for(var k=0;k < l.length;){if("function" === typeof h[l[k]])return h[l[k]].apply(h,g);k+=1;}if(f(h))return m.apply(null,g)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={nb:function(){return this.RX["@@transducer/init"]();},result:function(b){return this.RX["@@transducer/result"](b);}};},function(r,b,a){var c,f,l,m,d;b=a(122);c=a(215);f=a(687);l=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var h,k,n,q;if(Object(g) !== g)return [];h=[];k=d && f(g);for(n in g){!c(n,g) || k && "length" === n || (h[h.length]=n);}if(l)for(k=m.length - 1;0 <= k;){n=m[k];if(q=c(n,g)){a:{for(q=0;q < h.length;){if(h[q] === n){q=!0;break a;}q+=1;}q=!1;}q=!q;}q && (h[h.length]=n);--k;}return h;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=Array(f);c < f;){l[c]=b(a[c]);c+=1;}return l;};},function(r,b,a){var c,f,l;c=a(217);f=a(122);b=a(57);l=a(690);a=b(function(m,d){return 1 === m?f(d):c(m,l(m,[],d));});r.exports=a;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sba=void 0;f=a(11);c.FUa=function(){var l;l=f.pu && f.pu.height;return l?1080 <= l?1080:720:720;};b.Sba=c;},function(r,b){function a(c,f){this.log=c;this.F8=f;}Object.defineProperty(b,"__esModule",{value:!0});b.tP=void 0;a.prototype.i6a=function(c,f){var l,m;l=this;if(!c)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);m=c.map(function(d){var g,h,k,n,q,p,t;t=l.F8(f,f.type,d.kia,d.bitrate,d.wb,d.size,l.fAb(d.urls),d.G1,d.Cyb / d.Byb,d.Jy);t.lTb(d.dRb,d.cRb,d.J0a,d.I0a);t.ySb(null !== (g=d.Atb) && void 0 !== g?g:void 0,null !== (h=d.Btb) && void 0 !== h?h:void 0,null !== (k=d.ztb) && void 0 !== k?k:void 0,null !== (n=d.ytb) && void 0 !== n?n:void 0,null !== (q=d.J0a) && void 0 !== q?q:void 0,null !== (p=d.I0a) && void 0 !== p?p:void 0);f.Jl && (t.Jl=f.Jl);d.G1 && (t.Kg=d.G1);return t;});m.sort(function(d,g){return d.bitrate - g.bitrate;});m.forEach(function(d,g){d.lower=m[g - 1];d.GDb=m[g + 1];});return m;};a.prototype.fAb=function(c){return c.reduce(function(f,l){f[l.nga]=l.url;return f;},{});};b.tP=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YEa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EHa="TrackStreamFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MHa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XBa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UDa="PboLinksManagerSymbol";b.SDa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OBa="ManifestEnricherSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(709),b);r.__exportStar(a(710),b);r.__exportStar(a(711),b);r.__exportStar(a(712),b);r.__exportStar(a(713),b);r.__exportStar(a(714),b);r.__exportStar(a(715),b);r.__exportStar(a(716),b);r.__exportStar(a(717),b);r.__exportStar(a(718),b);r.__exportStar(a(719),b);r.__exportStar(a(720),b);r.__exportStar(a(724),b);r.__exportStar(a(219),b);r.__exportStar(a(725),b);r.__exportStar(a(220),b);r.__exportStar(a(726),b);r.__exportStar(a(727),b);r.__exportStar(a(728),b);r.__exportStar(a(729),b);r.__exportStar(a(730),b);r.__exportStar(a(731),b);r.__exportStar(a(732),b);r.__exportStar(a(733),b);r.__exportStar(a(734),b);r.__exportStar(a(735),b);r.__exportStar(a(736),b);r.__exportStar(a(737),b);r.__exportStar(a(738),b);r.__exportStar(a(739),b);r.__exportStar(a(740),b);r.__exportStar(a(741),b);r.__exportStar(a(742),b);r.__exportStar(a(743),b);r.__exportStar(a(744),b);r.__exportStar(a(752),b);r.__exportStar(a(754),b);r.__exportStar(a(755),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dfa=void 0;b.dfa=function(a,c,f){var l,m;l=!0;f.forEach(function(d){var g;if(l && a === d.profile){g=d.ranges;l=void 0 === g?c >= d.min && c <= d.max:g.some(function(h){return c >= h.min && c <= h.max;});!l && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:l,e2:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FD=void 0;b.FD={Bm:function(a){return a;}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sq=b.peb=void 0;c=a(2);f=a(221);r=(function(){function l(m,d){this.G=m;this.xy=d?[d]:[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});l.prototype.addListener=function(m){-1 === this.xy.indexOf(m) && (this.xy=this.xy.slice(),this.xy.push(m));};l.prototype.removeListener=function(m){m=this.xy.indexOf(m);-1 !== m && (this.xy=this.xy.slice(),this.xy.splice(m,1));};return l;})();b.peb=r;r=(function(l){function m(d,g){return l.call(this,d,g) || this;}c.__extends(m,l);m.Kua=function(d,g,h){return new f.Haa(d,g,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var g;g=this.G;g !== d && (this.G=d,this.xy.forEach(function(h){return h({oldValue:g,newValue:d});}));};return m;})(r);b.sq=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ud=void 0;r=a(2);r.__exportStar(a(380),b);r.__exportStar(a(771),b);r.__exportStar(a(222),b);r.__exportStar(a(772),b);r.__exportStar(a(773),b);r.__exportStar(a(774),b);r.__exportStar(a(381),b);r.__exportStar(a(776),b);c=a(53);Object.defineProperties(b,{Ud:{enumerable:!0,get:function(){return c.Ud;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kr=b.rO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.WHb=2]="lowCpuPlaybackStarting";})(b.rO || (b.rO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Kr || (b.Kr={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eha=b.pxb=b.nB=b.iH=void 0;c=a(2);f=a(22);l=a(66);Object.defineProperties(b,{iH:{enumerable:!0,get:function(){return l.iH;}}});Object.defineProperties(b,{nB:{enumerable:!0,get:function(){return l.nB;}}});b.pxb=function(m,d){var g,p,t;m=Math.max(m.duration - 3E4,3E4);for(var h={},k,n=0,q=0;q < m;q+=3E4){p="s" + n++;t={$:d,jc:q,Fc:q + 3E4 < m?q + 3E4:null};void 0 !== k && (k.next=(g={},g[p]={weight:1},g),k.Fh=p);k=h[p]=t;}return {Te:"s0",wa:h,ae:"lazy"};};b.eha=function(m,d,g){var h,q,p,t;try{for(var k=c.__values(Object.keys(m.wa)),n=k.next();!n.done;n=k.next()){q=n.value;p=m.wa[q];if(p.$ === d){t=f.S.mb(p.jc);if(g.Un(t) && (null === p.Fc || void 0 === p.Fc || g.lessThan(f.S.mb(p.Fc))))return {va:q,offset:g.Aa(t)};}}}catch(v){var u;u={error:v};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(u)throw u.error;}}};},function(r){function b(){}function a(c){this.qLa=c;this.Io=[];this.dg=null;}b.prototype.clear=function(){this.Oe=null;this.size=0;};b.prototype.find=function(c){var l;for(var f=this.Oe;null !== f;){l=this.lm(c,f.data);if(0 === l)return f.data;f=f.Pg(0 < l);}return null;};b.prototype.lowerBound=function(c){var d;for(var f=this.Oe,l=this.iterator(),m=this.lm;null !== f;){d=m(c,f.data);if(0 === d)return (l.dg=f,l);l.Io.push(f);f=f.Pg(0 < d);}for(d=l.Io.length - 1;0 <= d;--d){if((f=l.Io[d],0 > m(c,f.data)))return (l.dg=f,l.Io.length=d,l);}l.Io.length=0;return l;};b.prototype.upperBound=function(c){for(var f=this.lowerBound(c),l=this.lm;null !== f.data() && 0 === l(f.data(),c);){f.next();}return f;};b.prototype.min=function(){var c;c=this.Oe;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Oe;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Xe=function(c){for(var f=this.iterator(),l;null !== (l=f.next());){c(l);}};a.prototype.data=function(){return null !== this.dg?this.dg.data:null;};a.prototype.next=function(){var c;if(null === this.dg){c=this.qLa.Oe;null !== c && this.lKa(c);}else if(null === this.dg.right){do {if((c=this.dg,this.Io.length))this.dg=this.Io.pop();else {this.dg=null;break;}}while(this.dg.right === c);}else (this.Io.push(this.dg),this.lKa(this.dg.right));return null !== this.dg?this.dg.data:null;};a.prototype.HG=function(){var c;if(null === this.dg){c=this.qLa.Oe;null !== c && this.hKa(c);}else if(null === this.dg.left){do {if((c=this.dg,this.Io.length))this.dg=this.Io.pop();else {this.dg=null;break;}}while(this.dg.left === c);}else (this.Io.push(this.dg),this.hKa(this.dg.left));return null !== this.dg?this.dg.data:null;};a.prototype.lKa=function(c){for(;null !== c.left;){this.Io.push(c);c=c.left;}this.dg=c;};a.prototype.hKa=function(c){for(;null !== c.right;){this.Io.push(c);c=c.right;}this.dg=c;};r.exports=b;},function(r){function b(a){this.Dda=a;this.Nf=[];this.Eq=!1;this.xE=void 0;this.tj={};}b.prototype.J0=function(a){this.Nf.length === this.Dda && this.Nf.shift();Array.isArray(a)?this.Nf=this.Nf.concat(a):this.Nf.push(a);this.Eq=!0;};b.prototype.qL=function(){return this.Nf.length;};b.prototype.cga=function(){var a;a=this.Nf;return 0 < a.length?a.reduce(function(c,f){return c + f;},0) / this.Nf.length:void 0;};b.prototype.p1=function(){var a,c;a=this.Nf;if(0 < a.length){c=this.cga();a=a.reduce(function(f,l){return f + l * l;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.ns=function(a){var c,f,l;if(this.Eq || void 0 === this.xE)(this.xE=this.Nf.slice(0).sort(function(m,d){return m - d;}),this.tj={},this.Eq=!1);if(void 0 === this.tj[a]){c=this.xE;f=Math.floor(a / 100 * (c.length - 1) + 1) - 1;l=(a / 100 * (c.length - 1) + 1) % 1;this.tj[a]=f === c.length - 1?c[f]:c[f] + l * (c[f + 1] - c[f]);}return this.tj[a];};r.exports=b;},function(r,b,a){r.exports={s5b:a(386),z8b:a(228),XZb:a(796),WZb:a(387),YZb:a(388),Xya:a(799)};},function(r,b,a){var m;function c(d){this.reset();this.SSb(d);}function f(d){this.setInterval(d);this.reset();}function l(d){this.GA=new f(d);this.Ae=0;this.Cc=null;}m=a(10);c.prototype.SSb=function(d){this.SI=Math.pow(.5,1 / d);this.AQ=d;};c.prototype.reset=function(d){d && d.Ca && m.ya(d.Ca)?d.ti && m.ya(d.ti)?(this.xu=this.whb,this.Jo=d.Ca,this.CA=d.ti + d.Ca * d.Ca):(this.xu=this.whb,this.Jo=d.Ca,this.CA=d.Ca * d.Ca):this.CA=this.Jo=this.xu=0;};c.prototype.add=function(d){var g;if(m.ya(d)){this.xu++;g=this.SI;this.Jo=g * this.Jo + (1 - g) * d;this.CA=g * this.CA + (1 - g) * d * d;}};c.prototype.get=function(){var d,g,h;if(0 === this.xu)return {Ca:0,ti:0};d=this.Jo;g=this.CA;h=1 - Math.pow(this.SI,this.xu);d/=h;g/=h;h=d * d;return {Ca:Math.floor(d),ti:Math.floor(g > h?g - h:0)};};c.prototype.getState=function(){return 0 === this.xu?null:{a:Number(this.Jo.toPrecision(6)),s:Number(this.CA.toPrecision(6)),n:this.xu};};c.prototype.Ie=function(d){if(m.tb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.CA=this.Jo=this.xu=0,!1);this.Jo=d.a;this.CA=d.s;m.has(d,"n") && m.ya(d.n)?this.xu=d.n:this.xu=16 * this.AQ;return !0;};f.prototype.setInterval=function(d){this.AQ=d;this.SI=-Math.log(.5) / d;};f.prototype.reset=function(d){this.jb=this.hf=null;d && m.isFinite(d.Ca)?this.Jo=d.Ca:this.Jo=0;};f.prototype.start=function(d){m.tb(this.hf) && (this.jb=this.hf=d);};f.prototype.add=function(d,g,h){var k,n;m.tb(this.hf) && (this.jb=this.hf=g);this.hf=Math.min(this.hf,g);g=Math.max(h - g,1);k=this.SI;n=h > this.jb?h:this.jb;this.Jo=this.Jo * (n > this.jb?Math.exp(-k * (n - this.jb)):1) + 8 * d / g * (1 - Math.exp(-k * g)) * (h > n?Math.exp(-k * (n - h)):1);this.jb=n;};f.prototype.get=function(d){var g;d=Math.max(d,this.jb);g=this.Jo * Math.exp(-this.SI * (d - this.jb));d=1 - Math.exp(-this.SI * (d - this.hf));0 < d && (g/=d);return {Ca:Math.floor(g)};};f.prototype.toString=function(){return "ewmav(" + this.AQ + ")";};l.prototype.setInterval=function(d){this.GA.setInterval(d);};l.prototype.reset=function(d){this.GA.reset(d);this.Ae=0;this.Cc=null;};l.prototype.start=function(d){!m.tb(this.Cc) && d > this.Cc && (this.Ae+=d - this.Cc,this.Cc=null);this.GA.start(d - this.Ae);};l.prototype.add=function(d,g,h){!m.tb(this.Cc) && h > this.Cc && (this.Ae+=g > this.Cc?g - this.Cc:0,this.Cc=null);this.GA.add(d,g - this.Ae,h - this.Ae);};l.prototype.stop=function(d){this.Cc=Math.max(m.tb(this.GA.jb)?0:this.GA.jb + this.Ae,m.tb(this.Cc)?d:Math.min(this.Cc,d));};l.prototype.get=function(d){return this.GA.get((m.tb(this.Cc)?d:this.Cc) - this.Ae);};l.prototype.toString=function(){return this.GA.toString();};r.exports={U$a:c,p_b:f,S$a:l};},function(r,b,a){var f,l;function c(m,d,g,h){f.call(this,g,h);this.Eu=new l(m);this.bib=d;}f=a(145);l=a(384);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Jv(0);f.prototype.shift.call(this);null !== m && this.Eu.J0(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.Eu.J0(m);f.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.GT();return {sampleSize:this.qL(),L6:m,fV:m.Mj?(m.il - m.gl) / m.Mj:void 0};};c.prototype.qL=function(){return this.Eu.qL();};c.prototype.GT=function(){return this.Eu.qL() < this.bib?{gl:void 0,Mj:void 0,il:void 0,sampleSize:void 0,Si:void 0}:{gl:this.Eu.ns(25),Mj:this.Eu.ns(50),il:this.Eu.ns(75),sampleSize:this.Eu.qL(),Si:this.Eu.ns.bind(this.Eu)};};c.prototype.toString=function(){return "biqr(" + this.NJ + "," + this.sd + "," + this.wj + ")";};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={HU:m.maxc || 25,Uga:m.c || .5,$Yb:m.w || 15E3,Dx:m.b || 5E3};f.call(this,this.I.$Yb,this.I.Dx);this.bR();}f=a(145);l=a(226).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Jv(0);f.prototype.shift.call(this);null !== m && (this.Pe.push(m,1),this.Eq=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.Pe.push(m,1);this.Eq=!0;f.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.cVa();};c.prototype.sy=function(){var m;m=this.cVa();return {min:m.min,p10:m.E6,p25:m.gl,p50:m.Mj,p75:m.il,p90:m.F6,max:m.max,centroidSize:m.Vob,sampleSize:m.sampleSize,centroids:m.di};};c.prototype.cVa=function(){var m;if(0 === this.Pe.size())return null;m=this.Pe.Si([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.Eq || !this.Lf)(this.Eq=!1,this.Lf={min:m[0],E6:m[1],gl:m[2],Mj:m[3],il:m[4],F6:m[5],max:m[6],Si:this.Pe.Si.bind(this.Pe),Vob:this.Pe.size(),sampleSize:this.Pe.n,di:this.Kzb(),sy:this.sy.bind(this)});return this.Lf;};c.prototype.Kzb=function(){var m;if(0 === this.Pe.size())return null;if(!this.Eq && this.Lf)return this.Lf.centroids;m=this.Pe.Si([.25,.75]);if(m[0] === m[1])return null;this.Pe.size() > this.I.HU && this.Pe.Ox();m=this.Pe.uo(!1).map(function(d){return {mean:d.Uf,n:d.n};});return JSON.stringify(m);};c.prototype.ZUa=function(){return this.Pe.summary();};c.prototype.size=function(){return this.Pe.size();};c.prototype.toString=function(){return "btdtput(" + this.NJ + "," + this.sd + "," + this.wj + "): " + this.Pe.summary();};c.prototype.bR=function(){this.Pe=new l(this.I.Uga,this.I.HU);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={HU:m.maxc || 25,Uga:m.c || .5,FPb:m.rc || "none",SCb:m.hl || 7200};this.bR();this.Djb=this.I.FPb;this.AQ=this.I.SCb;this.sca=Math.exp(Math.log(2) / this.AQ);this.sca=Math.max(this.sca,1);this.t_=1;}f=a(10);l=a(226).TDigest;new (a(5).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.Pe.size())return null;m=this.Pe.Si([.25,.75]);if(m[0] === m[1])return null;this.Pe.size() > this.I.HU && this.Pe.Ox();m=this.Pe.uo(!1).reduce((function(d,g){f.ya(g.Uf) && f.ya(g.n) && d.push({mean:g.Uf,n:g.n / this.t_});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Ie=function(m){var d;if(f.tb(m) || !f.has(m,"tdigest") || !f.Fe(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(g){return !1;}d.forEach(function(g){f.isFinite(g.n) || (g.n=1);});m=d.map(function(g){return {Uf:g.mean,n:g.n};});this.t_=1;this.Pe.Fqa(m);void 0 === this.Pe.Si(0) && this.bR();};c.prototype.get=function(){var m,d;m=this.Pe;d=m.Si([0,.1,.25,.5,.75,.9,1]);return {min:d[0],E6:d[1],gl:d[2],Mj:d[3],il:d[4],F6:d[5],max:d[6],di:m.uo(!1)};};c.DBb=function(m){var d;d=new c({});f.tb(m) || f.fa(m) || !f.isArray(m.di) || (d.Pe.Fqa(m.di),void 0 === d.Pe.Si(0) && d.bR());m=d.Pe.Si([.25,.75]);return m[0] === m[1]?null:function(g){return d.Pe.Si(g);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.Djb && (this.t_=d=this.t_ * this.sca);this.Pe.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Pe.summary() + ")";};c.prototype.bR=function(){this.Pe=new l(this.I.Uga,this.I.HU);};r.exports={oHa:c};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Gza=b.S$=void 0;c=a(2);f=c.__importStar(a(10));l=c.__importDefault(a(5));m=a(810);d=a(811);g=(function(){return function(){this.$0=new d.GP(100);this.g6=new d.GP(100);};})();r=(function(){function h(k,n,q){var p,t,u;this.I=n;this.H=q;this.o0=k;p=this.FJ=this.WI=this.VI=0;t=0;u=0;this.o0.length >= this.I.R5 && (this.o0.forEach(function(v){!(v=v.get().myb) || f.fa(v.avtp) || f.fa(v.neuhd) || (p+=v.avtp,t+=1 * v.neuhd,u++);}),this.FJ=u,this.VI=p / u,this.WI=t / u);}Object.defineProperties(h.prototype,{dnb:{get:function(){return this.VI;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enb:{get:function(){return this.WI;},enumerable:!1,configurable:!0}});h.prototype.L4=function(){return this.FJ >= this.I.R5 && this.VI >= this.I.baselineHighAndStableThreshold.bwThreshold && this.WI < this.I.baselineHighAndStableThreshold.nethreshold;};return h;})();b.S$=r;r=(function(h){function k(n,q,p){n=h.call(this,n,q,p) || this;n.ica=[];n.xxb={};n.B5a=[];n.Rx=new g();n.o0.length >= n.I.R5 && (n.vLa("avtp",n.Rx.$0),n.vLa("neuhd",n.Rx.g6));return n;}c.__extends(k,h);k.prototype.L4=function(){var n;this.CBb();n=new m.wBa(this.H,this.B5a,this.wnb);n.lqa(this.ica);n=n.Dpb(this.I.a4.S7b);return this.XXb && 1 === n && this.FJ >= this.I.R5;};k.prototype.uT=function(){var n,q,p,t;n={};q=l.default.time.now();p=new Date(q);t=p.getHours();n.currentMonoTime=q;n.currentTime=p.getTime();n.currentHour=t;return n;};k.prototype.uTa=function(n,q,p){n="avtp" === n?this.VI:this.WI;for(var t=q.p1(),u=0,v="skew" === p?3:4,w=0;w < q.Nf.length;w++){f.fa(n) || f.fa(t) || (u+=Math.pow(q.Nf[w] - n,v));}u/=q.Nf.length;return !f.fa(t) && 0 < t?u / Math.pow(t,v) - 3 * ("skew" === p?0:1):NaN;};k.prototype.NTa=function(n,q,p){var t;t=0;"lte" === p?t=n.reduce(function(u,v){return v <= q?u + 1:u;},0) / (1 * n.length):"gte" === p && (t=n.reduce(function(u,v){return v >= q?u + 1:u;},0) / (1 * n.length));return t;};k.prototype.lBb=function(n){var q,p;q=n.ns(25);p=n.ns(50);n=n.ns(75);return f.fa(q) || f.fa(p) || f.fa(n)?NaN:0 < p?(n - q) / p:NaN;};k.prototype.Czb=function(n,q){n="avtp" === n?this.VI:this.WI;q=q.p1();return !f.fa(q) && !f.fa(n) && (0 < q || 0 < n) && 0 < n?(n - q) / (n + q):NaN;};k.prototype.GT=function(n,q){n=n.ns(q);return f.fa(n)?NaN:n;};k.prototype.normalize=function(n,q,p){return !isNaN(n) && 0 < p?(n - q) / p:NaN;};k.prototype.CBb=function(){var n,q,p,t,u,v,w,x,y,A,z,B;n=this;q=this.I.a4.qYa.F6b;p=this.I.a4.qYa.D6b;t=this.I.a4.qYa.E6b;x=[];B=0;this.XXb=!Object.keys(q).some(function(D){var E;z=NaN;if(!(q.hasOwnProperty(D) && p.hasOwnProperty(D) && t.hasOwnProperty(D) && !f.fa(n.Rx) && n.Rx.$0 && n.Rx.g6) || 1 > n.FJ || "number" !== typeof q[D] || "number" !== typeof p[D] || "number" !== typeof t[D])return !0;u=q[D];v=p[D];w=t[D];x=D.split("_",2);y=x[0];A=x[1];switch(y){case "avtp":E=n.Rx.$0;break;case "neuhd":E=n.Rx.g6;break;default:E=void 0;}if("avtp" === y || "neuhd" === y){if(E)switch(A){case "last":z=E.Nf[n.FJ - 1];break;case "mean":z="avtp" === y?n.VI:n.WI;break;case "niqr":z=n.lBb(E);break;case "skew":z=n.uTa(y,E,"skew");break;case "kurtosis":z=n.uTa(y,E,"kurtosis");break;case "std":z=E.p1();break;case "b":z=n.Czb(y,E);break;default:-1 !== D.search("[p][1-9]?[1-9]") && (z=n.GT(E,Number(D.split("_p",2)[1])));}}else switch(D){case "fracAbove20Mbps":E=n.Rx.$0;z=f.fa(E)?NaN:n.NTa(E.Nf,2E4,"gte");break;case "fracBelow20p":E=n.Rx.g6;z=f.fa(E)?NaN:n.NTa(E.Nf,.15,"lte");break;case "hour_current":z=n.uT().currentHour;break;case "session_ct":z=n.FJ;break;case "intercept":(z=u,n.wnb=z);}z=n.normalize(z,v,w);if(isNaN(z))return !0;"intercept" !== D && (n.ica.push(z),n.B5a.push(u),n.xxb[D]=B,B+=1);});};k.prototype.vLa=function(n,q){this.o0.forEach(function(p){p=p.get().myb;!p || "avtp" !== n && "neuhd" !== n || f.fa(p[n]) || q.J0(Number(p[n]));});};return k;})(r);b.Gza=r;},function(r,b,a){var f,l,m,d;function c(g){return function(){for(var h=Array(this.length),k=0;k < this.length;++k){h[k]=g.call(this,k);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.mmb=b.vv=b.Xba=b.DHa=void 0;r=a(2);f=a(6);r=r.__importDefault(a(5));l=a(22);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(h,k){this.Rc=h;this.Ig=k;}Object.defineProperties(g.prototype,{index:{get:function(){return this.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nc:{get:function(){return new l.S(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nd:{get:function(){return new l.S(this.kb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ya:{get:function(){return this.Rc.s0 + this.Rc.ZA[this.Ig];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kb:{get:function(){return this.Ya + this.Rc.Aq[this.Ig];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lp:{get:function(){return this.Rc.Aq[this.Ig];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qa:{get:function(){return this.Rc.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.Rc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X:{get:function(){return Math.floor(1E3 * this.Ya / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ea:{get:function(){return Math.floor(1E3 * (this.Ya + this.lp) / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{duration:{get:function(){return this.Ea - this.X;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.Ya / this.qa.U,endPts:1E3 * this.kb / this.qa.U,duration:1E3 * this.lp / this.qa.U,index:this.index};};return g;})();b.DHa=d;a=(function(){function g(h,k,n,q){this.mediaType=h;this.length=n.gd.length;this.fb=n.U;this.Aq=n.gd;this.L0=q && q.xt;this.dMa=q && q.Lt;this.mJ=k;this.bua=this.cua=this.dKa=void 0;this.s0=n.Bk;this.ZA=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k){this.ZA[k]=h;h+=this.Aq[k];}this.ZA[k]=h;this.rca=Math.floor((this.Ea - this.X) / this.length);}}Object.defineProperties(g.prototype,{Bk:{get:function(){return this.P4a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Bia:{get:function(){return this.P4a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X:{get:function(){return this.Zi(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ea:{get:function(){return this.Zi(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kl:{get:function(){return new l.S(this.Bia,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vna:{get:function(){return this.dKa || this.Zfb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qa:{get:function(){return this.mJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});g.prototype.P4a=function(h){return this.s0 + this.ZA[h];};g.prototype.Zi=function(h){return Math.floor(1E3 * (this.s0 + this.ZA[h]) / this.U);};g.prototype.VS=function(h){return this.Zi(h + 1);};g.prototype.gd=function(h){return this.VS(h) - this.Zi(h);};g.prototype.get=function(h){return new d(this,h);};g.prototype.Em=function(h,k,n){if(0 === this.length || h < this.Zi(0))return -1;h=Math.max(h,k || 0);for(var q=0,p=this.length - 1,t,u;p >= q;){if((t=q + (p - q >> 1),u=this.Zi(t),h < u))p=t - 1;else if(h >= u + this.gd(t))q=t + 1;else {for(;k && t < this.length && this.Zi(t) < k;){++t;}return t < this.length?t:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.J2=function(h,k,n){h=this.Em(h,k,n);return 0 <= h?this.get(h):void 0;};g.prototype.hha=function(h,k){var n,q;n=Math.floor(k * this.U / 1E3);k=Math.min(h + Math.ceil(k / this.rca),this.length);q=this.ZA[k] - this.ZA[h];if(q > n){for(;q >= n;){--k;q-=this.Aq[k];}return k - h + 1;}for(;q < n && k <= this.length;){q+=this.Aq[k];++k;}return k - h;};g.prototype.subarray=function(h,k){f.assert(void 0 === h || 0 <= h && h < this.length);f.assert(void 0 === k || k > h && k <= this.length);return new g(this.mediaType,this.qa,{U:this.U,Bk:this.s0 + this.ZA[h],gd:this.Aq.subarray(h,k)},this.L0 && ({xt:this.L0.subarray(h,k + 1),Lt:this.dMa}));};g.prototype.forEach=function(h){for(var k=0;k < this.length;++k){h(this.get(k),k,this);}};g.prototype.map=function(h){for(var k=[],n=0;n < this.length;++n){k.push(h(this.get(n),n,this));}return k;};g.prototype.reduce=function(h,k){for(var n=0;n < this.length;++n){k=h(k,this.get(n),n,this);}return k;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.rca};};g.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.rca + "ms");for(var h=0;h < this.length;++h){k=this.get(h);m.trace("TrackFragments: " + h + ": [" + k.X + "-" + k.Ea + "]");}};g.prototype.Zfb=function(){for(var h=0,k=0;k < this.length;k++){h=Math.max(this.Aq[k],h);}return this.dKa=h;};return g;})();b.Xba=a;b.vv=c;a.prototype.O4a=c(a.prototype.Zi);c(a.prototype.VS);c(a.prototype.gd);b.mmb=function(g){return "[" + Array(g.length).map(function(h,k){return g[k].toString();}).join(",") + "]";};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CRa=b.jy=b.Dm=b.OTa=void 0;c=a(6);f=a(144);b.OTa=function(l,m){return l.Em(m,void 0,!0);};b.Dm=function(l,m,d,g,h,k){var n,q,p,t;f.cm.yp(l);c.assert(d.Y,"findFirstFragment called without stream fragments");n=d.Y;g=Math.max(d.Y.Zi(0),g);0 === l && !k && m.ck && !m.dB && d.he && (g=Math.max(d.Y.Zi(0),g + d.he.V));q=b.OTa(n,g);p=d.mk(q);if(p.Ea < g)return p;t=p.gja(g);t?(0 < t.zk && p.th({start:t.zk}),0 !== l || m.H5 || (0 > t.pd && p.th({start:t.zk}),t.pd < (m.ck && !m.dB && d.he?Math.floor(d.he.V):0) && p.IS())):g >= p.Ea && q < n.length - 1 && (p=d.mk(q + 1));1 === l && h && p.Ea === h && q < n.length - 1 && (p=d.mk(q + 1));0 === l && !p.na && (m.u4 || m.Nvb) && k && p.th({});p.xN(g);return p;};b.jy=function(l,m,d,g,h,k){var n,q;f.cm.yp(l);n=d.Y;void 0 === g && (g=n.Ea);if(h && (h=h.Qxb(d,g,l,m,k)))return h;h=n.qa;k=g?g + b.CRa(l,h,m.yz,m.E7):n.VS(n.length - 1);n=n.Em(k,void 0,!0);h=d.mk(n);0 === n || h.X !== g || 1 !== l && m.yz || (--n,h=d.mk(n));k=1 === l?k:g;if(k < h.Ea){q=h.fja(k);q && 0 !== q.zk?h.th({end:q.zk}):0 === l && (q || k < h.X) && 0 !== n?h=d.mk(n - 1):1 === l && q && 0 !== n && (h=d.mk(n - 1));}0 === l && !h.na && m.u4 && h.th();h.xN(g);return h;};b.CRa=function(l,m,d,g){var h;return 1 === l || g?0:d?null !== (h=null === m || void 0 === m?void 0:m.V) && void 0 !== h?h:0:m?-m.V:0;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zva=void 0;c=a(816);f=a(22);a(6);l=a(98);r=(function(){function m(d,g,h){var k;this.I=g;this.H=h;this.vj=d.track;this.nkb=d.ng;this.xv=d.xv;this.Bhb=-1 === this.profile.indexOf("none");this.oJ=this.Ka=void 0;g=d.Xs;this.Xs=void 0 === g?!0:g;this.e2=d.e2;this.lJ=void 0;this.fKa=this.bg=0;this.url=this.cH=this.dd=this.xr=this.lna=this.location=this.Pa=this.lb=void 0;this.yy=!1;this.Jma=this.Se=void 0;g=(d=this.I) && "object" === typeof d.v1a && d.v1a[this.profile];"object" === typeof g && (g=g[this.bitrate]) && (this.e0=new f.S(g.ticks,g.timescale));this.mib=0 <= (null === (k=d.Omb) || void 0 === k?void 0:k.indexOf(this.profile));}Object.defineProperties(m.prototype,{Ee:{get:function(){return ! !this.Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{O:{get:function(){return this.vj.O;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$:{get:function(){return this.O.$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{K:{get:function(){return this.vj.K;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.vj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qa:{get:function(){return this.vj.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.vj.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jM:{get:function(){return this.vj.jM;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.vj.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ng:{get:function(){return this.nkb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Na:{get:function(){return this.xv.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Na;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jy:{get:function(){return this.Bhb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.xv.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wb:{get:function(){return this.xv.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fRb:{get:function(){return this.xv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{x7:{get:function(){return this.xv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.xv.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Kg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ar:{get:function(){return this.xv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{he:{get:function(){return this.e0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tDb:{get:function(){return this.mib;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y:{get:function(){return this.Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zy:{get:function(){return this.Ka && this.Ka.Zy;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cja:{get:function(){return this.vj.Cja;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Bja:{get:function(){return this.vj.Bja;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hs:{get:function(){return void 0 !== this.lJ?this.lJ:this.VFb();},set:function(d){this.lJ=d;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zs:{get:function(){return this.Xs && !this.yy;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zg:{get:function(){return this.oJ;},enumerable:!1,configurable:!0}});m.prototype.nk=function(){return this.O.nk(this.mediaType,this.Na);};m.prototype.q3=function(){var d;d=this.nk();return d && d.stream.Y;};m.prototype.EH=function(d){return this.O.EH(this,d);};m.prototype.x6=function(){this.track.x6();};m.prototype.w6=function(){this.track.w6();};m.prototype.v6=function(d,g,h,k,n,q,p){k && void 0 !== k.Bk && (this.track.Ee || void 0 !== k.gd && k.gd.length) && void 0 !== k.offset && void 0 !== k.sizes && k.sizes.length?(this.I.ck && this.he && 0 === k.Bk && (k.Bk+=this.he.Yf(k.U).Xb),this.oJ=d,this.Ee || (this.track.v6(this,g,h,k,q),this.Ka=new c.YGa(this.track.vo,k,n,q,p,this.K),this.track.vLb(this))):k?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== k.Bk) + "," + this.track.Ee + "," + this.track.pia + "," + (void 0 !== k.gd) + "," + !(!k.gd || !k.gd.length) + "," + (void 0 !== k.offset) + "," + (void 0 !== k.sizes) + "," + !(!k.sizes || !k.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};m.prototype.J1=function(d){this.Ee || (this.track.Hqb(d.track),this.Ka=d.Y,this.oJ=d.zg);};m.prototype.mk=function(d){return new l.dm(this,this.Y.get(d));};m.prototype.ITa=function(d){var g;g=this.mk(d.index);d.na && (g.th(d.na),g.xN(d.Ut));return g;};m.prototype.G6a=function(d,g){this.bg=d;this.fKa=g;};m.prototype.Kpb=function(){this.Pa=this.lb=this.dd=this.location=this.url=void 0;};m.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Na,bitrate:this.bitrate,streamIndex:this.ng,isAvailable:this.Xs,fittable:this.Hs,vmaf:this.wb,resolutionWidth:this.fRb,resolutionHeight:this.x7};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Na + ":" + this.bitrate;};m.prototype.VFb=function(){var d,g,h,k,n;if(!this.Ee)return !0;if(this.track.Bla >= this.bitrate)return this.lJ=!0;if(this.track.oYa <= this.bitrate)return this.lJ=!1;n=this.Ka.mob(this.I.UU,this.bg,null !== (g=null === (d=this.O) || void 0 === d?void 0:d.kH.V) && void 0 !== g?g:0,null !== (k=null === (h=this.O) || void 0 === h?void 0:h.kH.ca) && void 0 !== k?k:0,this.fKa);if(n){if(!this.track.pia || this.Jy)this.track.Bla=this.bitrate;}else this.track.oYa=this.bitrate;return this.lJ=n;};return m;})();b.zva=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.ny=1536;return m;}c.__extends(l,f);l.La=!0;return l;})(a(174).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="ac-3";return l;})(r);b.o9=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="ec-3";return l;})(r);b.x$=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(97);r=a(31);l=f.CD;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.ic();this.fileSize=this.u.Hd();this.U=this.u.Hd();this.duration=this.u.Hd(!1,!0);this.cpa=this.u.Hd();this.u.Hd();this.gpa=this.u.Hd();this.Moa=this.u.ta();this.dpa=this.u.Hd();this.rja=this.u.ta();this.u.uz();this.Ge={moof:{offset:this.cpa},sidx:{offset:this.dpa,size:this.rja}};this.Ge[f.xP]={offset:this.gpa,size:this.Moa};this.u.offset - this.startOffset <= this.length - 24 && (this.fpa=this.u.Hd(),this.Goa=this.u.ta(),this.epa=this.u.Hd(),this.Eoa=this.u.ta(),this.Ge[f.Hw]={offset:this.fpa,size:this.Goa},this.Ge[f.Gw]={offset:this.epa,size:this.Eoa});return !0;};d.Nb=l;d.La=!1;return d;})(r.mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(97);a=a(31);f=r.DD;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.ic();1 <= this.version && this.u.uz();d=this.u.ta();this.Ge={};for(var g=this.startOffset + this.length,h=0;h < d;++h){k=this.u.kl();"uuid" === k && (k=this.u.uz());n=this.u.Hd();this.Ge[k]={offset:g,size:n};g+=n;}return !0;};m.Nb=f;m.La=!1;return m;})(a.mc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);l=a(82);r=(function(m){function d(g,h,k,n,q){k=m.call(this,k,n,q) || this;k.Kfa=g;k.aq=h;k.Ta={};return k;}c.__extends(d,m);d.prototype.parse=function(g){var h,k,n,q,p,t;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.ta();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=l.un(this.ta());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.uz();}if(0 === h.length && this.aq.kT(q,k,n))break;if(k + n > this.view.byteLength)break;p=this.Kfa[q];t=void 0;if(p){if((t=new p(this,q,k,n,h[0]),(h[0] || this).hs(t),t.parse(g)))this.config.zG && p.La?h.unshift(t):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Sm - 8;){t=h.shift();if(!t.Fs(g))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.Sm;}if(0 === h.length && this.aq.DS(q,k,n,t))break;}return !this.aq.done && (g=this.aq.endOffset?this.aq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,$U:g}:{done:!0,offset:Math.min(this.aq.endOffset || Infinity,this.offset)};};d.prototype.hs=function(g){f.mc.hs(this,g);};return d;})(a(836).dca);b.eD=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(97);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.kT=function(){return this.done;};l.prototype.DS=function(m,d,g){return this.done=d + g >= this.endOffset;};return l;})();b.KO=r;r=(function(){function l(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.rh=m;this.Yx=d;this.dX=g;this.yV=h;this.done=!1;this.Ge={};}l.prototype.kT=function(m,d,g){-1 !== l.tla.indexOf(m) && (this.Ge[m]={offset:d,size:g});if(-1 !== this.dX.indexOf(m)){if((this.Ge[m]={offset:d,size:g},this.yV))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.rh && -1 !== this.rh.indexOf(m)?(m=1 < this.rh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.Yx.indexOf(m) && (m=this.rh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};l.prototype.DS=function(m,d,g,h){var k;k=this;if(-1 !== this.dX.indexOf(m))return this.done=!0;m === f.CD && this.GW(h.Ge);m === f.DD && this.GW(h.Ge);this.rh && c(m,this.rh);c(m,this.Yx);return this.rh && 0 === this.rh.length && !this.Yx.some(function(n){return k.Ge[n];})?this.done=!0:this.done;};l.prototype.GW=function(m){var d;d=this;this.Ge=m;this.endOffset=(this.rh || []).concat(this.Yx).reduce(function(g,h){return d.Ge[h]?(h=d.Ge[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};l.tla=["moov","sidx"];return l;})();b.R$=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Nba=void 0;c=a(2);f=a(111);a(6);c.__importDefault(a(37));r=(function(){function l(m,d,g,h){this.U=g;this.gd=m;this.sizes=d;this.length=Math.min(m.length,d.length);this.Ic=h;}Object.defineProperties(l.prototype,{ca:{get:function(){return void 0 !== this.Ic?this.Ic:this.Ic=this.yca();},enumerable:!1,configurable:!0}});l.prototype.subarray=function(m,d){return new l(this.gd.subarray(m,d),this.sizes.subarray(m,d),this.U);};l.prototype.concat=function(){var g,h;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spread(m));d=m.reduce(function(k,n){return k + n.length;},0);g=new Uint32Array(d);h=new Uint32Array(d);d=m.reduce(function(k,n){return k || n.U;},void 0);m.reduce(function(k,n){f.Yba.set(g,n.gd,k);f.Yba.set(h,n.sizes,k);return k + n.length;},0);return new l(g,h,d);};l.prototype.yca=function(){for(var m=this.sizes,d=this.length,g=0,h=0;h < d;++h){g+=m[h];}return g;};return l;})();b.Nba=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.N9=void 0;c=a(2);f=a(111);r=a(16);l=c.__importDefault(a(5));m=a(9);d=a(43);g=a(6);h=a(240);k=a(403);a=a(404);n=l.default.MediaSource;a=(function(q){function p(t,u,v,w,x,y,A){u=q.call(this,t,w,x,u,A) || this;k.aY.jWa(u,t,w,A);u.mo=v;u.track=v.track;u.hv=! !w.hv;u.kM=! !w.kM;u.xB=! !w.xB;u.eMb=w.ca;u.EN=! !w.EN;u.uda=(y?"(cache)":"") + u.Na + " header";v=w.offset;y=w.ca;u.mm && (v+=u.mm.byteLength,y-=u.mm.byteLength);u.IJ(t.url || w.url,v,y);return u;}c.__extends(p,q);Object.defineProperties(p.prototype,{Pc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zV:{get:function(){return this.gjb;},enumerable:!1,configurable:!0}});p.prototype.Lc=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}q.prototype.Lc.call(this);};p.prototype.jT=function(t){this.stream.x6();q.prototype.jT.call(this,t);};p.prototype.YK=function(t,u,v){this.stream.w6();q.prototype.YK.call(this,t,u,v);};p.prototype.uk=function(t){this.mm=this.mm?m.qB(this.mm,t.response):t.response;t.bW();this.stream.w6();this.ejb()?q.prototype.uk.call(this,t):this.DIa?(this.IJ(t.url,t.offset + t.ca,this.DIa),this.stream.x6(),q.prototype.uk.call(this,t)):this.T2(this);};p.prototype.IJ=function(t,u,v){t=new h.qO(this.stream,this.track,this.uda + " (" + this.Ba.length + ")",{offset:u,ca:v,url:t,location:this.location,zd:this.zd,responseType:0},this,this.Cd,this.H);this.push(t);this.Ic=this.Ba.reduce(function(w,x){return w + x.ca;},0);};p.prototype.ejb=function(){var t,u,v,w,x,y;v=this.Cd;w=new f.Rr(p.XJb,this.stream,this.mm,["sidx"],!0,{w8b:this.stream.track.pia,J6:void 0 === this.qa,H8:!n.Yb || !n.Yb.HOa,I8:v.I8,ck:v.ck,Sz:this.Cd.Sz,V2a:!0,MC:!n.Yb || !n.Yb.OZa});x=w.parse({qa:this.qa});this.hYb=v.Sz && w.AVa;if(x.Tm){g.assert(x.zg);this.oJ=x.zg;this.gjb=x.zV;this.jJa=! !x.ARa;void 0 === this.qa && void 0 === x.qa && this.H.error("No frame duration available for " + this.Na);w=x.qa?new m.S(x.qa):this.qa;y=void 0;1 === this.zra.mediaType && (null === (t=v.iz) || void 0 === t?0:t.enabled) && (t=this.zra.xv,(null === (u=t.JC) || void 0 === u?0:u.length)?y=t.JC.map(function(A){return A.wb;}):x.fq && (y=x.fq));this.stream.v6(x.zg,x.U,w,x.Y,x.nG,x.Dh,y);this.mm=void 0;}else this.DIa=x.bMa || 0;return ! !x.Tm;};p.XJb=new l.default.Console("MP4","media|asejs");return p;})(a.K9);b.N9=a;d.wf(k.aY,a,!1,!1);d.wf(r.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aY=void 0;c=a(2);f=a(6);l=a(175);r=(function(m){function d(g,h,k){var n;n=m.call(this,g,h) || this;n.EN=!1;n.hv=!1;n.kM=!1;n.xB=!1;n.mo=void 0;d.jWa(n,g,h,k);return n;}c.__extends(d,m);d.jWa=function(g,h,k,n){l.$t.nb(g,h,k);g.oJ=k.zg;g.mm=k.Dpa;g.jJa=k.ik;g.H=n;};Object.defineProperties(d.prototype,{Pc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zg:{get:function(){return this.oJ;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dpa:{get:function(){return this.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ik:{get:function(){return this.jJa;},enumerable:!1,configurable:!0}});d.prototype.Lc=function(){};d.prototype.oua=function(){};d.prototype.Qlb=function(g){f.assert(this.Qc.Na === g.Na);!g.Ee && this.Qc.Ee && g.J1(this.Qc);!g.location && this.Qc.location && (g.location=this.Qc.location,g.dd=this.Qc.dd,g.cH=this.Qc.cH,g.url=this.Qc.url,g.lb=this.Qc.lb);this.Qc=g;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return d;})(l.$t);b.aY=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.K9=void 0;c=a(2);c.__importDefault(a(5));a(6);r=(function(f){function l(m,d,g,h,k){m=f.call(this,m,d,g,h,k) || this;m.tJa=!1;m.sJa=!1;m.yQ=!1;m.Ba=[];m.An=!1;m.zKa=!1;m.OJa=!1;m.Me=!1;m.yl=!1;m.Yh=!1;m.OI=!1;m.tJ=void 0;m.Au=void 0;return m;}c.__extends(l,f);Object.defineProperties(l.prototype,{xma:{get:function(){return this.An && !this.yQ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wqa:{get:function(){return this.yl;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Yh || (this.Yh=this.Ba.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.OI;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Eg:{get:function(){return this.Ba.reduce(function(m,d){return m + d.Eg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.Ba.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{af:{get:function(){return this.tJ || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{url:{get:function(){return this.Ba[0] && this.Ba[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{readyState:{get:function(){return this.dh || this.Ba.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){return this.Au && this.Au.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Mg:{get:function(){return this.Au && this.Au.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{TK:{get:function(){return this.Au && this.Au.TK;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ri:{get:function(){return this.Au && this.Au.Ri;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ys:{get:function(){return ! !this.Ba.length && this.Ba[0].Ys;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.OJa && m.nb(this.Oa);this.Ba.push(m);this.An && m.zM();};l.prototype.nb=function(m){f.prototype.nb.call(this,m);this.Ba.forEach(function(d){return d.nb(m);});this.OJa=!0;};l.prototype.zM=function(){this.zKa=!0;(this.An=this.Ba.every(function(m){return m.zM();})) && this.jT(this);this.zKa=!1;return this.An;};l.prototype.Lc=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ba.forEach(function(m){return m.Lc();});};l.prototype.q8=function(m){this.dh=this.Au=void 0;return this.Ba.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.q8(m):!0;});};l.prototype.abort=function(){var m,d,g;m=this.active;d=this.aborted;this.dh=7;this.OI=!0;this.yl=this.Me=!1;g=this.Ba.map(function(h){return h.abort();}).every(function(h){return h;});d || this.YK(this,m,this.xma);return g;};l.prototype.getResponseHeader=function(m){var d;d=null;this.Ba.some(function(g){return ! !(d=g.getResponseHeader(m));});return d;};l.prototype.getAllResponseHeaders=function(){var m;m=null;this.Ba.some(function(d){return ! !(m=d.getAllResponseHeaders());});return m;};l.prototype.D6=function(){};l.prototype.ez=function(m){this.Me || (this.Me=!0);this.tJa || (this.tJa=!0,this.mr=0,this.tJ=this.Bt=m.af,this.ZK(this));};l.prototype.xM=function(m){this.yl || (this.yl=!0);this.sJa || (this.sJa=!0,this.tJ=m.af,this.uF(this));};l.prototype.yM=function(m){this.tJ=m.af;this.$K(this);this.mr=this.bytesReceived;this.Bt=m.af;};l.prototype.uk=function(m){this.tJ=m.af;this.complete?(this.Yh=!0,this.dh=5,this.yl=this.Me=!1,this.yQ=!0,this.mv(this)):this.$K(this);this.mr=this.bytesReceived;this.Bt=m.af;};l.prototype.sV=function(m){this.tJ=m.af;this.Au=m;this.dh=6;this.T2(this);};l.prototype.rV=function(){};l.prototype.Jh=function(){return this.Ba[0].Jh() + "-" + this.Ba[this.Ba.length - 1].Jh();};l.prototype.toString=function(){return "Compound[" + this.Ba.map(function(m){return m.toString();}).join(",") + "]";};l.prototype.toJSON=function(){return {requests:this.Ba};};return l;})(a(241).SH);b.K9=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dja=void 0;b.dja=function(a,c){for(var f,l,m=a.length - 1;0 <= m;--m){if((l=a[m],l.Zs)){if(l.bitrate <= c)return m;f=m;}}return f;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.AZ=void 0;c=a(22);f=a(20);r=(function(){function l(m){this.he=m;}l.n1=function(m,d,g,h){var k;k=c.S.ab;d && (g=null === g || void 0 === g?void 0:g.U4b,m.VXb && void 0 !== g && 0 <= g?(m=new c.S(g,48E3),k=d.add(m),f.ia && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + m) + (" for ASE applied offset of " + k + "."))):m.dB && (k=d));return k;};l.prototype.append=function(m){var d;d=m.He;return {jd:m.jd,offset:m.offset.add(this.he),He:d};};return l;})();b.AZ=r;},function(r,b,a){var f;function c(l,m){this.ijb=l.iz && l.iz.enabled;this.AE=void 0;this.Zhb=m;this.cea=[];this.zea=[];this.$_=[];this.Lf=[];}f=a(37).UF;c.prototype.reset=function(l){this.AE=void 0;this.cea=[];this.zea=[];this.$_=[];l && (this.Lf=[]);};c.prototype.add=function(l,m){var d,g,h;d=m.filter(function(k,n){return f(k) || n === l.je;});g=d.map(function(k){return k.bitrate;});m=m[l.je];d=d.indexOf(m);if(this.AE && (this.AE.length !== g.length || this.AE.some(function(k,n){return k !== g[n];}))){h=this.pTa();h && (this.Lf.push(h),this.reset(!1));}void 0 === this.AE && (this.AE=g);this.cea.push([d,l.Xta,l.tc,l.Xfa,l.LNa,l.aOb,l.bLb,l.cf,l.Xo,l.Bj,l.FVb - l.Xta,l.INb]);void 0 !== l.pt && this.$_.push([l.Xta,l.pt.CN,l.pt.mK,l.pt.WM]);this.ijb && void 0 !== m.Y && (d=m.Y.Em(l.Bj),-1 != d && (d=m.Y.get(d),h=d.duration,m=d.wb || m.wb,void 0 !== m && this.zea.push({X:d.X,duration:h,wb:m})));};c.prototype.yRa=function(l){for(var m=[],d=[],g=0;g < l.length;g++){for(var h=l[g],k=[],n=0;n < h.length;n++){k.push(h[n] - (d[n] || 0));}m.push(k);d=h;}return m;};c.prototype.pTa=function(){var l,m;l=this.yRa(this.cea);if(0 !== l.length){m=0 < this.$_.length?this.yRa(this.$_):[];return {dltype:this.Zhb,bitrates:this.AE,seltrace:l,vmaftrace:this.zea,paceratetrace:m};}};c.prototype.get=function(){var l,m;l=this.pTa();m=this.Lf;l && m.push(l);if(0 !== m.length)return m;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xwa=void 0;c=a(860);r=(function(){var q00;q00=2;function f(l){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var f62="1";f62+="SIY";f62+="bZr";f62+="N";f62+="JCp9";this.H=l;f62;r00=5;break;}}}for(;q00 !== 3;){switch(q00){case 2:f.prototype.Ifb=function(l,m){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 1:d=l.steeringAdditionalInfo;s00=5;break;case 2:m=c.iPa(m,l);s00=1;break;case 3:l=l.cdnResponseData;s00=9;break;case 4:var G62="applying manifest based";G62+=" st";G62+="reamingClientConfig";return (l=d.streamingClientConfig,this.H.trace(G62 + JSON.stringify(l)),this.AKa(m,l));break;case 8:return m;break;case 9:s00=!l?8:7;break;case 7:var h12="using sab cell >";h12+="= 100, pi";h12+="pelineEnabled: ";var X12="us";X12+="ing sab cell >= 200";X12+=", pipeline";X12+="Enabled: ";var t62=", ";t62+="all";t62+="owSwit";t62+="chback";var w62=", prob";w62+="eDe";w62+="tail";w62+="Denominator: ";var u62="u";u62+="s";u62+="ing sab cell >= 300, probeS";u62+="erverWhenErro";u62+="r: ";var E62=",";E62+=" allowS";E62+="witchb";E62+="ack";var b62=", probeD";b62+="etailD";b62+="e";b62+="nom";b62+="inator: ";var O62="using s";O62+="ab cel";O62+="l >= 400, probeS";O62+="erverWhenError: ";(l=l.sessionABTestCell) && (l=l.split(".")) && 1 < l.length && (l=parseInt(l[1].replace(/cell/i,""),10),400 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.Dt=!0,m.IG=1,m.vx=!0),this.H.trace(O62 + m.Dt + b62 + m.IG + E62 + m.vx)):300 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.Dt=!0,m.IG=1,m.vx=!1),this.H.trace(u62 + m.Dt + w62 + m.IG + t62 + m.vx)):200 <= l?(m.set?m.set({pipelineEnabled:!1}):m.Kp=!1,this.H.trace(X12 + m.Kp)):100 <= l && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.s5}),m.set({maxPendingBufferLen:m.y5})):(m.Kp=!0,m.XL=1,m.zv=m.s5,m.kC=m.y5),this.H.trace(h12 + m.Kp)));return m;break;}}};f.prototype.Kfb=function(l,m){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 1:return m;break;case 5:this.Hhb=l;for(var d in m.dha){new RegExp(d).test(l) && (m=this.AKa(m,m.dha[d]));}return m;break;case 2:t00=!m.dha || l === this.Hhb?1:5;break;}}};f.prototype.AKa=function(l,m){var u00,d,g,h;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(g in m){if(m.hasOwnProperty(g)){var M12="In";M12+="va";M12+="lid";M12+=" ke";M12+="y";h=m[g];l.set?0 === l.set((d={},d[g]=h,d)) && this.H.trace(M12 + g):l[g]=h;}}return l;break;}}};return f;break;}}})();b.Xwa=r;},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.IAa=b.QFa=void 0;a=(function(){function f(){var l;l=this;this.aR=[];this.xQb=function(m){m=l.aR.indexOf(m);0 <= m && l.aR.splice(m,1);};}Object.defineProperties(f.prototype,{cB:{get:function(){return 0 !== this.aR.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{z_a:{get:function(){return this.aR.length;},enumerable:!1,configurable:!0}});f.prototype.add=function(){var l;l=new c(this.xQb);this.aR.push(l);return l;};f.prototype.M7a=function(l){var m;m=this.add();try{return Promise.resolve(l()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return f;})();b.QFa=a;c=(function(){function f(l){this.Ejb=l;}f.prototype.release=function(){this.Ejb(this);};return f;})();r=(function(){function f(l,m){this.NLb=l;this.console=m;this.counter=new a();}f.prototype.qx=function(){var l,m;l=this;this.console.trace("Acquiring lease, total count",this.counter.z_a + 1);m=this.counter.add();return {release:function(){m.release();l.console.trace("Releasing lease, total count",l.counter.z_a);l.NLb(function(){return !l.counter.cB;});}};};return f;})();b.IAa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.KAa=b.OP=void 0;c=a(2);f=a(16);l=c.__importStar(a(10));m=c.__importDefault(a(84));d=a(411);g=a(15);h=a(249);k=a(22);r=a(43);n=c.__importDefault(a(5));q=a(419);(function(t){t[t.GSa=0]="forwards";t[t.Dfa=1]="backwards";t[t.oM=2]="none";})(p=b.OP || (b.OP={}));a=(function(t){function u(v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L){var R,I,Q;I=t.call(this,void 0,w,y,E.O,v,E,void 0,F,J,k.S.mb(C),B.Ce.bind(B),G,L,void 0,new f.EventEmitter(),void 0) || this;I.gb=v;I.Bh=x;I.$b=A;I.A_=z;I.T=B;I.GJ=D;I.Wf=G;I.qT=K;I.rg=H;I.Lk=L;I.active=!1;I.GJa=[];I.Sda=0;null === (R=I.O) || void 0 === R?void 0:R.cra(I);I.children=Object.create(null);I.fw=[];I.Zd=void 0;void 0 === J && (J=k.S.mb(E.X));Q=[I.I.aNa,I.I.hta];F.forEach(function(N){var M;M=N.mediaType;N=new q.cZ(v,I.Bh,I.H,I,N,J.V,Q[M],w,I.A_,I.rg,I.I_[M],null === G || void 0 === G?void 0:G.Sa(M));I.bh.I3a(M,N);});I.oE=I.bh.NV;return I;}c.__extends(u,t);Object.defineProperties(u.prototype,{K:{get:function(){return this.O.K;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wm:{get:function(){var v,w,x,y;return [null !== (w=null === (v=this.Sa(0)) || void 0 === v?void 0:v.Wm) && void 0 !== w?w:0,null !== (y=null === (x=this.Sa(1)) || void 0 === x?void 0:x.Wm) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{hp:{get:function(){var v,w,x,y;return [null !== (w=null === (v=this.Sa(0)) || void 0 === v?void 0:v.hp) && void 0 !== w?w:{V:0,ca:0},null !== (y=null === (x=this.Sa(1)) || void 0 === x?void 0:x.hp) && void 0 !== y?y:{V:0,ca:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{H7:{get:function(){return this.P.X;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cqa:{get:function(){return this.H7 + this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vc:{get:function(){return this.P.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Rd:{get:function(){return this.vc + this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Zb:{get:function(){return this.O.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{weight:{get:function(){return this.P.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{P:{get:function(){return this.Ku;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ue:{get:function(){return this.bh;},enumerable:!1,configurable:!0}});u.prototype.Df=function(){var v;this.Kn || (this.active=!1,this.Wf && (delete this.Wf.children[this.P.id],this.Wf=void 0),l.Xe(this.children,function(w){w && w.Wf && (w.Wf=void 0);}),this.children=Object.create(null),this.aJ=void 0,t.prototype.Df.call(this),null === (v=this.O) || void 0 === v?void 0:v.dua(this),this.bh.clear());};u.prototype.Dra=function(v,w){void 0 === w && (w=p.Dfa);this.Ue.forEach(function(x){(l.fa(v) || x.mediaType === v) && x.reset();});switch(w){case p.Dfa:this.Wf && this.Wf.Dra(v,w);break;case p.GSa:this.children && l.Xe(this.children,function(x){x && x.Dra(v,w);});}};u.prototype.B4=function(v){var w,x,y;if(!this.active)return !1;w=this.Wf;if(w){x=w.Sa(v);y=x.Oa.B0a;if(0 !== y && (w.ZJ(v),y=x.Oa.B0a,0 !== y))return !1;}return !0;};u.prototype.Ed=function(v){return this.Ue.Sa(v);};u.prototype.sDb=function(){return this.Ue.every(function(v){return 0 === v.xz;});};u.prototype.toJSON=function(){return c.__assign(c.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Zc,playerEndPts:this.Rd,pipelines:this.Ue,previousBranch:this.Wf});};u.prototype.d4a=function(v,w){this.O.dua(this);this.O=this.P.O=v;this.Asa(this.O);this.O.cra(this);this.Ue.forEach(function(x){var y;y=w[x.mediaType];y && x.JW(y);});};u.prototype.KBb=function(v){return this.Lk[v];};u.prototype.Sa=function(v){return this.Ue.Sa(v);};u.prototype.XBb=function(v){return this.Sa(v).xz;};u.prototype.ysa=function(v,w,x){var y,A,z,B;y=this;A=this.P;v=this.o1(A.X,this.O,v,this.K === (v?v.K:this.$b.Ec.K));z=v.OM;B=v.ky;void 0 === w && (w=[0,1]);0 === B.length || w.forEach(function(D){var E,F;E=y.Sa(D);x && (E.Yd=B[D]);F=y.cT(A.Ea);E.T7(F[D]);});return z;};u.prototype.e2a=function(v,w){var x,y,A;x=this.gb;y=this.Sa(0);void 0 === w && (w=y.JEb);this.Wf && (A=this.Wf.Ed(0));x=new q.cZ(x,this.Bh,this.H,this,v,w,y.qN,this.I,this.A_,this.rg,this.I_[0],A);this.bh.replace(y,x);this.oE=this.bh.NV;this.ysa(this.Wf,[0],!0);x.fH(w,! !this.Wf);y.Df();l.Xe(this.children,function(z){z && z.e2a(v);});};u.prototype.Gs=function(v,w){if(w=this.Sa(w))return w.Oa.Gs(v);};u.prototype.ZJ=function(v){void 0 === v?this.Ue.forEach(function(w){w.ZJ();}):this.Sa(v).ZJ();};u.prototype.QV=function(v,w,x){(v=this.Sa(v)) && v.Oa.QV(w,x);};u.prototype.D3=function(v,w){(w=this.Sa(w)) && w.Oa.D3(v);};u.prototype.nIb=function(v){this.GJa[v]=!0;};u.prototype.epb=function(){var v;v=this;return [0,1].every(function(w){return !v.Zb(w) || v.GJa[w];});};u.prototype.cpb=function(v,w,x,y){var A,z,B,D,E,F,C,G,J;A=this.I;z=this.gb;B=this.T.getState();D=B === g.ka.$c || B === g.ka.Af;if(!D && void 0 === x)return {Be:!0};if(B === g.ka.Af && n.default.time.ba() < this.Sda + A.xoa)return {Be:!1};E=this.Sa(0);F=this.Sa(1);C=this.$b.Wu(this,0);G=this.$b.Wu(this,1);J=h.T6(B);C=!E || E.kOa(J,this.T.Ce(),w,C,this.T.zp(),y);G=!F || F.kOa(J,this.T.Ce(),v,G,this.T.zp(),y);void 0 !== x && C && (x=x.trackId,v=this.O.getTrackById(x),this.Pfb(x,v.WN),z.zx=void 0);if(C && G)return (this.GJ(),this.TR=n.default.time.ba(),B === g.ka.Af && (this.Sda=n.default.time.ba()),{Be:!0,ms:F?F.PE:E.PE});C=this.Ih(0);G=this.Ih(1);if(D){z=!F || G > A.Qi;if((!E || C > A.Qi) && z && (E=this.qT(),E >= A.jz))return (this.Hb("buffering longer than limit: " + E + " >= " + A.jz + ", audio buffer: " + C + " ms, video buffer: " + G + " ms"),this.GJ(),this.TR=n.default.time.ba(),B === g.ka.Af && (this.Sda=n.default.time.ba()),{Be:!0,ms:"prebufferTimeLimit"});this.Bh.qib();}return {Be:!1};};u.prototype.uga=function(v,w){var x,y,A,z,B,D;x=this.I;y=this.Sa(0);A=this.Sa(1);w?(w=this.Ih(0,v),v=this.Ih(1,v)):(w=this.$b.Wu(this,0,v),v=this.$b.Wu(this,1,v));z=x.Qi;B=!this.Zb(0) || y.wh && 0 === y.Oa.wC && 0 === y.Oa.Gr;y=!this.Zb(1) || A.wh && 0 === A.Oa.wC && 0 === A.Oa.Gr;D=B && y;x=!B && w < x.Qi;if(!D && (x || !y && v < z))return !1;if(A && A.Be || !this.Zb(1))return !0;if(D)if(this.gb.c0 && 0 === w && 0 === v)this.Hb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};u.prototype.Q7=function(v,w){var x,y;x=this;y=this.I;this.Ue.forEach(function(A){A.seeking=void 0;});v && y.Gh && this.Ue.forEach(function(A){var z;if(A){z=x.$b.TE(x,A.mediaType);A="bufferingComplete: , mediaType: " + A.mediaType + ", bufferLevelBytes: " + A.hp.ca + ", completedMs: " + A.lK + ", completedBytes: " + z + ", partials: " + A.Oa.wC + ", streamingPts: " + A.tc + ", completeStreamingPts: " + A.ss + ", fragments: " + JSON.stringify(A.Oa.Y) + ", toAppend: " + w(A.mediaType);x.Bh.Sl(A);}});};u.prototype.NC=function(v,w,x){var y,A,z;y=this;A=n.default.time.ba();z={};l.Xe(this.children,function(B){var D,E,F,C;if(B){if(B.Zd){B.Zd.Avb=A - B.Zd.p4;B.Zd.p4=void 0;D=B.Zd.weight;}else D=y.$b.PUa(y.P.id,B.P.id);E=B.wF();F=y.Sa(0) && 0 === E.gs;C=y.Sa(1) && 0 === E.xo;z[B.P.id]={weight:D,Mq:E,QT:!F && !C};}});x={Tp:A,He:v,Tha:x,b8:this.P.id,Zd:z};v || (v=w.Ce(),x.GN=v - (this.P.X + this.Re),x.GN=Math.max(0,x.GN),x.b2=0,x.startTime=A);this.fw.unshift(x);return x;};u.prototype.dqb=function(v){var w,x;w=this.fw[0];w.He && (w.GN=this.vc - this.P.X,w.GN=Math.max(0,w.GN));w.j6a={};x=v.wF();m.default(x,w.j6a);w.QT=v.hp.every(function(y){return 0 < y.V;});this.fw=[];return w;};u.prototype.bn=function(v){var w;w=this.P;v-=this.Re;if(w.X < v && v < w.Ea)this.fw.shift();else if(w=this.fw[0])w.bn=!0;};u.prototype.o1=function(v,w,x,y){var A,z,B,D;A=this;void 0 === w && (w=this.O);z=!1;if(x){z=!0;B=x.Sa(1).qf;x=x.Sa(0).qf;if(!B || !x)return {OM:[],ky:[]};B=B.Ea;y || (B=void 0);}D=this.jSa(v,B,z,w);w.Gb === this.$b.Dtb && [1,0].forEach(function(E){var F;F=A.Sa(E);F && (F.Yd=D[E]);});return {OM:D.map(function(E){return E.X;}),ky:D};};u.prototype.jSa=function(v,w,x,y){var A;A=this;void 0 === y && (y=this.O);return this.xLa(y)?[1,0].map(function(z){var B;if(!A.Zb(z))return {};B=y.Qg[z];z=A.Sa(z).Dm(B.stream,v,w,x);v=z.X;return z;}).reverse():[];};u.prototype.cT=function(v,w){var x;x=this;void 0 === w && (w=this.O);return this.xLa(w)?[1,0].map(function(y){var A;if(!x.Zb(y))return {};A=w.Qg[y].stream;y=x.Sa(y).jy(A,v);v=x.I.Xf?new k.S(y.kb,A.qa.U).V:y.Ea;return y;}).reverse():[];};u.prototype.nXb=function(v,w){var x;x=this.P.Ea;x && x < w && (v=this.cT(x));w=this.Ed(1);x=this.Ed(0);w && w.T7(v[1]);x && x.T7(v[0]);};u.prototype.xLa=function(v){var w;w=v.Qg;if(!w)return !1;v=w[1];v=!this.Zb(1) || v && v.stream.Ee;w=w[0];w=!this.Zb(0) || w && w.stream.Ee;return v && w?!0:!1;};u.prototype.Pfb=function(v,w){this.Bh.oib(v,w);};return u;})(d.Eaa);b.KAa=a;r.wf(f.EventEmitter,a);},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x;function c(y,A){return (1 === y.mediaType?0:1) - (1 === A.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Eaa=b.bba=void 0;f=a(2);l=a(412);m=a(96);d=a(177);g=a(892);h=a(15);k=a(417);n=a(894);q=a(9);p=a(30);t=a(6);u=a(22);v=f.__importDefault(a(5));r=a(112);w=a(43);x=a(895);b.bba={GYb:c};a=(function(y){function A(z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M){var P,S;S=y.call(this) || this;S.MUb=z;S.I=B;S.O=E;S.Spa=F;S.Ku=C;S.lka=G;S.DA=H;S.dda=L;S.parent=R;S.Lk=I;S.hQ=Q;S.events=N;S.ex=M;S.bh=new x.sEa([]);S.Ur=!1;S.SJa=0;S.NIa=S.mpa.bind(S);S.H=q.dr(v.default,D,C.id && C.id.length?"{" + C.id + "}":"");S.$j=S.H.error.bind(S.H);S.Hb=S.H.warn.bind(S.H);S.rm=S.H.trace.bind(S.H);S.WB=null !== K && void 0 !== K?K:u.S.mb(S.P.X);S.BKa=null === R || void 0 === R?void 0:R.rf;null === (P=S.hQ) || void 0 === P?void 0:P.addListener(S.NIa);E && J && (S.oWa(E,J),S.parent=void 0);return S;}f.__extends(A,y);Object.defineProperties(A.prototype,{Kn:{get:function(){return this.Ur;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{P:{get:function(){return this.Ku;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{dC:{get:function(){return this.bh.every(function(z){return z.dC;});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Zo:{get:function(){return this.bh.every(function(z){return z.Zo;});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ux:{get:function(){return this.ty().reduce(function(z,B){return z + B.ux;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qk:{get:function(){return this.ty().every(function(z){return z.qk();});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Qh:{get:function(){return this.ty().map(function(z){return z.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{U:{get:function(){return this.oE.U;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ya:{get:function(){return this.oE.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kb:{get:function(){return this.oE.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Oj:{get:function(){return this.yj.Yf(this.U).Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Fy:{get:function(){return this.WB.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{IM:{get:function(){return this.P.Vg.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{HV:{get:function(){return this.P.Kl.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{cna:{get:function(){return this.bh.reduce(function(z,B){return z && B.rf?u.S.max(z,B.rf):B.rf?B.rf:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{sWa:{get:function(){return this.Fy.V;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Re:{get:function(){return this.yj.V;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Xt:{get:function(){return this.oE.Xt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yj:{get:function(){return this.DA;},enumerable:!1,configurable:!0}});A.prototype.nb=function(){var z;z=this.oWa(this.O);this.lWa(z);};A.prototype.update=function(z){var B,D,E;E=z.Kl.o6(this.Ku.Kl);this.Ku=z;E && this.lE && (E=f.__read(this.lE.FQb(z,z.Kl),2),z=E[0],E=E[1],t.assert(z && E,"branch.update: lastFragment should be defined"),null === (B=this.Sa(0)) || void 0 === B?void 0:B.truncate(z),null === (D=this.Sa(1)) || void 0 === D?void 0:D.truncate(E),this.xKa(!0,!0),this.events.emit("branchEdited",{type:"branchEdited"}));};A.prototype.Rz=function(z){this.yj.equal(z) || (this.DA=z);};A.prototype.FF=function(z){return f.__awaiter(this,void 0,void 0,function(){var B;return f.__generator(this,function(D){switch(D.label){case 0:return [4,Promise.resolve()];case 1:return (D.$d(),(B=this.Sa(z))?[2,B.FF()]:[2,d.AsyncIterator.nAb()]);}});});};A.prototype.US=function(){this.ty().forEach(function(z){return z.US();});};A.prototype.pR=function(){this.bh.forEach(function(z){return z.pR();});};A.prototype.reset=function(){this.bh.forEach(function(z){z.reset();});};A.prototype.Df=function(){var z,B;this.Ur || (this.Ur=!0,null === (z=this.lE) || void 0 === z?void 0:z.Lc(),this.lE=void 0,this.bh.forEach(function(D){D.Df();}),null === (B=this.hQ) || void 0 === B?void 0:B.removeListener(this.NIa),this.events.removeAllListeners());};A.prototype.B4=function(){return !0;};A.prototype.Sa=function(z){return this.bh.Sa(z);};A.prototype.ty=function(z){void 0 === z && (z=c);return this.bh.Ue.slice().sort(z);};A.prototype.ska=function(){return this.bh.Ue;};A.prototype.DT=function(z){return this.Sa(z);};A.prototype.Ih=function(z,B){z=this.Sa(z);if(!z)return 0;if(B)return z.Wm;B=z.ss;if(void 0 === B)return 0;z=this.dda();return B - z;};A.prototype.wF=function(){var z,B,D,E,F,C,G;G=null === (z=this.Sa(0)) || void 0 === z?void 0:z.hp;z=null === (B=this.Sa(1)) || void 0 === B?void 0:B.hp;return {xo:null !== (D=null === z || void 0 === z?void 0:z.V) && void 0 !== D?D:0,gs:null !== (E=null === G || void 0 === G?void 0:G.V) && void 0 !== E?E:0,Tz:null !== (F=null === z || void 0 === z?void 0:z.ca) && void 0 !== F?F:0,rR:null !== (C=null === G || void 0 === G?void 0:G.ca) && void 0 !== C?C:0};};A.prototype.G3=function(z){var B;return (z=this.Sa(z))?null !== (B=z.ss) && void 0 !== B?B:0:0;};A.prototype.Yv=function(z,B,D){var E;B=null !== (E=null !== B && void 0 !== B?B:this.Nc) && void 0 !== E?E:this.WB;this.BPa(z,B,D);this.lWa();this.pR();};A.prototype.wo=function(z){z=this.Sa(z);t.assert(z);return z.wo();};A.prototype.mpa=function(z){h.Zq(z.newValue) && this.jE();};A.prototype.hS=function(z){return this.bh.every(function(B){return B.hS(z);});};A.prototype.Yja=function(z){var B,D;return null !== (D=null === (B=this.bh.Sa(z)) || void 0 === B?void 0:B.Etb) && void 0 !== D?D:u.S.ab;};A.prototype.Wta=function(z){var B,D,E;B=this.oE.AGb;if(!B)return !1;D=p.wg(z,function(F){return B.V <= F.Nc.V;});if(!D)return !1;z=!1;E=f.__read(k.pra(this.I,this.bh,D.Nc),2);D=E[0];if(E=E[1])(this.Sa(1).truncate(E),z=!0);D && (this.Sa(0).truncate(D),z=!0);z && (D={type:"branchEdited"},this.events.emit(D.type,D));return z;};A.prototype.uk=function(z){this.Ur || (z.Wea || t.assert(!z.Pc),this.jE(),this.Zo && this.Yib());this.mv(z);};A.prototype.yM=function(z){this.I.sRa && this.jE(!0);this.$K(z);};A.prototype.xM=function(z){this.I.sRa && this.jE(!0);this.uF(z);};A.prototype.xKa=function(z,B){var D;null === (D=this.lE) || void 0 === D?void 0:D.Lc();z && (z={type:"branchNormalized",segmentContentStart:this.P.Vg,branchContentStart:this.Nc,branchContentEnd:this.Nd,didNormalizeSegment:B},this.events.emit(z.type,z),this.BKa && (this.DA=this.BKa.Aa(this.Nc)));};A.prototype.BTb=function(z){var B;return h.Zq((null === (B=this.hQ) || void 0 === B?void 0:B.value) || h.zc.Zj) && (!z || this.SJa + this.I.soa < v.default.time.ba());};A.prototype.jE=function(z){void 0 === z && (z=!1);this.BTb(z) && (this.SJa=v.default.time.ba(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};A.prototype.Yib=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};A.prototype.Ysb=function(z,B,D){var E;E=z.mediaType;return new l.aba(this,this.I,this.H,this.Spa,this.MUb,z,B,[this.I.aNa,this.I.hta][E],this.I_[E],!0,D,this.ex);};A.prototype.BPa=function(z,B,D,E){var F,C,G,J,K;F=this;void 0 === B && (B=this.WB);J=0;K=this.events;z.forEach(function(H,L){var R,I;R=H.mediaType;I=F.Sa(R);L=null === E || void 0 === E?void 0:E[L];(null === I || void 0 === I?void 0:I.track) !== H && (null === I || void 0 === I?void 0:I.Df(),H=F.Ysb(H,B,L),F.bh.I3a(R,H),++J,H.events.once("requestQueueCreated",function(){0 === --J && K.emit("requestQueuesCreated");}),H.events.on("lastRequestIssued",function(){return F.dC && K.emit("lastRequestIssued",{type:"lastRequestIssued"});}));});this.bh=this.bh.filter(function(H){var L;L=z.some(function(R){return R.mediaType === H.mediaType;});return null !== L && void 0 !== L?L:H.Df();});null === (C=this.lE) || void 0 === C?void 0:C.Lc();this.lE=new n.tEa({console:this.H,config:this.I,O:this.O,P:this.P,Ue:this.bh,Nc:B,Nd:null !== (G=this.P.Kl) && void 0 !== G?G:void 0 !== this.P.Ea?u.S.mb(this.P.Ea):void 0,splice:D});this.oE=this.bh.NV;};A.prototype.oWa=function(z,B){var D,E;D=this;this.Asa(z);t.assert(z.$ === this.P.$ || isNaN(z.$) && isNaN(this.P.$));this.I_=[];z=null !== B && void 0 !== B?B:null === (E=this.lka) || void 0 === E?void 0:E.call(this,z);t.assert(z,"tracks need to exist upon initialization");z.forEach(function(F){var C;F=F.mediaType;C=new g.VCa(F,D.I,D.H);D.I_[F]=C;});return z;};A.prototype.lWa=function(z){var B,D,E;B=this;if(z){E=this.parent && z.map(function(F){var C;return null === (C=B.parent) || void 0 === C?void 0:C.Sa(F.mediaType);});t.assert(!E || E.every(function(F){return F;}),"parent must have a pipeline for every media type");E=E && E.map(function(F){return F.Gf;});this.BPa(z,this.WB,! !this.parent,E);this.parent=void 0;}null === (D=this.lE) || void 0 === D?void 0:D.nb(this.xKa.bind(this));};A.prototype.toJSON=function(){var z,B;return {segment:this.P.id,branchOffset:this.Re,viewableId:this.Ku.$,contentStartPts:null === (z=this.Nc) || void 0 === z?void 0:z.V,contentEndPts:null === (B=this.Nd) || void 0 === B?void 0:B.V};};return A;})(m.nw);b.Eaa=a;w.wf(r.dA,a);w.wf(r.bA,a);},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.aba=void 0;c=a(2);f=a(16);l=a(865);m=a(96);d=a(866);g=a(873);h=a(413);k=a(414);n=a(9);q=a(6);p=a(22);t=c.__importDefault(a(5));r=a(112);u=a(43);v=a(891);w=a(150);a=(function(x){function y(A,z,B,D,E,F,C,G,J,K,H,L){var R;R=x.call(this,A) || this;R.I=z;R.Ld=E;R.vj=F;R.MJa=C;R.$gb=J;R.ex=L;R.events=new f.EventEmitter();R.connected=!1;R.pla=!1;R.Ur=!1;R.H=n.dr(t.default,B,"[" + R.mediaType + "]");R.$j=R.H.error.bind(R.H);R.Hb=R.H.warn.bind(R.H);R.rm=R.H.trace.bind(R.H);R.gR=C.V;R.Gf=new h.ZGa(H);R.Gf.JW(F);R.hLa=new k.$Ga(G,z,R.Gf,0 === R.mediaType && z.iRa || 1 === R.mediaType && z.jRa);R.pm=new l.uEa(R,D,R.I,R.H,R.mediaType);R.Dn=new d.aGa(R,z,R.H,R.pm,R.Ld,R.mediaType,R.ex,function(){return R.Oj;});z.Xf && (R.Xf=new g.QGa(z.Xf,R.H));K && (R.jg=v.tB(R.mediaType,R.track.O,R.I,R.H,R.pm.xyb.bind(R.pm),function(){}),R.jg.on("created",function(){return R.events.emit("requestQueueCreated");}));return R;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.vj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xb:{get:function(){return this.Ld;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{va:{get:function(){return this.Ld.P.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Oa:{get:function(){return this.Dn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sd:{get:function(){return this.vj.Sd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hp:{get:function(){return this.Dn.hp;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wm:{get:function(){return this.Dn.Wm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tc:{get:function(){return this.gR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oUb:{get:function(){var A;return null !== (A=this.Ui) && void 0 !== A?A:this.Fy;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{B1:{get:function(){var A;return null !== (A=this.Oa.B1) && void 0 !== A?A:this.oUb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hea:{get:function(){return this.Oa.B1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ss:{get:function(){return this.Oa.ss;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sga:{get:function(){return this.Oa.Sga;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{AGb:{get:function(){var A;A=this.Oa.BGb;return null === A || void 0 === A?void 0:A.Nd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{dC:{get:function(){return ! !this.qf && (this.io > this.qf.index || this.gR >= this.qf.vc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zo:{get:function(){return this.dC && 0 === this.Dn.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ux:{get:function(){return this.Oa.ux;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Xt:{get:function(){return this.rf?p.S.max(this.rf.Aa(this.bj),p.S.ab):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{WK:{get:function(){return this.xb.WK;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Etb:{get:function(){return this.Oa.Y.KS;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hz:{get:function(){return this.hLa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$s:{get:function(){return this.Gf.$s;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U:{get:function(){var A,z;return null !== (z=null === (A=this.Yd) || void 0 === A?void 0:A.U) && void 0 !== z?z:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ya:{get:function(){var A;return null === (A=this.Yd) || void 0 === A?void 0:A.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kb:{get:function(){var A;return null === (A=this.qf) || void 0 === A?void 0:A.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Oj:{get:function(){return this.xb.yj.Yf(this.U).Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U3:{get:function(){return this.Oa.U3;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$v:{get:function(){return this.Oa.$v;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zsa:{get:function(){return this.Oa.Zsa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fy:{get:function(){return this.MJa.add(this.xb.yj);},enumerable:!1,configurable:!0}});y.prototype.pR=function(){var A;A=this;this.Dn.pR(void 0,function(z){var B;B=z[0];z=B.Mc;B=B.index;B < A.io && A.wN(z,B);});};y.prototype.reset=function(){this.Oa.reset();this.Yd && this.wN(this.Yd.Mc,this.Yd.index);this.jg && this.xb.O.oR(this.mediaType,this.jg);};y.prototype.Df=function(){this.Ur=!0;this.Dn.Df();this.Gf.Ab();this.jg && (this.xb.O.oR(this.mediaType,this.jg),w.kq.instance.xS(this.jg),this.jg.removeAllListeners(),this.jg=void 0);};y.prototype.toJSON=function(){return {started:this.$v,startOfSequence:this.Zsa,segmentId:this.va,requestedBufferLevel:this.Wm,viewableId:this.Ld.O.$,hasFragments:this.U3};};y.prototype.wo=function(){return this.Oa.wo();};y.prototype.wN=function(A,z){this.gR=A;this.io=z;};y.prototype.FF=function(){return this.Oa.FF();};y.prototype.US=function(){this.Oa.close();};y.prototype.hS=function(A){return (A=this.Oa.Gs(A.V))?A.complete:!1;};Object.defineProperties(y.prototype,{oh:{get:function(){return this.Ld.oh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bj:{get:function(){var A,z,B,D;return null !== (D=null !== (A=this.Oa.bj) && void 0 !== A?A:null === (B=null === (z=this.Yd) || void 0 === z?void 0:z.Nc) || void 0 === B?void 0:B.add(this.xb.yj)) && void 0 !== D?D:this.Fy;},enumerable:!1,configurable:!0}});y.prototype.PWb=function(A,z){var B;q.assert(this.jg);q.assert(!this.Ur,"pipeline.tryIssueRequest on disabled pipeline");B=A.q3();return B?this.p6a(A,B,this.jg,z):(A=A.EH(this.jg))?{Ep:A,reason:"success"}:{Ep:A,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.t4=function(A,z){A && (this.Yd=A);z && (this.qf=z);q.assert(this.Yd);q.assert(this.qf);q.assert(void 0 === this.io);this.wN(this.Yd.Mc,this.Yd.index);};y.prototype.truncate=function(A){var z;z=this;q.assert(this.Yd,"expected first fragment to exist on updateStreaming");this.qf=A;this.dC && (A=c.__read(this.Dn.Qkb(A),2),this.wN(A[0],A[1]),this.qv() && (this.Oa.F3a(),this.Oa.qga(),Promise.resolve(function(){z.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:z.mediaType});})));};y.prototype.VF=function(){return this.qv()?!1:this.qk()?!0:this.track.Doa;};y.prototype.qk=function(){return void 0 !== this.Yd && void 0 !== this.qf;};y.prototype.qv=function(){return this.Ur || this.dC;};Object.defineProperties(y.prototype,{yOb:{get:function(){var A;A=!0;this.I.u7 && (A=this.connected);this.I.t7 && (A=A && this.pla);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qMb:{get:function(){return void 0 !== this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rMb:{get:function(){var A;return (null === (A=this.Xf) || void 0 === A?0:A.Lx())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.uk=function(A){this.pm.JKb(A);"oncomplete" === this.I.hWa && (this.pla=!0);this.mv(A);};y.prototype.ez=function(A){A.Pc || this.pm.p_a(A.stream,A.X,A.Mc);this.pm.FKb(this.va,A.stream,A.Pc);this.ZK(A);};y.prototype.xM=function(A){A.Wea || (this.connected=!0);"onfirstbyte" === this.I.hWa && (this.pla=!0);this.uF(A);};y.prototype.yAb=function(A){var z,B;z=this.Oa.Y;if(0 === z.length)return {Y:[],Epa:0,jl:0};B=z.VK(A.V);0 > B && (B=void 0 === z.X || A.V <= z.X?0:z.length);return {Y:z.$Rb(B),Epa:Math.max(0,z.UOa - B),jl:z.jl};};y.prototype.p6a=function(A,z,B,D){var E,F,C,G,J,K;C=this.Ld;G=C.O;J=this.mediaType;K=this.io;if(K >= z.length)return (this.Hb("makeRequest nextFragmentIndex:",K,"past fragments length:",z.length),{Ep:!1,reason:"insufficientFragments"});if(!this.Yd || !this.qf)return (this.Hb("makeRequest delayed, first or last fragment not set","first:",! !this.Yd,"last:",! !this.qf),{Ep:!1,reason:"noFirstOrLastFragment"});z=this.$gb.xAb(A,K,this,G.Hy());this.Oma=z.region;null === (E=this.Xf) || void 0 === E?void 0:E.xEb(z,A);z.Fp && 1 === J && this.pm.Jda(C.P,z.Ea);this.I.YL && (z.YL=this.I.YL);void 0 !== A && (z.location=A.location,z.zd=A.dd,z.qsa=A.xr);if(E=C.O.X7)(J=0 === J && this.I.iRa || 1 === J && this.I.jRa,K=this.I.uwb && 1 === this.mediaType && this.I.Kp,z.QG=J?D:void 0,z.Y7=E.Zu({cK:C.Ih(this.mediaType),l6:this.I.pwb?this.I.l6:void 0,U5a:String(t.default.time.ba()),jS:J?D:void 0,Lfa:K?{start:z.offset,size:z.ca}:void 0}));t.default.time.ba();B=this.Oa.jtb(z,B,A);if(!B.zM()){this.Hb("MediaRequest.open error: " + B.Mg + " native: " + B.Ri);if(7 === B.readyState)return {Ep:!1,reason:"requestAborted"};this.Hb("makeRequest caught:",B.Mg);G.qh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ep:!1,reason:"openAseMediaRequest"};}null === (F=this.Xf) || void 0 === F?void 0:F.Mwb(B,z,A);this.pm.KKb(B);this.wN(B.vc,z.lM);this.qv() && (this.Oa.F3a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {Ep:!0,reason:"success"};};return y;})(m.nw);b.aba=a;u.wf(r.bA,a);u.wf(r.dA,a);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZGa=void 0;r=(function(){function a(c){this.parent=c;this.je=null;}Object.defineProperties(a.prototype,{BXa:{get:function(){var c,f;return null !== (c=this.DDb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.BXa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qU:{get:function(){var c,f;return null !== (c=this.zKb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.qU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$s:{get:function(){var c,f;return null !== (c=this.Yi) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.$s;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FXa:{get:function(){return null === this.je?void 0:this.je;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IXa:{get:function(){var c,f;return null !== (c=this.FUb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.IXa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xma:{get:function(){var c,f;return null !== (c=this.GUb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.Xma;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.cSb;},enumerable:!1,configurable:!0}});a.prototype.Ab=function(){this.parent=void 0;};a.prototype.N3a=function(c){this.DDb=c;};a.prototype.QSb=function(c){this.zKb=c;};a.prototype.X3a=function(c){this.Yi=c;};a.prototype.U7=function(c){this.je=c;};a.prototype.bTb=function(c){this.FUb=c;};a.prototype.Z3a=function(c){this.GUb=c;};a.prototype.JW=function(c){this.cSb=c;};return a;})();b.ZGa=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(874),b);},function(r,b,a){var c,f,l,m,d,g,h,k,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Xv=void 0;r=a(2);c=r.__importStar(a(10));f=a(30);l=a(98);m=r.__importDefault(a(27));d=r.__importDefault(a(37));g=r.__importDefault(a(880));h=a(15);k=d.default.assert;n=d.default.Go;b.Xv=q;(function(){function p(u,v,w){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:u=new n();u.Yi=w[0];return u;break;}}}function t(u,v,w,x,y){var x00,A;x00=2;for(;x00 !== 3;){switch(x00){case 2:a000.q62(3);A=a000.x62(y,w,x);w=f.ap(u,function(z){var y00;y00=2;for(;y00 !== 1;){switch(y00){case 4:return z.bitrate < A;break;y00=1;break;case 2:return z.bitrate > A;break;}}});w=0 < w?w - 1:0 === w?0:u.length - 1;return u[Math.max(v,w)];break;}}}var v00;v00=2;for(;v00 !== 5;){switch(v00){case 2:var P12="1";P12+="SIYbZ";P12+="rNJCp";P12+="9";b.Xv=q=function(u,v,w,x,y,A,z){var b6e=a000;var z00,qa,wa,F,S,ea,C,G,J,K,H,L,R,I,Q,N,M,P,ua,X,E;function D(sa,O,T,ma,ja,Qa,Fa){var B00,hb,wb,Eb,Hb,Za,kb,Ya,Sa,za,Ia,Ma,Ta,Wa,Xa,db;B00=2;for(;B00 !== 41;){switch(B00){case 27:k(T.length === kb);u.Cna && (za=Math.min(za,wb));B00=25;break;case 31:B00=0 < Ta?30:29;break;case 44:(Eb=Math.min(Ta,O.Y.length - Za),wb.push(O.Y.AN.subarray(Za,Za + Eb)),Ta-=Eb,Za+=Eb,Za >= O.Y.length && (Za=0));B00=28;break;case 28:B00=0 < Ta?44:43;break;case 17:var g12="Second stream ";g12+="undef";g12+="ined";var A12="First strea";A12+="m ";A12+="undefined";k(sa,A12);k(O,g12);(hb=sa.Pa,wb=Xa - Qa,Eb=sa.Y && sa.Y.length,Hb=O.Y && O.Y.length);B00=27;break;case 6:B00=Wa >= sa.bitrate * Fa * db?14:13;break;case 9:B00=Xa && !u.TW?8:6;break;case 20:b6e.q62(0);Xa=b6e.x62(G,H);b6e.W62(0);db=b6e.J62(G,K);(Za=L,kb=S.length,Ya=I,Sa=ea,za=N,Ia=v.lia,Ma=v.playbackRate,Ta=! !v.jYa);B00=17;break;case 23:O && O.result && (F.C6b=O.DU);M={H2:O && O.result,Pa:Wa,bitrate:sa.bitrate};return O && O.result;break;case 14:return !0;break;case 42:(ma=Math.max(0,Math.min(ma,sa.Y.length - Za)),ja=Math.max(0,Math.min(ja,O.Y.length - Za - ma)),0 < ma && wb.push(sa.Y.AN.subarray(Za,Za + ma)),0 < ja && wb.push(O.Y.AN.subarray(Za + ma,Za + ma + ja)));B00=43;break;case 1:B00=M && !M.H2 && M.Pa >= Wa && M.bitrate <= sa.bitrate?5:4;break;case 13:Qa=!u.$ga || sa === T || sa.dd === T.dd && A?0:(T=sa.lb) && T.Vi && T.Vi.Ca?T.Vi.Ca + u.Xga * (T.Vi.ti?Math.sqrt(T.Vi.ti):0):0;T=S;b6e.W62(2);Qa=b6e.J62(J,Qa,G);Fa=Q;B00=20;break;case 5:return !1;break;case 8:B00=Wa >= Math.max(sa.Zy * Fa,sa.bitrate * Fa * db) && sa.Hs?7:13;break;case 25:B00=!hb || hb < sa.bitrate * Ma * u.xla || !Eb?24:35;break;case 4:Qa || Xa || (sa.h8=!0);B00=3;break;case 29:Ta=ja;B00=28;break;case 30:(Eb=Math.min(Ta,sa.Y.length - Za),wb.push(sa.Y.AN.subarray(Za,Za + Eb)),Ta-=Eb,Za+=Eb,Za >= sa.Y.length && (Za=0));B00=31;break;case 2:(Wa=sa.Pa || 0,Xa=sa.Y && sa.Y.length,db=Qa?u.Via:Xa?u.G2:u.aSa);B00=1;break;case 33:B00=Ta?32:42;break;case 7:return !0;break;case 35:Hb || (O=sa);wb=[];B00=33;break;case 3:B00=!Qa || !Xa?9:13;break;case 43:O=0 < ma || 0 < ja?g.default(T.concat(wb),kb + ma + ja,Qa,Xa,Fa,Ya,db,kb,kb + ma,Ia,Sa,hb / Ma,za,u.UU,u.TW):hb > sa.Zy?{result:!0,DU:0,Hs:!0}:{result:!1,DU:0,Hs:!0};B00=23;break;case 24:O=!1;B00=23;break;case 32:Ta=ma;B00=31;break;}}}z00=2;function B(sa,O,T){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return sa.Y?sa.Y.hha(O,T):0;break;}}}for(;z00 !== 31;){switch(z00){case 33:z00=(y=f.wg(w.slice(0,x).reverse(),function(sa,O){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return D(sa,w[Math.max(x - O - 2,0)],C,ua,X,!0,v.playbackRate);break;}}})) && y.ng < R.ng || !y?32:22;break;case 32:y=R;z00=22;break;case 18:return p.call(this,v,u,w,y);break;case 6:z00=z?14:13;break;case 23:y=f.wg(w.slice(x + 1,z),function(sa,O){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:return D(sa,w[x + O],C,qa,wa,!1,v.playbackRate);break;}}});z00=22;break;case 22:F.Yi=y || C;return F;break;case 26:z00=x + 1 < w.length && z > u.Qy && (void 0 === this.g5 || this.$ma && this.$ma > this.g5 || K - this.g5 > u.n5 && z > u.Bna)?25:22;break;case 19:z00=R === m.default.NY.gfb || !y.Pa?18:17;break;case 25:z=u.Psa && z >= u.Mua?w.length:x + 2;(qa=B(y,L,u.Ala),wa=B(y,L + qa,u.zna));z00=23;break;case 27:z00=D(y,w[Math.max(x - 1,0)],y,E,P,!1,v.playbackRate)?26:35;break;case 4:var Q12="nu";Q12+="mbe";Q12+="r";var l12="nu";l12+="mb";l12+="er";var y12="invalid play";y12+="er f";y12+="r";y12+="agment";y12+="Index";k(c.ya(v.Od),y12);k(l12 === typeof v.buffer.Xu);k(Q12 === typeof v.lia);F=new n();y=w[x];z00=6;break;case 17:y.Y && y.Y.length || (y.h8=!0);(S=l.dm.IPa(v.buffer.Y),ea=v.buffer.Xu - S.ca);R=w[0];z00=27;break;case 35:z00=y.Y && y.Y.length?34:22;break;case 13:(C=y,G=v.buffer.X,J=v.buffer.wc,K=v.buffer.tc,H=v.buffer.Fl,L=v.Od);b6e.q62(0);z=b6e.x62(J,H);(R=this.Gf.BXa || m.default.NY.$g,I=v.state === h.ka.Hc || v.state === h.ka.Xh?v.buffer.jl:0,Q=u.A5,N=u.Ry?u.Ry:1E3);E=B(y,L,u.yla);b6e.q62(1);P=B(y,b6e.J62(L,E),u.xna);z00=19;break;case 14:return (y=t(w,x,y.Pa || 0,u.aSa,v.playbackRate),null !== (E=y.Y) && void 0 !== E && E.length || (y.h8=!0),F.Yi=y,F);break;case 34:(ua=B(y,L,u.zla),X=B(y,L + ua,u.yna));z00=33;break;case 2:var Y12="M";Y12+="ust have";Y12+=" at least one sel";Y12+="ect";Y12+="ed stream";k(!c.fa(x),Y12);void 0 === v.Od && (v.Od=0);z00=4;break;}}};P12;v00=5;break;}}})();},function(r,b,a){var l,m,d,g,h,k;function c(n,q,p,t){g(!l.fa(t),"Must have at least one selected stream");return new k(t);}function f(n,q,p,t){g(!l.fa(t),"Must have at least one selected stream");return new k(t);}l=a(10);b=a(37);m=b.console;d=b.debug;g=b.assert;h=b.UF;k=b.Go;r.exports={STARTING:function(n,q,p){var u,v,w,x;function t(y,A){var z,B,D,E;z=y.id;B=y.bitrate;D=y.Pa || 0;E=! !D;d && m.log("Checking feasibility of [" + A + "] " + z + " (" + B + " Kbps)");if(!y.Zs)return (d && !y.Xs && m.log("  Not available"),d && y.yy && m.log("  Failed"),!1);if(B > n.FU)return (d && m.log("  Above maxInitAudioBitrate (" + n.FU + " Kbps)"),!1);if(!(B * n.S5 / 8 < q.buffer.Xu))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(E){d && m.log("  Have throughput history = " + E + " : available throughput = " + D + " Kbps");if(B * q.playbackRate < D / v)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.TU;q.qma && (y=Math.max(y,n.SU));if(B <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.TU + " Kbps) " + (q.qma?" and also minHCInitAudioBitrate (" + n.SU + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}u=new k();v=n.h4b || 1;for(w=p.length - 1;0 <= w;--w){x=p[w];if(t(x,w)){u.je=w;break;}h(x) && (u.je=w);}return u;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(r,b,a){var l,m,d;function c(g,h,k,n,q){var p,t;k=null !== (p=h.Yd) && void 0 !== p?p:h.track.Dm(g,k.V,void 0,q);g=null !== (t=h.qf) && void 0 !== t?t:h.track.jy(g,null === n || void 0 === n?void 0:n.V,h.Xf);return [!h.qk(),k,g];}function f(g,h){var B,D;for(var k=[],n=0,q=g[n],p=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],u=h.qf.index,v=h.track.vo,w=0,x=h.Yd.Nc,y=h.Yd.Nd.V > q[0],A=y,z=h.Yd.index;z <= u;++z){B=!1;if(q){D=v.get(z);y && (D.Nc.V >= t?(y=!1,++n >= g.length?t=p=q=void 0:(q=g[n],p=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(k.push(new m.JZ(w,x,D.Nc)),x=D.Nc,B=!0));!y && q && D.Nd.V > p && (y=!0,B=D.Nc,(D=h.track.DL.mk(z).pSa(p)) && 0 !== D.zk && (B=d.S.mb(D.pd)),k.push(new m.JZ(w,x,B)),x=B,B=!0);}B && ++w;}k.push(new m.JZ(w,x,h.qf.Nd));return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.rIb=b.JYa=b.h_a=b.e_a=b.pra=void 0;l=a(2);m=a(418);d=a(9);b.pra=function(g,h,k){var n,q,p;p=h.Sa(0);h=h.Sa(1);h=null === h || void 0 === h?void 0:h.track.jy(g,null === k || void 0 === k?void 0:k.V,h.Xf);return [null === p || void 0 === p?void 0:p.track.jy(g,null !== (q=null === (n=null === h || void 0 === h?void 0:h.Nd) || void 0 === n?void 0:n.V) && void 0 !== q?q:null === k || void 0 === k?void 0:k.V,p.Xf),h];};b.e_a=function(g,h,k,n,q){var p,t,u,v;p=h.Sa(0);h=h.Sa(1);t=l.__read(h?c(g,h,k,n,q):[!1],3);u=t[0];v=t[1];t=t[2];n=l.__read(p?c(g,p,u && void 0 !== (null === v || void 0 === v?void 0:v.X)?d.S.mb(v.X):k,void 0 !== (null === t || void 0 === t?void 0:t.Ea)?d.S.mb(null === t || void 0 === t?void 0:t.Ea):n,q):[!1],3);g=n[0];k=n[1];n=n[2];g && (null === p || void 0 === p?void 0:p.t4(k,n));u && (null === h || void 0 === h?void 0:h.t4(v,t));return [g,u];};b.h_a=function(g,h,k){return h.track.Dm(g,k.V,void 0,!0).Nc;};b.JYa=function(g,h,k){var n;n=h.P;if(!n.Tq || 0 === n.Tq.length)return [];g=n.Tq.map(function(q){return [n.jc + q[0],n.jc + q[1]];});return f(g,k.NV);};b.rIb=f;},function(r,b,a){var f,l;function c(m){return "immediate" === m;}Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=b.JZ=b.NWa=void 0;f=a(9);l=a(6);b.NWa=c;r=(function(){function m(d,g,h){this.region=d;this.Nc=g;this.Nd=h;}m.prototype.toJSON=function(){return {region:this.region,X:this.Nc.EG,Ea:this.Nd.EG};};return m;})();b.JZ=r;r=(function(){function m(d,g,h){var k,n;k=this;this.id=d;this.P=g;this.pKa=!1;this.vL=function(q){var p,t,u,v;return (null === (p=k.Uv) || void 0 === p?0:p.length)?"immediate":null !== (v=null === (u=null === (t=k.P.next) || void 0 === t?void 0:t[q]) || void 0 === u?void 0:u.ae) && void 0 !== v?v:k.ae;};this.fR=new f.S(g.jc,1E3);this.vQ=void 0 !== g.Fc && null !== g.Fc?new f.S(g.Fc,1E3):f.S.By;this.wkb=null !== (n=g.ae) && void 0 !== n?n:h;this.yWa();l.assert(this.fR.lessThan(this.vQ),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(m.prototype,{$:{get:function(){return this.P.$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pM:{get:function(){return this.pKa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vg:{get:function(){return this.fR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Kl:{get:function(){return this.vQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{duration:{get:function(){return this.vQ.Aa(this.fR);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X:{get:function(){return this.fR.V;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ea:{get:function(){return this.vQ.V;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{BC:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vt:{get:function(){return this.cz.length?!this.P.Fh && 0 === this.nM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rKb:{get:function(){return this.OA;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cz:{get:function(){var d,g;return Object.keys(null !== (g=null === (d=this.P) || void 0 === d?void 0:d.next) && void 0 !== g?g:{});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nM:{get:function(){var d;d=this;return this.cz.filter(function(g){return ! !d.OA[g];});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pta:{get:function(){var d;return null !== (d=this.kLa) && void 0 !== d?d:this.kLa=this.Cob();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{l8:{get:function(){var d;return null !== (d=this.lLa) && void 0 !== d?d:this.lLa=this.Dob();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cz:{get:function(){return this.P.weight?this.P.weight / (this.P.weight + this.l8):1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ae:{get:function(){var d;return (null === (d=this.Uv) || void 0 === d?0:d.length)?"immediate":this.wkb;},enumerable:!1,configurable:!0}});m.prototype.normalize=function(d,g,h){this.fR=d;this.vQ=g;this.Uv=h;this.pKa=!0;this.J7a();};m.prototype.sTa=function(){var d;return this.nM.length?null !== (d=this.nM.map(this.vL).reduce(function(g,h){return g === h?h:void 0;})) && void 0 !== d?d:this.ae:this.ae;};m.prototype.si=function(d){this.yWa(d);};m.prototype.rob=function(d){var g,h;if(this.pta){g=(this.OA[d] || 0) / this.pta;if(void 0 === this.P.weight || 0 === this.l8)return {He:g};h=this.Cz;return 1 !== h && c(this.vL(d)) && this.OA[d]?{He:h * g,TB:this.OA[d] / this.l8 * (1 - h)}:{He:h * g};}return {He:(null === (g=this.P.next) || void 0 === g?0:g[d])?1 / this.cz.length:0};};m.prototype.rDb=function(d){return -1 < this.cz.indexOf(d);};m.prototype.yWa=function(d){var g;if(void 0 === this.P.next)this.OA={};else {g=this.P.next;this.OA=Object.keys(g).reduce(function(h,k){var n;n=d?d[k] || 0:g[k].weight;void 0 !== n && null !== n && 0 <= n && (h[k]=n);return h;},{});}this.J7a();};m.prototype.Cob=function(){var d;d=this;return this.nM.reduce(function(g,h){return g + d.OA[h];},0);};m.prototype.Dob=function(){var d;d=this;return this.nM.filter(function(g){return c(d.vL(g));}).reduce(function(g,h){return g + d.OA[h];},0);};m.prototype.J7a=function(){this.lLa=this.kLa=void 0;};return m;})();b.nFa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cZ=void 0;c=a(2);r=a(412);f=c.__importDefault(a(27)).default.Ra;l=a(392);m=a(15);d=c.__importDefault(a(5));g=a(179);h=a(6);k=a(22);n=a(898);a=(function(q){function p(t,u,v,w,x,y,A,z,B,D,E,F){v=q.call(this,w,z,v,w,w,x,k.S.mb(y),A,E,!1,null === F || void 0 === F?void 0:F.Gf) || this;v.gb=t;v.Bh=u;v.Pf=B;v.rg=D;v.Ufa=0;v.BB=[];v.Uw=!1;v.Dn.$6a=!1;v.xQ=new n.LAa(w,v.rg,z,v.H,v.mediaType,v.Bh,v.Oa,v.gb);v.LGb=d.default.time.ba();v.FGb=void 0;v.gG=z.cma;v.n1a=d.default.time.ba();u=g.pL(z);t=u.DC;u=u.X6;v.bOb=0 === v.mediaType?t:u;v.JW(x);return v;}c.__extends(p,q);Object.defineProperties(p.prototype,{ux:{get:function(){return this.Oa.ux;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lK:{get:function(){return this.Oa.lK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{pB:{get:function(){return this.Oa.pB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xz:{get:function(){return this.Oa.xz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wh:{get:function(){return this.xQ.wh;},set:function(t){this.xQ.wh=t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lq:{get:function(){return this.xQ.lq;},set:function(t){this.xQ.lq=t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{k5:{get:function(){return this.Ld;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JEb:{get:function(){return this.MJa.V;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qN:{get:function(){return this.hLa.qN;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{hCb:{get:function(){return this.gb.Wda;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Be:{get:function(){return this.Uw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{PE:{get:function(){return this.MIa;},enumerable:!1,configurable:!0}});p.prototype.reset=function(){this.seeking=void 0;this.connected=this.wh=!1;this.Dn.reset();};p.prototype.Df=function(){this.reset();q.prototype.Df.call(this);};p.prototype.jy=function(t,u){return l.jy(this.vj.mediaType,this.I,t,u,this.Xf,this.gb.eJb);};p.prototype.Dm=function(t,u,v,w){return l.Dm(this.vj.mediaType,this.I,t,u,v,w);};p.prototype.bn=function(){this.gG=this.I.cma;};p.prototype.ZJ=function(){this.Oa.L8();};p.prototype.JW=function(t){var u,v;u=this.gb;v=this.mediaType;h.assert(t.mediaType === v);h.assert(t.O === this.xb.O);this.vj=t;this.xb.O.nua(v,t.Sd);u.ohb(this,t.hC);this.nob(t.Sd);this.Gf.JW(t);this.xb.O.Hga();this.wh=!1;};p.prototype.aja=function(t){var u;u=this.xb.O.Qg[this.mediaType];if(u && u.stream.Ee && (t=u.stream.Y.Em(t),-1 !== t))return t;};p.prototype.fH=function(t,u){var v,w,x;if(this.Yd && this.Yd.X === t){u=this.Yd.index;v=t;}else {w=this.xb.O;x=w.Qg[this.mediaType];if(!x || !x.stream.Ee){this.AG=t;this.aNb=u;return;}v=x.stream.Y;this.Yd=this.Dm(x.stream,t,void 0,u);if(void 0 === this.Yd){if((u=v.length - 1,v=v.Zi(u),this.Hb("setStreamingPts out of range of fragments, pts:",t,"last startPts:",v,"fragment index:",u,"fastplay:",w.bf.Ng),w.bf.Ng)){this.AG=t;return;}}else (u=this.Yd.index,v=this.Yd.X);}this.io=u;this.gR=v;this.AG=void 0;};p.prototype.wYb=function(t){var u,v;u=this.vj.pv(t);v="verifying streamId: " + t + " stream's track: " + (u?u.Na:"unknown") + " currentTrack: " + this.vj.trackId;return u?!0:(this.Bh.Sl(v),this.Bh.Sl("unknown streamId: " + t),!1);};p.prototype.nob=function(t){this.HDb=t.reduce(function(u,v){return v.Zs && v.bitrate > u.bitrate?v:u;},t[0]);};p.prototype.T7=function(t){this.qf=t;};p.prototype.gIb=function(t,u,v,w,x){this.p6a(t,u,w,x);v && ++this.Ufa;this.gb.uj();};p.prototype.ez=function(t){t.Ea && t.X && (this.gG-=t.Ea - t.X);q.prototype.ez.call(this,t);};p.prototype.uk=function(t){this.rVa(t);this.mv(t);};p.prototype.pXb=function(t){var u;u=d.default.time.ba();this.gG+=t * (u - this.n1a);this.n1a=u;};p.prototype.eRb=function(){this.gG=this.I.cma;};p.prototype.kK=function(t){this.Oa.qga();this.Xf || this.xQ.kK(t,this.vc);};p.prototype.rVa=function(t){var u,v,w;v=this.k5;w=this.gb;this.Pf.jLa() || (this.Bh.Nib(t.mediaType,t.O.Gb,t.stream.track.GE,this.ss,this.va),null === (u=this.Xf) || void 0 === u?void 0:u.vEb(t),u=v.T.Ce() || 0,w.qb.Vw() || (v=v.Sa(f.Fb)) && !v.Be && v.U3 && w.qb.Ska(v),this.kK(u),this.gb.qVa(t),this.Pf.p_(this) && this.Pf.uj());};p.prototype.ypa=function(t){this.gb.Q3(t);};p.prototype.kOa=function(t,u,v,w,x,y){var A,z;A=this.I;z=A.Qi;if(v >= A.Qi && (A.t7 && (z=v + 1E3),A.u7 && !this.connected))return !1;if(this.Xf)return this.Xf.Lx();v=this.wh && 0 === this.Oa.Cpa && 0 === this.Oa.Gr;return !v && w < z?!1:v?y && 0 === w?(this.Hb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.mpb(t,u,x);};p.prototype.PSb=function(t){this.gR=t;};p.prototype.Q7=function(t){this.Uw=!0;this.MIa=t;};p.prototype.Fga=function(){this.Uw=!1;this.MIa=void 0;};p.prototype.mpb=function(t,u,v){if(this.Be || 0 === this.mediaType)return !0;if(void 0 === this.$s)return !1;u=this.bhb(u,t);this.track.O.Ol.wX(this.track.O.$,this.track.Sd);this.Hz.mqa([this.$s],!1,u,this.bOb);t=this.Hz.Lx(u,t,v,this.$s,this.xb.O.op);t.complete?this.Q7(t.reason):(this.Fga(),this.gC=t.gC,this.progress=t.progress);return this.Be;};p.prototype.bhb=function(t,u){var v,w,x,y,A;y=d.default.Sn()[this.mediaType];A=this.Oa.D3();t={Xu:y,X:null !== (v=A.Zc) && void 0 !== v?v:0,wc:t,tc:null !== (w=A.JM || t) && void 0 !== w?w:0,Fl:null !== (x=A.eS || t) && void 0 !== x?x:0,Eg:A.Eg,jl:A.jl,JSa:A.Y.length,Y:A.Y};"number" !== typeof t.X?(t.X=0,t.tc=0):u === m.zc.$c && t.wc !== t.X && (t.wc=t.X);return t;};return p;})(r.aba);b.cZ=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.P9=void 0;c=a(2);r=a(16);f=a(20);l=c.__importDefault(a(5));m=a(9);d=a(900);g=a(177);h=a(901);k=a(22);n=a(904);a=(function(q){function p(){var t;t=null !== q && q.apply(this,arguments) || this;t.VKa=0;t.$da=0;t.q_=0;t.Gca=0;return t;}c.__extends(p,q);p.prototype.xra=function(t){var u,v;q.prototype.xra.call(this,t);this.VKa++;this.$da++;this.oLa=l.default.time.ba();this.kJ || (this.kJ={vc:t.vc,Mc:t.Mc,index:t.index},this.G_ || (this.G_=this.kJ));u=this.U_;v=!1;u && 100 > Math.abs(u.Rd - t.Zc) && (this.q_+=t.Rd - u.Rd,this.Gca++,v=!0);v || (this.q_=t.cy,this.Gca=1);this.U_=t;};p.prototype.stop=function(){q.prototype.stop.call(this);this.$da=0;this.kJ=void 0;};p.prototype.VTa=function(){var t,u,v,w;t=this.SA;u=t.R1;if(u){w=u.Sa(this.tg);w && w.Oa && (v=w.Oa.Gka());return {RM:v,currentBranch:{sId:u.P && u.P.id,cancelled:u.Kn},currentReceivedCount:t && t.Ctb,totalReceivedCount:this.VKa,currentState:t && t.SPa || "Uninitialized",lastRequestPushed:this.U_ && ({contentEndPts:this.U_.vc,fragmentIndex:this.U_.index}),tslp:this.oLa && l.default.time.ba() - this.oLa,cpts:this.q_,crq:this.Gca,rslp:this.$da,firstRequestSSPushed:this.kJ && ({contentStartPts:this.kJ.Mc,fragmentIndex:this.kJ.index}),firstRequestPushed:this.G_ && ({contentStartPts:this.G_.Mc,fragmentIndex:this.G_.index})};}};return p;})((function(q){function p(t,u,v,w,x,y,A,z,B){var D;D=q.call(this) || this;D.qg=t;D.tg=u;D.I=w;D.H=x;D.NA=new m.sq(!1);D.MA=new m.sq(k.S.mb(-Infinity));D.H=m.dr(l.default,D.H,"AsePlayerBuffer:");D.SA=new d.awa(D.H,v,u);D.resume();y && A && z && (D.oqa=new h.DFa(u,x,y,D.qg,y.events,A,z,B),t=new n.Oya(null === y || void 0 === y?void 0:y.vt,k.S.mb(D.I.VU),x),D.SA.ylb(t));D.qg.on("requestAppended",function(E){D.NA.set(!0);E.request.rf && D.MA.set(E.request.rf);D.emit("requestAppended");});return D;}c.__extends(p,q);Object.defineProperties(p.prototype,{$y:{get:function(){return this.NA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{oU:{get:function(){return this.MA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eFb:{get:function(){return this.SA.sk;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jz:{get:function(){return this.qg.Jz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.tg;},enumerable:!1,configurable:!0}});p.prototype.VTa=function(){};p.prototype.resume=function(){f.ia && this.H.trace("resume");this.Wsa();};p.prototype.IWa=function(t){return this.qg.oka() > t;};Object.defineProperties(p.prototype,{Gmb:{get:function(){return this.UI;},enumerable:!1,configurable:!0}});p.prototype.reset=function(t){var u;void 0 === t && (t=!1);f.ia && this.H.trace("reset");this.stop();this.qg.reset(t);this.NA.set(!1);this.MA.set(k.S.mb(-Infinity));t || (this.UI=void 0);t || (null === (u=this.oqa) || void 0 === u?void 0:u.reset());};p.prototype.ml=function(t){void 0 === t && (t=!1);this.reset(t);this.Wsa(!0);};p.prototype.stop=function(){this.SA.T4a();};p.prototype.close=function(){var t;null === (t=this.oqa) || void 0 === t?void 0:t.close();};p.prototype.Ab=function(){this.stop();this.close();};p.prototype.mV=function(){this.I.P2 && this.qg.ASa();this.qg.by();};p.prototype.fyb=function(t){this.qg.k_a(t,!0);};p.prototype.ci=function(t){var u;return !(null === (u=this.oqa) || void 0 === u || !u.ci(t));};p.prototype.Wsa=function(t){if(!this.SA.sk || t)(this.SA.nRb(),g.AsyncIterator.hGb(this.SA,this.Z4.bind(this)));};p.prototype.Z4=function(t){t.done || this.xra(t.value);};p.prototype.xra=function(t){this.qg.endOfStream?f.ia && this.H.error("Buffer manager has declared EOS, ignoring request",t.toString()):(this.UI?(this.UI.GGb=t.vc,this.UI.HGb=t.Rd,this.UI.EXa=t.rf):this.UI={w5b:t.Mc,x5b:t.Zc,GGb:t.vc,HGb:t.Rd,EXa:t.rf},this.qg.Fmb(t));};return p;})(r.EventEmitter));b.P9=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uba=void 0;c=a(2);f=a(16);l=a(9);m=a(20);d=a(67);g=l.S.mb(1E3);r=(function(){function h(k,n,q,p,t,u,v,w,x){var y,A,z;y=this;this.mediaType=k;this.console=n;this.Ga=q;this.events=t;this.Iu=u;this.Hf=v;this.uWb=w;this.fo=[];this.Fpa=g.add(l.S.mb(null !== (z=null === (A=u.BN) || void 0 === A?void 0:A.V) && void 0 !== z?z:0));this.listeners=new f.xh();this.listeners.on(q.T,"skipped",function(){return y.oV();});this.listeners.on(p,"requestAppended",function(B){return y.$y(B.request);});this.eR=!0;this.NS=v.sB(function(){return y.Wvb();},"Presentation Emit",x);this.e7=v.sB(function(){return y.fPb();},"Presentation Prune");}h.prototype.oV=function(){this.trace("skipped, scheduler clock " + this.Hf.xa.currentTime.Pd());this.eR=!0;this.NS.ml();};h.prototype.Wvb=function(){var k,n;return c.__generator(this,function(q){switch(q.label){case 0:(this.GG=this.qKb(this.eR),k=this.WZa(),q.label=1);case 1:if(!k)return [3,3];n=this.eR?this.Ga.vd:null === k || void 0 === k?void 0:k.timestamp;this.trace("queuing task for " + k.DH + (" at player time " + k.timestamp.Pd()) + (" scheduler clock is " + this.Hf.xa.currentTime.Pd()));return [4,d.mj.fO(k.timestamp)];case 2:return (q.$d(),this.trace("executing task for " + k.DH + (" at player time " + k.timestamp.Pd()) + (" scheduler clock is " + this.Hf.xa.currentTime.Pd())),this.eR=!1,this.fRa(k,n),this.GG++,k=this.WZa(),n=null === k || void 0 === k?void 0:k.timestamp,[3,1]);case 3:return [2];}});};h.prototype.WZa=function(){if(void 0 !== this.GG)return this.fo[this.GG];};h.prototype.qKb=function(k){var n,q,t;void 0 === k && (k=!1);for(var p=k?0:null !== (n=this.GG) && void 0 !== n?n:0;p < this.fo.length;p++){n=this.fo[p];t=l.S.mb(null !== (q=this.Iu.bqa) && void 0 !== q?q:0);if(n.timestamp.greaterThan(this.Ga.vd.add(t)))return k && 0 < p?p - 1:p;}return Math.max(this.fo.length - 1,0);};h.prototype.fPb=function(){var k,n;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.fo.length))return [3,2];k=c.__read(this.fo,2);n=k[1];this.trace("queuing pruning task for " + n.DH + (" at player time " + this.Fpa.add(n.timestamp).Pd()) + (" scheduler clock is " + this.Hf.xa.currentTime.Pd()));return [4,d.mj.fO(this.Fpa.add(n.timestamp))];case 1:return (q.$d(),this.trace("executing pruning task for " + n.DH + (" at player time " + this.Fpa.add(n.timestamp).Pd()) + (" scheduler clock is " + this.Hf.xa.currentTime.Pd())),this.fo.shift(),this.GG && this.GG--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.fo=[];m.ia && this.trace("reset");this.eR=!0;this.e5=void 0;this.GG=0;this.e7.ml();this.NS.ml();};h.prototype.close=function(){this.NS.Ab();this.e7.Ab();this.listeners.clear();};h.prototype.ci=function(k){var n;m.ia && this.trace("canSkip() " + k);if(0 === this.fo.length)return (m.ia && this.trace("canSkip false, no media sequence"),!1);n=this.fo[0];return n.timestamp.greaterThan(k)?(m.ia && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.e5 || this.e5.lessThan(k)?(m.ia && this.trace("canSkip false, later than last appended at " + this.e5),!1):!0;};h.prototype.trace=function(k){m.ia && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.uWb + ": " + k);};h.prototype.QLa=function(k,n,q){q && (this.e5=q);q=this.fo.length?this.fo[this.fo.length - 1]:void 0;return void 0 === q || q.DH !== k?(this.fo.push({DH:k,timestamp:n}),this.NS.state === d.sl.complete && this.NS.ml(),this.e7.state === d.sl.complete && this.e7.ml(),!0):!1;};return h;})();b.uba=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Z9=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(84));l=r.__importDefault(a(5));m=a(905);d=a(15);g=a(248);h=a(9);k=a(6);n=a(22);q=a(376);p=a(410);a=(function(){function t(u,v,w,x,y,A,z,B,D,E){this.gb=u;this.Bh=v;this.H=w;this.GJ=x;this.I=z;this.A_=B;this.GKa=D;this.qT=E;this.Hb=this.H.warn.bind(this.H);this.rm=this.H.trace.bind(this.H);this.eg=this.H.log.bind(this.H);this.yh=[];this.Jg={};y.Mn?(k.assert(!y.ko),this.vca=!0,this.fjb(y,y.Mn,A)):(this.wn=this.Ww(y.ko || "",y,0,void 0,void 0,{},!0),this.wn.pM=!0,this.wn.Ea=Infinity,this.z0=[this.wn]);this.Ld=this.s_(this.wn,void 0,A);this.Ld.active=!0;u=h.dr(l.default,this.H,"BranchQueue::");this.Ci=new g.cY(u);this.Ci.enqueue(this.Ld);this.Tda=this.HQ=void 0;}t.Ija=function(u){return "m" + u;};Object.defineProperties(t.prototype,{Hy:{get:function(){return ! !this.vca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gj:{get:function(){return this.Ld.Kn;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Te:{get:function(){return this.wn;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Eh:{get:function(){return this.Ld.P.id;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Dtb:{get:function(){return this.Ld.O.Gb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ec:{get:function(){return this.Ld;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Cb:{get:function(){return this.yh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Re:{get:function(){return this.Ld.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rg:{get:function(){return this.gb.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Mh:{get:function(){return this.HQ?this.HQ:this.Cb[0];},enumerable:!1,configurable:!0}});t.prototype.Ab=function(){this.yh.forEach(function(u){u.Df();});this.yh=[];this.Ci.clear();};t.prototype.De=function(u){return this.Jg[u];};t.prototype.QUa=function(){return this.Ci.getIterator();};t.prototype.PUa=function(u,v){var w;w=this.Jg[u];if(w)return (u=w.Wk[v]) && u.weight;this.Hb("getSegmentWeight, unknown segment:",u);};t.prototype.dCb=function(u){var v;v=this.Jg[u];if(v)return v.X;this.Hb("getSegmentStartPts, unknown segment:",u);};t.prototype.cCb=function(u){var v;v=this.Jg[u];if(!v)this.Hb("getSegmentDuration, unknown segment:",u);else if(c.ya(v.Ea) && isFinite(v.Ea) && c.ya(v.X) && isFinite(v.X))return v.Ea - v.X;};t.prototype.hra=function(u){var v;v=-1;this.yh.some(function(w,x){return w === u?(v=x,!0):!1;});-1 !== v?this.yh.splice(v,1):this.Hb("Unable to find branch:",u,"in branches array");};t.prototype.TE=function(u,v){var w;w=0;this.ahb(u).forEach(function(x){(x=x.Ed(v)) && (w+=x.pB);});return w;};t.prototype.Wu=function(u,v,w){var x;if(!u.Zb(v))return 0;x=u.Sa(v);for(x=w?x.tc:x.ss;void 0 === x;){if(!u.Wf)return 0;u=u.Wf;x=u.Sa(v);x=w?x.tc:x.ss;}u=this.GKa.Ce();return Math.max(x - u,0);};t.prototype.Zia=function(u){return this.yh.filter(function(v){if(v.O.Gb === u)return !0;});};t.prototype.Oxb=function(u,v){return this.mJa(u,!1,v);};t.prototype.Nxb=function(u,v){return this.mJa(u,!0,v);};t.prototype.GQb=function(u,v,w){c.Xe(this.yh,function(x){x.O === u && x.d4a(v,w);});c.Xe(this.Jg,function(x){x.O === u && (x.O=v);});};t.prototype.N2a=function(){var u;u=this;c.Xe(this.yh,function(v){var w;w=u.gb.Og(v.O.Gb);v.Rz(n.S.mb(w.wv));});};t.prototype.Wp=function(u){var v;v=this;c.Xe(this.yh,function(w){w.Sa(1).track.Sd.forEach(function(x){var y;y=q.dfa(x.Kg,x.bitrate,u,v.H);f.default(y,x);});});};t.prototype.Gs=function(u,v,w,x){var y;for(;v;){y=v.Gs(u,w);if(y)return y;if(x)break;v=v.Wf;}};t.prototype.XPa=function(u){var v,w;v=this;void 0 === u && (u=!1);w=this.yh;u && (w=w.filter(function(x){return x !== v.Ld;}));w.forEach(function(x){x.active=!1;v.Ci.remove(x);});u || this.Ci.clear();return w;};t.prototype.ePb=function(){var u;for(;0 < this.yh.length;){u=this.yh[0];u.Sa(0);u.Sa(1);if(!u.active)break;if(u === this.Ld)break;if(!u.sDb())break;u.Df();this.yh.shift();}};t.prototype.QV=function(u,v,w,x,y){if(w > x){for(w-=x;u;){u.QV(v,w,y);u=u.Wf;}return w;}};t.prototype.wYa=function(u,v){for(var w={eS:null,JM:null,Zc:null,jl:0,Eg:0,Y:[]};u;){u.D3(w,v);u=u.Wf;}return w;};t.prototype.Rpb=function(u){var v,w,x;v=this.Ld;if(v.kYa)w=v.kYa;else {x=this.Ld.Re;w=this.s_(v.P,v);d.ff.forEach(function(y){var A;A=w.Ed(y);A && (A.fH(0),y=v.Ed(y),A.T7(y.qf));});w.Rz(n.S.mb(x + u));v.kYa=w;}this.QI(w,v);};t.prototype.xlb=function(u,v,w){var x,y;k.assert(!u.Hy());if(!this.vca){this.vca=!0;this.HQ=this.Mh;x=this.wn.id || t.Ija(0);this.wn.id=x;this.Jg[x]=this.wn;this.wn.Ea=this.gb.KAb().XTa();this.wn.BC=!0;}y=void 0 !== u.ko?u.ko:t.Ija(u.Gb);u=this.Ww(y,u,v,w,void 0,{},!0);u.BC=!0;this.z0.forEach(function(A){A.Wk={};A.Wk[y]={weight:100};A.vS=y;A.Vt=!1;});this.z0=[u];};t.prototype.ps=function(u,v){var w,x,y,A;w=this.Mh;x=w.NC(v,this.gb.T);y=w.P;A=w.children[u];if(v){if(!y.Wk[u])return (this.Ld.Hb("chooseNextSegment, invalid destination:",u,"for current segment:",y.id),!1);if(w.hk)return w.hk === u;w.hk=u;A && w.S2 && this.QI(A,w);return !0;}if(void 0 !== w.hk)return !1;if(!A)return (x.SZa=!0,!1);x.SZa=!A.uga();this.gb.aea(void 0,p.OP.oM);w.S2=void 0;w.hk=u;this.QI(A,w);w.US();this.gb.cR();return !0;};t.prototype.LDb=function(u,v){var w,x,y,A;w=this;A=u.P;v && !u.hk && (u.hk=A.vS,u.NC(!0,this.gb.T,!0));u.children=Object.create(null);c.Xe(A.Wk,function(z,B){u.hk && B !== u.hk || (x=w.Jg[B],y=w.sgb(x,u),u.children[B]=y);});u.hk && (v=u.children[u.hk]) && this.QI(v,u);u.S2=!0;};t.prototype.nWb=function(){var u;u=0;c.Xe(this.yh,function(v){d.ff.forEach(function(w){v.Zb(w) && (w=v.Ed(w),u+=w.Oa.Xo);});});return u;};t.prototype.qVb=function(u,v){var w,x,y;w=this;x=this.Ygb(u,v);if(x){if(x !== this.Ld.P){this.XPa();y=this.s_(x,this.Ld,u);y.Wf=void 0;y.ysa(void 0,void 0,!0);this.wfb(this.Ld);this.QI(y,this.Ld);}else this.XPa(!0).forEach(function(A){A.Df();w.hra(A);w.Ci.remove(A);});x === this.Mh.P && (this.Mh.fw.shift(),y && (y.fw=this.Mh.fw,y.hk=this.Mh.hk));this.Bh.Y_(x,this.Ld.Re);this.Ld.S2=void 0;}else this.Hb("findSegment no segment for manifestIndex:",v);};t.prototype.uYa=function(u,v){var w;w=u.P;v || (v=w.vS);u.hk || (u.hk=v,u.NC(!0,this.gb.T,!0));(v=u.children[u.hk]) && this.QI(v,u);};t.prototype.K3a=function(u,v){if(this.Ld !== u){if(v)for(v=this.Ld;v && v !== u;){v.active=!1;this.Ci.remove(v);v=v.Wf;}this.Ld=u;}};t.prototype.Hr=function(u,v){var w,x,y,A,z;w=this;if(this.Hy){x=this.I;y=this.Mh;A=y.P;z=h.WRb(A.id);!y.hk && !A.Vt && y.vc - v <= x.oC && (this.Hb(z + "updatePts making fork decision at playerPts:",u,"contentPts:",v),this.uYa(y));}d.ff.forEach(function(B){w.Ld.Zb(B) && w.rg[B].Hr();});};t.prototype.LKb=function(u,v){var w,x;if(this.Hy){w=this.HQ;if(!(this.I.hEb && u && this.Tda && u.X === this.Tda || (u=u.Oa.xb,w && u.P.id === w.P.id))){x=null === w || void 0 === w?void 0:w.Ed(1);x=null === x || void 0 === x?void 0:x.qf;this.Tda=null === x || void 0 === x?void 0:x.X;this.HQ=u;this.Tfb(w);w=w && w.dqb(u);this.Bh.Jib(u.P,v,w);}}};t.prototype.m6=function(u,v,w){v.pM || (v.X=this.qUa(u,v.X,!0),w || (v.Ea=this.qUa(u,v.Ea,!1)),v.pM=!0,!1);};t.prototype.ZN=function(u,v){var w;w=this.Jg[u];w?c.Xe(w.Wk,function(x,y){x.weight=v[y] || 0;}):this.Hb("updateChoiceMapEntry, unknown segment:",u);};t.prototype.qUa=function(u,v,w){u=w?u.jSa(v):u.cT(v);if(!u.length)return v;v=u[1];return w?v.X:v.Ea;};t.prototype.QJa=function(u,v,w){var x;x=v?w.vc:w.Rd;return (v?w.H7:w.cqa) <= u && u < x;};t.prototype.mJa=function(u,v,w){var z;for(var x=this.gb,y=this.Ld;y;){if((!c.ya(w) || x.mma(w,y.O.Gb)) && this.QJa(u,v,y))return y;y=y.Wf;}if(v){y=Object.keys(this.Ld.children);for(var A=0;A < y.length;A++){z=this.Ld.children[y[A]];if((!c.ya(w) || x.mma(w,z.O.Gb)) && this.QJa(u,v,z))return z;}}};t.prototype.sgb=function(u,v){var w,x;w=this.s_(u,v);x=w.ysa(v,void 0,this.I.Zqa);d.ff.forEach(function(y){var A,z,B;if(w.Zb(y)){A=w.Ed(y);z=v.Ed(y);B=x[y];1 === y && w.Rz(n.S.mb(z.tc + v.Re - B));A.fH(B);}});this.Bh.Y_(u,w.Re);return w;};t.prototype.wfb=function(u){for(var v=[u.P.id];u.Wf;){u=u.Wf;v.unshift(u.P.id);}this.mca(u);};t.prototype.mca=function(u){var v,w;v=this;w=u.P;c.Xe(u.children,function(x){x && v.mca(x);});this.Ci.remove(u);u.Df();this.hra(u);this.Bh.Kda(w);};t.prototype.QI=function(u,v){var w,x,y,A;w=this;x=v.P;v.O !== u.O && this.gb.bKa(u.O.Gb);u.active=!0;this.Ci.enqueue(u);u.ZJ();y=l.default.time.ba();A={};c.Xe(v.children,function(z){var B,D;if(z){if(z.Zd){B=z.Ed(0);D=z.Ed(1);z.Zd.cK=[B?B.hp.V:0,D?D.hp.V:0];z.Zd.Avb=y - z.Zd.p4;z.Zd.p4=void 0;A[z.P.id]=z.Zd;}z.P.id !== u.P.id && w.mca(z);}});v.children=Object.create(null);v.children[u.P.id]=u;v.aJ=void 0;this.K3a(u);this.Bh.Hib(u.P,A);1 < Object.keys(x.Wk).length && u.uga();};t.prototype.Tfb=function(u){var v,w;if(u){v=l.default.time.ba();w=u.fw[0];w && void 0 === w.b2?w.b2=v - w.Tp:w || (this.Hb("missing metrics for branch:",u.P.id),w={b8:u.P.id,He:!0,b2:0,Zd:{}},u.fw.unshift(w));void 0 === w.startTime && (w.startTime=v);}};t.prototype.Ygb=function(u,v){var x,y,A,z;k.assert(0 <= u);for(var w in this.Jg){x=this.Jg[w];if(this.gb.mma(x.O.Gb,v)){if(x.X <= u && (Infinity === x.Ea || void 0 === x.Ea || u < x.Ea))return x;y=Math.min(Math.abs(u - x.X),Math.abs(u - x.Ea));if(c.fa(A) || y < A)(A=y,z=x);}}return z;};t.prototype.Ww=function(u,v,w,x,y,A,z,B,D){v=new m.uGa(u,v,w,x,y,A,z,B,void 0,D);return this.Jg[u]=v;};t.prototype.fjb=function(u,v,w){var x,y,A;x=this;this.wn=void 0;this.z0=[];y=null;A=null;c.Xe(v.segments,function(z,B){var D,E,F,C,G;D=z.startTimeMs;E=z.endTimeMs;F={};c.Xe(z.next,function(J,K){F[K]={weight:J.weight || 0,AWb:J.transitionHint || z.transitionHint,i5b:"number" === typeof J.earliestSkipRequestOffset?J.earliestSkipRequestOffset:z.earliestSkipRequestOffset};});C=z.defaultNext;c.fa(C) && (C=Object.keys(F)[0]);G=c.fa(C);C=x.Ww(B,u,D,E,C,F,G,z.exitZones,z.transitionHint);D <= w && (w < E || c.fa(E))?x.wn=C:D > w && (!y || D < A) && (y=B,A=D);G && x.z0.push(C);});this.wn || (this.wn=y?this.Jg[y]:this.Jg[v.initialSegment]);};t.prototype.s_=function(u,v,w){var x,y,A,z;x=u.O;y=this.gb.Og(x.Gb);A=y.wv;z=[];[0,1].forEach(function(B){x.Zb(B) && z.push(y.wp(B));});u=new p.KAa(this.gb,this.I,this.Bh,this.H,this,this.A_,this.GKa,this.GJ,u,z,A,v,w?n.S.mb(w):void 0,this.qT,this.gb.rg,this.gb.Hu);this.xfb(u);this.yh.push(u);return u;};t.prototype.xfb=function(u){var w;function v(x){w.gb.emit(x.type,x);}w=this;u.addListener("locationSelected",v);u.addListener("logdata",v);u.addListener("serverSwitch",v);u.addListener("streamSelected",v);u.addListener("lastSegmentPts",v);u.addListener("managerdebugevent",v);u.addListener("requestCreated",function(x){x=x.request;w.gb.eea(x.mediaType,x.X);});};t.prototype.ahb=function(u){for(var v=[u];u.Wf;){u=u.Wf;v.push(u);}return v;};return t;})();b.Z9=a;},function(r,b,a){var m,d,g;function c(h,k,n){this.AC=k;this.Sk=n;this.Fz=this.cU=this.Hpa=this.z0a=this.y0a=this.rM=this.Sd=this.DNb=this.Sk=this.Yl=this.tc=this.X=this.Tz=this.xo=this.Y=this.AWa=this.JR=void 0;}function f(h,k,n){this.Ea=k;this.ZWa=n;this.GMa=this.C7a=this.gs=this.xo=this.eG=this.dv=void 0;}function l(h,k,n,q,p,t,u){var v;v=new c(n,k,h.Sk);h.forEach(function(w){var x,y;x=w.buffer;y=x.Y;w.mediaType === m.Ra.Sb?v.JR=y.length?y[0].bitrate:void 0:w.mediaType === m.Ra.Fb && (v.AWa=y.length?y[0].bitrate:void 0,v.Y=y,v.xo=x.Fl - x.wc,v.Tz=x.Eg,v.X=x.wc,v.tc=x.tc,v.Yl=w.Od,v.Sk=w.Sk,v.DNb=k - w.Sk,v.Sd=w.Sd,v.rM=y.filter(function(A){return v.X <= A.Qv;}).length);});this.$i=v;this.Ds=void 0;this.bQa=q;this.Vv=p;this.CNa=t;this.Uqa=this.j7=this.P_a=this.Lz=this.TJ=this.gSa=this.hw=this.Sd=this.Ds=void 0;this.Ulb=u;this.gqa={};}m=a(27).default;d=a(37).assert;g=a(15).ka;c.prototype.constructor=c;f.prototype.constructor=f;l.prototype.constructor=l;l.prototype.Fs=function(h,k){var n,q,p,t,u,v,w,x,y,A,z,B,D,G,J,K,H,L,R;n=this.$i;q=[];p=h[m.Ra.Fb];t=h[m.Ra.Sb];if(void 0 === p || void 0 === t)return !1;u=p.buffer;v=t.buffer;w=n.Sd.filter(function(I){return I.q3();});if(void 0 === u || void 0 === v || void 0 === w || 0 === w.length)return !1;x=new f(k?g[k]:"maxbitratechanged",p.wc,k === g.Af);y=0;A=0;z=0;B=0;D=n.X;h=h[m.Ra.Fb].wc;for(var E=n.Y,F=n.rM,C=0;C < F;C++){G=E[C];J=G.offset;K=G.offset + G.ca - 1;H=G.cy;L=G.oz;R=L + H;G && L <= h && R > D && (H=G.cy,L=Math.min(H,Math.min(h,R) - Math.max(L,D) + 1),B+=L,y+=L / H * (K - J + 1),A+=G.bitrate * L,z+=G.wb * L);}n.y0a=y;n.z0a=B;n.Hpa=0 < B?A / B:0;n.ZMb=0 < B?z / B:0;n.cU || (n.cU=0,w.some(function(I,Q){if(I.bitrate === n.AWa)return (n.cU=Q,!0);}));w.forEach(function(I){var Q,M;I=I.q3();Q=[];n.Fz || (n.Fz=I.Em(n.X,void 0,!0));x.dv || (x.dv=I.Em(x.Ea,void 0,!0),x.eG=I.length - 1);n.Yl !== n.Fz + n.rM && (n.Yl=n.Fz + n.rM);F=Math.min(x.eG,x.dv + 1);for(var N=n.Fz;N <= F;N++){M=I.get(N);Q[N]=M;}q.push(Q);});k === g.Af && (x.xo=u.Fl - u.wc,x.gs=v.Fl - v.wc,x.C7a=p.V1a,x.GMa=t.V1a);this.Ds=x;this.Sd=w;this.hw=q;return this.gSa=!0;};l.prototype.sy=function(){var h,k,n,q,p,t,u,v,w,z,B,D,E,F;if(this.Jj)return this.Jj;h=this.Lz;k=this.$i;n=this.Ds;q=this.Sd;p=this.P_a;t=this.Ulb;d(void 0 !== h,"throughput object must be defined before retrieving the logdata from PlaySegment");if(h.trace && 0 === h.trace.length || void 0 === h.timestamp){if(n.ZWa)(u=!1,v=!0);else n.dv - k.Fz + 1 <= k.rM?v=u=!0:(u=!0,v=!1);w=!0;}if(p)for(var x=p.A4,y=p.RK,A=0;A < t.length;A++){z=t[A];(h=p[z]) && h.Noa && (v=!0);}n={bst:k.Sk,pst:k.AC,s:k.Fz,e:n.dv,prebuf:k.rM,brsi:k.Yl,pbdlbytes:k.y0a,pbdur:k.z0a,pbtwbr:k.Hpa,pbvmaf:k.ZMb};this.Vv && (n.fragmentsPrebuffered=k.Y);w && (n.nt=w);v && (n.nd=v);x && (n.invalid=x);y && (n.exception=y);this.Uqa && (n.rr=this.Uqa);this.j7 && (n.ra=this.j7);if(!v && !x && !y && (this.bQa || this.Vv)){n.bitrate=q.map(function(G){return G.bitrate;});h=this.Lz;z=h.trace;B=[];E=0;z.forEach(function(G){G=Number(G).toFixed(0);B.push(G - E);E=G;});n.tput={ts:h.timestamp,trace:B,bkms:h.Dx};}if(v || w || x || y)n.feasible=u;else for((n.sols={},n.elapsed=p.Qvb,A=0);A < t.length;A++){z=t[A];h=p[z];v={};if(h && h.$p){v.algelapsed=h.Tlb;v.maxHeapTotal=h.Vy;v.f=h && h.XB || !1;v.dltwbr=h.GQa;v.dlvmaf=h.JQa;v.dlvdur=h.IQa;v.dlvbytes=h.HQa;v.dlabytes=h.EQa;if(this.bQa || this.Vv){D=h.$p.filter(function(G){return G;}).map(function(G){return G.je;});E=0;F=[];D.forEach(function(G){F.push(G - E);E=G;});v.strmsel=F;}if(this.Vv){w=[];u=this.$i.Yl;for(var C in D){x=D[C];y=this.hw[x][u];y.ng=x;w.push(y);u++;}v.fragsel=w;v.streamList=this.Sd;v.pause_dlnd_sec=h.$p.filter(function(G){return G;}).map(function(G){return G.Gpa;});v.buffer_sec=h.$p.filter(function(G){return G;}).map(function(G){return G.Tfa;});v.buffer_kb=h.$p.filter(function(G){return G;}).map(function(G){return G.Sfa;});v.buffer_frags=h.$p.filter(function(G){return G;}).map(function(G){return G.GNa;});v.elapsed_secs=h.$p.filter(function(G){return G;}).map(function(G){return G.bRa;});v.throughput=h.$p.filter(function(G){return G;}).map(function(G){return G.Pa;});}}n.sols[z]=v;}return this.Jj=n;};l.prototype.Vxb=function(h){var q;if(void 0 !== this.gqa[h])return this.gqa[h];for(var k=this.hw[this.$i.cU],n=0;n < k.length;n++){q=k[n];if(q && q.X <= h && q.X + q.duration > h)return this.gqa[h]=q;}throw Error("findPlayingFragment: missing");};r.exports=l;},function(r,b,a){var l;function c(m,d,g){this.ca=m;this.Xl=d;this.quality=g;}function f(m,d){this.Ina=d;void 0 === d && (this.Ina=!0);this.fk=m;this.Lfb();}l=a(6).assert;c.prototype.constructor=c;c.prototype.vy=function(){return 8 * this.ca / 1E3 / this.Xl;};f.prototype.constructor=f;f.prototype.xs=function(m,d,g,h,k){void 0 === d && (d=0);void 0 === g && (g=m.xL());void 0 === h && (h=0);void 0 === k && (k=m.fk.length);for(var n=[],q,p=h;p < k;p++){h=[];for(var t=d;t < g;t++){q=m.fk[p][t];h.push(q);}n.push(h);}return new f(n,m.Ina);};f.prototype.Lfb=function(){var m,d;m=this.fk[0].length;for(d in this.fk.slice(1)){l(this.fk[d].length === m,"expect this.chunkss[chunksIndex].length === n but got " + this.fk[d].length + " and " + m);}this.Ina && this.Mfb();this.Nfb();};f.prototype.xL=function(){return this.fk[0].length;};f.prototype.Mfb=function(){for(var m=0;m < this.fk.length - 1;m++){for(var d=0;d < this.xL();d++){l(this.fk[m][d].ca <= this.fk[m + 1][d].ca,"Chunk size for epoch " + d + " is not monotonic");}}};f.prototype.Nfb=function(){for(var m=0;m < this.fk.length - 1;m++){for(var d=0;d < this.xL();d++){l(1E-8 > Math.abs(this.fk[m][d].Xl - this.fk[m + 1][d].Xl),"Chunk duration for epoch " + d + " is not consistent");}}};f.prototype.MCb=function(){var m;m=[];this.fk[0].forEach(function(d){m.push(d.Xl);});return m;};r.exports={M9a:c,N9a:f};},function(r,b,a){var m;function c(){}function f(d,g,h){void 0 === h && (h=!1);m(d.length === g.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < l(d),"bitrate zero, won't be able to send anything.");this.iB=d;this.YQa=g;this.repeat=h;this.Gl=this.On=0;}function l(d){return d.reduce(function(g,h){return g + h;},0);}m=a(6).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.xs=function(){var d;d=new f(this.iB,this.YQa,this.repeat);d.On=this.On;d.Gl=this.Gl;return d;};f.prototype.gla=function(){return this.iB[this.On % this.iB.length];};f.prototype.MB=function(){return this.YQa[this.On % this.iB.length];};f.prototype.vvb=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.On && this.On < this.iB.length))throw new c();m(this.Gl < this.MB(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g;;){g=this.MB() - this.Gl;g=d < g?d:g;d-=g;this.Gl+=g;if(this.Gl < this.MB())break;this.Gl-=this.MB();this.On+=1;if(!this.repeat && this.On >= this.iB.length){if(0 < d)throw new c();break;}}};f.prototype.w0a=function(d){this.vvb(d);};f.prototype.wvb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.On && this.On < this.iB.length))throw new c();m(this.Gl < this.MB(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g,h=0;;){g=this.MB() - this.Gl;g=d < g * this.gla()?d / this.gla():g;d-=this.gla() * g;h+=g;this.Gl+=g;if(this.Gl < this.MB())return h;this.Gl-=this.MB();this.On+=1;if(!this.repeat && this.On >= this.iB.length){if(0 < d)throw new c();return h;}}};r.exports={afb:f,bfb:c};},function(r){var h,k,n,q,p,t;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(u){if(h === setTimeout)return setTimeout(u,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(u,0));try{return h(u,0);}catch(v){try{return h.call(null,u,0);}catch(w){return h.call(this,u,0);}}}function f(u){if(k === clearTimeout)return clearTimeout(u);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(u));try{return k(u);}catch(v){try{return k.call(null,u);}catch(w){return k.call(this,u);}}}function l(){q && p && (q=!1,p.length?n=p.concat(n):t=-1,n.length && m());}function m(){var u;if(!q){u=c(l);q=!0;for(var v=n.length;v;){p=n;for(n=[];++t < v;){p && p[t].Wv();}t=-1;v=n.length;}p=null;q=!1;f(u);}}function d(u,v){this.Nyb=u;this.xx=v;}function g(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];q=!1;t=-1;r.w7b=function(u){var v;v=Array(arguments.length - 1);if(1 < arguments.length)for(var w=1;w < arguments.length;w++){v[w - 1]=arguments[w];}n.push(new d(u,v));1 !== n.length || q || c(m);};d.prototype.Wv=function(){this.Nyb.apply(null,this.xx);};r.title="browser";r.t4b=!0;r.n5b={};r.f4b=[];r.version="";r.h9b={};r.on=g;r.addListener=g;r.once=g;r.tM=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.l1a=g;r.xOb=g;r.listeners=function(){return [];};r.p4b=function(){throw Error("process.binding is not supported");};r.P4b=function(){return "/";};r.D4b=function(){throw Error("process.chdir is not supported");};r.$8b=function(){return 0;};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Peb=b.waa=b.Reb=b.UGa=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(5));l=r.__importDefault(a(37)).default.UF;m=r.__importStar(a(9)).dr;d=r.__importDefault(a(423));g=a(405);h=a(220);k=a(15);n=a(30);q=a(6);p=a(95);t=a(249);a=(function(){function x(y,A,z,B,D,E,F,C,G,J,K){var H;H=this;this.H=y;this.$f=A;this.I=z;this.Zb=B;this.T=D;this.sN=E;this.Ib=F;this.ub=C;this.Pf=G;this.d1=J;this.rE=K;this.u0=[];this.kea=[];this.kKa=[];this.HIa=void 0;[0,1].forEach(function(L){H.Zb(L) && (H.u0[L]=new w(H.H,L),H.kea[L]=new u(L),H.kKa[L]=new v(L));});this.t7a=new p.UD(this.H);this.Wz=p.dF(this.I,this.t7a);this.vfa=p.cF();this.aE=void 0;}Object.defineProperties(x.prototype,{tf:{get:function(){return this.u0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Gz:{get:function(){return this.kea;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Dv:{get:function(){return this.kKa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{zx:{get:function(){return this.HIa;},set:function(y){this.HIa=y;},enumerable:!1,configurable:!0}});x.prototype.Wp=function(y,A){this.t7a.Wp(y,A);};x.prototype.Hna=function(y){var A,z,B,D,E,F;A=this.I;z=y.mediaType;B=f.default.Sn()[z];D=A.UXb?0 === z?A.ER:A.CX:1 === z?A.ER:A.CX;E=this.T.getState();F=this.T.Ce();A=y.Oa.xb;z=this.d1.wYa(A,z);B={Xu:B,X:z.Zc,wc:F,tc:z.JM || F,Fl:z.eS || F,Eg:z.Eg,jl:z.jl,JSa:z.Y.length,Y:[]};D={state:E,$B:this.T.$B(),Od:y.io,buffer:B,lia:D,jYa:! !this.sN.CU,IK:! !this.sN.qr,Xo:this.Ib && this.Ib.Xo,k7:y.hCb,playbackRate:this.T.zp()};void 0 === D.Od && (D.Od=y.aja(B.tc));D.TR=A.TR;B.Y=z.Y;c.ya(B.X)?y.seeking && B.wc != B.X && (B.wc=B.X):(B.X=0,B.tc=0);this.$f.hpb(D);this.$f.wlb(D);return D;};x.prototype.tga=function(y,A,z){var C,G;y=this.u0[y];for(var B=y.maxBitrate,D="manifest",E=0,F=A.length - 1;0 <= F;F--){C=A[F];G=C.bitrate;if(l(C)){E=Math.max(E,G);break;}else this.I.TW && !C.Hs?D="bc":C.Xs?C.yy && (D="hf"):D="av";}if(void 0 === B || E !== B)(y.maxBitrate=E,this.ub.GKb(B,E,D,z));};x.prototype.fCb=function(y){return this.Ska(y).ng;};x.prototype.Ska=function(y){var A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P;A=this.I;z=y.mediaType;B=1 == z;D=0;E=this.u0[z];F=this.kea[z];if(!E.jg)return {ng:void 0};C=this.Hna(y);G=y.Gf;J=G.$s;K=y.k5.O;H=y.track.Sd;if(!K.Ol.wX(K.$,H))return (y.$j("location selector did not find any urls"),{ng:void 0});L=t.T6(C.state);R=B?this.Wz:this.vfa;try{I=R.Bm(H,L);}catch(S){this.H.error("StreamFilters: filterStreams: " + S);I=[H[0]];}0 === I.length && (this.H.error("StreamFilters: empty list"),I=[H[0]]);if(this.rE.Sq && (y.BB.length !== I.length || 0 < n.js(y.BB,I).length || 0 < n.js(I,y.BB).length)){try{this.aE && this.Mxb();}catch(S){this.ub.Mm("Hindsight: Error when handling maxbitrate chagned: " + S);}y.BB=I;}L=J?J.ng:E.qja;try{if(J && (D=J.bitrate,J && !J.track.equals(G.track))){Q=g.dja(I,D) || 0;N=I[Q];if(J.bitrate !== N.bitrate || 1 === z)C.state=k.ka.$g;J=N;L=H.indexOf(N);}}catch(S){this.H.error("StreamFilters: track change: " + S);}if(!B && (D=A.PN,!(D && 0 < D.length) && L && H[L] && J && J.location === H[L].location))return {ng:L};try{M=this.$f.pL(z);P=y.Hz.hsa(C,I,void 0,M,E.jg.config.Kv,K.op);if(!P)return (y.$j("stream selector did not find a stream"),{ng:void 0});}catch(S){this.H.error("StreamFilters: stream selector: " + S);P={je:0};}P.je=H.indexOf(I[P.je]);this.sN.qr && this.sN.qr.Alb(y.mediaType,P,H);B && this.tga(z,I,y.tc);C=P.je;J=H[C];I=J.bitrate;C != L && (B && A.KK && this.Pf.zIa(y,I),B || this.$f.tN(I));c.ya(E.qja) || (E.qja=C);y.Be || (P.Be?(q.assert(void 0 !== P.e1),y.Q7(P.e1),F.ms=P.e1):(y.gC=P.gC,y.SG=P.SG,y.progress=P.progress));this.Vw();if(B)if(P.Zx)K.uN(P.Zx);else if(!K.T3() && !A.y4a)for(y=0;y < H.length;++y){if((A=H[y],A.Zs && !K.nk(z,A.Na))){K.uN([A.Na]);break;}}P.eNa && this.ub.NKb(P.eNa);return {Na:J.Na,ng:C,pt:P.pt};};x.prototype.Vw=function(){var y,A,z,B,D,E;z=this.tf[0];B=this.tf[1];D=this.Gz[1];E=this.Gz[0];z=this.d1.Ec.cpb(null !== (y=null === B || void 0 === B?void 0:B.yt) && void 0 !== y?y:0,null !== (A=null === z || void 0 === z?void 0:z.yt) && void 0 !== A?A:0,this.zx,this.sN.KM);z.ms && (this.sN.bm && D?D.ms=z.ms:E && (E.ms=z.ms));return z.Be;};x.prototype.Yia=function(y,A){var z,B,D,E;z=this;if(this.aE){B=this.aE;D=this.T.Ce();E=[];A && (D=A.Ea);h.ff.forEach(function(F){var C,G;C=z.d1.Ec.Ed(F);if(C){G=z.Hna(C);G.mediaType=F;G.wc=D;y === k.ka.Af && (G.V1a=C.Oa.$ea(D));E[F]=G;}});B.gSa || B.Fs(E,y) || this.Cra();return B;}};x.prototype.Mxb=function(){var y,A;y=this.aE;A=this.I;y && (this.Yia(void 0),y && !y.TJ && this.$f.Gqa.Mia(y));this.CPa(A);};x.prototype.Cra=function(){this.aE=void 0;};x.prototype.tXb=function(y){var A,z,B;A=y.oldValue;y=y.newValue;z=this.aE;B=this.I;y === k.ka.Hc && A !== k.ka.Hc?(z && this.H.warn("override an existing play segment!"),this.CPa(B,A,!0)):y !== k.ka.Hc && A === k.ka.Hc && z && (this.Yia(y),z && !z.TJ && this.$f.Gqa.Mia(z),this.Cra());};x.prototype.CPa=function(y,A,z){var B,D,E;B=this;D=[];h.ff.forEach(function(F){var C,G,J;C=B.d1.Ec.Ed(F);if(C){G=B.Hna(C);if(z){J=B.tf[F];J.Rsa?(G.Sk=J.Rsa,J.Rsa=void 0):G.Sk=J.Sk;}else G.Sk=f.default.time.ba();G.Sd=C.BB;G.mediaType=F;D[F]=G;}});E=f.default.Sn();E={b4b:E[0],r7a:E[1],P6b:y.ZL,Xy:y.Xy};this.aE=new d.default(D,f.default.time.ba(),A,this.rE.PS,y.Vv,E,y.b4);};return x;})();b.UGa=a;u=(function(){function x(y){this.mediaType=y;this.VR=this.jv=this.Dy=this.ms=this.Ey=void 0;}x.prototype.yXb=function(y,A,z){this.Ey=y?y:this.Ey;this.ms=this.ms;this.Dy=A?A:this.Dy;this.jv=z?z:this.jv;};return x;})();b.Reb=u;v=(function(){return function(x){this.mediaType=x;this.Wma=this.ana=this.Yma=this.$F=void 0;};})();b.waa=v;w=(function(){return function(x,y){this.mediaType=y;this.H=m(f.default,x,"[" + y + "]");this.$j=this.H.error.bind(this.H);this.Hb=this.H.warn.bind(this.H);this.rm=this.H.trace.bind(this.H);this.eg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.qja=this.Sk=this.Gn=this.jg=void 0;this.IV=this.yt=0;this.gO=!1;this.maxBitrate=void 0;};})();b.Peb=w;},function(r,b,a){var p,t,u,v,w,x,y,A,z,B,D,E,F;function c(){}function f(C,G){var J,K,H,L;J=p.Oc(G)?G:c;this.I=C || ({});(function(R,I,Q){this.rj[R].re[I]=Q;}).bind(this);(function(R,I){return this.rj[R].re?this.rj[R].re[I]:void 0;}).bind(this);this.on=this.addEventListener=E.addEventListener;this.removeEventListener=E.removeEventListener;this.emit=this.Ua=C.m5b?E.Ua:c;K=v.Csb(C);H=this.I.dailyDiskCacheWriteLimit;if(K){this.zu=K;L=k(C.c7b || F,v.cAb());this.ox=function(R){return p.fa(L) || null === L || void 0 === this.rj[R]?!1:!p.fa(L[R]);};L?(this.rj={},G=t.Promise.all(Object.keys(L).map(function(R){return new t.Promise(function(I,Q){var N;N=L[R];N.h7a=C.h7a;new w(R,K,N,function(M,P){M?Q(M):I(P);},H);});})).then((function(R){R.map((function(I){var Q;Q=I.Gu;this.rj[Q]=I;L[Q].Dyb=L[Q].Xu - I.nx;this.rj[Q].on(w.ze.REPLACE,(function(N){N=N || ({});N.partition=Q;N.type="save";this.Ua("mediacache",N);}).bind(this));this.rj[Q].on(w.ze.oIa,(function(N){N=N || ({});N.partition=Q;N.type="save";this.Ua("mediacache",N);}).bind(this));this.rj[Q].on(w.ze.xf,(function(N){N=N || ({});N.partition=Q;N.type=w.ze.xf;this.Ua("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(R){g(K,t.storage.yP,Object.keys(L));return R;}).bind(this)).then((function(R){Object.keys(R.rj).map(function(I){R.rj[I].gka().map(function(Q){R.delete(I,Q);});});R.Im=!0;J(null,R);}).bind(this)).catch((function(R){u.error("Failed to initialize media cache ",R);this.RF=B.kxa;J(this.RF,this);}).bind(this)),D.Pv(G)):(this.RF=B.Fbb,J(this.RF,this));}else (this.RF=B.kxa,J(this.RF,this));}function l(C,G,J,K,H,L){var R;R=L?"mediacache-error":"mediacache";G={partition:J,type:G,resource:K,time:t.time.now()};L && (G.error=L);H && (p.ya(H.duration) && (G.duration=H.duration),p.ya(H.Fx) && (G.bytesRead=H.Fx));try{C.Ua(R,G);}catch(I){u.warn("caught exception while emitting basic event",I);}}function m(C,G,J,K,H){var L;L=H?"mediacache-error":"mediacache";G={partition:J,type:G,resources:K,time:t.time.now()};H && (G.error=H);try{C.Ua(L,G);}catch(R){u.warn("caught exception while emitting basic event",R);}}function d(C){return !x.LL(C) && !A.yFb(C);}function g(C,G,J){C.query(G,"",function(K,H){K || Object.keys(H).filter(function(L){return 0 > J.indexOf(L.slice(0,L.indexOf(".")));}).map(function(L){C.remove(G,L,c);});});}function h(C,G,J){var H,L;function K(R){C.delete(H,function(I){I?J(I):(delete C.re[L],I=Object.keys(R.resourceIndex),I=t.Promise.all(I.map(function(Q){return new t.Promise(function(N,M){C.delete(Q,function(P){P?M(P):N(Q);});});})).then(function(){J();},function(Q){J(Q);}),D.Pv(I));});}if(x.LL(G))(H=G,L=x.E2(G));else (H=x.jha(G),L=G);(G=C.re[L])?K(G):C.read(H,function(R,I){R?J(R):K(I);});}function k(C,G){var J,K,H;J={};K=C.partitions.reduce(function(L,R){return L + R.capacity;},0);H=G / K;C.partitions.map(function(L){var R;R=L.key;J[R]={};J[R].Xu=Math.floor(H * L.capacity);J[R].Ftb=L.dailyWriteFactor || 1;J[R].J7b=L.owner;J[R].Ywb=L.evictionPolicy;});return J;}function n(C,G,J){if(J)return A.bvb(C,G).reduce(function(K,H){Object.keys(H).map(function(L){K[L]=H[L];});return K;},{});J={};J[C]=G;return J;}function q(C,G,J,K,H,L,R,I,Q,N,M){return function(P,S){P?p.isArray(P)?(S=P.map(function(ea){return ea.error;}),S.some(function(ea){return ea.code === B.VH.code;}) && !S.some(function(ea){return ea.code === B.a_.code;})?M(N,P,function(){Q.save(G,J,K,H,L,R);}):(N.delete(I),delete N.re[J],L({error:P[0].error,qt:P[0].qt,type:P[0].type,iMa:P}))):L({error:P,qt:G,type:"save"}):(P=S.items.filter(function(ea){return 0 <= Object.keys(C).indexOf(ea.key);}).reduce(function(ea,qa){return ea + qa.X4;},0),N.re[J].Y3a(P),P={Dyb:S.Fm,R4b:S.xK,ek:0,items:S},0 < S.ek && (P.ek=S.ek),0 < S.duration && (P.duration=S.duration),L(null,P));};}p=a(10);t=a(125);u=new t.Console("MEDIACACHE","media|asejs");v=a(919);w=a(920);x=a(429);y=a(126);A=a(927);z=a(928);B=a(253);D=a(254);E=a(430).EventEmitter;F={N7b:[]};f.prototype.SV=function(C,G,J){var K;K=p.Oc(J)?J:c;this.ox(C)?this.rj[C].query(G,function(H,L){H?(u.error("Failed to query resources",H),K([])):K(L.filter(d));}):K([]);};f.prototype.read=function(C,G,J){var K,H,L,R;K=p.Oc(J)?J:c;if(this.ox(C)){H=this.rj[C];L=H.re[G];if(!x.LL(G) && this.I.aJb){R=(function(I){H.i7(Object.keys(I),(function(Q,N,M){Q?K(B.EI.iq("Failed to read " + G,Q)):(l(this,"read",C,G,M),K(null,A.QEb(N)));}).bind(this),I);}).bind(this);L?R(L.resourceIndex):this.vPb(C,G,function(I,Q){I?K(B.EI.iq("Failed to read " + G,I)):R(Q.resourceIndex);});}else H.read(G,(function(I,Q,N){I?K(B.EI.iq("Failed to read " + G,I)):(L && L.convertToBinaryData && (Q=z.Eqb(Q)),l(this,"read",C,G,N),K(null,Q));}).bind(this));}else K(B.kA);};f.prototype.i7=function(C,G,J){var K,H;K=p.Oc(J)?J:c;if(this.ox(C)){H={};G=t.Promise.all(G.map((function(L){return new t.Promise((function(R,I){this.read(C,L,function(Q,N){Q?(N={},N[L]=Q,I(N)):(H[L]=N,R());});}).bind(this));}).bind(this))).then(function(){K(null,H);},function(L){K(L);});D.Pv(G);}else K(B.kA);};f.prototype.e3a=function(C,G,J){var K;K=p.Oc(J)?J:c;this.ox(C)?"[object Object]" !== Object.prototype.toString.call(G)?K(B.$Z.iq("items must be a map of keys to objects")):(J=new t.Promise((function(H){var L,R;L=this.rj[C].gka();R=Object.keys(G);(L=L.filter(function(I){return -1 === R.indexOf(I);})) && 0 < L.length?this.pQa(C,L,function(){H();}):H();}).bind(this)).then((function(){return t.Promise.all(Object.keys(G).map((function(H){return new t.Promise((function(L,R){this.save(C,H,G[H].Vp,G[H].yd,function(I,Q){I?(u.error("Received an error saving",H,I),R(I)):L(Q);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(H){var L,R,I;try{L=Number.MAX_VALUE;R=Number.MAX_VALUE;I=H.reduce(function(Q,N){N.Fm && N.Fm < L && (L=N.Fm);N.xK && N.xK < R && (R=N.xK);L < Number.MAX_VALUE && (Q.freeSize=L);R < Number.MAX_VALUE && (Q.dailyBytesRemaining=R);p.ya(N.ek) && (Q.bytesWritten+=N.ek);p.ya(N.duration) && (Q.duration+=N.duration);return Q;},{partition:C,type:"saveMultiple",keys:Object.keys(G),time:t.time.now(),bytesWritten:0,duration:0});this.Ua("mediacache",I);K(null,I);}catch(Q){K(err);}}).bind(this),(function(H){p.isArray(H.iMa)?H.iMa.forEach((function(L){this.Ua("mediacache-error",{partition:C,type:"saveMultiple",error:L.error,resources:L.resources});}).bind(this)):this.Ua("mediacache-error",{partition:C,type:"saveMultiple",error:H});K(H);}).bind(this)),D.Pv(J)):(p.Oc(J)?J:c)(B.kA);};f.prototype.save=function(C,G,J,K,H,L){var R,I,Q,N,M,P,S,ea,qa;R=p.Oc(H)?H:c;if(this.ox(C)){I=this.rj[C];Q=x.jha(G);H=I.gka();H=H.filter(function(wa){return wa !== G;});if(p.fa(K) || p.tb(K) || !p.ya(K.lifespan))R(B.ecb);else {N=n(G,J,this.I.aJb);M=I.re[G] || ({});P=M.resourceIndex;P && Object.keys(P).map(function(wa){p.fa(N[wa]) && I.delete(wa);});K.convertToBinaryData && (J=z.Fqb(N),N=n(G,J,!1));P=t.time.now();S={};S.partition=C;S.resourceIndex=Object.keys(N).reduce(function(wa,ua){wa[ua]=y.ala(N[ua]);return wa;},{});S.creationTime=M.creationTime || P;S.lastRefresh=P;S.lifespan=K.lifespan;S.lastMetadataUpdate=P;S.size=M.size;S.convertToBinaryData=K.convertToBinaryData;ea=(function(wa,ua,X){wa.vub((function(sa,O){sa && u.error("Evicting","Failed to delete some orphaned records",sa);O.ara?X():(sa=wa.pAb())?this.delete(wa.Gu,sa,(function(T){T?(L || (p.isArray(ua)?ua.forEach((function(ma){m(this,"save",wa.mBb,ma.resources,ma.error);}).bind(this)):l(this,"save",wa.Gu,G,void 0,ua)),R(ua)):X();}).bind(this)):R(B.VH);}).bind(this));}).bind(this);qa=(function(){var wa,ua,X;wa=this.rj;ua=0;X=t.time.now();if(!p.fa(wa))for(var sa in wa){ua+=wa[sa].Dzb(X);}return ua;}).bind(this);this.pQa(C,H,(function(){I.replace(Q,S,(function(wa,ua){ua?(I.re[G]=x.Eja(S),I.HQb(N,q(N,C,G,J,K,R,L,Q,this,I,ea),L,qa)):wa.code === B.VH.code?ea(I,wa,(function(){this.save(C,G,J,K,R,L);}).bind(this)):R(wa);}).bind(this),L,qa);}).bind(this));}}else R(B.kA);};f.prototype.delete=function(C,G,J){var K;K=p.Oc(J)?J:c;this.ox(C)?h(this.rj[C],G,(function(H){l(this,"delete",C,G,void 0,H);K(H);}).bind(this)):K(B.kA);};f.prototype.pQa=function(C,G,J){var K,H;K=p.Oc(J)?J:c;if(this.ox(C)){H=this.rj[C];J=t.Promise.all(G.map((function(L){return new t.Promise((function(R){h(H,L,(function(I){R({W:p.fa(I),error:I,Vp:L});}).bind(this));}).bind(this));}).bind(this))).then((function(L){var M,P;for(var R=[],I=[],Q=[],N=0;N < L.length;N++){M=L[N];M.W?R.push(M.Vp):M.error && I.push(M);}0 < R.length && m(this,"delete",C,R);if(0 < I.length){Q=I.map(function(S){return S.Vp;});L=D.oVa(I);P=L[0];L.forEach((function(S){u.error("Failed to delete resources ",S.error,S.resources);m(this,"delete",C,S.resources,S.error);}).bind(this));}L={};L.c8b=R;0 < Q.length && (L.d8b=Q);P?K(P,L):K(void 0,L);}).bind(this),(function(L){m(this,"delete",C,G,L);K(L);}).bind(this));D.Pv(J);}else K(B.kA);};f.prototype.clear=function(C,G){var J;J=p.Oc(G)?G:c;this.ox(C)?this.rj[C].clear(function(K){J(K.filter(d));}):J(B.kA);};f.prototype.vPb=function(C,G,J){var K,H;K=p.Oc(J)?J:c;if(this.ox(C)){H=this.rj[C];H.read(x.jha(G),function(L,R){var I;if(L)K(B.fcb);else {I=x.Eja(R) || ({});H.xUa(Object.keys(I.Hra),function(Q){I.size=Q;(Q=H.re[G]) && (I.lastMetadataUpdate && Q.lastMetadataUpdate && Q.lastMetadataUpdate <= I.lastMetadataUpdate?H.re[G]=I:Q.lastMetadataUpdate && (Q.lastMetadataUpdate > I.lastMetadataUpdate || p.fa(I.lastMetadataUpdate)) && (I=Q));K(null,I);});}});}else K(B.kA);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var m,d;function c(g,h,k,n,q,p){return new l(g,h,k,n,q,p);}function f(g){return g && 0 <= g.indexOf(".__metadata__");}function l(g,h,k,n,q,p){this.partition=g;this.lifespan=k;this.resourceIndex=h;this.size=n;this.creationTime=q;this.lastRefresh=p;return this.b6a();}m=a(10);d=a(125);a(126);new d.Console("MEDIACACHE","media|asejs");l.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.b6a();};l.prototype.Y3a=function(g){this.size=g;};l.prototype.YOa=function(){var g;g=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - g) / 1E3;};l.prototype.b6a=function(){this.lastMetadataUpdate=d.time.now();return this;};l.prototype.constructor=l;r.exports={create:c,Eja:function(g){var h;h=g;"string" === typeof g && (h=JSON.parse(g));if(h && h.partition && !m.fa(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (g=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (g.lastMetadataUpdate=h.lastMetadataUpdate),!m.fa(h.size) && 0 <= h.size && g.Y3a(h.size),g.YOa(),g.convertToBinaryData=h.convertToBinaryData,g);},jha:function(g){return g + ".__metadata__";},E2:function(g){return f(g)?g.slice(0,g.length - 13):g;},LL:f};},function(r,b,a){r.exports={EventEmitter:a(923),xh:a(924)};},function(r){r.exports="4.1.1776";},function(r,b,a){var q,p,t,u;function c(v){return v.bj.Aa(v.vd).V;}function f(v,w){return Math.exp(-(Math.log(2) / v) * w);}function l(v,w){v=Math.log(2) * w / v;return (1 - Math.exp(-v)) / v;}function m(v,w){var x,y,A,z,B;x=w.qqa;y=w.pqa;A=w.LV;if(0 === w.oh.length)return {M0:!1};z=w.oh[0];w=z.He;B=z.TB;z=z.duration;if(!B || 1 === A)return {M0:!1};p.assert(z,"duration should be defined when immediate probability is included in probabilities array");p.assert(0 < A,"presenting segment seamless probability cannot be zero");y=y.V - z;if(x.V < y)return {M0:!1};y=x.V - y;x=A + y / z * (1 - A);z-=y;B=B * (1 - x) / (1 - A);v=w * x / A * f(v,z) + B * l(v,z);p.assert(1 >= v);return {M0:!0,Llb:v};}function d(v){var w,x,y,A,z,B;w=v.duration;x=v.c5a;y=v.Cz;A=v.bj;z=v.vd;v=v.WK;p.assert(x);p.assert(w);y=1 - y;z=A.Aa(z);if(v.Xb)(B=x.Aa(v).Aa(z),A=w.V - v.V,B.uv(t.S.ab)?v=Math.max(0,(x.V - v.V) / A):(x=w.Aa(B).V,v=0 < x?z.V / x:0,y*=x / A));else {B=x.Aa(z);B.uv(t.S.ab)?v=x.V / w.V:(x=w.Aa(B).V,v=0 < x?z.V / x:0,y*=x / w.V);}p.assert(0 <= v);p.assert(1 >= v);p.assert(0 <= y);p.assert(1 >= y);return 1 - v * y;}function g(v,w){v=Math.log(2) / v.W1a;return h(w) * Math.exp(-v * c(w));}function h(v){var w;return (null !== (w=v.IF) && void 0 !== w?w:1) * v.oh.reduce(function(x,y){var A;A=y.TB;return x * (y.He + (void 0 === A?0:A));},1);}function k(v){var w,x,y,A;if(0 === v.oh.length)return 0;x=0;if(1 > v.LV){x=v.qqa.V;y=v.pqa.V;A=null !== (w=v.oh[0].duration) && void 0 !== w?w:0;x=Math.max(0,Math.min(A,x - (y - A)));}return v.oh.reduce(function(z,B){B=B.duration;return z + (void 0 === B?0:B);},0) - x;}function n(v){return v.oh.filter(function(w){return !w.TB;}).reduce(function(w,x){return w * x.He;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.ega=b.$Na=b.xob=b.ZNa=b.Bob=void 0;q=a(15);p=a(6);t=a(9);u=a(20);b.Bob=c;b.ZNa=function(v,w,x){var y,A,z,B,D,E,F,C,G,J;if(!v.p2 || q.Zq(w.jf))return g(v,w);B=v.W1a;v=c(w);D=k(w);E=n(w);F=m(B,w);C=F.M0;F=F.Llb;F=void 0 === F?1:F;G=1 > w.Cz?d(w):1;J=(null !== (y=w.IF) && void 0 !== y?y:1) * E * f(B,v - D) * F * G * w.oh.filter(function(K,H){return K.TB && (0 < H || !C);}).reduce(function(K,H){var L,R;L=H.TB;R=H.duration;R=void 0 === R?0:R;L=void 0 === L?0:L;H=H.He * f(B,R) + L * l(B,R);return K * H;},1);u.ia && (null === x || void 0 === x?void 0:x.log("{" + w.groupId + "} [" + w.mediaType + "] calculateStreamablePriority: sp: " + (w.Cz + ", pssp: ") + (w.LV + ", streamingDuration: ") + ((null === (A=w.c5a) || void 0 === A?void 0:A.V) + ", duration: ") + ((null === (z=w.duration) || void 0 === z?void 0:z.V) + ", seamlessProbability: ") + (E + ", distance: ") + (v + ", immediateDistance: " + D + ", risk:") + (f(B,v - D) + ", adjustedFirstTerm: ") + (F + ", streamingAdjustment: " + G + ", probabilities: ") + (JSON.stringify(w.oh) + " => " + J)));return J;};b.xob=g;b.$Na=h;b.ega=n;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pba=void 0;c=a(2);f=a(16);l=a(9);m=a(6);d=a(15);r=(function(){function g(){this.CM=[];this.NA=new l.sq(!1);this.MA=new l.sq(l.S.mb(-Infinity));this.events=new f.EventEmitter();}Object.defineProperties(g.prototype,{ew:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{playbackRate:{get:function(){return this.zp();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$y:{get:function(){return this.NA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{oU:{get:function(){return this.MA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jz:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vn:{get:function(){return this.zL;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vd:{get:function(){return this.iL();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ki:{get:function(){var h,k;h=this.vd;k=this.kr(h);m.assert(k,"Could not find current branch for " + h.V);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{HEb:{get:function(){return this.Cb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{YF:{get:function(){return this.zL?this.Cb[this.Cb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mh:{get:function(){var h,k;h=this.vd;k=this.c3(h);m.assert(k,"Could not find presenting branch for " + h.V);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zL:{get:function(){return 0 < this.Cb.length;},enumerable:!1,configurable:!0}});g.prototype.uVa=function(h){return -1 !== this.Cb.indexOf(h);};g.prototype.W0=function(){return void 0 !== this.pa?!1:!0;};g.prototype.Ab=function(){};g.prototype.MT=function(h){var k,n,q;k=this.Cb.filter(function(p){return p.P.id === h.va;});if(0 !== k.length){n=this.iL();q=new l.S(Infinity,1);k.forEach(function(p){p=p.IM.add(h.offset);n.AQa(p).lessThan(n.AQa(q)) && (q=p);});return q;}};g.prototype.kr=function(h){var k,n,q;k=this.c3(h);if(k){n=k.P;q=n.id;h=h.Aa(n.Vg.add(k.yj));return {va:q,offset:h};}};g.prototype.reset=function(){};g.prototype.nW=function(){};g.prototype.pause=function(h){void 0 === h && (h=d.ff);this.CM=null === h || void 0 === h?void 0:h.reduce(function(k,n){-1 === k.indexOf(n) && k.push(n);return k;},this.CM);};g.prototype.resume=function(h){var k;k=this;void 0 === h && (h=d.ff);h.forEach(function(n){n=k.CM.indexOf(n);-1 !== n && k.CM.splice(n,1);});};g.prototype.Nta=function(h){var k;m.assert(this.pa);m.assert(h !== this);this.nH();k=h.W0(this.pa,this);k && (h.pause(this.CM),h.Eia.apply(h,c.__spread(this.Cb)),this.$ha(this.pa));return k;};g.prototype.iL=function(){return this.UTa();};g.prototype.UTa=function(){var h,k;m.assert(this.zL,"Attempted to get initial time before any branches were queued");k=c.__read(this.Cb,1)[0];m.assert(k);return null !== (h=k.Ui) && void 0 !== h?h:k.Fy;};g.prototype.zp=function(){return 1;};g.prototype.c3=function(h){var k;if(this.zL){k=this.UTa();return h.lessThan(k)?this.Cb[0]:l.qSa(this.Cb,h);}};g.prototype.Pzb=function(){var h,k,p,t,u,v,w,x;k={};try{for(var n=c.__values(this.Cb),q=n.next();!q.done;q=n.next()){p=q.value;t=void 0;u=void 0;v=p.wF();for(t in v){w=t;x=v[w];x && (k[w]=(null !== (u=k[w]) && void 0 !== u?u:0) + x);}if(!p.Zo)break;}}catch(A){var y;y={error:A};}finally{try{q && !q.done && (h=n.return) && h.call(n);}finally{if(y)throw y.error;}}return k;};return g;})();b.pba=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YSa=b.yUa=b.Qja=b.$Fa=void 0;c=a(2);f=a(20);l=a(53);r=(function(){function m(d){this.Ga=d;}Object.defineProperties(m.prototype,{Ji:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sC:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});m.prototype.Rn=function(d){var g,h,q;d=d.ii;if(d === l.Ud.np || d === l.Ud.hn)if(d=this.Ga.Oja()){h={};try{for(var k=c.__values(d.ENb),n=k.next();!n.done;n=k.next()){q=n.value;h[q.mediaType]=this.lIb(q);}}catch(t){var p;p={error:t};}finally{try{n && !n.done && (g=k.return) && g.call(k);}finally{if(p)throw p.error;}}return {branchQueue:b.YSa(d.rPb),playerIterator:h,driftStats:this.Ga.Lua};}};m.prototype.lIb=function(d){return null === d || void 0 === d?void 0:d.VTa();};return m;})();b.$Fa=r;b.Qja=function(m){var d,g;if(m){d=m.P;g={};m.ty().forEach(function(h){g[h.mediaType]=b.yUa(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.Kn,RM:g};}return m;};b.yUa=function(m){var d;if(m && m.Oa)return c.__assign(c.__assign({},m.Oa.Gka()),{unsentRequests:m.Oa.Gr,lastFragmentContentEndPts:null === (d=m.qf) || void 0 === d?void 0:d.vc});};b.YSa=function(m){return m.map(function(d){return b.Qja(d);});};},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.xIa);}function c(d){return (a(d)?d:Object.defineProperties(d,{xIa:{value:{},configurable:!1,enumerable:!1}})).xIa;}Object.defineProperties(b,{__esModule:{value:!0}});b.yba=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.id=m=(m + 1) % l;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,h){c(g)[this.id]=h;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.yba=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uP=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Nea=function(c,f){this[c]+=Math.max(f || 0,0);};return a;})();b.uP=r;0;1;},function(r,b,a){var f,l,m,d;function c(){return f.__awaiter(this,void 0,void 0,function(){var g;return f.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return f.__importStar(a(255));})];case 1:return (g=h.$d().DF,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.ET=void 0;f=a(2);l=a(975);m=f.__importDefault(a(5));b.ET=function(g){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new l.wFa(function(){return c();},g,h));return d;};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.R7a=void 0;c=a(7);f=a(18);b.R7a=function(l){var m,d;if(f.My(l)){m=new DOMParser().parseFromString(l,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:l.slice(0,300),fileSize:l.length});}catch(g){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var f;function c(l){var m,d,g,h,k,n,q;d={};d[f.lO]=l.localName;g={};d[f.Wj]=g;h=[];d[f.kO]=h;k=l.attributes;n=k.length;for(m=0;m < n;m++){q=k[m];g[q.localName]=q.value;}l=l.childNodes;n=l.length;g={};for(m=0;m < n;m++){switch((k=l[m],k.nodeType)){case b.V7a:k=c(k);q=k[f.lO];k[f.k9]=d;h.push(k);d[q]?g[q][f.$C]=k:d[q]=k;g[q]=k;break;case b.W7a:case b.T7a:(k=k.text || k.nodeValue,h.push(k),d[f.Jr] || (d[f.Jr]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.U7a=b.T7a=b.W7a=b.kZb=b.V7a=b.lZb=b.S7a=void 0;f=a(152);b.S7a=function(l){return c(l.nodeType == b.U7a?l.documentElement:l);};b.lZb=c;b.V7a=1;b.kZb=2;b.W7a=3;b.T7a=4;b.U7a=9;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.K9a=b.Awa=void 0;c=a(12);f=a(24);l=a(18);m=a(81);b.Awa=function(d,g,h,k,n,q,p,t,u,v){var w,x;w=this;x={Type:g,Bitrate:k,DownloadableId:h};f.Tb(w,{track:d,type:g,Dd:h,bitrate:k,wb:n,Kg:t,size:q,ay:p,header:null,lTb:function(y,A,z,B){if(l.Kc(y) || l.Kc(A))(w.width=y,w.height=A,l.ya(z) && l.ya(B) && (w.Vea=z / B * y),x.Resolution=(w.width || "") + ":" + (w.height || ""));},ySb:function(y,A,z,B,D,E){l.Kc(y) && l.Kc(A) && l.Kc(z) && l.Kc(B) && (w.tha=y,w.Q1=A,w.P1=z,w.O1=B);l.Kc(D) && l.Kc(E) && (w.K0a=D,w.L0a=E);},framerate:u,Jy:v,mh:x,toJSON:function(){return x;}});};b.K9a=function(d,g,h,k,n){if(d == c.dZ || d === m.Wh.audio)return g;if(d == c.tI || d === m.Wh.video)return h;if(d == m.Wh.y8)return k;if(d == m.Wh.Sta)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Baa="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cxa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,f,l){if(null != l){if(0 < l(c,f))throw a.GPa(c,f);}else if(c.Vk && 0 < c.Vk(f))throw a.GPa(c,f);this.start=c;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Cba=void 0;a.GPa=function(c,f){return new RangeError("end [" + f + "] must be >= start [" + c + "]");};b.Cba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fxa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cxa="CryptoKeysSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EDa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tBa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CCa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yf=void 0;r=b.yf || (b.yf={});r.Cnb="bitraterestriction";r.eOa="cdnsel";r.zga="chgstrm";r.debug="debug";r.gvb="dlreport";r.Cia="endplay";r.hma="intrplay";r.L5="midplay";r.T0a="playbackaborted";r.DQb="renderstrmswitch";r.vra="repos";r.Lra="resumeplay";r.qSb="serversel";r.e8="startplay";r.wUb="statechanged";r.transition="transition";r.qmb="asereport";r.Umb="audioswitch";r.Dnb="blockedautoplay";r.config="config";r.hia="dlreq";r.D5b="ftlProbeError";r.dVb="subtitleerror";r.eVb="subtitleqoe";r.WVb="timedtextrebuffer";r.XVb="timedtextswitch";r.eUb="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WDa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ha="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dva="AppLogSinkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mBa="LogblobBuilderFactorySymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F;function c(C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa){var O;O=this;this.j=C;this.Ym=G;this.H5a=J;this.Ij=K;this.eoa=H;this.Sia=L;this.ye=R;this.i2=I;this.Ff=Q;this.config=N;this.qd=M;this.xa=P;this.Ja=S;this.platform=ea;this.Lp=qa;this.zU=wa;this.wk=ua;this.Uq=X;this.jG=sa;this.fX=[];this.AJb=this.z4=this.w2a=0;this.FK=[];this.Pea=!1;this.e8=function(T){var ma,ja,Qa,Fa,Wa,Xa,db,Za;ja={};try{ja={playdelaysdk:n.lk(O.j.dga()),applicationPlaydelay:n.lk(O.j.job()),playdelay:n.lk(O.j.vob()),trackid:O.j.Dk,bookmark:n.lk(O.j.OE || 0),pbnum:O.j.index,endianness:d.GTa()};O.vR(ja);O.config().Bwb && (ja.transitiontime=O.j.am,ja.uiplaystarttime=O.j.ib.N8,ja.playbackrequestedat=O.j.Ul.ea(q.ma),ja.clockgettime=O.getTime(),ja.clockgetpreciseepoch=O.xa.mf.ea(q.ma),ja.clockgetpreciseappepoch=O.Ja.aG.ea(q.ma),ja.absolutestarttime=O.j.Z2(),ja.relativetime=O.j.Hka());O.Y2(ja,"startplay");}catch(kb){O.log.error("error in startplay log fields",kb);}O.j.Bl && (ja.blocked=O.j.Bl);ja.configversion=O.config().version;O.config().endpoint || (ja.configendpoint="error");O.aWa(ja);if(O.config().e9 && O.j.ib.G7a){Qa={};Object.entries(O.j.ib.G7a).reverse().forEach(function(kb){var Ya;Ya=aa(kb);kb=Ya.next().value;Ya=Ya.next().value;Qa[kb.toLowerCase()]=Ya;});ja.vui=Qa;}A.ya(O.j.yNa) && (ja.bookmarkact=n.lk(O.j.yNa));Fa=O.j.cd.at && O.j.cd.ats?O.j.cd.at - O.j.cd.ats:void 0;Fa && (ja.nccpat=Fa);(Fa=O.j.cd.lr && O.j.cd.lc?O.j.cd.lr - O.j.cd.lc:void 0) && (ja.nccplt=Fa);(Fa=O.yvb()) && (ja.downloadables=Fa);pb._cad_global.device && A.Kc(pb._cad_global.device.Kia) && (ja.esnSource=pb._cad_global.device.Kia);n.Tb(ja,O.Lp,{prefix:"pi_"});(Fa=x.Ve && x.Ve.connection && x.Ve.connection.type) && (ja.nettype=Fa);O.j.In && O.j.In.initBitrate && (ja.initvbitrate=O.j.In.initBitrate);O.j.In && O.j.In.selector && (ja.selector=O.j.In.selector);ja.fullDlreports=O.c7a;if(O.j.state.value >= y.Lb.ce)try{Wa=O.j.ys();if(Wa){O.maxBitrate=d.J9(Wa.map(function(kb){return kb.bitrate;}));O.aZa=d.J9(Wa.map(function(kb){return kb.height;}));Xa=0 < Wa.length?z.PYa(Wa,function(kb){return kb.bitrate;}):void 0;ja.maxbitrate=O.maxBitrate;ja.maxresheight=O.aZa;}}catch(kb){O.log.error("Exception computing max bitrate",kb);}try{db=d.HT();db && (ja.pdltime=db);}catch(kb){}try{n.Tb(ja,O.j.cd,{prefix:"sm_"});n.Tb(ja,O.j.L3(),{prefix:"vd_"});}catch(kb){}"undefined" !== typeof nrdp && nrdp.device && (ja.firmware_version=nrdp.device.firmwareVersion);T && O.j.Ft && (ja.pssh=O.j.Ft);O.fWa(O.j,ja);ja.avtp=O.tH.Ns().Bta;(null === (ma=O.j.Ma) || void 0 === ma?0:ma.JA) && O.k4(ja);if(O.j.Uc.value)try{ja.ttTrackFields=O.j.Uc.value.mh;}catch(kb){}if(ma=O.j.Wd && O.j.Wd.value && O.j.Wd.value.streams){Za={};ma.forEach(function(kb){Za[kb.Kg]=void 0;});ja.audioProfiles=Object.keys(Za);}O.Yla(ja);O.j.sa && "boolean" === typeof O.j.sa.Tc.aC && (ja.isSupplemental=O.j.sa.Tc.aC);O.j.sa && (ja.packageId=O.j.sa.Tc.Jp);O.j.sa && O.j.sa.Tc.Mn && (ja.hasChoiceMap=!0);O.config().BSa && (ja.forceL3WidevineCdm=!0);O.wGb(Xa);O.vGb();O.$Va(O.j,ja);O.Tla(O.j,ja);O.PF(O.j,ja);O.UB(O.j,ja,O.Pea);O.Ula(ja);O.Vla(ja);O.Wla(ja);O.dWa(ja);O.ZVa(ja);O.gWa(ja);O.eWa(ja);O.ve(B.yf.e8,T,F.jj | F.yI | F.Sh | F.PP | F.fD | F.gY | F.D$,ja);};this.Lra=function(T,ma,ja){ma={playdelay:n.lk(T),reason:ja,intrplayseq:O.z4 - 1,skipped:ma};"repos" === ja && (ma.prstate=!0 === O.j.paused.value?"paused":"playing");O.PF(O.j,ma);O.ve(B.yf.Lra,!1,F.jj | F.yI | F.Sh,ma);"rebuffer" !== ja && "force_rebuffer" !== ja || O.j.jo.klb(Number(n.lk(T)));};this.zga=function(T,ma,ja,Qa){T={moff:n.my(ja),moffms:n.lk(ja),vbitrate:ma.bitrate,vbitrateold:T.bitrate,vdlid:ma.Dd,vdlidold:T.Dd,vheight:ma.height,vheightold:T.height,vwidth:ma.width,vwidthold:T.width,bw:Qa};O.PF(O.j,T);O.UB(O.j,T);O.ve(B.yf.zga,!1,F.Sh,T);};this.CQb=function(T,ma,ja){T={moff:n.my(ja),moffms:n.lk(ja),vdlidold:T.Dd,vbitrateold:T.bitrate};O.PF(O.j,T);O.UB(O.j,T);O.OF(T,ma,O.j.Sg.value && O.j.Sg.value.stream);O.ve(B.yf.DQb,!1,F.Sh,T);};this.yNb=function(){var T,ma;T={waittime:n.lk(O.j.Hka()),abortedevent:"startplay",trackid:O.j.Dk,prstate:O.IT(),paustate:O.j.paused.value};O.vR(T);O.Y2(T,"endplay");O.Uq.RS && (T.eventlist_version=1,T.eventlist=O.jG.AUa(O.j));O.j.In && O.j.In.initBitrate && (T.initvbitrate=O.j.In.initBitrate);try{ma=d.HT();ma && (T.pdltime=ma);n.Tb(T,O.j.cd,{prefix:"sm_"});}catch(ja){}O.Rla(T,!0);O.gWa(T);O.Yla(T);O.bWa(T);O.OF(T,O.j.og.value,O.j.dk.value);O.fWa(O.j,T);O.Tla(O.j,T);O.ve(B.yf.T0a,!1,F.jj | F.Sh | F.fD | F.PP,T);};this.xNb=function(T,ma){T={waittime:n.lk(T),abortedevent:"resumeplay",resumeplayreason:ma};O.vR(T);O.j.In && O.j.In.initBitrate && (T.initvbitrate=O.j.In.initBitrate);O.OF(T,O.j.og.value,O.j.dk.value);O.ve(B.yf.T0a,!1,F.jj | F.Sh,T);};this.uUb=function(T,ma){T={newstate:ma?"Paused":"Playing",oldstate:T?"Paused":"Playing"};O.PF(O.j,T);O.UB(O.j,T);O.OF(T,O.j.Vf.value && O.j.Vf.value.stream,O.j.Sg.value && O.j.Sg.value.stream);O.ve(B.yf.wUb,!1,F.jj | F.Sh,T);};this.hma=function(T,ma,ja){var Qa,Fa;T=n.Tb({vdlid:O.j.og.value.Dd,playingms:T,pausedms:ma,intrplayseq:O.z4++,prstate:O.IT(),paustate:O.j.paused.value},ja);O.Y2(T,"intrplay");ma=O.j.pc[f.Pb.Ra.Fb].value;ja=O.j.pc[f.Pb.Ra.Sb].value;T.cdnid=T.vcdnid=ma && ma.id;T.acdnid=ja && ja.id;T.locid=O.pU && O.pU.mna;T.loclv=O.pU && O.pU.bYa;T.avtp=O.tH.Ns().Bta;T.mediabuffered=null === (Qa=O.j.Cg) || void 0 === Qa?void 0:Qa.e3();if(null === (Fa=O.j.Ma) || void 0 === Fa?0:Fa.JA)(O.Rla(T,!0),O.k4(T),O.cWa(T));try{n.Tb(T,O.j.L3(),{prefix:"vd_"});}catch(Wa){}O.PF(O.j,T);O.UB(O.j,T);O.OF(T,O.j.Vf.value && O.j.Vf.value.stream,O.j.Sg.value && O.j.Sg.value.stream);O.ve(B.yf.hma,!1,F.jj | F.Sh,T);};this.vra=function(T,ma,ja){T={moffold:n.my(T),reposseq:O.w2a++,prstate:O.IT(),paustate:O.j.paused.value};O.UB(O.j,T);O.OF(T,ja && ja.stream,ma && ma.stream);O.ve(B.yf.vra,!1,F.jj | F.Sh,T);};this.Rmb=function(){O.ve(B.yf.Umb,!1,F.jj | F.Sh,{switchdelay:n.lk(O.getTime() - O.EGb),newtrackinfo:O.j.Wd.value.trackId,oldtrackinfo:O.f5.trackId,oldAudioDownloadableId:O.DGb.Dd,newAudioDownloadableId:O.j.dk.value.Dd});};this.G4a=function(T){O.ve(B.yf.eUb,!1,F.jj | F.Sh,{speedold:Math.floor(1E3 * T.oldValue),speed:Math.floor(1E3 * T.newValue)});};this.SN=function(){O.ve(B.yf.WVb,!1,F.jj | F.Sh,{track:O.j.Uc.value.mh});};this.S5a=function(T){var ma,ja;ma=O.j.Uc.value;if(T.newValue || ma && ma.Ky() && !ma.YB()){ja={};ja.newtrack=T.newValue?T.newValue.mh:null === ma || void 0 === ma?void 0:ma.mh;ja.oldtrack=O.KXa?O.KXa.mh:{};ja.switchDelay=n.lk(O.getTime() - O.NGb);O.OF(ja,O.j.Vf.value && O.j.Vf.value.stream,O.j.Sg.value && O.j.Sg.value.stream);O.ve(B.yf.XVb,!1,F.jj | F.Sh,ja);}};this.ep=function(T){O.ve(B.yf.Cnb,!1,F.jj | F.Sh,T.newValue);};this.Tob=function(T,ma){var ja,Qa;ja=ma.serverid;Qa={locid:ma.location,loclv:ma.locationlv,selocaid:ja,selcdnid:ja,selocaname:ma.servername};Qa.mediatype=ma.mediatype;Qa.selreason=ma.selreason || "unknown";Qa.seldetail=ma.seldetail;Qa.cdnbwdata=JSON.stringify([{id:ja}]);T && (Qa.oldlocid=T.mna,Qa.oldloclv=T.bYa,Qa.oldocaid=T.oSb,Qa.oldocaname=T.cH);O.ve(B.yf.eOa,!1,F.gY,Qa);};this.DQa=function(){var T,ma,ja;if(O.j.Tk)try{T=!1;O.c7a || (T=!0,O.FK=O.FK.filter(function(Qa){return !Qa.W;}));if(0 < O.FK.length){ma=O.i2.construct(O.FK,O.j.Ul.ea(q.ma));O.FK=[];ma.erroronly=T;ja={};n.ee(ma,function(Qa,Fa){ja[Qa]=JSON.stringify(Fa);});O.ve(B.yf.gvb,!1,F.Sh,ja);}}catch(Qa){O.log.error("Exception in dlreport.",Qa);}};this.IT=function(){var T;T=O.j.bc.value;return T === y.Eb.Hc?"playing":T === y.Eb.Xh?"paused":T === y.Eb.fu?"ended":"waiting";};this.L5=function(){var T,ma,ja;if(O.j.state.value == y.Lb.ce){ja=O.R0a();O.config().ura && (ja.avtp=O.tH.Ns().Bta,(null === (T=O.j.Ma) || void 0 === T?0:T.JA) && O.k4(ja));ja.mediabuffered=null === (ma=O.j.Cg) || void 0 === ma?void 0:ma.e3();ja.midplayseq=O.AJb++;ja.prstate=O.IT();ja.paustate=O.j.paused.value;O.config().mSb && O.j5a("midplay");O.config().Nv && O.Xla(ja);O.Ula(ja);O.Vla(ja);O.Wla(ja);O.ve(B.yf.L5,!1,F.jj | F.Sh | F.fD | F.PP,ja);}};this.j5a=function(T){var ma,ja;ma={};ma.trigger=T;try{ja=O.j.Bka();ma.subtitleqoescore=O.j.bq.sCb(ja);ma.metrics=JSON.stringify(O.j.bq.Vka(ja));}catch(Qa){O.log.error("error getting subtitle qoe data",Qa);}O.ve(B.yf.eVb,!1,F.jj | F.fD | F.yI,ma,"info");};this.transition=function(T){O.UB(O.j,T);O.ve(B.yf.transition,!1,0,T);};this.iIa=/-?l(\d\d)/i;this.Cia=function(T){var ma,ja,Qa,Fa,Wa,Xa,db,Za;ja=O.R0a();O.Y2(ja,"endplay");O.vR(ja);ja.prstate=O.IT();ja.paustate=O.j.paused.value;ja.muted=O.j.muted.value;O.j.Mz && "downloaded" === O.j.Mz.F3() && (ja.trickplay_ms=O.j.qX.offset,ja.trickplay_res=O.j.qX.H2a);O.config().k7a && (ja.rtinfo=O.j.ZBb());O.config().ura && (null === (ma=O.j.Ma) || void 0 === ma?0:ma.JA) && O.k4(ja);O.aWa(ja);ja.endreason=T?"error":O.j.bc.value === y.Eb.fu?"ended":"stopped";ma=O.Lp;O.mEb(ma);ma && n.Tb(ja,ma,{prefix:"pi_"});ma=O.j.Yk;T && ma && p.Eya(ma.errorCode) && (Qa="info");try{n.Tb(ja,O.j.cd,{prefix:"sm_"});}catch(Sa){}O.j.Qla && (ja.inactivityTime=O.j.Qla);O.Rla(ja,"info" !== Qa && T);O.cWa(ja);if(O.j.Snb){ma=O.j.Snb;Fa=O.config().dK;Wa=O.j.loadTime;Xa={iv:Fa,seg:[]};db=function(Sa,za,Ia){return 0 === za || void 0 === Ia[za - 1]?Sa:Sa - Ia[za - 1];};Za=ma.FR.map(db);db=ma.EX.map(db);for(var kb,Ya=0;Ya < Za.length;Ya++){if(Za[Ya] || db[Ya])kb?(kb.ams.push(Za[Ya]),kb.vms.push(db[Ya])):kb={ams:[ma.FR[Ya]],vms:[ma.EX[Ya]],soffms:ma.startTime + Ya * Fa - Wa};Ya !== Za.length - 1 && Za[Ya] && db[Ya] || !kb || (Xa.seg.push(kb),kb=void 0);}ja.bt=JSON.stringify(Xa);}T && O.bWa(ja);O.j5a("endplay");O.config().Nv && O.Xla(ja);O.Yla(ja);O.$Va(O.j,ja);O.Tla(O.j,ja);O.PF(O.j,ja);O.UB(O.j,ja,O.Pea);O.Ula(ja);O.Vla(ja);O.Wla(ja);O.dWa(ja);O.nEb(ja);O.ZVa(ja);O.pEb(ja);O.oEb(ja);O.sEb(ja);O.eWa(ja);O.ve(B.yf.Cia,T,F.jj | F.yI | F.Sh | F.fD | F.PP | F.D$,ja,Qa);};this.nvb=function(T){O.FK.push(O.i2.Gqb(T.response));};this.hia=function(T){var ma,ja,Qa,Fa,Wa,Xa;T=T.response;ma=T.request;ja=T.request.az;Qa=ma.track;if(Qa){Fa=!T.W && T.oa != p.L.iA;Wa=Qa.type;Xa=T.Pl;if(Fa || O.Ym.rna){ja={dltype:Wa,url1:ma.url,url2:T.url || "",cdnid:ma.pc && ma.pc.id,tresp:n.lk(Xa.Oh - Xa.Tp),brecv:n.ESa(Xa.cha),trecv:n.lk(Xa.no - Xa.Oh),sbr:ja && ja.bitrate};T.nr && (ja.range=T.nr);switch(Wa){case g.Wh.audio:ja.adlid=ma.stream.Dd;break;case g.Wh.video:ja.vdlid=ma.stream.Dd;break;case g.Wh.y8:ja.ttdlid=Qa.Dd;}(ma=D.wka(T.oa)) && (ja.nwerr=ma);T.jk && (ja.httperr=T.jk);O.ve(B.yf.hia,Fa,F.Sh,ja);}}};this.Bl=function(){var T;T={};O.vR(T);O.ve(B.yf.Dnb,!1,F.jj | F.fD,T);};this.Vpb=function(T){var ma,ja;ma=T.response.Pl;T=q.xc(ma.Oh);ja=q.xc(ma.no);ma=u.ca(ma.cha || 0);ma.mXa() || ma.vma() || (T=new v.Cba(T,ja),O.tH.elb(new w.Kxa(T,ma)));};this.x0a=function(T){var ma;ma=T.newValue;T.av && T.av.Qoa && ma || ma == O.Rma || (O.uUb(O.Rma,ma),O.Rma=ma);};this.Ex=function(T){function ma(ja){var Qa;if(O.j.Mb && O.j.Mb.sourceBuffers){Qa=O.j.Mb.sourceBuffers.filter(function(Fa){return Fa.type === ja;}).pop();if(Qa)return {busy:Qa.gi(),updating:Qa.updating(),ranges:Qa.f3()};}}T={cause:T.cause};T.cause && T.cause === m.fba && (T.mediaTime=O.j.mediaTime.value,T.buf_audio=ma(l.dZ),T.buf_video=ma(l.tI));O.hma(O.fX[y.Eb.Hc] || 0,O.fX[y.Eb.Xh] || 0,T);};this.d6a=function(T){var ma;T=T.oldValue;ma=O.getTime();T === y.Eb.Hg?O.fX=[]:O.fX[T]=(O.fX[T] || 0) + (ma - O.IGb);O.IGb=ma;};this.ME=function(T){O.EGb=O.getTime();O.f5=T.oldValue;};this.Kz=function(T){O.NGb=O.getTime();O.KXa=T.oldValue;};this.$Ma=function(T){O.DGb=T.oldValue;};this.Py=function(T){function ma(ja,Qa){var Fa;if(!ja || ja.mna !== Qa.location){Fa={mna:Qa.location,bYa:Qa.locationlv,oSb:Qa.serverid,cH:Qa.servername};O.Tob(ja,Qa);return Fa;}}if("audio" === T.mediatype){if(T=ma(O.CGb,T))O.CGb=T;}else if(T=ma(O.pU,T))O.pU=T;};this.yW=function(T){var ma,ja;ma=T.mediatype;ja=T.reason;"video" === ma?"serverswitchaway" === ja?(O.cj.summary.D7a++,O.cj.i5=O.xa.mf.ea(q.ma)):"serverswitchback" === ja && (O.cj.summary.E7a++,O.cj.i5 && (O.cj.summary.F7a.push(O.xa.mf.ea(q.ma) - O.cj.i5),O.cj.i5=void 0)):"audio" === ma && ("serverswitchaway" === ja?(O.cj.summary.PMa++,O.cj.d5=O.xa.mf.ea(q.ma)):"serverswitchback" === ja && (O.cj.summary.QMa++,O.cj.d5 && (O.cj.summary.RMa.push(O.xa.mf.ea(q.ma) - O.cj.d5),O.cj.d5=void 0)));O.ve(B.yf.qSb,!1,F.jj | F.Sh,{mediatype:T.mediatype,server:T.server,selreason:T.reason,location:T.location,bitrate:T.bitrate,confidence:T.confidence,throughput:T.throughput,oldserver:T.oldserver});};this.VJ=function(T){O.ve(B.yf.qmb,!1,F.Sh,{strmsel:T.strmsel});};this.NN=function(T){T=t.yN(T);T.details && (T.details=JSON.stringify(T.details));O.ve(B.yf.dVb,!0,F.jj | F.yI | F.gY,T);};this.Pea=ua.xua || ua.V8 || ua.CSa;this.tH=J();this.log=h.ih(C,"LogblobBuilder");this.Rma=C.paused.value;this.da=this.Ym.da;this.cj={summary:{D7a:0,E7a:0,F7a:[],PMa:0,QMa:0,RMa:[]},i5:void 0,d5:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;f=a(52);l=a(12);m=a(62);d=a(49);g=a(81);h=a(7);k=a(21);n=a(24);q=a(4);p=a(3);t=a(29);u=a(47);v=a(444);w=a(1027);x=a(11);y=a(17);A=a(18);z=a(1028);B=a(450);D=a(182);E=a(127);c.prototype.fWa=function(C,G){var J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa;if(this.config().Nv)try{J={};K=this.qd.getStats(void 0,void 0,C.K);H=C.Z2();L=K.sH.eqb || [];J.attempts=K.Y6 || 0;J.num_completed_tasks=L.length;R=this.ye.Gxb;I={};Q=E.Yj.ON;N=E.Yj.Es;M=E.Yj.iga;K.$k && (I.scheduled=K.$k - H);P=C.sa;P && A.ya(P.PG) && (I.preauthsent=P.PG - C.loadTime,I.preauthreceived=P.cN - C.loadTime);S=L.filter(function(O){return "manifest" === O.type;});J.mf_succ=S.filter(R("status",Q)).length;J.mf_fail=S.filter(R("status",N)).length;ea=C.cd;A.Kc(ea.lg) && 0 > ea.lg && C.loadTime && (I.ldlsent=ea.lc,I.ldlreceived=ea.lr);qa=L.filter(function(O){return "ldl" === O.type;});J.ldl_succ=qa.filter(R("status",Q)).length;J.ldl_fail=qa.filter(R("status",N)).length;K=!0;H=[];"notcached" === C.SE && (K=!1,H.push("Missing cached manifest"));this.config().QS || (K=!1,H.push("LDL prefetch disabled"));wa=qa.filter(R("status",M)).length;this.config().QS && 0 === wa && (!I.ldlreceived || 0 <= I.ldlreceived) && (K=!1,H.push("LDL received after start"));if(this.config().rRa)if(G.isPrefetchItem){ua=G.prefetchedAudioMs / G.bcABufferLevelMs;if(1 > G.prefetchedVideoMs / G.bcVBufferLevelMs || 1 > ua)(K=!1,H.push("Insufficient media fetched"));}else (K=!1,H.push("aseStats not initialized"));X=L.filter(function(O){return "getHeaders" === O.type;});J.header_succ=X.filter(R("status",Q)).length;J.header_fail=X.filter(R("status",N)).length;sa=L.filter(function(O){return "getMedia" === O.type;});J.media_succ=sa.filter(R("status",Q)).length;J.media_fail=sa.filter(R("status",N)).length;J.hm_succ=J.header_succ + J.media_succ;J.hm_fail=J.header_fail + J.media_fail;n.Tb(G,J,{prefix:"pr_"});this.Uq.RS && (G.eventlist_version=1,G.eventlist=this.jG.AUa(C));(G.prefetchCompleted=K) || (G.prefetchFailed=H,n.Tb(G,I,{prefix:"pe_"}));this.Xla(G);}catch(O){this.log.warn("error in collecting video prepare data",O);}};c.prototype.eCb=function(C,G){if(C=C.rT())if(G=C[G])return G.jc;};c.prototype.$Va=function(C,G){C.ib.al && (G.isBranching=!0);};c.prototype.Tla=function(C,G){var J,K;K=(null === (J=C.sa) || void 0 === J?void 0:J.RWa) || "videopreparer" === C.RE;G.cachedManifest=C.SE;G.cachedLicense=C.RE;G.usedldl=this.config().QS?K.toString():"not_capable";};c.prototype.PF=function(C,G){var J,K;if(this.config().rEb){J=C.Cka();K=C.ga.sa;J && K && (G.segment=J,K=C.IB(),G.segmenttime=K,C=this.eCb(C,J),null !== K && void 0 !== C && (G.segmentoffset=K - C));}};c.prototype.UB=function(C,G,J){G.pxid=C.U6;(void 0 === J?0:J) && (G.playgraph_trace=C.$0a);};c.prototype.cWa=function(C){var G,J;G=this.j.$5b;J=G && G.$7b;G && G.WDb && (C.htwbr=G.WDb,C.pbtwbr=G.Hpa,C.hptwbr=G.b6b);G && G.yRb && (C.rr=G.yRb,C.ra=G.W7b);G && J && 0 < (J.length || 0) && (C.qe=JSON.stringify(J));};c.prototype.Yla=function(C){var G,J,K,H,L;G=this;J=this.j.Rh && this.j.Rh.value && this.j.Rh.value.streams;if(J){K=new Set();H=new Set();L=new Set();J.forEach(function(R){R=R.Kg;K.add(R);H.add(R.replace(G.iIa,""));(R=R.match(G.iIa)) && 0 < R.length && L.add(R[1]);});C.videoProfiles=[].concat(ca(K));C.videoProfile=0 === H.size?"none":[].concat(ca(H))[0];C.videoProfileLevels=[].concat(ca(L));}};c.prototype.bWa=function(C){var G,J,K;try{G=this.ye.createElement("canvas");J=G.getContext("webgl") || G.getContext("experimental-webgl");if(J){K=J.getExtension("WEBGL_debug_renderer_info");K && (C.WebGLRenderer=J.getParameter(K.UNMASKED_RENDERER_WEBGL),C.WebGLVendor=J.getParameter(K.UNMASKED_VENDOR_WEBGL));}}catch(H){}};c.prototype.sEb=function(C){C.switchAwaySummary={vsa:this.cj.summary.D7a,vsb:this.cj.summary.E7a,vsbt:this.cj.summary.F7a,asa:this.cj.summary.PMa,asb:this.cj.summary.QMa,asbt:this.cj.summary.RMa};};c.prototype.Tgb=function(C){var G;G=[];return C?Object.keys(C).map(function(J){return +J;}):G;};c.prototype.yvb=function(){var C,G;C=this;if(this.j.yo && this.j.Iq){G=[];this.j.yo.concat(this.j.Iq).forEach(function(J){J.streams.forEach(function(K){G.push({dlid:K.Dd,type:K.type,bitrate:K.bitrate,vmaf:K.wb,cdn_ids:C.Tgb(K.ay)});});});return JSON.stringify(G);}};c.prototype.Sob=function(){var G,J,K;function C(H,L){var R,I,Q;R=H.cdnId;I=K[R];Q=H.vmaf;I || (I={cdnid:R,dls:[]},K[R]=I,J.push(I));k.yK(H.bitrate);k.yK(H.duration);R={bitrate:H.bitrate,tm:x.wi(H.duration)};Q && (k.yK(H.vmaf),R.vf=Q);R[L]=n.ue(H.downloadableId);I.dls.push(R);}G=this.j.jo.kzb();J=[];K={};G.audio.forEach(function(H){C(H,"adlid");});G.video.forEach(function(H){C(H,"dlid");});return JSON.stringify(J);};c.prototype.R0a=function(){var C,G,J,K,H,L,R,I,Q,N,M,P,S;C=this.j.jo;G={totaltime:n.my(C.LT()),totalcontenttime:n.my(C.hVa()),cdndldist:this.Sob(),reposcount:this.w2a,intrplaycount:this.z4};try{J={numskip:0,numlowqual:0};K=this.j.Cg;H=K.EB();A.ya(H) && (G.totfr=H,J.numren=H);H=K.yF();A.ya(H) && (G.totdfr=H,J.numrendrop=H);H=K.tT();A.ya(H) && (G.totcfr=H,J.numrenerr=H);H=K.o3();A.ya(H) && (G.totfdl=H);G.playqualvideo=JSON.stringify(J);L=this.j.og.value;L && (G.videofr=L.framerate.toFixed(3));R=C.USa();R && (G.abrdel=R);I=C.wDb() && C.qzb();I && (G.tw_vmaf=I);Q=C.pzb();Q && n.Tb(G,Q);G.rbfrs=this.z4;G.maxbitrate=this.maxBitrate;G.maxresheight=this.aZa;N=this.j.HF();for(C=0;C < N.length;C++){M=N[C];P=this.Ym.bM.Rt(M);if(P){k.hb(S);G.maxbitrate=S?S.bitrate:0;G.maxresheight=S?S.height:0;G.bitratefilters=P.join("|");break;}S=M;}this.j.Mz && (G.trickplay=this.j.Mz.F3());null !== this.j.bq.mNa && (G.avg_subt_delay=this.j.bq.mNa);}catch(ea){this.log.error("Exception reading some of the endplay fields",ea);}n.Tb(G,this.j.L3(),{prefix:"vd_"});return G;};c.prototype.getTime=function(){return this.Ja.Wb().ea(q.ma);};c.prototype.Xla=function(C){var G;try{G=this.qd.getStats();C.pr_cache_size=JSON.stringify(G.cache);C.pr_stats=JSON.stringify(G.Pyb);}catch(J){}};c.prototype.Ula=function(C){this.log.debug("httpstats",this.Ff.Ad);n.Tb(C,this.Ff.Ad,{prefix:"http_"});};c.prototype.Rla=function(C,G){var J,K,H;J=this.config().$Pa && !(this.da % this.config().$Pa);K=this.j.Ma;H=null === K || void 0 === K?void 0:K.Ah;J && H && (C.ASEstats=JSON.stringify(K.y4(G)));};c.prototype.k4=function(C){Object.assign(C,this.j.Ma.Ib.wCb());};c.prototype.Vla=function(C){var G;try{G=x.ou.memory;A.jXa(G) && (C.totalJSHeapSize=G.totalJSHeapSize,C.usedJSHeapSize=G.usedJSHeapSize,C.jsHeapSizeLimit=G.jsHeapSizeLimit);}catch(J){}};c.prototype.Wla=function(C){var G,J,K,H,L;if(this.config().swb){L=null === (G=null === x.Ve || void 0 === x.Ve?void 0:x.Ve.connection) || void 0 === G?void 0:G.effectiveType;G=null === x.Ve || void 0 === x.Ve?void 0:x.Ve.deviceMemory;L && (C.effectiveType=L);G && (C.deviceMemory=G);}(L=null === (J=null === x.Ve || void 0 === x.Ve?void 0:x.Ve.connection) || void 0 === J?void 0:J.type) && (C.connectionType=L);J=null === (K=null === x.Ve || void 0 === x.Ve?void 0:x.Ve.connection) || void 0 === K?void 0:K.downlink;"number" === typeof J && isFinite(J) && (C.downlink=J);K=null === (H=null === x.Ve || void 0 === x.Ve?void 0:x.Ve.connection) || void 0 === H?void 0:H.rtt;"number" === typeof K && isFinite(K) && (C.rtt=K);};c.prototype.dWa=function(C){var G;G=this.j.Ye;this.config().Oob && G && !this.config().cq && (G=this.j.xKb(G.I5b()),C.keystatuses=G,this.log.trace("keystatuses",G));};c.prototype.ZVa=function(C){var G;try{if(this.config().YR){G=this.j.wzb();C.battery=G;this.log.trace("batterystatuses",G);}}catch(J){}};c.prototype.nEb=function(C){this.j.W1 && (C.dqec=this.j.W1);};c.prototype.mEb=function(C){this.j.r1 && n.Tb(C,{cast_interaction_counts:this.j.r1.Q5b()});};c.prototype.gWa=function(C){var G;G=this.j.ib.po;G && (G.isUIAutoPlay && (C.isUIAutoPlay=!0),G.clLogId && (C.cl_log_id=G.clLogId));};c.prototype.eWa=function(C){var G,J,K;if(null === (G=this.j.Ye) || void 0 === G?0:G.Ks)C.keysys=this.j.Ye.Ks();else if(null === (K=null === (J=this.j.Ye) || void 0 === J?void 0:J.mediaKeys) || void 0 === K?0:K.keySystem)C.keysys=this.j.Ye.mediaKeys.keySystem;};c.prototype.oEb=function(C){this.Ria && (C.externaldisplay=this.Ria.ZS);};c.prototype.pEb=function(C){this.WC && this.WC.Yb && (C.media_capabilities_smooth=this.WC.Yb.smooth,C.media_capabilities_efficient=this.WC.Yb.powerEfficient,C.media_capabilities_bitrate=this.WC.Yb.bitrate,C.media_capabilities_height=this.WC.Yb.height,C.media_capabilities_width=this.WC.Yb.width);};c.prototype.OF=function(C,G,J){J && (C.adlid=J.Dd,C.abitrate=J.bitrate);G && (C.vdlid=G.Dd,C.vbitrate=G.bitrate);};c.prototype.aWa=function(C){var G,J;if(this.j.nK){G=this.j.nK;G.H1 && (C.controllerESN=G.H1);G.Dqb && (C.controllerUiVer=G.Dqb);if(G.Cqb)try{J=JSON.parse(G.Cqb);C.controllerGroupNames=J;}catch(K){this.log.error("Exception parsing controller group names",K);}}};c.prototype.vGb=function(){void 0 === this.Ria && (this.Ria=this.Sia.yxb());};c.prototype.wGb=function(C){void 0 === this.WC && void 0 !== C && (this.WC=this.eoa.Xia(C));};c.prototype.Y2=function(C,G){(G=this.j.sy(G)) && Object.entries(G).forEach(function(J){var K;K=aa(J);J=K.next().value;K=K.next().value;C[J]=K;});};c.prototype.vR=function(C){var G,J;C.browserua=x.sA;C.browseruad=null === (J=null === (G=x.Ve.userAgentData) || void 0 === G?void 0:G.brands) || void 0 === J?void 0:J.map(function(K){return [K.brand,K.version];});C.browserhref=location.href;};c.prototype.ve=function(C,G,J,K,H){this.dlb(K,this.j,G,J);C=this.zU.Zu(C,H || (G?"error":"info"),K,this.Ym);this.Ij.ve(C);};c.prototype.dlb=function(C,G,J,K){var H,L,R,I,Q,N,M,P,S,ea;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (C.devmod=nrdp.device.deviceModel);G.Cj && (C.pbcid=G.Cj);G.Ti && (C.playbackcontextid=G.Ti);K & F.jj && (k.hb(!C || void 0 === C.moff),0 <= G.mediaTime.value && (C.moff=n.my(G.mediaTime.value),C.moffms=n.lk(G.mediaTime.value)));if(K & F.yI){N=G.pc[f.Pb.Ra.Fb].value;M=G.pc[f.Pb.Ra.Sb].value;P=G.Sg.value;S=G.Vf.value;N && (C.cdnid=N.id,C.cdnname=N.name);M && (C.acdnid=M.id,C.acdnname=M.name);if(null === P || void 0 === P?0:P.stream)(C.adlid=P.stream.Dd,C.abitrate=P.stream.bitrate);if(null === S || void 0 === S?0:S.stream)(C.vdlid=S.stream.Dd,C.vbitrate=S.stream.bitrate,C.vheight=S.stream.height,C.vwidth=S.stream.width);}K & F.Sh && (null === (H=G.Ma) || void 0 === H?0:H.Ah) && (C.abuflbytes=null !== (L=C.abuflbytes) && void 0 !== L?L:G.pfa(),C.abuflmsec=null !== (R=C.abuflmsec) && void 0 !== R?R:G.DR(),C.vbuflbytes=null !== (I=C.vbuflbytes) && void 0 !== I?I:G.Cua(),C.vbuflmsec=null !== (Q=C.vbuflmsec) && void 0 !== Q?Q:G.BX());if(K & F.PP){Object.assign(C,D.Lka());try{ea=G.kg.getBoundingClientRect();C.rendersize=ea.width + "x" + ea.height;C.renderpos=ea.left + "x" + ea.top;}catch(qa){}}K & F.fD && (H=x.Ve.hardwareConcurrency,0 <= H && (C.numcores=H),H=this.Ym.ria) && (L=H.rzb(),C.droppedFrames=JSON.stringify(L),H=H.GT(this.config().Ivb),n.ee(H,function(qa,wa){C["droppedFramesP" + qa]=JSON.stringify(wa);}));if(K & F.gY)try{G.Tk && (C.cdninfo=JSON.stringify(G.Tk.map(function(qa){return {id:qa.id,nm:qa.name,rk:qa.ie,wt:qa.location.weight,lv:qa.location.level};})));}catch(qa){}J && K & F.D$ && (k.hb(G.Yk),(J=G.Yk)?C=Object.assign(C,D.Aka(this.platform.pp,J)):C.errorcode=p.M.im,C.errorcode === this.platform.pp + p.M.oDa && (C.lastSyncWithVideoElement=this.getTime() - G.ZW));};Va.Object.defineProperties(c.prototype,{c7a:{configurable:!0,enumerable:!0,get:function(){return this.j.ey || this.j.IK;}}});b.nBa=c;(function(C){C[C.jj=1]="MOFF";C[C.yI=2]="PRESENTEDSTREAMS";C[C.Sh=4]="BUFFER";C[C.PP=8]="SCREEN";C[C.fD=16]="CPU";C[C.gY=32]="CDN";C[C.D$=64]="FATALERROR";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mxa="DownloadReportBuilderSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Lxa=void 0;r=a(1);f=a(182);l=a(81);m=a(24);d=a(3);g=a(21);h=a(11);k=a(18);n=a(0);a=a(14);c.prototype.construct=function(p,t){var u,v,w;u=this;v={};p.forEach(function(x){var y;y=x.url;v[y] || (v[y]=[]);v[y].push(x);});w=[];m.ee(v,function(x,y){w.push(u.ECb(y,t));});return {urls:w};};c.prototype.ECb=function(p,t){var u,v,w,x;u=this;v=p[0];w={url:v.url,bitrate:v.bitrate,cdnid:k.jh(v.pc)?v.pc.id:v.pc,dltype:v.ivb,id:v.Dd};x={};p.forEach(function(y){var A;A=u.rFb(y)?"fail":"success";x[A] || (x[A]=[]);x[A].push(y);});m.ee(x,function(y,A){"fail" === y?w.failures=u.rAb(A,t):"success" === y && (w.downloads=u.hAb(A,t));});return w;};c.prototype.hAb=function(p,t){var u,v,w;u=this;v={};p.forEach(function(x){var y;y=x.Npb;v[y] || (v[y]=[]);v[y].push(x);});w=[];m.ee(v,function(x,y){var A;A=[];y.forEach(function(z){A.push(z);u.bFb(z) && (w.push(u.vTa(A,t,x)),A=[]);});0 < A.length && w.push(u.vTa(A,t,x));});return w;};c.prototype.vTa=function(p,t,u){var v,w,x,y,z;v=p.sort(function(B,D){return B.Pl.Oh < D.Pl.Oh?-1:B.Pl.Oh > D.Pl.Oh?1:0;});w=v[0].Pl;x=w.Tp;y=w.Oh;w=w.no;for(var A=1;A < p.length;A++){z=p[A].Pl;z.Tp < x && (x=z.Tp);z.Oh < y && (y=z.Oh);z.no > w && (w=z.no);}A=this.RBb(v);z=v[v.length - 1];return {time:x - t,tcpid:u?parseInt(u):-1,tresp:y - x,first:A,ranges:this.SBb(v,A),dur:w - y,trace:this.JB(p),status:this.F3(z)};};c.prototype.RBb=function(p){var t;t=0;p.forEach(function(u){u.nr && (t=h.Do(t,u.nr[0]));});return t;};c.prototype.SBb=function(p,t){var u;u=[];p.forEach(function(v){v.nr?u.push([v.nr[0] - t,v.nr[1] - t]):u.push([0,-1]);});return u;};c.prototype.JB=function(p){var t,u;t=[];p.forEach(function(v){var w;v=v.Pl;if(u){w=v.Tp - u.no;0 < w && t.push([w,-2]);w=h.pn(u.no,v.Tp);w=v.Oh - w;0 < w && t.push([w,-3]);}t.push([v.no - v.Oh,v.cha || 0]);u=v;});return t;};c.prototype.bFb=function(p){if(p.oa === d.L.iA || p.oa === d.L.mD)return !0;};c.prototype.F3=function(p){if(p.W)return "complete";if(p.oa === d.L.iA)return "abort";if(p.oa === d.L.mD)return "stall";g.hb(!1,"download status should never be: other");return "other";};c.prototype.rAb=function(p,t){var u,v;u=this;v=[];p.forEach(function(w){var x;x=w.Pl;w={time:x.Oh - t,tresp:x.Oh - x.Tp,dur:x.no - x.Oh,range:w.nr,reason:u.UBb(w),httpcode:w.jk,nwerr:f.wka(w.oa)};v.push(w);});return v;};c.prototype.UBb=function(p){return p.jk || p.oa === d.L.iP?"http":p.oa === d.L.kP?"timeout":"network";};c.prototype.rFb=function(p){return p.W || void 0 === p.W || p.oa === d.L.iA || p.oa === d.L.mD?!1:!0;};c.prototype.Gqb=function(p){var t,u,v,w,x,y;t=p.request;u=t.stream;v=t.track;w=t.url;x=this.eAb(v,w);switch(x){case l.Wh.audio:case l.Wh.video:y=t.stream.Dd;break;case l.Wh.y8:case l.Wh.Sta:y=v.Dd;}p={bitrate:u && u.bitrate,ivb:x,Dd:y,Pl:p.Pl,pc:t.pc,url:w,Ze:p.Ze,jk:p.jk,oa:p.oa,W:p.W,Npb:this.lxb(p)};void 0 !== t.offset && void 0 != t.length && (p.nr=[t.offset,t.offset + t.length - 1]);return p;};c.prototype.eAb=function(p,t){if(p)return p.type;if(0 <= t.indexOf("netflix.com")){if(0 <= t.indexOf("nccp"))return "nccp";if(0 <= t.indexOf("api"))return "api";}return "other";};c.prototype.lxb=function(p){if(p.headers && (p=p.headers["X-TCP-Info"] || p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(t){return 0 == t.indexOf("port=");}).map(function(t){return t.split("=")[1];})[0])?m.ue(p):p;};q=c;q=r.__decorate([n.R(),r.__param(0,n.l(a.Vc))],q);b.Lxa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wIa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SCa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zya="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lza="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BDa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,g,h,k,n,q;function c(p){var t;p=new h.IO(p);if(1481462272 != p.Rp())throw Error("Invalid header");t={XMR:{Version:p.Rp(),RightsID:p.Tv(16)}};f(p,t.XMR,p.buffer.length);return t;}function f(p,t,u){var v,w,x,y,A;for(;p.position < u;){v=p.Tg();w=p.Rp();w-=8;switch(v){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:l(v)};A=t[x];A?q.isArray(A)?A.push(y):(t[x]=[],t[x].push(A),t[x].push(y)):t[x]=y;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:f(p,y,p.position + w);break;case 5:y.Reserved1=p.Tg();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.Tg();y.MinimumAnalogVideoOutputProtectionLevel=p.Tg();y.Reserved2=p.Tg();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.Tg();break;case 10:y.Reserved=p.Tv(16);y.SymmetricCipherType=p.Tg();y.AsymmetricCipherType=p.Tg();w=p.Tg();y.EncryptedKeyLength=w;v=p.Tv(w);y.EncryptedKeyData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:y.SignatureType=p.Tv(2);w=p.Tg();v=p.Tv(w);y.SignatureData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:y.Reserved=p.Tg();break;case 18:y.BeginDate=p.Rp();y.EndDate=p.Rp();break;case 42:y.CurveType=p.Tv(2);w=p.Tg();v=p.Tv(w);y.Key=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:y.ExpireAfterFirstPlay=p.Rp();break;case 50:y.Sequence=p.Rp();break;case 51:y.LicenseProcessingIndicator=p.Tg();break;case 52:y.MinimumSecurityLevel=p.Tg();break;case 57:y.PlayEnablerType=m(p.Tv(16));break;case 85:break;default:y.OtherData=p.Tv(w);}}}function l(p){return "0x" + p.toString(16);}function m(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Vtb=b.Wtb=b.Utb=b.Ttb=b.Stb=void 0;d=a(12);g=a(7);h=a(161);k=a(152);n=a(259);q=a(18);b.Stb=function(p,t,u){switch(t){case d.DY:p && (p=g.oNa(p),n.Rua(p,function(v){v.W && (v=v.object) && (v=k.tTa(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=k.t0a(v)) && (v=g.Kq(v)) && (v=c(v)) && u(v);}));}};b.Ttb=c;b.Utb=f;b.Wtb=l;b.Vtb=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oEa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QDa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GDa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Waa={nU:"keepAlive",splice:"splice"};b.MDa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hEa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zxa="DxDisplaySymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.Td=h;this.is=k;this.prefix=n;this.MV=this.isVisible=!1;this.uc=new d.LHa(k);}Object.defineProperty(b,"__esModule",{value:!0});b.VP=b.WH=b.wwa=b.vwa=b.uwa=void 0;r=a(1);f=a(0);l=a(28);m=a(26);d=a(1057);g=a(11);b.uwa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.vwa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.wwa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.WH="";c.prototype.show=function(){this.isVisible || (this.tqb(),this.oK && g.Ke.body.appendChild(this.oK),this.kg && g.Ke.body.appendChild(this.kg),this.PR && g.Ke.body.appendChild(this.PR),this.pH && g.Ke.getElementsByTagName("head")[0].appendChild(this.pH),this.isVisible=!0,this.refresh());};c.prototype.Xq=function(){this.isVisible && (this.kg && g.Ke.body.removeChild(this.kg),this.PR && g.Ke.body.removeChild(this.PR),this.oK && g.Ke.body.removeChild(this.oK),this.pH && g.Ke.getElementsByTagName("head")[0].removeChild(this.pH),this.pH=this.aX=this.oK=this.PR=this.kg=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.Xq():this.show();};c.prototype.jWb=function(){(this.MV=!this.MV) || this.refresh();};c.prototype.Ezb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.tqb=function(){var h;h=this;this.pH=g.Ke.createElement("style");this.pH.type="text/css";this.pH.innerHTML=this.Ezb(this.prefix);this.PR=this.Td.createElement("div",b.uwa,void 0,{"class":this.prefix + "-display-blur"});this.kg=this.Td.createElement("div",b.vwa,void 0,{"class":this.prefix + "-display"});this.oK=this.Td.createElement("div",b.wwa,void 0,{"class":this.prefix + "-display"});this.oTa().forEach(function(k){return h.oK.appendChild(k);});};c.prototype.vqb=function(h){h=this.Td.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var k=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < k.length;n++){k[n].addEventListener("click",function(q){var p,t;if(q=q.target.parentElement){p=q.classList;if(p.contains("open")){p.remove("open");try{t=q.querySelectorAll(":scope .open");for(q=0;q < t.length;q++){t[q].classList.remove("open");}}catch(u){}}else p.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.MV?Promise.resolve():this.g2a().then(function(k){if(k && (k=h.vqb(k),h.kg)){h.aX && (h.kg.removeChild(h.aX),h.aX=void 0);h.aX=k;h.kg.appendChild(h.aX);k=h.kg.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < k.length;++n){k[n].addEventListener("click",h.Z2a);}(k=h.kg.querySelector("#" + h.prefix + "-display-close-btn")) && k.addEventListener("click",function(){h.toggle();});}});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Kf)),r.__param(1,f.l(m.Jf)),r.__param(2,f.Ek())],a);b.VP=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bya="DxManagerSymbol";b.aya="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cBa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sIa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BEa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zFa="PreparerManifestFetcherSymbol";b.yFa="PreparerLicenseFetcherSymbol";b.xFa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var f,l,m,d;function c(g){this.Np=g;}Object.defineProperty(b,"__esModule",{value:!0});b.rba=b.mFa=void 0;r=a(1);f=a(13);l=a(0);m=a(186);d=a(66);c.prototype.GYa=function(g){var h,k;h=this;if(g.me.key.Da)return Promise.resolve(g.me.key.Da);k=g.me.key.$;return g.me.LH.Is(k).Ir.then(function(n){n=n.sa;return n.Mn?d.nB(n.Mn,{config:f.config}):d.iH(k,h.Np.nv(k));});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.zZ))],a);b.mFa=a;b.rba="PlaygraphResolverSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mCa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gDa="OpenConnectSideChannelSymbol";b.tCa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rCa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KDa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JHa="TransportFactorySymbol";b.LCa="MslTransportSymbol";b.PGa="SslTransportSymbol";},function(r,b,a){var h,k;function c(n){return !(!n || !n.xC && !n.pboc || !n.code && !n.code);}function f(n){return !(!n || !n.kc);}function l(n){return ! !(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.L.fdb;case "STREAM_QUOTA_EXCEEDED":return k.L.kdb;case "INSUFFICICENT_MATURITY":return k.L.ndb;case "TITLE_OUT_OF_WINDOW":return k.L.udb;case "CHOICE_MAP_ERROR":return k.L.jdb;case "BadRequest":return k.L.pdb;case "Invalid_SemVer_Format":return k.L.odb;case "RESTRICTED_TO_TESTERS":return k.L.sdb;case "AGE_VERIFICATION_REQUIRED":return k.L.gdb;case "BLACKLISTED_IP":return k.L.hdb;case "DEVICE_EOL_WARNING":return k.L.Kaa;case "DEVICE_EOL_FINAL":return k.L.iDa;case "INCORRECT_PIN":return k.L.mDa;case "MOBILE_ONLY":return k.L.rdb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.L.qdb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.L.vdb;case "RESET_DEVICE":return k.L.lDa;case "RELOAD_DEVICE":return k.L.kDa;case "EXIT_DEVICE":return k.L.jDa;case "FREE_PREVIEW_ENDED":return k.L.mdb;case "STREAMING_LOCATION_DISALLOWED":return k.L.tdb;default:return k.L.eza;}}function d(n,q){var p;p=q.bladeRunnerCode?Number(q.bladeRunnerCode):void 0;return new h.ed(n,m(q.code),"BadRequest" === q.code?k.YY.T8a:void 0,q.code,void 0,q.display,void 0,q.detail,q.display,p,q.alert,q.alertTag);}function g(n,q){return new h.ed(n,q.kc,q.xd,void 0,q.Fv,q.message,q.details,q.data);}Object.defineProperty(b,"__esModule",{value:!0});b.NNa=b.ONa=b.Fyb=b.Jyb=b.Gm=b.Iyb=b.pFb=b.jFb=b.WWa=void 0;h=a(42);k=a(3);b.WWa=c;b.jFb=f;b.pFb=l;b.Iyb=m;b.Gm=function(n,q){return f(q)?g(n,q):c(q)?d(n,q):l(q)?h.ed.Dja(n,q):new h.ed(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,q);};b.Jyb=d;b.Fyb=g;b.ONa=function(n,q,p,t,u){var v,w,x,y;v=q.A3a[p];if(void 0 === v)throw {xC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no configuration information",detail:q};w=v.version;if(void 0 === w)throw {xC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no version information",detail:q};x=v.service;if(void 0 === x)throw {xC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no service information",detail:q};y=v.orgOverride;if(void 0 === y && (y=q.organization,void 0 === y))throw {xC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no organization information",detail:q};return v.isPlayApiDirect?n.FBb(t) + "/" + y + "/" + x + "/" + w:n.vBb(t) + "/" + y + "/" + x + "/" + w + "/" + (void 0 === u?"router":u);};b.NNa=function(n,q){var p;p={"Content-Type":"text/plain"};q=q();n.aMa && q && (p["X-Esn"]=q.kk);return p;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qEa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QHa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ho=void 0;r=b.Ho || (b.Ho={});r[r.mZ=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.qD=2]="LOADED";r[r.pP=3]="LOAD_FAILED";r[r.hDa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nva="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PEa="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KEa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZFa="RepositionTraceSymbol";b.XFa="RepositionTraceFactorySymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa;function c(O,T,ma,ja,Qa,Fa,Wa,Xa,db,Za,kb,Ya,Sa,za,Ia,Ma,Ta,hb,wb,Eb,Hb,Pb,Cb,Kb,Vb,kc,Ec,Kd,qe,Ld,ed,nc){var tb,oc;function cc(nb){nb.newValue !== P.Eb.Hg && nb.newValue !== P.Eb.Xh && (tb.bc.removeListener(cc),tb.EL=tb.xa.O7,tb.Qb.qc(P.Z.st));}function dc(nb){nb.newValue !== P.Eb.Hg && (tb.bc.removeListener(dc),tb.S0a=tb.xa.mf.ea(F.ma),tb.Qb.qc(P.Z.Mp));}tb=this;this.ob=Qa;this.Vj=Fa;this.LF=Wa;this.Ja=db;this.YJ=Za;this.xa=kb;this.Lna=Ya;this.Mna=Ia;this.q5=Ma;this.qd=Ta;this.Um=hb;this.wk=wb;this.aK=Eb;this.Xpa=Hb;this.el=Pb;this.Rta=Cb;this.Ij=Kb;this.ye=Vb;this.Upa=kc;this.Tl=Ec;this.x2a=Kd;this.ifa=qe;this.jG=Ld;this.UJ=ed;this.r1=nc;this.$0a=[];this.hr=new Map();this.Wd=new t.Ac(null);this.Rh=new t.Ac(null);this.Uc=new t.Ac(null);this.Qk=new t.Ac(null);this.Wt=new t.Ac(void 0);this.og=new t.Ac(null);this.dk=new t.Ac(null);this.mediaTime=new t.Ac(void 0);this.playbackRate=new X.OEa(1,u.config.Xna);this.eua=function(nb){return tb.Wd.set(nb.newValue);};this.IXb=function(nb){return tb.Rh.set(nb.newValue);};this.FXb=function(nb){return tb.Uc.set(nb.newValue);};this.hXb=function(nb){return tb.Qk.set(nb.newValue);};this.EXb=function(nb){return tb.Wt.set(nb.newValue);};this.HXb=function(nb){return tb.og.set(nb.newValue);};this.iXb=function(nb){return tb.dk.set(nb.newValue);};this.wXb=function(nb){return tb.Vf.set(nb.newValue);};this.vXb=function(nb){return tb.Sg.set(nb.newValue);};this.rXb=function(nb){return tb.mediaTime.set(nb.newValue);};this.Q8=function(nb){return tb.playbackRate.set(nb.newValue);};this.Jj={};this.Ira=this.Jta=0;this.Qb=new v.Xj();this.DX={};this.Q4a=!1;this.state=new t.Ac(P.Lb.vI);this.Mv=new t.Ac(!1);this.paused=new t.Ac(!1);this.muted=new t.Ac(!1);this.volume=new t.Ac(u.config.nub / 100);this.bc=new t.Ac(P.Eb.Hg);this.jf=new t.Ac(P.df.$c);this.Jq=new t.Ac(P.df.$c);this.Zl=new t.Ac(P.df.$c);this.Sg=new t.Ac(null);this.Vf=new t.Ac(null);this.Zfa=new t.Ac(null);this.g4=q.Jza(this);this.pc=[new t.Ac(null),new t.Ac(null)];this.Ifa={};this.IK=!1;this.Pa=this.Vi=-1;this.Nka=function(nb,Nb){var hc;nb=void 0 === nb?null:nb;return L.ya(nb)?Nb && !tb.Ap(Nb).sa?nb:(null === (hc=tb.Ma) || void 0 === hc?0:hc.Ah)?tb.Ma.ws(nb):nb:null;};this.D_a=function(){tb.Vsa();};this.uK=O;this.addEventListener=this.Qb.addListener;this.removeEventListener=this.Qb.removeListener;this.fireEvent=this.Qb.qc;this.TLa({$:O,va:ja,ib:ma || ({})},u.config.Nv?this.qd.KB(O):void 0,T);this.log=E.ih(this);this.bia=Xa(this);this.nnb=Sa(this);this.kg=N.createElement("DIV",p.Bba,void 0,{id:this.K});this.DEb();oc=za(F.Ug(1));this.Sc=this.log.mha("Playback");this.sNb=d.yEa(this);y.BI.WJb=this;y.BI.nja || (y.BI.nja=this);this.Sc.info("Playback created",this.mh);this.rna?this.Sc.info("Playback selected for trace playback info logging"):this.Sc.trace("Playback not selected for trace playback info logging");u.config.Nv && (this.qd.cDb(this.K),this.addEventListener(P.Z.st,function(){tb.qd.dDb(tb.K);tb.Uc.addListener(function(){tb.qd.sVa();});tb.Wd.addListener(function(){tb.qd.sVa();});}),this.addEventListener(P.Z.yg,function(){tb.qd.bDb(tb.K);}));this.state.addListener(function(nb){tb.Sc.info("Playback state changed",{From:nb.oldValue,To:nb.newValue});G.hb(nb.newValue > nb.oldValue);});x.nf.addListener(x.Hm,this.D_a,p.sZ);this.mediaTime.addListener(function(){tb.byb();oc.nl(function(){return tb.sSa();});});this.bc.addListener(function(nb){tb.Sc.info("PresentingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.yi(tb.mediaTime.value)},tb.ht());});this.bc.addListener(function(){tb.Mv.set(tb.bc.value === P.Eb.Hc);});this.jf.addListener(function(nb){tb.Sc.info("BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.yi(tb.mediaTime.value)},tb.ht());});this.Jq.addListener(function(nb){tb.Sc.info("AV BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.yi(tb.mediaTime.value)},tb.ht());});this.Zl.addListener(function(nb){tb.Sc.info("Text BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.yi(tb.mediaTime.value)},tb.ht());});this.Wd.addListener(function(nb){G.hb(nb.newValue);tb.Sc.info("AudioTrack changed",nb.newValue && ({ToBcp47:nb.newValue.wm,To:nb.newValue.trackId}),nb.oldValue && ({FromBcp47:nb.oldValue.wm,From:nb.oldValue.trackId}),{MediaTime:J.yi(tb.mediaTime.value)});});this.Uc.addListener(function(nb){tb.Sc.info("TimedTextTrack changed",nb.newValue?{ToBcp47:nb.newValue.wm,To:nb.newValue.trackId}:{To:"none"},nb.oldValue?{FromBcp47:nb.oldValue.wm,From:nb.oldValue.trackId}:{From:"none"},{MediaTime:J.yi(tb.mediaTime.value)});});this.bc.addListener(dc,p.HD);this.bc.addListener(cc);this.addEventListener(P.Z.st,function(){tb.Q4a=!0;tb.K4a=tb.dga();tb.Qd("start");tb.s4=tb.Vf.value.stream.bitrate;});D.GEa(this);y.rn.push(this);u.config.gW && (this.O6=this.Upa(this),this.Q6=new z.REa(this));y.kba.forEach(function(nb){nb(tb);});this.tlb=function(){tb.addEventListener(P.Z.OG,function(nb){var Nb;nb=nb.cause;nb !== P.pe.Cw && nb !== P.pe.GI && (null === (Nb=tb.Ma) || void 0 === Nb?void 0:Nb.stop());});tb.addEventListener(P.Z.Wl,function(nb){var Nb,hc,uc,fd,Yb,pc,Wc,vc,Fc,Md;tb.x2a.Wl(nb);uc=nb.cause;fd=nb.skip;Yb=nb.i6;pc=nb.ipa;Wc=nb.K;vc=nb.Bj;tb.ga.jo.IKb(pc,Yb);if(uc !== P.pe.GI && (u.config.kyb && uc === P.pe.TP && tb.Ma.k1(),uc !== P.pe.Cw))if(fd){if(null !== (Nb=tb.Ma) && void 0 !== Nb && Nb.ci(Yb)){tb.Sc.trace("Repositioned. Skipping from " + pc + " to " + Yb);nb=function(Ub){tb.log.error("streamingSession.skipped threw an exception",Ub);Ub=S.ed.Dja(C.M.g8a,Ub);tb.Op(Ub.code,Ub);};try{tb.Ma.bn(Yb).then(function(Ub){var qc;Ub.HL || (null === (qc=tb.Ma) || void 0 === qc?void 0:qc.play());}).catch(nb);}catch(Ub){nb(Ub);}}else tb.log.error("can skip returned false");}else {tb.Sc.trace("Repositioned. Seeking from " + pc + " to " + Yb);try{Fc=tb.ob.B3(tb.ga);Md=Object.keys(Fc.wa).find(function(Ub){var qc;Ub=Fc.wa[Ub];return Ub.$ === Wc && Ub.jc <= vc && (null !== (qc=Ub.Fc) && void 0 !== qc?qc:Infinity) > vc;});null === (hc=tb.Ma) || void 0 === hc?void 0:hc.vr(vc,Md);}catch(Ub){tb.log.error("streamingSession.seekByContentPts threw an exception",Ub);Yb=S.ed.Dja(C.M.e8a,Ub);tb.Op(Yb.code,Yb);}}});};this.playbackRate.addListener(function(){var nb,Nb;if(null === (nb=tb.Ma) || void 0 === nb?0:nb.Ah)null === (Nb=tb.Ma) || void 0 === Nb?void 0:Nb.Wpa();});this.addEventListener(P.Z.Ex,function(nb){var Nb;nb.cause == y.gba && (tb.jf.set(P.df.$c),null === (Nb=tb.Ma) || void 0 === Nb?void 0:Nb.hn(tb.Cg.ETa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;f=a(1);l=a(52);m=a(274);d=a(276);g=a(129);h=a(497);k=a(1104);n=a(1105);q=a(500);p=a(12);t=a(105);u=a(13);v=a(73);w=a(501);x=a(63);y=a(62);A=a(100);z=a(503);B=a(1108);D=a(507);E=a(7);F=a(4);C=a(3);G=a(21);J=a(86);K=a(24);H=a(61);L=a(18);R=a(508);I=a(121);Q=a(281);N=a(29);M=a(118);P=a(17);S=a(42);ea=a(277);qa=a(517);wa=a(142);ua=a(1136);X=a(1137);sa=a(66);c.prototype.Qd=function(O,T){var ma;T=void 0 === T?this.uK:T;null === (ma=this.hr.get(T)) || void 0 === ma?void 0:ma.Qd(O);};c.prototype.Ay=function(O){this.ga.Ay(O);};c.prototype.DEb=function(){var O;O=this;this.Wd.addListener(function(T){return O.ga.Wd.set(T.newValue);});this.Rh.addListener(function(T){return O.ga.Rh.set(T.newValue);});this.Uc.addListener(function(T){return O.ga.Uc.set(T.newValue);});this.Qk.addListener(function(T){return O.ga.Qk.set(T.newValue);});this.Wt.addListener(function(T){return O.ga.Wt.set(T.newValue);});this.og.addListener(function(T){return O.ga.og.set(T.newValue);});this.dk.addListener(function(T){return O.ga.dk.set(T.newValue);});this.Vf.addListener(function(T){return O.ga.Vf.set(T.newValue);});this.Sg.addListener(function(T){return O.ga.Sg.set(T.newValue);});this.pc[l.Pb.Ra.Sb].addListener(function(T){return O.ga.pc[l.Pb.Ra.Sb].set(T.newValue);});this.pc[l.Pb.Ra.Fb].addListener(function(T){return O.ga.pc[l.Pb.Ra.Fb].set(T.newValue);});this.mediaTime.addListener(function(T){return O.ga.mediaTime.set(T.newValue);});this.playbackRate.addListener(function(T){return O.ga.playbackRate.set(T.newValue);});this.X2a();};c.prototype.X2a=function(){var O;O=this;this.ga !== this.fsa && (this.ga.mediaTime.set(this.mediaTime.value),this.ga.playbackRate.set(this.playbackRate.value),this.hq(function(T){return T.Wd;},this.eua),this.hq(function(T){return T.Rh;},this.IXb),this.hq(function(T){return T.Wt;},this.EXb),this.hq(function(T){return T.Uc;},this.FXb),this.hq(function(T){return T.Qk;},this.hXb),this.hq(function(T){return T.og;},this.HXb),this.hq(function(T){return T.dk;},this.iXb),this.hq(function(T){return T.Sg;},this.vXb),this.hq(function(T){return T.Vf;},this.wXb),this.hq(function(T){return T.pc[l.Pb.Ra.Sb];},function(T){return O.pc[l.Pb.Ra.Sb].set(T.newValue);}),this.hq(function(T){return T.pc[l.Pb.Ra.Fb];},function(T){return O.pc[l.Pb.Ra.Fb].set(T.newValue);}),this.hq(function(T){return T.mediaTime;},this.rXb),this.hq(function(T){return T.playbackRate;},this.Q8),this.Uc.set(this.ga.Uc.value),this.Wd.set(this.ga.Wd.value,{pMa:!0}),this.Rh.set(this.ga.Rh.value),this.Qk.set(this.ga.Qk.value),this.Wt.set(this.ga.Wt.value),this.og.set(this.ga.og.value),this.dk.set(this.ga.dk.value),this.fsa=this.ga);};c.prototype.hq=function(O,T){this.fsa && O(this.fsa).removeListener(T);O(this.ga).addListener(T);};c.prototype.load=function(O){var T,ma;T=this;this.load=function(){};this.a1a=O;if(this.state.value == P.Lb.vI){this.Sc.info("Playback loading",this);this.DKb();this.Qd("asl_load_start");O=this.YJ;ma=O.endTime;L.Kc(O.startTime)?L.Kc(ma)?this.Qd("asl_ended"):this.Qd("asl_in_progress"):this.Qd("asl_not_started");this.YJ.yU(function(ja){T.Qd("asl_load_complete");ja.W?T.xsb():T.Op(ja.errorCode || C.M.Rza,ja);});}};c.prototype.TNb=function(){var O;try{if(this.state.value === P.Lb.LOADING){O={width:1,height:1,Vea:1};this.HF().forEach(function(T){O.width * O.height < T.width * T.height && (O.width=T.width,O.height=T.height,O.Vea=T.Vea);});this.Vz=O;this.OE=this.aK.Klb({IH:F.xc(this.X),K:this.K,N6:this.Px,ib:this.ib}).ea(F.ma);this.ffa();this.wtb();}}catch(T){this.Op(C.M.tbb,{oa:C.L.gj,rb:K.wd(T)});}};c.prototype.vG=function(){var O,T;T=this.ob.B3(this);this.DPa(T);null === (O=this.Ma) || void 0 === O?void 0:O.vX(T);};c.prototype.TLa=function(O,T,ma){var ja,Qa,Fa,Wa;T=void 0 === T?this.LF.rB():T;ma=void 0 === ma?this.Ja.Wb():ma;Qa=! !u.config.s7a && !(T % u.config.s7a);Fa=O.$;Wa=O.va;O=O.ib;this.hr.has(Fa)?this.hr.get(Fa):(T=this.Xpa(y.BI.index++,Fa,Wa,O,T,ma,Qa,this.ga,this.Nka),this.hr.set(Fa,T),1 < this.hr.size && (T.AU=this.q5.create(this,T,!1)),T.bM=new A.wCa(this,T),null === (ja=this.Ma) || void 0 === ja?void 0:ja.nS(T.va,{da:T.da,Iv:T.Cj}));};c.prototype.oL=function(O){if(!this.hr.has(O))throw Error("Playback segment not found: " + O);return this.hr.get(O);};c.prototype.Ap=function(O){var T;O=this.ob.De(O);return null !== (T=this.hr.get(null === O || void 0 === O?void 0:O.$)) && void 0 !== T?T:this.ga;};c.prototype.JBb=function(O){for(var T,ma,ja=aa(this.GV),Qa=ja.next();!Qa.done;Qa=ja.next()){if((Qa=Qa.value,(null === (ma=null === (T=Qa.Ye) || void 0 === T?void 0:T.yb) || void 0 === ma?void 0:ma.sessionId) === O))return Qa;}return this.ga;};c.prototype.nPb=function(O){var T,ma;T=this;ma=O.K;this.Vj.HSb(ma);return this.s3a(O).then(function(ja){T.t1a(ja,O);return (O.bC?T.Mb.cl.y2a(O):Promise.resolve()).then(function(){return T.Vj.L3a(ma);});}).catch(function(ja){T.log.error("queueManifest failed",ja);T.Vj.GSb(ma,ja);throw T.Um(ja.code,ja);});};c.prototype.mzb=function(){if(L.ya(this.cd.ats) && L.ya(this.cd.at))return this.cd.at - this.cd.ats;};c.prototype.$Sa=function(){var O,T;O=this.BX();T=this.DR();return Math.min(O,T);};c.prototype.PW=function(){this.background || (this.Sc.info("Starting inactivity monitor for movie " + this.K),new w.mAa(this));};c.prototype.close=function(O){O && (this.state.value == P.Lb.CLOSED?O():this.addEventListener(P.Z.closed,function(){O();}));this.Vsa();};c.prototype.Md=function(O,T,ma){O=this.Um(O,T,ma);this.WE(O,void 0);};c.prototype.WE=function(O,T){var ma,ja,Qa,Fa;ma=this;if(this.state.value == P.Lb.vI)this.Yk || (this.Yk=O,this.load());else {T && (this.state.value == P.Lb.CLOSED?T():this.addEventListener(P.Z.closed,function(){T();}));ja=function(){ma.Vsa(O);};Qa=u.config.nQa && O && u.config.nQa[O.errorCode];Fa=-1;L.My(Qa) && (Fa=K.ue(Qa));this.Sc.error("Fatal playback error",{Error:"" + O,HandleDelay:"" + Qa});0 <= Fa?setTimeout(ja,Fa):ja();}};c.prototype.sX=function(){this.Qb.qc(P.Z.sX);};c.prototype.IE=function(O){var T;T=void 0 === T?this.va:T;this.$0a.push(this.Ja.Wb().ea(F.ma) + "-" + T + "-" + O);};c.prototype.lyb=function(){this.sSa();};c.prototype.Cka=function(){var O;if(null === (O=this.Ma) || void 0 === O?0:O.Ah)if((O=this.Ma.Tn().id,void 0 !== O))return O;return null;};c.prototype.IB=function(){var O,T;T=null === (O=this.Ma) || void 0 === O?void 0:O.Ah;return void 0 === this.ga.F1 || T?this.Nka(this.mediaTime.value):this.ga.F1;};c.prototype.Bka=function(){var O;O=this.Nka(this.Cg.ETa());return null === O?null:Math.min(this.Px.ea(F.ma),Math.max(0,O));};c.prototype.rT=function(){var O,T;return null === (T=null === (O=this.sa) || void 0 === O?void 0:O.Tc.Mn) || void 0 === T?void 0:T.wa;};c.prototype.uXb=function(O){this.ib=I.noa(this.ib,O);this.ffa();};c.prototype.hzb=function(){return this.Wd.value?this.Wd.value.streams:[];};c.prototype.HF=function(O){O=void 0 === O?this.K:O;return (O=this.oL(O).Rh) && O.value?O.value.streams:[];};c.prototype.iDb=function(O){for(var T=aa(this.GV),ma=T.next();!ma.done;ma=T.next()){if(ma=(ma=ma.value.Tk) && ma.find(function(ja){return ja.id === O;}))return ma;}};c.prototype.gOb=function(O){O=void 0 === O?this.ga:O;O.Uc.value?this.bq.dOb(O.Uc.value):Promise.resolve();};c.prototype.tVa=function(O){for(var T=aa(this.GV),ma=T.next();!ma.done;ma=T.next()){ma=aa(ma.value.Iq);for(var ja=ma.next();!ja.done;ja=ma.next()){if(ja=ja.value.streams.find(function(Qa){return Qa.Dd === O;}))return ja;}}};c.prototype.DVa=function(O){for(var T=aa(this.GV),ma=T.next();!ma.done;ma=T.next()){ma=aa(ma.value.yo);for(var ja=ma.next();!ja.done;ja=ma.next()){if(ja=(ja=ja.value) && ja.streams.find(function(Qa){return Qa.Dd === O;}))return ja;}}};c.prototype.ys=function(){var O,T,ma;return null !== (ma=null === (T=null === (O=this.Q6) || void 0 === O?void 0:O.kS) || void 0 === T?void 0:T.call(O)) && void 0 !== ma?ma:this.Hsb().BB;};c.prototype.b4a=function(O){var T,ma;null !== (T=this.Ma) && void 0 !== T && T.Ah && this.hr.has(O) && ((null === (ma=this.Q6) || void 0 === ma?0:ma.kS)?this.Q6.D6a():(T=this.sha(O),this.Ma.Wp(T,O)));};c.prototype.YFb=function(){return "trailer" === this.ke;};c.prototype.gFb=function(){return ! !this.ke && 0 <= this.ke.indexOf("billboard");};c.prototype.cGb=function(){return ! !this.ke && 0 <= this.ke.indexOf("video-merch");};c.prototype.CFb=function(){return ! !this.ke && 0 <= this.ke.indexOf("mini-modal");};c.prototype.aC=function(){return this.YFb() || this.gFb() || this.cGb() || this.CFb();};c.prototype.Wja=function(){var Qa,Fa,Wa;if(this.yo){for(var O,T=0;T < this.yo.length;T++){for(var ma=this.yo[T],ja=0;ja < ma.streams.length;ja++){Qa=ma.streams[ja];if(L.ya(Qa.tha) && L.ya(Qa.Q1) && L.ya(Qa.P1) && L.ya(Qa.O1) && (0 < Qa.tha || 0 < Qa.Q1)){Fa=1;Wa=1;L.ya(Qa.K0a) && L.ya(Qa.L0a) && (Fa=Qa.K0a,Wa=Qa.L0a);Qa=Qa.O1 * Wa / (Qa.P1 * Fa);O=L.ya(O)?Math.min(O,Qa):Qa;}}}return O;}};c.prototype.ZBb=function(){return {tr:this.Jta,rt:this.Ira};};c.prototype.sy=function(O){return this.Jj[O];};c.prototype.job=function(){return this.am?this.Ja.Wb().ea(F.ma) - this.am:this.xa.mf.ea(F.ma) - this.Z2();};c.prototype.dga=function(){var O;if(this.am)return this.Ja.Wb().ea(F.ma) - this.am;O=this.Ja.aG;return this.S0a - (this.Ul.ea(F.ma) + O.ea(F.ma));};c.prototype.vob=function(){return this.am?this.Ja.Wb().ea(F.ma) - this.am:this.S0a - this.Z2();};c.prototype.xKb=function(O){var T,ma;T=this.loadTime;ma={};K.ee(O,function(ja,Qa){ma[ja]=Qa.map(function(Fa){return Fa - T;});});return ma;};c.prototype.wzb=function(){var O,T;O=this.loadTime;T={};K.ee(this.Ifa,function(ma,ja){T[ma]=ja.map(function(Qa){return Qa - O;});});return h.Uu?{level:h.Uu.ZTa(),charging:h.Uu.Uja(),statuses:T}:null;};c.prototype.L3=function(){this.rSa();return this.DX;};c.prototype.Z2=function(){var O;O=this.ib.N8;O=L.ya(O)?O:this.Ul.ea(F.ma) + this.Ja.aG.ea(F.ma);G.hb(L.Ly(O));return O;};c.prototype.Hka=function(){return this.Ja.Wb().ea(F.ma) - this.Ul.ea(F.ma);};c.prototype.c4a=function(O,T){this.DX[O]=T;};c.prototype.SYb=function(){this.MTb=!0;};c.prototype.q6=function(){this.i2a();};c.prototype.BX=function(){var O;O=this.U0();return O && O.vbuflmsec || 0;};c.prototype.DR=function(){var O;O=this.U0();return O && O.abuflmsec || 0;};c.prototype.Cua=function(){var O;O=this.U0();return O && O.vbuflbytes || 0;};c.prototype.pfa=function(){var O;O=this.U0();return O && O.abuflbytes || 0;};c.prototype.s3a=function(O){var T,ma,ja;T=this;O=void 0 === O?this.ga:O;ma=O !== this.ga;ja=u.config.g7.enabled?M.nn.heb:ma?M.nn.KD:this.aC()?M.nn.Jba:M.nn.uq;ma=this.aC()?void 0:this.Mb.cl.s3(ma);return this.el.AT({da:O.da,ib:O.ib,$:O.K,kv:ja,Tf:ma}).then(function(Qa){Qa.QWa && T.fireEvent(P.Z.TL,{K:O.K});return Qa;});};c.prototype.t1a=function(O,T){T=void 0 === T?this.ga:T;T.sa=O;O=this.Lna.create(this).HMb(O);T.Yc=O;T.Rh.set(O.Oha);T.Wd.set(O.uS);T.Uc.set(O.Nha);};c.prototype.uyb=function(O){this.aH(O,!1);};c.prototype.wVa=function(O,T){if(!this.wk.xua)return !0;O=this.ut.ea(F.ma) - O;return 0 > O || O > T;};c.prototype.oRb=function(){this.Cg.seek(this.IB() || 0,P.pe.IY);};c.prototype.aH=function(O,T){var ma,ja;if(this.NM){if(O === this.uK){this.NM=O;return;}ma=this.oL(O);ja=ma.sa;ja && L.Kc(ja.PG) && L.Kc(ja.cN) && ma.Ay({pr_ats:ja.PG,pr_at:ja.cN});this.fireEvent(P.Z.Jna,{K:this.uK});this.uK=O;this.ffa();T || this.X2a();this.EL=this.xa.O7;this.ga.am || (this.ga.am=this.Ja.Wb().ea(F.ma));}("boolean" === typeof this.ib.LK?this.ib.LK:u.config.LK) && !T && this.Rta.LK(this);T={K:O,K4:T,NM:this.NM};this.NM=O;this.fireEvent(P.Z.cG,T);};c.prototype.xsb=function(){try{this.Mb=new k.kCa(this);this.iS=new ea.Ywa(this);this.AU=this.q5.create(this,this.ga,!0);u.config.Pob && new qa.Nya(this,this.Ij,this.log);u.config.YR && this.YR(this);this.rYb();}catch(O){this.Op(C.M.sbb,{oa:C.L.gj,rb:K.wd(O)});}};c.prototype.rYb=function(){this.Yk?this.WE(this.Yk):L.zma(this.K)?this.lpb():this.Op(C.M.ebb,{rb:"" + this.K});};c.prototype.lpb=function(){var O;O=m.oH.D3a;O?O.W?this.Lga():this.Op(C.M.iAa,O):(G.hb(!u.config.s2),this.Eea());};c.prototype.Lga=function(){var O;O=this;!this.background && u.config.Lga?y.jba(function(){O.Eea();},this):this.Eea();};c.prototype.Eea=function(){var O;O=this;this.state.value == P.Lb.LOADING && (u.config.Dia && !this.aC()?m.oH.qx(y.FEa,function(T){T.W?(O.o5=T.o5,u.config.L7?O.KR():O.lsa()):O.Op(C.M.hAa);},!0):u.config.L7?this.KR():this.lsa());};c.prototype.lsa=function(){var O;O=this;this.state.value == P.Lb.LOADING && (this.Qd("ic"),this.sNb.hSb(function(T){T.error && O.log.error("Error sending persisted playdata",C.Pr(T));try{O.KR();}catch(ma){O.log.error("playback.authorize threw an exception",ma);O.Op(C.M.q8a,{oa:C.L.gj,rb:K.wd(ma)});}}));};c.prototype.KR=function(){var O,T;O=this;if(this.state.value == P.Lb.LOADING){this.log.info("Authorizing",this);T=this.Ja.Wb().ea(F.ma);this.Qd("ats");this.iS.KR(function(ma){var ja;if(O.state.value == P.Lb.LOADING){O.Qd("at");ja=O.sa;O.Ay({pr_ats:ja && L.Kc(ja.PG)?ja.PG:T,pr_at:ja && L.Kc(ja.cN)?ja.cN:O.Ja.Wb().ea(F.ma)});ma.W?0 < O.Yc.Tk.length && O.Yc.uS && O.Yc.Oha && O.Yc.Nha?O.UOb():O.Op(C.M.$bb,O.Mna(O.Yc)):O.Op(C.M.naa,ma);}});}};c.prototype.UOb=function(){var O;O=this;this.a1a?(this.log.info("Processing post-authorize",this),this.a1a(this,function(T){T.W?O.H6a():O.Op(C.M.xbb,T);})):this.H6a();};c.prototype.H6a=function(){var O,T;f.__awaiter(this,void 0,void 0,function ja(){var Qa;Qa=this;return Ha(ja,function(Fa){if(Qa.state.value != P.Lb.LOADING)return Fa.return();(null === (O=Qa.ga.sa) || void 0 === O?0:O.Tc.Mn) && Qa.ob.reset(sa.nB(null === (T=Qa.ga.sa) || void 0 === T?void 0:T.Tc.Mn,{config:u.config}));Qa.Ma=Qa.ifa(Qa.ob,Qa);Qa.Ma.oTb({sm:g.sm,config:u.config,ye:Qa.ye,Sc:Qa.Sc,ht:Qa.ht.bind(Qa),hi:E.hi,BW:Qa.BW.bind(Qa),aH:Qa.aH.bind(Qa)});Qa.TNb();Fa.rG=0;});});};c.prototype.wtb=function(){var O,T,ma,ja,Qa,Fa;O=this;try{if(this.state.value === P.Lb.LOADING){this.Mb.open();T=new Promise(function(Wa){O.Mb.addEventListener(Q.kj.F4a,Wa);});this.Cg=new R.pCa(this);ma=this.Yc.uS.en === wa.xq.NONE;ja={Ng:!1,CU:!1,Hi:!this.bC,KM:! !this.ib.Q4,Ea:this.ib.Ea,XC:this.Yc.uS.Ky || ma};Qa={da:this.da,Iv:this.Cj,ey:this.ey};try{if(this.state.value !== P.Lb.LOADING)return;Fa=this.Ma;Fa.t4({flags:ja,$u:Qa,va:this.ob.yua?this.ob.Eh:this.ga.va,sha:this.sha.bind(this)});this.DPa(this.ob.B3(this));this.tlb();Fa.Anb({Jj:this.Jj,loadTime:this.loadTime});}catch(Wa){throw (this.log.error("Failed to initialize ASE streaming",{error:Wa,startPts:this.X,flags:ja}),Wa);}T.then(function(){var Wa;O.state.value !== P.Lb.CLOSING && O.state.value !== P.Lb.CLOSED && (null === (Wa=O.Ma) || void 0 === Wa?void 0:Wa.open());});this.mediaTime.set(this.X);this.bq=new n.zHa(this);if("boolean" === typeof this.ib.o7?this.ib.o7:u.config.o7)this.gX=new B.AHa(this);this.PW();y.lba.forEach(function(Wa){Wa(O);});this.CKb();}}catch(Wa){this.Op(C.M.ubb,{oa:C.L.gj,rb:K.wd(Wa)});}};c.prototype.DKb=function(){G.hb(this.state.value == P.Lb.vI);this.loadTime=this.Ja.Wb().ea(F.ma);this.state.set(P.Lb.LOADING);};c.prototype.Op=function(O,T){this.done || (this.done=!0,T instanceof S.ed?this.Md(T.code,T):this.Md(O,T));};c.prototype.YR=function(O){var ma,ja;function T(){var Qa,Fa;Qa=h.Uu.Uja() + "";Fa=O.Ifa[Qa];Fa || (Fa=O.Ifa[Qa]=[]);Fa.push(ma.Ja.Wb().ea(F.ma));ma.log.trace("charging change event",{level:h.Uu.ZTa(),charging:h.Uu.Uja()});}ma=this;ja=h.Uu.s9a;h.Uu.addEventListener(ja,T);O.addEventListener(P.Z.yg,function(){h.Uu.removeEventListener(ja,T);});};c.prototype.Vsa=function(O){var T,ma;T=this;if(this.state.value == P.Lb.vI || this.state.value == P.Lb.LOADING || this.state.value == P.Lb.ce){this.Sc.info("Playback closing",this,O?{ErrorCode:O.f2}:void 0);this.IE("Closing");x.nf.removeListener(x.Hm,this.D_a);this.Yk=O;this.ga.F1=this.IB();this.rSa();(null === (ma=this.Ma) || void 0 === ma?0:ma.Ah) && this.Ma.flush();try{this.Qb.qc(P.Z.yg,{movieId:this.uK});}catch(ja){this.Sc.error("Unable to fire playback closing event",ja);}this.state.set(P.Lb.CLOSING);this.d8a();this.MTb || H.gg(function(){return T.i2a();});}};c.prototype.byb=function(){this.Qb.qc(P.Z.B6a);};c.prototype.sSa=function(){var O;O=this.mediaTime.value;this.MGb != O && (!1,this.MGb=O,this.Qb.qc(P.Z.zta));};c.prototype.i2a=function(){var O,T;O=this;G.hb(this.state.value == P.Lb.CLOSING);T=this.o5;this.o5=void 0;T?m.oH.release(T,function(ma){G.hb(ma.W);O.Rga();}):this.Rga();};c.prototype.d8a=function(){var O;null === (O=this.Ma) || void 0 === O?void 0:O.Lc();delete this.Ma;delete this.K8b;delete this.J8b;};c.prototype.Rga=function(){var O;this.Rga=p.Ik;G.hb(this.state.value == P.Lb.CLOSING);O=y.rn.indexOf(this);G.hb(0 <= O);y.rn.splice(O,1);this.state.set(P.Lb.CLOSED);this.Qb.qc(P.Z.closed,void 0,!0);this.Qb.hh();delete this.Ye;this.ga.q6();};c.prototype.ffa=function(){this.ib.playbackState && ("number" === typeof this.ib.playbackState.volume && this.volume.set(J.Eo(this.ib.playbackState.volume,0,1)),"boolean" === typeof this.ib.playbackState.muted && this.muted.set(this.ib.playbackState.muted),"number" === typeof this.ib.playbackState.playbackRate && this.playbackRate.set(this.ib.playbackState.playbackRate));};c.prototype.rSa=function(){this.Qb.qc(P.Z.p4a,{DX:this.DX});};c.prototype.BW=function(O,T,ma){var ja;O=this.Ap(O);ja=O.Tk.filter(function(Qa){return Qa.id === T;})[0];ja && O.pc[ma].set(ja);};c.prototype.ht=function(){return {AudioBufferLength:this.DR(),VideoBufferLength:this.BX()};};c.prototype.U0=function(){var O;if(null === (O=this.Ma) || void 0 === O?0:O.Ah)return this.Ma.y4(!1);};c.prototype.CKb=function(){this.state.value == P.Lb.LOADING && this.state.set(P.Lb.ce);};c.prototype.Hsb=function(){var O,T,ma;O=void 0 === O?this.K:O;T=this.HF(O);ma=this.oL(O);return ua.ys(T,function(ja){return ma.bM.Rt(ja);});};c.prototype.sha=function(O){var T,ma;O=void 0 === O?this.K:O;T=this.HF(O);ma=this.oL(O);return ua.lVa(T,function(ja){return ma.bM.Rt(ja);});};c.prototype.DPa=function(O){var T;T=this;Object.keys(O.wa).filter(function(ma){return !T.hr.has(T.ob.De(ma).$);}).forEach(function(ma){var ja,Qa,Fa;Qa=T.ob.De(ma);Fa=Qa.$;Qa=Object.assign(null !== (ja=T.Vj.wL(Fa).Jb) && void 0 !== ja?ja:{},{X:Qa.jc,Ea:Qa.Fc,al:!1,N8:Date.now(),Q4:!0});T.TLa({$:Fa,va:ma,ib:Qa});});};Va.Object.defineProperties(c.prototype,{GV:{configurable:!0,enumerable:!0,get:function(){return this.hr.values();}},ga:{configurable:!0,enumerable:!0,get:function(){return this.hr.get(this.uK);}},X:{configurable:!0,enumerable:!0,get:function(){var O,T;return void 0 !== this.OE?this.OE:null !== (T=null === (O=this.GV.next()) || void 0 === O?void 0:O.value.ib.X) && void 0 !== T?T:0;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.ga.Yc;},set:function(O){this.ga.Yc=O;}},Q2:{configurable:!0,enumerable:!0,get:function(){return this.ga.ib.Q2;}},R2:{configurable:!0,enumerable:!0,get:function(){return this.ga.ib.R2;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ga.index;}},va:{configurable:!0,enumerable:!0,get:function(){return this.ga.va;}},Ye:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ye;},set:function(O){this.ga.Ye=O;}},am:{configurable:!0,enumerable:!0,get:function(){return this.ga.am;},set:function(O){this.ga.am=O;}},SE:{configurable:!0,enumerable:!0,get:function(){return this.ga.SE;},set:function(O){this.ga.SE=O;}},RE:{configurable:!0,enumerable:!0,get:function(){return this.ga.RE;},set:function(O){this.ga.RE=O;}},s4:{configurable:!0,enumerable:!0,get:function(){return this.ga.s4;},set:function(O){this.ga.s4=O;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.ga.sa;},set:function(O){this.ga.sa=O;}},OE:{configurable:!0,enumerable:!0,get:function(){return this.ga.OE;},set:function(O){this.ga.OE=O;}},ZW:{configurable:!0,enumerable:!0,get:function(){return this.ga.ZW;},set:function(O){this.ga.ZW=O;}},ib:{configurable:!0,enumerable:!0,get:function(){return this.ga.ib;},set:function(O){this.ga.ib=O;}},AU:{configurable:!0,enumerable:!0,get:function(){return this.ga.AU;},set:function(O){this.ga.AU=O;}},jo:{configurable:!0,enumerable:!0,get:function(){return this.ga.jo;}},K:{configurable:!0,enumerable:!0,get:function(){return this.ga.K;}},ke:{configurable:!0,enumerable:!0,get:function(){return this.ga.ke;}},Iq:{configurable:!0,enumerable:!0,get:function(){return this.ga.Iq;}},yo:{configurable:!0,enumerable:!0,get:function(){return this.ga.yo;}},Nz:{configurable:!0,enumerable:!0,get:function(){return this.ga.Nz;}},$l:{configurable:!0,enumerable:!0,get:function(){return this.ga.$l;}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ti;}},bC:{configurable:!0,enumerable:!0,get:function(){return this.ga.bC;}},Ft:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ft;}},Jl:{configurable:!0,enumerable:!0,get:function(){return this.ga.Jl;}},Tk:{configurable:!0,enumerable:!0,get:function(){return this.ga.Tk;}},Px:{configurable:!0,enumerable:!0,get:function(){return this.ga.Px;},set:function(O){this.ga.Px=O;}},da:{configurable:!0,enumerable:!0,get:function(){return this.ga.da;}},Dk:{configurable:!0,enumerable:!0,get:function(){return this.ga.Dk;}},Ul:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ul;}},EL:{configurable:!0,enumerable:!0,get:function(){return this.ga.EL;},set:function(O){this.ga.EL=O;}},Cj:{configurable:!0,enumerable:!0,get:function(){return this.ga.Cj;}},dH:{configurable:!0,enumerable:!0,get:function(){return this.ga.dH;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ga.background;},set:function(O){this.ga.background=O;}},xha:{configurable:!0,enumerable:!0,get:function(){return this.ga.xha;}},cd:{configurable:!0,enumerable:!0,get:function(){return this.ga.cd;}},ep:{configurable:!0,enumerable:!0,get:function(){return this.ga.ep;}},ria:{configurable:!0,enumerable:!0,get:function(){return this.ga.ria;}},bM:{configurable:!0,enumerable:!0,get:function(){return this.ga.bM;}},ey:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.j2 && 0 === this.ga.da % u.config.j2;}},mh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Dk,Xid:this.da};}},U6:{configurable:!0,enumerable:!0,get:function(){return this.ob.U6;}}});b.JEa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.X4a=void 0;c=a(12);f=a(7);l=a(3);a(24);b.X4a=function(m){var d;f.hi("Storage");d={};m({W:!0,storage:{load:function(g,h){var k;if(d.hasOwnProperty(g)){k=d[g];!1;h({W:!0,data:k,f8:g});}else (!1,h({oa:l.L.xA}));},save:function(g,h,k,n){k && d.hasOwnProperty(g)?n({W:!1}):(d[g]=h,!1,n && n({W:!0,f8:g}));},remove:function(g,h){delete d[g];!1;h && h(c.Le);}}});};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.V4a=void 0;c=a(7);f=a(78);l=a(28);m=a(495);b.V4a=function(d){c.ha.get(f.aA).create().then(function(g){d({W:!0,storage:new m.faa(g,c.ha.get(l.Kf))});}).catch(function(g){d(g);});};},function(r,b){function a(c,f){this.Su=c;this.ye=f;}Object.defineProperty(b,"__esModule",{value:!0});b.faa=void 0;a.prototype.load=function(c,f){var l;l=this;this.Su.load(c).then(function(m){f && f(a.k5a(m));}).catch(function(m){f && f(l.Jia(c,m));});};a.prototype.save=function(c,f,l,m){var d;d=this;this.Su.save(c,f,l).then(function(){m && m(a.k5a({key:c,value:f}));}).catch(function(g){m && m(d.Jia(c,g));});};a.prototype.remove=function(c,f){var l;l=this;this.Su.remove(c).then(function(){f && f({W:!0,f8:c});}).catch(function(m){f && f(l.Jia(c,m));});};a.k5a=function(c){return {W:!0,data:c.value,f8:c.key};};a.prototype.Jia=function(c,f){return {W:!1,f8:c,oa:f.oa,rb:f.cause?this.ye.wd(f.cause):void 0};};b.faa=a;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.W4a=void 0;c=a(495);f=a(7);l=a(351);m=a(28);b.W4a=function(d){d({W:!0,storage:new c.faa(f.ha.get(l.XAa),f.ha.get(m.Kf))});};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.Uu=void 0;c=a(12);f=a(13);r=a(3);l=a(7);m=a(29);d=a(11);g=a(32);h=a(18);k=a(60);n=a(4);a=l.ha.get(g.Yg);q=l.ha.get(k.Kw);a.register(r.M.Tza,function(p){var w,x;function t(){p(c.Le);t=m.Ik;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(A){if(!h.Oc(y[A]))throw A + " is not a function";});}function v(){return Promise.resolve().then(function(){var y;y=d.Ve.getBattery();if(!h.Oc(y.then))throw "getBattery did not return a promise";return y;});}w=l.hi("BatteryManager");b.Uu={s9a:"chargingchange",ZTa:function(){return x?x.level:null;},Uja:function(){return x?x.charging:null;},addEventListener:function(y,A){x && x.addEventListener(y,A);},removeEventListener:function(y,A){x && x.removeEventListener(y,A);}};f.config.YR && h.Oc(d.Ve.getBattery)?q.Up(n.xc(f.config.vzb),v()).then(function(y){u(y);x=y;}).catch(function(y){w.error("getBattery failed",y);}).then(t):t();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RAa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,f){var l;l=this;this.nUa=c;this.B_a=f;this.Gta=!1;this.wM=function(){l.so=void 0;l.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;a.prototype.update=function(c){var f,l,m,d,g;m=this.nUa();if(this.V6a !== m){d=null === (l=null === (f=this.eo) || void 0 === f?void 0:f.xF(m)) || void 0 === l?void 0:l[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){g=d;this.M6a(d.endTime - m);}else this.M6a(d.startTime - m);this.V6a=m;this.Gea !== g && (this.Gea=g,!c && this.B_a && this.B_a());}};a.prototype.start=function(){this.Gta=!0;this.update();};a.prototype.Q3a=function(c){this.eo=c;this.Gea=this.V6a=void 0;c || this.stop();};a.prototype.stop=function(){this.Gta=!1;this.Br();};a.prototype.azb=function(){this.update(!0);return this.Gea;};a.prototype.M6a=function(c){this.Br();this.Gta && 0 < c && (this.so=setTimeout(this.wM,c + a.Gcb));};a.prototype.Br=function(){this.so && (clearTimeout(this.so),this.so=void 0);};b.BHa=a;a.Gcb=10;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;c=a(17);f=a(72);b.Jza=function(l){function m(d){l.fireEvent(c.Z.mF,{response:d,K:l.ga.K});}return {download:function(d,g){d.j=l;d=f.Ff.download(d,g);d.Iea(m);return d;}};};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;c=a(13);f=a(50);l=a(3);m=a(502);d=a(11);g=a(18);h=a(17);k=a(7);n=a(205);b.mAa=function(q){var t,u,v,w;function p(){q.state.value !== h.Lb.ce || q.bc.value !== h.Eb.Xh && q.bc.value !== h.Eb.fu?u.Br():u.qF();}t=c.config.RMb;if(!q.aC() && t){u=k.ha.get(n.UZ)(t,function(){q.fireEvent(h.Z.CL,l.M.tZ);});q.bc.addListener(p);q.state.addListener(p);if(c.config.Pla){v=f.Ii();w=new m.PFa(c.config.Pla,function(){var x,y;x=f.Ii();y=x - v;y > t && (q.fireEvent(h.Z.CL,l.M.ZY),w.AOa());y > 2 * c.config.Pla && (q.Qla=d.pn(y,q.Qla || 0));v=x;});w.fTb();}q.addEventListener(h.Z.yg,function(){u.Br();g.Kc(w) && w.AOa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PFa=void 0;b.PFa=function(a,c){var f;this.fTb=function(){f || (f=setInterval(c,a));};this.AOa=function(){f && (clearInterval(f),f=void 0);};};},function(r,b,a){var f,l,m,d,g,h,k;function c(n){var q,p,t,u;q=this;this.j=n;this.kS=void 0;this.Sca=m.createElement("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Hca=m.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.xca=m.createElement("DIV","width:100%;text-align:center");this.Ofb=this.Jca("Audio Bitrate");this.wea=this.Jca("Video Bitrate");this.Aca=this.Jca("CDN");this.QQ={};this.N3=d.ha.get(g.em);this.Sca.appendChild(this.Hca);this.Hca.appendChild(this.xca);p=m.createElement("BUTTON",void 0,"Override");p.addEventListener("click",this.Hfb.bind(this),!1);this.xca.appendChild(p);p=m.createElement("BUTTON",void 0,"Reset");p.addEventListener("click",this.Tjb.bind(this),!1);this.xca.appendChild(p);t=this.ajb.bind(this);l.nf.addListener(l.NB,t);n.addEventListener(k.Z.cG,function(){q.QQ={};});n.addEventListener(k.Z.yg,function(){l.nf.removeListener(l.NB,t);});u=this.Fjb.bind(this);n.pc.forEach(function(v){v.addListener(u);});n.Wd.addListener(u);n.Rh.addListener(u);}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;f=a(52);l=a(63);m=a(29);d=a(7);g=a(39);h=a(128);k=a(17);c.prototype.show=function(){this.lR || (this.UKa(),document.body.appendChild(this.Sca),this.lR=!0);};c.prototype.Xq=function(){this.lR && (document.body.removeChild(this.Sca),this.lR=!1);};c.prototype.toggle=function(){this.lR?this.Xq():this.show();};c.prototype.D6a=function(){var p,t,u,v;function n(w,x,y){var A,z,B;z=[];x.filter(function(D){return D.Kg === w;}).forEach(function(D){0 <= y.indexOf(D)?(void 0 === B?B=D.bitrate:A=D.bitrate,void 0 === A && (A=D.bitrate)):void 0 !== B && void 0 !== A && (z.push({min:B,max:A}),B=A=void 0);});if(void 0 !== B && void 0 !== A){z.push({min:B,max:A});B=A=void 0;}return z;}function q(w,x,y){var A;A=[];x.filter(function(z){return z.Kg === w;}).forEach(function(z){-1 === y.indexOf(z) && A.push({stream:{bitrate:z.bitrate},disallowedBy:["manual"]});});return A;}t=this.j.ys();u=this.j.HF().sort(function(w,x){return w.bitrate - x.bitrate;});v=u.reduce(function(w,x){0 > w.indexOf(x.Kg) && w.push(x.Kg);return w;},[]).map(function(w){return {profile:w,ranges:n(w,u,t),disallowed:q(w,u,t)};});!1;null === (p=this.j.Ma) || void 0 === p?void 0:p.Wp(v,this.j.K);};c.prototype.Hfb=function(){var p,t;this.QQ={};for(var n=this.wea.options,q=n.length;q--;){p=n[q];p.selected && (this.QQ[p.value]=1);}this.kS=this.mgb.bind(this);this.D6a();if(n=this.j.Tk){t=this.Aca.value;n=n.filter(function(u){return u.id == t;})[0];q=this.j.pc[f.Pb.Ra.Fb].value;n && n != q && (n.eOa={testreason:"streammanager",selreason:"userselection"},this.j.pc[f.Pb.Ra.Fb].set(n));}this.Xq();};c.prototype.Tjb=function(){this.kS=void 0;this.j.b4a(this.j.K);this.Xq();};c.prototype.mgb=function(){var n;n=this;return this.j.HF().filter(function(q){return n.QQ[q.bitrate];});};c.prototype.UKa=function(){var n,q,p,t;n=this;q=this.j.Wd.value;p=this.j.Rh.value;t=this.j.Tk;q && (t=t.slice(),t.sort(function(u,v){return u.ie - v.ie;}),this.fea(this.Ofb,q.streams.map(function(u){return {value:u.bitrate,caption:u.bitrate,selected:u == n.j.dk.value};})));p && (this.fea(this.wea,p.streams.map(function(u){var v,w;v=n.j.bM.Rt(u);u=u.bitrate;w="" + u;v && (w+=" (" + v.join("|") + ")");return {value:u,caption:w,selected:n.kS?n.QQ[u]:!v};})),this.wea.removeAttribute("disabled"));t && (this.fea(this.Aca,t.map(function(u){return {value:u.id,caption:"[" + u.id + "] " + u.name,selected:u == n.j.pc[f.Pb.Ra.Fb].value};})),this.Aca.removeAttribute("disabled"));};c.prototype.Fjb=function(){this.lR && this.UKa();};c.prototype.Jca=function(n){var q,p;q=m.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");n=m.createElement("DIV",void 0,n);p=m.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});q.appendChild(n);q.appendChild(p);this.Hca.appendChild(q);return p;};c.prototype.fea=function(n,q){n.innerHTML="";q.forEach(function(p){var t;t={title:p.caption};p.selected && (t.selected="selected");t=m.createElement("option",void 0,p.caption,t);t.value=p.value;n.appendChild(t);});};c.prototype.ajb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.hu.seb && this.N3.Fma && this.toggle();};b.REa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.sja=h;this.pF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.M3a(k);this.ySa=this.vAb(this.sja);}Object.defineProperty(b,"__esModule",{value:!0});b.yHa=void 0;f=a(29);l=a(505);m=a(506);d=a(11);g=a(24);c.prototype.xp=function(){return this.element;};c.prototype.tSb=function(h){this.kfa=h;};c.prototype.DSb=function(h){this.entry=h;this.ZM();};c.prototype.KSb=function(h){this.M3a(h);this.ZM();};c.prototype.ZM=function(){var h,k,n,q,p,t,u,v,w,x,y,z,B,D;h=this;k=this.xp();n=k.parentElement;q=n && n.clientWidth || 0;p=n && n.clientHeight || 0;t=n=0;u={width:q,height:p};if(0 < q && 0 < p && this.entry){this.kfa && (u=f.XK(q,p,this.kfa),n=Math.round((q - u.width) / 2),t=Math.round((p - u.height) / 2));w=this.zob(u);x=f.XK(w.width,w.height,this.kfa);w=(v=this.entry.blocks) && v.map(function(E){var F;F=m.Fia(E,x,h.sja,h.ySa);E=m.GRa(E) + ";position:absolute";return f.createElement("div",E,F,c.j$);});}Object.assign(this.pF,{left:n + "px",right:n + "px",top:t + "px",bottom:t + "px"});k.style.display="none";k.style.direction=this.pF.direction;k.innerHTML="";if(w && w.length){q=u.width;n=u.height;y=u;this.QR && (y=this.Tkb(u,this.QR,p,t));this.pF.margin=this.er?this.m1(u,"top") + "px " + this.m1(u,"right") + "px " + this.m1(u,"bottom") + "px " + this.m1(u,"left") + "px ":void 0;w.forEach(function(E){return k.appendChild(E);});p=f.bF(this.pF);k.style.cssText=p + ";visibility:hidden;z-index:-1";t=[];for(var A=w.length - 1;0 <= A;A--){z=w[A];B=v[A];D=this.c_a(z,B,q,n);D.width > q && (z.innerHTML=m.Fia(B,u,this.sja,this.ySa,q / D.width),D=this.c_a(z,B,q,n));t[A]=D;}t=l.v6a(t,y);if(A=v && v[0] && v[0].textNodes && v[0].textNodes[0] && v[0].textNodes[0].style)(y=A.windowColor,A=A.windowOpacity,y && 0 < A && (u=m.IRa(v,t,Math.round(n / 50),y,u),u=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + A,u,c.j$),k.insertBefore(u,k.firstChild)));k.style.display="none";for(u=t.length - 1;0 <= u;u--){y=w[u].style;A=m.HRa(v[u].region,t[u],q,n,0);Object.assign(y,A);}k.style.cssText=p;}};c.prototype.Dsa=function(h){this.QR=h;this.ZM();};c.prototype.Yka=function(){return this.QR;};c.prototype.Esa=function(h){this.er=h;this.ZM();};c.prototype.Zka=function(){return this.er;};c.prototype.$ka=function(){return "block" === this.pF.display;};c.prototype.Fsa=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.pF.display=k;h && this.ZM();};c.prototype.vAb=function(h){var k,n;k=this;n={};g.ee(h,function(q,p){n[q]=k.ZIb(p);});return n;};c.prototype.M3a=function(h){this.pF.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.m1=function(h,k){if(this.er){if("left" === k || "right" === k)return h.width * (this.er[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.er[k] || 0);}return 0;};c.prototype.zob=function(h){return this.er?{height:h.height * (1 - (this.er.top || 0) - (this.er.bottom || 0)),width:h.width * (1 - (this.er.left || 0) - (this.er.right || 0))}:h;};c.prototype.ZIb=function(h){var k;h=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.j$);d.Ke.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Ke.body.removeChild(h);return k;};c.prototype.c_a=function(h,k,n,q){var p,t,u,v,w;p=k.region;t=(p.marginTop || 0) * q;u=(p.marginBottom || 0) * q;v=(p.marginLeft || 0) * n;w=(p.marginRight || 0) * n;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(p.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - u - h) / 2;break;default:q=q - u - h;}switch(p.horizontalAlignment){case "left":n=v;break;case "right":n=n - w - k;break;default:n=(v + n - w - k) / 2;}return {top:q,left:n,width:k,height:h};};c.prototype.Tkb=function(h,k,n,q){return {height:n - Math.max(q,k.bottom || 0) - Math.max(q,k.top || 0),width:h.width};};b.yHa=c;c.j$={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.v6a=void 0;c=a(11);b.v6a=function(f,l){function m(h,k,n){var u,w,x,y,A;if(h && 1 < h.length){for(var q=[],p=[],t=0;t < h.length;t++){q[t]=0;p[t]=0;}u=!1;for(t=0;t < h.length;t++){for(var v=t + 1;v < h.length;v++){w=h[t];x=h[v];if(0 > w.width || 0 > x.width || x.left > w.left + w.width || x.left + x.width < w.left || x.top > w.top + w.height?0:x.top + x.height >= w.top){y=c.pn(w.left,x.left);A=c.pn(w.top,x.top);y={width:c.pn(c.Do(w.left + w.width,x.left + x.width) - y,0),height:c.pn(c.Do(w.top + w.height,x.top + x.height) - A,0),x:y,y:A};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((A=y.width <= y.height,w=d(h[t]),x=d(h[v]),A && k || !A && !k))(y=c.pn(y.width / 2,.25),w.x <= x.x?(p[t]-=y,p[v]+=y):(p[v]-=y,p[t]+=y));else if(A && !k || !A && k)(w=c.pn(y.height / 2,.25),q[t]-=w,q[v]+=w);}}for(t=0;t < h.length;t++){if(-.25 > p[t] && 0 <= h[t].left + p[t] || .25 < p[t] && h[t].left + h[t].width + p[t] <= n.width)(h[t].left+=p[t],u=!0);if(-.25 > q[t] && 0 <= h[t].top + q[t] || .25 < q[t] && h[t].top + h[t].height + q[t] <= n.height)(h[t].top+=q[t],u=!0);}return u;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}f=f.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=c.Do(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=c.Do(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=c.Do(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=c.Do(n.top + n.height - k.height,n.top));});})(f,l);for(var g=0;50 > g && m(f,!0,l);g++){;}for(g=0;50 > g && m(f,!1,l);g++){;}return f;};},function(r,b,a){var g,h,k;function c(n,q,p,t,u){var v;v={};"right" == n.horizontalAlignment?v.right=100 * (p - q.left - q.width - u) / p + "%":v.left=100 * (q.left - u) / p + "%";"bottom" == n.verticalAlignment?v.bottom=100 * (t - q.top - q.height - u) / t + "%":v.top=100 * (q.top - u) / t + "%";return v;}function f(n,q){var p;if(n && q){40 === q.x && 19 === q.y?p=4 / 3 / (40 / 19):52 === q.x && 19 === q.y && (p=16 / 9 / (52 / 19));if(p)return n.width / n.fontSize / p;}}function l(n,q,p,t,u){var v,w;v=n.style;w=h.WT(n.text);for(n=n.lineBreaks;n--;){w="<br />" + w;}return m(w,v,q,p,t,u);}function m(n,q,p,t,u,v){var w;w=q.characterStyle;u=u[w];w=0 <= w.indexOf("MONOSPACE")?f(u,q.cellResolution) || u.lineHeight:u.lineHeight;t=q.characterSize * t.height / (w || 1);t=0 < v?k.Ew(t * v):k.wi(t);v={"font-size":t + "px","line-height":"normal","font-weight":"normal"};q.characterItalic && (v["font-style"]="italic");q.characterUnderline && (v["text-decoration"]="underline");q.characterColor && (v.color=q.characterColor);q.backgroundColor && 0 !== q.backgroundOpacity && (v["background-color"]=d(q.backgroundColor,q.backgroundOpacity));t=q.characterEdgeColor || "#000000";switch(q.characterEdgeAttributes){case "DROP_SHADOW":v["text-shadow"]=t + " 0px 0px 7px";break;case "UNIFORM":v["text-shadow"]="-1px 0px " + t + ",0px 1px " + t + ",1px 0px " + t + ",0px -1px " + t;break;case "RAISED":v["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":v["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}v=g.bF(v);(p=p[q.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (v+=";" + p);q=q.characterOpacity;0 < q && 1 > q && (n='<span style="opacity:' + q + '">' + n + "</span>");return '<span style="' + v + '">' + n + "</span>";}function d(n,q){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== q?q:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.GRa=b.Qwb=b.Owb=b.Rwb=b.Pwb=b.HRa=b.IRa=b.Fia=void 0;g=a(49);h=a(24);k=a(11);b.Fia=function(n,q,p,t,u){var v;v="";n.textNodes.forEach(function(w){v+=l(w,p,q,t,u);});return v;};b.IRa=function(n,q,p,t,u){var v,w,y,A,z;v="";w=u.width;u=u.height;for(var x=q.length;x--;){y=q[x];A=n[x];A=A && A.region;z="position:absolute;background:" + t + ";width:" + k.wi(y.width + 2 * p) + "px;height:" + k.wi(y.height + 2 * p) + "px;";y=c(A,y,w,u,p);h.ee(y,function(B,D){z+=B + ":" + D + ";";});v+='<div style="' + z + '"></div>';}return v;};b.HRa=c;b.Pwb=f;b.Rwb=l;b.Owb=m;b.Qwb=d;b.GRa=function(n){var q;q={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":q["text-align"]="left";break;case "right":q["text-align"]="right";break;default:q["text-align"]="center";}return g.bF(q);};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.GEa=void 0;c=a(12);f=a(13);l=a(50);m=a(86);d=a(11);g=a(61);h=a(18);k=a(17);b.GEa=function(n){var u,v,w,x,y,A;function q(){return n.state.value === k.Lb.LOADING || n.state.value === k.Lb.ce && n.bc.value === k.Eb.Hg;}function p(){q()?A || (A=setInterval(t,100)):A && (clearInterval(A),A=void 0,g.gg(t));}function t(){var z,B,D,E,F,C,G,J;z=l.Ii();B=u.value;D=B?B.progress:0;E=n.state.value == k.Lb.LOADING || q() && z - v > f.config.aob;if(E && n.state.value == k.Lb.ce){if(n.jf.value === k.df.jGa)(F=D,C=!0);else {G=z;w=w || z;x=x || w + f.config.FJb + 1;h.ya(G) && (G=d.pn(G,x),F=d.wi(1E3 * m.Eo((z - w) / (G - w),0,.99)) / 1E3);}if(F < D)if(D - F < f.config.aPb / 100)(F=D,y=void 0);else if(y){if(z - y > f.config.$Ob){J=!0;y=void 0;}else F=D;}else (y=z,F=D);}else y=x=w=void 0;z=E?{c8:C,progress:F,bPb:J}:null;(!z || !u || !B || h.ya(z.progress) && !h.ya(B.progress) || h.ya(z.progress) && h.ya(B.progress) && .01 < d.wD(z.progress - B.progress) || z.c8 !== B.c8) && u.set(z);}u=n.Zfa;v=0;n.state.addListener(function(){p();t();},c.sZ);n.bc.addListener(function(z){if(z.oldValue !== k.Eb.Hg || z.newValue !== k.Eb.Hg)v=l.Ii();p();});n.jf.addListener(function(){p();});n.Jq.addListener(function(){p();});n.Zl.addListener(function(){p();});A || (A=setInterval(t,100));};},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K;function c(H){var L;L=this;this.j=H;this.Mb=this.j.Mb;this.log=n.ih(this.j,"MediaPresenterASE");this.f6=this.V1=0;this.la=this.Mb.la;this.N0a=this.E0a=this.S4=this.Vpa=!1;this.tVb=n.ha.get(D.HI)(B.xc(A.LZ));this.UJ=void 0;this.oo=n.ha.get(F.rGa)(this.j);this.iw={};this.lZa={};this.mVa={};this.ig=new G.bCa(this.j);this.rVb=function(){var R,I,Q;L.j.ZW=k.Ii();if(!L.Gj() && L.Im){R=L.Mb.OUa();R || (L.cNb(),L.ig.Uta(L.mediaTime));L.j.paused.value || !L.ig.Lha(L.mediaTime) || !L.Wfa() || R || L.oo.yma?L.Ora():L.Vpa || L.Pra();L.bNb();if(!L.Mb.OUa() && !L.S4){R=L.Mb.uT(!0);I=L.j.bc.value;Q=L.gqb();I !== Q && !1;Q === x.Eb.fu?(L.mediaTime=L.j.ut.ea(B.ma),L.Ora()):Q !== x.Eb.Hg && L.sXb(R);L.P6a();L.ig.rga(L.mediaTime);L.j.bc.set(Q);Q !== x.Eb.Hg || I !== x.Eb.Hc && I !== x.Eb.Xh || L.LLb();}}};this.ol=C.y1a(this.rVb);this.mediaTime=H.X;this.j.Bl=!1;this.Mb.addEventListener(z.kj.E4a,function(){L.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{L.nb();}catch(R){L.log.error("Exception while initializing",R);L.Md(q.M.Adb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;f=a(52);l=a(12);m=a(13);d=a(62);g=a(63);h=a(49);k=a(50);n=a(7);a(94);q=a(3);p=a(320);t=a(21);u=a(86);v=a(29);w=a(61);x=a(17);y=a(18);A=a(170);z=a(281);B=a(4);D=a(107);E=a(205);F=a(509);C=a(1109);G=a(1110);J=a(1111);K=a(204);c.prototype.ETa=function(){return this.Mb.uT(!1);};c.prototype.k3=function(){return this.Mb.k3();};c.prototype.EB=function(){return this.Mb.EB();};c.prototype.yF=function(){return this.Mb.yF();};c.prototype.tT=function(){return this.Mb.tT();};c.prototype.o3=function(){return this.Mb.o3();};c.prototype.nb=function(){var H;H=this;this.log.trace("Video element initializing");this.Mb.sourceBuffers.forEach(function(L){return H.ig.aTb(L);});this.EEb(this.j.bC);};c.prototype.EEb=function(H){var L,R;L=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (R=this.j.Ma) || void 0 === R?void 0:R.by(this.j.K));this.log.trace("Waiting for loadedmetadata");this.Mb.addEventListener(z.kj.QXa,function(I){var Q;I=I.$;L.j.Qd("ld",I);null === (Q=L.j.Ma) || void 0 === Q?void 0:Q.by(I);L.j.fireEvent(x.Z.NXa);});h.YLa(this.la,"loadedmetadata",function(){L.log.trace("Video element event: loadedmetadata");L.j.Qd("md");});g.nf.addListener(g.Hm,this.mVa[g.Hm]=function(){return L.close();},l.HD);this.j.addEventListener(x.Z.yg,function(){return L.close();},l.HD);this.j.addEventListener(x.Z.d3a,function(){return L.Pra();});this.j.addEventListener(x.Z.cG,function(){return L.yLb();});this.j.paused.addListener(function(){return L.ol();});this.j.muted.addListener(function(){return L.pua();});this.j.volume.addListener(function(){return L.pua();});this.j.playbackRate.addListener(function(){return L.Q8();});this.j.Jq.addListener(function(){return L.ol();});this.j.Zl.addListener(function(){return L.ol();});this.pua();this.Q8();this.ig.R7(function(){return L.E5();});this.E5();this.LWb();};c.prototype.Q0=function(H){var L;L=this;!1;this.ig.hmb(H);this.Yob(H).then(function(){L.E5();L.j.fireEvent(x.Z.D5);}).catch(function(R){L.Md(q.M.Edb,{rb:v.wd(R)});});};c.prototype.bfa=function(H,L,R){R=void 0 === R?{}:R;L=this.Ovb(H,L);this.ig.fmb(H,L,R);this.E5();this.E0a || H.type !== f.Pb.Gk.Fb || (this.oo.yma || this.seek(this.j.X,x.pe.Cw),this.E0a=!0);};c.prototype.LWb=function(){var H;H=this;this.Mb.addEventListener(z.kj.vW,this.iw[z.kj.vW]=function(){return H.PLb();});this.Mb.addEventListener(z.kj.Pq,this.iw[z.kj.Pq]=function(){return H.u6();});this.la.addEventListener("ended",this.iw.ended=function(){return H.tLb();});this.la.addEventListener("play",this.iw.play=function(){return H.CLb();});this.la.addEventListener("pause",this.iw.pause=function(){return H.ALb();});this.la.addEventListener("playing",this.iw.playing=function(){return H.ILb();});this.Im=!0;this.ig.Uta(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Qd("vi");m.config.oQa?setTimeout(function(){H.hpa=!0;H.ol();},m.config.oQa):this.hpa=!0;this.mUb();w.gg(function(){return H.ol();});};c.prototype.mUb=function(){var R;function H(){var I;R.j.bc.value === x.Eb.Hc && 0 === (null === (I=R.j.Cg) || void 0 === I?void 0:I.k3())?(R.b_a.qF(),I="ensureTimer"):(R.b_a.Br(),I="stopTimer");R.log.trace("No render timer update: " + I,{presentingState:x.Eb[R.j.bc.value]});}function L(I){var Q,N;I=void 0 === I?!0:I;Q=R.j.Ma;N=(null === Q || void 0 === Q?void 0:Q.Ah) && Q.V3();R.j.bc.value == x.Eb.Hg && R.j.state.value == x.Lb.ce && R.j.Jq.value == x.df.ce && R.j.Zl.value == x.df.ce && !R.j.Bl && N?(I && R.X1.Br(),R.X1.qF(),Q="ensureTimer"):(R.X1.Br(),Q="stopTimer");R.log.trace("Timer update: " + Q,{presentingState:x.Eb[R.j.bc.value],playbackState:x.Lb[R.j.state.value],avBufferingState:x.df[R.j.Jq.value],textBufferingState:x.df[R.j.Zl.value],autoplayWasBlocked:R.j.Bl,hasLicense:N,restartTimer:I});}R=this;m.config.dQa && (t.hb(!this.X1),this.X1=n.ha.get(E.UZ)(m.config.dQa,function(){var I;I=n.ha.get(p.u$).xQa(R.j);R.Md(I.code,I);}),this.j.bc.addListener(function(){return L();}),this.j.Jq.addListener(function(){return L();}),this.j.Zl.addListener(function(){return L();}),this.j.state.addListener(function(){return L();}),this.j.addEventListener(x.Z.NXa,function(){return L();}),this.j.addEventListener(x.Z.Bl,function(){return L();}),this.j.addEventListener(x.Z.zfa,function(){return L();}),this.j.addEventListener(x.Z.OG,function(){return L(!0);}),L());m.config.a_a && (this.b_a=n.ha.get(E.UZ)(m.config.a_a,function(){var I;0 === (null === (I=R.j.Cg) || void 0 === I?void 0:I.EB()) && (I=n.ha.get(p.u$).xQa(R.j),R.Md(I.code,I));R.j.bc.removeListener(H);}),this.j.bc.addListener(H),H());};c.prototype.Ovb=function(H,L){var R;R=this.j.Ye;(R=K.lma(R)?R.kL():void 0) && H.type === f.Pb.Gk.Fb && ((H=new J.oI(this.log,{mediaType:J.fm.Fb,url:"http://some-url"},L).na(R))?L=H:!1);return L;};c.prototype.E5=function(){this.Im?this.ol():m.config.gmb && this.ig.Uta(this.mediaTime);};c.prototype.tUb=function(){!1;this.j.bc.set(x.Eb.Hg);this.S4=!0;this.ol();};c.prototype.cqb=function(){var H;H=this;this.S4 && (!1,this.S4=!1,w.gg(function(){return H.OKb();}));};c.prototype.e3=function(){return this.ig.e3();};c.prototype.OKb=function(){var H,L;H=this.j.IB() || 0;if(this.j.ib.al){if(m.config.Nnb){H=H - (this.Mb.csa + 1) - m.config.bsa;L=this.j.Ma.Tn().Mc;H=Math.max(H,L);}}else (H-=m.config.SRb,H=Math.max(H,this.oo.Vma));this.seek(H,x.pe.TP);};c.prototype.r6=function(H){var L;L=this;this.ig.cTb(H);w.gg(function(){return L.ol();});};c.prototype.PAb=function(){return {V1:this.V1,f6:this.f6};};c.prototype.Yob=function(H){var L;L=this.Mb && this.Mb.mUa();this.j.ut && L && Infinity !== H.m3a && (H=H.m3a + H.Gt,H > this.j.ut.e1a(B.ma) && (this.j.ut=B.xc(H)));return Promise.resolve();};c.prototype.bNb=function(){var H;H=this;this.oo.K6 && (!1,this.Wfa() && this.ig.Lha(this.mediaTime) && (this.Mb.seek(this.mediaTime),this.oo.K6=!1,w.gg(function(){return H.ol();})));};c.prototype.sXb=function(H){var L;if(H < this.mediaTime){L=this.mediaTime - H;m.config.dNb && H && L > A.LZ && (H={ElementTime:u.yi(H),MediaTime:u.yi(this.mediaTime)},L > A.LFa?this.Md(q.M.Pdb,{rb:Object.assign({Trace:this.Mb.JB()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=u.Eo(H,0,this.j.ut.ea(B.ma));};c.prototype.Wfa=function(){return this.j.Jq.value === x.df.ce && this.j.Zl.value === x.df.ce;};c.prototype.gqb=function(){var H,L,R;H=this;L=this.j.bc.value;R=L;this.oo.yma?R=x.Eb.Hg:this.la && this.la.ended?L === x.Eb.Hc && (R=x.Eb.fu):this.Wfa() && this.ig.Lha(this.mediaTime)?this.Mb.Oub()?R=this.la && this.la.paused?x.Eb.Xh:x.Eb.Hc:this.tVb.nl(function(){return H.sVb();}):R=this.j.ut?this.j.wVa(this.mediaTime,this.ig.U1())?x.Eb.Hg:x.Eb.fu:x.Eb.Hg;return R;};c.prototype.LLb=function(){var H;if(this.j.bc.value === x.Eb.Hg){H=this.ig.bWb() > this.ig.U1();this.j.Zl.value !== x.df.ce?this.j.Qk.value?(this.j.fireEvent(x.Z.Ex,{cause:d.EEa}),this.log.warn("rebuffer due to timed text",this.j.Qk.value.mh)):this.j.fireEvent(x.Z.SN):H?(this.V1++,this.j.fireEvent(x.Z.Ex,{cause:d.fba})):(this.f6++,this.j.fireEvent(x.Z.Ex,{cause:d.gba}));}};c.prototype.sVb=function(){this.Gj() || (m.config.SKb && this.ig.RKb(),this.ol());};c.prototype.PLb=function(){this.ol();};c.prototype.u6=function(){this.ol();this.j.fireEvent(x.Z.Pq);};c.prototype.tLb=function(){this.log.trace("Video element event: ended");this.ol();};c.prototype.CLb=function(){this.log.trace("Video element event: play");this.ol();};c.prototype.ALb=function(){this.log.trace("Video element event: pause");this.ol();};c.prototype.ILb=function(){this.log.trace("Video element event: playing");this.ol();};c.prototype.pua=function(){this.Gj() || (this.la && this.la.volume !== this.j.volume.value && (this.la.volume=this.j.volume.value),this.la && this.la.muted !== this.j.muted.value && (this.la.muted=this.j.muted.value));};c.prototype.Q8=function(){!this.Gj() && this.la && (this.la.playbackRate=this.j.playbackRate.value);};c.prototype.Pra=function(){var H;H=this;this.Gj() || !y.Kc(this.la) || this.la.ended || !this.hpa || !this.bO && void 0 !== this.bO || (this.log.trace("Calling play on element"),Promise.resolve(this.la.play()).then(function(){H.closed || (H.bO=!1,H.Vpa=!1,H.la.style.display=null,H.j.Bl=!1,H.j.fireEvent(x.Z.zfa,{j:H.j}));}).catch(function(L){"NotAllowedError" === L.name?(H.log.warn("Playback is blocked by the browser settings",L),H.j.Bl=!0,H.closed || (H.Vpa=!0,H.la.style.display="none",H.j.fireEvent(x.Z.Bl,{player:{play:function(){return H.Pra();}}}))):H.closed || (H.bO=!1,H.N0a || (H.N0a=!0,H.log.error("Play promise rejected",L)));}));};c.prototype.yLb=function(){this.oo.Vma=this.j.IB() || 0;};c.prototype.Ora=function(){this.Gj() || !y.Kc(this.la) || this.la.ended || !this.hpa || this.bO && void 0 !== this.bO || (this.log.trace("Calling pause on element"),this.la.pause(),this.bO=!0);};c.prototype.P6a=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.lyb();};c.prototype.seek=function(H,L,R,I){var Q,N;R=void 0 === R?this.j.va:R;I=void 0 === I?!1:I;N=null === (Q=this.j.Ma) || void 0 === Q?void 0:Q.Ah;!this.Gj() && N && (this.j.fireEvent(x.Z.OG,{cause:L}),this.oo.CV={time:H,cause:L,va:R,syb:I},this.j.bc.set(x.Eb.Hg),this.ol());};c.prototype.cNb=function(){var H,L,R,I,Q,N,M,P;if(this.oo.CV){H=this.oo.CV;L=H.time;R=H.cause;I=H.va;Q=H.syb;if(!this.ig.gi() || R === x.pe.Cw){H=this.j.Ap(I).K;N=this.ig.gi()?void 0:this.ig.Azb();N=this.oo.oBb(L,R,I,Q,N);I=N.i6;Q=N.Bj;M=N.GNb;N=N.ci;this.ig.rga(this.mediaTime);P=this.mediaTime;L=u.yi(L);this.j.IE("SEEKING: Requested: (" + H + ":" + R + ":" + L + ") - Actual: (contentPts: " + Q + ",playerPts: " + (M + ", newMediaTime: " + I + ")"));this.log.info("Seeking",{Requested:L,Actual:u.yi(I),Cause:R,Skip:N});R === x.pe.Cw || N || (this.ig.K2a(),this.ig.YSb());this.mediaTime=I;this.oo.Vma=Q;L=this.j.Sg.value;M=this.j.Vf.value;this.j.Sg.set(null);this.j.Vf.set(null);this.P6a(!0);this.oo.CV=void 0;this.oo.K6=!0;this.j.fireEvent(x.Z.Wl,{ipa:P,i6:I,Bj:Q,cause:R,skip:N,Sg:L,Vf:M,K:H});N && this.ig.skip(I);}}};c.prototype.Md=function(H,L,R){this.closed || this.j.Md(H,L,R);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.ig.close();this.Mb.removeEventListener(z.kj.vW,this.lZa[z.kj.vW]);this.Mb.removeEventListener(z.kj.Pq,this.lZa[z.kj.Pq]);this.la.removeEventListener("ended",this.iw.ended);this.la.removeEventListener("play",this.iw.play);this.la.removeEventListener("pause",this.iw.pause);this.la.removeEventListener("playing",this.iw.playing);g.nf.removeListener(g.Hm,this.mVa[g.Hm]);this.closed=!0;try{m.config.fKb && (this.la.volume=0,this.la.muted=!0);this.Ora();this.Mb.close();}catch(H){}this.la=void 0;this.ig.K2a();}};c.prototype.Gj=function(){return this.closed?!0:y.Kc(this.la)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.pCa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rGa="SeekManagerFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.ny=1536;return m;}c.__extends(l,f);l.La=!0;return l;})(a(190).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="ac-3";return l;})(r);b.o9=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="ec-3";return l;})(r);b.x$=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(101);r=a(33);l=f.CD;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.ic();this.fileSize=this.u.Hd();this.U=this.u.Hd();this.duration=this.u.Hd(!1,!0);this.cpa=this.u.Hd();this.u.Hd();this.gpa=this.u.Hd();this.Moa=this.u.ta();this.dpa=this.u.Hd();this.rja=this.u.ta();this.u.uz();this.Ge={moof:{offset:this.cpa},sidx:{offset:this.dpa,size:this.rja}};this.Ge[f.xP]={offset:this.gpa,size:this.Moa};this.u.offset - this.startOffset <= this.length - 24 && (this.fpa=this.u.Hd(),this.Goa=this.u.ta(),this.epa=this.u.Hd(),this.Eoa=this.u.ta(),this.Ge[f.Hw]={offset:this.fpa,size:this.Goa},this.Ge[f.Gw]={offset:this.epa,size:this.Eoa});return !0;};d.Nb=l;d.La=!1;return d;})(r.mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(101);a=a(33);f=r.DD;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.ic();1 <= this.version && this.u.uz();d=this.u.ta();this.Ge={};for(var g=this.startOffset + this.length,h=0;h < d;++h){k=this.u.kl();"uuid" === k && (k=this.u.uz());n=this.u.Hd();this.Ge[k]={offset:g,size:n};g+=n;}return !0;};m.Nb=f;m.La=!1;return m;})(a.mc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);l=a(87);r=(function(m){function d(g,h,k,n,q){k=m.call(this,k,n,q) || this;k.Kfa=g;k.aq=h;k.Ta={};return k;}c.__extends(d,m);d.prototype.parse=function(g){var h,k,n,q,p,t;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.ta();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=l.un(this.ta());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.uz();}if(0 === h.length && this.aq.kT(q,k,n))break;if(k + n > this.view.byteLength)break;p=this.Kfa[q];t=void 0;if(p){if((t=new p(this,q,k,n,h[0]),(h[0] || this).hs(t),t.parse(g)))this.config.zG && p.La?h.unshift(t):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Sm - 8;){t=h.shift();if(!t.Fs(g))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.Sm;}if(0 === h.length && this.aq.DS(q,k,n,t))break;}return !this.aq.done && (g=this.aq.endOffset?this.aq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,$U:g}:{done:!0,offset:Math.min(this.aq.endOffset || Infinity,this.offset)};};d.prototype.hs=function(g){f.mc.hs(this,g);};return d;})(a(1131).dca);b.eD=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(101);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.kT=function(){return this.done;};l.prototype.DS=function(m,d,g){return this.done=d + g >= this.endOffset;};return l;})();b.KO=r;r=(function(){function l(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.rh=m;this.Yx=d;this.dX=g;this.yV=h;this.done=!1;this.Ge={};}l.prototype.kT=function(m,d,g){-1 !== l.tla.indexOf(m) && (this.Ge[m]={offset:d,size:g});if(-1 !== this.dX.indexOf(m)){if((this.Ge[m]={offset:d,size:g},this.yV))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.rh && -1 !== this.rh.indexOf(m)?(m=1 < this.rh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.Yx.indexOf(m) && (m=this.rh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};l.prototype.DS=function(m,d,g,h){var k;k=this;if(-1 !== this.dX.indexOf(m))return this.done=!0;m === f.CD && this.GW(h.Ge);m === f.DD && this.GW(h.Ge);this.rh && c(m,this.rh);c(m,this.Yx);return this.rh && 0 === this.rh.length && !this.Yx.some(function(n){return k.Ge[n];})?this.done=!0:this.done;};l.prototype.GW=function(m){var d;d=this;this.Ge=m;this.endOffset=(this.rh || []).concat(this.Yx).reduce(function(g,h){return d.Ge[h]?(h=d.Ge[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};l.tla=["moov","sidx"];return l;})();b.R$=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;c=a(13);f=a(63);l=a(24);m=a(3);d=a(17);b.Nya=function(g,h,k){function n(p){var t,u;t=p.error || p;u=l.wd(t);k.error("uncaught exception",t,u);(t=(t=t && t.stack) && c.config.x6a && c.config.YWb?0 <= t.indexOf(c.config.x6a):void 0) && (p && p.stopImmediatePropagation && p.stopImmediatePropagation(),g.Md(m.M.ffb));}function q(){f.nf.removeListener(f.O3,n);g.removeEventListener(d.Z.yg,q);g.removeEventListener(d.Z.st,q);}try{f.nf.addListener(f.O3,n);g.addEventListener(d.Z.yg,q);c.config.iEb && g.addEventListener(d.Z.st,q);}catch(p){k.error("exception in exception handler ",p);}};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.sYa=void 0;c=a(13);f=a(12);l=a(50);r=a(3);m=a(11);d=a(18);g=a(7);a=a(32);g.ha.get(a.Yg).register(r.M.Xza,function(h){var n,q,p,t,u;function k(){var v;v=m.Ew(l.Ii() / p);if(v != u){for(var w=m.Do(v - u,30);w--;){t.push(0);}(w=m.pn(t.length - 31,0)) && t.splice(0,w);u=v;}t[t.length - 1]++;}n=c.config.ZHb;q=-6 / (n - 2 - 2);p=f.Hk;t=[];u=m.Ew(l.Ii() / p);d.zma(n) && (setInterval(k,1E3 / n),b.sYa={GAb:function(){var x;for(var v=[],w=t.length - 1;w--;){x=t[w];v.unshift(0 >= x?9:1 >= x?8:x >= n - 1?0:m.wi((x - 2) * q + 7));}return v;}});h(f.Le);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nba="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YDa="PboManifestRequestTransformerSymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k){this.Mb=h;this.j=k;this.uU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.uO=void 0;r=a(1);f=a(3);l=a(0);m=a(18);d=a(29);g=a(7);c.prototype.M2=function(h){this.uU.forEach(function(k){return k(h);});};c.prototype.Md=function(h,k,n){this.j.Md(h,k,n);};c.prototype.mlb=function(h){-1 === this.uU.indexOf(h) && this.uU.push(h);};c.prototype.tQb=function(h){h=this.uU.indexOf(h);0 <= h && this.uU.splice(h,1);};c.prototype.kVa=function(h){var k,n;k={};m.Kc(h.code)?k.oa=f.Jya(h.code):k.oa=f.L.gj;try{n=h.message.match(/\((\d*)\)/)[1];k.Ze=g.Hfa(n,4);}catch(q){}k.rb=d.wd(h);return k;};a=r.__decorate([l.R()],c);b.uO=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kFa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oFa="PlaygraphStateFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oba=void 0;a.prototype.Nna=function(c){c=void 0 === c?{}:c;return {Dk:c.trackingId,Z0:c.authParams,po:c.sessionParams,ke:c.uiLabel,X8:c.uxLabels,fia:c.disableTrackStickiness,N8:c.uiPlayStartTime,Q2:c.forceAudioTrackId,R2:c.forceTimedTextTrackId,al:c.isBranching,G7a:c.vuiCommand,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,LK:c.enableTrickPlay,wla:c.heartbeatCooldown,Q4:c.isPlaygraph,l5:c.loadImmediately || !1,G0a:c.pin,JV:c.preciseSeeking,X:c.startPts,Ea:c.endPts,Ni:c.logicalEnd,o7:c.renderTimedText,TRa:c.extraManifestParams,mfa:c.assetId,Mmb:c.audioLanguages,HVb:c.textLanguages,v7a:c.videoLanguage,Jp:c.packageId,tQa:c.desiredDownloadables,yra:c.requestReference};};b.oba=a;},function(r,b,a){var f;function c(l,m,d,g,h){var k;k=this;this.ob=l;this.Vj=m;this.Ot=d;this.Qb=g;this.Np=h;this.Z6=new Map();this.qTb();this.Qb.addListener(f.Ub.loaded,function(){return k.k1a();});}Object.defineProperty(b,"__esModule",{value:!0});b.AD=void 0;f=a(17);c.prototype.$La=function(l){var m,d;m=this;d=Object.keys(this.ob.xk.wa).find(function(g){return m.ob.xk.wa[g].$ === l.K;});l.id || (l.id=null !== d && void 0 !== d?d:this.Np.nv(l.K));d || (this.ob.xk=this.Np.imb(this.ob.xk,l));d=this.FG(l.id);l.Ni && this.ob.zXb(l.id,l.Ni);return d;};c.prototype.r6a=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.ila=function(l,m){var d;d=this;m=void 0 === m?{}:m;return this.Ot.transition(l,m).then(function(){d.ob.Eh=l;});};c.prototype.close=function(l){return this.Ot.close(l);};c.prototype.isReady=function(){return this.Ot.TBb();};c.prototype.xp=function(){return this.Ot.xp();};c.prototype.Ms=function(){return this.Ot.Ms();};c.prototype.FG=function(l){this.Z6.has(l) || this.Z6.set(l,this.Ot.Hn(this.$nb(l)));return this.Z6.get(l);};c.prototype.qTb=function(){var l;l=this;this.Ot.addListener(f.MD.wW,function(){return l.Qb.qc(f.MD.wW);});Object.values(f.Ub).forEach(function(m){l.Ot.addListener(m,function(d){return l.Qb.qc(m,d);});});};c.prototype.vG=function(){this.k1a();};c.prototype.spa=function(l){this.Ot.xXb({id:l,K:this.ob.De(l).$,Ni:this.ob.kCb(l)});};c.prototype.k1a=function(){var l,m;if(this.isReady()){l=this.ob.Eh;m=this.ob.yka(l);m && !this.Z6.has(m) && (this.spa(l),this.FG(m));}};c.prototype.$nb=function(l){var m,d,g,h;d=this.ob.De(l);g=this.Vj.wL(d.$);h=null === g || void 0 === g?void 0:g.Jb;g=null === g || void 0 === g?void 0:g.sa;return {id:l,K:d.$,X:d.jc,Ni:null !== (m=null === h || void 0 === h?void 0:h.Ni) && void 0 !== m?m:d.Fc,Jb:h,sa:g};};b.AD=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;b.dza=function(a){var l,m,d,g;function c(){if(d)for(var h;h=l.pop();){h(g);}}function f(h){d=!0;g=h;c();}l=[];return function(h){l.push(h);m || (m=!0,a(f));c();};};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w;Object.defineProperty(b,"__esModule",{value:!0});b.e6a=void 0;c=a(72);f=a(12);l=a(13);m=a(49);d=a(50);g=a(7);h=a(3);k=a(24);n=a(70);q=a(11);p=a(120);t=a(32);u=a(36);v=a(34);w=a(19);b.e6a=(function(){var A,z,B,D;function x(E){var F,C,G;F="info";C="";G=g.ha.get(n.RD).dUa();E.W || (F="error",C+="&errorcode=" + (E.errorCode || ""),C+="&errorsubcode=" + (E.oa || ""));C="type=startup&sev=" + F + C + "&" + m.sM(k.Tb({},G,{prefix:"m_"}));!1;y("startup",C,A);}function y(E,F,C){C && z && l.config.g6a[E] && (E=B + "&jsoffms=" + d.Ii() + "&do=" + q.Ve.onLine + "&" + F + "&" + m.sM(k.Tb({},D.cd,{prefix:"im_"})),!1,c.Ff.download({url:C,iqa:E,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},lF:"track"},f.Ik));}z=!1;B="";g.hi("TrackingLog");D=g.ha.get(t.Yg);D.register(h.M.bAa,function(E){var F,C,G;if(z=l.config.f6a && ! !l.config.Mta){A=g.ha.get(p.RH).host + l.config.Mta;F=g.ha.get(v.Kk);C=g.ha.get(v.tA);G=g.ha.get(w.rd).id;B="cat=cadplayback&dev=" + encodeURIComponent(F.$x) + "&ep=" + encodeURIComponent(C.GY) + "&ver=" + encodeURIComponent("6.0032.694.911") + "&jssid=" + G + "&browserua=" + q.sA;l.config.wy && (B+="&groupname=" + encodeURIComponent(l.config.wy));l.config.GH && (B+="&uigroupname=" + encodeURIComponent(l.config.GH));F=B;C=g.ha.get(u.IP);C=k.Tb({},C,{prefix:"pi_"});C="&" + m.sM(C);B=F + C;D.yU(x);}E(f.Le);});return y;})();},function(r,b,a){var f,l,m,d,g;function c(h){var k;f.hi("MediaSourceASE").trace("Inside MediaSourceASE");k=h.BT();this.readyState=g.Bc.CLOSED;this.sourceBuffers=k.sourceBuffers;this.addSourceBuffer=function(n){return k.addSourceBuffer(n);};this.K0=function(n){return k.K0(n);};this.removeSourceBuffer=function(n){return k.removeSourceBuffer(n);};this.kp=function(n){return k.kp(n);};this.NW=d++;this.duration=void 0;k.sSb(this.NW);this.readyState=g.Bc.OPEN;this.Yb=l.ha.get(m.Kf).lG(g.Yb,{});}Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;f=a(7);l=a(7);m=a(28);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.pj;},set:function(h){var k;this.pj=h || Infinity;k=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.pj=k;});}});g={Bc:{CLOSED:0,OPEN:1,fu:2,name:["CLOSED","OPEN","ENDED"]},Yb:{HOa:!0,OZa:!0}};b.uCa=Object.assign(c,g);},function(r,b,a){var h,k,n,q,p,t,u,v;function c(w){return w.split(",").reduce(function(x,y){var A;A=y.split("=");y=A[0];A=A.slice(1).join("=");y && y.length && (x[y]=A || !0);return x;},{});}function f(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function l(w,x,y){var A;if("string" === typeof w)return l.call(this,c(w),x,y);A=0;Object.keys(w).forEach(function(z){var B,D,E;B=p[z];D=w[z];if(B){if(E=t[z] || v[typeof h[B]])try{D=E(D);}catch(F){y && y.error("Failed to convert value '" + D + "' for config '" + z + "' : " + F.toString());return;}E=q[B];this[B]=D;q[B] !== E && (y && y.debug("Config changed for '" + z + "' from " + f(E) + " (" + typeof E + ") to " + f(D) + " (" + typeof D + ")"),++A);}else x?(B=(B=u[z])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),u[z]=B):y && y.error("Attempt to change undeclared config option '" + z + "'");},this);A && q.emit("changed");return A;}function m(){return Object.keys(p).reduce(function(w,x){var y,A;y=p[x];A=w[y];A?(A.push(x),w[y]=A.sort(function(z,B){return B.length - z.length;})):w[y]=[x];return w;},{});}function d(w,x){return w.hasOwnProperty(x)?f(w[x]):void 0;}function g(w,x){return "undefined" === typeof w?x:w;}b=a(84);a=a(1217).EventEmitter;h={};k=Object.create(h);n=Object.create(k);q=Object.create(n);p={};t={};u={};q.declare=function(w){Object.keys(w).forEach(function(x){var y,A,z,B;y=w[x];A=y[0];z=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof A && (A=[A]);A.forEach(function(D){var E;if(p.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof z && (z=z()),h[x]=z);p[D]=x;"function" === typeof B && (t[D]=B);if(E=u[D])(E.forEach(function(F){var C,G;C=F[0];G={};G[D]=F[1];l.call(C,G,!1);}),delete u[D]);});});return q;};v={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};q.set=l.bind(k);q.uV=l.bind(n);q.dump=function(w,x){var A,z,B,D;function y(){D && w && w.log("===========================================");}A=Object.keys(u).sort();z={};B=m();x=g(x,!0);Object.keys(p).sort().forEach(function(E){var F,C,G;E=p[E];if(!z[E]){z[E]=!0;F=d(k,E);C=d(n,E);if(x || "undefined" !== typeof F || "undefined" !== typeof C){G=B[E].join(",");G+=" = " + f(q[E]) + " (" + typeof q[E] + ") [";G+=g(C,"<unset>") + ",";G+=g(F,"<unset>") + ",";G+=d(h,E) + "]";D || (D=!0,w && w.log("Current config values"),y());w && w.log(G);}}});(x || A.length) && w && w.log("<undeclared> :",A);y();};q.xs=function(w){var x,y;x={};y={};Object.keys(p).forEach(function(A){A=p[A];y[A] || (y[A]=!0,x[A]=q[A]);});w && l.call(x,w);return x;};q.F0a=function(){var w;w=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[w[y][0]]=k[y];return x;},{});};q.reset=function(){Object.keys(k).forEach(function(w){delete k[w];});};q.fd={};b(a,q);r.exports=Object.freeze(q);},function(r,b,a){var f;function c(l){for(var m="",d=0;d < l.length;d++){m+=l[d].$ + "|";}return m;}f=a(295);r.exports={assert:function(l,m){if(!l)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},l6b:function(l,m,d){Array.prototype.splice.apply(l,[m,0].concat(d));},Qzb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.oP.J9a){m=l[d].list;break;}}return m;},xzb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.oP.C8a){m=l[d].list;break;}}return m;},Jub:function(l,m){for(var d=0,g,h,k,n=0,q=l.length - 1;n < q;n++){g=c(l[n].list || []);k=!1;for(var p=0,t=m.length;p < t;p++){if((h=c(m[p].list || []),h == g)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},gLb:function(l,m,d){for(var g=[],h,k=0;k < Math.min(m,l.length);k++){h=l[k].list || [];g=g.concat(h.slice(0,d));}return g;},fLb:function(l,m){for(var d=[],g,h=0;h < l.length && (g=l[h].list || [],g=g.slice(0,Math.min(g.length,m)),m-=g.length,d=d.concat(g),0 !== m);h++){;}return d;},eLb:function(l,m,d){var g;m < l.length && 0 <= m && (l=l[m].list || [],d < l.length && (g=l[d]));return g;},mSa:function(l){for(var m={},d=l.length,g,h=0;h < d;h++){g=l[h].list || [];for(var k=0;k < g.length;k++){if(g[k].property === f.nI.DP || g[k].property === f.nI.hxa){m.Pj=h;m.El=k;break;}}}void 0 === m.Pj && void 0 === m.El && (m.Pj=0,m.El=0);return m;}};},function(r,b,a){var m;function c(d,g,h,k,n,q,p){this.AX=k;this.X7a=d;this.$Za=g;this.Aoa=h;this.eGb=q;this.IC=p;this.split=n;}function f(){this.J={};this.J["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new c("7","8","7","10","1.5",0,0);this.J["7"]=new c("15","16","15","9","4.5",0,0);this.J["15"]=new c("31","32","31","2","5.5",0,0);this.J["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new c("123","124","123","0","0",1,.207298);this.J["124"]=new c("123","124","123","0","0",1,.49076);this.J["64"]=new c("125","126","125","4","40.5",0,0);this.J["125"]=new c("125","126","125","0","0",1,-.00157835);this.J["126"]=new c("125","126","125","0","0",1,.934205);this.J["32"]=new c("65","66","65","135","5.5",0,0);this.J["65"]=new c("127","128","128","4","1272.5",0,0);this.J["127"]=new c("127","128","128","0","0",1,-.510333);this.J["128"]=new c("127","128","128","0","0",1,.18363);this.J["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new c("129","130","129","0","0",1,-.0464542);this.J["130"]=new c("129","130","129","0","0",1,.458833);this.J["16"]=new c("33","34","34","10","2.00001",0,0);this.J["33"]=new c("67","68","67","0","29.5",0,0);this.J["67"]=new c("131","132","131","2","39.5",0,0);this.J["131"]=new c("131","132","131","0","0",1,-.37577);this.J["132"]=new c("131","132","131","0","0",1,.512087);this.J["68"]=new c("133","134","134","140","1.5",0,0);this.J["133"]=new c("133","134","134","0","0",1,.321272);this.J["134"]=new c("133","134","134","0","0",1,-.675396);this.J["34"]=new c("69","70","70","2","24.5",0,0);this.J["69"]=new c("135","136","136","9","28.5",0,0);this.J["135"]=new c("135","136","136","0","0",1,-.0573845);this.J["136"]=new c("135","136","136","0","0",1,-.507455);this.J["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new c("137","138","137","0","0",1,-.503909);this.J["138"]=new c("137","138","137","0","0",1,.450886);this.J["8"]=new c("17","18","17","4","44189.5",0,0);this.J["17"]=new c("35","36","35","2","21.5",0,0);this.J["35"]=new c("71","72","72","0","19.5",0,0);this.J["71"]=new c("139","140","140","9","2.5",0,0);this.J["139"]=new c("139","140","140","0","0",1,.00403497);this.J["140"]=new c("139","140","140","0","0",1,-.312656);this.J["72"]=new c("141","142","141","135","96",0,0);this.J["141"]=new c("141","142","141","0","0",1,-.465786);this.J["142"]=new c("141","142","141","0","0",1,.159633);this.J["36"]=new c("73","74","73","130","89.5",0,0);this.J["73"]=new c("143","144","144","10","4.5",0,0);this.J["143"]=new c("143","144","144","0","0",1,-.76265);this.J["144"]=new c("143","144","144","0","0",1,-.580804);this.J["74"]=new c("145","146","146","10","16.5",0,0);this.J["145"]=new c("145","146","146","0","0",1,.296357);this.J["146"]=new c("145","146","146","0","0",1,-.691659);this.J["18"]=new c("37","38","38","9","1.5",0,0);this.J["37"]=new c("37","38","38","0","0",1,.993951);this.J["38"]=new c("75","76","75","0","19",0,0);this.J["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new c("147","148","147","0","0",1,-.346535);this.J["148"]=new c("147","148","147","0","0",1,-.995745);this.J["76"]=new c("147","148","147","0","0",1,-.99978);this.J["4"]=new c("9","10","9","5","4.5",0,0);this.J["9"]=new c("19","20","19","2","4.5",0,0);this.J["19"]=new c("39","40","39","140","7.5",0,0);this.J["39"]=new c("77","78","78","134","6.5",0,0);this.J["77"]=new c("149","150","150","7","11.5",0,0);this.J["149"]=new c("149","150","150","0","0",1,.729843);this.J["150"]=new c("149","150","150","0","0",1,.383857);this.J["78"]=new c("151","152","151","133","4.5",0,0);this.J["151"]=new c("151","152","151","0","0",1,.39017);this.J["152"]=new c("151","152","151","0","0",1,.0434342);this.J["40"]=new c("79","80","79","133","3.5",0,0);this.J["79"]=new c("153","154","154","8","4.5",0,0);this.J["153"]=new c("153","154","154","0","0",1,-.99536);this.J["154"]=new c("153","154","154","0","0",1,-.00943396);this.J["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new c("155","156","155","0","0",1,.266272);this.J["156"]=new c("155","156","155","0","0",1,.959904);this.J["20"]=new c("41","42","42","10","65.5",0,0);this.J["41"]=new c("81","82","82","7","10.5",0,0);this.J["81"]=new c("157","158","158","2","37.5",0,0);this.J["157"]=new c("157","158","158","0","0",1,-.701873);this.J["158"]=new c("157","158","158","0","0",1,.224649);this.J["82"]=new c("159","160","159","133","9.5",0,0);this.J["159"]=new c("159","160","159","0","0",1,.0955181);this.J["160"]=new c("159","160","159","0","0",1,-.58962);this.J["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new c("161","162","161","135","31",0,0);this.J["161"]=new c("161","162","161","0","0",1,-.229692);this.J["162"]=new c("161","162","161","0","0",1,.88595);this.J["84"]=new c("163","164","164","1","13.5",0,0);this.J["163"]=new c("163","164","164","0","0",1,-.992157);this.J["164"]=new c("163","164","164","0","0",1,.922159);this.J["10"]=new c("21","22","22","4","486",0,0);this.J["21"]=new c("43","44","44","133","4.5",0,0);this.J["43"]=new c("85","86","86","10","4.5",0,0);this.J["85"]=new c("165","166","166","4","158.5",0,0);this.J["165"]=new c("165","166","166","0","0",1,-.127778);this.J["166"]=new c("165","166","166","0","0",1,.955189);this.J["86"]=new c("165","166","166","0","0",1,-.994012);this.J["44"]=new c("87","88","88","1","3.5",0,0);this.J["87"]=new c("167","168","168","135","7",0,0);this.J["167"]=new c("167","168","168","0","0",1,-.997015);this.J["168"]=new c("167","168","168","0","0",1,.400821);this.J["88"]=new c("169","170","169","130","36",0,0);this.J["169"]=new c("169","170","169","0","0",1,-.898638);this.J["170"]=new c("169","170","169","0","0",1,.56129);this.J["22"]=new c("45","46","45","9","2.5",0,0);this.J["45"]=new c("89","90","90","9","1.5",0,0);this.J["89"]=new c("171","172","171","10","10.5",0,0);this.J["171"]=new c("171","172","171","0","0",1,.573986);this.J["172"]=new c("171","172","171","0","0",1,-.627266);this.J["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new c("173","174","173","0","0",1,.925273);this.J["174"]=new c("173","174","173","0","0",1,-.994805);this.J["46"]=new c("91","92","91","136","5.5",0,0);this.J["91"]=new c("175","176","175","10","10.5",0,0);this.J["175"]=new c("175","176","175","0","0",1,.548352);this.J["176"]=new c("175","176","175","0","0",1,-.879195);this.J["92"]=new c("177","178","178","8","14.5",0,0);this.J["177"]=new c("177","178","178","0","0",1,.457305);this.J["178"]=new c("177","178","178","0","0",1,-.998992);this.J["2"]=new c("5","6","5","10","2.5",0,0);this.J["5"]=new c("11","12","11","9","4.5",0,0);this.J["11"]=new c("23","24","24","10","4.00001",0,0);this.J["23"]=new c("47","48","48","133","5.5",0,0);this.J["47"]=new c("93","94","93","3","13.5",0,0);this.J["93"]=new c("179","180","179","138","15.5",0,0);this.J["179"]=new c("179","180","179","0","0",1,.658398);this.J["180"]=new c("179","180","179","0","0",1,-.927007);this.J["94"]=new c("181","182","182","3","15.5",0,0);this.J["181"]=new c("181","182","182","0","0",1,-.111351);this.J["182"]=new c("181","182","182","0","0",1,-.99827);this.J["48"]=new c("95","96","95","7","167",0,0);this.J["95"]=new c("183","184","183","132","36.5",0,0);this.J["183"]=new c("183","184","183","0","0",1,.895161);this.J["184"]=new c("183","184","183","0","0",1,-.765217);this.J["96"]=new c("185","186","186","137","6.00001",0,0);this.J["185"]=new c("185","186","186","0","0",1,-.851095);this.J["186"]=new c("185","186","186","0","0",1,.674286);this.J["24"]=new c("49","50","49","137","5.5",0,0);this.J["49"]=new c("97","98","97","5","23.5",0,0);this.J["97"]=new c("187","188","187","3","28.5",0,0);this.J["187"]=new c("187","188","187","0","0",1,.951654);this.J["188"]=new c("187","188","187","0","0",1,-.993808);this.J["98"]=new c("187","188","187","0","0",1,-.99705);this.J["50"]=new c("187","188","187","0","0",1,-.997525);this.J["12"]=new c("25","26","25","8","8.5",0,0);this.J["25"]=new c("51","52","52","10","4.00001",0,0);this.J["51"]=new c("99","100","100","133","5.5",0,0);this.J["99"]=new c("189","190","190","7","40.5",0,0);this.J["189"]=new c("189","190","190","0","0",1,.151839);this.J["190"]=new c("189","190","190","0","0",1,-.855517);this.J["100"]=new c("191","192","192","133","14.5",0,0);this.J["191"]=new c("191","192","192","0","0",1,.86223);this.J["192"]=new c("191","192","192","0","0",1,.544394);this.J["52"]=new c("101","102","101","135","47.5",0,0);this.J["101"]=new c("193","194","194","4","24.5",0,0);this.J["193"]=new c("193","194","194","0","0",1,.946185);this.J["194"]=new c("193","194","194","0","0",1,.811859);this.J["102"]=new c("193","194","194","0","0",1,-.991561);this.J["26"]=new c("53","54","54","132","6.5",0,0);this.J["53"]=new c("103","104","103","131","85",0,0);this.J["103"]=new c("195","196","196","134","16.5",0,0);this.J["195"]=new c("195","196","196","0","0",1,.0473538);this.J["196"]=new c("195","196","196","0","0",1,-.999401);this.J["104"]=new c("197","198","198","8","15.5",0,0);this.J["197"]=new c("197","198","198","0","0",1,.816129);this.J["198"]=new c("197","198","198","0","0",1,-.99322);this.J["54"]=new c("105","106","105","133","3.5",0,0);this.J["105"]=new c("105","106","105","0","0",1,-.998783);this.J["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new c("199","200","199","0","0",1,.528588);this.J["200"]=new c("199","200","199","0","0",1,-.998599);this.J["6"]=new c("13","14","14","10","7.5",0,0);this.J["13"]=new c("27","28","28","133","7.5",0,0);this.J["27"]=new c("55","56","56","10","4.5",0,0);this.J["55"]=new c("107","108","107","3","3.5",0,0);this.J["107"]=new c("201","202","201","4","17.5",0,0);this.J["201"]=new c("201","202","201","0","0",1,-.379512);this.J["202"]=new c("201","202","201","0","0",1,.15165);this.J["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new c("203","204","203","0","0",1,-.884606);this.J["204"]=new c("203","204","203","0","0",1,.265406);this.J["56"]=new c("109","110","109","136","6.5",0,0);this.J["109"]=new c("205","206","205","4","157.5",0,0);this.J["205"]=new c("205","206","205","0","0",1,-.0142737);this.J["206"]=new c("205","206","205","0","0",1,.691279);this.J["110"]=new c("205","206","205","0","0",1,-.998086);this.J["28"]=new c("57","58","58","138","11.5",0,0);this.J["57"]=new c("111","112","112","2","6.5",0,0);this.J["111"]=new c("207","208","208","7","67.5",0,0);this.J["207"]=new c("207","208","208","0","0",1,.763925);this.J["208"]=new c("207","208","208","0","0",1,-.309645);this.J["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new c("209","210","209","0","0",1,-.306635);this.J["210"]=new c("209","210","209","0","0",1,.556696);this.J["58"]=new c("113","114","113","138","50.5",0,0);this.J["113"]=new c("211","212","212","8","25.5",0,0);this.J["211"]=new c("211","212","212","0","0",1,.508234);this.J["212"]=new c("211","212","212","0","0",1,.793551);this.J["114"]=new c("211","212","212","0","0",1,-.998438);this.J["14"]=new c("29","30","29","134","27.5",0,0);this.J["29"]=new c("59","60","60","7","17.5",0,0);this.J["59"]=new c("115","116","115","135","5.5",0,0);this.J["115"]=new c("213","214","214","137","5.5",0,0);this.J["213"]=new c("213","214","214","0","0",1,.401747);this.J["214"]=new c("213","214","214","0","0",1,.0367503);this.J["116"]=new c("215","216","216","8","5.5",0,0);this.J["215"]=new c("215","216","216","0","0",1,-.0241984);this.J["216"]=new c("215","216","216","0","0",1,-.999046);this.J["60"]=new c("117","118","117","0","12.5",0,0);this.J["117"]=new c("217","218","218","132","5.5",0,0);this.J["217"]=new c("217","218","218","0","0",1,-.997294);this.J["218"]=new c("217","218","218","0","0",1,.210398);this.J["118"]=new c("219","220","219","137","1.5",0,0);this.J["219"]=new c("219","220","219","0","0",1,-.55763);this.J["220"]=new c("219","220","219","0","0",1,.074493);this.J["30"]=new c("61","62","62","133","42.5",0,0);this.J["61"]=new c("119","120","119","135","5.5",0,0);this.J["119"]=new c("221","222","222","4","473.5",0,0);this.J["221"]=new c("221","222","222","0","0",1,-.920213);this.J["222"]=new c("221","222","222","0","0",1,-.17615);this.J["120"]=new c("223","224","224","5","144",0,0);this.J["223"]=new c("223","224","224","0","0",1,-.954295);this.J["224"]=new c("223","224","224","0","0",1,-.382538);this.J["62"]=new c("121","122","121","133","50",0,0);this.J["121"]=new c("225","226","226","10","18.5",0,0);this.J["225"]=new c("225","226","226","0","0",1,-.0731343);this.J["226"]=new c("225","226","226","0","0",1,.755454);this.J["122"]=new c("227","228","228","0","30",0,0);this.J["227"]=new c("227","228","228","0","0",1,.25);this.J["228"]=new c("227","228","228","0","0",1,-.997101);}function l(d,g,h,k,n,q){this.B7=n;this.y1=q;}b=a(529);m=a(294);a={};a.Imb=new (function(){this.Zgb=m();this.G=0;this.update=function(){this.G=m() - this.Zgb;};this.getValue=function(){return this.G;};this.type="num";})();a.$Gb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouAdded" === h.Wa[d].context || null;};this.type="cat";})();a.aHb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouLiked" === h.Wa[d].context || null;};this.type="cat";})();a.cHb=new (function(){this.getValue=function(d,g,h){return this.G="billboard" === h.Wa[d].context || null;};this.type="cat";})();a.dHb=new (function(){this.getValue=function(d,g,h){return this.G="continueWatching" === h.Wa[d].context || null;};this.type="cat";})();a.bHb=new (function(){this.getValue=function(d,g,h){return this.G="bigRow" === h.Wa[d].context || null;};this.type="cat";})();a.eHb=new (function(){this.getValue=function(d,g,h){return this.G="genre" === h.Wa[d].context || null;};this.type="cat";})();a.fHb=new (function(){this.getValue=function(d,g,h){return this.G="netflixOriginals" === h.Wa[d].context || null;};this.type="cat";})();a.gHb=new (function(){this.getValue=function(d,g,h){return this.G="newRelease" === h.Wa[d].context || null;};this.type="cat";})();a.hHb=new (function(){this.getValue=function(d,g,h){return this.G="popularTitles" === h.Wa[d].context || null;};this.type="cat";})();a.iHb=new (function(){this.getValue=function(d,g,h){return this.G="queue" === h.Wa[d].context || null;};this.type="cat";})();a.jHb=new (function(){this.getValue=function(d,g,h){return this.G="recentlyAdded" === h.Wa[d].context || null;};this.type="cat";})();a.kHb=new (function(){this.getValue=function(d,g,h){return this.G="similars" === h.Wa[d].context || null;};this.type="cat";})();a.mHb=new (function(){this.getValue=function(d,g,h){return this.G="trendingNow" === h.Wa[d].context || null;};this.type="cat";})();a.nHb=new (function(){this.getValue=function(d,g,h){return this.G="ultraHD" === h.Wa[d].context || null;};this.type="cat";})();a.oHb=new (function(){this.getValue=function(d,g,h){return this.G="watchAgain" === h.Wa[d].context || null;};this.type="cat";})();a.lHb=new (function(){this.getValue=function(d,g,h){return this.G="topTen" === h.Wa[d].context || null;};this.type="cat";})();a.unb=new (function(){this.update=function(d){for(var g in d.Wa){if("becauseYouAdded" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.vnb=new (function(){this.update=function(d){for(var g in d.Wa){if("becauseYouLiked" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.ynb=new (function(){this.update=function(d){for(var g in d.Wa){if("billboard" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Bqb=new (function(){this.update=function(d){for(var g in d.Wa){if("continueWatching" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.xnb=new (function(){this.update=function(d){for(var g in d.Wa){if("bigRow" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Yyb=new (function(){this.update=function(d){for(var g in d.Wa){if("genre" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.jKb=new (function(){this.update=function(d){for(var g in d.Wa){if("netflixOriginals" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.lKb=new (function(){this.update=function(d){for(var g in d.Wa){if("newRelease" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.RNb=new (function(){this.update=function(d){for(var g in d.Wa){if("popularTitles" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.mo=new (function(){this.update=function(d){for(var g in d.Wa){if("queue" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.GPb=new (function(){this.update=function(d){for(var g in d.Wa){if("recentlyAdded" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.UTb=new (function(){this.update=function(d){for(var g in d.Wa){if("similars" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.CWb=new (function(){this.update=function(d){for(var g in d.Wa){if("trendingNow" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.WWb=new (function(){this.update=function(d){for(var g in d.Wa){if("ultraHD" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.WYb=new (function(){this.update=function(d){for(var g in d.Wa){if("watchAgain" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.mWb=new (function(){this.update=function(d){for(var g in d.Wa){if("topTen" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Mqb=new (function(){this.getValue=function(d,g,h){return this.G="AR" === h.Va || null;};this.type="cat";})();a.Nqb=new (function(){this.getValue=function(d,g,h){return this.G="AT" === h.Va || null;};this.type="cat";})();a.Oqb=new (function(){this.getValue=function(d,g,h){return this.G="AU" === h.Va || null;};this.type="cat";})();a.Pqb=new (function(){this.getValue=function(d,g,h){return this.G="AZ" === h.Va || null;};this.type="cat";})();a.Qqb=new (function(){this.getValue=function(d,g,h){return this.G="BB" === h.Va || null;};this.type="cat";})();a.Rqb=new (function(){this.getValue=function(d,g,h){return this.G="BE" === h.Va || null;};this.type="cat";})();a.Sqb=new (function(){this.getValue=function(d,g,h){return this.G="BO" === h.Va || null;};this.type="cat";})();a.Tqb=new (function(){this.getValue=function(d,g,h){return this.G="BR" === h.Va || null;};this.type="cat";})();a.Uqb=new (function(){this.getValue=function(d,g,h){return this.G="BS" === h.Va || null;};this.type="cat";})();a.Vqb=new (function(){this.getValue=function(d,g,h){return this.G="CA" === h.Va || null;};this.type="cat";})();a.Wqb=new (function(){this.getValue=function(d,g,h){return this.G="CH" === h.Va || null;};this.type="cat";})();a.Xqb=new (function(){this.getValue=function(d,g,h){return this.G="CL" === h.Va || null;};this.type="cat";})();a.Yqb=new (function(){this.getValue=function(d,g,h){return this.G="CO" === h.Va || null;};this.type="cat";})();a.Zqb=new (function(){this.getValue=function(d,g,h){return this.G="CR" === h.Va || null;};this.type="cat";})();a.$qb=new (function(){this.getValue=function(d,g,h){return this.G="CW" === h.Va || null;};this.type="cat";})();a.arb=new (function(){this.getValue=function(d,g,h){return this.G="DE" === h.Va || null;};this.type="cat";})();a.brb=new (function(){this.getValue=function(d,g,h){return this.G="DK" === h.Va || null;};this.type="cat";})();a.crb=new (function(){this.getValue=function(d,g,h){return this.G="DM" === h.Va || null;};this.type="cat";})();a.drb=new (function(){this.getValue=function(d,g,h){return this.G="DO" === h.Va || null;};this.type="cat";})();a.erb=new (function(){this.getValue=function(d,g,h){return this.G="EC" === h.Va || null;};this.type="cat";})();a.frb=new (function(){this.getValue=function(d,g,h){return this.G="EE" === h.Va || null;};this.type="cat";})();a.grb=new (function(){this.getValue=function(d,g,h){return this.G="EG" === h.Va || null;};this.type="cat";})();a.hrb=new (function(){this.getValue=function(d,g,h){return this.G="ES" === h.Va || null;};this.type="cat";})();a.irb=new (function(){this.getValue=function(d,g,h){return this.G="FI" === h.Va || null;};this.type="cat";})();a.jrb=new (function(){this.getValue=function(d,g,h){return this.G="FR" === h.Va || null;};this.type="cat";})();a.krb=new (function(){this.getValue=function(d,g,h){return this.G="GB" === h.Va || null;};this.type="cat";})();a.lrb=new (function(){this.getValue=function(d,g,h){return this.G="GF" === h.Va || null;};this.type="cat";})();a.mrb=new (function(){this.getValue=function(d,g,h){return this.G="GP" === h.Va || null;};this.type="cat";})();a.nrb=new (function(){this.getValue=function(d,g,h){return this.G="GT" === h.Va || null;};this.type="cat";})();a.orb=new (function(){this.getValue=function(d,g,h){return this.G="HK" === h.Va || null;};this.type="cat";})();a.prb=new (function(){this.getValue=function(d,g,h){return this.G="HN" === h.Va || null;};this.type="cat";})();a.qrb=new (function(){this.getValue=function(d,g,h){return this.G="HR" === h.Va || null;};this.type="cat";})();a.rrb=new (function(){this.getValue=function(d,g,h){return this.G="HU" === h.Va || null;};this.type="cat";})();a.srb=new (function(){this.getValue=function(d,g,h){return this.G="ID" === h.Va || null;};this.type="cat";})();a.trb=new (function(){this.getValue=function(d,g,h){return this.G="IE" === h.Va || null;};this.type="cat";})();a.urb=new (function(){this.getValue=function(d,g,h){return this.G="IL" === h.Va || null;};this.type="cat";})();a.vrb=new (function(){this.getValue=function(d,g,h){return this.G="IN" === h.Va || null;};this.type="cat";})();a.wrb=new (function(){this.getValue=function(d,g,h){return this.G="IT" === h.Va || null;};this.type="cat";})();a.xrb=new (function(){this.getValue=function(d,g,h){return this.G="JE" === h.Va || null;};this.type="cat";})();a.yrb=new (function(){this.getValue=function(d,g,h){return this.G="JM" === h.Va || null;};this.type="cat";})();a.zrb=new (function(){this.getValue=function(d,g,h){return this.G="JP" === h.Va || null;};this.type="cat";})();a.Arb=new (function(){this.getValue=function(d,g,h){return this.G="KE" === h.Va || null;};this.type="cat";})();a.Brb=new (function(){this.getValue=function(d,g,h){return this.G="KN" === h.Va || null;};this.type="cat";})();a.Crb=new (function(){this.getValue=function(d,g,h){return this.G="KR" === h.Va || null;};this.type="cat";})();a.Drb=new (function(){this.getValue=function(d,g,h){return this.G="LU" === h.Va || null;};this.type="cat";})();a.Erb=new (function(){this.getValue=function(d,g,h){return this.G="MK" === h.Va || null;};this.type="cat";})();a.Frb=new (function(){this.getValue=function(d,g,h){return this.G="MU" === h.Va || null;};this.type="cat";})();a.Grb=new (function(){this.getValue=function(d,g,h){return this.G="MX" === h.Va || null;};this.type="cat";})();a.Hrb=new (function(){this.getValue=function(d,g,h){return this.G="MY" === h.Va || null;};this.type="cat";})();a.Irb=new (function(){this.getValue=function(d,g,h){return this.G="NI" === h.Va || null;};this.type="cat";})();a.Jrb=new (function(){this.getValue=function(d,g,h){return this.G="NL" === h.Va || null;};this.type="cat";})();a.Krb=new (function(){this.getValue=function(d,g,h){return this.G="NO" === h.Va || null;};this.type="cat";})();a.Lrb=new (function(){this.getValue=function(d,g,h){return this.G="NZ" === h.Va || null;};this.type="cat";})();a.Mrb=new (function(){this.getValue=function(d,g,h){return this.G="OM" === h.Va || null;};this.type="cat";})();a.Nrb=new (function(){this.getValue=function(d,g,h){return this.G="PA" === h.Va || null;};this.type="cat";})();a.Orb=new (function(){this.getValue=function(d,g,h){return this.G="PE" === h.Va || null;};this.type="cat";})();a.Prb=new (function(){this.getValue=function(d,g,h){return this.G="PF" === h.Va || null;};this.type="cat";})();a.Qrb=new (function(){this.getValue=function(d,g,h){return this.G="PH" === h.Va || null;};this.type="cat";})();a.Rrb=new (function(){this.getValue=function(d,g,h){return this.G="PK" === h.Va || null;};this.type="cat";})();a.Srb=new (function(){this.getValue=function(d,g,h){return this.G="PL" === h.Va || null;};this.type="cat";})();a.Trb=new (function(){this.getValue=function(d,g,h){return this.G="PT" === h.Va || null;};this.type="cat";})();a.Urb=new (function(){this.getValue=function(d,g,h){return this.G="PY" === h.Va || null;};this.type="cat";})();a.Vrb=new (function(){this.getValue=function(d,g,h){return this.G="QA" === h.Va || null;};this.type="cat";})();a.Wrb=new (function(){this.getValue=function(d,g,h){return this.G="RO" === h.Va || null;};this.type="cat";})();a.Xrb=new (function(){this.getValue=function(d,g,h){return this.G="RS" === h.Va || null;};this.type="cat";})();a.Yrb=new (function(){this.getValue=function(d,g,h){return this.G="RU" === h.Va || null;};this.type="cat";})();a.Zrb=new (function(){this.getValue=function(d,g,h){return this.G="SA" === h.Va || null;};this.type="cat";})();a.$rb=new (function(){this.getValue=function(d,g,h){return this.G="SE" === h.Va || null;};this.type="cat";})();a.bsb=new (function(){this.getValue=function(d,g,h){return this.G="SG" === h.Va || null;};this.type="cat";})();a.csb=new (function(){this.getValue=function(d,g,h){return this.G="SV" === h.Va || null;};this.type="cat";})();a.dsb=new (function(){this.getValue=function(d,g,h){return this.G="SX" === h.Va || null;};this.type="cat";})();a.esb=new (function(){this.getValue=function(d,g,h){return this.G="TH" === h.Va || null;};this.type="cat";})();a.fsb=new (function(){this.getValue=function(d,g,h){return this.G="TR" === h.Va || null;};this.type="cat";})();a.gsb=new (function(){this.getValue=function(d,g,h){return this.G="TT" === h.Va || null;};this.type="cat";})();a.hsb=new (function(){this.getValue=function(d,g,h){return this.G="TW" === h.Va || null;};this.type="cat";})();a.isb=new (function(){this.getValue=function(d,g,h){return this.G="US" === h.Va || null;};this.type="cat";})();a.jsb=new (function(){this.getValue=function(d,g,h){return this.G="UY" === h.Va || null;};this.type="cat";})();a.ksb=new (function(){this.getValue=function(d,g,h){return this.G="VE" === h.Va || null;};this.type="cat";})();a.lsb=new (function(){this.getValue=function(d,g,h){return this.G="ZA" === h.Va || null;};this.type="cat";})();a.IPb=new (function(){this.getValue=function(d,g,h){return this.G=1 === h.Nh || null;};this.type="cat";})();a.JPb=new (function(){this.getValue=function(d,g,h){return this.G=10 === h.Nh || null;};this.type="cat";})();a.KPb=new (function(){this.getValue=function(d,g,h){return this.G=11 === h.Nh || null;};this.type="cat";})();a.LPb=new (function(){this.getValue=function(d,g,h){return this.G=12 === h.Nh || null;};this.type="cat";})();a.MPb=new (function(){this.getValue=function(d,g,h){return this.G=13 === h.Nh || null;};this.type="cat";})();a.NPb=new (function(){this.getValue=function(d,g,h){return this.G=14 === h.Nh || null;};this.type="cat";})();a.OPb=new (function(){this.getValue=function(d,g,h){return this.G=15 === h.Nh || null;};this.type="cat";})();a.PPb=new (function(){this.getValue=function(d,g,h){return this.G=16 === h.Nh || null;};this.type="cat";})();a.QPb=new (function(){this.getValue=function(d,g,h){return this.G=17 === h.Nh || null;};this.type="cat";})();a.RPb=new (function(){this.getValue=function(d,g,h){return this.G=18 === h.Nh || null;};this.type="cat";})();a.SPb=new (function(){this.getValue=function(d,g,h){return this.G=19 === h.Nh || null;};this.type="cat";})();a.TPb=new (function(){this.getValue=function(d,g,h){return this.G=2 === h.Nh || null;};this.type="cat";})();a.UPb=new (function(){this.getValue=function(d,g,h){return this.G=20 === h.Nh || null;};this.type="cat";})();a.VPb=new (function(){this.getValue=function(d,g,h){return this.G=21 === h.Nh || null;};this.type="cat";})();a.WPb=new (function(){this.getValue=function(d,g,h){return this.G=22 === h.Nh || null;};this.type="cat";})();a.XPb=new (function(){this.getValue=function(d,g,h){return this.G=23 === h.Nh || null;};this.type="cat";})();a.YPb=new (function(){this.getValue=function(d,g,h){return this.G=3 === h.Nh || null;};this.type="cat";})();a.ZPb=new (function(){this.getValue=function(d,g,h){return this.G=4 === h.Nh || null;};this.type="cat";})();a.$Pb=new (function(){this.getValue=function(d,g,h){return this.G=5 === h.Nh || null;};this.type="cat";})();a.aQb=new (function(){this.getValue=function(d,g,h){return this.G=6 === h.Nh || null;};this.type="cat";})();a.bQb=new (function(){this.getValue=function(d,g,h){return this.G=7 === h.Nh || null;};this.type="cat";})();a.cQb=new (function(){this.getValue=function(d,g,h){return this.G=8 === h.Nh || null;};this.type="cat";})();a.dQb=new (function(){this.getValue=function(d,g,h){return this.G=9 === h.Nh || null;};this.type="cat";})();a.fVb=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.hVb=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.gVb=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.iVb=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.RIb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.SIb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.Nga);};this.getValue=function(){return this.G;};this.type="num";})();a.XIb=new (function(){this.oQ=this.G=0;this.update=function(d){this.oQ++;this.G=1 * (this.G + d.rowIndex) / this.oQ;};this.getValue=function(){return this.G;};this.type="num";})();a.YIb=new (function(){this.oQ=this.G=0;this.update=function(d){this.oQ++;return this.G=1 * (this.G + d.Nga) / this.oQ;};this.getValue=function(){return this.G;};this.type="num";})();a.AOb=new (function(){this.getValue=function(d,g,h){return this.G=h.Nga + g;};this.type="num";})();a.BOb=new (function(){this.getValue=function(d,g,h){return this.G=h.rowIndex + d;};this.type="num";})();f.prototype.IC=function(d){return this.$Ka(this.J["0"].i3a(d),d);};f.prototype.$Ka=function(d,g){return "string" == typeof d?this.$Ka(this.J[d].i3a(g),g):d;};c.prototype.i3a=function(d){switch(this.eGb){case 0:switch(d.features[this.AX].type){case "cat":return null === d.features[this.AX].value?this.$Za:"missing" == d.features[this.AX].value?this.Aoa:this.X7a;case "num":return null === d.features[this.AX].value?this.Aoa:d.features[this.AX].value < this.split?this.X7a:this.$Za;default:return this.Aoa;}case 1:return this.IC;default:return this.IC;}};b.declare({WU:["modelSelector","modelone"],Upb:["colEpisodeList",5],MDb:["holdDuration",15E3],Y2a:["rowFirst",2],JOa:["colFirst",5],$2a:["rowScroll",2],KOa:["colScroll",6],xRb:["rowScrollHorizontal",6],PRb:["searchTop",3],WPa:["cwFirst",2],VT:["horizontalItemsFocusedMode",3],gGb:["itemsPerRank",1],FIb:["maxNumberPayloadsStored",10],YYa:["maxNumberTitlesScheduled",5],l5b:["enableDetailedLogging",!0],h8b:["rowStep",20],L4b:["colStep",15],L7b:["pageRows",100],K7b:["pageColumns",75],Qna:["maskParamsList",new (function(){var d,g;this.Qna=[];this.Ge={};this.B7=20;this.y1=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.B7) + "_" + Math.floor(g / this.y1) in this.Ge) || (this.Ge[Math.floor(d / this.B7) + "_" + Math.floor(g / this.y1)]=1,this.Qna.push(new l("grid",10,5,5,Math.floor(d / this.B7),Math.floor(g / this.y1))));}}})().Qna],J:["nodes",new f().J],mapping:["mapping",{SIb:"0",YIb:"1",RIb:"2",XIb:"3",Imb:"4",iVb:"5",gVb:"6",hVb:"7",fVb:"8",BOb:"9",AOb:"10",$Gb:"11",aHb:"12",cHb:"13",dHb:"14",bHb:"15",eHb:"16",fHb:"17",gHb:"18",hHb:"19",iHb:"20",jHb:"21",kHb:"22",lHb:"23",mHb:"24",nHb:"25",oHb:"26",IPb:"27",JPb:"28",KPb:"29",LPb:"30",MPb:"31",NPb:"32",OPb:"33",PPb:"34",QPb:"35",RPb:"36",SPb:"37",TPb:"38",UPb:"39",VPb:"40",WPb:"41",XPb:"42",YPb:"43",ZPb:"44",$Pb:"45",aQb:"46",bQb:"47",cQb:"48",dQb:"49",Mqb:"50",Nqb:"51",Oqb:"52",Pqb:"53",Qqb:"54",Rqb:"55",Sqb:"56",Tqb:"57",Uqb:"58",Vqb:"59",Wqb:"60",Xqb:"61",Yqb:"62",Zqb:"63",$qb:"64",arb:"65",brb:"66",crb:"67",drb:"68",erb:"69",frb:"70",grb:"71",hrb:"72",irb:"73",jrb:"74",krb:"75",lrb:"76",mrb:"77",nrb:"78",orb:"79",prb:"80",qrb:"81",rrb:"82",srb:"83",trb:"84",urb:"85",vrb:"86",wrb:"87",xrb:"88",yrb:"89",zrb:"90",Arb:"91",Brb:"92",Crb:"93",Drb:"94",Erb:"95",Frb:"96",Grb:"97",Hrb:"98",Irb:"99",Jrb:"100",Krb:"101",Lrb:"102",Mrb:"103",Nrb:"104",Orb:"105",Prb:"106",Qrb:"107",Rrb:"108",Srb:"109",Trb:"110",Urb:"111",Vrb:"112",Wrb:"113",Xrb:"114",Yrb:"115",Zrb:"116",$rb:"117",bsb:"118",csb:"119",dsb:"120",esb:"121",fsb:"122",gsb:"123",hsb:"124",isb:"125",jsb:"126",ksb:"127",lsb:"128",WYb:"129",GPb:"130",UTb:"131",mo:"132",Bqb:"133",Yyb:"134",CWb:"135",mWb:"136",ynb:"137",lKb:"138",WWb:"139",RNb:"140",unb:"141",xnb:"142",vnb:"143",jKb:"144"}],features:["features",a],T3b:["_modelName","tree"],O3b:["_format","xgboost"],S3b:["_itemsToKeep",5],R3b:["_itemsThreshold",null],v4b:["cacheLimit",20]});r.exports={config:b,J6b:l,Q4b:c};},function(r,b,a){r.exports=a(533);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(534);pb._cad_global={};pb.DEBUG=!1;a(12);a(11);a(18);a(24);a(49);a(86);a(1203);a(526);a(61);a(50);a(21);a(73);a(63);a(1204);a(280);a(324);a(1205);a(502);a(1206);a(499);a(506);a(504);a(505);a(527);a(493);a(494);a(496);a(275);a(274);a(1207);a(13);a(518);a(1208);a(191);a(72);a(500);a(152);a(438);a(439);a(259);a(1209);a(1210);a(464);a(1211);a(457);a(277);a(455);a(276);a(492);a(1212);a(279);a(508);a(187);a(528);a(129);a(1213);a(100);a(1220);a(1221);a(1222);a(1223);a(1225);a(1227);a(507);a(62);a(1228);a(503);a(441);a(501);a(517);a(1229);a(1230);a(293);a(159);a(1231);a(1232);a(1233);a(1235);a(1236);a(497);},function(r,b,a){(function(c){var f;(function(l){var C,G,J,K,H,L,R,I,Q;function m(N,M,P){var S;S=Q.get(N);if(!S){if(!P)return;S=new R();Q.set(N,S);}N=S.get(M);if(!N){if(!P)return;N=new R();S.set(M,N);}return N;}function d(N,M,P){if(g(N,M,P))return !0;M=w(M);return null !== M?d(N,M,P):!1;}function g(N,M,P){M=m(M,P,!1);return void 0 !== M && ! !M.has(N);}function h(N,M,P){if(g(N,M,P))return k(N,M,P);M=w(M);return null !== M?h(N,M,P):void 0;}function k(N,M,P){M=m(M,P,!1);return void 0 === M?void 0:M.get(N);}function n(N,M){var P,ea;P=q(N,M);N=w(N);if(null === N)return P;M=n(N,M);if(0 >= M.length)return P;if(0 >= P.length)return M;N=new I();for(var S=0;S < P.length;S++){ea=P[S];N.add(ea);}for(P=0;P < M.length;P++){ea=M[P];N.add(ea);}return A(N);}function q(N,M){var P;N=m(N,M,!1);P=[];N && y(N,function(S,ea){return P.push(ea);});return P;}function p(N){return void 0 === N;}function t(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function u(N){return "object" === typeof N?null !== N:"function" === typeof N;}function v(N){return "symbol" === typeof N?N:String(N);}function w(N){var M,P;M=Object.getPrototypeOf(N);if("function" !== typeof N || N === L || M !== L)return M;P=N.prototype;P=P && Object.getPrototypeOf(P);if(null == P || P === Object.prototype)return M;P=P.constructor;return "function" !== typeof P || P === N?M:P;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,M,P){var S,ea,qa;S=N.entries;if("function" === typeof S){S=S.call(N);try{for(;ea=x(S);){qa=ea.value;M.call(P,qa[1],qa[0],N);}}finally{ea && (N=S["return"]) && N.call(S);}}else (S=N.forEach,"function" === typeof S && S.call(N,M,P));}function A(N){var M;M=[];y(N,function(P,S){M.push(S);});return M;}function z(N,M,P){var S;S=0;return {next:function(){var ea;if((N || M) && S < (N || M).length){ea=S++;switch(P){case "key":return {value:N[ea],done:!1};case "value":return {value:M[ea],done:!1};case "key+value":return {value:[N[ea],M[ea]],done:!1};}}M=N=void 0;return {value:void 0,done:!0};},"throw":function(ea){if(N || M)M=N=void 0;throw ea;},"return":function(ea){if(N || M)M=N=void 0;return {value:ea,done:!0};}};}function B(){var N;N={};return (function(){function M(){this.Zr=[];this.Vo=[];this.j_=N;this.i_=-2;}Object.defineProperty(M.prototype,"size",{get:function(){return this.Zr.length;},enumerable:!0,configurable:!0});M.prototype.has=function(P){return 0 <= this.F_(P,!1);};M.prototype.get=function(P){P=this.F_(P,!1);return 0 <= P?this.Vo[P]:void 0;};M.prototype.set=function(P,S){P=this.F_(P,!0);this.Vo[P]=S;return this;};M.prototype.delete=function(P){var S;S=this.F_(P,!1);if(0 <= S){P=this.Zr.length;for(S+=1;S < P;S++){this.Zr[S - 1]=this.Zr[S];this.Vo[S - 1]=this.Vo[S];}this.Zr.length--;this.Vo.length--;this.j_=N;this.i_=-2;return !0;}return !1;};M.prototype.clear=function(){this.Zr.length=0;this.Vo.length=0;this.j_=N;this.i_=-2;};M.prototype.keys=function(){return z(this.Zr,void 0,"key");};M.prototype.values=function(){return z(void 0,this.Vo,"value");};M.prototype.entries=function(){return z(this.Zr,this.Vo,"key+value");};M.prototype.F_=function(P,S){var ea;if(this.j_ === P)return this.i_;ea=this.Zr.indexOf(P);0 > ea && S && (ea=this.Zr.length,this.Zr.push(P),this.Vo.push(void 0));return (this.j_=P,this.i_=ea);};return M;})();}function D(){return (function(){function N(){this.ul=new R();}Object.defineProperty(N.prototype,"size",{get:function(){return this.ul.size;},enumerable:!0,configurable:!0});N.prototype.has=function(M){return this.ul.has(M);};N.prototype.add=function(M){return (this.ul.set(M,M),this);};N.prototype.delete=function(M){return this.ul.delete(M);};N.prototype.clear=function(){this.ul.clear();};N.prototype.keys=function(){return this.ul.keys();};N.prototype.values=function(){return this.ul.values();};N.prototype.entries=function(){return this.ul.entries();};return N;})();}function E(){var S,ea;function N(qa,wa){for(var ua=0;ua < wa;++ua){qa[ua]=255 * Math.random() | 0;}return qa;}function M(){var qa,X;do {qa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);qa[6]=qa[6] & 79 | 64;qa[8]=qa[8] & 191 | 128;for(var wa="",ua=0;16 > ua;++ua){X=qa[ua];if(4 === ua || 6 === ua || 8 === ua)wa+="-";16 > X && (wa+="0");wa+=X.toString(16).toLowerCase();}qa="@@WeakMap@@" + wa;}while(H.has(S,qa));S[qa]=!0;return qa;}function P(qa,wa){if(!C.call(qa,ea)){if(!wa)return;Object.defineProperty(qa,ea,{value:K()});}return qa[ea];}S=K();ea=M();return (function(){function qa(){this.GQ=M();}qa.prototype.has=function(wa){wa=P(wa,!1);return void 0 !== wa?H.has(wa,this.GQ):!1;};qa.prototype.get=function(wa){wa=P(wa,!1);return void 0 !== wa?H.get(wa,this.GQ):void 0;};qa.prototype.set=function(wa,ua){P(wa,!0)[this.GQ]=ua;return this;};qa.prototype.delete=function(wa){wa=P(wa,!1);return void 0 !== wa?delete wa[this.GQ]:!1;};qa.prototype.clear=function(){this.GQ=M();};return qa;})();}function F(N){N.L3b=1;delete N.M3b;return N;}C=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;J=(function(){var M;function N(){}M={};N.prototype=M;return new N().__proto__ === M;})();K=G?function(){return F(Object.create(null));}:J?function(){return F({__proto__:null});}:function(){return F({});};(function(N){var M;M=!G && !J;N.has=M?function(P,S){return C.call(P,S);}:function(P,S){return (S in P);};N.get=M?function(P,S){return C.call(P,S)?P[S]:void 0;}:function(P,S){return P[S];};})(H || (H={}));L=Object.getPrototypeOf(Function);R="function" === typeof Map?Map:B();I="function" === typeof Set?Set:D();Q=new ("function" === typeof WeakMap?WeakMap:E())();l.Qq=function(N,M,P,S){var qa;if(p(S)){if(p(P)){if(!t(N))throw new TypeError();if("function" !== typeof M)throw new TypeError();for(P=N.length - 1;0 <= P;--P){if((S=(0,N[P])(M),!p(S))){if("function" !== typeof S)throw new TypeError();M=S;}}return M;}if(!t(N))throw new TypeError();if(!u(M))throw new TypeError();P=v(P);for(S=N.length - 1;0 <= S;--S){(0,N[S])(M,P);}}else {if(!t(N))throw new TypeError();if(!u(M))throw new TypeError();if(p(P))throw new TypeError();if(!u(S))throw new TypeError();P=v(P);for(var ea=N.length - 1;0 <= ea;--ea){qa=(0,N[ea])(M,P,S);if(!p(qa)){if(!u(qa))throw new TypeError();S=qa;}}return S;}};l.yd=function(N,M){return function(P,S){if(p(S)){if("function" !== typeof P)throw new TypeError();m(P,void 0,!0).set(N,M);}else {if(!u(P))throw new TypeError();S=v(S);m(P,S,!0).set(N,M);}};};l.Uha=function(N,M,P){var S;if(!u(P))throw new TypeError();p(S) || (S=v(S));m(P,S,!0).set(N,M);};l.qDb=function(N,M){var P;if(!u(M))throw new TypeError();p(P) || (P=v(P));return d(N,M,P);};l.rla=function(N,M){var P;if(!u(M))throw new TypeError();p(P) || (P=v(P));return g(N,M,P);};l.getMetadata=function(N,M,P){if(!u(M))throw new TypeError();p(P) || (P=v(P));return h(N,M,P);};l.L5b=function(N,M,P){if(!u(M))throw new TypeError();p(P) || (P=v(P));return k(N,M,P);};l.J5b=function(N,M){if(!u(N))throw new TypeError();p(M) || (M=v(M));return n(N,M);};l.M5b=function(N,M){if(!u(N))throw new TypeError();p(M) || (M=v(M));return q(N,M);};l.T4b=function(N,M,P){var S;if(!u(M))throw new TypeError();p(P) || (P=v(P));S=m(M,P,!1);if(p(S) || !S.delete(N))return !1;if(0 < S.size)return !0;N=Q.get(M);N.delete(P);if(0 < N.size)return !0;Q.delete(M);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== l)for(var M in l){C.call(l,M) && (N.Reflect[M]=l[M]);}}else N.Reflect=l;})("undefined" !== typeof pb?pb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(f || (f={}));}).call(this,a(296));},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t;c=this && this.__awaiter || (function(u,v,w,x){return new (w || (w=Promise))(function(y,A){function z(E){try{D(x.next(E));}catch(F){A(F);}}function B(E){try{D(x["throw"](E));}catch(F){A(F);}}function D(E){E.done?y(E.value):new w(function(F){F(E.value);}).then(z,B);}D((x=x.apply(u,v || [])).next());});});f=this && this.__generator || (function(u,v){var y,A,z,B,D;function w(E){return function(F){return x([E,F]);};}function x(E){if(A)throw new TypeError("Generator is already executing.");for(;y;){try{if((A=1,z && (B=z[E[0] & 2?"return":E[0]?"throw":"next"]) && !(B=B.call(z,E[1])).done))return B;if((z=0,B))E=[0,B.value];switch(E[0]){case 0:case 1:B=E;break;case 4:return (y.label++,{value:E[1],done:!1});case 5:y.label++;z=E[1];E=[0];continue;case 7:E=y.Qm.pop();y.gn.pop();continue;default:if(!(B=y.gn,B=0 < B.length && B[B.length - 1]) && (6 === E[0] || 2 === E[0])){y=0;continue;}if(3 === E[0] && (!B || E[1] > B[0] && E[1] < B[3]))y.label=E[1];else if(6 === E[0] && y.label < B[1])(y.label=B[1],B=E);else if(B && y.label < B[2])(y.label=B[2],y.Qm.push(E));else {B[2] && y.Qm.pop();y.gn.pop();continue;}}E=v.call(u,y);}catch(F){E=[6,F];z=0;}finally{A=B=0;}}if(E[0] & 5)throw E[1];return {value:E[0]?E[1]:void 0,done:!0};}y={label:0,$d:function(){if(B[0] & 1)throw B[1];return B[1];},gn:[],Qm:[]};return (D={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});l=a(536);m=a(55);d=a(75);a(41);g=a(297);h=a(537);k=a(544);n=a(546);q=a(103);p=a(130);a(549);t=a(550);r=(function(){function u(v){v=v || ({});if("object" !== typeof v)throw Error("" + m.I9a);if(void 0 === v.iF)v.iF=d.Lr.WZ;else if(v.iF !== d.Lr.Oba && v.iF !== d.Lr.WZ && v.iF !== d.Lr.Request)throw Error("" + m.G9a);if(void 0 === v.LR)v.LR=!1;else if("boolean" !== typeof v.LR)throw Error("" + m.F9a);if(void 0 === v.jH)v.jH=!1;else if("boolean" !== typeof v.jH)throw Error("" + m.H9a);this.options={LR:v.LR,iF:v.iF,jH:v.jH};this.id=q.id();this.YI=new t.Ybb();this.ikb=[];this.parent=this.Gda=null;this.$hb=new g.xaa();}u.prototype.load=function(){var y,A;for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}w=this.vJa();for(var x=0;x < v.length;x++){y=v[x];A=w(y.id);y.dra(A.qNa,A.u6a,A.nXa,A.T1a);}};u.prototype.yU=function(){for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}c(this,void 0,void 0,function(){var x,y,A,z,B;return f(this,function(D){switch(D.label){case 0:(x=this.vJa(),y=0,A=v,D.label=1);case 1:if(!(y < A.length))return [3,4];z=A[y];B=x(z.id);return [4,z.dra(B.qNa,B.u6a,B.nXa,B.T1a)];case 2:(D.$d(),D.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};u.prototype.bind=function(v){var w;w=new l.U8a(v,this.options.iF || d.Lr.WZ);this.YI.add(v,w);return new n.W8a(w);};u.prototype.CPb=function(v){this.t6a(v);return this.bind(v);};u.prototype.t6a=function(v){try{this.YI.remove(v);}catch(w){throw Error(m.r9a + " " + p.rL(v));}};u.prototype.HWa=function(v){var w;w=this.YI.xVa(v);!w && this.parent && (w=this.parent.HWa(v));return w;};u.prototype.restore=function(){var v;v=this.ikb.pop();if(void 0 === v)throw Error(m.Mcb);this.YI=v.OR;this.Gda=v.xJb;};u.prototype.ssb=function(){var v;v=new u(this.options);v.parent=this;return v;};u.prototype.get=function(v){return this.uJa(!1,!1,d.Ow.cca,v);};u.prototype.getAll=function(v){return this.uJa(!0,!0,d.Ow.cca,v);};u.prototype.resolve=function(v){var w;w=this.ssb();w.bind(v).Y5a();return w.get(v);};u.prototype.vJa=function(){var A;function v(z){return function(B){B=A.CPb.bind(A)(B);B.oc.UJb=z;return B;};}function w(){return function(z){return A.HWa.bind(A)(z);};}function x(){return function(z){A.t6a.bind(A)(z);};}function y(z){return function(B){B=A.bind.bind(A)(B);B.oc.UJb=z;return B;};}A=this;return function(z){return {qNa:y(z),nXa:w(z),T1a:v(z),u6a:x(z)};};};u.prototype.uJa=function(v,w,x,y){var A;A=null;v={gnb:v,Aqb:function(z){return z;},DFb:w,key:void 0,mg:y,AVb:x,value:void 0};if(this.Gda){if((A=this.Gda(v),void 0 === A || null === A))throw Error(m.Ebb);}else A=this.mjb()(v);return A;};u.prototype.mjb=function(){var v;v=this;return function(w){var x;x=h.GM(v.$hb,v,w.DFb,w.AVb,w.mg,w.key,w.value,w.gnb);x=w.Aqb(x);return k.resolve(x);};};return u;})();b.lY=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(103);r=(function(){function l(m,d){this.id=f.id();this.Fea=!1;this.mg=m;this.scope=d;this.type=c.fj.Qbb;this.$E=function(){return !0;};this.GK=this.Gv=this.nz=this.SK=this.cache=this.Ml=null;}l.prototype.clone=function(){var m;m=new l(this.mg,this.scope);m.Fea=!1;m.Ml=this.Ml;m.GK=this.GK;m.scope=this.scope;m.type=this.type;m.SK=this.SK;m.nz=this.nz;m.$E=this.$E;m.Gv=this.Gv;m.cache=this.cache;return m;};return l;})();b.U8a=r;},function(r,b,a){var d,g,h,k,n,q,p,t,u,v,w,x;function c(y,A,z,B,D){var E,F;E=m(z.$a,D.mg);F=[];E.length === d.X9.TCa && z.$a.options.LR && "function" === typeof D.mg && y.lTa(D.mg).QOa && (z.$a.bind(D.mg).Y5a(),E=m(z.$a,D.mg));F=A?E:E.filter(function(C){var G;G=new w.Request(C.mg,z,B,C,D);return C.$E(G);});f(D.mg,F,D,z.$a);return F;}function f(y,A,z,B){switch(A.length){case d.X9.TCa:if(z.VWa())return A;y=q.rL(y);A=g.Kcb;A+=q.ZGb(y,z);A+=q.TXa(B,y,m);throw Error(A);case d.X9.bdb:if(!z.isArray())return A;default:if(z.isArray())return A;y=q.rL(y);A=g.$7a + " " + y;A+=q.TXa(B,y,m);throw Error(A);}}function l(y,A,z,B,D,E){var F;if(null === D){A=c(y,A,B,null,E);F=new w.Request(z,B,null,A,E);z=new u.$db(B,F);B.slb(z);}else (A=c(y,A,B,D,E),F=D.GLa(E.mg,A,E));A.forEach(function(C){var G,J,K;G=null;if(E.isArray())G=F.GLa(C.mg,C,E);else {if(C.cache)return;G=F;}if(C.type === h.fj.Instance && null !== C.Ml){J=v.Xzb(y,C.Ml);if(!B.$a.options.jH){K=v.tzb(y,C.Ml);if(J.length < K)throw (C=g.b8a(v.getFunctionName(C.Ml)),Error(C));}J.forEach(function(H){l(y,!1,H.mg,B,G,H);});}});}function m(y,A){var z,B;z=[];B=y.YI;B.xVa(A)?z=B.get(A):null !== y.parent && (z=m(y.parent,A));return z;}Object.defineProperty(b,"__esModule",{value:!0});d=a(538);g=a(55);h=a(75);k=a(41);n=a(298);q=a(130);p=a(539);t=a(64);u=a(540);v=a(541);w=a(543);x=a(300);b.E5b=function(y){return y.YI;};b.GM=function(y,A,z,B,D,E,F,C){void 0 === C && (C=!1);A=new p.Wwa(A);z=new t.Metadata(z?k.uD:k.mP,D);B=new x.TZ(B,"",D,z);void 0 !== E && (E=new t.Metadata(E,F),B.yd.push(E));try{return (l(y,C,D,A,null,B),A);}catch(G){throw (n.bXa(G) && A.GM && q.xpb(A.GM.Nra),G);}};b.M4b=function(y,A,z,B){z=new x.TZ(h.Ow.cca,"",A,new t.Metadata(z,B));y=new p.Wwa(y);return new w.Request(A,y,null,[],z);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.X9={m1b:2,TCa:0,bdb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);r=(function(){function f(l){this.id=c.id();this.$a=l;}f.prototype.slb=function(l){this.GM=l;};return f;})();b.Wwa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$db=(function(){return function(a,c){this.AM=a;this.Nra=c;};})();},function(r,b,a){var d,g,h,k,n,q;function c(p,t,u,v){var w,x,y,A,B,D,E,F,C,G,J,K;w=p.lTa(u);x=w.QOa;if(void 0 === x)throw Error(g.icb + " " + t + ".");w=w.iYb;y=Object.keys(w);A=0 === u.length && 0 < y.length?y.length:u.length;y=[];for(var z=0;z < A;z++){B=z;D=v;E=t;F=x;C=w[B.toString()] || [];G=m(C);J=!0 !== G.Ek;F=F[B];K=G.l || G.oG;F=K?K:F;F instanceof d.eaa && (F=F.gXb());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!D && J)throw Error(g.jcb + " argument " + B + " in class " + E + ".");B=new q.TZ(h.Ow.Vwa,G.cX,F);B.yd=C;C=B;}else C=null;null !== C && y.push(C);}p=f(p,u);return y.concat(p);}function f(p,t){var y,A,z;for(var u=p.OBb(t),v=[],w=0,x=Object.keys(u);w < x.length;w++){y=x[w];A=u[y];z=m(u[y]);y=new q.TZ(h.Ow.Mwa,z.cX || y,z.l || z.oG);y.yd=A;v.push(y);}t=Object.getPrototypeOf(t.prototype).constructor;t !== Object && (p=f(p,t),v=v.concat(p));return v;}function l(p,t){var u,v;t=Object.getPrototypeOf(t.prototype).constructor;if(t !== Object){u=n.getFunctionName(t);u=c(p,u,t,!0);v=u.map(function(w){return w.yd.filter(function(x){return x.key === k.XP;});});v=[].concat.apply([],v).length;u=u.length - v;return 0 < u?u:l(p,t);}return 0;}function m(p){var t;t={};p.forEach(function(u){t[u.key.toString()]=u.value;});return {l:t[k.mP],oG:t[k.uD],cX:t[k.hZ],Ek:t[k.XP]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(299);g=a(55);h=a(75);k=a(41);n=a(130);b.getFunctionName=n.getFunctionName;q=a(300);b.Xzb=function(p,t){var u;u=n.getFunctionName(t);return c(p,u,t,!1);};b.tzb=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.KN=c;}a.prototype.startsWith=function(c){return 0 === this.KN.indexOf(c);};a.prototype.endsWith=function(c){var f;f=c.split("").reverse().join("");c=this.KN.split("").reverse().join("");return this.startsWith.call({KN:c},f);};a.prototype.contains=function(c){return -1 !== this.KN.indexOf(c);};a.prototype.equals=function(c){return this.KN === c;};a.prototype.value=function(){return this.KN;};return a;})();b.ieb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);r=(function(){function f(l,m,d,g,h){this.id=c.id();this.mg=l;this.AM=m;this.gz=d;this.target=h;this.Aga=[];this.OR=Array.isArray(g)?g:[g];this.VQb=null === d?new Map():null;}f.prototype.GLa=function(l,m,d){l=new f(l,this.AM,this,m,d);this.Aga.push(l);return l;};return f;})();b.Request=r;},function(r,b,a){var l,m,d,g,h;function c(k){return function(n){var q,p,t,u,v;q=n.OR;p=n.Aga;t=n.target && n.target.isArray();u=!n.gz || !n.gz.target || !n.target || !n.gz.target.uIb(n.target.mg);if(t && u)return p.map(function(w){return c(k)(w);});t=null;if(!n.target.VWa() || 0 !== q.length){v=q[0];q=v.scope === m.Lr.Oba;u=v.scope === m.Lr.Request;if(q && v.Fea)return v.cache;if(u && null !== k && k.has(v.id))return k.get(v.id);if(v.type === m.fj.Twa)t=v.cache;else if(v.type === m.fj.Function)t=v.cache;else if(v.type === m.fj.Uwa)t=v.Ml;else if(v.type === m.fj.cya && null !== v.GK)t=f("toDynamicValue",v.mg,function(){return v.GK(n.AM);});else if(v.type === m.fj.E$ && null !== v.SK)t=f("toFactory",v.mg,function(){return v.SK(n.AM);});else if(v.type === m.fj.HFa && null !== v.nz)t=f("toProvider",v.mg,function(){return v.nz(n.AM);});else if(v.type === m.fj.Instance && null !== v.Ml)t=h.gRb(v.Ml,p,c(k));else throw (p=g.rL(n.mg),Error(l.Abb + " " + p));"function" === typeof v.Gv && (t=v.Gv(n.AM,t));q && (v.cache=t,v.Fea=!0);u && null !== k && !k.has(v.id) && k.set(v.id,t);return t;}};}function f(k,n,q){try{return q();}catch(p){if(d.bXa(p))throw Error(l.u9a(k,n.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(75);d=a(298);g=a(130);h=a(545);b.resolve=function(k){return c(k.GM.Nra.VQb)(k.GM.Nra);};},function(r,b,a){var l,m,d;function c(g,h,k){var n;h=h.filter(function(q){return null !== q.target && q.target.type === m.Ow.Mwa;});n=h.map(k);h.forEach(function(q,p){q=q.target.name.value();g[q]=n[p];});return g;}function f(g,h){var k;if(Reflect.qDb(d.FP,g)){k=Reflect.getMetadata(d.FP,g);try{h[k.value]();}catch(n){throw Error(l.Sdb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(75);d=a(41);b.gRb=function(g,h,k){var n;n=null;0 < h.length?(n=h.filter(function(q){return null !== q.target && q.target.type === m.Ow.Vwa;}).map(k),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,h,k)):n=new g();f(g,n);return n;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(75);l=a(547);m=a(301);r=(function(){function d(g){this.oc=g;}d.prototype.to=function(g){this.oc.type=f.fj.Instance;this.oc.Ml=g;return new l.Qva(this.oc);};d.prototype.Y5a=function(){if("function" !== typeof this.oc.mg)throw Error("" + c.Gbb);this.to(this.oc.mg);};d.prototype.ri=function(g){this.oc.type=f.fj.Twa;this.oc.cache=g;this.oc.GK=null;this.oc.Ml=null;new m.cD(this.oc);};d.prototype.UC=function(g){this.oc.type=f.fj.cya;this.oc.cache=null;this.oc.GK=g;this.oc.Ml=null;return new l.Qva(this.oc);};d.prototype.fWb=function(g){this.oc.type=f.fj.Uwa;this.oc.Ml=g;new m.cD(this.oc);};d.prototype.uf=function(g){this.oc.type=f.fj.E$;this.oc.SK=g;new m.cD(this.oc);};d.prototype.gWb=function(g){if("function" !== typeof g)throw Error(c.Dbb);this.ri(g);this.oc.type=f.fj.Function;};d.prototype.W5a=function(g){this.oc.type=f.fj.E$;this.oc.SK=function(h){return function(){return h.$a.get(g);};};new m.cD(this.oc);};d.prototype.kX=function(g){this.oc.type=f.fj.HFa;this.oc.nz=g;new m.cD(this.oc);};d.prototype.hWb=function(g){this.UC(function(h){return h.$a.get(g);});};return d;})();b.W8a=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(548);f=a(194);l=a(195);r=(function(){function m(d){this.oc=d;this.eQ=new l.Y9(this.oc);this.tca=new f.dY(this.oc);this.IIa=new c.V8a(d);}m.prototype.aa=function(){return this.IIa.aa();};m.prototype.Ola=function(){return this.IIa.Ola();};m.prototype.when=function(d){return this.eQ.when(d);};m.prototype.LX=function(){return this.eQ.LX();};m.prototype.Gv=function(d){return this.tca.Gv(d);};return m;})();b.Qva=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(301);r=(function(){function l(m){this.oc=m;}l.prototype.aa=function(){this.oc.scope=c.Lr.Oba;return new f.cD(this.oc);};l.prototype.Ola=function(){this.oc.scope=c.Lr.WZ;return new f.cD(this.oc);};return l;})();b.V8a=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n_b=(function(){function a(){}a.of=function(c,f){var l;l=new a();l.OR=c;l.xJb=f;return l;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);r=(function(){function f(){this.ul=new Map();}f.prototype.add=function(l,m){var d;if(null === l || void 0 === l)throw Error(c.zP);if(null === m || void 0 === m)throw Error(c.zP);d=this.ul.get(l);void 0 !== d?(d.push(m),this.ul.set(l,d)):this.ul.set(l,[m]);};f.prototype.get=function(l){if(null === l || void 0 === l)throw Error(c.zP);l=this.ul.get(l);if(void 0 !== l)return l;throw Error(c.CAa);};f.prototype.remove=function(l){if(null === l || void 0 === l)throw Error(c.zP);if(!this.ul.delete(l))throw Error(c.CAa);};f.prototype.xVa=function(l){if(null === l || void 0 === l)throw Error(c.zP);return this.ul.has(l);};f.prototype.clone=function(){var l;l=new f();this.ul.forEach(function(m,d){m.forEach(function(g){return l.add(d,g.clone());});});return l;};return f;})();b.Ybb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);b.ad=(function(){return function(f){this.id=c.id();this.dra=f;};})();b.Eva=(function(){return function(f){this.id=c.id();this.dra=f;};})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(41);b.R=function(){return function(l){var m;if(Reflect.rla(f.Jaa,l))throw Error(c.O$a);m=Reflect.getMetadata(f.m$a,l) || [];Reflect.Uha(f.Jaa,m,l);return l;};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(64);f=a(88);b.u5a=function(l,m){return function(d,g,h){var k;k=new c.Metadata(l,m);"number" === typeof h?f.rH(d,g,h,k):f.bX(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);l=a(88);b.QZa=function(m){return function(d,g,h){var k;k=new f.Metadata(c.qA,m);"number" === typeof h?l.rH(d,g,h,k):l.bX(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);l=a(88);b.optional=function(){return function(m,d,g){var h;h=new f.Metadata(c.bDa,!0);"number" === typeof g?l.rH(m,d,g,h):l.bX(m,d,h);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);l=a(88);b.Ek=function(){return function(m,d,g){var h;h=new f.Metadata(c.XP,!0);l.rH(m,d,g,h);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);l=a(88);b.oG=function(m){return function(d,g,h){var k;k=new f.Metadata(c.uD,m);"number" === typeof h?l.rH(d,g,h,k):l.bX(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);l=a(88);b.cX=function(m){return function(d,g,h){var k;k=new f.Metadata(c.hZ,m);l.rH(d,g,h,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(41);l=a(64);b.b1a=function(){return function(m,d){d=new l.Metadata(f.FP,d);if(Reflect.rla(f.FP,m.constructor))throw Error(c.wcb);Reflect.Uha(f.FP,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NZa=function(a){return function(c){return function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.forEach(function(m){return a.bind(m).hWb(c);});};};};},function(r,b,a){var d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D;function c(E,F){E=E.rv || E.JL?u.BTa(F):E.gU?w.KTa(F):E.O4?v.tUa(F):E.NL?x.KUa(F):t.hTa(F);this.GY=E.GY;this.k$=E.k$;}function f(E){this.Xd=E;}function l(E){var F;F=k.dba.call(this) || this;E.gU?Object.assign(F,w.JTa()):E.O4?Object.assign(F,v.sUa()):E.rv || E.JL?Object.assign(F,u.ATa()):E.NL?Object.assign(F,x.JUa()):Object.assign(F,t.gTa(E));return F;}function m(E){this.data=E.gU?w.MTa(E):E.O4?v.vUa(E):E.rv || E.JL?u.DTa(E):E.NL?x.MUa(E):t.jTa(E);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.n9a=b.m9a=b.l9a=b.k9a=void 0;r=a(1);d=a(0);g=a(34);h=a(131);k=a(562);n=a(160);q=a(304);p=a(197);t=a(563);u=a(564);v=a(565);w=a(566);x=a(567);y=a(568);A=a(569);Va.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},b6:{configurable:!0,enumerable:!0,get:function(){return this.data.b6;}},pp:{configurable:!0,enumerable:!0,get:function(){return this.data.pp;}},Qn:{configurable:!0,enumerable:!0,get:function(){return this.data.Qn;}},bL:{configurable:!0,enumerable:!0,get:function(){return this.data.bL;}},$x:{configurable:!0,enumerable:!0,get:function(){return this.data.$x;}},aia:{configurable:!0,enumerable:!0,get:function(){return this.data.aia;}},iQa:{configurable:!0,enumerable:!0,get:function(){return this.data.iQa;}},sna:{configurable:!0,enumerable:!0,get:function(){return this.data.sna;}},zS:{configurable:!0,enumerable:!0,get:function(){return this.data.zS;}},Aua:{configurable:!0,enumerable:!0,get:function(){return this.data.Aua;}},N0:{configurable:!0,enumerable:!0,get:function(){return this.data.N0;}},cW:{configurable:!0,enumerable:!0,get:function(){return this.data.cW;}}});z=m;z=r.__decorate([d.R(),r.__param(0,d.l(n.eA))],z);b.k9a=z;ka(l,k.dba);B=l;B=r.__decorate([d.R(),r.__param(0,d.l(n.eA))],B);b.l9a=B;f.prototype.apply=function(){this.Xd.gU?Object.assign(this,w.LTa(this.Xd)):this.Xd.O4?Object.assign(this,v.uUa(this.Xd)):this.Xd.rv || this.Xd.JL?Object.assign(this,u.CTa(this.Xd)):this.Xd.NL?Object.assign(this,x.LUa(this.Xd)):Object.assign(this,t.iTa(this.Xd));return this;};D=f;D=r.__decorate([d.R(),r.__param(0,d.l(n.eA))],D);b.m9a=D;c=r.__decorate([d.R(),r.__param(0,d.l(n.eA)),r.__param(1,d.l(g.Kk))],c);b.n9a=c;b.platform=new d.ad(function(E){E(g.Kk).to(z).aa();E(h.HP).to(B).aa();E(q.wEa).to(D).aa();E(g.tA).to(c).aa();E(p.eba).uf(function(F){return function(){var C;C=F.$a.get(n.eA);return C.rv || C.JL?{Ob:function(G,J,K){return new A.hca(G,J,K);},request:y.tIa}:C.NL?{Ob:function(G,J,K){return new (a(570))(G,J,K);},request:a(571)}:{};};});});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.dba=void 0;c=a(4);f=a(47);l=a(196);m=a(48);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.dba=function(){this.iNa=this.$J=l.ow.bZ;this.osa=!0;this.fB=[];this.jw=[];this.yG=this.JK=!1;this.cw=[m.Sr.l$,m.Sr.Beb,m.Sr.uI];this.Nl=void 0;this.Dia=!0;this.s2=!1;this.AR=f.ca(288E4);this.BR=f.ca(335544320);this.Uy=c.xc(15E3);this.CIb=f.ca(6291456);this.UL=1E3;this.gga=!0;this.Dta=d;this.TN=f.ca(0);this.A8=c.xc(0);this.$T=!0;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.hTa=b.iTa=b.gTa=b.jTa=void 0;c=a(25);f=a(48);l=a(132);b.jTa=function(m){return Object.assign(Object.assign({},l.hL()),{pp:m.fXa?"T":m.IL?"C":"M",Qn:m.fXa?"NFCDTS-01-":m.U4?"NFCDCH-02-":m.tma?"NFCDCH-MC-":m.IL?"NFCDCH-01-":m.D4?"NFCDCH-AP-":m.C4?"NFCDCH-AT-":m.iU?"NFCDCH-PH-":"NFCDCH-LX-",$x:m.IL?"chromeos-cadmium":"chrome-cadmium",cW:m.IL});};b.gTa=function(m){var d;d=Object.assign(Object.assign({},l.fL()),{JK:!0,yG:!0});m.IL && (d.jw=[].concat(ca(f.N.G$),ca(f.N.G9),ca(f.N.aIa),ca(f.N.Zba),ca(f.N.$ba),ca(f.N.K$),ca(f.N.J$)));return d;};b.iTa=function(m){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Bi.XH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= m.Lq && (d=Object.assign(Object.assign({},d),{enableVP9:!0}));80 <= m.Lq && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0}));m.IL && 89 <= m.Lq && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));94 <= m.Lq && m.U4 && (d=Object.assign(Object.assign({},d),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));return d;};b.hTa=function(m){return l.gL(m);};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.BTa=b.CTa=b.ATa=b.DTa=void 0;c=a(25);f=a(104);l=a(48);m=a(196);d=a(132);b.DTa=function(g){return Object.assign(Object.assign({},d.hL()),{pp:g.rv?"D":"H",Qn:g.rv?g.tma?"NFCDIE-04-":g.D4?"NFCDIE-AP-":g.C4?"NFCDIE-AT-":g.iU?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",$x:"edge-cadmium",N0:!1,cW:!1});};b.ATa=function(){return Object.assign(Object.assign({},d.fL()),{$J:pb.crypto?m.ow.bZ:m.ow.BAa,iNa:pb.crypto?m.ow.bZ:m.ow.BAa,fB:[l.oe.kD,l.oe.lD,l.oe.EO,l.oe.FO],jw:[].concat(ca(l.N.G$),ca(l.N.G9),ca(l.N.aIa),ca(l.N.Zba),ca(l.N.$ba),ca(l.N.K$),ca(l.N.J$),ca(l.N.pxa),ca(l.N.oxa),ca(l.N.dj)),Nl:void 0,$T:!1});};b.CTa=function(g){var h,k,n,q,p,t,u;h={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.au.Fw,videoCapabilityDetectorType:c.Bi.Fw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};k=g.JL;n=g.rv;q=g.U4;p=pb.MSMediaKeys && pb.MSMediaKeys.isTypeSupported(f.zb.ru,"video/mp4");t=pb.MSMediaKeys && pb.MSMediaKeys.isTypeSupported(f.zb.Kd,"video/mp4");t={prepareCadmium:!0,enableLdlPrefetch:!p || t,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:c.au.du,videoCapabilityDetectorType:c.Bi.XH,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.zb.pIa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[l.oe.kD,l.oe.lD],videoProfiles:[l.N.iI,l.N.jD,l.N.QO,l.N.RO],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};k && (14 <= g.Lq && (h=Object.assign(Object.assign(Object.assign({},h),t),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= g.Lq && (h=Object.assign(Object.assign({},h),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= g.Lq && (h=Object.assign(Object.assign({},h),{microsoftHwdrmRequiresHevc:!1})),17 <= g.Lq && (h=Object.assign(Object.assign({},h),{enableDDPlusAtmos:!0})));n && (h=Object.assign(Object.assign({},h),t),q && (h=Object.assign(Object.assign({},h),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),p?(h=Object.assign(Object.assign({},h),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0}),94 <= g.Lq && (h=Object.assign(Object.assign({},h),{keySystemList:[f.zb.beb,f.zb.ceb],useTypescriptEme:!0,enableCDMAttestedDescriptors:!0}))):h=Object.assign(Object.assign({},h),u));return h;};b.BTa=function(g){return d.gL(g);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.tUa=b.uUa=b.sUa=b.vUa=void 0;c=a(25);f=a(132);b.vUa=function(l){return Object.assign(Object.assign({},f.hL()),{pp:"O",Qn:l.D4?"NFCDOP-AP-":l.C4?"NFCDOP-AT-":l.iU?"NFCDOP-PH-":"NFCDOP-01-",$x:"opera-cadmium"});};b.sUa=function(){return Object.assign(Object.assign({},f.fL()),{JK:!0,yG:!0});};b.uUa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Bi.XH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= l.Lq && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};b.tUa=function(l){return f.gL(l);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.KTa=b.LTa=b.JTa=b.MTa=void 0;c=a(25);f=a(132);b.MTa=function(l){return Object.assign(Object.assign({},f.hL()),{pp:"F",Qn:l.tma?"NFCDFF-MC-":l.U4?"NFCDFF-02-":l.D4?"NFCDFF-AP-":l.C4?"NFCDFF-AT-":l.iU?"NFCDFF-PH-":"NFCDFF-LX-",$x:"firefox-cadmium"});};b.JTa=function(){return Object.assign(Object.assign({},f.fL()),{JK:!0,yG:!0});};b.LTa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.Bi.XH,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};58 <= l.Lq && (m=Object.assign(Object.assign({},m),{enableVP9:!0,preciseSeeking:!0}));return m;};b.KTa=function(l){return f.gL(l);};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.KUa=b.LUa=b.JUa=b.MUa=void 0;c=a(4);f=a(25);l=a(104);m=a(48);d=a(132);b.MUa=function(g){return Object.assign(Object.assign({},d.hL()),{pp:"S",Qn:g.iU?"NFCDSF-PH-":"NFCDSF-01-",$x:"safari-cadmium"});};b.JUa=function(){return Object.assign(Object.assign({},d.fL()),{fB:[m.oe.kD,m.oe.lD,m.oe.WD],jw:[].concat(ca(m.N.G$),ca(m.N.G9),ca(m.N.Zba),ca(m.N.$ba),ca(m.N.K$),ca(m.N.J$),ca(m.N.pxa),ca(m.N.oxa)),Nl:l.zb.xab,Uy:c.xc(7E3)});};b.LUa=function(g){var h;h={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.Bi.du,enableSeamless:!0};d.jU(g,10,12,2) && (h=Object.assign(Object.assign({},h),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));d.jU(g,10,13,6) && (h=Object.assign(Object.assign({},h),{enableLdlPrefetch:!0}));d.jU(g,10,15,5) && (h=Object.assign(Object.assign({},h),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));d.jU(g,10,15,6) && (h=Object.assign(Object.assign({},h),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));d.kXa(g,9) && (h=Object.assign(Object.assign({},h),{maxDecoderBufferMilliseconds:31E3}));return h;};b.KUa=function(g){return d.gL(g);};},function(r,b,a){var f;function c(l,m,d,g){this.log=l;this.CF=m;this.vz=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=void 0;f=a(3);c.prototype.hg=function(l){var m;m=this;(this.context.$e || this.context.pk) && this.log.trace("Requesting license",{drmType:l.Pn});return this.CF(l).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.e9b)throw d;throw {W:!1,code:f.M.pI,kc:d.kc,xd:d.xd,zm:d.zm,Fj:d.message || d.Fj,OK:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Fj)};});};c.prototype.release=function(l){var m;m=this;this.log.trace("Requesting stop data");return this.vz(l).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.kc,extCode:d.xd,edgeCode:d.zm,message:d.message || d.Fj});throw {W:!1,code:f.M.Aba,kc:d.kc,xd:d.xd,zm:d.zm,Fj:d.message || d.Fj,message:"Unable to release the PlayReady license. " + (d.message || d.Fj)};});};b.tIa=c;pb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.hca=void 0;c=a(3);f=a(193);l=a(198);m=a(28);d=a(76);g=a(35);h=a(25);k=a(65);(function(){var A;function n(z,B,D){var E;E=this;this.log=z;this.Pm=B || y.bind(this);this.context=D;this.AV=this.challenge=this.keySystem=this.keySessionId=this.yb=this.mediaKeys=void 0;this.cd={};this.gna=this.cta=!1;this.nV=u.bind(this);this.AV=void 0;this.Hua=new Promise(function(F,C){E.Fra=F;E.fra=C;});this.Hua.catch(function(F){E.log.error("wait for license rejected",F);});f.kd.get(h.vw).l3().then(function(F){(E.context.$e || E.context.pk) && E.log.debug("DRIVERINFO: ",F);}).catch(function(F){E.log.error("DRIVERINFO",F);});this.Om=function(F,C){E.fra(F,C);E.context.onerror(F,C);};this.ppa=function(){E.Fra();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function q(){return f.kd.get(g.Th);}function p(){return f.kd.get(m.Kf);}function t(z){var B,D;B=f.kd.get(l.Rba);D="";z.forEach(function(E){D+="<KeyID>" + E + "</KeyID>";});z='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.e5a(z));(this.context.$e || this.context.pk) && this.log.trace("LICENSE: proactive license cdm data",{xml:z,b64:q().encode(B)});return B;}function u(z){var B;B=z.target.error?z.target.error.msExtendedCode:void 0;this.log.error("Received " + z.type + " event",{sessionId:this.yb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(A.ef.tq,A.zA.Or,B);this.yb=void 0;}function v(z,B,D){var F,C,G;for(var E=2;E < arguments.length;++E){;}E="";C=z.length;for(F=0;F < C;F++){G=z[F];0 < G && (E+=String.fromCharCode(G));}C="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){G=arguments[F];if(0 > E.search(G))return;G="(?:[^:].*:|)" + G;C="[\\s\\S]*<" + G + "[^>]*>" + C + "</" + G + ">[\\s\\S]*";}if(E=E.match(new RegExp(C)))return E[1];}function w(z,B,D,E){var F,C;F=z.target && z.target.sessionId;C=q().decode(v(z.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + z.type + " event",{keySystem:z.target && z.target.keySystem,sessionId:F});(D.context.$e || D.context.pk || D.context.Uz) && D.log.debug("LICENSE: License challenge",q().encode(C));D.keySessionId=F;z={Tf:B,messageType:"license-request",Pn:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",Aj:[{data:C,sessionId:F}]};12 === D.state && (D.Pm("lc"),C={data:C,Pn:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.BG || (D.AV=C));D.context.ll.hg(z).then(function(G){if(12 === D.state && (D.Pm("lr"),D.ppa(),!D.context.BG))(D.BV=G.Mi[0].data,D.state=13,E({W:!0,state:D.state}));else if(D.yb)return x(D,G.Mi[0].data,D.yb).then(function(){D.state=30;E({W:!0,state:D.state});});}).catch(function(G){E(p().lG(G,{state:D.state}));});}function x(z,B,D){z.H4() && z.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:q().encode(B)});return new Promise(function(E,F){try{z.yb.update(B);E(void 0);z.H4() && z.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(C){F({W:!1,code:A.ef.uZ,message:"Unable to update the EME.",rb:p().wd(C)});}});}function y(z){this.context.xa && (this.cd[z]=this.context.xa.getTime(),this.log.trace("Milestone: " + z + ", " + this.cd[z]));}A={};A.ef=c.M;A.zA=c.L;n.prototype.Ks=function(){return this.keySystem;};n.prototype.Q6a=function(z,B){z.log && (this.log=z.log);z.Pm && (this.Pm=z.Pm);B.ll && (this.context.ll=B.ll);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(z){var B;B=this;return (z?Promise.resolve(z):f.kd.get(h.vw).Ks()).then(function(D){B.Pm("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;try{if(!pb.MSMediaKeys.isTypeSupported(D,"video/mp4"))return Promise.reject({code:A.ef.Paa});}catch(E){return Promise.reject({code:A.ef.Paa});}if(B.context.OV)D=Promise.reject({W:!1,code:A.ef.MO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new pb.MSMediaKeys(D);}catch(E){D=Promise.reject({W:!1,code:A.ef.nDa,message:"create MSMediaKeys(" + D + ") failed",rb:p().wd(E)});break a;}try{B.context.la && B.context.la.msSetMediaKeys(B.mediaKeys);}catch(E){D=Promise.reject({W:!1,code:A.ef.xI,message:"set MSMediaKeys failed",rb:p().wd(E)});break a;}D=Promise.resolve({W:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){if(this.yb){this.log.info("Closing the session",{sessionId:this.yb.sessionId});this.yb.removeEventListener("mskeyerror",this.nV);try{this.yb.close();}catch(z){this.log.error("Failed to close the key sessions",z);}this.yb=void 0;}};n.prototype.hg=function(z,B,D){var E;if(1 < B.length)return Promise.reject({code:A.ef.sDa});if(0 === B.length)return Promise.reject({code:A.ef.rDa});B=B[0];E=this;E.context.$e && E.log.trace("LICENSE: Setting license");return E.context.OV?Promise.reject({W:!1,code:A.ef.jya,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,C){var G,J,K,H,L,R,I;try{J=function(Q){E.yb && (E.yb.removeEventListener("mskeymessage",H),E.yb.removeEventListener("mskeyadded",L),E.yb.removeEventListener("mskeyerror",R),E.yb.addEventListener("mskeyerror",E.nV));Q.state=11;Q.W?F(Q):(E.close(),C(Q));};K=function(Q){var N,M;N=[];M=Array.prototype.map.call(Q,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(M)N.push(M[1]);else {Q=v(Q,"KIDS");M=/VALUE="(.+?)">/g;for(var P=M.exec(Q);null != P;){N.push(P[1]);P=M.exec(Q);}}return N;};H=function(Q){G && clearTimeout(G);w(Q,z,E,J);};L=function(Q){(E.context.$e || E.context.pk) && E.log.trace("LICENSE: Received " + Q.type + " event",{keySystem:Q.target.keySystem,sessionId:Q.target.sessionId});J({W:!0});};R=function(Q){var N,M;G && clearTimeout(G);if(Q.target && Q.target.error)(N=Q.target.error.systemCode,M=Q.target.error.code);N={code:A.ef.tq,kc:A.zA.Or,xd:N?f.kd.get(d.pw).vF(N,4):M,details:p().wd(Q),cause:Q.target && Q.target.error,s8:N,A2:M};E.log.error("LICENSE: Received " + Q.type + " event",{sessionId:E.yb && E.yb.sessionId,keySystem:Q.target.keySystem,systemCode:N.s8,code:N.A2});E.Pm("le");E.Om && E.Om(A.ef.tq,N);J({W:!1,code:A.ef.tq,kc:A.zA.Or,xd:N.xd,message:"Received a key error.",rb:N.details,cause:N.cause});};E.log.trace("LICENSE: Executing prefix based EME");(E.context.$e || E.context.pk) && E.log.debug("LICENSE: PSSH",q().encode(B));E.sv || (E.sv=K(B));if(D){I=t.call(E,E.sv);E.yb=E.mediaKeys.createSession("video/mp4",new Uint8Array(0),I);}else E.yb=E.mediaKeys.createSession("video/mp4",B,null);(E.context.$e || E.context.pk) && E.log.debug("LICENSE: Created the media keys sessions",{keySystem:E.yb.keySystem,sessionId:E.yb.sessionId});E.yb.addEventListener("mskeymessage",H);E.yb.addEventListener("mskeyadded",L);E.yb.addEventListener("mskeyerror",R);E.context.TGb && (G=setTimeout(function(){J({W:!1,code:A.ef.EP,kc:A.zA.jab});},E.context.TGb));}catch(Q){C({code:A.ef.EP,kc:A.zA.gj});}});})();};n.prototype.MG=function(){var z;(this.context.$e || this.context.pk) && this.log.trace("LICENSE: Renewing license");z=[new Uint8Array(0)];return this.hg(k.mq.daa.uq,z,!0);};n.prototype.R0=function(z){this.BV || this.log.error("pending license must exist at this point");this.context.BG=!0;try{z && (this.context.la=z,this.context.la.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({W:!1,code:A.ef.xI,message:"setMediaKeys failed",rb:p().wd(B)});}return x(this,this.BV,this.yb);};n.prototype.SRa=function(z){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(z));D={da:z.da,fe:z.fe};return new Promise(function(E,F){(function(){B.context.ll.release.call(B.context.ll,D).then(function(){var C;B.log.trace("successfully released the license",JSON.stringify(z));C={W:!0};B.close();C.W?E(C):F(C);}).catch(function(C){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:C.code,subCode:C.kc,extCode:C.xd,edgeCode:C.zm,message:C.Fj});B.close();C.W?E(C):F(C);});})();});};n.prototype.H4=function(){return this.context.$e || this.context.pk;};b.hca=n;pb._cad_global.WindowsEmeSession=b.hca;})();},function(r,b,a){var w,x,y,A,z,B,D,E,F,C,G,J;function c(K,H,L){var R;R=this;this.log=K;this.Pm=H || v.bind(this);this.context=L;this.AV=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.cd={};this.Oi=void 0;this.url="";this.gna=this.cta=!1;this.nV=k.bind(this);this.kg=this.AV=void 0;this.Hua=new Promise(function(I,Q){R.Fra=I;R.fra=Q;});this.Om=function(I,Q){R.fra(I,Q);R.context.onerror(I,Q);};this.ppa=function(){R.Fra();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function f(){return w.ha.get(z.uu);}function l(){return w.ha.get(A.Th);}function m(){return w.ha.get(x.Kf);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function g(K){var H;K=(function(L){var I,Q;function R(N,M,P,S){var ea,qa;ea=new Uint8Array("piff" == M?88:72);qa=new C.IO(ea);qa.Zz(12);qa.Yz("frma");qa.Yz(N);qa.Zz(20);qa.Yz("schm");qa.QX(0);qa.QX(0);qa.Yz(M);qa.Zz(P);"piff" == M?(qa.Zz(56),qa.Yz("schi"),qa.Zz(48),qa.Yz("uuid"),qa.PX([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(qa.Zz(40),qa.Yz("schi"),qa.Zz(32),qa.Yz("tenc"));qa.QX(0);qa.QX(0);qa.Zz(264);qa.PX(S);return ea;}I=R("avc1","piff",65537,L);I=f().decode(l().encode(I));L=R("avc1",G.tw,65536,L);L=f().decode(l().encode(L));Q=new Uint8Array(7 + I.length + 8 + L.length + 5);Q.set([91,10,32,32,32,32,34],0);Q.set(I,7);Q.set([34,44,10,32,32,32,32,34],7 + I.length);Q.set(L,7 + I.length + 8);Q.set([34,10,32,32,93],7 + I.length + 8 + L.length);return Q;})(K);H=new Uint8Array(13 + K.length + 2);H.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);H.set(K,13);H.set([10,125],13 + K.length);return H;}function h(K){var H;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=l().decode(K);K=K.subarray(4);H=new Uint8Array(16);H.set(K);return H;}function k(K){var H;H=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.yb?this.yb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:H.s8,code:H.A2});this.Om && this.Om(J.ef.tq,H);this.yb=void 0;}function n(K){var H,L;if(K.target.error)(H=K.target.error.systemCode,L=K.target.error.code);return {code:J.ef.tq,kc:J.zA.Or,xd:H?w.ha.get(y.pw).vF(H,4):L,details:m().wd(K),cause:K.target.error,s8:H,A2:L};}function q(K,H,L,R){var I,Q,N;I=K.target.sessionId;Q=K.message;N=m().rs(Q,f().decode("certificate"));L.gna=H === F.mq.daa.ln;L.state=N?2:12;L.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:I});(L.context.$e || L.context.pk || L.context.Uz) && L.log.debug("LICENSE: License challenge",l().encode(Q));L.keySessionId=I;K={Li:L.Li,Tf:H,messageType:"license-request",Pn:(/clearkey/i).test(L.keySystem)?"clearkey":"fps",Aj:[{data:Q,sessionId:I}]};12 === L.state && (L.Pm("lc"),Q={data:Q,Pn:(/clearkey/i).test(L.keySystem)?"clearkey":"fps"},L.context.BG || (L.AV=Q));L.context.ll.hg(K).then(function(M){if(12 === L.state && (L.Pm("lr"),L.ppa(),!L.context.BG))(L.BV=M.Mi[0].data,L.state=13,R({W:!0,state:L.state}));else if(L.yb)return (M=u(L,N,M.Mi[0].data,L.yb),2 === L.state?M:M.then(function(){L.state=30;R({W:!0,state:L.state});}));}).catch(function(M){R(m().lG(M,{state:L.state}));});}function p(K,H,L){H.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});L({W:!0});}function t(K,H,L){var R;R=n(K);H.Om && H.Om(J.ef.tq,R);H.log.error("LICENSE Error: Received event: " + K.type,{sessionId:H.yb?H.yb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:R.s8,code:R.A2});L({W:!1,code:J.ef.tq,kc:J.zA.Or,xd:R.xd,message:"Received a key error.",rb:R.details,cause:R.cause});}function u(K,H,L,R){R={sessionId:R.sessionId};K.H4() && (R.license=l().encode(L));K.log.trace("calling keysession update",R);return new Promise(function(I,Q){function N(){K.yb.removeEventListener("webkitkeyadded",N);I(void 0);}try{H || K.yb.addEventListener("webkitkeyadded",N);K.yb.update(L);H && I(void 0);}catch(M){Q({W:!1,code:J.ef.uZ,message:"Unable to update the EME.",e:M});}});}function v(K){this.cd[K]=w.ha.get(B.rd).Wb().ea(D.ma);this.log.trace("Milestone: " + K + ", " + this.cd[K]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(7);b=a(3);x=a(28);y=a(76);A=a(35);z=a(77);B=a(19);D=a(4);E=a(11);F=a(65);C=a(161);G=a(58);J={};J.ef=b.M;J.zA=b.L;c.prototype.Ks=function(){return this.keySystem;};c.prototype.Q6a=function(K,H){K.log && (this.log=K.log);K.Pm && (this.Pm=K.Pm);H.ll && (this.context.ll=H.ll);H.onerror && (this.context.onerror=H.onerror);};c.prototype.create=function(K){var H;H=this;H.Pm("lg");H.log.trace("CREATE: Creating the media keys",{keySystem:K});H.keySystem=K;return H.context.OV?Promise.reject({W:!1,code:J.ef.MO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function L(){var R,I;R=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");I=R.lastChild;H.kg=R;H.context.la=E.Ke.createElement("VIDEO");I?H.kg.insertBefore(H.context.la,I):H.kg.appendChild(H.context.la);}return new Promise(function(R,I){function Q(N){(H.context.$e || H.context.pk || H.context.Uz) && H.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{H.mediaKeys=new pb.WebKitMediaKeys(K);H.context.la.webkitSetMediaKeys(H.mediaKeys);R({W:!0,mediaKeys:H.mediaKeys});}catch(M){H.log.error("CREATE: Exception on webkitSetMediaKeys",M);I({W:!1,code:J.ef.EP,rb:m().wd(M)});}}if(d(H.keySystem))try{H.mediaKeys=new pb.WebKitMediaKeys(K);H.context.la && (H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.la.webkitSetMediaKeys(H.mediaKeys));R({W:!0,mediaKeys:H.mediaKeys});}catch(N){I({W:!1,code:J.ef.EP,rb:m().wd(N)});}else (H.mediaKeys=new pb.WebKitMediaKeys(K),H.context.la?(H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.la.webkitSetMediaKeys(H.mediaKeys)):(L(),H.Oi=new E.ED(),H.Oi.addEventListener("sourceopen",Q),H.url=URL.createObjectURL(H.Oi),H.context.la.src=H.url),R({W:!0,mediaKeys:H.mediaKeys}));});})();};c.prototype.close=function(){this.yb && (this.log.info("Closing the session",{sessionId:this.yb.sessionId}),this.yb.removeEventListener("webkitkeyerror",this.nV),this.yb.close(),this.yb=void 0);};c.prototype.hg=function(K,H){var L;if(1 < H.length)return Promise.reject({code:J.ef.sDa});if(0 === H.length)return Promise.reject({code:J.ef.rDa});H=H[0];L=this;L.context.$e && L.log.trace("LICENSE: Setting license",{initData:l().encode(H)});return L.context.OV?Promise.reject({W:!1,code:J.ef.jya,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(R,I){var N,M,P;function Q(S){L.yb && (L.yb.removeEventListener("webkitkeymessage",N),L.yb.removeEventListener("webkitkeyadded",M),L.yb.removeEventListener("webkitkeyerror",P),L.yb.addEventListener("webkitkeyerror",L.nV));S.W?R(S):(L.close(),I(S));}N=function(S){q(S,K,L,Q);};M=function(S){p(S,L,Q);};P=function(S){t(S,L,Q);};d(L.keySystem) && (L.Li=h(H),H=g(L.Li));L.log.trace("LICENSE: Executing prefix based EME");L.context.$e | L.context.pk && L.log.debug("LICENSE: PSSH",l().encode(H));L.yb=L.mediaKeys.createSession("video/mp4",H,null);(L.context.$e || L.context.pk) && L.log.debug("LICENSE: Created the media keys sessions",{keySystem:L.yb.keySystem,sessionId:L.yb.sessionId});L.yb.addEventListener("webkitkeymessage",N);L.yb.addEventListener("webkitkeyadded",M);L.yb.addEventListener("webkitkeyerror",P);});})();};c.prototype.MG=function(){var K;K=this;return K.cta?Promise.resolve({W:!0}):new Promise(function(H,L){var I,Q,N;function R(M){K.yb && (K.yb.removeEventListener("webkitkeymessage",I),K.yb.removeEventListener("webkitkeyadded",Q),K.yb.removeEventListener("webkitkeyerror",N));M.W?H(M):(L(M),K.close());}I=function(M){q(M,F.mq.daa.uq,K,R);};Q=function(M){p(M,K,R);H({W:!0});};N=function(M){t(M,K,R);};K.gna=!1;K.yb.addEventListener("webkitkeymessage",I);K.yb.addEventListener("webkitkeyadded",Q);K.yb.addEventListener("webkitkeyerror",N);K.yb.update(f().decode("renew"));});};c.prototype.R0=function(K){this.BV || this.log.error("pending license must exist at this point");this.context.BG=!0;try{K && (this.context.la=K,this.log.trace("calling setmediakeys on video element"),this.context.la.webkitSetMediaKeys(this.mediaKeys));}catch(H){return new Promise(function(L,R){R({W:!1,code:J.ef.xI,message:"setMediaKeys failed",rb:m().wd(H)});});}return u(this,!1,this.BV,this.yb);};c.prototype.SRa=function(K){var H,L;H=this;H.log.trace("Releasing the license of the current session",JSON.stringify(K));H.cta=!0;L={da:K.da,fe:K.fe};return new Promise(function(R,I){(function(){H.context.ll.release.call(H.context.ll,L).then(function(){var Q;H.log.trace("successfully released the license",JSON.stringify(K));Q={W:!0};Q.W?R(Q):(H.close(),I(Q));}).catch(function(Q){H.log.error("RELEASE: Unable to get the release the license",{sessionId:H.yb?H.yb.sessionId:void 0,code:Q.code,subCode:Q.kc,extCode:Q.xd,edgeCode:Q.zm,message:Q.Fj});Q.W?R(Q):(H.close(),I(Q));});})();});};c.prototype.H4=function(){return this.context.$e || this.context.pk;};r.exports=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q,p){this.log=k;this.CF=n;this.vz=q;this.context=p;}Object.defineProperty(b,"__esModule",{value:!0});f=a(3);l=a(7);m=a(28);d=a(77);g=a(35);h=a(58);c.prototype.hg=function(k){var n,q;n=this;(this.context.$e || this.context.pk) && this.log.debug("Requesting a license",k);if(l.ha.get(m.Kf).rs(l.ha.get(d.uu).decode("certificate"),k.Aj[0].data)){n.log.trace("Requesting Fairplay cert data.");q=Promise.resolve({Mi:[{sessionId:k.Aj[0].sessionId,data:l.ha.get(g.Th).decode(h.HY)}]});}else q=l.ha.get(m.Kf).rs(l.ha.get(d.uu).decode("content"),k.Aj[0].data)?Promise.resolve({Mi:[{sessionId:k.Aj[0].sessionId,data:k.Li}]}):(function(){n.log.trace("Requesting license",{drmType:k.Pn});return n.CF(k).catch(function(p){n.log.error("Unable to get the Fairplay license",p);throw {code:f.M.pI,kc:p.kc,xd:p.xd,zm:p.zm,Fj:p.message || p.Fj,OK:p.data,message:"Unable to send the Fairplay license request. " + (p.message || p.Fj),cause:p};});})();return q;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.vz(k).catch(function(q){n.log.error("Unable to release the FairPlay license",{code:q.code,subCode:q.kc,extCode:q.xd,edgeCode:q.zm,message:q.message || q.Fj});throw {W:!1,code:f.M.Aba,kc:q.kc,xd:q.xd,zm:q.zm,Fj:q.message || q.Fj,message:"Unable to release the FairPlay license. " + (q.message || q.Fj),cause:q};});};r.exports=c;},function(r,b,a){var m,d,g,h,k,n,q,p;function c(t,u,v){var w;w=this;this.is=t;this.cn=u;this.config=v;this.dw=function(){return {version:w.version,drmData:w.l2.map(function(x){return x.dw();})};};this.Fja=function(x){var y;w.is.Fn(x) && (x=f(x));1 === x.version && (x=l(w.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(A){return new p.BY(A);});}catch(A){throw new k.ed(g.M.mI,g.L.fA,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",A);}}else {if(!x.version || !w.is.ai(x.version))throw new k.ed(g.M.mI,g.L.fA,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.ed(g.M.mI,g.L.hwa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.yr=new n.W$(2,this.config.GS,this.is.Fn(this.config.GS),this.cn,this.dw);}function f(t){t=JSON.parse(t);t={xid:t.xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId};if(!t.licenseContextId || !t.xid || !t.movieId)throw new k.ed(g.M.mI,g.L.fA);return {version:1,drmData:[t]};}function l(t,u){if(t.wx(u.drmData))return {version:2,drmData:u.drmData.map(function(v){var w;w=v.keySessionIds;return new p.BY({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(x){return {id:x,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).dw();})};throw new k.ed(g.M.mI,g.L.fA);}Object.defineProperty(b,"__esModule",{value:!0});b.zwa=void 0;r=a(1);m=a(0);d=a(69);g=a(3);h=a(26);k=a(42);n=a(306);q=a(78);p=a(200);c.prototype.N1a=function(){return this.rUb();};c.prototype.JLa=function(t){return this.yr.add(t);};c.prototype.eW=function(t){return this.yr.remove(t,function(u,v){return u.da === v.da;});};c.prototype.toString=function(){return JSON.stringify(this.dw(),null,"  ");};c.prototype.rUb=function(){var t;t=this;this.R1a || (this.R1a=new Promise(function(u,v){t.yr.load(t.Fja).then(function(){u();}).catch(function(w){w.oa && w.cause?v(new k.ed(g.M.mI,w.oa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):v(w);});}));return this.R1a;};Va.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.yr.version;}},l2:{configurable:!0,enumerable:!0,get:function(){return this.yr.Vu;}}});a=c;a=r.__decorate([m.R(),r.__param(0,m.l(h.Jf)),r.__param(1,m.l(q.aA)),r.__param(2,m.l(d.gu))],a);b.zwa=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.z1a=void 0;c=a(3);f=a(90);l=a(119);m=a(199);b.z1a=function(g){m.HK.parent=g.$a;return function(){d || (d=new Promise(function(h,k){try{h(m.HK.get(l.Wxa));}catch(n){k(new f.pg(c.M.hbb,c.L.Cbb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;a.prototype.zVa=function(){return void 0 !== this.mediaKeys;};a.prototype.setMediaKeys=function(c){this.mediaKeys=c;};a.prototype.uQb=function(){this.zVa() && (this.mediaKeys=void 0);};b.oCa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u,v){this.oF=q;this.Dc=p;this.aM=u;this.Ql=v;this.log=t.Db("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Bwa=void 0;r=a(1);f=a(0);l=a(119);m=a(35);d=a(8);g=a(134);h=a(79);k=a(133);n=a(576);c.prototype.Pka=function(q){var p;p=this;return Promise.all([this.oF(),this.IAb()]).then(function(t){var u;u=aa(t);t=u.next().value;u=u.next().value;return t.Ryb({type:q,initData:u},p.aM());}).then(function(t){var u;u=aa(t);t=u.next().value;u=u.next().value;u=p.Dc.encode(u.data[0]);p.log.trace("Challenge generated",u);return {Ob:t,oga:u};});};c.prototype.IAb=function(){var q;q=this;return this.Ql.Js().then(function(p){switch(p){case k.kn.sF:return n.yab;case k.kn.CC:return n.aeb;default:return n.ofb;}}).then(function(p){return p.map(q.Dc.decode);});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.CY)),r.__param(1,f.l(m.Th)),r.__param(2,f.l(d.Kb)),r.__param(3,f.l(g.sP)),r.__param(4,f.l(h.ku))],a);b.Bwa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ofb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.yab=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.aeb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(0);c=a(14);f=a(578);l=a(38);m=a(39);d=a(579);g=a(308);h=a(581);k=a(163);n=a(582);q=a(69);p=a(583);b.config=new r.ad(function(t){t(c.Vc).uf(function(){return function(){return pb._cad_global.config;};});t(l.h$).to(f.Swa).aa();t(l.jm).to(f.bIa).aa();t(l.nP).to(f.sAa).aa();t(m.em).to(d.gza).aa();t(g.QCa).to(h.PCa).aa();t(k.aza).to(n.$ya).aa();t(q.gu).to(p.tya).aa();});},function(r,b,a){var m,d,g,h,k;function c(){this.Sx={};this.W2a=0;}function f(n,q,p,t,u){this.debug=n;this.Cy=q;this.iV=p;this.Bg=t;this.h7=u;}function l(n,q,p){this.Cy=n;this.iV=q;this.h7=p;}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=b.bIa=b.Swa=void 0;r=a(1);m=a(0);d=a(91);g=a(8);h=a(135);k=a(307);a=a(38);l=r.__decorate([m.R(),r.__param(0,m.l(a.nP)),r.__param(1,m.l(h.SZ)),r.__param(2,m.l(k.xba))],l);b.Swa=l;f=r.__decorate([m.R(),r.__param(0,m.l(d.cu)),r.__param(1,m.l(a.nP)),r.__param(2,m.l(h.SZ)),r.__param(3,m.l(g.Kb)),r.__param(4,m.l(k.xba))],f);b.bIa=f;c.prototype.mJb=function(n){this.Sx=Object.assign({},this.Sx,n);this.W2a++;};Va.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Sx;}},A7:{configurable:!0,enumerable:!0,get:function(){return this.W2a;}}});a=r.__decorate([m.R()],c);b.sAa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t){q=d.gf.call(this,q,void 0 === t?"GeneralConfigImpl":t) || this;q.Il=p;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.gza=b.NK=void 0;r=a(1);f=a(4);l=a(0);m=a(44);d=a(45);g=a(39);h=a(38);a=a(131);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.NK=function(q,p){return q.O1a(k[p] || p,g.zw);};ka(c,d.gf);Va.Object.defineProperties(c.prototype,{NK:{configurable:!0,enumerable:!0,get:function(){return g.zw.geb;}},dta:{configurable:!0,enumerable:!0,get:function(){return f.Ug(8);}},wy:{configurable:!0,enumerable:!0,get:function(){return "";}},iK:{configurable:!0,enumerable:!0,get:function(){return "";}},GH:{configurable:!0,enumerable:!0,get:function(){return "";}},y5a:{configurable:!0,enumerable:!0,get:function(){return !1;}},S0:{configurable:!0,enumerable:!0,get:function(){return !0;}},$T:{configurable:!0,enumerable:!0,get:function(){return this.Il.$T;}},axb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Xd:{configurable:!0,enumerable:!0,get:function(){return {};}},U2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Fma:{configurable:!0,enumerable:!0,get:function(){return !1;}},e9:{configurable:!0,enumerable:!0,get:function(){return !1;}},Yt:{configurable:!0,enumerable:!0,get:function(){return !1;}},RS:{configurable:!0,enumerable:!0,get:function(){return !0;}},PC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},ev:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.zw.pHa,g.zw.wAa].indexOf(this.NK);}}});n=c;r.__decorate([m.config(b.NK,"environment")],n.prototype,"NK",null);r.__decorate([m.config(m.tk,"storageTimeout")],n.prototype,"dta",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"wy",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"iK",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"GH",null);r.__decorate([m.config(m.bd,"testIndexDBForCorruptedDatabase")],n.prototype,"y5a",null);r.__decorate([m.config(m.bd,"applyIndexedDbOpenWorkaround")],n.prototype,"S0",null);r.__decorate([m.config(m.bd,"ignoreIdbOpenError")],n.prototype,"$T",null);r.__decorate([m.config(m.bd,"executeStorageMigration")],n.prototype,"axb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"Xd",null);r.__decorate([m.config(m.bd,"retryAllMslRequestsOnError")],n.prototype,"U2a",null);r.__decorate([m.config(m.bd,"isTestAccount")],n.prototype,"Fma",null);r.__decorate([m.config(m.bd,"vuiCommandLogging")],n.prototype,"e9",null);r.__decorate([m.config(m.bd,"useRangeHeader")],n.prototype,"Yt",null);r.__decorate([m.config(m.bd,"enableMilestoneEventList")],n.prototype,"RS",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"PC",null);n=r.__decorate([l.R(),r.__param(0,l.l(h.jm)),r.__param(1,l.l(a.HP)),r.__param(2,l.l(h.DO)),r.__param(2,l.optional())],n);b.gza=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Iaa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Iaa=a;},function(r,b,a){var f,l,m,d;function c(g,h){return m.gf.call(this,g,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;r=a(1);f=a(0);l=a(44);m=a(45);a=a(38);ka(c,m.gf);Va.Object.defineProperties(c.prototype,{g7a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([l.config(l.bd,"useNetworkMonitor")],d.prototype,"g7a",null);d=r.__decorate([f.R(),r.__param(0,f.l(a.jm)),r.__param(1,f.l(a.DO)),r.__param(1,f.optional())],d);b.PCa=d;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p,t){n=d.gf.call(this,n,void 0 === t?"FtlProbeConfigImpl":t) || this;n.eh=q;n.xa=p;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;r=a(1);f=a(40);l=a(0);m=a(4);d=a(45);g=a(120);h=a(44);a=a(38);ka(c,d.gf);Va.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Hja + (-1 === this.Hja.indexOf("?")?"?":"&") + "monotonic=" + this.xa.IZa + "&device=web";}},I4a:{configurable:!0,enumerable:!0,get:function(){return m.ab;}},yja:{configurable:!0,enumerable:!0,get:function(){return "";}},Hja:{configurable:!0,enumerable:!0,get:function(){return this.eh.endpoint + "/ftl/probe" + (this.yja?"?force=" + this.yja:"");}}});k=c;r.__decorate([h.config(h.bd,"ftlEnabled")],k.prototype,"enabled",null);r.__decorate([h.config(h.tk,"ftlStartDelay")],k.prototype,"I4a",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],k.prototype,"yja",null);r.__decorate([h.config(h.url,"ftlEndpoint")],k.prototype,"Hja",null);k=r.__decorate([l.R(),r.__param(0,l.l(a.jm)),r.__param(1,l.l(g.RH)),r.__param(2,l.l(f.vi)),r.__param(3,l.l(a.DO)),r.__param(3,l.optional())],k);b.$ya=k;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q){k=l.gf.call(this,k,void 0 === q?"EmeConfigImpl":q) || this;k.Xd=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;r=a(1);f=a(0);l=a(45);m=a(38);d=a(4);g=a(44);a=a(160);ka(c,l.gf);Va.Object.defineProperties(c.prototype,{xWa:{configurable:!0,enumerable:!0,get:function(){return this.Xd.JWa || this.Xd.gU || this.Xd.NL?!0:!1;}},eC:{configurable:!0,enumerable:!0,get:function(){return d.Ug(5);}},Ppa:{configurable:!0,enumerable:!0,get:function(){return d.Ug(10);}},GS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},iT:{configurable:!0,enumerable:!0,get:function(){return !1;}},Nv:{configurable:!0,enumerable:!0,get:function(){return !0;}},uMa:{configurable:!0,enumerable:!0,get:function(){return d.Ug(30);}},vMa:{configurable:!0,enumerable:!0,get:function(){return d.Ug(30);}},yMa:{configurable:!0,enumerable:!0,get:function(){return d.Ug(30);}},wMa:{configurable:!0,enumerable:!0,get:function(){return d.Ug(30);}},zMa:{configurable:!0,enumerable:!0,get:function(){return d.Ug(30);}},psa:{configurable:!0,enumerable:!0,get:function(){return "";}},X_a:{configurable:!0,enumerable:!0,get:function(){return this.Xd.rv?!1:!0;}},Y_a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([g.config(g.bd,"initializeKeySystemAtStartup")],h.prototype,"xWa",null);r.__decorate([g.config(g.tk,"licenseRenewalRequestDelay")],h.prototype,"eC",null);r.__decorate([g.config(g.tk,"persistedReleaseDelay")],h.prototype,"Ppa",null);r.__decorate([g.config(g.string,"drmPersistKey")],h.prototype,"GS",null);r.__decorate([g.config(g.bd,"forceLimitedDurationLicense")],h.prototype,"iT",null);r.__decorate([g.config(g.bd,"prepareCadmium")],h.prototype,"Nv",null);r.__decorate([g.config(g.tk,"apiCloseTimeout")],h.prototype,"uMa",null);r.__decorate([g.config(g.tk,"apiCreateMediaKeysTimeout")],h.prototype,"vMa",null);r.__decorate([g.config(g.tk,"apiSetServerCertificateTimeout")],h.prototype,"yMa",null);r.__decorate([g.config(g.tk,"apiGenerateRequestTimeout")],h.prototype,"wMa",null);r.__decorate([g.config(g.tk,"apiUpdateTimeout")],h.prototype,"zMa",null);r.__decorate([g.config(g.string,"serverCertificate")],h.prototype,"psa",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatal")],h.prototype,"X_a",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatalForUhd")],h.prototype,"Y_a",null);h=r.__decorate([f.R(),r.__param(0,f.l(m.jm)),r.__param(1,f.l(a.eA)),r.__param(2,f.l(m.DO)),r.__param(2,f.optional())],h);b.tya=h;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.cRa=void 0;r=a(0);c=a(119);f=a(585);l=a(79);m=a(586);d=a(310);g=a(594);b.cRa=new r.ad(function(h){h(c.Wxa).to(f.Vxa).aa();h(l.ku).to(m.nCa).aa();h(d.vya).to(g.uya);});},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w;function c(x,y,A,z,B,D,E,F,C,G){var J;J=this;this.yc=y;this.nz=A;this.config=z;this.Uq=B;this.Rvb=D;this.hK=E;this.Ql=F;this.aM=C;this.Tl=G;this.YUb=function(K,H){var L;J.Tl.mark(w.Fa.LY,K.ji.da,"generate-challenge");L=!1;H.LSb(function(R){L || (L=!0,J.Tl.mark(w.Fa.KY,K.ji.da,"generate-challenge"));J.CF(K,H,R).then(function(I){H.NLa(I);J.cob(H);}).catch(function(I){return H.nlb(I);});});};this.log=x.Db("DrmServices");this.Uq().cq && this.hK.N1a().then(function(){J.hQb();}).catch(function(K){J.log.error("Unable to load the persisted DRM data",K);});this.config.xWa && this.Ql.ry().then(function(K){return J.zPa(C(),K,h.Vh.uq).then(function(H){return H.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.Vxa=void 0;r=a(1);f=a(0);l=a(8);m=a(46);d=a(309);g=a(70);h=a(59);k=a(69);n=a(201);q=a(200);p=a(310);t=a(14);u=a(79);v=a(134);w=a(65);c.prototype.Ryb=function(x,y){return this.eF(y,x.type,x.context).then(function(A){return A.Uyb(x.initData).then(function(z){return [A,{Pn:A.Js(),data:z.Aj}];});});};c.prototype.hg=function(x,y){var A;A=this;this.log.info("Requesting challenges",this.$Ta(x,x.type));return this.eF(y,x.type,x.context).then(function(z){A.GZa(x,z);return z.Vyb(x.initData).then(function(){return z;});});};c.prototype.GZa=function(x,y){y.TSb(x.ji);this.YUb(x,y);};c.prototype.release=function(x,y){var A;A=this;this.log.info("Releasing server license",this.SUa(x));return this.VBb(x).then(function(){var z;z=Object.assign({active:!1,fe:[]},x.ji);A.hK.eW(z);y.uQb();return x;});};c.prototype.$Ta=function(x,y){return {movieId:x.ji.K,xid:x.ji.da,type:h.ena(y)};};c.prototype.SUa=function(x){return {movieId:x.ji?x.ji.K:void 0,xid:x.ji?x.ji.da:void 0,keySessionId:x.qy()};};c.prototype.CF=function(x,y,A){this.log.info("Sending license request",this.$Ta(x,A.Tf));return this.nz.hg({da:x.ji.da,Ti:x.ji.Ti,k2:[x.ji.Jl],Aj:[{sessionId:y.qy() || "session",data:A.Aj}],Tf:A.Tf,Pn:y.Js(),gOa:A.gOa,KU:x.ji.KU,Hj:x.ji.Hj});};c.prototype.VBb=function(x){this.log.info("Sending release request",this.SUa(x));return this.nz.release({da:x.ji.da,fe:x.fe});};c.prototype.eF=function(x,y,A){var z;z=this;return this.Ql.ry().then(function(B){return z.zPa(x,B,y,A);});};c.prototype.zPa=function(x,y,A,z){return this.Rvb.create().then(function(B){return B.createSession(y,x,A,z).then(function(){return B;});});};c.prototype.gQb=function(x){var y;y=this;return this.nz.release({da:x.da,fe:x.fe}).catch(function(A){y.log.error("Unable to send release data to the server",A);});};c.prototype.hQb=function(){var x;x=this;this.yc.Rj(this.config.Ppa,function(){x.log.trace("Removing cached sessions",{"count:":x.hK.l2.length});x.hK.l2.filter(function(y){return !y.active;}).reduce(function(y,A){return y.then(function(){return x.gQb(A);}).then(function(){return x.hK.eW(A);});},Promise.resolve(void 0));});};c.prototype.cob=function(x){var y;if(x.qy() && x.ji){y=new q.BY();y.fe=x.fe;y.da=x.ji.da;y.K=x.ji.K;this.hK.JLa(y);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(m.lj)),r.__param(2,f.l(d.Uxa)),r.__param(3,f.l(k.gu)),r.__param(4,f.l(t.Vc)),r.__param(5,f.l(p.vya)),r.__param(6,f.l(n.e$)),r.__param(7,f.l(u.ku)),r.__param(8,f.l(v.sP)),r.__param(9,f.l(g.vP))],a);b.Vxa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E;function c(F,C,G,J,K,H,L,R,I,Q){this.cr=F;this.ye=C;this.vh=G;this.Gi=J;this.Dc=K;this.is=H;this.YU=L;this.config=R;this.mp=I;this.Kh=Q;this.log=this.cr.Db("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;r=a(1);f=a(0);l=a(3);m=a(8);d=a(90);g=a(133);h=a(587);k=a(588);n=a(589);q=a(203);p=a(28);t=a(76);u=a(35);v=a(26);w=a(36);x=a(590);y=a(592);A=a(77);z=a(14);B=a(104);D=a(69);a=a(71);c.prototype.ry=function(){this.promise || (this.promise=this.ARb());return this.promise;};c.prototype.Osb=function(F){var C;C=this;return new Promise(function(G,J){var K,H;K=B.zb.dka(F);H=C.FTa(K);K=C.yTa(K);H.QQb(F,K.Jka()).then(function(L){C.log.trace("Created the media keys system access",{keySystem:F,supportedconfig:L.getConfiguration?JSON.stringify(L.getConfiguration()):void 0});G(L);}).catch(function(L){C.log.error("Unable to create the media key system access object",{keySystem:F,error:L.message});J(new d.pg(l.M.eya,l.L.gj,void 0,"Unable to create media keys system access. " + L.message,L));});});};c.prototype.Js=function(){var F;F=this;return this.ry().then(function(C){return F.zTa(C);});};c.prototype.iAb=function(){var F,C;F=this;C=this.config().xXa || [this.config().Nl];if(1 < C.length)return this.ry().then(function(G){return F.zTa(G);}).then(function(G){return B.zb.xTa(G);});C=B.zb.dka(C[0]);return Promise.resolve(B.zb.xTa(C));};c.prototype.jAb=function(){var F;F=this;return this.Js().then(function(C){return F.yTa(C);});};c.prototype.lAb=function(){var F;F=this;return this.Js().then(function(C){return F.FTa(C);});};c.prototype.zTa=function(F){return B.zb.dka(F.keySystem);};c.prototype.yTa=function(F){switch(F){case g.kn.CC:return new h.rya(this.Gi,this.Dc);case g.kn.sF:return new y.oGa(this.Gi,this.Dc,this.vh,this.Kh);default:return new n.Kwa(this.Gi,this.mp,this.config);}};c.prototype.FTa=function(F){switch(F){case g.kn.CC:return new k.sFa(this.YU,this.is,this.Dc,this.ye,this.mp,this.vh);case g.kn.sF:return new x.Vya(this.YU,this.is,this.Dc,this.ye,this.mp,this.vh);default:return new q.tu(this.YU,this.is,this.Dc,this.ye,this.mp,this.vh);}};c.prototype.ARb=function(){var F,C;F=this;C=(this.config().xXa || [this.config().Nl]).map(function(G){return function(){return F.Osb(G);};});return this.BRb(C);};c.prototype.BRb=function(F){return F.reduce(function(C,G){return C.then(function(J){return Promise.resolve(J);}).catch(function(){return G();});},Promise.reject(Error("keySystem missing")));};E=c;E=r.__decorate([f.R(),r.__param(0,f.l(m.Kb)),r.__param(1,f.l(p.Kf)),r.__param(2,f.l(A.uu)),r.__param(3,f.l(t.pw)),r.__param(4,f.l(u.Th)),r.__param(5,f.l(v.Jf)),r.__param(6,f.l(w.wI)),r.__param(7,f.l(z.Vc)),r.__param(8,f.l(D.gu)),r.__param(9,f.l(a.qu))],E);b.nCa=E;},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t){this.Gi=p;this.Dc=t;}Object.defineProperty(b,"__esModule",{value:!0});b.rya=void 0;r=a(1);f=a(0);l=a(3);m=a(76);d=a(35);g=a(202);h=a(90);k=a(60);n=a(42);q=a(58);c.prototype.A1=function(){return !0;};c.prototype.yfa=function(){return !1;};c.prototype.hga=function(){return !1;};c.prototype.yT=function(){return q.tw;};c.prototype.Tja=function(){return q.Naa;};c.prototype.Jka=function(){return [{initDataTypes:[this.yT()],audioCapabilities:[{contentType:g.sI}],videoCapabilities:[{contentType:g.Dw}],sessionTypes:["temporary"]}];};c.prototype.gma=function(){Promise.reject(new n.ed(l.M.y$));};c.prototype.fha=function(p){var t;t=new Uint8Array(p.message);t=this.Tia(t,"PlayReadyKeyMessage","Challenge");t=this.Dc.decode(t);return {type:p.type,sessionId:p.target.sessionId,hG:[t],messageType:p.messageType};};c.prototype.Qx=function(p){var t,u,v;t=new h.pg(l.M.tq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),t.kc=1 <= u && 9 >= u?l.L.Or + u:l.L.Or):t.kc=p instanceof k.wq?l.L.NO:l.L.gj;try{v=(/\((\d+)\)/).exec(p.message);t.xd=this.Gi.vF(Number(v && v[1]),4);}catch(w){}t.yS(p);return t;};c.prototype.Tia=function(p,t){var v,w,x;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=p.length;for(v=0;v < w;v++){x=p[v];0 < x && (u+=String.fromCharCode(x));}w="\\s*(.*)\\s*";for(v=arguments.length - 1;0 < v;v--){x=arguments[v];if(0 > u.search(x))return "";x="(?:[^:].*:|)" + x;w="[\\s\\S]*<" + x + "[^>]*>" + w + "</" + x + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.kL=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.pw)),r.__param(1,f.l(d.Th))],a);b.rya=a;},function(r,b,a){var f,l,m,d;function c(){return l.tu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(1);f=a(0);l=a(203);m=a(90);d=a(3);ka(c,l.tu);c.prototype.M1=function(g,h,k,n,q){this.o2a(k);this.m2a(n);this.k2a(q);this.Khb=this.gb;this.gb=g.createSession(h);this.RLa(k);this.MLa(n);this.KLa(q);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function g(k){return k && k.sessionId?k.close().then(function(){return k=void 0;}):Promise.resolve();}h=this;this.Mga=void 0;return this.gb?g(this.gb).then(function(){g(h.Khb);}):Promise.reject(new m.pg(d.M.dya,d.L.dI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,h){this.initDataType=g;this.initData=h;return l.tu.prototype.generateRequest.call(this,g,h);};a=r.__decorate([f.R()],c);b.sFa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t,u,v){this.Gi=t;this.mp=u;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;r=a(1);f=a(0);l=a(3);m=a(76);d=a(202);g=a(90);h=a(60);k=a(69);n=a(14);q=a(42);p=a(58);c.prototype.A1=function(){return !0;};c.prototype.yfa=function(){return !0;};c.prototype.hga=function(){return !0;};c.prototype.yT=function(){return p.tw;};c.prototype.Tja=function(){return this.mp.psa?this.mp.psa:p.nIa;};c.prototype.Jka=function(){var t,u;t=[{contentType:d.Dw,robustness:p.lI},{contentType:d.Dw,robustness:p.Kba},{contentType:d.Dw,robustness:p.NZ}];u=[{contentType:d.Dw,robustness:p.NZ}];return [{initDataTypes:[this.yT()],persistentState:"required",videoCapabilities:this.config().BSa?u:t}];};c.prototype.gma=function(){Promise.reject(new q.ed(l.M.y$));};c.prototype.fha=function(t){return {type:t.type,sessionId:t.target.sessionId,hG:[new Uint8Array(t.message)],messageType:t.messageType};};c.prototype.Qx=function(t){var u,v,w;u=new g.pg(l.M.tq);v=t.code;null != v && void 0 !== v?(v=parseInt(v,10),u.kc=1 <= v && 9 >= v?l.L.Or + v:l.L.Or):u.kc=t instanceof h.wq?l.L.NO:l.L.gj;try{w=t.message.match(/\((\d*)\)/)[1];u.xd=this.Gi.vF(w,4);}catch(x){}u.yS(t);return u;};c.prototype.kL=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.pw)),r.__param(1,f.l(k.gu)),r.__param(2,f.l(n.Vc))],a);b.Kwa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u,v,w,x,y,A){u=l.tu.call(this,u,v,w,x,y,A) || this;u.Dc=w;u.Td=x;u.mp=y;u.vh=A;u.OVa=new m.Uya(u.Dc,u.Td,u.vh);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Vya=void 0;r=a(1);f=a(0);l=a(203);m=a(591);d=a(36);g=a(26);h=a(35);k=a(28);n=a(69);q=a(77);p=a(311);t=a(312);ka(c,l.tu);c.prototype.generateRequest=function(u,v){var w,x,y;w=this;try{x=v.map(function(A){return w.OVa.UAb(A);});this.iWa=x.map(function(A){return w.Dc.encode(A);});y=this.OVa.uqb(x);return l.tu.prototype.generateRequest.call(this,u,[y]);}catch(A){return Promise.reject(A);}};c.prototype.update=function(u,v,w){var x,y,A,z,B;x=this;if(w)try{y=this.vh.encode(u[0]);A=JSON.parse(y).RESPONSES.map(function(D){var E;E=t.OZ.f5a(D.ID);return {keyID:v === p.TD.RFa?x.iWa[x.iWa.length - 1]:w[E],payload:D.PAYLOAD};});if(v === p.TD.Request){z=A.map(function(D){return D.keyID;});w.forEach(function(D){-1 === z.indexOf(D) && A.push({keyID:D,error:1});});}B=JSON.stringify(A);u=[this.vh.decode(B)];}catch(D){return Promise.reject(D);}return l.tu.prototype.update.call(this,u,v);};c.prototype.MG=function(){return l.tu.prototype.update.call(this,[this.vh.decode("renew")],p.TD.Request);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(d.wI)),r.__param(1,f.l(g.Jf)),r.__param(2,f.l(h.Th)),r.__param(3,f.l(k.Kf)),r.__param(4,f.l(n.gu)),r.__param(5,f.l(q.uu))],a);b.Vya=a;},function(r,b){function a(c,f,l){var m;m=this;this.Dc=c;this.Td=f;this.vh=l;this.UAb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.Dc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.zab={tw:1667591779,f_b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.Uya=void 0;a.prototype.uqb=function(c){var f;f=this.zab.tw;c=c.map(function(l){return {u6b:"",uGb:l,mfa:l,hUb:l,xYb:[1]};});return this.bIb(f,c);};a.prototype.aIb=function(c){var f;f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,c);return this.Gna("fpsi",[f]);};a.prototype.$Hb=function(c,f,l,m){c=[this.Gna("fkri",[c])];f.byteLength && c.push(this.EU("fkai",[f]));l.byteLength && c.push(this.EU("fkcx",[l]));m.length && c.push(this.EU("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.EU("fpsk",c);};a.prototype.bIb=function(c,f){var l,d;l=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.aIb(c)];for(var m in f){d=f[m];c.push(this.$Hb(d.uGb,d.mfa,d.hUb,d.xYb));}f=this.EU("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,f.byteLength);return this.Gna("pssh",[l,m,f]);};a.prototype.Gna=function(c,f){var l,m,d;l=0;for(d in f){l+=f[d].byteLength;}l=new Uint8Array(12 + l);m=new DataView(l.buffer);d=0;m.setUint32(d,l.byteLength);d+=4;l.set(this.vh.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var g in f){c=f[g];l.set(c,d);d+=c.byteLength;}return l;};a.prototype.EU=function(c,f){var l,m;l=0;for(m in f){l+=f[m].byteLength;}l=new Uint8Array(8 + l);m=0;new DataView(l.buffer).setUint32(m,l.byteLength);m+=4;l.set(this.vh.decode(c),m);m+=4;for(var d in f){c=f[d];l.set(c,m);m+=c.byteLength;}return l;};b.Uya=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u;function c(v,w,x,y){this.Gi=v;this.Dc=w;this.vh=x;this.Kh=y;}Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;r=a(1);f=a(0);l=a(3);m=a(76);d=a(77);g=a(90);h=a(60);k=a(35);n=a(58);q=a(313);p=a(42);t=a(71);u=a(312);c.prototype.A1=function(){return !1;};c.prototype.yfa=function(){return !1;};c.prototype.hga=function(){return !0;};c.prototype.yT=function(){return n.tw;};c.prototype.Tja=function(){return n.HY;};c.prototype.Jka=function(){return [{initDataTypes:[n.tw],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.gma=function(v){v.MG();};c.prototype.fha=function(v){var w,x;w=[];if(v.messageType === q.qaa || v.messageType === q.paa){if(v.messageType === q.qaa){x=this.vh.encode(new Uint8Array(v.message));w=JSON.parse(x);x=w.map(function(y){return y.keyID;});w=w.map(function(y){return y.payload;});}else w=[this.Dc.encode(new Uint8Array(v.message))];if(0 === w.length || !w.every(function(y){return y && y.length;}))throw new p.ed(l.M.iya);w=this.dWb(w);w=this.vh.decode(JSON.stringify(w));}else w=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,hG:[w],messageType:v.messageType,sv:x};};c.prototype.Qx=function(v){var w,x,y,A;x=null === (w=v.target) || void 0 === w?void 0:w.error;if(x)(y=x.systemCode,A=x.code);w=new g.pg(l.M.tq,v instanceof h.wq?l.L.NO:l.L.Or,y?this.Gi.vF(y,4):A,"",x);w.yS(v);return w;};c.prototype.dWb=function(v){v=v.map(function(w,x){return {ID:u.OZ.yEb(x),PAYLOAD:w};});return {VERSION:this.Kh.z1?3:1,CHALLENGES:v};};c.prototype.kL=function(v,w){var x,y;x=this;if(w && this.Kh.z1)try{y=this.vh.encode(w[0]);return JSON.parse(y).RESPONSES.sort(function(A,z){return A.ID > z.ID?1:-1;}).map(function(A){var z;z=u.OZ.f5a(A.ID);A=x.Dc.decode(A.DHB).subarray(4,12);z=x.Dc.decode(v[z]).subarray(0,8);return {from:A,to:z};});}catch(A){throw new g.pg(l.M.Fdb,void 0,void 0,void 0,A);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.pw)),r.__param(1,f.l(k.Th)),r.__param(2,f.l(d.uu)),r.__param(3,f.l(t.qu))],a);b.oGa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BZ=void 0;b.BZ=function(){var a;a=this;this.promise=new Promise(function(c,f){a.resolve=c;a.reject=f;});};},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u,v,w){this.cr=q;this.Ja=p;this.Dc=t;this.config=u;this.lo=v;this.Ql=w;}Object.defineProperty(b,"__esModule",{value:!0});b.uya=void 0;r=a(1);f=a(0);l=a(8);m=a(19);d=a(35);g=a(69);h=a(60);k=a(313);a=a(79);c.prototype.create=function(){var q;q=this;return Promise.all([this.Ql.lAb(),this.Ql.jAb(),this.Ql.Js()]).then(function(p){var t,u;t=aa(p);p=t.next().value;u=t.next().value;t=t.next().value;return new k.wya(q.cr,q.Ja,q.Dc,q.config,p,u,t,q.lo);});};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(m.rd)),r.__param(2,f.l(d.Th)),r.__param(3,f.l(g.gu)),r.__param(4,f.l(h.Kw)),r.__param(5,f.l(a.ku))],n);b.uya=n;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N;Object.defineProperty(b,"__esModule",{value:!0});b.VXa=void 0;c=a(596);f=a(621);l=a(630);m=a(633);d=a(639);g=a(642);h=a(645);k=a(657);n=a(667);q=a(671);p=a(673);t=a(1011);u=a(1013);v=a(1017);w=a(1031);x=a(1038);y=a(1045);A=a(1048);z=a(1055);B=a(199);D=a(1063);E=a(1064);F=a(1071);C=a(1084);G=a(1090);J=a(1092);K=a(1099);H=a(1153);L=a(1175);R=a(1179);I=a(1183);Q=a(1196);N=a(1199);b.VXa=function(M){M.load(c.Nx,g.tH,f.hYa,h.xm,l.FZa,m.wa,d.w7a,k.storage,n.aK,q.RNa,p.BYa,t.qC,u.Ej,v.gYa,w.TZa,x.NSa,y.A1a,A.DG,z.ZQa,B.eme,D.crypto,E.ye,F.qd,C.Ma,G.KZa,J.A0a,K.j,H.NOa,L.transports,R.cl,I.Lh,Q.XMa,N.sa);};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa,O,T,ma,ja,Qa,Fa,Wa,Xa,db,Za,kb,Ya,Sa,za,Ia,Ma,Ta,hb,wb,Eb,Hb,Pb;Object.defineProperty(b,"__esModule",{value:!0});b.Nx=void 0;r=a(0);c=a(36);f=a(40);l=a(46);m=a(92);d=a(136);g=a(597);h=a(598);k=a(599);n=a(600);q=a(77);p=a(76);t=a(35);u=a(28);v=a(26);w=a(93);x=a(60);y=a(316);A=a(601);z=a(317);B=a(602);D=a(603);E=a(604);F=a(192);C=a(318);G=a(605);J=a(198);K=a(106);H=a(606);L=a(19);R=a(319);I=a(607);Q=a(608);N=a(91);M=a(609);P=a(8);S=a(315);ea=a(610);qa=a(70);wa=a(611);ua=a(320);X=a(612);sa=a(613);O=a(107);T=a(11);ma=a(614);ja=a(322);Qa=a(323);Fa=a(615);Wa=a(324);Xa=a(14);db=a(34);Za=a(137);kb=a(325);Ya=a(160);Sa=a(616);za=a(326);Ia=a(327);Ma=a(205);Ta=a(617);hb=a(328);wb=a(618);Eb=a(206);Hb=a(619);Pb=a(620);b.Nx=new r.ad(function(Cb){Cb(c.IP).UC(function(){return {};}).aa();Cb(c.pD).ri(JSON);Cb(c.qIa).ri(pb);Cb(d.gHa).ri(Math);Cb(c.YAa).ri(T.kZ);Cb(c.$aa).ri(T.ou);Cb(c.WHa).ri(T.sA);Cb(c.qxa).ri(Date);Cb(c.wI).ri(T.Ve);Cb(c.zcb).ri(T.ED);Cb(S.Owa).to(ea.Nwa).aa();Cb(L.rd).to(H.fva).aa();Cb(f.vi).to(n.Pwa).aa();Cb(l.lj).to(g.pGa).aa();Cb(m.lA).to(h.lAa).aa();Cb(x.Kw).to(E.GFa).aa();Cb(d.IZ).to(k.NFa).aa();Cb(kb.uaa).to(Pb.jCa).aa();Cb(N.cu).to(Q.wxa).aa();Cb(N.uxa).to(M.txa).aa();Cb(q.uu).to(A.XHa).aa();Cb(p.pw).to(z.W9).aa();Cb(t.Th).to(B.Pva).aa();Cb(u.Kf).to(D.YHa).aa();Cb(v.Jf).ri(F.oD);Cb(za.PO).to(Ia.Lya).aa();Cb(w.Mya).to(C.Xj).Ola();Cb(w.zY).to(C.Xj).aa();Cb(w.Gxa).to(C.Xj).aa();Cb(w.F$).to(C.Xj).aa();Cb(J.Rba).to(K.yA).aa();Cb(R.exa).to(I.dxa).aa();Cb(qa.RD).to(wa.Wba).aa();Cb(qa.vP).to(wa.Wba).aa();Cb("Factory<LoggerFactory>").W5a(P.Kb);Cb(ua.u$).to(X.xxa).aa();Cb(O.HI).uf(function(Kb){return function(Vb){return new sa.rHa(Kb.$a.get(L.rd),Kb.$a.get(l.lj),Vb);};});Cb(hb.rxa).uf(function(Kb){return function(Vb){return new wb.sxa(Kb.$a.get(l.lj),Vb);};});Cb(ma.wba).fWb(ja.vba);Cb(ma.eeb).uf(function(Kb){var Vb;Vb=Kb.$a.get(ma.wba);return function(){return new Vb(!1);};});Cb(ma.feb).uf(function(Kb){var Vb;Vb=Kb.$a.get(ma.wba);return function(){return new Vb(!0);};});Cb(Qa.UHa).uf(function(){return function(Kb){return new Fa.VHa(Kb);};});Cb(Za.JP).uf(function(Kb){return function(Vb,kc,Ec){return new Wa.XEa(Kb.$a.get(N.cu),Kb.$a.get(Xa.Vc),Kb.$a.get(db.Kk),Kb.$a.get(kb.uaa),Vb,kc,Ec);};});Cb(y.dDa).uf(function(){return function(Kb){return new G.eDa(Kb);};});Cb(Ya.eA).to(Sa.ewa);Cb(Ma.UZ).uf(function(Kb){return function(Vb,kc){return new Ta.CHa(Kb.$a.get(l.lj),Vb,kc);};});Cb(Eb.Dya).to(Hb.Cya).aa();});},function(r,b,a){var l,m,d,g;function c(h){this.UN=h;m.co(this,"timers");}function f(h,k){this.UN=h;this.Mob=k;}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;r=a(1);l=a(0);m=a(56);d=a(36);g=a(4);f.prototype.cancel=function(){this.Mob(this.UN);};c.prototype.nl=function(h){return this.Rj(g.ab,h);};c.prototype.Rj=function(h,k){var n;n=this.UN.setTimeout(k,h.ea(g.ma));return new f(this.UN,function(q){q.clearTimeout(n);});};c.prototype.D7=function(h,k){var n;n=this.UN.setInterval(k,h.ea(g.ma));return new f(this.UN,function(q){q.clearInterval(n);});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(d.qIa))],a);b.pGa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.xa=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;r=a(1);l=a(0);m=a(4);d=a(40);a=a(136);c.prototype.rB=function(){return this.xa.mf.ea(m.sn) * f.twa + Math.floor(this.random.random() * f.twa);};g=f=c;g.twa=1E8;g=f=r.__decorate([l.R(),r.__param(0,l.l(d.vi)),r.__param(1,l.l(a.IZ))],g);b.lAa=g;},function(r,b,a){var f,l;function c(m){this.vVb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;r=a(1);f=a(0);a=a(136);c.prototype.random=function(){return this.vVb.random();};c.prototype.H1a=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.gHa))],l);b.NFa=l;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p,t){var u;u=this;this.config=n;this.Htb=q;this.Qb=p;this.performance=t;this.RLb=function(v){u.w3a=v.Aa(u.mf);};f.co(this,"date");f.co(this,"performance");this.cmb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.w3a=l.ab;this.Qb.addListener(k.Y$.z3a,this.RLb);}Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;r=a(1);f=a(56);l=a(4);m=a(0);d=a(36);g=a(315);h=a(93);k=a(17);Va.Object.defineProperties(c.prototype,{mf:{configurable:!0,enumerable:!0,get:function(){return this.IZa?l.timestamp(this.performance.timing.navigationStart + this.performance.now()):l.xc(this.Htb.now());}},O7:{configurable:!0,enumerable:!0,get:function(){return this.mf.add(this.w3a);}},IZa:{configurable:!0,enumerable:!0,get:function(){return this.config.i7a && this.cmb;}}});a=c;a=r.__decorate([m.R(),r.__param(0,m.l(g.Owa)),r.__param(1,m.l(d.qxa)),r.__param(2,m.l(h.F$)),r.__param(3,m.l(d.$aa)),r.__param(3,m.optional())],a);b.Pwa=a;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(1);a=a(0);c.prototype.encode=function(m){return f.yia(m);};c.prototype.decode=function(m){return f.Kha(m);};c.yia=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,g,h=m.length,k="";d < h;){g=m[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (m[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(g);}return k;};c.Kha=function(m){var d,g,h,k,n;d=m.length;g=0;k=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?g[k++]=n:(2048 > n?g[k++]=192 | n >>> 6:(g[k++]=224 | n >>> 12,g[k++]=128 | n >>> 6 & 63),g[k++]=128 | n & 63);}return g;};l=f=c;l=f=r.__decorate([a.R()],l);b.XHa=l;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pva=void 0;r=a(1);a=a(0);l=Array.prototype.slice;m=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");l=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};h={};k={};n=/\s+/g;[m,l].forEach(function(q){var t;for(var p=q.length;p--;){t=q[p];d[t]=p << 18;g[t]=p << 12;h[t]=p << 6;k[t]=p;}});c.prototype.encode=function(q){return f.yia(q,m,"=");};c.prototype.decode=function(q){return f.Kha(q);};c.Kha=function(q){var p,t,u;q=q.replace(n,"");p=q.length;t=q.charAt(p - 1);"=" !== t && "." !== t || p--;t=q.charAt(p - 1);"=" !== t && "." !== t || p--;t=3 * (p >> 2);u=0;switch(p % 4){case 2:u=1;break;case 3:u=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(t + u);for(var v=0,w=0,x;w < t;){x=d[q[v++]] + g[q[v++]] + h[q[v++]] + k[q[v++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");p[w++]=x >>> 16;p[w++]=x >>> 8 & 255;p[w++]=x & 255;}if(0 < u && (x=d[q[v++]] + g[q[v++]],p[w++]=x >>> 16,1 < u && (x+=h[q[v++]],p[w++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < u?255:65535)))))throw Error("bad base64");return p;};c.yia=function(q,p,t){for(var u="",v=0,w=q.length,x=w - 2,y;v < x;){y=(q[v++] << 16) + (q[v++] << 8) + q[v++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");u+=p[y >>> 18] + p[y >>> 12 & 63] + p[y >>> 6 & 63] + p[y & 63];}if(v == x){y=(q[v++] << 8) + q[v++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");u+=p[y >>> 10] + p[y >>> 4 & 63] + p[y << 2 & 63] + t;}else if(v == w - 1){y=q[v++];if(!(0 <= y && 255 >= y))throw Error("not bytes");u+=p[y >>> 2] + p[y << 4 & 63] + t + t;}return u;};l=f=c;l=f=r.__decorate([a.R()],l);b.Pva=l;},function(r,b,a){var f,l,m,d;function c(g,h){this.is=g;this.Gi=h;}Object.defineProperty(b,"__esModule",{value:!0});b.YHa=void 0;r=a(1);f=a(0);a(3);l=a(26);m=a(76);d=a(11);c.prototype.lG=function(g,h,k){var n,q,p,t;n=this;if(h)if(k){q=k.VL;p=k.prefix;t=k.dz;this.zB(h,function(u,v){if(!t || n.is.fg(v))g[(p || "") + (q?u.toLowerCase():u)]=v;});}else this.zB(h,function(u,v){g[u]=v;});return g;};c.prototype.zB=function(g,h){for(var k in g){g.hasOwnProperty(k) && h(k,g[k]);}};c.prototype.rs=function(g,h){if(g.length == h.length){for(var k=g.length;k--;){if(g[k] != h[k])return !1;}return !0;}return !1;};c.prototype.gPa=function(g,h){if(g.length != h.length)return !1;g.sort();h.sort();for(var k=g.length;k--;){if(g[k] !== h[k])return !1;}return !0;};c.prototype.wd=function(g){var h,k,n;if(g){h=g.stack;k=g.number;n=g.message;n || (n="" + g);h?(g="" + h,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;k && (g+="\nnumber:" + k);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.Vja=function(g){return this.getFunctionName(g.constructor);};c.prototype.apa=function(g){var h,k;h=this;k="";this.is.wx(g) || this.is.rMa(g)?k=Array.prototype.reduce.call(g,function(n,q){return n + (32 <= q && 128 > q?String.fromCharCode(q):".");},""):this.is.Wo(g)?k=g:this.zB(g,function(n,q){k+=(k?", ":"") + "{" + n + ": " + (h.is.H0(q)?h.getFunctionName(q) || "function":q) + "}";});return "[" + this.Vja(g) + " " + k + "]";};c.prototype.createElement=function(g,h,k,n){var q;q=d.Ke.createElement(g);h && (q.style.cssText=h);k && (q.innerHTML=k);n && this.zB(n,function(p,t){q.setAttribute(p,t);});return q;};c.prototype.Gxb=function(g,h){return function(k){return k[g] === h;};};c.prototype.xV=function(g){var h;h={};(g || "").split("&").forEach(function(k){var n,q;k=k.trim();n=k.indexOf("=");if(0 <= n){q=decodeURIComponent(k.substr(0,n)).toLowerCase();h[q]=decodeURIComponent(k.substr(n + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Jf)),r.__param(1,f.l(m.pw))],a);b.YHa=a;},function(r,b,a){var f,l,m;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=void 0;r=a(1);f=a(0);l=a(46);m=a(60);c.prototype.Up=function(d,g){var h;h=this;return new Promise(function(k,n){var q;q=h.yc.Rj(d,function(){n(new m.wq(d));});g.then(function(p){k(p);q.cancel();}).catch(function(p){n(p);q.cancel();});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.lj))],a);b.GFa=a;},function(r,b,a){var f;function c(l){this.bzb=l;this.S3=!1;this.i4=this.If=this.QN=0;this.aU=!1;this.j4=0;}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;f=a(18);c.prototype.rlb=function(l){l < this.QN && (this.If+=this.QN);this.QN=l;this.S3=!0;};c.prototype.Rzb=function(){if(this.S3)return this.aU?this.j4 - this.i4:this.If + this.QN - this.i4;};c.prototype.refresh=function(){var l;l=this.bzb();f.ya(l) && this.rlb(l);};c.prototype.kUb=function(){this.aU || (this.S3 && (this.j4=this.If + this.QN),this.aU=!0);};c.prototype.AUb=function(){this.aU && (this.S3 && (this.i4+=this.If + this.QN - this.j4),this.j4=0,this.aU=!1);};b.eDa=c;},function(r,b,a){var f,l,m,d;function c(g,h){this.xa=g;this.X2=this.xa.mf.ea(m.ma) - 1;this.NHb=this.h5=0;this.id="" + h.rB();}Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;r=a(1);f=a(0);l=a(40);m=a(4);a=a(92);c.prototype.Wb=function(){var g,h;g=this.xa.mf.ea(m.ma) - this.X2;if(g < this.h5){h=this.h5 + 1;this.X2-=h - g;g=h;}this.h5=g;return m.xc(this.h5);};c.prototype.aBb=function(){return this.NHb++;};Va.Object.defineProperties(c.prototype,{aG:{configurable:!0,enumerable:!0,get:function(){return m.xc(this.X2);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.vi)),r.__param(1,f.l(a.lA))],d);b.fva=d;},function(r,b,a){var f,l,m,d;function c(g,h){this.is=g;this.ye=h;}Object.defineProperty(b,"__esModule",{value:!0});b.dxa=void 0;r=a(1);l=a(0);m=a(26);a=a(28);c.prototype.encode=function(g){var h,k;h=this;k="";this.ye.zB(g,function(n,q){n=h.zRa(n) + "=" + h.zRa(q);k=k?k + ("," + n):n;});return k;};c.prototype.zRa=function(g){return this.is.jF(g)?this.is.ai(g)?"" + g:this.is.Wo(g)?(g=g.replace(f.bra,this.Ona.bind(this)),!f.sPb.test(g) && f.hKb.test(g) && (g='"' + g + '"'),g):this.is.mR(g)?"" + g:this.is.Aea(g)?"NaN":"":"";};c.prototype.Ona=function(g){return f.map[g];};d=f=c;d.map={'"':'""',"\r":"","\n":" "};d.bra=/(?!^.+)["\r\n](?=.+$)/g;d.sPb=/["].*["]/g;d.hKb=/[", ]/;d=f=r.__decorate([l.R(),r.__param(0,l.l(m.Jf)),r.__param(1,l.l(a.Kf))],d);b.dxa=d;},function(r,b,a){var f,l,m,d;function c(g,h,k){this.config=g;this.cb=h;this.za=k.Db("General");}Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;r=a(1);f=a(0);l=a(26);m=a(91);a=a(8);c.prototype.assert=function(){};c.prototype.smb=function(g,h){this.assert(this.cb.jF(g),h);};c.prototype.tmb=function(g,h){this.assert(this.cb.fg(g),h);};c.prototype.V0=function(g,h){this.assert(this.cb.Wo(g),h);};c.prototype.zmb=function(g,h){this.assert(this.cb.Fn(g),h);};c.prototype.xmb=function(g,h){this.assert(this.cb.Wo(g) || null === g || void 0 === g,h);};c.prototype.lfa=function(g,h){this.assert(this.cb.ai(g),h);};c.prototype.vmb=function(g,h){this.assert(this.cb.Zea(g),h);};c.prototype.ymb=function(g,h){this.assert(this.cb.yR(g),h);};c.prototype.wmb=function(g,h){this.assert(this.cb.nR(g),h);};c.prototype.rmb=function(g,h){this.assert(this.cb.mR(g),h);};c.prototype.umb=function(g,h){this.assert(this.cb.H0(g),h);};c.prototype.XEb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(m.uxa)),r.__param(1,f.l(l.Jf)),r.__param(2,f.l(a.Kb))],d);b.wxa=d;},function(r,b,a){var f,l,m,d;function c(g){g=l.tO.call(this,g,"DebugConfigImpl") || this;g.S4b=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;r=a(1);f=a(44);l=a(45);m=a(0);a=a(38);ka(c,l.tO);Va.Object.defineProperties(c.prototype,{Onb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.bd,"breakOnError")],d.prototype,"Onb",null);d=r.__decorate([m.R(),r.__param(0,m.l(a.h$))],d);b.txa=d;},function(r,b,a){var f,l,m,d;function c(g){return l.tO.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;r=a(1);f=a(44);l=a(45);m=a(0);a=a(38);ka(c,l.tO);Va.Object.defineProperties(c.prototype,{i7a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.bd,"usePerformanceApi")],d.prototype,"i7a",null);d=r.__decorate([m.R(),r.__param(0,m.l(a.h$))],d);b.Nwa=d;},function(r,b,a){var f,l,m,d;function c(g,h){this.Ja=g;this.entries=new Set();this.za=h.Db("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Wba=void 0;r=a(1);f=a(0);l=a(19);m=a(4);a=a(8);c.prototype.mark=function(g,h,k){g={name:g,Dr:this.Ja.Wb()};h && (g.da=h);k && (g.Cj=k);this.entries.add(g);return g;};c.prototype.pka=function(){var g;g=[];this.entries.forEach(function(h){return g.push(h);});return g;};c.prototype.fUa=function(g){return this.pka().filter(function(h){return h.da === g;});};c.prototype.dUa=function(){var g;g={};try{g=this.pka().filter(function(h){return !h.da;}).reduce(function(h,k){h[k.name]=k.Dr.ea(m.ma);return h;},{});}catch(h){this.za.error(" getMapOfCommonMarks exception",h);}return g;};c.prototype.n2a=function(g){var h;h=this;this.pka().forEach(function(k){k.da === g && h.entries.delete(k);});};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.rd)),r.__param(1,f.l(a.Kb))],d);b.Wba=d;},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t){this.Ja=p;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;r=a(1);l=a(0);m=a(19);d=a(42);g=a(3);h=a(17);k=a(4);n=a(11);a=a(321);c.prototype.xQa=function(p){var t,u,v,w,x,y,A,z,B,D;t=this;w=p.mediaTime.value;x=p.Jq.value;y=p.bc.value;A=p.state.value;z={segmentId:p.Cka(),mediaTime:w,segmentTime:p.IB(),bufferingState:f.Vnb[x],presentingState:f.DOb[y],playbackState:f.BNb[A],mseBuffersBusy:this.lCb(p),intBuffersBusy:this.OAb(p),tabVisible:this.wVb(),decodedFrameCount:this.aub(p),videoElementInDom:this.FYb(p),lastVideoSync:this.Ja.Wb().Aa(k.xc(p.ZW)).ea(k.ma)};B=y === h.Eb.Hg?p.ib.al?this.config.S_a:this.config.R_a:this.config.CZa;if(x !== h.df.ce){if((x=g.L.W9a,this.ANa(z.mseBuffersBusy,z.intBuffersBusy)))D=f.Mva;}else (y !== h.Eb.Hc?x=g.L.Y9a:(x=g.L.X9a,(y=p.Cg) && 0 === y.k3() && (D=f.sfb)),(y=p.Cg) && y.Mb.sourceBuffers.forEach(function(E){var F,C;F=f.Fd[E.mediaType];z[F + "Ranges"]=E.f3();try{C=E.buffered();}catch(G){C=void 0;}C && 0 !== C.length?(E=1E3 * C.end(0) - w,z[F + "Undecoded"]=E,1 < C.length && (D=f.O8a),w < 1E3 * C.start(0) || w > 1E3 * C.end(0)?D=f.P8a:E < B.ea(k.ma)?D=f.Q8a:t.ANa(z.mseBuffersBusy,z.intBuffersBusy) && (D=f.Mva)):(z[F + "Undecoded"]=0,D=f.N8a);}));y=p.x2a.ZUa();A=w === (null === (u=y.repositionTrace) || void 0 === u?void 0:u[0].newMediaTime);z.lastRepositionCausedTimeout=A;z.trackChangeInProgress=null === (v=p.Ma) || void 0 === v?void 0:v.BH;Object.assign(z,y);p="";try{p=JSON.stringify(z);}catch(E){p="Cannot stringify details: " + E;}return new d.ed(g.M.oDa,x,D,void 0,void 0,void 0,p,void 0);};c.prototype.lCb=function(p){var t;if(p.Mb){t={};p.Mb.sourceBuffers.forEach(function(u){t[0 === u.type?"audio":"video"]={updating:u.updating()};});return t;}};c.prototype.OAb=function(p){var t;if(p.Mb){t={};p.Mb.sourceBuffers.forEach(function(u){t[0 === u.type?"audio":"video"]={updating:u.gi()};});return t;}};c.prototype.wVb=function(){return !n.Ke.hidden;};c.prototype.aub=function(p){return (p=p.Cg) && (p=p.Mb.la) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};c.prototype.FYb=function(p){if(p=p.Cg)if(p=p.Mb.la)return n.Ke.body.contains(p);return !1;};c.prototype.ANa=function(p,t){var u,v,w,x;return !((null === (u=p.audio) || void 0 === u?void 0:u.updating) === (null === (v=t.audio) || void 0 === v?void 0:v.updating) && (null === (w=p.video) || void 0 === w?void 0:w.updating) === (null === (x=t.video) || void 0 === x?void 0:x.updating));};q=f=c;q.N8a="1";q.O8a="2";q.P8a="3";q.Mva="4";q.Q8a="5";q.sfb="6";q.Fd=["Audio","Video"];q.Vnb=["","NORMAL","BUFFERING","STALLED"];q.DOb=["","WAITING","PLAYING ","PAUSED","ENDED"];q.BNb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];q=f=r.__decorate([l.R(),r.__param(0,l.l(m.rd)),r.__param(1,l.l(a.Aaa))],q);b.xxa=q;},function(r,b,a){var f,l,m,d;function c(g,h,k){var n;n=this;this.Of=g;this.yc=h;this.I1=k;this.wM=function(q){n.Wi=void 0;n.NWb(q || n.I1);};this.zXa=m.xc(-this.I1.ea(m.ma));}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;r=a(1);f=a(0);l=a(19);m=a(4);a=a(46);c.prototype.nl=function(g){this.Wra=g;this.Wi=this.Wi || this.gg(this.wM);};c.prototype.hh=function(){this.Wi && this.Wi.cancel();this.Wi=void 0;};c.prototype.NWb=function(g){var h,k;h=this.Of.Wb();if(this.Wra){k=g.Aa(h.Aa(this.zXa));0 >= k.Vk(m.ab)?(g=this.Wra,this.Wra=void 0,this.zXa=h,g()):this.Wi=this.Wi || this.yc.Rj(k,this.wM.bind(this,g));}};c.prototype.gg=function(g){return this.yc.Rj(m.ab,g);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.rd)),r.__param(1,f.l(a.lj))],d);b.rHa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wba="PrioritizedSetOfListsSymbol";b.eeb="PrioritizedSetOfListsFactorySymbol";b.feb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(f){this.Rk=f;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;c.prototype.toString=function(){return this.href;};Va.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Rk + this.searchParams.toString();}}});b.VHa=c;a.prototype.get=function(f){return this.searchParams[f];};a.prototype.set=function(f,l){this.searchParams[f]=l;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(f,l,m){var d;d=aa(l);l=d.next().value;d=d.next().value;return "" + f + (0 == m?"?":"&") + l + "=" + d;},"");};},function(r,b,a){var f,l,m,d,g;function c(h,k){this.Xd=this.kxb(h,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=b.ewa=void 0;r=a(1);f=a(0);l=a(14);m=a(38);a=a(36);c.prototype.K3=function(h,k){var n;if(k=this.GCb(k))switch(h){case g.Dna:n=0 < k.length?Number(k[0]):0;break;case g.EZa:n=1 < k.length?Number(k[1]):0;break;case g.v0a:n=2 < k.length?Number(k[2]):0;break;case g.A7:n=3 < k.length?Number(k[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.GCb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.GL=function(h){return this.Xd.name === h;};c.prototype.TF=function(h){return this.Xd.fz.name === h;};c.prototype.wFb=function(h){return this.Xd.mla === h;};c.prototype.kxb=function(h,k){return Object.assign(Object.assign({mla:this.mxb(h,k)},this.jxb(h,k)),{fz:this.nxb(h,k)});};c.prototype.mxb=function(h,k){return k && k.mla?k.mla:(/Mobile|iPhone/).test(h)?l.XY.phone:(/Android/).test(h)?l.XY.xVb:l.XY.iqb;};c.prototype.jxb=function(h,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(h)?{name:l.Ao.opera,version:""}:(k=h.match(/Edge\/(\d*)\./))?{name:l.Ao.Rq,version:k[1]}:(k=h.match(/Edg\/(\d*)\./))?{name:l.Ao.$Qa,version:k[1]}:(k=h.match(/Chrome\/(\d*)\./))?{name:l.Ao.Cga,version:k[1]}:(k=h.match(/Firefox\/(\d*)\./))?{name:l.Ao.uSa,version:k[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:l.Ao.b3a,version:h[1]}:{name:l.Ao.Cga,version:""};};c.prototype.nxb=function(h,k){return k && k.fz && k.fz.name && k.fz.version?{name:k.fz.name,version:k.fz.version}:(/CrOS/).test(h)?{name:l.qn.qOa,version:""}:(/Tesla/).test(h)?{name:l.qn.x5a,version:""}:(k=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:l.qn.rYa,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(h)?{name:l.qn.Nua,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:l.qn.P0,version:""}:(/Linux/).test(h)?{name:l.qn.YGb,version:""}:{name:l.qn.Nua,version:""};};Va.Object.defineProperties(c.prototype,{JWa:{configurable:!0,enumerable:!0,get:function(){return this.GL(l.Ao.Cga);}},JL:{configurable:!0,enumerable:!0,get:function(){return this.GL(l.Ao.Rq);}},rv:{configurable:!0,enumerable:!0,get:function(){return this.GL(l.Ao.$Qa);}},gU:{configurable:!0,enumerable:!0,get:function(){return this.GL(l.Ao.uSa);}},O4:{configurable:!0,enumerable:!0,get:function(){return this.GL(l.Ao.opera);}},NL:{configurable:!0,enumerable:!0,get:function(){return this.GL(l.Ao.b3a);}},C4:{configurable:!0,enumerable:!0,get:function(){return this.TF(l.qn.P0);}},iU:{configurable:!0,enumerable:!0,get:function(){return this.TF(l.qn.ZEb);}},D4:{configurable:!0,enumerable:!0,get:function(){return this.TF(l.qn.P0) && this.wFb(l.XY.phone);}},IL:{configurable:!0,enumerable:!0,get:function(){return this.TF(l.qn.qOa);}},tma:{configurable:!0,enumerable:!0,get:function(){return this.TF(l.qn.rYa);}},fXa:{configurable:!0,enumerable:!0,get:function(){return this.TF(l.qn.x5a);}},U4:{configurable:!0,enumerable:!0,get:function(){return this.TF(l.qn.Nua);}},Lq:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.Dna,this.Xd.version);}},kMb:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.Dna,this.Xd.fz.version);}},lMb:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.EZa,this.Xd.fz.version);}},mMb:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.v0a,this.Xd.fz.version);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.WHa)),r.__param(1,f.l(m.nP))],d);b.ewa=d;(function(h){h[h.Dna=0]="major";h[h.EZa=1]="minor";h[h.v0a=2]="patch";h[h.A7=3]="revision";})(g=b.cIa || (b.cIa={}));},function(r,b,a){var f,l,m;function c(d,g,h){this.yc=d;this.ZVb=g;this.JF=h;}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;r=a(1);f=a(46);l=a(0);m=a(4);c.prototype.qF=function(){this.Wi || (this.Wi=this.yc.Rj(m.xc(this.ZVb),this.JF));};c.prototype.Br=function(){this.Wi && this.Wi.cancel();this.Wi=void 0;};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(f.lj))],a);b.CHa=a;},function(r,b,a){var f,l;function c(m,d){this.yc=m;this.I1=d;}Object.defineProperty(b,"__esModule",{value:!0});b.sxa=void 0;r=a(1);f=a(0);a=a(46);c.prototype.nl=function(m){this.hh();this.Wi=this.yc.Rj(this.I1,m);};c.prototype.hh=function(){this.Wi && this.Wi.cancel();this.Wi=void 0;};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.lj))],l);b.sxa=l;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cya=void 0;r=a(1);f=a(0);l=a(206);c.prototype.MK=function(m,d){var g;g=this;m && Object.entries(d).forEach(function(h){var k,n,q;k=aa(h);h=k.next().value;k=k.next().value;if(g.lFb(k)){n=aa(k);k=n.next().value;q=n.next().value;n=m[k];Array.isArray(n)?(g.Vha(m,h,k),n.forEach(function(p){g.MK(p,q);})):k === l.Tr?Object.values(m).forEach(function(p){g.MK(p,q);}):(g.Vha(m,h,k),"object" === typeof n && g.MK(n,q));}else g.Vha(m,h,k);});};c.prototype.lFb=function(m){return Array.isArray(m);};c.prototype.Vha=function(m,d,g){m.hasOwnProperty(d) || d === g || Object.defineProperty(m,d,{get:function(){return m[g];},enumerable:!1});};a=r.__decorate([f.R()],c);b.Cya=a;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;r=a(1);f=a(14);l=a(12);a=a(0);c.prototype.Js=function(){return this.kFb()?l.Xxa:(/widevine/i).test(this.config().Nl)?l.w$:(/fps/i).test(this.config().Nl)?"fairplay":l.DY;};c.prototype.kFb=function(){return (/clearkey/i).test(this.config().Nl);};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(f.Vc))],m);b.jCa=m;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.hYa=void 0;c=a(622);f=a(623);r=a(0);l=a(108);m=a(8);d=a(628);b.hYa=new r.ad(function(g){g(m.Kb).to(f.uBa).aa();g(l.rI).to(c.vBa).aa();g(m.jaa).to(d.eBa).aa();});},function(r,b,a){function c(){this.v4a={};this.$m=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;r=a(1);a=a(0);c.prototype.n7=function(f,l){l && (this.v4a[f]=l,this.$m=Object.values(this.v4a));};a=r.__decorate([a.R()],c);b.vBa=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p){this.Ja=n;this.$m=q;this.ona=p;}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;r=a(1);f=a(207);l=a(0);m=a(625);d=a(19);g=a(108);h=a(8);k=a(626);c.prototype.Db=function(n,q,p,t,u){p=void 0 === p?this.$m:p;return q?new m.MEa(this.Ja,this.ona,p,q,n):u?new k.ova(this.Ja,this.ona,p,n,t || "",u):new f.qI(this.Ja,this.ona,p,n);};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(d.rd)),r.__param(1,l.l(g.rI)),r.__param(2,l.l(h.jaa))],a);b.uBa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MNa=void 0;b.MNa=function(a,c){var l;a=a.$Ab();for(var f=0;f < c.length;++f){l=c[f];void 0 != l && null != l && (l.mh && (l=l.mh),l.constructor === Uint8Array?a.Dlb(l):"MediaRequest" === l.constructor.name?a.plb(l):"string" === typeof l?a.Blb(l):"function" === typeof l?a.jlb(l):l instanceof Error?a.glb(l):l instanceof Object?a.qlb(l):a.Elb(l));}return a.zj();};},function(r,b,a){var f,l,m;function c(d,g,h,k,n){d=m.qI.call(this,d,g,h,n) || this;d.j=k;f.co(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;f=a(56);l=a(329);m=a(207);ka(c,m.qI);c.prototype.mha=function(d){return new c(this.Ja,this.i1,this.$m,this.j,d);};c.prototype.bB=function(d,g,h){d=new l.iaa(d,this.Ln,this.Ja.Wb(),g,h,this.j.index);g=aa(this.$m.$m);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d,this.j);}};b.MEa=c;},function(r,b,a){var f,l;function c(m,d,g,h,k,n){m=f.qI.call(this,m,d,g,h) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.ova=void 0;f=a(207);l=a(627);ka(c,f.qI);c.prototype.bB=function(m,d,g){m=new l.nva(m,this.Ln,this.Ja.Wb(),d,g,this.prefix);d=aa(this.$m.$m);for(g=d.next();!g.done;g=d.next()){g=g.value;g(m);}};c.prototype.mha=function(m){return new c(this.Ja,this.i1,this.$m,m,this.groups,this.prefix);};b.ova=c;},function(r,b,a){var f,l;function c(m,d,g,h,k,n,q){this.level=m;this.Ln=d;this.timestamp=g;this.message=h;this.Vb=k;this.prefix=n;this.index=void 0 === q?0:q;}Object.defineProperty(b,"__esModule",{value:!0});b.nva=void 0;f=a(4);l={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.z8=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.VUb(! !m));return (this.timestamp.ea(f.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (l[this.level] || this.level) + "|" + this.Ln + "| " + m;};c.prototype.VUb=function(m){var k;for(var d=this.Vb.length,g="",h=0;h < d;++h){k=this.Vb[h].Ht;h && g.length && (g+=" ");if("object" === typeof k){if(null === k)g+="null";else if(k instanceof Error)g+=this.UUb(k,m);else try{g+=JSON.stringify(k);}catch(n){g+=this.TUb(k);}}else g+=k;}return g;};c.prototype.UUb=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.TUb=function(m){var d;d=[];return JSON.stringify(m,function(g,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.nva=c;},function(r,b,a){var f,l,m,d;function c(g,h){this.Dc=g;this.ye=h;}Object.defineProperty(b,"__esModule",{value:!0});b.eBa=void 0;r=a(1);f=a(0);l=a(629);m=a(35);a=a(28);c.prototype.$Ab=function(){return new l.fBa(this.Dc,this.ye);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(m.Th)),r.__param(1,f.l(a.Kf))],d);b.eBa=d;},function(r,b,a){var q,p,t;function c(u,v){this.Dc=u;this.ye=v;this.Vb=[];}function f(u){return n.call(this,u,function(v){return {Details:v};}) || this;}function l(u){return n.call(this,u,function(v){return JSON.parse(v.toJSON());}) || this;}function m(u,v){v=n.call(this,v,function(w){return {Base64:u.encode(w)};}) || this;v.Dc=u;return v;}function d(u,v){v=n.call(this,v,function(w){return w();}) || this;v.ye=u;return v;}function g(u){return n.call(this,u,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function h(u,v,w){v=n.call(this,v,w) || this;v.ye=u;return v;}function k(u){return n.call(this,u,function(v){return {Details:v};}) || this;}function n(u,v){this.Ht=u;this.value=v?v(u):u;}Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;r=a(1);q=a(0);p=a(28);a=a(35);n.prototype.XS=function(u){return this.Ht === u;};ka(k,n);k.prototype.yH=function(u,v){return v?"":"\r\n" + this.Ht;};ka(h,n);h.prototype.yH=function(){var u;u="";this.ye.zB(this.value,function(v,w){try{u+=", " + v + ": " + w;}catch(x){try{u+=", " + v + ": " + JSON.stringify(w);}catch(y){u+=", error stringifying " + v;}}});return u.replace(/[\r\n]+ */g," ");};ka(g,n);g.prototype.yH=function(u){var v;v="\r\n" + this.Ht.message;u || (v+="\r\n" + this.Ht.stack);return v;};ka(d,n);d.prototype.yH=function(){var u;u="";this.ye.zB(this.value,function(v,w){u+=", " + v + ": " + w;});return u.replace(/[\r\n]+ */g," ");};ka(m,n);m.prototype.yH=function(u,v){return this.Ht && !v?"\r\n" + this.Dc.encode(this.Ht):"";};ka(l,n);l.prototype.yH=function(){return this.Ht?this.Ht.toJSON():"";};ka(f,n);f.prototype.yH=function(){return ", " + (this.Ht.toString?"" + this.Ht.toString():"");};c.prototype.Blb=function(u){this.Vb.push(new k(u));};c.prototype.qlb=function(u){this.Vb.push(new h(this.ye,u));};c.prototype.glb=function(u){this.Vb.push(new g(u));};c.prototype.jlb=function(u){this.Vb.push(new d(this.ye,u));};c.prototype.Dlb=function(u){this.Vb.push(new m(this.Dc,u));};c.prototype.plb=function(u){this.Vb.push(new l(u));};c.prototype.Elb=function(u){this.Vb.push(new f(u));};c.prototype.zj=function(){return this.Vb;};t=c;t=r.__decorate([q.R(),r.__param(0,q.l(a.Th)),r.__param(1,q.l(p.Kf))],t);b.fBa=t;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.FZa=void 0;r=a(0);c=a(330);f=a(631);b.FZa=new r.ad(function(l){l(c.GCa).to(f.FCa).aa();});},function(r,b,a){var f,l,m;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;r=a(1);f=a(0);l=a(632);a=a(46);c.prototype.APa=function(d,g){return new l.HCa(this.yc,d,g);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.lj))],m);b.FCa=m;},function(r,b){function a(c,f,l){this.yc=c;this.config=f;this.getTime=l;}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;a.prototype.observe=function(c,f){var l;l=this;this.cancel();this.Wi=this.yc.D7(this.config.EUa(),function(){l.getTime() >= c && (l.cancel(),f());});};a.prototype.cancel=function(){this.Wi && (this.Wi.cancel(),this.Wi=void 0);};b.HCa=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.wa=void 0;r=a(0);c=a(208);f=a(331);l=a(634);m=a(637);d=a(334);g=a(638);b.wa=new r.ad(function(h){h(c.Mba).to(l.yGa).aa();h(f.wGa).to(m.vGa).aa();h(d.GHa).to(g.FHa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v;function c(w,x,y,A,z,B,D,E,F,C){this.Ja=w;this.Bg=x;this.iM=y;this.Fua=A;this.FV=z;this.yc=B;this.UJ=D;this.Um=E;this.Oia=F;this.Td=C;}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;r=a(1);f=a(0);l=a(19);m=a(8);d=a(330);g=a(137);h=a(332);k=a(333);n=a(635);q=a(636);p=a(94);t=a(46);u=a(327);a=a(28);c.prototype.Ssb=function(w,x,y){return new n.zGa(this.Ja,this.Bg,this.iM,this.Fua,x,w,this.Um,this.FV,this.Td,this.Oia,y);};c.prototype.osb=function(w,x){return new q.dwa(this.Bg,w,x,this.iM,this.yc,this.UJ);};v=c;v=r.__decorate([f.R(),r.__param(0,f.l(l.rd)),r.__param(1,f.l(m.Kb)),r.__param(2,f.l(d.GCa)),r.__param(3,f.l(k.gIa)),r.__param(4,f.l(h.IEa)),r.__param(5,f.l(t.lj)),r.__param(6,f.l(p.pO)),r.__param(7,f.l(g.JP)),r.__param(8,f.l(u.PO)),r.__param(9,f.l(a.Kf))],v);b.yGa=v;},function(r,b,a){var d,g,h;function c(k,n,q,p,t,u,v,w,x,y,A){var z;z=this;this.Ja=k;this.iM=q;this.aqa=p;this.config=t;this.ob=u;this.Um=v;this.FV=w;this.Td=x;this.Vj=A;this.Xwb=Object.values(d.Ub).map(function(B){return {event:B,JF:function(D){return z.Qb.qc(B,D);}};});this.Qb=y.create();this.GC=[];this.log=n.Db("SegmentManager");this.pja=!0;this.kg=this.Td.createElement("div",h.Bba);}function f(k,n,q,p,t,u,v,w,x,y,A){var z;z=this;this.log=k;this.config=n;this.dLb=q;this.aqa=p;this.Um=t;this.FV=u;this.Ot=v;this.P=w;this.kg=x;this.ob=y;this.Vj=A;this.jK=function(){z.uC && (z.uC.cancel(),z.uC=void 0);};this.lla=function(B){z.log.trace("Received the transition event",{movieId:B.K});z.zPb();};this.hna=function(){};this.log.debug("Constructing session data",l(w));this.aWb=new Promise(function(B){z.zPb=B;});}function l(k){return {movieId:k.K};}function m(k){return JSON.stringify({movieId:k.K,startPts:k.X,logicalEnd:k.Ni,params:k.Jb?{trackingId:k.Jb.Dk,authParams:k.Jb.Z0,sessionParams:k.Jb.po,disableTrackStickiness:k.Jb.fia,uiPlayStartTime:k.Jb.N8,loadImmediately:k.Jb.l5,playbackState:k.Jb.playbackState?{currentTime:k.Jb.playbackState.currentTime,volume:k.Jb.playbackState.volume,muted:k.Jb.playbackState.muted,playbackRate:k.Jb.playbackState.playbackRate}:void 0,pin:k.Jb.G0a,heartbeatCooldown:k.Jb.wla,uiLabel:k.Jb.ke,uxLabels:k.Jb.X8}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;d=a(17);g=a(4);h=a(12);f.prototype.load=function(k){var n,q;n=this;this.log.trace("Loading new segment",l(this.P));this.T=this.aqa.nha(this.config,this.FV,this.Um,this.P,this.ob,this.Vj);this.T.addEventListener(d.Ub.CL,function(p){n.log.trace("Segment is inactive",l(n.P));n.Ot.close(n.Um(p.errorCode));});this.T.addEventListener(d.Ub.closed,this.jK);if(k)(this.log.debug("Pausing background segment",l(this.P)),this.T.addEventListener(d.Ub.Bma,this.lla),this.T.pause());else {this.kg.appendChild(this.T.xp());q=function(p){n.lla(p);n.T.removeEventListener(d.Ub.loaded,q);};this.T.addEventListener(d.Ub.loaded,q);}};f.prototype.observe=function(){var k,n,q;k=this;this.log.trace("Observing segment",m(this.P));if(this.uC)this.log.trace("Segment is currently observing",l(this.P));else if(this.P.Jb && this.P.Jb.l5)this.hna(this);else {n=this.dLb.APa(this.config,function(){var p;if(k.T){p=k.T.j.mediaTime.value;if(p)return p;}return 0;});q=this.oob(this.P);this.log.trace("Adding a moment to watch",{time:q});n.observe(q,function(){k.log.trace("Segment has reached its loading point",l(k.P));k.hna(k);k.jK();});}};f.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.P),error:k});return this.T?(this.T.removeEventListener(d.Ub.Bma,this.lla),this.T.close(k)):Promise.resolve();};f.prototype.ULb=function(k){this.hna=k;};f.prototype.oob=function(k){var n,q;n=k.Ni;k=k.Jb?k.Jb.l5:!1;q=0;n && !k && (q=n - this.config.bUa(),q < this.config.eUa() && (k=n - this.config.eUa(),q=n - k / 2));return q;};c.prototype.TBb=function(){return this.Lg && this.Lg.T?this.Lg.T.isReady():!1;};c.prototype.xp=function(){return this.kg;};c.prototype.Ms=function(){if(!this.Lg || !this.Lg.T)throw Error("Player not ready");return this.Lg.T;};c.prototype.xXb=function(k){var n,q;q=this.eja(k);q?this.R6a(q,k):this.ob.De(k.id) || this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.Lg.P.K,queuedMovieIds:this.GC.map(function(p){return p.P.K;}),xid:null === (n=this.Lg.T) || void 0 === n?void 0:n.KB()});};c.prototype.Hn=function(k){var n;this.log.info("Adding segment",m(k));if(this.pja){this.log.trace("First segment, loading",l(k));n=this.XXa(k);this.pja=!1;}else (this.log.trace("Subsequent segment, caching",l(k)),(n=this.eja(k))?this.R6a(n,k):(n=this.createSession(k),this.GC.push(n),this.Lg.observe()));return n?n.aWb:null;};c.prototype.transition=function(k,n){var q,p,t;p=this.sG;t=null === p || void 0 === p?void 0:p.T;if(p && t)return (this.sG=void 0,this.log.info("Transitioning segment",m(p.P)),t.a4a(this.Ja.Wb().ea(g.ma)),this.k6a(p,n));n=null === p || void 0 === p?void 0:p.P;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Lg.P.K,xid:null === (q=this.Lg.T) || void 0 === q?void 0:q.KB(),nextSegmentId:k,currentSegment:m(this.Lg.P),nextSegment:n?m(n):void 0,queuedMovieIds:this.GC.map(function(u){return u.P.K;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(l(this.Lg.P)),nextSession:this.sG?JSON.stringify(l(this.sG.P)):void 0});k=[this.Lg.close(k)];this.sG && k.push(this.sG.close());return Promise.all(k).then(function(){n.sG=void 0;n.GC=[];n.pja=!0;});};c.prototype.addListener=function(k,n,q){this.Qb.addListener(k,n,q);};c.prototype.removeListener=function(k,n){this.Qb.removeListener(k,n);};c.prototype.R6a=function(k,n){this.tMb(k.P,n);this.log.trace("Overwrote existing segment data",m(k.P));};c.prototype.XXa=function(k){var n,q;n=this;this.log.info("Loading the next episode",l(k));if(this.Lg){this.config.Pja()[k.K]=k.X;q=this.eja(k);}else q=this.createSession(k);if(q)return (this.log.trace("Found the next session",l(k)),q.ULb(function(p){n.L5a(p);}),this.Lg?(this.log.trace("Subsequent playback, caching player and pausing",l(k)),this.sG=q,q.load(!0)):(this.log.trace("First playback transitioning immediately",l(k)),q.load(!1),this.k6a(q)),q);this.log.warn("Unable to find the session, make sure to add it before loading",l(k));};c.prototype.k6a=function(k,n){var q,p,t,u,v;n=void 0 === n?{}:n;u=k.T?null === (q=k.T) || void 0 === q?void 0:q.getError():"missing player";if(u)return (null === (p=k.T) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Lg.P.K,mid:k.P.K,error:u,xid:null === (t=k.T) || void 0 === t?void 0:t.KB()}),Promise.reject());this.log.trace("Playing episode",l(k.P));q=this.Lg;this.Lg=k;k=this.Lg.T;k.G3a(!1);this.MX(k,q?q.T:void 0);if(q && q.T){v=q.T.xp();p=k.xp();v.style.display="none";q=q.close();this.kg.appendChild(p);q.then(function(){v.parentElement && v.parentElement.removeChild(v);});p.style.display="block";k.HB().uXb(n);k.PW();k.play();}return Promise.resolve();};c.prototype.L5a=function(k){var n,q,p,t,u;if(this.GC.length && k.T){n=k.T.j.mediaTime.value;q=this.GC[0];p=this.Lg.P.Ni;t=this.Lg.P.Jb?this.Lg.P.Jb.l5:!1;if(p || t){t?u=0:p && (u=p - this.config.bUa());null !== n && n >= u && (this.log.info("Got a time change, loading the next player",l(q.P)),this.XXa(q.P),this.GC.splice(0,1),this.L5a(k));}}};c.prototype.eja=function(k){return this.Lg.P.K === k.K?this.Lg:this.GC.find(function(n){return n.P.K === k.K;});};c.prototype.tMb=function(k,n){k.X=n.X || k.X;k.Ni=n.Ni || k.Ni;k.Jb=n.Jb || k.Jb;k.sa=n.sa || k.sa;};c.prototype.createSession=function(k){return new f(this.log,this.config,this.iM,this.aqa,this.Um,this.FV,this,k,this.kg,this.ob,this.Vj);};c.prototype.MX=function(k,n){this.Xwb.forEach(function(q){n && n.removeEventListener(q.event,q.JF);k.addEventListener(q.event,q.JF);});this.Qb.qc(d.MD.wW);};b.zGa=c;},function(r,b,a){var m,d,g,h;function c(k,n,q,p,t,u){var v;v=this;this.T=n;this.j=q;this.iM=p;this.yc=t;this.UJ=u;this.jK=function(){v.uC && (v.uC.cancel(),v.uC=void 0);};this.log=k.Db("SegmentManager",this.j);this.wa=new Map();this.j.ib.al && (this.j.addEventListener(g.Z.$G,function(w){return v.vC(w);}),this.j.addEventListener(g.Z.closed,this.jK));}function f(k,n){this.id=k;this.Bga=n;}function l(k,n,q,p){return d.ed.call(this,k,q,void 0,void 0,void 0,n,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dwa=void 0;m=a(3);d=a(42);g=a(17);h=a(4);ka(l,d.ed);l.prototype.toString=function(){return this.code + "-" + this.kc + " : " + this.message + "\n" + JSON.stringify(this.data);};f.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.jc,contentEndPts:this.Fc};};Va.Object.defineProperties(f.prototype,{jc:{configurable:!0,enumerable:!0,get:function(){return this.Bga.startTimeMs;}},Fc:{configurable:!0,enumerable:!0,get:function(){return this.Bga.endTimeMs;}},cz:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Bga.next);}}});c.prototype.vC=function(k){var n;n=this;!1;k=k.position.segmentId;0 === this.wa.size && Object.entries(this.j.rT()).forEach(function(q){var p;p=aa(q);q=p.next().value;p=p.next().value;n.wa.set(q,new f(q,p));});this.ga=this.wa.get(k);};c.prototype.play=function(k){this.Rv && (this.Rv=void 0);this.jK();this.log.trace("Playing segment",k);return this.UWa(k)?this.uNb(k):this.DV(k);};c.prototype.mo=function(k){this.log.trace("Queueing segment",k);return this.UWa(k)?this.oPb(k):this.qPb(k);};c.prototype.si=function(k,n){var q,p;q=this;p=this.j.Ma;if(null === p || void 0 === p || !p.Ah)return Promise.reject(this.getError(m.M.Lva,"ASE session manager is not yet initialized",m.L.V9,{segmentId:k,updates:n}));this.log.trace("Updating next segment weights",k,n);return new Promise(function(t,u){try{p.ZN(k,n);q.j.fireEvent(g.Z.jua,{va:k,KXb:n});t();}catch(v){u(q.getError(m.M.Lva,"updateNextSegmentWeights threw an exception",m.L.M8a,{segmentId:k,updates:n,error:v}));}});};c.prototype.UWa=function(k){return this.ga?void 0 !== this.j.rT()[this.ga.id].next[k]:!1;};c.prototype.Fka=function(){var k;k=this.j.Ma;if(null === k || void 0 === k?0:k.Ah)return k.Tn().Rd;};c.prototype.MBb=function(){var k;k=this.j.Ma;if(null === k || void 0 === k?0:k.Ah)return k.Tn().id;};c.prototype.Lzb=function(k){var n;n=this.j.Ma;if(null === n || void 0 === n?0:n.Ah)return (k=n.h3(k)) && k.Re;};c.prototype.uNb=function(k){var n,q;n=this;q=this.j.Ma;return null !== q && void 0 !== q && q.Ah?this.ga && 1 === this.ga.cz.length?this.DV(k):this.j.Cg?void 0 === this.Lzb(k)?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.DV(k)):new Promise(function(p,t){var y,A,z,B,D,E;function u(){!z && A && y && (E.cancel(),z=!0,n.log.trace("Telling ASE to choose the next segment",{id:k,stopped:A,repositioned:y,completed:z}),q.ps(k,!1,!0)?(p(),z=!0):(z=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),n.DV(k).then(p).catch(t)));}function v(){y=!0;n.log.trace("Player is repositioned",{id:k,stopped:A,repositioned:y,completed:z});n.j.removeEventListener(g.Z.Wl,v);u();}function w(){n.j.removeEventListener(g.Z.OG,w);q.stop();}function x(){A=!0;n.log.trace("ASE is stopped",{id:k,stopped:A,repositioned:y,completed:z});q.removeEventListener("stop",x);u();}y=!1;A=!1;z=!1;B=n.wa.get(k);D=n.Fka();if(void 0 === D)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),n.DV(k));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:D,currentSegment:n.ga,nextSegment:B},null,"  "));n.j.fireEvent(g.Z.j6,{Eh:n.ga && n.ga.id,cV:k});q.addEventListener("stop",x);n.j.addEventListener(g.Z.OG,w);n.j.addEventListener(g.Z.Wl,v);E=n.yc.Rj(h.Ug(10),function(){z=!0;E.cancel();t(n.getError(m.M.sO,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.L.I8a,{id:k,stopped:A,repositioned:y,completed:z}));});n.T.seek(D,g.pe.GI);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(m.M.sO,"MediaPresenter is not initialized",m.L.J8a,{id:k}))):Promise.reject(this.getError(m.M.sO,"ASE session manager is not yet initialized",m.L.V9,{id:k}));};c.prototype.DV=function(k){var n;n=this.wa.get(k);return n?this.uW(n,m.M.sO):Promise.reject(this.getError(m.M.sO,"Unable to find the separated segment",m.L.Kva,{id:k}));};c.prototype.oPb=function(k){var n;n=this.j.Ma;if(null === n || void 0 === n || !n.Ah)return Promise.reject(this.getError(m.M.TH,"ASE session manager is not yet initialized",m.L.V9,{id:k}));this.j.fireEvent(g.Z.j6,{Eh:this.ga && this.ga.id,cV:k});if(n.ps(k,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:k});return Promise.reject(this.getError(m.M.TH,"ASE chooseNextSegment failed",m.L.G8a,{id:k}));};c.prototype.qPb=function(k){var n,q;n=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.K,srcsegment:this.MBb()});if(this.Rv)return Promise.reject(this.getError(m.M.TH,"Unable to queue a non-next segment because there is currently already a segment queued",m.L.L8a,{currentSegment:this.ga?this.ga.id:void 0,queuedSegment:this.Rv.id,failedSegment:k}));if(!this.ga)return Promise.reject(this.getError(m.M.TH,"Unable to queue a non-next segment because there is no currently playing segment",m.L.H8a,{nextSegmentid:k}));q=this.wa.get(k);if(!q)return Promise.reject(this.getError(m.M.TH,"Unable to find the separated segment",m.L.Kva,{nextSegmentid:k,currentSegmentId:this.ga.id}));this.Rv={id:k,promise:new Promise(function(p,t){var u;n.uC=n.iM.APa({EUa:function(){return h.xc(100);}},function(){return n.T.j.mediaTime.value || 0;});u=n.Fka() - 500;n.log.trace("Adding moment for queued segment",{segment:k,pts:u});n.uC.observe(u,function(){n.log.trace("Moment has arrived",{segment:k,currentSegment:n.ga.id,playerEndPts:n.Fka(),pts:u});n.Rv=void 0;n.jK();n.uW(q,m.M.TH).then(p).catch(t);});})};this.Rv.promise.catch(function(p){n.j.Md(p.code,p);});return Promise.resolve();};c.prototype.uW=function(k,n){var q;q=this;return new Promise(function(p,t){var u;try{u=k.jc;!1;q.T.seek(u,g.pe.vA);p();}catch(v){t(q.getError(n,"Seek threw an exception",m.L.K8a,{id:k.id,error:v}));}});};c.prototype.getError=function(k,n,q,p){this.log.warn(n,p);return new l(k,n,q,p);};b.dwa=c;},function(r,b,a){var l,m;function c(){}function f(d,g,h,k,n){this.debug=d;this.version=g;this.nGb=h;this.rNb=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;r=a(1);l=a(0);m=a(4);f.prototype.BAb=function(){return this.config().wy;};f.prototype.Pja=function(){return this.config().wNa;};f.prototype.EUa=function(){return m.xc(this.config().QNb);};f.prototype.bUa=function(){return this.config().zHb;};f.prototype.eUa=function(){return this.config().mIb;};c.prototype.DB=function(d,g,h,k,n){return new f(d,g,h,k,n);};a=r.__decorate([l.R()],c);b.vGa=a;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;r=a(1);f=a(0);a=a(14);c.prototype.WOb=function(m,d,g,h){var k;if(this.config().nSb){k=m.metrics;void 0 !== k && k.segment !== k.srcsegment && d.AU.uc.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.K,xid:d.da,srcxid:g.da,srcmid:g.K,segment:m.position.segmentId,srcsegment:k.srcsegment,srcsegmentduration:k.srcsegmentduration,srcoffset:k.srcoffset,seamlessRequested:k.seamlessRequested,transitionType:k.transitionType,transitionTypeAtRequest:k.transitionTypeAtRequest,nextExitPositionAtRequest:k.nextExitPositionAtRequest,delayToTransition:k.delayToTransition,durationOfTransition:k.durationOfTransition,atRequest:k.atRequest,atTransition:k.atTransition,discard:k.discard});}};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Vc))],l);b.FHa=l;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.w7a=void 0;r=a(0);c=a(333);f=a(640);b.w7a=new r.ad(function(l){l(c.gIa).to(f.fIa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u;function c(v){this.kd=v;}Object.defineProperty(b,"__esModule",{value:!0});b.fIa=void 0;r=a(1);f=a(0);l=a(89);m=a(28);d=a(26);g=a(8);h=a(93);k=a(208);n=a(335);q=a(641);p=a(209);t=a(80);u=a(336);c.prototype.nha=function(v,w,x,y,A,z){return new q.xAa(this.kd.get(m.Kf),this.kd.get(d.Jf),this.kd.get(g.Kb),this.kd.get(h.Mya),this.kd.get(k.Mba),this.kd.get(p.Zaa),this.kd.get(t.B$),this.kd.get(u.ODa),this.kd.get(n.Hxa),v,w,x,y,A,z);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.uAa))],a);b.fIa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q,p,t,u,v,w,x,y,A,z,B,D,E){var F;F=this;this.ye=k;this.cb=n;this.Qb=p;this.tt=u;this.dS=v;this.PSa=w;this.config=y;this.Um=z;this.P=B;this.j=A.create(B.K,B.Ul,x,D,E,B.Jb,B.id);this.j.background=!0;this.j.sa=B.sa;this.log=q.Db("VideoPlayer",this.j);this.C0a=[];this.ended=!1;this.MX();this.j.state.addListener(function(C){C.newValue === l.Lb.ce && F.te(l.Ub.Bma,{movieId:B.K});});this.j.ib.al && (this.bK=t.osb(this,this.j),this.j.addEventListener(l.Z.$G,function(C){C=C.position.segmentId;F.KGb !== C && (F.KGb=C,F.te(l.Ub.ZRb,{segmentId:C}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;f=a(3);l=a(17);m=a(4);d=a(11);g=a(80);h=a(24);c.prototype.isReady=function(){return this.j.state.value === l.Lb.ce;};c.prototype.kBb=function(){return this.j.K;};c.prototype.KB=function(){return this.j.da;};c.prototype.xp=function(){return this.j.kg;};c.prototype.HB=function(){return this.j;};c.prototype.$B=function(){return this.j.Mv.value;};c.prototype.IFb=function(){return this.j.paused.value;};c.prototype.oFb=function(){return this.ended;};c.prototype.gi=function(){var k;k=this.j.Zfa.value;return k?{networkStalled:! !k.c8,stalled:! !k.c8,progress:k.progress,progressRollback:! !k.bPb}:null;};c.prototype.getError=function(){var k;k=this.j.Yk;return k?k.Ita():null;};c.prototype.Bzb=function(){var k;k=(this.nTa() || 0) + this.j.$Sa();return Math.min(k,this.mTa());};c.prototype.nTa=function(){return this.j.IB();};c.prototype.mTa=function(){return this.j.Px.ea(m.ma);};c.prototype.HCb=function(){return this.j.Vz?{width:this.j.Vz.width,height:this.j.Vz.height}:null;};c.prototype.Wja=function(){var t;if(this.j.yo){for(var k,n=0;n < this.j.yo.length;n++){for(var q=this.j.yo[n],p=0;p < q.streams.length;p++){t=q.streams[p];this.cb.ai(t.tha) && this.cb.ai(t.Q1) && this.cb.ai(t.P1) && this.cb.ai(t.O1) && 0 < t.Q1 && (t=t.O1 / t.P1,k=this.cb.ai(k)?Math.min(k,t):t);}}return k;}};c.prototype.Szb=function(){return this.j.Wja();};c.prototype.Xyb=function(k){var n,q;return (null === (n=this.j.sa) || void 0 === n?0:n.Hj.zT("generateScreenshots"))?this.PSa.up(this.log,this.j.sa.Hj,k):(n=null === (q=this.j.ib) || void 0 === q?void 0:q.Jp)?this.PSa.Rf(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.$zb=function(){return this.aAb(this.j.bia);};c.prototype.jzb=function(){var k;k=this;return this.j.Iq.map(function(n){return k.uL(n);});};c.prototype.dBb=function(){var k;return this.iUa(this.j.Iq,null === (k=this.j.sa) || void 0 === k?void 0:k.Tc.IIb);};c.prototype.eVa=function(k){var n;n=this;return this.BUa(k).map(function(q){return n.uL(q);});};c.prototype.jUa=function(k){var n;return this.iUa(this.BUa(k),null === (n=this.j.sa) || void 0 === n?void 0:n.Tc.JIb);};c.prototype.EFb=function(){return this.j.muted.value;};c.prototype.LCb=function(){return this.j.volume.value;};c.prototype.izb=function(){var k;k=this.j.Wd.value;return k && this.uL(k);};c.prototype.dVa=function(){var k;k=this.j.Uc.value;return k && this.uL(k);};c.prototype.fFb=function(){return ! !this.j.background;};c.prototype.OSb=function(k){this.j.muted.set(! !k);};c.prototype.kTb=function(k){this.j.volume.set(this.VKb(k));};c.prototype.USb=function(k){this.j.playbackRate.set(k);};c.prototype.zp=function(){return this.j.playbackRate.value;};c.prototype.uSb=function(k){(k=this.nSa(k))?this.j.Wd.set(k):this.log.error("Invalid setAudioTrack call");};c.prototype.$3a=function(k){var p;if(null !== this.j.Wd.value){for(var n=this.j.Wd.value.$l,q=0;q < n.length;q++){p=n[q];if(!k && null === p){this.j.Uc.set(null);return;}if(this.uL(p) === k){this.log.info("Setting Timed Text, profile: " + p.profile);this.j.Uc.set(p);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.G3a=function(k){this.j.background=k;};c.prototype.PW=function(){this.j.PW();};c.prototype.addEventListener=function(k,n,q){this.Qb.addListener(k,n,q);};c.prototype.removeEventListener=function(k,n){this.Qb.removeListener(k,n);};c.prototype.LM=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,q){try{k.te(l.Ub.DHb,void 0,!0);n.sa && (n.sa.Tc.I7a && k.te(l.Ub.XYb,n.sa.Tc.I7a,!0),n.sa.Tc.Mn && k.te(l.Ub.YRb,{segmentMap:n.sa.Tc.Mn},!0));q({W:!0});}catch(p){q({oa:f.L.gj,rb:k.ye.wd(p)});}}));};c.prototype.close=function(k){var n;n=this;this.FOa || (this.FOa=new Promise(function(q){k?n.j.WE(k,q):n.j.close(q);}));return this.FOa;};c.prototype.play=function(){this.j.Bl?this.j.fireEvent(l.Z.d3a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(l.Z.o7a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(l.Z.kYb));};c.prototype.seek=function(k,n,q,p){n=void 0 === n?l.pe.vA:n;this.j.Cg?this.j.Cg.seek(k,n,q,p):this.j.OE=k;};c.prototype.vNb=function(k){return this.bK?(this.log.trace("Playing a segment",k),this.bK.play(k)):Promise.resolve();};c.prototype.pPb=function(k){return this.bK?(this.log.trace("Queueing a segment",k),this.bK.mo(k)):Promise.resolve();};c.prototype.si=function(k,n){return this.bK?(this.log.trace("Updating next segment weights",k,n),this.bK.si(k,n)):Promise.resolve();};c.prototype.sX=function(){this.j.sX();};c.prototype.H3=function(){var k;k=this.j.bq.H3();return {bounds:k.QR,margins:k.er,size:k.size,visibility:k.visibility};};c.prototype.IW=function(k){var n,q,p;n=k.bounds;q=k.margins;p=k.size;k=k.visibility;this.j.gX && (n && this.j.gX.Dsa(n),q && this.j.gX.Esa(q),"boolean" === typeof k && this.j.gX.Fsa(k));this.j.bq && p && this.j.bq.eTb(p);};c.prototype.a4a=function(k){this.j.am=k;};c.prototype.zCb=function(k){return this.j.Mz && this.j.Mz.zAb(k) || null;};c.prototype.czb=function(){return this.ye.lG({playerver:this.config.version,jssid:this.config.nGb,groupName:this.config.BAb(),xid:this.j.da,pbi:this.j.index},this.config.rNb,{prefix:"pi_"});};c.prototype.AEb=function(k){this.j.Md(f.M.nab,f.L.im,k);};c.prototype.tHb=function(k,n,q,p){if(!this.cb.sMa(k))throw Error("invalid url");this.C0a.push({url:k,name:n,anb:q,options:p});this.u1a();};c.prototype.RUa=function(){var k,n,q,p,t,u,v,w;k={};n=this.j.Q4a;try{if((this.j.Yk && (k.errorCode=this.j.Yk.f2,k.errorType=n?"endplay":"startplay"),k.playdelay=h.lk(this.j.dga()),k.xid=this.j.da,this.j.sa && this.cb.Wo(this.j.sa.Tc.Jp) && (k.packageId=Number(this.j.sa.Tc.Jp)),k.auth=this.j.mzb(),n)){k.totaltime=this.j.jo?this.my(this.j.jo.LT()):0;k.abrdel=this.j.jo?this.j.jo.USa():0;q=this.j.Cg;p=q?q.yF():null;this.cb.ai(p) && (k.totdfr=p);p=q?q.tT():null;this.cb.ai(p) && (k.totcfr=p);t=q?q.PAb():null;t && (k.rbfrs_decoder=t.V1,k.rbfrs_network=t.f6);k.rbfrs_delay=this.j.jo?this.j.jo.ima:0;k.init_vbr=this.j.s4;u=this.HT();this.cb.jF(u) && (k.pdltime=u);v=this.j.Vf.value;w=v && v.stream;w && (k.vbr=w.bitrate,k.vdlid=w.Dd);k.bufferedTime=this.j.$Sa();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.WS=function(k){this.j.ib.po && (this.j.ib.po.userEngageAction=1);return this.cb.ai(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.tt.create(this.j)),{action:k}),this.dS(g.Bo.WS).up(this.log,this.j.sa.Hj,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.kc,errorExternalCode:n.xd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.aAb=function(k){return {register:k.register.bind(k),notifyUpdated:k.r_a.bind(k),getModel:k.iBb.bind(k),getGroups:k.p3.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.uL=function(k){var n;n=k.gPb=k.gPb || ({trackId:k.trackId,bcp47:k.wm,displayName:k.displayName,trackType:k.en,rawTrackType:k.SM,channels:k.channels});k.Zn && (n.isImageBased=!0);this.KFb(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.p8);this.LFb(k) && (n.isNoneTrack=k.Ky(),n.isForcedNarrative=k.YB());n.subType=k.MN;n.variant=k.variant;return n;};c.prototype.KFb=function(k){return "undefined" !== typeof k.isNative;};c.prototype.LFb=function(k){return "undefined" !== typeof k.Ky && "undefined" !== typeof k.YB;};c.prototype.nSa=function(k){var n;n=this;return k && this.j.Iq.find(function(q){return n.uL(q) === k;});};c.prototype.BUa=function(k){var n;k=this.nSa(k) || this.j.Wd.value;return null !== (n=null === k || void 0 === k?void 0:k.$l) && void 0 !== n?n:[];};c.prototype.iUa=function(k,n){var q;q=k.length - 1;if(void 0 === n)return q;k=k.findIndex(function(p){var t;return (null !== (t=p.ie) && void 0 !== t?t:-1) > n;});return -1 === k?q:k - 1;};c.prototype.VKb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.my=function(k){return this.cb.ai(k)?(k / 1E3).toFixed(0):"";};c.prototype.te=function(k,n,q){n=n || ({});n.target=this;this.Qb.qc(k,n,!q);};c.prototype.MX=function(){var k;k=this;this.j.addEventListener(l.Z.zta,function(){k.te(l.Ub.Pq);});this.j.addEventListener(l.Z.B6a,function(){k.te(l.Ub.eXb);});this.j.addEventListener(l.Z.D5,function(){k.te(l.Ub.INa);});this.j.addEventListener(l.Z.Wl,function(){k.te(l.Ub.INa);});this.j.addEventListener(l.Z.CL,function(n){k.te(l.Ub.CL,{errorCode:n});});this.j.addEventListener(l.Z.zfa,function(n){k.te(l.Ub.bnb,n.j);});this.j.addEventListener(l.Z.Bl,function(n){k.te(l.Ub.cnb,n);});this.j.Mv.addListener(function(){k.te(l.Ub.ONb);});this.j.paused.addListener(function(){k.te(l.Ub.SMb);});this.j.muted.addListener(function(){k.te(l.Ub.gKb);});this.j.volume.addListener(function(){k.te(l.Ub.QYb);});this.j.bc.addListener(function(){k.J6a();});this.j.state.addListener(function(){k.J6a();});this.j.Zfa.addListener(function(n){k.AHb || k.j.state.value != l.Lb.ce || n.newValue || (k.AHb=!0,k.te(l.Ub.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.RUa());}));k.te(l.Ub.$fa);});this.j.Wd.addListener(function(n){k.te(l.Ub.ME);n.oldValue && n.newValue && n.oldValue.$l == n.newValue.$l || k.te(l.Ub.wH);setTimeout(function(){var q;if(null !== k.j.Wd.value && null !== k.j.Uc.value){q=k.j.Wd.value.$l;0 <= q.indexOf(k.j.Uc.value) || (k.log.info("Changing timed text track to match audio track"),k.j.Uc.set(q[0]));}},0);});this.j.Uc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.te(l.Ub.Kz);});this.j.addEventListener(l.Z.wH,function(){k.te(l.Ub.wH);});this.j.addEventListener(l.Z.pX,function(){k.te(l.Ub.pX);});this.j.state.addListener(function(n){switch(n.newValue){case l.Lb.ce:k.te(l.Ub.Kvb);k.te(l.Ub.IYb);k.te(l.Ub.bNa);k.te(l.Ub.wH);k.te(l.Ub.CHb);k.u1a();k.cZb();break;case l.Lb.CLOSING:k.j.Yk && k.te(l.Ub.EWa,k.j.Yk);break;case l.Lb.CLOSED:(k.te(l.Ub.closed),k.Qb.hh());}});};c.prototype.cZb=function(){var k;k=this;this.j.bq.addEventListener("showsubtitle",function(n){k.te(l.Ub.Jsa,n,!0);});this.j.bq.addEventListener("removesubtitle",function(n){k.te(l.Ub.lra,n,!0);});};c.prototype.u1a=function(){if(this.j.state.value == l.Lb.ce){for(var k,n,q;n=this.C0a.shift();){k=this.j.bq.Jea(n.url,n.name,n.options);n.anb && (q=k);}q && this.j.Uc.set(q);}};c.prototype.J6a=function(){var k;k=this.j.state.value == l.Lb.ce && this.j.bc.value == l.Eb.fu;this.ended !== k && (this.ended=k,this.j.IE("Ended changed: " + k),(k || this.j.state.value === l.Lb.CLOSING) && this.te(l.Ub.Jwb));};c.prototype.HT=function(){var k,n;try{k=/playercore.*js/;n=d.ou.getEntriesByType("resource").filter(function(q){return null !== k.exec(q.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(q){}};b.xAa=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.tH=void 0;r=a(0);c=a(643);f=a(644);l=a(337);m=a(338);b.tH=new r.ad(function(d){d(m.wHa).to(c.vHa);d(l.tHa).ri(new f.sHa());d(m.uHa).uf(function(g){return function(){return g.$a.get(m.wHa);};});});},function(r,b,a){var f,l,m,d;function c(g){this.config=g;this.Osa=l.ab;this.DN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;r=a(1);f=a(0);l=a(47);m=a(4);a=a(337);c.prototype.Ns=function(){var h;for(var g;0 < this.DN.length;){g=this.DN.shift();this.ILa(g);}g=void 0 === this.ES || void 0 === this.nF?m.ab:this.nF.Aa(this.ES);h=g.mXa()?0:this.Osa.ea(l.dD) / g.ea(m.ma);return {Bta:Math.floor(h),b5b:g.ea(m.ma)};};c.prototype.elb=function(g){this.Osa=this.Osa.add(g.size);this.DN.push(g.tvb);for(this.DN.sort(function(h,k){return h.start.Vk(k.start);});this.DN.length > this.config.uvb;){g=this.DN.shift();this.ILa(g);}};c.prototype.ILa=function(g){void 0 === this.ES && (this.ES=g.start);void 0 !== this.nF && 0 > this.nF.Vk(g.start) && (this.ES=this.ES.add(g.start.Aa(this.nF)));if(void 0 === this.nF || 0 > this.nF.Vk(g.end))this.nF=g.end;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.tHa))],d);b.vHa=d;},function(r,b,a){function c(f){this.uvb=void 0 === f?10:f;}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;r=a(1);a=a(0);c=r.__decorate([a.R()],c);b.sHa=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F;Object.defineProperty(b,"__esModule",{value:!0});b.xm=void 0;r=a(0);c=a(25);f=a(14);l=a(646);m=a(138);d=a(139);g=a(647);h=a(210);k=a(648);n=a(339);q=a(340);p=a(649);t=a(211);u=a(11);v=a(345);w=a(653);x=a(346);y=a(654);A=a(213);z=a(655);B=a(347);D=a(36);E=a(344);F=a(656);b.xm=new r.ad(function(C){C(d.SP).to(g.LGa).aa();C(c.vw).to(l.Axa).aa();C(h.zAa).to(k.yAa).aa();C(q.Dwa).to(p.Cwa).aa();C(h.xEa).ri({isTypeSupported:u.ED && u.ED.isTypeSupported});C(t.jY).ri(pb.cast || null);C(t.Ewa).ri(pb.castReceiverEme || null);C(n.Qya).UC(function(G){return {qAb:function(){return G.$a.get(D.IP);}};});C(m.$H).UC(function(G){return G.$a.get(f.Vc);});C(v.hCa).to(w.eCa).aa();C(E.dCa).to(F.cCa).aa();C(x.gCa).to(y.fCa).aa();C(A.C$).to(z.Pya).aa();C(B.CFa).ri(pb);});},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q){this.config=k;this.cOa=n;this.qNb=q;this.XOb=this.ftb();}Object.defineProperty(b,"__esModule",{value:!0});b.Axa=void 0;r=a(1);f=a(25);l=a(138);m=a(0);d=a(48);g=a(339);a=a(340);c.prototype.$Ua=function(k){return this.TSa().aVa(k);};c.prototype.bVa=function(k){return this.Ps().aVa(k);};c.prototype.TSa=function(){this.qfa && this.qfa.type == this.config().rfa || (this.qfa=this.cOa.nsb(this.config().rfa));return this.qfa;};c.prototype.Ps=function(){this.a9 && this.a9.type == this.config().b9 || (this.a9=this.cOa.ttb(this.config().b9),this.a9.Kea(this.qNb.qAb()));return this.a9;};c.prototype.FAb=function(k){var p;if(!k || !k.length)return f.de.MY;k=this.Wxb(k);for(var n=[f.de.QP,f.de.MY,f.de.JI,f.de.Bw,f.de.Mr,f.de.$z,f.de.Qw,f.de.dj],q=n.length;q--;){p=n[q];if((0,this.XOb[p])(k))return p;}return f.de.QP;};c.prototype.aw=function(k){return this.Ps().aw(k);};c.prototype.Ix=function(k){return this.Ps().Ix(k);};c.prototype.Ks=function(){return this.Ps().Ks();};c.prototype.l3=function(){return this.Ps().l3();};c.prototype.WW=function(){return this.Ps().WW();};c.prototype.UW=function(){return this.TSa().UW();};c.prototype.o8=function(){return this.Ps().o8();};c.prototype.XW=function(){return this.Ps().XW();};c.prototype.eL=function(k){return this.Ps().eL(k);};c.prototype.nL=function(){return this.Ps().nL();};c.prototype.A3=function(){return this.Ps().A3();};c.prototype.Wxb=function(k){var n;n={};k.filter(function(q){return "video" === q.type;}).forEach(function(q){n[q.Kg]="";});return Object.keys(n);};c.prototype.ftb=function(){var k;k={};k[f.de.dj]=function(n){return n.some(function(q){return -1 < q.indexOf("av1");});};k[f.de.$z]=function(n){return n.some(function(q){return -1 < q.indexOf("hpl");});};k[f.de.Qw]=function(n){return n.some(function(q){return -1 < q.indexOf("vp9");});};k[f.de.Mr]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-dv");});};k[f.de.Bw]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-hdr");});};k[f.de.JI]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-main10-L") || -1 < q.indexOf("hevc-main-L");});};k[f.de.MY]=(function(n,q){var p;p={};n.forEach(function(t){return p[t]=1;});n=aa(q);for(q=n.next();!q.done;q=n.next()){if(p[q.value])return !0;}return !1;}).bind(null,[d.N.jD]);k[f.de.QP]=function(){return !0;};return k;};h=c;h=r.__decorate([m.R(),r.__param(0,m.l(l.$H)),r.__param(1,m.l(a.Dwa)),r.__param(2,m.l(g.Qya))],h);b.Axa=h;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t){this.xm=q;this.cb=p;this.g5a=t;this.Ikb="video/mp4;codecs={0}";this.Qfb="audio/mp4;codecs={0}";q=this.xm.eL(l.de.Mr);this.Hkb=d.Jd.OPa(q);}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;r=a(1);l=a(25);m=a(0);d=a(140);g=a(26);h=a(198);k=a(341);n=a(12);c.prototype.N1=function(q){q=this.xm.FAb(q);q=this.cb.jF(q)?q:l.de.QP;return this.g5a.format(this.Ikb,this.Hkb[q]);};c.prototype.K1=function(q){if(0 === q.length)return this.g5a.format(this.Qfb,d.Jd.TX);q=k.Iva[q[0].Kg] || f.Wua;return q === f.Wua?n.sI:q === f.o8a?n.EBa:n.DBa;};a=f=c;a.Wua="AAC";a.o8a="XHEAAC";a=f=r.__decorate([m.R(),r.__param(0,m.l(l.vw)),r.__param(1,m.l(g.Jf)),r.__param(2,m.l(h.Rba))],a);b.LGa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q){this.config=k;this.jQa=n;this.cast=q;}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;r=a(1);f=a(0);l=a(210);m=a(138);d=a(25);g=a(211);h=a(212);c.prototype.FPa=function(){switch(this.config().b9){case d.Bi.f$:return g.g$.iha(this.jQa,this.cast);case d.Bi.Fw:return h.pA.iha(this.config);default:return this.jQa;}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.$H)),r.__param(1,f.l(l.xEa)),r.__param(2,f.l(g.jY))],a);b.yAa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z;function c(B,D,E,F,C,G,J,K,H,L,R){this.gXa=B;this.cast=D;this.config=E;this.yc=F;this.xa=C;this.is=G;this.Ql=J;this.cr=K;this.platform=H;this.Dc=L;this.Cv=R;}Object.defineProperty(b,"__esModule",{value:!0});b.Cwa=void 0;r=a(1);f=a(0);l=a(25);m=a(210);d=a(138);g=a(211);h=a(650);k=a(651);n=a(164);q=a(343);p=a(46);t=a(40);u=a(26);v=a(652);w=a(79);x=a(8);y=a(34);A=a(35);a=a(344);c.prototype.nsb=function(B){var D;D=this.gXa.FPa();switch(B){case l.au.Fw:return new h.DCa(this.config,D,this.is,this.platform,this.Cv);default:return new q.AY(this.config,D,this.Cv);}};c.prototype.ttb=function(B){var D;D=this.gXa.FPa();switch(B){case l.Bi.f$:B=new g.g$(this.config,D,this.is,this.cast,this.Cv);break;case l.Bi.XH:B=new v.Lwa(this.config,D,this.is,this.Ql,this.cr,this.xa,this.Cv);break;case l.Bi.Fw:B=new k.LBa(this.config,D,this.is,this.yc,this.xa,this.cr,this.Dc,this.Cv);break;default:B=new n.jn(this.config,D,this.is,this.Cv);}return B;};z=c;z=r.__decorate([f.R(),r.__param(0,f.l(m.zAa)),r.__param(1,f.l(g.jY)),r.__param(2,f.l(d.$H)),r.__param(3,f.l(p.lj)),r.__param(4,f.l(t.vi)),r.__param(5,f.l(u.Jf)),r.__param(6,f.l(w.ku)),r.__param(7,f.l(x.Kb)),r.__param(8,f.l(y.Kk)),r.__param(9,f.l(A.Th)),r.__param(10,f.l(a.dCa))],z);b.Cwa=z;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,q,p){h=d.AY.call(this,h,k,p) || this;h.is=n;h.platform=q;h.type=f.au.Fw;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;f=a(25);l=a(48);m=a(104);d=a(343);g=a(212);ka(c,d.AY);c.prototype.UW=function(){return Promise.resolve(this.config().OS && this.Hx(m.zb.ru,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.fF=function(){var h;h={};h[l.oe.kD]="mp4a.40.2";h[l.oe.lD]="mp4a.40.2";"browser" === this.platform.aia?this.config().OS && (h[l.oe.EO]={kf:"avc1",keySystem:m.zb.ru,features:["audio-endpoint-codec=DD+JOC"]},h[l.oe.FO]={kf:"avc1",keySystem:m.zb.ru,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().lRa && (h[l.oe.EO]="ec-3"),this.config().kRa && (h[l.oe.i$]="ec-3"),this.config().OS && (h[l.oe.FO]={kf:"avc1",keySystem:m.zb.ru,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.eSa=function(h){var k;k=this;h=h.filter(function(n){var t;for(var q=aa(k.Et),p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !0;}q=aa(k.Vm);for(p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !1;}n=k.Aqa[n];q=[];t=m.zb.ru;if(n)return (k.is.Wo(n)?p=n:(q=n.features,p=n.kf,t=n.keySystem),k.Hx(t,p,q));});return Promise.resolve(h);};c.prototype.Hx=function(h,k,n){h=g.pA.L1(h,k,n);return this.Ix(h);};b.DCa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E;function c(F,C,G,J,K,H,L,R){F=l.jn.call(this,F,C,G,R) || this;F.yc=J;F.xa=K;F.cr=H;F.Dc=L;F.Cv=R;F.type=m.Bi.Fw;F.BO="hvc1";F.v9a="avc1";F.M0a={};F.log=F.cr.Db("MicrosoftVideoCapabilityDetector");F.pUb();F.VW && F.config().qJb?F.UQa=F.Fsb():(F.UQa=Promise.resolve(""),F.config().sJb?F.Ksb():F.config().rJb && F.Jsb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;f=a(48);l=a(164);m=a(25);r=a(106);d=a(104);g=a(4);h=a(317);k=a(140);n=a(212);q=a(58);p=a(165);t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=["hdcp=1"];B=["hdcp=2"];D=new r.yA();E=new h.W9();ka(c,l.jn);c.prototype.eL=function(F){return F === m.de.Mr && this.config().WXb?k.Jd.SO:l.jn.prototype.eL.call(this,F);};c.prototype.aw=function(F){switch(F){case m.hj.rD:return this.p5a();case m.hj.iu:return this.PV;default:return Promise.resolve(!1);}};c.prototype.Ks=function(){var C;function F(){return C.VW?C.YDb?C.p5a().then(function(G){return Promise.resolve(G?d.zb.Kd:d.zb.AI);}):Promise.resolve(d.zb.AI):C.nVb?Promise.resolve(d.zb.AI):Promise.resolve(d.zb.ru);}C=this;this.keySystem || (this.keySystem=F());return this.keySystem;};c.prototype.l3=function(){return this.UQa;};c.prototype.WW=function(){return Promise.resolve({result:this.o5a(),reason:"is-type-supported"});};c.prototype.XW=function(){return this.VW && this.r5a()?this.PV:Promise.resolve(!1);};c.prototype.o8=function(){return Promise.resolve(this.n5a()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Kea=function(F){this.Lp=F;Object.assign(this.Lp,this.M0a);F.itshwdrm=this.VW;F.itsqhd=this.q5a();F.itshevc=this.r5a();F.itshdr=this.o5a();F.itsdv=this.n5a();F.itsav1=this.lVb();this.lua();};c.prototype.wR=function(F,C){(this.Lp?this.Lp:this.M0a)[F]=C;};c.prototype.nL=function(){var F;F=this;return this.aw(m.hj.iu).then(function(C){return C?F.lS(m.hj.iu):F.aw(m.hj.rD).then(function(G){return G?F.lS(m.hj.rD):F.lS(void 0);});});};c.prototype.A3=function(){return this.config().cq?Promise.resolve(void 0):this.Ks().then(function(F){return F === d.zb.Kd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.iy=function(F){var C;C=this;return this.Ks().then(function(G){var J,K,H;if(C.Ama(G,F))return !1;J=C.Aqa[F];if(J){K=[];if(C.is.Wo(J))H=J;else (K=J.features,H=J.kf,G=J.keySystem);return C.Hx(G,H,K);}return !1;});};c.prototype.fF=function(){var F;F=l.jn.prototype.fF.call(this);F[f.N.$P]=F[f.N.LI]=F[f.N.KI]=F[f.N.YZ]={kf:"vp09.00.11.08.02",keySystem:d.zb.Kd,features:t};F[f.N.PY]=F[f.N.OY]={kf:"hev1.2.6.L90.B0",keySystem:d.zb.Kd,features:u};F[f.N.RY]=F[f.N.QY]={kf:"hev1.2.6.L93.B0",keySystem:d.zb.Kd,features:u};F[f.N.TY]=F[f.N.SY]={kf:"hev1.2.6.L120.B0",keySystem:d.zb.Kd,features:u};F[f.N.VY]=F[f.N.UY]={kf:"hev1.2.6.L123.B0",keySystem:d.zb.Kd,features:u};F[f.N.eP]=F[f.N.dP]={kf:"hev1.2.6.L150.B0",keySystem:d.zb.Kd,features:u};F[f.N.gP]=F[f.N.fP]={kf:"hev1.2.6.L153.B0",keySystem:d.zb.Kd,features:u};F[f.N.UO]=F[f.N.TO]={kf:"hev1.2.6.L90.B0",keySystem:d.zb.Kd,features:w};F[f.N.WO]=F[f.N.VO]={kf:"hev1.2.6.L93.B0",keySystem:d.zb.Kd,features:w};F[f.N.XO]=F[f.N.kI]={kf:"hev1.2.6.L120.B0",keySystem:d.zb.Kd,features:w};F[f.N.ZO]=F[f.N.YO]={kf:"hev1.2.6.L123.B0",keySystem:d.zb.Kd,features:x};F[f.N.aP]=F[f.N.$O]={kf:"hev1.2.6.L150.B0",keySystem:d.zb.Kd,features:x};F[f.N.cP]=F[f.N.bP]={kf:"hev1.2.6.L153.B0",keySystem:d.zb.Kd,features:x};F[f.N.pY]=F[f.N.oY]={kf:"hev1.2.6.L90.B0",keySystem:d.zb.Kd,features:y};F[f.N.rY]=F[f.N.qY]={kf:"hev1.2.6.L93.B0",keySystem:d.zb.Kd,features:y};F[f.N.sY]=F[f.N.HO]={kf:"hev1.2.6.L120.B0",keySystem:d.zb.Kd,features:y};F[f.N.uY]=F[f.N.tY]={kf:"hev1.2.6.L123.B0",keySystem:d.zb.Kd,features:A};F[f.N.wY]=F[f.N.vY]={kf:"hev1.2.6.L150.B0",keySystem:d.zb.Kd,features:A};F[f.N.yY]=F[f.N.xY]={kf:"hev1.2.6.L153.B0",keySystem:d.zb.Kd,features:A};F[f.N.w9]={kf:"av01.0.04M.10",keySystem:d.zb.Kd,features:t};F[f.N.x9]={kf:"av01.0.05M.10",keySystem:d.zb.Kd,features:t};F[f.N.y9]={kf:"av01.0.08M.10",keySystem:d.zb.Kd,features:t};F[f.N.z9]={kf:"av01.0.09M.10",keySystem:d.zb.Kd,features:t};F[f.N.A9]={kf:"av01.0.12M.10",keySystem:d.zb.Kd,features:v};F[f.N.B9]={kf:"av01.0.13M.10",keySystem:d.zb.Kd,features:v};return F;};c.prototype.Hx=function(F,C,G){F=n.pA.L1(F,C,G);return this.Ix(F);};c.prototype.q5a=function(){return this.Hx(d.zb.Kd,this.BO,u);};c.prototype.o5a=function(){return this.Hx(d.zb.Kd,this.BO,w);};c.prototype.n5a=function(){return this.Hx(d.zb.Kd,this.BO,y);};c.prototype.lVb=function(){return this.Hx(d.zb.Kd,k.Jd.dj,t);};c.prototype.r5a=function(){return this.Hx(d.zb.Kd,this.BO,v);};c.prototype.p5a=function(){var F;F=this;return this.PV.then(function(C){return C?Promise.resolve(C):F.x1a;});};c.prototype.lua=function(){this.Lp && (this.Lp.itshdcp=JSON.stringify({hdcp1:this.EVa,time1:this.I5a - this.M4a,hdcp2:this.FVa,time2:this.J5a - this.N4a}));};c.prototype.pUb=function(){var F;F=this;this.VW?(this.PV=this.DUa(this.config().qZa,this.config().uJb,function(){var C;C=F.DAb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;}),this.x1a=this.PV.then(function(C){return C?!0:F.DUa(F.config().qZa,F.config().tJb,function(){var G;G=F.CAb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.x1a=Promise.resolve(!0),this.PV=Promise.resolve(!1));};c.prototype.DUa=function(F,C,G){var J;J=this;return new Promise(function(K){var H,L,R,I;H=aa(G());L=H.next().value;H=H.next().value;if(L)return K(H);R=J.yc.D7(g.xc(F),function(){var Q,N;Q=aa(G());N=Q.next().value;Q=Q.next().value;N && (R.cancel(),I.cancel(),K(Q));});I=J.yc.Rj(g.xc(C),function(){R.cancel();I.cancel();K("timeout");});});};c.prototype.CAb=function(){var F;F=n.pA.L1(d.zb.AI,this.v9a,z).split("|");this.EVa=n.pA.sta(F[0],F[1]);this.I5a=this.xa.mf.ea(g.ma);this.M4a=this.M4a || this.I5a;this.lua();return this.EVa;};c.prototype.DAb=function(){var F;F=n.pA.L1(d.zb.Kd,this.BO,B).split("|");this.FVa=n.pA.sta(F[0],F[1]);this.J5a=this.xa.mf.ea(g.ma);this.N4a=this.N4a || this.J5a;this.lua();return this.FVa;};c.prototype.Fsb=function(){var F;F=this;return this.lha(d.zb.Kd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (q.Naa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(C){F.log.debug("DriverInfo: " + C);return C;}).catch(function(C){F.wR("itsDriverInfo","exception");F.log.error("DriverInfo exception",C);throw C;});};c.prototype.Jsb=function(){var F;F=this;this.lha(d.zb.ru,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Dc.decode(C));F.wR("itsHardwareInfo",G);F.log.debug("HardwareInfo: " + G);return C;}).catch(function(C){F.wR("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",C);throw C;});};c.prototype.Ksb=function(){var F;F=this;this.lha(d.zb.ru,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Dc.decode(C));F.wR("itsHardwareReset",G);F.log.debug("ResetHardwareDRMDisabled: " + G);return C;}).catch(function(C){F.wR("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",C);throw C;});};c.prototype.lha=function(F,C){var G;G=this;return new Promise(function(J,K){var N,M,P;function H(S){try{I(S.target,"Unexpectedly got an mskeyerror event: 0x" + E.vF(S && S.target && S.target.error && S.target.error.M8b || 0,4));}catch(ea){I(S.target,ea);}}function L(S){I(S.target,"Unexpectedly got an mskeyadded event");}function R(S){var ea;try{ea=G.Tia(S.message,"PlayReadyKeyMessage","Challenge");Q(S.target);J(ea);}catch(qa){I(S.target,qa);}}function I(S,ea){G.log.error("PlayReadyChallenge error",{cdmData:C});Q(S);K(ea);}function Q(S){S.removeEventListener("mskeymessage",R);S.removeEventListener("mskeyadded",L);S.removeEventListener("mskeyerror",H);P && P.cancel();}try{N=new Uint8Array(D.e5a(C));M=new pb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),N);M.addEventListener("mskeymessage",R);M.addEventListener("mskeyadded",L);M.addEventListener("mskeyerror",H);P=G.yc.Rj(g.xc(1E3),function(){I(M,Error("timeout"));});}catch(S){K(S);}});};c.prototype.Tia=function(F,C){var J,K,H;for(var G=1;G < arguments.length;++G){;}G="";K=F.length;for(J=0;J < K;J++){H=F[J];0 < H && (G+=String.fromCharCode(H));}K="\\s*(.*)\\s*";for(J=arguments.length - 1;0 < J;J--){H=arguments[J];if(0 > G.search(H))return;H="(?:[^:].*:|)" + H;K="[\\s\\S]*<" + H + "[^>]*>" + K + "</" + H + ">[\\s\\S]*";}if(G=G.match(new RegExp(K)))return G[1];};c.prototype.Ama=function(F,C){return [p.Je.$z,p.Je.Qw].some(function(G){return G.test(C);}) && this.config().poa && F !== d.zb.AI;};Va.Object.defineProperties(c.prototype,{YDb:{configurable:!0,enumerable:!0,get:function(){return this.config().ewb && (!this.config().vJb || this.q5a());}},VW:{configurable:!0,enumerable:!0,get:function(){try{return this.Ix(d.zb.Kd + '|video/mp4;codecs="' + k.Jd.hI + '"');}catch(F){return !1;}}},nVb:{configurable:!0,enumerable:!0,get:function(){try{return this.Ix(d.zb.AI);}catch(F){return !1;}}}});b.LBa=c;c.FH='video/mp4;codecs="{0},mp4a";';},function(r,b,a){var f,l,m,d,g;function c(h,k,n,q,p,t,u){h=f.jn.call(this,h,k,n,u) || this;h.Ql=q;h.cr=p;h.xa=t;h.Cv=u;h.type=l.Bi.XH;h.log=h.cr.Db("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Lwa=void 0;f=a(164);l=a(25);m=a(4);d=a(58);g=a(165);ka(c,f.jn);c.prototype.aw=function(h){switch(h){case l.hj.iu:return this.mVb;default:return Promise.resolve(!1);}};c.prototype.nL=function(){var h;h=this;return this.aw(l.hj.iu).then(function(k){return k?l.hj.iu:void 0;}).then(function(k){return h.lS(k);});};c.prototype.Kea=function(h){this.Lp=h;};c.prototype.iy=function(h){var k;k=this;return this.config().poa?this.Ql.ry().then(function(n){return k.Ama(d.u3(n),h)?!1:f.jn.prototype.iy.call(k,h);}):f.jn.prototype.iy.call(this,h);};c.prototype.dGb=function(h){var k;return !(null === (k=h.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.lI;}));};c.prototype.O6a=function(){var h;if(this.Lp){h=this.GVa && this.IVa && this.GVa.Aa(this.IVa).ea(m.ma);this.Lp.itshdcp=JSON.stringify({hdcp2:this.Rs,time2:h});}};c.prototype.Ama=function(h,k){return [g.Je.$z,g.Je.Qw].some(function(n){return n.test(k);}) && this.config().poa && h === d.lI;};Va.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.mZa || (this.mZa=this.Ql.ry().then(function(h){return h.createMediaKeys();}));return this.mZa;}},mVb:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.tta || (this.config().fwb?this.tta=Promise.all([this.Ql.ry(),this.mediaKeys]).then(function(k){var n;n=aa(k);k=n.next().value;n=n.next().value;if(!h.dGb(k))return (h.Rs="not HW_SECURE_DECODE",h.log.trace("hdcpStatus: " + h.Rs),!1);if(n && n.getStatusForPolicy)return (h.IVa=h.xa.mf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.GVa=h.xa.mf;h.Rs=q;h.log.trace("hdcpStatus: " + h.Rs);return "usable" === h.Rs;}));h.Rs="not available";h.log.trace("hdcpStatus: " + h.Rs);return !1;}).catch(function(k){h.Rs="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Rs},k);return !1;}).then(function(k){h.O6a();return k;}):(this.Rs="not enabled",this.log.trace("hdcpStatus: " + this.Rs),this.O6a(),this.tta=Promise.resolve(!1)));return this.tta;}}});b.Lwa=c;},function(r,b,a){var f,l;function c(m){this.navigator=m;this.kZa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;r=a(1);f=a(0);a=a(36);c.prototype.Xia=function(m){return this.kZa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.wI))],l);b.eCa=l;},function(r,b,a){var f,l,m;function c(d,g){this.mediaCapabilities=d;this.log=g.Db("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;r=a(1);f=a(345);l=a(8);a=a(0);c.prototype.Xia=function(d){var g,h,k;g=this;h={Yb:void 0};if(this.mediaCapabilities.kZa){k={contentType:'video/mp4;codecs="avc1.640028"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.Xia(k).then(function(n){return h.Yb=Object.assign(Object.assign({},n),k);}).catch(function(n){return g.log.error("Error calling MediaCapabilities API",n);});}return h;};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(f.hCa)),r.__param(1,a.l(l.Kb))],m);b.fCa=m;},function(r,b,a){var f,l,m;function c(d){this.zOb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;r=a(1);f=a(0);l=a(213);a=a(347);c.prototype.yxb=function(){var d,g;d={ZS:l.gA.ifb};g=this.zOb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;d.ZS=h.value?l.gA.BFa:l.gA.Xua;if(d.ZS === l.gA.Xua){k=function(){h.value && (d.ZS=l.gA.BFa);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){d.ZS=l.gA.Error;});return d;};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.CFa))],m);b.Pya=m;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u){this.config=q;this.navigator=p;this.cr=t;this.goa=u;this.type=l.Bi.du;this.ZMa={};this.u7a={};this.log=this.cr.Db("MediaCapabilityDetector");this.ZMa=this.msb();this.u7a=this.stb();}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;r=a(1);f=a(0);l=a(25);m=a(48);d=a(8);g=a(36);h=a(79);k=a(138);n=a(58);c.prototype.iy=function(q){var p;p=this;return this.goa.ry().then(function(t){return p.Kxb(q,t);}).catch(function(){return !1;});};c.prototype.xFb=function(q){return ! !q.colorGamut || ! !q.hdrMetadataType || ! !q.transferFunction;};c.prototype.pma=function(){return pb.matchMedia("(dynamic-range: high)").matches;};c.prototype.Kxb=function(q,p){var t,u,v,w;t=this;try{u={type:"media-source"};v=this.ZMa[q];w=this.u7a[q];if(v)u.audio=v;else if(w){u.video=w;if(this.xFb(w) && !this.pma())return Promise.resolve(!1);p && (u.keySystemConfiguration=this.VAb(p));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(u).then(function(x){var y;x.configuration || (x.configuration=u);y=t.XFb(u,x);y?t.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(x)):t.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(x));return y;}).catch(function(x){t.log.error("mediaCapabilities.decodingInfo failed",x);return !1;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.VAb=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=n.u3(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};c.prototype.msb=function(){var q,p;q={};p={contentType:"audio/mp4;codecs=mp4a.40.2"};q[m.oe.kD]=p;q[m.oe.sza]=p;q[m.oe.lD]=p;q[m.oe.WD]=p;p={contentType:"audio/mp4;codecs=ec-3"};q[m.oe.EO]=p;q[m.oe.i$]=p;q[m.oe.FO]=p;return q;};c.prototype.stb=function(){var q,p,t,u,v,w,x,y,A,z,B,D,E;q={};p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};t={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};v={width:3840,height:2160};w=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});u=Object.assign(Object.assign({},v),{bitrate:25E6,framerate:30});v=Object.assign(Object.assign({},v),{bitrate:4E7,framerate:60});y={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);q[m.N.kza]=z;q[m.N.QO]=z;q[m.N.RO]=z;q[m.N.H$]=z;z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);q[m.N.YZ]=z;q[m.N.KI]=z;q[m.N.LI]=z;q[m.N.$P]=z;z=Object.assign(Object.assign({},p),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),v);q[m.N.OY]=z;q[m.N.QY]=z;q[m.N.SY]=z;q[m.N.UY]=B;q[m.N.dP]=D;q[m.N.fP]=E;q[m.N.PY]=z;q[m.N.RY]=z;q[m.N.TY]=z;q[m.N.VY]=B;q[m.N.eP]=D;q[m.N.gP]=E;z=Object.assign(Object.assign(Object.assign({},p),w),y);B=Object.assign(Object.assign(Object.assign({},p),x),y);D=Object.assign(Object.assign(Object.assign({},p),u),y);p=Object.assign(Object.assign(Object.assign({},p),v),y);q[m.N.TO]=z;q[m.N.VO]=z;q[m.N.kI]=z;q[m.N.YO]=B;q[m.N.$O]=D;q[m.N.bP]=p;q[m.N.UO]=z;q[m.N.WO]=z;q[m.N.XO]=z;q[m.N.ZO]=B;q[m.N.aP]=D;q[m.N.cP]=p;w=Object.assign(Object.assign(Object.assign({},t),w),A);x=Object.assign(Object.assign(Object.assign({},t),x),A);u=Object.assign(Object.assign(Object.assign({},t),u),A);t=Object.assign(Object.assign(Object.assign({},t),v),A);q[m.N.oY]=w;q[m.N.qY]=w;q[m.N.HO]=w;q[m.N.tY]=x;q[m.N.vY]=u;q[m.N.xY]=t;q[m.N.pY]=w;q[m.N.rY]=w;q[m.N.sY]=w;q[m.N.uY]=x;q[m.N.wY]=u;q[m.N.yY]=t;return q;};c.prototype.XFb=function(q,p){return q.video && this.config().VNb?p.supported && p.powerEfficient:p.supported;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.$H)),r.__param(1,f.l(g.wI)),r.__param(2,f.l(d.Kb)),r.__param(3,f.l(h.ku))],a);b.cCa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(0);c=a(348);f=a(78);l=a(166);m=a(658);d=a(351);g=a(659);h=a(350);k=a(167);n=a(660);q=a(662);p=a(663);t=a(664);u=a(78);v=a(352);w=a(666);b.storage=new r.ad(function(x){x(l.NCa).uf(function(){return function(){return pb.localStorage;};});x(l.Oza).uf(function(){return function(){return pb.indexedDB;};});x(v.ACa).to(w.zCa).aa();x(u.aA).to(t.eva).aa();x(d.XAa).to(g.WAa).aa();x(c.aZ).to(q.oAa).aa();x(k.qAa).to(n.pAa).aa();x(f.XGa).to(m.Zwa).aa();x(k.Nza).to(n.Mza).aa();x(k.X$).to(n.rAa).aa();x(h.axa).to(p.$wa).aa();});},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.lo=k;this.config=n;this.za=h.Db(d.Qba);}Object.defineProperty(b,"__esModule",{value:!0});b.Zwa=void 0;r=a(1);f=a(0);l=a(8);m=a(60);d=a(349);a=a(350);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.lo.Up(this.config.timeout,this.LQa(h)):this.LQa(h):Promise.resolve();};c.prototype.LQa=function(h){var k;k=this;return new Promise(function(n,q){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(p){"true" !== p.value && q();k.za.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){k.za.error("Failed to remove testValue");n();});});}).catch(function(p){return q(p);});});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(m.Kw)),r.__param(2,f.l(a.axa))],g);b.Zwa=g;},function(r,b,a){var f,l,m;function c(d){this.yC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;r=a(1);f=a(0);l=a(3);a=a(166);c.prototype.load=function(d){var g;g=this;return new Promise(function(h,k){var n,q;try{n=g.yC.getItem(d);if(n){q=n;if("{" === n[0])try{q=JSON.parse(n) || n;}catch(p){}h({key:d,value:q});}else k({oa:l.L.xA});}catch(p){k({oa:l.L.mGa,cause:p});}});};c.prototype.save=function(d,g,h){var k;k=this;return new Promise(function(n,q){if(h && k.yC.getItem(d))n(!1);else try{"string" === typeof g?k.yC.setItem(d,g):k.yC.setItem(d,JSON.stringify(g));n(!0);}catch(p){q({oa:l.L.nGa,cause:p});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(h,k){try{g.yC.removeItem(d);h();}catch(n){k({oa:l.L.Iba,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.Ocb))],m);b.WAa=m;},function(r,b,a){var m,d,g,h,k,n,q,p,t,u,v,w;function c(x,y,A,z,B,D){this.config=y;this.rS=A;this.cn=z;this.vYb=B;this.Ck=D;this.za=x.Db(n.Qba);}function f(x,y){this.config=x;this.iX=y;}function l(x,y,A,z,B){this.config=y;this.iX=A;this.Ck=B;this.za=x.Db(n.Qba);this.rS=new Promise(function(D,E){var F;try{F=z();F?D(F):E({oa:k.L.Pza});}catch(C){E({oa:k.L.$Y,cause:C});}});}Object.defineProperty(b,"__esModule",{value:!0});b.rAa=b.pAa=b.Mza=void 0;r=a(1);m=a(0);d=a(8);g=a(661);h=a(166);k=a(3);n=a(349);q=a(348);p=a(60);t=a(78);u=a(70);v=a(167);w=a(65);l.prototype.create=function(){this.Bha || (this.Bha=this.qK());return this.Bha;};l.prototype.kp=function(x){var y;y=this;this.Bha=null;return this.iX.Up(this.config.timeout,new Promise(function(A,z){x.close();y.delete(x.name).then(function(){A();}).catch(function(B){z(B);});})).catch(function(A){return A instanceof p.wq?Promise.reject({oa:k.L.$Y}):A.oa?Promise.reject(A):Promise.reject({oa:k.L.$Y,cause:A});});};l.prototype.delete=function(x){var y;y=this;return this.iX.Up(this.config.timeout,new Promise(function(A,z){y.rS.then(function(B){var D;D=B.deleteDatabase(x);D.onsuccess=function(){A();};D.onerror=function(){z({oa:k.L.$Y,cause:D.error});};}).catch(function(B){z(B);});}));};l.prototype.qK=function(){var x,y;x=this;return this.iX.Up(this.config.timeout,new Promise(function(A,z){if(x.config.Msa)return z({oa:x.config.Msa});x.rS.then(function(B){x.Ck.mark(w.nj.Wab);y=B.open(x.config.name,x.config.version);if(!y)return z({oa:k.L.Qza});y.onblocked=function(){x.Ck.mark(w.nj.Tab);z({oa:k.L.Pab});};y.onupgradeneeded=function(){var D;x.Ck.mark(w.nj.cbb);D=y.result;try{D.createObjectStore(x.config.jV,{keyPath:"name"});}catch(E){x.za.error("Exception while creating object store",E);}};y.onsuccess=function(D){var E,F;x.Ck.mark(w.nj.bbb);try{E=D.target.result;F=E.objectStoreNames.length;x.za.trace("objectstorenames length ",F);if(0 === F){x.za.error("invalid indexedDb state, deleting");x.Ck.mark(w.nj.Vab);try{E.close();}catch(C){}B.deleteDatabase(x.config.name);setTimeout(function(){z({oa:k.L.Oab});},1);return;}}catch(C){x.za.error("Exception while inspecting indexedDb objectstorenames",C);}A(y.result);};y.onerror=function(){x.Ck.mark(w.nj.Uab);x.za.error("IndexedDB open error",y.error);z({oa:k.L.Qab,cause:y.error});};}).catch(function(B){z(B);});})).catch(function(A){if(A instanceof p.wq){try{y && y.readyState && x.Ck.mark("readyState-" + y.readyState);}catch(z){}if(x.config.S0 && y && "done" === y.readyState){if(x.qYb(y))return (x.Ck.mark(w.nj.$ab),Promise.resolve(y.result));x.Ck.mark(w.nj.Zab);}x.Ck.mark(w.nj.Yab);return Promise.reject({oa:k.L.Sab});}if(A.oa)return Promise.reject(A);x.Ck.mark(w.nj.Xab);x.za.error("IndexedDB open exception occurred",A);return Promise.reject({oa:k.L.Rab,cause:A});});};l.prototype.qYb=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.Ck.mark(w.nj.abb);this.za.error("failed to check open request state",y);}return !1;};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(d.Kb)),r.__param(1,m.l(q.aZ)),r.__param(2,m.l(p.Kw)),r.__param(3,m.l(h.Oza)),r.__param(4,m.l(u.RD))],a);b.Mza=a;f.prototype.create=function(x){return Promise.resolve(new g.nAa(this.config,this.iX,x));};a=f;a=r.__decorate([m.R(),r.__param(0,m.l(q.aZ)),r.__param(1,m.l(p.Kw))],a);b.pAa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.mS || (this.mS=this.qK(this.vYb));return this.mS;};c.prototype.qK=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(A,z){y.Ck.mark(w.nj.Heb);y.rS.create().then(function(B){y.cn.create(B).then(function(D){Promise.all(x.map(function(E){return E.validate(D);})).then(function(){y.storage=D;A(y.storage);}).catch(function(E){y.za.debug("DB validation failed, cause: " + E);y.config.wSa?(y.za.debug("Fixing corrupt DB"),y.rS.kp(B).then(function(){y.za.error("Invalid database deleted, creating new database.");y.qK().then(function(F){y.za.error("Invalid database successfully recreated.");y.storage=F;A(y.storage);});}).catch(function(F){y.za.error("Couldn't delete invalid database.");z(F);})):(y.za.debug("Ignoring invalid DB due to config"),y.storage=D,A(y.storage));});}).catch(function(D){z(D);});}).catch(function(B){z(B);});});};a=c;a=r.__decorate([m.R(),r.__param(0,m.l(d.Kb)),r.__param(1,m.l(q.aZ)),r.__param(2,m.l(v.Nza)),r.__param(3,m.l(v.qAa)),r.__param(4,m.oG(t.XGa)),r.__param(5,m.l(u.RD))],a);b.rAa=a;},function(r,b,a){var l,m,d;function c(g,h,k){this.config=g;this.lo=h;this.yC=k;}function f(g,h){this.reason=g;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=b.OFa=void 0;l=a(3);m=a(60);(function(g){g[g.Daa=0]="NoData";g[g.Error=1]="Error";g[g.II=2]="Timeout";})(d=b.OFa || (b.OFa={}));c.prototype.load=function(g){var h;h=this;return new Promise(function(k,n){h.B2("get",!1,g).then(function(q){k({key:g,value:q});}).catch(function(q){var p;p=l.L.mGa;switch(q.reason){case d.Daa:p=l.L.xA;break;case d.II:p=l.L.Ieb;}n({oa:p,cause:q.cause});});});};c.prototype.save=function(g,h,k){var n;n=this;return new Promise(function(q,p){n.B2(k?"add":"put",!0,{name:g,data:h}).then(function(){q(!k);}).catch(function(t){var u;u=l.L.nGa;switch(t.reason){case d.II:u=l.L.Leb;}p({oa:u,cause:t.cause});});});};c.prototype.remove=function(g){var h;h=this;return new Promise(function(k,n){h.B2("delete",!0,g).then(function(){k();}).catch(function(q){var p;p=l.L.Iba;switch(q.reason){case d.II:p=l.L.lGa;}n({oa:p,cause:q.cause});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(h,k){g.B2("clear",!0,"").then(function(){h();}).catch(function(n){var q;q=l.L.Iba;switch(n.reason){case d.II:q=l.L.lGa;}k({oa:q,cause:n.cause});});});};c.prototype.loadAll=function(){var g;g=this;return this.lo.Up(this.config.timeout,new Promise(function(h,k){var n,q,p;if(g.config.Lsa)k(new f(g.config.Lsa));else {n=[];q=g.yC.transaction(g.config.jV,"readonly");p=q.objectStore(g.config.jV).openCursor();q.onerror=function(){k(new f(d.Error,p.error));};p.onsuccess=function(t){if(t=t.target.result)try{n.push({key:t.value.name,value:t.value.data});t.continue();}catch(u){k(new f(d.Error,u));}else h(n);};p.onerror=function(){k(new f(d.Error,p.error));};}})).catch(function(h){return h instanceof m.wq?Promise.reject(new f(d.II,h)):h instanceof f?Promise.reject(h):Promise.reject(new f(d.Error,h));});};c.prototype.B2=function(g,h,k){var n;n=this;return this.lo.Up(this.config.timeout,new Promise(function(q,p){var t,u;t=n.yC.transaction(n.config.jV,h?"readwrite":"readonly");u=t.objectStore(n.config.jV)[g](k);t.onerror=function(){p(new f(d.Error,u.error));};u.onsuccess=function(v){var w;if("get" == g)try{w=v.target.result;w?q(w.data):p(new f(d.Daa));}catch(x){p(new f(d.Daa,x));}else q(void 0);};u.onerror=function(){p(new f(d.Error,u.error));};})).catch(function(q){return q instanceof m.wq?Promise.reject(new f(d.II,q)):q instanceof f?Promise.reject(q):Promise.reject(new f(d.Error,q));});};b.nAa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k){h=m.gf.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.jV="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;r=a(1);f=a(0);l=a(44);m=a(45);d=a(39);a=a(38);ka(c,m.gf);Va.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.ev?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.dta;}},S0:{configurable:!0,enumerable:!0,get:function(){return this.config.S0;}},Msa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Lsa:{configurable:!0,enumerable:!0,get:function(){return 0;}},wSa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([l.config(l.Pz,"simulateIdbOpenError")],g.prototype,"Msa",null);r.__decorate([l.config(l.Pz,"simulateIdbLoadAllError")],g.prototype,"Lsa",null);r.__decorate([l.config(l.bd,"fixInvalidDatabase")],g.prototype,"wSa",null);g=r.__decorate([f.R(),r.__param(0,f.l(a.jm)),r.__param(1,f.l(d.em))],g);b.oAa=g;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.$wa=void 0;r=a(1);f=a(0);a=a(39);Va.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.dta;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.y5a;}}});l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.em))],l);b.$wa=l;},function(r,b,a){var l,m,d,g,h,k,n;function c(q,p,t,u){this.za=q;this.config=p;this.$Db=t;this.moa=u;this.ZE={mem:{storage:this.moa,key:"mem"}};this.PC=this.config.PC;}function f(q,p,t,u){this.Bg=q;this.cn=p;this.moa=t;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.I9=b.eva=void 0;r=a(1);l=a(0);m=a(3);d=a(167);g=a(8);h=a(352);k=a(665);a=a(39);f.prototype.create=function(){this.mS || (this.mS=this.qK());return this.mS;};f.prototype.qK=function(){this.emb=new c(this.Bg.Db("AppStorage"),this.config,this.cn,this.moa);return this.emb.create();};n=f;n=r.__decorate([l.R(),r.__param(0,l.l(g.Kb)),r.__param(1,l.l(d.X$)),r.__param(2,l.l(h.ACa)),r.__param(3,l.l(a.em))],n);b.eva=n;c.prototype.create=function(){var q;q=this;return this.Lsb().then(function(p){if(!q.Kob(p,q.config.$T))throw q.vKb(p);return q;});};c.prototype.load=function(q){var p;p=this;return new Promise(function(t,u){p.sT(q).storage.load(q).then(function(v){t(v);}).catch(function(v){u(v);});});};c.prototype.save=function(q,p,t){var u;u=this;return new Promise(function(v,w){u.sT(q).storage.save(q,p,t).then(function(x){v(x);}).catch(function(x){w(x);});});};c.prototype.remove=function(q){var p;p=this;return new Promise(function(t,u){p.sT(q).storage.remove(q).then(function(){t();}).catch(function(v){u(v);});});};c.prototype.removeAll=function(){var q;q=this;return new Promise(function(p,t){q.j2a("mem").then(function(){return q.j2a("idb");}).catch(function(u){return Promise.reject(u);}).then(function(){p();}).catch(function(u){q.za.error("remove all failed");t(u);});});};c.prototype.loadAll=function(){var q,p;q=this;p=[];return this.UXa("mem").then(function(t){p=p.concat(t);return q.UXa("idb");}).catch(function(t){q.UFb(t) || q.za.error("IndexedDb.LoadAll exception",t);return [];}).then(function(t){return p=p.concat(t);}).catch(function(t){q.za.error("load all failed",t);throw t;});};c.prototype.Lsb=function(){var q;q=this;return this.$Db.create().then(function(p){q.ZE.idb={storage:p,key:"idb"};}).catch(function(p){q.za.error("idb failed to load",p);return p || ({oa:m.L.im});});};c.prototype.Kob=function(q,p){return !q || q && p?!0:!1;};c.prototype.vKb=function(q){var p;p="";q && (p+=q.oa);return {oa:p};};c.prototype.j2a=function(q){return (q=this.ZE[q])?q.storage.removeAll():Promise.resolve();};c.prototype.UXa=function(q){return (q=this.ZE[q])?q.storage.loadAll():Promise.resolve([]);};c.prototype.Rxb=function(q){for(var p in this.PC){if(q.startsWith(p))return this.PC[p];}return this.PC[k.j$a];};c.prototype.sT=function(q){var p,t;p=this;this.Rxb(q).every(function(u){return p.ZE[u]?(t=p.ZE[u],!1):!0;});if(!t){this.za.error("component not found for storageKey",{DUb:q,k4b:Object.keys(this.ZE),rules:this.PC});t=this.ZE.mem;}this.za.trace("component found for key",{storageKey:q,componentKey:t.key});return t;};c.prototype.UFb=function(q){return (q && (q.oa || q.errorSubCode)) === m.L.xA;};b.I9=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j$a="__default_rule_key__";},function(r,b,a){var f,l,m;function c(d){this.Bg=d;this.pG={};this.za=this.Bg.Db("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(1);f=a(0);l=a(3);a=a(8);c.prototype.load=function(d){var g;if(this.pG.hasOwnProperty(d)){g=this.pG[d];this.za.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.za.debug("Storage entry not found",{key:d});return Promise.reject({oa:l.L.xA});};c.prototype.save=function(d,g,h){if(h && this.pG.hasOwnProperty(d))return Promise.resolve(!1);this.pG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.pG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.pG).map(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;return {key:g,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.pG={};return Promise.resolve();};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.Kb))],m);b.zCa=m;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.aK=void 0;r=a(0);c=a(353);f=a(354);l=a(355);m=a(668);d=a(669);g=a(670);b.aK=new r.ad(function(h){h(c.Wva).to(m.Vva).aa();h(f.Uva).to(d.Rva).aa();h(l.Tva).to(g.Sva).aa();});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p,t,u){this.b1=q;this.cb=p;this.Enb=t;this.config=u;this.za=n.Db("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Vva=void 0;r=a(1);f=a(0);l=a(354);m=a(355);d=a(8);g=a(26);h=a(4);a=a(14);c.prototype.Klb=function(n){var q,p;q=n.ib.playbackState && n.ib.playbackState.currentTime;p=this.Ozb(n.K);q=this.cb.jF(q)?h.xc(q):p;if(this.cb.fg(q))(this.za.info("Overriding bookmark",{From:n.IH.ea(h.ma),To:q.ea(h.ma)}),n=Object.assign({},n,{IH:q}));else if(this.dEb(n))return (this.za.trace("Ignoring bookmark because it's too close to beginning"),h.Ug(0));return n.IH.vma()?(this.za.trace("Ignoring bookmark because it's negative"),h.Ug(0)):this.cEb(n)?(this.za.trace("Ignoring bookmark because it's too close to end"),h.Ug(0)):this.bEb(n)?(this.za.trace("Ignoring bookmark because it's too close to the end to start decoding"),h.Ug(0)):n.IH;};c.prototype.dEb=function(n){return 0 > n.IH.Vk(this.jka(n));};c.prototype.jka=function(n){return this.xNa(this.b1.jka(),n.N6);};c.prototype.cEb=function(n){return 0 < n.IH.Vk(this.kka(n));};c.prototype.kka=function(n){var q;q=n.ib.al?this.b1.HAb():this.b1.kka();return n.N6.Aa(this.xNa(q,n.N6));};c.prototype.bEb=function(n){return 0 < n.IH.Vk(this.oAb(n));};c.prototype.oAb=function(n){var q;q=n.ib.al?this.config().Q_a:this.config().xG;return n.N6.Aa(h.xc(q));};c.prototype.Ozb=function(n){var q;n=this.b1.Pja()[n];q=-1;this.cb.Wo(n)?q=parseInt(n):this.cb.ai(n) && (q=n);if(this.cb.yR(q))return h.xc(q);};c.prototype.xNa=function(n,q){return this.Enb.SUb(n,q);};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(d.Kb)),r.__param(1,f.l(l.Uva)),r.__param(2,f.l(g.Jf)),r.__param(3,f.l(m.Tva)),r.__param(4,f.l(a.Vc))],k);b.Vva=k;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Rva=void 0;r=a(1);f=a(0);a=a(14);c.prototype.jka=function(){return this.DB().Fnb;};c.prototype.kka=function(){return this.DB().Gnb;};c.prototype.HAb=function(){return this.DB().Hnb;};c.prototype.Pja=function(){return this.DB().wNa;};c.prototype.DB=function(){return this.config();};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Vc))],l);b.Rva=l;},function(r,b,a){var f,l,m;function c(d){this.cb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;r=a(1);f=a(0);l=a(26);m=a(4);c.prototype.SUb=function(d,g){var h,k;h=parseFloat(d);k=0;"%" === d[d.length - 1] && this.cb.ai(h)?k=Math.round(h * g.ea(m.ma) / 100):(d=parseInt(d),this.cb.yR(d) && (k=d));return m.xc(Math.min(k,g.ea(m.ma)));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Jf))],a);b.Sva=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.RNa=void 0;r=a(0);c=a(356);f=a(672);b.RNa=new r.ad(function(l){l(c.lwa).to(f.kwa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t,u,v,w,x){this.config=p;this.qC=u;this.profile=v;this.J8=w;this.XR=x;this.log=t.Db("CDMAttestedDescriptor");this.fTa(n.lu.KP);}Object.defineProperty(b,"__esModule",{value:!0});b.kwa=void 0;r=a(1);f=a(0);l=a(14);m=a(8);d=a(141);g=a(214);h=a(89);k=a(162);n=a(39);q=a(59);c.prototype.fTa=function(p){var t;t=this;return this.J8.W7(p)?this.config().awb?this.dTa().then(function(u){if(u)return (!1,Promise.resolve(void 0));t.OXa || (!1,t.OXa=t.XR.Pka(q.Vh.ln));return t.OXa;}).catch(function(u){t.log.error("Failed to generate challenge",u);}).then(function(u){null === u || void 0 === u?void 0:u.Ob.close();return null === u || void 0 === u?void 0:u.oga;}).then(function(u){return Promise.all([Promise.resolve(u),t.dTa()]);}).then(function(u){var v;u=aa(u);v=u.next().value;if(u.next().value)!1;else return v;}):this.qC().then(function(u){u.XU.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.dTa=function(){var p;p=this;return this.qC().then(function(t){return (t=t.XU.getServiceTokens(p.profile)) && t.find(function(u){return "cad" === u.name;});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Vc)),r.__param(1,f.l(m.Kb)),r.__param(2,f.l(d.wP)),r.__param(3,f.l(h.MP)),r.__param(4,f.l(g.XZ)),r.__param(5,f.l(k.iY))],a);b.kwa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t;Object.defineProperty(b,"__esModule",{value:!0});b.BYa=void 0;r=a(0);c=a(357);f=a(674);l=a(358);m=a(705);d=a(369);g=a(370);h=a(372);k=a(706);n=a(143);q=a(707);p=a(374);t=a(708);b.BYa=new r.ad(function(u){u(l.SBa).to(m.RBa).aa();u(c.UBa).to(f.TBa).aa();u(d.YEa).ri(function(v){for(var w=[],x=0;x < arguments.length;++x){w[x - 0]=arguments[x];}x=a(218).QD;return new (Function.prototype.bind.apply(x,[null].concat(ca(w))))();});u(g.EHa).ri(function(v){for(var w=[],x=0;x < arguments.length;++x){w[x - 0]=arguments[x];}x=a(441).Awa;return new (Function.prototype.bind.apply(x,[null].concat(ca(w))))();});u(h.XBa).uf(function(){return function(v){return new k.YBa(v);};});u(n.rP).to(q.PBa).aa();u(p.OBa).to(t.NBa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u;function c(v,w,x,y,A){this.Bg=v;this.config=w;this.eqa=x;this.Qta=y;this.F8=A;}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;r=a(1);f=a(0);l=a(8);m=a(358);d=a(675);g=a(700);h=a(701);k=a(702);n=a(703);q=a(704);p=a(369);t=a(370);a=a(371);c.prototype.create=function(v){var w,x;w=this.Bg.Db("ManifestParser",v);x=new d.Iwa(w,this.config);return new h.VBa(x,new g.qHa(w,this.config,v,x,this.eqa),new k.OHa(w,v,this.Qta),new n.Hva(w,this.config,v,this.F8),new q.lIa(w,this.F8));};u=c;u=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(m.SBa)),r.__param(2,f.l(p.YEa)),r.__param(3,f.l(a.MHa)),r.__param(4,f.l(t.EHa))],u);b.TBa=u;},function(r,b,a){var f;function c(l,m){this.log=l;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Iwa=void 0;f=a(121);c.prototype.j0a=function(l,m,d){var g,h,k,n,q;g=this;h=this.config.kga;k=this.config.jga;l=aa(f.qt(function(p){return (!h.length || 0 <= h.indexOf(p.id)) && 0 > k.indexOf(p.id);},l || []));n=l.next().value;l.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});q=n.map(function(p){var t;t=(m?m.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,ie:p.ie,type:p.type,jna:p.key,q6b:p.pYa,location:{id:t.key,ie:t.ie,level:t.level,weight:t.weight,Tk:[]}};});q.sort(function(p,t){return p.ie - t.ie;});q.forEach(function(p){return p.location.Tk=q.filter(function(t){return t.jna === p.jna;});});this.log.trace("Transformed cdns",{Count:q.length});if(d && !q.length)throw Error("no valid cdns");return q;};b.Iwa=c;},function(r,b,a){var c;b=a(168);c=a(677);a=b(function(f,l,m){return c(function(d,g,h){return f(g,h);},l,m);});r.exports=a;},function(r,b,a){var c,f;b=a(168);c=a(359);f=a(678);a=b(function h(m,d,g){return f(function(k,n,q){return c(n) && c(q)?h(m,n,q):m(k,n,q);},d,g);});r.exports=a;},function(r,b,a){var c;b=a(168);c=a(215);a=b(function(f,l,m){var d,g;d={};for(g in l){c(g,l) && (d[g]=c(g,m)?f(g,l[g],m[g]):l[g]);}for(g in m){c(g,m) && !c(g,d) && (d[g]=m[g]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(360);c=a(688);a=a(698);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=[];c < f;){b(a[c]) && (l[l.length]=a[c]);c+=1;}return l;};},function(r,b,a){var c,f;b=a(122);c=a(362);f=a(683);a=b(function(l){return c(l)?!0:!l || "object" !== typeof l || f(l)?!1:1 === l.nodeType?! !l.length:0 === l.length?!0:0 < l.length?l.hasOwnProperty(0) && l.hasOwnProperty(l.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,f){return this.f(c,f);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(217);b=a(57)(function(f,l){return c(f.length,function(){return f.apply(l,arguments);});});r.exports=b;},function(r,b,a){var c,f;b=a(57);c=a(363);f=(function(){function l(m,d){this.RX=d;this.f=m;}l.prototype["@@transducer/init"]=c.nb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.RX["@@transducer/step"](m,d):m;};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c,f;c=a(215);f=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === f.call(arguments)?function(l){return "[object Arguments]" === f.call(l);}:function(l){return c("callee",l);};};},function(r,b,a){var c;b=a(122);c=a(689);a=b(function(f){return c(function(){return Array.prototype.slice.call(arguments,0);},f);});r.exports=a;},function(r,b,a){var c,f,l,m,d;b=a(57);c=a(365);f=a(366);l=a(691);m=a(692);d=a(697);a=b(function(g,h){return f(d(l,0,m("length",h)),function(){var k,n;k=arguments;n=this;return g.apply(n,c(function(q){return q.apply(n,k);},h));});});r.exports=a;},function(r,b,a){var f,l;function c(m,d,g){return function(){var p;for(var h=[],k=0,n=m,q=0;q < d.length || k < arguments.length;){if(q < d.length && (!l(d[q]) || k >= arguments.length))p=d[q];else (p=arguments[k],k+=1);h[q]=p;l(p) || --n;q+=1;}return 0 >= n?g.apply(this,h):f(n,c(m,h,g));};}f=a(217);l=a(169);r.exports=c;},function(r,b,a){b=a(57)(function(c,f){return f > c?f:c;});r.exports=b;},function(r,b,a){var c,f;b=a(57);c=a(693);f=a(695);a=b(function(l,m){return c(f(l),m);});r.exports=a;},function(r,b,a){var c,f,l,m,d,g;b=a(57);c=a(361);f=a(365);l=a(216);m=a(694);d=a(366);g=a(364);a=b(c(["fantasy-land/map","map"],m,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return l(function(n,q){n[q]=h(k[q]);return n;},{},g(k));default:return f(h,k);}}));r.exports=a;},function(r,b,a){var c,f;b=a(57);c=a(363);f=(function(){function l(m,d){this.RX=d;this.f=m;}l.prototype["@@transducer/init"]=c.nb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.RX["@@transducer/step"](m,this.f(d));};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c;b=a(57);c=a(696);a=b(function(f,l){return c([f],l);});r.exports=a;},function(r,b,a){b=a(57)(function(c,f){for(var l=0;l < c.length;){if(null == f)return;f=f[c[l]];l+=1;}return f;});r.exports=b;},function(r,b,a){b=a(168);a=a(216);a=b(a);r.exports=a;},function(r,b,a){var c,f;c=a(699);b=a(57);f=a(360);a=b(function(l,m){return f(c(l),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var f,l,m,d;function c(g,h,k,n,q){this.log=g;this.config=h;this.j=k;this.lga=n;this.eqa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;f=a(48);l=a(11);m=a(142);d=a(367);c.prototype.LMb=function(g){var h;h=this;g=g.map(function(k){var n,q,p;n=h.xWb(k);!1 !== k.SF || n.length || h.log.error("track without downloadables",h.cUa(k));!0 !== k.oma || n.length || h.log.error("forced track without downloadables",h.cUa(k));q={};p=[];0 < n.length && (q=n[0],q.profile == f.Sr.uI && (q=h.aSb(n),!1),p=h.lga.j0a(k.Uob,void 0,!1));k=h.eqa(h.j,k.mt,k.id,q.Dd,q.urls || ({}),p,k.ie,k.language,k.c5,m.VZ[k.en.toLowerCase()] || m.xq.zI,k.MN,k.variant,k.SM.toUpperCase(),q.profile,h.gBb(q) || ({}),k.SF,k.oma,k.N4,k.Ss);h.log.trace("Transformed timed text track",k);return k;});this.log.trace("Transformed timed text tracks",{Count:g.length});return g;};c.prototype.VVb=function(g){var h,k;h=this;k=this.config.zja;if(k){if(g=aa(g.filter(function(n){return n.wm == k || n.trackId == k;})).next().value)return g;}else if(this.j.R2 && (g=aa(g.filter(function(n){return n.trackId == h.j.R2;})).next().value))return g;};c.prototype.xWb=function(g){var h,k;h=this;k=g.xvb;g=Object.entries(g.RWb || ({})).map(function(n){var q;q=aa(n);n=q.next().value;q=q.next().value;return {Dd:k[n],profile:n,size:q.size || 0,priority:h.gAb(n,q),offset:q.qoa || 0,iNb:q.width,H0a:q.height,urls:q.ay};});g.sort(function(n,q){return n.priority - q.priority;});return g;};c.prototype.gAb=function(g,h){var k,n;k=this.config.cw.indexOf(g);h=h.size;n=this.config.TN;return g === f.Sr.l$ && 0 < n && h > n?this.config.cw.length + 1:0 <= k?k:this.config.cw.length;};c.prototype.gBb=function(g){if(g.profile === f.Sr.uI)return {offset:g.offset,length:g.size,oW:{width:g.iNb,height:g.H0a}};};c.prototype.aSb=function(g){var h,k;h=this.config.Nla || d.Sba.FUa();k=aa(g.filter(function(n){return n.profile === f.Sr.uI;}).filter(function(n){return n.H0a === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:l.pu.height,intendedResolution:h});return g[0];};c.prototype.cUa=function(g){return {isNone:g.SF,isForced:g.oma,bcp47:g.language,id:g.mt};};b.qHa=c;},function(r,b){function a(c,f,l,m,d){this.lga=c;this.z5a=f;this.GWb=l;this.wfa=m;this.z7a=d;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;a.prototype.HMb=function(c){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y;f=c.Tc;l=! !f.Yqa;c=this.lga.j0a(f.Pt,f.bo,!0);m=this.z5a.LMb(f.YVb);d=this.GWb.MMb(f.JWb);g=l?this.wfa.yMb(f.xfa,m):this.wfa.GMb(f.xfa,f.media,m);h=this.z7a.NMb(f.YC);k=h[0];n=this.wfa.Tmb(g) || g.find(function(A){return l?A.trackId === f.Yqa.cp:A.Gy === f.lQa[0].cp;}) || g[0];q=this.z5a.VVb(n.$l) || m.find(function(A){return l?A.trackId === f.Yqa.hX:A.Gy === f.lQa[0].cVb;}) || n.$l[0];p=this.z7a.JMb(f.YC);t=f.Ti;u=f.Mpb;v=f.TT;w=f.Jl;x=f.xfa.findIndex(function(A){return A.mt == n.trackId;});y=f.YC.findIndex(function(A){return A.mt == k.trackId;});return {Ft:p,Tk:c,Iq:g,yo:h,$l:m,Nz:d,Ti:t,rSb:u,bC:v,Jl:w,eub:x,mub:y,Oha:k,uS:n,Nha:q};};b.VBa=a;},function(r,b){function a(c,f,l){this.log=c;this.j=f;this.Qta=l;}Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;a.prototype.MMb=function(c){var f;f=this;c=(c || []).filter(function(l){return l.urls && 0 < l.urls.length;}).map(function(l){return f.Qta(f.j,l.id,l.height,l.width,l.nNb,l.oNb,l.size,l.Ss,{unknown:l.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(l,m){return l.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.OHa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,q){h=l.tP.call(this,h,q) || this;h.config=k;h.j=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Hva=void 0;f=a(341);l=a(368);m=a(121);d=a(81);g=a(142);ka(c,l.tP);c.prototype.yMb=function(h,k){var n,q;n=this;q=this.config.n8;h=h.filter(function(p){var t,u;t=p.SF || p.streams && 0 < p.streams.length;t || n.log.warn("Audio track is missing streams",n.J3(p));u=0 === q.length || 0 <= q.indexOf(p.en);u || n.log.warn("Audio track is not supported",n.J3(p));return t && u;});if(!h.length)throw Error("no valid audio tracks");h=h.map(function(p){return n.i0a(p,n.ezb(p,k));});this.log.trace("Parsed audio tracks",{Count:h.length});return h;};c.prototype.GMb=function(h,k,n){var q,p,t,u;q=this;p=aa(m.qt(function(v){return v.SF;},h));h=p.next().value;p=p.next().value;p=aa(m.qt(function(v){return v.streams && 0 < v.streams.length;},p));t=p.next().value;p.next().value.forEach(function(v){return q.log.warn("Audio track is missing streams",q.J3(v));});u=this.config.n8;p=aa(m.qt(function(v){return 0 === u.length || 0 <= u.indexOf(v.en);},t));t=p.next().value;p.next().value.forEach(function(v){return q.log.warn("Audio track is not supported",q.J3(v));});h=[].concat(ca(t),ca(h)).map(function(v){return q.i0a(v,q.XAb(v.mt,k,n));});if(!h.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:h.length});return h;};c.prototype.Tmb=function(h){var k,n;k=this;n=this.config.uja;if(n){if(h=aa(h.filter(function(q){return q.wm == n || q.trackId == n;})).next().value)return h;}else if(this.j.Q2 && (h=aa(h.filter(function(q){return q.trackId == k.j.Q2;})).next().value))return h;};c.prototype.i0a=function(h,k){var n,q;q=h.en;k={type:d.Wh.audio,MN:h.MN,variant:h.variant,trackId:h.mt,Gy:h.Lta,en:g.VZ[q.toLowerCase()] || g.xq.zI,SM:q,ie:h.ie,wm:h.language,displayName:h.c5,channels:h.channels,C4b:h.channels,$l:k,mh:{Bcp47:h.language,TrackId:h.mt},streams:[],isNative:h.isNative,Ky:h.SF,p8:h.p8};k.streams=this.i6a(h.streams,k);this.log.trace("Transformed audio track",k,{StreamCount:k.streams.length,AllowedTimedTextTracks:k.$l.length});k.Tpb=f.Iva[null === (n=k.streams[0]) || void 0 === n?void 0:n.Kg];return k;};c.prototype.J3=function(h){return {language:h.c5,bcp47:h.language,type:h.en};};c.prototype.ezb=function(h,k){return k.filter(function(n){if(0 <= h.$ub.indexOf(n.Gy))return !1;if(h.kQa){if(h.kQa !== n.Gy && (n.Ky() || n.YB()))return !1;}else if(h.hLb){if(n.Ky() || n.YB())return !1;}else if(n.YB())return !1;return !0;});};c.prototype.XAb=function(h,k,n){return k.filter(function(q){return q.Qh.Sb === h;}).map(function(q){return q.Qh.hm;}).map(function(q){return n.find(function(p){return p.trackId === q;});}).filter(Boolean);};b.Hva=c;},function(r,b,a){var f,l,m,d;function c(g,h){return l.tP.call(this,g,h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;f=a(121);l=a(368);m=a(81);d=a(142);ka(c,l.tP);c.prototype.NMb=function(g){var h,k;h=this;g=aa(f.qt(function(n){return n.streams && 0 < n.streams.length;},g));k=g.next().value;g.next().value.forEach(function(n){return h.log.warn("Video track is missing streams",{trackId:n.mt});});g=k.map(function(n){var q;q=n.en;q={type:m.Wh.video,trackId:n.mt,Gy:n.Lta,en:d.VZ[q.toLowerCase()] || d.xq.zI,SM:q,streams:[],mh:{},Ct:n.Ct};q.streams=h.i6a(n.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!g.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:g.length});return g;};c.prototype.JMb=function(g){var h;h=g.map(function(k){return k.Ct;}).filter(Boolean);h=[].concat.apply([],ca(h)).map(function(k){return k.ca;});g=g.map(function(k){return k.oia;}).filter(Boolean).map(function(k){return k.ca;});return 0 < h.length?h:g;};b.lIa=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){k=l.gf.call(this,k,"ManifestParserConfigImpl") || this;k.Il=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;r=a(1);f=a(0);l=a(45);m=a(38);d=a(44);g=a(131);h=a(47);ka(c,l.gf);Va.Object.defineProperties(c.prototype,{n8:{configurable:!0,enumerable:!0,get:function(){return [];}},uja:{configurable:!0,enumerable:!0,get:function(){return "";}},kga:{configurable:!0,enumerable:!0,get:function(){return [];}},jga:{configurable:!0,enumerable:!0,get:function(){return [];}},zja:{configurable:!0,enumerable:!0,get:function(){return "";}},Nla:{configurable:!0,enumerable:!0,get:function(){return 0;}},TN:{configurable:!0,enumerable:!0,get:function(){return this.Il.TN.ea(h.bu);}},cw:{configurable:!0,enumerable:!0,get:function(){return this.Il.cw;}}});a=c;r.__decorate([d.config(d.j8,"supportedAudioTrackTypes")],a.prototype,"n8",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"uja",null);r.__decorate([d.config(d.$ta,"cdnIdWhiteList")],a.prototype,"kga",null);r.__decorate([d.config(d.$ta,"cdnIdBlackList")],a.prototype,"jga",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"zja",null);r.__decorate([d.config(d.Pz,"imageSubsResolution")],a.prototype,"Nla",null);r.__decorate([d.config(d.Pz,"timedTextSimpleFallbackThreshold")],a.prototype,"TN",null);r.__decorate([d.config(d.j8,"timedTextProfiles")],a.prototype,"cw",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.jm)),r.__param(1,f.l(g.HP))],a);b.RBa=a;},function(r,b){function a(c){this.Yc=c;this.rb=JSON.stringify(this.cBb());}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;a.prototype.cBb=function(){var c;c=[];(!this.Yc.Tk || 0 >= this.Yc.Tk.length) && c.push({error:"No CDN."});this.Yc.uS || c.push({error:"No default audio track.",foundTracks:this.hka(this.Yc.Iq)});this.Yc.Oha || c.push({error:"No default video track.",foundTracks:this.hka(this.Yc.yo)});this.Yc.Nha || c.push({error:"No default subtitle track.",foundTracks:this.hka(this.Yc.$l)});return c;};a.prototype.hka=function(c){return c && 0 < c.length?c.map(function(f){return f.trackId;}):"No tracks found.";};b.YBa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.XGb=h;this.iIb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;r=a(1);f=a(0);l=a(373);m=a(374);d=a(42);g=a(3);c.prototype.create=function(h){var k;if(h && !this.AFb(h)){if(this.FFb(h))throw d.ed.eZb(g.M.naa,g.L.Meb,h);k=this.XGb();k.PLa(h.links);this.iIb.MK(h);return {Tc:h,Hj:k,RWa:!1,QWa:!1};}};c.prototype.FFb=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.AFb=function(h){return ("runtime" in h) && ! !h.runtime;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.SDa)),r.__param(1,f.l(m.OBa))],a);b.PBa=a;},function(r,b,a){var f,l;function c(m){this.Nwb=m;this.jIb={Pn:"drmType",f5b:"drmVersion",expiration:"expiration",K:"movieId",Jp:"packageId",duration:"duration",Ti:"playbackContextId",lQa:["defaultTrackOrderList",{$L:"mediaId",dO:"videoTrackId",cVb:"subtitleTrackId",cp:"audioTrackId",R7b:"preferenceOrder"}],j5b:["eligibleABTestMap",{Tr:l.Tr}],n4b:["badgingInfo",{Z4b:"dolbyDigitalAudio",V5b:"hdrVideo",$4b:"dolbyVisionVideo",Z8b:"ultraHdVideo","3dVideo":"3dVideo",Y4b:"dolbyAtmosAudio",g4b:"assistiveAudio",k8b:"sdVideo",U5b:"hdVideo"}],type:"type",j4b:["audioTextShortcuts",{id:"id",cp:"audioTrackId",O8b:"textTrackId"}],M7b:"partiallyHydrated",IIb:"maxRecommendedAudioRank",JIb:"maxRecommendedTextRank",Jl:"drmContextId",kDb:"hasDrmProfile",jDb:"hasClearProfile",TT:"hasDrmStreams",ola:"hasClearStreams",bo:["locations",{ie:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Pt:["servers",{id:"id",name:"name",type:"type",ie:"rank",pYa:"lowgrade",jvb:["dns",{host:"host",$Eb:"ipv4",aFb:"ipv6",ryb:"forceLookup"}],key:"key"}],xfa:["audio_tracks",{type:"type",MN:"subType",variant:"variant",en:"trackType",mt:"new_track_id",Lta:"track_id",YOb:"profileType",zUb:"stereo",profile:"profile",channels:"channels",language:"language",bpb:"channelsFormat",p8:"surroundFormatLabel",c5:"languageDescription",$ub:"disallowedSubtitleTracks",kQa:"defaultTimedText",isNative:"isNative",SF:"isNoneTrack",streams:["streams",{kia:"downloadable_id",size:"size",G1:"content_profile",en:"trackType",bitrate:"bitrate",Jy:"isDrm",urls:["urls",{nga:"cdn_id",url:"url"}],mKb:"new_stream_id",type:"type",channels:"channels",bpb:"channelsFormat",p8:"surroundFormatLabel",language:"language",i4b:"audioKey",VJb:["moov",{size:"size",offset:"offset"}],Ar:["sidx",{size:"size",offset:"offset"}],iUb:["ssix",{size:"size",offset:"offset"}],dn:"tags"}],Tpb:"codecName",SM:"rawTrackType",id:"id",ie:"rank",ZDb:"hydrated",hLb:"offTrackDisallowed"}],YC:["video_tracks",{en:"trackType",mt:"new_track_id",type:"type",Lta:"track_id",kDb:"hasDrmProfile",jDb:"hasClearProfile",TT:"hasDrmStreams",ola:"hasClearStreams",wy:"groupName",streams:["streams",{kia:"downloadable_id",size:"size",G1:"content_profile",en:"trackType",VQa:"drmHeaderId",bitrate:"bitrate",Jy:"isDrm",urls:["urls",{nga:"cdn_id",url:"url"}],mKb:"new_stream_id",type:"type",O7b:"peakBitrate",Sub:"dimensionsCount",Tub:"dimensionsLabel",J0a:"pix_w",I0a:"pix_h",dRb:"res_w",cRb:"res_h",Atb:"crop_x",Btb:"crop_y",ztb:"crop_w",ytb:"crop_h",Cyb:"framerate_value",Byb:"framerate_scale",F8b:"startByteOffset",wb:"vmaf",VJb:["moov",{size:"size",offset:"offset"}],Ar:["sidx",{size:"size",offset:"offset"}],iUb:["ssix",{size:"size",offset:"offset"}],JC:["segmentVmaf",{offset:"offset",wb:"vmaf"}],dn:"tags"}],YOb:"profileType",zUb:"stereo",profile:"profile",Sub:"dimensionsCount",Tub:"dimensionsLabel",B8b:["snippets",{Tr:[l.Tr,{A8b:"snippetSpec",jc:"startTimeMs",Fc:"endTimeMs"}]}],oia:["drmHeader",{ca:"bytes",spb:"checksum",VQa:"drmHeaderId",Li:"keyId",oW:["resolution",{height:"height",width:"width"}]}],Ct:["prkDrmHeaders",{ca:"bytes",spb:"checksum",VQa:"drmHeaderId",Li:"keyId",oW:["resolution",{height:"height",width:"width"}]}],kv:"flavor",f6b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",lNb:"pixelAspectX",mNb:"pixelAspectY",M6b:"maxCroppedWidth",L6b:"maxCroppedHeight",N6b:"maxCroppedX",O6b:"maxCroppedY",V6b:"max_framerate_value",U6b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",i7b:"minCroppedWidth",h7b:"minCroppedHeight",j7b:"minCroppedX",k7b:"minCroppedY",hg:["license",{UGb:"licenseResponseBase64",U7b:"providerSessionToken",o8b:"secureStopExpected",e5b:"drmSessionId",links:["links",{}]}]}],dOa:["cdnResponseData",{dH:"sessionABTestCell",Iv:"pbcid"}],Mn:["choiceMap",{Te:"initialSegment",type:"type",$:"viewableId",wa:["segments",{Tr:[l.Tr,{jc:"startTimeMs",Fc:"endTimeMs",next:["next",{Tr:[l.Tr,{weight:"weight"}]}],Fh:"defaultNext",Tq:"exitZones"}]}]}],media:["media",{id:"id",Qh:["tracks",{Sb:"AUDIO",hm:"TEXT",Fb:"VIDEO"}]}],Yqa:["recommendedMedia",{dO:"videoTrackId",cp:"audioTrackId",hX:"timedTextTrackId"}],YVb:["timedtexttracks",{en:"trackType",mt:"new_track_id",type:"type",MN:"subType",variant:"variant",SM:"rawTrackType",c5:"languageDescription",language:"language",id:"id",SF:"isNoneTrack",oma:"isForcedNarrative",xvb:["downloadableIds",{}],Uob:["cdnlist",{id:"id",name:"name",type:"type",ie:"rank",pYa:"lowgrade",jvb:["dns",{host:"host",$Eb:"ipv4",aFb:"ipv6",ryb:"forceLookup"}],key:"key"}],RWb:["ttDownloadables",{Tr:[l.Tr,{id:"id",size:"size",N8b:"textKey",T5b:"hashValue",S5b:"hashAlgo",p6b:"isImage",qoa:"midxOffset",sZa:"midxSize",height:"height",width:"width",ay:["downloadUrls",{}],urls:["urls",{url:"url",nga:"cdn_id"}]}]}],N4:"isLanguageLeftToRight",Ss:"headIdentDuration",ie:"rank",ZDb:"hydrated"}],JWb:["trickplays",{kia:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",oNb:"pixelsAspectY",nNb:"pixelsAspectX",width:"width",height:"height",Ss:"headIdentDuration"}],I7a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],d5b:"dpsid",al:"isBranching",j9b:"viewableType",aC:"isSupplemental",Mpb:"clientIpAddress",d9b:"urlExpirationDuration",H6b:"manifestExpirationDuration",G8b:["steeringAdditionalInfo",{H8b:"steeringId",d4b:"additionalGroupNames",I8b:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;r=a(1);f=a(0);l=a(206);c.prototype.MK=function(m){this.Nwb.MK(m,this.jIb);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Dya))],a);b.NBa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.zc=b.Zq=void 0;(function(c){c[c.zi=0]="STOPPED";c[c.$c=1]="BUFFERING";c[c.Af=2]="REBUFFERING";c[c.Zj=3]="STREAMING";c[c.UP=4]="TRACK_SWITCH";})(a || (a={}));b.zc=a;b.Zq=function(c){return c === a.$c || c === a.Af || c === a.UP;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(721),b);r.__exportStar(a(722),b);r.__exportStar(a(723),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Caa=void 0;r=b.Caa || (b.Caa={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.hA=1]="HAVE_SOMETHING";r[r.Aw=2]="HAVE_MINIMUM";r[r.jI=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ka=void 0;r=a || (a={});r[r.$g=0]="STARTING";r[r.$c=1]="BUFFERING";r[r.Af=2]="REBUFFERING";r[r.Hc=3]="PLAYING";r[r.vq=4]="STOPPING";r[r.zi=5]="STOPPED";r[r.Xh=6]="PAUSED";b.ka=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(745),b);r.__exportStar(a(746),b);r.__exportStar(a(747),b);r.__exportStar(a(748),b);r.__exportStar(a(749),b);r.__exportStar(a(750),b);r.__exportStar(a(751),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(753),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pw=void 0;r=b.Pw || (b.Pw={});r[r.ydb=0]="PLAYGRAPH_CHANGED";r[r.zdb=1]="PLAYGRAPH_UNCHANGED";r[r.Lcb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.mab=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.lab=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.xeb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.a8a=6]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ava=void 0;c=a(15);r=(function(){function f(l){this.config=l;}f.prototype.Bm=function(l,m){return this.config.TW || m !== c.zc.Zj?l.filter(function(d){return d.Hs;}):l;};return f;})();b.Ava=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UD=void 0;r=a(2);c=a(20);f=r.__importDefault(a(5));l=a(376);a=(function(){function m(d){this.console=d;this.gQa=[];this.tNa={};this.yQa=!1;}m.prototype.Wp=function(d,g){this.gQa=d;void 0 !== g?this.tNa[g]=d:this.yQa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.yQa=!0);};m.prototype.Bm=function(d){var g,h,k,n,q;g=this;if(0 === d.length)return d;n=d[0].$;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=f.default.ys) || void 0 === h?void 0:h.call(f.default,n);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}q=null !== (k=this.tNa[n]) && void 0 !== k?k:this.gQa;c.ia && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(q));d=d.filter(function(p){return l.dfa(p.profile,p.bitrate,q,g.console).inRange;});c.ia && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return m;})();b.UD=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Cva=void 0;r=(function(){function a(c){var f;f=this;c.LN && c.LN.enabled && c.LN.profiles && c.LN.profiles.length && "keepLowest" === c.LN.action && (this.vXa={},c.LN.profiles.forEach(function(l){return f.vXa[l]=!0;}));}a.prototype.Bm=function(c){var f,l;f={};l=this.vXa;return void 0 === l?c:c.filter(function(m){return !l[m.profile] || (f[m.profile]?!1:f[m.profile]=!0);});};return a;})();b.Cva=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yva=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Bm=function(c){var f;f=this.config;return c.filter(function(l){return !(void 0 !== l.wb && (l.wb < f.kG || l.wb > f.MYa) || (void 0 === l.wb || 0 >= f.kG) && l.bitrate < f.roa || (void 0 === l.wb || Infinity === f.MYa) && l.bitrate > f.vIb);});};return a;})();b.yva=r;},function(r,b,a){var f;function c(l,m){m=Math.max(l,m);return isNaN(m)?l || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.jva=void 0;f=a(15);r=(function(){function l(m){this.config=m;this.k7=0;this.state=f.zc.zi;this.DZa=c(m.roa,m.M5);this.zoa=c(m.kG,m.QU);}l.prototype.Bm=function(m,d){var g;g=this;if(d !== this.state){this.state=d;if(d === f.zc.$c || d === f.zc.UP)return m;d === f.zc.Af && this.U1a();}return m.filter(function(h){return !(void 0 !== h.wb && h.wb < g.zoa || (void 0 === h.wb || 0 > g.zoa) && h.bitrate < g.DZa);});};l.prototype.U1a=function(){++this.k7;this.zoa=c(this.config.kG,this.config.QU - this.config.BJb * this.k7);this.DZa=this.config.roa || -Infinity;};return l;})();b.jva=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xva=void 0;c=a(30);r=(function(){function f(l){this.config=l;}f.prototype.zTb=function(l){return l % 100 + 1 <= this.config.Mpa;};f.prototype.Bm=function(l){var m,d,g,h,k,n,q,p,t,u,v;q=Number(null === (m=l[0]) || void 0 === m?void 0:m.K);if(!(this.config.r2 && this.zTb(q) && 0 < this.config.y7.length))return l;m=l.length;p=null !== (d=l[m - 1].x7) && void 0 !== d?d:0;if(d=c.wg(this.config.y7,function(w){return w.a8b >= p && w.Q2a <= p;})){for(q=0;q < m;q++){t=l[Math.max(q - 1,0)];u=l[q];if(!((null !== (g=u.x7) && void 0 !== g?g:0) < d.Q2a || (null !== (h=t.x7) && void 0 !== h?h:0) < d.Q2a)){v=null !== (k=u.wb) && void 0 !== k?k:Infinity;t=null !== (n=t.wb) && void 0 !== n?n:Infinity;if(!(t < d.n7b || t < d.m7b && u.bitrate < d.maxBitrate || !v && u.bitrate < d.K6b))break;}}return l.slice(0,q);}return l;};return f;})();b.xva=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.laa=b.R9=void 0;c=a(30);b.R9={Bm:function(f){return f.filter(function(l){return l.Xs && !l.yy;});}};b.laa={Bm:function(f){return (f=c.wg(f,function(l){return ! !l.Xs && !l.yy;}))?[f]:[];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PD=void 0;c=a(377);r=(function(){function f(l,m){void 0 === m && (m=!1);this.Iob=m;this.filters=[];Array.isArray(l)?l.forEach(this.and.bind(this)):this.and(l);}f.prototype.and=function(l){l !== c.FD && this.filters.push({filter:l,cPa:!0});return this;};f.prototype.or=function(l){this.filters.push({filter:l,cPa:!1});return this;};f.prototype.Bm=function(l,m){return this.filters.reduce(function(d,g){g.cPa?d=g.filter.Bm(d,m):0 === d.length && (d=g.filter.Bm(l,m));return d;},l);};return f;})();b.PD=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.maa=void 0;b.maa={Bm:function(a){return [a[0]];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dF=b.cF=void 0;c=a(95);b.cF=function(f,l){l && (null === f || void 0 === f?0:f.XVa) && (l=new c.PD(l).or(c.FD));return new c.PD(c.R9).and(null !== l && void 0 !== l?l:c.FD).or(c.laa).or(c.maa);};b.dF=function(f,l){l && f.XVa && (l=new c.PD(l).or(c.FD));return new c.PD(c.R9).and(new c.Ava(f)).and(new c.yva(f)).and(new c.jva(f)).and(new c.Cva(f)).and(f.r2?new c.xva(f):c.FD).and(null !== l && void 0 !== l?l:c.FD).or(c.laa).or(c.maa);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(775),b);r.__exportStar(a(381),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$ua=void 0;c=a(2);r=(function(f){function l(m,d){m=f.call(this,l.Syb(m,d)) || this;m.Ngb=d;m.name="AggregateError";return m;}c.__extends(l,f);l.Syb=function(m,d){return d.reduce(function(g,h){return g + "\n" + h;},m);};Object.defineProperties(l.prototype,{w2:{get:function(){return this.Ngb;},enumerable:!1,configurable:!0}});return l;})(Error);b.$ua=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.deb=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Te,segments:a.$tb(c.wa)},void 0 !== c.ae?{transitionType:c.ae}:{});};a.encode=function(c){return Object.assign({Te:c.initialSegment,wa:a.Gwb(c.segments)},void 0 !== c.transitionType?{ae:c.transitionType}:{});};a.Gwb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.Fwb(c[l]);return f;},{});};a.Fwb=function(c){return Object.assign({$:c.viewableId,jc:c.startTimeMs},c.endTimeMs?{Fc:c.endTimeMs}:{},c.defaultNext?{Fh:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{ae:c.transitionType}:{},c.next?{next:a.Dwb(c.next)}:{},c.exitZones?{Tq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.Dwb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.Ewb(c[l]);return f;},{});};a.Ewb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{ae:c.transitionType}:{});};a.$tb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.Ztb(c[l]);return f;},{});};a.Ztb=function(c){return Object.assign({viewableId:c.$,startTimeMs:c.jc},c.Fc?{endTimeMs:c.Fc}:{},c.Fh?{defaultNext:c.Fh}:{},c.weight?{weight:c.weight}:{},c.ae?{transitionType:c.ae}:{},c.next?{next:a.Xtb(c.next)}:{},c.Tq?{exitZones:c.Tq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.Xtb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.Ytb(c[l]);return f;},{});};a.Ytb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.ae?{transitionType:c.ae}:{});};return a;})();},function(r,b,a){var m;function c(d){return Object.keys(d.segments).some(function(g){var h,k;return (null === (h=d.segments[g].ui) || void 0 === h?void 0:h.interactionZones) || (null === (k=d.segments[g].ui) || void 0 === k?void 0:k.interactionZonesV2);});}function f(d){return Object.keys(d).reduce(function(g,h){var k,n;k=d[h];n=k.weight;k=k.transitionType || k.transitionHint;h=g[h]={};void 0 !== n && (h.weight=n);k && (h.ae=k);return g;},{});}function l(d){var g,h;g=Object.keys(d);h=g.length;return h?g.reduce(function(k,n){return k + (d[n].weight || 0);},0) / h:void 0;}Object.defineProperty(b,"__esModule",{value:!0});m=a(224);b.nB=function(d,g){var h,k,n,q,p,t;h=void 0 === g?{}:g;g=h.Fd;k=h.Te;n=h.wa;h=h.config;q=!(!h || -1 === h.xja.indexOf(d.viewableId));p=c(d)?0:(null === h || void 0 === h?void 0:h.wja) || 0;h=new m.LD();t=n || d.segments;h.FW(null !== k && void 0 !== k?k:d.initialSegment).S3a(null !== g && void 0 !== g?g:d.mediaTypes).Gsa(q?"immediate":d.transitionType).W3a(Object.keys(t).reduce(function(u,v){var w,x,y,A,z;w=t[v];A=w.weight;if(null === A || void 0 === A)A=w.next && (q || (null === (x=w.exitZones) || void 0 === x?0:x.length))?l(w.next):void 0;x=w.exitZones;if(null === x || void 0 === x)a:{if(q && w.endTimeMs){x=w.endTimeMs - w.startTimeMs;b:{if(w.ui){z=w.ui.interactionZones;if((null === z || void 0 === z?0:z.length) && z[0].length){z=z[0][0] - w.startTimeMs;break b;}z=w.ui.interactionZonesV2;if((null === z || void 0 === z?0:z.length) && z[0].length){z=z[0][0];break b;}}z=void 0;}if(z && z < x){x=[[z,x]];break a;}if(p && x > p){x=[[x - p,x]];break a;}}x=void 0;}z=w.transitionHint || (!q || p || x?void 0:"lazy");A={$:d.viewableId,jc:w.startTimeMs,Fc:(y=w.endTimeMs,null !== y && void 0 !== y?y:Infinity),ae:z,Tq:x,weight:A};w.defaultNext && (A.Fh=w.defaultNext);w.next && (A.next=f(w.next));u[v]=A;return u;},{}));return h.zj();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(224);b.iH=function(f,l,m){var d;d=new c.LD();d.FW(l).Gsa("lazy").S3a(m).Hn(l,{$:f,jc:0,Fc:Infinity});return d.zj();};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.MBa=void 0;c=a(2);f=a(16);l=a(225);m=a(379);r=c.__importDefault(a(5));d=a(807);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);g=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(h){function k(n,q){var p;p=h.call(this) || this;p.I=n;p.Rg=new d.OAa(n,q);n.SS && p.fPa(q);p.Ag=new f.xh();g.forEach(function(t){p.Ag.on(p.Rg,t,function(u){return p.emit(t,u);});p.qo && p.Ag.on(p.qo,t,function(u){return p.emit(t,u);});});return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{Ib:{get:function(){return this.Rg.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Lm:{get:function(){return this.Rg.Lm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Qt:{get:function(){return this.Rg.Qt;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ez:{get:function(){return this.Rg.Ez;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hma:{get:function(){return this.Rg.Hma;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{LC:{get:function(){return this.Rg.LC;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pf:{get:function(){return this.Rg.pf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kh:{get:function(){return this.Rg.kh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kla:{get:function(){return this.Rg.Kla;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{BU:{get:function(){return this.Rg.BU.bind(this.Rg);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{b3:{get:function(){return this.Rg.b3.bind(this.Rg);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{k1:{get:function(){var n;n=this;return function(){n.Era();n.Rg.k1();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bga:{get:function(){var n;n=this;return function(){n.Era();n.Rg.bga();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gx:{get:function(){var n;n=this;return function(){n.Era();n.Rg.Gx();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$o:{get:function(){var n;n=this;return function(q,p,t){var u;null === (u=n.pf) || void 0 === u?void 0:u.$o(q,p,t);};},enumerable:!1,configurable:!0}});k.prototype.fPa=function(n){return this.qo=new (a(931).DGa)(this.I,this.Gx,this.$o,n);};k.prototype.nb=function(n,q,p,t,u,v,w,x){void 0 === w && (w=262144);void 0 === x && (x=1048576);this.Rg.nb(n,q,p,t,u,v);this.qo?this.qo.nb(n,q,p,t,u,v,w,x):this.CXa={Kmb:n,DYb:q,$u:p,Ez:t,LC:u,$Ib:v,sfa:w,Dua:x};};k.prototype.HW=function(n,q,p){this.Rg.HW(n,q,p);this.qo?this.qo.HW(n,q,p):this.HXa={PUb:n,Ez:q,LC:p};};k.prototype.createSession=function(n,q,p,t,u,v,w,x,y,A){var z,B,D,E,F;z=this;x || (x=this.Rg.config);if(x.SS && !this.qo){B=this.fPa(this.Rg.TC);g.forEach(function(C){z.Ag.on(z.qo,C,function(G){return z.emit(C,G);});});if(this.CXa){D=this.CXa;E=D.Ez;F=D.LC;B.nb(D.Kmb,D.DYb,D.$u,E,F,D.$Ib,D.sfa,D.Dua);}this.HXa && (F=this.HXa,D=F.PUb,E=F.Ez,F=F.LC,B.HW(D,E,F));}return this.qo && x && x.U8?(x.Fq || x.qG || this.Rg.Gx(),this.qo.createSession(n,q,p,t,u,v,w,x,y,A)):this.Rg.createSession(n,q,p,t,u,v,w,x,y,A);};k.prototype.addEventListener=function(n,q){this.addListener(n,q);return !0;};k.prototype.removeEventListener=function(n,q){this.removeListener(n,q);return !0;};k.prototype.Ab=function(){var n;this.Ag.clear();this.Rg.Ab();null === (n=this.qo) || void 0 === n?void 0:n.Ab();l.YH.reset();};k.prototype.Era=function(){var n,q;this.I.Fq || this.I.qG || (null === (n=this.qo) || void 0 === n?void 0:n.Ma.state) !== m.Kr.OPEN || (null === (q=this.qo) || void 0 === q?void 0:q.Ma.At.reset());};return k;})(f.EventEmitter);b.MBa=r;},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,f,l,m){l=m?l.bind(m):l;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addListener)c.addListener(f,l);else if("function" === typeof c.addEventListener)c.addEventListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={keb:a(785),TZb:a(786)};},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function f(g){this.Oe=null;this.lm=g;this.size=0;}function l(g){return null !== g && g.red;}function m(g,h){var k;k=g.Pg(!h);g.Xp(!h,k.Pg(h));k.Xp(h,g);g.red=!0;k.red=!1;return k;}function d(g,h){g.Xp(!h,m(g.Pg(!h),!h));return m(g,h);}b=a(383);c.prototype.Pg=function(g){return g?this.right:this.left;};c.prototype.Xp=function(g,h){g?this.right=h:this.left=h;};f.prototype=new b();f.prototype.Dp=function(g){var h,k,n,q,p,t,u,v,w;h=!1;if(null === this.Oe)(this.Oe=new c(g),h=!0,this.size++);else {k=new c(void 0);n=0;q=0;p=null;t=k;u=null;v=this.Oe;for(t.right=this.Oe;;){null === v?(v=new c(g),u.Xp(n,v),h=!0,this.size++):l(v.left) && l(v.right) && (v.red=!0,v.left.red=!1,v.right.red=!1);if(l(v) && l(u)){w=t.right === p;v === u.Pg(q)?t.Xp(w,m(p,!q)):t.Xp(w,d(p,!q));}w=this.lm(v.data,g);if(0 === w)break;q=n;n=0 > w;null !== p && (t=p);p=u;u=v;v=v.Pg(n);}this.Oe=k.right;}this.Oe.red=!1;return h;};f.prototype.remove=function(g){var h,k,u,v,w;if(null === this.Oe)return !1;h=new c(void 0);k=h;k.right=this.Oe;for(var n=null,q,p=null,t=1;null !== k.Pg(t);){u=t;q=n;n=k;k=k.Pg(t);v=this.lm(g,k.data);t=0 < v;0 === v && (p=k);if(!l(k) && !l(k.Pg(t)))if(l(k.Pg(!t)))(q=m(k,t),n.Xp(u,q),n=q);else if(!l(k.Pg(!t)) && (v=n.Pg(!u),null !== v))if(l(v.Pg(!u)) || l(v.Pg(u))){w=q.right === n;l(v.Pg(u))?q.Xp(w,d(n,u)):l(v.Pg(!u)) && q.Xp(w,m(n,u));u=q.Pg(w);u.red=!0;k.red=!0;u.left.red=!1;u.right.red=!1;}else (n.red=!1,v.red=!0,k.red=!0);}null !== p && (p.data=k.data,n.Xp(n.right === k,k.Pg(null === k.left)),this.size--);this.Oe=h.right;null !== this.Oe && (this.Oe.red=!1);return null !== p;};r.exports=f;},function(r,b,a){function c(l){this.data=l;this.right=this.left=null;}function f(l){this.Oe=null;this.lm=l;this.size=0;}b=a(383);c.prototype.Pg=function(l){return l?this.right:this.left;};c.prototype.Xp=function(l,m){l?this.right=m:this.left=m;};f.prototype=new b();f.prototype.Dp=function(l){if(null === this.Oe)return (this.Oe=new c(l),this.size++,!0);for(var m=0,d=null,g=this.Oe;;){if(null === g)return (g=new c(l),d.Xp(m,g),ret=!0,this.size++,!0);if(0 === this.lm(g.data,l))return !1;m=0 > this.lm(g.data,l);d=g;g=g.Pg(m);}};f.prototype.remove=function(l){var m,d,n;if(null === this.Oe)return !1;m=new c(void 0);d=m;d.right=this.Oe;for(var g=null,h=null,k=1;null !== d.Pg(k);){g=d;d=d.Pg(k);n=this.lm(l,d.data);k=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,g.Xp(g.right === d,d.Pg(null === d.left)),this.Oe=m.right,this.size--,!0):!1;};r.exports=f;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MCa=void 0;c=a(30);f=a(6);r=(function(){function l(){this.data={};}Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,g){return d + m.data[g].length;},0);},enumerable:!1,configurable:!0}});l.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};l.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};l.prototype.count=function(m){return (m=this.data[m])?m.length:0;};l.prototype.keys=function(){return Object.keys(this.data);};l.prototype.values=function(){var m;m=this;return c.flatten(this.keys().map(function(d){return m.data[d];}));};l.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};l.prototype.clear=function(){this.data={};};l.prototype.delete=function(m,d){var g,h;g=this.data[m];if(void 0 === g)return !1;if(void 0 === d)return (f.assert(1 === arguments.length),delete this.data[m],!0);h=g.indexOf(d);if(-1 === h)return !1;1 === g.length?delete this.data[m]:g.splice(h,1);return !0;};l.prototype.forEach=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return g.data[h].forEach(function(k){return m(k,h,g);});});};l.prototype.reduce=function(m,d,g){var h,k;h=this;m=void 0 !== g?m.bind(g):m;k=d;this.forEach(function(n,q){k=m(k,n,q,h);});return k;};l.prototype.map=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].map(function(k){return m(k,h,g);});}));};l.prototype.filter=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].filter(function(k){return m(k,h,g);});}));};return l;})();b.MCa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qSa=void 0;b.qSa=function(a,c){return a.filter(function(f){var l,m;f=null !== (m=null !== (l=f.Ui) && void 0 !== l?l:f.Fy) && void 0 !== m?m:f.Vg;return ! !f && f.uv(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HGa=b.GGa=void 0;c=a(30);r=(function(){function f(l){this.G=l;this.listeners=[];this.qV=[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});f.prototype.set=function(l){var m;this.G=l;m=this.qV;this.qV=[];this.listeners.forEach(function(d){return d(l);});m.forEach(function(d){return d(l);});};f.prototype.P2a=function(){this.G=void 0;};f.prototype.on=function(l){this.listeners=this.listeners.concat([l]);void 0 !== this.G && l(this.G);};f.prototype.once=function(l){void 0 !== this.G?l(this.G):this.qV.push(l);};f.prototype.tM=function(l){this.listeners=this.listeners.filter(function(m){return m !== l;});this.qV=this.qV.filter(function(m){return m !== l;});};return f;})();b.GGa=r;r=(function(){function f(){this.listeners=[];}f.prototype.on=function(l,m){this.listeners.push({signal:l,listener:m});l.on(m);};f.prototype.once=function(l,m){var d,g;d=this;if(void 0 === l.value){g=function(h){d.remove(l,m);m(h);};this.listeners.push({signal:l,listener:m,O7a:g});l.once(g);}else l.once(m);};f.prototype.tM=function(l,m){var d,g;g=c.wg(this.listeners,function(h){return h.signal === l && h.listener === m;});void 0 !== g && l.tM(null !== (d=g.O7a) && void 0 !== d?d:g.listener);this.remove(l,m);};f.prototype.removeAllListeners=function(){this.listeners.forEach(function(l){var m,d;m=l.listener;d=l.O7a;return l.signal.tM(null !== d && void 0 !== d?d:m);});this.listeners=[];};f.prototype.remove=function(l,m){this.listeners=this.listeners.filter(function(d){return d.signal !== l || d.listener !== m;});};return f;})();b.HGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XWa=void 0;b.XWa=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fQa=void 0;b.fQa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var f;function c(l,m,d){var g,k,n;if(l === m || !d.QC && l == m)return !0;if(typeof l !== typeof m)return !1;if(l && "object" === typeof l){for(var h in l){if(!c(l[h],m[h],d))return !1;}if(!d.gpb){k=Object.keys(l);n=Object.keys(m).filter(function(u){return 0 > k.indexOf(u);});try{for(var q=f.__values(n),p=q.next();!p.done;p=q.next()){if((h=p.value,!c(l[h],m[h],d)))return !1;}}catch(u){var t;t={error:u};}finally{try{p && !p.done && (g=q.return) && g.call(q);}finally{if(t)throw t.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.dub=void 0;f=a(2);b.dub=function(l,m,d){void 0 === d && (d={});d=f.__assign({QC:!1,gpb:!1},d);return c(l,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RZ=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Ca=NaN;}Object.defineProperties(a.prototype,{nr:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ca=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ca+=(c - this.Ca) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ca};};return a;})();b.RZ=r;},function(r,b,a){var f;function c(l){this.lN=new Uint16Array(l.length);for(var m=0;m < l.length;++m){this.lN[m]=l.charCodeAt(m);}}f=new (a(5).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(l){var m;m=this.lN.length;if(void 0 === this.lN)f.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",g=0;g < l.length;++g){d+=String.fromCharCode(this.lN[g % m] ^ l.charCodeAt(g));}return encodeURIComponent(d);}};c.prototype.decrypt=function(l){var m,d;m="";d=this.lN.length;l=decodeURIComponent(l);for(var g=0;g < l.length;g++){m+=String.fromCharCode(this.lN[g % d] ^ l.charCodeAt(g));}return m;};r.exports=c;},function(r){function b(a,c){this.Ca=a;this.ti=c;}b.prototype.jqa=function(a){var c,f,l,m,g,h;c=this.Ca;f=Math.sqrt(2 * this.ti);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {l=1 > a?a:2 - a;m=Math.sqrt(-2 * Math.log(l / 2));m=-.70711 * ((2.30753 + .27061 * m) / (1 + m * (.99229 + .04481 * m)) - m);for(var d=0;2 > d;d++){g=Math.abs(m);h=1 / (1 + g / 2);g=h * Math.exp(-g * g - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));g=(0 <= m?g:2 - g) - l;m+=g / (1.1283791670955126 * Math.exp(-(m * m)) - m * g);}a=1 > a?m:-m;}return c - f * a;};r.exports=b;},function(r,b,a){var l,m,d,g;function c(h,k,n){l.call(this,h,k,n);}function f(h,k){m.call(this,new c(h,k,!1));}l=a(797);m=a(798);d=a(110).ozb;g=a(110).FCb;c.prototype=Object.create(l.prototype);c.prototype.Ca=function(){return Math.floor(8 * d(this.Bd) / this.sd);};c.prototype.ti=function(){return Math.floor(64 * g(this.Bd) / (this.sd * this.sd));};c.prototype.get=function(){return {Ca:this.Ca(),ti:this.ti(),u4b:this.Bd.length};};c.prototype.toString=function(){return "bsw(" + this.NJ + "," + this.sd + "," + this.wj + ")";};f.prototype=Object.create(m.prototype);f.prototype.setInterval=function(h){this.dJ.setInterval(h);};r.exports=f;},function(r){function b(a,c,f){this.NJ=a;this.wj=Math.floor((a + c - 1) / c);this.sd=c;this.Cjb=f;this.reset();}b.prototype.shift=function(){this.Bd.shift();this.Ch.shift();};b.prototype.update=function(a,c){this.Bd[a]+=c;};b.prototype.push=function(a){this.Bd.push(0);this.Ch.push(a?a:0);this.jb+=this.sd;};b.prototype.add=function(a,c,f,l){var m,d;if(null === this.jb){m=Math.max(Math.floor((f - c + this.sd - 1) / this.sd),1);for(this.jb=c;this.Bd.length < m;){this.push(l);}}for(;this.jb < f;){if((this.push(l),this.Cjb))for(;1 < this.Bd.length && f + l - (this.jb - this.sd * this.Bd.length + this.Ch[0]) > this.NJ;){this.shift();}else this.Bd.length > this.wj && this.shift();}if(c > this.jb - this.sd)this.update(this.Bd.length - 1,a);else if(c == f)(l=this.Bd.length - Math.max(Math.ceil((this.jb - f) / this.sd),1),0 <= l && this.update(l,a));else for(l=1;l <= this.Bd.length;++l){m=this.jb - l * this.sd;d=m + this.sd;if(!(m > f)){if(d < c)break;this.update(this.Bd.length - l,Math.round(a * (Math.min(d,f) - Math.max(m,c)) / (f - c)));}}for(;this.Bd.length > this.wj;){this.shift();}};b.prototype.reset=function(){this.Bd=[];this.Ch=[];this.jb=null;};b.prototype.setInterval=function(a){this.wj=Math.floor((a + this.sd - 1) / this.sd);};r.exports=b;},function(r){function b(a){this.dJ=a;this.Ae=0;this.JJ=null;}b.prototype.add=function(a,c,f){null !== this.JJ && c > this.JJ && (this.Ae+=c - this.JJ,this.JJ=null);this.dJ.add(a,c - this.Ae,f - this.Ae,this.Ae);};b.prototype.stop=function(a){null === this.JJ && (this.JJ=a);};b.prototype.lqa=function(a,c){return this.dJ.lqa(a,c);};b.prototype.get=function(){return this.dJ.get();};b.prototype.reset=function(){this.dJ.reset();};b.prototype.toString=function(){return this.dJ.toString();};r.exports=b;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t){this.zgb=t;}b=a(386);f=b.U$a;l=b.S$a;m=a(228).T$a;d=a(228).nfb;g=a(387);h=a(388);k=a(389).oHa;n=a(800);q=a(801);p=a(173);c.prototype.constructor=c;c.prototype.create=function(t,u){var v,w,x,y;v=this.zgb[t];w=u[t];x={};v && Object.keys(v).forEach(function(A){x[A]=v[A];});w && Object.keys(w).forEach(function(A){x[A]=w[A];});switch(x.type){case "slidingwindow":y=new m(x.mw);break;case "discontiguous-ewma":y=new l(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new g(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new h(x);break;case "discrete-ewma":y=new f(x.hl);break;case "tdigest-history":y=new k(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new p();break;case "entropy":y=new q(x);}y && (y.type=x.type);return y;};r.exports=c;},function(r,b,a){var f;function c(){this.tj=void 0;this.UA=0;}f=a(10);c.prototype.getState=function(){return 0 !== this.UA && this.tj?{p25:this.tj.gl,p50:this.tj.Mj,p75:this.tj.il,c:this.UA}:null;};c.prototype.Ie=function(l){if(!(!f.tb(l) && f.has(l,"p25") && f.has(l,"p50") && f.has(l,"p75") && f.has(l,"c") && f.isFinite(l.p25) && f.isFinite(l.p50) && f.isFinite(l.p75) && f.isFinite(l.c)))return (this.tj=void 0,this.UA=0,!1);this.tj={gl:l.p25,Mj:l.p50,il:l.p75};this.UA=l.c;};c.prototype.get=function(){return {L6:this.tj,jN:this.UA};};c.prototype.set=function(l,m){this.tj=l;this.UA=m;};c.prototype.reset=function(){this.tj=void 0;this.UA=0;};c.prototype.toString=function(){return "IQRHist(" + this.tj + "," + this.UA + ")";};r.exports=c;},function(r,b,a){var f;function c(l){var m,d;m=l.sw;d=l.mw;this.MJ=m;this.uca={uhd:l.uhdl,hd:l.hdl};this.wj=Math.max(Math.ceil(1 * m / d),1);this.fib=l.mins || 1;f.call(this,m,d);this.reset();}f=a(145);new (a(5).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Bd.map(function(l,m){this.ZLa(l,this.Jja(m));},this);};c.prototype.gob=function(){var l,m,d,g,h,k,n,u;l=this.uca;for(m in l){if(l.hasOwnProperty(m)){d=l[m];g=this.qea[m];h=this.pea[m];if(g.first){k=g.first;n=g.HG;void 0 !== n && (h[k][n]+=1);g.first=void 0;}g=[];k=0;d=n=d.length + 1;for(var q=0;q < n;q++){for(var p=0,t=0;t < d;t++){p+=h[t][q];}k+=p;g.push(p);}p=-1;if(k > this.fib){for(q=p=0;q < n;q++){if(0 < g[q])for(t=0;t < d;t++){u=h[t][q];0 < u && (p-=u * Math.log(1 * u / g[q]));}}p/=k * Math.log(2);}this.Tca[m]=p;}}return this.Tca;};c.prototype.ZLa=function(l,m){var k,n;for(var d=this.wj,g=this.uca;this.y_.length >= d;){this.y_.shift();}for(;this.z_.length >= d;){this.z_.shift();}this.y_.push(l);this.z_.push(m);l=this.y_.reduce(function(q,p){return q + p;},0);m=this.z_.reduce(function(q,p){return q + p;},0);if(0 < m){l=8 * l / m;for(var h in g){if(g.hasOwnProperty(h)){m=this.qea[h];d=this.pea[h];k=this.kPb(l,g[h]);n=m.HG;void 0 !== n?d[k][n]+=1:m.first=k;m.HG=k;}}}};c.prototype.kPb=function(l,m){for(var d=0;d < m.length && l > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.ZLa(this.Bd[0],this.Jja(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var l,m,d,g,h,k,n;this.qea={};this.y_=[];this.z_=[];this.pea={};this.Tca={};l=this.uca;for(m in l){if(l.hasOwnProperty(m)){d=this.pea;g=m;k=void 0;n=Array(k);k=h=l[m].length + 1;for(var q=0;q < k;q++){n[q]=Array(h);for(var p=0;p < h;p++){n[q][p]=0;}}d[g]=n;this.qea[m]={first:void 0,HG:void 0};this.Tca[m]=0;}}f.prototype.reset.call(this);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I=m;this.JQ();}f=a(10);l=a(5).default;new l.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();l.storage.set("nh",m);};c.prototype.sUb=function(){this.BE || (this.BE=!0,this.gx=l.time.ba());};c.prototype.CUb=function(){var m;if(this.BE){m=l.time.ba();this.lx+=m - this.gx;this.gx=m;this.BE=!1;this.IQ=null;}};c.prototype.FWa=function(m,d){this.BE && (d > this.gx && (this.lx+=d - this.gx,this.gx=d),null === this.IQ || m > this.IQ) && (m=d - m,this.qJ.push([this.lx - m,m]),this.xkb(),this.IQ=d);};c.prototype.xkb=function(){var m;m=this.lx - this.I.kKb;this.qJ=this.qJ.filter(function(d){return d[0] > m;});};c.prototype.JQ=function(){var m;m=l.storage.get("nh");this.gea(m) || (this.gx=l.time.ba(),this.lx=0,this.BE=!1,this.IQ=null,this.qJ=[]);};c.prototype.gea=function(m){if(!(m && f.has(m,"t") && f.has(m,"s") && f.has(m,"i") && f.ya(m.t) && f.ya(m.s) && f.isArray(m.i)))return !1;this.gx=l.time.Woa(1E3 * m.t);this.lx=1E3 * m.s;this.BE=!1;this.qJ=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.IQ=null;return !0;};c.prototype.getState=function(){return this.BE?{t:l.time.now() / 1E3 | 0,s:(this.lx + (l.time.ba() - this.gx)) / 1E3 | 0,i:this.qJ.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:l.time.Boa(this.gx) / 1E3 | 0,s:this.lx / 1E3 | 0,i:this.qJ.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yya=void 0;r=a(2);c=a(804);new (r.__importDefault(a(5)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var E00;E00=2;for(;E00 !== 7;){switch(E00){case 8:return f;break;case 2:f.prototype.reset=function(){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 4:this.SC=new c.Hwa();G00=2;break;G00=1;break;case 2:this.SC=new c.Hwa();G00=1;break;}}};f.prototype.bN=function(l,m){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:m.Hh && (this.Sla?this.SC.start(l,m.Hh):1 === m.type && (this.gy[m.Hh]?this.gy[m.Hh].FX+=1:this.gy[m.Hh]={Hh:m.Hh,FX:1,I2:!1},this.E6a(l)));H00=1;break;}}};f.prototype.jW=function(l,m){var I00,d;I00=2;for(;I00 !== 9;){switch(I00){case 7:I00=m.Hh?5:8;break;I00=m.Hh?1:9;break;case 2:I00=m.Hh?1:9;break;case 6:I00=this.Sla?1:7;break;I00=this.Sla?5:4;break;case 1:I00=this.Sla?5:4;break;case 5:this.SC.stop(l,m.Hh);I00=9;break;case 4:d=this.gy[m.Hh];1 === m.type && d && (--d.FX,0 === d.FX && (d.I2 && this.SC.stop(l,m.Hh),d.I2=!1,delete this.gy[m.Hh]),this.E6a(l));I00=9;break;}}};f.prototype.Qu=function(l,m,d,g){var J00;J00=2;for(;J00 !== 1;){switch(J00){case 2:g.Hh && (this.Sla?this.SC.add(l,m,d,g.Hh):this.uR === g.Hh && this.SC.add(l,m,d,g.Hh));J00=1;break;}}};f.prototype.Ns=function(){var K00;K00=2;for(;K00 !== 1;){switch(K00){case 2:return this.SC.get();break;}}};f.prototype.E6a=function(l){var L00,m,d;L00=2;for(;L00 !== 5;){switch(L00){case 2:(m=Object.keys(this.gy),d=this.gy[m[0]]);1 === m.length && !1 === d.I2?(this.SC.start(l,d.Hh),this.uR=d.Hh):1 < m.length && this.uR && (m=this.gy[this.uR],this.SC.stop(l,this.uR),m.I2=!1,this.uR=void 0);L00=5;break;}}};E00=8;break;}}function f(l){var F00;F00=2;for(;F00 !== 4;){switch(F00){case 2:var B12="1S";B12+="I";B12+="Y";B12+="bZrNJCp";B12+="9";this.Sla=l;this.gy={};B12;F00=4;break;}}}})();b.yya=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hwa=void 0;c=a(2).__importDefault(a(173));r=(function(){var M00;M00=2;for(;M00 !== 9;){switch(M00){case 2:f.prototype.add=function(l,m,d,g){var O00,h;O00=2;for(;O00 !== 4;){switch(O00){case 2:h=this.f0;void 0 === h[g] && (h[g]=new c.default());h[g].add(l,m,d);O00=4;break;}}};f.prototype.start=function(l,m){var P00,d;P00=2;for(;P00 !== 4;){switch(P00){case 2:d=this.f0;void 0 === d[m] && (d[m]=new c.default());d[m].start(l);P00=4;break;}}};f.prototype.stop=function(l,m){var Q00,d;Q00=2;for(;Q00 !== 5;){switch(Q00){case 2:d=this.f0;void 0 !== d[m] && d[m].stop(l);Q00=5;break;}}};M00=4;break;case 4:f.prototype.get=function(){var R00,l,m,d,g,h,k;R00=2;for(;R00 !== 8;){switch(R00){case 2:(l=this.f0,m=Object.keys(l),d=[],g=0);R00=1;break;case 3:g++;R00=1;break;case 5:(h=m[g],k=l[h].get());k && d.push({cdnid:h,avtp:k.Ca,tm:k.vB});R00=3;break;case 1:R00=g < m.length?5:9;break;case 9:return d;break;}}};return f;break;}}function f(){var N00;N00=2;for(;N00 !== 5;){switch(N00){case 2:var c12="1SIY";c12+="bZ";c12+="r";c12+="NJCp";c12+="9";this.f0={};c12;N00=5;break;case 3:this.f0={};"";N00=0;break;N00=5;break;}}}})();b.Hwa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xDa=void 0;c=a(2).__importDefault(a(173));r=(function(){var S00;S00=2;for(;S00 !== 3;){switch(S00){case 4:return f;break;case 2:f.prototype.reset=function(){var U00;U00=2;for(;U00 !== 4;){switch(U00){case 5:this.wV=[0,0];U00=4;break;case 2:this.mW=[0,0];this.Eg=[0,0];U00=5;break;case 7:this.wV=[1,1];U00=9;break;U00=4;break;}}};f.prototype.Qu=function(l,m,d,g){var V00,h,k;V00=2;for(;V00 !== 8;){switch(V00){case 3:V00=(null === (k=g.QG) || void 0 === k?0:k.LYa(l,m,d,this.G6))?9:8;break;case 2:this.Eg[g.type]+=l;V00=5;break;case 4:(this.mW[g.type]+=l,this.e0a.add(l,m,d),this.zpa[g.type].add(l,m,d));V00=3;break;case 5:V00=(null === (h=g.QG) || void 0 === h?0:h.P4())?4:3;break;case 9:this.wV[g.type]+=l;V00=8;break;}}};f.prototype.z3=function(){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:return {bytesRequestedPacingVideo:this.mW[1],bytesRequestedPacingAudio:this.mW[0],bytesPacedVideo:this.wV[1],bytesPacedAudio:this.wV[0],bytestotalVideo:this.Eg[1],bytestotalAudio:this.Eg[0],pacedAvtpVideo:this.zpa[1].get().Ca,pacedAvtpAudio:this.zpa[0].get().Ca,pacedAvtp:this.e0a.get().Ca};break;}}};S00=4;break;}}function f(l){var T00;T00=2;for(;T00 !== 7;){switch(T00){case 2:var k12="1S";k12+="IYb";k12+="ZrN";k12+="JCp9";this.mW=[0,0];this.Eg=[0,0];this.wV=[0,0];k12;this.G6=l.G6;this.zpa=[new c.default(),new c.default()];T00=8;break;case 8:this.e0a=new c.default();T00=7;break;}}}})();b.xDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tAa=void 0;c=a(2).__importDefault(a(173));r=(function(){function f(l){var Y00;Y00=2;for(;Y00 !== 9;){switch(Y00){case 2:var K12="1SIYbZ";K12+="r";K12+="NJ";K12+="C";K12+="p9";this.VN=[0,0];this.dU=[0,0];this.QF=new c.default();K12;this.LIb=l?l:10;Y00=9;break;}}}var X00;X00=2;for(;X00 !== 9;){switch(X00){case 2:f.prototype.reset=function(){var Z00;Z00=2;for(;Z00 !== 4;){switch(Z00){case 2:this.VN=[0,0];this.dU=[0,0];this.QF=new c.default();Z00=4;break;}}};f.prototype.Qu=function(l,m,d){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:this.VN[1] + this.VN[0] <= this.LIb && (this.dU[1]=this.VN[1],this.dU[0]=this.VN[0],this.QF.add(l,m,d));a10=1;break;}}};f.prototype.uEb=function(l){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:++this.VN[l];b10=1;break;}}};f.prototype.r3=function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return {QF:this.QF.get().Ca,vB:this.QF.get().vB,tWa:this.dU[0],uWa:this.dU[1]};break;}}};return f;break;}}})();b.tAa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v;Object.defineProperties(b,{__esModule:{value:!0}});b.OAa=void 0;c=a(2);f=c.__importStar(a(10));r=a(16);l=c.__importDefault(a(27));m=c.__importDefault(a(808));d=c.__importDefault(a(5));g=a(171);h=a(225);c.__importDefault(a(227));k=c.__importDefault(a(809));a(390);n=a(6);q=a(812);p=a(916);t=new d.default.Console("ASEJS","media|asejs");u=t.trace.bind(t);v=t.warn.bind(t);r=(function(w){var d10;function x(y,A){var e10,z;e10=2;for(;e10 !== 13;){switch(e10){case 5:var v12="DEB";v12+="UG";v12+=":";var F12="n";F12+="f-ase ver";F12+="sion:";z.TC=A;y=a(431);u(F12,y,v12,!1);e10=9;break;case 14:return z;break;case 2:z=w.call(this) || this;z.config=y;e10=5;break;case 9:var L12="1S";L12+="IYbZ";L12+="r";L12+="NJCp9";z.nda=!1;z.ljb=!1;z.wE=[];L12;e10=14;break;}}}d10=2;for(;d10 !== 26;){switch(d10){case 7:Object.defineProperties(x.prototype,{pf:{get:function(){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 4:return this.Cu;break;l10=1;break;case 2:return this.Cu;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{kh:{get:function(){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 2:return this.o_.kh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kla:{get:function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.ljb;break;case 4:return this.ljb;break;n10=1;break;}}},enumerable:!1,configurable:!0}});x.prototype.nb=function(y,A,z,B,D,E){var o10,F,C;o10=2;for(;o10 !== 11;){switch(o10){case 12:this.nda=!0;o10=11;break;case 7:this.o_=h.YH.wUa(C,this.TC);o10=6;break;case 2:(F=this,C=this.config);h.YH.reset();0 < C.ft && (!f.fa(y) && y > C.ft && (y=C.ft),A > C.ft && (A=C.ft));f.fa(y) && (this.iLa=A);this.p0=B;this.eLa=D;m.default(C);o10=7;break;case 6:this.dea=new k.default(C);o10=14;break;case 14:o10=C.e7a || C.tua?13:12;break;case 13:var d12="med";d12+="ia";d12+="ca";d12+="c";d12+="he";var o12="ca";o12+="che";o12+="Evi";o12+="ct";var C12="fl";C12+="ushedBy";C12+="tes";var m12="discarde";m12+="d";m12+="By";m12+="te";m12+="s";var e12="prebu";e12+="f";e12+="fsta";e12+="t";e12+="s";(A=new p.Eza(this,C,z,E),y=function(G){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 2:F.emit(G.type,G);q10=1;break;}}},A.addListener(e12,y),A.addListener(m12,y),A.addListener(C12,y),A.addListener(o12,y),(C.wua || C.vua) && A.addListener(d12,function(G){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 2:var j12="med";j12+="iac";j12+="ac";j12+="h";j12+="e";F.emit(j12,G);r10=1;break;case 4:F.emit("",G);r10=5;break;r10=1;break;}}}),this.Cu=A);o10=12;break;}}};d10=12;break;case 12:x.prototype.HW=function(y,A,z){var s10;s10=2;for(;s10 !== 4;){switch(s10){case 2:this.iLa=y;s10=1;break;case 9:this.iLa=y;s10=2;break;s10=1;break;case 1:this.p0=A || 0;this.eLa=z || 0;s10=4;break;}}};x.prototype.createSession=function(y,A,z,B,D,E,F,C,G,J){var t10;t10=2;for(;t10 !== 4;){switch(t10){case 2:t10=this.nda?1:5;break;case 1:return (C=C || this.config,this.Ib.reset(),this.Lm.sUb(),this.dea.reset(),void 0 === E && (E=this.b3(y,A)),f.fa(this.p0) && (this.p0=d.default.Sn()[l.default.Ra.Fb] <= C.HJb?0:C.fN),y=new q.CGa(this,y,J,A,z,B,D,E,F,C,G),this.wE.push(y),y);break;case 7:v("");t10=8;break;t10=4;break;case 5:var n12="open";n12+=": streamingMana";n12+="ger not ";n12+="initted";v(n12);t10=4;break;}}};x.prototype.BU=function(y,A){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.Cu && (y=this.Cu.BU(y,A))?y:!1;break;}}};x.prototype.Gjb=function(y){var v10,A;v10=2;for(;v10 !== 4;){switch(v10){case 2:var H12="ca";H12+="n't ";H12+="find sess";H12+="ion";H12+=" in array, movieId:";this.Ib.vN(null);A=this.wE.indexOf(y);f.fa(A)?v(H12,y.se.O.K):(this.wE.splice(A,1),0 === this.wE.length && this.Lm.CUb(),this.Lm.save(),this.kh.save());v10=4;break;}}};d10=19;break;case 19:x.prototype.b3=function(y,A,z){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:return g.kUa(y,A,z);break;}}};x.prototype.k1=function(){var x10,y;x10=2;for(;x10 !== 5;){switch(x10){case 2:null === (y=this.Cu) || void 0 === y?void 0:y.flush();x10=5;break;}}};d10=17;break;case 17:x.prototype.bga=function(){var y10,y;y10=2;for(;y10 !== 5;){switch(y10){case 2:null === (y=this.Cu) || void 0 === y?void 0:y.xSa();y10=5;break;}}};x.prototype.Gx=function(){var z10,y;z10=2;for(;z10 !== 5;){switch(z10){case 2:null === (y=this.Cu) || void 0 === y?void 0:y.Iub();z10=5;break;}}};x.prototype.Ab=function(){var A10;A10=2;for(;A10 !== 6;){switch(A10){case 4:delete this.dea;delete this.TC;A10=9;break;case 2:var T12="Attempted to d";T12+="e";T12+="struct Manager before a";T12+="ll Sessions";T12+=" removed";n.assert(0 === this.wE.length,T12);this.nda=!1;delete this.o_;A10=4;break;case 9:this.Gx();delete this.Cu;h.YH.reset();A10=6;break;}}};d10=27;break;case 2:c.__extends(x,w);Object.defineProperties(x.prototype,{Ib:{get:function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 4:return this.o_.Ib;break;f10=1;break;case 2:return this.o_.Ib;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Lm:{get:function(){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:return this.o_.Lm;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Qt:{get:function(){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:return this.dea;break;case 4:return this.dea;break;h10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ez:{get:function(){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:return this.p0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Hma:{get:function(){var j10;j10=2;for(;j10 !== 1;){switch(j10){case 2:return !f.fa(this.iLa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{LC:{get:function(){var k10;k10=2;for(;k10 !== 1;){switch(k10){case 2:return this.eLa;break;case 4:return this.eLa;break;k10=1;break;}}},enumerable:!1,configurable:!0}});d10=7;break;case 27:return x;break;}}})(r.EventEmitter);b.OAa=r;},function(r,b,a){var f,l,m,d;function c(g){var h;h=nrdp.Ej.C8b.match(/android-(\d*)/);h?23 < h[1]?g.rta=!1:(h=nrdp.Ej.L2b.us.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),g.rta=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):g.rta=!1;g.m8=!1;}f=a(6).assert;a(123);l=a(5).default;m=l.pq;d=l.ycb;r.exports=function(){var g,h,k,n;g=new l.Console("ASEJSMONKEY","media|asejs");if(!l.pq.Yb){h=function(q){this.Yhb=q;};k=d.prototype.appendBuffer;l.MediaSource.Yb || (l.MediaSource.Yb={});"undefined" !== typeof nrdp && nrdp.P0 && (c(l.MediaSource.Yb,g),l.MediaSource.Yb.HOa=!1,l.MediaSource.Yb.OZa=!1);l.pq.Yb={pW:{c8a:!0,RP:!0,Jcb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.pkb || this.xgb;},set:function(q){this.xgb=q;}});n=m.prototype.open;m.prototype.open=function(q,p,t,u,v,w,x){1 === t && (this.pkb=new h(this));return n.call(this,q,p,t,u,v,w,x);};m.prototype.bW=function(){this.EJ=void 0;};d.prototype.appendBuffer=function(q){if(q instanceof ArrayBuffer)return k.call(this,q);if(q instanceof h)return this.Q0(q.Yhb);f(!1);};}};},function(r,b,a){var l,m;function c(){this.cx=this.tQ=this.H_=this.V_=this.B_=null;}function f(d){this.I=d;this.WA=[];this.zq=new c();this.JQ();}l=a(10);a(27);a(9);m=a(5).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Ie=function(d){var g;g=!1;d && l.has(d,"ens") && l.has(d,"lns") && l.has(d,"fns") && l.has(d,"d") && l.has(d,"t") && (this.B_=d.ens,this.V_=d.lns,this.H_=d.fns,this.tQ=d.d,this.cx=d.t,g=!0);return g;};c.prototype.getState=function(){var d;if(l.tb(this.B_) || l.tb(this.V_) || l.tb(this.H_) || l.tb(this.tQ) || l.tb(this.cx))return null;d={d:this.tQ,t:this.cx};d.ens=this.B_;d.lns=this.V_;d.fns=this.H_;return d;};c.prototype.get=function(){var d,g;d=this.getState();if(d){g=new Date(this.cx);d.dateint=1E4 * g.getFullYear() + 100 * (g.getMonth() + 1) + g.getDate();d.hour=g.getHours();}return d;};f.prototype.JQ=function(){var d;d=m.storage.get("sth");d && this.Ie(d);};f.prototype.Ie=function(d){var g,h;g=null;h=this.I;d.forEach(function(k){var n;n=new c();n.Ie(k)?(g=!0,this.WA.push(n)):l.tb(g) && (g=!1);},this);this.WA=this.WA.filter(function(k){return k.tQ >= h.T5;});this.WA.sort(function(k,n){return k.cx - n.cx;});return l.tb(g)?!0:g;};f.prototype.fda=function(){var d;d=[];this.WA.forEach(function(g){d.push(g.getState());},this);return d;};f.prototype.save=function(){var d,g,h;d=this.fda();g=this.I;h=this.zq.getState();h && h.d >= g.T5 && (d.push(h),this.WA.push(this.zq));d.length > g.x5 && (d=d.slice(d.length - g.x5,d.length));this.zq=new c();d && m.storage.set("sth",d);};f.prototype.reset=function(){this.zq=new c();};f.prototype.Uzb=function(){return this.zq.get();};f.prototype.gCb=function(){return this.WA.length + 1;};f.prototype.flb=function(d){this.zq.B_=d;this.zq.cx=m.time.ba();};f.prototype.olb=function(d){this.zq.V_=d;this.zq.cx=m.time.ba();};f.prototype.ilb=function(d,g){this.zq.H_=d;this.zq.cx=m.time.ba();this.zq.tQ=g;};r.exports=f;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=void 0;r=(function(){function a(c,f,l){this.tkb=f;this.Sfb=l;this.H=c;}a.prototype.lqa=function(c){c=this.MEb(c,this.tkb) + this.Sfb;return this.Uda=isNaN(c)?NaN:this.Ksa(c);};a.prototype.Dpb=function(c){return isNaN(this.Uda)?0:this.Uda > c?1:0;};a.prototype.MEb=function(c,f){var l;l=0;if(c.length !== f.length)l=NaN;else for(var m=0;m < c.length;m++){l+=c[m] * f[m];}return l;};a.prototype.Ksa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.wBa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GP=void 0;r=(function(){function a(c){this.tj={};this.Dda=c;this.Nf=[];this.Eq=!1;this.xE=void 0;}a.prototype.J0=function(c){this.Nf.length === this.Dda && this.Nf.shift();Array.isArray(c)?this.Nf=this.Nf.concat(c):this.Nf.push(c);this.Eq=!0;};a.prototype.qL=function(){return this.Nf.length;};a.prototype.cga=function(){var c;c=this.Nf;return 0 < c.length?c.reduce(function(f,l){return f + l;},0) / this.Nf.length:void 0;};a.prototype.p1=function(){var c,f;c=this.Nf;f=this.cga();if(0 < c.length && "undefined" !== typeof f)return (c=c.reduce(function(l,m){return l + m * m;},0) / c.length,Math.sqrt(c - f * f));};a.prototype.ns=function(c){var f,l,m;if(this.Eq || void 0 === this.xE)(this.xE=this.Nf.slice(0).sort(function(d,g){return d - g;}),this.Eq=!1);if(void 0 === this.tj[c]){f=this.xE;l=Math.floor(c / 100 * (f.length - 1) + 1) - 1;m=(c / 100 * (f.length - 1) + 1) % 1;this.tj[c]=l === f.length - 1?f[l]:f[l] + m * (f[l + 1] - f[l]);}return this.tj[c];};return a;})();b.GP=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I;Object.defineProperties(b,{__esModule:{value:!0}});b.CGa=void 0;r=a(2);c=a(16);f=r.__importStar(a(10));l=a(144);m=a(813);d=a(171);g=a(15);h=a(220);k=a(242);n=a(243);q=a(858);p=a(859);t=r.__importDefault(a(5));u=t.default.MediaSource;v=a(9);w=a(6);x=a(172);y=a(408);A=a(861);z=a(862);B=a(409);r=a(43);D=a(863);E=a(864);F=a(410);C=a(899);G=a(422);J=a(906);K=a(427);H=a(912);L=a(913);R=a(914);I=a(915);a=(function(){var B10;function Q(N,M,P,S,ea,qa,wa,ua,X,sa,O){var C10,ma,Wa,T,ja,Qa;C10=2;for(;C10 !== 74;){switch(C10){case 22:this.vJ=qa.CU;this.j0=void 0;this.T=new z.mva(X);this.YA=ea || 0;C10=33;break;case 7:this.Hb=this.H.warn.bind(this.H);this.rm=this.H.trace.bind(this.H);ma=new I.WCa(this,this.H);this.ub=ma;C10=12;break;case 55:C10=this.Sq?77:75;break;case 39:var a12="managerdeb";a12+="uge";a12+="ve";a12+="nt";this.Zh.on(this.$b.pf,a12,function(Xa){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:v.Ua(T,Xa.type,Xa);D10=1;break;case 4:v.Ua(T,Xa.type,Xa);D10=8;break;D10=1;break;}}});C10=38;break;case 43:this.Xm=new H.tGa(this,this.H,this.Zb.bind(this),ma);this.Pf=new L.Qxa(this,this.H,this.Zb.bind(this));C10=41;break;case 60:this.$f.fua(this.I);C10=59;break;case 76:this.T.addListener(function(Xa){var F10,G10;F10=2;for(;F10 !== 1;){switch(F10){case 2:try{G10=2;for(;G10 !== 1;){switch(G10){case 2:Wa.qb.tXb.bind(Wa.qb)(Xa);G10=1;break;}}}catch(db){var r12="Hind";r12+="sight: Error when addin";r12+="g ";r12+="updatePlaySegment Listener: ";a000.W62(1);Wa.ub.Mm(a000.x62(r12,db));}F10=1;break;}}});C10=75;break;case 49:ea=null;sa.TS && (ea=this.$b.Qt.WA);x.qw.instance().reset();C10=46;break;case 4:var D12="me";D12+="dia";D12+="|asejs";var Z12="A";Z12+="S";Z12+="E";Z12+="J";Z12+="S";var N12="1SIYbZ";N12+="rNJC";N12+="p9";this.RB={Du:[Object.create(null),Object.create(null)]};N12;this.H=new t.default.Console(Z12,D12,"(" + wa.sessionId + ")");this.$j=this.H.error.bind(this.H);C10=7;break;case 40:C10=sa.Gh && this.$b.pf?39:38;break;case 41:this.FS=new A.Pxa(this,this.H,ma);C10=40;break;case 38:C10=(sa.wua || sa.vua) && this.$b.pf?37:36;break;case 75:O && this.qb.Wp(O,Fa.$);C10=74;break;case 62:sa=sa.FDb;for(var Fa in sa){P=sa[Fa];sa.hasOwnProperty(Fa) && P && (this.I[Fa]=P);}C10=60;break;case 33:this.wJ=0;this.qca=ua;this.v0=!1;this.CQ=void 0;this.T_=-1;this.Wda=0;this.Zh=new c.xh();C10=43;break;case 37:var V12="med";V12+="iac";V12+="ache";this.Zh.on(this.$b.pf,V12,function(Xa){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:var I12="me";I12+="di";I12+="acac";I12+="he";v.Ua(T,I12,Xa);E10=1;break;}}});C10=36;break;case 36:ja && sa.KK && !sa.Xvb && (sa.set?sa.set({enableAdaptiveParallelStreaming:!1}):sa.KK=!1);0 === Math.floor(1E6 * Math.random()) % sa.WJ && (this.Ojb=new q.WFa(sa));this.Hu=[];this.rg=[];this.C3a=new k.gaa(M,this.$b.Ib,this.$b.kh,this.I,void 0);N=this.C3a.oCb();C10=49;break;case 59:Fa=M.O;this.Ia=new G.Z9(this,this.ub,this.H,this.hea.bind(this),Fa,this.YA,this.I,this.Pf,this.T,this.qT.bind(this));sa={CU:this.CU,qr:this.qr,bm:this.bm,KM:this.KM};this.qb=new K.UGa(this.H,this.$f,this.I,this.Zb.bind(this),this.T,sa,this.$b.Ib,this.ub,this.Pf,this.Ia,Qa);C10=55;break;case 77:Wa=this;C10=76;break;case 63:C10=sa.wia && this.$f.L4?62:59;break;case 2:T=this;this.Sw=new B.QFa();C10=5;break;case 18:this.ii=new R.VAa(this,this.H,this.Zb.bind(this),Qa);this.rkb=[!qa.XC,!qa.GR];this.Zb(0) && this.Zb(1);C10=15;break;case 46:M=m.saa.create({Gb:0,sa:M,ko:P,q3a:S,Ng:! !qa.Ng,SWa:!1,Hi:! !qa.Hi,Fd:h.J5(! !qa.GR,! !qa.XC),X:0,Ea:qa.Ea,ub:this.ub,Wq:this.EJa.bind(this),Ob:this,config:this.I,H:this.H,Pf:this.Pf,Xm:this.Xm,pf:this.wLa?this.$b.pf:void 0,RB:this.RB});M.zR=!0;this.ud=[M];this.$f=new J.ava(this,this.H,N,this.$b.Ib,sa,this.WL(),ea,this.Zb.bind(this),Qa);C10=63;break;case 15:this.$b=N;this.tl=wa;this.I=sa=this.jPa.Ifb(M,sa);this.c0=qa.KM;this.wLa=! !qa.e7a;this.Ekb=! !qa.tua;C10=22;break;case 12:var x12="b";x12+="ran";x12+="chin";x12+="g";this.jPa=new y.Xwa(this.H);(ja=!(!M || !M.choiceMap || x12 !== M.choiceMap.type),Qa=ja?{PS:!1,Sq:!1}:p.TTa(sa));this.PS=Qa.PS;this.Sq=Qa.Sq;this.Vv=sa.Vv;C10=18;break;case 5:this.JIa=[];C10=4;break;}}}B10=2;for(;B10 !== 91;){switch(B10){case 48:Q.prototype.V3=function(){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 2:return this.T.Yn(this.se.O);break;}}};Q.prototype.TIa=function(N){var b30,S,M,P;b30=2;for(;b30 !== 11;){switch(b30){case 2:b30=N >= this.ud.length?1:5;break;case 3:S=!P || P.wh;P=this.ud[N].O;b30=8;break;case 5:(M=this.Ia.Ec.Ed(0),P=this.Ia.Ec.Ed(1));M=!M || M.wh;b30=3;break;case 1:return !1;break;case 8:b30=!(N === this.wJ + 1 && P.bf.replace || M && S) || !this.T.Yn(P)?7:6;break;case 7:return !1;break;case 6:N=P.Qg[0];M=P.Qg[1];M=!this.bm || M && M.stream.Ee;return (!this.Hq || N && N.stream.Ee) && M?!0:!1;break;}}};Q.prototype.D0=function(){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:this.C0(this.wJ + 1);c30=1;break;}}};Q.prototype.C0=function(N){var d30,M;d30=2;for(;d30 !== 6;){switch(d30){case 1:return !1;break;case 2:d30=!this.TIa(N)?1:5;break;case 4:d30=M.qxb || !M.O.bf.replace?3:9;break;case 9:this.skb(N);this.Pf.uj();return !0;break;case 5:M=this.ud[N];d30=4;break;case 3:return !1;break;}}};Q.prototype.skb=function(N){var e30,M,P,S,ea,qa,wa;e30=2;for(;e30 !== 20;){switch(e30){case 2:(M=this.ud[N],P=this.I,S=this.Ia.Ec,ea=S.Sa(0));ea=ea?ea.tc:void 0;e30=5;break;case 5:var W12=",";W12+=" ";var q12=", streamingP";q12+="ts";q12+=": ";var J12="switc";J12+="hManifes";J12+="t manifestIndex: ";qa=S.Sa(1);qa=qa?qa.tc:void 0;P.Gh && this.ub.Sl(J12 + N + q12 + ea + W12 + qa);P=this.se;ea=P.O.bf.Ng;wa=[];e30=6;break;case 6:[1,0].forEach(function(ua){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:M.O.Zb(ua) && (wa[ua]=M.wp(ua));f30=1;break;}}});ea?this.Ia.GQb(P.O,M.O,wa):S.d4a(M.O,wa);this.bKa(N);M.Poa();this.Xm.Xca();this.Pf.uj();e30=20;break;}}};Q.prototype.C_a=function(){var g30,P,S,N,M;g30=2;for(;g30 !== 6;){switch(g30){case 7:var i12="onAudioTrackSwitchSta";i12+="rted ignored, no audio";i12+=" pipeline";this.Hb(i12);g30=6;break;case 5:var S12="onAudio";S12+="TrackSwitchStarted but current ";S12+="playi";S12+="ng request ";S12+="not found";(P=this.T.Ce(),S=this.qb.tf[M.mediaType]);(N=this.Ia.Gs(P,N,0))?M=N.Oa:(this.Hb(S12),M=M.Oa);this.tjb(M);S.gO=!1;this.Pf.uj();g30=6;break;case 1:g30=M?5:7;break;case 2:(N=this.Ia.Ec,M=N.Sa(0));g30=1;break;}}};Q.prototype.r8=function(N){var h30,qa,ea,P,S,M;h30=2;for(;h30 !== 35;){switch(h30){case 6:h30=P.gO?14:13;break;case 25:var p12=" ";p12+="to";p12+=": ";var z12="switchTrack";z12+="s";z12+=" c";z12+="urren";z12+="t: ";M.Gh && this.ub.Sl(z12 + qa + p12 + ea.trackId);P.h6={trackId:N};M=S.Sa(0);h30=22;break;case 26:return !1;break;case 10:h30=ea < M.O5?20:19;break;case 16:var R12="switchTrac";R12+="ks can't fin";R12+="d ";R12+="trackId";R12+=":";return (this.Hb(R12,N),!1);break;case 17:h30=!ea?16:15;break;case 14:var s12="s";s12+="witchTracks rejected, previous switch still waitin";s12+="g to";s12+=" start";return (this.Hb(s12),!1);break;case 19:N=N.cp;ea=this.se.O.getTrackById(N);h30=17;break;case 5:var U12="switchTr";U12+="acks rejected, ";U12+="audio d";U12+="isabled";return (this.Hb(U12),!1);break;case 3:var f12="switchTrac";f12+="ks reject";f12+="ed, previous swit";f12+="ch still in p";f12+="rogress: ";return (this.Hb(f12 + JSON.stringify(this.qb.zx)),!1);break;case 12:h30=this.T.getState() === g.ka.Hc?11:19;break;case 15:qa=this.se.wp(0).trackId;h30=27;break;case 8:var G12="switchT";G12+="racks reject";G12+="ed, buffering";return (this.Hb(G12),!1);break;case 11:ea=this.Ia.Wu(S,1);h30=10;break;case 22:this.kkb(M);return !0;break;case 7:P=this.qb.tf[0];h30=6;break;case 1:h30=!this.Hq?5:4;break;case 20:var O12="switchTracks rejec";O12+="ted, bu";O12+="fferLevelMs";return (this.Hb(O12,ea,"<",M.O5),!1);break;case 13:S=this.Ia.Ec;h30=12;break;case 9:h30=this.T.Sf()?8:7;break;case 27:h30=qa === ea.trackId?26:25;break;case 4:h30=this.qb.zx?3:9;break;case 2:M=this.I;h30=1;break;}}};Q.prototype.Wp=function(N,M){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:this.qb.Wp(N,M);i30=1;break;}}};Q.prototype.Gs=function(N,M,P){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:return this.Ia.Gs(N,this.Ia.Mh,M,P);break;}}};Q.prototype.ci=function(N){var k30;k30=2;for(;k30 !== 1;){switch(k30){case 2:return this.Xm.ci(N);break;}}};B10=59;break;case 32:Q.prototype.Wpa=function(){};Q.prototype.close=function(){var w20;w20=2;for(;w20 !== 4;){switch(w20){case 2:this.C3a.Ab();this.ud.forEach(function(N){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:N.close();x20=1;break;}}});this.ii.close();w20=4;break;}}};Q.prototype.q2a=function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:this.$b.Gjb(this);y20=1;break;case 4:this.$b.Gjb(this);y20=9;break;y20=1;break;}}};Q.prototype.Lc=function(){var z20,N;z20=2;for(;z20 !== 20;){switch(z20){case 7:this.T.Ie(g.ka.zi);z20=6;break;case 3:this.FS.Bgb();null === (N=this.Uw) || void 0 === N?void 0:N.reset();this.Hu.forEach(function(M){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:M.reset();A20=1;break;case 4:M.reset();A20=9;break;A20=1;break;}}});z20=7;break;case 2:this.$f.nLb();this.l_();this.Ia.Ab();z20=3;break;case 6:this.ud.forEach(function(M){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:M.Lc();B20=1;break;}}});this.ud=[];this.Zh.clear();z20=12;break;case 12:var b12="Error o";b12+="n Me";b12+="dia";b12+="Source dest";b12+="roy: ";N=this.Bf;this.Bf=void 0;f.fa(N) || N.kp() || this.Hb(b12,N.error);z20=20;break;}}};Q.prototype.suspend=function(){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 4:this.ii.suspend();C20=0;break;C20=1;break;case 2:this.ii.suspend();C20=1;break;}}};Q.prototype.resume=function(){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:this.ii.resume();D20=1;break;}}};Q.prototype.om=function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 4:return this.ii.om();break;E20=1;break;case 2:return this.ii.om();break;}}};Q.prototype.gkb=function(){var F20,N;F20=2;for(;F20 !== 8;){switch(F20){case 2:N=this.I;this.$A && clearTimeout(this.$A);this.$A=setTimeout(this.kR.bind(this),N.S8);F20=4;break;case 4:this.Tw || (this.Tw=setInterval(this.ub.rKa.bind(this.ub),N.dK));this.w0 || (this.w0=setInterval(this.ub.Oib.bind(this.ub),N.mta));this.qr && !this.e_ && (this.e_=setInterval(this.ub.qKa.bind(this.ub),N.T0));F20=8;break;}}};Q.prototype.l_=function(){var G20;G20=2;for(;G20 !== 7;){switch(G20){case 4:this.e_ && (clearInterval(this.e_),this.e_=void 0);this.ZI && (clearTimeout(this.ZI),this.ZI=void 0);this.Rca && (clearTimeout(this.Rca),this.Rca=void 0);this.Pf.l_();G20=7;break;case 2:this.$A && (clearTimeout(this.$A),this.$A=void 0);this.Tw && (clearInterval(this.Tw),this.Tw=void 0);this.w0 && (clearInterval(this.w0),this.w0=void 0);G20=4;break;}}};Q.prototype.play=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 4:this.ii.play();H20=2;break;H20=1;break;case 2:this.ii.play();H20=1;break;}}};B10=39;break;case 27:Q.prototype.lL=function(){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return this.ud.length;break;case 4:return this.ud.length;break;f20=1;break;}}};Q.prototype.mma=function(N,M){var g20;g20=2;for(;g20 !== 9;){switch(g20){case 2:g20=N === M?1:5;break;case 1:return !0;break;case 6:return ~4;break;g20=5;break;case 5:N=this.ud[N];M=this.ud[M];return N.O.bf.Ng && M.O.bf.JU || M.O.bf.Ng && N.O.bf.JU;break;}}};Q.prototype.h3=function(N){var h20;h20=2;for(;h20 !== 5;){switch(h20){case 2:h20=(N=this.Ia.Mh.children[N])?1:5;break;case 1:return {id:N.P.id,Re:N.Re,Zc:N.cqa,Rd:N.Rd,Mc:N.H7,vc:N.vc};break;}}};Q.prototype.Tn=function(){var i20,N;i20=2;for(;i20 !== 5;){switch(i20){case 2:N=this.Ia.Mh;return {id:N.P.id,Re:N.Re,Zc:N.cqa,Rd:N.Rd,Mc:N.H7,vc:N.vc};break;}}};Q.prototype.ZN=function(N,M){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return this.Ia.ZN(N,M);break;}}};Q.prototype.open=function(){var k20,X,ua,M,P,S,ea,qa,wa,sa,N;k20=2;for(;k20 !== 33;){switch(k20){case 22:var u12="s";u12+="tart";u12+="pl";u12+="ay";var E12="logda";E12+="t";E12+="a";M.oub?setTimeout(function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:N.SIa(S).then(sa);r20=1;break;}}},0):this.SIa(S).then(function(){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:setTimeout(sa,0);s20=1;break;}}});P={type:E12,target:u12,fields:{audiogapconfig:M.eM,audiogapdpi:this.Bf.Yb && this.Bf.Yb.eM,aseApiVersion:this.KE}};this.emit(P.type,P);k20=33;break;case 5:var t12="NFEr";t12+="r_MC_S";t12+="treaming";t12+="InitFail";t12+="ure";var w12="sta";w12+="rtPts mu";w12+="st ";w12+="be a positive numbe";w12+="r, not ";this.Po(w12 + this.YA,void 0,t12);k20=33;break;case 12:var X92="createM";X92+="edia";X92+="Sou";X92+="rceStart";this.ub.xl(X92);X=new u(this.T.VE);k20=10;break;case 16:var h92="Er";h92+="r";h92+="o";h92+="r";h92+=":";throw (this.rm(h92,X.error),X.error);k20=15;break;case 14:ua=this.FS.pgb(qa,P);qa.forEach(function(O,T){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:var M92="h";M92+="e";M92+="ad";M92+="er";M92+="s";M92 === O?N.CQ=ua[T]:N.qb.tf[O].jg=ua[T];l20=1;break;}}});k20=12;break;case 1:k20=!f.ya(this.YA) || 0 > this.YA?5:4;break;case 4:var A92="h";A92+="e";A92+="a";A92+="der";A92+="s";(M=this.I,P=this.se.O,S=P.K,ea=[],qa=[A92]);k20=3;break;case 20:var g92="createMe";g92+="diaSourceE";g92+="n";g92+="d";this.ub.xl(g92);X.Yb || (X.Yb=u.Yb);this.Bf=X;k20=17;break;case 10:k20=1 === X.readyState?20:34;break;case 34:var Q92="NFErr_";Q92+="MC_StreamingIn";Q92+="itFailure";var l92="exce";l92+="pti";l92+="on in in";l92+="it";var y92="E";y92+="rro";y92+="r:";(this.rm(y92,X.error),this.Po(l92,void 0,Q92));k20=33;break;case 3:this.bm && (ea.push(1),qa.push(1));this.Hq && (ea.push(0),qa.push(0));k20=8;break;case 8:this.FS.xhb();wa=M.Fq;this.$b.pf && this.$b.pf.$o(wa,this.tl.sessionId);k20=14;break;case 15:X.sourceBuffers.forEach(function(O){var m20,T,ma;m20=2;for(;m20 !== 13;){switch(m20){case 2:(T=O.mediaType,ma=N.qb.tf[T]);O=new n.a$(ma.H,T,X,O,M,!1,N.T,void 0,N.Og.bind(N));ma=new C.JAa(O,T,N.Ia,N.I,ma.H);m20=4;break;case 4:var B92="e";B92+="rro";B92+="r";var P92="re";P92+="questA";P92+="ppe";P92+="nded";var Y92="headerA";Y92+="p";Y92+="pe";Y92+="nded";O.addListener(Y92,N.khb.bind(N));O.addListener(P92,N.nhb.bind(N));O.addListener(B92,function(ja){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:var c92="NFEr";c92+="r_MC_StreamingFa";c92+="ilur";c92+="e";N.Po(ja.errorstr,void 0,c92);n20=1;break;}}});m20=8;break;case 8:var K92="manage";K92+="rde";K92+="bu";K92+="gevent";var k92="log";k92+="dat";k92+="a";O.addListener(k92,function(ja){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 4:v.Ua(N,ja.type,ja);o20=5;break;o20=1;break;case 2:v.Ua(N,ja.type,ja);o20=1;break;}}});M.Gh && O.addListener(K92,function(ja){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 4:v.Ua(N,ja.type,ja);p20=9;break;p20=1;break;case 2:v.Ua(N,ja.type,ja);p20=1;break;}}});N.rg[T]=O;m20=14;break;case 14:N.Hu[T]=ma;m20=13;break;}}});this.Uw=new D.UEa(this.Hu,this.GJ.bind(this),this.T.Ce.bind(this.T));this.qr && this.ub.nib();P=this.gUa();this.ub.tKa(P);sa=function(){var q20;q20=2;for(;q20 !== 5;){switch(q20){case 2:N.ub.Fib();q20=1;break;case 1:var F92="sh";F92+="utdow";F92+="n de";F92+="tected before";F92+=" startRequests";N.om()?N.Hb(F92):N.lkb();q20=5;break;case 3:N.ub.Fib();q20=4;break;q20=1;break;}}};k20=22;break;case 2:N=this;k20=1;break;case 17:k20=!X.K0(ea)?16:15;break;}}};Object.defineProperties(Q.prototype,{KE:{get:function(){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 4:return "";break;t20=1;break;case 2:var v92="1";v92+=".";v92+="0";return v92;break;}}},enumerable:!1,configurable:!0}});Q.prototype.Gka=function(){};Q.prototype.flush=function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:this.ii.flush();u20=1;break;}}};Q.prototype.paused=function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:this.T.paused();v20=1;break;case 4:this.T.paused();v20=6;break;v20=1;break;}}};B10=32;break;case 39:Q.prototype.stop=function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:this.ii.stop();I20=1;break;}}};Q.prototype.vr=function(N,M){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 4:return this.Xm.vr(N,M);break;J20=1;break;case 2:return this.Xm.vr(N,M);break;}}};Q.prototype.seek=function(N,M){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 4:return this.Xm.seek(N,M);break;K20=1;break;case 2:return this.Xm.seek(N,M);break;}}};Q.prototype.hn=function(N){var L20,qa,M,P,S,ea,O20;L20=2;for(;L20 !== 18;){switch(L20){case 4:var T92="und";T92+="erflo";T92+="w";this.rg.forEach(function(wa){var M20;M20=2;for(;M20 !== 1;){switch(M20){case 2:ea=Math.max(0,Math.min(ea,wa.oka - N));M20=1;break;}}});this.Wda+=1;qa=this.Ia.Ec;h.ff.forEach(function(wa){var N20,sa,O,ua,X;N20=2;for(;N20 !== 6;){switch(N20){case 9:P.Gh && M.ub.Sl(sa);X.Fga();null === (ua=X.Xf) || void 0 === ua?void 0:ua.NQb();N20=6;break;case 4:(sa=M.rg[wa],O=M.Ia.TE(qa,wa));N20=3;break;case 1:N20=X?5:6;break;case 2:X=qa.Ed(wa);N20=1;break;case 5:N20=P.Gh?4:9;break;case 3:var H92=", t";H92+="oAppe";H92+="nd";H92+=": ";var n92=", fr";n92+="agme";n92+="nt";n92+="s:";n92+=" ";var j92=", completeSt";j92+="re";j92+="ami";j92+="ngPts: ";var d92=", streaming";d92+="P";d92+="ts: ";var o92=", ";o92+="par";o92+="ti";o92+="als:";o92+=" ";var C92=", ";C92+="completedB";C92+="ytes: ";var m92=", co";m92+="mpletedM";m92+="s";m92+=": ";var e92=", ";e92+="medi";e92+="aType: ";var L92="un";L92+="de";L92+="rflow: ";sa=L92 + N + e92 + wa + m92 + X.lK + C92 + O + o92 + X.Oa.wC + d92 + X.tc + j92 + X.ss + n92 + JSON.stringify(X.Oa.Y) + H92 + (sa && sa.N7());N20=9;break;}}});this.se.O.Lj();this.emit(T92);this.r0(2);L20=13;break;case 2:var Z92="br";Z92+="anc";Z92+="hOf";Z92+="fset:";var N92="e";N92+="ntry.";N92+="manifes";N92+="tOffset:";var r92="co";r92+="ntent";r92+="Pts:";var a92="underflo";a92+="w: going to";a92+=" BUFFERING at play";a92+="er p";a92+="ts:";(M=this,P=this.I,S=this.ws(this.KV,N));this.Hb(a92,N,r92,S,N92,this.se.wv,Z92,this.Ia.Re);ea=P.Xy;L20=4;break;case 12:L20=this.Sq?11:10;break;case 13:this.Pf.uj();L20=12;break;case 11:try{O20=2;for(;O20 !== 1;){switch(O20){case 2:this.x2(g.ka.$c);O20=1;break;}}}catch(wa){var D92="Hindsight: Error w";D92+="hen evalu";D92+="ating QoE at Buffering: ";a000.W62(1);this.ub.Mm(a000.x62(D92,wa));}L20=10;break;case 10:S=this.$b.Ib.get();L20=20;break;case 20:S=S.confidence?S.Pa.Ca:0;ea > P.txb && S > P.sxb && this.hea();L20=18;break;}}};Q.prototype.bn=function(N){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:return this.Xm.bn(N);break;}}};Q.prototype.ps=function(N,M,P){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:return this.Xm.ps(N,M,P);break;case 4:return this.Xm.ps(N,M,P);break;Q20=1;break;}}};Q.prototype.bKa=function(N){var R20,M;R20=2;for(;R20 !== 3;){switch(R20){case 2:this.wJ=N;M=this.ud[N];this.ub.Cib(N,M);R20=4;break;case 4:this.ub.tKa(M.O.Av);R20=3;break;}}};Q.prototype.QJ=function(N,M){var S20,ea,qa,ua,X,sa,P,S,wa;S20=2;for(;S20 !== 35;){switch(S20){case 5:var V92="addM";V92+="anifest: pipelines already shutdow";V92+="n";this.Hb(V92);S20=35;break;case 4:M || (M={});(ea=this.Ia.Ec.Ed(0),qa=this.Ia.Ec.Ed(1));S20=9;break;case 24:var i92=",";i92+=" ";var W92=") lastS";W92+="t";W92+="reamAppende";W92+="d: (";var q92=",";q92+=" ";var J92=" stre";J92+="amCount";J92+=": ";J92+="(";var x92=" playe";x92+="r";x92+="Sta";x92+="te:";x92+=" ";var I92="addMani";I92+="fe";I92+="st, currentPts: ";M=this.qb.Dv[0].$F;ea=this.qb.Dv[1].$F;S.Gh && this.ub.Sl(I92 + this.T.Ce() + x92 + this.T.getState() + J92 + N.wp(0).Sd.length + q92 + N.wp(1).Sd.length + W92 + M + i92 + ea + ")");this.Hq && f.fa(M) || this.bm && f.fa(ea) || (N.O.dN([N.wp(0),N.wp(1)]),this.D0());S20=35;break;case 9:S20=!M.h6b && (this.Hq && ea.lq || this.bm && qa.lq)?8:7;break;case 1:S20=this.om()?5:4;break;case 11:var z92="vid";z92+="eo";z92+="_tracks";var S92="aud";S92+="io";S92+="_tr";S92+="ack";S92+="s";N=m.saa.create({Gb:ea,sa:N,ko:void 0,q3a:M.XN || [this.se.j3(0),this.se.j3(1)],Ng:!1,SWa:! !M.replace,Hi:! !M.Hi,Fd:h.J5(! !M.GR,! !M.XC),X:qa,Ea:wa,ub:this.ub,Wq:this.EJa.bind(this),Ob:this,config:this.I,H:this.H,Pf:this.Pf,Xm:this.Xm,pf:this.wLa?this.$b.pf:void 0,RB:this.RB});ua=N.O;(M.Bnb || this.JIa) && this.qb.Wp(M.Bnb || this.JIa,ua.$);(X=[S92,z92],sa=this.gUa());S20=18;break;case 27:this.ud[ea]=N;N.UNa();M.replace || this.Ia.xlb(ua,qa,wa);S20=24;break;case 8:var p92="addManifes";p92+="t ignored, pipel";p92+="ines already set E";p92+="OS:";this.Hb(p92,ea.lq,qa.lq);S20=35;break;case 2:(P=this,S=this.I);S20=1;break;case 18:var R92="b";R92+="o";R92+="o";R92+="le";R92+="an";M.replace && X.forEach(function(O,T){var T20,ma,ja;T20=2;for(;T20 !== 3;){switch(T20){case 8:ma=ua.GF(T);T20=4;break;T20=1;break;case 2:ma=ua.GF(T);T20=1;break;case 1:T20=ma?5:3;break;case 5:ja=P.ud[0].O;Object.keys(ma).forEach(function(Qa){var U20,Fa;U20=2;for(;U20 !== 5;){switch(U20){case 2:Fa=ja.pv(T,Qa);Fa && Fa.Ee && (ma[Qa].J1(Fa),Qa=ua.Av,Qa[T] > sa[T] && (sa[T]=Qa[T]));U20=5;break;}}});T20=3;break;}}});X.forEach(function(O,T){var V20,ma;V20=2;for(;V20 !== 5;){switch(V20){case 2:ma=ua.GF(T);ma && Object.keys(ma).forEach(function(ja){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:ma[ja].G6a(t.default.Sn()[T],ua.Hy()?S.TYa:0);W20=1;break;}}});V20=5;break;}}});N.zR=R92 === typeof M.$mb?M.$mb:!0;this.ud[ea] && this.ud[ea].Lc();S20=27;break;case 7:var s92="addManifest in fastplay but not drm ";s92+="ma";s92+="nifest, leaving space f";s92+="or it";M.KM && (this.c0=!0);ea=this.ud.length;M.replace && 1 !== ea?ea=1:this.se.O.bf.Ng && !M.replace && 1 === ea && (this.Hb(s92),ea=this.ud[0].clone(),this.ud.push(ea),ea=this.ud.length);qa=M.X || 0;wa=M.Ea;S20=11;break;}}};Q.prototype.sR=function(N){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:return this.Xm.sR(N);break;}}};Q.prototype.by=function(N){var Y20,ea,qa,M,P,S;Y20=2;for(;Y20 !== 7;){switch(Y20){case 5:var O92=" r";O92+="eadyState";O92+=":";O92+=" ";var G92=" ";G92+="for movieI";G92+="d";G92+=": ";var f92=",";f92+=" ";var U92="drmReady at streami";U92+="ng ";U92+="p";U92+="ts:";U92+=" ";f.fa(M) && (M=!0);(ea=this.Ia.Ec.Ed(0),qa=this.Ia.Ec.Ed(1));S.Gh && this.ub.Sl(U92 + (ea?ea.tc:null) + f92 + (qa?qa.tc:null) + G92 + N + O92 + M);a000.q62(1);this.T.EW(a000.J62(N,""),M);Y20=8;break;case 2:S=this.I;Y20=1;break;case 1:Y20=!this.om()?5:7;break;case 8:var b92="d";b92+="r";b92+="mRea";b92+="dy";M && (this.rg.forEach(function(wa){var Z20;Z20=2;for(;Z20 !== 5;){switch(Z20){case 2:S.P2 && wa.ASa();wa.by();Z20=5;break;}}}),S.g9 && this.cR(),this.se.O.bf.Ng && this.C0(this.Xm.QA?this.Xm.QA.Gb:this.wJ + 1),S.Fq || (null === (P=this.ah) || void 0 === P?0:P.PB()) || this.Sw.cB || this.jR(b92),this.Xm.Xca());Y20=7;break;}}};B10=48;break;case 13:Object.defineProperties(Q.prototype,{Qt:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.$b.Qt;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{qr:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.Ojb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{CU:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.vJ;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{KM:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.c0;break;}}},enumerable:!1,configurable:!0}});Q.prototype.Zb=function(N){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.rkb[N];break;case 4:return this.rkb[N];break;V10=1;break;}}};Q.prototype.qT=function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return t.default.time.ba() - this.wca;break;}}};Q.prototype.gUa=function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return (this.ud || []).reduce(function(N,M){var Y10,P;Y10=2;for(;Y10 !== 4;){switch(Y10){case 2:P=M.O;h.ff.forEach(function(S){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:P.Av[S] > N[S] && (N[S]=P.Av[S]);Z10=1;break;}}});return N;break;}}},[0,0]);break;}}};Q.prototype.WL=function(){var a20,N;a20=2;for(;a20 !== 4;){switch(a20){case 2:N=0;f.forEach(this.se.O.sa.audio_tracks,function(M){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:f.forEach(M.streams,function(P){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:N=Math.max(N,P.bitrate);c20=1;break;}}});b20=1;break;}}});return N;break;}}};Q.prototype.Og=function(N){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.ud[N];break;}}};Q.prototype.KAb=function(){var e20,N;e20=2;for(;e20 !== 5;){switch(e20){case 2:N=this.ud[0];return N.O.bf.Ng?this.ud[1]:N;break;}}};B10=27;break;case 59:Q.prototype.x2=function(N,M){var l30,P,S,m30;l30=2;for(;l30 !== 6;){switch(l30){case 2:P=this.qb;N=P.Yia(N,M);S=this.$f.Gqa;l30=4;break;case 3:l30=M?9:8;break;case 4:N && !N.TJ && S.Mia(N);l30=3;break;case 8:M=S.Fzb();try{m30=2;for(;m30 !== 1;){switch(m30){case 2:this.ub.xib(M);m30=1;break;}}}catch(ea){var u92="]";u92+=" ";u92+="[";var E92="ex";E92+="c";E92+="epti";E92+="on: [";this.H.error(E92 + ea.message + u92 + ea.E8b + "]");}l30=6;break;case 9:P.Cra();l30=6;break;}}};Q.prototype.fga=function(N,M){var n30;n30=2;for(;n30 !== 5;){switch(n30){case 2:a000.W62(4);w.assert(a000.x62(M,0));return this.ud[M].Aob(N);break;}}};Q.prototype.ws=function(N,M){var o30,S,P;o30=2;for(;o30 !== 7;){switch(o30){case 4:S=P.Re;o30=3;break;case 8:(P=this.Ia.Zia(N),0 < P.length && (P=P[0],S=P.Re));o30=3;break;case 5:o30=P?4:8;break;case 1:P=this.Ia.Oxb(M,N);o30=5;break;case 3:f.ya(S) || (S=this.ud[N].wv);a000.W62(0);return a000.x62(S,M);break;case 2:void 0 === N && (N=this.KV);o30=1;break;}}};Q.prototype.pK=function(N,M){var p30,P,S;p30=2;for(;p30 !== 7;){switch(p30){case 2:void 0 === N && (N=this.KV);p30=1;break;case 1:P=this.Ia.Nxb(M,N);p30=5;break;case 5:p30=P?4:8;break;case 4:S=P.Re;p30=3;break;case 8:(P=this.Ia.Zia(N),0 < P.length && (P=P[0],S=P.Re));p30=3;break;case 3:f.ya(S) || (S=this.ud[N].wv);a000.W62(1);return a000.J62(M,S);break;}}};Q.prototype.GJ=function(){var q30,N;q30=2;for(;q30 !== 4;){switch(q30){case 8:q30=N && this.qb.zx?4:7;break;q30=N || this.qb.zx?5:4;break;case 1:q30=N || this.qb.zx?5:4;break;case 2:N=this.T.Sf();q30=1;break;case 5:(N && this.ub.Ida(),this.kR(),this.T.Ie(g.ka.Hc),this.Pf.uj());q30=4;break;}}};Q.prototype.hea=function(){var r30,N,M;r30=2;for(;r30 !== 3;){switch(r30){case 2:(N=this,M=this.T.Sf());this.Ia.Ec.Q7(M,function(P){var s30;s30=2;for(;s30 !== 1;){switch(s30){case 2:return N.rg[P]?N.rg[P].N7():"";break;}}});this.ZI && (clearTimeout(this.ZI),this.ZI=void 0);this.Uw.sIb();r30=3;break;}}};Q.prototype.aLa=function(N){var t30,M,u30;t30=2;for(;t30 !== 7;){switch(t30){case 9:t30=this.Sq && 1 === N.mediaType?8:7;break;case 3:this.qb.Vw();t30=9;break;case 2:N.wh=!0;N.lq=!1;M=this.T.Ce() || 0;N.kK(M);t30=3;break;case 8:try{u30=2;for(;u30 !== 1;){switch(u30){case 2:this.x2(g.ka.vq,{Ea:N.vc});u30=1;break;}}}catch(P){var w92="Hindsight: Error evalu";w92+="ating";w92+=" QoE at endOfStream: ";a000.q62(1);this.ub.Mm(a000.J62(w92,P));}t30=7;break;}}};Q.prototype.Kjb=function(){var v30,N;v30=2;for(;v30 !== 5;){switch(v30){case 2:N=this.$b.Ib;v30=1;break;case 1:N && (N=N.get()) && N.avtp && this.Qt.flb({avtp:N.avtp.Ca});v30=5;break;case 3:N=this.$b.Ib;v30=2;break;v30=1;break;}}};Q.prototype.lkb=function(){var w30,N,M,P;w30=2;for(;w30 !== 4;){switch(w30){case 2:var h02="sta";h02+="rtup, player";h02+="State no longer ";h02+="STARTING:";var X02="fail";X02+="ed to start audi";X02+="o pipeli";X02+="ne";var t92="failed to start";t92+=" video pipe";t92+="line";this.T.Ie(g.ka.$g);(N=this.Ia.Ec,M=N.Ed(0),P=N.Ed(1));this.bm && !this.fLa(P)?this.Hb(t92):this.Hq && !this.fLa(M)?this.Hb(X02):(this.FKa=!0,this.ud[0].O.Z3=!0,M=this.qb.tf[1],P=this.qb.tf[0],(M && 0 < M.yt || P && 0 < P.yt) && this.ub.vib(String(N.O.K),P?P.yt:0,M?M.yt:0,P?P.IV:0,M?M.IV:0),this.T.cXa()?(this.r0(0),this.Hq && (N=this.se.j3(0),M=this.se.wp(0).trackId,this.ub.yib(N,M))):this.Hb(h02,this.T.getState()));w30=4;break;}}};Q.prototype.fLa=function(N){var x30,M,P;x30=2;for(;x30 !== 14;){switch(x30){case 2:(M=N.mediaType,P=this.qb.fCb(N));x30=1;break;case 5:var A02="NFErr_MC_Str";A02+="e";A02+="amingInitFa";A02+="ilure";var M02="startPi";M02+="peline fa";M02+="ile";M02+="d";return (this.om() || this.Po(M02,N.xb.O.Gb,A02),!1);break;case 4:N=N.track.Sd[P];x30=3;break;case 1:x30=f.fa(P)?5:4;break;case 9:return !0;break;case 3:x30=N.nk()?9:8;break;case 8:P=this.se.O;N.O.yPa(N,{offset:0,xB:!P.bf.Ng && !P.Hi && 1 === M,hv:!this.qb.tf[M].gyb});return !0;break;}}};B10=72;break;case 94:Q.prototype.ohb=function(N,M){var B40;B40=2;for(;B40 !== 5;){switch(B40){case 2:M=d.lUa(M);this.qca[N.mediaType]=M;B40=5;break;}}};Object.defineProperties(Q.prototype,{zx:{set:function(N){var C40;C40=2;for(;C40 !== 1;){switch(C40){case 2:this.qb.zx=N;C40=1;break;}}},enumerable:!1,configurable:!0}});return Q;break;case 87:Q.prototype.eea=function(N,M){var c40,P,S,ea;c40=2;for(;c40 !== 9;){switch(c40){case 1:c40=P.Sa(N)?5:9;break;case 6:c40=P.Sa(N)?3:0;break;c40=P.Sa(N)?5:9;break;case 7:P=this.Ia.Ec;c40=7;break;c40=1;break;case 5:var g02="pts";g02+="cha";g02+="nged";(S=this.qb.tf[N],ea=this.qb.Gz[N]);f.fa(S.Gn) && (S.Gn=M,1 === N && this.Hq && (N=this.qb.tf[0],f.fa(N.Gn) && (P=P.Sa(0),P.fH(M)),this.emit(g02,M)));f.fa(ea.VR) && (ea.VR=M);c40=9;break;case 2:P=this.Ia.Ec;c40=1;break;}}};Q.prototype.qVa=function(N){var d40;d40=2;for(;d40 !== 1;){switch(d40){case 2:this.ah && (this.ah.qIb(N),this.iOa());d40=1;break;}}};Q.prototype.Q3=function(N){var e40;e40=2;for(;e40 !== 1;){switch(e40){case 2:this.ah && (this.ah.pIb(N),this.iOa());e40=1;break;}}};Q.prototype.iOa=function(){var f40,N;f40=2;for(;f40 !== 4;){switch(f40){case 9:f40=this.ah?8:6;break;f40=this.ah?1:4;break;case 1:var y02="al";y02+="lCo";y02+="mple";y02+="ted";N=this.I;this.ah.PB() || (this.ah=void 0,N.Fq || this.Sw.cB || this.jR(y02));f40=4;break;case 2:f40=this.ah?1:4;break;}}};Q.prototype.kR=function(){var g40,N,M,P,S,ea,qa,wa,ua;g40=2;for(;g40 !== 7;){switch(g40){case 2:(N=this,M=this.I,P=this.KV,S=this.ud[P],ea=this.Ia.Ec,qa=this.T.Ce() || 0,wa=this.ws(P,qa),ua=M.S8);g40=1;break;case 9:this.$A && clearTimeout(this.$A);this.$A=setTimeout(this.kR.bind(this),ua);g40=7;break;case 1:this.$b.pf && void 0 !== S.tG && S.tG - qa <= M.vZa && this.$b.pf.$o(!0,this.tl.sessionId);this.T.getState() === g.ka.Hc && ([1,0].forEach(function(X){var h40,Fa,ma,ja,Qa,O,T,sa;h40=2;for(;h40 !== 35;){switch(h40){case 27:ja=T.Na;ja != ma.Yma && (ma.Yma=ja,X=N.ud[Qa].O.pv(X,ja),Qa=N.ws(Qa,T.Zc),N.ub.Kib(X,T.Zc,Qa,X.O.Gb));T=T.bitrate;h40=24;break;case 24:f.fa(T) || T == sa.P0a || (sa.P0a=T);h40=23;break;case 20:N.T_=Qa;Fa=0 < Qa?Qa - 1:null;N.ub.Aib(ja,qa,T.Gt,null !== Fa?N.ud[Fa].O.K:null,Fa);h40=17;break;case 15:ma.JGb=T.Gt;h40=27;break;case 16:N.vJ && T.Gt != ma.JGb && N.ub.Pib(T.Gt);h40=15;break;case 11:h40=!N.bm || 1 === X?10:15;break;case 10:h40=(N.Ia.LKb(T,T.Gt),Qa > N.T_)?20:16;break;case 12:O=T.Oa;h40=11;break;case 6:O=T.Rd - qa;O < ua && (ua=O);(ma=N.qb.Dv[X],ja=T.O,Qa=ja.Gb);h40=12;break;case 5:h40=sa?4:35;break;case 17:wa=N.ws(Qa,qa);h40=15;break;case 2:h40=N.Zb(X)?1:35;break;case 4:O=sa.Oa;sa.kK(qa);(T=N.Ia.Gs(qa,ea,X)) && !T.Qe && (T=N.rg[X].zGb);h40=7;break;case 7:h40=T?6:21;break;case 21:var l02="Unable to find req";l02+="uest";l02+=" presenting at play";l02+="erPts:";sa.Hb(l02,qa);h40=23;break;case 23:N.yjb(O,qa);N.Ia.ePb();h40=35;break;case 1:sa=ea.Sa(X);h40=5;break;}}}),this.Ia.Hr(qa,wa));this.Pf.uj();ua=Math.max(ua,1);g40=9;break;}}};Q.prototype.p_=function(N){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:return this.Pf.p_(N);break;}}};Q.prototype.uj=function(){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 2:return this.Pf.uj();break;case 4:return this.Pf.uj();break;j40=1;break;}}};Q.prototype.FE=function(N,M){var k40,S,P;k40=2;for(;k40 !== 13;){switch(k40){case 5:S=N.mediaType;N.abort();N.Lc();k40=9;break;case 2:P=N.Oa;k40=1;break;case 1:k40=P?5:14;break;case 9:N.Zh && N.Zh.clear();P.q7(N);this.rg[S].q7(N);!0 === M && this.Pf.uj();k40=13;break;case 14:var Q02="ab";Q02+="ortRequest with no requestMana";Q02+="gaer:";this.Hb(Q02,N);k40=13;break;}}};Q.prototype.kkb=function(N){var l40,M,P;l40=2;for(;l40 !== 5;){switch(l40){case 2:var Y02="no newA";Y02+="u";Y02+="dioT";Y02+="rack set";(M=N.mediaType,P=this.qb.tf[M]);f.fa(P.h6)?N.Hb(Y02):(this.rg[M].pause(),P.gO=!0,N=this.se.wp(0),P=this.se.O.getTrackById(P.h6.trackId),this.ub.pib(N,P));l40=5;break;}}};Q.prototype.tjb=function(N){var m40,qa,wa,ua,X,M,P,S,ea;m40=2;for(;m40 !== 27;){switch(m40){case 4:this.qb.zx=ea.h6;(qa=this.se,wa=qa.O.getTrackById(this.qb.zx.trackId),ua=wa.WN,X=this.T.Ce() - N.Re);m40=9;break;case 20:P=this.wJ;m40=19;break;case 16:N.e2a(wa,X);m40=15;break;case 19:m40=P < this.ud.length?18:16;break;case 11:this.aea(0,F.OP.GSa,N);this.Ia.K3a(N,!0);m40=20;break;case 15:this.mH(0);m40=27;break;case 8:var P02="a";P02+="udio";P02+="Switch";(this.ah.AQb(function(sa){var n40;n40=2;for(;n40 !== 5;){switch(n40){case 2:n40=0 === sa.mediaType?1:5;break;case 3:n40=2 == sa.mediaType?3:4;break;n40=0 === sa.mediaType?1:5;break;case 1:return (M.FE(sa,!1),!0);break;case 9:return (M.FE(sa,-8),+8);break;n40=5;break;}}}),this.ah.PB() || (this.ah=void 0,S.Fq || this.Sw.cB || this.jR(P02)));m40=7;break;case 2:(M=this,S=this.I);N=N.xb;ea=this.qb.tf[0];m40=4;break;case 7:P=this.$b.b3(qa.O.sa,[ua],0);this.qca[0]=P[0];this.FS.QKa(0,N.O);ea.h6=void 0;this.$f.tN(null);m40=11;break;case 17:++P;m40=19;break;case 18:this.QOb(P,ua,X);m40=17;break;case 9:m40=(null === (P=this.ah) || void 0 === P?0:P.PB())?8:7;break;}}};B10=104;break;case 104:Q.prototype.QOb=function(N,M,P){var o40,S;o40=2;for(;o40 !== 6;){switch(o40){case 7:this.cR(0);o40=6;break;case 2:l.cm.yp(0);N=this.ud[N];N.eua(M);o40=4;break;case 4:o40=N.O.Z3?3:7;break;case 3:N.wp(0).Sd.some(function(ea){var p40;p40=2;for(;p40 !== 4;){switch(p40){case 1:p40=!(S && S.stream && S.stream.Y && P < S.stream.Y.Zi(0))?5:4;break;case 2:S=ea.nk();p40=1;break;case 5:return ! !S;break;}}});o40=8;break;case 8:S?(N.O.Qg[0]=S,N.UV=!1,S.stream.Ee && N.l1()):(N.O.Qg[0]=void 0,N.UV=!1,N.O.dN([N.wp(0)],!0,0));o40=7;break;}}};Q.prototype.yjb=function(N,M){var q40,P;q40=2;for(;q40 !== 4;){switch(q40){case 2:P=this.rg[N.mediaType];N=this.Ia.QV(N.xb,N.mediaType,M,this.$b.Ez || 0,function(S){var r40;r40=2;for(;r40 !== 1;){switch(r40){case 4:P.q7(S);r40=7;break;r40=1;break;case 2:P.q7(S);r40=1;break;}}});f.fa(N) || this.Pf.uj();q40=4;break;}}};Q.prototype.khb=function(N){var s40,M,P,S;s40=2;for(;s40 !== 8;){switch(s40){case 2:(M=N.mediaType,P=N.manifestIndex,S=N.streamId);N=this.Ia.Ec.Sa(M);M=this.ud[P].O.pv(M,S);this.ekb(N,M);s40=3;break;case 3:this.I=this.jPa.Kfb(M.Kg,this.I);this.ud.forEach(function(ea,qa){var t40,wa;t40=2;for(;t40 !== 5;){switch(t40){case 2:wa=ea.O;wa.Z3 || 0 === qa || wa.dN([ea.wp(0),ea.wp(1)]);t40=5;break;}}});s40=8;break;}}};Q.prototype.nhb=function(N){var u40,M,P;u40=2;for(;u40 !== 8;){switch(u40){case 2:M=N.request;N=N.mediaType;P=M.Oa.xb;P.nIb(N);M.N2 && this.ub.uib(M);M.Fp && this.ub.Iib(N,M.O.Gb,P.P);u40=8;break;}}};Q.prototype.ekb=function(N,M){var v40;v40=2;for(;v40 !== 1;){switch(v40){case 2:this.qb.Dv[N.mediaType].$F={id:M.Na,index:M.ng,bitrate:M.bitrate,Pa:M.lb && M.lb.confidence && M.lb.Pa?M.lb.Pa.Ca:0,location:M.location};v40=1;break;}}};Q.prototype.y4=function(N){var w40,M,P,S,ea,qa,wa,ua,X,sa,O;w40=2;for(;w40 !== 11;){switch(w40){case 2:(qa={},wa=this.rg,ua=this.Ia);w40=1;break;case 1:w40=!ua.Ec.Kn?5:12;break;case 5:(X=ua.Ec,sa=X.Ed(0),O=X.Ed(1));qa.vspts=null !== (M=null === O || void 0 === O?void 0:O.tc) && void 0 !== M?M:0;qa.aspts=null !== (P=null === sa || void 0 === sa?void 0:sa.tc) && void 0 !== P?P:0;qa.vbuflbytes=null !== (S=null === O || void 0 === O?void 0:O.hp.ca) && void 0 !== S?S:0;w40=8;break;case 13:N && wa && (N=wa[1],wa=wa[0],qa.atoappend=null === N || void 0 === N?void 0:N.N7(),qa.vtoappend=null === wa || void 0 === wa?void 0:wa.N7());w40=12;break;case 8:qa.abuflbytes=null !== (ea=null === sa || void 0 === sa?void 0:sa.hp.ca) && void 0 !== ea?ea:0;qa.vbuflmsec=ua.Wu(X,1);qa.abuflmsec=ua.Wu(X,0);N && (qa.a=null === sa || void 0 === sa?void 0:sa.Oa.Y.toJSON(),qa.v=null === O || void 0 === O?void 0:O.Oa.Y.toJSON());w40=13;break;case 12:return qa;break;}}};Q.prototype.VUa=function(N){var x40,M,P,S,ea,qa,wa;x40=2;for(;x40 !== 8;){switch(x40){case 2:(M=this.Ia.Ec,P=M.Sa(N));x40=1;break;case 5:(S=this.qb.Dv[N],ea=this.Ia.TE(M,N));S=S.$F?S.$F.bitrate:0;(qa=P.Oa.Cpa,wa=this.Ia.Re);return {type:N,availableMediaBuffer:t.default.Sn()[N] - ea,completeBuffer:M.Ih(N),incompleteBuffer:qa,playbackBitrate:P.P0a,streamingBitrate:S,streamingTime:P.tc + wa,usedMediaBuffer:ea,toappend:P.UYb};break;case 1:x40=P?5:8;break;}}};Q.prototype.SQb=function(){var y40,N;y40=2;for(;y40 !== 5;){switch(y40){case 2:var B02="requestGar";B02+="b";B02+="ageColle";B02+="ction";N={type:B02,time:t.default.time.ba()};v.Ua(this,N.type,N);y40=5;break;}}};Q.prototype.Po=function(N,M,P,S,ea,qa){var z40;z40=2;for(;z40 !== 1;){switch(z40){case 2:var c02="NFErr_MC_Strea";c02+="m";c02+="ingFailure";this.v0 || (f.fa(P) && (P=c02),this.v0=!0,this.ub.Mib(P,N,S,ea,qa,void 0 !== M?M:this.KV));z40=1;break;}}};Q.prototype.EJa=function(){var A40;A40=2;for(;A40 !== 5;){switch(A40){case 2:var k02="Network failures r";k02+="es";k02+="et!";this.Hb(k02);this.Pf.uj();A40=5;break;}}};B10=94;break;case 72:Q.prototype.r0=function(N,M){var y30,P,S,ea,qa,wa;y30=2;for(;y30 !== 19;){switch(y30){case 8:var K02="sta";K02+="rt";K02+="Bufferin";K02+="g";this.se.O.lpa();this.emit(K02);h.ff.forEach(function(ua){var z30;z30=2;for(;z30 !== 5;){switch(z30){case 1:(ua.Ufa=0,ua.seeking=0 === N || 1 === N,ua.Fga());z30=5;break;case 2:z30=(ua=P.Ia.Ec.Ed(ua))?1:5;break;}}});y30=14;break;case 2:(P=this,S=this.I,ea=this.qb.tf[0] || ({}),qa=this.qb.tf[1] || ({}),wa=this.qb.Gz[1] || ({}));(this.qb.Gz[0] || ({})).VR=void 0;wa.VR=void 0;this.T.Ie(2 === N?g.ka.Af:g.ka.$c);this.ub.sib(M);this.Uw.reset();y30=8;break;case 14:this.wca=t.default.time.ba();ea.Sk=qa.Sk=this.wca;0 === N && (!this.bm || 0 < qa.yt) && (!this.Hq || 0 < ea.yt) && this.qb.Vw();y30=11;break;case 11:S.TS && (this.Rca=setTimeout(function(){var A30;A30=2;for(;A30 !== 1;){switch(A30){case 2:P.Kjb();A30=1;break;case 4:P.Kjb();A30=2;break;A30=1;break;}}},S.tia));this.T.Sf() && (this.ZI=setTimeout(function(){var B30;B30=2;for(;B30 !== 1;){switch(B30){case 2:P.qb.Vw();B30=1;break;case 4:P.qb.Vw();B30=7;break;B30=1;break;}}},S.jz));this.Pf.uj();y30=19;break;}}};Q.prototype.jR=function(N){var C30,M;C30=2;for(;C30 !== 3;){switch(C30){case 2:var v02="AdoptingData still ";v02+="h";v02+="as";v02+=" l";v02+="ock:";var F02="w";F02+="ipeHeaderCache";F02+=":";a000.q62(1);N=a000.J62(F02,N);this.Sw.cB && this.$j(v02 + N);M=this.I;M.qG || (M.Gh && this.ub.Sl(N),this.$b.Gx(),this.ah && (this.ah=void 0));C30=3;break;}}};Q.prototype.SIa=function(N){var D30,P,S,ea,qa;D30=2;function M(wa,ua){var E30,X,sa,O,T,ma,ja,Qa;E30=2;for(;E30 !== 10;){switch(E30){case 1:E30=sa?5:11;break;case 2:(X=wa.mediaType,sa=ua[X],O=Promise.resolve(void 0));E30=1;break;case 7:return O;break;case 5:(T=sa.Na,ma=sa.header.stream,ja=P.qb.tf[X],Qa=P.qb.Gz[X]);f.fa(ua.SB) || P.$f.O3a(ua.SB,ua.Wn,ua.Xn);Qa.Ey=ua.Ey;Qa.jv=ua.jv;E30=8;break;case 8:E30=!wa.wYb(T)?7:6;break;case 11:return O;break;case 6:E30=!sa.header?14:13;break;case 14:var L02="ado";L02+="ptPip";L02+="eline no";L02+=" header for stream";L02+="Id:";return (wa.$j(L02,T),O);break;case 13:ua=P.se.O;E30=12;break;case 12:ua.I0(sa.header,!ua.bf.Ng && !ua.Hi && 1 === X,!0) && (void 0 !== wa.AG && wa.fH(wa.AG),O=ua.nk(X,T).stream.Y.Em(wa.tc,void 0,!0),ua=ma.mk(O),ma=ua.X,(ua=ua.gja(wa.tc)) && 0 < ua.pd && (ma=ua.pd),wa.tc !== ma && (wa.wN(ma,O),P.eea(X,ma)),O=P.Cfb(wa,sa.data).then(function(){var F30;F30=2;for(;F30 !== 1;){switch(F30){case 4:return T;break;F30=1;break;case 2:return T;break;}}}),ja.gyb=!0,0 === X && P.$f.tN(sa.header.bitrate));E30=11;break;}}}for(;D30 !== 13;){switch(D30){case 2:var e02="P";e02+="rev";e02+="iously adopted r";e02+="e";e02+="quest list still retained was unexpected";P=this;(null === (S=this.ah) || void 0 === S?0:S.PB()) && this.$j(e02);this.ah=void 0;ea=this.I;D30=3;break;case 3:D30=!this.Ekb || !this.$b.pf?9:8;break;case 9:return (this.$b.bga(),Promise.resolve());break;case 8:var m02="ch";m02+="eckFor";m02+="HcdS";m02+="tart";this.ub.xl(m02);this.ud.forEach(function(wa){var G30;G30=2;for(;G30 !== 1;){switch(G30){case 2:wa.O.K === N && (qa=wa);G30=1;break;}}});return this.$b.pf.VHb(N,qa?qa.O:void 0).then(function(wa){var H30,ua,X;H30=2;for(;H30 !== 8;){switch(H30){case 4:var C02="adop";C02+="t";C02+="H";C02+="cdStart";(ua=P.Ia.Ec.Ed(0),X=P.Ia.Ec.Ed(1));P.ub.xl(C02);return P.Sw.M7a(function(){var I30,sa,O;I30=2;for(;I30 !== 7;){switch(I30){case 8:return Promise.all([sa,O]);break;case 2:var o02="a";o02+="doptH";o02+="c";o02+="dEn";o02+="d";sa=Promise.resolve();P.bm && (sa=M(X,wa));O=Promise.resolve();!P.Hq || ea.JVa && !sa || (O=ea.JVa?sa.then(function(T){var J30;J30=2;for(;J30 !== 1;){switch(J30){case 2:return T?M(ua,wa):Promise.resolve();break;}}}):M(ua,wa));P.HJa=wa;P.ub.xl(o02);I30=8;break;}}});break;case 1:H30=f.fa(wa)?5:4;break;case 2:var d02="checkFor";d02+="Hcd";d02+="End";P.ub.xl(d02);H30=1;break;case 5:var j02="he";j02+="aderCac";j02+="heDat";j02+="a";j02+="NotFound";return (ea.Fq || P.Sw.cB || P.jR(j02),Promise.resolve());break;}}}).then(function(){var K30,wa;K30=2;for(;K30 !== 5;){switch(K30){case 2:var n02="a";n02+="doptedCo";n02+="mpletedReques";n02+="ts";ea.Fq || (null === (wa=P.ah) || void 0 === wa?0:wa.PB()) || P.Sw.cB || !P.T.Yn(P.se.O) || P.jR(n02);K30=5;break;}}}).catch(function(wa){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:var H02="headerCach";H02+="e:lookupDataP";H02+="romise caught error:";P.Hb(H02,wa);L30=1;break;}}});break;}}};Q.prototype.Cfb=function(N,M){var M30,P,S,ea,qa,wa,ua,X;M30=2;for(;M30 !== 9;){switch(M30){case 7:P=this;M30=2;break;M30=1;break;case 2:P=this;M30=1;break;case 14:return Promise.resolve();break;M30=4;break;case 1:M30=0 === M.length?5:4;break;case 4:(S=N.k5,ea=S.P,qa=Math.min(this.ud[0].Ea || Infinity,S.vc || Infinity),wa=N.mediaType,ua=this.qb.tf[wa]);return this.Sw.M7a(function(){var N30,O;function sa(){var O30,T;O30=2;for(;O30 !== 5;){switch(O30){case 2:var a02="adopt";a02+="Data, ";a02+="not adopting ";a02+="fail";a02+="ed mediaRequest:";var T02="adoptData, not ad";T02+="opt";T02+="ing aborted mediaReq";T02+="uest";T02+=":";T=M.shift();7 === T.readyState?N.Hb(T02,T.toString()):6 === T.readyState?(N.Hb(a02,T.toString()),P.FE(T,!1)):N.tc >= T.Mc && N.tc < T.vc && (N.tc < qa || !f.ya(qa))?(O.push(P.Dfb(N,T).then(function(){var P30;P30=2;for(;P30 !== 1;){switch(P30){case 2:T.complete && P.qVa(T);P30=1;break;}}})),N.PSb(T.vc),f.ya(qa) && N.tc >= qa && P.ub.Jda(ea,T.vc),0 === wa && P.$f.tN(T.bitrate),T.complete?(ua.yt+=T.duration,T.BHb && (ua.IV+=T.duration),X=T):(P.ah || (P.ah=new E.Zua(P.H)),P.ah.push(T))):P.FE(T,!1);O30=5;break;}}}N30=2;for(;N30 !== 3;){switch(N30){case 2:O=[];N30=1;break;case 1:N30=0 < M.length?5:4;break;case 4:return Promise.all(O);break;case 6:sa();N30=0;break;N30=1;break;case 5:sa();N30=1;break;}}}).then(function(){var Q30,sa,O;Q30=2;for(;Q30 !== 8;){switch(Q30){case 5:Q30=X || (null === (sa=P.ah) || void 0 === sa?0:sa.PB())?4:8;break;case 2:X && N.rVa(X);Q30=5;break;case 4:sa=P.ud[S.O.Gb];O=N.aja(N.tc);void 0 !== O?(N.io=O,N.Yd=sa.O.Qg[wa].stream.mk(N.io)):N.io=N.qf?N.qf.index + 1:N.io + 1;Q30=8;break;}}});break;case 5:return Promise.resolve();break;}}};Q.prototype.Dfb=function(N,M){var R30,P,S;R30=2;for(;R30 !== 3;){switch(R30){case 2:var Z02=",";Z02+=" ";Z02+="pt";Z02+="s:";Z02+=" ";var N02=", ";N02+="s";N02+="tate: ";var r02="a";r02+="doptMediaRequest:";r02+=" ty";r02+="pe: ";(P=this,S=N.mediaType);this.I.Gh && this.ub.Sl(r02 + S + N02 + M.readyState + Z02 + M.Mc);this.eea(S,M.Mc);R30=4;break;case 4:return N.Oa.Rlb(M).catch(function(ea){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:var D02="Error adopt";D02+="ing r";D02+="eq";D02+="uests";P.$j(D02,ea);S30=1;break;}}});break;}}};Q.prototype.aea=function(N,M,P){var T30,S;T30=2;for(;T30 !== 9;){switch(T30){case 2:S=this;void 0 === M && (M=F.OP.Dfa);(P || this.Ia.Ec).Dra(N,M);this.Uw.reset();(void 0 === N?h.ff:[N]).forEach(function(ea){var U30;U30=2;for(;U30 !== 1;){switch(U30){case 2:S.Zb(ea) && (S.Hu[ea].reset(),S.Ujb(ea),S.$f.BLb(ea));U30=1;break;}}});T30=9;break;}}};Q.prototype.bta=function(){var V30,N;V30=2;for(;V30 !== 5;){switch(V30){case 2:N=this;h.ff.forEach(function(M){var W30,P;W30=2;for(;W30 !== 5;){switch(W30){case 1:null === (P=N.Hu[M]) || void 0 === P?void 0:P.stop();W30=5;break;case 2:W30=1;break;}}});V30=5;break;}}};Q.prototype.mH=function(N){var X30,M;X30=2;for(;X30 !== 4;){switch(X30){case 2:M=this;(void 0 === N?h.ff:[N]).forEach(function(P){var Y30,S;Y30=2;for(;Y30 !== 5;){switch(Y30){case 2:null === (S=M.Hu[P]) || void 0 === S?void 0:S.resume();Y30=5;break;}}});return Promise.resolve();break;}}};Q.prototype.cR=function(N){var Z30,M,P;Z30=2;for(;Z30 !== 3;){switch(Z30){case 2:M=this;N=void 0 === N?h.ff:[N];null === (P=this.Uw) || void 0 === P?void 0:P.reset();N.forEach(function(S){var a40,ea;a40=2;for(;a40 !== 5;){switch(a40){case 2:null === (ea=M.Hu[S]) || void 0 === ea?void 0:ea.resume();a40=5;break;}}});Z30=3;break;}}};Q.prototype.Ujb=function(N){var b40,M;b40=2;for(;b40 !== 3;){switch(b40){case 2:M=this.qb.tf[N];this.qb.Dv[N].Yma=void 0;M.yt=0;M.IV=0;b40=3;break;}}};B10=87;break;case 2:Object.defineProperties(Q.prototype,{addEventListener:{get:function(){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 4:return this.addListener.bind(this);break;H10=1;break;case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{removeEventListener:{get:function(){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 4:return this.removeListener.bind(this);break;I10=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{eJb:{get:function(){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:return this.Bf.Yb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{mediaSourceId:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:return this.Bf?this.Bf.NW:void 0;break;case 4:return this.Bf?this.Bf.NW:!5;break;K10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Hq:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.Zb(0);break;case 4:return this.Zb(9);break;L10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{bm:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.Zb(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{attributes:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 4:return this.qca;break;N10=1;break;case 2:return this.qca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Ag:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 4:return this.Zh;break;O10=1;break;case 2:return this.Zh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{KV:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return 0 <= this.T_?this.T_:0;break;case 4:return 4 < this.T_?this.T_:1;break;P10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{se:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 4:return this.ud[this.wJ];break;Q10=1;break;case 2:return this.ud[this.wJ];break;}}},enumerable:!1,configurable:!0}});B10=13;break;}}})();b.CGa=a;r.wf(c.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.saa=void 0;c=a(16);f=a(9);l=a(229);r=(function(){function m(d,g,h,k,n,q,p,t,u,v,w,x){void 0 === h && (h=0);this.Vd=d;this.n0=g;this.X=h;this.Ea=k;this.d3=n;this.Og=q;this.lL=p;this.config=t;this.H=u;this.ub=v;this.qxb=w;this.Ag=x;this.wv=0;}m.create=function(d){var h,k,n,q,p,t,u,v,w,x,y,A,z,B,D;function g(E){f.Ua(v,E.type,E);}h=d.Gb;k=d.sa;n=d.q3a;q=d.X;p=d.Ea;t=d.Wq;u=d.ub;v=d.Ob;w=d.config;x=d.H;y=d.Pf;A=d.Xm;z=d.pf;B=d.RB;D=new l.Q9(Number(k.movieId),{Gb:h,sa:k,ko:d.ko,gZa:{nma:d.Ng,aXa:! !d.SWa},Hi:d.Hi,Fd:d.Fd,config:w,KVa:{nl:y.uj.bind(y),pf:z,RB:B,Nm:g,G4:function(E){return E === v.Ia.Ec.O;},JT:function(E,F,C,G,J){E=v.qb.tf[E];return !F || C || G || J?v.CQ:E.jg;},GB:function(E){return v.qb.Dv[E];},Og:v.Og.bind(v)},hV:function(E){v.emit("requestComplete",{timestamp:E.af,mediaRequest:E});},a3:function(){return v.$f;},Ib:v.$b.Ib,kh:v.$b.kh,KRa:{Wq:t,qh:function(E,F,C,G,J){v.Po(E,h,F,C,G,J);},Jm:function(){return v.v0;},ML:v.T.Sf.bind(v.T),Nm:g},eN:void 0,kH:{V:v.$b.Ez,ca:v.$b.LC}});w.fy && D.KC({Iv:v.tl.Iv,da:v.tl.da,wB:v.tl.wB,Mm:u.Mm.bind(u)});d=new c.xh();d.addListener(D.QB,"onHeaderFragments",function(E){var F,C,G,J,K;F=E.mediaType;C=E.Na;G=E.stream.Y;J=v.Og(h);if(J){if(D.Qg[F] && E !== D.Qg[F])E.hv && (J=D.Qg[F],E=E.stream,K=J && J.stream,x.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Na + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Na) + ", " + J));else {D.Qg[F]=E;E=v.Ia.Ec;if(0 === h){K=D.Zb(1)?E.Sa(1).tc:E.Sa(0).tc;E.o1(K,D);}J.UV=!1;J.l1();v.D0();}A.Xca();u.Gib(h,F,C,D.K,G);y.uj();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(D.QB,"onHeaderRequestComplete",function(E){var F,C;E.ik?v.D0():E.xB && (x.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),v.by(E.K));F=E.mediaType;C=Object.getOwnPropertyNames(B.Du[F]);v.rg[F].k_a(E.stream,1 === C.length && C[0] === E.Na);y.hJa();v.SQb();});d.addListener(D.QB,"onHeaderFromCache",function(E){var F;F=E.header;E=E.hyb;F.ik && v.D0();E && u.wib(F.K,F.Na);});return new m(D,n,q,p,function(){return v.Ia;},v.Og.bind(v),v.lL.bind(v),w,x,u,!1,d);};Object.defineProperties(m.prototype,{O:{get:function(){return this.Vd;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gb:{get:function(){return this.O.Gb;},enumerable:!1,configurable:!0}});m.prototype.wp=function(d){return this.Vd.jVa(d,this.j3(d));};m.prototype.j3=function(d){return this.n0[d];};m.prototype.close=function(){this.Ag.clear();this.O.close();};m.prototype.Lc=function(){this.Vd.Lc();delete this.Vd;};m.prototype.clone=function(){return new m(this.O,this.n0,this.X,this.Ea,this.d3,this.Og,this.lL,this.config,this.H,this.ub,!0,this.Ag);};m.prototype.eua=function(d){this.H.trace("updateAudioTrack:",this.n0[0],"->",d);this.n0[0]=d;};m.prototype.XTa=function(){return void 0 !== this.tG?this.tG:this.Ea?this.Ea:this.Vd.duration;};m.prototype.Aob=function(d){var g,h;g=this.Vd.Qg[1];if(g && g.stream.Ee){if(this.ky && this.ky[1] && this.ky[1].X <= d && this.ky[1].Ea > d)return this.ky[1].Zc;g=g.stream.Y;d=g.Em(d,void 0,!0);h=void 0;void 0 === h && (h=g.Zi(d));return h;}};m.prototype.l1=function(){var d,g;if(!this.UV && this.BVa()){this.Poa();d=[0,0];if(0 !== this.Gb && !this.Vd.bf.JU && !this.Vd.bf.replace){g=this.Og(this.Gb - 1);g=this.Vd.K === g.Vd.K;d=this.d3().Ec;g=d.o1(this.X,this.O,d,g);d=g.OM;}this.X=d[1];this.OM=d;this.ky=g && g.ky;this.UNa();g=this.Vd.Zb(1)?this.Vd.Qg[1].stream.Y.Ea:this.Vd.Qg[0].stream.Y.Ea;this.ub.Bib(this.Gb,this.wv,this.X,this.tG,g);this.UV=!0;for(g=this.Gb + 1;g < this.lL();++g){d=this.Og(g);d.UV=!1;d.l1();}}};m.prototype.UNa=function(){var d;if(0 === this.Gb || this.Vd.bf.replace)this.wv=0;else {d=this.Og(this.Gb - 1);this.wv=d.wv + d.XTa() - this.X;}};m.prototype.Poa=function(){var d,g,h,k,n,q,p,t;if(this.BVa()){n=this.d3().Ec;q=this.Ea || Infinity;p=this.Vd.Zb(1);t=n.cT(q,this.O);this.tG=p?t[1].Ea:t[0].Ea;n=p?this.Vd.Qg[1].stream.Y.Ea:this.Vd.Qg[0].stream.Y.Ea;p=Math.min(null !== (g=null === (d=t[1]) || void 0 === d?void 0:d.Ea) && void 0 !== g?g:Infinity,null !== (k=null === (h=t[0]) || void 0 === h?void 0:h.Ea) && void 0 !== k?k:Infinity);this.ub.Dib(this.Gb,this.tG,n,p);d=this.d3().Zia(this.Gb);0 < d.length && d.forEach(function(u){u.nXb(t,q);});}};m.prototype.BVa=function(){var d,g,h,k;d=this.Vd.Zb(0);g=this.Vd.Zb(1);h=this.Vd.Qg[0];k=this.Vd.Qg[1];h=h && h.stream.Ee;k=k && k.stream.Ee;return (!d || h) && (!g || k);};return m;})();b.saa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.FGa=void 0;r=a(2);c=a(9);a=r.__importDefault(a(5));f=a.default.pq;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function l(m,d,g){this.Mm=g;this.Mkb=new c.uIa(m);this.da=d.da;this.Vfb=1E3 * d.TIb / d.Pnb;this.hvb=d.wB;this.HMa=!1;}l.prototype.Zu=function(m){var d,g;d={s_xid:this.da,dl:this.hvb?1:0};m.cK && (d.bs=c.t1(Math.floor(m.cK / this.Vfb) + 1,1,5));m.l6 && (d.limit_rate=m.l6);m.vNa && (d.bb_reason=m.vNa);m.U5a && (d.tm=m.U5a);if(m.jS){g=m.jS.P4();if(g || !g && this.HMa)(d.cpr_ss=m.jS.CN,d.cpr_ca=m.jS.mK,d.cpr_rec=m.jS.WM,this.HMa=g);}m.Lfa && (d.br="" + m.Lfa.start + "+" + m.Lfa.size);return this.Qib(d);};l.prototype.isa=function(m,d){var g,h;try{g=new f(void 0,"notification");h=this.Zu({vNa:m});d && h && g.open(d,void 0,2,void 0,void 0,void 0,h);}catch(k){this.Mm("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};l.prototype.Qib=function(m){var d;try{d=this.bkb(m);return this.Mkb.encrypt(d);}catch(g){this.Mm("SideChannel: Error when obfuscating msg. Error: " + g);}};l.prototype.bkb=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return l;})();b.FGa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){var q,p;q=Math.floor(1E3 * k / n);p=1E3 * Math.round(q / 1E3);return new l.S(p,Math.abs(Math.floor(1001 * k / n) - p) > Math.abs(q - p)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.Bva=void 0;f=a(391);l=a(22);m=a(6);d=a(9);g=a(392);h=a(393);r=(function(){function k(n,q,p){this.I=q;this.H=p;this.HA=new d.GGa();this.Z_=0;this.hC=n.hC;this.O=n.O;this.mediaType=n.mediaType;this.WN=n.WN;this.GE=n.GE;1 === this.mediaType && (q=this.hC.streams[0],void 0 !== q.framerate_value && void 0 !== q.framerate_scale && (this.Cda=c(q.framerate_value,q.framerate_scale).Xqa()));this.fb=(this.mJ=this.Cda) && this.mJ.U;this.gda=this.iJa=!1;this.Bla=-Infinity;this.oYa=Infinity;n=k.rgb(this,n.Ng);q=n.maxBitrate;p=n.Sd;this.ST=n.ST;this.maxBitrate=q;this.Sd=p;this.okb=p.reduce(function(t,u){t[u.Na]=u;return t;},{});!1;}k.rgb=function(n,q){var p,t,u,v,w;p=n.I;t=1 === n.mediaType;u=!1;v=0;w=[];n.hC.streams.forEach(function(x,y){var A,z,B;A=x.bitrate;z=!0;if(t){B=-1 === x.content_profile.indexOf("none");z=q && !B || !q && B;u=u || B;}z && A > v && (v=A);x=new h.zva({xv:x,ng:y,track:n,Xs:z},p,n.H);w.push(x);});return {ST:u,maxBitrate:v,Sd:w};};Object.defineProperties(k.prototype,{Doa:{get:function(){return !this.Ee && 0 === this.Z_;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ee:{get:function(){return ! !this.vo && ! !this.HA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pia:{get:function(){return this.iJa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{K:{get:function(){return String(this.O.K);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.hC.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qa:{get:function(){return this.mJ;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jM:{get:function(){return this.iib;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vo:{get:function(){return this.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{DL:{get:function(){return this.HA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cja:{get:function(){return this.qa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bja:{get:function(){return this.qa.Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mja:{get:function(){return this.HA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{IU:{get:function(){return this.Sd.some(function(n){var q;return 1 < ((null === (q=n.zg) || void 0 === q?void 0:q.length) || 0);});},enumerable:!1,configurable:!0}});k.prototype.pv=function(n){return this.GF()[n];};k.prototype.GF=function(){return this.okb;};k.prototype.equals=function(n){return this.K === n.K && this.mediaType === n.mediaType && this.trackId === n.trackId;};k.prototype.x6=function(){this.Z_++;};k.prototype.w6=function(){0 < this.Z_ && this.Z_--;};k.prototype.v6=function(n,q,p,t,u){if(t && void 0 !== t.Bk && (this.Ee || void 0 !== t.gd && t.gd.length)){if((n.Jy && (this.iJa=!0),this.Ee))!this.gda && t.gd && t.gd.length > this.vo.length && (this.Rc=new f.Xba(this.mediaType,this.qa,t,u),this.HA.P2a(),this.Bla=-Infinity,this.gda=!0);else {this.cLa(q);if(p=p || this.Cda)(this.bLa(p || this.Cda),void 0 === this.U && this.dLa(p.U));this.Rc=new f.Xba(this.mediaType,this.qa,t,u);n.Jy && (this.gda=!0);}}else this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};k.prototype.vLb=function(n){void 0 === this.HA.value && this.HA.set(n);};k.prototype.Hqb=function(n){this.Ee || (this.dLa(n.U),this.cLa(n.jM),this.bLa(n.qa),this.Rc=n.vo,n.mja.value?this.HA.set(n.mja.value):this.HA.P2a());};k.prototype.Dm=function(n,q,p,t){m.assert(this.DL);return g.Dm(this.mediaType,n,this.DL,q,p,t);};k.prototype.jy=function(n,q,p){m.assert(this.DL);return g.jy(this.mediaType,n,this.DL,q,p);};k.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};k.prototype.dLa=function(n){this.fb=n;};k.prototype.cLa=function(n){this.iib=n;};k.prototype.bLa=function(n){this.mJ=n;};return k;})();b.Bva=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YGa=b.Qeb=void 0;c=a(2);a(111);f=a(6);r=c.__importDefault(a(5));l=a(401);a=a(391);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}g=(function(h){function k(n,q){q=h.call(this,n.vo,q) || this;q.zE=n;return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{ca:{get:function(){return this.zE.w4a(this.Ig);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.zE.Gd(this.Ig);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Coa:{get:function(){return this.zE.nG && this.zE.nG[this.Ig];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dh:{get:function(){return this.zE.dzb(this.Ig);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wb:{get:function(){return this.zE.fq && this.zE.fq[this.Ig];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uNa:{get:function(){return 8 * this.ca / (1E3 * this.lp / this.U);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Ya,contentEndTicks:this.kb,durationTicks:this.lp,timescale:this.U,startPts:this.X,endPts:this.Ea,duration:this.duration,additionalSAPs:this.Dh};};return k;})(a.DHa);b.Qeb=g;r=(function(){function h(k,n,q,p,t,u){this.AJ=128;this.Rc=k;this.Ae=n.offset;this.So=n.sizes;this.$I=this.jQ=this.Ch=this.pLa=this.jea=void 0;this.hib=q;this.oca=p && p.Gd;this.yLa=t;this.We=Math.min(this.Rc.length,this.So.length);this.Uhb=this.pob();this.vo.Aq.length !== this.So.length && m.error("Mis-matched stream duration (" + this.vo.Aq.length + "," + this.So.length + ") for movie id " + u);this.vo.L0 && !this.oca && m.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Rc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bk:{get:function(){return this.Rc.Bk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bia:{get:function(){return this.Rc.Bia;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{X:{get:function(){return this.Rc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ea:{get:function(){return this.Rc.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vna:{get:function(){return this.Rc.Vna;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zy:{get:function(){return this.Uhb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qa:{get:function(){return this.Rc.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{U:{get:function(){return this.Rc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Eg:{get:function(){return this.pLa || this.yca();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nG:{get:function(){return this.hib;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cMa:{get:function(){return this.oca;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fq:{get:function(){return this.yLa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vo:{get:function(){return this.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AN:{get:function(){return this.jea || this.qgb();},enumerable:!1,configurable:!0}});h.prototype.w4a=function(k){if(this.So)return this.So[k];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Zi=function(k){return this.Rc.Zi(k);};h.prototype.VS=function(k){return this.Rc.Zi(k) + this.Rc.gd(k);};h.prototype.Gd=function(k){var n,q,p;if(this.jQ !== k || void 0 === this.$I){if(0 === k)return this.Ae;if(this.jQ === k - 1 && void 0 !== this.$I)(this.$I+=this.So[this.jQ],++this.jQ);else {n=this.Ch || this.agb();q=Math.floor(k / this.AJ);p=q * this.AJ;for(n=n[q];p < k;++p){n+=this.So[p];}this.jQ=k;this.$I=n;}}return this.$I;};h.prototype.gd=function(k){return this.Rc.gd(k);};h.prototype.get=function(k){return new g(this,k);};h.prototype.dzb=function(k){var n,q,p,t,u;f.assert(0 <= k);n=this.vo.L0;q=this.vo.dMa;p=this.oca;if(!p || !n || !q || k >= n.length)return [];t=[];u=k === n.length - 1?q.length:n[k + 1];for(n=n[k];n < u;++n){t.push({zk:q[n],pd:this.Zi(k) + this.qa.rC(q[n]).V,offset:p[n]});}return t;};h.prototype.jTb=function(k){this.yLa=k;};h.prototype.Em=function(k,n,q){return this.Rc.Em(k,n,q);};h.prototype.J2=function(k,n,q){return this.Rc.J2(k,n,q);};h.prototype.hha=function(k,n){return this.Rc.hha(k,n);};h.prototype.mob=function(k,n,q,p,t){var u,v,w,x,y,A,z,B,D;u=!0;v=0;w=this.Rc.Aq;x=this.So;k=Math.floor(k * this.U / 1E3);y=Math.floor(q * this.U / 1E3);A=0;z=0;B=0;if(this.Rc.cua && this.Rc.bua)for(v=this.Rc.cua;v <= this.Rc.bua;++v){A+=w[v];z+=x[v];}if(z > n)u=!1;else for(;v < this.length && (!t || v < t);){D=x[v];q=w[v];if(z + D > n){for(;1 < v - B && z + D > n && (A - w[B] >= y || z - x[B] > p);){A-=w[B];z-=x[B];++B;}if(A < k || z + D > n){u=!1;this.Rc.cua=B;this.Rc.bua=v;break;}}A+=q;z+=D;++v;}return u;};h.prototype.subarray=function(k,n){f.assert(void 0 === k || 0 <= k && k < this.length);f.assert(void 0 === n || n > k && n <= this.length);return new h(this.Rc.subarray(k,n),{offset:this.Gd(k),sizes:this.So.subarray(k,n)},this.nG && this.nG.subarray(k,n),this.cMa && ({Gd:this.cMa}));};h.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};h.prototype.map=function(k){for(var n=[],q=0;q < this.length;++q){n.push(k(this.get(q),q,this));}return n;};h.prototype.reduce=function(k,n){for(var q=0;q < this.length;++q){n=k(n,this.get(q),q,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace("StreamFragments: " + k + ": [" + n.X + "-" + n.Ea + "] @ " + n.offset + ", " + n.ca + " bytes");}};h.prototype.pob=function(){var k,n,q,p,u;k=0;n=this.Rc.SYa;q=this.Rc.Aq;p=this.So;if(void 0 === n || n >= this.length){for(var t=0;t < this.length;++t){u=p[t] / q[t];u > k && (k=u,n=t);}void 0 === this.Rc.SYa && (this.Rc.SYa=n);}else k=p[n] / q[n];return Math.floor(k * this.U / 125);};h.prototype.yca=function(){for(var k=0,n=0;n < this.length;++n){k+=this.So[n];}return this.pLa=k;};h.prototype.qgb=function(){return this.jea=new l.Nba(this.Rc.Aq,this.So,this.Rc.U);};h.prototype.agb=function(){if(!this.Ch){for(var k=d?new Float64Array(Math.ceil(this.length / this.AJ)):Array(Math.ceil(this.length / this.AJ)),n=this.Ae,q=0;q < k.length;++q){k[q]=n;for(var p=0;p < this.AJ;++p){n+=this.So[q * this.AJ + p];}}this.Ch=k;}return this.Ch;};return h;})();b.YGa=r;r.prototype.O4a=a.vv(r.prototype.Zi);a.vv(r.prototype.VS);a.vv(r.prototype.gd);a.vv(r.prototype.Gd);a.vv(r.prototype.w4a);a.vv(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic();this.Vb=1 === this.version?this.li([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.li([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};l.Nb="mvhd";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="trak";l.La=!0;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.ic();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{QGb:"int16"},{amb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Vb=this.li(m);this.Vb.qWb=! !(this.flags & 1);this.Vb.rWb=! !(this.flags & 2);this.Vb.sWb=! !(this.flags & 4);this.Vb.tWb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Nb="tkhd";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic();this.Vb=this.li(1 === this.version?[{V2:"int64"}]:[{V2:"int32"}]);return !0;};l.Nb="mehd";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Vb=this.li([{ODb:"int32"},{AYb:"int32"}]);return !0;};l.Nb="pasp";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Vb=this.li([{Rnb:"int32"},{maxBitrate:"int32"},{Bfa:"int32"}]);return !0;};l.Nb="btrt";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.kl();this.u.kl();for(this.XE=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.XE.push(this.u.kl());}return !0;};l.Nb="ftyp";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(82);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.Vb=this.li([{YNb:"int32"},{PT:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Vb.PT=f.un(this.Vb.PT);return !0;};m.Nb="hdlr";m.La=!1;return m;})(a(31).mc);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(97);l=a(231);m=a(174);r=a(31);d=a(83);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.ic();this.Ll=this.u.ta();return !0;};h.prototype.Fs=function(k){var n;n=Object.keys(this.Ta);n.length && (n=n[0],this.Ta[n].length && (n=this.Ta[n][0],n instanceof m.default?this.qa=new l.S(n.ny,n.samplerate):n instanceof d.default && (n=n.Ta[f.BD]) && n.length && (n=n[0].Vb,1E3 !== n.Xx && 1001 !== n.Xx || 0 !== n.uG % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.uG + "/" + n.Xx):this.qa=new l.S(n.Xx,n.uG)),this.qa && (k.qa=this.qa)));return !0;};h.prototype.fW=function(k){void 0 !== this.Ta[k] && 0 !== this.Ta[k].length && (this.ja.Fg(this.Ll - 1,this.byteOffset + 12),k=this.Ta[k][0],this.we(k.byteLength,k.byteOffset));};h.Nb="stsd";h.La=!0;return h;})(r.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Gja=this.u.ec(2);this.Nfa=this.u.ec(5);this.Ofa=this.u.ec(3);this.Dea=this.u.ec(3);this.u.ec(1);this.u.ec(5);this.u.ec(5);return !0;};l.Nb="dac3";return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.$oa=this.u.Gc() & 7;this.ota=[];for(var m=0;m < this.$oa;m++){d={Gja:this.u.ec(2),Nfa:this.u.ec(5),Ofa:this.u.ec(5),Dea:this.u.ec(3),SGb:this.u.ec(1),Zoa:this.u.ec(4)};0 < d.Zoa?d.Xob=this.u.ec(9):this.u.ec(1);this.ota.push(d);}return !0;};l.Nb="dec3";return l;})(a(31).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.tW=this.u.kl();f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.tW);"cenc" === this.tW && (this.u.offset-=4,f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.ja.OX("piff"));this.u.ta();return !0;};m.Nb="schm";m.La=!1;return m;})(f.mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.eb();this.H9=this.u.eb();this.u.eb();this.u.eb();this.u.eb();this.OW=this.qE(this.u.eb() & 31);this.qE(this.u.eb());this.mz=this.OW.length?this.OW[0][0]:this.H9;this.VQ=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.mz || 110 === this.mz || 122 === this.mz || 144 === this.mz) && (this.u.eb(),this.u.eb(),this.qE(this.u.eb()));m=this.startOffset + this.length - this.VQ;0 < m && this.we(m,this.VQ);return !0;};l.prototype.qE=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.Gc();d.push(this.u.qz(h));}return d;};l.Nb="avcC";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Fs=function(){var m;m=this.Zk("esds");if(m=m && m.z$.Zk(5))this.ny=m.ny;return !0;};l.Nb="mp4a";l.La=!0;return l;})(a(174).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(233);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.z$=f.OO.WV(this.u);return !0;};m.Nb="esds";m.La=!1;return m;})(a(31).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(97);a=a(31);f=r.BD;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.Vb=this.li([{uG:"int32"},{Xx:"int16"}]);return !0;};m.Nb=f;m.La=!1;return m;})(a.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,g,h,k;this.ic();m=this.li([{CH:"int32"},{wS:"int32"},{Ux:"int32"},{Wx:"int32"},{Vx:"int32"}]);d=m.CH;g=m.wS;h=m.Ux;k=m.Vx;m=m.Wx;this.Vb={trackId:d,iub:g,Tx:h,jub:k,kub:m};this.CH=d;this.wS=g;this.Ux=h;this.Wx=m;this.Vx=k;return !0;};l.Nb="trex";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(835);l=a(237);m=a(147);d=a(231);g=a(31);r=a(396);h=a(397);k=a(399);n=a(148);q=a(230);p=a(97);t=a(400);a=(function(){function u(v,w,x,y,A,z){this.console=v;this.stream=w;this.rh=y;this.Rea=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=z || ({});this.AVa=n.aka();}u.path=function(v,w){return w.reduce(function(x,y){return x && x.Ta[y] && x.Ta[y][0];},v);};u.qka=function(v){return v && v.XE && -1 !== v.XE.indexOf("mcl0")?"mcl0":void 0;};u.cja=function(v,w){var x,y;m.assert("mcl0" === v,"Unsupported McClearen brand");x=w.Y;v=x.gd;w=new d.S(120,1).Yf(x.U).Xb;y=0;for(x=x.Bk;y < v.length && x < w;){x+=v[y++];}return y;};u.prototype.parse=function(v){var w;w=this.Ura();if(!w.done){if(w.$U)return {Tm:!1,bMa:w.$U};this.console.error("Scan error: " + w.error);return {Tm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);v=this.Apa(v);return v.done?this.bha():(this.console.error("Parse error: " + v.error),{Tm:!1,parseError:v.error || "unknown mp4 parse error"});};u.prototype.Cm=function(v){return g.mc.Cm(this,v);};u.prototype.Zk=function(v){return g.mc.Zk(this,v);};u.prototype.Ura=function(){var v,w;v=new t.R$(this.rh,this.Rea?[p.Hw,p.Gw]:[],this.config && this.config.GVb || ["moof",p.xP],this.config && this.config.yV);w=c.__assign(c.__assign({},this.config),{zG:!1});return new k.eD(u.XG,v,this.view,this.console,w).parse();};u.prototype.Apa=function(v){var w,x,y;w=new t.KO(this.view.byteLength);x=Object.create(q.Hp.Ta);this.config && ((this.config.J6 || this.config.H8 || this.config.MC) && f(q.Hp.VG,x),this.config.I8 && f(q.Hp.Pta,x),this.config.H8 && f(q.Hp.oX,x));y=c.__assign(c.__assign({},this.config),{zG:!0});this.ac=new k.eD(x,w,this.view,this.console,y);v=this.ac.parse(v);v.done && (this.Ta=this.ac.Ta);return v;};u.prototype.bha=function(){var v,w,x,y,A,z;v={Tm:!0};w=u.path(this,["moov"]);x=u.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.J6)if(x)(v.qa=x.qa,v.DRb=x.Ta);else return {Tm:!1,parseError:"Missing sample descriptions"};y=u.path(x,["encv","sinf","schi"]);y && (y=u.path(y,["tenc"]) || u.path(y,[p.CP])) && (v.ARa={xqb:y.Li,XF:y.XF,qGb:!1});if(y=u.path(w,["trak","mdia","mdhd"]))v.U=y.U;if(y=u.path(w,["mvex","trex"]))v.Tx=y && y.Vb.Tx;v.Tx && v.U && (v.qa=new d.S(v.Tx,v.U));if(y=u.path(this,["sidx"])){A=u.path(this,[p.Hw]);A=A && A.boa;z=u.path(this,[p.Gw]);z=z && z.Dh;v.Y=y.Y;v.nG=A;v.Dh=z;}if(A=this.Ta.vmaf && this.Ta.vmaf[0])v.fq=A.fq;if(this.config.V2a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.MC && x && 1 < x.Ll && y && (v.zg=this.MC(x,y)),void 0 === v.zg && (w=this.ac.dy?l.concat(this.ac.na()):this.view.buffer,v.zg=[{Od:0,data:w}]));else return {Tm:!1,parseError:"Missing movie box"};v.Tm=!0;v.zV=this.ac.offset;return v;};u.prototype.trim=function(v){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.ac.trim(v);this.view=new DataView(w);};u.prototype.MC=function(v,w){var x,y,A;x=Object.keys(v.Ta);y=x.filter(function(z){return "encv" !== z;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);A=u.qka(x);if(A)return (x=[],this.ac.Eqa(),v.fW("encv"),x.push({Od:0,ik:!1,data:l.concat(this.ac.na())}),this.ac.hqa(),v.fW(y[0]),v=u.cja(A,w),x.push({Od:v,ik:!0,data:l.concat(this.ac.na())}),x);}};u.XG={};return u;})();b.Rr=a;a.XG[p.CD]=r.default;a.XG[p.DD]=h.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(147);l=a(237);m=a(82);r=a(837);d=(function(){function g(h){h?(this.sf=h.sf.slice(),this.Gg=h.Gg.slice(),this.Gd=h.Gd.slice(),this.trim=h.trim):(this.sf=[],this.Gg=[],this.Gd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.sf.length && 0 === this.Gg.length && 0 === this.Gd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(k,n,q){k=g.call(this,k,n,q) || this;k.MS=[];k.bb=new d();return k;}c.__extends(h,g);h.gfa=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.St?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.St?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.St);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{dy:{get:function(){return !this.bb.empty;},enumerable:!0,configurable:!0}});h.prototype.Xz=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.Oua=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:2,St:!1});void 0 === n && (this.offset+=2);};h.prototype.Fg=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:4,St:!1});void 0 === n && (this.offset+=4);};h.prototype.Pua=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:8,St:!1});void 0 === n && (this.offset+=8);};h.prototype.OX=function(k){this.Fg(m.nQ(k));};h.prototype.NH=function(k,n){this.bb.Gd.push({offset:this.offset,Rk:k,value:n});this.offset+=4;};h.prototype.we=function(k,n,q){this.bb.sf.push({offset:n,remove:k,$a:q});};h.prototype.Jt=function(k,n,q,p){this.bb.sf.push({offset:q,remove:k,replace:n,$a:p});};h.prototype.trim=function(k){this.bb.trim=k;};h.prototype.Eqa=function(){this.MS.push(new d(this.bb));};h.prototype.hqa=function(){this.bb=this.MS.pop() || new d();};h.prototype.na=function(){var k,n,q,p,t,u,v;k=this;if(0 === this.bb.sf.length && 0 === this.bb.Gg.length && 0 === this.bb.Gd.length)return [void 0 === this.bb.trim?this.view.buffer:this.view.buffer.slice(0,this.bb.trim)];this.bb.sf.sort(function(w,x){return w.offset - x.offset;});this.bb.Gg.sort(function(w,x){return w.offset - x.offset;});this.Gra();n=this.$ia();q=this.view.buffer.slice(0,n);p=new DataView(q);this.bb.Gg.forEach(h.gfa.bind(void 0,p));this.iua(p);this.gua(p);t=[];u=void 0 !== this.bb.trim?Math.min(this.bb.trim,this.view.byteLength):this.view.byteLength;v=0;this.bb.sf.filter(function(w){return w.offset <= u;}).forEach(function(w){w.offset > v && (t.push(p.buffer.slice(v,w.offset)),w.offset > p.byteLength && p !== k.view && (p=k.view,t.push(p.buffer.slice(n,w.offset))));w.replace && t.push(w.replace);v=w.offset + w.remove;});v < n && t.push(q.slice(v));v < u && t.push(this.view.buffer.slice(Math.max(q.byteLength,v),u));return t;};h.prototype.$ia=function(){var k,n,q;k=[];n=this.bb.Gg[this.bb.Gg.length - 1];q=this.bb.Gd[this.bb.Gd.length - 1];n && k.push(n.offset + n.size);q && k.push(q.offset + 4);this.bb.sf.filter(function(p){return p.$a;}).forEach(function(p){return k.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.bb.trim?Math.min(n,this.bb.trim):n;};h.prototype.Gra=function(){this.bb.sf=this.bb.sf.reduce(function(k,n){var q,p;if(0 === k.length)return (k.push(n),k);q=k[k.length - 1];p=q.offset + q.remove;n.offset >= p?k.push(n):n.offset + n.remove > p && (f.assert(q.$a === n.$a),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?l.concat(q.replace,n.replace):n.replace));return k;},[]);};h.prototype.iua=function(k){var n;n=this;this.bb.Gd.forEach(function(q){var p,t,u,v;p=k;t=q.offset;n.bb.sf.some(function(w){return w.offset <= q.offset && w.replace && w.offset + w.replace.byteLength >= q.offset + 4?(p=new DataView(w.replace),t=q.offset - w.offset,!0):!1;});u=q.Rk + (void 0 !== q.value?q.value:p.getInt32(t));v=n.bb.sf.reduce(function(w,x){return x.offset > q.Rk && x.offset < u?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);p.setInt32(t,u - q.Rk - v);});};h.prototype.gua=function(k){this.bb.sf.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.$a;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - q);n=n.parent;}});};return h;})(r.eca);b.dca=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(148);a(148);f=a(82);r=(function(){function l(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.Km=this.Cx=this.offset=0;}l.prototype.Zja=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.ec=function(m){for(;this.Km < m;){this.Cx=(this.Cx << 8) + this.eb();this.Km+=8;}this.Km-=m;return this.Cx >>> this.Km & (1 << m) - 1;};l.prototype.eb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.Gc=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.ta=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.KG=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.Ipa=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};l.prototype.Hd=function(m,d){m=this.Ipa(m,d);this.offset+=8;return m;};l.prototype.Jpa=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};l.prototype.Rqa=function(){var m;m=this.Jpa(void 0,void 0);this.offset+=8;return m;};l.prototype.kl=function(){return f.un(this.ta());};l.prototype.uz=function(){var d,g,h,k,n,q;function m(p,t){return ("000000" + p.toString(16)).slice(2 * -t);}d=this.ta(!0);g=this.Gc(!0);h=this.Gc(!0);k=this.Gc();n=this.Gc();q=this.ta();return [m(d,4),m(g,2),m(h,2),m(k,2),m(n,2) + m(q,4)].join("-");};l.prototype.Oqa=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.Mqa=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.eb();0 !== g && 0 <= --m;){d.push(g);g=this.eb();}return String.fromCharCode.apply(null,d);};l.prototype.qz=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.ph(this.config.Sz && c.dla || c.Bp,1,m,d,g);};l.prototype.Kqa=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Sz && c.bla || c.uy,2,m,d,g,h);};l.prototype.pz=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Sz && c.cla || c.Os,4,m,d,g,h);};l.prototype.Pqa=function(){for(var m=this.eb(),d=m & 127;m & 128;){m=this.eb();d=d << 7 | m & 127;}return d;};l.prototype.ph=function(m,d,g,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=k || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return l;})();b.eca=r;},function(r,b,a){var l,m,d,g;function c(h,k,n,q){m.call(this,h,k,n,q);}function f(h,k,n){m.call(this,h,k,n,void 0);}l=a(97);m=a(238).qq;d=a(398);g=a(82).nQ;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.eda=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Usa[h]:d.Usa[h];};f.prototype.jra=function(h,k,n){return this.na(h,k,!1,n,void 0);};f.prototype.nra=function(h,k,n){return this.na(h,k,!0,n,void 0);};f.prototype.na=function(h,k,n,q,p){var u,v,w,x,y,A,z,B,D,E,F,C,G,J;function t(K){v=u[K];w=v.uh("traf");if(void 0 === w || void 0 === w.xj)return !1;z=w.uh("tfdt");if(void 0 === z)return !1;x=w.uh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;u=this.Ta.moof;if(!u || 0 === u.length)return !1;if(void 0 !== h){y=h;for(h=0;h < u.length;++h){if(!t(h,this.ac.console.trace))return !1;if(x.Bb > y || n && x.Bb === y)break;y-=x.Bb;}}else if((h=n?u.length - 1:0,!t(h,this.ac.console.trace)))return !1;if(n && h < u.length - 1){A=u[h + 1];this.ac.we(this.Gtb - A.startOffset,A.startOffset);}else !n && 0 < h && this.ac.we(v.startOffset,0);A=w.uh("tfhd");if(void 0 === A)return !1;z=w.uh("tfdt");B=x.Bb;D=w.uh("saiz");E=w.uh("saio");F=w.uh(l.BP);C=w.uh("sbgp");if(!(!D && !E || D && E))return !1;G=w.uh("sdtp");if(this.Ta.mdat && h < this.Ta.mdat.length)J=this.Ta.mdat[h];else if(h !== u.length - 1)return !1;void 0 === y && (y=n?x.Bb:0);if(x.na(w,A,J || this.ac,k,y,w.xj,n))x.dy && (!n && z && z.na(x.Ssa),D && E && (D.na(x.Zp,n),E.na(F?0:D.UG,w.xj,n)),F && F.na(x.Zp,n),G && G.na(x.Zp,B,n),C && C.na(x.Zp,n));else if(!n){if(h === u.length - 1)return !1;this.ac.we(u[h + 1].startOffset - v.startOffset,v.startOffset);}else if(0 === x.Zp)return !1;q && (k=this.eda(this.stream.profile,p)) && x.qra(w,A,J,n,q,k);n=this.ac.na();q=n.reduce(function(K,H){return K + H.byteLength;},0);n={jd:n,length:q,Sm:this.ac.view.byteLength};x.dy && !J && (n.Sp=w.xj + x.Sp,n.mi=x.mi);return n;};r.exports={rq:f,Ty:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(238);f=a(237);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.na=function(d){var g,h,k,n;g=this;if(!this.parse().done)return !1;h=this.Ta.moov;if(!h || 0 === h.length)return !1;k=h[0].Zk("tenc");if(!k)return !1;n=new Uint8Array(k.Li);d.forEach(function(q){for(var p=q.from,t=!0,u=0;u < p.length;u++){if(n[u] !== p[u]){t=!1;break;}}t && g.ac.Jt(q.from.length,q.to,k.XF);});return f.concat(this.ac.na());};return m;})(r.qq);b.oI=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.fm || (b.fm={});r[r.Sb=0]="AUDIO";r[r.Fb=1]="VIDEO";},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Fya=void 0;r=a(2);c=a(16);f=r.__importStar(a(10));l=r.__importDefault(a(5));m=new l.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(27));g=r.__importDefault(a(842));h=l.default.pq;k=h.FY;n={};q={};a=[d.default.Zg.Iw,!1];r=[d.default.Zg.Iw,!0];p=[d.default.Zg.OD,!1];t=[d.default.Zg.OD,!0];u=[d.default.Zg.URL,!0];v=[-1,!1];w=[d.default.Zg.OD,!1];n[k.nZb]=p;n[k.UNKNOWN_ERROR]=p;n[k.F1b]=p;n[k.x$a]=p;n[k.lxa]=p;n[k.J$a]=p;n[k.B$a]=t;n[k.A9a]=t;n[k.swa]=w;n[k.qwa]=w;n[k.B9a]=v;n[k.C9a]=w;n[k.D9a]=w;n[k.x9a]=p;n[k.z9a]=p;n[k.rwa]=a;n[k.y9a]=p;n[k.w9a]=w;n[k.h_b]=t;n[k.Kab]=w;n[k.Aza]=w;n[k.zza]=w;n[k.wza]=w;n[k.xza]=w;n[k.Jab]=u;n[k.M$]=t;n[k.O$]=u;n[k.N$]=r;n[k.Dza]=t;n[k.Mab]=u;n[k.WY]=w;n[k.Bza]=t;n[k.Lab]=t;n[k.E$a]=t;n[k.y$a]=p;n[k.Eeb]=p;n[k.o$a]=p;n[k.p$a]=p;n[k.q$a]=p;n[k.r$a]=p;n[k.s$a]=p;n[k.t$a]=p;n[k.u$a]=p;n[k.v$a]=p;n[k.w$a]=p;n[k.z$a]=p;n[k.A$a]=p;n[k.C$a]=p;n[k.D$a]=p;n[k.F$a]=p;n[k.G$a]=p;n[k.H$a]=p;n[k.I$a]=p;n[k.K$a]=p;n[k.L$a]=p;n[k.Deb]=w;n[k.TIMEOUT]=a;q[k.swa]=!0;q[k.Aza]=!0;q[k.zza]=!0;q[k.xza]=!0;q[k.lxa]=!0;a=(function(){var D40;D40=2;for(;D40 !== 12;){switch(D40){case 2:x.prototype.Ab=function(){var F40;F40=2;for(;F40 !== 1;){switch(F40){case 4:this.Ag.clear();F40=8;break;F40=1;break;case 2:this.Ag.clear();F40=1;break;}}};x.prototype.KC=function(y){var G40;G40=2;for(;G40 !== 1;){switch(G40){case 2:this.Z7=y;G40=1;break;}}};x.prototype.pr=function(y,A,z,B){var H40,D,E,F,C,G,J,K,H,L;H40=2;for(;H40 !== 15;){switch(H40){case 2:var x02=" : criti";x02+="cal error coun";x02+="t = ";var I02=" ";I02+="o";I02+="n";I02+=" ";var V02="F";V02+="a";V02+="ilure ";(D=this,E=h.FY.name,F=z?E[z]:void 0);E={};(C=this.config,G=this.Ol);m.warn(V02 + F + I02 + JSON.stringify(y) + x02 + this.zs);H40=3;break;case 9:var q02="critic";q02+="alNe";q02+="tworkError";var J02="criti";J02+="c";J02+="alNetwor";J02+="kError";J=n[z];this.Ny={KF:A,Mg:z,YRa:F,Ri:B};q[z] && (++this.zs,this.events.emit(J02,{type:q02,Mg:z}));H40=6;break;case 17:return;break;case 3:H40=z && f.isArray(n[z])?9:16;break;case 18:var W02="Invali";W02+="d affected for netwo";W02+="rk failure";m.error(W02);H40=17;break;case 16:var i02="Unmapped failure cod";i02+="e in JSAS";i02+="E error director : ";a000.W62(1);m.error(a000.x62(i02,z));H40=15;break;case 13:K=G.x3a(y.url);H40=12;break;case 12:K && (E[K]=[y.url]);H40=11;break;case 11:(H=J[0],L=J[1]);C.Dt?f.forEach(E,function(R,I){var I40;I40=2;for(;I40 !== 5;){switch(I40){case 2:var S02="err";S02+="o";S02+="r";J === w || J === p?D.tqa.LOb({url:void 0 !== y.url?y.url:R[0],zd:I},{gMa:I,tX:J,KF:A,Mg:z,YRa:F,Ri:B}):R.some(function(Q){var J40;J40=2;for(;J40 !== 5;){switch(J40){case 2:G.pr(H,L,Q);return H === d.default.Zg.OD;break;}}});!D.Z7 || 0 !== A && void 0 !== A || (R=void 0 !== y.url?y.url:R[0]) && D.Z7.isa(S02,R);I40=5;break;}}}):f.forEach(E,function(R,I){var K40;K40=2;for(;K40 !== 5;){switch(K40){case 2:K40=J !== w || D.LQb(I)?1:5;break;case 1:var z02="e";z02+="r";z02+="ro";z02+="r";(R.some(function(Q){var L40;L40=2;for(;L40 !== 5;){switch(L40){case 2:G.pr(H,L,Q);return H === d.default.Zg.OD;break;}}}),!D.Z7 || 0 !== A && void 0 !== A || (R=void 0 !== y.url?y.url:R[0]) && D.Z7.isa(z02,R));K40=5;break;}}});H40=15;break;case 20:H40=void 0 !== y.host && void 0 !== y.port?19:18;break;case 14:H40=void 0 !== y.url?13:20;break;case 6:H40=J !== v?14:15;break;case 19:E=G.pSb(y.host,y.port);H40=11;break;}}};x.prototype.LQb=function(y){var M40,A,z,B;M40=2;for(;M40 !== 7;){switch(M40){case 2:(A=l.default.time.ba(),z=this.config,B=this.Ata[y]);M40=1;break;case 5:M40=B.ao < this.QL?4:3;break;case 1:M40=B?5:8;break;case 9:return B.wz=!0;break;case 4:(B.ao=A,B.count=1);M40=7;break;case 3:M40=!(B.ao >= A - z.t8 || B.wz || (B.ao=A,++B.count,B.count < z.z5))?9:7;break;case 8:this.Ata[y]={ao:A,count:1};M40=7;break;}}};x.prototype.$Cb=function(y){var N40,E,F,C,A,z,B,D;N40=2;for(;N40 !== 7;){switch(N40){case 4:N40=this.Ny?3:9;break;case 3:(E=this.Ny.Mg,F=this.Ny.KF,C=this.Ny.Ri);N40=9;break;case 8:B?(this.gN && (clearTimeout(this.gN),this.gN=void 0),this.BOa(),this.tqa.reset(),this.gDb({JFb:y,gMb:E,hMb:F,iMb:C})):this.gN || (this.gN=setTimeout(function(){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:A.gN=void 0;A.v7();O40=5;break;}}},D.Ioa));N40=7;break;case 9:var R02="t";R02+="emporaryNetworkErr";R02+="or";var p02="temporar";p02+="y";p02+="NetworkErro";p02+="r";y || this.events.emit(p02,{type:R02,errorCode:E,httpCode:F,nativeCode:C});N40=8;break;case 2:var O02=" last suc";O02+="cess w";O02+="a";O02+="s ";var G02="Net";G02+="work ";G02+="has failed";G02+=" ";var f02="tem";f02+="po";f02+="raril";f02+="y";var U02="pe";U02+="r";U02+="mane";U02+="ntly";var s02=" ";s02+="ms";s02+=" ";s02+="ag";s02+="o";(A=this,z=l.default.time.ba() - this.QL,B=y,D=this.config);a000.q62(5);m.warn(a000.x62(s02,y?U02:f02,G02,O02,z));!y && z > D.Hoa && (B=!0);N40=4;break;}}};D40=9;break;case 9:x.prototype.v7=function(){var P40;P40=2;for(;P40 !== 1;){switch(P40){case 2:this.gN || (this.Ol.v7(),this.Ata={},this.Wq());P40=1;break;}}};x.prototype.O8=function(y){var Q40,A;Q40=2;for(;Q40 !== 9;){switch(Q40){case 3:var E02="updat";E02+="ingLas";E02+="tS";E02+="uccessEvent";var b02="updat";b02+="ingLast";b02+="Succe";b02+="ss";b02+="Event";this.events.emit(b02,{type:E02});Q40=9;break;case 2:A=this.config;this.QL=Math.max(y.timestamp || l.default.time.ba(),this.QL);this.BOa();A.Dt && this.tqa.O8(y);Q40=3;break;}}};x.prototype.lpa=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 2:this.zs=0;R40=1;break;case 4:this.zs=5;R40=5;break;R40=1;break;}}};x.prototype.Lj=function(){var S40,y,A,z;S40=2;for(;S40 !== 4;){switch(S40){case 5:var w02="m";w02+="s";var u02="Setting u";u02+="nderflow";u02+=" timeout";u02+=" ";u02+="in ";!A.a7a || this.uX || A.U8 && A.SS && A.tKb || (m.info(u02 + z + w02),this.uX=setTimeout(function(){var T40;T40=2;for(;T40 !== 4;){switch(T40){case 2:var X52="ms,";X52+=" since underflow with";X52+=" n";X52+="o success";var t02="Forcing permanent network failure af";t02+="t";t02+="e";t02+="r ";a000.W62(6);m.info(a000.J62(z,t02,X52));y.uX=void 0;y.Ol.pr(d.default.Zg.Iw,!0);T40=4;break;}}},z));S40=4;break;case 2:(y=this,A=this.config,z=A.u5);this.QL=Math.max(l.default.time.ba(),this.QL);S40=5;break;}}};x.prototype.BOa=function(){var U40;U40=2;for(;U40 !== 1;){switch(U40){case 2:var h52="Clea";h52+="red underflo";h52+="w timeout";this.uX && (clearTimeout(this.uX),this.uX=void 0,m.info(h52));U40=1;break;}}};return x;break;}}function x(y,A,z,B){var E40;E40=2;for(;E40 !== 10;){switch(E40){case 12:this.Ata={};this.tqa=new g.default(y,B,A);E40=10;break;case 2:this.Ol=y;this.config=A;this.gDb=z;this.Wq=B;E40=3;break;case 3:var A52="ne";A52+="tw";A52+="orkFai";A52+="le";A52+="d";var M52="1S";M52+="IY";M52+="bZ";M52+="rNJCp9";this.events=new c.EventEmitter();this.Ag=new c.xh();M52;n[k.wza]=A.VDb?t:w;this.Ag.addListener(this.Ol,A52,this.$Cb.bind(this));this.QL=l.default.time.ba();this.zs=0;E40=12;break;}}}})();b.Fya=a;},function(r,b,a){var f,l,m;function c(d,g,h){this.KQ=d;this.eE=0 === Math.floor(1E6 * Math.random()) % h.IG;this.groupId=1;this.config=h;this.hy={};this.EC={};this.Wq=g;}f=a(10);l=a(5).default;new l.Console("ASEJS_PROBE_MANAGER","asejs");m=a(843).vva;c.prototype.constructor=c;c.prototype.LOb=function(d,g){var h,k,n,q,p,t,u,v,w,x,y;h=this.KQ;k=d.zd;n=h.a5a(d.url);q=h.m5(d.url);p=this.config;t=l.time.ba();u=g;v=[];w=n.bo[0];x=!1;y=this.hy[k];if(!y)y=this.hy[k]={count:0,ao:t,wz:!1,error:g,rsa:[],vqa:{}};else if(y.ao >= t - p.t8)return;y.wz || (w && q.id === w.id && (d.isPrimary=!0),y.ao=t,y.wz=!1,y.error=g,++y.count,n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls,function(A){var z,B,D;z=A.dd.id;B=z + "-" + k;D=this.EC[B];if(void 0 === D || void 0 === D.c7)(D && D.so && clearTimeout(D.so),A=this.EPa(A.url,d,z),this.EC[B]={W:!1,count:0,c7:A.Jh()},v.push(A.Jh()),x=!0);-1 === y.rsa.indexOf(z) && y.rsa.push(z);},this),this.eE && 0 < v.length && (n={type:"logdata",target:"endplay",fields:{}},g=u,u={ts:l.time.ba(),es:g.gMa,fc:g.Mg,fn:g.YRa,nc:g.Ri,pb:v,gid:this.groupId},g.KF && (u.hc=g.KF),n.fields.errpb={type:"array",value:u,adjust:["ts"]},h.Nm(n)),x && this.groupId++));};c.prototype.EPa=function(d,g,h){var k,n,q;k=this.KQ.m5(g.url);k && k.lb && k.lb.Us && k.lb.Us.Ca || Math.random(0,1);k=new m(this);n=d.split("?");q="random=" + parseInt(1E7 * Math.random(),10);k.bMb(1 < n.length?d + "&" + q:d + "?" + q,g,h);return k;};c.prototype.MOb=function(d,g){var h,k,n,q,p,t,u,v;h=this.KQ;k=this.config;n=g.zd;q=this.hy[n];p=d.url;t=this.EC[d.zd + "-" + n];if(q){u=q.error;if(t){t && t.so && clearTimeout(t.so);t.W=!0;t.count=0;t.c7=void 0;q.vqa[d.zd]=!0;(t=this.hy[d.zd]) && !0 === t.wz && k.vx && (h.O2a(d.zd,t.error.tX[1]),this.eE && (t={type:"logdata",target:"endplay",fields:{}},t.fields.errst={type:"array",value:{ts:l.time.ba(),id:d.requestId,servid:g.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Nm(t)),this.hy[d.zd]=void 0,this.Wq());if(p !== g.url){v=this.EC[n + "-" + n];v && v.W || (n=(n=h.m5(p)) && n.lb && n.lb.Us && n.lb.Us.Ca || Math.random(0,1) * k.v5,n=Math.min(n,k.v5),setTimeout((function(){var w;if(!(!1 !== q.wz || v && v.W) && (q.wz=!0,h.pr(u.tX[0],u.tX[1],g.url,u),this.eE)){w={type:"logdata",target:"endplay",fields:{}};w.fields.erep={type:"array",value:{ts:l.time.ba(),id:d.requestId,servid:g.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.Nm(w);}}).bind(this),n));}this.eE && (t={type:"logdata",target:"endplay",fields:{}},t.fields.pbres={type:"array",value:{ts:l.time.ba(),id:d.requestId,result:1,servid:d.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Nm(t));}}};c.prototype.JOb=function(d,g){var h,k,n,q,p,t,u,v,w,x;h=this.KQ;k=parseInt(g.zd,10);n=this.hy[k];q=parseInt(d.zd,10);p=this.EC[q + "-" + k];t=0;u=this.config;if(p && n){p.W=!1;p.c7=void 0;n.vqa[q]=!1;v=n.rsa;if(u.vx && q === k && g.isPrimary){w=h.m5(g.url);w=w && w.lb && w.lb.Us && w.lb.Us.Ca || 300 * Math.random(0,1);w*=Math.pow(2,p.count);w=Math.min(w,12E4);w+=Math.random(0,1) * (1E4 > w?100:1E4);p.so=setTimeout((function(){var y;p.so=void 0;y=this.EPa(d.url,g,q);y.ISb(d.groupId);p.c7=y.Jh();}).bind(this),w);}++p.count;if(q === k && (t=0,v.forEach(function(y){!1 === n.vqa[y] && t++;}),v.length === t && n.count >= u.z5)){x=n.error;n.wz=!0;f.forEach(h.a5a(g.url).urls,function(y){var A;h.pr(x.tX[0],x.tX[1],y.url,x);if(this.eE){A={type:"logdata",target:"endplay",fields:{}};A.fields.erep={type:"array",value:{ts:l.time.ba(),id:-1,servid:y.dd.id},adjust:["ts"]};h.Nm(A);}},this);}this.eE && (k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.ba(),id:d.requestId,result:0,servid:d.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Nm(k));}};c.prototype.O8=function(d){var g,h,k;g=d.url || d.mediaRequest.url;if(g){d=this.KQ;g=d.x3a(g);h=this.hy[g];k=this.EC[g + "-" + g];h && h.wz && this.config.vx && (d.O2a(h.error.gMa,!1),this.eE && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:l.time.ba(),id:-1,servid:g},adjust:["ts"]},d.Nm(h)),this.hy[g]=void 0,k && k.so && clearTimeout(k.so));}};c.prototype.reset=function(){var d,g,h;d=this.EC;for(h in d){d.hasOwnProperty(h) && (g=d[h + "-" + h]) && g.so && clearTimeout(g.so);}this.EC={};this.hy={};};r.exports=c;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vva=void 0;c=a(2);f=a(16);l=c.__importDefault(a(5)).default.su;r=(function(m){function d(g){var h;h=m.call(this) || this;h.KKa=g;h.M_=g.groupId;h.Zh=new f.xh();h.Zh.on(h,l.ze.AP,h.Mda);h.Zh.on(h,l.ze.GD,h.OQ);return h;}c.__extends(d,m);d.prototype.bMb=function(g,h,k){l.prototype.open.call(this,g,h,k);};d.prototype.ISb=function(g){this.M_=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.M_;},enumerable:!1,configurable:!0}});d.prototype.Lc=function(){this.Zh && this.Zh.clear();l.prototype.Lc.call(this);};d.prototype.Mda=function(g){this.KKa.MOb(g.probed,g.affected);this.Lc();};d.prototype.OQ=function(g){this.KKa.JOb(g.probed,g.affected);this.Lc();};return d;})(l);b.vva=r;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Fza=void 0;c=a(2);f=a(144);l=a(402);m=a(15);d=c.__importDefault(a(5));r=a(96);g=a(405);h=a(6);k=a(150);a=(function(n){function q(p,t,u,v,w,x,y,A,z,B,D){var E;E=n.call(this,p) || this;E.Vd=p;E.H=t;E.I=u;E.Nm=v;E.GB=x;E.G4=y;E.Cu=A;E.ZKa=z;E.Og=B;E.TJa=[void 0,void 0];E.yea=[];E.BQ=null !== D && void 0 !== D?D:{Du:[Object.create(null),Object.create(null)]};w?E.JT=w:(E.ug=k.kq.instance.tB("headers","" + E.Vd.$,!0,!1,{},E.I),E.ug.nb());return E;}c.__extends(q,n);Object.defineProperties(q.prototype,{Du:{get:function(){return this.BQ.Du;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{FA:{get:function(){return this.BQ.FA;},set:function(p){this.BQ.FA=p;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fJ:{get:function(){return this.BQ.fJ;},set:function(p){this.BQ.fJ=p;},enumerable:!1,configurable:!0}});q.prototype.Lc=function(){var p;p=this;this.Du.forEach(function(t,u){for(var v in t){t[v].Lc();p.Xha(u,v);}});this.ug && k.kq.instance.xS(this.ug);this.ug=void 0;};q.prototype.nk=function(p,t){return this.Du[p][t];};q.prototype.T3=function(){return !(!this.FA || !this.FA.length);};q.prototype.Hga=function(){this.FA=void 0;};q.prototype.uN=function(p){this.FA=p;};q.prototype.Vta=function(){var p,t;if(!this.T3() || this.fJ)return !1;for(f.cm.yp(1);0 < this.FA.length;){p=this.FA.shift();t=this.Vd.pv(1,p);if(t && !this.oDb(p) && t.Zs)return (this.fJ=p,this.K8(t,{offset:0,EN:!0}));}return !1;};q.prototype.nua=function(p,t){var u;u=this;t.forEach(function(v){var w;w=u.nk(p,v.Na);w && !v.Ee && (w.stream.Ee?v.J1(w.stream):(w.tV || (w.tV=[]),w.tV.push(u.Vd)));});};q.prototype.dN=function(p,t,u){var v,w,x;v=this;x=this.Vd;m.ff.forEach(function(y){var A,z,B,D,E;if(x.Zb(y) && (void 0 === u || y === u)){D=p[y];h.assert(D && x.getTrackById(D.trackId) === D);D=D.Sd;if(x.Gj)v.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.Ol.wX(x.$,D)){E=null !== (B=null === (z=null === (A=v.GB(y)) || void 0 === A?void 0:A.$F) || void 0 === z?void 0:z.bitrate) && void 0 !== B?B:0;A=g.dja(D,E);void 0 === A && v.H.warn("Unable to find stream for bitrate " + E);A=D[A];(z=x.nk(y,A.Na)) && z.stream.Y?x.kXb(y,z):(y={offset:0,EN:!1,xB:1 === y,hv:!0,kM:!v.G4(x)},x.yPa(A,y,t));}else v.H.warn("requestHeadersFromManifest, unable to update urls");}});x.Z3=!0;null === (w=this.Og) || void 0 === w?void 0:w.call(this,x.Gb).l1();};q.prototype.EH=function(p,t){var u,v,w,x;u=this.I;v=this.nk(p.mediaType,p.Na);if(v)return (v.stream.Y || v.EN && this.yOa(v),!1);v=this.Ihb;w=this.Jhb;if(void 0 !== u.woa && void 0 !== v && void 0 !== w){x=d.default.time.ba();if(x - v < u.woa || x - w < u.woa)return !1;}p=this.K8(p,{url:p.url,offset:0},void 0,void 0,t);this.Jhb=d.default.time.ba();return p;};q.prototype.K8=function(p,t,u,v,w){var x,y,A,z,B;z=p.mediaType;f.cm.yp(z);B=p.Na;if(this.dgb(B,! !t.hv))return (null === (x=this.ZKa) || void 0 === x?void 0:x.call(this),!1);if(x=this.nk(z,B))p=!1;else {x=c.__assign(c.__assign({},t),{ca:null !== (y=t.ca) && void 0 !== y?y:this.Ogb(p)});y=! !x.xB;B=! !x.kM;this.JT?w=this.JT(z,! !x.hv,y,B,! !u):w || (w=this.ug);h.assert(w);p.url && (this.GB(z).ana=p.url);x=p=this.VIa(p,w,x);if(!p.zM())return (this.Vd.qh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);p=!0;}t.hv && v && (this.Vd.Qg[z]=x);null === (A=this.ZKa) || void 0 === A?void 0:A.call(this);return p;};q.prototype.wo=function(){var p,t;p=this;t=[];this.Du.forEach(function(u,v){var x;f.cm.yp(v);for(var w in u){v=u[w];x=v.oua();1 === x?t.push(v):2 === x && p.Vd.qh("swapUrl failure");}});return t;};q.prototype.uk=function(p){var t,u;t=p.mediaType;u=f.cm.yp(t);this.Vd.Gj?u.warn("header onrequestcomplete ignored, session shutdown:",p.toString()):(this.Nm({type:"logdata",target:"startplay",Vb:{usedNativeDataView:p.hYb}}),p.zV > p.eMb && (this.TJa[t]=p.zV),p.EN && this.yOa(p),this.mhb(p),this.Ihb=d.default.time.ba(),this.Vd.QB.emit("onHeaderRequestComplete",p));this.mv(p);};q.prototype.I0=function(p,t,u){var v;v=p.mediaType;f.cm.yp(v);v=this.Vd.pv(v,p.Na);if(t !== ! !p.ik)return !1;this.LLa(p);p.Qlb(v);this.AIa(p);this.Vd.QB.emit("onHeaderFromCache",{header:p,hyb:u});return !0;};q.prototype.oR=function(p,t){var u,v,w,x;u=[];v=this.Du[p];for(w in v){x=v[w];x && !x.stream.Y && x.mo === t && (this.Xha(p,w),u.push({stream:x.stream,offset:x.offset,ca:x.ca,xB:x.xB,hv:x.hv,kM:x.kM,Dpa:x.Dpa}),x.Lc());}return u;};q.prototype.Jra=function(p){var t;t=this;p.forEach(function(u){t.K8(u.stream,u);});};q.prototype.LLa=function(p){this.Du[p.mediaType][p.Na]=p;};q.prototype.oDb=function(p){return ! !this.nk(1,p);};q.prototype.mhb=function(p){var t,u,v,w,y;t=this.I;u=f.cm.yp(p.mediaType);v=p.stream.Y;if(t.Dha){w=v.length;u.trace("fragment count:",w);for(var x=0;x < w;++x){y=v.get(x);u.trace("fragment: " + x + ", startPts: " + y.X + ", duration: " + y.duration + ", offset: " + y.offset);}}this.AIa(p);if(t.iz && t.iz.enabled && void 0 === v.fq && t.iz.simulatedFallback){w=v.length;t=[];for(x=0;x < w;++x){t[x]=Math.max(0,p.stream.wb + this.Ajb(x));}v.jTb(t);}};q.prototype.AIa=function(p){var t,u;t=p.mediaType;u=p.Na;f.cm.yp(t);p.tV && (p.tV.forEach(function(v){(v=v.pv(t,u)) && v !== p.stream && !v.Ee && v.J1(p.stream);}),p.tV=void 0);this.Vd.XCb(p);};q.prototype.VIa=function(p,t,u){var v,w;v=this;w=f.cm.yp(p.mediaType);p=new l.N9(p,this.I,t,u,this,!1,w);p.addListener("headerRequestCancelled",function(x){v.lhb(x.request);});p.nb(void 0);this.LLa(p);return p;};q.prototype.dgb=function(p,t){return this.Cu && (p=this.Cu.BU(this.Vd.K,p)) && this.I0(p,!1,t)?!0:!1;};q.prototype.Ogb=function(p){var t,u,v,w;t=p.Ar;u=p.O;v=u.duration;w=this.I;return u.bf.Ng?w.$Ra?w.$Ra:w.Y3:w.eYb && t?t.offset + t.size:(p=this.TJa[p.mediaType])?p + 128:w.Lia?2292 + 12 * Math.ceil(v / 2E3):w.Y3;};q.prototype.lhb=function(p){this.Xha(p.mediaType,p.Na);};q.prototype.Xha=function(p,t){delete this.Du[p][t];};q.prototype.yOa=function(p){this.fJ === p.Na && (this.fJ=void 0);};q.prototype.Ajb=function(p){var t;t=this.I.iz.fallbackBound;void 0 === this.yea[p] && (this.yea[p]=Math.floor(2 * Math.random() * t) - t);return this.yea[p];};return q;})(r.nw);b.Fza=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cGa=void 0;c=a(2);f=a(16);r=(function(l){function m(d,g,h,k){var n;n=l.call(this) || this;n.H=d;n.track=g;n.Nn=!1;n.mda=!1;n.Ag=new f.xh();n.Ag.on(g,"networkfailing",function(){n.emit("networkfailing");});n.Ag.on(g,"error",function(){n.H.warn("requestQueue got error");n.emit("error");});if(h)(n.Nn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Ag.on(g,"created",function(){n.Nn=!0;n.emit("created");});n.mda=k;return n;}c.__extends(m,l);Object.defineProperties(m.prototype,{F2:{get:function(){return this.track.F2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mg:{get:function(){return this.track.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ri:{get:function(){return this.track.Ri;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aT:{get:function(){return this.track.aT;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.nb=function(){var d,g;this.mda || (null === (g=(d=this.track).nb) || void 0 === g?void 0:g.call(d),this.mda=!0);};m.prototype.Ys=function(){return this.track.Ys();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.kp=function(){this.Ag.clear();};return m;})(f.EventEmitter);b.cGa=r;},function(r,b,a){var g,h,k,n,q,p,t;function c(u){var v,w,x;u=u.parent;v=!1;if(u && u.children){w={};w[p.rl]=[];w[p.Jk]=[];w[p.TEMPORARY]=[];x=u.children;x.forEach(function(y){y && w[y.Se].push(y);});0 < w[p.rl].length || (w[p.Jk].length === x.length?u.Se !== p.Jk && (u.Se=p.Jk,q.error("PERM failing :",k.default.Zg.name[u.Am] + " " + u.id),v=!0):(u.Se === p.rl && (u.Se=p.TEMPORARY,q.error("TEMP failing :",k.default.Zg.name[u.Am] + " " + u.id),v=!0),w[p.TEMPORARY].forEach(function(y){y.Se=p.rl;})),v && c(u));}}function f(u){var v;if((u=u.parent) && 0 < u.children.length && u.Se !== p.rl){v={};v[p.rl]=[];v[p.Jk]=[];v[p.TEMPORARY]=[];u.children.forEach(function(w){w && v[w.Se].push(w);});0 < v[p.rl].length && (u.Se=p.rl,f(u));}}function l(u){return u.Se !== p.rl;}function m(u){switch(u.Se){case p.rl:return "OK";case p.Jk:return "FAILED PERMANENTLY";case p.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,v){if(u.Se === p.TEMPORARY || u.Se === p.Jk && v)u.Se=p.rl;u.children && u.children.forEach(function(w){w && d(w,v);});}Object.defineProperties(b,{__esModule:{value:!0}});b.gaa=void 0;g=a(2);h=g.__importStar(a(10));r=a(16);k=g.__importDefault(a(27));n=g.__importDefault(a(5));q=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.rl=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.Jk=2]="PERMANENT";})(p || (p={}));(function(u){u[u.Nw=0]="STARTUP";u[u.meb=1]="REBUFFER";})(t || (t={}));a=(function(u){var V40;V40=2;function v(w,x,y,A,z){var W40,B;W40=2;for(;W40 !== 27;){switch(W40){case 13:var g52="n";g52+="e";g52+="t";g52+="work";B.streams={};B.bz=[];B.e6=!1;B.ho={id:g52,Am:k.default.Zg.Iw,Se:p.rl,Ov:void 0,parent:void 0,children:B.bz};B.W_=null;B.oN=null;B.pN=k.default.ND.Nw;W40=17;break;case 2:B=u.call(this) || this;B.Ib=x;B.kh=y;B.config=A;W40=3;break;case 3:B.zib=z;B.POb=t.Nw;W40=8;break;case 16:var y52="1S";y52+="IYbZ";y52+="rNJCp9";y52;return B;break;case 8:B.Py=void 0;B.bo={};B.Pt={};B.urls={};W40=13;break;case 17:B.QJ(w);W40=16;break;}}}for(;V40 !== 26;){switch(V40){case 4:v.prototype.x3a=function(w){var Z40;Z40=2;for(;Z40 !== 5;){switch(Z40){case 2:Z40=(w=this.urls[w]) && w.parent?1:5;break;case 1:return w.parent.id;break;}}};v.prototype.m5=function(w){var a50;a50=2;for(;a50 !== 5;){switch(a50){case 2:a50=(w=this.urls[w]) && w.dd?1:5;break;case 1:return w.dd.location;break;}}};V40=9;break;case 9:v.prototype.a5a=function(w){var b50;b50=2;for(;b50 !== 5;){switch(b50){case 1:return w.stream;break;case 2:b50=(w=this.urls[w])?1:5;break;case 9:return w.stream;break;b50=5;break;}}};v.prototype.QJ=function(w){var c50,x;c50=2;for(;c50 !== 11;){switch(c50){case 7:w=this.bz.filter(function(y){var i50,A;i50=2;for(;i50 !== 4;){switch(i50){case 2:A=y.Pt.every(function(z){var j50;j50=2;for(;j50 !== 1;){switch(j50){case 2:return 0 === z.urls.length;break;}}});A && (y.Pt.forEach(function(z){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:x.Pt[z.id]=void 0;k50=1;break;}}}),x.bo[y.id]=void 0,y.parent=void 0,y.children.length=0,y.streams={});return !A;break;}}});w.forEach(function(y){var l50;l50=2;for(;l50 !== 1;){switch(l50){case 2:y.Pt.sort(function(A,z){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 2:return A.ie - z.ie;break;}}});l50=1;break;}}});this.bz=w;this.ho.children=w;this.dump();c50=11;break;case 3:w.servers.forEach(function(y){var f50,z,A,B;f50=2;for(;f50 !== 6;){switch(f50){case 5:z=x.bo[y.key];f50=4;break;case 1:f50=!x.Pt[A]?5:6;break;case 2:A=y.id;f50=1;break;case 4:f50=z?3:6;break;case 3:B=[];y={id:A,Am:k.default.Zg.OD,Se:p.rl,Ov:void 0,parent:z,children:B,urls:B,name:y.name,type:y.type,ie:y.rank,location:z};x.Pt[y.id]=y;z.children.push(y);f50=6;break;}}});w.audio_tracks.forEach(function(y){var g50;g50=2;for(;g50 !== 1;){switch(g50){case 2:x.r1a(y);g50=1;break;}}});w.video_tracks.forEach(function(y){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:x.r1a(y);h50=1;break;}}});c50=7;break;case 2:x=this;w.locations.forEach(function(y){var d50,z,B,D,A;d50=2;for(;d50 !== 8;){switch(d50){case 9:D.children.push(y);d50=8;break;case 5:(z=[],B=x.kh.get(A),D=x.ho);y={id:A,Am:k.default.Zg.LOCATION,Se:p.rl,ie:y.rank,level:y.level,weight:y.weight,Ov:void 0,parent:D,children:z,Pt:z,streams:{},lb:B};x.bo[y.id]=y;d50=9;break;case 1:d50=!x.bo[A]?5:8;break;case 2:A=y.key;d50=1;break;}}});this.W_=n.default.time.ba();this.bz.sort(function(y,A){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:return y.level - A.level || y.ie - A.ie;break;}}});c50=3;break;}}};v.prototype.wX=function(w,x){var n50,E,D,y,A,z,B;n50=2;for(;n50 !== 19;){switch(n50){case 10:var e52="(";e52+="emp";e52+="ty stream";e52+=" list)";var L52="Di";L52+="d not fin";L52+="d a UR";L52+="L for ANY stream...";var v52="networ";v52+="kF";v52+="a";v52+="ile";v52+="d";var F52="Network has failed, ";F52+="no";F52+="t updating stre";F52+="am se";F52+="lection";x.forEach(function(F,C){var o50,G;o50=2;for(;o50 !== 5;){switch(o50){case 2:var K52=" Kb";K52+="ps";K52+=")";var k52=" ";k52+="(";var c52="]";c52+=" ";var B52="Failing";B52+=" ";B52+="stream [";G=F.id;E.some(function(J){var q50,K,H;q50=2;for(;q50 !== 8;){switch(q50){case 5:return !1;break;case 1:q50=!K?5:4;break;case 2:K=J.streams[G];q50=1;break;case 4:H=K.bo[0];void 0 === F.b7 && (F.b7=H.id,F.sqa=K.yX[H.id][0].dd.id);return K.yX[J.id].some(function(L){var r50,R;r50=2;for(;r50 !== 12;){switch(r50){case 1:return (L.dd.Se === p.TEMPORARY && (F.Se=p.TEMPORARY),A.Dt && F.dd === L.dd.id && L.dd.Ov && (F.Ov=L.dd.Ov),!1);break;case 2:r50=l(L.dd)?1:5;break;case 5:r50=l(L)?4:3;break;case 4:return !1;break;case 3:var P52="l";P52+="oc";P52+="ationfailover";var Y52="serverfail";Y52+="ove";Y52+="r";var Q52="per";Q52+="f";Q52+="or";Q52+="mance";var l52="u";l52+="nkn";l52+="o";l52+="w";l52+="n";R=l52;F.location !== J.id && (A.Dt?F.Jma=J.id === H.id:R=J !== E[0]?"" + k.default.ND.U9:void 0 === F.location?"" + k.default.ND.Nw:h.fa(F.DXa) || F.DXa === J.id?h.fa(F.GXa) || F.GXa === L.dd.id?Q52:Y52:P52,F.location=J.id,F.lna=J.level,F.xr=R);F.url=L.url;F.dd=L.dd.id;F.cH=L.dd.name;F.lb=A.Jfa?J.lb.confidence >= k.default.zf.Aw || z.confidence < D?J.lb:z:z.confidence === k.default.zf.HAVE_NOTHING || J.lb.confidence >= k.default.zf.Aw?J.lb:z;return !0;break;}}});break;}}})?(F.yy=!1,F.Se=void 0,F.Xs && ++B):F.Se && F.Se === p.TEMPORARY?y.ho.Se=p.TEMPORARY:F.yy || (q.warn(B52 + C + c52 + G + k52 + F.bitrate + K52),F.Kpb(),F.yy=!0);o50=5;break;}}});return l(this.ho)?(q.warn(F52),this.e6=!0,this.emit(v52,this.ho.Se === p.Jk),!1):B?!0:(q.warn(L52 + (x.length?"":e52)),this.pr(k.default.Zg.Iw,!0),!1);break;case 13:E=this.oN;n50=12;break;case 5:n50=l(this.ho)?4:3;break;case 4:return !1;break;case 8:this.Ib.location && z.confidence >= D && (w=this.bo[this.Ib.location]) && (w.lb=z);h.tb(this.oN) && (this.oN=this.oXb());n50=6;break;case 14:return (this.pr(k.default.Zg.Iw,!1),!1);break;case 6:n50=!this.oN?14:13;break;case 12:n50=!E.length?11:10;break;case 3:D=k.default.zf.hA;A.ZU && (D=k.default.zf.Aw);n50=8;break;case 2:(y=this,A=this.config,z=this.Ib.get(),B=0);n.default.ys && n.default.ys(w);n50=5;break;case 11:return (this.pr(k.default.Zg.Iw,!1),!1);break;}}};v.prototype.pSb=function(w,x){var s50,y,A;s50=2;for(;s50 !== 4;){switch(s50){case 2:(y={},A=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(z,B){var t50,F,C,D,E;t50=2;for(;t50 !== 7;){switch(t50){case 4:var C52="8";C52+="0";var m52="4";m52+="4";m52+="3";(F="s" === E[1],C=E[2]);E=E[3];E.length || (E=F?m52:C52);t50=8;break;case 5:t50=E && 4 === E.length?4:7;break;case 8:h.Fe(C) && h.Fe(E) && C === w && E == x && (D?D.push(B):y[z]=[B]);t50=7;break;case 2:z=z.parent?z.parent.id:"";(D=y[z],E=B.match(A));t50=5;break;}}});return y;break;}}};v.prototype.pr=function(w,x,y,A){var u50,F,v50,z,B,D,E,w50,C;u50=2;for(;u50 !== 42;){switch(u50){case 13:F=z;u50=12;break;case 14:u50=13;break;case 28:u50=44;break;case 20:x.unshift(C.id + "(" + C.name + ")");u50=19;break;case 44:var o52="Invalid fai";o52+="lur";o52+="e sta";o52+="te";throw Error(o52);u50=24;break;case 35:var j52="networkF";j52+="a";j52+="i";j52+="le";j52+="d";var d52="Emitting ne";d52+="tworkFaile";d52+="d, permanent =";D > B && (q.warn(d52,D === p.Jk),this.emit(j52,D === p.Jk));this.oN=null;this.pN=k.default.ND.xf;u50=32;break;case 32:A && (this.pN=k.default.ND.Tdb,z.Ov=A);this.dump();u50=42;break;case 11:v50=F.Am;u50=v50 === k.default.Zg.OD?10:18;break;case 17:x.unshift(F.id);u50=19;break;case 3:u50=D !== z.Se?9:42;break;case 29:u50=w50 === p.rl?24:28;break;case 12:u50=F?11:27;break;case 27:var n52=" :";n52+=" ";n52+="wa";n52+="s";n52+=" ";E.call(y,w + (x.length?"/" + x.join("/"):"") + n52 + m(z));u50=26;break;case 2:(z=w !== k.default.Zg.Iw && y?this.urls[y]:this.ho,B=this.ho.Se,D=x?p.Jk:p.TEMPORARY);u50=1;break;case 25:return;break;case 21:D=this.ho.Se;u50=35;break;case 9:var r52=" ";r52+="a";r52+="t";r52+=" ";var a52=" fai";a52+="lure re";a52+="porte";a52+="d for ";var T52="T";T52+="EM";T52+="P";var H52="P";H52+="E";H52+="R";H52+="M";y=q;E=y.warn;w=(x?H52:T52) + a52 + k.default.Zg.name[w] + r52;x=[];u50=14;break;case 18:u50=v50 === k.default.Zg.LOCATION?17:16;break;case 30:u50=w50 === p.TEMPORARY?24:29;break;case 16:u50=v50 === k.default.Zg.URL?15:19;break;case 24:z.Se=D;c(z);this.e6=this.e6 || l(this.ho);u50=21;break;case 19:F=F.parent;u50=12;break;case 1:u50=z && z.parent && z.Am !== w?5:4;break;case 4:u50=z?3:43;break;case 26:w50=z.Se;u50=w50 === p.Jk?25:30;break;case 15:var N52="<ur";N52+="l f";N52+="or";N52+=" ";x.unshift(N52 + F.stream.bitrate + ">");u50=19;break;case 10:C=F;u50=20;break;case 43:var Z52="Unable to fin";Z52+="d failure entity for UR";Z52+="L ";a000.W62(1);q.warn(a000.J62(Z52,y));u50=42;break;case 5:z=z.parent;u50=1;break;}}};v.prototype.O2a=function(w,x){var x50;x50=2;for(;x50 !== 3;){switch(x50){case 5:this.oN=null;this.pN=k.default.ND.Raa;x50=3;break;case 2:x50=(w=this.Pt[w])?1:5;break;case 1:(d(w,x),f(w));x50=5;break;}}};v.prototype.v7=function(){var y50;y50=2;for(;y50 !== 1;){switch(y50){case 2:d(this.ho,!1);y50=1;break;}}};V40=11;break;case 11:v.prototype.Nm=function(w){var z50,x;z50=2;for(;z50 !== 5;){switch(z50){case 2:null === (x=this.zib) || void 0 === x?void 0:x.call(this,w);z50=5;break;}}};v.prototype.Lj=function(){var A50;A50=2;for(;A50 !== 1;){switch(A50){case 2:this.PQb(t.meb);A50=1;break;}}};V40=20;break;case 20:v.prototype.Ab=function(){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:this.config.GHb && this.gNb();B50=1;break;}}};v.prototype.r1a=function(w){var C50,x;C50=2;for(;C50 !== 5;){switch(C50){case 2:x=this;w.streams.forEach(function(y){var D50,A,z,B;D50=2;for(;D50 !== 6;){switch(D50){case 2:(A=y.downloadable_id,z=x.streams[A]);D50=1;break;case 1:D50=h.fa(z)?5:9;break;case 9:y.urls.forEach(function(D){var E50,C,E,F;E50=2;for(;E50 !== 13;){switch(E50){case 5:C=D.location;F={id:E,Am:k.default.Zg.URL,Se:p.rl,Ov:void 0,parent:D,children:[],url:E,dd:D,stream:z};x.urls[E]=F;D.children.push(F);E50=8;break;case 2:(E=D.url,F=x.urls[E]);E50=1;break;case 8:z.urls.push(F);0 === z.bo.filter(function(G){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:return G.id === C.id;break;}}}).length && z.bo.push(C);C.streams[z.id]=z;(E=z.yX[C.id])?E.push(F):z.yX[C.id]=[F];E50=13;break;case 1:E50=h.fa(F) && (D=x.Pt[D.cdn_id])?5:13;break;}}});h.Xe(z.yX,function(D){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:D.sort(function(E,F){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:return E.dd.ie - F.dd.ie;break;}}});G50=1;break;}}});z.bo=z.bo.sort(function(D,E){var I50;I50=2;for(;I50 !== 1;){switch(I50){case 2:return D.level - E.level || D.ie - E.ie;break;}}});D50=6;break;case 5:var D52="n";D52+="o";D52+="n";D52+="e-";B=y.content_profile;z={id:A,bitrate:y.bitrate,wb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(D52),Xs:!0,urls:[],yX:{},bo:[]};D50=3;break;case 3:x.streams[z.id]=z;D50=9;break;}}});C50=5;break;}}};v.prototype.oXb=function(){var J50,w,x,y,A;J50=2;for(;J50 !== 13;){switch(J50){case 9:(y.forEach(function(z){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:z.id !== w.Ib.location && (z.lb=w.kh.get(z.id));L50=1;break;}}}),this.W_=A);J50=8;break;case 3:J50=null === this.W_ || this.W_ + x.kna < A?9:8;break;case 2:(w=this,x=this.config,y=this.bz.filter(function(z){var K50;K50=2;for(;K50 !== 1;){switch(K50){case 2:return !l(z) && 0 !== z.level;break;}}}));J50=1;break;case 1:J50=0 === y.length?5:4;break;case 5:return null;break;case 4:A=n.default.time.ba();J50=3;break;case 8:x=this.pN;y.sort(function(z,B){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:return z.level - B.level || z.ie - B.ie;break;}}});this.Py || h.tb(x) || (this.Py=!0);J50=14;break;case 14:return y;break;}}};v.prototype.PQb=function(w){var N50,x;N50=2;for(;N50 !== 3;){switch(N50){case 2:x=this.Ib.location;this.Py=!1;this.POb=w;N50=4;break;case 4:this.bz.forEach(function(y){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:y.id !== x && y.lb && y.lb.confidence > k.default.zf.hA && (y.lb.confidence=k.default.zf.hA);O50=1;break;}}});N50=3;break;}}};V40=16;break;case 16:v.prototype.gNb=function(){var P50,w;P50=2;for(;P50 !== 5;){switch(P50){case 2:w=this;this.e6 || this.bz.forEach(function(x){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:x.Se === p.TEMPORARY && w.kh.fail(x.id,n.default.time.ba());Q50=1;break;}}});P50=5;break;}}};v.prototype.dump=function(){};return v;break;case 2:g.__extends(v,u);v.prototype.oCb=function(){var X40;X40=2;for(;X40 !== 1;){switch(X40){case 2:return this.bz[0].lb;break;case 4:return this.bz[8].lb;break;X40=1;break;}}};v.prototype.Es=function(){var Y40;Y40=2;for(;Y40 !== 1;){switch(Y40){case 2:return l(this.ho);break;}}};V40=4;break;}}})(r.EventEmitter);b.gaa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.vCa=void 0;c=a(22);f=a(6);l=a(406);m=a(848);d=a(849);g=a(850);h=a(851);k=a(852);n=a(853);r=(function(){function q(p,t,u,v){this.config=p;this.mediaType=t;this.Yb=u;this.console=v;}q.prototype.append=function(p,t){var u,v,w,x;v=t.endOfStream;w=t.I5;x=t.bV;void 0 === this.track?this.FL(p.stream):this.track !== p.stream.track && (f.assert(this.track.qa),f.assert(p.stream.track.qa),f.assert(1 === this.mediaType || this.track.qa.equal(p.stream.track.qa)),this.track=p.stream.track);f.assert(void 0 !== this.us);t={jd:p,offset:null !== (u=p.f7) && void 0 !== u?u:c.S.ab,He:this.config.E7};t=this.us.reduce(function(y,A){return A.append(y,{endOfStream:v,I5:w,bV:x});},t);u=t.jd;t=t.offset;u.na && p.th(u.na);return t;};q.prototype.reset=function(){this.us=this.track=void 0;};q.prototype.FL=function(p){var t,u;this.track=p.track;this.us=[];if(0 === this.mediaType){this.config.E7 && this.us.push(new d.qGa(this.config,p.track,this.console));u=this.n1(p);u.equal(c.S.ab)?this.config.ck && p.he && this.v4(p.O.$) && this.us.push(new k.vAa(this.config)):this.us.push(new l.AZ(u));this.config.H5 || (this.console.log("MediaSplicer: NegativePtsGuard: " + u.Pd() + ", " + (null === (t=p.he) || void 0 === t?void 0:t.Pd())),this.us.push(new g.OCa(this.config,p,this.console)));this.HFb() && (this.config.Xf || this.us.push(new n.Gva(p,this.config,this.Yb,this.console)),this.us.push(new m.XCa(this.config,p,this.console)),this.KTb(p) && (f.assert(p.qa),this.us.push(this.wqb(p.he || c.S.ab,p.qa,u))));}};q.prototype.v4=function(p){return this.config.v4 || this.config.w4 && -1 !== this.config.w4.indexOf(p);};q.prototype.n1=function(p){return l.AZ.n1(this.config,p.he,this.Yb,this.console);};q.prototype.HFb=function(){return !this.config.yz;};q.prototype.KTb=function(p){return this.config.KWb && this.config.ck && ! !p.he;};q.prototype.wqb=function(p,t,u){return new h.THa(p.Aa(u),t,this.console);};return q;})();b.vCa=r;},function(r,b,a){var f,l,m,d;function c(g){return g.toString() + " (nrdp: " + g.TG + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.XCa=void 0;f=a(22);l=a(243);m=a(20);d=a(6);r=(function(){function g(h,k,n){this.console=n;this.offset=f.S.ab;this.he=h.ck?k.he:void 0;d.assert(k.qa);this.qa=k.qa;}g.prototype.append=function(h){var k,n,q;k=h.jd;n=h.offset;q=h.He;void 0 !== this.AXa && (d.assert(void 0 !== this.Nma),k.Nc.add(h.offset).equal(this.AXa)?(h=this.tob(k,n.add(this.offset)).V - this.Nma,0 > h?this.offset=this.offset.add(f.S.Hv):0 === h?this.offset.lessThan(f.S.ab) && (this.offset=this.offset.add(f.S.Hv)):1 === h?this.offset.greaterThan(f.S.ab) && (this.offset=this.offset.Aa(f.S.Hv)):this.offset=this.offset.Aa(f.S.Hv)):this.offset=f.S.ab);this.Nma=this.sob(k,n.add(this.offset)).V;this.AXa=k.Nd.add(n);return {jd:k,offset:n.add(this.offset),He:q};};g.prototype.tob=function(h,k){var n,q;h=this.eMa(h.Nc);n=l.kt(h).add(l.kt(k));q=h.add(k).Aa(n);m.ia && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(k) + ", start rounding error: " + l.kt(h).toString() + ", offset rounding error: " + l.kt(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + q.Pd() + ", (" + h.TG + k.TG + "ms), last fragment end nrdp: " + this.Nma);return q;};g.prototype.sob=function(h,k){var n,q,p;n=this.qa;h=this.eMa(h.Nd);q=l.kt(h.Aa(n)).add(l.kt(n)).add(l.kt(k));p=h.add(k).Aa(q);m.ia && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Aa(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + l.kt(h.Aa(n)).toString() + ", frame duration rouding error: " + l.kt(n).toString() + ", offset rounding error: " + l.kt(k).toString() + ", total rounding error: " + q.toString() + ", expected nrdp value: " + p.Pd() + ", (" + h.Aa(n).TG + n.TG + k.TG + "ms)");return p;};g.prototype.eMa=function(h){return this.he?h.Aa(this.he):h;};return g;})();b.XCa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qGa=void 0;c=a(22);f=a(6);l=a(20);r=(function(){function m(d,g,h){this.config=d;this.console=h;this.Tu=c.S.ab;f.assert(g.qa);this.qa=g.qa;d=g.Sd[0].profile;this.V5=this.hBb(d,this.qa);this.B5=this.fBb(d,this.qa);}m.prototype.append=function(d,g){var h,k,n,q;h=d.jd;k=d.offset;d=d.He;n=g.I5;g=g.bV;if(this.Lpa){q=this.SJb(h,this.Lpa);h.na && this.Afa(q)?(l.ia && this.console.trace("SeamlessAudio: dropping one first frame"),h.IS(1),this.Tu=q):(this.Tu=q.add(this.qa),this.lNa(this.Tu) || (l.ia && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Ui.Pd() + " error would be " + this.Tu.Pd() + " (editing " + (h.na?"":"not ") + "allowed)"),this.Tu=c.S.ab,d=!1));this.Lpa=void 0;}if(h.Fp || h.tv)(f.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.na || !g && h.tv || (q=this.TJb(h,n,g),q.Un(c.S.ab) && h.m2(1)),this.Lpa=n);f.assert(this.lNa(this.Tu));this.Sma=h.rf;return {jd:h,offset:k.add(this.Tu),He:d};};m.prototype.TJb=function(d,g,h){var k;if(h)k=this.Tu.add(d.rf.Aa(h)).Aa(this.qa);else (k=d.rf.Aa(g),k=this.Tu.add(k).Aa(this.qa));l.ia && this.console.trace("SeamlessAudio: fragment end: " + d.rf.Pd() + ", splice " + g.Pd() + ", next start " + (null === h || void 0 === h?void 0:h.Pd()) + ", error " + k.add(this.qa).Pd() + ", error with frame drop " + k.Pd() + ", is" + (this.Afa(k)?"":" not") + " within bounds of [" + this.V5.Pd() + " and " + this.B5.Pd() + ")");return k;};m.prototype.SJb=function(d,g){var h;f.assert(this.Sma);h=this.Tu.add(this.Sma.Aa(d.Ui)).Aa(this.qa);l.ia && this.console.trace("SeamlessAudio: fragment start: " + d.Ui.Pd() + ", splice " + g.Pd() + ", last fragment end: " + this.Sma.Pd() + ", error " + h.add(this.qa).Pd() + ", error with frame drop " + h.Pd() + ", is" + (this.Afa(h)?"":" not") + " within bounds of [" + this.V5.Pd() + " and " + this.B5.Pd() + ")");return h;};m.prototype.Afa=function(d){return d.lessThan(this.B5) && d.Un(this.V5);};m.prototype.lNa=function(d){return d.lessThan(this.B5.add(c.S.Hv)) && d.Un(this.V5.Aa(c.S.Hv));};m.prototype.fBb=function(d,g){return "object" === typeof this.config.Yra && void 0 !== this.config.Yra[d]?(d=new c.S(this.config.Yra[d],1E3).Yf(g.U).add(new c.S(1,g.U)),c.S.min(g,d)):g;};m.prototype.hBb=function(d,g){var h;if("object" === typeof this.config.Zra && void 0 !== this.config.Zra[d]){h=g.Xk(-2);d=new c.S(this.config.Zra[d],1E3).Yf(g.U).Aa(new c.S(1,g.U));return c.S.max(h,d);}return new c.S(-12,1E3);};return m;})();b.qGa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OCa=void 0;c=a(22);f=a(6);l=a(20);r=(function(){function m(d,g,h){var k;this.console=h;this.lW=!1;f.assert(g.qa,"NegativePtsGuard: stream.frameDuration must exist.");this.qa=g.qa;this.ck=d.ck;this.he=null !== (k=g.he) && void 0 !== k?k:c.S.ab;}m.prototype.append=function(d){var g,h,k,n;if(this.lW)return d;g=d.jd;h=d.offset;d=d.He;if(g.na){k=g.Nc.Aa(this.ck?this.he:c.S.ab).add(h);if(k.lessThan(c.S.ab)){n=Math.ceil(k.rC(-1).Xk(this.qa));l.ia && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.he.Pd() + ", request content start ") + (g.Nc.Pd() + ", current timestamp offset ") + (h.Pd() + " => firstPlatformTimestamp ") + (k.Pd() + "."));g.IS(n);}}this.lW=!0;return {jd:g,offset:h,He:d};};return m;})();b.OCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;c=a(22);f=a(20);r=(function(){function l(m,d,g){this.he=m;this.qa=d;this.console=g;}l.prototype.append=function(m,d){var g,h,k,n;g=m.jd;h=m.offset;m=m.He;k=d.endOfStream;d=d.I5;if(k && d){k=g.Nc.Aa(this.he).add(h);n=g.Nd.Aa(this.he).add(h);d=d.Aa(c.S.Hv);f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + k.Pd() + "-" + n.Pd() + " vs media splice point at " + d.Pd());k.add(this.qa).Un(d)?(f.ia && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g.qia()):n.Un(d) && (d=Math.ceil(n.Aa(d).Xk(this.qa)),g.na?(f.ia && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),g.m2(d)):(f.ia && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g.qia()));}else k && f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {jd:g,offset:h,He:m};};return l;})();b.THa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vAa=void 0;r=(function(){function a(c){this.lW=!1;this.TTb=c.BWa;}a.prototype.append=function(c){c.jd.na && (c.jd.$Sb(this.lW?0:this.TTb),this.lW=!0);return c;};return a;})();b.vAa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Gva=void 0;c=a(244);f=a(9);r=(function(){function l(m,d,g,h){this.config=d;this.Yb=g;this.console=h;this.qa=m.qa;}l.prototype.append=function(m,d){var g,h,k,n,q,p,t,u;h=c.x3(this.config,this.Yb);k=m.jd;n=k.rf;q=k.Ui;p=k.tv;t=m.He;p=k.Fp || p;if(!m.jd.na || !p || t)return m;t=k.Nd.Aa(k.Nc);k=Math.floor(t.Xk(this.qa));p=null !== (g=d.bV) && void 0 !== g?g:n.Aa(this.qa.rC(2));n=p.Aa(q);g=k;u=!1;d.bV && (d=this.XNa(t,n,n),g=d.jN,u=d.gV);h=p.Aa(f.S.mb(h));q=f.S.max(h.Aa(q),f.S.ab);u || (q=this.XNa(t,q,n),g=q.jN,q.gV && (--g,this.qa.rC(g)));g < (this.config.BZa || 1)?m.jd.qia():0 < k - g && m.jd.m2(k - g);return m;};l.prototype.XNa=function(m,d,g){var h;m=f.S.min(m,d);m=Math.floor(m.Xk(this.qa));d=this.qa.rC(m);g=g.Aa(d);h=0 < m && g.lessThan(f.S.Hv);return {jN:m,i8b:d,Oyb:g,gV:h};};return l;})();b.Gva=r;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w;function c(x,y,A,z){var B,D;g.assert(x.sk,"Current time: " + n.default.time.ba() + " cr: " + x.currentTime);g.assert(x.currentTime.isFinite());B=A.Aa(x.currentTime);B=Math.max(Math.ceil(B.EG / x.speed),0);D=null !== z && void 0 !== z?z:{id:void 0,qQa:B,t_a:0,fMb:B};D.id=setTimeout(function(){A.Aa(x.currentTime).uv(m.S.ab)?y():(D.t_a++,c(x,y,A,D));},B);D.qQa=B;return D;}Object.defineProperties(b,{__esModule:{value:!0}});b.Jua=b.WP=void 0;f=a(2);l=a(16);m=a(22);d=a(245);g=a(6);h=a(20);k=a(855);n=f.__importDefault(a(5));q=a(176);p=a(856);t=a(857);u=a(151);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{xH:{get:function(){return this.nea;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{XZa:{get:function(){return this.lib;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xtb:{get:function(){return this.ugb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Vra:{get:function(){return this.Xjb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,A,z){this.ugb=A === w.oM?0:n.default.time.ba();this.lib=y;this.Xjb=A;h.ia && g.assert(!this.nea,"Invalid replacement of timeout value");this.nea=z;};x.prototype.complete=function(){this.nea=void 0;this.set(m.S.By,w.oM);};return x;})();(function(x){x[x.oM=0]="none";x[x.pZa=1]="microTask";x[x.setTimeout=2]="setTimeout";})(w || (w={}));r=(function(x){function y(A,z,B){var D;void 0 === B && (B="unknown");D=x.call(this) || this;D.xa=A;D.console=z;D.name=B;D.jib=0;D.oda=!1;D.bk=new v();D.z2=new l.xh();D.vl=new d.fZ([],k.WOa(function(E,F){return E.hN.Vk(F.hN);},function(E,F){return F.Cr.priority - E.Cr.priority;},function(E,F){return E.Cr.id > F.Cr.id?1:E.Cr.id < F.Cr.id?-1:0;}));D.TMa(A);return D;}f.__extends(y,x);Object.defineProperties(y.prototype,{CTb:{get:function(){return this.xa.sk;},enumerable:!1,configurable:!0}});y.prototype.NPa=function(A,z){A=new (A.bind.apply(A,f.__spread([void 0],z)))();A.id=this.jib++;A.Amb(this);this.Qea(A);return A;};y.prototype.sB=function(){for(var A=[],z=0;z < arguments.length;z++){A[z]=arguments[z];}return this.NPa(p.AAa,A);};y.prototype.lzb=function(){var A;A={hasSchedule:! !this.bk.xH,schedule:this.bk.xH && ({sleepTime:this.bk.xH.qQa,originalSleepTime:this.bk.xH.fMb,clockSkewAdjustments:this.bk.xH.t_a}),nextWakeup:this.bk.XZa.V,timeScheduled:this.bk.xtb,scheduleType:w[this.bk.Vra],numTasks:this.vl.length,clock:{ir:this.xa.sk,ct:this.xa.currentTime.V,sp:this.xa.speed}};h.ia && this.trace("audit",A);return A;};y.prototype.rK=function(){for(var A=[],z=0;z < arguments.length;z++){A[z]=arguments[z];}return this.NPa(t.JGa,A);};y.prototype.Msb=function(A,z,B){this.sB(function(){return f.__generator(this,function(D){switch(D.label){case 0:return [4,u.mj.ZC(z)];case 1:return (D.$d(),A(),[3,0]);case 2:return [2];}});},B);};y.prototype.TMa=function(A){var z;z=this;this.oB();this.z2.clear();this.xa=A;this.z2.on(A,"stopStart",function(){return z.VM();});this.z2.on(A,"clockAdjusted",function(){return z.lV();});this.z2.on(A,"speedChanged",function(){return z.TLb();});this.lV();this.emit("clockChanged");};y.prototype.TLb=function(){this.oB();this.VM();};y.prototype.Ab=function(){this.reset();};y.prototype.reset=function(){this.oB();this.vl.clear();};y.prototype.lV=function(){var A,z;A=this;z=this.vl.map(function(B){return B.Cr;});this.oB();this.vl.clear();z.forEach(function(B){return A.Qea(B,!1);});this.VM();};y.prototype.Qea=function(A,z){var B,D;void 0 === z && (z=!0);B=A.k6();D=this.V5a(B);A={Cr:A,hN:D,s7:B};g.assert(!this.vl.contains(A));this.vl.push(A);z && this.VM();};y.prototype.VM=function(){var A,z,B,D,E;A=this;h.ia && this.trace("recheck schedule task count:" + this.vl.length);if(this.CTb){if(this.oda)h.ia && this.trace("already executing, bailing");else {D=this.bk.XZa;E=null !== (B=null === (z=this.vl.Jv()) || void 0 === z?void 0:z.hN) && void 0 !== B?B:m.S.By;E.isFinite() && E.o6(D)?(this.oB(!1),this.xa.currentTime.Un(E)?(this.bk.set(E,w.pZa),Promise.resolve().then(function(){A.bk.Vra === w.pZa && (A.bk.complete(),A.a3a());})):(h.ia && this.trace("scheduling next wake up for:" + E.V),z=c(this.xa,function(){A.bk.complete();A.a3a();},E),this.bk.set(E,w.setTimeout,z))):E.isFinite() || this.bk.Vra !== w.setTimeout || this.oB(!1);}}else (h.ia && this.trace("should check schedule is false, stopping"),this.oB());};y.prototype.a3a=function(){var A,z,B,D;B=0;D=null === (A=this.vl.Jv()) || void 0 === A?void 0:A.s7;try{for(this.oda=!0;1E4 > B++ && this.OWb();){;}}finally{this.oda=!1;this.oB();1E4 < B && !this.vDb(D)?null === (z=this.console) || void 0 === z?void 0:z.error("Task scheduler executed more than 10000 iterations in same tick"):this.VM();}};y.prototype.vDb=function(A){var z,B;B=null === (z=this.vl.Jv()) || void 0 === z?void 0:z.s7;return A && B && A.timestamp.equal(B.timestamp) && A.type === B.type?!1:!0;};y.prototype.OWb=function(){var A,z,B;B=null !== (z=null === (A=this.vl.Jv()) || void 0 === A?void 0:A.hN) && void 0 !== z?z:m.S.By;h.ia && this.trace("tryExecuteNextTask @" + this.xa.currentTime.V + ", next wakeup at " + B);if(this.xa.currentTime.Un(B) && (A=this.vl.pop())){z=A.Cr;h.ia && this.trace("Running a task @" + this.xa.currentTime.V + ", scheduled for time:" + B.V + ("Name:" + z.name));try{z.Wv();A.s7=z.k6();A.hN=this.V5a(A.s7);}catch(D){throw (this.console.error("Unhandled error from a task " + z.name + " occurred. Removing the task from future executions:" + D,{stack:D.stack}),z.Ab(),D);}finally{A.hN !== m.S.By && z.state === q.sl.rW && (g.assert(!this.vl.contains(A)),this.vl.push(A));}return !0;}};y.prototype.pRb=function(A){g.assert(A.Hf === this);this.mra(A,!1);this.Qea(A);};y.prototype.mra=function(A,z){var B;void 0 === z && (z=!0);B=this.vl.find(function(D){return D.Cr === A;});B && this.zQb(B,z);};y.prototype.zQb=function(A,z){this.vl.remove(A);z && this.VM();};y.prototype.oB=function(A){void 0 === A && (A=!0);this.bk.xH && (A && this.emit("stopping"),clearTimeout(this.bk.xH.id),this.bk.complete());};y.prototype.V5a=function(A){return A.type === u.Lba.absolute?A.timestamp:A.timestamp.add(this.xa.currentTime);};y.prototype.trace=function(){for(var A,z=[],B=0;B < arguments.length;B++){z[B]=arguments[B];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,f.__spread(["TaskScheduler(" + this.name + "):"],z));};return y;})(l.EventEmitter);b.WP=r;b.Jua=function(x,y,A){var z;z=void 0;return (A || x.xa.sk) && x.xa.currentTime.Un(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){z=x.rK(u.mj.fO(y),B);}),Cr:z};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WOa=void 0;c=a(2);f=a(20);l=a(6);b.WOa=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}f.ia && l.assert(m.length);return function(g,h){var k,p,t;try{for(var n=c.__values(m),q=n.next();!q.done;q=n.next()){p=q.value;t=p(g,h);if(0 !== t)return t;}}catch(v){var u;u={error:v};}finally{try{q && !q.done && (k=n.return) && k.call(n);}finally{if(u)throw u.error;}}return 0;};};},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.AAa=void 0;c=a(2);f=a(22);l=a(6);m=a(176);d=a(151);r=(function(g){function h(k,n,q){n=g.call(this,n,q) || this;n.KRb=k;n.reset();return n;}c.__extends(h,g);h.prototype.reset=function(){var k,n;if(this.Jc === m.sl.rW || this.Jc === m.sl.pending)null === (n=null === (k=this.w_) || void 0 === k?void 0:k.return) || void 0 === n?void 0:n.call(k);this.Jc=m.sl.pending;this.w_=this.KRb();this.Hda=d.mj.ZC(f.S.ab);};h.prototype.ml=function(){this.reset();l.assert(this.Lu);this.Lu.pRb(this);};h.prototype.k6=function(){return this.Hda;};h.prototype.Rf=function(){var k,n,q;q=this.w_.next();q.done?(this.Hda=d.mj.Iua,null === (n=(k=this.w_).return) || void 0 === n?void 0:n.call(k)):this.Hda=q.value;};h.prototype.Ab=function(){var k,n;null === (n=(k=this.w_).return) || void 0 === n?void 0:n.call(k);g.prototype.Ab.call(this);};return h;})(m.Vba);b.AAa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.JGa=void 0;c=a(2);f=a(176);l=a(151);r=(function(m){function d(g,h,k){k=m.call(this,k) || this;k.Xra=g;k.WR=h;return k;}c.__extends(d,m);d.prototype.k6=function(){return this.Jc === f.sl.pending?this.Xra:l.mj.Iua;};d.prototype.Rf=function(){this.WR();};return d;})(f.Vba);b.JGa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.WFa=void 0;r=a(2);c=r.__importDefault(a(27));f=r.__importDefault(a(407));a=(function(){function l(m){this.x0=[];this.x0[c.default.Ra.Fb]=new f.default(m,c.default.Ra.Fb);this.x0[c.default.Ra.Sb]=new f.default(m,c.default.Ra.Sb);}l.prototype.Alb=function(m,d,g){this.x0[m].add(d,g);};l.prototype.Tka=function(){var m;m=[];this.x0.forEach(function(d){var g;if(d){g=d.get();g && 0 < g.length && g.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};l.prototype.Cxb=function(m){var d;d=this.Tka();m.strmsel=d;return 0 < d.length;};return l;})();b.WFa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TTa=void 0;b.TTa=function(a){var c,f,l;c=Math.floor(1E6 * Math.random());f=a.Cla;l=a.b4;a=0 === c % a.Dla && 0 < l.length;return {Sq:a,PS:a && 0 === c % f};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iPa=void 0;b.iPa=function(a,c){var f;if(!Array.isArray(a.hPa))return a;f=a.xs?a.xs():Object.create(a);a.hPa.forEach(function(l){if(void 0 !== l.MJb && c.duration >= l.MJb && l.config)for(var m in l.config){f[m]=l.config[m];}});return f;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Pxa=void 0;c=a(2).__importStar(a(10));f=a(150);l=a(6);r=(function(){var R50;function m(d,g,h){var S50;S50=2;for(;S50 !== 3;){switch(S50){case 2:var V52="1SIYb";V52+="Zr";V52+="NJCp9";this.ym=d;this.H=g;this.Bh=h;V52;S50=3;break;}}}R50=2;for(;R50 !== 7;){switch(R50){case 2:m.prototype.pgb=function(d,g){var T50,h,k;T50=2;for(;T50 !== 8;){switch(T50){case 9:return d;break;case 2:var I52="create";I52+="DlT";I52+="rac";I52+="ksStart";(h=this,k=this.ym.I);0 === this.tE && this.ym.ub.xl(I52);this.tE+=d.length;d=d.map(function(n){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:return h.WIa(n,g.K,g.Hy(),h.ym.tl,k);break;}}});f.kq.instance.Rf();T50=9;break;}}};m.prototype.Bgb=function(){var V50,d,g;V50=2;for(;V50 !== 3;){switch(V50){case 5:this.ym.CQ && (g.push(this.ym.CQ),this.ym.CQ=void 0);g.forEach(function(h){var X50;X50=2;for(;X50 !== 5;){switch(X50){case 2:h.Nn || --d.tE;f.kq.instance.xS(h);X50=5;break;}}});V50=3;break;case 2:(d=this,g=[]);this.ym.qb.tf.forEach(function(h){var W50;W50=2;for(;W50 !== 5;){switch(W50){case 2:c.fa(h.jg) || g.push(h.jg);h.jg=void 0;W50=5;break;}}});V50=5;break;}}};m.prototype.xhb=function(){var Y50;Y50=2;for(;Y50 !== 1;){switch(Y50){case 4:this.tE=3;Y50=4;break;Y50=1;break;case 2:this.tE=0;Y50=1;break;}}};m.prototype.QKa=function(d,g){var Z50,h,k;Z50=2;for(;Z50 !== 5;){switch(Z50){case 1:k && (k=g.oR(d,k),this.Agb(d),h.jg=this.WIa(d,g.K,g.Hy(),this.ym.tl,this.ym.I),g.Jra(k));Z50=5;break;case 2:(h=this.ym.qb.tf[d],k=h.jg);Z50=1;break;}}};m.prototype.WIa=function(d,g,h,k,n){var a60,q,p;a60=2;for(;a60 !== 7;){switch(a60){case 4:var i52="tran";i52+="spo";i52+="rtr";i52+="ep";i52+="ort";var x52="e";x52+="r";x52+="r";x52+="o";x52+="r";p.Ag.on(p,x52,function(){var d60;d60=2;for(;d60 !== 5;){switch(d60){case 2:var W52="NFErr_MC_St";W52+="reamingFailur";W52+="e";var q52="DownloadTrack fata";q52+="l ";q52+="e";q52+="rror";var J52="D";J52+="ownloadTrack f";J52+="atal error";n.Gh && q.Bh.Sl(J52);q.ym.Po(q52,void 0,W52,p.Mg,0,p.Ri);d60=5;break;}}});p.on(i52,function(t){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:var S52="t";S52+="r";S52+="an";S52+="sportreport";q.ym.emit(S52,t);e60=1;break;}}});p.nb();return p;break;case 2:var R52="n";R52+="etwo";R52+="rk";R52+="faili";R52+="ng";var z52="c";z52+="re";z52+="ated";(q=this,p=f.kq.instance.tB(d,g,!0,h,k,n));p.Ag.on(p,z52,function(){var b60;b60=2;for(;b60 !== 5;){switch(b60){case 2:var p52="cr";p52+="ea";p52+="teDl";p52+="Tracks";p52+="End";--q.tE;0 === q.tE && q.ym.ub.xl(p52);b60=5;break;}}});p.Ag.on(p,R52,function(){var c60,t;c60=2;for(;c60 !== 8;){switch(c60){case 2:var s52="report";s52+="Netw";s52+="orkFailing: ";n.Gh && q.Bh.Sl(s52 + p);c60=1;break;case 1:c60=p.F2?5:8;break;case 5:l.assert(p.aT);t=q.ym.se.O;t.op.pr(p.aT,void 0,p.Mg,p.Ri);t.wo();c60=8;break;}}});a60=4;break;}}};m.prototype.Agb=function(d){var f60,g;f60=2;for(;f60 !== 9;){switch(f60){case 2:d=this.ym.qb.tf[d];g=d.jg;g.Nn || --this.tE;f.kq.instance.xS(g);d.jg=void 0;f60=9;break;}}};return m;break;}}})();b.Pxa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mva=void 0;c=a(15);f=a(9);r=(function(){function l(m){this.VE=m;this.state=new f.sq(c.ka.$g);this.Mi={};}l.prototype.getState=function(){return this.state.value;};l.prototype.Ie=function(m){this.state.set(m);};l.prototype.addListener=function(m){this.state.addListener(m);};l.prototype.paused=function(){this.state.value === c.ka.Hc && this.state.set(c.ka.Xh);};l.prototype.cXa=function(){return this.state.value === c.ka.$g;};l.prototype.$B=function(){return "function" === typeof this.VE.$B?this.VE.$B():this.state.value === c.ka.Hc;};l.prototype.Sf=function(){return this.state.value === c.ka.$c || this.state.value === c.ka.Af;};l.prototype.dXa=function(){return this.state.value === c.ka.zi;};l.prototype.eXa=function(){return this.state.value === c.ka.vq;};l.prototype.Ce=function(){return this.VE.Ce();};l.prototype.zp=function(){return "function" === typeof this.VE.zp?this.VE.zp():1;};l.prototype.BT=function(){return this.VE.BT();};l.prototype.EW=function(m,d){this.Mi[m]=d;};l.prototype.Yn=function(m){return ! !this.Mi[m.K] || m.Hi;};return l;})();b.mva=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UEa=void 0;r=(function(){function a(c,f,l){var m;this.omb=c;this.Ida=f;this.vgb=l;this.Wca=(m={},m[0]=!1,m[1]=!1,m);this.reset();}a.prototype.Lx=function(){var c,f;c=this;f=this.omb.filter(function(l){return !l.IWa(c.vgb());});0 === f.length && this.sda?this.rib():f.forEach(function(l){c.Wca[l.mediaType] || (l.once("requestAppended",function(){c.Wca[l.mediaType]=!1;c.Lx();}),c.Wca[l.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.sda=!1;new Promise(function(f){c.rib=f;}).then(function(){return c.Ida();});};a.prototype.sIb=function(){this.sda || (this.sda=!0,this.Lx());};return a;})();b.UEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zua=void 0;c=a(20);r=(function(){function f(l){this.console=l;this.kE=[];this.PA=[];c.ia && this.console.trace("Received pending adoption " + this.ll.length);}Object.defineProperties(f.prototype,{length:{get:function(){return this.kE.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ll:{get:function(){return this.PA;},enumerable:!1,configurable:!0}});f.prototype.pIb=function(l){l=this.PA.indexOf(l);-1 !== l && (c.ia && this.console.trace("Marking request attached"),this.kE[l].GWa=!0,this.q6a(l));};f.prototype.qIb=function(l){l=this.PA.indexOf(l);-1 !== l && (c.ia && this.console.trace("Marking request completed"),this.kE[l].Iy=!0,this.q6a(l));};f.prototype.AQb=function(l){var m,d;m=this;d=[];this.PA.forEach(function(g,h){l(g) && d.unshift(h);});d.forEach(function(g){m.PA.splice(g,1);m.kE.splice(g,1);});};f.prototype.push=function(l){this.PA.push(l);this.kE.push({GWa:!1,Iy:!1});c.ia && this.console.trace("Pushing pending request, " + this.length + " total");};f.prototype.PB=function(){return 0 < this.length;};f.prototype.q6a=function(l){var m;m=this.kE[l];m.GWa && m.Iy && (m=this.PA[l],this.PA.splice(l,1),this.kE.splice(l,1),c.ia && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ia && this.console.trace("Removing last request, contentEndPts: " + m.vc));};return f;})();b.Zua=r;},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uEa=void 0;r=a(2);c=r.__importDefault(a(27));f=c.default.Ra;l=c.default.ND;m=a(9);d=a(22);g=r.__importDefault(a(146));h=r.__importDefault(a(5));a=(function(){function k(n,q,p,t,u){this.Kv=n;this.Cs=q;this.I=p;this.H=t;this.tg=u;}k.prototype.KKb=function(n){n={type:"requestCreated",request:n};m.Ua(this.Cs,n.type,n);};k.prototype.JKb=function(n){var q;q=n.Oa.xb.P;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{va:q.id,offset:d.S.mb(this.Kv.Sga - q.X)},completePlayerStreamingTimestamp:d.S.mb(this.Kv.ss),trackIndex:n.stream.track.GE};m.Ua(this.Cs,n.type,n);};k.prototype.p_a=function(n,q,p){var t,u;t=this.tg;u=this.Kv.Gf;u.X3a(n);1 === t && this.I.C7 && (void 0 === u.Xma?u.Z3a(h.default.time.ba()):h.default.time.ba() - u.Xma > this.I.C7 && (n.bitrate !== u.IXa && (h.default.storage.set("vb",n.bitrate),u.bTb(n.bitrate)),u.Z3a(h.default.time.ba())));u.qU && u.qU === n || (this.Kv.Hz.JUb(q,u.qU,n),u.QSb(n),q=0,n.lb && n.lb.confidence && n.lb.Pa && (q=n.lb.Pa.Ca),u={va:this.Kv.xb.P.id,offset:d.S.mb(p - this.Kv.xb.P.X)},n={type:"streamSelected",nativetime:h.default.time.ba(),mediaType:t,streamId:n.id,manifestIndex:n.O.Gb,trackIndex:n.track.GE,streamIndex:n.ng,movieTime:p,bandwidth:q,longtermBw:q,rebuffer:0,position:u},m.Ua(this.Cs,n.type,n));};k.prototype.FKb=function(n,q,p){var t,u,v,w,x;t=q.O;u=t.Ol;v=this.Kv.Gf;w=t.aGb(q);x=w.Jma;w=w.bGb;p && q.dd && !v.rU?(w=l.Nw,q.xr=l.name[w],this.o_a(n,q.dd,q.xr,q.location,q.bitrate),v.rU=q.dd):!p && q.dd && q.dd !== v.rU && (w=w?void 0 === v.rU?l.Nw:u.pN === l.Raa?l.zeb:l.U9:l.yeb,q.xr=l.name[w],this.o_a(n,q.dd,q.xr,q.location,q.bitrate),v.rU=q.dd);v.PL || (w={type:"logdata",target:"startplay",fields:{}},this.tg === f.Sb?w.fields.alocid=q.location:this.tg === f.Fb && (w.fields.locid=q.location),m.Ua(this.Cs,w.type,w));p && q.location && !v.PL?(w=l.Nw,q.xr=l.name[w],this.m_a(t.Gb,n,q.location,q.lna,q.dd,q.cH,q.xr,q.Ov),v.PL=q.location):!p && q.location && q.location !== v.PL && (w=x?void 0 === v.PL?l.Nw:u.pN === l.Raa?l.Vbb:l.U9:l.Ubb,q.xr=l.name[w],this.m_a(t.Gb,n,q.location,q.lna,q.dd,q.cH,q.xr,q.Ov),q.Ov=void 0,v.PL=q.location);this.I.Dt || (q.DXa=q.location,q.GXa=q.dd);};k.prototype.s6=function(n){n={type:"requestsPruned",requests:n};m.Ua(this.Cs,n.type,n);};k.prototype.o_a=function(n,q,p,t,u){var v,w;v=this.tg === f.Fb?"video":"audio";w=g.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:v,server:q,reason:p,location:t,bitrate:u,confidence:w.confidence};w.confidence && (n.throughput=w.Pa.Ca);this.Kv.Gf.rU && (n.oldserver=q);m.Ua(this.Cs,n.type,n);};k.prototype.m_a=function(n,q,p,t,u,v,w,x){m.Ua(this.Cs,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:q,mediatype:this.tg === f.Fb?"video":"audio",location:p,locationlv:t,serverid:u,servername:v,selreason:w,seldetail:x});};k.prototype.Jda=function(n,q){q={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(q)};n.BC || m.Ua(this.Cs,q.type,q);};k.prototype.Sl=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ba() + ", " + n};m.Ua(this.Cs,n.type,n);};k.prototype.xyb=function(n){m.Ua(this.Cs,"transportReport",n);};return k;})();b.uEa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.aGa=void 0;c=a(2);f=c.__importStar(a(10));l=a(246);m=a(869);d=a(872);r=a(96);g=a(6);h=a(248);k=a(9);n=a(67);a=(function(q){function p(t,u,v,w,x,y,A,z){var B;B=q.call(this,t) || this;B.I=u;B.H=v;B.pm=w;B.Ld=x;B.tg=y;B.zka=z;B.$6a=!0;B.ug=new h.cY(B.H);B.$j=B.H.error.bind(B.H);B.Hb=B.H.warn.bind(B.H);B.rm=B.H.trace.bind(B.H);B.WKa();B.Oo=null === A || void 0 === A?void 0:A.sB(function(){return B.TQb();},"pruner");return B;}c.__extends(p,q);Object.defineProperties(p.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.tg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xb:{get:function(){return this.Ld;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$v:{get:function(){return 0 < this.xz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Zsa:{get:function(){return !this.jJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xz:{get:function(){return this.Ba.length;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gr:{get:function(){return this.Ba.Gr;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mPb:{get:function(){return this.ug.count;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{B1:{get:function(){return this.Ba.complete.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ss:{get:function(){return this.Ba.SOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sga:{get:function(){return this.Ba.ROa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bj:{get:function(){return this.Ba.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wm:{get:function(){return void 0 === this.Ba.Zc?0:this.Ba.Rd - this.Ba.Zc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{hp:{get:function(){return {ca:this.Ba.pB,V:Math.max(this.Ba.SOa - this.Ba.Zc,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lK:{get:function(){return this.Ba.$pb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{pB:{get:function(){return this.Ba.pB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ux:{get:function(){return this.Ba.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wC:{get:function(){return this.fhb();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cpa:{get:function(){return this.Ba.tEb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{U3:{get:function(){return this.Ba.length > this.Ba.Gr;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xo:{get:function(){return this.Ba.Xo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{BGb:{get:function(){return this.RJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{B0a:{get:function(){return this.Ba.length - this.wl;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Y:{get:function(){return this.Ba;},enumerable:!1,configurable:!0}});p.prototype.Df=function(){var t,u;u=this.Ba;setTimeout(function(){u.forEach(function(v){v.abort();v.Lc();});},0);this.WKa();this.ug.u2();null === (t=this.Oo) || void 0 === t?void 0:t.Ab();};p.prototype.reset=function(){this.Df();this.ug.M2a();};p.prototype.close=function(){this.ug.u2();};p.prototype.F3a=function(){this.EIa=!0;};p.prototype.Gka=function(){return {endMarked:void 0 !== this.ug.count,queueCount:this.ug.count,isComplete:this.ug.Iy,itemCount:this.ug.TOa,continuousEndPts:this.ug.uo().reduce(function(t,u){return u && !u.done && (u=u.value,100 > Math.abs(u.lT - t) || -1 === t)?u.yyb:t;},-1),sentinelItemCount:this.ug.uo().filter(function(t){return t && t.done;}).length,processedCount:this.ug.yub,rc:this.xz};};p.prototype.jtb=function(t,u,v){var w;w=this.I;g.assert(!t.header);t=w.owb && 1 === this.mediaType?new d.pva(v,w,u.track,t,this.Ba,this.H):l.$X.create(v,w,u.track,t,this.Ba,!1,this.H,this.zka);t.nb(this);this.sx(t);return t;};p.prototype.Rlb=function(t){var u;t.nb(this);t.Wea=!0;this.sx(t);u=Promise.resolve();t.complete?(this.Cca(t),this.pm.p_a(t.stream,t.Zc,t.Mc),u=this.L8(),this.mv(t)):(t.active && this.ZK(t),t.Wqa && this.uF(t));return u;};p.prototype.sx=function(t){var u,v;this.Ba.Dp(t);(null === (u=this.Oo) || void 0 === u?void 0:u.state) === n.sl.complete && (null === (v=this.Oo) || void 0 === v?void 0:v.ml());this.Cca(t);t.Fp && (this.jJ=!1);};p.prototype.FF=function(){return this.ug.nzb();};p.prototype.qga=function(){this.wl === this.Ba.length && this.EIa && this.ug.u2();};p.prototype.L8=function(){var t,u,v,w,z;t=this;v=Promise.resolve();w=this.Ld;if(!w.B4(this.tg) || this.wl === this.Ba.length)return v;for(var x=this.I.KIb,y=0,A=[];this.wl < this.Ba.length;){if(u=this.Ba.get(this.wl)){if(this.Ba.vSa && this.Ba.vSa.Ya < u.Ya)break;if(!u.Ws())break;A.push(u);++y;f.ya(this.Zc) || (this.Zc=u.Zc);}++this.wl;if(!f.fa(x) && y >= x)break;}if(A.length){void 0 !== this.ug.count && (this.$j("tryToAtach() but requestQueue has sentinel:",this.ug.count),this.ug.M2a());if(this.$6a)v=Promise.all(A.map(function(B){return t.ug.enqueue(B).then(function(){return t.Q3(B);});}));else for(u=0;u < A.length;u++){try{z=A[u];w.KBb(this.mediaType).Uub(z);this.Q3(z);}catch(B){return (this.wl-=A.length - u,Promise.reject(B));}}this.qga();}return v;};p.prototype.Q3=function(t){this.RJa=t;this.FSa(t);};p.prototype.pR=function(t,u){var v,w,x;v=this;w=[];if(0 !== this.Ba.Gr){x=this.Ba.u0a;this.Ba.bXb.Tsa(function(y){if(!f.fa(t) && y.O.Gb !== t || y.Fp || x > y.Zc)return !0;y.N2 && (v.jJ=!1);if(!v.b_(y))return (v.Hb("request abort failed:",y.toString()),!0);w.unshift(y);});this.Vda();w.length && "function" === typeof u && u(w);}};p.prototype.q7=function(){this.Vda();};p.prototype.TQb=function(){var t,u,v,w,x,y;return c.__generator(this,function(A){switch(A.label){case 0:A.label=1;case 1:if(!this.Ba.length)return [3,3];t=this.Ba.get(0);u=k.S.mb(null !== (y=null === (x=this.I.BN) || void 0 === x?void 0:x.V) && void 0 !== y?y:0);v=u.add(t.rf);return [4,n.mj.fO(v)];case 2:A.$d();if(1 >= this.Ba.complete.length && !t.Fp)return [3,3];g.assert(t === this.Ba.get(0));t.Qe || this.b_(t);w=this.Ba.splice(0,1);0 < this.wl && this.wl--;this.pm.s6(w);return [3,1];case 3:return [2];}});};p.prototype.QV=function(t,u){var v,w,x,y,A,z;v=this;w=this.I;x=!1;y=0;A=this.Ba.some(function(B){if(t < B.Rd)return (x && v.Cca(B),!0);++y;B.Qe || (v.Hb("pruning unappended request:",B && B.toString()),w.Gh && v.pm.Sl("prune pts:" + t + " unappended request:" + (B && B.toString())),B.N2 && (v.jJ=!1,x=!0),v.b_(B,u) || v.$j("MediaRequest.abort error:",B.Mg));});if(0 < y){z=this.Ba.splice(0,y);this.wl-=Math.min(y,this.wl);this.pm.s6(z);}return A;};p.prototype.D3=function(t){var u,v,w;void 0 === t && (t={eS:null,JM:null,Zc:null,jl:0,Eg:0,Y:[]});u=this.I;v=this.Ba;f.ya(v.Zc) && (null === t.Zc || v.Zc < t.Zc) && (t.Zc=v.Zc);w=this.ss;void 0 !== w && null === t.eS && (t.eS=w);w=v.Rd;void 0 !== w && (null === t.JM || w > t.JM) && (t.JM=w);t.jl+=v.jl;t.Eg=u.Nsa?t.Eg + v.X1a:t.Eg + v.pB;Array.prototype.unshift.apply(t.Y,v.$d.Y);return t;};p.prototype.Gs=function(t){if(this.Ba.length && (t=this.Ba.kSa(t)))return t;};p.prototype.Qkb=function(t){var u,v,w;v=t.Nd;t=t.Mc;g.assert(v,"expected contentEndTimestamp to be defined");g.assert(void 0 !== t,"expected contentStartPts to be defined");t=this.Ba.bja(t);w=this.Ba.get(t);g.assert(w && void 0 !== w.Mc && void 0 !== w.vc && void 0 !== w.index,"expected existing request to be defined with properties");if(null === (u=w.Nd) || void 0 === u?0:u.equal(v))return (this.CLa(t),[w.vc,w.index + 1]);this.CLa(t - 1);return [w.Mc,w.index];};p.prototype.wo=function(){var t,u;t=this;u=[];this.Ba.forEach(function(v){var w;w=v.oua();1 === w?u.push(v):2 === w && t.xb.O.qh("swapUrl failure");});return u;};p.prototype.xM=function(t){t.ZB && t.Ws() && this.L8();this.uF(t);};p.prototype.uk=function(t){var u,v;t.ZB && !t.Qe && this.L8();(null === (u=this.Oo) || void 0 === u?void 0:u.state) === n.sl.complete && (null === (v=this.Oo) || void 0 === v?void 0:v.ml());this.mv(t);};p.prototype.$ea=function(t){var u,v,w;u=1 === this.tg?"v_":"a_";v=this.Ba;w=v.VK(t);t=0 <= w?v.get(w):void 0;return (v=0 <= w && w + 1 < v.length?v.get(w + 1):void 0) && t?t.Rd !== v.Zc?u + "rg":t.complete && v.complete?u + "uk":u + "fd":u + "rm";};p.prototype.fhb=function(){return this.Ba.Xo + this.Ba.Gr;};p.prototype.WKa=function(){var t,u,v;u=void 0 !== this.Ba && 0 < this.Ba.length;v=this.Ba;this.Ba=new m.kva(this.H,this);this.wl=0;this.ug.clear();this.RJa=void 0;this.Zc=null;null === (t=this.Oo) || void 0 === t?void 0:t.ml();this.EIa=this.jJ=!1;u && (t=v.map(function(w){return w;}),this.pm.s6(t));};p.prototype.Cca=function(t){this.jJ?t.N2=!1:this.jJ=t.N2=!0;};p.prototype.CLa=function(t){var u;for(t+=1;t < this.xz;t++){u=this.Ba.get(t);g.assert(u,"expected request to exist");this.ug.remove(u);u.aborted || (this.b_(u),u.Lc());}this.Vda();};p.prototype.b_=function(t,u){if(!t.abort())return !1;"function" === typeof u && u(t);return !0;};p.prototype.Vda=function(){var t,u,v,w;t=this;if(0 !== this.Ba.length){v=[];w=0;this.Ba.dPb(function(x,y){y < t.wl && ++w;v.push(x);});this.wl-=w;null === (u=this.Oo) || void 0 === u?void 0:u.ml();this.pm.s6(v);}};return p;})(r.nw);b.aGa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.hva=void 0;c=a(2);f=a(111);l=c.__importDefault(a(27));r=c.__importDefault(a(5));m=a(9);d=a(6);g=a(247);h=a(98);k=a(240);n=a(113);q=r.default.pq;a=(function(p){function t(u,v,w,x,y,A,z,B){var D;x=p.call(this,u,w,x,A,z,B) || this;y=h.dm.prototype.toString.call(x) + (y?"(cache)":"");B={offset:w.offset,ca:w.Coa + 8,responseType:0};x.push(new k.qO(u,v,y + "(moof)",B,x,A,z));B={offset:w.offset + B.ca,ca:w.ca - B.ca,responseType:q.Yb && !q.Yb.pW.RP?0:1};if(x.mediaType === l.default.Ra.Fb && x.na){if(0 < x.na.start){D=x.oSa(x.na.start);D && (B.offset=w.offset + D,B.ca=w.ca - D);}x.na.end < x.CB && (D=x.oSa(x.na.end)) && (B.ca-=w.ca - D);}x.push(new k.qO(u,v,y + "(mdat)",B,x,A,z));return x;}c.__extends(t,p);t.prototype.Ws=function(){return !this.Qe && ! !this.Ba.length && this.Ba.every(function(u){return u.Ws();});};t.prototype.LE=function(u){var v,w,x,y,A,z,B,D;if(this.Qe)return {status:n.ej.uw};if(!this.Ws())return {status:n.ej.xf};v=!1;w=this.Ba[0].response;x=w.slice(0,w.byteLength - 8);y=new DataView(w);w=y.getUint32(x.byteLength);d.assert("mdat" === f.un(y.getUint32(x.byteLength + 4)));A=this.na && 0 < this.na.start;y=this.na && this.na.end < this.CB;if(this.na && (A || y)){if(A)(z=new f.rq(this.H,this.stream,x),B=z.jra(this.na.start,this.U));if(y && !1 !== B){z=new f.rq(this.H,this.stream,B?m.qB(B.jd):x);D=z.nra(this.na.end - this.na.start,this.U);}if(x=y?D:B)(v=u.appendBuffer(m.qB(x.jd),m.Gp(this)),B && (w-=B.mi),D && (w-=D.mi));z=this.Yda();}else v=u.appendBuffer(x,m.Gp(this));v && (v=u.appendBuffer(f.Ty(w - 8),m.Gp(this))) && (v=u.appendBuffer(this.Ba[1].response,m.Gp(this)));this.Qe=v;this.jQb();return {status:v?n.ej.uw:n.ej.xf,Jj:z};};t.prototype.toString=function(){return "ID: " + this.Jh() + ":" + p.prototype.toString.call(this);};return t;})(g.bD);b.hva=a;},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.A8a=void 0;r=a(2);c=a(111);f=a(244);l=r.__importDefault(a(27));m=a(9);a(6);d=a(22);g=r.__importDefault(a(5));h=a(113);a=(function(){var g60;g60=2;for(;g60 !== 14;){switch(g60){case 4:k.prototype.QIa=function(n){var l60,q;l60=2;for(;l60 !== 4;){switch(l60){case 2:q=this.Cd;n=this.bgb(n);return {vja:n.vja,Yp:n.STb && q.u4?q.u4 || 0:0};break;}}};k.prototype.Jfb=function(n,q,p){function t(E){var n60,F,C;n60=2;for(;n60 !== 4;){switch(n60){case 2:E=Math.floor(Math.min(A,E) / x.Xb);(F=x.Xb * E,C=B - F);return {jN:E,lp:F,Oyb:C,gV:0 < E && C < y / 1E3};break;}}}var m60,u,v,w,x,y,A,z,B,D;m60=2;for(;m60 !== 11;){switch(m60){case 2:(u=this.Cd,v=!0,w=!1);n=f.x3(u,n);(x=this.qa,y=x.U,A=this.lp,z=q?q.dqa:this.V0a - 2 * x.Xb,B=z - this.KSa);p=u.qyb || p;m60=3;break;case 7:w=w.gV;m60=6;break;case 6:w || (D=z - d.S.a6(n,y),D=new d.S(D - this.KSa,y),q=t(u.Xf?Infinity:Math.max(0,D.Xb)),D=q.jN,(q=q.gV) && 0 < D && !u.Xf && --D);this.th({start:0,end:D});D < (u.BZa || 1) && (v=!1);return {xTb:v,YHb:w};break;case 3:m60=q && !p?9:6;break;case 9:w=t(B);D=w.jN;m60=7;break;}}};k.prototype.LE=function(n,q,p,t,u,v){var o60,w,x;o60=2;for(;o60 !== 10;){switch(o60){case 5:return {status:h.ej.xf};break;case 4:o60=!this.na || this.Fp || this.tv?3:11;break;case 1:o60=this.Qe?5:4;break;case 2:w=this.Cd;o60=1;break;case 3:o60=this.na && (this.Fp || this.tv)?9:12;break;case 7:x=x.Jj;o60=6;break;case 9:x=this.Igb(n,q,t,u,v);n=x.W;o60=7;break;case 6:this.Qe=!0;this.bW();return {status:n?h.ej.uw:h.ej.xf,Jj:x};break;case 12:n=this.mediaType === l.default.Ra.Sb && w.yz && p && this.Ut && p.Rd >= this.Rd && this.vc - this.Ut < this.Ut - this.Mc?!0:n.appendBuffer(this.response,m.Gp(this));o60=6;break;case 11:(x=this.Hgb(n,q,p,u,v),n=x.W,x=x.Jj);o60=6;break;}}};k.prototype.Hgb=function(n,q,p,t,u){var p60,v,w,x,y,A;p60=2;for(;p60 !== 11;){switch(p60){case 8:var f52="me";f52+="dia|";f52+="as";f52+="ejs";var U52="M";U52+="P";U52+="4";p60=(q=new c.rq(new g.default.Console(U52,f52),this.stream,this.response),q=q.jra(this.na.start,this.jM,w.Yp))?7:14;break;case 2:(w={Yp:0},x=!1,y=!0);this.mediaType === l.default.Ra.Sb && p && (t?u && this.IS():this.UIa(p)?p.na && this.na && this.na.start !== p.na.end && this.th({start:p.na.end}):(w=this.QIa(q),p.Rd === this.Zc && (w.Yp=0)));void 0 === (null === (v=this.na) || void 0 === v?void 0:v.a8)?this.mediaType === l.default.Ra.Sb && !p && this.na && (w.Yp=Math.min(this.na.end - this.na.start,Math.max(this.zhb(),w.Yp || 0))):w.Yp=this.na.a8;0 >= this.duration && (y=!1,x=!0);p60=3;break;case 9:p60=this.na && (0 < this.na.start || w.Yp)?8:13;break;case 3:p60=y?9:12;break;case 13:x=n.appendBuffer(this.response,m.Gp(this));p60=12;break;case 7:x=n.appendBuffer(m.qB(q.jd),m.Gp(this));p60=6;break;case 6:A=this.Yda(w);p60=12;break;case 12:return {W:x,Jj:A};break;case 14:var O52=" ";O52+="from";O52+=" [";O52+=" ";var G52="As";G52+="eFragmentMedia";G52+="Request: Fragment";G52+=" edit failed for ";(this.H.error(G52 + this.toString() + O52 + this.aL + "-" + this.W2 + "]"),x=!0);p60=12;break;}}};g60=7;break;case 7:k.prototype.Igb=function(n,q,p,t,u){var q60,v,w,x,y;q60=2;for(;q60 !== 11;){switch(q60){case 9:q60=(x=new c.rq(this.H,this.stream,this.response),x=x.nra(this.na && this.na.end,this.U,w.Yp))?8:14;break;case 2:(v=this.Cd,w={Yp:0},x=!0);this.mediaType === l.default.Ra.Sb && (t?u && (this.m2(1),x=0 < this.na.end):this.UIa(p)?p.na && 0 !== p.na.start?this.th({start:0,end:p.na.start}):x=!1:(w=this.QIa(q),v.yz || (q=this.Jfb(q,p,w.vja),(x=q.xTb) && q.YHb && (w.Yp=0))));x && 0 === this.duration && (x=!1);q60=4;break;case 7:y=this.Yda(w);q60=6;break;case 4:q60=x?3:12;break;case 8:n=n.appendBuffer(m.qB(x.jd),m.Gp(this));q60=7;break;case 3:q60=this.na && this.na.end < this.CB || w.Yp?9:13;break;case 13:n=n.appendBuffer(this.response,m.Gp(this));q60=6;break;case 6:return {W:n,Jj:y};break;case 14:var E52=" fr";E52+="o";E52+="m [";E52+=" ";var b52="AseFragm";b52+="entMediaRequest: Fragm";b52+="ent edit failed for ";(this.H.error(b52 + this.toString() + E52 + this.aL + "-" + this.W2 + "]"),n=!0);q60=6;break;case 12:n=!0;q60=6;break;}}};return k;break;case 2:k.prototype.UIa=function(n){var i60;i60=2;for(;i60 !== 1;){switch(i60){case 2:return n && n.K === this.K && n.lT === this.lT?!0:!1;break;}}};k.prototype.zhb=function(){var j60,n;j60=2;for(;j60 !== 5;){switch(j60){case 2:n=this.Cd;return n.ck && !n.dB && this.stream.he && (n.v4 || n.w4 && -1 !== n.w4.indexOf(this.stream.$))?n.BWa || 2:0;break;}}};k.prototype.bgb=function(n){var k60,q;k60=2;for(;k60 !== 5;){switch(k60){case 2:q=this.Cd;return {vja:!1,STb:!(void 0 !== q.m8?q.m8:n && n.m8)};break;}}};g60=4;break;}}function k(){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 2:var u52="1SI";u52+="YbZ";u52+="rNJCp9";u52;h60=1;break;}}}})();b.A8a=a;b.default=new a();},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kva=void 0;c=a(2);a(6);f=a(870);r=a(43);l=a(871);m=a(112);d=a(96);g=a(239);a=(function(h){function k(n,q){var p,t;p=this;t=[new l.ZX(n),new l.ZX(n),new l.ZX(n)];p=h.call(this,t,function(u){return u.complete?p.empty || u.Ya <= p.aqb?0:1:u.active?1:2;}) || this;t=c.__read(t,3);p.Yh=t[0];p.Me=t[1];p.fs=t[2];p.Dq=0;p.nca=0;p.H=n;p.Ne=q;return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{ca:{get:function(){return this.Yh.ca + this.Me.ca + this.fs.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bXb:{get:function(){return this.fs;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Yh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{X1a:{get:function(){return this.Dq;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pB:{get:function(){return this.Yh.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jl:{get:function(){return this.Yh.ca + this.Me.ca - this.Dq;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cXb:{get:function(){return this.fs.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.Lyb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ao:{get:function(){return this.hnb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sia:{get:function(){return !this.Yh.empty || this.fs.empty || this.Me.empty?this.first:this.Me.Ya < this.fs.Ya?this.Me.first:this.fs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{MXa:{get:function(){return this.fs.empty || this.Me.empty?this.ao:this.Me.kb < this.fs.kb?this.fs.ao:this.Me.ao;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vSa:{get:function(){return this.fs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ya:{get:function(){return this.sia && this.sia.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kb:{get:function(){return this.MXa && this.MXa.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Oj:{get:function(){return this.first && this.first.Oj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$pb:{get:function(){return this.Yh.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tEb:{get:function(){return this.vc - this.ROa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aqb:{get:function(){return this.Yh.empty?this.Ya:this.Yh.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ROa:{get:function(){return this.Yh.empty?this.Mc:this.Yh.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{SOa:{get:function(){return this.Yh.empty?this.Zc:this.Yh.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{u0a:{get:function(){return this.Me.Rd || this.Yh.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gr:{get:function(){return this.fs.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Xo:{get:function(){return this.Me.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{UOa:{get:function(){return this.Yh.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$d:{get:function(){return this.Yh.concat(this.Me);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Oq:{get:function(){return this.cg;},enumerable:!1,configurable:!0}});k.prototype.RI=function(n){var q;n.aborted?++this.nca:this.Dq+=n.bytesReceived || 0;if(this.empty)this.cg=new g.cA(this,{});else if(n.Ya !== this.kb)if(n.Ya > this.cg.kb)this.cg.DW(this.cg.kb);else if(n.Ya < this.Ya || n.Ya === this.cg.kb){q=n.kb;this.nyb(function(p,t){return p.Ya - t.Ya;},function(p){q=p.Ya === q?p.kb:q;});q === Math.max(this.kb,n.kb)?this.cg.Gga():this.cg.DW(q);}n.Asa(this);};k.prototype.hx=function(n){n.aborted?--this.nca:this.Dq-=n.bytesReceived;this.empty?this.cg=void 0:n.Ya !== this.kb && n.kb <= this.cg.kb && n.Ya > this.cg.Ya && this.cg.DW(n.Ya);n.xOa();};k.prototype.push=function(n){this.RI(n);return h.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.hx(n);return n;};k.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.hx(n);return n;};k.prototype.unshift=function(n){this.RI(n);return h.prototype.unshift.call(this,n);};k.prototype.Dp=function(n){this.RI(n);h.prototype.Dp.call(this,n);};k.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.hx(n);return !0;};k.prototype.splice=function(n,q){for(var p=[],t=2;t < arguments.length;t++){p[t - 2]=arguments[t];}t=h.prototype.splice.apply(this,c.__spread([n,q],p));p.forEach(this.RI.bind(this));t.forEach(this.hx.bind(this));return t;};k.prototype.dPb=function(n){var q;q=this;this.reduce(function(p,t,u){t.aborted && (n && n(t,u,q),0 === p.length || p[0].end !== u?p.unshift({start:u,end:u + 1}):p[0].end+=1);return p;},[]).forEach(function(p){return q.splice(p.start,p.end - p.start);});};k.prototype.bja=function(n){return this.lSa(function(q){return q.bja(n);});};k.prototype.VK=function(n){return this.lSa(function(q){return q.VK(n);});};k.prototype.kSa=function(n){n=this.VK(n);return -1 !== n?this.get(n):void 0;};k.prototype.$Rb=function(n){var p;for(var q=[];n < this.length;){p=this.get(n);p && q.push(p);n++;}return q;};k.prototype.ez=function(n){this.move(n);this.ZK(n);};k.prototype.yM=function(n){this.Dq+=n.bytesReceived - n.mr;this.$K(n);};k.prototype.uk=function(n){for(this.Dq+=n.bytesReceived - n.mr;this.Me.first && this.Me.first.complete && (this.Yh.empty?this.Me.first === this.sia:this.Me.first.Ya === this.Yh.kb);){this.vTb();}this.mv(n);};k.prototype.rV=function(n,q,p){this.Dq-=n.bytesReceived;++this.nca;this.YK(n,q,p);};return k;})(f.Qwa);b.kva=a;r.wf(d.nw,a,!1);r.wf(m.dA,a);r.wf(m.bA,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qwa=void 0;c=a(2);a(6);r=(function(){function f(l,m){this.Xc=l;this.bJ=m;this.bx();}Object.defineProperties(f.prototype,{length:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.We;},enumerable:!1,configurable:!0}});f.prototype.Lyb=function(){return this.sg && this.sg.get(0);};f.prototype.hnb=function(){return this.XI && this.XI.get(this.XI.length - 1);};f.prototype.get=function(l){0 > l && (l+=this.length);for(var m=0;m < this.Xc.length;++m){if(this.Ch[m + 1] > l)return this.Xc[m].get(l - this.Ch[m]);}};f.prototype.push=function(l){this.Xc[this.bJ(l)].push(l);this.bx();return this.We;};f.prototype.shift=function(){var l;if(this.sg){l=this.sg.shift();this.bx();return l;}};f.prototype.pop=function(){var l;if(this.XI){l=this.XI.pop();this.bx();return l;}};f.prototype.unshift=function(l){this.Xc[this.bJ(l)].unshift(l);this.bx();return this.We;};f.prototype.Dp=function(l){var m;m=this.bJ(l);this.Xc[m].Dp(l);this.bx();};f.prototype.remove=function(l){var m;m=this.Xc.some(function(d){return d.remove(l);});m && this.bx();return m;};f.prototype.splice=function(l,m){var p,t,u,v;for(var d,g=[],h=2;h < arguments.length;h++){g[h - 2]=arguments[h];}h=[];for(var k,n=l + Math.max(0,m),q=0;q < this.Xc.length;++q){p=this.Xc[q];t=this.Ch[q];u=this.Ch[q + 1];if(l < u){v=l - t;t=Math.min(n - t,p.length);void 0 === k && 0 < v && t < p.length?Array.prototype.push.apply(h,p.splice.apply(p,c.__spread([v,t - v],g))):(Array.prototype.push.apply(h,p.splice(v,t - v)),void 0 === k && (k=0 < q && 0 === v?q - 1:q));l=u;if(l >= n)break;}}if(g.length && void 0 !== k){for(n=this.bJ(g[0]);0 < k && n < k && this.Xc[k].empty;){--k;}for(;g.length && n === k;){this.Xc[k].push(g.shift());if(!g.length)break;n=this.bJ(g[0]);}for(;g.length && ++k < this.Xc.length && this.Xc[k].empty;){for(;g.length && n === k;){this.Xc[k].push(g.shift());if(!g.length)break;n=this.bJ(g[0]);}}g.length && (d=this.Xc[k]).splice.apply(d,c.__spread([0,0],g));}this.bx();return h;};f.prototype.find=function(l){var m,d;m=this;return this.Xc.some(function(g,h){d=g.find(m.aB(l,h));return void 0 !== d;})?d:void 0;};f.prototype.findIndex=function(l){var d;for(var m=0;m < this.Xc.length;++m){d=this.Xc[m].findIndex(this.aB(l,m));if(-1 !== d)return d + this.Ch[m];}return -1;};f.prototype.indexOf=function(l){var d;for(var m=0;m < this.Xc.length;++m){d=this.Xc[m].indexOf(l);if(-1 !== d)return d + this.Ch[m];}return -1;};f.prototype.map=function(l){var m,d;m=this;d=this.Xc.map(function(g,h){return g.map(m.aB(l,h));});return Array.prototype.concat.apply([],d);};f.prototype.reduce=function(l,m){var d;d=this;return this.Xc.reduce(function(g,h,k){return h.reduce(d.Lkb(l,k),g);},m);};f.prototype.forEach=function(l){var m;m=this;this.Xc.forEach(function(d,g){d.forEach(m.aB(l,g));});};f.prototype.O2=function(l){for(var m=this.Xc.length - 1;0 <= m;--m){this.Xc[m].O2(this.aB(l,m));}};f.prototype.some=function(l){var m;m=this;return this.Xc.some(function(d,g){return d.some(m.aB(l,g));});};f.prototype.Tsa=function(l){for(var m=this.Xc.length - 1;0 <= m;--m){if(this.Xc[m].Tsa(this.aB(l,m)))return !0;}return !1;};f.prototype.every=function(l){var m;m=this;return this.Xc.every(function(d,g){return d.every(m.aB(l,g));});};f.prototype.nyb=function(l,m){var n,q;function d(p){return p.reduce(function(t,u,v,w){return void 0 === u?t:void 0 === t?v:0 > l(u,w[t])?v:t;},void 0);}for(var g=this,h=this.Xc.map(function(){return 0;}),k=this.Xc.filter(function(p){return p.empty;}).length;k < this.Xc.length;){n=h.map(function(p,t){return p < g.Xc[t].length?g.Xc[t].get(p):void 0;});q=d(n);m(n[q],this.Ch[q] + h[q],this);++h[q];h[q] === this.Xc[q].length && ++k;}};f.prototype.move=function(l){return this.remove(l)?(this.Dp(l),!0):!1;};f.prototype.vTb=function(){var l;if(this.Xc[1].length){l=this.Xc[1].shift();this.Xc[0].push(l);this.bx();}};f.prototype.lSa=function(l){for(var m=-1,d=0;d < this.Xc.length;++d){if((m=l(this.Xc[d]),-1 !== m)){m+=this.Ch[d];break;}}return m;};f.prototype.toJSON=function(){return this.map(function(l){return l.toJSON();});};f.prototype.bx=function(){var m;this.We=0;this.Ch=[0];this.XI=this.sg=void 0;for(var l=0;l < this.Xc.length;++l){m=this.Xc[l];this.We+=m.length;this.Ch.push(this.Ch[this.Ch.length - 1] + m.length);!this.sg && m.length && (this.sg=m);m.length && (this.XI=m);}};f.prototype.aB=function(l,m){var d,g;d=this;g=this.Ch[m];return function(h,k){return l(h,g + k,d);};};f.prototype.Lkb=function(l,m){var d,g;d=this;g=this.Ch[m];return function(h,k,n){return l(h,k,g + n,d);};};return f;})();b.Qwa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ZX=void 0;c=a(2);f=a(6);r=a(43);l=a(239);a=a(112);m=(function(){function d(g,h){this.Ka=[];this.cg=void 0;this.Ic=0;this.H=g;h && h.length && (Array.isArray(h)?(this.Ka=h.slice(),this.cQ(0,this.Ka.length)):h instanceof d && (this.Ka=h.Ka.slice(),this.cQ(0,this.Ka.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ka.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ka.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ka[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ao:{get:function(){return this.Ka[this.Ka.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ya:{get:function(){return this.first && this.first.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kb:{get:function(){return this.ao && this.ao.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oq:{get:function(){return this.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oj:{get:function(){return this.first && this.first.Oj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Ka;},enumerable:!1,configurable:!0}});d.prototype.Vmb=function(){var g;if(0 === this.Ka.length)(f.assert(void 0 === this.cg),f.assert(0 === this.Ic));else {f.assert(this.cg instanceof l.cA);f.assert("number" === typeof this.Ic);f.assert(void 0 !== this.Oq && this.Oq.Ya === this.Ya);g=this.Ka.reduce(function(h,k,n){return 0 === n || k.Ya === h?k.kb:h;},0);f.assert(this.Oq.kb === g);f.assert(this.Ka.reduce(function(h,k,n){return 0 === n || k.Ya === h?k.kb:h;},0) === this.Oq.kb);f.assert(this.Ka.reduce(function(h,k){return h + k.ca;},0) === this.Ic);}};d.prototype.get=function(g){0 > g && (g+=this.Ka.length);return this.Ka[g];};d.prototype.push=function(g){this.Ka.push(g);this.cQ(this.Ka.length - 1);return this.length;};d.prototype.unshift=function(g){this.Ka.unshift(g);this.cQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ka.length)return (this.Xda(this.Ka.length - 1),this.Ka.pop());};d.prototype.shift=function(){if(0 !== this.Ka.length)return (this.Xda(0),this.Ka.shift());};d.prototype.splice=function(g,h){for(var k,n=[],q=2;q < arguments.length;q++){n[q - 2]=arguments[q];}0 > g && (g+=this.Ka.length);0 > g && (g=0);g > this.Ka.length && (g=this.Ka.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Ka.length - g);0 < h && this.Xda(g,g + h);q=(k=this.Ka).splice.apply(k,c.__spread([g,h],n));0 < n.length && this.cQ(g,g + arguments.length - 2);return q;};d.prototype.slice=function(g,h){void 0 === g && (g=0);void 0 === h && (h=this.Ka.length);0 > g && (g+=this.Ka.length);if(g >= this.Ka.length)return new d(this.H);h > this.Ka.length && (h=this.Ka.length);0 > h && (h+=this.Ka.length);return new d(this.H,this.Ka.slice(g,h));};d.prototype.Dp=function(g){if(0 === this.Ka.length || g.Ya >= this.kb)this.push(g);else if(g.kb <= this.Ya)this.unshift(g);else {for(var h=0,k=this.Ka.length - 1,n;h < k - 1;){n=Math.floor((k + h) / 2);f.assert(n !== k && n !== h);g.Ya >= this.Ka[n].kb?h=n:k=n;}f.assert(h !== k);f.assert(this.Ka[h].kb <= g.Ya && this.Ka[k].Ya >= g.kb);this.splice(k,0,g);}};d.prototype.remove=function(g){g=this.Ka.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}g=g.map(function(k){return k.Ka;});return new d(this.H,Array.prototype.concat.apply(this.Ka,g));};d.prototype.forEach=function(g){var h;h=this;this.Ka.forEach(function(k,n){return g(k,n,h);});};d.prototype.some=function(g){var h;h=this;return this.Ka.some(function(k,n){return g(k,n,h);});};d.prototype.every=function(g){var h;h=this;return this.Ka.every(function(k,n){return g(k,n,h);});};d.prototype.map=function(g){var h;h=this;return this.Ka.map(function(k,n){return g(k,n,h);});};d.prototype.reduce=function(g,h){var k;k=this;return this.Ka.reduce(function(n,q,p){return g(n,q,p,k);},h);};d.prototype.indexOf=function(g){return this.Ka.indexOf(g);};d.prototype.find=function(g){var h,k;h=this;return this.Ka.some(function(n,q){k=q;return g(n,q,h);})?this.Ka[k]:void 0;};d.prototype.findIndex=function(g){var h,k;h=this;return this.Ka.some(function(n,q){k=q;return g(n,q,h);})?k:-1;};d.prototype.filter=function(g){var h;h=this;return new d(this.H,this.Ka.filter(function(k,n){return g(k,n,h);}));};d.prototype.O2=function(g){for(var h=this.Ka.length - 1;0 <= h;--h){g(this.Ka[h],h,this);}};d.prototype.Tsa=function(g){for(var h=this.Ka.length - 1;0 <= h;--h){if(g(this.Ka[h],h,this))return !0;}return !1;};d.prototype.bja=function(g){if(this.empty || g < this.Mc || g >= this.vc)return -1;for(var h=0,k=this.Ka.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(g >= this.Ka[n].Mc && g < this.Ka[n].vc){k=n;break;}g < this.Ka[n].vc?k=n - 1:h=n + 1;}return k;};d.prototype.VK=function(g){if(this.empty || g < this.Zc || g >= this.Rd)return -1;for(var h=0,k=this.Ka.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(g >= this.Ka[n].Zc && g < this.Ka[n].Rd){k=n;break;}g < this.Ka[n].Rd?k=n - 1:h=n + 1;}return k;};d.prototype.kSa=function(g){g=this.VK(g);return 0 <= g?this.Ka[g]:void 0;};d.prototype.E0=function(g){var h;h=this.Ka[g].kb;for(g+=1;g < this.Ka.length && h === this.Ka[g].Ya;++g){h=this.Ka[g].kb;}g < this.Ka.length?void 0 === this.cg?this.cg=new l.cA(this,{kb:h}):this.cg.DW(h):void 0 === this.cg?this.cg=new l.cA(this,{}):this.cg.Gga();};d.prototype.RI=function(g,h){for(var k=g;k < h;++k){this.Ic+=this.Ka[k].ca;}void 0 === this.cg || 0 === g?this.E0(0):this.cg.kb === this.kb?this.E0(g - 1):this.Ka[g].Ya === this.cg.kb && this.E0(g);};d.prototype.hx=function(g,h){var k;if(0 === g)(this.cg=void 0,h < this.length && this.E0(h));else {k=this.cg;k.kb > this.Ka[g - 1].kb && (h < this.length?k.DW(this.Ka[g - 1].kb):k.Gga());}for(;g < h;++g){this.Ic-=this.Ka[g].ca;}};d.prototype.cQ=function(g,h){void 0 === h && (h=g + 1);this.RI(g,h);};d.prototype.Xda=function(g,h){void 0 === h && (h=g + 1);this.hx(g,h);};return d;})();b.ZX=m;r.wf(a.dA,m);r.wf(a.bA,m);},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pva=void 0;c=a(2);f=a(111);l=a(6);c.__importDefault(a(5));m=a(9);d=a(247);g=a(98);h=a(240);k=a(113);r=(function(n){function q(p,t,u,v,w,x){t=n.call(this,p,v,w,t,x) || this;t.Fgb=u;t.E_=q.iD.INIT;t.U3b=v.offset;t.uda=g.dm.prototype.toString.call(t) + " multiple";t.bjb=v.ca;t.IJ(p.url,v.offset,8,0);return t;}c.__extends(q,n);Object.defineProperties(q.prototype,{data:{get:function(){return this.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return this.bjb;},enumerable:!1,configurable:!0}});q.prototype.uk=function(p){var t,u;this.mm=this.E_ === q.iD.INIT?p.response:m.qB(this.mm,p.response);p.bW();switch(this.E_){case q.iD.INIT:(t=new DataView(this.mm),u=t.getUint32(0));t=t.getUint32(4);f.un(t);this.IJ(p.url,p.offset + p.ca,u,0);d.bD.prototype.uk.call(this,p);this.E_=q.iD.FBa;break;case q.iD.FBa:t=new DataView(this.mm);u=t.getUint32(this.PIa - 8);t=t.getUint32(this.PIa - 4);f.un(t);this.IJ(p.url,p.offset + p.ca,u - 8,0);this.E_=q.iD.ABa;d.bD.prototype.uk.call(this,p);break;case q.iD.ABa:d.bD.prototype.uk.call(this,p);break;default:l.assert(!1);}};q.prototype.LE=function(p){if(this.Qe)return {status:k.ej.uw};if(!this.Ws())return {status:k.ej.xf};this.Qe=p.appendBuffer(this.mm,m.Gp(this));return {status:this.Qe?k.ej.uw:k.ej.xf};};q.prototype.IJ=function(p,t,u,v){p=new h.qO(this.stream,this.Fgb,this.uda + " (" + this.Ba.length + ")",{K:this.K,mediaType:this.mediaType,Na:this.Na,bitrate:this.bitrate,offset:t,ca:u,url:p,location:this.location,zd:this.zd,responseType:v},this,this.Cd,this.H);this.push(p);this.PIa=this.Ba.reduce(function(w,x){return w + x.ca;},0);};q.iD={INIT:0,FBa:1,ABa:2,name:["INIT","MOOF","MDAT"]};return q;})(d.bD);b.pva=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QGa=void 0;c=a(244);f=a(22);r=(function(){function l(m,d){this.Xf=m;this.console=d;this.hE=Infinity;this.mQ=this.i0=0;this.sLa=!1;}l.prototype.NQb=function(){this.sLa=!0;};l.prototype.Qxb=function(m,d,g,h,k){var n;if(this.Xf){n=m.Y;if(n){if(1 === g)(g=n.Em(Math.ceil(this.Xf * m.qa.EG),void 0,!0),n=m.mk(g),m=n.KS.Xk(m.qa),n.th({start:0,end:this.Xf - g * m}),this.hE=this.Xf);else {void 0 !== h.H4a?(d=h.H4a,g=d * m.qa.V):(g=c.x3(h,k) + Math.ceil(h.Nmb * m.qa.EG),f.S.mb(g).Xk(m.qa),g=d + g,d=Math.ceil(g / m.qa.EG));g=n.Em(g,void 0,!0);for(k=h=0;k < g;++k){n=m.mk(k);h+=n.KS.Xk(m.qa);}h=d - h;n=m.mk(g);n.th({end:h});this.hE=d;}n.IYa();return n;}}};l.prototype.vEb=function(m){this.mQ+=m.E2a;this.console.warn("StallAtFrameCount, adding frames: " + m.E2a,"total frames: " + this.mQ,"needed frames: " + this.hE);};l.prototype.nDb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.i0,"needed: " + this.hE);return this.i0 >= this.hE;};l.prototype.mDb=function(){return this.mQ >= this.hE;};l.prototype.xEb=function(m,d){this.i0+=this.EB(m,d);};l.prototype.Mwb=function(m,d,g){m.E2a=this.EB(d,g);};l.prototype.EB=function(m,d){return m.KS.Xk(d.qa);};l.prototype.Lx=function(){if(!this.mDb())return !1;if(this.sLa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.mQ + " >= " + this.hE);return !0;};return l;})();b.QGa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ga=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(27));l=r.__importDefault(a(5));m=a(30);d=a(15);g=a(249);h=a(875);k=new l.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ka[d.ka.$g],d.ka[d.ka.$c],d.ka[d.ka.Af],d.ka[d.ka.Hc],d.ka[d.ka.Xh],"checkBuffering"];q={first:a(877),random:a(878),optimized:a(178).default,roundrobin:a(882),selectaudio:a(416),selectaudioadaptive:a(883),"default":a(178).default,lowest:a(884),highest:a(885),throughputthreshold:a(886),replay:a(887).default,checkdefault:a(889),testscript:a(890)};p={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var r60;r60=2;for(;r60 !== 6;){switch(r60){case 4:t.prototype.mqa=function(u,v,w,x){var C60,y,A;C60=2;for(;C60 !== 5;){switch(C60){case 2:this.O2(u,function(z){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:z.Zs && z.lb && z.lb.confidence?(y !== z.lb && (y=z.lb,v && z.lb && (z.lb.$q=!0),A=Math.floor(x(z.lb,w,z.track.O.Av[0])),A=0 === A?1:A),z.Pa=A):z.Pa=void 0;D60=1;break;}}});C60=5;break;}}};t.prototype.O2=function(u,v){var E60,w;E60=2;for(;E60 !== 3;){switch(E60){case 4:--w;E60=1;break;case 1:E60=0 <= w?5:3;break;case 5:v(u[w],w,u);E60=4;break;case 2:w=u.length - 1;E60=1;break;case 7:E60=4 >= w?6:8;break;E60=0 <= w?5:3;break;case 14:++w;E60=3;break;E60=1;break;}}};Object.defineProperties(t.prototype,{g5:{get:function(){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:return this.vda;break;case 4:return this.vda;break;F60=1;break;}}},enumerable:!1,configurable:!0}});r60=8;break;case 2:t.prototype.hsa=function(u,v,w,x,y,A){var u60,J,K,H,z,B,D,E,F,C,G,v60,I,R,L;u60=2;for(;u60 !== 61;){switch(u60){case 40:G.Y && G.Y.length || (x=!0,I.Zx.push(G.Na));u60=39;break;case 36:this.Gf.U7(I.je);x=v[I.je];I.reason && (x.xr=I.reason,x.gsa=I.Ts,x.Dy=I.Dy,x.Wn=I.Wn,x.Xn=I.Xn);this.d0a && (I.pt=this.d0a.ABb({cK:w.Fl - w.wc,XHb:v[0],Yi:x,RXb:v[I.je + 1] || x,lWb:v[v.length - 1],cf:u.state,playbackRate:u.playbackRate,Od:u.Od}));u60=51;break;case 29:G=v[y];u60=28;break;case 39:x || (I.Zx=void 0);u60=38;break;case 31:y=I.je + 1;u60=30;break;case 35:y=w.Fl - w.wc;G=void 0;x=!1;u60=32;break;case 63:u60=62;break;case 46:this.Gf.N3a(f.default.NY.$g);u60=22;break;case 27:u.state === d.ka.$g && c.ya(C) && (u.state=d.ka.$c);u.state !== d.ka.$g && void 0 === C && (u.state=d.ka.$g);u60=25;break;case 45:u60=v60 === d.ka.Af?46:65;break;case 8:J=this.Gf.$s.bitrate;C=m.ap(v,function(Q){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:return Q.bitrate > J;break;}}});C=0 < C?C - 1:0 === C?0:v.length - 1;u60=14;break;case 24:this.Ada=this.vda=void 0;u60=23;break;case 38:u60=!I || null === I.je?37:36;break;case 23:this.Gf.N3a(f.default.NY.$g);u60=22;break;case 44:u60=!x?43:39;break;case 20:u60=!(0 <= C)?19:16;break;case 47:u60=v60 === d.ka.$c?46:45;break;case 64:u60=v60 === d.ka.Xh?22:63;break;case 16:c.fa(C) && (C=this.Gf.FXa);void 0 !== x && this.mqa(v,! !u.$q,u.buffer,x);u60=27;break;case 13:(K=w.Y,H=K.length);u60=12;break;case 12:u60=0 < H?11:16;break;case 41:G=v[y];u60=40;break;case 62:var w52="S";w52+="tream selector called with inva";w52+="lid player state ";return (k.error(w52 + d.ka[u.state]),null);break;case 2:w=null === u || void 0 === u?void 0:u.buffer;(E=l.default.time.ba(),F=this.I,C=this.Gf.FXa,G=!1);c.ya(C) && u.state === d.ka.$g && (this.Gf.U7(void 0),C=void 0);c.ya(C) && C >= v.length && (this.Gf.U7(void 0),C=void 0);u60=9;break;case 14:this.Gf.U7(C);u60=13;break;case 30:u60=y < v.length?29:44;break;case 65:u60=v60 === d.ka.Hc?22:64;break;case 28:G.Y && G.Y.length || (x=!0,I.Zx.push(G.Na));u60=44;break;case 25:v60=u.state;u60=v60 === d.ka.$g?24:47;break;case 42:u60=0 <= y?41:39;break;case 43:a000.q62(7);var r31=a000.J62(2,13,10);y=I.je - r31;u60=42;break;case 37:return null;break;case 22:I=this.$f[d.ka[u.state]].call(this,F,u,v,C,x,! !y,G);u60=21;break;case 21:u60=I.Yi && (I.Zx=[],v.forEach(function(Q,N){var z60;z60=2;for(;z60 !== 4;){switch(z60){case 2:Q === I.Yi && (I.je=N);(!F.$vb || Q.Y && Q.Y.length) && !Q.h8 || I.Zx.push(Q.Na);Q.h8=!1;z60=4;break;}}}),!I.Zx.length)?35:38;break;case 17:C=0 < C?C - 1:0 === C?0:v.length - 1;u60=16;break;case 32:u60=F.y4a && y > F.RU?31:39;break;case 19:R=K[H - 1].bitrate;C=m.ap(v,function(Q){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:return Q.bitrate > R;break;case 4:return Q.bitrate >= R;break;y60=1;break;}}});u60=17;break;case 11:L=K[H - 1].Na;C=m.ap(v,function(Q){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return Q.Na === L;break;case 4:return Q.Na != L;break;x60=1;break;}}});u60=20;break;case 9:u60=c.fa(C) && u.state === d.ka.Hc && (G=!0,void 0 !== this.Gf.$s)?8:13;break;case 51:var t52="pl";t52+="ay";t52+="in";t52+="g";c.ya(C) && x.bitrate < v[C].bitrate && (this.vda=w.tc);u.state !== d.ka.Hc && u.state !== d.ka.Xh?(v=g.T6(u.state),A=this.Lx(u.buffer,v,u.playbackRate,x,A),(I.Be=A.complete)?I.e1=A.reason:(I.Be=!1,I.SG=A.SG,I.gC=A.gC,I.progress=A.progress)):(I.Be=!0,I.e1=t52);u.IK && (I.tc=w.tc,A=u && u.Od,v=x.Y,I.Bj=v && void 0 !== A && !isNaN(A) && 0 <= A && A < v.length?v.Zi(A):w.tc,I.aOb=x.Pa || 0,I.bLb=x.lb && x.lb.Pa && x.lb.Pa.Ca || 0,I.Xfa=w.Fl - w.wc,I.LNa=w.Eg,I.INb=null !== (D=null === (B=null === (z=l.default.K5b) || void 0 === z?void 0:z.call(l.default)) || void 0 === B?void 0:B[1 === u.mediaType?1:0]) && void 0 !== D?D:-1,I.cf=u.state,I.Xo=u && u.Xo,I.Xta=E,I.FVb=l.default.time.ba());return I;break;}}};t.prototype.Lx=function(u,v,w,x,y){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:return this.$f.checkBuffering.call(this,u,v,w,x,y,this.I);break;}}};t.prototype.JUb=function(u,v,w){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:c.fa(v)?this.vda=this.Ada=void 0:v.bitrate < w.bitrate && (this.Ada=u);B60=1;break;}}};r60=4;break;case 8:Object.defineProperties(t.prototype,{$ma:{get:function(){var G60;G60=2;for(;G60 !== 1;){switch(G60){case 2:return this.Ada;break;}}},enumerable:!1,configurable:!0}});return t;break;}}function t(u,v,w,x){var s60,y;s60=2;for(;s60 !== 6;){switch(s60){case 2:var X82="1S";X82+="IYbZr";X82+="NJC";X82+="p";X82+="9";y=this;this.qN=u;this.I=v;this.Gf=w;X82;u=u || this.I.hta;this.$f=n.reduce(function(A,z){var t60;t60=2;for(;t60 !== 5;){switch(t60){case 2:A[z]=((q[u] || q[p[z]])[z] || q[p[z]][z]).bind(y);return A;break;}}},{});s60=7;break;case 7:x && (this.d0a=new h.yDa(v));s60=6;break;}}}})();b.$Ga=a;},function(r,b,a){var g,h,k;function c(n){return l(n.Yi);}function f(n,q){var p;return (void 0 !== q?null === (p=n.Y) || void 0 === p?void 0:p.get(q).uNa:void 0) || n.Zy || 0;}function l(n){var q,p;p=null === (q=null === n || void 0 === n?void 0:n.O) || void 0 === q?void 0:q.Av;return p?p[n.mediaType] || 0:0;}function m(n,q){var p,t,u,v,w;p=q.v1.K4b;if(!p || "object" !== typeof p)return 0;t=n.Yi;u=n.RXb;v=n.lWb;w={selectedFragmentBitrate:f(t,n.Od) * n.playbackRate,upswitchFragmentBitrate:f(u,n.Od) * n.playbackRate,maxFragmentBitrate:f(v,n.Od) * n.playbackRate,selectedPeakBitrate:(t.Zy || 0) * n.playbackRate,upswitchPeakBitrate:(u.Zy || 0) * n.playbackRate,maxPeakBitrate:(v.Zy || 0) * n.playbackRate,selectedAverageBitrate:l(t) * n.playbackRate,upswitchAverageBitrate:l(u) * n.playbackRate,maxAverageBitrate:l(v) * n.playbackRate,bufferLevelMs:n.cK,observedThroughput:d(n,q) || 0,predictedThroughput:(null === t || void 0 === t?void 0:t.Pa) || 0};n=p.offset || 0;return Object.keys(w).reduce(function(x,y){return x + (p[y] || 0) * w[y];},n);}function d(n){var q,p,t;return (null === (t=null === (p=null === (q=n.Yi) || void 0 === q?void 0:q.lb) || void 0 === p?void 0:p.Pa) || void 0 === t?void 0:t.Ca) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.yDa=void 0;r=a(2).__importDefault(a(5));g=a(15);h=a(876);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");k={maxStreamBitrate:c,"static":function(n,q){return q.xUb;},none:function(){return 0;},regression:m,epsGreedy:function(n,q){return Math.min(m(n,q) || 0,d(n,q));},"default":c};a=(function(){var H60;H60=2;for(;H60 !== 4;){switch(H60){case 2:n.prototype.bka=function(q,p,t){var J60,u;J60=2;for(;J60 !== 8;){switch(J60){case 5:return 0;break;case 1:J60=!t?5:4;break;case 4:a000.W62(8);p=Math.ceil(a000.x62(t,p));q=(this.I.v1.B6b || 0) * ((null === (u=q.XHb) || void 0 === u?void 0:u.Zy) || 0);J60=9;break;case 9:return p < q?0:p;break;case 2:J60=1;break;}}};n.prototype.ABb=function(q){var K60,u,p,t,v,w;K60=2;for(;K60 !== 13;){switch(K60){case 4:u=this.I.aXb;K60=3;break;case 2:(p=new h.Uaa({CN:0,mK:0,WM:0}),t=this.I.v1);K60=1;break;case 5:return p;break;case 1:K60=!t?5:4;break;case 8:p=0;w=!this.I.v1.k5b || q.cf !== g.ka.$g && q.cf !== g.ka.$c?!1:(u=null === (w=q.Yi) || void 0 === w?void 0:w.lb) && u.confidence >= g.Caa.Aw && (null === (v=u.Pa) || void 0 === v?0:v.Ca)?!0:!1;w?p=d(q,this.I):q.cK >= t.UU && (p=this.algorithm(q,this.I));return new h.Uaa({CN:this.bka(q,p,t.I1a[0]),WM:this.bka(q,p,t.I1a[2]),mK:this.bka(q,p,t.I1a[1])});break;case 3:K60=u && q.Od && 0 === q.Od % u?9:8;break;case 9:return p;break;}}};return n;break;}}function n(q){var I60;I60=2;for(;I60 !== 4;){switch(I60){case 2:var M82="de";M82+="f";M82+="aul";M82+="t";var h82="1SI";h82+="YbZ";h82+="rNJ";h82+="Cp9";this.I=q;h82;this.algorithm=(k[this.I.uMb] || k[M82]).bind(this);I60=4;break;}}}})();b.yDa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Uaa=void 0;c=a(2);r=(function(){function f(l){this.CN=l.CN;this.mK=l.mK;this.WM=l.WM;}Object.defineProperties(f.prototype,{J1a:{get:function(){return [this.CN,this.mK,this.WM];},enumerable:!1,configurable:!0}});f.prototype.P4=function(){return this.J1a.some(function(l){return 0 < l;});};f.prototype.LYa=function(l,m,d,g){var h;h=8 * l / Math.max(d - m,1);if(!this.P4())return !1;l=this.J1a.map(function(k){return Math.abs(h - k) / k;});return Math.min.apply(Math,c.__spread(l)) < g;};return f;})();b.Uaa=r;},function(r,b,a){var f,l,m,d;function c(g,h,k,n){if(f.fa(n))g=l(k);else if(m(k[n]))g=n;else if((g=l(k,n),0 > g))return null;return new d(g);}f=a(10);b=a(37);l=b.ija;m=b.UF;d=b.Go;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){l=d.map(function(g,h){return g.Zs?h:null;}).filter(function(g){return null !== g;});return l.length?new f(l[Math.floor(Math.random() * l.length)]):null;}f=a(37).Go;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.I7=void 0;r=a(2);c=r.__importStar(a(10));f=a(30);r=r.__importDefault(a(37));l=a(415);m=r.default.assert;d=r.default.Go;b.I7=g;(function(){function h(k,n,q,p){var M60,u,v,w,y,x;M60=2;for(;M60 !== 10;){switch(M60){case 5:M60=u.Pa?4:14;break;case 2:var A82="Mu";A82+="st have at l";A82+="east one selected stream";m(!c.fa(p),A82);(u=q[p],v=u.bitrate,w=u);M60=5;break;case 9:u=q[0];M60=8;break;case 4:u=f.wg(q.slice(0,Math.min(p + (k.$lb?2:1),q.length)).reverse(),t);M60=3;break;case 7:y=null === u || void 0 === u?void 0:u.Pa;M60=14;break;case 6:var g82="se";g82+="lect";g82+="_feasi";g82+="ble_bufferin";g82+="g";x=g82;M60=7;break;case 14:q=new d();q.Yi=u;w !== u && (q.reason=x,q.Ts=y);return q;break;case 3:M60=void 0 === u?9:6;break;case 8:var y82="fallback_lowe";y82+="st_acce";y82+="ptable_stream";x=y82;M60=7;break;}}function t(A){var N60,z;N60=2;for(;N60 !== 8;){switch(N60){case 4:var l82="b";l82+="u";l82+="ff_lt";l82+="_h";l82+="ist";x=l82;y=z;N60=9;break;case 5:return !1;break;case 2:z=A.Pa;N60=1;break;case 1:N60=!z || (A.bitrate > v?k.QXb:1) * A.bitrate * n.playbackRate > z?5:4;break;case 9:return !0;break;}}}}var L60;L60=2;for(;L60 !== 5;){switch(L60){case 2:var Y82="1S";Y82+="IYbZr";Y82+="NJCp";Y82+="9";b.I7=g=function(k,n,q,p,t,u,v){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:var Q82="pl";Q82+="ay";Q82+="i";Q82+="n";Q82+="g";return Q82 === k.Vfa?l.Xv.call(this,k,n,q,p,t,u,v):h.call(this,k,n,q,p);break;}}};Y82;L60=5;break;}}})();},function(r,b,a){var c;a(10);c=a(37).console;r.exports=function(f,l,m,d,g,h,k,n,q,p,t,u,v,w,x){var I6e=a000;var P60,D,E,y,A,z,B,F,C;P60=2;for(;P60 !== 39;){switch(P60){case 3:d=Infinity;(D=0,E=0);f=f.gd[0];P60=7;break;case 15:P60=n < l?27:40;break;case 22:P60=!x && (f=k - m,f < w)?21:35;break;case 34:I6e.W62(9);m+=I6e.x62(0,h,F,u);k+=C;P60=32;break;case 42:P60=(f=Math.max(k - m,0),f < v && f < D)?41:34;break;case 28:P60=n >= q && f > B?40:44;break;case 43:d=Math.min(f,d);P60=15;break;case 29:++n;P60=28;break;case 2:var P82="1";P82+="SIYbZrNJ";P82+="C";P82+="p9";P82;y=f.U;l=Math.min(f.length,l);(A=f.gd,z=f.sizes,B=d - m);P60=3;break;case 44:D=f;P60=43;break;case 41:return {result:!1,DU:Math.min(f,d) / (y / 1E3),Hs:!0};break;case 40:return {result:!0,DU:d / (y / 1E3),Hs:!0};break;case 30:(t+=z[E],++E,g+=A[E]);P60=31;break;case 32:t-=F;P60=31;break;case 25:D=Math.max(F,p);P60=24;break;case 20:I6e.W62(10);m*=I6e.x62(1E3,y);I6e.W62(10);k*=I6e.x62(1E3,y);I6e.q62(10);w*=I6e.J62(1E3,y);I6e.q62(10);v*=I6e.J62(1E3,y);P60=16;break;case 7:var c82=" >";c82+="=";c82+=" f";c82+="rag";c82+="mentsLength: ";var B82="Streami";B82+="ngInde";B82+="x: ";I6e.W62(11);g=I6e.J62(y,g,1E3,f);I6e.W62(12);f=I6e.x62(8,u,h,0);I6e.W62(13);u=I6e.x62(u,0,8);I6e.W62(10);h=I6e.x62(1E3,y);n >= l && c.error(B82 + n + c82 + l);m+=f;0 === k && (m=0);P60=20;break;case 35:I6e.W62(0);f=I6e.x62(m,k);P60=34;break;case 16:I6e.q62(10);B*=I6e.x62(1E3,y);P60=15;break;case 26:P60=t < F?25:42;break;case 23:(m=g,t+=z[E],++E,f=A[E],g+=f);P60=24;break;case 24:P60=t < D?23:22;break;case 27:(F=z[n],C=A[n]);P60=26;break;case 31:P60=g < m && E < n?30:29;break;case 21:return {result:!1,DU:f / (y / 1E3),Hs:!1};break;}}};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.sFb=b.n3a=void 0;c=a(2);f=c.__importDefault(a(84));l=c.__importStar(a(10));m=a(30);d=a(389);g=c.__importDefault(a(5));r=c.__importDefault(a(110));a=c.__importDefault(a(37));h=a.default.ZJb;k=a.default.bob;n=a.default.t1;q=a.default.Go;p=r.default.Ksa;a=(function(){var Q60;Q60=2;function u(B,D,E){var S60;S60=2;for(;S60 !== 5;){switch(S60){case 2:B=k(E.Qi,B * E.joa);return h(B,D);break;}}}function y(B,D,E,F,C,G){var Y60;Y60=2;for(;Y60 !== 5;){switch(Y60){case 2:var F82="no_";F82+="va";F82+="lid_Bitrat";F82+="e";var K82="no_valid_";K82+="VM";K82+="AF";var k82="no_val";k82+="id_DelayTa";k82+="rget";B=E?B.wb >= G.gM && B.wb <= G.bZa:B.bitrate >= G.Ev && B.bitrate <= G.Wy;return (F=F < C && B)?{H2:F}:{H2:F,reason:B?k82:E?K82:F82};break;}}}function t(B,D){var R60,F,E;R60=2;for(;R60 !== 12;){switch(R60){case 8:R60=7;break;case 6:(F=d.oHa.DBb(B),l.Oc(F)?(B.Si=F,F=!0):F=!1);R60=14;break;case 2:E=new q();E.Yi=B;B=E.Yi.lb || ({});E.Xn=B.Al && B.Uj;E.Wn=B.Al?B.Al:0;B=f.default(E.Xn,{});R60=8;break;case 7:R60=(F=l.ya(D.J7) && 0 <= D.J7 && 100 >= D.J7 && !l.fa(B) && !l.tb(B))?6:14;break;case 14:var L82="hist_";L82+="th";L82+="r";L82+="oughp";L82+="ut";var v82="his";v82+="t_";v82+="tdi";v82+="gest";F?(D=B.Si(D.J7 / 100) || E.Yi.Pa,E.Ts=D,E.reason=v82):E.Yi.Pa && (D=E.Yi.Pa,E.Ts=D,E.reason=L82);return E;break;}}}function x(B,D,E){var W60,F,C,G,J,K,H;W60=2;for(;W60 !== 19;){switch(W60){case 2:(F=! !B.gM && ! !B.bZa && E.every(function(L){var X60;X60=2;for(;X60 !== 1;){switch(X60){case 2:return L.wb && 110 >= L.wb;break;}}}),C=null,G=E.length - 1);W60=1;break;case 8:J=H.H2;H=H.reason;C.Dy=K;W60=14;break;case 14:W60=J?11:13;break;case 13:C.reason=H;W60=12;break;case 11:l.tb(C) && (C=t(E[0],B));W60=10;break;case 1:W60=0 <= G && (F?E[G].wb >= B.gM:E[G].bitrate >= B.Ev)?5:11;break;case 5:J=E[G];C=t(J,B);(K=u(J.bitrate * D.playbackRate,C.Ts,B),H=w(C.Ts,B));H=y(J,C.Ts,F,K,H,B);W60=8;break;case 10:var e82="fallback_";e82+="no_acceptable";e82+="_stream";l.tb(C) && (C=t(E[0],B),C.reason=e82);return C;break;case 12:G--;W60=1;break;}}}function w(B,D){var V60,E;V60=2;for(;V60 !== 9;){switch(V60){case 2:a000.W62(0);var t31=a000.J62(2,1002);B=n(B,0,1E5) / t31;V60=1;break;case 1:var m82="l";m82+="o";m82+="g";V60=0 === D.mN.lastIndexOf(m82,0)?5:3;break;case 5:E=D.mN;V60=4;break;case 14:E=D.mN;V60=8;break;V60=4;break;case 4:return (E=D.o3a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * Math.log(1 + B)):D.fr;break;case 3:var C82="s";C82+="igm";C82+="o";C82+="id";return 0 === D.mN.lastIndexOf(C82,0)?(E=D.mN,(E=D.o3a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * p(B)):D.fr):D.fr;break;}}}for(;Q60 !== 5;){switch(Q60){case 2:var o82="1S";o82+="IYbZ";o82+="rNJCp9";o82;return {$jb:function(B,D,E,F){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:var d82="hist";d82+="or";d82+="ic";d82+="a";d82+="l";return d82 === B.$la?z(B,D,E,F):B.tR?x(B,D,E,F):A(B,D,E,F);break;}}},Chb:y};break;}}function v(B,D){var T60,E,F;T60=2;for(;T60 !== 13;){switch(T60){case 1:(E=B.o4,F=m.ap(E,function(C){var U60;U60=2;for(;U60 !== 1;){switch(U60){case 2:return D <= C.r;break;}}}));T60=5;break;case 2:T60=B.o4?1:14;break;case 5:T60=0 === F?4:3;break;case 9:return E[E.length - 1].d;break;case 6:return Math.floor(B.d + (E.d - B.d) * (D - B.r) / (E.r - B.r));break;case 3:T60=-1 === F?9:8;break;case 14:return B.fr;break;case 4:return E[0].d;break;case 8:a000.W62(0);B=E[a000.x62(1,F)];E=E[F];T60=6;break;}}}function A(B,D,E){var Z60,F,C;Z60=2;for(;Z60 !== 4;){switch(Z60){case 2:(F=new q(),C=Math.max(B.Ev,B.M5,D.qma?B.toa:-Infinity));F.Yi=m.wg(E.filter(function(G){var a70;a70=2;for(;a70 !== 1;){switch(a70){case 2:return G.bitrate <= B.Wy;break;}}}).reverse(),function(G){var b70,J,K,H;b70=2;for(;b70 !== 13;){switch(b70){case 2:J={Pa:G.Pa,Al:G.lb && G.lb.Al,Uj:G.lb && G.lb.Uj};b70=1;break;case 1:b70=G.bitrate > C?5:14;break;case 5:G=G.bitrate * D.playbackRate;K=J.Pa;b70=3;break;case 9:H=v(B,G);b70=8;break;case 3:b70=K?9:6;break;case 7:return J;break;case 8:var j82="hi";j82+="s";j82+="t_b";j82+="ufftime";u(G,K,B) <= H?(F.Ts=K,J && (F.Wn=J.Al?J.Al:0,F.Xn=J.Al && J.Uj),F.reason=j82,J=!0):J=!1;b70=7;break;case 14:var T82="no_historical_l";T82+="te_minbit";T82+="ra";T82+="te";var H82="hist_tput";H82+="_lt_minb";H82+="itr";H82+="ate";var n82="lt_hist_lte_";n82+="minb";n82+="it";n82+="rat";n82+="e";(K=J.Pa,G.bitrate * D.playbackRate <= K?(F.Ts=K,J && (F.Wn=J.Al?J.Al:0,F.Xn=J.Al?J.Uj:void 0),F.reason=n82,J=!0):K?(F.Ts=K,J && (F.Wn=J.Al?J.Al:0,F.Xn=J.Al?J.Uj:void 0),F.reason=H82,J=!1):(F.reason=T82,J=!0));b70=7;break;case 6:J=!1;b70=7;break;}}}) || E[0];return F;break;}}}function z(B,D,E,F){var c70,C;c70=2;for(;c70 !== 7;){switch(c70){case 1:var a82="nu";a82+="m";a82+="b";a82+="e";a82+="r";c70=a82 !== typeof C?5:4;break;case 2:var r82="v";r82+="b";C=g.default.storage.get(r82);c70=1;break;case 5:return B.tR?x(B,D,E,F):A(B,D,E,F);break;case 8:return B;break;case 4:var N82="h";N82+="ist";N82+="_bitrate";B=new q();B.Yi=m.wg(E.slice().reverse(),function(G){var d70;d70=2;for(;d70 !== 1;){switch(d70){case 2:return G.bitrate <= C;break;}}}) || E[0];B.reason=N82;c70=8;break;}}}})();r=a.Chb;b.n3a=a.$jb;b.sFb=r;},function(r,b,a){var f,l,m,d;function c(g,h,k){var n,q;n=this.xda;h=h.buffer.tc;q="forward" === g.wRb;if(f.fa(n))return (n=q?l(k):l(k,k.length),this.zda=h,this.xda=n,new d(n));m(k[n]) || (n=l(k,n),this.zda=h,this.xda=n);if(0 > n)return null;if(h > this.zda + g.QVb){g=k.map(function(p,t){return p.Zs?t:null;}).filter(function(p){return null !== p;});if(!g.length)return null;q?n=(g.indexOf(n) + 1) % g.length:(n=g.indexOf(n) - 1,0 > n && (n=g.length - 1));this.xda=g[n];this.zda=h;return new d(g[n]);}return new d(n);}f=a(10);b=a(37);l=b.ija;m=b.UF;d=b.Go;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var f70,l,m,d,g,h,k,n,q,p,t;f70=2;function f(u,v,w,x){var i70,G,J,K,y,B,D,E,F,C,A,z;i70=2;for(;i70 !== 32;){switch(i70){case 19:i70=n(G) && (0 == E || G.bitrate * v.playbackRate * C.OQa < F)?18:17;break;case 24:i70=(D=z[E],G=w[D],n(G) && F > C.C6a * G.bitrate * v.playbackRate)?23:25;break;case 17:E--;i70=11;break;case 10:D=z[E];G=w[D];i70=19;break;case 15:(J=this.$ma,K=this.g5);i70=27;break;case 16:var V82=" ";V82+="k";V82+="b";V82+="p";V82+="s";var D82=" ";D82+="kbp";D82+="s";D82+=" >";D82+=" ";var Z82="thr";Z82+="ough";Z82+="put for";Z82+=" aud";Z82+="io ";i70=E < z.length - 1 && F > C.C6a * D * v.playbackRate && (g && d.log(Z82 + F + D82 + C.C6a + "*" + D + V82),D=v.buffer,G=D.Fl - D.wc,B.Y && B.Y.length)?15:21;break;case 26:var J82=", stream";J82+="i";J82+="n";J82+="gPts = ";var x82=", las";x82+="tUp";x82+="s";x82+="w";x82+="itchPts = ";var I82="  Ups";I82+="witch al";I82+="lo";I82+="wed. lastDow";I82+="nswitchPts = ";g && d.log(I82 + K + x82 + J + J82 + D.tc);i70=25;break;case 13:i70=E && F < C.OQa * D * v.playbackRate?12:16;break;case 12:var i82=" kbp";i82+="s, try";i82+=" to downswitch";var W82=" kb";W82+="ps <";W82+=" ";var q82="throughpu";q82+="t f";q82+="or au";q82+="dio ";(g && d.log(q82 + F + W82 + C.OQa + "*" + D + i82),--E);i70=11;break;case 2:var S82="Must ";S82+="have at leas";S82+="t o";S82+="ne selected stream";h(!l.fa(x),S82);y=w[x].Kg;i70=5;break;case 25:i70=++E < z.length?24:21;break;case 5:i70=!(u && u.PN && 0 <= u.PN.indexOf(y))?4:3;break;case 27:i70=v.$B && G > C.Qy && (void 0 === K || Number(J) > K || D.tc - K > C.n5)?26:22;break;case 7:(B=w[x],D=B.bitrate,E=z.indexOf(x),F=B.Pa,C=u.Smb);i70=6;break;case 23:A=D;i70=21;break;case 8:i70=z && 1 < z.length?7:21;break;case 14:A=0;i70=21;break;case 21:var b82="kbps, st";b82+="re";b82+="a";b82+="mingPt";b82+="s :";var O82=", a";O82+="udio th";O82+="roughput:";var G82=" ";G82+="kbps, p";G82+="rofile ";G82+=":";var f82="selectAudioStrea";f82+="m: sel";f82+="ecte";f82+="d str";f82+="eam :";var U82=" ";U82+="k";U82+="bp";U82+="s";var s82=" kbps";s82+=",";s82+=" t";s82+="o ";var R82="s";R82+="witch";R82+="ing audio from ";var p82="d";p82+="o";p82+="w";p82+="n";var z82="u";z82+="p";F=w[A];A !== x && g && d.log((A > x?z82:p82) + R82 + B.bitrate + s82 + F.bitrate + U82);g && d.log(f82 + F.bitrate + G82 + y + O82 + F.Pa + b82 + v.buffer.tc);return new q(A);break;case 3:A=x;u.t5a.some(function(H){var j70,L,R,I,Q,N,M;j70=2;for(;j70 !== 9;){switch(j70){case 1:j70=R?5:3;break;case 2:(L=H.profiles,R=L && 0 <= L.indexOf(y));j70=1;break;case 5:(I=(H=H.uV) && H.S5 || u.S5,Q=H && H.g7b || -Infinity,N=H && H.WL || Infinity,M=v.buffer.Xu);j70=4;break;case 3:return R;break;case 4:z=w.filter(function(P){var k70,S;k70=2;for(;k70 !== 5;){switch(k70){case 2:S=P.bitrate;return S >= Q && S <= N && 0 <= L.indexOf(P.Kg) && S * I / 8 < M;break;}}}).map(function(P){var l70;l70=2;for(;l70 !== 1;){switch(l70){case 2:return P.ng;break;}}});j70=3;break;}}});i70=8;break;case 6:i70=0 > E?14:13;break;case 4:return new q(x);break;case 11:i70=0 <= E?10:21;break;case 22:var t82="m";t82+="s";var w82=", buffe";w82+="r le";w82+="ve";w82+="l = ";var u82=", l";u82+="a";u82+="stUpswit";u82+="chP";u82+="ts = ";var E82="  Upswitch not allowed";E82+=". ";E82+="lastDow";E82+="nswitchPts = ";g && d.log(E82 + K + u82 + J + w82 + G + t82);i70=21;break;case 18:A=D;i70=21;break;}}}function c(u,v){var g70,w;g70=2;for(;g70 !== 4;){switch(g70){case 2:w=void 0;v.some(function(x){var h70,y;h70=2;for(;h70 !== 4;){switch(h70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(u)) && (w=x.override);return y;break;}}});return w;break;}}}for(;f70 !== 4;){switch(f70){case 2:var A42="1SI";A42+="YbZr";A42+="NJCp9";(l=a(10),m=a(37),d=m.console,g=m.debug,h=m.assert,k=a(84),n=m.UF,q=m.Go,p=a(416),t=a(15).ka);r.exports={STARTING:function(u,v,w,x){var m70,y,A;m70=2;for(;m70 !== 7;){switch(m70){case 2:(y=u,A=w[x || 0].Kg);m70=1;break;case 1:m70=(A=u && u.PN && 0 <= u.PN.indexOf(A)?c(A,u.t5a):c(A,u.Pmb))?5:4;break;case 4:var h42=" k";h42+="bp";h42+="s, profi";h42+="le ";h42+=":";var X42="selectAudioStreamStarting: selecte";X42+="d s";X42+="tream :";u=p[t[t.$g]](y,v,w,x);w=w[u.je];g && d.log(X42 + w.bitrate + h42 + w.Kg);m70=8;break;case 5:var M42="selectAudioStre";M42+="amStarti";M42+="ng: overriding config wi";M42+="th ";(y={minInitAudioBitrate:u.TU,minHCInitAudioBitrate:u.SU,maxInitAudioBitrate:u.FU,minRequiredAudioBuffer:u.S5},g && d.log(M42 + JSON.stringify(A)),k(A,y));m70=4;break;case 8:return u;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};A42;f70=4;break;}}})();},function(r,b,a){var f;function c(){return new f(0);}a(10);f=a(37).Go;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){return new f(d.length - 1);}a(10);f=a(37).Go;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var n70,f,l,m,d;n70=2;for(;n70 !== 6;){switch(n70){case 9:var g42="1SI";g42+="Y";g42+="bZ";g42+="rN";g42+="JCp9";l=a(178).default;r.exports={STARTING:l.STARTING,BUFFERING:l.BUFFERING,REBUFFERING:l.REBUFFERING,PLAYING:c,PAUSED:c};g42;n70=6;break;case 2:f=a(10);a(27);l=a(37);a(5);(m=l.assert,d=l.Go);n70=9;break;}}function c(g,h,k,n){var o70,q;o70=2;for(;o70 !== 12;){switch(o70){case 3:o70=-1 < n?9:14;break;case 4:n=k.length - 1;o70=3;break;case 9:q=k[n];o70=8;break;case 2:var l42="playe";l42+="r mi";l42+="ssing";l42+=" fragment";l42+="Index";var y42="Must have at ";y42+="least o";y42+="ne s";y42+="elected stream";m(!f.fa(n),y42);m(f.ya(h.Od),l42);h=d(n);o70=4;break;case 8:o70=q.lb && q.lb.Pa && q.bitrate < q.lb.Pa.Ca - g.NVb?7:6;break;case 14:h.je=0;return h;break;case 7:return (h.je=n,h);break;case 6:--n;o70=3;break;}}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(888);b.default={PLAYING:r.Xv,PAUSED:r.Xv};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Xv=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(37));l=r.__importDefault(a(178));m=a(98);d=r.__importDefault(a(5));g=f.default.assert;h=f.default.Go;b.Xv=k;(function(){var p70;p70=2;for(;p70 !== 5;){switch(p70){case 2:var P42="1S";P42+="IYb";P42+="ZrNJC";P42+="p";P42+="9";b.Xv=k=function(n,q,p,t,u,v,w){var q70,D,I,Q,K,E,F,C,H,L,R,G,J,x,y,A,z,B;q70=2;for(;q70 !== 66;){switch(q70){case 70:q70=y[B].f === z?69:68;break;case 58:x=void 0;q70=57;break;case 75:q70=y[B].f > z?73:74;break;case 10:z=B;q70=20;break;case 25:w=m.dm.IPa(q.buffer.Y);w=q.buffer.Xu - w.ca;y=p[t];z=p[t];q70=21;break;case 6:a000.W62(0);B=a000.J62(x,z);0 > B && (B=0);B >= y.length && (B=y.length - 1);D=y[B].f;q70=11;break;case 53:I=q.Od;q70=52;break;case 43:J.push(K.gl);J.push(K.Mj);J.push(K.il);J.push(K.F6);q70=39;break;case 11:q70=D === z?10:58;break;case 18:A.Yi=p[A.je];q70=17;break;case 51:Q=L.get(I);H.push({d:Q.duration,b:Q.ca});q70=49;break;case 69:x=B;q70=73;break;case 8:q70=z < x || z > B?7:6;break;case 39:J.push(K.max);q70=38;break;case 56:B+=1;q70=55;break;case 30:q70=D.lb && D.lb.tdigest?29:38;break;case 72:--B;q70=71;break;case 59:return l.default.PLAYING.call(this,n,q,p,t,u,v,w);break;case 29:K=D.lb.tdigest;J.push(K.min);J.push(K.E6);q70=43;break;case 19:A.je=y[z].CRb;q70=18;break;case 54:q70=void 0 !== L?53:65;break;case 62:B++;q70=35;break;case 20:q70=void 0 !== z?19:59;break;case 67:B--;q70=71;break;case 49:I++;q70=52;break;case 74:B++;q70=55;break;case 77:q70=y[B].f === z?76:75;break;case 16:u=[];v=q.buffer;v=v.Fl - v.wc;q70=25;break;case 38:K=void 0;D.lb && D.lb.tputTrace && (K=D.lb.tputTrace);(H=[],L=D.Y,R=0);q70=54;break;case 57:q70=D < z?56:72;break;case 47:q70=I < L.length?46:65;break;case 34:D=p[B];x=B <= t?!0:!1;(G=void 0,J=[]);D.lb && D.lb.throughput && (G=D.lb.throughput.Ca);q70=30;break;case 46:R+=L.get(I).duration;q70=45;break;case 73:z=x;q70=20;break;case 2:var Y42="pla";Y42+="yer m";Y42+="i";Y42+="ssing ";Y42+="fragmentIndex";var Q42="Must have at le";Q42+="ast one selected str";Q42+="ea";Q42+="m";g(!c.fa(t),Q42);g(c.ya(q.Od),Y42);(y=n.KUb,A=new h(t),z=null !== (x=q.Od) && void 0 !== x?x:-1);x=y[0].f;B=y[y.length - 1].f;q70=8;break;case 76:x=B;q70=73;break;case 35:q70=B < p.length?34:61;break;case 48:I=q.Od;q70=47;break;case 21:B=0;q70=35;break;case 60:return A;break;case 68:q70=y[B].f < z?73:67;break;case 17:q70=n.wwb?16:60;break;case 7:return l.default.PLAYING.call(this,n,q,p,t,u,v,w);break;case 71:q70=0 <= B?70:73;break;case 55:q70=B < y.length?77:73;break;case 65:L=void 0;q.TR && (L=d.default.time.ba() - q.TR);u.push({Od:q.Od,T8b:L,R6b:R,l4b:G,Q8b:J,S8b:K,Xfa:v,B5b:w,F4b:H,v6b:y.bitrate,w6b:null !== (E=y.wb) && void 0 !== E?E:0,N4b:D.bitrate,O4b:null !== (F=D.wb) && void 0 !== F?F:0,q8b:z.bitrate,r8b:null !== (C=z.wb) && void 0 !== C?C:0,XB:x});q70=62;break;case 61:A.eNa=u;q70=60;break;case 52:q70=I < Math.min(I + n.Wmb,L.length)?51:48;break;case 45:I++;q70=47;break;}}};P42;p70=5;break;}}})();},function(r,b,a){(function(){var r70,c;r70=2;for(;r70 !== 8;){switch(r70){case 5:var F42="1";F42+="SIY";F42+="b";F42+="ZrN";F42+="JCp9";a(37);c=a(15).zc;r.exports={checkBuffering:function(f,l,m,d,g,h){function k(x){var t70;t70=2;for(;t70 !== 5;){switch(t70){case 2:x=d.Y.J2(f.wc + x,void 0,!0);return (u - f.jl) / (u + (x.offset + x.ca) - v);break;}}}var s70,w,u,v,n,q,p,t;s70=2;for(;s70 !== 37;){switch(s70){case 11:s70=!l?10:20;break;case 35:p=d.Y.gd(g);h=Math.min(g + Math.floor(h.ZV / p),d.Y.length - 1);w=d.Y.Gd(h);a000.q62(14);var v31=a000.J62(120,8,7,113);p=v31 * v * m / l - f.wc;s70=31;break;case 39:0 < l && l < q && (p=Math.min(t,Math.max(h.ZV * (q / l - 1),p)));return {complete:!1,SG:p,progress:k(p)};break;case 23:s70=n >= p?22:39;break;case 10:return {complete:!1,SG:p};break;case 20:u=0;f.Y.forEach(function(x){var u70;u70=2;for(;u70 !== 1;){switch(u70){case 2:u+=x.X + x.duration > f.wc?x.ca:0;u70=1;break;}}});m=Math.max(m,1);s70=17;break;case 21:var B42="hi";B42+="g";B42+="ht";B42+="p";return {complete:!0,reason:B42};break;case 6:p=h.Qi * (q?h.Vqa:1);s70=14;break;case 14:h.rwb && d.lb && d.lb.Vi && d.lb.Vi.Ca > h.una && (p+=h.Sea + d.lb.Vi.Ca * h.Kpa);g && (p+=g.zs * h.Tea);p=t?Math.min(t,p):p;s70=11;break;case 43:return (p=Math.min(t,n + w),{complete:!1,SG:p,progress:k(p)});break;case 31:--h;s70=30;break;case 44:s70=0 < w?43:42;break;case 17:q=m * d.bitrate;s70=16;break;case 40:var c42="nor";c42+="ebu";c42+="ff";return {complete:!0,reason:c42};break;case 26:s70=-1 === g?25:24;break;case 30:s70=h > g?29:40;break;case 15:return (l < q && (p=Math.min(t,Math.max(h.ZV * (q / l - 1),p))),{complete:!1,SG:p,progress:0});break;case 41:--h;s70=30;break;case 8:s70=l <= h.Ana && (0 < l || !h.Pia)?7:6;break;case 25:var k42="o";k42+="uto";k42+="fr";k42+="ange";return {complete:!0,reason:k42};break;case 7:return {complete:!1,gC:!0};break;case 24:v=d.Y.Gd(g);s70=23;break;case 22:s70=l > q * h.G2?21:35;break;case 3:s70=n >= t?9:8;break;case 16:s70=!d.Y || !d.Y.length?15:27;break;case 29:q=d.Y.get(h);w=8 * w * m / l - q.X - p;s70=44;break;case 42:w=q.offset;s70=41;break;case 2:(n=f.Fl - f.wc,q=l === c.Af);l=d.Pa || 0;(p=0,t=h.uua && !q?h.lC:h.Zna);t=Math.min(h.Xy,t);s70=3;break;case 27:g=d.Y.Em(f.tc);s70=26;break;case 9:var K42="ma";K42+="x";K42+="s";K42+="iz";K42+="e";return {complete:!0,reason:K42};break;}}}};F42;r70=8;break;case 2:a(10);a(27);r70=5;break;}}})();},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q){g=q;h=q.map(function(p,t){return t;});if(null === d)return (k=l(q),d=q[k].bitrate,new m(k));if(!q.length)return null;k=h.filter(function(p){return q[p].bitrate == d;})[0];return void 0 === k?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(k);}b=a(37);a=a(5).default;f=b.console;l=b.ija;m=b.Go;d=null;g=null;h=null;a.Wob && (a.Wob.Hz={nb:function(){h=g=d=null;},hsa:function(k){d=k;},O5b:function(){return {all:g,Z6a:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tB=void 0;c=a(20);f=a(150);l=a(6);b.tB=function(m,d,g,h,k,n){var q;c.ia && h.trace("AsePlaygraph.createRequestQueue()");q=f.kq.instance.tB(m,d.K,!0,!1,{ey:g.ey},g);q.Ag.on(q,"networkfailing",function(){var p;c.ia && h.trace("requestQueue OnNetworkFailing: ",q);q.F2 && (l.assert(q.aT),null === (p=d.op) || void 0 === p?void 0:p.pr(q.aT,void 0,q.Mg,q.Ri));d.wo();});q.Ag.on(q,"error",function(){n(q.Mg,q.Ri);});q.on("transportreport",k);q.nb();return q;};},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.VCa=b.Aab=void 0;c=a(2);f=c.__importDefault(a(5));l=a(20);m=a(893);d=a(9);r=(function(){return function(g,h,k){var n;this.I=h;k=d.dr(f.default,k,"[" + g + "]");this.zZa=1 === g?h.U5:h.N5;n=f.default.Sn()[g];this.GU=1 === g?h.QIb:h.xIb;this.GU=Math.min(h.EIb * n,this.GU);l.ia && k.trace("This pipeline's buffer size ",n,this.GU);this.Q5=(1 === g?h.hM:h.dM) || h.Q5;this.w5=(1 === g?h.PIb:h.wIb) || h.w5;this.Yea=h.Yea;};})();b.Aab=r;r=(function(g){function h(k,n,q){return g.call(this,k,n,q) || this;}c.__extends(h,g);h.prototype.xAb=function(k,n,q,p){var t,u,v,w,x;v=n === q.Yd.index;w=n === q.qf.index;if(!w || v && q.Yd.na){if(v){x=k.ITa(q.Yd);x.xN(q.Yd.Ut);w && (q.Yd.na || q.qf.na) && x.th({start:null === (t=x.na) || void 0 === t?void 0:t.start,end:null === (u=q.qf.na) || void 0 === u?void 0:u.end});}else x=k.mk(n);}else (x=k.ITa(q.qf),x.xN(q.qf.Ut));x.lM=n + 1;if(t=m.HUa(q,q.tc))(l.ia && q.rm("getFragmentForRequest pts:",q.tc,"in region:",t,"previous region:",q.Oma),m.aRa(q.H,x,t,{tFb:v,zFb:w,GFb:void 0 === q.Oma || q.Oma !== t.region}));w && (x.IYa(),x.ZSb(q.xb.P));if(x.lM !== n && !p && (this.Yea || !x.na))for(++n;n < k.Y.length && n < q.qf.index && (x.ca < this.zZa || x.duration < this.Q5) && (1 === x.stream.zg.length || this.Fob(k,n));++n){p=k.mk(n);if(m.LWa(q,p))break;if(x.duration + p.duration > this.w5)break;if(x.ca + p.ca > this.GU)break;x.hMa(p);x.lM=n + 1;l.ia && q.rm("getFragmentForRequest: extended fragment startPts:",x.X,"to duration:",x.duration,"size:",x.ca,"min request size:",this.zZa,"max request size:",this.GU,"min request duration:",this.Q5,"max request duration:",this.w5,"edit:",x.na);}l.ia && q.rm("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.oja,"lastRequestInRegion:",x.tv,"nextIndex:",x.lM);return x;};h.prototype.Fob=function(k,n){return !k.zg.some(function(q){return n === q.Od;});};return h;})(r);b.VCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aRa=b.vFb=b.LWa=b.HUa=void 0;c=a(30);b.HUa=function(f,l){if((f=f.xb.P.Uv) && 0 !== f.length)return c.wg(f,function(m){return m.Nc.V <= l && l < m.Nd.V;});};b.LWa=function(f,l){return l.index === f.Yd.index?!0:(f=f.xb.P.Uv) && 0 !== f.length?f.some(function(m){m=m.Nc;return l.Nc.uv(m) && m.lessThan(l.Nd);}):!1;};b.vFb=function(f,l){return l.index === f.qf.index?!0:(f=f.xb.P.Uv) && 0 !== f.length?f.some(function(m){m=m.Nd;return l.Nc.lessThan(m) && m.uv(l.Nd);}):!1;};b.aRa=function(f,l,m,d){var g,h,k,n,q,p,t,u;f=null === (g=l.na) || void 0 === g?void 0:g.start;g=null === (h=l.na) || void 0 === h?void 0:h.end;u=h=!1;if((null === d || void 0 === d?0:d.GFb) || (null === d || void 0 === d || !d.tFb) && l.Nc.lessThan(m.Nc)){if(t=l.fja(m.Nc.V))(t=(null !== (n=null === (k=l.na) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + t.zk,f=Math.max(null !== f && void 0 !== f?f:0,t));t=m.Nc.V;h=!0;}if((null === d || void 0 === d || !d.zFb) && l.Nd.greaterThan(m.Nd)){if(t=l.fja(m.Nd.V))(t=(null !== (p=null === (q=l.na) || void 0 === q?void 0:q.start) && void 0 !== p?p:0) + t.zk,g=Math.min(null !== g && void 0 !== g?g:Infinity,t),l.lM=l.index);t=m.Nd.V;u=!0;}void 0 === f && void 0 === g || l.th({start:f,end:g});void 0 !== t && (!l.Ut || t > l.Ut) && (l.xN(t),l.na || l.th({}));l.XSb(m.region,h,u);};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=void 0;c=a(2);f=a(417);l=a(6);r=(function(){function m(d){var g,h,k,n,q,p,t,u;g=this;h=d.console;k=d.config;n=d.O;q=d.Ue;p=d.P;t=d.Nc;u=d.Nd;d=d.splice;this.ama=this.$R=!1;this.jOa=function(){g.$R || g.jMa() && g.d_a();};this.console=h;this.config=k;this.Ue=q;this.O=n;this.P=p;this.Nc=t;this.Nd=u;this.splice=d;}m.prototype.nb=function(d){if(this.$R)throw Error("Cannot call init() after cleanup");if(this.ama)throw Error("Cannot call init() twice");this.ama=!0;this.I_a=d;this.O.QB.addListener("onHeaderFragments",this.jOa);this.jMa() && this.d_a();};m.prototype.FQb=function(d,g){l.assert(this.ama,"expected to be called init() before renormalize");this.P=d;this.Nd=g;d=f.pra(this.config,this.Ue,this.Nd);this.m6();return d;};m.prototype.Lc=function(){this.$R || (this.$R=!0,this.I_a=void 0,this.O.QB.removeListener("onHeaderFragments",this.jOa));};m.prototype.d_a=function(){var d,g,h;if(!this.$R){g=this.yKb();h=!1;this.P && !this.P.pM && (h=this.m6());null === (d=this.I_a) || void 0 === d?void 0:d.call(this,g,h);this.Lc();}};m.prototype.jMa=function(){return this.Ue.every(function(d){return d.track.Ee;});};m.prototype.yKb=function(){var d,g;d=c.__read(f.e_a(this.config,this.Ue,this.Nc,this.Nd,this.splice),2);g=d[0];return d[1] || void 0 === this.Ue.Sa(1) && g;};m.prototype.m6=function(){var d,g,h;l.assert(this.P);l.assert(!this.P.pM);d=this.Ue.NV;g=f.h_a(this.config,d,this.P.Vg);if(void 0 === g || void 0 === d.Nd)return !1;d=d.Nd;h=this.config.sua && "immediate" !== this.P.ae?f.JYa(this.console,this.P,this.Ue):[];this.P.normalize(g,d,h);return !0;};return m;})();b.tEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sEa=void 0;c=a(6);r=(function(){function f(l){var m;m=this;void 0 === l && (l=[]);this.Ue=l;l.forEach(function(d){return m.kua(d);});}Object.defineProperties(f.prototype,{length:{get:function(){return this.Ue.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{NV:{get:function(){var l;return null !== (l=this.Eua) && void 0 !== l?l:this.tfa;},enumerable:!1,configurable:!0}});f.prototype.Sa=function(l){return 1 === l?this.Eua:this.tfa;};f.prototype.every=function(l){return this.Ue.every(l);};f.prototype.some=function(l){return this.Ue.some(l);};f.prototype.forEach=function(l){this.Ue.forEach(l);};f.prototype.reduce=function(l,m){return this.Ue.reduce(l,m);};f.prototype.filter=function(l){return new f(this.Ue.filter(l));};f.prototype.replace=function(l,m){var d;d=this.Ue.indexOf(l);c.assert(-1 < d);c.assert(l.mediaType === m.mediaType);this.Ue[d]=m;this.kua(m);};f.prototype.I3a=function(l,m){(l=this.Sa(l))?this.replace(l,m):this.add(m);};f.prototype.add=function(l){this.Ue.push(l);this.kua(l);};f.prototype.clear=function(){this.Ue=[];this.tfa=this.Eua=void 0;};f.prototype.kua=function(l){1 === l.mediaType?this.Eua=l:this.tfa=l;};return f;})();b.sEa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZBa=void 0;c=a(2);r=c.__importDefault(a(110));f=c.__importDefault(a(5));l=a(250);m=a(251);d=r.default.t1;g=r.default.Bpb;h=r.default.NRa;k=r.default.Vwb;n=r.default.JRb;new f.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(q){var v70;v70=2;for(;v70 !== 5;){switch(v70){case 2:c.__extends(p,q);v70=1;break;case 1:return p;break;case 9:return p;break;v70=5;break;}}function p(t,u){var w70,v;w70=2;for(;w70 !== 12;){switch(w70){case 9:var v42="1";v42+="SIYbZrNJC";v42+="p9";v.knb=d(t.ks.gamma || 1,.1,10);v.filter=t.ks.filter;v.VTb=! !t.ks.simpleScaling;t.ks.niqrfilter && t.ks.niqrcurve && (v.ZZa=t.ks.niqrfilter,v.sKb=g(t.ks.niqrcurve,1,0,4));v42;return v;break;case 1:v.DC=function(w,x){var x70;x70=2;for(;x70 !== 1;){switch(x70){case 2:return m.DC(v.config,w,x);break;}}};v.X6=function(w,x,y){var y70,A,z,B,D,E,F;y70=2;for(;y70 !== 13;){switch(y70){case 2:y=null !== y && void 0 !== y?y:v.WL;F=null !== (z=null === (A=w.Pa) || void 0 === A?void 0:A.Ca) && void 0 !== z?z:0;y70=4;break;case 4:A=null !== (D=null === (B=w[v.filter]) || void 0 === B?void 0:B.Ca) && void 0 !== D?D:F;B=Math.pow(Math.max(1 - A / v.qnb,0),v.knb);D=x.Fl - x.wc;v.VTb?(x=h(v.UPa,D,1),D=h(v.TPa,D,1),x=x * B + D * (1 - B)):x=h(n(v.UPa,v.TPa,B),D,1);y70=7;break;case 7:w=v.ZZa && (null === (E=w[v.ZZa]) || void 0 === E?void 0:E.fV);void 0 !== w && (E=k(v.sKb,w),x=Math.min(x * E,1));a000.q62(15);return v.CQa(a000.J62(1,x,F),y);break;}}};Array.isArray(t.ks.curves) && (v.UPa=g(t.ks.curves[0],0,0,1),v.TPa=g(t.ks.curves[1],0,0,1));v.qnb=d(t.ks.threshold || 6E3,1,1E5);w70=9;break;case 2:v=q.call(this,t,u) || this;w70=1;break;}}}})(l.UH);b.ZBa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.IGa=void 0;c=a(2);r=c.__importDefault(a(5));f=a(250);l=a(251);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){function d(g,h){var A70,k;A70=2;for(;A70 !== 9;){switch(A70){case 4:var L42="1SIYbZrNJ";L42+="C";L42+="p9";L42;return k;break;case 2:k=m.call(this,g,h) || this;k.DC=function(n,q){var B70;B70=2;for(;B70 !== 1;){switch(B70){case 2:return l.DC(k.config,n,q);break;}}};k.X6=function(n,q,p){var C70,t;C70=2;for(;C70 !== 3;){switch(C70){case 2:p=null !== p && void 0 !== p?p:k.WL;t=d.LTb(n,k.config);n=n.Pa?n.Pa.Ca * (100 - k.szb(q,t)) / 100 | 0:0;C70=4;break;case 14:return k.CQa(n,p);break;C70=3;break;case 4:return k.CQa(n,p);break;}}};A70=4;break;case 13:"";return k;break;A70=9;break;}}}var z70;z70=2;for(;z70 !== 3;){switch(z70){case 2:c.__extends(d,m);d.LTb=function(g,h){var D70,k,n;D70=2;for(;D70 !== 4;){switch(D70){case 7:return n;break;D70=4;break;case 2:n=! !g.$q;h.uta && (null === (k=g.Pa) || void 0 === k?void 0:k.Ca) < h.gS && (n=!0);D70=5;break;case 5:return n;break;}}};d.prototype.szb=function(g,h){var E70,k,n;E70=2;for(;E70 !== 3;){switch(E70){case 4:return n;break;case 2:(k=this.config,n=h?k.Yga:k.Efa);h=h?k.Zga:k.Gfa;Array.isArray(h) && (n=l.MRa(h,g.Fl - g.wc,k.Ffa));E70=4;break;}}};return d;break;}}})(f.UH);b.IGa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LAa=void 0;r=(function(){function a(c,f,l,m,d,g,h,k){this.xb=c;this.DNa=f;this.config=l;this.console=m;this.mediaType=d;this.ub=g;this.Oa=h;this.Ob=k;this.lq=this.wh=!1;}a.prototype.kK=function(c,f){!this.xb.P.Vt || this.Ob.vJ || this.Ob.c0 || (c-=this.xb.Re,this.wh && !this.lq && c + this.config.K5a >= f && 0 === this.Oa.wC && 0 === this.Oa.Gr && 0 === this.Oa.mPb && (f=this.Ob.se.O.Gb,c=this.Ob.lL(),f + 1 < c || (this.DNa[this.mediaType].m5a || this.ub.tib(this.mediaType),this.lq=!0,this.DNa[this.mediaType].r6())));};return a;})();b.LAa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.JAa=void 0;c=a(2);f=a(20);r=a(420);l=a(419);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.Uub=function(g){m.prototype.Z4.call(this,{value:g});};d.prototype.IWa=function(){return !0;};d.prototype.Wsa=function(){};d.prototype.Z4=function(g){m.prototype.Z4.call(this,g);g.done && (g=this.SA.R1,f.ia && this.H.trace("Requests drained",{m4b:g && g.P.id}),(g=g && g.Sa(this.tg)) && g instanceof l.cZ && g.kK(this.qg.oka() || 0));};return d;})(r.P9);b.JAa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.awa=void 0;c=a(2);f=a(177);l=a(20);r=(function(){function m(d,g,h){this.H=d;this.Ufb=g;this.tg=h;this.v_=0;this.S_=!1;this.dQ=[];this.bE=void 0;l.ia && d.trace("BranchRequestIterator [" + this.tg + "]: created");}Object.defineProperties(m.prototype,{Ctb:{get:function(){return this.v_;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{R1:{get:function(){return this.YIa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sk:{get:function(){return this.S_;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{SPa:{get:function(){return this.Mk?this.Mk.Iy?"Complete":this.Mk.yqa?"WaitingForBranch":void 0 !== this.bE && 0 !== this.bE?"In Policy " + this.dQ[this.bE].name:"WaitingForRequest":"Uninitialized;Prior:" + this.WJa;},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,h,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Mk;if(!d)return [3,6];this.bE=void 0;return [4,d.next()];case 1:(g=n.$d(),h=0,n.label=2);case 2:if(!(h < this.dQ.length))return [3,5];this.bE=h;k=this.dQ[h];return [4,k.process(g)];case 3:(g=n.$d(),n.label=4);case 4:return (h++,[3,2]);case 5:this.bE=void 0;if(g.done || this.Mk !== d)return [2,{done:!0}];this.v_++;g.value.DLa();return [2,{done:!1,value:g.value.value}];case 6:return [2,f.AsyncIterator.Xka()];}});});};m.prototype.nRb=function(){this.T4a();this.HPb();};m.prototype.T4a=function(){var d;if(this.Mk){this.WJa=this.SPa;d=this.Mk;d && d.hh();this.dQ.forEach(function(g){return g.reset();});d && l.ia && this.H.trace("BranchRequestIterator [" + this.tg + "]: Disposing iterator that was on branch ",this.R1 && this.R1.P.id);this.S_=!1;this.bE=this.Mk=void 0;}};m.prototype.ylb=function(d){this.dQ.push(d);};m.prototype.HPb=function(){var d,g,h,k;d=this;if(!this.S_){g=this.H;h=this.Ufb;k=this.tg;this.v_=0;this.WJa=this.YIa=void 0;this.Mk=f.flatten(f.map(h.QUa(),function(n){return c.__awaiter(d,void 0,void 0,function(){var q;return c.__generator(this,function(p){switch(p.label){case 0:return (this.YIa=n,this.v_=0,l.ia && g.trace("BranchRequestIterator [" + this.tg + "]: new branch " + n.P.id),[4,n.FF(k)]);case 1:if(q=p.$d())return [2,{value:q}];l.ia && g.error("BranchRequestIterator [" + this.tg + "]: skipping branch " + n.P.id);return [2,{value:[]}];}});});},g),g);this.S_=!0;}};return m;})();b.awa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DFa=void 0;c=a(2);f=a(902);l=a(903);r=(function(){function m(d,g,h,k,n,q,p,t){this.mediaType=d;this.Ga=h;this.events=n;this.nX=[];1 === this.mediaType && this.nX.push(new l.AGa(d,g,h,k,n,q,p,t,2));this.nX.push(new f.aHa(d,g,h,k,n,q,p,"stream",1));}m.prototype.reset=function(){this.nX.forEach(function(d){return d.reset();});};m.prototype.close=function(){this.nX.forEach(function(d){return d.close();});};m.prototype.ci=function(d){return c.__read(this.nX,1)[0].ci(d);};return m;})();b.DFa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aHa=void 0;c=a(2);f=a(6);l=a(20);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.$y=function(g){var h,k;h=g.stream;k=g.Ui;g=g.rf;f.assert(void 0 !== k);this.QLa(h,k,g) && l.ia && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + k.V + "ms");};d.prototype.fRa=function(g,h){var k,n,q;n=g.DH;q=this.Ga.kr(h);f.assert(void 0 !== q);l.ia && this.trace("emitStreamPresentingEvent @ " + g.timestamp.V + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:q,trackIndex:null === (k=null === n || void 0 === n?void 0:n.track) || void 0 === k?void 0:k.GE,streamIndex:null === n || void 0 === n?void 0:n.ng});};return d;})(a(421).uba);b.aHa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.AGa=void 0;c=a(2);f=a(20);l=a(6);m=a(9);r=(function(d){function g(h,k,n,q,p,t,u,v,w){h=d.call(this,h,k,n,q,p,t,u,"segment",w) || this;h.ew=v;return h;}c.__extends(g,d);g.prototype.$y=function(h){var k,n,q;n=h.Ui;h=h.rf;l.assert(void 0 !== n);q=null === (k=this.Ga.kr(n)) || void 0 === k?void 0:k.va;l.assert(void 0 !== q);this.QLa(q,n,h) && f.ia && this.trace("segment " + q + " @ " + n.V + "ms");};g.prototype.fRa=function(h,k){var n,q;n=h.DH;q=this.Ga.kr(k);l.assert(void 0 !== q);f.ia && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.V + "ms for segment " + n);q.va !== n && (f.ia && this.console.warn("player position:",q,"not equal to trackedElement:",n),q={va:n,offset:m.S.ab});h={type:"segmentPresenting",playerTimestamp:k,position:q};this.ew && (h.metrics=this.ew.tka(n));f.ia && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return g;})(a(421).uba);b.AGa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Oya=void 0;c=a(2);f=a(20);l=a(67);r=(function(){function m(d,g,h){this.Hf=d;this.CJb=g;this.H=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var g;d=l.Jua(this.Hf,d,!0);g=d.promise;this.Kkb=d.Cr;return g;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.oja)return [3,2];h=g.Ui.Aa(this.CJb);f.ia && this.H.trace("[" + g.mediaType + "] JIT: waiting until playertime >= " + h.V,"to append next request " + g.toString());return [4,this.waitUntil(h)];case 1:(k.$d(),f.ia && this.H.trace("[" + g.mediaType + "] JIT: now appending request " + g.toString()),k.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.Kkb) || void 0 === d?void 0:d.Ab();};return m;})();b.Oya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uGa=void 0;r=(function(){function a(c,f,l,m,d,g,h,k,n,q){var p;p=this;this.id=c;this.O=f;this.X=l;this.vS=d;this.Wk=g;this.Vt=h;this.Tq=k;this.ko=n;this.ae=q;this.vL=function(t){var u,v;return (null === (v=null === (u=p.Wk) || void 0 === u?void 0:u[t]) || void 0 === v?void 0:v.AWb) || p.ae;};this.Ea=m || Infinity;}Object.defineProperties(a.prototype,{$:{get:function(){return this.O.$;},enumerable:!1,configurable:!0}});a.prototype.sTa=function(){var c,f,l;c=this;l=Object.keys(this.Wk || ({})).filter(function(m){var d,g;return !(null === (g=null === (d=c.Wk) || void 0 === d?void 0:d[m]) || void 0 === g || !g.weight);});return l.length?null !== (f=l.map(this.vL).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== f?f:this.ae:this.ae;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.ko + " viewableId: " + this.O.$ + " pts: " + this.X + "-" + this.Ea + " defaultKey: " + this.vS + " dests: " + JSON.stringify(this.Wk) + " terminal: " + ! !this.Vt;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.O.$,"startPts:":this.X,endPts:this.Ea,defaultKey:this.vS,"dests:":this.Wk,terminal:! !this.Vt,playlistSegmentId:this.ko};};return a;})();b.uGa=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ava=void 0;r=a(2);c=r.__importStar(a(10));f=a(179);l=r.__importDefault(a(907));m=a(390);d=r.__importDefault(a(27));g=r.__importDefault(a(5));a=(function(){var F70;F70=2;for(;F70 !== 27;){switch(F70){case 2:Object.defineProperties(h.prototype,{L4:{get:function(){var J70;J70=2;for(;J70 !== 1;){switch(J70){case 2:return this.pda;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gqa:{get:function(){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:return this.NKa;break;case 4:return this.NKa;break;K70=1;break;}}},enumerable:!1,configurable:!0}});h.prototype.O3a=function(k,n,q){var L70;L70=2;for(;L70 !== 4;){switch(L70){case 2:this.SB=k;c.fa(n) || (this.RVa=n);c.fa(q) || (this.QVa=q);L70=4;break;}}};F70=4;break;case 4:h.prototype.fua=function(k){var M70;M70=2;for(;M70 !== 5;){switch(M70){case 2:this.I=k;this.d0.fua(k);M70=5;break;}}};h.prototype.qda=function(k,n,q,p){var N70,t;N70=2;for(;N70 !== 7;){switch(N70){case 4:return ! !(n.Pa && q && c.ya(p) && n.Pa.Ca < t.gS && p > t.V$);break;case 1:var e42="i";e42+="q";e42+="r";N70=k === e42?5:9;break;case 3:return !1;break;case 9:var m42="a";m42+="v";m42+="g";N70=k === m42?8:3;break;case 5:N70=void 0 !== p?4:3;break;case 2:t=this.I;N70=1;break;case 8:return n.Pa?n.Pa.Ca < t.gS:!0;break;}}};h.prototype.pL=function(k){var O70;O70=2;for(;O70 !== 1;){switch(O70){case 2:return 1 === k?this.d0.X6:this.d0.DC;break;}}};h.prototype.tN=function(k){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 4:this.d0.tN(k);P70=2;break;P70=1;break;case 2:this.d0.tN(k);P70=1;break;}}};h.prototype.Zkb=function(k,n,q,p,t,u){var Q70,v;Q70=2;for(;Q70 !== 5;){switch(Q70){case 2:v=this.I;v.h9 && this.kjb(n) || !q || !p || !(q=u?Math.min(q,p,u):Math.min(q,p)) || (this.Mf.get(),p=this.gb.Ia,k=p.Wu(p.Ec,k),n.track.Ys() && k > v.Qfa && q === t?(v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:1}),v.set({maxActiveRequestsPerSession:2}),v.set({maxPendingBufferLen:500})):(v.Kp=!0,v.XL=1,v.zv=2,v.kC=500),n.track.l7({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:v.cO,minRequestSize:v.fM}),this.vta++,v.h9 && (this.l0=!0)):v.Kp && !n.Ys() && (k < v.Pfa || q !== t) && (v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:3}),v.set({maxActiveRequestsPerSession:3}),v.set({maxPendingBufferLen:12E3})):(v.Kp=!0,v.XL=3,v.zv=3,v.kC=12E3),n.track.l7({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:v.cO,minRequestSize:v.fM}),this.wta++,v.h9 && (this.m0=!0)));Q70=5;break;}}};h.prototype.blb=function(k,n){var R70,p,t,q;R70=2;for(;R70 !== 6;){switch(R70){case 5:void 0 === this.km && (this.km={startTime:g.default.time.ba(),FR:[],EX:[],Zma:void 0,Qma:void 0});q=Math.floor((g.default.time.ba() - this.km.startTime) / q.dK);(p=this.km.Qma,t=this.km.Zma?q - this.km.Zma - 1:q);R70=9;break;case 2:q=this.I;R70=1;break;case 7:this.km.Qma=q;R70=6;break;case 8:(this.km.FR[t]=k,this.km.EX[t]=n);R70=7;break;case 1:R70=this.$Ja?5:6;break;case 9:R70=void 0 === p || q > p?8:7;break;}}};h.prototype.nLb=function(){var S70,k,T70;S70=2;for(;S70 !== 4;){switch(S70){case 1:S70=this.rE.Sq?5:4;break;case 9:k=this.gb;S70=0;break;S70=1;break;case 2:k=this.gb;S70=1;break;case 8:S70=this.rE.Sq?4:5;break;S70=this.rE.Sq?5:4;break;case 5:try{T70=2;for(;T70 !== 1;){switch(T70){case 2:(this.Mf.sQb(),this.NKa.Lc());T70=1;break;}}}catch(n){var C42="Hindsigh";C42+="t: Error during ";C42+="clean ";C42+="up: ";a000.W62(1);k.ub.Mm(a000.x62(C42,n));}S70=4;break;}}};F70=13;break;case 13:h.prototype.BLb=function(k){var U70;U70=2;for(;U70 !== 1;){switch(U70){case 2:this.I.KK && k === d.default.Ra.Fb && (this.wta=this.vta=this.t4a=this.u4a=this.g0a=this.h0a=0);U70=1;break;}}};h.prototype.zLb=function(k,n){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:k === d.default.Ra.Fb && (this.HYb=n);V70=1;break;}}};h.prototype.hpb=function(k){var W70,t,p,n,q,u;W70=2;for(;W70 !== 6;){switch(W70){case 3:t=this.yJa(p);W70=9;break;case 1:var o42="n";o42+="o";o42+="n";o42+="e";W70=o42 !== n.RC && !0 !== this.$q && k.state <= n.Yna?5:6;break;case 5:p=this.Mf.get();W70=4;break;case 2:n=this.I;W70=1;break;case 4:var d42="i";d42+="q";d42+="r";W70=d42 === n.RC?3:8;break;case 9:void 0 !== t && void 0 !== t.gl && void 0 !== t.Mj && void 0 !== t.il && (q=(t.il - t.gl) / t.Mj);W70=8;break;case 8:u=n.ZU?d.default.zf.Aw:d.default.zf.hA;p && p.confidence >= u && this.qda(n.RC,p,t,q) && (this.$q=!0,this.D1=k.state);W70=6;break;}}};h.prototype.wlb=function(k){var X70;X70=2;for(;X70 !== 1;){switch(X70){case 2:k.$q=this.$q;X70=1;break;}}};F70=20;break;case 20:h.prototype.Dxb=function(k){var Y70,u,w,x,n,q,p,t,v;Y70=2;for(;Y70 !== 25;){switch(Y70){case 5:Object.keys(k).forEach(function(y){var Z70;Z70=2;for(;Z70 !== 1;){switch(Z70){case 2:n[y]=k[y];Z70=1;break;}}});u=this.Mf.get();u && u.Pa && (u=u.Pa.Ca);Y70=9;break;case 11:w=function(y){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 2:return c.ya(y)?Number(y).toFixed(2):-1;break;}}};u=[w(v.min || void 0),w(v.E6 || void 0),w(v.gl || void 0),w(v.Mj || void 0),w(v.il || void 0),w(v.F6 || void 0),w(v.max || void 0)];x=[];v=c.isArray(v.di) && v.di.reduce(function(y,A){var b80,z;b80=2;for(;b80 !== 3;){switch(b80){case 2:z=w(A.Uf || void 0);A=w(A.n || void 0);b80=5;break;case 5:-1 < z && -1 < A && y.push({mean:z,n:A});return y;break;}}},x);n.histtdc=v;Y70=17;break;case 2:var n42="st";n42+="a";n42+="rtpl";n42+="ay";var j42="lo";j42+="g";j42+="d";j42+="ata";(n={},q=this.I,p=this.gb,t={type:j42,target:n42,fields:{}});t.fields=n;Y70=5;break;case 9:n.actualbw=u;n.isConserv=this.$q;n.ccs=this.D1;n.isLowEnd=this.BFb;Y70=14;break;case 12:Y70=v?11:16;break;case 17:n.histtd=u;Y70=16;break;case 16:n.histage=this.RVa;q.wia && this.nJ && (n.ishighstable=this.pda,n.avg_avtp=this.nJ.dnb,n.avg_ne=Number(this.nJ.enb).toFixed(4));p.$b && (q=g.default.Sn(),n.maxAudioBufferAllowedBytes=q[d.default.Ra.Sb],n.maxVideoBufferAllowedBytes=q[d.default.Ra.Fb]);p.emit(t.type,t);Y70=25;break;case 14:n.histdiscbw=this.SB;v=this.QVa;Y70=12;break;}}};h.prototype.Exb=function(k){var c80,u,v,w,n,q,p,t;c80=2;for(;c80 !== 6;){switch(c80){case 3:p.confidence && (u=p.Pa?p.Pa.Ca:0,v=p.Vi?p.Vi.Ca:0,w=p.Us?p.Us.Ca:0);k.location={responseTime:v,httpResponseTime:w,bandwidth:u,confidence:p.confidence,name:this.HYb};this.$Ja && (k.bt={startTime:this.km.startTime,audioMs:this.km.FR,videoMs:this.km.EX},this.km.FR=[],this.km.EX=[],this.km.Zma=this.km.Qma);c80=7;break;case 4:(u=0,v=0,w=0);c80=3;break;case 2:(n=this,q=this.I,p=this.Mf.get(),t=[]);[d.default.Ra.Fb,d.default.Ra.Sb].forEach(function(x){var d80,y;d80=2;for(;d80 !== 4;){switch(d80){case 1:y=n.gb.VUa(x);void 0 !== y && (x === d.default.Ra.Fb && (q.KK && (y.parallelDownloadMs=n.h0a,y.parallelDownloadBytes=n.g0a,y.singleDownloadMs=n.u4a,y.singleDownloadBytes=n.t4a,y.switchFromParallelToSingle=n.vta,y.switchFromSingleToParallel=n.wta),p && p.confidence && p.Pa && (y.asetput=p.Pa,y.aseiqr=p.Vs,y.tdigest=p.Uj && p.Uj.sy() || void 0),p && p.avtp && (y.avtp=p.avtp.Ca)),t.push(y));d80=4;break;case 2:d80=n.Zb(x)?1:4;break;}}});k.stat=t;c80=4;break;case 7:var H42="n";H42+="o";H42+="n";H42+="e";H42 !== q.RC && (k.isConserv=this.$q,k.ccs=this.D1);c80=6;break;}}};h.prototype.kjb=function(k){var e80,n;e80=2;for(;e80 !== 6;){switch(e80){case 4:this.l0 && (this.l0=!1);e80=3;break;case 5:return !0;break;case 1:e80=this.l0 && k.Ys()?5:4;break;case 2:n=this.I;e80=1;break;case 3:e80=this.m0 && n.Kp && !k.Ys()?9:8;break;case 9:return !0;break;case 8:this.m0 && (this.m0=!1);return !1;break;}}};h.prototype.yJa=function(k){var f80,g80;f80=2;for(;f80 !== 4;){switch(f80){case 5:return k;break;case 1:k=k.Uj;f80=5;break;case 2:var T42="tdi";T42+="ges";T42+="t";g80=this.I.Ela;f80=g80 === T42?1:3;break;case 6:k=k.Uj;f80=2;break;f80=5;break;case 3:f80=9;break;case 9:k=k.Vs && k.Vs.L6;f80=5;break;}}};F70=16;break;case 16:h.prototype.yhb=function(k,n,q){var h80,p;h80=2;for(;h80 !== 3;){switch(h80){case 2:p=this.I;this.qda(p.RC,k,n,q)?this.$q=!0:this.$q=!1;this.D1=0;this.qda(p.wna,k,n,q) && (this.BFb=!0);h80=3;break;}}};return h;break;}}function h(k,n,q,p,t,u,v,w,x){var G70,I70,A,H70,y;G70=2;for(;G70 !== 32;){switch(G70){case 8:this.Hb=this.H.warn.bind(this.H);this.rm=this.H.trace.bind(this.H);this.I=t;a000.W62(5);var y31=a000.x62(799949,20,200000,12,19);this.$Ja=0 === Math.floor(y31 * Math.random()) % t.Rfa;G70=13;break;case 26:G70=v && 1 < v.length && t.wia?25:33;break;case 13:this.SB=this.QVa=this.RVa=this.D1=this.$q=void 0;G70=12;break;case 21:this.nJ=new m.Gza(v,t,this.H);G70=23;break;case 23:this.pda=this.nJ.L4();G70=33;break;case 24:this.nJ=new m.S$(v,t,this.H);G70=23;break;case 15:try{I70=2;for(;I70 !== 4;){switch(I70){case 2:A=new l.default(k,this.H,{bufferSize:g.default.Sn()},t);this.Mf.hlb(A);this.NKa=A;I70=4;break;}}}catch(z){var a42="Hindsight: Er";a42+="ror when";a42+=" creating QoEEvaluator: ";a000.W62(1);k.ub.Mm(a000.x62(a42,z));}G70=27;break;case 5:var r42="1SIY";r42+="bZ";r42+="rNJCp9";this.Zb=w;this.rE=x;r42;this.gb=k;G70=8;break;case 27:this.pda=!1;G70=26;break;case 33:t.h9 && (this.m0=this.l0=!1);G70=32;break;case 16:G70=this.rE.Sq?15:27;break;case 25:var N42="b";N42+="as";N42+="e";N42+="lin";N42+="e";H70=t.EDb;G70=H70 === N42?24:22;break;case 18:p=t.ZU?d.default.zf.Aw:d.default.zf.hA;q && q.confidence >= p && q.Pa && y && this.yhb(q,n,y);G70=16;break;case 35:G70=34;break;case 12:this.wta=this.t4a=this.u4a=this.vta=this.g0a=this.h0a=0;this.d0=f.pL(t,u);n=this.yJa(q);void 0 !== n && void 0 !== n.gl && void 0 !== n.Mj && void 0 !== n.il && (y=(n.il - n.gl) / n.Mj);G70=18;break;case 22:var Z42="L";Z42+="R";G70=H70 === Z42?21:35;break;case 34:this.nJ=new m.S$(v,t,this.H);G70=23;break;case 2:this.H=n;this.Mf=p;G70=5;break;}}}})();b.ava=a;},function(r,b,a){var f,l,m;function c(d,g,h,k){this.gb=d;this.H=g;this.$j=this.H.error.bind(this.H);this.Hb=this.H.warn.bind(this.H);this.rm=this.H.trace.bind(this.H);this.eg=this.H.log.bind(this.H);this.Efb=new l();this.I=k;this.b0=[];this.t0=void 0;d=k.c4;f.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.kda=!0;}a(27);b=a(5).default;f=a(145);a(423);l=a(908);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(124).FFa || a(124);c.prototype=Object.create(f.prototype);c.prototype.add=function(d,g,h){this.t0 || (this.t0=g);f.prototype.add.call(this,d,g,h);};c.prototype.Fzb=function(){var d;if(0 !== this.b0.length){d=[];this.b0.forEach(function(g){g && g.TJ && d.push(g.sy());});return d;}};c.prototype.Lc=function(){this.b0=[];};c.prototype.vCb=function(){var d,g,h;d=this.get(this.I.c4.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,q){if(n)return (g=n,h=q,!0);});if(g)for(var k=0;k < h;k++){d[k]=g;}}d={trace:d,timestamp:this.t0,Dx:this.sd};this.kda=!1;f.prototype.reset.call(this);this.kda=!0;this.t0=void 0;return d;};c.prototype.Mia=function(d){var g,h,k,n,q,p;if(d && !d.TJ){h=d.Ds.ZWa;h && (d.Uqa=this.$ea(d),d.j7=!1);if((g=this.vCb()) && g.trace && g.trace.length){k=d.$i.AC;n=g.timestamp;if(n > k){q=g.Dx;p=g.trace[0];k=Math.ceil((n - k) / q);g.timestamp=n - k * q;for(n=0;n < k;n++){g.trace.splice(0,0,p);}}g.trace.length && g.trace.pop();}d.Lz=g;g.trace && 0 === g.trace.length || void 0 === g.timestamp || (g=this.hob(d),d.P_a=g,h && g && (d.j7=g.XB),d.TJ=!0,this.b0.push(d));}};c.prototype.hob=function(d){var q,p,t,u;function g(v){var y;for(var w,x=0;x < v.length;x++){y=v[x].reduce(function(A,z){return z.wb?A + 1:A;},0);if(void 0 === w)w=y;else if(y !== w)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > w?y - w:w - y) * Math.LOG2E) + "]");}}for(var h=this.I.b4,k={XB:!1,A4:!1,Qvb:0},n=0;n < h.length;n++){q=h[n];p=this.Efb.create(q);if(p){t=m.now();u={};try{g(d.hw);u=p(d);}catch(v){u.RK=v;}u.Tlb=m.now() - t;k[q]=u;k.XB=k.XB || u.XB;k.A4=k.A4 || u.A4;k.RK=k.RK || u.RK;}}return k;};c.prototype.$ea=function(d){var g;d=d.Ds;g="";1E3 > d.xo && (g+=d.C7a);1E3 > d.gs && (g=g + ("" !== g?",":"") + d.GMa);1E3 <= d.xo && 1E3 <= d.gs && (g="media");return g;};r.exports=c;},function(r,b,a){var l;function c(){}function f(m,d,g){return function(h){h.JC=d;h.compare=g;return m(h);};}l=a(909);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=f(l.NT,!1,l.OOa);break;case "htwbr-segvmaf":d=f(l.NT,!0,l.OOa);break;case "hvmafgr":d=f(l.NT,!1,l.Qga);break;case "hvmafgr-dlvmaf":d=f(l.NT,!1,l.Qga);break;case "hvmafgr-segvmaf":d=f(l.NT,!0,l.Qga);break;case "hvmafdp":d=f(l.dp,!1);break;case "hvmafdp-dlvmaf":d=f(l.dp,!1);break;case "hvmafdp-segvmaf":d=f(l.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var p,t,u,v,w,x,y,A,z,B,D;function c(E){var F,C,G;F=E.Lz;C=E.$i;G=E.Ds.Ea - C.X;F.timestamp > C.AC && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + C.AC);E=[];for(var J,K=F.timestamp,H=0;H < F.trace.length;H++){K >= C.AC && (E.push(F.trace[H]),J=F.trace[H]);K+=F.Dx;G-=F.Dx;}for(;0 < G;){E.push(J);G-=F.Dx;}C=F.Dx;F=E.length;if(0 === F)F=[];else {for(C=[C / 1E3];2 * C.length <= F;){C=C.concat(C);}C.length < F && (C=C.concat(C.slice(0,F - C.length)));F=C;}return new x(E,F,!1);}function f(E,F,C){F=E.hw[F][C];return F.ca + E.$i.JR * F.duration / 8;}function l(E){var F,C,G,J,K,H,L,R,I;F=E.$i;C=F.Yl;G=E.Ds;J=G.dv;H=[];for(G=J=Math.min(G.eG,J);G >= C;G--){D.update("backward step loop");L=K=E.hw[0][G].X - E.$i.X;G < J && (p(void 0 !== H[G + 1],"expect solution[(fragIndex + 1)] !== undefined"),L=Math.min(H[G + 1].startTime,L));R=f(E,0,G);I=q(R,L,E.Lz,F.AC);if(0 > I)throw Error("Infeasible: reason throughput at min bitrate");R={startTime:I,endTime:L,T1:L,ovb:K,nN:R,je:0};R.ISa=G;H[G]=R;}F=0;for(G=C;G <= J;G++){F+=H[G].nN;H[G].gia=F;}if(!m(E,H,C,J))throw Error("Infeasible: reason buffer capacity at min bitrate");return {XB:!0,Noa:0 == H.length,$p:H};}function m(E,F,C,G){var J,K,H,L,R,I,Q,N,M,P;for(;C <= G;C++){D.update("checkBuffer");J=E;K=F;H=C;D.update("check buffer vacancy");L=J.$i;R=J.hw[L.cU];I=J.CNa;Q=!0;J=J.Vxb(Math.floor(K[H].startTime) + L.X);N=L.Tz + K[H].gia;M=0;P=0;if(J.index < L.Yl){for(var S=0,ea=L.Fz;ea < J.index;ea++){S+=R[ea].ca;}M+=S;S=0;for(ea=L.Fz;ea < J.index;ea++){S+=R[ea].duration;}P+=S;}else (M+=L.Tz,P+=L.xo);S=0;for(ea=L.Yl;ea < J.index;ea++){S+=K[ea].nN;}M+=S;S=0;for(ea=L.Yl;ea < J.index;ea++){S+=R[K[ea].ISa].duration;}P+=S;J=N - M;L=R[H].X + R[H].duration - L.X - P;if(L >= I.Xy || J >= I.r7a)Q=!1;K[H].LNa=J;K[H].Xfa=L;if(!Q)return !1;}return !0;}function d(E){E=E.$i.Y;for(var F=[],C,G=0;G < E.length;G++){D.update("get prebuffered chunks loop");C=E[G];p(void 0 !== C.wb,"expect frag.vmaf !== undefined");C=new u(C.ca,C.duration / 1E3,C.wb);F.push(C);}return F;}function g(E){var F,C,G,J,K,H,I;F=E.hw;C=E.$i;G=E.Ds;J=G.dv;K=E.Sd;H=[];J=Math.min(G.eG,J);for(var L=0;L < F.length;L++){G=[];for(var R=C.Yl;R <= J;R++){D.update("get chunk map from play segment");I=F[L][R];I=new u(I.ca,I.duration / 1E3,E.JC && void 0 !== I.wb?I.wb:K[L].wb);G.push(I);}H.push(G);}return new v(H,!1);}function h(E,F,C){p(E.xL() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K,H,L=0;L < F.length;L++){D.update("calculate twvmaf");p(F[L].VVa === L,"expect stream_choices[idx].i_epoch === idx");H=E.fk[F[L].h4][L];K=void 0 !== C?C(H.quality):H.quality;H=H.Xl;G+=K * H;J+=H;}return {JQa:G / J,IQa:1E3 * J};}function k(E,F,C){p(E.xL() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K=C.$i.JR,H,L=0,R=0,I=0;I < F.length;I++){D.update("calculate Bytes");p(F[I].VVa === I,"expect stream_choices[idx].i_epoch === idx");H=E.fk[F[I].h4][I];G+=H.ca;J+=K * H.Xl * 1E3 / 8;L+=H.Xl * C.Sd[F[I].h4].bitrate;R+=H.Xl;}return {HQa:G,EQa:J,GQa:0 < R?1 * L / R:0};}function n(E,F,C){F=Math.min(E.length - 1,F);F=Math.max(0,F);return E[F] * C / 8;}function q(E,F,C,G){var J,K,H,L,R;J=C.trace;K=1 * C.Dx;H=F + G - C.timestamp;L=Math.floor(1 * H / K);F=(H - L * K) / K * n(J,L,K);if(F >= E)R=H - 1 * E / F * (H - L * K);else for(H=L;F < E;){D.update("find download start time");--H;if(0 > H)return -1;L=n(J,H,K);if(F + L >= E){E=(E - F) / L * K;R=(H + 1) * K - E;break;}F+=L;}return R + C.timestamp - G;}p=a(6).assert;t=a(910);u=a(424).M9a;v=a(424).N9a;w=a(911).aab;x=a(425).afb;y=a(252).fwa;A=a(245).fZ;z=a(84).default;B=new (a(5).default.Console)("ASEJS_QOE_EVAL","media|asejs");D=a(124).FFa || a(124);r.exports={NT:function(E){var F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa,O,ja,Qa,Fa,Wa,Xa,db,Za;B.debug("greedy DEBUG false");D.tsa("greedy-" + (E.JC?"segvmaf":"dlvmaf") + ": ");try{E.dG=[];F=E.hw;C=E.$i;G=E.Ds;J=G.dv;K=E.Sd;J=Math.min(G.eG,J);for(L=C.Yl;L <= J;L++){R=new t();E.dG[L]=R;F[0][L].aga=F[0][L].ca;for(H=1;H < F.length;H++){F[H][L].aga=F[H][L].ca;}H=0;I=F[H][L];I.iC=Infinity;I.ng=H;for(H=1;H < F.length;H++){I=F[H][L];I.ng=H;Q=R.I4()?F[0][L]:R.$Mb();N=8 * I.aga / I.duration;M=8 * Q.aga / Q.duration;if(E.JC && void 0 !== I.wb)(P=I.wb,S=Q.wb);else (P=K[H].wb,S=K[Q.ng].wb);I.et=N - M;I.iC=(P - S) / I.et;isFinite(I.iC) && (0 < I.iC || H == F.length - 1) && 0 < I.et && R.enqueue(I);}}for(L=C.Yl;L <= J;L++){C=[];ea=[];qa=[];wa=E.dG[L].uo();for(F=0;F < wa.length;F++){I=wa[F];C.push(I.et.toFixed(2));E.JC && void 0 !== I.wb?ea.push(I.wb):ea.push(K[I.ng].wb);qa.push(I.iC.toFixed(4));}}ua=l(E);if(ua.Noa)return ua;X=E.$i;sa=E.Ds;O=sa.dv;O=Math.min(sa.eG,O);qa=[];for(var T=X.Yl;T <= O;T++){E.dG[T].I4() || qa.push(E.dG[T].BK());}p(void 0 !== E.compare,"playSegment.compare required for greedy");for(var ma=new A(qa,E.compare);0 < ma.length;){D.update("upgrade frags");ja=ma.pop();a:{O=X=void 0;T=E;qa=ua;ea=ja;Qa=T.$i;Fa=T.Ds;Wa=Math.min(Fa.eG,Fa.dv);Xa=JSON.parse(JSON.stringify(qa.$p));p(ea && Xa[ea.index].je < ea.ng,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");O=ea.index;X=Xa[O];X.je=ea.ng;X.nN=f(T,X.je,O);X.startTime=q(X.nN,X.T1,T.Lz,Qa.AC);Xa[O]=X;if(0 > X.startTime)db=!1;else {for(O=ea.index - 1;O >= Qa.Yl;O--){X=Xa[O];Za=Xa[O + 1].startTime;if(X.T1 <= Za)break;X.T1=Za;X.startTime=q(X.nN,X.T1,T.Lz,Qa.AC);Xa[O]=X;if(0 > X.startTime){db=!1;break a;}}for(var kb=ea.index + 1;kb <= Wa;kb++){Xa[kb].gia=Xa[kb].nN + (kb > T.$i.Yl?Xa[kb - 1].gia:0);}for(var Ya=ea.index + 1;Ya <= Wa;Ya++){if(Xa[Ya].startTime > Xa[ea.index].ovb){Wa=Ya - 1;break;}}m(T,Xa,ea,Math.min(O + 1,ea.index),Wa)?(qa.$p=Xa,db=!0):db=!1;}}db && (E.dG[ja.index].I4() || ma.push(E.dG[ja.index].BK()));}}finally{delete E.dG;}for(Wa=Fa=Qa=db=ja=ma=0;Wa < ua.$p.length;Wa++){if(Xa=ua.$p[Wa])(Za=E.hw[Xa.je][Xa.ISa],ma+=(Za.wb?Za.wb:E.Sd[Xa.je].wb) * Za.duration,ja+=Za.duration,db+=Za.ca,Qa+=E.$i.JR * Za.duration / 8,Fa+=Za.duration * E.Sd[Xa.je].bitrate);}ua.JQa=0 < ja?1 * ma / ja:0;ua.IQa=ja;ua.HQa=db;ua.EQa=Qa;ua.GQa=0 < ja?1 * Fa / ja:0;ua.Vy=D.hUa();B.debug("Max heap used: " + Math.round(ua.Vy / 1024 / 1024) + " MB");return ua;},Qga:function(E,F){if(E.iC < F.iC)return 1;if(E.iC > F.iC)return -1;if(E.et > F.et)return 1;if(E.et < F.et)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},OOa:function(E,F){if(E.et > F.et)return 1;if(E.et < F.et)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(E){var F,C,G,J,K,H;D.tsa("dp-" + (E.JC?"segvmaf":"dlvmaf") + ": ");F=l(E);if(!1 === F.XB || !0 === F.Noa)return F;C=g(E);G=new w(C);J=d(E);J={Q5a:c(E),dNa:E.$i.JR,AZa:0,fZa:240,eZa:8 * E.CNa.r7a / 1E3,HNa:.5,pNa:new y(J),DRa:0,R5b:void 0,pVa:void 0,D1a:void 0,oMa:!0};G=G.Wv(J);J=h(C,G,void 0);C=k(C,G,E);K=[];H=E.$i.Yl;G.forEach(function(L){K[H]={je:L.h4};H++;});z(J,F);z(C,F);F.$p=K;F.Vy=D.hUa();B.debug("Max heap used: " + Math.round(F.Vy / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(f){this.bg=a(f);this.sg=this.We=0;if(c(f)){for(var l=f.length,m=0;m < l;++m){this[m]=f[m];}this.We=l;}}function a(f){if("number" !== typeof f)if(c(f))f=f.length;else return 16;f=Math.min(Math.max(16,f),1073741824);f=(f >>> 0) - 1;f|=f >> 1;f|=f >> 2;f|=f >> 4;f|=f >> 8;return (f | f >> 16) + 1;}b.prototype.uo=function(){for(var f=this.We,l=Array(f),m=this.sg,d=this.bg,g=0;g < f;++g){l[g]=this[m + g & d - 1];}return l;};b.prototype.push=function(f){var l,m,d,h;l=arguments.length;m=this.We;if(1 < l){d=this.bg;if(m + l > d){for(var g=0;g < l;++g){this.k_(m + 1);h=this.sg + m & this.bg - 1;this[h]=arguments[g];m++;this.We=m;}return m;}h=this.sg;for(g=0;g < l;++g){this[h + m & d - 1]=arguments[g];h++;}this.We=m + l;return m + l;}if(0 === l)return m;this.k_(m + 1);g=this.sg + m & this.bg - 1;this[g]=f;this.We=m + 1;return m + 1;};b.prototype.pop=function(){var f,l,m;f=this.We;if(0 !== f){l=this.sg + f - 1 & this.bg - 1;m=this[l];this[l]=void 0;this.We=f - 1;return m;}};b.prototype.shift=function(){var f,l,m;f=this.We;if(0 !== f){l=this.sg;m=this[l];this[l]=void 0;this.sg=l + 1 & this.bg - 1;this.We=f - 1;return m;}};b.prototype.unshift=function(f){var l,m,d,h;l=this.We;m=arguments.length;if(1 < m){d=this.bg;if(l + m > d){for(var g=m - 1;0 <= g;g--){this.k_(l + 1);d=this.bg;h=(this.sg - 1 & d - 1 ^ d) - d;this[h]=arguments[g];l++;this.We=l;this.sg=h;}return l;}h=this.sg;for(g=m - 1;0 <= g;g--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[g];}this.sg=h;this.We=l + m;return l + m;}if(0 === m)return l;this.k_(l + 1);d=this.bg;g=(this.sg - 1 & d - 1 ^ d) - d;this[g]=f;this.We=l + 1;this.sg=g;return l + 1;};b.prototype.$Mb=function(){var f;f=this.We;if(0 !== f)return this[this.sg + f - 1 & this.bg - 1];};b.prototype.get=function(f){var l;if(f === (f | 0)){l=this.We;0 > f && (f+=l);if(!(0 > f || f >= l))return this[this.sg + f & this.bg - 1];}};b.prototype.I4=function(){return 0 === this.We;};b.prototype.clear=function(){for(var f=this.We,l=this.sg,m=this.bg,d=0;d < f;++d){this[l + d & m - 1]=void 0;}this.sg=this.We=0;};b.prototype.toString=function(){return this.uo().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.BK=b.prototype.shift;b.prototype.toJSON=b.prototype.uo;Object.defineProperty(b.prototype,"length",{get:function(){return this.We;},set:function(){throw new RangeError("");}});b.prototype.k_=function(f){this.bg < f && this.Vjb(a(1.5 * this.bg + 16));};b.prototype.Vjb=function(f){var l,m;l=this.bg;this.bg=f;f=this.sg;m=this.We;if(f + m > l)for((f=f + m & l - 1,m=0);m < f;++m){this[m + l]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var p,t,u,v;function c(w,x,y){this.sNa=this.kgb(w,x,y);}function f(){}function l(){}function m(){}function d(w){this.upb=w;}function g(){}function h(){}function k(){}function n(){this.dia={};}function q(w,x){return Array.apply(0,Array(x)).map(function(y,A){return A + w;});}p=a(6).assert;b=a(252).fwa;t=a(425).bfb;u=a(252).p9a;new (a(5).default.Console)("ASEJS_QOE_EVAL","media|asejs");v=a(124).FFa || a(124);c.prototype.constructor=c;c.prototype.kgb=function(w,x,y){p(w < x,"expect min_buffer_sec < max_buffer_sec but got " + w + " and " + x);p(0 < y,"expect buffer_step_sec > 0. but got " + y);for(var A=[];w < x;w+=y){A.push(w);}A[A.length - 1] < x && A.push(x);return A;};c.prototype.LB=function(w){return this.jhb(w,this.sNa);};c.prototype.jhb=function(w,x){w=this.Rub(w,x);if(0 === w)throw new f();if(w === x.length)throw new l();return w;};c.prototype.Rub=function(w,x){p(0 < x.length,"expect bins.length > 0 but got " + x.length);if(w < x[0])return 0;if(w >= x[x.length - 1])return x.length;for(var y=1;y < x.length;y++){if(x[y - 1] <= w && w < x[y])return y;}p(!1,"expect not coming here in digitize()");};c.prototype.M3=function(){return q(1,this.sNa.length - 1);};f.prototype=Error();l.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.h$a=-20;d.prototype.g$a=20;d.prototype.f$a=void 0;d.prototype.a$a=new b(void 0);d.prototype.c$a=0;d.prototype.b$a=1;d.prototype.k$a=!1;d.prototype.e$a=!0;d.prototype.d$a=!0;d.prototype.i$a=void 0;d.prototype.Z9a=!0;d.prototype.$9a=0;d.prototype.Wv=function(w){p(void 0 !== w.Q5a,"expect recipe.time_varying_bandwidth !== undefined");return this.Wjb(this.upb,w.Q5a,void 0 !== w.AZa?w.AZa:this.h$a,void 0 !== w.fZa?w.fZa:this.g$a,void 0 !== w.eZa?w.eZa:this.f$a,void 0 !== w.pNa?w.pNa:this.a$a,void 0 !== w.DRa?w.DRa:this.c$a,void 0 !== w.HNa?w.HNa:this.b$a,void 0 !== w.$Tb?w.$Tb:this.k$a,void 0 !== w.RCb?w.RCb:this.e$a,void 0 !== w.pVa?w.pVa:this.d$a,void 0 !== w.D1a?w.D1a:this.i$a,void 0 !== w.oMa?w.oMa:this.Z9a,void 0 !== w.dNa?w.dNa:this.$9a);};d.prototype.Wjb=function(w,x,y,A,z,B,D,E,F,C,G,J,K,H){var R,I,Q,N,M,P,ua,ja,Qa,Fa,Wa,Xa,db,Za,kb,Ya,Sa,za,Ia;function L(Ma){return Ma[M];}v.tsa("dp: ");p(y <= B.Xg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");p(B.Xg <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");p(y <= D,"expect min_buffer_sec <= end_buffer_sec");p(D <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== z && p(B.pl <= z,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + B.pl + " and " + z);R=new c(y,A,E);E=new n();I=0;Q=B;E.put([0,R.LB(B.Xg)],[I,Q,void 0,void 0,x,void 0,void 0,void 0]);N=Q=0;x=w.MCb();p(w.xL() == x.length,"expect chunk_map.get_n_epoch() == durations_sec.length");M=-1;for(P in x){M+=1;for(var S=!0,ea=w.fk.map(L),qa=R.M3(),wa=0;wa < qa.length;wa++){ua=qa[wa];if(E.Mma([M,ua]))for(var X=E.get([M,ua]),sa=X[0],O=X[1],T=X[4],ma=0;ma < ea.length;ma++){x=ea[ma];v.update("epoch-ibuf-chunk loop");B=void 0 !== J?J(x.quality):x.quality;ja=T.xs();try{X=this.Qgb(O,x,ja,H);Qa=X[0];Fa=X[1];Wa=X[2];Xa=X[3];db=X[4];Za=X[5];}catch(Ma){if(Ma instanceof t)continue;else if(Ma instanceof f){Q+=1;continue;}else throw Ma;}kb=I=!1;try{Ya=R.LB(Xa.Xg);C && R.LB(Qa);G && R.LB(Fa);if(void 0 !== z)if(G){if(Wa.pl > z)throw new m();}else if(Xa.pl > z)throw new m();}catch(Ma){if(Ma instanceof f)(Ya=void 0,Q+=1);else if(Ma instanceof l)(K?I=!0:N+=1,Ya=void 0);else if(Ma instanceof m)(K?kb=I=!0:N+=1,Ya=void 0);else throw Ma;}try{if(I && kb){p(void 0 !== z,"expect max_buffer_kb !== undefined");Sa=G?Wa.pl - z:Xa.pl - z;p(0 <= Sa,"pause dlnd kb cannot be -ve but is " + Sa);try{za=Xa.wNb(Sa);}catch(Ma){if(Ma instanceof u)throw new f();throw Ma;}ja.w0a(za);db+=za;p(Xa.Xg < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Ya=R.LB(Xa.Xg);}else if(I && !kb){za=G?Wa.Xg - A + 1E-8:Xa.Xg - A + 1E-8;p(0 <= za,"pause dlnd kb cannot be -ve but is " + za);try{Xa.O0a(za);}catch(Ma){if(Ma instanceof u)throw new f();throw Ma;}ja.w0a(za);db+=za;p(y <= Xa.Xg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");p(Xa.Xg < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Ya=R.LB(Xa.Xg);}else za=0;}catch(Ma){if(Ma instanceof f)(Ya=void 0,Q+=1,za=void 0);else if(Ma instanceof t)continue;else throw Ma;}I=E.Mma([M + 1,Ya])?E.get([M + 1,Ya])[0]:-Infinity;this.Dkb(Xa,Ya,x,B,ua,M + 1,I,E,sa,ma,ja,db,Za,za) && (S=!1);}}if(S){--M;break;}}try{Ia=this.pJa(M + 1,R.LB(D),E,F,R);}catch(Ma){if(Ma instanceof g)try{Ia=this.pJa(M + 1,R.LB(D),E,!F,R);}catch(Ta){if(Ta instanceof g){if(Q > N)throw new h();throw new k();}throw Ta;}else throw Ma;}ua=Ia;for(y=[];-1 < M;M--){X=E.get([M + 1,ua]);I=X[0];Q=X[1];A=X[3];z=X[5];D=X[6];F=X[7];X=X[2];x=w.fk[X][M];C=x.vy();B=x.quality;y.unshift({VVa:M,h4:X,info:{q4b:C,quality:B,Tfa:Q.Xg,Sfa:Q.pl,bRa:z,Pa:D,Gpa:F}});ua=A;}return y;};d.prototype.pJa=function(w,x,y,A,z){var B,D;B=!1;D=z.M3()[0];for(z=z.M3()[z.M3().length - 1];;){if(x < D || x > z){B=!0;break;}if(y.Mma([w,x]))break;else x=A?x - 1:x + 1;}if(B)throw new g("backtrack fails to find a solution");return x;};d.prototype.Dkb=function(w,x,y,A,z,B,D,E,F,C,G,J,K,H){y=F + A * y.Xl;return void 0 !== x && y > D?(E.put([B,x],[y,w,C,z,G,J,K,H]),!0):!1;};d.prototype.Qgb=function(w,x,y,A){var z,B,D;A=(x.vy() + A) * x.Xl;y=y.wvb(A);A/=y;z=w.Xg - y;B=w.Xg + x.Xl;D=w.xs();D.add(x,void 0);w=w.xs();w.add(x,void 0);try{w.O0a(y);}catch(E){if(E instanceof u)throw new f();throw E;}return [z,B,D,w,y,A];};g.prototype=Error();h.prototype=new g();k.prototype=new g();n.prototype={Yta:function(w){return w.join(",");},put:function(w,x){this.dia[this.Yta(w)]=x;},get:function(w){return this.dia[this.Yta(w)];},Mma:function(w){return (this.Yta(w) in this.dia);}};r.exports={aab:d,ZZb:c,yZb:f,zZb:l};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tGa=void 0;r=a(2);c=r.__importStar(a(10));f=a(15);l=a(15);m=r.__importDefault(a(5));d=a(223);g=a(422);a=(function(){var i80;i80=2;for(;i80 !== 13;){switch(i80){case 3:h.prototype.sR=function(k){var r80,n;r80=2;for(;r80 !== 4;){switch(r80){case 2:n=this;k=this.Xa.Og(k);k.zR || (k.zR=!0,l.ff.forEach(function(q){var s80;s80=2;for(;s80 !== 1;){switch(s80){case 2:n.Xa.rg[q].resume();s80=1;break;}}}),this.Xa.cR());r80=4;break;}}};h.prototype.wjb=function(k,n){var t80,q,p,t;t80=2;for(;t80 !== 8;){switch(t80){case 2:(q=this,t=k.mediaType);k.fH(n);k.eRb();t80=4;break;case 3:(this.Xa.ah.ll.forEach(function(u){var u80;u80=2;for(;u80 !== 1;){switch(u80){case 2:q.Xa.FE(u,!1);u80=1;break;case 4:q.Xa.FE(u,~6);u80=5;break;u80=1;break;}}}),this.Xa.ah=void 0);t80=9;break;case 4:t80=(null === (p=this.Xa.ah) || void 0 === p?0:p.PB())?3:9;break;case 9:this.Xa.FS.QKa(t,k.xb.O);t80=8;break;}}};h.prototype.Xca=function(){var v80,k,n;v80=2;for(;v80 !== 4;){switch(v80){case 1:(k=this.QA.Bj,n=this.QA.Gb);this.Xa.Og(n) && (this.QA=void 0,this.vr(k,n));v80=4;break;case 2:v80=this.QA?1:4;break;case 9:v80=this.QA?6:9;break;v80=this.QA?1:4;break;}}};h.prototype.bn=function(k){var w80,q,p;w80=2;function n(t,u){var x80;x80=2;for(;x80 !== 5;){switch(x80){case 2:var D42="skip: u";D42+="nexpected behaviour - a non-presen";D42+="ting branch doesn't have a previous branch";t !== q.Xa.Ia.Mh && (t.Wf?n(t.Wf,u):q.H.error(D42));(t=t.Ed(u)) && t.bn();x80=5;break;}}}for(;w80 !== 7;){switch(w80){case 3:l.ff.forEach(function(t){var y80,u;y80=2;for(;y80 !== 9;){switch(y80){case 1:var V42="s";V42+="kip: not ";V42+="resuming bufferMana";V42+="ger, audio track switch in progress";u=q.Xa.qb.tf[t];q.Xa.Sq && (u.Rsa=m.default.time.ba());u.gO?u.Hb(V42):q.Xa.rg[t].resume();n(q.Xa.Ia.Ec,t);y80=9;break;case 2:y80=q.Zb(t)?1:9;break;}}});this.XJa=k=new d.SD(this.Xa.mH());return k.npa(function(){var z80;z80=2;for(;z80 !== 5;){switch(z80){case 2:q.Xa.T.Ie(f.ka.Hc);q.Xa.kR();z80=5;break;}}}).Kra;break;case 2:q=this;null === (p=this.XJa) || void 0 === p?void 0:p.cancel();this.Xa.bta();this.Xa.Ia.Mh.bn(k);w80=3;break;}}};i80=6;break;case 6:h.prototype.ci=function(k){var A80,n,q,p;A80=2;for(;A80 !== 8;){switch(A80){case 5:return !1;break;case 1:A80=k < (null !== (n=q.Zc) && void 0 !== n?n:q.sWa) || k >= p?5:4;break;case 2:(q=this.Xa.Ia.Mh,p=0 < Object.keys(q.P && q.P.Wk || ({})).length && !q.hk?q.Rd - this.Xa.I.oC:q.Rd);A80=1;break;case 4:n=this.Xa.Gs(k,0,!0);k=this.Xa.Gs(k,1,!0);A80=9;break;case 9:return void 0 !== n && void 0 !== k && n.complete && k.complete;break;}}};return h;break;case 2:h.prototype.vr=function(k,n){var k80,w,x,q,p,t,u,v;k80=2;for(;k80 !== 50;){switch(k80){case 39:this.Xa.aea();w=this.Xa.Ia.Ec.o1(k).OM;t.Poa();x=this.Xa.Ia.Ec;l.ff.forEach(function(y){var n80,A;n80=2;for(;n80 !== 5;){switch(n80){case 2:A=x.Ed(y);q.Zb(y) && q.wjb(A,w[y]);n80=5;break;}}});k80=53;break;case 33:return;break;case 6:!t.O.bf.JU && 0 < n && (p=this.Xa.pK(n,k));this.Xa.T.Ie(f.ka.zi);u=this.Xa.se;k80=12;break;case 42:var x42="s";x42+="e";x42+="e";x42+="k";var I42="pts";I42+="cha";I42+="ng";I42+="ed";return (this.Xa.emit(I42,p),this.Xa.emit(x42),this.sR(n),k=u && this.Xa.qb.Vw()?100:0,this.Xa.r0(1,k),this.Xa.uj(),p);break;case 31:this.Xa.T.Ie(f.ka.$g);this.Xa.bta();this.Xa.Ia.qVb(k,n);k80=28;break;case 52:var J42="see";J42+="kD";J42+="e";J42+="lay";J42+="ed";(this.QA={Gb:n,Bj:k},this.Xa.emit(J42));k80=50;break;case 2:var z42=" play";z42+="erSta";z42+="te: ";var S42=" me";S42+="dia";S42+=".currentPts:";S42+=" ";var i42=" c";i42+="urren";i42+="t man";i42+="if";i42+="est: ";var W42=" m";W42+="anifestInde";W42+="x";W42+=": ";var q42="se";q42+="e";q42+="k";q42+=":";q42+=" ";q=this;null === (p=this.XJa) || void 0 === p?void 0:p.cancel();(t=this.Xa.I,u=this.Xa.T.Ce());p=k;t.Gh && this.Bh.Sl(q42 + k + W42 + n + i42 + this.Xa.se.O.Gb + S42 + u + z42 + this.Xa.T.getState());k80=9;break;case 43:k80=this.Xa.T.cXa()?42:41;break;case 41:var R42="s";R42+="eek";R42+="Faile";R42+="d";var p42="after ";p42+="seeking, playerSta";p42+="te no long";p42+="er STARTING: ";this.H.warn(p42 + this.Xa.T.getState());this.Xa.emit(R42);k80=50;break;case 25:k80=u.length?24:52;break;case 44:l.ff.forEach(function(y){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:q.Xa.Hu[y].ml(!0);m80=1;break;}}});k80=43;break;case 11:n < u.O.Gb && t.O.bf.replace && (t.O.bf.replace=!1);v=this.Xa.Ia.Ec;l.ff.forEach(function(y){var l80;l80=2;for(;l80 !== 1;){switch(l80){case 2:(y=v.Ed(y)) && q.Xa.aLa(y);l80=1;break;}}});k80=19;break;case 18:var s42="seekD";s42+="ela";s42+="yed";this.QA={Gb:n,Bj:k};this.Xa.emit(s42);k80=16;break;case 22:k80=t.O.bf.Ng?21:32;break;case 7:k80=(t=this.Xa.Og(n))?6:51;break;case 51:var f42="s";f42+="ee";f42+="kFa";f42+="iled";var U42="seek, no manifest at mani";U42+="festInd";U42+="ex:";(this.H.warn(U42,n),this.Xa.emit(f42));k80=50;break;case 53:this.Xa.cR();k80=43;break;case 19:k80=!this.Xa.TIa(n)?18:15;break;case 24:u=this.Xa.Hq?this.Xa.bm?Math.min(u[0].X,u[1].X):u[0].X:u[1].X;k80=23;break;case 35:var G42="seekD";G42+="e";G42+="layed";this.QA={Gb:t.O.Gb + 1,Bj:k};this.Xa.emit(G42);k80=33;break;case 28:k80=(u=this.Xa.se.O.Gb === n && !this.Dhb(n) && k === t.X)?44:39;break;case 9:c.fa(n) && (n=this.Xa.se.O.Gb);this.Xa.Ia.N2a();k80=7;break;case 15:k80=this.ps(g.Z9.Ija(n),!1,!0)?27:26;break;case 23:k80=k > u?22:31;break;case 26:u=this.Xa.Ia.Ec.cT(t.Ea || Infinity,t.O);k80=25;break;case 12:k80=n != u.O.Gb?11:26;break;case 32:(k=u,p=k + this.Xa.Ia.Re);k80=31;break;case 21:k80=!this.Xa.C0(t.O.Gb + 1)?35:31;break;case 16:return;break;case 27:return;break;}}};h.prototype.seek=function(k,n){var o80,q;o80=2;for(;o80 !== 9;){switch(o80){case 2:q=k;c.fa(n) && (n=this.Xa.se.O.Gb);this.Xa.Ia.N2a();this.Xa.Og(n).O.bf.JU || this.Xa.vJ || (q=this.Xa.ws(n,k));return this.vr(q,n);break;}}};h.prototype.ps=function(k,n,q){var p80,p,t;p80=2;for(;p80 !== 9;){switch(p80){case 2:t=this.Xa.Ia.ps(k,n);p80=1;break;case 1:p80=n?5:4;break;case 5:return t;break;case 4:var b42="s";b42+="e";b42+="e";b42+="k";var O42="p";O42+="tsc";O42+="han";O42+="ged";t?(this.Xa.T.Ie(f.ka.zi),(k=this.Xa.Ia.Mh.children[k]) && this.Xa.emit(O42,null !== (p=k.Zc) && void 0 !== p?p:k.sWa),this.Xa.T.Ie(f.ka.$g),this.Xa.emit(b42),k && this.sR(k.O.Gb),this.Xa.r0(1),this.Xa.uj(),this.Xa.qb.Vw()):q || (p=this.Xa.Ia.dCb(k),this.vr(p));return t;break;case 14:return t;break;p80=4;break;}}};h.prototype.Dhb=function(k){var q80;q80=2;for(;q80 !== 1;){switch(q80){case 2:return ! !this.Xa.Og(k).zR;break;}}};i80=3;break;}}function h(k,n,q,p){var j80;j80=2;for(;j80 !== 9;){switch(j80){case 1:var E42="1SIYbZ";E42+="rNJC";E42+="p";E42+="9";this.H=n;this.Zb=q;this.Bh=p;E42;j80=9;break;case 2:this.Xa=k;j80=1;break;}}}})();b.tGa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qxa=void 0;r=a(2);c=r.__importStar(a(10));f=a(15);l=r.__importDefault(a(5));a=(function(){function m(d,g,h){var C80;C80=2;for(;C80 !== 9;){switch(C80){case 2:var u42="1SIYbZrNJ";u42+="C";u42+="p9";this.Qa=d;this.H=g;this.Zb=h;u42;C80=3;break;case 3:this.LIa=this.YD=void 0;C80=9;break;}}}var B80;B80=2;for(;B80 !== 18;){switch(B80){case 6:m.prototype.fJa=function(d,g,h){var T80,q,p,t,k,n,u;T80=2;for(;T80 !== 8;){switch(T80){case 5:(q=this.Qa.qb.tf[n],p=this.Qa.qb.Gz[n],t=this.Qa.qb.Dv[n]);T80=4;break;case 2:(k=this.Qa.I,n=g.mediaType);T80=1;break;case 1:T80=!g.wh?5:8;break;case 3:u=this.Qa.se;T80=9;break;case 4:T80=q.jg && (void 0 === g.AG || (g.fH(g.AG,g.aNb),void 0 === g.AG))?3:8;break;case 9:var t42="S";t42+="till in buffering state while pipel";t42+="ine does not have vacancy";var w42="drivePipe";w42+="line, delaying audio until video actualStar";w42+="tPts determined";c.fa(u.tG) || (k.yz && 0 === n && c.fa(this.Qa.qb.tf[1].Gn)?g.Hb(w42):(c.fa(g.io) && (g.io=g.Yd?g.Yd.index:g.aja(g.tc)),g.qf && g.io > g.qf.index?d.O.bf.Ng && c.fa(u.Ea) && c.fa(d.vc) || (g.wh || this.Qa.aLa(g),d=this.Qa.se.O.Gb,d < this.Qa.lL() - 1 && this.Qa.C0(d + 1)):this.p_(g) && (k.twb && !this.Qa.T.Sf() && 0 >= g.gG?g.pXb(k.dJb):this.fgb(g,h)?(g.LGb=l.default.time.ba(),h=this.Qa.qb.Ska(g),k=h.ng,c.fa(k) || (k=g.track.Sd[k],this.egb(g,k) || ((n=k.q3())?(g.FGb=k.bitrate,g.gIb(k,n,this.Qa.T.Sf(),q.jg,h.pt),this.BXb(k,t,p),d.Zd && ++d.Zd.xz):k.EH()))):this.Qa.T.Sf() && (g.rm(t42),this.Qa.qb.Vw()))));T80=8;break;}}};m.prototype.BXb=function(d,g,h){var U80;U80=2;for(;U80 !== 4;){switch(U80){case 2:g.Wma=d.dd;c.ya(h.jv) || (h.yXb(d.xr,d.Dy || -1,d.bitrate),c.fa(d.gsa) || this.Qa.$f.O3a(d.gsa,d.Wn,d.Xn));d.url && (g.ana=d.url);U80=4;break;}}};B80=13;break;case 11:m.prototype.hhb=function(d){var X80;X80=2;for(;X80 !== 1;){switch(X80){case 2:return this.Qa.Ia.Cb.reduce(function(g,h){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 4:return g % h.XBb(d);break;Y80=1;break;case 2:return g + h.XBb(d);break;}}},0);break;}}};B80=10;break;case 3:m.prototype.uj=function(){var H80,d,g;H80=2;for(;H80 !== 5;){switch(H80){case 2:(d=this,g=this.Qa.I);!this.Qa.FKa || this.Qa.j0 || this.Qa.v0 || (this.Qa.j0=setTimeout(function(){var I80;I80=2;for(;I80 !== 4;){switch(I80){case 2:clearTimeout(d.Qa.j0);d.Qa.j0=void 0;d.hJa();I80=4;break;}}},g.Tpa),g.KK && this.Qa.bm && (this.YD || (this.YD=setTimeout(function(){var J80,h;J80=2;for(;J80 !== 3;){switch(J80){case 2:clearTimeout(d.YD);d.YD=void 0;h=d.Qa.Ia.Ec.Ed(1);h && d.zIa(h);J80=3;break;}}},g.$kb))));H80=5;break;}}};m.prototype.zIa=function(d,g){var K80,q,h,k,n;K80=2;for(;K80 !== 3;){switch(K80){case 1:K80=k && n?5:3;break;case 5:q=this.Qa.qb.tf[h].jg;q && (this.Qa.T.Sf() || this.Qa.$f.Zkb(h,q,k.bitrate,n.bitrate,d.HDb.bitrate,g));K80=3;break;case 2:(h=d.mediaType,k=this.Qa.qb.Dv[h].$F,n=d.Gf.qU);K80=1;break;}}};m.prototype.eJa=function(d,g){var L80,h,k,n,q,p;L80=2;for(;L80 !== 7;){switch(L80){case 3:return;break;case 2:(h=d.P,k=d.Ed(1),n=d.Ed(0),q=!n || n.wh,p=!k || k.wh);h.pM || this.Qa.Ia.m6(d,h,d.O.bf.Ng && 0 === d.O.Gb);L80=5;break;case 5:L80=!p || !q?4:9;break;case 4:L80=(this.Qa.bm && this.fJa(d,k,n),this.Qa.Hq && this.fJa(d,n,k),q=!n || n.wh,p=!k || k.wh,!p || !q)?3:9;break;case 9:var X2e="S";X2e+="ti";X2e+="ll in buffering state whi";X2e+="le pipeline's are ";X2e+="done";this.Qa.T.Sf() && (this.H.warn(X2e),this.Qa.qb.Vw());g || h.Vt || d.O.bf.Ng || !this.dpb(d) || ((g=this.Qa.T.Sf()) && this.Qa.I.Iha && (this.Qa.hea(),g=!1),d.S2 || this.Qa.Ia.LDb(d,g),d.ZJ(),d.epb() && (g=Object.keys(d.children),this.Qa.I.n2 && 1 === g.length && !d.children[g[0]].active && this.Qa.Ia.uYa(d,g[0]),this.Ggb(d,h)));L80=7;break;}}};m.prototype.Ggb=function(d,g){var M80,u,v,p,t,n,q,k,h;M80=2;for(;M80 !== 23;){switch(M80){case 17:n=t[0].xb;q=t[0].weight;M80=15;break;case 12:n=t.reduce(function(w,x){var P80;P80=2;for(;P80 !== 4;){switch(P80){case 2:x.Wm=x.xb.Wm;x.uZa=Math.min(x.Wm[0],x.Wm[1]);return [w[0] + x.weight,w[1] + x.uZa];break;}}},[0,0]);(u=n[0],v=n[1]);M80=10;break;case 4:M80=Math.min(k[0] - d.Dca[0],k[1] - d.Dca[1]) >= h.tpb?3:9;break;case 19:var h2e="No subbranch candidates t";h2e+="o ";h2e+="drive";this.H.warn(h2e);M80=18;break;case 1:M80=this.Qa.$b.Kla && d.aJ && d.Dca?5:8;break;case 13:M80=1 < t.length?12:20;break;case 26:n.Zd || (n.Zd={p4:l.default.time.ba(),xz:0});n.Zd.weight=q;this.eJa(n,!0);M80=23;break;case 3:d.aJ=void 0;M80=8;break;case 10:0 !== u && 0 !== v?(c.Xe(t,function(w){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 2:w.ZYb=w.weight / u;w.Qnb=w.uZa / v;w.usage=w.Qnb - w.ZYb;Q80=4;break;}}}),t.sort(function(w,x){var R80;R80=2;for(;R80 !== 1;){switch(R80){case 2:return w.usage - x.usage;break;}}})):t.sort(function(w,x){var S80;S80=2;for(;S80 !== 4;){switch(S80){case 2:w=Math.min.apply(null,w.xb.Wm);x=Math.min.apply(null,x.xb.Wm);a000.W62(0);return a000.x62(x,w);break;}}});M80=20;break;case 18:return;break;case 20:M80=0 === t.length?19:17;break;case 7:(p=[],t=[]);c.Xe(d.children,function(w,x){var N80;N80=2;for(;N80 !== 5;){switch(N80){case 2:x=g.Wk[x].weight;0 !== x && (x={weight:x,xb:w},w.uga(!0,!0) || t.push(x),p.push(x));N80=5;break;}}});0 === t.length?t=p:2 < t.length && (t.sort(function(w,x){var O80;O80=2;for(;O80 !== 1;){switch(O80){case 2:return x.weight - w.weight;break;case 4:return x.weight + w.weight;break;O80=1;break;}}}),t.length=2);M80=13;break;case 9:(n=d.aJ,q=g.Wk[n.P.id].weight);M80=8;break;case 5:k=d.aJ.Wm;M80=4;break;case 15:d.aJ=n;M80=27;break;case 8:M80=!n?7:26;break;case 27:d.Dca=n.Wm;M80=26;break;case 2:h=this.Qa.I;M80=1;break;}}};B80=6;break;case 2:m.prototype.l_=function(){var D80;D80=2;for(;D80 !== 1;){switch(D80){case 2:this.YD && (clearTimeout(this.YD),this.YD=void 0);D80=1;break;}}};m.prototype.hJa=function(){var E80,d,g,h,k;E80=2;for(;E80 !== 6;){switch(E80){case 7:this.ykb();E80=6;break;case 1:var M2e="f";M2e+="irst";M2e+="DriveStr";M2e+="eaming";void 0 === this.Qa.Cgb && (this.Qa.Cgb=!0,this.Qa.ub.xl(M2e));(d=this.Qa.Ia,g=d.Ec.Ed(0),h=d.Ec.Ed(1),k=!h || h.wh);(!g || g.wh) && k && this.Qa.vJ && d.Rpb(h?h.vc:g.vc);h=!h || h.lq;g && !g.lq || !h || this.Qa.vJ || (this.Qa.$b.pf && this.Qa.$b.pf.$o(!0,this.Qa.tl.sessionId),this.Qa.ub.q_a());this.eJa(d.Ec);E80=7;break;case 2:E80=!this.Qa.ii.mea && !this.Qa.om()?1:6;break;}}};m.prototype.jLa=function(){var F80;F80=2;for(;F80 !== 1;){switch(F80){case 2:return this.Qa.om() || this.Qa.T.eXa() || this.Qa.T.dXa()?!0:!1;break;}}};m.prototype.p_=function(d){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:return this.jLa() || this.Qa.qb.tf[d.mediaType].gO || this.Qa.Sw.cB?!1:!0;break;}}};B80=3;break;case 10:m.prototype.dpb=function(d){var Z80,g,h,k;Z80=2;for(;Z80 !== 4;){switch(Z80){case 2:(g=this,h=this.Qa.Ia,k=!0);c.Xe(d.P.Wk,function(n,q){var a90,p;a90=2;for(;a90 !== 7;){switch(a90){case 1:q=n.O;n=q.Qg[0];p=q.Qg[1];a90=3;break;case 8:var g2e="in";g2e+=" de";g2e+="sts:";var A2e="in";A2e+="valid";A2e+=" segment:";d.Hb(A2e,q,g2e,d.P.Wk);a90=7;break;case 3:n && p && n.stream.Ee && p.stream.Ee || (k=!1);g.Qa.T.Yn(q) || (k=!1);a90=7;break;case 2:a90=(n=h.De(q))?1:8;break;}}});Z80=5;break;case 5:return k;break;case 7:return k;break;Z80=4;break;}}};m.prototype.ykb=function(){var b90,d,g,h;b90=2;for(;b90 !== 5;){switch(b90){case 2:(d=this.Qa.I,g=this.Qa.Ia,h=g.Ec);this.Qa.T.Sf() || g.Wu(h,1) < d.RU || h.O.Vta();b90=5;break;}}};return m;break;case 13:m.prototype.egb=function(d,g){var V80,h;V80=2;for(;V80 !== 5;){switch(V80){case 2:h=this.Qa.qb.Dv[d.mediaType];return this.Qa.FKa && g.dd && h.Wma && g.dd !== h.Wma && (0 < d.Oa.wC || 0 < d.Oa.Gr)?!0:!1;break;}}};m.prototype.fgb=function(d,g){var W80,h,k,n,q,p,t,u,v,w,x;W80=2;for(;W80 !== 32;){switch(W80){case 2:var l2e="floore";l2e+="d";l2e+=" to 0";var y2e="negat";y2e+="ive scheduledBu";y2e+="f";y2e+="ferL";y2e+="evel:";(k=this.Qa.I,n=d.mediaType,q=d.k5,p=this.Qa.T.Ce(),t=this.Qa.T.getState(),u=this.Qa.Ia.Wu(q,n),v=d.tc + q.Re - p);0 > v && (d.Hb(y2e,v,l2e),v=0);w=g?g.tc:0;W80=4;break;case 34:return !1;break;case 35:W80=(p=1,d.Ufa < k.Yy && (p=k.Yy),d.Oa.wC >= p)?34:33;break;case 24:v=this.Qa.Ia.nWb();W80=23;break;case 19:W80=this.Qa.$b.Hma?18:17;break;case 17:v=void 0;g && (v=g.mediaType,w=l.default.Sn()[v],v=k.TXb?this.Qa.Ia.wYa(q,v).Eg / w:x / w);W80=15;break;case 3:return !1;break;case 25:return !1;break;case 21:W80=(q=this.Qa.T.Sf())?35:33;break;case 12:return !1;break;case 22:return !1;break;case 8:W80=p >= k.kC?7:6;break;case 27:return !1;break;case 18:return !1;break;case 33:return 0 < k.ft && !q && t + (g?x:0) > k.ft || void 0 !== this.LIa && u > this.LIa || 1 === n && h.bf.Ng && u > k.Una && (g=this.Qa.$b.Ib.get(),g.confidence && g.Pa && g.Pa.Ca * d.lK > k.Tna)?!1:!0;break;case 26:W80=this.hhb(n) >= k.ZL?25:24;break;case 20:W80=g && (x=this.Qa.Ia.TE(q,g.mediaType),w=d.tc - w,this.Zb(g.mediaType) && !g.wh && w >= k.aoa && v > k.Qi)?19:26;break;case 13:W80=t === f.ka.Hc && u > k.Sna && !h.bf.Ng && !x && !h.IU || u && p > Math.max(u * k.Wna / 100,k.uoa)?12:11;break;case 11:t=this.Qa.Ia.TE(q,n);x=0;W80=20;break;case 23:W80=!c.fa(k.zv) && v >= k.zv || d.lK + p >= Math.max(k.Xy,this.Qa.$b.Ez + k.Xoa * q.O.BIb[n])?22:21;break;case 9:p=d.Oa.Cpa;W80=8;break;case 4:W80=(null === (h=d.Xf) || void 0 === h?0:h.nDb())?3:9;break;case 15:W80=void 0 === v || v < k.yIb?27:26;break;case 7:return !1;break;case 6:h=this.Qa.se.O;x=this.Qa.T.Yn(h);W80=13;break;}}};B80=11;break;}}})();b.Qxa=a;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.VAa=void 0;c=a(172);f=a(15);l=a(15);m=a(9);r=(function(){var c90;function d(g,h,k,n){var d90;d90=2;for(;d90 !== 8;){switch(d90){case 2:this.Ob=g;this.H=h;this.Zb=k;this.rE=n;this.CKa=this.mea=!1;d90=9;break;case 9:var Q2e="1SIY";Q2e+="bZ";Q2e+="rNJCp9";Q2e;d90=8;break;}}}c90=2;for(;c90 !== 6;){switch(c90){case 2:d.prototype.play=function(){var e90,g;e90=2;for(;e90 !== 5;){switch(e90){case 2:var B2e="p";B2e+="l";B2e+="a";B2e+="y";var Y2e="play cal";Y2e+="led after pi";Y2e+="p";Y2e+="elines a";Y2e+="lready shutdown";g=this;this.om()?this.H.warn(Y2e):(this.Ob.T.Ie(f.ka.Hc),this.Ob.gkb(),this.Ob.qb.tf.forEach(function(h){var f90;f90=2;for(;f90 !== 1;){switch(f90){case 2:var P2e="play: not resuming bufferManager";P2e+=", audio track ";P2e+="sw";P2e+="itch in progress";g.Zb(h.mediaType) && (h.gO?h.Hb(P2e):(g.Ob.rg[h.mediaType].resume(),g.Ob.Hu[h.mediaType].resume()));f90=1;break;}}}),this.Ob.kR(),this.Ob.emit(B2e));e90=5;break;}}};d.prototype.stop=function(){var g90,n,g,h,k;g90=2;for(;g90 !== 6;){switch(g90){case 3:var c2e="s";c2e+="to";c2e+="p";n=this.Ob.Ia.Ec;l.ff.forEach(function(q){var h90;h90=2;for(;h90 !== 5;){switch(h90){case 9:q.wh=~2;h90=6;break;h90=5;break;case 2:h90=(q=n.Ed(q))?1:5;break;case 1:q.wh=!1;h90=5;break;}}});l.ff.forEach(function(q){var i90;i90=2;for(;i90 !== 1;){switch(i90){case 2:(q=g.Ob.rg[q]) && q.pause();i90=1;break;}}});this.Ob.emit(c2e);g90=6;break;case 2:(g=this,h=this.Ob.T.eXa(),k=this.Ob.T.dXa());this.Ob.T.Ie(f.ka.vq);this.Ob.l_();h || k || this.Ob.Ia.Mh.NC(!1,this.Ob.T);g90=3;break;}}};d.prototype.suspend=function(){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:this.mea=!0;j90=1;break;case 4:this.mea=~1;j90=9;break;j90=1;break;}}};d.prototype.resume=function(){var k90;k90=2;for(;k90 !== 5;){switch(k90){case 2:this.mea=!1;this.Ob.Pf.uj();k90=5;break;}}};d.prototype.close=function(){var l90,g;l90=2;for(;l90 !== 6;){switch(l90){case 4:var F2e="endp";F2e+="l";F2e+="ay";var K2e="l";K2e+="o";K2e+="gdata";var k2e="cl";k2e+="o";k2e+="s";k2e+="e";this.Ob.emit(k2e);g.vRa && (g=c.qw.instance().lb()) && (g={type:K2e,target:F2e,fields:{bridgestat:g}},m.Ua(this.Ob,g.type,g));this.Ob.$b.pf && this.Ob.$b.pf.$o(!0,this.Ob.tl.sessionId,!0);this.Ob.ub.q_a();this.Ob.q2a();l90=6;break;case 2:g=this.Ob.I;this.CKa=!0;this.stop();l90=4;break;}}};d.prototype.flush=function(){var m90,n90,n,q,p,t,u,g,h,k;m90=2;for(;m90 !== 16;){switch(m90){case 17:try{n90=2;for(;n90 !== 1;){switch(n90){case 2:this.Ob.x2(f.ka.vq);n90=1;break;}}}catch(w){var v2e="Hindsight: Error evaluating Qo";v2e+="E ";v2e+="at st";v2e+="oppin";v2e+="g: ";a000.W62(1);this.Ob.ub.Mm(a000.x62(v2e,w));}m90=16;break;case 6:for(var v in t){var m2e="n";m2e+="e";var e2e="n";e2e+="e";var L2e="n";L2e+="e";t.hasOwnProperty(v) && (n[L2e + v]=Number(t[v]).toFixed(6),p[e2e + v]=1 * n[m2e + v]);}m90=14;break;case 18:m90=this.rE.Sq?17:16;break;case 1:m90=k?5:19;break;case 14:u && u.length && (n.activeRequests=JSON.stringify(u));n.aseApiVersion=this.Ob.KE;m90=12;break;case 12:var o2e="e";o2e+="ndp";o2e+="lay";var C2e="l";C2e+="ogd";C2e+="a";C2e+="t";C2e+="a";h.tRa && (t=k.z3()) && (t.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=t.bytesRequestedPacingVideo,n.bytesPacedVideo=t.bytesPacedVideo,n.bytestotalVideo=t.bytestotalVideo,n.pacedAvtpVideo=t.pacedAvtpVideo),t.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=t.bytesRequestedPacingAudio,n.bytesPacedAudio=t.bytesPacedAudio,n.bytestotalAudio=t.bytestotalAudio,n.pacedAvtpAudio=t.pacedAvtpAudio),t.pacedAvtp && (n.pacedAvtp=t.pacedAvtp));h.q2 && (k=k.r3()) && (n.initial_avtp=k.QF,n.initial_dltime=k.vB,n.initial_responses_audio=k.tWa,n.initial_responses_video=k.uWa);Object.keys(n).length && (n={type:C2e,target:o2e,fields:n},m.Ua(this.Ob,n.type,n));m90=20;break;case 7:m90=t?6:14;break;case 19:this.Ob.ub.qKa();m90=18;break;case 20:var a2e="e";a2e+="nd";a2e+="p";a2e+="l";a2e+="ay";var T2e="l";T2e+="ogd";T2e+="ata";var H2e="throu";H2e+="ghp";H2e+="ut-sw";var n2e="t";n2e+="hrou";n2e+="g";n2e+="hput-sw";var j2e="th";j2e+="roug";j2e+="hput-sw";var d2e="th";d2e+="roughp";d2e+="u";d2e+="t-s";d2e+="w";h.TS && (q && q[d2e] && q[j2e].Ca && this.Ob.Qt.olb({avtp:q[n2e].Ca,variance:q[H2e].ti}),this.Ob.Qt.ilb(p,null === (g=q.avtp) || void 0 === g?void 0:g.vB),g=this.Ob.Qt.Uzb(),h=this.Ob.Qt.gCb(),g && (g.n=h,g={type:T2e,target:a2e,fields:{ibef:g}},m.Ua(this.Ob,g.type,g),this.Ob.Qt.save()));m90=19;break;case 5:(n={},q=k.get(),p={});q && q.avtp && q.avtp.Ca && (n.avtp=q.avtp.Ca,n.dltm=q.avtp.vB,p.avtp=n.avtp);q && q.cdnavtp && (n.cdnavtp=q.cdnavtp,n.activecdnavtp=q.activecdnavtp);k.flush();(t=k.HTa(),u=k.ELa);m90=7;break;case 2:(h=this.Ob.I,k=this.Ob.$b.Ib);m90=1;break;}}};d.prototype.om=function(){var o90;o90=2;for(;o90 !== 1;){switch(o90){case 4:return this.CKa && this.Ob.Ia.Gj;break;o90=1;break;case 2:return this.CKa || this.Ob.Ia.Gj;break;}}};c90=7;break;case 7:return d;break;}}})();b.VAa=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.WCa=void 0;r=a(2);c=r.__importStar(a(10));f=a(144);l=r.__importDefault(a(27)).default.Ra;m=r.__importDefault(a(5));d=a(9);g=a(6);a=(function(){function h(k,n){var r90;r90=2;for(;r90 !== 4;){switch(r90){case 2:var r2e="1S";r2e+="IYbZr";r2e+="N";r2e+="JC";r2e+="p9";this.Za=k;this.H=n;r2e;r90=4;break;}}}var q90;q90=2;for(;q90 !== 38;){switch(q90){case 29:h.prototype.xib=function(k){var i6e=a000;var b01,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,L;b01=2;for(;b01 !== 6;){switch(b01){case 4:b01=this.Za.PS || this.Za.Vv?3:9;break;case 9:b01=this.Za.Vv?8:7;break;case 3:n.report=k;b01=9;break;case 2:b01=k?1:6;break;case 1:var N2e="hind";N2e+="si";N2e+="ghtre";N2e+="po";N2e+="rt";(n={type:N2e},q=this.Za.I.b4);for(L in q){var I2e="hvm";I2e+="a";I2e+="fd";I2e+="p";var V2e="h";V2e+="v";V2e+="mafg";V2e+="r";var D2e="hvmaf";D2e+="t";D2e+="b";var Z2e="h";Z2e+="t";Z2e+="w";Z2e+="b";Z2e+="r";p=q[L];t=0;u=0;v=0;w=0;x=0;y=0;A=void 0;z=void 0;B=!1;D=-1;E=-1;F=-1;C=-1;G=-1;J=-1;for(K in k){z=k[K];void 0 === z.nd && (A=(A=z.sols) && A[p]) && (B=!0,v+=A.dlvdur,t+=A.dltwbr * A.dlvdur,u+=A.dlvmaf * A.dlvdur);y+=z.pbdur;w+=z.pbtwbr * z.pbdur;x+=z.pbvmaf * z.pbdur;A=z.rr;z=z.ra;}0 < y && (D=1 * w / y,C=1 * x / y);B && (0 < v && (E=1 * t / v,G=1 * u / v),0 < v + y && (F=1 * (t + w) / (v + y),J=1 * (u + x) / (v + y)));switch(p){case Z2e:n.htwbr=F;n.hptwbr=E;n.pbtwbr=D;A && (n.rr=A,n.ra=z);break;case D2e:n.hvmaftb=J;n.hpvmaftb=G;n.pbvmaftb=C;A && (n.rrvmaftb=A,n.ravmaftb=z);break;case V2e:n.hvmafgr=J;n.hpvmafgr=G;n.pbvmafgr=C;A && (n.rrvmafgr=A,n.ravmafgr=z);break;case I2e:(n.hvmafdp=J,n.hpvmafdp=G,n.pbvmafdp=C,A && (n.rrvmafdp=A,n.ravmafdp=z));}}b01=4;break;case 7:d.Ua(this.Za,n.type,n);b01=6;break;case 8:for(var H in k){if((q=k[H],void 0 !== q.C4a))for(p in q.C4a){if((A=q.C4a[p],void 0 !== A.k8)){var W2e=" ";W2e+="a";W2e+="n";W2e+="d ";var q2e="expe";q2e+="ct sol.strmsel.length =";q2e+="== so";q2e+="l.fragsel.length but got ";var J2e="ex";J2e+="pect rep";J2e+="ort.fragmentsPrebuffered !== undefined";var x2e="expect report.fragments";x2e+="Prebuffe";x2e+="red !== undefi";x2e+="ned";L=void 0 !== q.LSa;L || (console.error(x2e),g.assert(L,J2e));L=[];for(var R in q.LSa){t=q.LSa[R];L.push({ca:t.ca,Xl:t.duration / 1E3,quality:t.wb});}L=A.k8.length === A.MSa.length;t=q2e + A.k8.length + W2e + A.MSa.length;L || (console.error(t),g.assert(L,t));L=[];t=0;for(var I in A.k8){v=A.k8[I];u=A.MSa[I];i6e.W62(1);t=v=i6e.x62(t,v);L.push({s8b:v,U8b:A.bRa[I],c5b:A.Pa[I],Tfa:A.Tfa[I],Sfa:A.Sfa[I],GNa:A.GNa[I],G4b:{ca:u.ca,Xl:u.duration / 1E3,quality:u.wb?u.wb:A.Sd[v].wb,x8b:u.ng,H4b:u.Ig},U1a:0,X7b:0,Gpa:A.Gpa[I]});}A=[];L=0;for(var Q in q.Lz.trace){t=q.Lz.trace[Q];i6e.W62(1);L=t=i6e.x62(L,t);A.push(t);}}}}b01=7;break;}}};q90=28;break;case 42:h.prototype.q_a=function(){var f01,k;f01=2;for(;f01 !== 3;){switch(f01){case 1:var i2e="stream";i2e+="e";i2e+="r";i2e+="end";this.qkb=!0;k={type:i2e,time:m.default.time.ba()};d.Ua(this.Za,k.type,k);f01=3;break;case 2:f01=!this.qkb && this.Za.I.n_a?1:3;break;}}};h.prototype.NKb=function(k){var g01;g01=2;for(;g01 !== 5;){switch(g01){case 2:var S2e="strea";S2e+="mSele";S2e+="ction";S2e+="AugmentData";k={type:S2e,augmentData:k,fragmentIndex:k[0].Od};d.Ua(this.Za,k.type,k);g01=5;break;}}};h.prototype.Sl=function(k){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var p2e=",";p2e+=" ";var z2e="man";z2e+="agerde";z2e+="bugevent";k={type:z2e,message:"@" + m.default.time.ba() + p2e + k};d.Ua(this.Za,k.type,k);h01=5;break;}}};q90=39;break;case 23:h.prototype.oib=function(k,n){var R90,q;R90=2;for(;R90 !== 5;){switch(R90){case 2:q=this;setTimeout(function(){var S90,p;S90=2;for(;S90 !== 5;){switch(S90){case 2:var R2e="audi";R2e+="oTrackSwitchC";R2e+="omplete";p={type:R2e,trackId:k,trackIndex:n};S90=1;break;case 1:d.Ua(q.Za,p.type,p);S90=5;break;}}},0);R90=5;break;}}};h.prototype.sib=function(k){var T90,n;T90=2;for(;T90 !== 4;){switch(T90){case 2:var s2e="bu";s2e+="f";s2e+="f";s2e+="eringStarted";n={type:s2e,time:m.default.time.ba(),percentage:k || 0};d.Ua(this.Za,n.type,n);this.wda=k || 0;T90=4;break;}}};h.prototype.qib=function(){var U90,k,n,q,p,t;U90=2;for(;U90 !== 3;){switch(U90){case 4:var U2e="buf";U2e+="feri";U2e+="ng";k != this.wda && (n={type:U2e,time:n,percentage:k},d.Ua(this.Za,n.type,n),this.wda=k);U90=3;break;case 2:(k=this.Za.I,n=m.default.time.ba(),q=this.Za.Ia.Ec,p=this.Za.bm?1:0,t=q.Sa(p));q=q.Ih(p);k=Math.min(Math.max(Math.round(100 * (t.gC?(n - this.Za.wca) / k.jz:t.progress?t.progress:q / k.Qi)),this.wda),99);U90=4;break;}}};h.prototype.Ida=function(){var V90,k,n,q,p,t;V90=2;for(;V90 !== 8;){switch(V90){case 2:var f2e="buffer";f2e+="ingC";f2e+="om";f2e+="ple";f2e+="te";(k=this.Za.Ia.Ec,n=k.Sa(0),q=k.Sa(1));this.rKa();(p=this.Za.bm?this.Za.qb.Gz[l.Fb]:this.Za.qb.Gz[l.Sb],t=p.VR);k={type:f2e,time:m.default.time.ba(),actualStartPts:t,aBufferLevelMs:k.Ih(0),vBufferLevelMs:k.Ih(1),selector:q?q.qN:n.qN,initBitrate:p.jv,skipbackBufferSizeBytes:this.Za.$b.LC};this.Za.$f.Dxb({initSelReason:p.Ey,initSelectionPredictedDelay:p.Dy,buffCompleteReason:p.ms,hashindsight:this.Za.Sq,hasasereport:! !this.Za.qr,bcVBufferLevelMs:k.vBufferLevelMs,bcABufferLevelMs:k.aBufferLevelMs});d.Ua(this.Za,k.type,k);V90=8;break;}}};h.prototype.rKa=function(){var W90,u,v,n,q,p,t,k;W90=2;for(;W90 !== 12;){switch(W90){case 9:var G2e="u";G2e+="p";G2e+="dateBuffer";G2e+="Level";t=t.confidence?t.Pa.Ca:0;(u=this.Za.Ia,v=u.TE(n,0));n=u.TE(n,1);q={type:G2e,abuflbytes:v,vbuflbytes:n,totalabuflmsecs:q,totalvbuflmsecs:p,currentBandwidth:t};W90=14;break;case 1:W90=!this.Za.om()?5:12;break;case 5:(n=this.Za.Ia.Ec,q=n.Ih(0),p=n.Ih(1));this.Za.$f.blb(q,p);t=this.Za.$b.Ib.get();W90=9;break;case 14:p > k.vZa && this.Za.$b.pf && this.Za.$b.pf.$o(!0,this.Za.tl.sessionId);d.Ua(this.Za,q.type,q);W90=12;break;case 2:k=this.Za.I;W90=1;break;}}};q90=33;break;case 11:h.prototype.Iib=function(k,n,q){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var O2e="segm";O2e+="en";O2e+="tC";O2e+="o";O2e+="mplete";k={type:O2e,mediaType:k,manifestIndex:n,segmentId:q.id};d.Ua(this.Za,k.type,k);F90=5;break;}}};h.prototype.Jda=function(k,n){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 2:var b2e="lastSe";b2e+="g";b2e+="m";b2e+="entPts";n={type:b2e,segmentId:k.id,pts:Math.floor(n)};k.BC || d.Ua(this.Za,n.type,n);G90=5;break;}}};h.prototype.Bib=function(k,n,q,p,t){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var E2e="man";E2e+="i";E2e+="festRange";k={type:E2e,index:k,manifestOffset:n,startPts:Math.floor(q),endPts:Math.floor(p),maxPts:Math.floor(t)};d.Ua(this.Za,k.type,k);H90=5;break;}}};h.prototype.tKa=function(k){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var u2e="maxB";u2e+="it";u2e+="rates";k={type:u2e,audio:k[0],video:k[1]};d.Ua(this.Za,k.type,k);I90=5;break;}}};q90=18;break;case 16:h.prototype.Kib=function(k,n,q,p){var L90,t;L90=2;for(;L90 !== 3;){switch(L90){case 2:var w2e="stream";w2e+="Prese";w2e+="nt";w2e+="ing";t=k.mediaType;f.cm.yp(t);k={type:w2e,startPts:Math.floor(n),contentStartPts:Math.floor(q),mediaType:t,manifestIndex:p,trackIndex:k.track.GE,streamIndex:k.ng};d.Ua(this.Za,k.type,k);L90=3;break;}}};q90=15;break;case 15:h.prototype.Pib=function(k){var M90;M90=2;for(;M90 !== 5;){switch(M90){case 2:var t2e="vi";t2e+="de";t2e+="oLoo";t2e+="ped";k={type:t2e,offset:k};d.Ua(this.Za,k.type,k);M90=5;break;}}};h.prototype.Nib=function(k,n,q,p,t){var N90;N90=2;for(;N90 !== 4;){switch(N90){case 2:var X3e="u";X3e+="pdateS";X3e+="treamingPts";n={type:X3e,mediaType:k,manifestIndex:n,trackIndex:q,movieTime:Math.floor(p),segmentId:t};f.cm.yp(k);d.Ua(this.Za,n.type,n);N90=4;break;}}};h.prototype.uib=function(k){var O90;O90=2;for(;O90 !== 5;){switch(O90){case 2:var h3e="firs";h3e+="tRequ";h3e+="estAppended";k={type:h3e,manifestIndex:k.Oa.xb.O.Gb,mediatype:k.mediaType,time:m.default.time.ba()};d.Ua(this.Za,k.type,k);O90=5;break;}}};h.prototype.yib=function(k,n){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:var M3e="i";M3e+="nitia";M3e+="lAudi";M3e+="oT";M3e+="rack";k={type:M3e,trackId:n,trackIndex:k};d.Ua(this.Za,k.type,k);P90=5;break;}}};h.prototype.pib=function(k,n){var Q90;Q90=2;for(;Q90 !== 3;){switch(Q90){case 2:var A3e="a";A3e+="ud";A3e+="i";A3e+="oTrackSwitchSt";A3e+="arted";k=k.hC;n=n.hC;n={type:A3e,oldLangCode:k.language,oldNumChannels:k.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};d.Ua(this.Za,n.type,n);Q90=3;break;}}};q90=23;break;case 2:h.prototype.xl=function(k){var s90;s90=2;for(;s90 !== 5;){switch(s90){case 2:var g3e="st";g3e+="a";g3e+="r";g3e+="tEve";g3e+="nt";k={type:g3e,event:k,time:m.default.time.ba()};d.Ua(this.Za,k.type,k);s90=5;break;}}};h.prototype.Fib=function(){var t90,k;t90=2;for(;t90 !== 5;){switch(t90){case 2:var y3e="op";y3e+="enCom";y3e+="plete";k={type:y3e};d.Ua(this.Za,k.type,k);t90=5;break;}}};h.prototype.Gib=function(k,n,q,p,t){var u90;u90=2;for(;u90 !== 1;){switch(u90){case 2:var l3e="p";l3e+="tsSt";l3e+="arts";this.Za.I.Wub || (k={type:l3e,manifestIndex:k,mediaType:n,movieId:p,streamId:q,ptsStarts:t.O4a()},d.Ua(this.Za,k.type,k));u90=1;break;}}};h.prototype.wib=function(k,n){var v90;v90=2;for(;v90 !== 5;){switch(v90){case 2:var Q3e="hea";Q3e+="d";Q3e+="erCa";Q3e+="cheHi";Q3e+="t";k={type:Q3e,movieId:k,streamId:n};d.Ua(this.Za,k.type,k);v90=5;break;}}};h.prototype.vib=function(k,n,q,p,t){var w90,u;w90=2;for(;w90 !== 3;){switch(w90){case 2:var Y3e="he";Y3e+="aderCacheD";Y3e+="at";Y3e+="a";Y3e+="Hit";u=this.Za.HJa;this.Za.HJa=void 0;k={type:Y3e,movieId:k,audio:n,audioFromMediaCache:p,video:q,videoFromMediaCache:t,actualStartPts:u && u.Gn,headerCount:u && u.BL,stats:u && u.Ad};d.Ua(this.Za,k.type,k);w90=3;break;}}};q90=9;break;case 9:h.prototype.Dib=function(k,n,q,p){var x90;x90=2;for(;x90 !== 5;){switch(x90){case 2:var P3e="ma";P3e+="x";P3e+="P";P3e+="o";P3e+="sition";k={type:P3e,index:k,endPts:n,maxPts:q,maxSeekPts:p};d.Ua(this.Za,k.type,k);x90=5;break;}}};h.prototype.Mib=function(k,n,q,p,t,u){var y90;y90=2;for(;y90 !== 4;){switch(y90){case 2:var c3e="notifySt";c3e+="ream";c3e+="ingE";c3e+="rr";c3e+="or: ";var B3e="e";B3e+="r";B3e+="ro";B3e+="r";k={type:B3e,error:k,errormsg:n,networkErrorCode:q,httpCode:p,nativeCode:t,manifestIndex:u};this.H.error(c3e + JSON.stringify(k));d.Ua(this.Za,k.type,k);y90=4;break;}}};h.prototype.Y_=function(k,n){var z90;z90=2;for(;z90 !== 5;){switch(z90){case 2:var k3e="se";k3e+="gmentStartin";k3e+="g";n={type:k3e,segmentId:k.id,contentOffset:n,maxBitrates:{audio:k.O.Av[0],video:k.O.Av[1]}};k.BC || d.Ua(this.Za,n.type,n);z90=5;break;}}};h.prototype.Kda=function(k){var A90,n;A90=2;for(;A90 !== 5;){switch(A90){case 2:var K3e="seg";K3e+="ment";K3e+="Abor";K3e+="ted";n={type:K3e,segmentId:k.id};k.BC || d.Ua(this.Za,n.type,n);A90=5;break;}}};h.prototype.ihb=function(k,n){var B90,q,p;B90=2;for(;B90 !== 12;){switch(B90){case 2:var C3e="se";C3e+="a";C3e+="m";C3e+="l";C3e+="ess";var m3e="r";m3e+="e";m3e+="s";m3e+="e";m3e+="t";var e3e="sk";e3e+="i";e3e+="p";var L3e="l";L3e+="o";L3e+="n";L3e+="g";var v3e="l";v3e+="o";v3e+="n";v3e+="g";var F3e="s";F3e+="e";F3e+="a";F3e+="m";F3e+="less";(q={segment:k,srcsegment:n.b8,srcoffset:n.GN,seamlessRequested:n.He,atRequest:{},discard:{}},p=n.Zd[k]);p?q.atRequest={weight:p.weight,abuflmsec:p.Mq.gs,vbuflmsec:p.Mq.xo,abuflbytes:p.Mq.rR,vbuflbytes:p.Mq.Tz}:(p=this.Za.Ia.PUa(n.b8,k),void 0 !== p && (q.atRequest.weight=p));c.Xe(n.Zd,function(t,u){var C90;C90=2;for(;C90 !== 1;){switch(C90){case 2:u != k && (q.discard[u]={weight:t.weight,abuflmsec:t.Mq.gs,vbuflmsec:t.Mq.xo,abuflbytes:t.Mq.rR,vbuflbytes:t.Mq.Tz});C90=1;break;}}});p=n.He?n.QT?F3e:v3e:n.SZa?L3e:n.bn?e3e:m3e;q.transitionType=p;n.Tha || (q.delayToTransition=n.b2);p=C3e === p?0:m.default.time.ba() - n.startTime;B90=7;break;case 7:q.durationOfTransition=p;q.atTransition=n.j6a;q.srcsegmentduration=this.Za.Ia.cCb(n.b8);return q;break;}}};h.prototype.Jib=function(k,n,q){var D90;D90=2;for(;D90 !== 4;){switch(D90){case 2:var o3e="segm";o3e+="entP";o3e+="res";o3e+="enting";q=q?this.ihb(k.id,q):void 0;k={type:o3e,segmentId:k.id,contentOffset:n,metrics:q,playlistSegment:k.BC,manifestIndex:k.O.Gb};d.Ua(this.Za,k.type,k);D90=4;break;}}};h.prototype.Hib=function(k,n){var E90;E90=2;for(;E90 !== 5;){switch(E90){case 2:var d3e="se";d3e+="gmentApp";d3e+="end";d3e+="ed";n={type:d3e,segmentId:k.id,metrics:n};E90=1;break;case 1:k.BC || d.Ua(this.Za,n.type,n);E90=5;break;}}};q90=11;break;case 33:h.prototype.Qhb=function(k){var X90,n,q,p;X90=2;for(;X90 !== 7;){switch(X90){case 2:X90=!c.fa(k)?1:7;break;case 1:c.ya(k.$W);X90=5;break;case 4:var T3e=", os";T3e+="AllocatorD";T3e+="elta: ";var H3e=", jsH";H3e+="ea";H3e+="pDelta: ";var n3e=", f";n3e+="a";n3e+="stMallo";n3e+="cDelta: ";var j3e="memoryUs";j3e+="age at";j3e+=" ";j3e+="time:";j3e+=" ";(n=k.bSa - this.xJ.bSa,q=k.NVa - this.xJ.NVa,p=k.U_a - this.xJ.U_a);(4194304 < n || 4194304 < p) && this.H.warn(j3e + m.default.time.ba() + n3e + n + H3e + q + T3e + p);X90=9;break;case 9:var r3e=", s";r3e+="ystem";r3e+="Delta:";r3e+=" ";var a3e="mem";a3e+="ory";a3e+="Usage a";a3e+="t time";a3e+=": ";c.ya(k.$W) && c.ya(this.xJ.$W) && (n=k.$W - this.xJ.$W,4194304 < n && this.H.warn(a3e + m.default.time.ba(),r3e + n));X90=8;break;case 8:this.xJ=k;X90=7;break;case 5:X90=!c.fa(this.xJ)?4:8;break;}}};h.prototype.Oib=function(){var Y90,k;Y90=2;for(;Y90 !== 3;){switch(Y90){case 2:var N3e="st";N3e+="reami";N3e+="ngsta";N3e+="t";this.Za.I.KHb && m.default.memory.EAb(this.Qhb.bind(this));k={type:N3e,time:m.default.time.ba(),playbackTime:this.Za.T.Ce()};this.Za.$f.Exb(k);Y90=4;break;case 4:d.Ua(this.Za,k.type,k);Y90=3;break;}}};h.prototype.qKa=function(){var Z90,k;Z90=2;for(;Z90 !== 4;){switch(Z90){case 9:Z90=this.Za.qr?5:2;break;Z90=this.Za.qr?1:4;break;case 2:Z90=this.Za.qr?1:4;break;case 1:var Z3e="ase";Z3e+="repor";Z3e+="t";k={type:Z3e};this.Za.qr.Cxb(k) && d.Ua(this.Za,k.type,k);Z90=4;break;}}};h.prototype.nib=function(){var a01,k;a01=2;for(;a01 !== 5;){switch(a01){case 2:var D3e="ase";D3e+="reportenable";D3e+="d";k={type:D3e};d.Ua(this.Za,k.type,k);a01=5;break;}}};q90=29;break;case 39:return h;break;case 28:h.prototype.tib=function(k){var c01;c01=2;for(;c01 !== 5;){switch(c01){case 2:var V3e="en";V3e+="dO";V3e+="fS";V3e+="t";V3e+="ream";k={type:V3e,mediaType:k};d.Ua(this.Za,k.type,k);c01=5;break;}}};h.prototype.Mm=function(k){var d01;d01=2;for(;d01 !== 1;){switch(d01){case 2:var x3e="as";x3e+="eexcep";x3e+="ti";x3e+="o";x3e+="n";var I3e="aseexce";I3e+="p";I3e+="t";I3e+="ion";this.Za.emit(I3e,{type:x3e,msg:k});d01=1;break;}}};h.prototype.GKb=function(k,n,q,p){var e01;e01=2;for(;e01 !== 5;){switch(e01){case 2:var q3e="maxvi";q3e+="d";q3e+="eobitr";q3e+="atec";q3e+="hanged";var J3e="ma";J3e+="xvideo";J3e+="bitratechanged";k={type:J3e,time:m.default.time.ba(),spts:p,maxvb_old:k,maxvb:n,reason:q};this.Za.emit(q3e,k);e01=5;break;}}};q90=42;break;case 18:h.prototype.Cib=function(k,n){var J90,q;J90=2;for(;J90 !== 3;){switch(J90){case 2:var i3e="notifyManife";i3e+="st";i3e+="Selected: ";var W3e="m";W3e+="anifestSe";W3e+="lect";W3e+="ed";q=this.Za.I;k={type:W3e,index:k,replace:n.O.bf.replace,ptsStarts:n.OM,streamingOffset:n.X + n.wv};q.Gh && (n=i3e + JSON.stringify(k),q.Gh && this.Sl(n));d.Ua(this.Za,k.type,k);J90=3;break;}}};h.prototype.Aib=function(k,n,q,p,t){var K90;K90=2;for(;K90 !== 4;){switch(K90){case 2:var S3e="manif";S3e+="estP";S3e+="resentin";S3e+="g";k={type:S3e,index:k.Gb,pts:Math.floor(n),movieId:k.K,replace:k.bf.replace,contentOffset:q};null != p && null != t && (k.previousMovieId=p,k.previousIndex=t);d.Ua(this.Za,k.type,k);K90=4;break;}}};q90=16;break;}}})();b.WCa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.Eza=void 0;c=a(2);r=a(16);f=c.__importStar(a(10));a(6);a(229);l=a(246);m=a(402);d=a(96);a(393);a(408);g=a(150);h=c.__importDefault(a(27));a(242);k=a(917);n=c.__importDefault(a(123));a(15);q=c.__importDefault(a(5));a(179);a(414);a(413);a(95);p=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");t=q.default.aI;u=p.trace.bind(p);a.trace.bind(a);v=p.warn.bind(p);w=p.error.bind(p);x=p.info.bind(p);a=(function(y){var i01;i01=2;function A(z,B,D,E){var j01;j01=2;for(;j01 !== 25;){switch(j01){case 2:z=y.call(this) || this;z.rm=u;z.$j=w;j01=4;break;case 17:z.qj=void 0;z.uea && (z.zn.BS || (B=(q.default.options || ({})).cM || 0,z.zn.set?z.zn.set({BS:B}):z.zn.BS=(q.default.options || ({})).cM || 0),z.qj=new k.iCa(z.zn,q.default,z),z.qj.nb(z,E).then(function(){var k01;k01=2;for(;k01 !== 1;){switch(k01){case 4:u("");k01=0;break;k01=1;break;case 2:var z3e="Media ";z3e+="c";z3e+="ache i";z3e+="nitializ";z3e+="ed";u(z3e);k01=1;break;}}}).catch(function(F){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 2:var p3e="Med";p3e+="ia";p3e+=" cache did not initialize";w(p3e,F);l01=1;break;}}}));z.tl=D;j01=27;break;case 4:z.Hb=v;z.Q3b=x;z.N_=Object.create(null);z.zn=B;z.Lf=Object.create(null);j01=6;break;case 6:z.ZD=0;z.Cn=[];z.cKa=B.a2;z.Ju=[];z.x_=!1;z.gJ=[];j01=20;break;case 20:z.wE={};j01=19;break;case 19:z.uea=(z.zn.vua || z.zn.wua) && 0 < (z.zn.BS || (q.default.options || ({})).cM || 0);z.fE=z.zn.doa;j01=17;break;case 27:var R3e="1";R3e+="SIYb";R3e+="ZrNJ";R3e+="Cp9";R3e;return z;break;}}}for(;i01 !== 39;){switch(i01){case 2:c.__extends(A,y);Object.defineProperties(A.prototype,{cache:{get:function(){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 2:return this.Lf;break;case 4:return this.Lf;break;m01=1;break;}}},enumerable:!1,configurable:!0}});A.prototype.Iub=function(){var n01;n01=2;for(;n01 !== 5;){switch(n01){case 2:this.flush();this.bJa();n01=5;break;}}};i01=4;break;case 14:A.prototype.UHb=function(z){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 2:return this.s1a(this.Lf[z]);break;}}};A.prototype.xSa=function(){function B(G,J){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:G && G.data && G.data[J].forEach(function(K){var z01;z01=2;for(;z01 !== 5;){switch(z01){case 2:K.abort();D+=K.bytesReceived;z01=5;break;}}});y01=1;break;}}}var w01,D,E,F;w01=2;for(;w01 !== 4;){switch(w01){case 2:D=0;for(E in this.Lf){F=this.Lf[E];if(F.data){for(var C in F.data){var U3e="in";U3e+=" ent";U3e+="ry:";var s3e="miss";s3e+="ing headerEn";s3e+="try";s3e+=" for stre";s3e+="amId:";F.headers[C] || w(s3e,C,U3e,F);B(F,C);F.data[C].forEach(z);delete F.data[C];}delete F.data;}}this.Ljb(D);w01=4;break;}}function z(G){var x01;x01=2;for(;x01 !== 1;){switch(x01){case 2:G.xOa();x01=1;break;}}}};A.prototype.ez=function(z){var A01,B;A01=2;for(;A01 !== 5;){switch(A01){case 2:B=this.Lf[z.K];B && (this.Pc(z)?f.fa(B.Ad.CDb) && !f.fa(z.loadTime) && (B.Ad.CDb=z.loadTime):f.fa(B.Ad.d1a) && !f.fa(z.loadTime) && (B.Ad.d1a=z.loadTime));A01=5;break;}}};A.prototype.uk=function(z){var B01;B01=2;for(;B01 !== 1;){switch(B01){case 2:this.Pc(z)?this.ZLb(z):this.$Lb(z);B01=1;break;}}};A.prototype.sV=function(z){var C01;C01=2;for(;C01 !== 5;){switch(C01){case 2:var f3e="_onE";f3e+="r";f3e+="ror: ";v(f3e,z.toString());this.m_(z);C01=5;break;}}};A.prototype.ZLb=function(z){var D01,B;D01=2;for(;D01 !== 9;){switch(D01){case 2:B=this;z.RVb=z.af;this.zfb(z);f.fa(z.ADb) || z.ADb(z.RVb);D01=3;break;case 3:this.Pjb(z,function(){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 2:f.fa(z) || (f.fa(z.Rl) || z.Rl.LVa--,B.m_(z));E01=1;break;}}});D01=9;break;}}};i01=19;break;case 19:A.prototype.$Lb=function(z){var F01,F,B,D,E;F01=2;for(;F01 !== 8;){switch(F01){case 5:var u3e="man";u3e+="ag";u3e+="erd";u3e+="ebugevent";var E3e=",";E3e+=" re";E3e+="m";E3e+="aining:";E3e+=" ";var b3e=",";b3e+=" ";b3e+="pts:";b3e+=" ";var O3e=",";O3e+=" str";O3e+="ea";O3e+="m";O3e+="Id: ";var G3e=", h";G3e+="eaderCache dataCompl";G3e+="ete";G3e+=": movieId: ";F01=(this.zn.Gh && (D="@" + q.default.time.ba() + G3e + D + O3e + z.Na + b3e + z.X + E3e + (E.pS - 1),this.emit(u3e,{message:D})),z.sh && 0 === z.responseType && this.qj && !this.fE)?4:9;break;case 1:F01=E?5:8;break;case 4:F=q.default.time.now();this.qj.GRb(z,E,function(C){var G01;G01=2;for(;G01 !== 4;){switch(G01){case 2:C || f.fa(E) || (C=q.default.time.ba() - F,f.fa(E.Ad) && (E.Ad={}),f.fa(E.Ad.Er) && (E.Ad.Er=0),E.Ad.Er+=C);--E.pS;B.m_(z);G01=4;break;}}});F01=8;break;case 2:(B=this,D=z.K,E=this.Lf[D] || z.Rl);F01=1;break;case 9:(--E.pS,B.m_(z));F01=8;break;}}};A.prototype.XIa=function(){var H01;H01=2;for(;H01 !== 1;){switch(H01){case 2:0 === this.Ju.length && (this.Ju=[g.kq.instance.tB(0,void 0,!1,!1,this.tl,this.zn),g.kq.instance.tB(1,void 0,!1,!1,this.tl,this.zn)],this.Ju.forEach(function(z){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:return z.nb();break;case 4:return z.nb();break;I01=1;break;}}}),t.Rf());H01=1;break;}}};A.prototype.bJa=function(){var J01,z;J01=2;for(;J01 !== 4;){switch(J01){case 2:z=this.Ju;this.Ju=[];z.forEach(function(B){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 2:g.kq.instance.xS(B);K01=1;break;}}});J01=4;break;}}};A.prototype.Rhb=function(){var L01,z;L01=2;for(;L01 !== 5;){switch(L01){case 2:z=this;!this.x_ && 0 < this.gJ.length && (this.gJ.forEach(function(B){var M01;M01=2;for(;M01 !== 1;){switch(M01){case 2:z.Zda(B.BDb,B.pd);M01=1;break;}}}),this.gJ=[]);L01=5;break;}}};A.prototype.VIa=function(z,B){var N01,D;N01=2;for(;N01 !== 8;){switch(N01){case 4:B.sh=z.sh;B.pf=this;return B;break;case 2:D=z.stream.mediaType;2 > this.Ju.length && this.XIa();B=new m.N9(z.stream,B,this.Ju[D],z,this,!0,p);N01=4;break;}}};i01=27;break;case 29:A.prototype.Nhb=function(z,B){var e11,D;e11=2;for(;e11 !== 5;){switch(e11){case 2:var w3e="Media cache is n";w3e+="ot";w3e+=" ";w3e+="enabl";w3e+="ed";D=this;return this.qj?this.qj.vHb(z,B).then(function(E){var f11;f11=2;for(;f11 !== 5;){switch(f11){case 3:f11=E || E.Rl?8:7;break;f11=E && E.Rl?1:5;break;case 2:f11=E && E.Rl?1:5;break;case 1:return (D.Lf[z]=E.Rl,++D.ZD,D.Bca(),D.Cn.push(E.Rl),D.Cn.sort(D.p1a),D.CIa(z,E),D.cache[z]);break;}}}):Promise.reject(w3e);break;}}};A.prototype.Mhb=function(z,B){var g11,D,E,F;g11=2;for(;g11 !== 8;){switch(g11){case 1:g11=this.qj?5:9;break;case 2:D=this;g11=1;break;case 5:(E=void 0,F=!1);this.qj.TWa(this.Lf[z])?(E=Promise.resolve(this.Lf[z]),F=!0):E=this.qj.yHb(z);g11=3;break;case 3:return E.then(function(C){var h11;h11=2;for(;h11 !== 1;){switch(h11){case 2:return !f.fa(C) && D.qj?D.qj.uHb(z,B,C).then(function(G){var i11;i11=2;for(;i11 !== 5;){switch(i11){case 2:G && (F || (D.Lf[z]=C,++D.ZD,D.Bca(),D.Cn.push(C),D.Cn.sort(D.p1a)),D.CIa(z,G));return D.Lf[z];break;}}}):Promise.resolve(void 0);break;}}});break;case 9:var t3e="Media c";t3e+="a";t3e+="che is n";t3e+="o";t3e+="t enabled";return Promise.reject(t3e);break;}}};A.prototype.CIa=function(z,B){var j11,D,E,F,C;j11=2;for(;j11 !== 7;){switch(j11){case 2:D=this;j11=1;break;case 1:j11=B?5:7;break;case 5:(E=this.Lf[z],F=B.headers);E && F && Object.keys(F).forEach(function(G){var k11;k11=2;for(;k11 !== 1;){switch(k11){case 4:D.yfb(F[G],E);k11=9;break;k11=1;break;case 2:D.yfb(F[G],E);k11=1;break;}}});j11=3;break;case 3:j11=B.data?9:7;break;case 9:C=B.data;Object.keys(C).forEach(function(G){var l11,J,K;l11=2;for(;l11 !== 9;){switch(l11){case 2:J=C[G];f.fa(E.data) && (E.data={});f.fa(E.data[G]) && (E.data[G]=[]);K=E.data;J.forEach(function(H){var m11;m11=2;for(;m11 !== 1;){switch(m11){case 2:K[G].push(H);m11=1;break;}}});l11=9;break;}}});j11=7;break;}}};A.prototype.p1a=function(z,B){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:return B.priority - z.priority;break;}}};i01=42;break;case 40:return A;break;case 42:A.prototype.s1a=function(z){var o11,B,D,E;o11=2;for(;o11 !== 11;){switch(o11){case 1:o11=z && z.data?5:11;break;case 2:B={};o11=1;break;case 13:B.Xn=z.Xn;return B;break;case 3:B.BL=z.BL;B.Ad=z.Ad;B.jv=z.jv;o11=7;break;case 5:for(D in z.data){E=z.data[D];0 < E.length && (B[E[0].mediaType]={Na:D,header:z.headers[D],data:E});}B.Gn=z.Gn;o11=3;break;case 6:B.SB=z.SB;B.Wn=z.Wn;o11=13;break;case 7:B.Ey=z.Ey;o11=6;break;}}};A.prototype.Pc=function(z){var p11;p11=2;for(;p11 !== 1;){switch(p11){case 2:return ! !z.Pc;break;case 4:return + +z.Pc;break;p11=1;break;}}};i01=40;break;case 27:A.prototype.ngb=function(z,B){var O01,D;O01=2;for(;O01 !== 8;){switch(O01){case 2:D=z.stream.mediaType;2 > this.Ju.length && this.XIa();B=l.$X.create(z.stream,B,this.Ju[D].track,z,this,!0,p);B.sh=z.sh;B.pf=this;return B;break;}}};A.prototype.m_=function(z){var P01,B;P01=2;for(;P01 !== 9;){switch(P01){case 2:this.Pc(z) && delete this.N_[z.Na];this.Pc(z) || delete z.response;P01=5;break;case 5:var X7e="sav";X7e+="et";X7e+="odis";X7e+="k";z.Lc();B=this.Lf[z.K] || z.Rl;B && 0 === B.LVa && 0 === B.pS && (this.akb(B,z.af),B.sh && this.qj && (B.Ad.b7b || (this.fE?this.qj.IRb(B):this.qj.rN(X7e,{f3a:B.Ad.Er}))));P01=9;break;}}};A.prototype.Xhb=function(z,B,D){var Q01,E,F;Q01=2;for(;Q01 !== 8;){switch(Q01){case 5:Q01=0 < E?4:3;break;case 4:return function(C,G){var R01;R01=2;for(;R01 !== 1;){switch(R01){case 2:a000.W62(16);return a000.x62(E,G);break;}}};break;case 2:E=z.Z1;B.sh && this.qj && (z.jZa?E=z.jZa:z.WYa && 0 < z.WYa && (E=2E3 * z.WYa));Q01=5;break;case 3:F=D && D.length < z.hQa?D.length:z.hQa;return function(C){var A1e=a000;var S01;S01=2;for(;S01 !== 1;){switch(S01){case 4:A1e.q62(17);return A1e.x62(F,C);break;S01=1;break;case 2:A1e.W62(16);return A1e.J62(F,C);break;}}};break;}}};i01=24;break;case 32:A.prototype.Ijb=function(z){var b11;b11=2;for(;b11 !== 5;){switch(b11){case 2:var h7e="cach";h7e+="eEvi";h7e+="ct";z={type:h7e,movieId:z};this.emit(z.type,z);b11=5;break;}}};A.prototype.Pjb=function(z,B){var c11,D;c11=2;for(;c11 !== 3;){switch(c11){case 4:D.tua || 0 !== Object.keys(this.N_).length || this.bJa();c11=3;break;case 2:D=z.Cd;f.fa(z.UQb) || this.Zda(z,z.UQb);!this.qj || !z.sh || this.fE || f.fa(z.LU) || z.LU[z.Na] && z.LU[z.Na].header?B():this.qj.HRb(z,B);c11=4;break;}}};A.prototype.akb=function(z,B){var d11;d11=2;for(;d11 !== 4;){switch(d11){case 2:var M7e="p";M7e+="rebuffsta";M7e+="ts";z.Ad.ZNb=B;z={type:M7e,movieId:z.K,stats:{prebuffstarted:z.Ad.d1a,prebuffcomplete:z.Ad.ZNb}};this.emit(z.type,z);d11=4;break;}}};i01=29;break;case 35:A.prototype.Bca=function(){var X01,E,B,D;X01=2;function z(C){var Y01;Y01=2;for(;Y01 !== 5;){switch(Y01){case 2:C.abort();D+=C.bytesReceived;Y01=5;break;}}}for(;X01 !== 12;){switch(X01){case 1:X01=!(this.ZD <= this.cKa)?5:12;break;case 3:E=B.K;X01=9;break;case 2:D=0;X01=1;break;case 5:X01=this.ZD > this.cKa?4:13;break;case 4:X01=(B=this.Cn.shift())?3:5;break;case 9:X01=B.data?8:7;break;case 8:for(var F in B.data){B.data[F].forEach(z);delete B.data[F];}X01=7;break;case 7:delete this.Lf[E];--this.ZD;X01=14;break;case 14:this.Ijb(E);X01=5;break;case 13:this.Jjb(D);X01=12;break;}}};A.prototype.Jjb=function(z){var Z01;Z01=2;for(;Z01 !== 1;){switch(Z01){case 2:var A7e="disca";A7e+="rdedB";A7e+="yt";A7e+="es";0 !== z && (z={type:A7e,bytes:z},this.emit(z.type,z));Z01=1;break;}}};A.prototype.Ljb=function(z){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:var g7e="flu";g7e+="shedBy";g7e+="tes";0 !== z && (z={type:g7e,bytes:z},this.emit(z.type,z));a11=1;break;}}};i01=32;break;case 24:A.prototype.Zda=function(z,B){var T01,G,J,K,L,H,D,E,F,C,R,I;T01=2;for(;T01 !== 53;){switch(T01){case 13:return;break;case 5:this.gJ.push({BDb:z,pd:B});T01=4;break;case 4:T01=this.gJ.length > C.zDb?3:53;break;case 42:var y7e="un";y7e+="d";y7e+="efined";f.fa(G.Gn) && (G.Gn=H.X);H.sh && (H.responseType=0);z.sh && this.qj && z.LU && z.LU[E] && y7e !== typeof H.X && z.LU[E][H.X] || (R=this.ngb(H,z.Cd),R.sh && (R.Rl=z.Rl),R.zM(),++G.pS,B.push(R));++L;F+=H.duration;T01=37;break;case 32:T01=(void 0 === H && (H=z.stream.mk(K)),void 0 !== H)?31:36;break;case 9:G=this.Lf[D] || z.Rl;T01=8;break;case 19:var l7e="n";l7e+="o proper fragme";l7e+="nt found to ";l7e+="req";l7e+="uest data at pts";w(l7e,B);T01=53;break;case 20:T01=-1 === K || void 0 === K?19:18;break;case 11:z.mediaType === h.default.Ra.Sb && C.ck && !C.dB && F.he && (B=Math.max(F.Y && F.Y.Zi(0) || 0,B + F.he.V));(J=z.stream.Y,K=J && J.Em(B));T01=20;break;case 12:B=G.Gn;T01=11;break;case 16:H.sh=z.sh;L=H.gja(B);L && (H.mediaType === h.default.Ra.Sb && !C.H5 && L.pd < (C.ck && !C.dB && F.he?Math.floor(F.he.V):0) && (++L.zk,L.pd+=H.qa.V),0 < L.zk && H.th({start:L.zk}));T01=26;break;case 43:++R;T01=28;break;case 18:H=z.stream.mk(K);T01=17;break;case 14:G.Wha=z;T01=13;break;case 44:(H.hMa(J.get(R)),H.lM=R + 1,K=R);T01=43;break;case 8:T01=G?7:53;break;case 36:++K;T01=33;break;case 34:C=R === h.default.Ra.Fb?C.KJb:C.EJb;T01=33;break;case 25:void 0 === G.data && (G.data={});void 0 === G.data[E] && (G.data[E]=[]);B=G.data[E];D=this.Xhb(C,z,J);T01=21;break;case 2:(D=z.K,E=z.Na,F=z.stream,C=z.Cd);T01=1;break;case 33:T01=K < (J && J.length || 0) && !D(L,F)?32:54;break;case 1:T01=this.x_?5:9;break;case 17:T01=!f.fa(H)?16:25;break;case 37:H=void 0;T01=36;break;case 21:L=F=0;(R=H && H.mediaType,I=R === h.default.Ra.Fb?C.U5:C.N5);T01=34;break;case 29:a000.W62(1);R=a000.J62(K,1);T01=28;break;case 26:var c7e="managerd";c7e+="ebug";c7e+="e";c7e+="v";c7e+="ent";var B7e=",";B7e+=" sta";B7e+="rtPts: ";var P7e=",";P7e+=" pts";P7e+=": ";var Y7e=", ";Y7e+="stre";Y7e+="amId: ";var Q7e=", ";Q7e+="headerC";Q7e+="ache requestData: movieId: ";C.Gh && (B="@" + q.default.time.ba() + Q7e + D + Y7e + E + P7e + B + B7e + H.X,this.emit(c7e,{message:B}));T01=25;break;case 54:G.Wha && !f.fa(G.Gn) && (z=G.Wha,delete G.Wha,this.Zda(z,G.Gn));T01=53;break;case 6:T01=void 0 === G.Gn?14:12;break;case 7:T01=z.mediaType === h.default.Ra.Sb?6:11;break;case 30:T01=!f.fa(J) && !H.na?29:42;break;case 31:H.sh=z.sh;T01=30;break;case 3:this.gJ.shift();T01=4;break;case 28:T01=R < J.length && (H.ca < I || H.duration < C)?44:42;break;}}};A.prototype.zfb=function(z){var U01;U01=2;for(;U01 !== 1;){switch(U01){case 2:this.BIa(z,z.Rl);U01=1;break;}}};A.prototype.yfb=function(z,B){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:this.BIa(z,B);V01=1;break;case 4:this.BIa(z,B);V01=7;break;V01=1;break;}}};A.prototype.BIa=function(z,B){var W01,D;W01=2;for(;W01 !== 4;){switch(W01){case 2:D=z.Na;W01=1;break;case 9:D=z.Na;W01=2;break;W01=1;break;case 1:W01=(B=this.Lf[z.K] || B)?5:4;break;case 5:(B.Hlb || B.sh && !this.fE || (B.Hlb=!0,++this.ZD),B.headers || (B.headers={}),B.headers[D]=z,this.zn.zwb && (B.BL || (B.BL=0),++B.BL),this.Bca());W01=4;break;}}};i01=35;break;case 4:A.prototype.T8=function(z){var o01;o01=2;for(;o01 !== 5;){switch(o01){case 2:this.tl=z;this.Ju.forEach(function(){});o01=5;break;}}};A.prototype.$o=function(z,B,D){var p01,E,F;p01=2;for(;p01 !== 9;){switch(p01){case 6:p01=(E[B]=z)?6:5;break;p01=(E[B]=z)?5:4;break;case 1:p01=(E[B]=z)?5:4;break;case 7:(E=this.wE,F=z);p01=0;break;p01=1;break;case 2:(E=this.wE,F=z);p01=1;break;case 4:D && delete E[B];F?(this.x_=!1,this.Rhb()):this.x_=!0;p01=9;break;case 5:for(var C in E){E.hasOwnProperty(C) && !1 === E[C] && (F=!1);}p01=4;break;}}};A.prototype.flush=function(){var q01,B;q01=2;for(;q01 !== 8;){switch(q01){case 2:this.xSa();q01=1;break;case 1:var K7e="m";K7e+="an";K7e+="ag";K7e+="erdebugevent";var k7e=", h";k7e+="ead";k7e+="erCache f";k7e+="lush: ";for(var z in this.N_){B=this.N_[z];B.abort();}this.Lf=Object.create(null);this.ZD=0;this.Cn=[];this.zn.Gh && (B="@" + q.default.time.ba() + k7e,this.emit(K7e,{message:B}));q01=8;break;}}};A.prototype.list=function(){var r01;r01=2;for(;r01 !== 1;){switch(r01){case 4:return this.Cn;break;r01=1;break;case 2:return this.Cn;break;}}};A.prototype.BU=function(z,B){var s01;s01=2;for(;s01 !== 4;){switch(s01){case 2:s01=(z=this.Lf[z])?1:4;break;case 7:return B;break;s01=4;break;case 1:s01=(B=z.headers[B])?5:4;break;case 5:return B;break;}}};A.prototype.VHb=function(z,B){var t01,D,E;t01=2;for(;t01 !== 5;){switch(t01){case 2:(D=this,E=this.UHb(z));t01=1;break;case 1:return E || !this.qj?Promise.resolve(E):(this.fE?this.Nhb(z,B):this.Mhb(z,B)).then(function(F){var u01;u01=2;for(;u01 !== 1;){switch(u01){case 2:return D.s1a(F);break;}}});break;}}};i01=14;break;}}})(d.nw);b.Eza=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iCa=void 0;c=a(2);f=a(16);l=c.__importStar(a(918));m=c.__importStar(a(10));a(6);d=a(246);g=a(9);r=a(43);h=c.__importStar(a(929));k=h.BBa;a=(function(){var q11;q11=2;function n(q,p,t){var r11;r11=2;for(;r11 !== 12;){switch(r11){case 3:var v7e="1S";v7e+="IYb";v7e+="Zr";v7e+="NJCp9";var F7e="Media ca";F7e+="ch";F7e+="e has not been initiaized";this.Whb=q.iZa?q.iZa:!1;this.I=q;this.Bn=p;this.Ne=t;this.Yr=Promise.reject(F7e);this.Yr.catch(function(){});v7e;r11=12;break;case 2:var e7e="media|a";e7e+="s";e7e+="ejs";var L7e="M";L7e+="E";L7e+="DIACA";L7e+="CH";L7e+="E";this.H=new p.Console(L7e,e7e);this.uea=(q.vua || q.wua) && 0 < (q.BS || (p.options || ({})).cM || 0);this.Kgb=q.mwb?q.mwb:!1;this.fE=q.doa?q.doa:!1;r11=3;break;}}}for(;q11 !== 18;){switch(q11){case 2:n.prototype.nb=function(q,p){var s11,t;s11=2;for(;s11 !== 4;){switch(s11){case 2:var C7e="Me";C7e+="dia cache i";C7e+="s disabled";t=this;this.uea?this.Yr=new Promise(function(u,v){var t11;t11=2;for(;t11 !== 1;){switch(t11){case 2:(void 0 !== p && null !== p?p.FL:function(w){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:return l.FL(t.Bn,t.I,w);break;case 4:return l.FL(t.Bn,t.I,w);break;u11=1;break;}}})(function(w){var v11,x;v11=2;for(;v11 !== 4;){switch(v11){case 5:var m7e="Media cache did ";m7e+="not ini";m7e+="tialize";(w=w.RF)?v(w):x?(t.sTb(q),u()):v(Error(m7e));v11=4;break;case 2:t.yn=w;x=w.Im;v11=5;break;}}});t11=1;break;}}}):(this.Yr=Promise.reject(C7e),this.Yr.catch(function(){}));return this.Yr;break;}}};n.prototype.yHb=function(q){var w11,p,t,u;w11=2;for(;w11 !== 5;){switch(w11){case 2:(p=this,t=[k.GBa,q].join("."),u=this.Bn.time.ba());return this.Yr.then(function(){var x11;x11=2;for(;x11 !== 1;){switch(x11){case 2:return new Promise(function(v){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:p.yn.SV(k.nq,t,function(w){var z11,x;z11=2;for(;z11 !== 3;){switch(z11){case 2:z11=!w || 0 >= w.length?1:5;break;case 1:var o7e="mediacach";o7e+="e";o7e+="lookup";(v(),p.rN(o7e,{r5:p.Bn.time.ba() - u,S1:!1}));z11=3;break;case 5:x=w[0];p.yn.read(k.nq,x,function(y,A){var A11,B11,z,B;A11=2;for(;A11 !== 14;){switch(A11){case 1:A11=!m.fa(A)?5:9;break;case 4:try{B11=2;for(;B11 !== 1;){switch(B11){case 2:z=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(A)));B11=1;break;}}}catch(D){}A11=9;break;case 2:var j7e=" ";j7e+="fa";j7e+="il";j7e+="ed";var d7e="Read";d7e+="in";d7e+="g movie entry ";y && p.H.warn(d7e + x + j7e,y);A11=1;break;case 5:A11=A instanceof ArrayBuffer?4:3;break;case 9:m.fa(z) || (B=h.uka(z));m.fa(B) || m.tb(B) || (B.Ad=B.Ad || ({}),B.headers=B.headers || ({}));p.TWa(B)?v(B):(p.Yjb(q),v());A11=14;break;case 3:z={priority:A.priority,movieId:A.movieId,saveToDisk:A.saveToDisk,firstSelectedStreamBitrate:A.firstSelectedStreamBitrate,initSelectionReason:A.initSelectionReason,histDiscountedThroughputValue:A.histDiscountedThroughput,histTdigest:A.histTdigest,histAge:A.histAge,headerCount:A.headerCount,dataRequestCount:A.dataRequestCount,headerRequestCount:A.headerRequestCount,stats:A.stats};A11=9;break;}}});z11=3;break;}}});y11=1;break;}}});break;}}});break;}}};n.prototype.uHb=function(q,p,t){var C11,u,v;C11=2;for(;C11 !== 9;){switch(C11){case 2:u=this;C11=1;break;case 6:C11=~this.Yr?7:1;break;C11=!this.Yr?5:4;break;case 1:C11=!this.Yr?5:4;break;case 5:var n7e="Media cach";n7e+="e is ";n7e+="not en";n7e+="abled";return Promise.reject(n7e);break;case 4:v=this.Bn.time.ba();return this.Yr.then(function(){var D11;D11=2;for(;D11 !== 1;){switch(D11){case 2:return new Promise(function(w){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:u.yn.SV(k.nq,q,function(x){var F11;F11=2;for(;F11 !== 5;){switch(F11){case 2:x=x.reduce(function(y,A){var G11,z;G11=2;for(;G11 !== 9;){switch(G11){case 1:var H7e="drmHeader.__embe";H7e+="d";H7e+="__";G11=-1 !== z.indexOf(H7e)?5:4;break;case 2:z=A.substr(0,A.lastIndexOf("."));G11=1;break;case 4:y[z]?y[z].push(A):y[z]=[A];G11=3;break;case 5:return y;break;case 3:return y;break;case 6:var T7e="dr";T7e+="mHeader.__";T7e+="embed__";G11=!3 != z.indexOf("")?4:6;break;G11=-1 !== z.indexOf(T7e)?5:4;break;case 12:return y;break;G11=9;break;}}},{});u.jPb(x,p).then(function(y){var H11,A,z;H11=2;for(;H11 !== 8;){switch(H11){case 5:var a7e="No ";a7e+="cont";a7e+="ent data fo";a7e+="und";a7e+=" for ";(A=u.Bn.time.ba() - v,z=!1);m.fa(y) || m.fa(y.data) || !m.jh(y.data)?u.H.trace(a7e + q,t):z=!0;H11=3;break;case 2:H11=void 0 === t || void 0 === y?1:5;break;case 3:var r7e="media";r7e+="cac";r7e+="he";r7e+="look";r7e+="up";u.rN(r7e,{r5:A,S1:z});w(y);H11=8;break;case 1:return w();break;}}},function(){var I11;I11=2;for(;I11 !== 1;){switch(I11){case 4:w();I11=6;break;I11=1;break;case 2:w();I11=1;break;}}});F11=5;break;}}});E11=1;break;}}});break;}}});break;case 14:return Promise.reject("");break;C11=4;break;}}};n.prototype.vHb=function(q,p){var J11,t,u;J11=2;for(;J11 !== 5;){switch(J11){case 2:(t=this,u=this.Bn.time.ba());return this.Yr.then(function(){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:return t.Ehb(q);break;case 4:return t.Ehb(q);break;K11=1;break;}}}).then(function(v){var L11;L11=2;for(;L11 !== 5;){switch(L11){case 4:var N7e="me";N7e+="dia";N7e+="cac";N7e+="helo";N7e+="okup";t.rN(N7e,{r5:t.Bn.time.ba() - u,S1:!1});L11=5;break;case 2:L11=v?1:4;break;case 8:return t.Bjb(q.toString(),p,u);break;L11=4;break;case 1:return t.Bjb(q.toString(),p,u);break;}}});break;}}};n.prototype.HRb=function(q,p){var M11,y,t,u,v,w,x;M11=2;for(;M11 !== 13;){switch(M11){case 3:w={timescale:q.stream.Y.U,startTicks:q.stream.Y.Bk,offset:q.stream.Y.Gd(0)};y=q.stream.Y.AN;x[u + "." + k.Tya]={Vp:w,yd:k.tD};x[u + "." + k.wab]={Vp:y.sizes.buffer,yd:k.tD};M11=6;break;case 4:M11=q.stream.Ee && !m.fa(q.stream.Y)?3:14;break;case 2:(t=this,u=[q.K,q.Na,k.Eab].join("."),v=this.Bn.time.ba(),w=h.RTa(q),x={});x[u + "." + k.raa]={Vp:w,yd:k.tD};x[u + "." + k.dbb]={Vp:g.qB(q.zg.map(function(A){var N11;N11=2;for(;N11 !== 1;){switch(N11){case 2:return A.data;break;}}})),yd:k.tD};M11=4;break;case 14:this.yn.e3a(k.nq,x,function(A){var O11;O11=2;for(;O11 !== 5;){switch(O11){case 2:A || (A=t.Bn.time.ba() - v,q.Rl && (m.fa(q.Rl.Ad.Er) && (q.Rl.Ad.Er=0),q.Rl.Ad.Er+=A));p();O11=5;break;}}});M11=13;break;case 6:x[u + "." + k.vab]={Vp:y.gd.buffer,yd:k.tD};M11=14;break;}}};n.prototype.GRb=function(q,p,t){var P11,u,v,w,x,y;P11=2;for(;P11 !== 14;){switch(P11){case 2:(u=this,v=q.response);P11=1;break;case 1:P11=v instanceof ArrayBuffer?5:6;break;case 5:(w=this.Bn.time.ba(),x=[q.K,q.Na,q.Mc].join("."));q=h.rka(q);y={};y[x + "." + k.raa]={Vp:q,yd:k.tD};m.fa(v) || (y[x + "." + k.kcb]={Vp:v,yd:k.tD});this.yn.e3a(k.nq,y,function(A){var Q11;Q11=2;for(;Q11 !== 5;){switch(Q11){case 2:var Z7e="Failed";Z7e+=" to ";Z7e+="save ";Z7e+="fragmen";Z7e+="t";A?u.H.warn(Z7e,A):(A=u.Bn.time.ba() - w,m.fa(p.Ad.Er) && (p.Ad.Er=0),p.Ad.Er+=A);t();Q11=5;break;}}});P11=14;break;case 6:var D7e="Unable to save ";D7e+="fra";D7e+="gment because ";D7e+="response is not an Arr";D7e+="ayBuffer";t(Error(D7e));P11=14;break;}}};n.prototype.IRb=function(q){var R11,A,p,t,u,v,w,x,y,z,B,T11,D,E,U11,G,J,K,H,V11,W11,X11,F,C,Y11,Z11,a21;R11=2;for(;R11 !== 20;){switch(R11){case 4:A={};Object.keys(q.headers).forEach(function(R){var S11,I;S11=2;for(;S11 !== 5;){switch(S11){case 2:I=h.PTa(q.headers[R]);A[R]=I;S11=5;break;}}});R11=9;break;case 2:(v=this,w=this.Bn.time.ba(),x={},y=h.oUa(q));x.movieEntry=y;R11=5;break;case 7:y={};(z=q.data,B=Object.keys(q.data));try{T11=2;for(;T11 !== 6;){switch(T11){case 2:(D=c.__values(B),E=D.next());T11=1;break;case 1:T11=!E.done?5:6;break;case 9:try{U11=2;for(;U11 !== 7;){switch(U11){case 2:(G=(t=void 0,c.__values(C)),J=G.next());U11=1;break;case 1:U11=!J.done?5:7;break;case 5:K=J.value;U11=4;break;case 4:U11=K instanceof d.$X && K.response instanceof ArrayBuffer && !m.fa(K.Mc)?3:8;break;case 3:H=h.rka(K);U11=9;break;case 8:J=G.next();U11=1;break;case 9:B[K.Mc]={mediaType:H.mediaType,streamId:H.streamId,movieId:H.movieId,bitrate:H.bitrate,location:H.location,serverId:H.serverId,saveToDisk:H.saveToDisk,offset:H.offset,bytes:H.bytes,timescale:H.timescale,startTicks:H.startTicks,durationTicks:H.durationTicks,response:K.response};U11=8;break;}}}catch(R){t={error:R};}finally{V11=2;for(;V11 !== 1;){switch(V11){case 2:try{W11=2;for(;W11 !== 1;){switch(W11){case 2:J && !J.done && (u=G.return) && u.call(G);W11=1;break;}}}finally{X11=2;for(;X11 !== 5;){switch(X11){case 2:X11=t?1:5;break;case 3:X11=t?3:4;break;X11=t?1:5;break;case 1:throw t.error;X11=5;break;}}}V11=1;break;}}}T11=8;break;case 7:E=D.next();T11=1;break;case 5:(F=E.value,C=z[F]);B={};T11=3;break;case 3:T11=C?9:7;break;case 8:y[F]=B;T11=7;break;}}}catch(R){var L;L={error:R};}finally{Y11=2;for(;Y11 !== 1;){switch(Y11){case 2:try{Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:E && !E.done && (p=D.return) && p.call(D);Z11=1;break;}}}finally{a21=2;for(;a21 !== 5;){switch(a21){case 3:a21=L?7:2;break;a21=L?1:5;break;case 9:throw L.error;a21=3;break;a21=5;break;case 2:a21=L?1:5;break;case 1:throw L.error;a21=5;break;}}}Y11=1;break;}}}R11=13;break;case 5:R11=q.headers?4:8;break;case 9:x.headers=A;R11=8;break;case 8:R11=q && q.data?7:12;break;case 13:x.data=y;R11=12;break;case 12:L={lifespan:259200};this.Whb && (L.convertToBinaryData=!0);this.yn.save(k.nq,q.K,x,L,function(R){var b21;b21=2;for(;b21 !== 1;){switch(b21){case 2:var V7e="savetod";V7e+="i";V7e+="sk";R || v.rN(V7e,{f3a:v.Bn.time.ba() - w});b21=1;break;}}});R11=20;break;}}};q11=7;break;case 7:n.prototype.TWa=function(q){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:return !(m.fa(q) || m.tb(q) || m.fa(q.Ad) || m.tb(q.Ad) || m.fa(q.K) || m.tb(q.K) || m.fa(q.priority) || m.tb(q.priority));break;}}};n.prototype.rN=function(q,p){var d21,t;d21=2;for(;d21 !== 9;){switch(d21){case 2:var q7e="med";q7e+="i";q7e+="acache";var J7e="m";J7e+="edia";J7e+="cacheloo";J7e+="kup";var x7e="s";x7e+="av";x7e+="e";x7e+="todi";x7e+="sk";var I7e="med";I7e+="iacaches";I7e+="tats";t={type:I7e,operation:q};x7e === q && (t.saveTime=p.f3a);J7e === q && (t.lookupTime=p.r5,t.dataFound=p.S1);t.oneObject=this.fE;this.Kgb && this.emit(q7e,t);d21=9;break;}}};n.prototype.jPb=function(q,p){var e21,t,u;e21=2;for(;e21 !== 5;){switch(e21){case 2:(t=this,u=Object.keys(q).map(function(v){var f21;f21=2;for(;f21 !== 1;){switch(f21){case 4:return t.zsb(q[v]);break;f21=1;break;case 2:return t.zsb(q[v]);break;}}}));e21=1;break;case 1:return Promise.all(u).then(function(v){var g21;g21=2;for(;g21 !== 5;){switch(g21){case 2:v.sort(function(w,x){var h21;h21=2;for(;h21 !== 1;){switch(h21){case 2:return w.Pc === x.Pc?0:w.Pc?-1:1;break;}}});return h.vka(t.I,t.H,t.Ne,v,p);break;}}});break;}}};n.prototype.zsb=function(q){var i21,p,t,u,v;i21=2;for(;i21 !== 5;){switch(i21){case 2:(p=this,v={});return new Promise(function(w,x){var j21,y;j21=2;for(;j21 !== 5;){switch(j21){case 3:j21=2;break;j21=1;break;case 2:j21=1;break;case 1:p.yn.i7(k.nq,q,function(A,z){var k21,l21,B;k21=2;for(;k21 !== 1;){switch(k21){case 2:try{l21=2;for(;l21 !== 19;){switch(l21){case 4:l21=h.MWa(u)?3:20;break;case 3:l21=t instanceof ArrayBuffer?9:7;break;case 7:y=h.Mja(u,v,t);l21=6;break;case 13:var W7e="Missing or invali";W7e+="d header data part";W7e+="s fo";W7e+="r stream ";return (B=W7e + y.Na,x(B));break;case 11:l21=h.rma(y)?10:12;break;case 8:return x(B);break;case 6:l21=y.Pc?14:11;break;case 20:y=h.Lja(u,{response:v.response});l21=6;break;case 5:Object.keys(z).map(function(D){var m21,E,n21,F;m21=2;for(;m21 !== 3;){switch(m21){case 2:E=D.substr(D.lastIndexOf(".") + 1);m21=1;break;case 1:m21=E === k.raa?5:4;break;case 5:try{n21=2;for(;n21 !== 5;){switch(n21){case 2:F=new Uint8Array(z[D]);u=JSON.parse(String.fromCharCode.apply(null,F));n21=5;break;}}}catch(C){u=z[D];}m21=3;break;case 4:E === k.Tya?t=z[D]:v[E]=z[D];m21=3;break;case 7:m21=E == k.raa?1:8;break;m21=E === k.raa?5:4;break;}}});l21=4;break;case 1:return x(A);break;case 9:var i7e="Header ";i7e+="fragments was an array buffer, is invalid ";i7e+="type ";B=i7e + y.Na;l21=8;break;case 14:l21=h.sma(y)?13:12;break;case 10:var S7e="Missing or invalid";S7e+=" media dat";S7e+="a parts for stream ";return (B=S7e + y.Na,x(B));break;case 2:l21=A || void 0 === z?1:5;break;case 12:w(y);l21=19;break;}}}catch(D){x(D);}k21=1;break;}}});j21=5;break;}}});break;}}};q11=12;break;case 12:n.prototype.Bjb=function(q,p,t){var o21,u;o21=2;for(;o21 !== 5;){switch(o21){case 2:u=this;return new Promise(function(v,w){var p21,x;p21=2;for(;p21 !== 5;){switch(p21){case 1:u.yn.read(k.nq,q,function(y,A){var q21,F,v21,M,Q,N,w21,ea,qa,P,S,x21,y21,z21,A21,B21,C21,z,B,D,E,r21,K,H,G,J,R,L,s21,t21,u21,C;q21=2;for(;q21 !== 4;){switch(q21){case 17:x=h.vka(u.I,u.H,u.Ne,A,p);q21=16;break;case 9:v();q21=4;break;case 16:void 0 !== x && (x.Rl=y);q21=15;break;case 13:q21=F.headers?12:10;break;case 1:q21=y?5:3;break;case 8:F=A[q];q21=7;break;case 18:try{v21=2;for(;v21 !== 8;){switch(v21){case 5:K=N.value;M=Object.keys(I[K]);v21=3;break;case 2:(Q=c.__values(z),N=Q.next());v21=1;break;case 9:N=Q.next();v21=1;break;case 3:try{w21=2;for(;w21 !== 7;){switch(w21){case 5:(ea=I[K][S.value],qa=h.Lja(ea,ea));w21=4;break;case 1:w21=!S.done?5:7;break;case 9:A.push(qa);w21=8;break;case 4:w21=h.rma(qa)?3:9;break;case 2:(P=(D=void 0,c.__values(M)),S=P.next());w21=1;break;case 3:var z7e="M";z7e+="iss";z7e+="ing or invalid media data parts fo";z7e+="r str";z7e+="eam ";return (L=z7e + qa.Na,w(L));break;case 8:S=P.next();w21=1;break;}}}catch(ua){D={error:ua};}finally{x21=2;for(;x21 !== 1;){switch(x21){case 2:try{y21=2;for(;y21 !== 1;){switch(y21){case 2:S && !S.done && (E=P.return) && E.call(P);y21=1;break;}}}finally{z21=2;for(;z21 !== 5;){switch(z21){case 2:z21=D?1:5;break;case 9:throw D.error;z21=1;break;z21=5;break;case 3:z21=D?8:3;break;z21=D?1:5;break;case 1:throw D.error;z21=5;break;}}}x21=1;break;}}}v21=9;break;case 1:v21=!N.done?5:8;break;}}}catch(ua){var wa;wa={error:ua};}finally{A21=2;for(;A21 !== 1;){switch(A21){case 2:try{B21=2;for(;B21 !== 1;){switch(B21){case 2:N && !N.done && (B=Q.return) && B.call(Q);B21=1;break;}}}finally{C21=2;for(;C21 !== 5;){switch(C21){case 2:C21=wa?1:5;break;case 3:C21=wa?2:1;break;C21=wa?1:5;break;case 9:throw wa.error;C21=0;break;C21=5;break;case 1:throw wa.error;C21=5;break;}}}A21=1;break;}}}q21=17;break;case 20:I=F.data;z=Object.keys(I);q21=18;break;case 2:q21=1;break;case 11:try{r21=2;for(;r21 !== 12;){switch(r21){case 5:(K=J.value,H=F.headers[K]);r21=4;break;case 14:A.push(R);r21=13;break;case 7:r21=h.sma(R)?6:14;break;case 1:r21=!J.done?5:12;break;case 9:return w(L);break;case 4:r21=H.fragments instanceof ArrayBuffer?3:8;break;case 2:(G=c.__values(C),J=G.next());r21=1;break;case 8:R=h.Mja(H,H,H.fragments);r21=7;break;case 3:var p7e="Header fragments";p7e+=" ";p7e+="was a";p7e+="n ";p7e+="array buffer, is invalid type ";L=p7e + H.streamId;r21=9;break;case 6:var R7e="Mis";R7e+="sing ";R7e+="or invalid header data parts for stre";R7e+="am ";return (L=R7e + R.Na,w(L));break;case 13:J=G.next();r21=1;break;}}}catch(ua){var I;I={error:ua};}finally{s21=2;for(;s21 !== 1;){switch(s21){case 2:try{t21=2;for(;t21 !== 1;){switch(t21){case 2:J && !J.done && (z=G.return) && z.call(G);t21=1;break;}}}finally{u21=2;for(;u21 !== 5;){switch(u21){case 1:throw I.error;u21=5;break;case 2:u21=I?1:5;break;case 3:u21=I?5:6;break;u21=I?1:5;break;case 9:throw I.error;u21=0;break;u21=5;break;}}}s21=1;break;}}}q21=10;break;case 12:C=Object.keys(F.headers);q21=11;break;case 10:q21=F.data?20:17;break;case 6:y=h.uka(F.movieEntry);A=[];q21=13;break;case 7:q21=F.movieEntry?6:15;break;case 3:q21=m.fa(A)?9:8;break;case 5:w(y);q21=4;break;case 15:var s7e="m";s7e+="ediacac";s7e+="heloo";s7e+="kup";u.rN(s7e,{r5:u.Bn.time.ba() - t,S1:!0});v(x);q21=4;break;}}});p21=5;break;case 2:p21=1;break;}}});break;}}};n.prototype.Ehb=function(q){var D21,p;D21=2;for(;D21 !== 5;){switch(D21){case 2:var U7e="Medi";U7e+="a ";U7e+="cache is not";U7e+=" ";U7e+="enabled";p=this;return this.Yr?this.Yr.then(function(){var E21;E21=2;for(;E21 !== 1;){switch(E21){case 2:return new Promise(function(t){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:p.yn.SV(k.nq,q.toString(),function(u){var G21;G21=2;for(;G21 !== 1;){switch(G21){case 2:u && 0 !== u.length?1 === u.length && u[0] === q.toString()?t(!0):t(!1):t(!1);G21=1;break;}}});F21=1;break;}}});break;}}}):Promise.reject(U7e);break;}}};n.prototype.Yjb=function(q){var H21,u,v;H21=2;function t(w){var J21;J21=2;for(;J21 !== 1;){switch(J21){case 4:w.map(p);J21=2;break;J21=1;break;case 2:w.map(p);J21=1;break;}}}for(;H21 !== 4;){switch(H21){case 2:(u=this,v=q.toString());this.yn.SV(k.nq,[k.GBa,q].join("."),t);this.yn.SV(k.nq,v,t);H21=4;break;}}function p(w){var I21;I21=2;for(;I21 !== 1;){switch(I21){case 2:u.yn.delete(k.nq,w);I21=1;break;}}}};q11=20;break;case 20:n.prototype.sTb=function(q){var K21,p;K21=2;for(;K21 !== 4;){switch(K21){case 2:var O7e="m";O7e+="ediacac";O7e+="he";O7e+="-er";O7e+="ror";var f7e="medi";f7e+="a";f7e+="cache";p=new f.xh();p.on(this.yn,f7e,function(t){var L21;L21=2;for(;L21 !== 4;){switch(L21){case 1:t.keys || t.items.map(function(u){var M21;M21=2;for(;M21 !== 1;){switch(M21){case 2:return u.key;break;case 4:return u.key;break;M21=1;break;}}});L21=5;break;case 2:L21=t.keys || t.items?1:5;break;case 5:var G7e="m";G7e+="ediacach";G7e+="e";q.emit(G7e,t);L21=4;break;case 9:L21=t.keys && t.items?7:8;break;L21=t.keys || t.items?1:5;break;}}});p.on(this.yn,O7e,function(t){var N21;N21=2;for(;N21 !== 5;){switch(N21){case 2:var E7e="mediaca";E7e+="c";E7e+="h";E7e+="e";var b7e="e";b7e+="r";b7e+="ror";t.type=b7e;q.emit(E7e,t);N21=5;break;}}});K21=4;break;}}};return n;break;}}})();b.iCa=a;r.wf(f.EventEmitter,a);},function(r,b,a){var c,f,l,m,d;c=a(10);l=[];d=!1;r.exports={FL:function(g,h,k){var n;if(d)c.Oc(k) && (f.Im || f.RF?setTimeout(function(){k(f);},0):l.push(k));else {d=!0;n=a(125);n.bU(g);m=new n.Console("MEDIACACHE","media|asejs");f=new (a(428))(h,function(q){q && m.warn("Failed to initialize MediaCache",q);c.Oc(k) && setTimeout(function(){k(f);},0);l.map(function(p){setTimeout(function(){p(f);},0);});});}return f;},A5b:function(g,h){f=new (a(428))(g,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.Oc(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var f,l,m,d,g;function c(h){this.yq=h;this.context=h.context;this.j_a="NULLCONTEXT" === h.context?!0:!1;}f=a(10);l=a(125);m=new l.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,k,n,q,p){p("MediaCache is not supported");},remove:function(h,k,n){n("MediaCache is not supported");},create:function(h,k,n,q){q("MediaCache is not supported");},append:function(h,k,n,q){q("MediaCache is not supported");},query:function(h,k,n){n([]);}};c.prototype.CE=function(){var h,k,n;h=Array.prototype.slice.call(arguments);k=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(q){n(null,q);});try{if(this.j_a)throw Error("Media Cache not supported");k.apply(this.yq,h);}catch(q){n(q);}};c.prototype.query=function(h,k,n,q){try{if(this.j_a)throw Error("Media Cache not supported");this.yq.query(h,k,function(p){n(null,p);},q);}catch(p){n(p);}};c.prototype.read=function(h,k,n,q,p){this.CE(this.yq.read,h,k,n,q,p);};c.prototype.remove=function(h,k,n){this.CE(this.yq.remove,h,k,n);};c.prototype.create=function(h,k,n,q){this.CE(this.yq.create,h,k,n,q);};c.prototype.append=function(h,k,n,q){this.CE(this.yq.append,h,k,n,q);};c.prototype.info=function(h){this.CE(this.yq.info,h);};c.prototype.validate=function(h){this.CE(this.yq.validate,h);};c.prototype.flush=function(h){this.CE(this.yq.flush,h);};c.prototype.clear=function(){this.yq.clear();};r.exports={Csb:function(h){var k,n,q,p,t;k=h.X4b || "NRDMEDIADISKCACHE";g=h.BS || 0;0 !== g || f.fa(l.options) || f.fa(l.options.cM) || (g=l.options.cM);h=g;try{q=l.storage.cvb;if(!q || !f.jh(q))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=q[k]){m.warn("Disk store exists, returning");p=new c(n);}else {if(f.fa(l.storage) || !f.Oc(l.storage.vPa) || l.options && 0 === l.options.cM)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);t=l.storage.vPa({context:k,size:h,encrypted:!0,signed:!0});if(!t || !t.valid)throw "Failed to create disk store context";p=new c(t);}}catch(u){m.warn("Exception creating disk store context - returning NullContext (noops)",u);p=new c(d);}return p;},cAb:function(){return g;},I_b:c};},function(r,b,a){var g,h,k,n,q,p,t,u,v;function c(){}function f(w,x,y,A,z){var B;B=g.Oc(A)?A:c;this.Gu=w;this.bg=y.Xu;this.nx=0;this.Pgb=y.Ywb || "NONE";this.Xw=g.fa(z) || g.tb(z)?0:z;this.re={};this.Vr=y.a7b || h.storage.yP;this.zu=x;this.OJ=q.create(this.zu,y.Ftb * this.Xw,this.Gu);this.on=this.addEventListener=v.addEventListener;this.removeEventListener=v.removeEventListener;this.emit=this.Ua=v.Ua;this.FJa=m(this,f.ze.REPLACE);this.phb=m(this,f.ze.oIa);this.vE;this.vE=y.h7a?a(925):a(926);this.zu.query(this.Vr,this.Ip(""),(function(D,E){var F;if(D)B(D);else {F=this.OJ.nka();D=Object.keys(E).filter(function(C){return C !== F && p.LL(C);}).map(this.Tta.bind(this));this.i7(D,(function(C,G){Object.keys(G).map((function(J){var K,H;K=G[J];this.re[p.E2(J)]=K;if(K.Hra && 1 < Object.keys(K.Hra).length){H=0;Object.keys(K.Hra).forEach((function(L){E[this.Ip(L)] && g.ya(E[this.Ip(L)].size) && (H+=E[this.Ip(L)].size);}).bind(this));J=p.E2(J);this.re[J].size=H;}else (J=p.E2(J),E[this.Ip(J)] && (this.re[J].size=E[this.Ip(J)].size));}).bind(this));l(this.zu,this.Vr,this.Gu,(function(J,K){this.nx=K;J?B(J):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function l(w,x,y,A){var z;z=g.Oc(A)?A:c;w.query(x,y,function(B,D){B?z(B):(B=Object.keys(D).reduce(function(E,F){return E + (D[F].size || 0);},0),z(null,B));});}function m(w,x){return function(y,A,z,B,D){return function(E,F){var C;if(E)(A || w.Ua(f.ze.xf,{itemKey:y,error:E}),z(E));else {C={ek:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(G){var J;J=F.actions[G];G={key:w.Tta(J.Y4),vk:G};J.W?(C.ek+=J.ek,G.X4=J.ek,g.ya(J.duration) && (C.duration+=J.duration)):G.error=J.error;C.items.push(G);});E=g.Oc(B)?B():0;0 < D && (C.xK=D - E);l(w.zu,w.Vr,w.Gu,function(G,J){G?z(G):(w.nx=J,C.Fm=w.bg - J,A || w.Ua(x,u.kTa(C)),z(null,C));});}};};}function d(w,x){return 0 < x && w >= x?!0:!1;}g=a(10);h=a(125);k=a(253);b=a(84);n=new h.Console("MEDIACACHE","media|asejs");q=a(921);p=a(429);t=a(126);u=a(254);v=a(430).EventEmitter;b({ze:{oIa:"writeitem",REPLACE:"replaceitem",Z$:"journalupdate",xf:"mediacache-error"}},f);f.prototype.mBb=function(){return this.Gu;};f.prototype.Tta=function(w){return w.slice(this.Gu.length + 1);};f.prototype.gka=function(){return Object.keys(this.re).filter((function(w){w=p.Eja(this.re[w]);return void 0 === w || 0 >= w.YOa();}).bind(this));};f.prototype.yBb=function(){return Object.keys(this.re).reduce((function(w,x){var y;y=this.re[x];return y && y.creationTime < w.creationTime?{resourceKey:x,creationTime:y.creationTime}:w;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).b8b;};f.prototype.pAb=function(){var w;switch(this.Pgb){case "FIFO":w=this.yBb();}return w;};f.prototype.vub=function(w){var x;x=g.Oc(w)?w:c;this.WTa((function(y){var A,z,B;A=this.re;z=Object.keys(A).reduce(function(D,E){E=A[E];E.resourceIndex && Object.keys(E.resourceIndex).forEach(function(F){D.push(F);});return D;},[]);if((y=y.filter(function(D){return !p.LL(D) && 0 > z.indexOf(D);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(D){return new h.Promise(function(E,F){B.delete(D,function(C){C?F(C):E();});});})).then(function(){x(void 0,{ara:!0});},function(D){x(D,{ara:!1});});u.Pv(y);}else w(void 0,{ara:!1});}).bind(this));};f.prototype.xPb=function(w,x,y){var A,z;A=g.Oc(x)?x:c;x=this.Ip(w);z=h.time.now();this.zu.read(this.Vr,x,0,-1,(function(B,D){var E;if(B)A(B);else if(D && D.W && D.value){g.Oc(y) || (y=this.vE.vT(t.oq.gD),p.LL(w)?y=this.vE.vT(t.oq.oZ):(B=this.re[w],!g.fa(B) && g.ya(B.resourceIndex[w])?(B=B.resourceIndex[w],g.fa(B) && (B=t.oq.gD),y=this.vE.vT(B)):n.warn("Metadata is undefined or does not contain a resource format for key",w,":",B)));try{E=y(D.value);}catch(F){return A(k.EI.iq(F.message));}D={duration:h.time.now() - z};this.re[w] && g.ya(this.re[w].size) && (D.Fx=g.ya(this.re[w].size)?this.re[w].size:0);A(null,E,D);}else A(k.EI.iq(D.error));}).bind(this));};f.prototype.read=function(w,x,y){this.xPb(w,x,y);};f.prototype.i7=function(w,x,y){var A,z,B;A=g.Oc(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(w))A(k.EI.iq("item keys must be an array"));else {z={};B=[];w=h.Promise.all(w.map((function(D){return new h.Promise((function(E,F){var C;y && !g.fa(y[D]) && (C=this.vE.vT(y[D]));this.read(D,function(G,J,K){G?(J={},J[D]=G,F(J)):(z[D]=J,B.push({duration:K.duration,Fx:K.Fx}),E());},C);}).bind(this));}).bind(this))).then(function(){var D;D={};0 < B.length && (D=B.reduce(function(E,F){g.ya(F.duration) && (E.duration+=F.duration);g.ya(F.Fx) && (E.Fx+=F.Fx);return E;},{duration:0,Fx:0}));A(null,z,D);},function(D){A(D);});u.Pv(w);}};f.prototype.write=function(w,x,y,A,z){var B,D,E;y=g.Oc(y)?y:c;B=this.Ip(w);D="function" === typeof z?z():0;E=t.ala(x);E=this.vE.Oka(E)(x);E.byteLength + this.nx >= this.bg?y(k.VH):d(E.byteLength + D,this.Xw)?y(k.a_):this.OJ.save(this.Vr,B,x,this.phb(w,A,y,z,this.Xw),E.byteLength);};f.prototype.replace=function(w,x,y,A,z){var B,D,E,F;B=g.Oc(y)?y:c;D=this.Ip(w);E=0;"function" === typeof z && (E=z());y=t.ala(x);F=this.vE.Oka(y)(x);y=(this.re[w] || ({})).size || 0;0 >= y && this.re[w]?this.xUa([w],(function(C){n.trace("Replacing key",w,"which exists:",! !this.re[w],this.re[w]?this.re[w]:void 0,"and has size",C,"with",x,"with size",F.byteLength,"plus _used",this.nx,"vs capacity",this.bg);F.byteLength - C + this.nx >= this.bg?B(k.VH):d(F.byteLength - C + E,this.Xw)?B(k.a_):this.OJ.replace(this.Vr,D,x,this.FJa(w,A,B,z,this.Xw),F.byteLength);}).bind(this)):(n.trace("Replacing key",w,"which exists:",! !this.re[w],this.re[w]?this.re[w]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.nx,"vs capacity",this.bg),F.byteLength - y + this.nx >= this.bg?B(k.VH):d(F.byteLength - y + E,this.Xw)?B(k.a_):this.OJ.replace(this.Vr,D,x,this.FJa(w,A,B,z,this.Xw),F.byteLength));};f.prototype.HQb=function(w,x,y,A){var z;z=g.Oc(x)?x:c;"[object Object]" !== Object.prototype.toString.call(w)?z(k.$Z.iq("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(w).map((function(B){return new h.Promise((function(D){this.replace(B,w[B],function(E,F){E?D({error:E,Vp:B}):D(F);},!0,A);}).bind(this));}).bind(this))).then((function(B){var D,E,F,C;try{D=Number.MAX_VALUE;E=B.reduce(function(G,J){J.error || (G.ek+=J.ek,g.ya(J.duration) && (G.duration+=J.duration),!g.fa(J.Fm) && J.Fm < D && (D=J.Fm),J.items.map(function(K){G.items.push({key:K.key,vk:K.vk,X4:K.X4,OHb:K.OHb,duration:K.duration});}),D < Number.MAX_VALUE && (G.Fm=D));return G;},{ek:0,items:[],time:h.time.now(),duration:0});0 < this.Xw && (E.xK=this.Xw - A());F=B.filter(function(G){return !g.fa(G.error);});C=u.oVa(F);y || (C?C.forEach((function(G){this.Ua(f.ze.xf,G);}).bind(this)):this.Ua(f.ze.REPLACE,u.kTa(E)));z(C,E);}catch(G){z(G);}}).bind(this),(function(B){y || this.Ua(f.ze.xf,B);z(B);}).bind(this)),u.Pv(x));};f.prototype.delete=function(w,x){var y;y=g.Oc(x)?x:c;this.zu.remove(this.Vr,this.Ip(w),(function(A,z){A?y(A):z && z.W?l(this.zu,this.Vr,this.Ip(""),(function(B,D){B?y(B):(this.nx=D,y());}).bind(this)):y(k.l$a.iq(z.error));}).bind(this));};f.prototype.WTa=function(w){this.query("",function(x,y){x?(n.error("Failed to get keys",x),w([])):w(y);});};f.prototype.query=function(w,x){var y,A;y=g.Oc(x)?x:c;A=this.OJ.nka();this.zu.query(this.Vr,this.Ip(w),(function(z,B){z?y(z):y(null,Object.keys(B).filter(function(D){return D !== A;}).map(this.Tta.bind(this)));}).bind(this));};f.prototype.Ip=function(w){return this.Gu + "." + w;};f.prototype.clear=function(w){var x;x=g.Oc(w)?w:c;this.WTa((function(y){var A;A=h.Promise.all(y.map((function(z){return new h.Promise((function(B){z && this.delete(z,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(z){this.Ua(f.ze.xf,z);x([],z);}).bind(this));u.Pv(A);}).bind(this));};f.prototype.xUa=function(w,x){var y,A;y=g.Oc(x)?x:c;A=(w || []).map((function(z){return this.Ip(z);}).bind(this));this.zu.query(this.Vr,this.Gu,(function(z,B){z?(n.error("failed to get persisted size for keyset ",w,z),y(0)):(z=Object.keys(B).filter(function(D){return 0 <= A.indexOf(D);}).reduce(function(D,E){return D + (B[E].size || 0);},0),y(z));}).bind(this));};f.prototype.Dzb=function(w){return this.OJ.aTa(w);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t){var z,B;function u(D,E,F,C){D.info.call(D,(function(G,J){var K;if(G)C(G);else {try{K=J.values[this.context].entries[E][F].size;}catch(H){K=-1;}-1 < K?C(null,K):this.validate(function(H,L){H?C(H):(L[F] && (K=L[F].size),C(null,K));});}}).bind(D));}function v(D,E,F,C,G,J,K){var H;J?J.actions || (J.actions={}):J={actions:{}};z(C);H=l.time.now();C=new k(function(L,R){D.create(l.storage.yP,E,F,function(I,Q){I?R(I):L(Q);});}).then(function(L){L.W?u(D,l.storage.yP,E,function(R,I){R?K(R):(B(I),z(I),J.actions[c.UX.Z$]={W:!0,time:G,ek:I,Y4:E,K1a:L,duration:l.time.now() - H},J.Fm=L.Fm,K(null,J));}):(J.actions[c.UX.Z$]={W:!1,Y4:E,error:L.error},K(null,J));},function(L){K(L);});g.Pv(C);}function w(D,E,F,C,G,J){C.Dp(F.time,F);for(var K=F.time - 864E5,H=C.Jv();H && !isNaN(H.time) && H.time < K;){H=C.BK();z(0 - (H.ca || 0));H=C.Jv();}C=C.uo().map(function(L){return L.time + ";" + L.ca;});v(D,E,Array.prototype.join.call(C,"|"),F.ca,F.time,G,J);}function x(D,E,F,C,G,J,K,H,L){var R;R=l.time.now();D.create(F,C,G,function(I,Q){var N;if(I)h.error("Failed to replace item",C,I);else if(Q.W){N=Q.Fm;u(D,F,C,function(M,P){var S,ea;if(M)L(M);else {M={time:H,ca:P || 0};S={Fm:N,actions:{}};ea=l.time.now() - R;S.actions[c.UX.REPLACE]={W:!0,time:H,ek:P,Y4:C,K1a:Q,duration:ea};J?w(D,E,M,K,S,L):(z(P),L(null,S));}});}else L(m.$Z.iq(Q.error || "Failed to create item"));});}function y(D,E,F,C,G,J,K,H,L){var R;R=l.time.now();D.append(F,C,G,function(I,Q){var N;if(I)(h.error("Failed to save item " + C,I),L(I));else if(Q.W){N=Q.Fm;u(D,F,C,function(M,P){var S,ea;if(M)L(M);else {M={time:H,ca:P || 0};S={Fm:N,actions:{}};ea=l.time.now() - R;S.actions[c.UX.teb]={W:!0,time:H,ek:P,Y4:C,K1a:Q,duration:ea};J?w(D,E,M,K,S,L):(z(P),L(null,S));}});}else L(m.$Z.iq(Q.error || "Failed to save item"));});}function A(D,E){D && f.Oc(D.remove) && D.yq.valid && D.remove(l.storage.yP,E.sJ,function(F,C){if(F)h.error("Failed to delete old journal key",F);else try{C && (f.fa(C.error) || C.error.some(function(G){return "NFErr_FileNotFound" === G.o5b;})) && w(D,E.sJ,{time:0,ca:0},E.$Q,0,function(){});}catch(G){}});}if(!q.yq.valid)return n;this.aJa=f.fa(p) || f.tb(p)?0:p;this.Pca=q;this.tda=this.iQ=0;this.$Q=new d();this.hjb=t || "default";this.sJ=this.hjb + ".NRDCACHEJOURNALKEY";z=(function(D){isNaN(D) || (this.iQ+=D);return this.iQ;}).bind(this);B=(function(D){isNaN(D) || (this.tda+=D);return this.tda;}).bind(this);this.nka=function(){return this.sJ;};this.save=function(D,E,F,C){var G;G=l.time.now();y(this.Pca,this.sJ,D,E,F,0 <= this.aJa,this.$Q,G,C);};this.replace=function(D,E,F,C){var G;G=l.time.now();x(this.Pca,this.sJ,D,E,F,0 <= this.aJa,this.$Q,G,C);};this.aTa=function(D){var E,G;E=this.iQ;D-=864E5;for(var F=this.$Q.uo(),C=0;C < F.length;C++){G=F[C];G.time < D && !isNaN(G.ca) && (E-=G.ca);}return E;};(function(D){var E;E=D.Pca;D.iQ=0;E.read(l.storage.yP,D.sJ,0,-1,function(F,C){var G,J,K,L;G=[];J=0;K=!0;if(F)h.error("Failed to compile records",F);else if(C.W){F=String.fromCharCode.apply(null,new Uint8Array(C.value));F=String.prototype.split.call(F,"|");C=F.reduce(function(R,I){return R + (I.length + 40);},0);z(C);G=F.map(function(R){R=R.split(";");return {time:Number(R[0]),ca:Number(R[1])};});try{if(!isNaN(G.reduce(function(R,I){return R + I.ca;},0))){K=!1;for(var H=l.time.now() - 864E5;J < G.length;J++){L=G[J];L.time < H || (D.$Q.Dp(L.time,L),z(L.ca));}}}catch(R){}}K && A(E,D);});})(this);}f=a(10);l=a(125);m=a(253);d=a(922);b=a(84);g=a(254);h=new l.Console("DISKWRITEMANAGER","media|asejs");k=l.Promise;b({UX:{teb:"saveitem",REPLACE:"replaceitem",Z$:"journalupdate"}},c);n={save:function(q,p,t,u){u(m.CBa);},replace:function(q,p,t,u){u(m.CBa);},nka:function(){return "";},aTa:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(q,p,t){return new c(q,p,t);},P1b:n};},function(r){function b(f){if(!(this instanceof b))return new b(f);if("undefined" === typeof f)this.lm=function(l,m){return l <= m;};else {if("function" !== typeof f)throw Error("heap comparator must be a function");this.lm=f;}this.Mo=[];}function a(f,l){var m,d,g,h,k,n,q;m=f.Mo;d=f.lm;g=2 * l + 1;h=2 * l + 2;k=m[l];n=m[g];q=m[h];n && d(n.priority,k.priority) && (!q || d(n.priority,q.priority))?(c(m,l,g),a(f,g,d)):q && d(q.priority,k.priority) && (c(m,l,h),a(f,h,d));}function c(f,l,m){var d;d=f[l];f[l]=f[m];f[m]=d;}b.prototype.clear=function(){this.Mo=[];};b.prototype.Dp=function(f,l){this.Mo.push({priority:f,value:l});f=this.Mo;l=this.lm;for(var m=f.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && l(f[m].priority,f[d].priority);){c(f,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var f;if(0 !== this.Mo.length){f=this.Mo[0];c(this.Mo,0,this.Mo.length - 1);this.Mo.pop();a(this,0);return f.value;}};b.prototype.Jv=function(){if(0 !== this.Mo.length)return this.Mo[0].value;};b.prototype.enqueue=b.prototype.Dp;b.prototype.BK=b.prototype.remove;b.prototype.I4=function(){return 0 === this.Mo.length;};b.prototype.uo=function(){return this.Mo.map(function(f){return f.value;});};r.exports=b;},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fd)return (this.fd={},this.fd[c]=[f],!0);l=this.fd[c];return void 0 === l?(this.fd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.fd?this.fd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fd)return !1;l=this.fd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.fd[c],!0);l.splice(f,1);return !0;},Ua:a,emit:a,removeAllListeners:function(c){this.fd && (void 0 === c?delete this.fd:delete this.fd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,f,l,m;c=a(10);f=a(126);l={};l[f.oq.gD]=function(d){return d;};l[f.oq.MZ]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};l[f.oq.oZ]=function(d){var g;g=d || new ArrayBuffer(0);d="";g=new Uint8Array(g);for(var h=0;h < g.byteLength;h++){d+=String.fromCharCode(g[h]);}return JSON.parse(d);};m={};m[f.oq.gD]=function(d){return d;};m[f.oq.MZ]=function(d){for(var g=new ArrayBuffer(d.length),h=new Uint8Array(g),k=0,n=d.length;k < n;k++){h[k]=d.charCodeAt(k);}return g;};m[f.oq.oZ]=function(d){return c.fa(d) || c.tb(d)?d:m[f.oq.MZ](JSON.stringify(d));};r.exports={vT:function(d){return l[d] || l[f.oq.gD];},Oka:function(d){return m[d] || m[f.oq.gD];}};},function(r,b,a){function c(l){return l;}function f(){return c;}a(10);r.exports={vT:f,Oka:f};},function(r,b,a){var l;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function f(m,d){var g,h,k;g=[];if(l.jh(d)){h={};k={};k[m]=h;g.push(k);g=Object.keys(d).reduce(function(n,q){var p,t,u;p=d[q];t={};if(l.E4(p)){u=m + ".__embed__." + q;t[u]=p;n.push(t);}else l.jh(p)?(u=m + ".__sub__." + q,p=f(u,p),h[q]=p[0][u],n=n.concat(p.slice(1))):h[q]=p;return n;},g);}else (k={},k[m]=d,g.push(k));return g;}l=a(126);r.exports={bvb:f,QEb:function(m){var d,g,h,u;d=Object.keys(m).map(function(v){return v.split(".");});d.sort(c);g=d[0];h=g.length;g=m[g.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,q=!1,p=g,t=h;t < d[k].length;t++){u=d[k][t];switch(u){case "__metadata__":break;case "__sub__":q=!0;break;case "__embed__":n=!0;break;default:q?(p=p[u],q=!1):n && (p[u]=m[d[k].join(".")],n=!1);}}}return g;},yFb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(g,h,k){Object.keys(g).forEach(function(n){var q,p;if(m.jh(g[n]))if(g[n].E4){q=g[n];p=k + q.offset;g[n]=h.slice(p,p + q.byteLength);}else g[n]=c(g[n],h,k);});return g;}function f(g,h,k){Object.keys(g).forEach(function(n){var q;if(m.E4(g[n])){q=g[n];h.push(q);g[n]={E4:!0,offset:k.wha,byteLength:q.byteLength};k.wha+=q.byteLength;}else m.jh(g[n]) && f(g[n],h,k);});return g;}function l(){var g,h,k;g=Array.prototype.concat.apply([],arguments);h=g.reduce(function(n,q){return n + q.byteLength;},0);k=new Uint8Array(h);g.reduce(function(n,q){k.set(new Uint8Array(q),n);return n + q.byteLength;},0);return k.buffer;}m=a(126);d=a(84);r.exports={Fqb:function(g){var h,k,n;h=d(g,{});g=[];h=f(h,g,{wha:0});h=JSON.stringify(h);k=new ArrayBuffer(h.length + 4);n=new DataView(k);n.setUint32(0,h.length);for(var q=4,p=0,t=h.length;p < t;p++){n.setUint8(q,h.charCodeAt(p));q++;}g=[k].concat(g);return l.apply(null,g);},Eqb:function(g){for(var h=new DataView(g,0,4).getInt32(0),k=new Uint8Array(g,4,h),n="",q=0;q < k.byteLength;q++){n+=String.fromCharCode(k[q]);}h=4 + h;n=JSON.parse(n);return c(n,g,h);}};},function(r,b,a){var f,l,m,d,g;function c(h){return {mediaType:h.mediaType,streamId:h.Na,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.zd,saveToDisk:!0,offset:h.offset,bytes:h.ca,timescale:h.U,frameDuration:h.stream.qa && h.stream.qa.Xb,encrypted:h.ik,initSegments:1 < h.zg.length?h.zg.map(function(k){return {fi:k.Od,s:k.data.byteLength,e:! !k.ik};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.rma=b.sma=b.MWa=b.oUa=b.PTa=b.RTa=b.rka=b.vka=b.uka=b.Lja=b.Mja=b.BBa=void 0;f=a(2).__importStar(a(10));l=a(930);m=a(403);d=a(9);g=a(22);b.BBa={GBa:"movieEntry",Eab:"header",raa:"metadata",dbb:"headerData",I0b:"headerMetadata",wab:"sizes",vab:"durations",Tya:"fragments",kcb:"response",nq:"billboard",tD:{lifespan:259200}};b.Mja=function(h,k,n){var q,p;q=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (p={Bk:n.startTicks,offset:n.offset,U:n.timescale,sizes:new Uint32Array(k.sizes),gd:new Uint32Array(k.durations)});return {Pc:!0,mediaType:h.mediaType,K:h.movieId,Na:h.streamId,bitrate:h.bitrate,location:h.location,zd:h.serverId,ca:h.bytes,offset:h.offset,ula:q,m4:h.initSegments,ik:h.encrypted,U:h.timescale,qa:h.frameDuration,sh:h.saveToDisk,Y:p};};b.Lja=function(h,k){var n,q,p;k=k.response;n=h.startTicks;q=h.durationTicks;void 0 !== n && void 0 !== q && (p=n + q);return {Pc:!1,mediaType:h.mediaType,K:h.movieId,Na:h.streamId,bitrate:h.bitrate,location:h.location,zd:h.serverId,ca:h.bytes,offset:h.offset,response:k,U:h.timescale,Ya:h.startTicks,lp:q,sh:h.saveToDisk,kb:p};};b.uka=function(h){return {priority:h.priority,K:h.movieId,headers:{},BL:0,pS:0,LVa:0,sh:h.saveToDisk,Ad:h.stats,jv:h.firstSelectedStreamBitrate,Ey:h.initSelectionReason,SB:h.histDiscountedThroughputValue,Xn:h.histTdigest,Wn:h.histAge,Gn:void 0};};b.vka=function(h,k,n,q,p){var t,u;t={headers:{},data:{}};q.forEach(function(v){var w,x,z;w=v.mediaType;w=p && p.pv(w,v.Na);x=[];if(v.Pc)if(!Array.isArray(v.m4) || 2 > v.m4.length)x.push({Od:0,data:v.ula});else for(var y=0,A=0;A < v.m4.length;++A){z=v.m4[A];x.push({Od:z.fi,data:v.ula.slice(y,y + z.s),ik:z.e});y+=z.s;}w?(v.Y && w.v6(x,v.U,v.qa?new g.S(v.qa,v.U):void 0,v.Y),v.Pc && w && w.Ee?(void 0 === t.headers && (t.headers={}),t.headers[v.Na]=new m.aY(w,{ca:v.ca,offset:v.offset,zg:x,ik:v.ik},k)):v.response instanceof ArrayBuffer && void 0 !== w.Y && void 0 !== v.Ya && void 0 !== v.U && void 0 !== v.kb && (x=w.Y.J2(new g.S(v.Ya,v.U).V),void 0 !== x && (w=new l.iva(w,{U:v.U,Ya:v.Ya,kb:v.kb,index:x.index,offset:v.offset,ca:v.ca},v.response,n,h,k),void 0 === t.data && (t.data={}),t.data[v.Na] || (t.data[v.Na]=[]),t.data[v.Na].push(w)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + v.Na + " movieId: " + v.K);});if(!f.fa(t.data)){u=t.data;Object.keys(u).forEach(function(v){u[v].sort(function(w,x){return w.Ya - x.Ya;});});}return t;};b.rka=function(h){return {mediaType:h.mediaType,streamId:h.Na,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.zd,saveToDisk:!0,offset:h.offset,bytes:h.ca,timescale:h.U,startTicks:h.Ya,durationTicks:h.lp};};b.RTa=c;b.PTa=function(h){var k,n,q,p;k=c(h);if(h.stream.Ee && h.stream && h.stream.Y){n={timescale:h.stream.Y.U,startTicks:h.stream.Y.Bk,offset:h.stream.Y.Gd(0)};q=h.stream.Y.AN;p=q.sizes.buffer;q=q.gd.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:d.qB(h.zg.map(function(t){return t.data;})),initSegments:k.initSegments,encrypted:h.ik,fragments:n,sizes:p,durations:q};};b.oUa=function(h){return {priority:h.priority,movieId:h.K,saveToDisk:h.sh,firstSelectedStreamBitrate:h.jv,initSelectionReason:h.Ey,histDiscountedThroughputValue:h.SB,histTdigest:h.Xn,histAge:h.Wn};};b.MWa=function(h){return !f.has(h,"startTicks");};b.sma=function(h){return !h.ula || !h.U || !h.Y || void 0 === h.Y.Bk || void 0 === h.Y.offset || void 0 === h.Y.gd || !h.Y.gd.length || void 0 === h.Y.sizes || !h.Y.sizes.length;};b.rma=function(h){return void 0 === h.ca || void 0 === h.offset || void 0 === h.U || void 0 === h.Ya || void 0 === h.lp;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iva=void 0;c=a(2);f=a(9);r=a(43);l=a(98);a=(function(m){function d(g,h,k,n,q,p){n=m.call(this,g,h,n,q,p) || this;h.ca=k.byteLength;l.dm.nb(n,g,h);n.EJ=k;n.Yfb=h.ca;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{Pc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ys:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{af:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ri:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.EJ;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{BHb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{TK:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wqa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Yfb;},enumerable:!1,configurable:!0}});d.prototype.Ws=function(){return !0;};d.prototype.LE=function(g){this.Qe=g.appendBuffer(this.response,f.Gp(this));return {W:this.Qe};};d.prototype.Jh=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.Lc=function(){};d.prototype.q8=function(){return !1;};return d;})(a(241).SH);b.iva=a;r.wf(l.dm,a);},function(r,b,a){var c,f,l,m,d,g,h,k,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.DGa=void 0;c=a(2);r=a(16);f=a(66);l=c.__importDefault(a(5));m=a(15);d=a(255);g=a(9);h=a(6);k=a(987);n=a(382);q=new l.default.Console("ASEJS","media|asejs");q.trace.bind(q);r=(function(p){var O21;O21=2;for(;O21 !== 18;){switch(O21){case 13:t.prototype.Is=function(u,v){var b31;b31=2;for(;b31 !== 1;){switch(b31){case 2:return this.eH[this.fla(v,u)];break;}}};t.prototype.yQb=function(u){var c31,v,w;c31=2;for(;c31 !== 13;){switch(c31){case 3:u.Ga && this.Ma.XM(u.Ga);u.Dg && this.Ma.It(u.Dg);u.Nj && this.Ma.XM(u.Nj);u === this.j5 && delete this.j5;this.Ma.kra(this.eH[v]);delete this.eH[v];c31=13;break;case 2:this.Hpb();(v=this.fla(u.$,u.da),w=this.eH[v]);w && (w.AB=!0);this.Ma.It(u.pa);c31=3;break;}}};t.prototype.Ab=function(){var d31;d31=2;for(;d31 !== 9;){switch(d31){case 3:this.Ma.close();d31=9;break;case 12:this.Ma.close();d31=2;break;d31=9;break;case 2:var X6e="Attem";X6e+="pt to destr";X6e+="uct ShimManag";X6e+="er with latest session s";X6e+="till defined";var t7e="At";t7e+="t";t7e+="empted to des";t7e+="truct ShimManager with session config active";var w7e="Att";w7e+="emp";w7e+="ted to destruct S";w7e+="himManager with players present in ASE";var u7e="At";u7e+="tem";u7e+="pted to destruct S";u7e+="himManager with playgraph";u7e+="s present in ASE";h.assert(0 === this.Ma.zC.length,u7e);h.assert(0 === this.Ma.X0a.length,w7e);h.assert(0 === Object.keys(this.eH).length,t7e);h.assert(void 0 === this.j5,X6e);d31=3;break;}}};O21=10;break;case 4:Object.defineProperties(t.prototype,{kh:{get:function(){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 4:return this.Ma.kh;break;S21=1;break;case 2:return this.Ma.kh;break;}}},enumerable:!1,configurable:!0}});t.prototype.nb=function(u,v,w,x,y,A,z,B){var T21;T21=2;for(;T21 !== 5;){switch(T21){case 2:this.Ma.ssa({audio:u,video:v,sfa:z,Dua:B},{V:x,ca:y});this.Ma.open(this.config,this.TC);T21=5;break;}}};t.prototype.HW=function(u,v,w){var U21;U21=2;for(;U21 !== 1;){switch(U21){case 2:this.Ma.ssa({total:u},{V:v,ca:w});U21=1;break;}}};t.prototype.createSession=function(u,v,w,x,y,A,z,B,D,E){var V21,F,C;V21=2;for(;V21 !== 19;){switch(V21){case 2:var h6e="crea";h6e+="t";h6e+="ing session";this.console.trace(h6e);this.Ma.Ib.reset();F=Number(u.movieId);D=this.fla(F,y.da);this.eH[D]={bOa:function(){},da:y.da,equals:function(G){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:return G.$ === F && (y.da === G.da || !G.da || !y.da);break;}}},AB:!1,Ir:Promise.resolve({sa:u,Hi:! !x.Hi,Fd:m.J5(! !x.GR,! !x.XC),config:B}),$:F};V21=9;break;case 11:this.j5=new k.EGa(this.console,this,u,E,v,C,x,y,A,z,B);B.Fq || B.qG || this.Gx();return this.j5;break;case 9:var M6e="endPts is n";M6e+="ot ";M6e+="suppo";M6e+="rted";B.fy && this.Ma.KC(this.eH[D],{Iv:y.Iv,da:y.da,wB:y.wB});E=this.ctb(F,u,B.Y0a,B,y,E || t.lub,x);C=E[0];D=C.Da.wa[C.Da.Te].jc;C=[this.KT(F,C.Da,w,D)];E[1] && C.push(this.KT(F,E[1].Da,w,D));h.assert(void 0 === x.Ea,M6e);V21=11;break;}}};O21=7;break;case 7:t.prototype.KT=function(u,v,w,x){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:var A6e="inva";A6e+="lid start pos";A6e+="ition relative ";A6e+="to p";A6e+="laygraph";return v.wa[v.Te].jc === x?(u=n.eha(v,u,g.S.mb(w)),h.assert(u,A6e),u):{va:v.Te,offset:g.S.ab};break;}}};t.prototype.ctb=function(u,v,w,x,y,A,z){var Y21,G,B,D,E,F,C;Y21=2;for(;Y21 !== 7;){switch(Y21){case 3:G=D.xMb;Y21=9;break;case 2:var Y6e="v";Y6e+="id";Y6e+="eo";var Q6e="a";Q6e+="u";Q6e+="d";Q6e+="i";Q6e+="o";var l6e="au";l6e+="di";l6e+="o";var y6e="vi";y6e+="d";y6e+="e";y6e+="o";var g6e="G";g6e+="en";g6e+="erated playgraph from choicema";g6e+="p.";(B=this,D=v.choiceMap);D?(u=f.nB(D,{config:x}),this.console.trace(g6e)):u=f.iH(u,A,z.GR || z.XC?z.XC?[y6e]:[l6e]:[Q6e,Y6e]);(E=Object.create(x,{ey:{value:y.wB},oyb:{value:y.XJ}}),F=this.Is.bind(this,y.da),C=[this.Ma.HE(u,w,E,{Is:F})]);Y21=4;break;case 4:Y21=D && D.xMb?3:8;break;case 8:return C;break;case 9:Object.keys(G).forEach(function(J,K){var Z21;Z21=2;for(;Z21 !== 9;){switch(Z21){case 2:var P6e="Currently only one p";P6e+="ara";P6e+="llel graph is supported";a000.q62(18);h.assert(a000.J62(0,K),P6e);K=G[J];Z21=5;break;case 5:var c6e="Cu";c6e+="rrently par";c6e+="al";c6e+="lel graph can only be media t";c6e+="ype [audio]";var B6e="a";B6e+="u";B6e+="dio";h.assert(K.Fd && 1 === K.Fd.length && B6e === K.Fd[0],c6e);J=f.nB(D,c.__assign(c.__assign({},G[J]),{config:x}));C.push(B.Ma.HE(J,w,E,{Is:F}));Z21=9;break;}}});Y21=8;break;}}};O21=14;break;case 14:t.prototype.Hpb=function(){var a31;a31=2;for(;a31 !== 1;){switch(a31){case 4:this.Ib.vN(1);a31=3;break;a31=1;break;case 2:this.Ib.vN(null);a31=1;break;}}};O21=13;break;case 2:c.__extends(t,p);Object.defineProperties(t.prototype,{Ib:{get:function(){var Q21;Q21=2;for(;Q21 !== 1;){switch(Q21){case 2:return this.Ma.Ib;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Lm:{get:function(){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 4:return this.Ma.Lm;break;R21=1;break;case 2:return this.Ma.Lm;break;}}},enumerable:!1,configurable:!0}});O21=4;break;case 10:var k6e="s";k6e+="0";t.prototype.fla=function(u,v){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:a000.W62(6);return a000.x62("-",u,v);break;}}};t.lub=k6e;return t;break;}}function t(u,v,w,x){var P21,y;P21=2;for(;P21 !== 11;){switch(P21){case 3:y.TC=x;y.eH={};u=a(431);P21=7;break;case 2:y=p.call(this) || this;y.config=u;y.Gx=v;y.$o=w;P21=3;break;case 7:var v6e="1SI";v6e+="YbZr";v6e+="NJ";v6e+="Cp9";var F6e="DE";F6e+="B";F6e+="UG";F6e+=":";var K6e="nf-a";K6e+="se shim version";K6e+=":";y.console=q;y.console.trace(K6e,u,F6e,!1);y.Ma=d.DF();v6e;return y;break;}}}})(r.EventEmitter);b.DGa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q;Object.defineProperties(b,{__esModule:{value:!0}});b.Yua=void 0;c=a(2);f=a(16);l=a(380);m=a(229);d=a(933);g=a(225);h=a(15);a(219);k=a(934);n=a(938);q=a(966);p=a(427);t=a(30);u=a(6);v=a(409);w=a(967);x=a(968);y=a(969);A=a(114);z=a(257);B=a(970);D=a(67);E=a(256);F=a(9);C=c.__importDefault(a(5));G=a(971);J=a(972);K=a(973);H=a(974);L=a(53);R=a(437);I=a(985);Q=a(986);r=(function(){function N(M){this.H=M;this.events=new f.EventEmitter();this.Jc=l.Kr.CLOSED;this.px=[];this.LW=[];this.SQ=[];this.No=[];this.KIa={};this.q0={};this.lta=l.rO.default;this.vkb=new A.BA({ot:this,source:"engine",mC:10,console:M});}Object.defineProperties(N.prototype,{At:{get:function(){u.assert(this.fx);return this.fx;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{X0a:{get:function(){return this.SQ;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{zC:{get:function(){return this.No.map(function(M){return M.Da;});},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{KNb:{get:function(){return this.No;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Ib:{get:function(){this.uH();return this.Nx.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Lm:{get:function(){this.uH();return this.Nx.Lm;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{kh:{get:function(){this.uH();return this.Nx.kh;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{KYb:{get:function(){return this.px.length;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{f1:{get:function(){return this.KIa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{kH:{get:function(){return this.q0;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{kJb:{get:function(){return this.iKa || (this.iKa=this.qob());},enumerable:!1,configurable:!0}});N.prototype.open=function(M,P,S,ea){var qa;qa=this;if(this.Jc === l.Kr.OPEN)return !1;this.I=M;this.zo=new D.WP(new E.QZ({sk:!0,currentTime:function(){return F.S.mb(C.default.time.ba());},speed:1}),this.H,"Engine Scheduler");this.DJa=new d.jza(this.H,M);this.TA=new q.bGa(this.W4.bind(this),M,this.zo);this.Nx=g.YH.wUa(M,P);this.Jc=l.Kr.OPEN;M=Object.create(M,{Vlb:{value:M.qG || M.Fq}});this.fx=R.ET(M);S && this.fx.WSb(S);ea && this.fx.zsa(ea);this.Z0a=new I.lFa({Dl:function(){qa.Jc !== l.Kr.CLOSED && qa.TA.Dl("playgraphOpportunity");}});this.jKa=new K.yCa(function(){return qa.v3();},function(){return qa.w3().global;},this.H);this.itb();return !0;};N.prototype.HE=function(M,P,S,ea,qa){var wa,ua,X,sa;wa=this;void 0 === qa && (qa=!0);this.uH();ua=Object.create(S,{BN:{value:this.kH}});if(qa){X=this.At.zpb(M,ua);if(X)return (X.T6a(P),X);}sa=new n.rva(M,P,ua,N.pKb++,this.Ib,this.r7.bind(this,ea,S.NYb),function(O,T){var ma,ja;ja=ea.Is(O);O=null === (ma=t.wg(wa.px,function(Qa){return Qa.fS.equals(ja);})) || void 0 === ma?void 0:ma.O;return null === O || void 0 === O?void 0:O.Dm(ua,T);},function(O){return wa.TA.Dl(O);},qa?this.At.ypb.bind(this.At):function(){},this.v3.bind(this));sa.bi(new x.TGa(sa));sa.bi(new y.nHa(sa.vt));sa.cYa.bi(new H.wva(sa));this.ix.$M.forEach(function(O){return sa.bi(O);});this.Z0a.HE(sa);M=new f.xh();M.on(sa.events,"requestsPruned",this.ZQb.bind(this));M.on(sa.events,"weightUpdated",this.xpa.bind(this));M.on(sa.events,"underflow",this.Lj.bind(this,sa));this.No.push({Da:sa,Ag:M,aW:0});this.xpa();return sa;};N.prototype.Lj=function(M){M=this.jKa.Eyb(M);(null === M || void 0 === M?0:M.d2) || this.At.reset();};N.prototype.It=function(M){this.Z0a.It(M);this.No=this.No.filter(function(P){return P.Da === M?(P.Ag.clear(),!1):!0;});M.Ab();this.xpa();};N.prototype.ULa=function(M,P){var S,ea,qa;this.uH();qa=P.Fd;M=new k.qva(M,void 0 === qa?[0,1]:qa,c.__assign({BN:null !== (ea=null !== (S=P.BN) && void 0 !== S?S:this.q0) && void 0 !== ea?ea:{}},P));this.SQ.push(M);return M;};N.prototype.XM=function(M){this.uH();this.SQ=this.SQ.filter(function(P){return P !== M;});M.Ab();};N.prototype.ssa=function(M,P){this.KIa=M;this.q0=P;this.iKa=void 0;};N.prototype.KC=function(M,P){var S,ea;ea=null === (S=t.wg(this.px,function(qa){return qa.fS.equals(M);})) || void 0 === S?void 0:S.O;ea?ea.KC(c.__assign(c.__assign({},P),{Mm:this.Soa.bind(this)})):this.LW.push({A7a:M,r4a:P});};N.prototype.kra=function(M){this.LW=this.LW.filter(function(P){return !P.A7a.equals(M);});};N.prototype.close=function(){this.Jc !== l.Kr.CLOSED && (this.nQb(),u.assert(0 === this.px.length,"Unexpected viewable lease after Playgraph destruction."),this.mQb(),this.LW=[],delete this.Nx,this.Jc=l.Kr.CLOSED,this.zo.Ab());};N.prototype.dTb=function(M){this.lta=M;this.TA.Dl("streamingModeChanged");};N.prototype.Rn=function(){return this.ix.Rn();};N.prototype.itb=function(){this.ix=new L.Dba(this.I);this.ix.bi(new G.Bya(this));this.ix.bi(new B.dGa(this.Ib,this.TA));this.ix.bi(new w.xya(this.Ib));this.ix.bi(new z.AA(this.vkb));this.ix.bi(new z.AA(this.TA.$n));this.ix.bi(new z.AA(this.DJa.Ph));this.ix.bi(new z.AA(this.jKa.Ph));};N.prototype.Soa=function(){};N.prototype.r7=function(M,P,S){var ea,qa,wa;ea=this;qa=M.Is(S);u.assert(qa,"ase.requestViewable(): Viewable config not found.");wa=t.wg(this.px,function(ua){return !0 !== ua.fS.AB && ua.fS.equals(qa);});wa?wa.IX.then(function(ua){return c.__awaiter(ea,void 0,void 0,function(){var X,sa;return c.__generator(this,function(O){switch(O.label){case 0:return (sa=(X=ua).JXb,[4,qa.Ir]);case 1:return (sa.apply(X,[O.$d()]),[2]);}});});}):(wa={fS:qa,IX:(function(){return c.__awaiter(ea,void 0,void 0,function(){var ua,X;return c.__generator(this,function(sa){switch(sa.label){case 0:return [4,qa.Ir];case 1:return (ua=sa.$d(),X=this.nS(S,qa,ua),wa.O=X,[2,X]);}});});})(),O:void 0,RGb:new v.IAa(function(ua){ua() && wa.fS.AB?ea.ora(wa):ea.zo.rK(D.mj.ZC(F.S.mb(P)),function(){ua() && ea.ora(wa);},"viewable cleanup");},F.dr(C.default,this.H,"" + S))},this.px.push(wa));return {get O() {return null === wa || void 0 === wa?void 0:wa.O;},IX:wa.IX,dna:wa.RGb.qx()};};N.prototype.ora=function(M){var P,S;u.assert(M,"expected viewableEntry to exist");P=M.O;S=M.IX;P?P.Ab():S.then(function(ea){ea.Ab();});this.px=this.px.filter(function(ea){return ea !== M;});};N.prototype.nS=function(M,P,S){var qa,wa,ua,X,sa,O;function ea(T){qa.events.emit("logdata",T);}qa=this;this.uH();ua=S.sa;X=S.Hi;sa=S.Fd;sa=void 0 === sa?h.ff:sa;S=S.config;O=[new p.waa(0),new p.waa(1)];ua={sa:ua,config:S,Hi:X,Fd:sa,a3:void 0,Ib:this.Nx.Ib,kh:this.Nx.kh,KRa:{ML:function(){return !1;},Wq:function(){return qa.TA.Dl("networkFailureReset");},qh:this.qh.bind(this,M),Jm:this.Jm.bind(this,M),Nm:ea},KVa:{Nm:ea,JT:void 0,GB:function(T){return O[T];},G4:function(){return !0;},pf:void 0,nl:void 0,Og:void 0,RB:void 0},eN:{sx:this.sx.bind(this),LG:this.LG.bind(this)},kH:this.q0,Gb:0,ko:void 0,gZa:{nma:!1,aXa:!1},hV:function(){}};M=new m.Q9(M,ua);S.fy && (ua=(null === (wa=t.wg(this.LW,function(T){return T.A7a.equals(P);})) || void 0 === wa?void 0:wa.r4a) || ({}),this.kra(P),M.KC(c.__assign(c.__assign({},ua),{Mm:this.Soa.bind(this)})));return M;};N.prototype.W4=function(){var M,P;u.assert(this.state === l.Kr.OPEN);M=this.w3();P=this.sL();return this.DJa.L_a(M,P);};N.prototype.sL=function(){var M,P,S;M=this;S=null !== (P=this.I.iOb) && void 0 !== P?P:this.No.every(function(ea){return !ea.Da.W3;});P=t.flatten(this.No.map(function(ea){return ea.Da.sL().map(function(qa){ea.Da.W3 || 1 === ea.aW || (qa.IF=ea.aW);return qa;});}));this.lta === l.rO.disabled?P=[]:this.lta === l.rO.WHb && (P=P.filter(function(ea){return F.S.mb(M.I.Sna).Un(ea.bj.Aa(ea.vd));}));S || (S=P.filter(function(ea){var qa;return 1 === (null !== (qa=ea.IF) && void 0 !== qa?qa:1);}),S.length && (P=S));S=this.px.reduce(function(ea,qa){return qa.O?c.__spread(ea,qa.O.sL()):ea;},[]);return t.flatten(c.__spread(P,S));};N.prototype.uH=function(){if(this.Jc === l.Kr.CLOSED)throw Error("Engine CLOSED");};N.prototype.nQb=function(){var M,ea;try{for(var P=c.__values(this.No),S=P.next();!S.done;S=P.next()){ea=S.value;ea.Ag.clear();this.It(ea.Da);}}catch(wa){var qa;qa={error:wa};}finally{try{S && !S.done && (M=P.return) && M.call(P);}finally{if(qa)throw qa.error;}}};N.prototype.mQb=function(){var M;try{for(var P=c.__values(this.SQ),S=P.next();!S.done;S=P.next()){this.XM(S.value);}}catch(qa){var ea;ea={error:qa};}finally{try{S && !S.done && (M=P.return) && M.call(P);}finally{if(ea)throw ea.error;}}};N.prototype.qh=function(M,P,S,ea,qa,wa){this.CUa(M).forEach(function(ua){return ua.qh(P,M,S,ea,qa,wa);});};N.prototype.Jm=function(M){return this.CUa(M).some(function(P){return P.Jm();});};N.prototype.CUa=function(M){return this.No.filter(function(P){P=P.Da.Da;return "" + M === "" + P.wa[P.Te].$;}).map(function(P){return P.Da;});};N.prototype.w3=function(){var M;M=new J.hza();this.No.forEach(function(P){var S,ea;S=P.Da;P=P.aW;ea=S.w3();ea.IF=P;M.add(S.id,ea);});return M;};N.prototype.v3=function(){return this.kJb;};N.prototype.qob=function(){var M,P;P=Q.YNa(this.I,this.f1);return {total:(M={},M[1]=this.f1.video || Infinity,M[0]=this.f1.audio || Infinity,M.total=this.f1.total || Infinity,M),ata:P};};N.prototype.sx=function(M){this.TA.sx(M);};N.prototype.LG=function(M){this.TA.LG(M);};N.prototype.xpa=function(){var M;M=this.zC.reduce(function(P,S){return Math.max(S.weight,0) + P;},0);this.No.forEach(function(P){P.aW=0 >= P.Da.weight?0:P.Da.weight / M;});};N.prototype.ZQb=function(){};N.pKb=0;c.__decorate([A.Rb({methodName:"open"})],N.prototype,"open",null);c.__decorate([A.Rb({methodName:"addPlaygraph",context:function(M){var P,S;return {playgraphCount:null !== (S=null === (P=M.A_a.No) || void 0 === P?void 0:P.length) && void 0 !== S?S:0};}})],N.prototype,"HE",null);c.__decorate([A.Rb({methodName:"removePlaygraph",context:function(M){return {playgraphCount:M.A_a.No.length};}})],N.prototype,"It",null);c.__decorate([A.Rb({methodName:"close"})],N.prototype,"close",null);c.__decorate([A.Rb({methodName:"setStreamingMode",Gq:!0})],N.prototype,"dTb",null);c.__decorate([A.Rb({methodName:"notifyAseException",Gq:!0})],N.prototype,"Soa",null);c.__decorate([A.Rb({methodName:"requestViewable"})],N.prototype,"r7",null);c.__decorate([A.Rb({methodName:"removeViewable"})],N.prototype,"ora",null);c.__decorate([A.Rb({methodName:"createViewable"})],N.prototype,"nS",null);c.__decorate([A.Rb({methodName:"issueRequestOpportunity",Hl:!0,return:!0})],N.prototype,"W4",null);c.__decorate([A.Rb({methodName:"reportStreamingFailure",Gq:!0})],N.prototype,"qh",null);return N;})();b.Yua=r;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p){return q.filter(function(t){return t.groupId === p.groupId;}).reduce(m.wZa(function(t){return t.hz.V;}),p).hz;}Object.defineProperties(b,{__esModule:{value:!0}});b.jza=void 0;f=a(2);l=a(219);m=a(30);d=a(15);g=a(9);h=a(114);k=f.__importDefault(a(5));n=a(432);r=(function(){function q(p,t){this.H=p;this.config=t;this.JXa=0;this.Ph=new h.BA({mC:10,ot:this,source:"GraphStreamingProcess"});}q.prototype.L_a=function(p,t){var u,v,w,x,y,A,z,B,F,C,G,J,K;w=!1;x=[];if(0 < t.length){y=this.dUb(t);A=y.some(function(L){return 1 === n.$Na(L) && d.Zq(L.jf);});z=y.slice();B=[!1,!1];try{for(var D=f.__values(y),E=D.next();!E.done;E=D.next()){F=E.value;if(F.VF && "global" !== B[F.mediaType]){C=F.lXa(p,null !== (v=F.IF) && void 0 !== v?v:1);G=l.S1a(C.reason);G && (B[F.mediaType]=G,m.LMa(z,F));if(C.result){J=c(z,F);if(this.npb(F,A,J)){K=F.pXa();this.qna(x,F,K.reason);K.Ep && (this.JXa=k.default.time.ba());if(w=K.Ep)break;}else if((this.qna(x,F,"concurrencyCheck"),!G))break;}else this.qna(x,F,C.reason);}}}catch(L){var H;H={error:L};}finally{try{E && !E.done && (u=D.return) && u.call(D);}finally{if(H)throw H.error;}}}this.Ph.Pu({streamableCount:t.length,streamableReasons:x,lastSuccessfulIssueRequestMs:this.JXa});return w;};q.prototype.dUb=function(p){return this.GOb(p).sort(function(t,u){return t.priority - u.priority;}).map(function(t){return t.LUb;});};q.prototype.GOb=function(p){var t;t=this;return p.map(function(u){return {priority:-n.ZNa(t.config,u,t.H),LUb:u};});};q.prototype.qna=function(p,t,u){this.Ph.enabled && p.push(this.rCb(u,t));};q.prototype.rCb=function(p,t){return {mediaType:t.mediaType,reason:p,bufferingState:t.jf,currentPlayerMs:t.vd.V,pathCompletePlayerMs:t.hz.V,streamingPlayerMs:t.bj.V};};q.prototype.npb=function(p,t,u){return this.config.UR && (t || d.Zq(p.jf))?this.opb(p,u):this.ppb(p,u);};q.prototype.qpb=function(p){return p.bj.uv(p.hz);};q.prototype.ppb=function(p,t){var u;u=p.hz.Aa(p.vd).V;u=Math.max(this.config.voa,Math.min(u * this.config.ita,this.config.OIb));t=p.vd.greaterThan(t)?p.vd:t;return p.bj.Aa(t).V <= u;};q.prototype.opb=function(p,t){var u,v;if(void 0 === this.config.UR)return !0;u=g.S.mb(this.config.UR);v=p.vd.add(u);return p.bj.uv(v)?!0:this.qpb(p) && t.Un(v) && p.bj.Aa(t).lessThan(u);};f.__decorate([h.Rb({methodName:"onRequestOpportunity",Hl:!0})],q.prototype,"L_a",null);return q;})();b.jza=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.qva=void 0;c=a(2);f=a(16);l=a(9);m=a(6);d=c.__importDefault(a(5));g=a(67);h=a(30);k=a(935);r=a(433);n=a(937);a=(function(q){function p(t,u,v){var w;w=q.call(this) || this;w.T=t;w.Fd=u;w.Iu=v;w.HS=[];w.Vca=new f.xh();w.H=new d.default.Console("ASEJS","media|asejs");w.Vca.on(w.T,"underflow",function(){return w.Lj();});w.kQ=new n.VEa(t);w.Vca.on(w.T,"skipped",function(){return w.oV();});w.ex=new g.WP(w.kQ,w.H,"player");w.Lua=new l.RZ();return w;}c.__extends(p,q);Object.defineProperties(p.prototype,{ew:{get:function(){var t;return null === (t=this.fh) || void 0 === t?void 0:t.ew;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vt:{get:function(){return this.ex;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cb:{get:function(){var t,u;return null !== (u=null === (t=this.fh) || void 0 === t?void 0:t.oy()) && void 0 !== u?u:[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{pa:{get:function(){var t;return null === (t=this.fh) || void 0 === t?void 0:t.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xa:{get:function(){return this.kQ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jz:{get:function(){var t;return !(null === (t=this.fh) || void 0 === t || !t.Jz);},enumerable:!1,configurable:!0}});p.prototype.EW=function(t){-1 === this.HS.indexOf(t) && this.HS.push(t);this.fh && this.fh.mV(t);this.events.emit("drmReady",{viewableId:t});};p.prototype.usa=function(t){t=this.HS.indexOf(t);-1 !== t && this.HS.splice(t,1);};p.prototype.Yn=function(t){var u;return -1 !== this.HS.indexOf(t) || !(null === (u=h.wg(this.Cb,function(v){return v.O.$ === t;})) || void 0 === u || !u.O.Hi);};p.prototype.reset=function(){var t;this.Lua=new l.RZ();q.prototype.reset.call(this);this.mE=void 0;null === (t=this.fh) || void 0 === t?void 0:t.reset();};p.prototype.nW=function(t){var u;q.prototype.nW.call(this,t);null === (u=this.fh) || void 0 === u?void 0:u.nW(t);};p.prototype.UE=function(){var t;null === (t=this.fh) || void 0 === t?void 0:t.UE();};p.prototype.pause=function(t){this.nH(t);q.prototype.pause.call(this,null !== t && void 0 !== t?t:this.Fd);};p.prototype.resume=function(t){var u;null === (u=this.fh) || void 0 === u?void 0:u.resume(t);q.prototype.resume.call(this,null !== t && void 0 !== t?t:this.Fd);};p.prototype.Ab=function(){this.$r=this.X3()?this.Tn():void 0;this.fh && this.$ha(this.fh.pa);this.kQ.Ab();this.ex.Ab();this.Vca.clear();q.prototype.Ab.call(this);};p.prototype.iL=function(){var t,u;if(null === (t=this.fh) || void 0 === t?0:t.FOb){t=this.T.wc;if(this.xa.sk){if(this.mE){if(this.mE.greaterThan(t))return (t=this.mE.Aa(t),this.Lua.push(t.V),this.mE);if(this.Cb.length){u=this.fh.PGb;if(u && u.lessThan(t))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Vb:{clockdrift:{type:"count"}}}),this.mE);}}this.mE=t;}return t;}return q.prototype.iL.call(this);};p.prototype.zp=function(){var t;t=this.T.playbackRate;void 0 === t && (t=q.prototype.zp.call(this));return t;};p.prototype.X3=function(){return ! !this.$r || 0 < this.Cb.length;};p.prototype.Tn=function(){if(this.$r)return this.$r;m.assert(0 < this.Cb.length,"Could not find presenting branch. Player has no branches.");return this.Mh;};p.prototype.$ha=function(t){var u;m.assert(t === this.pa);null === (u=this.fh) || void 0 === u?void 0:u.Ab();this.fh=void 0;};p.prototype.W0=function(t,u){this.$r=void 0;if(u=q.prototype.W0.call(this,t,u))(this.fh=new k.Fva(t,this,this.H,t.config,this.Iu,this.events,this.Fd,this.ex,this.NA,this.MA),this.nH(this.CM));return u;};p.prototype.Eia=function(){var v;for(var t=[],u=0;u < arguments.length;u++){t[u]=arguments[u];}v=this.fh;m.assert(v);t.forEach(function(w){return v.Lwb(w);});};p.prototype.ci=function(t){var u,v,w;if(!this.fh)return !1;u=this.c3(t);if(!u)return !1;v=u.P;w=l.S.mb(this.Iu.oC);return v.Kl.Aa(w).lessThan(t) || !u.hS(t)?!1:this.fh.ci(t);};p.prototype.Lj=function(){var t,u,v;u=this.vd;m.assert(this.pa);v=this.kr(u);m.assert(v);null === (t=this.fh) || void 0 === t?void 0:t.Lj();t=this.c3(u);null === t || void 0 === t?void 0:t.O.Lj();this.pa.Lj(v);};p.prototype.oV=function(){this.mE=void 0;};p.prototype.Oja=function(){var t;return null === (t=this.fh) || void 0 === t?void 0:t.Oja();};p.prototype.nH=function(t){var u;null === (u=this.fh) || void 0 === u?void 0:u.nH(t);};p.prototype.Nta=function(t){m.assert(this.pa && this.fh);return q.prototype.Nta.call(this,t);};return p;})(r.pba);b.qva=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Fva=void 0;c=a(2);f=a(420);l=c.__importDefault(a(5));m=a(248);a(15);d=a(243);g=a(9);h=a(30);k=a(67);n=a(221);q=a(6);p=a(936);r=(function(){function t(u,v,w,x,y,A,z,B,D,E){var F;F=this;this.pa=u;this.T=v;this.H=w;this.I=x;this.Iu=y;this.zh=A;this.Fd=z;this.vt=B;this.NA=D;this.MA=E;this.h_=!1;this.qJa=new g.HGa();this.Lda=this.kLb.bind(this);this.Ci=new m.cY(this.H);this.ew=new p.HHa(this.H,u);this.Zsb(this.ew);this.Lk && (this.qjb=this.Nja(this.NBb()),this.Vhb=g.sq.Kua(this.Lk.map(function(C){return C.$y;}),function(C){return C.every(function(G){return G;});},function(C){return F.NA.set(C);}),this.Wfb=new n.Haa(this.Lk.map(function(C){return C.oU;}),function(C){return g.S.min.apply(g.S,c.__spread(C));},function(C){F.MA.set(C);},g.S.mb(-Infinity)));this.Oo=B.sB(function(){return F.Lnb();},"branchPruner");}t.prototype.Lnb=function(){var u,v,w,x,y,A,z;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.Ci.TOa)return [3,2];u=c.__read(this.Ci.B8(),1);v=u[0];w=null !== (z=null === (A=this.Iu.BN) || void 0 === A?void 0:A.V) && void 0 !== z?z:0;x=v.cna || v.rf;y=x.add(g.S.mb(w + 1E3));return [4,k.mj.fO(y)];case 1:return (B.$d(),this.Ci.remove(v),v.events.removeListener("branchEdited",this.Lda),v.Df(),[3,0]);case 2:return [2];}});};Object.defineProperties(t.prototype,{FOb:{get:function(){var u;return !(null === (u=this.qjb) || void 0 === u || !u.$y.value);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Jz:{get:function(){var u;return !(null === (u=this.Lk[0]) || void 0 === u || !u.Jz);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{PGb:{get:function(){return this.h_?g.S.max.apply(g.S,c.__spread(this.Lk.map(function(u){var v;return null === (v=u.Gmb) || void 0 === v?void 0:v.EXa;}).filter(h.n6))):void 0;},enumerable:!1,configurable:!0}});t.prototype.kLb=function(){var u;this.Oo.ml();u=this.Lk.filter(function(v){return v.eFb;}).map(function(v){return v.mediaType;});this.nH(u);this.resume(u);};t.prototype.Lwb=function(u){q.assert(-1 === this.Ci.B8().indexOf(u),"Branch " + u.P.id + " is already in the collection, cannot re-queue");u.events.addListener("branchEdited",this.Lda);this.Ci.enqueue(u);this.Oo.state === k.sl.complete && this.Oo.ml();u.P.Vt && this.Ci.u2();this.h_ || this.eyb(u);};t.prototype.mV=function(u){this.Lk.forEach(function(v){v.mV(u);});};t.prototype.reset=function(){this.Lk.forEach(function(u){u.reset();});this.h_=!1;this.qJa.removeAllListeners();this.UE();};t.prototype.nW=function(u){u=this.Nja(u);null === u || void 0 === u?void 0:u.reset();};t.prototype.UE=function(){var u;u=this;this.Ci.B8().forEach(function(v){return v.events.removeListener("branchEdited",u.Lda);});this.Ci.clear();this.Oo.ml();};t.prototype.resume=function(u){this.Lk.forEach(function(v){void 0 !== u && -1 === u.indexOf(v.mediaType) || v.resume();});};t.prototype.nH=function(u){this.Lk.forEach(function(v){return (void 0 === u || -1 !== u.indexOf(v.mediaType)) && v.stop();});};t.prototype.Lj=function(){this.H.trace("attached-player: onUnderflow");};t.prototype.QUa=function(){return this.Ci.getIterator();};t.prototype.JAb=function(){return this.oy()[0];};t.prototype.oy=function(){return this.Ci.B8();};t.prototype.Zsb=function(u){var v,w;v=this;this.xl("createMediaSourceStart");if(this.Iu.CT)w=this.Iu.CT();else (w=new l.default.MediaSource(this.T.T),w.Yb || (w.Yb=l.default.MediaSource.Yb));if(1 !== w.readyState)this.Po("exception in init","NFErr_MC_StreamingInitFailure");else {this.xl("createMediaSourceEnd");this.Bf=w;if(!w.K0(this.Fd))throw (this.H.trace("Error:",w.error),this.Po("error creating source buffers","NFErr_MC_StreamingInitFailure"),w.error);this.Lk=w.sourceBuffers.filter(function(x){return 0 <= v.Fd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.a$(v.H,x.mediaType,w,x,v.I,!0,{Ce:function(){return v.T.vd.V;},Yn:function(A){return v.T.Yn(A.$);}},v.vt);y.addListener("error",function(A){return v.Po(A.errorstr);});y.addListener("logdata",function(A){return v.zh.emit("logdata",A);});return new f.P9(y,x.mediaType,v,v.I,v.H,v.T,v.Iu,v.vt,u);});}};t.prototype.Ab=function(){this.Vhb.clear();this.Wfb.clear();this.Lk.forEach(function(u){return u.Ab();});this.Iu.CT || this.Bf.kp();this.UE();this.Oo.Ab();};t.prototype.ci=function(u){return this.Lk.every(function(v){return v.ci(u);});};t.prototype.Oja=function(){return {rPb:this.oy(),ENb:this.Lk};};t.prototype.eyb=function(u){var v;v=this;this.h_=!0;u.Qh.forEach(function(w){var x;x=v.Nja(w.mediaType);if(void 0 !== x)v.qJa.once(w.mja,function(y){return x.fyb(y);});});if(u.Nc)this.gRa();else u.events.once("branchNormalized",function(){return v.gRa();});};t.prototype.gRa=function(){var u;u=this.JAb();u && (q.assert(u.Ui),this.zh.emit("ptsChanged",{initialTimestamp:u.Ui}));};t.prototype.Nja=function(u){return h.wg(this.Lk,function(v){return v.mediaType === u;});};t.prototype.NBb=function(){return -1 !== this.Fd.indexOf(1)?1:0;};t.prototype.xl=function(u){u={type:"startEvent",event:u,time:l.default.time.ba()};this.zh.emit(u.type,u);};t.prototype.Po=function(u,v){this.pa.qh(u,void 0,v);};return t;})();b.Fva=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HHa=void 0;c=a(2).__importDefault(a(5));f=a(37);r=(function(){function l(m,d){this.H=m;this.CJ=d;}l.prototype.NC=function(m,d,g,h,k){var n,q;void 0 === k && (k=!1);n=m.P;q=this.chb(n);this.iR={startTime:c.default.time.ba(),gUb:m,fUb:g.V,Jvb:d,ae:this.YAb(h,d),BWb:this.yCb(h,k),Tha:k,He:h,pOa:q,oKb:this.qBb(n,g)};};l.prototype.tka=function(m){var d,g,h,k,n,q,p,t,u,v,w,x,y;if(this.iR && 0 !== Object.keys(this.iR.pOa).length && m === this.iR.Jvb){d=this.iR;g=d.pOa;h=d.oKb;k=d.Tha;n=d.He;q=d.gUb;p=d.fUb;t=d.startTime;u=d.ae;d=d.BWb;this.iR=void 0;v=this.cda(m).Mq;w=this.gzb(q.P.id,m,g);v=this.aKa(w.weight,v);x={};for(y in g){y !== m && (x[y]=g[y].details);}g=c.default.time.ba() - t;return {segment:m,srcsegment:q.P.id,srcsegmentduration:q.G8.V,srcoffset:this.mCb(q,p,n,k),seamlessRequested:n,atRequest:w,atTransition:v,discard:x,transitionType:u,transitionTypeAtRequest:d,delayToTransition:this.Wzb(g,n,k),durationOfTransition:n?0:g,nextExitPositionAtRequest:h};}};l.prototype.gzb=function(m,d,g){var h,k,n;n={};(g=g[d])?n=g.details:(f.assert(this.CJ),n.weight=null === (k=null === (h=this.CJ.Da.wa[m].next) || void 0 === h?void 0:h[d]) || void 0 === k?void 0:k.weight);return n;};l.prototype.Wzb=function(m,d,g){var h;g || (h=d?m:0);return h;};l.prototype.qBb=function(m,d){var g,h,k;h=m.Vg.add(d);null === (g=m.Uv) || void 0 === g?void 0:g.some(function(n){h.lessThan(n.Nc) && (k=n.Nc.V);});return k;};l.prototype.mCb=function(m,d,g,h){return g || h?m.G8.V:d;};l.prototype.YAb=function(m,d){return m?"seamless":this.cda(d).QT?"reset":"long";};l.prototype.yCb=function(m,d){return m || d?"lazy":"immediate";};l.prototype.chb=function(m){var d,g;d=this;g={};m.cz.forEach(function(h){var k,n;k=m.rKb[h];n=d.cda(h).Mq;g[h]={details:d.aKa(k,n)};});return g;};l.prototype.cda=function(m){var d,g;m=this.CJ.Rja(m);d=0 < m.length?m[0]:void 0;m=null === d || void 0 === d?void 0:d.wF();if(!m)return {QT:!1,Mq:{xo:0,gs:0,Tz:0,rR:0}};g=d && d.Sa(0) && 0 === m.gs;d=d && d.Sa(1) && 0 === m.xo;return {QT:!g && !d,Mq:m};};l.prototype.aKa=function(m,d){return {weight:m,vbuflmsec:d.xo,abuflmsec:d.gs,vbuflbytes:d.Tz,abuflbytes:d.rR};};return l;})();b.HHa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VEa=void 0;c=a(16);r=a(43);a=(function(){function f(l){var m;m=this;this.T=l;this.rda=!1;this.gE=new c.xh();this.gE.on(l,"paused",function(){return m.B6();});this.gE.on(l,"playing",function(){return m.B6(!0);});this.gE.on(l,"underflow",function(){return m.B6();});this.gE.on(l,"skipped",function(){return m.oV();});this.gE.on(l,"clockAdjusted",function(){return m.lV();});this.gE.on(l,"playbackRateChanged",function(){return m.FLb();});}Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.gLa || this.T.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sk:{get:function(){return this.rda;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var l;return null !== (l=this.T.playbackRate) && void 0 !== l?l:1;},enumerable:!1,configurable:!0}});f.prototype.B6=function(l){void 0 === l && (l=!1);l !== this.rda && (this.gLa=(this.rda=l)?void 0:this.T.wc);this.emit("stopStart",{type:"stopStart"});};f.prototype.oV=function(){this.gLa=void 0;this.lV();};f.prototype.lV=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};f.prototype.FLb=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.Ab=function(){this.B6();this.gE.clear();};return f;})();b.VEa=a;r.wf(c.EventEmitter,a);},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa;Object.defineProperties(b,{__esModule:{value:!0}});b.rva=void 0;c=a(2);f=a(16);l=a(222);m=a(15);d=a(939);g=a(9);h=a(940);k=a(941);n=c.__importDefault(a(5));q=a(6);p=a(942);t=a(30);u=a(67);v=a(95);w=a(53);x=a(434);y=a(256);A=a(257);z=a(943);B=a(114);D=c.__importDefault(a(146));E=a(944);F=a(945);C=a(946);G=a(947);J=a(948);K=a(949);H=a(950);L=a(953);R=a(955);I=a(956);Q=a(957);N=a(958);M=a(959);P=a(961);S=a(962);ea=a(963);qa=a(964);wa=a(965);r=(function(){function ua(X,sa,O,T,ma,ja,Qa,Fa,Wa,Xa){var db;db=this;this.CJ=X;this.zLa=sa;this.config=O;this.id=T;this.Qjb=ja;this.Wgb=Qa;this.Dl=Fa;this.Apb=Wa;this.KE="2.0";this.Jc=l.Fk.CLOSED;this.ada=!0;this.XJ=!1;this.zNa=new f.xh();this.yB=0;this.i8=!1;this.vC=function(Za){var kb,Ya;Za=db.navigator.De(Za.position.va);if((Za=db.xka(Za)) && db.T.Vn){Ya=db.T.Mh;null === (kb=db.T.ew) || void 0 === kb?void 0:kb.NC({P:Ya.P,get G8() {return Ya.Nd.Aa(Ya.P.Vg);}},Za,db.Ki.offset,!0,!1);}db.fp.start();};this.mV=function(){db.Dl("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Ph=new B.BA({mC:10,ot:this,source:"AsePlaygraph"});this.T3a(X);this.Cb=new L.$Ea();this.ei=new qa.bFa(this.console);this.events=new f.EventEmitter();this.jla=new G.iza(this.config,g.S.mb(this.config.A5),{parent:this.UUa.bind(this)},this.events,this.console);this.kta=new k.cHa(this.console,this.events);this.SR={NF:O.ft || Infinity};this.T=new p.cba(this);this.vt=new u.WP(this.T.xa,this.console,"playgraph");this.zo=new u.WP(new y.QZ({sk:!0,currentTime:function(){return g.S.mb(n.default.time.ba());},speed:1}),this.console,"wallclock");this.Cf=new R.gwa(this.console,O,ma,this.events,this,this.zo);this.c1=new N.$va(this.vt,this.zo,this.config,this.Ak.bind(this),this.jf,this.console);this.t6=this.Cf.t6.bind(this.Cf);this.pV=this.Cf.pV.bind(this.Cf);this.C6=this.Cf.C6.bind(this.Cf);this.K7=this.K7.bind(this);this.aN=new w.Dba(O);S.tPa({Cf:this.Cf,zo:this.zo},u.mj.ZC(g.S.mb(this.config.jz)),function(){db.T.Vn && db.T.Mh && (db.Cf.state.value === m.zc.Af || db.Cf.state.value === m.zc.$c) && db.jE(db.T.Mh);},"buffering");this.aN.bi(new A.AA(this.Cf.Ph));this.aN.bi(new z.vEa(this.EBb.bind(this)));this.aN.bi(new A.AA(this.Ph));this.aN.bi(new E.ZEa(this.Cb));this.b5a=new ea.bHa(this,this.console,Xa);this.cYa=new F.oBa(this.zo,this.console,this.events);this.fp=new wa.dFa(this.m7.bind(this));}Object.defineProperties(ua.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{W3:{get:function(){return !(this.T instanceof p.cba);},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Da:{get:function(){return this.CJ;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{weight:{get:function(){return this.zLa;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{F7:{get:function(){q.assert(this.AL,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Ro.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{l3a:{get:function(){q.assert(this.AL,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.OB(this.F7).aF;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{jf:{get:function(){return this.Cf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{cf:{get:function(){return this.Cf.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{AL:{get:function(){return void 0 !== this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Ki:{get:function(){return this.T.Vn?this.T.Ki:this.F7;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{vd:{get:function(){return this.T.Vn?this.T.vd:this.l3a;},enumerable:!1,configurable:!0}});ua.prototype.open=function(){this.ada=!0;this.events.emit("openComplete");if(this.Jc !== l.Fk.CLOSED)return !1;this.Jc=l.Fk.OPEN;return !0;};ua.prototype.Ab=function(){this.zo.Ab();this.vt.Ab();this.Jc !== l.Fk.CLOSED && (this.Df(),this.fp.Ab(),this.Cf.stop(),this.Jc=l.Fk.CLOSED);};ua.prototype.Yv=function(X,sa){var O,T,ma;O=this;this.cNa=X;this.y7a=sa;sa=I.ORa(this.Cb,this.K7.bind(this));X=sa.apb;sa=sa.Mnb;if(0 !== X.length && 1 === X.length && 0 === X[0]){T=this.Ki;this.T.pause(X);X.forEach(function(ja){return O.T.nW(ja);});ma=this.OB(T).aF;sa.forEach(function(ja){var Qa;Qa=ja.xb;Qa.Yv(ja.Qh,T.va === Qa.P.id?ma:void 0,void 0 !== O.Cb.Eka(Qa));});this.Cf.WLb(T,sa[0].Qh);this.T.resume(X);}};ua.prototype.cF=function(X){return v.cF(this.config,X);};ua.prototype.dF=function(X){return v.dF(this.config,X);};ua.prototype.mL=function(X,sa){var O,T;O=this.navigator.De(X);T=this.navigator.De(sa);return {q7a:O.rDb(sa),eK:sa !== X && this.Cb.has(sa) && this.Cb.oy(sa)[0].qk,Mc:T.Vg.V,mM:this.xka(O)};};ua.prototype.Ak=function(X,sa,O,T){var ma,ja,Qa,Fa;ma=this;void 0 === T && (T=!0);if(!sa)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(T && this.ei.get(X))O || this.ei.set(X,sa);else {Qa=this.Rja(X)[0];Fa=this.navigator.De(X);this.Ki.va === X && Qa && (null === (ja=this.T.ew) || void 0 === ja?void 0:ja.NC({P:Qa.P,get G8() {return Qa.Nd.Aa(Qa.P.Vg);}},sa,this.Ki.offset,T,O));T || (X={offset:g.S.ab,va:sa},this.Ro={position:X,qk:!0,z6a:X});O?this.ei.BSb(Fa.id,sa):this.ei.set(Fa.id,sa);this.fp.start();T && Fa.Uv && 0 < Fa.Uv.length && (q.assert(Qa),Qa.Wta(Fa.Uv) && this.Rja(sa).forEach(function(Wa){return ma.Rz(Qa,Wa);}));T || this.Cf.N_a(this.F7);}};ua.prototype.Rz=function(X,sa){var O;O=this;X=X.rf.Aa(sa.P.Vg);sa.Rz(X);this.Cb.Mzb(sa).forEach(function(T){return O.Rz(sa,T);});};ua.prototype.si=function(X){this.navigator.si(X);this.fp.start();};ua.prototype.Csa=function(X,sa){this.vfa=X;this.Wz=sa;this.Dl("setStreamFilters");};ua.prototype.YG=function(X,sa){var O,T,ma;if(C.iXa(this.Da,X)){ma=this.Tra(X);if(void 0 === ma)this.qh("Invalid seekPosition");else if(void 0 === this.cNa || void 0 === this.y7a)this.qh("No track selectors available");else if(this.W3 && this.T.zL || !C.nVa(null === (O=this.Ro) || void 0 === O?void 0:O.z6a,ma))(this.AL && (O=this.navigator.De(this.Ki.va),null === (T=this.T.ew) || void 0 === T?void 0:T.NC({P:O,G8:O.duration},ma.va,this.Ki.offset,!1),this.Ki.va === X.va?this.ei.Fpb(X.va):this.ei.Dga()),this.Df(!0),this.Epb(),this.Ro={position:ma,z6a:ma,qk:!1,HNb:sa},this.Cf.N_a(),this.Jc=l.Fk.Zj,this.fp.start());}else this.qh("Invalid seekPosition");};ua.prototype.Df=function(X){var sa,O,T;T=this.JCb();this.Cb.reset();if(!X && (this.ei.Dga(),T.length))try{for(var ma=c.__values(T),ja=ma.next();!ja.done;ja=ma.next()){ja.value.lQb();}}catch(Fa){var Qa;Qa={error:Fa};}finally{try{ja && !ja.done && (sa=ma.return) && sa.call(ma);}finally{if(Qa)throw Qa.error;}}this.vt.reset();this.zo.reset();this.T.reset();this.Ro=void 0;this.c1.reset();null === (O=this.zNa) || void 0 === O?void 0:O.clear();this.Jc === l.Fk.Zj && (this.Jc=l.Fk.OPEN);};ua.prototype.Rja=function(X){return this.Cb.oy(X);};ua.prototype.Lj=function(X){this.Cf.Lj(X);q.assert(this.T.YF,"Must have an appended branch on underflow");this.c1.Kta(this.T.YF,this.vd);this.Dl("onUnderflow");this.events.emit("underflow");};ua.prototype.bi=function(X){this.aN.bi(X);};ua.prototype.ofa=function(X){this.bi(new x.$Fa(X));this.Dmb(X);};ua.prototype.Dmb=function(X){this.T.Nta(X)?(this.T=X,this.vt.TMa(this.T.xa),this.T.events.on("segmentPresenting",this.vC),this.T.events.on("drmReady",this.mV)):this.qh("player in use");};ua.prototype.OB=function(X){var sa,O;sa=X.offset;O=this.navigator.De(X.va);X=O.$;sa=O.Vg.add(sa);return {$:X,aF:sa};};ua.prototype.kr=function(X,sa){var O;O=this.T.kr(X);if(void 0 !== O)return O;O=this.T.YF;return C.kr(X,{pa:this,IEb:O && ({id:O.P.id,XRb:O.IM})},sa);};ua.prototype.MT=function(X){return this.T.MT(X);};ua.prototype.Tra=function(X){var sa;sa=this.Da.wa[X.va];if(void 0 !== sa)return null === sa.Fc || void 0 === sa.Fc?{va:X.va,offset:g.S.max(g.S.ab,X.offset)}:{va:X.va,offset:g.S.max(g.S.ab,g.S.min(X.offset,g.S.mb(sa.Fc - sa.jc)))};};ua.prototype.Dm=function(X,sa){return this.Wgb(this.Da.wa[X].$,sa);};ua.prototype.w3=function(){return M.XSa(this.Cb,this.F4.bind(this));};ua.prototype.F4=function(X){X=this.Cb.Eka(X);return void 0 === X || X.Zo && this.F4(X);};ua.prototype.v3=function(){return this.SR.NF;};ua.prototype.kAb=function(X){return P.YUa(this.Cb,X);};ua.prototype.Ih=function(X){var sa,O,T;sa=this;this.Cb.hT(function(ma){var ja,Qa;ja=ma.G3(0);Qa=ma.G3(1);if(ma.P.Vt || !sa.Cb.nla(ma) || !ma.Zo){if(!O || ja < O)O=ja;if(!T || Qa < T)T=Qa;}return ma.Zo;});return {lX:O?Math.max(O - X.V,0):0,mX:T?Math.max(T - X.V,0):0};};ua.prototype.cL=function(){var X,sa,O,T;O=this.AL?this.Ih(this.vd):{lX:0,mX:0};T=D.default.instance().get();return {totalabuflmsecs:O.lX,totalvbuflmsecs:O.mX,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (sa=Number(0 < T.confidence) && (null === (X=T.Pa) || void 0 === X?void 0:X.Ca)) && void 0 !== sa?sa:0};};ua.prototype.sL=function(){var X,sa,O,T,ma,ja,Qa,Fa;X=this;if(this.Jm())return (this.Ph.Pu({isStreamingFailureReported:!0}),[]);O=this.Cb.size;this.Ph.Pu({branchCount:O});if(!this.AL || 0 === O)return [];T=this.vd;ma=this.Ki;ja=[];O=this.navigator.De(this.Ki.va);Qa=O.duration;Fa=this.ei.get(O.id)?1:null !== (sa=O.Cz) && void 0 !== sa?sa:1;sa=this.Cb.reduce(function(Wa,Xa,db){var Za,kb,za,Ia,Ma;try{for(var Ya=c.__values(Xa.ska()),Sa=Ya.next();!Sa.done;Sa=Ya.next()){za=Sa.value;if(!za.qv()){Ia="p" + X.id + "-" + db + "-" + (null === (kb=Xa.Ui) || void 0 === kb?void 0:kb.V);Ma=X.TUa(za);Wa.push(X.ktb(za,Ma,Ia,Qa,Fa,T,ma));}!za.VF() && X.Ph.enabled && ja.push({segmentId:za.va,isDoneStreaming:za.qv(),isNormalized:za.qk(),needsHeaderRequest:za.track.Doa});}}catch(hb){var Ta;Ta={error:hb};}finally{try{Sa && !Sa.done && (Za=Ya.return) && Za.call(Ya);}finally{if(Ta)throw Ta.error;}}return Wa;},[]);this.Ph.Pu({nonStreamables:ja});return sa;};ua.prototype.TUa=function(X){var sa;if(X.Hea)return X.Hea;sa=this.UUa(X);return !sa || this.config.p2 && this.navigator.pDb(sa.xb.P,X.va)?X.B1:this.TUa(sa);};ua.prototype.UUa=function(X){var sa;return null === (sa=this.Cb.Eka(X.xb)) || void 0 === sa?void 0:sa.DT(X.mediaType);};ua.prototype.YLb=function(X){var sa,O;if(!this.kta.Jm()){sa=void 0;O=this.T.Ki;O && (sa=this.navigator.De(O.va).$);this.qh("BufferingStateTracker: Temporary failure while buffering",sa,"NFErr_MC_StreamingFailure",null === X || void 0 === X?void 0:X.Mg,null === X || void 0 === X?void 0:X.KF,null === X || void 0 === X?void 0:X.Ri);}};ua.prototype.qh=function(X,sa,O,T,ma,ja){this.kta.qh(X,sa,O,T,ma,ja);};ua.prototype.rX=function(X,sa){sa=this.t3(sa);this.events.emit("logdata",{type:"logdata",target:X,fields:sa});};ua.prototype.t3=function(X){var sa;this.cYa.WGb(X);sa=this.aN.Rn(X);X === w.Ud.np && (X=this.cL(),sa.vbuflmsec=X.totalvbuflmsecs,sa.abuflmsec=X.totalabuflmsecs,sa.vbuflbytes=X.vbuflbytes,sa.abuflbytes=X.abuflbytes);return sa;};ua.prototype.F6a=function(X){this.SR=X;this.Dl("updateBudget");};ua.prototype.Jm=function(){return this.kta.Jm();};ua.prototype.T6a=function(X){X !== this.weight && (this.zLa=X,this.events.emit("weightUpdated"));};ua.prototype.vX=function(X){var sa,O,T,ma,ja,Wa,Xa,db,Za,kb,Ya,Sa,za,Ia,Ma;T=H.VNa(this.Da,X);ma=T.$ob;ja=T.XWb;if([T.Glb,T.YM,ma].every(function(hb){return !hb.length;}))return {W:!0,reason:m.Pw.zdb};if(0 === ma.length && 0 === ja.length)return {W:!1,reason:m.Pw.Lcb};try{for(var Qa=c.__values(ma),Fa=Qa.next();!Fa.done;Fa=Qa.next()){Wa=Fa.value;Xa=this.Da.wa[Wa];db=Xa.jc;Za=Xa.Fc;kb=Xa.$;Ya=X.wa[Wa];Sa=Ya.Fc;za=Ya.jc;Ia=Ya.$;if(this.Ki.va === Wa && Sa !== Za){if(!Sa)return {W:!1,reason:m.Pw.xeb};Ma=g.S.mb(Sa - za);if(null === (O=this.Ki.offset) || void 0 === O?0:O.greaterThan(Ma))return {W:!1,reason:m.Pw.a8a};}if(db !== za)return {W:!1,reason:m.Pw.lab};if(kb !== Ia)return {W:!1,reason:m.Pw.mab};}}catch(hb){var Ta;Ta={error:hb};}finally{try{Fa && !Fa.done && (sa=Qa.return) && sa.call(Qa);}finally{if(Ta)throw Ta.error;}}this.T3a(X);this.fp.start();return {W:!0,reason:m.Pw.ydb};};ua.prototype.T3a=function(X){this.CJ=X;this.navigator=new K.iFa(X);this.PCb=H.ePa(this.navigator);};ua.prototype.vpa=function(X,sa){this.r2a(X);X.PK.addListener("criticalNetworkError",this.t6);X.PK.addListener("temporaryNetworkError",this.pV);X.PK.addListener("updatingLastSuccessEvent",this.C6);this.Jc === l.Fk.Zj && sa && this.h3a();};ua.prototype.wpa=function(X){0 === this.Cb.filter(function(sa){return sa.UT && sa.O === X;}).length && this.r2a(X);};ua.prototype.r2a=function(X){X.PK.removeListener("criticalNetworkError",this.t6);X.PK.removeListener("temporaryNetworkError",this.pV);X.PK.removeListener("updatingLastSuccessEvent",this.C6);};ua.prototype.FLa=function(X){var sa;q.assert(X.qk,"expected branch to be normalized on addBranchToPlayer");this.T.zL || (null === (sa=this.Ro) || void 0 === sa?0:sa.qk) || this.dyb(X);this.Cf.T8(X.Qh);this.T.Eia(X);this.c1.Kta(X,this.vd);};ua.prototype.dyb=function(X){q.assert(X.Nc,"Normalized branch should have a defined content start timestamp");q.assert(this.Ro,"AsePlaygraph should have a seek position on first branch normalization");q.assert(!this.Ro.qk,"Seek position should not already be normalized on first branch normalization");this.Ro=c.__assign(c.__assign({},this.Ro),{position:{va:X.P.id,offset:X.Nc.Aa(X.P.Vg)},qk:!0});this.Cf.xSb(this.Ro.position,X.Qh.filter(function(sa){return 0 === sa.mediaType;})[0]);};ua.prototype.Epb=function(){var X;this.c1.reset();this.T.UE();this.Ro=void 0;null === (X=this.zNa) || void 0 === X?void 0:X.clear();};ua.prototype.ktb=function(X,sa,O,T,ma,ja,Qa){var Fa,Wa,Xa,db;Fa=this;Xa=null !== (Wa=X.xb.Ui) && void 0 !== Wa?Wa:X.xb.Fy;Wa=g.S.max(X.bj,Xa);db=this.ei.get(X.va)?1:X.xb.P.Cz;return {identifier:X.va,mediaType:X.mediaType,oh:X.oh,jf:this.jf.value,hz:sa,bj:Wa,vd:ja,WK:X.WK,qqa:Qa.offset,pqa:T,LV:ma,Cz:db,duration:X.xb.KS,c5a:Wa.Aa(Xa),VF:X.VF(),qv:X.qv(),groupId:O,lXa:function(Za,kb){Za=Fa.b5a.Job(Za,X.mediaType,1 > kb || !Fa.F4(X.xb));1 === kb && "global" === m.Tqa(Za.reason) && Fa.Cf.uLb(X.mediaType,Fa.Ih(Fa.vd));return Za;},pXa:function(){var Za,kb,Ya,Sa,za,Ia,Ma,Ta,hb;Sa=X.mediaType;za=Fa.jla.bSb(Fa.jf.value,Fa.vd,X.bj,Fa.T.playbackRate,X,0 === Sa?Fa.vfa:Fa.Wz,Fa.XJ);Ia=za.stream;Ma=za.FN;Ta=za.dSb;za=za.pt;if(!Ia)return {Ep:!1,reason:"selectLocationsAndStream"};if(Fa.jf.value === m.zc.Zj && X.xb && X.xb.O.ST && !X.xb.O.IU && !Fa.T.Yn(X.xb.O.$) && X.bj.V - Fa.vd.V > Fa.config.Sna)return {Ep:!1,reason:"maxBufferingCompleteBufferInMs"};hb=1;if(null === (Za=X.xb) || void 0 === Za?0:Za.Qh.every(function(wb){return 0 === wb.mediaType;}))hb=0;Fa.Cf.Sf && Sa === hb && Fa.Cf.JSb(X.Hz.qN,Ia.bitrate,Ta);Fa.uN(Ma);Za=null === (kb=X.xb.Xt) || void 0 === kb?void 0:kb.V;kb=X.PWb(Ia,za);kb.Ep && (Fa.ada && (Fa.xl("firstDriveStreaming"),Fa.ada=!1),0 < Fa.yB && (Ia=null === (Ya=X.xb.Xt) || void 0 === Ya?void 0:Ya.V,Za && Ia && (Fa.yB-=Za - Ia,0 >= Fa.yB && Fa.h3a())));return kb;}};};ua.prototype.uN=function(X){var sa;sa=this;X.forEach(function(O){O.O.CSb(O,function(){var T,ma,ja;q.assert(sa.AL,"Speculative header callback after streaming is cancelled");T=sa.Cf.state.value;ma=sa.vd;ja=ma.add(g.S.mb(sa.config.RU));return {oh:[],jf:T,hz:ja,bj:ja,vd:ma};});});};ua.prototype.h3a=function(){var X;X=this;this.fp.f9(wa.sD.yw,function(){return X.fp.start();});};ua.prototype.m7=function(){var X,sa,O,T,ma;X=this;if(this.Jc === l.Fk.Zj){sa=this.Ki;O=this.navigator.De(sa.va);T=this.Cb.CCb();ma=this.fzb(sa.va).map(function(ja){return ja.P.id;});O=J.m7(this.console,this.PCb,O,T,this.ei,ma,g.S.mb(this.config.Knb),this.config.yoa,g.S.mb(this.config.Mfa));T=O.F2a;this.yB=O.yB || 0;this.Cb.jXb(T,function(ja,Qa){var Fa;Fa=X.navigator.De(ja);ja=ja === sa.va?Fa.Vg.add(sa.offset):Fa.Vg;return X.MWb(Fa,ja,Qa);}).YM.forEach(function(ja){ja.Df();X.ei.clear(ja.P.id);X.T.uVa(ja) || X.fp.f9(wa.sD.yw,function(){return X.Kda(ja.P.id);});});this.f2a();this.lOa();this.fp.f9(wa.sD.yw,function(){X.Dl("reevaluateBranches");X.fp.PU(wa.sD.NP);});}};ua.prototype.fzb=function(X){var sa;sa=!1;return this.T.Cb.filter(function(O){O.P.id === X && (sa=!0);return sa;});};ua.prototype.JCb=function(){return t.IMa(this.Cb.filter(function(X){return X.UT;}).map(function(X){return X.O;}));};ua.prototype.f2a=function(){var X;if(this.Jc === l.Fk.Zj){if(!this.T.YF){X=c.__read(this.Cb.oy(this.F7.va),1)[0];(null === X || void 0 === X?0:X.qk) && this.FLa(X);}if(this.T.YF)for(;;){X=this.xka(this.T.YF.P);if(!X)break;X=c.__read(this.Cb.oy(X),1)[0];if(null === X || void 0 === X || !X.qk)break;else if(this.T.uVa(X))break;this.FLa(X);}}};ua.prototype.xka=function(X){var sa;sa=this.ei.get(X.id);if(void 0 !== sa)return sa;X=this.navigator.bAb(X);if(1 === X.length)return X[0].id;};ua.prototype.lOa=function(){var X;X=0 !== this.$yb();X || this.i8?X && this.i8 && (this.i8=!1):(this.Cf.Sf && (X=this.Ih(this.vd),this.Cf.Be("complete",X.lX,X.mX)),this.Lib(),this.i8=!0);};ua.prototype.$yb=function(){return this.Cb.filter(function(X){return !X.Zo;}).length;};ua.prototype.jE=function(X){this.F4(X) && this.Cf.xga(this.vd,this.T.playbackRate,X,{wga:this.jla.wga.bind(this.jla,this.b5a)});};ua.prototype.jpa=function(X,sa){var O,T;O=this;if(sa.didNormalizeSegment){T=Q.xGa.ICb(X);q.assert(T,"Segment should be normalized");Promise.resolve().then(function(){return O.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:X.P.id,normalizedStart:sa.segmentContentStart,normalizedEnd:sa.branchContentEnd,viewableContentEnd:T.JYb,viewableEarliestContentEnd:T.LYb});});}Promise.resolve().then(function(){O.f2a();});};ua.prototype.kpa=function(){this.lOa();};ua.prototype.lLb=function(){this.fp.start();};ua.prototype.MWb=function(X,sa,O){var T,ma,ja,Qa,Fa;T=this;if(this.Apb(X,sa))throw Error("Not implemented");Fa=new d.cwa(X.$,this.Qjb,function(Wa,Xa,db){T.vpa(Xa,db);T.fp.f9(wa.sD.NP,function(){T.Y_(Wa.P.id,Xa,Wa.yj);});},this.wpa.bind(this));X=new h.Zva(this.config,this.console,this.events,X,this.K7,sa,null !== (Qa=null === (ja=null === (ma=this.Ro) || void 0 === ma?void 0:ma.HNb) || void 0 === ja?void 0:ja.Aa(this.l3a)) && void 0 !== Qa?Qa:g.S.ab,function(){return T.vd.V;},O,this.jf,this.vt,Fa);X.events.on("branchNormalized",this.jpa.bind(this,X));X.events.on("lastRequestIssued",this.lLb.bind(this,X));X.events.on("branchStreamingComplete",this.kpa.bind(this,X));X.events.on("checkBufferingProgress",this.jE.bind(this,X));void 0 === O && (this.xl("createDlTracksStart"),X.events.once("requestQueuesCreated",function(){T.xl("createDlTracksEnd");}));X.nb();return X;};ua.prototype.EBb=function(X){if(this.T.Vn)return this.T.Mh.Sa(X);};ua.prototype.K7=function(X){return [[0,this.cNa,"audio_tracks"],[1,this.y7a,"video_tracks"]].map(function(sa){var O,T;O=c.__read(sa,3);sa=O[0];T=O[1];O=O[2];q.assert(T,"Expected mediaType " + sa + " track selector to be defined");T=T.wr(X.sa,X.sa[O]);return void 0 !== T?X.jVa(sa,T):void 0;}).filter(t.n6);};ua.prototype.Y_=function(X,sa,O){X={type:"segmentStarting",segmentId:X,contentOffset:O.V,maxBitrates:{audio:sa.Av[0],video:sa.Av[1]}};this.events.emit(X.type,X);};ua.prototype.Kda=function(X){X={type:"segmentAborted",segmentId:X};this.events.emit(X.type,X);};ua.prototype.Lib=function(){var X;X={type:"streamerEnd",time:n.default.time.ba()};this.events.emit(X.type,X);};ua.prototype.xl=function(X){X={type:"startEvent",event:X,time:n.default.time.ba()};this.events.emit(X.type,X);};c.__decorate([B.Rb({methodName:"getStreamables",Hl:!0})],ua.prototype,"sL",null);return ua;})();b.rva=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cwa=void 0;r=(function(){function a(c,f,l,m){this.$=c;this.r7=f;this.vpa=l;this.wpa=m;}Object.defineProperties(a.prototype,{O:{get:function(){var c;return null === (c=this.KX) || void 0 === c?void 0:c.O;},enumerable:!1,configurable:!0}});a.prototype.Ab=function(){var c;this.O && (this.O.dua(this.xb),this.wpa(this.O));null === (c=this.KX) || void 0 === c?void 0:c.dna.release();this.KX=void 0;};a.prototype.nb=function(c){var f,l,m,d;f=this;this.xb=c;l=this.r7(this.$);m=l.IX;d=l.O;this.KX={dna:l.dna,O:d};d?this.pWa(d,c,!1):m.then(function(g){f.pWa(g,c,!0);});};a.prototype.pWa=function(c,f,l){var m;this.KX && (this.KX.O=c,c.cra(f),null === (m=f.normalize) || void 0 === m?void 0:m.call(f,c),this.vpa(f,c,l));};return a;})();b.cwa=r;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q){return (1 === n.mediaType?0:1) - (1 === q.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Zva=b.bwa=b.bba=void 0;f=a(2);l=a(16);m=a(22);r=a(112);d=a(43);g=a(411);h=a(6);b.bba={GYb:c};(function(n){n[n.c$=0]="CREATED";n[n.eY=1]="CANCELLED";})(k=b.bwa || (b.bwa={}));a=(function(){function n(q,p,t,u,v,w,x,y,A,z,B,D){var E;E=this;this.I=q;this.H=p;this.Spa=t;this.Ku=u;this.lka=v;this.WB=w;this.DA=x;this.dda=y;this.parent=A;this.hQ=z;this.ex=B;this.JX=D;this.Jc=k.c$;this.events=new l.EventEmitter();this.f_a=new Promise(function(F){E.jpa=F;});}Object.defineProperties(n.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kn:{get:function(){return this.Jc === k.eY;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.Ku;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dC:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.dC;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zo:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.Zo;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ux:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.ux) && void 0 !== p?p:0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qk:{get:function(){var q;return !(null === (q=this.od) || void 0 === q || !q.qk);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{RYb:{get:function(){return this.f_a;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Qh:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Qh) && void 0 !== p?p:[];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{UT:{get:function(){var q;return !(null === (q=this.JX) || void 0 === q || !q.O);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){h.assert(this.JX.O,"viewable should be available");return this.JX.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{U:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.U;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ya:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kb:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Oj:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Oj) && void 0 !== p?p:this.yj.Yf(this.U).Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fy:{get:function(){var q,p,t;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Fy) && void 0 !== p?p:null === (t=this.WB) || void 0 === t?void 0:t.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{WK:{get:function(){var q,p;p=null === (q=this.P.P.Tq) || void 0 === q?void 0:q[0];return p && this.Nc?m.S.mb(Math.max(0,p[0] - this.Nc.V - this.P.Vg.V)):m.S.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{IM:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.IM) && void 0 !== p?p:this.P.Vg.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{HV:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.HV) && void 0 !== p?p:this.P.Kl.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{cna:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.cna;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yj:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.yj) && void 0 !== p?p:this.DA;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Xt:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Xt) && void 0 !== p?p:this.P.Kl.Aa(this.WB || this.P.Vg);},enumerable:!1,configurable:!0}});n.prototype.nb=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(q){switch(q.label){case 0:return this.parent?[4,this.parent.RYb]:[3,2];case 1:(q.$d(),q.label=2);case 2:return (this.state !== k.eY && this.JX.nb(this),[2]);}});});};n.prototype.normalize=function(q){var p,t;p=this;if(this.state !== k.eY){if(null === (t=this.parent) || void 0 === t?0:t.rf)this.DA=this.parent.rf.Aa(this.Ku.Vg);this.od=new g.Eaa(this,this.I,this.H,q,this.Spa,this.Ku,this.lka,void 0,this.WB,this.DA,this.dda,this.parent,[],this.hQ,this.events,this.ex);this.parent=void 0;this.od.events.on("branchNormalized",function(){return p.jpa(p.od);});this.od.nb();}};n.prototype.update=function(q){var p;this.Ku=q;null === (p=this.od) || void 0 === p?void 0:p.update(q);};n.prototype.Rz=function(q){var p;this.DA=q;null === (p=this.od) || void 0 === p?void 0:p.Rz(q);};n.prototype.FF=function(q){return f.__awaiter(this,void 0,void 0,function(){var p;return f.__generator(this,function(t){switch(t.label){case 0:return [4,this.f_a];case 1:return (p=t.$d(),[2,p.FF(q)]);}});});};n.prototype.US=function(){var q;null === (q=this.od) || void 0 === q?void 0:q.US();};n.prototype.reset=function(){var q;null === (q=this.od) || void 0 === q?void 0:q.reset();};n.prototype.Df=function(){var q;this.Jc=k.eY;null === (q=this.od) || void 0 === q?void 0:q.Df();this.JX.Ab();};n.prototype.B4=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.B4(q);};n.prototype.Sa=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.Sa(q);};n.prototype.ty=function(q){var p,t;void 0 === q && (q=c);return null !== (t=null === (p=this.od) || void 0 === p?void 0:p.ty(q)) && void 0 !== t?t:[];};n.prototype.ska=function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.ska()) && void 0 !== p?p:[];};n.prototype.DT=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.DT(q);};n.prototype.Ih=function(q,p){var t;return null === (t=this.od) || void 0 === t?void 0:t.Ih(q,p);};n.prototype.wF=function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.wF();};n.prototype.G3=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.G3(q);};n.prototype.Yv=function(q,p,t){var u;null === (u=this.od) || void 0 === u?void 0:u.Yv(q,p,t);};n.prototype.wo=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.wo(q);};n.prototype.mpa=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.mpa(q);};n.prototype.hS=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.hS(q);};n.prototype.Yja=function(q){return this.od?this.od.Yja(q):m.S.ab;};n.prototype.Wta=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.Wta(q);};n.prototype.toJSON=function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.toJSON();};return n;})();b.Zva=a;d.wf(r.dA,a);d.wf(r.bA,a);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cHa=void 0;r=(function(){function a(c,f){this.H=c;this.zh=f;this.jta=!1;}a.prototype.qh=function(c,f,l,m,d,g){this.jta || (this.jta=!0,c={type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:c,networkErrorCode:m,httpCode:d,nativeCode:g,viewableId:f},this.H.error("notifyStreamingError: " + JSON.stringify(c)),this.zh.emit("error",c));};a.prototype.Jm=function(){return this.jta;};return a;})();b.cHa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.cba=void 0;c=a(2);f=a(6);l=a(9);m=a(20);d=a(256);r=(function(g){function h(k){var n;n=g.call(this) || this;n.pa=k;n.Cb=[];n.kQ=new d.QZ({sk:!1,currentTime:function(){return n.Vn?n.vd:l.S.By;},speed:1});return n;}c.__extends(h,g);Object.defineProperties(h.prototype,{xa:{get:function(){return this.kQ;},enumerable:!1,configurable:!0}});h.prototype.W0=function(k,n){var q;q=!this.pa;q && (this.pa=k,this.Kca=(null === n || void 0 === n?0:n.Vn)?n.vd:void 0);return q;};h.prototype.UE=function(){this.Cb=[];this.Kca=void 0;};h.prototype.$ha=function(k){m.ia && f.assert(this.pa === k);this.pa=void 0;this.UE();};h.prototype.Eia=function(){for(var k,n=[],q=0;q < arguments.length;q++){n[q]=arguments[q];}(k=this.Cb).push.apply(k,c.__spread(n));};h.prototype.iL=function(){return this.Kca?this.Kca:g.prototype.iL.call(this);};h.prototype.Yn=function(){return !1;};h.prototype.nH=function(){};return h;})(a(433).pba);b.cba=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vEa=void 0;c=a(53);r=(function(){function f(l){this.Sa=l;}Object.defineProperties(f.prototype,{Ji:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Rn=function(l){var m,d;l=l.ii;if(l === c.Ud.hn || l === c.Ud.np){l={};m=this.Sa(1);d=this.Sa(0);m && (l.videoPipelineSummary=this.l5a(m));d && (l.audioPipelineSummary=this.l5a(d));return l;}};f.prototype.l5a=function(l){var m,d,g,h,k;k=l.Oa.Y;return {actualStartPlayerTimestamp:null === (m=k.Ui) || void 0 === m?void 0:m.V,actualPartialPlayerTimestamp:k.u0a,actualCompletePlayerTimestamp:null === (d=l.Hea) || void 0 === d?void 0:d.V,segmentId:l.va,contentStartMs:null === (g=l.Nc) || void 0 === g?void 0:g.V,contentEndMs:null === (h=l.Nd) || void 0 === h?void 0:h.V,streamingPlayerMs:l.bj.V,isStreamable:l.VF(),isNormalized:l.qk(),isDoneStreaming:l.qv(),trackNeedsHeaderRequest:l.track.Doa,completedRequests:k.UOa,activeRequests:l.Oa.Xo,unsentRequests:l.Oa.Gr,bytes:{current:k.ca,received:k.X1a,partial:k.jl,completed:k.pB,unsent:k.cXb}};};return f;})();b.vEa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ZEa=void 0;c=a(2);f=a(20);l=a(53);m=a(434);r=(function(){function d(g){this.JNb=g;}Object.defineProperties(d.prototype,{Ji:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sC:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});d.prototype.Rn=function(g){var h;g=g.ii;if(g === l.Ud.np || g === l.Ud.hn){h={};this.JNb.forEach(function(k,n){var q;q=m.Qja(k);h[n]=c.__assign({probabilities:k.oh.map(function(p){return {duration:p.duration,immediate:p.TB,seamless:p.He};})},q);});return h;}};return d;})();b.ZEa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oBa=void 0;r=(function(){function a(c,f,l){this.Hf=c;this.H=f;this.events=l;this.$M=[];}a.prototype.bi=function(c){var f;f=this;this.$M.push(c);this.Hf.Msb(function(){f.n6a(c,{iFb:!0});},c.SNa,c.fv);};a.prototype.WGb=function(c){var f,l;f=this;l={ii:c};this.$M.forEach(function(m){f.n6a(m,l);});};a.prototype.n6a=function(c,f){var l,m;try{l=c.Rf(f);m=l.event;l.n4a && this.events.emit(c.fv,m);}catch(d){this.H.error("Error generating event for " + c.fv,d);}};return a;})();b.oBa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.kr=b.nVa=b.iXa=void 0;c=a(9);f=a(6);l=a(20);b.iXa=function(d,g){d=d.wa[g.va];if(void 0 === d)return !1;if(void 0 === d.Fc || null === d.Fc)throw Error("Cannot validate graph position without endTimeMs");d=d.Fc - d.jc;return 0 <= g.offset.V && g.offset.V < d;};m=c.S.mb(100);b.nVa=function(d,g){if(d === g)return !0;if(d && g && d.va === g.va){if(d.offset === g.offset)return !0;d=c.S.abs(d.offset.Aa(g.offset));if(m.greaterThan(d))return !0;}return !1;};b.kr=function(d,g,h){var k,n,q,p;q=g.pa;g=g.IEb;void 0 === h && (h={});p=q.Da;q=q.navigator;p=q.De(null !== (k=null === g || void 0 === g?void 0:g.id) && void 0 !== k?k:p.Te);k=null !== (n=null === g || void 0 === g?void 0:g.XRb) && void 0 !== n?n:p.Vg;if(k.greaterThan(d))return h.z4a?{offset:d.Aa(k),va:p.id}:void 0;g=q.iGb(p);for(q=g.next();!q.done;){n=q.value;q=n.Kl.Aa(n.Vg);p=k;k=p.add(q);if(k.greaterThan(d))return (d=d.Aa(p),l.ia && f.assert(d.Un(c.S.ab) && d.lessThan(q)),{va:n.id,offset:d});q=g.next();if(q.done && h.A4a)return {va:n.id,offset:d.Aa(p)};}};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iza=void 0;r=a(2);c=a(15);f=r.__importDefault(a(37)).default.UF;l=r.__importDefault(a(146));m=r.__importDefault(a(5));d=a(179);g=a(30);a=(function(){function h(k,n,q,p,t){this.config=k;this.ZTb=n;this.navigator=q;this.events=p;this.console=t;k=d.pL(this.config);this.g1a=[k.DC,k.X6];}h.prototype.bSb=function(k,n,q,p,t,u,v){var w,x,y,A,z;x=[];if(!this.D0a(t.track))return {stream:y,FN:x};y=t.Gf.$s;A=u?u.Bm(t.track.Sd,k):t.track.Sd;if(0 === A.length && (null === u || void 0 === u?0:u.Iob))return {stream:void 0,FN:x};y && !y.track.equals(t.track) && (y=this.Txb(y,A));if(0 === t.mediaType && y && !this.ETb(t,y))return {stream:y,FN:x};k=this.$sb(k === c.zc.$c?c.ka.$c:k === c.zc.Af?c.ka.Af:k === c.zc.UP?c.ka.$c:k === c.zc.Zj?c.ka.Hc:c.ka.$g,n,p,t,! !v);k=t.Hz.hsa(k,A,void 0,this.g1a[t.mediaType],!0,t.track.O.op);if(!k)return {stream:y,FN:x};if(k.reason){z={reason:k.reason,gsa:k.Ts,Dy:k.Dy,Wn:k.Wn,Xn:k.Xn};this.tga(t.mediaType,A,q);}this.Vvb(t.mediaType,k,A);y=A[k.je];t.Gf.X3a(y);if(null === (w=k.Zx) || void 0 === w?0:w.length)x=k.Zx.map(function(B){return g.wg(A,function(D){return D.id === B;});}).filter(g.n6);q=k.pt;return void 0 !== z?{stream:y,FN:x,dSb:z,pt:q}:{stream:y,FN:x,pt:q};};h.prototype.wga=function(k,n,q,p,t,u,v){var w,x;if(!c.Zq(n))return {complete:!0,reason:"playing"};if(!u.yOb)return {complete:!1,reason:"unknown"};if(u.qMb)return u.rMb;w=this.ZSa(u,q);x=u.Gf.$s;q=w.Fl - w.wc;if(q < this.config.Qi || void 0 === x)return {complete:!1,jB:q,reason:"preBuf"};if(0 === u.mediaType)return {complete:!0,jB:q,reason:"audio"};if(k=k.mOa(u.mediaType))return {complete:!0,jB:q,reason:k};this.D0a(u.track);u.Hz.mqa([x],!1,w,this.g1a[u.mediaType]);n=u.Hz.Lx(w,n,t,x,{zs:v});if(!n.complete && p)return {complete:!0,reason:"prebufferTimeLimit",jB:q};n.jB=q;return n;};h.prototype.Vvb=function(k,n,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:k,result:n,streamList:q});};h.prototype.Uvb=function(k,n,q,p){k={type:"maxVideoBitrateChanged",time:m.default.time.ba(),streaming:p,maxvb_old:k,maxvb:n,reason:q};this.events.emit(k.type,k);};h.prototype.Txb=function(k,n){var q;q=n[0];n.filter(function(p){return p.Zs;}).every(function(p){return p.bitrate <= k.bitrate?q=p:!1;});return q;};h.prototype.ETb=function(k,n){return 0 < this.config.PN.length?!0:(k=k.Gf.PL) && k === n.location?!1:!0;};h.prototype.D0a=function(k){return k.O.Ol.wX(k.O.$,k.Sd);};h.prototype.ZSa=function(k,n){var z;for(var q,p=n.Aa(this.ZTb),t=[],u=k,v=n,w,x,y=0,A=!0;u;){z=u.yAb(p);if(!A && !u.Zo)break;0 < z.Y.length && (v=z.Y[0].Ui,void 0 === w && (w=z.Y[z.Y.length - 1].rf,x=z.Epa >= z.Y.length?w:z.Y[z.Epa].Ui),t=z.Y.concat(t),y+=z.jl);u=this.navigator.parent(u);A=!1;}return {Xu:m.default.Sn()[k.mediaType],X:Math.floor(v.V),wc:n.V,tc:Math.floor(null !== (q=null === w || void 0 === w?void 0:w.V) && void 0 !== q?q:n.V),Fl:Math.floor(x?x.V:n.V),Eg:t.reduce(function(B,D){return B + D.ca;},0),jl:y,JSa:t.length,Y:t};};h.prototype.$sb=function(k,n,q,p,t){var u,v,w;u=this.ZSa(p,n);v=1 === p.mediaType?this.config.CX:this.config.ER;w=l.default.instance();return {state:k,$B:k === c.ka.Hc,Od:p.io,playbackRate:q,buffer:u,lia:v,jYa:!1,IK:t,Xo:null === w || void 0 === w?void 0:w.Xo,mediaType:p.mediaType,wc:n.V,$q:!1,qma:!1,k7:0};};h.prototype.tga=function(k,n,q){var u,v;if(1 === k){k="manifest";for(var p=0,t=n.length - 1;0 <= t;--t){u=n[t];v=u.bitrate;if(f(u)){p=Math.max(p,v);break;}else this.config.TW && !u.Hs?k="bc":u.Xs?u.yy && (k="hf"):k="av";}this.cZa !== p && (this.Uvb(this.cZa,p,k,q),this.cZa=p);}};return h;})();b.iza=a;},function(r,b,a){var l,m;function c(d,g,h,k,n){var q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I;x=d.console;y=d.dXb;A=d.ei;z=d.aRb;B=d.fvb;D=d.yoa;E=d.Mfa;d=d.nMb;F=n || ({complete:!0,Xt:0});C=F.root;G=F.complete;J=F.Ykb;K=F.G2a;K=void 0 === K?0:K;F=F.Xt;H=K < z.length && z[K] === g.id;L=k && A.get(k.id);R=n && k && L !== g.id?void 0 !== L?{He:0}:k.rob(g.id):{He:1};A=R.He;R=R.TB;I=void 0 === R?0:R;R=(A + I) * (null !== (q=null === n || void 0 === n?void 0:n.IOb) && void 0 !== q?q:1);m && x.trace("reevaluateBranches: visiting " + g.id + ", distance: " + (h + ", probability: ") + (R + ", predecessor: ") + ((null === k || void 0 === k?void 0:k.id) + ", decision: ") + (L + ", predecessorComplete: ") + (G + ", isOnRequiredPath: ") + (H + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (J + ", seamless ") + (A + ", immediate ") + (I + ", predecessor sum of: successor weights=") + ((null === k || void 0 === k?void 0:k.pta) + ", immediate weights= ") + (null === k || void 0 === k?void 0:k.l8));q=null !== (t=null === (p=y[g.id]) || void 0 === p?void 0:p.shift()) && void 0 !== t?t:g.duration.V;p=0 === q;if(!H){if(0 === R)return {c9:!1};if(!G && 0 === I && F > E)return (d.yB=Math.min(d.yB || Infinity,F - E),{c9:!1});if(!p && h >= B && 1 > R || !1 === C && R < D)return {c9:!1};}K < z.length && l.assert(z[K] === g.id,"");n=null !== (u=null === n || void 0 === n?void 0:n.oh) && void 0 !== u?u:[];k && 1 > A && (0 === I?n=n.concat([{He:A}]):(u=(null === (w=null === (v=k.P.Tq) || void 0 === v?void 0:v[0]) || void 0 === w?void 0:w[0]) || 0,v=Math.max(0,k.duration.V - u),m && x.trace("reevaluateBranches: immediate: " + k.duration.V + ", " + u + ", " + v),n=n.concat([{He:A,TB:I,duration:v}])));d.F2a.push({P:g,zt:null === k || void 0 === k?void 0:k.id,oh:n});h=G?h + g.duration.V:J;m && x.trace("reevaluateBranches: added " + g.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {c9:!0,state:{root:!k,complete:p,IOb:R,oh:n,Ykb:h,G2a:K + 1,Xt:F + q}};}function f(d,g,h,k){k("reevaluateBranches: " + Array(h + 1).join(" ") + d.P.id + " (" + (JSON.stringify(d.oh) + ")"));g.filter(function(n){return n.zt === d.P.id;}).forEach(function(n){return f(n,g,h + 1,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.pWb=b.PYb=b.m7=void 0;l=a(6);m=a(20).ia && !1;b.m7=function(d,g,h,k,n,q,p,t,u){var v,w,x,y;w={F2a:[]};x=(null === (v=h.Kl) || void 0 === v?void 0:v.Aa(h.Vg).V) || 0;0 < q.length && l.assert(h.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(q));y={console:d,dXb:k,ei:n,aRb:q,fvb:p.V + x,yoa:t,Mfa:u.V,nMb:w};g.OYb(h,function(A,z,B,D){return c(y,A,z,B,D);});return w;};b.PYb=c;b.pWb=function(d,g){f(d[0],d,0,g);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;c=a(2);f=a(418);r=(function(){function l(m){this.Da=m;this.wa={};}l.prototype.De=function(m){var d;d=this.wa[m];if(void 0 === d){d=this.Da.wa[m];if(void 0 === d)throw Error("Segment not found (" + m + ")");d=new f.nFa(m,d,this.Da.ae);this.wa[m]=d;}return d;};l.prototype.bAb=function(m){var d;d=this;return m.P.next?Object.keys(m.P.next).map(function(g){return d.De(g);}):[];};l.prototype.iGb=function(m){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,m];case 1:(g.$d(),d=m,g.label=2);case 2:if(!d.P.Fh)return [3,4];d=this.De(d.P.Fh);return [4,d];case 3:return (g.$d(),[3,2]);case 4:return [2];}});};l.prototype.pDb=function(m,d){return f.NWa(m.vL(d));};l.prototype.si=function(m){var d;d=this;Object.keys(m).forEach(function(g){var h;return null === (h=d.De(g)) || void 0 === h?void 0:h.si(m[g]);});};return l;})();b.iFa=r;},function(r,b,a){var l,m,d;function c(g,h){var k,n;k=Object.keys(g);if(k.some(function(q){var p,t,u,v;return (null === (p=g[q]) || void 0 === p?void 0:p.ae) !== (null === (t=h[q]) || void 0 === t?void 0:t.ae) || (null === (u=g[q]) || void 0 === u?void 0:u.weight) !== (null === (v=h[q]) || void 0 === v?void 0:v.weight);}))return !0;n=Object.keys(h);return 0 !== l.__spread(m.js(k,n),m.js(n,k)).length?!0:!1;}function f(g,h){return g.some(function(k,n){var q;return 0 !== m.js(k,null !== (q=h[n]) && void 0 !== q?q:[]).length;}) || g.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.VNa=b.ePa=void 0;l=a(2);m=a(30);d=a(951);b.ePa=function(g){return new d.Jxa(function(h){return Object.keys(h.P.next || ({})).map(function(k){var n,q,p;k=g.De(k);p=null !== (q=null === (n=h.Kl) || void 0 === n?void 0:n.Aa(h.Vg).V) && void 0 !== q?q:Infinity;return {yYb:k,weight:p};});});};b.VNa=function(g,h){var k,n,q,p,t,u;k=Object.keys(g.wa);n=Object.keys(h.wa);q=n.filter(function(v){return -1 === k.indexOf(v);});p=k.filter(function(v){return -1 === n.indexOf(v);});t=k.filter(function(v){var w,x,y,A,z;if(-1 === n.indexOf(v))w=!1;else {w=g.wa[v];v=h.wa[v];w=w.Fh !== v.Fh || w.Fc !== v.Fc || w.jc !== v.jc || w.ae !== v.ae || w.$ !== v.$ || f(null !== (x=w.Tq) && void 0 !== x?x:[],null !== (y=v.Tq) && void 0 !== y?y:[]) || c(null !== (A=w.next) && void 0 !== A?A:{},null !== (z=v.next) && void 0 !== z?z:{})?!0:!1;}return w;});u=m.js(k,l.__spread(t,q,p));return {Glb:q,YM:p,$ob:t,XWb:u};};},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Jxa=void 0;c=a(6);f=a(245);l=a(952);m=a(435);r=(function(){function d(g){this.Mvb=g;this.Gua=!1;this.d9=new l.zba();this.Rv=new l.zba();this.tMa=new m.yba();}d.prototype.OYb=function(g,h){var n,q,p;function k(){var v,w,x,y,A,z;v=t.pop();w=p.get(v);x=w.zt;y=w.EK;w=w.state;if(!u.d9.has(v)){u.d9.add(v);x=h(v,y,x,w);A=x.c9;z=x.state;q(v).forEach(function(B){var D,E;D=B.yYb;if(!n.d9.has(D) && (B=y + B.weight,A))if(n.Rv.has(D)){E=n.tMa.get(D);B < E.EK && (E.EK=B,E.zt=v,E.state=z,t.HOb(D));}else (n.Rv.add(D),p.set(D,{EK:B,zt:v,state:z}),t.push(D));});}}n=this;q=this.Mvb;p=this.tMa;c.assert(!this.Gua);this.Gua=!0;this.d9.clear();this.Rv.clear();p.set(g,{EK:0,state:{root:!1,complete:!0,G2a:0,Xt:0}});for(var t=new f.fZ([g],function(v,w){return p.get(v).EK - p.get(w).EK;}),u=this;!t.empty;){k();}this.Gua=!1;};return d;})();b.Jxa=r;},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.yIa);}function c(d){return (a(d)?d:Object.defineProperties(d,{yIa:{value:{},configurable:!1,enumerable:!1}})).yIa;}Object.defineProperties(b,{__esModule:{value:!0}});b.zba=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.M7=0;this.id=m=(m + 1) % l;}d.prototype.add=function(g){c(g)[this.id]=this.M7;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.M7;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.M7=(this.M7 + 1) % l;return this;};return d;})();b.zba=r;},function(r,b,a){var f,l,m,d;function c(g){return {value:g.xb,parent:g.zt};}Object.defineProperties(b,{__esModule:{value:!0}});b.$Ea=void 0;f=a(9);l=a(30);m=a(6);d=a(954);r=(function(){function g(){this.Cb=new f.MCa();this.Fr=new d.KHa();}Object.defineProperties(g.prototype,{empty:{get:function(){return this.Cb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){return this.Cb.size;},enumerable:!1,configurable:!0}});g.prototype.reset=function(){var h;h=this.Cb.values();this.Cb.clear();this.Fr.clear();h.forEach(function(k){return k.Df();});};g.prototype.oy=function(h){return this.Cb.get(h);};g.prototype.has=function(h){return this.Cb.has(h);};g.prototype.hT=function(h){this.Fr.hT(h);};g.prototype.Eka=function(h){return this.Fr.parent(h);};g.prototype.Mzb=function(h){return this.Fr.children(h);};g.prototype.nla=function(h){return this.Fr.nla(h);};g.prototype.hra=function(h){var k;if(this.Cb.delete(h.P.id,h)){k=this.Fr.children(h);this.Fr.root === h?0 === k.length?this.Fr.clear():(m.assert(1 === k.length,"cannot remove the root branch with multiple successors"),this.Fr.IQb(k[0])):(m.assert(0 === k.length,"cannot remove non-root branch with successors"),this.Fr.remove(h));}};g.prototype.forEach=function(h){var k;k=this;this.Cb.forEach(function(n,q){return h(n,q,k);});};g.prototype.reduce=function(h,k){var n;n=this;return this.Cb.reduce(function(q,p,t){return h(q,p,t,n);},k);};g.prototype.map=function(h){var k;k=this;return this.Cb.map(function(n,q){return h(n,q,k);});};g.prototype.filter=function(h){var k;k=this;return this.Cb.filter(function(n,q){return h(n,q,k);});};g.prototype.CCb=function(){var h;h={};this.forEach(function(k,n){var q;(k=k.Xt) && (null !== (q=h[n]) && void 0 !== q?q:h[n]=[]).push(k.V);});return h;};g.prototype.jXb=function(h,k){var n;n=this;h=this.tIb(h,k).target;k=this.Fr.BPb(h.map(c));h=k.YM;k=k.u2a;h.forEach(function(q){return n.Cb.delete(q.P.id,q);});return {YM:h,u2a:k.map(function(q){return q.value;})};};g.prototype.tIb=function(h,k){var q,p;function n(t,u){(t=k(t.P.id,u)) && q.Cb.set(t.P.id,t);return t;}q=this;p=[];return {target:h.reduce(function(t,u,v){var w,x;m.assert(0 === v || u.zt);if(u.zt){x=null === (w=l.KMa(t,function(y){return y.xb.P.id === u.zt;})) || void 0 === w?void 0:w.xb;if(!x)return (m.assert(void 0 !== l.wg(p,function(y){return y.P.id === u.zt;}),"predecessorSegmentId " + u.zt + " specified without previously specifying predecessor requiredBranch."),p.push(u),t);}w=l.wg(q.oy(u.P.id),function(y){return y.UT && q.Fr.parent(y) === x || 0 === v;});w=null !== w && void 0 !== w?w:n(u,x);w.oh=u.oh;t.push({xb:w,zt:x});(null === w || void 0 === w?0:w.UT) && w.update(u.P);return t;},[])};};return g;})();b.$Ea=r;},function(r,b,a){var f,l,m;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(g,h){return 0 === h || m.ap(d,function(k){return k.value === g.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.KHa=void 0;f=a(435);l=a(6);m=a(30);r=(function(){function d(){this.J=new f.yba();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.zz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var g;return null === (g=this.zz) || void 0 === g?void 0:g.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var g;g=[];this.hT(function(h){return ! !g.push(h);});return g;},enumerable:!1,configurable:!0}});d.prototype.has=function(g){return ! !this.J.get(g);};d.prototype.parent=function(g){var h;g=this.J.get(g);l.assert(g,"Attempted to find the parent of a node not in the tree");return null === (h=g.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(g){g=this.J.get(g);l.assert(g,"Attempted to find the children of a node not in the tree");return g.children?g.children.map(function(h){return h.value;}):[];};d.prototype.nla=function(g){g=this.J.get(g);l.assert(g,"Attempted to find the children of a node not in the tree");return void 0 !== g.children && 0 < g.children.length;};d.prototype.add=function(g,h){var k;l.assert(!this.J.get(g),"Attempted to add a value to tree that is already present");k={value:g};void 0 === this.zz?(l.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.zz=k):(l.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.J.get(h),l.assert(h,"Parent value does not exist in tree"),this.YMa(k,h));this.J.set(g,k);return this;};d.prototype.remove=function(g){g=this.J.get(g);l.assert(g,"Attempted to remove a node not in the tree");this.removeNode(g);return this;};d.prototype.removeNode=function(g){var h;h=this;this.tja(function(k){return h.J.delete(k);},g.value);void 0 === g.parent?this.zz=void 0:this.detach(g);};d.prototype.move=function(g,h){g=this.J.get(g);h=this.J.get(h);l.assert(g,"cannot move a value that is not in the tree");l.assert(h,"cannot move a value to a parent value not in the tree");l.assert(g.parent,"cannot move the root node");l.assert(!this.dFb(g,h),"cannot move a node below itself or one of its decendants");g.parent !== h && (this.detach(g),this.YMa(g,h));return this;};d.prototype.IQb=function(g){var h,k;h=this;g=this.J.get(g);l.assert(g,"cannot replant at a value that is not in the tree");k=[];this.detach(g);this.tja(function(n){h.J.delete(n);k.unshift(n);return !0;});this.zz=g;};d.prototype.clear=function(){this.zz && this.remove(this.zz.value);return this;};d.prototype.zSa=function(g,h){var k,n;k=this;g=this.J.get(g);l.assert(g,"cannot iterate children of a value not in the tree");null === (n=g.children) || void 0 === n?void 0:n.forEach(function(q){return h(q.value,k);});};d.prototype.hT=function(g,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.zz.value,g(h,this) && this.zSa(h,function(n){return k.hT(g,n);}));};d.prototype.tja=function(g,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.zz.value,this.zSa(h,function(n){return k.tja(g,n);}),g(h,this));};d.prototype.BPb=function(g){var h,k,n;h=this;l.assert(c(g),"entries must be in topological order");if(0 === g.length){k=this.values;n=[];this.clear();}else (n=g.filter(function(q){return h.has(q.value) && q.parent !== h.parent(q.value);}),k=this.values.filter(function(q){return -1 === m.ap(g,function(p){return p.value === q;});}),this.clear(),g.forEach(function(q){return h.add(q.value,q.parent);}));return {YM:k,u2a:n};};d.prototype.YMa=function(g,h){var k;g.parent=h;(null !== (k=h.children) && void 0 !== k?k:h.children=[]).push(g);};d.prototype.detach=function(g){var h;l.assert(g.parent,"cannot detach the root");l.assert(void 0 !== g.parent.children,"logic error: parent node does not have children");h=g.parent.children.indexOf(g);l.assert(0 <= h,"logic error: node does not appear in the children of its parent");g.parent.children.splice(h,1);g.parent=void 0;};d.prototype.dFb=function(g,h){for(;void 0 !== h;){if(h === g)return !0;h=h.parent;}return !1;};return d;})();b.KHa=r;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gwa=void 0;c=a(2);f=c.__importDefault(a(5));l=a(15);m=a(9);d=a(22);g=a(6);h=a(114);k=a(67);r=(function(){function n(q,p,t,u,v,w,x){var y;y=this;void 0 === x && (x=500);this.H=q;this.config=p;this.Ib=t;this.events=u;this.Hia=v;this.Hf=w;this.Unb=x;this.rqa=this.Sk=0;this.K5=[];this.w2={zs:0};this.state=new m.sq(l.zc.zi);this.cf=new m.sq(l.ka.$g);this.Ph=new h.BA({mC:10,ot:this,source:"BufferStateTracker",Uea:function(){return {isBuffering:y.Sf,alwaysRunUnderflowTimer:y.config.RJ};}});}Object.defineProperties(n.prototype,{zs:{get:function(){return this.w2.zs;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sf:{get:function(){return l.Zq(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.T8=function(q){var p;p=this;Array.isArray(q) || (q=[q]);q.forEach(function(t){0 === t.mediaType && (p.JNa=c.__assign(c.__assign({},p.JNa),{audio:{trackId:t.trackId,trackIndex:t.WN}}));});};n.prototype.N_a=function(q){this.set(l.zc.zi);this.mH(q,l.zc.$c);};n.prototype.t6=function(){this.w2.zs++;};n.prototype.pV=function(q){this.config.RJ || void 0 === this.Ny && this.Sf && this.rha();this.Ny={KF:q.httpCode,Mg:q.errorCode,Ri:q.nativeCode};};n.prototype.C6=function(){this.Ny=void 0;this.config.RJ || this.c2();};n.prototype.Lj=function(q){this.Sf || (this.mH(q,l.zc.Af),this.Sf && (this.Ny || this.config.RJ) && this.rha());};n.prototype.WLb=function(q,p){this.state.value !== l.zc.$c && this.mH(q,l.zc.UP);this.T8(p);};n.prototype.uLb=function(q,p){var t;t=this;this.config.Tnb && this.Sf && (-1 === this.K5.indexOf(q) && this.K5.push(q),2 === this.K5.length && Promise.resolve().then(function(){t.Sf && void 0 !== t.Zv && t.Be("memoryLimit",p.lX,p.mX);}));};n.prototype.xSb=function(q,p){g.assert(this.state.value === l.zc.$c && void 0 === this.Zv);this.Zv=q;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.WN}),this.T8(p));};n.prototype.JSb=function(q,p,t){g.assert(this.Sf);this.dma=null !== q && void 0 !== q?q:this.dma;this.bma=null !== p && void 0 !== p?p:this.bma;void 0 === this.r4?this.r4=t:void 0 !== (null === t || void 0 === t?void 0:t.reason) && (this.r4.reason=t.reason);};n.prototype.Be=function(q,p,t){var u;g.assert(this.Sf && void 0 !== this.Zv && void 0 === this.PE && void 0 === this.Y8 && void 0 === this.G0);this.PE=q;this.Y8=p;this.G0=t;this.gp=100;this.wOa();this.c2();null === (u=this.yga) || void 0 === u?void 0:u.Ab();this.state.value === l.zc.Af && (this.rqa=f.default.time.ba());this.o2();this.set(l.zc.Zj);this.G0=this.Y8=this.PE=this.r4=this.bma=this.dma=this.Zv=void 0;};n.prototype.stop=function(){var q;this.set(l.zc.zi);this.wOa();this.c2();null === (q=this.yga) || void 0 === q?void 0:q.Ab();};n.prototype.xga=function(q,p,t,u){var v,w,x,y,A,z,B,D,E,F;v=this;g.assert(this.Sf);null === (w=this.yga) || void 0 === w?void 0:w.Ab();if(this.state.value === l.zc.Af && f.default.time.ba() < this.rqa + this.config.xoa){A=this.config.xoa - (f.default.time.ba() - this.rqa);this.yga=this.Hf.rK(k.mj.ZC(d.S.mb(A)),function(){v.xga(q,p,t,u);});}else {w=t.DT(0);z=t.DT(1);B=f.default.time.ba() - this.Sk;if(w || z){D=function(C){return C?C.VF() || C.qv()?u.wga(v.state.value,q,B >= v.config.jz,p,C,v.zs):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};E=D(w);D=D(z);F=function(C){var G;return {reason:C.reason,complete:C.complete,bl:null !== (G=C.jB) && void 0 !== G?G:0};};this.Ph.Pu({as:F(E),vs:F(D),bt:B});F=z?D:E;F.CYb=z && D.jB || 0;F.Jmb=w && E.jB || 0;E.complete && D.complete?(F.complete=!0,this.Be(null !== (A=F.reason) && void 0 !== A?A:"unknown",null !== (x=F.CYb) && void 0 !== x?x:0,null !== (y=F.Jmb) && void 0 !== y?y:0)):(F.complete=!1,this.iob(F),this.Ph.Pu({bp:this.gp}));}}};n.prototype.iob=function(q){var p,t,u;u=q.progress;q.gC?u=(f.default.time.ba() - this.Sk) / this.config.jz:u || (u=(null !== (p=q.jB) && void 0 !== p?p:0) / this.config.Qi);q=Math.min(Math.max(Math.round(100 * u),null !== (t=this.gp) && void 0 !== t?t:0),99);q != this.gp && (this.gp=q);};n.prototype.mH=function(q,p){g.assert(p === l.zc.$c || void 0 !== q);this.Zv=q;this.gp=0;this.p6=void 0;this.w2.zs=0;this.K5=[];q=this.state.value === l.zc.$c || this.state.value === l.zc.Af;this.Sk=f.default.time.ba();this.set(p);q || (this.Tvb(),this.hTb());};n.prototype.set=function(q){this.state.set(q);switch(q){case l.zc.zi:this.cf.set(l.ka.zi);break;case l.zc.$c:case l.zc.UP:this.cf.set(l.ka.$c);break;case l.zc.Af:this.cf.set(l.ka.Af);break;case l.zc.Zj:this.cf.set(l.ka.Hc);}};n.prototype.Tvb=function(){g.assert(this.events && void 0 !== this.gp);this.p6=this.gp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.ba(),percentage:this.gp});};n.prototype.hTb=function(){var q;q=this;this.Roa=setInterval(function(){return q.Svb();},this.Unb);};n.prototype.wOa=function(){this.Roa && (clearInterval(this.Roa),this.Roa=void 0);};n.prototype.Svb=function(){this.Sf && this.events && void 0 !== this.gp && this.gp !== this.p6 && this.events.emit("buffering",{type:"buffering",time:f.default.time.ba(),percentage:this.gp}) && (this.p6=this.gp);};n.prototype.o2=function(){var q;g.assert(this.events && this.Zv && void 0 !== this.PE && void 0 !== this.G0 && void 0 !== this.Y8);this.p6=this.gp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.ba(),actualStartPosition:this.Zv,reason:this.PE,aBufferLevelMs:this.G0,vBufferLevelMs:this.Y8,selector:this.dma,initBitrate:this.bma,initSelReason:null === (q=this.r4) || void 0 === q?void 0:q.reason,skipbackBufferSizeBytes:this.y8b},this.JNa));};n.prototype.rha=function(){var q;q=this;this.config.a7a && (!this.Qz || this.Qz.state !== k.sl.complete && this.Qz.state !== k.sl.CK?void 0 === this.Qz && (this.Qz=this.Hf.sB(function(){return q.w6a();},"underflow")):this.Qz.ml());};n.prototype.c2=function(){this.Qz && (this.Qz.state !== k.sl.CK && this.Qz.Ab(),this.Qz=void 0);};n.prototype.w6a=function(){var q,p,t;return c.__generator(this,function(u){switch(u.label){case 0:return (q=this.config.u5,this.H.trace("BufferingStateTracker: starting underflow timer: " + q + "ms"),[4,k.mj.ZC(d.S.mb(q))]);case 1:(u.$d(),u.label=2);case 2:if(!this.Sf)return [3,4];p=this.Ib.yXa || 0;t=f.default.time.ba() - p;if(t >= q)return (this.H.trace("Forcing streaming failure, " + t + "ms since data received"),this.Hia.YLb(this.Ny),[2]);this.H.trace("BufferingStateTracker: network activity, wait " + (q - t) + "ms");return [4,k.mj.ZC(d.S.mb(q - t))];case 3:return (u.$d(),[3,2]);case 4:return [2];}});};c.__decorate([h.Rb({methodName:"onTemporaryNetworkError",Hl:!0})],n.prototype,"pV",null);c.__decorate([h.Rb({methodName:"onUnderflow",Hl:!0})],n.prototype,"Lj",null);c.__decorate([h.Rb({methodName:"bufferingComplete",Hl:!0})],n.prototype,"Be",null);c.__decorate([h.Rb({methodName:"stop",Hl:!0})],n.prototype,"stop",null);c.__decorate([h.Rb({methodName:"checkStreamingBufferingComplete",Hl:!0})],n.prototype,"xga",null);c.__decorate([h.Rb({methodName:"createUnderflowTask",Hl:!0})],n.prototype,"rha",null);c.__decorate([h.Rb({methodName:"destroyUnderflowTask",Hl:!0})],n.prototype,"c2",null);c.__decorate([h.Rb({methodName:"onUnderflowTimeout",Hl:!0})],n.prototype,"w6a",null);return n;})();b.gwa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ORa=void 0;c=a(30);b.ORa=function(f,l){var m;m=[];f=f.filter(function(d){return d.UT;}).map(function(d){var g,h;g=l(d.O);h=c.js(g,d.Qh).map(function(k){return k.mediaType;});m=c.OMa(m,h);return {xb:d,Qh:g};});return {apb:m,Mnb:f};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xGa=void 0;c=a(2);f=a(22);l=a(6);b.xGa=(function(){function m(){}m.ICb=function(d){var g,h,k;if(d.qk){d=c.__read(d.Qh,2);k=d[1];d=null === (g=d[0].vo) || void 0 === g?void 0:g.Kl;g=null === (h=null === k || void 0 === k?void 0:k.vo) || void 0 === h?void 0:h.Kl;l.assert(d);h=g?f.S.min(d,g):d;return {JYb:d,LYb:h};}};return m;})();},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$va=void 0;c=a(16);f=a(9);l=a(67);m=a(20);d=a(15);r=(function(){function g(h,k,n,q,p,t){this.Hf=h;this.zo=k;this.config=n;this.jLb=q;this.jf=p;this.console=t;this.D_=new c.xh();}g.zzb=function(h){var k;return null !== (k=h.rf) && void 0 !== k?k:h.HV;};g.wAb=function(h){var k,n;k=h.P;n=h.nM;return k.Fh?k.Fh:n.length?n[0]:h.cz[0];};g.prototype.Kta=function(h,k){var n,q,p,t;n=this;p=h.P;this.reset();if(!(p.Vt || 1 >= p.cz.length && (null === (q=p.Uv) || void 0 === q || !q.length))){t=this.kob(h);q=t.Xra;k=k.lessThan(t.kEb);this.LRb(p,k?q:void 0);k && !this.config.wMb && (m.ia && this.console.trace("BranchDecisionMaker: listening for branch streaming complete on " + h.P.id),p=this.kpa.bind(this,p),this.D_.on(h.events,"branchStreamingComplete",p),this.D_.on(h.events,"branchEdited",function(){n.Kta(h,n.Hf.xa.currentTime);}));}};g.prototype.vOa=function(){var h;null === (h=this.Hha) || void 0 === h?void 0:h.Ab();this.Hha=void 0;};g.prototype.reset=function(){this.vOa();this.D_.clear();};g.prototype.kob=function(h){var k,n;h=g.zzb(h);k=f.S.mb(this.config.oC);n=f.S.mb(this.config.NJb + this.config.VU);k=h.Aa(k);return {kEb:d.Zq(this.jf.value)?h.Aa(n):k,Xra:k};};g.prototype.LRb=function(h,k){var n;n=this;this.vOa();this.Hha=k?this.Hf.rK(l.mj.fO(k),function(){return n.Ena(h);},"scheduled branch decision"):this.zo.rK(l.mj.TYb,function(){return n.Ena(h);},"immediate branch decision");};g.prototype.kpa=function(h){var k;d.Zq(this.jf.value) && (null === (k=this.Hha) || void 0 === k?void 0:k.Ab(),this.Ena(h));};g.prototype.Ena=function(h){var k;this.D_.clear();k=g.wAb(h);m.ia && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + k);this.jLb(h.id,k,!0);};return g;})();b.$va=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XSa=void 0;c=a(960);b.XSa=function(f,l){return f.reduce(function(m,d){var g;g=l(d);d.ty().forEach(function(h){return m.Nea(h.mediaType,h.ux,!g);});return m;},new c.hFa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hFa=void 0;c=a(436);r=(function(){function f(){this.Oq=new c.uP();this.AS=new c.uP();}Object.defineProperties(f.prototype,{total:{get:function(){var l;l=new c.uP();l.add(this.Oq);l.add(this.AS);return l;},enumerable:!1,configurable:!0}});f.prototype.add=function(l){this.Oq.add(l.Oq);this.AS.add(l.AS);};f.prototype.Nea=function(l,m,d){(d?this.AS:this.Oq).Nea(l,m);};return f;})();b.hFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YUa=void 0;b.YUa=function(a,c){return a.reduce(function(f,l){return f + l.Yja(c).V;},0);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tPa=void 0;c=a(2);f=a(15);b.tPa=function(l){var h,k;function m(n){f.Zq(n.newValue) && !f.Zq(n.oldValue)?(null === k || void 0 === k?void 0:k.Ab(),k=h.rK.apply(h,c.__spread(d))):null === k || void 0 === k?void 0:k.Ab();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=l.Cf;h=l.zo;g.state.addListener(m);m({oldValue:f.zc.zi,newValue:g.state.value});};},function(r,b,a){var f,l;function c(m,d){return Object.keys(m.zC).map(function(g){return m.zC[g];}).filter(function(g){return void 0 === g.IF || 1 === g.IF;}).reduce(function(g,h){return g + h.Oq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.bHa=void 0;f=a(15);l=a(20);r=(function(){function m(d,g,h){this.Da=d;this.console=g;this.ika=h;}m.prototype.Job=function(d,g,h){var k,n,q;l.ia && this.console.log("canIssueRequest " + this.Da.id + " [" + g + "] " + h + " usage: " + JSON.stringify(d));k=h && this.Da.config.fYb;h=this.Da.config.rua || k;n=this.ika();if(k){k=d.global;k=(q={},q[0]=k[0] - c(d,0),q[1]=k[1] - c(d,1),q);}q=k;d=this.mOa(g) || this.kpb(d) || this.ipb(d,n,q) || this.jpb(d,n,q,g);n=f.Tqa(d);return !d || n && !h?{result:!0,reason:d}:(l.ia && this.console.log("canIssueRequest: " + this.Da.id + " [" + g + "] Cannot issue request due to " + d),{result:!1,reason:d});};m.prototype.mOa=function(d){var g;g=this.Da.config.Xy;if(this.Da.kAb(d) >= (g || Infinity))return "mediaDurationLimit";};m.prototype.kpb=function(d){return d.zC[this.Da.id].total.total > (this.Da.v3() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.ipb=function(d,g,h){d=d.global;return h?h[0] + h[1] > (g.ata.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.jpb=function(d,g,h,k){var n;n=d.global;return h?(l.ia && this.console.log("checkRequestByMediaTypeMemory [" + k + "]: using static limit " + (g.ata[k] + ", usage: " + h) + (" (global: " + n[k] + "  - certain contiguous: ") + (c(d,k) + ")")),h[k] > (g.ata[k] || Infinity)?1 === k?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (g.total[k] || Infinity)?1 === k?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.bHa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bFa=void 0;r=(function(){function a(c){this.console=c;this.Dga();}a.prototype.get=function(c){return this.Y1[c] || this.ei[c];};a.prototype.set=function(c,f){void 0 === this.ei[c] && (this.ei[c]=f);};a.prototype.BSb=function(c,f){void 0 === this.get(c) && (this.Y1[c]=f);};a.prototype.clear=function(c){this.Y1[c]=void 0;this.ei[c]=void 0;};a.prototype.Fpb=function(c){var f;this.ei=(f={},f[c]=this.ei[c],f);this.Y1={};};a.prototype.Dga=function(){this.ei={};this.Y1={};};return a;})();b.bFa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dFa=b.sD=void 0;c=a(2);f=a(6);(function(m){m[m.c$=0]="CREATED";m[m.Hba=1]="STARTED";m[m.NP=2]="REQUEST_ISSUED";m[m.yw=3]="EVALUATED";})(l=b.sD || (b.sD={}));r=(function(){function m(d){this.Wv=d;this.Jc=l.c$;this.OC={};this.SW={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.Jc !== l.Hba && (this.PU(l.Hba),[l.yw,l.NP].forEach(function(g){var h;h=new Promise(function(k){f.assert(d.SW && d.OC,"state promises should be defined");d.SW[g]=k;d.OC[g]=h;});}),this.Wv(),this.PU(l.yw));};m.prototype.PU=function(d){this.Jc=d;this.SW && (d=this.SW[d],null === d || void 0 === d?void 0:d());};m.prototype.Ab=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Jc !== l.Hba)return [3,2];f.assert(this.OC,"state resolves should be defined");return [4,this.OC[l.yw]];case 1:(d.$d(),d.label=2);case 2:return (this.SW=this.OC=void 0,[2]);}});});};m.prototype.f9=function(d,g){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:if(this.Jc === l.yw)return [3,6];f.assert(this.OC,"state promises should be defined");h=d;switch(h){case l.yw:return [3,1];case l.NP:return [3,3];}return [3,5];case 1:return [4,this.OC[l.yw]];case 2:return (k.$d(),[3,6]);case 3:return [4,this.OC[l.NP]];case 4:return (k.$d(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return m;})();b.dFa=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bGa=void 0;c=a(2);f=a(6);l=c.__importDefault(a(5));m=a(114);d=a(67);g=a(9);r=(function(){var f31;f31=2;function h(k,n,q){var g31,p;g31=2;for(;g31 !== 14;){switch(g31){case 6:this.vga=q.sB(function(){var i31;i31=2;for(;i31 !== 1;){switch(i31){case 2:return p.nOa(l.default.time.ba());break;case 4:return p.nOa(l.default.time.ba());break;i31=1;break;}}});g31=14;break;case 2:p=this;this.W4=k;this.config=n;this.iE=0;g31=3;break;case 3:var C6e="R";C6e+="eque";C6e+="s";C6e+="tPace";C6e+="r";var m6e="1";m6e+="SIYbZ";m6e+="rN";m6e+="JC";m6e+="p9";var e6e="m";e6e+="edia|as";e6e+="e";e6e+="j";e6e+="s";var L6e="AS";L6e+="E";L6e+="JS_RE";L6e+="QUEST_PACER";this.console=new l.default.Console(L6e,e6e);m6e;this.$n=new m.BA({ot:this,source:C6e,Uea:function(){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 2:return {numOutstanding:p.iE};break;}}},mC:10});this.B2a=new g.RZ();g31=6;break;}}}for(;f31 !== 13;){switch(f31){case 14:return h;break;case 2:Object.defineProperties(h.prototype,{UKb:{get:function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 4:return this.iE;break;j31=1;break;case 2:return this.iE;break;}}},enumerable:!1,configurable:!0}});h.prototype.Dl=function(){var k31;k31=2;for(;k31 !== 5;){switch(k31){case 2:this.$n.Pu({taskState:this.vga.state});this.vga.state !== d.sl.rW && this.vga.ml();k31=5;break;}}};h.prototype.sx=function(k){var l31;l31=2;for(;l31 !== 4;){switch(l31){case 2:var o6e="More than ";o6e+="maxAllowedOutst";o6e+="andingRequests are outstanding";this.$n.Pu({mediaType:k.mediaType,contentStartPts:k.Mc,contentEndPts:k.vc});this.iE++;f.assert(this.iE <= this.config.t5,o6e);l31=4;break;}}};h.prototype.LG=function(k){var m31;m31=2;for(;m31 !== 3;){switch(m31){case 2:var j6e="removeR";j6e+="e";j6e+="quest";var d6e="Received remove request when there are n";d6e+="o requests o";d6e+="utstanding";this.$n.Pu({mediaType:k.mediaType,contentStartPts:k.Mc,contentEndPts:k.vc});this.iE--;f.assert(0 <= this.iE,d6e);this.Dl(j6e);m31=3;break;}}};f31=3;break;case 3:var V6e="n";V6e+="O";V6e+="a";var D6e="che";D6e+="ckRequestOpportu";D6e+="nit";D6e+="yRunner";var Z6e="L";Z6e+="G";var N6e="re";N6e+="m";N6e+="oveR";N6e+="eque";N6e+="st";var r6e="s";r6e+="x";var a6e="ad";a6e+="dRe";a6e+="qu";a6e+="est";var T6e="D";T6e+="l";var H6e="checkRequestOpport";H6e+="u";H6e+="n";H6e+="ity";h.prototype.nOa=function(k){var n31,n,q,p;n31=2;for(;n31 !== 5;){switch(n31){case 2:return c.__generator(this,function(){var o31;o31=2;for(;o31 !== 6;){switch(o31){case 3:o31=this.iE < n && this.W4()?9:8;break;case 4:this.B2a.push(q);o31=3;break;case 9:p++;o31=3;break;case 2:n=this.config.t5;q=l.default.time.ba() - k;p=0;o31=4;break;case 8:var n6e="re";n6e+="que";n6e+="stOpportun";n6e+="ity";n6e+="RunnerComplete";this.$n.xR(n6e,{requestsIssued:p,scheduledMs:k,timeSinceScheduled:q},!0);return [2];break;}}});break;}}};c.__decorate([m.Rb({methodName:H6e,Hl:!0,Gq:!0})],h.prototype,T6e,null);c.__decorate([m.Rb({methodName:a6e,Hl:!0})],h.prototype,r6e,null);c.__decorate([m.Rb({methodName:N6e,Hl:!0})],h.prototype,Z6e,null);c.__decorate([m.Rb({methodName:D6e,Hl:!0})],h.prototype,V6e,null);f31=14;break;}}})();b.bGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xya=void 0;c=a(53);r=(function(){function f(l){this.Ib=l;}Object.defineProperties(f.prototype,{Ji:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Rn=function(l){var m;if(l.ii === c.Ud.np && this.Ib){l={};m=this.Ib.get();m && m.avtp && m.avtp.Ca && (l.avtp=m.avtp.Ca,l.dltm=m.avtp.vB);m && m.cdnavtp && (l.cdnavtp=m.cdnavtp,l.activecdnavtp=m.activecdnavtp);if(m=this.Ib.z3())(m.bytesRequestedPacingVideo && (l.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,l.bytesPacedVideo=m.bytesPacedVideo,l.bytestotalVideo=m.bytestotalVideo,l.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (l.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,l.bytesPacedAudio=m.bytesPacedAudio,l.bytestotalAudio=m.bytestotalAudio,l.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (l.pacedAvtp=m.pacedAvtp));if(m=this.Ib.r3())(l.initial_avtp=m.QF,l.initial_dltime=m.vB,l.initial_responses_audio=m.tWa,l.initial_responses_video=m.uWa);this.Ib.flush();if(m=this.Ib.HTa())for(var d in m){m.hasOwnProperty(d) && (l["ne" + d]=Number(m[d]).toFixed(6));}return l;}};return f;})();b.xya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TGa=void 0;c=a(53);r=(function(){function f(l){l.events.on("streamSelection",this.tpa.bind(this));}f.prototype.tpa=function(l){0 === l.mediaType && void 0 === this.qWa?this.qWa=l:1 === l.mediaType && void 0 === this.vWa && (this.vWa=l);};Object.defineProperties(f.prototype,{Ji:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Rn=function(l){var m;if(l.ii === c.Ud.Tt)return (l=null !== (m=this.vWa) && void 0 !== m?m:this.qWa,{histdiscbw:null === l || void 0 === l?void 0:l.result.Ts,histage:null === l || void 0 === l?void 0:l.result.Wn});};return f;})();b.TGa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nHa=void 0;r=a(2);c=a(16);f=a(20);l=r.__importDefault(a(5));a=(function(){function m(d){this.Hf=d;this.g_=[];this.reset();}Object.defineProperties(m.prototype,{Ji:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sC:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var d,g;d=this;null === (g=this.iJ) || void 0 === g?void 0:g.clear();this.iJ=new c.xh();this.iJ.on(this.Hf,"clockChanged",function(){d.reset();d.oT("initial");});this.iJ.on(this.Hf,"stopping",function(){d.oT("stopping");});this.iJ.on(this.Hf.xa,"clockAdjusted",function(){d.oT("clockAdjusted");});this.iJ.on(this.Hf.xa,"stopStart",function(){d.oT("stopStart");});this.iJ.on(this.Hf.xa,"speedChanged",function(){d.oT("speedChanged");});};m.prototype.oT=function(d){this.g_.push({reason:d,audit:this.Hf.lzb(),time:l.default.time.ba()});5 < this.g_.length && this.g_.shift();};m.prototype.Rn=function(){return this.g_;};return m;})();b.nHa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dGa=void 0;c=a(53);r=(function(){function f(l,m){this.Ib=l;this.C2a=m;}Object.defineProperties(f.prototype,{Ji:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Rn=function(l){var m;l=l.ii;if(l === c.Ud.np || l === c.Ud.hn || void 0 === l){l={numOutstandingRequests:this.C2a.UKb,requestOpportunityDelayStats:this.C2a.B2a};m=this.Ib.ELa;m && m.length && (l.activeRequests=JSON.stringify(m));return l;}};return f;})();b.dGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Bya=void 0;r=(function(){function a(c){this.t2=c;this.sC="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{Ji:{get:function(){return this.sC;},enumerable:!1,configurable:!0}});a.prototype.Rn=function(){var c;c=this.t2.KNb.map(function(f){var l;l=f.Da;return {id:l.id,weight:l.weight,relativeWeight:f.aW};});return {prefetcher:this.t2.At.getStats(),playgraphs:c,viewables:this.t2.KYb,players:this.t2.X0a.length};};return a;})();b.Bya=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hza=void 0;c=a(6);f=a(436);r=(function(){function l(){this.global=new f.uP();this.zC={};}l.prototype.add=function(m,d){c.assert(void 0 === this.zC[m],"Cannot add new memory object for playgraph");this.zC[m]=d;this.global.add(d.Oq);this.global.add(d.AS);};return l;})();b.hza=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.yCa=void 0;c=a(2);f=a(20);l=a(432);m=a(114);r=(function(){function d(g,h,k){this.ika=g;this.AAb=h;this.H=k;this.Ph=new m.BA({ot:this,console:k,source:"MemoryDeadlockProtector",mC:5});}d.prototype.Eyb=function(g){var h,k,n,q;n=g.config;q=n.Qi + (null !== (k=null === (h=n.BN) || void 0 === h?void 0:h.V) && void 0 !== k?k:0);h=this.lDb(q,g);f.ia && this.H.debug("MDP: has prebuf: " + h);return h?{d2:!0}:(k=this.uob(n),h=k.pMb,k=k.oYb,h && k?(f.ia && this.H.debug("MDP: utilizing " + Math.round(100 * k) + "%"),k >= n.iJb?this.L2a(g,h):{d2:!0}):{d2:!1});};d.prototype.L2a=function(g,h){var k,n,q,p,t,v,y,A;this.Ph.Pu({o:h});p=g.T;g=g.Cb;t=p.Cb;p=p.YF;for(var u=0;u < t.length;u++){if(!t[u].Zo){p=t[u];t=t.slice(0,u + 1);break;}}u=!1;v=[{mediaType:0,kB:0},{mediaType:1,kB:0}];if(null === p || void 0 === p || !p.Zo){g=g.map(function(B){return B;}).filter(function(B){return -1 === t.indexOf(B);}).sort(function(B,D){return l.ega(B) - l.ega(D);});try{for(var w=c.__values(g),x=w.next();!x.done;x=w.next()){y=x.value;A=y.wF();v[0].kB+=null !== (n=A.rR) && void 0 !== n?n:0;v[1].kB+=null !== (q=A.Tz) && void 0 !== q?q:0;f.ia && this.H.debug("Resetting discontiguous branch " + y.P.id,A);y.reset();if(u=v.every(function(B){return B.kB >= h[B.mediaType].kB;}))break;}}catch(B){var z;z={error:B};}finally{try{x && !x.done && (k=w.return) && k.call(w);}finally{if(z)throw z.error;}}}return {d2:u,C5b:v};};d.prototype.uob=function(g){var h,k,n,q;if(!g.jJb)return {};h=this.AAb();k=this.ika().total;n=g.hJb;q=0;g=[0,1].map(function(p){var t;t=h[p] - k[p] * n;q=Math.max(0 < k[p]?h[p] / k[p]:0,q);return {kB:Math.max(0,t),mediaType:p};});return {oYb:q,pMb:g};};d.prototype.lDb=function(g,h){var k,n;k=!1;h=h.W3?h.T:void 0;if(null === h || void 0 === h?0:h.HEb){k=h.Mh.ty().map(function(q){return q.mediaType;});n=h.Pzb();k=k.every(function(q){var p,t;if(0 === q)q=null !== (p=n.gs) && void 0 !== p?p:0;else if(1 === q)q=null !== (t=n.xo) && void 0 !== t?t:0;else throw Error("Unsupported media type:" + q);return q >= g;});}return k;};c.__decorate([m.Rb({methodName:"resetDiscontiguousBranches",return:!0,Hl:!0})],d.prototype,"L2a",null);return d;})();b.yCa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.wva=void 0;r=a(2);c=a(9);f=r.__importDefault(a(27));l=a(30);m=r.__importDefault(a(407));d=a(53);a=(function(){function g(h){var k,n;k=this;this.Da=h;this.fv="aseReport";this.SNa=c.S.By;this.An=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.WJ || h.config.oyb){this.SNa=c.S.mb(h.config.T0);this.Da.XJ=!0;n=[];n[f.default.Ra.Fb]=new m.default(h.config,f.default.Ra.Fb);n[f.default.Ra.Sb]=new m.default(h.config,f.default.Ra.Sb);this.lea=n;this.Da.events.on("openComplete",function(){return k.open();});}}g.prototype.open=function(){this.Da.XJ && !this.An && (this.An=!0,this.Da.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Da.events.on("streamSelection",this.tpa.bind(this)));};g.prototype.tpa=function(h){this.lea[h.mediaType].add(h.result,h.streamList);};g.prototype.Tka=function(){var h;h=l.flatten(this.lea.map(function(k){return k.get();}).filter(function(k){return void 0 !== k;}));this.lea.forEach(function(k){return k.reset(!0);});return h;};g.prototype.Rf=function(h){var k;k=h.ii;h=h.iFb;return this.Da.XJ && this.An && (h || k === d.Ud.np) && (k=this.Tka()) && k.length?{n4a:!0,event:{type:"asereport",strmsel:k}}:{n4a:!1,event:{type:"asereport",strmsel:[]}};};return g;})();b.wva=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A;Object.defineProperties(b,{__esModule:{value:!0}});b.wFa=void 0;c=a(2);f=a(16);l=a(15);m=a(9);d=a(976);g=a(30);h=a(6);k=a(977);n=a(20);q=a(95);p=a(978);t=c.__importDefault(a(5));u=a(979);v=a(980);w=a(981);x=a(258);y=a(983);A=a(984);r=(function(){function z(B,D,E,F,C){void 0 === F && (F=new v.zxa());void 0 === C && (C=new u.yxa());this.FRa=B;this.config=D;this.c2a=F;this.Vl=[];this.i1a=[];this.kw=[];this.events=new f.EventEmitter();this.H=m.dr(t.default,E,"PREFETCH");this.VLa(new w.bxa(D));this.VLa(new A.BGa(D));this.H3a({NF:D.eOb});this.zsa(C);}Object.defineProperties(z.prototype,{fOb:{get:function(){return this.Vl.map(function(B){return B.context;});},enumerable:!1,configurable:!0}});z.prototype.WSb=function(B){n.ia && h.assert(B,"Reconciliation strategy is undefined");this.c2a=B;};z.prototype.VLa=function(B){this.i1a.unshift(B);};z.prototype.e4a=function(B){n.ia && this.H.debug("Wish list changed",{t7b:B.length});this.kw=B;this.xqa();};z.prototype.reset=function(){var B,F,C,G,J,K;if(this.config.oOb)try{for(var D=c.__values(this.Vl),E=D.next();!E.done;E=D.next()){F=E.value;C=F.Da;G=F.b5;J=F.context;if(C){C.Df();G.ira(function(L){return "segmentNormalized" !== L.fv;});K=x.E3(J.me,C.Da);C.YG(K);}}}catch(L){var H;H={error:L};}finally{try{E && !E.done && (B=D.return) && B.call(D);}finally{if(H)throw H.error;}}else this.e4a([]);};z.prototype.H3a=function(B){n.ia && this.H.debug("Budget changed",{C7b:this.SR,s7b:B});this.SR=B;this.xqa();};z.prototype.zpb=function(B,D){var E,F,C,G,J;if(D=this.c2a.Uxb(this.Vl,{Da:B,wk:D})){C=this.kw.indexOf(D.context.me);n.ia && this.H.debug("Claiming item: " + x.Cp(D.context.me.key),{Al:t.default.time.ba() - D.w8,buffer:null === (E=D.Da) || void 0 === E?void 0:E.Ih(m.S.ab)});this.JS(D.context,{wXa:! !D.Da});if(D.Da){E=D.Da;G=D.context;J=D.qr;y.uFa.JQb(E,D.b5,this.H);B=x.E3(G.me,B);J.FRb(null !== (F=E.MT(B)) && void 0 !== F?F:m.S.ab,C);E.F6a({NF:this.config.ft || Infinity});}}this.config.Vlb || this.reset();return null === D || void 0 === D?void 0:D.Da;};z.prototype.ypb=function(){};z.prototype.getStats=function(){var B;B=t.default.time.ba();return {wishListLength:this.kw.length,prefetchList:this.fOb.length,contents:this.Vl.map(function(D){var E,F,C,G,J;return {id:x.Cp(D.context.me.key),buffer:null === (E=D.Da) || void 0 === E?void 0:E.Ih(m.S.ab),pId:null === (F=D.Da) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:D.context.qXa.NF},weight:D.context.W6,age:B - D.w8,timeOpened:B - (null !== (C=D.SVb) && void 0 !== C?C:0),state:l.zc[null !== (J=null === (G=D.Da) || void 0 === G?void 0:G.jf.value) && void 0 !== J?J:l.zc.zi]};})};};z.prototype.JS=function(B,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var F,C,G,J,K,H;return c.__generator(this,function(L){switch(L.label){case 0:F=c.__assign({wXa:!1,uXa:!1},D);C=F.wXa;G=F.uXa;J=g.wg(this.Vl,function(R){return R.context === B;});if(!J)return [3,3];this.Vl.splice(this.Vl.indexOf(J),1);G || (K=this.kw.length,this.kw=this.kw.filter(function(R){return R !== B.me;}),n.ia && this.H.info("Dropping items from wishlist",K - this.kw.length),this.kw.length >= K && n.ia && this.H.warn("Unable to filter out wishlist item",this.kw.map(function(R){return R.key;}),B.me.key));n.ia && this.H.debug("Dropping playgraph",{Al:t.default.time.ba() - J.w8,buffer:null === (E=J.Da) || void 0 === E?void 0:E.Ih(m.S.ab),$:x.Cp(B.me.key),Y7b:!C,r5b:!G});if(C)return [3,2];H=this.It(J);return J.Da?[4,H]:[3,2];case 1:(L.$d(),L.label=2);case 2:(this.xqa(),L.label=3);case 3:return [2];}});});};z.prototype.zsa=function(B){h.assert(B,"Playgraph resolver is undefined");this.fqa=B;return this;};z.prototype.xqa=function(){var B,D,E,F,C,G;B=this;D=d.Jwa.YEb({dZb:this.kw,NCb:this.SR},this.i1a.map(function(J){return J.WNa.bind(J);})).Vl;E=g.js(D,this.Vl,function(J,K){return x.isEqual(J.me.key,K.context.me.key);});F=g.js(this.Vl,D,function(J,K){return x.isEqual(J.context.me.key,K.me.key);});C=g.js(this.Vl,F);n.ia && this.H.debug("Re-evaluated prefetch items. new:" + E.length + ", evict: " + F.length + ", update: " + E.length);F=F.map(function(J){var K;K=J.context.me.key;n.ia && B.H.debug("Releasing playgraph",x.Cp(K));return B.It(J).then(function(){B.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.me});});});G=C.map(function(J){return c.__awaiter(B,void 0,void 0,function(){var K,H;return c.__generator(this,function(L){switch(L.label){case 0:return (K=g.wg(D,function(R){return x.isEqual(R.me.key,J.context.me.key);}),h.assert(K,"Couldn't find the requested item context"),J.context=K,[4,J.V6]);case 1:return (H=L.$d(),g.wg(this.Vl,function(R){return R === J;}) && (this.FMa(J.context,H),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.me})),[2]);}});});});E=E.map(function(J){var K;K=B.dtb(J);B.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.me});return K;});this.Vl=c.__spread(C,E);C=E.map(function(J){return J.V6;});C=F.concat(G).concat(C);Promise.all(C);};z.prototype.It=function(B){var D;D=this;return B.V6.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var F;return c.__generator(this,function(C){switch(C.label){case 0:return (n.ia && this.H.debug("Removing prefetch playgraph",{size:E.Ih(m.S.ab)}),B.y2.clear(),[4,this.FRa()]);case 1:return (F=C.$d(),F.It(E),[2]);}});});});};z.prototype.atb=function(B){return c.__awaiter(this,void 0,void 0,function(){var D,E,F,C,G,J;J=this;return c.__generator(this,function(K){switch(K.label){case 0:return (D=B.context,E=x.Cp(D.me.key),n.ia && this.H.debug("Creating playgraph",E),[4,this.fqa.GYa(D)]);case 1:return (F=K.$d(),[4,this.FRa()]);case 2:return (C=K.$d(),G=C.HE(F,D.W6,D.wk,D.me.LH,!1),B.y2.addListener(G.events,"error",function(H){n.ia && J.H.debug("Prefetch playgraph resulted in error",H.p5b);J.JS(D);}),[2,G]);}});});};z.prototype.aMb=function(B,D){var F,C,G;function E(J){n.ia && F.H.debug("Viewable " + (J?"superseded":"expired"),x.Cp(B.context.me.key));B.I6b=!0;F.JS(B.context,{uXa:!J});}F=this;C=B.context;G=x.Cp(C.me.key);this.FMa(C,D);D.open();D.Yv({wr:function(J,K){var H;H=J.recommendedMedia;return H?g.ap(K,function(L){return L.new_track_id === H.cp;}):g.ap(K,function(L){return L.track_id === J.defaultTrackOrderList[0].audioTrackId;});}},{wr:function(J,K){var H;H=J.recommendedMedia;return H?g.ap(K,function(L){return L.new_track_id === H.dO;}):g.ap(K,function(L){return L.track_id === J.defaultTrackOrderList[0].videoTrackId;});}});D.YG(x.E3(C.me,D.Da));D=C.me.LH.Is(G);D.events && (B.y2.addListener(D.events,"viewableEvicted",function(){E(!0);}),B.y2.addListener(D.events,"viewableExpired",function(){E(!1);}));D.AB && (n.ia && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.JS(B.context));};z.prototype.FMa=function(B,D){var E;D.T6a(B.W6);D.F6a(B.qXa);B=B.HUb;E=B.video;D.Csa(new q.PD(B.audio,!0),new q.PD(E,!0));};z.prototype.dtb=function(B){var D,E,F;D=this;E=new k.vFa();F={context:B,w8:t.default.time.ba(),y2:new f.xh(),qr:E};F.V6=this.atb(F);F.V6.then(function(C){return c.__awaiter(D,void 0,void 0,function(){var G;G=this;return c.__generator(this,function(){try{return (F.Da=C,C.bi(E),E.Emb(C),F.b5=new p.Kya(C.events,{GTb:function(J){var K;K=J.fv;switch(K){case "buffering":return !1;case "bufferingStarted":F.b5.ira(function(H){return "bufferingComplete" === H.fv || "updateStreamingPts" === H.fv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.b5.ira(function(H){return H.fv === K;});default:return !0;}}}),C.events.on("bufferingComplete",function(){G.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:B.me});}),this.aMb(F,C),F.SVb=t.default.time.ba(),[2,C]);}catch(J){throw (n.ia && this.H.error("Exception occurred creating playgraph",J),this.JS(F.context),J);}});});});return F;};return z;})();b.wFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jwa=void 0;b.Jwa=(function(){function a(){}a.YEb=function(c,f){var d;function l(g){return m(d++)(g,l);}function m(g){return g >= f.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + g);}:f[g];}d=0;return l(c);};return a;})();},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vFa=void 0;c=a(2).__importDefault(a(5));f=a(53);r=(function(){function l(){this.creationTime=c.default.time.ba();this.Vb={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}l.prototype.Emb=function(m){this.Da=m;};l.prototype.FRb=function(m,d){var g;m=null === (g=this.Da) || void 0 === g?void 0:g.Ih(m);this.Vb={isPrefetchItem:!0,prefetchedVideoMs:m.mX,prefetchedAudioMs:m.lX,prefetchClaimDurationMs:c.default.time.ba() - this.creationTime,prefetchRank:d};};Object.defineProperties(l.prototype,{Ji:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Rn=function(m){if(m.ii === f.Ud.Tt)return this.Vb;};return l;})();b.vFa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Kya=void 0;c=a(2);r=(function(){function l(m,d){void 0 === d && (d={});this.qp=m;this.options=d;this.rF=[];this.fU=new f(m,this.llb.bind(this));}l.prototype.llb=function(m){for(var d,g,h,k,n,q,p=[],t=1;t < arguments.length;t++){p[t - 1]=arguments[t];}p={fv:m,Gq:p};(null !== (h=null === (g=(d=this.options).GTb) || void 0 === g?void 0:g.call(d,p,this.rF)) && void 0 !== h?h:1) && this.rF.push(p);return null !== (q=null === (n=(k=this.options).u8b) || void 0 === n?void 0:n.call(k,p)) && void 0 !== q?q:!0;};l.prototype.ira=function(m){this.rF=this.rF.filter(function(d,g){return !m(d,g);});};l.prototype.rra=function(){var m;m=this;this.fU.y6a();this.rF.forEach(function(d){var g;(g=m.qp).emit.apply(g,c.__spread([d.fv],d.Gq));});this.fU.DWa();};Object.defineProperties(l.prototype,{length:{get:function(){return this.rF.length;},enumerable:!1,configurable:!0}});l.prototype.clear=function(){this.rF=[];};l.prototype.Ab=function(){this.fU.y6a();};return l;})();b.Kya=r;f=(function(){function l(m,d){var g;g=this;this.qp=m;this.WR=d;this.fU=function(h){for(var k,n=[],q=1;q < arguments.length;q++){n[q - 1]=arguments[q];}return g.WR.apply(g,c.__spread([h],n))?(k=g.T_a).call.apply(k,c.__spread([g.qp,h],n)):!1;};this.T_a=this.qp.emit;this.DWa();}l.prototype.DWa=function(){this.qp.emit=this.fU;};l.prototype.y6a=function(){this.qp.emit=this.T_a;};return l;})();},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yxa=void 0;c=a(2);f=a(66);l=a(258);r=(function(){function m(){}m.prototype.GYa=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h,k,n,q;return c.__generator(this,function(p){switch(p.label){case 0:g=d.me.key;if(!l.lU(g))return [3,2];h=g.$;k=d.me.LH.Is(h);return [4,Promise.resolve(k.Ir)];case 1:return (n=p.$d(),q=n.sa,q.Mn?[2,f.nB(q.Mn,{config:n.config})]:[2,f.iH(h,"ps0")]);case 2:return [2,g.Da];}});});};return m;})();b.yxa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zxa=void 0;c=a(2);f=a(6);l=a(258);r=(function(){function m(){}m.Cp=function(d){var g,h;g=d.wa;d=d.Te;h=g[d].$;Object.keys(g).forEach(function(k){return f.assert(g[k].$ === h);});return g[d].$;};m.prototype.Uxb=function(d,g){var h;h=Object.keys(g.Da.wa).length;return c.__read(d.filter(function(k){var n,q;return m.Cp(g.Da) === l.Cp(k.context.me.key) && (1 === h || h === Object.keys(null !== (q=null === (n=k.Da) || void 0 === n?void 0:n.Da.wa) && void 0 !== q?q:{}).length);}),1)[0];};return m;})();b.zxa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bxa=b.fxa=void 0;c=a(95);f=a(982);b.fxa=625E3;r=(function(){function l(m){this.config=m;}l.prototype.WNa=function(m){var d,g,h;d=this.config.a2;g=(this.config.jZa || this.config.Z1) * b.fxa / 1E3;h=Math.floor(m.NCb.NF / g);return {Vl:m.dZb.sort(function(k,n){return k.priority - n.priority;}).slice(0,d).map(function(k,n){var q;q=k.key.config;return {qXa:{NF:n > h - 1?0:g},me:k,W6:1,wk:q,HUb:{audio:[c.cF(q),new f.Pba()],video:[c.dF(q),new f.Pba()]}};})};};return l;})();b.bxa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pba=void 0;c=a(15);r=(function(){function f(){}f.prototype.Bm=function(l,m){return m === c.zc.Zj?[]:l;};return f;})();b.Pba=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uFa=void 0;c=a(20);b.uFa=(function(){function f(){}f.JQb=function(l,m,d){var g;g=l.open;l.open=function(){c.ia && d.log("Replaying " + m.length + " events from prefetched playgraph");m.rra();m.Ab();l.open=g;return g.call(l);};};return f;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BGa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.WNa=function(c,f){var l,m;l=this;c=f(c);m=c.Vl.map(function(d){return d.me.priority;}).sort();c.Vl.forEach(function(d){d.W6=l.config.hOb / (2 << m.lastIndexOf(d.me.priority));});return c;};return a;})();b.BGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lFa=void 0;r=(function(){function a(c){var f;f=this;c=c.Dl;this.JF=function(){f.Dl();};this.Dl=c;}a.prototype.HE=function(c){c.events.on("requestsPruned",this.JF);};a.prototype.It=function(c){c.events.removeListener("requestsPruned",this.JF);};return a;})();b.lFa=r;},function(r,b){function a(c,f,l,m){return c && f?Math.min(c - f * l,c - m):(c || Infinity) - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.YNa=void 0;b.YNa=function(c,f){var l,m,d;m=a(f.audio,f.sfa,c.mPa,c.kPa);d=a(f.video,f.Dua,c.mPa,c.lPa);return (l={},l[0]=m,l[1]=d,l.total=(f.total || Infinity) - c.kPa - c.lPa,l);};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A;Object.defineProperties(b,{__esModule:{value:!0}});b.EGa=void 0;c=a(2);f=a(16);l=c.__importStar(a(10));m=a(15);d=a(222);g=a(15);h=a(9);k=a(6);n=a(22);q=a(223);p=a(53);t=a(95);u=a(114);v=a(257);w=c.__importDefault(a(5));x=a(988);y=a(989);A=0;r=(function(z){function B(D,E,F,C,G,J,K,H,L,R,I){var Q,N,M,P,S;P=z.call(this) || this;P.console=D;P.eo=E;P.MQ=F;P.LJ=G;P.QW=J;P.$u=H;P.T=R;P.config=I;P.Bq=!1;P.f_=!1;P.$r=void 0;P.Be=function(){var ea,qa,wa,ua,X;null === (ea=P.gQ) || void 0 === ea?void 0:ea.clear();ea=P.Xfb;X=P.djb;k.assert(ea);P.Dg && k.assert(X);P.Nk.value !== g.ka.vq && P.Nk.value !== g.ka.zi && (null !== (qa=P.Ga) && void 0 !== qa && qa.Vn?(qa=null === (ua=null === (wa=P.eo.Ma.Ib.get()) || void 0 === wa?void 0:wa.Pa) || void 0 === ua?void 0:ua.Ca,P.pa.rX("startplay",p.Ud.Tt),P.D8.xR("emitBufferingComplete",{}),x.o2(P,ea,P.Ga.vd,qa,X,P.pa.XJ)):P.console.error("Shim received buffering complete but player has no position (player " + (P.Ga?"":"un") + "defined, state " + P.Nk.value + ")"));};P.IR=function(){var ea,qa,wa;P.D8.xR("audioTrackSwitchComplete",{});k.assert(void 0 !== P.qm);qa=P.MQ.audio_tracks[P.qm];wa=P.qm;P.qm=void 0;x.eRa(P,qa,wa);null === (ea=P.kV) || void 0 === ea?void 0:ea.call(P);P.kV=void 0;};k.assert(2 >= C.length,"Ase session shim suports a maximum of 1 parallel graph.");F=c.__read(C,2);D=F[0];F=F[1];P.Zh=new f.xh();P.$=D.Da.wa[J[0].va].$;P.Nk=new h.sq(g.ka.$g);P.Wz=new t.UD(P.console);P.pa=D;P.Dg=F;C.forEach(function(ea){var qa,wa;qa=ea.dF(P.Wz);wa=ea.cF();ea.Csa(wa,qa);});P.U3a();P.V4b=!1;P.zQa=!1;x.HYa(P.console,E,P,D,F);S=A++;P.D8=new u.BA({ot:P,source:"ShimSession",console:P.console,mC:50,Uea:function(){return {shimId:S};}});P.pa.bi(new v.AA(P.D8));P.n7a=void 0 !== (null === (M=null === (N=(Q=P.T).BT) || void 0 === N?void 0:N.call(Q)) || void 0 === M?void 0:M.la);P.md=y.fNa(R);E=P.rPa({Fd:P.EYa(P.pa.Da.Fd),CT:P.y3.bind(P)});P.Ga=E;P.Dg && (P.Nj=P.rPa({Fd:P.EYa(P.Dg.Da.Fd),CT:P.y3.bind(P)}));P.Ga.events.on("segmentPresenting",function(){P.$r=P.zJa();});P.on("streamerend",function(){return P.OUb();});return P;}c.__extends(B,z);Object.defineProperties(B.prototype,{K:{get:function(){return this.$;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{da:{get:function(){return this.$u.da;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ag:{get:function(){return this.Zh;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{se:{get:function(){return {k6b:{1:{Y:{Ea:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{BH:{get:function(){return void 0 !== this.qm;},enumerable:!1,configurable:!0}});B.prototype.pHb=function(){var D,E,F,C,G;D=this;G=null === (C=null === (F=(E=this.T).BT) || void 0 === F?void 0:F.call(E)) || void 0 === C?void 0:C.la;k.assert(G,"video element is not defined");G.addEventListener("play",function(){return D.tLa();});G.addEventListener("pause",function(){return D.sj();});};B.prototype.OUb=function(){this.eo.$o(!0,this.$u.sessionId);};B.prototype.ZN=function(D,E){var F;this.pa.si((F={},F[D]=E,F));};B.prototype.open=function(){var D,E,F,C;D=this;if(!this.Bq){this.Bq=!0;this.eo.$o(this.config.Fq,this.$u.sessionId);C=new Promise(function(G){setTimeout(G,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.pa.open();null === (E=this.Dg) || void 0 === E?void 0:E.open();this.pa.YG(this.QW[0]);k.assert(this.Ga,"asePlayer should be defined on session.open");this.QW[1] && (E=this.pa.OB(this.QW[0]),k.assert(E,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (F=this.Dg) || void 0 === F?void 0:F.YG(this.QW[1],E.aF));x.FYa(this.eo,this,this.Ga,this.console);this.Nk.set(g.ka.$c);C.then(function(){D.gq(D.Be);});this.pa.ofa(this.Ga);this.Dg && (k.assert(this.Nj,"parallelPlayer should be defined on session.open"),this.Dg.ofa(this.Nj));this.n7a && this.pHb();}};B.prototype.y3=function(){this.Oi || (this.Oi=new w.default.MediaSource(this.md),this.Oi.Yb || (this.Oi.Yb=w.default.MediaSource.Yb));return this.Oi;};B.prototype.rPa=function(D){void 0 === D && (D={});D=c.__assign({oC:this.config.oC,bqa:this.config.bqa},D);return this.eo.Ma.ULa(this.md,D);};B.prototype.EYa=function(D){return D?null === D || void 0 === D?void 0:D.map(function(E){return "video" === E?1:0;}):[0,1];};B.prototype.close=function(){this.Bq && (this.Bq=!1);this.eo.$o(!0,this.$u.sessionId,!0);};Object.defineProperties(B.prototype,{KE:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});B.prototype.flush=function(){var D;this.Bq && this.Nk.value !== g.ka.zi && this.Nk.value !== g.ka.vq && this.stop();this.pa.rX("endplay",p.Ud.np);this.pa.Df();null === (D=this.Dg) || void 0 === D?void 0:D.Df();this.eo.kh.save();this.eo.Lm.save();};B.prototype.paused=function(){this.n7a || this.sj();};B.prototype.sj=function(){this.Nk.value === g.ka.Hc && (this.Nk.set(g.ka.Xh),this.md.emit("paused",{type:"paused",pd:this.md.wc}));};B.prototype.tLa=function(){this.Nk.value === g.ka.Xh && (this.Nk.set(g.ka.Hc),this.md.emit("playing",{type:"playing",pd:this.md.wc}));};B.prototype.Lc=function(){var D,E;this.Bq && this.Nk.value !== g.ka.zi && this.Nk.value !== g.ka.vq && this.stop();this.eo.yQb(this);this.Bq && this.close();this.Tw && (clearInterval(this.Tw),this.Tw=void 0);null === (D=this.gQ) || void 0 === D?void 0:D.clear();this.Ga && this.eo.Ma.XM(this.Ga);this.Nj && this.eo.Ma.XM(this.Nj);null === (E=this.Oi) || void 0 === E?void 0:E.kp();};B.prototype.suspend=function(){};B.prototype.resume=function(){};B.prototype.play=function(){var D;D=this;this.pa.state !== d.Fk.CLOSED && (k.assert(this.Ga,"ShimSession.play(), expected asePlayer to exist."),this.Ga.resume(this.f_?[1]:void 0),this.Dg && (k.assert(this.Nj,"ShimSession.play(), expected parallelPlayer to exist."),this.Nj.resume(this.f_?[1]:void 0)),this.Nk.set(g.ka.Hc),this.md.emit("playing",{type:"playing",pd:this.md.wc}),this.emit("play"),this.Tw || (this.Tw=setInterval(function(){return D.BKb();},this.config.dK)));};B.prototype.stop=function(){this.Nk.set(g.ka.vq);k.assert(this.Ga,"ShimSession.stop(), expected asePlayer to exist.");this.Ga.pause();this.Dg && (k.assert(this.Nj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Nj.pause());this.md.emit("paused",{type:"paused",pd:this.md.wc});this.emit("stop");};B.prototype.by=function(D){var E,F,C;void 0 === E && (E=!0);this.Ga?(D=parseInt(D),l.isFinite(D) && (E?(this.Ga.EW(D),null === (F=this.Nj) || void 0 === F?void 0:F.EW(D)):(this.Ga.usa(D),null === (C=this.Nj) || void 0 === C?void 0:C.usa(D)))):this.fail("Must call open prior to drmReady");};B.prototype.V3=function(){var D;if(!this.Ga || !this.Ga.Vn)return !1;D=this.Ga.Yn(this.pa.Da.wa[this.Ga.Ki.va].$);return D && this.Dg && this.Nj?this.Nj.Yn(this.Dg.Da.wa[this.Nj.Ki.va].$):D;};B.prototype.hn=function(){this.Nk.set(g.ka.Af);this.md.emit("underflow",{type:"underflow",pd:this.md.wc});this.gq(this.Be);};B.prototype.t3=function(D){var E;E=p.Ud.Tt;switch(D){case "intrplay":E=p.Ud.hn;break;case "endplay":E=p.Ud.np;}D=this.pa.t3(E);return c.__assign(c.__assign({},D),{aseApiVersion:this.KE});};B.prototype.Wpa=function(){this.md.emit("playbackRateChanged",{type:"playbackRateChanged",pd:this.md.wc});};B.prototype.bn=function(){var D;D=this.md.Ce();D={type:"skipped",pts:n.S.mb(D)};this.md.emit(D.type,D);return new q.SD(Promise.resolve()).Kra;};B.prototype.fga=function(D,E){var F;E=this.Mka(E || 0,D);return null === (F=this.pa.Dm(E,D)) || void 0 === F?void 0:F.Mc;};B.prototype.ws=function(D,E){var F;F=new n.S(E,1E3);return (F=this.pa.kr(F,{A4a:!0,z4a:!0}))?this.pa.Da.wa[F.va].jc + Number(F.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + E);};B.prototype.pK=function(D,E){D=this.Mka(D || 0,E);D={va:D,offset:new n.S(E - this.pa.Da.wa[D].jc,1E3)};return (D=this.pa.MT(D))?D.V:E;};B.prototype.y4=function(){var D,E,F;E={};F=null === (D=this.pa) || void 0 === D?void 0:D.cL();D=this.Dg?this.Dg.cL():F;F && (E.vbuflmsec=F.totalvbuflmsecs,E.vbuflbytes=F.vbuflbytes);D && (E.abuflmsec=D.totalabuflmsecs,E.abuflbytes=D.abuflbytes);return E;};B.prototype.h3=function(){return {Re:0};};B.prototype.Tn=function(){var D,E;return null !== (D=this.$r) && void 0 !== D?D:(null === (E=this.Ga) || void 0 === E?0:E.X3())?this.zJa():{id:this.QW[0].va,Re:0,Mc:0,vc:Infinity,Rd:Infinity,Zc:0};};B.prototype.zJa=function(){var D,E,F,C,G,J,K,H,L;k.assert(this.Ga,"attempted to get presenting branch information with no player");k.assert(this.Ga.X3(),"attempted to get presenting branch information but player has no branches");J=this.Ga.Tn() || ({});K=J.P;H=J.yj;L=J.HV;J=J.IM;return {id:K.id,Re:null !== (D=null === H || void 0 === H?void 0:H.V) && void 0 !== D?D:0,Mc:null !== (E=null === K || void 0 === K?void 0:K.Vg.V) && void 0 !== E?E:0,vc:null !== (F=null === K || void 0 === K?void 0:K.Kl.V) && void 0 !== F?F:Infinity,Rd:null !== (C=null === L || void 0 === L?void 0:L.V) && void 0 !== C?C:Infinity,Zc:null !== (G=null === J || void 0 === J?void 0:J.V) && void 0 !== G?G:0};};B.prototype.q2a=function(){this.iG("removeSession");};B.prototype.vr=function(D,E){void 0 === E && (E=0);k.assert(!this.Dg,"Seeking with dual playgraphs not supported.");E=this.Mka(E,D);this.eo.$o(this.config.Fq,this.$u.sessionId);D={va:E,offset:n.S.mb(D - this.pa.Da.wa[E].jc)};this.$r=void 0;this.pa.YG(D);k.assert(this.Ga);this.Ga.resume();this.Nk.set(g.ka.$c);this.gq(this.Be);D=this.pa.Tra(D);k.assert(D,"Valid position must be provided for seek");return D.offset.V;};B.prototype.seek=function(D,E){D=this.ws(E,D);return this.vr(D,E);};B.prototype.ps=function(D,E,F){var C,G;C=this.Tn().id;G=this.pa.mL(C,D);if(E){if(!G.q7a)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + C)),!1);if(void 0 !== G.mM)return (this.pa.Ak(C,D,!1,E),G.mM === D);this.pa.Ak(C,D,!1,E);return !0;}if(void 0 !== G.mM)return (F || this.vr(G.Mc,0),!1);G.eK?(k.assert(this.Ga),this.Ga.reset(),this.pa.Ak(C,D,!1,E),this.Ga.resume(),this.Nk.set(g.ka.$c),this.gq(this.Be)):F || this.vr(G.Mc,0);return ! !G.eK;};B.prototype.QJ=function(){this.iG("addManifest");};B.prototype.sR=function(){return this.iG("activateManifest");};B.prototype.C_a=function(){this.RIa();};B.prototype.r8=function(D){var E,F,C,G,J;E=this.Dg?this.Nj:this.Ga;F=D.cp;k.assert(!this.Dg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.qm)return !1;D=this.MQ.audio_tracks;if(!D.some(function(K,H){if(K.track_id === F)return (C=K,G=H,!0);}))return !1;D=D[this.LJ[0]];this.qm=G;J=null === E || void 0 === E?void 0:E.Jz;J?this.RIa():(this.f_=!0,null === E || void 0 === E?void 0:E.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:C.language,newNumChannels:C.channels,sourceBufferReset:J}));return !0;};B.prototype.Wp=function(D,E){this.Wz.Wp(D,E);};B.prototype.ci=function(D){return this.Ga?this.Ga.ci(n.S.mb(D)):!1;};B.prototype.x2=function(){this.iG("evaluateQoE");};B.prototype.bta=function(){this.iG("stopBuffering");};B.prototype.mH=function(){return this.iG("startBuffering");};B.prototype.VUa=function(){return this.iG("getStreamingStatistics");};B.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};B.prototype.Mka=function(D,E){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.dT(E);};B.prototype.dT=function(D){var E,F,G,J,K,H,L;E=this.pa.Da;F=[];k.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var C in E.wa){G=E.wa[C];J=G.jc;G=G.Fc;K=D < Number(null !== G && void 0 !== G?G:Infinity);if(J <= D && K)F.push(C);else if((J=Math.min(Math.abs(D - J),Math.abs(D - G)),void 0 === H || J < H))(H=J,L=C);}k.assert(1 >= F.length,"Overlapped segments detected in branching, this is not supported");D=F[0] || L;k.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};B.prototype.BKb=function(){var D,E;E=null === (D=this.pa) || void 0 === D?void 0:D.cL();D=this.Dg?this.Dg.cL():E;E && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:E.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:E.totalvbuflmsecs,currentBandwidth:E.currentBandwidth});};B.prototype.iG=function(D){return this.fail("Method not implemented " + D);};B.prototype.RIa=function(){k.assert(void 0 !== this.qm);this.LJ[0]=this.qm;this.U3a();this.gq(this.IR);};B.prototype.U3a=function(){var D;D=this;this.Dg?(this.pa.Yv({wr:function(){}},{wr:function(){return D.LJ[1];}}),this.Dg.Yv({wr:function(){return D.LJ[0];}},{wr:function(){}})):this.pa.Yv({wr:function(){return D.LJ[0];}},{wr:function(){return D.LJ[1];}});this.f_=!1;};B.prototype.wSb=function(D){this.Xfb=D;};B.prototype.RSb=function(D){this.djb=D;};B.prototype.gq=function(D){var E,F;E=this;D !== this.IR && void 0 !== this.qm?this.kV=D:(null === (F=this.gQ) || void 0 === F?void 0:F.clear(),this.gQ=this.Dg?h.sq.Kua([this.pa.jf,this.Ga.oU,this.Dg.jf,this.Nj.oU],function(C){var G,J,K,H,L;C=c.__read(C,4);K=C[1];H=C[2];L=C[3];return C[0] === m.zc.Zj && (null === (G=E.Ga) || void 0 === G?void 0:G.Vn) && K.greaterThan(E.Ga.vd) && H === m.zc.Zj && (null === (J=E.Nj) || void 0 === J?void 0:J.Vn) && L.greaterThan(E.Nj.vd);},this.sPa(D)):h.sq.Kua([this.pa.jf,this.Ga.oU],function(C){var G,J;C=c.__read(C,2);J=C[1];return C[0] === m.zc.Zj && (null === (G=E.Ga) || void 0 === G?void 0:G.Vn) && J.greaterThan(E.Ga.vd);},this.sPa(D)));};B.prototype.sPa=function(D){var E;E=this;return function(F){var C;F && (null === (C=E.gQ) || void 0 === C?void 0:C.clear(),E.gQ=void 0,Promise.resolve().then(D));};};c.__decorate([u.Rb({methodName:"updateChoiceMapEntry",Gq:!0})],B.prototype,"ZN",null);c.__decorate([u.Rb({methodName:"open"})],B.prototype,"open",null);c.__decorate([u.Rb({methodName:"close"})],B.prototype,"close",null);c.__decorate([u.Rb({methodName:"paused"})],B.prototype,"sj",null);c.__decorate([u.Rb({methodName:"unpaused"})],B.prototype,"tLa",null);c.__decorate([u.Rb({methodName:"cleanup"})],B.prototype,"Lc",null);c.__decorate([u.Rb({methodName:"suspend"})],B.prototype,"suspend",null);c.__decorate([u.Rb({methodName:"resume"})],B.prototype,"resume",null);c.__decorate([u.Rb({methodName:"play"})],B.prototype,"play",null);c.__decorate([u.Rb({methodName:"stop"})],B.prototype,"stop",null);c.__decorate([u.Rb({Gq:!0,methodName:"drmReady"})],B.prototype,"by",null);c.__decorate([u.Rb({methodName:"underflow"})],B.prototype,"hn",null);c.__decorate([u.Rb({methodName:"getLogdataReport"})],B.prototype,"t3",null);c.__decorate([u.Rb({methodName:"skipped"})],B.prototype,"bn",null);c.__decorate([u.Rb({methodName:"seekByContentPts"})],B.prototype,"vr",null);c.__decorate([u.Rb({methodName:"seek"})],B.prototype,"seek",null);c.__decorate([u.Rb({methodName:"chooseNextSegment",Gq:!0})],B.prototype,"ps",null);c.__decorate([u.Rb({methodName:"onAudioTrackSwitchStarted"})],B.prototype,"C_a",null);c.__decorate([u.Rb({methodName:"switchTracks"})],B.prototype,"r8",null);return B;})(f.EventEmitter);b.EGa=r;},function(r,b,a){var l,m;function c(d,g,h){var k,n;k=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;g.on(k,function(q){d.emit(n,l.__assign(l.__assign({},q),{type:n}));});}function f(d,g,h,k){var n,q;g.events.once(d,function(p){(n=p) && q && k(n,q);});h.events.once(d,function(p){q=p;n && q && k(n,q);});}Object.defineProperties(b,{__esModule:{value:!0}});b.eRa=b.o2=b.FYa=b.HYa=void 0;l=a(2);m=a(20);b.HYa=function(d,g,h,k,n){var p;function q(t,u){c(h,t,u);}g=n?[k,n]:[k];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(t){return q(k.events,t);});n?(q(n.events,"initialAudioTrack"),f("streamerEnd",k,n,function(t){h.emit("streamerend",l.__assign(l.__assign({},t),{type:"streamerend"}));})):(q(k.events,["streamerEnd","streamerend"]),q(k.events,"initialAudioTrack"));k.events.on("logdata",function(t){h.emit("logdata",l.__assign(l.__assign({},t),{fields:l.__assign(l.__assign({},t.fields),{aseApiVersion:h.KE})}));});p=!0;k.events.on("bufferingStarted",function(t){h.BH && p?p=!1:(h.D8.xR("bufferingStarted",{}),h.emit("bufferingStarted",t));});k.events.on("bufferingComplete",function(t){h.BH?p=!0:h.wSb(t);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(t){h.BH || h.RSb(t);});k.events.on("maxVideoBitrateChanged",function(t){h.emit("maxvideobitratechanged",l.__assign(l.__assign({},t),{type:"maxvideobitratechanged",D8b:t.streaming.V}));});k.events.on("error",function(t){t=l.__assign(l.__assign({},t),{manifestIndex:0});h.emit("error",t);});h.on("error",function(){});k.events.on("segmentComplete",function(t){h.emit("segmentComplete",{type:"segmentComplete",mediaType:t.mediaType,manifestIndex:0,segmentId:t.segmentId});});k.events.on("segmentNormalized",function(t){var u;u=Math.floor(t.viewableContentEnd.V);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:u,maxPts:u,maxSeekPts:Math.floor(t.viewableEarliestContentEnd.V)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:u,maxPts:u});});k.events.on("segmentStarting",function(t){h.emit("maxBitrates",{type:"maxBitrates",audio:t.maxBitrates.audio,video:t.maxBitrates.video});h.emit("segmentStarting",t);});g.forEach(function(t){t.events.on("serverSwitch",function(u){h.emit("serverSwitch",{type:"serverSwitch",segmentId:u.segmentId,mediatype:u.mediatype,server:u.server,reason:u.reason,location:u.location,bitrate:u.bitrate,confidence:u.confidence,throughput:u.throughput,oldserver:u.oldserver});});t.events.on("streamSelected",function(u){var v;v=t.OB(u.position);h.emit("streamSelected",{type:"streamSelected",nativetime:u.nativetime,mediaType:u.mediaType,streamId:u.streamId,manifestIndex:0,trackIndex:u.trackIndex,streamIndex:u.streamIndex,movieTime:v.aF.V,bandwidth:u.bandwidth,longtermBw:u.longtermBw,rebuffer:u.rebuffer});});t.events.on("updateStreamingPts",function(u){var v;v=h.K;m.ia && d.trace("converting updateStreamingPts, movieId:",v);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:u.mediaType,manifestIndex:0,trackIndex:u.trackIndex,segmentId:u.position.va,movieTime:Math.floor(u.completePlayerStreamingTimestamp.V)});});});};b.FYa=function(d,g,h,k){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(n){return c(g,h.events,n);});h.events.on("streamPresenting",function(n){var q,p;q=n.playerTimestamp.V;p=g.pa.OB(n.position);void 0 === p?k.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):g.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(q),contentStartPts:Math.floor(p.aF.V),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var q,p,t;q=g.pa.OB(n.position);p=n.playerTimestamp.Aa(q.aF);t=n.position.va;g.zQa || (g.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.V,movieId:q.$.toString(),replace:!1,contentOffset:p.V}),g.zQa=!0);g.emit("segmentPresenting",{type:"segmentPresenting",segmentId:t,contentOffset:p.V,metrics:n.metrics});});h.events.on("ptsChanged",function(n){g.emit("ptschanged",n.initialTimestamp.V);g.md.emit("skipped");});};b.o2=function(d,g,h,k,n,q){var p;h=h.V;n=null !== n && void 0 !== n?n:g;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !q,hashindsight:!1,buffCompleteReason:g.reason,actualbw:k,initSelReason:null !== (p=g.initSelReason) && void 0 !== p?p:"unknown",bcVBufferLevelMs:g.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:g.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:g.vBufferLevelMs,selector:g.selector,initBitrate:g.initBitrate,skipbackBufferSizeBytes:g.skipbackBufferSizeBytes});};b.eRa=function(d,g,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:g.track_id,trackIndex:h});};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fNa=void 0;r=a(2);c=a(16);f=r.__importDefault(a(123));l=a(9);b.fNa=function(m){if(m.vfb)return m;f.default(c.EventEmitter.prototype,m);Object.defineProperties(m,{vfb:{value:!0},wc:{get:function(){return new l.S(this.Ce(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.zp?this.zp():1,.01);}}});return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rqb={Ev:["minInitVideoBitrate",-Infinity],toa:["minHCInitVideoBitrate",-Infinity],Wy:["maxInitVideoBitrate",Infinity],TU:["minInitAudioBitrate",-Infinity],SU:["minHCInitAudioBitrate",-Infinity],FU:["maxInitAudioBitrate",Infinity],M5:["minAcceptableVideoBitrate",-Infinity],QU:["minAcceptableVMAF",0],BJb:["minAcceptableVMAFRebufferScalingFactor",0],roa:["minAllowedVideoBitrate",-Infinity],vIb:["maxAllowedVideoBitrate",Infinity],kG:["minAllowedVmaf",-Infinity],MYa:["maxAllowedVmaf",Infinity],LN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],r2:["enableResolutionVMAFStreamFilter",!1],Mpa:["percentCapTitlesForResolutionVMAFStreamFilter",100],y7:["resolutionVMAFCappingRuleList",[]],XVa:["ignoreUserFilterOnEmptyResult",!0],UU:["minRequiredBuffer",2E4],S5:["minRequiredAudioBuffer",0],Qi:["minPrebufSize",5800],soa:["minCheckBufferingCompleteInterval",200],sRa:["enableMoreFrequentBufferingCompleteCheck",!1],xoa:["minimumBufferingCompleteInterval",1E4],t7:["requireDownloadDataAtBuffering",!1],hWa:["indicatorForDownloadDataAtBuffering","oncomplete"],u7:["requireSetupConnectionDuringBuffering",!1],Vqa:["rebufferingFactor",1],fr:["maxBufferingTime",2E3],uua:["useMaxPrebufSize",!0],lC:["maxPrebufSize",4E4],Zna:["maxRebufSize",Infinity],txb:["fastRebufferRecoveryThreshold",Infinity],sxb:["fastRebufferRecoverBwThrehold",3E3],o4:["initialBitrateSelectionCurve",null],mWa:["initSelectionLowerBound",-Infinity],nWa:["initSelectionUpperBound",Infinity],u8:["throughputPercentForAudio",15],Efa:["bandwidthMargin",0],Gfa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],lnb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Kx:76376,scale:18862.4,gamma:3.0569}],Ffa:["bandwidthMarginContinuous",!1],mnb:["bandwidthMarginForAudio",!0],uta:["switchConfigBasedOnInSessionTput",!0],Yga:["conservBandwidthMargin",20],gS:["conservBandwidthMarginTputThreshold",6E3],Zga:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],s5a:["switchAlgoBasedOnHistIQR",!1],RC:["switchConfigBasedOnThroughputHistory","iqr"],Yna:["maxPlayerStateToSwitchConfig",-1],wna:["lowEndMarkingCriteria","iqr"],V$:["IQRThreshold",.5],Ela:["histIQRCalcToUse","simple"],ks:["bandwidthManifold",{curves:[{min:.05,max:.82,Kx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Kx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],ft:["maxTotalBufferLevelPerSession",0],PVa:["highWatermarkLevel",3E4],Z5a:["toStableThreshold",3E4],A8:["toUnstableThreshold",0],Psa:["skipBitrateInUpswitch",!1],Mua:["watermarkLevelForSkipStart",8E3],yla:["highStreamRetentionWindow",9E4],xna:["lowStreamTransitionWindow",51E4],Ala:["highStreamRetentionWindowUp",5E5],zna:["lowStreamTransitionWindowUp",1E5],zla:["highStreamRetentionWindowDown",6E5],yna:["lowStreamTransitionWindowDown",0],xla:["highStreamInfeasibleBitrateFactor",.5],Qy:["lowestBufForUpswitch",9E3],n5:["lockPeriodAfterDownswitch",15E3],Bna:["lowWatermarkLevel",15E3],Ry:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Cna:["lowestWaterMarkLevelBufferRelaxed",!1],joa:["mediaRate",1.5],A5:["maxTrailingBufferLen",15E3],ER:["audioBufferTargetAvailableSize",262144],CX:["videoBufferTargetAvailableSize",1048576],dZa:["maxVideoTrailingBufferSize",8388608],OYa:["maxAudioTrailingBufferSize",393216],G2:["fastUpswitchFactor",3],aSa:["fastUpswitchFactorWithoutHeaders",3],Via:["fastDownswitchFactor",3],Xy:["maxMediaBufferAllowed",27E4],l7b:["minMediaBufferLen",1E4],Nsa:["simulatePartialBlocks",!0],s4a:["simulateBufferFull",!0],$ga:["considerConnectTime",!0],Xga:["connectTimeMultiplier",1],lYa:["lowGradeModeEnterThreshold",12E4],mYa:["lowGradeModeExitThreshold",9E4],RYa:["maxDomainFailureWaitDuration",3E4],NYa:["maxAttemptsOnFailure",18],RRa:["exhaustAllLocationsForFailure",!0],XYa:["maxNetworkErrorsDuringBuffering",20],u5:["maxBufferingTimeAllowedWithNetworkError",6E4],RJ:["alwaysRunUnderflowTimer",!0],ZRa:["fastDomainSelectionBwThreshold",2E3],E5a:["throughputProbingEnterThreshold",4E4],F5a:["throughputProbingExitThreshold",34E3],ZXa:["locationProbingTimeout",1E4],fSa:["finalLocationSelectionBwThreshold",1E4],C5a:["throughputHighConfidenceLevel",.75],D5a:["throughputLowConfidenceLevel",.4],kna:["locationStatisticsUpdateInterval",6E4],GHb:["locationSelectorPersistFailures",!0],uRa:["enablePerfBasedLocationSwitch",!1],Q6b:["maxRateMaxFragmentGroups",4500],Tpa:["pipelineScheduleTimeoutMs",2],Yy:["maxPartialBuffersAtBufferingStart",2],uoa:["minPendingBufferLen",3E3],kC:["maxPendingBufferLen",6E3],pwb:["enableNginxRateLimit",!1],l6:["nginxSendingRate",4E4],twb:["enableRequestPacingToken",!1],dJb:["mediaRequestPacingSpeed",2],cma:["initialMediaRequestToken",2E4],s5:["maxActiveRequestsSABCell100",2],y5:["maxPendingBufferLenSABCell100",500],J2a:["resetActiveRequestsAtSessionInit",!0],iRa:["enableCprAudio",!1],jRa:["enableCprVideo",!1],v1:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,coefficients:{selectedFragmentBitrate:1,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:0,upswitchAverageBitrate:0,maxAverageBitrate:0,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}}],xUb:["staticPacingRateKbps",0],uMb:["paceRateSelectorAlgorithm","default"],tRa:["enablePaceReportLogging",!1],aXb:["unpacedFragmentInterval",0],gEb:["ignorePacedRequestsThroughput",!1],fEb:["ignoreInferredPacedRequestsThroughput",!1],G6:["pacedThresholdPct",.1],q2:["enableInitialTputLogging",!1],$na:["maxResponsesInitialTput",6],aoa:["maxStreamingSkew",2E3],yIb:["maxBufferOccupancyForSkewCheck",Infinity],TXb:["useBufferOccupancySkipBack",!0],Wna:["maxPendingBufferPercentage",10],ZL:["maxRequestsInBuffer",120],Y3:["headerRequestSize",4096],Lia:["estimateHeaderSize",!0],W5b:["headerCacheEstimateHeaderSize",!1],qG:["neverWipeHeaderCache",!1],eYb:["useSidxInfoFromManifestForHeaderRequestSize",!1],$Ra:["fastPlayHeaderRequestSize",0],YL:["maxRequestSize",0],fM:["minRequestSize",65536],RU:["minBufferLenForHeaderDownloading",1E4],y4a:["smartHeaderPreDownloading",!1],$vb:["enableAllHeadersPreDownloading",!1],G7b:["onlyAllowPtsUpdatePolling",!1],HJb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],fN:["reserveForSkipbackBufferMs",15E3],Xoa:["numExtraFragmentsAllowed",2],Kp:["pipelineEnabled",!0],XL:["maxParallelConnections",3],bYb:["usePipelineForAudio",!1],aYb:["usePipelineDetectionForAudio",!1],B4a:["socketReceiveBufferSize",0],Y0:["audioSocketReceiveBufferSize",32768],cO:["videoSocketReceiveBufferSize",65536],j7a:["usePipelineDetectionForVideo",!1],LJb:["minVideoSocketReceiveBufferSize",65536],vla:["headersSocketReceiveBufferSize",32768],tTb:["shareDownloadTracks",!0],uTb:["shareOpenRangeTracks",!1],Vub:["disableHeaderDownloadTracks",!1],woa:["minTimeBetweenHeaderRequests",void 0],S8:["updatePtsIntervalMs",1E3],Rfa:["bufferTraceDenominator",0],dK:["bufferLevelNotifyIntervalMs",2E3],mta:["streamingStatusIntervalMs",2E3],jz:["prebufferTimeLimit",6E4],O5:["minBufferLevelForTrackSwitch",2E3],rwb:["enablePenaltyForLongConnectTime",!1],Kpa:["penaltyFactorForLongConnectTime",2],una:["longConnectTimeThreshold",200],Sea:["additionalBufferingLongConnectTime",2E3],Tea:["additionalBufferingPerFailure",8E3],ZV:["rebufferCheckDuration",6E4],qRa:["enableLookaheadHints",!1],iYa:["lookaheadFragments",2],fy:["enableOCSideChannel",!0],uqa:["probeRequestTimeoutMilliseconds",3E4],T7b:["probeRequestConnectTimeoutMilliseconds",8E3],pZ:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],uwb:["enableSCByteRangeHints",!1],I6a:["updateDrmRequestOnNetworkFailure",!0],QYa:["maxDiffAudioVideoEndPtsMs",1E3],oub:["deferAseHeaderCache",!1],mQa:["deferAseScheduling",!1],K5a:["timeBeforeEndOfStreamBufferMark",6E3],Una:["maxFastPlayBufferInMs",2E4],Tna:["maxFastPlayBitThreshold",2E8],Sna:["maxBufferingCompleteBufferInMs",Infinity],Tnb:["bufferingCompleteOnMemoryLimit",!1],N5:["minAudioMediaRequestSizeBytes",0],U5:["minVideoMediaRequestSizeBytes",0],xIb:["maxAudioMediaRequestSizeBytes",Infinity],QIb:["maxVideoMediaRequestSizeBytes",Infinity],EIb:["maxMediaRequestSizeBytesInFraction",1],dM:["minAudioMediaRequestDuration",0],hM:["minVideoMediaRequestDuration",0],Q5:["minMediaRequestDuration",0],wIb:["maxAudioMediaRequestDuration",Infinity],PIb:["maxVideoMediaRequestDuration",Infinity],w5:["maxMediaRequestDuration",Infinity],Yea:["allowFirstRequestAggregation",!1],EJb:["minAudioMediaRequestDurationCache",0],KJb:["minVideoMediaRequestDurationCache",0],owb:["enableMultiFragmentRequest",!1],e7a:[["useHeaderCache","usehc"],!0],tua:[["useHeaderCacheData","usehcd"],!0],a2:["defaultHeaderCacheSize",4],hQa:["defaultHeaderCacheDataCount",4],Z1:["defaultHeaderCacheDataPrefetchMs",0],zDb:["headerCacheMaxPendingData",6],X5b:["headerCachePriorityLimit",5],JVa:["headerCacheAdoptBothAV",!1],cYb:["usePipelineForBranchedAudio",!0],tpb:["childBranchBatchedAmount",1E4],oC:["minimumTimeBeforeBranchDecision",2E3],NJb:["minimumAppendedMediaBeforePlayback",5E3],wMb:["parallelBranchesDuringBuffering",!1],KIb:["maxRequestsToAttachOnBranchActivation",void 0],VU:["minimumJustInTimeBufferLevel",3E3],iwb:["enableJustInTimeAppends",!1],mRa:["enableDelayedSeamless",!1],s4b:["branchEndPtsIntervalMs",250],hEb:["ignorePtsJustBeforeCurrentSegment",!1],TYa:["maxFragsForFittableOnBranching",300],QMb:["pausePlaylistAtEnd",!0],$kb:["adaptiveParallelTimeoutMs",1E3],KK:["enableAdaptiveParallelStreaming",!1],Qfa:["bufferThresholdToSwitchToSingleConnMs",45E3],Pfa:["bufferThresholdToSwitchToParallelConnMs",35E3],Xvb:["enableAPSForBranching",!1],h9:["waitForPendingConnAdaptation",!1],Ioa:["networkFailureResetWaitMs",2E3],Hoa:["networkFailureAbandonMs",6E4],z5:["maxThrottledNetworkFailures",5],t8:["throttledNetworkFailureThresholdMs",200],Ana:["lowThroughputThreshold",400],Pia:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],QVb:["timeAtEachBitrateRoundRobin",1E4],wRb:["roundRobinDirection","forward"],VDb:["httpsConnectErrorAsPerm",!1],JZa:["mp4ParsingInNative",!1],Gh:["enableManagerDebugTraces",!1],zYa:["managerDebugMessageInterval",1E3],yYa:["managerDebugMessageCount",20],n_a:["notifyManifestCacheEom",!0],zwb:["enableUsingHeaderCount",!1],D4a:["sourceBufferInOrderAppend",!0],yz:["requireAudioStreamToEncompassVideo",!1],kMa:["allowAudioToStreamPastVideo",!1],qPa:["countGapInBuffer",!1],lMa:["allowCallToStreamSelector",!1],ENa:["bufferThresholdForAbort",2E4],hta:["ase_stream_selector","optimized"],aNa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],$la:["initBitrateSelectorAlgorithm","default"],Vfa:["bufferingSelectorAlgorithm","default"],KUb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],wRa:["enableThroughputTraceResearchData",!1],G5a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Vv:["researchEnvironmentEnabled",!1],wwb:["enableStreamSelectionAugmentData",!1],Wmb:["augmentDataNumOfChunks",30],aQa:["ase_ls_failure_simulation",""],Dha:["ase_dump_fragments",!1],Fha:["ase_location_history",0],Gha:["ase_throughput",0],cQa:["ase_simulate_verbose",!1],Xf:["stallAtFrameCount",void 0],H4a:["stallAtFrameCountAudio",void 0],Pna:["marginPredictor","simple"],a7a:["useBackupUnderflowTimer",!0],tKb:["noDuplicateUnderflowTimer",!1],f9b:["useManifestDrmHeader",!0],g9b:["useOnlyManifestDrmHeader",!0],Joa:["networkMeasurementGranularity","video_location"],kKb:["netIntrStoreWindow",36E3],r7b:["minNetIntrDuration",8E3],Vgb:["fastHistoricBandwidthExpirationTime",10368E3],thb:["bandwidthExpirationTime",5184E3],Ugb:["failureExpirationTime",86400],EKa:["historyTimeOfDayGranularity",4],Rgb:["expandDownloadTime",!0],eib:["minimumMeasurementTime",500],dib:["minimumMeasurementBytes",131072],sjb:["throughputMeasurementTimeout",2E3],rjb:["initThroughputMeasureDataSize",262144],Phb:["historicBandwidthUpdateInterval",2E3],cib:["minimumBufferToStopProbing",1E4],$3b:["throughputPredictor","ewma"],$ra:["secondThroughputEstimator","slidingwindow"],j3a:["secondThroughputMeasureWindowInMs",3E5],Z3b:["throughputMeasureWindow",5E3],a4b:["throughputWarmupTime",5E3],Y3b:["throughputIQRMeasureWindow",1E3],K3b:["IQRBucketizerWindow",15E3],UYa:["maxIQRSamples",100],xZa:["minIQRSamples",5],V3b:["connectTimeHalflife",10],P3b:["responseTimeHalflife",10],LJa:["historicThroughputHalflife",14400],KJa:["historicResponseTimeHalflife",100],JJa:["historicHttpResponseTimeHalflife",100],Hza:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],oKa:["minReportedNetIntrDuration",4E3],X3b:["throughputBucketMs",500],N3b:["bucketHoltWintersWindow",2E3],Jgb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Sgb:["experimentalFilter",["throughput-wssl"]],Yca:["filterDefinitionOverrides",{}],ygb:["defaultFilter","throughput-ewma"],Zjb:["secondaryFilter","throughput-sw"],hJ:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],xia:["enableWsslEstimate",!1],T6b:["maxWsslRequestSize",131072],S6b:["maxWsslRequestRatio",.2],Q7a:["wsslAggregationMethod","max"],TS:["enableSessionHistoryReport",!0],tia:["earlyStageEstimatePeriod",1E4],LXa:["lateStageEstimatePeriod",3E4],x5:["maxNumSessionHistoryStored",10],T5:["minSessionHistoryDuration",3E5],EDb:["highAndStableModelName","baseline"],wia:["enableHighAndStablePredictor",!1],R5:["minNumSessionHistory",5],o4b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],a4:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],FDb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Mea:["addHeaderDataToNetworkMonitor",!0],Ysa:["startMonitorOnLoadStart",!1],tra:["reportFailedRequestsToNetworkMonitor",!1],M6:["periodicHistoryPersistMs",0],C7:["saveVideoBitrateMs",0],ZU:["needMinimumNetworkConfidence",!0],Jfa:["biasTowardHistoricalThroughput",!1],KHb:["logMemoryUsage",!1],Dt:["probeServerWhenError",!0],vx:["allowSwitchback",!0],IG:["probeDetailDenominator",100],v5:["maxDelayToReportFailure",300],Fq:["allowParallelStreaming",!1],d7b:["mediaPrefetchDisabled",!1],vZa:["minBufferLevelToAllowPrefetch",5E3],E7:["seamlessAudio",!1],l8b:["seamlessAudioProfiles",[]],m8b:["seamlessAudioProfilesAndTitles",{}],Yra:["seamlessAudioMaximumSyncError",void 0],Zra:["seamlessAudioMinimumSyncError",void 0],u4:["insertSilentFrames",0],v4:["insertSilentFramesOnSeek",!1],w4:["insertSilentFramesOnSeekForTitles",[]],BWa:["insertSilentFramesOnSeekCount",3],qyb:["forceDiscontinuityAtTransition",!0],rta:["supportAudioResetOnDiscontinuity",void 0],m8:["supportAudioEasingOnDiscontinuity",void 0],Nvb:["editCompleteFragments",!0],BZa:["minimumAudioFramesPerFragment",1],dB:["applyProfileTimestampOffset",!1],ck:["applyProfileStreamingOffset",!0],v1a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Omb:["audioProfilesNonSyncSamples",["xheaac-dash"]],KWb:["truncateEndOfStreamAudio",!1],VXb:["useDpiAssumedAacEncoderDelay",!0],H5:["mediaSourceSupportsNegativePts",!1],eM:["minAudioPtsGap",void 0],Nmb:["audioOverlapGuardSampleCount",2],vRa:["enableRecordJSBridgePerf",!1],$$:["JSBridgeTDigestConfig",{maxc:25,c:.5}],NVb:["throughputThresholdSelectorParam",0],QXb:["upswitchDuringBufferingFactor",2],$lb:["allowUpswitchDuringBuffering",!1],hPa:["contentOverrides",void 0],dha:["contentProfileOverrides",void 0],Dla:["hindsightDenominator",0],Cla:["hindsightDebugDenominator",0],b4:["hindsightAlgorithmsEnabled",[]],c4:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],BMa:["appendMediaRequestOnComplete",!1],g9:["waitForDrmToAppendMedia",!1],P2:["forceAppendHeadersAfterDrm",!1],Iha:["declareBufferingCompleteAtSegmentEnd",!1],zv:["maxActiveRequestsPerSession",void 0],fna:["limitAudioDiscountByMaxAudioBitrate",!1],afa:["appendFirstHeaderOnComplete",!0],TW:["strictBufferCapacityCheck",!1],WJ:["aseReportDenominator",0],T0:["aseReportIntervalMs",3E5],I8:["translateToVp9Draft",!1],PN:["switchableAudioProfiles",[]],Pmb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],t5a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Smb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],bZa:["maxStartingVideoVMAF",110],gM:["minStartingVideoVMAF",1],tR:["activateSelectStartingVMAF",!1],J7:["selectStartingVMAFTDigest",-1],mN:["selectStartingVMAFMethod","fallback"],o3a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],iz:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Wub:["disablePtsStartsEvent",!0],Zqa:["recordFirstFragmentOnSubBranchCreate",!0],iZa:["mediaCacheConvertToBinaryData",!1],doa:["mediaCacheSaveOneObject",!1],KYa:["markRequestActiveOnFirstByte",!1],n2:["earlyAppendSingleChildBranch",!0],Sz:["useNativeDataViewMethods",!0],UXb:["useCorrectDrainingAmounts",!0],SS:["enableNewAse",!1],U8:["useNewApi",!1],bia:["aseDiagnostics",[{Ji:"queue-audit",enabled:!0},{Ji:"task-audit",enabled:!0},{Ji:"trace-ShimSession",enabled:!0},{Ji:"trace-engine",enabled:!0},{Ji:"trace-RequestPacer",enabled:!0},{Ji:"trace-BufferStateTracker",enabled:!0},{Ji:"trace-GraphStreamingProcess",enabled:!0},{Ji:"trace-AsePlaygraph",enabled:!0},{Ji:"playgraph-branch-audit",enabled:!0}]],Knb:["branchDistanceThreshold",6E4],t5:["maxAllowedOutstandingRequests",4],voa:["minStreamableConcurrencyWindow",3E3],OIb:["maxStreamableConcurrencyWindow",Infinity],ita:["streamableConcurrencyFactor",.3],UR:["bufferingConcurrencyWindow",7800],Mfa:["branchCreationThreshold",12E4],p2:["enableDiscontiguousBuffering",!1],xja:["forceImmediateTransitionTypeForTitles",[]],wja:["forceImmediateTransitionExitZone",0],mPa:["contiguousBufferMultiplier",3],kPa:["contiguousBufferMinimumAudio",1048576],lPa:["contiguousBufferMinimumVideo",8388608],eOb:["prefetchBudgetInBytes",0],W1a:["rebufferRiskHalfLife",1E4],rua:["useBufferSizeLimiter",!1],fYb:["useStaticBufferSizeLimiter",!1],NYb:["viewableReleaseTimeoutMs",1E3],hOb:["prefetchWeightBudget",32],yoa:["minimumDownstreamBranchProbability",.075],sua:["useExitZones",!0],iOb:["prefetchWhilePlaying",!0],oOb:["prefetcherSoftReset",!0],Y0a:["playgraphDefaultWeight",65520],pub:["delayNotificationOfEoS",!1],jJb:["memDeadlockShouldCheckMemory",!0],iJb:["memDeadlockOverageThreshold",.9],hJb:["memDeadlockMaxUtilizationPercentage",.5],bqa:["playerPtsPadding",1]};b.Il=b.rqb;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rq=b.qq=b.Rr=b.Ty=b.PZ=void 0;c=a(2);f=a(111);Object.defineProperties(b,{qq:{enumerable:!0,get:function(){return f.qq;}}});Object.defineProperties(b,{rq:{enumerable:!0,get:function(){return f.rq;}}});Object.defineProperties(b,{Ty:{enumerable:!0,get:function(){return f.Ty;}}});Object.defineProperties(b,{PZ:{enumerable:!0,get:function(){return f.PZ;}}});l=c.__importDefault(a(5));r=(function(m){function d(g,h,k,n,q){return m.call(this,d.console,g,h,k,n,q) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new l.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.Rr);b.Rr=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MPa=void 0;b.MPa=function(a,c,f,l){return {PBb:function(){var m;m=a.Bka();l.Ss && (m+=l.Ss);return m;},za:c,request:f,$e:!1};};},function(r,b,a){var f,l,m,d,g;function c(h,k){var n;h=f.EventEmitter.call(this) || this;h.content="";h.entries=[];l.hb(("videoSize" in k) && ("xml" in k) && ! !k.xml,"Subtitle options didn't contain XML data");("videoSize" in k) && ("xml" in k) && (h.content=null !== (n=k.xml) && void 0 !== n?n:"",h.Vz=k.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;f=a(16);l=a(21);m=a(13);d=a(29);g=a(994);ka(c,f.EventEmitter);c.prototype.xF=function(h){var k;d.Kc(h) && d.Kc(this.duration) && h < this.duration && this.entries && (k=this.nKb || this.entries[Math.floor(h * this.TVb)] || this.entries[0]);if(k){for(;k && k.endTime < h;){k=k.next;}for(;k && k.previous && k.previous.endTime >= h;){k=k.previous;}this.nKb=k;}return k?[k]:[];};c.prototype.tL=function(h,k){var n;n=[];try{n=this.entries.filter(function(q){var p;p=aa([q.startTime,q.endTime]);q=p.next().value;p=p.next().value;return q >= h && q <= k || q <= h && h <= p;});}catch(q){}return n;};c.prototype.Vq=function(h,k){return this.tL(h,k).reduce(function(n,q){return n + q.blocks.length;},0);};c.prototype.start=function(){var h,k;h=this;if(this.content)g.s0a(this.content,this.Vz.width / this.Vz.height,m.config.Fta,m.config.x8).then(function(n){h.duration=n && Math.max.apply(Math,ca(n.map(function(q){return q.endTime;}))) || 0;h.TVb=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {k=Error("Subtitle content was empty");k.errorDetails="Subtitle content was empty";this.emit("error",k);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.Dqa=function(){throw Error("Method not implemented.");};c.prototype.Hr=function(){throw Error("Method not implemented.");};c.prototype.Dz=function(){throw Error("Method not implemented.");};c.prototype.Ak=function(){throw Error("Method not implemented.");};c.prototype.si=function(){throw Error("Method not implemented.");};b.PAa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.s0a=void 0;c=a(995);f=a(259);b.s0a=function(l,m,d,g){return new Promise(function(h,k){f.Rua(l,function(n){n.W?c.k0a(n.object,m,d,g,function(q){q.W?h(q.entries):k(q);}):k(n);});});};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.m0a=b.l0a=b.Bpa=b.o0a=b.AMb=b.BMb=b.n0a=b.p0a=b.I6=b.q0a=b.r0a=b.k0a=void 0;c=a(21);f=a(29);l=a(12);m=a(152);d=a(11);g=a(18);h=a(24);b.k0a=(function(){var F,C,G,J,K,H,L,R,I,Q,N,M;function k(P){if(f.My(P)){P=P.toLowerCase();if("#" == P[0]){if(7 == P.length)return P;if(4 == P.length)return "#" + P[1] + P[1] + P[2] + P[2] + P[3] + P[3];}return b.p0a[P];}}function n(P,S,ea){S=S[P];0 <= S || (S=parseFloat(P));if(0 <= S)return d.Do(S,ea);}function q(P,S){var ea,qa;ea=P.length;qa=P[ea - 1];if("t" === qa)return parseFloat(P) * S | 0;if("s" === qa)return "m" === P[ea - 2]?parseFloat(P) | 0:parseFloat(P) * l.Hk | 0;if((P=P.match(I)) && 4 <= P.length)return (3600 * parseInt(P[1],10) + 60 * parseInt(P[2],10) + parseFloat(P[3])) * l.Hk | 0;throw Error("dfxp-badtime");}function p(P,S,ea,qa,wa){var ua,X,sa,O,T,ma,ja,Qa;ua=void 0;if(P){X=P.style;ea=X?ea[X]:void 0;qa=(X=P.region)?qa[X]:void 0;X=wa.length;for(sa=0;sa < X;sa++){T=wa[sa];ma=P[T];void 0 === ma && ea && (ma=ea[T]);void 0 === ma && qa && (ma=qa[T]);if(void 0 !== ma && ma !== S[T]){if(!ua)for((ua={},O=0);O < X;O++){ja=wa[O];Qa=S[ja];void 0 !== Qa && (ua[ja]=Qa);}ua[T]=ma;}}}return ua || S;}function t(P,S,ea,qa,wa,ua,X,sa,O){var ma,ja;function T(Qa,Fa,Wa){var Xa,db,Za,kb,Ya,Sa;Xa=Qa[m.Wj];db=Xa.style || Fa.style || "";Za=Xa.region || Fa.region || "";if(db || Za)(kb=db + "/" + Za,Ya=ea[kb]);else Ya=S;if(!Ya){Ya=S;Sa=f.yN(qa);f.Tb(Sa,wa[db]);Ya=x(Ya,Sa,X,sa,O);ea[db + "/"]=Ya;Za && (f.Tb(Sa,ua[Za]),f.Tb(Sa,wa[db]),Ya=x(Ya,Sa,X,sa,O),ea[kb]=Ya);}if(!Wa)a:{for(Wa=H.length;Wa--;){if(void 0 !== Xa[H[Wa]]){Wa=!0;break a;}}Wa=void 0;}Wa && (Xa=p(Xa,Fa,wa,ua,L),Ya=x(Ya,Xa,X,sa,O));Fa=(Qa=Qa[m.kO]) && Qa.length;for(db=0;db < Fa;db++){Za=Qa[db];f.jh(Za)?Q.test(Za[m.lO])?ja++:T(Za,Xa,Wa):(ma.push({text:Za,lineBreaks:ja,style:Ya}),ja=0);}}ma=[];ja=0;T(P,qa,!1);0 < ja && ma.push({text:"",lineBreaks:ja,style:S});return ma;}function u(P,S,ea,qa,wa,ua,X,sa){var O,T;ea && (ea=C[ea] || "top",P.verticalAlignment !== ea && (P.verticalAlignment=ea));qa && (ea=G[qa] || "left",P.horizontalAlignment !== ea && (P.horizontalAlignment=ea));if(wa){if(O=sa[wa])(qa=O.marginLeft,ea=O.marginTop);else {T=wa.split(" ");qa=A(T[0],X.x) || 0;ea=A(T[1],X.y) || 0;O={Ll:0,marginLeft:qa,marginTop:ea,Nlb:qa * S.kla + S.OT,Plb:ea * S.Bua + S.Z8};30 > sa.Ll && (sa.Ll++,sa[wa]=O);}P.marginLeft=O.Nlb;P.marginTop=O.Plb;}else (ea=qa=0,(O=sa["default"]) || (sa["default"]=O={Ll:0}));ua && (wa=O[ua],wa || (T=ua.split(" "),wa={Olb:(1 - (qa + (A(T[0],X.x) || 0))) * S.kla + S.OT,Mlb:(1 - (ea + (A(T[1],X.y) || 0))) * S.Bua + S.Z8},30 > O.Ll && (O.Ll++,O[ua]=wa)),P.marginRight=wa.Olb,P.marginBottom=wa.Mlb);}function v(P,S,ea,qa,wa){var ua,X,sa;ua=P.displayAlign;X=P.textAlign;sa=P.origin;P=P.extent;ea=f.yN(ea);u(ea,S,ua,X,sa,P,qa,wa);ea.id=F++;return ea;}function w(P,S,ea,qa){var wa,ua,X,sa,O,T;wa=n(ea.characterSize || S.characterSize,b.q0a,2) || 1;ua=(ua=P.fontSize) && N.test(ua)?f.Eo(f.ue(ua),25,200):void 0;wa*=ua / 100 || 1;if((ua=P.textOutline) && "none" != ua){X=ua.split(" ");if(M.test(X))(sa=0,O=P.color);else (sa=1,O=k(X[0]));T=y(X[sa]);X=y(X[sa + 1]);}return {characterStyle:ea.characterStyle || b.r0a[P.fontFamily] || S.characterStyle,characterSize:wa * qa,characterColor:k(ea.characterColor || P.color || S.characterColor),characterOpacity:n(f.x1(ea.characterOpacity,P.opacity,S.characterOpacity),b.I6,1),characterEdgeAttributes:ea.characterEdgeAttributes || ua && ("none" === ua?b.n0a:X?b.Bpa:b.o0a) || S.characterEdgeAttributes,characterEdgeColor:k(ea.characterEdgeColor || O || S.characterEdgeColor),characterEdgeWidth:T,characterEdgeBlur:X,characterItalic:"italic" === P.fontStyle,characterUnderline:"underline" === P.textDecoration,backgroundColor:k(ea.backgroundColor || P.backgroundColor || S.backgroundColor),backgroundOpacity:n(f.x1(ea.backgroundOpacity,P.opacity,S.backgroundOpacity),b.I6,1)};}function x(P,S,ea,qa,wa){var ua;S=w(S,ea,qa,wa);h.ee(S,function(X,sa){sa !== P[X] && (ua || (ua=d.JD(P)),ua[X]=sa);});return ua || P;}function y(P){P=f.ue(P);return g.Ly(P,0,100)?P:0;}function A(P,S){var ea;ea=P[P.length - 1];if("%" === ea)return f.Eo(.01 * parseFloat(P),0,1);if("c" === ea)return f.Eo(f.ue(P) / S,0,1);}function z(P){for(var S=P.length,ea=P[--S].endTime;S--;){ea=d.Do(P[S].endTime,ea);}return ea;}function B(P){h.ee(P,function(S,ea){0 <= S.toLowerCase().indexOf("color") && (P[S]=k(ea));});}function D(P,S){var ea,qa,wa,ua;ea=P.pixelAspectRatio;qa={OT:0,kla:1,Z8:0,Bua:1};P=(P.extent || "640px 480px").split(" ");if(2 <= P.length){ea=(ea || "").split(" ");wa=parseFloat(P[0]) * (parseFloat(ea[0]) || 1);ua=parseFloat(P[1]) * (parseFloat(ea[1]) || 1);}wa=0 < wa && 0 < ua?wa / ua:1280 / 720;S=S || 1280 / 720;ea=wa / S;.01 < d.wD(S - wa) && (S >= wa?(qa.OT=(1 - ea) / 2,qa.kla=ea):c.hb(!1,"not implemented"));return qa;}function E(P){var S,ea,qa,wa,ua;if(S=P.cellResolution)if((S=S.split(" "),2 <= S.length)){ea=f.ue(S[0]);S=f.ue(S[1]);if(0 < ea && 0 < S)return {x:ea,y:S};}if((S=P.extent) && (S=S.split(" "),2 <= S.length)){ea=f.ue(S[0]);qa=f.ue(S[1]);if(P=P.pixelAspectRatio){S=P.split(" ");wa=f.ue(S[0]);ua=f.ue(S[1]);}if(ea && qa && 1.5 < ea * (wa || 1) / (qa * (ua || 1)))return b.m0a;}return b.l0a;}F=1;C={before:"top",center:"center",after:"bottom"};G={left:"left",start:"left",center:"center",right:"right",end:"right"};J={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};K={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};H=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");L=H.concat(["style","region"]);R=["region","textAlign","displayAlign","extent","origin"];I=/^([0-9]+):([0-9]+):([0-9.]+)$/;Q=/^br$/i;N=/^[0-9]{1,3}%$/;M=/^[0-9]/;return function(P,S,ea,qa,wa){var O,T,ma,ja,Qa,Fa,Wa,Xa,db,Za,kb,Ya,Sa,za,Ia,Ma,Ta,hb,wb,Hb,Pb,Cb,Kb,Vb,kc,Ec,Kd,qe,Ld,ed;function ua(){var cc,dc,tb,oc,nb,Nb,hc,uc,fd,Yb,pc,Wc,vc,Fc,Md,Ub,qc;try{for(var nc;Kb;){hb=Kb[m.Wj];cc=Vb;dc=cc.push;tb=F++;oc=q(hb.begin,ma);nb=q(hb.end,ma);Nb=void 0;hc=Xa;uc=ja;fd=Ya;Yb=Ma;pc=Kb[m.Wj];Wc=p(Kb[m.Wj],Ec,Fa,Wa,R);vc=Wc.region;Fc=pc.displayAlign;Md=Wc.textAlign;Ub=pc.origin;qc=pc.extent;vc || Fc || Md || Ub || qc?((Nb=hc[vc])?Nb=d.JD(Nb):Fc || Ub || qc?(Nb=d.JD(K),Nb.id=F++):Nb=d.JD(J),u(Nb,uc,Fc,Md,Ub,qc,fd,Yb)):Nb=J;dc.call(cc,{id:tb,startTime:oc,endTime:nb,region:Nb,textNodes:t(Kb,Kd,qe,kc,Fa,Wa,za,Ia,Sa)});Kb=Kb[m.$C];nc=d.ZH();if(100 < nc - Ld){Ld=Date.now();ed=setTimeout(ua,1);return;}}}catch(cg){sa({oa:f.L.JY,rb:f.wd(cg)});return;}ed=setTimeout(X,1);}function X(){var cc,dc,tb,oc,nb,Nb,hc;function nc(uc,fd){for(var Yb,pc=[],Wc={},vc,Fc=dc.length;Fc--;){Yb=dc[Fc];vc=Yb.region.id;Wc[vc] || (Wc[vc]=1,pc.unshift(Yb));}(Yb=cc[cc.length - 1]) && Yb.endTime == uc && f.rs(Yb.blocks,pc)?Yb.endTime=fd:cc.push({id:F++,startTime:uc,endTime:fd,blocks:pc});}try{if(!Vb.length){sa({W:!0,entries:[]});return;}f.MMa(Vb,"startTime");cc=[];dc=[];tb=Vb[0];oc=Vb[0].startTime;for(nb=1;dc.length || tb;){for(;!dc.length || tb && tb.startTime == oc;){dc.push(tb);oc=tb.startTime;tb=Vb[nb++];}hc=z(dc);if(!tb || hc <= tb.startTime)for((nc(oc,hc),oc=hc,Nb=dc.length);Nb--;){dc[Nb].endTime <= oc && dc.splice(Nb,1);}else (nc(oc,tb.startTime),oc=tb.startTime,dc.push(tb),tb=Vb[nb++]);}for(nb=cc.length;nb--;){cc[nb].index=nb;cc[nb].previous=cc[nb - 1];cc[nb].next=cc[nb + 1];}}catch(uc){sa({oa:f.L.JY,rb:f.wd(uc)});return;}sa({W:!0,entries:cc});}function sa(nc){setTimeout(function(){O.abort=f.Ik;wa(nc);},1);}O={abort:function(){ed && clearTimeout(ed);}};try{T=P[m.Wj];ma=l.Hk / (f.ue(T.tickRate) || 1);ja=D(T,S);Qa=f.Tb(K,{marginLeft:ja.OT,marginTop:ja.Z8,marginRight:ja.OT,marginBottom:ja.Z8});Fa={};Wa={};Xa={};Za=P.head;kb=P.body;Ya=E(T,S);Sa=1 / Ya.y * ja.Bua;za=f.Tb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.Bpa,characterEdgeColor:"#000000",characterSize:1},ea,{dz:!0});Ia=qa || ({});Ma={Ll:0};if(Za){Ta=Za.styling;if(Ta)for(db=Ta.style;db;){hb=db[m.Wj];B(hb);Fa[hb.id]=hb;db=db[m.$C];}wb=Za.layout;if(wb)for(var Eb=wb.region;Eb;){hb=Eb[m.Wj];Hb=hb.id;Pb=f.yN(Fa[hb.style]);Pb=f.Tb(Pb,hb);for(db=Eb.style;db;){f.Tb(Pb,db[m.Wj]);db=db[m.$C];}B(Pb);Wa[Hb]=Pb;Xa[Hb]=v(Pb,ja,Qa,Ya,Ma);Eb=Eb[m.$C];}}Cb=kb.div;Kb=Cb.p;Vb=[];kc={};kc=p(kb[m.Wj],kc,Fa,Wa,L);kc=p(Cb[m.Wj],kc,Fa,Wa,L);Ec={};Ec=p(kb[m.Wj],Ec,Fa,Wa,R);Ec=p(Cb[m.Wj],Ec,Fa,Wa,R);Kd=w(kc,za,Ia,Sa);f.Tb(Kd,{windowColor:k(Ia.windowColor || za.windowColor),windowOpacity:n(f.x1(Ia.windowOpacity,za.windowOpacity),b.I6,1),cellResolution:Ya},{dz:!0});qe={};Cb.p=void 0;Cb[m.kO]=[];}catch(nc){sa({oa:f.L.JY,rb:f.wd(nc)});return;}Ld=d.ZH();ed=setTimeout(ua,1);return O;};})();b.r0a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.q0a={SMALL:.5,MEDIUM:1,LARGE:2};b.I6={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.p0a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.n0a="NONE";b.BMb="RAISED";b.AMb="DEPRESED";b.o0a="UNIFORM";b.Bpa="DROP_SHADOW";b.l0a={x:40,y:19};b.m0a={x:52,y:19};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Web=void 0;c=a(1);r=a(109);f=a(997);l=a(1002);m=a(1009);a=(function(d){function g(h,k){var n,q;n=d.call(this) || this;n.sj=!0;n.EQ=[];n.Fu=0;q=h.$e || !1;n.Ha=h.za || console;n.sE=h.request;n.Zw=h.PBb;n.vg=null;n.sj=!0;n.EQ=[];n.UQ=k.profile;n.Pk=k.url;n.pE=k.pd;n.TQ=k.preferences;n.qQ=k.Il;n.Fu=n.pE || 0;h={url:n.Pk,request:n.sE,pd:n.pE,xml:k.xml,preferences:n.TQ,Il:n.qQ,za:n.Ha,$e:q,bufferSize:k.bufferSize,jt:k.jt,Cqa:k.Cqa || 0,FNa:k.FNa};if("nflx-cmisc" === n.UQ)(h.offset=k.qoa,h.size=k.sZa,h.G7=k.G7,h.hRa=k.hRa,n.Qc=new l(h));else if(-1 < ["simplesdh","dfxp-ls-sdh"].indexOf(n.UQ) && "function" === typeof f)n.Qc=new f(h);else throw Error("SubtitleManager: " + n.UQ + " is an unsupported profile");n.Qc.on("ready",function(){var p,t;p=! !k.kNa;n.Ha.info("ready event fired by subtitle stream");n.emit("ready");t=n.Qc.xF.bind(n.Qc);n.vg=new m(n.Zw,t,function(){return n.sj;},n.Ha,k);if("dfxp-ls-sdh" === n.UQ && "function" === typeof f)n.vg.on("stagesubtitle",n.jUb.bind(n));n.vg.on("showsubtitle",n.Jsa.bind(n));n.vg.on("removesubtitle",n.lra.bind(n));n.vg.on("underflow",n.hn.bind(n));n.vg.on("bufferingComplete",n.Be.bind(n));p && (n.Ha.info("autostarting subtitles"),setTimeout(function(){n.Hr(n.Zw());},10));});n.Qc.on("error",n.emit.bind(n,"error"));return n;}c.__extends(g,d);g.prototype.start=function(){this.Qc.start();};g.prototype.Dqa=function(){this.sj || (this.sj=!0,this.BRa(this.Fu));};g.prototype.Hr=function(h){!this.sj && 1E4 < Math.abs(h - this.Fu) && (this.Ha.warn("Detected an unexpected pts jump larger than",1E4,"at",h,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Dqa());this.Fu=h;this.sj && (this.sj=!1,this.lUb(h));null !== this.vg && (this.mXb(h),this.vg.Hr(h));};g.prototype.stop=function(){var h;this.Ha.info("stop called");this.sj || this.pause();this.Qc.removeAllListeners(["ready"]);null !== this.vg && this.vg.stop();h=this.EQ.reduce(function(k,n){k.q4a+=n.KW;k.C2+=n.D2 || 0;k.UEb.push(n);return k;},{q4a:0,C2:0,UEb:[]});"object" === typeof this.Qc && this.Qc.close();this.Ha.info("metrics: " + JSON.stringify(h));return h;};g.prototype.pause=function(){var h;h=this.Zw();this.sj?this.Ha.warn("pause called on subtitle manager, but it was already paused!"):(this.Ha.info("pause called at " + h),this.sj=!0,this.BRa(h));null !== this.vg && this.vg.pause();};g.prototype.tL=function(h,k){return "function" === typeof this.Qc.tL?this.Qc.tL(h,k):[];};g.prototype.Vq=function(h,k){return this.Qc.Vq(h,k);};g.prototype.xF=function(h){return this.Qc.xF(h);};g.prototype.Dz=function(h){var n;function k(){n.Ha.info("bufferingComplete from setStreamStartPosition");n.emit("bufferingComplete");}n=this;"function" === typeof this.Qc.Dz?this.Qc.Dz(h,k):k();};g.prototype.Ak=function(h,k){"function" === typeof this.Qc.Ak && this.Qc.Ak(h,k);};g.prototype.si=function(h,k){"function" === typeof this.Qc.si && this.Qc.si(h,k);};g.prototype.Xja=function(){return this.EQ[this.EQ.length - 1];};g.prototype.Jsa=function(h){var k,n,q,u;n=0;this.Ha.info("show subtitle called at " + this.Zw() + " for displayTime " + h.displayTime);this.emit("showsubtitle",h);q=this.Xja();q.zN || (q.zN={});if("dfxp-ls-sdh" === this.UQ)try{for(var p=c.__values(h.blocks),t=p.next();!t.done;t=p.next()){u=t.value;q.zN[u.id] || (n++,q.zN[u.id]=!0);}}catch(w){var v;v={error:w};}finally{try{t && !t.done && (k=p.return) && k.call(p);}finally{if(v)throw v.error;}}else q.zN[h.id] || (n++,q.zN[h.id]=!0);q.KW+=n;};g.prototype.lra=function(h){this.Ha.info("remove subtitle called at " + this.Zw() + " for remove time " + (h.displayTime + h.duration));this.emit("removesubtitle",h);};g.prototype.jUb=function(h){this.Ha.info("stage subtitle called at " + this.Zw() + " for displayTime " + h.displayTime);this.emit("stagesubtitle",h);};g.prototype.hn=function(){this.Ha.info("underflow fired by the subtitle timer");this.emit("underflow");};g.prototype.Be=function(){this.Ha.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};g.prototype.lUb=function(h){this.Ha.info("creating a new subtitle interval at " + h);this.EQ.push({X:h,KW:0});};g.prototype.mXb=function(h){var k;k=this.Xja();k && (k.Uma=h);};g.prototype.BRa=function(h){var k;this.Ha.info("ending subtitle interval at " + h);k=this.Xja();k && (k.Ea=h,k.Ea < k.X && (this.Ha.warn("correcting for interval where endPts is smaller than startPts"),k.X=0 < k.Ea?k.Ea - 1:0),k.D2=this.Qc.Vq(k.X,k.Ea),delete k.zN,k.D2 > k.KW && k.Uma && 500 > k.Ea - k.Uma && (k.D2=this.Qc.Vq(k.X,k.Uma)),this.Ha.info("showed " + k.KW + " during this interval"),this.Ha.info("expected " + k.D2 + " for this interval"));};return g;})(r.EventEmitter);b.Web=a;b.default=a;},function(r,b,a){var v,w,x,y,A,z,B,D,E;function c(F){var C,G,J,K,H;C=F.preferences;G=F.Il;J=F.pd;K=F.xml;H=F.za;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.Ig=this.hda=null;this.TQ="object" === typeof C?F.preferences:{};this.qQ="object" === typeof G?F.Il:{};this.YA="number" === typeof J?F.pd:0;this.DE="string" === typeof K?F.xml:"";this.Ha="object" === typeof H?F.za:E;this.sE=F.request;this.Pk=F.url;this.EA=[];this.Fu=this.YA;this.vg=null;this.Qda=this.PKa=!1;this.Rfb=F.Cqa || 0;}function f(F,C){return F && "object" === typeof F[C] && null !== F[C]?F[C]:{};}function l(F,C){return F !== C && !(F && 0 === Object.keys(F).length && C && 0 === Object.keys(C).length);}function m(){var F,C,G;F=this;C=F.DE.indexOf("<p");if(-1 < C){G=F.DE.slice(0,C);h(G,function(J,K){null !== J?(J.Y5b=G,F.emit("error",J)):(F.hda=K,F.Ig=new x(F.DE,K.tickRate),g.call(F,F.YA));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,C){var G;G=F.filter(function(J){return J.startTime <= C && C <= J.endTime;});F=F.filter(function(J){return J.startTime > C;});return 0 < F.length?G.concat([F[0]]):G;}function g(F){var C,G,J,K,H,L,R;C=this;G=C.hda;J=0;K=[];H=G.defaultStyle?[G.defaultStyle]:[];C.Ha.info("parsing the next 5 entries...");L=C.Ig.rBb(F);C.Ha.info(L);R=w.ac(!0);R.onerror=function(I){I.xml=L;C.emit("error",I);};R.onend=function(){var I;I=C.EA.reduce(function(Q,N){N=N.blocks.reduce(function(M,P){return M.concat([P.id]);},[]);return Q.concat(N);},[]);K.forEach(function(Q){var N;if(-1 === I.indexOf(Q.id)){N=Q && Q.blocks && Q.blocks.filter(function(M){return 0 < M.textNodes.length;});N && 0 < N.length && (Q.blocks=N,C.EA.push(Q));}});C.Qda=!1;C.PKa || (C.PKa=!0,C.emit("ready"));};R.ontext=function(I){("" !== I.trim() || I.match(/ +/)) && p(p(K).blocks).textNodes.push({text:I.match(/ +/)?I:I.trim(),style:p(H),lineBreaks:J});J=0;};R.onclosetag=function(){"undefined" !== typeof R.tag.attributes.style && H.pop();};R.onopentag=function(I){var Q,N,M,P,S;Q=I.attributes;N=I.name;I=G.tickRate;if("p" === N){J=0;N=Q["xml:id"];Q.style && H.push(Q.style);M=Math.floor(parseInt(Q.begin) / I * 1E3);if(0 === K.length || p(K).displayTime !== M){M=K.push;P={};S=parseInt(Q.begin) / I;I=parseInt(Q.end) / I;P.id=N;P.startTime=Math.floor(1E3 * S);P.endTime=Math.floor(1E3 * I);P.style=Q.style;P.region=Q.region;P.displayTime=P.startTime;P.duration=P.endTime - P.startTime;P.extent=Q["tts:extent"] || null;P.origin=Q["tts:origin"] || null;P.latestEndSoFar=0 > P.endTime?0:P.endTime;P.blocks=[{textNodes:[],region:P.region,id:N,extent:P.extent,origin:P.origin}];M.call(K,P);}else p(K).blocks.push({textNodes:[],region:Q.region,id:N,extent:Q["tts:extent"] || null,origin:Q["tts:origin"] || null});}else "span" === N?H.push(Q.style):"br" === N && J++;};R.write("<entries>").write(L).write("</entries>").close();}function h(F,C){var G,J,K,H,L;G=w.ac(!0);J={};K=[];H=null;L=[];G.onerror=function(R){C(R,null);};G.onend=function(){C(null,J);};G.onclosetag=function(){K.pop();};G.onopentag=function(R){var I,Q,N,M;I=R.attributes;Q=R.name;N=J.regions;M=J.styles;K.push(R);"tt" === Q?J=k(I):"body" === Q?"undefined" !== typeof I.style && (J.defaultStyle=I.style,L.push(I.style)):"style" === Q && q(K,"styling")?M[I["xml:id"]]=n(I,z):"style" === Q && q(K,"region")?(R=Object.keys(I)[0],"string" === typeof R && (N[H][R.slice(4)]=I[R])):"region" === Q && q(K,"layout") && (H=I["xml:id"],N[H]=n(I,D));};setTimeout(function(){var R;for(G.write(F);0 < K.length && !G.error;){R=p(K).name;G.write("</" + R + ">");}G.close();},10);}function k(F){var C;F=n(F,B);if("string" === typeof F.extent){C=F.extent.split(" ").map(function(G){return parseInt(G,10);});F.width=C[0];F.height=C[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(C=F.cellResolution.split(" ").map(function(G){return parseInt(G,10);}),F.cellResolution={},F.cellResolution.x=C[0],F.cellResolution.y=C[1]):F.cellResolution={x:52,y:19};return F;}function n(F,C){var G;G={};C.forEach(function(J){"undefined" !== typeof F["tts:" + J]?G[J]=F["tts:" + J]:"undefined" !== typeof F["ttp:" + J] && (G[J]=F["ttp:" + J]);});G.styles={};G.regions={};return G;}function q(F,C){var G;for(G=F.length - 1;0 <= G;G--){if(F[G].name === C)return !0;}return !1;}function p(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function t(F,C){return {lineBreaks:C.lineBreaks,text:C.text,style:A.ltb(F[C.style] || ({}),this.qQ,this.TQ),id:C.id};}function u(F,C){var G,J;G=this;J=F.styles || ({});return {startTime:C.startTime,id:C.id,endTime:C.endTime,displayTime:C.displayTime,duration:C.duration,blocks:C.blocks.map(function(K){var H;H=y.htb(F,K);return {textNodes:K.textNodes.map(t.bind(G,J)),region:H,id:K.id};})};}v=a(109).EventEmitter;w=a(998);x=a(999);y=a(1E3);A=a(1001);z=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline").split(" ");B=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"];D=["backgroundColor","displayAlign","extent","origin"];E={info:function(){}};b=Object.create(v.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Ha.info("incremental text stream created, starting at pts " + F.YA);F.DE?m.call(F):F.sE({url:F.Pk},function(C,G){F.DE=G;m.call(F);});};b.xF=function(F){var C,G,J;C=this;F < C.Fu - C.Rfb && (C.EA=[]);G=C.EA;J=0 < G.length?G[G.length - 1].startTime:F;C.Fu=F;for(!C.vg && 5 > C.EA.length && !C.Qda && (C.Ha.info("buffer size: " + C.EA.length + "; minimum: 5"),C.Qda=!0,C.vg=setTimeout(function(){C.vg=null;g.call(C,J + 1);},10));0 < G.length && G[0].endTime < F;){G.shift();}G=d(G,F).map(u.bind(C,C.hda));F < C.Ig.Lxb() && 0 === G.length && (G=null);return G;};b.Vq=function(F,C){return this.Ig?this.Ig.Vq(F,C):0;};b.close=function(){};b.c9b=function(F){var C;C=f(F,"preferences");F=f(F,"defaults");return l(C,this.TQ) || l(F,this.qQ)?(this.TQ=C,this.qQ=F,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I;function c(){}function f(Q,N){if(!(this instanceof f))return new f(Q,N);for(var M=0,P=x.length;M < P;M++){this[x[M]]="";}this.q=this.c=this.Am=this.textNode="";this.BNa=a.oaa;this.Rm=N || ({});this.Rm.nYa=this.Rm.nYa || this.Rm.A6b;this.vna=this.Rm.nYa?"toLowerCase":"toUpperCase";this.dn=[];this.closed=this.bS=this.kN=!1;this.tag=this.error=null;this.QC=! !Q;this.i_a=!(!Q && !this.Rm.i_a);this.state=I.S9;this.xw=(this.d5a=this.Rm.d5a)?Object.create(a.rfb):Object.create(a.xw);this.eB=[];this.Rm.SX && (this.Kj=Object.create(H));if(this.E8=!1 !== this.Rm.position)this.position=this.line=this.cS=0;this.onready && this.onready(void 0);}function l(Q,N){var M;if(!(this instanceof l))return new l(Q,N);c.apply(this);this.dx=new f(Q,N);this.readable=this.writable=!0;M=this;this.dx.onend=function(){M.emit("end");};this.dx.onerror=function(P){M.emit("error",P);M.dx.error=null;};y.forEach(function(P){Object.defineProperty(M,"on" + P,{get:function(){return M.dx["on" + P];},set:function(S){if(!S)return (M.removeAllListeners(P),M.dx["on" + P]=S);M.on(P,S);},enumerable:!0,configurable:!1});});}function m(Q){return Q.split("").reduce(function(N,M){N[M]=!0;return N;},{});}function d(Q,N){return "[object RegExp]" === Object.prototype.toString.call(Q)?! !N.match(Q):Q[N];}function g(Q,N,M){Q.textNode && h(Q);Q[N] && Q[N](M);}function h(Q){Q.textNode=k(Q.Rm,Q.textNode);Q.textNode && Q.ontext && Q.ontext(Q.textNode);Q.textNode="";}function k(Q,N){Q.trim && (N=N.trim());Q.normalize && (N=N.replace(/\s+/g," "));return N;}function n(Q,N){h(Q);Q.E8 && (N+="\nLine: " + Q.line + "\nColumn: " + Q.cS + "\nChar: " + Q.c);N=Error(N);Q.error=N;Q.onerror && Q.onerror(N);return Q;}function q(Q){Q.kN && !Q.bS && p(Q,"Unclosed root tag");Q.state !== I.S9 && Q.state !== I.T9 && Q.state !== I.hm && n(Q,"Unexpected end");h(Q);Q.c="";Q.closed=!0;Q.onend && Q.onend(void 0);f.call(Q,Q.QC,Q.Rm);return Q;}function p(Q,N){if("object" !== typeof Q || !(Q instanceof f))throw Error("bad call to strictFail");Q.QC && n(Q,N);}function t(Q,N){var M,P;M=0 > Q.indexOf(":")?["",Q]:Q.split(":");P=M[0];M=M[1];N && "xmlns" === Q && (P="xmlns",M="");return {prefix:P,local:M};}function u(Q){var N,M,P;Q.QC || (Q.Ei=Q.Ei[Q.vna]());if(-1 !== Q.eB.indexOf(Q.Ei) || Q.tag.attributes.hasOwnProperty(Q.Ei))return Q.Ei=Q.Fi="";if(Q.Rm.SX){N=t(Q.Ei,!0);M=N.local;if("xmlns" === N.prefix)if("xml" === M && Q.Fi !== J)p(Q,"xml: prefix must be bound to " + J + "\nActual: " + Q.Fi);else if("xmlns" === M && Q.Fi !== K)p(Q,"xmlns: prefix must be bound to " + K + "\nActual: " + Q.Fi);else {N=Q.tag;P=Q.dn[Q.dn.length - 1] || Q;N.Kj === P.Kj && (N.Kj=Object.create(P.Kj));N.Kj[M]=Q.Fi;}Q.eB.push([Q.Ei,Q.Fi]);}else (Q.tag.attributes[Q.Ei]=Q.Fi,g(Q,"onattribute",{name:Q.Ei,value:Q.Fi}));Q.Ei=Q.Fi="";}function v(Q,N){var M,P,ea,qa,wa,ua,X;if(Q.Rm.SX){M=Q.tag;P=t(Q.tagName);M.prefix=P.prefix;M.local=P.local;M.uri=M.Kj[P.prefix] || "";M.prefix && !M.uri && (p(Q,"Unbound namespace prefix: " + JSON.stringify(Q.tagName)),M.uri=P.prefix);P=Q.dn[Q.dn.length - 1] || Q;M.Kj && P.Kj !== M.Kj && Object.keys(M.Kj).forEach(function(sa){g(Q,"onopennamespace",{prefix:sa,uri:M.Kj[sa]});});P=0;for(var S=Q.eB.length;P < S;P++){ea=Q.eB[P];qa=ea[0];wa=ea[1];ua=t(qa,!0);ea=ua.prefix;X="" == ea?"":M.Kj[ea] || "";wa={name:qa,value:wa,prefix:ea,local:ua.local,uri:X};ea && "xmlns" != ea && !X && (p(Q,"Unbound namespace prefix: " + JSON.stringify(ea)),wa.uri=ea);Q.tag.attributes[qa]=wa;g(Q,"onattribute",wa);}Q.eB.length=0;}Q.tag.t6b=! !N;Q.kN=!0;Q.dn.push(Q.tag);g(Q,"onopentag",Q.tag);N || (Q.state=Q.i_a || "script" !== Q.tagName.toLowerCase()?I.hm:I.FI,Q.tag=null,Q.tagName="");Q.Ei=Q.Fi="";Q.eB.length=0;}function w(Q){var N,M,S;if(Q.tagName){if(Q.Sj){if("script" !== Q.tagName){Q.Sj+="</" + Q.tagName + ">";Q.tagName="";Q.state=I.FI;return;}g(Q,"onscript",Q.Sj);Q.Sj="";}N=Q.dn.length;M=Q.tagName;Q.QC || (M=M[Q.vna]());for(var P=M;N--;){if(Q.dn[N].name !== P)p(Q,"Unexpected close tag");else break;}if(0 > N)(p(Q,"Unmatched closing tag: " + Q.tagName),Q.textNode+="</" + Q.tagName + ">");else {Q.tagName=M;for(M=Q.dn.length;M-- > N;){S=Q.tag=Q.dn.pop();Q.tagName=Q.tag.name;g(Q,"onclosetag",Q.tagName);for(var ea in S.Kj){;}P=Q.dn[Q.dn.length - 1] || Q;Q.Rm.SX && S.Kj !== P.Kj && Object.keys(S.Kj).forEach(function(qa){g(Q,"onclosenamespace",{prefix:qa,uri:S.Kj[qa]});});}0 === N && (Q.bS=!0);Q.tagName=Q.Fi=Q.Ei="";Q.eB.length=0;}}else (p(Q,"Weird empty close tag."),Q.textNode+="</>");Q.state=I.hm;}a.ac=function(Q,N){return new f(Q,N);};a.J2b=f;a.K2b=l;a.JPa=function(Q){return new l(Q,void 0);};a.oaa=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.ze=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(Q){function N(){this.__proto__=Q;}N.prototype=Q;return new N();});Object.getPrototypeOf || (Object.getPrototypeOf=function(Q){return Q.__proto__;});Object.keys || (Object.keys=function(Q){var N,M;N=[];for(M in Q){Q.hasOwnProperty(M) && N.push(M);}return N;});f.prototype={end:function(){q(this);},write:function(Q){var S,ea,qa,wa,ua,X;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === Q)return q(this);if(this.error)throw this.error;for(var N=0,M;this.c=M=Q.charAt(N++);){switch((this.E8 && (this.position++,"\n" === M?(this.line++,this.cS=0):this.cS++),this.state)){case I.S9:if((this.state=I.T9,"\ufeff" === M))continue;case I.T9:"<" === M?(this.state=I.Gaa,this.$sa=this.position):d(A,M) || (p(this,"Non-whitespace before first tag."),this.textNode=M,this.state=I.hm);continue;case I.hm:if(this.kN && !this.bS){for(var P=N - 1;M && "<" !== M && "&" !== M;){(M=Q.charAt(N++)) && this.E8 && (this.position++,"\n" === M?(this.line++,this.cS=0):this.cS++);}this.textNode+=Q.substring(P,N - 1);}"<" !== M || this.kN && this.bS && !this.QC?(d(A,M) || this.kN && !this.bS || p(this,"Text data outside of root node."),"&" === M?this.state=I.Tba:this.textNode+=M):(this.state=I.Gaa,this.$sa=this.position);continue;case I.FI:"<" === M?this.state=I.eGa:this.Sj+=M;continue;case I.eGa:"/" === M?this.state=I.b$:(this.Sj+="<" + M,this.state=I.FI);continue;case I.Gaa:"!" === M?(this.state=I.Gba,this.zr=""):d(A,M) || (d(L,M)?(this.state=I.aDa,this.tagName=M):"/" === M?(this.state=I.b$,this.tagName=""):"?" === M?(this.state=I.wDa,this.d7=this.JG=""):(p(this,"Unencoded <"),this.$sa + 1 < this.position && (M=Array(this.position - this.$sa).join(" ") + M),this.textNode+="<" + M,this.state=I.hm));continue;case I.Gba:(this.zr + M).toUpperCase() === C?(g(this,"onopencdata"),this.state=I.fY,this.Cl=this.zr=""):"--" === this.zr + M?(this.state=I.hY,this.zr=this.qs=""):(this.zr + M).toUpperCase() === G?(this.state=I.mY,(this.doctype || this.kN) && p(this,"Inappropriately located doctype declaration"),this.zr=this.doctype=""):">" === M?(g(this,"onsgmldeclaration",this.zr),this.zr="",this.state=I.hm):(d(D,M) && (this.state=I.hGa),this.zr+=M);continue;case I.hGa:M === this.q && (this.state=I.Gba,this.q="");this.zr+=M;continue;case I.mY:">" === M?(this.state=I.hm,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=M,"[" === M?this.state=I.m$:d(D,M) && (this.state=I.nxa,this.q=M));continue;case I.nxa:this.doctype+=M;M === this.q && (this.q="",this.state=I.mY);continue;case I.m$:this.doctype+=M;"]" === M?this.state=I.mY:d(D,M) && (this.state=I.mxa,this.q=M);continue;case I.mxa:this.doctype+=M;M === this.q && (this.state=I.m$,this.q="");continue;case I.hY:"-" === M?this.state=I.pwa:this.qs+=M;continue;case I.pwa:"-" === M?(this.state=I.owa,(this.qs=k(this.Rm,this.qs)) && g(this,"oncomment",this.qs),this.qs=""):(this.qs+="-" + M,this.state=I.hY);continue;case I.owa:">" !== M?(p(this,"Malformed comment"),this.qs+="--" + M,this.state=I.hY):this.state=I.hm;continue;case I.fY:"]" === M?this.state=I.iwa:this.Cl+=M;continue;case I.iwa:"]" === M?this.state=I.jwa:(this.Cl+="]" + M,this.state=I.fY);continue;case I.jwa:">" === M?(this.Cl && g(this,"oncdata",this.Cl),g(this,"onclosecdata"),this.Cl="",this.state=I.hm):"]" === M?this.Cl+="]":(this.Cl+="]]" + M,this.state=I.fY);continue;case I.wDa:"?" === M?this.state=I.Taa:d(A,M)?this.state=I.Saa:this.d7+=M;continue;case I.Saa:if(!this.JG && d(A,M))continue;else "?" === M?this.state=I.Taa:this.JG+=M;continue;case I.Taa:">" === M?(g(this,"onprocessinginstruction",{name:this.d7,body:this.JG}),this.d7=this.JG="",this.state=I.hm):(this.JG+="?" + M,this.state=I.Saa);continue;case I.aDa:if(d(R,M))this.tagName+=M;else {this.QC || (this.tagName=this.tagName[this.vna]());P=this.dn[this.dn.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.Rm.SX && (S.Kj=P.Kj);this.eB.length=0;">" === M?v(this):"/" === M?this.state=I.qZ:(!d(A,M) && p(this,"Invalid character in tag name"),this.state=I.QH);}continue;case I.qZ:">" === M?(v(this,!0),w(this)):(p(this,"Forward-slash in opening tag not followed by >"),this.state=I.QH);continue;case I.QH:if(d(A,M))continue;else ">" === M?v(this):"/" === M?this.state=I.qZ:d(L,M)?(this.Ei=M,this.Fi="",this.state=I.XX):p(this,"Invalid attribute name");continue;case I.XX:"=" === M?this.state=I.r9:">" === M?(p(this,"Attribute without value"),this.Fi=this.Ei,u(this),v(this)):d(A,M)?this.state=I.Uua:d(R,M)?this.Ei+=M:p(this,"Invalid attribute name");continue;case I.Uua:if("=" === M)this.state=I.r9;else if(d(A,M))continue;else (p(this,"Attribute without value"),this.Fi=this.tag.attributes[this.Ei]="",g(this,"onattribute",{name:this.Ei,value:""}),this.Ei="",">" === M?v(this):d(L,M)?(this.Ei=M,this.state=I.XX):(p(this,"Invalid attribute name"),this.state=I.QH));continue;case I.r9:if(d(A,M))continue;else d(D,M)?(this.q=M,this.state=I.u9):(p(this,"Unquoted attribute value"),this.state=I.v9,this.Fi=M);continue;case I.u9:if(M !== this.q){"&" === M?this.state=I.s9:this.Fi+=M;continue;}u(this);this.q="";this.state=I.Vua;continue;case I.Vua:d(A,M)?this.state=I.QH:">" === M?v(this):"/" === M?this.state=I.qZ:d(L,M)?(p(this,"No whitespace between attributes"),this.Ei=M,this.Fi="",this.state=I.XX):p(this,"Invalid attribute name");continue;case I.v9:if(!d(F,M)){"&" === M?this.state=I.t9:this.Fi+=M;continue;}u(this);">" === M?v(this):this.state=I.QH;continue;case I.b$:if(this.tagName)">" === M?w(this):d(R,M)?this.tagName+=M:this.Sj?(this.Sj+="</" + this.tagName,this.tagName="",this.state=I.FI):(!d(A,M) && p(this,"Invalid tagname in closing tag"),this.state=I.mwa);else if(d(A,M))continue;else d(L,M)?this.tagName=M:this.Sj?(this.Sj+="</" + M,this.state=I.FI):p(this,"Invalid tagname in closing tag.");continue;case I.mwa:if(d(A,M))continue;">" === M?w(this):p(this,"Invalid characters in closing tag");continue;case I.Tba:case I.s9:case I.t9:switch(this.state){case I.Tba:(ea=I.hm,qa="textNode");break;case I.s9:ea=I.u9;qa="attribValue";break;case I.t9:(ea=I.v9,qa="attribValue");}if(";" === M){M=qa;P=this[M];S=this.Am;wa=S.toLowerCase();ua="";if(this.xw[S])S=this.xw[S];else if(this.xw[wa])S=this.xw[wa];else {S=wa;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);X=parseInt(S,16);ua=X.toString(16);}else (S=S.slice(1),X=parseInt(S,10),ua=X.toString(10));S=S.replace(/^0+/,"");S=ua.toLowerCase() !== S?(p(this,"Invalid character entity"),"&" + this.Am + ";"):String.fromCodePoint(X);}this[M]=P + S;this.Am="";this.state=ea;}else d(E,M)?this.Am+=M:(p(this,"Invalid character entity"),this[qa]+="&" + this.Am + M,this.Am="",this.state=ea);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.BNa){Q=Math.max(a.oaa,10);M=N=0;for(ea=x.length;M < ea;M++){qa=this[x[M]].length;if(qa > Q)switch(x[M]){case "textNode":h(this);break;case "cdata":g(this,"oncdata",this.Cl);this.Cl="";break;case "script":g(this,"onscript",this.Sj);this.Sj="";break;default:n(this,"Max buffer length exceeded: " + x[M]);}N=Math.max(N,qa);}this.BNa=a.oaa - N + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.Cl && (g(this,"oncdata",this.Cl),this.Cl="");"" !== this.Sj && (g(this,"onscript",this.Sj),this.Sj="");}};y=a.ze.filter(function(Q){return "error" !== Q && "end" !== Q;});l.prototype=Object.create(c.prototype,{constructor:{value:l}});l.prototype.write=function(Q){this.dx.write(Q.toString());this.emit("data",Q);return !0;};l.prototype.end=function(Q){Q && Q.length && this.write(Q);this.dx.end();return !0;};l.prototype.on=function(Q,N){var M;M=this;M.dx["on" + Q] || -1 === y.indexOf(Q) || (M.dx["on" + Q]=function(){var P;P=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,Q);M.emit.apply(M,P);});return c.prototype.on.call(M,Q,N);};A="\r\n\t ";z="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";D="'\"";E=z + B + "#";F=A + ">";C="[CDATA[";G="DOCTYPE";J="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";H={xml:J,SX:K};A=m(A);z=m(z);B=m(B);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;D=m(D);E=m(E);F=m(F);I=0;a.wA={S9:I++,T9:I++,hm:I++,Tba:I++,Gaa:I++,Gba:I++,hGa:I++,mY:I++,nxa:I++,m$:I++,mxa:I++,g_b:I++,hY:I++,pwa:I++,owa:I++,fY:I++,iwa:I++,jwa:I++,wDa:I++,Saa:I++,Taa:I++,aDa:I++,qZ:I++,QH:I++,XX:I++,Uua:I++,r9:I++,u9:I++,Vua:I++,v9:I++,s9:I++,t9:I++,b$:I++,mwa:I++,FI:I++,eGa:I++};a.rfb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.xw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.xw).forEach(function(Q){var N;N=a.xw[Q];N="number" === typeof N?String.fromCharCode(N):N;a.xw[Q]=N;});for(I in a.wA){a.wA[a.wA[I]]=I;}I=a.wA;String.fromCodePoint || (function(){var N,M;function Q(){var P,S,ea,wa,ua;P=[];S=-1;ea=arguments.length;if(!ea)return "";for(var qa="";++S < ea;){wa=Number(arguments[S]);if(!isFinite(wa) || 0 > wa || 1114111 < wa || M(wa) != wa)throw RangeError("Invalid code point: " + wa);if(65535 >= wa)P.push(wa);else {wa-=65536;ua=(wa >> 10) + 55296;wa=wa % 1024 + 56320;P.push(ua,wa);}if(S + 1 == ea || 16384 < P.length)(qa+=N.apply(null,P),P.length=0);}return qa;}N=String.fromCharCode;M=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Q,configurable:!0,writable:!0}):String.fromCodePoint=Q;})();})(b);},function(r){function b(a,c){var f,l,m,d,g,h;f=[];l=a.indexOf("<p");m=-1;do {d={};d.bUb=l;g=a.indexOf("begin=",l) + 7;h=a.indexOf("end=",l) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=g;d.endTime=h;d.latestEndSoFar=m;d.JRa=a.indexOf("/p>",l) + 3;l=d.JRa;f.push(d);l=a.indexOf("<p",l);}while(-1 !== l);this.C_=f;this.DE=a;}b.prototype.Lxb=function(){return this.C_[this.C_.length - 1].endTime;};b.prototype.Vq=function(a,c){return this.C_.filter(function(f){return f.startTime <= c && f.endTime >= a;}).length;};b.prototype.rBb=function(a){for(var c="",f=this.C_.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),l=4;l + 1 < f.length && f[l + 1].startTime === f[4].startTime;){l++;}f=f.slice(0,l + 1);0 < f.length && (c=this.DE.slice(f[0].bUb,f[f.length - 1].JRa));return c;};r.exports=b;},function(r,b,a){var l,m,d;function c(g){return "string" !== typeof g?null:m[g];}function f(g){return g.split(" ").map(function(h){return .01 * parseFloat(h);});}l=a(440);r.exports={htb:function(g,h){var k,n,q,p,t,u;k=h.textNodes[0] || ({});n=g.regions;q=g.styles;g=g.aspectRatio;n=n && n[h.region]?n[h.region]:{};k=q && q[k.style]?q[k.style]:{};q=f(l(h.extent,n.extent,"80% 80%"));p=f(l(h.origin,n.origin,"10% 10%"));h=Object;g/=1280 / 720;t=(1 - g) / 2;u=p[0];p=p[1];q=h.create.call(h,{marginLeft:u * g + t,marginTop:p,marginRight:(1 - (u + q[0])) * g + t,marginBottom:1 - (p + q[1])});1 < Object.keys(n).length?q.verticalAlignment=c(l(k.displayAlign,n.displayAlign,"before")):q.verticalAlignment=c(l(k.displayAlign,"after"));n=l(k.textAlign,n.textAlign,"center");q.horizontalAlignment="string" !== typeof n?null:d[n];return q;}};m={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};},function(r,b,a){var l,m,d,g,h,k,n;function c(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:d[q.toLowerCase()];}function f(q){var p,t,u;p=(q || "").split(" ");t=(/^[0-9]/).test(p);q=t?"#000000":c(p[0]);u=t?0:1;t=parseInt(p[u]);p=parseInt(p[u + 1]);return {color:q,width:0 < t?t:0,blur:0 < p?p:0};}l=a(440);r.exports={ltb:function(q,p,t){var u,v,w,x,y,A,z,B,D,E,F,C,G,J;u=l(t.characterSize,p.characterSize,"MEDIUM");v=q.fontFamily;v=l(t.characterStyle,"string" !== typeof v?null:g[v],p.characterStyle,"PROPORTIONAL_SANS_SERIF");w=parseInt(q.fontSize,10) / 100 || 1;x="underline" === q.textDecoration;y="italic" === q.fontStyle;A=m[l(t.aZb,p.aZb,"OPAQUE")];z=m[l(t.characterOpacity,p.characterOpacity,"OPAQUE")];B=m[l(t.backgroundOpacity,q.opacity,p.backgroundOpacity,"OPAQUE")];D=c(l(t.characterColor,q.color,p.characterColor,"#ffffff"));E=c(l(t.backgroundColor,q.backgroundColor,p.backgroundColor,null));F=c(l(t.K7a,q.K7a,p.K7a,null));C=l(t.characterEdgeAttributes,p.characterEdgeAttributes,null);w*=h[u] || 1;G=1;k[u] && (G=k[u][v] || 1);w*=1 / 19 * G;G=0;n[u] && (G=n[u][v] || 0);u=G;G=q.textOutline;G="string" !== typeof G?null:f(G).width;G=l(G,0);J=q.textOutline;J="string" !== typeof J?null:f(J).blur;J=l(J,0);t=t.characterEdgeColor;q=q.textOutline;q="string" !== typeof q?null:f(q).color;return {characterUnderline:x,characterItalic:y,characterStyle:v,windowOpacity:A,characterOpacity:z,backgroundOpacity:B,characterColor:D,backgroundColor:E,windowColor:F,characterEdgeAttributes:C,characterSize:w,characterTracking:u,characterEdgeWidth:G,characterEdgeBlur:J,characterEdgeColor:c(l(t,q,p.characterEdgeColor,"#000000"))};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};g={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};k={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var f,l,m,d,g,h;function c(k){f.call(this);this.Pk=k.url;this.sE=k.request;this.pE=k.pd || 0;this.Ha=k.za;this.$h=this.Cq=null;k.jt?this.Cq=k.jt:(this.Ae=k.offset,this.HJ=k.size);this.zl;this.Oda=k;}f=a(109).EventEmitter;l=a(1003);m=a(1004);d=a(1005);g=a(153);h=c.events={hcb:"midxready",Aeb:"sidxready",leb:"ready",xf:"error"};c.prototype=Object.create(f.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Ko:{get:function(){return this.zl && this.zl.zha;}}});c.prototype.start=function(){this.Cq?(this.Ha.warn("midx was prefectched and provided"),this.kJa(this.Cq)):this.Dgb(this.Ae,this.HJ,this.ujb.bind(this));};c.prototype.close=function(){};c.prototype.tL=function(k,n){return this.zl && this.zl.Uka(k,n);};c.prototype.Vq=function(k,n){return (k=this.tL(k,n))?k.length:k;};c.prototype.Dz=function(k,n){this.Ha.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.pE=k;this.zl?this.zl.Dz(k,n):n && n();};c.prototype.xF=function(k){var n,q,p;if(!this.zl || k > g.uAb(this.Cq))return [];this.zl && this.zl.mia(k);n=this.Ko.Ar;q=this.Ko.index;p=[];q=g.Kc(q) && this.$h[q + 1];if(!(q && q.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (p=this.wJa(n,k,[]));2 > p.length && q && q.images.length && (n=this.wJa(q,k,p),p.push.apply(p,n));return this.zl.Hsa(k)?null:g.dPa(p);};c.prototype.si=function(k,n){this.zl && this.zl.si(k,n);};c.prototype.Ak=function(k,n){this.zl && this.zl.Ak(k,n);};c.prototype.Dgb=function(k,n,q){this.Ha.debug("downloading midx...");this.IJa(k,n,"binary",q);};c.prototype.Egb=function(k,n,q){this.Ha.debug("downloading sidx...");this.IJa(k,n,void 0,q);};c.prototype.IJa=function(k,n,q,p){this.sE({url:this.Pk,offset:k,size:n,responseType:q},p);};c.prototype.ujb=function(k,n){if(k)this.emit(h.xf,g.xT(k,"midxdownloaderror"));else try{this.Cq=new l(n);this.kJa(this.Cq);}catch(q){this.emit(h.xf,g.xT(q,"midxparseerror"));}};c.prototype.kJa=function(k){var n;n=k.entries.reduce(function(q,p){return q + p.size;},0);n?(this.emit(h.hcb,k),this.Egb(k.startOffset,n,this.xjb.bind(this,k))):this.emit(h.xf,g.xT({},"nosidxfoundinmidx"));};c.prototype.xjb=function(k,n,q){var p,t,u,v;p=this;if(n)p.emit(h.xf,g.xT(n,"sidxdownloaderror"));else {t=0;u=0;p.$h=[];try{v=0;k.entries.forEach(function(w){var x;x=new m(q,t,k.Zla,p.Ha,u,u + w.duration,v);p.$h.push(x);w.QTb=x;u=x.Pp;t+=w.size;v++;});}catch(w){p.emit(h.xf,g.xT(w,"sidxparseerror"));return;}p.emit(h.Aeb,p.$h);this.zl=new d(p.Oda,k,p.$h);n=p.pE;p.Oda && p.Oda.G7 || (n=Math.max(p.pE - 1E4,0));this.zl.mia(n,function(w){w && p.Ha.error("initial sidx download failed");p.emit(h.leb);});}};c.prototype.wJa=function(k,n,q){var y;for(var p=k.entries,t=0,u=p.length,v=[],w,x=this.Cq;t < u;){w=p[t];if(w.displayTime <= n)w.displayTime + w.duration >= n && v.push(g.qha(w,k.images[t].data,x));else {y=v.length && v[v.length - 1] || q.length && q[q.length - 1];if(y && y.displayTime > n && y.displayTime !== w.displayTime)break;y.MF !== w.MF && v.push(g.qha(w,k.images[t].data,x));}t++;}return v;};r.exports=c;},function(r,b,a){var f,l;function c(m,d){this.duration=m;this.size=d;this.QTb=void 0;}f=a(260);l=a(153);r.exports=function(m){var k;m=new f(m);this.identifier=m.Nqa(4);l.assert("midx" === this.identifier);this.version=m.Qp(4);l.assert(0 === this.version);this.Zla=m.ph(36);this.creationTime=m.UM();this.Jp=m.UM();this.K=m.UM();this.tRb=m.Tg();this.uRb=m.Tg();this.language=m.ph(16);m.ph(16);this.startOffset=m.UM();this.Ll=m.Tg();for(var d=[],g=0,h=0;h < this.Ll;h++){k=new c(m.Qp(4),m.Tg());d.push(k);g+=k.duration;}this.entries=d;this.endTime=g;};},function(r,b,a){var l,m;function c(d,g,h,k,n,q,p,t){this.displayTime=d;this.duration=g;this.cMb=h;this.dMb=k;this.XTb=n;this.YTb=q;this.MF=p;this.Mla=t;}function f(d,g,h,k,n,q,p){var t;d=new l(d);t=0;d.position=g;this.Ha=k;this.identifier=d.Nqa(4);m.assert("sidx" === this.identifier,k);this.Zla=d.ph(36);m.Zpb(this.Zla,h,k);this.duration=d.Qp(4);this.Ll=d.Tg();this.Sv=n;this.Pp=q;this.index=p || 0;this.entries=[];this.images=[];for(this.bea=0;t < this.Ll;){g=new c(d.Qp(4),d.Qp(4),d.Tg(),d.Tg(),d.Tg(),d.Tg(),d.UM(),d.Qp(4));t++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}l=a(260);m=a(153);f.prototype.wEb=function(){this.bea++;};f.prototype.cub=function(){var d;d=0;this.bea--;1 > this.bea?this.images && 0 < this.images.length && (d+=m.Qka([this]),this.images=[]):this.Ha.debug("Not cleaning up shared sidx with range",this.Sv,"-",this.Pp);return d;};r.exports=f;},function(r,b,a){var m,d;function c(g,h){var n;g=g || 0;if(h)for(var k in h.wa){n=h.wa[k];if(g >= (n.jc || 0) && (!n.Fc || g < n.Fc))return k;}}function f(g,h){return g && h && h.wa[g];}function l(g,h,k){var n;this.Ha=g.za;this.$h=k;this.VA=this.igb(g.G7);this.Jg=[];n=k && k[k.length - 1];this.Fu=n && (n.endTime || n.Pp);this.qg=new m(g,h,k);g=c(g.pd || 0,this.VA);this.vn=this.Ww(g);}m=a(1006);d=a(1008);Object.defineProperties(l.prototype,{zha:{get:function(){return this.qg.zha;}}});l.prototype.Uka=function(g,h){return this.qg && this.qg.Uka(g,h);};l.prototype.mia=function(g,h){this.qg.zSb(g);this.uLa(g);if(!this.VA && this.Fu && g > this.Fu)h && h();else if((g=this.gJa(g,this.vn,2,h),this.VA && 0 < this.vn.YZa.length))h && h();else if(this.VA && this.vn.KL && g){2 > this.Jg.length && this.ogb(this.vn);h=Math.ceil(2 / (this.Jg.length - 1));for(var k=0;k < this.Jg.length && g && 3 > k;k++){g=this.Jg[k];g=this.gJa(g.startTime,g,h);}}};l.prototype.Hsa=function(g){return this.qg.Hsa(g)?(this.qg.Slb(),this.mia(g),this.vn.KL=!1,!0):!1;};l.prototype.Dz=function(g,h){var k;this.uLa(g);this.Jg.forEach(function(n){n.KL=!1;});k=this.vn.Zm && this.vn.Zm[0];this.qg.Dz(g,k && k.index);(g=this.qg.iCb(g)) && g.length?this.qg.RQa(g,h):h && h();};l.prototype.Ak=function(g,h){var k;this.Ha.debug("Set next segment to",h,"for segment",g);g=this.oJa(g) || this.Ww(g);g.p3a=h;k=this;g.eV=g.eV.filter(function(n){if(n.id === h)return !0;k.Nca(n);return !1;});};l.prototype.si=function(g,h){var k;k=f(g,this.VA);Object.keys(k.next).forEach(function(n){k.next[n].weight=h[n] || 0;});};l.prototype.igb=function(g){var h,n;h={};if(g=(g || ({})).wa){h.wa={};for(var k in g){n=g[k] || ({});h.wa[k]={jc:n.jc,Fc:n.Fc,Fh:n.Fh,next:this.hgb(n.next)};}}return h;};l.prototype.hgb=function(g){var h,k;h={};for(k in g){h[k]={weight:(g[k] || ({})).weight};}return h;};l.prototype.uLa=function(g){var h,k;if(this.VA && this.vn.startTime > g || this.vn.endTime && this.vn.endTime < g){h=this.vn;k=c(g,this.VA);k?(this.Ha.debug("Switching segments from",this.vn.id,"to",k,"at pts",g),this.vn=this.oJa(k) || this.Ww(k),this.Nca(h)):this.Ha.debug("The pts is outside of the current segment but not in a new one yet");}};l.prototype.Ww=function(g){this.Ha.debug("SegmentManager: creating segment",g);g=new d(g,f(g,this.VA),this.$h,this.Ha);this.Jg.push(g);this.Ha.debug("SegmentManager: segment contains",g.Zm.length,"sidxes");return g;};l.prototype.Nca=function(g){var h;if(g && g !== this.vn){this.Ha.debug("SegmentManager: deleting segment",g.id);g.eV.forEach(this.Nca.bind(this));this.Jg=this.Jg.filter(function(k){return k !== g;});h=g.sOa();this.qg.kQb(h && h.size || 0,h && h.Zm);}};l.prototype.oJa=function(g){var k;for(var h=0;g && h < this.Jg.length;h++){k=this.Jg[h];if(g === k.id)return k;}};l.prototype.ogb=function(g){var h,n;h=g.p3a;if(h && "" !== h)g.eV.push(this.Ww(h));else {h=g.YZa;for(var k in h){n=h[k];if(!n || !n.weight)break;g.eV.push(this.Ww(k));}}};l.prototype.gJa=function(g,h,k,n){if(!h || h.KL)return (this.Ha.debug("Done driving segment",h && h.id),!0);if(!this.qg.Gob)return (this.Ha.debug("Throttling buffering in quiet period"),!1);this.Ha.debug("Drive streaming of segment",h.id,"from pts",g);k=(g=this.qg.jCb(g,h,k)) && g.length || 0;if(0 === k)return (this.Ha.debug("Segment is fully downloaded",h && h.id),h.KL=!0,n && n(),!0);this.Ha.debug("Downloading",k,"sidxes in segment",h.id);return this.qg.RQa(g,function(q,p){q && (h.KL=!1);n && n(q,p);});};r.exports=l;},function(r,b,a){var h,k;function c(n,q,p){var t;t=p.displayTime <= n && n <= p.displayTime + p.duration;return n <= p.displayTime && p.displayTime <= q || t;}function f(n,q,p){return q && (!q.entries.length && n > q.Sv || n > q.endTime) && p.entries.length && n < p.endTime;}function l(n,q,p){this.uE=this.yu=0;this.Thb=n.bufferSize || 4194304;this.Ko=new g();this.nE;this.dE=n.$e;this.Ha=n.za;this.Cq=q;this.$h=p;this.Dn=new h(n);this.EE=new d(this.$h.length,n.hRa);this.XQ=new m(n.FNa);}function m(n){this.Lgb=0 !== n;this.on=!1;this.pj=n || 3E3;this.vg;}function d(n,q){if(this.enabled=q)this.Zm=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,q){this.Ar=n;this.index=q;}h=a(1007);k=a(153);g.prototype.reset=function(){this.index=this.Ar=void 0;};d.prototype.ea=function(n){this.enabled && n < this.Zm.length && (this.Zm[n]="x");};d.prototype.V_a=function(n){this.enabled && n < this.Zm.length && (this.Zm[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Zm.join("") + "|";};m.prototype.start=function(){var n;if(this.Lgb){n=this;this.on=!0;this.vg=setTimeout(function(){n.on=!1;n.vg=void 0;},this.pj);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.vg);this.vg=void 0;};Object.defineProperties(l.prototype,{zha:{get:function(){return this.Ko;}},Gob:{get:function(){return !this.XQ.on;}}});l.prototype.LQ=function(){this.EE.enabled && this.Ha.debug("Buffer: " + this.EE.toString());};l.prototype.Sjb=function(n){this.uE+=n;this.Ha.debug("Reserved buffer size is",this.yu + this.uE,"after reserving",n);};l.prototype.Akb=function(n){this.uE-=n;this.Ha.debug("Reserved buffer size is",this.yu + this.uE,"after unreserving",n);};l.prototype.ggb=function(n){this.yu+=n;this.Ha.debug("Buffer size is",this.yu,"after claiming",n);};l.prototype.TKa=function(n){this.yu-=n;this.Ha.debug("Buffer size is",this.yu,"after clearing",n);};l.prototype.kQb=function(n,q){var p;this.TKa(n);p=this;q && this.EE.enabled && (q.forEach(function(t){p.EE.V_a(t.index);}),this.LQ());};l.prototype.Hsa=function(n){var q;q=this.Xgb(n);return k.YVa(q) && k.aVb(n,q);};l.prototype.zSb=function(n){var q;q=this.BJa(n);(!q || q.index) !== (!this.Ko || this.Ko.index) && (this.nE=this.Ko.Ar,q?(this.dE && this.Ha.debug("Current sidx is index",q.index),this.Ko=q):(this.dE && this.Ha.debug("Current sidx is out of range"),this.Ko.reset()));this.nE && "number" === typeof this.nE.index && (n < this.nE.Sv - 35E3 || n > this.nE.Pp + 35E3) && (this.Eca(this.nE.index),this.nE=void 0,this.LQ());};l.prototype.Dz=function(n,q){var p,t;p=this.$h && this.$h.length;for(q;q < p;q++){(t=this.$h[q]) && ((t.endTime || t.Pp) >= n - 1E4 && (t.endTime || t.Pp) < n + 3E5 || this.Eca(q));}this.XQ.stop();this.LQ();};l.prototype.Slb=function(){var n,q;this.Ha.debug("executing aggressive cleanup");n=this.$h && this.$h.length;for(q=0;q < n;q++){q === this.Ko.index && (q+=2);this.Eca(q);}this.XQ.stop();this.LQ();};l.prototype.iCb=function(n){var q,p,t,u;q=[];p=this.BJa(n);if(!p)return (this.Ko.reset(),q);this.Ko=p;t=n + 1E4;p=p.index;u=this.$h[p];p;for(u;p < this.$h.length && t > u.Sv;(p++,u=this.$h[p])){k.YVa(u) && k.bVb(n,t,u) && q.push(u);}return q;};l.prototype.RQa=function(n,q){var p,t,u,v,w,x;if(!n || !n.length)return (q && q(null),!0);this.Dn.RQ && 2 <= Object.keys(this.Dn.RQ).length && !this.XQ.on && (this.Ha.debug("Enabling buffering quiet period"),this.XQ.start());p=this;t=n[0];u=n[n.length - 1];if(0 < t.entries.length)(v=t.entries[0].MF,w=t.entries[t.entries.length - 1]);0 < u.entries.length && (k.Kc(v) || (v=u.entries[0].MF),w=u.entries[u.entries.length - 1]);if(v)x=w.MF + w.Mla - v;else return (q && q(null),!0);t=k.cka(v,x);if(this.Dn.RQ[t])(this.Ha.debug("The request for",t,"is already pending. Not requesting again"),q && q());else if(this.qhb(k.Qka(n)))(this.Ha.debug("Reserving",x,"bytes for subtitle request",n[0].Sv,n[n.length - 1].Pp),this.Sjb(x),this.Dn.rvb(n,v,x,function(y,A){p.Ha.debug("Claiming reserved space.  Expected",x,"received",A);p.EE.enabled && (n.forEach(function(z){p.EE.ea(z.index);}),p.LQ());p.Akb(x);p.ggb(A);q && q(y);}));else return (this.Ha.debug("Not enough space in buffer to download all of the imaages in the list"),q && q(),!1);return !0;};l.prototype.Uka=function(n,q){var p,t,u;p=this.Cq;t=this.AJa(n,q,this.$h);if(!t || 0 === t.length)return [];u=[];q=c.bind(null,n,q);for(var v=0;v < t.length;v++){n=t[v];u=u.concat(n.entries.filter(q));}u=u.map(function(w){return k.qha(w,null,p);});return k.dPa(u);};l.prototype.jCb=function(n,q,p){return this.AJa(n,q.endTime,q.Zm,p,!0);};l.prototype.AJa=function(n,q,p,t,u){var v,w,x,y;if(q && n > q || 0 > n)this.Ha.error("invalid range startPts: " + n + ", endPts: " + q);else {v=p && p.length || 0;w=[];if(p && 0 !== v){x=p[0].duration;y=p[0].Sv;if(k.Kc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.dE && this.Ha.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < v && (y=p[x],!k.lvb(y,n));x++){;}for(;x < v && (!t || w.length < t);){y=p[x];if(!u || !y.images.length && y.endTime > n)w.push(y);else if(w.length)break;if(q && q <= y.Pp)break;x++;}return w;}}};l.prototype.Xgb=function(n){var q,p,u;q=this.$h;if(q && 0 !== q.length){p=q[Math.floor(n / 6E4)];if(p && (p.Sv > n || n > p.Pp))a:{this.Mgb || (this.Mgb=!0,p=k.WAb(this.Cq.language),this.Ha.error("bruteforce search for ",{movieId:this.Cq.K,packageId:this.Cq.Jp,lang:p}));p=q.length;for(var t=0;t < p;t++){u=q[t];if(u.Sv <= n && n <= u.Pp){p=u;break a;}}p=void 0;}return p;}};l.prototype.BJa=function(n){var q,p,t,u,v,w,x,y;q=this.Ko;p=q.Ar;t=q.index;u=this.$h;this.Lca(k.Kc(n));if(p)if(p.entries.length){if(0 === t && n <= p.startTime || n >= p.startTime && n <= p.endTime)(v=!0,w=q);else {if(0 < t){x=u[t - 1];f(n,x,p) && (v=!0,w=q);}}}else {x=u[t - 1];y=u[t + 1];f(n,x,p)?(v=!0,w=q):y && y.endTime && n <= y.endTime && (n >= p.endTime || n >= p.Pp) && (v=!0,w=new g(y,t + 1));}if(!v)for((q=u.length,p=0);p < q;p++){if((t=u[p],t.entries.length && n <= t.endTime)){w=new g(t,p);break;}}return w;};l.prototype.qhb=function(n){return this.yu + this.uE + n <= this.Thb;};l.prototype.Eca=function(n){var q,p,t;q=this.$h[n];p=q && q.images && q.images.length || 0;if(0 < p){t=k.Qka([q]);q.images=[];this.EE.V_a(n);this.TKa(t);this.dE && this.Ha.debug("cleaning up space from sidx",{index:n,start:q.startTime,size:t,images:p,v7b:this.yu});}};l.prototype.Lca=function(n){this.dE && k.assert(n,this.Ha);};r.exports=l;},function(r,b,a){var f,l;function c(m){this.Pk=m.url;this.sE=m.request;this.pE=m.pd || 0;this.dE=m.$e;this.Ha=m.za;this.RQ={};}f=a(260);l=a(153);c.prototype.rvb=function(m,d,g,h){this.RQ[l.cka(d,g)]=!0;m && m.forEach(function(k){k.A2a=!0;});this.sE({url:this.Pk,offset:d,size:g},this.Sib.bind(this,m,d,g,h));};c.prototype.Sib=function(m,d,g,h,k,n){var q,p,t,u;q=this;p=l.cka(d,g);setTimeout(function(){delete q.RQ[p];},1E3);if(k)(h && h(k,0),m && m.forEach(function(v){delete v.A2a;}));else {t=new f(n);u=0;m && m.forEach(function(v){delete v.A2a;v.entries.forEach(function(w,x){t.position=w.MF - d;w={data:t.ph(w.Mla)};v.images[x]=w;l.sYb(v.images[x].data,q.Lca.bind(q));u+=v.images[x].data.length;});});h && h(null,u);}};c.prototype.Lca=function(m){this.dE && l.assert(m,this.Ha);};r.exports=c;},function(r){function b(a,c,f,l){this.Ha=l;this.id=a;this.startTime=c && c.jc || 0;this.endTime=c && c.Fc;this.YZa=c && c.next || [];this.p3a;this.eV=[];this.KL=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < f.length;d++){(l=f[d]) && (!c || c > l.Sv) && a < l.Pp && (l.wEb(),m.push(l));}this.Zm=m;}b.prototype.sOa=function(){this.Ha.debug("Cleaning up segment",this.id);for(var a,c=0,f,l=[],m=0;m < this.Zm.length;m++){a=this.Zm[m];(f=a.cub()) && l.push(a);a && (c+=f);}this.Zm=[];return {size:c,Zm:l};};r.exports=b;},function(r,b,a){var m;function c(d,g){return g.reduce(f.bind(this,d),[]);}function f(d,g,h){var k,n;k=h.displayTime - d;d=h.displayTime + h.duration - d;n=0 < g.length?g[0].timeout:Infinity;return 0 < k && k < n?[l("showsubtitle",h,k)]:k === n?g.concat([l("showsubtitle",h,k)]):0 < d && d < n?[l("removesubtitle",h,d)]:d === n?g.concat([l("removesubtitle",h,d)]):g;}function l(d,g,h){return {timeout:h,type:d,entry:g};}m=a(109).EventEmitter;b=a(1010)({});a=function p(g,h,k,n,q){if(!(this instanceof p))return new p(g,h,k,n,q);m.call(this);this.Zw=g;this.ghb=h;this.Fhb=k;this.kx={};this.yE={};this.Ha=n || console;this.fQ=!1;this.zjb=q && q.Cqa || 0;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){clearTimeout(this.vg);this.oQb();};a.prototype.oQb=function(){var g;g=this;Object.keys(g.kx).forEach(function(h){g.emit("removesubtitle",g.kx[h]);});g.kx={};g.yE={};};a.prototype.pause=function(){this.fQ || clearTimeout(this.vg);};a.prototype.Hr=function(g,h){var k,n;k=this;n=k.Zw();clearTimeout(this.vg);g=k.ghb(n);null !== g && k.fQ && (k.fQ=!1,this.Ha.info("bufferingComplete"),k.emit("bufferingComplete"),this.Fhb())?this.Ha.info("bufferingComplete while paused, no longer scheduling internal pts events"):(h="number" === typeof h?h:0,Object.keys(k.kx).forEach(function(q){q=k.kx[q];q.displayTime - k.zjb <= n && n < q.displayTime + q.duration || (delete k.kx[q.id],k.emit("removesubtitle",q));}),Object.keys(k.yE).forEach(function(q){q=k.yE[q];n >= q.displayTime + q.duration && delete k.yE[q.id];}),null !== g && 0 < g.length?(h=g.length,k.Ha.info("found " + h + " entries for pts " + n),g.forEach(function(q){q.displayTime - 0 <= n && n < q.displayTime + q.duration && !k.kx[q.id] && (k.emit("showsubtitle",q),k.kx[q.id]=q,delete k.yE[q.id]);}),h=g[g.length - 1],k.kx[h.id] || k.yE[h.id] || (k.emit("stagesubtitle",h),k.yE[h.id]=h),h=c(n,g),0 < h.length?k.k0(h[0].timeout):k.k0(2E4)):null === g?(g=250 * Math.pow(2,h),2E3 < g && (g=2E3),k.Ha.warn("checking buffer again in " + g + "ms"),k.fQ || (k.fQ=!0,k.emit("underflow")),k.k0(g,h + 1)):k.k0(2E4));};a.prototype.k0=function(g,h){var k;k=this;k.Ha.info("Scheduling pts check.");k.vg=setTimeout(function(){k.Hr(k.Zw(),h);},g);};r.exports=b(["function","function","function","object","object"],a);},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,g;function c(h,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + k + "'"));}function f(h,k,n){var q;q=d[h];"undefined" !== typeof q?q(k) || c(h,k,n):h !== typeof k && c(h,k,n);}function l(h,k){var n;n=h.filter(function(q){return "object" !== typeof q && -1 === g.indexOf(q);});n=n.concat(h.filter(function(q){return "object" === typeof q;}).reduce(function(q,p){return q.concat(Object.keys(p).map(function(t){return p[t];}).filter(function(t){return -1 === g.indexOf(t);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var q;q=Array.prototype.slice.call(arguments);if(q.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(p,t){var u;u=q[t];if("string" === typeof p)f(p,u,{index:t});else if("object" === typeof p)Object.keys(p).forEach(function(v){f(p[v],u[v],{key:v});});else throw Error("Types: unexpected type in type array");});return k.apply(this,q);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}g=Object.keys(d).concat(m);return l(["array","function"],l);};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.qC=void 0;r=a(0);c=a(442);f=a(1012);l=a(141);b.qC=new r.ad(function(m){m(c.Baa).to(f.JCa).aa();m(l.wP).kX(function(d){return function(){return d.$a.get(c.Baa).dKb;};});});},function(r,b,a){function c(){var f;f=this;this.ready=!1;this.dKb=new Promise(function(l){f.hRb=l;});}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;r=a(1);a=a(0);c.prototype.eKb=function(f){this.ready || (this.hRb(f),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};a=r.__decorate([a.R()],c);b.JCa=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Ej=void 0;r=a(0);c=a(85);f=a(443);l=a(1014);m=a(445);d=a(1015);b.Ej=new r.ad(function(g){g(c.ww).uf(function(){return function(){return pb._cad_global.device;};});g(m.Fxa).to(d.Exa).aa();g(f.Cxa).to(l.Bxa).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.xa=k;this.Hqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Bxa=void 0;r=a(1);f=a(40);l=a(4);m=a(136);d=a(444);g=a(56);a=a(0);c.prototype.Qyb=function(){for(var k="",n=this.xa.mf.ea(l.ma),q=6;q--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Hqa.H1a(new d.Cba(0,31,g.y_a))];}return k;};h=c;h=r.__decorate([a.R(),r.__param(0,a.l(f.vi)),r.__param(1,a.l(m.IZ))],h);b.Bxa=h;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u;function c(v,w,x,y,A,z,B,D,E){this.Mub=v;this.cn=w;this.cb=y;this.uha=A;this.Dc=z;this.debug=B;this.nYb=D;this.UMb=E;this.mya=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.Db("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.Exa=void 0;r=a(1);f=a(3);l=a(26);m=a(1016);d=a(8);g=a(443);h=a(35);k=a(91);n=a(28);q=a(0);p=a(78);t=a(446);a=a(447);c.prototype.URa=function(v){try{return v.match(this.mya)[2];}catch(w){}};c.prototype.WRa=function(v){try{return v.match(this.mya)[1];}catch(w){}};c.prototype.create=function(v){var w;w=this;return new Promise(function(x,y){w.cn.create().then(function(A){var B,D,E,F,C,G;function z(J){w.cb.Fn(J) && w.cb.Fn(B)?(D=new m.Dxa(J,B,void 0,E,v.zS || "cadmium"),x(D)):y({oa:f.L.jxa});}B=v.Qn;if(v.$ja){E="bind_device";w.UMb.Rf(w.log,{}).then(function(J){z(J.esn);}).catch(function(J){y(J);});}else if(v.bL){C=v.kk;if(w.cb.Fn(C)){G=w.WRa(C);G != v.Qn && w.log.error("esn prefix from ui is different",{ui:G,cad:v.Qn,ua:v.userAgent});}else v.nna && w.log.error("esn from ui is missing");A.load(v.wQa).then(function(J){F=J.value;w.cb.Fn(F) && (!1,w.cb.Fn(C)?(J=w.URa(C),E=J === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):E="storage_esn_not_in_config",z(B + F));}).catch(function(J){var L;function K(){A.save(v.wQa,L,!1).then(function(){z(B + L);}).catch(function(R){y(R);});}function H(){L=w.Mub.Qyb();!1;K();}if(J.oa === f.L.xA){if(w.cb.Fn(v.kk)){L=w.URa(v.kk);w.cb.Fn(L)?(E="config_since_not_in_storage",K()):(E="generated_since_invalid_in_config_and_not_in_storage",w.log.error("invalid esn passed from UI",v.kk),H());}else (E="generated_since_not_in_config_and_storage",H());}else y(J);});}else v.Nub && w.uha && w.uha.getKeyByName?w.uha.getKeyByName(v.Xmb).then(function(J){J=J.id;if(w.cb.Wo(J))(J=String.fromCharCode.apply(void 0,w.Dc.decode(J)),w.debug.assert("" != J),B=w.WRa(J),z(J));else throw "ESN from getKeyByName is not a string";}).catch(function(J){y({oa:f.L.ixa,rb:w.nYb.wd(J)});}):z();}).catch(function(A){y(A);});});};u=c;u=r.__decorate([q.R(),r.__param(0,q.l(g.Cxa)),r.__param(1,q.l(p.aA)),r.__param(2,q.l(d.Kb)),r.__param(3,q.l(l.Jf)),r.__param(4,q.l(t.cxa)),r.__param(5,q.l(h.Th)),r.__param(6,q.l(k.cu)),r.__param(7,q.l(n.Kf)),r.__param(8,q.l(a.EDa))],u);b.Exa=u;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;b.Dxa=function(a,c,f,l){this.kk=a;this.Qn=c;this.Kia=l;};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C;Object.defineProperty(b,"__esModule",{value:!0});b.gYa=void 0;r=a(0);c=a(141);f=a(1018);l=a(1019);m=a(1020);d=a(1021);g=a(1022);h=a(14);k=a(1023);n=a(1024);q=a(1025);p=a(46);t=a(85);u=a(453);v=a(449);w=a(448);x=a(99);y=a(261);A=a(54);z=a(454);B=a(1026);D=a(456);E=a(457);F=a(458);C=a(1029);b.gYa=new r.ad(function(G){G(A.Co).to(l.$Aa).aa();G(v.CCa).to(m.BCa).aa();G(w.tBa).to(d.sBa).aa();G(y.kBa).to(g.jBa).aa();G(A.haa).to(k.ZAa).aa();G(x.nA).to(n.gBa).aa();G(y.iBa).to(q.hBa).aa();G(z.mBa).to(B.lBa).aa();G(F.qBa).to(C.pBa).aa();G(D.Mxa).to(E.Lxa).aa();G(u.dva).to(f.cva).aa();G(A.aBa).kX(function(J){return function(){return J.$a.get(c.wP)().then(function(K){return new Promise(function(H){var R,I,Q;function L(){I() && Q() && K.XU?H(J.$a.get(A.Co)):R.nl(L);}R=J.$a.get(p.lj);I=J.$a.get(h.Vc);Q=J.$a.get(t.ww);R.nl(L);});});};});});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p,t){var u;u=this;this.THb=n;this.zU=q;this.config=t;this.$qa=[];this.THb.n7(f.Z7a,this.YCb.bind(this));p().then(function(v){var w;w=t().Rq.pyb;u.DIb=w?k.ij[w.toUpperCase()]:k.ij.xf;u.Ij=v;u.jSb();});}Object.defineProperty(b,"__esModule",{value:!0});b.cva=void 0;r=a(1);l=a(0);m=a(14);d=a(108);g=a(54);h=a(99);k=a(8);c.prototype.YCb=function(n,q){this.Ij?this.F1a(n,q):this.$qa.push([n,q]);};c.prototype.jSb=function(){var n,q;n=this;q=this.$qa;this.$qa=[];q.forEach(function(p){n.F1a(p[0],p[1]);});};c.prototype.F1a=function(n,q){var p;if(this.Ij && this.ATb(n)){p={debugMessage:n.message,debugCategory:n.Ln};n.Vb.forEach(function(t){return p=Object.assign(Object.assign({},p),t.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});n=this.zU.Zu("debug",k.ij[n.level].toLowerCase(),p,q);this.Ij.ve(n);}};c.prototype.ATb=function(n){var q;q=this.DIb;return void 0 !== q && n.level <= q && !n.Vb.find(function(p){return p.XS(k.LO);});};a=f=c;a.Z7a="adaptorAll";a=f=r.__decorate([l.R(),r.__param(0,l.l(d.rI)),r.__param(1,l.l(h.nA)),r.__param(2,l.l(g.aBa)),r.__param(3,l.l(m.Vc))],a);b.cva=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u,v,w,x,y,A,z){this.config=u;this.json=v;this.yc=w;this.IHb=x;this.NU=A;this.Eha=z;this.M4=this.Im=!1;this.listeners=[];l.co(this,"json");this.za=y.Db("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;r=a(1);f=a(0);l=a(56);m=a(36);d=a(448);g=a(46);h=a(8);k=a(54);n=a(449);q=a(3);p=a(93);a(181);t=a(450);c.prototype.nb=function(){this.Im=!0;};c.prototype.ve=function(u){var v;v=this;this.ITb(u) || (!1,0 < u.size.Vk(this.config.AIb)?this.za.error("Logblob is too large, dropping from the queue",{logblobType:u.type,logblobSize:u.size.toString()}):(this.listeners.forEach(function(w){return w.nJb(u);}),!1,this.NU.Oea(u),this.yc.nl(function(){v.ayb();})));};c.prototype.flush=function(u){var v;v=this;u=void 0 === u?!1:u;return this.M4?(this.za.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,x){v.za.trace("Flushing",h.LO);v.Br();v.yc.nl(function(){v.jsa(u).then(function(){w();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(u){this.listeners.push(u);};c.prototype.removeListener=function(u){u=this.listeners.indexOf(u);0 <= u && this.listeners.splice(u,1);};c.prototype.jsa=function(u){var v,w;v=this;u=void 0 === u?!1:u;if(!this.Im)return (this.za.trace("LogBatcher is not initialized"),Promise.resolve());if(this.M4)return (this.za.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.NU.uzb();if(0 === w.length && !u)return (this.za.trace("No logblobs to send"),Promise.resolve());!1;this.Br();this.listeners.forEach(function(){});u=Promise.resolve();for(var x={},y=aa(w),A=y.next();!A.done;(x={l9:x.l9},A=y.next())){x.l9=A.value;u=u.then((function(z){return function(){return v.fSb(z.l9);};})(x));}return u.then(function(){return v.qF();}).catch(function(z){w.filter(function(B){return !B.Iy;}).forEach(function(B){return B.Es();});v.qF();throw Error("Send failure. " + z);});};c.prototype.fSb=function(u){var v;v=this;this.za.trace("Sending batch: " + u.size,h.LO);return Promise.resolve(this.NU.pQb(u)).then(function(){return v.IHb.send(u.hG);}).then(function(){return u.ON();}).catch(function(w){v.za.warn("Failed to send batch of logblobs.",w,h.LO);u.Es();v.wTb(w) && v.NU.alb(u);v.JTb(w) && (v.M4=!0);throw w;});};c.prototype.wTb=function(u){return u.xd === q.YY.zDa?!1:this.config.Lea;};c.prototype.JTb=function(u){return u.kc === q.L.eza || u.kc === q.L.hP || u.kc === q.L.lP?!0:!1;};c.prototype.ayb=function(){var u;u=this;0 < this.NU.size.Vk(this.config.VYa)?this.jsa().catch(function(v){return u.za.warn("Failed to send log messages on size threshold. " + v);}):this.qF();};c.prototype.Br=function(){this.a5 && (!1,this.a5.cancel(),this.a5=void 0);};c.prototype.qF=function(){this.a5 || (!1,this.a5=this.yc.Rj(this.config.gSb,this.wM.bind(this)));};c.prototype.wM=function(){var u;u=this;this.M4=!1;this.Br();this.jsa().catch(function(v){return u.za.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(u){var v;v="";try{v=this.json.stringify(u.data,void 0,"  ");}catch(w){}return v;};c.prototype.ITb=function(u){return 0 <= this.config.l4a.indexOf(u.type)?!0:u.type === t.yf.debug?0 <= this.config.k4a.indexOf(u.data.debugCategory):!1;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.haa)),r.__param(1,f.l(m.pD)),r.__param(2,f.l(g.lj)),r.__param(3,f.l(d.tBa)),r.__param(4,f.l(h.Kb)),r.__param(5,f.l(n.CCa)),r.__param(6,f.l(p.zY))],a);b.$Aa=a;},function(r,b,a){var l,m,d,g,h,k,n;function c(q){this.HJ=d.ab;this.Fda=[];this.FQ=this.O_=!1;q && (this.HJ=q.size,this.Fda=q.hG);}function f(q,p,t,u){this.oJb=q;this.config=p;this.Bg=t;this.json=u;m.co(this,"json");this.za=this.Bg.Db("MessageQueue");this.ls=[];}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;r=a(1);l=a(0);m=a(56);d=a(47);g=a(261);h=a(8);k=a(36);a=a(54);f.prototype.Oea=function(q){var p,t;0 === this.ls.length && this.ls.push(this.eka());if(q=this.$Bb(q)){p=this.oJb.measure([q]);t=this.ls[this.ls.length - 1];0 < t.size.add(p).Vk(this.config.VYa) && (t=this.eka(),this.ls.push(t));t.Oea(q);}};f.prototype.uzb=function(){var q;q=this.ls.filter(function(p){return p.Lob;});this.ls.push(this.eka());q.forEach(function(p){return p.oIb();});return q;};f.prototype.alb=function(q){q.Iy || this.ls.unshift(new c(q));};f.prototype.pQb=function(q){q=this.ls.indexOf(q);0 <= q && this.ls.splice(q,1);};f.prototype.$Bb=function(q){try{return {data:this.json.parse(this.json.stringify(q.data)),severity:q.severity,size:q.size,timestamp:q.timestamp,type:q.type};}catch(u){var p,t;p={};q=q.data;t=q.debugMessage;t && "string" === typeof t && (p.originalDebugMessage=t);(q=q.debugCategory) && "string" === typeof q && (p.originalDebugCategory=q);this.za.error("JSON.stringify error: " + u.message,p);}};f.prototype.eka=function(){return new c();};Va.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.ls.reduce(function(q,p){return q.add(p.size);},d.ab);}}});n=f;n=r.__decorate([l.R(),r.__param(0,l.l(g.kBa)),r.__param(1,l.l(a.haa)),r.__param(2,l.l(h.Kb)),r.__param(3,l.l(k.pD))],n);b.BCa=n;c.prototype.ON=function(){this.O_=!1;this.FQ=!0;};c.prototype.Es=function(){this.O_=!1;};c.prototype.Oea=function(q){this.Fda.push(q);this.HJ=this.HJ.add(q.size);};c.prototype.oIb=function(){this.O_=!0;};Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.HJ;}},hG:{configurable:!0,enumerable:!0,get:function(){return this.Fda;}},Lob:{configurable:!0,enumerable:!0,get:function(){return 0 < this.hG.length && !1 === this.O_;}},Iy:{configurable:!0,enumerable:!0,get:function(){return this.FQ;}}});},function(r,b,a){var l,m,d,g,h,k,n,q,p,t,u;function c(v,w,x,y,A,z,B,D){this.Ja=v;this.platform=x;this.Ej=y;this.json=A;this.Td=z;this.Kh=B;this.RHb=D;m.co(this,"json");this.za=w.Db("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;r=a(1);l=a(0);m=a(56);d=a(36);g=a(4);h=a(28);k=a(19);n=a(34);q=a(85);p=a(8);t=a(451);a=a(71);c.prototype.send=function(v){var w;w=this;return new Promise(function(x,y){var A;try{A=v.reduce(function(z,B){z.entries.push(w.Rsb(B));return z;},new f());x(w.Tyb(A));}catch(z){w.za.error(z.message);y(z);}}).then(function(x){return w.msa(x);});};c.prototype.Rsb=function(v){return this.Td.lG(this.Td.lG({},v.data),{esn:this.Ej().kk,sev:v.severity,type:v.type,lver:this.platform.sna,jssid:this.Ja.id,devmod:this.platform.$x,jsoffms:v.timestamp.Aa(this.Ja.aG).ea(g.ma),clienttime:v.timestamp.ea(g.ma),client_utc:v.timestamp.ea(g.sn),uiver:this.Kh.Oz});};c.prototype.Tyb=function(v){var w;w=this;try{return this.json.stringify(v);}catch(A){for(var x={},y=0;y < v.entries.length;(x={nO:x.nO,Zt:x.Zt},++y)){x.Zt=Object.assign({},v.entries[y]);try{this.json.stringify(x.Zt);}catch(z){x.nO=void 0;this.Td.zB(x.Zt,(function(B){return function(D,E){try{w.json.stringify(E);}catch(F){B.nO=F.message;B.Zt[D]=B.nO;}};})(x));x.Zt.stringifyException=x.nO;x.Zt.originalType=x.Zt.type;x.Zt.type="debug";x.Zt.sev="error";}}return this.json.stringify(v);}};c.prototype.msa=function(v){var w;w=this;return this.RHb.Rf(this.za,{logblobs:v}).then(function(){!1;}).catch(function(x){w.za.error("PBO logblob failed",x);return Promise.reject(x);});};u=c;u=r.__decorate([l.R(),r.__param(0,l.l(k.rd)),r.__param(1,l.l(p.Kb)),r.__param(2,l.l(n.Kk)),r.__param(3,l.l(q.ww)),r.__param(4,l.l(d.pD)),r.__param(5,l.l(h.Kf)),r.__param(6,l.l(a.qu)),r.__param(7,l.l(t.WDa))],u);b.sBa=u;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;r=a(1);f=a(0);l=a(261);m=a(47);c.prototype.measure=function(d){var g;g=this;return d.map(function(h){return h.size.add(g.config.LHb());}).reduce(function(h,k){return h.add(k);},m.ca(0));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.iBa))],a);b.jBa=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q){n=h.gf.call(this,n,"PboConfigImpl") || this;n.config=q;n.AIb=f.ca(5E5);n.gSb=l.W5(1);n.VYa=f.ca(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;r=a(1);f=a(47);l=a(4);m=a(0);d=a(14);g=a(44);h=a(45);a=a(38);ka(c,h.gf);Va.Object.defineProperties(c.prototype,{Lea:{configurable:!0,enumerable:!0,get:function(){return this.config().Lea;}},l4a:{configurable:!0,enumerable:!0,get:function(){return [];}},k4a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],k.prototype,"l4a",null);r.__decorate([g.config(g.xx("string"),"shedDebugTypes")],k.prototype,"k4a",null);k=r.__decorate([m.R(),r.__param(0,m.l(a.jm)),r.__param(1,m.l(d.Vc))],k);b.ZAa=k;},function(r,b,a){var l,m,d,g,h,k,n,q,p;function c(t,u,v,w,x,y,A,z,B,D){this.platform=u;this.vha=v;this.type=w;this.severity=x;this.timestamp=y;this.Ja=z;this.data=A;this.data.type=w;this.data.sev=x;this.data.devmod=this.platform.$x;this.data.clver=this.platform.version;t && t.Xd && (t.Xd.os && (this.data.osplatform=t.Xd.os.name,this.data.osver=t.Xd.os.version),this.data.browsername=t.Xd.name,this.data.browserver=t.Xd.version);t.Fma && (this.data.tester=!0);t.wy && !this.data.groupname && (this.data.groupname=t.wy);t.iK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.iK:t.iK);t.GH && (this.data.uigroupname=t.GH);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ja.aBb();this.data.uniqueLogId=B.QSa();this.data.appId=this.Ja.id;D && (t=this.Ja.Wb(),this.data.soffms=t.Aa(D.Ul).ea(g.ma),this.data.mid=this.data.mid || D.K,this.data.lvpi=D.rna,this.data.uiLabel=D.ke,this.data.uxLabels=D.X8,w="startup" === w?"playbackxid":"xid",this.data[w]="xid" === w && this.data.xid || D.da,D.dH && (w=D.dH,(D=D.dH.split(".")) && 1 < D.length && "S" !== D[0][0] && (w="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + w:w));}function f(t,u,v,w,x,y){this.xa=t;this.vha=u;this.config=v;this.Ja=w;this.pYb=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(1);l=a(47);m=a(0);d=a(40);g=a(4);h=a(319);k=a(39);n=a(19);q=a(452);a=a(34);f.prototype.Zu=function(t,u,v,w){return new c(this.config,this.platform,this.vha,t,u,this.xa.mf,v,this.Ja,this.pYb,w);};p=f;p=r.__decorate([m.R(),r.__param(0,m.l(d.vi)),r.__param(1,m.l(h.exa)),r.__param(2,m.l(k.em)),r.__param(3,m.l(n.rd)),r.__param(4,m.l(q.$Ha)),r.__param(5,m.l(a.Kk))],p);b.gBa=p;Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.QNa || (this.QNa=l.ca(this.vha.encode(this.data).length));return this.QNa;}}});},function(r,b,a){var f,l,m;function c(d){this.Ej=d;}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;r=a(1);f=a(0);l=a(47);a=a(85);c.prototype.LHb=function(){var d;d=this.Ej()?this.Ej().kk.length:40;return l.ca(d + 33);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.ww))],m);b.hBa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B;function c(D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea){this.H5a=D;this.Ij=E;this.eoa=F;this.Sia=C;this.ye=G;this.i2=J;this.Ff=K;this.config=H;this.qd=L;this.xa=R;this.Ja=I;this.platform=Q;this.Lp=N;this.zU=M;this.wk=P;this.Uq=S;this.jG=ea;}Object.defineProperty(b,"__esModule",{value:!0});b.lBa=void 0;r=a(1);f=a(338);l=a(54);m=a(28);d=a(346);g=a(213);h=a(0);k=a(455);n=a(456);q=a(115);p=a(14);t=a(40);u=a(19);v=a(34);w=a(99);x=a(116);y=a(154);A=a(36);z=a(39);a=a(262);c.prototype.create=function(D,E){return new k.nBa(D,E,this.H5a,this.Ij,this.eoa,this.Sia,this.ye,this.i2,this.Ff,this.config,this.qd,this.xa,this.Ja,this.platform,this.Lp,this.zU,this.wk,this.Uq,this.jG);};B=c;B=r.__decorate([h.R(),r.__param(0,h.l(f.uHa)),r.__param(1,h.l(l.Co)),r.__param(2,h.l(d.gCa)),r.__param(3,h.l(g.C$)),r.__param(4,h.l(m.Kf)),r.__param(5,h.l(n.Mxa)),r.__param(6,h.l(q.mA)),r.__param(7,h.l(p.Vc)),r.__param(8,h.l(x.VD)),r.__param(9,h.l(t.vi)),r.__param(10,h.l(u.rd)),r.__param(11,h.l(v.Kk)),r.__param(12,h.l(A.IP)),r.__param(13,h.l(w.nA)),r.__param(14,h.l(y.CI)),r.__param(15,h.l(z.em)),r.__param(16,h.l(a.yaa))],B);b.lBa=B;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Kxa=void 0;c=a(47);b.Kxa=function(f,l){this.tvb=f;this.size=l.vma()?c.ab:l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PYa=void 0;b.PYa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var f=a[0],l=c(f),m=1;m < a.length;m++){d=a[m];g=c(d);g > l && (f=d,l=g);}return f;}};},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p,t,u){this.Ij=n;this.config=q;this.xa=p;this.Ja=t;this.QHb=u;}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;r=a(1);f=a(54);l=a(0);m=a(454);d=a(14);g=a(40);h=a(19);k=a(1030);c.prototype.create=function(n,q,p){var t;t=this.QHb.create(n,q);return new k.rBa(n,q,p,this.Ij,this.config,this.Ja,t);};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(f.Co)),r.__param(1,l.l(d.Vc)),r.__param(2,l.l(g.vi)),r.__param(3,l.l(h.rd)),r.__param(4,l.l(m.mBa))],a);b.pBa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,q,p,t,u){var v;v=this;this.j=h;this.Ym=k;this.Ij=q;this.config=p;this.Ja=t;this.uc=u;this.Oy=function(w,x){return function(y){var A;A=x(y);if("number" !== typeof A)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");A === v.K && w(y);};};this.CYa=this.Oy(function(w){v.J4a(w.K4);},function(w){return w.K;});this.AYa=this.Oy(function(){v.EOa();},function(w){return w.K;});this.GOa=this.Oy(function(){v.EOa();},function(w){return w.movieId;});this.sga=this.Oy(function(){v.j.bc.value === g.Eb.Hc && (v.j.bc.removeListener(v.sga),v.st());},function(){return v.j.K;});this.LOa=this.Oy(this.uc.Vpb,function(w){return w.K;});this.PQa=this.Oy(this.uc.nvb,function(w){return w.K;});this.$Xa=this.Oy(this.uc.Py,function(w){return v.j.Ap(w.segmentId).K;});this.y3a=this.Oy(this.uc.yW,function(w){return v.j.Ap(w.segmentId).K;});this.FQa=this.Oy(this.uc.hia,function(w){return w.K;});this.Wl=function(w){w.skip && (v.bn=!0);switch(w.cause){case g.pe.vA:case g.pe.TP:v.iN && v.MH && v.uc.xNb(v.getTime() - v.MH,v.iN);v.iN="repos";v.uc.vra(w.ipa,w.Sg,w.Vf);v.MH=v.getTime();d.gg(v.ZR);break;case g.pe.IY:(v.iN="force_rebuffer",v.MH=v.getTime(),d.gg(v.ZR));}};this.ME=function(w){v.f5=w.oldValue;v.uc.ME(w);};this.ZR=function(){var w;if(v.MH && v.j.bc.value !== g.Eb.Hg){w=v.getTime() - v.MH;v.uc.Lra(w,v.bn,v.iN);v.f5 && v.f5 != v.j.Wd.value && v.uc.Rmb();v.MH=void 0;v.iN=void 0;v.bn=void 0;}};this.st=function(){v.Ypa || (v.Ypa=!0,v.uc.e8(!1),v.CEb(),v.config().rWa && (v.q4=pb.setTimeout(function(){v.Ij.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.q4=void 0;},v.config().rWa)));};this.yg=function(){v.q4 && (pb.clearTimeout(v.q4),v.q4=void 0);if(v.config().j2 || v.config().WJ)(v.jia && (pb.clearInterval(v.jia),v.jia=void 0),v.uc.DQa());v.A6a && v.A6a();v.Ypa?v.uc.Cia(! !v.j.Yk):v.j.Yk?v.uc.e8(!0):v.Ym.background || v.uc.yNb();};this.x7a=function(w){w.oldValue && w.av && w.av.rOa && v.uc.zga(w.oldValue,w.newValue,w.av.rOa,w.av.inb);};this.m1a=function(w){var x;if(w.newValue){x=w.newValue.stream;v.Tma != x && (v.Tma && v.uc.CQb(v.Tma,x,w.newValue.Nq.startTime),v.Tma=x);}};this.K=k.K;this.log=l.ih(h,"LogblobBuilder");this.nb();n && this.J4a();}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;f=a(12);l=a(7);m=a(4);d=a(61);g=a(17);c.prototype.nb=function(){this.j.addEventListener(g.Z.cG,this.CYa);this.j.addEventListener(g.Z.Jna,this.AYa);this.j.addEventListener(g.Z.Py,this.$Xa);this.j.addEventListener(g.Z.yW,this.y3a);this.j.addEventListener(g.Z.yg,this.GOa);this.j.addEventListener(g.Z.mF,this.FQa,f.sZ);if(this.config().j2 || this.config().WJ)(this.j.addEventListener(g.Z.mF,this.PQa),this.jia=pb.setInterval(this.uc.DQa,this.config().svb));this.config().ura && this.j.addEventListener(g.Z.mF,this.LOa);};c.prototype.J4a=function(h){var k;k=this;this.HZa || (this.j.bc.value !== g.Eb.Hc || (void 0 === h?0:h)?this.j.bc.addListener(this.sga):this.st(),this.j.Qk.addListener(this.uc.S5a),this.j.Uc.addListener(this.uc.Kz),this.j.Wd.addListener(this.ME),this.j.dk.addListener(this.uc.$Ma),this.j.paused.addListener(this.uc.x0a),this.j.Vf.addListener(this.m1a),this.j.bc.addListener(this.ZR),this.j.bc.addListener(this.uc.d6a),this.j.og.addListener(this.x7a),this.j.playbackRate.addListener(this.uc.G4a),this.j.addEventListener(g.Z.Bl,this.uc.Bl),this.j.addEventListener(g.Z.VJ,this.uc.VJ),this.j.addEventListener(g.Z.NN,this.uc.NN),this.j.addEventListener(g.Z.Ex,function(n){k.iN="rebuffer";k.uc.Ex(n);k.MH=k.getTime();d.gg(k.ZR);}),this.j.addEventListener(g.Z.Wl,this.Wl),this.j.addEventListener(g.Z.SN,this.uc.SN),this.Ym.ep && this.Ym.ep.addListener(this.uc.ep),this.HZa=!0);};c.prototype.EOa=function(){var h;h=this;this.yg();this.HZa && (this.j.removeEventListener(g.Z.cG,this.CYa),this.j.removeEventListener(g.Z.Jna,this.AYa),this.j.removeEventListener(g.Z.Py,this.$Xa),this.j.removeEventListener(g.Z.yW,this.y3a),this.j.Qk.removeListener(function(k){h.Ypa && h.uc.S5a(k);}),this.j.Uc.removeListener(this.uc.Kz),this.j.Wd.removeListener(this.ME),this.j.dk.removeListener(this.uc.$Ma),this.j.paused.removeListener(this.uc.x0a),this.j.Vf.removeListener(this.m1a),this.j.bc.removeListener(this.ZR),this.j.bc.removeListener(this.sga),this.j.bc.removeListener(this.uc.d6a),this.j.og.removeListener(this.x7a),this.j.playbackRate.removeListener(this.uc.G4a),this.j.removeEventListener(g.Z.mF,this.FQa),this.j.removeEventListener(g.Z.yg,this.GOa),this.j.removeEventListener(g.Z.Bl,this.uc.Bl),this.j.removeEventListener(g.Z.VJ,this.uc.VJ),this.j.removeEventListener(g.Z.NN,this.uc.NN),this.j.removeEventListener(g.Z.Ex,this.uc.Ex),this.j.removeEventListener(g.Z.Wl,this.Wl),this.j.removeEventListener(g.Z.SN,this.uc.SN),this.Ym.ep && this.Ym.ep.removeListener(this.uc.ep),this.j.removeEventListener(g.Z.mF,this.PQa),this.j.removeEventListener(g.Z.mF,this.LOa));};c.prototype.getTime=function(){return this.Ja.Wb().ea(m.ma);};c.prototype.CEb=function(){var h,k,n;h=this;n=[];this.config().yJb && (this.config().zJb.forEach(function(q){n.push(pb.setTimeout(h.uc.L5,q));}),this.config().rZa && (k=pb.setInterval(this.uc.L5,this.config().rZa)),this.A6a=function(){n.forEach(function(q){pb.clearTimeout(q);});k && pb.clearInterval(k);});};b.rBa=c;},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.TZa=void 0;r=a(0);c=a(1032);f=a(115);l=a(459);m=a(1033);d=a(263);g=a(460);h=a(1034);b.TZa=new r.ad(function(k){k(l.wIa).to(c.vIa).aa();k(f.mA).UC(function(){return pb._cad_global.http;});k(d.nZ).to(m.RCa).aa();k(g.SCa).ri(h.default);});},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;r=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};a=r.__decorate([a.R()],c);b.vIa=a;},function(r,b,a){var f,l,m,d;function c(g,h,k){this.config=g;this.EHb=h;this.Ib=k;}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;r=a(1);f=a(308);l=a(0);m=a(166);a=a(460);c.prototype.kha=function(){if(this.config.g7a)return this.Ib(this.EHb());};d=c;d=r.__decorate([l.R(),r.__param(0,l.l(f.QCa)),r.__param(1,l.l(m.NCa)),r.__param(2,l.l(a.SCa))],d);b.RCa=d;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1035);f=a(1036);l=a(1037);b.default=function(m){var d;m=new c.I9(m);d=new l.Rcb(m);return new f.Qcb(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.YXa=c;}a.prototype.wsa=function(c){try{this.YXa.setItem("gtp",JSON.stringify(c));}catch(f){return !1;}return !0;};a.prototype.QTa=function(){var c;try{c=this.YXa.getItem("gtp");if(c)return JSON.parse(c);}catch(f){}};a.prototype.Ns=function(){var c;c=this.QTa();if(c && c.tp)return c.tp.a;};a.prototype.QAb=function(){var c;c=this.mka();if(c)return c.p25;};a.prototype.RAb=function(){var c;c=this.mka();if(c)return c.p50;};a.prototype.SAb=function(){var c;c=this.mka();if(c)return c.p75;};a.prototype.mka=function(){var c;c=this.QTa();if(c && (c=c.iqr))return c;};return a;})();b.I9=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,f){this.Su=c;this.fV=f;}a.prototype.wsa=function(c){return this.Su.wsa(c);};a.prototype.Ns=function(){return this.Su.Ns();};a.prototype.tBb=function(){return this.fV.fV();};return a;})();b.Qcb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Su=c;}a.prototype.fV=function(){var c,f,l;c=this.Su.QAb();f=this.Su.RAb();l=this.Su.SAb();if("number" === typeof c && "number" === typeof f && "number" === typeof l)return (l - c) / f;};return a;})();b.Rcb=r;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.NSa=void 0;r=a(0);c=a(1039);f=a(1040);l=a(1041);m=a(1042);d=a(1043);g=a(461);h=a(462);k=a(163);b.NSa=new r.ad(function(n){n(k.cza).to(c.bza).aa();n(k.VFa).to(f.UFa).aa();n(k.TFa).to(l.SFa).aa();n(g.Zya).to(m.Yya).aa();n(h.Lza).to(d.Kza).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u,v,w,x){this.config=q;this.UVa=p;this.yc=t;this.ac=u;this.MQb=v;this.sra=w;this.jGb=0;this.za=x.Db("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;r=a(1);l=a(0);m=a(4);d=a(46);g=a(8);h=a(461);k=a(462);a=a(163);c.prototype.start=function(){this.config.enabled && !this.ur && (this.ur=this.yc.Rj(this.config.I4a,this.Wv.bind(this)));};c.prototype.stop=function(){this.ur && (this.ur.cancel(),this.ur=void 0);};c.prototype.Wv=function(){var q,p;q=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.jGb++;this.tCb(p).then(function(t){return Promise.all(t.urls.map(function(u){return q.hDb(t,u.url,u.name);})).then(function(u){0 < u.length && q.MQb.hW({data:u,context:t.context,tna:t.tna});}).then(function(){return t;});}).then(function(t){q.ur && (t.rXa?q.ur=q.yc.Rj(t.rXa,q.Wv.bind(q)):q.stop());}).catch(function(t){return q.za.error("FTL run failed",t);});};c.prototype.tCb=function(q){var p;p=this;return this.UVa.get(q,!1).then(function(t){var u;if(200 != t.status || null == t.body)return (p.sra.hW({url:q,status:t.status,Qpa:"FTL API request failed",Zd:t.Zd}),Promise.reject(Error("FTL API request failed: " + t.status)));u=p.ac.parse(t.body);return u instanceof Error?(p.sra.hW({url:q,status:4,Qpa:"FTL Probe API JSON parsing error",Zd:t.Zd}),Promise.reject(u)):Promise.resolve(u);}).catch(function(t){t instanceof Error && (p.sra.hW({url:q,status:0,Qpa:t.message}),p.za.error("FTL API call failed",t.message));return Promise.reject(t);});};c.prototype.hDb=function(q,p,t){var u;u=this;return new Promise(function(v,w){var E;for(var x,y,A,z=[],B={},D=0;D < q.iPb;(B={m9:B.m9,n9:B.n9},++D)){B.m9=D < q.C1a.length?q.C1a[D]:m.ab;B.n9="" + p + (-1 === p.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(F){return function(){return new Promise(function(C,G){u.yc.Rj(F.m9,function(){f.OOb(u.UVa,F.n9,q.hPb).then(function(J){function K(H,L,R){H || (H=R.headers[L]);return H;}x=K(x,"via",J);y=K(y,"x-ftl-probe-data",J);A=K(A,"x-ftl-error",J);C({status:J.status,Zd:J.Zd,BYb:x || "",wpb:y || "",YS:A || ""});}).catch(function(J){G(J);});});});};})(B);z.push(0 < D?z[D - 1].then(E):E());}Promise.all(z).then(function(F){v({url:p,name:t,data:F});}).catch(function(F){w(F);});});};c.OOb=function(q,p,t){return q.get(p,!1,t).then(function(u){return Object.assign({},u);});};n=f=c;n=f=r.__decorate([l.R(),r.__param(0,l.l(a.aza)),r.__param(1,l.l(k.Lza)),r.__param(2,l.l(d.lj)),r.__param(3,l.l(h.Zya)),r.__param(4,l.l(a.VFa)),r.__param(5,l.l(a.TFa)),r.__param(6,l.l(g.Kb))],n);b.bza=n;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.Ij=k;this.ooa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;r=a(1);l=a(0);m=a(47);d=a(4);g=a(54);a=a(99);c.prototype.hW=function(k){var n;n={ctx:k.context,data:k.data.map(function(q){return {name:q.name,url:q.url,data:q.data.map(function(p){return f.gZb({d:p.Zd.duration.ea(d.ma),sc:p.status,sz:p.Zd.size.ea(m.bu),via:p.BYb,cip:p.wpb,err:p.YS},p);})};})};k=this.ooa.Zu(k.tna,"info",n);this.Ij.ve(k);};c.gZb=function(k,n){f.Ru(k,"dns",n.Zd.KQa);f.Ru(k,"tcp",n.Zd.xta);f.Ru(k,"tls",n.Zd.Hta);f.Ru(k,"ttfb",n.Zd.Cta);return k;};c.Ru=function(k,n,q){q && (k[n]=q.ea(d.ma));};h=f=c;h=f=r.__decorate([l.R(),r.__param(0,l.l(g.Co)),r.__param(1,l.l(a.nA))],h);b.UFa=h;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.Ij=k;this.ooa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;r=a(1);l=a(0);m=a(47);d=a(4);g=a(54);a=a(99);c.prototype.hW=function(k){k=this.ooa.Zu("ftlProbeError","info",f.fZb({url:k.url,sc:k.status,pf_err:k.Qpa},k));this.Ij.ve(k);};c.fZb=function(k,n){n.Zd && (n=n.Zd,f.Ru(k,"d",n.duration),f.Ru(k,"dns",n.KQa),f.Ru(k,"tcp",n.xta),f.Ru(k,"tls",n.Hta),f.Ru(k,"ttfb",n.Cta),k.sz=n.size.ea(m.bu));return k;};c.Ru=function(k,n,q){q && (k[n]=q.ea(d.ma));};h=f=c;h=f=r.__decorate([l.R(),r.__param(0,l.l(g.Co)),r.__param(1,l.l(a.nA))],h);b.SFa=h;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.is=h;this.json=k;l.co(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;r=a(1);f=a(0);l=a(56);m=a(36);d=a(4);a=a(26);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.Bea(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.nR(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.nR(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.wx(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.nR(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.wx(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Fn(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.SJ(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){n=h.urls[k];if(!this.is.Bea(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Wo(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Wo(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {iPb:h.pulses,C1a:h.pulse_delays?h.pulse_delays.map(d.xc):[],hPb:d.xc(h.pulse_timeout),rXa:h.next?d.xc(h.next):void 0,urls:h.urls,tna:h.logblob,context:h.ctx};};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Jf)),r.__param(1,f.l(m.pD))],g);b.Yya=g;},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t,u){this.xa=p;this.iZb=t;this.performance=u;l.co(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.Kza=void 0;r=a(1);l=a(56);m=a(1044);d=a(47);g=a(36);h=a(40);k=a(0);n=a(459);q=a(4);c.prototype.get=function(p,t,u){var v;v=this;return new Promise(function(w,x){var y,A,z;try{y=v.iZb.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",p,!0);t && (y.withCredentials=!0);u && (y.timeout=u.ea(q.ma));A=v.xa.mf;z=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:z=v.xa.mf.Aa(A);break;case XMLHttpRequest.DONE:B=v.xa.mf.Aa(A);B={body:y.responseText,status:y.status,headers:f.DMb(y.getAllResponseHeaders()),Zd:v.tka(p,d.ca(y.responseText.length),B,z)};w(B);}};y.send();}catch(B){x(B);}});};c.DMb=function(p){var t,v,w;t={};p=p.split("\r\n");for(var u=0;u < p.length;u++){v=p[u];w=v.indexOf(": ");0 < w && (t[v.substring(0,w).toLowerCase()]=v.substring(w + 2));}return t;};c.prototype.tka=function(p,t,u,v){t={size:t,duration:u,Cta:v};if(!this.performance || !this.performance.getEntriesByName)return t;u=this.performance.getEntriesByName(p);if(0 == u.length && (u=this.performance.getEntriesByName(p + "/"),0 == u.length))return t;p=u[u.length - 1];t=m.vYa(t);p.decodedBodySize && (t.size=d.ca(p.decodedBodySize));0 < p.duration?t.duration=q.timestamp(p.duration):0 < p.startTime && 0 < p.responseEnd && (t.duration=q.timestamp(p.responseEnd - p.startTime));0 < p.requestStart && (t.KQa=q.timestamp(p.domainLookupEnd - p.domainLookupStart),t.xta=q.timestamp(p.connectEnd - p.connectStart),t.Cta=q.timestamp(p.responseStart - p.startTime),0 === p.secureConnectionStart?t.Hta=q.timestamp(0):void 0 !== p.secureConnectionStart && (u=p.connectEnd - p.secureConnectionStart,t.Hta=q.timestamp(u),t.xta=q.timestamp(p.connectEnd - p.connectStart - u)));return t;};a=f=c;a=f=r.__decorate([k.R(),r.__param(0,k.l(h.vi)),r.__param(1,k.l(n.wIa)),r.__param(2,k.l(g.$aa)),r.__param(2,k.optional())],a);b.Kza=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eIb=b.vYa=b.cIb=void 0;b.cIb=function(a){return a;};b.vYa=function(a){return a;};b.eIb=function(a){return Object.assign({},a);};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.A1a=void 0;r=a(0);c=a(309);f=a(1046);l=a(183);m=a(1047);b.A1a=new r.ad(function(d){d(c.Uxa).to(f.Txa).aa();d(l.qP).to(m.UAa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u){this.Td=q;this.Ax=p;this.mYb=t;this.SL=u;}Object.defineProperty(b,"__esModule",{value:!0});b.Txa=void 0;r=a(1);f=a(0);l=a(28);m=a(35);d=a(77);g=a(133);h=a(59);k=a(58);a=a(183);c.prototype.hg=function(q){var p;p=this;return this.Td.rs(q.Aj[0].data[0],[8,4])?Promise.resolve({fe:[{id:"ddd",bG:"cert",xU:void 0}],Mi:[{sessionId:"ddd",data:new Uint8Array(this.Ax.decode(k.mIa))}]}):this.Td.rs(q.Aj[0].data[0],this.mYb.decode("certificate"))?Promise.resolve({fe:[{id:"ddd",bG:"cert",xU:void 0}],Mi:[{sessionId:"ddd",data:new Uint8Array(this.Ax.decode(k.HY))}]}):this.SL.qx(this.Gyb(q)).then(function(t){return p.Hyb(t);});};c.prototype.release=function(q){return this.SL.release(this.Kyb(q)).then(function(){});};c.prototype.Gyb=function(q){var p,t;p=this;t=q.Aj.map(function(u){return u.data.map(function(v){return {sessionId:u.sessionId,dataBase64:p.Ax.encode(v)};});});return {da:q.da,Ti:q.Ti,k2:q.k2,Tf:h.ena(q.Tf),Pn:g.kn[q.Pn],Aj:t.reduce(function(u,v){return u.concat(v);},[]),KU:q.KU,Hj:q.Hj};};c.prototype.Kyb=function(q){return {da:q.da,fe:q.fe};};c.prototype.Hyb=function(q){return {fe:q.fe,Mi:q.Mi};};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.Kf)),r.__param(1,f.l(m.Th)),r.__param(2,f.l(d.uu)),r.__param(3,f.l(a.qP))],n);b.Txa=n;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q,p,t){this.Ukb=k;this.iQb=n;this.D2a=p;this.mRb=t;this.za=q.Db("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.UAa=void 0;r=a(1);f=a(0);l=a(8);m=a(463);a(464);d=a(465);g=a(466);a=a(264);c.prototype.qx=function(k){var n,q;n=this;!1;q=this.D2a.wWb(k);return this.Ukb.up(this.za,k.Hj,q).then(function(p){p.map(function(t){return t.UGb;});return n.mRb.h6a(p);}).catch(function(p){n.za.error("PBO license failed",p);return Promise.reject(p);});};c.prototype.release=function(k){var n;n=this;!1;k=this.D2a.zWb(k);return this.iQb.Rf(this.za,k).then(function(){return {W:!0};}).catch(function(q){n.za.error("PBO release license failed",q);return Promise.reject(q);});};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(m.BDa)),r.__param(1,f.l(d.oEa)),r.__param(2,f.l(l.Kb)),r.__param(3,f.l(g.QDa)),r.__param(4,f.l(a.Xaa))],h);b.UAa=h;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w;function c(x){return function(){return x.$a.get(f.jEa).nb();};}Object.defineProperty(b,"__esModule",{value:!0});b.DG=void 0;r=a(0);f=a(184);l=a(209);m=a(265);d=a(467);g=a(1049);h=a(1050);k=a(468);n=a(1051);q=a(469);p=a(1052);t=a(266);u=a(1053);v=a(470);w=a(1054);b.DG=new r.ad(function(x){x(k.TEa).to(n.SEa).aa();x(l.Zaa).to(m.fEa).aa();x(d.GDa).to(g.FDa).aa();x(f.jEa).to(h.iEa).aa();x(f.xZ).kX(c);x(v.hEa).to(w.gEa).aa();x(q.MDa).to(p.LDa).aa().LX();x(t.lEa).to(u.kEa).aa();x(t.cEa).to(u.bEa).aa();x(t.eEa).to(u.dEa).aa();});},function(r,b,a){var m,d,g,h,k,n,q,p,t,u;function c(){}function f(){}function l(v,w,x,y,A){var z;z=this;this.is=v;this.cn=w;this.config=x;this.kF=y;this.WMb=A;this.dw=function(){return new c().encode({version:z.version,data:z.DG});};this.LXb=function(B){B=z.upgrade(B);z.WMb.validate(B);return B;};this.upgrade=function(B){var D;if(z.is.Fn(B))return z.OXb(B);D=B.version;if(void 0 != D && z.is.ai(D) && 1 == D)return z.PXb(B);D=B.version;if(void 0 != D && z.is.ai(D) && 2 == D)return new c().decode(B);if(B.version && z.is.ai(B.version))throw new k.ed(g.M.jA,g.L.hwa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.ed(g.M.jA,g.L.fA,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.yr=new n.W$(2,this.config().U0a,"" !== this.config().U0a && 0 < this.config().CNb,this.cn,this.dw);}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;r=a(1);m=a(0);d=a(14);g=a(3);h=a(26);k=a(42);n=a(306);q=a(78);p=a(85);t=a(265);a=a(266);l.prototype.wPb=function(){return this.yr.load(this.LXb).catch(function(v){throw new k.ed(g.M.jA,v.oa || v.kc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};l.prototype.vlb=function(v){return this.yr.add(v);};l.prototype.p2a=function(v){return this.yr.remove(v,function(w,x){return w.da === x.da;});};l.prototype.mua=function(v){return this.yr.update(v,function(w,x){return w.da === x.da;});};l.prototype.toString=function(){return JSON.stringify(this.dw(),null,"  ");};l.prototype.W6a=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.kF().kk:"";};l.prototype.qua=function(v){return v.map(function(w){return {Dd:w.downloadableId,duration:w.duration};});};l.prototype.X6a=function(v){var w;return v?{total:v.playTimes.total,zH:null !== (w=v.playTimes.totalContentTime) && void 0 !== w?w:v.playTimes.total,audio:this.qua(v.playTimes.audio || []),video:this.qua(v.playTimes.video || []),text:this.qua(v.playTimes.timedtext || [])}:{total:0,zH:0,audio:[],video:[],text:[]};};l.prototype.OXb=function(v){var w,x,y;w=this;v=JSON.parse(v);x={type:"online",href:this.W6a(v.playbackContextId),da:v.xid?v.xid.toString():"",K:v.movieId,position:v.position,aS:v.timestamp,zW:v.playback?1E3 * v.playback.startEpoch:-1,$L:v.mediaId,EV:this.X6a(v.playback),trackId:"",po:{},profileId:v.accountKey};y=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.cn.create().then(function(A){A.save(w.config().GS,y,!1);});if("" === x.href || "" === x.da)throw new k.ed(g.M.jA,g.L.fA);return {version:2,data:[x]};};l.prototype.PXb=function(v){var w;w=this;if(!v.playdata || !this.is.wx(v.playdata))throw new k.ed(g.M.jA,g.L.fA,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:w.W6a(y.playbackContextId),da:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,aS:y.timestamp,zW:y.playback?1E3 * y.playback.startEpoch:-1,$L:y.mediaId,EV:w.X6a(y.playback),trackId:"",po:{},profileId:y.profileId};});})(v.playdata)};};Va.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.yr.version;}},DG:{configurable:!0,enumerable:!0,get:function(){return this.yr.Vu;}}});u=l;u=r.__decorate([m.R(),r.__param(0,m.l(h.Jf)),r.__param(1,m.l(q.aA)),r.__param(2,m.l(d.Vc)),r.__param(3,m.l(p.ww)),r.__param(4,m.l(a.eEa))],u);b.FDa=u;f.prototype.encode=function(v){var w;w=new t.wZ();return v.map(w.encode);};f.prototype.decode=function(v){var w;w=new t.wZ();return v.map(w.decode);};c.prototype.encode=function(v){return {version:v.version,data:new f().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new f().decode(v.data)};};},function(r,b,a){var m,d,g,h,k,n,q,p,t,u,v,w,x;function c(y,A,z,B,D,E,F,C){this.config=y;this.yc=z;this.gw=B;this.tt=D;this.R6=E;this.Um=F;this.ZF=Promise.resolve();this.closed=!1;this.log=A.Db("PlaydataServices");this.CG=[];this.active=new Set();this.qRb=new f(y,C);}function f(y,A){this.config=y;this.xa=A;}function l(y,A,z,B,D,E){this.log=y;this.yc=A;this.ki=z;this.tt=B;this.gw=D;this.tNb=E;this.XRa=this.Kn=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.iEa=b.Xdb=void 0;r=a(1);m=a(0);d=a(4);g=a(8);h=a(46);k=a(209);n=a(467);q=a(468);p=a(3);t=a(265);u=a(469);v=a(121);w=a(40);a=a(137);l.prototype.Y5=function(y,A){var B;function z(){var D;D=B.tt.create(B.ki);B.gw.mua(D).catch(function(E){var F;F=B.XRa?g.ij.fca:g.ij.xf;B.XRa=!0;B.log.write(F,"Unable to save playdata changes to IDB",E);});}B=this;this.log.trace("Adding initial playdata",A);this.gw.vlb(A).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.ur=B.yc.D7(y,z);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new t.wZ().encode(A)});B.ur=B.yc.D7(y,z);});};l.prototype.stop=function(y){var A,z;A=this;if(this.Kn)return Promise.resolve();this.ur && this.ur.cancel();z=this.tt.create(this.ki);return this.gw.mua(z).catch(function(B){A.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(A.ki.background)return (A.log.trace("Playback is currently in the background and never played, not sending the playdata",z),Promise.resolve());A.log.trace("Sending final playdata to the server",z);return A.tNb.v3a(z);}A.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (A.log.trace("Removing playdata from the persisted store",z),A.gw.p2a(z));A.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){A.log.info("Successfully stopped the playback",z.K);}).catch(function(B){A.log.error("Unable to remove playdata changes",B);throw B;});};l.prototype.cancel=function(){this.Kn=!0;this.ur && this.ur.cancel();this.gw.mua(this.tt.create(this.ki));};Va.Object.defineProperties(f.prototype,{Hob:{configurable:!0,enumerable:!0,get:function(){var y;y=this.xa.mf;return !this.ZF || 0 <= y.Aa(this.ZF).Vk(this.config.tXa)?(this.ZF=y,!0):!1;}}});b.Xdb=f;c.prototype.nb=function(){var y;y=this;this.VB || (this.log.trace("Starting playdata services"),this.VB=this.gw.wPb().then(function(){!1;return y;}).catch(function(A){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",A);return y;}));return this.VB;};c.prototype.close=function(){this.closed=!0;this.CG.forEach(function(y){y.Y5.cancel();});};c.prototype.send=function(y){var A;if(this.closed)return Promise.resolve();A=this.config;return A.EM && A.ksa?this.eSb(y):Promise.resolve();};c.prototype.Tt=function(y,A,z,B){var D;D=this;this.closed || (this.L4a(y),this.nsa(y,B).catch(function(E){D.log.error("Start command failed",{playdata:E.DG,error:E.YS});}),A && this.Xsa(this.TAb(y),y,z));};c.prototype.U4a=function(y){var A,z,B;A=this;if(this.closed)return Promise.resolve();z=this.tt.create(y);this.active.delete(z.da);y=aa(v.qt(function(D){return D.key === z.da;},this.CG));B=y.next().value;this.CG=y.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.Y5.stop(A.config.ksa);})).then(function(){});};c.prototype.L4a=function(y){var A,z;y.Qd("pdb");if(this.config.Opa.MFb()){A=this.tt.create(y);z=A.da;this.CG.some(function(B){return B.key === z;})?this.log.trace("Already collecting playdata, ignoring",A):(this.log.info("Starting to collect playdata",A),this.active.add(z),this.CG.push({key:z,Y5:this.jBb(y,A),$v:!1,stopped:!1}));}};c.prototype.eSb=function(y){var A,z,B,D;A=this;z=this.gw.DG.filter(function(E){return !A.active.has(E.da);});B=void 0;D=void 0;y && Infinity === y?B=z:(z=aa(v.qt(function(E){return E.K === y;},z)),B=z.next().value,D=z.next().value);D && 0 < D.length && this.yc.Rj(this.config.r3a,function(){A.t3a(D);});return B && 0 !== B.length?this.t3a(B):Promise.resolve();};c.prototype.t3a=function(y){var z;function A(B){return z.R6.v3a(B).then(function(){return z.vQb(B);});}z=this;return y.reduce(function(B,D){return B.then(function(){return A(D);});},Promise.resolve());};c.prototype.vQb=function(y){var A;A=this;return this.gw.p2a(y).then(function(){}).catch(function(z){A.log.error("Unable to complete the stop lifecycle event",z);throw z;});};c.prototype.jBb=function(y,A){y=new l(this.log,this.yc,y,this.tt,this.gw,this.R6);y.Y5(this.config.Opa,A);return y;};c.prototype.nsa=function(y,A){var z,B;z=this;B=this.tt.Isb(y,A);return this.R6.nsa(y,B).then(function(){!1;z.CG.filter(function(D){return D.key === y.da.toString();}).forEach(function(D){D.$v=!0;});}).catch(function(D){throw {DG:B,YS:D};});};c.prototype.kSb=function(y){return this.qRb.Hob?this.xW(u.Waa.nU,y,p.M.baa):Promise.resolve();};c.prototype.u3a=function(y){return this.xW(u.Waa.splice,y,p.M.iGa);};c.prototype.xW=function(y,A,z){var D;function B(E){var F;F=D.CG.filter(function(C){return C.key === E.da.toString();});return 0 === F.length?!0:F.reduce(function(C,G){return C || G.stopped || !G.$v;},!1);}D=this;return B(A)?this.ZF:this.ZF=this.ZF.catch(function(){return Promise.resolve();}).then(function(){var E;if(B(A))return Promise.resolve();!1;E=D.tt.create(A);return D.R6.xW(y,A,E);}).then(function(E){!1;return E;}).catch(function(E){var F;D.log.error("Failed to send event",{eventKey:y,xid:A.da,error:E});E.Fj?F=D.Um(z,E):E.Fv === p.gZ.bca && (F=D.Um(z,E));throw {YS:E,$pa:F};});};c.prototype.Xsa=function(y,A,z){var B;B=this;!1;this.Iga();this.Lma=this.yc.Rj(y,function(){B.Iga();B.xW(u.Waa.nU,A,p.M.baa).then(function(){B.Xsa(y,A,z);}).catch(function(D){var E;E=D.YS;(D=D.$pa) && z(D);E.Fv === p.gZ.bca && B.Xsa(y,A,z);});});};c.prototype.BUb=function(){this.Iga();};c.prototype.Iga=function(){this.Lma && (this.Lma.cancel(),this.Lma=void 0);};c.prototype.TAb=function(y){return y.ib.wla?d.xc(y.ib.wla):this.config.sXa;};x=c;x=r.__decorate([m.R(),r.__param(0,m.l(q.TEa)),r.__param(1,m.l(g.Kb)),r.__param(2,m.l(h.lj)),r.__param(3,m.l(n.GDa)),r.__param(4,m.l(k.Zaa)),r.__param(5,m.l(u.MDa)),r.__param(6,m.l(a.JP)),r.__param(7,m.l(w.vi))],x);b.iEa=x;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){k=l.gf.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;r=a(1);f=a(0);l=a(45);m=a(38);d=a(44);g=a(4);a=a(39);ka(c,l.gf);Va.Object.defineProperties(c.prototype,{EM:{configurable:!0,enumerable:!0,get:function(){return this.config.ev?"unsentplaydatatest":"unsentplaydata";}},ksa:{configurable:!0,enumerable:!0,get:function(){return !0;}},r3a:{configurable:!0,enumerable:!0,get:function(){return g.xc(1E4);}},Opa:{configurable:!0,enumerable:!0,get:function(){return g.xc(4E3);}},sXa:{configurable:!0,enumerable:!0,get:function(){return g.W5(1);}},tXa:{configurable:!0,enumerable:!0,get:function(){return g.Ug(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"EM",null);r.__decorate([d.config(d.bd,"sendPersistedPlaydata")],h.prototype,"ksa",null);r.__decorate([d.config(d.tk,"playdataSendDelayMilliseconds")],h.prototype,"r3a",null);r.__decorate([d.config(d.tk,"playdataPersistIntervalMilliseconds")],h.prototype,"Opa",null);r.__decorate([d.config(d.tk,"heartbeatCooldown")],h.prototype,"sXa",null);r.__decorate([d.config(d.tk,"keepAliveWindow")],h.prototype,"tXa",null);h=r.__decorate([f.R(),r.__param(0,f.l(m.jm)),r.__param(1,f.l(a.em))],h);b.SEa=h;},function(r,b,a){var f,l,m;function c(d,g){this.dS=g;this.log=d.Db("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;r=a(1);f=a(80);l=a(8);a=a(0);c.prototype.nsa=function(d,g){var h;h=this.dS(f.Bo.start);return this.QRa(h,d,g);};c.prototype.v3a=function(d){var g;g=this;return this.dS(f.Bo.stop).Rf(this.log,d).then(function(){}).catch(function(h){g.log.error("PBO stop event failed",h);throw h;});};c.prototype.xW=function(d,g,h){d=this.dS(d);return this.QRa(d,g,h);};c.prototype.QRa=function(d,g,h){var k;k=this;return d.up(this.log,g.sa.Hj,h).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(l.Kb)),r.__param(1,a.l(f.B$))],m);b.LDa=m;},function(r,b,a){var m,d,g,h;function c(){}function f(k){this.VMb=k;}function l(k){this.YMb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=b.dEa=b.bEa=void 0;r=a(1);m=a(0);d=a(266);g=a(42);h=a(3);l.prototype.validate=function(k){k.map(this.YMb.validate);};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(d.lEa))],a);b.bEa=a;f.prototype.validate=function(k){this.VMb.validate(k.data);};a=f;a=r.__decorate([m.R(),r.__param(0,m.l(d.cEa))],a);b.dEa=a;c.prototype.validate=function(k){var n;k.da && "string" === typeof k.da?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.ed(h.M.jA,h.L.fA,void 0,void 0,void 0,n,void 0,k.da);};r=r.__decorate([m.R()],c);b.kEa=r;},function(r,b,a){var f,l,m,d;function c(g,h){this.XMb=h;this.log=g.Db("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.gEa=void 0;r=a(1);f=a(0);l=a(8);m=a(17);a=a(184);c.prototype.Tt=function(g){var h;h=this;this.XMb().then(function(k){g.addEventListener(m.Z.cG,function(n){var q;if(void 0 !== n.NM){q=g.oL(n.NM);k.U4a(q);n.K4 || new Promise(function(p){var t;if(g.Mv.value)p();else {t=function(u){u.newValue && (p(),g.Mv.removeListener(t));};g.Mv.addListener(t);}}).then(function(){return k.Tt(g,h.o4a(g),function(p){return g.WE(p);},g.nK);});}});g.addEventListener(m.Z.st,function(){k.Tt(g,h.o4a(g),function(n){return g.WE(n);},g.nK);});g.background || g.addEventListener(m.Z.TL,function(n){n=g.oL(n.K);k.L4a(n);});g.addEventListener(m.Z.yg,function(){k.BUb();});g.addEventListener(m.Z.o7a,function(){k.kSb(g.ga).catch(function(n){(n=n.$pa) && g.WE(n);});});g.Uc.addListener(function(){g.ib.fia?h.log.trace("stickiness is disabled for timedtext"):k.u3a(g.ga);});g.Wd.addListener(function(){g.ib.fia?h.log.trace("stickiness is disabled for audio"):k.u3a(g.ga).catch(function(n){(n=n.$pa) && g.WE(n);});});});};c.prototype.o4a=function(g){return g.state.value == m.Lb.ce;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(a.xZ))],d);b.gEa=d;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q){return function(){return new Promise(function(p,t){var u;u=q.$a.get(l.bya);u.nb().then(function(){p(u);}).catch(function(v){t(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.ZQa=void 0;r=a(0);f=a(471);a(1056);l=a(473);m=a(1058);d=a(94);g=a(1059);h=a(474);k=a(1060);n=a(1061);a(1062);b.ZQa=new r.ad(function(q){q(h.cBa).to(k.bBa).aa();q(f.Zxa).to(n.dBa);q(d.pO).to(g.gva).aa();q(l.bya).to(m.$xa).aa();q(l.aya).kX(c);});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p){var t;t=g.VP.call(this,n,q,"idb") || this;t.cn=p;t.Z2a=function(u){t.uub(u.target.id).then(function(){return t.refresh();});};t.pLb=function(){t.Gpb().then(function(){return t.refresh();});};t.MLb=function(){t.refresh();};t.sLb=function(){t.Iqb();};return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Pbb=void 0;r=a(1);f=a(0);l=a(28);m=a(26);d=a(167);g=a(472);h=a(128);k=a(267);ka(c,g.VP);c.prototype.nb=function(){var n;n=this;if(this.Im)return Promise.resolve();pb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == h.hu.Nab && n.toggle();});return this.cn.create().then(function(q){n.storage=q;n.Im=!0;});};c.prototype.nk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Kka=function(n,q,p){var t;n=n.toString();t='<font color="#C41A16">"' + q + '"</font>';p=this.uc.zj({name:q,data:p});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + t + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + p + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + q + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.Wka=function(n){var q,p;q=this;p='<table class="' + this.prefix + '-display-table" width="100%">' + this.nk();Object.entries(n).forEach(function(t,u){var v;v=aa(t);t=v.next().value;v=v.next().value;p+=q.Kka(u,t,v);});return p + "</table>";};c.prototype.oTa=function(){var n,q,p;n=this.Td.createElement("button",g.WH,"Clear",{"class":this.prefix + "-display-btn"});q=this.Td.createElement("button",g.WH,"Refresh",{"class":this.prefix + "-display-btn"});p=this.Td.createElement("button",g.WH,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.pLb;q.onclick=this.MLb;p.onclick=this.sLb;return [n,q,p];};c.prototype.xHb=function(){var n;n=this;return this.storage.loadAll().then(function(q){n.WVa=q.reduce(function(p,t){p[t.key]=t.value;return p;},{});return n.WVa;});};c.prototype.uub=function(n){return this.storage.remove(n);};c.prototype.Gpb=function(){return this.storage.removeAll();};c.prototype.g2a=function(){var n;n=this;return this.xHb().then(function(q){return n.Wka(q);});};c.prototype.Iqb=function(){var n;n=JSON.stringify(this.WVa,null,4);k.kY.gha(n);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Kf)),r.__param(1,f.l(m.Jf)),r.__param(2,f.l(d.X$))],a);b.Pbb=a;},function(r,b){function a(c){this.is=c;this.pGb="#881391";this.QUb="#C41A16";this.Inb=this.WKb="#1C00CF";this.VEb="#D79BDB";this.$Wb=this.TKb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;a.prototype.zj=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.FB=function(c,f){return '<font color="' + ((void 0 === f?0:f)?this.VEb:this.pGb) + '">' + c + ": </font>";};a.prototype.SSa=function(c,f){f=f || "";c='<li><a href="#">' + this.FB(c) + "Array[" + f.length + "]</a>";c+="<ul>";for(var l=0;l < f.length;++l){c+=this.getValue(l.toString(),f[l]);}c+=this.getValue("length",f.length,!0);return c + "</ul></li>";};a.prototype.rUa=function(c,f){var l,m;l=this;if(f instanceof CryptoKey)return this.Tzb(c,f);m="";m+='<li><a href="#">' + ("~~NONAME~~" !== c?this.FB(c):"") + "Object</a>";m+="<ul>";Object.entries(f).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;m=d.startsWith("$")?m + l.getValue(d,"REMOVED"):m + l.getValue(d,g);});m+="</ul>";return m+="</li>";};a.prototype.Tzb=function(c,f){c='<li><a href="#">' + this.FB(c) + "CryptoKey</a>";c=c + "<ul>" + this.rUa("algorithm",f.algorithm);c+=this.WSa("extractable",f.extractable);c+=this.WUa("type",f.type);c+=this.SSa("usages",f.usages);return c + "</ul></li>";};a.prototype.xBb=function(c,f,l){return '<li><a href="#">' + this.FB(c,void 0 === l?!1:l) + ('<font color="' + this.WKb + '">' + f.toString() + "</font></a></li>");};a.prototype.WSa=function(c,f,l){return '<li><a href="#">' + this.FB(c,void 0 === l?!1:l) + ('<font color="' + this.Inb + '">' + f.toString() + "</font></a></li>");};a.prototype.WUa=function(c,f,l){128 < f.length && (f=f.substr(0,128) + "...");return '<li><a href="#">' + this.FB(c,void 0 === l?!1:l) + ('<font color="' + this.QUb + '">"' + f + '"</font></a></li>');};a.prototype.wBb=function(c){return '<li><a href="#">' + this.FB(c) + ('<font color="' + this.TKb + '">null</font></a></li>');};a.prototype.BCb=function(c,f){f="undefined" === typeof f?"":f.toString();255 < f.length && (f=f.substr(0,255) + "...");return '<li><a href="#">' + this.FB(c) + ('<font color="' + this.$Wb + '">' + f + "</font></a></li>");};a.prototype.getValue=function(c,f,l){l=void 0 === l?!1:l;return null === f?"" + this.wBb(c):this.is.wx(f)?"" + this.SSa(c,f):this.is.SJ(f)?"" + this.rUa(c,f):this.is.Wo(f)?"" + this.WUa(c,f,l):this.is.ai(f)?"" + this.xBb(c,f,l):this.is.mR(f)?"" + this.WSa(c,f,l):"" + this.BCb(c,f);};b.LHa=a;},function(r,b,a){var f,l;function c(m){this.evb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.$xa=void 0;r=a(1);f=a(0);a=a(471);c.prototype.nb=function(){var m;m=this;this.VB || (this.VB=new Promise(function(d,g){var h;h=[];m.evb.forEach(function(k){h.push(k.nb());});Promise.all(h).then(function(){d();}).catch(function(k){g(k);});}));return this.VB;};l=c;l=r.__decorate([f.R(),r.__param(0,f.oG(a.Zxa))],l);b.$xa=l;},function(r,b,a){var f,l;function c(){this.dsa="";this.B7a=[[],[]];this.Y=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.gva=void 0;r=a(1);f=a(0);a(4);l=a(94);c.prototype.downloadRequest=function(m){var d;"" === this.dsa && (this.dsa=m.va);if(!m.Pc){d=this.cWb(m);this.Y[m.mediaType].push(d);this.B7a[m.mediaType].forEach(function(g){g.c4b(d);});}};c.prototype.cWb=function(m){return {id:m.Jh(),va:m.va,mediaType:m.mediaType,Bj:m.Bj,startTime:m.oz,endTime:m.Qv,offset:m.Gt,gK:m.gK,fK:m.fK,duration:m.cy,bitrate:m.bitrate,state:l.M9.TQa,Mv:!1,i6b:!1,yVa:!1,a5b:l.L9.waiting};};c.prototype.update=function(m){this.B7a[m.mediaType].forEach(function(d){d.b9b(m);});};Va.Object.defineProperties(c.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.dsa;}}});a=r.__decorate([f.R()],c);b.gva=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){h=m.gf.call(this,h,"LogDisplayConfigImpl") || this;h.Il=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;r=a(1);f=a(0);l=a(44);m=a(45);d=a(38);a=a(131);ka(c,m.gf);Va.Object.defineProperties(c.prototype,{gW:{configurable:!0,enumerable:!0,get:function(){return !0;}},UL:{configurable:!0,enumerable:!0,get:function(){return this.Il.UL;}},eYa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([l.config(l.bd,"renderDomDiagnostics")],g.prototype,"gW",null);r.__decorate([l.config(l.x4,"logDisplayMaxEntryCount")],g.prototype,"UL",null);r.__decorate([l.config(l.x4,"logDisplayAutoshowLevel")],g.prototype,"eYa",null);g=r.__decorate([f.R(),r.__param(0,f.l(d.jm)),r.__param(1,f.l(a.HP))],g);b.bBa=g;},function(r,b,a){var m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z;function c(B,D,E,F,C,G,J,K,H,L){var R;R=this;this.xa=B;this.Of=D;this.Td=E;this.yc=F;this.$m=C;this.config=G;this.kF=J;this.yta=K;this.Jtb=H;this.cn=L;this.IVb=function(){R.xX.nl(function(){R.update();});};this.clear=function(){R.entries=[];R.update();};this.yZa=function(){R.xe.OL=!R.xe.OL;R.jC && R.nC && (R.xe.OL?(R.jC.style.display="inline-block",R.nC.style.display="none"):(R.nC.style.display="inline-block",R.jC.style.display="none"));R.gH(!1);};this.SHb=function(I){var Q;R.entries.push(I);Q=R.config.UL;0 <= Q && R.entries.length > Q && R.entries.shift();void 0 === R.xe.Jx[I.Ln] && (R.xe.Jx[I.Ln]=!0,R.gH(!1));R.xe.isVisible && !R.A5a?R.IVb():R.xX.nl();};this.mvb=function(){l.download("all",R.entries.map(function(I){return I.z8(!1,!1);})).catch(function(I){console.error("Unable to download all logs to the file",I);});};this.Im=!1;this.xe={isVisible:!1,OL:!0,g2:!0,pna:u.ij.T$,Jx:{}};this.xX=this.yta(q.Ug(1));this.Hxb=this.Jtb(q.xc(250));this.entries=[];!1;!1;}function f(B){var D;this.elements=[];D=document.createElementNS(f.YW,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;r=a(1);m=a(0);d=a(28);g=a(107);h=a(328);k=a(46);n=a(40);q=a(4);p=a(19);t=a(85);u=a(8);v=a(108);w=a(268);x=a(474);y=a(78);A=a(128);z=a(267);l.download=function(B,D){return l.sAb(B).then(function(E){return l.uCb(E,D.join("\r\n")).then(function(F){return l.kvb(F.filename,F.text);});});};l.sAb=function(B){return new Promise(function(D,E){var F,C,G,J,K,H,L;try{F=new Date();C=F.getDate().toString();G=(F.getMonth() + 1).toString();J=F.getFullYear().toString();K=F.getHours().toString();H=F.getMinutes().toString();L=F.getSeconds().toString();1 === C.length && (C="0" + C);1 === G.length && (G="0" + G);1 === K.length && (K="0" + K);1 === H.length && (H="0" + H);1 === L.length && (L="0" + L);D(J + G + C + K + H + L + "." + B + ".log");}catch(R){E(R);}});};l.uCb=function(B,D){return new Promise(function(E,F){try{E({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(C){F(C);}});};l.kvb=function(B,D){var E;try{E=document.createElement("a");E.setAttribute("href",D);E.setAttribute("download",B);E.style.display="none";document.body.appendChild(E);E.click();document.body.removeChild(E);return Promise.resolve();}catch(F){return Promise.reject(F);}};f.prototype.HN=function(){var B;B=document.createElementNS(f.YW,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};f.prototype.IN=function(B,D,E){var F;F=document.createElementNS(f.YW,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);E && F.setAttribute("fill-rule",E);this.addElement(F);return this;};f.prototype.RW=function(B,D,E,F,C){var G;C=void 0 === C?"#000000":C;G=document.createElementNS(f.YW,"rect");G.setAttribute("x",B.toString());G.setAttribute("y",D.toString());G.setAttribute("height",E.toString());G.setAttribute("width",F.toString());C && G.setAttribute("fill",C);this.addElement(G);return this;};f.prototype.qUb=function(){var B;B=document.createElementNS(f.YW,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.zj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Va.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},hF:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});f.YW="http://www.w3.org/2000/svg";c.prototype.nb=function(){var B;B=this;this.VB || (this.VB=new Promise(function(D){pb.addEventListener("keydown",function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == A.hu.Sbb?B.toggle():E.keyCode == A.hu.E && z.kY.gha(B.kF().kk));});B.$m.n7(w.kaa.n$a,B.SHb);D();}));return this.VB;};c.prototype.show=function(){document.body && (this.element || (this.wsb(),this.Im=!0),!this.xe.isVisible && this.element && (document.body.appendChild(this.element),this.xe.isVisible=!0,this.update(!0)));};c.prototype.Xq=function(){this.Im && this.xe.isVisible && this.element && (document.body.removeChild(this.element),this.xe.isVisible=!1);};c.prototype.toggle=function(){this.xe.isVisible?this.Xq():this.show();this.gH(!1);};c.prototype.wsb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.ro=this.ntb());B.appendChild(this.otb());B.appendChild(this.psb());this.element=B;}catch(E){console.error("Unable to create the log console",E);}};c.prototype.ntb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.A5a=!0;B.update();B.ro && (B.ro.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.A5a=!1;B.update();B.ro && (B.ro.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.otb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Qsb());B.appendChild(this.Gsb());B.appendChild(this.Bsb());B.appendChild(this.qtb());B.appendChild(this.tsb());B.appendChild(this.Wsb());B.appendChild(this.Usb());B.appendChild(this.Dsb());B.appendChild(this.usb());return B;};c.prototype.psb=function(){var B,D,E,F,C,G;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");E=this.createElement("div","padding:2px");F=this.createElement("select",this.ov(22,160,1,2),"<option>Select categories</option>");C=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(E);D.appendChild(C);E.appendChild(F);E.addEventListener("mousedown",function(J){J.preventDefault();});G=!1;E.addEventListener("click",function(){G?C.style.display="none":(C.innerHTML="",["all","none"].concat(Object.keys(B.xe.Jx).sort()).forEach(function(J){C.appendChild(B.qsb(J,E));}),C.style.display="block");G=!G;});return D;};c.prototype.qsb=function(B,D){var E,F,C;E=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;C=this.createElement("input","margin:1px");C.type="checkbox";C.id=B;C.checked=this.xe.Jx[B];C.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(E.xe.Jx).forEach(function(G){E.xe.Jx[G]="all" === B;}),D.click()):E.xe.Jx[B]=!E.xe.Jx[B];E.gH(!0);});F.appendChild(C);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.Qsb=function(){var B,D;B=this;D=this.createElement("select",this.ov(22,NaN,1,2),'<option value="' + u.ij.xf + '">Error</option><option value="' + (u.ij.fca + '">Warn</option><option value="') + (u.ij.T$ + '">Info</option><option value="') + (u.ij.kHa + '">Trace</option><option value="') + (u.ij.ia + '">Debug</option>'));D.value=this.xe.pna.toString();D.addEventListener("change",function(E){B.xe.pna=parseInt(E.target.value);B.gH(!0);},!1);return D;};c.prototype.Gsb=function(){var D,E;function B(F){return D.Hxb.nl(function(){var C;C=F.target.value;D.xe.filter=C?new RegExp(C):void 0;D.gH(!0);});}D=this;E=this.createElement("input",this.ov(14,150,1,2));E.value=this.xe.filter?this.xe.filter.source:"";E.title="Filter (RegEx)";E.placeholder="Filter (RegEx)";E.addEventListener("keydown",B,!1);E.addEventListener("change",B,!1);return E;};c.prototype.Bsb=function(){var B,D,E,F;B=this;D=this.createElement("div",this.ov(NaN,NaN));E=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");E.id="details";E.type="checkbox";E.title="Details";E.checked=this.xe.g2;E.addEventListener("change",function(C){B.xe.g2=C.target.checked;B.gH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(E);D.appendChild(F);return D;};c.prototype.qtb=function(){var B,D,E;B=this;D=this.createElement("button",this.ov());E=new f("0 0 24 24").HN().qUb().end().IN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.hF,"nonzero").end().end().zj();D.appendChild(E);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.tsb=function(){var B,D;B=this.createElement("button",this.ov());D=new f("0 0 24 24").HN().RW(0,0,24,24,f.background).end().IN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.hF).end().end().zj();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.Wsb=function(){var B;this.nC=this.createElement("button",this.ov());this.nC.style.display=this.xe.OL?"none":"inline-block";B=new f("0 0 24 24").HN().RW(0,0,24,24,f.background).end().IN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.hF,"nonzero").end().end().zj();this.nC.addEventListener("click",this.yZa,!1);this.nC.appendChild(B);this.nC.setAttribute("title","Shrink the log console");return this.nC;};c.prototype.Usb=function(){var B;this.jC=this.createElement("button",this.ov());this.jC.style.display=this.xe.OL?"inline-block":"none";B=new f("0 0 24 24").HN().RW(4,4,16,16,f.background).end().IN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.hF,"nonzero").end().end().zj();this.jC.addEventListener("click",this.yZa,!1);this.jC.appendChild(B);this.jC.setAttribute("title","Expand the log console");return this.jC;};c.prototype.Dsb=function(){var B,D;B=this.createElement("button",this.ov());D=new f("0 0 26 26").HN().RW(0,0,24,24,f.background).end().IN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.hF,"nonzero").end().end().zj();B.appendChild(D);B.addEventListener("click",this.mvb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.usb=function(){var B,D,E;B=this;D=this.createElement("button",this.ov());E=new f("0 0 24 24").HN().RW(0,0,24,24,f.background).end().IN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.hF,"nonzero").end().end().zj();D.appendChild(E);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.gH=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.gW && Promise.resolve(this.Xnb() + this.tAb().join("\r\n")).then(function(E){D.element && D.ro && (D.ro.value=E,D.element.style.cssText=D.xe.OL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.yc.Rj(q.ab,function(){D.ro.scrollTop=D.ro.scrollHeight;}));}).catch(function(E){console.error("Unable to update the log console",E);});};c.prototype.tAb=function(){var B,D;B=this;D=[];this.entries.forEach(function(E){(E.level || E.level) <= B.xe.pna && B.xe.Jx[E.Ln] && (E=E.z8(!B.xe.g2,!B.xe.g2),B.xe.filter && !B.xe.filter.test(E) || D.push(E));});return D;};c.prototype.Xnb=function(){var B;B=this.kF();return "Version: 6.0032.694.911 \n" + ((B?"Esn: " + B.kk:"") + "\nJsSid: ") + (this.Of.id + ", Epoch: " + this.xa.mf.ea(q.sn) + ", Start: " + this.Of.aG.ea(q.sn) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,E,F){return this.Td.createElement(B,D,E,F);};c.prototype.ov=function(B,D,E,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === E?0:E) + "px solid " + f.hF + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.DUb="logDxDisplay";a=r.__decorate([m.R(),r.__param(0,m.l(n.vi)),r.__param(1,m.l(p.rd)),r.__param(2,m.l(d.Kf)),r.__param(3,m.l(k.lj)),r.__param(4,m.l(v.rI)),r.__param(5,m.l(x.cBa)),r.__param(6,m.l(t.ww)),r.__param(7,m.l(g.HI)),r.__param(8,m.l(h.rxa)),r.__param(9,m.l(y.aA))],a);b.dBa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t){var u;u=h.VP.call(this,q,p,"network") || this;u.Eha=t;u.h2=g.vxa.xcb;u.zIb=30;u.XLb=function(v){u.h2=v.target.value;u.refresh();};u.oLb=function(){u.data={};u.refresh();};u.Z2a=function(v){var w,x;w=Number(v.target.id);v=v.target.getAttribute("data-type");w=u.data[u.h2][w].value;x=JSON.stringify(w,null,4);"copy" === v?n.kY.gha(x):"log" === v && console.log(w);};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Pcb=void 0;r=a(1);f=a(0);l=a(28);m=a(26);d=a(93);g=a(181);h=a(472);k=a(128);n=a(267);ka(c,h.VP);c.prototype.nb=function(){var q;q=this;if(this.Im)return Promise.resolve();pb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == k.hu.Dcb && q.toggle();});this.data={};this.Eha.addListener(g.s$.Wdb,function(p){var t;q.data[p.type] || (q.data[p.type]=[]);t=q.data[p.type];t.length === q.zIb && t.shift();t.push(p);p.type === q.h2 && q.refresh();});this.Im=!0;return Promise.resolve();};c.prototype.nk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Kka=function(q,p,t){var u;u=q.toString();p='<font color="#C41A16">"' + p + '"</font>';t=this.uc.zj(t);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + u + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + p + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + t + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.Wka=function(){for(var q='<table class="' + this.prefix + '-display-table" width="100%">' + this.nk(),p=this.data[this.h2] || [],t=0;t < p.length;++t){q+=this.Kka(t,p[t].name,p[t].value);}return q + "</table>";};c.prototype.oTa=function(){var q;q=this.Td.createElement("button",h.WH,"Clear",{"class":this.prefix + "-display-btn"});q.onclick=this.oLb;return [q,this.ptb(),this.etb()];};c.prototype.ptb=function(){var q;q=this.Td.createElement("select",h.WH,Object.values(g.vxa).reduce(function(p,t){return p + ('<option value="' + t + '">' + t + "</option>");},""),{"class":this.prefix + "-display-select"});q.onchange=this.XLb;return q;};c.prototype.etb=function(){var q,p,t,u;q=this;p=this.Td.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});p.checked=this.MV;p.onchange=function(){return q.jWb();};t=this.Td.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});u=this.Td.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});u.appendChild(p);u.appendChild(t);return u;};c.prototype.g2a=function(){return Promise.resolve(this.Wka());};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Kf)),r.__param(1,f.l(m.Jf)),r.__param(2,f.l(d.zY))],a);b.Pcb=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;r=a(0);c=a(446);f=a(11);b.crypto=new r.ad(function(l){l(c.cxa).ri(f.iZ);});},function(r,b,a){var c,f,l,m,d,g,h,k,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.ye=void 0;r=a(0);c=a(1065);f=a(1066);l=a(1067);m=a(135);d=a(307);g=a(452);h=a(1068);k=a(1069);n=a(475);q=a(1070);b.ye=new r.ad(function(p){p(m.SZ).to(c.eHa).aa();p(d.xba).to(l.IFa).aa();p(g.$Ha).to(f.ZHa).aa();p(h.adb).to(k.cDa).aa();p(n.sIa).to(q.rIa).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.is=k;this.json=n;l.co(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(1);l=a(56);m=a(36);d=a(0);g=a(26);h=a(135);c.prototype.P1a=function(k){var n;n=this;return f.read(k,function(q){return parseInt(q);},function(q){return n.is.Zea(q);});};c.prototype.Lqa=function(k){var n;n=this;return f.read(k,function(q){return "true" == q?!0:"false" == q?!1:void 0;},function(q){return n.is.mR(q);});};c.prototype.Rp=function(k){var n;n=this;return f.read(k,function(q){return parseInt(q);},function(q){return n.is.yR(q);});};c.prototype.uPb=function(k){var n;n=this;return f.read(k,function(q){return parseFloat(q);},function(q){return n.is.ai(q);});};c.prototype.O1a=function(k,n){return f.read(k,function(q){return f.Pxb(q,n);},function(q){return void 0 !== q;});};c.prototype.Sqa=function(k,n){return f.read(k,function(q){return q;},function(q){return n?n.test(q):!0;});};c.prototype.Q1a=function(k){var n,q;n=this;q=void 0 === q?function(){return !0;}:q;try{return f.read(k,function(p){return n.json.parse(decodeURIComponent(p));},function(p){return n.is.SJ(p) && q(p);});}catch(p){return new h.Fo();}};c.prototype.ph=function(k,n,q){var p,t;p=this;q=void 0 === q?1:q;k=k.trim();t=n instanceof Function?n:this.Xsb(n,q);n=k.indexOf("[");q=k.lastIndexOf("]");if(0 != n || q != k.length - 1)return new h.Fo();k=k.substring(n + 1,q);try{return f.IMb(k).map(function(u){u=t(p,f.tYb(u));if(u instanceof h.Fo)throw u;return u;});}catch(u){return u instanceof h.Fo?u:new h.Fo();}};c.prototype.Xsb=function(k,n){var q;q=this;n=void 0 === n?1:n;return function(p,t){p=f.zBb(k);return 1 < n?q.ph(t,k,n - 1):p(q,t);};};c.Pxb=function(k,n){var p;for(var q in n){p=parseInt(q);if(n[p] == k)return p;}};c.read=function(k,n,q){k=n(k);return void 0 !== k && q(k)?k:new h.Fo();};c.zBb=function(k){switch(k){case "int":return function(n,q){return n.P1a(q);};case "bool":return function(n,q){return n.Lqa(q);};case "uint":return function(n,q){return n.Rp(q);};case "float":return function(n,q){return n.uPb(q);};case "string":return function(n,q){return n.Sqa(q);};case "object":return function(n,q){return n.Q1a(q);};}};c.IMb=function(k){var x;for(var n=[["[","]"]],q=[],p=0,t=0,u=0,v=[],w={};t < k.length;(w={mO:w.mO},++t)){w.mO=k.charAt(t);x=void 0;"," == w.mO && 0 == u?(q.push(k.substr(p,t - p)),p=t + 1):(x=n.find((function(y){return function(A){return A[0] == y.mO;};})(w)))?(++u,v.push(x)):0 < v.length && v[v.length - 1][1] == w.mO && (--u,v.pop());}if(p != t)q.push(k.substr(p,t - p));else if(p == t && 0 < p)throw new h.Fo();return q;};c.tYb=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new h.Fo();return k.substring(1,k.length - 1);}return k;};a=f=c;a=f=r.__decorate([d.R(),r.__param(0,d.l(g.Jf)),r.__param(1,d.l(m.pD))],a);b.eHa=a;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(1);a=a(0);c.prototype.QSa=function(f){var l;l=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(m){return l.QSa(m);});};a=r.__decorate([a.R()],c);b.ZHa=a;},function(r,b,a){var f,l,m,d;function c(g){this.location=g;l.co(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;r=a(1);l=a(56);m=a(36);a=a(0);c.xV=function(g){var h,n,q;h={};if(0 < g.length){g=g.split("&");for(var k=0;k < g.length;k++){n=g[k].trim();q=n.indexOf("=");0 <= q?h[decodeURIComponent(n.substr(0,q).replace(f.vDa,"%20"))]=decodeURIComponent(n.substr(q + 1).replace(f.vDa,"%20")):h[n.toLowerCase()]="";}}return h;};Va.Object.defineProperties(c.prototype,{lPb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.xV(this.E1a);}},E1a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.TV)return this.TV;this.TV=this.location.search.substr(1);g=this.TV.indexOf("#");0 <= g && (this.TV=this.E1a.substr(0,g));return this.TV;}}});d=f=c;d.vDa=/[+]/g;d=f=r.__decorate([a.R(),r.__param(0,a.l(m.YAa))],d);b.IFa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.adb="ObjectComparerSymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;r=a(1);f=a(0);l=a(192);c.prototype.compare=function(m,d){var g;g=[];this.Pga(m,d,"",g);return g;};c.prototype.Pga=function(m,d,g,h){var k;k=this;if(l.oD.wx(m))l.oD.wx(d) && m.length === d.length?m.forEach(function(p,t){k.Pga(m[t],d[t],g + "[" + t + "]",h);}):h.push({a:m,b:d,path:g});else if(l.oD.SJ(m) && null != m){if(l.oD.SJ(d) && null != d){for(var n in m){this.Pga(m[n],d[n],g + "." + n,h);}for(var q in d){(q in m) || void 0 === d[q] || h.push({a:void 0,b:d[q],path:g + "." + q});}}else h.push({a:m,b:d,path:g});}else m !== d && h.push({a:m,b:d,path:g});};a=r.__decorate([f.R()],c);b.cDa=a;},function(r,b,a){var f,l,m,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rIa=void 0;r=a(1);f=a(0);l=a(11);m=a(34);d=a(269);g=a(7);c.prototype.WBb=function(){var h;h=pb.devicePixelRatio || 1;return {width:this.Rda.x_b || l.pu.width * h,height:this.Rda.w_b || l.pu.height * h};};Va.Object.defineProperties(c.prototype,{Rda:{configurable:!0,enumerable:!0,get:function(){return g.ha.get(m.tA);}}});a=c;r.__decorate([d.sU],a.prototype,"Rda",null);a=r.__decorate([f.R()],a);b.rIa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.qd=void 0;r=a(0);c=a(476);f=a(1072);l=a(116);m=a(270);d=a(1073);g=a(1074);h=a(1076);k=a(1077);n=a(1078);q=a(477);p=a(478);t=a(129);u=a(272);v=a(1079);w=a(271);x=a(1080);b.qd=new r.ad(function(y){y(c.BEa).to(f.AEa).aa();y(m.tba).to(d.AFa).aa();y(l.VD).to(g.hIa).aa();y(q.zFa).to(n.WBa).aa();y(q.yFa).to(k.TAa).aa();y(q.xFa).to(h.NAa).aa();y(u.uva).gWb(function(){var A;return null === (A=t.sm.aj) || void 0 === A?void 0:A.At;});y(u.tva).to(v.sva).aa();y(p.rba).to(p.mFa);y(w.d$).to(x.ywa).aa();});},function(r,b,a){var f,l,m;function c(d,g){this.cb=g;this.za=d.Db("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;r=a(1);f=a(0);l=a(8);a=a(26);c.prototype.Gub=function(d){var g;g=this;try{return {direction:d.direction,x6b:d.layoutHasChanged,f8b:d.rowInteractionIndex,Wa:d.lolomos.map(function(h){return g.Bub(h);})};}catch(h){this.za.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.Bub=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(h){return g.Aub(h);}),requestId:d.requestId,rowIndex:d.rowIndex,g8b:d.rowSegment};};c.prototype.Aub=function(d){var g,h;g={pd:d.pts,property:d.property,$:d.viewableId,index:d.index};h=d.preplay;this.cb.fg(h) && (g.a7=this.Fub(h));d=d.params;this.cb.fg(d) && (g.Jb=this.sQa(d));return g;};c.prototype.Fub=function(d){var g;g={pd:d.pts,$:d.viewableId,FM:d.pipelineNum,index:d.index};d=d.params;this.cb.fg(d) && (g.Jb=this.sQa(d));return g;};c.prototype.sQa=function(d){return {ke:d.uiLabel,Dk:d.trackingId,po:d.sessionParams};};c.prototype.Eub=function(d){var g;g=this;try{return d.map(function(h){return g.Cub(h);});}catch(h){this.za.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.Cub=function(d){var g,h;h=d.params;this.cb.fg(h) && (g=this.Dub(h));return {K:d.movieId,priority:d.priority,force:d.force,Jb:g,ke:d.uiLabel,Y8b:d.uiExpectedStartTime,X8b:d.uiExpectedEndTime,$k:d.firstTimeAdded};};c.prototype.Dub=function(d){var g,h;g=void 0;h=d.sessionParams;this.cb.fg(h) && (g=h);return {Z0:this.zub(d.authParams),po:g,Dk:d.trackingId,X:d.startPts,sa:d.manifest,al:d.isBranching};};c.prototype.zub=function(d){return {hNb:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(a.Jf))],m);b.AEa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t,u,v,w){this.is=v;this.Of=w;this.log=t.Db("TaskScheduler");this.Qb=new q.Xj();this.config=u();this.currentIteration=this.oS=0;this.sH=[];this.paused=!1;this.d8=[];this.VOa=[];this.NEb=this.config.qOb || p.append;this.addEventListener=this.Qb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(1);f=a(0);l=a(270);m=a(8);d=a(14);g=a(127);h=a(26);k=a(19);n=a(4);q=a(73);(function(t){t.prepend="prepend";t.append="append";t.aEb="ignore";})(p || (p={}));c.prototype.Clb=function(t){this.log.trace("adding tasks, number of tasks: " + t.length);this.paused=!1;this.sH=this.OEb(t);this.oS=0;this.currentIteration+=1;this.gg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.gg=function(){var t,u,v,w;t=this;if(this.oS === this.sH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.oS,numberOfTasks:this.sH.length});else {u=this.sBb();v=this.currentIteration;u.startTime=this.Of.Wb().ea(n.ma);u.status=g.Yj.$v;this.Qb.qc(l.DI.DVb,{K:u.K,type:u.type});this.d8.push(u);w=function(x){u.endTime=t.Of.Wb().ea(n.ma);x();t.VOa.push(u);t.d8.splice(t.d8.indexOf(u),1);t.currentIteration === v && (t.oS++,t.gg());};u.zRb().then(function(){w(function(){u.status=g.Yj.ON;t.wqa(u,l.DI.EVb,"task succeeded");});}).catch(function(x){w(function(){0 <= [g.Yj.Kn,g.Yj.Nob,g.Yj.iga].indexOf(x.status)?(u.status=x.status,t.wqa(u,l.DI.BVb,"cancelled task")):(u.status=g.Yj.Es,t.wqa(u,l.DI.CVb,"task failed",x));});});}};c.prototype.sBb=function(){return this.sH[this.oS];};c.prototype.getStats=function(t,u,v){var w,x,y,A;w=this.VOa.map(function(z){return z.Ls();});x=this.d8.map(function(z){return z.Ls();});y=this.is.fg(t) && this.is.fg(u);A={};if(this.is.fg(v))return (A.eqb=w.filter(function(z){return z.movieId === v;}),A);w.concat(x).forEach(function(z){var B;A[z.type + "_" + z.status]=(A[z.type + "_" + z.status] | 0) + 1;B=z.status == g.Yj.$v?z.startTime:z.endTime;y && B && B >= t && B < u && (A[z.type + "_" + z.status + "_delta"]=(A[z.type + "_" + z.status + "_delta"] | 0) + 1);});return A;};c.prototype.wqa=function(t,u,v,w){var x;x=t.Ls();w?this.log.warn(v,x,w):this.log.trace(v,x);this.Qb.qc(u,{K:t.K,type:t.type,reason:t.status});t.qM(x);};c.prototype.OEb=function(t){var u,v;u=this.sH.filter(function(w){return w.fNb && w.status === g.Yj.Nn;});v=this.NEb;return v === p.aEb?[].concat(t):v === p.prepend?u.concat(t):t.concat(u);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.Kb)),r.__param(1,f.l(d.Vc)),r.__param(2,f.l(h.Jf)),r.__param(3,f.l(k.rd))],a);b.AFa=a;},function(r,b,a){var l,m,d,g,h,k,n,q,p,t,u,v,w,x;function c(y,A,z,B,D,E,F,C,G,J,K){this.jZb=z;this.cb=B;this.Of=D;this.Hf=E;this.dSa=F;this.zxb=C;this.Axb=G;this.Wia=J;this.events=new x.EventEmitter();this.log=y.Db("VideoPreparer");this.config=A();this.Qua={};this.Z5={};this.Ad={num_of_calls:0,num_of_movies:0};this.xg=K.xg;}function f(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=void 0;r=a(1);l=a(1075);m=a(14);d=a(0);g=a(8);h=a(92);k=a(26);n=a(270);q=a(19);p=a(4);t=a(127);u=a(271);v=a(477);w=a(272);x=a(16);c.prototype.J3a=function(y,A,z){this.xg.setData(y,"ldl",A,z);};c.prototype.vVa=function(y){return this.xg.RT(y,"ldl");};c.prototype.uOa=function(y){this.xg.clearData(y,"ldl",void 0,!0);};c.prototype.dL=function(y,A){return this.xg.getData(y,A);};c.prototype.bTa=function(y){var A;A=this.xg.getData(y,"ldl");this.xg.clearData(y,"ldl",void 0,!0);return A;};c.prototype.MYb=function(y){return this.R4a === y || this.QPa === y;};c.prototype.LM=function(y,A){var z,B,D;z=this;y=y.map(function(E){E.Jb=E.Jb || ({Z0:{hNb:!1},Dk:0});z.cb.jF(E.Jb.Dk) || (E.Jb.Dk=0);z.cb.jF(E.pd) && (E.Jb.X=E.pd);return E;});B=y.map(function(E){return z.mtb(E,A);}).reduce(function(E,F){return E.concat(F);},[]);D=B.map(function(E){return E.K + "-" + E.type;});this.log.trace("prepare tasks",D);this.Hf.Clb(B);this.Ad.num_of_calls++;this.Ad.num_of_movies+=y.length;};c.prototype.getStats=function(y,A,z){return Object.assign(Object.assign({},z && this.Z5[z] || ({})),{sH:this.Hf.getStats(y,A,z),cache:this.xg.getStats(y,A),Pyb:Object.assign(Object.assign({},this.Ad),this.Wia.getStats())});};c.prototype.dDb=function(y){this.R4a=y;};c.prototype.cDb=function(y){this.log.trace("task scheduler paused on playback created");this.Hf.pause();this.config.xub && this.xg.Ega(y,["manifest"]);this.config.wub && this.xg.Ega(y,["ldl"]);this.config.rub && this.xg.clearData(y,"manifest");this.Wia.l2a(y);this.QPa=y;};c.prototype.sVa=function(){this.log.info("track changed, clearing all manifests from cache");this.xg.Ega("none",["manifest"]);};c.prototype.bDb=function(y){var A;A=this;this.config.tub?this.xg.clearData(y,"manifest"):this.xg.RT(y,"manifest") && this.xg.getData(y,"manifest").then(function(z){z.Tc.isSupplemental || A.xg.clearData(y,"manifest");},function(z){A.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",z);});this.Jga(y);this.R4a=this.QPa=void 0;};c.prototype.Jga=function(y){delete this.Qua[y];};c.prototype.KB=function(y){return this.Qua[y];};c.prototype.PPa=function(y){return this.Qua[y]=this.jZb.rB();};c.prototype.m4a=function(y,A){if(this.vVa(y))return t.Yj.Kn;if(!A.TT)return t.Yj.iga;};c.prototype.mtb=function(y,A){var z,B;y.ke && y.Jb && (y.Jb.ke=y.ke);this.AXb(y.K,y.$k);z=this.Tsb(y,A);B=this.Psb(y,null === z || void 0 === z?void 0:z.id,A);y=[this.Vsb(y,null === z || void 0 === z?void 0:z.id,A)];return [z,B].concat(ca(y)).filter(f);};c.prototype.Tsb=function(y,A){if(this.xg.RT(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new l.LP("manifest",this.Of.Wb().ea(p.ma),! !y.Jb.sh,void 0,A,this.dSa,y,this);};c.prototype.Psb=function(y,A,z){if(this.config.QS)if(this.xg.RT(y.K,"ldl"))!1;else return this.config.cq?new l.LP("ldl",this.Of.Wb().ea(p.ma),! !y.Jb.sh,A,z,this.zxb,y,this):new l.LP("ldl",this.Of.Wb().ea(p.ma),! !y.Jb.sh,A,z,this.Axb,y,this);};c.prototype.Vsb=function(y,A,z){if(this.config.rRa)return new l.LP("getMedia",this.Of.Wb().ea(p.ma),! !y.Jb.sh,A,z,this.Wia,y,this);};c.prototype.AXb=function(y,A){this.Z5[y] || (this.Z5[y]={Y6:0,$k:0});y=this.Z5[y];y.Y6=(void 0 !== y?void 0 !== y.Y6?y.Y6:0:0) + 1;y.$k=A;};a=c;a=r.__decorate([d.R(),r.__param(0,d.l(g.Kb)),r.__param(1,d.l(m.Vc)),r.__param(2,d.l(h.lA)),r.__param(3,d.l(k.Jf)),r.__param(4,d.l(q.rd)),r.__param(5,d.l(n.tba)),r.__param(6,d.l(v.zFa)),r.__param(7,d.l(v.yFa)),r.__param(8,d.l(v.xFa)),r.__param(9,d.l(w.tva)),r.__param(10,d.l(u.d$))],a);b.hIa=a;},function(r,b,a){var f,l;function c(m,d,g,h,k,n,q,p){this.type=m;this.Nn=d;this.fNb=void 0 === g?!1:g;this.notify=k;this.Bxb=n;this.MM=q;this.qd=p;this.id=++l;this.status=f.Yj.Nn;}Object.defineProperty(b,"__esModule",{value:!0});b.LP=void 0;f=a(127);l=0;c.prototype.Ls=function(){var m;m={id:this.id,type:this.type,created:this.Nn,status:this.status,movieId:this.K};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.qM=function(m){this.notify && this.notify(m);};c.prototype.zRb=function(){return this.Bxb.fetch(this.MM,this.qd);};Va.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.MM.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.MM.priority;}}});b.LP=c;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y;function c(A,z,B,D,E,F,C,G,J,K){this.gr=B;this.MW=D;this.Dc=E;this.xa=F;this.Ja=C;this.SL=G;this.pNb=J;this.el=K;this.log=A.Db("VideoPreparer");this.config=z();}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;r=a(1);f=a(0);l=a(8);m=a(14);d=a(127);g=a(65);h=a(59);k=a(34);n=a(139);q=a(183);p=a(35);t=a(4);u=a(40);v=a(19);w=a(185);x=a(197);a=a(117);c.prototype.fetch=function(A,z){var B;B=this;this.log.trace("Fetching LDL",w.gI(A));this.K=A.K;this.qd=z;return z.dL(A.K,"ldl").catch(function(){B.log.trace("Requesting a new license",w.gI(A));return B.el.g3(A.K).then(function(D){var E,F;B.sa=D;B.Tc=D.Tc;if(D=B.qd.m4a(A.K,B.Tc))throw {status:D};D=B.Tc.YC[0].Ct;E=B.Tc.YC[0].oia;F=(D?D:[E]).map(function(C){return B.Dc.decode(C.bytes);});B.Ye=B.eF({dRa:B.log,Hia:function(C){return B.handleError(C);},Qd:void 0,Uoa:function(){},xa:{getTime:function(){return B.Ja.Wb().ea(t.ma);},H5b:function(){return B.xa.mf.ea(t.sn);}}});z.J3a(A.K,B.Ye);return B.Ye.create(B.config.Nl).then(function(){return B.Ye.hg(h.Vh.ln,F,!0);}).then(function(){return B.Ye;}).catch(function(C){B.handleError(C);throw C;});}).catch(function(D){B.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.Yj.Kn};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.Ye.close();this.qd.uOa(this.K);this.qd.Jga(this.K);};c.prototype.eF=function(A){var z,B;z=this;if(!this.gr.eI || !this.gr.cI){B=this.pNb();this.gr.eI=B.Ob;this.gr.cI=B.request;}B=new this.gr.cI(A.dRa,function(D){var E;E=[];D.Aj.forEach(function(F){E.push({sessionId:F.sessionId,dataBase64:z.Dc.encode(F.data)});});D={Aj:E,k2:[z.Tc.Jl],Tf:g.mq.nPa(D.Tf),Ti:z.Tc.Ti,da:z.qd.PPa(z.K),Hj:z.sa.Hj};z.log.trace("xid created ",{MovieId:z.K,xid:D.da});return z.SL.qx(D);},void 0,{$e:!1,pk:!1});return this.gr.eI(A.dRa,A.Qd,{$e:!1,pk:!1,ll:B,OV:this.config.w1a,la:void 0,Uz:this.config.nRa,onerror:A.Hia,Uoa:A.Uoa,xa:A.xa,BG:!1,Lmb:this.MW.K1([]),EYb:this.MW.N1([]),l4:this.config.l4});};y=c;y=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(m.Vc)),r.__param(2,f.l(k.tA)),r.__param(3,f.l(n.SP)),r.__param(4,f.l(p.Th)),r.__param(5,f.l(u.vi)),r.__param(6,f.l(v.rd)),r.__param(7,f.l(q.qP)),r.__param(8,f.l(x.eba)),r.__param(9,f.l(a.vD))],y);b.NAa=y;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t,u,v,w,x,y){this.Dc=v;this.Cvb=w;this.aM=x;this.el=y;this.log=t.Db("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;r=a(1);f=a(0);l=a(8);m=a(14);d=a(59);g=a(35);h=a(119);k=a(134);n=a(127);q=a(185);a=a(117);c.prototype.fetch=function(t,u){var v;v=this;this.log.trace("Fetching LDL",q.gI(t));this.K=t.K;this.qd=u;return u.dL(t.K,"ldl").then(function(w){return w.P7;}).catch(function(){v.log.trace("Requesting a new license",q.gI(t));return v.el.g3(t.K).then(function(w){var x,y,A,z;v.Tc=w.Tc;if(u.vVa(t.K))return u.dL(t.K,"ldl").then(function(B){return B.P7;});x=v.qd.m4a(t.K,v.Tc);if(x)throw {status:x};y=v.Tc.YC[0].Ct;x=v.Tc.YC[0].oia;A=(y?y:[x]).map(function(B){return v.Dc.decode(B.bytes);});z=v.Cvb().then(function(B){var D;D={type:d.Vh.ln,initData:A,context:{Ct:y},ji:{K:t.K,da:u.PPa(t.K),Ti:v.Tc.Ti,Jl:v.Tc.Jl,Hj:w.Hj}};return B.hg(D,v.aM());}).catch(function(B){v.handleError("Unable to prepare an EME session.",B);throw B;});v.qd.J3a(t.K,{P7:z,source:"videopreparer"},function(){if(!v.qd.MYb(t.K))try{z.then(function(B){return B.close();}).catch(function(B){v.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){v.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return z;}).catch(function(w){v.log.warn("Manifest not available for ldl request",w);if(void 0 !== w.status)throw w;throw {status:n.Yj.Kn};});});};c.prototype.handleError=function(t,u){this.log.warn(t + " LDL is now invalid.",u);this.qd.uOa(this.K);this.qd.Jga(this.K);};p=c;p=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(m.Vc)),r.__param(2,f.l(g.Th)),r.__param(3,f.l(h.CY)),r.__param(4,f.l(k.sP)),r.__param(5,f.l(a.vD))],p);b.TAa=p;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t,u,v,w,x){this.Kna=v;this.Of=w;this.el=x;this.log=t.Db("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;r=a(1);f=a(14);l=a(0);m=a(8);d=a(19);g=a(4);h=a(143);k=a(118);n=a(185);q=a(117);p=a(59);c.prototype.fetch=function(t,u){var v,w;this.log.trace("Fetching manifest",n.gI(t));w=t.Jb;this.config.Skb && w && w.sa && !this.el.R3(t.K) && (!(("clientGenesis" in w.sa) && w.sa.clientGenesis) || Date.now() - w.sa.clientGenesis < this.config.j1a) && (w=this.Kna.create(w.sa)) && (w.PG=this.Of.Wb().ea(g.ma),w.cN=this.Of.Wb().ea(g.ma),this.el.fta(t.K,w));return this.el.AT({$:t.K,ib:null !== (v=t.Jb) && void 0 !== v?v:{},kv:k.nn.KD,Tf:p.Vh.ln},function(){u.events.emit("manifestRemovedFromCache",{type:"manifestRemovedFromCache",$:t.K});});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.Kb)),r.__param(1,l.l(f.Vc)),r.__param(2,l.l(h.rP)),r.__param(3,l.l(d.rd)),r.__param(4,l.l(q.vD))],a);b.WBa=a;},function(r,b,a){var l,m,d,g,h,k,n,q,p,t,u,v;function c(){var w;w=this;this.promise=new Promise(function(x,y){w.resolve=x;w.reject=y;});}function f(w,x,y,A,z){var B;B=this;this.fqa=y;this.mOb=A;this.el=z;this.NX=[];this.kz=new Map();this.JLb=function(D){var E,F;D=D.wishListItem.key.$;if(B.kz.has(D)){F=B.kz.get(D);D=F.MM;F=F.Tga;null === (E=F.resolve) || void 0 === E?void 0:E.call(F,D);}};this.G_a=function(D){var E,F;B.config.nOb?(B.l2a(D.$),B.f4a(B.NX)):null === (F=null === (E=B.kz.get(D.$)) || void 0 === E?void 0:E.L7a.LH.Is(D.$).events) || void 0 === F?void 0:F.emit("viewableExpired",{type:"viewableExpired"});};this.za=w.Db("VideoPreparer");this.config=x();}Object.defineProperty(b,"__esModule",{value:!0});b.sva=void 0;r=a(1);l=a(8);a(185);m=a(129);d=a(52);g=a(14);h=a(13);k=a(118);n=a(272);q=a(0);p=a(478);t=a(16);u=a(117);v=a(59);f.prototype.fetch=function(w,x){if(-1 === x.events.listeners("manifestRemovedFromCache").indexOf(this.G_a))x.events.on("manifestRemovedFromCache",this.G_a);!1;this.f4a(this.Xpb(this.vtb(w,x)));return this.kz.get(w.K).Tga.promise;};f.prototype.getStats=function(){return this.At.getStats();};f.prototype.Xpb=function(w){return [w].concat(ca(this.NX.filter(function(x){return x.key.$ !== w.key.$;}))).slice(0,this.config.kOb).map(this.config.lOb?function(x,y){return Object.assign({},x,{priority:y});}:function(x){return x;});};f.prototype.AT=function(w){var x;return this.el.AT({$:w.K,kv:k.nn.KD,Tf:v.Vh.ln,ib:null !== (x=w.Jb) && void 0 !== x?x:{}}).then(function(y){return y.Tc;});};f.prototype.vtb=function(w,x){var y,A,z,B,D,E;z=new c();if(this.kz.has(w.K)){B=this.kz.get(w.K);D=B.MM;if(D.K === w.K && D.ke === w.ke)E=B.L7a.key;this.At.getStats().contents.some(function(F){return F.id === w.K;}) && (z=B.Tga);}B=m.sm.Cd.xs(h.Wga(w.ke));E || (E={$:w.K,config:B});x={key:E,r6b:!1,priority:w.priority,a1:d.S.mb(null !== (A=null === (y=w.Jb) || void 0 === y?void 0:y.X) && void 0 !== A?A:0),LH:this.utb(w,x,B)};this.kz.set(w.K,{L7a:x,MM:w,Tga:z});return x;};f.prototype.utb=function(w,x,y){var A,z,B,D;A=this;z=w.K;B=this.el;D={get da() {return x.KB(z);},get AB() {return !B.R3(z);},events:new t.EventEmitter(),bOa:function(){},get Ir() {return A.AT(w).then(function(E){return {sa:E,Hi:E.ola && !E.TT,config:y,r4a:{}};});},$:z,equals:function(E){var F;F=x.KB(z);return E.$ === z && (!E.da || !F || F === E.da);}};return {Is:function(){return D;}};};f.prototype.P3a=function(w){this.NX=w;};f.prototype.f4a=function(w){this.P3a(w);this.At.e4a(this.NX);};f.prototype.l2a=function(w){this.kz.has(w) && (this.P3a(this.NX.filter(function(x){return x.key.$ !== w;})),this.kz.delete(w));};Va.Object.defineProperties(f.prototype,{At:{configurable:!0,enumerable:!0,get:function(){this.fx || (this.fx=this.mOb(),this.fx.zsa(this.fqa).H3a({NF:this.config.jOb}),this.fx.events.on("prefetchComplete",this.JLb));return this.fx;}}});a=f;a=r.__decorate([q.R(),r.__param(0,q.l(l.Kb)),r.__param(1,q.l(g.Vc)),r.__param(2,q.l(p.rba)),r.__param(3,q.l(n.uva)),r.__param(4,q.l(u.vD))],a);b.sva=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q){var p;p=this;this.Of=n;n=q();this.xg=new h({log:k.Db("CacheManager"),xa:{getTime:function(){return p.Of.Wb().ea(d.ma);}},Promise:Promise,$e:!1,fob:n.tOb,eob:n.rOb,exb:n.j1a,dxb:n.sOb});}Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;r=a(1);f=a(0);l=a(19);m=a(8);d=a(4);g=a(14);h=a(1081);c=r.__decorate([f.R(),r.__param(0,f.l(m.Kb)),r.__param(1,f.l(l.rd)),r.__param(2,f.l(g.Vc))],c);b.ywa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function f(g){this.log=g.log;this.xa=g.xa;this.pC=c();this.Promise=g.Promise;this.Ox=g.Ox;this.aua=g.aua;this.$e=g.$e || !1;this.gv=c();this.lB=c();this.QE=c();this.fkb(g);g.qp && (this.qp=g.qp);}function l(g){return "undefined" !== typeof g;}function m(g){var n;for(var h=0,k=arguments.length;h < k;){n=arguments[h++];if(l(n))return n;}}a(1082);d=a(1083);f.prototype.fkb=function(g){this.gv.manifest=m(g.exb,d.gv.sa);this.gv.ldl=m(g.dxb,d.gv.tU);this.gv.metadata=m(g.t5b,d.gv.yd);this.lB.manifest=m(g.fob,d.lB.sa);this.lB.ldl=m(g.eob,d.lB.tU);this.lB.metadata=m(g.z4b,d.lB.yd);this.QE.manifest=m(g.x4b,d.QE.sa);this.QE.ldl=m(g.w4b,d.QE.tU);this.QE.metadata=m(g.y4b,d.QE.yd);};f.prototype.RT=function(g,h){this.Bs("undefined" !== typeof g);this.Bs("undefined" !== typeof h);return ! !this.nJa(g,h,void 0).value;};f.prototype.nJa=function(g,h,k){var n,q;n={value:null,reason:"",log:""};q=this.pC[h];if("undefined" === typeof q)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof q[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(k=q[g][k?k:"DEFAULTCAPS"]) && k.value?this.J4(h,k.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + g,n.reason="expired"):(n.log=this.Promise && k.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + g:"cache hit: " + h + " available for movieId:" + g,n.value=k.value):(n.log="cache miss: " + h + " data not available for movieId:" + g,n.reason="unavailable");return n;};f.prototype.getData=function(g,h,k){this.Bs("undefined" !== typeof g);this.Bs("undefined" !== typeof h);g=this.nJa(g,h,k);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.aua?JSON.parse(this.aua(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};f.prototype.setData=function(g,h,k,n,q){var p,t,u;this.Bs("undefined" !== typeof g);this.Bs("undefined" !== typeof h);p=this.pC;t=q?q:"DEFAULTCAPS";p[h] || (p[h]=c(),Object.defineProperty(p[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(p[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.Ox?this.Ox(JSON.stringify(k),"gzip",!0):k;p=p[h];this.Shb(g,h,t,p);u=this;n={creationTime:this.xa.getTime(),value:k,size:0,type:h,Zha:n,cxb:setTimeout(function(){u.clearData(g,h,t,!1,"expired");},this.gv[h] + 1)};p[g]=p[g] || c();p[g][t]=p[g][t] || c();p[g][t]=n;p.size+=0;p.numEntries++;this.qp && this.qp.emit("addedCacheItem",n);return n;};f.prototype.Shb=function(g,h,k,n){var q,p,t,u,v,w,x,y,A;q=this;p=n.numEntries;t=this.lB[h];u=n[g] && n[g][k];if(u && u.value)(v=g,w="promise_or_expired");else if(p >= t){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(z){var B;B=n[z] && n[z][k];B && B.value && q.J4(h,B.creationTime) && (A=z);B && B.value && B.creationTime < y && (y=B.creationTime,x=z);return !0;});v=A || x;w="cache_full";}this.$e && this.log.debug("makespace ",{maxCount:t,currentCount:n.numEntries,field:h,movieId:g,movieToBeRemoved:v});v && (q.clearData(v,h,k,void 0,w),this.log.debug("removed from cache: ",v,h));};f.prototype.Ega=function(g,h){var k,n;k=this;k.Bs("undefined" !== typeof g);n=g + "";h.forEach(function(q){var p;p=k.pC[q];p && Object.keys(p).forEach(function(t){t != n && k.clearData(t,q,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(g,h,k,n,q){var p;this.Bs("undefined" !== typeof g);this.Bs("undefined" !== typeof h);p=this.pC[h];h=p?p[g]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){p.size-=h[k].size;p.numEntries--;if(p=h && h[k])(clearTimeout(p.cxb),h[k]=void 0,!n && p.Zha && p.Zha());this.qp && (g={creationTime:p.creationTime,destroyFn:p.Zha,size:p.size,type:p.type,value:p.value,reason:q,movieId:g},this.qp.emit("deletedCacheItem",g));}};f.prototype.flush=function(g){var h;this.Bs("undefined" !== typeof g);h=this.pC;h[g]=c();h[g].numEntries=0;h[g].size=0;};f.prototype.sOa=function(){var g,h;this.Bs(!1);g=this;h=this.pC;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var n;n=h[void 0][k].DEFAULTCAPS;g.xa.getTime() - n.creationTime > g.gv[void 0] && this.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};f.prototype.J4=function(g,h){return this.xa.getTime() - h > this.gv[g];};f.prototype.getStats=function(g,h,k){var n,q,p,t,u;n={};q=this;p=q.pC;t=l(g) && l(h);u=k || "DEFAULTCAPS";Object.keys(p).forEach(function(v){var w,x;w=Object.keys(p[v]);x=p[v];w.forEach(function(y){!(y=x && x[y] && x[y][u]) || !l(y.value) || y.value instanceof this.Promise || (n[v]=(n[v] | 0) + 1,q.J4(y.type,y.creationTime) && (n[v + "_expired"]=(n[v + "_expired"] | 0) + 1),t && y.creationTime >= g && y.creationTime < h && (n[v + "_delta"]=(n[v + "_delta"] | 0) + 1));});});return n;};f.prototype.getState=function(g){var h,k,n,q;h=[];k=this;n=k.pC;q=g || "DEFAULTCAPS";Object.keys(n).forEach(function(p){var t,u;t=Object.keys(n[p]);u=n[p];t.forEach(function(v){var w,x;w=u && u[v] && u[v][q];if(w && l(w.value)){x=k.J4(w.type,w.creationTime)?"expired":w.value instanceof this.Promise?"loading":"cached";h.push({movieId:v,state:x,type:p,size:w.size});}});});return h;};f.prototype.Bs=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.$e))throw Error("Debug Assert Failed ");};r.exports=f;},function(r){function b(a){var c;c=[];return (function m(l){if(l && "object" === typeof l){if(-1 !== c.indexOf(l))return !0;c.push(l);for(var d in l){if(l.hasOwnProperty(d) && m(l[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var l;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){l=a.pop();if("boolean" === typeof l)f+=4;else if("string" === typeof l)f+=2 * l.length;else if("number" === typeof l)f+=8;else if("object" === typeof l && -1 === c.indexOf(l)){c.push(l);for(var m in l){a.push(l[m]);}}}return f;};},function(r){r.exports={gv:{sa:12E5,tU:9E5,yd:12E5},lB:{sa:10,tU:10,yd:10},QE:{sa:10240,tU:10240,yd:10240}};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ma=void 0;r=a(0);c=a(187);f=a(1085);l=a(479);m=a(1086);d=a(480);g=a(1087);h=a(1088);k=a(481);n=a(1089);b.Ma=new r.ad(function(q){q(c.v$).to(f.Nxa).aa();q(l.mCa).to(m.lCa).aa();q(d.gDa).to(g.fDa).aa();q(d.tCa).to(h.sCa).aa();q(k.rCa).to(n.qCa).aa();});},function(r,b,a){var f,l,m,d;function c(g){function h(k,n){this.I=k;this.tl=n;this.F2=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.eg=g.Db("DownloadTrack");}h.prototype.kp=function(){!1;this.B0=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.B0 + " config: " + JSON.stringify(this.I);};h.prototype.toJSON=function(){return "Download Track id:" + this.B0 + " config: " + JSON.stringify(this.I);};h.prototype.l7=function(k){this.I.connections !== k.connections && (this.I=k);};h.prototype.Ys=function(){return 1 < this.I.connections?!0:!1;};Va.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.B0;}},Nn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.B0;}},config:{configurable:!0,enumerable:!0,get:function(){return this.I;}},HM:{configurable:!0,enumerable:!0,get:function(){return this.eg;}},fG:{configurable:!0,enumerable:!0,get:function(){return this.tl.fG;}}});this.aI=Object.assign(h,new m.Oxa());}Object.defineProperty(b,"__esModule",{value:!0});b.Nxa=void 0;r=a(1);f=a(0);l=a(8);m=a(187);d=a(109).EventEmitter;c=r.__decorate([f.R(),r.__param(0,f.l(l.Kb))],c);b.Nxa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t,u,v,w,x,y){this.UJ=t;this.Ff=v;this.cb=w;this.Ja=x;this.config=y;this.log=u.Db("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;r=a(1);f=a(188);l=a(94);m=a(3);d=a(8);g=a(0);h=a(115);k=a(26);n=a(19);q=a(4);a=a(14);c.prototype.py=function(){return this.Ja.Wb().ea(q.ma);};c.prototype.l_a=function(t,u){t.EKb({mediaRequest:t,timestamp:u});};c.prototype.F_a=function(t){var u;u=t.mediaRequest.az;u.readyState=f.cc.Bc.Lw;t=t.connect?t:{timestamp:this.py(),connect:!1};t.mediaRequest=u;t.readyState=u.readyState;u.Toa(t);};c.prototype.y6=function(t){this.l_a(t.mediaRequest.az,t.timestamp);};c.prototype.A6=function(t){var u,v;u=t.mediaRequest.az;v=t.bytes;"undefined" === typeof u?!1:(u.readyState === f.cc.Bc.Mw && this.F_a(t),this.cb.ai(v) && (t.mediaRequest=u,t.timestamp=this.py(),v > u.bytesReceived && (t.newBytes=v - u.bytesReceived,t.bytesLoaded=v,u.HKb(t))));};c.prototype.Om=function(t){var u,v,w,x;u=t.mediaRequest;v=t.errorcode;w=t.httpcode;x=f.cc.FY;if("undefined" === typeof u)!1;else if((u=u.az,"undefined" === typeof u))!1;else if(u.readyState !== f.cc.Bc.fI)if(v === m.L.iA)(u.readyState=f.cc.Bc.oO,t.mediaRequest=u,t.readyState=u.readyState,u.AKb(t));else {u.readyState=f.cc.Bc.fI;switch(v){case m.L.lP:w=x.qwa;break;case m.L.P$:w=x.M$;break;case m.L.iP:w=400 < w && 500 > w?x.O$:500 <= w?x.Dza:x.M$;break;case m.L.jP:w=x.N$;break;case m.L.hP:w=x.rwa;break;case m.L.kP:w=x.WY;break;case m.L.mD:w=x.WY;break;case m.L.Cza:w=x.Bza;break;case m.L.yza:w=x.O$;break;case m.L.N$a:w=x.N$;break;default:w=x.WY;}t.mediaRequest=u;t.readyState=u.readyState;t.errorcode=w;t.nativecode=v;u.Voa(t);}};c.prototype.npa=function(t,u){var v,w;v=u.request.az;if(v)if(u.W){if((!1,t.j && v.readyState !== f.cc.Bc.DONE)){switch(v.readyState){case f.cc.Bc.oO:!1;return;case f.cc.Bc.fI:!1;break;case f.cc.Bc.Lw:break;case f.cc.Bc.Mw:this.F_a({mediaRequest:u.request});break;default:!1;}v.readyState=f.cc.Bc.DONE;if(!v.Pc){w={mediaRequest:v,readyState:v.readyState,timestamp:this.py(),cadmiumResponse:u};t.j.Jta+=1;v.xCb();v.PFb() && (t.j.Ira+=1,u.Pl.Oh=Math.ceil(v.kja),u.Pl.no=Math.ceil(v.YE),u.Pl.Tp=Math.floor(v.fC));v.C1=w;v.qM(w);}}}else (!1,v.readyState === f.cc.Bc.oO?!1:(t={mediaRequest:u.request,timestamp:this.py(),errorcode:u.oa,httpcode:u.jk},this.Om(t)));};c.prototype.download=function(t,u){var v,w;v=this;u=this.Ff.download(t,u);if(t.az){w=t.az;-1 < [f.cc.Bc.OPENED,f.cc.Bc.fI].indexOf(w.readyState) && (w.readyState=f.cc.Bc.Mw,this.config().cJb?u.NSb(function(x){v.y6(x);}):this.l_a(w,this.py()));}u.Iea(function(x){v.npa(t,x);});u.VSb(function(x){v.A6(x);});u.ESb(function(x){v.Om(x);});return u;};p=c;p=r.__decorate([g.R(),r.__param(0,g.l(l.pO)),r.__param(1,g.l(d.Kb)),r.__param(2,g.l(h.mA)),r.__param(3,g.l(k.Jf)),r.__param(4,g.l(n.rd)),r.__param(5,g.l(a.Vc))],p);b.lCa=p;},function(r,b,a){var f,l,m;function c(d,g){this.Ff=g;this.log=d.Db("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.fDa=void 0;r=a(1);f=a(0);l=a(8);a=a(115);c.prototype.nT=function(d,g,h){d={url:d.url,ORb:h};!1;this.Ff.PTb(d);};c.prototype.FE=function(d){try{d.Jla();}catch(g){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(a.mA))],m);b.fDa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u,v,w,x,y,A){this.Ja=u;this.Uq=v;this.config=w;this.Ff=y;this.bJb=A;this.log=x.Db("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;r=a(1);f=a(52);l=a(0);m=a(8);d=a(115);g=a(479);h=a(81);k=a(188);n=a(19);q=a(4);p=a(39);a=a(14);c.prototype.nT=function(u,v,w){var y,A,z;function x(){u.removeEventListener(k.cc.ze.GD,x);u.$S?u.$S++:u.$S=1;u.$S >= y.config().Uia.length && (u.$S=y.config().Uia.length - 1);setTimeout(function(){y.nT(u,v,w);},y.config().Uia[u.$S]);}y=this;u.s6b=!0;A=this.bJb.download({url:u.url,responseType:this.Ff.neb.D8a,withCredentials:!1,lF:u.mediaType === f.Pb.Ra.Sb?"audio":"video",offset:v.start,length:u.Eg,track:{type:u.mediaType === f.Pb.Ra.Sb?h.Wh.audio:h.Wh.video},stream:{Dd:u.Na,bitrate:u.bitrate},pc:u.zd,az:u,Y7:w,Yt:this.Uq.Yt},function(B){B.W && u.readyState !== k.cc.Bc.DONE && (u.readyState === k.cc.Bc.oO?!1:(u.readyState === k.cc.Bc.fI?!1:u.readyState === k.cc.Bc.Mw?(u.readyState=k.cc.Bc.Lw,u.Toa({mediaRequest:u,readyState:u.readyState,timestamp:y.py(),connect:!1})):u.readyState !== k.cc.Bc.Mw && u.readyState !== k.cc.Bc.Lw && !1,u.readyState=k.cc.Bc.DONE,B={mediaRequest:u,readyState:u.readyState,timestamp:y.py(),cadmiumResponse:B,response:B.content},u.C1=B,u.qM(B)));});if(u.Pc){z={mediaRequest:u,readyState:u.readyState,timestamp:this.py(),connect:!1};u.Toa(z);}u.addEventListener(k.cc.ze.GD,x);u.Jla=A.abort;};c.prototype.FE=function(u){try{u.Jla();}catch(v){this.log.warn("exception aborting request");}};c.prototype.py=function(){return this.Ja.Wb().ea(q.ma);};t=c;t=r.__decorate([l.R(),r.__param(0,l.l(n.rd)),r.__param(1,l.l(p.em)),r.__param(2,l.l(a.Vc)),r.__param(3,l.l(m.Kb)),r.__param(4,l.l(d.mA)),r.__param(5,l.l(g.mCa))],t);b.sCa=t;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u,v,w){function x(A,z){this.track=A;this.label=z;this.dh=n.cc.Bc.UNSENT;this.bytesReceived=0;this.sr=[];this.requestId=w.rB().toString();this.cb=t;this.log=p.Db("MediaRequest");this.config=q;this.Qb=new k.Xj();"notification" === this.label?this.config().fy && (this.fG=u):this.fG=v;!1;}function y(A,z){this.requestId=w.rB().toString();this.cb=t;this.log=p.Db("MediaRequest");this.config=q;this.Qb=new k.Xj();this.label=z;"notification" === this.label?this.config().fy && (this.fG=u):this.fG=v;this.eU=this.fK=this.gK=void 0;this.track=A;this.j1=this.url=this.responseType=void 0;this.dh=n.cc.Bc.UNSENT;this.Ri=this.TK=this.Mg=this.status=void 0;this.mr=this.bytesReceived=0;this.connect=this.kja=this.YE=this.fC=this.Pma=this.af=this.jja=this.loadTime=this.EJ=void 0;this.sr=[];this.Nn=!1;!1;}x.prototype.addEventListener=function(A,z,B){this.Qb.addListener.call(this,A,z,B);};x.prototype.removeEventListener=function(A,z){this.Qb.removeListener.call(this,A,z);};x.prototype.emit=function(A,z,B){this.Qb.qc.call(this,A,z,B);};x.prototype.EKb=function(A){this.dh === n.cc.Bc.OPENED && (this.eU=!0,this.loadTime=this.af=A.timestamp,!1,this.dh=n.cc.Bc.Mw,this.emit(n.cc.ze.ZCa,A));};x.prototype.Toa=function(A){var z;if(this.dh < n.cc.Bc.Lw){this.sr=[];z=A.timestamp - this.loadTime;!this.Pc && 0 < z && (this.connect=!0,this.sr.push(z));!0 === this.config().eEb?this.jja=A.timestamp:this.jja=this.af=A.timestamp;!1;this.dh=n.cc.Bc.Lw;this.emit(n.cc.ze.YCa,A);}};x.prototype.HKb=function(A){this.dh === n.cc.Bc.Lw && (!1,this.Pma=this.af=A.timestamp,A.newBytes=A.bytesLoaded - this.bytesReceived,this.bytesReceived=A.bytesLoaded,this.cb.fg(this.Pma) && this.emit(n.cc.ze.$Ca,A));};x.prototype.qM=function(A){-1 < [n.cc.Bc.Mw,n.cc.Bc.Lw].indexOf(this.dh) && (this.eU=!1,!1,this.af=A.timestamp,this.dh=n.cc.Bc.DONE,A.newBytes=this.Eg - this.bytesReceived,this.bytesReceived=this.Eg,this.cb.fg(this.YE) && (this.af=this.YE,0 === A.newBytes && (this.Pma=this.YE)),this.cb.fg(this.fC) && (this.loadTime=this.fC),this.EJ=A.response,this.emit(n.cc.ze.AP,A));};x.prototype.AKb=function(A){this.eU=!1;!1;this.emit(n.cc.ze.Xcb,A);};x.prototype.Voa=function(A){this.af=A.timestamp;this.status=A.httpcode;this.Mg=A.errorcode;this.TK=n.cc.FY.name[this.Mg];this.Ri=A.nativecode;!1;this.emit(n.cc.ze.GD,A);this.eU=!1;};x.prototype.open=function(A,z,B,D,E,F,C){this.$v=!1;this.j1=z;this.url=A;this.responseType=B;!1;if(!this.url)return (!1,!1);this.dh=n.cc.Bc.OPENED;this.fG.nT(this,z,C);return !0;};x.prototype.Lc=function(){!1;-1 !== [n.cc.Bc.OPENED,n.cc.Bc.Mw,n.cc.Bc.Lw].indexOf(this.dh) && this.abort();return !0;};x.prototype.tOa=function(){this.EJ=void 0;this.C1 && (this.C1.response=void 0,this.C1.cadmiumResponse.content=void 0);this.Jla=void 0;};x.prototype.q8=function(A){!1;this.url=A;return !0;};x.prototype.abort=function(){this.dh=n.cc.Bc.oO;this.fG.FE(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.bW=function(){};x.prototype.Jh=function(){return this.requestId;};x.prototype.toString=function(){var A;A={requestId:this.Jh(),segmentId:this.va,isHeader:this.Pc,ptsStart:this.oz,ptsOffset:this.Gt,responseType:this.responseType,duration:this.cy,readystate:this.dh};this.stream && (A.bitrate=this.stream.bitrate);return JSON.stringify(A);};x.prototype.toJSON=function(){return this.toString();};x.prototype.xCb=function(){var A,z;if(this.config().k7a && d.ou && d.ou.getEntriesByType && (!this.cb.fg(this.fC) || !this.cb.fg(this.YE) && this.cb.fg(this.url))){A="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.gK + "-" + this.fK + "*");z=new RegExp(A);A=d.ou.getEntriesByType("resource").filter(function(B){return z.exec(B.name);})[0];this.cb.fg(A) && (0 < A.startTime && (this.fC=A.startTime,0 < A.requestStart && (this.fC=Math.max(this.fC,A.requestStart))),0 < A.responseStart && (this.kja=A.responseStart),0 < A.responseEnd && (this.YE=A.responseEnd));}};x.prototype.PFb=function(){return this.cb.fg(this.fC) && this.cb.fg(this.YE) && this.cb.fg(this.kja);};Va.Object.defineProperties(x.prototype,{Eg:{configurable:!0,enumerable:!0,get:function(){return this.j1.end - this.j1.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.fK - this.gK + 1;}},yVa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Pc:{configurable:!0,enumerable:!0,get:function(){return !this.ZB;}},response:{configurable:!0,enumerable:!0,get:function(){return this.EJ;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.dh;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(A){var z;z=Object.getOwnPropertyDescriptor(x.prototype,A);Object.defineProperty(y.prototype,A,z);});this.pq=Object.assign(y,n.cc);}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;r=a(1);f=a(0);l=a(8);m=a(14);d=a(11);g=a(26);h=a(480);k=a(73);n=a(188);a=a(92);c=r.__decorate([f.R(),r.__param(0,f.l(m.Vc)),r.__param(1,f.l(l.Kb)),r.__param(2,f.l(g.Jf)),r.__param(3,f.l(h.gDa)),r.__param(4,f.l(h.tCa)),r.__param(5,f.l(a.lA))],c);b.qCa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.KZa=void 0;r=a(0);c=a(321);f=a(1091);b.KZa=new r.ad(function(l){l(c.Aaa).to(f.ICa).aa();});},function(r,b,a){var f,l,m,d,g;function c(h){return l.gf.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;r=a(1);f=a(44);l=a(45);m=a(0);d=a(38);g=a(4);ka(c,l.gf);Va.Object.defineProperties(c.prototype,{CZa:{configurable:!0,enumerable:!0,get:function(){return g.xc(5E3);}},R_a:{configurable:!0,enumerable:!0,get:function(){return g.xc(1E3);}},S_a:{configurable:!0,enumerable:!0,get:function(){return g.xc(1E3);}}});a=c;r.__decorate([f.config(f.tk,"minDecoderBufferMilliseconds")],a.prototype,"CZa",null);r.__decorate([f.config(f.tk,"optimalDecoderBufferMilliseconds")],a.prototype,"R_a",null);r.__decorate([f.config(f.tk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"S_a",null);a=r.__decorate([m.R(),r.__param(0,m.l(d.jm))],a);b.ICa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.A0a=void 0;r=a(0);c=a(482);f=a(1093);l=a(71);m=a(1095);d=a(485);g=a(1096);h=a(373);k=a(1097);n=a(189);q=a(1098);b.A0a=new r.ad(function(p){p(l.qu).to(m.IDa).aa();p(c.KDa).to(f.JDa).aa();p(h.UDa).to(k.TDa);p(h.SDa).uf(function(t){return function(){return t.$a.get(h.UDa);};});p(d.qEa).to(g.pEa).aa();p(n.yZ).to(q.mEa).aa();});},function(r,b,a){var m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z;function c(B){this.config=B;this.Mx=[];}function f(B,D,E){this.Ja=B;this.YN=D;this.context=E;this.startTime=this.Ja.Wb();}function l(B,D,E,F,C,G,J,K,H){this.l6a=D;this.json=E;this.Ja=F;this.Uq=C;this.Hqa=G;this.yc=J;this.config=K;this.Qb=H;this.log=B.Db("Pbo");K.d2a && (this.Mx=new c(K));this.YN=this.l6a();}Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;r=a(1);m=a(0);d=a(4);g=a(483);h=a(8);k=a(36);n=a(19);q=a(39);p=a(136);t=a(46);u=a(484);v=a(71);w=a(93);x=a(17);y=a(68);A=a(1094);z={"shakti-":"akira","UI-":"chromecast"};l.prototype.send=function(B,D){var E;E=new f(this.Ja,this.YN,B);this.Mx && this.Mx.append(E);return this.msa(B,D,E);};l.prototype.msa=function(B,D,E){var F;F=this;return new Promise(function(C,G){F.retry(B,D).then(function(J){var K,H;F.lSb(J);K=aa(F.uYb(J));H=K.next().value;K=K.next().value;H && (F.Spb(E),C(J));K && (F.IOa(E,K),G(K));}).catch(function(J){var K;K=F.IOa(E,J);J.rb && (J.rb=[J.rb," ",K].join(""));G(J);});});};l.prototype.lSb=function(B){(B=B.serverTime) && this.Qb.qc(x.Y$.z3a,d.xc(B));};l.prototype.uYb=function(B){var D;!1;D=B.result;if(("deviceCommand" in B)){B=B.deviceCommand;this.log.trace("Received device command '" + B + "'");switch(B){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + B + "'"));}return [,{xC:!0,code:D,detail:{message:"Server sent device action to '" + B + "' device"}}];}if(D)return (!1,[D,void 0]);if(B.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",B),[,{code:B.code,detail:{message:B.message}}]);this.log.error("Response did not contain a result or an error",B);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};l.prototype.Hmb=function(B,D,E){var F;F=this;this.GXb(D,B);this.YN=this.l6a(E);return this.YN.send(D,E).then(function(C){return {retry:!1,result:A.vZ.KMb(F.json,C.body)};}).catch(function(C){var G,J;G=A.vZ.eBb(C);J=void 0 !== G?Math.min(G,D.Mra):D.Mra;return F.V7(D,C,B,J)?(G=F.wob(C,B,J),F.log.warn("Method failed, retrying",Object.assign({Method:D.Uk,Attempt:B + 1,WaitTime:G,MaxRetries:J},F.Jha(C))),Promise.resolve({retry:!0,delay:G,error:C})):Promise.resolve({retry:!1,error:C});});};l.prototype.Zyb=function(B){var D,E;if(!this.Cea || this.Cea.jMb !== B){D="";E=B;Object.entries(z).find(function(F){var C;C=aa(F);F=C.next().value;C=C.next().value;if(0 === B.indexOf(F))return (D=C,B=B.slice(F.length),!0);});this.Cea={COa:D,Oz:B,jMb:E};}return this.Cea;};l.prototype.GXb=function(B,D){var E,F,C,G;G=B.url.searchParams;G.set(y.uA.qeb,(D + 1).toString());G.set(y.uA.reb,B.wra);B=this.Zyb(null !== (E=this.config.Oz) && void 0 !== E?E:"");B.COa && (G.set(y.uA.O9a,B.COa),B.Oz && G.set(y.uA.dfb,encodeURIComponent(B.Oz)),E=this.Uq.Xd,(null === E || void 0 === E?0:E.name) && G.set(y.uA.j9a,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && G.set(y.uA.o9a,encodeURIComponent(E.version)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.name) && G.set(y.uA.Ycb,encodeURIComponent(E.os.name)),(null === (C=null === E || void 0 === E?void 0:E.os) || void 0 === C?0:C.version) && G.set(y.uA.Zcb,encodeURIComponent(E.os.version)));};l.prototype.retry=function(B,D,E){var F;F=this;E=void 0 === E?0:E;return this.Hmb(E++,B,D).then(function(C){if(C.retry)return F.wait(C.delay).then(function(){return F.retry(B,D,E);});if(C.error)throw C.error;if(void 0 === C.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return C.result;});};l.prototype.V7=function(B,D,E,F){var C;C=this.Uq.U2a || A.vZ.QFb(D);if(C && E < F)return !0;C?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:B.Uk,Attempt:E + 1,MaxRetries:F},this.Jha(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:B.Uk},this.Jha(D)));return !1;};l.prototype.wob=function(B,D,E){return B && B.HC && void 0 !== B.HC.retryAfterSeconds?d.Ug(B.HC.retryAfterSeconds):d.xc(this.Hqa.H1a(1E3 * (0 === D?1:D),1E3 * Math.pow(2,Math.min(D,E))));};l.prototype.wait=function(B){var D;D=this;return new Promise(function(E){D.yc.Rj(B || d.ab,E);});};l.prototype.Jha=function(B){return u.WWa(B)?B:{message:B.message,subCode:B.kc,extCode:B.xd,mslCode:B.Fv,data:B.data};};l.prototype.Spb=function(B){B.ON();};l.prototype.IOa=function(B,D){var E;B.Es(D);if(this.Mx)try{E=this.json.stringify(this.Mx);this.log.error("PBO command history",E);return E;}catch(F){}return "";};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(h.Kb)),r.__param(1,m.l(g.JHa)),r.__param(2,m.l(k.pD)),r.__param(3,m.l(n.rd)),r.__param(4,m.l(q.em)),r.__param(5,m.l(p.IZ)),r.__param(6,m.l(t.lj)),r.__param(7,m.l(v.qu)),r.__param(8,m.l(w.F$))],a);b.JDa=a;f.prototype.ON=function(){this.W=!0;this.elapsedTime=this.Ja.Wb().Aa(this.startTime);};f.prototype.Es=function(B){this.W=!1;this.elapsedTime=this.Ja.Wb().Aa(this.startTime);this.WUb=B.kc || B.subCode;this.ixb=B.xd || B.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var B;B=Object.assign({success:this.W,method:this.context.Uk,startTime:this.startTime.ea(d.ma),elapsedTime:this.elapsedTime?this.elapsedTime.ea(d.ma):"in progress"},this.YN.aha());return this.W?B:Object.assign(Object.assign(Object.assign({},B),this.YN.aha()),{subcode:this.WUb,extcode:this.ixb});};c.prototype.append=function(B){this.Mx.push(B);0 < this.config.Fla && this.Mx.length > this.config.Fla && this.Mx.shift();};c.prototype.toJSON=function(){return this.Mx;};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.vZ=void 0;f=a(3);c.QFb=function(l){var m,d;m=l && l.code;d=l && (l.oa || l.kc);l=l.xd !== f.YY.zDa;d=! !d && d >= f.L.lP && d <= f.L.jP && l;return !("RETRY" !== m && "FAIL" !== m) || d;};c.eBb=function(l){var m,d;d=null === (m=null === l || void 0 === l?void 0:l.HC) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === l || void 0 === l?void 0:l.code)?1:void 0;};c.KMb=function(l,m){var d;if(m){try{d=l.parse(m);}catch(g){throw {xC:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (l=d.result.find(function(g){return g.error;})))throw l.error;return d;}throw {xC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {xC:!0,code:"FAIL",message:"There is no body property on the response"};};b.vZ=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q){k=l.gf.call(this,k,"PboConfigImpl") || this;k.config=n;k.dmb=q;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.IDa=void 0;r=a(1);f=a(0);l=a(45);m=a(38);d=a(44);g=a(14);a=a(120);ka(c,l.gf);Va.Object.defineProperties(c.prototype,{Oz:{configurable:!0,enumerable:!0,get:function(){return this.config().Rq.Oz || "";}},M8:{configurable:!0,enumerable:!0,get:function(){return this.config().Rq.M8 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Rq.nqa;}},wma:{configurable:!0,enumerable:!0,get:function(){return !1;}},UIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},WIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},A3a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",version:"^1.0.0"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.dmb.rNa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.B3a);}},B3a:{configurable:!0,enumerable:!0,get:function(){return {};}},d2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Fla:{configurable:!0,enumerable:!0,get:function(){return 10;}},aMa:{configurable:!0,enumerable:!0,get:function(){return !1;}},z1:{configurable:!0,enumerable:!0,get:function(){return !1;}},pRa:{configurable:!0,enumerable:!0,get:function(){return !1;}},YXb:{configurable:!0,enumerable:!0,get:function(){return !1;}},m7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},oRa:{configurable:!0,enumerable:!0,get:function(){return !0;}},xRa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"Oz",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"M8",null);r.__decorate([d.config(d.Pz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.j8,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.bd,"hasLimitedPlaybackFunctionality")],h.prototype,"wma",null);r.__decorate([d.config(d.bd,"mdxBindUsingNodeQuark")],h.prototype,"UIb",null);r.__decorate([d.config(d.bd,"mdxPairUsingNodeQuark")],h.prototype,"WIb",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"A3a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"B3a",null);r.__decorate([d.config(d.bd,"pboRecordHistory")],h.prototype,"d2a",null);r.__decorate([d.config(d.Pz,"pboHistorySize")],h.prototype,"Fla",null);r.__decorate([d.config(d.bd,"pboAddXEsnHeader")],h.prototype,"aMa",null);r.__decorate([d.config(d.bd,"combineManifestAndLicense")],h.prototype,"z1",null);r.__decorate([d.config(d.bd,"enableLicensedManifestForPrefetch")],h.prototype,"pRa",null);r.__decorate([d.config(d.bd,"useLdlForPrefetchLicensedManifest")],h.prototype,"YXb",null);r.__decorate([d.config(d.bd,"pboUseStudioManifest")],h.prototype,"m7a",null);r.__decorate([d.config(d.bd,"pboEnableLeanManifest")],h.prototype,"oRa",null);r.__decorate([d.config(d.bd,"pboEnableV2OptimizedManifest")],h.prototype,"xRa",null);h=r.__decorate([f.R(),r.__param(0,f.l(m.jm)),r.__param(1,f.l(g.Vc)),r.__param(2,f.l(a.RH))],h);b.IDa=h;},function(r,b,a){var l,m;function c(d,g,h,k,n,q,p){this.version=d;this.url=g;this.id=h;this.languages=k;this.Jb=n;this.Lvb=q;this.bKb=p;}function f(d){this.Kh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=void 0;r=a(1);l=a(0);a=a(71);f.prototype.create=function(d,g,h,k,n){return new c(this.Kh.version,g,d,this.Kh.languages,h,k,n);};m=f;m=r.__decorate([l.R(),r.__param(0,l.l(a.qu))],m);b.pEa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Jb,echo:this.Lvb};};},function(r,b,a){var f,l,m;function c(d,g){this.kF=g;this.log=d.Db("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;r=a(1);f=a(0);l=a(8);a=a(85);c.prototype.PLa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.zT=function(d){!1;return this.links[d];};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(a.ww))],m);b.TDa=m;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(1);a=a(0);c.prototype.MSb=function(f){this.listener=f;};c.prototype.PM=function(f){var l;null === (l=this.listener) || void 0 === l?void 0:l.call(this,f);};a=r.__decorate([a.R()],c);b.mEa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(0);c=a(371);f=a(486);l=a(1100);m=a(488);d=a(1101);g=a(335);h=a(332);k=a(1102);n=a(1138);q=a(14);p=a(19);t=a(91);u=a(26);v=a(8);w=a(1139);x=a(489);y=a(1140);A=a(4);z=a(1141);B=a(1142);D=a(509);E=a(1143);F=a(93);C=a(490);G=a(1144);J=a(107);K=a(28);H=a(139);L=a(85);R=a(262);I=a(519);Q=a(1145);N=a(70);M=a(39);P=a(491);S=a(1146);ea=a(273);qa=a(25);b.j=new r.ad(function(wa){wa(I.nba).to(Q.NEa).aa();wa(ea.O9).uf(function(ua){var X;X=ua.$a;return function(sa,O){return new (a(1147).lva)(sa,O,X.get(t.cu));};});wa(c.MHa).uf(function(ua){var X;X=ua.$a;return function(sa,O,T,ma,ja,Qa,Fa,Wa,Xa){return new (a(1150).NHa)(X.get(z.SHa),sa,O,T,ma,ja,Qa,Fa,Wa,Xa);};});wa(z.SHa).to(B.RHa).aa();wa(f.QHa).to(l.PHa).aa();wa(h.IEa).to(k.HEa).aa();wa(P.ZFa).to(S.YFa);wa(P.XFa).W5a(P.ZFa);wa(g.Hxa).uf(function(ua){var X;X=ua.$a;return function(sa){return new (a(1151).Ixa)(X.get(F.Gxa),X.get(t.cu),X.get(p.rd),sa);};});wa(m.Nva).uf(function(){return function(ua){return new d.Ova(ua);};});wa(w.CEa).uf(function(ua){var X;X=ua.$a;return function(sa){return new n.DEa(sa,X.get(v.Kb),X.get(q.Vc),X.get(u.Jf),X.get(t.cu));};});wa(x.PEa).uf(function(ua){var X;X=ua.$a;return function(sa,O,T,ma,ja,Qa,Fa,Wa,Xa){return new y.QEa(sa,O,T,ma,ja,Qa,Fa,Wa,Xa,X.get(w.CEa),X.get(I.nba));};});wa(D.rGa).uf(function(ua){return function(X){var sa,O;sa=ua.$a.get(q.Vc);O=ua.$a.get(v.Kb);return new E.sGa(sa,X,O);};});wa(C.KEa).uf(function(ua){return function(X){var sa,O,T,ma,ja;sa=ua.$a.get(L.ww);O=ua.$a.get(J.HI);T=ua.$a.get(K.Kf);ma=ua.$a.get(H.SP);ja=ua.$a.get(qa.vw);return new G.LEa(X,sa,O(A.Ug(1)),T,ma,ja);};});wa(R.yaa).UC(function(ua){return new (a(1152).ECa)(ua.$a.get(N.vP),ua.$a.get(M.em));}).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.Of=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;r=a(1);f=a(17);l=a(487);m=a(19);d=a(0);g=a(4);a=a(14);c.prototype.LK=function(k){var n;k.qX={};if(!k.aC() && k.Nz && 0 < k.Nz.length && (k.Mz=this.STa(k),k.Mz)){n=this.pTb(k);n() || (k.bc.addListener(n),k.og.addListener(n));}};c.prototype.pTb=function(k){var q;function n(){var p,t;if(!k.og.value || k.bc.value === f.Eb.Hg)return !1;p=k.Mz;t=p.getState();return t === l.Ho.LOADING?!1:t !== l.Ho.qD && p.retry?(p=q.ACb(k))?(k.qX.offset=q.Of.Wb().ea(g.ma),k.Mz=p,p.download(),!0):!1:(k.bc.removeListener(n),k.og.removeListener(n),!1);}q=this;return n;};c.prototype.ACb=function(k){var n,q;n=this.config();q=k.jo.LT() < n.FWb;n=(k.og.value?k.og.value.bitrate:0) > n.EWb;return this.aCb(k,q && n);};c.prototype.aCb=function(k,n){if(n && (n=this.STa(k),this.NUa(k,n.size)))return (k.qX.H2a="h",n);n=this.bBb(k);if(this.NUa(k,n.size))return (k.qX.H2a="l",n);};c.prototype.NUa=function(k,n){var q,p;q=this.config();p=Math.min(k.DR(),k.BX());return k.nnb.lob(n) * (1 + .01 * q.Ilb[2]) < p * q.IWb;};c.prototype.STa=function(k){return k.Nz[k.Nz.length - 1];};c.prototype.bBb=function(k){return k.Nz[0];};h=c;h=r.__decorate([d.R(),r.__param(0,d.l(m.rd)),r.__param(1,d.l(a.Vc))],h);b.PHa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Ova=void 0;a.prototype.S6a=function(){var c;c=this.j.Ma;if(null !== c && void 0 !== c && c.JA){c=c.Ib.get();if(null === c || void 0 === c?0:c.Vi)this.j.Vi=c.Vi.Ca;if(null === c || void 0 === c?0:c.Pa)this.j.Pa=c.Pa.Ca;}};a.prototype.Ns=function(){-1 === this.j.Pa && this.S6a();return this.j.Pa;};a.prototype.lob=function(c){-1 !== this.j.Vi && -1 !== this.j.Pa || this.S6a();return -1 === this.j.Vi || -1 === this.j.Pa?Number.MAX_VALUE:this.j.Vi + 8 * c / this.j.Pa;};b.Ova=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H;function c(L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa,O,T,ma,ja,Qa,Fa,Wa,Xa,db,Za,kb){this.LF=L;this.YJ=R;this.Ja=I;this.xa=Q;this.pnb=N;this.yta=M;this.Lna=P;this.Mna=S;this.q5=ea;this.qd=qa;this.Um=wa;this.wk=ua;this.aK=X;this.Xpa=sa;this.el=O;this.Rta=T;this.Ij=ma;this.Tl=ja;this.ye=Qa;this.Upa=Fa;this.OQb=Wa;this.ifa=Xa;this.jG=db;this.r1=Za;this.UJ=kb;}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(1);f=a(92);l=a(0);m=a(107);d=a(32);g=a(19);h=a(40);k=a(488);n=a(357);q=a(372);p=a(458);t=a(116);u=a(137);v=a(154);w=a(94);x=a(353);y=a(489);A=a(1103);z=a(486);B=a(54);D=a(28);E=a(490);F=a(70);C=a(491);G=a(273);J=a(262);K=a(117);c.prototype.create=function(L,R,I,Q,N,M,P){return new (a(492).JEa)(L,R,M,P,Q,N,this.LF,I,this.Ja,this.YJ,this.xa,this.Lna,this.pnb,this.yta,this.Mna,this.q5,this.qd,this.Um,this.wk,this.aK,this.Xpa,this.el,this.Rta,this.Ij,this.ye,this.Upa,this.Tl,this.OQb(),this.ifa,this.jG,void 0,this.r1);};H=c;H=r.__decorate([l.R(),r.__param(0,l.l(f.lA)),r.__param(1,l.l(d.Yg)),r.__param(2,l.l(g.rd)),r.__param(3,l.l(h.vi)),r.__param(4,l.l(k.Nva)),r.__param(5,l.l(m.HI)),r.__param(6,l.l(n.UBa)),r.__param(7,l.l(q.XBa)),r.__param(8,l.l(p.qBa)),r.__param(9,l.l(t.VD)),r.__param(10,l.l(u.JP)),r.__param(11,l.l(v.CI)),r.__param(12,l.l(x.Wva)),r.__param(13,l.l(y.PEa)),r.__param(14,l.l(K.vD)),r.__param(15,l.l(z.QHa)),r.__param(16,l.l(B.Co)),r.__param(17,l.l(F.vP)),r.__param(18,l.l(D.Kf)),r.__param(19,l.l(E.KEa)),r.__param(20,l.l(C.XFa)),r.__param(21,l.l(G.O9)),r.__param(22,l.l(J.yaa)),r.__param(23,l.l(A.Fwa)),r.__param(23,l.optional()),r.__param(24,l.l(w.pO)),r.__param(24,l.optional())],H);b.HEa=H;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fwa=b.Gwa=void 0;r=b.Gwa || (b.Gwa={});r[r.edb=0]="PAUSE";r[r.oeb=1]="RESUME";r[r.d_b=2]="CAPTIONS_ON";r[r.c_b=3]="CAPTIONS_OFF";r[r.e_b=4]="CAPTION_LANGUAGE_CHANGED";r[r.tZb=5]="AUDIO_LANGUAGE_CHANGED";r[r.D1b=6]="NEXT_EP";r[r.u2b=7]="PREV_EP";r[r.vA=8]="SEEK";r[r.kGa=9]="STOP";b.Fwa="CastInteractionTrackerSymbol";},function(r,b,a){var d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H;function c(){this.C8=[];this.oWb=50;}function f(L){var R;R=this;this.j=L;this.H7a=Promise.resolve();this.qya=pb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.XA=[];this.Xr=new n.Xj();this.$Ia=this.pca=0;this.r_=[];this.eg=t.ih(this.j,"MediaElementASE");this.XKa=A.Ik;this.Mca=!1;this.Rb=new c();this.En={};this.CJa={};this.k3=this.pQ(function(){var I;if(R.la)return null !== (I=R.la.webkitDecodedFrameCount) && void 0 !== I?I:0;});this.EB=this.pQ(function(){var I;if(R.la){I=R.L_();return I?I.totalVideoFrames:R.la.webkitDecodedFrameCount;}});this.yF=this.pQ(function(){var I;if(R.la){I=R.L_();return I?I.droppedVideoFrames:R.la.webkitDroppedFrameCount;}});this.tT=this.pQ(function(){var I;if(R.la){I=R.L_();return I && I.corruptedVideoFrames;}});this.o3=this.pQ(function(){var I;if(R.la){I=R.L_();return I && B.wi(I.totalFrameDelay * A.Hk);}});this.YJa=function(I){return R.Xr.qc(F.kj.QXa,{$:I});};this.cl=t.ha.get(E.RAa).create(k.config.cq,this,this.j);k.config.eC && (this.H7a=new Promise(function(I){R.XKa=I;R.j.addEventListener(J.Z.yg,I);}));this.eg.trace("Created Media Element");this.addEventListener=this.Xr.addListener;this.removeEventListener=this.Xr.removeListener;}function l(L){var R,I;R=t.ha.get(C.sIa).WBb();L=L.width / L.height * R.height;I=(R.width - L) / 2;return k.config.iTb?A.createElement("VIDEO","position:absolute;width:" + L + "px;height:" + R.height + "px;left:" + I + "px;top:0px"):A.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(L){L.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;d=a(52);g=a(279);h=a(12);k=a(13);n=a(73);q=a(63);p=a(49);t=a(7);u=a(3);v=a(21);w=a(86);x=a(316);y=a(24);A=a(29);z=a(280);B=a(11);D=a(18);E=a(498);F=a(281);C=a(475);G=a(4);J=a(17);K=a(65);H=! !(B.ED && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);f.prototype.uT=function(L){try{this.la && (this.$Ia=this.la.currentTime);}catch(R){this.eg.error("Exception while getting VIDEO.currentTime",R);L && this.lQ(u.M.Ldb,R);}return B.wi(this.$Ia * A.Hk);};f.prototype.seek=function(L){var R;v.hb(!this.Qo);this.RKa();R=this.uT(!0);if(!k.config.Ylb && B.wD(R - L) <= this.csa)(this.eg.trace("Seek delta too small",{currentTime:R,seekTime:L,min:this.csa}),this.Rb.trace("smallseek",L));else {this.Rb.trace("seek",L);try{this.eg.trace("Setting video elements currentTime",{From:w.yi(R),To:w.yi(L)});this.Qo={};this.la.currentTime=L / A.Hk;this.Xr.qc(F.kj.Pq);}catch(I){this.eg.error("Exception while setting VIDEO.currentTime",I);this.lQ(u.M.Mdb,I);}}};f.prototype.OUa=function(){return ! !this.Qo;};f.prototype.addSourceBuffer=function(L){var R,I;R=A.ue(this.pca.toString() + this.XA.length.toString());R={NW:this.pca,g1:R};try{I=new g.vaa(this.j,L,this.Bf,R,this.eg);this.XA.push(I);L == h.tI && I.lja && I.lja.addListener(this.XKa);return I;}catch(Q){I=A.wd(Q);this.eg.error("Unable to add source buffer.",{error:I});this.j.Md(u.M.Qaa,{oa:L === d.Pb.Gk.Sb?A.L.HBa:A.L.IBa,rb:I});}};f.prototype.K0=function(L){var R;R=this;L.forEach(function(I){return R.addSourceBuffer(I);});this.Xr.qc(F.kj.E4a);return !0;};f.prototype.removeSourceBuffer=function(L){this.XA=this.XA.filter(function(R){return !p.POa(L,R);});this.Bf.removeSourceBuffer(L);};f.prototype.endOfStream=function(){this.Rb.trace("endofstream");!1;k.config.gga && this.Bf.endOfStream();};f.prototype.kp=function(L){!1;this.XA=[];L && L.F7b();return !0;};f.prototype.sSb=function(L){this.pca=L;};f.prototype.mUa=function(){if(this.Bf)return G.f1a(this.Bf.duration);};f.prototype.Oub=function(){var L;if(!this.Mca && this.la && this.la.readyState >= K.mq.vza.HAVE_CURRENT_DATA){L=this.la.webkitDecodedFrameCount;if(void 0 === L || 0 < L || k.config.YYb)this.Mca=!0;}return this.Mca;};f.prototype.open=function(){var L,R,I;L=this;this.la=l(this.j.Vz);this.sourceBuffers=this.XA;this.j.addEventListener(J.Z.p4a,function(Q){return L.Xib(Q);});if(H){this.j.bC && !k.config.b7a && this.cl.z6();try{this.Bf=new B.ED();}catch(Q){this.lQ(u.M.Bdb,Q);return;}try{this.Pk=URL.createObjectURL(this.Bf);}catch(Q){this.lQ(u.M.Cdb,Q);return;}try{this.cl.mlb(this.YJa);this.Bf.addEventListener("sourceopen",function(Q){return L.yKa(Q);});this.Bf.addEventListener(this.qya + "sourceopen",function(Q){return L.yKa(Q);});this.la.addEventListener("error",this.En.error=function(Q){return L.OQ(Q);});this.la.addEventListener("seeking",this.En.seeking=function(){return L.Wib();});this.la.addEventListener("seeked",this.En.seeked=function(){return L.Vib();});this.la.addEventListener("timeupdate",this.En.timeupdate=function(){return L.Zib();});this.la.addEventListener("loadstart",this.En.loadstart=function(){return L.Nda();});this.la.addEventListener("volumechange",this.En.volumechange=function(Q){return L.$ib(Q);});this.la.addEventListener(this.cl.tC,this.En[this.cl.tC]=function(){L.eg.trace(L.cl.tC);L.Tib();});R=this.j.kg;I=R.lastChild;I?R.insertBefore(this.la,I):R.appendChild(this.la);k.config.BQa && this.la.addEventListener("contextmenu",m);this.la.src=this.Pk;q.nf.addListener(q.yL,this.CJa[q.yL]=function(){return L.wKa();});this.wKa();}catch(Q){this.lQ(u.M.Ddb,Q);}}else this.n_(u.M.tDa);};f.prototype.close=function(){var R;function L(){R.Pk && (R.RKa(),q.nf.removeListener(q.yL,R.CJa[q.yL]),R.jgb());}R=this;this.Rb.trace("close");this.la.removeEventListener(this.cl.tC,this.En[this.cl.tC]);this.la.removeEventListener("error",this.En.error);this.la.removeEventListener("seeking",this.En.seeking);this.la.removeEventListener("seeked",this.En.seeked);this.la.removeEventListener("timeupdate",this.En.timeupdate);this.la.removeEventListener("loadstart",this.En.loadstart);this.la.removeEventListener("volumechange",this.En.volumechange);this.cl.tQb(this.YJa);k.config.cq?this.cl.vz().then(function(){return L();}):L();this.cl.t2a && clearTimeout(this.cl.t2a);};f.prototype.JB=function(){return this.Rb.JB();};f.prototype.Tib=function(){k.config.b7a && this.cl.z6();};f.prototype.L_=function(){if(this.la)return this.la.getVideoPlaybackQuality && this.la.getVideoPlaybackQuality() || this.la.videoPlaybackQuality || this.la.playbackQuality;};f.prototype.hkb=function(){var L;L=this.j.Yk;return (L=L && L.errorCode) && 0 <= [u.M.tZ,u.M.ZY].indexOf(L);};f.prototype.jgb=function(){var L;L=!1;k.config.EOb && this.hkb() && (L=!0);k.config.Lpb && !L && (this.la.removeAttribute("src"),this.la.load && this.la.load());URL.revokeObjectURL(this.Pk);k.config.BQa && this.la.removeEventListener("contextmenu",m);!L && this.la && this.j.kg.removeChild(this.la);this.la=this.Bf=void 0;this.Pk="";};f.prototype.wKa=function(){!0 === B.Ke.hidden?this.r_.forEach(function(L){L.refresh();L.kUb();}):this.r_.forEach(function(L){L.refresh();L.AUb();});};f.prototype.pQ=function(L){var R;R=t.ha.get(x.dDa)(L);this.r_.push(R);return function(){R.refresh();return R.Rzb();};};f.prototype.lQ=function(L,R){var I,Q;I={oa:A.L.gj,rb:A.wd(R)};try{(Q=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == Q.length && (I.Ze=Q);}catch(N){}this.j.Md(L,I);};f.prototype.RKa=function(){this.r_.forEach(function(L){L.refresh();});};f.prototype.dhb=function(){return this.la && this.la.msGraphicsTrustStatus;};f.prototype.n_=function(L,R){this.j.Md(L,R,void 0);};f.prototype.Xib=function(L){var R,Q,N,M,P,S,ea;if(this.la){L=L.DX;R=this.dhb();R && (L.ConstrictionActive=R.constrictionActive,L.Status=R.status);try{L.readyState="" + this.la.readyState;L.currentTime="" + this.la.currentTime;L.pbRate="" + this.la.playbackRate;}catch(qa){}R=this.XA.length;for(var I;R--;){I=this.XA[R];Q="";I.type == h.dZ?Q="audio":I.type == h.tI && (Q="video");A.Tb(L,I.f3(),{prefix:Q});k.config.kwb && this.j.Yk && h.tI == I.type && (Q=A.yN(I.i3()),3E3 > (Q.data && Q.data.length) && (Q.data=y.pPa(Q.data).join(),A.Tb(L,Q,{prefix:I.type})));}this.Bf && (R=this.Bf.duration) && !isNaN(R) && (L.duration=R.toFixed(4));if(k.config.JHb)try{N=this.j.Ye;M=N && N.yb;if(M){P=M.expiration;isNaN(P) || (L.exp=P);S=M.keyStatuses.entries();if(S.next){ea=S.next().value;ea && (L.keyStatus=ea[1]);}}}catch(qa){}}};f.prototype.yKa=function(L){!1;this.jkb || (this.jkb=!0,this.Xr.qc(F.kj.F4a,L));};f.prototype.Wib=function(){this.Rb.trace("seeking");this.eg.trace("Video element event: seeking");this.Qo?this.Qo.aLb=!0:(this.eg.error("unexpected seeking event"),k.config.wxb && this.n_(u.M.Rdb,{rb:{Trace:this.JB()}}));};f.prototype.Vib=function(){this.Rb.trace("seeked");this.eg.trace("Video element event: seeked");this.Qo?(v.hb(this.Qo.aLb),this.Qo.$Kb=!0,this.rLa()):(this.eg.error("unexpected seeked event"),k.config.vxb && this.n_(u.M.Qdb,{rb:{Trace:this.JB()}}));};f.prototype.Zib=function(){var L;this.Rb.trace("timeupdate",null === (L=this.la) || void 0 === L?void 0:L.currentTime);!1;this.Qo && (this.Qo.cLb=!0,this.rLa());this.Xr.qc(F.kj.Pq);};f.prototype.Nda=function(){this.eg.trace("Video element event: loadstart");};f.prototype.$ib=function(L){this.eg.trace("Video element event:",L.type);try{this.j.volume.set(this.la.volume);this.j.muted.set(this.la.muted);}catch(R){this.eg.error("error updating volume",R);}};f.prototype.OQ=function(L){var R,I,Q,N,M,P,S;R=this.n_;I=u.M.Kdb;Q=u.Iya;N=this.JB();M=L.target;M=M && M.error;P=L.errorCode;S=M && M.code;A.Kc(S) || (S=P && P.code);P=M && M.msExtendedCode;A.Kc(P) || (P=M && M.systemCode);A.Kc(P) || (P=L.systemCode);L=A.Tb({},{code:S,systemCode:P,trace:JSON.stringify(N)},{dz:!0});Q={oa:Q(S),rb:z.Fna(L)};try{M && M.message && (Q.MU=M.message);}catch(ea){}P=A.ue(P);D.ya(P) && (Q.Ze=t.Hfa(P,4));R.call(this,I,Q);};f.prototype.rLa=function(){this.Qo && this.Qo.$Kb && this.Qo.cLb && (this.Rb.trace("seekcomplete"),this.Qo=void 0,this.Xr.qc(F.kj.vW));};Va.Object.defineProperties(f.prototype,{csa:{configurable:!0,enumerable:!0,get:function(){return k.config.aUb;}}});b.kCa=f;c.prototype.trace=function(L,R){this.C8.push([L,R]);this.C8.length > this.oWb && this.C8.shift();};c.prototype.JB=function(){return this.C8;};},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u){var v;v=this;this.j=u;this.qta=this.PZa=0;this.yg=this.Mp=!1;this.z7=0;this.Kz=function(){var w,x;v.w7();v.gF && (v.log.info("Deactivating",v.gF),v.Iz.Itb(v.Ce()));v.j.Qk.set(null);v.vH.Q3a(void 0);v.zOa();w=v.j.Uc.value;w && w.Ky() && !w.YB() && (w=null);if(w && v.j.bc.value !== p.Eb.Hg){x=v.Ce();v.Iz.Xkb(x,w);}w?(v.log.info("Activating",w),v.j.Zl.set(w.getState() === f.QD.wA.qD?p.df.ce:p.df.$c),v.Mp || v.j.Qd("tt_start"),w.n4().then(v.PJ).catch(v.PJ)):v.j.Zl.set(p.df.ce);v.gF=w;v.JH();};this.sync=function(){v.Mp && (v.vH.start(),v.j.bc.value !== p.Eb.Hc && v.vH.stop());};this.JH=function(){var w;v.j.state.value === p.Lb.ce && v.j.bc.value !== p.Eb.Hg && (v.Wg?w=v.vH.azb():v.j.Uc.value && (w=c.vUb[v.j.Uc.value.getState()]));w && q.Kc(w.startTime) && v.j.Wt.value !== w && (v.PZa++,v.qta+=v.vH.nUa() - w.startTime,v.mNa=Math.ceil(v.qta / (v.PZa + 0)));v.j.Wt.set(w);};this.Ce=function(){var w;w=v.j.Bka();v.gF && v.gF.Ss && (w+=v.gF.Ss);return w;};this.SLb=function(w){v.fireEvent(c.OTb,w);w && w.id && (v.Iz.U6a(w.id),!1);v.log.trace("showsubtitle",v.XUa(w));};this.OLb=function(w){v.fireEvent(c.BQb,w);v.log.trace("removesubtitle",v.XUa(w));};this.Lj=function(){v.log.warn("imagesubs buffer underflow",v.j.Uc.value.mh);v.j.Zl.set(p.df.$c);};this.mLb=function(){v.log.info("imagesubs buffering complete",v.j.Uc.value.mh);v.j.Zl.set(p.df.ce);};this.u6=function(){v.Mp && v.Wg && v.Wg.Hr(v.Ce());};this.K_a=function(w){v.Mp && v.Wg && (v.Wg.pause(),v.Wg.Dz(w.Bj));};this.vC=function(){v.Mp && v.Wg && v.Wg.Dqa();};this.H_a=function(w){v.Wg && v.Wg.Ak(w.Eh,w.cV);};this.O_a=function(w){v.Wg && v.Wg.si(w.va,w.KXb);};this.GLb=function(){v.Mp=!0;n.gg(function(){var w,x;(null === (w=v.gF) || void 0 === w?0:w.Zn)?null === (x=v.Wg) || void 0 === x?void 0:x.Hr(v.Ce()):v.sync();v.JH();});};this.DLb=function(){v.zOa();v.vH.stop();v.JH();v.yg=!0;v.w7();};this.upa=function(w){(w=w.newValue) && q.isArray(w.blocks) && (v.Iz.U6a.apply(v.Iz,ca(w.blocks.map(function(x){return x.id;}))),!1);};this.KLb=function(w){v.DXb(w.newValue,w.oldValue);v.sync();v.JH();};this.PJ=function(w){var x;if(!v.yg){x=w.track;if(x === v.j.Uc.value)try{v.Wg=x.nta;x.Zn?v.Vkb(w):v.Wkb(w);}catch(y){v.log.error("Error activating track:",y,x);return;}v.Mp || v.j.Qd(w.W?"tt_comp":"tt_err");w.W?(d.config.c3a?setTimeout(function(){v.j.Zl.set(p.df.ce);},d.config.c3a):v.j.Zl.set(p.df.ce),x.Zn || v.JH()):w.aborted?v.log.warn("aborted timed text track loading"):d.config.uxb?v.j.Md(k.M.zbb,{rb:w.track?w.track.mh:{}}):(v.log.error("ignore subtitle initialization error",w),v.j.Zl.set(p.df.ce));}};this.Qb=new m.Xj();this.Iz=new h.fHa(g.ih(u,"SubtitleTracker"),d.config.xwb);this.log=g.ih(u,"TimedTextManager");this.vH=new l.BHa(this.Ce,this.JH);this.j.Uc.addListener(this.Kz);d.config.XNb?(this.j.addEventListener(p.Z.Mp,this.GLb),this.Kz()):(this.j.Zl.set(p.df.ce),this.j.addEventListener(p.Z.Mp,function(){v.Mp=!0;v.Kz();}));this.j.bc.addListener(this.KLb);this.j.addEventListener(p.Z.zta,this.sync);this.j.Wt.addListener(this.upa);this.j.addEventListener(p.Z.yg,this.DLb);}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;f=a(218);l=a(499);m=a(73);d=a(13);g=a(7);h=a(1106);k=a(3);n=a(61);q=a(18);p=a(17);t=a(1107);c.prototype.addEventListener=function(u,v,w){this.Qb.addListener(u,v,w);};c.prototype.removeEventListener=function(u,v){this.Qb.removeListener(u,v);};c.prototype.fireEvent=function(u,v,w){this.Qb.qc(u,v,w);};c.prototype.Jea=function(u,v,w){var x,y;x=this;y=t.xHa.ysb(this.j,u,v,w);this.CWa(this.j.$l,y);this.j.Iq.forEach(function(A){x.CWa(A.$l,y);});this.j.Uc.set(y);this.j.fireEvent(p.Z.wH);};c.prototype.dOb=function(u){this.Bra(u)?u.n4().then(function(){}):Promise.resolve();};c.prototype.sCb=function(u){return this.Iz.bCb(u);};c.prototype.Vka=function(u){return this.Iz.Vka(u);};c.prototype.H3=function(){var u,v;u=this.j.gX;v=d.config.Fta.characterSize;v={size:d.config.x8.characterSize || v};u && (v.visibility=u.$ka(),v.QR=u.Yka(),v.er=u.Zka());return v;};c.prototype.eTb=function(u){d.config.x8.characterSize=u;u=this.j.Uc.value;this.Bra(u) && !u.Zn && u.n4().then(this.PJ).catch(this.PJ);};c.prototype.DXb=function(u,v){var w;u === p.Eb.Hc || u == p.Eb.Xh?v !== p.Eb.Hc && v !== p.Eb.Xh && ((v=this.j.Uc.value) && !this.Bra(v) || this.Iz.UZa(this.Ce(),v || void 0,"presentingstate:" + u)):u !== p.Eb.Hg && u !== p.Eb.fu || this.Iz.Aia(null !== (w=this.Ce()) && void 0 !== w?w:void 0,"presentingstate:" + u);};c.prototype.w7=function(){this.z7=0;clearTimeout(this.sRb);};c.prototype.zOa=function(){var u;this.Wg && this.Wg.stop();(null === (u=this.gF) || void 0 === u?0:u.Zn) && this.xYa("removeListener");this.Wg=void 0;};c.prototype.xYa=function(u){this.Wg && (this.Wg[u]("showsubtitle",this.SLb),this.Wg[u]("removesubtitle",this.OLb),this.Wg[u]("underflow",this.Lj),this.Wg[u]("bufferingComplete",this.mLb),"addListener" === u?(this.j.addEventListener(p.Z.Pq,this.u6),this.j.addEventListener(p.Z.Wl,this.K_a),this.j.addEventListener(p.Z.$G,this.vC),this.j.addEventListener(p.Z.j6,this.H_a),this.j.addEventListener(p.Z.jua,this.O_a)):(this.j.removeEventListener(p.Z.Pq,this.u6),this.j.removeEventListener(p.Z.Wl,this.K_a),this.j.removeEventListener(p.Z.$G,this.vC),this.j.removeEventListener(p.Z.j6,this.H_a),this.j.removeEventListener(p.Z.jua,this.O_a)));};c.prototype.XUa=function(u){return {currentPts:this.Ce(),displayTime:u.displayTime,duration:u.duration,id:u.id,originX:u.originX,originY:u.originY,sizeX:u.sizeX,sizeY:u.sizeY,rootContainerExtentX:u.rootContainerExtentX,rootContainerExtentY:u.rootContainerExtentY};};c.prototype.Vkb=function(u){var v,w;v=this;w=u.track;if(!w || !w.Zn)throw Error("Not an image base subtitle");u.W?(this.w7(),this.xYa("addListener"),this.log.info("Activated",w),this.j.Qk.set(w),this.Mp?n.gg(function(){v.Wg.Hr(v.Ce());}):this.Wg.pause()):this.T2a(w,u);};c.prototype.Wkb=function(u){var v,w;v=u.track;w=u.W;if(!v || v.Zn)throw Error("Not a valid text track");w?(this.w7(),this.vH.Q3a(this.Wg),this.log.info("Activated",v),this.j.Qk.set(v)):this.T2a(v,k.Pr(u));this.JH();};c.prototype.T2a=function(u,v){var w,x;w=this;x=this.z7 < d.config.MIb;x && (this.sRb=setTimeout(function(){w.z7++;u.n4().then(w.PJ).catch(w.PJ);},d.config.UVb));this.log.error("Failed to activate" + ((null === u || void 0 === u?0:u.Zn)?" img subtitle":""),{retry:x},v,u);};c.prototype.Bra=function(u){return !(!u || u.Ky() && !u.YB());};c.prototype.CWa=function(u,v){var w;w=u.findIndex(function(x){var y,A;return (null !== (y=x.ie) && void 0 !== y?y:-1) >= (null !== (A=v.ie) && void 0 !== A?A:-1);});-1 === w && (w=0);u.splice(w,0,v);};b.zHa=c;r={};c.vUb=(r[f.QD.wA.LOADING]={z6b:!0},r[f.QD.wA.pP]={Es:!0},r);c.OTb="showsubtitle";c.BQb="removesubtitle";},function(r,b,a){var l;function c(m,d,g){this.start=m;this.track=d;this.qH=Array.isArray(g)?g:[];}function f(m,d){this.log=m;this.Uz=d;this.Jqa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;l=a(21);f.prototype.Xkb=function(m,d){this.UZa(m,d,"activating");};f.prototype.Itb=function(m){this.Aia(m,"de-activating");};f.prototype.UZa=function(m,d,g){var h;this.gk && this.Aia(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ca(this.orphans)),this.orphans=[]);this.gk=new c(m,d,h);this.Uz && this.log.trace("new range: " + g,this.gk);};f.prototype.Aia=function(m,d){this.gk && (this.gk.end=m,this.Jqa.push(this.gk),this.Uz && this.log.trace("end range: " + d,this.gk || ({})),this.gk=void 0);};f.prototype.U6a=function(m){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.gk?this.gk.qH.push.apply(this.gk.qH,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};f.prototype.Vka=function(m){var d,g;d=this.Jqa.slice(0);if(this.gk && "undefined" !== typeof m){g=new c(this.gk.start,this.gk.track,this.gk.qH);g.end=m;d.push(g);}m=d.reduce(function(h,k){var n,q,p,t;if(!k.track)return h;q=k.track.Dd;p=k.track.Vq(k.start,k.end);if(void 0 === p || null === p)return h;t=new Set(k.qH);h[q]?(k=h[q],k.expected+=p,k.missed+=p - t.size):h[q]={dlid:q,bcp47:k.track.wm,profile:k.track.profile,expected:p,missed:p - t.size,startPts:null !== (n=k.track.nCb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.Uz && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};f.prototype.bCb=function(m){var d,g,h,k;d=this.Jqa.slice(0);g=0;h=0;if(this.gk && "undefined" != typeof m){k=new c(this.gk.start,this.gk.track,this.gk.qH);k.end=m;d.push(k);}d.forEach(function(n){var q,p;if(n.track){if(n.end < n.start){l.hb(!1,"negative range");n.IC=0;return;}q=new Set(n.qH);p=n.track.Vq(n.start,n.end);n.C2=p;n.IC=void 0 === p || null === p?0:0 === p?100:100 * q.size / p;}else n.IC=100;q=n.end - n.start;g+=q;h+=n.IC * q;});k=g?Math.round(h / g):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.Uz && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.IC),lang:n.track?n.track.wm:"none","actual  ":n.qH.join(" "),expected:n.C2};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,q){return q;}," ")));return k;};b.fHa=f;},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t,u,v,w,x){var y,A;p=g.QD.call(this,t,p,p,"1",{0:u},[{id:0,name:"custom"}],w,"xx",v || p,h.xq.zI,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (A=null === x || void 0 === x?void 0:x.midx) && void 0 !== A?A:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;p.j=t;p.url=u;p.options=x;p.Yt=null === x || void 0 === x?void 0:x.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(62);f=a(13);l=a(63);m=a(7);d=a(29);g=a(218);h=a(142);k=a(72);n=a(128);q=a(17);r.mba(r.iba,function(p){var u;function t(v){var w;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == n.hu.Xeb){w=d.createElement("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var x,y,A;x=w.files[0];if(x){y=x.name;u.info("Loading file",{FileName:y});A=new FileReader();A.readAsText(x);A.addEventListener("load",function(){return p.bq.Jea("nourl",y,{content:A.result});});}});w.click();}}u=m.ih(p,"TimedTextCustomTrack");f.config.Aha && (u.info("Loading url",{Url:f.config.Aha}),p.bq.Jea(f.config.Aha,"custom"));l.nf.addListener(l.NB,t);p.addEventListener(q.Z.yg,function(){l.nf.removeListener(l.NB,t);});});ka(c,g.QD);c.ysb=function(p,t,u,v){var w;w="custom" + c.PEb++;return new c(w,p,t,u,-1,v);};c.prototype.SQa=function(){var p;p=this;return new Promise(function(t,u){var v,w;if(null === (v=p.options) || void 0 === v?0:v.content)t(p.options.content);else if(p.url){w={responseType:k.Gla,url:p.url,track:p,pc:null,lF:"tt-" + p.wm};p.j.g4.download(w,function(x){x.W?t(x.content):(x.reason="downloadfailed",x.url=w.url,x.track=p,u(x));});}});};b.xHa=c;c.PEb=0;},function(r,b,a){var f,l,m,d,g,h;function c(k){var n,q;n=this;this.j=k;this.rLb=function(){var p;m.nf.removeListener(m.P3,n.M_a);p=n.Yq.xp();p && p.parentNode && p.parentNode.removeChild(p);};this.upa=function(p){n.Yq.DSb(p.newValue);};this.VLb=function(p){n.Yq.KSb(p.newValue?p.newValue.N4:void 0);};this.M_a=function(){n.Yq.ZM();};this.Yq=new g.yHa(d.config.Dta,k.Uc.value?k.Uc.value.N4:void 0);q=k.Vz;l.hb(.1 < q.width / q.height);this.Yq.tSb(q.width / q.height);k.kg.appendChild(this.Yq.xp());k.Wt.addListener(this.upa);k.Uc.addListener(this.VLb);k.addEventListener(h.Z.yg,this.rLb,f.HD);m.nf.addListener(m.P3,this.M_a);}Object.defineProperty(b,"__esModule",{value:!0});b.AHa=void 0;f=a(12);l=a(21);m=a(63);d=a(13);g=a(504);h=a(17);c.prototype.Fsa=function(k){this.Yq.Fsa(k);};c.prototype.$ka=function(){return this.Yq.$ka();};c.prototype.Dsa=function(k){this.Yq.Dsa(k);};c.prototype.Yka=function(){return this.Yq.Yka();};c.prototype.Esa=function(k){this.Yq.Esa(k);};c.prototype.Zka=function(){return this.Yq.Zka();};b.AHa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.y1a=void 0;b.y1a=function(a){var c,f;c=!1;f=!1;return function(){if(c)f=!0;else for(f=!0;f;){f=!1;c=!0;a();c=!1;}};};},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u){this.j=u;this.pVb=!1;this.log=d.ih(this.j,"MediaAppendManager");this.Mb=this.j.Mb;this.la=this.Mb.la;this.GX=this.HR=!1;this.audio={type:m.Wh.audio,bv:[],fl:[],DM:!1};this.video={type:m.Wh.video,bv:[],fl:[],DM:!1};u={};this.AH=(u[f.Pb.Gk.Fb]=this.video,u[f.Pb.Gk.Sb]=this.audio,u);this.closed=!1;this.Uy=l.config.Uy;this.P5=l.config.P5;this.xG=l.$Oa(! !this.j.ib.al).xG;this.nNa=!0;h.hb(this.Uy > this.P5,"bad config");h.hb(this.Uy > this.xG,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;f=a(52);l=a(13);m=a(81);d=a(7);g=a(3);h=a(21);k=a(29);n=a(17);q=a(170);p=a(4);t=a(65);c.prototype.e3=function(){var w,x;function u(y,A){return v(y,A.G5);}function v(y,A){var z,B,D,E;D=! !A.response;E=A.response;if(A.Pc)return y + (E.byteLength || 0);A=(null !== (z=null === A || void 0 === A?void 0:A.fK) && void 0 !== z?z:0) - (null !== (B=null === A || void 0 === A?void 0:A.gK) && void 0 !== B?B:0);return (D?E.byteLength:A) + y;}w=this.AH[f.Pb.Gk.Fb];x=this.AH[f.Pb.Gk.Sb];return {videoToAppend:w.fl.reduce(v,0),videoInBuffer:w.bv.reduce(u,0),audioToAppend:x.fl.reduce(v,0),audioInBuffer:x.bv.reduce(u,0)};};c.prototype.RKb=function(){this.audio.oi && !this.audio.oi.gi() && (!1,this.audio.oi.AMa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.YSb=function(){this.audio.Isa=!0;this.video.Isa=!0;};c.prototype.cTb=function(u){u === f.Pb.Gk.Sb?this.HR=!0:u === f.Pb.Gk.Fb && (this.GX=!0);};c.prototype.gi=function(){var u,v;return !(null === (u=this.audio.oi) || void 0 === u || !u.gi()) || !(null === (v=this.video.oi) || void 0 === v || !v.gi());};c.prototype.R7=function(u){var v,w;null === (v=this.audio.oi) || void 0 === v?void 0:v.R7(u);null === (w=this.video.oi) || void 0 === w?void 0:w.R7(u);};c.prototype.hmb=function(u){var v;u.mediaType === f.Pb.Gk.Sb?this.HR=!1:u.mediaType === f.Pb.Gk.Fb && (this.GX=!1);v=this.AH[u.mediaType];v?v.fl.push(u):h.hb(!1);};c.prototype.fmb=function(u,v,w){v={mediaType:u.type,ZB:!1,response:v,Jh:function(){return "header";},get Pc() {return !this.ZB;},profile:w.profile};(u=this.AH[u.type])?u.fl.push(v):h.hb(!1);};c.prototype.aTb=function(u){var v;v=this.AH[u.type];if(v)try{v.oi=u;}catch(w){this.Md(g.M.Qaa,{oa:q.n3(u.type),rb:k.wd(w)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Md=function(u,v,w){this.closed || this.j.Md(u,v,w);};c.prototype.Lha=function(u){return this.MQa(this.audio,u,this.U1()) && this.MQa(this.video,u,this.U1());};c.prototype.U1=function(){return this.j.bc.value === n.Eb.Hg?this.xG:this.P5;};c.prototype.bWb=function(){var u,v;u=this.video.fl.filter(function(w){return !w.Pc;}).reduce(function(w,x){return w + x.cy;},0);v=this.audio.fl.filter(function(w){return !w.Pc;}).reduce(function(w,x){return w + x.cy;},0);return Math.min(u,v);};c.prototype.MQa=function(u,v,w){var x;x=u.Mha;x=x && x.G5;return !u.oi || 0 === u.fl.length && (u.type === m.Wh.audio && this.HR || u.type === m.Wh.video && this.GX)?!0:x && x.Qv - v >= w || !1;};c.prototype.Uta=function(u){var v,w,x,y;this.pVb || (this.o6a(this.audio,u),this.o6a(this.video,u));if(!this.closed){u=!this.audio.oi || 0 !== this.audio.bv.length;x=0 === this.video.fl.length && this.GX;y=!this.video.oi || 0 !== this.video.bv.length;!(!(0 === this.audio.fl.length && this.HR && y || x && u) || (null === (v=this.audio.oi) || void 0 === v?0:v.gi()) || (null === (w=this.video.oi) || void 0 === w?0:w.gi()) || this.zia) && this.la.readyState > t.mq.vza.HAVE_NOTHING && (this.zia=!0,this.Mb.endOfStream());}};c.prototype.o6a=function(u,v){var w,x,y;if(!this.closed && u.oi){w=u.oi;x=u.bv;!w.gi() && 0 < x.length && (u.Mha=x[x.length - 1]);if(u.Isa){if(w.gi())return;u.Isa=!1;y=this.Mb.mUa().e1a(p.sn);0 < y && w.remove(0,y);}for(y=u.fl[0];y && y.response && (y.Pc || y.oz - v <= this.Uy);){if((this.zia=!1,this.QWb(y)))(u.fl.shift(),y=u.fl[0]);else break;}!w.gi() && 0 < x.length && (u.Mha=x[x.length - 1]);}};c.prototype.QWb=function(u){var v,w,x;!1;h.hb(u && ! !u.response);v=u.response;w=u.mediaType;x=this.AH[w];if(!this.closed && x.oi && !x.oi.gi()){try{u.Pc && u.profile && x.oi.Zob(u.profile);this.log.trace("Feeding media segment to decoder",{Bytes:v.byteLength});x.oi.AMa(v,u);u.Pc || x.bv.push(this.Asb(u));l.config.avb && !u.Pc && u.tOa();}catch(y){"QuotaExceededError" === y.name?(this.j.W1=this.j.W1?this.j.W1 + 1:1,this.nNa=!1,x.DM=!0):(this.log.error("Exception while appending media",u,y),this.Md("CodecSwitchingError" === y.name?g.M.uDa:g.M.Ndb,q.n3(w)));return;}return !0;}};c.prototype.rsb=function(u){var v;v=this.j.iDb(u.zd);v || (this.log.warn("Could not find CDN",{cdnId:u.zd}),v={id:u.zd,jna:u.location});return v;};c.prototype.JPa=function(u){var v,w;w=u.Na;u.mediaType === f.Pb.Gk.Sb?v=this.j.tVa(w):u.mediaType === f.Pb.Gk.Fb && (v=this.j.DVa(w));v || this.log.error("Could not find stream",{stream:w});return v;};c.prototype.Asb=function(u){var v;v=this.JPa(u);return {G5:u,stream:v,Nq:{startTime:Math.floor(u.oz),endTime:Math.floor(u.Qv)},pc:this.rsb(u)};};c.prototype.rga=function(u){this.oOa(u,f.Pb.Gk.Sb);this.oOa(u,f.Pb.Gk.Fb);};c.prototype.oOa=function(u,v){var w,x,y,A,z,B,D,E,F;w=this;x=u;this.nNa && (x-=l.config.fN);y=this.AH[v];A=y.bv;D=!1;A.some(function(C,G){var J;J=C.G5;if(u < J.oz)return (h.hb(!1,"decoder content does not contain media time"),!0);x >= J.Qv && (z=G);if(u < J.Qv)return (B=G,G=v === f.Pb.Gk.Sb?w.j.Sg:w.j.Vf,C !== G.value && (G.set(C),D=!0),!0);});if((y.DM || D) && void 0 !== z && !this.zia){if(z + 1 === B){if(0 === z)return;z--;}E=A[z].G5.Qv - 1;if(0 < E){F=y.oi;F && !F.gi()?(F.remove(0,E / k.Hk),y.DM=!1,A.splice(0,z + 1)):(y.DM=!0,!1);}}};c.prototype.K2a=function(){!1;[this.audio,this.video].forEach(function(u){u.bv=[];u.Mha=void 0;u.fl=[];});this.GX=this.HR=!1;this.j.fireEvent(n.Z.D5);};c.prototype.ela=function(){return [this.audio,this.video].filter(function(u){return u.oi;});};c.prototype.Azb=function(){var u,v;if(this.gi())h.hb(!1,"should not be busy while checking buffer ranges");else {u=this.ela().map(function(w){var x,y,A,z,B;z=w.fl.filter(function(D){return D.ZB;});B=w.oi.buffered();w=B.length?Math.ceil(1E3 * B.start(0)):void 0;B=B.length?Math.floor(1E3 * B.end(B.length - 1)):void 0;w=null !== w && void 0 !== w?w:null === (x=z[0]) || void 0 === x?void 0:x.oz;x=null !== (A=null === (y=z[z.length - 1]) || void 0 === y?void 0:y.Qv) && void 0 !== A?A:B;if(void 0 !== w && void 0 !== x)return {start:w,end:x};});if(u.every(function(w){return w;})){v=Math.max.apply(Math,ca(u.map(function(w){return w.start;})));u=Math.min.apply(Math,ca(u.map(function(w){return w.end;})));if(u > v)return {start:p.xc(v),end:p.xc(u)};}}};c.prototype.skip=function(u){h.hb(!this.gi(),"should not be busy while skipping");this.ela().forEach(function(v){v.DM=!0;});this.rga(u);this.ela().forEach(function(v){0 < v.bv.length || (v.fl=v.fl.filter(function(w){return w.Pc || w.Qv > u?!0:!1;}));});};b.bCa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(282);c=a(156);b.Q$a=c;c=a(510);b.Yba=c;c=a(514);b.Qmb=c;b.PZ=r.Hp.Ta.sidx;r=a(1129);b.Rr=r.Rr;r=a(290);b.qq=r.qq;r=a(1133);b.rq=r.rq;b.Ty=r.Ty;r=a(1134);b.oI=r.oI;r=a(87);b.un=r.un;a=a(1135);b.fm=a.fm;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic();this.Vb=1 === this.version?this.li([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.li([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};l.Nb="mvhd";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Nb="trak";l.La=!0;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.ic();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{QGb:"int16"},{amb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Vb=this.li(m);this.Vb.qWb=! !(this.flags & 1);this.Vb.rWb=! !(this.flags & 2);this.Vb.sWb=! !(this.flags & 4);this.Vb.tWb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Nb="tkhd";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic();this.Vb=this.li(1 === this.version?[{V2:"int64"}]:[{V2:"int32"}]);return !0;};l.Nb="mehd";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Vb=this.li([{ODb:"int32"},{AYb:"int32"}]);return !0;};l.Nb="pasp";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Vb=this.li([{Rnb:"int32"},{maxBitrate:"int32"},{Bfa:"int32"}]);return !0;};l.Nb="btrt";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.kl();this.u.kl();for(this.XE=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.XE.push(this.u.kl());}return !0;};l.Nb="ftyp";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(87);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.Vb=this.li([{YNb:"int32"},{PT:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Vb.PT=f.un(this.Vb.PT);return !0;};m.Nb="hdlr";m.La=!1;return m;})(a(33).mc);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(101);l=a(283);m=a(190);r=a(33);d=a(102);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.ic();this.Ll=this.u.ta();return !0;};h.prototype.Fs=function(k){var n;n=Object.keys(this.Ta);n.length && (n=n[0],this.Ta[n].length && (n=this.Ta[n][0],n instanceof m.default?this.qa=new l.S(n.ny,n.samplerate):n instanceof d.default && (n=n.Ta[f.BD]) && n.length && (n=n[0].Vb,1E3 !== n.Xx && 1001 !== n.Xx || 0 !== n.uG % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.uG + "/" + n.Xx):this.qa=new l.S(n.Xx,n.uG)),this.qa && (k.qa=this.qa)));return !0;};h.prototype.fW=function(k){void 0 !== this.Ta[k] && 0 !== this.Ta[k].length && (this.ja.Fg(this.Ll - 1,this.byteOffset + 12),k=this.Ta[k][0],this.we(k.byteLength,k.byteOffset));};h.Nb="stsd";h.La=!0;return h;})(r.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Gja=this.u.ec(2);this.Nfa=this.u.ec(5);this.Ofa=this.u.ec(3);this.Dea=this.u.ec(3);this.u.ec(1);this.u.ec(5);this.u.ec(5);return !0;};l.Nb="dac3";return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.$oa=this.u.Gc() & 7;this.ota=[];for(var m=0;m < this.$oa;m++){d={Gja:this.u.ec(2),Nfa:this.u.ec(5),Ofa:this.u.ec(5),Dea:this.u.ec(3),SGb:this.u.ec(1),Zoa:this.u.ec(4)};0 < d.Zoa?d.Xob=this.u.ec(9):this.u.ec(1);this.ota.push(d);}return !0;};l.Nb="dec3";return l;})(a(33).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.tW=this.u.kl();f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.tW);"cenc" === this.tW && (this.u.offset-=4,f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.ja.OX("piff"));this.u.ta();return !0;};m.Nb="schm";m.La=!1;return m;})(f.mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.eb();this.H9=this.u.eb();this.u.eb();this.u.eb();this.u.eb();this.OW=this.qE(this.u.eb() & 31);this.qE(this.u.eb());this.mz=this.OW.length?this.OW[0][0]:this.H9;this.VQ=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.mz || 110 === this.mz || 122 === this.mz || 144 === this.mz) && (this.u.eb(),this.u.eb(),this.qE(this.u.eb()));m=this.startOffset + this.length - this.VQ;0 < m && this.we(m,this.VQ);return !0;};l.prototype.qE=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.Gc();d.push(this.u.qz(h));}return d;};l.Nb="avcC";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Fs=function(){var m;m=this.Zk("esds");if(m=m && m.z$.Zk(5))this.ny=m.ny;return !0;};l.Nb="mp4a";l.La=!0;return l;})(a(190).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(285);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.z$=f.OO.WV(this.u);return !0;};m.Nb="esds";m.La=!1;return m;})(a(33).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(101);a=a(33);f=r.BD;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.ic();this.Vb=this.li([{uG:"int32"},{Xx:"int16"}]);return !0;};m.Nb=f;m.La=!1;return m;})(a.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,g,h,k;this.ic();m=this.li([{CH:"int32"},{wS:"int32"},{Ux:"int32"},{Wx:"int32"},{Vx:"int32"}]);d=m.CH;g=m.wS;h=m.Ux;k=m.Vx;m=m.Wx;this.Vb={trackId:d,iub:g,Tx:h,jub:k,kub:m};this.CH=d;this.wS=g;this.Ux=h;this.Wx=m;this.Vx=k;return !0;};l.Nb="trex";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(1130);l=a(289);m=a(155);d=a(283);g=a(33);r=a(512);h=a(513);k=a(515);n=a(156);q=a(282);p=a(101);t=a(516);a=(function(){function u(v,w,x,y,A,z){this.console=v;this.stream=w;this.rh=y;this.Rea=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=z || ({});this.AVa=n.aka();}u.path=function(v,w){return w.reduce(function(x,y){return x && x.Ta[y] && x.Ta[y][0];},v);};u.qka=function(v){return v && v.XE && -1 !== v.XE.indexOf("mcl0")?"mcl0":void 0;};u.cja=function(v,w){var x,y;m.assert("mcl0" === v,"Unsupported McClearen brand");x=w.Y;v=x.gd;w=new d.S(120,1).Yf(x.U).Xb;y=0;for(x=x.Bk;y < v.length && x < w;){x+=v[y++];}return y;};u.prototype.parse=function(v){var w;w=this.Ura();if(!w.done){if(w.$U)return {Tm:!1,bMa:w.$U};this.console.error("Scan error: " + w.error);return {Tm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);v=this.Apa(v);return v.done?this.bha():(this.console.error("Parse error: " + v.error),{Tm:!1,parseError:v.error || "unknown mp4 parse error"});};u.prototype.Cm=function(v){return g.mc.Cm(this,v);};u.prototype.Zk=function(v){return g.mc.Zk(this,v);};u.prototype.Ura=function(){var v,w;v=new t.R$(this.rh,this.Rea?[p.Hw,p.Gw]:[],this.config && this.config.GVb || ["moof",p.xP],this.config && this.config.yV);w=c.__assign(c.__assign({},this.config),{zG:!1});return new k.eD(u.XG,v,this.view,this.console,w).parse();};u.prototype.Apa=function(v){var w,x,y;w=new t.KO(this.view.byteLength);x=Object.create(q.Hp.Ta);this.config && ((this.config.J6 || this.config.H8 || this.config.MC) && f(q.Hp.VG,x),this.config.I8 && f(q.Hp.Pta,x),this.config.H8 && f(q.Hp.oX,x));y=c.__assign(c.__assign({},this.config),{zG:!0});this.ac=new k.eD(x,w,this.view,this.console,y);v=this.ac.parse(v);v.done && (this.Ta=this.ac.Ta);return v;};u.prototype.bha=function(){var v,w,x,y,A,z;v={Tm:!0};w=u.path(this,["moov"]);x=u.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.J6)if(x)(v.qa=x.qa,v.DRb=x.Ta);else return {Tm:!1,parseError:"Missing sample descriptions"};y=u.path(x,["encv","sinf","schi"]);y && (y=u.path(y,["tenc"]) || u.path(y,[p.CP])) && (v.ARa={xqb:y.Li,XF:y.XF,qGb:!1});if(y=u.path(w,["trak","mdia","mdhd"]))v.U=y.U;if(y=u.path(w,["mvex","trex"]))v.Tx=y && y.Vb.Tx;v.Tx && v.U && (v.qa=new d.S(v.Tx,v.U));if(y=u.path(this,["sidx"])){A=u.path(this,[p.Hw]);A=A && A.boa;z=u.path(this,[p.Gw]);z=z && z.Dh;v.Y=y.Y;v.nG=A;v.Dh=z;}if(A=this.Ta.vmaf && this.Ta.vmaf[0])v.fq=A.fq;if(this.config.V2a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.MC && x && 1 < x.Ll && y && (v.zg=this.MC(x,y)),void 0 === v.zg && (w=this.ac.dy?l.concat(this.ac.na()):this.view.buffer,v.zg=[{Od:0,data:w}]));else return {Tm:!1,parseError:"Missing movie box"};v.Tm=!0;v.zV=this.ac.offset;return v;};u.prototype.trim=function(v){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.ac.trim(v);this.view=new DataView(w);};u.prototype.MC=function(v,w){var x,y,A;x=Object.keys(v.Ta);y=x.filter(function(z){return "encv" !== z;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);A=u.qka(x);if(A)return (x=[],this.ac.Eqa(),v.fW("encv"),x.push({Od:0,ik:!1,data:l.concat(this.ac.na())}),this.ac.hqa(),v.fW(y[0]),v=u.cja(A,w),x.push({Od:v,ik:!0,data:l.concat(this.ac.na())}),x);}};u.XG={};return u;})();b.Rr=a;a.XG[p.CD]=r.default;a.XG[p.DD]=h.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(155);l=a(289);m=a(87);r=a(1132);d=(function(){function g(h){h?(this.sf=h.sf.slice(),this.Gg=h.Gg.slice(),this.Gd=h.Gd.slice(),this.trim=h.trim):(this.sf=[],this.Gg=[],this.Gd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.sf.length && 0 === this.Gg.length && 0 === this.Gd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(k,n,q){k=g.call(this,k,n,q) || this;k.MS=[];k.bb=new d();return k;}c.__extends(h,g);h.gfa=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.St?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.St?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.St);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{dy:{get:function(){return !this.bb.empty;},enumerable:!0,configurable:!0}});h.prototype.Xz=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.Oua=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:2,St:!1});void 0 === n && (this.offset+=2);};h.prototype.Fg=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:4,St:!1});void 0 === n && (this.offset+=4);};h.prototype.Pua=function(k,n){this.bb.Gg.push({offset:void 0 !== n?n:this.offset,value:k,size:8,St:!1});void 0 === n && (this.offset+=8);};h.prototype.OX=function(k){this.Fg(m.nQ(k));};h.prototype.NH=function(k,n){this.bb.Gd.push({offset:this.offset,Rk:k,value:n});this.offset+=4;};h.prototype.we=function(k,n,q){this.bb.sf.push({offset:n,remove:k,$a:q});};h.prototype.Jt=function(k,n,q,p){this.bb.sf.push({offset:q,remove:k,replace:n,$a:p});};h.prototype.trim=function(k){this.bb.trim=k;};h.prototype.Eqa=function(){this.MS.push(new d(this.bb));};h.prototype.hqa=function(){this.bb=this.MS.pop() || new d();};h.prototype.na=function(){var k,n,q,p,t,u,v;k=this;if(0 === this.bb.sf.length && 0 === this.bb.Gg.length && 0 === this.bb.Gd.length)return [void 0 === this.bb.trim?this.view.buffer:this.view.buffer.slice(0,this.bb.trim)];this.bb.sf.sort(function(w,x){return w.offset - x.offset;});this.bb.Gg.sort(function(w,x){return w.offset - x.offset;});this.Gra();n=this.$ia();q=this.view.buffer.slice(0,n);p=new DataView(q);this.bb.Gg.forEach(h.gfa.bind(void 0,p));this.iua(p);this.gua(p);t=[];u=void 0 !== this.bb.trim?Math.min(this.bb.trim,this.view.byteLength):this.view.byteLength;v=0;this.bb.sf.filter(function(w){return w.offset <= u;}).forEach(function(w){w.offset > v && (t.push(p.buffer.slice(v,w.offset)),w.offset > p.byteLength && p !== k.view && (p=k.view,t.push(p.buffer.slice(n,w.offset))));w.replace && t.push(w.replace);v=w.offset + w.remove;});v < n && t.push(q.slice(v));v < u && t.push(this.view.buffer.slice(Math.max(q.byteLength,v),u));return t;};h.prototype.$ia=function(){var k,n,q;k=[];n=this.bb.Gg[this.bb.Gg.length - 1];q=this.bb.Gd[this.bb.Gd.length - 1];n && k.push(n.offset + n.size);q && k.push(q.offset + 4);this.bb.sf.filter(function(p){return p.$a;}).forEach(function(p){return k.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.bb.trim?Math.min(n,this.bb.trim):n;};h.prototype.Gra=function(){this.bb.sf=this.bb.sf.reduce(function(k,n){var q,p;if(0 === k.length)return (k.push(n),k);q=k[k.length - 1];p=q.offset + q.remove;n.offset >= p?k.push(n):n.offset + n.remove > p && (f.assert(q.$a === n.$a),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?l.concat(q.replace,n.replace):n.replace));return k;},[]);};h.prototype.iua=function(k){var n;n=this;this.bb.Gd.forEach(function(q){var p,t,u,v;p=k;t=q.offset;n.bb.sf.some(function(w){return w.offset <= q.offset && w.replace && w.offset + w.replace.byteLength >= q.offset + 4?(p=new DataView(w.replace),t=q.offset - w.offset,!0):!1;});u=q.Rk + (void 0 !== q.value?q.value:p.getInt32(t));v=n.bb.sf.reduce(function(w,x){return x.offset > q.Rk && x.offset < u?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);p.setInt32(t,u - q.Rk - v);});};h.prototype.gua=function(k){this.bb.sf.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.$a;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - q);n=n.parent;}});};return h;})(r.eca);b.dca=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(156);a(156);f=a(87);r=(function(){function l(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.Km=this.Cx=this.offset=0;}l.prototype.Zja=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.ec=function(m){for(;this.Km < m;){this.Cx=(this.Cx << 8) + this.eb();this.Km+=8;}this.Km-=m;return this.Cx >>> this.Km & (1 << m) - 1;};l.prototype.eb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.Gc=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.ta=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.KG=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.Ipa=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};l.prototype.Hd=function(m,d){m=this.Ipa(m,d);this.offset+=8;return m;};l.prototype.Jpa=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};l.prototype.Rqa=function(){var m;m=this.Jpa(void 0,void 0);this.offset+=8;return m;};l.prototype.kl=function(){return f.un(this.ta());};l.prototype.uz=function(){var d,g,h,k,n,q;function m(p,t){return ("000000" + p.toString(16)).slice(2 * -t);}d=this.ta(!0);g=this.Gc(!0);h=this.Gc(!0);k=this.Gc();n=this.Gc();q=this.ta();return [m(d,4),m(g,2),m(h,2),m(k,2),m(n,2) + m(q,4)].join("-");};l.prototype.Oqa=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.Mqa=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.eb();0 !== g && 0 <= --m;){d.push(g);g=this.eb();}return String.fromCharCode.apply(null,d);};l.prototype.qz=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.ph(this.config.Sz && c.dla || c.Bp,1,m,d,g);};l.prototype.Kqa=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Sz && c.bla || c.uy,2,m,d,g,h);};l.prototype.pz=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Sz && c.cla || c.Os,4,m,d,g,h);};l.prototype.Pqa=function(){for(var m=this.eb(),d=m & 127;m & 128;){m=this.eb();d=d << 7 | m & 127;}return d;};l.prototype.ph=function(m,d,g,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=k || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return l;})();b.eca=r;},function(r,b,a){var l,m,d,g;function c(h,k,n,q){m.call(this,h,k,n,q);}function f(h,k,n){m.call(this,h,k,n,void 0);}l=a(101);m=a(290).qq;d=a(514);g=a(87).nQ;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.eda=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Usa[h]:d.Usa[h];};f.prototype.jra=function(h,k,n){return this.na(h,k,!1,n,void 0);};f.prototype.nra=function(h,k,n){return this.na(h,k,!0,n,void 0);};f.prototype.na=function(h,k,n,q,p){var u,v,w,x,y,A,z,B,D,E,F,C,G,J;function t(K){v=u[K];w=v.uh("traf");if(void 0 === w || void 0 === w.xj)return !1;z=w.uh("tfdt");if(void 0 === z)return !1;x=w.uh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;u=this.Ta.moof;if(!u || 0 === u.length)return !1;if(void 0 !== h){y=h;for(h=0;h < u.length;++h){if(!t(h,this.ac.console.trace))return !1;if(x.Bb > y || n && x.Bb === y)break;y-=x.Bb;}}else if((h=n?u.length - 1:0,!t(h,this.ac.console.trace)))return !1;if(n && h < u.length - 1){A=u[h + 1];this.ac.we(this.Gtb - A.startOffset,A.startOffset);}else !n && 0 < h && this.ac.we(v.startOffset,0);A=w.uh("tfhd");if(void 0 === A)return !1;z=w.uh("tfdt");B=x.Bb;D=w.uh("saiz");E=w.uh("saio");F=w.uh(l.BP);C=w.uh("sbgp");if(!(!D && !E || D && E))return !1;G=w.uh("sdtp");if(this.Ta.mdat && h < this.Ta.mdat.length)J=this.Ta.mdat[h];else if(h !== u.length - 1)return !1;void 0 === y && (y=n?x.Bb:0);if(x.na(w,A,J || this.ac,k,y,w.xj,n))x.dy && (!n && z && z.na(x.Ssa),D && E && (D.na(x.Zp,n),E.na(F?0:D.UG,w.xj,n)),F && F.na(x.Zp,n),G && G.na(x.Zp,B,n),C && C.na(x.Zp,n));else if(!n){if(h === u.length - 1)return !1;this.ac.we(u[h + 1].startOffset - v.startOffset,v.startOffset);}else if(0 === x.Zp)return !1;q && (k=this.eda(this.stream.profile,p)) && x.qra(w,A,J,n,q,k);n=this.ac.na();q=n.reduce(function(K,H){return K + H.byteLength;},0);n={jd:n,length:q,Sm:this.ac.view.byteLength};x.dy && !J && (n.Sp=w.xj + x.Sp,n.mi=x.mi);return n;};r.exports={rq:f,Ty:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(290);f=a(289);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.na=function(d){var g,h,k,n;g=this;if(!this.parse().done)return !1;h=this.Ta.moov;if(!h || 0 === h.length)return !1;k=h[0].Zk("tenc");if(!k)return !1;n=new Uint8Array(k.Li);d.forEach(function(q){for(var p=q.from,t=!0,u=0;u < p.length;u++){if(n[u] !== p[u]){t=!1;break;}}t && g.ac.Jt(q.from.length,q.to,k.XF);});return f.concat(this.ac.na());};return m;})(r.qq);b.oI=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.fm || (b.fm={});r[r.Sb=0]="AUDIO";r[r.Fb=1]="VIDEO";},function(r,b){function a(f,l,m){var d,g,h,k;d=[];f.forEach(function(n){-1 == d.indexOf(n.Kg) && d.push(n.Kg);});g=null;h=null;l.forEach(function(n){null === g?h=g=n.bitrate:h < n.bitrate?h=n.bitrate:g > n.bitrate && (g=n.bitrate);});k=[];d.forEach(function(n){var q;q={ranges:[],profile:n};g && h && (q.ranges.push({min:g,max:h}),m && (q.disallowed=m.filter(function(p){return p.stream.Kg === n;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.e2};})),k.push(q));});return k;}function c(f,l){var m;m=void 0;f=f.filter(function(g){var h;h=l(g);h && (m=m || [],m.push({stream:g,e2:h}));return !h;});for(var d=0;d < f.length;d++){f[d].lower=f[d - 1];f[d].GDb=f[d + 1];}return {BB:f,Zub:m};}Object.defineProperty(b,"__esModule",{value:!0});b.Yub=b.ys=b.rtb=b.lVa=void 0;b.lVa=function(f,l){l=c(f,l);return a(f,l.BB,l.Zub);};b.rtb=a;b.ys=c;b.Yub=function(f){if(f.lower && 1080 < f.height)return ["Prefetch UHD"];};},function(r,b,a){var f,l;function c(m,d){m=f.Ac.call(this,m) || this;m.Xna=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;f=a(105);l=a(86);ka(c,f.Ac);c.prototype.set=function(m){f.Ac.prototype.set.call(this,l.Eo(m,0,this.Xna));};b.OEa=c;},function(r,b,a){var l,m,d,g,h,k,n,q;function c(p,t,u,v,w){var x;x=this;this.ki=p;this.config=u;this.cb=v;this.debug=w;this.S6=[];this.jr=[];this.Zpa=[];this.NE={};this.NQa=!1;this.MR={};this.ima=0;this.log=t.Db("PlayTimeTracker");this.startTime=this.ki.mediaTime.value;this.p5=this.config().Rkb;this.MX();this.NE.abrdel=0;this.p5.forEach(function(y){y="abrdel" + y;x.MR[y]=0;x.NE[y]=0;});}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.DEa=void 0;r=a(1);l=a(0);m=a(8);d=a(14);g=a(89);a(4);h=a(26);k=a(91);n=a(12);q=a(24);f.prototype.encode=function(p){return {key:p.key,downloadableId:p.Dd,bitrate:p.bitrate,vmaf:p.wb,duration:p.duration,metric:p.OU,cdnId:p.s1};};f.prototype.decode=function(p){return {key:p.key,Dd:p.downloadableId,bitrate:p.bitrate,wb:p.vmaf,duration:p.duration,OU:p.metric,s1:p.cdnId};};c.prototype.LT=function(){var p;this.lH(this.ki.mediaTime.value);p=0;this.jr.forEach(function(t){p+=(t.endTime - t.startTime) / t.rate;});return Math.floor(p);};c.prototype.hVa=function(){var p;this.lH(this.ki.mediaTime.value);p=0;this.jr.forEach(function(t){p+=t.endTime - t.startTime;});this.debug.assert(p === Math.floor(p),"Value of totalContentPlayTime is not an integer.");return Math.floor(p);};c.prototype.kzb=function(){this.lH(this.ki.mediaTime.value);return {audio:this.wT(this.S6,this.wTa),video:this.wT(this.jr,this.wTa)};};c.prototype.GBb=function(){var p;p={total:this.LT(),totalContentTime:this.hVa(),audio:this.wT(this.S6,this.m3),video:this.wT(this.jr,this.m3),timedtext:this.wT(this.Zpa,this.m3)};this.debug.assert(!(!p.audio || !p.video));return p;};c.prototype.USa=function(){var p,t;this.lH(this.ki.mediaTime.value);p=this.Kja(this.jr,this.yzb);try{t=this.VSa(p);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.NE.abrdel=Math.round(t);return this.NE.abrdel;};c.prototype.qzb=function(){var p,t;this.lH(this.ki.mediaTime.value);p=this.Kja(this.jr,this.KCb);try{t=this.VSa(p);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(t);};c.prototype.pzb=function(){var p,t;p=this;if(!this.NQa){t=this.LT();this.p5.forEach(function(u){var v,w,x;if(0 === p.MR["abrdel" + u] && t > u * n.Hk){v=0;w=0;x=0;p.jr.some(function(y){v+=y.stream.bitrate * (y.endTime - y.startTime);w+=y.endTime - y.startTime;x=y.stream.bitrate;if(w > u * n.Hk)return !0;});v && (p.MR["abrdel" + u]=Math.round((v - x * (w - u * n.Hk)) / (u * n.Hk)));}});0 !== this.MR["abrdel" + this.p5[this.p5.length - 1]] && (this.NQa=!0);q.ee(this.MR,function(u,v){p.NE[u]=0 === v?p.NE.abrdel:v;});}return this.NE;};c.prototype.klb=function(p){this.ima+=p;};c.prototype.wDb=function(){return ! !(this.jr[0] && this.jr[0].stream && this.cb.fg(this.jr[0].stream.wb));};c.prototype.MX=function(){var p;p=this;this.ki.Sg.addListener(function(t){p.tK=p.hOa(p.tK,p.S6,t.newValue);});this.ki.Vf.addListener(function(t){p.wK=p.hOa(p.wK,p.jr,t.newValue);});this.ki.playbackRate.addListener(function(t){p.lH(p.ki.mediaTime.value,t.oldValue);});this.ki.Qk.addListener(this.iLb.bind(this));};c.prototype.IKb=function(p,t){this.lH(p);this.startTime=t;this.wK=this.tK=void 0;this.vK && (this.vK.startTime=this.startTime);!1;};c.prototype.iLb=function(p){this.RV(this.vK,this.Zpa,this.ki.mediaTime.value);this.vK=p.newValue?{track:p.newValue,startTime:this.ki.mediaTime.value,endTime:g.oA}:void 0;};c.prototype.lH=function(p,t){t=void 0 === t?this.ki.playbackRate.value:t;p && this.tK && this.wK && (p=Math.min(p,this.tK.endTime,this.wK.endTime),this.RV(this.tK,this.S6,p,t),this.tK.startTime=p,this.RV(this.wK,this.jr,p,t),this.wK.startTime=p,this.vK && (this.RV(this.vK,this.Zpa,p,t),this.vK.startTime=p),this.startTime=p,!1);};c.prototype.hOa=function(p,t,u){p && this.RV(p,t,Math.min(p.endTime,this.ki.mediaTime.value));if(u && u.stream)return (p=u.Nq,t=u.stream,{pc:u.pc,track:t.track,stream:t,startTime:Math.max(p.startTime,this.startTime),endTime:p.endTime});};c.prototype.RV=function(p,t,u,v){v=void 0 === v?this.ki.playbackRate.value:v;p && u && u >= p.startTime && (p={pc:p.pc,track:p.track,stream:p.stream,startTime:p.startTime,endTime:u,rate:v},(u=t[t.length - 1]) && u.track === p.track && u.stream === p.stream && u.pc === p.pc && u.endTime === p.startTime && u.rate === p.rate?u.endTime=p.endTime:t.push(p),!1);};c.prototype.Kja=function(p,t){var u,v;u=this;v={};return p.reduce(function(w,x){var y,A,z;y=t.bind(u,x)();A=y.key;x=x.endTime - x.startTime;z=v[A];z?z.duration+=x:(delete y.key,z=y,z.duration=x,w.push(z),v[A]=z);return w;},[]);};c.prototype.wT=function(p,t){return this.Kja(p,t).map(function(u){return new f().encode(u);});};c.prototype.m3=function(p){var t,u,v;t=p.stream;if(t){p=t.Dd;u=t.bitrate;v=t.wb;}else p=p.track.Dd;return {key:p + "$" + (u || 0),Dd:p,bitrate:u,wb:v};};c.prototype.wTa=function(p){var t;t=this.m3(p);p=p.pc.id;return Object.assign({},t,{key:t.key + "$" + p,s1:p});};c.prototype.yzb=function(p){p=(p=p.stream)?p.bitrate:0;return {key:p,OU:p};};c.prototype.KCb=function(p){p=(p=p.stream)?p.wb:0;return {key:p,OU:p};};c.prototype.VSa=function(p){var t,u,v;t=this;u=0;p.forEach(function(w){if(t.cb.fg(w.duration) && t.cb.fg(w.OU))u+=w.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;v=0;p.forEach(function(w){v+=w.OU * w.duration / u;});return v;};a=c;a=r.__decorate([l.R(),r.__param(1,l.l(m.Kb)),r.__param(2,l.l(d.Vc)),r.__param(3,l.l(h.Jf)),r.__param(4,l.l(k.cu))],a);b.DEa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CEa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k,n,q,p,t,u,v){this.index=m;this.K=d;this.va=g;this.ib=h;this.da=k;this.Ul=n;this.rna=q;this.zqb=t;this.tZa=v;this.Wd=new f.Ac(null);this.Rh=new f.Ac(null);this.Uc=new f.Ac(null);this.Qk=new f.Ac(null);this.Wt=new f.Ac(void 0);this.og=new f.Ac(null);this.dk=new f.Ac(null);this.Sg=new f.Ac(null);this.Vf=new f.Ac(null);this.pc=[new f.Ac(null),new f.Ac(null)];this.mediaTime=new f.Ac(void 0);this.playbackRate=new f.Ac(1);this.ep=new f.Ac(null);this.SE=this.RE="notcached";this.background=!1;p && (this.og.set(p.og.value),this.dk.set(p.dk.value));this.jo=u(this);this.Tl=this.tZa.eQb(this.da,this.Ul);}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;f=a(105);l=a(4);c.prototype.Qd=function(m){this.Tl.Yo(m);};c.prototype.Ay=function(m){var d;d=this;Object.entries(m).forEach(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;d.Tl.Yo(g,l.xc(h - d.Ul.ea(l.ma)));});};c.prototype.q6=function(){this.tZa.wQb(this.da);};Va.Object.defineProperties(c.prototype,{ke:{configurable:!0,enumerable:!0,get:function(){return this.ib.ke;}},X8:{configurable:!0,enumerable:!0,get:function(){return this.ib.X8;}},Jl:{configurable:!0,enumerable:!0,get:function(){return this.Yc && this.Yc.Jl;}},Iq:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Yc && this.Yc.Iq) && void 0 !== m?m:[];}},yo:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Yc && this.Yc.yo) && void 0 !== m?m:[];}},Nz:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Yc && this.Yc.Nz) && void 0 !== m?m:[];}},$l:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Yc && this.Yc.$l) && void 0 !== m?m:[];}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.Yc && this.Yc.Ti;}},bC:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Yc && this.Yc.bC) && void 0 !== m?m:!1;}},Ft:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Yc && this.Yc.Ft) && void 0 !== m?m:[];}},Tk:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Yc && this.Yc.Tk) && void 0 !== m?m:[];}},Px:{configurable:!0,enumerable:!0,get:function(){return this.Fca && 0 < this.Fca.ea(l.ma)?this.Fca:l.xc(this.sa?this.sa.Tc.duration:0);},set:function(m){this.Fca=m;}},Dk:{configurable:!0,enumerable:!0,get:function(){return this.ib.Dk || 0;}},xha:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.F1?this.F1:void 0 === this.mediaTime.value?null:this.zqb(this.mediaTime.value,this.va);}},Cj:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.sa) || void 0 === m?void 0:m.Tc.dOa) || void 0 === d?void 0:d.Iv;}},dH:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.sa) || void 0 === m?void 0:m.Tc.dOa) || void 0 === d?void 0:d.dH;}},cd:{configurable:!0,enumerable:!0,get:function(){return this.Tl.cd;}}});b.QEa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SHa="TrickPlayParserSymbol";},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;r=a(1);l=a(161);a=a(0);c.prototype.parse=function(d){var g,h;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);h=new l.IO(g);d=this.CMb(h);g=this.EMb(h,g,d);return {header:d,images:g};};c.prototype.CMb=function(d){var g,h,k,n;if(d.Ika() < this.$Qb())throw Error("array buffer too short");f.xBa.forEach(function(q){if(q != d.rz())throw Error("BIF has invalid magic.");});g=d.TM();if(g > f.VERSION)throw Error("BIF version in unsupported");h=d.TM();if(0 == h)throw Error("BIF has no frames.");k=d.TM();n=d.ph(f.JFa);return {version:g,YKb:h,T5a:k,I2a:n};};c.prototype.EMb=function(d,g,h){var q,p;for(var k=[],n=0;n <= h.YKb;n++){q={timestamp:d.TM(),offset:d.TM()};void 0 != p && k.push(g.subarray(p.offset,q.offset));p=q;}return k;};c.prototype.$Qb=function(){return f.xBa.length + 4 + 4 + 4 + f.JFa;};m=f=c;m.xBa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.JFa=44;m=f=r.__decorate([a.R()],m);b.RHa=m;},function(r,b,a){var f,l,m;function c(d,g,h){this.config=d;this.j=g;this.Bg=h;this.CV=void 0;this.K6=!1;this.Vma=0;this.log=this.Bg.Db();}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;f=a(17);l=a(4);m=a(86);c.prototype.oBb=function(d,g,h,k,n){var q,p,t,u;h=void 0 === h?this.j.va:h;k=void 0 === k?!1:k;q=g === f.pe.GI;p=this.yob(q?d:this.Cpb(d,h),k,h);k=this.j.Ma;q?(d=p,p=k.ws(p)):d=k.pK(h,p);g === f.pe.Cw && (this.j.yNa=p);n=this.ci(d,g,n);t=(q=q || n)?d:p;if(this.j.ut){u=this.config().xG;this.j.wVa(t,u) || g !== f.pe.vA || (t=this.j.ut.ea(l.ma) - u - 1E3,q?(d=t,p=k.ws(t)):(d=k.pK(h,t),p=t));}return {i6:t,Bj:p,GNb:d,ci:n};};c.prototype.yob=function(d,g,h){d=this.NFb() || g?Math.round(d):this.j.Ma.fga(d,h);this.j.ib.al && (d=this.tyb(d));this.config().bsa && (d+=this.config().bsa);return d;};c.prototype.ci=function(d,g,h){if(this.config().Xub || g === f.pe.Cw || g === f.pe.TP || g === f.pe.IY || !h || d < h.start.ea(l.ma) || d >= h.end.ea(l.ma))return !1;g=this.j.Ma;return (null === g || void 0 === g?void 0:g.Ah) && g.ci(d) || !1;};c.prototype.NFb=function(){return this.j.ib.al?!0:"boolean" === typeof this.j.ib.JV?this.j.ib.JV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().JV && this.config().$Nb:this.config().JV;};c.prototype.Cpb=function(d,g){var h;g=this.j.Ap(g);h=g.Px;g=(g.NIb || h).ea(l.ma) - this.config().hZb;return m.Eo(d,0,g);};c.prototype.tyb=function(d){var g,h,k;g=this.j.rT();if(Object.values(g).find(function(n){var q;q=n.Fc;q=d < (null !== q && void 0 !== q?q:Infinity);return n.jc <= d && q;}))return (!1,d);k=d;Object.entries(g).forEach(function(n){var q;n=aa(n);n.next();n=n.next().value.jc;q=n - d;0 < q && (void 0 === h || q < h) && (h=q,k=n);});!1;return k;};Va.Object.defineProperties(c.prototype,{yma:{configurable:!0,enumerable:!0,get:function(){return this.K6 || ! !this.CV;}}});b.sGa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w;function c(x,y,A,z,B,D){var E;E=this;this.j=x;this.Ej=y;this.xX=A;this.Td=z;this.MW=B;this.xm=D;this.VPa={};this.update=function(){var F;if(E.ro.selectionStart == E.ro.selectionEnd){F="";E.p3().forEach(function(C){F=F?F + "\n":"";Object.entries(C).forEach(function(G){var J;J=aa(G);G=J.next().value;J=J.next().value;F+=G + ": " + J + "\n";});});E.ro.style.fontSize=d.Eo(h.Ew(E.element.clientHeight / 60),8,18) + "px";E.ro.value=F;}};this.wLb=function(){var F,C;if(E.j.Cg){C=E.j.Cg.yF();C && (E.yha=C - (null !== (F=E.a6a) && void 0 !== F?F:0),E.a6a=C,E.uM());}};this.uM=function(){E.xX.nl(E.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == q.hu.R9a || F.keyCode == q.hu.Q) && E.toggle();};this.Q0a=[x.mediaTime,x.pc[f.Pb.Ra.Sb],x.pc[f.Pb.Ra.Fb],x.Sg,x.Vf,x.dk,x.og,x.Qk,x.state,x.Jq,x.bc,x.volume,x.muted];this.element=this.Td.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.ro=this.Td.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.ro);this.controls=this.Td.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Td.createElement("button",void 0,"X");y.addEventListener("click",function(){return E.Xq();},!1);this.controls.appendChild(y);m.nf.addListener(m.NB,this.onkeydown);x.addEventListener(n.Z.yg,function(){m.nf.removeListener(m.NB,E.onkeydown);E.Xq();});}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;f=a(52);l=a(62);m=a(63);d=a(86);g=a(280);h=a(11);k=a(18);n=a(17);q=a(128);p=a(4);r={};t=(r[n.Lb.vI]="Not Loaded",r[n.Lb.LOADING]="Loading",r[n.Lb.ce]="Normal",r[n.Lb.CLOSING]="Closing",r[n.Lb.CLOSED]="Closed",r);r={};u=(r[n.df.ce]="Normal",r[n.df.$c]="Pre-buffering",r[n.df.jGa]="Network stalled",r);r={};v=(r[n.Eb.Hg]="Waiting for decoder",r[n.Eb.Hc]="Playing",r[n.Eb.Xh]="Paused",r[n.Eb.fu]="Media ended",r);w=[n.Z.D5,n.Z.onb];c.prototype.ASb=function(x){this.VPa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.TEb=pb.setInterval(this.wLb,1E3),document.body.appendChild(this.element),this.Q0a.forEach(function(y){y.addListener(x.uM);}),w.forEach(function(y){x.j.addEventListener(y,x.uM);}),this.visible=!0,this.xm.WW().then(function(y){x.sla=y;x.uM();}));this.update();};c.prototype.Xq=function(){var x;x=this;this.visible && (clearInterval(this.TEb),this.a6a=this.yha=void 0,document.body.removeChild(this.element),this.Q0a.forEach(function(y){y.removeListener(x.uM);}),w.forEach(function(y){x.j.removeEventListener(y,x.uM);}),this.xX.nl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Xq():this.show();};c.prototype.p3=function(){var x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S,ea,qa,wa,ua,X,sa,O,T,ma,ja,Qa,Fa,Wa,Xa,db,Za,kb;C=[];G=this.Ej();C.push({Version:"6.0032.694.911",Esn:G?G.kk:"UNKNOWN",PBCID:this.j.Cj,UserAgent:h.sA});try{J={MovieId:this.j.K,TrackingId:this.j.Dk,Xid:this.j.da + " (" + l.rn.map(function(Ya){return Ya.da;}).join(", ") + ")",Position:d.yi(this.j.mediaTime.value),Duration:d.yi(this.j.Px.ea(p.ma)),PlayerDuration:d.yi(this.j.ut.ea(p.ma)),Volume:h.wi(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.ib.al || this.j.ib.Q4)(J["Segment Position"]=d.yi(this.j.IB()),J.Segment=this.j.Cka());C.push(J);}catch(Ya){}try{C.push({"Player state":t[this.j.state.value],"Buffering state":u[this.j.Jq.value],"Rendering state":v[this.j.bc.value]});}catch(Ya){}try{K=this.j.Cua() + this.j.pfa();H=this.j.Sg.value;L=null === H || void 0 === H?void 0:H.stream;R=this.j.Vf.value;I=null === R || void 0 === R?void 0:R.stream;Q=null !== (x=null === L || void 0 === L?void 0:L.bitrate) && void 0 !== x?x:"?";N=I?I.bitrate + " (" + I.width + "x" + I.height + ")":"?";M=null !== (y=null === I || void 0 === I?void 0:I.wb) && void 0 !== y?y:"?";P=null !== (z=null === (A=this.j.og.value) || void 0 === A?void 0:A.wb) && void 0 !== z?z:"?";S=null !== (D=null === (B=this.j.dk.value) || void 0 === B?void 0:B.bitrate) && void 0 !== D?D:"?";ea=null !== (F=null === (E=this.j.og.value) || void 0 === E?void 0:E.bitrate) && void 0 !== F?F:"?";qa=this.j.pc[f.Pb.Ra.Fb].value;wa=this.j.pc[f.Pb.Ra.Sb].value;C.push({"Playing bitrate (a/v)":Q + " / " + N,"Playing/Buffering vmaf":M + "/" + P,"Buffering bitrate (a/v)":S + " / " + ea,"Buffer size in Bytes (a/v)":this.j.pfa() + " / " + this.j.Cua(),"Buffer size in Bytes":"" + K,"Buffer size in Seconds (a/v)":d.yi(this.j.DR()) + " / " + d.yi(this.j.BX()),"Current CDN (a/v)":(wa?wa.name + ", Id: " + wa.id:"?") + " / " + (qa?qa.name + ", Id: " + qa.id:"?")});}catch(Ya){}try{if(this.j.Sg.value && this.j.Vf.value){ua=this.j.Sg.value.stream;X=ua.track;sa=this.j.Vf.value.stream;O=this.j.Qk.value;T=this.MW.N1(this.j.Rh.value?this.j.Rh.value.streams:[]);ma=this.MW.K1(X.streams);ja=sa.Kg;Qa=(/hevc/).test(ja)?"hevc":(/vp9/).test(ja)?"vp9":(/h264hpl/).test(ja)?"avchigh":"avc";(/hdr/).test(ja) && (Qa+=", hdr");(/dv/).test(ja) && (Qa+=", dv");(/prk/).test(ja) && (Qa+=", prk");Fa=ua.Kg;Wa=(/xheaac/).test(Fa)?"xhe-aac":(/heaac/).test(Fa)?"he-aac":(/ddplus/).test(Fa)?"ddplus":"unknown";(/atmos/).test(Fa) && (Wa+=", atmos");C.push({"Audio Track":X.wm + ", Id: " + X.trackId + ", Channels: " + X.channels + ", Codec: " + ma + " (" + Wa + ")","Video Track":"Codec: " + T + " (" + Qa + ")","Timed Text Track":O?O.wm + ", Profile: " + O.profile + ", Id: " + O.trackId:"none"});}}catch(Ya){}try{Xa=this.j.Cg;db=this.j.og.value?this.j.og.value.framerate:0;Za=a(518).sYa;C.push({Framerate:db.toFixed(3),"Current Dropped Frames":k.ya(this.yha)?this.yha:"","Total Frames":Xa.EB(),"Total Dropped Frames":Xa.yF(),"Total Corrupted Frames":Xa.tT(),"Total Frame Delay":Xa.o3(),"Main Thread stall/sec":Za?Za.GAb().join(" "):"DISABLED",VideoDiag:g.Fna(this.j.L3()),"HDR support":this.sla?this.sla.result + " (" + this.sla.reason + ")":"unknown"});}catch(Ya){}try{C.push({Throughput:this.j.Pa + " kbps"});}catch(Ya){}kb=void 0;try{Object.entries(this.VPa).forEach(function(Ya){var Sa;Sa=aa(Ya);Ya=Sa.next().value;Sa=Sa.next().value;kb=kb || ({});kb[Ya]=JSON.stringify(Sa);});kb && C.push(kb);}catch(Ya){}return C;};b.LEa=c;},function(r,b,a){var l,m,d,g;function c(h,k,n,q){this.da=h;this.XQb=k;this.za=n;this.Of=q;this.cd={};}function f(h,k){this.Bg=h;this.Of=k;this.yd={};this.za=h.Db("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;r=a(1);l=a(0);m=a(8);d=a(19);g=a(4);f.prototype.eQb=function(h,k){this.yd[h] && this.za.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.Of.Wb()).ea(g.ma);this.za.trace("registerPlayback: xid " + h + " at " + k);this.yd[h]=new c(h,k,this.za,this.Of);return this.yd[h];};f.prototype.IBb=function(h){this.yd[h] || this.za.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.yd[h];};f.prototype.wQb=function(h){this.za.trace("removePlayback: xid " + h);delete this.yd[h];};a=f;a=r.__decorate([l.R(),r.__param(0,l.l(m.Kb)),r.__param(1,l.l(d.rd))],a);b.NEa=a;c.prototype.Yo=function(h,k){k=k?k.ea(g.ma):this.Of.Wb().ea(g.ma) - this.XQb;this.za.trace("addMilestone: xid " + this.da + " " + h + " at " + k);this.cd[h]=k;};},function(r,b,a){var f,l,m,d;function c(g){this.Ja=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;r=a(1);f=a(17);l=a(0);m=a(19);d=a(4);c.prototype.Wl=function(g){g.cause !== f.pe.Cw && (this.trace.unshift({time:this.Ja.Wb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.ZUa=function(){var g,h;g=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.P5a(h.time),lastRepositionCause:this.eTa(h.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:g.P5a(k.time),cause:g.eTa(k.event.cause),newMediaTime:k.event.i6,oldMediaTime:k.event.ipa,contentPts:k.event.Bj,skip:k.event.skip};})};};c.prototype.P5a=function(g){return this.Ja.Wb().Aa(g).ea(d.ma);};c.prototype.eTa=function(g){switch(g){case f.pe.Cw:return "initial";case f.pe.vA:return "seek";case f.pe.GI:return "segment_changed";case f.pe.TP:return "track_changed";case f.pe.IY:return "force_rebuffer";}};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.rd))],a);b.YFa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w;function c(x,y,A){var z;z=this;this.ob=x;this.j=y;this.debug=A;this.Bq=this.Ah=this.JA=!1;this.qm=void 0;this.Ir=new Map();this.$r=void 0;this.Be=function(){var B,D,E,F,C,G;z.debug.assert(z.pa,"has access to asePlaygraph");z.debug.assert(z.Sc,"has access to internalLogger");z.debug.assert(z.ht,"has access to mediaBufferGetLogFields");if(z.cf.value !== f.ka.vq && z.cf.value !== f.ka.zi){C=z.In;G=null === (D=null === (B=z.Ib.get()) || void 0 === B?void 0:B.Pa) || void 0 === D?void 0:D.Ca;B={type:"logdata",target:"startplay",fields:{hasasereport:z.j.IK,hashindsight:!1,buffCompleteReason:C.reason,actualbw:G,initSelReason:null !== (E=C.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:C.vBufferLevelMs,bcABufferLevelMs:C.aBufferLevelMs}};h.nfa({PRa:B,Jj:z.Jj,loadTime:z.loadTime});z.pa.rX("startplay",m.Ud.Tt);null !== (F=z.Ga) && void 0 !== F && F.Vn?(z.Sc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:C},z.ht()),z.j.In=C,z.j.Jq.set(k.df.ce),z.iyb || (z.iyb=!0,z.j.Qd("pb")),z.play()):z.Sc.error("Shim received buffering complete but player has no position (player " + (z.Ga?"":"un") + "defined, state " + z.j.state + ")");}};this.IR=function(){var B,D;z.debug.assert(z.Sc,"has access to internalLogger");!1;z.qm=void 0;z.j.paused.value && z.BM && (z.BM=!1,z.j.paused.set(!1,{Qoa:!0}));null === (B=z.j.Cg) || void 0 === B?void 0:B.cqb();null === (D=z.kV) || void 0 === D?void 0:D.call(z);z.kV=void 0;};this.events=new w();}Object.defineProperty(b,"__esModule",{value:!0});b.lva=void 0;f=a(52);l=a(16);m=a(273);d=a(61);g=a(3);h=a(1148);k=a(17);n=a(13);q=a(18);p=a(4);t=a(1149);u=a(86);v=a(105);w=a(109).EventEmitter;c.prototype.k1=function(){};c.prototype.Lc=function(){var x;this.Bq=!1;this.Ib.vN(null);this.debug.assert(this.aj,"has access to streamingEngine");this.pa && this.aj.It(this.pa);this.Ga && this.aj.XM(this.Ga);this.aj.kra(this.Ir.get(this.ob.ga.$));this.Ir.clear();null === (x=this.Oi) || void 0 === x?void 0:x.kp();};c.prototype.oTb=function(x){var y,A,z,B,D,E,F,C,G,J,K,H,L;y=x.config;A=x.sm;z=x.Sc;B=x.ye;D=x.ht;E=x.hi;F=x.BW;x=x.aH;this.Sc=z;this.ht=D;this.BW=F;this.aH=x;D=this.j.ga;this.debug.assert(D,"has a playback segment");this.debug.assert(y,"has access to config");this.debug.assert(B,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.aj,"has access to streamingEngine");this.debug.assert(D.sa,"has access to manifest");this.aj=A.aj;A.Cd.set(a(180)(y),!0,E("ASE"));A.Cd.set({maxNumberTitlesScheduled:null !== (G=null === (C=y.WNb) || void 0 === C?void 0:C.maxNumberTitlesScheduled) && void 0 !== G?G:1},!0,z);y.Kqb && 3E5 > D.sa.Tc.duration?A.Cd.uV({expandDownloadTime:!1},!0,z):A.Cd.uV({expandDownloadTime:A.Cd.F0a().expandDownloadTime},!0,z);y=D.background || y.UNb && "postplay" === D.ke?"historical":A.Cd.F0a().initBitrateSelectorAlgorithm;A.Cd.uV({initBitrateSelectorAlgorithm:y},!0,z);y=null === (L=null === (H=null === (K=null === (J=D.Rh) || void 0 === J?void 0:J.value) || void 0 === K?void 0:K.streams) || void 0 === H?void 0:H[0]) || void 0 === L?void 0:L.Kg;A.Cd.uV(n.ZOa(! !D.ib.al,! !D.ib.Q4,y),!0,z);z=B.lG({},n.Wga(D.ke));this.Cd=A.Cd.xs(z);f.platform.events.emit("networkchange",D.Yc.rSb);this.JA=!0;};c.prototype.t4=function(x){var y,A;this.debug.assert(this.aj,"has access to streamingEngine");y=this.j.Ap(x.va);this.debug.assert(y.Yc,"has access to playback parsedManifest");A=x.flags;this.Ib.reset();this.Fd=new Set([f.Pb.Ra.Sb,f.Pb.Ra.Fb]);(A.XC || A.GR) && this.Fd.delete(A.XC?f.Pb.Ra.Sb:f.Pb.Ra.Fb);this.XN=[y.Yc.eub,y.Yc.mub];this.nS(x.va,x.$u);this.GEb(x);this.nha();};c.prototype.vX=function(x){var y;null === (y=this.pa) || void 0 === y?void 0:y.vX(x);};c.prototype.Anb=function(x){var y,A,z,B;y=this;A=x.loadTime;z=x.Jj;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ga,"has access to asePlayer");this.Jj=z;this.loadTime=A;x=this.pa.events;B=this.Ga.events;x.addListener("error",function(D){"NFErr_MC_StreamingFailure" === D.error && (y.Sc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),y.Sc.trace("StreamingFailure, buffer status:" + JSON.stringify(y.ht())),d.gg(function(){y.j.Md(g.M.f8a,{oa:D.nativeCode,rb:D.errormsg,jk:D.httpCode,d6:D.networkErrorCode});}));});x.addListener("logdata",function(D){var E;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=y.pa) || void 0 === E?void 0:E.KE,h.nfa({PRa:D,Jj:z,loadTime:A}));});x.addListener("bufferingStarted",function(){y.j.Jq.set(k.df.$c);});x.addListener("bufferingComplete",function(D){y.In=D;});this.j.paused.addListener(function(D){var E;y.debug.assert(y.Sc,"has access to internalLogger");null !== (E=D.av) && void 0 !== E && E.Qoa || !y.JA || (D.newValue && y.cf.value === f.ka.Hc?(y.cf.set(f.ka.Xh),y.md.emit("paused",{type:"paused",pts:y.md.wc})):D.newValue || y.cf.value !== f.ka.Xh || (y.cf.set(f.ka.Hc),y.md.emit("playing",{type:"playing",pts:y.md.wc})));D.newValue || (y.BM=!1);y.Sc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:u.yi(y.j.mediaTime.value)});});this.j.Wd.addListener(function(D){var E,F,C,G;if(y.JA)if((y.debug.assert(y.Sc,"has access to internalLogger"),D.av && D.av.pMa))y.Sc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {G=D.newValue;y.r8({cp:G.Gy,toJSON:function(){return G.mh;}})?y.Sc.trace("ASE accepted the audio track switch",null === (C=D.newValue) || void 0 === C?void 0:C.trackId):(y.Sc.trace("ASE rejected the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId),D.oldValue && D.oldValue.Gy !== G.Gy && y.j.Wd.set(D.oldValue,{pMa:!0}));}});x.addListener("serverSwitch",function(D){var E;y.j.fireEvent(k.Z.yW,D);if("video" === D.mediatype)E=f.Pb.Ra.Fb;else "audio" === D.mediatype && (E=f.Pb.Ra.Sb);q.Kc(E) && y.BW(D.segmentId,D.server,E);});x.addListener("streamSelected",function(D){var E,F,C,G;F=(null === (E=y.pa) || void 0 === E?void 0:E.OB(D.position)).aF.V;E=[];if(D.mediaType === f.Pb.Ra.Fb){C=y.j.DVa(D.streamId);G=y.j.og;E=y.j.HF();}else D.mediaType === f.Pb.Ra.Sb && (C=y.j.tVa(D.streamId),G=y.j.dk,E=y.j.hzb());C && G?(!1,G.set(C,{rOa:F,inb:D.bandwidth})):y.Sc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:y.j.SE});});x.addListener("segmentNormalized",function(D){var E,F;E=y.j.Ap(D.segmentId);F=Math.floor(D.viewableEarliestContentEnd.V);D=p.xc(Math.floor(D.viewableContentEnd.V));F=p.xc(F);E && (E.Px=D,E.NIb=F);y.j.ut || (y.j.ut=D);});B.addListener("segmentPresenting",function(D){var E;y.debug.assert(y.pa,"has access to asePlaygraph");y.debug.assert(y.Ga,"has access to asePlayer");y.debug.assert(y.aH,"has access to segmentPresentingHandler");E=y.pa.OB(D.position);y.aH(E.$,!1);y.j.fireEvent(k.Z.$G,{type:"segmentPresenting",position:{segmentId:D.position.va,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});y.$r=y.Ga.Tn();});B.addListener("ptsChanged",function(){y.md.emit("skipped");});x.addListener("locationSelected",function(D){y.j.fireEvent(k.Z.Py,D);});x.addListener("aseReportEnabled",function(){y.j.IK=!0;});x.addListener("aseReport",function(D){y.j.fireEvent(k.Z.VJ,D);});};c.prototype.Tn=function(){var x,y,A,z,B,D,E,F,C;F=null === (x=this.Ga) || void 0 === x?void 0:x.X3();x=(null !== (y=this.$r) && void 0 !== y?y:F && this.Ga.Tn()) || ({});y=x.P;F=x.yj;C=x.HV;x=x.IM;return {id:String(null === y || void 0 === y?void 0:y.id),Re:null !== (A=null === F || void 0 === F?void 0:F.V) && void 0 !== A?A:0,Mc:null !== (z=null === y || void 0 === y?void 0:y.Vg.V) && void 0 !== z?z:Infinity,vc:null !== (B=null === y || void 0 === y?void 0:y.Kl.V) && void 0 !== B?B:0,Rd:null !== (D=null === C || void 0 === C?void 0:C.V) && void 0 !== D?D:Infinity,Zc:null !== (E=null === x || void 0 === x?void 0:x.V) && void 0 !== E?E:0};};c.prototype.h3=function(){return {Re:0};};c.prototype.y4=function(){var x,y;this.debug.assert(this.pa,"has access to asePlaygraph");x={};y=this.pa.cL();x.vbuflmsec=y.totalvbuflmsecs;x.vbuflbytes=y.vbuflbytes;x.abuflmsec=y.totalabuflmsecs;x.abuflbytes=y.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.Wpa=function(){this.md.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.md.wc});};c.prototype.r8=function(x){var y,A,z,B;y=this;this.debug.assert(this.Sc,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ga,"has access to asePlayer");this.debug.assert(this.j.sa,"has access to playback manifest");if(this.BH)return (!1,!1);if(!this.j.sa.Tc.audio_tracks.some(function(D,E){if(D.track_id === x.cp)return (B=E,!0);}))return (!1,!1);!1;this.qm=B;null === (A=this.j.Cg) || void 0 === A?void 0:A.tUb();(null === (z=this.Ga) || void 0 === z?0:z.Jz)?this.BM=!1:n.config.PMb && !this.j.paused.value && (this.Ga.pause([f.Pb.Ra.Sb]),this.BM=!0,this.j.paused.set(!0,{Qoa:!0}));this.debug.lfa(this.qm,"has access to valid requestedAudioTrackIndex number");this.XN[f.Pb.Ra.Sb]=this.qm;this.pa.Yv({wr:function(){return y.XN[f.Pb.Ra.Sb];}},{wr:function(){return y.XN[f.Pb.Ra.Fb];}});this.gq(this.IR);return !0;};c.prototype.hn=function(){var x;this.cf.set(f.ka.Af);null === (x=this.pa) || void 0 === x?void 0:x.rX("intrplay",m.Ud.hn);this.md.emit("underflow",{type:"underflow",pts:this.md.wc});this.gq(this.Be);};c.prototype.Wp=function(x,y){this.Wz.Wp(x,y);};c.prototype.open=function(){this.Bq || (this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Ga,"has access to asePlayer"),this.Bq=this.Ah=!0,this.pa.open(),this.debug.assert(this.Zv,"invalid start position relative to playgraph"),this.pa.YG(this.Zv),this.cf.set(f.ka.$c),this.gq(this.Be),this.pa.ofa(this.Ga),this.qHb());};c.prototype.play=function(){this.debug.assert(this.pa,"has access to asePlaygrah");this.debug.assert(this.Ga,"has access to asePlayer");0 !== this.pa.state && (this.Ga.resume(this.BM?[f.Pb.Ra.Fb]:void 0),this.cf.set(f.ka.Hc),this.md.emit("playing",{type:"playing",pts:this.md.wc}));};c.prototype.stop=function(){var x;this.cf.set(f.ka.vq);null === (x=this.Ga) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.md.emit("paused",{type:"paused",pts:this.md.wc});};c.prototype.flush=function(){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.aj,"has access to streamingEngine");this.Bq && this.cf.value !== f.ka.zi && this.cf.value !== f.ka.vq && this.stop();this.pa.rX("endplay",m.Ud.np);this.pa.Df();this.aj.kh.save();this.aj.Lm.save();};c.prototype.ws=function(x){var y;this.debug.assert(this.pa,"has access to asePlaygraph");y=f.S.mb(x);return (y=this.pa.kr(y,{A4a:!0,z4a:!0}))?this.pa.Da.wa[y.va].jc + Number(y.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.pK=function(x,y){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Sc,"has access to internalLogger");this.pa.Da.wa[x] || (x=this.dT(y));this.debug.V0(x,"has access to segmentId");x={va:x,offset:f.S.mb(y - this.pa.Da.wa[x].jc)};if(x=this.pa.MT(x))return x.V;!1;return y;};c.prototype.fga=function(x,y){var A,z,B;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ga,"has access to asePlayer");y && this.pa.Da.wa[y] || (y=null !== (A=this.dT(x)) && void 0 !== A?A:null === (z=this.Ga) || void 0 === z?void 0:z.Ki.va);return null === (B=this.pa.Dm(y,x)) || void 0 === B?void 0:B.Mc;};c.prototype.by=function(x){var y;y=void 0 === y?!0:y;this.Ah?Number.isFinite(x) && (this.debug.assert(this.Ga,"has access to asePlayer"),y?this.Ga.EW(x):this.Ga.usa(x)):this.fail("Must call open prior to drmReady");};c.prototype.V3=function(){var x;return null !== (x=this.Ga) && void 0 !== x && x.Vn?this.Ga.Yn(this.pa.Da.wa[this.Ga.Ki.va].$):!1;};c.prototype.ci=function(x){!1;return this.Ga?this.Ga.ci(f.S.mb(x)):(!1,!1);};c.prototype.vr=function(x,y){var A;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ga,"has access to asePlayer");y && this.pa.Da.wa[y] || (y=null !== (A=this.dT(x)) && void 0 !== A?A:this.Ga.Ki.va);this.debug.V0(y,"has access to segmentId");this.debug.assert(this.pa.Da.wa[y],"segment exists in playgraph map");x={va:y,offset:f.S.mb(x - this.pa.Da.wa[y].jc)};this.pa.YG(x);this.Ga.resume();this.cf.set(f.ka.$c);this.gq(this.Be);x=this.pa.Tra(x);this.debug.assert(x,"Valid position must be provided for seek");return x.offset.V;};c.prototype.addEventListener=function(x,y){this.events.addListener(x,y);return this;};c.prototype.removeEventListener=function(x,y){this.events.removeListener(x,y);return this;};c.prototype.ZN=function(x,y){var A;A={};this.pa.si((A[x]=y,A));};c.prototype.ps=function(x,y){var A,z;this.debug.assert(this.Sc,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ga,"has access to asePlayer");A=this.Tn().id;z=this.pa.mL(A,x);if(y){if(!z.q7a)return (this.Sc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== z.mM)return (!1,z.mM === x);this.pa.Ak(A,x,!1,y);return !0;}if(void 0 !== z.mM)return (!1,!1);z.eK && (this.Ga.reset(),this.pa.Ak(A,x,!1,y),this.Ga.resume(),this.cf.set(f.ka.$c),this.gq(this.Be));return ! !z.eK;};c.prototype.bn=function(){var x;this.debug.assert(this.Sc,"has access to internalLogger");x=this.md.wc;!1;this.md.emit("skipped",{type:"skipped",pts:x});return new f.SD(Promise.resolve()).Kra;};c.prototype.dT=function(x){var y,A,z,B,D,E,F,C,G;this.debug.assert(this.pa,"has acccess to asePlaygraph");this.debug.assert(this.Sc,"has acccess to internalLogger");y=this.pa.Da;A=[];z=Infinity;for(B in y.wa){D=y.wa[B];E=D.jc;D=D.Fc;F=E <= x;C=x < Number(null !== D && void 0 !== D?D:Infinity);!1;if(F && C)(!1,A.push(B));else if((E=Math.min(Math.abs(x - E),Math.abs(x - D)),E < z)){z=E;G=B;}}x=A[0] || G;this.debug.V0(x,"has access to locatedSegmentId");!1;return x;};c.prototype.qHb=function(){var x,y;x=this;this.debug.assert(this.j.Mb,"has acccess to mediaElement");y=this.j.Mb.la;this.debug.assert(y,"has acccess to videoElement");y.addEventListener("play",function(){x.cf.value === f.ka.Xh && (x.cf.set(f.ka.Hc),x.md.emit("playing",{type:"playing",pts:x.md.wc}));});y.addEventListener("pause",function(){x.cf.value === f.ka.Hc && (x.cf.set(f.ka.Xh),x.md.emit("paused",{type:"paused",pts:x.md.wc}));});};c.prototype.fail=function(x){var y;null === (y=this.pa) || void 0 === y?void 0:y.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.gq=function(x){var y,A,z,B,D,E,F,C;y=this;if(x !== this.IR && this.BH)this.kV=x;else {C=!0 === (null === (A=this.Ga) || void 0 === A?void 0:A.$y.value);A=(null === (z=this.pa) || void 0 === z?void 0:z.jf.value) === f.zc.Zj;null === (B=this.Ga) || void 0 === B?void 0:B.$y.removeListener(this.hZa);null === (D=this.pa) || void 0 === D?void 0:D.jf.removeListener(this.KNa);C && A?x():(this.hZa=function(){return y.gq(x);},this.KNa=function(){return y.gq(x);},null === (E=this.Ga) || void 0 === E?void 0:E.$y.addListener(this.hZa),null === (F=this.pa) || void 0 === F?void 0:F.jf.addListener(this.KNa));}};c.prototype.LH=function(x){var y,A,z;y=this;z=this.j.Ap(x);return Promise.resolve(null !== (A=z.sa) && void 0 !== A?A:this.j.nPb(z).then(function(){y.j.gOb(z);return z.sa;})).then(function(B){B=B.Tc;return {sa:B,Hi:B.ola && !B.TT,config:y.Cd,Fd:[].concat(ca(y.Fd))};});};c.prototype.nS=function(x,y){var A,z,B;this.debug.assert(this.aj,"has access to streamingEngine");A=this.ob.De(x).$;if(!this.Ir.has(A)){z=this.LH.bind(this);B={xea:void 0,bOa:function(){},equals:function(D){return D.$ === A && (y.da === D.da || !D.da || !y.da);},get Ir() {this.xea || (this.xea=z(x));return this.xea;},da:y.da,$:A,AB:!1};this.Ir.set(A,B);this.Cd.fy && this.aj.KC(B,{da:y.da,Iv:y.Iv,wB:y.ey});}};c.prototype.mL=function(x){var y;this.debug.assert(this.Ga,"has access to asePlayer");this.debug.assert(this.pa,"has access to asePlaygraph");return this.pa.mL(null === (y=this.Ga.Tn().P) || void 0 === y?void 0:y.id,x);};c.prototype.GEb=function(x){var y,A,z;y=this;A=x.$u;z=x.va;this.debug.assert(this.aj,"has access to streamingEngine");this.debug.assert(this.Sc,"has access to internalLogger");x=this.j.Ap(z);x=this.ob.B3(x);z=x.wa[z];this.debug.assert(z,"segment exists");this.Zv=t.KT(z.$,x,this.j.X,z.jc);A=Object.create(this.Cd,{ey:{value:A.ey}});this.cf=new v.Ac(f.ka.$g);this.pa=this.aj.HE(x,this.Cd.Y0a,A,{Is:function(B){return y.Ir.get(B);}});this.Wz=new f.UD(this.Sc);A=this.pa.dF(this.Wz);x=this.pa.cF();this.pa.Csa(x,A);this.pa.Yv({wr:function(){return y.XN[f.Pb.Ra.Sb];}},{wr:function(){return y.XN[f.Pb.Ra.Fb];}});this.BM=!1;};c.prototype.nha=function(){var x,y;x=this;this.debug.assert(this.aj,"has access to streamingEngine");y=Object.create(this.Cd,{Fd:{value:[].concat(ca(this.Fd))},CT:{value:function(){return x.y3();}}});this.md=Object.create(new l.EventEmitter(),{wc:{get:function(){x.debug.lfa(x.j.mediaTime.value,"has access to mediaTime.value");return f.S.mb(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},BT:{value:function(){x.debug.assert(x.j.Mb,"has access to mediaElement");return x.j.Mb;}}});this.Ga=this.aj.ULa(this.md,y);};c.prototype.y3=function(){this.Oi || (this.Oi=new f.platform.MediaSource(this.md),this.Oi.Yb || (this.Oi.Yb=f.platform.MediaSource.Yb));return this.Oi;};Va.Object.defineProperties(c.prototype,{BH:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.qm;}},Ib:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.aj,"has access to streamingEngine");return this.aj.Ib;}}});b.lva=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.nfa=void 0;c=a(18);b.nfa=function(f){var l,m,d,g;l=f.Jj;m=f.loadTime;f=f.PRa;d=c.ya(m)?m:0;g=l[f.target] || ({});l[f.target] !== g && (l[f.target]=g);Object.entries(f.fields).forEach(function(h){var k,n,q,p;k=aa(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)g[h]=k;else {n=k.type;if("count" === n)(void 0 === g[h] && (g[h]=0),++g[h]);else if(void 0 !== k.value){if("array" === n){n=g[h];q=k.adjust;p=k.value;n || (n=g[h]=[]);q && 0 < q.length && q.forEach(function(t){p[t]-=d || 0;});n.push(p);}else g[h]="sum" === n?(g[h] || 0) + k.value:k.value;}else g[h]=k;}});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.KT=void 0;c=a(52);f=a(21);b.KT=function(l,m,d,g){return m.wa[m.Te].jc === g?(l=c.eha(m,l,c.S.mb(d)),f.hb(l,"has valid start position relative to playgraph"),l):{va:m.Te,offset:c.S.ab};};},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p,t,u,v,w,x,y,A){var z;z=this;this.HWb=n;this.j=q;this.id=p;this.height=t;this.width=u;this.jNb=v;this.kNb=w;this.size=x;this.Ss=y;this.urls=A;this.type=f.Wh.Sta;this.retry=!0;this.state=g.Ho.mZ;this.mh={};this.X0={};this.VOb=function(B){if(B.W)try{z.data=z.HWb.parse(B.content);z.state=g.Ho.qD;z.log.trace("TrickPlay parsed",{Images:z.data.images.length},z.mh);z.j.fireEvent(h.Z.pX);}catch(D){z.state=g.Ho.hDa;z.log.error("TrickPlay parse failed.",D);}else (z.state=g.Ho.mZ,z.log.error("TrickPlay download failed.",k.Pr(B),z.mh));};this.log=m.ih(q,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.NHa=void 0;f=a(81);l=a(13);m=a(7);d=a(72);g=a(487);h=a(17);k=a(3);c.prototype.zAb=function(n){if(this.data && (this.Ss && (n+=this.Ss),n=Math.floor(n / this.data.header.T5a),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.T5a,height:this.height,width:this.width,pixelAspectHeight:this.jNb,pixelAspectWidth:this.kNb};};c.prototype.F3=function(){switch(this.state){case g.Ho.qD:return "downloaded";case g.Ho.LOADING:return "loading";case g.Ho.pP:return "downloadfailed";case g.Ho.hDa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.DCb();n?(this.state=g.Ho.LOADING,this.qvb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.DCb=function(){var n,q,p;n=this;q=Object.keys(this.urls).find(function(t){return (n.X0[n.urls[t]] || 0) <= l.config.DWb;});if(q){p=this.urls[q];(p in this.X0)?this.X0[p]++:this.X0[p]=1;return {url:p,s1:q};}};c.prototype.qvb=function(n){this.log.trace("Downloading",n.url,this.mh);n={responseType:d.XT,pc:this.Sja(n.s1),url:n.url,track:this};this.j.g4.download(n,this.VOb);};c.prototype.Sja=function(n){return this.j.Tk.find(function(q){return q && q.id === n;});};b.NHa=c;},function(r,b,a){var f;function c(l,m,d,g){this.cia=l;this.debug=m;this.Ja=d;this.j=g;this.H6=[];this.X5={};this.eia={};this.hja=!1;this.w5a=1;this.Jva=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.Ixa=void 0;f=a(4);a(17);a(18);a(72);c.prototype.register=function(l,m){this.debug.assert(!(0 <= this.H6.indexOf(l)),"panel already registered");this.X5[l]=m;this.H6.push(l);};c.prototype.r_a=function(l){var m;m=this;this.eia[l]=!0;this.hja || (this.hja=!0,setTimeout(function(){return m.cyb();},0));};c.prototype.iBb=function(l){return (l=this.X5[l])?l():void 0;};c.prototype.p3=function(){var l;l=this.j.O6;return l?l.p3():[];};c.prototype.addEventListener=function(l,m){this.cia.addListener(l,m);this.X5[l] && this.r_a(l);};c.prototype.removeEventListener=function(l,m){this.cia.removeListener(l,m);};c.prototype.getTime=function(){return this.Ja.Wb().ea(f.ma);};c.prototype.cyb=function(){this.hja=!1;for(var l=this.H6.length,m;l--;){m=this.H6[l];this.eia[m] && (this.eia[m]=!1,this.cia.qc(m + "changed",{getModel:this.X5[m]}));}};b.Ixa=c;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q){var p;p=this;this.Tl=n;this.Uq=q;this.c6a=function(t){var u,v,w,x,y,A,z;u=p.w5a++;v=t.request.lF || "dl";w=p.gVa(v,"start");if(w){x=t.request.az;y=x.stream.O.ko;x=aa(x.stream.O.yh).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.P.id,!p.S4a.has(y))){A=p.zUa(y);z=t.nr;p.Tl.mark(w,A,z?v + "-" + z + "-" + u:v);t.Iea(function(){var B,D;B=p.gVa(v,"end");D=z?v + "-" + z + "-" + u:v;B && p.Tl.mark(B,A,D);});}}};this.w5a=0;this.S4a=new Set();this.esa=new Map();q.RS && this.bZb();}Object.defineProperty(b,"__esModule",{value:!0});b.ECa=void 0;r=a(1);f=a(0);l=a(65);m=a(70);d=a(4);g=a(72);a=a(39);h={start:{video:l.Fa.AO,audio:l.Fa.wO},end:{video:l.Fa.zO,audio:l.Fa.vO}};c.prototype.AUa=function(n){var p,t,u,v,w,x,y,A;function q(z){return d.timestamp(p.fMa(d.timestamp(z),n,!0));}p=this;t=new Set();u=n.cd;v=n.da;w=void 0 === n.K4a?null:n.K4a;x=n.va;y=this.Tl.fUa(v);A=x && this.zUa(x);A && y.push.apply(y,ca(this.Tl.fUa(A)));this.Tl.n2a(n.da);A && this.Tl.n2a(A);x && this.S4a.add(x);x=[];("pr_ats" in u) && x.push({name:l.Fa.HZ,Dr:q(u.pr_ats),da:v,Cj:"request-pre-manifest"});("ats" in u) && x.push({name:l.Fa.FZ,Dr:q(u.ats),da:v,Cj:"request-manifest"});("pr_at" in u) && x.push({name:l.Fa.GZ,Dr:q(u.pr_at),da:v,Cj:"request-pre-manifest"});("at" in u) && x.push({name:l.Fa.EZ,Dr:q(u.at),da:v,Cj:"request-manifest"});("lg" in u) && x.push({name:l.Fa.DZ,Dr:q(u.lg),da:v,Cj:"request-license"});("lr" in u) && (x.push({name:l.Fa.CZ,Dr:q(u.lr),da:v,Cj:"request-license"}),x.push({name:l.Fa.WX,Dr:q(u.lr),da:v,Cj:"apply-license"}));("ld" in u) && x.push({name:l.Fa.VX,Dr:q(u.ld),da:v,Cj:"apply-license"});("tt_start" in u) && x.push({name:l.Fa.yO,Dr:q(u.tt_start),da:v,Cj:"request-timed-text"});("tt_comp" in u) && x.push({name:l.Fa.xO,Dr:q(u.tt_comp),da:v,Cj:"request-timed-text"});return x.concat(y).map(function(z){return p.$Vb(z,n);}).filter(function(z){return z.ts <= (null !== w && void 0 !== w?w:z.ts)?("end" === z.step && t.add(z.eventId),!0):!1;}).filter(function(z){return "start" !== z.step || t.has(z.eventId)?!0:!1;}).sort(function(z,B){return z.ts - B.ts;}).reduce(function(z,B){var D;D=B.eventName;delete B.eventName;D && (z[D]=B);return z;},{});};c.prototype.Jlb=function(n,q,p){return (void 0 === p?0:p)?n.ea(d.ma) + q.Ul.ea(d.ma):n.ea(d.ma) - q.Ul.ea(d.ma);};c.prototype.fMa=function(n,q,p){p=void 0 === p?!1:p;if(q.am)if(p)n.ea(d.ma) + q.am;else return n.ea(d.ma) - q.am;return this.Jlb(n,q,p);};c.prototype.$Vb=function(n,q){var p,t;p=n.Cj;t=n.name;return {eventName:this.wKb(t,p),eventId:p || t,ts:this.fMa(n.Dr,q),comp:this.sT(t),cat:this.Gzb(t),step:this.pCb(t)};};c.prototype.wKb=function(n,q){switch(n){case l.Fa.yO:case l.Fa.xO:case l.Fa.wO:case l.Fa.vO:case l.Fa.AO:case l.Fa.zO:return n + "-" + q;default:return n;}};c.prototype.sT=function(n){switch(n){case l.Fa.HZ:case l.Fa.GZ:case l.Fa.FZ:case l.Fa.EZ:return "manifest";case l.Fa.DZ:case l.Fa.CZ:case l.Fa.Fba:case l.Fa.Eba:case l.Fa.LY:case l.Fa.KY:case l.Fa.WX:case l.Fa.VX:return "license";case l.Fa.yO:case l.Fa.xO:case l.Fa.wO:case l.Fa.vO:case l.Fa.AO:case l.Fa.zO:case l.Fa.q9:case l.Fa.p9:return "buffering";case l.Fa.Maa:case l.Fa.Laa:return "playback";default:return null;}};c.prototype.Gzb=function(n){switch(n){case l.Fa.HZ:case l.Fa.GZ:case l.Fa.FZ:case l.Fa.EZ:return "aws";case l.Fa.DZ:case l.Fa.CZ:return "mixed";case l.Fa.Maa:case l.Fa.Laa:case l.Fa.Fba:case l.Fa.Eba:case l.Fa.LY:case l.Fa.KY:case l.Fa.WX:case l.Fa.VX:case l.Fa.q9:case l.Fa.p9:return "device";case l.Fa.yO:case l.Fa.xO:case l.Fa.wO:case l.Fa.vO:case l.Fa.AO:case l.Fa.zO:return "cdn";default:return null;}};c.prototype.pCb=function(n){switch(n){case l.Fa.HZ:case l.Fa.Maa:case l.Fa.FZ:case l.Fa.DZ:case l.Fa.q9:case l.Fa.yO:case l.Fa.wO:case l.Fa.AO:case l.Fa.Fba:case l.Fa.LY:case l.Fa.WX:return "start";case l.Fa.GZ:case l.Fa.Laa:case l.Fa.EZ:case l.Fa.CZ:case l.Fa.Eba:case l.Fa.KY:case l.Fa.VX:case l.Fa.p9:case l.Fa.xO:case l.Fa.vO:case l.Fa.zO:return "end";default:return null;}};c.prototype.gVa=function(n,q){if((n in h[q]))return h[q][n];};c.prototype.fXb=function(){g.Ff.removeEventListener(g.d4,this.c6a);};c.prototype.bZb=function(){this.fXb();g.Ff.addEventListener(g.d4,this.c6a);};c.prototype.zUa=function(n){var q;if(this.esa.has(n))return this.esa.get(n);q=Date.now();this.esa.set(n,q);return q;};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(m.vP)),r.__param(1,f.l(a.em))],k);b.ECa=k;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D,E,F,C,G,J,K,H,L,R,I,Q,N,M,P,S;Object.defineProperty(b,"__esModule",{value:!0});b.NOa=void 0;r=a(0);c=a(451);f=a(1154);l=a(118);m=a(1155);d=a(463);g=a(1156);h=a(465);k=a(1157);n=a(466);q=a(1158);p=a(264);t=a(1159);u=a(80);v=a(1160);w=a(1161);x=a(42);y=a(3);A=a(1162);z=a(1163);B=a(1164);D=a(51);E=a(1165);F=a(278);C=a(1166);G=a(1167);J=a(1168);K=a(447);H=a(1169);L=a(1170);R=a(1171);I=a(336);Q=a(1172);N=a(71);M=a(520);P=a(1173);S=a(1174);b.NOa=new r.ad(function(ea){ea(D.gm).to(E.HDa);ea(c.WDa).to(f.VDa);ea(F.Vaa).to(C.CDa);ea(K.EDa).to(H.DDa);ea(G.Ydb).to(J.$Da);ea(l.Yaa).to(m.XDa);ea(M.YDa).uf(function(qa){return function(){var wa;wa=qa.$a.get(N.qu);return wa && wa.m7a?qa.$a.resolve(S.rEa):qa.$a.resolve(P.ZDa);};});ea(d.BDa).to(g.ADa);ea(h.oEa).to(k.nEa);ea(n.QDa).to(q.PDa);ea(p.Xaa).to(t.RDa);ea(u.SGa).to(v.RGa);ea(u.WGa).to(w.VGa);ea(u.EAa).to(A.DAa);ea(u.NGa).to(z.MGa);ea(u.Aya).to(B.zya);ea(R.Zdb).to(L.aEa);ea(I.ODa).to(Q.NDa);ea(u.B$).uf(function(qa){return function(wa){switch(wa){case u.Bo.start:return qa.$a.get(u.SGa);case u.Bo.stop:return qa.$a.get(u.WGa);case u.Bo.nU:return qa.$a.get(u.EAa);case u.Bo.splice:return qa.$a.get(u.NGa);case u.Bo.WS:return qa.$a.get(u.Aya);}throw new x.ed(y.M.ldb,void 0,void 0,void 0,void 0,"The event key was invalid - " + wa);};});});},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.Wbb,1,m.Ai.fYa,m.Ai.fYa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(h,k){var n;n=this;return this.send(h,"/" + this.name,k).then(function(q){return q.result;}).catch(function(q){throw n.Gm(q);});};c.prototype.up=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.VDa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u,v,w,x,y){u=d.Uh.call(this,u,l.M.naa,3,m.Ai.sa,m.Ai.sa) || this;u.platform=v;u.Kna=w;u.VGb=x;u.kIb=y;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.XDa=void 0;r=a(1);f=a(118);l=a(3);m=a(68);a(181);d=a(74);g=a(51);h=a(34);k=a(39);n=a(143);q=a(264);p=a(0);a=a(520);ka(c,d.Uh);c.prototype.Rf=function(u,v){var w,x;w=this;this.h0=v.kv === f.nn.KD?"prefetch/manifest":m.Ai.sa;x=v.kv === f.nn.Jba?k.lu.tFa:k.lu.KP;return this.kIb().transform(v,x).then(function(y){var A,z;y=aa(y);A=y.next().value;z=y.next().value;!1;z.cv && (w.h0=v.kv === f.nn.KD?"prefetch/licensedManifest":"licensedManifest");return w.send(u,z.Uk,A,void 0,void 0,x).then(function(B){var D;B=w.Kna.create(B.result);D=B.Tc.YC.map(function(E){return E.hg;}).filter(Boolean);z.cv && (0 < D.length?(D=w.VGb.h6a(D),z.cv.NLa(D),B.cv=z.cv,B.RWa=v.kv === f.nn.KD,B.QWa=!0):z.cv.close());!1;return B;});}).catch(function(y){!1;throw w.Gm(y);});};c.prototype.up=function(){return Promise.reject(Error("Links are not supported with manifest command"));};t=c;t=r.__decorate([p.R(),r.__param(0,p.l(g.gm)),r.__param(1,p.l(h.Kk)),r.__param(2,p.l(n.rP)),r.__param(3,p.l(q.Xaa)),r.__param(4,p.l(a.YDa))],t);b.XDa=t;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.pI,3,m.Ai.hg,m.Ai.hg) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.up=function(h,k,n){var q;q=this;k=k.zT(n.SXa).href;this.h0="ldl" === n.SXa?"prefetch/license":m.Ai.hg;return this.send(h,k,n.inputs,"drmSessionId").then(function(p){p=p.result;q.fpb(p);return p;}).catch(function(p){throw q.Gm(p);});};c.prototype.fpb=function(h){h.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.ADa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.Aba,3,m.Ai.hg,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(h,k){var n;n=this;return this.send(h,"/bundle",k).then(function(q){return q.result;}).catch(function(q){throw n.Gm(q);});};c.prototype.up=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.nEa=g;},function(r,b,a){var f,l,m;function c(d){this.xa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;r=a(1);f=a(0);l=a(40);m=a(4);c.prototype.wWb=function(d){var g;g=this.xa.mf.ea(m.sn);return {inputs:d.Aj.map(function(h){return {drmSessionId:h.sessionId,clientTime:g,challengeBase64:h.dataBase64,xid:d.da.toString(),mdxControllerEsn:d.KU};}),SXa:"standard" === d.Tf.toLowerCase()?"license":"ldl"};};c.prototype.zWb=function(d){var g,h;g=this;h=[];return d.fe.map(function(k){h.push(k.id);return {url:g.Znb(k.bG,k.xU),echo:"drmSessionId",params:{drmSessionId:k.id,xid:d.da.toString()}};});};c.prototype.Znb=function(d,g){return "/releaseLicense?drmLicenseContextId=" + d + (g?"&licenseId=" + g:"");};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.vi))],a);b.PDa=a;},function(r,b,a){var f,l,m;function c(d,g){this.Td=d;this.Ax=g;}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(1);f=a(0);l=a(28);a=a(35);c.prototype.h6a=function(d){var g,h;g=this;h=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return g.Td.xV(k.substring(k.indexOf("?") + 1));});return {W:!0,fe:d.map(function(k,n){return {id:k.drmSessionId,bG:h[n].drmlicensecontextid,xU:h[n].licenseid};}),Mi:d.map(function(k){return {data:g.Ax.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.Kf)),r.__param(1,f.l(a.Th))],m);b.RDa=m;},function(r,b,a){var f,l,m,d,g;function c(h){return m.jq.call(this,h,l.M.Geb,d.Bo.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RGa=void 0;r=a(1);f=a(0);l=a(3);m=a(158);d=a(80);a=a(51);ka(c,m.jq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.RGa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.jq.call(this,h,l.M.kGa,d.Bo.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VGa=void 0;r=a(1);f=a(0);l=a(3);m=a(158);d=a(80);a=a(51);ka(c,m.jq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.VGa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.jq.call(this,h,l.M.baa,d.Bo.nU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;r=a(1);f=a(0);l=a(3);m=a(158);d=a(80);a=a(51);ka(c,m.jq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.DAa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.jq.call(this,h,l.M.iGa,d.Bo.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(1);f=a(0);l=a(3);m=a(158);d=a(80);a=a(51);ka(c,m.jq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.MGa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.jq.call(this,h,l.M.kab,d.Bo.WS,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zya=void 0;r=a(1);f=a(0);l=a(3);m=a(158);d=a(80);a=a(51);ka(c,m.jq);c.prototype.h1=function(h){return Object.assign(Object.assign({},m.jq.prototype.h1.call(this,h)),{action:h.action});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.zya=g;},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t,u,v,w,x,y,A,z){this.eh=p;this.Ff=t;this.Kh=u;this.dvb=v;this.LF=w;this.SXb=x;this.Eha=y;this.RQb=A;this.kF=z;}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;r=a(1);f=a(0);l=a(120);m=a(71);d=a(485);g=a(482);h=a(92);k=a(115);n=a(323);q=a(93);a=a(85);c=r.__decorate([f.R(),r.__param(0,f.l(l.RH)),r.__param(1,f.l(k.mA)),r.__param(2,f.l(m.qu)),r.__param(3,f.l(g.KDa)),r.__param(4,f.l(h.lA)),r.__param(5,f.l(n.UHa)),r.__param(6,f.l(q.zY)),r.__param(7,f.l(d.qEa)),r.__param(8,f.l(a.ww))],c);b.HDa=c;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.E8a,2,m.Ai.bind,m.Ai.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(h,k,n){var q;q=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Gm(p);});};c.prototype.up=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.CDa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ydb="PboPairCommandSymbol";},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.cdb,2,m.Ai.f0a,m.Ai.f0a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Da=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(h,k,n){var q;q=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Gm(p);});};c.prototype.up=function(){return Promise.reject(Error("Links are unsupported with pair"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.$Da=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.F8a,2,m.Ai.bind,m.Ai.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(h,k,n){var q;q=this;return this.send(h,"/bindDevice",k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Gm(p);});};c.prototype.up=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.DDa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.wdb,1,m.Ai.ping,m.Ai.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aEa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(h,k,n){var q;q=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Gm(p);});};c.prototype.up=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.aEa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zdb="PboPingCommandSymbol";},function(r,b,a){var f,l,m,d,g;function c(h){return d.Uh.call(this,h,l.M.Bab,2,m.Ai.sa,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NDa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(51);ka(c,d.Uh);c.prototype.Rf=function(h,k){var n;n=this;return this.send(h,"/generateScreenshots",k).then(function(q){return q.result;}).catch(function(q){throw n.Gm(q);});};c.prototype.up=function(h,k,n){var q;q=this;return this.send(h,k.zT("generateScreenshots").href,n).then(function(p){return p.result;}).catch(function(p){throw q.Gm(p);});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],g);b.NDa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v,w,x;function c(y,A,z,B,D,E,F,C,G,J){this.Kh=y;this.platform=A;this.config=z;this.Rob=B;this.zNb=D;this.Ql=E;this.XR=F;this.xa=C;this.F5=G;this.xm=J;}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;r=a(1);f=a(0);l=a(118);m=a(14);d=a(367);g=a(356);h=a(519);k=a(79);n=a(34);q=a(40);p=a(4);t=a(162);u=a(71);v=a(325);w=a(25);x=a(59);c.prototype.transform=function(y,A){var z,B,D,E,F,C,G,J,K,H,L,R,I;z=this;C=y.ib;G=Object.assign({},C.Z0,C.po);J={};K=y.$;J[K]={unletterboxed:! !G.preferUnletterboxed};H=this.config();L=H.dYb?30:25;R=H.cq?this.Ql.iAb():Promise.resolve(this.F5.Js());I=null === (D=null === (B=H.Zta) || void 0 === B?void 0:B[null === C || void 0 === C?void 0:C.ke]) || void 0 === D?void 0:D.jw;B=null === (F=null === (E=H.Zta) || void 0 === E?void 0:E[null === C || void 0 === C?void 0:C.ke]) || void 0 === F?void 0:F.fB;return Promise.all([this.xm.$Ua(B),this.xm.bVa(I),this.xm.nL(),this.xm.A3(),this.Hzb(y.da,A),this.mAb(y),R]).then(function(Q){var N,M,P,S,ea,qa;N=aa(Q);M=N.next().value;P=N.next().value;S=N.next().value;ea=N.next().value;qa=N.next().value;Q=N.next().value;N=N.next().value;M=(M || []).concat(P || []).concat(z.config().cw).concat(["BIF240","BIF320"]).filter(Boolean);ea=ea?ea.DEVICE_SECURITY_LEVEL:void 0;P="postplay" === C.ke?!0:! !G.isUIAutoPlay;S={type:"standard",manifestVersion:z.Kh.xRa?"v2":"v1",viewableId:K,profiles:M,flavor:y.kv,drmType:N,drmVersion:L,usePsshBox:!0,isBranching:! !y.ib.al,useHttpsStreams:!0,supportsUnequalizedDownloadables:z.config().oVb,imageSubtitleHeight:d.Sba.FUa(),uiVersion:z.Kh.Oz,uiPlatform:z.Kh.M8,clientVersion:z.platform.version,supportsPreReleasePin:z.config().Rq.jVb,supportsWatermark:z.config().Rq.kVb,showAllSubDubTracks:z.config().Rq.NTb || ! !G.showAllSubDubTracks,packageId:z.BBb(C),deviceSecurityLevel:ea,videoOutputInfo:S,titleSpecificData:J,preferAssistiveAudio:! !G.assistiveAudioPreferred,preferredTextLocale:G.preferredTextLocale,preferredAudioLocale:G.preferredAudioLocale,isUIAutoPlay:P,challenge:qa,isNonMember:z.Kh.wma,pin:C.G0a,desiredVmaf:z.config().f7a?z.config().uQa:z.config().vQa,desiredSegmentVmaf:z.config().f7a?z.config().uQa:z.config().vQa,requestSegmentVmaf:z.config().WQb};C.TRa && (S.extraParams=C.TRa);C.tQa && (S.desiredDownloadables=C.tQa);C.yra && (S.requestReference=C.yra);qa={Uk:Q?"licensedManifest":"manifest",cv:null === Q || void 0 === Q?void 0:Q.Ob};Q && (Q={drmSessionId:Q.Ob.qy() || "session",clientTime:z.xa.O7.ea(p.sn),challengeBase64:Q.oga},S.challenges={"default":[Q]},S.profileGroups=[{name:"default",profiles:M}],S.licenseType=y.Tf == x.Vh.ln?"limited":"standard",y.da && (S.xid=y.da.toString()));z.Kh.oRa && y.kv === l.nn.Jba && (S.maxSupportedLanguages=2);return [S,qa];});};c.prototype.BBb=function(y){if(this.config().g7.enabled){if(void 0 !== y.Jp)return y.Jp;if(void 0 !== this.config().g7.Jp)return Number(this.config().g7.Jp);}};c.prototype.Hzb=function(y,A){var z;z=this;return this.Rob.fTa(A).then(function(B){var D;D=y && z.zNb.IBb(y);D && D.Yo("cad");return B;});};c.prototype.mAb=function(y){var A;if(void 0 === y.Tf || !this.config().cq)return Promise.resolve(void 0);A=y.Tf === x.Vh.uq && this.Kh.z1;return y.Tf === x.Vh.ln && this.Kh.pRa || A?this.XR.Pka(y.Tf):Promise.resolve(void 0);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(u.qu)),r.__param(1,f.l(n.Kk)),r.__param(2,f.l(m.Vc)),r.__param(3,f.l(g.lwa)),r.__param(4,f.l(h.nba)),r.__param(5,f.l(k.ku)),r.__param(6,f.l(t.iY)),r.__param(7,f.l(q.vi)),r.__param(8,f.l(v.uaa)),r.__param(9,f.l(w.vw))],a);b.ZDa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q,p){this.platform=k;this.config=n;this.XR=q;this.xm=p;}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;r=a(1);f=a(0);l=a(14);m=a(34);d=a(162);g=a(25);h=a(59);c.prototype.transform=function(k){var n,q;n=this;q=k.ib;return Promise.all([this.xm.$Ua(),this.xm.bVa(),this.XR.Pka(h.Vh.uq)]).then(function(p){var t,u;t=aa(p);p=t.next().value;u=t.next().value;t=t.next().value;return [{viewableId:k.$,packageId:q.Jp,assetId:q.mfa,challenge:t.oga,audioProfiles:p,textProfiles:n.config().cw,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u,audioLanguages:q.Mmb,textLanguages:q.HVb,videoLanguages:q.v7a?[q.v7a]:void 0,requestReference:q.yra},{cv:null === t || void 0 === t?void 0:t.Ob,Uk:"studioManifest"}];});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.Kk)),r.__param(1,f.l(l.Vc)),r.__param(2,f.l(d.iY)),r.__param(3,f.l(g.vw))],a);b.rEa=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(0);c=a(214);f=a(483);l=a(1176);m=a(1177);d=a(1178);g=a(39);b.transports=new r.ad(function(h){h(c.XZ).to(d.IHa).aa();h(f.LCa).to(l.KCa);h(f.PGa).to(m.OGa);h(f.JHa).uf(function(k){return function(n){var q;return k.$a.get(c.XZ).W7(null !== (q=null === n || void 0 === n?void 0:n.bKb) && void 0 !== q?q:g.lu.KP)?k.$a.get(f.LCa):k.$a.get(f.PGa);};});});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,q,p,t){var u;u=this;this.qC=q;this.receiver=p;this.profile=t;this.log=n.Db("MslTransport");this.qC().then(function(v){return u.b6=v;});}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;r=a(1);f=a(0);l=a(8);m=a(141);d=a(4);g=a(189);a=a(89);h={license:!0};c.prototype.send=function(n,q){var p,t;p=this;t={LZa:Object.assign({Ff:n.Ff,log:n.log,profile:this.profile},n.znb),method:n.Uk,url:n.url.href,body:JSON.stringify(q),timeout:n.timeout.ea(d.ma),jYb:this.profile,Z7b:!h[n.Uk],uKb:! !h[n.Uk],ik:!0,z7:n.Mra,headers:n.headers};!1;return this.qC().then(function(u){return u.send(t).then(function(v){p.receiver.PM({command:n.Uk,inputs:q,outputs:v});return v;}).catch(function(v){var w;if(!v.error)throw (v.kc=v.oa || v.kc,p.receiver.PM({command:n.Uk,inputs:q,outputs:v}),v);w=v.error;w.HC=v.HC;p.log.error("Error sending MSL request",{mslCode:w.Fv,subCode:w.kc,data:w.data,message:w.message});p.receiver.PM({command:n.Uk,inputs:q,outputs:w});throw w;});});};c.prototype.aha=function(){var n;return {userTokens:null === (n=this.b6) || void 0 === n?void 0:n.XU.getUserIdTokenKeys()};};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(l.Kb)),r.__param(1,f.l(m.wP)),r.__param(2,f.l(g.yZ)),r.__param(3,f.l(a.MP))],k);b.KCa=k;},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.receiver=k;this.Ff=n;this.log=h.Db("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(1);f=a(0);l=a(4);m=a(8);d=a(189);a=a(115);c.prototype.send=function(h,k){var n,q;n=this;q={url:h.url.href,lF:"nq-" + h.Uk,iqa:JSON.stringify(k),E1:h.timeout.ea(l.ma),headers:h.headers,withCredentials:!0};!1;return new Promise(function(p,t){n.Ff.download(q,function(u){u.W?p(u):t(u);});}).then(function(p){p={status:"success",body:p.content};n.receiver.PM({command:h.Uk,inputs:k,outputs:p});return p;}).catch(function(p){var t;if(!p.error)throw (p.kc=p.oa || p.kc,n.receiver.PM({command:h.Uk,inputs:k,outputs:p}),p);t=p.error;t.HC=p.HC;n.log.error("Error sending SSL request",{subCode:t.kc,data:t.content,message:t.message});n.receiver.PM({command:h.Uk,inputs:k,outputs:t});throw t;});};c.prototype.aha=function(){return {};};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(m.Kb)),r.__param(1,f.l(d.yZ)),r.__param(2,f.l(a.mA))],g);b.OGa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return l.gf.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(1);f=a(0);l=a(45);m=a(38);d=a(44);g=a(39);ka(c,l.gf);c.prototype.W7=function(h){var k,n;k=this.p7a;n=this.mMa;switch(h){case g.lu.KP:return k;case g.lu.tFa:return k && !n;case g.lu.Ucb:return !1;}};Va.Object.defineProperties(c.prototype,{p7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},mMa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.bd,"usesMsl")],a.prototype,"p7a",null);r.__decorate([d.config(d.bd,"allowRequestsWithoutMsl")],a.prototype,"mMa",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.jm))],a);b.IHa=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.cl=void 0;r=a(0);c=a(498);f=a(1180);b.cl=new r.ad(function(l){l(c.RAa).to(f.QAa);});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u,v){this.oF=q;this.mp=p;this.config=t;this.aM=u;this.qd=v;}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;r=a(1);f=a(0);l=a(119);m=a(1181);d=a(1182);g=a(69);h=a(14);k=a(134);a=a(116);c.prototype.create=function(q,p,t){return q?new m.SAa(this.config(),this.mp,this.qd,p,t,this.oF,this.aM()):new d.MAa(this.config,this.qd,p,t);};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.CY)),r.__param(1,f.l(g.gu)),r.__param(2,f.l(h.Vc)),r.__param(3,f.l(k.sP)),r.__param(4,f.l(a.VD))],n);b.QAa=n;},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t,u,v,w,x,y){v=k.uO.call(this,v,w) || this;v.config=p;v.mp=t;v.qd=u;v.oF=x;v.ioa=y;v.log=l.ih(v.j,"LicenseBroker");v.vU=new Set();v.hoa=!1;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;r=a(1);f=a(3);l=a(7);m=a(314);d=a(4);g=a(0);h=a(269);k=a(521);n=a(59);q=a(17);ka(c,k.uO);c.prototype.z6=function(){var p,t;p=this;t=this.j.ga;this.vU.has(t.K) || (this.vU.add(t.K),this.jmb(t).catch(function(){return p.z2a(t);}).then(function(){return p.EMa(t);}).catch(function(u){return p.DMa(t,u);}).catch(function(u){return p.Md(u.code,u,u.xd);}));};c.prototype.jmb=function(p){var t;t=this;return Promise.all([this.qd.bTa(p.K),this.oF()]).then(function(u){var v,w;u=aa(u);v=u.next().value;w=u.next().value;return v.P7.then(function(x){var y;if("manifest" === v.source){y=t.aUa(p);w.GZa(y,x);}return x;}).then(function(x){return t.R0(x,p,v.source);});}).catch(function(u){t.log.warn("eme not in cache",u);throw u;});};c.prototype.R0=function(p,t,u){this.q1a(p,t);t.RE=u;this.ioa.setMediaKeys(p.mediaKeys);return p.efa();};c.prototype.wyb=function(p){var t;t={};p.forEach(function(u){t[m.XQa(u.PU)]=u.time.ea(d.ma);});return t;};c.prototype.q1a=function(p,t){var u;u=this;t.Ye=p;p.FSb(function(v){u.Md(v.code,v,v.xd);});};c.prototype.EMa=function(p){this.log.info("Successfully applied license for xid: " + p.da + ", viewable: " + p.K + ", segment: " + p.va);this.Ay(p);this.hoa?this.M2(p.K):this.setMediaKeys(p);};c.prototype.DMa=function(p,t){this.Ay(p);throw t;};c.prototype.Ay=function(p){p.Ye && p.Ay(this.wyb(p.Ye.cd));};c.prototype.aUa=function(p){var t;return {type:this.s3(!1),initData:p.Ft.map(function(u){return l.Kq(u);}),context:{la:this.Mb.la,Ct:null === (t=p.Rh.value) || void 0 === t?void 0:t.Ct},ji:{K:p.K,da:p.da,Ti:p.Ti,Jl:p.Jl,Hj:p.sa.Hj}};};c.prototype.z2a=function(p){var t;t=this;return this.oF().then(function(u){var v;v=t.aUa(p);t.vU.add(p.K);return u.hg(v,t.ioa).then(function(w){t.q1a(w,p);t.j.fireEvent(q.Z.TL,{K:p.K});return w.efa();});});};c.prototype.setMediaKeys=function(p){var t;t=this;if(this.hoa)this.log.trace("Media Keys already set");else try{this.Mb.la?this.Mb.la.setMediaKeys(p.Ye.mediaKeys).then(function(){t.M2(p.K);t.hoa=!0;}).catch(function(u){u=t.kVa(u);t.Md(f.M.xI,u,u.Ze);}):this.M2(p.K);}catch(u){this.Md(f.M.xI,u,void 0);}};c.prototype.vz=function(){var p,t;p=this;t=this.j.ga.Ye;return t?this.oF().then(function(u){return u.release(t,p.ioa).then(function(v){p.log.trace("Successfully released the license");return v.close();}).catch(function(v){p.log.error("Unable to release the license",v);});}):Promise.resolve();};c.prototype.y2a=function(p){var t;t=this;p=void 0 === p?this.j:p;return this.z2a(p).then(function(){return t.EMa(p);}).catch(function(u){return t.DMa(p,u);});};c.prototype.s3=function(p){return this.mp.iT?n.Vh.ln:p?n.Vh.ln:n.Vh.uq;};Va.Object.defineProperties(c.prototype,{tC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Nl:{configurable:!0,enumerable:!0,get:function(){return this.config.Nl;}}});a=c;r.__decorate([h.sU],a.prototype,"tC",null);a=r.__decorate([g.R()],a);b.SAa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t;function c(u,v,w,x){w=q.uO.call(this,w,x) || this;w.config=u;w.qd=v;w.log=l.ih(w.j,"LegacyLicenseBroker");w.Nl=w.config().Nl;w.config().w1a?d.YWa()?w.W8=!0:w.log.error("Promise based eme requested but platform does not support it",{browserua:g.sA}):w.W8=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;r=a(1);f=a(3);l=a(7);m=a(139);d=a(49);g=a(11);h=a(0);k=a(269);n=a(34);q=a(521);p=a(59);ka(c,q.uO);c.prototype.xPa=function(u){var v;v=void 0 === v?this.j:v;return new this.gr.cI(u,function(w){return v.iS.CF(w);},function(w){return v.iS.release(w);},{$e:!1,pk:!1});};c.prototype.eF=function(u){var v,w,x,y,A,z;v=this;u=void 0 === u?this.j:u;w=a(50).Ii;this.gr.cI || this.Md(f.M.pI,f.L.cab);x=l.ih(u,"Eme");y=this.xPa(x);A=l.ha.get(m.SP);z=A.K1(u.Wd.value.streams);A=A.N1(u.Rh.value.streams);return this.gr.eI(x,function(B){return u.Qd(B);},{$e:!1,pk:!1,xa:{getTime:w},ll:y,OV:! !this.W8,la:this.Mb.la,Uz:this.config().nRa,onerror:function(B,D,E){return v.Md(B,D,E);},Uoa:function(){},BG:!0,Lmb:z,EYb:A,l4:this.config().l4});};c.prototype.setMediaKeys=function(u){var v;v=this;return this.W8?new Promise(function(w,x){if(v.Mb.la)v.Mb.la.setMediaKeys(u).then(function(){w();}).catch(function(y){var A;A=v.kVa(y);x({W:!1,code:f.M.xI,kc:A.oa,xd:A.Ze,rb:A.rb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.LRa=function(u){return {code:u.code,subCode:u.kc,extCode:u.xd,edgeCode:u.zm,message:u.message,errorDetails:u.rb,errorData:u.OK,state:u.state};};c.prototype.xsa=function(u,v,w){var y,A,z;function x(){A.MG().catch(function(B){y.log.error("Unable to set the license",y.LRa(B));B.cause && B.cause.rb && (B.rb=B.rb?B.rb + B.cause.rb:B.cause.rb);y.Md(B.code,B,B.xd);});}y=this;w=void 0 === w?this.j:w;A=w.Ye;this.log.info("Setting the license");z=v?function(){return Promise.resolve();}:function(){return A.hg(y.s3(!1),u);};return (v?function(){return A.R0(y.Mb.la);}:function(){return A.create(y.Nl).then(function(){return Promise.resolve();});})().then(function(){return y.config().R3a?y.setMediaKeys(A.mediaKeys):Promise.resolve();}).then(z).then(function(){return y.config().R3a?Promise.resolve():y.setMediaKeys(A.mediaKeys);}).then(function(){y.log.info("license set");y.M2(w.K);y.Mb.H7a.then(function(){y.config().eC && (v || y.config().iT) && (y.t2a=pb.setTimeout(x,y.config().eC));});}).catch(function(B){y.log.error("Unable to set the license",y.LRa(B));B.cause && B.cause.rb && (B.rb=B.rb?B.rb + B.cause.rb:B.cause.rb);if(v)throw Error(B && B.message?B.message:"failed to set license");y.Md(B.code,B,B.xd);});};c.prototype.vz=function(){return Promise.resolve();};c.prototype.z6=function(){var v;function u(){var w;v.j.Ye=v.eF();w=[];v.j.Ft.forEach(function(x){w.push(l.Kq(x));});v.xsa(w);}v=this;this.vU || (this.vU=!0,this.gr.eI?this.j.Ft?this.config().QS && this.config().Nv?this.qd.bTa(this.j.K).then(function(w){v.j.Ye=w;return w.Hua.then(function(){var x;x=[];v.j.Ft.forEach(function(y){x.push(l.Kq(y));});return v.xsa(x,!0).then(function(){var y;if(w.J4b)v.Md(f.M.fab);else {y=l.ih(v.j,"Eme");w.Q6a({log:y,Pm:function(A){return v.j.Qd(A);}},{ll:v.xPa(y),onerror:function(A,z,B){return v.Md(A,z,B);}});v.j.Ay(w.cd || ({}));v.j.RE="videopreparer";}});});}).catch(function(w){v.log.warn("eme not in cache",w);u();}):u():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Md(f.M.Idb)):this.Md(f.M.pI,f.L.dab));};c.prototype.y2a=function(u){var v;u=void 0 === u?this.j:u;u.Ye=this.eF();v=[];u.Ft.forEach(function(w){v.push(l.Kq(w));});return this.xsa(v,!1,u);};c.prototype.s3=function(u){return this.config().iT?p.Vh.ln:u?p.Vh.ln:p.Vh.uq;};Va.Object.defineProperties(c.prototype,{gr:{configurable:!0,enumerable:!0,get:function(){return l.ha.get(n.tA);}},tC:{configurable:!0,enumerable:!0,get:function(){return this.W8?"encrypted":this.Mb.qya + "needkey";}}});t=c;r.__decorate([k.sU],t.prototype,"gr",null);r.__decorate([k.sU],t.prototype,"tC",null);t=r.__decorate([h.R()],t);b.MAa=t;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u;Object.defineProperty(b,"__esModule",{value:!0});b.Lh=void 0;r=a(0);c=a(291);f=a(1184);l=a(292);m=a(1189);d=a(186);g=a(1191);h=a(1192);k=a(154);n=a(522);q=a(1193);p=a(523);t=a(1195);u=a(92);b.Lh=new r.ad(function(v){v(c.qba).to(f.eFa).aa();v(l.sba).to(m.qFa).aa();v(d.zZ).to(g.cFa).aa();v(k.CI).to(h.aFa).aa();v(n.kFa).to(q.jFa).aa();v(p.oFa).uf(function(w){var x;x=w.$a;return function(y){return new t.pFa(y,x.get(u.lA),x.get(k.CI));};});});},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t,u,v,w,x,y){this.Bg=p;this.Oia=t;this.wk=u;this.Ota=v;this.LNb=w;this.NNb=x;this.MNb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;r=a(1);f=a(0);l=a(1185);m=a(8);d=a(154);g=a(326);h=a(522);k=a(334);n=a(523);a=a(292);c.prototype.create=function(p){return new l.fFa(p,this.Bg,this.Oia,this.wk,this.Ota,this.LNb,this.NNb,this.MNb);};q=c;q=r.__decorate([f.R(),r.__param(0,f.l(m.Kb)),r.__param(1,f.l(g.PO)),r.__param(2,f.l(d.CI)),r.__param(3,f.l(k.GHa)),r.__param(4,f.l(h.kFa)),r.__param(5,f.l(n.oFa)),r.__param(6,f.l(a.sba))],q);b.eFa=q;},function(r,b,a){var f,l,m;function c(d,g,h,k,n,q,p,t){this.Ota=n;this.Fua=t;this.fT=!1;k.V8 && (d=new m.gFa().yWb(d));this.ob=p(d);this.Vj=new l.rFa(this.ob);this.Vj.L3a(this.ob.ga.$);this.log=g.Db("PlaygraphManager");this.Qb=h.create();this.Lv=q.create(this.ob,this.Vj,this.log,this.Qb);this.rTb();}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;f=a(17);l=a(1186);m=a(1188);c.prototype.LBb=function(){return this.ob.U6;};c.prototype.i3=function(){return this.ob.ga;};c.prototype.qTa=function(){return this.ob.Eh;};c.prototype.EF=function(){return this.ob.xk;};c.prototype.Ak=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.ob.Ak.apply(this.ob,ca(g));};c.prototype.Ipb=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.ob.UMa(g);};c.prototype.vX=function(d){this.ob.xk=d;};c.prototype.si=function(d,g){this.ob.si(d,g);};c.prototype.hla=function(d,g,h){var k;h=void 0 === h?{}:h;if(d !== this.ob.Eh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (k=this.EF().wa[d].next) && void 0 !== k?k:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.j4a();return this.Lv.ila(g,h);};c.prototype.isReady=function(){return this.Lv.isReady();};c.prototype.addListener=function(d,g,h){this.Qb.addListener(d,g,h);};c.prototype.removeListener=function(d,g){this.Qb.removeListener(d,g);};c.prototype.xp=function(){return this.Lv.xp();};c.prototype.sb=function(){return this.Lv.Ms();};c.prototype.gtb=function(d,g,h){var k;d=void 0 === d?this.EF().Te:d;g=void 0 === g?{}:g;k=this.Fua.HPa(this);this.pOb(null !== d && void 0 !== d?d:this.EF().Te,g,h);return k;};c.prototype.Flb=function(d){var g;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.X + ", logicalEnd: " + d.Ni);g=Object.assign({},d.Jb,d.X?{X:d.X}:{},d.Ni?{Ni:d.Ni}:{});this.Z4a(d.K,g,d.sa);d=this.Lv.$La(d);this.j4a();return d;};c.prototype.transition=function(d){var g;g=this.ob.yka(this.ob.Eh);return g?this.hla(this.ob.Eh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Lv.close(d);};c.prototype.pOb=function(d,g,h){var k;void 0 === d && (d=null === (k=this.EF()) || void 0 === k?void 0:k.Te);(g || h) && this.Z4a(this.EF().wa[d].$,null !== g && void 0 !== g?g:{},h);this.Lv.FG(d);};c.prototype.Z4a=function(d,g,h){h && this.Vj.QJ(d,h);this.Vj.ulb(d,g);};c.prototype.rTb=function(){var d;d=this;this.ob.ZUb(function(){d.Vj.vG();d.Lv.vG();});this.ob.$Ub(function(g){d.Lv.spa(g);});this.addListener(f.MD.wW,function(){return d.QLb();});this.addListener(f.Ub.EWa,function(g){return d.ELb(g);});};c.prototype.j4a=function(){var d;d=this;this.fT || (this.sb().HB().addEventListener(f.Z.$G,function(g){return d.vC(g);}),this.fT=!0);};c.prototype.ELb=function(d){var g;g=this;this.Lv.r6a(d).catch(function(){return g.Qb.qc(f.Ub.error,d.Ita());});};c.prototype.QLb=function(){var d;d=this.sb().getError();d?this.Qb.qc(f.Ub.$fa,d):(this.Qb.qc(f.Ub.bNa),this.Qb.qc(f.Ub.ME),this.Qb.qc(f.Ub.wH),this.Qb.qc(f.Ub.Kz),this.Qb.qc(f.Ub.pX),this.Qb.qc(f.Ub.$fa));};c.prototype.vC=function(d){var g,h,k;!1;g=d.metrics;if(g){h=this.sb().HB();k=h.Ap(d.position.segmentId);g=h.Ap(g.srcsegment);this.Ota.WOb(d,k,g,! !h.ib.al);}};b.fFa=c;},function(r,b,a){var f;function c(l){this.Da=l;this.eO={};this.vG();}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;f=a(1187);c.prototype.vG=function(){var l;l=this;Object.values(this.Da.xk.wa).forEach(function(m){m=m.$;l.eO[m] || l.zWa(m);});this.P8();};c.prototype.wL=function(l){return this.eO[l];};c.prototype.HSb=function(l){this.FT(l).state=f.Rw.Wya;this.P8();};c.prototype.GSb=function(l,m){l=this.FT(l);l.state=f.Rw.Error;l.error=m;l.S2a(!1);this.P8();};c.prototype.L3a=function(l){l=this.FT(l);l.state=f.Rw.V$a;l.S2a(!0);this.P8();};c.prototype.ulb=function(l,m){this.FT(l).Jb=m;};c.prototype.QJ=function(l,m){this.FT(l).sa=m;};c.prototype.FT=function(l){var m;return null !== (m=this.wL(l)) && void 0 !== m?m:this.zWa(l);};c.prototype.zWa=function(l){var m,d;m=void 0;d=new Promise(function(g,h){m=function(k){(k?g:h)();};});return this.eO[l]={state:f.Rw.UCa,yPb:d,S2a:m};};c.prototype.P8=function(){var m;for(var l=this.Da.Eh;l=this.Da.yka(l);){m=this.Cp(l);if(this.eO[m].state === f.Rw.Error)break;if(this.eO[m].state === f.Rw.Wya)break;if(this.eO[m].state === f.Rw.UCa)break;}};c.prototype.Cp=function(l){return this.Da.xk.wa[l].$;};b.rFa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rw=void 0;r=b.Rw || (b.Rw={});r[r.UCa=0]="None";r[r.Wya=1]="Fetching";r[r.V$a=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;f=a(66);c.prototype.yWb=function(l){var m;if(!this.SFb(l.wa))return l;m=new f.LD().FW(l.Te);Object.entries(l.wa).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;d === l.Te?m.Hn(d,Object.assign(Object.assign({},g),{next:void 0,Fc:void 0,Fh:void 0})):m.Hn(d,g);});return m.zj();};c.prototype.SFb=function(l){l=Object.values(l).map(function(m){return m.$;});return 1 === new Set(l).size;};b.gFa=c;},function(r,b,a){var f,l,m;function c(d){this.Ja=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=void 0;r=a(1);f=a(0);l=a(19);c.prototype.create=function(d){return new (a(293).ZZ)(this.Ja.Wb(),d);};c.prototype.HPa=function(d){return new (a(1190).eIa)(this.Ja.Wb(),d);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.rd))],m);b.qFa=m;},function(r,b,a){var f,l;function c(m,d){var g;g=f.ZZ.call(this,m,d) || this;g.P6=new l.oba();g.seek=function(h){return g.sb().seek(h);};g.addEpisode=function(h){var k,n,q,p,t,u,v;g.log.info("Next episode added",h);u=g.P6.Nna(h.playbackParams);v=Math.max(0,null !== (q=null !== (n=null !== (k=h.startPts) && void 0 !== k?k:h.nextStartPts) && void 0 !== n?n:u.X) && void 0 !== q?q:0);k=null !== (t=null !== (p=h.endPts) && void 0 !== p?p:h.currentEndPts) && void 0 !== t?t:u.Ni;return g.Lh.Flb({K:h.movieId,X:v,Ni:k,Jb:u,sa:h.manifest,Ul:g.Ul});};g.playNextEpisode=function(h){var k,n,q,p,t;h=void 0 === h?{}:h;h=g.P6.Nna(h);g.log.info("Playing the next episode",h);n=g.Lh.qTa();q=g.Lh.EF();p=q.wa[n];t=Object.keys(null !== (k=p.next) && void 0 !== k?k:{}).find(function(u){return p.$ !== q.wa[u].$;});if(t)return g.Lh.hla(n,t,h);};g.watchCredits=function(){};g.playSegment=function(h){return g.sb().vNb(h);};g.queueSegment=function(h){return g.sb().pPb(h);};g.updateNextSegmentWeights=function(h,k){return g.sb().si(h,k);};g.setNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(q){return {va:q.segmentId,cV:q.nextSegmentId};});g.Lh.Ak.apply(g.Lh,ca(k));};g.clearNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return g.Lh.Ipb.apply(g.Lh,ca(k));};g.goToNextSegment=function(h,k){return g.Lh.hla(h,k);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return ! !g.sb().H3().visibility;};g.setTimedTextVisibility=function(h){return g.setTimedTextVisible(h);};g.setTimedTextSize=function(h){return g.sb().IW({size:h});};g.setTimedTextBounds=function(h){return g.sb().IW({bounds:h});};g.setTimedTextMargins=function(h){return g.sb().IW({margins:h});};g.setTimedTextVisible=function(h){return g.sb().IW({visibility:h});};g.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;f=a(293);l=a(524);ka(c,f.ZZ);b.eIa=c;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cFa=void 0;r=a(1);f=a(0);l=a(66);c.prototype.btb=function(m){var h,k,n;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;if(0 === d.length)throw Error("Empty playgraph");k=new l.LD().FW(this.nv(d[0]));d.reverse().forEach(function(q){var p;p=h.nv(q);k.Hn(p,Object.assign({$:q,jc:0,Fc:Infinity},n?{Fh:n}:{}));n=p;});return k.zj();};c.prototype.nv=function(m,d){return m + ":" + (void 0 === d?"main":d);};c.prototype.imb=function(m,d){var g,h,k,n;if(void 0 === k)k=null !== (g=d.id) && void 0 !== g?g:this.nv(d.K);g=this.YTa(m);n=new l.LD(m);n.Hn(k,{$:d.K,jc:null !== (h=d.X) && void 0 !== h?h:0,Fc:Infinity});m=m.wa[g];d={};n.Hn(g,Object.assign({},m,{Fh:k,next:Object.assign({},m.next || ({}),(d[k]={},d))}));return n.zj();};c.prototype.YTa=function(m){for(var d=m.Te,g=d;g=m.wa[g].Fh;){d=g;}return d;};a=r.__decorate([f.R()],c);b.cFa=a;},function(r,b,a){var f,l,m,d,g;function c(h){return l.gf.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;r=a(1);f=a(0);l=a(45);m=a(38);d=a(44);g=a(4);ka(c,l.gf);Va.Object.defineProperties(c.prototype,{vOb:{configurable:!0,enumerable:!0,get:function(){return 2;}},uOb:{configurable:!0,enumerable:!0,get:function(){return g.W5(3);}},xua:{configurable:!0,enumerable:!0,get:function(){return !1;}},V8:{configurable:!0,enumerable:!0,get:function(){return !1;}},l7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},CSa:{configurable:!0,enumerable:!0,get:function(){return !1;}},c1a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Pz,"prepareSegmentsUpfront")],a.prototype,"vOb",null);r.__decorate([d.config(d.tk,"prepareSegmentsDuration")],a.prototype,"uOb",null);r.__decorate([d.config(d.bd,"usePlaygraphForPostPlay")],a.prototype,"xua",null);r.__decorate([d.config(d.bd,"usePlaygraphForSkipSegment")],a.prototype,"V8",null);r.__decorate([d.config(d.bd,"useSinglePlayerPlayback")],a.prototype,"l7a",null);r.__decorate([d.config(d.bd,"forcePlaygraphTrace")],a.prototype,"CSa",null);r.__decorate([d.config(d.bd,"postPlayDefaultNextEpisode")],a.prototype,"c1a",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.jm))],a);b.aFa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q,p;function c(t,u,v,w,x,y,A){this.Ja=t;this.VRb=v;this.wk=x;this.Np=A;this.URb=u.DB(!1,"6.0032.694.911",t.id,y,w);}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;r=a(1);f=a(0);l=a(19);m=a(154);d=a(1194);g=a(331);h=a(208);k=a(14);n=a(525);q=a(36);a=a(186);c.prototype.create=function(t,u,v,w){var x,y;x=this.VRb.Ssb(t,this.URb,u);y=t.yua;v.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.KGa(this.wk,t,u,v,this.Ja,x,w,this.Np):new n.AD(t,u,x,w,this.Np);};p=c;p=r.__decorate([f.R(),r.__param(0,f.l(l.rd)),r.__param(1,f.l(g.wGa)),r.__param(2,f.l(h.Mba)),r.__param(3,f.l(k.Vc)),r.__param(4,f.l(m.CI)),r.__param(5,f.l(q.IP)),r.__param(6,f.l(a.zZ))],p);b.jFa=p;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q,p,t,u,v,w){var x;x=g.AD.call(this,n,q,u,v,w) || this;x.wk=k;x.za=p;x.Ja=t;x.fT=!1;x.Iia=new Map();x.HLb=function(){x.Ms().HB().addEventListener(l.Z.$G,function(y){x.Qb.qc(l.MD.wW);x.ob.Eh=y.position.segmentId;});};x.BEb();v.addListener(l.Ub.loaded,x.HLb);return x;}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;f=a(66);l=a(17);m=a(4);d=a(3);g=a(525);h=a(121);ka(c,g.AD);c.prototype.$La=function(k){var n,q,p,t,u,v,w,x,y,A,z;n=this;p=this.ob.xk;t=this.Np.nv(k.K,"ident");u=this.Np.nv(k.K,"main");v=this.Np.nv(k.K,"credits");w=isFinite(k.Ni);x=isFinite(k.X) && k.K !== p.wa[p.Te].$;y={};A=new f.LD(p).Hn(u,Object.assign({$:k.K,jc:x && k.X || 0,Fc:null !== (q=k.Ni) && void 0 !== q?q:Infinity},w?{next:(y[v]={},y),Fh:v}:{}));x && (q={},A.Hn(t,{$:k.K,jc:0,Fc:k.X,next:(q[u]={},q),Fh:u}));w && A.Hn(v,{$:k.K,jc:k.Ni,Fc:Infinity});if(!this.ob.ZG(u)){k=p.wa[this.Np.YTa(p)].$;z=this.Np.nv(k,"credits");[this.Np.nv(k,"main"),z].filter(function(B){return n.ob.ZG(B);}).forEach(function(B){var D,E,F;D=n.ob.De(B);E=B === z || n.wk.c1a;F={};A.Hn(B,Object.assign({},D,{next:Object.assign({},D.next,(F[u]={},F))},E?{Fh:u}:{}));});}this.ob.xk=A.zj();return this.FG(u);};c.prototype.vG=function(){this.isReady() && this.Ms().HB().vG();};c.prototype.spa=function(){};c.prototype.ila=function(k,n){var q,p,t,u;n=void 0 === n?{}:n;p=this.ob.De(k);if(this.wk.V8 && this.ob.ga.$ === p.$)return Promise.resolve(this.Ms().seek(p.jc,l.pe.vA,void 0));n=h.noa(this.Vj.wL(p.$).Jb,n);t=this.Ms().HB();if(null === (q=t.Ma) || void 0 === q || !q.Ah)throw (this.za.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.za.debug("going to next segment: " + this.ob.Eh + " -> " + k);t.IE("Transition " + this.ob.Eh + "->" + k);u=t.Ap(k);u.am=this.Ja.Wb().ea(m.ma);u.ib=n;return (t.Ma.mL(k).eK?this.OCb(k,u.K):this.uW(k,u.K)).then(function(){t.uyb(u.K);});};c.prototype.uW=function(k,n){var q;q=this.ob.xk.wa[k].jc;this.za.debug("Segment is not pre-buffered - performing a regular seek");this.Ms().HB().IE("NO DATA " + k + ", SEEKING " + q + ", viewableId: " + n);return Promise.resolve(this.Ms().seek(q,l.pe.vA,k,!0));};c.prototype.OCb=function(k,n){var q,p,t,u,v,w;q=this;p=this.Ms().HB();t=p.Ma;if(null === t || void 0 === t || !t.Ah)throw Error("No streaming session");u=new Promise(function(x){function y(){q.za.debug("Stopped ASE");t.removeEventListener("stop",y);x();}t.addEventListener("stop",y);});v=!1;w=new Promise(function(x){function y(z){q.za.debug("Repositioned");p.removeEventListener(l.Z.Wl,y);v=z.skip;x();}function A(){q.za.debug("Repositioning");p.removeEventListener(l.Z.OG,A);t.stop();}p.addEventListener(l.Z.OG,A);p.addEventListener(l.Z.Wl,y);});u=Promise.all([u,w]).then(function(){var x;x=!1;v && (x=t.ps(k,!1,!0));if(!x)return (p.IE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),q.uW(k,n));});w=t.pK(k,this.ob.xk.wa[k].jc);this.za.debug("Calling seek on internal player to " + w);this.Ms().seek(w,l.pe.GI,k,!0);return u;};c.prototype.FG=function(k){if(k === this.TRb)return null;this.TRb=k;return this.fT?this.Vj.wL(this.ob.De(k).$).yPb:(this.fT=!0,g.AD.prototype.FG.call(this,k));};c.prototype.r6a=function(k){return k.errorCode && this.Iia.has(k.errorCode)?this.Iia.get(k.errorCode)(k):Promise.reject(Error("Error " + k.errorCode + " isn't recoverable"));};c.prototype.BEb=function(){var k;k=this;this.Iia.set(d.M.uDa,function(){var n,q;return null !== (q=null === (n=g.AD.prototype.FG.call(k,k.ob.Eh)) || void 0 === n?void 0:n.then(function(){var p,t;g.AD.prototype.ila.call(k,k.ob.Eh,null !== (t=null === (p=k.Vj.wL(k.ob.ga.$)) || void 0 === p?void 0:p.Jb) && void 0 !== t?t:{});})) && void 0 !== q?q:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.KGa=c;},function(r,b,a){var f,l;function c(m,d,g){this.LF=d;this.wk=g;this.X_={};this.K6a=[];this.x4a=[];this.jfa=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;f=a(66);l=a(66);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.wa).length && 1 === new Set(Object.values(m.wa).map(function(g){return g.$;})).size;this.Fkb=this.wk.l7a || d;this.V3a(m);this.Eh=m.Te;this.njb=this.LF.rB();this.Qsa=new Map();};c.prototype.B3=function(m){if(this.yua)return this.xk;this.jfa.has(m) || this.jfa.set(m,f.iH(m.K,m.va));return this.jfa.get(m);};c.prototype.V3a=function(m){this.ojb=m;this.X_={};m=Object.keys(m.wa);this.UMa(m);this.QKb();};c.prototype.Ak=function(m){var h;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;d.filter(function(k){return h.ZG(k.va);}).filter(function(k){k=k.cV;return !k || h.ZG(k);}).forEach(function(k){h.X_[k.va]=h.s_a(k.cV);});};c.prototype.UMa=function(m){var d;d=this;m.filter(function(g){return d.ZG(g);}).forEach(function(g){d.X_[g]=d.s_a(d.De(g).Fh);});};c.prototype.si=function(m,d){var g,h,k;g=this.De(m);if(g && g.next){h=new l.LD(this.xk);k=Object.keys(g.next).reduce(function(n,q){n[q]=void 0 === d[q]?g.next[q]:Object.assign({},g.next[q],{weight:d[q]});return n;},{});k=Object.assign({},g,{next:k});h.Hn(m,k);this.xk=h.zj();}};c.prototype.ZG=function(m,d){d=void 0 === d?this.xk.wa:d;return (m in d);};c.prototype.yka=function(m){return this.X_[m];};c.prototype.De=function(m){return this.xk.wa[m];};c.prototype.kCb=function(m){if(this.Qsa.has(m))return this.Qsa.get(m);m=this.De(m);return isFinite(m.Fc)?m.Fc:void 0;};c.prototype.zXb=function(m,d){this.Qsa.set(m,d);this.MKb(m);};c.prototype.ZUb=function(m){this.K6a.push(m);};c.prototype.$Ub=function(m){this.x4a.push(m);};c.prototype.QKb=function(){var m;m=this;this.K6a.forEach(function(d){return d(m.xk);});};c.prototype.MKb=function(m){this.x4a.forEach(function(d){return d(m);});};c.prototype.s_a=function(m){return null === m?void 0:m;};Va.Object.defineProperties(c.prototype,{U6:{configurable:!0,enumerable:!0,get:function(){return this.njb;}},yua:{configurable:!0,enumerable:!0,get:function(){return this.Fkb;}},xk:{configurable:!0,enumerable:!0,get:function(){return this.ojb;},set:function(m){if(this.Eh && !this.ZG(this.Eh,m.wa))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Eh);this.V3a(m);}},Eh:{configurable:!0,enumerable:!0,get:function(){return this.wgb;},set:function(m){if(!this.ZG(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.wgb=m;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.De(this.Eh);}}});b.pFa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.XMa=void 0;r=a(0);c=a(1197);f=a(32);b.XMa=new r.ad(function(l){l(f.Yg).to(c.Dva).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,q,p,t,u,v;function c(w,x,y,A,z,B){var D;D=this;this.Ck=w;this.config=y;this.lo=A;this.debug=z;this.Ja=B;this.X5a=[];this.cd={};this.log=x.Db("loadAsync");this.dIb=t.dza(function(E){D.fQb=!0;D.startTime=D.Ja.Wb().ea(q.ma);D.load(D.X5a).then(function(){D.endTime=D.Ja.Wb().ea(q.ma);E(v.Le);}).catch(function(F){D.endTime=D.Ja.Wb().ea(q.ma);E(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Dva=void 0;r=a(1);f=a(70);l=a(3);m=a(1198);d=a(65);g=a(0);h=a(8);k=a(14);n=a(60);q=a(4);p=a(91);t=a(526);u=a(19);v=a(12);c.prototype.yU=function(w){this.dIb(w);};c.prototype.register=function(w,x){this.debug.assert(!this.fQb);this.X5a.push({wHb:this.Eob(x),errorCode:w});};c.prototype.Qd=function(w){this.debug.assert(void 0 === this.cd[w]);this.cd[w]=this.Ja.Wb().ea(q.ma);};c.prototype.load=function(w){var x;x=this;return m.o1a(w).then(function(y){x.Ck.mark(d.mq.nj.n8a);return y.reduce(function(A,z){return A.then(function(){return x.sHb(z);});},Promise.resolve()).then(function(){x.Ck.mark(d.mq.nj.l8a);});});};c.prototype.sHb=function(w){var x,y;x=this;y=w.wHb;!1;return this.lo.Up(q.xc(this.config().Bmb),y()).catch(function(A){x.log.error("Failed to load component " + w.errorCode,A);x.Ck.mark(d.mq.nj.m8a);if(A instanceof n.wq)throw {oa:l.L.k8a,errorCode:w.errorCode};A.errorCode=A.errorCode || w.errorCode;A.oa=A.oa || l.L.j8a;throw A;});};c.prototype.Eob=function(w){return function(){return new Promise(function(x,y){w(function(A){A.W?x():y(A);});});};};a=c;a=r.__decorate([g.R(),r.__param(0,g.l(f.RD)),r.__param(1,g.l(h.Kb)),r.__param(2,g.l(k.Vc)),r.__param(3,g.l(n.Kw)),r.__param(4,g.l(p.cu)),r.__param(5,g.l(u.rd))],a);b.Dva=a;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.o1a=void 0;c=a(3);f=[c.M.ibb,c.M.bAa,c.M.$za,c.M.aAa,c.M.fAa,c.M.Xza,c.M.Vza,c.M.U$,c.M.gAa,c.M.Yza,c.M.fbb,c.M.gbb,c.M.Wza,c.M.jA,c.M.Sza,c.M.Uza,c.M.cAa,c.M.dAa,c.M.eAa,c.M.jbb,c.M.lbb,c.M.pbb,c.M.nbb,c.M.mbb,c.M.kbb,c.M.obb,c.M.rbb,c.M.Zza,c.M.qbb,c.M.Tza];(function(m){m.Scb=function(d){var k;for(var g={},h=0;h < d.length;h++){k=d[h];if(g[k.errorCode])return {errorCode:k.errorCode,oa:c.L.h8a};g[k.errorCode]=1;}};m.Tcb=function(d){var h;for(var g=0;g < d.length;g++){h=d[g];if(-1 === f.indexOf(h.errorCode))return {errorCode:h.errorCode,oa:c.L.i8a};}};})(l || (l={}));b.o1a=function(m){return new Promise(function(d,g){var h;h=l.Tcb(m);h && g(h);(h=l.Scb(m)) && g(h);d(m.sort(function(k,n){return f.indexOf(k.errorCode) - f.indexOf(n.errorCode);}));});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sa=void 0;r=a(0);c=a(1200);f=a(117);b.sa=new r.ad(function(l){l(f.vD).to(c.QBa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(q,p,t,u,v){this.Of=p;this.hIb=u;this.dW=new Map();this.log=q.Db("ManifestFetcher");this.xg=t.xg;this.dob=v().lwb;}Object.defineProperty(b,"__esModule",{value:!0});b.QBa=void 0;r=a(1);f=a(0);l=a(19);m=a(42);d=a(8);g=a(4);h=a(14);k=a(118);a=a(271);c.prototype.AT=function(q,p){var t,u;t=this;p && this.zlb(q.$,p);if(this.R3(q.$))return this.g3(q.$);this.log.trace("Requesting a new manifest",q.$);u=this.Of.Wb().ea(g.ma);p=this.hIb.Rf(this.log,q).then(function(v){var w,x;if(v.cv){w=v.cv;x={P7:Promise.resolve(w),source:"manifest"};delete v.cv;t.xg.setData(q.$,"ldl",x,function(){w.close().catch(function(y){t.log.info("Unable to cleanup LDL session.",y);});});}q.kv === k.nn.KD && (v.PG=u,v.cN=t.Of.Wb().ea(g.ma));return v;}).catch(function(v){t.fta(q.$,void 0);t.log.error("Failed to fetch manifest",m.ed.wd(v));throw v;});this.fta(q.$,p);return p;};c.prototype.R3=function(q){return this.xg.RT(q,"manifest");};c.prototype.fta=function(q,p){var t;t=this;this.dob && this.xg.setData(q,"manifest",p,function(){return t.ZCb(q);});};c.prototype.g3=function(q){return this.xg.getData(q,"manifest");};c.prototype.ZCb=function(q){var p;null === (p=this.dW.get(q)) || void 0 === p?void 0:p.forEach(function(t){return t();});this.dW.delete(q);};c.prototype.zlb=function(q,p){this.dW.has(q) || this.dW.set(q,[]);this.dW.get(q).push(p);};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(d.Kb)),r.__param(1,f.l(l.rd)),r.__param(2,f.l(a.d$)),r.__param(3,f.l(k.Yaa)),r.__param(4,f.l(h.Vc))],n);b.QBa=n;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.xMa=void 0;c=a(1202);f=a(120);r=a(0);l=a(89);m=a(14);b.xMa=new r.ad(function(d){d(f.RH).to(c.bva).aa();});b.profile=new r.ad(function(d){d(l.MP).UC(function(g){return (g=g.$a.get(m.Vc)()) && g.ev?"browsertest":"browser";});});},function(r,b,a){var f,l,m,d,g,h;function c(k,n,q,p){k=d.gf.call(this,k,void 0 === p?"AppInfoConfigImpl":p) || this;k.config=n;k.J8=q;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;r=a(1);f=a(0);l=a(39);m=a(44);d=a(45);g=a(38);a=a(214);ka(c,d.gf);c.prototype.vBb=function(k){return "" + this.ERa + (this.J8.W7(k)?"/msl_v1":"");};c.prototype.FBb=function(k){return "" + this.host + (this.J8.W7(k)?"/msl":"") + "/playapi";};Va.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},ERa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.NK){case l.zw.Oeb:k="www.stage";break;case l.zw.pHa:k="www-qa.test";break;case l.zw.wAa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},rNa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});h=c;r.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"ERa",null);r.__decorate([m.config(m.string,"bindService")],h.prototype,"rNa",null);h=r.__decorate([f.R(),r.__param(0,f.l(g.jm)),r.__param(1,f.l(l.em)),r.__param(2,f.l(a.XZ)),r.__param(3,f.l(g.DO)),r.__param(3,f.optional())],h);b.bva=h;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.lYb=b.Veb=b.Teb=b.Seb=b.Ueb=void 0;c=a(29);f=a(11);b.Ueb=function(l,m,d){for(d=(d - l.length) / m.length;0 < d--;){l+=m;}return l;};b.Seb=function(l,m,d){d=c.Fe(d)?d:"...";return l.length <= m?l:l.substr(0,l.length - (l.length + d.length - m)) + d;};b.Teb=function(l,m){var g;for(var d=1;d < arguments.length;++d){;}g=f.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof g[k]?g[k]:h;});};b.Veb=function(l){for(var m=l.length,d=new Uint16Array(m),g=0;g < m;g++){d[g]=l.charCodeAt(g);}return d.buffer;};b.lYb=function(l){var m;m=new Uint8Array(l.length);Array.prototype.forEach.call(l,function(d,g){m[g]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(7);b=a(108);a=a(268);r.ha.get(b.rI).n7(a.kaa.E9a,function(c){var f,l;f=c.level;if(!pb._cad_global.config || f <= pb._cad_global.config.PHb){c=c.z8();l=pb.console;1 >= f?l.error(c):2 >= f?l.warn(c):l.log(c);}});},function(r,b,a){var h,k,n,q,p;function c(t){var u,w;k.zK(t);if(n.Fe(t) && b.jAa.test(t)){u=t.split(".");if(4 === u.length){for(var v=0;v < u.length;v++){w=n.ue(u[v]);if(0 > w || !p.Ly(w,0,255) || 1 !== u[v].length && 0 === u[v].indexOf("0"))return;}return t;}}}function f(t){var u;u=0;if(c(t) === t)return (t=t.split("."),u+=n.ue(t[0]) << 24,u+=n.ue(t[1]) << 16,u+=n.ue(t[2]) << 8,u + n.ue(t[3]));}function l(t){var u;k.zK(t);if(n.Fe(t) && t.match(b.kAa)){u=t.split(":");-1 !== u[u.length - 1].indexOf(".") && (t=m(u[u.length - 1]),u.pop(),u.push(t[0]),u.push(t[1]),t=u.join(":"));t=t.split("::");if(!(2 < t.length || 1 === t.length && 8 !== u.length) && (u=1 < t.length?d(t):u,t=u.length,8 === t)){for(;t--;){if(!p.Ly(parseInt(u[t],16),0,h.zBa))return;}return u.join(":");}}}function m(t){var u;t=f(t) >>> 0;u=[];u.push((t >>> 16 & 65535).toString(16));u.push((t & 65535).toString(16));return u;}function d(t){var u,v,w;u=t[0].split(":");t=t[1].split(":");1 === u.length && "" === u[0] && (u=[]);1 === t.length && "" === t[0] && (t=[]);v=8 - (u.length + t.length);if(1 > v)return [];for(w=0;w < v;w++){u.push("0");}for(w=0;w < t.length;w++){u.push(t[w]);}return u;}function g(t){return -1 << 32 - t;}Object.defineProperty(b,"__esModule",{value:!0});b.Ibb=b.Nbb=b.Kbb=b.Jbb=b.Mbb=b.Hbb=b.Lbb=b.nD=b.kAa=b.jAa=void 0;h=a(12);k=a(21);n=a(29);q=a(11);p=a(18);b.jAa=/^[0-9.]*$/;b.kAa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.nD="0000000000000000";b.Lbb=c;b.Hbb=f;b.Mbb=l;b.Jbb=m;b.Kbb=d;b.Nbb=function(t,u,v){var w,x,y,A;w=c(t);x=l(t);y=c(u);A=l(u);if(!w && !x || !y && !A || w && !y || x && !A)return !1;if(t === w)return (v=g(v),(f(t) & v) !== (f(u) & v)?!1:!0);if(t === x){t=t.split(":");u=u.split(":");for(w=q.Ew(v / b.nD.length);w--;){if(t[w] !== u[w])return !1;}v%=b.nD.length;if(0 !== v)for((t=parseInt(t[w],16).toString(2),u=parseInt(u[w],16).toString(2),t=b.nD.substring(0,b.nD.length - t.length) + t,u=b.nD.substring(0,b.nD.length - u.length) + u,w=0);w < v;w++){if(t[w] !== u[w])return !1;}return !0;}return !1;};b.Ibb=g;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(13);a(12);r=a(7);a(108);a(268);a(3);a(107);a(4);a=a(32);r.ha.get(a.Yg);!1;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(49);f=a(12);l=a(13);m=a(3);d=a(196);g=a(34);h=a(11);k=a(7);r=a(32);n=k.ha.get(r.Yg);n.register(m.M.fAa,function(q){h.ip && h.ip.generateKey && h.ip.importKey && h.ip.unwrapKey?!k.ha.get(g.tA).k$ && l.config.$J != d.ow.Vdb && l.config.$J != d.ow.gcb || h.iZ?(n.Qd("wcs"),c.wG(h.ip.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Qd("wcdone");q(f.Le);},function(p){var t;p="" + p;if(0 <= p.indexOf("missing crypto.subtle"))t=m.L.gca;else 0 <= p.indexOf("timeout waiting for iframe to load") && (t=m.L.mfb);q({oa:t,rb:p});})):q({oa:m.L.lfb}):q({oa:m.L.gca});});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(7);f=a(473);a=a(32);c.ha.get(a.Yg).register(r.M.Vza,function(l){c.ha.get(f.aya)().then(function(){l({W:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);l({W:!0});});});},function(r,b,a){var m,d,g,h;function c(k,n,q,p){var t,u,v;m.hb(h.jh(k) && !h.isArray(k));p=p || "";t="";u=k.hasOwnProperty(g.Wj) && k[g.Wj];u && d.ee(u,function(w,x){t && (t+=" ");t+=w + '="' + l(x) + '"';});q=(n?n + ":":"") + q;u=p + "<" + q + (t?" " + t:"");v=k.hasOwnProperty(g.Jr) && k[g.Jr].trim && "" !== k[g.Jr].trim() && k[g.Jr];if(v)return u + ">" + l(v) + "</" + q + ">";k=f(k,n,p + "  ");return u + (k?">\n" + k + "\n" + p + "</" + q + ">":"/>");}function f(k,n,q){var p;m.hb(h.jh(k) && !h.isArray(k));q=q || "";p="";d.ee(k,function(t,u){var x;if("$" != t[0])for(var v=d.vv(u),w=0;w < v.length;w++){if((u=v[w],p && (p+="\n"),h.jh(u)))p+=c(u,n,t,q);else {x=(n?n + ":":"") + t;p+=q + "<" + x + ">" + l(u) + "</" + x + ">";}}});return p;}function l(k){if(h.Fe(k))return d.WT(k);if(h.ya(k))return (m.sS(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";m.hb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.iWb=b.mGb=b.lGb=void 0;m=a(21);d=a(24);g=a(152);h=a(18);b.lGb=c;b.mGb=f;b.iWb=l;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x,y,A,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(274);f=a(191);l=a(13);m=a(12);d=a(3);g=a(21);h=a(7);k=a(70);n=a(65);q=a(78);p=a(24);t=a(11);u=a(18);v=a(49);w=a(107);x=a(4);r=a(32);y=a(442);A={};z=h.ha.get(r.Yg);z.register(d.M.Yza,function(B){var C,G,J,K,H,L,R,I,Q,N,M,P,S,ea;function D(qa){qa && qa.userList && l.config.DTb && (qa.userList=[]);K({esn:f.Ej.kk,esnPrefix:f.Ej.Qn,authenticationType:l.config.$J,authenticationKeyNames:l.config.hNa,systemKeyWrapFormat:l.config.uVb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:S,storeState:qa,notifyMilestone:z.Qd.bind(z),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.L.ucb,MSL_READ_TIMEOUT:d.L.tcb}},{result:function(wa){E(wa);},timeout:function(){B({oa:d.L.KBa});},error:function(wa){B(F(d.L.KBa,void 0,wa));}});}function E(qa){var ua,X,sa;function wa(){P && h.ha.get(q.aA).create().then(function(O){return O.save(N,X,!1);}).catch(function(O){R.error("Error persisting msl store",d.Pr(O));});}ua=h.ha.get(w.HI)(x.xc(100));sa=H.extend({init:function(O){this.mKa=O;},getResponse:function(O,T,ma){var ja,Qa;T=this.mKa;ja=T.LZa.Ff || ja;O=u.Gma(O.body)?h.zX(O.body):O.body;g.zK(O,"Msl should not be sending empty request");O={url:T.url,iqa:O,withCredentials:!0,lF:"nq-" + T.method,headers:T.headers};T=this.mKa.timeout;O.E1=T;O.Ooa=T;Qa=ja.download(O,function(Fa){try{if(Fa.W)ma.result({body:Fa.content});else if(400 === Fa.jk && Fa.rb)ma.result({body:Fa.rb});else throw p.Tb(new L("HTTP error, SubCode: " + Fa.oa + (Fa.jk?", HttpCode: " + Fa.jk:"")),{cadmiumResponse:Fa});}catch(Wa){ma.error(Wa);}});return {abort:function(){Qa.abort();}};}});Q && qa.addEventHandler("shouldpersist",function(O){X=O.storeState;ua.nl(wa);});p.Tb(A,{j6b:function(){M=!0;},send:function(O){function T(){var ma,ja;ma=O.LZa;ja={method:O.method,nonReplayable:O.uKb,encrypted:O.ik,userId:O.jYb,body:O.body,timeout:2 * O.timeout,url:new sa(O),allowTokenRefresh:P,sendUserAuthIfRequired:ea,shouldSendUserAuthData:l.config.HTb};ma.email?(ja.email=ma.email,ja.password=ma.password || ""):ma.kWb?(ja.token=ma.kWb,ja.mechanism=ma.$6b,ma.Foa && (ja.netflixId=ma.Foa,ja.secureNetflixId=ma.RRb),ma.zqa && (ja.profileGuid=ma.zqa)):ma.Foa?(ja.netflixId=ma.Foa,ja.secureNetflixId=ma.RRb):ma.VIb?(ja.mdxControllerToken=ma.VIb,ja.mdxPin=ma.Y6b,ja.mdxNonce=ma.X6b,ja.mdxEncryptedPinB64=ma.W6b,ja.mdxSignature=ma.Z6b):M || ma.useNetflixUserAuthData?ja.useNetflixUserAuthData=!0:ma.zqa && (ja.profileGuid=ma.zqa);return ja;}return new Promise(function(ma,ja){var Qa;Qa=T();qa.send(Qa).then(function(Fa){M && (M=!1);ma({W:!0,body:Fa.body});}).catch(function(Fa){var Wa,Xa;if(Fa.error){Wa=Fa.error.cadmiumResponse && Fa.error.cadmiumResponse.oa?Fa.error.cadmiumResponse.oa:qa.isErrorReauth(Fa.error)?d.L.JBa:qa.isErrorHeader(Fa.error)?d.L.ncb:d.L.mcb;Xa=qa.getErrorCode(Fa.error);ja(F(Wa,Xa,Fa.error));}else (R.error("Unknown MSL error",Fa),Fa.kc=Fa.subCode,ja({oa:Fa.kc?Fa.kc:d.L.vcb}));});});},XU:qa});B(m.Le);h.ha.get(y.Baa).eKb(A);}function F(qa,wa,ua){var X,sa,O,T;O={oa:qa,QK:wa};if(ua){T=function(ma){var ja;ma=ma || "" + ua;if(ua.stack){ja="" + ua.stack;ma=0 <= ja.indexOf(ma)?ja:ma + ja;}return ma;};if(sa=ua.cadmiumResponse){if(X=sa.Ze && sa.Ze.toString())sa.Ze=X;sa.oa=qa;sa.QK=wa;sa.rb=T(ua.message);sa.error={kc:qa,xd:X,Fv:wa,data:ua.cause,message:ua.message};return sa;}T=T(ua.errorMessage);X=p.ue(ua.internalCode) || p.ue(ua.error && ua.error.internalCode);sa=void 0 !== ua.Uwb?v.apa(ua.Uwb):void 0;}T && (O.rb=T);X && (O.Ze=X);O.error={kc:qa,xd:X.toString(),Fv:wa,data:sa,message:T};return O;}g.hb(l.config);C=h.ha.get(k.RD);G=n.mq.nj;if(t.rA && t.ip && t.ip.unwrapKey){try{J=pb.netflix.msl;K=J.createMslClient;H=J.IHttpLocation;L=J.MslIoException;}catch(qa){B({oa:d.L.ocb});return;}R=h.hi("Msl");I=l.config.aKb;Q=l.config.cKb;N=l.config.ev?"mslstoretest":"mslstore";J=c.oH.D3a;M=l.config.qEb;P=!J || J.W;S=h.Kq(l.config.ev?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ea=! !l.config.osa;h.ha.get(q.aA).create().then(function(qa){I?qa.remove(N).then(function(){D();}).catch(function(wa){R.error("Unable to delete MSL store",d.Pr(wa));D();}):Q?qa.load(N).then(function(wa){C.mark(G.qcb);D(wa.value);}).catch(function(wa){wa.oa == d.L.xA?(C.mark(G.scb),D()):(R.error("Error loading msl store",d.Pr(wa)),C.mark(G.rcb),qa.remove(N).then(function(){D();}).catch(function(ua){B(ua);}));}):D();}).catch(function(qa){R.error("Error creating app storage while loading msl store",d.Pr(qa));B(qa);});}else B({oa:d.L.pcb});});},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(182);f=a(12);l=a(13);m=a(62);d=a(50);r=a(3);g=a(7);h=a(70);k=a(11);n=a(61);q=a(18);p=a(54);t=a(99);a=a(32);w=g.ha.get(a.Yg);w.register(r.M.Wza,function(x){var A;function y(){var z,B,D;z=w.startTime;B={browserua:k.sA,browserhref:k.kZ.href,initstart:z,initdelay:w.endTime - z};(z=k.Ke.documentMode) && (B.browserdm="" + z);"undefined" !== typeof pb.nrdp && pb.nrdp.device && (B.firmware_version=pb.nrdp.device.firmwareVersion);q.My(l.config.cSa) && (B.fesn=l.config.cSa);Object.assign(B,c.Lka());D=k.ou && k.ou.timing;D && l.config.MHb.map(function(E){var F;F=D[E];F && (B["pt_" + E]=F - d.DOa());});z=A.dUa();Object.entries(z).forEach(function(E){var F;F=aa(E);E=F.next().value;F=F.next().value;return B["m_" + E]=F;});z=v.Zu("startup","info",B,m.BI.nja);u.ve(z);}v=g.ha.get(t.nA);u=g.ha.get(p.Co);A=g.ha.get(h.RD);w.yU(function(){u.nb();n.gg(y);});x(f.Le);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=a(52);l=a(481);m=a(1214);d=a(279);g=a(13);h=a(12);k=a(187);n=a(528);q=a(50);r=a(3);p=a(7);t=a(263);u=a(11);v=a(275);b=a(32);w=a(62);x=a(129);p.ha.get(b.Yg).register(r.M.Sza,function(y){var A,z,B,D,E,F,C;A=p.ha.get(t.nZ).kha();z=p.ha.get(k.v$).aI;B=p.ha.get(l.rCa).pq;D={HM:p.pT("ASE"),nmb:p.pT("JS-ASE",void 0,"Platform"),hi:p.pT,storage:v.storage,uBb:u.ZH,getTime:q.Ii,RL:{},pq:B,su:m.su,aI:z,MediaSource:n.uCa,SourceBuffer:d.vaa,Sn:function(){return [g.config.AR,g.config.BR];},ys:function(G){w.rn.forEach(function(J){J.b4a(G);});}};z=new Promise(function(G){v.storage.load("nh",function(J){D.RL.nh=J.W?J.data:void 0;G();});});B=new Promise(function(G){v.storage.load("lh",function(J){D.RL.lh=J.W?J.data:void 0;G();});});E=new Promise(function(G){v.storage.load("gh",function(J){D.RL.gh=J.W?J.data:void 0;G();});});F=new Promise(function(G){v.storage.load("sth",function(J){D.RL.sth=J.W?J.data:void 0;G();});});C=new Promise(function(G){v.storage.load("vb",function(J){D.RL.vb=J.W?J.data:void 0;G();});});Promise.all([z,B,C,F,E]).then(function(){return c.__awaiter(this,void 0,void 0,function J(){var K,H,L;return Ha(J,function(R){var I;if(1 == R.rG){K=a(1216)(D);x.sm.Cd=a(529);x.sm.Cd.declare(f.Il);x.sm.Cd.set(a(180)(g.config),!0,p.pT("ASE"));H=f.tYa(K);x.sm.SMa=new H(x.sm.Cd,A);x.sm.SMa.nb(g.config.AR,g.config.BR,{HM:D.HM},g.config.fN);I=f.DF(K);R.rG=2;return {value:I};}L=R.Sua;L.open(x.sm.Cd,A);L.ssa({audio:g.config.AR,video:g.config.BR},{V:g.config.fN,ca:void 0});x.sm.aj=L;y(h.Le);R.rG=0;});});}).catch(function(G){D.HM.error("Exception loading location history from local storage",G);});});},function(r,b,a){var f,l,m,d,g,h,k;function c(){var n;n=new l.Xj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.qc.bind(this);this.g0=h++;this.eg=m.hi("ProbeRequest");this.JKa=f.EFa;d.hb(void 0 !== this.JKa);this.dh=b.su.Bc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.su=void 0;f=a(1215);l=a(73);m=a(7);d=a(21);g=a(29);h=0;(function(){function n(){return JSON.stringify({url:this.Pk,id:this.g0,affected:this.d_,readystate:this.dh});}g.Tb(c.prototype,{qM:function(q){q.affected=this.d_;q.probed={requestId:this.g0,url:this.Pk,zd:this.dR,groupId:this.M_};this.emit(b.su.ze.AP,q);},Voa:function(q){this.mkb=q.httpcode;q.affected=this.d_;q.probed={requestId:this.g0,url:this.Pk,zd:this.dR,groupId:this.M_};this.emit(b.su.ze.GD,q);},open:function(q,p,t,u){if(!q)return (!1,!1);this.Pk=q;this.d_=p;this.dR=t;this.dh=b.su.Bc.OPENED;this.Ohb=u;this.JKa.nT(this);return !0;},Lc:function(){!1;return !0;},Jh:function(){return this.g0;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.dh;},set:function(){}},status:{get:function(){return this.mkb;}},url:{get:function(){return this.Pk;}},e4b:{get:function(){return this.d_;}},FHb:{get:function(){return this.Ohb;}}});})();(function(n){n.ze={AP:"pr0",GD:"pr1"};n.Bc={UNSENT:0,OPENED:1,Mw:2,DONE:3,fI:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.su=Object.assign(c,k);},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;c=a(7);f=a(72);b.EFa=(function(){c.hi("ProbeDownloader");return {nT:function(l){l={url:l.url,KOb:l};!1;f.Ff.NOb(l);}};})();},function(r,b,a){var g,h,k,n,q,p,t,u,v,w,x,y,A,z,B,D;function c(E,F,C){this.Ln=E;this.groups=F;this.prefix=C;E=w(E,F,C);this.info=E.info.bind(E);this.fatal=E.fatal.bind(E);this.error=E.error.bind(E);this.warn=E.warn.bind(E);this.trace=E.trace.bind(E);this.debug=E.debug.bind(E);this.log=E.log.bind(E);}function f(){this.vPa=function(){throw Error("Not implemented");};this.cvb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function l(){}function m(){return v?v:"0.0.0.0";}function d(E){E({U_a:0,$W:0,NVa:0,bSa:0});}g=a(16);f.prototype.set=function(E,F){n[E]=F;q.save(E,F);};f.prototype.get=function(E,F){if(n.hasOwnProperty(E))return n[E];u.trace("key: " + E + ", is not available in storage cache and needs to be retrieved asynchronously");q.load(E,function(C){C.W?(n[E]=C.data,F && F(C.data)):n[E]=void 0;});};f.prototype.remove=function(E){q.remove(E);};f.prototype.clear=function(){u.info("WARNING: Calling unimplemented function Storage.clear()");};l.prototype.now=function(){return p();};l.prototype.ba=function(){return t();};l.prototype.Boa=function(E){return E + p() - t();};l.prototype.Woa=function(E){return E + t() - p();};c.prototype.KPa=function(E){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(E);return new c(this.Ln,this.groups,F);};x=(function(){var E;E=Promise;E.prototype.fail=Promise.prototype.catch;return E;})();r.exports=function(E){h=E.HM;w=E.hi;q=E.storage;n=E.RL;p=E.uBb;t=E.getTime;u=E.nmb;y=E.pq;D=E.su;A=E.aI;z=E.SourceBuffer;B=E.MediaSource;v=E.m6b;k=E.ys;return {name:"cadmium",ys:k,HM:h,storage:new f(),Storage:f,time:new l(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,pq:y,aI:A,ycb:z,MediaSource:B,su:D,ho:{name:m},memory:{EAb:d},Sn:E.Sn};};},function(r,b,a){r.exports={EventEmitter:a(1218),xh:a(1219)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fd)return (this.fd={},this.fd[c]=[f],!0);l=this.fd[c];return void 0 === l?(this.fd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.fd?this.fd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fd)return !1;l=this.fd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.fd[c],!0);l.splice(f,1);return !0;},Ua:a,emit:a,removeAllListeners:function(c){this.fd && (void 0 === c?delete this.fd:delete this.fd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var f,l,m,d,g,h,k,n,q;function c(p,t){var w,x,y,A,z,B,D,E,F,C,G;function u(){var J;J=p.bc.value === n.Eb.Hc && p.state.value === n.Lb.ce && p.K === t.K;G?J || (clearInterval(G),B=G=void 0):J && (G=pb.setInterval(v,1E3));}function v(){var J,K,H,L,R,I;J=p.Vf.value;J=(J=J && J.stream) && J.height;if(null !== J && 0 < J){K=d.Ii();H=p.Cg.yF();if(H){if(B && 2E3 > K - B.time && J === B.height){L=H - B.Dvb;R=x[J];R || (x[J]=R=[],J > E && (z.push(J),m.YX(z)));0 < L && !(C && C < J) && (C=J);R.push(L);R.length > D && R.shift();(R=A[J]) || (A[J]=R={});I=R[L];R[L]=I?I + 1:1;}B={time:K,Dvb:H,height:J};p.O6 && p.O6.ASb(x);}}}w=g.ih(p,"DFF");x={};y=f.config.Hvb;A={};z=[];D=f.config.Fvb;E=f.config.Gvb;F=l.yBa;if(f.config.Evb)return (t.ria={rzb:function(){var J;J={};A && z.forEach(function(K){var H,L,R;H=A[K];if(H){L=0;R=0;q.ee(H,function(I,Q){R+=h.ue(I);L+=Q;});J[K]=R / L;}});return J;},GT:function(J){var K;K={};J.forEach(function(H){K[H]={};});A && (m.YX(J),z.forEach(function(H){var L,R,I,Q;L=A[H];if(L){R=0;I=0;q.ee(L,function(ea,qa){R+=qa;});Q=Object.keys(L).map(Number);m.YX(Q);for(var N=Q.length - 1,M=Q[N],P=J.length - 1;0 <= P;P--){for(var S=J[P];M >= S && 0 <= N;){(M=L[M]) && (I+=M);M=Q[--N];}K[S][H]=k.wi(I / R * 100);}}}));return K;}},p.state.addListener(u),p.bc.addListener(u),p.addEventListener(n.Z.cG,u),{UK:"df",Rt:function(J){var L,R,I,M,P;if(J.lower && J.height > E){J=J.height;a:{if(C){for(var K=z.length,H=0;H < K;H++){L=z[H];if(L >= C && L < F){R=x[L];if(I=R)b:{I=y.length;for(var Q=R.length,N=0;N < I;N++){M=y[N];P=M[0];M=M[1];for(var S=0;S < Q;S++){if(R[S] >= M && 0 >= --P){I=!0;break b;}}}I=!1;}if(I && F != L){w.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:L});t.ep.set({reason:"droppedFrames",height:L});K=F=L;break a;}}}C=void 0;}K=F;}J=J >= K;}else J=!1;return J;}});}Object.defineProperty(b,"__esModule",{value:!0});b.Acb=void 0;r=a(100);f=a(13);l=a(12);m=a(49);d=a(50);g=a(7);h=a(29);k=a(11);n=a(17);q=a(24);r.yD(c);b.Acb=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(100).yD(function(){return {UK:"op",Rt:function(){}};});},function(r,b,a){var f,l;function c(m,d){var g,h;g=l.ih(m,"MSS");if(f.config.wJb)return {UK:"mss",Rt:function(k){var n,q;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{q=pb.MSMediaKeys;h=q && q.isTypeSupportedWithFeatures?"probably" === q.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){g.error("hasUltraHdDisplay exception");h=!0;}h || (g.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.ep.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Bcb=void 0;r=a(100);f=a(13);l=a(7);r.yD(c);b.Bcb=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(1224);f=a(7);l=a(34);m=a(79);r.yD(function(d){var g;if(f.ha.get(l.Kk).cW){g=f.ha.get(m.ku);return new c.GAa(d,f.Bg,g);}});},function(r,b,a){var f;function c(l,m,d){var g;g=this;this.j=l;this.za=m;this.goa=d;this.Dma=!1;this.log=this.za.Db("KeySystemRobustness",this.j);this.Dma=!1;this.goa.ry().then(function(h){var k,n;n=null === (k=h.getConfiguration().videoCapabilities) || void 0 === k?void 0:k.map(function(q){return q.robustness;});g.Dma=!(null === n || void 0 === n || !n.some(function(q){return q === f.lI;}));l.c4a("keySystem",h.keySystem);l.c4a("robustness",null === n || void 0 === n?void 0:n.toString());g.log.trace("KeySystemRobustness: " + n);}).catch(function(h){g.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;f=a(58);c.prototype.Rt=function(l){return l.lower && l.Jy && !this.Dma && 720 < l.height;};Va.Object.defineProperties(c.prototype,{UK:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.GAa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(13);f=a(7);l=a(1226);r.yD(function(m,d){if(c.config.rGb)return new l.FAa(m,d,f.Bg,c.config,f.xa,f.yc);});},function(r,b,a){var f,l,m;function c(d,g,h,k,n,q){var p;p=this;this.j=d;this.Ym=g;this.za=h;this.config=k;this.xa=n;this.yc=q;this.Zlb=function(t){!0 === t.oldValue && !1 === t.newValue && (p.log.error("RestartStreaming: UHD key is no longer usable"),p.j.oRb());};this.TWb=function(t){var u,v,w;p.log.trace("UhdKeyStatus: " + t.oldValue + " -> " + t.newValue);v=null === t || void 0 === t?void 0:t.newValue;w=null === t || void 0 === t?void 0:t.oldValue;"usable" !== v && (p.vSb(v,(null === (u=null === t || void 0 === t?void 0:t.av) || void 0 === u?void 0:u.height) || 0),"usable" === w && (t=p.xa.mf.Aa(p.tGb),p.log.error("UHD KeyStatus unexpectedly changed: " + t.ea(m.ma))));};this.hXa=!1;this.log=this.za.Db("KeyStatusStreamFilter",this.j);this.nMa=new l.Ac(!1,this.Zlb);this.SWb=new l.Ac(void 0,this.TWb);}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;f=a(204);l=a(105);m=a(4);c.prototype.Rt=function(d){this.XUb();this.nMa.set(this.hXa && this.xDb);return d.lower && 1080 < d.height && !this.nMa.value?!0:!1;};c.prototype.bqb=function(){this.xDb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.HVa);};c.prototype.Nsb=function(){var d,g,h;g={};h=null === (d=this.Ym.Rh.value) || void 0 === d?void 0:d.Ct;null === h || void 0 === h?void 0:h.forEach(function(k){g[k.Li]=k.oW.height;});this.log.trace("KeyStatusMap",g);return g;};c.prototype.VZa=function(d){var g;g=this;Object.entries(d).forEach(function(h){var k;k=aa(h);h=k.next().value;k=k.next().value;h=g.sGb[h];1080 < h && (g.hXa="usable" === k,g.SWb.set(k,{height:h}));});};c.prototype.XUb=function(){var d,g;d=this;g=this.Ym.Ye;!this.WFb && f.lma(g) && (this.WFb=!0,this.sGb=this.Nsb(),this.VZa(g.keyStatuses.value),g.keyStatuses.addListener(function(h){return d.VZa(h.newValue);}),this.yc.Rj(m.xc(this.config.HVa),function(){return d.bqb();}),this.tGb=this.xa.mf);};c.prototype.vSb=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Ym.ep.set({reason:"keyStatus",height:g});};Va.Object.defineProperties(c.prototype,{UK:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.FAa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(13);f=a(7);r.yD(function(l,m){var d,g,h,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.UWb);g=d[m.ke];if(c.config.VWb && g){h={};k=f.ih(l,"MediaStreamFilter");return {UK:"uiLabel",Rt:function(n){if(n.lower && n.height > g)return (h[n.height] || (h[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),m.ep.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(182);f=a(527);r=a(62);l=a(13);m=a(63);d=a(12);g=a(49);h=a(50);k=a(24);n=a(11);q=a(7);p=a(120);t=a(17);u=a(32);v=a(34);r.mba(r.hba,function(w){var E,F,C,G,J,K;function x(H){var L,R;if(H.newValue >= t.Lb.LOADING){w.state.removeListener(x);H=n.jZ;try{L="" + h.w1();localStorage.setItem("player$test",L);R=localStorage.getItem("player$test");localStorage.removeItem("player$test");L=L == R?"success":"mism";}catch(I){L="ex: " + I;}D("type=openplay&sev=info&locstor=" + H.call(n,L));C=h.Ii();z();}}function y(){K("type=startplay&sev=info&outcome=success");}function A(){var H,L;H=w.Yk;if(H){L="type=startplay&sev=error&outcome=error";H=c.Aka(q.ha.get(v.Kk).pp,H);k.ee(H,function(R,I){L+="&" + n.jZ(R) + "=" + n.jZ(I || "");});K(L);}else K("type=startplay&sev=info&outcome=abort");}function z(){var H,L;H=G.shift();if(0 < H){L=n.pn(H - (h.Ii() - C),0);F=setTimeout(function(){D("type=startstall&sev=info&kt=" + H);z();},L);}}function B(){K("type=startplay&sev=info&outcome=unload");}function D(H){H=J + "&soffms=" + w.Hka() + "&" + H;w.cd && Object.keys(w.cd).length && (H+="&" + g.sM(k.Tb({},w.cd,{prefix:"sm_"})));f.e6a("playback",H,E);}E=q.ha.get(p.RH).host + l.config.Mta;if(l.config.f6a && E && l.config.g6a.playback){G=l.config.vWb.slice();J="xid=" + w.da + "&pbi=" + w.index + "&uiLabel=" + (w.ke || "");w.state.addListener(x);w.addEventListener(t.Z.st,y);w.addEventListener(t.Z.yg,A);m.nf.addListener(m.Hm,B,d.HD);K=function(H){var L;K=d.Ik;L=q.ha.get(u.Yg);H+="&initstart=" + L.startTime + "&initend=" + L.endTime;D(H);clearTimeout(F);w.removeEventListener(t.Z.st,y);w.removeEventListener(t.Z.yg,A);m.nf.removeListener(m.Hm,B);};}});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(13);f=a(12);r=a(3);l=a(7);m=a(163);a=a(32);l.ha.get(a.Yg).register(r.M.Uza,function(d){c.config.Myb && l.ha.get(m.cza).start();d(f.Le);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Rwa=void 0;c=a(72);f=a(49);l=a(21);m=a(24);d=a(29);b.Rwa=function(g,h){l.hb(g);l.hb(h);l.zK(h.Kwb,"endpointURL property is required");l.hb(h.Xd);this.log=g;this.W0a=h;};b.Rwa.prototype.DB=function(){var g,h,k;g=this;g.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(g.W0a.Xd)};k=g.W0a.Kwb + "?" + f.sM(h);return new Promise(function(n,q){function p(w){var x,y;try{if(w.W){x=new Uint8Array(w.content);y=String.fromCharCode.apply(null,x);return {W:!0,config:JSON.parse(y).core.initParams};}return {W:!1,message:"Unable to download the config. " + w.rb,KF:w.jk};}catch(A){return (w=m.wd(A),g.log.error("Unable to download the config. Received an exception parsing response",{message:A.message,exception:w,url:k}),{W:!1,rb:w,message:"Unable to download the config. " + A.message});}}function t(w,x,y){return x > y?(g.log.error("Config download failed, retry limit exceeded, giving up",d.Tb({Attempts:x - 1,MaxRetries:y},w)),!1):!0;}function u(w){return new Promise(function(x){setTimeout(function(){x();},w);});}function v(w,x,y){c.Ff.download(w,function(A){var z;A=p(A);if(A.W)n(A);else {g.log.warn("Config download failed, retrying",d.Tb({Attempt:x,WaitTime:z,MaxRetries:y},A));if(t(A,x + 1,y)){z=m.Iqa(1E3,1E3 * Math.pow(2,Math.min(x - 1,y)));return u(z).then(function(){return v(w,x + 1,y);});}q(A);}});}return c.Ff?v({url:k,responseType:3,withCredentials:!0,lF:"config-download"},1,3):Promise.reject({W:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(191);f=a(159);l=a(12);m=a(13);r=a(3);d=a(7);g=a(21);h=a(24);k=a(29);n=a(18);q=a(54);p=a(99);a=a(32);d.ha.get(a.Yg).register(r.M.cAa,function(t){var u,v;u=d.hi("NccpApi");v=h.NMa(["info","warn","trace","error"]);f.MI.CR.nccp={getEsn:function(){return c.Ej.kk;},getPreferredLanguages:function(){return m.config.Rq.nqa;},setPreferredLanguages:function(w){g.hb(n.isArray(w) && k.My(w[0]));m.config.Rq.nqa=w;},queueLogblob:function(w,x,y){var A;if(w && x)if((x=x.toLowerCase(),v[x])){A=d.ha.get(q.Co);w=d.ha.get(p.nA).Zu(w,x,y);A.ve(w);}else u.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.ha.get(q.Co).flush(!0);}};t(l.Le);});},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(32);b=a(3);c=a(8);f=a(34);l=a(189);m=a(12);d=a(13);g=a(7);h=a(129);k=a(62);n=a(159);q=a(278);p=a(116);g.ha.get(r.Yg).register(b.M.eAa,function(t){var w,x,y;function u(A,z){return void 0 === A || void 0 === z?Promise.reject("Invalid email and/or password"):g.ha.get(q.Vaa).Rf(this.log,{},{email:A,password:z}).then(function(){});}function v(A){var z;z=g.ha.get(p.VD);return z.dSa.fetch(A,z);}if(d.config.gxb){w=g.ha.get(l.yZ);x=g.ha.get(f.Kk);y=g.ha.get(c.Kb).Db("Test");n.MI.CR.test={setPboRequestsListener:function(A){return w.MSb(A);},playbacks:k.rn,getPlayback:function(A){return k.rn.find(function(z){return z.da === A;});},playgraphManager:{isNextSegmentReady:function(A,z){var B,D;return void 0 !== (null === (D=null === (B=k.rn.find(function(E){return E.da === A;})) || void 0 === B?void 0:B.Ma) || void 0 === D?void 0:D.h3(z));},isNextSegmentBuffering:function(A,z){var B,D;return null === (D=null === (B=k.rn.find(function(E){return E.da === A;})) || void 0 === B?void 0:B.Ma) || void 0 === D?void 0:D.mL(z).eK;}},aseManager:{cacheDestroy:function(){return h.sm.SMa.Gx();}},device:{esn:pb._cad_global.device.kk,esnPrefix:x.Qn,errorPrefix:x.pp},log:{info:function(A,z){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.info(A,B);},error:function(A,z){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.error(A,B);},warn:function(A,z){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.warn(A,B);},trace:function(A,z){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.trace(A,B);},log:function(A,z){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.log(A,B);},debug:function(A,z){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.debug(A,B);}},login:u,getManifest:v};}t(m.Le);});},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(1234);c=a(12);f=a(13);l=a(62);b=a(8);m=a(7);d=a(54);g=a(108);h=a(21);k=a(29);n=a(11);pb.netflix=pb.netflix || ({});h.hb(!pb.netflix.player);pb.netflix.player={VideoSession:r.kIa,diag:{togglePanel:function(q,p){var t;t=[];if(!f.config || f.config.gW){switch(q){case "info":t=l.rn.map(function(u){return u.O6;});break;case "streams":t=l.rn.map(function(u){return u.Q6;});break;case "log":t=[];}t.forEach(function(u){k.Kc(p)?p?u.show():u.Xq():u.toggle();});}},addLogMessageSink:function(q){m.ha.get(d.Co).addListener({t8b:function(){},nJb:function(p){q({data:p.data});}});}},log:m.hi("Ext"),LogLevel:b.ij,addLogSink:function(q,p){m.ha.get(g.rI).n7(q,p);},getVersion:function(){return "6.0032.694.911";},isWidevineSupported:function(q){var t;function p(u){return function(v,w){return w.contentType == u;};}if("function" !== typeof q)throw Error("input param is not a function");t=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Dw,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.sI,robustness:"SW_SECURE_CRYPTO"}]}];try{n.Ve.requestMediaKeySystemAccess("com.widevine.alpha",t).then(function(u){var v;v=u.getConfiguration();u=v.videoCapabilities || [];v=(v.audioCapabilities || []).reduce(p(c.sI),!1);u=u.reduce(p(c.Dw),!1);q(v && u);}).catch(function(){q(!1);});}catch(u){q(!1);}}};},function(r,b,a){var f,l,m,d,g,h;function c(k){var n;n=m.MI.call(this,k) || this;n.createPlayer=function(q,p){var t,u,v;p=void 0 === p?{}:p;p="number" === typeof p?{Dk:p}:p;t=f.ha.get(l.zZ);u=f.ha.get(g.rP).create(p.manifest);v=f.ha.get(d.sba);q=t.btb(q);t=f.ha.get(h.qba).create(q);q=t.i3();v=v.HPa(t);v.addEpisode({movieId:q.$,playbackParams:n.gNa(p,q),manifest:u});return v;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;f=a(7);l=a(186);m=a(159);d=a(292);g=a(143);h=a(291);ka(c,m.MI);b.kIa=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n,q,p,t,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(159);f=a(191);l=a(12);m=a(49);r=a(3);d=a(7);g=a(161);h=a(21);k=a(29);n=a(11);b=a(32);q=a(50);p=a(89);t=a(141);u=a(160);d.ha.get(b.Yg).register(r.M.dAa,function(v){var B;function w(){return f.Ej.kk;}function x(D){var E;E=d.ha.get(p.MP);d.ha.get(t.wP)().then(function(F){var C,G;C=F.XU.getStateForMdx(E);G=C.cryptoContext;F=C.masterToken;C=C.userIdToken;F && C?(h.hb(G),F=["1",d.gB(JSON.stringify(F.toJSON())),d.gB(JSON.stringify(C.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,K){J=k.Fe(J)?d.$N(J):J;G.encrypt(J,{result:function(H){H=d.gB(H);K({success:!0,mslEncryptionEnvelopeBase64:H});},timeout:function(){K({success:!1});},error:function(H){h.hb(!1,"Encrypt error: " + H);K({success:!1});}});},decrypt:function(J,K){J=d.Kq(J);G.decrypt(J,{result:function(H){K({success:!0,text:d.zX(H)});},timeout:function(){K({success:!1});},error:function(H){h.hb(!1,"Decrypt error: " + H);K({success:!1});}});},hmac:function(J,K){J=k.Fe(J)?d.$N(J):J;G.sign(J,{result:function(H){K({success:!0,hmacBase64:d.gB(H)});},timeout:function(){K({success:!1});},error:function(H){h.hb(!1,"Hmac error: " + H);K({success:!1});}});}}})):(h.hb(!1,"Must login first"),D({success:!1}));});}function y(D,E){var F;F=d.Kq(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([m.wG(n.ip.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),m.wG(n.ip.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(C){E({success:!0,cryptoContext:A(C[0],C[1])});},function(){E({success:!1});});}function A(D,E){function F(C){C=new g.IO(d.Kq(C));C.rz();return {iv:C.L1a(),Hwb:C.L1a()};}return {encrypt:function(C,G){var J;C=k.Fe(C)?d.$N(C):C;J=n.rA.getRandomValues(new Uint8Array(16));m.wG(n.ip.encrypt({name:"AES-CBC",iv:J},D,C)).then(function(K){var H,L;K=new Uint8Array(K);H=[];L=new g.IO(H);L.j9(2);L.P7a(J);L.P7a(K);K=d.gB(H);G({success:!0,encryptedDataAsn1Base64:K});},function(K){h.hb(!1,"Encrypt error: " + K);G({success:!1});});},decrypt:function(C,G){C=F(C);m.wG(n.ip.decrypt({name:"AES-CBC",iv:C.iv},D,C.Hwb)).then(function(J){J=new Uint8Array(J);G({success:!0,text:d.zX(J)});},function(J){h.hb(!1,"Decrypt error: " + J);G({success:!1});});},hmac:function(C,G){C=k.Fe(C)?d.$N(C):C;m.wG(n.ip.sign({name:"HMAC",hash:{name:"SHA-256"}},E,C)).then(function(J){J=new Uint8Array(J);G({success:!0,hmacBase64:d.gB(J)});},function(J){h.hb(!1,"Hmac error: " + J);G({success:!1});});}};}function z(){return q.Kga();}B=d.ha.get(u.eA);if(B.JWa || B.rv)c.MI.CR.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:z};v(l.Le);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(13);f=a(12);r=a(3);l=a(7);b=a(32);m=a(116);l.ha.get(b.Yg).register(r.M.Zza,function(g){var h,k,n;if(c.config.FNb){h=l.hi("PlayerPredictionModel");k=l.ha.get(m.VD);n=a(1237);h.log=h.trace.bind(h);d=new n({},h,{iW:function(){},KQb:function(){}},k,{LM:function(){}});pb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}g(f.Le);});},function(r,b,a){var m,d,g,h,k,n,q;function c(p,t,u,v,w,x){this.K=this.$=p;this.priority=t;this.pd=u;x && x.ke && (this.ke=x.ke);void 0 !== v && (this.FM=v);this.$k=w;this.Jb=x;}function f(p,t,u,v,w){g(void 0 !== v,"video preparer is null");g(void 0 !== w,"ui preparer is null");this.H=t;this.Ha=u;this.Gkb=v;this.zkb=w;this.HKa=n.kqa;this.KJ=[];this.vea=!1;this.sQ=0;new q().on(n,"changed",l,this);this.reset();}function l(){this.H.log("config changed");n.kqa && (this.HKa=n.kqa);n.WU !== this.yJ && (this.reset(),this.rra());}m=a(294);d=a(295);b=a(530);g=b.assert;h=b.mSa;k=a(1238);n=a(531).config;q=a(1239).xh;n.declare({kqa:["ppmConfig",{VZb:{x_a:0,w_a:2,u_a:0,v_a:5,g4a:0},h3b:{x_a:0,w_a:1,u_a:0,v_a:3,g4a:1E3},k_b:{x_a:0,w_a:1,u_a:0,v_a:3,g4a:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.$ca=!0;this.yJ=n.WU;this.H.log("create model: " + n.WU,n.Y2a,n.JOa);switch(n.WU){case "modelone":this.yJ=new k(this.H);break;default:this.yJ=new k(this.H);}};f.prototype.rra=function(){var t,u;if(!1 === this.vea){this.vea=!0;for(var p=0;p < this.KJ.length;p++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.KJ[p]));t=this.oPa(this.KJ[p]);u=this.RSa(t);this.yJ.update(t,u);this.$ca=!1;}this.KJ=[];}};f.prototype.update=function(p){var t,u,v;this.H.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.Wa && p.Wa[0]){!1 === this.vea && this.KJ.length < n.FIb && this.KJ.push(p);t=this.oPa(p);u=this.RSa(t);this.H.log("actionType",u);t="mlmodel" == n.WU?this.yJ.update(p,u):this.yJ.update(t,u);t=this.Wyb(t,n.gGb || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(t));0 === this.sQ && (this.sQ=m(),this.Ha && this.Ha.iW && this.Ha.iW({Hub:this.sQ}));if(this.Ha && this.Ha.KQb){this.Zzb();v=[];t.forEach(function(w){v.push({V8b:w.$});});JSON.stringify(p);JSON.stringify(t);}this.Gkb.LM(t);this.zkb.LM(t);this.$ca=!1;}};f.prototype.Zzb=function(){m();};f.prototype.iW=function(){this.sQ=m();this.Ha && this.Ha.iW && this.Ha.iW({Hub:this.sQ});};f.prototype.oPa=function(p){var t,u,v,w,x;t={};v=p.Wa || [];w=(function(y){var A,z;A={};x=d.oP.name.indexOf(y.context);A.context=0 <= x?x:d.oP.Jw;A.rowIndex=y.rowIndex;A.requestId=y.requestId;A.list=[];u=y.list || [];u.forEach((function(B){z={$:B.$,pd:B.pd,index:B.index,FM:B.FM,a7:B.a7,list:B.list,Jb:B.Jb};void 0 !== B.property && (x=d.nI.name.indexOf(B.property),z.property=0 <= x?x:d.nI.Jw);A.list.push(z);}).bind(this));t.Wa.push(A);}).bind(this);if(void 0 !== p.direction){x=d.ju.name.indexOf(p.direction);t.direction=0 <= x?x:d.ju.Jw;}void 0 !== p.gT && (t.z5b=p.gT.rowIndex,t.y5b=p.gT.Wpb);t.gT=p.gT;t.Wa=[];v.forEach(w);return t;};f.prototype.RSa=function(p){var t,u,v;t=p.direction || d.ju.Jw;u=p.gT;v=p.Wa || [];!0 === this.$ca?p=d.lw.Rya:!0 === v.some(this.uDb)?(p=d.lw.DP,this.p7(v,t,u)):p=v[0].context === d.oP.KZ?d.lw.KZ:t === d.ju.MFa || t === d.ju.HAa?d.lw.fGa:d.lw.Jw;return p;};f.prototype.uDb=function(p){return (p.list || []).some(function(t){return t.property === d.nI.DP || t.property === d.nI.hxa;});};f.prototype.p7=function(p,t,u){var v,w;this.H.log("reportPlayFocusEvent: ",t,u);v={};w=h(p);this.Ha && this.Ha.p7 && (v.q5b=m(),v.direction=d.ju.name[t],u && (v.rowIndex=u.rowIndex,v.Nga=u.Wpb),void 0 !== w.Pj && (v.requestId=p[w.Pj].requestId),this.Ha.p7 && this.Ha.p7(v));};f.prototype.Wyb=function(p,t){for(var u=p.length,v=[],w,x,y,A,z=0;z < u;z++){x=p[z];w=Math.floor(z / t) + 1;if(void 0 !== x.list){y=x.list;A=y.length;for(var B=0;B < Math.min(n.Upb,A) && !(y[B].$k=x.$k,this.SLa(y[B],w,v),v.length >= n.YYa);B++){;}}else this.SLa(x,w,v);if(v.length >= n.YYa)break;}return v;};f.prototype.SLa=function(p,t,u){var w,x;function v(y){y.ke && (y.Jb || (y.Jb={}),y.Jb.ke=y.ke);return y.Jb;}w=p.a7;if(void 0 !== w && w instanceof Array)w.forEach(function(y){void 0 !== y.$ && (x=v(y),u.push(new c(y.$,t,y.pd,y.FM,p.$k,x)));});else if(void 0 !== w && void 0 !== w.$){w=p.a7;x=v(w);u.push(new c(w.$,t,w.pd,w.FM,p.$k,x));}void 0 !== p.$ && (x=v(p),u.push(new c(p.$,t,p.pd,p.FM,p.$k,x)));};f.prototype.DB=function(p){var t;t=this.HKa;return p?t[p]:t;};r.exports=f;},function(r,b,a){var l,m,d,g,h,k,n,q,p,t;function c(u,v){this.Pj=u;this.El=v;}function f(u){this.H=u;this.reset();}l=a(294);m=a(295);b=a(530);d=a(531).config;g=b.Qzb;h=b.xzb;k=b.Jub;n=b.gLb;q=b.fLb;p=b.eLb;t=b.mSa;f.prototype.constructor=f;f.prototype.reset=function(){this.IKa=void 0;this.ak=[];this.uKa=this.vKa=!1;};f.prototype.update=function(u,v){var w;this.ak && (this.ak=this.ak.filter(this.FTb,this));if(!1 === this.vKa){w=g(u.Wa).slice(0,d.WPa);0 < w.length && (this.mG(w,m.rw.Jk),this.vKa=!0,this.ak=this.HH(w.concat(this.ak)));}!1 === this.uKa && (w=h(u.Wa).slice(0,d.WPa),0 < w.length && (this.mG(w,m.rw.Jk),this.uKa=!0,this.ak=this.HH(w.concat(this.ak))));switch(v){case m.lw.Rya:v=this.WCb(u);break;case m.lw.fGa:v=this.eDb(u);break;case m.lw.KZ:v=this.fDb(u);break;case m.lw.DP:v=this.aDb(u);break;default:v=this.TCb(u);}this.IKa=u;return v;};f.prototype.WCb=function(u){u=n(u.Wa,d.Y2a,d.JOa);this.mG(u,m.rw.Jk);return this.ak=this.HH(this.ak.concat(u));};f.prototype.eDb=function(u){var v,w;this.H.log("handleScrollHorizontal");v=u.Wa;u=n(v,d.$2a,d.KOa);w=k(v,this.IKa.Wa);v=v[w].list.slice(0,d.xRb);v.concat(u);this.mG(v,m.rw.Uba);return this.HH(v.concat(this.ak));};f.prototype.mG=function(u,v){u.forEach(function(w){if(void 0 === w.mB || w.mB < v)w.mB=v;void 0 === w.RN && (w.RN=l());void 0 === w.$k && (w.$k=l());});};f.prototype.fDb=function(u){this.H.log("handleSearch");u=q(u.Wa,d.PRb);this.mG(u,m.rw.gGa);this.ak=u.concat(this.ak);return this.ak=this.HH(this.ak);};f.prototype.aDb=function(u){var v,w,x,y,A;this.H.log("handlePlayFocus: ",d.VT);v=u.direction;w=u.Wa;u=[];x=t(w);if(void 0 !== x.Pj)switch((u.push(x),v)){case m.ju.MFa:for(v=1;v < d.VT;v++){u.push(new c(x.Pj,x.El + v));}u.push(new c(x.Pj - 1,x.El));u.push(new c(x.Pj + 1,x.El));break;case m.ju.HAa:for(v=1;v < d.VT;v++){u.push(new c(x.Pj,x.El - v));}u.push(new c(x.Pj - 1,x.El));u.push(new c(x.Pj + 1,x.El));break;case m.ju.hfb:u.push(new c(x.Pj - 1,x.El));for(v=1;v <= d.VT / 2;v++){u.push(new c(x.Pj,x.El + v));u.push(new c(x.Pj,x.El - v));}break;case m.ju.M$a:for((u.push(new c(x.Pj + 1,x.El)),v=1);v <= d.VT / 2;v++){u.push(new c(x.Pj,x.El + v));u.push(new c(x.Pj,x.El - v));}}y=[];u.forEach(function(z){A=p(w,z.Pj,z.El);void 0 !== A && y.push(A);});this.mG(y,m.rw.Uba);return this.HH(y.concat(this.ak));};f.prototype.TCb=function(u){this.H.log("ModelOne: handleDefaultCase");u=n(u.Wa,d.$2a,d.KOa);this.mG(u,m.rw.Uba);return this.HH(u.concat(this.ak));};f.prototype.FTb=function(u){return u.mB == m.rw.Jk | u.mB == m.rw.gGa & l() - u.RN < d.MDb;};f.prototype.HH=function(u){var v,w,x,y,A,z,B;v=[];w={};y=0;A=u.length;for(x=0;x < A;x++){z=u[x].$;B=u[x];!1 === (z in w)?(v.push(B),w[z]=y,y++):(z=v[w[z]],B.$k < z.$k && (z.$k=B.$k),B.mB > z.mB && (z.mB=B.mB),B.RN > z.RN && (z.RN=B.RN));}return v;};r.exports=f;},function(r,b,a){r.exports={EventEmitter:a(1240),xh:a(1241)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fd)return (this.fd={},this.fd[c]=[f],!0);l=this.fd[c];return void 0 === l?(this.fd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.fd?this.fd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fd)return !1;l=this.fd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.fd[c],!0);l.splice(f,1);return !0;},Ua:a,emit:a,removeAllListeners:function(c){this.fd && (void 0 === c?delete this.fd:delete this.fd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(pb);})(window);}).call(window);