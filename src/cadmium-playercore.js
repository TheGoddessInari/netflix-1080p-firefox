S8ii.k9r=function (){return typeof S8ii.y9r.R6L==='function'?S8ii.y9r.R6L.apply(S8ii.y9r,arguments):S8ii.y9r.R6L;};S8ii.a7u=function (){return typeof S8ii.e7u.V6L==='function'?S8ii.e7u.V6L.apply(S8ii.e7u,arguments):S8ii.e7u.V6L;};S8ii.Z9r=function (){return typeof S8ii.y9r.V6L==='function'?S8ii.y9r.V6L.apply(S8ii.y9r,arguments):S8ii.y9r.V6L;};S8ii.M6L=function (){return typeof S8ii.K6L.R6L==='function'?S8ii.K6L.R6L.apply(S8ii.K6L,arguments):S8ii.K6L.R6L;};S8ii.i1r=function (){return typeof S8ii.q6r.V6L==='function'?S8ii.q6r.V6L.apply(S8ii.q6r,arguments):S8ii.q6r.V6L;};S8ii.P2L=function (){return typeof S8ii.X2L.R6L==='function'?S8ii.X2L.R6L.apply(S8ii.X2L,arguments):S8ii.X2L.R6L;};S8ii.d39=function(k39){return{R6L:function(){var n39,v39=arguments;switch(k39){case 1:n39=v39[1]+v39[0];break;case 0:n39=v39[0]-v39[1];break;}return n39;},V6L:function(s39){k39=s39;}};}();function S8ii(){}S8ii.K6L=function(A6L){return{R6L:function(){var m6L,o6L=arguments;switch(A6L){case 0:m6L=o6L[0]-o6L[1];break;case 1:m6L=o6L[2]+o6L[1]-o6L[0];break;case 2:m6L=o6L[1]+o6L[0];break;}return m6L;},V6L:function(Y6L){A6L=Y6L;}};}();S8ii.F9U=function(T9U){return{R6L:function(){var I9U,S9U=arguments;switch(T9U){case 1:I9U=void S9U[1]!==S9U[0];break;case 0:I9U=S9U[0]+S9U[1];break;case 2:I9U=S9U[1]-S9U[0];break;}return I9U;},V6L:function(a9U){T9U=a9U;}};}();S8ii.m1J=function (){return typeof S8ii.Y1J.R6L==='function'?S8ii.Y1J.R6L.apply(S8ii.Y1J,arguments):S8ii.Y1J.R6L;};S8ii.Z1r=function (){return typeof S8ii.q6r.V6L==='function'?S8ii.q6r.V6L.apply(S8ii.q6r,arguments):S8ii.q6r.V6L;};S8ii.o39=function (){return typeof S8ii.d39.R6L==='function'?S8ii.d39.R6L.apply(S8ii.d39,arguments):S8ii.d39.R6L;};S8ii.q6r=function(b6r){return{R6L:function(){var K6r,F6r=arguments;switch(b6r){case 0:K6r=F6r[0]+F6r[1];break;}return K6r;},V6L:function(t6r){b6r=t6r;}};}();S8ii.y5z=function (){return typeof S8ii.z3z.V6L==='function'?S8ii.z3z.V6L.apply(S8ii.z3z,arguments):S8ii.z3z.V6L;};S8ii.L3p=function (){return typeof S8ii.w3p.R6L==='function'?S8ii.w3p.R6L.apply(S8ii.w3p,arguments):S8ii.w3p.R6L;};S8ii.Y1J=function(Z1J){return{R6L:function(){var q1J,c1J=arguments;switch(Z1J){case 1:q1J=c1J[2]*(c1J[0]+c1J[3])-c1J[1];break;case 0:q1J=c1J[1]+c1J[0];break;}return q1J;},V6L:function(l1J){Z1J=l1J;}};}();S8ii.x39=function (){return typeof S8ii.d39.V6L==='function'?S8ii.d39.V6L.apply(S8ii.d39,arguments):S8ii.d39.V6L;};S8ii.N1o=function(l7o){return{R6L:function(){var v1o,z7o=arguments;switch(l7o){case 0:v1o=(z7o[2]-z7o[0])/z7o[1];break;case 1:v1o=z7o[1]-z7o[0];break;}return v1o;},V6L:function(V1o){l7o=V1o;}};}();S8ii.X2L=function(D2L){return{R6L:function(){var y2L,a2L=arguments;switch(D2L){case 1:y2L=a2L[2]*a2L[3]/a2L[1]/a2L[0];break;case 2:y2L=(-a2L[2]-a2L[0])/-a2L[1];break;case 0:y2L=a2L[3]*a2L[2]*a2L[0]-a2L[1];break;}return y2L;},V6L:function(t2L){D2L=t2L;}};}();S8ii.d30=function (){return typeof S8ii.T30.R6L==='function'?S8ii.T30.R6L.apply(S8ii.T30,arguments):S8ii.T30.R6L;};S8ii.u1o=function (){return typeof S8ii.N1o.R6L==='function'?S8ii.N1o.R6L.apply(S8ii.N1o,arguments):S8ii.N1o.R6L;};S8ii.y3M=function (){return typeof S8ii.G3M.R6L==='function'?S8ii.G3M.R6L.apply(S8ii.G3M,arguments):S8ii.G3M.R6L;};S8ii.v7u=function (){return typeof S8ii.e7u.V6L==='function'?S8ii.e7u.V6L.apply(S8ii.e7u,arguments):S8ii.e7u.V6L;};S8ii.q9U=function (){return typeof S8ii.F9U.R6L==='function'?S8ii.F9U.R6L.apply(S8ii.F9U,arguments):S8ii.F9U.R6L;};S8ii.I4i=function (){return typeof S8ii.N4i.R6L==='function'?S8ii.N4i.R6L.apply(S8ii.N4i,arguments):S8ii.N4i.R6L;};S8ii.x9U=function (){return typeof S8ii.F9U.R6L==='function'?S8ii.F9U.R6L.apply(S8ii.F9U,arguments):S8ii.F9U.R6L;};S8ii.s7g=function(i7g){return{R6L:function(){var P7g,l7g=arguments;switch(i7g){case 1:P7g=l7g[1]*l7g[2]+l7g[0];break;case 0:P7g=l7g[0]-l7g[1];break;}return P7g;},V6L:function(G7g){i7g=G7g;}};}();S8ii.z3z=function(r3z){return{R6L:function(){var H3z,m3z=arguments;switch(r3z){case 0:H3z=(m3z[1]+m3z[0])/m3z[2];break;case 2:H3z=m3z[1]-m3z[0];break;case 1:H3z=m3z[2]-m3z[0]+m3z[1];break;}return H3z;},V6L:function(V3z){r3z=V3z;}};}();S8ii.T30=function(V30){return{R6L:function(){var w30,A30=arguments;switch(V30){case 3:w30=A30[0]+A30[1];break;case 0:w30=A30[0]>A30[1];break;case 1:w30=A30[1]>=A30[0];break;case 2:w30=A30[0]<=A30[1];break;}return w30;},V6L:function(o30){V30=o30;}};}();S8ii.n5z=function (){return typeof S8ii.z3z.V6L==='function'?S8ii.z3z.V6L.apply(S8ii.z3z,arguments):S8ii.z3z.V6L;};S8ii.J39=function (){return typeof S8ii.d39.R6L==='function'?S8ii.d39.R6L.apply(S8ii.d39,arguments):S8ii.d39.R6L;};S8ii.C7g=function (){return typeof S8ii.s7g.V6L==='function'?S8ii.s7g.V6L.apply(S8ii.s7g,arguments):S8ii.s7g.V6L;};S8ii.j4i=function (){return typeof S8ii.N4i.V6L==='function'?S8ii.N4i.V6L.apply(S8ii.N4i,arguments):S8ii.N4i.V6L;};S8ii.w3p=function(q3p){return{R6L:function(){var G3p,p3p=arguments;switch(q3p){case 4:G3p=p3p[0]/p3p[1]|p3p[2];break;case 0:G3p=p3p[1]-p3p[0];break;case 5:G3p=(p3p[0]/p3p[2]|p3p[1])*p3p[3];break;case 3:G3p=p3p[2]*p3p[0]/p3p[3]|p3p[1];break;case 1:G3p=p3p[2]+p3p[3]/p3p[1]*p3p[0];break;case 2:G3p=p3p[0]/p3p[1];break;}return G3p;},V6L:function(f3p){q3p=f3p;}};}();S8ii.X7g=function (){return typeof S8ii.s7g.V6L==='function'?S8ii.s7g.V6L.apply(S8ii.s7g,arguments):S8ii.s7g.V6L;};S8ii.y6L=function (){return typeof S8ii.K6L.V6L==='function'?S8ii.K6L.V6L.apply(S8ii.K6L,arguments):S8ii.K6L.V6L;};S8ii.x7u=function (){return typeof S8ii.e7u.R6L==='function'?S8ii.e7u.R6L.apply(S8ii.e7u,arguments):S8ii.e7u.R6L;};S8ii.K20=function (){return typeof S8ii.T30.V6L==='function'?S8ii.T30.V6L.apply(S8ii.T30,arguments):S8ii.T30.V6L;};S8ii.b9r=function (){return typeof S8ii.y9r.R6L==='function'?S8ii.y9r.R6L.apply(S8ii.y9r,arguments):S8ii.y9r.R6L;};S8ii.p3M=function (){return typeof S8ii.G3M.V6L==='function'?S8ii.G3M.V6L.apply(S8ii.G3M,arguments):S8ii.G3M.V6L;};S8ii.O1J=function (){return typeof S8ii.Y1J.R6L==='function'?S8ii.Y1J.R6L.apply(S8ii.Y1J,arguments):S8ii.Y1J.R6L;};S8ii.Q9U=function (){return typeof S8ii.F9U.V6L==='function'?S8ii.F9U.V6L.apply(S8ii.F9U,arguments):S8ii.F9U.V6L;};S8ii.r3M=function (){return typeof S8ii.G3M.V6L==='function'?S8ii.G3M.V6L.apply(S8ii.G3M,arguments):S8ii.G3M.V6L;};S8ii.u5z=function (){return typeof S8ii.z3z.R6L==='function'?S8ii.z3z.R6L.apply(S8ii.z3z,arguments):S8ii.z3z.R6L;};S8ii.D6r=function (){return typeof S8ii.q6r.R6L==='function'?S8ii.q6r.R6L.apply(S8ii.q6r,arguments):S8ii.q6r.R6L;};S8ii.N4i=function(U4i){return{R6L:function(){var t4i,x4i=arguments;switch(U4i){case 0:t4i=(x4i[1]-x4i[2])*x4i[0];break;}return t4i;},V6L:function(l4i){U4i=l4i;}};}();S8ii.d3p=function (){return typeof S8ii.w3p.V6L==='function'?S8ii.w3p.V6L.apply(S8ii.w3p,arguments):S8ii.w3p.V6L;};S8ii.e3M=function (){return typeof S8ii.G3M.R6L==='function'?S8ii.G3M.R6L.apply(S8ii.G3M,arguments):S8ii.G3M.R6L;};S8ii.B3p=function (){return typeof S8ii.w3p.R6L==='function'?S8ii.w3p.R6L.apply(S8ii.w3p,arguments):S8ii.w3p.R6L;};S8ii.S6L=function (){return typeof S8ii.K6L.R6L==='function'?S8ii.K6L.R6L.apply(S8ii.K6L,arguments):S8ii.K6L.R6L;};S8ii.e7u=function(b7u){return{R6L:function(){var I7u,U7u=arguments;switch(b7u){case 1:I7u=(U7u[0]+U7u[2])/U7u[1];break;case 0:I7u=U7u[1]-U7u[0];break;case 2:I7u=(U7u[0]-U7u[3])*U7u[1]/-U7u[2];break;}return I7u;},V6L:function(p7u){b7u=p7u;}};}();S8ii.y7g=function (){return typeof S8ii.s7g.R6L==='function'?S8ii.s7g.R6L.apply(S8ii.s7g,arguments):S8ii.s7g.R6L;};S8ii.Z4i=function (){return typeof S8ii.N4i.R6L==='function'?S8ii.N4i.R6L.apply(S8ii.N4i,arguments):S8ii.N4i.R6L;};S8ii.x1J=function (){return typeof S8ii.Y1J.V6L==='function'?S8ii.Y1J.V6L.apply(S8ii.Y1J,arguments):S8ii.Y1J.V6L;};S8ii.g2L=function (){return typeof S8ii.X2L.R6L==='function'?S8ii.X2L.R6L.apply(S8ii.X2L,arguments):S8ii.X2L.R6L;};S8ii.W4i=function (){return typeof S8ii.N4i.V6L==='function'?S8ii.N4i.V6L.apply(S8ii.N4i,arguments):S8ii.N4i.V6L;};S8ii.y1J=function (){return typeof S8ii.Y1J.V6L==='function'?S8ii.Y1J.V6L.apply(S8ii.Y1J,arguments):S8ii.Y1J.V6L;};S8ii.G6L=function (){return typeof S8ii.K6L.V6L==='function'?S8ii.K6L.V6L.apply(S8ii.K6L,arguments):S8ii.K6L.V6L;};S8ii.d9U=function (){return typeof S8ii.F9U.V6L==='function'?S8ii.F9U.V6L.apply(S8ii.F9U,arguments):S8ii.F9U.V6L;};S8ii.L1o=function (){return typeof S8ii.N1o.R6L==='function'?S8ii.N1o.R6L.apply(S8ii.N1o,arguments):S8ii.N1o.R6L;};S8ii.y9r=function(r9r){return{R6L:function(){var K9r,q9r=arguments;switch(r9r){case 0:K9r=q9r[2]*q9r[1]/q9r[3]/q9r[0]^q9r[4];break;}return K9r;},V6L:function(L9r){r9r=L9r;}};}();S8ii.O6r=function (){return typeof S8ii.q6r.R6L==='function'?S8ii.q6r.R6L.apply(S8ii.q6r,arguments):S8ii.q6r.R6L;};S8ii.h9r=function (){return typeof S8ii.y9r.V6L==='function'?S8ii.y9r.V6L.apply(S8ii.y9r,arguments):S8ii.y9r.V6L;};S8ii.z20=function (){return typeof S8ii.T30.V6L==='function'?S8ii.T30.V6L.apply(S8ii.T30,arguments):S8ii.T30.V6L;};S8ii.W3p=function (){return typeof S8ii.w3p.V6L==='function'?S8ii.w3p.V6L.apply(S8ii.w3p,arguments):S8ii.w3p.V6L;};S8ii.F7g=function (){return typeof S8ii.s7g.R6L==='function'?S8ii.s7g.R6L.apply(S8ii.s7g,arguments):S8ii.s7g.R6L;};S8ii.J2L=function (){return typeof S8ii.X2L.V6L==='function'?S8ii.X2L.V6L.apply(S8ii.X2L,arguments):S8ii.X2L.V6L;};S8ii.M7u=function (){return typeof S8ii.e7u.R6L==='function'?S8ii.e7u.R6L.apply(S8ii.e7u,arguments):S8ii.e7u.R6L;};S8ii.y1o=function (){return typeof S8ii.N1o.V6L==='function'?S8ii.N1o.V6L.apply(S8ii.N1o,arguments):S8ii.N1o.V6L;};S8ii.P39=function (){return typeof S8ii.d39.V6L==='function'?S8ii.d39.V6L.apply(S8ii.d39,arguments):S8ii.d39.V6L;};S8ii.a30=function (){return typeof S8ii.T30.R6L==='function'?S8ii.T30.R6L.apply(S8ii.T30,arguments):S8ii.T30.R6L;};S8ii.g1o=function (){return typeof S8ii.N1o.V6L==='function'?S8ii.N1o.V6L.apply(S8ii.N1o,arguments):S8ii.N1o.V6L;};S8ii.G3M=function(P3M){return{R6L:function(){var T3M,k3M=arguments;switch(P3M){case 1:T3M=k3M[4]+k3M[1]+k3M[0]+k3M[3]+k3M[2];break;case 2:T3M=k3M[0]+k3M[2]+k3M[1];break;case 0:T3M=k3M[1]+k3M[0];break;}return T3M;},V6L:function(E3M){P3M=E3M;}};}();S8ii.K2L=function (){return typeof S8ii.X2L.V6L==='function'?S8ii.X2L.V6L.apply(S8ii.X2L,arguments):S8ii.X2L.V6L;};S8ii.I3z=function (){return typeof S8ii.z3z.R6L==='function'?S8ii.z3z.R6L.apply(S8ii.z3z,arguments):S8ii.z3z.R6L;};(function(){(function(M,ka){var vb,Fb,Ta,uc,sa,wa,ab,Cd,Dd,Oa,Pa,Qb,Ed,vc,Fd,Gd,Vc,p,pa,ic,Hd,Wc,B,R,fa,xb,nb,Ya,ea,bb,Sa,Sb,Ga,Ea,Ka,eb,wc,yb,sb,tb,xc,Xc,Id,Ib,Jb,Tb,Yc,$b,zb,yc,Pb,Zc,Jd,ac,$c,ad,bd,cd,Ab,dd,ed,fd,cc,Bb,Cb,dc,zc,Ac,Bc,kb,Me,Ra,Rb,Kd,Cc,pb,Ld,Ne,ub,Md,Nd,Dc,Od,Oe,hc,Pd,Le,Pe,gd,Ec,Qe,Re,zd,Se,Ad,Qd,ob,jc,Rd,kc,Sd,qb,Td,hd,Ud,jd,Fc,Vd,Ue,Bd,Gc,Uc,Wd,Te,Xd,kd,Yd,Zd,$d,ld,Ob,be,ae,Ve,lc,ce,nd,mc,de,md,ee,fe,od,he,ie,Jc,Wb,ec,Xb,je,ke,le,me,ne,oe,Kc,We,pe,qe,qd,re,jb,Ub,bc,Vb,Lb,Db,Hc,cb,Hb,ge,nc,Yb,se,Xe,oc,te,Ye,fc,ue,Lc,rd,pc,sd,ve,qc,we,xe,ye,Ze,rc,ze,$e,af,Ae,pd,Ic,Be,Ke,Ce,bf,df,cf,gc,tc,ef,yd,ff,De;function Xa(g,p){if(!p||"utf-8"===p)return Oc(g);throw Error("unsupported encoding");}function Ua(g,p){if(!p||"utf-8"===p)return Pc(g);throw Error("unsupported encoding");}function Oc(g){for(var p=0,t,Qa=g.length,B="";p<Qa;){t=g[p++];if(t&128)if(192===(t&224))t=((t&31)<<6)+(g[p++]&63);else if(224===(t&240))t=((t&15)<<12)+((g[p++]&63)<<6)+(g[p++]&63);else throw Error("unsupported character");B+=String.fromCharCode(t);}return B;}function Pc(g){var p,t,Qa,B,u;p=g.length;t=0;B=0;for(Qa=p;Qa--;)u=g.charCodeAt(Qa),128>u?t++:t=2048>u?t+2:t+3;t=new Uint8Array(t);for(Qa=0;Qa<p;Qa++)u=g.charCodeAt(Qa),128>u?t[B++]=u:(2048>u?t[B++]=192|u>>>6:(t[B++]=224|u>>>12,t[B++]=128|u>>>6&63),t[B++]=128|u&63);return t;}function $a(g,t){if(g===t)return!0;if(!g||!t||g.length!=t.length)return!1;for(var p=0;p<g.length;++p)if(g[p]!=t[p])return!1;return!0;}function fb(g){var u;if(!(g&&g.constructor==Uint8Array||Array.isArray(g)))throw new TypeError("Cannot compute the hash code of "+g);for(var t=1,p=0;p<g.length;++p){u=g[p];if("number"!==typeof u)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+u);t=31*t+u&4294967295;}return t;}function td(g,t){var Ca;if(g===t)return!0;if(!g||!t)return!1;t instanceof Array||(t=[t]);for(var p=0;p<t.length;++p){for(var u=t[p],B=!1,Nb=0;Nb<g.length;++Nb){Ca=g[Nb];if(u.equals&&"function"===typeof u.equals&&u.equals(Ca)||u==Ca){B=!0;break;}}if(!B)return!1;}return!0;}function ud(g,t){return td(g,t)&&(g.length==t.length||td(t,g));}function t(g,t,p){var u,B;p&&(u=p);if("object"!==typeof g||"function"!==typeof g.result||"function"!==typeof g.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{B=t.call(u,g);B!==ka&&g.result(B);}catch(Qc){try{g.error(Qc);}catch(Ca){}}}function u(g,p,u){if("object"!==typeof g||"function"!==typeof g.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");t(g,p,u);}function g(g,t,p){1E5>g&&(g=1E5+g);Object.defineProperties(this,{internalCode:{value:g,writable:!1,configurable:!1},responseCode:{value:t,writable:!1,configurable:!1},message:{value:p,writable:!1,configurable:!1}});}function Rc(g){switch(g){case Ra.PSK:case Ra.MGK:return!0;default:return!1;}}function vd(g){switch(g){case Ra.PSK:case Ra.MGK:case Ra.X509:case Ra.RSA:case Ra.NPTICKET:case Ra.ECC:return!0;default:return!1;}}function He(g){return g.toJSON();}function wd(t,p){tc?p.result(tc):Promise.resolve().then(function(){return Ka.getKeyByName(t);})["catch"](function(){return Ka.generateKey({name:t},!1,["wrapKey","unwrapKey"]);}).then(function(g){tc=g;p.result(tc);})["catch"](function(t){p.error(new B(g.INTERNAL_EXCEPTION,"Unable to get system key"));});}function xd(g,t){var p,u,B;p=t.masterToken;u=t.userIdToken;B=t.serviceTokens;return{NccpMethod:g.method,UserId:g.userId,UT:u&&u.serialNumber,MT:p&&p.serialNumber+":"+p.sequenceNumber,STCount:B&&B.length};}function Ie(g){return g.uniqueKey();}function Je(u,M,rb,Qa,sc){var Ia;function Nb(g,L){g.errorCode===p.ENTITY_REAUTH||g.errorCode===p.ENTITYDATA_REAUTH?(Qa.clearCryptoContexts(),Va()):g.errorCode!==p.USER_REAUTH&&g.errorCode!==p.USERDATA_REAUTH||Ca(L);}function Ca(g){if(g=Qa.getUserIdToken(g))Qa.removeUserIdToken(g),Va();}function Y(g,L,G){var v;v=[];(function z(){g.read(-1,L,{result:function(g){t(G,function(){var w,C,H,G,L;if(g)v.push(g),z();else switch(v.length){case 0:return new Uint8Array(0);case 1:return v[0];default:G=v.length,L=0;for(C=w=0;C<G;C++)w+=v[C].length;w=new Uint8Array(w);for(C=0;C<G;C++)H=v[C],w.set(H,L),L+=H.length;return w;}});},timeout:function(){G.timeout();},error:function(g){G.error(g);}});}());}function Va(){Qa.getStoreState({result:function(g){for(var L=Ia.slice(),G=0;G<L.length;G++)L[G]({storeState:g});},timeout:function(){u.error("Timeout getting store state",""+e);},error:function(g){u.error("Error getting store state",""+g);}});}Ia=[];this.addEventHandler=function(g,L){switch(g){case"shouldpersist":Ia.push(L);}};this.send=function(t){return new Promise(function(L,G){var v,y,z;v=t.timeout;y=new yd(u,rb,t,Qa.getKeyRequestData());z=new zd(t.url);u.trace("Sending MSL request");M.request(rb,y,z,v,{result:function(y){var w;y&&y.getMessageHeader();u.trace("Received MSL response",{Method:t.method});if(y){t.allowTokenRefresh&&Va();w=y.getErrorHeader();w?(Nb(w,t.userId),G({success:!1,error:w})):Y(y,v,{result:function(g){L({success:!0,body:Xa(g)});},timeout:function(){G({success:!1,subCode:sc.MSL_READ_TIMEOUT});},error:function(g){G({success:!1,error:g});}});}else G({success:!1,error:new B(g.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){G({success:!1,subCode:sc.MSL_REQUEST_TIMEOUT});},error:function(g){G({success:!1,error:g});}});});};this.hasUserIdToken=function(g){return!!Qa.getUserIdToken(g);};this.getUserIdTokenKeys=function(){return Qa.getUserIdTokenKeys();};this.removeUserIdToken=Ca;this.clearUserIdTokens=function(){Qa.clearUserIdTokens();Va();};this.isErrorReauth=function(g){return g&&g.errorCode==p.USERDATA_REAUTH;};this.isErrorHeader=function(g){return g instanceof Ob;};this.getErrorCode=function(g){return g&&g.errorCode;};this.getStateForMdx=function(g){var L,G;L=Qa.getMasterToken();g=Qa.getUserIdToken(g);G=Qa.getCryptoContext(L);return{masterToken:L,userIdToken:g,cryptoContext:G};};this.buildPlayDataRequest=function(g,L){var G;G=new Ad();M.request(rb,new yd(u,rb,g),G,g.timeout,{result:function(){L.result(G.getRequest());},error:function(){L.result(G.getRequest());},timeout:function(){L.timeout();}});};this.rekeyUserIdToken=function(g,L){Qa.rekeyUserIdToken(g,L);Va();};this.getServiceTokens=function(g){var L;L=Qa.getMasterToken();(g=Qa.getUserIdToken(g))&&!g.isBoundTo(L)&&(g=ka);return Qa.getServiceTokens(L,g);};this.removeServiceToken=function(g){var L;L=Qa.getMasterToken();Qa.getServiceTokens(L).find(function(G){return G.name===g;})&&(Qa.removeServiceTokens(g,L),Va());};}function Sc(t,p,u,Qa,M,R){function Ca(p){var Y;return Promise.resolve().then(function(){Y=t.authenticationKeyNames[p];if(!Y)throw new B(g.KEY_IMPORT_ERROR,"Invalid config keyName "+p);return Ka.getKeyByName(Y);}).then(function(t){return new Promise(function(p,L){$b(t,{result:p,error:function(){L(new B(g.KEY_IMPORT_ERROR,"Unable to create "+Y+" CipherKey"));}});});})["catch"](function(t){throw new B(g.KEY_IMPORT_ERROR,"Unable to import "+Y,t);});}return Promise.resolve().then(function(){if(!Ka.getKeyByName)throw new B(g.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ca("e"),Ca("h"),Ca("w")]);}).then(function(g){var Y,Ia,La;Y={};Y[p]=new u(t.esn,g[0],g[1],g[2]);g=new Qa(t.esn);Ia=new Ke();Ia=[new M(Ia)];La=new R(p);return{entityAuthFactories:Y,entityAuthData:g,keyExchangeFactories:Ia,keyRequestData:La};});}function Tc(t,p,u){var rb;function Qa(){return Promise.resolve().then(function(){return Ka.generateKey(p,!1,["wrapKey","unwrapKey"]);}).then(function(g){return M(g.publicKey,g.privateKey);});}function M(t,p){return Promise.all([new Promise(function(p,Y){Pb(t,{result:p,error:function(t){Y(new B(g.INTERNAL_EXCEPTION,"Unable to create keyx public key",t));}});}),new Promise(function(t,Y){ac(p,{result:t,error:function(t){Y(new B(g.INTERNAL_EXCEPTION,"Unable to create keyx private key",t));}});})]).then(function(g){g=new Uc("rsaKeypairId",u,g[0],g[1]);rb&&(g.storeData={keyxPublicKey:t,keyxPrivateKey:p});return g;});}rb=!t.systemKeyWrapFormat;return Promise.resolve().then(function(){var g,p;g=t.storeState;p=g&&g.keyxPublicKey;g=g&&g.keyxPrivateKey;return rb&&p&&g?M(p,g):Qa();}).then(function(g){var p,Va,Ia;p={};p[Ra.NONE]=new Le();Va=new hc(t.esn);Ia=[new Bd()];return{entityAuthFactories:p,entityAuthData:Va,keyExchangeFactories:Ia,keyRequestData:g,createKeyRequestData:rb?Qa:ka};});}Fb=M.nfCrypto||M.msCrypto||M.webkitCrypto||M.crypto;Ta=Fb&&(Fb.webkitSubtle||Fb.subtle);uc=M.nfCryptokeys||M.msCryptokeys||M.webkitCryptokeys||M.cryptokeys;(function(g){var t,p;t=function(){function g(g,p){g instanceof t?(this.abv=g.abv,this.position=g.position):(this.abv=g,this.position=p||0);}g.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(g){this.abv[this.position++]=g;},peekByte:function(g){return this.abv[g];},copyBytes:function(g,p,t){var Y;Y=new Uint8Array(this.abv.buffer,this.position,t);g=new Uint8Array(g.buffer,p,t);Y.set(g);this.position+=t;},seek:function(g){this.position=g;},skip:function(g){this.position+=g;},getPosition:function(){return this.position;},setPosition:function(g){this.position=g;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return g;}();p={};(function(){var H,w,C,ra,ca,Na,ua,P,ta;function g(w,v){var U;v.writeByte(w.tagClass<<6|w.constructed<<5|w.tag);U=w.payloadLen;if(128>U)v.writeByte(U);else{for(var C=U,y=0;C;)++y,C>>=8;v.writeByte(128|y);for(C=0;C<y;++C)v.writeByte(U>>8*(y-C-1)&255);}if(w.child)for(w.tag==H.BIT_STRING&&v.writeByte(0),U=w._child;U;){if(!g(U,v))return!1;U=U.next;}else switch(w.tag){case H.INTEGER:w.backingStore[w.dataIdx]>>7&&v.writeByte(0);v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case H.BIT_STRING:v.writeByte(0);v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case H.OCTET_STRING:v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case H.OBJECT_IDENTIFIER:v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);}return!0;}function u(g){var w,U;w=g.readByte();U=w&127;if(U==w)return U;if(3<U||0===U)return-1;for(var v=w=0;v<U;++v)w=w<<8|g.readByte();return w;}function B(g,v,C){var U,y,G,z,X,ia,P;U=g.backingStore;y=new t(U,v);v+=C;C=g;if(8<ca++)return ka;for(;y.getPosition()<v;){y.getPosition();X=y.readByte();if(31==(X&31)){for(z=0;X&128;)z<<=8,z|=X&127;X=z;}G=X;z=G&31;if(0>z||30<z)return ka;X=u(y);if(0>X||X>y.getRemaining())return ka;C.constructed=G&32;C.tagClass=(G&192)>>6;C.tag=z;C.dataLen=X;C.dataIdx=y.getPosition();z=y;ia=G;G=X;if(ia&32)z=!0;else if(ia<H.BIT_STRING||ia>H.OCTET_STRING)z=!1;else{P=new t(z);ia==H.BIT_STRING&&P.skip(1);P.readByte()>>6&1?z=!1:(ia=u(P),z=P.getPosition()-z.getPosition()+ia==G);}z&&(z=y.getPosition(),G=X,C.tag==H.BIT_STRING&&(C.dataIdx++,C.dataLen--,z++,G--),C.child=new w(U,C),B(C.child,z,G));C.tag==H.INTEGER&&(z=y.getPosition(),0==y.peekByte(z)&&y.peekByte(z+1)>>7&&(C.dataIdx++,C.dataLen--));y.skip(X);y.getPosition()<v&&(C.next=new w(U,C.parent),C=C.next);}ca--;return g;}function M(g,w,v){if(9!=v)return!1;for(v=0;9>v;++v)if(g[w++]!=Na[v])return!1;return!0;}function Y(g){var w;if(!(g&&g.child&&g.child.next&&g.child.child&&g.child.next.child))return!1;w=g.child.child;return M(w.backingStore,w.dataIdx,w.dataLen)&&2==g.nChildren&&2==g.child.nChildren&&2==g.child.next.child.nChildren?!0:!1;}function Va(g){var w;if(!(g&&g.child&&g.child.next&&g.child.next.child&&g.child.next.next&&g.child.next.next.child))return!1;w=g.child.next.child;return M(w.backingStore,w.dataIdx,w.dataLen)&&3==g.nChildren&&2==g.child.next.nChildren&&9==g.child.next.next.child.nChildren?!0:!1;}function Ia(g){var w,v;w=C.createSequenceNode();v=new ra(w);v.addChild(C.createSequenceNode());v.addChild(C.createOidNode(Na));v.addSibling(C.createNullNode());v.addToParent(w,C.createBitStringNode(null));v.addChild(C.createSequenceNode());v.addChild(C.createIntegerNode(g.n));v.addSibling(C.createIntegerNode(g.e));return w;}function La(g){var w;g=g.child.next.child.child;w=g.data;g=g.next;return new ua(w,g.data,null,null);}function L(g){var w,v;w=C.createSequenceNode();v=new ra(w);v.addChild(C.createIntegerNode(new Uint8Array([0])));v.addSibling(C.createSequenceNode());v.addChild(C.createOidNode(Na));v.addSibling(C.createNullNode());v.addToParent(w,C.createOctetStringNode(null));v.addChild(C.createSequenceNode());v.addChild(C.createIntegerNode(new Uint8Array([0])));v.addSibling(C.createIntegerNode(g.n));v.addSibling(C.createIntegerNode(g.e));v.addSibling(C.createIntegerNode(g.d));v.addSibling(C.createIntegerNode(g.p));v.addSibling(C.createIntegerNode(g.q));v.addSibling(C.createIntegerNode(g.dp));v.addSibling(C.createIntegerNode(g.dq));v.addSibling(C.createIntegerNode(g.qi));return w;}function G(g){var w;w=[];g=g.child.next.next.child.child.next;for(var v=0;8>v;v++)w.push(g.data),g=g.next;return new P(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7]);}function v(g,w,v,C){if(!(g instanceof ua||g instanceof P))return ka;if(v)for(var y=0;y<v.length;++y)if(-1==ta.indexOf(v[y]))return ka;w={kty:"RSA",alg:w,key_ops:v||[],ext:C==ka?!1:C,n:sa(g.n,!0),e:sa(g.e,!0)};g instanceof P&&(w.d=sa(g.d,!0),w.p=sa(g.p,!0),w.q=sa(g.q,!0),w.dp=sa(g.dp,!0),w.dq=sa(g.dq,!0),w.qi=sa(g.qi,!0));return w;}function y(g){var w,v,C,y,U,G,z,H,ca,L;if(!g.kty||"RSA"!=g.kty||!g.n||!g.e)return ka;w="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(g.alg&&-1==w.indexOf(g.alg))return ka;w=[];g.use?"enc"==g.use?w=["encrypt","decrypt","wrap","unwrap"]:"sig"==g.use&&(w=["sign","verify"]):w=g.key_ops;v=g.ext;C=wa(g.n,!0);y=wa(g.e,!0);if(g.d){U=wa(g.d,!0);G=wa(g.p,!0);z=wa(g.q,!0);H=wa(g.dp,!0);ca=wa(g.dq,!0);L=wa(g.qi,!0);return new P(C,y,U,G,z,H,ca,L,g.alg,w,v);}return new ua(C,y,v,w);}function z(g,w,v,C){this.der=g;this.type=w;this.keyOps=v;this.extractable=C;}H={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};w=function(g,w,v,C,y,G){this._data=g;this._parent=w||ka;this._constructed=v||!1;this._tagClass=0;this._tag=C||0;this._dataIdx=y||0;this._dataLen=G||0;};w.prototype={_child:ka,_next:ka,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(g){this._constructed=0!=g?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(g){this._tagClass=g;},get tag(){return this._tag;},set tag(g){this._tag=g;},get dataIdx(){return this._dataIdx;},set dataIdx(g){this._dataIdx=g;},get dataLen(){return this._dataLen;},set dataLen(g){this._dataLen=g;},get child(){return this._child;},set child(g){this._child=g;this._child.parent=this;},get next(){return this._next;},set next(g){this._next=g;},get parent(){return this._parent;},set parent(g){this._parent=g;},get payloadLen(){var g;g=0;if(this._child){for(var w=this._child;w;)g+=w.length,w=w.next;this._tag==H.BIT_STRING&&g++;}else switch(this._tag){case H.INTEGER:g=this._dataLen;this._data[this._dataIdx]>>7&&g++;break;case H.BIT_STRING:g=this._dataLen+1;break;case H.OCTET_STRING:g=this._dataLen;break;case H.NULL:g=0;break;case H.OBJECT_IDENTIFIER:M(this._data,this._dataIdx,this._dataLen)&&(g=9);}return g;},get length(){var g,w;g=this.payloadLen;if(127<g)for(w=g;w;)w>>=8,++g;return g+2;},get der(){var w,v;w=this.length;if(!w)return ka;w=new Uint8Array(w);v=new t(w);return g(this,v)?w:ka;},get nChildren(){for(var g=0,w=this._child;w;)g++,w=w.next;return g;}};C={createSequenceNode:function(){return new w(null,null,!0,H.SEQUENCE,null,null);},createOidNode:function(g){return new w(g,null,!1,H.OBJECT_IDENTIFIER,0,g?g.length:0);},createNullNode:function(){return new w(null,null,!1,H.NULL,null,null);},createBitStringNode:function(g){return new w(g,null,!1,H.BIT_STRING,0,g?g.length:0);},createIntegerNode:function(g){return new w(g,null,!1,H.INTEGER,0,g?g.length:0);},createOctetStringNode:function(g){return new w(g,null,!1,H.OCTET_STRING,0,g?g.length:0);}};ra=function(g){this._currentNode=this._rootNode=g;};ra.prototype={addChild:function(g){this.addTo(this._currentNode,g);},addSibling:function(g){this.addTo(this._currentNode.parent,g);},addTo:function(g,w){this._currentNode=w;this._currentNode.parent=g;if(g.child){for(var v=g.child;v.next;)v=v.next;v.next=w;}else g.child=w;},addToParent:function(g,w){this.findNode(g)&&this.addTo(g,w);},findNode:function(g){for(var w=this._currentNode;w;){if(g==w)return!0;w=w.parent;}return!1;}};ca=0;Na=new Uint8Array([42,134,72,134,247,13,1,1,1]);ua=function(g,w,v,C){this.n=g;this.e=w;this.ext=v;this.keyOps=C;};P=function(g,w,v,C,y,G,z,H,P,ca,L){this.n=g;this.e=w;this.d=v;this.p=C;this.q=y;this.dp=G;this.dq=z;this.qi=H;this.alg=P;this.keyOps=ca;this.ext=L;};ta="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");z.prototype.getDer=function(){return this.der;};z.prototype.getType=function(){return this.type;};z.prototype.getKeyOps=function(){return this.keyOps;};z.prototype.getExtractable=function(){return this.extractable;};p.parse=function(g){ca=0;return B(new w(g),0,g.length);};p.show=function(g,w){};p.isRsaSpki=Y;p.isRsaPkcs8=Va;p.NodeFactory=C;p.Builder=ra;p.tagVal=H;p.RsaPublicKey=ua;p.RsaPrivateKey=P;p.buildRsaSpki=Ia;p.parseRsaSpki=function(g){g=p.parse(g);return Y?La(g):ka;};p.buildRsaPkcs8=L;p.parseRsaPkcs8=function(g){g=p.parse(g);return Va(g)?G(g):ka;};p.buildRsaJwk=v;p.parseRsaJwk=y;p.RsaDer=z;p.rsaDerToJwk=function(g,w,C,y){g=p.parse(g);if(!g)return ka;if(Y(g))g=La(g);else if(Va(g))g=G(g);else return ka;return v(g,w,C,y);};p.jwkToRsaDer=function(g){var w,v;g=y(g);if(!g)return ka;if(g instanceof ua)w="spki",v=Ia(g).der;else if(g instanceof P)w="pkcs8",v=L(g).der;else return ka;return new z(v,w,g.keyOps,g.ext);};p.webCryptoAlgorithmToJwkAlg=function(g){return"RSAES-PKCS1-v1_5"==g.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==g.name?"SHA-256"==g.hash.name?"RS256":"SHA-384"==g.hash.name?"RS384":"SHA-512"==g.hash.name?"RS512":ka:ka;};p.webCryptoUsageToJwkKeyOps=function(g){return g.map(function(g){return"wrapKey"==g?"wrap":"unwrapKey"==g?"unwrap":g;});};}());g.ASN1=p;}(M));(function(){for(var g={},p={},t={"=":0,".":0},u={"=":0,".":0},B=/\s+/g,M=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ca=64;Ca--;)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ca]]=262144*Ca,p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ca]]=4096*Ca,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ca]]=64*Ca,u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ca]]=Ca;for(Ca=64;Ca--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ca]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ca];)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ca]]=262144*Ca,p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ca]]=4096*Ca,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ca]]=64*Ca,u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ca]]=Ca;sa=function(g,p){for(var t="",Y=0,L=g.length,G=L-2,v,y=p?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=p?"":"=";Y<G;)v=65536*g[Y++]+256*g[Y++]+g[Y++],t+=y[v>>>18]+y[v>>>12&63]+y[v>>>6&63]+y[v&63];Y==G?(v=65536*g[Y++]+256*g[Y++],t+=y[v>>>18]+y[v>>>12&63]+y[v>>>6&63]+z):Y==L-1&&(v=65536*g[Y++],t+=y[v>>>18]+y[v>>>12&63]+z+z);return t;};wa=function(Y,Va){var Ia;Y=Y.replace(B,"");if(Va){Ia=Y.length%4;if(Ia)for(var Ia=4-Ia,La=0;La<Ia;++La)Y+="=";}Ia=Y.length;if(0!=Ia%4||!M.test(Y))throw Error("bad base64: "+Y);for(var L=Ia/4*3-("="==Y[Ia-1]?1:0)-("="==Y[Ia-2]?1:0),G=new Uint8Array(L),v=0,y=0;v<Ia;)La=g[Y[v++]]+p[Y[v++]]+t[Y[v++]]+u[Y[v++]],G[y++]=La>>>16,y<L&&(G[y++]=La>>>8&255,y<L&&(G[y++]=La&255));return G;};}());ab={};(function(){var M,Ca,Y,Ia;function g(p){if(!(this instanceof g))return new g(p);for(var L=0,G=Ca.length;L<G;L++)this[Ca[L]]="";this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=p||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Y.BEGIN;this.stack=new M();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;t(this,"onready");}function t(g,L,G){if(g[L])g[L](G);}function p(g,L){var G,v;G=g.opt;v=g.textNode;G.trim&&(v=v.trim());G.normalize&&(v=v.replace(/\s+/g," "));g.textNode=v;g.textNode&&t(g,L?L:"onvalue",g.textNode);g.textNode="";}function u(g,L){p(g);L+="\nLine: "+g.line+"\nColumn: "+g.column+"\nChar: "+g.c;L=Error(L);g.error=L;t(g,"onerror",L);return g;}function B(La){La.state!==Y.VALUE&&u(La,"Unexpected end");p(La);La.c="";La.closed=!0;t(La,"onend");g.call(La,La.opt);return La;}M=Array;ab.parser=function(t){return new g(t);};ab.CParser=g;ab.MAX_BUFFER_LENGTH=65536;ab.DEBUG=!1;ab.INFO=!1;ab.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ca=["textNode","numberNode"];ab.EVENTS.filter(function(g){return"error"!==g&&"end"!==g;});Y=0;ab.STATE={BEGIN:Y++,VALUE:Y++,OPEN_OBJECT:Y++,CLOSE_OBJECT:Y++,OPEN_ARRAY:Y++,CLOSE_ARRAY:Y++,TEXT_ESCAPE:Y++,STRING:Y++,BACKSLASH:Y++,END:Y++,OPEN_KEY:Y++,CLOSE_KEY:Y++,TRUE:Y++,TRUE2:Y++,TRUE3:Y++,FALSE:Y++,FALSE2:Y++,FALSE3:Y++,FALSE4:Y++,NULL:Y++,NULL2:Y++,NULL3:Y++,NUMBER_DECIMAL_POINT:Y++,NUMBER_DIGIT:Y++};for(var Va in ab.STATE)ab.STATE[ab.STATE[Va]]=Va;Y=ab.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(g){return g.__proto__;});Ia=/[\\"\n]/g;g.prototype={end:function(){B(this);},write:function(g){var v,y,z;if(this.error)throw this.error;if(this.closed)return u(this,"Cannot write after close. Assign an onready handler.");if(null===g)return B(this);for(var L=g[0],G;L;){G=L;this.c=L=g.charAt(this.index++);G!==L?this.p=G:G=this.p;if(!L)break;this.position++;"\n"===L?(this.line++,this.column=0):this.column++;switch(this.state){case Y.BEGIN:"{"===L?this.state=Y.OPEN_OBJECT:"["===L?this.state=Y.OPEN_ARRAY:"\r"!==L&&"\n"!==L&&" "!==L&&"\t"!==L&&u(this,"Non-whitespace before {[.");continue;case Y.OPEN_KEY:case Y.OPEN_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===Y.OPEN_KEY)this.stack.push(Y.CLOSE_KEY);else if("}"===L){t(this,"onopenobject");t(this,"oncloseobject");this.state=this.stack.pop()||Y.VALUE;continue;}else this.stack.push(Y.CLOSE_OBJECT);'"'===L?this.state=Y.STRING:u(this,'Malformed object key should start with "');continue;case Y.CLOSE_KEY:case Y.CLOSE_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;":"===L?(this.state===Y.CLOSE_OBJECT?(this.stack.push(Y.CLOSE_OBJECT),p(this,"onopenobject")):p(this,"onkey"),this.state=Y.VALUE):"}"===L?(p(this),t(this,"oncloseobject",void 0),this.state=this.stack.pop()||Y.VALUE):","===L?(this.state===Y.CLOSE_OBJECT&&this.stack.push(Y.CLOSE_OBJECT),p(this),this.state=Y.OPEN_KEY):u(this,"Bad object");continue;case Y.OPEN_ARRAY:case Y.VALUE:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===Y.OPEN_ARRAY)if(t(this,"onopenarray"),this.state=Y.VALUE,"]"===L){t(this,"onclosearray");this.state=this.stack.pop()||Y.VALUE;continue;}else this.stack.push(Y.CLOSE_ARRAY);'"'===L?this.state=Y.STRING:"{"===L?this.state=Y.OPEN_OBJECT:"["===L?this.state=Y.OPEN_ARRAY:"t"===L?this.state=Y.TRUE:"f"===L?this.state=Y.FALSE:"n"===L?this.state=Y.NULL:"-"===L?this.numberNode+=L:"0"===L?(this.numberNode+=L,this.state=Y.NUMBER_DIGIT):-1!=="123456789".indexOf(L)?(this.numberNode+=L,this.state=Y.NUMBER_DIGIT):u(this,"Bad value");continue;case Y.CLOSE_ARRAY:if(","===L)this.stack.push(Y.CLOSE_ARRAY),p(this,"onvalue"),this.state=Y.VALUE;else if("]"===L)p(this),t(this,"onclosearray",void 0),this.state=this.stack.pop()||Y.VALUE;else if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;else u(this,"Bad array");continue;case Y.STRING:G=this.index-1;v=this.slashed,y=this.unicodeI;a:for(;;){if(ab.DEBUG)for(;0<y;)if(this.unicodeS+=L,L=g.charAt(this.index++),4===y?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),y=0,G=this.index-1):y++,!L)break a;if('"'===L&&!v){this.state=this.stack.pop()||Y.VALUE;(this.textNode+=g.substring(G,this.index-1))||t(this,"onvalue","");break;}if("\\"===L&&!v&&(v=!0,this.textNode+=g.substring(G,this.index-1),L=g.charAt(this.index++),!L))break;if(v)if(v=!1,"n"===L?this.textNode+="\n":"r"===L?this.textNode+="\r":"t"===L?this.textNode+="\t":"f"===L?this.textNode+="\f":"b"===L?this.textNode+="\b":"u"===L?(y=1,this.unicodeS=""):this.textNode+=L,L=g.charAt(this.index++),G=this.index-1,L)continue;else break;Ia.lastIndex=this.index;z=Ia.exec(g);if(null===z){this.index=g.length+1;this.textNode+=g.substring(G,this.index-1);break;}this.index=z.index+1;L=g.charAt(z.index);if(!L){this.textNode+=g.substring(G,this.index-1);break;}}this.slashed=v;this.unicodeI=y;continue;case Y.TRUE:if(""===L)continue;"r"===L?this.state=Y.TRUE2:u(this,"Invalid true started with t"+L);continue;case Y.TRUE2:if(""===L)continue;"u"===L?this.state=Y.TRUE3:u(this,"Invalid true started with tr"+L);continue;case Y.TRUE3:if(""===L)continue;"e"===L?(t(this,"onvalue",!0),this.state=this.stack.pop()||Y.VALUE):u(this,"Invalid true started with tru"+L);continue;case Y.FALSE:if(""===L)continue;"a"===L?this.state=Y.FALSE2:u(this,"Invalid false started with f"+L);continue;case Y.FALSE2:if(""===L)continue;"l"===L?this.state=Y.FALSE3:u(this,"Invalid false started with fa"+L);continue;case Y.FALSE3:if(""===L)continue;"s"===L?this.state=Y.FALSE4:u(this,"Invalid false started with fal"+L);continue;case Y.FALSE4:if(""===L)continue;"e"===L?(t(this,"onvalue",!1),this.state=this.stack.pop()||Y.VALUE):u(this,"Invalid false started with fals"+L);continue;case Y.NULL:if(""===L)continue;"u"===L?this.state=Y.NULL2:u(this,"Invalid null started with n"+L);continue;case Y.NULL2:if(""===L)continue;"l"===L?this.state=Y.NULL3:u(this,"Invalid null started with nu"+L);continue;case Y.NULL3:if(""===L)continue;"l"===L?(t(this,"onvalue",null),this.state=this.stack.pop()||Y.VALUE):u(this,"Invalid null started with nul"+L);continue;case Y.NUMBER_DECIMAL_POINT:"."===L?(this.numberNode+=L,this.state=Y.NUMBER_DIGIT):u(this,"Leading zero not followed by .");continue;case Y.NUMBER_DIGIT:-1!=="0123456789".indexOf(L)?this.numberNode+=L:"."===L?(-1!==this.numberNode.indexOf(".")&&u(this,"Invalid number has two dots"),this.numberNode+=L):"e"===L||"E"===L?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||u(this,"Invalid number has two exponential"),this.numberNode+=L):"+"===L||"-"===L?("e"!==G&&"E"!==G&&u(this,"Invalid symbol in number"),this.numberNode+=L):(this.numberNode&&t(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||Y.VALUE);continue;default:u(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){g=Math.max(ab.MAX_BUFFER_LENGTH,10);G=L=0;for(v=Ca.length;G<v;G++){y=this[Ca[G]].length;if(y>g)switch(Ca[G]){case"text":break;default:u(this,"Max buffer length exceeded: "+Ca[G]);}L=Math.max(L,y);}this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH-L+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var u;function g(g,t){t||(t=g.length);return g.reduce(function(g,p,Y){return Y<t?g+String.fromCharCode(p):g;},"");}for(var t={},p=0;256>p;++p){u=g([p]);t[u]=p;}for(var B=Object.keys(t).length,M=[],p=0;256>p;++p)M[p]=[p];Cd=function(p,Y){var w,C;function u(g,w){var C;for(;0<w;){if(y>=v.length)return!1;if(w>z){C=g;C=C>>>w-z;v[y]|=C&255;w-=z;z=8;++y;}else w<=z&&(C=g,C<<=z-w,C&=255,C>>>=8-z,v[y]|=C&255,z-=w,w=0,0==z&&(z=8,++y));}return!0;}for(var Ia in t)Y[Ia]=t[Ia];for(var La=B,L=[],G=8,v=new Uint8Array(p.length),y=0,z=8,H=0;H<p.length;++H){w=p[H];L.push(w);Ia=g(L);C=Y[Ia];if(!C){L=g(L,L.length-1);if(!u(Y[L],G))return null;0!=La>>G&&++G;Y[Ia]=La++;L=[w];}}return 0<L.length&&(Ia=g(L),C=Y[Ia],!u(C,G))?null:v.subarray(0,8>z?y+1:y);};Dd=function(g){var H,w,z,u;for(var p=M.slice(),t=0,u=0,La=8,L=new Uint8Array(Math.ceil(1.5*g.length)),G=0,v,y=[];t<g.length&&!(8*(g.length-t)-u<La);){for(var z=v=0;z<La;){H=Math.min(La-z,8-u);w=g[t];w=w<<u;w=w&255;w=w>>>8-H;z=z+H;u=u+H;8==u&&(u=0,++t);v|=(w&255)<<La-z;}z=p[v];0==y.length?++La:(z?y.push(z[0]):y.push(y[0]),p[p.length]=y,y=[],p.length==1<<La&&++La,z||(z=p[v]));v=G+z.length;v>=L.length&&(H=new Uint8Array(Math.ceil(1.5*v)),H.set(L),L=H);L.set(z,G);G=v;y=y.concat(z);}return L.subarray(0,G);};}());(function(){var g,t,u;Oa="utf-8";Pa=9007199254740992;g=Qb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Qb);Ed=function(t){for(var p=[g.GZIP,g.LZW],u=0;u<p.length&&0<t.length;++u)for(var B=p[u],Y=0;Y<t.length;++Y)if(t[Y]==B)return B;return null;};t=vc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vc);Fd=function(g){return t.AES_CBC_PKCS5Padding==g?t.AES_CBC_PKCS5Padding:t.RSA_ECB_PKCS1Padding==g?t.RSA_ECB_PKCS1Padding:t[g];};u=Gd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Gd);Vc=function(g){return u[g];};p={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(p);}());pa={isObjectLiteral:function(g){return null!==g&&"object"===typeof g&&g.constructor===Object;},extendDeep:function(){var g,t,p,u,B,M,Ca,Y;g=arguments[0];t=1;p=arguments.length;u=!1;"boolean"===typeof g&&(u=g,g=arguments[1],t=2);for(;t<p;t++)if(null!=(B=arguments[t]))for(M in B)u&&M in g||(Y=B[M],g!==Y&&Y!==ka&&(Ca=g[M],g[M]=null!==Ca&&null!==Y&&"object"===typeof Ca&&"object"===typeof Y?pa.extendDeep(u,{},Ca,Y):Y));return g;}};(function(){var Ca,Y;function g(g,t){return function(){var p,L;p=g.base;g.base=t;L=g.apply(this,arguments);g.base=p;return L;};}function t(t,p,u){var L,G,v,y;u=u||Y;y=!!u.extendAll;for(L in p)G=p.__lookupGetter__(L),v=p.__lookupSetter__(L),G||v?(G&&t.__defineGetter__(L,G),v&&t.__defineSetter__(L,v)):(G=p[L],v=t[L],"function"===typeof G&&"function"===typeof v&&G!==v?(G.base!==Function.prototype.base&&(G=g(G,v)),G.base=v):(y||u[L])&&pa.isObjectLiteral(G)&&pa.isObjectLiteral(v)&&(G=pa.extendDeep({},v,G)),t[L]=G);}function p(){var g,t;g=Array.prototype.slice;t=g.call(arguments,1);return this.extend({init:function L(){var G;G=g.call(arguments,0);L.base.apply(this,t.concat(G));}});}function u(g,p){var Y;Y=new this(Ca);t(Y,g,p);return M(Y);}function B(g,p){t(this.prototype,g,p);return this;}function M(g){var t;t=function(){var g;g=this.init;g&&arguments[0]!==Ca&&g.apply(this,arguments);};g&&(t.prototype=g);t.prototype.constructor=t;t.extend=u;t.bind=p;t.mixin=B;return t;}Ca={};Y={actions:!0};Function.prototype.base=function(){};pa.Class={create:M,mixin:t,extend:function(g,t){var p;p=M();p.prototype=new g();return p.extend(t);}};pa.mixin=function(){pa.log&&pa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");t.apply(null,arguments);};}());(function(){var Ca,Y,Va;function g(g,t){return function(){var p,G;p=g.base;g.base=t;G=g.apply(this,arguments);g.base=p;return G;};}function t(t,p,L){var G,v,y,z;L=L||Y;z=!!L.extendAll;for(G in p)v=p.__lookupGetter__(G),y=p.__lookupSetter__(G),v||y?(v&&t.__defineGetter__(G,v),y&&t.__defineSetter__(G,y)):(v=p[G],y=t[G],"function"===typeof v&&"function"===typeof y&&v!==y?(v.base!==Va&&(v=g(v,y)),v.base=y):(z||L[G])&&pa.isObjectLiteral(v)&&pa.isObjectLiteral(y)&&(v=pa.extendDeep({},y,v)),t[G]=v);}function p(){var g,t;g=Array.prototype.slice;t=g.call(arguments,1);return this.extend({init:function G(){var v;v=g.call(arguments,0);G.base.apply(this,t.concat(v));}});}function u(g,p){var L;L=new this(Ca);t(L,g,p);return M(L);}function B(g,p){t(this.prototype,g,p);return this;}function M(g){var t;t=function(){var g;g=this.init;g&&arguments[0]!==Ca&&g.apply(this,arguments);};g&&(t.prototype=g);t.prototype.constructor=t;t.extend=u;t.bind=p;t.mixin=B;return t;}Ca={};Y={actions:!0};Va=function(){};Function.prototype.base=Va;pa.Class={create:M,mixin:t,extend:function(g,t){var p;p=M();p.prototype=new g();return p.extend(t);}};pa.mixin=function(){pa.log&&pa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");t.apply(null,arguments);};}());(function(){function g(g){return g==Pa?1:g+1;}function t(t){if(0===Object.keys(t._waiters).length)return 0;for(var p=g(t._nextWaiter);!t._waiters[p];)p=g(p);return p;}ic=pa.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var p;if(this._waiters[g]){p=this._waiters[g];delete this._waiters[g];g==this._nextWaiter&&(this._nextWaiter=t(this));p.call(this,ka);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(p,B){var M,R;M=this;R=g(this._lastWaiter);this._lastWaiter=R;u(B,function(){var g,Y;if(0<this._queue.length){g=this._queue.shift();setTimeout(function(){B.result(g);},0);}else{-1!=p&&(Y=setTimeout(function(){delete M._waiters[R];R==M._nextWaiter&&(M._nextWaiter=t(M));B.timeout();},p));this._waiters[R]=function(g){clearTimeout(Y);setTimeout(function(){B.result(g);},0);};this._nextWaiter||(this._nextWaiter=R);}},M);return R;},add:function(g){var p;if(this._nextWaiter){p=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=t(this);p.call(this,g);}else this._queue.push(g);}});}());(function(){var g;g=0-Pa;Hd=pa.Class.create({nextBoolean:function(){var g;g=new Uint8Array(1);Fb.getRandomValues(g);return g[0]&1?!0:!1;},nextInt:function(g){var t;if(null!==g&&g!==ka){if("number"!==typeof g)throw new TypeError("n must be of type number");if(1>g)throw new RangeError("n must be greater than zero");--g;t=new Uint8Array(4);Fb.getRandomValues(t);return Math.floor(((t[3]&127)<<24|t[2]<<16|t[1]<<8|t[0])/2147483648*(g-0+1)+0);}g=new Uint8Array(4);Fb.getRandomValues(g);t=(g[3]&127)<<24|g[2]<<16|g[1]<<8|g[0];return g[3]&128?-t:t;},nextLong:function(){var p,t;for(var t=g;t==g;){t=new Uint8Array(7);Fb.getRandomValues(t);p=16777216*((t[6]&31)<<24|t[5]<<16|t[4]<<8|t[3])+(t[2]<<16|t[1]<<8|t[0]);t=t[6]&128?-p-1:p;}return t;},nextBytes:function(g){Fb.getRandomValues(g);}});}());(function(){function g(g){return g==Pa?1:g+1;}function t(t){if(0===Object.keys(t._waitingReaders).length)return 0;for(var p=g(t._nextReader);!t._waitingReaders[p];)p=g(p);return p;}function p(t){if(0===Object.keys(t._waitingWriters).length)return 0;for(var p=g(t._nextWriter);!t._waitingWriters[p];)p=g(p);return p;}Wc=pa.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var u;if(this._waitingReaders[g]){u=this._waitingReaders[g];delete this._waitingReaders[g];g==this._nextReader&&(this._nextReader=t(this));u.call(this,!0);}this._waitingWriters[g]&&(u=this._waitingWriters[g],delete this._waitingWriters[g],g==this._nextWriter&&(this._nextWriter=p(this)),u.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(p,B){var M,R;M=this;R=g(this._lastNumber);this._lastNumber=R;u(B,function(){var g;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[R]=!0,R;-1!=p&&(g=setTimeout(function(){delete M._waitingReaders[R];R==M._nextReader&&(M._nextReader=t(M));B.timeout();},p));this._waitingReaders[R]=function(t){clearTimeout(g);t?setTimeout(function(){B.result(ka);},0):(M._readers[R]=!0,setTimeout(function(){B.result(R);},0));};this._nextReader||(this._nextReader=R);},M);return R;},writeLock:function(t,B){var M,R;M=this;R=g(this._lastNumber);this._lastNumber=R;u(B,function(){var g;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=R;-1!=t&&(g=setTimeout(function(){delete M._waitingWriters[R];R==M._nextWriter&&(M._nextWriter=p(M));B.timeout();},t));this._waitingWriters[R]=function(t){clearTimeout(g);t?setTimeout(function(){B.result(ka);},0):(M._writer=R,setTimeout(function(){B.result(R);},0));};this._nextWriter||(this._nextWriter=R);},M);return R;},unlock:function(t){if(t==this._writer)this._writer=null;else{if(!this._readers[t])throw new ea("There is no reader or writer with ticket number "+t+".");delete this._readers[t];}if(this._nextWriter)0<Object.keys(this._readers).length||(t=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=p(this),t.call(this,!1));else{for(var u=this._nextReader;0<Object.keys(this._waitingReaders).length;u=g(u))this._waitingReaders[u]&&(t=this._waitingReaders[u],delete this._waitingReaders[u],t.call(this,!1));this._nextReader=0;}}});}());pa.Class.mixin(g,{JSON_PARSE_ERROR:new g(0,p.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new g(1,p.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new g(2,p.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new g(3,p.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new g(4,p.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new g(5,p.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new g(6,p.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new g(7,p.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new g(8,p.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new g(9,p.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new g(10,p.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new g(11,p.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new g(12,p.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new g(13,p.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new g(14,p.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new g(15,p.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new g(16,p.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new g(17,p.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new g(18,p.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new g(19,p.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new g(20,p.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new g(21,p.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new g(22,p.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new g(23,p.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new g(24,p.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new g(25,p.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new g(26,p.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new g(27,p.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new g(28,p.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new g(29,p.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new g(30,p.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new g(31,p.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new g(32,p.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new g(33,p.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new g(34,p.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new g(35,p.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new g(36,p.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new g(37,p.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new g(38,p.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new g(39,p.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new g(40,p.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new g(41,p.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new g(42,p.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new g(43,p.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new g(44,p.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new g(45,p.FAIL,"Error exporting key."),DIGEST_ERROR:new g(46,p.FAIL,"Error in digest."),UNSUPPORTED_KEY:new g(47,p.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new g(48,p.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new g(49,p.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new g(50,p.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new g(51,p.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new g(52,p.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new g(53,p.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new g(54,p.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new g(55,p.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new g(56,p.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new g(57,p.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new g(58,p.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new g(59,p.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new g(60,p.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new g(61,p.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new g(62,p.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new g(1E3,p.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new g(1001,p.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new g(1002,p.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new g(1003,p.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(1004,p.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(1005,p.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new g(1006,p.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new g(1007,p.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new g(1008,p.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new g(1009,p.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new g(1010,p.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new g(1011,p.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new g(1012,p.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new g(1013,p.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new g(1014,p.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new g(2E3,p.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new g(2001,p.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new g(2002,p.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new g(2003,p.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new g(2004,p.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new g(2005,p.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2006,p.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2007,p.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new g(2008,p.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new g(2009,p.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new g(2010,p.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new g(2011,p.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new g(2012,p.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new g(2013,p.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new g(2014,p.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new g(2015,p.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new g(2016,p.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new g(2017,p.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new g(2018,p.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new g(2019,p.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new g(2020,p.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new g(3E3,p.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new g(3001,p.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new g(3002,p.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new g(3003,p.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new g(3004,p.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3005,p.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3006,p.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new g(3007,p.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new g(3008,p.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new g(3009,p.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new g(4E3,p.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new g(4001,p.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new g(4002,p.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new g(4003,p.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new g(4004,p.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new g(4005,p.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new g(4006,p.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new g(4007,p.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new g(4008,p.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new g(4009,p.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new g(4010,p.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new g(4011,p.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new g(4012,p.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new g(4013,p.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new g(4014,p.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new g(4015,p.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new g(4016,p.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new g(4017,p.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new g(4018,p.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new g(4019,p.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new g(4020,p.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new g(4021,p.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new g(4022,p.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new g(4023,p.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new g(4024,p.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new g(4025,p.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new g(4026,p.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new g(5E3,p.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new g(5001,p.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new g(5002,p.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new g(5003,p.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new g(5004,p.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new g(5005,p.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new g(5006,p.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new g(5007,p.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new g(5008,p.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new g(5009,p.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new g(5010,p.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new g(5011,p.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new g(5012,p.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new g(5013,p.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new g(5014,p.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new g(5015,p.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new g(5016,p.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new g(5017,p.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new g(5018,p.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new g(5019,p.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new g(5020,p.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new g(5021,p.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new g(5022,p.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new g(5023,p.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new g(5024,p.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new g(5025,p.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new g(5026,p.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new g(5027,p.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new g(5028,p.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new g(5029,p.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new g(5030,p.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new g(5031,p.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new g(5032,p.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new g(5033,p.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new g(5034,p.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new g(5035,p.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new g(5036,p.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new g(5037,p.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new g(5038,p.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new g(5039,p.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new g(5040,p.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new g(6E3,p.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new g(6001,p.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new g(6002,p.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new g(6003,p.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new g(6004,p.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new g(6005,p.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new g(6006,p.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new g(6007,p.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new g(6008,p.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new g(6009,p.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new g(6010,p.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new g(6011,p.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new g(6012,p.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new g(6013,p.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new g(6014,p.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new g(6015,p.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new g(6016,p.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new g(6017,p.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new g(6018,p.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(6019,p.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new g(6020,p.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new g(6021,p.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new g(6022,p.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new g(6023,p.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new g(6024,p.FAIL,"Invalid header data."),PAYLOAD_INVALID:new g(6025,p.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new g(6026,p.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new g(6027,p.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new g(6028,p.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new g(6029,p.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new g(6030,p.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new g(6031,p.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new g(6032,p.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new g(6033,p.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new g(6034,p.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new g(6035,p.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new g(6036,p.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new g(6037,p.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new g(7E3,p.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new g(7001,p.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new g(7002,p.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new g(7003,p.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new g(7004,p.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new g(7005,p.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new g(7006,p.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new g(7007,p.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new g(7008,p.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new g(7009,p.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new g(7010,p.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new g(7011,p.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new g(7012,p.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new g(7013,p.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new g(7014,p.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new g(7015,p.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new g(7016,p.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new g(8E3,p.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new g(8001,p.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new g(8002,p.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new g(8003,p.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new g(8004,p.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new g(8005,p.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new g(8006,p.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new g(8007,p.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new g(8008,p.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new g(8009,p.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new g(8010,p.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new g(8011,p.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new g(8012,p.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new g(9E3,p.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new g(9001,p.FAIL,"Error communicating with MSL entity."),NONE:new g(9999,p.FAIL,"Special unit test error.")});Object.freeze(g);(function(){B=pa.Class.create(Error());B.mixin({init:function(g,t,p){var M,R,ea;function u(){return R?R:this.cause&&this.cause instanceof B?this.cause.messageId:ka;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);M=g.message;t&&(M+=" ["+t+"]");ea=this.stack;Object.defineProperties(this,{message:{value:M,writable:!1,configurable:!0},error:{value:g,writable:!1,configurable:!0},cause:{value:p,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:u,set:function(g){if(0>g||g>Pa)throw new RangeError("Message ID "+g+" is outside the valid range.");u()||(R=g);},configurable:!0},stack:{get:function(){var g;g=this.toString();ea&&(g+="\n"+ea);p&&p.stack&&(g+="\nCaused by "+p.stack);return g;},configurable:!0}});},setEntity:function(g){!g||this.masterToken||this.entityAuthenticationData||(g instanceof jb?this.masterToken=g:g instanceof Rb&&(this.entityAuthenticationData=g));return this;},setUser:function(g){!g||this.userIdToken||this.userAuthenticationData||(g instanceof bc?this.userIdToken=g:g instanceof Hb&&(this.userAuthenticationData=g));return this;},setMessageId:function(g){this.messageId=g;return this;},toString:function(){return this.name+": "+this.message;}});}());R=B.extend({init:function Nb(g,t,p){Nb.base.call(this,g,t,p);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});fa=B.extend({init:function rb(g,t,p){rb.base.call(this,g,t,p);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xb=B.extend({init:function Qa(g,t,p){Qa.base.call(this,g,t,p);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){nb=pa.Class.create(Error());nb.mixin({init:function(g,t,p){var u;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);u=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:t,writable:!1,configurable:!1},requestCause:{value:p,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();u&&(g+="\n"+u);t&&t.stack&&(g+="\nCaused by "+t.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Ya=pa.Class.create(Error());Ya.mixin({init:function(g,t){var p;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);p=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:t,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();p&&(g+="\n"+p);t&&t.stack&&(g+="\nCaused by "+t.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ea=pa.Class.create(Error());ea.mixin({init:function(g,t){var p;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);p=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:t,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();p&&(g+="\n"+p);t&&t.stack&&(g+="\nCaused by "+t.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){bb=pa.Class.create(Error());bb.mixin({init:function(g,t){var p;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);p=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:t,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();p&&(g+="\n"+p);t&&t.stack&&(g+="\nCaused by "+t.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Sa=B.extend({init:function sc(g,t,p){sc.base.call(this,g,t,p);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Sb=B.extend({init:function Qc(g,t){Qc.base.call(this,g);Object.defineProperties(this,{masterToken:{value:t,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ga=B.extend({init:function Ca(g,t,p){Ca.base.call(this,g,t,p);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ea=B.extend({init:function Y(g,t,p){Y.base.call(this,g,t,p);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var L;function g(g){return"undefined"===typeof g?!1:g;}function t(g){return g&&g.length?(eb===L.V2014_02&&(g=g.map(function(g){return"wrap"==g?"wrapKey":"unwrap"==g?"unwrapKey":g;})),g):eb===L.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function p(g,v,y,t,p){return Promise.resolve().then(function(){return Ta.importKey(g,v,y,t,p);})["catch"](function(w){var C;if("spki"!==g&&"pkcs8"!==g)throw w;w=ASN1.webCryptoAlgorithmToJwkAlg(y);C=ASN1.webCryptoUsageToJwkKeyOps(p);w=ASN1.rsaDerToJwk(v,w,C,t);if(!w)throw Error("Could not make valid JWK from DER input");w=JSON.stringify(w);return Ta.importKey("jwk",Pc(w),y,t,p);});}function u(g,v){return Promise.resolve().then(function(){return Ta.exportKey(g,v);})["catch"](function(y){if("spki"!==g&&"pkcs8"!==g)throw y;return Ta.exportKey("jwk",v).then(function(g){g=JSON.parse(Oc(new Uint8Array(g)));g=ASN1.jwkToRsaDer(g);if(!g)throw Error("Could not make valid DER from JWK input");return g.getDer().buffer;});});}L=wc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wc);eb=L.LATEST;Ka={encrypt:function(g,v,y){switch(eb){case L.LEGACY:return new Promise(function(t,p){var w;w=Ta.encrypt(g,v,y);w.oncomplete=function(g){t(g.target.result);};w.onerror=function(g){p(g);};});case L.V2014_01:case L.V2014_02:return Ta.encrypt(g,v,y).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(g,v,t){switch(eb){case L.LEGACY:return new Promise(function(y,p){var w;w=Ta.decrypt(g,v,t);w.oncomplete=function(g){y(g.target.result);};w.onerror=function(g){p(g);};});case L.V2014_01:case L.V2014_02:return Ta.decrypt(g,v,t).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(g,v,t){switch(eb){case L.LEGACY:return new Promise(function(y,p){var w;w=Ta.sign(g,v,t);w.oncomplete=function(g){y(g.target.result);};w.onerror=function(g){p(g);};});case L.V2014_01:case L.V2014_02:return Ta.sign(g,v,t).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(g,v,t,p){switch(eb){case L.LEGACY:return new Promise(function(y,w){var C;C=Ta.verify(g,v,t,p);C.oncomplete=function(g){y(g.target.result);};C.onerror=function(g){w(g);};});case L.V2014_01:case L.V2014_02:return Ta.verify(g,v,t,p);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(g,v){switch(eb){case L.LEGACY:return new Promise(function(t,p){var y;y=Ta.digest(g,v);y.oncomplete=function(g){t(g.target.result);};y.onerror=function(g){p(g);};});case L.V2014_01:case L.V2014_02:return Ta.digest(g,v).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(p,v,y){var G,H;G=g(v);H=t(y);switch(eb){case L.LEGACY:return new Promise(function(g,v){var w;w=Ta.generateKey(p,G,H);w.oncomplete=function(w){g(w.target.result);};w.onerror=function(g){v(g);};});case L.V2014_01:case L.V2014_02:return Ta.generateKey(p,G,H);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(p,v,y,z,H){var w,C;w=g(z);C=t(H);switch(eb){case L.LEGACY:return new Promise(function(g,t){var H;H=Ta.deriveKey(p,v,y,w,C);H.oncomplete=function(w){g(w.target.result);};H.onerror=function(g){t(g);};});case L.V2014_01:case L.V2014_02:return Ta.deriveKey(p,v,y,w,C);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(G,v,y,z,H){var w,C;w=g(z);C=t(H);switch(eb){case L.LEGACY:return new Promise(function(g,t){var p;p=Ta.importKey(G,v,y,w,C);p.oncomplete=function(w){g(w.target.result);};p.onerror=function(g){t(g);};});case L.V2014_01:case L.V2014_02:return p(G,v,y,w,C);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(g,v){switch(eb){case L.LEGACY:return new Promise(function(t,p){var y;y=Ta.exportKey(g,v);y.oncomplete=function(g){t(g.target.result);};y.onerror=function(g){p(g);};});case L.V2014_01:case L.V2014_02:return u(g,v).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(g,v,t,p){switch(eb){case L.LEGACY:return new Promise(function(g,w){var C;C=Ta.wrapKey(v,t,p);C.oncomplete=function(w){g(w.target.result);};C.onerror=function(g){w(g);};});case L.V2014_01:case L.V2014_02:return Ta.wrapKey(g,v,t,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(p,v,y,z,H,w,C){switch(eb){case L.LEGACY:return new Promise(function(g,w){var t;t=Ta.unwrapKey(v,H,y);t.oncomplete=function(w){g(w.target.result);};t.onerror=function(g){w(g);};});case L.V2014_01:case L.V2014_02:return Ta.unwrapKey(p,v,y,z,H,g(w),t(C));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};uc&&uc.getKeyByName&&(Ka.getKeyByName=function(g){switch(eb){case L.LEGACY:return new Promise(function(v,t){var y;y=uc.getKeyByName(g);y.oncomplete=function(g){v(g.target.result);};y.onerror=function(g){t(g);};});case L.V2014_01:case L.V2014_02:return uc.getKeyByName(g);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});M.netflix=M.netflix||{};M.netflix.crypto=Ka;}());yb={name:"AES-KW"};sb={name:"AES-CBC"};tb={name:"HMAC",hash:{name:"SHA-256"}};xc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Xc={name:"RSAES-PKCS1-v1_5"};Id={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Ib=["encrypt","decrypt"];Jb=["wrap","unwrap"];Tb=["sign","verify"];(function(){Yc=pa.Class.create({init:function(p,u,B){var L;function Y(g){t(u,function(){var v;v=g?sa(g):ka;Object.defineProperties(L,{rawKey:{value:p,writable:!1,configurable:!1},keyData:{value:g,writable:!1,configurable:!1},keyDataB64:{value:v,writable:!1,configurable:!1}});return this;},L);}L=this;t(u,function(){if(!p||"object"!=typeof p)throw new R(g.INVALID_SYMMETRIC_KEY);!B&&p.extractable?Ka.exportKey("raw",p).then(function(g){Y(new Uint8Array(g));},function(t){u.error(new R(g.KEY_EXPORT_ERROR,"raw"));}):Y(B);},L);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});$b=function(g,t){new Yc(g,t);};zb=function(p,u,B,M){t(M,function(){try{p="string"==typeof p?wa(p):p;}catch(L){throw new R(g.INVALID_SYMMETRIC_KEY,"keydata "+p,L);}Ka.importKey("raw",p,u,!0,B).then(function(g){new Yc(g,M,p);},function(t){M.error(new R(g.INVALID_SYMMETRIC_KEY));});});};}());(function(){yc=pa.Class.create({init:function(p,u,B){var L;function Y(g){t(u,function(){Object.defineProperties(L,{rawKey:{value:p,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},L);}L=this;t(u,function(){if(!p||"object"!=typeof p||"public"!=p.type)throw new TypeError("Only original public crypto keys are supported.");!B&&p.extractable?Ka.exportKey("spki",p).then(function(g){Y(new Uint8Array(g));},function(t){u.error(new R(g.KEY_EXPORT_ERROR,"spki"));}):Y(B);});},getEncoded:function(){return this.encoded;}});Pb=function(g,t){new yc(g,t);};Zc=function(p,u,B,M){t(M,function(){try{p="string"==typeof p?wa(p):p;}catch(L){throw new R(g.INVALID_PUBLIC_KEY,"spki "+p,L);}Ka.importKey("spki",p,u,!0,B).then(function(g){new yc(g,M,p);},function(t){M.error(new R(g.INVALID_PUBLIC_KEY));});});};}());(function(){Jd=pa.Class.create({init:function(p,u,B){var L;function Y(g){t(u,function(){Object.defineProperties(L,{rawKey:{value:p,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},L);}L=this;t(u,function(){if(!p||"object"!=typeof p||"private"!=p.type)throw new TypeError("Only original private crypto keys are supported.");!B&&p.extractable?Ka.exportKey("pkcs8",p).then(function(g){Y(new Uint8Array(g));},function(t){u.error(new R(g.KEY_EXPORT_ERROR,"pkcs8"));}):Y(B);});},getEncoded:function(){return this.encoded;}});ac=function(g,t){new Jd(g,t);};}());(function(){var p;p=cd={V1:1,V2:2};$c=pa.Class.create({init:function(g,u,B,L){t(L,function(){var t,v,y,z;t=p.V1;v=g;y=null;for(z in vc)if(vc[z]==g){t=p.V2;v=null;y=g;break;}Object.defineProperties(this,{version:{value:t,writable:!1,enumerable:!1,configurable:!1},keyId:{value:v,writable:!1,configurable:!1},cipherSpec:{value:y,writable:!1,configurable:!1},iv:{value:u,writable:!1,configurable:!1},ciphertext:{value:B,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var g;g={};switch(this.version){case p.V1:g.keyid=this.keyId;this.iv&&(g.iv=sa(this.iv));g.ciphertext=sa(this.ciphertext);g.sha256="AA==";break;case p.V2:g.version=this.version;g.cipherspec=this.cipherSpec;this.iv&&(g.iv=sa(this.iv));g.ciphertext=sa(this.ciphertext);break;default:throw new ea("Ciphertext envelope version "+this.version+" encoding unsupported.");}return g;}});ad=function(g,t,p,L){new $c(g,t,p,L);};bd=function(u,B,Y){t(Y,function(){var t,G,v,y,z,H,w;t=u.keyid;G=u.cipherspec;v=u.iv;y=u.ciphertext;z=u.sha256;if(!B)if((B=u.version)&&"number"===typeof B&&B===B){H=!1;for(w in p)if(p[w]==B){H=!0;break;}if(!H)throw new R(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));}else B=p.V1;switch(B){case p.V1:if("string"!==typeof t||v&&"string"!==typeof v||"string"!==typeof y||"string"!==typeof z)throw new fa(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(u));break;case p.V2:w=u.version;if(w!=p.V2)throw new R(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));if("string"!==typeof G||v&&"string"!==typeof v||"string"!==typeof y)throw new fa(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(u));G=Fd(G);if(!G)throw new R(g.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(u));t=G;break;default:throw new R(g.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));}try{v&&(v=wa(v));y=wa(y);}catch(C){throw new R(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(u),C);}new $c(t,v,y,Y);});};}());(function(){var p;p=fd={V1:1,V2:2};Ab=pa.Class.create({init:function(g,t,u){var L;switch(g){case p.V1:L=u;break;case p.V2:L={};L.version=g;L.algorithm=t;L.signature=sa(u);L=Ua(JSON.stringify(L),Oa);break;default:throw new ea("Signature envelope version "+g+" encoding unsupported.");}Object.defineProperties(this,{version:{value:g,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:t,writable:!1,configurable:!1},signature:{value:u,writable:!1,configurable:!1},bytes:{value:L,writable:!1,configurable:!1}});}});dd=function(){var g,u,B,L;2==arguments.length?(g=p.V1,u=arguments[0],B=null,L=arguments[1]):3==arguments.length&&(g=p.V2,B=arguments[0],u=arguments[1],L=arguments[2]);t(L,function(){return new Ab(g,B,u);});};ed=function(u,B,Y){t(Y,function(){var t,G,v,y,z,H,w;if(B)switch(B){case p.V1:return new Ab(p.V1,null,u);case p.V2:try{t=Xa(u,Oa);G=JSON.parse(t);v=parseInt(G.version);y=G.algorithm;z=G.signature;if(!v||"number"!==typeof v||v!=v||"string"!==typeof y||"string"!==typeof z)throw new fa(g.JSON_PARSE_ERROR,"signature envelope "+sa(u));if(p.V2!=v)throw new R(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+sa(u));H=Vc(y);if(!H)throw new R(g.UNIDENTIFIED_ALGORITHM,"signature envelope "+sa(u));w=wa(z);if(!w)throw new R(g.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(u));return new Ab(p.V2,H,w);}catch(C){if(C instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"signature envelope "+sa(u),C);throw C;}default:throw new R(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+sa(u));}try{t=Xa(u,Oa);G=JSON.parse(t);}catch(C){G=null;}if(G&&G.version){if(t=G.version,"number"!==typeof t||t!==t)t=p.V1;}else t=p.V1;switch(t){case p.V1:return new Ab(t,null,u);case p.V2:H=G.algorithm;z=G.signature;if("string"!==typeof H||"string"!==typeof z)return new Ab(p.V1,null,u);H=Vc(H);if(!H)return new Ab(p.V1,null,u);try{w=wa(z);}catch(C){return new Ab(p.V1,null,u);}return new Ab(t,H,w);default:throw new R(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+u);}});};}());cc=pa.Class.create({encrypt:function(g,t){},decrypt:function(g,t){},wrap:function(g,t){},unwrap:function(g,t,p,u){},sign:function(g,t){},verify:function(g,t,p){}});(function(){var p;p=Cb={RSA_OAEP:xc.name,A128KW:yb.name};vb="A128GCM";Bb=pa.Class.create({init:function(g,t,u,L,G){switch(t){case p.RSA_OAEP:G=G&&(G.rawKey||G);L=L&&(L.rawKey||L);break;case p.A128KW:G=L=L&&(L.rawKey||L);break;default:throw new ea("Unsupported algorithm: "+t);}Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_algo:{value:t,writable:!1,enumerable:!1,configurable:!1},_enc:{value:u,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:G,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:L,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(t,p){p.error(new R(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(t,p){p.error(new R(g.DECRYPT_NOT_SUPPORTED));},wrap:function(p,u){t(u,function(){Ka.wrapKey("jwe+jwk",p.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(g){u.result(g);},function(t){u.error(new R(g.WRAP_ERROR));});},this);},unwrap:function(p,u,B,L){function G(v){t(L,function(){switch(v.type){case"secret":$b(v,L);break;case"public":Pb(v,L);break;case"private":ac(v,L);break;default:throw new R(g.UNSUPPORTED_KEY,"type: "+v.type);}});}t(L,function(){Ka.unwrapKey("jwe+jwk",p,this._unwrapKey,this._unwrapKey.algorithm,u,!1,B).then(function(g){G(g);},function(){L.error(new R(g.UNWRAP_ERROR));});},this);},sign:function(t,p){p.error(new R(g.SIGN_NOT_SUPPORTED));},verify:function(t,p,u){u.error(new R(g.VERIFY_NOT_SUPPORTED));}});}());dc=cc.extend({encrypt:function(g,t){t.result(g);},decrypt:function(g,t){t.result(g);},wrap:function(g,t){t.result(g);},unwrap:function(g,t,p,u){u.result(g);},sign:function(g,t){t.result(new Uint8Array(0));},verify:function(g,t,p){p.result(!0);}});(function(){var p;p=Ac={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zc=cc.extend({init:function Ia(g,t,G,v,y){Ia.base.call(this);G&&(G=G.rawKey);v&&(v=v.rawKey);Object.defineProperties(this,{id:{value:t,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:G,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:v,writable:!1,enumerable:!1,configurable:!1},transform:{value:y==p.ENCRYPT_DECRYPT_PKCS1?Xc:y==p.ENCRYPT_DECRYPT_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:y==p.WRAP_UNWRAP_PKCS1?Xc:y==p.WRAP_UNWRAP_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:y==p.SIGN_VERIFY?Id:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,u){var L;L=this;t(u,function(){if("nullOp"==this.transform)return p;if(!this.publicKey)throw new R(g.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==p.length)return p;Ka.encrypt(L.transform,L.publicKey,p).then(function(t){ad(L.id,null,t,{result:function(t){var v;try{v=JSON.stringify(t);u.result(Ua(v,Oa));}catch(z){u.error(new R(g.ENCRYPT_ERROR,null,z));}},error:function(t){t instanceof B||(t=new R(g.ENCRYPT_ERROR,null,t));u.error(t);}});},function(t){u.error(new R(g.ENCRYPT_ERROR));});},this);},decrypt:function(p,u){var L;L=this;t(u,function(){var t,v;if("nullOp"==this.transform)return p;if(!this.privateKey)throw new R(g.DECRYPT_NOT_SUPPORTED,"no private key");if(0==p.length)return p;try{v=Xa(p,Oa);t=JSON.parse(v);}catch(y){if(y instanceof SyntaxError)throw new R(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,y);throw new R(g.DECRYPT_ERROR,null,y);}bd(t,cd.V1,{result:function(t){var p;try{if(t.keyId!=L.id)throw new R(g.ENVELOPE_KEY_ID_MISMATCH);p=u.result;Ka.decrypt(L.transform,L.privateKey,t.ciphertext).then(p,function(t){u.error(new R(g.DECRYPT_ERROR));});}catch(H){H instanceof B?u.error(H):u.error(new R(g.DECRYPT_ERROR,null,H));}},error:function(t){t instanceof fa&&(t=new R(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,t));t instanceof B||(t=new R(g.DECRYPT_ERROR,null,t));u.error(t);}});},this);},wrap:function(p,u){t(u,function(){var t;if("nullOp"==this.wrapTransform||!this.publicKey)throw new R(g.WRAP_NOT_SUPPORTED,"no public key");t=u.result;Ka.wrapKey("jwk",p.rawKey,this.publicKey,this.wrapTransform).then(t,function(t){u.error(new R(g.WRAP_ERROR));});},this);},unwrap:function(p,u,L,G){function v(p){t(G,function(){switch(p.type){case"secret":$b(p,G);break;case"public":Pb(p,G);break;case"private":ac(p,G);break;default:throw new R(g.UNSUPPORTED_KEY,"type: "+p.type);}});}t(G,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new R(g.UNWRAP_NOT_SUPPORTED,"no private key");Ka.unwrapKey("jwk",p,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},u,!1,L).then(v,function(t){G.error(new R(g.UNWRAP_ERROR));});},this);},sign:function(p,u){t(u,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new R(g.SIGN_NOT_SUPPORTED,"no private key");Ka.sign(this.algo,this.privateKey,p).then(function(g){dd(g,{result:function(g){u.result(g.bytes);},error:u.error});},function(t){u.error(new R(g.SIGNATURE_ERROR));});},this);},verify:function(p,u,L){var G;G=this;t(L,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new R(g.VERIFY_NOT_SUPPORTED,"no public key");ed(u,fd.V1,{result:function(v){t(L,function(){var t;t=L.result;Ka.verify(this.algo,this.publicKey,v.signature,p).then(t,function(t){L.error(new R(g.SIGNATURE_ERROR));});},G);},error:L.error});},this);}});}());(function(){Bc=cc.extend({init:function Va(g,t,p,G,v){Va.base.call(this);p=p&&p.rawKey;G=G&&G.rawKey;v=v&&v.rawKey;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},id:{value:t,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:p,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:G,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:v,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,u){var M;M=this;t(u,function(){var t;if(!this.encryptionKey)throw new R(g.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==p.length)return p;t=new Uint8Array(16);this.ctx.getRandom().nextBytes(t);Ka.encrypt({name:sb.name,iv:t},M.encryptionKey,p).then(function(p){p=new Uint8Array(p);ad(M.id,t,p,{result:function(t){var p;try{p=JSON.stringify(t);u.result(Ua(p,Oa));}catch(z){u.error(new R(g.ENCRYPT_ERROR,null,z));}},error:function(t){t instanceof B||(t=new R(g.ENCRYPT_ERROR,null,t));u.error(t);}});},function(t){u.error(new R(g.ENCRYPT_ERROR));});},this);},decrypt:function(p,u){var M;M=this;t(u,function(){var t,G;if(!this.encryptionKey)throw new R(g.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==p.length)return p;try{G=Xa(p,Oa);t=JSON.parse(G);}catch(v){if(v instanceof SyntaxError)throw new R(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,v);throw new R(g.DECRYPT_ERROR,null,v);}bd(t,cd.V1,{result:function(t){try{if(t.keyId!=M.id)throw new R(g.ENVELOPE_KEY_ID_MISMATCH);Ka.decrypt({name:sb.name,iv:t.iv},M.encryptionKey,t.ciphertext).then(function(g){g=new Uint8Array(g);u.result(g);},function(){u.error(new R(g.DECRYPT_ERROR));});}catch(y){y instanceof B?u.error(y):u.error(new R(g.DECRYPT_ERROR,null,y));}},error:function(t){t instanceof fa&&(t=new R(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,t));t instanceof B||(t=new R(g.DECRYPT_ERROR,null,t));u.error(t);}});},this);},wrap:function(p,u){t(u,function(){if(!this.wrapKey)throw new R(g.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.wrapKey("raw",p.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(g){u.result(g);},function(t){u.error(new R(g.WRAP_ERROR));});},this);},unwrap:function(p,u,B,L){function G(p){t(L,function(){switch(p.type){case"secret":$b(p,L);break;case"public":Pb(p,L);break;case"private":ac(p,L);break;default:throw new R(g.UNSUPPORTED_KEY,"type: "+p.type);}});}t(L,function(){if(!this.wrapKey)throw new R(g.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.unwrapKey("raw",p,this.wrapKey,this.wrapKey.algorithm,u,!1,B).then(function(g){G(g);},function(t){L.error(new R(g.UNWRAP_ERROR));});},this);},sign:function(p,u){var B;B=this;t(u,function(){if(!this.hmacKey)throw new R(g.SIGN_NOT_SUPPORTED,"no HMAC key.");Ka.sign(tb,this.hmacKey,p).then(function(g){t(u,function(){var t;t=new Uint8Array(g);dd(t,{result:function(g){u.result(g.bytes);},error:u.error});},B);},function(){u.error(new R(g.HMAC_ERROR));});},this);},verify:function(p,u,B){var L;L=this;t(B,function(){if(!this.hmacKey)throw new R(g.VERIFY_NOT_SUPPORTED,"no HMAC key.");ed(u,fd.V1,{result:function(G){t(B,function(){Ka.verify(tb,this.hmacKey,G.signature,p).then(function(g){B.result(g);},function(t){B.error(new R(g.HMAC_ERROR));});},L);},error:B.error});},this);}});}());kb=Bc.extend({init:function Va(t,p,u,G,v){if(u||G||v)Va.base.call(this,t,u+"_"+p.sequenceNumber,G,v,null);else{if(!p.isDecrypted())throw new Sb(g.MASTERTOKEN_UNTRUSTED,p);Va.base.call(this,t,p.identity+"_"+p.sequenceNumber,p.encryptionKey,p.hmacKey,null);}}});Me=cc.extend({encrypt:function(g,t){t.result(g);},decrypt:function(g,t){t.result(g);},wrap:function(g,t){t.error(new ea("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(g,t,p,u){u.error(new ea("Unwrap is unsupported by the MSL token crypto context."));},sign:function(g,t){t.result(new Uint8Array(0));},verify:function(g,t,p){p.result(!1);}});Ra={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ra);(function(){Rb=pa.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Rb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});Kd=function(t,p){var u,L,G;u=p.scheme;L=p.authdata;if(!u||!L)throw new fa(g.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(p));if(!Ra[u])throw new xb(g.UNIDENTIFIED_ENTITYAUTH_SCHEME,u);G=t.getEntityAuthenticationFactory(u);if(!G)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,u);return G.createData(t,L);};}());Cc=pa.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,t){},getCryptoContext:function(g,t){}});(function(){pb=Rb.extend({init:function Ia(g){Ia.base.call(this,Ra.MGK);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function La(g){return this===g?!0:g instanceof pb?La.base.call(this,this,g)&&this.identity==g.identity:!1;}});Ld=function(t){var p;p=t.identity;if(!p)throw new fa(g.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(t));return new pb(p);};}());Ne=Cc.extend({init:function Ia(g){Ia.base.call(this,Ra.MGK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,t){return Ld(t);},getCryptoContext:function(t,p){if(!(p instanceof pb))throw new ea("Incorrect authentication data type "+JSON.stringify(p)+".");if(p.identity!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"mgk "+p.identity).setEntity(p);return new dc();}});(function(){ub=Rb.extend({init:function La(g){La.base.call(this,Ra.PSK);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function L(g){return this===g?!0:g instanceof ub?L.base.call(this,this,g)&&this.identity==g.identity:!1;}});Md=function(t){var p;p=t.identity;if(!p)throw new fa(g.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(t));return new ub(p);};}());Nd=Cc.extend({init:function La(g){La.base.call(this,Ra.PSK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,t){return Md(t);},getCryptoContext:function(t,p){if(!(p instanceof ub))throw new ea("Incorrect authentication data type "+JSON.stringify(p)+".");if(p.getIdentity()!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"psk "+p.identity).setEntity(p);return new dc();}});(function(){Dc=Rb.extend({init:function L(g,t){L.base.call(this,Ra.RSA);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1},publicKeyId:{value:t,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;g.pubkeyid=this.publicKeyId;return g;},equals:function G(g){return this===g?!0:g instanceof Dc?G.base.call(this,this,g)&&this.identity==g.identity&&this.publicKeyId==g.publicKeyId:!1;}});Od=function(t){var p,y;p=t.identity;y=t.pubkeyid;if(!p||"string"!==typeof p||!y||"string"!==typeof y)throw new fa(g.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(t));return new Dc(p,y);};}());Oe=Cc.extend({init:function L(g){L.base.call(this,Ra.RSA);Object.defineProperties(this,{store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,t){return Od(t);},getCryptoContext:function(t,p){var v,y,z;if(!(p instanceof Dc))throw new ea("Incorrect authentication data type "+p+".");v=p.identity;y=p.publicKeyId;z=this.store.getPublicKey(y);if(!z)throw new xb(g.RSA_PUBLICKEY_NOT_FOUND,y).setEntity(p);return new zc(t,v,null,z,Ac.SIGN_VERIFY);}});(function(){hc=Rb.extend({init:function G(g){G.base.call(this,Ra.NONE);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function v(g){return this===g?!0:g instanceof hc?v.base.call(this,this,g)&&this.identity==g.identity:!1;}});Pd=function(t){var p;p=t.identity;if(!p)throw new fa(g.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(t));return new hc(p);};}());Le=Cc.extend({init:function G(){G.base.call(this,Ra.NONE);},createData:function(g,t){return Pd(t);},getCryptoContext:function(g,t){if(!(t instanceof hc))throw new ea("Incorrect authentication data type "+JSON.stringify(t)+".");return new dc();}});Pe=pa.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(g,t){if(!(t instanceof yc))throw new ea("Incorrect key data type "+t+".");this.rsaKeys[g]=t;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(g){delete this.rsaKeys[g];},getPublicKey:function(g){return this.rsaKeys[g];}});gd=pa.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,t,p){}});Ec=pa.Class.create({abort:function(){},close:function(g,t){},write:function(g,t,p,z,H){},flush:function(g,t){}});Qe=pa.Class.create({init:function(g){Object.defineProperties(this,{_data:{value:g,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Ya("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(g,t,p){u(p,function(){var t;if(this._closed)throw new Ya("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==g&&(g=this._data.length-this._currentPosition);t=this._data.subarray(this._currentPosition,this._currentPosition+g);this._currentPosition+=t.length;return t;},this);}});Re=pa.Class.create({init:function(){var g;g={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},abort:function(){},close:function(g,t){this._closed=!0;t.result(!0);},write:function(g,t,p,z,H){u(H,function(){var w;if(this._closed)throw new Ya("Stream is already closed.");if(0>t)throw new RangeError("Offset cannot be negative.");if(0>p)throw new RangeError("Length cannot be negative.");if(t+p>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=g.subarray(t,p);this._buffered.push(w);return w.length;},this);},flush:function(g,t){var p,v;for(;0<this._buffered.length;){p=this._buffered.shift();if(this._result){v=new Uint8Array(this._result.length+p.length);v.set(this._result);v.set(p,this._result.length);this._result=v;}else this._result=new Uint8Array(p);}t.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Se=pa.Class.create({getResponse:function(g,t,p){}});(function(){var g,t;g=Ec.extend({init:function(g,t){var p;p={_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:t,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Re(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ka,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ka,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new ic(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,p);},setTimeout:function(g){this._timeout=g;},getResponse:function(g,t){var p;p=this;this._responseQueue.poll(g,{result:function(g){u(t,function(){g&&this._responseQueue.add(g);return g;},p);},timeout:function(){u(t,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();t.timeout();},p);},error:function(g){u(t,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw g;},p);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(g,t){var p;p=this;u(t,function(){var g;if(this._response)return!0;g=this._buffer.toByteArray();0<g.length&&(this._abortToken=this._httpLocation.getResponse({body:g},this._timeout,{result:function(g){p._response={response:g};p._responseQueue.add(p._response);},timeout:function(){p._response={isTimeout:!0};p._responseQueue.add(p._response);},error:function(g){p._response={isError:!0,error:g};p._responseQueue.add(p._response);}}));return!0;},this);},write:function(g,t,p,w,C){u(C,function(){if(this._response)throw new Ya("HttpOutputStream already closed.");this._buffer.write(g,t,p,w,C);},this);},flush:function(g,t){u(t,function(){if(this._response)return!0;this._buffer.flush(g,t);},this);}});t=gd.extend({init:function(g){Object.defineProperties(this,{_out:{value:g,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ka,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ka,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(g,t,p){var C;function w(w){u(p,function(){if(!w)return new Uint8Array(0);this._out.getResponse(t,{result:function(w){u(p,function(){var v;if(w.isTimeout)this._timedout=!0,p.timeout();else{if(w.isError)throw this._exception=w.error||new Ya("Unknown HTTP exception."),this._exception;if(!w.response)throw this._exception=new Ya("Missing HTTP response."),this._exception;w.response.json!==ka&&(this._json=w.response.json,this.getJSON=function(){return C._json;});v=w.response.content||Pc("string"===typeof w.response.body?w.response.body:JSON.stringify(this._json));this._buffer=new Qe(v);this._buffer.read(g,t,p);}},C);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},C);}C=this;u(p,function(){if(this._exception)throw this._exception;if(this._timedout)p.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(g,t,p):this._out.close(t,{result:function(g){w(g);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});}},C);}});zd=pa.Class.create({init:function(g,t){Object.defineProperties(this,{_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:t,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(g){this._timeout=g;},openConnection:function(){var p;p=new g(this._httpLocation,this._timeout);return{input:new t(p),output:p};}});}());(function(){var g,t;g=Ec.extend({init:function(){var g;g={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setTimeout:function(){},getResponse:function(g,t){t.result({success:!1,content:null,errorHttpCode:ka,errorSubCode:ka});},abort:function(){},close:function(g,t){t.result(!0);},write:function(g,t,p,w,C){var v,y;try{if(0>t)throw new RangeError("Offset cannot be negative.");if(0>p)throw new RangeError("Length cannot be negative.");if(t+p>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=g.subarray(t,p);y=new Uint8Array(this._buffer.length+v.length);y.set(this._buffer);y.set(v,this._buffer.length);this._buffer=y;C.result(v.length);}catch(Na){C.error(Na);}},flush:function(g,t){t.result(!0);},request:function(){return this._buffer;}});t=gd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,t,p){p.result(new Uint8Array(16));}});Ad=pa.Class.create({init:function(){var p;p={output:{value:new g(),writable:!1,enumerable:!1,configurable:!1},input:{value:new t(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,p);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Oc(this.output.request());}});}());Qd=function(g,t,p){function v(g){var t,p;g=new Te(Xa(g,"utf-8"));t=[];for(p=g.nextValue();p!==ka;)t.push(p),p=g.nextValue();return t;}(function(g,t,C){g.read(-1,t,{result:function(g){g&&g.length?C(null,g):C(null,null);},timeout:function(){p.timeout();},error:function(g){C(g,null);}});}(g,t,function(t,w){t?p.error(t):w?g.getJSON!==ka&&"function"===typeof g.getJSON?p.result(g.getJSON()):p.result(v(w)):p.result(null);}));};ob={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ob);(function(){jc=pa.Class.create({init:function(g){Object.defineProperties(this,{keyExchangeScheme:{value:g,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof jc?this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Rd=function(p,v,y){t(y,function(){var t,H,w;t=v.scheme;H=v.keydata;if(!t||!H||"object"!==typeof H)throw new fa(g.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(v));if(!ob[t])throw new Sa(g.UNIDENTIFIED_KEYX_SCHEME,t);w=p.getKeyExchangeFactory(t);if(!w)throw new Sa(g.KEYX_FACTORY_NOT_FOUND,t);w.createRequestData(p,H,y);});};}());(function(){kc=pa.Class.create({init:function(g,t){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},keyExchangeScheme:{value:t,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.mastertoken=this.masterToken;g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof kc?this.masterToken.equals(g.masterToken)&&this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Sd=function(p,v,y){t(y,function(){var u,H,w;u=v.mastertoken;H=v.scheme;w=v.keydata;if(!H||!u||"object"!==typeof u||!w||"object"!==typeof w)throw new fa(g.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(v));if(!ob[H])throw new Sa(g.UNIDENTIFIED_KEYX_SCHEME,H);Ub(p,u,{result:function(C){t(y,function(){var t;t=p.getKeyExchangeFactory(H);if(!t)throw new Sa(g.KEYX_FACTORY_NOT_FOUND,H);return t.createResponseData(p,C,w);});},error:function(g){y.error(g);}});});};}());(function(){var p;p=pa.Class.create({init:function(g,t){Object.defineProperties(this,{keyResponseData:{value:g,writable:!1,configurable:!1},cryptoContext:{value:t,writable:!1,configurable:!1}});}});qb=pa.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createRequestData:function(g,t,p){},createResponseData:function(g,t,p){},generateResponse:function(g,t,p,u){},getCryptoContext:function(g,t,p,u,w){},generateSessionKeys:function(p,y){t(y,function(){var t,v;t=new Uint8Array(16);v=new Uint8Array(32);p.getRandom().nextBytes(t);p.getRandom().nextBytes(v);zb(t,sb,Ib,{result:function(t){zb(v,tb,Tb,{result:function(g){y.result({encryptionKey:t,hmacKey:g});},error:function(t){y.error(new R(g.SESSION_KEY_CREATION_FAILURE,null,t));}});},error:function(t){y.error(new R(g.SESSION_KEY_CREATION_FAILURE,null,t));}});});},importSessionKeys:function(g,t,p){zb(g,sb,Ib,{result:function(g){zb(t,tb,Tb,{result:function(t){p.result({encryptionKey:g,hmacKey:t});},error:function(g){p.error(g);}});},error:function(g){p.error(g);}});}});qb.KeyExchangeData=p;}());(function(){var v,y,u;function p(p,w,C,y,u){t(u,function(){var H,ca;switch(w){case v.PSK:H=new ub(y),ca=p.getEntityAuthenticationFactory(Ra.PSK);if(!ca)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,w);H=ca.getCryptoContext(p,H);return new Bb(p,Cb.A128KW,vb,ka);case v.MGK:H=new pb(y);ca=p.getEntityAuthenticationFactory(Ra.MGK);if(!ca)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,w);H=ca.getCryptoContext(p,H);return new Bb(p,Cb.A128KW,vb,ka);case v.WRAP:H=p.getMslCryptoContext();H.unwrap(C,yb,Jb,{result:function(g){t(u,function(){return new Bb(p,Cb.A128KW,vb,g);});},error:u.error});break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,w);}});}v={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};y=hd=jc.extend({init:function w(g,t){w.base.call(this,ob.JWE_LADDER);switch(g){case v.WRAP:if(!t)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:t=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:t,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=sa(this.wrapdata));return g;},equals:function C(g){return g===this?!0:g instanceof hd?C.base.call(this,g)&&this.mechanism==g.mechanism&&$a(this.wrapdata,g.wrapdata):!1;},uniqueKey:function ra(){var g;g=ra.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+fb(this.wrapdata));return g;}});u=Ud=kc.extend({init:function ca(g,t,p,v,y){ca.base.call(this,g,ob.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:t,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1},encryptionKey:{value:v,writable:!1,configurable:!1},hmacKey:{value:y,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=sa(this.wrapKey);g.wrapdata=sa(this.wrapdata);g.encryptionkey=sa(this.encryptionKey);g.hmackey=sa(this.hmacKey);return g;},equals:function Na(g){return this===g?!0:g instanceof Ud?Na.base.call(this,g)&&$a(this.wrapKey,g.wrapKey)&&$a(this.wrapdata,g.wrapdata)&&$a(this.encryptionKey,g.encryptionKey)&&$a(this.hmacKey,g.hmacKey):!1;},uniqueKey:function ua(){return ua.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Td=qb.extend({init:function P(g){P.base.call(this,ob.JWE_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(p,u,U){t(U,function(){var t,p,P;t=u.mechanism;p=u.wrapdata;if(!t||t==v.WRAP&&(!p||"string"!==typeof p))throw new fa(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(u));if(!v[t])throw new Sa(g.UNIDENTIFIED_KEYX_MECHANISM,t);switch(t){case v.WRAP:try{P=wa(p);}catch(ba){throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());}if(null==P||0==P.length)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());break;default:P=null;}return new y(t,P);});},createResponseData:function(t,p,v){var y,P,U,z,ta,G,B;t=v.wrapkey;y=v.wrapdata;P=v.encryptionkey;U=v.hmackey;if(!(t&&"string"===typeof t&&y&&"string"===typeof y&&P&&"string"===typeof P&&U)||"string"!==typeof U)throw new fa(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(v));try{z=wa(t);ta=wa(y);}catch(ia){throw new R(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(v),ia);}try{G=wa(P);}catch(ia){throw new R(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(v),ia);}try{B=wa(U);}catch(ia){throw new R(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(v),ia);}return new u(p,z,ta,G,B);},generateResponse:function(v,z,U,X){var Ja,va;function P(g,p,y){Ja.generateSessionKeys(v,{result:function(v){t(X,function(){ta(g,p,y,v.encryptionKey,v.hmacKey);},Ja);},error:function(g){t(X,function(){g instanceof B&&g.setEntity(va);throw g;});}});}function ta(g,y,u,P,U){t(X,function(){p(v,z.mechanism,z.wrapdata,g,{result:function(g){g.wrap(y,{result:function(d){G(y,u,P,U,d);},error:function(d){t(X,function(){d instanceof B&&d.setEntity(va);throw d;});}});},error:function(g){t(X,function(){g instanceof B&&g.setEntity(va);throw g;});}});},Ja);}function G(g,p,y,u,P){t(X,function(){var ia;ia=new Bb(v,Cb.A128KW,vb,g);ia.wrap(y,{result:function(d){ia.wrap(u,{result:function(b){Ba(p,P,y,d,u,b);},error:function(b){t(X,function(){b instanceof B&&b.setEntity(va);throw b;});}});},error:function(d){t(X,function(){d instanceof B&&d.setEntity(va);throw d;});}});},Ja);}function Ba(g,p,y,P,z,ta){t(X,function(){var d;d=v.getTokenFactory();va?d.renewMasterToken(v,va,y,z,{result:function(b){t(X,function(){var a,c;a=new kb(v,b);c=new u(b,p,g,P,ta);return new qb.KeyExchangeData(c,a,X);},Ja);},error:function(b){t(X,function(){b instanceof B&&b.setEntity(va);throw b;});}}):d.createMasterToken(v,U,y,z,{result:function(b){t(X,function(){var a,c;a=new kb(v,b);c=new u(b,p,g,P,ta);return new qb.KeyExchangeData(c,a,X);},Ja);},error:X.error});},Ja);}Ja=this;t(X,function(){var p,u;if(!(z instanceof y))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");p=U;if(U instanceof jb){if(!U.isVerified())throw new Sb(g.MASTERTOKEN_UNTRUSTED,U);va=U;p=U.identity;}u=new Uint8Array(16);v.getRandom().nextBytes(u);zb(u,yb,Jb,{result:function(g){t(X,function(){v.getMslCryptoContext().wrap(g,{result:function(t){P(p,g,t);},error:function(g){t(X,function(){g instanceof B&&g.setEntity(va);throw g;},Ja);}});},Ja);},error:function(p){t(X,function(){throw new R(g.WRAP_KEY_CREATION_FAILURE,null,p).setEntity(va);},Ja);}});},Ja);},getCryptoContext:function(p,z,U,X,Aa){var ta;function P(g,v,y,u,P){t(Aa,function(){var ia;ia=new Bb(p,Cb.A128KW,vb,P);ia.unwrap(v.encryptionKey,sb,Ib,{result:function(P){ia.unwrap(v.hmacKey,tb,Tb,{result:function(g){t(Aa,function(){this.repository.addCryptoContext(v.wrapdata,ia);this.repository.removeCryptoContext(y);return new kb(p,v.masterToken,u,P,g);},ta);},error:function(p){t(Aa,function(){p instanceof B&&p.setEntity(g);throw p;});}});},error:function(p){t(Aa,function(){p instanceof B&&p.setEntity(g);throw p;});}});},ta);}ta=this;t(Aa,function(){var X,ha;if(!(z instanceof y))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");if(!(U instanceof u))throw new ea("Key response data "+JSON.stringify(U)+" was not created by this factory.");X=z.mechanism;ha=z.wrapdata;p.getEntityAuthenticationData(null,{result:function(y){t(Aa,function(){var u,z,ta;u=y.getIdentity();switch(X){case v.PSK:z=new ub(u);ta=p.getEntityAuthenticationFactory(Ra.PSK);if(!ta)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,X).setEntity(y);z=ta.getCryptoContext(p,z);z=new Bb(p,Cb.A128KW,vb,ka);break;case v.MGK:z=new pb(u);ta=p.getEntityAuthenticationFactory(Ra.MGK);if(!ta)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,X).setEntity(y);z=ta.getCryptoContext(p,z);z=new Bb(p,Cb.A128KW,vb,z.wrapKey);break;case v.WRAP:z=this.repository.getCryptoContext(ha);if(!z)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,sa(ha)).setEntity(y);break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,X).setEntity(y);}z.unwrap(U.wrapKey,yb,Jb,{result:function(g){P(y,U,ha,u,g);},error:function(g){t(Aa,function(){g instanceof B&&g.setEntity(y);throw g;});}});},ta);},error:Aa.error});},ta);}});}());(function(){var v,y,u,H;function p(p,C,y,u,z){t(z,function(){var w,P;switch(C){case v.PSK:w=new ub(u),P=p.getEntityAuthenticationFactory(Ra.PSK);if(!P)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,C);w=P.getCryptoContext(p,w);return new H(ka);case v.MGK:w=new pb(u);P=p.getEntityAuthenticationFactory(Ra.MGK);if(!P)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,C);w=P.getCryptoContext(p,w);return new H(ka);case v.WRAP:w=p.getMslCryptoContext();w.unwrap(y,yb,Jb,{result:function(g){t(z,function(){return new H(g);});},error:z.error});break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,C);}});}v={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};y=Fc=jc.extend({init:function C(g,t){C.base.call(this,ob.JWK_LADDER);switch(g){case v.WRAP:if(!t)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:t=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:t,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=sa(this.wrapdata));return g;},equals:function ra(g){return g===this?!0:g instanceof Fc?ra.base.call(this,g)&&this.mechanism==g.mechanism&&$a(this.wrapdata,g.wrapdata):!1;},uniqueKey:function ca(){var g;g=ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+fb(this.wrapdata));return g;}});u=Vd=kc.extend({init:function Na(g,t,p,v,y){Na.base.call(this,g,ob.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:t,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1},encryptionKey:{value:v,writable:!1,configurable:!1},hmacKey:{value:y,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=sa(this.wrapKey);g.wrapdata=sa(this.wrapdata);g.encryptionkey=sa(this.encryptionKey);g.hmackey=sa(this.hmacKey);return g;},equals:function ua(g){return this===g?!0:g instanceof Vd?ua.base.call(this,g)&&$a(this.wrapKey,g.wrapKey)&&$a(this.wrapdata,g.wrapdata)&&$a(this.encryptionKey,g.encryptionKey)&&$a(this.hmacKey,g.hmacKey):!1;},uniqueKey:function P(){return P.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});H=cc.extend({init:function(g){g&&g.rawKey&&(g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(t,p){p.error(new R(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(t,p){p.error(new R(g.DECRYPT_NOT_SUPPORTED));},wrap:function(p,v){t(v,function(){Ka.wrapKey("jwk",p.rawKey,this._wrapKey,yb).then(function(g){v.result(g);},function(t){v.error(new R(g.WRAP_ERROR));});},this);},unwrap:function(p,v,y,u){function z(p){t(u,function(){switch(p.type){case"secret":$b(p,u);break;case"public":Pb(p,u);break;case"private":ac(p,u);break;default:throw new R(g.UNSUPPORTED_KEY,"type: "+p.type);}});}t(u,function(){Ka.unwrapKey("jwk",p,this._wrapKey,yb,v,!1,y).then(function(g){z(g);},function(t){u.error(new R(g.UNWRAP_ERROR));});},this);},sign:function(t,p){p.error(new R(g.SIGN_NOT_SUPPORTED));},verify:function(t,p,v){v.error(new R(g.VERIFY_NOT_SUPPORTED));}});jd=qb.extend({init:function ta(g){ta.base.call(this,ob.JWK_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(p,u,z){t(z,function(){var t,p,z;t=u.mechanism;p=u.wrapdata;if(!t||t==v.WRAP&&(!p||"string"!==typeof p))throw new fa(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(u));if(!v[t])throw new Sa(g.UNIDENTIFIED_KEYX_MECHANISM,t);switch(t){case v.WRAP:try{z=wa(p);}catch(Ba){throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());}if(null==z||0==z.length)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());break;default:z=null;}return new y(t,z);});},createResponseData:function(t,p,v){var y,z,H,U,X,ta,ia;t=v.wrapkey;y=v.wrapdata;z=v.encryptionkey;H=v.hmackey;if(!(t&&"string"===typeof t&&y&&"string"===typeof y&&z&&"string"===typeof z&&H)||"string"!==typeof H)throw new fa(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(v));try{U=wa(t);X=wa(y);}catch(wb){throw new R(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(v),wb);}try{ta=wa(z);}catch(wb){throw new R(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(v),wb);}try{ia=wa(H);}catch(wb){throw new R(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(v),wb);}return new u(p,U,X,ta,ia);},generateResponse:function(v,z,X,G){var va,ia;function U(g,p,y){va.generateSessionKeys(v,{result:function(v){t(G,function(){ta(g,p,y,v.encryptionKey,v.hmacKey);},va);},error:function(g){t(G,function(){g instanceof B&&g.setEntity(ia);throw g;});}});}function ta(g,y,u,H,U){t(G,function(){p(v,z.mechanism,z.wrapdata,g,{result:function(d){d.wrap(y,{result:function(b){Aa(y,u,H,U,b);},error:function(b){t(G,function(){b instanceof B&&b.setEntity(ia);throw b;});}});},error:function(d){t(G,function(){d instanceof B&&d.setEntity(ia);throw d;});}});},va);}function Aa(g,p,v,y,u){t(G,function(){var d;d=new H(g);d.wrap(v,{result:function(b){d.wrap(y,{result:function(a){Ja(p,u,v,b,y,a);},error:function(a){t(G,function(){a instanceof B&&a.setEntity(ia);throw a;});}});},error:function(b){t(G,function(){b instanceof B&&b.setEntity(ia);throw b;});}});},va);}function Ja(g,p,y,z,H,d){t(G,function(){var b;b=v.getTokenFactory();ia?b.renewMasterToken(v,ia,y,H,{result:function(a){t(G,function(){var b,k;b=new kb(v,a);k=new u(a,p,g,z,d);return new qb.KeyExchangeData(k,b,G);},va);},error:function(a){t(G,function(){a instanceof B&&a.setEntity(ia);throw a;});}}):b.createMasterToken(v,X,y,H,{result:function(a){t(G,function(){var b,k;b=new kb(v,a);k=new u(a,p,g,z,d);return new qb.KeyExchangeData(k,b,G);},va);},error:G.error});},va);}va=this;t(G,function(){var p,u;if(!(z instanceof y))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");p=X;if(X instanceof jb){if(!X.isVerified())throw new Sb(g.MASTERTOKEN_UNTRUSTED,X);ia=X;p=X.identity;}u=new Uint8Array(16);v.getRandom().nextBytes(u);zb(u,yb,Jb,{result:function(g){t(G,function(){v.getMslCryptoContext().wrap(g,{result:function(t){U(p,g,t);},error:function(g){t(G,function(){g instanceof B&&g.setEntity(ia);throw g;},va);}});},va);},error:function(p){t(G,function(){throw new R(g.WRAP_KEY_CREATION_FAILURE,null,p).setEntity(ia);},va);}});},va);},getCryptoContext:function(p,z,X,G,ha){var ta;function U(g,v,y,u,z){t(ha,function(){var ia;ia=new H(z);ia.unwrap(v.encryptionKey,sb,Ib,{result:function(z){ia.unwrap(v.hmacKey,tb,Tb,{result:function(g){t(ha,function(){this.repository.addCryptoContext(v.wrapdata,ia);this.repository.removeCryptoContext(y);return new kb(p,v.masterToken,u,z,g);},ta);},error:function(p){t(ha,function(){p instanceof B&&p.setEntity(g);throw p;});}});},error:function(p){t(ha,function(){p instanceof B&&p.setEntity(g);throw p;});}});},ta);}ta=this;t(ha,function(){var G,Aa;if(!(z instanceof y))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");if(!(X instanceof u))throw new ea("Key response data "+JSON.stringify(X)+" was not created by this factory.");G=z.mechanism;Aa=z.wrapdata;p.getEntityAuthenticationData(null,{result:function(y){t(ha,function(){var u,z,ia;u=y.getIdentity();switch(G){case v.PSK:z=new ub(u);ia=p.getEntityAuthenticationFactory(Ra.PSK);if(!ia)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(y);z=ia.getCryptoContext(p,z);z=new H(z.wrapKey);break;case v.MGK:z=new pb(u);ia=p.getEntityAuthenticationFactory(Ra.MGK);if(!ia)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(y);z=ia.getCryptoContext(p,z);z=new H(z.wrapKey);break;case v.WRAP:z=this.repository.getCryptoContext(Aa);if(!z)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,sa(Aa)).setEntity(y);break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(y);}z.unwrap(X.wrapKey,yb,Jb,{result:function(g){U(y,X,Aa,u,g);},error:function(g){t(ha,function(){g instanceof B&&g.setEntity(y);throw g;});}});},ta);},error:ha.error});},ta);}});}());Ue=pa.Class.create({addCryptoContext:function(g,p){},getCryptoContext:function(g){},removeCryptoContext:function(g){}});(function(){var v,y,u,H;function p(p,t,y,u,z){switch(y){case v.JWE_RSA:case v.JWEJS_RSA:return new Bb(p,Cb.RSA_OAEP,vb,u,z);case v.JWK_RSA:return new zc(p,t,u,z,Ac.WRAP_UNWRAP_OAEP);case v.JWK_RSAES:return new zc(p,t,u,z,Ac.WRAP_UNWRAP_PKCS1);default:throw new R(g.UNSUPPORTED_KEYX_MECHANISM,y);}}v=Gc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};y=Uc=jc.extend({init:function C(g,p,t,v){C.base.call(this,ob.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},mechanism:{value:p,writable:!1,configurable:!1},publicKey:{value:t,writable:!1,configurable:!1},privateKey:{value:v,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.mechanism=this.mechanism;g.publickey=sa(this.publicKey.getEncoded());return g;},equals:function ra(g){var p;if(g===this)return!0;if(!(g instanceof Uc))return!1;p=this.privateKey===g.privateKey||this.privateKey&&g.privateKey&&$a(this.privateKey.getEncoded(),g.privateKey.getEncoded());return ra.base.call(this,g)&&this.keyPairId==g.keyPairId&&this.mechanism==g.mechanism&&$a(this.publicKey.getEncoded(),g.publicKey.getEncoded())&&p;},uniqueKey:function ca(){var g,p;g=this.publicKey.getEncoded();p=this.privateKey&&this.privateKey.getEncoded();g=ca.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+fb(g);p&&(g+=":"+fb(p));return g;}});u=function(p,u){t(u,function(){var t,z,H,U;t=p.keypairid;z=p.mechanism;H=p.publickey;if(!t||"string"!==typeof t||!z||!H||"string"!==typeof H)throw new fa(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(p));if(!v[z])throw new Sa(g.UNIDENTIFIED_KEYX_MECHANISM,z);try{U=wa(H);switch(z){case v.JWE_RSA:case v.JWEJS_RSA:case v.JWK_RSA:Zc(U,xc,Jb,{result:function(g){u.result(new y(t,z,g,null));},error:function(g){u.error(g);}});break;case v.JWK_RSAES:Zc(U,Xc,Jb,{result:function(g){u.result(new y(t,z,g,null));},error:function(g){u.error(g);}});break;default:throw new R(g.UNSUPPORTED_KEYX_MECHANISM,z);}}catch(X){if(!(X instanceof B))throw new R(g.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(p),X);throw X;}});};H=Wd=kc.extend({init:function Na(g,p,t,v){Na.base.call(this,g,ob.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:p,writable:!1,configurable:!1},encryptionKey:{value:t,writable:!1,configurable:!1},hmacKey:{value:v,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.encryptionkey=sa(this.encryptionKey);g.hmackey=sa(this.hmacKey);return g;},equals:function ua(g){return this===g?!0:g instanceof Wd?ua.base.call(this,g)&&this.keyPairId==g.keyPairId&&$a(this.encryptionKey,g.encryptionKey)&&$a(this.hmacKey,g.hmacKey):!1;},uniqueKey:function P(){return P.base.call(this)+":"+this.keyPairId+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Bd=qb.extend({init:function ta(){ta.base.call(this,ob.ASYMMETRIC_WRAPPED);},createRequestData:function(g,p,t){u(p,t);},createResponseData:function(p,t,v){var y,u,z,U;p=v.keypairid;y=v.encryptionkey;u=v.hmackey;if(!p||"string"!==typeof p||!y||"string"!==typeof y||!u||"string"!==typeof u)throw new fa(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(v));try{z=wa(y);}catch(Ja){throw new R(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(v),Ja);}try{U=wa(u);}catch(Ja){throw new R(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(v),Ja);}return new H(t,p,z,U);},generateResponse:function(g,v,u,z){var X;function U(y,H){t(z,function(){var ia;ia=p(g,v.keyPairId,v.mechanism,null,v.publicKey);ia.wrap(y,{result:function(g){t(z,function(){ia.wrap(H,{result:function(p){G(y,g,H,p);},error:function(g){t(z,function(){g instanceof B&&u instanceof jb&&g.setEntity(u);throw g;},X);}});},X);},error:function(g){t(z,function(){g instanceof B&&u instanceof jb&&g.setEntity(u);throw g;},X);}});},X);}function G(p,y,ia,U){t(z,function(){var G;G=g.getTokenFactory();u instanceof jb?G.renewMasterToken(g,u,p,ia,{result:function(p){t(z,function(){var t,u;t=new kb(g,p);u=new H(p,v.keyPairId,y,U);return new qb.KeyExchangeData(u,t,z);},X);},error:function(g){t(z,function(){g instanceof B&&g.setEntity(u);throw g;},X);}}):G.createMasterToken(g,u,p,ia,{result:function(p){t(z,function(){var t,u;t=new kb(g,p);u=new H(p,v.keyPairId,y,U);return new qb.KeyExchangeData(u,t,z);},X);},error:z.error});},X);}X=this;t(z,function(){if(!(v instanceof y))throw new ea("Key request data "+JSON.stringify(v)+" was not created by this factory.");this.generateSessionKeys(g,{result:function(g){U(g.encryptionKey,g.hmacKey);},error:function(g){t(z,function(){g instanceof B&&u instanceof jb&&g.setEntity(u);throw g;},X);}});},X);},getCryptoContext:function(v,u,z,G,ha){var U;U=this;t(ha,function(){var X,ta,ba;if(!(u instanceof y))throw new ea("Key request data "+JSON.stringify(u)+" was not created by this factory.");if(!(z instanceof H))throw new ea("Key response data "+JSON.stringify(z)+" was not created by this factory.");X=u.keyPairId;ta=z.keyPairId;if(X!=ta)throw new Sa(g.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+X+"; response "+ta).setEntity(G);ta=u.privateKey;if(!ta)throw new Sa(g.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(G);ba=p(v,X,u.mechanism,ta,null);ba.unwrap(z.encryptionKey,sb,Ib,{result:function(g){ba.unwrap(z.hmacKey,tb,Tb,{result:function(p){v.getEntityAuthenticationData(null,{result:function(y){t(ha,function(){var t;t=y.getIdentity();return new kb(v,z.masterToken,t,g,p);},U);},error:function(g){t(ha,function(){g instanceof B&&g.setEntity(G);throw g;},U);}});},error:function(g){t(ha,function(){g instanceof B&&g.setEntity(G);throw g;},U);}});},error:function(g){t(ha,function(){g instanceof B&&g.setEntity(G);throw g;},U);}});},U);}});}());Te=pa.Class.create({init:function(g){var p,t,u,H,w,C,G,ca;p=ab.parser();t=[];u=[];G=0;ca=!1;p.onerror=function(g){ca||(ca=!0,p.end());};p.onopenobject=function(g){var p;if(H)H[C]={},u.push(H),H=H[C];else if(w){p={};u.push(w);w.push(p);H=p;w=ka;}else H={};C=g;};p.oncloseobject=function(){var g;g=u.pop();g?"object"===typeof g?H=g:(H=ka,w=g):(t.push(H),G=p.index,H=ka);};p.onopenarray=function(){var g;if(H)H[C]=[],u.push(H),w=H[C],H=ka;else if(w){g=[];u.push(w);w.push(g);w=g;}else w=[];};p.onclosearray=function(){var g;g=u.pop();g?"object"===typeof g?(H=g,w=ka):w=g:(t.push(w),G=p.index,w=ka);};p.onkey=function(g){C=g;};p.onvalue=function(g){H?H[C]=g:w?w.push(g):(t.push(g),G=p.index);};p.write(g).close();Object.defineProperties(this,{_values:{value:t,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:G,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ka:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var p,v,y,u,H;p=kd="entityauthdata";v=Yd="mastertoken";y=Zd="headerdata";u=$d="errordata";H=ld="signature";Xd=function(w,C,z,G){t(G,function(){var t,ca,P,ra,U,X;t=C[p];ca=C[v];P=C[H];if(t&&"object"!==typeof t||ca&&"object"!==typeof ca||"string"!==typeof P)throw new fa(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(C));try{ra=wa(P);}catch(Aa){throw new Ga(g.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(C),Aa);}U=null;t&&(U=Kd(w,t));X=C[y];if(X!=ka&&null!=X){if("string"!==typeof X)throw new fa(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(C));ca?Ub(w,ca,{result:function(g){md(w,X,U,g,ra,z,G);},error:function(g){G.error(g);}}):md(w,X,U,null,ra,z,G);}else if(t=C[u],t!=ka&&null!=t){if("string"!==typeof t)throw new fa(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(C));ae(w,t,U,ra,G);}else throw new fa(g.JSON_PARSE_ERROR,JSON.stringify(C));});};}());(function(){function u(g,p){this.errordata=g;this.signature=p;}Ob=pa.Class.create({init:function(p,y,u,H,w,C,G,ca,Na,ua){var v;v=this;t(ua,function(){var z,P;0>C&&(C=-1);if(0>H||H>Pa)throw new ea("Message ID "+H+" is out of range.");if(!y)throw new Ga(g.MESSAGE_ENTITY_NOT_FOUND);if(Na)return Object.defineProperties(this,{entityAuthenticationData:{value:y,writable:!1,configurable:!1},recipient:{value:u,writable:!1,configurable:!1},messageId:{value:H,writable:!1,configurable:!1},errorCode:{value:w,writable:!1,configurable:!1},internalCode:{value:C,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:Na.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Na.signature,writable:!1,enumerable:!1,configurable:!1}}),this;z={};u&&(z.recipient=u);z.messageid=H;z.errorcode=w;0<C&&(z.internalcode=C);G&&(z.errormsg=G);ca&&(z.usermsg=ca);try{P=p.getEntityAuthenticationFactory(y.scheme).getCryptoContext(p,y);}catch(X){throw X instanceof B&&(X.setEntity(y),X.setMessageId(H)),X;}z=Ua(JSON.stringify(z),Oa);P.encrypt(z,{result:function(g){t(ua,function(){P.sign(g,{result:function(p){t(ua,function(){Object.defineProperties(this,{entityAuthenticationData:{value:y,writable:!1,configurable:!1},recipient:{value:u,writable:!1,configurable:!1},messageId:{value:H,writable:!1,configurable:!1},errorCode:{value:w,writable:!1,configurable:!1},internalCode:{value:C,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){t(ua,function(){g instanceof B&&(g.setEntity(y),g.setMessageId(H));throw g;},v);}});},v);},error:function(g){t(ua,function(){g instanceof B&&(g.setEntity(y),g.setMessageId(H));throw g;},v);}});},v);},toJSON:function(){var g;g={};g[kd]=this.entityAuthenticationData;g[$d]=sa(this.errordata);g[ld]=sa(this.signature);return g;}});be=function(g,p,t,u,w,C,G,ca,Na){new Ob(g,p,t,u,w,C,G,ca,null,Na);};ae=function(v,y,z,H,w){t(w,function(){var C,G,ca;if(!z)throw new Ga(g.MESSAGE_ENTITY_NOT_FOUND);try{G=z.scheme;ca=v.getEntityAuthenticationFactory(G);if(!ca)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,G);C=ca.getCryptoContext(v,z);}catch(Na){throw Na instanceof B&&Na.setEntity(z),Na;}try{y=wa(y);}catch(Na){throw new Ga(g.HEADER_DATA_INVALID,y,Na).setEntity(z);}if(!y||0==y.length)throw new Ga(g.HEADER_DATA_MISSING,y).setEntity(z);C.verify(y,H,{result:function(G){t(w,function(){if(!G)throw new R(g.MESSAGE_VERIFICATION_FAILED).setEntity(z);C.decrypt(y,{result:function(C){t(w,function(){var t,G,U,ca,ra,ha,ba,Na;t=Xa(C,Oa);try{G=JSON.parse(t);}catch(va){if(va instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"errordata "+t,va).setEntity(z);throw va;}U=G.recipient!==ka?G.recipient:null;ca=parseInt(G.messageid);ra=parseInt(G.errorcode);ha=parseInt(G.internalcode);ba=G.errormsg;Na=G.usermsg;if(U&&"string"!==typeof U||!ca||ca!=ca||!ra||ra!=ra||G.internalcode&&ha!=ha||ba&&"string"!==typeof ba||Na&&"string"!==typeof Na)throw new fa(g.JSON_PARSE_ERROR,"errordata "+t).setEntity(z);if(0>ca||ca>Pa)throw new Ga(g.MESSAGE_ID_OUT_OF_RANGE,"errordata "+t).setEntity(z);G=!1;for(var B in p)if(p[B]==ra){G=!0;break;}G||(ra=p.FAIL);if(ha){if(0>ha)throw new Ga(g.INTERNAL_CODE_NEGATIVE,"errordata "+t).setEntity(z).setMessageId(ca);}else ha=-1;t=new u(y,H);new Ob(v,z,U,ca,ra,ha,ba,Na,t,w);});},error:function(g){t(w,function(){g instanceof B&&g.setEntity(z);throw g;});}});});},error:function(g){t(w,function(){g instanceof B&&g.setEntity(z);throw g;});}});});};}());Ve=pa.Class.create({getUserMessage:function(g,p){}});(function(){nd=function(g,p){var t,v;if(!g||!p)return null;t=g.compressionAlgorithms.filter(function(g){for(var t=0;t<p.compressionAlgorithms.length;++t)if(g==p.compressionAlgorithms[t])return!0;return!1;});v=g.languages.filter(function(g){for(var t=0;t<p.languages.length;++t)if(g==p.languages[t])return!0;return!1;});return new lc(t,v);};lc=pa.Class.create({init:function(g,p){g||(g=[]);p||(p=[]);g.sort();Object.defineProperties(this,{compressionAlgorithms:{value:g,writable:!1,enumerable:!0,configurable:!1},languages:{value:p,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var g;g={};g.compressionalgos=this.compressionAlgorithms;g.languages=this.languages;return g;},equals:function(g){return this===g?!0:g instanceof lc?ud(this.compressionAlgorithms,g.compressionAlgorithms)&&ud(this.languages,g.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ce=function(p){var t,y,H;t=p.compressionalgos;y=p.languages;if(t&&!(t instanceof Array)||y&&!(y instanceof Array))throw new fa(g.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(p));p=[];for(var u=0;t&&u<t.length;++u){H=t[u];Qb[H]&&p.push(H);}return new lc(p,y);};}());(function(){var ua,P;function p(g,p,t,w,v){this.customer=g;this.sender=p;this.messageCryptoContext=t;this.headerdata=w;this.signature=v;}function v(g,p,t,w,v,C,u,y,z,H,P,ca,G,qa,ra,d,b,a,c,k){return{cryptoContext:{value:p,writable:!1,configurable:!1},customer:{value:t,writable:!1,configurable:!1},entityAuthenticationData:{value:w,writable:!1,configurable:!1},masterToken:{value:v,writable:!1,configurable:!1},sender:{value:C,writable:!1,configurable:!1},messageId:{value:u,writable:!1,configurable:!1},nonReplayableId:{value:d,writable:!1,configurable:!1},keyRequestData:{value:y,writable:!1,configurable:!1},keyResponseData:{value:z,writable:!1,configurable:!1},userAuthenticationData:{value:H,writable:!1,configurable:!1},userIdToken:{value:P,writable:!1,configurable:!1},serviceTokens:{value:ca,writable:!1,configurable:!1},peerMasterToken:{value:G,writable:!1,configurable:!1},peerUserIdToken:{value:qa,writable:!1,configurable:!1},peerServiceTokens:{value:ra,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:k,writable:!1,enumerable:!1,configurable:!1}};}function u(p,t,w){var v;if(w){if(t=p.getMslStore().getCryptoContext(w))return t;if(!w.isVerified()||!w.isDecrypted())throw new Sb(g.MASTERTOKEN_UNTRUSTED,w);return new kb(p,w);}w=t.scheme;v=p.getEntityAuthenticationFactory(w);if(!v)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,w);return v.getCryptoContext(p,t);}function z(p,w,v,C,u){t(u,function(){w.verify(v,C,{result:function(p){t(u,function(){if(!p)throw new R(g.MESSAGE_VERIFICATION_FAILED);w.decrypt(v,{result:function(g){t(u,function(){return Xa(g,Oa);});},error:function(g){u.error(g);}});});},error:function(g){u.error(g);}});});}function H(g,p,w){t(w,function(){if(p)Sd(g,p,w);else return null;});}function w(g,p,w,v){t(v,function(){if(p)Vb(g,p,w,v);else return null;});}function C(g,p,w,v){t(v,function(){if(w)ge(g,p,w,v);else return null;});}function ra(p,w,v,C,u,y,z){var P;function H(w,z,ca){var ia,G;if(z>=w.length){ia=[];for(G in P)ia.push(P[G]);ca.result(ia);}else{ia=w[z];if("object"!==typeof ia)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+y);Hc(p,ia,v,C,u,{result:function(g){t(ca,function(){P[g.uniqueKey()]=g;H(w,z+1,ca);});},error:function(g){ca.error(g);}});}}P={};t(z,function(){if(w){if(!(w instanceof Array))throw new fa(g.JSON_PARSE_ERROR,"headerdata "+y);H(w,0,z);}else return[];});}function ca(p,w,v,C,u,y){function z(p,w,v){t(v,function(){var t;t=w.peermastertoken;if(t&&"object"!==typeof t)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u);if(!t)return null;Ub(p,t,v);});}function H(p,w,v,C){t(C,function(){var t;t=w.peeruseridtoken;if(t&&"object"!==typeof t)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u);if(!t)return null;Vb(p,t,v,C);});}t(y,function(){if(!p.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};z(p,w,{result:function(g){t(y,function(){var z;z=v?v.masterToken:g;H(p,w,z,{result:function(v){t(y,function(){ra(p,w.peerservicetokens,z,v,C,u,{result:function(p){t(y,function(){return{peerMasterToken:g,peerUserIdToken:v,peerServiceTokens:p};});},error:function(g){t(y,function(){g instanceof B&&(g.setEntity(z),g.setUser(v));throw g;});}});});},error:function(g){t(y,function(){g instanceof B&&g.setEntity(z);throw g;});}});});},error:y.error});});}function Na(p,w,v,C){var y;function u(g,w){t(C,function(){if(w>=g.length)return y;Rd(p,g[w],{result:function(p){t(C,function(){y.push(p);u(g,w+1);});},error:function(g){C.error(g);}});});}y=[];t(C,function(){var p;p=w.keyrequestdata;if(!p)return y;if(!(p instanceof Array))throw new fa(g.JSON_PARSE_ERROR,"headerdata "+v);u(p,0);});}ua=ee=pa.Class.create({init:function(g,p,t,w,v,C,u,y,z){Object.defineProperties(this,{messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:p,writable:!1,configurable:!1},renewable:{value:t,writable:!1,configurable:!1},capabilities:{value:w,writable:!1,configurable:!1},keyRequestData:{value:v,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthData:{value:u,writable:!1,configurable:!1},userIdToken:{value:y,writable:!1,configurable:!1},serviceTokens:{value:z,writable:!1,configurable:!1}});}});P=fe=pa.Class.create({init:function(g,p,t){Object.defineProperties(this,{peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:p,writable:!1,configurable:!1},peerServiceTokens:{value:t,writable:!1,configurable:!1}});}});mc=pa.Class.create({init:function(g,p,w,C,y,z,H){var ca;function P(ia){t(H,function(){var P,G,ra,qa,U,d,b,a,c,k,m,r,q,n,l,f,h;p=w?null:p;P=C.nonReplayableId;G=C.renewable;ra=C.capabilities;qa=C.messageId;U=C.keyRequestData?C.keyRequestData:[];d=C.keyResponseData;b=C.userAuthData;a=C.userIdToken;c=C.serviceTokens?C.serviceTokens:[];g.isPeerToPeer()?(k=y.peerMasterToken,m=y.peerUserIdToken,r=y.peerServiceTokens?y.peerServiceTokens:[]):(m=k=null,r=[]);if(0>qa||qa>Pa)throw new ea("Message ID "+qa+" is out of range.");if(!p&&!w)throw new ea("Message entity authentication data or master token must be provided.");d?g.isPeerToPeer()?(q=w,n=d.masterToken):(q=d.masterToken,n=k):(q=w,n=k);if(a&&(!q||!a.isBoundTo(q)))throw new ea("User ID token must be bound to a master token.");if(m&&(!n||!m.isBoundTo(n)))throw new ea("Peer user ID token must be bound to a peer master token.");c.forEach(function(b){if(b.isMasterTokenBound()&&(!q||!b.isBoundTo(q)))throw new ea("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound()&&(!a||!b.isBoundTo(a)))throw new ea("User ID token bound service tokens must be bound to the provided user ID token.");},this);r.forEach(function(a){if(a.isMasterTokenBound()&&(!n||!a.isBoundTo(n)))throw new ea("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!m||!a.isBoundTo(m)))throw new ea("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(z){l=z.customer;f=z.messageCryptoContext;h=v(g,f,l,p,w,ia,qa,U,d,b,a,c,k,m,r,P,G,ra,z.headerdata,z.signature);Object.defineProperties(this,h);return this;}l=a?a.customer:null;h={};ia&&(h.sender=ia);h.messageid=qa;"number"===typeof P&&(h.nonreplayableid=P);h.renewable=G;ra&&(h.capabilities=ra);0<U.length&&(h.keyrequestdata=U);d&&(h.keyresponsedata=d);b&&(h.userauthdata=b);a&&(h.useridtoken=a);0<c.length&&(h.servicetokens=c);k&&(h.peermastertoken=k);m&&(h.peeruseridtoken=m);0<r.length&&(h.peerservicetokens=r);try{f=u(g,p,w);}catch(x){throw x instanceof B&&(x.setEntity(w),x.setEntity(p),x.setUser(a),x.setUser(b),x.setMessageId(qa)),x;}h=Ua(JSON.stringify(h),Oa);f.encrypt(h,{result:function(q){t(H,function(){f.sign(q,{result:function(n){t(H,function(){var h;h=v(g,f,l,p,w,ia,qa,U,d,b,a,c,k,m,r,P,G,ra,q,n);Object.defineProperties(this,h);return this;},ca);},error:function(f){t(H,function(){f instanceof B&&(f.setEntity(w),f.setEntity(p),f.setUser(a),f.setUser(b),f.setMessageId(qa));throw f;},ca);}});},ca);},error:function(f){t(H,function(){f instanceof B&&(f.setEntity(w),f.setEntity(p),f.setUser(a),f.setUser(b),f.setMessageId(qa));throw f;},ca);}});},ca);}ca=this;t(H,function(){z?P(z.sender):w?g.getEntityAuthenticationData(null,{result:function(g){g=g.getIdentity();P(g);},error:H.error}):P(null);},ca);},isEncrypting:function(){return this.masterToken||Rc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var g;g={};this.masterToken?g[Yd]=this.masterToken:g[kd]=this.entityAuthenticationData;g[Zd]=sa(this.headerdata);g[ld]=sa(this.signature);return g;}});de=function(g,p,t,w,v,C){new mc(g,p,t,w,v,null,C);};md=function(v,y,G,Aa,ha,ba,Ba){t(Ba,function(){var U,X;G=Aa?null:G;if(!G&&!Aa)throw new Ga(g.MESSAGE_ENTITY_NOT_FOUND);U=y;try{y=wa(U);}catch(ia){throw new Ga(g.HEADER_DATA_INVALID,U,ia);}if(!y||0==y.length)throw new Ga(g.HEADER_DATA_MISSING,U);try{X=u(v,G,Aa);}catch(ia){throw ia instanceof B&&(ia.setEntity(Aa),ia.setEntity(G)),ia;}z(v,X,y,ha,{result:function(u){t(Ba,function(){var z,ia,U,qa,ta;try{z=JSON.parse(u);}catch(d){if(d instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u,d).setEntity(Aa).setEntity(G);throw d;}ia=parseInt(z.messageid);if(!ia||ia!=ia)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(Aa).setEntity(G);if(0>ia||ia>Pa)throw new Ga(g.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+u).setEntity(Aa).setEntity(G);U=Aa?z.sender:null;if(Aa&&(!U||"string"!==typeof U))throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(Aa).setEntity(G).setMessageId(ia);qa=z.keyresponsedata;if(qa&&"object"!==typeof qa)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(Aa).setEntity(G).setMessageId(ia);ta=Ba;Ba={result:function(d){ta.result(d);},error:function(d){d instanceof B&&(d.setEntity(Aa),d.setEntity(G),d.setMessageId(ia));ta.error(d);}};H(v,qa,{result:function(d){t(Ba,function(){var b,a;b=!v.isPeerToPeer()&&d?d.masterToken:Aa;a=z.useridtoken;if(a&&"object"!==typeof a)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u);w(v,a,b,{result:function(a){t(Ba,function(){var k;k=z.userauthdata;if(k&&"object"!==typeof k)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u);C(v,b,k,{result:function(k){t(Ba,function(){var c,q,n;if(k){q=k.scheme;n=v.getUserAuthenticationFactory(q);if(!n)throw new Ea(g.USERAUTH_FACTORY_NOT_FOUND,q).setUser(a).setUser(k);q=Aa?Aa.identity:G.getIdentity();c=n.authenticate(v,q,k,a);}else c=a?a.customer:null;ra(v,z.servicetokens,b,a,ba,u,{result:function(b){t(Ba,function(){var f,l,q,n;f=z.nonreplayableid!==ka?parseInt(z.nonreplayableid):null;l=z.renewable;if(f!=f||"boolean"!==typeof l)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u);if(0>f||f>Pa)throw new Ga(g.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+u);q=null;n=z.capabilities;if(n){if("object"!==typeof n)throw new fa(g.JSON_PARSE_ERROR,"headerdata "+u);q=ce(n);}Na(v,z,u,{result:function(n){ca(v,z,d,ba,u,{result:function(h){t(Ba,function(){var m,r,x,F;m=h.peerMasterToken;r=h.peerUserIdToken;x=h.peerServiceTokens;F=new ua(ia,f,l,q,n,d,k,a,b);m=new P(m,r,x);r=new p(c,U,X,y,ha);new mc(v,G,Aa,F,m,r,Ba);});},error:Ba.error});},error:function(b){t(Ba,function(){b instanceof B&&(b.setUser(a),b.setUser(k));throw b;});}});});},error:function(l){t(Ba,function(){l instanceof B&&(l.setEntity(b),l.setUser(a),l.setUser(k));throw l;});}});});},error:Ba.error});});},error:Ba.error});});},error:Ba.error});});},error:Ba.error});});};}());(function(){function p(g,p){this.payload=g;this.signature=p;}od=pa.Class.create({init:function(g,p,u,H,w,C,G,ca){var v;v=this;t(ca,function(){var y,z;if(0>g||g>Pa)throw new ea("Sequence number "+g+" is outside the valid range.");if(0>p||p>Pa)throw new ea("Message ID "+p+" is outside the valid range.");if(G)return Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:p,writable:!1,configurable:!1},compressionAlgo:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:G.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:G.signature,writable:!1,enumerable:!1,configurable:!1}}),this;H?(y=pd(H,w),y||(H=null,y=w)):(H=null,y=w);z={};z.sequencenumber=g;z.messageid=p;u&&(z.endofmsg=u);H&&(z.compressionalgo=H);z.data=sa(y);y=Ua(JSON.stringify(z),Oa);C.encrypt(y,{result:function(y){t(ca,function(){C.sign(y,{result:function(C){t(ca,function(){Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:p,writable:!1,configurable:!1},compressionAlgo:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:y,writable:!1,enumerable:!1,configurable:!1},signature:{value:C,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){ca.error(g);}});},v);},error:function(g){ca.error(g);}});},v);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var g;g={};g.payload=sa(this.payload);g.signature=sa(this.signature);return g;}});he=function(g,p,t,u,w,C,G){new od(g,p,t,u,w,C,null,G);};ie=function(v,u,z){t(z,function(){var y,w,C,G;y=v.payload;w=v.signature;if(!y||"string"!==typeof y||"string"!==typeof w)throw new fa(g.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(v));try{C=wa(y);}catch(ca){throw new Ga(g.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(v),ca);}try{G=wa(w);}catch(ca){throw new Ga(g.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(v),ca);}u.verify(C,G,{result:function(w){t(z,function(){if(!w)throw new R(g.PAYLOAD_VERIFICATION_FAILED);u.decrypt(C,{result:function(w){t(z,function(){var t,v,y,H,ca,ra,ha;t=Xa(w,Oa);try{v=JSON.parse(t);}catch(ba){if(ba instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"payload chunk payload "+t,ba);throw ba;}y=parseInt(v.sequencenumber);H=parseInt(v.messageid);ca=v.endofmsg;ra=v.compressionalgo;v=v.data;if(!y||y!=y||!H||H!=H||ca&&"boolean"!==typeof ca||ra&&"string"!==typeof ra||"string"!==typeof v)throw new fa(g.JSON_PARSE_ERROR,"payload chunk payload "+t);if(0>y||y>Pa)throw new B(g.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+t);if(0>H||H>Pa)throw new B(g.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+t);ca||(ca=!1);if(ra&&!Qb[ra])throw new Ga(g.UNIDENTIFIED_COMPRESSION,ra);try{ha=wa(v);}catch(ba){throw new Ga(g.PAYLOAD_DATA_CORRUPT,v,ba);}if(ha&&0!=ha.length)t=ra?Ic(ra,ha):ha;else{if(0<v.length)throw new Ga(g.PAYLOAD_DATA_CORRUPT,v);if(ca)t=new Uint8Array(0);else throw new Ga(g.PAYLOAD_DATA_MISSING,v);}ha=new p(C,G);new od(y,H,ca,ra,t,u,ha,z);});},error:function(g){z.error(g);}});});},error:function(g){z.error(g);}});});};}());(function(){var z,H;function p(p,v,u,y,z){var C,H,G,ca,ra;function w(){t(z,function(){var u,y;H>=v.length&&(H=0,++C);if(C>=G.length){if(ca)throw ca;throw new Sa(g.KEYX_FACTORY_NOT_FOUND,JSON.stringify(v));}u=G[C];y=v[H];u.scheme!=y.keyExchangeScheme?(++H,w()):u.generateResponse(p,y,ra,{result:function(g){z.result(g);},error:function(g){t(z,function(){if(!(g instanceof B))throw g;ca=g;++H;w();});}});});}C=0;H=0;G=p.getKeyExchangeFactories();ra=u?u:y;w();}function v(g,v,u,y,z){t(z,function(){var w;w=v.keyRequestData;if(v.isRenewable()&&0<w.length)y?y.isRenewable()||y.isExpired()?p(g,w,y,null,z):g.getTokenFactory().isNewestMasterToken(g,y,{result:function(v){t(z,function(){if(v)return null;p(g,w,y,null,z);});},error:z.error}):p(g,w,null,u.getIdentity(),z);else return null;});}function u(p,v,u,y){t(y,function(){var t,w,C,z;t=v.userIdToken;w=v.userAuthenticationData;C=v.messageId;if(t&&t.isVerified()){if(t.isRenewable()&&v.isRenewable()||t.isExpired()||!t.isBoundTo(u)){w=p.getTokenFactory();w.renewUserIdToken(p,t,u,y);return;}}else if(v.isRenewable()&&u&&w){t=v.customer;if(!t){t=w.scheme;z=p.getUserAuthenticationFactory(t);if(!z)throw new Ea(g.USERAUTH_FACTORY_NOT_FOUND,t).setEntity(u).setUser(w).setMessageId(C);t=z.authenticate(p,u.identity,w,null);}w=p.getTokenFactory();w.createUserIdToken(p,t,u,y);return;}return t;});}z=new Uint8Array(0);H=Wb=function(g){if(0>g||g>Pa)throw new ea("Message ID "+g+" is outside the valid range.");return g==Pa?0:g+1;};ec=function(g){if(0>g||g>Pa)throw new ea("Message ID "+g+" is outside the valid range.");return 0==g?Pa:g-1;};Xb=function(g,p,v,u,y){t(y,function(){var w;if(u==ka||null==u){w=g.getRandom();do u=w.nextLong();while(0>u||u>Pa);}else if(0>u||u>Pa)throw new ea("Message ID "+u+" is outside the valid range.");g.getEntityAuthenticationData(null,{result:function(w){t(y,function(){var t;t=g.getMessageCapabilities();return new Jc(g,u,t,w,p,v,null,null,null,null,null);});},error:function(g){y.error(g);}});});};je=function(g,p,y){t(y,function(){var C,z,G,ra,U,X;function w(g){t(y,function(){g instanceof B&&(g.setEntity(C),g.setEntity(z),g.setUser(G),g.setUser(ra),g.setMessageId(U));throw g;});}C=p.masterToken;z=p.entityAuthenticationData;G=p.userIdToken;ra=p.userAuthenticationData;U=p.messageId;X=H(U);v(g,p,z,C,{result:function(v){t(y,function(){var z;z=v?v.keyResponseData.masterToken:z=C;g.getEntityAuthenticationData(null,{result:function(H){t(y,function(){u(g,p,z,{result:function(w){t(y,function(){var t,u,y;G=w;t=nd(p.messageCapabilities,g.getMessageCapabilities());u=p.keyResponseData;y=p.serviceTokens;return g.isPeerToPeer()?new Jc(g,X,t,H,u?u.masterToken:p.peerMasterToken,p.peerUserIdToken,p.peerServiceTokens,C,G,y,v):new Jc(g,X,t,H,u?u.masterToken:C,G,y,null,null,null,v);});},error:w});});},error:w});});},error:w});});};ke=function(g,p,v,u,y){t(y,function(){g.getEntityAuthenticationData(null,{result:function(w){t(y,function(){var t,C;if(p!=ka&&null!=p)t=H(p);else{C=g.getRandom();do t=C.nextInt();while(0>t||t>Pa);}be(g,w,t,v.responseCode,v.internalCode,v.message,u,y);});},error:function(g){y.error(g);}});});};Jc=pa.Class.create({init:function(g,p,t,v,u,y,z,H,G,B,Aa){var w,C,ca,P,ra;if(!g.isPeerToPeer()&&(H||G))throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");w=Aa&&!g.isPeerToPeer()?Aa.keyResponseData.masterToken:u;C=[];w=g.getMslStore().getServiceTokens(w,y);C.push.apply(C,w);z&&z.forEach(function(g){C.push(g);},this);ra=[];g.isPeerToPeer()&&(ca=H,P=G,z=Aa?Aa.keyResponseData.masterToken:H,G=g.getMslStore().getServiceTokens(z,G),ra.push.apply(ra,G),B&&B.forEach(function(g){ra.push(g);},this));Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:v,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:u,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:p,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:t,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:y,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:C,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ca,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:P,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Rc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Rc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||vd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||vd(this._entityAuthData.scheme);},getHeader:function(p){t(p,function(){var t,w,v;t=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;w=[];for(v in this._keyRequestData)w.push(this._keyRequestData[v]);if(this._nonReplayable){if(!this._masterToken)throw new Ga(g.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);v=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else v=null;t=new ee(this._messageId,v,this._renewable,this._capabilities,w,t,this._userAuthData,this._userIdToken,this._serviceTokens);w=new fe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);de(this._ctx,this._entityAuthData,this._masterToken,t,w,p);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(g){this._nonReplayable=g;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(g){this._renewable=g;return this;},setAuthTokens:function(g,p){var t,v;if(p&&!p.isBoundTo(g))throw new ea("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new ea("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{t=this._ctx.getMslStore().getServiceTokens(g,p);}catch(ua){if(ua instanceof B)throw new ea("Invalid master token and user ID token combination despite checking above.",ua);throw ua;}for(var w=this._serviceTokens.length-1;0<=w;--w){v=this._serviceTokens[w];(v.isUserIdTokenBound()&&!v.isBoundTo(p)||v.isMasterTokenBound()&&!v.isBoundTo(g))&&this._serviceTokens.splice(w,1);}t.forEach(function(g){this.excludeServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._serviceTokens.push(g);},this);this._masterToken=g;this._userIdToken=p;},setUserAuthenticationData:function(g){this._userAuthData=g;return this;},setCustomer:function(g,p){var w;w=this;t(p,function(){var v;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new ea("User ID token or peer user ID token already exists for the remote user.");v=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!v)throw new ea("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,g,v,{result:function(g){t(p,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=g:(this._userIdToken=g,this._userAuthData=null);return!0;},w);},error:function(g){p.error(g);}});},w);},addKeyRequestData:function(g){this._keyRequestData[g.uniqueKey()]=g;return this;},removeKeyRequestData:function(g){delete this._keyRequestData[g.uniqueKey()];return this;},addServiceToken:function(p){var t;t=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(p.isMasterTokenBound()&&!p.isBoundTo(t))throw new Ga(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(p)+"; mt "+JSON.stringify(t)).setEntity(t);if(p.isUserIdTokenBound()&&!p.isBoundTo(this._userIdToken))throw new Ga(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(p)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(t).setUser(this._userIdToken);this.excludeServiceToken(p.name,p.isMasterTokenBound(),p.isUserIdTokenBound());this._serviceTokens.push(p);return this;},addServiceTokenIfAbsent:function(g){var t;for(var p=this._serviceTokens.length-1;0<=p;--p){t=this._serviceTokens[p];if(t.name==g.name&&t.isMasterTokenBound()==g.isMasterTokenBound()&&t.isUserIdTokenBound()==g.isUserIdTokenBound())return this;}this.addServiceToken(g);return this;},excludeServiceToken:function(){var g,p,t,u;1==arguments.length?(t=arguments[0],g=t.name,p=t.isMasterTokenBound(),t=t.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],p=arguments[1],t=arguments[2]);for(var v=this._serviceTokens.length-1;0<=v;--v){u=this._serviceTokens[v];u.name==g&&u.isMasterTokenBound()==p&&u.isUserIdTokenBound()==t&&this._serviceTokens.splice(v,1);}return this;},deleteServiceToken:function(){var g,p,v,u;if(2==arguments.length){v=arguments[0];g=v.name;v.isMasterTokenBound();v.isUserIdTokenBound();p=arguments[1];}else arguments.length=4,g=arguments[0],p=arguments[3];u=this;t(p,function(){var w,v;w=originalToken.isMasterTokenBound()?this._masterToken:null;v=originalToken.isUserIdTokenBound()?this._userIdToken:null;Db(this._ctx,g,z,w,v,!1,null,new dc(),{result:function(g){t(p,function(){return this.addServiceToken(g);},u);},error:function(g){g instanceof B&&(g=new ea("Failed to create and add empty service token to message.",g));p.error(g);}});},u);},getServiceTokens:function(){var g;g=[];g.push.apply(g,this._serviceTokens);return g;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(p,t){var w,u;if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(t&&!p)throw new ea("Peer master token cannot be null when setting peer user ID token.");if(t&&!t.isBoundTo(p))throw new Ga(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+t+"; mt "+p).setEntity(p).setUser(t);try{w=this._ctx.getMslStore().getServiceTokens(p,t);}catch(ua){if(ua instanceof B)throw new ea("Invalid peer master token and user ID token combination despite proper check.",ua);throw ua;}for(var v=this._peerServiceTokens.length-1;0<=v;--v){u=this._peerServiceTokens[v];(u.isUserIdTokenBound()&&!u.isBoundTo(t)||u.isMasterTokenBound()&&!u.isBoundTo(p))&&this._peerServiceTokens.slice(v,1);}w.forEach(function(g){this.excludePeerServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._peerServiceTokens.push(g);},this);this._peerUserIdToken=t;this._peerMasterToken=p;return this;},addPeerServiceToken:function(p){if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer service tokens when not in peer-to-peer mode.");if(p.isMasterTokenBound()&&!p.isBoundTo(this._peerMasterToken))throw new Ga(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(p)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(p.isUserIdTokenBound()&&!p.isBoundTo(this._peerUserIdToken))throw new Ga(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(p)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(p.name,p.isMasterTokenBound(),p.isUserIdTokenBound());this._peerServiceTokens.push(p);return this;},addPeerServiceTokenIfAbsent:function(g){var t;for(var p=this._peerServiceTokens.length-1;0<=p;--p){t=this._peerServiceTokens[p];if(t.name==g.name&&t.isMasterTokenBound()==g.isMasterTokenBound()&&t.isUserIdTokenBound()==g.isUserIdTokenBound())return this;}this.addPeerServiceToken(g);return this;},excludePeerServiceToken:function(){var g,p,t,u;1==arguments.length?(t=arguments[0],g=t.name,p=t.isMasterTokenBound(),t=t.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],p=arguments[1],t=arguments[2]);for(var v=this._peerServiceTokens.length-1;0<=v;--v){u=this._peerServiceTokens[v];u.name==g&&u.isMasterTokenBound()==p&&u.isUserIdTokenBound()==t&&this._peerServiceTokens.splice(v,1);}return this;},deletePeerServiceToken:function(){var g,p,v,u,y,H;if(2==arguments.length){y=arguments[0];g=y.name;p=y.isMasterTokenBound();v=y.isUserIdTokenBound();u=arguments[1];}else arguments.length=4,g=arguments[0],p=arguments[1],v=arguments[2],u=arguments[3];H=this;t(u,function(){Db(this._ctx,g,z,p?this._peerMasterToken:null,v?this._peerUserIdToken:null,!1,null,new dc(),{result:function(g){t(u,function(){return this.addPeerServiceToken(g);},H);},error:function(g){g instanceof B&&(g=new ea("Failed to create and add empty peer service token to message.",g));u.error(g);}});},H);},getPeerServiceTokens:function(){var g;g=[];g.push.apply(g,this._peerServiceTokens);return g;}});}());(function(){function g(g,p){return p[g]?p[g]:p[""];}function p(g){var p;p=g.builder.getKeyExchangeData();return p&&!g.ctx.isPeerToPeer()?p.keyResponseData.masterToken:g.builder.getMasterToken();}le=pa.Class.create({init:function(g,p,t){g={ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:p.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:t,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},isPrimaryMasterTokenAvailable:function(){return p(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(g){try{return this.builder.addServiceToken(g),!0;}catch(z){if(z instanceof Ga)return!1;throw z;}},addPeerServiceToken:function(g){try{return this.builder.addPeerServiceToken(g),!0;}catch(z){if(z instanceof Ga)return!1;throw z;}},addUnboundPrimaryServiceToken:function(p,v,u,w,C){var y;y=this;t(C,function(){var z;z=g(p,this.cryptoContexts);if(!z)return!1;Db(this.ctx,p,v,null,null,u,w,z,{result:function(g){t(C,function(){try{this.builder.addServiceToken(g);}catch(ua){if(ua instanceof Ga)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",ua);throw ua;}return!0;},y);},error:function(g){C.error(g);}});},y);},addUnboundPeerServiceToken:function(p,v,u,w,C){var y;y=this;t(C,function(){var z;z=g(p,this.cryptoContexts);if(!z)return!1;Db(this.ctx,p,v,null,null,u,w,z,{result:function(g){t(C,function(){try{this.builder.addPeerServiceToken(g);}catch(ua){if(ua instanceof Ga)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",ua);throw ua;}return!0;},y);},error:function(g){C.error(g);}});},y);},addMasterBoundPrimaryServiceToken:function(v,u,H,w,C){var y;y=this;t(C,function(){var z,G;z=p(this);if(!z)return!1;G=g(v,this.cryptoContexts);if(!G)return!1;Db(this.ctx,v,u,z,null,H,w,G,{result:function(g){t(C,function(){try{this.builder.addServiceToken(g);}catch(P){if(P instanceof Ga)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",P);throw P;}return!0;},y);},error:function(g){C.error(g);}});},y);},addMasterBoundPeerServiceToken:function(p,v,u,w,C){var y;y=this;t(C,function(){var z,H;z=this.builder.getPeerMasterToken();if(!z)return!1;H=g(p,this.cryptoContexts);if(!H)return!1;Db(this.ctx,p,v,z,null,u,w,H,{result:function(g){t(C,function(){try{this.builder.addPeerServiceToken(g);}catch(P){if(P instanceof Ga)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",P);throw P;}return!0;},y);},error:function(g){C.error(g);}});},y);},addUserBoundPrimaryServiceToken:function(v,u,H,w,C){var y;y=this;t(C,function(){var z,G,B;z=p(this);if(!z)return!1;G=this.builder.getUserIdToken();if(!G)return!1;B=g(v,this.cryptoContexts);if(!B)return!1;Db(this.ctx,v,u,z,G,H,w,B,{result:function(g){t(C,function(){try{this.builder.addServiceToken(g);}catch(ta){if(ta instanceof Ga)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ta);throw ta;}return!0;},y);},error:function(g){C.error(g);}});},y);},addUserBoundPeerServiceToken:function(p,v,u,w,C){var y;y=this;t(C,function(){var z,H,G;z=this.builder.getPeerMasterToken();if(!z)return!1;H=this.builder.getPeerUserIdToken();if(!H)return!1;G=g(p,this.cryptoContexts);if(!G)return!1;Db(this.ctx,p,v,z,H,u,w,G,{result:function(g){t(C,function(){try{this.builder.addPeerServiceToken(g);}catch(ta){if(ta instanceof Ga)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ta);throw ta;}return!0;},y);},error:function(g){C.error(g);}});},y);},excludePrimaryServiceToken:function(){var g,p,t,v;if(1==arguments.length){v=arguments[0];g=v.name;p=v.isMasterTokenBound();t=v.isUserIdTokenBound();}else arguments.length=3,g=arguments[0],p=arguments[1],t=arguments[2];for(var u=this.builder.getServiceTokens(),G=0;G<u.length;++G)if(v=u[G],v.name==g&&v.isMasterTokenBound()==p&&v.isUserIdTokenBound()==t)return this.builder.excludeServiceToken(g,p,t),!0;return!1;},excludePeerServiceToken:function(){var g,p,t,v;if(1==arguments.length){v=arguments[0];g=v.name;p=v.isMasterTokenBound();t=v.isUserIdTokenBound();}else arguments.length=3,g=arguments[0],p=arguments[1],t=arguments[2];for(var u=this.builder.getPeerServiceTokens(),G=0;G<u.length;++G)if(v=u[G],v.name==g&&v.isMasterTokenBound()==p&&v.isUserIdTokenBound()==t)return this.builder.excludePeerServiceToken(g,p,t),!0;return!1;},deletePrimaryServiceToken:function(){var g,p,v,w,u;if(2==arguments.length){u=arguments[0];g=u.name;p=u.isMasterTokenBound();v=u.isUserIdTokenBound();w=arguments[1];}else 4==arguments.length&&(g=arguments[0],p=arguments[1],v=arguments[2],w=arguments[3]);t(w,function(){var y;for(var t=this.builder.getServiceTokens(),u=0;u<t.length;++u){y=t[u];if(y.name==g&&y.isMasterTokenBound()==p&&y.isUserIdTokenBound()==v){this.builder.deleteServiceToken(g,p,v,{result:function(){w.result(!0);},error:function(g){w.error(g);}});return;}}return!1;},this);},deletePeerServiceToken:function(){var g,p,v,w,u;if(2==arguments.length){u=arguments[0];g=u.name;p=u.isMasterTokenBound();v=u.isUserIdTokenBound();w=arguments[1];}else 4==arguments.length&&(g=arguments[0],p=arguments[1],v=arguments[2],w=arguments[3]);t(w,function(){var y;for(var t=this.builder.getPeerServiceTokens(),u=0;u<t.length;++u){y=t[u];if(y.name==g&&y.isMasterTokenBound()==p&&y.isUserIdTokenBound()==v){this.builder.deletePeerServiceToken(g,p,v,{result:function(){w.result(!0);},error:function(g){w.error(g);}});return;}}return!1;},this);}});}());(function(){function p(p,u,z,H){t(H,function(){var y,G,ca,M,ua,P;function v(){t(H,function(){var w;if(P>=z.length){if(ua)throw ua;throw new Sa(g.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(z));}w=z[P];ca!=w.keyExchangeScheme?(++P,v()):M.getCryptoContext(p,w,G,y,{result:H.result,error:function(g){t(H,function(){if(!(g instanceof B))throw g;ua=g;++P;v();});}});});}y=u.masterToken;G=u.keyResponseData;if(!G)return null;ca=G.keyExchangeScheme;M=p.getKeyExchangeFactory(ca);if(!M)throw new Sa(g.KEYX_FACTORY_NOT_FOUND,ca);P=0;v();});}me=gd.extend({init:function(t,y,z,H,w,C,G){var v;v=this;u(G,function(){var X;function u(){v._ready=!0;v._readyQueue.add(!0);}function G(g,p){var t;try{t=p.masterToken;g.getTokenFactory().isMasterTokenRevoked(g,t,{result:function(w){w?(v._errored=new Sb(w,t).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),u()):P(g,p);},error:function(g){g instanceof B&&(g.setEntity(p.masterToken),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));v._errored=g;u();}});}catch(Ba){Ba instanceof B&&(Ba.setEntity(p.masterToken),Ba.setUser(p.userIdToken),Ba.setUser(p.userAuthenticationData),Ba.setMessageId(p.messageId));v._errored=Ba;u();}}function P(g,p){var t,w;try{t=p.masterToken;w=p.userIdToken;w?g.getTokenFactory().isUserIdTokenRevoked(g,t,w,{result:function(y){y?(v._errored=new MslUserIdTokenException(y,w).setEntity(t).setUser(w).setMessageId(p.messageId),u()):ca(g,p);},error:function(g){g instanceof B&&(g.setEntity(p.masterToken),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));v._errored=g;u();}}):ca(g,p);}catch(Ja){Ja instanceof B&&(Ja.setEntity(p.masterToken),Ja.setUser(p.userIdToken),Ja.setUser(p.userAuthenticationData),Ja.setMessageId(p.messageId));v._errored=Ja;u();}}function ca(p,t){var w;try{w=t.masterToken;w.isExpired()?t.isRenewable()&&0!=t.keyRequestData.length?p.getTokenFactory().isMasterTokenRenewable(p,w,{result:function(g){g?(v._errored=new Ga(g,"Master token is expired and not renewable.").setEntity(w).setUser(t.userIdToken).setUser(t.userAuthenticationData).setMessageId(t.messageId),u()):U(p,t);},error:function(g){g instanceof B&&(g.setEntity(t.masterToken),g.setUser(t.userIdToken),g.setUser(t.userAuthenticationData),g.setMessageId(t.messageId));v._errored=g;u();}}):(v._errored=new Ga(g.MESSAGE_EXPIRED,JSON.stringify(t)).setEntity(w).setUser(t.userIdToken).setUser(t.userAuthenticationData).setMessageId(t.messageId),u()):U(p,t);}catch(Ba){Ba instanceof B&&(Ba.setEntity(t.masterToken),Ba.setUser(t.userIdToken),Ba.setUser(t.userAuthenticationData),Ba.setMessageId(t.messageId));v._errored=Ba;u();}}function U(p,t){var w,y;try{w=t.masterToken;y=t.nonReplayableId;"number"===typeof y?w?p.getTokenFactory().acceptNonReplayableId(p,w,y,{result:function(p){p||(v._errored=new Ga(g.MESSAGE_REPLAYED,JSON.stringify(t)).setEntity(w).setUser(t.userIdToken).setUser(t.userAuthenticationData).setMessageId(t.messageId));u();},error:function(g){g instanceof B&&(g.setEntity(w),g.setUser(t.userIdToken),g.setUser(t.userAuthenticationData),g.setMessageId(t.messageId));v._errored=g;u();}}):(v._errored=new Ga(g.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(t)).setEntity(t.entityAuthenticationData).setUser(t.userIdToken).setUser(t.userAuthenticationData).setMessageId(t.messageId),u()):u();}catch(Ja){Ja instanceof B&&(Ja.setEntity(t.masterToken),Ja.setEntity(t.entityAuthenticationData),Ja.setUser(t.userIdToken),Ja.setUser(t.userAuthenticationData),Ja.setMessageId(t.messageId));v._errored=Ja;u();}}X={_source:{value:y,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ka,writable:!0,enumerable:!1,configurable:!1},_charset:{value:z,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:C,writable:!1,enumerable:!1,configurable:!1},_header:{value:ka,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ka,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ka,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,X);Qd(v._source,C,{result:function(y){v._json=y;v._jsonIndex=0;null===v._json?(v._errored=new fa(g.MESSAGE_DATA_MISSING),u()):Xd(t,v._json[v._jsonIndex++],w,{result:function(g){var w;v._header=g;if(v._header instanceof Ob)v._keyxCryptoContext=null,v._cryptoContext=null,u();else{w=v._header;p(t,w,H,{result:function(g){var p;try{v._keyxCryptoContext=g;t.isPeerToPeer()||!v._keyxCryptoContext?v._cryptoContext=w.cryptoContext:v._cryptoContext=v._keyxCryptoContext;try{p=w.masterToken;p&&(t.isPeerToPeer()||p.isVerified())?G(t,w):U(t,w);}catch(va){va instanceof B&&(va.setEntity(w.masterToken),va.setUser(w.userIdToken),va.setUser(w.userAuthenticationData),va.setMessageId(w.messageId));v._errored=va;u();}}catch(va){va instanceof B&&(va.setEntity(w.masterToken),va.setEntity(w.entityAuthenticationData),va.setUser(w.userIdToken),va.setUser(w.userAuthenticationData),va.setMessageId(w.messageId));v._errored=va;u();}},error:function(g){g instanceof B&&(g.setEntity(w.masterToken),g.setEntity(w.entityAuthenticationData),g.setUser(w.userIdToken),g.setUser(w.userAuthenticationData),g.setMessageId(w.messageId));v._errored=g;u();}});}},error:function(g){v._errored=g;u();}});},timeout:function(){v._timedout=!0;u();},error:function(g){v._errored=g;u();}});return this;},v);},nextData:function(p,t){var v;v=this;u(t,function(){var w;function p(g){u(g,function(){var t;if(this._jsonIndex<this._json.length)return t=this._json[this._jsonIndex++];Qd(this._source,this._timeout,{result:function(t){t&&t.length&&0<t.length?(t.forEach(function(g){this._json.push(g);}),p(g)):(this._eom=!0,g.result(null));},timeout:function(){g.timeout();},error:function(p){g.error(p);}});},v);}w=this.getMessageHeader();if(!w)throw new ea("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;p({result:function(p){u(t,function(){if(!p)return null;if("object"!==typeof p)throw new fa(g.MESSAGE_FORMAT_ERROR);ie(p,this._cryptoContext,{result:function(p){u(t,function(){var t,v,u,y;t=w.masterToken;v=w.entityAuthenticationData;u=w.userIdToken;y=w.getUserAuthenticationData;if(p.messageId!=w.messageId)throw new Ga(g.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+p.messageId+" header mid "+w.messageId).setEntity(t).setEntity(v).setUser(u).setUser(y);if(p.sequenceNumber!=this._payloadSequenceNumber)throw new Ga(g.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+p.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(t).setEntity(v).setUser(u).setUser(y);++this._payloadSequenceNumber;p.isEndOfMessage()&&(this._eom=!0);t=p.data;this._payloads.push(t);this._payloadIndex=-1;return t;},v);},error:function(p){p instanceof SyntaxError&&(p=new fa(g.JSON_PARSE_ERROR,"payloadchunk",p));t.error(p);}});},v);},timeout:function(){t.timeout();},error:function(g){t.error(g);}});},v);},isReady:function(g,p){var v;function t(){u(p,function(){if(this._aborted)return!1;if(this._timedout)p.timeout();else{if(this._errored)throw this._errored;return!0;}},v);}v=this;u(p,function(){this._ready?t():this._readyQueue.poll(g,{result:function(g){u(p,function(){if(g===ka)return!1;t();},v);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},v);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorHeader:function(){return this._header instanceof Ob?this._header:null;},getIdentity:function(){var g,p;g=this.getMessageHeader();if(g){p=g.masterToken;return p?p.identity:g.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var g;g=this.getMessageHeader();return g?g.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(g){this._closeSource=g;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(g,p,t){var w;function v(){u(t,function(){var y,z,G,H;function v(t){u(t,function(){var y,C,P;if(z&&H>=z.length)return z.subarray(0,H);y=-1;if(this._currentPayload){C=this._currentPayload.length-this._payloadOffset;if(!z){P=C;if(-1!=this._payloadIndex)for(var ca=this._payloadIndex;ca<this._payloads.length;++ca)P+=this._payloads[ca].length;0<P&&(z=new Uint8Array(P));}C=Math.min(C,z?z.length-H:0);0<C&&(y=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+C),z.set(y,G),y=C,G+=C,this._payloadOffset+=C);}-1!=y?(H+=y,v(t)):this.nextData(p,{result:function(p){u(t,function(){if(this._aborted)return z?z.subarray(0,H):new Uint8Array(0);this._currentPayload=p;this._payloadOffset=0;if(this._currentPayload)v(t);else return 0==H&&0!=g?null:z?z.subarray(0,H):new Uint8Array(0);},w);},timeout:function(){t.timeout(z?z.subarray(0,H):new Uint8Array(0));},error:function(g){u(t,function(){g instanceof B&&(g=new Ya("Error reading the payload chunk.",g));if(0<H)return w._readException=g,z.subarray(0,H);throw g;},w);}});},w);}if(this._aborted)return new Uint8Array(0);if(this._timedout)t.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){y=this._readException;this._readException=null;throw y;}z=-1!=g?new Uint8Array(g):ka;G=0;H=0;v(t);}},w);}w=this;u(t,function(){if(-1>g)throw new RangeError("read requested with illegal length "+g);this._ready?v():this._readyQueue.poll(p,{result:function(g){g===ka?t.result(!1):v();},timeout:function(){t.timeout(new Uint8Array(0));},error:function(g){t.error(g);}});},w);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ne=function(g,p,t,u,w,C,G){new me(g,p,t,u,w,C,G);};}());(function(){oe=Ec.extend({init:function(g,p,t,z,H,w,C){var v;v=this;u(C,function(){var y,C,G;function u(){v._ready=!0;v._readyQueue.add(!0);}y=nd(g.getMessageCapabilities(),z.messageCapabilities);C=null;y&&(C=Ed(y.compressionAlgorithms));y={_destination:{value:p,writable:!1,enumerable:!1,configurable:!1},_charset:{value:t,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:y,writable:!1,enumerable:!1,configurable:!1},_header:{value:z,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:C,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:H,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,y);G=Ua(JSON.stringify(z),t);p.write(G,0,G.length,w,{result:function(g){try{v._aborted?u():g<G.length?(v._timedout=!0,u()):p.flush(w,{result:function(g){v._aborted||(v._timedout=!g);u();},timeout:function(){v._timedout=!0;u();},error:function(g){v._errored=g;u();}});}catch(U){v._errored=U;u();}},timeout:function(){v._timedout=!0;u();},error:function(g){v._errored=g;u();}});return this;},v);},setCompressionAlgorithm:function(g,p,t){var y;function v(){y.flush(p,{result:function(p){u(t,function(){if(!p)throw new Ya("flush() aborted");this._compressionAlgo=g;return!0;},y);},timeout:function(){t.timeout();},error:function(g){t.error(g);}});}y=this;u(t,function(){if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");if(this._compressionAlgo==g)return!0;if(g){if(!this._capabilities)return!1;for(var p=this._capabilities.compressionAlgorithms,t=0;t<p.length;++t)if(p[t]==g){v();return;}return!1;}v();},y);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorMessage:function(){return this._header instanceof Ob?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(g,p){var t;t=this;u(p,function(){if(this._aborted)return!1;if(this._timedout)p.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(g,{result:function(g){u(p,function(){g&&(this._currentPayload=null);return g;},t);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});}},t);},flush:function(g,p){var v;function t(){u(p,function(){var t,w,M;if(this._aborted)return!1;if(this._timedout)p.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;t=this.getMessageHeader();if(!t)return!0;w=0;this._currentPayload&&this._currentPayload.forEach(function(g){w+=g.length;});for(var y=new Uint8Array(w),z=0,G=0;this._currentPayload&&G<this._currentPayload.length;++G){M=this._currentPayload[G];y.set(M,z);z+=M.length;}he(this._payloadSequenceNumber,t.messageId,this._closed,this._compressionAlgo,y,this._cryptoContext,{result:function(t){u(p,function(){var w;this._payloads.push(t);w=Ua(JSON.stringify(t),this._charset);this._destination.write(w,0,w.length,g,{result:function(w){u(p,function(){if(this._aborted)return!1;w<t.length?p.timeout():this._destination.flush(g,{result:function(g){u(p,function(){if(this._aborted)return!1;if(g)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;p.timeout();},v);},timeout:function(){p.timeout();},error:function(g){g instanceof B&&(g=new Ya("Error encoding payload chunk [sequence number "+v._payloadSequenceNumber+"].",g));p.error(g);}});},v);},timeout:function(g){p.timeout();},error:function(g){g instanceof B&&(g=new Ya("Error encoding payload chunk [sequence number "+v._payloadSequenceNumber+"].",g));p.error(g);}});},v);},error:function(g){g instanceof B&&(g=new Ya("Error encoding payload chunk [sequence number "+v._payloadSequenceNumber+"].",g));p.error(g);}});}},v);}v=this;u(p,function(){this._ready?t():this._readyQueue.poll(g,{result:function(g){g===ka?p.result(!1):t();},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},v);},write:function(g,p,t,z,H){u(H,function(){var v;if(this._aborted)return!1;if(this._timedout)H.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Ya("Message output stream already closed.");if(0>p)throw new RangeError("Offset cannot be negative.");if(0>t)throw new RangeError("Length cannot be negative.");if(p+t>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");v=g.subarray(p,p+t);this._currentPayload.push(v);return v.length;}},this);}});Kc=function(g,p,t,u,H,w,C){new oe(g,p,t,u,H,w,C);};}());We=pa.Class.create({sentHeader:function(g){},receivedHeader:function(g){}});Object.freeze({USERDATA_REAUTH:p.USERDATA_REAUTH,SSOTOKEN_REJECTED:p.SSOTOKEN_REJECTED});pe=pa.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(g,p,t,u){},getCustomer:function(){},getKeyRequestData:function(g){},updateServiceTokens:function(g,p,t){},write:function(g,p,t){},getDebugContext:function(){}});pa.Class.create({getInputStream:function(g){},getOutputStream:function(g){}});(function(){var ra,ca,M,ua,P,ta,U,X,Aa,ha,ba,Ba;function G(g){return function(){g.abort();};}function v(g,p){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},ticket:{value:p,writable:!1,configurable:!1}});}function y(g,p){Object.defineProperties(this,{builder:{value:g,writable:!1,configurable:!1},msgCtx:{value:p,writable:!1,configurable:!1}});}function z(g,p,t){Object.defineProperties(this,{requestHeader:{value:g,writable:!1,configurable:!1},payloads:{value:p,writable:!1,configurable:!1},handshake:{value:t,writable:!1,configurable:!1}});}function H(g,p){Object.defineProperties(this,{requestHeader:{value:p.requestHeader,writable:!1,configurable:!1},payloads:{value:p.payloads,writable:!1,configurable:!1},handshake:{value:p.handshake,writable:!1,configurable:!1},response:{value:g,writable:!1,configurable:!1}});}function w(g){for(;g;){if(g instanceof bb)return!0;g=g instanceof B?g.cause:ka;}return!1;}function C(g,p,t,v,w,y,z,C,d){ke(p,v,w,y,{result:function(b){t&&t.sentHeader(b);Kc(p,z,Oa,b,null,null,C,{result:function(a){g.setAbort(function(){a.abort();});a.close(C,{result:function(a){u(d,function(){if(!a)throw new bb("sendError aborted.");return a;});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){},error:function(a){d.error(a);}});},error:function(b){d.error(b);}});}ra=Ec.extend({close:function(g,p){p.result(!0);},write:function(g,p,v,w,u){t(u,function(){return Math.min(g.length-p,v);});},flush:function(g,p){p.result(!0);}});ca=Ve.extend({getUserMessage:function(g,p){return null;}});M=pe.extend({init:function(g){Object.defineProperties(this,{_appCtx:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(g,p,t,v){this._appCtx.getUserAuthData(g,p,t,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(g){this._appCtx.getKeyRequestData(g);},updateServiceTokens:function(g,p,t){this._appCtx.updateServiceTokens(g,p,t);},write:function(g,p,t){this._appCtx.write(g,p,t);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ua=M.extend({init:function va(g,p){va.base.call(this,p);Object.defineProperties(this,{_payloads:{value:g,writable:!1,enumerable:!1,configurable:!1}});},write:function(g,p,t){var w;function v(y,z){var d;if(y==w._payloads.length)t.result(!0);else{d=w._payloads[y];g.setCompressionAlgorithm(d.compressionAlgo,p,{result:function(b){g.write(d.data,0,d.data.length,p,{result:function(a){u(t,function(){d.isEndOfMessage()?v(y+1,z):g.flush(p,{result:function(a){t.result(a);},timeout:function(){t.timeout();},error:function(a){t.error(a);}});},w);},timeout:function(a){t.timeout(a);},error:function(a){t.error(a);}});},timeout:function(){},error:function(b){t.error(b);}});}}w=this;v(0);}});P=M.extend({init:function ia(g){ia.base.call(this,g);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(g,p,t){t.result(!0);}});ta={};ba=pa.Class.create({init:function(g){g||(g=new ca());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:g,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(g){this._filterFactory=g;},getNewestMasterToken:function(g,p,t,w){var y;y=this;u(w,function(){var z,d,b,a,c;z=p.getMslStore();d=z.getMasterToken();if(!d)return null;b=d.uniqueKey();a=this._masterTokenLocks[b];a||(a=new Wc(),this._masterTokenLocks[b]=a);c=a.readLock(t,{result:function(k){u(w,function(){var c;if(k===ka)throw new bb("getNewestMasterToken aborted.");c=z.getMasterToken();if(d.equals(c))return new v(d,k);a.unlock(k);a.writeLock(t,{result:function(k){u(w,function(){if(k===ka)throw new bb("getNewestMasterToken aborted.");delete this._masterTokenLocks[b];a.unlock(k);return this.getNewestMasterToken(g,p,t,w);},y);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},y);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});g.setAbort(function(){c&&(a.cancel(c),c=ka);});},y);},deleteMasterToken:function(g,p){var t;if(p){t=this;setTimeout(function(){var v,w;v=p.uniqueKey();w=t._masterTokenLocks[v];w||(w=new Wc(),t._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(u){g.getMslStore().removeCryptoContext(p);delete t._masterTokenLocks[v];w.unlock(u);},timeout:function(){throw new ea("Unexpected timeout received.");},error:function(g){throw g;}});},0);}},releaseMasterToken:function(g){var p;if(g&&g.masterToken){p=g.masterToken.uniqueKey();p=this._masterTokenLocks[p];if(!p)throw new ea("Master token read/write lock does not exist when it should.");p.unlock(g.ticket);}},updateOutgoingCryptoContexts:function(g,p,t){var v;v=g.getMslStore();!g.isPeerToPeer()&&t&&(v.setCryptoContext(t.keyResponseData.masterToken,t.cryptoContext),this.deleteMasterToken(g,p.masterToken));},updateIncomingCryptoContexts:function(g,p,t){var v,w;v=t.getMessageHeader();if(v){w=g.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,t.getKeyExchangeCryptoContext()),this.deleteMasterToken(g,p.masterToken);}},storeServiceTokens:function(g,p,t,v){var d,b;g=g.getMslStore();for(var w=[],u=0;u<v.length;++u){d=v[u];if(!d.isBoundTo(p)||!p.isVerified()){b=d.data;b&&0==b.length?g.removeServiceTokens(d.name,d.isMasterTokenBound()?p:null,d.isUserIdTokenBound()?t:null):w.push(d);}}0<w.length&&g.addServiceTokens(w);},buildRequest:function(g,p,v,w,u){var y;y=this;this.getNewestMasterToken(g,p,w,{result:function(d){t(u,function(){var b,a,c;b=d&&d.masterToken;if(b){a=v.getUserId();c=p.getMslStore();a=(a=a?c.getUserIdToken(a):null)&&a.isBoundTo(b)?a:null;}else a=null;Xb(p,b,a,null,{result:function(a){t(u,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:d};});},error:function(a){t(u,function(){this.releaseMasterToken(d);a instanceof B&&(a=new ea("User ID token not bound to master token despite internal check.",a));throw a;},y);}});},y);},timeout:function(){u.timeout();},error:function(d){u.error(d);}});},buildResponse:function(g,p,t,v,w,y){var d;d=this;je(p,v,{result:function(b){u(y,function(){b.setNonReplayable(t.isNonReplayable());if(!p.isPeerToPeer()&&!v.keyResponseData)return{builder:b,tokenTicket:null};this.getNewestMasterToken(g,p,w,{result:function(a){u(y,function(){var c,k,m;c=a&&a.masterToken;if(c){k=t.getUserId();m=p.getMslStore();k=(k=k?m.getUserIdToken(k):null)&&k.isBoundTo(c)?k:null;}else k=null;b.setAuthTokens(c,k);return{builder:b,tokenTicket:a};},d);},timeout:function(){y.timeout();},error:function(a){y.error(a);}});},d);},error:function(b){y.error(b);}});},buildErrorResponse:function(g,t,v,w,z,C,d){var c;function b(a,b){u(d,function(){var k,q;k=Wb(z.messageId);q=new ua(b,v);Xb(t,null,null,k,{result:function(b){u(d,function(){t.isPeerToPeer()&&b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(q.isNonReplayable());return{errorResult:new y(b,q),tokenTicket:null};},c);},error:function(a){d.error(a);}});},c);}function a(a,b){c.getNewestMasterToken(g,t,C,{result:function(k){u(d,function(){var q,n,l;q=k&&k.masterToken;n=Wb(z.messageId);l=new ua(b,v);Xb(t,q,null,n,{result:function(b){u(d,function(){t.isPeerToPeer()&&b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(l.isNonReplayable());return{errorResult:new y(b,l),tokenTicket:k};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}c=this;u(d,function(){var k,m,r,q;k=w.requestHeader;m=w.payloads;r=z.errorCode;switch(r){case p.ENTITYDATA_REAUTH:case p.ENTITY_REAUTH:t.getEntityAuthenticationData(r,{result:function(a){u(d,function(){if(!a)return null;b(k,m);},c);},error:function(a){d.error(a);}});break;case p.USERDATA_REAUTH:case p.SSOTOKEN_REJECTED:v.getUserAuthData(r,!1,!0,{result:function(b){u(d,function(){if(!b)return null;a(k,m);},c);},error:function(a){d.error(a);}});break;case p.USER_REAUTH:a(k,m);break;case p.KEYX_REQUIRED:r=Wb(z.messageId),q=new ua(m,v);Xb(t,null,null,r,{result:function(a){u(d,function(){t.isPeerToPeer()&&a.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(q.isNonReplayable());return{errorResult:new y(a,q),tokenTicket:null};},c);},error:function(a){d.error(a);}});break;case p.EXPIRED:this.getNewestMasterToken(g,t,C,{result:function(a){u(d,function(){var b,f,q,n;b=a&&a.masterToken;f=k.userIdToken;q=Wb(z.messageId);n=new ua(m,v);Xb(t,b,f,q,{result:function(f){u(d,function(){t.isPeerToPeer()&&f.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);k.masterToken.equals(b)&&f.setRenewable(!0);f.setNonReplayable(n.isNonReplayable());return{errorResult:new y(f,n),tokenTicket:a};},c);},error:function(a){d.error(a);}},c);},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;case p.REPLAYED:this.getNewestMasterToken(g,t,C,{result:function(a){u(d,function(){var b,f,q,n;b=a&&a.masterToken;f=k.userIdToken;q=Wb(z.messageId);n=new ua(m,v);Xb(t,b,f,q,{result:function(f){u(d,function(){t.isPeerToPeer()&&f.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);k.masterToken.equals(b)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(n.isNonReplayable());return{errorResult:new y(f,n),tokenTicket:a};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;default:return null;}},c);},cleanupContext:function(g,t,v){switch(v.errorCode){case p.ENTITY_REAUTH:this.deleteMasterToken(g,t.masterToken);break;case p.USER_REAUTH:v=t.userIdToken,t.masterToken&&v&&g.getMslStore().removeUserIdToken(v);}},send:function(g,p,t,v,w,y,d){var r;function b(b,k,l){u(d,function(){var f;f=w.getPeerUserIdToken();!p.isPeerToPeer()&&!k||p.isPeerToPeer()&&!f?(f=t.getCustomer())?w.setCustomer(f,{result:function(f){u(d,function(){k=w.getUserIdToken();a(b,k,l);},r);},error:function(a){d.error(a);}}):a(b,k,l):a(b,k,l);},r);}function a(a,b,k){u(d,function(){var f,l;f=!k&&(!t.isEncrypted()||w.willEncryptPayloads())&&(!t.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!t.isNonReplayable()||w.isNonReplayable()&&a);f||w.setNonReplayable(!1);l=[];w.isRenewable()&&(!a||a.isRenewable()||t.isNonReplayable())?t.getKeyRequestData({result:function(k){u(d,function(){var n;for(var q=0;q<k.length;++q){n=k[q];l.push(n);w.addKeyRequestData(n);}c(a,b,f,l);},r);},error:function(a){d.error(a);}}):c(a,b,f,l);},r);}function c(a,b,l,f){u(d,function(){var f;f=new le(p,t,w);t.updateServiceTokens(f,!l,{result:function(f){w.getHeader({result:function(f){u(d,function(){var c,q;c=t.getDebugContext();c&&c.sentHeader(f);c=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(p,f,c);this.storeServiceTokens(p,a,b,f.serviceTokens);c=!p.isPeerToPeer()&&c?c.cryptoContext:f.cryptoContext;if(g.isAborted())throw new bb("send aborted.");q=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Kc(p,q,Oa,f,c,y,{result:function(a){g.setAbort(function(){a.abort();});k(a,f,l);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},r);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},error:function(a){d.error(a);}});},r);}function k(a,b,k){var f,c;if(k)t.write(a,y,{result:function(f){u(d,function(){if(g.isAborted())throw new bb("MessageOutputStream write aborted.");m(a,b,k);},r);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});else{f=new ra();c=new dc();Kc(p,f,Oa,b,c,y,{result:function(f){t.write(f,y,{result:function(c){u(d,function(){if(g.isAborted())throw new bb("MessageOutputStream proxy write aborted.");f.close(y,{result:function(c){u(d,function(){var l;if(!c)throw new bb("MessageOutputStream proxy close aborted.");l=f.getPayloads();m(a,b,k,l);},r);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},r);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}}function m(a,b,k,f){a.close(y,{result:function(c){u(d,function(){if(!c)throw new bb("MessageOutputStream close aborted.");f||(f=a.getPayloads());return new z(b,f,!k);},r);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}r=this;u(d,function(){var a,k,c,f;a=w.getMasterToken();k=w.getUserIdToken();c=!1;if(t.getUserId()){f=!k;t.getUserAuthData(null,w.isRenewable(),f,{result:function(f){u(d,function(){f&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(f):c=!0);b(a,k,c);},r);},error:function(a){d.error(a);}});}else b(a,k,c);},r);},receive:function(t,v,w,y,z,C,d){var b;b=this;u(d,function(){var a,c,k;if(t.isAborted())throw new bb("receive aborted.");a=[];z&&(a=z.keyRequestData.filter(function(){return!0;}));c=w.getCryptoContexts();k=this._filterFactory?this._filterFactory.getInputStream(y):y;ne(v,k,Oa,a,c,C,{result:function(a){t.setAbort(function(){a.abort();});a.isReady(C,{result:function(k){u(d,function(){var c,n,l,f;if(!k)throw new bb("MessageInputStream aborted.");c=a.getMessageHeader();n=a.getErrorHeader();l=w.getDebugContext();l&&l.receivedHeader(c?c:n);if(z&&(l=n?n.errorCode:null,c||l!=p.FAIL&&l!=p.TRANSIENT_FAILURE&&l!=p.ENTITY_REAUTH&&l!=p.ENTITYDATA_REAUTH)){l=c?c.messageId:n.messageId;f=Wb(z.messageId);if(l!=f)throw new Ga(g.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+f+"; received "+l);}v.getEntityAuthenticationData(null,{result:function(f){u(d,function(){var b,k,l,q;b=f.getIdentity();if(c){k=c.entityAuthenticationData;l=c.masterToken;k=l?c.sender:k.getIdentity();if(l&&l.isDecrypted()&&l.identity!=k||b==k)throw new Ga(g.UNEXPECTED_MESSAGE_SENDER,k);z&&this.updateIncomingCryptoContexts(v,z,a);b=c.keyResponseData;v.isPeerToPeer()?(b=b?b.masterToken:c.peerMasterToken,l=c.peerUserIdToken,k=c.peerServiceTokens):(b=b?b.masterToken:c.masterToken,l=c.userIdToken,k=c.serviceTokens);q=w.getUserId();q&&l&&!l.isVerified()&&v.getMslStore().addUserIdToken(q,l);this.storeServiceTokens(v,b,l,k);}else if(k=n.entityAuthenticationData.getIdentity(),b==k)throw new Ga(g.UNEXPECTED_MESSAGE_SENDER,k);return a;},b);},error:d.error});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},b);},sendReceive:function(g,p,t,v,w,y,d,b,a){var k;function c(c,r){u(a,function(){y.setRenewable(r);this.send(g,p,t,w,y,d,{result:function(q){u(a,function(){var n;n=q.requestHeader.keyRequestData;b||q.handshake||!n.isEmpty()?this.receive(g,p,t,v,q.requestHeader,d,{result:function(b){u(a,function(){r&&this.releaseRenewalLock(p,c,b);return new H(b,q);},k);},timeout:function(){u(a,function(){r&&this.releaseRenewalLock(p,c,null);a.timeout();},k);},error:function(b){u(a,function(){r&&this.releaseRenewalLock(p,c,null);throw b;},k);}}):u(a,function(){r&&this.releaseRenewalLock(p,c,null);return new H(null,q);},k);},k);},timeout:function(){u(a,function(){r&&this.releaseRenewalLock(p,c,null);a.timeout();},k);},error:function(b){u(a,function(){r&&this.releaseRenewalLock(p,c,null);throw b;},k);}});},k);}k=this;u(a,function(){var b;b=new ic();this.acquireRenewalLock(g,p,t,b,y,d,{result:function(a){c(b,a);},timeout:function(){a.timeout();},error:function(b){b instanceof bb?a.result(null):a.error(b);}});},k);},acquireRenewalLock:function(g,p,t,v,w,y,d){var c;function b(k,m,r){u(d,function(){var l,f;if(g.isAborted())throw new bb("acquireRenewalLock aborted.");for(var q=null,n=0;n<this._renewingContexts.length;++n){l=this._renewingContexts[n];if(l.ctx===p){q=l.queue;break;}}if(!q)return this._renewingContexts.push({ctx:p,queue:v}),!0;f=q.poll(y,{result:function(f){u(d,function(){var c;if(f===ka)throw new bb("acquireRenewalLock aborted.");q.add(f);if(f===ta||f.isExpired())b(f,m,r);else{if(r&&!m||m&&!m.isBoundTo(f)){c=p.getMslStore().getUserIdToken(r);m=c&&c.isBoundTo(f)?c:null;}w.setAuthTokens(f,m);w.isRenewable()&&f.equals(k)?b(f,m,r):t.isRequestingTokens()&&!m?b(f,m,r):a(f,m);}},c);},timeout:function(){},error:function(a){}});g.setAbort(function(){f&&(q.cancel(f),f=ka);});},c);}function a(a,b){u(d,function(){var n;if(g.isAborted())throw new bb("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!b&&t.getUserId()||b&&b.isRenewable()){for(var k=null,c=0;c<this._renewingContexts.length;++c){n=this._renewingContexts[c];if(n.ctx===p){k=n.queue;break;}}if(!k)return this._renewingContexts.push({ctx:p,queue:v}),!0;}return!1;},c);}c=this;u(d,function(){var k,c,r;k=w.getMasterToken();c=w.getUserIdToken();r=t.getUserId();t.isEncrypted()&&!w.willEncryptPayloads()||t.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!k&&t.isNonReplayable()||k&&k.isExpired()||!(c||!r||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||t.isRequestingTokens()&&(!k||r&&!c)?b(k,c,r):a(k,c);},c);},releaseRenewalLock:function(g,p,t){var d;for(var v,w,u=0;u<this._renewingContexts.length;++u){d=this._renewingContexts[u];if(d.ctx===g){v=u;w=d.queue;break;}}if(w!==p)throw new ea("Attempt to release renewal lock that is not owned by this queue.");t?(t=t.messageHeader)?(w=t.keyResponseData)?p.add(w.masterToken):(g=g.isPeerToPeer()?t.peerMasterToken:t.masterToken)?p.add(g):p.add(ta):p.add(ta):p.add(ta);this._renewingContexts.splice(v,1);}});qe=pa.Class.create({init:function(){var g;g={_impl:{value:new ba(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setFilterFactory:function(g){this._impl.setFilterFactory(g);},shutdown:function(){this._shutdown=!0;},receive:function(g,p,t,v,w,u){var d;if(this._shutdown)throw new B("MslControl is shutdown.");d=new U(this._impl,g,p,t,v,w);setTimeout(function(){d.call(u);},0);return G(d);},respond:function(g,p,t,v,w,u,d){var b;if(this._shutdown)throw new B("MslControl is shutdown.");b=new X(this._impl,g,p,t,v,w,u);setTimeout(function(){b.call(d);},0);return G(b);},error:function(g,p,t,v,w,u,d){var b;if(this._shutdown)throw new B("MslControl is shutdown.");b=new Aa(this._impl,g,p,t,v,w,u);setTimeout(function(){b.call(d);},0);return G(b);},request:function(g,p){var t,v,w,u,d,b;if(this._shutdown)throw new B("MslControl is shutdown.");if(5==arguments.length){if(t=arguments[2],w=v=null,u=arguments[3],d=arguments[4],g.isPeerToPeer()){d.error(new ea("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(t=null,v=arguments[2],w=arguments[3],u=arguments[4],d=arguments[5],!g.isPeerToPeer())){d.error(new ea("This method cannot be used in trusted network mode."));return;}b=new ha(this._impl,g,p,t,v,w,null,0,u);setTimeout(function(){b.call(d);},0);return G(b);}});U=pa.Class.create({init:function(g,p,t,v,w,u){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:p,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:t,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:u,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(p){var z;function t(t){u(p,function(){var d;d=t.messageHeader;if(!d)return t;this.setAbort(function(){t.abort();});t.mark(Number.MAX_VALUE);t.read(1,z._timeout,{result:function(b){u(p,function(){if(b&&0==b.length)return null;if(b)return t.reset(),t;v(t);},z);},timeout:function(){p.timeout();},error:function(b){u(p,function(){var a,c,k;if(w(b))return null;a=d?d.messageId:null;b instanceof Ya?(c=g.MSL_COMMS_FAILURE,k=b):(c=g.INTERNAL_EXCEPTION,k=new ea("Error peeking into the message payloads."));C(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){p.error(k);},timeout:function(){p.timeout();},error:function(a){u(p,function(){if(w(a))return null;throw new nb("Error peeking into the message payloads.",a,b);},z);}});},z);}});},z);}function v(t){u(p,function(){t.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,t.messageHeader,this._timeout,{result:function(d){u(p,function(){var b,a,c,k,m;b=d.builder;a=d.tokenTicket;c=t.messageHeader;k=new P(this._msgCtx);if(!this._ctx.isPeerToPeer()||c.isEncrypting()||c.keyResponseData)y(c,b,k,a);else{m=new ha(this._ctrl,this._ctx,k,null,this._input,this._output,d,1,this._timeout);this.setAbort(function(){m.abort();});m.call(p);}},z);},timeout:function(){p.timeout();},error:function(d){u(p,function(){var b,a,c,k;if(w(d))return null;d instanceof B?(b=d.messageId,a=d.error,c=t.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),k=d):(b=requestHeader?requestHeader.messageId:null,a=g.INTERNAL_EXCEPTION,c=null,k=new ea("Error creating an automatic handshake response.",d));C(this,this._ctx,this._msgCtx.getDebugContext(),b,a,c,this._output,this._timeout,{result:function(a){p.error(k);},timeout:function(){p.timeout();},error:function(a){u(p,function(){if(w(a))return null;throw new nb("Error creating an automatic handshake response.",a,d);},z);}});},z);}});},z);}function y(t,d,b,a){u(p,function(){d.setRenewable(!1);this._ctrl.send(this._ctx,b,this._output,d,this._timeout,{result:function(b){u(p,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},z);},timeout:function(){u(p,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);p.timeout();},z);},error:function(b){u(p,function(){var k,c,r,q;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(w(b))return null;b instanceof B?(k=b.messageId,c=b.error,r=t?t.messageCapabilities:null,r=this._ctrl.messageRegistry.getUserMessage(c,r?r.languages:null),q=b):b instanceof Ya?(k=t?t.messageId:null,c=g.MSL_COMMS_FAILURE,r=null,q=b):(k=t?t.messageId:null,c=g.INTERNAL_EXCEPTION,r=null,q=new ea("Error sending an automatic handshake response.",b));C(this,this._ctx,this._msgCtx.getDebugContext(),k,c,r,this._output,this._timeout,{result:function(a){p.error(q);},timeout:function(){p.timeout();},error:function(a){u(p,function(){if(w(a))return null;throw new nb("Error sending an automatic handshake response.",a,b);},z);}});},z);}});},z);}z=this;u(p,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(g){t(g);},timeout:function(){p.timeout();},error:function(t){u(p,function(){var d,b,a,c;if(w(t))return null;t instanceof B?(d=t.messageId,b=t.error,a=this._ctrl.messageRegistry.getUserMessage(b,null),c=t):(d=null,b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error receiving the message header.",t));C(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){p.error(c);},timeout:function(){p.timeout();},error:function(a){u(p,function(){if(w(a))return null;throw new nb("Error receiving the message header.",a,t);},z);}});},z);}});},z);}});X=pa.Class.create({init:function(g,p,t,v,w,u,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:p,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:t,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},trustedNetworkExecute:function(p,t,v){var y;y=this;u(v,function(){var z,H;if(12<t+1)return!1;if(z=this._msgCtx.isIntegrityProtected()&&!p.willIntegrityProtectHeader()?g.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!p.willEncryptPayloads()?g.RESPONSE_REQUIRES_ENCRYPTION:null){H=ec(p.getMessageId());C(this,this._ctx,this._msgCtx.getDebugContext(),H,z,null,this._output,this._timeout,{result:function(d){v.result(!1);},timeout:function(){v.timeout();},error:function(d){u(v,function(){if(w(d))return!1;throw new nb("Response requires encryption or integrity protection but cannot be protected: "+z,d,null);},y);}});}else!this._msgCtx.getCustomer()||p.getMasterToken()||p.getKeyExchangeData()?(p.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,p,this._timeout,{result:function(d){v.result(!0);},timeout:function(){v.timeout();},error:function(d){v.error(d);}})):(H=ec(p.getMessageId()),C(this,this._ctx,this._msgCtx.getDebugContext(),H,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){v.result(!1);},timeout:function(){v.timeout();},error:function(d){u(v,function(){if(w(d))return!1;throw new nb("Response wishes to attach a user ID token but there is no master token.",d,null);},y);}}));},y);},peerToPeerExecute:function(p,t,v,y){var H;function z(d){u(y,function(){var b;b=d.response;b.close();b=b.getErrorHeader();this._ctrl.cleanupContext(this._ctx,d.requestHeader,b);this._ctrl.buildErrorResponse(this,this._ctx,p,d,b,{result:function(a){u(y,function(){var b,k;if(!a)return!1;b=a.errorResult;k=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,v,{result:function(a){u(y,function(){this._ctrl.releaseMasterToken(k);return a;},H);},timeout:function(){u(y,function(){this._ctrl.releaseMasterToken(k);y.timeout();},H);},error:function(a){u(y,function(){this._ctrl.releaseMasterToken(k);throw a;},H);}});},H);}});},H);}H=this;u(y,function(){var d;if(12<v+2)return!1;if(null!=p.getCustomer()&&null==t.getPeerMasterToken()&&null==t.getKeyExchangeData()){d=ec(t.getMessageId());C(this,this._ctx,p.getDebugContext(),d,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(b){y.result(!1);},timeout:function(){y.timeout();},error:function(b){u(y,function(){if(w(b))return!1;throw new nb("Response wishes to attach a user ID token but there is no master token.",b,null);},H);}});}else this._ctrl.sendReceive(this._ctx,p,this._input,this._output,t,this._timeout,!1,{result:function(b){u(y,function(){var k,m,r;function a(){k.read(32768,H._timeout,{result:function(b){u(y,function(){b?a():c();},H);},timeout:function(){y.timeout();},error:function(a){y.error(a);}});}function c(){u(y,function(){var a;a=new ua(b.payloads,p);this._ctrl.buildResponse(this,this._ctx,a,m,this._timeout,{result:function(b){u(y,function(){var k;k=b.tokenTicket;this.peerToPeerExecute(a,b.builder,v,{result:function(a){u(y,function(){this._ctrl.releaseMasterToken(k);return a;},H);},timeout:function(){u(y,function(){this._ctrl.releaseMasterToken(k);y.timeout();},H);},error:function(a){u(y,function(){this._ctrl.releaseMasterToken(k);throw a;},H);}});},H);},timeout:function(){y.timeout();},error:function(a){y.error(a);}});},H);}k=b.response;v+=2;if(!k)return!0;m=k.getMessageHeader();if(m){r=b.payloads;r=0<r.length&&0<r[0].data.length;if(b.handshake&&r)a();else return!0;}else z(b);},H);},timeout:function(){y.timeout();},error:function(b){y.error(b);}});},H);},call:function(p){var t;t=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(v){u(p,function(){var y,z;y=v.builder;z=v.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,y,3,{result:function(g){u(p,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(z);return g;},t);},timeout:function(){u(p,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(z);p.timeout();},t);},error:function(v){u(p,function(){var d,b,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(z);if(w(v))return!1;d=ec(y.getMessageId());v instanceof B?(b=v.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=v):v instanceof Ya?(b=g.MSL_COMMS_FAILURE,a=null,c=v):(b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",v));C(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){p.error(c);},timeout:function(){p.timeout();},error:function(a){u(p,function(){if(w(a))return!1;throw new nb("Error sending the response.",a,null);},t);}});},t);}}):this.trustedNetworkExecute(y,3,{result:function(g){u(p,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(z);return g;},t);},timeout:function(){u(p,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(z);p.timeout();},t);},error:function(v){u(p,function(){var d,b,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(z);if(w(v))return!1;d=ec(y.getMessageId());v instanceof B?(b=v.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=v):v instanceof Ya?(b=g.MSL_COMMS_FAILURE,a=null,c=v):(b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",v));C(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){p.error(c);},timeout:function(){p.timeout();},error:function(a){u(p,function(){if(w(a))return!1;throw new nb("Error sending the response.",a,null);},t);}});},t);}});},t);},timeout:function(){p.timeout();},error:function(v){u(p,function(){var y,z,H,d;if(w(v))return!1;v instanceof B?(y=v.messageId,z=v.error,H=this._request.messageCapabilities,H=this._ctrl.messageRegistry.getUserMessage(z,H?H.languages:null),d=v):(y=null,z=g.INTERNAL_EXCEPTION,H=null,d=new ea("Error building the response.",v));C(this,this._ctx,this._msgCtx.getDebugContext(),y,z,H,this._output,this._timeout,{result:function(b){p.error(d);},timeout:function(){p.timeout();},error:function(b){u(p,function(){if(w(b))return null;throw new nb("Error building the response.",b,v);},t);}});},t);}});}});Aa=pa.Class.create({init:function(g,p,t,v,w,u,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:p,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:t,writable:!1,enumerable:!1,configurable:!1},_appError:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(p){var t;t=this;u(p,function(){var v,y;if(this._appError==ENTITY_REJECTED)v=this._request.masterToken?g.MASTERTOKEN_REJECTED_BY_APP:g.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)v=this._request.userIdToken?g.USERIDTOKEN_REJECTED_BY_APP:g.USER_REJECTED_BY_APP;else throw new ea("Unhandled application error "+this._appError+".");y=this._request.messageCapabilities;y=this._ctrl.messageRegistry.getUserMessage(v,y?y.languages:null);C(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,v,y,this._output,this._timeout,{result:function(g){p.result(g);},timeout:p.timeout,error:function(g){u(p,function(){if(w(g))return!1;if(g instanceof B)throw g;throw new ea("Error building the error response.",g);},t);}});},t);}});Ba={result:function(){},timeout:function(){},error:function(){}};ha=pa.Class.create({init:function(g,p,t,v,w,u,d,b,a){var c;d?(c=d.builder,d=d.tokenTicket):d=c=null;Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:p,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:t,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:v,writable:!1,enumerable:!1,configurable:!1},_input:{value:w,writable:!0,enumerable:!1,configurable:!1},_output:{value:u,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:d,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:b,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},execute:function(g,p,t,v,w){var b;function y(a){function c(k){u(w,function(){var b;b=a.response;return k?k:b;},b);}u(w,function(){var k,m;k=a.response;k.close();m=k.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,m);this._ctrl.buildErrorResponse(this,this._ctx,g,a,m,t,{result:function(a){u(w,function(){var q,n,l,f;if(!a)return k;q=a.errorResult;n=a.tokenTicket;l=q.builder;q=q.msgCtx;if(this._ctx.isPeerToPeer())this.execute(q,l,this._timeout,v,{result:function(a){u(w,function(){this._ctrl.releaseMasterToken(n);c(a);},b);},timeout:function(){u(w,function(){this._ctrl.releaseMasterToken(n);w.timeout();},b);},error:function(a){u(w,function(){this._ctrl.releaseMasterToken(n);w.error(a);},b);}});else{this._openedStreams&&(this._input.close(),this._output.close(t,Ba));f=new ha(this._ctrl,this._ctx,q,this._remoteEntity,null,null,{builder:l,tokenTicket:n},v,this._timeout);this.setAbort(function(){f.abort();});f.call({result:function(a){c(a);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);}function d(a){u(w,function(){var m,r,q,n,l;function c(){m.read(32768,b._timeout,{result:function(a){a?c():k();},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}function k(){u(w,function(){var f;f=new ua(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,r,t,{result:function(a){u(w,function(){var k;k=a.tokenTicket;this.execute(f,a.builder,this._timeout,v,{result:function(a){u(w,function(){this._ctrl.releaseMasterToken(k);return a;},b);},timeout:function(){u(w,function(){this._ctrl.releaseMasterToken(k);w.timeout();},b);},error:function(a){u(w,function(){this._ctrl.releaseMasterToken(k);throw a;},b);}});},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);}m=a.response;r=m.getMessageHeader();q=a.payloads;q=0<q.length&&0<q[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!q)return m;this._openedStreams&&(this._input.close(),this._output.close(t,Ba));n=new ua(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,r,t,{result:function(a){u(w,function(){var b;b=new ha(this._ctrl,this._ctx,n,this._remoteEntity,null,null,a,v,this._timeout);this.setAbort(function(){b.abort();});b.call(w);},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}else if(a.handshake&&q)c();else if(0<r.keyRequestData.length){l=new P(g);this._ctrl.buildResponse(this,this._ctx,l,r,t,{result:function(a){u(w,function(){var f,k;f=a.builder;k=a.tokenTicket;m.mark();m.read(1,this._timeout,{result:function(a){u(w,function(){function c(){m.read(32768,b._timeout,{result:function(a){a?c():q();},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}function q(){b.execute(l,f,b._timeout,v,{result:function(a){u(w,function(){this._ctrl.releaseMasterToken(k);return a;},b);},timeout:function(){u(w,function(){this._ctrl.releaseMasterToken(k);w.timeout();},b);},error:function(a){u(w,function(){this._ctrl.releaseMasterToken(k);throw a;},b);}});}if(a)if(m.reset(),12>=v+1)f.setRenewable(!1),this._ctrl.send(this,this._ctx,l,this._output,f,this._timeout,{result:function(a){u(w,function(){this.releaseMasterToken(k);return m;},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});else return this.releaseMasterToken(k),m;else c();},b);},timeout:function(){u(w,function(){this.releaseMasterToken(k);w.timeout();},b);},error:function(a){u(w,function(){this.releaseMasterToken(k);throw a;},b);}});},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}},b);}b=this;u(w,function(){if(12<v+2)return null;this._ctrl.sendReceive(this,this._ctx,g,this._input,this._output,p,t,!0,{result:function(a){u(w,function(){var b;if(!a)return null;b=a.response;v+=2;b.getMessageHeader()?d(a):y(a);},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);},call:function(g){var t;function p(p,v,y){u(g,function(){this.execute(this._msgCtx,p,y,this._msgCount,{result:function(d){u(g,function(){this._ctrl.releaseMasterToken(v);this._openedStreams&&this._output.close(y,Ba);d&&d.closeSource(this._openedStreams);return d;},t);},timeout:function(){u(g,function(){this._ctrl.releaseMasterToken(v);this._openedStreams&&(this._output.close(y,Ba),this._input.close());g.timeout();},t);},error:function(d){u(g,function(){this._ctrl.releaseMasterToken(v);this._openedStreams&&(this._output.close(y,Ba),this._input.close());if(w(d))return null;throw d;},t);}});},t);}t=this;u(g,function(){var v,y,z;v=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);y=Date.now();z=this._remoteEntity.openConnection();this._output=z.output;this._input=z.input;-1!=v&&(v=this._timeout-(Date.now()-y));this._openedStreams=!0;}catch(d){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,Ba);this._input&&this._input.close();if(w(d))return null;throw d;}this._builder?p(this._builder,this._tokenTicket,v):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(d){u(g,function(){p(d.builder,d.tokenTicket,v);},t);},timeout:function(){u(g,function(){this._openedStreams&&(this._output.close(this._timeout,Ba),this._input.close());g.timeout();},t);},error:function(d){u(g,function(){this._openedStreams&&(this._output.close(this._timeout,Ba),this._input.close());if(w(d))return null;throw d;},t);}});},t);}});}());(function(){qd=pa.Class.create({init:function(g){Object.defineProperties(this,{id:{value:g,writable:!1,configurable:!1}});},toJSON:function(){var g;g={};g.id=this.id;return g;},equals:function(g){return this===g?!0:g instanceof qd?this.id==g.id:!1;},uniqueKey:function(){return this.id;}});re=function(p){var t;t=p.id;if(!t)throw new fa(g.JSON_PARSE_ERROR,JSON.stringify(p));return new qd(t);};}());pa.Class.create({isNewestMasterToken:function(g,p,t){},isMasterTokenRevoked:function(g,p){},acceptNonReplayableId:function(g,p,t,u){},createMasterToken:function(g,p,t,u,H){},isMasterTokenRenewable:function(g,p,t){},renewMasterToken:function(g,p,t,u,H){},isUserIdTokenRevoked:function(g,p,t,u){},createUserIdToken:function(g,p,t,u){},renewUserIdToken:function(g,p,t,u){}});(function(){function p(g,p,t,u){this.sessiondata=g;this.tokendata=p;this.signature=t;this.verified=u;}jb=pa.Class.create({init:function(g,p,u,H,w,C,G,B,M,ua,P){var v;v=this;t(P,function(){var y,z,ca,ha,ba;if(u.getTime()<p.getTime())throw new ea("Cannot construct a master token that expires before its renewal window opens.");if(0>H||H>Pa)throw new ea("Sequence number "+H+" is outside the valid range.");if(0>w||w>Pa)throw new ea("Serial number "+w+" is outside the valid range.");y=Math.floor(p.getTime()/1E3);z=Math.floor(u.getTime()/1E3);if(ua)ca=ua.sessiondata;else{ha={};C&&(ha.issuerdata=C);ha.identity=G;ha.encryptionkey=sa(B.toByteArray());ha.hmackey=sa(M.toByteArray());ca=Ua(JSON.stringify(ha),Oa);}if(ua)return Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:H,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},identity:{value:G,writable:!1,configurable:!1},encryptionKey:{value:B,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:ua.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ua.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ba=g.getMslCryptoContext();ba.encrypt(ca,{result:function(p){t(P,function(){var u,U;u={};u.renewalwindow=y;u.expiration=z;u.sequencenumber=H;u.serialnumber=w;u.sessiondata=sa(p);U=Ua(JSON.stringify(u),Oa);ba.sign(U,{result:function(p){t(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:H,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:w,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},identity:{value:G,writable:!1,configurable:!1},encryptionKey:{value:B,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:U,writable:!1,enumerable:!1,configurable:!1},signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){P.error(g);}});},v);},error:function(g){P.error(g);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(g){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(g){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(g){var p;if(this.sequenceNumber==g.sequenceNumber)return this.expiration>g.expiration;if(this.sequenceNumber>g.sequenceNumber){p=this.sequenceNumber-Pa+127;return g.sequenceNumber>=p;}p=g.sequenceNumber-Pa+127;return this.sequenceNumber<p;},toJSON:function(){var g;g={};g.tokendata=sa(this.tokendata);g.signature=sa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof jb?this.serialNumber==g.serialNumber&&this.sequenceNumber==g.sequenceNumber&&this.expiration.getTime()==g.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Ub=function(v,u,z){t(z,function(){var y,w,C,G,ca;y=v.getMslCryptoContext();w=u.tokendata;C=u.signature;if("string"!==typeof w||"string"!==typeof C)throw new fa(g.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(u));try{G=wa(w);}catch(Na){throw new B(g.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(u),Na);}if(!G||0==G.length)throw new fa(g.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(u));try{ca=wa(C);}catch(Na){throw new B(g.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(u),Na);}y.verify(G,ca,{result:function(w){t(z,function(){var u,C,H,U,X,M,ha,ba,ra,Ja;M=Xa(G,Oa);try{ha=JSON.parse(M);u=parseInt(ha.renewalwindow);C=parseInt(ha.expiration);H=parseInt(ha.sequencenumber);U=parseInt(ha.serialnumber);X=ha.sessiondata;}catch(va){if(va instanceof SyntaxError)throw new fa(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M,va);throw va;}if(!u||u!=u||!C||C!=C||"number"!==typeof H||H!=H||"number"!==typeof U||U!=U||"string"!==typeof X)throw new fa(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M);if(C<u)throw new B(g.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+M);if(0>H||H>Pa)throw new B(g.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);if(0>U||U>Pa)throw new B(g.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);ba=new Date(1E3*u);ra=new Date(1E3*C);try{Ja=wa(X);}catch(va){throw new B(g.MASTERTOKEN_SESSIONDATA_INVALID,X,va);}if(!Ja||0==Ja.length)throw new B(g.MASTERTOKEN_SESSIONDATA_MISSING,X);w?y.decrypt(Ja,{result:function(u){t(z,function(){var y,C,P,B,X,ha;X=Xa(u,Oa);try{ha=JSON.parse(X);y=ha.issuerdata;C=ha.identity;P=ha.encryptionkey;B=ha.hmackey;}catch(d){if(d instanceof SyntaxError)throw new fa(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+X,d);throw d;}if(y&&"object"!==typeof y||!C||"string"!==typeof P||"string"!==typeof B)throw new fa(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+X);zb(P,sb,Ib,{result:function(d){zb(B,tb,Tb,{result:function(b){t(z,function(){var a;a=new p(u,G,ca,w);new jb(v,ba,ra,H,U,y,C,d,b,a,z);});},error:function(b){z.error(new R(g.MASTERTOKEN_KEY_CREATION_ERROR,b));}});},error:function(d){z.error(new R(g.MASTERTOKEN_KEY_CREATION_ERROR,d));}});});},error:function(g){z.error(g);}}):(u=new p(null,G,ca,w),new jb(v,ba,ra,H,U,null,null,null,null,u,z));});},error:function(g){z.error(g);}});});};}());(function(){function p(g,p,t){this.tokendata=g;this.signature=p;this.verified=t;}bc=pa.Class.create({init:function(g,p,u,H,w,C,G,ca,M){var v;v=this;t(M,function(){var y,z,U,X,ra,ha,ba;if(u.getTime()<p.getTime())throw new ea("Cannot construct a user ID token that expires before its renewal window opens.");if(!H)throw new ea("Cannot construct a user ID token without a master token.");if(0>w||w>Pa)throw new ea("Serial number "+w+" is outside the valid range.");y=Math.floor(p.getTime()/1E3);z=Math.floor(u.getTime()/1E3);U=H.serialNumber;if(ca){X=ca.tokendata;ra=ca.signature;ha=ca.verified;U=H.serialNumber;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:U,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},customer:{value:G,writable:!1,configurable:!1},verified:{value:ha,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:X,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra,writable:!1,enumerable:!1,configurable:!1}});return this;}X={};C&&(X.issuerdata=C);X.identity=G;X=Ua(JSON.stringify(X),Oa);ba=g.getMslCryptoContext();ba.encrypt(X,{result:function(p){t(M,function(){var u,P;u={};u.renewalwindow=y;u.expiration=z;u.mtserialnumber=U;u.serialnumber=w;u.userdata=sa(p);P=Ua(JSON.stringify(u),Oa);ba.sign(P,{result:function(p){t(M,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:H.serialNumber,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},customer:{value:G,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:P,writable:!1,enumerable:!1,configurable:!1},signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(g){t(M,function(){g instanceof B&&g.setEntity(H);throw g;},v);}});},v);},error:function(g){t(M,function(){g instanceof B&&g.setEntity(H);throw g;},v);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(g){return g&&g.serialNumber==this.mtSerialNumber;},toJSON:function(){var g;g={};g.tokendata=sa(this.tokendata);g.signature=sa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof bc?this.serialNumber==g.serialNumber&&this.mtSerialNumber==g.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Vb=function(v,u,z,H){t(H,function(){var w,y,G,ca,M;w=v.getMslCryptoContext();y=u.tokendata;G=u.signature;if("string"!==typeof y||"string"!==typeof G)throw new fa(g.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(u)).setEntity(z);try{ca=wa(y);}catch(ua){throw new B(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(u),ua).setEntity(z);}if(!ca||0==ca.length)throw new fa(g.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(u)).setEntity(z);try{M=wa(G);}catch(ua){throw new B(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(u),ua).setEntity(z);}w.verify(ca,M,{result:function(u){t(H,function(){var y,C,G,X,ra,ha,ba,Ba,ua,R;ha=Xa(ca,Oa);try{ba=JSON.parse(ha);y=parseInt(ba.renewalwindow);C=parseInt(ba.expiration);G=parseInt(ba.mtserialnumber);X=parseInt(ba.serialnumber);ra=ba.userdata;}catch(ia){if(ia instanceof SyntaxError)throw new fa(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ha,ia).setEntity(z);throw ia;}if(!y||y!=y||!C||C!=C||"number"!==typeof G||G!=G||"number"!==typeof X||X!=X||"string"!==typeof ra)throw new fa(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ha).setEntity(z);if(C<y)throw new B(g.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+ha).setEntity(z);if(0>G||G>Pa)throw new B(g.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ha).setEntity(z);if(0>X||X>Pa)throw new B(g.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ha).setEntity(z);Ba=new Date(1E3*y);ua=new Date(1E3*C);if(!z||G!=z.serialNumber)throw new B(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+G+"; mt "+JSON.stringify(z)).setEntity(z);try{R=wa(ra);}catch(ia){throw new B(g.USERIDTOKEN_USERDATA_INVALID,ra,ia).setEntity(z);}if(!R||0==R.length)throw new B(g.USERIDTOKEN_USERDATA_MISSING,ra).setEntity(z);u?w.decrypt(R,{result:function(w){t(H,function(){var t,y,C,G,P;C=Xa(w,Oa);try{G=JSON.parse(C);t=G.issuerdata;y=G.identity;}catch(d){if(d instanceof SyntaxError)throw new fa(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+C).setEntity(z);throw d;}if(t&&"object"!==typeof t||"object"!==typeof y)throw new fa(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+C).setEntity(z);try{P=re(y);}catch(d){throw new B(g.USERIDTOKEN_IDENTITY_INVALID,"userdata "+C,d).setEntity(z);}y=new p(ca,M,u);new bc(v,Ba,ua,z,X,t,P,y,H);});},error:function(g){t(H,function(){g instanceof B&&g.setEntity(z);throw g;});}}):(y=new p(ca,M,u),new bc(v,Ba,ua,z,X,null,null,y,H));});},error:function(g){t(H,function(){g instanceof B&&g.setEntity(z);throw g;});}});});};}());(function(){function p(p,t){var v,w,u;v=p.tokendata;if("string"!==typeof v)throw new fa(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(p));try{w=wa(v);}catch(ra){throw new B(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(p),ra);}if(!w||0==w.length)throw new fa(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(p));try{u=JSON.parse(Xa(w,Oa)).name;}catch(ra){if(ra instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(p),ra);throw ra;}if(!u)throw new fa(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(p));return t[u]?t[u]:t[""];}function v(g,p,t){this.tokendata=g;this.signature=p;this.verified=t;}Lb=pa.Class.create({init:function(g,p,v,w,u,G,ca,M,R,P){var y;y=this;t(P,function(){var z,C,H,ha,ba;if(w&&u&&!u.isBoundTo(w))throw new ea("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");z=w?w.serialNumber:-1;C=u?u.serialNumber:-1;if(R)return ba=R.tokendata,Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:p,writable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:R.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:R.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ca?(H=pd(ca,v),H.length<v.length||(ca=null,H=v)):(ca=null,H=v);ha={};ha.name=p;-1!=z&&(ha.mtserialnumber=z);-1!=C&&(ha.uitserialnumber=C);ha.encrypted=G;ca&&(ha.compressionalgo=ca);if(G&&0<H.length)M.encrypt(H,{result:function(H){t(P,function(){var U;ha.servicedata=sa(H);U=Ua(JSON.stringify(ha),Oa);M.sign(U,{result:function(w){t(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:p,writable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:U,writable:!1,enumerable:!1,configurable:!1},signature:{value:w,writable:!1,enumerable:!1,configurable:!1}});return this;},y);},error:function(g){t(P,function(){g instanceof B&&(g.setEntity(w),g.setUser(u));throw g;});}});},y);},error:function(g){t(P,function(){g instanceof B&&(g.setEntity(w),g.setUser(u));throw g;});}});else{ha.servicedata=sa(H);ba=Ua(JSON.stringify(ha),Oa);M.sign(ba,{result:function(w){t(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:p,writable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:w,writable:!1,enumerable:!1,configurable:!1}});return this;},y);},error:function(g){t(P,function(){g instanceof B&&(g.setEntity(w),g.setUser(u));throw g;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(g){return g?g instanceof jb?g.serialNumber==this.mtSerialNumber:g instanceof bc?g.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var g;g={};g.tokendata=sa(this.tokendata);g.signature=sa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof Lb?this.name==g.name&&this.mtSerialNumber==g.mtSerialNumber&&this.uitSerialNumber==g.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Db=function(g,p,t,v,u,G,B,M,R){new Lb(g,p,t,v,u,G,B,M,null,R);};Hc=function(u,z,H,w,C,G){t(G,function(){var y,M,ra,P,ta,U,X,Aa,ha,ba,Ba,R,va;!C||C instanceof cc||(C=p(z,C));y=z.tokendata;M=z.signature;if("string"!==typeof y||"string"!==typeof M)throw new fa(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(z)).setEntity(H).setEntity(w);try{ra=wa(y);}catch(ia){throw new B(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(z),ia).setEntity(H).setEntity(w);}if(!ra||0==ra.length)throw new fa(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(z)).setEntity(H).setEntity(w);try{P=wa(M);}catch(ia){throw new B(g.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(z),ia).setEntity(H).setEntity(w);}Ba=Xa(ra,Oa);try{R=JSON.parse(Ba);ta=R.name;U=R.mtserialnumber?parseInt(R.mtserialnumber):-1;X=R.uitserialnumber?parseInt(R.uitserialnumber):-1;Aa=R.encrypted;ha=R.compressionalgo;ba=R.servicedata;}catch(ia){if(ia instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"servicetokendata "+Ba,ia).setEntity(H).setEntity(w);throw ia;}if(!ta||"number"!==typeof U||U!=U||"number"!==typeof X||X!=X||"boolean"!==typeof Aa||ha&&"string"!==typeof ha||"string"!==typeof ba)throw new fa(g.JSON_PARSE_ERROR,"servicetokendata "+Ba).setEntity(H).setEntity(w);if(R.mtserialnumber&&0>U||U>Pa)throw new B(g.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+Ba).setEntity(H).setEntity(w);if(R.uitserialnumber&&0>X||X>Pa)throw new B(g.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+Ba).setEntity(H).setEntity(w);if(-1!=U&&(!H||U!=H.serialNumber))throw new B(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+U+"; mt "+H).setEntity(H).setEntity(w);if(-1!=X&&(!w||X!=w.serialNumber))throw new B(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+X+"; uit "+w).setEntity(H).setEntity(w);Aa=!0===Aa;if(ha){if(!Qb[ha])throw new B(g.UNIDENTIFIED_COMPRESSION,ha);va=ha;}else va=null;C?C.verify(ra,P,{result:function(p){t(G,function(){var y,z;if(p){try{y=wa(ba);}catch(id){throw new B(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+Ba,id).setEntity(H).setEntity(w);}if(!y||0!=ba.length&&0==y.length)throw new B(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+Ba).setEntity(H).setEntity(w);if(Aa&&0<y.length)C.decrypt(y,{result:function(g){t(G,function(){var t,y;t=va?Ic(va,g):g;y=new v(ra,P,p);new Lb(u,ta,t,-1!=U?H:null,-1!=X?w:null,Aa,va,C,y,G);});},error:function(g){t(G,function(){g instanceof B&&(g.setEntity(H),g.setUser(w));throw g;});}});else{y=va?Ic(va,y):y;z=new v(ra,P,p);new Lb(u,ta,y,-1!=U?H:null,-1!=X?w:null,Aa,va,C,z,G);}}else y=""==ba?new Uint8Array(0):null,z=new v(ra,P,p),new Lb(u,ta,y,-1!=U?H:null,-1!=X?w:null,Aa,va,C,z,G);});},error:function(g){t(G,function(){g instanceof B&&(g.setEntity(H),g.setUser(w));throw g;});}}):(y=""==ba?new Uint8Array(0):null,M=new v(ra,P,!1),new Lb(u,ta,y,-1!=U?H:null,-1!=X?w:null,Aa,va,C,M,G));});};}());cb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(cb);(function(){Hb=pa.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Hb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});ge=function(p,v,u,z){t(z,function(){var t,w,y;t=u.scheme;w=u.authdata;if(!t||!w)throw new fa(g.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(u));if(!cb[t])throw new Ea(g.UNIDENTIFIED_USERAUTH_SCHEME,t);y=p.getUserAuthenticationFactory(t);if(!y)throw new Ea(g.USERAUTH_FACTORY_NOT_FOUND,t);y.createData(p,v,w,z);});};}());nc=pa.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,p,t,u){},authenticate:function(g,p,t,u){}});(function(){Yb=Hb.extend({init:function v(g,p){v.base.call(this,cb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:g,writable:!1,configurable:!1},secureNetflixId:{value:p,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.netflixid=this.netflixId;this.secureNetflixId&&(g.securenetflixid=this.secureNetflixId);return g;},equals:function y(g){return this===g?!0:g instanceof Yb?y.base.call(this,g)&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId:!1;}});se=function(p){var t,u;t=p.netflixid;u=p.securenetflixid;if(!t)throw new fa(g.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(p));return new Yb(t,u);};}());Xe=nc.extend({init:function v(){v.base.call(this,cb.NETFLIXID);},createData:function(g,p,u,H){t(H,function(){return se(u);});},authenticate:function(p,t,u,H){if(!(u instanceof Yb))throw new ea("Incorrect authentication data type "+u+".");p=u.secureNetflixId;if(!u.netflixId||!p)throw new Ea(g.NETFLIXID_COOKIES_BLANK).setUser(u);throw new Ea(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){oc=Hb.extend({init:function y(g,p){y.base.call(this,cb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:g,writable:!1,configurable:!1},password:{value:p,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.email=this.email;g.password=this.password;return g;},equals:function z(g){return this===g?!0:g instanceof oc?z.base.call(this,this,g)&&this.email==g.email&&this.password==g.password:!1;}});te=function(p){var t,w;t=p.email;w=p.password;if(!t||!w)throw new fa(g.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(p));return new oc(t,w);};}());Ye=nc.extend({init:function y(){y.base.call(this,cb.EMAIL_PASSWORD);},createData:function(g,p,u,w){t(w,function(){return te(u);});},authenticate:function(p,t,u,w){if(!(u instanceof oc))throw new ea("Incorrect authentication data type "+u+".");p=u.password;if(!u.email||!p)throw new Ea(g.EMAILPASSWORD_BLANK).setUser(u);throw new Ea(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){var w,C,M,ca,Na,ua,P,ta;function p(g,p){return"<"+g+">"+p+"</"+g+">";}function u(g){return g.replace(/[<>&"']/g,function(g){return Na[g];});}function H(g){return encodeURIComponent(g).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}w=Lc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};C=pa.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});M=rd=C.extend({init:function(p,w,u,y,z,C,H){var U;function P(y){t(H,function(){var t,C;try{C={};C.useridtoken=p;C.action=w;C.nonce=u;C.pin=sa(y);t=Ua(JSON.stringify(C),Oa);}catch(Kb){throw new fa(g.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Kb);}z.sign(t,{result:function(g){B(t,g);},error:H.error});},U);}function B(g,C){t(H,function(){Object.defineProperties(this,{_userIdToken:{value:p,writable:!1,enumerable:!1,configurable:!1},_action:{value:w,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:u,writable:!1,enumerable:!1,configurable:!1},_pin:{value:y,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:C,writable:!1,enumerable:!1,configurable:!1}});return this;},U);}U=this;t(H,function(){C?B(C.encoding,C.signature):z.encrypt(Ua(y,Oa),{result:function(g){P(g);},error:H.error});},U);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof M?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin&&this._userIdToken.equals(g._userIdToken):!1;}});rd.ACTION="userauth";ca=function(p,w,u,y,C){function z(y){t(C,function(){var z,P,U,M,X,ca;z=Xa(u,Oa);try{ca=JSON.parse(z);P=ca.useridtoken;U=ca.action;M=ca.nonce;X=ca.pin;}catch(d){if(d instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"MDX authdata "+z,d);throw d;}if(!(P&&"object"===typeof P&&U&&"string"===typeof U&&M&&"number"===typeof M&&X)||"string"!==typeof X)throw new fa(g.JSON_PARSE_ERROR,"MDX authdata "+z);Vb(p,P,w,{result:function(d){t(C,function(){if(!d.isDecrypted())throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+z);H(y,d,U,M,X);});},error:function(d){t(C,function(){if(d instanceof B)throw new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+z,d);throw d;});}});});}function H(g,p,w,z,H){t(C,function(){var P;P=wa(H);g.decrypt(P,{result:function(g){t(C,function(){var d;d=Xa(g,Oa);new M(p,w,z,d,null,{encoding:u,signature:y},C);});},error:C.error});});}t(C,function(){var H,P;try{P=p.getMslStore().getCryptoContext(w);H=P?P:new kb(p,w);}catch(wb){if(wb instanceof Sb)throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+sa(u));throw wb;}H.verify(u,y,{result:function(p){t(C,function(){if(!p)throw new R(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+sa(u));z(H);});},error:C.error});});};Na={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};ua=pc=C.extend({init:function(g,t,w,y){var C,z;C=p("action",u(g));z=p("nonce",t.toString());w=p("pin",w);C=p("registerdata",C+z+w);C=Ua(C,"utf-8");Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:t,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:C,writable:!1,enumerable:!1,configurable:!1},_signature:{value:y,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof ua?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});pc.ACTION="regpairrequest";P=sd=C.extend({init:function(g,w,y,C,z,P){var M;function B(y){t(P,function(){var t,z,B,M,d;t=sa(y);z=p("action",u(g));B=p("nonce",w.toString());M=p("pin",t);z=p("registerdata",z+B+M);d=Ua(z,"utf-8");t="action="+H(g)+"&nonce="+H(w.toString())+"&pin="+H(t);C.sign(Ua(t,"utf-8"),{result:function(b){U(d,b);},error:P.error});},M);}function U(p,u){t(P,function(){Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:w,writable:!1,enumerable:!1,configurable:!1},_pin:{value:y,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:p,writable:!1,enumerable:!1,configurable:!1},_signature:{value:u,writable:!1,enumerable:!1,configurable:!1}});return this;},M);}M=this;t(P,function(){z?U(z.encoding,z.signature):C.encrypt(Ua(y,"utf-8"),{result:function(g){B(g);},error:P.error});},M);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof P?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});sd.ACTION=pc.ACTION;ta=function(p,w,u,y,C){t(C,function(){var z,B,U,M,ca,X,ha;z=p.getMslStore().getCryptoContext(w);B=z?z:new kb(p,w);z=Xa(u,"utf-8");U=new DOMParser().parseFromString(z,"application/xml");z=U.getElementsByTagName("action");M=U.getElementsByTagName("nonce");U=U.getElementsByTagName("pin");ca=z&&1==z.length&&z[0].firstChild?z[0].firstChild.nodeValue:null;X=M&&1==M.length&&M[0].firstChild?parseInt(M[0].firstChild.nodeValue):null;ha=U&&1==U.length&&U[0].firstChild?U[0].firstChild.nodeValue:null;if(!ca||!X||!ha)throw new fa(g.XML_PARSE_ERROR,"MDX authdata "+sa(u));z="action="+H(ca)+"&nonce="+H(X.toString())+"&pin="+H(ha);B.verify(Ua(z,"utf-8"),y,{result:function(p){t(C,function(){var w;if(!p)throw new R(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+sa(u));w=wa(ha);B.decrypt(w,{result:function(d){t(C,function(){var b;b=Xa(d,"utf-8");new P(ca,X,b,null,{encoding:u,signature:y},C);});},error:C.error});});},error:C.error});});};fc=Hb.extend({init:function X(g,p,t,u,y,C){var z,H,P,B,ca,ha;X.base.call(this,cb.MDX);z=null;H=null;P=null;if("string"===typeof t)g=w.MSL_LEGACY,P=t;else if(t instanceof Uint8Array)g=w.NTBA,H=t;else if(t instanceof jb)g=w.MSL,z=t;else throw new TypeError("Controller token "+t+" is not a master token, encrypted CTicket, or MSL token construct.");B=t=null;ca=null;if(C){ha=C.controllerAuthData;t=ha.getAction();B=ha.getPin();C=C.userIdToken;ha instanceof M?ca=ha.getUserIdToken().customer:C&&(ca=C.customer);}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},action:{value:t,writable:!1,configurable:!1},targetPin:{value:p,writable:!1,configurable:!1},controllerPin:{value:B,writable:!1,configurable:!1},customer:{value:ca,writable:!1,configurable:!1},_masterToken:{value:z,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:H,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:P,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:u,writable:!1,enumerable:!1,configurable:!1},_signature:{value:y,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var g,p;g={};switch(this.mechanism){case w.MSL:p=JSON.parse(JSON.stringify(this._masterToken));g.mastertoken=p;break;case w.NTBA:p=Xa(this._encryptedCTicket,"utf-8");g.cticket=p;break;case w.MSL_LEGACY:g.cticket=this._mslTokens;break;default:throw new ea("Unsupported MDX mechanism.");}g.pin=this.targetPin;g.mdxauthdata=sa(this._controllerEncoding);g.signature=sa(this._signature);return g;},equals:function Aa(g){return this===g?!0:g instanceof fc?Aa.base.call(this,g)&&(this._masterToken==g._masterToken||this._masterToken&&this._masterToken.equals(g._masterToken))&&(this._encryptedCTicket==g._encryptedCTicket||this._encryptedCTicket&&$a(this._encryptedCTicket,g._encryptedCTicket))&&this._mslTokens==g._mslTokens&&$a(this._controllerEncoding,g._controllerEncoding)&&$a(this._signature,g._signature):!1;}});ue=function(p,w,u){function y(y,C,z,H){Ub(p,C,{result:function(C){t(u,function(){if(!C.isDecrypted())throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+w.toString());ca(p,C,z,H,{result:function(g){t(u,function(){var d,b;d=g.getEncoding();b=g.getSignature();return new fc(p,y,C,d,b,{controllerAuthData:g,userIdToken:null});});},error:u.error});});},error:function(p){t(u,function(){if(p instanceof B)throw new Ea(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(w),p);throw p;});}});}function C(p,w,y,C){t(u,function(){throw new Ea(g.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function z(y,C,z,H){function P(d,b){t(b,function(){var a,c;try{a=wa(d);}catch(k){throw new Ea(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(w),k);}if(!a||0==a.length)throw new Ea(g.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(w));try{c=JSON.parse(Xa(a,"utf-8"));Ub(p,c,{result:function(a){t(b,function(){if(!a.isDecrypted())throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+w.toString());return a;});},error:function(a){t(b,function(){if(a instanceof B)throw new Ea(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(w),a);throw a;});}});}catch(k){if(k instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(w),k);throw k;}});}function M(d,b,a){t(a,function(){var c,k;try{c=wa(d);}catch(m){throw new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(w),m);}if(!c||0==c.length)throw new Ea(g.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(w));try{k=JSON.parse(Xa(c,"utf-8"));Vb(p,k,b,{result:function(b){t(a,function(){if(!b.isDecrypted())throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(w));return b;});},error:function(b){t(a,function(){if(b instanceof B)throw new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(w),b);throw b;});}});}catch(m){if(m instanceof SyntaxError)throw new fa(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(w),m);throw m;}});}t(u,function(){var d;d=C.split(",");if(3!=d.length||"1"!=d[0])throw new Ea(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(w));P(d[1],{result:function(b){M(d[2],b,{result:function(a){ta(p,b,z,H,{result:function(b){t(u,function(){return new fc(p,y,C,z,H,{controllerAuthData:b,userIdToken:a});});},error:function(a){t(u,function(){if(a instanceof Sb)throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(w),a);throw a;});}});},error:u.error});},error:u.error});});}t(u,function(){var p,t,u,H,P;p=w.pin;t=w.mdxauthdata;u=w.signature;if(!p||"string"!==typeof p||!t||"string"!==typeof t||!u||"string"!==typeof u)throw new fa(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(w));try{H=wa(t);P=wa(u);}catch(Kb){throw new Ea(g.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(w),Kb);}if(w.mastertoken){t=w.mastertoken;if(!t||"object"!==typeof t)throw new fa(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(w));y(p,t,H,P);}else if(w.cticket){t=w.cticket;if(!t||"string"!==typeof t)throw new fa(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(w));-1==t.indexOf(",")?C(p,t,H,P):z(p,t,H,P);}else throw new Ea(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(w));});};}());(function(){var p,t,u;p=rd.ACTION;t=pc.ACTION;u=sd.ACTION;ve=nc.extend({init:function C(){C.base.call(this,cb.MDX);},createData:function(g,p,t,u){ue(g,t,u);},authenticate:function(y,z,H,B){if(!(H instanceof fc))throw new ea("Incorrect authentication data type "+H.getClass().getName()+".");y=H.action;switch(H.mechanism){case Lc.MSL:if(p!=y)throw new Ea(g.MDX_USERAUTH_ACTION_INVALID).setUser(H);break;case Lc.NTBA:if(t!=y)throw new Ea(g.MDX_USERAUTH_ACTION_INVALID).setUser(H);break;case Lc.MSL_LEGACY:if(u!=y)throw new Ea(g.MDX_USERAUTH_ACTION_INVALID).setUser(H);}y=H.controllerPin;z=H.targetPin;if(!y||!z)throw new Ea(g.MDX_PIN_BLANK).setUser(H);if(y!=z)throw new Ea(g.MDX_PIN_MISMATCH).setUser(H);y=H.customer;if(!y)throw new Ea(g.MDX_USER_UNKNOWN).setUser(H);if(B&&(B=B.customer,!y.equals(B)))throw new Ea(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+y+"; uit customer "+B).setUser(H);return y;}});}());(function(){var p,t,u;p={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};t=xe=pa.Class.create({init:function(g,p){Object.defineProperties(this,{email:{value:g,writable:!1,enumerable:!0,configurable:!1},password:{value:p,writable:!1,enumerable:!0,configurable:!1}});}});u=ye=pa.Class.create({init:function(g,p){Object.defineProperties(this,{netflixId:{value:g,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:p,writable:!1,enumerable:!0,configurable:!1}});}});qc=Hb.extend({init:function C(g,p,y,z){var H,B,U,M;C.base.call(this,cb.SSO);H=null;B=null;U=null;M=null;y instanceof t?(H=y.email,B=y.password):y instanceof u&&(U=y.netflixId,M=y.secureNetflixId);Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},token:{value:p,writable:!1,configurable:!1},email:{value:H,writable:!1,configurable:!1},password:{value:B,writable:!1,configurable:!1},netflixId:{value:U,writable:!1,configurable:!1},secureNetflixId:{value:M,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof z?null:z,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.mechanism=this.mechanism;g.token=sa(this.token);this.email&&this.password?(g.email=this.email,g.password=this.password):this.netflixId&&this.secureNetflixId&&(g.netflixid=this.netflixId,g.securenetflixid=this.secureNetflixId);this.profileGuid&&(g.profileguid=this.profileGuid);return g;},equals:function ra(g){return this===g?!0:g instanceof qc?ra.base.call(this,g)&&this.mechanism==g.mechanism&&$a(this.token,g.token)&&this.email==g.email&&this.password==g.password&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId&&this.profileGuid==g.profileGuid:!1;}});we=function(y){var z,H,B,P,M,U,X,ra,ha;z=y.mechanism;H=y.token;if(!z||!H||"string"!==typeof H)throw new fa(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(y));if(!p[z])throw new Ea(g.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(y));B=y.email;P=y.password;M=y.netflixid;U=y.securenetflixid;X=y.profileguid;if(B&&!P||!B&&P||M&&!U||!M&&U||B&&M)throw new fa(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(y));try{ra=wa(H);}catch(ba){throw new Ea(g.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(y),ba);}B&&P?ha=new t(B,P):M&&U&&(ha=new u(M,U));return new qc(z,ra,ha,X);};}());Ze=nc.extend({init:function z(){z.base.call(this,cb.SSO);},createData:function(g,p,w,u){t(u,function(){return we(w);});},authenticate:function(p,t,w,u){var z,C;if(!(w instanceof qc))throw new ea("Incorrect authentication data type "+w+".");p=w.token;t=w.email;u=w.password;z=w.netflixId;C=w.secureNetflixId;if(!p||0==p.length)throw new Ea(g.SSOTOKEN_BLANK);if(!(null===t&&null===u||t&&u))throw new Ea(g.EMAILPASSWORD_BLANK);if(!(null===z&&null===C||z&&C))throw new Ea(g.NETFLIXID_COOKIES_BLANK).setUser(w);throw new Ea(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(w);}});(function(){rc=Hb.extend({init:function H(g,p){H.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:g,writable:!1,configurable:!1},profileGuid:{value:p,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));g.profileguid=this.profileGuid;return g;},equals:function w(g){return this==g?!0:g instanceof rc?w.base.call(this,g)&&this.userIdToken.equals(g.userIdToken)&&this.profileGuid==g.profileGuid:!1;}});ze=function(p,u,B,M){t(M,function(){var w,C;if(!u)throw new Ea(g.USERAUTH_MASTERTOKEN_MISSING);w=B.useridtoken;C=B.profileguid;if("object"!==typeof w||"string"!==typeof C)throw new fa(g.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(B));Vb(p,w,u,{result:function(p){t(M,function(){if(!p.isDecrypted())throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(B));return new rc(p,C);});},error:function(p){M.error(new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(B),p));}});});};}());$e=nc.extend({init:function H(g){H.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p,t,u){ze(g,p,t,u);},authenticate:function(p,t,u,B){if(!(u instanceof rc))throw new ea("Incorrect authentication data type "+u+".");t=u.userIdToken;p=u.profileGuid;if(!p)throw new Ea(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(u);t=t.user;if(!t)throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(u);p=this._store.switchUsers(t,p);if(!p)throw new Ea(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(u);if(B&&(B=B.user,!p.equals(B)))throw new Ea(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+p+"; uit user "+B).setUserAuthenticationData(u);return p;}});Object.freeze({ENTITY_REAUTH:p.ENTITY_REAUTH,ENTITYDATA_REAUTH:p.ENTITYDATA_REAUTH});af=pa.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(g,p){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(g){},getUserAuthenticationFactory:function(g){},getTokenFactory:function(){},getKeyExchangeFactory:function(g){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ae=pa.Class.create({setCryptoContext:function(g,p){},getMasterToken:function(){},getNonReplayableId:function(g){},getCryptoContext:function(g){},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,p){},getUserIdToken:function(g){},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(g,p){},removeServiceTokens:function(g,p,t){},clearServiceTokens:function(){}});(function(){var p;p=Qb;pd=function(t,u){var w;w={};switch(t){case p.LZW:return Cd(u,w);case p.GZIP:return gzip$compress(u);default:throw new B(g.UNSUPPORTED_COMPRESSION,t);}};Ic=function(t,u,H){switch(t){case p.LZW:return Dd(u);case p.GZIP:return gzip$uncompress(u);default:throw new B(g.UNSUPPORTED_COMPRESSION,t.name());}};}());Ae.extend({setCryptoContext:function(g,p){},getMasterToken:function(){return null;},getNonReplayableId:function(g){return 1;},getCryptoContext:function(g){return null;},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,p){},getUserIdToken:function(g){return null;},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(p,t){if(t){if(!p)throw new B(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!t.isBoundTo(p))throw new B(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.mtSerialNumber+"; mt "+p.serialNumber);}return[];},removeServiceTokens:function(p,t,u){if(u&&t&&!u.isBoundTo(t))throw new B(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+u.masterTokenSerialNumber+"; mt "+t.serialNumber);},clearServiceTokens:function(){}});(function(){Be=Ae.extend({init:function w(){w.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(g,p){var t;if(p){t=g.uniqueKey();this.masterTokens[t]=g;this.cryptoContexts[t]=p;}else this.removeCryptoContext(g);},getMasterToken:function(){var g,p,t;g=null;for(p in this.masterTokens){t=this.masterTokens[p];if(!g||t.isNewerThan(g))g=t;}return g;},getNonReplayableId:function(g){var p;g=g.serialNumber;p=this.nonReplayableIds[g]!==ka?this.nonReplayableIds[g]:0;if(0>p||p>Pa)throw new ea("Non-replayable ID "+p+" is outside the valid range.");p=p==Pa?0:p+1;return this.nonReplayableIds[g]=p;},getCryptoContext:function(g){return this.cryptoContexts[g.uniqueKey()];},removeCryptoContext:function(g){var p,t,u,w;p=g.uniqueKey();if(this.masterTokens[p]){t=g.serialNumber;for(u in this.masterTokens){w=this.masterTokens[u];if(!w.equals(g)&&w.serialNumber==t){delete this.masterTokens[p];delete this.cryptoContexts[p];return;}}Object.keys(this.userIdTokens).forEach(function(p){p=this.userIdTokens[p];p.isBoundTo(g)&&this.removeUserIdToken(p);},this);try{this.removeServiceTokens(null,g,null);}catch(ua){if(ua instanceof B)throw new ea("Unexpected exception while removing master token bound service tokens.",ua);throw ua;}delete this.nonReplayableIds[t];delete this.masterTokens[p];delete this.cryptoContexts[p];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(g){for(var p in g)delete g[p];},this);},addUserIdToken:function(p,t){var u,w;u=!1;for(w in this.masterTokens)if(t.isBoundTo(this.masterTokens[w])){u=!0;break;}if(!u)throw new B(g.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+t.mtSerialNumber);this.userIdTokens[p]=t;},getUserIdToken:function(g){return this.userIdTokens[g];},removeUserIdToken:function(g){var p,t,u;p=null;for(t in this.masterTokens){u=this.masterTokens[t];if(g.isBoundTo(u)){p=u;break;}}Object.keys(this.userIdTokens).forEach(function(t){if(this.userIdTokens[t].equals(g)){try{this.removeServiceTokens(null,p,g);}catch(ua){if(ua instanceof B)throw new ea("Unexpected exception while removing user ID token bound service tokens.",ua);throw ua;}delete this.userIdTokens[t];}},this);},clearUserIdTokens:function(){for(var g in this.userIdTokens)this.removeUserIdToken(this.userIdTokens[g]);},addServiceTokens:function(p){p.forEach(function(p){var t,u,w;if(p.isMasterTokenBound()){t=!1;for(u in this.masterTokens)if(p.isBoundTo(this.masterTokens[u])){t=!0;break;}if(!t)throw new B(g.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+p.mtSerialNumber);}if(p.isUserIdTokenBound()){t=!1;for(w in this.userIdTokens)if(p.isBoundTo(this.userIdTokens[w])){t=!0;break;}if(!t)throw new B(g.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+p.uitSerialNumber);}},this);p.forEach(function(g){var p;if(g.isUnbound())this.unboundServiceTokens[g.uniqueKey()]=g;else{if(g.isMasterTokenBound()){p=this.mtServiceTokens[g.mtSerialNumber];p||(p={});p[g.uniqueKey()]=g;this.mtServiceTokens[g.mtSerialNumber]=p;}g.isUserIdTokenBound()&&((p=this.uitServiceTokens[g.uitSerialNumber])||(p={}),p[g.uniqueKey()]=g,this.uitServiceTokens[g.uitSerialNumber]=p);}},this);},getServiceTokens:function(p,t){var u,w,C;if(t){if(!p)throw new B(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!t.isBoundTo(p))throw new B(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.mtSerialNumber+"; mt "+p.serialNumber);}u={};for(w in this.unboundServiceTokens){C=this.unboundServiceTokens[w];u[C.uniqueKey()]=C;}if(p&&(w=this.mtServiceTokens[p.serialNumber]))for(var M in w)C=w[M],C.isUserIdTokenBound()||(u[M]=C);if(t&&(M=this.uitServiceTokens[t.serialNumber]))for(var P in M)w=M[P],w.isBoundTo(p)&&(u[P]=w);P=[];for(var R in u)P.push(u[R]);return P;},removeServiceTokens:function(p,t,u){var w,C,M;if(u&&t&&!u.isBoundTo(t))throw new B(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+u.mtSerialNumber+"; mt "+t.serialNumber);!p||t||u||Object.keys(this.unboundServiceTokens).forEach(function(g){this.unboundServiceTokens[g].name==p&&delete this.unboundServiceTokens[g];},this);t&&!u&&(w=this.mtServiceTokens[t.serialNumber])&&(M=Object.keys(w),M.forEach(function(g){var t;t=w[g];p&&t.name!=p||delete w[g];},this),this.mtServiceTokens[t.serialNumber]=w);u&&(C=this.uitServiceTokens[u.serialNumber])&&(t=Object.keys(C),t.forEach(function(g){var t;t=C[g];p&&t.name!=p||delete C[g];},this),this.uitServiceTokens[u.serialNumber]=C);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(g){for(var p in g)delete g[p];},this);}});}());Ke=Ue.extend({init:function w(){w.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(g,p){var t;if(p&&g&&g.length){t=sa(g);this._contextMap[t]=p;}},getCryptoContext:function(g){return g&&g.length?(g=sa(g),this._contextMap[g]||null):null;},removeCryptoContext:function(g){g&&g.length&&(g=sa(g),delete this._contextMap[g]);}});Ce=Ne.extend({init:function C(g,p,t,u){C.base.call(this,g);Object.defineProperties(this,{_kde:{value:p,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:t,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(p,t){if(!(t instanceof pb))throw new ea("Incorrect authentication data type "+JSON.stringify(t)+".");if(t.identity!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"mgk "+t.identity);return new Bc(p,this.localIdentity,this._kde,this._kdh,this._kdw);}});bf=Nd.extend({init:function ra(g,p,t,u){ra.base.call(this,g);Object.defineProperties(this,{_kpe:{value:p,writable:!1,enumerable:!1,configurable:!1},_kph:{value:t,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(p,t){if(!(t instanceof ub))throw new ea("Incorrect authentication data type "+JSON.stringify(t)+".");if(t.identity!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"psk "+t.identity);return new Bc(p,this.localIdentity,this._kpe,this._kph,this._kpw);}});df=Be.extend({init:function ca(g,p,t,u,B,M){ca.base.call(this);this._log=g;this._esn=p;this._keyRequestData=t;this._createKeyRequestData=u;this._systemKeyName=B;this._systemKeyWrapFormat=M;},setCryptoContext:function Na(g,p,t){var u;u=this;u._log.trace("Adding MasterToken",{SequenceNumber:g.sequenceNumber,SerialNumber:g.serialNumber,Expiration:g.expiration.getTime()});Na.base.call(this,g,p);!t&&(g=u._createKeyRequestData)&&(u._log.trace("Generating new keyx request data"),g().then(function(g){u._keyRequestData=g;},function(g){u._log.error("Unable to generate new keyx request data",""+g);}));},addUserIdToken:function ua(g,p){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:p.serialNumber,MTSerialNumber:p.mtSerialNumber,Expiration:p.expiration.getTime()});ua.base.call(this,g,p);},addServiceTokens:function P(g){P.base.call(this,g.filter(function(g){return!cf[g.name];}));},getUserIdTokenKeys:function(){var g,p;g=[];for(p in this.userIdTokens)g.push(p);return g;},rekeyUserIdToken:function(g,p){this.userIdTokens[g]&&(this.userIdTokens[p]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var p;p=this;t(g,function(){var u;u=p.getMasterToken();u?p.getKeysForStore(u,{result:function(B){t(g,function(){var g,t,P;g=p.userIdTokens;t=Object.keys(g).map(function(t){var B;B=g[t];return{userId:t,userIdTokenJSON:g[t].toJSON(),serviceTokenJSONList:p.getServiceTokens(u,B).map(He)};});B.esn=p._esn;B.masterTokenJSON=u.toJSON();B.userList=t;P=p._keyRequestData.storeData;P&&Object.keys(P).forEach(function(g){B[g]=P[g];});return B;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(p,u){var P;P=this;t(u,function(){var t;t=P.getCryptoContext(p);t={encryptionKey:t.encryptionKey,hmacKey:t.hmacKey};if(t.encryptionKey&&t.hmacKey)if(P._systemKeyWrapFormat)P.wrapKeysWithSystemKey(t,u);else return t;else throw new B(g.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(p,u){var P;P=this;wd(this._systemKeyName,{result:function(M){t(u,function(){var t,U,X,R;t=p.encryptionKey;U=p.hmacKey;X=t[gc];R=U[gc];if(X&&R)return{wrappedEncryptionKey:X,wrappedHmacKey:R};Promise.resolve().then(function(){return Promise.all([Ka.wrapKey(P._systemKeyWrapFormat,t,M,M.algorithm),Ka.wrapKey(P._systemKeyWrapFormat,U,M,M.algorithm)]);}).then(function(g){X=sa(g[0]);t[gc]=X;R=sa(g[1]);U[gc]=R;u.result({wrappedEncryptionKey:X,wrappedHmacKey:R});})["catch"](function(p){u.error(new B(g.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",p));});});},timeout:u.timeout,error:u.error});},unwrapKeysWithSystemKey:function(p,u){var P;P=this;wd(this._systemKeyName,{result:function(M){t(u,function(){var t,U;t=wa(p.wrappedEncryptionKey);U=wa(p.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ka.unwrapKey(P._systemKeyWrapFormat,t,M,M.algorithm,sb,!1,Ib),Ka.unwrapKey(P._systemKeyWrapFormat,U,M,M.algorithm,tb,!1,Tb)]);}).then(function(g){var t;t=g[0];g=g[1];t[gc]=p.wrappedEncryptionKey;g[gc]=p.wrappedHmacKey;u.result({encryptionKey:t,hmacKey:g});})["catch"](function(p){u.error(new B(g.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",p));});});},timeout:u.timeout,error:u.error});},loadStoreState:function(g,p,t,u){var M,U;function B(g,u){var B;try{B=t.userList.slice();}catch(wb){}B?function Gb(){var t;t=B.shift();t?Vb(p,t.userIdTokenJSON,g,{result:function(p){try{M.addUserIdToken(t.userId,p);P(g,p,t.serviceTokenJSONList,{result:Gb,timeout:Gb,error:Gb});}catch(Kb){Gb();}},timeout:Gb,error:Gb}):u.result();}():u.result();}function P(g,t,u,B){var P,U;try{P=u.slice();}catch(qa){}if(P){U=M.getCryptoContext(g);(function Kb(){var d;d=P.shift();d?Hc(p,d,g,t,U,{result:function(b){M.addServiceTokens([b]);Kb();},timeout:function(){Kb();},error:function(){Kb();}}):B.result();}());}else B.result();}M=this;U=M._log;t.esn!=M._esn?(U.error("Esn mismatch, starting fresh"),u.error()):function(u){var X,ha,R,ba;function B(){var t;if(!X&&ha&&R&&ba){X=!0;t=new kb(p,ha,g.esn,{rawKey:R},{rawKey:ba});M.setCryptoContext(ha,t,!0);u.result(ha);}}function P(g,d){U.error(g,d&&""+d);X||(X=!0,u.error());}t.masterTokenJSON?(Ub(p,t.masterTokenJSON,{result:function(g){ha=g;B();},timeout:function(){P("Timeout parsing MasterToken");},error:function(g){P("Error parsing MasterToken",g);}}),M._systemKeyWrapFormat?M.unwrapKeysWithSystemKey(t,{result:function(g){R=g.encryptionKey;ba=g.hmacKey;B();},timeout:function(){P("Timeout unwrapping keys");},error:function(g){P("Error unwrapping keys",g);}}):Promise.resolve().then(function(){return Ka.encrypt({name:sb.name,iv:new Uint8Array(16)},t.encryptionKey,new Uint8Array(1));}).then(function(g){R=t.encryptionKey;})["catch"](function(g){P("Error loading encryptionKey");}).then(function(){return Ka.sign(tb,t.hmacKey,new Uint8Array(1));}).then(function(g){ba=t.hmacKey;B();})["catch"](function(g){P("Error loading hmacKey");})):P("Persisted store is corrupt");}({result:function(g){B(g,u);},timeout:u.timeout,error:u.error});}});cf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};gc="$netflix$msl$wrapsys";ef=af.extend({init:function(g,p,t,u,B,M){var P,U;P=new lc([Qb.LZW]);U=new Pe();U.addPublicKey(p,t);u[Ra.RSA]=new Oe(U);p={};p[cb.EMAIL_PASSWORD]=new Ye();p[cb.NETFLIXID]=new Xe();p[cb.MDX]=new ve();p[cb.SSO]=new Ze();p[cb.SWITCH_PROFILE]=new $e();g={_mslCryptoContext:{value:new Me(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:P,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:B,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:u,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:p,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:M,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Hd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,p){p.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(p){return p.scheme==g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});yd=pe.extend({init:function(g,p,t,u){this._log=g;this._mslContext=p;this._mslRequest=t;this._keyRequestData=u;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(g,p,u,B){var P,M;P=this._mslRequest;M=this._mslContext;t(B,function(){var p,t;if(g||!P.shouldSendUserAuthData)return null;if(P.token){P.email?p=new xe(P.email,P.password):P.netflixId&&(p=new ye(P.netflixId,P.secureNetflixId));t="undefined"===typeof P.profileGuid?null:P.profileGuid;return new qc(P.mechanism,Ua(P.token),p,t);}return P.email?new oc(P.email,P.password):P.netflixId?new Yb(P.netflixId,P.secureNetflixId):P.mdxControllerToken?(p=new pc("regpairrequest",P.mdxNonce,P.mdxEncryptedPinB64,P.mdxSignature).getEncoding(),new fc(M,P.mdxPin,P.mdxControllerToken,p,P.mdxSignature)):P.useNetflixUserAuthData?new Yb():P.profileGuid?(p=P.userId,p=M.getMslStore().userIdTokens[p],new rc(p,P.profileGuid)):u&&P.sendUserAuthIfRequired?new Yb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,p,t){var u,B,P,M,U,R;u=this._log;B=(this._mslRequest.serviceTokens||[]).slice();P=this._mslContext;p=P.getMslStore();M=g.builder.getMasterToken();U=this.getUserId();R=p.getUserIdToken(U);(function ia(){var p;p=B.shift();if(p)try{p instanceof Lb?(g.addPrimaryServiceToken(p),ia()):Hc(P,p,M,R,null,{result:function(p){try{g.addPrimaryServiceToken(p);}catch(id){u.warn("Exception adding service token",""+id);}ia();},timeout:function(){u.warn("Timeout parsing service token");ia();},error:function(g){u.warn("Error parsing service token",""+g);ia();}});}catch(Gb){u.warn("Exception processing service token",""+Gb);ia();}else t.result(!0);}());},write:function(g,p,t){var u;u=Ua(this._mslRequest.body);g.write(u,0,u.length,p,{result:function(B){B!=u.length?t.error(new Ya("Not all data was written to output.")):g.flush(p,{result:function(){t.result(!0);},timeout:function(){t.timeout();},error:function(g){t.error(g);}});},timeout:function(){t.timeout();},error:function(g){t.error(g);}});},getDebugContext:function(){this._dc||(this._dc=new ff(this._log,this._mslRequest));return this._dc;}});ff=We.extend({init:function(g,p){this._log=g;this._mslRequest=p;},sentHeader:function(g){this._log.trace("Sent MSL header",xd(this._mslRequest,g),g.serviceTokens&&g.serviceTokens.map(Ie).join("\n"));},receivedHeader:function(g){var p,t;p=xd(this._mslRequest,g);t=g.errorCode;t?this._log.warn("Received MSL error header",p,{errorCode:t,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",p);}});De={PSK:function(g){return Sc(g,Ra.PSK,bf,ub,jd,Fc);},MGK:function(g){return Sc(g,Ra.MGK,Ce,pb,jd,Fc);},MGK_WITH_FALLBACK:function(p){var t,u;switch(p.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":case"GOOGEST001":case"GOOGNEW001":t="PSK";break;default:t="MGK";}u=De[t];if(!u)throw new B(g.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+t);return u(p);},MGK_JWE:function(g){return Sc(g,Ra.MGK,Ce,pb,Td,hd);},JWK_RSA:function(g){return Tc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gc.JWK_RSA);},JWK_RSAES:function(g){return Tc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWK_RSAES);},JWEJS_RSA:function(g){return Tc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWEJS_RSA);}};M.netflix=M.netflix||{};M.netflix.msl={createMslClient:function(p,t){var u,M,P,R,ba;u=p.log;ba=p.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Ta&&Ta.generateKey&&Ta.importKey&&Ta.unwrapKey))throw new B(g.INTERNAL_EXCEPTION,"No WebCrypto");eb=Ta.generateKey({name:"AES-CBC",length:128},!0,Ib).then?wc.V2014_02:wc.LEGACY;ba("mslisik");return Ka.importKey("spki",p.serverIdentityKeyData,Id,!1,["verify"]);}).then(function(p){return new Promise(function(t,u){Pb(p,{result:t,error:function(){u(new B(g.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(t){M=t;if(t=De[p.authenticationType])return ba("mslcc"),t(p);throw new B(g.INTERNAL_EXCEPTION,"Invalid authenticationType: "+p.authenticationType);}).then(function(g){var t;P=new df(u,p.esn,g.keyRequestData,g.createKeyRequestData,p.authenticationKeyNames.s,p.systemKeyWrapFormat);R=new ef(P,p.serverIdentityId,M,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);t=p.storeState;if(t)return ba("mslss"),u.info("Loading store state"),new Promise(function(g,u){P.loadStoreState(p,R,t,{result:g,timeout:g,error:g});});u.info("No store state, starting fresh");}).then(function(){var g;g=new qe();ba("msldone");t.result(new Je(u,g,R,P,p.ErrorSubCodes));})["catch"](function(g){t.error(g);});},IHttpLocation:Se,MslIoException:Ya};(function(){var wa,qa,Ea;function g(){g=function(){};qa.Symbol||(qa.Symbol=p);}function p(d){return"jscomp_symbol_"+(d||"")+Ea++;}function t(){var d;g();d=qa.Symbol.iterator;d||(d=qa.Symbol.iterator=qa.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&wa(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return u(this);}});t=function(){};}function u(d){var b;b=0;return B(function(){return b<d.length?{done:!1,value:d[b++]}:{done:!0};});}function B(d){t();d={next:d};d[qa.Symbol.iterator]=function(){return this;};return d;}function R(d){var b;t();g();t();b=d[Symbol.iterator];return b?b.call(d):u(d);}function ba(d,b){var k;function a(){}a.prototype=b.prototype;d.prototype=new a();d.prototype.constructor=d;for(var c in b)if(Object.defineProperties){k=Object.getOwnPropertyDescriptor(b,c);k&&Object.defineProperty(d,c,k);}else d[c]=b[c];}function ea(d){if(!(d instanceof Array)){d=R(d);for(var b,a=[];!(b=d.next()).done;)a.push(b.value);d=a;}return d;}function fa(d,b){var a,k;if(b){a=qa;d=d.split(".");for(var c=0;c<d.length-1;c++){k=d[c];k in a||(a[k]={});a=a[k];}d=d[d.length-1];c=a[d];b=b(c);b!=c&&null!=b&&wa(a,d,{configurable:!0,writable:!0,value:b});}}function ka(d,b){return Object.prototype.hasOwnProperty.call(d,b);}function ia(d,b){var a,c;t();d instanceof String&&(d+="");a=0;c={next:function(){var k;if(a<d.length){k=a++;return{value:b(k,d[k]),done:!1};}c.next=function(){return{done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function pa(d,b,a){if(null==d)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return d+"";}function sa(d,b,a){var m;d instanceof String&&(d=String(d));for(var c=d.length,k=0;k<c;k++){m=d[k];if(b.call(a,m,k,d))return{Qj:k,x3:m};}return{Qj:-1,x3:void 0};}wa="function"==typeof Object.defineProperties?Object.defineProperty:function(d,b,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[b]=a.value);};qa="undefined"!=typeof M&&M===this?this:"undefined"!=typeof global&&null!=global?global:this;Ea=0;fa("Object.setPrototypeOf",function(d){return d?d:"object"!=typeof"".__proto__?null:function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b;};});fa("Object.assign",function(d){return d?d:function(b,a){var k;for(var c=1;c<arguments.length;c++){k=arguments[c];if(k)for(var m in k)ka(k,m)&&(b[m]=k[m]);}return b;};});fa("Object.getOwnPropertySymbols",function(d){return d?d:function(){return[];};});fa("Promise",function(d){var c,k;function b(a){var b;this.XQ=0;this.ima=void 0;this.yP=[];b=this.Oca();try{a(b.resolve,b.reject);}catch(q){b.reject(q);}}function a(){this.rx=null;}if(d)return d;a.prototype.BDa=function(a){null==this.rx&&(this.rx=[],this.tbb());this.rx.push(a);};a.prototype.tbb=function(){var a;a=this;this.CDa(function(){a.blb();});};c=qa.setTimeout;a.prototype.CDa=function(a){c(a,0);};a.prototype.blb=function(){var a,k;for(;this.rx&&this.rx.length;){a=this.rx;this.rx=[];for(var b=0;b<a.length;++b){k=a[b];delete a[b];try{k();}catch(n){this.vbb(n);}}}this.rx=null;};a.prototype.vbb=function(a){this.CDa(function(){throw a;});};b.prototype.Oca=function(){var b,k;function a(a){return function(c){k||(k=!0,a.call(b,c));};}b=this;k=!1;return{resolve:a(this.hEb),reject:a(this.Nla)};};b.prototype.hEb=function(a){var k;if(a===this)this.Nla(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.BGb(a);else{a:switch(typeof a){case"object":k=null!=a;break a;case"function":k=!0;break a;default:k=!1;}k?this.gEb(a):this.zIa(a);}};b.prototype.gEb=function(a){var b;b=void 0;try{b=a.then;}catch(q){this.Nla(q);return;}"function"==typeof b?this.CGb(b,a):this.zIa(a);};b.prototype.Nla=function(a){this.YTa(2,a);};b.prototype.zIa=function(a){this.YTa(1,a);};b.prototype.YTa=function(a,b){if(0!=this.XQ)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.XQ);this.XQ=a;this.ima=b;this.clb();};b.prototype.clb=function(){if(null!=this.yP){for(var a=this.yP,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.yP=null;}};k=new a();b.prototype.BGb=function(a){var b;b=this.Oca();a.PW(b.resolve,b.reject);};b.prototype.CGb=function(a,b){var k;k=this.Oca();try{a.call(b,k.resolve,k.reject);}catch(n){k.reject(n);}};b.prototype.then=function(a,k){var n,l,f;function c(a,b){return"function"==typeof a?function(b){try{n(a(b));}catch(I){l(I);}}:b;}f=new b(function(a,b){n=a;l=b;});this.PW(c(a,n),c(k,l));return f;};b.prototype["catch"]=function(a){return this.then(void 0,a);};b.prototype.PW=function(a,b){var n;function c(){switch(n.XQ){case 1:a(n.ima);break;case 2:b(n.ima);break;default:throw Error("Unexpected state: "+n.XQ);}}n=this;null==this.yP?k.BDa(c):this.yP.push(function(){k.BDa(c);});};b.resolve=function(a){return a instanceof b?a:new b(function(b){b(a);});};b.reject=function(a){return new b(function(b,k){k(a);});};b.race=function(a){return new b(function(k,c){for(var q=R(a),l=q.next();!l.done;l=q.next())b.resolve(l.value).PW(k,c);});};b.all=function(a){var k,c;k=R(a);c=k.next();return c.done?b.resolve([]):new b(function(a,l){var q,n;function f(b){return function(f){q[b]=f;n--;0==n&&a(q);};}q=[];n=0;do q.push(void 0),n++,b.resolve(c.value).PW(f(q.length-1),l),c=k.next();while(!c.done);});};b.$jscomp$new$AsyncExecutor=function(){return new a();};return b;});fa("Array.prototype.keys",function(d){return d?d:function(){return ia(this,function(b){return b;});};});fa("Math.tanh",function(d){return d?d:function(b){var a;b=Number(b);if(0===b)return b;a=Math.exp(-2*Math.abs(b));a=(1-a)/(1+a);return 0>b?-a:a;};});fa("Number.isNaN",function(d){return d?d:function(b){return"number"===typeof b&&isNaN(b);};});fa("String.prototype.includes",function(d){return d?d:function(b,a){return-1!==pa(this,b,"includes").indexOf(b,a||0);};});fa("WeakMap",function(d){var k,m;function b(a){this.mO=(m+=Math.random()+1).toString();if(a){g();t();a=R(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){ka(a,k)||wa(a,k,{value:{}});}function c(b){var k;k=Object[b];k&&(Object[b]=function(b){a(b);return k(b);});}if(function(){var a,b,k;if(!d||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});k=new d([[a,2],[b,3]]);if(2!=k.get(a)||3!=k.get(b))return!1;k["delete"](a);k.set(b,4);return!k.has(a)&&4==k.get(b);}catch(l){return!1;}}())return d;k="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");m=0;b.prototype.set=function(b,c){a(b);if(!ka(b,k))throw Error("WeakMap key fail: "+b);b[k][this.mO]=c;return this;};b.prototype.get=function(a){return ka(a,k)?a[k][this.mO]:void 0;};b.prototype.has=function(a){return ka(a,k)&&ka(a[k],this.mO);};b.prototype["delete"]=function(a){return ka(a,k)&&ka(a[k],this.mO)?delete a[k][this.mO]:!1;};return b;});fa("Map",function(d){var m,r;function b(){var a;a={};return a.Ov=a.next=a.head=a;}function a(a,b){var k;k=a.Tu;return B(function(){if(k){for(;k.head!=a.Tu;)k=k.Ov;for(;k.next!=k.head;)return k=k.next,{done:!1,value:b(k)};k=null;}return{done:!0,value:void 0};});}function c(a,b){var k,f,c;k=b&&typeof b;"object"==k||"function"==k?m.has(b)?k=m.get(b):(k=""+ ++r,m.set(b,k)):k="p_"+b;f=a.Au[k];if(f&&ka(a.Au,k))for(a=0;a<f.length;a++){c=f[a];if(b!==b&&c.key!==c.key||b===c.key)return{id:k,list:f,index:a,re:c};}return{id:k,list:f,index:-1,re:void 0};}function k(a){this.Au={};this.Tu=b();this.size=0;if(a){a=R(a);for(var k;!(k=a.next()).done;)k=k.value,this.set(k[0],k[1]);}}if(function(){var a,b,k,f;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new d(R([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;k=b.entries();f=k.next();if(f.done||f.value[0]!=a||"s"!=f.value[1])return!1;f=k.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!k.next().done?!1:!0;}catch(h){return!1;}}())return d;g();t();m=new WeakMap();k.prototype.set=function(a,b){var k;k=c(this,a);k.list||(k.list=this.Au[k.id]=[]);k.re?k.re.value=b:(k.re={next:this.Tu,Ov:this.Tu.Ov,head:this.Tu,key:a,value:b},k.list.push(k.re),this.Tu.Ov.next=k.re,this.Tu.Ov=k.re,this.size++);return this;};k.prototype["delete"]=function(a){a=c(this,a);return a.re&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.Au[a.id],a.re.Ov.next=a.re.next,a.re.next.Ov=a.re.Ov,a.re.head=null,this.size--,!0):!1;};k.prototype.clear=function(){this.Au={};this.Tu=this.Tu.Ov=b();this.size=0;};k.prototype.has=function(a){return!!c(this,a).re;};k.prototype.get=function(a){return(a=c(this,a).re)&&a.value;};k.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};k.prototype.keys=function(){return a(this,function(a){return a.key;});};k.prototype.values=function(){return a(this,function(a){return a.value;});};k.prototype.forEach=function(a,b){for(var k=this.entries(),f;!(f=k.next()).done;)f=f.value,a.call(b,f[1],f[0],this);};k.prototype[Symbol.iterator]=k.prototype.entries;r=0;return k;});fa("Set",function(d){function b(a){this.um=new Map();if(a){a=R(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.um.size;}if(function(){var a,b,k,m;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new d(R([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;k=b.entries();m=k.next();if(m.done||m.value[0]!=a||m.value[1]!=a)return!1;m=k.next();return m.done||m.value[0]==a||4!=m.value[0].x||m.value[1]!=m.value[0]?!1:k.next().done;}catch(r){return!1;}}())return d;g();t();b.prototype.add=function(a){this.um.set(a,a);this.size=this.um.size;return this;};b.prototype["delete"]=function(a){a=this.um["delete"](a);this.size=this.um.size;return a;};b.prototype.clear=function(){this.um.clear();this.size=0;};b.prototype.has=function(a){return this.um.has(a);};b.prototype.entries=function(){return this.um.entries();};b.prototype.values=function(){return this.um.values();};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var k;k=this;this.um.forEach(function(c){return a.call(b,c,c,k);});};return b;});fa("Array.prototype.find",function(d){return d?d:function(b,a){return sa(this,b,a).x3;};});fa("Array.prototype.entries",function(d){return d?d:function(){return ia(this,function(b,a){return[b,a];});};});fa("Array.prototype.values",function(d){return d?d:function(){return ia(this,function(b,a){return a;});};});fa("WeakSet",function(d){function b(a){this.um=new WeakMap();if(a){g();t();a=R(a);for(var b;!(b=a.next()).done;)this.add(b.value);}}if(function(){var a,b,k;if(!d||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});k=new d([a]);if(!k.has(a)||k.has(b))return!1;k["delete"](a);k.add(b);return!k.has(a)&&k.has(b);}catch(m){return!1;}}())return d;b.prototype.add=function(a){this.um.set(a,!0);return this;};b.prototype.has=function(a){return this.um.has(a);};b.prototype["delete"]=function(a){return this.um["delete"](a);};return b;});fa("String.prototype.repeat",function(d){return d?d:function(b){var a;a=pa(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;)if(b&1&&(c+=a),b>>>=1)a+=a;return c;};});fa("String.prototype.endsWith",function(d){return d?d:function(b,a){var c;c=pa(this,b,"endsWith");b+="";void 0===a&&(a=c.length);a=Math.max(0,Math.min(a|0,c.length));for(var k=b.length;0<k&&0<a;)if(c[--a]!=b[--k])return!1;return 0>=k;};});fa("Array.prototype.findIndex",function(d){return d?d:function(b,a){return sa(this,b,a).Qj;};});fa("String.prototype.startsWith",function(d){return d?d:function(b,a){var c,k,m;c=pa(this,b,"startsWith");b+="";k=c.length;m=b.length;a=Math.max(0,Math.min(a|0,c.length));for(var r=0;r<m&&a<k;)if(c[a++]!=b[r++])return!1;return r>=m;};});fa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});fa("Array.prototype.fill",function(d){return d?d:function(b,a,c){var k;k=this.length||0;0>a&&(a=Math.max(0,k+a));if(null==c||c>k)c=k;c=Number(c);0>c&&(c=Math.max(0,k+c));for(a=Number(a||0);a<c;a++)this[a]=b;return this;};});(function(d){var a;function b(c){var k;if(a[c])return a[c].P;k=a[c]={Qj:c,Stb:!1,P:{}};d[c].call(k.P,k,k.P,b);k.Stb=!0;return k.P;}a={};b.OWb=d;b.gUb=a;b.d=function(a,k,m){b.kyb(a,k)||Object.defineProperty(a,k,{configurable:!1,enumerable:!0,get:m});};b.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};b.n=function(a){var k;k=a&&a.zza?function(){return a["default"];}:function(){return a;};b.d(k,"a",k);return k;};b.kyb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};b.p="";return b(b.tYb=1188);}([function(d,b,a){function c(){c=Object.assign||function(a){for(var b,f=1,k=arguments.length;f<k;f++){b=arguments[f];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);}return a;};return c.apply(this,arguments);}function k(a,b){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);};return k(a,b);}function m(a,b){function f(){this.constructor=a;}k(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());}function r(a,b){var f,k,c;f={};for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(f[k]=a[k]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){c=0;for(k=Object.getOwnPropertySymbols(a);c<k.length;c++)0>b.indexOf(k[c])&&Object.prototype.propertyIsEnumerable.call(a,k[c])&&(f[k[c]]=a[k[c]]);}return f;}function q(a,b,f,k){var c,l,n;c=arguments.length;l=3>c?b:null===k?k=Object.getOwnPropertyDescriptor(b,f):k;if("object"===typeof Reflect&&"function"===typeof Reflect.Gx)l=Reflect.Gx(a,b,f,k);else for(var h=a.length-1;0<=h;h--)if(n=a[h])l=(3>c?n(l):3<c?n(b,f,l):n(b,f))||l;return 3<c&&l&&Object.defineProperty(b,f,l),l;}function n(a,b){return function(f,k){b(f,k,a);};}function l(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.Cd)return Reflect.Cd(a,b);}function f(a,b,f,k){return new(f||(f=Promise))(function(c,l){function n(a){try{q(k.next(a));}catch(xa){l(xa);}}function h(a){try{q(k["throw"](a));}catch(xa){l(xa);}}function q(a){a.done?c(a.value):new f(function(b){b(a.value);}).then(n,h);}q((k=k.apply(a,b||[])).next());});}function h(a,b){var c,l,n,h,q;function f(a){return function(b){return k([a,b]);};}function k(f){if(l)throw new TypeError("Generator is already executing.");for(;c;)try{if(l=1,n&&(h=f[0]&2?n["return"]:f[0]?n["throw"]||((h=n["return"])&&h.call(n),0):n.next)&&!(h=h.call(n,f[1])).done)return h;if(n=0,h)f=[f[0]&2,h.value];switch(f[0]){case 0:case 1:h=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++;n=f[1];f=[0];continue;case 7:f=c.qC.pop();c.pD.pop();continue;default:if(!(h=c.pD,h=0<h.length&&h[h.length-1])&&(6===f[0]||2===f[0])){c=0;continue;}if(3===f[0]&&(!h||f[1]>h[0]&&f[1]<h[3]))c.label=f[1];else if(6===f[0]&&c.label<h[1])c.label=h[1],h=f;else if(h&&c.label<h[2])c.label=h[2],c.qC.push(f);else{h[2]&&c.qC.pop();c.pD.pop();continue;}}f=b.call(a,c);}catch(xa){f=[6,xa];n=0;}finally{l=h=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}c={label:0,Gs:function(){if(h[0]&1)throw h[1];return h[1];},pD:[],qC:[]};g();g();t();return q={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(q[Symbol.iterator]=function(){return this;}),q;}function x(a,b){for(var f in a)b.hasOwnProperty(f)||(b[f]=a[f]);}function F(a){var b,f;g();g();t();b="function"===typeof Symbol&&a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function I(a,b){var f,k,c,l;g();g();t();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);c=[];try{for(;(void 0===b||0<b--)&&!(k=a.next()).done;)c.push(k.value);}catch(na){l={error:na};}finally{try{k&&!k.done&&(f=a["return"])&&f.call(a);}finally{if(l)throw l.error;}}return c;}function E(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(I(arguments[b]));return a;}function J(){for(var a=0,b=0,f=arguments.length;b<f;b++)a+=arguments[b].length;for(var a=Array(a),k=0,b=0;b<f;b++)for(var c=arguments[b],l=0,h=c.length;l<h;l++,k++)a[k]=c[l];return a;}function K(a){return this instanceof K?(this.x3=a,this):new K(a);}function D(a,b,f){var q,m,r;function k(a){q[a]&&(m[a]=function(b){return new Promise(function(f,k){1<r.push([a,b,f,k])||c(a,b);});});}function c(a,b){var f;try{f=q[a](b);f.value instanceof K?Promise.resolve(f.value.x3).then(l,h):n(r[0][2],f);}catch(la){n(r[0][3],la);}}function l(a){c("next",a);}function h(a){c("throw",a);}function n(a,b){(a(b),r.shift(),r.length)&&c(r[0][0],r[0][1]);}g();if(!Symbol.zW)throw new TypeError("Symbol.asyncIterator is not defined.");q=f.apply(a,b||[]);r=[];g();return m={},k("next"),k("throw"),k("return"),m[Symbol.zW]=function(){return this;},m;}function T(a){var f,k;function b(b,c){f[b]=a[b]?function(f){return(k=!k)?{value:K(a[b](f)),done:"return"===b}:c?c(f):f;}:c;}g();t();return f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f;}function Q(a){var k,c;function b(b){c[b]=a[b]&&function(k){return new Promise(function(c,l){k=a[b](k);f(c,l,k.done,k.value);});};}function f(a,b,f,k){Promise.resolve(k).then(function(b){a({value:b,done:f});},b);}g();if(!Symbol.zW)throw new TypeError("Symbol.asyncIterator is not defined.");g();k=a[Symbol.zW];g();t();g();return k?k.call(a):(a="function"===typeof F?F(a):a[Symbol.iterator](),c={},b("next"),b("throw"),b("return"),c[Symbol.zW]=function(){return this;},c);}function V(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function p(a){var b;if(a&&a.zza)return a;b={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b["default"]=a;return b;}function A(a){return a&&a.zza?a:{"default":a};}a.r(b);a.d(b,"__extends",function(){return m;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return r;});a.d(b,"__decorate",function(){return q;});a.d(b,"__param",function(){return n;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return f;});a.d(b,"__generator",function(){return h;});a.d(b,"__exportStar",function(){return x;});a.d(b,"__values",function(){return F;});a.d(b,"__read",function(){return I;});a.d(b,"__spread",function(){return E;});a.d(b,"__spreadArrays",function(){return J;});a.d(b,"__await",function(){return K;});a.d(b,"__asyncGenerator",function(){return D;});a.d(b,"__asyncDelegator",function(){return T;});a.d(b,"__asyncValues",function(){return Q;});a.d(b,"__makeTemplateObject",function(){return V;});a.d(b,"__importStar",function(){return p;});a.d(b,"__importDefault",function(){return A;});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(38);b.IPb=d;d=a(1173);b.tS=d.tS;d=a(78);b.Ap=d.Ap;b.Mi=d.Mi;b.ut=d.ut;d=a(1157);b.Qpa=d.Qpa;b.Ec=d.Ec;d=a(1156);b.N=d.N;d=a(1155);b.bVa=d.bVa;d=a(1154);b.NOa=d.NOa;d=a(516);b.l=d.l;b.j6=d.j6;d=a(1153);b.optional=d.optional;d=a(1152);b.Xh=d.Xh;d=a(1151);b.lC=d.lC;d=a(1150);b.nR=d.nR;d=a(1149);b.UQa=d.UQa;d=a(518);b.T6=d.T6;d=a(101);b.id=d.id;d=a(89);b.Gx=d.Gx;d=a(513);b.UVa=d.UVa;b.cVa=d.cVa;b.OOa=d.OOa;b.bWa=d.bWa;d=a(141);b.PG=d.PG;a=a(1148);b.KOa=a.KOa;},function(d,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Dp=b.i5=b.lsa=b.h5=b.W_a=b.X_a=b.ksa=b.hsa=b.V_a=b.Kua=b.tT=b.fT=b.jsa=b.J=b.K=void 0;(function(a){a[a.$k=7001]="UNKNOWN";a[a.W4a=7002]="UNHANDLED_EXCEPTION";a[a.$0a=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.$sa=7010]="INIT_ASYNCCOMPONENT";a[a.qta=7011]="INIT_HTTP";a[a.W0a=7014]="INIT_BADMOVIEID";a[a.m1a=7016]="INIT_NETFLIXID_MISSING";a[a.l1a=7017]="INIT_NETFLIXID_INVALID";a[a.o1a=7018]="INIT_SECURENETFLIXID_MISSING";a[a.rta=7020]="INIT_PLAYBACK_LOCK";a[a.sta=7022]="INIT_SESSION_LOCK";a[a.n1a=7029]="INIT_POSTAUTHORIZE";a[a.sPb=7031]="INIT_HEADER_MEDIA";a[a.XOb=7032]="HEADER_MISSING";a[a.WOb=7033]="HEADER_FRAGMENTS_MISSING";a[a.p1a=7034]="INIT_TIMEDTEXT_TRACK";a[a.tPb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.uPb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.CXa=7037]="ASE_SESSION_ERROR";a[a.BXa=7038]="ASE_SEEK_THREW";a[a.DXa=7039]="ASE_SKIPPED_THREW";a[a.i1a=7041]="INIT_CORE_OBJECTS1";a[a.j1a=7042]="INIT_CORE_OBJECTS2";a[a.k1a=7043]="INIT_CORE_OBJECTS3";a[a.pPb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.jPb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.jta=7053]="INIT_COMPONENT_STORAGE";a[a.kta=7054]="INIT_COMPONENT_STORAGELOCK";a[a.kPb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.lPb=7056]="INIT_COMPONENT_NRDDPI";a[a.nPb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.fta=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.U5=7059]="INIT_COMPONENT_DEVICE";a[a.mPb=7062]="INIT_COMPONENT_NTBA";a[a.gta=7063]="INIT_COMPONENT_MSL";a[a.Y0a=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.eta=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.tw=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.oPb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.X0a=7069]="INIT_COMPONENT_ACCOUNT";a[a.b1a=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.d1a=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.e1a=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.f1a=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.g1a=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.a1a=7081]="INIT_COMPONENT_NRDP";a[a.c1a=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.pta=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.mta=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.rPb=7085]="INIT_CONGESTION_SERVICE";a[a.dta=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.lta=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.bta=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.ata=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.qPb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.TD=7091]="INIT_COMPONENT_DRM_CACHE";a[a.Z0a=7092]="INIT_COMPONENT_DRM";a[a.hta=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.cta=7094]="INIT_COMPONENT_FTL";a[a.ita=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.nta=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.h1a=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.ota=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.NXa=7112]="AUTHORIZE_UNKNOWN";a[a.P1a=7117]="MANIFEST_VERIFY";a[a.r4a=7120]="START";a[a.Ez=7121]="LICENSE";a[a.e4a=7122]="SECURESTOP";a[a.Kxa=7123]="STOP";a[a.MOb=7124]="FPSAPPDATA";a[a.g6=7125]="KEEPALIVE";a[a.INb=7126]="DEACTIVATE";a[a.xSb=7127]="SYNC_DEACTIVATE_LINKS";a[a.EMb=7130]="ACTIVATE";a[a.g3a=7131]="PING";a[a.kQb=7133]="NETFLIXID";a[a.P_a=7134]="ENGAGE";a[a.N1a=7135]="LOGIN";a[a.y4a=7136]="SWITCH_PROFILES";a[a.M1a=7137]="LOGBLOB";a[a.Q2a=7138]="PAUSE";a[a.V3a=7139]="RESUME";a[a.Hxa=7140]="SPLICE";a[a.VNb=7141]="DOWNLOAD_EVENT";a[a.hYa=7142]="BIND";a[a.P2a=7143]="PAIR";a[a.iYa=7144]="BIND_DEVICE";a[a.i0a=7145]="GENERATE_SCREENSHOTS";a[a.j3a=7202]="PLAY_INIT_EXCEPTION";a[a.HPb=7301]="MEDIA_DOWNLOAD";a[a.XQb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.YQb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.Lva=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.p3a=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.Mva=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.q3a=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.p7=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.ZQb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.Ova=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Nva=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Kva=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.q7=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.s7=7355]="PLAY_MSE_SOURCEADD";a[a.k3a=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.u3a=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.dRb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.WQb=7359]="PLAY_MSE_ADDKEY";a[a.gRb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.t3a=7361]="PLAY_MSE_EVENT_ERROR";a[a.r7=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.IT=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.s3a=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.v3a=7365]="PLAY_MSE_GETCURRENTTIME";a[a.w3a=7367]="PLAY_MSE_SETCURRENTTIME";a[a.x3a=7371]="PLAY_MSE_SOURCEAPPEND";a[a.eRb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.B3a=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.A3a=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.z3a=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.fRb=7379]="PLAY_MSE_SOURCE_EOS";a[a.y3a=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.cRb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.l3a=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.m3a=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.n3a=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.aRb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.r3a=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.$Qb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.bRb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.o3a=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Pva=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.S_a=7400]="EXTERNAL";a[a.HT=7500]="PAUSE_TIMEOUT";a[a.gT=7502]="INACTIVITY_TIMEOUT";a[a.MXa=7510]="AUTHORIZATION_EXPIRED";a[a.KNb=7520]="DECRYPT_AUDIO";a[a.Fxa=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.f4a=7601]="SECURE_STOP_KEY_ERROR";a[a.aSb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.LRb=7603]="SECURE_STOP_NCCP_ERROR";a[a.MRb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.$Rb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.QRb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.g4a=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.RRb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.SRb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.VRb=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.NRb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.TRb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.XRb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.URb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.PRb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.ZRb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.WRb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.ORb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.YRb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.J_a=7700]="EME_INVALID_KEYSYSTEM";a[a.Mra=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.Z4=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.Nra=7703]="EME_GENERATEREQUEST_FAILED";a[a.DS=7704]="EME_UPDATE_FAILED";a[a.eOb=7705]="EME_KEYSESSION_ERROR";a[a.K_a=7706]="EME_KEYMESSAGE_EMPTY";a[a.Rra=7707]="EME_REMOVE_FAILED";a[a.M_a=7708]="EME_LOAD_FAILED";a[a.G_a=7709]="EME_CREATE_SESSION_FAILED";a[a.CS=7710]="EME_LDL_RENEWAL_ERROR";a[a.Ora=7711]="EME_INVALID_INITDATA_DATA";a[a.Pra=7712]="EME_INVALID_LICENSE_DATA";a[a.L_a=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.gOb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Qra=7715]="EME_INVALID_SECURESTOP_DATA";a[a.F_a=7716]="EME_CLOSE_FAILED";a[a.h3a=7800]="PLAYDATA_STORE_FAILURE";a[a.VQb=7801]="PLAYDATA_SEND_FAILURE";a[a.vJ=7900]="BRANCH_PLAY_FAILURE";a[a.zD=7901]="BRANCH_QUEUE_FAILURE";a[a.Xpa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.pQb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.qQb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.W2a=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.o7=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.i3a=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=b.K||(b.K={})));(function(a){a[a.$k=1001]="UNKNOWN";a[a.ih=1003]="EXCEPTION";a[a.s1a=1004]="INVALID_DI";a[a.GXa=1011]="ASYNCLOAD_EXCEPTION";a[a.HXa=1013]="ASYNCLOAD_TIMEOUT";a[a.FMb=1015]="ASYNCLOAD_BADCONFIG";a[a.EXa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.FXa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.YJ=1101]="HTTP_UNKNOWN";a[a.P5=1102]="HTTP_XHR";a[a.VJ=1103]="HTTP_PROTOCOL";a[a.UJ=1104]="HTTP_OFFLINE";a[a.XJ=1105]="HTTP_TIMEOUT";a[a.Az=1106]="HTTP_READTIMEOUT";a[a.rw=1107]="HTTP_ABORT";a[a.L5=1108]="HTTP_PARSE";a[a.Ksa=1110]="HTTP_BAD_URL";a[a.WJ=1111]="HTTP_PROXY";a[a.vua=1203]="MSE_AUDIO";a[a.wua=1204]="MSE_VIDEO";a[a.d2a=1250]="MSE_MEDIA_ERR_BASE";a[a.MPb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.PPb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.NPb=1253]="MSE_MEDIA_ERR_DECODE";a[a.QPb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.OPb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.KD=1260]="EME_MEDIA_KEYERR_BASE";a[a.mOb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.hOb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.lOb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.kOb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.jOb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.iOb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.nOb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.I_a=1280]="EME_ERROR_NODRMSESSSION";a[a.H_a=1281]="EME_ERROR_NODRMREQUESTS";a[a.cOb=1282]="EME_ERROR_INDIV_FAILED";a[a.dOb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.O_a=1284]="EME_TIMEOUT_MESSAGE";a[a.N_a=1285]="EME_TIMEOUT_KEYCHANGE";a[a.b5=1286]="EME_UNDEFINED_DATA";a[a.LJ=1287]="EME_INVALID_STATE";a[a.fOb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.a5=1289]="EME_EMPTY_DATA";a[a.MJ=1290]="EME_TIMEOUT";a[a.eQb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.hQb=1305]="NCCP_PARSEXML";a[a.G3a=1309]="PROCESS_EXCEPTION";a[a.gQb=1311]="NCCP_NETFLIXID_MISSING";a[a.iQb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.bQb=1313]="NCCP_HMAC_MISSING";a[a.aQb=1315]="NCCP_HMAC_MISMATCH";a[a.$Pb=1317]="NCCP_HMAC_FAILED";a[a.ZPb=1321]="NCCP_CLIENTTIME_MISSING";a[a.YPb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Bsa=1331]="GENERIC";a[a.w2a=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.x2a=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.jQb=1341]="NCCP_TRANSACTION";a[a.cQb=1343]="NCCP_INVALID_DRMTYPE";a[a.dQb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.fQb=1345]="NCCP_MISSING_PAYLOAD";a[a.pRb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.oRb=1347]="PROTOCOL_MISSING_FIELD";a[a.nRb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.Hw=1402]="STORAGE_NODATA";a[a.gSb=1403]="STORAGE_EXCEPTION";a[a.oSb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.pSb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.Mxa=1411]="STORAGE_LOAD_ERROR";a[a.u4a=1412]="STORAGE_LOAD_TIMEOUT";a[a.Nxa=1414]="STORAGE_SAVE_ERROR";a[a.x4a=1415]="STORAGE_SAVE_TIMEOUT";a[a.x8=1417]="STORAGE_DELETE_ERROR";a[a.Lxa=1418]="STORAGE_DELETE_TIMEOUT";a[a.nSb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.kSb=1423]="STORAGE_FS_GETDIRECTORY";a[a.mSb=1425]="STORAGE_FS_READENTRIES";a[a.hSb=1427]="STORAGE_FS_FILEREAD";a[a.jSb=1429]="STORAGE_FS_FILEWRITE";a[a.iSb=1431]="STORAGE_FS_FILEREMOVE";a[a.lSb=1432]="STORAGE_FS_PARSEJSON";a[a.w4a=1451]="STORAGE_NO_LOCALSTORAGE";a[a.v4a=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.wQb=1501]="NTBA_UNKNOWN";a[a.vQb=1502]="NTBA_EXCEPTION";a[a.rQb=1504]="NTBA_CRYPTO_KEY";a[a.tQb=1506]="NTBA_CRYPTO_OPERATION";a[a.sQb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.uQb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.cra=1553]="DEVICE_NO_ESN";a[a.A4=1555]="DEVICE_ERROR_GETTING_ESN";a[a.$_a=1701]="FORMAT_UNKNOWN";a[a.qsa=1713]="FORMAT_XML";a[a.a0a=1715]="FORMAT_XML_CONTENT";a[a.Z_a=1721]="FORMAT_BASE64";a[a.HS=1723]="FORMAT_DFXP";a[a.I0a=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Ysa=1802]="INDEXDB_NOT_SUPPORTED";a[a.H0a=1803]="INDEXDB_OPEN_ERROR";a[a.Zsa=1804]="INDEXDB_OPEN_NULL";a[a.G0a=1805]="INDEXDB_OPEN_BLOCKED";a[a.J0a=1807]="INDEXDB_OPEN_TIMEOUT";a[a.F0a=1808]="INDEXDB_INVALID_STORE_STATE";a[a.hT=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.n2a=1901]="MSL_UNKNOWN";a[a.g2a=1911]="MSL_INIT_NO_MSL";a[a.yua=1913]="MSL_INIT_ERROR";a[a.h2a=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.e2a=1931]="MSL_ERROR";a[a.m2a=1933]="MSL_REQUEST_TIMEOUT";a[a.l2a=1934]="MSL_READ_TIMEOUT";a[a.f2a=1935]="MSL_ERROR_HEADER";a[a.RPb=1936]="MSL_ERROR_ENVELOPE";a[a.SPb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.xua=1957]="MSL_ERROR_REAUTH";a[a.l9=2103]="WEBCRYPTO_MISSING";a[a.e5a=2105]="WEBCRYPTOKEYS_MISSING";a[a.f5a=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.qNb=2200]="CACHEDDATA_PARSEJSON";a[a.mqa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.rNb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.nw=2203]="CACHEDDATA_INVALID_FORMAT";a[a.CMb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.DMb=3001]="ACCOUNT_INVALID";a[a.UNb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.TNb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.RNb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.SNb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.QNb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.qSb=3300]="STORAGE_VA_LOAD_ERROR";a[a.rSb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.uSb=3302]="STORAGE_VA_SAVE_ERROR";a[a.vSb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.sSb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.tSb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.l7=3077]="PBO_DEVICE_EOL_WARNING";a[a.Dva=3078]="PBO_DEVICE_EOL_FINAL";a[a.Gva=3100]="PBO_DEVICE_RESET";a[a.Fva=3101]="PBO_DEVICE_RELOAD";a[a.Eva=3102]="PBO_DEVICE_EXIT";a[a.c3a=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.R2a=5005]="PBO_ACCOUNT_ON_HOLD";a[a.V2a=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Hva=5007]="PBO_INCORRECT_PIN";a[a.a3a=5008]="PBO_MOBILE_ONLY";a[a.d3a=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.X2a=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.T2a=5059]="PBO_BLACKLISTED_IP";a[a.S2a=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.U2a=5080]="PBO_CHOICE_MAP_ERROR";a[a.b3a=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.Z2a=5091]="PBO_MALFORMED_REQUEST";a[a.Y2a=5092]="PBO_INVALID_SERVICE_VERSION";a[a.$2a=5093]="PBO_MDX_INVALID_CTICKET";a[a.xZa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.yZa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.o_a=5200]="DOWNLOADER_IO_ERROR";a[a.Wpa=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.mYa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.UMb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.Z3=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.jYa=5304]="BRANCHING_ASE_FAILURE";a[a.RMb=5305]="BRANCHING_MOMENT_FAILURE";a[a.kYa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.TMb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.nYa=5308]="BRANCHING_SEEK_THREW";a[a.SMb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.lYa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.oYa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.pYa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.wXa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.vXa=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";a[a.wSb=5500]="STUDIO_MUXED_MANIFEST";}(c=b.J||(b.J={})));(function(a){a[a.eNb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.VMb=5005]="BR_ACCOUNT_ON_HOLD";a[a.ZMb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.bNb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.YMb=5059]="BR_BLACKLISTED_IP";a[a.WMb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.cNb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.$Mb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.dNb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.aNb=2207]="BR_ENDPOINT_ERROR";a[a.XMb=2208]="BR_AUTHORIZATION_ERROR";}(b.jsa||(b.jsa={})));b.fT={wYa:"400",TSb:"401",Rva:"413"};b.tT={KOb:1,LSb:2,qOb:3,SSb:4,APb:5,pOb:6,c9:7,R_a:8,DRb:9,dSb:10};(function(a){a[a.TQb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.UQb=98]="PAIRING_UNKNOWN_ERROR";}(b.Kua||(b.Kua={})));b.V_a=function(a){return 7100<=a&&7200>a;};b.hsa=function(b){return b==a.HT||b==a.gT;};b.ksa=function(a){return 1100<=a&&1199>=a;};b.X_a=function(a){return 1300<=a&&1399>=a;};b.W_a=function(a){return 1900<=a&&1999>=a;};b.h5=function(a,b){return 1<=a&&9>=a?b+a:b;};b.lsa=function(a){return b.h5(a,c.d2a);};b.i5=function(a){return b.h5(a,c.KD);};b.Dp=function(a){var b,r,q;b={};r=a.errorExternalCode||a.se;q=a.errorDetails||a.sb;b.ErrorSubCode=a.errorSubCode||a.ga||c.$k;r&&(b.ErrorExternalCode=r);q&&(b.ErrorDetails=q);return b;};},function(d,b,a){var m;function c(a){return m.GK.apply(this,arguments)||this;}function k(a){return new m.Ep(a,b.ja);}Object.defineProperty(b,"__esModule",{value:!0});b.Dc=b.Tsa=b.V6=b.Sl=b.ja=b.Lz=b.timestamp=b.wrb=b.lP=b.eh=b.Gb=b.YQa=b.Awb=b.N4a=void 0;m=a(512);ba(c,m.GK);b.N4a=c;b.Awb=function(a){return new m.Ep(a,b.Lz);};b.YQa=function(a){return new m.Ep(a*b.Sl.sf,b.Lz);};b.Gb=k;b.eh=function(a){return new m.Ep(a,b.Sl);};b.lP=function(a){return new m.Ep(a,b.V6);};b.wrb=function(a){return new m.Ep(a,b.Tsa);};b.timestamp=function(a){return k(a);};b.Lz=new c(1,"\u03bcs");b.ja=new c(1E3,"ms",b.Lz);b.Sl=new c(1E3*b.ja.sf,"s",b.Lz);b.V6=new c(60*b.Sl.sf,"min",b.Lz);b.Tsa=new c(60*b.V6.sf,"hr",b.Lz);b.Dc=k(0);},function(d){d.P={pO:function(b){for(var a in b)b.hasOwnProperty(a)&&(this[a]=b[a]);},reset:function(){}};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);return b;}(Error);b.assert=function(a,b){if(!a)throw new k(b||"Assertion failed");};},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.$=b.Mwa=b.MN=b.zg=b.uh=b.log=b.kf=b.HG=b.vya=b.TDa=b.Op=b.EW=b.xc=b.kcb=b.xba=b.icb=b.jcb=b.Fh=b.PWa=b.Moa=b.Hg=void 0;c=a(519);d=a(7);k=a(31);m=a(97);r=a(98);q=a(44);n=a(22);l=a(114);b.Hg=c.bd.get(m.Lw);b.Moa=b.Hg.encode.bind(b.Hg);b.PWa=b.Hg.decode.bind(b.Hg);b.Fh=c.bd.get(r.lw);b.jcb=b.Fh.encode.bind(b.Fh);b.icb=b.Fh.decode.bind(b.Fh);b.xba=b.Fh.IN.bind(b.Fh);b.kcb=b.Fh.CVa.bind(b.Fh);b.xc=c.bd.get(q.qj);b.EW=function(a){a=n.Ie(a)?b.PWa(a):a;return b.xc.encode(a);};b.Op=b.xc.decode.bind(b.xc);b.TDa=function(a){return b.Moa(b.Op(a));};b.vya=a(562);b.HG=function(){return c.bd.get(k.GD);};b.kf=c.bd.get(d.Db);b.log=b.kf.ub("General");b.uh=function(a,c){return b.kf.ub(a,void 0,c);};b.zg=function(a,c,l){return b.kf.ub(c,a,l);};b.MN=function(a,c,l,n){return b.kf.ub(a,void 0,n,c,l);};b.Mwa=function(a,b,n){return c.bd.get(l.Sz)(a,b,n).goa();};b.$=c.bd;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JJ=b.Db=b.r6=b.$h=void 0;d=b.$h||(b.$h={});d[d.Y_a=0]="FATAL";d[d.ERROR=1]="ERROR";d[d.k9=2]="WARN";d[d.T5=3]="INFO";d[d.Eya=4]="TRACE";d[d.gb=5]="DEBUG";b.r6="LogFieldBuilderFactorySymbol";b.Db="LoggerFactorySymbol";b.JJ={};},function(d){var b;b={ma:function(a){return"number"===typeof a;},Ue:function(a){return"object"===typeof a;},Ie:function(a){return"string"===typeof a;},W:function(a){return"undefined"===typeof a;},Fsb:function(a){return"boolean"===typeof a;},Tb:function(a){return"function"===typeof a;},Oa:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},qzb:function(a){var c,k;k=[];if(!b.Ue(a))throw new TypeError("Object.pairs called on non-object");for(c in a)a.hasOwnProperty(c)&&k.push([c,a[c]]);return k;}};b.Td=b.forEach=function(a,c,k){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var m=0,r=a.length;m<r;m++)c.call(k,a[m],m,a);else for(m in a)b.has(a,m)&&c.call(k,a[m],m,a);return a;};d.P=b;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n8=b.ZD=b.mT=b.GYa=b.BYa=b.DYa=b.EYa=b.eqa=b.AYa=b.CYa=b.dqa=b.FYa=b.LYa=b.KYa=b.fqa=b.JYa=b.B_a=b.A_a=b.Gra=b.T1a=b.U1a=b.Zq=b.sua=b.tua=b.zw=b.Ira=b.C_a=b.V4=b.BS=b.K2a=b.n4a=b.oua=b.vYa=b.$qa=b.FT=b.Pz=b.ET=b.nua=b.ht=b.uYa=b.Vpa=b.H1a=b.a5a=b.S1a=b.R1a=b.d4a=b.c4a=b.tj=b.wd=b.qxa=b.Ye=void 0;b.Ye=function(){};b.qxa=function(){return!0;};b.wd={da:!0};b.tj=1E3;b.c4a=86400;b.d4a=604800;b.R1a=1E4;b.S1a=1E7;b.a5a=1.5;b.H1a=.128;b.Vpa=7.8125;b.uYa=128;b.ht=145152E5;b.nua=1E5;b.ET="$netflix$player$order";b.Pz=-1;b.FT=1;b.$qa=["en-US"];b.vYa=8;b.oua=65535;b.n4a=65536;b.K2a=Number.MAX_VALUE;b.BS="playready";b.V4="widevine";b.C_a="fps";b.Ira="clearkey";b.zw='audio/mp4; codecs="mp4a.40.5"';b.tua='audio/mp4; codecs="mp4a.40.42"';b.sua='audio/mp4; codecs="mp4a.a6"';b.Zq='video/mp4; codecs="avc1.640028"';b.U1a='video/mp4; codecs="hev1.2.6.L153.B0"';b.T1a='video/mp4; codecs="dvhe.01000000"';b.Gra="9A04F079-9840-4286-AB92-E65BE0885F95";b.A_a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.B_a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.JYa=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.fqa="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.KYa="4E657466-6C69-7846-7261-6D6552617465";b.LYa="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.FYa="mp4a";b.dqa="enca";b.CYa="ec-3";b.AYa="avc1";b.eqa="encv";b.EYa="hvcC";b.DYa="hev1";b.BYa="dvhe";b.GYa="vp09";b.mT=0;b.ZD=1;b.n8="position:relative;width:100%;height:100%;overflow:hidden";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uia=b.localStorage=b.bsb=b.indexedDB=b.yT=b.Ex=b.Ew=b.dE=b.eE=b.URL=b.BT=b.zT=b.Jua=b.oT=b.Iz=b.Jz=b.Um=b.Pl=b.Eh=b.I6=b.jt=b.sya=b.FD=b.g7=b.Qz=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.fu=b.z2a=b.ne=b.br=b.cr=b.AT=b.Ql=b.Qi=void 0;d="undefined"===typeof M?{}:M;b.Qi=d.navigator||{};b.Ql=b.Qi.userAgent;b.AT=d.location;b.cr=d.screen;b.br=d.performance;b.ne=d.document||{};b.z2a=b.ne.documentElement;b.fu=Array.prototype;b.sort=b.fu.sort;b.map=b.fu.map;b.slice=b.fu.slice;b.every=b.fu.every;b.reduce=b.fu.reduce;b.filter=b.fu.filter;b.forEach=b.fu.forEach;b.pop=b.fu.pop;b.Qz=Object.create;b.g7=Object.keys;b.FD=Date.now;b.sya=String.fromCharCode;b.jt=Math.floor;b.I6=Math.ceil;b.Eh=Math.round;b.Pl=Math.max;b.Um=Math.min;b.Jz=Math.random;b.Iz=Math.abs;b.oT=Math.pow;b.Jua=Math.sqrt;b.zT=d.escape;b.BT=d.unescape;b.URL=d.URL||d.webkitURL;b.eE=d.MediaSource||d.WebKitMediaSource;b.dE=d.WebKitMediaKeys||d.MSMediaKeys||d.MediaKeys;b.Ew=d.nfCrypto||d.webkitCrypto||d.msCrypto||d.crypto;b.Ex=b.Ew&&(b.Ew.webkitSubtle||b.Ew.subtle);b.yT=d.nfCryptokeys||d.webkitCryptokeys||d.msCryptokeys||d.cryptokeys;try{b.indexedDB=d.indexedDB;}catch(a){b.bsb=a||"noex";}try{b.localStorage=d.localStorage;}catch(a){b.uia=a||"noex";}},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.qK=b.Csa=b.wza=void 0;d=a(0);d.__exportStar(a(890),b);d.__exportStar(a(110),b);d.__exportStar(a(28),b);d.__exportStar(a(889),b);d.__exportStar(a(888),b);d.__exportStar(a(887),b);d=a(886);b.wza=d;d=a(885);b.Csa=d;a=a(417);b.qK=a;},function(d,b,a){var m,r,q,n,l,f,h,x,F,I,E,J,K,g,T,Q,V,p;function c(a){return(a=b.config.SJb[k(a)])?a:{};}function k(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";if(0<=a.indexOf("mini-modal-horizontal"))return"mini-modal-horizontal";if(0<=a.indexOf("standard"))return"standard";}}Object.defineProperty(b,"__esModule",{value:!0});b.Qeb=b.Reb=b.vca=b.wca=b.Peb=b.uFa=b.Oeb=b.vFa=b.uca=b.config=void 0;m=a(9);r=a(43);q=a(6);n=a(34);l=a(17);a(22);f=a(31);h=a(60);x=a(21);a(7);F=a(10);I=a(39);E=a(15);J=a(169);K=a(47);g=a(61);T=a(140);Q=a(49);V=a(3);p=a(32);b.vFa=function(a,c){var Wa,B,Ma,lb,gb,Zb,Ha,ib,P;function k(a,b){x.zd(a,function(a,f){E.Tb(f)?b[a]=f.call(void 0,b[a]):E.Ue(f)&&(b[a]=b[a]||{},k(f,b[a]));});}function d(a,b,f,c){for(var n=[],h=3;h<arguments.length;++h)n[h-3]=arguments[h];return function(c){E.$b(c)&&(f=c);l.lb(E.Tb(a));return a.apply(void 0,[].concat([b,f],ea(n)));};}function D(a){a=a.toLowerCase();lb.hasOwnProperty(a)&&(Ma[a]=lb[a],gb[a]=lb[a]);return a;}function S(a,b,f){var c;a=a.toLowerCase();if(Ma.hasOwnProperty(a)){c=Ma[a];try{c=f?f(c):c;}catch(Mc){c=void 0;}if(void 0!==c)return c;l.lb(!1);q.log.error("Invalid configuration value. Name: "+a);}return b;}function t(a,b,f,c){return S(a,b,function(a){E.Ie(a)&&(a=x.Md(a));if(E.YLa(a,f,c))return a;});}function A(a,b,f,c){return S(a,b,function(a){E.Ie(a)&&(a=x.Md(a));if(E.bv(a,f,c))return a;});}function Z(a,b,f,c){return S(a,b,function(a){E.Ie(a)&&(a=parseFloat(a));if(E.ma(a,f,c))return a;});}function u(a,b,f){return S(a,b,function(a){if(f?f.test(a):E.Ie(a))return a;});}function O(a,b){return S(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function xa(a,b){return S(a,b,function(a){if(E.Ie(a))return JSON.parse(F.BT(a));if(E.Ue(a))return a;});}function ga(a,b,f,c,l,n){var h;a=a.toLowerCase();Ma.hasOwnProperty(a)&&(h=Ma[a]);if(!E.$b(h))return b;if(E.Ie(h))if(h[0]!==f)h=c(h);else try{h=JSON.parse(F.BT(h));}catch(mb){h=void 0;}if(void 0===h)return b;for(a=0;a<l.length;a++)if(!l[a](h))return b;return n?n(h):h;}function ya(a,b,f,c,l){return ga(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=x.Md(a[b]);return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!E.bv(a[b],f,c))return!1;return!0;},function(a){return void 0===l||a.length>=l;}]);}function Da(a,b){return ga(a,b,"[",function(a){a=E.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(F.BT(a[b]));}catch(Mc){a=void 0;break;}return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!E.$b(a[b])||!E.Ue(a[b]))return!1;return!0;}]);}function la(a,b,f,c){return ga(a,b,"[",function(a){return E.isArray(a)?a:a.split("|");},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(f?!f.test(a[b]):!E.cv(a[b]))return!1;return!0;},function(a){return void 0===c||a.length>=c;}]);}function Fa(a,b,f){return ga(a,b,"{",function(a){var b,c,l;b={};a=a.split(";");for(var f=a.length;f--;){c=a[f];l=c.indexOf(":");if(0>=l)return;b[c.substring(0,l)]=c.substring(l+1);}return b;},[function(a){return E.Ue(a)&&0<Object.keys(a).length;},function(a){if(f)for(var b in a)if(!f.test(a[b]))return!1;return!0;}],function(a){var f;f={};x.xb(f,b);x.xb(f,a);return f;});}function db(a){var b;b=[];x.zd(a,function(a,f){var c;try{c="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(Eb){c="cantparse";}b.push(a+"="+c);});return b.join("\n");}Wa=/^[0-9]+[%]?$/;B=/^[0-9]*$/;gb={};Zb=q.$.get(n.Yk);Ha=q.$.get(T.lE);(function(b){function f(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(Ma[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}Ma={};x.xb(Ma,b);a&&a.length&&F.forEach.call(a,function(a){E.Ie(a)?f(a):E.Ue(a)&&x.xb(Ma,a,{pH:!0});});lb=x.xb({},r.hZ(),{pH:!0});if(b=r.FRa().cadmiumconfig)q.log.info("Config cookie loaded",b),f(b);if(q.$.get(p.Si).Fab||Ma.istestaccount)x.xb(Ma,lb),gb=lb;"clearkey"!=u("drmType")||Ma.keysystemid||(Ma.keysystemid=(M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}(c));b.config={};ib={Dkb:d(O,D("enableXHEAAC"),!1),Tda:d(O,D("enableDDPlus20"),!0),Sda:d(O,D("enableDDPlus"),!0),sN:d(O,D("enableDDPlusAtmos"),!1),qkb:d(O,D("enableLSSDH"),!0),lkb:d(O,D("enableHEVC"),!1),YPa:d(O,D("overrideEnableHEVC"),!1),Vda:d(O,D("enableHDR"),!1),XPa:d(O,D("overrideEnableHDR"),!1),WX:d(O,D("enableAVCHigh"),Ha.WX),DP:d(O,D("overrideEnableAVCHigh"),Ha.DP),Bkb:d(O,D("enableVP9"),!1),ZPa:d(O,D("overrideEnableVP9"),!1),gkb:d(O,D("enableAV1"),!1),WPa:d(O,D("overrideEnableAV1"),!1),vkb:d(O,D("enablePRK"),!1),mkb:d(O,D("enableHWDRM"),!1),okb:d(O,D("enableImageSubs"),!0),gM:d(la,D("audioProfiles"),Ha.gM),bVb:d(O,D("disableHD"),!1),B3:d(A,"videoCapabilityDetectorType",f.kk.uz),lba:d(A,"audioCapabilityDetectorType",f.kw.uz),MR:d(la,D("videoProfiles"),Ha.MR),a$a:d(la,D("timedTextProfiles"),Ha.Ps),Ps:function(){return ib.a$a().filter(function(a){return a===h.Zk.B4?ib.qkb():a===h.Zk.cE?ib.okb():!0;});},endpoint:d(O,D("endpoint"),!1),version:d(u,"version","unknown"),KTa:d(O,D("setMediaKeysEarly"),!1),EXb:d(O,D("nrdpPersistCookiesToIndexDB"),!1),MGa:d(O,D("doNotPerformLdlOnPlaybackCreate"),!1),NGa:d(O,D("doNotPerformLdlOnPlaybackStart"),!1),FWa:d(O,D("useHdcpLevelOnCast"),!1),nkb:d(O,D("enableHdcp"),!1),ip:d(O,D("prepareCadmium"),!1),B$a:d(O,D("acceptManifestOnPrepareItemParams"),!0),XQa:d(xa,"ppmconfig",{maxNumberTitlesScheduled:1}),GAb:d(O,D("playerPredictionModelV2"),!0),rG:d(O,D("enableLdlPrefetch"),!1),XX:d(O,D("enableGetHeadersAndMediaPrefetch"),!1),hN:d(O,D("deleteCachedManifestOnPlayback"),!1),jN:d(O,D("deleteOtherManifestCacheOnCreate"),!1),iN:d(O,D("deleteOtherLdlCacheOnCreate"),!1),Zzb:d(A,D("periodicPrepareLogsIntervalMilliseconds"),36E5),lBb:d(A,D("prepareManifestCacheMaxCount"),50),jBb:d(A,D("prepareLdlCacheMaxCount"),30),bRa:d(A,D("prepareManifestExpiryMilliseconds"),12E5),kBb:d(A,D("prepareLdlExpiryMilliseconds"),78E4),iBb:d(u,D("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),DZb:d(xa,"videoApp"),Uy:d(xa,"storageRules"),Hmb:d(O,"ftlEnabled",!0),dha:d(A,D("imageSubsResolution"),0),Prb:d(A,D("imageSubsMaxBuffer"),Ha.Vvb.ca(Q.Sq),0),FM:d(O,D("captureBatteryStatus"),!1),jnb:d(A,D("getBatteryApiTimeoutMilliseconds"),5E3),Wd:d(u,D("keySystemId"),Ha.Wd),GMa:d(la,D("keySystemList"),void 0,void 0),Ewb:d(A,D("hdcpGlobalTimeout1"),1E4),Fwb:d(A,D("hdcpGlobalTimeout2"),1E4),hXb:d(A,D("hdcpQueryTimeout1"),1E3),iXb:d(A,D("hdcpQueryTimeout2"),1E3),Gwb:d(A,D("hdcpQueryTimeout2"),100),Hwb:d(O,D("microsoftHwdrmRequiresHevc"),!1),Bwb:d(O,D("microsoftEnableDeviceInfo"),!1),Cwb:d(O,D("microsoftEnableHardwareInfo"),!1),Dwb:d(O,D("microsoftEnableHardwareReset"),!1),QKb:d(O,D("useHevcCodecForDolbyVision"),!1),cvb:d(O,"logMediaPipelineStatus",!1),iQ:d(O,D("renderDomDiagnostics"),!0),gNa:function(){return-1;},oH:d(t,D("logDisplayMaxEntryCount"),Ha.oH,-1),jvb:d(t,D("logToConsoleLevel"),-1),XTb:d(t,D("bladerunnerCmdHistorySize"),10),Pr:function(){return Zb.Pr;},GKb:d(O,"upgradeNetflixId",!0),Aia:d(O,"logErrorIfEsnNotProvided",!0),eea:d(O,"enforceSinglePlayback",Ha.eea),bY:d(O,"enforceSingleSession",Ha.bY),kca:d(O,"closeOtherPlaybacks",!0),ubb:d(A,"asyncLoadTimeout",15E3,1),rvb:d(A,"mainThreadMonitorPollRate",0),DXb:d(O,"nrdpAlwaysShowUIOverlay",!1),FXb:d(O,"nrdpValidateSSOTokens",!0),OYb:d(O,"showNrdpDebugBadging",!1),D3:function(){return Zb.D3;},dy:function(){return Zb.dy;},LF:function(){return Zb.LF;},qD:function(){return Zb.qD;},SWa:d(A,D("verbosePlaybackInfoDenominator"),0),N1:d(O,"renderTimedText",!0),XAb:d(O,"preBufferTimedText",!0),xlb:d(O,"fatalOnTimedTextLoadError",!0),tVa:d(Fa,"timedTextStyleDefaults",{}),coa:d(Fa,"timedTextStyleOverrides",{}),boa:d(Fa,"timedTextFontFamilyMapping",Ha.boa||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),uVa:d(A,D("timedTextTimeOverride"),0),YI:d(A,"timedTextSimpleFallbackThreshold",Ha.YI.ca(Q.Sq)),Yca:d(u,D("customDfxpUrl")),Akb:d(O,D("enableSubtitleTrackerLogging"),!1),uFb:d(O,D("sendSubtitleQoeLogblobOnMidplay"),!1),Tba:d(ya,"cdnIdWhiteList",[]),Sba:d(ya,"cdnIdBlackList",[]),Uea:d(u,D("forceAudioTrack")),pxb:d(O,"muteVolumeOnPlaybackClose",!0),GXb:d(u,"nrdpVolumeControlType","VOLUME_STREAM"),Wea:d(u,D("forceTimedTextTrack")),$vb:d(A,D("maxRetriesTimedTextDownload"),0),VIb:d(A,D("timedTextRetryInterval"),8E3),JHb:d(u,"storageType","idb",/^(none|fs|idb|ls)$/),cNa:d(A,"lockExpiration",1E4),$ub:d(A,"lockRefresh",3E3),vdb:d(O,"captureUnhandledExceptions",!0),Orb:d(O,"ignoreUnhandledExceptionDuringPlayback",!0),VJb:d(O,"unhandledExceptionsArePlaybackErrors",!1),gWa:d(u,"unhandledExceptionSource",""),wBb:d(O,"preserveLastFrame",!1),Rwb:d(A,"minBufferingTimeInMilliseconds",4E3),OBb:d(A,"progressBackwardsGraceTimeMilliseconds",4E3),PBb:d(A,"progressBackwardsMinPercent",10),vcb:d(u,D("bookmarkIgnoreBeginning"),"0",Wa),wcb:d(u,D("bookmarkIgnoreEnd"),"5%",Wa),xcb:d(u,D("bookmarkIgnoreEndForBranching"),"60000",Wa),sH:d(A,"maxParallelConnections",3),Tla:d(O,"reportThroughputInLogblobs",!0),yH:d(A,"minAudioMediaRequestDuration",16E3),Pwb:d(A,"minAudioMediaRequestDurationBranching",0),DH:d(A,"minVideoMediaRequestDuration",4E3),Uwb:d(A,"minVideoMediaRequestDurationAL1",0),Vwb:d(A,"minVideoMediaRequestDurationBranching",0),o0:d(A,"minAudioMediaRequestSizeBytes",0),v0:d(A,"minVideoMediaRequestSizeBytes",0),Qjb:d(O,"droppedFrameRateFilterEnabled",!1),Rjb:d(A,"droppedFrameRateFilterMaxObservation",60,10,1E3),Tjb:d(function(a,b,f,c,l,h){return ga(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;)a[b][f]=x.Md(a[b][f]);}return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!E.isArray(a[b]))return!1;for(var l=a[b].length;l--;)if(!E.bv(a[b][l],f,c))return!1;}return!0;},function(a){if(void 0!==l)for(var b=a.length;b--;)if(l!==a[b].length)return!1;return!0;},function(a){return void 0===h||a.length>=h;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),jVb:d(O,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Sjb:d(A,"droppedFrameRateFilterMinHeight",384),Ujb:d(ya,"droppedFramesPercentilesList",[]),Iwb:d(O,"microsoftScreenSizeFilterEnabled",!1),Ltb:d(O,"keyStatusFilterEnabled",!1),RJb:d(O,"uiLabelFilterEnabled",!0),QJb:d(xa,"uiLabelFilter",{}),Bib:d(A,D("defaultVolume"),100,0,100),HGa:d(O,"disableVideoRightClickMenu",!1),q0:d(A,"minDecoderBufferMilliseconds",1E3,0,m.ht),rC:d(A,"optimalDecoderBufferMilliseconds",5E3,0,m.ht),PPa:d(A,"optimalDecoderBufferMillisecondsBranching",3E3,0,m.ht),w0:d(A,"minimumTimeBeforeBranchDecision",3E3,0,m.ht),sy:d(A,"maxDecoderBufferMilliseconds",Ha.sy.ca(V.ja),0,m.ht),iGa:d(A,"decoderTimeoutMilliseconds",1E4,1),pjb:d(O,"disgardMediaOnAppend",!1),Pab:d(O,"appendMediaBeforeInit",!1),Lzb:d(A,"pauseTimeoutLimitMilliseconds",18E5),gha:d(A,"inactivityMonitorInterval",3E4,0),z$a:d(ya,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),sG:d(O,"enableTrickPlay",!1),uab:d(ya,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),EJb:d(A,"trickPlayHighResolutionBitrateThreshold",1E3),FJb:d(A,"trickPlayHighResolutionThresholdMilliseconds",1E4),IJb:d(Z,"trickplayBufferFactor",.5),DJb:d(A,"trickPlayDownloadRetryCount",1),Wia:d(u,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Qja:d(u,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Ssa:d(xa,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),TNa:d(t,"maxIQRSamples",Infinity),sOa:d(t,"minIQRSamples",5),KWa:d(O,"useResourceTimingAPI",!1),Mrb:d(O,"ignoreFirstByte",!0),rwb:d(O,"mediaRequestAsyncLoadStart",!0),YKb:d(O,"useXHROnLoadStart",!1),wea:d(ya,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),aX:d(A,"connectTimeoutMilliseconds",8E3,500),Vja:d(A,"noProgressTimeoutMilliseconds",8E3,500),TKb:d(O,"useOnLineApi",!1),sVa:d(A,"timedTextDownloadRetryCountBeforeCdnSwitch",3),xXb:d(A,"netflixRequestExpiryTimeout",0),MLb:d(O,"webkitDecodedFrameCountIncorrectlyReported",!1),YEb:d(A,"seekBackOnAudioTrackChangeMilliseconds",8E3),Jzb:d(O,"pausePlaybackOnAudioSwitch",!0),Kna:d(la,D("supportedAudioTrackTypes"),[],void 0,1),DLa:d(A,"initialLogFlushTimeout",5E3),OQa:d(u,"playdataPersistKey",Zb.Pr?"unsentplaydatatest":"unsentplaydata"),Nma:d(O,"sendPersistedPlaydata",!0),DAb:d(A,"playdataPersistIntervalMilliseconds",4E3),ZXb:d(A,"playdataSendDelayMilliseconds",1E4),q2:d(O,"sendPlaydataBackupOnInit",!0),fvb:d(la,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Kwb:d(O,"midplayEnabled",!0),nOa:d(A,"midplayIntervalMilliseconds",3E5),Lwb:d(ya,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),mN:d(A,"downloadReportDenominator",0),Bjb:d(A,"downloadReportInterval",3E5),fNa:d(A,"logConfigApplyDenominator",0),aEa:d(Fa,D("bookmarkByMovieId"),{}),FN:d(O,D("forceLimitedDurationLicense"),!1),ny:d(A,D("licenseRenewalRequestDelay"),0),Lka:d(A,D("persistedReleaseDelay"),1E4),IWb:d(O,D("limitedDurationFlagOverride"),void 0),Gi:d(O,D("secureStopEnabled"),!1),HYb:d(O,D("secureStopFromPersistedKeySession"),!1),gTa:d(A,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Bma:d(A,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),VEb:d(A,D("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),WEb:d(A,D("secureStopPersistedKeySessionRetries"),17,1),UEb:d(A,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),TSa:d(A,"safariPlayPauseWorkaroundDelay",100),VLb:d(A,"workaroundValueForSeekIssue",1200),ULb:d(O,"workaroundSaio",!0),Qba:d(O,D("callEndOfStream"),Ha.Qba),Xzb:d(O,"performRewindCheck",!0),zlb:d(O,"fatalOnUnexpectedSeeking",!0),ylb:d(O,"fatalOnUnexpectedSeeked",!0),xGb:d(O,D("setVideoElementSize")),oeb:d(O,D("clearVideoSrc"),!0),xGa:d(A,D("delayPlayPause"),0),wp:d(O,D("useTypescriptEme"),!1),pN:d(u,D("drmPersistKey"),"unsentDrmData"),qla:d(O,D("promiseBasedEme"),!1),udb:d(O,"captureKeyStatusData",!1),$G:d(O,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),eyb:d(O,D("nudgeSourceBuffer"),!1),Cma:d(t,D("seekDelta"),1),NP:d(O,D("preciseSeeking"),!1),$Ab:d(O,D("preciseSeekingOnTwoCoreDevice"),!1),wGa:d(Fa,D("delayErrorHandling")),KVa:d(O,"trackingLogEnabled",!1),LVa:d(function(a,b){var f;f=Fa(a,b,void 0);f&&Object.keys(f).forEach(function(a){var b;b=f[a];"true"===b?f[a]=!0:"false"===b&&(f[a]=!1);});return f;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),loa:d(u,"trackingLogPath","/customerevents/track/debug"),tJb:d(ya,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Jh:d(u,"esn",""),QHa:d(u,"fesn",""),xkb:d(O,D("enablePerformanceLogging"),!1),Uda:d(O,D("enableEmeVerboseLogging"),!1),rkb:d(O,"enableLastChunkLogging",!1),aM:d(u,"appId","",B),sessionId:d(u,"sessionId","",B),Vba:d(u,"cdnProxyUrl"),XKb:d(O,"usePlayReadyHeaderObject",!1),oIa:d(A,"forceXhrErrorResponseCode",void 0),Yp:{rXb:d(u,"mslApiPath","/msl/"),lVb:d(u,D("edgePath"),"/cbp/cadmium-29"),iYb:d(u,"proxyPath",""),zR:d(u,"uiVersion"),j3:d(u,"uiPlatform"),oUb:function(){return"0";},fla:d(la,"preferredLanguages",m.$qa,/^[a-zA-Z-]{2,5}$/,1),mmb:d(u,D("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),pIb:d(O,"supportPreviewContentPin",!0),qIb:d(O,"supportWatermarking",!0),YGb:d(O,"showAllSubDubTracks",!1),yVb:d(O,D("failOnGuidMismatch"),!1)},z1:{enabled:d(O,"qcEnabled",!1),Ik:d(u,"qcPackageId","")},Nq:d(O,"useRangeHeader",!1),tN:d(O,"enableMilestoneEventList",!1),kM:d(u,"authenticationType",Zb.Pr?Ha.Nbb:Ha.kM),NDa:d(Fa,"authenticationKeyNames",x.xb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),zIb:d(u,"systemKeyWrapFormat"),Vrb:d(O,"includeNetflixIdUserAuthData",!0),TGb:d(O,"shouldSendUserAuthData",!0),Qma:d(O,"sendUserAuthIfRequired",Ha.Qma),OGb:d(O,"shouldClearUserData",!1),kxb:d(O,"mslDeleteStore",!1),mxb:d(O,"mslPersistStore",!0),kfb:d(O,"correctNetworkForShortTitles",!0),VAb:d(O,"postplayHighInitBitrate",!1),imb:d(O,"flushHeaderCacheOnAudioTrackChange",!0),tIb:d(O,"supportsUnequalizedDownloadables",!0),eGa:d(A,D("debugAseDenominator"),100),vW:d(A,"aseAudioBufferSizeBytes",Ha.vW.ca(Q.Sq)),xW:d(A,"aseVideoBufferSizeBytes",Ha.xW.ca(Q.Sq)),qs:d(A,"minInitVideoBitrate",560),Bja:d(A,"minHCInitVideoBitrate",560),pv:d(A,"maxInitVideoBitrate",Infinity),jP:d(A,"minInitAudioBitrate",0),iP:d(A,"minHCInitAudioBitrate",0),WO:d(A,"maxInitAudioBitrate",65535),n0:d(A,"minAcceptableVideoBitrate",235),kP:d(A,"minRequiredBuffer",3E4),kg:d(A,"minPrebufSize",7800),Aja:d(A,"minCheckBufferingCompleteInterval",25),uN:d(O,"enableNewBufferingComplete",!1),Fla:d(Z,"rebufferingFactor",1),bp:d(A,"maxBufferingTime",2600),Joa:d(O,"useMaxPrebufSize",!0),uy:d(A,"maxPrebufSize",45E3),fja:d(A,"maxRebufSize",Infinity),a_:d(Da,"initialBitrateSelectionCurve",null),zLa:d(A,"initSelectionLowerBound",560),ALa:d(A,"initSelectionUpperBound",1050),a3:d(A,"throughputPercentForAudio",15),uba:d(A,"bandwidthMargin",10),vba:d(O,"bandwidthMarginContinuous",!1),wba:d(Da,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),yca:d(A,"conservBandwidthMargin",20),Ona:d(O,"switchConfigBasedOnInSessionTput",!1),NM:d(A,"conservBandwidthMarginTputThreshold",0),zca:d(Da,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),ZUa:d(O,"switchAlgoBasedOnHistIQR",!1),az:d(u,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),eja:d(t,"maxPlayerStateToSwitchConfig",-1),Iia:d(u,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),V5:d(Z,"IQRThreshold",.5),Wga:d(u,"histIQRCalcToUse","simple"),sv:d(A,"maxTotalBufferLevelPerSession",0),gLa:d(A,"highWatermarkLevel",3E4),BVa:d(A,"toStableThreshold",3E4),e3:d(A,"toUnstableThreshold",Ha.e3.ca(V.ja)),tna:d(O,"skipBitrateInUpswitch",!0),Soa:d(A,"watermarkLevelForSkipStart",8E3),Pga:d(A,"highStreamRetentionWindow",9E4),Jia:d(A,"lowStreamTransitionWindow",51E4),Rga:d(A,"highStreamRetentionWindowUp",3E5),Lia:d(A,"lowStreamTransitionWindowUp",3E5),Qga:d(A,"highStreamRetentionWindowDown",6E5),Kia:d(A,"lowStreamTransitionWindowDown",0),Oga:d(Z,"highStreamInfeasibleBitrateFactor",.5),mv:d(A,"lowestBufForUpswitch",15E3),S_:d(A,"lockPeriodAfterDownswitch",15E3),Nia:d(A,"lowWatermarkLevel",25E3),nv:d(A,"lowestWaterMarkLevel",2E4),Oia:d(O,"lowestWaterMarkLevelBufferRelaxed",!1),rja:d(Z,"mediaRate",1),e0:d(A,"maxTrailingBufferLen",1E4),fM:d(A,"audioBufferTargetAvailableSize",262144),KR:d(A,"videoBufferTargetAvailableSize",1048576),bOa:d(A,"maxVideoTrailingBufferSize",8388608),NNa:d(A,"maxAudioTrailingBufferSize",393216),lY:d(Z,"fastUpswitchFactor",3),yea:d(Z,"fastDownswitchFactor",1),qv:d(A,"maxMediaBufferAllowed",24E4),ls:d(A,"maxVideoBufferAllowedInBytes",0),pna:d(O,"simulatePartialBlocks",!0),eUa:d(O,"simulateBufferFull",!0),Aca:d(O,"considerConnectTime",!1),xca:d(Z,"connectTimeMultiplier",1),oNa:d(A,"lowGradeModeEnterThreshold",12E4),pNa:d(A,"lowGradeModeExitThreshold",9E4),QNa:d(A,"maxDomainFailureWaitDuration",3E4),MNa:d(A,"maxAttemptsOnFailure",18),GHa:d(O,"exhaustAllLocationsForFailure",!0),WNa:d(A,"maxNetworkErrorsDuringBuffering",20),Zia:d(A,"maxBufferingTimeAllowedWithNetworkError",6E4),OHa:d(A,"fastDomainSelectionBwThreshold",2E3),lVa:d(A,"throughputProbingEnterThreshold",4E4),mVa:d(A,"throughputProbingExitThreshold",34E3),bNa:d(A,"locationProbingTimeout",1E4),SHa:d(A,"finalLocationSelectionBwThreshold",1E4),jVa:d(Z,"throughputHighConfidenceLevel",.75),kVa:d(Z,"throughputLowConfidenceLevel",.4),oHa:d(O,"enablePerfBasedLocationSwitch",!1),Bq:d(O,"probeServerWhenError",!0),lla:d(A,"probeRequestTimeoutMilliseconds",8E3),du:d(O,"allowSwitchback",!0),EC:d(A,"probeDetailDenominator",100),$_:d(A,"maxDelayToReportFailure",300),xia:d(A,"locationStatisticsUpdateInterval",6E4),HFa:d(O,"countGapInBuffer",!1),$Ca:d(O,"allowCallToStreamSelector",!0),gEa:d(A,"bufferThresholdForAbort",1E4),Nka:d(A,"pipelineScheduleTimeoutMs",2),rv:d(A,"maxPartialBuffersAtBufferingStart",2),Cja:d(A,"minPendingBufferLen",6E3),ty:d(A,"maxPendingBufferLen",12E3),Yvb:d(A,"maxPendingBufferLenAL1",3E4),gja:d(A,"maxStreamingSkew",4E3),dja:d(A,"maxPendingBufferPercentage",10),dC:d(A,"maxRequestsInBuffer",60),YNa:d(A,"maxRequestsInBufferAL1",240),ZNa:d(A,"maxRequestsInBufferBranching",120),LZ:d(A,"headerRequestSize",4096),hP:d(A,"minBufferLenForHeaderDownloading",1E4),V1:d(A,"reserveForSkipbackBufferMs",1E4),gka:d(A,"numExtraFragmentsAllowed",2),fp:d(O,"pipelineEnabled",!1),lUa:d(A,"socketReceiveBufferSize",0),DW:d(A,"audioSocketReceiveBufferSize",32768),jJ:d(A,"videoSocketReceiveBufferSize",65536),Mga:d(A,"headersSocketReceiveBufferSize",32768),q3:d(A,"updatePtsIntervalMs",1E3),Eba:d(A,"bufferTraceDenominator",100),TA:d(A,"bufferLevelNotifyIntervalMs",2E3),dM:d(A,"aseReportDenominator",0),hba:d(A,"aseReportIntervalMs",3E5),hHa:d(O,"enableAbortTesting",!1),ACa:d(A,"abortRequestFrequency",8),Gna:d(A,"streamingStatusIntervalMs",2E3),zq:d(A,"prebufferTimeLimit",24E4),p0:d(A,"minBufferLevelForTrackSwitch",2E3),Gka:d(A,"penaltyFactorForLongConnectTime",2),Gia:d(A,"longConnectTimeThreshold",200),Naa:d(A,"additionalBufferingLongConnectTime",2E3),Oaa:d(A,"additionalBufferingPerFailure",8E3),eQ:d(A,"rebufferCheckDuration",6E4),mHa:d(O,"enableLookaheadHints",!1),kNa:d(A,"lookaheadFragments",2),qB:d(O,"enableOCSideChannel",!0),DT:d(xa,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),pWa:d(O,"updateDrmRequestOnNetworkFailure",!1),vGa:d(O,"deferAseScheduling",!1),PNa:d(A,"maxDiffAudioVideoEndPtsMs",16E3),eJ:d(O,"useHeaderCache",!0),yX:d(A,"defaultHeaderCacheSize",4),lda:d(A,"defaultHeaderCacheDataPrefetchMs",8E3),Iga:d(A,"headerCacheMaxPendingData",6),Rja:d(O,"neverWipeHeaderCache",!0),Jga:d(A,"headerCachePriorityLimit",5),wN:d(O,"enableUsingHeaderCount",!1),bLa:d(O,"headerCacheTruncateHeaderAfterParsing",!0),hmb:d(O,D("flushHeaderCacheBeforePlayback"),!1),Pja:d(A,"networkFailureResetWaitMs",2E3),Oja:d(A,"networkFailureAbandonMs",6E4),d0:d(A,"maxThrottledNetworkFailures",3),Z2:d(A,"throttledNetworkFailureThresholdMs",200),Mia:d(t,"lowThroughputThreshold",400),pea:d(O,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),FOa:d(O,"mp4ParsingInNative",!1),mUa:d(O,"sourceBufferInOrderAppend",!0),Es:d(O,"requireAudioStreamToEncompassVideo",!0),ZCa:d(O,"allowAudioToStreamPastVideo",!0),Ug:d(O,"enableManagerDebugTraces",!1),CNa:d(A,"managerDebugMessageInterval",1E3),BNa:d(A,"managerDebugMessageCount",20),nPa:d(O,"notifyManifestCacheEom",!1),Dba:d(A,"bufferThresholdToSwitchToSingleConnMs",18E4),Cba:d(A,"bufferThresholdToSwitchToParallelConnMs",12E4),i1:d(A,"periodicHistoryPersistMs",3E5),f2:d(A,"saveVideoBitrateMs",18E4),nDa:d(O,"appendMediaRequestOnComplete",!0),mJ:d(O,"waitForDrmToAppendMedia",!1),xY:d(O,D("forceAppendHeadersAfterDrm"),!1),mI:d(O,D("reappendRequestsOnSkip"),!0),txb:d(A,"netIntrStoreWindow",36E3),Swb:d(A,"minNetIntrDuration",8E3),tlb:d(A,"fastHistoricBandwidthExpirationTime",10368E3),acb:d(A,"bandwidthExpirationTime",5184E3),qlb:d(A,"failureExpirationTime",86400),trb:d(A,"historyTimeOfDayGranularity",4),elb:d(O,"expandDownloadTime",!1),cxb:d(A,"minimumMeasurementTime",500),bxb:d(A,"minimumMeasurementBytes",131072),MIb:d(A,"throughputMeasurementTimeout",2E3),ksb:d(A,"initThroughputMeasureDataSize",262144),NIb:d(u,"throughputPredictor","ewma"),LIb:d(A,"throughputMeasureWindow",5E3),PIb:d(A,"throughputWarmupTime",5E3),KIb:d(A,"throughputIQRMeasureWindow",5E3),D1a:d(A,"IQRBucketizerWindow",15E3),Teb:d(A,"connectTimeHalflife",10),jEb:d(A,"responseTimeHalflife",10),srb:d(A,"historicBandwidthUpdateInterval",2E3),$wb:d(A,"minimumBufferToStopProbing",1E4),zma:d(u,"secondThroughputEstimator","none"),dTa:d(t,"secondThroughputMeasureWindowInMs",Infinity),kkb:d(la,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),Ilb:d(xa,"filterDefinitionOverrides",{}),wib:d(u,"defaultFilter","throughput-ewma"),QEb:d(u,"secondaryFilter","none"),xib:d(xa,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),oP:d(O,"needMinimumNetworkConfidence",!0),Aba:d(O,"biasTowardHistoricalThroughput",!0),mW:d(O,"addHeaderDataToNetworkMonitor",!1),Ana:d(O,"startMonitorOnLoadStart",!1),Sla:d(O,"reportFailedRequestsToNetworkMonitor",!1),aja:d(t,"maxFastPlayBufferInMs",Infinity),$ia:d(t,"maxFastPlayBitThreshold",Infinity),Zaa:d(O,"appendFirstHeaderOnComplete",!0),ebb:d(u,"ase_stream_selector","optimized"),pha:d(u,"initBitrateSelectorAlgorithm","default"),Gba:d(u,"bufferingSelectorAlgorithm","default"),fGa:d(u,"ase_ls_failure_simulation",""),bda:d(O,"ase_dump_fragments",!1),dda:d(A,"ase_location_history",0),eda:d(A,"ase_throughput",0),hGa:d(O,"ase_simulate_verbose",!1),QAb:d(A,"pollingPeriod",150),Sub:d(A,"loadTimeMs",18E4),Jvb:d(A,"marginTimeMs",1E4),ez:d(O,"useMediaCache",!1),Ix:d(A,"diskCacheSizeLimit",52428800),i0:d(A,"mediaCachePrefetchMs",8E3),lja:d(Fa,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),xfa:d(O,"getDeviceIdFromBindDevice",!1),Gaa:d(O,"addFailedLogBlobsToQueue",!0),SJb:{"content-sampling":{bp:d(A,"contentSamplingMaxBufferingTime",3E3),xI:d(u,"contentSamplingSelectStartingVMAFMethod","fallback"),VL:d(O,"contentSamplingActivateSelectStartingVMAF",!0),CH:d(A,"contentSamplingMinStartingVideoVMAF",80),gP:d(A,"contentSamplingMinAcceptableVMAF",70),iC:d(A,"contentSamplingMinAllowedVmaf",60)},billboard:{qs:d(A,"billboardMinInitVideoBitrate",1050),pv:d(A,"billboardMaxInitVideoBitrate",null),kg:d(A,"billboardMinPrebufSize",null),uy:d(A,"billboardMaxPrebufSize",null),bp:d(A,"billboardMaxBufferingTime",null),rv:d(A,"billboardMaxPartialBuffersAtBufferingStart",null),nv:d(A,"billboardLowestWaterMarkLevel",6E3),mv:d(A,"billboardLowestBufForUpswitch",25E3),az:d(u,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),uD:d(O,"billboardUseNewApi",null)},preplay:{qs:d(A,"preplayMinInitVideoBitrate",1050),pv:d(A,"preplayMaxInitVideoBitrate",null),kg:d(A,"preplayMinPrebufSize",null),uy:d(A,"preplayMaxPrebufSize",null),bp:d(A,"preplayMaxBufferingTime",null),rv:d(A,"preplayMaxPartialBuffersAtBufferingStart",null),nv:d(A,"preplayLowestWaterMarkLevel",6E3),mv:d(A,"preplayLowestBufForUpswitch",25E3)},embedded:{qs:d(A,"embeddedMinInitVideoBitrate",1050),pv:d(A,"embeddedMaxInitVideoBitrate",null),kg:d(A,"embeddedMinPrebufSize",null),uy:d(A,"embeddedMaxPrebufSize",null),bp:d(A,"embeddedMaxBufferingTime",null),rv:d(A,"embeddedMaxPartialBuffersAtBufferingStart",null),nv:d(A,"embeddedLowestWaterMarkLevel",6E3),mv:d(A,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{qs:d(A,"videoMerchBobHorizontalMinInitVideoBitrate",null),pv:d(A,"videoMerchBobHorizontalMaxInitVideoBitrate",null),kg:d(A,"videoMerchBobHorizontalMinPrebufSize",null),uy:d(A,"videoMerchBobHorizontalMaxPrebufSize",null),bp:d(A,"videoMerchBobHorizontalMaxBufferingTime",null),rv:d(A,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),nv:d(A,"videoMerchBobHorizontalLowestWaterMarkLevel",null),mv:d(A,"videoMerchBobHorizontalLowestBufForUpswitch",null),uD:d(O,"videoMerchBobHorizontalUseNewApi",null)},"mini-modal-horizontal":{qs:d(A,"miniModalHorizontalMinInitVideoBitrate",null),pv:d(A,"miniModalHorizontalMaxInitVideoBitrate",null),kg:d(A,"miniModalHorizontalMinPrebufSize",null),uy:d(A,"miniModalHorizontalMaxPrebufSize",null),bp:d(A,"miniModalHorizontalMaxBufferingTime",500),rv:d(A,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),nv:d(A,"miniModalHorizontalLowestWaterMarkLevel",null),mv:d(A,"miniModalHorizontalLowestBufForUpswitch",null)},standard:{uD:d(O,"standardUseNewApi",null)}},Ckb:d(O,"enableVerbosePlaydelayLogging",!1),zkb:d(O,"enableSeamless",!1),Vga:d(A,"hindsightDenominator",0),Uga:d(A,"hindsightDebugDenominator",0),OZ:d(xa,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),vN:d(O,"enableSessionHistoryReport",!1),Rda:d(A,"earlyStageEstimatePeriod",1E4),OMa:d(A,"lateStageEstimatePeriod",3E4),a0:d(A,"maxNumSessionHistoryStored",30),t0:d(A,"minSessionHistoryDuration",3E4),js:d(A,"maxActiveRequestsPerSession",3),Y_:d(A,"maxActiveRequestsSABCell100",2),b0:d(A,"maxPendingBufferLenSABCell100",500),ria:d(O,"limitAudioDiscountByMaxAudioBitrate",!0),Cj:d(xa,"browserInfo",{}),Rcb:d(A,D("busyGracePeriod"),199),vFb:d(O,D("sendTransitionLogblob"),!0),nG:d(O,D("editVideoFragments"),!0),TX:d(O,D("earlyAppendSingleChildBranch"),!0),Wrb:d(O,D("includeSegmentInfoOnLogblobs"),!0),glb:d(O,"exposeTestData",!1),gda:d(O,"declareBufferingCompleteAtSegmentEnd",!0),NA:d(O,"applyProfileTimestampOffset",!1),yo:d(O,"applyProfileStreamingOffset",!1),Gab:d(O,D("allowSmallSeekDelta"),!1),hHb:d(A,D("smallSeekDeltaThresholdMilliseconds"),J.gU),hkb:d(O,"enableCDMAttestedDescriptors",!1),U1:d(O,"requireDownloadDataAtBuffering",!1),nQ:d(O,"requireSetupConnectionDuringBuffering",!1),Gla:d(O,"recordFirstFragmentOnSubBranchCreate",!1),Ecb:d(O,"branchingAudioTrackFrameDropSmallSeekFix",!0),mIa:d(O,"forceL3WidevineCdm",!1),SKb:d(O,"useMobileVMAF",!1),Vib:d(u,"desiredVMAFTypeMobile","phone_plus_lts"),Wib:d(u,"desiredVMAFTypeNonMobile","plus_lts"),VL:d(O,"activateSelectStartingVMAF",!1),CH:d(A,"minStartingVideoVMAF",1),gP:d(A,"minAcceptableVMAF",1),iC:d(A,"minAllowedVmaf",1),Vaa:d(O,"alwaysNotifyEOSForPlaygraph",!0),ZX:d(O,"enableNewAse",!1),uD:d(O,"useNewApi",!1),YX:d(O,"enableHudsonFieldTest",!1),hy:d(la,"hudsonTitles",["81127954","70125931","80158148"]),cja:d(A,"maxPartialBuffersAtHudson",1),NH:d(A,"numberOfChunksPerSegment",4),Y2:d(A,"targetContentLatency",1E4),Sna:d(A,"targetLongContentLatency",3E4),Eja:d(A,"minimumTimeDelay",1),$X:d(O,"enableWsslEstimate",!1),Z_:d(A,"maxAllowedOutstandingRequests",4),u0:d(A,"minStreamableConcurrencyWindow",0),U2:d(Z,"streamableConcurrencyFactor",.5),wM:d(A,"bufferingConcurrencyWindow",0),qna:d(O,"singleStreamablePerBranch",!1),njb:d(O,"disableSkipping",!1)};P=!0;b.uca=function(a){var f,c;if(0<b.config.fNa&&0===I.e6%b.config.fNa)try{f=q.$.get(K.fk);c=q.$.get(g.fo).An("config","info",{params:a});f.Ac(c);}catch(gf){q.log.error("Failed to log config$apply",gf);}M._cad_global.config=b.config;l.lb(a);a&&(Ma=x.xb({},a,{pH:!0}),x.xb(Ma,gb,{pH:!0}),k(ib,b.config),Ma.istestaccount&&q.log.trace("Config applied for",db(P?Ma:a)),P=!1);};b.uca(Ma);};b.Oeb=function(a,b){return E.Ie(a)&&"%"==a[a.length-1]?F.Eh(parseFloat(a)*b/100):a|0;};b.uFa=function(a){return a?(a=x.xb({},b.config),x.xb(a,{rC:b.config.PPa},{Av:!0})):b.config;};b.Peb=function(a){var f;f=x.xb({},b.config);return x.xb(f,c(a),{Av:!0});};b.wca=function(b){b=c(b);return x.xb({},a(155)(b),{Av:!0});};b.vca=function(f,c,l){l=!!l&&(0<=l.indexOf("h264hpl")||0<=l.indexOf("vp9"));f={yH:f?b.config.Pwb:b.config.yH,DH:f?b.config.Vwb:l?b.config.Uwb:b.config.DH,dC:f&&l?Math.max(b.config.ZNa,b.config.YNa):f?b.config.ZNa:l?b.config.YNa:b.config.dC,ty:l?b.config.Yvb:b.config.ty,TX:!c};return x.xb({},a(155)(f),{Av:!0});};b.Reb=c;b.Qeb=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Be=b.kb=b.Xe=b.ob=b.V=b.a6=b.Tz=b.zb=void 0;(function(a){a.Wub="loadedtracks";a.Vub="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.Ho="currenttimechanged";a.iEa="bufferedtimechanged";a.Vjb="durationchanged";a.yLb="videosizechanged";a.Mzb="pausedchanged";a.OAb="playingchanged";a.Kkb="endedchanged";a.Kba="busychanged";a.HDa="audiotracklistchanged";a.iM="audiotrackchanged";a.lD="timedtexttracklistchanged";a.ZI="timedtexttrackchanged";a.uR="trickplayframeschanged";a.qxb="mutedchanged";a.ELb="volumechanged";a.ZGb="showsubtitle";a.zDb="removesubtitle";a.LLb="watermark";a.Jha="isReadyToTransition";a.ZG="inactivated";a.fFb="segmentmaploaded";a.gFb="segmentpresenting";a.Qbb="autoplaywasallowed";a.Rbb="autoplaywasblocked";}(b.zb||(b.zb={})));(b.Tz||(b.Tz={})).yQ="playgraphsegmenttransition";b.a6=function(){function a(){}a.wTa="serverTimeChanged";return a;}();(function(a){a.BF="aseException";a.CF="aseReport";a.Obb="authorized";a.qba="autoplayWasAllowed";a.qk="autoplayWasBlocked";a.fcb="bandwidthMeterAggregateUpdate";a.lu="bufferUnderrun";a.closed="closed";a.Af="closing";a.Ho="currentTimeChanged";a.Kx="downloadComplete";a.ZG="inactivated";a.QMa="licenseAdded";a.MO="licensed";a.gs="locationSelected";a.qH="manifestClosing";a.Zo="manifestPresenting";a.RWb="manifestSelected";a.g0="mediaBufferChanged";a.Mja="needLicense";a.J0="nextSegmentChosen";a.Tn="playbackStart";a.Cm="repositioned";a.KC="repositioning";a.USa="safePlayRequested";a.ZEb="segmentAborted";a.k2="segmentPresenting";a.IYb="segmentComplete";a.aFb="segmentLastPts";a.eFb="segmentStarting";a.CI="serverSwitch";a.cUa="shouldUpdateVideoDiagInfo";a.mj="skipped";a.SI="subtitleError";a.Xna="throttledMediaTimeChanged";a.XI="timedTextRebuffer";a.lD="timedTextTrackListChanged";a.uR="trickPlayFramesChanged";a.wR="tryRecoverFromStall";a.up="updateNextSegmentWeights";a.dLb="userInitiatedPause";a.OWa="userInitiatedResume";}(b.V||(b.V={})));(function(a){a[a.fE=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.vd=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";}(b.ob||(b.ob={})));(function(a){a[a.vd=1]="NORMAL";a[a.Dd=2]="BUFFERING";a[a.Ixa=3]="STALLED";}(b.Xe||(b.Xe={})));(function(a){a[a.Yf=1]="WAITING";a[a.Pc=2]="PLAYING";a[a.Ri=3]="PAUSED";a[a.Vq=4]="ENDED";}(b.kb||(b.kb={})));(function(a){a[a.Bz=0]="INITIAL";a[a.st=1]="SEEK";a[a.AK=2]="TRACK_CHANGED";a[a.Wz=3]="SEGMENT_CHANGED";}(b.Be||(b.Be={})));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fd=b.dT=b.dr=b.Zs=void 0;b.Zs={nUb:"casttv",chrome:"chrome",uUb:"chromecast",Yp:"edge",Yjb:"edgeoss",dIa:"firefox",nWb:"ie",opera:"opera",xEb:"safari"};b.dr={gDa:"android",beb:"chromeos",oub:"linux",tNa:"mac",GIb:"tesla",Toa:"windows"};b.dT={Leb:"computer",cAb:"phone",CIb:"tablet"};b.fd="ConfigSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Tb=b.zha=b.cv=b.Ie=b.Sha=b.Ssb=b.Hsb=b.Iha=b.bv=b.YLa=b.ma=b.Qha=b.isArray=b.uMa=b.Ue=b.$b=b.is=void 0;d=a(142);b.is=d.ft;b.$b=function(a){return b.is.Sd(a);};b.Ue=function(a){return b.is.MA(a);};b.uMa=function(a){return b.is.waa(a);};b.isArray=function(a){return b.is.eu(a);};b.Qha=function(a){return b.is.eDa(a);};b.ma=function(a,k,m){return b.is.ph(a,k,m);};b.YLa=function(a,k,m){return b.is.Waa(a,k,m);};b.bv=function(a,k,m){return b.is.zr(a,k,m);};b.Iha=function(a){return b.is.TL(a);};b.Hsb=function(a){return b.is.x$a(a);};b.Ssb=function(a){return b.is.y$a(a);};b.Sha=function(a){return b.is.fDa(a);};b.Ie=function(a){return b.is.rn(a);};b.cv=function(a){return b.is.$l(a);};b.zha=function(a){return b.is.SL(a);};b.Tb=function(a){return b.is.jW(a);};},function(d,b,a){b=a(130);b.yib=0;d.P={EventEmitter:b,Oi:a(897)};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.jib=b.ada=b.cib=b.gib=b.aG=b.fN=b.fib=b.hib=b.bG=b.dGa=b.eib=b.dib=b.lb=b.ef=b.iib=b.Upa=void 0;d=a(6);a=a(86);b.Upa=function(){b.lb();};b.iib=!0;b.ef=d.$.get(a.Tq);b.lb=b.ef.assert.bind(b.ef);b.dib=b.ef.ibb.bind(b.ef);b.eib=b.ef.jbb.bind(b.ef);b.dGa=b.ef.obb.bind(b.ef);b.bG=b.ef.rbb.bind(b.ef);b.hib=b.ef.pbb.bind(b.ef);b.fib=b.ef.mbb.bind(b.ef);b.fN=b.ef.lbb.bind(b.ef);b.aG=b.ef.qbb.bind(b.ef);b.gib=b.ef.nbb.bind(b.ef);b.cib=b.ef.hbb.bind(b.ef);b.ada=b.ef.kbb.bind(b.ef);b.jib=b.ef.Asb.bind(b.ef);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(419),b);},function(d){d.P={fNb:{tt:0,fSb:1,name:["STARTUP","STEADY"]},SS:{Mg:0,eSb:1,X4a:2,name:["STARTING","STABLE","UNSTABLE"]},Na:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Pi:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},rg:{URL:0,Xz:1,Mta:2,ot:3,name:["URL","SERVER","LOCATION","NETWORK"]},Ne:{HAVE_NOTHING:0,zz:1,yz:2,PJ:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Lg:{NMb:0,LOb:1,lRb:2,NEXT:3,NQb:4,JSb:5,NOb:6,GPb:7,tt:8,ERROR:9,u7:10,F3a:11,Y3:12,L1a:13,K1a:14,i4a:15,h4a:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},oOb:{ot:0,JNb:1,name:["NETWORK","DECODE"]},bSb:{LNb:"delayedSeamless",fPb:"hideLongTransition"}};},function(d,b,a){var c,k,m,r;c=a(85);k=a(1131);m=a(265);r=a(1128);d=function(){function a(a){this.Lt=!1;a&&(this.Xl=a);}a.prototype.pq=function(b){var c;c=new a();c.source=this;c.TH=b;return c;};a.prototype.subscribe=function(a,b,f){var c;c=this.TH;a=k.kJb(a,b,f);c?c.call(a,this.source):a.add(this.source||!a.Mm?this.Xl(a):this.maa(a));if(a.Mm&&(a.Mm=!1,a.fD))throw a.gD;return a;};a.prototype.maa=function(a){try{return this.Xl(a);}catch(l){a.fD=!0;a.gD=l;a.error(l);}};a.prototype.forEach=function(a,b){var f;f=this;b||(c.root.Vz&&c.root.Vz.config&&c.root.Vz.config.Promise?b=c.root.Vz.config.Promise:c.root.Promise&&(b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,c){var l;l=f.subscribe(function(b){if(l)try{a(b);}catch(E){c(E);l.unsubscribe();}else a(b);},c,b);});};a.prototype.Xl=function(a){return this.source.subscribe(a);};a.prototype[m.observable]=function(){return this;};a.prototype.eAb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:r.fAb(a)(this);};a.prototype.qR=function(){var a,b;b=this;a||(c.root.Vz&&c.root.Vz.config&&c.root.Vz.config.Promise?a=c.root.Vz.config.Promise:c.root.Promise&&(a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,c){var f;b.subscribe(function(a){return f=a;},function(a){return c(a);},function(){return a(f);});});};a.create=function(b){return new a(b);};return a;}();b.nb=d;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.FFa=b.pIa=b.Mu=b.Nj=b.Ge=b.TO=b.trim=b.jO=b.PUa=b.wla=b.szb=b.Md=b.uDa=b.wEa=b.xb=b.zd=void 0;c=a(17);k=a(22);m=a(10);r=a(15);b.zd=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};b.xb=b.xb||function(a,c,l){var f,h,n;if(c)if(l){f=l.pH;h=l.prefix;n=l.Av;b.zd(c,function(b,c){if(!n||k.$b(c))a[(h||"")+(f?b.toLowerCase():b)]=c;});}else b.zd(c,function(b,f){a[b]=f;});return a;};b.wEa=function(a,b,c,f){var l;if(a){l=a[b];r.Tb(l)&&(c=l.apply(a,m.slice.call(arguments,3)));}return c;};b.uDa=function(a){for(var b={},c=a.length;c--;)b[a[c]]=!0;return b;};b.Md=b.Md||function(a){return parseInt(a,10);};b.szb=function(a){return/^true$/i.test(a);};b.wla=function(a,b){return m.Eh(a+m.Jz()*(b-a));};b.PUa=function(a){return JSON.stringify(a,null,"  ");};b.jO=function(){var b,l;function a(a){c.lb(void 0!==b[a]);return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};l=/[&'"<>]/g;return function(b){return b.replace(l,a);};}();b.trim=function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};}();b.TO=function(a){return Array.isArray(a)?a:[a];};b.Ge=b.Ge||function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};b.Nj=function(a){return r.ma(a)?a.toFixed(0):"";};b.Mu=function(a){return r.ma(a)?(a/1E3).toFixed(0):"";};b.pIa=function(a){return r.ma(a)?a.toFixed():"";};b.FFa=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b;};},function(d,b,a){var r,q;function c(a){return null!==a&&void 0!==a;}function k(a){return typeof a==b.Gya;}function m(a,b,f){var l,n,m;if(b)if(f){l=f.pH;n=f.prefix;m=f.Av;q.zd(b,function(b,f){if(!m||c(f))a[(n||"")+(l?b.toLowerCase():b)]=f;});}else q.zd(b,function(b,f){a[b]=f;});return a;}Object.defineProperty(b,"__esModule",{value:!0});b.J=b.Ge=b.jO=b.EG=b.cB=b.createElement=b.Hr=b.tDa=b.XW=b.GI=b.xb=b.Vm=b.Md=b.cv=b.Ie=b.Ue=b.$b=b.Fya=b.L4a=b.M4a=b.Gya=b.hz=b.I3=b.zp=b.qJ=b.pJ=b.Ki=b.oT=b.Iz=b.Jz=b.Um=b.Pl=b.Eh=b.I6=b.jt=b.FD=b.g7=b.Qz=b.tj=b.Ye=void 0;r=a(10);q=a(21);b.Ye=function(){};b.tj=1E3;b.Qz=Object.create;b.g7=Object.keys;b.FD=Date.now;b.jt=Math.floor;b.I6=Math.ceil;b.Eh=Math.round;b.Pl=Math.max;b.Um=Math.min;b.Jz=Math.random;b.Iz=Math.abs;b.oT=Math.pow;b.Ki="$attributes";b.pJ="$children";b.qJ="$name";b.zp="$text";b.I3="$parent";b.hz="$sibling";b.Gya="string";b.M4a="number";b.L4a="function";b.Fya="object";b.$b=c;b.Ue=function(a){return typeof a==b.Fya;};b.Ie=k;b.cv=function(a){return k(a)&&a;};b.Md=function(a){return parseInt(a,10);};b.Vm=function(a,b,f){return a>=b?a<=f?a:f:b;};b.xb=m;b.GI=function(a){return m({},a);};b.XW=function(a){var h;for(var b=0;b<arguments.length;++b);for(var b=0,f=arguments.length;b<f;){h=arguments[b++];if(c(h))return h;}};b.tDa=function(a,b){for(var f,c=!0,l;c;)for(c=!1,f=a.length;--f;)l=a[f],l[b]<a[f-1][b]&&(a[f]=a[f-1],a[f-1]=l,c=!0);};b.Hr=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.createElement=function(a,b,f,c){var l;l=r.ne.createElement(a);b&&(l.style.cssText=b);f&&(l.innerHTML=f);c&&q.zd(c,function(a,b){l.setAttribute(a,b);});return l;};b.cB=function(a){var b;b="";q.zd(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};b.EG=function(a,c,f){var l;a/c>f?(l=b.Eh(c*f),a=c):(l=a,a=b.Eh(a/f));return{width:l,height:a};};b.jO=function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};}();b.Ge=function(a){var b,f;if(a){b=a.stack;f=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"\n"+b)):b=a;f&&(b+="\nnumber:"+f);return b;}};b.J={$k:1001,ih:1003,$_a:1701,qsa:1713,a0a:1715,Z_a:1721,HS:1723};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Le=void 0;b.Le="IsTypeSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.We=void 0;b.We="ApplicationSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uf=void 0;b.uf="UtilitiesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kf=void 0;b.Kf="AsyncComponentLoaderSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(129);b.gb=!1;d=function(){function a(a,b,c,n,l){this.bb=a;this.type=b;this.byteOffset=c;this.byteLength=n;this.parent=l;this.Sc={};this.sC=n;}a.xB=function(a,b){var n,f;function c(a){a&&a.xB&&(a=a.xB(b),a.length&&(n=n.concat(a)));}n=[];a.type===b&&n.push(a);if(a.Sc)for(var l in a.Sc){f=a.Sc[l];Array.isArray(f)&&f.forEach(c);}return n;};a.XL=function(a,b){void 0===a.Sc[b.type]&&(a.Sc[b.type]=[]);a.Sc[b.type].push(b);};a.yB=function(b,c){return a.xB(b,c)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.bb;},enumerable:!0,configurable:!0}});a.prototype.Uf=function(){var a;a=this.bb.Hb();this.version=a>>24;this.hf=a&16777215;};a.prototype.XL=function(b){a.XL(this,b);};a.prototype.xB=function(b){return a.xB(this,b);};a.prototype.yB=function(b){return a.yB(this,b);};a.prototype.parse=function(){return!0;};a.prototype.CG=function(){return!0;};a.prototype.Lq=function(a){if((a=this.Sc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Pk=function(a,b){b=void 0===b?this.bb.offset:b;c.assert(b>=this.startOffset+8&&b+a<=this.startOffset+this.sC,"Removal range [0x"+b.toString(16)+"-0x"+(b+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.sC).toString(16)+")");this.bb.Pk(a,b,this);};a.prototype.O1=function(a,b,q){q=void 0===q?this.bb.offset:q;c.assert(q>=this.startOffset+8&&q+a<=this.startOffset+this.sC,"Removal range [0x"+q.toString(16)+"-0x"+(q+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.sC).toString(16)+")");this.bb.O1(a,b,q,this);};a.prototype.NRa=function(a,b,c){if(1<c){for(var n=[];0<c--;)n.push(this.PBa(a,b));return n;}return this.PBa(a,b);};a.prototype.Cs=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var l,f;if("offset"===a.type){l=a.offset;if(0<l%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.bb.offset+=l/8;}else for(l in a){f=a[l];b[l]="string"===typeof f?c.NRa(f):c.NRa(f.type,f.length,f.abb);}});return b;};a.prototype.PBa=function(a,b){var c;c=this.byteLength-this.bb.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.bb.ud();break;case"int64":a=this.bb.kj();break;case"int32":a=this.bb.Hb();break;case"int16":a=this.bb.ah();break;case"string":a=this.bb.oCb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};a.jc=!1;return a;}();b.Xf=d;},function(d,b){function a(a,b){return"number"!==typeof a||"number"!==typeof b?!1:a&&b?Math.abs(a*b/c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});b.ha=void 0;d=function(){function b(a,b){"object"===typeof a?(this.Xt=a.Cb,this.Yl=a.T):(this.Xt=a,this.Yl=b);}b.dzb=function(a){return new b(1,a);};b.ue=function(a){return 0===a?b.Dc:new b(a,1E3);};b.foa=function(a,b){return Math.floor(1E3*a/b);};b.Lja=function(a,b){return Math.floor(a*b/1E3);};b.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.ffa=function(m,r){var q;if(m.T===r.T)return new b(c(m.Cb,r.Cb),m.T);q=a(m.T,r.T);return b.ffa(m.Jf(q),r.Jf(q));};Object.defineProperties(b.prototype,{Cb:{get:function(){return this.Xt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){return this.Yl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{va:{get:function(){return 1E3*this.Xt/this.Yl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{eh:{get:function(){return this.Xt/this.Yl;},enumerable:!1,configurable:!0}});b.prototype.Jf=function(a){a/=this.T;return new b(Math.floor(this.Cb*a),Math.floor(this.T*a));};b.prototype.add=function(c){var m;if(this.T===c.T)return new b(this.Cb+c.Cb,this.T);m=a(this.T,c.T);return this.Jf(m).add(c.Jf(m));};b.prototype.Mb=function(a){return this.add(new b(-a.Cb,a.T));};b.prototype.A0=function(a){return new b(this.Cb*a,this.T);};b.prototype.Eu=function(b){var c;if(this.T===b.T)return this.Cb/b.Cb;c=a(this.T,b.T);return this.Jf(c).Eu(b.Jf(c));};b.prototype.wKa=function(b){return a(this.T,b);};b.prototype.WRa=function(){return new b(this.T,this.Cb);};b.prototype.compare=function(b,c){var q;if(this.T===c.T)return b(this.Cb,c.Cb);q=a(this.T,c.T);return b(this.Jf(q).Cb,c.Jf(q).Cb);};b.prototype.Hj=function(a){return this.equal(a)?0:this.lessThan(a)?-1:1;};b.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};b.prototype.KH=function(a){return this.compare(function(a,b){return a!==b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};b.prototype.YB=function(a){return this.compare(function(a,b){return a<=b;},a);};b.prototype.cy=function(a){return this.compare(function(a,b){return a>=b;},a);};b.prototype.ncb=function(a,b){var c;c=!1;void 0===c&&(c=!0);return c?this.cy(a)&&this.YB(b):this.greaterThan(a)&&this.lessThan(b);};b.prototype.toJSON=function(){return{ticks:this.Cb,timescale:this.T};};b.prototype.toString=function(){return this.Cb+"/"+this.T;};b.Dc=new b(0,1E3);b.zv=new b(1,1E3);b.mq=new b(Infinity,1);return b;}();b.ha=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.VD=b.rz=b.Ti=b.sS=void 0;b.sS="ConfigurableInputsSymbol";b.Ti="ValidatingConfigurableInputsSymbol";b.rz="ConfigNameSymbol";b.VD="InitParamsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mE=b.PT=b.E4=b.n6=b.Yua=b.Nz=b.e9=b.vw=b.m9=void 0;b.m9="WindowTimersSymbol";b.vw="JSONSymbol";b.e9="UserAgentSymbol";b.Nz="NavigatorSymbol";b.Yua="MediaSourceSymbol";b.n6="LocationSymbol";b.E4="DateSymbol";b.PT="PerformanceSymbol";b.mE="PlatformExtraInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z_a=b.GD=b.rza=b.b5a=b.Zh=b.xd=b.kk=b.kw=b.ar=void 0;(function(a){a[a.Audio=0]="Audio";a[a.mza=1]="Video";}(b.ar||(b.ar={})));(function(a){a[a.uz=0]="Default";a[a.Mz=1]="Microsoft";}(b.kw||(b.kw={})));(function(a){a[a.uz=0]="Default";a[a.o4=1]="Cast";a[a.r4=2]="Chrome";a[a.Mz=3]="Microsoft";a[a.Pxa=4]="Safari";}(b.kk||(b.kk={})));(function(a){a[a.xK=0]="SD";a[a.NS=1]="HD";a[a.tU=2]="UHD";a[a.ct=3]="DV";a[a.et=4]="HDR10";a[a.xD=5]="AVCHigh";a[a.Mw=6]="VP9";a[a.Li=7]="AV1";}(b.xd||(b.xd={})));(function(a){a[a.Yq=0]="Level_1_4";a[a.Fz=1]="Level_2_2";}(b.Zh||(b.Zh={})));b.b5a=function(){};(function(a){a[a.uRb=0]="Platform";a[a.GNb=1]="CurrentTitle";}(b.rza||(b.rza={})));b.GD="DeviceCapabilitiesSymbol";b.z_a=function(){};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fp=b.Si=void 0;b.Si="PlatformSymbol";b.Fp="PlatformMutableSymbol";},function(d,b,a){var r,q,n;function c(a){var b,c,l,m;l=Object.getOwnPropertyNames(a);for(a=Object.getPrototypeOf(a);a!==Object.prototype;){try{for(var n=(b=void 0,r.__values(Object.getOwnPropertyNames(a))),q=n.next();!q.done;q=n.next()){m=q.value;-1===l.indexOf(m)&&l.push(m);}}catch(J){b={error:J};}finally{try{q&&!q.done&&(c=n["return"])&&c.call(n);}finally{if(b)throw b.error;}}a=Object.getPrototypeOf(a);}return l;}function k(a,b,c,n,q){var f;Object.getOwnPropertyNames(a).filter(function(a){return q(a)&&(c||!Object.prototype.hasOwnProperty.call(b,a))&&(n||!(a in b));}).forEach(function(c){f=Object.getOwnPropertyDescriptor(a,c);void 0!==f&&Object.defineProperty(b,c,f);});}function m(a,b,h,n){var f,l;f=[];h||(f=Object.getOwnPropertyNames(b));n||(f=c(b));l=Object.getPrototypeOf(a);null!==l&&l!==Object.prototype&&m(l,b,h,n);k(a,b,!0,!0,function(a){return"constructor"!==a&&-1===f.indexOf(a);});}Object.defineProperty(b,"__esModule",{value:!0});b.Ke=b.jfb=void 0;r=a(0);q=a(5);b.jfb=m;n=Object.getOwnPropertyNames(Function);b.Ke=function(a,b,c,r){void 0===c&&(c=!0);void 0===r&&(r=!0);r||q.assert(!c);a.prototype?(m(a.prototype,b.prototype,c,r),k(a,b,c,r,function(a){return-1===n.indexOf(a);})):k(a,b.prototype,c,r,function(a){return-1===n.indexOf(a);});return b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yk=b.mt=b.dt=void 0;(function(a){a[a.Jya=0]="Test";a[a.Dta=1]="Int";a[a.C4a=2]="Staging";a[a.N3a=3]="Prod";}(b.dt||(b.dt={})));(function(a){a[a.WT=0]="PreferMsl";a[a.bxa=1]="PreferNoMsl";a[a.J2a=2]="NoMsl";}(b.mt||(b.mt={})));b.Yk="GeneralConfigSymbol";},function(d,b,a){var r,q;function c(a,b){return a&&a.oq&&(b||!1!==a.Ku);}function k(a,b,f){return!r.ma(a)||a<b?b:a>f?f:a;}function m(a){if(!(this instanceof m))return new m(a);this.Mc=r.ma(a)?a:void 0;}r=a(8);q=new(a(4)).Console("ASEJS_STREAM_SELECTOR","media|asejs");d.P={console:q,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",q.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},SB:c,Gea:function(a,b,f){var l,n,q,m;function c(b){var c;c=a[b];if(!c.oq||f&&!f(c,b))return!1;m=b;return!0;}l=a.length;n=0;q=l;r.isArray(b)&&(n=k(b[0],0,l),q=k(b[1],0,l),b=b[2]);b=k(b,n-1,q);for(l=b-1;l>=n;--l)if(c(l))return m;for(l=b+1;l<q;++l)if(c(l))return m;return-1;},ixb:function(a,b){return Math.floor(a/(125*b)*1E3);},Scb:function(a,b){return Math.ceil(a/1E3*b*125);},uWb:function(a,b){return!a.slice(b+1).some(c);},io:m,zo:function(a,b){var f;return a.some(function(a,c,l){f=a;return b(a,c,l);})?f:void 0;},cM:function(a,b){var f;return a.some(function(a,c,l){f=c;return b(a,c,l);})?f:-1;},UW:k};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ng=void 0;b.Ng="SchedulerSymbol";},function(d,b,a){var r,q,n;function c(a){return function(b,c){return b.Dla(c,a);};}function k(a,b){return a.A1.cCb[b]||m(a,b);}function m(a,b){a=a.Vu.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(b,"__esModule",{value:!0});b.un=b.Lla=b.object=b.Tkb=b.url=b.aa=b.Xg=b.woa=b.zsb=b.W2=b.string=b.fw=b.$c=b.i_=b.config=void 0;r=a(49);q=a(3);n=a(136);b.config=function(a,b){return function(f,c,l){var h,q;h=void 0!==b?b:c;q=l.get;void 0!==q&&(l.get=function(){var b;if(!this.mtb(c))return this.Cpb(c);a:{b=(this.Eab?k:m)(this,h.toString());if(void 0!==b)if(b=a(this.tP,b),b instanceof n.Wm)this.tIa(h,b);else break a;b=q.bind(this)();}this.iEb(c,b);return b;});return l;};};b.i_=function(a,b){return a.JRa(b);};b.$c=function(a,b){return a.Ala(b);};b.fw=function(a,b){return a.Ra(b);};b.string=function(a,b){return a.Dla(b);};b.W2=function(a,f){return a.xe(f,b.string);};b.zsb=function(a,f){return a.xe(f,b.i_);};b.woa=function(a,f){return a.xe(f,b.fw);};b.Xg=function(a,b){a=a.Ra(b);return a instanceof n.Wm?a:q.Gb(a);};b.aa=function(a,b){a=a.Ra(b);return a instanceof n.Wm?a:r.aa(a);};b.url=c(/^\S+$/);b.Tkb=function(a){return function(b,c){return b.IRa(c,a);};};b.object=function(){return function(a,b){return a.KRa(b);};};b.Lla=c;b.un=function(a,b){return function(f,c){return f.xe(c,a,b);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dw="named";b.uT="name";b.FK="unmanaged";b.wva="optional";b.ZJ="inject";b.Hz="multi_inject";b.xya="inversify:tagged";b.yya="inversify:tagged_props";b.k7="inversify:paramtypes";b.MZa="design:paramtypes";b.mK="post_construct";},function(d,b,a){var k,m,r,q;function c(){return b.RK.XB.ca(q.ja);}Object.defineProperty(b,"__esModule",{value:!0});b.seb=b.$Ea=b.ZEa=b.YEa=b.reb=b.JM=b.Tg=b.e6=b.LAa=b.RK=b.Dt=void 0;d=a(519);k=a(40);m=a(24);r=a(115);q=a(3);b.Dt=d.bd.get(k.Ni);b.RK=d.bd.get(m.We);b.LAa=d.bd.get(r.Dz);b.e6=b.RK.id;b.Tg=function(){return b.RK.Zb().ca(q.ja);};b.JM=function(){return b.Dt.gf.ca(q.Sl);};b.reb=function(){return b.RK.XB.ca(q.Sl);};b.YEa=function(){return b.LAa.dB();};b.ZEa=c;b.$Ea=function(){return b.Dt.gf.ca(q.ja);};b.seb=function(){return c();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ni=void 0;b.Ni="ClockSymbol";},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Yd=b.wJ=b.Dya=void 0;c=a(0);k=a(1138);m=a(1);r=a(136);b.Dya="isTestAccount";q=function(){var l;function a(a,b){this.wFa=b;this.rla={};this.Vu=a.Vu;this.tP=a.tP;this.A1=a.A1;}a.prototype.tIa=function(){};a.prototype.iEb=function(a,b){this.rla[a]=[b,this.Vu.Z1];};a.prototype.mtb=function(a){return k.j7.of(this.rla[a]).map(function(a){return a[1];}).Cv(-1)<this.Vu.Z1;};a.prototype.Cpb=function(a){return k.j7.of(this.rla[a]).map(function(a){return a[0];}).Cv(function(){throw Error("Invalid State Error");});};qa.Object.defineProperties(a.prototype,{Eab:{configurable:!0,enumerable:!0,get:function(){var a,c;if(this&&this.Vu&&this.Vu.data){a=this.Vu.data[b.Dya];"undefined"!==typeof a&&(c=a.toString());a=this.tP.Ala(c);a=a instanceof r.Wm?!1:a;}else a=!1;return a;}}});l=a;return l=c.__decorate([m.N(),c.__param(0,m.Xh()),c.__param(1,m.Xh())],l);}();b.wJ=q;d=function(){var b;function a(a,b){var f;f=q.call(this,a,b)||this;f.wFa=b;f.debug=a.debug;f.ka=a.kf.ub(f.wFa);return f;}ba(a,q);a.prototype.tIa=function(a,b){this.ka.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};b=a;return b=c.__decorate([c.__param(0,m.Xh()),c.__param(1,m.Xh())],b);}();b.Yd=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eU=b.sg=b.kh=void 0;b.kh={hNa:"logblob",ya:"manifest",Ai:"license",events:"events",bind:"bind",aQa:"pair",ping:"ping",config:"config"};d=b.sg||(b.sg={});d[d.Wq=20]="High";d[d.P6=10]="Medium";d[d.YD=0]="Low";b.eU={sg:"reqPriority",Y3a:"reqAttempt",Z3a:"reqName"};},function(d,b,a){var l,f,h,x,F,I,E;function c(){var a,f;if(a=b.hZ.NBa)return a;a=I.AT.search.substr(1);f=a.indexOf("#");0<=f&&(a=a.substr(0,f));a=k(a);return b.hZ.NBa=a;}function k(a){for(var b=/[+]/g,f=(a||"").split("&"),c={},l,h=0;h<f.length;h++)a=x.trim(f[h]),l=a.indexOf("="),0<=l?c[decodeURIComponent(a.substr(0,l).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(l+1).replace(b,"%20")):c[a.toLowerCase()]=null;return c;}function m(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function r(a){return m(a.constructor);}function q(a){return I.sort.call(a,function(a,b){return a-b;});}function n(a){for(var b=0,f=a.length;f--;)b+=a[f];return b;}Object.defineProperty(b,"__esModule",{value:!0});b.TAb=b.$N=b.oJa=b.B_=b.PAb=b.iMa=b.HYa=b.IYa=b.gmb=b.Rp=b.Keb=b.EG=b.Flb=b.NPa=b.$Xa=b.P3=b.aYa=b.WR=b.upa=b.ZXa=b.usb=b.cB=b.oBb=b.ika=b.vfa=b.getFunctionName=b.OH=b.EP=b.hZ=b.upb=b.FRa=b.NCa=b.AFa=b.mCb=b.Hr=b.nca=void 0;l=a(9);f=a(17);h=a(6);x=a(21);F=a(22);I=a(10);E=a(15);b.nca=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var f in a)if(a.hasOwnProperty(f)&&(!b.hasOwnProperty(f)||a[f]!==b[f]))return!1;return!0;};b.Hr=b.Hr||function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.mCb=function(a){var b;if(a){b=a.length;if(b)return b=x.wla(0,b-1),a[b];}};b.AFa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};b.NCa=function(a,b,f){function c(){a.removeEventListener(b,c);f.apply(this,arguments);}a.addEventListener(b,c);};b.FRa=function(){var a,b,f,c,l,h;a=I.ne.cookie.split("; ");b=a.length;h={};for(f=0;f<b;f++)if(c=x.trim(a[f]))l=c.indexOf("="),0<l&&(h[c.substr(0,l)]=c.substr(l+1));return h;};b.upb=c;b.hZ=Object.assign(c,{NBa:void 0});b.EP=k;b.OH=function(a){var b;b="";x.zd(a,function(a,c){b&&(b+="&");f.lb(F.Ie(c)||E.ma(c)||E.zha(c));b+=encodeURIComponent(a)+"="+encodeURIComponent(c);});return b;};b.getFunctionName=m;b.vfa=r;b.ika=function(a){var b;b="";E.isArray(a)||E.Qha(a)?b=I.reduce.call(a,function(a,b){return a+(32<=b&&128>b?I.sya(b):".");},""):F.Ie(a)?b=a:x.zd(a,function(a,f){b+=(b?", ":"")+"{"+a+": "+(E.Tb(f)?m(f)||"function":f)+"}";});return"["+r(a)+" "+b+"]";};b.oBb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};b.cB=b.cB||function(a){var b;b="";x.zd(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};b.usb=function(a,b){var f;f=a[0];if(b<=f[0])return f.slice(1);for(var c=1,l;l=a[c++];){if(b<=l[0]){a=(b-f[0])/(l[0]-f[0]);b=[];for(c=1;c<f.length;c++)b.push((f[c]||0)+a*((l[c]||0)-(f[c]||0)));return b;}f=l;}return f.slice(1);};b.ZXa=function(a,b){var l;for(var f={},c=0;c<b.length;c++){l=b[c];if("string"!=typeof l&&"number"!=typeof l)return!1;f[b[c]]=1;}for(c=0;c<a.length;c++)if(l=a[c],!f[l])return!1;return!0;};b.upa=function(a,b){0>a.indexOf(b)&&a.push(b);};b.WR=q;b.aYa=n;b.P3=function(a,b){var f,c,l,h;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(l=a[f])&&l<=l);)l=void 0;for(;++f<c;)null!=(h=a[f])&&h>l&&(l=h);}else{for(;++f<c&&!(null!=(l=b.call(a,a[f],f))&&l<=l);)l=void 0;for(;++f<c;)null!=(h=b.call(a,a[f],f))&&h>l&&(l=h);}return l;};b.$Xa=function(a,b){var f,c,l,h;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(l=a[f])&&l<=l);)l=void 0;for(;++f<c;)null!=(h=a[f])&&l>h&&(l=h);}else{for(;++f<c&&!(null!=(l=b.call(a,a[f],f))&&l<=l);)l=void 0;for(;++f<c;)null!=(h=b.call(a,a[f],f))&&l>h&&(l=h);}return l;};b.NPa=function(a){return E.Tb(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};b.Flb=function(a,b){var c,l,h,n,m,r;function f(a){0>c.indexOf(a)&&E.ma(a)&&c.push(a);}a=a.slice();q(a);c=[];if(!b||!b.length)return a;if(!a.length)return[];l=b.length;try{for(;l--;){m=""+b[l];r=F.Md(m);switch(m[m.length-1]){case"-":for(h=a.length;h--;)if(n=a[h],n<r){f(n);break;}break;case"+":for(h=0;h<a.length;h++)if(n=a[h],n>r){f(n);break;}break;default:0<=a.indexOf(r)&&f(r);}}}catch(ma){}c.length||c.push(a[0]);q(c);return c;};b.EG=b.EG||function(a,b,f){var c;a/b>f?(c=I.Eh(b*f),a=b):(c=a,a=I.Eh(a/f));return{width:c,height:a};};b.Keb=function(a,b,f){for(var c=[],l=0;l<b;l++)c.push(I.oT(a[l]-f,2));return I.Jua(n(c)/c.length);};b.Rp=function(a,b){var f;f=a.length;b=(f-1)*b+1;if(1===b)return a[0];if(b==f)return a[f-1];f=I.jt(b);return a[f-1]+(b-f)*(a[f]-a[f-1]);};b.gmb=function(a,b){if(!E.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=E.isArray(b)?b:[b];for(var f=a.length,c=0;c<f;c++)for(var l=0;l<b.length;l++)if(a[c].type==b[l])return a[c];throw Error("Box not found "+b);};b.IYa=function(a){return a.Vx("trak/mdia/minf/stbl/stsd/"+l.dqa+"|"+l.eqa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.Kea.schm.JEb;})[0].Vx("schi/tenc").fs;};b.HYa=function(a){var f;function b(a,b){var c;c=f[a];f[a]=f[b];f[b]=c;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};b.iMa=function(){return E.Tb(I.Qi.requestMediaKeySystemAccess);};b.PAb=function(a){return function(b){return b&&b[a];};};E.Tb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var f,c;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);f=new ArrayBuffer(b-a);c=new Uint8Array(f);a=new Uint8Array(this,a,b-a);c.set(a);return f;});b.B_=function(a){return a&&0==a.toLowerCase().indexOf("https");};b.oJa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};b.$N=function(){var a,b,f;try{a=/playercore.*js/;b=I.br.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){f=I.Eh(b[0].duration);return JSON.stringify(f);}}catch(T){}};b.TAb=function(a,b,f){if(a&&a.length)if(f&&f.deb)try{a.forEach(function(a,c){var l;l=(c=f.deb[c])&&c.media;l&&F.Ie(l)?(l=h.Op(l).buffer,a.media={arrayBuffer:l,length:l.byteLength,stream:b,ic:c.cdn}):h.log.warn("chunk not in cache",a.Wg);});}catch(T){h.log.error("error reading cached chunks",T);}else h.log.warn("chunks not available in cached stream",f.type);else h.log.warn("chunks not available in mediabuffer",f.type);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qj=void 0;b.qj="Base64EncoderSymbol";},function(d,b,a){var k;function c(a,b,c,n,l,f,h,x,d,I,E,J){this.code=void 0===a?k.K.$k:a;this.ed=b;this.sh=c;this.mG=n;this.rs=l;this.message=f;this.hG=h;this.data=x;this.hea=d;this.BAb=I;this.alert=E;this.Saa=J;this.da=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.vc=void 0;k=a(2);c.Ge=function(a){var b,c,n;if(a){b=a.stack;c=a.number;n=a.message;n||(n=""+a);b?(a=""+b,0!==a.indexOf(n)&&(a=n+"\n"+a)):a=n;c&&(a+="\nnumber:"+c);return a;}return"";};c.prototype.lN=function(a){this.hG=c.Ge(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return{code:this.code,subCode:this.ed,extCode:this.sh,edgeCode:this.mG,mslCode:this.rs,message:this.message,details:this.hG,data:this.data,errorDisplayMessage:this.hea,playbackServiceError:this.BAb};};c.GY=function(a,b){return new c(a,k.J.ih,void 0,void 0,void 0,void 0,b.message,b.stack);};c.RLb=function(a,b){return new c(a,k.J.ih,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b);};b.vc=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jk=void 0;b.jk="PboCommandContextSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o6=b.fk=b.lT=void 0;b.lT="LogBatcherConfigSymbol";b.fk="LogBatcherSymbol";b.o6="LogBatcherProviderSymbol";},function(d,b,a){var k;function c(a){return a.filter(function(b,c){return a.indexOf(b)===c;});}Object.defineProperty(b,"__esModule",{value:!0});b.Zja=b.GFa=b.Tr=b.rOa=b.kFa=b.vDa=b.sDa=b.Zab=b.cM=b.zo=void 0;k=a(0);b.zo=function(a,b){var c;return a.some(function(a,l,f){c=a;return b(a,l,f);})?c:void 0;};b.cM=function(a,b){var c;c=-1;return a.some(function(a,l){c=l;return b(a);})?c:-1;};b.Zab=c;b.sDa=function(a,b){return a.filter(function(a){return-1===b.indexOf(a);});};b.vDa=function(a,b){return c(a.concat(b));};b.kFa=function(a){return function(b,c){b=a(b);c=a(c);return b<c?-1:b>c?1:0;};};b.rOa=function(a){return function(b,c){return a(b)<a(c)?b:c;};};b.Tr=function(a){var b;return(b=[]).concat.apply(b,k.__spread(a));};b.GFa=function(a,b){void 0===b&&(b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return void 0===a[c]?a[c]=1:++a[c],a;},{});};b.Zja=function(a){return null!==a&&void 0!==a;};},function(d,b,a){var m;function c(a){return m.GK.apply(this,arguments)||this;}function k(a){return new m.Ep(a,b.qz);}Object.defineProperty(b,"__esModule",{value:!0});b.Dc=b.$ua=b.i6=b.Sq=b.qz=b.vwb=b.Rtb=b.aa=b.qM=b.NYa=void 0;m=a(512);ba(c,m.GK);b.NYa=c;b.qM=k;b.aa=function(a){return new m.Ep(a,b.Sq);};b.Rtb=function(a){return new m.Ep(a,b.i6);};b.vwb=function(a){return new m.Ep(a,b.$ua);};b.qz=new c(1,"b");b.Sq=new c(8*b.qz.sf,"B",b.qz);b.i6=new c(1024*b.Sq.sf,"KB",b.qz);b.$ua=new c(1024*b.i6.sf,"MB",b.qz);b.Dc=k(0);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.hxb=b.platform=b.hm=b.zc=b.Dob=b.wNa=void 0;d=a(0);d.__exportStar(a(419),b);d.__exportStar(a(901),b);d.__exportStar(a(900),b);d.__exportStar(a(899),b);b.wNa=function(c){b.platform.pO(c);return a(898).Aua;};b.Dob=function(){return a(223);};d=a(19);b.zc=d;d=a(720);b.hm=d.hm;d=a(4);b.platform=d;c=a(719);b.hxb=function(){return{Cw:c.Cw};};},function(d,b,a){var c,k;c=a(111);k=a(171);d.P=function(a){return function q(b,l){switch(arguments.length){case 0:return q;case 1:return k(b)?q:c(function(f){return a(b,f);});default:return k(b)&&k(l)?q:k(b)?c(function(b){return a(b,l);}):k(l)?c(function(f){return a(b,f);}):a(b,l);}};};},function(d,b,a){var k,m,r,q,n,l;function c(a){return["STANDARD","LIMITED","PREVIEW"][a];}Object.defineProperty(b,"__esModule",{value:!0});b.Pd=b.Aa=b.bi=b.ze=void 0;d=a(116);(function(a){a[a.Ym=0]="STANDARD";a[a.ww=1]="LIMITED";a[a.kRb=2]="PREVIEW";}(k||(k={})));m=function(){function a(){}a.sqa="created";a.Jxa="started";a.Oxa="succeeded";a.qw="failed";a.AD="cancelled";a.hS="cancelled_on_create";a.zJ="cancelled_on_start";a.gS="cancelled_not_encrypted";return a;}();b.ze=m;r=function(){function a(){}a.RSb="uirequest";a.jRb="prefetch_start";a.hRb="prefetch_complete";a.iRb="prefetch_delete";a.f3a="periodic_update";return a;}();q={manifest:d.Ae.dk.cpa,ldl:d.Ae.dk.Ez,getHeaders:d.Ae.dk.TJ,getMedia:d.Ae.dk.MEDIA};(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";}(n||(n={})));(function(a){a.KXa="asl_start";a.IXa="asl_comp";a.GMb="asl_exc";a.JXa="asl_fail";a.t4a="stf_creat";a.N0a="idb_open";a.K0a="idb_block";a.U0a="idb_upgr";a.T0a="idb_succ";a.L0a="idb_error";a.M0a="idb_invalid_state";a.P0a="idb_open_timeout";a.R0a="idb_open_wrkarnd";a.S0a="idb_storelen_exc";a.O0a="idb_open_exc";a.Q0a="idb_timeout_invalid_storelen";a.i2a="msl_load_data";a.k2a="msl_load_no_data";a.j2a="msl_load_failed";}(l=b.bi||(b.bi={})));(function(a){a.n7="PlaybackRequestStart";a.m7="PlaybackRequestEnd";a.dU="RequestPrefetchManifestStart";a.cU="RequestPrefetchManifestEnd";a.bU="RequestManifestStart";a.aU="RequestManifestEnd";a.$T="RequestLicenseStart";a.ZT="RequestLicenseEnd";a.mS="RequestTimedTextUrlStart";a.lS="RequestTimedTextUrlEnd";a.kS="RequestAudioUrlStart";a.jS="RequestAudioUrlEnd";a.oS="RequestVideoUrlStart";a.nS="RequestVideoUrlEnd";a.K3="AppendBufferStart";a.J3="AppendBufferEnd";a.v8="SetMediaKeysStart";a.u8="SetMediaKeysEnd";a.JS="GenerateChallengeStart";a.IS="GenerateChallengeEnd";a.M3="ApplyLicenseStart";a.L3="ApplyLicenseEnd";}(b.Aa||(b.Aa={})));b.Pd=function(){function a(){}a.BPb=k;a.DFa=c;a.ze=m;a.D3a=r;a.nK=q;a.bi=l;a.Isa=n;return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nl=void 0;b.Nl="EmeConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sm=b.THb=b.yPa=void 0;b.yPa=function(a,b){return a-b;};b.THb=function(a,b){return a.localeCompare(b);};b.sm=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p_a="Cannot apply @injectable decorator multiple times.";b.q_a="Metadata key was used more than once in a parameter:";b.gK="NULL argument";b.Ita="Key Not Found";b.yXa="Ambiguous match found for serviceIdentifier:";b.TYa="Could not unbind serviceIdentifier:";b.B2a="No matching bindings found for serviceIdentifier:";b.a2a="Missing required @injectable annotation in:";b.b2a="Missing required @inject or @multiInject annotation in:";b.V4a=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.WYa="Circular dependency found:";b.nQb="Sorry, this feature is not fully implemented yet.";b.q1a="Invalid binding type:";b.C2a="No snapshot available to restore.";b.t1a="Invalid return type in middleware. Middleware must return!";b.vPb="Value provided to function binding must be a function!";b.v1a="The toSelf function can only be applied when a constructor is used as service identifier";b.r1a="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.zXa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};b.kZa="Invalid Container constructor argument. Container options must be an object.";b.iZa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.hZa="Invalid Container option. Auto bind injectable must be a boolean";b.jZa="Invalid Container option. Skip base check must be a boolean";b.o2a="Cannot apply @postConstruct decorator multiple times in the same class";b.C3a=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};b.XYa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};b.q4a="Maximum call stack size exceeded";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.vZ=b.VG=b.wZ=b.by=b.wl=b.He=void 0;d=a(74);c=a(59);k=a(10);b.He=new d.rj();b.wl=1;b.by=2;b.wZ=3;b.VG=4;b.vZ=5;c.pc(function(){var c,q,n;function a(a,b){if(q)q.on(a,b);else M.addEventListener(a,b);}c=M.jQuery;q=c&&c(M);c=(c=M.netflix)&&c.cadmium&&c.cadmium.addBeforeUnloadHandler;n=k.ne.hidden;c?c(function(a){b.He.Wb(b.wl,a);}):a("beforeunload",function(a){b.He.Wb(b.wl,a);});a("keydown",function(a){b.He.Wb(b.by,a);});a("resize",function(){b.He.Wb(b.wZ);});k.ne.addEventListener("visibilitychange",function(){n!==k.ne.hidden&&(n=k.ne.hidden,b.He.Wb(b.VG));});});(function(){M.addEventListener("error",function(a){b.He.Wb(b.vZ,a);return!0;});}());},function(d,b,a){var k,m;function c(a,q){var n;n=b.Xm[0];n==q&&(n=b.Xm[1]);n?n.close(function(){c(a,q);}):a&&a(k.wd);}Object.defineProperty(b,"__esModule",{value:!0});b.Bwa=b.Awa=b.S7=b.T7=b.nE=b.V7=b.U7=b.Y7=b.X7=b.Xm=b.Z7=b.W7=void 0;k=a(9);m=a(17);b.W7=c;b.Z7=function(a,c){switch(a){case b.U7:b.X7.push(c);return;case b.V7:b.Y7.push(c);return;}m.lb(!1);};b.Xm=[];b.X7=[];b.Y7=[];b.U7=1;b.V7=3;b.nE={index:0,fxb:void 0,Oea:void 0};b.T7="network";b.S7="media";b.Awa="timedtext";b.Bwa="playback";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gb=void 0;b.gb=!1;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=void 0;b.pc=function(a){return setTimeout(a,0);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zk=b.Yh=b.X=void 0;d=function(){function a(){}a.NJ="playready-h264mpl30-dash";a.PD="playready-h264mpl31-dash";a.s5="playready-h264mpl40-dash";a.k0a="playready-h264hpl22-dash";a.LS="playready-h264hpl30-dash";a.MS="playready-h264hpl31-dash";a.r5="playready-h264hpl40-dash";a.E5="hevc-main-L30-dash-cenc";a.F5="hevc-main-L31-dash-cenc";a.G5="hevc-main-L40-dash-cenc";a.H5="hevc-main-L41-dash-cenc";a.I5="hevc-main-L50-dash-cenc";a.J5="hevc-main-L51-dash-cenc";a.A5="hevc-main10-L30-dash-cenc";a.B5="hevc-main10-L31-dash-cenc";a.C5="hevc-main10-L40-dash-cenc";a.D5="hevc-main10-L41-dash-cenc";a.RD="hevc-main10-L50-dash-cenc";a.SD="hevc-main10-L51-dash-cenc";a.TS="hevc-main10-L30-dash-cenc-prk";a.VS="hevc-main10-L31-dash-cenc-prk";a.XS="hevc-main10-L40-dash-cenc-prk";a.ZS="hevc-main10-L41-dash-cenc-prk";a.US="hevc-main10-L30-dash-cenc-prk-do";a.WS="hevc-main10-L31-dash-cenc-prk-do";a.YS="hevc-main10-L40-dash-cenc-prk-do";a.$S="hevc-main10-L41-dash-cenc-prk-do";a.aT="hevc-main10-L50-dash-cenc-prk-do";a.bT="hevc-main10-L51-dash-cenc-prk-do";a.bPb="hevc-main-L30-L31-dash-cenc-tl";a.cPb="hevc-main-L31-L40-dash-cenc-tl";a.dPb="hevc-main-L40-L41-dash-cenc-tl";a.ePb="hevc-main-L50-L51-dash-cenc-tl";a.YOb="hevc-main10-L30-L31-dash-cenc-tl";a.ZOb="hevc-main10-L31-L40-dash-cenc-tl";a.$Ob="hevc-main10-L40-L41-dash-cenc-tl";a.aPb="hevc-main10-L50-L51-dash-cenc-tl";a.DJ="hevc-dv5-main10-L30-dash-cenc-prk";a.EJ="hevc-dv5-main10-L31-dash-cenc-prk";a.ED="hevc-dv5-main10-L40-dash-cenc-prk";a.FJ="hevc-dv5-main10-L41-dash-cenc-prk";a.GJ="hevc-dv5-main10-L50-dash-cenc-prk";a.wS="hevc-dv5-main10-L51-dash-cenc-prk";a.t5="hevc-hdr-main10-L30-dash-cenc";a.u5="hevc-hdr-main10-L31-dash-cenc";a.v5="hevc-hdr-main10-L40-dash-cenc";a.w5="hevc-hdr-main10-L41-dash-cenc";a.x5="hevc-hdr-main10-L50-dash-cenc";a.y5="hevc-hdr-main10-L51-dash-cenc";a.QJ="hevc-hdr-main10-L30-dash-cenc-prk";a.RJ="hevc-hdr-main10-L31-dash-cenc-prk";a.QD="hevc-hdr-main10-L40-dash-cenc-prk";a.SJ="hevc-hdr-main10-L41-dash-cenc-prk";a.OS="hevc-hdr-main10-L50-dash-cenc-prk";a.PS="hevc-hdr-main10-L51-dash-cenc-prk";a.jza="vp9-profile0-L21-dash-cenc";a.JK="vp9-profile0-L30-dash-cenc";a.KK="vp9-profile0-L31-dash-cenc";a.vU="vp9-profile0-L40-dash-cenc";a.eza="vp9-profile2-L30-dash-cenc-prk";a.fza="vp9-profile2-L31-dash-cenc-prk";a.gza="vp9-profile2-L40-dash-cenc-prk";a.hza="vp9-profile2-L50-dash-cenc-prk";a.iza="vp9-profile2-L51-dash-cenc-prk";a.dpa="av1-main-L20-dash-cbcs-prk";a.epa="av1-main-L21-dash-cbcs-prk";a.fpa="av1-main-L30-dash-cbcs-prk";a.gpa="av1-main-L31-dash-cbcs-prk";a.hpa="av1-main-L40-dash-cbcs-prk";a.ipa="av1-main-L41-dash-cbcs-prk";a.jpa="av1-main-L50-dash-cbcs-prk";a.kpa="av1-main-L51-dash-cbcs-prk";a.b4a=[a.NJ];a.p0a=[a.PD,a.s5];a.S4a=[a.E5,a.F5,a.G5,a.H5,a.I5,a.J5];a.U4a=[a.A5,a.B5,a.C5,a.D5,a.RD,a.SD];a.T4a=[a.TS,a.VS,a.XS,a.ZS,a.RD,a.SD];a.QSb=[a.US,a.WS,a.YS,a.$S,a.aT,a.bT];a.o0a=[a.t5,a.u5,a.v5,a.w5,a.x5,a.y5];a.n0a=[a.QJ,a.RJ,a.QD,a.SJ,a.OS,a.PS];a.r_a=[a.DJ,a.ED,a.GJ,a.EJ,a.FJ,a.wS];a.WNb=[a.DJ,a.EJ,a.ED,a.FJ,a.GJ];a.IMb=[a.LS,a.MS,a.r5];a.YSb=[a.JK,a.KK,a.vU];a.Mw=[a.jza,a.JK,a.KK,a.vU,a.eza,a.fza,a.gza,a.hza,a.iza];a.PXa=[a.dpa,a.epa,a.fpa];a.OXa=[a.gpa,a.hpa,a.ipa];a.QXa=[a.jpa,a.kpa];a.Li=[].concat(a.PXa,a.OXa,a.QXa);a.j0a=a.b4a.concat(a.p0a);a.m0a=a.S4a;a.l0a=a.U4a;a.XXa=[].concat(a.j0a,a.m0a,a.l0a,a.T4a,a.o0a,a.n0a,a.r_a,a.Mw,a.Li);return a;}();b.X=d;b.Yh=function(){function a(){}a.QS="heaac-2-dash";a.q0a="heaac-5.1-dash";a.RS="heaac-2hq-dash";a.zU="xheaac-dash";a.uS="ddplus-2.0-dash";a.y4="ddplus-5.1-dash";a.vS="ddplus-atmos-dash";a.z5="playready-heaac-2-dash";a.s0a="heaac-2-dash-enc";a.sZa="ddplus-2.0-dash-enc";a.tZa="ddplus-5.1-dash-enc";a.r0a="playready-heaac-2-dash-enc";a.XXa=[a.QS,a.RS,a.uS,a.y4,a.vS,a.z5,a.s0a,a.sZa,a.tZa,a.r0a];return a;}();b.Zk=function(){function a(){}a.m4a="simplesdh";a.B4="dfxp-ls-sdh";a.cE="nflx-cmisc";a.cSb="simplesdh-enc";a.PNb="dfxp-ls-sdh-enc";a.xT="nflx-cmisc-enc";return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fo=void 0;b.fo="LogMessageFactorySymbol";},function(d){d.P=function(b,a){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a;};},function(d,b){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Fw=b.bn=void 0;ba(a,Error);b.bn=a;b.Fw="PromiseTimerSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);d=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===c.Dw?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();b.Metadata=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.fh=void 0;c=a(0);k=a(1);m=a(318);r=a(3);q=a(45);n=a(34);d=function(){var b;function a(a,b,f,c,l,n){this.context=a;this.errorCode=b;this.nEb=f;this.Xla=l;this.X$=n;this.name=c;}a.prototype.send=function(a,b,f,c,l,q,m){var h;m=void 0===m?n.mt.WT:m;h=this;return this.Snb(a,b,f,m,c,l,q).then(function(a){return h.context.rjb.send(a.context,a.request);});};a.prototype.Snb=function(a,b,f,c,l,n,q){var h,m;try{h=this.context.QDb.create(this.context.XG.dB(),b,f,l,c);m=this.Ocb(a,c,n,q);return Promise.resolve({context:m,request:h});}catch(Q){return Promise.reject(Q);}};a.prototype.Ocb=function(a,b,f,c){return{Te:this.context.Te,log:a,Gj:this.name,url:this.context.LKb(m.lEa(this.context.ag,this.context.Ph,this.name,b)),kma:this.nEb,timeout:r.eh(59),headers:m.kEa(this.context.Ph,this.context.Hx),Wla:this.Wla,Xla:void 0!==f?f:this.Xla,rcb:c};};a.prototype.ul=function(a){return a instanceof q.vc?a:m.ul(this.errorCode,a);};a.prototype.LEa=function(a){var b;b=this;a.forEach(function(a){if(b.AO(a))throw a.error;});};a.prototype.AO=function(a){return void 0!==a.error;};qa.Object.defineProperties(a.prototype,{Wla:{configurable:!0,enumerable:!0,get:function(){return this.X$;}}});b=a;return b=c.__decorate([k.N(),c.__param(0,k.Xh()),c.__param(1,k.Xh()),c.__param(2,k.Xh()),c.__param(3,k.Xh()),c.__param(4,k.Xh()),c.__param(5,k.Xh())],b);}();b.fh=d;},function(d,b,a){var f,h,x,F,I,E,J,K,g,T,Q,p,S,A,t,u;function c(a){var b,f,c,l;b=a.url.split("?");f=b[0];c="sc="+a.KEb;l=a.oEa?"random="+(1E17*Q.Jz()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(l?"&"+l:"");a.ic&&!F.B_(f)&&(a=h.config&&h.config.Vba)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function k(a){var b,f,c,l;b=a.url.split("?");f=b[0];c="bb_reason="+a.reason;l=a.oEa?"random="+(1E17*Q.Jz()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(l?"&"+l:"");a.ic&&!F.B_(f)&&(a=h.config&&h.config.Vba)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function m(a,b){var f,c,l,n;f=a.url.split("?");c=f[0];l=r(a);l&&(b.Eq=l,(void 0===a.Nq?h.config.Nq:a.Nq)?(a.headers=a.headers||{},a.headers.Range="bytes="+l):(b.Eq=l,c="/"==c[c.length-1]?c+"range/":c+"/range/",c+=l));l=a.oEa?"random="+(1E17*Q.Jz()).toFixed(0):"";h.config.qB&&a.C2&&(n="sc="+a.C2,l=n+(l?"&"+l:""));c=f[1]?c+("?"+f[1]+(l?"&"+l:"")):c+(l?"?"+l:"");a.ic&&!F.B_(c)&&(a=h.config&&h.config.Vba)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));b.url=c;}function r(a){var b;b=a.offset;if(void 0!==b)return g.fN(b),void 0!==a.length?(a=a.offset+a.length-1,g.fN(a),b+"-"+a):b+"-";}function q(){return!1!==Q.Qi.onLine;}function n(a,f,c,l){var h,n;h=l.$ka;n=l.headers;a.open(h?"POST":"GET",f,!c);switch(l.responseType){case b.kO:a.responseType="arraybuffer";break;case b.Zga:T.wEa(a,"overrideMimeType",void 0,"text/xml");}h&&(f={"Content-Type":E.Ie(h)?"text/plain":"application/x-octet-stream"},n=n?E.xb(f,n):f);n&&T.zd(n,function(b,f){a.setRequestHeader(b,f);});l.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");h?a.send(h):a.send();}function l(a,f){switch(f.type){case b.kO:return a.response||new ArrayBuffer(0);case b.Zga:return a.responseXML;default:return a.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.kO=b.Zga=b.Yga=b.$ga=b.SZ=b.jLa=b.iLa=b.QZ=b.i5a=b.j5a=b.Drb=b.RZ=b.Arb=b.Brb=b.zrb=b.Crb=b.Te=void 0;f=a(74);h=a(12);x=a(9);F=a(43);I=a(39);E=a(22);J=a(2);K=a(6);g=a(17);T=a(21);Q=a(10);p=a(59);S=a(15);A=a(26);t={M8:1,bTb:2,gYa:3};b.Te=function(){var F,D,T,Q;function a(a){var b;try{b=a.url;S.Sha(b)?0===b.indexOf("https")?Q.ssl++:0===b.indexOf("http")?Q["non-ssl"]++:Q.invalid++:Q.invalid++;}catch(ga){}}function r(){D.Wb(b.jLa);D.Wb(b.$ga);}function d(){D.Wb(b.SZ);D.Wb(b.$ga);}F=K.uh("Http");D=new f.rj();T=0;Q={ssl:0,"non-ssl":0,invalid:0};K.$.get(A.Kf).register(J.K.qta,function(a){h.config.TKb&&(M.addEventListener("online",r),M.addEventListener("offline",d),b.RZ=q);a(x.wd);});return{addEventListener:D.addListener,removeEventListener:D.removeListener,download:function(f,c){var t,W,Z,da,N,ja,ma,na,O,oa,xa;function q(){var a;q=E.Ye;xa&&(clearTimeout(xa),xa=null);D.removeListener(b.SZ,d);O&&(O.onloadstart=null,O.onreadystatechange=null,O.onprogress=null,O.onerror=null,O.onload=null,O=O.onabort=null);na.da||(na.ga!=J.J.rw?t.warn("Download failed",W,J.Dp(na)):t.trace("Download aborted",W));a=Z;Z=void 0;for(var f=a.length;f--;)(function(){var b;b=a[f];p.pc(function(){b(na);});}());D.Wb(b.iLa,na,!0);}function r(){xa&&(clearTimeout(xa),xa=null);xa=setTimeout(Q,oa?ma:ja);}function k(a,b,f,c){var l,h;na.da=!1;na.ga=a;l=I.Tg();h=na.Ck;h.dh=h.dh||l;h.Fm=h.Fm||l;0<b&&(na.$i=na.se=b);f&&(na.sb=f);c&&(na.Oy=c);a!==J.J.UJ&&a!==J.J.Az&&a!==J.J.XJ||!O||(O.onabort=null,V());q();}function x(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f&&(b=JSON.parse(f));}catch(mb){}return b;}function d(){b.RZ()||k(J.J.UJ);}function Q(){k(oa?J.J.Az:J.J.XJ);}function V(){try{O&&O.abort();}catch(Mc){}}function A(){k(J.J.rw);}g.lb(c);t=f.j&&f.j.log&&K.zg(f.j,"Http")||F;W={Num:T++};Z=[c];da={};ja=f.aX||h.config.aX;ma=f.Vja||h.config.Vja;a(f);na=function(){var a,b,c;a=E.Ye;b=E.Ye;c=E.Ye;return{request:f,type:f.responseType,Ck:da,abort:V,timeout:Q,Caa:function(a){q!==E.Ye&&(g.lb(Z,"Callback should be added before download starts."),Z&&Z.unshift(a));},U0:function(a){c(a);},W0:function(b){a(b);},QH:function(a){b(a);},bGb:function(a){c=a;},jGb:function(b){a=b;},WFb:function(a){b=a;}};}();p.pc(function(){var a,c;if(S.Sha(f.url))try{if(m(f,na),N=na.url,g.bG(N),W.Url=N,b.RZ()){O=new XMLHttpRequest();a=h.config.YKb&&"undefined"!=typeof O.onloadstart;a&&(O.onloadstart=function(){var a;a=I.Tg();da.requestTime=a;na.U0({mediaRequest:f,timestamp:a});});O.onreadystatechange=function(){if(2==O.readyState){oa=!0;da.dh=I.Tg();O.onreadystatechange=null;r();for(var a=na,b=O.getAllResponseHeaders().split("\n"),c=b.length,l,h,n={};c--;)if(l=b[c])h=l.indexOf(": "),1<=h&&h<l.length-1&&(n[l.substr(0,h)]=l.substr(h+2));a.headers=n;na.W0({timestamp:da.dh,connect:!0,mediaRequest:f,start:da.requestTime,rt:[da.dh-da.requestTime]});}};O.onprogress=function(a){oa=!0;da.Cx=a.loaded;r();a={mediaRequest:f,bytes:a.loaded,tempstamp:I.Tg(),bytesLoaded:a.loaded};na.W0(a);};O.onload=function(){var a;if(q!==E.Ye){g.lb(void 0===da.Fm);da.Fm=I.Tg();da.dh=da.dh||da.Fm;if(200<=O.status&&299>=O.status)if(a=l(O,na),f.mg)try{na.content=f.mg(a,na);na.da=!0;na.parsed=!0;na.raw=a;}catch(mb){t.warn("Exception parsing response",mb,W);k(J.J.L5,void 0,E.Ge(mb));}else na.parsed=!1,na.content=a,na.da=!0;else O.status==u?k(J.J.WJ,O.status):k(J.J.VJ,O.status,O.response,x(O));q();}};O.onabort=A;O.onerror=function(){var a,b;a=O.status;"undefined"!==typeof h.config.oIa&&(a=h.config.oIa);if(0<a)if(a==u)k(J.J.WJ,a);else{try{b=O.responseText;}catch(nf){}k(J.J.VJ,a,b,x(O));}else k(J.J.YJ);};c=I.Tg();n(O,N,!1,f);D.Wb(b.QZ,na,!0);a||(da.requestTime=c,na.U0({mediaRequest:f,timestamp:c}));r();D.addListener(b.SZ,d);}else p.pc(k.bind(void 0,J.J.UJ));}catch(Ee){t.error("Exception starting download",Ee,W);k(J.J.P5,void 0,E.Ge(Ee));}else k(J.J.Ksa);});return na;},Xb:Q,CXb:function(a){var b;b=new XMLHttpRequest();a=k(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},aHb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},CBb:function(a){var b,f,c;b=new XMLHttpRequest();f=a.url;c=a.zBb;b.open("HEAD",f);b.timeout=Math.max(2*c.Yub,h.config.lla);b.onreadystatechange=function(){2==b.readyState&&c&&c.ss({url:f});};b.ontimeout=b.onerror=function(){c&&c.dka({url:f});};b.send();},U3a:t};}();b.Crb=c;b.zrb=k;b.Brb=m;b.Arb=r;b.RZ=x.qxa;b.Drb=q;b.j5a=n;b.i5a=l;b.QZ=1;b.iLa=2;b.jLa=3;b.SZ=4;b.$ga=5;b.Yga=1;b.Zga=2;b.kO=3;u=420;M._cad_global.http=b.Te;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bE=b.Kw=void 0;b.Kw="TimingApiSymbol";b.bE="MilestoneTimingApiSymbol";},function(d,b,a){var c,k,m,r,q,n;c=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};k=a(504);d=a(117);m=a(267);r=a(266);q=function(a){function b(b,f,c){var l;a.call(this);this.gD=null;this.Cg=this.Mm=this.fD=!1;switch(arguments.length){case 0:this.destination=m.empty;break;case 1:if(!b){this.destination=m.empty;break;}if("object"===typeof b){if(b instanceof q||"syncErrorThrowable"in b&&b[r.QC]){l=b[r.QC]();this.Mm=l.Mm;this.destination=l;l.add(this);}else this.Mm=!0,this.destination=new n(this,b);break;}default:this.Mm=!0,this.destination=new n(this,b,f,c);}}c(b,a);b.prototype[r.QC]=function(){return this;};b.create=function(a,f,c){a=new b(a,f,c);a.Mm=!1;return a;};b.prototype.next=function(a){this.Cg||this.gl(a);};b.prototype.error=function(a){this.Cg||(this.Cg=!0,this.$e(a));};b.prototype.complete=function(){this.Cg||(this.Cg=!0,this.Zd());};b.prototype.unsubscribe=function(){this.closed||(this.Cg=!0,a.prototype.unsubscribe.call(this));};b.prototype.gl=function(a){this.destination.next(a);};b.prototype.$e=function(a){this.destination.error(a);this.unsubscribe();};b.prototype.Zd=function(){this.destination.complete();this.unsubscribe();};b.prototype.i$a=function(){var a,b;a=this.qo;b=this.rA;this.rA=this.qo=null;this.unsubscribe();this.Cg=this.closed=!1;this.qo=a;this.rA=b;};return b;}(d.Jw);b.$m=q;n=function(a){function b(b,f,c,l){var h;a.call(this);this.yL=b;b=this;k.Tb(f)?h=f:f&&(h=f.next,c=f.error,l=f.complete,f!==m.empty&&(b=Object.create(f),k.Tb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.vj=b;this.gl=h;this.$e=c;this.Zd=l;}c(b,a);b.prototype.next=function(a){var b;if(!this.Cg&&this.gl){b=this.yL;b.Mm?this.r9(b,this.gl,a)&&this.unsubscribe():this.s9(this.gl,a);}};b.prototype.error=function(a){var b;if(!this.Cg){b=this.yL;if(this.$e)b.Mm?this.r9(b,this.$e,a):this.s9(this.$e,a),this.unsubscribe();else if(b.Mm)b.gD=a,b.fD=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};b.prototype.complete=function(){var a,b,f;a=this;if(!this.Cg){b=this.yL;if(this.Zd){f=function(){return a.Zd.call(a.vj);};b.Mm?this.r9(b,f):this.s9(f);}this.unsubscribe();}};b.prototype.s9=function(a,b){try{a.call(this.vj,b);}catch(F){throw this.unsubscribe(),F;}};b.prototype.r9=function(a,b,f){try{b.call(this.vj,f);}catch(I){return a.gD=I,a.fD=!0;}return!1;};b.prototype.oaa=function(){var a;a=this.yL;this.yL=this.vj=null;a.unsubscribe();};return b;}(q);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qq=b.J8=void 0;b.J8="StorageValidatorSymbol";b.Qq="AppStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.er=void 0;b.er="PboConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uq=void 0;b.Uq="DeviceFactorySymbol";},function(d,b,a){var c,k,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Ch=void 0;c=a(0);a(5);k=a(19);m=a(80);r=a(405);q=a(28);d=a(33);n=a(166);l=a(230);a=a(109);f=function(a){function b(b,f){var c;c=a.call(this,b,f)||this;c.xj=f.index;c.GE=f.Ta;c.Et=f.hb;c.r$a=f.Ub?f.Ub:b.Ub;c.xQ=f.xQ;c.KBa=f.Wj||0;c.VAa=!!f.ev;c.yg=void 0===f.Zea||void 0===f.Xea||f.Zea===f.Ta&&f.Xea===f.hb?c:new l.yD(c,{Ta:f.Zea,hb:f.Xea});c.U7a=f.Ija;c.q5a=f.mi;c.Gt=f.Ua?c.ePa(f.Ua):void 0;c.jCa=f.Zv;c.ni=!1;return c;}c.__extends(b,a);b.Ehb=function(a){for(var b=new Uint32Array(a.length),f=new Uint32Array(a.length),c=0,l,h,n=0;n<a.length;++n)l=a[n],h=l.ac,b[n]=l.Et-l.GE,f[n]=h,c+=h;return new r.C8(b,f,a.length?a[0].T:1E3,c);};Object.defineProperties(b.prototype,{RB:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{index:{get:function(){return this.xj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ub:{get:function(){return this.r$a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ta:{get:function(){return this.GE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hb:{get:function(){return this.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wj:{get:function(){return this.KBa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ev:{get:function(){return this.VAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ija:{get:function(){return this.U7a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mi:{get:function(){return this.q5a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ua:{get:function(){return this.Gt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zv:{get:function(){return this.jCa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zea:{get:function(){return this.yg.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xea:{get:function(){return this.yg.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tmb:{get:function(){return this.yg.Jo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vIa:{get:function(){return this.yg.Wka;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tx:{get:function(){return this.yg.dd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{DY:{get:function(){return this.yg.we;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uIa:{get:function(){return this.yg.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yea:{get:function(){return this.yg.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{smb:{get:function(){return this.yg.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{HN:{get:function(){return this.tmb/this.stream.Qa.Cb;},enumerable:!1,configurable:!0}});b.prototype.MTa=function(a){this.KBa=a.Jf(this.T).Cb;};b.prototype.JNa=function(){this.VAa=!0;};b.prototype.lGb=function(a){this.xQ={je:a.cJa(),rMa:a.Ms};};b.prototype.MQ=function(a){this.jCa=a;};b.prototype.Xj=function(a){var b,f;void 0===a&&(a={});b=this.stream.Qa.Cb;f=this.Gt||{start:0,end:this.HN};a=this.ePa(a);this.yg&&this.yg!==this||(this.yg=new l.yD(this,this));a.start>f.start&&(this.GE=this.yg.Ta+a.start*b);a.end<f.end&&(this.Et=this.yg.Ta+a.end*b);this.Gt=a;};b.prototype.Mda=function(a){void 0===a&&(a=1);this.Gt?this.Xj({start:this.Gt.start+a,end:this.Gt.end}):this.Xj({start:a});};b.prototype.Ojb=function(){this.Gt?this.Xj({start:this.Gt.start,end:(this.Gt.end||0)-1}):this.Xj({start:0,end:-1});};b.prototype.Wlb=function(a){var f;if(!(a<this.S||a>=this.oa)&&this.mi&&this.mi.length){a=new q.ha(a+1-this.S,1E3).Eu(this.stream.Qa);for(var b=this.mi.length-1;0<=b;--b){f=this.mi[b];if(f.Gm<=a)return f;}return{Gm:0,Vc:this.Tx};}};b.prototype.Vlb=function(a){var f;if(!(a<this.S||a>=this.oa)&&this.mi&&this.mi.length){a=new q.ha(a+1-this.S,1E3).Eu(this.stream.Qa);for(var b=this.mi.length-1;0<=b;--b){f=this.mi[b];if(f.Gm<=a)return f;}return{Gm:0,Vc:this.Tx};}};b.prototype.UHa=function(a,b){var f,c,l;if(!(a<this.S||a>=this.oa)){f=this.Qa.Cb;c=this.Qa.T;l=Math.floor(this.Jo/f);a=Math.min((b?Math.ceil:Math.floor)((q.ha.Lja(a,c)-this.Ta+(b?-1:1)*(c/1E3-1))/f),l);f=q.ha.foa(this.Ta+a*f,c);return a===l?void 0:{Gm:a,Vc:f};}};b.prototype.qY=function(a){return this.L===k.Na.VIDEO?this.Wlb(a):this.UHa(a,!1);};b.prototype.Tlb=function(a){return this.L===k.Na.VIDEO?this.Vlb(a):this.UHa(a,!0);};b.prototype.Raa=function(a){this.ac+=a.aa;this.Et=a.hb;};b.prototype.toString=function(){return"["+this.ta+", "+this.R+"kbit/s, "+("c:"+this.oc+"-"+this.Vb+",")+("p:"+this.dd+"-"+this.we+",d:"+this.duration+"]");};b.prototype.toJSON=function(){var a;a=n.jw.prototype.toJSON.call(this);m({index:this.index,startPts:this.S,endPts:this.oa,contentStartPts:this.oc,contentEndPts:this.Vb,fragmentStartPts:this.Tx!==this.S?this.Tx:void 0,fragmentEndPts:this.DY!==this.oa?this.DY:void 0,edit:this.Ua},a);return a;};b.prototype.ZHa=function(a){var b;if(this.mi)for(var f=0;f<this.mi.length;++f)this.mi[f].Gm===a&&(b=this.mi[f].offset);return b;};b.prototype.ePa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.HN)+(a.end||0)};};return b;}(n.jw);b.Ch=f;d.Ke(a.nz,f);d.Ke(a.kz,f);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(129);b.hA=function(a){c.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};b.$za=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};b.lTb=function(a,b){return Math.floor(1E3*a/b);};},function(d,b,a){var k,m;function c(){var a,b;a=this;this.Jp={};this.on=function(b,c,f){a.addListener(b,c,f);};this.addListener=function(b,c,f){a.Jp&&(a.Jp[b]=a.Jp[b]||new m.l8(!0)).add(c,f);};this.removeListener=function(b,c){a.Jp&&a.Jp[b]&&a.Jp[b].removeAll(c);};this.Bfa=function(b){return a.Jp&&a.Jp[b]?a.Jp[b].Tr():[];};b=this;this.Wb=function(a,c,f){var l;if(b.Jp){l=b.Bfa(a);for(a={Qj:0};a.Qj<l.length;a={Qj:a.Qj},a.Qj++)f?function(a){return function(){var b;b=l[a.Qj];k.pc(function(){b(c);});};}(a)():l[a.Qj].call(this,c);}};}Object.defineProperty(b,"__esModule",{value:!0});b.rj=void 0;k=a(59);m=a(471);c.prototype.xg=function(){this.Jp=void 0;};b.rj=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kg=void 0;b.Kg={audio:"audio",video:"video",c3:"timedtext",roa:"trickplay"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f5=b.E8=b.h6=b.I8=b.H8=b.FS=b.Ol=void 0;b.Ol={start:"start",stop:"stop",CO:"keepAlive",xN:"engage",splice:"splice"};b.FS="EventPboCommandFactorySymbol";b.H8="StartEventPboCommandSymbol";b.I8="StopEventPboCommandSymbol";b.h6="KeepAliveEventPboCommandSymbol";b.E8="SpliceEventPboCommandSymbol";b.f5="EngageEventPboCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M4=b.HJ=b.KS=b.GS=void 0;b.GS="EventSourceSymbol";b.KS="GlobalEventSourceSymbol";b.HJ="DebugEventSourceSymbol";b.M4="DiagnosticsEventSourceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ap={Request:"Request",D8:"Singleton",sU:"Transient"};b.Mi={Qqa:"ConstantValue",Rqa:"Constructor",Lra:"DynamicValue",n5:"Factory",Function:"Function",Z5:"Instance",F1a:"Invalid",mxa:"Provider"};b.ut={Kqa:"ClassProperty",Sqa:"ConstructorArgument",h9:"Variable"};},function(d,b){var c;function a(a,b){var m;m=this;this.f$=[];c.forEach(function(c){(c=c(a,b))&&m.f$.push(c);});}Object.defineProperty(b,"__esModule",{value:!0});b.Kz=b.Zua=void 0;c=[];a.prototype.Hs=function(a){var q;for(var b=[],c=this.f$.length;c--;){q=this.f$[c];q.Hs(a)&&b.push(q.BG);}if(b.length)return b;};b.Zua=a;b.Kz=function(a){c.push(a);};},function(d){d.P=function a(c,k){var m;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,k);Object.getOwnPropertyNames(c).forEach(function(a){m=Object.getOwnPropertyDescriptor(c,a);void 0!==m&&Object.defineProperty(k,a,m);});};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(b){a.prototype.parse.call(this,b);this.Bd=this.Cs([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{jWb:"int32"},{BZb:"int32"},{offset:32,type:"offset"},{umb:"int16"},{Ieb:{type:"int8",abb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};b.jc=!0;return b;}(a(235)["default"]);b["default"]=d;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="avc1";return b;}(d);b.RXa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="avc2";return b;}(d);b.SXa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="avc3";return b;}(d);b.TXa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="avc4";return b;}(d);b.UXa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="hvc1";return b;}(d);b.A0a=a;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="hev1";return b;}(d);b.v0a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z6="6674654e-696c-5078-6966-665374726d21";b.a7="6674654e-696c-4878-6165-6465722e7632";b.kva="6674654e-696c-5078-6966-66496e646578";b.wT="6674654e-696c-4d78-6f6f-6653697a6573";b.vT="6674654e-696c-5378-6565-6b506f696e74";b.Jva="cedb7489-e77b-514c-84f9-7148f9882554";b.Iva="524f39a2-9b5a-144f-a244-6c427c648df4";b.Y6="6674654e-696c-4678-7261-6d6552617465";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rq=void 0;d=function(){function a(a){this.Ce=a;}a.prototype.NTa=function(a){this.Ce=a;};a.prototype.VEa=function(){this.Ce=void 0;};a.prototype.GN=function(a){return this.Ce&&this.Ce.X0&&this.Ce.X0(a);};a.prototype.AB=function(a){this.Ce&&this.Ce.Bv&&this.Ce.Bv(a);};a.prototype.Sx=function(a){this.Ce&&this.Ce.RH&&this.Ce.RH(a);};a.prototype.BB=function(a){this.Ce&&this.Ce.SH&&this.Ce.SH(a);};a.prototype.qIa=function(a){this.Ce&&this.Ce.xka&&this.Ce.xka(a);};a.prototype.aq=function(a){this.Ce&&this.Ce.hj&&this.Ce.hj(a);};a.prototype.CY=function(a){this.Ce&&this.Ce.BP&&this.Ce.BP(a);};a.prototype.BY=function(a,b,m){this.Ce&&this.Ce.AP&&this.Ce.AP(a,b,m);};return a;}();b.Rq=d;d.prototype.X0=d.prototype.GN;d.prototype.Bv=d.prototype.AB;d.prototype.RH=d.prototype.Sx;d.prototype.SH=d.prototype.BB;d.prototype.hj=d.prototype.aq;d.prototype.BP=d.prototype.CY;d.prototype.AP=d.prototype.BY;d.prototype.xka=d.prototype.qIa;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sJ=b.dYa=b.S3=b.T3=void 0;(function(a){a[a.WGa=0]="downloading";a[a.Ijb=1]="downloaded";a[a.ni=2]="appended";a[a.buffered=3]="buffered";a[a.CDb=4]="removed";a[a.rZb=5]="unused";}(b.T3||(b.T3={})));(function(a){a[a.waiting=1]="waiting";a[a.KXb=2]="ondeck";a[a.WGa=4]="downloading";a[a.Ijb=8]="downloaded";a[a.uO=6]="inprogress";}(b.S3||(b.S3={})));b.dYa="AseBufferViewSymbol";b.sJ="AseBufferAccountingSymbol";},function(d,b,a){d=a(143);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;d="undefined"!==typeof M&&M||"undefined"!==typeof d&&d||a;b.root=d;if(!d)throw Error("RxJS could not find any global context (window, self, global)");},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tq=b.G4=void 0;b.G4="DebugConfigSymbol";b.Tq="DebugSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qia=b.sj=void 0;(function(a){a[a.Ym=0]="STANDARD";a[a.ww=1]="LIMITED";}(b.sj||(b.sj={})));b.qia=function(a){return["STANDARD","LIMITED"][a];};},function(d,b,a){var k,m;function c(a,b,c,l,f){a=void 0===a?k.K.$k:a;return m.vc.call(this,a,b,c,void 0,void 0,l,m.vc.Ge(f),f)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.Lf=void 0;k=a(2);m=a(45);ba(c,m.vc);b.Lf=c;},function(d,b,a){var m,r;function c(a,b,c,f,h){var l,n,r;l={};n="number"===typeof h;h=void 0!==h&&n?h.toString():c;if(n&&void 0!==c)throw Error(m.r1a);Reflect.Hga(a,b)&&(l=Reflect.getMetadata(a,b));c=l[h];if(Array.isArray(c))for(var n=0,q=c;n<q.length;n++){r=q[n];if(r.key===f.key)throw Error(m.q_a+" "+r.key.toString());}else c=[];c.push(f);l[h]=c;Reflect.oda(a,l,b);}function k(a,b){return function(c,f){b(c,f,a);};}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);r=a(38);b.hD=function(a,b,l,f){c(r.xya,a,b,f,l);};b.kR=function(a,b,l){c(r.yya,a.constructor,b,l);};b.Gx=function(a,b,c){"number"===typeof c?Reflect.Gx([k(c,a)],b):"string"===typeof c?Reflect.Gx([a],b,c):Reflect.Gx([a],b);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.jh=b.L2a=b.Vm=void 0;c=a(15);b.Vm=b.Vm||function(a,b,c){return a>=b?a<=c?a:c:b;};b.L2a=function(a,b,c,q,n){return(a-b)*(n-q)/(c-b)+q;};b.jh=function(a){if(c.ma(a))return(a/1E3).toFixed(3);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xw=b.C0a=b.ResponseType=void 0;d=b.ResponseType||(b.ResponseType={});d[d.Text=0]="Text";d[d.cTb=1]="Xml";d[d.jNb=2]="Binary";b.C0a="HttpClientSymbol";b.xw="LegacyHttpSymbol";},function(d,b,a){var m,r,q,n,l,f,h,x;function c(a){var b;if(!a.paa){b=a.vKa();a.fl.KA(b["default"].Da,a.di);a.fl.tD(b.nq?b.nq.g1:void 0,b.nq?b.nq.RC:void 0);m.Oa(a.Rb)||(a.paa=!0);}}function k(a,b,c){var l;this.I=c;this.Lp={};this.LE=c.LE;this.rAa=new n(this.LE);this.aL=new f(!0);this.OK=new f(!1);this.reset();this.H$=a;this.fl=b;this.PAa=r.vm.name();this.fl.v2(this.PAa);this.EL=this.dA=0;this.PK=[];r.events.on("networkchange",function(a){this.PAa=a;this.fl.v2(a);}.bind(this));l=c.eda;l&&(l={yd:q.Ne.PJ,Ga:{Da:parseInt(l,10),Bh:0},xh:{Wbb:0,Bh:0},lq:{Wbb:0,Bh:0}},this.get=function(){return l;});x=this;}m=a(8);r=a(4);q=a(19);a(11);b=a(16).EventEmitter;n=a(402).wsa;l=new r.Console("ASEJS_NETWORK_MONITOR","media|asejs");f=a(846).esa;h=a(844);x=void 0;k.prototype.constructor=k;k.prototype=Object.create(b.prototype);k.Qf=function(){h(void 0!==x);return x;};k.reset=function(){x&&x.reset();};Object.defineProperties(k.prototype,{startTime:{get:function(){return this.$d;}},yd:{get:function(){return this.di;}},wo:{get:function(){return this.dA;}},BCa:{get:function(){return this.PK;}}});k.prototype.j6a=function(){var a,b,f,c;a=this.I;b=a.z6a.concat(a.H6a);f=a.e$;c=this.rAa;return b.reduce(function(a,b){a[b]=c.create(b,f);return a;},{});};k.prototype.reset=function(){var a,b,f;a=this.I.e$;b=this.rAa;f=this.I;this.location=null;this.Lp=this.j6a();this.aL.reset();this.OK.reset();this.St=b.create("respconn-ewma",a);this.Kt=b.create("respconn-ewma",a);this.di=q.Ne.HAVE_NOTHING;this.l$a=function(){c(this);}.bind(this);this.hW=void 0;this.Zw=this.ac=this.Rb=this.$d=null;this.L5a=this.bW=this.PL=0;this.P$=!1;f.zSa&&(this.EL=this.dA=0,this.PK=[]);};k.prototype.JQ=function(a){var b;b=this.Lp;if(a!==this.location){m.W(this.hW)||(clearInterval(this.hW),this.hW=void 0);m.Oa(this.location)&&(this.bW=this.PL=0,this.$d=null);if(!m.Oa(a)){this.di=q.Ne.HAVE_NOTHING;for(var f in b)b[f]&&b[f].reset&&b[f].reset();this.St.reset();this.Kt.reset();}m.Oa(this.$d)||(this.PL+=(m.Oa(this.Rb)?r.time.ea():this.Rb)-this.$d,this.bW+=this.ac);this.Rb=this.$d=null;this.ac=0;this.location=a;this.fl.JQ(a);}};k.prototype.v2=function(a){this.fl.v2(a);};k.prototype.S$a=function(a){this.Lp.QoEEvaluator?l.warn("monitor (QoEEvaluator) already existed."):this.Lp.QoEEvaluator=a;};k.prototype.qDb=function(){delete this.Lp.QoEEvaluator;};k.prototype.ox=function(a,b,f,h){var n,r;n=this.I;r=this.Lp;if(!0===h.wD)(h=r["throughput-wssl"])&&h.add(a,b,f,!0);else if(m.W(b))l.warn("addDataReceived called with undefined start time");else{n.G6a&&10>f-b?b=f-10:0===f-b&&(b=f-1);this.aL.ox(a,b,f,h);this.OK.ox(a,b,f,h);for(var k in r)r[k]&&r[k].add&&r[k].add(a,b,f);this.di=Math.max(this.di,q.Ne.zz);m.Oa(this.$d)&&(this.$d=b,this.Rb=null,this.paa=!1,this.ac=0);m.Oa(this.Rb)||(b>this.Rb&&(this.$d+=b-this.Rb),this.Rb=null,this.paa=!1);this.ac+=a;this.di<q.Ne.yz&&(f-this.$d>n.S7a||this.ac>n.R7a)&&(this.di=q.Ne.yz);this.di<q.Ne.PJ&&(f-this.$d>n.$8a||this.ac>n.Z8a)&&(!this.P$||this.L5a>n.Q7a)&&(this.di=q.Ne.PJ,c(this),this.hW=setInterval(this.l$a,n.D7a));m.Oa(this.Zw)||(b-this.Zw>n.lBa?this.H$.NLa(this.Zw,b):f-b>n.lBa&&this.H$.NLa(b,f));this.Zw=Math.max(f,this.Zw);}};k.prototype.cu=function(a){this.St.add(a);this.fl.cu(a);};k.prototype.bu=function(a){this.Kt.add(a);this.fl.bu(a);};k.prototype.start=function(a){var b;m.Oa(this.Zw)&&!m.Oa(this.Rb)&&(this.Zw=a);b=this.Lp;if(this.I.Ana)for(var f in b)b[f]&&b[f].start&&b[f].start(a);};k.prototype.stop=function(a){var b,f;b=this.Lp;for(f in b)b[f]&&b[f].stop&&b[f].stop(a);this.Rb=m.Oa(this.Rb)?a:Math.min(this.Rb,a);this.Zw=null;};k.prototype.flush=function(){var a,b;a=this.Lp;for(b in a)a[b]&&a[b].flush&&a[b].flush();};k.prototype.fail=function(){this.$d=null;};k.prototype.pJa=function(){var a,b;a=this.Lp.entropy;a&&(b=a.Zcb(),a.reset());return b;};k.prototype.vKa=function(){var a,b,f,c,l,h,n;a=r.time.ea();b={};f=this.Lp;c=this.I;l=c.o6a;h=c.F9a;for(n in f)f[n]&&f[n].get&&(b[n]=f[n].get(a),"iqr"===f[n].type&&(b.nq=b[n]),"tdigest"===f[n].type&&(b.Ii=b[n]),"wssl"===f[n].type&&(b.wD=b[n]));b.cdnavtp=this.aL.lm();b.activecdnavtp=this.OK.lm();b["default"]=l&&b[l]?b[l]:b["throughput-ewma"];"none"!==c.zma&&"none"!==h&&(b.eTa=h&&b[h]?b[h]:b["throughput-sw"]);return b;};k.prototype.get=function(){var a,b,f,c,l,h;a=this.vKa();b=a["default"];f=this.St.get();c=this.Kt.get();l=this.I;if(a.eTa)h=a.eTa,b=m.ma(b.Da)&&m.ma(h.Da)&&b.Da>h.Da&&0<h.Da?h:b;a.yd=this.di;a.Ga=b;!l.$X||!b||m.Oa(b.Da)||isNaN(b.Da)||!a.wD||m.Oa(a.wD.Da)||isNaN(a.wD.Da)||("max"===l.mXa?a.Ga.Da=Math.max(a.wD.Da,b.Da):"sum"===l.mXa&&(a.Ga.Da+=a.wD.Da));a.xh=f;a.lq=c;b=this.PL+!m.Oa(this.$d)?(m.Oa(this.Rb)?r.time.ea():this.Rb)-this.$d:0;a.time=b;return a;};k.prototype.Umb=function(){var a;a=this.PL+!m.Oa(this.$d)?(m.Oa(this.Rb)?r.time.ea():this.Rb)-this.$d:0;return{GF:Math.floor(8*(this.bW+this.ac)/a),hWb:this.H$.Tc()};};k.prototype.dqb=function(){var a,b,f;a={};b=this.get(!0);if(b.yd&&b.Ga){a.aseavtp=Number(b.Ga.Da).toFixed(2);a.asevartp=Number(b.Ga.Bh).toFixed(2);if(b.nq){f=b.nq.g1;!f||isNaN(f.Hk)||isNaN(f.Gk)||isNaN(f.ij)||(a.aseniqr=0<f.ij?Number((f.Hk-f.Gk)/f.ij).toFixed(2):-1,a.aseiqr=Number(f.Hk-f.Gk).toFixed(2),a.asemedtp=Number(f.ij).toFixed(2));a.iqrsamples=b.nq.RC;}b.Ii&&b.Ii.Ou&&(a.tdigest=b.Ii.Ou());}return a;};k.prototype.LC=function(a,b){var f;f=b.requestId;1===++this.dA&&(this.emit("active",a),this.start(a));f&&this.PK.push(f);this.aL.LC(a,b);this.OK.LC(a,b);};k.prototype.Zla=function(){++this.EL;};k.prototype.NC=function(a,b,f){var c;c=f.requestId;b&&--this.EL;--this.dA;this.I.zSa&&(this.dA=Math.max(this.dA,0),this.EL=Math.max(this.EL,0));0===this.dA&&(this.stop(a),this.emit("inactive",a));c&&(b=this.PK.indexOf(c),0<=b&&this.PK.splice(b,1));this.aL.NC(a,f);this.OK.NC(a,f);};d.P=k;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(237);c=a(128);b.s_a=c;c=a(414);b.b9=c;c=a(410);b.NTb=c;b.dya=d.HH.Sc.sidx;d=a(865);b.Cw=d.Cw;d=a(406);b.dK=d.dK;d=a(861);b.Bw=d.Bw;b.VO=d.VO;d=a(73);b.hA=d.hA;a=a(860);b.ar=a.ar;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gz=void 0;b.Gz="LoggerSinksSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$z=void 0;b.$z="ThrottleFactorySymbol";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Iw=void 0;c=a(0);k=a(1);d=function(){var b;function a(){}a.prototype.format=function(a,b){var f;for(var c=1;c<arguments.length;++c);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof f[b]?f[b]:a;});};a.prototype.UHb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};a.prototype.PUa=function(a){return JSON.stringify(a,null,"  ");};b=a;return b=c.__decorate([k.N()],b);}();b.Iw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lw=void 0;b.Lw="Utf8EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lw=void 0;b.lw="Base16EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kt=void 0;b.kt="MediaKeySystemAccessServicesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tK=b.ht=b.Y5=void 0;b.Y5="Injector";b.ht=145152E5;b.tK="ProfileSymbol";},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.MT=b.gk=b.Ch=void 0;b.Ch=function(){};(function(a){a.t7="PRE_FETCH";a.m8="QC";a.Ym="STANDARD";a.iU="SUPPLEMENTAL";a.n_a="DOWNLOAD";}(b.gk||(b.gk={})));b.MT="PboManifestCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xq=void 0;d=b.Xq||(b.Xq={});d[d.hNb=8]="Backspace";d[d.Tab=9]="Tab";d[d.uOb=13]="Enter";d[d.DSb=16]="Shift";d[d.FNb=17]="Ctrl";d[d.KMb=18]="Alt";d[d.sRb=19]="PauseBreak";d[d.yNb=20]="CapsLock";d[d.wOb=27]="Escape";d[d.FSb=32]="Space";d[d.rRb=33]="PageUp";d[d.qRb=34]="PageDown";d[d.tOb=35]="End";d[d.hPb=36]="Home";d[d.CPb=37]="LeftArrow";d[d.USb=38]="UpArrow";d[d.IRb=39]="RightArrow";d[d.bOb=40]="DownArrow";d[d.wPb=45]="Insert";d[d.ZNb=46]="Delete";d[d.fTb=48]="Zero";d[d.QQb=49]="One";d[d.OSb=50]="Two";d[d.MSb=51]="Three";d[d.ROb=52]="Four";d[d.POb=53]="Five";d[d.ESb=54]="Six";d[d.CSb=55]="Seven";d[d.sOb=56]="Eight";d[d.xQb=57]="Nine";d[d.AMb=65]="A";d[d.MMb=66]="B";d[d.pNb=67]="C";d[d.rZa=68]="D";d[d.E=69]="E";d[d.xOb=70]="F";d[d.SOb=71]="G";d[d.VOb=72]="H";d[d.D0a=73]="I";d[d.xPb=74]="J";d[d.f6=75]="K";d[d.I1a=76]="L";d[d.FPb=77]="M";d[d.v2a=78]="N";d[d.KQb=79]="O";d[d.SQb=80]="P";d[d.Q=81]="Q";d[d.BRb=82]="R";d[d.$3a=83]="S";d[d.K4a=84]="T";d[d.PSb=85]="U";d[d.VSb=86]="V";d[d.ZSb=87]="W";d[d.o9=88]="X";d[d.dTb=89]="Y";d[d.eTb=90]="Z";d[d.DPb=91]="LeftWindowKey";d[d.JRb=92]="RightWindowKey";d[d.ASb=93]="SelectKey";d[d.AQb=96]="Numpad0";d[d.BQb=97]="Numpad1";d[d.CQb=98]="Numpad2";d[d.DQb=99]="Numpad3";d[d.EQb=100]="Numpad4";d[d.FQb=101]="Numpad5";d[d.GQb=102]="Numpad6";d[d.HQb=103]="Numpad7";d[d.IQb=104]="Numpad8";d[d.JQb=105]="Numpad9";d[d.XPb=106]="Multiply";d[d.JMb=107]="Add";d[d.HSb=109]="Subtract";d[d.YNb=110]="DecimalPoint";d[d.aOb=111]="Divide";d[d.yOb=112]="F1";d[d.COb=113]="F2";d[d.DOb=114]="F3";d[d.EOb=115]="F4";d[d.FOb=116]="F5";d[d.GOb=117]="F6";d[d.HOb=118]="F7";d[d.IOb=119]="F8";d[d.JOb=120]="F9";d[d.zOb=121]="F10";d[d.AOb=122]="F11";d[d.BOb=123]="F12";d[d.zQb=144]="NumLock";d[d.ySb=145]="ScrollLock";d[d.BSb=186]="SemiColon";d[d.vOb=187]="Equals";d[d.BNb=188]="Comma";d[d.XNb=189]="Dash";d[d.tRb=190]="Period";d[d.QOb=191]="ForwardSlash";d[d.NSb=192]="Tilde";d[d.RQb=219]="OpenBracket";d[d.gNb=220]="BackSlash";d[d.ANb=221]="CloseBracket";d[d.ARb=222]="Quote";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cA=void 0;b.cA="VideoPreparerSymbol";},function(d,b,a){(function(b,k){var r;function c(a,b){var c;c=Date.now();this.qHb=c;this.dY=c+a;this.Yzb=a;this.aib=c+b;this.debug=!1;this.TM=this.tq=0;}r=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.$f=function(a,c){var l;a=((a-this.qHb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;l=b.wwb();r.debug(a+(" "+Math.floor(l.gWb/1024/1024)+" MB/"+Math.floor(l.dLa/1024/1024)+" MB ")+this.fda+c);};c.prototype.J9a=function(a){var b;b=Date.now();this.fda=a;this.tq=0;this.origin=b;this.$f(b,"starting");};c.prototype.j$a=function(a){var c,l;this.TM++;if(!(1E3>this.TM)){this.TM=0;c=Date.now();if(c>=this.aib)throw Error("Execution deadline exceeded: "+this.fda);l=b.wwb();this.tq=Math.max(this.tq,l.dLa);if(7516192768<l.dLa)throw Error("Heap total limit exceeded: "+this.fda);if(!(c<=this.dY)){for(;c>this.dY;)this.dY+=this.Yzb;this.$f(c,a);}}};c.Ab=function(){k.gI=new c(5E3,33E5);};c.w2=function(a){k.gI&&k.gI.J9a(a);};c.update=function(a){k.gI&&k.gI.j$a(a);};c.Qfa=function(){if(k.gI)return k.gI.tq;};d.P=c;}.call(this,a(258),a(143)));},function(d,b,a){d.P={EventEmitter:a(754),Oi:a(753)};},function(d,b,a){var q,n;function c(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function k(a){return q.Ie(a);}function m(a){return q.ma(a);}function r(a){return!c(a)&&!k(a)&&!m(a)&&!Array.isArray(a)&&q.Ue(a);}q=a(8);n={tz:0,hU:1,D2a:2,OBJECT:3,$k:4};d.P={xga:function(a){return c(a)?n.tz:k(a)?n.hU:m(a)?n.D2a:r(a)?n.OBJECT:n.$k;},l_:c,Ie:k,ma:m,Ue:r,ho:n};},function(d){var b;b={pO:function(a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);}};d.P=b;},function(d,b,a){var q;function c(a,b){return void 0===a?void 0:0===a?q.ha.Dc:new q.ha(a,b);}function k(a,b){return a&&Math.floor(q.ha.foa(a,b));}function m(a,b){return void 0===a||void 0===b?void 0:a+b;}function r(a,b){return void 0===a||void 0===b?void 0:a-b;}Object.defineProperty(b,"__esModule",{value:!0});b.kz=b.nz=void 0;q=a(28);d=function(){function a(){}Object.defineProperties(a.prototype,{Jo:{get:function(){return r(this.hb,this.Ta)||0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wka:{get:function(){return m(this.Ta,this.Wj);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{PQa:{get:function(){return m(this.hb,this.Wj);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Oda:{get:function(){return c(this.Jo,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pl:{get:function(){return c(this.Ta,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zn:{get:function(){return c(this.hb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kv:{get:function(){return c(this.Wka,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{AC:{get:function(){return c(this.PQa,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{WBb:{get:function(){return c(this.Wj,this.T);},enumerable:!1,configurable:!0}});return a;}();b.nz=d;d=function(){function a(){}Object.defineProperties(a.prototype,{duration:{get:function(){return r(this.oa,this.S)||0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return k(m(this.Ta,this.Wj),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oa:{get:function(){return k(m(this.hb,this.Wj),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Bm:{get:function(){return k(this.Wj,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{si:{get:function(){return k(this.Ta,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oc:{get:function(){return k(this.Ta,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vb:{get:function(){return k(this.hb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dd:{get:function(){return k(m(this.Ta,this.Wj),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{we:{get:function(){return k(m(this.hb,this.Wj),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Or:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pv:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hI:{get:function(){return this.oa;},enumerable:!1,configurable:!0}});return a;}();b.kz=d;},function(d,b,a){var h;function c(a,b){if(a.length==b.length&&1<a.length){for(var f=a.length,c=0,l=q(a),h=q(b),n=0;n<f;n++)c+=a[n]*b[n];return(c-l*h/f)/f;}return!1;}function k(a){if(!Array.isArray(a)||2>a.length)return!1;a=m(a);return Math.sqrt(a);}function m(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=r(a);return q(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function r(a){return Array.isArray(a)&&a.length?q(a)/a.length:!1;}function q(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function n(a,b,f){return Math.max(Math.min(a,f),b);}function l(a,b){return"number"===typeof a?a:b;}function f(a){return 1/(1+Math.exp(-a));}h=a(8);d.P={Ka:function(a,b,f){try{a.emit(b,f);}catch(E){a.$e("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",E,"Event:",f);}},Kr:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a+b.byteLength;},0);return f.buffer;},UW:n,geb:function(a,b,f,c){return{min:n(l(a.min,b),f,c),max:n(l(a.max,b),f,c),tu:n(a.tu||6E4,0,6E5),DEa:n(a.DEa||0,-3E5,3E5),scale:n(a.scale||6E4,0,3E5),$Sa:n(a.$Sa||0,-3E5,3E5),gamma:n(a.gamma||1,.1,10)};},zd:function(a,b){void 0!==a&&h.qzb(a).forEach(function(a){b(a[0],a[1]);});},DHa:function(a,b,c){return a.min+(a.max-a.min)*(1-Math.pow(f(6*(b-(a.tu+(a.DEa||0)*(1-c)))/(a.scale+(a.$Sa||0)*(1-c))),a.gamma));},Ykb:function(a,b){return a.min+(a.max-a.min)*Math.pow(f(6*(b-a.tu)/a.scale),a.gamma);},YVb:q,cnb:r,rqb:m,WVb:k,JVb:c,IVb:function(a,b){var f;if(a.length==b.length){f=c(a,b);a=k(a);b=k(b);if(0<a&&0<b)return f/(a*b);}return!1;},py:function(a,b,f){return b.SFa?b.SFa(f):new a.Console("ASEJS","media|asejs",f);},Gma:function(a){return a.length?"{"+a+"} ":"";},FEb:function(a,b,f){return{min:a.min*f+(1-f)*b.min,max:a.max*f+(1-f)*b.max,tu:a.tu*f+(1-f)*b.tu,scale:a.scale*f+(1-f)*b.scale,gamma:a.gamma*f+(1-f)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},mna:f,rm:function(a){var b;b=a.Ja.Ic.ba.id;return{S:a.S,duration:a.duration,offset:a.offset,aa:a.aa,R:a.R,profile:a.profile,bc:a.bc,Ma:b,ta:a.ta,Kb:a.Kb,location:a.location,Pj:a.Pj,si:a.si,Gv:{Ic:{ba:{id:b}}}};}};},function(d,b,a){var c;c=a(171);d.P=function(a){return function r(b){return 0===arguments.length||c(b)?r:a.apply(this,arguments);};};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ws=b.wja=b.jOa=void 0;d=a(974);a=a(971);b.jOa=d;b.wja=function(a,k){return b.jOa(function(a,b){return void 0!==b?b:a;},a,k);};b.ws=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zz=void 0;b.Zz="SourceBufferTypeProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sz=void 0;b.Sz="PlayerErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dz=void 0;b.Dz="IdProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j8=b.Ae=void 0;(function(a){a.wz=function(){function a(){}a.RYa="cache_start";a.SYa="cache_success";a.OYa="cache_abort";a.QYa="cache_fail";a.PYa="cache_evict";a.e3a="pb_request";a.s4a="start_playback";return a;}();a.dk=function(){function a(){}a.cpa="auth";a.Ez="ldl";a.TJ="hdr";a.MEDIA="media";return a;}();a.VR=function(){function a(){}a.fS="cached";a.LOADING="loading";a.R_a="expired";return a;}();}(b.Ae||(b.Ae={})));b.j8="PrefetchEventsFactorySymbol";},function(d,b,a){var k,m,r,q,n,l;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof l.uU?b.xG:b);},[]);}k=a(181);m=a(503);r=a(504);q=a(1130);n=a(502);l=a(1129);d=function(){function a(a){this.closed=!1;this.qF=this.rA=this.qo=null;a&&(this.oaa=a);}a.prototype.unsubscribe=function(){var a,b,f,d,g,J;a=!1;if(!this.closed){f=this.qo;d=this.rA;g=this.oaa;J=this.qF;this.closed=!0;this.qF=this.rA=this.qo=null;for(var K=-1,D=d?d.length:0;f;)f.remove(this),f=++K<D&&d[K]||null;r.Tb(g)&&(f=q.WVa(g).call(this),f===n.Ox&&(a=!0,b=b||(n.Ox.e instanceof l.uU?c(n.Ox.e.xG):[n.Ox.e])));if(k.isArray(J))for(K=-1,D=J.length;++K<D;)f=J[K],m.Ue(f)&&(f=q.WVa(f.unsubscribe).call(f),f===n.Ox&&(a=!0,b=b||[],f=n.Ox.e,f instanceof l.uU?b=b.concat(c(f.xG)):b.push(f)));if(a)throw new l.uU(b);}};a.prototype.add=function(b){var f;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;f=b;switch(typeof b){case"function":f=new a(b);case"object":if(f.closed||"function"!==typeof f.unsubscribe)return f;if(this.closed)return f.unsubscribe(),f;"function"!==typeof f.Gza&&(b=f,f=new a(),f.qF=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.qF||(this.qF=[])).push(f);f.Gza(this);return f;};a.prototype.remove=function(a){var b;b=this.qF;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.Gza=function(a){var b,f;b=this.qo;f=this.rA;b&&b!==a?f?-1===f.indexOf(a)&&f.push(a):this.rA=[a]:this.qo=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();b.Jw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iz=void 0;b.iz="ApiInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.KJ=b.U4=void 0;b.U4="DrmServicesSymbol";b.KJ="DrmServicesProviderSymbol";},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.co=void 0;c=a(0);k=a(1);m=a(42);r=a(65);a(154);d=function(){var b;function a(a,b,c,n,q){b=r.fh.call(this,a,b,n,m.kh.events,q,m.kh.events+"/"+c)||this;b.context=a;b.Zkb=c;return b;}ba(a,r.fh);a.prototype.te=function(a,b){var f,c;f=this;c=this.IW(b);return this.send(a,b.href,c).then(function(){return b;})["catch"](function(a){throw f.ul(a);});};a.prototype.Gn=function(a,b,c){var f,l;f=this;l=this.IW(c);return this.send(a,b.WN("events").href,l).then(function(a){b.Haa(a.result.links);return c;})["catch"](function(a){throw f.ul(a);});};a.prototype.IW=function(a){return{event:this.Zkb,xid:a.ia,position:a.position||0,clientTime:a.IM,sessionStartTime:a.GQ,mediaId:a.uH,trackId:a.$a,sessionId:a.sessionId,appId:a.aM,playTimes:this.Qcb(a.HP),sessionParams:a.Yn,mdxControllerEsn:a.kja};};a.prototype.Iba=function(a){return{downloadableId:a.pd,duration:a.duration};};a.prototype.Qcb=function(a){var b;b={total:a.total,audio:a.audio.map(this.Iba),video:a.video.map(this.Iba),text:a.text.map(this.Iba)};a.total!==a.nD&&(b.totalContentTime=a.nD);return b;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.Xh()),c.__param(1,k.Xh()),c.__param(2,k.Xh()),c.__param(3,k.Xh()),c.__param(4,k.Xh())],b);}();b.co=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,F,I,g,J,K;Object.defineProperty(b,"__esModule",{value:!0});b.Zc=b.ll=void 0;c=a(50);k=a(321);m=a(633);r=a(192);q=a(12);n=a(9);l=a(150);f=a(306);h=a(39);d=a(2);x=a(6);F=a(206);I=a(10);g=a(147);J=a(26);K=a(57);x.$.get(J.Kf).register(d.K.ata,function(d){var J,E,D,p,A,t,u;J=x.$.get(F.hK).Jca();E=x.$.get(l.R4).HD;D=x.$.get(k.N6).hk;p={xC:x.MN("ASE"),cbb:x.MN("JS-ASE",void 0,"Platform"),uh:x.MN,storage:g.storage,Io:g.Io,Yob:I.FD,getTime:h.Tg,lH:{},hk:D,gr:m.gr,HD:E,MediaSource:f.Xua,SourceBuffer:r.L6,yk:function(){return[q.config.vW,q.config.xW];},Dx:function(a){K.Xm.forEach(function(b){b.VTa(a);});}};E=new Promise(function(a){g.storage.load("nh",function(b){p.lH.nh=b.da?b.data:void 0;a();});});D=new Promise(function(a){g.storage.load("lh",function(b){p.lH.lh=b.da?b.data:void 0;a();});});A=new Promise(function(a){g.storage.load("gh",function(b){p.lH.gh=b.da?b.data:void 0;a();});});t=new Promise(function(a){g.storage.load("sth",function(b){p.lH.sth=b.da?b.data:void 0;a();});});u=new Promise(function(a){g.storage.load("vb",function(b){p.lH.vb=b.da?b.data:void 0;a();});});Promise.all([E,D,u,t,A]).then(function(){var f;f=a(631)(p);b.Zc=a(305);b.Zc.declare(c.hm);b.Zc.declare({ez:["useMediaCache",!1],Ix:["diskCacheSizeLimit",0],JUb:["dailyDiskCacheWriteLimit",0],i0:["mediaCachePrefetchMs",8E3],lja:["mediaCachePartitionConfig",{}]});b.Zc.set(a(155)(q.config),!0,x.MN("ASE"));f=c.wNa(f);b.ll=new f(b.Zc,J);b.ll.Ab(q.config.vW,q.config.xW,{xC:p.xC},q.config.V1);d(n.wd);})["catch"](function(a){p.xC.error("Exception loading location history from local storage",a);});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oE=void 0;b.oE="PlaygraphConfigSymbol";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.yvb=b.pQa=b.yzb=b.dJa=b.Gzb=b.hz=b.I3=b.zp=b.qJ=b.pJ=b.Ki=void 0;c=a(21);k=a(17);b.Ki="$attributes";b.pJ="$children";b.qJ="$name";b.zp="$text";b.I3="$parent";b.hz="$sibling";b.Gzb=/^\s*\<\?xml.*\?\>/i;b.dJa=function(a,b,c){for(var n=2;n<arguments.length;++n);for(n=1;(b=arguments[n++])&&(a=a[b]););return a;};b.yzb=function(a,r){var q;a?q=c.Md(a[b.zp]):void 0!==r&&(q=r);k.fN(q);return q;};b.pQa=function(a,c){var q;a?q=a[b.zp]:void 0!==c&&(q=c);k.dGa(q);return q;};b.yvb=function(a,c){var q;q={};q[b.Ki]=a;q[b.zp]=c;return q;};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.yxa=b.Rz=void 0;c=a(0);k=a(769);(function(a){a[a.L2=0]="startPlayback";a[a.Zda=1]="endPlayback";}(b.Rz||(b.Rz={})));d=function(){function a(a){this.config=a;this.qSa=[];}a.prototype.Laa=function(a){var b,n;n=c.__read(this.config.wda.filter(function(b){return b.MM===a.MM;}),1)[0];(null!==(b=null===n||void 0===n?void 0:n.enabled)&&void 0!==b?b:a.enabled)&&this.qSa.push(a);};a.prototype.KN=function(a){var b,n,l,f,m,d;l={};f=[];try{for(var h=c.__values(this.qSa),r=h.next();!r.done;r=h.next()){m=r.value;try{d=m.KN({Xo:a});d&&(m.POa?l[m.POa]=d:l=c.__assign(c.__assign({},l),d));}catch(E){f.push(E);}}}catch(E){b={error:E};}finally{try{r&&!r.done&&(n=h["return"])&&n.call(h);}finally{if(b)throw b.error;}}f.length&&(l["rpt-error"]=new k.opa("Reporting error",f));return l;};return a;}();b.yxa=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.vt=b.y8=void 0;c=a(28);(function(a){a[a.absolute=0]="absolute";a[a.gDb=1]="relative";}(k=b.y8||(b.y8={})));m=function(){function a(a,b){this.type=a;this.timestamp=b;}a.prototype.toString=function(){return"timeStamp: "+this.timestamp+", type: "+k[this.type];};return a;}();d=function(){function a(){}a.E3=function(a){return new m(k.absolute,a);};a.HLb=function(a){return new m(k.gDb,a);};a.Roa=new m(k.absolute,c.ha.mq);return a;}();b.vt=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(125),b);d.__exportStar(a(837),b);d.__exportStar(a(161),b);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(234);d=function(){function a(a,b,c){this.tag=a;this.view=b;this.M=c;this.startOffset=c.offset;}a.GRa=function(b,c){var n,l;n=b.ud();l=b.rCb();b=new(k.fG[n]||a)(n,b.Knb(l),b);b.parse(c);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.M.offset=this.startOffset+this.length;this.M.mC=0;return!0;};a.prototype.VHa=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.fG)for(var n=0;n<this.fG.length;n++)b=c.__spreadArrays(b,this.fG[n].VHa(a));return b;};a.prototype.yB=function(a){for(a=this.VHa(a);0<a.length;)return a[0];};a.prototype.OBa=function(){for(this.fG=[];this.M.offset<this.startOffset+this.length;)this.fG.push(a.GRa(this.M,this));};return a;}();b.J4=d;d.prototype.skip=d.prototype.parse;},function(d){var c,k;function b(){var b,r;if(DataView.prototype&&DataView.prototype.RG&&!k){try{b=new ArrayBuffer(4);r=new DataView(b);r.SG(0,4,1);}catch(q){return;}try{b=new ArrayBuffer(4);r=new DataView(b);r.SG(1,2,2);}catch(q){DataView.prototype.SG=a(DataView.prototype.SG,DataView.prototype.getUint8,Uint8Array);DataView.prototype.qZ=a(DataView.prototype.qZ,DataView.prototype.getUint16,Uint16Array);DataView.prototype.RG=a(DataView.prototype.RG,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Ifa=a(DataView.prototype.Ifa,DataView.prototype.getInt8,Int8Array);DataView.prototype.Gfa=a(DataView.prototype.Gfa,DataView.prototype.getInt16,Int16Array);DataView.prototype.Hfa=a(DataView.prototype.Hfa,DataView.prototype.getInt32,Int32Array);}c.nqb=function(a,b,c,f,h){return c?a.SG(b,c,f||1,h):new Uint8Array(0);};c.lqb=function(a,b,c,f,h){return c?a.qZ(b,c,f||2,h):new Uint16Array(0);};c.mqb=function(a,b,c,f,h){return c?a.RG(b,c,f||4,h):new Uint32Array(0);};c.NVb=function(a,b,c,f,h){return c?a.Ifa(b,c,f||1,h):new Int8Array(0);};c.LVb=function(a,b,c,f,h){return c?a.Gfa(b,c,f||2,h):new Int16Array(0);};c.MVb=function(a,b,c,f,h){return c?a.Hfa(b,c,f||4,h):new Int32Array(0);};k=!0;}}function a(a,b,c){return function(n,l,f,h){var q;f=f||c.BYTES_PER_ELEMENT;if(n+l*f>this.byteLength){q=new c(l);q.set(a.call(this,n,l-1,f,h));q[l-1]=b.call(this,n+(l-1*f),h);return q;}return a.call(this,n,l,f,h);};}c={SG:function(a,b,c,n,l){var f;f=new Uint8Array(c);n=n||1;for(var h=0;h<c;++h,b+=n)f[h]=a.getUint8(b,l);return f;},qZ:function(a,b,c,n,l){var f;f=new Uint16Array(c);n=n||2;for(var h=0;h<c;++h,b+=n)f[h]=a.getUint16(b,l);return f;},RG:function(a,b,c,n,l){var f;f=new Uint32Array(c);n=n||4;for(var h=0;h<c;++h,b+=n)f[h]=a.getUint32(b,l);return f;},Ifa:function(a,b,c,n,l){var f;f=new Int8Array(c);n=n||1;for(var h=0;h<c;++h,b+=n)f[h]=a.getInt8(b,l);return f;},Gfa:function(a,b,c,n,l){var f;f=new Int16Array(c);n=n||2;for(var h=0;h<c;++h,b+=n)f[h]=a.getInt16(b,l);return f;},Hfa:function(a,b,c,n,l){var f;f=new Int32Array(c);n=n||4;for(var h=0;h<c;++h,b+=n)f[h]=a.getInt32(b,l);return f;},xVb:b};k=!1;c.Pnb=function(){return k;};b();d.P=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);return b;}(Error);b.assert=function(a,b){if(!a)throw new k(b||"Assertion failed");};},function(d){var r,q,n,l;function b(){b.Ab.call(this);}function a(a,c,l,n){var f,h;if("function"!==typeof l)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l);f=a.Zf;void 0===f?(f=a.Zf=Object.create(null),a.kA=0):(void 0!==f.zXb&&(a.emit("newListener",c,l.listener?l.listener:l),f=a.Zf),h=f[c]);void 0===h?(f[c]=l,++a.kA):("function"===typeof h?h=f[c]=n?[l,h]:[h,l]:n?h.unshift(l):h.push(l),l=void 0===a.sL?b.yib:a.sL,0<l&&h.length>l&&!h.JLb&&(h.JLb=!0,l=Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit"),l.name="MaxListenersExceededWarning",l.Gu=a,l.type=c,l.count=h.length,console&&console.warn&&console.warn(l)));return a;}function c(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.cIa||(this.target.removeListener(this.type,this.jXa),this.cIa=!0,q(this.listener,this.target,a));}function k(a,b,l){a={cIa:!1,jXa:void 0,target:a,type:b,listener:l};b=c.bind(a);b.listener=l;return a.jXa=b;}function m(a){var b;b=this.Zf;if(void 0!==b){a=b[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}r="object"===typeof Reflect?Reflect:null;q=r&&"function"===typeof r.apply?r.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c);};n=Number.isNaN||function(a){return a!==a;};d.P=b;b.EventEmitter=b;b.prototype.Zf=void 0;b.prototype.kA=0;b.prototype.sL=void 0;l=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return l;},set:function(a){if("number"!==typeof a||0>a||n(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");l=a;}});b.Ab=function(){if(void 0===this.Zf||this.Zf===Object.getPrototypeOf(this).Zf)this.Zf=Object.create(null),this.kA=0;this.sL=this.sL||void 0;};b.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||n(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.sL=a;return this;};b.prototype.emit=function(a){var c,f,l;for(var b=[],f=1;f<arguments.length;f++)b.push(arguments[f]);c="error"===a;f=this.Zf;if(void 0!==f)c=c&&void 0===f.error;else if(!c)return!1;if(c){0<b.length&&(l=b[0]);if(l instanceof Error)throw l;b=Error("Unhandled error."+(l?" ("+l.message+")":""));b.context=l;throw b;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)q(f,this,b);else{l=f.length;for(var c=Array(l),n=0;n<l;++n)c[n]=f[n];for(f=0;f<l;++f)q(c[f],this,b);}return!0;};b.prototype.addListener=function(b,c){return a(this,b,c,!1);};b.prototype.on=b.prototype.addListener;b.prototype.eRa=function(b,c){return a(this,b,c,!0);};b.prototype.once=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.on(a,k(this,a,b));return this;};b.prototype.pBb=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.eRa(a,k(this,a,b));return this;};b.prototype.removeListener=function(a,b){var f,c,l,h,n;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);c=this.Zf;if(void 0===c)return this;f=c[a];if(void 0===f)return this;if(f===b||f.listener===b)0===--this.kA?this.Zf=Object.create(null):(delete c[a],c.removeListener&&this.emit("removeListener",a,f.listener||b));else if("function"!==typeof f){l=-1;for(h=f.length-1;0<=h;h--)if(f[h]===b||f[h].listener===b){n=f[h].listener;l=h;break;}if(0>l)return this;if(0===l)f.shift();else{for(;l+1<f.length;l++)f[l]=f[l+1];f.pop();}1===f.length&&(c[a]=f[0]);void 0!==c.removeListener&&this.emit("removeListener",a,n||b);}return this;};b.prototype.PH=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){var b,f,c;f=this.Zf;if(void 0===f)return this;if(void 0===f.removeListener)return 0===arguments.length?(this.Zf=Object.create(null),this.kA=0):void 0!==f[a]&&(0===--this.kA?this.Zf=Object.create(null):delete f[a]),this;if(0===arguments.length){b=Object.keys(f);for(f=0;f<b.length;++f)c=b[f],"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.Zf=Object.create(null);this.kA=0;return this;}b=f[a];if("function"===typeof b)this.removeListener(a,b);else if(void 0!==b)for(f=b.length-1;0<=f;f--)this.removeListener(a,b[f]);return this;};b.prototype.listeners=function(a){var b;b=this.Zf;if(void 0===b)a=[];else if(a=b[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var b=Array(a.length),f=0;f<b.length;++f)b[f]=a[f].listener||a[f];a=b;}return a;};b.listenerCount=function(a,b){return"function"===typeof a.listenerCount?a.listenerCount(b):m.call(a,b);};b.prototype.listenerCount=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rU=b.cn=void 0;b.cn={kE:"PRIMARY",apa:"ASSISTIVE",oqa:"COMMENTARY",NONE:"NONE"};b.rU={assistive:b.cn.apa,closedcaptions:b.cn.apa,directorscommentary:b.cn.oqa,commentary:b.cn.oqa,subtitles:b.cn.kE,primary:b.cn.kE,none:b.cn.NONE};},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Ml=void 0;c=a(31);k=a(60);m=a(452);d=a(96);r=a(133);new d.Iw();a=function(){function a(a,b,f){var l;l=m.CJ.call(this,a,b,c.ar.mza)||this;l.config=a;l.sja=b;l.is=f;l.type=c.kk.uz;l.PR=r.Ed.VFa();return l;}ba(a,m.CJ);a.prototype.Ls=function(){return Promise.resolve(!1);};a.prototype.IG=function(){return Promise.resolve("");};a.prototype.dR=function(){return Promise.resolve(!1);};a.prototype.bR=function(){return Promise.resolve(!1);};a.prototype.eR=function(){return Promise.resolve(!1);};a.prototype.aR=function(){return Promise.resolve(!1);};a.prototype.FG=function(a){return this.PR[a];};a.prototype.Faa=function(a){return a;};a.prototype.FNa=function(a){switch(a){case c.Zh.Yq:return"1.4";case c.Zh.Fz:return"2.2";}};a.prototype.eB=function(){var a;a={};a[k.X.NJ]="avc1.4D401E";a[k.X.PD]="avc1.4D401F";a[k.X.s5]="avc1.4D4028";a[k.X.E5]="hev1.1.6.L90.B0";a[k.X.F5]="hev1.1.6.L93.B0";a[k.X.G5]="hev1.1.6.L120.B0";a[k.X.H5]="hev1.1.6.L123.B0";a[k.X.I5]="hev1.1.6.L150.B0";a[k.X.J5]="hev1.1.6.L153.B0";a[k.X.A5]="hev1.2.6.L90.B0";a[k.X.B5]="hev1.2.6.L93.B0";a[k.X.C5]="hev1.2.6.L120.B0";a[k.X.D5]="hev1.2.6.L123.B0";a[k.X.RD]="hev1.2.6.L150.B0";a[k.X.SD]="hev1.2.6.L153.B0";a[k.X.TS]="hev1.2.6.L90.B0";a[k.X.VS]="hev1.2.6.L93.B0";a[k.X.XS]="hev1.2.6.L120.B0";a[k.X.ZS]="hev1.2.6.L123.B0";a[k.X.t5]="hev1.2.6.L90.B0";a[k.X.u5]="hev1.2.6.L93.B0";a[k.X.v5]="hev1.2.6.L120.B0";a[k.X.w5]="hev1.2.6.L123.B0";a[k.X.x5]="hev1.2.6.L150.B0";a[k.X.y5]="hev1.2.6.L153.B0";a[k.X.QJ]="hev1.2.6.L90.B0";a[k.X.RJ]="hev1.2.6.L93.B0";a[k.X.QD]="hev1.2.6.L120.B0";a[k.X.SJ]="hev1.2.6.L123.B0";a[k.X.DJ]=r.Ed.C4;a[k.X.EJ]=r.Ed.gra;a[k.X.ED]=r.Ed.hra;a[k.X.FJ]=r.Ed.ira;a[k.X.GJ]=r.Ed.jra;a[k.X.wS]=r.Ed.kra;a[k.X.k0a]="avc1.640016";a[k.X.LS]="avc1.64001E";a[k.X.MS]="avc1.64001F";a[k.X.r5]="avc1.640028";a[k.X.jza]=r.Ed.IK;a[k.X.JK]=r.Ed.IK;a[k.X.KK]=r.Ed.IK;a[k.X.vU]=r.Ed.IK;a[k.X.eza]=r.Ed.HK;a[k.X.fza]=r.Ed.HK;a[k.X.gza]=r.Ed.HK;a[k.X.hza]=r.Ed.HK;a[k.X.iza]=r.Ed.HK;a[k.X.dpa]=r.Ed.Li;a[k.X.epa]=r.Ed.Li;a[k.X.fpa]=r.Ed.Li;a[k.X.gpa]=r.Ed.Li;a[k.X.hpa]=r.Ed.Li;a[k.X.ipa]=r.Ed.Li;a[k.X.jpa]=r.Ed.Li;a[k.X.kpa]=r.Ed.Li;return a;};a.prototype.$Ja=function(){return this.config().MR;};a.prototype.NG=function(){return Promise.resolve(void 0);};a.prototype.ZN=function(){return Promise.resolve(void 0);};a.prototype.ZM=function(a){var b;b=[];this.is.Sd(a)&&b.push(this.FNa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};a.bJ="video/mp4;codecs={0};";return a;}();b.Ml=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=void 0;c=a(31);b.Ed=function(){function a(){}a.VFa=function(b){var r;r={};r[c.xd.xK]=a.OD;r[c.xd.NS]=a.OD;r[c.xd.tU]=a.OJ;r[c.xd.et]=a.et;r[c.xd.ct]=b||a.ct;r[c.xd.xD]=a.OD;r[c.xd.Mw]=a.IK;r[c.xd.Li]=a.Li;return r;};a.OD="avc1.640028";a.OJ="hev1.1.6.L93.B0";a.C4="dvhe.05.01";a.gra="dvhe.05.04";a.hra="dvhe.05.05";a.ira="dvhe.05.06";a.jra="dvhe.05.07";a.kra="dvhe.05.09";a.ct=a.C4;a.et=a.OJ;a.TR="mp4a.40.2";a.zU="mp4a.40.42";a.HNb="ec-3";a.XSb="vp9";a.IK="vp09.00.11.08.02";a.HK="vp09.02.31.10.01";a.Li="av01.0.04M.08";a.nZa=[a.kra,a.jra,a.ira,a.hra,a.gra,a.C4];return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uK=b.L8=void 0;b.L8="SystemRandomSymbol";b.uK="RandomGeneratorSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(20),b);d.__exportStar(a(501),b);d.__exportStar(a(1126),b);d.__exportStar(a(267),b);d.__exportStar(a(117),b);a(1119);a(1115);a(1112);a(1108);a(1105);a(1102);a(1100);a(1097);a(1093);a(1090);a(1089);a(1083);a(1081);a(1079);a(1077);a(1076);a(1070);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nU=b.Wm=void 0;b.Wm=function(){};b.nU="StringObjectReaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aE=void 0;b.aE="MediaKeysStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jra=b.Sm=void 0;d=b.Sm||(b.Sm={});d[d.CC=0]="playready";d[d.G3=1]="widevine";d[d.wB=2]="fairplay";d[d.xUb=3]="clearkey";b.Jra="DrmTypeSymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.JD=b.qb=void 0;c=a(138);k=a(45);m=a(2);b.qb=function(){function a(){}a.yfa=function(a){if(a){if(a.includes(b.JD.CC))return c.Sm.CC;if(a.includes("fps"))return c.Sm.wB;if(a.includes(b.JD.G3))return c.Sm.G3;}throw new k.vc(m.K.J_a,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};a.iJa=function(a){switch(a){case c.Sm.CC:return b.JD.CC;case c.Sm.wB:return b.JD.wB;default:return b.JD.G3;}};a.fr="com.microsoft.playready";a.Fd="com.microsoft.playready.hardware";a.rK="com.microsoft.playready.software";a.vRb="com.chromecast.playready";a.wRb="org.chromium.external.playready";a.OOb="com.apple.fps.2_0";a.h5a="com.widevine.alpha";a.xRb="com.microsoft.playready.recommendation";a.yRb="com.microsoft.playready.recommendation.3000";a.zRb="com.microsoft.playready.recommendation.2000";return a;}();b.JD={wB:"fairplay",G3:"widevine",CC:"playready"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lE=void 0;b.lE="PlatformConfigDefaultsSymbol";},function(d,b,a){var n;function c(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function k(a,b){return null===a.Dv?!1:a.Dv.pf===b?!0:k(a.Dv,b);}function m(a){function b(a,f){void 0===f&&(f=[]);f.push(c(a.pf));return null!==a.Dv?b(a.Dv,f):f;}return b(a).reverse().join(" --\x3e ");}function r(a){a.aca.forEach(function(a){if(k(a,a.pf))throw a=m(a),Error(n.WYa+" "+a);r(a);});}function q(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(b,"__esModule",{value:!0});n=a(55);b.PG=c;b.WMa=function(a,b,c){var f;f="";a=c(a,b);0!==a.length&&(f="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.Bk&&(b=q(a.Bk));f=f+"\n "+b;a.bB.mOa&&(f=f+" - "+a.bB.mOa);}));return f;};b.feb=r;b.pub=function(a,b){var c,f;if(b.Oha()||b.Fha()){c="";f=b.Tob();b=b.Jnb();null!==f&&(c+=f.toString()+"\n");null!==b&&b.forEach(function(a){c+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+c;}return" "+a;};b.getFunctionName=q;},function(d,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ft=void 0;c=/^\S+$/;a.prototype.jB=function(a){return void 0!==a;};a.prototype.Sd=function(a){return null!==a&&void 0!==a;};a.prototype.MA=function(b){return a.dDa(b);};a.prototype.waa=function(b){return!(!b||!a.dDa(b));};a.prototype.eu=function(a){return Array.isArray(a);};a.prototype.eDa=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.ph=function(b,c,r){return a.yCa(b,c,r);};a.prototype.vaa=function(b){return a.vaa(b);};a.prototype.Waa=function(b,c,r){return a.rW(b,c,r)&&0===b%1;};a.prototype.zr=function(b,c,r){return a.rW(b,c||0,r);};a.prototype.TL=function(b){return a.rW(b,1);};a.prototype.x$a=function(b){return a.rW(b,0,255);};a.prototype.y$a=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.fDa=function(a){return!(!a||!c.test(a));};a.prototype.rn=function(b){return a.zCa(b);};a.prototype.$l=function(b){return!(!a.zCa(b)||!b);};a.prototype.SL=function(a){return!0===a||!1===a;};a.prototype.jW=function(a){return"function"==typeof a;};a.zCa=function(a){return"string"==typeof a;};a.yCa=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.vaa=function(a){return"number"==typeof a&&isNaN(a);};a.rW=function(b,c,r){return a.yCa(b,c,r)&&0===b%1;};a.dDa=function(a){return"object"==typeof a;};b.ft=new a();},function(d){var b;b=function(){return this;}();try{b=b||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof M&&(b=M);}d.P=b;},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,F,I,g,J,K,D,T,Q,p;Object.defineProperty(b,"__esModule",{value:!0});b.wU=void 0;c=a(195);k=a(12);m=a(57);r=a(6);q=a(198);n=a(2);l=a(29);f=a(206);h=a(151);x=a(287);F=a(186);I=a(104);g=a(26);J=a(284);K=a(24);D=a(145);T=a(170);Q=a(510);p=a(350);d=function(){function a(b){var l,h;l=this;this.createPlayer=function(a,b){var c;b=void 0===b?{}:b;b="number"===typeof b?{Wh:b}:b;c=r.$.get(T.$D);c=b.manifest?c.create(b.manifest):void 0;a=r.$.get(F.sK).Ahb(a);return l.UFa(a,b,c);};this.createPlaygraphPlayer=function(a,b,c){var f;f=r.$.get(T.$D);c=c?f.create(c):void 0;return l.UFa(D.M3a.encode(a),b,c);};this.closeAllPlayers=function(a){m.W7(void 0===a?function(){}:a);};this.init=function(b){b=void 0===b?function(){}:b;l.EF.NO(function(f){f.da?(k.config.q2?l.qFb().then(function(){c.xwa();})["catch"](function(a){r.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(l,a.yW);b(Object.assign({success:!0},a.yW));}):b({success:!1,error:r.Mwa(f.errorCode||n.K.$sa,f)});});};this.applyConfig=function(a){l.sWa(a);k.uca(a);};this.prepare=function(a,b){var c;a=l.hla.BGa(a)||[];c=new Set();a=a.filter(function(a){var b;b=c.has(a.G);c.add(a.G);return!b;});if(k.config.ip&&l.Cc())try{l.Cc().Nv(a,b);}catch(ja){r.log.warn("Prepare call failed",ja);}};this.predownload=function(a,b){if((a=l.hla.BGa(a))&&k.config.ez&&l.Cc())try{l.Cc().cBb(a,b);}catch(N){r.log.warn("Predownload call failed",N);}};this.lookupPredownloaded=function(){return k.config.ez&&l.Cc()?l.Cc().jv():Promise.resolve([]);};this.ppmUpdate=function(a){M._cad_global.playerPredictionModel?((a=l.hla.Uib(a))&&M._cad_global.playerPredictionModel.update(a),M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.update(a)):r.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){r.HG().dR().then(a)["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){r.HG().eR().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){r.HG().aR().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){r.HG().bR().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=r.$.get(f.hK).Jca();return a?Promise.resolve(a.lm()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=r.$.get(f.hK).Jca();return a?Promise.resolve(a.Xob()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return k.config.zkb;};this.sWa(b);r.$.get(p.N3);this.hla=r.$.get(q.RT);this.EF=r.$.get(g.Kf);this.Cc=r.$.get(I.cA);h=r.$.get(Q.P7).apply();k.vFa([b],h);r.HG().eR();}a.prototype.sWa=function(a){r.$.get(l.VD).xwb(a);};a.prototype.qFb=function(){return r.$.get(h.oK)()["catch"](function(a){r.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){r.log.error("Unable to send deferred playdata",a);});};a.prototype.UFa=function(a,b,c){var f,l,h,n;b=void 0===b?{}:b;f=r.$.get(K.We);l=r.$.get(x.f8);h=r.$.get(J.h8);n=r.$.get(F.sK);l=l.create(a);a=l.TY();f=f.Zb();b=Object.assign(Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||a.qf,uiPlayStartTime:Date.now()},b),{endPts:a.dg,isPlaygraph:!0});h=h.create(f,l,n);h.addEpisode({movieId:a.na,playbackParams:b,manifest:c});return h;};a.yW={};return a;}();b.wU=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(576),b);d.__exportStar(a(575),b);},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ih=void 0;c=a(9);k=a(12);d=a(2);m=a(17);r=a(6);q=a(359);n=a(10);l=a(26);f=a(32);h=r.$.get(l.Kf);h.register(d.K.U5,function(a){var l,d,x,J;l=r.$.get(f.Si);m.lb(k.config);m.lb(n.Ew&&n.Ew.getDeviceId||n.yT||l.HY);d=r.$.get(q.L4);x=r.uh("Device");h.jd("devs");J=r.$.get(f.Fp);d.create({deviceId:k.config.deviceId,HY:l.HY,FGa:"deviceid",Jh:k.config.Jh,Px:J.Tra,vda:l.vda,userAgent:n.Ql,Aia:k.config.Aia,xfa:k.config.xfa,djb:J.NZa||!1,Mbb:k.config.NDa.e,cjb:J.MNb||!1,sXb:k.config.Pr?"mslstoretest":"mslstore"}).then(function(f){b.Ih=f;M._cad_global.device=b.Ih;x.info("Esn source: "+b.Ih.kea);h.jd("devdone");a(c.wd);})["catch"](function(b){b.da=void 0;a(b);});});},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Io=b.storage=void 0;c=a(12);k=a(9);m=a(310);d=a(2);r=a(309);q=a(307);n=a(6);a=a(26);b.storage=b.storage||void 0;b.Io=b.Io||void 0;n.$.get(a.Kf).register(d.K.jta,function(a){var f;switch(c.config.JHb){case"idb":f=r.GUa;break;case"none":f=m.IUa;break;case"ls":f=q.HUa;}f(function(c){c.da?(b.storage=c.storage,b.Io=c.Io,a(k.wd)):a(c);});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pK=void 0;b.pK="PboPublisherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qb=void 0;b.Qb=function(){function a(){}a.Od={uva:"mr1",tva:"mr2",vva:"mr3",jK:"mr4",N2a:"mr5",Oz:"mr6"};a.kc={UNSENT:0,OPENED:1,Gw:2,Uz:3,DONE:5,qw:6,rJ:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.FRb={$oa:0,Yz:1,lva:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.LD={NO_ERROR:-1,YZa:0,era:1,j_a:2,b_a:3,cZa:4,qqa:5,m4:6,dZa:7,eZa:8,fZa:9,$Ya:10,bZa:11,pqa:12,aZa:13,ZYa:14,x0a:15,Msa:16,Lsa:17,M5:18,O5:19,N5:20,Osa:21,z0a:22,cT:23,Nsa:24,y0a:25,e_a:26,ZZa:27,p4a:28,PZa:29,QZa:30,RZa:31,SZa:32,TZa:33,UZa:34,VZa:35,WZa:36,XZa:37,$Za:38,a_a:39,c_a:40,d_a:41,f_a:42,g_a:43,h_a:44,i_a:45,k_a:46,l_a:47,o4a:48,TIMEOUT:49,K5:50,Jsa:51,w0a:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.yc={tI:{$oa:!0,Yz:!1,lva:!0}};return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R4=b.Ara=void 0;b.Ara=function(){this.AUDIO=0;this.VIDEO=1;this.t0a=2;this.te=function(){};};b.R4="DownloadTrackConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oK=b.J7=void 0;b.J7="PboPlaydataServicesSymbol";b.oK="PboPlaydataServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.WD=void 0;b.WD="LicenseProviderSymbol";},function(d,b,a){var k,m;function c(a){switch(a){case k.J.VJ:return"http";case k.J.XJ:return"connectiontimeout";case k.J.Az:return"readtimeout";case k.J.L5:return"corruptcontent";case k.J.rw:return"abort";case k.J.YJ:case k.J.P5:return"unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.iga=b.Zfa=b.Yfa=void 0;k=a(2);m=a(10);b.Yfa=c;b.Zfa=function(a,b){a={errorcode:a+(b.errorCode||k.K.$k)};b.ga&&(a.errorsubcode=b.ga);b.se&&(a.errorextcode=b.se);b.iea&&(a.erroredgecode=b.iea);b.sb&&(a.errordetails=b.sb);b.$i&&(a.httperr=b.$i);b.C0&&(a.aseneterr=b.C0);b.eY&&(a.errordata=b.eY);b.aP&&(a.mediaerrormessage=b.aP);(b=c(Number(b.ga)))&&(a.nwerr=b);return a;};b.iga=function(){return{screensize:m.cr.width+"x"+m.cr.height,screenavailsize:m.cr.availWidth+"x"+m.cr.availHeight,clientsize:M.innerWidth+"x"+M.innerHeight};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xS=b.H4=void 0;(b.H4||(b.H4={})).I3a="PboDebugEvent";b.xS={p2a:"Manifest",Event:"Event",EPb:"Logblob"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d.P=function(a){return{minInitVideoBitrate:a.qs,minHCInitVideoBitrate:a.Bja,maxInitVideoBitrate:a.pv,minInitAudioBitrate:a.jP,maxInitAudioBitrate:a.WO,minHCInitAudioBitrate:a.iP,minAcceptableVideoBitrate:a.n0,minRequiredBuffer:a.kP,minPrebufSize:a.kg,minCheckBufferingCompleteInterval:a.Aja,enableNewBufferingComplete:a.uN,rebufferingFactor:a.Fla,useMaxPrebufSize:a.Joa,maxPrebufSize:a.uy,maxRebufSize:a.fja,maxBufferingTime:a.bp,minAudioMediaRequestSizeBytes:a.o0,minVideoMediaRequestSizeBytes:a.v0,initialBitrateSelectionCurve:a.a_,initSelectionLowerBound:a.zLa,initSelectionUpperBound:a.ALa,throughputPercentForAudio:a.a3,bandwidthMargin:a.uba,bandwidthMarginContinuous:a.vba,bandwidthMarginCurve:a.wba,conservBandwidthMargin:a.yca,switchConfigBasedOnInSessionTput:a.Ona,conservBandwidthMarginTputThreshold:a.NM,conservBandwidthMarginCurve:a.zca,switchAlgoBasedOnHistIQR:a.ZUa,switchConfigBasedOnThroughputHistory:a.az,maxPlayerStateToSwitchConfig:a.eja,lowEndMarkingCriteria:a.Iia,IQRThreshold:a.V5,histIQRCalcToUse:a.Wga,maxTotalBufferLevelPerSession:a.sv,highWatermarkLevel:a.gLa,toStableThreshold:a.BVa,toUnstableThreshold:a.e3,skipBitrateInUpswitch:a.tna,watermarkLevelForSkipStart:a.Soa,highStreamRetentionWindow:a.Pga,lowStreamTransitionWindow:a.Jia,highStreamRetentionWindowUp:a.Rga,lowStreamTransitionWindowUp:a.Lia,highStreamRetentionWindowDown:a.Qga,lowStreamTransitionWindowDown:a.Kia,highStreamInfeasibleBitrateFactor:a.Oga,lowestBufForUpswitch:a.mv,lockPeriodAfterDownswitch:a.S_,lowWatermarkLevel:a.Nia,lowestWaterMarkLevel:a.nv,lowestWaterMarkLevelBufferRelaxed:a.Oia,mediaRate:a.rja,maxTrailingBufferLen:a.e0,audioBufferTargetAvailableSize:a.fM,videoBufferTargetAvailableSize:a.KR,maxVideoTrailingBufferSize:a.bOa,maxAudioTrailingBufferSize:a.NNa,fastUpswitchFactor:a.lY,fastDownswitchFactor:a.yea,maxMediaBufferAllowed:a.qv,maxMediaBufferAllowedInBytes:a.ls,simulatePartialBlocks:a.pna,simulateBufferFull:a.eUa,considerConnectTime:a.Aca,connectTimeMultiplier:a.xca,lowGradeModeEnterThreshold:a.oNa,lowGradeModeExitThreshold:a.pNa,maxDomainFailureWaitDuration:a.QNa,maxAttemptsOnFailure:a.MNa,exhaustAllLocationsForFailure:a.GHa,maxNetworkErrorsDuringBuffering:a.WNa,maxBufferingTimeAllowedWithNetworkError:a.Zia,fastDomainSelectionBwThreshold:a.OHa,throughputProbingEnterThreshold:a.lVa,throughputProbingExitThreshold:a.mVa,locationProbingTimeout:a.bNa,finalLocationSelectionBwThreshold:a.SHa,throughputHighConfidenceLevel:a.jVa,throughputLowConfidenceLevel:a.kVa,locationStatisticsUpdateInterval:a.xia,enablePerfBasedLocationSwitch:a.oHa,probeServerWhenError:a.Bq,probeRequestTimeoutMilliseconds:a.lla,allowSwitchback:a.du,probeDetailDenominator:a.EC,maxDelayToReportFailure:a.$_,countGapInBuffer:a.HFa,bufferThresholdForAbort:a.gEa,allowCallToStreamSelector:a.$Ca,pipelineScheduleTimeoutMs:a.Nka,maxPartialBuffersAtBufferingStart:a.rv,minPendingBufferLen:a.Cja,maxPendingBufferLen:a.ty,maxPendingBufferLenSABCell100:a.b0,maxActiveRequestsSABCell100:a.Y_,maxStreamingSkew:a.gja,maxPendingBufferPercentage:a.dja,maxRequestsInBuffer:a.dC,headerRequestSize:a.LZ,minBufferLenForHeaderDownloading:a.hP,reserveForSkipbackBufferMs:a.V1,numExtraFragmentsAllowed:a.gka,pipelineEnabled:a.fp,maxParallelConnections:a.sH,socketReceiveBufferSize:a.lUa,audioSocketReceiveBufferSize:a.DW,videoSocketReceiveBufferSize:a.jJ,headersSocketReceiveBufferSize:a.Mga,updatePtsIntervalMs:a.q3,bufferTraceDenominator:a.Eba,bufferLevelNotifyIntervalMs:a.TA,aseReportDenominator:a.dM,aseReportIntervalMs:a.hba,enableAbortTesting:a.hHa,abortRequestFrequency:a.ACa,streamingStatusIntervalMs:a.Gna,prebufferTimeLimit:a.zq,minBufferLevelForTrackSwitch:a.p0,penaltyFactorForLongConnectTime:a.Gka,longConnectTimeThreshold:a.Gia,additionalBufferingLongConnectTime:a.Naa,additionalBufferingPerFailure:a.Oaa,rebufferCheckDuration:a.eQ,enableLookaheadHints:a.mHa,lookaheadFragments:a.kNa,enableOCSideChannel:a.qB,OCSCBufferQuantizationConfig:a.DT,updateDrmRequestOnNetworkFailure:a.pWa,deferAseScheduling:a.vGa,maxDiffAudioVideoEndPtsMs:a.PNa,useHeaderCache:a.eJ,useHeaderCacheData:a.XX,defaultHeaderCacheSize:a.yX,defaultHeaderCacheDataPrefetchMs:a.lda,headerCacheMaxPendingData:a.Iga,neverWipeHeaderCache:a.Rja,headerCachePriorityLimit:a.Jga,enableUsingHeaderCount:a.wN,networkFailureResetWaitMs:a.Pja,networkFailureAbandonMs:a.Oja,maxThrottledNetworkFailures:a.d0,throttledNetworkFailureThresholdMs:a.Z2,lowThroughputThreshold:a.Mia,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.pea,mp4ParsingInNative:a.FOa,sourceBufferInOrderAppend:a.mUa,requireAudioStreamToEncompassVideo:a.Es,allowAudioToStreamPastVideo:a.ZCa,enableManagerDebugTraces:a.Ug,managerDebugMessageInterval:a.CNa,managerDebugMessageCount:a.BNa,bufferThresholdToSwitchToSingleConnMs:a.Dba,bufferThresholdToSwitchToParallelConnMs:a.Cba,netIntrStoreWindow:a.txb,minNetIntrDuration:a.Swb,fastHistoricBandwidthExpirationTime:a.tlb,bandwidthExpirationTime:a.acb,failureExpirationTime:a.qlb,historyTimeOfDayGranularity:a.trb,expandDownloadTime:a.elb,minimumMeasurementTime:a.cxb,minimumMeasurementBytes:a.bxb,throughputMeasurementTimeout:a.MIb,initThroughputMeasureDataSize:a.ksb,throughputMeasureWindow:a.LIb,throughputIQRMeasureWindow:a.KIb,IQRBucketizerWindow:a.D1a,connectTimeHalflife:a.Teb,responseTimeHalflife:a.jEb,historicBandwidthUpdateInterval:a.srb,throughputWarmupTime:a.PIb,minimumBufferToStopProbing:a.$wb,throughputPredictor:a.NIb,ase_stream_selector:a.ebb,enableFilters:a.kkb,filterDefinitionOverrides:a.Ilb,defaultFilter:a.wib,secondaryFilter:a.QEb,defaultFilterDefinitions:a.xib,initBitrateSelectorAlgorithm:a.pha,bufferingSelectorAlgorithm:a.Gba,ase_ls_failure_simulation:a.fGa,ase_dump_fragments:a.bda,ase_location_history:a.dda,ase_throughput:a.eda,ase_simulate_verbose:a.hGa,secondThroughputEstimator:a.zma,secondThroughputMeasureWindowInMs:a.dTa,marginPredictor:a.Wia,networkMeasurementGranularity:a.Qja,HistoricalTDigestConfig:a.Ssa,maxIQRSamples:a.TNa,minIQRSamples:a.sOa,periodicHistoryPersistMs:a.i1,saveVideoBitrateMs:a.f2,needMinimumNetworkConfidence:a.oP,biasTowardHistoricalThroughput:a.Aba,maxFastPlayBufferInMs:a.aja,maxFastPlayBitThreshold:a.$ia,headerCacheTruncateHeaderAfterParsing:a.bLa,minAudioMediaRequestDuration:a.yH,minVideoMediaRequestDuration:a.DH,minAudioMediaRequestDurationCache:a.yH,minVideoMediaRequestDurationCache:a.DH,addHeaderDataToNetworkMonitor:a.mW,useMediaCache:a.ez,mediaCachePartitionConfig:a.lja,diskCacheSizeLimit:a.Ix,mediaCachePrefetchMs:a.i0,hindsightDenominator:a.Vga,hindsightDebugDenominator:a.Uga,hindsightParam:a.OZ,minimumTimeBeforeBranchDecision:a.w0,enableSessionHistoryReport:a.vN,earlyStageEstimatePeriod:a.Rda,lateStageEstimatePeriod:a.OMa,maxNumSessionHistoryStored:a.a0,minSessionHistoryDuration:a.t0,appendMediaRequestOnComplete:a.nDa,waitForDrmToAppendMedia:a.mJ,forceAppendHeadersAfterDrm:a.xY,startMonitorOnLoadStart:a.Ana,reportFailedRequestsToNetworkMonitor:a.Sla,reappendRequestsOnSkip:a.mI,maxActiveRequestsPerSession:a.js,limitAudioDiscountByMaxAudioBitrate:a.ria,appendFirstHeaderOnComplete:a.Zaa,maxAudioFragmentOverlapMs:0,editVideoFragments:a.nG,declareBufferingCompleteAtSegmentEnd:a.gda,applyProfileTimestampOffset:a.NA,applyProfileStreamingOffset:a.yo,requireDownloadDataAtBuffering:a.U1,requireSetupConnectionDuringBuffering:a.nQ,recordFirstFragmentOnSubBranchCreate:a.Gla,earlyAppendSingleChildBranch:a.TX,selectStartingVMAFMethod:a.xI,activateSelectStartingVMAF:a.VL,minStartingVideoVMAF:a.CH,minAcceptableVMAF:a.gP,minAllowedVmaf:a.iC,alwaysNotifyEOSForPlaygraph:a.Vaa,enableNewAse:a.ZX,useNewApi:a.uD,enableHudsonFieldTest:a.YX,hudsonTitles:a.hy,maxPartialBuffersAtHudson:a.cja,numberOfChunksPerSegment:a.NH,targetContentLatency:a.Y2,targetLongContentLatency:a.Sna,minimumTimeDelay:a.Eja,enableWsslEstimate:a.$X,maxAllowedOutstandingRequests:a.Z_,minStreamableConcurrencyWindow:a.u0,streamableConcurrencyFactor:a.U2,bufferingConcurrencyWindow:a.wM,singleStreamablePerBranch:a.qna};};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(796),b);d.__exportStar(a(795),b);d.__exportStar(a(794),b);d.__exportStar(a(793),b);d.__exportStar(a(792),b);d.__exportStar(a(791),b);d.__exportStar(a(790),b);d.__exportStar(a(380),b);d.__exportStar(a(789),b);d.__exportStar(a(788),b);d.__exportStar(a(787),b);},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Bp=void 0;c=a(0);k=a(19);m=a(799);r=a(4);d=function(){function b(a){this.NK=a;this.Ji=[];this.console=new r.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(b,{Qf:{get:function(){var c;if(void 0===b.lA){c=a(4);b.lA=new b(c.HD);}return b.lA;},enumerable:!1,configurable:!0}});b.reset=function(){b.lA=void 0;};b.prototype.fB=function(a,b,c,h,q,r){var f,l,n,k;f=!1;n=r.HGb?this.Qlb(c,b,a):-1;if(-1===n){l={track:this.dhb(c,h,a,q,r),yq:c,G:b,BRa:a,lI:[],Vp:!1,HX:!1};this.Ji.push(l);k=function(){l.Vp=!0;l.track.removeListener("created",k);};l.track.on("created",k);f=!1;}else f=!0,l=this.Ji[n];a=new m.Dxa(this.console,l.track,l.Vp,f);l.lI.push(a);return a;};b.prototype.GX=function(a){var b,c;a.Xp();b=this.rY(function(b){return b.track===a.track;});if(-1!==b)if(b=this.Ji[b],1===b.lI.length)b.track.Xp(),b.HX=!0;else{c=b.lI.indexOf(a);0<=c&&b.lI.splice(c,1);}else a.track.Xp();};b.prototype.te=function(){this.NK.te();};b.prototype.dhb=function(a,b,f,h,q){var l,n,m;l=this;n=!1;a?1===f?(a=!1,b=1,q.fp?(a=!0,b=q.sH):q.js&&2<q.js&&(a=!0,b=q.js),a={type:this.NK.VIDEO,openRange:!a,pipeline:a,connections:b,socketBufferSize:q.jJ,minRequestSize:q.BH}):0===f?(n=q.fp&&(q.VKb||b&&q.WKb),a={type:this.NK.AUDIO,openRange:!n,pipeline:n,connections:1,socketBufferSize:q.DW,minRequestSize:q.BH}):a={type:this.NK.t0a,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Mga,minRequestSize:q.BH}:a={type:0===f?k.Na.AUDIO:k.Na.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===f?q.DW:q.jJ,minRequestSize:q.BH};m=new this.NK(a,h);m.on("transportreport",function(a){var b;b=l.rY(function(a){return a.track===m;});-1!==b&&(b=l.Ji[b],b.lI.length&&b.lI[0].emit("transportreport",a));});m.on("destroyed",function(){var a;a=l.rY(function(a){return a.track===m;});-1!==a&&l.Ji.splice(a,1);m.removeAllListeners();});if(n&&q.UKb||q.JWa)m.on("pipelinedisabled",function(){q.JWa&&1===m.config.type?m.K1(c.__assign(c.__assign({},m.config),{socketBufferSize:q.Xwb,pipeline:!1,openRange:!0,connections:1})):m.K1(c.__assign(c.__assign({},m.config),{pipeline:!1,openRange:!0}));});return m;};b.prototype.Qlb=function(a,b,c){return this.rY(function(f){return!f.HX&&(a?f.yq&&f.G===b&&f.BRa===c:!f.yq&&f.BRa===c);});};b.prototype.rY=function(a){for(var b=0;b<this.Ji.length;++b)if(a(this.Ji[b]))return b;return-1;};return b;}();b.Bp=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.yJ=void 0;c=a(805);k=a(804);m=a(214);Object.defineProperty(b,"BasePredictor",{enumerable:!0,get:function(){return m.yJ;}});b["default"]=function(a,b){switch(a.Wia){case"manifold":return new c.Iua(a,b);default:return new k.gya(a,b);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ufa=b.Uaa=void 0;b.Uaa=function(a,b){var c,m,r;c=b.profile;b=b.G;m=a.MEb;r=a.NEb;return a.LEb||Array.isArray(m)&&-1!==m.indexOf(c)||"object"===typeof r&&Array.isArray(r[c])&&-1!==r[c].indexOf(""+b);};b.Ufa=function(a,b){return void 0!==a.zH?a.zH:b&&void 0!==b.zH?b.zH:100;};},function(d,b,a){var m,r,q,n,l,f,h,x;function c(a){return a&&"function"===typeof a.xg?!0:!1;}function k(a){return c(a)&&(a=typeof a.Nsb,"boolean"===a||"undefined"===a)?!0:!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Tr=b.map=b.qZa=b.hlb=b.Msb=b.bYa=b.oz=void 0;m=a(0);r=a(58);q=a(4).Promise;l=function(){function a(a){var b;b=this;this.i7a=a;this.kL=!1;this.b9a=function(a){return b.GBb(a);};this.IFa();}a.Dtb=function(a,b){function c(){var f;f=a.next();f.then(function(c){k(a)&&a.Nsb||b(c);});f.then(function(a){return!a.done&&c();});}c();};Object.defineProperties(a.prototype,{Zu:{get:function(){return this.kL;},enumerable:!1,configurable:!0}});a.bob=function(){return new f([]);};a.tga=function(){n||(n=q.resolve({done:!0}));return n;};a.$Vb=function(){return{done:!0};};Object.defineProperties(a.prototype,{bH:{get:function(){return this.Hp||!1;},enumerable:!1,configurable:!0}});a.prototype.xg=function(){this.cancel();};a.prototype.cancel=function(){this.yBa();this.Hp=!0;return this.I9;};a.prototype.next=function(){return this.Hp?this.I9:q.race([this.I9,this.i7a()]).then(this.b9a);};a.prototype.GBb=function(a){a.done&&(this.kL=!0,this.xg());this.bH||(this.yBa(),this.IFa());return a;};a.prototype.IFa=function(){var a;a=this;this.I9=new q(function(b){a.yBa=function(){b({done:!0});};});};return a;}();b.oz=l;f=function(a){function b(b){var c;c=a.call(this,function(){return c.Vob();})||this;c.un=b;c.index=0;return c;}m.__extends(b,a);b.prototype.xg=function(){c(this.un)&&this.un.xg();a.prototype.xg.call(this);};b.prototype.Vob=function(){return this.un.length>this.index?q.resolve({value:this.un[this.index++],done:!1}):q.resolve({done:!0});};return b;}(l);b.bYa=f;b.Msb=c;b.hlb=k;h=function(a){function b(b,c,l){var h;h=a.call(this,function(){return h.Sja();})||this;h.console=c;h.yj=l;h.nla=!1;Array.isArray(b)?h.wL=new f(b):h.wL=b;return h;}m.__extends(b,a);b.prototype.IBb=function(a){var b;this.nla=!1;b=this.console;r.gb&&b&&b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.TE)return c(a)&&a.xg(),l.tga();Array.isArray(a)?this.yj=new f(a):this.yj=a;return this.Sja();};b.prototype.HBb=function(a){var b;b=this.console;r.gb&&b&&b.trace("CompoundIterator: processNextInnerResult",this.TE,a.done);if(!a.done||this.TE)return a;this.yj=void 0;return this.Sja();};b.prototype.xg=function(){var b;b=this.console;r.gb&&b&&b.trace("CompoundIterator: dispose");this.TE=!0;a.prototype.xg.call(this);c(this.wL)&&this.wL.xg();c(this.yj)&&this.yj.xg();};b.prototype.toString=function(){return"CompoundIterator "+this.TE+" "+this.wL+" "+this.yj;};b.prototype.Sja=function(){var a,b;a=this;b=this.console;r.gb&&b&&b.trace("CompoundIterator: nextImpl");if(this.yj)return r.gb&&b&&b.trace("CompoundIterator: getNextInner"),this.yj.next().then(function(b){return a.HBb(b);});this.nla=!0;r.gb&&b&&b.trace("CompoundIterator: getNextOuter");return this.wL.next().then(function(b){return a.IBb(b);});};return b;}(l);b.qZa=h;b.map=function(a,b,c){return new x(a,b,c);};x=function(a){function b(b,c,f){var l;l=a.call(this,function(){return l.U6a();})||this;l.source=b;l.Via=c;l.Meb=f;return l;}m.__extends(b,a);b.prototype.xg=function(){c(this.source)&&this.source.xg();a.prototype.xg.call(this);};b.prototype.U6a=function(){var a,b,c;a=this.Meb;b=this.Via;c=this.source;r.gb&&a&&a.trace("MappedIterator: Requesting next");return c.next().then(function(a){return a.done?a:b(a.value);});};return b;}(l);b.Tr=function(a,b,c){return new h(a,b,c);};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.O8=b.xt=void 0;c=a(125);(function(a){a[a.Fv=0]="pending";a[a.SSa=1]="running";a[a.complete=2]="complete";a[a.HX=3]="destroyed";}(k=b.xt||(b.xt={})));d=function(){function a(){this.ae=k.Fv;}Object.defineProperties(a.prototype,{state:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nm:{get:function(){return this.NL;},enumerable:!1,configurable:!0}});a.prototype.sbb=function(a){var b;null===(b=this.NL)||void 0===b?void 0:b.Qla(this);this.NL=a;};a.prototype.Py=function(){this.ae=k.SSa;this.te();this.I0()===c.vt.Roa&&(this.ae=k.complete);};a.prototype.ad=function(){var a;this.ae=k.HX;null===(a=this.NL)||void 0===a?void 0:a.Qla(this);};return a;}();b.O8=d;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.mz=void 0;c=a(0);k=a(5);m=a(19);r=a(4);d=function(a){function b(b,c,h,n,q){h=a.call(this,h)||this;h.Qaa=!1;h.vSa=b;h.Zc=n;h.YAa=b.location||c.location;h.KL=b.tc||c.Kb;h.Tma=b.Tma||c.Tma;h.hZb=r.time.ea();k.assert(q);h.u=q;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.u;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.YAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kb:{get:function(){return this.KL;},enumerable:!1,configurable:!0}});b.prototype.Ab=function(a){this.Ja=a;};b.prototype.y2=function(a,b){this.YAa=a;this.KL=b;};b.prototype.FV=function(a){var b,c,l;b={type:"logdata",target:"endplay",fields:{}};c=this.L===m.Na.AUDIO?"audioedit":"videoedit";l=[this.Tx===this.S?this.Vb:this.oc,this.Tx===this.S?-this.duration:this.duration];a&&a.Js&&l.push(a.Js);b.fields[c]={type:"array",value:l};return b;};b.prototype.wV=function(a){this.Zc.mI&&(this.wIa=!0,this.bHa=a);};b.prototype.s3=function(){var a,b;if(this.complete)return 0;a=this.vSa;b=a.O;return a.url?this.url===a.url||(b.y2(this,a.location,a.tc),this.gR(a.url))?0:(this.u.warn("swapUrl failed: ",this.AG),2):(this.u.warn("updateurl, missing url for streamId:",a.ta,"mediaRequest:",this,"stream:",a),1);};return b;}(a(83).Rq);b.mz=d;},function(d,b,a){function c(a,b){this.tF=a;this.li=Math.floor((a+b-1)/b);this.Qc=b;this.reset();}a(5);c.prototype.shift=function(){this.Xc.shift();this.wr.shift();};c.prototype.Cy=function(a){return this.tEa(this.Xc[a],a);};c.prototype.update=function(a,b){this.Xc[a]=(this.Xc[a]||0)+b;};c.prototype.push=function(){this.Xc.push(0);this.wr.push(0);this.Sa+=this.Qc;};c.prototype.add=function(a,b,c){var q,n,l;if(null===this.Sa)for(q=Math.max(Math.floor((c-b+this.Qc-1)/this.Qc),1),this.Sa=b;this.Xc.length<q;)this.push();for(;this.Sa<=c;)this.push(),this.Xc.length>this.li&&this.shift();if(null===this.Tl||b<this.Tl)this.Tl=b;if(b>this.Sa-this.Qc)this.update(this.Xc.length-1,a);else if(b==c)q=this.Xc.length-Math.max(Math.ceil((this.Sa-c)/this.Qc),1),0<=q&&this.update(q,a);else for(q=1;q<=this.Xc.length;++q){n=this.Sa-q*this.Qc;l=n+this.Qc;if(!(n>c)){if(l<b)break;this.update(this.Xc.length-q,Math.round(a*(Math.min(l,c)-Math.max(n,b))/(c-b)));}}for(;this.Xc.length>this.li;)this.shift();};c.prototype.start=function(a){null===this.Tl&&(this.Tl=a);null===this.Sa&&(this.Sa=a);};c.prototype.stop=function(a){var b,c;if(null!==this.Sa)if(a-this.Sa>10*this.tF)this.reset();else{for(;this.Sa<=a;)this.push(),this.Xc.length>this.li&&this.shift();b=this.Xc.length-Math.ceil((this.Sa-this.Tl)/this.Qc);0>b&&(this.Tl=this.Sa-this.Qc*this.Xc.length,b=0);c=this.Xc.length-Math.ceil((this.Sa-a)/this.Qc);if(b===c)this.wr[b]+=a-this.Tl;else if(c>b)for(this.wr[b]+=(this.Sa-this.Tl)%this.Qc,this.wr[c]+=this.Qc-(this.Sa-a)%this.Qc,a=b+1;a<c;++a)this.wr[a]=this.Qc;this.Tl=null;}};c.prototype.tEa=function(a,b){b=this.ifa(b);return 0===b?null:8*a/b;};c.prototype.ifa=function(a){var b;b=this.wr[a];null!==this.Tl&&(a=this.Sa-(this.Xc.length-a-1)*this.Qc,a>this.Tl&&(b=a-this.Tl<=this.Qc?b+(a-this.Tl):this.Qc));return b;};c.prototype.get=function(a,b){var c,q;c=this.Xc.map(this.tEa,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Qc));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(q||0):q=void 0!==q?b*c[a]+(1-b)*q:c[a];}return c;};c.prototype.reset=function(){this.m$||(this.Xc=[],this.wr=[],this.Tl=this.Sa=null);};c.prototype.setInterval=function(a){this.li=Math.floor((a+this.Qc-1)/this.Qc);};d.P=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ys=void 0;c=a(228);k=a(5);d=function(){function a(a){this.config=a;this.reset();}a.Qf=function(){k.assert(void 0!==a.lA);return a.lA;};a.Seb=function(b){a.lA=new a(b);};a.vUb=function(){a.lA=void 0;};a.prototype.push=function(a){this.Ii&&this.Ii.push(a);};a.prototype.mb=function(){if(this.Ii)return this.Ii.yu(),this.Ii.Qh([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;});};a.prototype.reset=function(){this.config.pHa&&this.config.d6&&(this.Ii=new c.ISb(this.config.d6.c,this.config.d6.maxc));};return a;}();b.Ys=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,x;Object.defineProperty(b,"__esModule",{value:!0});b.lz=void 0;c=a(0);d=a(16);k=a(8);m=d.Oi;r=a(4);q=r.hk;n=a(164);l=a(92);f=a(11);d=a(33);h=a(162);x=a(166);a=function(a){function b(b,c,f,l,n,r,k){c=a.call(this,c,f)||this;h.mz.call(c,b,l,n,r,k);x.jw.call(c,b,l);c.MK=b.url||l.url;c.LK=l.responseType;c.yza=l.C2;void 0===c.LK&&(c.LK=q.yc&&!q.yc.tI.Yz?0:1);c.zf=new m();c.zf.on(c,q.Od.uva,c.vL);c.zf.on(c,q.Od.tva,c.L$);c.zf.on(c,q.Od.vva,c.M$);c.zf.on(c,q.Od.jK,c.uL);c.zf.on(c,q.Od.Oz,c.dF);c.rE=!1;c.gd=!1;c.vg=!1;c.qr=!1;c.dL=!1;c.Fl=0;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{active:{get:function(){return this.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{VRa:{get:function(){return this.vg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return!this.rE&&5===this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xr:{get:function(){return this.rE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hha:{get:function(){return this.qr&&!this.dL;},enumerable:!1,configurable:!0}});b.prototype.Ab=function(a){h.mz.prototype.Ab.call(this,a);this.Yb||!this.Zc.mW&&this.bc||(this.Yb=l.Qf(),this.active&&(this.Yb.LC(r.time.ea(),{requestId:this.kn(),ee:this.Kb,type:this.L}),this.vg&&(this.Yb.Zla(r.time.ea()),this.connect&&0<this.kp.length&&this.Yb.cu(this.kp[0]))));};b.prototype.PB=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};b.prototype.zF=function(a){this.ni=a.appendBuffer(this.response,f.rm(this));return{da:this.ni};};b.prototype.vs=function(){(this.qr=q.prototype.open.call(this,this.MK,{start:this.offset,end:this.offset+this.aa-1},this.LK,{},void 0,void 0,this.yza))&&this.GN(this);return this.qr;};b.prototype.abort=function(){var a;if(this.xr)return!0;a=this.gd;this.Yb&&a&&this.Yb.NC(r.time.ea(),this.vg,{requestId:this.kn(),ee:this.Kb,type:this.L});this.rE=!0;this.vg=this.gd=!1;q.prototype.abort.call(this);this.BY(this,a,this.Hha);return!0;};b.prototype.mc=function(){7!==this.readyState&&5!==this.readyState&&(this.u.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.zf&&this.zf.clear();a.prototype.mc.call(this);};b.prototype.vL=function(){var a;a=this.cd||this.jf;n.Ys.Qf().push(r.time.ea()-a);this.gd||(this.gd=!0,this.On=this.track.On(),this.stream.I.KNa||this.Yb&&this.Yb.LC(a,{requestId:this.kn(),ee:this.Kb,type:this.L}),this.AB(this),this.Gl=this.cd);};b.prototype.L$=function(){var a,b,c;a=this.cd||this.Hea;b=this.connect;c=this.kp;n.Ys.Qf().push(r.time.ea()-a);this.gd||(this.gd=!0);this.vg||(this.vg=!0,this.stream.I.KNa&&this.Yb&&this.Yb.LC(a,{requestId:this.kn(),ee:this.Kb,type:this.L}),this.Yb&&this.Yb.Zla(),b&&0<c.length&&this.Yb&&this.Yb.cu(c[0]),this.Sx(this),this.Gl=a);};b.prototype.M$=function(){var a,b,c;a=this;b=this.cd;c=this.De-this.Fl;n.Ys.Qf().push(r.time.ea()-b);this.vg||(this.vg=!0);this.Yb&&(void 0===this.Gl||this.Yb.ox(c,this.Gl,b,{requestId:this.kn(),ee:this.Kb,type:this.L}),this.kp&&this.kp.length&&this.kp.forEach(function(b){a.Yb.bu(b);}));this.BB(this);this.Gl=b;this.Fl=this.De;};b.prototype.uL=function(){var a,b,c;a=this;b=this.cd;c=this.De-this.Fl;n.Ys.Qf().push(r.time.ea()-b);this.Yb&&(0<c&&this.Yb.ox(c,this.Gl,b,{requestId:this.kn(),ee:this.Kb,type:this.L}),this.kp&&this.kp.length&&this.kp.forEach(function(b){a.Yb.bu(b);}),this.Yb.NC(b,this.vg,{requestId:this.kn(),ee:this.Kb,type:this.L}));this.vg=this.gd=!1;this.dL=!0;this.aq(this);this.Gl=b;this.Fl=this.De;this.mc();};b.prototype.kn=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.JW;b&&(a+=",range "+b.start+"-"+b.end);return a;};b.prototype.dF=function(){var a,b,c,f;this.u.warn("AseMediaRequest._onError:",this.toString());a=this.cd;b=this.status;c=this.th;f=this.gj;n.Ys.Qf().push(r.time.ea()-a);this.complete?this.u.warn("Error on a done request "+this.toString()+", failurecode: "+c):this.xr?this.u.warn("Error on an aborted request "+this.toString()+", failurecode: "+c):k.ma(c)?(this.Yb&&this.Zc&&this.Zc.Sla&&this.jf&&void 0===b&&this.Yb.ox(this.Fl?this.De-this.Fl:this.De,this.Gl?this.Gl:this.jf,a,{requestId:this.kn(),ee:this.Kb,type:this.L}),this.CY(this)):this.u.warn("ignoring undefined request error (nativecode: "+f+")");};return b;}(q);b.lz=a;d.Ke(h.mz,a,!1);d.Ke(x.jw,a,!1);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.jw=void 0;a(5);d=function(){function a(a,b){this.Hd=a;this.ac=b.aa;this.Qd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.ac;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Hd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{G:{get:function(){return this.Hd.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{L:{get:function(){return this.Hd.L;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ta:{get:function(){return this.Hd.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Hd.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Hd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Hd.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{GH:{get:function(){return this.Hd.GH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qa:{get:function(){return this.Hd.Qa;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.G,streamId:this.ta,offset:this.offset,bytes:this.aa};};return a;}();b.jw=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(27);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.M.offset+=8;this.Kdb=this.M.ah();this.AEb=this.M.ah();this.M.offset+=4;this.XSa=this.M.ah();this.M.offset+=2;k.gb&&this.M.console.trace("MP4AudioSampleEntry: channelcount: "+this.Kdb+", samplesize: "+this.AEb+", samplerate: "+this.XSa);return b;};b.jc=!1;return b;}(a(235)["default"]);b["default"]=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ll=void 0;c=a(4);k=a(11);d=function(){function a(a){this.u=new c.Console("ASEJS","media|asejs","("+a+")");this.D$=[];}a.prototype.Kn=function(a){this.D$[a]||(this.D$[a]=k.py(c,this.u,"["+a+"]"));return this.D$[a];};return a;}();b.Ll=new d(0);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.rxa=b.gU=b.XY=void 0;c=a(50);k=a(2);b.XY=function(a){return a===c.zc.Pi.AUDIO?k.J.vua:k.J.wua;};b.gU=50;b.rxa=1E3;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$D=void 0;b.$D="ManifestFactorySymbol";},function(d){d.P=function(b){return null!=b&&"object"===typeof b&&!0===b["@@functional/placeholder"];};},function(d,b,a){var c,k,m;c=a(111);k=a(51);m=a(171);d.P=function(a){return function n(b,f,h){switch(arguments.length){case 0:return n;case 1:return m(b)?n:k(function(c,f){return a(b,c,f);});case 2:return m(b)&&m(f)?n:m(b)?k(function(b,c){return a(b,f,c);}):m(f)?k(function(c,f){return a(b,c,f);}):c(function(c){return a(b,f,c);});default:return m(b)&&m(f)&&m(h)?n:m(b)&&m(f)?k(function(b,c){return a(b,c,h);}):m(b)&&m(h)?k(function(b,c){return a(b,f,c);}):m(f)&&m(h)?k(function(c,f){return a(b,c,f);}):m(b)?c(function(b){return a(b,f,h);}):m(f)?c(function(c){return a(b,c,h);}):m(h)?c(function(c){return a(b,f,c);}):a(b,f,h);}};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eK=void 0;b.eK="MslProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iT=b.X5=b.R5=void 0;b.R5="IDBDatabaseFactorySymbol";b.X5="IndexedDBFactorySymbol";b.iT="IndexedDBStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S5=b.b7=b.mva=void 0;b.mva="NativeLocalStorageSymbol";b.b7="NativeLocalStorageFactorySymbol";b.S5="IDBFactorySymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.IJ=b.u_a=void 0;c=a(31);b.u_a=function(){this.gM=[];this.MR=[];this.lba=c.kw.uz;this.B3=c.kk.uz;};b.IJ="DeviceCapabilitiesConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DK=void 0;b.DK="TimeoutMonitorFactorySymbol";},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var q in b)b.hasOwnProperty(q)&&(a[q]=b[q]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b){a.call(this);this.xa=b;}c(b,a);b.create=function(a){return new b(a);};b.pc=function(a){a.nj.complete();};b.prototype.Xl=function(a){var c;c=this.xa;if(c)return c.Lc(b.pc,0,{nj:a});a.complete();};return b;}(a(20).nb);b.ES=d;},function(d,b,a){var c,k,m,r,q,n,l,f;c=a(85);k=a(495);m=a(494);r=a(503);q=a(20);n=a(264);l=a(1116);f=a(265);b.X2=function(a,b,d,g){var h;h=new l.Cta(a,d,g);if(h.closed)return null;if(b instanceof q.nb)if(b.Lt)h.next(b.value),h.complete();else return h.Mm=!0,b.subscribe(h);else if(k.PLa(b)){a=0;for(d=b.length;a<d&&!h.closed;a++)h.next(b[a]);h.closed||h.complete();}else{if(m.hMa(b))return b.then(function(a){h.closed||(h.next(a),h.complete());},function(a){return h.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),h;if(b&&"function"===typeof b[n.iterator]){b=b[n.iterator]();do{a=b.next();if(a.done){h.complete();break;}h.next(a.value);if(h.closed)break;}while(1);}else if(b&&"function"===typeof b[f.observable])if(b=b[f.observable](),"function"!==typeof b.subscribe)h.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new l.Cta(a,d,g));else b="You provided "+(r.Ue(b)?"an invalid object":"'"+b+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",h.error(new TypeError(b));}return null;};},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var q in b)b.hasOwnProperty(q)&&(a[q]=b[q]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);}c(b,a);b.prototype.Q0=function(a,b){this.destination.next(b);};b.prototype.Qxb=function(a){this.destination.error(a);};b.prototype.ss=function(){this.destination.complete();};return b;}(a(68).$m);b.GT=d;},function(d,b){b.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q5=b.p5=b.r8=b.s8=void 0;b.s8="ReportSyncSymbol";b.r8="ReportApiErrorSyncSymbol";b.p5="FtlProbeConfigSymbol";b.q5="FtlProbeSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.BJ=void 0;b.BJ="CannedChallengeProvider";},function(d){d.P={$s:{N8:0,Gxa:1,uj:2,name:["transient","semiTransient","permanent"]},Ws:{psa:0,Exa:1,fU:2,lK:3,pt:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},WSb:{KSb:0,LPb:1,xNb:2,pt:100,name:["trailer","montage","content"]},$q:{Lta:0,sxa:1,Y4a:2,m_a:3,pt:100,name:["left","right","up","down"]},aK:{lZa:0,fU:1,UOb:2,rOb:3,QMb:4,TOb:5,fYa:6,pt:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},UD:{lK:0,bra:1,pt:100,name:["playFocused","detailsOpened"]}};},function(d,b,a){b=a(258);d.P="undefined"!==typeof b&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sK=void 0;b.sK="PlaygraphHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ko=void 0;d=b.ko||(b.ko={});d[d.qva=0]="None";d[d.usa=1]="Fetching";d[d.P4=2]="Done";d[d.Error=3]="Error";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p8=void 0;b.p8=function(a,b){var c;this.fna=function(){c||(c=setInterval(b,a));};this.hca=function(){c&&(clearInterval(c),c=void 0);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ai=void 0;d=b.ai||(b.ai={});d[d.pUa=1]="sourceopen";d[d.Ho=2]="currentTimeChanged";d[d.vQ=3]="seeked";d[d.tXb=4]="needlicense";d[d.UMa=5]="licenseadded";d[d.oUa=6]="sourceBuffersAdded";d[d.pka=7]="onNeedKey";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.XFa=b.Pia=void 0;c=a(17);k=a(21);m=a(15);(function(){var q,n,l;function a(a){c.lb(void 0!==q[a]);return q[a];}q={'"':'""',"\r":"","\n":" "};n=/["\r\n]/g;l=/[", ]/;b.XFa=function(b){return m.$b(b)?m.ma(b)?b:m.Ie(b)?b.replace(n,a):m.zha(b)?b:isNaN(b)?"NaN":"":"";};b.Pia=function(a){var c,f;c=b.XFa;f="";k.zd(a,function(a,b){a=c(a)+"="+c(b);l.test(a)&&(a='"'+a+'"');f=f?f+(","+a):a;});return f;};}());},function(d,b,a){var k,m,r;function c(a,b){this.kr=b?[b]:[];this.l$="$op$"+r++;this.o=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Oc=void 0;k=a(9);m=a(17);r=0;c.prototype.addListener=function(a,b){var c;c=this;m.ada(a);m.lb(0>this.kr.indexOf(a));a[k.ET+this.l$]=b;this.kr=this.kr.slice();this.kr.push(a);this.kr.sort(function(a,b){return c.jHb(a,b);});};c.prototype.removeListener=function(a){var b;m.ada(a);this.kr=this.kr.slice();0<=(b=this.kr.indexOf(a))&&this.kr.splice(b,1);};c.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Fx:b};this.o=a;a=this.kr;for(var c=a.length,f=0;f<c;f++)a[f](b);}};c.prototype.when=function(a){var b;b=this;return new Promise(function(c){function f(l){if(a(l.newValue))return b.removeListener(f),c(l.newValue);}if(a(b.o))return c(b.o);b.addListener(f);});};c.prototype.jHb=function(a,b){return(a[k.ET+this.l$]||0)-(b[k.ET+this.l$]||0);};qa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.Oc=c;},function(d,b,a){var k,m,r,q,n,l,f,h,x,F,g,E;function c(a,b,c,l,h){var d,x;d=this;this.j=a;this.type=b;this.Kza=l;this.log=h;this.iV=new q.Oc(!1);this.jA={data:[],state:"",operation:""};this.xH=this.KHa((this.type===k.zc.Na.VIDEO?this.j.qg.value:this.j.Rc.value).ec);this.lk=new n.rj();this.y$={Type:this.type};r.config.ny&&(x=!0,this.Lea=new q.Oc(!1));this.log.trace("Adding source buffer",this.y$,{TypeId:this.xH});this.wc=c.addSourceBuffer(this.xH);this.wc.addEventListener("updatestart",function(){d.jA.state="updatestart";});this.wc.addEventListener("update",function(){d.jA.state="update";});this.wc.addEventListener("updateend",function(){var a;d.iV.set(!1);d.Tza&&d.Tza();d.jA.state="updateend";a=0;try{a=d.wc.buffered.length;}catch(Z){}x&&a&&(x=!1,d.Lea.set(!0));});this.wc.addEventListener("error",function(b){var c;try{c=b.target.error&&b.target.error.message;(b.message||c)&&h.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(ma){}a.md(f.K.y3a,m.XY(d.type));});this.wc.addEventListener("abort",function(){});a.addEventListener(F.V.closed,function(){d.wc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.L6=void 0;k=a(50);m=a(169);r=a(12);q=a(191);n=a(74);l=a(6);a(84);f=a(2);a(3);h=a(17);x=a(15);F=a(13);g=a(113);E=a(149);c.prototype.vi=function(){return this.iV.value;};c.prototype.updating=function(){return this.wc?this.wc.updating:!1;};c.prototype.u2=function(a){this.Tza=a;};c.prototype.TY=function(){return this.jA;};c.prototype.buffered=function(){return this.wc.buffered;};c.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};c.prototype.toJSON=function(){return{type:this.type};};c.prototype.PY=function(){var a,b,c,f,l,n,q;try{a=this.wc.buffered;l=0;if(a)for(b=[],c=0,f=a.length,c=0;c<f;c++){n=a.start(c);q=a.end(c);l=l+(q-n);h.lb(q>n);b.push(n+"-"+q);}if(b)return{Buffered:l.toFixed(3),Ranges:b.join("|")};}catch(A){}};c.prototype.mDa=function(a,b){try{h.lb(this.wc.buffered&&1>=this.wc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.PY()));}catch(D){}h.lb(!this.vi());this.ZTa("append",a);b=b&&b.Bm/1E3;x.ma(b)&&this.wc.timestampOffset!==b&&(this.wc.timestampOffset=b);this.wc.appendBuffer(a);this.iV.set(!0);};c.prototype.remove=function(a,b){h.lb(!this.vi());try{this.ZTa("remove");this.wc.remove(a,b);this.iV.set(!0);}catch(D){this.log.error("SourceBuffer remove exception",D,this.y$);}};c.prototype.ZTa=function(a,b){this.jA.data=b||[];this.jA.state="init";this.jA.operation=a;};c.prototype.uGb=function(a,b){this.gub=Math.floor(1E3*a/b);};c.prototype.Idb=function(a){var b;if(this.wc){if(a=this.KHa([{type:this.Zeb,bg:a}]),a!==this.xH){b=this.xH;this.log.info("Changing SourceBuffer mime-type from: "+this.xH+" to: "+a);try{if(this.wc.changeType)this.wc.changeType(a),this.xH=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(D){throw this.log.error("Error changing SourceBuffer type",D,this.y$,{From:b,To:a}),D;}}}else this.log.info("No SourceBuffer");};c.prototype.appendBuffer=function(a,b){!b||b.bc?this.$aa(a,b):this.tW(a,b);return!0;};c.prototype.$aa=function(a,b){this.j.fj.$aa(this,a,b||{});};c.prototype.tW=function(a,b){this.j.fj.tW(this.Ueb(a,b));};c.prototype.Ueb=function(a,b){var c;c=this.gub||0;return{SEa:function(){this.response=void 0;},Pj:function(){return this.requestId;},constructor:{name:"MediaRequest"},L:this.L,readyState:E.Qb.kc.DONE,Pv:b.S,hI:b.S+b.duration,Or:b.duration,Bm:c,si:b.si,Ma:b.Ma,ta:b.ta,Kb:+b.Kb,location:b.location,zM:b.offset,yM:b.offset+b.aa-1,R:b.R,response:a,RKa:a&&0<a.byteLength,RB:!0,get bc(){return!this.RB;},jTa:this.wj-c||Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Ma,isHeader:this.bc,ptsStart:this.Pv,ptsOffset:this.Bm,responseType:this.yTb,duration:this.Or,readystate:this.ug};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);}};};c.prototype.endOfStream=function(){var a;this.j.xo("EndOfStream");null===(a=this.j.fj)||void 0===a?void 0:a.P0(this.L);};c.prototype.addEventListener=function(a,b,c){this.lk.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.lk.removeListener(a,b);};c.prototype.KHa=function(a){var b;b=l.$.get(g.Zz);return this.type===k.zc.Na.VIDEO?b.aN(a):b.UM(a);};qa.Object.defineProperties(c.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.type;}},HW:{configurable:!0,enumerable:!0,get:function(){return this.Kza.HW;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.Kza.sourceId;}},Zeb:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});b.L6=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JT=void 0;b.JT="PboBindCommandSymbol";},function(d,b,a){var k,m,r,q,n,l,f,h,x,F,g,E,J,K,D,T,Q;function c(a,b){var f;function c(a){return a&&0<a.length&&a[0].my;}f=q.$.get(g.WD);return a.ia&&c(a.qc)?f.release(Object.assign(Object.assign({},b),{ia:a.ia,qc:a.qc})):b.ia&&c(b.qc)?f.release(b):Promise.resolve(k.wd);}Object.defineProperty(b,"__esModule",{value:!0});b.bSa=b.Vqa=void 0;k=a(9);m=a(12);r=a(39);q=a(6);n=a(17);l=a(508);f=a(2);h=a(52);x=a(59);F=a(15);g=a(152);E=a(151);J=a(13);K=a(70);D=a(104);T=a(193);Q=a(32);d=function(){function a(a){var b;b=this;this.j=a;this.ODa=this.VMa=!1;this.log=q.zg(this.j,"Playback");this.P_=q.$.get(g.WD);this.Ph=q.$.get(K.er);this.Cc=q.$.get(D.cA);this.Nzb=q.$.get(T.JT);this.j.addEventListener(J.V.MO,function(){return b.HKb();});n.lb(m.config);m.config.wp||(this.Ljb=q.$.get(l.S4));}a.prototype.lM=function(a){var l,h,q;function b(){l.j.pTa().then(c)["catch"](a);}function c(b){try{l.j.mRa(b);a(k.wd);l.Ylb();}catch(ja){l.log.error("Exception processing authorization response",ja);a({da:!1,ga:f.J.G3a});}}l=this;n.aG(this.j.G);n.aG(this.j.Wh);h=this.j.ya;if(h){q=h.Nf.qea;q?(q-=r.$Ea(),18E5<q?x.pc(function(){c(h);l.j.pu="ui";}):(this.log.error("manifest is expired",{gap:q}),b())):x.pc(function(){c(h);l.j.pu="ui";});}else m.config.ip&&this.Cc()?(q=this.Cc().cq(this.j.G,"manifest"))&&q.then(function(a){c(a);l.j.pu="videopreparer";})["catch"](function(a){l.log.warn("manifest not in cache",a);b();}):b();};a.prototype.VN=function(a){var b;b=this;return new Promise(function(c,f){var l,n,r;l=h.Pd.DFa(a.Bi);n=a.ri.map(function(a){return{sessionId:a.sessionId,dataBase64:q.EW(a.data)};});r=b.j.kpb(a.ri[0].sessionId);l={ng:r.ng,Bi:F.is.$l(a.Bi)?a.Bi:l,QX:[r.xk],ri:n,ia:r.ia,Nr:a.Nr,Ci:r.ya.Ci};b.j.QM&&b.j.QM.dX&&(l.$O=b.j.QM.dX);b.P_.JA(l).then(function(a){b.j.qc=a.qc;c(a);b.Zlb(r);})["catch"](f);});};a.prototype.release=function(a){return c(this.j,a);};a.prototype.JFa=function(){var a;a=this.Ljb.create();this.j.Bf&&(a.Wd=this.j.Bf.IG());a.qc=this.j.qc;a.ia=this.j.ia;a.G=this.j.G;return a;};a.prototype.Zlb=function(a){this.VMa||(this.VMa=!0,this.j.fireEvent(J.V.MO,{G:a.G}));};a.prototype.Ylb=function(){var a;a=this;this.ODa||(this.ODa=!0,this.j.fireEvent(J.V.Obb),q.$.get(E.oK)().then(function(b){b.L2(a.j);}));};a.prototype.HKb=function(){var b,c;b=this;c=q.$.get(Q.Si);this.Ph.dH||a.CWa||(a.CWa=!0,c.eLb&&m.config.GKb&&this.Nzb.te(this.log,{}).then(function(){return b.log.trace("Updated NetflixId");})["catch"](function(a){return b.log.error("NetflixId upgrade failed",f.Dp(a));}));};a.CWa=!1;return a;}();b.Vqa=d;b.bSa=c;},function(d,b,a){var r,q,n,l,f,h,x,F,g,E,J,K,D,T,Q,p,t,A;function c(a,b){var g;function c(b){return r.bSa(a,b);}function l(){var a,b,l,q;b=h.uh("Eme");l=h.$.get(f.Fp);a=new l.vz(b,void 0,c,{Mh:!1,zO:!1});q=h.$.get(F.Zz);return l.xz(b,"cenc",void 0,{Mh:!1,zO:!1,mMa:n.config.Gi,hTa:{lOa:n.config.VEb,GEa:n.config.Bma,qZb:n.config.UEb},Ny:a,pRa:n.config.qla,vD:n.config.Uda,VXb:n.config.WEb,GDa:q.UM([]),VWa:q.aN([]),$G:n.config.$G});}function d(a,b){var c,f;f=h.$.get(t.TT)(0,b.movieId,void 0,{},b.xid,Q.Gb(p.Tg()),!1,void 0,function(){return null;});n.config.Gi&&(g.info("secure stop is enabled"),c=a.da?{success:a.da,persisted:!0,ss_km:a.kOa,ss_sr:a.FQ,ss_ka:a.oFa}:{success:a.da,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.ed,ErrorExternalCode:a.sh,ErrorEdgeCode:a.mG,ErrorDetails:a.cause&&a.cause.sb},c.browserua=E.Ql,b=h.$.get(D.fk),a=h.$.get(T.fo).An("securestop",a.da?"info":"error",c,f),b.Ac(a));}function K(){function a(a,b){var f;if(!b.qc||0===b.qc.length||!b.qc[0].my)return g.error("releaseDrmSession exception: missing valid keySessionData"),k(a,b);if(0<b.qc.length){g.info("Sending the deferred playdata and secure stop data");f=l();return f.create(n.config.Wd).then(function(){return f.SUb(b);}).then(function(c){g.info("Sent the deferred playdata and secure stop data");d(c,b);return k(a,b);})["catch"](function(c){c&&c.code===x.K.g4a&&k(a,b);c&&c.code===x.K.f4a&&k(a,b);g.error("Unable to send last stop",c);d(c,b);throw c;});}g.info("No key session so just send the playdata");return c(b).then(function(){g.trace("Successfully sent stop command for previous session");return k(a,b);})["catch"](function(a){g.error("Unable to send stop command for previous session",a);throw a;});}m(g).then(function(c){var f;f=c.RX.filter(function(a){return!1===a.active;}).map(function(b){return a(c,b);});Promise.all(f).then(function(){g.info("release drm session completed for "+f.length+" entries");b(q.wd);})["catch"](function(a){a=a||{};a.DrmCacheSize=f.length;g.error("Unable to release one or more DRM session data",a);b(q.wd);});})["catch"](function(a){g.error("Unable to load DRM session data",a);b(q.wd);});}g=h.uh("PlayDataManager");b=b||q.Ye;n.config.wp?b(q.wd):K();}function k(a,b){return a?a.Pla(b):Promise.resolve();}function m(a){var c;if(!b.Jda){c=h.$.get(g.pS);b.Jda=new Promise(function(b,f){c.HRa().then(function(){b(c);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);f(b);});});}return b.Jda;}Object.defineProperty(b,"__esModule",{value:!0});b.xwa=b.wwa=b.Jda=void 0;r=a(194);q=a(9);n=a(12);l=a(56);f=a(32);h=a(6);x=a(2);F=a(113);g=a(268);E=a(10);J=a(151);K=a(13);D=a(47);T=a(61);Q=a(3);p=a(39);t=a(197);d=a(26);A=a(271);b.wwa=function(a){var d,x,F,g,I,E;function b(){x||(a.jd("pdsb"),x=h.$.get(J.oK)().then(function(b){g=b;a.jd("pdsc");return b;})["catch"](function(b){d.error("Unable to initialize the playdata services",b);a.jd("pdse");throw b;}));return x;}function r(){F=!0;g&&g.close();l.He.removeListener(l.wl,r);}d=h.zg(a,"PlayDataManager");F=!1;I=h.$.get(f.Fp);if(!I.xz||!I.vz){E=h.$.get(A.QT)();I.xz=E.tb;I.vz=E.request;}a.jd("pdctor");a.addEventListener(K.V.Af,function(){l.He.removeListener(l.wl,r);});a.addEventListener(K.V.MO,function(){var b;if(!n.config.wp&&a.Bf){b=a.PM.JFa();m(d).then(function(a){return a.ECa(b);})["catch"](function(){d.error("Unable to load/add cached DRM data");});}});a.addEventListener(K.V.Af,function(){var c;if(!F){a.GLb();c=[function(){return n.config.wp||!a.Bf?Promise.resolve():new Promise(function(b){var c;d.info("Sending the expedited playdata and secure stop data");c=a.PM.JFa();a.Bf.vVb(c).then(function(b){d.info("Sent the expedited playdata and secure stop data");n.config.Gi&&a.hv.j2({success:b.da,persisted:!1,ss_km:b.kOa,ss_sr:b.FQ,ss_ka:b.oFa});return m(d);}).then(function(a){return k(a,c);}).then(function(){b();})["catch"](function(c){d.error("Unable to send the expedited playdata and secure stop data",c);n.config.Gi&&a.hv.j2({success:c.da,state:c.state,ErrorCode:c.code,ErrorSubCode:c.ed,ErrorExternalCode:c.sh,ErrorEdgeCode:c.mG,ErrorDetails:c.cause&&c.cause.sb});b();});});}(),function(){return b().then(function(b){return b.EUa(a.fa);}).then(function(){d.info("Sent the playdata");})["catch"](function(a){d.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){h.$.get(D.fk).flush(!1)["catch"](function(){d.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(c).then(function(){a.O0();})["catch"](function(){a.O0();});}});l.He.addListener(l.wl,r);return{pFb:function(f){a.jd("pdpb");n.config.q2||b().then(function(b){return b.send(a.G);}).then(function(){n.config.wp?(a.jd("pdpc"),f(q.wd)):c(a,function(){a.jd("pdpc");f(q.wd);});})["catch"](function(){a.jd("pdpe");f(q.wd);});}};};b.xwa=function(){return new Promise(function(a){c({},function(b){a(b);});});};h.$.get(d.Kf).register(x.K.tw,function(a){a(q.wd);});},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,F;Object.defineProperty(b,"__esModule",{value:!0});b.dD=void 0;c=a(9);k=a(12);m=a(56);r=a(39);q=a(2);n=a(17);l=a(6);f=a(21);h=a(10);x=a(147);F=a(15);d=a(26);l.$.get(d.Kf).register(q.K.kta,function(a){var K,I,T;function d(){var a;d=c.Ye;a=setInterval(g,k.config.$ub);m.He.addListener(m.wl,function(b){b&&b.isPopStateEvent?K.trace("popstate event, Lock timers can stay"):(f.zd(I,function(a,b){localStorage.removeItem(b.Yo);}),clearInterval(a));},c.Pz);}function g(){var a;a=r.JM();f.zd(I,function(b,c){b=localStorage.getItem(c.Yo);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:T,count:1};localStorage.setItem(c.Yo,JSON.stringify(b));});}n.lb(x.storage);K=l.uh("StorageLock");I={};T=Date.now()+"-"+Math.floor(1E6*Math.random());b.dD={JA:function(a,b,l){var m,x,g,J,E,D,Q,p,V,t;function n(a){localStorage.setItem(g,JSON.stringify(a));a={Yo:g};I[g]=a;K.trace("Lock acquired",{Name:a.Yo});d();b({da:!0,T_:a});}l=void 0===l?!1:l;m=this;if(localStorage){x=r.JM();g="lock-"+a;J={updated:x,sessionId:T,count:1};try{if(g in localStorage){E=localStorage.getItem(g);D=0;Q=JSON.parse(E);F.bv(Q.updated)&&(D=Q.updated);p=h.Iz(x-D)*c.tj;V=T===Q.sessionId;if(p<k.config.cNa)if(V)Q.count+=1,K.debug("Incremented lock count for existing playbackSession",{id:T,count:Q.count}),Q.updated=x,n(Q);else if(l){t=k.config.cNa-p+c.tj;K.error("Waiting until current expiration to confirm whether lock is still active",{id:T,count:Q.count,Epoch:x,LockEpoch:D,waitTimeoutMs:t});M.setTimeout(function(){return m.JA(a,b,!1);},t);}else b({da:!1});else K.error("Lock was expired or invalid, ignoring",{Epoch:x,LockEpoch:D}),n(J);}else n(J);}catch(xa){K.error("Error acquiring Lock",{errorSubCode:q.J.ih,errorDetails:f.Ge(xa)});b({da:!0});}}else h.uia?K.error("Local storage access exception",{errorSubCode:q.J.v4a,errorDetails:f.Ge(h.uia)}):K.error("No localstorage",{errorSubCode:q.J.w4a}),b({da:!0});},release:function(a,b){var f,l;n.lb(I[a.Yo]==a);if(localStorage){try{f=localStorage.getItem(a.Yo);l=JSON.parse(f);1<l.count?(--l.count,localStorage.setItem(a.Yo,JSON.stringify(l)),K.trace("Lock count decremented",{Name:a.Yo,count:l.count})):(localStorage.removeItem(a.Yo),delete I[a.Yo],K.trace("Lock released",{Name:a.Yo}));}catch(Z){K.error("Unable to release Lock",{Name:a.Yo},Z);}b&&b(c.wd);}}};k.config.bY?b.dD.JA("session",function(f){b.dD.BTa=f;a(c.wd);}):a(c.wd);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TT=void 0;b.TT="PlaybackSegmentDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.RT=void 0;b.RT="PlayPredictionDeserializerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.HO=void 0;b.HO=function(a,b,k){var c;if(k.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");c=k.get;k.get=function(){var r,q;r=c.apply(this,arguments);q={enumerable:k.enumerable,value:r};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,q):Object.defineProperty(this,b,q);return r;};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w6=void 0;b.w6=function(){function a(){}a.OZa="display";a.gZa="console";a.CRb="remote";a.$Sb="writer";return a;}();},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rS=void 0;k=a(10);c.Fca=function(a){var b;if(k.ne.queryCommandSupported&&k.ne.queryCommandSupported("copy")){b=k.ne.createElement("textarea");b.textContent=a;b.style.position="fixed";k.ne.body.appendChild(b);b.select();try{k.ne.execCommand("copy");}catch(q){console.warn("Copy to clipboard failed.",q);}finally{k.ne.body.removeChild(b);}}};b.rS=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I7=b.H7=b.K7=void 0;b.K7="PboPlaydataValidatorSymbol";b.H7="PboPlaydataArrayValidatorSymbol";b.I7="PboPlaydataCollectionValidatorSymbol";},function(d,b,a){var r,q,n,l,f,h,x;function c(){}function k(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.mwa=b.NT=void 0;r=a(0);q=a(1);n=a(40);l=a(3);f=a(14);h=a(24);x=a(100);m.prototype.encode=function(a){return{downloadableId:a.pd,duration:a.duration};};m.prototype.decode=function(a){return{pd:a.downloadableId,duration:a.duration};};k.prototype.encode=function(a){return{total:a.total,totalContentTime:a.nD,audio:a.audio.map(new m().encode),video:a.video.map(new m().encode),text:a.text.map(new m().encode)};};k.prototype.decode=function(a){var b;return{total:a.total,nD:null!==(b=a.totalContentTime)&&void 0!==b?b:a.total,audio:a.audio.map(new m().decode),video:a.video.map(new m().decode),text:a.text.map(new m().decode)};};c.prototype.encode=function(a){return{type:a.type,href:a.href,xid:a.ia,movieId:a.G,position:a.position,clientTime:a.IM,sessionStartTime:a.GQ,mediaId:a.uH,playTimes:new k().encode(a.HP),trackId:a.$a,sessionId:a.sessionId,appId:a.aM,sessionParams:a.Yn,mdxControllerEsn:a.kja,profileId:a.profileId};};c.prototype.decode=function(a){return{type:a.type,href:a.href,ia:a.xid,G:a.movieId,position:a.position,IM:a.clientTime,GQ:a.sessionStartTime,uH:a.mediaId,HP:new k().decode(a.playTimes),$a:a.trackId,sessionId:a.sessionId,aM:a.appId,Yn:a.sessionParams,kja:a.mdxControllerEsn,profileId:a.profileId};};b.NT=c;d=function(){var b;function a(a,b,c,f){this.za=a;this.uZ=b;this.sa=c;this.profile=f;}a.prototype.create=function(a){return{href:a.ya&&a.ya.Ci?a.ya.Ci.WN("events").href:"",type:"online",ia:a.ia.toString(),G:a.G,position:a.Wca||0,IM:this.za.s2.ca(l.ja),GQ:a.aH?a.aH.ca(l.ja):-1,uH:this.Hnb(a),HP:this.ipb(a),$a:void 0!==a.Wh?a.Wh.toString():"",sessionId:this.uZ().sessionId||this.sa.id,aM:this.uZ().aM||this.sa.id,Yn:a.Pa.Yn||{},profileId:this.profile};};a.prototype.hhb=function(a,b){return Object.assign({},this.create(a),{kja:b&&b.dX});};a.prototype.load=function(a){return new c().decode(a);};a.prototype.Hnb=function(a){var b,c,f;b=a.Rc.value;c=a.qg.value;f=a.uc.value;return b&&c&&f?(a=a.ya.Nf.media.find(function(a){return a.Ji.AUDIO===b.$a&&a.Ji.VIDEO===c.$a&&a.Ji.M8===f.$a;}))?a.id:"":"";};a.prototype.bga=function(a){return a.map(function(a){return{pd:a.downloadableId,duration:a.duration};});};a.prototype.ipb=function(a){return(a=a.zm)?(a=a.hpb(),{total:a.total,nD:a.totalContentTime,audio:this.bga(a.audio),video:this.bga(a.video),text:this.bga(a.timedtext)}):{total:0,nD:0,video:[],audio:[],text:[]};};b=a;return b=r.__decorate([q.N(),r.__param(0,q.l(n.Ni)),r.__param(1,q.l(f.fd)),r.__param(2,q.l(h.We)),r.__param(3,q.l(x.tK))],b);}();b.mwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.LT=void 0;b.LT="PboLicenseResponseTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.vl=function(){return this.buffer.length-this.position;};a.prototype.nf=function(){return this.buffer[this.position++];};a.prototype.xe=function(a){var b;b=this.position;this.position+=a;return this.vtb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.vtb=function(a){return void 0!==a.subarray;};a.prototype.Bc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.Bs=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.Bla=function(){for(var a="",b;b=this.nf();)a+=String.fromCharCode(b);return a;};a.prototype.Pb=function(){return this.Bc(2);};a.prototype.Ra=function(){return this.Bc(4);};a.prototype.Dg=function(){return this.Bc(8);};a.prototype.F1=function(){return this.Bc(2)/256;};a.prototype.cQ=function(){return this.Bc(4)/65536;};a.prototype.Hf=function(a){for(var b,c="";a--;)b=this.nf(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;};a.prototype.Ky=function(){return this.Hf(4)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(6);};a.prototype.dQ=function(a){for(var b=0,c=0;c<a;c++)b+=this.nf()<<(c<<3);return b;};a.prototype.IC=function(){return this.dQ(4);};a.prototype.Woa=function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);};return a;}();b.D4=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hK=void 0;b.hK="NetworkMonitorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t6=b.s6=void 0;b.s6="LogMessageRulerConfigSymbol";b.t6="LogMessageRulerSymbol";},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Yoa=void 0;c=a(6);k=a(2);m=a(365);r=a(364);q=a(59);b.Yoa=function(a,b){var f,l;try{f=m.nXa(a);}catch(x){c.log.error("xml2xmlDoc exception",x);}q.pc(function(){if(f&&f.documentElement)try{l=r.oXa(f);}catch(x){c.log.error("xmlDoc2js exception",x);}q.pc(function(){l?b({da:!0,object:l}):b({da:!1,ga:k.J.qsa});});});};},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.gQa=b.fQa=b.a1=b.Aka=b.hQa=b.jQa=b.iQa=b.kQa=b.b1=b.lQa=b.mQa=b.eQa=void 0;c=a(17);k=a(22);m=a(9);r=a(123);q=a(10);n=a(15);l=a(21);b.eQa=function(){var da,W,N,ja,na,oa,za,O,xa,ga,ya,Da;function a(a){if(k.cv(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return b.kQa[a];}}function h(a,b,c){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return q.Um(b,c);}function d(a,b){var c,f;c=a.length;f=a[c-1];if("t"===f)return parseFloat(a)*b|0;if("s"===f)return"m"===a[c-2]?parseFloat(a)|0:parseFloat(a)*m.tj|0;if((a=a.match(xa))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*m.tj|0;throw Error("dfxp-badtime");}function F(a,b,c,f,l){var h,n,q,r,m,k,d,x;if(a){n=a.style;c=n?c[n]:void 0;f=(n=a.region)?f[n]:void 0;n=l.length;for(q=0;q<n;q++)if(r=l[q],m=a[r],void 0===m&&c&&(m=c[r]),void 0===m&&f&&(m=f[r]),void 0!==m&&m!==b[r]){if(!h)for(h={},k=0;k<n;k++)d=l[k],x=b[d],void 0!==x&&(h[d]=x);h[r]=m;}}return h||b;}function g(a,b,c,f,l,h,n,q,m){var x,g;function d(a,K,I){var J,E,T,Q,p,V;J=a[r.Ki];E=J.style||K.style||"";T=J.region||K.region||"";E||T?(Q=E+"/"+T,p=c[Q]):p=b;if(!p){p=b;V=k.GI(f);k.xb(V,l[E]);p=D(p,V,n,q,m);c[E+"/"]=p;T&&(k.xb(V,h[T]),k.xb(V,l[E]),p=D(p,V,n,q,m),c[Q]=p);}if(!I)a:{for(I=oa.length;I--;)if(void 0!==J[oa[I]]){I=!0;break a;}I=void 0;}I&&(J=F(J,K,l,h,za),p=D(p,J,n,q,m));K=(a=a[r.pJ])&&a.length;for(E=0;E<K;E++)T=a[E],k.Ue(T)?ga.test(T[r.qJ])?g++:d(T,J,I):(x.push({text:T,lineBreaks:g,style:p}),g=0);}x=[];g=0;d(a,f,!1);0<g&&x.push({text:"",lineBreaks:g,style:b});return x;}function E(a,b,c,f,l,h,n,q){var r,m;c&&(c=W[c]||"top",a.verticalAlignment!==c&&(a.verticalAlignment=c));f&&(c=N[f]||"left",a.horizontalAlignment!==c&&(a.horizontalAlignment=c));l?((m=q[l])?(f=m.marginLeft,c=m.marginTop):(r=l.split(" "),f=p(r[0],n.x)||0,c=p(r[1],n.y)||0,m={Dn:0,marginLeft:f,marginTop:c,xab:f*b.Cga+b.eO,zab:c*b.Noa+b.z3},30>q.Dn&&(q.Dn++,q[l]=m)),a.marginLeft=m.xab,a.marginTop=m.zab):(c=f=0,(m=q["default"])||(q["default"]=m={Dn:0}));h&&(l=m[h],l||(r=h.split(" "),l={yab:(1-(f+(p(r[0],n.x)||0)))*b.Cga+b.eO,wab:(1-(c+(p(r[1],n.y)||0)))*b.Noa+b.z3},30>m.Dn&&(m.Dn++,m[h]=l)),a.marginRight=l.yab,a.marginBottom=l.wab);}function J(a,b,c,f,l){var h,n,q;h=a.displayAlign;n=a.textAlign;q=a.origin;a=a.extent;c=k.GI(c);E(c,b,h,n,q,a,f,l);c.id=da++;return c;}function K(c,f,l,n){var q,r,m,d,x,F;q=h(l.characterSize||f.characterSize,b.lQa,2)||1;r=(r=c.fontSize)&&ya.test(r)?k.Vm(k.Md(r),25,200):void 0;q*=r/100||1;r=c.textOutline;if(r&&"none"!=r){d=r.split(" ");Da.test(d)?(F=0,x=c.color):(F=1,x=a(d[0]));m=Q(d[F]);d=Q(d[F+1]);}return{characterStyle:l.characterStyle||b.mQa[c.fontFamily]||f.characterStyle,characterSize:q*n,characterColor:a(l.characterColor||c.color||f.characterColor),characterOpacity:h(k.XW(l.characterOpacity,c.opacity,f.characterOpacity),b.b1,1),characterEdgeAttributes:l.characterEdgeAttributes||r&&("none"===r?b.iQa:d?b.a1:b.Aka)||f.characterEdgeAttributes,characterEdgeColor:a(l.characterEdgeColor||x||f.characterEdgeColor),characterEdgeWidth:m,characterEdgeBlur:d,characterItalic:"italic"===c.fontStyle,characterUnderline:"underline"===c.textDecoration,backgroundColor:a(l.backgroundColor||c.backgroundColor||f.backgroundColor),backgroundOpacity:h(k.XW(l.backgroundOpacity,c.opacity,f.backgroundOpacity),b.b1,1)};}function D(a,b,c,f,h){var n;b=K(b,c,f,h);l.zd(b,function(b,c){c!==a[b]&&(n||(n=q.Qz(a)),n[b]=c);});return n||a;}function T(a,b,c,f,l,h,n,m){var k;k=a[r.Ki];c=F(a[r.Ki],b,c,l,O);b=c.region;a=k.displayAlign;c=c.textAlign;l=k.origin;k=k.extent;b||a||c||l||k?((f=f[b])?f=q.Qz(f):a||l||k?(f=q.Qz(na),f.id=da++):f=q.Qz(ja),E(f,h,a,c,l,k,n,m)):f=ja;return f;}function Q(a){a=k.Md(a);return n.bv(a,0,100)?a:0;}function p(a,b){var c;c=a[a.length-1];if("%"===c)return k.Vm(.01*parseFloat(a),0,1);if("c"===c)return k.Vm(k.Md(a)/b,0,1);}function t(a){for(var b=a.length,c=a[--b].endTime;b--;)c=q.Um(a[b].endTime,c);return c;}function A(b){l.zd(b,function(c,f){0<=c.toLowerCase().indexOf("color")&&(b[c]=a(f));});}function Z(a,b){var f,l,h,n;f=a.pixelAspectRatio;n={eO:0,Cga:1,z3:0,Noa:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(f=(f||"").split(" "),l=parseFloat(a[0])*(parseFloat(f[0])||1),h=parseFloat(a[1])*(parseFloat(f[1])||1));l=0<l&&0<h?l/h:1280/720;b=b||1280/720;f=l/b;.01<q.Iz(b-l)&&(b>=l?(n.eO=(1-f)/2,n.Cga=f):c.lb(!1,"not implemented"));return n;}function u(a){var c,f,l,h,n;if(c=a.cellResolution)if(c=c.split(" "),2<=c.length){f=k.Md(c[0]);c=k.Md(c[1]);if(0<f&&0<c)return{x:f,y:c};}c=a.extent;if(c&&(c=c.split(" "),2<=c.length)){f=k.Md(c[0]);n=k.Md(c[1]);if(a=a.pixelAspectRatio)c=a.split(" "),l=k.Md(c[0]),h=k.Md(c[1]);if(f&&n&&1.5<f*(l||1)/(n*(h||1)))return b.gQa;}return b.fQa;}da=1;W={before:"top",center:"center",after:"bottom"};N={left:"left",start:"left",center:"center",right:"right",end:"right"};ja={id:da++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};na={id:da++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};oa="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");za=oa.concat(["style","region"]);O=["region","textAlign","displayAlign","extent","origin"];xa=/^([0-9]+):([0-9]+):([0-9.]+)$/;ga=/^br$/i;ya=/^[0-9]{1,3}%$/;Da=/^[0-9]/;return function(c,f,l,n,x){var Q,p,V,S,W,N,ja,ma,oa,ga,Da,ya,xa,la,Fa,db,B,Wa,M,hb,R,U,X,ba,ea,ha,Ge,ia,fa,ka;function I(){try{for(var a;X;)if(oa=X[r.Ki],ba.push({id:da++,startTime:d(oa.begin,V),endTime:d(oa.end,V),region:T(X,ha,N,ma,ja,S,la,Wa),textNodes:g(X,Ge,ia,ea,N,ja,db,B,Fa)}),X=X[r.hz],a=q.FD(),100<a-fa){fa=Date.now();ka=setTimeout(I,1);return;}}catch(lf){D({ga:k.J.HS,sb:k.Ge(lf)});return;}ka=setTimeout(E,1);}function E(){var b,c,f,l,h,n,q;function a(a,f){for(var l,h=[],n={},q,r=c.length;r--;)l=c[r],q=l.region.id,n[q]||(n[q]=1,h.unshift(l));(l=b[b.length-1])&&l.endTime==a&&k.Hr(l.blocks,h)?l.endTime=f:b.push({id:da++,startTime:a,endTime:f,blocks:h});}try{if(!ba.length){D({da:!0,entries:[]});return;}k.tDa(ba,"startTime");b=[];c=[];f=ba[0];h=ba[0].startTime;for(n=1;c.length||f;){for(;!c.length||f&&f.startTime==h;)c.push(f),h=f.startTime,f=ba[n++];l=t(c);if(!f||l<=f.startTime)for(a(h,l),h=l,q=c.length;q--;)c[q].endTime<=h&&c.splice(q,1);else a(h,f.startTime),h=f.startTime,c.push(f),f=ba[n++];}for(n=b.length;n--;)b[n].index=n,b[n].previous=b[n-1],b[n].next=b[n+1];}catch(mf){D({ga:k.J.HS,sb:k.Ge(mf)});return;}D({da:!0,entries:b});}function D(a){setTimeout(function(){Q.abort=k.Ye;x(a);},1);}Q={abort:function(){ka&&clearTimeout(ka);}};try{p=c[r.Ki];V=m.tj/(k.Md(p.tickRate)||1);S=Z(p,f);W=k.xb(na,{marginLeft:S.eO,marginTop:S.z3,marginRight:S.eO,marginBottom:S.z3});N={};ja={};ma={};ya=c.head;xa=c.body;la=u(p);Fa=1/la.y*S.Noa;db=k.xb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.a1,characterEdgeColor:"#000000",characterSize:1},l,{Av:!0});B=n||{};Wa={Dn:0};if(ya){M=ya.styling;if(M)for(Da=M.style;Da;)oa=Da[r.Ki],A(oa),N[oa.id]=oa,Da=Da[r.hz];hb=ya.layout;if(hb)for(var P=hb.region;P;){oa=P[r.Ki];R=oa.id;ga=k.GI(N[oa.style]);ga=k.xb(ga,oa);for(Da=P.style;Da;)k.xb(ga,Da[r.Ki]),Da=Da[r.hz];A(ga);ja[R]=ga;ma[R]=J(ga,S,W,la,Wa);P=P[r.hz];}}U=xa.div;X=U.p;ba=[];ea={};ea=F(xa[r.Ki],ea,N,ja,za);ea=F(U[r.Ki],ea,N,ja,za);ha={};ha=F(xa[r.Ki],ha,N,ja,O);ha=F(U[r.Ki],ha,N,ja,O);Ge=K(ea,db,B,Fa);k.xb(Ge,{windowColor:a(B.windowColor||db.windowColor),windowOpacity:h(k.XW(B.windowOpacity,db.windowOpacity),b.b1,1),cellResolution:la},{Av:!0});ia={};U.p=void 0;U[r.pJ]=[];}catch(kf){D({ga:k.J.HS,sb:k.Ge(kf)});return;}fa=q.FD();ka=setTimeout(I,1);return Q;};}();b.mQa={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.lQa={SMALL:.5,MEDIUM:1,LARGE:2};b.b1={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.kQa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.iQa="NONE";b.jQa="RAISED";b.hQa="DEPRESED";b.Aka="UNIFORM";b.a1="DROP_SHADOW";b.fQa={x:40,y:19};b.gQa={x:52,y:19};},function(d,b,a){var r;function c(){}function k(a,b){this.Eo=a;void 0!==b?(r(b<=a.np,"require remain_sec <= chunk.sec but has "+b+" and "+a.np),this.lj=b):this.lj=a.np;}function m(a){void 0===a&&(a=[]);this.Ok=[];this.pg=this.bk=0;for(var b in a)this.add(a[b],void 0);}r=a(5).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.Go=function(){return new k(this.Eo,this.lj);};m.prototype.constructor=m;m.prototype.add=function(a,b){a=new k(a,b);this.Ok.push(a);this.pg+=a.lj;this.bk+=a.Eo.Qu()*a.lj;};m.prototype.Go=function(){var a,b;a=new m(void 0);for(b in this.Ok)a.add(this.Ok[b].Eo,this.Ok[b].lj);return a;};m.prototype.hq=function(){try{return this.Ok[0];}catch(q){}};m.prototype.HQa=function(a){var b;for(r(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.hq())throw new c();if(a<this.hq().lj){b=this.hq().Eo.Qu()*a;this.hq().lj-=a;this.pg-=a;this.bk-=b;a=0;}else b=this.Ok.shift(),this.pg-=b.lj,this.bk-=b.Eo.Qu()*b.lj,a-=b.lj;}};m.prototype.wAb=function(a){var l;r(0<=a,"unexpected play_y_kb: y="+a);for(var b=0;0<a;){if(void 0===this.hq())throw new c();if(a<this.hq().lj*this.hq().Eo.Qu()){l=a/this.hq().Eo.Qu();this.hq().lj-=l;this.pg-=l;this.bk-=a;b+=l;a=0;}else l=this.Ok.shift(),this.pg-=l.lj,this.bk-=l.Eo.Qu()*l.lj,b+=l.lj,a-=l.Eo.Qu()*l.lj;}return b;};d.P={kqa:m,MYa:c};},function(d){d.P={FKa:function(b){var a;if(b&&0!==b.length){a=[];b.forEach(function(b){var c;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(c=a);});c?c.pQ.push(b.Vn):a.push({error:b.error,pQ:[b.Vn]});});return a;}},WIa:function(b){var a;a={freeSize:b.Oj,dailyBytesRemaining:b.ZF,bytesWritten:b.Wi,time:b.time,duration:b.duration};b.items&&(a.items=b.items.map(function(a){return{key:a.key,operation:a.Ef,itemBytes:a.C_,error:a.error};}));return a;},zs:function(b){return b["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(d){d.P={rua:{code:-1,description:"MediaCache is not supported."},ERb:{code:100,description:"Resource was not found"},W1a:{code:101,description:"Resource Metadata was not found"},pE:{code:102,description:"Read failed",bo:function(b,a){return{code:this.code,description:b,cause:a};}},yU:{code:200,description:"Daily write limit exceeded"},BD:{code:201,description:"Capacity has been exceeded"},xU:{code:202,description:"Write failed, cause unknown",bo:function(b,a){return{code:this.code,description:b,cause:a};}},aTb:{code:203,description:"Write failed, cause unknown"},LZa:{code:300,description:"Failed to delete resource",bo:function(b,a){return{code:this.code,description:b,cause:a};}},uw:{code:900,description:"Invalid partition name"},u1a:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},dra:{code:701,description:"Failed to initialize underlying disk cache."},V1a:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.aba=b.Mv=b.CHa=void 0;c=a(110).DHa;b.CHa=function(a,b,c){var q,n,l;q=0;if(c){a.some(function(a){var c;c=a.b;a=a.m;if(b<=c)return q=l&&c!==n?l+(a-l)/(c-n)*(b-n):a,!0;n=c;q=l=a;return!1;});}else a.some(function(a){q=a.m;return b<=a.b;});return q;};b.Mv=function(a,b,r){var q;b=(null===(q=b.Ga)||void 0===q?void 0:q.Da)||0;return a.dcb?(a=c(a.ccb,r.ol-r.od,1),b*(1-a)):b*a.a3/100;};b.aba=function(a,b){return a<2*b?a/2:a-b;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.yJ=void 0;c=a(213);d=function(){var S8i;S8i=2;while(S8i!==3){switch(S8i){case 2:a.prototype.IGa=function(a,b){var N8i,q;N8i=2;while(N8i!==3){switch(N8i){case 2:q=null===this.mba?a*(100-this.config.a3)/100:c.aba(a,this.mba);b=null!==b&&void 0!==b?b:this.rH;this.config.ria&&b?(a=c.aba(a,b),a=Math.max(a,q)):a=q;return a;break;}}};a.prototype.EI=function(a){var q8i;q8i=2;while(q8i!==1){switch(q8i){case 4:this.mba=a;q8i=2;break;q8i=1;break;case 2:this.mba=a;q8i=1;break;}}};a.prototype.Boa=function(a){var A8i;A8i=2;while(A8i!==1){switch(A8i){case 4:this.config=a;A8i=2;break;A8i=1;break;case 2:this.config=a;A8i=1;break;}}};S8i=4;break;case 4:return a;break;}}function a(a,b){var j8i,w8i;j8i=2;while(j8i!==3){w8i="1";w8i+="SIYbZrNJC";w8i+="p9";switch(j8i){case 2:this.config=a;this.rH=b;this.mba=null;j8i=4;break;case 4:w8i;j8i=3;break;}}}}();b.yJ=d;},function(d,b,a){var c;b=a(815);c=a(383);a=a(813);d.P={STARTING:a.kTa,BUFFERING:b.m2,REBUFFERING:b.m2,PLAYING:c.BQ,PAUSED:c.BQ};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.p1=void 0;c=a(18);b.p1=function(a){switch(a){case c.pa.Dd:a=c.ld.Dd;break;case c.pa.Ze:a=c.ld.Ze;break;case c.pa.Mg:case c.pa.Rl:case c.pa.qE:a=c.ld.Rl;break;default:a=c.ld.yK;}return a;};},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.jz=void 0;c=a(0);k=a(80);m=a(5);d=a(33);r=a(395);q=a(72);a=function(a){function b(b,c,l,n,r){l=a.call(this,b,c,l,n,r)||this;q.Ch.call(l,b,c);l.ac=0;l.Ua||l.Xj();l.ni=!1;return l;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!1;},enumerable:!1,configurable:!0}});b.prototype.push=function(b){this.ac+=b.aa;a.prototype.push.call(this,b);};b.prototype.PB=function(){return!this.ni&&!!this.wa.length&&this.wa.every(function(a){return a.PB();});};b.prototype.zF=function(a,b){m.assert(!this.ni);this.ni=this.wa.every(function(c){return c.PB()?c.zF(a,b,void 0,void 0):!1;});return{da:this.ni};};b.prototype.iDb=function(){this.wa.forEach(function(a){a.hQ();});};b.prototype.Pj=function(){return this.wa?this.wa[0].Pj()+"-"+this.wa[this.wa.length-1].Pj():"empty";};b.prototype.toString=function(){return q.Ch.prototype.toString.call(this)+"(aggregate)";};b.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);k(q.Ch.prototype.toJSON.call(this),b);return b;};return b;}(r.R3);b.jz=a;d.Ke(q.Ch,a);},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.YR=void 0;c=a(0);a(5);d=a(33);k=a(217);m=a(72);r=a(165);q=a(19);n=a(80);l=a(4).hk;f=a(826);a=a(825);h=function(a){var G8i;function b(b,c,f,h,n,q,r){var u8i,k,c8i,L8i,M8i;u8i=2;while(u8i!==14){c8i="e";c8i+="d";c8i+="it";L8i="c";L8i+="ach";L8i+="e";M8i="1SIYbZr";M8i+="NJC";M8i+="p";M8i+="9";switch(u8i){case 5:M8i;k=[L8i,c8i].filter(function(a,b){var V8i;V8i=2;while(V8i!==1){switch(V8i){case 2:return[n,f.Ua][b];break;case 4:return[n,f.Ua][b];break;V8i=1;break;}}});k=k.length?"("+k.join(",")+")":"";u8i=9;break;case 9:void 0===f.responseType&&(f.responseType=f.Ua||l.yc&&!l.yc.tI.Yz?0:1);k=a.call(this,b,c,k,f,h,q,r)||this;m.Ch.call(k,b,f);return k;break;case 2:k=this;u8i=5;break;}}}G8i=2;while(G8i!==3){switch(G8i){case 2:c.__extends(b,a);b.create=function(a,c,h,n,m,d,x){var x8i,F,g,K,d8i;x8i=2;while(x8i!==18){d8i="sub";d8i+="reques";d8i+="t";switch(x8i){case 6:F=Math.ceil(n.aa/F);x8i=14;break;case 5:return new f.wpa(a,h,n,m,d,c,x);break;case 1:x8i=!c.Fg&&n.Ua&&a.L===q.Na.VIDEO&&l.yc&&l.yc.tI.Yz?5:4;break;case 8:g=n.aa;m=new k.jz(a,n,m,c,x);x8i=6;break;case 4:x8i=n.cC&&n.aa>n.cC?3:19;break;case 10:m.push(new r.lz(a,h,d8i,K,m,c,x));x8i=14;break;case 13:K={offset:d,aa:Math.min(g,F),responseType:n.responseType};d+=K.aa;g-=K.aa;x8i=10;break;case 3:F=Math.ceil(n.aa/n.cC);d=n.offset;x8i=8;break;case 19:return new b(a,h,n,m,d,c,x);break;case 20:return m;break;case 14:x8i=0<g?13:20;break;case 2:x8i=1;break;}}};b.prototype.toString=function(){var h8i;h8i=2;while(h8i!==1){switch(h8i){case 2:return r.lz.prototype.toString.call(this)+":"+m.Ch.prototype.toString.call(this);break;}}};return b;break;}}}(r.lz);b.YR=h;n(a["default"],h.prototype);d.Ke(m.Ch,h,!1);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iw=void 0;d=b.iw||(b.iw={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,b,a){var k,m,r,q,n,l;function c(a){var b;b=a.va;return a.Mb(n.ha.ue(0>b?Math.ceil(b):Math.floor(b)));}Object.defineProperty(b,"__esModule",{value:!0});b.k4=b.Kja=void 0;k=a(0);d=a(16);m=a(19);r=a(4);q=a(831);n=a(28);l=a(5);b.Kja=c;a=function(a){function b(b,c,f,l,h,n,q){var r,m;m=a.call(this)||this;m.u=b;m.pe=c;m.bf=f;m.wc=l;m.I=h;m.U=n;m.fg=q;m.$e=m.u.error.bind(m.u);m.eb=m.u.warn.bind(m.u);m.Aj=m.u.trace.bind(m.u);null===(r=l.events)||void 0===r?void 0:r.addListener("ready",function(){m.Pw();});m.reset();return m;}k.__extends(b,a);Object.defineProperties(b.prototype,{endOfStream:{get:function(){return this.YU;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{HW:{get:function(){return this.wc?this.wc.HW:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ILb:{get:function(){return this.uo.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Utb:{get:function(){return this.nA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{TUa:{get:function(){return!!this.wc.Jkb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$y:{get:function(){return!!this.wc.reset;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b,c;this.Ot=!1;a||(this.uo=[]);this.nV=this.nA=this.i$=this.WE=void 0;this.fF=n.ha.Dc;this.oA=void 0;this.cTa=new q.Uxa(this.I,this.u);this.YU=!1;this.faa(n.ha.Dc);null===(c=(b=this.wc).reset)||void 0===c?void 0:c.call(b);};b.prototype.kIa=function(){this.i$=!0;};b.prototype.pause=function(){this.Ot=!0;};b.prototype.resume=function(){this.Ot=!1;this.Pw();};b.prototype.Lfa=function(){var a;return null===(a=this.nA)||void 0===a?void 0:a.we;};b.prototype.xbb=function(a){var b;if(this.I.jHa){l.assert(a.Ja);b=a.Ja.Ic;l.assert(void 0!==a.oc);l.assert(void 0!==b.Vb);if(a.oc>=b.Vb)return;a.Bm!==b.de&&a.MTa(new n.ha(b.de,1E3));}this.uo.push(a);this.Pw();};b.prototype.Mq=function(){this.Pw();};b.prototype.S1=function(a){a=this.uo.indexOf(a);-1!==a&&this.uo.splice(a,1);};b.prototype.kPa=function(a,b){this.I.Zaa&&b&&void 0===this.nA&&this.Jza(a,0);this.Pw();};b.prototype.P0=function(){this.YU||(this.YU=!0,this.Pw(),this.TUa||this.wc.endOfStream());};b.prototype.r2=function(){return JSON.stringify(this.uo);};b.prototype.faa=function(a){this.mCa=a;this.wc.uGb(a.Cb,a.T);};b.prototype.Pw=function(){var a,b,c,f,l,h,n,q;b=this.I;if(this.uo.length)if(this.wc&&!1!==this.wc.ready){c=this.uo[0];if(this.Ot)this.gF("@"+r.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.xr)this.eb("aborted MediaRequest should not appear in the toAppend list"),this.gF("@"+r.time.ea()+", append: removing aborted request from toAppend: "+c.toString()),this.uo.shift();else{f=c.stream;l=f.O;if(f.xi)if(this.LGb(f,c.index))this.i$=!1,this.Jza(f,c.index);else if(f=this.U.av(l)||this.Qrb(f),!b.mJ||f)if(f=c.dd-this.U.Ld(),!(this.pe===m.Na.AUDIO&&c.ev&&c.Ua&&!b.Es&&!this.YU&&1===this.uo.length&&f>b.xOa)||null!==(a=c.xQ)&&void 0!==a&&a.rMa){if(b.jHa||b.pkb){a=c.Ja.Ic;h=this.$ib();if(h){n=a.Zi;q=c.Vb>=h;f=f>b.xOa;if(h<a.Vb&&q&&f&&!n)return;}}b.Kzb&&this.fg&&(b=this.fg(l.Ya))&&!b.bM?this.pause():(this.uo.shift(),this.v5a(c));}}}else this.gF("@"+r.time.ea()+", append: not appending, sourceBuffer not ready");};b.prototype.LGb=function(a,b){var c;if(this.i$||void 0===this.WE||a.ta!==this.WE.ta)return!0;a=a.xi;l.assert(a);c=this.WE.XLa;return c===a.length-1?!1:b>=a[c+1].CB;};b.prototype.Qrb=function(a){if(void 0===this.WE)return!1;a=a.xi;l.assert(a);return!1===a[this.WE.XLa].Lj;};b.prototype.$ib=function(){throw Error("not supported");};b.prototype.r5a=function(a){var b,c;if(a.Ei){c=null===(b=this.bf.yc)||void 0===b?void 0:b.ZUb;this.I.PKb&&void 0!==c&&0<=c?(b=new n.ha(c,48E3),this.fF=a.Ei.add(b)):this.I.NA&&(this.fF=a.Ei);}};b.prototype.Jza=function(a,b){var c;c=a.xi.reduce(function(a,c,f){return c.CB<=b?f:a;},0);if(this.wc.appendBuffer(a.xi[c].data,{bc:!0,profile:a.profile,R:a.R,ta:a.id}))this.gF("@"+r.time.ea()+", header appended, streamId: "+a.ta),this.WE={ta:a.ta,XLa:c},this.s9a(a.O.Ya||0,a.ta,c),this.r5a(a),this.Pw();else throw this.eb("appendHeader error: "+this.wc.error),this.gF("@"+r.time.ea()+", appendHeader error: "+this.wc.error),Error("appendHeaderError");};b.prototype.v5a=function(a){var b,c,f,l,h,q,k,d;h=a.WBb||n.ha.Dc;q=a.Ja.Ic.ba;q.oa&&Infinity!==q.oa&&(q=new n.ha(q.oa,1E3).add(h).eh,Infinity===this.bf.duration||this.bf.duration<q)&&(this.bf.duration=q);if(void 0===this.nV||h&&!h.equal(this.nV))q=this.fF.add(this.cTa.yt).add(h),this.faa(q),this.nV=h;h=this.cTa.wma(this.pe,a,this.oA,this.fF,this.nV,this.nA,this.uo[0],this.y7a,this.faa.bind(this),this.u9a.bind(this));q=h.wma;k=h.Njb;h=h.Ibb;if(void 0===this.nA&&!this.I.tja&&a.stream.Ei&&this.I.yo){d=null===(b=a.pl)||void 0===b?void 0:b.Mb(a.stream.Ei).add(this.mCa);d.lessThan(n.ha.Dc)&&a.Mda(Math.ceil(d.A0(-1).Eu(a.stream.Qa)));}q=a.zF(this.wc,this.bf.yc,this.nA,this.uo[0],q,k);b=q.da;(q=q.Qn)&&this.emit(q.type,q);if(b)void 0===this.oA||this.pe!==m.Na.AUDIO||a.Kv.equal(this.oA.add(h))||(this.n9a(a,this.oA.add(h)),this.oA=void 0),this.gF("@"+r.time.ea()+", request appended, type: "+a.L+", streamId: "+a.ta+", pts: "+a.dd+"-"+a.we),this.nA=a,a.ev?(this.oA=a.AC,this.y7a=this.P5a(a,this.mCa||n.ha.Dc),null===(f=(c=this.wc).Jkb)||void 0===f?void 0:f.call(c,a.xQ),this.I.uD&&(null===(l=a.xQ)||void 0===l?0:l.rMa)&&this.P0()):this.oA=void 0,this.t9a(a),this.Pw();else{if(void 0!==this.wc.error){if("done"===this.wc.error)return;this.$e("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.wc.error);throw this.wc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.wc.error);this.$e(a.message);throw a;}};b.prototype.P5a=function(a,b){var f,l;f=a.stream.Qa;l=a.zn;this.I.yo&&a.stream.Ei&&(l=l.Mb(a.stream.Ei));return c(l.Mb(f)).add(c(f)).add(c(b));};b.prototype.s9a=function(a,b,c){a={type:"headerAppended",mediaType:this.pe,manifestIndex:a,streamId:b,isIndex:c};this.emit(a.type,a);};b.prototype.t9a=function(a){a={type:"requestAppended",mediaType:this.pe,request:a};this.emit(a.type,a);};b.prototype.gF=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};b.prototype.n9a=function(a,b){var c;c=a.oc;a=a.Kv.Mb(b).va;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.emit(c.type,c);};b.prototype.u9a=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.va,minavsyncerror:b.va}};this.emit(a.type,a);};return b;}(d.EventEmitter);b.k4=a;},function(d,b,a){var c,k,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Q3a=b.aS=void 0;c=a(0);d=a(16);k=a(160);m=a(58);r=a(4);q=a(11);a=a(33);n=r.Promise;l=function(){function a(a,b){this.console=a;this.Wf=b;this.Y7a=this.ZK=0;this.Mf=[];this.console=q.py(r,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{Nib:{get:function(){return this.ZK;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pFa:{get:function(){var a,b,c;for(b=0;b<this.Mf.length;b++){c=this.Mf[b];if(!c.BO||(null===(a=c.item)||void 0===a?0:a.done))break;}return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.Wf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zu:{get:function(){return 0===this.Wf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$la:{get:function(){var a;for(a=0;a<this.Mf.length&&this.Mf[a].Lha;a++);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=c.__read(this.Mf,1)[0];return(a=a&&a.item)&&!a.done&&a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tja:{get:function(){var a;for(a=0;a<this.Mf.length&&this.Mf[a].BO;a++);return a;},enumerable:!1,configurable:!0}});a.prototype.cY=function(){var a;if(void 0===this.Wf){a=this.console;m.gb&&a&&a.trace("QueueIterator: enqueueEnd");this.Coa(this.Tja-(this.Wf||0));}};a.prototype.Qs=function(){return this.Mf.map(function(a){return a.item;});};a.prototype.hoa=function(){return this.Mf.filter(function(a){return(null===a||void 0===a?void 0:a.item)&&!a.item.done;}).map(function(a){return a.item.value;});};a.prototype.Coa=function(a){var b;m.gb&&this.console.trace("updateCount",{IXb:this.Wf,eG:a});if(void 0!==this.Wf){b=this.Mf[this.Wf];b&&this.vha(b);}this.Wf=void 0===this.Wf?a:void 0===a?a:this.Wf+a;void 0!==this.Wf&&(this.Wf=Math.max(0,this.Wf),(b=this.Mf[this.Wf])&&b.gH.resolve({done:!0}));};a.prototype.enqueue=function(a){m.gb&&this.console.trace("Enqueue called");return this.SBb(this.Tja,{value:a,done:!1}).zGa.ys;};a.prototype.cma=function(){m.gb&&this.console.trace("resetEnd");this.Coa(void 0);};a.prototype.clear=function(a){var b,c,f;m.gb&&this.console.trace("clear");this.uRa();b=this.$la;c=this.Mf.length-b;if(0<c){f={index:b,hka:c};m.gb&&this.console.trace("Removing items",f);this.Mf.splice(b,c);this.emit("onRemoved",f);}for(c=1;c<b;c++)this.vha(this.Mf[c]);this.Wf=void 0;this.Coa(a?a+b:a);this.ZK&&(this.ZK=0);};a.prototype.AJa=function(){var a,b;a=this;b=q.py(r,this.console,"QueueIteratorInstance::");return new f(this,function(b){return a.SJa(b);},b);};a.prototype.rda=function(){var a;if(0<this.$la){a=c.__read(this.Mf,1)[0];if(a.BO)return m.gb&&this.console.trace("dequeue",a.id),this.uRa(1),this.emit("onDequeue",a.gH.ys);}};a.prototype.remove=function(a){var b,c,f;for(b=0;b<this.Mf.length;b++){c=this.Mf[b];f=c.item;if(f&&!f.done&&f.value===a){this.Mf.splice(b,1);m.gb&&this.console.trace("removed",{id:c.id});this.emit("onRemoved",{index:b,hka:1});break;}}};a.prototype.uRa=function(a){var b;a=a||Math.min(this.$la,this.Tja);if(0<a){b=this.Mf.splice(0,a);this.Wf&&(this.Wf-=a);m.gb&&this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.zGa.resolve();});},0);this.emit("onRemoved",{index:0,hka:a});this.ZK+=a;}};a.prototype.SJa=function(a){var b;m.gb&&this.console.trace("getNextItemCalled",{offset:a});if(void 0===this.count||0<this.count){this.xLa(a);b=this.Mf[a];b.VDb.resolve();a=b.gH.ys;m.gb&&this.console.trace("getNextItem:return",{id:b.id});}else m.gb&&this.console.trace("getNextItem:returnDone"),a=n.resolve({done:!0});return a;};a.prototype.SBb=function(a,b){var c;c=!b.done&&b.value;c=c&&c.toJSON?c.toJSON():c;m.gb&&this.console.trace("Providing result",{$ab:a,item:c});this.xLa(a);a=this.Mf[a];c=a.gH.resolve;c(b);return a;};a.prototype.xLa=function(a){var b;if(void 0===this.Mf[a]){b={};this.vha(b);this.Mf[a]=b;a===this.Wf&&b.gH.resolve({done:!0});m.gb&&this.console.trace("Item initialized",{$ab:a});}};a.prototype.Nca=function(a){var b;b={};b.ys=new n(function(c,f){b.resolve=function(b){c(b);a&&a(b);};b.reject=f;});return b;};a.prototype.vha=function(a){var b;b=this;a.gH=this.Nca(function(c){a.item=c;a.BO=!0;m.gb&&b.console.trace("Item resolved",{id:a.id});});a.id&&a.Lha&&!a.BO&&(a.gH.resolve({done:!0}),m.gb&&this.console.warn("Overwriting requested queue item",a.id));a.zGa=this.Nca();a.VDb=this.Nca(function(){a.Lha=!0;m.gb&&b.console.trace("Item requested",{id:a.id});});a.id=this.Y7a++;a.Lha=!1;a.BO=!1;a.item=void 0;};a.prototype.bnb=function(){var a,b;a=this;b=new k.oz(function(){var c,f;if(0===a.count)return k.oz.tga();c=a.SJa(0);f=a.Mf[0];c.then(function(){b.bH||f===a.Mf[0]&&a.rda();});return c;});return b;};return a;}();b.aS=l;a.Ke(d.EventEmitter,l);f=function(a){function b(b,c,f){var l;l=a.call(this,function(){m.gb&&l.console.trace("Next item requested",{index:l.index});return l.qEb(l.index++);})||this;l.parent=b;l.qEb=c;l.console=f;l.TE=!1;l.index=0;l.n$=!1;l.KPa=function(a){var b;b=a.index;a=a.hka;l.index>=b&&(l.index=Math.max(b,l.index-a));b=l.console;m.gb&&b&&b.trace("QueueIteratorInstance: onRemoved modified",l.index);};return l;}c.__extends(b,a);b.prototype.xg=function(){this.console.trace("disposed");this.TE=!0;this.mc();a.prototype.xg.call(this);};b.prototype.next=function(){this.bH||this.g_();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.mc();return a.prototype.cancel.call(this);};b.prototype.mc=function(){this.parent.PH("onRemoved",this.KPa);this.n$=!1;};b.prototype.g_=function(){this.n$||(this.n$=!0,this.parent.on("onRemoved",this.KPa));};return b;}(k.oz);b.Q3a=f;},function(d,b,a){var k;function c(a,b){return a<b?-1:a>b?1:0;}Object.defineProperty(b,"__esModule",{value:!0});b.qT=void 0;k=a(0);d=function(){function a(a,b){this.data=null!==a&&void 0!==a?a:[];this.compare=null!==b&&void 0!==b?b:c;if(!this.empty)for(a=(this.length>>1)-1;0<=a;a--)this.jAa(a);}Object.defineProperties(a.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.data.length;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.data.push(a);this.sCa(this.length-1);};a.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty||(this.data[0]=b,this.jAa(0));return a;}};a.prototype.Cy=function(){return this.data[0];};a.prototype.xBb=function(a){a=this.data.indexOf(a);-1!==a&&this.sCa(a);};a.prototype.map=function(a){return this.data.map(a);};a.prototype.find=function(a){return k.__read(this.data.filter(a),1)[0];};a.prototype.clear=function(){this.data=[];};a.prototype.remove=function(a){a=this.data.indexOf(a);-1!==a&&this.data.splice(a,1);};a.prototype.sCa=function(a){for(var b=this.data,c=this.compare,l=b[a],f,h;0<a;){f=a-1>>1;h=b[f];if(0<=c(l,h))break;b[a]=h;a=f;}b[a]=l;};a.prototype.jAa=function(a){for(var b=this.data,c=this.compare,l=this.length>>1,f=b[a],h,m,r;a<l;){h=(a<<1)+1;r=b[h];m=h+1;m<this.length&&0>c(b[m],r)&&(h=m,r=b[m]);if(0<=c(r,f))break;b[a]=r;a=h;}b[a]=f;};return a;}();b.qT=d;},function(d,b,a){var q,n,l,f,h,x;function c(a){var b;b=a.e$;this.I=a;this.di=n.Ne.HAVE_NOTHING;this.LE=a.LE;a=new h(this.LE);this.OL=a.create("throughput-location-history",b);this.St=a.create("respconn-location-history",b);this.Kt=a.create("respconn-location-history",b);this.$V=a.create("throughput-tdigest-history",b);this.hV=a.create("throughput-iqr-history",b);this.Sa=null;}function k(a,b,f,h,n){this.Jt=new c(n);this.so=[];this.O7a=l.time.ea()-Date.now()%864E5;this.Ht=null;this.I=n;for(a=0;a<h;++a)this.so.push(new c(n));}function m(a,b,c){return q.has(a,b)?a[b]:a[b]=c;}function r(a,b){var f;this.I=a;this.kCa=b;this.AHa();this.eL=new c(this.I);this.oL();f=a.dda;f&&(f={yd:n.Ne.PJ,Ga:{Da:parseInt(f,10),Bh:0},xh:{Da:0,Bh:0},lq:{Da:0,Bh:0}},this.get=function(){return f;});}q=a(8);n=a(19);b=a(11);l=a(4);f=b.Csa;h=a(402).wsa;new l.Console("ASEJS_LOCATION_HISTORY","media|asejs");x={yd:n.Ne.HAVE_NOTHING};c.prototype.KA=function(a,b){this.di=b;this.OL.add(a);this.$V.add(a);this.Sa=l.time.ea();};c.prototype.tD=function(a,b){this.hV.set(a,b);};c.prototype.cu=function(a){this.St.add(a);};c.prototype.bu=function(a){this.Kt.add(a);};c.prototype.Tc=function(){var a,b,c,f,h,n;a=this.OL.Tc();b=this.St.Tc();c=this.Kt.Tc();f=this.hV.Tc();h=this.$V.Tc();if(q.Oa(a)&&q.Oa(b)&&q.Oa(c))return null;n={c:this.di,t:l.time.Hja(this.Sa)};q.Oa(a)||(n.tp=a);q.Oa(b)||(n.rt=b);q.Oa(c)||(n.hrt=c);q.Oa(f)||(n.iqr=f);q.Oa(h)||(n.td=h);return n;};c.prototype.Xd=function(a){var b;b=l.time.now();if(!(a&&q.has(a,"c")&&q.has(a,"t")&&q.has(a,"tp")&&q.isFinite(a.c)&&q.isFinite(a.t))||0>a.c||a.c>n.Ne.PJ||a.t>b||!this.OL.Xd(a.tp))return this.di=n.Ne.HAVE_NOTHING,this.Ht=this.Sa=null,this.OL.Xd(null),this.St.Xd(null),this.Kt.Xd(null),!1;this.di=a.c;this.Sa=l.time.eka(a.t);this.St.Xd(q.has(a,"rt")?a.rt:null);this.Kt.Xd(q.has(a,"hrt")?a.hrt:null);q.has(a,"iqr")&&this.hV.Xd(a.iqr);q.has(a,"td")&&this.$V.Xd(a.td);return!0;};c.prototype.get=function(){var a,b,c,h,m,r;a=this.I;if(q.Oa(this.Sa))return x;b=(l.time.ea()-this.Sa)/1E3;b>a.j7a?this.di=n.Ne.HAVE_NOTHING:b>a.L6a&&(this.di=Math.min(this.di,n.Ne.zz));a=this.OL.get();c=this.St.get();h=this.Kt.get();m=this.hV.get();r=this.$V.get();b={bm:b,yd:this.di,Ga:a,xh:c,lq:h,nq:m,Ii:r};a&&(b.fZb=f.prototype.ala.bind(a));c&&(b.rYb=f.prototype.ala.bind(c));h&&(b.lWb=f.prototype.ala.bind(h));return b;};c.prototype.time=function(){return this.Sa;};c.prototype.KE=function(){this.get();l.time.ea();};k.prototype.xj=function(){return((l.time.ea()-this.O7a)/1E3/3600/(24/this.so.length)|0)%this.so.length;};k.prototype.Tc=function(){var a;a={g:this.Jt.Tc(),h:this.so.map(function(a){return a.Tc();})};q.Oa(this.Ht)||(a.f=l.time.Hja(this.Ht));return a;};k.prototype.Xd=function(a){var b,c;if(!this.Jt.Xd(a.g))return!1;b=this.so.length;c=!1;this.so.forEach(function(f,l){c=!f.Xd(a.h[l*a.h.length/b|0])||c;});this.Ht=q.has(a,"f")?l.time.eka(a.f):null;return c;};k.prototype.KA=function(a,b){this.Jt.KA(a,b);this.so[this.xj()].KA(a,b);this.Ht=null;};k.prototype.tD=function(a,b){this.Jt.tD(a,b);this.so[this.xj()].tD(a,b);};k.prototype.cu=function(a){this.Jt.cu(a);this.so[this.xj()].cu(a);};k.prototype.bu=function(a){this.Jt.bu(a);this.so[this.xj()].bu(a);};k.prototype.fail=function(a){this.Ht=a;};k.prototype.get=function(){var a,b;if(!q.Oa(this.Ht)){if((l.time.ea()-this.Ht)/1E3<this.I.K6a)return{yd:n.Ne.HAVE_NOTHING,Rx:!0};this.Ht=null;}a=this.so[this.xj()].get();b=this.Jt.get();a=a.yd>=b.yd?a:b;a.Rx=!1;return a;};k.prototype.time=function(){return this.Jt.time();};k.prototype.KE=function(a){this.Jt.KE(a+": global");this.so.forEach(function(b,c,f){q.Oa(b.time())||(c=24*c/f.length,b.KE(a+":  "+((10>c?"0":"")+c+"00")+"h"));});};r.prototype.CAa=function(a,b){var c;c=this.I;a=m(this.Xw,a,{});return m(a,b,new k(0,0,0,c.zBa||4,c));};r.prototype.oL=function(){var a,b;a=l.storage.get("lh");b=l.storage.get("gh");a&&this.daa(a);b&&this.K9a(b);};r.prototype.j$=function(){var a;a={};q.Td(this.Xw,function(b,c){q.Td(b,function(b,f){m(a,c,{})[f]=b.Tc();},this);},this);return a;};r.prototype.K9a=function(a){this.eL.Xd(a);};r.prototype.daa=function(a){var b,c;b=null;c=this.I;q.Td(a,function(a,f){q.Td(a,function(a,l){var h;h=new k(0,0,0,c.zBa||4,c);h.Xd(a)?(m(this.Xw,f,{})[l]=h,b=!0):q.Oa(b)&&(b=!1);},this);},this);return q.Oa(b)?!0:b;};r.prototype.save=function(){var a;a=this.j$();l.storage.set("lh",a);l.storage.set("gh",this.eL.Tc());this.kCa&&this.kCa.Wma(this.eL.Tc());};r.prototype.AHa=function(a){a?(q.has(this.Xw,a)&&delete this.Xw[a],this.TU==a&&(this.iA=this.TU="",this.fl=null)):(this.Xw={},this.iA=this.TU="",this.fl=null);};r.prototype.JQ=function(a){this.TU=a;this.fl=null;};r.prototype.v2=function(a){this.iA=a;this.fl=null;};r.prototype.dV=function(){q.Oa(this.fl)&&(this.fl=this.CAa(this.TU,this.iA));return this.fl;};r.prototype.KA=function(a,b){this.dV().KA(a,b);this.eL.KA(a,b);};r.prototype.tD=function(a,b){a&&a.Gk&&a.ij&&a.Hk&&(this.dV().tD(a,b),this.eL.tD(a,b));};r.prototype.cu=function(a){this.dV().cu(a);};r.prototype.bu=function(a){this.dV().bu(a);};r.prototype.fail=function(a,b){this.CAa(a,this.iA).fail(b);};r.prototype.get=function(a,b){var c,f,l,h;a=(a=this.Xw[a])?a[this.iA]:null;c=null;if(a&&(c=a.get(),c.yd>n.Ne.HAVE_NOTHING))return c;if(!1===b)return x;f=c=null;l=!1;h=null;q.Td(this.Xw,function(a){q.Td(a,function(a,b){var n;if(!l||b==this.iA){n=a.get();n&&(!f||f<=n.yd)&&(!h||f<n.yd||h<a.time())&&(f=n.yd,l=b==this.iA,h=a.time(),c=n);}},this);},this);return c?c:x;};r.prototype.KE=function(){q.Td(this.Xw,function(a,b){q.Td(a,function(a,c){a.KE(b+":"+c);});});};d.P=r;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.DD=void 0;c=a(164);k=a(223);m=a(839);r=a(92);q=a(5);d=function(){function a(a,b){var f;f=this;this.Df=new k(a,b);this.wm=new m(a);this.yb=new r(this.wm,this.Df,a);c.Ys.Seb(a);a.i1&&setInterval(function(){f.Df.save();f.wm.save();},a.i1);}a.VJa=function(b,c){void 0===n?(a.config=b,a.$v=c,n=new a(b,c)):(q.assert(a.config===b),q.assert(a.$v===c));return n;};a.reset=function(){a.config=void 0;n=a.$v=void 0;};return a;}();b.DD=d;},function(d,b){function a(a){var b;b={profile:a.spoofedProfile||a.profile,bfa:a.max_framerate_value,afa:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,mAb:a.pixelAspectX,nAb:a.pixelAspectY,Do:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile&&(b.NXb=a.profile);return b;}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=b.OJa=void 0;b.OJa=function(b,k,m){var c;c=[{},{}];(0===m?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(q,n){b[q].some(function(b,f){return f===k[n]?(c[n]=a(b),!0):!1;});});return c;};b.PJa=a;},function(d,b,a){b=a(842);d.P=b;},function(d,b,a){var r;function c(a){this.sF=a;this.reset();}function k(a){this.li=new c(a);this.Qd=0;this.Rb=null;}function m(a,b){this.sF=a;this.eBa=b;this.reset();}r=a(8);c.prototype.LBa=function(a,b){this.Sa+=a;this.wj+=a;this.ac+=b;this.Vi.push({d:a,rba:b});};c.prototype.CL=function(){var a;for(;this.wj>this.sF;){a=this.Vi.shift();this.ac-=a.rba;this.wj-=a.d;}};c.prototype.reset=function(){this.Vi=[];this.Sa=null;this.wj=this.ac=0;};c.prototype.setInterval=function(a){this.sF=a;this.CL();};c.prototype.start=function(a){r.Oa(this.Sa)&&(this.Sa=a);};c.prototype.add=function(a,b,c){r.Oa(this.Sa)&&(this.Sa=b);b>this.Sa&&this.LBa(b-this.Sa,0);this.LBa(c>this.Sa?c-this.Sa:0,a);this.CL();};c.prototype.get=function(){return{Da:Math.floor(8*this.ac/this.wj),Bh:0};};k.prototype.reset=function(){this.li.reset();this.Qd=0;this.Rb=null;};k.prototype.add=function(a,b,c){!r.Oa(this.Rb)&&c>this.Rb&&(b>this.Rb&&(this.Qd+=b-this.Rb),this.Rb=null);this.li.add(a,b-this.Qd,c-this.Qd);};k.prototype.start=function(a){!r.Oa(this.Rb)&&a>this.Rb&&(this.Qd+=a-this.Rb,this.Rb=null);this.li.start(a-this.Qd);};k.prototype.stop=function(a){this.Rb=r.Oa(this.Rb)?a:Math.min(a,this.Rb);};k.prototype.get=function(){return this.li.get();};k.prototype.setInterval=function(a){this.li.setInterval(a);};m.prototype.reset=function(){this.Vi=[];this.ac=this.wj=0;};m.prototype.add=function(a,b,c,f){void 0!==f&&!0===f&&(b=c-b,this.wj+=b,this.ac+=a,this.Vi.push({d:b,rba:a}),this.CL());};m.prototype.CL=function(){var a;for(;this.wj>this.sF||this.Vi.length>this.eBa;){a=this.Vi.shift();this.ac-=a.rba;this.wj-=a.d;}};m.prototype.start=function(){};m.prototype.stop=function(){};m.prototype.get=function(){return{Da:Math.floor(8*this.ac/this.wj),Bh:0};};m.prototype.setInterval=function(a,b){this.sF=a;this.eBa=b;this.CL();};d.P={DNb:c,w_a:k,g5a:m};},function(d,b,a){var q;function c(a,b,c){this.iG=!1===a;this.eG=a||.01;this.f6=void 0===b?25:b;this.wqa=void 0===c?1.1:c;this.qh=new q(k);this.reset();}function k(a,b){return a.lf>b.lf?1:a.lf<b.lf?-1:0;}function m(a,b){return a.ms-b.ms;}function r(a){this.config=a||{};this.mode=this.config.mode||"auto";c.call(this,"cont"===this.mode?a.eG:!1);this.gjb=this.config.ratio||.9;this.hjb=this.config.eZb||1E3;this.B0=0;}q=a(855).S3a;c.prototype.reset=function(){this.qh.clear();this.nia=this.n=0;};c.prototype.size=function(){return this.qh.size;};c.prototype.Qs=function(a){var b;b=[];a?(this.RU(!0),this.qh.Td(function(a){b.push(a);})):this.qh.Td(function(a){b.push({lf:a.lf,n:a.n});});return b;};c.prototype.summary=function(){return[(this.iG?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.Qh(0),"Q1  = "+this.Qh(.25),"Q2  = "+this.Qh(.5),"Q3  = "+this.Qh(.75),"max = "+this.Qh(1)].join("\n");};c.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.iAa(a[c],b);};c.prototype.tla=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.iAa(a[b].lf,a[b].n);};c.prototype.RU=function(a){var b;if(!(this.n===this.nia||!a&&this.wqa&&this.wqa>this.n/this.nia)){b=0;this.qh.Td(function(a){a.ms=b+a.n/2;b=a.VF=b+a.n;});this.n=this.nia=b;}};c.prototype.Xlb=function(a){var b,c;if(0===this.size())return null;b=this.qh.lowerBound({lf:a});c=null===b.data()?b.DC():b.data();return c.lf===a||this.iG?c:(b=b.DC())&&Math.abs(b.lf-a)<Math.abs(c.lf-a)?b:c;};c.prototype.aF=function(a,b,c){a={lf:a,n:b,VF:c};this.qh.Mn(a);this.n+=b;return a;};c.prototype.AU=function(a,b,c){b!==a.lf&&(a.lf+=c*(b-a.lf)/(a.n+c));a.VF+=c;a.ms+=c/2;a.n+=c;this.n+=c;};c.prototype.iAa=function(a,b){var c,l,n;c=this.qh.min();l=this.qh.max();n=this.Xlb(a);n&&n.lf===a?this.AU(n,a,b):n===c?this.aF(a,b,0):n===l?this.aF(a,b,this.n):this.iG?this.aF(a,b,n.VF):(c=n.ms/this.n,Math.floor(4*this.n*this.eG*c*(1-c))-n.n>=b?this.AU(n,a,b):this.aF(a,b,n.VF));this.RU(!1);!this.iG&&this.f6&&this.size()>this.f6/this.eG&&this.yu();};c.prototype.zcb=function(a){var b,c;this.qh.bl=m;b=this.qh.upperBound({ms:a});this.qh.bl=k;c=b.DC();a=c&&c.ms===a?c:b.next();return[c,a];};c.prototype.Qh=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.U8a,this);return Array.isArray(a)?b:b[0];};c.prototype.U8a=function(a){var b,c;if(0!==this.size()){this.RU(!0);this.qh.min();this.qh.max();a*=this.n;b=this.zcb(a);c=b[0];b=b[1];return b===c||null===c||null===b?(c||b).lf:this.iG?a<=c.VF?c.lf:b.lf:c.lf+(a-c.ms)*(b.lf-c.lf)/(b.ms-c.ms);}};c.prototype.yu=function(){var a;if(!this.rFa){a=this.Qs();this.reset();for(this.rFa=!0;0<a.length;)this.tla(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.RU(!0);this.rFa=!1;}};r.prototype=Object.create(c.prototype);r.prototype.constructor=r;r.prototype.push=function(a){c.prototype.push.call(this,a);this.Xdb();};r.prototype.aF=function(a,b,f){this.B0+=1;c.prototype.aF.call(this,a,b,f);};r.prototype.AU=function(a,b,f){1===a.n&&--this.B0;c.prototype.AU.call(this,a,b,f);};r.prototype.Xdb=function(){!("auto"!==this.mode||this.size()<this.hjb)&&this.B0/this.size()>this.gjb&&(this.mode="cont",this.iG=!1,this.eG=this.config.eG||.01,this.yu());};d.P={TDigest:c,Digest:r};},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.tJ=void 0;c=a(0);d=a(80);k=a(165);m=a(166);a=function(a){function b(b,c,f,h,q,r,k){c=a.call(this,b,c,f,h,q,r,k)||this;m.jw.call(c,b,h);return c;}c.__extends(b,a);return b;}(k.lz);b.tJ=a;d(m.jw.prototype,a.prototype);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.yD=void 0;d=a(33);a=a(109);c=function(){function a(a,b){this.qo=a;this.GE=b.Ta;this.Et=b.hb;}Object.defineProperties(a.prototype,{Ta:{get:function(){return void 0!==this.GE?this.GE:this.qo.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hb:{get:function(){return void 0!==this.Et?this.Et:this.qo.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.qo.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wj:{get:function(){return this.qo.Wj;},enumerable:!1,configurable:!0}});a.prototype.HQ=function(a){this.Et=a;};a.prototype.dca=function(){this.Et=void 0;};return a;}();b.yD=c;d.Ke(a.nz,c);d.Ke(a.kz,c);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(127);k=a(234);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.MRa=function(){15!==this.M.Tf(4)||this.M.Tf(24);};b.prototype.parse=function(a){if(this.Lsb(a)&&64===a.lyb)switch(this.OA=this.ERa(),this.MRa(),this.M.Tf(4),this.jlb=5===this.OA||29===this.OA?5:-1,0<this.jlb&&(this.MRa(),this.OA=this.ERa(),22===this.OA&&this.M.Tf(4)),this.OA){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.xIa=this.M.Tf(1),(this.Lib=this.M.Tf(1))&&this.M.Tf(14),this.M.Tf(1),this.EY=3===this.OA?256:23===this.OA?this.xIa?480:512:this.xIa?960:1024;}this.skip();return!0;};b.prototype.ERa=function(){var a;a=this.M.Tf(5);31===a&&(a=32+this.M.Tf(6));return a;};b.prototype.Lsb=function(a){return a.tag===k.ora.tag;};b.tag=5;return b;}(d.J4);b.t_a=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.lyb=this.M.ud();this.M.ud();this.M.ah();this.M.ud();this.ap=this.M.Hb();this.Xbb=this.M.Hb();this.OBa();return!0;};b.tag=4;return b;}(a(127).J4);b.ora=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.ah();a=this.M.ud();this.MHb=!!(a&128);this.Z4a=!!(a&64);this.M2a=!!(a&32);this.MHb&&this.M.ah();this.Z4a&&this.M.E1(this.M.ud());this.M2a&&this.M.ah();this.OBa();return!0;};b.tag=3;return b;}(a(127).J4);b.Sra=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(127),b);d.__exportStar(a(233),b);d.__exportStar(a(232),b);d.__exportStar(a(231),b);d=a(232);c=a(231);a=a(233);b.fG={3:a.Sra,4:d.ora,5:c.t_a};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.M.offset+=6;this.M.ah();return!0;};return b;}(a(27).Xf);b["default"]=d;},function(d,b){function a(a,b){return"number"!==typeof a||"number"!==typeof b?!1:a&&b?Math.abs(a*b/c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});d=function(){function b(a,b){"object"===typeof a?(this.Xt=a.Cb,this.Yl=a.T):(this.Xt=a,this.Yl=b);}b.dzb=function(a){return new b(1,a);};b.ue=function(a){return new b(a,1E3);};b.foa=function(a,b){return Math.floor(1E3*a/b);};b.Lja=function(a,b){return Math.floor(a*b/1E3);};b.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.ffa=function(m,r){var q;if(m.T===r.T)return new b(c(m.Cb,r.Cb),m.T);q=a(m.T,r.T);return b.ffa(m.Jf(q),r.Jf(q));};Object.defineProperties(b.prototype,{Cb:{get:function(){return this.Xt;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){return this.Yl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{va:{get:function(){return 1E3*this.Xt/this.Yl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{eh:{get:function(){return this.Xt/this.Yl;},enumerable:!0,configurable:!0}});b.prototype.Jf=function(a){a/=this.T;return new b(Math.floor(this.Cb*a),Math.floor(this.T*a));};b.prototype.add=function(c){var r;if(this.T===c.T)return new b(this.Cb+c.Cb,this.T);r=a(this.T,c.T);return this.Jf(r).add(c.Jf(r));};b.prototype.Mb=function(a){return this.add(new b(-a.Cb,a.T));};b.prototype.A0=function(a){return new b(this.Cb*a,this.T);};b.prototype.Eu=function(b){var c;if(this.T===b.T)return this.Cb/b.Cb;c=a(this.T,b.T);return this.Jf(c).Eu(b.Jf(c));};b.prototype.wKa=function(b){return a(this.T,b);};b.prototype.WRa=function(){return new b(this.T,this.Cb);};b.prototype.compare=function(b,c){var q;if(this.T===c.T)return b(this.Cb,c.Cb);q=a(this.T,c.T);return b(this.Jf(q).Cb,c.Jf(q).Cb);};b.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};b.prototype.KH=function(a){return this.compare(function(a,b){return a!==b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};b.prototype.YB=function(a){return this.compare(function(a,b){return a<=b;},a);};b.prototype.cy=function(a){return this.compare(function(a,b){return a>=b;},a);};b.prototype.toJSON=function(){return{ticks:this.Cb,timescale:this.T};};b.prototype.toString=function(){return this.Cb+"/"+this.T;};b.Dc=new b(0,1);b.zv=new b(1,1E3);return b;}();b.ha=d;},function(d,b,a){var da,W,N,ja,na,oa,za,O,xa,ga,ya,Da,la,Fa,db,B,M,Ma,lb,gb,P,Ha,ib,R,aa,Mb,U,X,ba,ea,ha;function c(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function k(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function m(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function r(a,b,c,f,l){ja.call(this,a,b,c,f,l);this.kna=a.config.kna;this.Kd=this.sizes=void 0;}function q(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function n(){for(var a=new DataView(this),b="",c,f=0;f<this.byteLength;f++)c=a.getUint8(f),b+=("00"+c.toString(16)).slice(-2);return b;}function l(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function f(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function h(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function x(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function F(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function g(a){function b(b,c,f,l,h){ja.call(this,b,c,f,l,h);this.UOa=a;}b.jc=!1;b.prototype=new ja();b.prototype.constructor=b;Object.defineProperties(b.prototype,{fra:{get:function(){return this.UOa;}}});b.prototype.parse=function(){this.M.console.trace("renaming '"+this.type+"' to draft type '"+this.UOa+"'");this.M.offset=this.startOffset+4;this.bb.lXa(this.fra);this.type=this.fra;return!0;};return b;}function E(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function J(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function K(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function D(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function T(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function Q(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function p(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function t(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function A(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function Z(a,b,c,f,l){ja.call(this,a,b,c,f,l);}function u(a,b){a.forEach(function(a){b[a.Oe]=a;});}da=a(129).assert;b=a(82);W=a(236).ha;N=a(414);a(128);a(73);a(73);a(73);ja=a(27).Xf;na=a(882)["default"];oa=a(881)["default"];za=a(880)["default"];O=a(879)["default"];xa=a(878)["default"];ga=a(877)["default"];ya=a(876)["default"];Da=a(875)["default"];la=a(874)["default"];a(235);a(167);Fa=a(413).uXa;db=a(413).E_a;B=a(873)["default"];M=a(872)["default"];Ma=a(81)["default"];lb=a(81).RXa;gb=a(81).SXa;P=a(81).TXa;Ha=a(81).UXa;ib=a(871)["default"];R=a(870)["default"];aa=a(81).A0a;Mb=a(81).v0a;U=a(869)["default"];X=a(868)["default"];ba=a(867)["default"];ea=a(412)["default"];ha=a(411)["default"];a(127);a(232);a(231);a(233);a=a(866)["default"];c.jc=!0;c.prototype=new ja();c.prototype.constructor=c;k.jc=!0;k.prototype=new ja();k.prototype.constructor=k;m.jc=!1;m.prototype=new ja();m.prototype.constructor=m;m.prototype.parse=function(){var a;this.Uf();1===this.version?(this.M.kj(),this.M.kj(),this.T=this.M.Hb(),this.duration=this.M.kj()):(this.M.Hb(),this.M.Hb(),this.T=this.M.Hb(),this.duration=this.M.Hb());a=this.M.ah()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};r.jc=!1;r.prototype=new ja();r.prototype.constructor=r;r.prototype.R8a=function(){this.Uf();this.M.Hb();this.T=this.M.Hb();0===this.version?(this.Qda=this.M.Hb(),this.Nea=this.M.Hb()):(this.Qda=this.M.kj(),this.Nea=this.M.kj());this.$Db=this.M.ah();this.ZRa=this.M.ah();};r.prototype.e6a=function(a,b){var c,f,l;c=this.T;a=a&&a.T||c;f=a/c;c=this.M.D1(b,12,!1);l=1===f?this.M.D1(b,12,!1):N.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.M.Hb()*f);this.M.offset+=8;return a;},this);this.k$a(b,l,c,a);};r.prototype.k$a=function(a,b,c,f){if(this.kna){f=this.kna*f/1E3;for(var l=0,h=1;h<a;h++)Math.abs(b[l]-f)>Math.abs(b[l]+b[h]-f)?(b[l]+=b[h],c[l]+=c[h]):(++l,l!==h&&(b[l]=b[h],c[l]=c[h]));++l;b=new Uint32Array(b.buffer.slice(0,4*l));c=new Uint32Array(c.buffer.slice(0,4*l));}this.sizes=c;this.Kd=b;};r.prototype.parse=function(a){var b,c,f,l;this.R8a();this.Qa=a.Qa;b=this.T;c=this.Qa&&this.Qa.T||b;f=this.ZRa;l=this.startOffset+this.length+this.Nea;b=new W(this.Qda,b).Jf(c).Cb;this.Z={T:c,Zj:b,offset:l};this.e6a(this.Qa,f);this.Z.Kd=this.Kd;this.Z.sizes=this.sizes;a.Is=this;return!0;};q.jc=!1;q.prototype=new ja();q.prototype.constructor=q;q.prototype.parse=function(){var a;this.gz=[];this.dAb=[];a=(this.length-11)/2;this.M.ud();this.M.ud();this.M.ud();for(var b=0;b<a;b++)this.gz.push(this.M.ud()),this.dAb.push(this.M.ud());return!0;};l.jc=!1;l.prototype=new ja();l.prototype.constructor=l;l.prototype.parse=function(){this.Uf();this.M.offset+=4;this.EMa=this.M.offset;this.fs=this.M.pCb();this.fs.toString=n;return!0;};f.jc=!1;f.prototype=new ja();f.prototype.constructor=f;f.prototype.parse=function(){this.Uf();this.En=this.M.ah();this.ewb=this.M.D1(this.En,void 0,!0);return!0;};h.jc=!1;h.prototype=new ja();h.prototype.constructor=h;h.prototype.parse=function(a){var b,c,f,l,h,n;l=a.Is;da(l);a=a.Qa;b=l.T;l=l.ZRa;da(a);da(b);da(l);this.Uf();da(2>this.version);this.En=this.M.ah();this.cI=new Uint16Array(l+1);c=a.wKa(b);h=c/b;n=a.Jf(c).Cb;if(0===this.version)for(this.vI=new Uint16Array(),this.Yg=new Uint32Array(),a=b=0;a<=l;++a){if(this.cI[a]=b,a<this.En&&(f=this.M.ud(),0!==f))for(c=0;c<f;++c,++b)this.vI[b]=Math.floor((this.M.Hb()+1)*h)/n,this.Yg[b]=this.M.Hb();}else if(1===this.version)for(c=this.M.nCb(this.En),this.M.offset+=4,this.Yg=this.M.D1(this.En,10,!1),this.M.offset-=8,this.vI=N.from(Uint16Array,{length:this.En},function(){var a;a=Math.floor((this.M.Hb()+1)*h)/n;this.M.offset+=6;return a;},this),b=a=0;a<=l;++a){for(;b<c.length&&c[b]<a;)++b;this.cI[a]=b;}this.mi={cI:this.cI,vI:this.vI,Yg:this.Yg};return!0;};x.jc=!0;x.prototype=Object.create(c.prototype);x.prototype.constructor=x;F.jc=!0;F.prototype=Object.create(c.prototype);F.prototype.constructor=F;F.prototype.CG=function(){var a;a=this.Lq("tfhd");a&&(this.ku=a.UDa?a.ku:this.parent.startOffset);return!0;};E.jc=!1;E.prototype=new ja();E.prototype.constructor=E;E.prototype.parse=function(){var a,r,m,c,l;a=this.M.offset;this.Uf();if(1===this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var b=this.M.offset,c=this.M.ud(),f=this.M.ud(),l=this.M.ud(),h=this.M.ud(),n=this.M.ah(),q=[],r=0;r<n;++r)q=this.M.ud();r=(c&240)>>>4;m=(c&14)>>>1;c=c&1;l=16===l?1:0;f!=h&&this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+h+" should be the same value!");h=2;switch(f){case 1:h=2;break;case 6:h=1;break;case 9:h=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.bb.H3(this.version,a);this.bb.H3(r<<4|h,b++);this.bb.H3(m<<4|l<<1|c,b++);n+=2;q.push(0,0);this.bb.WLb(n);b+=2;q.forEach(function(a){this.bb.H3(a,b++);});}return!0;};J.jc=!1;J.prototype=new ja();J.prototype.constructor=J;J.Oe="tfhd";Object.defineProperties(J.prototype,{UDa:{get:function(){return this.hf&1;}},zEb:{get:function(){return this.hf&2;}},Cib:{get:function(){return this.hf&8;}},Fib:{get:function(){return this.hf&16;}},Dib:{get:function(){return this.hf&32;}}});J.prototype.parse=function(){this.Uf();this.joa=this.M.Hb();this.ku=this.UDa?this.M.kj():void 0;this.zEb&&this.M.Hb();this.zX=this.Cib?this.M.Hb():void 0;this.BX=this.Fib?this.M.Hb():void 0;this.AX=this.Dib?this.M.Hb():void 0;return!0;};K.jc=!1;K.prototype=new ja();K.prototype.constructor=K;K.prototype.parse=function(){this.Uf();this.oM=1===this.version?this.M.kj():this.M.Hb();return!0;};K.prototype.Ua=function(a){var b;b=this.startOffset+12;this.oM+=a;1===this.version?this.bb.XLb(this.oM,b):this.bb.xp(this.oM,b);};D.jc=!1;D.prototype=new ja();D.prototype.constructor=D;Object.defineProperties(D.prototype,{bGa:{get:function(){return this.hf&1;}},Sea:{get:function(){return this.hf&4;}},d2:{get:function(){return this.hf&256;}},e2:{get:function(){return this.hf&512;}},WSa:{get:function(){return this.hf&1024;}},rma:{get:function(){return this.hf&2048;}}});D.prototype.parse=function(){this.Uf();this.dEa=this.M.offset;this.ie=this.M.Hb();this.Bu=this.bGa?this.M.Cla():0;this.Sea&&this.M.Hb();this.qQ=(this.d2?4:0)+(this.e2?4:0)+(this.WSa?4:0)+(this.rma?4:0);this.uY=this.M.offset;da(this.bGa,"Expected data offset to be present in Track Run");da(this.length-(this.M.offset-this.startOffset)===this.ie*this.qQ,"Expected remaining data in box to be sample information");return!0;};D.prototype.DL=function(a,b,c){var f,l,h;f=this.d2?this.M.Hb():a.zX;l=this.e2?this.M.Hb():a.BX;a=this.WSa?this.M.Hb():a.AX;h=0===this.version?this.rma?this.M.Hb():0:this.rma?this.M.Cla():0;return{yEb:h,EYb:a,dYb:c+h-(void 0!==b?b:h),Tv:l,rQ:f};};D.prototype.Ua=function(a,b,c,f,l,h,n){var q,r,m,d;q=0;r=0;this.bb.offset=this.uY;for(f=0;f<l;++f)d=this.DL(b,m,r),0==f&&(m=d.yEb),q+=d.Tv,r+=d.rQ;f=l;l=this.M.offset;d=this.DL(b,m,r);this.II=f;this.fHb=r;if(n){if(this.oI=this.Bu+q,this.Qv=0,f===this.ie)return!0;}else if(this.oI=this.Bu,this.Qv=q,0===f)return!0;if(0===f||f===this.ie)return!1;this.UX=!0;if(n){this.Qv+=d.Tv;for(n=f+1;n<this.ie;++n)d=this.DL(b,m,r),this.Qv+=d.Tv;this.bb.offset=this.dEa;this.ie=f;this.bb.xp(this.ie);this.bb.Voa(h);this.Sea&&(this.M.offset+=4);this.Pk(this.length-(l-this.startOffset),l);}else b=l-this.uY,this.bb.offset=this.dEa,this.ie-=f,this.bb.xp(this.ie),this.Bu+=q,this.bb.Voa(h,this.Bu),this.Sea&&(this.M.offset+=4),this.Pk(b,this.bb.offset);c.Pk(this.Qv,a.ku+this.oI);return!0;};D.prototype.IDb=function(a,b,c,f,l,h){var q;if(f){f=this.oI;for(var n=this.ie-1;0<=n&&this.ie-n<=l;--n){this.bb.offset=this.uY+n*this.qQ;q=this.DL(b);if(q.rQ!=h.duration){this.M.console.warn("Could not replace sample of duration "+q.rQ+" with silence of duration "+h.duration);break;}if(this.e2)this.bb.offset-=this.qQ-(this.d2?4:0),this.bb.xp(h.Vv.byteLength);else if(h.Vv.byteLength!==q.Tv){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=q.Tv;c.O1(q.Tv,h.Vv,a.ku+f);}}else for(f=this.oI+this.Qv,n=0;n<this.ie&&n<l;++n){this.bb.offset=this.uY+(n+this.II)*this.qQ;q=this.DL(b);if(q.rQ!=h.duration){this.M.console.warn("Could not replace sample of duration "+q.rQ+" with silence of duration "+h.duration);break;}if(this.e2)this.bb.offset-=this.qQ-(this.d2?4:0),this.bb.xp(h.Vv.byteLength);else if(h.Vv.byteLength!==q.Tv){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}c.O1(q.Tv,h.Vv,a.ku+f);f+=q.Tv;}};T.jc=!1;T.prototype=Object.create(ja.prototype);T.prototype.constructor=T;Object.defineProperties(T.prototype,{QA:{get:function(){return this.hf&1;}}});T.prototype.parse=function(){this.Uf();this.QA&&this.M.Jy();this.QA&&this.M.Hb();this.Eib=this.M.ud();this.ie=this.M.Hb();this.M.E1(this.ie);return!0;};T.prototype.Ua=function(a,b){if(a&&0===this.Eib){a=b?this.ie-a:a;this.bb.offset=this.startOffset+13+(this.QA?8:0);this.ie-=a;this.bb.xp(this.ie);this.pma=0;if(b)this.bb.offset+=this.ie;else{for(b=0;b<a;++b)this.pma+=this.bb.ud();this.bb.offset-=a;}this.Pk(a,this.M.offset);}return!0;};Q.jc=!1;Q.prototype=Object.create(ja.prototype);Q.prototype.constructor=Q;Object.defineProperties(Q.prototype,{QA:{get:function(){return this.hf&1;}}});Q.prototype.parse=function(){this.Uf();this.QA&&this.M.Jy();this.QA&&this.M.Hb();this.En=this.M.Hb();da(1===this.En,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Bu=0===this.version?this.M.Cla():this.M.vCb();return!0;};Q.prototype.Ua=function(a,b){this.Bu+=a;this.bb.offset=this.startOffset+16+(this.QA?8:0)+(0===this.version?0:4);this.bb.Voa(b,this.Bu);return!0;};p.jc=!1;p.prototype=Object.create(ja.prototype);p.prototype.constructor=p;Object.defineProperties(p.prototype,{$Pa:{get:function(){return this.hf&1;}},ZKb:{get:function(){return this.hf&2;}}});p.prototype.parse=function(){this.Uf();this.$Pa&&(this.M.Hb(),this.Qtb=this.M.E1(16));this.ie=this.M.Hb();return!0;};p.prototype.Ua=function(a,b){var c,f;c=b?this.ie-a:a;this.bb.offset=this.startOffset+28+(this.$Pa?20:0);this.ie-=c;this.bb.xp(this.ie);a=this.bb.offset;if(this.ZKb)for(c=b?this.ie:c;0<c;--c){this.bb.offset+=8;f=this.bb.ah();this.bb.offset+=6*f;}else this.bb.offset+=8*(b?this.ie:c);b?this.Pk(this.length-(this.M.offset-this.startOffset),this.M.offset):this.Pk(this.M.offset-a,a);};t.jc=!1;t.prototype=Object.create(ja.prototype);t.prototype.constructor=t;t.prototype.parse=function(){this.Uf();return!0;};t.prototype.Ua=function(a,b,c){c?this.Pk(b-a,this.startOffset+12+a):this.Pk(a,this.startOffset+12);return!0;};A.jc=!1;A.prototype=Object.create(ja.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.Uf();this.M.Jy();1===this.version&&this.M.Hb();this.En=this.M.Hb();this.sQ=[];for(var a=0;a<this.En;++a)for(var b=this.M.Hb(),c=this.M.Hb(),f=0;f<b;++f)this.sQ.push(c);return!0;};A.prototype.Ua=function(a,b){this.sQ=b?this.sQ.slice(0,a):this.sQ.slice(a);a=this.sQ.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.bb.offset=this.startOffset+16+(1===this.version?4:0);this.bb.xp(a.length);a.forEach(function(a){this.bb.xp(a.count);this.bb.xp(a.group);}.bind(this));this.En>a.length&&this.Pk(8*(this.En-a.length));this.En=a.length;return!0;};Z.jc=!1;Z.prototype=Object.create(ja.prototype);Z.prototype.constructor=Z;Ma={Sc:{moov:k,trak:c,mdia:c,mdhd:m,minf:c,encv:Ma,schi:c,sidx:r,sinf:c,stbl:c,tenc:l,mvex:c,moof:x,traf:F,tfhd:J,trun:D,sbgp:A,sdtp:t,saiz:T,saio:Q,tfdt:K,mdat:Z,vmaf:q},AJb:{vpcC:E,SmDm:g("smdm"),CoLL:g("coll")},RVa:{schm:ib},qma:{}};u([R,ga,ya,Da,aa,Mb,na,O,ea,ha,xa,la,oa,za,a],Ma.Sc);u([Fa,B,lb,gb,P,Ha,db,M,X,U],Ma.qma);u([R,ib],Ma.RVa);Ma.Sc[b.Jva]=l;Ma.Sc[b.wT]=f;Ma.Sc[b.vT]=h;Ma.Sc[b.Iva]=p;Ma.qma[b.Y6]=ba;Ma.Xf=ja;d.P={HH:Ma};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.sHa=b.zB=b.Lo=b.tJa=b.lZ=void 0;c=a(5);k=a(168);b.lZ=function(a,b){return!(1!==a||!b.nG)||0===a;};b.tJa=function(a,b,c,n){a=a.jm(b,void 0,!0);c&&(a=Math.floor(a/n)*n);return a;};b.Lo=function(a,r,q,n,l,f){var h,m,d,g;k.Ll.Kn(a);c.assert(q.Z,"findFirstFragment called without stream fragments");h=q.Z;c.assert(n>=h.Sh(0));m=b.lZ(a,r);0===a&&!f&&r.yo&&!r.NA&&q.Ei&&(n=Math.max(q.Z.Sh(0),n+q.Ei.va));d=b.tJa(h,n,q.O.WLa(a),r.NH);g=q.wi(d);if(g.oa<n)return g;m&&((m=g.qY(n))?(0<m.Gm&&g.Xj({start:m.Gm}),0!==a||r.tja||(0>m.Vc&&g.Xj({start:m.Gm}),m.Vc<(r.yo&&!r.NA&&q.Ei?Math.floor(q.Ei.va):0)&&g.Mda())):n>=g.oa&&d<h.length-1&&(g=q.wi(d+1)));1===a&&l&&g.oa===l&&d<h.length-1&&(g=q.wi(d+1));0===a&&!g.Ua&&(r.vO||r.MLa||r.$jb)&&f&&g.Xj({});g.MQ(n);return g;};b.zB=function(a,c,q,n,l,f,h){var r;k.Ll.Kn(a);r=q.Z;void 0===n&&(n=r.oa);if(l&&(l=l.Nlb(q,n,a,c,f)))return l;l=r.Qa;h=n?n+b.sHa(a,l,c.Es,h):r.cea(r.length-1);r=r.jm(h,void 0,!0);l=q.wi(r);0===r||l.S!==n||1!==a&&c.Es||(--r,l=q.wi(r));b.lZ(a,c)?(h=1===a?h:n,h<l.oa&&((f=l.Tlb(h))&&0!==f.Gm?l.Xj({end:f.Gm}):0===a&&(f||h<l.S)&&0!==r?l=q.wi(r-1):1===a&&f&&0!==r&&(l=q.wi(r-1))),0!==a||l.Ua||!c.vO&&!c.LLa||l.Xj()):0===a&&!c.Es&&n-l.S<l.duration/2&&0!==r&&(l=q.wi(r-1));l.MQ(n);return l;};b.sHa=function(a,b,c,n){var l;return 1===a||n?0:c?null!==(l=null===b||void 0===b?void 0:b.va)&&void 0!==l?l:0:b?-b.va:0;};},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,g,I,E;Object.defineProperty(b,"__esModule",{value:!0});b.$R=void 0;c=a(0);k=a(16);m=a(891);d=a(83);r=a(884);q=a(859);n=a(856);l=a(226);f=a(841);h=a(18);x=a(4);g=a(5);I=a(393);a(225);E=function(){return function(a){var b;b=a.Kha;a=a.p_;this.ZO=this.replace=b;this.Cf=a;};}();a=function(a){function b(b){var f,h,d,g,F,K,J,D,p,t,u,na,oa,za,O,xa,ga,ya,Da,la,Fa,db,B;f=b.na;h=b.Ya;d=b.ya;g=b.Lk;F=b.jb;K=b.jja;J=b.Yi;D=b.Dr;p=b.config;t=b.QQ;u=b.Lga;na=b.OC;oa=b.LN;za=b.yb;O=b.Df;xa=b.LH;b=b.jea;ga=a.call(this)||this;ga.MZ=!1;ga.NAa=[];ga.cBa=[];ga.mh=[];ga.gG=[];ga.el=!1;ga.na=f;ga.Ya=h;ga.ya=d;ga.Lk=g;ga.jb=F;ga.config=p;ga.console=new x.Console("ASEJS","media|asejs","<"+String(ga.na)+">");ga.j9a=new I.q8();u&&(f=u.gq,ga.Se=new n.Qsa(ga,ga.console,ga.config,u.El,u.jZ,f,u.m_,u.Re,u.Lc,u.fg,u.gy));ga.fy=new k.EventEmitter();ga.LN=oa;ga.yb=za;ga.LH=xa;ga.zl=new l.kT(d,za,O,ga.config,null===b||void 0===b?void 0:b.El);b&&(u=b.$r,oa=b.mm,za=b.eH,ga.il=b.Eg,ga.eH=za,ga.mm=oa,ga.$r=u,ga.rh=new q.isa(ga.zl,ga.config,ga.Iqb.bind(ga),ga.Hqb.bind(ga)));t&&(b=t.tC,u=t.ia,oa=t.Jx,za=t.xm,f=t.gq,b&&u?(ga.PQ=new m.cya(b,{ia:String(u),Jx:oa,dwb:ga.config.DT.mx,Jcb:ga.config.DT.lv,jca:ga.config.jca},za),ga.gq=f):za("SideChannel: pbcid/xid is missing."));ga.rh&&ga.PQ&&ga.rh.oGb(ga.PQ);ga.OC=na;ga.ve=new E(K);ga.Yi=J;ya=[[],[]];Da=[{},{}];la=[0,0];Fa=!1;db=ga.jb(0);B=ga.jb(1);["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=0===b;f&&!db||1===b&&!B||d[a].forEach(function(a,l){a=new r.Lpa({O:ga,aC:a,L:b,Cf:K.p_,Dr:D,tR:l,IA:l+(f?d.video_tracks.length:0)},ga.config,ga.console);ya[b].push(a);Da[b]=c.__assign(c.__assign({},Da[b]),a.QG());a.ap>la[a.L]&&(la[a.L]=a.ap);Fa=Fa||a.HZ;});});ga.DU=ya;ga.NHb=Da;ga.sq=la;ga.HZ=Fa;ga.A6a=ga.config&&ga.config.YX&&ga.config.hy&&!!ga.config.hy.length&&-1!==ga.config.hy.indexOf(String(ga.G));ga.k7a=ga.config&&ga.config.hy&&!!ga.config.hy.length&&-1!==ga.config.hy.indexOf(String(ga.G));return ga;}c.__extends(b,a);Object.defineProperties(b.prototype,{ig:{get:function(){return this.NAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uvb:{get:function(){return this.cBa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{G:{get:function(){return this.ya.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uu:{get:function(){return this.ya.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{duration:{get:function(){return this.ya.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yi:{get:function(){return this.el;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kla:{get:function(){return this.j9a;},enumerable:!1,configurable:!0}});b.prototype.ad=function(){this.close();this.mc();};b.prototype.close=function(){var a;this.gG=[];null===(a=this.rh)||void 0===a?void 0:a.ad();this.zl.ad();this.el=!0;};b.prototype.mc=function(){this.Se&&this.Se.mc();};b.prototype.Yu=function(){return void 0!==this.uu;};b.prototype.getTracks=function(a){return this.DU[a];};b.prototype.getTrackById=function(a){var b;this.DU.some(function(c){return c.some(function(c){if(c.$a===a)return b=c,!0;});});b||this.console.warn("getTrackById not found:",a,"length:",this.DU.length);return b;};b.prototype.zKa=function(a,b){var c;c=this.DU[a];if(0>b||b>=c.length)this.console.warn("getTrackByIndex out of range:",b,"length:",c.length,"mediaType:",a);else return c[b];};b.prototype.Yr=function(a,b){return(a=this.QG(a))&&a[b];};b.prototype.QG=function(a){return this.NHb[a];};b.prototype.eKb=function(a,b){this.NAa[a]=b;b.stream.Z&&this.uWa(a,b.stream.Z);};b.prototype.kHa=function(a){return void 0===a||1===a?this.A6a:!1;};b.prototype.WLa=function(a){return void 0===a||1===a?this.k7a:!1;};b.prototype.wtb=function(a){var b,c;if(void 0===a.v1||void 0===a.jla){b=this.zl.Nfa().filter(function(b){return void 0!==b.ec[a.ta];})[0];c=b.children.filter(function(b){return b.le.some(function(b){return b.stream.id===a.ta;});})[0];a.v1=b.id;a.jla=c.id;}return{Tha:a.location===a.v1,xtb:a.tc===a.jla};};b.prototype.y2=function(a,b,c){void 0!==b&&void 0!==c&&(this.pSa(a.L,b),a.y2(b,c));};b.prototype.pSa=function(a,b){var c,f;f=this.config.Qja;("location"===f||"video_location"===f&&1===a)&&this.yb.JQ(b);null===(c=this.LN)||void 0===c?void 0:c.call(this).Lyb(a,b);};b.prototype.Eg=function(a,b,c,f,l){g.assert(this.il,"Stream failure reporting can not be used on prefetch viewables.");return this.il(a,b,c,f,l);};b.prototype.vp=function(){var a,b,c;a=this;b=[];if(this.yi)return this.console.error("updateRequestUrls, closed Viewable:",this.na),!1;h.Me.forEach(function(c){a.jb(c)&&a.wKb(c)&&(c=a.jKb(c),0<c.length&&b.push.apply(b,c));});c=this.fKb();0<c.length&&b.push.apply(b,c);return this.XDb(b);};b.prototype.Lo=function(a,b){var c;c=this.getTracks(1)[0];g.assert(c);if(c.tO)return c.Lo(a,b);};b.prototype.wKb=function(a){var b,f,l,q,r;if(this.yi)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1;if(!this.jb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1;l=!0;try{for(var h=c.__values(this.mh),n=h.next();!n.done;n=h.next()){q=n.value.Qe(a);r=this.zl.dJ(this.na,q.track.Nc);r||q.eb("location selector failed to update streamList");l=l&&r;}}catch(da){b={error:da};}finally{try{n&&!n.done&&(f=h["return"])&&f.call(h);}finally{if(b)throw b.error;}}return l;};b.prototype.fKb=function(){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.vp();};b.prototype.jKb=function(a){var b,f,l,q;l=[];if(this.yi)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),l;if(!this.jb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),l;try{for(var h=c.__values(this.mh),n=h.next();!n.done;n=h.next()){q=n.value.vp(a);q.length&&l.push.apply(l,q);}}catch(ma){b={error:ma};}finally{try{n&&!n.done&&(f=h["return"])&&f.call(h);}finally{if(b)throw b.error;}}return l;};b.prototype.XDb=function(a){var b,c,f;b=this;if(0===a.length)return!0;c=0;f=[];a.forEach(function(a){var l;if(a.bc){l=a.O;l.Ya>b.Ya&&(f.push({O:l,track:a.stream.track}),++c);}});f.forEach(function(a){var b;b=a.track;a.O.qI([0===b.L?b:void 0,1===b.L?b:void 0],void 0,b.L);});return c===a.length;};b.prototype.Fk=function(){var a;a=this;this.zl.Fk();this.rh&&this.rh.Fk();this.PQ&&(g.assert(this.gq),h.Me.forEach(function(b){b=a.gq(b);a.PQ.Kma("rebuffer",b.mia);}));};b.prototype.uP=function(){this.rh&&this.rh.uP();};b.prototype.Foa=function(a,b){g.assert(this.Se,"Headers not available from prefetch viewables.");this.Se.Foa(a,b);};b.prototype.GZ=function(){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.GZ();};b.prototype.eca=function(){g.assert(this.Se,"Headers not available from prefetch viewables.");this.Se.eca();};b.prototype.FI=function(a){g.assert(this.Se,"Headers not available from prefetch viewables.");this.Se.FI(a);};b.prototype.uoa=function(){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.uoa();};b.prototype.cj=function(a,b){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.cj(a,b);};b.prototype.MFa=function(a,b,c){g.assert(this.Se,"Headers not available from prefetch viewables.");this.Se.i3(a,b,c,!0);};b.prototype.nW=function(a,b,c){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.nW(a,b,!!c);};b.prototype.TFb=function(a,b){this.gG.push({stream:a,Vpb:b});};b.prototype.bO=function(){var a;a=this;g.assert(this.mm,"Streamables not available on prefetch viewables.");return this.mm()?[]:this.gG.map(function(b){var c,f;c=b.stream;f=b.Vpb;f=f();return{dm:f.dm,Jr:f.Jr,sp:f.sp,Pf:f.Pf,zMa:function(){var f;f=c.oD();a.gG=f?a.gG.filter(function(a){return a.stream!==c;}):a.gG.filter(function(a){return a!==b;});return f;}};});};b.prototype.oD=function(a){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.oD(a);};b.prototype.xaa=function(a,b){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.xaa(a,b);};b.prototype.hma=function(a){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.hma(a);};b.prototype.qI=function(a,b,c){g.assert(this.Se,"Headers not available from prefetch viewables.");return this.Se.qI(a,b,c);};b.prototype.Kqb=function(a){var b,c,f,l;b=a.ta;c=a.L;this.uWa(c,a.stream.Z);b=this.Yr(c,b);f=this.Yu()?this.config.SNa:0;l=x.yk()[c];1===c&&0<this.config.ls&&(l=Math.min(l,this.config.ls));b.nWa(l,f);this.fy.emit("onHeaderFragments",a);};b.prototype.aSa=function(a){this.mh.push(a);};b.prototype.hWa=function(a){a=this.mh.indexOf(a);g.assert(-1!==a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.mh.splice(a,1);};b.prototype.X0=function(){var a;null===(a=this.OC)||void 0===a?void 0:a.xF();};b.prototype.Bv=function(a){this.yi?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0!==a.location&&this.pSa(a.L,a.location);};b.prototype.SH=function(a){g.assert(this.rh,"Requests cannot be handled on prefetch viewables.");this.yi?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.rh.m3({timestamp:a.cd,url:a.url});};b.prototype.hj=function(a){var b;null===(b=this.OC)||void 0===b?void 0:b.M1();g.assert(this.rh&&this.mm&&this.LH,"Requests cannot be handled on prefetch viewables.");this.yi?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):this.mm()||(this.rh.m3({timestamp:a.cd,mediaRequest:a}),this.LH(a));};b.prototype.AP=function(a,b,c){var f;c&&(null===(f=this.OC)||void 0===f?void 0:f.M1());};b.prototype.BP=function(a){var b;g.assert(this.rh&&this.il,"Requests cannot be handled on prefetch viewables.");if(this.yi)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else{b=a.th;this.config.Eqb&&b===f.hk.LD.K5&&0<a.De&&(b=f.hk.LD.m4);this.rh.jp({url:a.url},a.status,b,a.gj);this.vp()||this.Eg(a.AG||"unknown","NFErr_MC_StreamingFailure",a.th,a.status,a.gj);}};b.prototype.uWa=function(a,b){this.cBa[a]=b.bja;};b.prototype.Iqb=function(a){var b,c,f;g.assert(this.eH&&this.il,"Error handling not available on prefetch viewables.");if(!this.el){b=a.ftb;c=a.izb;f=a.jzb;a=a.kzb;this.console.warn("Streaming failure, isBuffering "+this.eH()+" is permanent: "+b+", last error code: "+c+", last http code: "+f+", last native code: "+a);b?(this.console.warn(" > Permanent failure, done"),this.Eg("Permanent failure","NFErr_MC_StreamingFailure",c,f,a)):this.eH()?(this.console.warn(" > We are buffering, calling it!"),this.Eg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,f,a)):(this.console.warn(" > Resetting failures"),this.rh.W1());}};b.prototype.Hqb=function(){g.assert(this.$r,"Error handling not available on prefetch viewables.");this.el||(this.vp(),this.$r());};return b;}(d.Rq);b.$R=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uwb=b.Me=void 0;b.Me=[0,1];b.uwb=function(a){return 0===a?"audio":1===a?"video":"unknown";};},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,g,I,E;Object.defineProperty(b,"__esModule",{value:!0});b.aA=void 0;c=a(0);k=a(66);m=a(12);r=a(75);q=a(6);n=a(60);l=a(17);f=a(366);h=a(15);x=a(718);g=a(13);I=a(2);(function(a){a[a.CT=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.bK=3]="LOAD_FAILED";}(E||(E={})));d=function(){function a(a,b,c,f,l,h,m,d,k,x,g,F,J,I,p,t){this.j=a;this.$a=b;this.OB=c;this.pd=f;this.Fu=l;this.Eda=h;this.nl=m;this.displayName=d;this.Qm=k;this.bQ=x;this.profile=g;this.uq=F;this.Wja=J;this.qmb=I;this.u_=p;this.iq=t;this.type=r.Kg.c3;this.Nq=void 0;this.Nn=!(!g||g!=n.Zk.cE&&g!=n.Zk.xT);this.Wg={bcp47:m,trackId:b,downloadableId:f,isImageBased:this.Nn};this.log=q.zg(a,"TimedTextTrack");this.state=E.CT;this.request=this.request.bind(this);}a.prototype.getEntries=function(){var a;a=this;if(this.j.state.value===g.ob.CLOSED||this.j.state.value===g.ob.CLOSING)return Promise.reject({da:!1});if(this.Nn)return this.psb();this.VGa||(this.VGa=this.UGa());return this.VGa.then(function(b){return a.uzb(b);});};a.prototype.Tc=function(){return this.state;};a.prototype.v_=function(){return this.Wja;};a.prototype.q_=function(){return this.qmb;};a.prototype.Zx=function(a,b){var c;c=[];try{this.Nn?c=this.hg&&this.hg.Zx(a,b)||[]:this.entries&&(c=this.entries.filter(function(c){var f;f=R([c.startTime,c.endTime]);c=f.next().value;f=f.next().value;return c>=a&&c<=b||c<=a&&a<=f;}));}catch(Q){this.log.error("error in getSubtitles",Q,{start:a,end:b,isImageBased:this.Nn});}return c;};a.prototype.Rpb=function(){var b;if(!h.$b(this.S))try{this.S=this.Nn?(b=this.Zx(0,a.Q1a)[0])&&b.displayTime:(b=this.entries&&this.entries[0])&&b.startTime;}catch(D){this.log.error("exception in getStartPts",D);}return this.S;};a.prototype.A2=function(a){return this.j.state.value===g.ob.CLOSING||this.j.state.value===g.ob.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.uc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};a.prototype.psb=function(){var a,b,c,f,l,n,r,d,k;a=this;if(!this.GLa){this.state=E.LOADING;b={Sbb:!1,profile:this.profile,l0:this.uq.offset,yja:this.uq.length,Vc:this.j.Za.value||0,bufferSize:m.config.Prb,JYb:{Wa:this.j.RY()}};c=q.zg(this.j,"TimedTextTrack");c.warn=c.trace.bind(c);c.info=c.debug.bind(c);f=x.TFa(this.j,c,this.request,this);l=(this.Eda||[]).filter(function(b){return b.id in a.Fu;}).sort(function(a,b){return a.Sf-b.Sf;}).map(function(a){return a.id;});n=0;r={};d=!0;k=function(c,x){var g;if(h.$b(c))if(d||a.A2(a.Wr(a.Wp,"","image"))){d=!1;a.uq.url=a.Fu[a.Wp];b.url=a.uq.url;r[c]=(r[c]||0)+1;g=new q.vya(f,b);g.on("ready",function(){a.hg=g;x({da:!0,track:a});});g.on("error",function(b){var f;b=Object.assign({da:!1},b);f=a.Wr(a.Wp,a.uq.url,"image");f.details={midxoffset:a.uq.offset,midxsize:a.uq.length};f.errorstring=b.errorString;r[c]<=m.config.sVa?(a.sY(f,!0,"retry with current cdn"),a.sba(r[c]).then(function(b){a.log.trace("retry timed text download after "+b,a.Wr(a.Wp,"","image"));k(a.Wp,x);})):(a.Wp=l[n++],a.Wp?(a.sY(f,!0,"retry with next cdn"),a.sba(r[c]).then(function(b){a.log.trace("retry timed text download after "+b,a.Wr(a.Wp,"","image"));k(a.Wp,x);})):(a.sY(f,!1,"all cdns tried"),x({da:!1,jxb:"all cdns failed for image subs",track:a})));});g.start();}else x({da:!1,xr:!0});else x({da:!1,jxb:"cdnId is not defined for image subs downloadUrl"}),a.sY(a.Wr(0,"","image"),!1,"cdnId is undefined");};this.Wp=l[n++];this.GLa=new Promise(function(b,c){k(a.Wp,function(f){f.da?(a.log.info("Loaded image subtitle manager"),a.state=E.LOADED,b(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=E.bK,c(f));});});}return this.GLa;};a.prototype.sY=function(a,b,c){a=Object.assign({},a,{IZb:b,status:c});this.j.fireEvent(g.V.SI,a);this.log.warn("subtitleerror event",a);};a.prototype.request=function(a,b){var c;c=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,Nq:this.Nq,responseType:k.kO,headers:{},ic:this.sfa(this.Wp)};this.j.TZ.download(a,function(a){c.log.trace("imgsub: request status "+a.da);a.da?b(null,new Uint8Array(a.content)):b({ga:a.ga,se:a.se});});};a.prototype.Wr=function(a,b,c){return{currentCdnId:a,url:b,profile:this.profile,dlid:this.pd,subtitletype:c,bcp47:this.nl,trackId:this.$a,cdnCount:Object.keys(this.Fu).length,isImageBased:this.Nn};};a.prototype.sfa=function(a){return(this.Eda||[]).find(function(b){return b.id===a;});};a.prototype.UGa=function(){var l,h;function a(a){return c.__awaiter(l,void 0,void 0,function(){var l,n,q,r,m;function c(){for(;;)switch(l){case 0:q=f();n=r.Wr(a.ic.id,a.url,"text");n.errorstring=a.reason;if(!q||!r.A2(n)){l=1;break;}l=-1;return{value:r.sba(h[q.id]).then(b),done:!0};case 1:return l=-1,{value:Promise.reject({da:!1,xr:!0}),done:!0};default:return{value:void 0,done:!0};}}l=0;r=this;m={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};t();m[Symbol.iterator]=function(){return this;};return m;});}function b(){return c.__awaiter(l,void 0,void 0,function(){var c,l,n,q,r;function b(){for(;;)switch(c){case 0:l=(n=f())&&q.Fu[n.id];if(!n||!l){c=1;break;}h[n.id]=(h[n.id]||0)+1;c=-1;return{value:q.zjb(l,n)["catch"](a),done:!0};case 1:return c=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}c=0;q=this;r={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};t();r[Symbol.iterator]=function(){return this;};return r;});}function f(){return(l.Eda||[]).find(function(a){return!!((h[a.id]||0)<m.config.sVa&&l.Fu[a.id]);});}l=this;this.state=E.LOADING;h={};return b();};a.prototype.sba=function(a){return new Promise(function(b){var c;c=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(c);},c);});};a.prototype.uzb=function(a){var b,c;b=this;c=this.j.iJ;l.lb(c);return f.nQa(a,c.width/c.height,m.config.tVa,m.config.coa).then(function(a){var c;if(m.config.uVa){c=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:c,endTime:c+=m.config.uVa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Wg);b.state=E.LOADED;return{da:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",I.Dp(a),b.Wg,{url:a.url});b.state=E.bK;a.reason="parseerror";a.track=b;throw a;});};a.prototype.zjb=function(a,b){var c;c=this;this.log.trace("Downloading",b&&{ic:b.id},this.Wr(b.id,a,"text"));return new Promise(function(f,l){var h;h={responseType:k.Yga,url:a,track:c,ic:b,kB:"tt-"+c.nl};c.j.TZ.download(h,function(a){a.da?f(a.content):(a.reason="downloadfailed",a.url=h.url,a.track=c,a.ic=b,l(a));});});};a.Q1a=72E7;a.w8=E;return a;}();b.aA=d;},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oU=void 0;k=a(10);c.dga=function(){var a;a=k.cr&&k.cr.height;return a?1080<=a?1080:720:720;};b.oU=c;},function(d){d.P=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,d){return a.apply(this,arguments);};case 3:return function(b,d,m){return a.apply(this,arguments);};case 4:return function(b,d,m,r){return a.apply(this,arguments);};case 5:return function(b,d,m,r,q){return a.apply(this,arguments);};case 6:return function(b,d,m,r,q,n){return a.apply(this,arguments);};case 7:return function(b,d,m,r,q,n,l){return a.apply(this,arguments);};case 8:return function(b,d,m,r,q,n,l,f){return a.apply(this,arguments);};case 9:return function(b,d,m,r,q,n,l,f,h){return a.apply(this,arguments);};case 10:return function(b,d,m,r,q,n,l,f,h,x){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(d,b,a){var m,r,q,n;function c(a,b,c){for(var f=c.next();!f.done;){if((b=a["@@transducer/step"](b,f.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f=c.next();}return a["@@transducer/result"](b);}function k(a,b,c,n){return a["@@transducer/result"](c[n](q(a["@@transducer/step"],a),b));}m=a(968);r=a(966);q=a(965);g();g();t();n="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";d.P=function(a,b,h){"function"===typeof a&&(a=r(a));if(m(h)){for(var f=0,l=h.length;f<l;){if((b=a["@@transducer/step"](b,h[f]))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f+=1;}return a["@@transducer/result"](b);}if("function"===typeof h["fantasy-land/reduce"])return k(a,b,h,"fantasy-land/reduce");if(null!=h[n])return c(a,b,h[n]());if("function"===typeof h.next)return c(a,b,h);if("function"===typeof h.reduce)return k(a,b,h,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(d){d.P=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EK=void 0;b.EK="TransportConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dS=void 0;b.dS="BookmarkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j5=b.pw=void 0;d=b.pw||(b.pw={});d.$4a="unknown";d.lpa="absent";d.exa="present";d.Error="error";b.j5="ExternalDisplayLogHelperSymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Aw=void 0;c=a(31);d=a(96);k=a(139);m=new d.Iw();b.Aw=function(){function a(){this.type=c.kw.Mz;}a.Hca=function(){return{isTypeSupported:function(b){var c;try{if(-1==b.toLowerCase().indexOf("codec"))return M.MSMediaKeys.isTypeSupported(b,"video/mp4");c=b.split("|");return 1===c.length?M.MSMediaKeys.isTypeSupported(k.qb.fr,b):"probably"===a.Lna(c[0],c[1]);}catch(l){return!1;}}};};a.jX=function(b,c,l){c=m.format(a.bJ,c);if(0===l.length)return c;l=m.format('features="{0}"',l.join());return m.format("{0}|{1}{2}",b,c,l);};a.Lna=function(a,b){var c;try{c=M.MSMediaKeys.isTypeSupportedWithFeatures?M.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(f){c="exception";}return c;};a.bJ='video/mp4;codecs="{0},mp4a";';return a;}();},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.qS=b.p4=void 0;c=a(60);k=a(132);m=a(31);d=a(96);r=a(133);q=a(451);n=new d.Iw().format;a=function(){function a(b,c,l,q){var f;f=k.Ml.call(this,b,c,l)||this;f.cast=q;f.type=m.kk.o4;b=a.R4a;f.PR[m.xd.tU]=r.Ed.OJ+"; "+b;f.PR[m.xd.et]=r.Ed.et+"; "+b;b=r.Ed.nZa.find(function(b){return f.qu(n(a.bJ,b));});f.PR[m.xd.ct]=b;return f;}ba(a,k.Ml);a.Hca=function(b,c){return(c=a.GSa(c))?{isTypeSupported:c}:b;};a.GSa=function(a){if("undefined"!==typeof a)return a.framework&&a.framework.platform&&a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType||void 0;};a.prototype.Ls=function(b){var c,f;c=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().FWa){f={};if(c)return f[m.Zh.Yq]="1.4",f[m.Zh.Fz]="2.2",c().then(function(a){return a===f[b];});c=this.FNa(b);c=n(a.bJ,r.Ed.OJ)+" hdcp="+c;c=this.qu.bind(this,c);return Promise.resolve(c());}return Promise.resolve(!1);};a.prototype.FG=function(a){return this.PR[a];};a.prototype.NG=function(){var a;a=this;return this.config().FWa?this.Ls(m.Zh.Fz).then(function(b){return b?Promise.resolve(m.Zh.Fz):a.Ls(m.Zh.Yq).then(function(a){return a?Promise.resolve(m.Zh.Yq):Promise.resolve(void 0);});}).then(function(b){return a.ZM(b);}):Promise.resolve(void 0);};a.prototype.eB=function(){var b,l;b=k.Ml.prototype.eB.call(this);l=a.$Ka;b[c.X.s5]=["avc1.4D4028","width=1920; height=1080; "];b[c.X.t5]=["hev1.2.6.L90.B0",l];b[c.X.u5]=["hev1.2.6.L93.B0",l];b[c.X.v5]=["hev1.2.6.L120.B0",l];b[c.X.w5]=["hev1.2.6.L123.B0",l];b[c.X.x5]=["hev1.2.6.L150.B0","width=3840; height=2160; "+l];b[c.X.y5]=["hev1.2.6.L153.B0","width=3840; height=2160; "+l];b[c.X.QJ]=["hev1.2.6.L90.B0",l];b[c.X.RJ]=["hev1.2.6.L93.B0",l];b[c.X.QD]=["hev1.2.6.L120.B0",l];b[c.X.SJ]=["hev1.2.6.L123.B0",l];b[c.X.OS]=["hev1.2.6.L150.B0","width=3840; height=2160; "+l];b[c.X.PS]=["hev1.2.6.L153.B0","width=3840; height=2160; "+l];b[c.X.E5]="hev1.1.6.L90.B0";b[c.X.F5]="hev1.1.6.L93.B0";b[c.X.G5]="hev1.1.6.L120.B0";b[c.X.H5]="hev1.1.6.L123.B0";b[c.X.I5]=["hev1.1.6.L150.B0","width=3840; height=2160; "];b[c.X.J5]=["hev1.1.6.L153.B0","width=3840; height=2160; "];b[c.X.A5]="hev1.2.6.L90.B0";b[c.X.B5]="hev1.2.6.L93.B0";b[c.X.C5]="hev1.2.6.L120.B0";b[c.X.D5]="hev1.2.6.L123.B0";b[c.X.RD]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.X.SD]=["hev1.2.6.L153.B0","width=3840; height=2160; "];b[c.X.US]="hev1.2.6.L90.B0";b[c.X.WS]="hev1.2.6.L93.B0";b[c.X.YS]="hev1.2.6.L120.B0";b[c.X.$S]="hev1.2.6.L123.B0";b[c.X.aT]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.X.bT]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return b;};a.prototype.bJa=function(){return[q.hh.TR,q.hh.NJ,q.hh.PD];};a.prototype.uha=function(){k.Ml.prototype.uha.call(this);!a.GSa(this.cast)&&this.Hl.push(q.hh.et);};a.$Ka="eotf=smpte2084";a.fWb="video/mp4;codecs={0}; "+a.$Ka;a.R4a="width=3840; height=2160; ";return a;}();b.p4=a;b.qS="CastSDKSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q7=b.b6=void 0;b.b6="IsTypeSupportedProviderFactorySymbol";b.Q7="PlatformIsTypeSupportedSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qU=b.R8=void 0;b.R8="ThroughputTrackerSymbol";b.qU="ThroughputTrackerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.OT=void 0;b.OT="PboPlaydataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jU=void 0;b.jU="SegmentManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rT=void 0;b.rT="MomentObserverFactory";},function(d,b,a){var k,m,r;function c(a,b,c,f){this.sa=a;this.nu=b;this.Kl=c;this.em=void 0===f?"General":f;this.mca={};}Object.defineProperty(b,"__esModule",{value:!0});b.XD=void 0;k=a(7);m=a(464);r=a(1030);c.prototype.Daa=function(a,b){this.mca[a]=b;};c.prototype.fatal=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.nx(k.$h.Y_a,a,r.VA(this.nu,this.GG(c)));};c.prototype.error=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.nx(k.$h.ERROR,a,r.VA(this.nu,this.GG(c)));};c.prototype.warn=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.nx(k.$h.k9,a,r.VA(this.nu,this.GG(c)));};c.prototype.info=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.nx(k.$h.T5,a,r.VA(this.nu,this.GG(c)));};c.prototype.trace=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.nx(k.$h.Eya,a,r.VA(this.nu,this.GG(c)));};c.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};c.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};c.prototype.write=function(a,b,c){for(var f=[],l=2;l<arguments.length;++l)f[l-2]=arguments[l];this.nx(a,b,r.VA(this.nu,this.GG(f)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return{category:this.em};};c.prototype.Mca=function(a){return new c(this.sa,this.nu,this.Kl,a);};c.prototype.nx=function(a,b,c){a=new m.q6(a,this.em,this.sa.Zb(),b,c);b=R(this.Kl.Kl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.prototype.GG=function(a){return 0<Object.keys(this.mca).length?[].concat([this.mca],ea(a)):a;};b.XD=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g5=b.Nw=void 0;b.Nw="_ANY_";b.g5="EnricherSymbol";},function(d){var l,f,h,x,g,I;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(l===setTimeout)return setTimeout(a,0);if((l===b||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0);}catch(J){try{return l.call(null,a,0);}catch(K){return l.call(this,a,0);}}}function k(b){if(f===clearTimeout)clearTimeout(b);else if(f!==a&&f||!clearTimeout)try{f(b);}catch(J){try{f.call(null,b);}catch(K){f.call(this,b);}}else f=clearTimeout,clearTimeout(b);}function m(){x&&g&&(x=!1,g.length?h=g.concat(h):I=-1,h.length&&r());}function r(){var a;if(!x){a=c(m);x=!0;for(var b=h.length;b;){g=h;for(h=[];++I<b;)g&&g[I].Py();I=-1;b=h.length;}g=null;x=!1;k(a);}}function q(a,b){this.Imb=a;this.un=b;}function n(){}d=d.P={};try{l="function"===typeof setTimeout?setTimeout:b;}catch(E){l=b;}try{f="function"===typeof clearTimeout?clearTimeout:a;}catch(E){f=a;}h=[];x=!1;I=-1;d.XOa=function(a){var b;b=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)b[f-1]=arguments[f];h.push(new q(a,b));1!==h.length||x||c(r);};q.prototype.Py=function(){this.Imb.apply(null,this.un);};d.title="browser";d.$Tb=!0;d.Ukb={};d.JTb=[];d.version="";d.zZb={};d.on=n;d.addListener=n;d.once=n;d.PH=n;d.removeListener=n;d.removeAllListeners=n;d.emit=n;d.eRa=n;d.pBb=n;d.listeners=function(){return[];};d.VTb=function(){throw Error("process.binding is not supported");};d.GUb=function(){return"/";};d.tUb=function(){throw Error("process.chdir is not supported");};d.pZb=function(){return 0;};},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.bS=void 0;c=a(0);k=a(1);m={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};d=function(){var b;function a(){}a.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.CVa(a.substr(2*c,2));return b;};a.prototype.encode=function(a){for(var b="",c=a.length,h=0;h<c;h++)var n=a[h],b=b+("0123456789ABCDEF"[n>>>4]+"0123456789ABCDEF"[n&15]);return b;};a.prototype.IN=function(a,b){var c;c="";for(b<<=1;b--;)c=("0123456789ABCDEF"[a&15]||"0")+c,a>>>=4;return c;};a.prototype.CVa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var c=0,h=0;h<b;h++)c=16*c+m[a[h]];return c;};b=a;return b=c.__decorate([k.N()],b);}();b.bS=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,g;Object.defineProperty(b,"__esModule",{value:!0});b.qt=void 0;c=a(0);k=a(1);m=a(54);r=a(2);q=a(30);n=a(23);l=a(88);f=a(25);h=a(44);x=a(53);g=a(97);d=function(){var b,d;function a(a,b,c,f,l,h){this.nP=a;this.is=b;this.xc=c;this.kd=f;this.Fe=l;this.Hg=h;m.sm(this,"nav");}a.prototype.Yx=function(){if(this.ab)return this.ab.sessionId;};a.prototype.PDb=function(a,b){return this.nP.requestMediaKeySystemAccess(a,b);};a.prototype.rhb=function(a){return a.createMediaKeys();};a.prototype.Bn=function(a,b){this.ab=a.createSession(b);};a.prototype.ptb=function(){return!!this.ab;};a.prototype.nGb=function(a,b){return this.is.jW(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};a.prototype.gfa=function(a,b){return this.ab?this.ab.generateRequest(a,b[0]):Promise.reject(new l.Lf(r.K.Nra,r.J.LJ,void 0,"Unable to generate a license request, key session is not valid"));};a.prototype.update=function(a){return this.ab?this.ab.update(a[0]):Promise.reject(new l.Lf(r.K.DS,r.J.LJ,void 0,"Unable to update the EME with a response, key session is not valid"));};a.prototype.load=function(a){return this.ab?this.ab.load(a):Promise.reject(new l.Lf(r.K.M_a,r.J.LJ,void 0,"Unable to load a key session, key session is not valid"));};a.prototype.close=function(){var a;if(!this.ab)return Promise.reject(new l.Lf(r.K.F_a,r.J.LJ,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Yx()&&(a=this.ab.close());this.ab=void 0;return a;};a.prototype.remove=function(){return this.ab?this.ab.remove():Promise.reject(new l.Lf(r.K.Rra,r.J.LJ,void 0,"Unable to remove a key session, key session is not valid"));};a.prototype.jQ=function(){return Promise.reject(new l.Lf(r.K.CS,void 0,"Unable to renew a key session, not supported"));};a.prototype.bab=function(a){if(!this.ab)throw ReferenceError("Unable to add message handler, key session is not valid");this.ab.addEventListener(b.Wra,a);};a.prototype.W$a=function(a){if(!this.ab)throw ReferenceError("Unable to add key status handler, key session is not valid");this.ab.addEventListener(b.Vra,a);};a.prototype.Q$a=function(a){if(!this.ab)throw ReferenceError("Unable to add error handler, key session is not valid");this.ab.addEventListener(b.Ura,a);};a.prototype.uDb=function(a){if(!this.ab)throw ReferenceError("Unable to remove message handler, key session is not valid");this.ab.removeEventListener(b.Wra,a);};a.prototype.rDb=function(a){if(!this.ab)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.ab.removeEventListener(b.Vra,a);};a.prototype.pDb=function(a){if(!this.ab)throw ReferenceError("Unable to remove error handler, key session is not valid");this.ab.removeEventListener(b.Ura,a);};d=b=a;d.Wra="message";d.Vra="keystatuseschange";d.Ura="error";return d=b=c.__decorate([k.N(),c.__param(0,k.l(q.Nz)),c.__param(1,k.l(n.Le)),c.__param(2,k.l(h.qj)),c.__param(3,k.l(f.uf)),c.__param(4,k.l(x.Nl)),c.__param(5,k.l(g.Lw))],d);}();b.qt=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hra=b.zw=b.Zq=void 0;b.Zq='video/mp4; codecs="avc1.640028"';b.zw='audio/mp4; codecs="mp4a.40.5"';b.Hra="DrmTraitsSymbol";},function(d,b,a){var c,k,m,r;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(20);k=a(490);m=a(178);r=a(263);a=function(a){function b(b,c){a.call(this);this.un=b;(this.xa=c)||1!==b.length||(this.Lt=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){return new b(a,c);};b.of=function(){var h;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=a[a.length-1];r.y_(c)?a.pop():c=null;h=a.length;return 1<h?new b(a,c):1===h?new k.Sxa(a[0],c):new m.ES(c);};b.pc=function(a){var b,c,l;b=a.un;c=a.index;l=a.nj;c>=a.count?l.complete():(l.next(b[c]),l.closed||(a.index=c+1,this.Lc(a)));};b.prototype.Xl=function(a){var c,l,n;c=this.un;l=c.length;n=this.xa;if(n)return n.Lc(b.pc,0,{un:c,index:0,count:l,nj:a});for(n=0;n<l&&!a.closed;n++)a.next(c[n]);a.complete();};return b;}(d.nb);b.Q3=a;},function(d,b){b.y_=function(a){return a&&"function"===typeof a.Lc;};},function(d,b,a){function c(a){var b,q;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){q=b[c];if("entries"!==q&&"size"!==q&&a.prototype[q]===a.prototype.entries)return q;}return"@@iterator";}d=a(85);b.aZb=c;b.iterator=c(d.root);b.aMb=b.iterator;},function(d,b,a){function c(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}d=a(85);b.ZVb=c;b.observable=c(d.root);b.bMb=b.observable;},function(d,b,a){d=a(85).root.Symbol;b.QC="function"===typeof d&&"function"===typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber";b.cMb=b.QC;},function(d,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pS=void 0;b.pS="CachedDrmDataSymbol";},function(d,b,a){var k,m;function c(a){a?(this.active=!1,this.dfa(a)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.Dra=b.AS=void 0;k=a(0);m=a(1);c.prototype.dfa=function(a){this.qc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,my:a.licenseContextId,nH:a.licenseId};}):[];this.ia=a.xid;this.G=a.movieId;};c.prototype.Rs=function(){return JSON.parse(JSON.stringify({keySessionData:this.qc?this.qc.map(function(a){return{id:a.id,licenseContextId:a.my,licenseId:a.nH};}):[],xid:this.ia,movieId:this.G}));};b.AS=c;d=function(){var b;function a(){}a.prototype.create=function(){return new c();};a.prototype.load=function(a){return new c(a);};b=a;return b=k.__decorate([m.N()],b);}();b.Dra=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,g;Object.defineProperty(b,"__esModule",{value:!0});b.oG=b.eme=void 0;d=a(1);c=a(119);k=a(508);m=a(269);r=a(268);q=a(1145);n=a(1144);l=a(99);f=a(137);h=a(1143);x=a(183);g=a(1142);b.eme=new d.Ec(function(a){a(k.S4).to(m.Dra).Y();a(r.pS).to(q.xqa).Y();a(c.KJ).rR(n.sRa);a(l.kt).cw(function(a){b.oG.parent=a.fb;return b.oG.get(l.kt);});a(f.aE).rf(function(){return function(){return new h.Tua();};});a(x.BJ).to(g.zqa).Y;});b.oG=new d.tS({YC:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.QT=void 0;b.QT="PlatformEmeSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(273);a(513);d=function(){function a(a){this.Nb=a;}a.prototype.when=function(a){this.Nb.bB=a;return new c.cS(this.Nb);};a.prototype.QR=function(){this.Nb.bB=function(a){return null!==a.target&&!a.target.Fha()&&!a.target.Oha();};return new c.cS(this.Nb);};return a;}();b.e4=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(272);d=function(){function a(a){this.Nb=a;}a.prototype.us=function(a){this.Nb.us=a;return new c.e4(this.Nb);};return a;}();b.cS=d;},function(d,b,a){var m,r,q,n,l,f,h,x,F;function c(a){var b;b=[];h(a,x,function(a,c,f,l){b[b.length]=f?h(l,F,"$1"):c||a;});return b;}function k(){throw new m();}m=TypeError;r=Object.getOwnPropertyDescriptor;if(r)try{r({},"");}catch(I){r=null;}b=r?function(){try{return arguments.callee,k;}catch(I){try{return r(arguments,"callee").get;}catch(E){return k;}}}():k;q=a(1178)();n=Object.getPrototypeOf||function(a){return a.__proto__;};l="undefined"===typeof Uint8Array?void 0:n(Uint8Array);g();t();g();g();g();t();g();t();g();t();g();t();g();g();f={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":q?n([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%JSONParse%":"object"===typeof JSON?JSON.parse:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&q?n(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&q?n(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":q?n(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":q?Symbol:void 0,"%SymbolPrototype%":q?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":b,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":m,"%TypeErrorPrototype%":m.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};h=a(275).call(Function.call,String.prototype.replace);x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;F=/\\(\\)?/g;d.P=function(a,b){var l,h,q;if("string"!==typeof a||0===a.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!==typeof b)throw new TypeError('"allowMissing" argument must be a boolean');l=c(a);h="%"+(0<l.length?l[0]:"")+"%";if(!(h in f))throw new SyntaxError("intrinsic "+h+" does not exist!");if("undefined"===typeof f[h]&&!b)throw new m("intrinsic "+h+" exists, but is not available. Please file an issue!");h=f[h];for(var n=1;n<l.length;n+=1)if(null!=h)if(r&&n+1>=l.length){q=r(h,l[n]);if(!(b||l[n]in h))throw new m("base intrinsic for "+a+" exists, but the property is not available.");h=q?q.get||q.value:h[l[n]];}else h=h[l[n]];return h;};},function(d,b,a){b=a(1181);d.P=Function.prototype.bind||b;},function(d,b,a){var r;function c(a,b,c,f,h,r,m){this.GR=f;this.tXa=a;this.$Oa=b;this.Gja=c;this.Btb=r;this.Qy=m;this.split=h;}function k(){this.H={};this.H["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new c("7","8","7","10","1.5",0,0);this.H["7"]=new c("15","16","15","9","4.5",0,0);this.H["15"]=new c("31","32","31","2","5.5",0,0);this.H["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new c("123","124","123","0","0",1,.207298);this.H["124"]=new c("123","124","123","0","0",1,.49076);this.H["64"]=new c("125","126","125","4","40.5",0,0);this.H["125"]=new c("125","126","125","0","0",1,-.00157835);this.H["126"]=new c("125","126","125","0","0",1,.934205);this.H["32"]=new c("65","66","65","135","5.5",0,0);this.H["65"]=new c("127","128","128","4","1272.5",0,0);this.H["127"]=new c("127","128","128","0","0",1,-.510333);this.H["128"]=new c("127","128","128","0","0",1,.18363);this.H["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new c("129","130","129","0","0",1,-.0464542);this.H["130"]=new c("129","130","129","0","0",1,.458833);this.H["16"]=new c("33","34","34","10","2.00001",0,0);this.H["33"]=new c("67","68","67","0","29.5",0,0);this.H["67"]=new c("131","132","131","2","39.5",0,0);this.H["131"]=new c("131","132","131","0","0",1,-.37577);this.H["132"]=new c("131","132","131","0","0",1,.512087);this.H["68"]=new c("133","134","134","140","1.5",0,0);this.H["133"]=new c("133","134","134","0","0",1,.321272);this.H["134"]=new c("133","134","134","0","0",1,-.675396);this.H["34"]=new c("69","70","70","2","24.5",0,0);this.H["69"]=new c("135","136","136","9","28.5",0,0);this.H["135"]=new c("135","136","136","0","0",1,-.0573845);this.H["136"]=new c("135","136","136","0","0",1,-.507455);this.H["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new c("137","138","137","0","0",1,-.503909);this.H["138"]=new c("137","138","137","0","0",1,.450886);this.H["8"]=new c("17","18","17","4","44189.5",0,0);this.H["17"]=new c("35","36","35","2","21.5",0,0);this.H["35"]=new c("71","72","72","0","19.5",0,0);this.H["71"]=new c("139","140","140","9","2.5",0,0);this.H["139"]=new c("139","140","140","0","0",1,.00403497);this.H["140"]=new c("139","140","140","0","0",1,-.312656);this.H["72"]=new c("141","142","141","135","96",0,0);this.H["141"]=new c("141","142","141","0","0",1,-.465786);this.H["142"]=new c("141","142","141","0","0",1,.159633);this.H["36"]=new c("73","74","73","130","89.5",0,0);this.H["73"]=new c("143","144","144","10","4.5",0,0);this.H["143"]=new c("143","144","144","0","0",1,-.76265);this.H["144"]=new c("143","144","144","0","0",1,-.580804);this.H["74"]=new c("145","146","146","10","16.5",0,0);this.H["145"]=new c("145","146","146","0","0",1,.296357);this.H["146"]=new c("145","146","146","0","0",1,-.691659);this.H["18"]=new c("37","38","38","9","1.5",0,0);this.H["37"]=new c("37","38","38","0","0",1,.993951);this.H["38"]=new c("75","76","75","0","19",0,0);this.H["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new c("147","148","147","0","0",1,-.346535);this.H["148"]=new c("147","148","147","0","0",1,-.995745);this.H["76"]=new c("147","148","147","0","0",1,-.99978);this.H["4"]=new c("9","10","9","5","4.5",0,0);this.H["9"]=new c("19","20","19","2","4.5",0,0);this.H["19"]=new c("39","40","39","140","7.5",0,0);this.H["39"]=new c("77","78","78","134","6.5",0,0);this.H["77"]=new c("149","150","150","7","11.5",0,0);this.H["149"]=new c("149","150","150","0","0",1,.729843);this.H["150"]=new c("149","150","150","0","0",1,.383857);this.H["78"]=new c("151","152","151","133","4.5",0,0);this.H["151"]=new c("151","152","151","0","0",1,.39017);this.H["152"]=new c("151","152","151","0","0",1,.0434342);this.H["40"]=new c("79","80","79","133","3.5",0,0);this.H["79"]=new c("153","154","154","8","4.5",0,0);this.H["153"]=new c("153","154","154","0","0",1,-.99536);this.H["154"]=new c("153","154","154","0","0",1,-.00943396);this.H["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new c("155","156","155","0","0",1,.266272);this.H["156"]=new c("155","156","155","0","0",1,.959904);this.H["20"]=new c("41","42","42","10","65.5",0,0);this.H["41"]=new c("81","82","82","7","10.5",0,0);this.H["81"]=new c("157","158","158","2","37.5",0,0);this.H["157"]=new c("157","158","158","0","0",1,-.701873);this.H["158"]=new c("157","158","158","0","0",1,.224649);this.H["82"]=new c("159","160","159","133","9.5",0,0);this.H["159"]=new c("159","160","159","0","0",1,.0955181);this.H["160"]=new c("159","160","159","0","0",1,-.58962);this.H["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new c("161","162","161","135","31",0,0);this.H["161"]=new c("161","162","161","0","0",1,-.229692);this.H["162"]=new c("161","162","161","0","0",1,.88595);this.H["84"]=new c("163","164","164","1","13.5",0,0);this.H["163"]=new c("163","164","164","0","0",1,-.992157);this.H["164"]=new c("163","164","164","0","0",1,.922159);this.H["10"]=new c("21","22","22","4","486",0,0);this.H["21"]=new c("43","44","44","133","4.5",0,0);this.H["43"]=new c("85","86","86","10","4.5",0,0);this.H["85"]=new c("165","166","166","4","158.5",0,0);this.H["165"]=new c("165","166","166","0","0",1,-.127778);this.H["166"]=new c("165","166","166","0","0",1,.955189);this.H["86"]=new c("165","166","166","0","0",1,-.994012);this.H["44"]=new c("87","88","88","1","3.5",0,0);this.H["87"]=new c("167","168","168","135","7",0,0);this.H["167"]=new c("167","168","168","0","0",1,-.997015);this.H["168"]=new c("167","168","168","0","0",1,.400821);this.H["88"]=new c("169","170","169","130","36",0,0);this.H["169"]=new c("169","170","169","0","0",1,-.898638);this.H["170"]=new c("169","170","169","0","0",1,.56129);this.H["22"]=new c("45","46","45","9","2.5",0,0);this.H["45"]=new c("89","90","90","9","1.5",0,0);this.H["89"]=new c("171","172","171","10","10.5",0,0);this.H["171"]=new c("171","172","171","0","0",1,.573986);this.H["172"]=new c("171","172","171","0","0",1,-.627266);this.H["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new c("173","174","173","0","0",1,.925273);this.H["174"]=new c("173","174","173","0","0",1,-.994805);this.H["46"]=new c("91","92","91","136","5.5",0,0);this.H["91"]=new c("175","176","175","10","10.5",0,0);this.H["175"]=new c("175","176","175","0","0",1,.548352);this.H["176"]=new c("175","176","175","0","0",1,-.879195);this.H["92"]=new c("177","178","178","8","14.5",0,0);this.H["177"]=new c("177","178","178","0","0",1,.457305);this.H["178"]=new c("177","178","178","0","0",1,-.998992);this.H["2"]=new c("5","6","5","10","2.5",0,0);this.H["5"]=new c("11","12","11","9","4.5",0,0);this.H["11"]=new c("23","24","24","10","4.00001",0,0);this.H["23"]=new c("47","48","48","133","5.5",0,0);this.H["47"]=new c("93","94","93","3","13.5",0,0);this.H["93"]=new c("179","180","179","138","15.5",0,0);this.H["179"]=new c("179","180","179","0","0",1,.658398);this.H["180"]=new c("179","180","179","0","0",1,-.927007);this.H["94"]=new c("181","182","182","3","15.5",0,0);this.H["181"]=new c("181","182","182","0","0",1,-.111351);this.H["182"]=new c("181","182","182","0","0",1,-.99827);this.H["48"]=new c("95","96","95","7","167",0,0);this.H["95"]=new c("183","184","183","132","36.5",0,0);this.H["183"]=new c("183","184","183","0","0",1,.895161);this.H["184"]=new c("183","184","183","0","0",1,-.765217);this.H["96"]=new c("185","186","186","137","6.00001",0,0);this.H["185"]=new c("185","186","186","0","0",1,-.851095);this.H["186"]=new c("185","186","186","0","0",1,.674286);this.H["24"]=new c("49","50","49","137","5.5",0,0);this.H["49"]=new c("97","98","97","5","23.5",0,0);this.H["97"]=new c("187","188","187","3","28.5",0,0);this.H["187"]=new c("187","188","187","0","0",1,.951654);this.H["188"]=new c("187","188","187","0","0",1,-.993808);this.H["98"]=new c("187","188","187","0","0",1,-.99705);this.H["50"]=new c("187","188","187","0","0",1,-.997525);this.H["12"]=new c("25","26","25","8","8.5",0,0);this.H["25"]=new c("51","52","52","10","4.00001",0,0);this.H["51"]=new c("99","100","100","133","5.5",0,0);this.H["99"]=new c("189","190","190","7","40.5",0,0);this.H["189"]=new c("189","190","190","0","0",1,.151839);this.H["190"]=new c("189","190","190","0","0",1,-.855517);this.H["100"]=new c("191","192","192","133","14.5",0,0);this.H["191"]=new c("191","192","192","0","0",1,.86223);this.H["192"]=new c("191","192","192","0","0",1,.544394);this.H["52"]=new c("101","102","101","135","47.5",0,0);this.H["101"]=new c("193","194","194","4","24.5",0,0);this.H["193"]=new c("193","194","194","0","0",1,.946185);this.H["194"]=new c("193","194","194","0","0",1,.811859);this.H["102"]=new c("193","194","194","0","0",1,-.991561);this.H["26"]=new c("53","54","54","132","6.5",0,0);this.H["53"]=new c("103","104","103","131","85",0,0);this.H["103"]=new c("195","196","196","134","16.5",0,0);this.H["195"]=new c("195","196","196","0","0",1,.0473538);this.H["196"]=new c("195","196","196","0","0",1,-.999401);this.H["104"]=new c("197","198","198","8","15.5",0,0);this.H["197"]=new c("197","198","198","0","0",1,.816129);this.H["198"]=new c("197","198","198","0","0",1,-.99322);this.H["54"]=new c("105","106","105","133","3.5",0,0);this.H["105"]=new c("105","106","105","0","0",1,-.998783);this.H["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new c("199","200","199","0","0",1,.528588);this.H["200"]=new c("199","200","199","0","0",1,-.998599);this.H["6"]=new c("13","14","14","10","7.5",0,0);this.H["13"]=new c("27","28","28","133","7.5",0,0);this.H["27"]=new c("55","56","56","10","4.5",0,0);this.H["55"]=new c("107","108","107","3","3.5",0,0);this.H["107"]=new c("201","202","201","4","17.5",0,0);this.H["201"]=new c("201","202","201","0","0",1,-.379512);this.H["202"]=new c("201","202","201","0","0",1,.15165);this.H["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new c("203","204","203","0","0",1,-.884606);this.H["204"]=new c("203","204","203","0","0",1,.265406);this.H["56"]=new c("109","110","109","136","6.5",0,0);this.H["109"]=new c("205","206","205","4","157.5",0,0);this.H["205"]=new c("205","206","205","0","0",1,-.0142737);this.H["206"]=new c("205","206","205","0","0",1,.691279);this.H["110"]=new c("205","206","205","0","0",1,-.998086);this.H["28"]=new c("57","58","58","138","11.5",0,0);this.H["57"]=new c("111","112","112","2","6.5",0,0);this.H["111"]=new c("207","208","208","7","67.5",0,0);this.H["207"]=new c("207","208","208","0","0",1,.763925);this.H["208"]=new c("207","208","208","0","0",1,-.309645);this.H["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new c("209","210","209","0","0",1,-.306635);this.H["210"]=new c("209","210","209","0","0",1,.556696);this.H["58"]=new c("113","114","113","138","50.5",0,0);this.H["113"]=new c("211","212","212","8","25.5",0,0);this.H["211"]=new c("211","212","212","0","0",1,.508234);this.H["212"]=new c("211","212","212","0","0",1,.793551);this.H["114"]=new c("211","212","212","0","0",1,-.998438);this.H["14"]=new c("29","30","29","134","27.5",0,0);this.H["29"]=new c("59","60","60","7","17.5",0,0);this.H["59"]=new c("115","116","115","135","5.5",0,0);this.H["115"]=new c("213","214","214","137","5.5",0,0);this.H["213"]=new c("213","214","214","0","0",1,.401747);this.H["214"]=new c("213","214","214","0","0",1,.0367503);this.H["116"]=new c("215","216","216","8","5.5",0,0);this.H["215"]=new c("215","216","216","0","0",1,-.0241984);this.H["216"]=new c("215","216","216","0","0",1,-.999046);this.H["60"]=new c("117","118","117","0","12.5",0,0);this.H["117"]=new c("217","218","218","132","5.5",0,0);this.H["217"]=new c("217","218","218","0","0",1,-.997294);this.H["218"]=new c("217","218","218","0","0",1,.210398);this.H["118"]=new c("219","220","219","137","1.5",0,0);this.H["219"]=new c("219","220","219","0","0",1,-.55763);this.H["220"]=new c("219","220","219","0","0",1,.074493);this.H["30"]=new c("61","62","62","133","42.5",0,0);this.H["61"]=new c("119","120","119","135","5.5",0,0);this.H["119"]=new c("221","222","222","4","473.5",0,0);this.H["221"]=new c("221","222","222","0","0",1,-.920213);this.H["222"]=new c("221","222","222","0","0",1,-.17615);this.H["120"]=new c("223","224","224","5","144",0,0);this.H["223"]=new c("223","224","224","0","0",1,-.954295);this.H["224"]=new c("223","224","224","0","0",1,-.382538);this.H["62"]=new c("121","122","121","133","50",0,0);this.H["121"]=new c("225","226","226","10","18.5",0,0);this.H["225"]=new c("225","226","226","0","0",1,-.0731343);this.H["226"]=new c("225","226","226","0","0",1,.755454);this.H["122"]=new c("227","228","228","0","30",0,0);this.H["227"]=new c("227","228","228","0","0",1,.25);this.H["228"]=new c("227","228","228","0","0",1,-.997101);}function m(a,b,c,f,h,r){this.c2=h;this.YW=r;}b=a(305);r=a(185);a={};a.Abb=new function(){this.N6a=r();this.o=0;this.update=function(){this.o=r()-this.N6a;};this.getValue=function(){return this.o;};this.type="num";}();a.qub=new function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded"===c.Ea[a].context||null;};this.type="cat";}();a.rub=new function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked"===c.Ea[a].context||null;};this.type="cat";}();a.uub=new function(){this.getValue=function(a,b,c){return this.o="billboard"===c.Ea[a].context||null;};this.type="cat";}();a.vub=new function(){this.getValue=function(a,b,c){return this.o="continueWatching"===c.Ea[a].context||null;};this.type="cat";}();a.tub=new function(){this.getValue=function(a,b,c){return this.o="bigRow"===c.Ea[a].context||null;};this.type="cat";}();a.wub=new function(){this.getValue=function(a,b,c){return this.o="genre"===c.Ea[a].context||null;};this.type="cat";}();a.xub=new function(){this.getValue=function(a,b,c){return this.o="netflixOriginals"===c.Ea[a].context||null;};this.type="cat";}();a.yub=new function(){this.getValue=function(a,b,c){return this.o="newRelease"===c.Ea[a].context||null;};this.type="cat";}();a.zub=new function(){this.getValue=function(a,b,c){return this.o="popularTitles"===c.Ea[a].context||null;};this.type="cat";}();a.Aub=new function(){this.getValue=function(a,b,c){return this.o="queue"===c.Ea[a].context||null;};this.type="cat";}();a.Bub=new function(){this.getValue=function(a,b,c){return this.o="recentlyAdded"===c.Ea[a].context||null;};this.type="cat";}();a.Cub=new function(){this.getValue=function(a,b,c){return this.o="similars"===c.Ea[a].context||null;};this.type="cat";}();a.Eub=new function(){this.getValue=function(a,b,c){return this.o="trendingNow"===c.Ea[a].context||null;};this.type="cat";}();a.Fub=new function(){this.getValue=function(a,b,c){return this.o="ultraHD"===c.Ea[a].context||null;};this.type="cat";}();a.Gub=new function(){this.getValue=function(a,b,c){return this.o="watchAgain"===c.Ea[a].context||null;};this.type="cat";}();a.Dub=new function(){this.getValue=function(a,b,c){return this.o="topTen"===c.Ea[a].context||null;};this.type="cat";}();a.lcb=new function(){this.update=function(a){for(var b in a.Ea)if("becauseYouAdded"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.mcb=new function(){this.update=function(a){for(var b in a.Ea)if("becauseYouLiked"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.qcb=new function(){this.update=function(a){for(var b in a.Ea)if("billboard"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bfb=new function(){this.update=function(a){for(var b in a.Ea)if("continueWatching"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.pcb=new function(){this.update=function(a){for(var b in a.Ea)if("bigRow"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Omb=new function(){this.update=function(a){for(var b in a.Ea)if("genre"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.wxb=new function(){this.update=function(a){for(var b in a.Ea)if("netflixOriginals"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.yxb=new function(){this.update=function(a){for(var b in a.Ea)if("newRelease"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.SAb=new function(){this.update=function(a){for(var b in a.Ea)if("popularTitles"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ok=new function(){this.update=function(a){for(var b in a.Ea)if("queue"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.FCb=new function(){this.update=function(a){for(var b in a.Ea)if("recentlyAdded"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bHb=new function(){this.update=function(a){for(var b in a.Ea)if("similars"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.CJb=new function(){this.update=function(a){for(var b in a.Ea)if("trendingNow"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.TJb=new function(){this.update=function(a){for(var b in a.Ea)if("ultraHD"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.KLb=new function(){this.update=function(a){for(var b in a.Ea)if("watchAgain"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.oJb=new function(){this.update=function(a){for(var b in a.Ea)if("topTen"===a.Ea[b].context){this.o=Math.max(a.Ea[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lfb=new function(){this.getValue=function(a,b,c){return this.o="AR"===c.Fa||null;};this.type="cat";}();a.mfb=new function(){this.getValue=function(a,b,c){return this.o="AT"===c.Fa||null;};this.type="cat";}();a.nfb=new function(){this.getValue=function(a,b,c){return this.o="AU"===c.Fa||null;};this.type="cat";}();a.ofb=new function(){this.getValue=function(a,b,c){return this.o="AZ"===c.Fa||null;};this.type="cat";}();a.pfb=new function(){this.getValue=function(a,b,c){return this.o="BB"===c.Fa||null;};this.type="cat";}();a.qfb=new function(){this.getValue=function(a,b,c){return this.o="BE"===c.Fa||null;};this.type="cat";}();a.rfb=new function(){this.getValue=function(a,b,c){return this.o="BO"===c.Fa||null;};this.type="cat";}();a.sfb=new function(){this.getValue=function(a,b,c){return this.o="BR"===c.Fa||null;};this.type="cat";}();a.tfb=new function(){this.getValue=function(a,b,c){return this.o="BS"===c.Fa||null;};this.type="cat";}();a.ufb=new function(){this.getValue=function(a,b,c){return this.o="CA"===c.Fa||null;};this.type="cat";}();a.vfb=new function(){this.getValue=function(a,b,c){return this.o="CH"===c.Fa||null;};this.type="cat";}();a.wfb=new function(){this.getValue=function(a,b,c){return this.o="CL"===c.Fa||null;};this.type="cat";}();a.xfb=new function(){this.getValue=function(a,b,c){return this.o="CO"===c.Fa||null;};this.type="cat";}();a.yfb=new function(){this.getValue=function(a,b,c){return this.o="CR"===c.Fa||null;};this.type="cat";}();a.zfb=new function(){this.getValue=function(a,b,c){return this.o="CW"===c.Fa||null;};this.type="cat";}();a.Afb=new function(){this.getValue=function(a,b,c){return this.o="DE"===c.Fa||null;};this.type="cat";}();a.Bfb=new function(){this.getValue=function(a,b,c){return this.o="DK"===c.Fa||null;};this.type="cat";}();a.Cfb=new function(){this.getValue=function(a,b,c){return this.o="DM"===c.Fa||null;};this.type="cat";}();a.Dfb=new function(){this.getValue=function(a,b,c){return this.o="DO"===c.Fa||null;};this.type="cat";}();a.Efb=new function(){this.getValue=function(a,b,c){return this.o="EC"===c.Fa||null;};this.type="cat";}();a.Ffb=new function(){this.getValue=function(a,b,c){return this.o="EE"===c.Fa||null;};this.type="cat";}();a.Gfb=new function(){this.getValue=function(a,b,c){return this.o="EG"===c.Fa||null;};this.type="cat";}();a.Hfb=new function(){this.getValue=function(a,b,c){return this.o="ES"===c.Fa||null;};this.type="cat";}();a.Ifb=new function(){this.getValue=function(a,b,c){return this.o="FI"===c.Fa||null;};this.type="cat";}();a.Jfb=new function(){this.getValue=function(a,b,c){return this.o="FR"===c.Fa||null;};this.type="cat";}();a.Kfb=new function(){this.getValue=function(a,b,c){return this.o="GB"===c.Fa||null;};this.type="cat";}();a.Lfb=new function(){this.getValue=function(a,b,c){return this.o="GF"===c.Fa||null;};this.type="cat";}();a.Mfb=new function(){this.getValue=function(a,b,c){return this.o="GP"===c.Fa||null;};this.type="cat";}();a.Nfb=new function(){this.getValue=function(a,b,c){return this.o="GT"===c.Fa||null;};this.type="cat";}();a.Ofb=new function(){this.getValue=function(a,b,c){return this.o="HK"===c.Fa||null;};this.type="cat";}();a.Pfb=new function(){this.getValue=function(a,b,c){return this.o="HN"===c.Fa||null;};this.type="cat";}();a.Qfb=new function(){this.getValue=function(a,b,c){return this.o="HR"===c.Fa||null;};this.type="cat";}();a.Rfb=new function(){this.getValue=function(a,b,c){return this.o="HU"===c.Fa||null;};this.type="cat";}();a.Sfb=new function(){this.getValue=function(a,b,c){return this.o="ID"===c.Fa||null;};this.type="cat";}();a.Tfb=new function(){this.getValue=function(a,b,c){return this.o="IE"===c.Fa||null;};this.type="cat";}();a.Ufb=new function(){this.getValue=function(a,b,c){return this.o="IL"===c.Fa||null;};this.type="cat";}();a.Vfb=new function(){this.getValue=function(a,b,c){return this.o="IN"===c.Fa||null;};this.type="cat";}();a.Wfb=new function(){this.getValue=function(a,b,c){return this.o="IT"===c.Fa||null;};this.type="cat";}();a.Xfb=new function(){this.getValue=function(a,b,c){return this.o="JE"===c.Fa||null;};this.type="cat";}();a.Yfb=new function(){this.getValue=function(a,b,c){return this.o="JM"===c.Fa||null;};this.type="cat";}();a.Zfb=new function(){this.getValue=function(a,b,c){return this.o="JP"===c.Fa||null;};this.type="cat";}();a.$fb=new function(){this.getValue=function(a,b,c){return this.o="KE"===c.Fa||null;};this.type="cat";}();a.agb=new function(){this.getValue=function(a,b,c){return this.o="KN"===c.Fa||null;};this.type="cat";}();a.bgb=new function(){this.getValue=function(a,b,c){return this.o="KR"===c.Fa||null;};this.type="cat";}();a.cgb=new function(){this.getValue=function(a,b,c){return this.o="LU"===c.Fa||null;};this.type="cat";}();a.dgb=new function(){this.getValue=function(a,b,c){return this.o="MK"===c.Fa||null;};this.type="cat";}();a.egb=new function(){this.getValue=function(a,b,c){return this.o="MU"===c.Fa||null;};this.type="cat";}();a.fgb=new function(){this.getValue=function(a,b,c){return this.o="MX"===c.Fa||null;};this.type="cat";}();a.ggb=new function(){this.getValue=function(a,b,c){return this.o="MY"===c.Fa||null;};this.type="cat";}();a.hgb=new function(){this.getValue=function(a,b,c){return this.o="NI"===c.Fa||null;};this.type="cat";}();a.igb=new function(){this.getValue=function(a,b,c){return this.o="NL"===c.Fa||null;};this.type="cat";}();a.jgb=new function(){this.getValue=function(a,b,c){return this.o="NO"===c.Fa||null;};this.type="cat";}();a.kgb=new function(){this.getValue=function(a,b,c){return this.o="NZ"===c.Fa||null;};this.type="cat";}();a.lgb=new function(){this.getValue=function(a,b,c){return this.o="OM"===c.Fa||null;};this.type="cat";}();a.mgb=new function(){this.getValue=function(a,b,c){return this.o="PA"===c.Fa||null;};this.type="cat";}();a.ngb=new function(){this.getValue=function(a,b,c){return this.o="PE"===c.Fa||null;};this.type="cat";}();a.ogb=new function(){this.getValue=function(a,b,c){return this.o="PF"===c.Fa||null;};this.type="cat";}();a.pgb=new function(){this.getValue=function(a,b,c){return this.o="PH"===c.Fa||null;};this.type="cat";}();a.qgb=new function(){this.getValue=function(a,b,c){return this.o="PK"===c.Fa||null;};this.type="cat";}();a.rgb=new function(){this.getValue=function(a,b,c){return this.o="PL"===c.Fa||null;};this.type="cat";}();a.sgb=new function(){this.getValue=function(a,b,c){return this.o="PT"===c.Fa||null;};this.type="cat";}();a.tgb=new function(){this.getValue=function(a,b,c){return this.o="PY"===c.Fa||null;};this.type="cat";}();a.ugb=new function(){this.getValue=function(a,b,c){return this.o="QA"===c.Fa||null;};this.type="cat";}();a.vgb=new function(){this.getValue=function(a,b,c){return this.o="RO"===c.Fa||null;};this.type="cat";}();a.wgb=new function(){this.getValue=function(a,b,c){return this.o="RS"===c.Fa||null;};this.type="cat";}();a.xgb=new function(){this.getValue=function(a,b,c){return this.o="RU"===c.Fa||null;};this.type="cat";}();a.ygb=new function(){this.getValue=function(a,b,c){return this.o="SA"===c.Fa||null;};this.type="cat";}();a.zgb=new function(){this.getValue=function(a,b,c){return this.o="SE"===c.Fa||null;};this.type="cat";}();a.Agb=new function(){this.getValue=function(a,b,c){return this.o="SG"===c.Fa||null;};this.type="cat";}();a.Bgb=new function(){this.getValue=function(a,b,c){return this.o="SV"===c.Fa||null;};this.type="cat";}();a.Cgb=new function(){this.getValue=function(a,b,c){return this.o="SX"===c.Fa||null;};this.type="cat";}();a.Dgb=new function(){this.getValue=function(a,b,c){return this.o="TH"===c.Fa||null;};this.type="cat";}();a.Egb=new function(){this.getValue=function(a,b,c){return this.o="TR"===c.Fa||null;};this.type="cat";}();a.Fgb=new function(){this.getValue=function(a,b,c){return this.o="TT"===c.Fa||null;};this.type="cat";}();a.Ggb=new function(){this.getValue=function(a,b,c){return this.o="TW"===c.Fa||null;};this.type="cat";}();a.Hgb=new function(){this.getValue=function(a,b,c){return this.o="US"===c.Fa||null;};this.type="cat";}();a.Igb=new function(){this.getValue=function(a,b,c){return this.o="UY"===c.Fa||null;};this.type="cat";}();a.Jgb=new function(){this.getValue=function(a,b,c){return this.o="VE"===c.Fa||null;};this.type="cat";}();a.Kgb=new function(){this.getValue=function(a,b,c){return this.o="ZA"===c.Fa||null;};this.type="cat";}();a.ICb=new function(){this.getValue=function(a,b,c){return this.o=1===c.bh||null;};this.type="cat";}();a.JCb=new function(){this.getValue=function(a,b,c){return this.o=10===c.bh||null;};this.type="cat";}();a.KCb=new function(){this.getValue=function(a,b,c){return this.o=11===c.bh||null;};this.type="cat";}();a.LCb=new function(){this.getValue=function(a,b,c){return this.o=12===c.bh||null;};this.type="cat";}();a.MCb=new function(){this.getValue=function(a,b,c){return this.o=13===c.bh||null;};this.type="cat";}();a.NCb=new function(){this.getValue=function(a,b,c){return this.o=14===c.bh||null;};this.type="cat";}();a.OCb=new function(){this.getValue=function(a,b,c){return this.o=15===c.bh||null;};this.type="cat";}();a.PCb=new function(){this.getValue=function(a,b,c){return this.o=16===c.bh||null;};this.type="cat";}();a.QCb=new function(){this.getValue=function(a,b,c){return this.o=17===c.bh||null;};this.type="cat";}();a.RCb=new function(){this.getValue=function(a,b,c){return this.o=18===c.bh||null;};this.type="cat";}();a.SCb=new function(){this.getValue=function(a,b,c){return this.o=19===c.bh||null;};this.type="cat";}();a.TCb=new function(){this.getValue=function(a,b,c){return this.o=2===c.bh||null;};this.type="cat";}();a.UCb=new function(){this.getValue=function(a,b,c){return this.o=20===c.bh||null;};this.type="cat";}();a.VCb=new function(){this.getValue=function(a,b,c){return this.o=21===c.bh||null;};this.type="cat";}();a.WCb=new function(){this.getValue=function(a,b,c){return this.o=22===c.bh||null;};this.type="cat";}();a.XCb=new function(){this.getValue=function(a,b,c){return this.o=23===c.bh||null;};this.type="cat";}();a.YCb=new function(){this.getValue=function(a,b,c){return this.o=3===c.bh||null;};this.type="cat";}();a.ZCb=new function(){this.getValue=function(a,b,c){return this.o=4===c.bh||null;};this.type="cat";}();a.$Cb=new function(){this.getValue=function(a,b,c){return this.o=5===c.bh||null;};this.type="cat";}();a.aDb=new function(){this.getValue=function(a,b,c){return this.o=6===c.bh||null;};this.type="cat";}();a.bDb=new function(){this.getValue=function(a,b,c){return this.o=7===c.bh||null;};this.type="cat";}();a.cDb=new function(){this.getValue=function(a,b,c){return this.o=8===c.bh||null;};this.type="cat";}();a.dDb=new function(){this.getValue=function(a,b,c){return this.o=9===c.bh||null;};this.type="cat";}();a.kIb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.mIb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lIb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.nIb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bwb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.cwb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.lca);};this.getValue=function(){return this.o;};this.type="num";}();a.iwb=new function(){this.XK=this.o=0;this.update=function(a){this.XK++;this.o=1*(this.o+a.rowIndex)/this.XK;};this.getValue=function(){return this.o;};this.type="num";}();a.jwb=new function(){this.XK=this.o=0;this.update=function(a){this.XK++;return this.o=1*(this.o+a.lca)/this.XK;};this.getValue=function(){return this.o;};this.type="num";}();a.sBb=new function(){this.getValue=function(a,b,c){return this.o=c.lca+b;};this.type="num";}();a.tBb=new function(){this.getValue=function(a,b,c){return this.o=c.rowIndex+a;};this.type="num";}();k.prototype.Qy=function(a){return this.YBa(this.H["0"].bTa(a),a);};k.prototype.YBa=function(a,b){return"string"==typeof a?this.YBa(this.H[a].bTa(b),b):a;};c.prototype.bTa=function(a){switch(this.Btb){case 0:switch(a.Ad[this.GR].type){case"cat":return null===a.Ad[this.GR].value?this.$Oa:"missing"==a.Ad[this.GR].value?this.Gja:this.tXa;case"num":return null===a.Ad[this.GR].value?this.Gja:a.Ad[this.GR].value<this.split?this.tXa:this.$Oa;default:return this.Gja;}case 1:return this.Qy;default:return this.Qy;}};b.declare({mP:["modelSelector","modelone"],xeb:["colEpisodeList",5],vrb:["holdDuration",15E3],OSa:["rowFirst",2],eFa:["colFirst",5],QSa:["rowScroll",2],fFa:["colScroll",6],tEb:["rowScrollHorizontal",6],PEb:["searchTop",3],aGa:["cwFirst",2],iO:["horizontalItemsFocusedMode",3],Ctb:["itemsPerRank",1],Xvb:["maxNumberPayloadsStored",10],XNa:["maxNumberTitlesScheduled",5],pVb:["enableDetailedLogging",!0],sYb:["rowStep",20],zUb:["colStep",15],QXb:["pageRows",100],PXb:["pageColumns",75],Xia:["maskParamsList",new function(){var a,b;this.Xia=[];this.Vj={};this.c2=20;this.YW=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.c2)+"_"+Math.floor(b/this.YW)in this.Vj||(this.Vj[Math.floor(a/this.c2)+"_"+Math.floor(b/this.YW)]=1,this.Xia.push(new m(0,0,0,0,Math.floor(a/this.c2),Math.floor(b/this.YW))));}().Xia],H:["nodes",new k().H],mapping:["mapping",{cwb:"0",jwb:"1",bwb:"2",iwb:"3",Abb:"4",nIb:"5",lIb:"6",mIb:"7",kIb:"8",tBb:"9",sBb:"10",qub:"11",rub:"12",uub:"13",vub:"14",tub:"15",wub:"16",xub:"17",yub:"18",zub:"19",Aub:"20",Bub:"21",Cub:"22",Dub:"23",Eub:"24",Fub:"25",Gub:"26",ICb:"27",JCb:"28",KCb:"29",LCb:"30",MCb:"31",NCb:"32",OCb:"33",PCb:"34",QCb:"35",RCb:"36",SCb:"37",TCb:"38",UCb:"39",VCb:"40",WCb:"41",XCb:"42",YCb:"43",ZCb:"44",$Cb:"45",aDb:"46",bDb:"47",cDb:"48",dDb:"49",lfb:"50",mfb:"51",nfb:"52",ofb:"53",pfb:"54",qfb:"55",rfb:"56",sfb:"57",tfb:"58",ufb:"59",vfb:"60",wfb:"61",xfb:"62",yfb:"63",zfb:"64",Afb:"65",Bfb:"66",Cfb:"67",Dfb:"68",Efb:"69",Ffb:"70",Gfb:"71",Hfb:"72",Ifb:"73",Jfb:"74",Kfb:"75",Lfb:"76",Mfb:"77",Nfb:"78",Ofb:"79",Pfb:"80",Qfb:"81",Rfb:"82",Sfb:"83",Tfb:"84",Ufb:"85",Vfb:"86",Wfb:"87",Xfb:"88",Yfb:"89",Zfb:"90",$fb:"91",agb:"92",bgb:"93",cgb:"94",dgb:"95",egb:"96",fgb:"97",ggb:"98",hgb:"99",igb:"100",jgb:"101",kgb:"102",lgb:"103",mgb:"104",ngb:"105",ogb:"106",pgb:"107",qgb:"108",rgb:"109",sgb:"110",tgb:"111",ugb:"112",vgb:"113",wgb:"114",xgb:"115",ygb:"116",zgb:"117",Agb:"118",Bgb:"119",Cgb:"120",Dgb:"121",Egb:"122",Fgb:"123",Ggb:"124",Hgb:"125",Igb:"126",Jgb:"127",Kgb:"128",KLb:"129",FCb:"130",bHb:"131",Ok:"132",bfb:"133",Omb:"134",CJb:"135",oJb:"136",qcb:"137",yxb:"138",TJb:"139",SAb:"140",lcb:"141",pcb:"142",mcb:"143",wxb:"144"}],Ad:["features",a],vTb:["_modelName","tree"],mTb:["_format","xgboost"],uTb:["_itemsToKeep",5],tTb:["_itemsThreshold",null],hUb:["cacheLimit",20]});d.P={config:b,SWb:m,HUb:c};},function(d,b,a){var k;function c(a){for(var b="",c=0;c<a.length;c++)b+=a[c].na+"|";return b;}k=a(184);d.P={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},rWb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},Cnb:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===k.aK.lZa){b=a[c].list;break;}return b;},lnb:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===k.aK.fYa){b=a[c].list;break;}return b;},Zib:function(a,b){for(var q=0,n,l,f,h=0,r=a.length-1;h<r;h++){n=c(a[h].list||[]);f=!1;for(var d=0,m=b.length;d<m;d++)if(l=c(b[d].list||[]),l==n){f=!0;break;}if(!1===f){q=h;break;}}return q;},tyb:function(a,b,c){for(var n=[],l,f=0;f<Math.min(b,a.length);f++)l=a[f].list||[],n=n.concat(l.slice(0,c));return n;},syb:function(a,b){for(var c=[],n,l=0;l<a.length&&(n=a[l].list||[],n=n.slice(0,Math.min(n.length,b)),b-=n.length,c=c.concat(n),0!==b);l++);return c;},ryb:function(a,b,c){var n;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(n=a[c]));return n;},YHa:function(a){for(var b={},c=a.length,n,l=0;l<c;l++){n=a[l].list||[];for(var f=0;f<n.length;f++)if(n[f].property===k.UD.lK||n[f].property===k.UD.bra){b.Fi=l;b.tk=f;break;}}void 0===b.Fi&&void 0===b.tk&&(b.Fi=0,b.tk=0);return b;}};},function(d,b,a){var c,k,m,r,q,n,l,f,h,x,g,I,E,J;Object.defineProperty(b,"__esModule",{value:!0});b.JVa=void 0;c=a(66);k=a(9);m=a(12);r=a(43);q=a(39);n=a(6);l=a(2);f=a(21);h=a(67);x=a(10);g=a(118);I=a(26);E=a(30);J=a(32);b.JVa=function(){var d,F,p,t;function a(a){var c,l,q;c="info";l="";q=n.$.get(h.Kw).KJa();a.da||(c="error",l+="&errorcode="+(a.errorCode||""),l+="&errorsubcode="+(a.ga||""));l="type=startup&sev="+c+l+"&"+r.OH(f.xb({},q,{prefix:"m_"}));b("startup",l,d);}function b(a,b,h){h&&F&&m.config.LVa[a]&&(a=p+"&jsoffms="+q.Tg()+"&do="+x.Qi.onLine+"&"+b+"&"+r.OH(f.xb({},t.sd,{prefix:"im_"})),c.Te.download({url:h,$ka:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},kB:"track"},k.Ye));}F=!1;p="";n.uh("TrackingLog");t=n.$.get(I.Kf);t.register(l.K.lta,function(b){var c,h;if(F=m.config.KVa&&!!m.config.loa){d=n.$.get(g.iz).host+m.config.loa;c=n.$.get(J.Si);h=n.$.get(J.Fp);p="cat=cadplayback&dev="+encodeURIComponent(c.uda)+"&ep="+encodeURIComponent(h.Tra)+"&ver="+encodeURIComponent("0.0024.489.050")+"&jssid="+q.e6+"&browserua="+x.Ql;m.config.dy&&(p+="&groupname="+encodeURIComponent(m.config.dy));m.config.qD&&(p+="&uigroupname="+encodeURIComponent(m.config.qD));c=p;h=n.$.get(E.mE);h=f.xb({},h,{prefix:"pi_"});h="&"+r.OH(h);p=c+h;t.NO(a);}b(k.wd);});return b;}();},function(d,b,a){var r;function c(a,b,c){b=b||0;c=c||a.length;for(var f,h=b,l,n,q,r={};h<b+c;){f=a[h];l=f&7;n=f>>3;q=k(a,h);if(!q.count)throw Error("Parsing error. bytes length is 0 for the tag "+f);h+=q.count+1;2==l&&(h+=q.value);r[n]={zVb:n,JZb:l,value:q.value,count:q.count,start:q.start};}return r;}function k(a,b){var c,f,h,n,q,d,m,k;c=b+1;f=a.length;h=c;n=0;q={};d=[];k=0;if(c>=f)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+f);for(;h<f;){n++;c=a[h];m=c&127;d.push(m);if(!(c&128))break;h++;}r.lb(d.length);for(a=d.length-1;0<=a;a--)k<<=7,k|=d[a];q.count=n;q.value=k;q.start=b+n+1;return q;}function m(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(b,"__esModule",{value:!0});b.tpb=b.spb=b.plb=b.ltb=b.lMa=void 0;r=a(17);b.lMa=function(a){a=c(a);if(1==m(a,1)&&a[5]&&a[5].value)return!0;};b.ltb=function(a){var b;b=c(a);if(2==m(b,1)&&(a=c(a,b[2].start,b[2].value),m(a,5)))return!0;};b.plb=c;b.spb=k;b.tpb=m;},function(d){function b(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}d.P=function(a){var r,q,n;function c(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function d(a,b,h){var f;f=q[a];"undefined"!==typeof f?f(b)||c(a,b,h):a!==typeof b&&c(a,b,h);}function m(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===n.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===n.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var f;f=c[b];if("string"===typeof a)d(a,f,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){d(a[b],f[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}r="number boolean string object function symbol".split(" ");q={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof q[b]||-1<r.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);q[b]=a[b];});}n=Object.keys(q).concat(r);return m(["array","function"],m);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Asa=void 0;b.Asa=function(a){var m,r,q,n;function b(){if(q)for(var a;a=m.pop();)a(n);}function d(a){q=!0;n=a;b();}m=[];return function(c){m.push(c);r||(r=!0,a(d));b();};};},function(d,b,a){var k;function c(a,b,c,n){var l;l=this;this.dc=a;this.Xk=b;this.Hq=c;this.Jb=n;this.t1=new Map();this.EGb();this.Jb.addListener(k.zb.loaded,function(){return l.Hy();});}Object.defineProperty(b,"__esModule",{value:!0});b.fK=void 0;k=a(13);c.prototype.EKa=function(a,b){var c;c=this;return this.Hq.transition(b).then(function(){c.dc.cg=a;});};c.prototype.close=function(a){return this.Hq.close(a);};c.prototype.isReady=function(){return this.Hq.xpb();};c.prototype.Jn=function(){return this.Hq.Jn();};c.prototype.Kh=function(){return this.Hq.Kh();};c.prototype.PP=function(a){var b;b=a.id;this.t1.has(b)||this.t1.set(b,this.Hq.Mp(a));return this.t1.get(b);};c.prototype.EGb=function(){var a;a=this;this.Hq.addListener(k.Tz.yQ,function(){return a.Jb.Wb(k.Tz.yQ);});Object.keys(k.zb).forEach(function(b){var c;c=k.zb[b];a.Hq.addListener(c,function(b){return a.Jb.Wb(c,b);});});};c.prototype.wP=function(){this.Hy();};c.prototype.tka=function(a){this.Hq.rKb({id:a,G:this.dc.Ag(a).na,ej:this.dc.iKa(a)});};c.prototype.Hy=function(){var a,b,c,n,l;if(this.isReady()){c=this.dc.cg;n=this.dc.FB(c);if(n&&!this.t1.has(n)){this.tka(c);n=this.dc.Ag(n);l=null===(a=this.Xk.TG(n.na))||void 0===a?void 0:a.cb;this.PP({id:this.dc.FB(c),G:n.na,S:n.qf,ej:null!==(b=null===l||void 0===l?void 0:l.ej)&&void 0!==b?b:n.dg,cb:l});}}};b.fK=c;},function(d,b,a){var k;function c(a,b,c){var n;n=this;this.Kk=a;this.Ff=b;this.LP=c;this.addEventListener=function(a,b,c){return n.Ff.addListener(a,n.jGa(a,b),c);};this.removeEventListener=function(a,b){return n.Ff.removeListener(a,n.jGa(a,b));};this.getReady=function(){return n.Ff.isReady();};this.getXid=function(){return n.ib().sZ();};this.getMovieId=function(){return n.ib().Qob();};this.getPlaygraphId=function(){return n.ib().mpb();};this.getElement=function(){return n.Ff.Jn();};this.isPlaying=function(){return n.ib().ky();};this.isPaused=function(){return n.ib().etb();};this.isMuted=function(){return n.ib().btb();};this.isReady=function(){return n.ib().isReady();};this.isBackground=function(){return n.ib().Esb();};this.setBackground=function(a){return n.ib().CTa(a);};this.startInactivityMonitor=function(){return n.ib().VQ();};this.setTransitionTime=function(a){return n.ib().TTa(a);};this.getDiagnostics=function(){return n.ib().Nnb();};this.getTextTrackList=function(a){return n.ib().uKa(a);};this.getTextTrack=function(){return n.ib().tKa();};this.setTextTrack=function(a){return n.ib().STa(a);};this.getVolume=function(){return n.ib().yqb();};this.isEnded=function(){return n.ib().Osb();};this.getBusy=function(){return n.ib().vi();};this.getError=function(){return n.ib().getError();};this.getCurrentTime=function(){return n.ib().j.Za.value;};this.getBufferedTime=function(){return n.ib().onb();};this.getSegmentTime=function(){return n.ib().SY();};this.getDuration=function(){return n.ib().YIa();};this.getVideoSize=function(){return n.ib().vqb();};this.getAudioTrackList=function(){return n.ib().Zmb();};this.getAudioTrack=function(){return n.ib().Ymb();};this.getTimedTextTrackList=function(a){return n.ib().uKa(a);};this.getTimedTextTrack=function(){return n.ib().tKa();};this.getAdditionalLogInfo=function(){return n.ib().Smb();};this.getTrickPlayFrame=function(a){return n.ib().iqb(a);};this.getSessionSummary=function(){return n.ib().hKa();};this.getTimedTextSettings=function(){return n.ib().oZ();};this.setMuted=function(a){return n.ib().dGb(a);};this.setVolume=function(a){return n.ib().zGb(a);};this.getPlaybackRate=function(){return n.ib().No();};this.setPlaybackRate=function(a){return n.ib().iGb(a);};this.setAudioTrack=function(a){return n.ib().NFb(a);};this.setTimedTextTrack=function(a){return n.ib().STa(a);};this.setTimedTextSettings=function(a){return n.ib().NQ(a);};this.prepare=function(){return n.ib().Nv();};this.load=function(){return n.ib().load();};this.close=function(a){return n.oDa(n.Ff.close(),a);};this.play=function(){return n.ib().play();};this.pause=function(){return n.ib().pause();};this.seek=function(a){return n.ib().seek(a);};this.engage=function(a,b){return n.oDa(n.ib().xN(a),b);};this.induceError=function(a){return n.ib().csb(a);};this.loadCustomTimedTextTrack=function(a,b,c,q){return n.ib().Kub(a,b,c,q);};this.tryRecoverFromStall=function(){return n.ib().wR();};this.addEpisode=function(a){var b,c;n.log.info("Next episode added",a);b=n.GNa(a.playbackParams);c="startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.S;if(void 0===c||0>c)c=0;return n.Ff.Mp({id:b.dj?void 0:n.LP.JY(a.movieId,c),G:a.movieId,S:c,ej:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.ej,cb:b,ya:a.manifest,Kk:n.Kk});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=n.GNa(a);n.log.info("Playing the next episode",a);return n.Ff.zga(n.Ff.aJa(),n.Ff.TY().ql,a);};this.playSegment=function(a){return n.ib().vAb(a);};this.queueSegment=function(a){return n.ib().hCb(a);};this.updateNextSegmentWeights=function(a,b){return n.ib().up(a,b);};this.getCropAspectRatio=function(){return n.ib().wfa();};this.getCropAspectRatioXandY=function(){return n.ib().Enb();};this.generateScreenshots=function(a){return n.ib().Nmb(a);};this.getCurrentSegmentId=function(){return n.Ff.aJa();};this.getPlaygraphMap=function(){return n.Ff.npb();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b=b.map(function(a){return{Ma:a.segmentId,qP:a.nextSegmentId};});n.Ff.KQ.apply(n.Ff,[].concat(ea(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return n.Ff.meb.apply(n.Ff,[].concat(ea(b)));};this.updatePlaygraphMap=function(a){return n.Ff.oKb(a);};this.goToNextSegment=function(a,b){return n.Ff.zga(a,b);};this.getPlaying=function(){return n.isPlaying();};this.getPaused=function(){return n.isPaused();};this.getMuted=function(){return n.isMuted();};this.getEnded=function(){return n.isEnded();};this.getTimedTextVisibility=function(){return n.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!n.ib().oZ().visibility;};this.setTimedTextVisibility=function(a){return n.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return n.ib().NQ({size:a});};this.setTimedTextBounds=function(a){return n.ib().NQ({bounds:a});};this.setTimedTextMargins=function(a){return n.ib().NQ({margins:a});};this.setTimedTextVisible=function(a){return n.ib().NQ({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.mea=new Map();this.log=k.uh("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.nza=void 0;k=a(6);a(84);c.prototype.ib=function(){return this.Ff.Kh();};c.prototype.jGa=function(a,b){var c;this.mea.has(a)||this.mea.set(a,new Map());c=this.mea.get(a);c.has(b)||c.set(b,this.vib(a,b));return c.get(b);};c.prototype.vib=function(a,b){var c;c=this;return function(n){return b(Object.assign({},n,{type:a,target:c}));};};c.prototype.oDa=function(a,b){return b?a.then(b,b):a;};c.prototype.GNa=function(a){a=void 0===a?{}:a;return{Wh:a.trackingId,jM:a.authParams,Yn:a.sessionParams,ke:a.uiLabel,Ada:a.disableTrackStickiness,k3:a.uiPlayStartTime,yY:a.forceAudioTrackId,zY:a.forceTimedTextTrackId,dj:a.isBranching,Qoa:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted,playbackRate:a.playbackState.playbackRate}:void 0,sG:a.enableTrickPlay,Nga:a.heartbeatCooldown,x_:a.isPlaygraph,Q_:a.loadImmediately||!1,CQa:a.pin,NP:a.preciseSeeking,S:a.startPts,oa:a.endPts,ej:a.logicalEnd,N1:a.renderTimedText,IHa:a.extraManifestParams,Ik:a.packageId,DF:a.assetId,Dbb:a.audioLanguages,HIb:a.textLanguages};};b.nza=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h8=void 0;b.h8="PlaygraphVideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g8=void 0;b.g8="PlaygraphPlaybackStrategyFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jo=void 0;d=b.jo||(b.jo={});d[d.iK=0]="No";d[d.q9=1]="Yes";d[d.Nta=2]="Later";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f8=void 0;b.f8="PlaygraphManagerFactorySymbol";},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.xJ=void 0;c=a(0);k=a(2);m=a(1);r=a(15);q=a(22);n=a(6);l=a(13);d=function(){var b;function a(a,b){this.wb=a;this.j=b;this.JO=[];}a.prototype.tY=function(a){this.JO.forEach(function(b){return b(a);});};a.prototype.md=function(a,b,c){this.j.md(a,b,c);};a.prototype.AZ=function(a){this.j.fireEvent(l.V.Mja,{Gdb:a});};a.prototype.Y$a=function(a){-1===this.JO.indexOf(a)&&this.JO.push(a);};a.prototype.sDb=function(a){a=this.JO.indexOf(a);0<=a&&this.JO.splice(a,1);};a.prototype.BKa=function(a){var b,c;b={};r.$b(a.code)?b.ga=k.i5(a.code):b.ga=k.J.ih;try{c=a.message.match(/\((\d*)\)/)[1];b.se=n.xba(c,4);}catch(E){}b.sb=q.Ge(a);return b;};b=a;return b=c.__decorate([m.N()],b);}();b.xJ=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G7=void 0;b.G7="PboManifestRequestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ST=void 0;b.ST="PlaybackMilestoneStoreSymbol";},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.uNa=void 0;c=a(12);k=a(9);m=a(39);d=a(2);r=a(10);q=a(15);n=a(6);a=a(26);n.$.get(a.Kf).register(d.K.fta,function(a){var h,l,n,d,g;function f(){var a;a=r.jt(m.Tg()/n);if(a!=g){for(var b=r.Um(a-g,30);b--;)d.push(0);(b=r.Pl(d.length-31,0))&&d.splice(0,b);g=a;}d[d.length-1]++;}h=c.config.rvb;l=-6/(h-2-2);n=k.tj;d=[];g=r.jt(m.Tg()/n);q.Iha(h)&&(setInterval(f,1E3/h),b.uNa={rob:function(){var c;for(var a=[],b=d.length-1;b--;){c=d[b];a.unshift(0>=c?9:1>=c?8:c>=h-1?0:r.Eh((c-2)*l+7));}return a;}});a(k.wd);});},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.nsa=void 0;c=a(12);k=a(56);m=a(21);r=a(2);q=a(13);b.nsa=function(a,b,f){function h(b){var h,l;h=b.error||b;l=m.Ge(h);f.error("uncaught exception",h,l);(h=(h=h&&h.stack)&&c.config.gWa&&c.config.VJb?0<=h.indexOf(c.config.gWa):void 0)&&(b&&b.stopImmediatePropagation&&b.stopImmediatePropagation(),a.md(r.K.W4a));}function l(){k.He.removeListener(k.vZ,h);a.removeEventListener(q.V.Af,l);a.removeEventListener(q.V.Tn,l);}try{k.He.addListener(k.vZ,h);a.addEventListener(q.V.Af,l);c.config.Orb&&a.addEventListener(q.V.Tn,l);}catch(F){f.error("exception in exception handler ",F);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z8=void 0;b.z8="SeekManagerFactorySymbol";},function(d,b,a){var k,m,r,q,n,l,f,h,x,g,I,E,J,K,D,T,p,V,t,A,Z,u,da,W;function c(a){var b;b=this;this.j=a;this.wb=this.j.wb;this.log=h.zg(this.j,"MediaPresenterASE");this.E0=this.tX=this.Za=0;this.la=this.wb.la;this.GQa=this.AQa=this.Qka=!1;this.yIb=h.$.get(A.$z)(t.Gb(p.gU));this.AF=void 0;this.Hm=h.$.get(u.z8)(this.j);this.Vs={};this.hOa={};this.DKa={};this.Rf=new W.Lua(this.j);this.wIb=function(){var a,c,h;b.j.hR=f.Tg();if(!b.yi()&&b.yl){a=b.wb.dKa();a||(b.Wzb(),b.Rf.toa(b.Za));b.j.paused.value||!b.Rf.jda(b.Za)||!b.Hba()||a||b.Hm.w_?b.nma():b.Qka||b.oma();b.Vzb();if(!b.wb.dKa()){a=b.wb.RN(!0);c=b.j.Ob.value;h=b.Jeb();h===D.kb.Vq?(b.Za=b.j.xq.ca(t.ja),b.nma()):h!==D.kb.Yf&&b.lKb(a);b.vWa();b.Rf.MEa(b.Za);b.j.Ob.set(h);h!==D.kb.Yf||c!==D.kb.Pc&&c!==D.kb.Ri||b.Ryb();}}};this.Rk=da.rRa(this.wIb);this.j.qk=!1;this.wb.addEventListener(V.ai.oUa,function(){b.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.Ab();}catch(na){b.log.error("Exception while initializing",na);b.md(x.K.j3a);}});}Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;k=a(50);m=a(9);r=a(12);q=a(57);n=a(56);l=a(43);f=a(39);h=a(6);a(84);x=a(2);g=a(473);I=a(17);E=a(90);J=a(22);K=a(59);D=a(13);T=a(15);p=a(169);V=a(189);t=a(3);A=a(95);Z=a(177);u=a(293);da=a(625);W=a(624);c.prototype.mJa=function(){return this.wb.RN(!1);};c.prototype.EB=function(){return this.wb.EB();};c.prototype.DB=function(){return this.wb.DB();};c.prototype.PN=function(){return this.wb.PN();};c.prototype.YY=function(){return this.wb.YY();};c.prototype.Ab=function(){var a;a=this;this.log.trace("Video element initializing");this.wb.sourceBuffers.forEach(function(b){return a.Rf.pGb(b);});this.isb(this.j.dv);};c.prototype.isb=function(a){var f;function b(){function a(a){var b,c;a=void 0===a?!0:a;c=f.j.Ib&&f.j.Ib.Gga();f.j.Ob.value==D.kb.Yf&&f.j.state.value==D.ob.vd&&f.j.Bo.value==D.Xe.vd&&f.j.Sk.value==D.Xe.vd&&!f.j.qk&&c?(a&&f.wX.Hi(),f.wX.sB(),b="ensureTimer"):(f.wX.Hi(),b="stopTimer");f.log.trace("Timer update: "+b,{presentingState:f.j.Ob.value,playbackState:f.j.state.value,avBufferingState:f.j.Bo.value,textBufferingState:f.j.Sk.value,autoplayWasBlocked:f.j.qk,hasLicense:c,restartTimer:a});}r.config.iGa&&(I.lb(!f.wX),f.wX=h.$.get(Z.DK)(r.config.iGa,function(){var a;a=h.$.get(g.I4).ejb(f.j);f.md(a.code,a);}),f.j.Ob.addListener(function(){return a();}),f.j.Bo.addListener(function(){return a();}),f.j.Sk.addListener(function(){return a();}),f.j.state.addListener(function(){return a();}),f.j.addEventListener(D.V.QMa,function(){return a();}),f.j.addEventListener(D.V.qk,function(){return a();}),f.j.addEventListener(D.V.qba,function(){return a();}),f.j.addEventListener(D.V.KC,function(){return a(!0);}),a());}function c(){f.closed||(c=I.Upa,f.wb.addEventListener(V.ai.vQ,f.Vs[V.ai.vQ]=function(){return f.Wyb();}),f.wb.addEventListener(V.ai.Ho,f.Vs[V.ai.Ho]=function(){return f.S0();}),f.la.addEventListener("ended",f.Vs.ended=function(){return f.Hyb();}),f.la.addEventListener("play",f.Vs.play=function(){return f.Oyb();}),f.la.addEventListener("pause",f.Vs.pause=function(){return f.Myb();}),f.la.addEventListener("playing",f.Vs.playing=function(){return f.Pyb();}),f.yl=!0,f.j.nMa&&(f.Rf.toa(f.Za),f.log.trace("Video element initialization complete"),f.j.jd("vi"),r.config.xGa?setTimeout(function(){f.kka=!0;f.Rk();},r.config.xGa):f.kka=!0,b(),K.pc(function(){return f.Rk();})));}f=this;a?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.G}),this.j.Ib.SX(""+this.j.G));this.log.trace("Waiting for loadedmetadata");this.wb.addEventListener(V.ai.UMa,function(a){a=a.na;f.j.jd("ld",a);f.j.Ib.SX(""+a);f.j.fireEvent(D.V.QMa);});l.NCa(this.la,"loadedmetadata",function(){f.log.trace("Video element event: loadedmetadata");f.j.jd("md");});n.He.addListener(n.wl,this.DKa[n.wl]=function(){return f.close();},m.Pz);this.j.addEventListener(D.V.Af,function(){return f.close();},m.Pz);this.j.addEventListener(D.V.USa,function(){return f.oma();});this.j.addEventListener(D.V.Zo,function(){return f.Kyb();});this.j.paused.addListener(function(){return f.Rk();});this.j.muted.addListener(function(){return f.Goa();});this.j.volume.addListener(function(){return f.Goa();});this.j.playbackRate.addListener(function(){return f.p3();});this.j.Bo.addListener(function(){return f.Rk();});this.j.Sk.addListener(function(){return f.Rk();});this.Goa();this.p3();this.Rf.u2(function(){return f.h0();});this.h0();K.pc(function(){c();});};c.prototype.tW=function(a){var b;b=this;this.Rf.Qab(a);this.Hdb(a).then(function(){b.h0();b.j.fireEvent(D.V.g0);})["catch"](function(a){b.md(x.K.o3a,{sb:J.Ge(a)});});};c.prototype.$aa=function(a,b,c){c=void 0===c?{}:c;this.h0();this.Rf.Oab(a,b,c);this.AQa||a.type!==k.zc.Pi.VIDEO||(this.Hm.w_||this.seek(this.j.S,D.Be.Bz),this.AQa=!0);};c.prototype.h0=function(){this.yl?this.Rk():r.config.Pab&&this.Rf.toa(this.Za);};c.prototype.byb=function(){var a;a=this.j.HB()||0;this.j.Pa.dj?r.config.Ecb&&(a=Math.max(a-(this.wb.Dma+1)-r.config.Cma,this.j.Ib.fZ().oc)):(a-=r.config.YEb,a=Math.max(a,this.Hm.hia));this.seek(a,D.Be.AK);};c.prototype.P0=function(a){var b;b=this;this.Rf.rGb(a);K.pc(function(){return b.Rk();});};c.prototype.wob=function(){return{tX:this.tX,E0:this.E0};};c.prototype.Hdb=function(a){var b;b=this.wb&&this.wb.QJa();return this.j.xq&&void 0===this.Hka&&b&&Infinity!==a.jTa&&(a=a.jTa+a.Bm,a>this.j.xq.r1(t.ja)&&(this.j.xq=t.Gb(a)),a>b.r1(t.ja))?(this.Hka=b.scale(2),this.dCb()):Promise.resolve();};c.prototype.dCb=function(){var a;a=this;return new Promise(function(b,c){function f(){return h().then(function(a){if(!1===a)return f();});}function h(){return new Promise(function(b){setTimeout(function(){if(!a.Rf.vi())try{a.wb.cGb(a.Hka);a.Rf.Nna=!1;a.Hka=void 0;b(!0);}catch(xa){b(!1);}b(!1);},0);});}a.Rf.Nna=!0;f().then(function(){b();})["catch"](function(b){a.log.error("Unable to change the duration",b);c(b);});});};c.prototype.Vzb=function(){var a;a=this;this.Hm.f1&&this.Hba()&&this.Rf.jda(this.Za)&&(this.wb.seek(this.Za),this.Hm.f1=!1,K.pc(function(){return a.Rk();}));};c.prototype.lKb=function(a){var b;if(a<this.Za){b=this.Za-a;r.config.Xzb&&a&&b>p.gU&&(a={ElementTime:E.jh(a),MediaTime:E.jh(this.Za)},b>p.rxa?(this.log.error("VIDEO.currentTime became much smaller",a),this.md(x.K.z3a)):this.log.warn("VIDEO.currentTime became smaller",a));}else this.Za=E.Vm(a,0,this.j.xq.ca(t.ja));};c.prototype.Hba=function(){return this.j.Bo.value===D.Xe.vd&&this.j.Sk.value===D.Xe.vd;};c.prototype.Jeb=function(){var a,b,c;a=this;b=this.j.Ob.value;c=b;this.Hm.w_?c=D.kb.Yf:this.la&&this.la.ended?b===D.kb.Pc&&(c=D.kb.Vq):this.Hba()&&this.Rf.jda(this.Za)?this.wb.fjb()?c=this.la&&this.la.paused?D.kb.Ri:D.kb.Pc:this.yIb.Lc(function(){return a.xIb();}):c=this.j.xq?this.j.OKa(this.Za,this.Rf.sX())?D.kb.Yf:D.kb.Vq:D.kb.Yf;return c;};c.prototype.Ryb=function(){var a;if(this.j.Ob.value===D.kb.Yf){a=this.Rf.dJb()>this.Rf.sX();this.j.Sk.value!==D.Xe.vd?this.j.Bj.value?(this.j.fireEvent(D.V.lu,{cause:q.Awa}),this.log.warn("rebuffer due to timed text",this.j.Bj.value.Wg)):this.j.fireEvent(D.V.XI):a?(this.tX++,this.j.fireEvent(D.V.lu,{cause:q.S7})):(this.E0++,this.j.fireEvent(D.V.lu,{cause:q.T7}));}};c.prototype.xIb=function(){this.yi()||(r.config.eyb&&this.Rf.dyb(),this.Rk());};c.prototype.Wyb=function(){this.Rk();};c.prototype.S0=function(){this.Rk();this.j.fireEvent(D.V.Ho);};c.prototype.Hyb=function(){this.log.trace("Video element event: ended");this.Rk();};c.prototype.Oyb=function(){this.log.trace("Video element event: play");this.Rk();};c.prototype.Myb=function(){this.log.trace("Video element event: pause");this.Rk();};c.prototype.Pyb=function(){this.log.trace("Video element event: playing");this.Rk();};c.prototype.Goa=function(){this.yi()||(this.la&&this.la.volume!==this.j.volume.value&&(this.la.volume=this.j.volume.value),this.la&&this.la.muted!==this.j.muted.value&&(this.la.muted=this.j.muted.value));};c.prototype.p3=function(){!this.yi()&&this.la&&(this.la.playbackRate=this.j.playbackRate.value);};c.prototype.oma=function(){var a;a=this;this.yi()||!T.$b(this.la)||this.la.ended||!this.kka||!this.hJ&&void 0!==this.hJ||(this.log.trace("Calling play on element"),Promise.resolve(this.la.play()).then(function(){a.closed||(a.hJ=!1,a.Qka=!1,a.la.style.display=null,a.j.qk=!1,a.j.fireEvent(D.V.qba,{j:a.j}));})["catch"](function(b){"NotAllowedError"===b.name?(a.log.warn("Playback is blocked by the browser settings",b),a.j.qk=!0,a.closed||(a.Qka=!0,a.la.style.display="none",a.j.fireEvent(D.V.qk,{player:{play:function(){return a.oma();}}}))):a.closed||(a.hJ=!1,a.GQa||(a.GQa=!0,a.log.error("Play promise rejected",b)));}));};c.prototype.Kyb=function(){this.Hm.hia=this.j.HB()||0;};c.prototype.nma=function(){this.yi()||!T.$b(this.la)||this.la.ended||!this.kka||this.hJ&&void 0!==this.hJ||(this.log.trace("Calling pause on element"),this.la.pause(),this.hJ=!0);};c.prototype.vWa=function(a){this.j.Za.set(this.Za);a&&this.j.jmb();};c.prototype.seek=function(a,b,c,f){b=void 0===b?D.Be.st:b;c=void 0===c?this.j.Ma:c;f=void 0===f?!1:f;!this.yi()&&this.j.Ib&&(this.j.fireEvent(D.V.KC,{cause:b}),this.Hm.FP={time:a,cause:b,Ma:c,pmb:f},this.j.Ob.set(D.kb.Yf),this.Rk());};c.prototype.Wzb=function(){var a,b,c,f,h,l,n,q;if(this.Hm.FP&&!this.Rf.vi()){a=this.Hm.FP;b=a.time;c=a.cause;f=a.Ma;h=a.pmb;a=this.j.Pu(f).G;l=this.Hm.Uob(b,c,f,h);f=l.H0;h=l.si;n=l.HAb;l=l.ru;this.Rf.MEa(this.Za);q=this.Za;b=E.jh(b);this.j.xo("SEEKING: Requested: ("+a+":"+c+":"+b+") - Actual: (contentPts: "+h+","+("playerPts: "+n+", newMediaTime: "+f+")"));this.log.info("Seeking",{Requested:b,Actual:E.jh(f),Cause:c,Skip:l});c!==D.Be.Bz&&(this.Rf.ASa(),this.Rf.kGb());this.Za=f;this.Hm.hia=h;b=this.j.og.value;n=this.j.mf.value;this.j.og.set(null);this.j.mf.set(null);this.vWa(!0);this.Hm.FP=void 0;this.Hm.f1=!0;this.j.fireEvent(D.V.Cm,{lka:q,H0:f,si:h,cause:c,skip:l,og:b,mf:n,G:a});}};c.prototype.md=function(a,b,c){this.closed||this.j.md(a,b,c);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Rf.close();this.wb.removeEventListener(V.ai.vQ,this.hOa[V.ai.vQ]);this.wb.removeEventListener(V.ai.Ho,this.hOa[V.ai.Ho]);this.la.removeEventListener("ended",this.Vs.ended);this.la.removeEventListener("play",this.Vs.play);this.la.removeEventListener("pause",this.Vs.pause);this.la.removeEventListener("playing",this.Vs.playing);n.He.removeListener(n.wl,this.DKa[n.wl]);this.closed=!0;try{r.config.pxb&&(this.la.volume=0,this.la.muted=!0);this.nma();this.wb.close();}catch(N){}this.la=void 0;this.Rf.ASa();}};c.prototype.yi=function(){return this.closed?!0:T.$b(this.la)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.Uua=c;},function(d,b,a){var c,k,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Cwa=void 0;c=a(9);k=a(12);m=a(39);r=a(90);q=a(10);n=a(59);l=a(15);f=a(13);b.Cwa=function(a){var g,J,K,D,T,p;function b(){return a.state.value===f.ob.LOADING||a.state.value===f.ob.vd&&a.Ob.value===f.kb.Yf;}function h(){b()?p||(p=setInterval(d,100)):p&&(clearInterval(p),p=void 0,n.pc(d));}function d(){var c,h,n,d,x,F,I,E;c=m.Tg();h=g.value;n=h?h.wh:0;x=a.state.value==f.ob.LOADING||b()&&c-J>k.config.Rcb;x&&a.state.value==f.ob.vd?(a.dm.value===f.Xe.Ixa?(I=n,F=!0):(d=c+(a.Al&&a.Al.xrb()||0),K=K||c,D=D||K+k.config.Rwb+1,l.ma(d)&&(d=q.Pl(d,D),I=a.Al?a.Al.PVb():.99,I=q.Eh(1E3*r.Vm((c-K)/(d-K),0,I))/1E3)),I<n&&(n-I<k.config.PBb/100?(I=n,T=void 0):T?c-T>k.config.OBb?(E=!0,T=void 0):I=n:(T=c,I=n))):T=D=K=void 0;c=x?{K2:F,wh:I,QBb:E}:null;(!c||!g||!h||l.ma(c.wh)&&!l.ma(h.wh)||l.ma(c.wh)&&l.ma(h.wh)&&.01<q.Iz(c.wh-h.wh)||c.K2!==h.K2)&&g.set(c);}g=a.Jba;J=0;a.state.addListener(function(){h();d();},c.FT);a.Ob.addListener(function(a){if(a.oldValue!==f.kb.Yf||a.newValue!==f.kb.Yf)J=m.Tg();h();});a.dm.addListener(function(){h();});a.Bo.addListener(function(){h();});a.Sk.addListener(function(){h();});p||(p=setInterval(d,100));};},function(d,b,a){var n,l,f,h;function c(a,b,c,f,h){var l;l={};"right"==a.horizontalAlignment?l.right=100*(c-b.left-b.width-h)/c+"%":l.left=100*(b.left-h)/c+"%";"bottom"==a.verticalAlignment?l.bottom=100*(f-b.top-b.height-h)/f+"%":l.top=100*(b.top-h)/f+"%";return l;}function k(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function m(a,b,c,h,l){var n,q;n=a.style;q=f.jO(a.text);for(a=a.lineBreaks;a--;)q="<br />"+q;return r(q,n,b,c,h,l);}function r(a,b,c,f,d,r){var m;m=b.characterStyle;d=d[m];f=b.characterSize*f.height/((0<=m.indexOf("MONOSPACE")?k(d,b.cellResolution)||d.lineHeight:d.lineHeight)||1);f=0<r?h.jt(f*r):h.Eh(f);r={"font-size":f+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(r["font-style"]="italic");b.characterUnderline&&(r["text-decoration"]="underline");b.characterColor&&(r.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(r["background-color"]=q(b.backgroundColor,b.backgroundOpacity));f=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case l.a1:r["text-shadow"]=f+" 0px 0px 7px";break;case l.Aka:r["text-shadow"]="-1px 0px "+f+",0px 1px "+f+",1px 0px "+f+",0px -1px "+f;break;case l.jQa:r["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case l.hQa:r["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}r=n.cB(r);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(r+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+r+'">'+a+"</span>";}function q(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=b.Rkb=b.Pkb=b.Skb=b.Qkb=b.yHa=b.zHa=b.gea=void 0;n=a(43);l=a(209);f=a(21);h=a(10);b.gea=function(a,b,c,f,h){var l;l="";a.textNodes.forEach(function(a){l+=m(a,c,b,f,h);});return l;};b.zHa=function(a,b,l,n,q){var d,r,k,x,g;d="";r=q.width;q=q.height;for(var m=b.length;m--;){k=b[m];x=a[m];x=x&&x.region;g="position:absolute;background:"+n+";width:"+h.Eh(k.width+2*l)+"px;height:"+h.Eh(k.height+2*l)+"px;";f.zd(c(x,k,r,q,l),function(a,b){g+=a+":"+b+";";});d+='<div style="'+g+'"></div>';}return d;};b.yHa=c;b.Qkb=k;b.Skb=m;b.Pkb=r;b.Rkb=q;b.xHa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return n.cB(b);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.eWa=void 0;c=a(10);b.eWa=function(a,b){function d(a,b,h){var m,k,g,p;if(a&&1<a.length){for(var f=[],l=[],n=0;n<a.length;n++)f[n]=0,l[n]=0;for(var d=!1,n=0;n<a.length;n++)for(var r=n+1;r<a.length;r++){k=a[n];g=a[r];if(0>k.width||0>g.width||g.left>k.left+k.width||g.left+g.width<k.left||g.top>k.top+k.height?0:g.top+g.height>=k.top){m=c.Pl(k.left,g.left);p=c.Pl(k.top,g.top);m={width:c.Pl(c.Um(k.left+k.width,g.left+g.width)-m,0),height:c.Pl(c.Um(k.top+k.height,g.top+g.height)-p,0),x:m,y:p};}else m=void 0;if(m&&1<m.width&&1<m.height)if(p=m.width<=m.height,k=q(a[n]),g=q(a[r]),p&&b||!p&&!b)m=c.Pl(m.width/2,.25),k.x<=g.x?(l[n]-=m,l[r]+=m):(l[r]-=m,l[n]+=m);else if(p&&!b||!p&&b)k=c.Pl(m.height/2,.25),f[n]-=k,f[r]+=k;}for(n=0;n<a.length;n++){if(-.25>l[n]&&0<=a[n].left+l[n]||.25<l[n]&&a[n].left+a[n].width+l[n]<=h.width)a[n].left+=l[n],d=!0;if(-.25>f[n]&&0<=a[n].top+f[n]||.25<f[n]&&a[n].top+a[n].height+f[n]<=h.height)a[n].top+=f[n],d=!0;}return d;}}function q(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0>a.left&&a.left+a.width<b.width?a.left+=c.Um(-a.left,b.width-(a.left+a.width)):a.left+a.width>b.width&&0<a.left&&(a.left-=c.Um(a.left+a.width-b.width,a.left));0>a.top&&a.top+a.height<b.height?a.top+=c.Um(-a.top,b.height-(a.top+a.height)):a.top+a.height>b.height&&0<a.top&&(a.top-=c.Um(a.top+a.height-b.height,a.top));});}(a,b));for(var n=0;50>n&&d(a,!0,b);n++);for(n=0;50>n&&d(a,!1,b);n++);return a;};},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;c=a(22);k=a(297);m=a(296);r=a(10);q=a(21);d=function(){function a(a,b){this.Tea=a;this.pB={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=c.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.GTa(b);this.jIa=this.job(this.Tea);}a.prototype.Jn=function(){return this.element;};a.prototype.MFb=function(a){this.iba=a;};a.prototype.VFb=function(a){this.re=a;this.pI();};a.prototype.aGb=function(a){this.GTa(a);this.pI();};a.prototype.pI=function(){var b,f,h,n,q,d,r,g,K,D,T,t,S,A;b=this;f=this.Jn();h=f.parentElement;n=h&&h.clientWidth||0;q=h&&h.clientHeight||0;d=h=0;r={width:n,height:q};if(0<n&&0<q&&this.re){this.iba&&(r=c.EG(n,q,this.iba),h=Math.round((n-r.width)/2),d=Math.round((q-r.height)/2));g=this.mdb(r);D=c.EG(g.width,g.height,this.iba);g=(K=this.re.blocks)&&K.map(function(f){var h;h=m.gea(f,D,b.Tea,b.jIa);f=m.xHa(f)+";position:absolute";return c.createElement("div",f,h,a.z4);});}Object.assign(this.pB,{left:h+"px",right:h+"px",top:d+"px",bottom:d+"px"});f.style.display="none";f.style.direction=this.pB.direction;f.innerHTML="";if(g&&g.length){n=r.width;h=r.height;T=r;this.sM&&(T=this.C$a(r,this.sM,q,d));this.pB.margin=this.$o?this.MW(r,"top")+"px "+this.MW(r,"right")+"px "+this.MW(r,"bottom")+"px "+this.MW(r,"left")+"px ":void 0;g.forEach(function(a){return f.appendChild(a);});q=c.cB(this.pB);f.style.cssText=q+";visibility:hidden;z-index:-1";for(var d=[],p=g.length-1;0<=p;p--){t=g[p];S=K[p];A=this.bPa(t,S,n,h);A.width>n&&(t.innerHTML=m.gea(S,r,this.Tea,this.jIa,n/A.width),A=this.bPa(t,S,n,h));d[p]=A;}d=k.eWa(d,T);if(p=K&&K[0]&&K[0].textNodes&&K[0].textNodes[0]&&K[0].textNodes[0].style)T=p.windowColor,p=p.windowOpacity,T&&0<p&&(r=m.zHa(K,d,Math.round(h/50),T,r),r=c.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+p,r,a.z4),f.insertBefore(r,f.firstChild));f.style.display="none";for(r=d.length-1;0<=r;r--)T=g[r].style,p=m.yHa(K[r].region,d[r],n,h,0),Object.assign(T,p);f.style.cssText=q;}};a.prototype.cna=function(a){this.sM=a;this.pI();};a.prototype.uga=function(){return this.sM;};a.prototype.dna=function(a){this.$o=a;this.pI();};a.prototype.vga=function(){return this.$o;};a.prototype.wga=function(){return"block"===this.pB.display;};a.prototype.ena=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.pB.display=b;a&&this.pI();};a.prototype.job=function(a){var b,c;b=this;c={};q.zd(a,function(a,f){c[a]=b.kwb(f);});return c;};a.prototype.GTa=function(a){this.pB.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};a.prototype.MW=function(a,b){if(this.$o){if("left"===b||"right"===b)return a.width*(this.$o[b]||0);if("top"===b||"bottom"===b)return a.height*(this.$o[b]||0);}return 0;};a.prototype.mdb=function(a){return this.$o?{height:a.height*(1-(this.$o.top||0)-(this.$o.bottom||0)),width:a.width*(1-(this.$o.left||0)-(this.$o.right||0))}:a;};a.prototype.kwb=function(b){var f;b=c.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+b+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a.z4);r.ne.body.appendChild(b);f={fontSize:1E3,height:b.clientHeight,width:b.clientWidth/52,lineHeight:b.clientHeight/1E3};r.ne.body.removeChild(b);return f;};a.prototype.bPa=function(a,b,c,n){var f,h,l,q,r;f=b.region;h=(f.marginTop||0)*n;l=(f.marginBottom||0)*n;q=(f.marginLeft||0)*c;r=(f.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(f.verticalAlignment){case"top":n=h;break;case"center":n=(h+n-l-a)/2;break;default:n=n-l-a;}switch(f.horizontalAlignment){case"left":c=q;break;case"right":c=c-r-b;break;default:c=(q+c-r-b)/2;}return{top:n,left:c,width:b,height:a};};a.prototype.C$a=function(a,b,c,n){return{height:c-Math.max(n,b.bottom||0)-Math.max(n,b.top||0),width:a.width};};a.z4={"class":"player-timedtext-text-container"};return a;}();b.Pya=d;},function(d,b,a){var k,m,r,q,n,l,f;function c(a){var b,c,h,l;b=this;this.j=a;this.YM=void 0;this.Y9=r.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.P9=r.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.G9=r.createElement("DIV","width:100%;text-align:center");this.E5a=this.S9("Audio Bitrate");this.saa=this.S9("Video Bitrate");this.K9=this.S9("CDN");this.xL={};this.uZ=q.$.get(n.Yk);this.Y9.appendChild(this.P9);this.P9.appendChild(this.G9);c=r.createElement("BUTTON",void 0,"Override");c.addEventListener("click",this.w5a.bind(this),!1);this.G9.appendChild(c);c=r.createElement("BUTTON",void 0,"Reset");c.addEventListener("click",this.z9a.bind(this),!1);this.G9.appendChild(c);h=this.O8a.bind(this);m.He.addListener(m.by,h);a.addEventListener(f.V.Zo,function(){b.xL={};});a.addEventListener(f.V.Af,function(){m.He.removeListener(m.by,h);});l=this.l9a.bind(this);a.ic.forEach(function(a){a.addListener(l);});a.Rc.addListener(l);a.qg.addListener(l);}Object.defineProperty(b,"__esModule",{value:!0});b.Jwa=void 0;k=a(50);m=a(56);r=a(22);q=a(6);n=a(34);l=a(103);f=a(13);c.prototype.show=function(){this.RL||(this.SBa(),this.j.If.appendChild(this.Y9),this.RL=!0);};c.prototype.Qo=function(){this.RL&&(this.j.If.removeChild(this.Y9),this.RL=!1);};c.prototype.toggle=function(){this.RL?this.Qo():this.show();};c.prototype.kWa=function(){var c,f,l;function a(a,b,c){var f,h,l;l=[];b.filter(function(b){return b.bg===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===f?f=a.R:h=a.R,void 0===h&&(h=a.R)):void 0!==f&&void 0!==h&&(l.push({min:f,max:h}),f=h=void 0);});void 0!==f&&void 0!==h&&(l.push({min:f,max:h}),f=h=void 0);return l;}function b(a,b,c){var f;f=[];b.filter(function(b){return b.bg===a;}).forEach(function(a){-1===c.indexOf(a)&&f.push({stream:{bitrate:a.R},disallowedBy:["manual"]});});return f;}c=this.j.Dx();f=this.j.JB().sort(function(a,b){return a.R-b.R;});l=f.reduce(function(a,b){0>a.indexOf(b.bg)&&a.push(b.bg);return a;},[]).map(function(h){return{profile:h,ranges:a(h,f,c),disallowed:b(h,f,c)};});this.j.Ib.Uv(l,this.j.G);};c.prototype.w5a=function(){var c,f,a,b;this.xL={};for(var a=this.saa.options,b=a.length;b--;){c=a[b];c.selected&&(this.xL[c.value]=1);}this.YM=this.c6a.bind(this);this.kWa();if(a=this.j.Fj){f=this.K9.value;a=a.filter(function(a){return a.id==f;})[0];b=this.j.ic[k.zc.Na.VIDEO].value;a&&a!=b&&(a.CEa={testreason:"streammanager",selreason:"userselection"},this.j.ic[k.zc.Na.VIDEO].set(a));}this.Qo();};c.prototype.z9a=function(){this.YM=void 0;this.j.VTa(this.j.G);this.Qo();};c.prototype.c6a=function(){var a;a=this;return this.j.JB().filter(function(b){return a.xL[b.R];});};c.prototype.SBa=function(){var a,b,c,f;a=this;b=this.j.Rc.value;c=this.j.qg.value;f=this.j.Fj;b&&(f=f.slice(),f.sort(function(a,b){return a.Sf-b.Sf;}),this.caa(this.E5a,b.ec.map(function(b){return{value:b.R,caption:b.R,selected:b==a.j.ml.value};})));c&&(this.caa(this.saa,c.ec.map(function(b){var c,f;c=a.j.dP.Hs(b);b=b.R;f=""+b;c&&(f+=" ("+c.join("|")+")");return{value:b,caption:f,selected:a.YM?a.xL[b]:!c};})),this.saa.removeAttribute("disabled"));f&&(this.caa(this.K9,f.map(function(b){return{value:b.id,caption:"["+b.id+"] "+b.name,selected:b==a.j.ic[k.zc.Na.VIDEO].value};})),this.K9.removeAttribute("disabled"));};c.prototype.l9a=function(){this.RL&&this.SBa();};c.prototype.S9=function(a){var b,c;b=r.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=r.createElement("DIV",void 0,a);c=r.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);this.P9.appendChild(b);return c;};c.prototype.caa=function(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=r.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});};c.prototype.O8a=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==l.Xq.$3a&&this.uZ.Pha&&this.toggle();};b.Jwa=c;},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.wta=void 0;c=a(12);k=a(39);m=a(2);r=a(188);q=a(10);n=a(15);l=a(13);f=a(6);h=a(177);b.wta=function(a){var d,x,g,K;function b(){a.state.value!==l.ob.vd||a.Ob.value!==l.kb.Ri&&a.Ob.value!==l.kb.Vq?x.Hi():x.sB();}d=c.config.Lzb;if(!a.TB()&&d){x=f.$.get(h.DK)(d,function(){a.fireEvent(l.V.ZG,m.K.HT);});a.Ob.addListener(b);a.state.addListener(b);if(c.config.gha){K=k.Tg();g=new r.p8(c.config.gha,function(){var b,f;b=k.Tg();f=b-K;f>d&&(a.fireEvent(l.V.ZG,m.K.gT),g.hca());f>2*c.config.gha&&(a.hha=q.Pl(f,a.hha||0));K=b;});g.fna();}a.addEventListener(l.V.Af,function(){x.Hi();n.$b(g)&&g.hca();});}};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Usa=void 0;c=a(13);k=a(66);b.Usa=function(a){function b(b){a.fireEvent(c.V.Kx,{response:b,G:a.fa.G});}return{download:function(c,n){c.j=a;c=k.Te.download(c,n);c.Caa(b);return c;}};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Sya=void 0;c=a(22);d=function(){function a(a,b){var c;c=this;this.RJa=a;this.BPa=b;this.doa=!1;this.yv=function(){c.oj=void 0;c.update();};}a.prototype.update=function(a){var b,q,n;b=this.RJa();if(this.zWa!==b){c.$b(b)&&c.$b(this.duration)&&b<this.duration&&this.entries&&(n=this.VOa||this.entries[Math.floor(b*this.UIb)]||this.entries[0]);if(n){for(;n&&n.endTime<b;)n=n.next;for(;n&&n.previous&&n.previous.endTime>=b;)n=n.previous;}n&&(n.startTime<=b&&b<=n.endTime?(q=n,this.tWa(n.endTime-b)):this.tWa(n.startTime-b));this.VOa=n;this.zWa=b;this.Baa!==q&&(this.Baa=q,!a&&this.BPa&&this.BPa());}};a.prototype.start=function(){this.doa=!0;this.update();};a.prototype.HTa=function(a){this.VOa=this.Baa=this.zWa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(ea(a.map(function(a){return a.endTime;}))))||0;this.UIb=a&&a.length/this.duration||0;this.update();};a.prototype.stop=function(){this.doa=!1;this.Hi();};a.prototype.Qmb=function(){this.update(!0);return this.Baa;};a.prototype.tWa=function(b){this.Hi();this.doa&&0<b&&(this.oj=setTimeout(this.yv,b+a.y2a));};a.prototype.Hi=function(){this.oj&&(clearTimeout(this.oj),this.oj=void 0);};a.y2a=10;return a;}();b.Sya=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l6=void 0;b.l6="LicenseBrokerFactorySymbol";},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Cr=void 0;c=a(9);k=a(12);d=a(2);m=a(6);r=a(22);q=a(10);a=a(26);m.$.get(a.Kf).register(d.K.bta,function(a){var f,h,n;function l(){n&&clearTimeout(n);a(c.wd);l=r.Ye;}f=m.uh("BatteryManager");b.Cr={VYa:"chargingchange",FJa:function(){return h?h.level:null;},ufa:function(){return h?h.charging:null;},addEventListener:function(a,b){h&&h.addEventListener(a,b);},removeEventListener:function(a,b){h&&h.removeEventListener(a,b);}};if(k.config.FM){n=setTimeout(l,k.config.jnb);try{q.Qi.getBattery().then(function(a){h=a;l();})["catch"](function(a){f.error("getBattery promise rejected",a);l();});}catch(F){f.error("exception on getBattery api call",F);l();}}else l();});},function(d,b,a){var l,f,h,x,g,I,E,J;function c(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function k(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function m(a,b,f){var h;if("string"===typeof a)return m.call(this,c(a),b,f);h=0;Object.keys(a).forEach(function(c){var n,q,d;n=g[c];q=a[c];if(n){if(d=I[c]||J[typeof l[n]])try{q=d(q);}catch(ma){f&&f.error("Failed to convert value '"+q+"' for config '"+c+"' : "+ma.toString());return;}d=x[n];this[n]=q;x[n]!==d&&(f&&f.debug("Config changed for '"+c+"' from "+k(d)+" ("+typeof d+") to "+k(q)+" ("+typeof q+")"),++h);}else b?(n=(n=E[c])?n.filter(function(a){return a[0]!==this;},this):[],n.push([this,q]),E[c]=n):f&&f.error("Attempt to change undeclared config option '"+c+"'");},this);h&&x.emit("changed");return h;}function r(){return Object.keys(g).reduce(function(a,b){var c,f;c=g[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function q(a,b){return a.hasOwnProperty(b)?k(a[b]):void 0;}function n(a,b){return"undefined"===typeof a?b:a;}b=a(62);a=a(106).EventEmitter;l={};f=Object.create(l);h=Object.create(f);x=Object.create(h);g={};I={};E={};x.declare=function(a){Object.keys(a).forEach(function(b){var c,f,h,n;c=a[b];f=c[0];h=c[1];n=c[2];if(l.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var c;if(g.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");l.hasOwnProperty(b)||("function"===typeof h&&(h=h()),l[b]=h);g[a]=b;"function"===typeof n&&(I[a]=n);if(c=E[a])c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];m.call(c,f,!1);}),delete E[a];});});return x;};J={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};x.set=m.bind(f);x.VH=m.bind(h);x.dump=function(a,b){var d,m,F,J;function c(){J&&a&&a.log("===========================================");}d=Object.keys(E).sort();m={};F=r();b=n(b,!0);Object.keys(g).sort().forEach(function(d){var r,K,I;d=g[d];!m[d]&&(m[d]=!0,K=q(f,d),I=q(h,d),b||"undefined"!==typeof K||"undefined"!==typeof I)&&(r=F[d].join(","),r+=" = "+k(x[d])+" ("+typeof x[d]+") [",r+=n(I,"<unset>")+",",r+=n(K,"<unset>")+",",r+=q(l,d)+"]",J||(J=!0,a&&a.log("Current config values"),c()),a&&a.log(r));});(b||d.length)&&a&&a.log("<undeclared> :",d);c();};x.Go=function(a){var b,c;b={};c={};Object.keys(g).forEach(function(a){a=g[a];c[a]||(c[a]=!0,b[a]=x[a]);});a&&m.call(b,a);return b;};x.BQa=function(){var a;a=r();return Object.getOwnPropertyNames(f).reduce(function(b,c){b[a[c][0]]=f[c];return b;},{});};x.reset=function(){Object.keys(f).forEach(function(a){delete f[a];});};x.ln={};b(a,x);d.P=Object.freeze(x);},function(d,b,a){var k,m,r,q,n;function c(a){var b,c;b=q.platform;k.uh("MediaSourceASE").trace("Inside MediaSourceASE");c=a.Rfa();this.readyState=n.kc.CLOSED;this.sourceBuffers=c.sourceBuffers;this.addSourceBuffer=function(a){return c.addSourceBuffer(a);};this.pW=function(a){return c.pW(a);};this.removeSourceBuffer=function(a){return c.removeSourceBuffer(a);};this.Xp=function(a){return c.Xp(a);};this.sourceId=b.XN();b.qO();this.duration=void 0;c.KFb(this.sourceId);this.readyState=n.kc.OPEN;this.yc=m.$.get(r.uf).EH(n.yc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.Xua=void 0;k=a(6);m=a(6);r=a(25);q=a(50);Object.defineProperty(c.prototype,"duration",{get:function(){return this.wj;},set:function(a){var b;this.wj=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.wj=b;});}});n={kc:{CLOSED:0,OPEN:1,Vq:2,name:["CLOSED","OPEN","ENDED"]},yc:{cFa:!0,LOa:!0}};b.Xua=Object.assign(c,n);},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.HUa=void 0;c=a(308);k=a(6);m=a(443);r=a(25);b.HUa=function(a){a({da:!0,storage:new c.k6(k.$.get(m.m6),k.$.get(r.uf))});};},function(d,b){function a(a,b){this.Ar=a;this.Wc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.k6=void 0;a.prototype.load=function(b,d){var c;c=this;this.Ar.load(b).then(function(b){d&&d(a.SUa(b));})["catch"](function(a){d&&d(c.wG(b,a));});};a.prototype.save=function(b,d,m,r){var c;c=this;this.Ar.save(b,d,m).then(function(){r&&r(a.SUa({key:b,value:d}));})["catch"](function(a){r&&r(c.wG(b,a));});};a.prototype.remove=function(a,b){var c;c=this;this.Ar.remove(a).then(function(){b&&b({da:!0,R2:a});})["catch"](function(d){b&&b(c.wG(a,d));});};a.SUa=function(a){return{da:!0,data:a.value,R2:a.key};};a.prototype.wG=function(a,b){return{da:!1,R2:a,ga:b.ga,sb:b.cause?this.Wc.Ge(b.cause):void 0};};b.k6=a;},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.GUa=void 0;c=a(6);k=a(69);m=a(25);r=a(308);q=a(441);b.GUa=function(a){c.$.get(k.Qq).create().then(function(b){a({da:!0,storage:new r.k6(b,c.$.get(m.uf)),Io:c.$.get(q.O4)});})["catch"](function(b){a(b);});};},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.IUa=void 0;c=a(9);k=a(6);m=a(2);a(21);b.IUa=function(a){var b;k.uh("Storage");b={};a({da:!0,storage:{load:function(a,c){b.hasOwnProperty(a)?c({da:!0,data:b[a],R2:a}):c({ga:m.J.Hw});},save:function(a,c,f,h){f&&b.hasOwnProperty(a)?h({da:!1}):(b[a]=c,h&&h({da:!0,R2:a}));},remove:function(a,l){delete b[a];l&&l(c.wd);}}});};},function(d,b,a){var k,m,r,q,n,l,f,h,x,g,I,E,J,K,D,T,p,t,S,A,Z,u,da,W,N,ja,na,oa,za,O,xa,ga,ya,Da,la,Fa,db,B,hb;function c(a,b,c,f,l,n,q,d,m,F,J,T,Q,t,V,ja,O,ma,ga,Da,xa,za,db,B,Wa,hb,P,R){var aa,gb,ib,Mb;function Ma(a){a.newValue!==la.kb.Yf&&a.newValue!==la.kb.Ri&&(aa.Ob.removeListener(Ma),aa.aH=aa.za.s2,aa.Jb.Wb(la.V.Tn));}function lb(a){a.newValue!==la.kb.Yf&&(aa.Ob.removeListener(lb),aa.MQa=aa.za.gf.ca(Z.ja));}aa=this;this.XG=l;this.sa=q;this.EF=d;this.za=m;this.Tia=F;this.Uia=Q;this.V_=t;this.Cc=V;this.Di=ja;this.Tj=O;this.tx=ma;this.Rka=ga;this.Sia=Da;this.qoa=xa;this.Oh=za;this.Wc=db;this.Pka=B;this.Jk=Wa;this.R1=hb;this.AF=P;this.QW=R;this.RQa=[];this.aI={};this.Rc=new g.Oc(null);this.qg=new g.Oc(null);this.uc=new g.Oc(null);this.Bj=new g.Oc(null);this.Os=new g.Oc(void 0);this.tf=new g.Oc(null);this.ml=new g.Oc(null);this.Za=new g.Oc(void 0);this.playbackRate=new g.Oc(1);this.Aoa=function(a){return aa.Rc.set(a.newValue);};this.CKb=function(a){return aa.qg.set(a.newValue);};this.zKb=function(a){return aa.uc.set(a.newValue);};this.$Jb=function(a){return aa.Bj.set(a.newValue);};this.yKb=function(a){return aa.Os.set(a.newValue);};this.BKb=function(a){return aa.tf.set(a.newValue);};this.aKb=function(a){return aa.ml.set(a.newValue);};this.qKb=function(a){return aa.mf.set(a.newValue);};this.pKb=function(a){return aa.og.set(a.newValue);};this.kKb=function(a){return aa.Za.set(a.newValue);};this.p3=function(a){return aa.playbackRate.set(a.newValue);};this.Qn={};this.gma=this.ioa=0;this.Jb=new E.rj();this.LR={};this.gBa=0;this.AUa=!1;this.state=new g.Oc(la.ob.fE);this.yq=new g.Oc(!1);this.paused=new g.Oc(!1);this.muted=new g.Oc(!1);this.volume=new g.Oc(I.config.Bib/100);this.Ob=new g.Oc(la.kb.Yf);this.dm=new g.Oc(la.Xe.Dd);this.Bo=new g.Oc(la.Xe.Dd);this.Sk=new g.Oc(la.Xe.Dd);this.og=new g.Oc(null);this.mf=new g.Oc(null);this.Jba=new g.Oc(null);this.TZ=h.Usa(this);this.f0=[];this.ic=[];this.zba={};this.rN=this.iHa=!1;this.PHb=this.Ga=this.xh=-1;this.jga=function(a,b){a=void 0===a?null:a;return oa.ma(a)?b&&!aa.Pu(b).ya?a:aa.Ib?aa.Ib.Mr(void 0,a,b):a:null;};this.DPa=function(){aa.xna();};this.xRa=this.XG.dB();this.gB=a;this.addEventListener=this.Jb.addListener;this.removeEventListener=this.Jb.removeListener;this.fireEvent=this.Jb.Wb;l=I.config.ip&&this.Cc()?this.Cc().sZ(a):void 0;this.Jaa({na:a,Ma:f,Pa:c||{}},l,b);this.log=A.zg(this);this.wda=n(this);this.ecb=J(this);this.If=ya.createElement("DIV",x.n8,void 0,{id:this.G});this.hsb();gb=T(Z.eh(1));this.ge=this.log.Mca("Playback");this.sAb=r.wwa(this);D.nE.fxb=this;D.nE.Oea||(D.nE.Oea=this);this.ge.info("Playback created",this.Wg);this.Dia?this.ge.info("Playback selected for trace playback info logging"):this.ge.trace("Playback not selected for trace playback info logging");I.config.ip&&this.Cc()&&(this.Cc().Rqb(this.G),this.addEventListener(la.V.Tn,function(){aa.Cc().Sqb(aa.G);aa.uc.addListener(function(){aa.Cc().JKa();});aa.Rc.addListener(function(){aa.Cc().JKa();});}),this.addEventListener(la.V.Af,function(){aa.Cc().Qqb(aa.G);}));this.state.addListener(function(a){aa.ge.info("Playback state changed",{From:a.oldValue,To:a.newValue});W.lb(a.newValue>a.oldValue);});K.He.addListener(K.wl,this.DPa,x.FT);this.Za.addListener(function(){gb.Lc(function(){return aa.bIa();});});Mb=!1;this.paused.addListener(function(a){var b;b=aa.Ib;!a.$ja&&b&&(!0===a.newValue?b.paused&&b.paused():b.BR&&b.BR());a.newValue||(Mb=!1);aa.ge.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:N.jh(aa.Za.value)});});this.Ob.addListener(function(a){aa.ge.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:N.jh(aa.Za.value)},aa.tH());});this.Ob.addListener(function(){aa.yq.set(aa.Ob.value===la.kb.Pc);});this.dm.addListener(function(a){aa.ge.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:N.jh(aa.Za.value)},aa.tH());});this.Bo.addListener(function(a){aa.ge.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:N.jh(aa.Za.value)},aa.tH());});this.Sk.addListener(function(a){aa.ge.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:N.jh(aa.Za.value)},aa.tH());});this.Rc.addListener(function(a){W.lb(a.newValue);aa.ge.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.nl,To:a.newValue.$a},a.oldValue&&{FromBcp47:a.oldValue.nl,From:a.oldValue.$a},{MediaTime:N.jh(aa.Za.value)});});this.qg.addListener(function(){for(var a=aa.JB(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].prb=a[c+1];});this.uc.addListener(function(a){aa.ge.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.nl,To:a.newValue.$a}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.nl,From:a.oldValue.$a}:{From:"none"},{MediaTime:N.jh(aa.Za.value)});});this.ic[k.zc.Na.AUDIO]=new g.Oc(null);this.ic[k.zc.Na.VIDEO]=new g.Oc(null);this.Ob.addListener(lb,x.Pz);this.Ob.addListener(Ma);this.addEventListener(la.V.Tn,function(){var a,b,c,f;aa.AUa=!0;aa.rHb=aa.Pba();aa.jd("start");a=aa.mf.value;b=M._cad_global.prefetchEvents;if(b){c=Z.Gb(aa.Ln?aa.Ln.audio:0);f=Z.Gb(aa.Ln?aa.Ln.video:0);b.Am(aa.G,aa.ia,"notcached"!==aa.pu,"notcached"!==aa.yx,!!aa.Ln,c,f);}aa.f_=a.stream.R;});S.Cwa(this);D.Xm.push(this);I.config.iQ&&(this.l1=this.Pka(this),this.m1=new p.Jwa(this));D.X7.forEach(function(a){a(aa);});this.lab=function(a){aa.addEventListener(la.V.KC,function(b){b=b.cause;b!==la.Be.Bz&&b!==la.Be.Wz&&a.stop();});aa.addEventListener(la.V.Cm,function(b){var c,f,h,l,n,q,d;aa.R1.Cm(b);c=b.cause;f=b.skip;h=b.H0;l=b.lka;n=b.G;b=b.si;aa.fa.zm.Xxb(l,h);if(c!==la.Be.Wz&&(I.config.imb&&c===la.Be.AK&&aa.Lm.CM(),c!==la.Be.Bz))if(f)if(a.ru(h)){aa.ge.trace("Repositioned. Skipping from "+l+" to "+h);c=function(a){aa.log.error("streamingSession.skipped threw an exception",a);a=Fa.vc.GY(u.K.DXa,a);aa.Un(a.code,a);};try{q=a.mj(h);q?q.then(function(b){b.bH||a.play();})["catch"](c):a.play();}catch(Nc){c(Nc);}}else aa.log.error("can skip returned false");else{aa.ge.trace("Repositioned. Seeking from "+l+" to "+h);try{d=aa.km(n).Ma;a.Ry(b,aa.EJa(d),d);}catch(Nc){aa.log.error("streamingSession.seekByContentPts threw an exception",Nc);h=Fa.vc.GY(u.K.BXa,Nc);aa.Un(h.code,h);}}});a.addEventListener("maxPosition",function(a){var b,c;b=Z.Gb(a.maxPts);c=Z.Gb(a.maxSeekPts);if(a=aa.Jv[a.index])a.Lr=b,a.awb=c;aa.xq||(aa.xq=b);});a.addEventListener("segmentStarting",function(a){aa.fireEvent(la.V.eFb,a);});a.addEventListener("lastSegmentPts",function(a){aa.fireEvent(la.V.aFb,a);});a.addEventListener("segmentPresenting",function(a){aa.fireEvent(la.V.k2,a);});a.addEventListener("segmentAborted",function(a){aa.fireEvent(la.V.ZEb,a);});a.addEventListener("manifestPresenting",function(a){aa.ENa({G:parseInt(a.movieId),u1:a.previousMovieId?parseInt(a.previousMovieId):void 0,QB:!1});});a.addEventListener("skip",function(a){aa.fireEvent(la.V.mj,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(aa.ge.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),aa.ge.trace("StreamingFailure, buffer status:"+JSON.stringify(aa.tH())),na.pc(function(){aa.md(u.K.CXa,{ga:a.nativeCode,sb:a.errormsg,$i:a.httpCode,C0:a.networkErrorCode});}));});a.addEventListener("maxvideobitratechanged",function(a){aa.f0.push(a);});a.addEventListener("bufferingStarted",function(){aa.Bo.set(la.Xe.Dd);});a.addEventListener("locationSelected",function(a){aa.fireEvent(la.V.gs,a);});a.addEventListener("serverSwitch",function(a){var b;aa.fireEvent(la.V.CI,a);"video"===a.mediatype?b=k.zc.Na.VIDEO:"audio"===a.mediatype&&(b=k.zc.Na.AUDIO);oa.$b(b)&&aa.QFb(a.server,b);});a.addEventListener("bufferingComplete",function(b){aa.ge.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},aa.tH());aa.Co=b;aa.Bo.set(la.Xe.vd);ib||(ib=!0,aa.jd("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.CPa();I.config.Jzb&&!aa.paused.value&&(Mb=!0,aa.paused.set(!0,{$ja:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){aa.paused.value&&Mb&&(Mb=!1,aa.paused.set(!1,{$ja:!0}));aa.fj.byb();});a.addEventListener("asereportenabled",function(){aa.rN=!0;});a.addEventListener("asereport",function(a){aa.fireEvent(la.V.CF,a);});a.addEventListener("aseexception",function(a){aa.fireEvent(la.V.BF,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=oa.ma(aa.jf)?0:aa.jf;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});aa.Tga={NDb:c,yrb:a.hptwbr,lLa:a.htwbr,e1:a.pbtwbr};a.rr&&(aa.Tga.RSa=a.rr);a.ra&&(aa.Tga.lCb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;aa.Ga=a.location.bandwidth;aa.xh=a.location.httpResponseTime;aa.PHb=a.stat.streamingBitrate;b&&(void 0===aa.UA&&(aa.UA={interval:I.config.TA,startTime:b.startTime,hu:[],gw:[]}),aa.UA.hu=aa.UA.hu.concat(b.hu),aa.UA.gw=aa.UA.gw.concat(b.gw));a.psdConservCount&&(aa.vRa=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+aa.G&&(aa.Ln=a);});a.addEventListener("startEvent",function(a){M._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&M._cad_global.prefetchEvents.BM(da.Ae.dk.MEDIA,aa.G);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.SF&&a.SF.cadmiumResponse;b&&aa.fireEvent(la.V.Kx,{response:b,G:aa.Pu(a.Ma).G});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===k.zc.Na.VIDEO?(c=aa.VKa(a.streamId),b=aa.tf):a.mediaType===k.zc.Na.AUDIO&&(c=aa.MKa(a.streamId),b=aa.ml);c&&b?b.set(c,{REa:a.movieTime,$bb:a.bandwidth}):aa.ge.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=aa.Qn[a.target];c=oa.ma(aa.jf)?aa.jf:0;b||(b=aa.Qn[a.target]={});Object.keys(a.fields).forEach(function(f){var h,l,n,q;h=a.fields[f];if("object"!==typeof h||null===h)b[f]=h;else{l=h.type;if("count"===l)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==h.value)if("array"===l){l=b[f];n=h.adjust;q=h.value;l||(l=b[f]=[]);n&&0<n.length&&n.forEach(function(a){q[a]-=c||0;});l.push(q);}else"sum"===l?(void 0===b[f]&&(b[f]=0),b[f]+=h.value):b[f]=h.value;else b[f]=h;}});}});};this.Rc.addListener(function(a){var b,c,f,h;if(aa.Ib)if(a.Fx&&a.Fx.cDa)aa.ge.trace("Not processing already applied track",null===(b=a.newValue)||void 0===b?void 0:b.$a);else{h=a.newValue;aa.Ib.$Ua({PA:h.OB,toJSON:function(){return h.Wg;}})?aa.ge.trace("ASE accepted the audio track switch",null===(f=a.newValue)||void 0===f?void 0:f.$a):(aa.ge.trace("ASE rejected the audio track switch",null===(c=a.newValue)||void 0===c?void 0:c.$a),a.oldValue.OB!==h.OB&&aa.Rc.set(a.oldValue,{cDa:!0}));}});this.addEventListener(la.V.lu,function(a){a.cause==D.T7&&(aa.dm.set(la.Xe.Dd),aa.Ib.fWa(aa.fj.mJa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.Ewa=void 0;k=a(50);m=a(196);r=a(195);q=a(121);n=a(304);l=a(630);f=a(629);h=a(301);x=a(9);g=a(191);I=a(12);E=a(74);J=a(300);K=a(56);D=a(57);T=a(79);p=a(299);t=a(626);S=a(295);A=a(6);Z=a(3);u=a(2);da=a(116);W=a(17);N=a(90);ja=a(21);na=a(59);oa=a(15);za=a(146);O=a(294);xa=a(112);ga=a(189);ya=a(22);Da=a(102);la=a(13);Fa=a(45);db=a(194);B=a(292);hb=a(131);c.prototype.jd=function(a,b){b=void 0===b?this.gB:b;this.aI[b].jd(a);};c.prototype.Uu=function(a){this.fa.Uu(a);};c.prototype.hsb=function(){var a;a=this;this.Rc.addListener(function(b){return a.fa.Rc.set(b.newValue);});this.qg.addListener(function(b){return a.fa.qg.set(b.newValue);});this.uc.addListener(function(b){return a.fa.uc.set(b.newValue);});this.Bj.addListener(function(b){return a.fa.Bj.set(b.newValue);});this.Os.addListener(function(b){return a.fa.Os.set(b.newValue);});this.tf.addListener(function(b){return a.fa.tf.set(b.newValue);});this.ml.addListener(function(b){return a.fa.ml.set(b.newValue);});this.mf.addListener(function(b){return a.fa.mf.set(b.newValue);});this.og.addListener(function(b){return a.fa.og.set(b.newValue);});this.Za.addListener(function(b){return a.fa.Za.set(b.newValue);});this.playbackRate.addListener(function(b){return a.fa.playbackRate.set(b.newValue);});this.NSa();};c.prototype.NSa=function(){this.fa!==this.Ima&&(this.fa.Za.set(this.Za.value),this.fa.playbackRate.set(this.playbackRate.value),this.Pq(function(a){return a.Rc;},this.Aoa),this.Pq(function(a){return a.qg;},this.CKb),this.Pq(function(a){return a.Os;},this.yKb),this.Pq(function(a){return a.uc;},this.zKb),this.Pq(function(a){return a.Bj;},this.$Jb),this.Pq(function(a){return a.tf;},this.BKb),this.Pq(function(a){return a.ml;},this.aKb),this.Pq(function(a){return a.og;},this.pKb),this.Pq(function(a){return a.mf;},this.qKb),this.Pq(function(a){return a.Za;},this.kKb),this.Pq(function(a){return a.playbackRate;},this.p3),this.uc.set(this.fa.uc.value),this.Rc.set(this.fa.Rc.value,{cDa:!0}),this.qg.set(this.fa.qg.value),this.Bj.set(this.fa.Bj.value),this.Os.set(this.fa.Os.value),this.tf.set(this.fa.tf.value),this.ml.set(this.fa.ml.value),this.Ima=this.fa);};c.prototype.Pq=function(a,b){this.Ima&&a(this.Ima).removeListener(b);a(this.fa).addListener(b);};c.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.TQa=a;if(this.state.value==la.ob.fE){this.ge.info("Playback loading",this);this.Sxb();this.jd("asl_load_start");a=this.EF;c=a.endTime;oa.$b(a.startTime)?oa.$b(c)?this.jd("asl_ended"):this.jd("asl_in_progress"):this.jd("asl_not_started");this.EF.NO(function(a){b.jd("asl_load_complete");a.da?b.Xgb():b.Un(a.errorCode||u.K.$sa,a);});}};c.prototype.UAb=function(){var a;try{if(this.state.value===la.ob.LOADING){a={width:1,height:1,Paa:1};this.JB().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height,a.Paa=b.Paa);});this.iJ=a;this.SA=this.tx.VCa({sD:Z.Gb(this.S),G:this.G,IP:this.Lr,Pa:this.Pa}).ca(Z.ja);this.eba();this.Ohb();}}catch(lb){this.Un(u.K.j1a,{ga:u.J.ih,sb:ja.Ge(lb)});}};c.prototype.Jaa=function(a,b,c){var f,h,l;b=void 0===b?this.XG.dB():b;c=void 0===c?this.sa.Zb():c;f=!!I.config.SWa&&!(b%I.config.SWa);h=a.na;l=a.Ma;a=a.Pa;b=this.Rka(D.nE.index++,h,l,a,b,c,f,this.fa,this.jga);this.aI[h]=b;1<this.Jv.length&&(b.hv=this.V_.create(this,b,!1));b.dP=new T.Zua(this,b);return h;};c.prototype.EJa=function(a){return a?void 0:0;};c.prototype.km=function(a){return this.aI[a];};c.prototype.Pu=function(a){return this.Jv.find(function(b){return b.Ma===a;})||this.fa;};c.prototype.kpb=function(a){return this.Jv.find(function(b){var c,f;return(null===(f=null===(c=b.Bf)||void 0===c?void 0:c.Ktb)||void 0===f?void 0:f.sessionId)===a;})||this.fa;};c.prototype.fCb=function(a,b){var c,f;b=void 0===b?!0:b;c=this;f=this.km(a);return this.pTa(f).then(function(a){var h;if(!c.Ib)throw new Fa.vc(u.K.o7,u.J.vXa);c.mRa(a,f);a=[f.cc.nGa,f.cc.tGa];h=!1;try{h=!!c.Ib.ICa(f.ya.Nf,{rJb:a,replace:!1,S:f.Pa.S,oa:f.Pa.oa,BC:!0,Yi:!f.dv,PDa:b,Dr:c.Qca(f.G),Lrb:!0},f.Ma);}catch(hf){throw Fa.vc.GY(u.K.o7,hf);}if(!h)throw new Fa.vc(u.K.o7,u.J.wXa);return f.dv?c.wb.Rj.sSa(f):Promise.resolve();})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.Di(a.code,a);});};c.prototype.anb=function(){if(oa.ma(this.sd.ats)&&oa.ma(this.sd.at))return this.sd.at-this.sd.ats;};c.prototype.OIa=function(){var a,b;a=this.JR();b=this.eM();return Math.min(a,b);};c.prototype.VQ=function(){this.background||(this.ge.info("Starting inactivity monitor for movie "+this.G),new J.wta(this));};c.prototype.close=function(a){a&&(this.state.value==la.ob.CLOSED?a():this.addEventListener(la.V.closed,function(){a();}));this.xna();};c.prototype.md=function(a,b,c,f){a=this.Di(a,b,c);this.ZA(a,f);};c.prototype.ZA=function(a,b){var c,f,h;c=this;if(this.state.value==la.ob.fE)this.aj||(this.aj=a,this.load());else{b&&(this.state.value==la.ob.CLOSED?b():this.addEventListener(la.V.closed,function(){b();}));f=function(){c.xna(a);};h=I.config.wGa&&a&&I.config.wGa[a.errorCode];oa.cv(h)&&(h=ja.Md(h));this.ge.error("Fatal playback error",{Error:""+a,HandleDelay:""+h});0<=h?setTimeout(f,h):f();}};c.prototype.wR=function(){this.Jb.Wb(la.V.wR);};c.prototype.xo=function(a,b){b=void 0===b?this.Ma:b;this.RQa.push(this.sa.Zb().ca(Z.ja)+"-"+b+"-"+a);};c.prototype.jmb=function(){this.bIa();};c.prototype.aga=function(){var a;a=this.Ib;return a&&(a=a.gZ(),void 0!==a)?a:null;};c.prototype.HB=function(){return void 0!==this.fa.bX&&void 0===this.Ib?this.fa.bX:this.jga(this.Za.value,this.Ma);};c.prototype.$fa=function(){var a;a=this.jga(this.fj.mJa());return null===a?null:Math.min(this.Lr.ca(Z.ja),Math.max(0,a));};c.prototype.RY=function(){var a,b;return null===(b=null===(a=this.ya)||void 0===a?void 0:a.Nf.uu)||void 0===b?void 0:b.Wa;};c.prototype.nKb=function(a){this.Pa=xa.wja(this.Pa,a);this.eba();};c.prototype.JB=function(a){a=void 0===a?this.G:a;return(a=this.km(a).qg)&&a.value?a.value.ec:[];};c.prototype.Yqb=function(a){for(var b=R(this.Jv),c=b.next();!c.done;c=b.next())if(c=(c=c.value.Fj)&&c.find(function(b){return b.id===a;}))return c;};c.prototype.gBb=function(a){a=void 0===a?this.fa:a;a.uc.value?this.$n.eBb(a.uc.value):Promise.resolve();};c.prototype.MKa=function(a){for(var b=R(this.Jv),c=b.next();!c.done;c=b.next())for(var c=R(c.value.vn),f=c.next();!f.done;f=c.next())if(f=f.value.ec.find(function(b){return b.pd===a;}))return f;};c.prototype.VKa=function(a){for(var b=R(this.Jv),c=b.next();!c.done;c=b.next())for(var c=R(c.value.Rm),f=c.next();!f.done;f=c.next())if(f=(f=f.value)&&f.ec.find(function(b){return b.pd===a;}))return f;};c.prototype.Dx=function(){var a,b,c;return null!==(c=null===(b=null===(a=this.m1)||void 0===a?void 0:a.YM)||void 0===b?void 0:b.call(a))&&void 0!==c?c:this.LFa().Nc;};c.prototype.VTa=function(a){var b;this.Ib&&this.km(a)&&((null===(b=this.m1)||void 0===b?0:b.YM)?this.m1.kWa():(b=this.Qca(a),this.Ib.Uv(b,a)));};c.prototype.utb=function(){return"trailer"===this.ke;};c.prototype.RLa=function(){return!!this.ke&&0<=this.ke.indexOf("billboard");};c.prototype.ytb=function(){return!!this.ke&&0<=this.ke.indexOf("video-merch");};c.prototype.$sb=function(){return!!this.ke&&0<=this.ke.indexOf("mini-modal");};c.prototype.TB=function(){return this.utb()||this.RLa()||this.ytb()||this.$sb();};c.prototype.wfa=function(){var h;if(this.Rm){for(var a,b=0;b<this.Rm.length;b++)for(var c=this.Rm[b],f=0;f<c.ec.length;f++){h=c.ec[f];oa.ma(h.Rca)&&oa.ma(h.nX)&&oa.ma(h.mX)&&oa.ma(h.lX)&&(0<h.Rca||0<h.nX)&&(h=h.lX/h.mX,a=oa.ma(a)?Math.min(a,h):h);}return a;}};c.prototype.Dpb=function(){return{tr:this.ioa,rt:this.gma};};c.prototype.Ou=function(a){return this.Qn[a];};c.prototype.cdb=function(){return this.Uk?this.sa.Zb().ca(Z.ja)-this.Uk:this.za.gf.ca(Z.ja)-this.MY();};c.prototype.Pba=function(){var a;if(this.Uk)return this.sa.Zb().ca(Z.ja)-this.Uk;a=this.sa.XB;return this.MQa-(this.Kk.ca(Z.ja)+a.ca(Z.ja));};c.prototype.hdb=function(){return this.Uk?this.sa.Zb().ca(Z.ja)-this.Uk:this.MQa-this.MY();};c.prototype.Jxb=function(a){var b,c;b=this.jf;c={};ja.zd(a,function(a,f){c[a]=f.map(function(a){return a-b;});});return c;};c.prototype.knb=function(){var a,b;a=this.jf;b={};ja.zd(this.zba,function(c,f){b[c]=f.map(function(b){return b-a;});});return n.Cr?{level:n.Cr.FJa(),charging:n.Cr.ufa(),statuses:b}:null;};c.prototype.rZ=function(){this.aIa();return this.LR;};c.prototype.MY=function(){var a;a=this.Pa.k3;a=oa.ma(a)?a:this.Kk.ca(Z.ja)+this.sa.XB.ca(Z.ja);W.lb(oa.bv(a));return a;};c.prototype.fga=function(){return this.sa.Zb().ca(Z.ja)-this.Kk.ca(Z.ja);};c.prototype.wGb=function(){this.LR.HasRA=!0;};c.prototype.GLb=function(){this.XGb=!0;};c.prototype.O0=function(){this.cSa();};c.prototype.JR=function(){var a;a=this.wW();return a&&a.vbuflmsec||0;};c.prototype.eM=function(){var a;a=this.wW();return a&&a.abuflmsec||0;};c.prototype.Ooa=function(){var a;a=this.wW();return a&&a.vbuflbytes||0;};c.prototype.jba=function(){var a;a=this.wW();return a&&a.abuflbytes||0;};c.prototype.pTa=function(a){var b,c,f,h;a=void 0===a?this.fa:a;b=this;c=I.config.z1.enabled?Da.gk.m8:this.TB()?Da.gk.iU:Da.gk.Ym;c={ia:a.ia,Pa:a.Pa,na:a.G,Lu:c};f=a.G!==this.fa.G;h=this.sa.Zb().ca(Z.ja);return this.Sia.te(this.log,c).then(function(a){var c;c=b.sa.Zb().ca(Z.ja);f&&(a.My=h,a.MC=c);return a;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.mRa=function(a,b){b=void 0===b?this:b;b.ya=a;a=this.Tia.create(this).Cka(a);b.cc=a;b.qg.set(a.nda);b.Rc.set(a.xX);b.uc.set(a.mda);};c.prototype.nIa=function(a,b){this.ENa({G:a,u1:this.gB,QB:void 0===b?!1:b});};c.prototype.Aqb=function(a,b){this.km(a.na)||this.Jaa(a);this.nIa(a.na,!0);this.ZA(b);};c.prototype.OKa=function(a,b){if(!this.Tj.u3)return!0;a=this.xq.ca(Z.ja)-a;return 0>a||a>b;};c.prototype.ENa=function(a){var b,c;if(a.u1){if(a.G===this.gB)return;b=this.km(a.G);c=b.ya;c&&oa.$b(c.My)&&oa.$b(c.MC)&&b.Uu({pr_ats:c.My,pr_at:c.MC});this.fireEvent(la.V.qH,{G:this.gB});this.gB=a.G;this.eba();a.QB||this.NSa();this.aH=this.za.s2;this.fa.Uk||(this.fa.Uk=this.sa.Zb().ca(Z.ja));}("boolean"===typeof this.Pa.sG?this.Pa.sG:I.config.sG)&&!a.QB&&this.qoa.sG(this);this.fireEvent(la.V.Zo,a);};c.prototype.Xgb=function(){try{this.PM=new db.Vqa(this);this.hv=this.V_.create(this,this.fa,!0);I.config.vdb&&new B.nsa(this,this.Oh,this.log);I.config.FM&&this.FM(this);this.kLb();}catch(Ma){this.Un(u.K.i1a,{ga:u.J.ih,sb:ja.Ge(Ma)});}};c.prototype.kLb=function(){this.aj?this.ZA(this.aj):oa.Iha(this.G)?this.Sdb():this.Un(u.K.W0a,{sb:""+this.G});};c.prototype.Sdb=function(){var a;a=m.dD.BTa;a?a.da?this.kca():this.Un(u.K.sta,a):(W.lb(!I.config.bY),this.zaa());};c.prototype.kca=function(){var a;a=this;!this.background&&I.config.kca?D.W7(function(){a.zaa();},this):this.zaa();};c.prototype.zaa=function(){var a;a=this;this.state.value==la.ob.LOADING&&(I.config.eea&&!this.TB()?m.dD.JA(D.Bwa,function(b){b.da?(a.T_=b.T_,I.config.q2?a.lM():a.Nma()):a.Un(u.K.rta);},!0):I.config.q2?this.lM():this.Nma());};c.prototype.Nma=function(){var a;a=this;this.state.value==la.ob.LOADING&&(this.jd("ic"),this.sAb.pFb(function(b){b.error&&a.log.error("Error sending persisted playdata",u.Dp(b));try{a.lM();}catch(gb){a.log.error("playback.authorize threw an exception",gb);a.Un(u.K.NXa,{ga:u.J.ih,sb:ja.Ge(gb)});}}));};c.prototype.lM=function(){var a,b;a=this;if(this.state.value==la.ob.LOADING){this.log.info("Authorizing",this);b=this.sa.Zb().ca(Z.ja);this.jd("ats");this.PM.lM(function(c){var f;if(a.state.value==la.ob.LOADING){a.jd("at");f=a.ya;a.Uu({pr_ats:f&&oa.$b(f.My)?f.My:b,pr_at:f&&oa.$b(f.MC)?f.MC:a.sa.Zb().ca(Z.ja)});c.da?0<a.cc.Fj.length&&a.cc.xX&&a.cc.nda&&a.cc.mda?a.JBb():a.Un(u.K.P1a,a.Uia(a.cc)):a.Un(u.K.MANIFEST,c);}});}};c.prototype.JBb=function(){var a;a=this;this.TQa?(this.log.info("Processing post-authorize",this),this.TQa(this,function(b){b.da?a.oWa():a.Un(u.K.n1a,b);})):this.oWa();};c.prototype.oWa=function(){var b,c,f,h;b=this;if(this.state.value==la.ob.LOADING){c={};this.Lm=q.ll;I.config.hmb&&this.Lm.CM();q.Zc.set(a(155)(I.config),!0,A.uh("ASE"));q.Zc.set({maxNumberTitlesScheduled:I.config.XQa?I.config.XQa.maxNumberTitlesScheduled:1},!0,this.ge);I.config.kfb&&3E5>this.ya.Nf.duration?q.Zc.VH({expandDownloadTime:!1},!0,this.ge):q.Zc.VH({expandDownloadTime:q.Zc.BQa().expandDownloadTime},!0,this.ge);this.background||I.config.VAb&&"postplay"===this.ke?q.Zc.VH({initBitrateSelectorAlgorithm:"historical"},!0,this.ge):q.Zc.VH({initBitrateSelectorAlgorithm:q.Zc.BQa().initBitrateSelectorAlgorithm},!0,this.ge);h=this.qg&&this.qg.value&&this.qg.value.ec;h&&h.length&&(f=h[0].bg);q.Zc.VH(I.vca(this.Pa.dj,this.Pa.x_,f),!0,this.ge);c=this.Wc.EH(c,I.wca(this.ke));this.RHb=q.Zc.Go(c);k.platform.events.emit("networkchange",this.cc.JFb);this.Lm.o3({XN:function(){return b.XN();},qO:function(){return b.qO();}});this.UAb();}};c.prototype.Ohb=function(){var a,b,c,h,n;a=this;try{this.wb=new l.Qua(this);this.wb.open();b=new Promise(function(b){a.wb.addEventListener(ga.ai.pUa,b);});this.fj=new O.Uua(this);c={Cf:!1,eJ:I.config.eJ,t3:I.config.XX,RO:!1,Yi:!this.dv,BC:!!this.Pa.x_,oa:this.Pa.oa,wLb:this.cc.xX.Qm===hb.cn.NONE};h={xC:this.log,Al:this.Al,sessionId:this.G+"-"+this.ia,ia:this.ia,tC:this.uk,Jh:za.Ih?za.Ih.Jh:void 0,Jx:0===I.config.mN||0!==this.ia%I.config.mN?!1:!0};this.iHa=h.Jx;n=this.km(this.G).Ma;this.Ib=this.Lm.Bn(this.ya.Nf,[this.cc.nGa,this.cc.tGa],this.S,c,h,void 0,{Ld:function(){return a.Za.value;},No:function(){return a.playbackRate.value;},Rfa:function(){return a.wb;}},this.RHb,this.Qca(this.G),n);this.lab(this.Ib);b.then(function(){a.state.value!==la.ob.CLOSING&&a.state.value!==la.ob.CLOSED&&a.Ib.open();});this.Za.set(this.S);this.$n=new f.Qya(this);if("boolean"===typeof this.Pa.N1?this.Pa.N1:I.config.N1)this.pR=new t.Rya(this);this.VQ();D.Y7.forEach(function(b){b(a);});this.Rxb();}catch(ib){this.Un(u.K.k1a,{ga:u.J.ih,sb:ja.Ge(ib)});}};c.prototype.Sxb=function(){W.lb(this.state.value==la.ob.fE);this.jf=this.sa.Zb().ca(Z.ja);this.state.set(la.ob.LOADING);M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.AAb(this.G);};c.prototype.Un=function(a,b){this.done||(this.done=!0,b instanceof Fa.vc?this.md(b.code,b):this.md(a,b));};c.prototype.FM=function(a){var c,f;function b(){var b,f;b=n.Cr.ufa()+"";f=a.zba[b];f||(f=a.zba[b]=[]);f.push(c.sa.Zb().ca(Z.ja));c.log.trace("charging change event",{level:n.Cr.FJa(),charging:n.Cr.ufa()});}c=this;f=n.Cr.VYa;n.Cr.addEventListener(f,b);a.addEventListener(la.V.Af,function(){n.Cr.removeEventListener(f,b);});};c.prototype.xna=function(a){var b;b=this;if(this.state.value==la.ob.fE||this.state.value==la.ob.LOADING||this.state.value==la.ob.vd){this.ge.info("Playback closing",this,a?{ErrorCode:a.JX}:void 0);this.xo("Closing");K.He.removeListener(K.wl,this.DPa);this.aj=a;this.aIa();this.Ib&&this.Ib.flush();try{this.Jb.Wb(la.V.Af,{movieId:this.gB});}catch(gb){this.ge.error("Unable to fire playback closing event",gb);}this.state.set(la.ob.CLOSING);this.fa.bX=this.HB();this.AXa();this.XGb||na.pc(function(){return b.cSa();});}};c.prototype.bIa=function(){var a;a=this.Za.value;this.fub!=a&&(this.fub=a,this.Jb.Wb(la.V.Xna));};c.prototype.cSa=function(){var a,b;a=this;W.lb(this.state.value==la.ob.CLOSING);b=this.T_;this.T_=void 0;b?m.dD.release(b,function(b){W.lb(b.da);a.qca();}):this.qca();};c.prototype.AXa=function(){this.Ib&&(this.Ib.close(),this.Ib.mc());this.Lm&&this.aj&&this.Lm.CM();delete this.Ib;delete this.Lm;};c.prototype.qca=function(){var a;this.qca=x.Ye;W.lb(this.state.value==la.ob.CLOSING);a=D.Xm.indexOf(this);W.lb(0<=a);D.Xm.splice(a,1);this.state.set(la.ob.CLOSED);this.Jb.Wb(la.V.closed,void 0,!0);this.Jb.xg();delete this.Bf;this.fa.O0();};c.prototype.eba=function(){this.Pa.playbackState&&("number"===typeof this.Pa.playbackState.volume&&this.volume.set(N.Vm(this.Pa.playbackState.volume,0,1)),"boolean"===typeof this.Pa.playbackState.muted&&this.muted.set(this.Pa.playbackState.muted),"number"===typeof this.Pa.playbackState.playbackRate&&this.playbackRate.set(N.Vm(this.Pa.playbackState.playbackRate,0,2)));};c.prototype.aIa=function(){this.Jb.Wb(la.V.cUa,{LR:this.LR});};c.prototype.QFb=function(a,b){var c;c=this.Fj.filter(function(b){return b.id===a;})[0];c&&this.ic[b].set(c);};c.prototype.tH=function(){return{AudioBufferLength:this.eM(),VideoBufferLength:this.JR()};};c.prototype.wW=function(){if(this.Ib)return this.Ib.j_(!1);};c.prototype.XN=function(){return this.gBa;};c.prototype.qO=function(){this.gBa++;};c.prototype.Rxb=function(){this.state.value==la.ob.LOADING&&this.state.set(la.ob.vd);};c.prototype.LFa=function(a){var b,c;a=void 0===a?this.G:a;b=void 0;c=this.km(a);a=this.JB(a).filter(function(a){var f;f=c.dP.Hs(a);f&&(b=b||[],b.push({stream:a,IX:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].prb=a[f+1];return{Nc:a,ojb:b};};c.prototype.Qca=function(a){var b,c,f,h,l,n,q;a=void 0===a?this.G:a;b=this.LFa(a);c=b.Nc;f=b.ojb;h=[];this.JB(a).forEach(function(a){-1==h.indexOf(a.bg)&&h.push(a.bg);});l=null;n=null;c.forEach(function(a){null===l?n=l=a.R:n<a.R?n=a.R:l>a.R&&(l=a.R);});q=[];h.forEach(function(a){var b;b={ranges:[],profile:a};l&&n&&(b.ranges.push({min:l,max:n}),f&&(b.disallowed=f.filter(function(b){return b.stream.bg===a;}).map(function(a){return{stream:{bitrate:a.stream.R},disallowedBy:a.IX};})),q.push(b));});return q;};qa.Object.defineProperties(c.prototype,{Jv:{configurable:!0,enumerable:!0,get:function(){var a;a=this;return Object.keys(this.aI).map(function(b){return a.aI[b];});}},fa:{configurable:!0,enumerable:!0,get:function(){return this.aI[this.gB];}},nMa:{configurable:!0,enumerable:!0,get:function(){return 1===this.Jv.length;}},S:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.SA?this.SA:this.Jv[0].Pa.S||0;}},cc:{configurable:!0,enumerable:!0,get:function(){return this.fa.cc;},set:function(a){this.fa.cc=a;}},yY:{configurable:!0,enumerable:!0,get:function(){return this.fa.Pa.yY;}},zY:{configurable:!0,enumerable:!0,get:function(){return this.fa.Pa.zY;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fa.index;}},Ma:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ma;}},Bf:{configurable:!0,enumerable:!0,get:function(){return this.fa.Bf;},set:function(a){this.fa.Bf=a;}},Uk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Uk;},set:function(a){this.fa.Uk=a;}},pu:{configurable:!0,enumerable:!0,get:function(){return this.fa.pu;},set:function(a){this.fa.pu=a;}},yx:{configurable:!0,enumerable:!0,get:function(){return this.fa.yx;},set:function(a){this.fa.yx=a;}},f_:{configurable:!0,enumerable:!0,get:function(){return this.fa.f_;},set:function(a){this.fa.f_=a;}},ya:{configurable:!0,enumerable:!0,get:function(){return this.fa.ya;},set:function(a){this.fa.ya=a;}},SA:{configurable:!0,enumerable:!0,get:function(){return this.fa.SA;},set:function(a){this.fa.SA=a;}},hR:{configurable:!0,enumerable:!0,get:function(){return this.fa.hR;},set:function(a){this.fa.hR=a;}},Pa:{configurable:!0,enumerable:!0,get:function(){return this.fa.Pa;},set:function(a){this.fa.Pa=a;}},hv:{configurable:!0,enumerable:!0,get:function(){return this.fa.hv;},set:function(a){this.fa.hv=a;}},zm:{configurable:!0,enumerable:!0,get:function(){return this.fa.zm;}},G:{configurable:!0,enumerable:!0,get:function(){return this.fa.G;}},ke:{configurable:!0,enumerable:!0,get:function(){return this.fa.ke;}},vn:{configurable:!0,enumerable:!0,get:function(){return this.fa.vn;}},Rm:{configurable:!0,enumerable:!0,get:function(){return this.fa.Rm;}},ew:{configurable:!0,enumerable:!0,get:function(){return this.fa.ew;}},Tk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Tk;}},ng:{configurable:!0,enumerable:!0,get:function(){return this.fa.ng;}},dv:{configurable:!0,enumerable:!0,get:function(){return this.fa.dv;}},Dq:{configurable:!0,enumerable:!0,get:function(){return this.fa.Dq;}},xk:{configurable:!0,enumerable:!0,get:function(){return this.fa.xk;}},Fj:{configurable:!0,enumerable:!0,get:function(){return this.fa.Fj;}},s1:{configurable:!0,enumerable:!0,get:function(){return this.fa.s1;}},Lr:{configurable:!0,enumerable:!0,get:function(){return this.fa.Lr;},set:function(a){this.fa.Lr=a;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.fa.ia;}},Wh:{configurable:!0,enumerable:!0,get:function(){return this.fa.Wh;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Kk;}},aH:{configurable:!0,enumerable:!0,get:function(){return this.fa.aH;},set:function(a){this.fa.aH=a;}},uk:{configurable:!0,enumerable:!0,get:function(){return this.fa.uk;}},TC:{configurable:!0,enumerable:!0,get:function(){return this.fa.TC;}},background:{configurable:!0,enumerable:!0,get:function(){return this.fa.background;},set:function(a){this.fa.background=a;}},Wca:{configurable:!0,enumerable:!0,get:function(){return this.fa.Wca;}},sd:{configurable:!0,enumerable:!0,get:function(){return this.fa.sd;}},xn:{configurable:!0,enumerable:!0,get:function(){return this.fa.xn;}},Nda:{configurable:!0,enumerable:!0,get:function(){return this.fa.Nda;}},dP:{configurable:!0,enumerable:!0,get:function(){return this.fa.dP;}},Wg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.G,TrackingId:this.Wh,Xid:this.ia};}}});b.Ewa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t8=void 0;b.t8="RepositionTraceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b8=void 0;b.b8="PlaybackInfoPanelFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a4=void 0;b.a4="BandwidthMeterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dn=void 0;d=b.dn||(b.dn={});d[d.CT=0]="NOT_LOADED";d[d.LOADING=1]="LOADING";d[d.LOADED=2]="LOADED";d[d.bK=3]="LOAD_FAILED";d[d.Cva=4]="PARSE_FAILED";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z8=void 0;b.Z8="TrickPlayManagerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M7=void 0;b.M7="PboRequestFactorySymbol";},function(d,b,a){var l,f;function c(a){return!(!a||!a.uC&&!a.pboc||!a.code&&!a.code);}function k(a){return!(!a||!a.ed);}function m(a){return!!(a instanceof Error);}function r(a){switch(a){case"ACCOUNT_ON_HOLD":return f.J.R2a;case"STREAM_QUOTA_EXCEEDED":return f.J.V2a;case"INSUFFICICENT_MATURITY":return f.J.X2a;case"TITLE_OUT_OF_WINDOW":return f.J.c3a;case"CHOICE_MAP_ERROR":return f.J.U2a;case"BadRequest":return f.J.Z2a;case"Invalid_SemVer_Format":return f.J.Y2a;case"RESTRICTED_TO_TESTERS":return f.J.b3a;case"AGE_VERIFICATION_REQUIRED":return f.J.S2a;case"BLACKLISTED_IP":return f.J.T2a;case"DEVICE_EOL_WARNING":return f.J.l7;case"DEVICE_EOL_FINAL":return f.J.Dva;case"INCORRECT_PIN":return f.J.Hva;case"MOBILE_ONLY":return f.J.a3a;case"MDX_CONTROLLER_CTICKET_INVALID":return f.J.$2a;case"VIEWABLE_RESTRICTED_BY_PROFILE":return f.J.d3a;case"RESET_DEVICE":return f.J.Gva;case"RELOAD_DEVICE":return f.J.Fva;case"EXIT_DEVICE":return f.J.Eva;default:return f.J.Bsa;}}function q(a,b){return new l.vc(a,r(b.code),"BadRequest"===b.code?f.fT.wYa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function n(a,b){return new l.vc(a,b.ed,b.sh,void 0,b.rs,b.message,b.hG,b.data);}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=b.lEa=b.ymb=b.Cmb=b.ul=b.Bmb=b.AO=b.Isb=b.fMa=void 0;l=a(45);f=a(2);b.fMa=c;b.Isb=k;b.AO=m;b.Bmb=r;b.ul=function(a,b){return k(b)?n(a,b):c(b)?q(a,b):m(b)?l.vc.GY(a,b):new l.vc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,b);};b.Cmb=q;b.ymb=n;b.lEa=function(a,b,c,f,l){var h,n,q,d;h=b.xTa[c];if(void 0===h)throw{uC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};n=h.version;if(void 0===n)throw{uC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};q=b.dH&&h.serviceNonMember?h.serviceNonMember:h.service;if(void 0===q)throw{uC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};d=h.orgOverride;if(void 0===d&&(d=b.SPa,void 0===d))throw{uC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return h.isPlayApiDirect?a.gpb(f)+"/"+d+"/"+q+"/"+n:a.Zob(f)+"/"+d+"/"+q+"/"+n+"/"+(void 0===l?"router":l);};b.kEa=function(a,b){var c;c={"Content-Type":"text/plain"};b=b();a.QCa&&b&&(c["X-Esn"]=b.Jh);return c;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F8=b.X6=b.X8=void 0;b.X8="TransportFactorySymbol";b.X6="MslTransportSymbol";b.F8="SslTransportSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y7=void 0;b.y7="PboDispatcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N6=void 0;b.N6="MediaRequestConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O6=b.i7=void 0;b.i7="OpenConnectSideChannelSymbol";b.O6="MediaRequestDownloaderSymbol";},function(d,b,a){var g,I,E;function c(a,b,c){this.type=a;this.size=b;this.Cx=c;}function k(a){var b,f,h,l,n;a:{b=a.position;if(8<=a.vl()){f=a.Ra();h=a.Bs(4);if(!I.test(h))throw a.seek(b),Error("mp4-badtype");if(1==f){if(8>a.vl()){a.seek(b);b=void 0;break a;}f=a.Dg();}if(!(8<=f))throw a.seek(b),Error("mp4-badsize");if("uuid"==h){if(16>a.vl()){a.seek(b);b=void 0;break a;}h=a.Ky();}b={type:h,offset:b,size:f,Cx:b+f-a.position};}else b=void 0;}if(b&&b.Cx<=a.vl()){l=b.type;f=b.size;n=b.Cx;h=new c(l,f,n);l=E[l];if(a.vl()<n)throw Error("mp4-shortcontent");l?(n=new g(a.xe(n)),l(h,n)):a.skip(n);a.seek(b.offset);h.raw=a.xe(f);return h;}}function m(a,b){for(var c=[],f={},h,l;0<b.vl();){h=k(b);if(!h)throw Error("mp4-badchildren");l=h.type;c.push(h);f[l]||(f[l]=h);}a.children=c;a.Kea=f;}function r(a,b){a.version=b.Bc(1);a.hf=b.Bc(3);}function q(a,b){b.skip(6);a.Yhb=b.Pb();b.skip(8);a.channelCount=b.Pb();a.RC=b.Pb();b.skip(4);a.sampleRate=b.Pb();b.skip(2);m(a,b);}function n(a,b){var c;b.skip(6);a.Yhb=b.Pb();b.skip(16);a.width=b.Pb();a.height=b.Pb();a.iWb=b.Ra();a.AZb=b.Ra();b.skip(4);a.umb=b.Pb();c=b.nf();a.Ieb=b.Bs(c);b.skip(31-c);a.depth=b.Pb();b.skip(2);m(a,b);}function l(a,b){r(a,b);a.PUb=b.Bc(3);a.QUb=b.nf();a.fs=b.xe(16);}function f(a,b){for(var c=[],f;b--;)f=a.Pb(),c.push(a.xe(f));return c;}function h(a){var b;b=a.xe(2);a={DYb:b[1]>>1&7,CYb:!!(b[1]&1),vYb:a.Pb()};x(a,(b[0]<<8|b[1])>>4);return a;}function x(a,b){a.wYb=b>>4&3;a.BYb=b>>2&3;a.zYb=b&3;return a;}g=a(651);I=/^[a-zA-Z0-9-]{4,4}$/;c.prototype.Vx=function(a){var b,c,f,h,l;b=this;a=a.split("/");for(h=0;h<a.length&&b;h++){f=a[h].split("|");c=void 0;for(l=0;l<f.length&&!c;l++)c=f[l],c=b.Kea&&b.Kea[c];b=c;}return b;};c.prototype.toString=function(){return"["+this.type+"]";};E={ftyp:function(a,b){a.PWb=b.Bs(4);a.pXb=b.Ra();for(a.Beb=[];4<=b.vl();)a.Beb.push(b.Bs(4));},moov:m,sidx:function(a,b){r(a,b);a.lYb=b.Ra();a.$na=b.Ra();a.Qda=1<=a.version?b.Dg():b.Ra();a.Nea=1<=a.version?b.Dg():b.Ra();b.skip(2);for(var c=b.Pb(),f=[],h,l;c--;){h=b.Ra();l=h>>31;if(0!==l)throw Error("mp4-badsdix");h&=2147483647;l=b.Ra();b.skip(4);f.push({size:h,duration:l});}a.mYb=f;},moof:m,mvhd:function(a,b){var c;r(a,b);c=1<=a.version?8:4;a.Hh=b.Bc(c);a.modificationTime=b.Bc(c);a.$na=b.Ra();a.duration=b.Bc(c);a.C1=b.cQ();a.volume=b.F1();b.skip(70);a.AXb=b.Ra();},pssh:function(a,b){var c;r(a,b);a.Mjb=b.Ky();c=b.Ra();a.data=b.xe(c);},trak:m,mdia:m,minf:m,stbl:m,stsd:function(a,b){r(a,b);b.Ra();m(a,b);},encv:n,avc1:n,hvcC:n,hev1:n,mp4a:q,enca:q,"ec-3":q,avcC:function(a,b){a.version=b.nf();a.QTb=b.nf();a.gYb=b.nf();a.PTb=b.nf();a.GWb=(b.nf()&3)+1;a.MYb=f(b,b.nf()&31);a.WXb=f(b,b.nf());},pasp:function(a,b){a.cWb=b.Ra();a.yZb=b.Ra();},sinf:m,frma:function(a,b){a.KUb=b.Bs(4);},schm:function(a,b){r(a,b);a.JEb=b.Bs(4);a.GYb=b.Ra();a.hf&1&&(a.FYb=b.Bla());},schi:m,tenc:l,mvex:m,trex:function(a,b){r(a,b);a.$a=b.Ra();a.zib=b.Ra();a.dG=b.Ra();a.rGa=b.Ra();a.qGa=h(b);},traf:m,tfhd:function(a,b){var c;r(a,b);a.$a=b.Ra();c=a.hf;c&1&&(a.STb=b.Dg());c&2&&(a.yYb=b.Ra());c&8&&(a.dG=b.Ra());c&16&&(a.rGa=b.Ra());c&32&&(a.qGa=h(b));},saio:function(a,b){r(a,b);a.hf&1&&(a.Ubb=b.Ra(),a.Vbb=b.Ra());for(var c=1<=a.version?8:4,f=b.Ra(),h=[];f--;)h.push(b.Bc(c));a.VSa=h;},mdat:function(a,b){a.data=b.xe(b.vl());},tkhd:function(a,b){var c;r(a,b);c=1<=a.version?8:4;a.Hh=b.Bc(c);a.modificationTime=b.Bc(c);a.$a=b.Ra();b.skip(4);a.duration=b.Bc(c);b.skip(8);a.iub=b.Pb();a.Iab=b.Pb();a.volume=b.F1();b.skip(2);b.skip(36);a.width=b.cQ();a.height=b.cQ();},mdhd:function(a,b){var c;r(a,b);c=1<=a.version?8:4;a.Hh=b.Bc(c);a.modificationTime=b.Bc(c);a.$na=b.Ra();a.duration=b.Bc(c);c=b.Pb();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){r(a,b);a.LYb=b.Ra();},tfdt:function(a,b){r(a,b);a.oM=b.Bc(1<=a.version?8:4);8==b.vl()&&b.skip(8);},saiz:function(a,b){r(a,b);a.hf&1&&(a.Ubb=b.Ra(),a.Vbb=b.Ra());for(var c=b.nf(),f=b.Ra(),h=[];f--;)h.push(c||b.nf());a.AYb=h;},trun:function(a,b){var c,f;r(a,b);c=b.Ra();f=a.hf;f&1&&(a.MUb=b.Ra());f&4&&(a.CVb=h(b));for(var l=[],n;c--;)n={},f&256&&(n.duration=b.Ra()),f&512&&(n.size=b.Ra()),f&1024&&(n.hf=b.Ra()),f&2048&&(n.BUb=b.Ra()),l.push(n);a.mp=l;},sdtp:function(a,b){r(a,b);for(var c=[];0<b.vl();)c.push(x({},b.nf()));a.mp=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){r(a,b);a.fileSize=b.Dg();a.$na=b.Dg();a.duration=b.Dg();a.zPa=b.Dg();a.QYb=b.Dg();1<=a.version&&(a.vXb=b.Dg(),a.wXb=b.Ra(),a.APa=b.Dg(),a.eIa=b.Ra(),a.RHa=b.Ky());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){r(a,b);a.hf&1&&(a.ITb=b.Bc(3),a.CWb=b.nf(),a.Qtb=b.Ky());a.uYb=b.Ra();a.Tbb=b.xe(b.vl());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){r(a,b);a.R0=b.Ra();a.kN=b.Pb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":l,"636F6D2E-6E65-7466-6C69-782E6974726B":m,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){r(a,b);a.DF=b.Ky();a.Hh=b.Dg();a.G=b.Dg();a.Ik=b.Dg();a.a2=b.Pb();a.b2=b.Pb();a.Ttb=b.xe(16);a.hIb=b.xe(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){r(a,b);a.fUb=b.xe(b.vl());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;r(a,b);a.cFb=b.Dg();c=b.Ra();a.Wa=[];for(var f=0;f<c;f++)a.Wa.push({duration:b.Ra(),size:b.Pb()});},"636F6D2E-6E65-7466-6C69-782E69736567":m,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;r(a,b);a.DF=b.Ky();a.duration=b.Ra();c=b.Ra();a.mp=[];for(var f=0;f<c;f++)a.mp.push({Kj:b.Ra(),duration:b.Ra(),Y0:b.Pb(),Z0:b.Pb(),F2:b.Pb(),G2:b.Pb(),cs:b.Dg(),YG:b.Ra()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,f,l,n;r(a,b);c=b.Ra();f=b.nf();a.mp=[];for(var h=0;h<c;h++){l=b.nf();n=l>>6;l=l&63;0!=n&&0===l&&(l=f);a.mp.push({rHa:n,hH:b.xe(l)});}}};d.P={jYb:function(a,b){a=new g(a);b&&a.seek(b);return k(a);},zla:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new g(a);c=[];for(b&&a.seek(b);b=k(a);)c.push(b);return c;}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s4=void 0;b.s4="ChunkMediaSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M6=void 0;b.M6="MediaHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.i8=void 0;b.i8="PrefetchEventsConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n9=void 0;b.n9="WindowUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e7=void 0;b.e7="NfCryptoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p6=void 0;b.p6="LogDisplayConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X4=b.Y4=void 0;b.Y4="DxManagerSymbol";b.X4="DxManagerProviderSymbol";},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.BK=b.CD=b.vqa=b.uqa=b.tqa=void 0;c=a(0);k=a(1);m=a(25);r=a(23);q=a(674);n=a(10);b.tqa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.uqa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.vqa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.CD="";d=function(){var f;function a(a,b,c){this.kd=a;this.is=b;this.prefix=c;this.SP=this.Pn=!1;this.nEa=new q.Xya(b);}a.prototype.show=function(){this.Pn||(this.Veb(),this.TF&&n.ne.body.appendChild(this.TF),this.If&&n.ne.body.appendChild(this.If),this.rM&&n.ne.body.appendChild(this.rM),this.eD&&n.ne.getElementsByTagName("head")[0].appendChild(this.eD),this.Pn=!0,this.refresh());};a.prototype.Qo=function(){this.Pn&&(this.If&&n.ne.body.removeChild(this.If),this.rM&&n.ne.body.removeChild(this.rM),this.TF&&n.ne.body.removeChild(this.TF),this.eD&&n.ne.getElementsByTagName("head")[0].removeChild(this.eD),this.eD=this.jR=this.TF=this.rM=this.If=void 0,this.Pn=!1);};a.prototype.toggle=function(){this.Pn?this.Qo():this.show();};a.prototype.mJb=function(){(this.SP=!this.SP)||this.refresh();};a.prototype.rnb=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};a.prototype.Veb=function(){var a;a=this;this.eD=n.ne.createElement("style");this.eD.type="text/css";this.eD.innerHTML=this.rnb(this.prefix);this.rM=this.kd.createElement("div",b.tqa,void 0,{"class":this.prefix+"-display-blur"});this.If=this.kd.createElement("div",b.uqa,void 0,{"class":this.prefix+"-display"});this.TF=this.kd.createElement("div",b.vqa,void 0,{"class":this.prefix+"-display"});this.ZIa().forEach(function(b){return a.TF.appendChild(b);});};a.prototype.Yeb=function(a){a=this.kd.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(K){}}else b.add("open");}});return a;};a.prototype.refresh=function(){var a;a=this;return!this.Pn||this.SP?Promise.resolve():this.$Ra().then(function(b){if(b&&(b=a.Yeb(b),a.If)){a.jR&&(a.If.removeChild(a.jR),a.jR=void 0);a.jR=b;a.If.appendChild(a.jR);b=a.If.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.PSa);(b=a.If.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};f=a;return f=c.__decorate([k.N(),c.__param(0,k.l(m.uf)),c.__param(1,k.l(r.Le)),c.__param(2,k.Xh())],f);}();b.BK=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W4=void 0;b.W4="DxDisplaySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A7=b.KT=void 0;b.KT={CO:"keepAlive",splice:"splice"};b.A7="PboEventSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c8=void 0;b.c8="PlaydataConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.x7=void 0;b.x7="PboCachedPlaydataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C7=void 0;b.C7="PboLicenseRequestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L7=void 0;b.L7="PboReleaseLicenseCommandSymbol";},function(d,b,a){var q,n,l,f,h,x;function c(a){var b;a=new l.D4(a);if(1481462272!=a.Ra())throw Error("Invalid header");b={XMR:{Version:a.Ra(),RightsID:a.Hf(16)}};k(a,b.XMR,a.buffer.length);return b;}function k(a,b,c){var f,h,l,n,q;for(;a.position<c;){f=a.Pb();h=a.Ra();h=h-8;switch(f){case 1:l="OuterContainer";break;case 2:l="GlobalPolicy";break;case 3:l="MinimumEnvironment";break;case 4:l="PlaybackPolicy";break;case 5:l="OutputProtection";break;case 6:l="UplinkKID";break;case 7:l="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:l="AnalogVideoOutputConfiguration";break;case 9:l="KeyMaterial";break;case 10:l="ContentKey";break;case 11:l="Signature";break;case 12:l="DeviceIdentification";break;case 13:l="Settings";break;case 18:l="ExpirationRestriction";break;case 42:l="ECCKey";break;case 48:l="ExpirationAfterFirstPlayRestriction";break;case 50:l="PlayReadyRevocationInformationVersion";break;case 51:l="EmbeddedLicenseSettings";break;case 52:l="SecurityLevel";break;case 54:l="PlayEnabler";break;case 57:l="PlayEnablerType";break;case 85:l="RealTimeExpirationRestriction";break;default:l="Other";}n={Type:m(f)};q=b[l];q?x.isArray(q)?q.push(n):(b[l]=[],b[l].push(q),b[l].push(n)):b[l]=n;switch(f){case 1:case 2:case 4:case 7:case 9:case 54:k(a,n,a.position+h);break;case 5:n.Reserved1=a.Pb();n.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Pb();n.MinimumAnalogVideoOutputProtectionLevel=a.Pb();n.Reserved2=a.Pb();n.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Pb();break;case 10:n.Reserved=a.Hf(16);n.SymmetricCipherType=a.Pb();n.AsymmetricCipherType=a.Pb();h=a.Pb();n.EncryptedKeyLength=h;f=a.Hf(h);n.EncryptedKeyData=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 11:n.SignatureType=a.Hf(2);h=a.Pb();f=a.Hf(h);n.SignatureData=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 13:n.Reserved=a.Pb();break;case 18:n.BeginDate=a.Ra();n.EndDate=a.Ra();break;case 42:n.CurveType=a.Hf(2);h=a.Pb();f=a.Hf(h);n.Key=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 48:n.ExpireAfterFirstPlay=a.Ra();break;case 50:n.Sequence=a.Ra();break;case 51:n.LicenseProcessingIndicator=a.Pb();break;case 52:n.MinimumSecurityLevel=a.Pb();break;case 57:n.PlayEnablerType=r(a.Hf(16));break;case 85:break;default:n.OtherData=a.Hf(h);}}}function m(a){return"0x"+a.toString(16);}function r(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.nib=b.oib=b.mib=b.lib=b.kib=void 0;q=a(9);n=a(6);l=a(205);f=a(123);h=a(208);x=a(15);b.kib=function(a,b,l){switch(b){case q.BS:a&&(a=n.TDa(a),h.Yoa(a,function(a){a.da&&(a=a.object)&&(a=f.dJa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=f.pQa(a))&&(a=n.Op(a))&&(a=c(a))&&l(a);}));}};b.lib=c;b.mib=k;b.oib=m;b.nib=r;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v7=void 0;b.v7="PboAcquireLicenseCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q5=void 0;b.Q5="HttpRequesterSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o5=void 0;b.o5="FtlDataParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d7=void 0;b.d7="NetworkMonitorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p9=void 0;b.p9="XhrFactorySymbol";},function(d,b,a){var c,k,m,r,q,n,l,f,h,x;Object.defineProperty(b,"__esModule",{value:!0});b.yra=void 0;c=a(0);k=a(153);m=a(75);r=a(21);q=a(2);n=a(17);l=a(10);f=a(15);h=a(1);x=a(14);d=function(){var b;function a(a){this.config=a;}a.prototype.construct=function(a,b){var c,f,h;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});h=[];r.zd(f,function(a,f){h.push(c.qqb(f,b));});return{urls:h};};a.prototype.qqb=function(a,b){var c,h,l,n;c=this;h=a[0];l={url:h.url,bitrate:h.R,cdnid:f.Ue(h.ic)?h.ic.id:h.ic,dltype:h.vjb,id:h.pd};n={};a.forEach(function(a){var b;b=c.Psb(a)?"fail":"success";n[b]||(n[b]=[]);n[b].push(a);});r.zd(n,function(a,f){"fail"===a?l.failures=c.gob(f,b):"success"===a&&(l.downloads=c.Xnb(f,b));});return l;};a.prototype.Xnb=function(a,b){var c,f,h;c=this;f={};a.forEach(function(a){var b;b=a.qeb;f[b]||(f[b]=[]);f[b].push(a);});h=[];r.zd(f,function(a,f){var l;l=[];f.forEach(function(f){l.push(f);c.Dsb(f)&&(h.push(c.gJa(l,b,a)),l=[]);});0<l.length&&h.push(c.gJa(l,b,a));});return h;};a.prototype.gJa=function(a,b,c){var d;for(var f=a.sort(function(a,b){return a.Ck.dh<b.Ck.dh?-1:a.Ck.dh>b.Ck.dh?1:0;}),h=f[0].Ck,l=h.requestTime,n=h.dh,h=h.Fm,q=1;q<a.length;q++){d=a[q].Ck;d.requestTime<l&&(l=d.requestTime);d.dh<n&&(n=d.dh);d.Fm>h&&(h=d.Fm);}q=this.vpb(f);d=f[f.length-1];return{time:l-b,tcpid:c?parseInt(c):-1,tresp:n-l,first:q,ranges:this.wpb(f,q),dur:h-n,trace:this.gqb(a),status:this.mZ(d)};};a.prototype.vpb=function(a){var b;b=0;a.forEach(function(a){a.Eq&&(b=l.Um(b,a.Eq[0]));});return b;};a.prototype.wpb=function(a,b){var c;c=[];a.forEach(function(a){a.Eq?c.push([a.Eq[0]-b,a.Eq[1]-b]):c.push([0,-1]);});return c;};a.prototype.gqb=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.Ck;if(c){f=a.requestTime-c.Fm;0<f&&b.push([f,-2]);f=l.Pl(c.Fm,a.requestTime);f=a.dh-f;0<f&&b.push([f,-3]);}b.push([a.Fm-a.dh,a.Cx||0]);c=a;});return b;};a.prototype.Dsb=function(a){if(a.ga===q.J.rw||a.ga===q.J.Az)return!0;};a.prototype.mZ=function(a){if(a.da)return"complete";if(a.ga===q.J.rw)return"abort";if(a.ga===q.J.Az)return"stall";n.lb(!1,"download status should never be: other");return"other";};a.prototype.gob=function(a,b){var c,f;c=this;f=[];a.forEach(function(a){var h;h=a.Ck;a={time:h.dh-b,tresp:h.dh-h.requestTime,dur:h.Fm-h.dh,range:a.Eq,reason:c.ypb(a),httpcode:a.$i,nwerr:k.Yfa(a.ga)};f.push(a);});return f;};a.prototype.ypb=function(a){return a.$i||a.ga===q.J.VJ?"http":a.ga===q.J.XJ?"timeout":"network";};a.prototype.Psb=function(a){return a.da||void 0===a.da||a.ga===q.J.rw||a.ga===q.J.Az?!1:!0;};a.prototype.gfb=function(a){var b,c,f,h,l,n;b=a.request;c=b.stream;f=b.track;h=b.url;l=this.Unb(f,h);switch(l){case m.Kg.audio:case m.Kg.video:n=b.stream.pd;break;case m.Kg.c3:case m.Kg.roa:n=f.pd;}a={R:c&&c.R,vjb:l,pd:n,Ck:a.Ck,ic:b.ic,url:h,se:a.se,$i:a.$i,ga:a.ga,da:a.da,qeb:this.mlb(a)};void 0!==b.offset&&void 0!=b.length&&(a.Eq=[b.offset,b.offset+b.length-1]);return a;};a.prototype.Unb=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};a.prototype.mlb=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?r.Md(a):a;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(x.fd))],b);}();b.yra=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U6=void 0;b.U6="MilestonesEventBuilderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q4=void 0;b.Q4="DownloadReportBuilderSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.zS=void 0;c=a(49);b.zS=function(a,b){this.Cjb=a;this.size=b.aMa()?c.Dc:b;};},function(d,b,a){var k,m,r,q,n,l,f,h,x,g,I,E,J,K,D,p,Q,t,S,A,Z,u,da,W;function c(a,b,c,f,q,d,k,g,F,T,A,V,Z,ma,B,P,R,U,X,Ha,ib,ba){var N;N=this;this.j=a;this.Im=b;this.nVa=f;this.RW=q;this.Oh=d;this.oja=k;this.uea=g;this.Ph=F;this.Wc=T;this.PX=A;this.Te=V;this.config=Z;this.Cc=ma;this.za=B;this.sa=P;this.platform=R;this.ym=U;this.PO=X;this.Tj=Ha;this.bq=ib;this.m0=ba;this.oR=[];this.Mwb=this.k_=this.rSa=0;this.kG=[];this.Kaa=!1;this.gv=function(a,b){return function(c){var f;f=b(c);if("number"!==typeof f)throw Error("Event "+JSON.stringify(c)+" does not have movie Id");f===N.G&&a(c);};};this.Zo=this.gv(function(a){N.uUa(a.QB);},function(a){return a.G;});this.qH=this.gv(function(){N.ueb();},function(a){return a.G;});this.qUa=function(a){N.Ac(u.me.kHb,!1,W.Dh|W.Ig,{speedold:Math.floor(1E3*a.oldValue),speed:Math.floor(1E3*a.newValue)});};this.XI=function(){N.Ac(u.me.XIb,!1,W.Dh|W.Ig,{track:N.j.uc.value.Wg});};this.vVa=function(a){a.newValue&&N.Am&&(a={track:a.newValue.Wg},N.LB(a,N.j.mf.value&&N.j.mf.value.stream,N.j.og.value&&N.j.og.value.stream),N.Ac(u.me.YIb,!1,W.Dh|W.Ig,a));};this.xn=function(a){N.Ac(u.me.scb,!1,W.Dh|W.Ig,a.newValue);};this.JGa=function(){var a,b,c;if(N.j.Fj)try{a=!1;N.ia%N.config().mN&&!N.j.rN&&(a=!0,N.kG=N.kG.filter(function(a){return!a.da;}));if(0<N.kG.length){b=N.PX.construct(N.kG,N.j.Kk.ca(x.ja));N.kG=[];b.erroronly=a;c={};h.zd(b,function(a,b){c[a]=JSON.stringify(b);});N.Ac(u.me.tjb,!1,W.Ig,c);}}catch(Mc){N.log.error("Exception in dlreport.",Mc);}};this.k0=function(){var a,b;if(N.j.state.value==S.ob.vd){a=N.LQa();N.config().Tla&&(a.avtp=N.dz.lm().iD,N.j.Lm&&N.XZ(a));a.midplayseq=N.Mwb++;b=N.j.Ob.value;a.prstate=b===S.kb.Pc?"playing":b===S.kb.Ri?"paused":b===S.kb.Vq?"ended":"waiting";N.config().uFb&&N.RUa("midplay");N.config().ip&&N.Cc()&&N.nha(a);N.kha(a);N.lha(a);N.mha(a);N.Ac(u.me.k0,!1,W.Dh|W.Ig|W.ow|W.wK,a);}};this.qza=/-?l(\d\d)/i;this.TGa=this.gv(function(a){N.kG.push(N.PX.gfb(a.response));},function(a){return a.G;});this.NX=this.gv(function(a){var b,c,f,l,q,d;a=a.response;b=a.request;c=a.request.cp;f=b.track;if(f){l=!a.da&&a.ga!=I.J.rw;q=f.type;d=a.Ck;if(l||N.Im.Dia){c={dltype:q,url1:b.url,url2:a.url||"",cdnid:b.ic&&b.ic.id,tresp:h.Nj(d.dh-d.requestTime),brecv:h.pIa(d.Cx),trecv:h.Nj(d.Fm-d.dh),sbr:c&&c.R};a.Eq&&(c.range=a.Eq);switch(q){case n.Kg.audio:c.adlid=b.stream.pd;break;case n.Kg.video:c.vdlid=b.stream.pd;break;case n.Kg.c3:c.ttdlid=f.pd;}(b=da.Yfa(a.ga))&&(c.nwerr=b);a.$i&&(c.httperr=a.$i);N.Ac(u.me.NX,l,W.Ig,c);}}},function(a){return a.G;});this.qk=function(){N.Ac(u.me.tcb,!1,W.Dh|W.ow,{browserua:Q.Ql});};this.gFa=this.gv(function(a){var b,c,f;a=a.response;b=a.Ck;c=x.Gb(b.dh);f=x.Gb(b.Fm);b=J.aa(b.Cx||0);b.vMa()||b.aMa()||(c=new K.o8(c,f),N.dz.lW(new D.zS(c,b)),a&&a.request&&a.request.cp&&a.request.cp.Kb&&N.RW.lW(new p.Eqa(c,b,a.request.cp.Kb)));},function(a){return a.G;});this.sQa=function(a){var b;b=a.newValue;a.Fx&&a.Fx.$ja&&b||b==N.eia||(N.xHb(N.eia,b),N.eia=b);};this.lu=function(a){function b(a){var b;if(N.j.wb&&N.j.wb.sourceBuffers){b=N.j.wb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.vi(),updating:b.updating(),ranges:b.PY()};}}N.uI="rebuffer";a={cause:a.cause};a.cause&&a.cause===r.S7&&(a.mediaTime=N.j.Za.value,a.buf_audio=b(m.mT),a.buf_video=b(m.ZD));N.xha(N.oR[S.kb.Pc]||0,N.oR[S.kb.Ri]||0,a);N.oJ=N.getTime();t.pc(N.SW);};this.IVa=function(a){var b;a=a.oldValue;b=N.getTime();a===S.kb.Yf?N.oR=[]:N.oR[a]=(N.oR[a]||0)+(b-N.cub);N.cub=b;};this.Cm=function(a){switch(a.cause){case S.Be.st:case S.Be.AK:N.uI&&N.oJ?N.xAb(N.getTime()-N.oJ,N.uI):N.Am||N.IQa(),N.uI="repos",N.Ula(a.lka,a.og,a.mf),N.oJ=N.getTime(),t.pc(N.SW);}};this.SW=function(){var a;if(N.oJ&&N.j.Ob.value!==S.kb.Yf){a=N.getTime()-N.oJ;N.jma(a,N.mj);N.aia&&N.aia!=N.j.Rc.value&&N.Gbb();N.oJ=void 0;N.uI=void 0;N.mj=void 0;}};this.Xba=this.gv(function(){N.j.Ob.value===S.kb.Pc&&(N.j.Ob.removeListener(N.Xba),N.Tn());},function(){return N.j.G;});this.iM=function(a){N.Wtb=N.getTime();N.aia=a.oldValue;};this.Tn=function(){N.Am||(N.Am=!0,N.O2(!1),N.gsb(),N.config().DLa&&(N.c_=M.setTimeout(function(){N.Oh.flush(!1)["catch"](function(){return N.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});N.c_=void 0;},N.config().DLa)));};this.Af=function(){N.c_&&(M.clearTimeout(N.c_),N.c_=void 0);if(N.config().mN||N.config().dM)N.Fda&&(M.clearInterval(N.Fda),N.Fda=void 0),N.JGa();N.iWa&&N.iWa();N.Am?N.dea(!!N.j.aj):N.j.aj?N.O2(!0):N.Im.background||N.IQa();N.TEb||(N.Ac=m.Ye);};this.bFa=this.gv(function(){N.Af();},function(a){return a.movieId;});this.YWa=function(a){a.oldValue&&a.Fx&&a.Fx.REa&&N.$ba(a.oldValue,a.newValue,a.Fx.REa,a.Fx.$bb);};this.gRa=function(a){var b;if(a.newValue){b=a.newValue.stream;N.fia!=b&&(N.fia&&N.EDb(N.fia,b,a.newValue.Eo.startTime),N.fia=b);}};this.gs=this.gv(function(a){function b(a,b){var c;if(!a||a.zia!==b.location){c={zia:b.location,dNa:b.locationlv,FFb:b.serverid,SC:b.servername};N.Cdb(a,b);return c;}}if("audio"===a.mediaType){if(a=b(N.Vtb,a))N.Vtb=a;}else if(a=b(N.DO,a))N.DO=a;},function(a){return N.j.Pu(a.segmentId).G;});this.CI=this.gv(function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(N.Th.summary.dXa++,N.Th.K_=N.za.gf.ca(x.ja)):"serverswitchback"===c&&(N.Th.summary.eXa++,N.Th.K_&&(N.Th.summary.fXa.push(N.za.gf.ca(x.ja)-N.Th.K_),N.Th.K_=void 0)):"audio"===b&&("serverswitchaway"===c?(N.Th.summary.wDa++,N.Th.F_=N.za.gf.ca(x.ja)):"serverswitchback"===c&&(N.Th.summary.xDa++,N.Th.F_&&(N.Th.summary.yDa.push(N.za.gf.ca(x.ja)-N.Th.F_),N.Th.F_=void 0)));N.Ac(u.me.HFb,!1,W.Dh|W.Ig,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return N.j.Pu(a.segmentId).G;});this.CF=function(a){N.Ac(u.me.gbb,!1,W.Ig,{strmsel:a.strmsel});};this.BF=function(a){N.Ac(u.me.fbb,!1,W.Ig,{msg:a.msg});};this.SI=function(a){a=E.GI(a);a.details&&(a.details=JSON.stringify(a.details));N.Ac(u.me.iIb,!0,W.Dh|W.jE|W.iS,a);};this.Kaa=Ha.u3||Ha.v3;this.dz=f();this.log=l.zg(a,"LogblobBuilder");this.eia=a.paused.value;this.G=b.G;this.ia=this.Im.ia;this.Th={summary:{dXa:0,eXa:0,fXa:[],wDa:0,xDa:0,yDa:[]},K_:void 0,F_:void 0};this.Ab();c&&this.uUa();}Object.defineProperty(b,"__esModule",{value:!0});b.hua=void 0;k=a(50);m=a(9);r=a(57);q=a(43);n=a(75);l=a(6);f=a(17);h=a(21);x=a(3);g=a(52);I=a(2);E=a(22);J=a(49);K=a(360);D=a(347);p=a(701);Q=a(10);t=a(59);S=a(13);A=a(15);Z=a(700);u=a(353);da=a(153);c.prototype.Ab=function(){this.j.addEventListener(S.V.Zo,this.Zo);this.j.addEventListener(S.V.qH,this.qH);this.j.addEventListener(S.V.gs,this.gs);this.j.addEventListener(S.V.CI,this.CI);this.j.addEventListener(S.V.Af,this.bFa);this.j.addEventListener(S.V.Kx,this.NX,m.FT);if(this.config().mN||this.config().dM)this.j.addEventListener(S.V.Kx,this.TGa),this.Fda=M.setInterval(this.JGa,this.config().Bjb);this.config().Tla&&this.j.addEventListener(S.V.Kx,this.gFa);};c.prototype.uUa=function(a){var b;b=this;this.COa||(this.j.Ob.value!==S.kb.Pc||(void 0===a?0:a)?this.j.Ob.addListener(this.Xba):this.Tn(),this.j.Bj.addListener(this.vVa),this.j.Rc.addListener(this.iM),this.j.paused.addListener(this.sQa),this.j.mf.addListener(this.gRa),this.j.Ob.addListener(this.SW),this.j.Ob.addListener(this.IVa),this.j.tf.addListener(this.YWa),this.j.playbackRate.addListener(this.qUa),this.j.addEventListener(S.V.qk,this.qk),this.j.addEventListener(S.V.BF,this.BF),this.j.addEventListener(S.V.CF,this.CF),this.j.addEventListener(S.V.SI,this.SI),this.j.addEventListener(S.V.lu,this.lu),this.j.addEventListener(S.V.Cm,this.Cm),this.j.addEventListener(S.V.XI,this.XI),this.j.addEventListener(S.V.mj,function(){b.mj=!0;}),this.Im.xn&&this.Im.xn.addListener(this.xn),this.config().Gi&&(this.TEb=!0),this.COa=!0);};c.prototype.ueb=function(){this.Af();this.COa&&(this.j.removeEventListener(S.V.Zo,this.Zo),this.j.removeEventListener(S.V.qH,this.qH),this.j.removeEventListener(S.V.gs,this.gs),this.j.removeEventListener(S.V.CI,this.CI),this.j.Bj.removeListener(this.vVa),this.j.Rc.removeListener(this.iM),this.j.paused.removeListener(this.sQa),this.j.mf.removeListener(this.gRa),this.j.Ob.removeListener(this.SW),this.j.Ob.removeListener(this.Xba),this.j.Ob.removeListener(this.IVa),this.j.tf.removeListener(this.YWa),this.j.playbackRate.removeListener(this.qUa),this.j.removeEventListener(S.V.Kx,this.NX),this.j.removeEventListener(S.V.Af,this.bFa),this.j.removeEventListener(S.V.qk,this.qk),this.j.removeEventListener(S.V.BF,this.BF),this.j.removeEventListener(S.V.CF,this.CF),this.j.removeEventListener(S.V.SI,this.SI),this.j.removeEventListener(S.V.lu,this.lu),this.j.removeEventListener(S.V.Cm,this.Cm),this.j.removeEventListener(S.V.XI,this.XI),this.Im.xn&&this.Im.xn.removeListener(this.xn),this.j.removeEventListener(S.V.Kx,this.TGa),this.j.removeEventListener(S.V.Kx,this.gFa));};c.prototype.O2=function(a){var b,c,r,m,k,F,I,E,J,K,D,p,T,t,V,N,da,ma,B,P,R,U,X,ba;b={};try{b={browserua:Q.Ql,browserhref:location.href,playdelaysdk:h.Nj(this.j.Pba()),applicationPlaydelay:h.Nj(this.j.cdb()),playdelay:h.Nj(this.j.hdb()),trackid:this.j.Wh,bookmark:h.Nj(this.j.SA||0),pbnum:this.j.index,endianness:q.oJa()};this.config().Ckb&&(b.transitiontime=this.j.Uk,b.uiplaystarttime=this.j.Pa.k3,b.playbackrequestedat=this.j.Kk.ca(x.ja),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.za.gf.ca(x.ja),b.clockgetpreciseappepoch=this.sa.XB.ca(x.ja),b.absolutestarttime=this.j.MY(),b.relativetime=this.j.fga());this.LY(b,"startplay");}catch(mb){this.log.error("error in startplay log fields",mb);}this.j.qk&&(b.blocked=this.j.qk);b.configversion=this.config().version;this.config().endpoint||(b.configendpoint="error");this.j.ng&&(b.playbackcontextid=this.j.ng);this.sLa(b);if(this.config().D3&&this.j.Pa.Qoa){for(var f={},l=Object.keys(this.j.Pa.Qoa),n,d=l.length;d--;)n=l[d],f[n.toLowerCase()]=this.j.Pa.Qoa[n];b.vui=f;}A.ma(this.j.cEa)&&(b.bookmarkact=h.Nj(this.j.cEa));(f=this.j.sd.at&&this.j.sd.ats?this.j.sd.at-this.j.sd.ats:void 0)&&(b.nccpat=f);(f=this.j.sd.lr&&this.j.sd.lc?this.j.sd.lr-this.j.sd.lc:void 0)&&(b.nccplt=f);(f=this.Hjb())&&(b.downloadables=f);M._cad_global.device&&A.$b(M._cad_global.device.kea)&&(b.esnSource=M._cad_global.device.kea);h.xb(b,this.ym,{prefix:"pi_"});(f=Q.Qi&&Q.Qi.connection&&Q.Qi.connection.type)&&(b.nettype=f);this.j.Co&&this.j.Co.initBitrate&&(b.initvbitrate=this.j.Co.initBitrate);this.j.Co&&this.j.Co.selector&&(b.selector=this.j.Co.selector);b.fullDlreports=this.j.iHa;if(this.j.state.value>=S.ob.vd)try{r=this.j.Dx();r&&(this.ap=q.P3(r.map(function(a){return a.R;})),this.$Na=q.P3(r.map(function(a){return a.height;})),c=0<r.length?Z.ONa(r,function(a){return a.R;}):void 0,b.maxbitrate=this.ap,b.maxresheight=this.$Na);}catch(mb){this.log.error("Exception computing max bitrate",mb);}try{m=q.$N();m&&(b.pdltime=m);}catch(mb){}try{h.xb(b,this.j.sd,{prefix:"sm_"});h.xb(b,this.j.rZ(),{prefix:"vd_"});}catch(mb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.Dq&&(b.pssh=this.j.Dq);this.j.Bf&&this.j.Bf.Cl&&this.j.Bf.Cl.keySystem&&(b.keysys=this.j.Bf.Cl.keySystem);if(this.config().ip&&this.Cc())try{r={};k=this.Cc().getStats(void 0,void 0,this.j.G);F=this.j.MY();I=k.bz.Geb;r.attempts=k.aRa||0;r.num_completed_tasks=I.length;E=this.Wc.Glb;m={};J=g.Pd.ze.Oxa;K=g.Pd.ze.qw;D=g.Pd.ze.hS;p=g.Pd.ze.zJ;T=g.Pd.ze.gS;k.Mj&&(m.scheduled=k.Mj-F);t=this.j.ya;t&&A.ma(t.My)&&(m.preauthsent=t.My-this.j.jf,m.preauthreceived=t.MC-this.j.jf);V=I.filter(E("type","manifest"));r.mf_succ=V.filter(E("status",J)).length;r.mf_fail=V.filter(E("status",K)).length;N=this.j.sd;A.$b(N.lg)&&0>N.lg&&this.j.jf&&(m.ldlsent=N.lc,m.ldlreceived=N.lr);da=I.filter(E("type","ldl"));r.ldl_succ=da.filter(E("status",J)).length;r.ldl_fail=da.filter(E("status",K)).length;k=!0;ma="ui"===this.j.pu;m.preauthreceived&&0>m.preauthreceived||ma||(k=!1);this.config().rG||(k=!1);B=da.filter(E("status",D)).length;P=da.filter(E("status",p)).length;R=da.filter(E("status",T)).length;this.config().rG&&0===B+P+R&&(!m.ldlreceived||0<=m.ldlreceived)&&(k=!1);if(this.config().XX){U=this.j.Ln&&this.j.Ln.stats;if(U){if(U.vY&&(m.headersent=U.vY-this.j.jf),U.M_&&(m.headerreceived=U.M_-this.j.jf),U.dI&&(m.prebuffstarted=U.dI-this.j.jf),U.q1&&(m.prebuffcomplete=U.q1-this.j.jf),!m.prebuffcomplete||0<=m.prebuffcomplete)k=!1;}else k=!1;}X=I.filter(E("type","getHeadersAndMedia"));r.hm_succ=X.filter(E("status",J)).length;r.hm_fail=X.filter(E("status",K)).length;h.xb(b,r,{prefix:"pr_"});this.bq.tN&&(b.eventlist=this.m0.YJa(this.j));b.prefetchCompleted=k;this.nha(b);}catch(mb){this.log.warn("error in collecting video prepare data",mb);}b.avtp=this.dz.lm().iD;this.j.Lm&&this.XZ(b);if(this.j.uc.value)try{b.ttTrackFields=this.j.uc.value.Wg;}catch(mb){}if(I=this.j.Rc&&this.j.Rc.value&&this.j.Rc.value.ec){ba={};I.forEach(function(a){ba[a.bg]=void 0;});b.audioProfiles=Object.keys(ba);}this.oha(b);this.j.ya&&"boolean"===typeof this.j.ya.Nf.TB&&(b.isSupplemental=this.j.ya.Nf.TB);b.headerCacheHit=!!this.j.Ln;this.j.Ln&&(b.headerCacheDataAudio=this.j.Ln.audio,b.headerCacheDataAudioFromMediaCache=this.j.Ln.audioFromMediaCache,b.headerCacheDataVideo=this.j.Ln.video,b.headerCacheDataVideoFromMediaCache=this.j.Ln.videoFromMediaCache);this.j.ya&&(b.packageId=this.j.ya.Nf.Ik);this.j.ya&&this.j.ya.Nf.uu&&(b.hasChoiceMap=!0);this.config().mIa&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.Ph.dH;this.Ptb(c);this.Otb();this.qLa(this.j,b);this.rLa(this.j,b);this.MB(this.j,b);this.iy(this.j,b,this.Kaa);this.kha(b);this.lha(b);this.mha(b);this.vLa(b);this.pLa(b);this.wLa(b);this.Ac(u.me.O2,a,W.Dh|W.jE|W.Ig|W.wK|W.ow|W.iS|W.m5,b);};c.prototype.jma=function(a,b){b={playdelay:h.Nj(a),reason:this.uI,intrplayseq:this.k_-1,skipped:b};this.MB(this.j,b);this.Ac(u.me.jma,!1,W.Dh|W.jE|W.Ig,b);"rebuffer"==this.uI&&this.j.zm.V$a(Number(h.Nj(a)));};c.prototype.$ba=function(a,b,c,f){a={moff:h.Mu(c),moffms:h.Nj(c),vbitrate:b.R,vbitrateold:a.R,vdlid:b.pd,vdlidold:a.pd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.MB(this.j,a);this.iy(this.j,a);this.Ac(u.me.$ba,!1,W.Ig,a);};c.prototype.EDb=function(a,b,c){a={moff:h.Mu(c),moffms:h.Nj(c),vdlidold:a.pd,vbitrateold:a.R};this.MB(this.j,a);this.iy(this.j,a);this.LB(a,b,this.j.og.value&&this.j.og.value.stream);this.Ac(u.me.FDb,!1,W.Ig,a);};c.prototype.IQa=function(){var a,b;a={waittime:h.Nj(this.j.fga()),abortedevent:"startplay",browserua:Q.Ql,browserhref:location.href,trackid:this.j.Wh};this.LY(a,"endplay");this.bq.tN&&(a.eventlist=this.m0.YJa(this.j));this.j.ng&&(a.playbackcontextid=this.j.ng);this.j.Co&&this.j.Co.initBitrate&&(a.initvbitrate=this.j.Co.initBitrate);try{b=q.$N();b&&(a.pdltime=b);h.xb(a,this.j.sd,{prefix:"sm_"});}catch(na){}this.iha(a,!0);this.wLa(a);this.oha(a);this.tLa(a);this.LB(a,this.j.tf.value,this.j.ml.value);this.Ac(u.me.NQa,!1,W.Dh|W.Ig|W.ow|W.wK,a);};c.prototype.xAb=function(a,b){a={waittime:h.Nj(a),abortedevent:"resumeplay",browserua:Q.Ql,resumeplayreason:b};this.j.ng&&(a.playbackcontextid=this.j.ng);this.j.Co&&this.j.Co.initBitrate&&(a.initvbitrate=this.j.Co.initBitrate);this.LB(a,this.j.tf.value,this.j.ml.value);this.Ac(u.me.NQa,!1,W.Dh|W.Ig,a);};c.prototype.xHb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.MB(this.j,a);this.iy(this.j,a);this.LB(a,this.j.mf.value&&this.j.mf.value.stream,this.j.og.value&&this.j.og.value.stream);this.Ac(u.me.zHb,!1,W.Dh|W.Ig,a);};c.prototype.xha=function(a,b,c){a=h.xb({vdlid:this.j.tf.value.pd,playingms:a,pausedms:b,intrplayseq:this.k_++},c);this.LY(a,"intrplay");b=this.j.ic[k.zc.Na.VIDEO].value;c=this.j.ic[k.zc.Na.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.DO&&this.DO.zia;a.loclv=this.DO&&this.DO.dNa;a.avtp=this.dz.lm().iD;this.j.Lm&&(this.iha(a,!0),this.XZ(a),this.uLa(a));try{h.xb(a,this.j.rZ(),{prefix:"vd_"});}catch(oa){}this.MB(this.j,a);this.iy(this.j,a);this.LB(a,this.j.mf.value&&this.j.mf.value.stream,this.j.og.value&&this.j.og.value.stream);this.Ac(u.me.xha,!1,W.Dh|W.Ig,a);};c.prototype.Ula=function(a,b,c){a={moffold:h.Mu(a),reposseq:this.rSa++};this.iy(this.j,a);this.LB(a,c&&c.stream,b&&b.stream);this.Ac(u.me.Ula,!1,W.Dh|W.Ig,a);};c.prototype.Gbb=function(){this.Ac(u.me.Lbb,!1,W.Dh|W.Ig,{switchdelay:h.Nj(this.getTime()-this.Wtb),newtrackinfo:this.j.Rc.value.$a,oldtrackinfo:this.aia.$a});};c.prototype.Cdb=function(a,b){var c,f,h,l;c=b.serverid;f=b.serverrtt;h=b.serverbw;l={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};l.mediatype=b.mediatype;l.selcdnrtt=f;l.selcdnbw=h;l.selreason=b.selreason||"unknown";l.testreason=b.testreason;l.fastselthreshold=b.fastselthreshold;l.seldetail=b.seldetail;l.cdnbwdata=JSON.stringify([{id:c,rtt:f,bw:h}]);a&&(l.oldlocid=a.zia,l.oldloclv=a.dNa,l.oldocaid=a.FFb,l.oldocaname=a.SC);this.Ac(u.me.CEa,!1,W.iS,l);};c.prototype.RUa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.$fa();b.subtitleqoescore=this.j.$n.Ypb(c);b.metrics=JSON.stringify(this.j.$n.qga(c));}catch(oa){this.log.error("error getting subtitle qoe data",oa);}this.Ac(u.me.jIb,!1,W.Dh|W.ow|W.jE,b,"info");};c.prototype.transition=function(a){this.iy(this.j,a);this.Ac(u.me.transition,!1,0,a);};c.prototype.Kpb=function(a,b){if(a=a.RY())if(b=a[b])return b.qf;};c.prototype.qLa=function(a,b){a.Pa.dj&&(b.isBranching=!0);};c.prototype.rLa=function(a,b){b.cachedManifest=a.pu;b.cachedLicense=a.yx;b.usedldl=this.config().rG?("videopreparer"===a.yx).toString():"not_capable";};c.prototype.MB=function(a,b){var c,f;if(this.config().Wrb){c=a.aga();f=a.fa.ya;c&&f&&(b.segment=c,f=a.HB(),b.segmenttime=f,a=this.Kpb(a,c),null!==f&&void 0!==a&&(b.segmentoffset=f-a));}};c.prototype.iy=function(a,b,c){b.pxid=a.xRa;(void 0===c?0:c)&&(b.playgraph_trace=a.RQa);};c.prototype.uLa=function(a){var b,c;b=this.j.Tga;c=b&&b.NDb;b&&b.lLa&&(a.htwbr=b.lLa,a.pbtwbr=b.e1,a.hptwbr=b.yrb);b&&b.RSa&&(a.rr=b.RSa,a.ra=b.lCb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};c.prototype.oha=function(a){var b,c,f,h,l;b=this;c=this.j.qg&&this.j.qg.value&&this.j.qg.value.ec;if(c){f=new Set();h=new Set();l=new Set();c.forEach(function(a){a=a.bg;f.add(a);h.add(a.replace(b.qza,""));(a=a.match(b.qza))&&0<a.length&&l.add(a[1]);});a.videoProfiles=[].concat(ea(f));a.videoProfile=0===h.size?"none":[].concat(ea(h))[0];a.videoProfileLevels=[].concat(ea(l));}};c.prototype.tLa=function(a){var b,c,f;try{b=this.Wc.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(za){}};c.prototype.Xrb=function(a){a.switchAwaySummary={vsa:this.Th.summary.dXa,vsb:this.Th.summary.eXa,vsbt:this.Th.summary.fXa,asa:this.Th.summary.wDa,asb:this.Th.summary.xDa,asbt:this.Th.summary.yDa};};c.prototype.dea=function(a){var b,c,f,l,g;b=this;c=this.LQa();this.LY(c,"endplay");c.browserua=Q.Ql;this.j.dw&&"downloaded"===this.j.dw.mZ()&&(c.trickplay_ms=this.j.vR.offset,c.trickplay_res=this.j.vR.ySa);this.config().KWa&&(c.rtinfo=this.j.Dpb());if(this.config().Tla){f=this.dz.lm().iD;void 0!==c.avtp?c.avtp_retired=f:c.avtp=f;f=this.RW.xnb().map(function(a){return{cdnid:a.Ax,avtp:a.iD,tm:a.Gda};});void 0!=c.cdnavtp?c.cdnavtp_retired=f:c.cdnavtp=f;this.j.Lm&&this.XZ(c);}this.sLa(c);c.endreason=a?"error":this.j.Ob.value===S.kb.Vq?"ended":"stopped";f=this.ym;this.Rrb(f);f&&h.xb(c,f,{prefix:"pi_"});f=this.j.aj;a&&f&&I.hsa(f.errorCode)&&(l="info");try{h.xb(c,this.j.sd,{prefix:"sm_"});}catch(Wa){}this.j.hha&&(c.inactivityTime=this.j.hha);this.iha(c,"info"!==l&&a);this.uLa(c);if(this.j.UA){for(var f=this.j.UA,n=this.config().TA,q=this.j.jf,d={iv:n,seg:[]},r=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},m=f.hu.map(r),r=f.gw.map(r),k,x=0;x<m.length;x++){if(m[x]||r[x])k?(k.ams.push(m[x]),k.vms.push(r[x])):k={ams:[f.hu[x]],vms:[f.gw[x]],soffms:f.startTime+x*n-q};x!==m.length-1&&m[x]&&r[x]||!k||(d.seg.push(k),k=void 0);}c.bt=JSON.stringify(d);}if(this.j.f0&&0<this.j.f0.length){g=[];this.j.f0.forEach(function(a){g.push({soffms:a.time-b.j.jf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=g;}this.j.vRa&&(c.psdConservCount=this.j.vRa);a&&this.tLa(c);this.RUa("endplay");this.config().ip&&this.Cc()&&this.nha(c);c.isNonMember=this.Ph.dH;this.oha(c);this.qLa(this.j,c);this.rLa(this.j,c);this.MB(this.j,c);this.iy(this.j,c,this.Kaa);this.kha(c);this.lha(c);this.mha(c);this.vLa(c);this.Srb(c);this.pLa(c);this.Urb(c);this.Trb(c);this.Xrb(c);this.Ac(u.me.dea,a,W.Dh|W.jE|W.Ig|W.ow|W.wK|W.m5,c,l);};c.prototype.J6a=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};c.prototype.Hjb=function(){var a,b;a=this;if(this.j.Rm&&this.j.vn){b=[];this.j.Rm.concat(this.j.vn).forEach(function(c){c.ec.forEach(function(c){b.push({dlid:c.pd,type:c.type,bitrate:c.R,vmaf:c.Ub,cdn_ids:a.J6a(c.Fu)});});});return JSON.stringify(b);}};c.prototype.Bdb=function(){var b,c,l;function a(a,b){var n,q,d;n=a.cdnId;q=l[n];d=a.vmaf;q||(q={cdnid:n,dls:[]},l[n]=q,c.push(q));f.aG(a.bitrate);f.aG(a.duration);n={bitrate:a.bitrate,tm:Q.Eh(a.duration)};d&&(f.aG(a.vmaf),n.vf=d);n[b]=h.Md(a.downloadableId);q.dls.push(n);}b=this.j.zm.$mb();c=[];l={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};c.prototype.LQa=function(){var a,b,c,l,n,q,d,r,m,g,F;a=this.j.zm;b={totaltime:h.Mu(a.cO()),totalcontenttime:h.Mu(a.yKa()),cdndldist:this.Bdb(),reposcount:this.rSa,intrplaycount:this.k_};try{c={numskip:0,numlowqual:0};l=this.j.fj;n=l.EB();A.ma(n)&&(b.totfr=n,c.numren=n);n=l.DB();A.ma(n)&&(b.totdfr=n,c.numrendrop=n);n=l.PN();A.ma(n)&&(b.totcfr=n,c.numrenerr=n);n=l.YY();A.ma(n)&&(b.totfdl=n);b.playqualvideo=JSON.stringify(c);q=this.j.tf.value;q&&(b.videofr=q.FY.toFixed(3));d=a.JIa();d&&(b.abrdel=d);r=a.irb()&&a.enb();r&&(b.tw_vmaf=r);m=a.dnb();m&&h.xb(b,m);b.rbfrs=this.k_;b.maxbitrate=this.ap;b.maxresheight=this.$Na;for(var k=this.j.JB(),x,a=0;a<k.length;a++){g=k[a];F=this.Im.dP.Hs(g);if(F){f.lb(x);b.maxbitrate=x?x.R:0;b.maxresheight=x?x.height:0;b.bitratefilters=F.join("|");break;}x=g;}this.j.dw&&(b.trickplay=this.j.dw.mZ());null!==this.j.$n.SDa&&(b.avg_subt_delay=this.j.$n.SDa);}catch(Wa){this.log.error("Exception reading some of the endplay fields",Wa);}h.xb(b,this.j.rZ(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.sa.Zb().ca(x.ja);};c.prototype.j2=function(a){a.browserua=Q.Ql;this.Ac(u.me.XEb,!a.success,W.Dh|W.ow,a);this.Ac=m.Ye;};c.prototype.gsb=function(){var a,b,c;a=this;c=[];this.config().Kwb&&(this.config().Lwb.forEach(function(b){c.push(M.setTimeout(a.k0,b));}),this.config().nOa&&(b=M.setInterval(this.k0,this.config().nOa)),this.iWa=function(){c.forEach(function(a){M.clearTimeout(a);});b&&M.clearInterval(b);});};c.prototype.nha=function(a){var b;try{b=this.Cc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.AIa);}catch(na){}};c.prototype.kha=function(a){this.log.debug("httpstats",this.Te.Xb);h.xb(a,this.Te.Xb,{prefix:"http_"});};c.prototype.iha=function(a,b){this.config().eGa&&!(this.ia%this.config().eGa)&&this.j.Ib&&this.j.Ib.j_&&(a.ASEstats=JSON.stringify(this.j.Ib.j_(b)));};c.prototype.XZ=function(a){Object.assign(a,this.j.Lm.yb.dqb());};c.prototype.lha=function(a){var b;try{b=Q.br.memory;A.uMa(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(na){}};c.prototype.mha=function(a){var b,c;if(this.config().xkb){c=null===(b=null===Q.Qi||void 0===Q.Qi?void 0:Q.Qi.connection)||void 0===b?void 0:b.effectiveType;b=null===Q.Qi||void 0===Q.Qi?void 0:Q.Qi.deviceMemory;c&&(a.effectiveType=c);b&&(a.deviceMemory=b);}};c.prototype.vLa=function(a){var b;b=this.j.Bf;this.config().udb&&b&&!this.config().wp&&(a.keystatuses=this.j.Jxb(b.OVb()),this.log.trace("keystatuses",a.keystatuses));};c.prototype.pLa=function(a){try{this.config().FM&&(a.battery=this.j.knb(),this.log.trace("batterystatuses",a.battery));}catch(ja){}};c.prototype.Srb=function(a){this.j.vX&&(a.dqec=this.j.vX);};c.prototype.Rrb=function(a){this.j.QW&&h.xb(a,{cast_interaction_counts:this.j.QW.aWb()});};c.prototype.wLa=function(a){var b;b=this.j.Pa.Yn;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};c.prototype.Trb=function(a){this.tea&&(a.externaldisplay=this.tea.zN);};c.prototype.Urb=function(a){this.fz&&this.fz.yc&&(a.media_capabilities_smooth=this.fz.yc.iHb,a.media_capabilities_efficient=this.fz.yc.WAb,a.media_capabilities_bitrate=this.fz.yc.R,a.media_capabilities_height=this.fz.yc.height,a.media_capabilities_width=this.fz.yc.width);};c.prototype.LB=function(a,b,c){c&&(a.adlid=c.pd,a.abitrate=c.R);b&&(a.vdlid=b.pd,a.vbitrate=b.R);};c.prototype.sLa=function(a){var b,c;if(this.j.QM){b=this.j.QM;b.dX&&(a.controllerESN=b.dX);b.dfb&&(a.controllerUiVer=b.dfb);if(b.cfb)try{c=JSON.parse(b.cfb);a.controllerGroupNames=c;}catch(oa){this.log.error("Exception parsing controller group names",oa);}}};c.prototype.Otb=function(){void 0===this.tea&&(this.tea=this.uea.Blb());};c.prototype.Ptb=function(a){void 0===this.fz&&void 0!==a&&(this.fz=this.oja.zea(a));};c.prototype.LY=function(a,b){var c;c=this.j.Ou(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};c.prototype.Ac=function(a,b,c,f,h){this.N$a(f,this.j,b,c);a=this.PO.An(a,h||(b?"error":"info"),f,this.Im);this.Oh.Ac(a);};c.prototype.N$a=function(a,b,c,l){var n,q,d,r,m;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.uk&&(a.pbcid=b.uk);l&W.Dh&&(f.lb(!a||void 0===a.moff),0<=b.Za.value&&(a.moff=h.Mu(b.Za.value),a.moffms=h.Nj(b.Za.value)));if(l&W.jE){n=b.ic[k.zc.Na.VIDEO].value;q=b.ic[k.zc.Na.AUDIO].value;d=b.og.value;r=b.mf.value;n&&(a.cdnid=n.id,a.cdnname=n.name);q&&(a.acdnid=q.id,a.acdnname=q.name);d&&(a.adlid=d.stream.pd,a.abitrate=d.stream.R);r&&(a.vdlid=r.stream.pd,a.vbitrate=r.stream.R,a.vheight=r.stream.height,a.vwidth=r.stream.width);}l&W.Ig&&b.Ib&&(a.abuflbytes=b.jba(),a.abuflmsec=b.eM(),a.vbuflbytes=b.Ooa(),a.vbuflmsec=b.JR());if(l&W.wK){Object.assign(a,da.iga());try{m=b.If.getBoundingClientRect();a.rendersize=m.width+"x"+m.height;a.renderpos=m.left+"x"+m.top;}catch(Da){}}l&W.ow&&(n=Q.Qi.hardwareConcurrency,0<=n&&(a.numcores=n),n=this.Im.Nda)&&(q=n.fnb(),a.droppedFrames=JSON.stringify(q),n=n.YN(this.config().Ujb),h.zd(n,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(l&W.iS)try{b.Fj&&(a.cdninfo=JSON.stringify(b.Fj.map(function(a){return{id:a.id,nm:a.name,rk:a.Sf,wt:a.location.weight,lv:a.location.level};})));}catch(Da){}c&&l&W.m5&&(f.lb(b.aj),(c=b.aj)?a=Object.assign(a,da.Zfa(this.platform.vB,c)):a.errorcode=I.K.$k,a.errorcode===this.platform.vB+I.K.Kva&&(a.lastSyncWithVideoElement=this.getTime()-b.hR));};b.hua=c;(function(a){a[a.Dh=1]="MOFF";a[a.jE=2]="PRESENTEDSTREAMS";a[a.Ig=4]="BUFFER";a[a.wK=8]="SCREEN";a[a.ow=16]="CPU";a[a.iS=32]="CDN";a[a.m5=64]="FATALERROR";}(W||(W={})));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u6=void 0;b.u6="LogblobBuilderFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N3=void 0;b.N3="AppLogSinkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g9=void 0;b.g9="UuidProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F7=void 0;b.F7="PboLogblobCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.me=void 0;d=b.me||(b.me={});d.scb="bitraterestriction";d.CEa="cdnsel";d.$ba="chgstrm";d.debug="debug";d.tjb="dlreport";d.dea="endplay";d.xha="intrplay";d.k0="midplay";d.NQa="playbackaborted";d.FDb="renderstrmswitch";d.Ula="repos";d.jma="resumeplay";d.HFb="serversel";d.O2="startplay";d.zHb="statechanged";d.transition="transition";d.gbb="asereport";d.fbb="aseexception";d.Lbb="audioswitch";d.tcb="blockedautoplay";d.config="config";d.XUb="destiny_prepare";d.YUb="destiny_start";d.VUb="destiny_events";d.UUb="destiny_cachestate";d.WUb="destiny_playback";d.NX="dlreq";d.Nv="prepare";d.GVb="ftlProbeError";d.XEb="securestop";d.iIb="subtitleerror";d.jIb="subtitleqoe";d.XIb="timedtextrebuffer";d.YIb="timedtextswitch";d.kHb="speedchanged";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R6=void 0;b.R6="MessageQueueSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v6=void 0;b.v6="LogblobSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w7=void 0;b.w7="PboBindDeviceCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w4=void 0;b.w4="CryptoKeysSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v4=void 0;b.v4="CryptoDeviceIdSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L4=void 0;b.L4="DeviceProviderSymbol";},function(d,b){function a(b,d,m){if(null!=m){if(0<m(b,d))throw a.RFa(b,d);}else if(b.Hj&&0<b.Hj(d))throw a.RFa(b,d);this.start=b;this.end=d;}Object.defineProperty(b,"__esModule",{value:!0});b.o8=void 0;a.RFa=function(a,b){return new RangeError("end ["+b+"] must be >= start ["+a+"]");};b.o8=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K4=void 0;b.K4="DeviceIdGeneratorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sT=void 0;b.sT="MslReadyNotifierSymbol";},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.mZa=b.yqa=void 0;c=a(9);k=a(21);m=a(15);r=a(75);b.yqa=function(a,b,c,f,h,d,r,g,E,J){var l,n;l=this;n={Type:b,Bitrate:f,DownloadableId:c};k.xb(l,{track:a,type:b,pd:c,R:f,Ub:h,bg:g,size:d,Fu:r,Po:null,AGb:function(a,b,c,f){if(m.$b(a)||m.$b(b))l.width=a,l.height=b,m.ma(c)&&m.ma(f)&&(l.Paa=c/f*a),n.Resolution=(l.width||"")+":"+(l.height||"");},RFb:function(a,b,c,f){m.$b(a)&&m.$b(b)&&m.$b(c)&&m.$b(f)&&(l.Rca=a,l.nX=b,l.mX=c,l.lX=f);},FY:E,$u:J,Wg:n,toJSON:function(){return n;}});};b.mZa=function(a,b,l,f,h){if(a==c.mT||a===r.Kg.audio)return b;if(a==c.ZD||a===r.Kg.video)return l;if(a==r.Kg.c3)return f;if(a==r.Kg.roa)return h;};},function(d,b,a){var k;function c(a){var d,q,n,l,f,h,m;n={};n[k.qJ]=a.localName;l={};n[k.Ki]=l;f=[];n[k.pJ]=f;h=a.attributes;d=h.length;for(q=0;q<d;q++){m=h[q];l[m.localName]=m.value;}a=a.childNodes;d=a.length;l={};for(q=0;q<d;q++)switch(h=a[q],h.nodeType){case b.rXa:h=c(h);m=h[k.qJ];h[k.I3]=n;f.push(h);n[m]?l[m][k.hz]=h:n[m]=h;l[m]=h;break;case b.sXa:case b.pXa:h=h.text||h.nodeValue,f.push(h),n[k.zp]||(n[k.zp]=h);}return n;}Object.defineProperty(b,"__esModule",{value:!0});b.qXa=b.pXa=b.sXa=b.ZLb=b.rXa=b.$Lb=b.oXa=void 0;k=a(123);b.oXa=function(a){return c(a.nodeType==b.qXa?a.documentElement:a);};b.$Lb=c;b.rXa=1;b.ZLb=2;b.sXa=3;b.pXa=4;b.qXa=9;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.nXa=void 0;c=a(6);k=a(15);b.nXa=function(a){var b,q;if(k.cv(a)){b=new DOMParser().parseFromString(a,"text/xml");q=b.getElementsByTagName("parsererror");if(q&&q[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(q[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(n){}throw Error("xml parser error");}return b;}throw Error("bad xml text");};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.nQa=void 0;c=a(209);k=a(208);b.nQa=function(a,b,q,n){return new Promise(function(l,f){k.Yoa(a,function(a){a.da?c.eQa(a.object,b,q,n,function(a){a.da?l(a.entries):f(a);}):f(a);});});};},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Rsa=b.eT=void 0;c=a(0);k=a(8);m=a(4);r=a(736);q=a(735);n=function(){return function(){this.GF=new q.qK(100);this.F0=new q.qK(100);};}();d=function(){function a(a,b,c){var f,h,l;this.I=b;this.u=c;this.PV=a;f=this.yA=this.wE=this.vE=0;h=0;l=0;this.PV.length>=this.I.r0&&(this.PV.forEach(function(a){!(a=a.get().kmb)||k.W(a.avtp)||k.W(a.neuhd)||(f+=a.avtp,h+=1*a.neuhd,l++);}),this.yA=l,this.vE=f/l,this.wE=h/l);}Object.defineProperties(a.prototype,{QDa:{get:function(){return this.vE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RDa:{get:function(){return this.wE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IFb:{get:function(){return this.yA;},enumerable:!1,configurable:!0}});a.prototype.s_=function(){return this.yA>=this.I.r0&&this.vE>=this.I.baselineHighAndStableThreshold.bwThreshold&&this.wE<this.I.baselineHighAndStableThreshold.nethreshold;};return a;}();b.eT=d;d=function(a){function b(b,c,f){b=a.call(this,b,c,f)||this;b.o9=[];b.Alb={};b.iVa=[];b.zu=new n();b.PV.length>=b.I.r0&&(b.tCa("avtp",b.zu.GF),b.tCa("neuhd",b.zu.F0));return b;}c.__extends(b,a);b.prototype.s_=function(){var a;this.epb();a=new r.lua(this.u,this.iVa,this.ocb);a.dla(this.o9);a=a.ieb(this.I.NZ.eYb);return this.RKb&&1===a&&this.yA>=this.I.r0;};b.prototype.RN=function(){var a,b,c,f;a={};b=m.time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};b.prototype.fJa=function(a,b,c){a="avtp"===a?this.vE:this.wE;for(var f=b.OW(),h=0,l="skew"===c?3:4,n=0;n<b.cf.length;n++)k.W(a)||k.W(f)||(h+=Math.pow(b.cf[n]-a,l));h/=b.cf.length;return!k.W(f)&&0<f?h/Math.pow(f,l)-3*("skew"===c?0:1):NaN;};b.prototype.rJa=function(a,b,c){var f;f=0;"lte"===c?f=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(f=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return f;};b.prototype.Sob=function(a){var b,c;b=a.Rp(25);c=a.Rp(50);a=a.Rp(75);return k.W(b)||k.W(c)||k.W(a)?NaN:0<c?(a-b)/c:NaN;};b.prototype.pnb=function(a,b){a="avtp"===a?this.vE:this.wE;b=b.OW();return!k.W(b)&&!k.W(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};b.prototype.YN=function(a,b){a=a.Rp(b);return k.W(a)?NaN:a;};b.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};b.prototype.epb=function(){var a,b,c,f,l,n,q,d,r,m,g,p;a=this;b=this.I.NZ.sNa.NWb;c=this.I.NZ.sNa.LWb;f=this.I.NZ.sNa.MWb;d=[];p=0;this.RKb=!Object.keys(b).some(function(h){var x;g=NaN;if(!(b.hasOwnProperty(h)&&c.hasOwnProperty(h)&&f.hasOwnProperty(h)&&!k.W(a.zu)&&a.zu.GF&&a.zu.F0)||1>a.yA||"number"!==typeof b[h]||"number"!==typeof c[h]||"number"!==typeof f[h])return!0;l=b[h];n=c[h];q=f[h];d=h.split("_",2);r=d[0];m=d[1];switch(r){case"avtp":x=a.zu.GF;break;case"neuhd":x=a.zu.F0;break;default:x=void 0;}if("avtp"===r||"neuhd"===r){if(x)switch(m){case"last":g=x.cf[a.yA-1];break;case"mean":g="avtp"===r?a.vE:a.wE;break;case"niqr":g=a.Sob(x);break;case"skew":g=a.fJa(r,x,"skew");break;case"kurtosis":g=a.fJa(r,x,"kurtosis");break;case"std":g=x.OW();break;case"b":g=a.pnb(r,x);break;default:-1!==h.search("[p][1-9]?[1-9]")&&(g=a.YN(x,Number(h.split("_p",2)[1])));}}else switch(h){case"fracAbove20Mbps":x=a.zu.GF;g=k.W(x)?NaN:a.rJa(x.cf,2E4,"gte");break;case"fracBelow20p":x=a.zu.F0;g=k.W(x)?NaN:a.rJa(x.cf,.15,"lte");break;case"hour_current":g=a.RN().currentHour;break;case"session_ct":g=a.yA;break;case"intercept":g=l,a.ocb=g;}g=a.normalize(g,n,q);if(isNaN(g))return!0;"intercept"!==h&&(a.o9.push(g),a.iVa.push(l),a.Alb[h]=p,p+=1);});};b.prototype.tCa=function(a,b){this.PV.forEach(function(c){c=c.get().kmb;!c||"avtp"!==a&&"neuhd"!==a||k.W(c[a])||b.oW(Number(c[a]));});};return b;}(d);b.Rsa=d;},function(d,b,a){var r;function c(){}function k(a,b,c){void 0===c&&(c=!1);r(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");r(1E-8<m(a),"bitrate zero, won't be able to send anything.");this.sx=a;this.ZGa=b;this.repeat=c;this.vk=this.gm=0;}function m(a){return a.reduce(function(a,b){return a+b;},0);}r=a(5).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.Go=function(){var a;a=new k(this.sx,this.ZGa,this.repeat);a.gm=this.gm;a.vk=this.vk;return a;};k.prototype.yga=function(){return this.sx[this.gm%this.sx.length];};k.prototype.ay=function(){return this.ZGa[this.gm%this.sx.length];};k.prototype.Ejb=function(a){r(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.gm&&this.gm<this.sx.length))throw new c();r(this.vk<this.ay(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.ay()-this.vk;b=a<b?a:b;a-=b;this.vk+=b;if(this.vk<this.ay())break;this.vk-=this.ay();this.gm+=1;if(!this.repeat&&this.gm>=this.sx.length){if(0<a)throw new c();break;}}};k.prototype.rQa=function(a){this.Ejb(a);};k.prototype.Fjb=function(a){r(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.gm&&this.gm<this.sx.length))throw new c();r(this.vk<this.ay(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,l=0;;){b=this.ay()-this.vk;b=a<b*this.yga()?a/this.yga():b;a-=this.yga()*b;l+=b;this.vk+=b;if(this.vk<this.ay())return l;this.vk-=this.ay();this.gm+=1;if(!this.repeat&&this.gm>=this.sx.length){if(0<a)throw new c();return l;}}};d.P={O4a:k,P4a:c};},function(d,b,a){var m;function c(a,b,c){this.aa=a;this.np=b;this.XP=c;}function k(a,b){this.Ria=b;void 0===b&&(this.Ria=!0);this.Xi=a;this.B5a();}m=a(5).assert;c.prototype.constructor=c;c.prototype.Qu=function(){return 8*this.aa/1E3/this.np;};k.prototype.constructor=k;k.prototype.Go=function(a,b,c,l,f){void 0===b&&(b=0);void 0===c&&(c=a.UG());void 0===l&&(l=0);void 0===f&&(f=a.Xi.length);for(var h=[],n,d=l;d<f;d++){l=[];for(var q=b;q<c;q++)n=a.Xi[d][q],l.push(n);h.push(l);}return new k(h,a.Ria);};k.prototype.B5a=function(){var a,b;a=this.Xi[0].length;for(b in this.Xi.slice(1))m(this.Xi[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Xi[b].length+" and "+a);this.Ria&&this.C5a();this.D5a();};k.prototype.UG=function(){return this.Xi[0].length;};k.prototype.C5a=function(){for(var a=0;a<this.Xi.length-1;a++)for(var b=0;b<this.UG();b++)m(this.Xi[a][b].aa<=this.Xi[a+1][b].aa,"Chunk size for epoch "+b+" is not monotonic");};k.prototype.D5a=function(){for(var a=0;a<this.Xi.length-1;a++)for(var b=0;b<this.UG();b++)m(1E-8>Math.abs(this.Xi[a][b].np-this.Xi[a+1][b].np),"Chunk duration for epoch "+b+" is not consistent");};k.prototype.zqb=function(){var a;a=[];this.Xi[0].forEach(function(b){a.push(b.np);});return a;};d.P={oZa:c,pZa:k};},function(d,b,a){var c,k,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.jT=void 0;c=a(0);k=a(745);d=a(387);m=a(159);r=a(19);q=a(238);n=a(5);l=a(28);f=a(4);a=function(a){function b(b,c,h,n,d,q,r,m,g,x,p,t,u){h=a.call(this,n,m,h,n,n,d,l.ha.ue(q),r,p,t,u)||this;h.ab=b;h.Qg=c;h.ff=g;h.xf=x;h.Fba=0;h.vA.EWa=!1;h.E9a=m;h.bL=new k.Qta(n,h.xf,m,h.u,h.L,h.Qg,h.Ja,h.ab);h.eub=f.time.ea();h.Xtb=void 0;h.eC=m.rha;h.hRa=f.time.ea();h.OQ(d);return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{Taa:{get:function(){return this.Ja.Taa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RF:{get:function(){return this.Ja.RF;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aB:{get:function(){return this.Ja.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ly:{get:function(){return this.Ja.Ly;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jg:{get:function(){return this.bL.Jg;},set:function(a){this.bL.Jg=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tm:{get:function(){return this.bL.Tm;},set:function(a){this.bL.Tm=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{O_:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{osb:{get:function(){return this.MAa.va;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{AI:{get:function(){return this.gCa.AI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Opb:{get:function(){return this.ab.V$;},enumerable:!1,configurable:!0}});b.prototype.reset=function(){this.seeking=void 0;this.connected=this.Jg=!1;this.vA.reset();};b.prototype.wg=function(){this.reset();a.prototype.wg.call(this);};b.prototype.zB=function(a,b){return q.zB(this.Sg.L,this.I,a,b,this.Fg,this.ab.twb,this.JL);};b.prototype.Lo=function(a,b,c,f){return q.Lo(this.Sg.L,this.I,a,b,c,f);};b.prototype.mj=function(a){this.Ja.mj(a);this.eC=this.I.rha;};b.prototype.FF=function(){this.Ja.xR();};b.prototype.OQ=function(a){var b,c;b=this.ab;c=this.L;n.assert(a.L===c);n.assert(a.O===this.Ic.O);this.Sg=a;this.Ic.O.Foa(c,a.Nc);0===c&&(this.JL=m.Uaa(this.E9a,a.Nc[0]));b.f7a(this,a.aC);this.edb(a.Nc);this.Vf.OQ(a);this.Ic.O.eca();this.Jg=!1;};b.prototype.Cea=function(a){var b;b=this.Ic.O.ig[this.L];if(b&&b.stream.Vd&&(a=b.stream.Z.jm(a),-1!==a))return a;};b.prototype.WC=function(a){var b,c,f;if(this.eg&&this.eg.S===a)b=this.eg.index,c=a;else{f=this.Ic.O;b=f.ig[this.L];if(!b||!b.stream.Vd){this.vC=a;return;}c=b.stream.Z;this.eg=this.Lo(b.stream,a,void 0,!1);if(void 0===this.eg){if(b=c.length-1,c=c.Sh(b),this.eb("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.ve.Cf),f.ve.Cf){this.vC=a;return;}}else b=this.eg.index,c=this.eg.S;}this.Dk=b;this.XV=c;this.vC=void 0;};b.prototype.oLb=function(a){var b,c;b=this.Sg.Yr(a);c="verifying streamId: "+a+" stream's track: "+(b?b.ta:"unknown")+" currentTrack: "+this.Sg.$a;return b?!0:(this.Qg.Ek(c),this.Qg.Ek("unknown streamId: "+a),!1);};b.prototype.edb=function(a){this.qrb=a.reduce(function(a,b){return b.oq&&b.R>a.R?b:a;},a[0]);};b.prototype.x2=function(a){this.jg=a;};b.prototype.zvb=function(a,b,c,f){this.YVa(a,b,f);c&&++this.Fba;this.ab.ki();};b.prototype.Bv=function(b){b.oa&&b.S&&(this.eC-=b.oa-b.S);a.prototype.Bv.call(this,b);};b.prototype.hj=function(a){this.IKa(a);this.aq(a);};b.prototype.iKb=function(a){var b;b=f.time.ea();this.eC+=a*(b-this.hRa);this.hRa=b;};b.prototype.cEb=function(){this.eC=this.I.rha;};b.prototype.OF=function(a){this.Ja.KEa();this.Fg||this.bL.OF(a,this.Vb);};b.prototype.IKa=function(a){var b,c,f;c=this.O_;f=this.ab;this.ff.iCa()||(this.Qg.z8a(a.L,a.O.Ya,a.stream.track.IA,this.Ir),null===(b=this.Fg)||void 0===b?void 0:b.Zrb(a),b=c.U.Ld()||0,f.Xa.Ct()||(c=c.Qe(r.Na.VIDEO))&&!c.Dj&&c.JZ&&f.Xa.pga(c),this.OF(b),this.ab.HKa(a),this.ff.MU(this)&&this.ff.ki());};b.prototype.xka=function(a){this.ab.zZ(a);};b.prototype.JEa=function(a,b,c,f,l,h){var n,d;n=this.I;d=n.kg;if(c>=n.kg&&(n.U1&&(d=c+1E3),n.nQ&&!this.connected))return!1;if(this.Fg)return this.Fg.fm();c=this.Jg&&0===this.Ja.d1&&0===this.Ja.Us;return!c&&f<d?!1:c?h&&0===f?(this.eb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.NEa(a,b,l);};b.prototype.eGb=function(a){this.XV=a;};return b;}(d.N7);b.jT=a;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F;Object.defineProperty(b,"__esModule",{value:!0});b.Pta=b.vK=void 0;c=a(0);d=a(16);k=a(388);m=a(370);r=a(18);q=a(216);n=a(28);l=a(33);f=a(8);h=a(62);g=a(4);(function(a){a[a.rIa=0]="forwards";a[a.tba=1]="backwards";a[a.Wja=2]="none";}(F=b.vK||(b.vK={})));a=function(a){function b(b,c,f,l,h,d,q,r,k,g,x,F,I,E,p,t){var J,K;J=a.call(this,c,l,k.O,b,k,g,I,x,q.Ld.bind(q),F,t,void 0,q.No.bind(q),void 0,void 0,!0)||this;J.ab=b;J.Qg=f;J.Bb=h;J.XU=d;J.U=q;J.kF=r;J.Gf=F;J.NN=E;J.xf=p;J.gn=t;J.active=!1;J.IAa=[];J.Q$=0;J.children=Object.create(null);J.Ss=[];J.rd=void 0;void 0===I&&(I=n.ha.ue(k.S));K=[J.I.oba,J.I.T2];g.forEach(function(a){var f,l;f=a.L;l=h.ZY.bind(h,J,f);a=new m.jT(b,J.Qg,J.u,J,a,I.va,K[f],c,J.XU,J.xf,J.cV[f],null===F||void 0===F?void 0:F.Qe(f),l);J.tg[f]=a;});J.BL=J.GB()[0];return J;}c.__extends(b,a);Object.defineProperties(b.prototype,{G:{get:function(){return this.O.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Il:{get:function(){return[this.Uc[0].Il,this.Uc[1].Il];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fo:{get:function(){return[this.Uc[0].Fo,this.Uc[1].Fo];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{l2:{get:function(){return this.ba.S;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vka:{get:function(){return this.l2+this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vb:{get:function(){return this.ba.oa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{we:{get:function(){return this.Vb+this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jb:{get:function(){return this.O.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.ba.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ba:{get:function(){return this.ZBa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uc:{get:function(){return this.tg;},enumerable:!1,configurable:!0}});b.prototype.wg=function(){this.Sp||(this.active=!1,this.Gf&&(delete this.Gf.children[this.ba.id],this.Gf=void 0),f.Td(this.children,function(a){a&&a.Gf&&(a.Gf=void 0);}),this.children=Object.create(null),this.CE=void 0,a.prototype.wg.call(this),this.tg=[]);};b.prototype.ema=function(a,b){void 0===b&&(b=F.tba);this.Uc.forEach(function(b){(f.W(a)||b.L===a)&&b.reset();});switch(b){case F.tba:this.Gf&&this.Gf.ema(a,b);break;case F.rIa:this.children&&f.Td(this.children,function(c){c&&c.ema(a,b);});}};b.prototype.OLa=function(a){var b,c,f;if(!this.active)return!1;b=this.Gf;if(b){c=b.Qe(a);f=c.Ja.wQa;if(0!==f&&(b.FF(a),f=c.Ja.wQa,0!==f))return!1;}return!0;};b.prototype.Kc=function(a){return this.Uc[a];};b.prototype.grb=function(){return this.Uc.every(function(a){return 0===a.Ly;});};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.dd,playerEndPts:this.we,pipelines:this.Uc,previousBranch:this.Gf});};b.prototype.WTa=function(a,b){this.O.hWa(this);this.O=this.ba.O=a;this.NTa(this.O);this.O.aSa(this);this.Uc.forEach(function(a){var c;c=b[a.L];c&&a.OQ(c);});};b.prototype.lpb=function(a){return this.gn[a];};b.prototype.Qe=function(a){return this.Uc[a];};b.prototype.Apb=function(a){return this.Uc[a].Ly;};b.prototype.ana=function(a,b,c){var f,l,h,n;f=this;l=this.ba;a=this.NW(l.S,this.O,a,this.G===(a?a.G:this.Bb.Sb.G));h=a.iI;n=a.Ju;void 0===b&&(b=[0,1]);0===n.length||b.forEach(function(a){var b,h;b=f.Uc[a];c&&(b.eg=n[a]);h=f.CN(l.oa);b.x2(h[a]);});return h;};b.prototype.YRa=function(a,b){var c,h,l,n;c=this.ab;h=this.Uc[0];void 0===b&&(b=h.osb);this.Gf&&(l=this.Gf.Kc(0));n=this.Bb.ZY.bind(this.Bb,this,0);c=new m.jT(c,this.Qg,this.u,this,a,b,h.AI,this.I,this.XU,this.xf,this.cV[0],l,n);this.Uc[0]=c;this.BL=this.GB()[0];this.ana(this.Gf,[0],!0);c.WC(b);h.wg();f.Td(this.children,function(b){b&&b.YRa(a);});};b.prototype.Qr=function(a,b){if(b=this.Uc[b])return b.Ja.Qr(a);};b.prototype.FF=function(a){void 0===a?this.Uc.forEach(function(a){a.FF();}):this.Uc[a].FF();};b.prototype.UP=function(a,b,c){(a=this.Uc[a])&&a.Ja.UP(b,c);};b.prototype.iZ=function(a,b){(b=this.Uc[b])&&b.Ja.iZ(a);};b.prototype.Kvb=function(a){this.IAa[a]=!0;};b.prototype.Odb=function(){var a;a=this;return[0,1].every(function(b){return!a.jb(b)||a.IAa[b];});};b.prototype.Mdb=function(a,b,c,f){var h,l,n,d,m,k,x,F,I;h=this.I;l=this.ab;n=this.U.Tc();d=n===r.pa.Dd||n===r.pa.Ze;if(!d&&void 0===c)return{Dj:!0};if(n===r.pa.Ze&&g.time.ea()<this.Q$+h.axb)return{Dj:!1};m=this.Uc[0];k=this.Uc[1];x=this.Bb.Gr(this,0);F=this.Bb.Gr(this,1);I=q.p1(n);x=!m||m.JEa(I,this.U.Ld(),b,x,this.U.No(),f);F=!k||k.JEa(I,this.U.Ld(),a,F,this.U.No(),f);void 0!==c&&x&&(c=c.$a,a=this.O.getTrackById(c),this.F5a(c,a.tR),l.iu=void 0);if(x&&F)return this.kF(),n===r.pa.Ze&&(this.Q$=g.time.ea()),{Dj:!0,Qp:k?k.mu:m.mu};x=this.ti(0);F=this.ti(1);if(d){l=!k||F>h.kg;if((!m||x>h.kg)&&l&&(m=this.NN(),m>=h.zq))return this.eb("buffering longer than limit: "+m+" >= "+h.zq+", audio buffer: "+x+" ms, video buffer: "+F+" ms"),this.kF(),n===r.pa.Ze&&(this.Q$=g.time.ea()),{Dj:!0,Qp:"prebufferTimeLimit"};this.Qg.b8a();}return{Dj:!1};};b.prototype.Zba=function(a,b){var c,f,h,l,n,d;c=this.I;f=this.Uc[0];h=this.Uc[1];b?(b=this.ti(0,a),a=this.ti(1,a)):(b=this.Bb.Gr(this,0,a),a=this.Bb.Gr(this,1,a));l=c.kg;n=!this.jb(0)||f.Jg&&0===f.Ja.Ev&&0===f.Ja.Us;f=!this.jb(1)||h.Jg&&0===h.Ja.Ev&&0===h.Ja.Us;d=n&&f;c=!n&&b<c.kg;if(!d&&(c||!f&&a<l))return!1;if(h&&h.Dj||!this.jb(1))return!0;if(d)if(this.ab.zV&&0===b&&0===a)this.eb("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};b.prototype.UC=function(a,b){var c,f;c=this;f=this.I;this.Uc.forEach(function(a){a.seeking=void 0;});a&&f.Ug&&this.Uc.forEach(function(a){var f;if(a){f=c.Bb.XA(c,a.L);a="bufferingComplete: , mediaType: "+a.L+", bufferLevelBytes: "+a.Fo.aa+", completedMs: "+a.RF+", completedBytes: "+f+", partials: "+a.Ja.Ev+", streamingPts: "+a.Lb+", completeStreamingPts: "+a.Ir+", fragments: "+JSON.stringify(a.Ja.Z)+", toAppend: "+b(a.L);c.Qg.Ek(a);}});};b.prototype.NIa=function(){var a,b;a=!0;b={};this.Uc.map(function(c){var f;f=1===c.L?"v":"a";c=c.Fo;b[f+"buflmsec"]=c.va;b[f+"buflbytes"]=c.aa;a=a&&0<c.va;});return{CZ:a,vM:b};};b.prototype.M2=function(a,b,c){var h,l,n;h=this;l=g.time.ea();n={};f.Td(this.children,function(a){var b,c;if(a){a.rd?(a.rd.Jjb=l-a.rd.b_,a.rd.b_=void 0,b=a.rd.weight):b=h.Bb.eKa(h.ba.id,a.ba.id);c=a.NIa();n[a.ba.id]={weight:b,vM:c.vM,CZ:c.CZ};}});c={requestTime:l,i2:a,Gib:c,J2:this.ba.id,rd:n};a||(a=b.Ld(),c.LI=a-(this.ba.S+this.de),c.LI=Math.max(0,c.LI),c.CX=0,c.startTime=l);this.Ss.unshift(c);return c;};b.prototype.Feb=function(a){var b,c;b=this.Ss[0];b.i2&&(b.LI=this.Vb-this.ba.S,b.LI=Math.max(0,b.LI));c=a.NIa();b.OVa={};h(c.vM,b.OVa);b.CZ=a.Fo.every(function(a){return 0<a.va;});this.Ss=[];return b;};b.prototype.mj=function(a){var b;b=this.ba;a-=this.de;if(b.S<a&&a<b.oa)this.Ss.shift();else if(b=this.Ss[0])b.mj=!0;};b.prototype.NW=function(a,b,c,f){var h,l,n,d;h=this;void 0===b&&(b=this.O);l=!1;if(c){l=!0;n=c.Uc[1].jg;c=c.Uc[0].jg;if(!n||!c)return{iI:[],Ju:[]};n=n.oa;f||(n=void 0);}d=this.WHa(a,n,l,b);b.Ya===this.Bb.Vhb&&[1,0].forEach(function(a){var b;b=h.Qe(a);b&&(b.eg=d[a]);});return{iI:d.map(function(a){return a.S;}),Ju:d};};b.prototype.WHa=function(a,b,c,f){var h;h=this;void 0===f&&(f=this.O);return this.vCa(f)?[1,0].map(function(l){if(!h.jb(l))return{};l=h.Uc[l].Lo(f.ig[l].stream,a,b,c);a=l.S;return l;}).reverse():[];};b.prototype.CN=function(a,b){var c;c=this;void 0===b&&(b=this.O);return this.vCa(b)?[1,0].map(function(f){var h;if(!c.jb(f))return{};h=b.ig[f].stream;f=c.Uc[f].zB(h,a);a=c.I.Fg?new n.ha(f.hb,h.Qa.T).va:f.oa;return f;}).reverse():[];};b.prototype.gKb=function(a,b){var c;c=this.ba.oa;c&&c<b&&(a=this.CN(c));b=this.Kc(1);c=this.Kc(0);b&&b.x2(a[1]);c&&c.x2(a[0]);};b.prototype.vCa=function(a){var b;b=a.ig;if(!b)return!1;a=b[1];a=!this.jb(1)||a&&a.stream.Vd;b=b[0];b=!this.jb(0)||b&&b.stream.Vd;return a&&b?!0:!1;};b.prototype.F5a=function(a,b){this.Qg.$7a(a,b);};return b;}(k.i4);b.Pta=a;l.Ke(d.EventEmitter,a);},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F;Object.defineProperty(b,"__esModule",{value:!0});b.j4=void 0;c=a(8);k=a(62);m=a(4);r=a(371);q=a(744);n=a(18);l=a(221);f=a(11);h=a(5);g=a(28);F=a(381);d=function(){function a(a,b,c,n,d,q,r,k,g,x){this.ab=a;this.Qg=b;this.u=c;this.kF=n;this.I=r;this.XU=k;this.DBa=g;this.NN=x;this.eb=this.u.warn.bind(this.u);this.Aj=this.u.trace.bind(this.u);this.$f=this.u.log.bind(this.u);this.mh=[];this.pn={};d.uu?(h.assert(!d.Lk),this.E9=!0,this.Q8a(d,d.uu,q)):(this.Ul=this.R9(d.Lk||"",d,0,void 0,void 0,{},!0),this.Ul.JH=!0,this.Ul.oa=Infinity,this.aW=[this.Ul]);this.Fc=this.OU(this.Ul,void 0,q);this.Fc.active=!0;a=f.py(m,this.u,"BranchQueue::");this.ci=new l.aS(a);this.ci.enqueue(this.Fc);this.R$=this.mL=void 0;}a.hfa=function(a){return"m"+a;};Object.defineProperties(a.prototype,{Yu:{get:function(){return!!this.E9;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yi:{get:function(){return this.Fc.Sp;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lh:{get:function(){return this.Ul;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cg:{get:function(){return this.Fc.ba.id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vhb:{get:function(){return this.Fc.O.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sb:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jc:{get:function(){return this.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{de:{get:function(){return this.Fc.de;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xf:{get:function(){return this.ab.xf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mk:{get:function(){return this.mL?this.mL:this.Jc[0];},enumerable:!1,configurable:!0}});a.prototype.ad=function(){this.mh.forEach(function(a){a.wg();});this.mh=[];this.ci.clear();};a.prototype.Ag=function(a){return this.pn[a];};a.prototype.fKa=function(){return this.ci.AJa();};a.prototype.eKa=function(a,b){var c;c=this.pn[a];if(c)return(a=c.Jj[b])&&a.weight;this.eb("getSegmentWeight, unknown segment:",a);};a.prototype.Jpb=function(a){var b;b=this.pn[a];if(b)return b.S;this.eb("getSegmentStartPts, unknown segment:",a);};a.prototype.Ipb=function(a){var b;b=this.pn[a];if(!b)this.eb("getSegmentDuration, unknown segment:",a);else if(c.ma(b.oa)&&isFinite(b.oa)&&c.ma(b.S)&&isFinite(b.S))return b.oa-b.S;};a.prototype.Ola=function(a){var b;b=-1;this.mh.some(function(c,f){return c===a?(b=f,!0):!1;});-1!==b?this.mh.splice(b,1):this.eb("Unable to find branch:",a,"in branches array");};a.prototype.bdb=function(a,b){var c;c=0;this.zAa(a).forEach(function(a){(a=a.Kc(b))&&(c+=a.Taa);});return c;};a.prototype.XA=function(a,b){var c;c=0;this.zAa(a).forEach(function(a){(a=a.Kc(b))&&(c+=a.aB);});return c;};a.prototype.Gr=function(a,b,c){if(!a.jb(b))return 0;for(var f=a.Qe(b),f=c?f.Lb:f.Ir;void 0===f;){if(!a.Gf)return 0;a=a.Gf;f=a.Qe(b);f=c?f.Lb:f.Ir;}a=this.DBa.Ld();return Math.max(f-a,0);};a.prototype.ZY=function(a,b){var c;if(void 0!==this.I.cC){c=m.yk()[b];a=this.bdb(a,b);return c-a;}};a.prototype.Bea=function(a){return this.mh.filter(function(b){if(b.O.Ya===a)return!0;});};a.prototype.Klb=function(a,b){return this.sAa(a,!1,b);};a.prototype.Jlb=function(a,b){return this.sAa(a,!0,b);};a.prototype.GDb=function(a,b,f){c.Td(this.mh,function(c){c.O===a&&c.WTa(b,f);});c.Td(this.pn,function(c){c.O===a&&(c.O=b);});};a.prototype.BSa=function(){var a;a=this;c.Td(this.mh,function(b){var c;c=a.ab.fg(b.O.Ya);b.Er=g.ha.ue(c.hs);});};a.prototype.Uv=function(a){var b;b=this;c.Td(this.mh,function(c){c.Qe(1).track.Nc.forEach(function(c){var f;f=F.bba(c.bg,c.R,a,b.u);k(f,c);});});};a.prototype.Qr=function(a,b,c,f){var h;for(;b;){h=b.Qr(a,c);if(h)return h;if(f)break;b=b.Gf;}};a.prototype.cGa=function(a){var b,c;b=this;void 0===a&&(a=!1);c=this.mh;a&&(c=c.filter(function(a){return a!==b.Fc;}));c.forEach(function(a){a.active=!1;b.ci.remove(a);});a||this.ci.clear();return c;};a.prototype.UBb=function(){var a;for(;0<this.mh.length;){a=this.mh[0];if(!a.active)break;if(a===this.Fc)break;if(!a.grb())break;a.wg();this.mh.shift();}};a.prototype.UP=function(a,b,c,f,h){if(c>f){for(c-=f;a;)a.UP(b,c,h),a=a.Gf;return c;}};a.prototype.zNa=function(a,b){for(var c={LM:null,bI:null,dd:null,jj:0,Vh:0,Z:[]};a;)a.iZ(c,b),a=a.Gf;return c;};a.prototype.teb=function(a){var b,c,f;b=this.Fc;if(b.nNa)c=b.nNa;else{f=this.Fc.de;c=this.OU(b.ba,b);n.Me.forEach(function(a){var f;f=c.Kc(a);f&&(f.WC(0),f.x2(b.Kc(a).jg));});c.Er=g.ha.ue(f+a);b.nNa=c;}this.sE(c,b);};a.prototype.kab=function(b,c,f){var l,n;h.assert(!b.Yu());if(!this.E9){this.E9=!0;this.mL=this.Mk;l=this.Ul.id||a.hfa(0);this.Ul.id=l;this.pn[l]=this.Ul;this.Ul.oa=this.ab.uob().DJa();this.Ul.Fy=!0;}n=void 0!==b.Lk?b.Lk:a.hfa(b.Ya);b=this.R9(n,b,c,f,void 0,{},!0);b.Fy=!0;this.aW.forEach(function(a){a.Jj={};a.Jj[n]={weight:100};a.gN=n;a.Ms=!1;});this.aW=[b];};a.prototype.vu=function(a,b){var c,f,h,l;c=this.Mk;f=c.M2(b,this.ab.U);h=c.ba;l=c.children[a];if(b){if(!h.Jj[a])return this.Fc.eb("chooseNextSegment, invalid destination:",a,"for current segment:",h.id),!1;if(c.Zi)return c.Zi===a;c.Zi=a;l&&c.AY&&this.sE(l,c);return!0;}if(void 0!==c.Zi)return!1;if(!l)return f.ROa=!0,!1;f.ROa=!l.Zba();this.ab.Z$(void 0,r.vK.Wja);c.AY=void 0;c.Zi=a;this.sE(l,c);c.aea();this.ab.IL();return!0;};a.prototype.urb=function(a,b){var f,h,l,n;f=this;n=a.ba;b&&!a.Zi&&(a.Zi=n.gN,a.M2(!0,this.ab.U,!0));a.children=Object.create(null);c.Td(n.Jj,function(b,c){a.Zi&&c!==a.Zi||(h=f.pn[c],l=f.i6a(h,a),a.children[c]=l);});a.Zi&&(b=a.children[a.Zi])&&this.sE(b,a);a.AY=!0;};a.prototype.pJb=function(){var a;a=0;c.Td(this.mh,function(b){n.Me.forEach(function(c){b.jb(c)&&(a+=b.Kc(c).Ja.wo);});});return a;};a.prototype.vIb=function(a,b){var c,f,h;c=this;f=this.M6a(a,b);if(f){f!==this.Fc.ba?(this.cGa(),h=this.OU(f,this.Fc,a),h.Gf=void 0,h.ana(void 0,void 0,!0),this.l5a(this.Fc),this.sE(h,this.Fc)):(this.cGa(!0).forEach(function(a){a.wg();c.Ola(a);c.ci.remove(a);}),this.Fc.Doa(a,this.I.Y2));f===this.Mk.ba&&(this.Mk.Ss.shift(),h&&(h.Ss=this.Mk.Ss,h.Zi=this.Mk.Zi));this.Qg.uV(f,this.Fc.de);this.Fc.AY=void 0;}else this.eb("findSegment no segment for manifestIndex:",b);};a.prototype.xNa=function(a,b){var c;c=a.ba;b||(b=c.gN);f.Gma(c.id);a.Zi||(a.Zi=b,a.M2(!0,this.ab.U,!0));(b=a.children[a.Zi])&&this.sE(b,a);};a.prototype.ETa=function(a,b){if(this.Fc!==a){if(b)for(b=this.Fc;b&&b!==a;)b.active=!1,this.ci.remove(b),b=b.Gf;this.Fc=a;}};a.prototype.Mq=function(a,b){var c,h,l,d,q;c=this;if(this.Yu){h=this.I;l=this.Mk;d=l.ba;q=f.Gma(d.id);!l.Zi&&!d.Ms&&l.Vb-b<=h.w0&&(this.eb(q+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.xNa(l));}n.Me.forEach(function(a){c.Fc.jb(a)&&c.xf[a].Mq();});};a.prototype.$xb=function(a,b){var c,f;if(this.Yu){c=this.mL;if(!(this.I.Nrb&&a&&this.R$&&a.S===this.R$||(a=a.Ja.Ic,c&&a.ba.id===c.ba.id))){f=null===c||void 0===c?void 0:c.Kc(1);f=null===f||void 0===f?void 0:f.jg;this.R$=null===f||void 0===f?void 0:f.S;this.mL=a;this.I5a(c);c=c&&c.Feb(a);this.Qg.v8a(a.ba,b,c);}}};a.prototype.Yja=function(a,b,c){b.JH||(b.S=this.TJa(a,b.S,!0),c||(b.oa=this.TJa(a,b.oa,!1)),b.JH=!0,!1);};a.prototype.l3=function(a,b){var h;f.Gma(a);h=this.pn[a];h?c.Td(h.Jj,function(a,c){a.weight=b[c]||0;}):this.eb("updateChoiceMapEntry, unknown segment:",a);};a.prototype.TJa=function(a,b,c){a=c?a.WHa(b):a.CN(b);if(!a.length)return b;b=a[1];return c?b.S:b.oa;};a.prototype.RAa=function(a,b,c){var f;f=b?c.Vb:c.we;return(b?c.l2:c.Vka)<=a&&a<f;};a.prototype.sAa=function(a,b,f){var d;for(var h=this.ab,l=this.Fc;l;){if((!c.ma(f)||h.Bha(f,l.O.Ya))&&this.RAa(a,b,l))return l;l=l.Gf;}if(b)for(var l=Object.keys(this.Fc.children),n=0;n<l.length;n++){d=this.Fc.children[l[n]];if((!c.ma(f)||h.Bha(f,d.O.Ya))&&this.RAa(a,b,d))return d;}};a.prototype.i6a=function(a,b){var c,f;c=this.OU(a,b);f=c.ana(b,void 0,this.I.Gla);n.Me.forEach(function(a){var h,l,n;if(c.jb(a)){h=c.Kc(a);l=b.Kc(a);n=f[a];1===a&&(c.Er=g.ha.ue(l.Lb+b.de-n));h.WC(n);}});this.Qg.uV(a,c.de);return c;};a.prototype.l5a=function(a){for(var b=[a.ba.id];a.Gf;)a=a.Gf,b.unshift(a.ba.id);this.t9(a);};a.prototype.t9=function(a){var b,f;b=this;f=a.ba;c.Td(a.children,function(a){a&&b.t9(a);});this.ci.remove(a);a.wg();this.Ola(a);this.Qg.s8a(f);};a.prototype.sE=function(a,b){var f,h,l,n;f=this;h=b.ba;b.O!==a.O&&this.ab.aBa(a.O.Ya);a.active=!0;this.ci.enqueue(a);a.FF();l=m.time.ea();n={};c.Td(b.children,function(b){var c,h;if(b){if(b.rd){c=b.Kc(0);h=b.Kc(1);b.rd.uM=[c?c.Fo.va:0,h?h.Fo.va:0];b.rd.Jjb=l-b.rd.b_;b.rd.b_=void 0;n[b.ba.id]=b.rd;}b.ba.id!==a.ba.id&&f.t9(b);}});b.children=Object.create(null);b.children[a.ba.id]=a;b.CE=void 0;this.ETa(a);this.Qg.t8a(a.ba,n);1<Object.keys(h.Jj).length&&a.Zba();};a.prototype.I5a=function(a){var b,c;if(a){b=m.time.ea();c=a.Ss[0];c&&void 0===c.CX?c.CX=b-c.requestTime:c||(this.eb("missing metrics for branch:",a.ba.id),c={J2:a.ba.id,i2:!0,CX:0,rd:{}},a.Ss.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.M6a=function(a,b){var f,l,d,q;h.assert(0<=a);for(var n in this.pn){d=this.pn[n];if(this.ab.Bha(d.O.Ya,b)){if(d.S<=a&&(Infinity===d.oa||void 0===d.oa||a<d.oa))return d;q=Math.min(Math.abs(a-d.S),Math.abs(a-d.oa));if(c.W(f)||q<f)f=q,l=d;}}return l;};a.prototype.R9=function(a,b,c,f,h,l,n,d,r){b=new q.Xxa(a,b,c,f,h,l,n,d,void 0,r);return this.pn[a]=b;};a.prototype.Q8a=function(a,b,f){var h,l,n;h=this;this.Ul=void 0;this.aW=[];l=null;n=null;c.Td(b.segments,function(b,d){var q,r,m,k,g;q=b.startTimeMs;r=b.endTimeMs;m={};c.Td(b.next,function(a,c){m[c]={weight:a.weight||0,zJb:a.transitionHint||b.transitionHint,kVb:"number"===typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});k=b.defaultNext;c.W(k)&&(k=Object.keys(m)[0]);g=c.W(k);k=h.R9(d,a,q,r,k,m,g,b.transitionDelayZones,b.transitionHint);q<=f&&(f<r||c.W(r))?h.Ul=k:q>f&&(!l||q<n)&&(l=d,n=q);g&&h.aW.push(k);});this.Ul||(this.Ul=l?this.pn[l]:this.pn[b.initialSegment]);};a.prototype.OU=function(a,b,c){var f,h,l,n;f=a.O;h=this.ab.fg(f.Ya);l=h.hs;n=[];[0,1].forEach(function(a){f.jb(a)&&n.push(h.In(a));});a=new r.Pta(this.ab,this.I,this.Qg,this.u,this,this.XU,this.DBa,this.kF,a,n,l,b,c?g.ha.ue(c):void 0,this.NN,this.ab.xf,this.ab.sr);this.n5a(a);this.mh.push(a);return a;};a.prototype.n5a=function(a){var c;function b(a){c.ab.emit(a.type,a);}c=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;c.ab.baa(a.L,a.S);});};a.prototype.zAa=function(a){for(var b=[a];a.Gf;)a=a.Gf,b.push(a);return b;};return a;}();b.j4=d;},function(d,b,a){var r,q;function c(a,b,c,h,d,q){return new m(a,b,c,h,d,q);}function k(a){return a&&0<=a.indexOf(".__metadata__");}function m(a,b,c,h,d,q){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=h;this.creationTime=d;this.lastRefresh=q;return this.GVa();}r=a(8);q=a(108);a(107);new q.Console("MEDIACACHE","media|asejs");m.prototype.refresh=function(){this.lastRefresh=q.time.now();return this.GVa();};m.prototype.PTa=function(a){this.size=a;};m.prototype.sFa=function(){var a;a=q.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};m.prototype.GVa=function(){this.lastMetadataUpdate=q.time.now();return this;};m.prototype.constructor=m;d.P={create:c,cfa:function(a){var b;b=a;"string"===typeof a&&(b=JSON.parse(a));if(b&&b.partition&&!r.W(b.lifespan)&&b.resourceIndex&&b.creationTime&&b.lastRefresh)return a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate&&(a.lastMetadataUpdate=b.lastMetadataUpdate),!r.W(b.size)&&0<=b.size&&a.PTa(b.size),a.sFa(),a.convertToBinaryData=b.convertToBinaryData,a;},Ica:function(a){return a+".__metadata__";},iY:function(a){return k(a)?a.slice(0,a.length-13):a;},cH:k};},function(d,b,a){var I,E,J,K,D,p,t,V,S,A,u,ma,da;function c(){}function k(a,b){var f,n,d,q;f=I.Tb(b)?b:c;this.I=a||{};(function(a,b,c){this.hi[a].Gd[b]=c;}.bind(this));(function(a,b){return this.hi[a].Gd?this.hi[a].Gd[b]:void 0;}.bind(this));this.on=this.addEventListener=ma.addEventListener;this.removeEventListener=ma.removeEventListener;this.emit=this.Ka=a.qVb?ma.Ka:c;n=K.bhb(a);d=this.I.dailyDiskCacheWriteLimit;if(n){this.ir=n;q=h(a.lja||da,K.Rnb());this.$t=function(a){return I.W(q)||null===q||void 0===this.hi[a]?!1:!I.W(q[a]);};q?(this.hi={},b=E.Promise.all(Object.keys(q).map(function(b){return new E.Promise(function(c,f){var h;h=q[b];h.HWa=a.HWa;new D(b,n,h,function(a,b){a?f(a):c(b);},d);});})).then(function(a){a.map(function(a){var b;b=a.bx;this.hi[b]=a;q[b].xmb=q[b].Tp-a.Zt;this.hi[b].on(D.Od.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ka("mediacache",a);}.bind(this));this.hi[b].on(D.Od.uza,function(a){a=a||{};a.partition=b;a.type="save";this.Ka("mediacache",a);}.bind(this));this.hi[b].on(D.Od.ERROR,function(a){a=a||{};a.partition=b;a.type=D.Od.ERROR;this.Ka("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){l(n,E.storage.gE,Object.keys(q));return a;}.bind(this)).then(function(a){Object.keys(a.hi).map(function(b){a.hi[b].Cfa().map(function(c){a["delete"](b,c);});});a.yl=!0;f(null,a);}.bind(this))["catch"](function(a){J.error("Failed to initialize media cache ",a);this.NB=A.dra;f(this.NB,this);}.bind(this)),u.zs(b)):(this.NB=A.u1a,f(this.NB,this));}else this.NB=A.dra,f(this.NB,this);}function m(a,b,c,f,h,l){var n;n=l?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:E.time.now()};l&&(b.error=l);h&&(I.ma(h.duration)&&(b.duration=h.duration),I.ma(h.ou)&&(b.bytesRead=h.ou));try{a.Ka(n,b);}catch(xa){J.warn("caught exception while emitting basic event",xa);}}function r(a,b,c,f,h){var l;l=h?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:E.time.now()};h&&(b.error=h);try{a.Ka(l,b);}catch(O){J.warn("caught exception while emitting basic event",O);}}function q(a){return!I.W(a)&&!I.Oa(a)&&I.ma(a.lifespan);}function n(a){return!p.cH(a)&&!V.Wsb(a);}function l(a,b,f){a.query(b,"",function(h,l){h||Object.keys(l).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(b,f,c);});});}function f(a,b,c){var h,l;function f(b){a["delete"](h,function(f){f?c(f):(delete a.Gd[l],f=Object.keys(b.resourceIndex),f=E.Promise.all(f.map(function(b){return new E.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),u.zs(f));});}p.cH(b)?(h=b,l=p.iY(b)):(h=p.Ica(b),l=b);(b=a.Gd[l])?f(b):a.read(h,function(a,b){a?c(a):f(b);});}function h(a,b){var c,f,h;c={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);h=b/f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Tp=Math.floor(h*a.capacity);c[b].Xhb=a.dailyWriteFactor||1;c[b].OXb=a.owner;c[b].alb=a.evictionPolicy;});return c;}function g(a,b,c){if(c)return V.qjb(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function F(a,b,c,f,h,l,n,d,q,r,m){return function(k,g){k?I.isArray(k)?(g=k.map(function(a){return a.error;}),g.some(function(a){return a.code===A.BD.code;})&&!g.some(function(a){return a.code===A.yU.code;})?m(r,k,function(){q.save(b,c,f,h,l,n);}):(r["delete"](d),delete r.Gd[c],l({error:k[0].error,ws:k[0].ws,type:k[0].type,XCa:k}))):l({error:k,ws:b,type:"save"}):(k=g.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.C_;},0),r.Gd[c].PTa(k),k={xmb:g.Oj,IUb:g.ZF,Wi:0,items:g},0<g.Wi&&(k.Wi=g.Wi),0<g.duration&&(k.duration=g.duration),l(null,k));};}I=a(8);E=a(108);J=new E.Console("MEDIACACHE","media|asejs");K=a(758);D=a(757);p=a(373);t=a(107);V=a(750);S=a(749);A=a(212);u=a(211);ma=a(106).EventEmitter;da={RXb:[]};k.prototype.GC=function(a,b,f){var h;h=I.Tb(f)?f:c;this.$t(a)?this.hi[a].query(b,function(a,b){a?(J.error("Failed to query resources",a),h([])):h(b.filter(n));}):h([]);};k.prototype.read=function(a,b,f){var h,l,n,d;h=I.Tb(f)?f:c;if(this.$t(a)){l=this.hi[a];n=l.Gd[b];if(!p.cH(b)&&this.I.owb){d=function(c){l.G1(Object.keys(c),function(c,f,l){c?h(A.pE.bo("Failed to read "+b,c)):(m(this,"read",a,b,l),h(null,V.ssb(f)));}.bind(this),c);}.bind(this);n?d(n.resourceIndex):this.sCb(a,b,function(a,c){a?h(A.pE.bo("Failed to read "+b,a)):d(c.resourceIndex);});}else l.read(b,function(c,f,l){c?h(A.pE.bo("Failed to read "+b,c)):(n&&n.convertToBinaryData&&(f=S.efb(f)),m(this,"read",a,b,l),h(null,f));}.bind(this));}else h(A.uw);};k.prototype.G1=function(a,b,f){var h,l;h=I.Tb(f)?f:c;if(this.$t(a)){l={};b=E.Promise.all(b.map(function(b){return new E.Promise(function(c,f){this.read(a,b,function(a,h){a?(h={},h[b]=a,f(h)):(l[b]=h,c());});}.bind(this));}.bind(this))).then(function(){h(null,l);},function(a){h(a);});u.zs(b);}else h(A.uw);};k.prototype.YSa=function(a,b,f){var h;h=I.Tb(f)?f:c;this.$t(a)?"[object Object]"!==Object.prototype.toString.call(b)?h(A.xU.bo("items must be a map of keys to objects")):(f=new E.Promise(function(c){var f,h;f=this.hi[a].Cfa();h=Object.keys(b);(f=f.filter(function(a){return-1===h.indexOf(a);}))&&0<f.length?this.yGa(a,f,function(){c();}):c();}.bind(this)).then(function(){return E.Promise.all(Object.keys(b).map(function(c){return new E.Promise(function(f,h){this.save(a,c,b[c].Vn,b[c].Cd,function(a,b){a?(J.error("Received an error saving",c,a),h(a)):f(b);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(c){var f,l,n;try{f=Number.MAX_VALUE;l=Number.MAX_VALUE;n=c.reduce(function(a,b){b.Oj&&b.Oj<f&&(f=b.Oj);b.ZF&&b.ZF<l&&(l=b.ZF);f<Number.MAX_VALUE&&(a.freeSize=f);l<Number.MAX_VALUE&&(a.dailyBytesRemaining=l);I.ma(b.Wi)&&(a.bytesWritten+=b.Wi);I.ma(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:E.time.now(),bytesWritten:0,duration:0});this.Ka("mediacache",n);h(null,n);}catch(ga){h(err);}}.bind(this),function(b){I.isArray(b.XCa)?b.XCa.forEach(function(b){this.Ka("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.pQ});}.bind(this)):this.Ka("mediacache-error",{partition:a,type:"saveMultiple",error:b});h(b);}.bind(this)),u.zs(f)):(I.Tb(f)?f:c)(A.uw);};k.prototype.save=function(a,b,f,h,l,n){var d,k,x,K,D,T,Q,V,u;d=I.Tb(l)?l:c;if(this.$t(a)){k=this.hi[a];x=p.Ica(b);l=k.Cfa();l=l.filter(function(a){return a!==b;});if(q(h)){K=g(b,f,this.I.owb);D=k.Gd[b]||{};T=D.resourceIndex;T&&Object.keys(T).map(function(a){I.W(K[a])&&k["delete"](a);});h.convertToBinaryData&&(f=S.ffb(K),K=g(b,f,!1));T=E.time.now();Q={};Q.partition=a;Q.resourceIndex=Object.keys(K).reduce(function(a,b){a[b]=t.xga(K[b]);return a;},{});Q.creationTime=D.creationTime||T;Q.lastRefresh=T;Q.lifespan=h.lifespan;Q.lastMetadataUpdate=T;Q.size=D.size;Q.convertToBinaryData=h.convertToBinaryData;V=function(a,c,f){a.Kib(function(h,l){h&&J.error("Evicting","Failed to delete some orphaned records",h);l.Ila?f():(h=a.dob())?this["delete"](a.getName(),h,function(h){h?(n||(I.isArray(c)?c.forEach(function(b){r(this,"save",a.getName,b.pQ,b.error);}.bind(this)):m(this,"save",a.getName(),b,void 0,c)),d(c)):f();}.bind(this)):d(A.BD);}.bind(this));}.bind(this);u=function(){var a,b,c;a=this.hi;b=0;c=E.time.now();if(!I.W(a))for(var f in a)b+=a[f].qnb(c);return b;}.bind(this);this.yGa(a,l,function(){k.replace(x,Q,function(c,l){l?(k.Gd[b]=p.cfa(Q),k.HDb(K,F(K,a,b,f,h,d,n,x,this,k,V),n,u)):c.code===A.BD.code?V(k,c,function(){this.save(a,b,f,h,d,n);}.bind(this)):d(c);}.bind(this),n,u);}.bind(this));}else d(A.V1a);}else d(A.uw);};k.prototype["delete"]=function(a,b,h){var l;l=I.Tb(h)?h:c;this.$t(a)?f(this.hi[a],b,function(c){m(this,"delete",a,b,void 0,c);l(c);}.bind(this)):l(A.uw);};k.prototype.yGa=function(a,b,h){var l,n;l=I.Tb(h)?h:c;if(this.$t(a)){n=this.hi[a];h=E.Promise.all(b.map(function(a){return new E.Promise(function(b){f(n,a,function(c){b({da:I.W(c),error:c,Vn:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var d,q;for(var c=[],f=[],h=[],n=0;n<b.length;n++){d=b[n];d.da?c.push(d.Vn):d.error&&f.push(d);}0<c.length&&r(this,"delete",a,c);0<f.length&&(h=f.map(function(a){return a.Vn;}),b=u.FKa(f),q=b[0],b.forEach(function(b){J.error("Failed to delete resources ",b.error,b.pQ);r(this,"delete",a,b.pQ,b.error);}.bind(this)));b={};b.pYb=c;0<h.length&&(b.qYb=h);q?l(q,b):l(void 0,b);}.bind(this),function(c){r(this,"delete",a,b,c);l(c);}.bind(this));u.zs(h);}else l(A.uw);};k.prototype.clear=function(a,b){var f;f=I.Tb(b)?b:c;this.$t(a)?this.hi[a].clear(function(a){f(a.filter(n));}):f(A.uw);};k.prototype.sCb=function(a,b,f){var h,l;h=I.Tb(f)?f:c;if(this.$t(a)){f=p.Ica(b);l=this.hi[a];l.read(f,function(a,c){var f;if(a)h(A.W1a);else{f=p.cfa(c)||{};l.WJa(Object.keys(f.fma),function(a){f.size=a;(a=l.Gd[b])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?l.Gd[b]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||I.W(f.lastMetadataUpdate))&&(f=a));h(null,f);});}});}else h(A.uw);};k.prototype.o3=function(a){E.pO(a);};k.prototype.constructor=k;d.P=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dca=void 0;b.Dca=function(a,b){var c;if(!Array.isArray(a.BFa))return a;c=a.Go?a.Go():Object.create(a);a.BFa.forEach(function(a){if(void 0!==a.Ywb&&b.duration>=a.Ywb&&a.config)for(var d in a.config)c[d]=a.config[d];});return c;};},function(d){d.P="4.1.1118";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.V8=void 0;d=function(){function a(a){this.WBa=a;}Object.defineProperties(a.prototype,{bH:{get:function(){return this.q7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.WBa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JSa:{get:function(){var a;a=this;return this.WBa.then(function(){return a;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.q7a=!0;};a.prototype.mka=function(a,b){var c;c=this;this.result.then(function(d){c.bH?b&&b(d):a(d);});return this;};return a;}();b.V8=d;},function(d,b,a){var r,q,n,l;function c(a,b,c){this.hp=b;this.Ej=c;this.Wv=this.rO=this.e1=this.uQa=this.tQa=this.MH=this.Nc=this.EAb=this.Ej=this.Ah=this.Lb=this.S=this.HR=this.IR=this.Z=this.JLa=this.qx=void 0;}function k(a,b,c){this.oa=b;this.jMa=c;this.rDa=this.cXa=this.yaa=this.IR=this.ks=this.tl=void 0;}function m(a,b,l,d,q,m){var f;f=new c(0,b,a.Ej);a.forEach(function(a){var c,h;c=a.buffer;h=c.Z;a.L===r.Na.AUDIO?f.qx=h.length?h[0].R:void 0:a.L===r.Na.VIDEO&&(f.JLa=h.length?h[0].R:void 0,f.Z=h,f.IR=c.ol-c.od,f.HR=c.Vh,f.S=c.od,f.Lb=c.Lb,f.Ah=a.Wy,f.Ej=a.Ej,f.EAb=b-a.Ej,f.Nc=a.Nc.filter(function(a){return n(a,!0);}),f.MH=h.filter(function(a){return f.S<=a.hI;}).length);});this.zh=f;this.im=void 0;this.gGa=d;this.Bba=q;this.Ela=this.I1=this.OPa=this.Kq=this.yF=this.THa=this.Vk=this.Nc=this.im=void 0;this.Dab=m;}r=a(19);b=a(35);q=b.assert;n=b.SB;l=a(18).pa;c.prototype.constructor=c;k.prototype.constructor=k;m.prototype.constructor=m;m.prototype.CG=function(a,b){var c,f,h,n,d,q,m,g,p,t,S,A,u,ma,da,N,ja,na,oa,za,O;c=this.zh;f=[];n=a[r.Na.VIDEO];d=a[r.Na.AUDIO];if(void 0===n||void 0===d)return!1;q=n.buffer;m=d.buffer;g=c.Nc.filter(function(a){return a.aZ();});if(void 0===q||void 0===m||void 0===g||0===g.length)return!1;h=new k(0,n.od,b===l.Ze);p=0;t=0;S=0;A=0;ma=c.S;a=a[r.Na.VIDEO].od;da=c.Z;u=c.MH;for(var W=0;W<u;W++){N=da[W];ja=N.offset;na=N.offset+N.aa-1;za=N.Or;oa=N.Pv;O=oa+za;N&&oa<=a&&O>ma&&(za=N.Or,oa=Math.min(za,Math.min(a,O)-Math.max(oa,ma)+1),A+=oa,p+=oa/za*(na-ja+1),t+=N.R*oa,S+=N.Ub*oa);}c.tQa=p;c.uQa=A;c.e1=0<A?t/A:0;c.Szb=0<A?S/A:0;c.rO||(c.rO=0,g.some(function(a,b){if(a.R===c.JLa)return c.rO=b,!0;}));g.forEach(function(a){var b,l;a=a.aZ();b=[];c.Wv||(c.Wv=a.jm(c.S,void 0,!0));h.tl||(h.tl=a.jm(h.oa,void 0,!0),h.ks=a.length-1);c.Ah!==c.Wv+c.MH&&(c.Ah=c.Wv+c.MH);u=Math.min(h.ks,h.tl+1);for(var n=c.Wv;n<=u;n++)l=a.get(n),b[n]=l;f.push(b);});b===l.Ze&&(h.IR=q.ol-q.od,h.yaa=m.ol-m.od,h.cXa=n.PRa,h.rDa=d.PRa);this.im=h;this.Nc=g;this.Vk=f;return this.THa=!0;};m.prototype.Ou=function(){var a,b,c,l,n,d,r,m,k,g,p,t,A,u,ma;if(this.Qn)return this.Qn;b=this.Kq;a=this.zh;l=this.im;n=this.Nc;d=this.OPa;t=this.Dab;q(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)l.jMa?(k=!1,r=!0):l.tl-a.Wv+1<=a.MH?r=k=!0:(k=!0,r=!1),m=!0;if(d){g=d.Uo;p=d.gY;for(var S=0;S<t.length;S++)c=t[S],(b=d[c])&&b.zy&&(r=!0);}a={bst:a.Ej,pst:a.hp,s:a.Wv,e:l.tl,prebuf:a.MH,brsi:a.Ah,pbdlbytes:a.tQa,pbdur:a.uQa,pbtwbr:a.e1,pbvmaf:a.Szb};m&&(a.nt=m);r&&(a.nd=r);g&&(a.invalid=g);p&&(a.exception=p);this.Ela&&(a.rr=this.Ela);this.I1&&(a.ra=this.I1);if(!r&&!g&&!p&&this.gGa){a.bitrate=n.map(function(a){return a.R;});b=this.Kq;c=b.trace;A=[];u=0;c.forEach(function(a){a=Number(a).toFixed(0);A.push(a-u);u=a;});a.tput={ts:b.timestamp,trace:A,bkms:b.cm};}if(r||m||g||p)a.feasible=k;else for(a.sols={},a.elapsed=d.VX,S=0;S<t.length;S++){c=t[S];b=d[c];r={};if(b&&b.Ks&&(r.algelapsed=b.Cab,r.maxHeapTotal=b.tq,r.f=b&&b.zi||!1,r.dltwbr=b.ujb,r.dlvmaf=b.KGa,r.dlvdur=b.Dda,r.dlvbytes=b.Cda,r.dlabytes=b.Bda,this.gGa)){u=0;ma=[];b.Ks.filter(function(a){return a;}).map(function(a){return a.Mc;}).forEach(function(a){ma.push(a-u);u=a;});r.strmsel=ma;}a.sols[c]=r;}return this.Qn=a;};d.P=m;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,E,J;Object.defineProperty(b,"__esModule",{value:!0});b.D4a=b.S6=b.F4a=b.nya=void 0;c=a(8);k=a(4);m=a(35).SB;r=a(11).py;q=a(378);n=a(394);l=a(240);f=a(18);h=a(5);g=a(156);F=a(216);d=function(){function a(a,b,c,f,h,l,n,d,q,r,m){var k;k=this;this.u=a;this.wf=b;this.I=c;this.jb=f;this.U=h;this.DI=l;this.yb=n;this.Va=d;this.ff=q;this.tM=r;this.gx=m;this.VV=[];this.iaa=[];this.hBa=[];this.Mza=void 0;[0,1].forEach(function(a){k.jb(a)&&(k.VV[a]=new J(k.u,a),k.iaa[a]=new I(a),k.hBa[a]=new E(a));});this.TWa=new g.i9(this.u);this.kJ=g.WM(this.I,this.TWa);this.nba=g.VM();this.Tw=void 0;}Object.defineProperties(a.prototype,{Je:{get:function(){return this.VV;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xv:{get:function(){return this.iaa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ns:{get:function(){return this.hBa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iu:{get:function(){return this.Mza;},set:function(a){this.Mza=a;},enumerable:!1,configurable:!0}});a.prototype.Uv=function(a,b){this.TWa.Uv(a,b);};a.prototype.X_=function(a){var b,f,h,l,n;b=this.I;f=a.L;h=k.yk()[f];b=b.OKb?0===f?b.fM:b.KR:1===f?b.fM:b.KR;l=this.U.Tc();n=this.U.Ld();f=this.tM.zNa(a.Ja.Ic,f);h={Tp:h,S:f.dd,od:n,Lb:f.bI||n,ol:f.LM||n,Vh:f.Vh,jj:f.jj,$ea:f.Z.length,Z:[]};b={state:l,ky:this.U.ky(),Wy:a.Dk,buffer:h,Ida:b,mNa:!!this.DI.RO,rN:!!this.DI.Ds,wo:this.yb&&this.yb.wo,fQ:a.Opb,playbackRate:this.U.No()};void 0===b.Wy&&(b.Wy=a.Cea(h.Lb));h.Z=f.Z;c.ma(h.S)?a.seeking&&h.od!=h.S&&(h.od=h.S):(h.S=0,h.Lb=0);this.wf.Rdb(b);this.wf.iab(b);return b;};a.prototype.Qdb=function(a,b,c){var d,q;a=this.VV[a];for(var f=a.ap,h="manifest",l=0,n=b.length-1;0<=n;n--){d=b[n];q=d.R;if(m(d)){l=Math.max(l,q);break;}else this.I.V2&&!d.Ku?h="bc":d.Xu?d.ey&&(h="hf"):h="av";}if(void 0===f||l!==f){a.ap=l;if(this.gx.Ko)try{this.Tw&&this.Nqb();}catch(W){this.Va.xm("Hindsight: Error when handling maxbitrate chagned: "+W);}this.Va.Vxb(f,l,h,c);}};a.prototype.Lpb=function(a){return this.pga(a).Gg;};a.prototype.pga=function(a){var b,l,d,q,r,m,k,g,x,I,E,K,J,D,p,t,u;b=this.I;l=a.L;d=1==l;q=0;m=this.VV[l];k=this.iaa[l];if(!m.Dm)return{Gg:void 0};g=this.X_(a);x=a.Vf;I=x.fv;E=a.O_.O;K=a.track.Nc;J=F.p1(g.state);D=d?this.kJ:this.nba;try{p=D.Hn(K,J);}catch(ya){this.u.error("StreamFilters: filterStreams: "+ya);p=[K[0]];}0===p.length&&(this.u.error("StreamFilters: empty list"),p=[K[0]]);J=I?I.Gg:m.Rea;try{if(I&&(q=I.R,I&&!I.track.equals(x.track))){t=n.Dea(p,q)||0;r=p[t];if(I.R!==r.R||1===l)g.state=f.pa.Mg;I=r;J=K.indexOf(r);}}catch(ya){this.u.error("StreamFilters: track change: "+ya);}if(!E.zl.dJ(E.na,K))return a.$e("location selector did not find any urls"),{Gg:void 0};if(!d&&(q=b.UI,!(q&&0<q.length)&&J&&K[J]&&I&&I.location===K[J].location))return{Gg:J};try{if(u=a.Yv.o2(g,p,void 0,this.wf.opb(l),m.Dm.config.Gv,E.rh),!u)return a.$e("stream selector did not find a stream"),{Gg:void 0};}catch(ya){this.u.error("StreamFilters: stream selector: "+ya);u={Mc:0};}u.Mc=K.indexOf(p[u.Mc]);this.DI.Ds&&this.DI.Ds.mab(a.L,u,K);d&&this.Qdb(l,p,a.Lb);g=u.Mc;I=K[g];p=I.R;g!=J&&(d&&b.pG&&this.ff.Cza(a,p),d||this.wf.EI(p));c.ma(m.Rea)||(m.Rea=g);a.Dj||(u.Dj?(h.assert(void 0!==u.GW),a.UC(u.GW),k.Qp=u.GW):(a.kv=u.kv,a.PC=u.PC,a.wh=u.wh));this.Ct();if(d)if(u.Cu)E.FI(u.Cu);else if(!E.GZ()&&!b.kUa)for(a=0;a<K.length;++a)if(b=K[a],b.oq&&!E.cj(l,b.ta)){E.FI([b.ta]);break;}return{ta:I.ta,Gg:g};};a.prototype.Ct=function(){var a,b,c,f,h,l;c=this.Je[0];f=this.Je[1];h=this.Xv[1];l=this.Xv[0];c=this.tM.Sb.Mdb(null!==(a=null===f||void 0===f?void 0:f.Aq)&&void 0!==a?a:0,null!==(b=null===c||void 0===c?void 0:c.Aq)&&void 0!==b?b:0,this.iu,this.DI.BC);c.Qp&&(this.DI.Wk&&h?h.Qp=c.Qp:l&&(l.Qp=c.Qp));return c.Dj;};a.prototype.Aea=function(a,b){var c,h,n,d;c=this;if(this.Tw){h=this.Tw;n=this.U.Ld();d=[];b&&(n=b.oa);l.Me.forEach(function(b){var h,l;h=c.tM.Sb.Kc(b);if(h){l=c.X_(h);l.L=b;l.od=n;a===f.pa.Ze&&(l.PRa=h.Ja.Xaa(n));d[b]=l;}});h.THa||h.CG(d,a)||this.bma();return h;}};a.prototype.Nqb=function(){var a,b,c,f;a=this;b=this.Tw;c=this.I;f=[];b&&(this.Aea(void 0),b&&!b.yF&&this.wf.ula.lea(b));l.Me.forEach(function(b){var c,h;c=a.tM.Sb.Kc(b);if(c){h=a.X_(c);h.Ej=k.time.ea();h.Nc=c.track.Nc;h.L=b;f[b]=h;}});b=k.yk();b={A$a:b[0],gJ:b[1],YO:c.dC,qv:c.qv};this.Tw=b=new q(f,k.time.ea(),void 0,this.gx.qG,b,c.hO);};a.prototype.bma=function(){this.Tw=void 0;};a.prototype.mKb=function(a){var b,c,h,n,d;b=this;c=a.oldValue;h=a.newValue;n=this.Tw;a=this.I;h===f.pa.Pc&&c!==f.pa.Pc?(n&&this.u.warn("override an existing play segment!"),d=[],l.Me.forEach(function(a){var c,f,h;c=b.tM.Sb.Kc(a);if(c){f=b.X_(c);h=b.Je[a];h.vna?(f.Ej=h.vna,h.vna=void 0):f.Ej=h.Ej;f.Nc=c.track.Nc;f.L=a;d[a]=f;}}),h=k.yk(),h={A$a:h[0],gJ:h[1],YO:a.dC,qv:a.qv},this.Tw=n=new q(d,k.time.ea(),c,this.gx.qG,h,a.hO)):h!==f.pa.Pc&&c===f.pa.Pc&&n&&(this.Aea(h),n&&!n.yF&&this.wf.ula.lea(n),this.bma());};return a;}();b.nya=d;I=function(){function a(a){this.L=a;this.xM=this.Mo=this.Wu=this.Qp=this.So=void 0;}a.prototype.sKb=function(a,b,c,f){this.So=a?a:this.So;this.Qp=this.Qp;this.Wu=b?b:this.Wu;this.Mo=c?c:this.Mo;this.jsb=f?f:this.jsb;};return a;}();b.F4a=I;E=function(){return function(a){this.L=a;this.J_=this.mia=this.J_=this.jia=this.WB=void 0;};}();b.S6=E;J=function(){return function(a,b){this.L=b;this.u=r(k,a,"["+b+"]");this.$e=this.u.error.bind(this.u);this.eb=this.u.warn.bind(this.u);this.Aj=this.u.trace.bind(this.u);this.$f=this.u.log.bind(this.u);this.KE=this.u.debug.bind(this.u);this.Rea=this.Ej=this.am=this.Dm=void 0;this.MP=this.Aq=0;this.nJ=!1;this.ap=void 0;};}();b.D4a=J;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hE=void 0;b.hE={Hn:function(a){return a;}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bba=void 0;b.bba=function(a,b,d){var c,r;c=!0;d.forEach(function(d){var n;if(c&&a===d.profile){n=d.ranges;c=void 0===n?b>=d.min&&b<=d.max:n.some(function(a){return b>=a.min&&b<=a.max;});!c&&d.disallowed&&d.disallowed.some(function(a){if(a.stream.bitrate===b)return r=a.disallowedBy,!0;});}});return{inRange:c,IX:r};};},function(d,b,a){var m,r,q,n,l,f;function c(a,b,c,l){n(!m.W(l),"Must have at least one selected stream");return new f(l);}function k(a,b,c,l){n(!m.W(l),"Must have at least one selected stream");return new f(l);}m=a(8);b=a(35);r=b.console;q=b.debug;n=b.assert;l=b.SB;f=b.io;d.P={STARTING:function(a,b,c){var n,d,m,k;function h(c,f){var h,l,n,d;h=c.id;l=c.R;n=c.Ga||0;d=!!n;q&&r.log("Checking feasibility of ["+f+"] "+h+" ("+l+" Kbps)");if(!c.oq)return q&&!c.Xu&&r.log("  Not available"),q&&c.ey&&r.log("  Failed"),!1;if(l>a.WO)return q&&r.log("  Above maxInitAudioBitrate ("+a.WO+" Kbps)"),!1;if(!(l*a.s0/8<b.buffer.Tp))return q&&r.log("  audio buffer too small to handle this stream"),!1;if(d){q&&r.log("  Have throughput history = "+d+" : available throughput = "+n+" Kbps");if(l*b.playbackRate<n/m)return q&&r.log(" +FEASIBLE: bitrate less than available throughput"),!0;q&&r.log(" bitrate requires more than available throughput");return!1;}c=a.jP;b.r_&&(c=Math.max(c,a.iP));if(l<=c)return q&&r.log("  Bitrate is less than max of minInitAudioBitrate ("+a.jP+" Kbps) "+(b.r_?" and also minHCInitAudioBitrate ("+a.iP+" Kbps)":"")),q&&r.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;q&&r.log("  No throughput history");return!1;}n=new f();m=a.KTb||1;for(k=c.length-1;0<=k;--k){d=c[k];if(h(d,k)){n.Mc=k;break;}l(d)&&(n.Mc=k);}return n;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.BQ=void 0;c=a(48);k=a(8);m=a(72);r=a(19);d=a(35);q=a(814);n=a(18);l=d.assert;f=d.io;b.BQ=h;(function(){var D8i,c6L;D8i=2;while(D8i!==5){c6L="1SIYb";c6L+="Z";c6L+="r";c6L+="NJC";c6L+="p9";switch(D8i){case 2:b.BQ=h=function(b,h,d,g,x,D){var P7M=S8ii;var p8i,E,J,K,p,t,u,W,N,ja,na,oa,za,O,xa,ga,ya,Da,la,Fa,B,M,a6L,P6L,U6L,f6L;p8i=2;function I(a,c,f,n,d,r,m){var O8i,k,g,x,F,I,J,T,Q,A,V,S,da,Z,N,ma,j6L,b6L;O8i=2;while(O8i!==47){j6L="Se";j6L+="cond stream";j6L+=" und";j6L+="e";j6L+="fined";b6L="First stream u";b6L+="n";b6L+="de";b6L+="fin";b6L+="ed";switch(O8i){case 28:b.Oia&&(Q=Math.min(Q,Z));O8i=44;break;case 8:r||g||(a.Ena=!0);O8i=7;break;case 42:c&&c.result&&(E.KWb=c.SO);za={mY:c&&c.result,Ga:k,R:a.R};return c&&c.result;break;case 50:N=Math.min(S,c.Z.length-F),Z.push(c.Z.HI.subarray(F,F+N)),S-=N,F+=N,F>=c.Z.length&&(F=0);O8i=51;break;case 44:O8i=!da||da<a.R*V*b.Oga||!N?43:39;break;case 23:A=h.Ida;V=h.playbackRate;S=!!h.mNa;l(a,b6L);l(c,j6L);da=a.Ga;O8i=32;break;case 15:F=W;I=ga.length;J=ja;T=Da;Q=oa;O8i=23;break;case 11:return!0;break;case 13:return!0;break;case 36:S=n;O8i=54;break;case 14:O8i=k>=Math.max(a.c0*m,a.R*m*x)&&a.Ku?13:10;break;case 52:S=d;O8i=51;break;case 3:O8i=za&&!za.mY&&za.Ga>=k&&za.R<=a.R?9:8;break;case 9:return!1;break;case 32:P7M.G6L(0);Z=P7M.S6L(g,r);N=a.Z&&a.Z.length;ma=c.Z&&c.Z.length;l(f.length===I);O8i=28;break;case 48:n=Math.max(0,Math.min(n,a.Z.length-F)),d=Math.max(0,Math.min(d,c.Z.length-F-n)),0<n&&Z.push(a.Z.HI.subarray(F,F+n)),0<d&&Z.push(c.Z.HI.subarray(F+n,F+n+d));O8i=49;break;case 7:O8i=!r||!g?6:10;break;case 54:O8i=0<S?53:52;break;case 12:O8i=k>=a.R*m*x?11:10;break;case 51:O8i=0<S?50:49;break;case 37:O8i=S?36:48;break;case 53:N=Math.min(S,a.Z.length-F),Z.push(a.Z.HI.subarray(F,F+N)),S-=N,F+=N,F>=a.Z.length&&(F=0);O8i=54;break;case 6:O8i=g&&!b.V2?14:12;break;case 4:x=r?b.yea:g?b.lY:b.wlb;O8i=3;break;case 43:c=!1;O8i=42;break;case 10:r=!b.Aca||a===f||a.tc===f.tc&&D?0:(f=a.mb)&&f.xh&&f.xh.Da?f.xh.Da+b.xca*(f.xh.Bh?Math.sqrt(f.xh.Bh):0):0;f=ga;P7M.y6L(1);r=P7M.M6L(K,r,p);m=na;P7M.G6L(0);g=P7M.M6L(u,K);P7M.G6L(0);x=P7M.S6L(t,K);O8i=15;break;case 49:c=0<n||0<d?q(f.concat(Z),I+n+d,r,g,m,J,x,I,I+n,A,T,da/V,Q,b.kP,b.V2):da>a.c0?{result:!0,SO:0,Ku:!0}:{result:!1,SO:0,Ku:!0};O8i=42;break;case 39:ma||(c=a);Z=[];O8i=37;break;case 2:k=a.Ga||0;g=a.Z&&a.Z.length;O8i=4;break;}}}while(p8i!==41){a6L="n";a6L+="u";a6L+="mber";P6L="n";P6L+="um";P6L+="be";P6L+="r";U6L="player missing";U6L+=" ";U6L+="stre";U6L+="amingInd";U6L+="ex";f6L="Must hav";f6L+="e at lea";f6L+="st";f6L+=" one selected strea";f6L+="m";switch(p8i){case 12:W=h.Wy;P7M.G6L(0);N=P7M.S6L(u,p);ja=h.state===n.pa.Pc||h.state===n.pa.Ri?h.buffer.jj:0;na=b.e0;oa=b.nv?b.nv:1E3;p8i=18;break;case 2:l(!k.W(g),f6L);p8i=5;break;case 9:E=new f();J=x=d[g];K=h.buffer.S;p=h.buffer.od;t=h.buffer.Lb;u=h.buffer.ol;p8i=12;break;case 18:O=F(x,W,b.Pga);P7M.y6L(2);xa=F(x,P7M.M6L(O,W),b.Jia);p8i=16;break;case 15:return a.call(this,0,0,d);break;case 28:B=F(x,W,b.Qga);P7M.G6L(2);M=F(x,P7M.M6L(B,W),b.Kia);p8i=43;break;case 29:p8i=x.Z&&x.Z.length?28:31;break;case 31:E.Xn=x||J;return E;break;case 32:x=c.zo(d.slice(g+1,b.tna&&N>=b.Soa?d.length:g+2),function(a,b){var T8i;T8i=2;while(T8i!==1){switch(T8i){case 2:return I(a,d[g+b],J,la,Fa,!1,h.playbackRate);break;}}});p8i=31;break;case 23:Da=ya-ga.aa;ya=d[0];p8i=21;break;case 35:p8i=g+1<d.length&&N>b.mv&&(void 0===this.G_||this.lia&&this.lia>this.G_||t-this.G_>b.S_&&N>b.Nia)?34:31;break;case 25:ya=h.buffer.Tp;0<b.ls&&(ya=Math.min(ya,b.ls));p8i=23;break;case 21:p8i=I(x,d[Math.max(g-1,0)],x,O,xa,!1,h.playbackRate)?35:29;break;case 34:la=F(x,W,b.Rga);P7M.y6L(2);Fa=F(x,P7M.S6L(la,W),b.Lia);p8i=32;break;case 5:l(k.ma(h.Wy),U6L);l(P6L===typeof h.buffer.Tp);l(a6L===typeof h.Ida);p8i=9;break;case 43:p8i=(x=c.zo(d.slice(0,g).reverse(),function(a,b){var t8i;t8i=2;while(t8i!==1){switch(t8i){case 2:return I(a,d[Math.max(g-b-2,0)],J,B,M,!0,h.playbackRate);break;}}}))&&x.Gg<ya.Gg||!x?42:31;break;case 27:x.Z&&x.Z.length||(x.Ena=!0);ga=m.Ch.Ehb(h.buffer.Z);p8i=25;break;case 42:x=ya;p8i=31;break;case 16:p8i=(this.Vf.IMa||r.SS.Mg)===r.SS.X4a||!x.Ga?15:27;break;}}function F(a,b,c){var K8i;K8i=2;while(K8i!==1){switch(K8i){case 4:return a.Z?a.Z.Gca(b,c):6;break;K8i=1;break;case 2:return a.Z?a.Z.Gca(b,c):0;break;}}}};c6L;D8i=5;break;}}function a(a,b,c){var k8i;k8i=2;while(k8i!==4){switch(k8i){case 2:a=new f();a.Xn=c[0];return a;break;}}}}());},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(818),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lU=void 0;d=function(){function a(a){this.parent=a;this.Mc=null;}Object.defineProperties(a.prototype,{IMa:{get:function(){var a,b;return null!==(a=this.mrb)&&void 0!==a?a:null===(b=this.parent)||void 0===b?void 0:b.IMa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{EO:{get:function(){var a,b;return null!==(a=this.Nxb)&&void 0!==a?a:null===(b=this.parent)||void 0===b?void 0:b.EO;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fv:{get:function(){var a,b;return null!==(a=this.Xn)&&void 0!==a?a:null===(b=this.parent)||void 0===b?void 0:b.fv;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FO:{get:function(){var a;return null===this.Mc?null===(a=this.parent)||void 0===a?void 0:a.FO:this.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{NMa:{get:function(){var a,b;return null!==(a=this.KHb)&&void 0!==a?a:null===(b=this.parent)||void 0===b?void 0:b.NMa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iia:{get:function(){var a,b;return null!==(a=this.LHb)&&void 0!==a?a:null===(b=this.parent)||void 0===b?void 0:b.iia;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.kFb;},enumerable:!1,configurable:!0}});a.prototype.ad=function(){this.parent=void 0;};a.prototype.ITa=function(a){this.mrb=a;};a.prototype.fGb=function(a){this.Nxb=a;};a.prototype.OTa=function(a){this.Xn=a;};a.prototype.bna=function(a){this.Mc=a;};a.prototype.qGb=function(a){this.KHb=a;};a.prototype.QTa=function(a){this.LHb=a;};a.prototype.OQ=function(a){this.kFb=a;};return a;}();b.lU=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.G8=void 0;c=a(159);a(28);d=function(){function a(a,b){this.Fg=a;this.console=b;this.qA=Infinity;this.VK=this.IV=0;}a.MDb=function(){this.naa=!0;};a.wUb=function(){this.naa=!1;};a.prototype.Nlb=function(a,b,d,n,l){var f;if(this.Fg){f=a.Z;if(f){if(1===d)d=f.jm(this.Fg*a.Qa.va,void 0,!0),f=a.wi(d),f.Xj({start:0,end:this.Fg-d*f.Oda.Eu(a.Qa)}),this.qA=this.Fg;else{void 0!==n.sUa?(b=n.sUa,d=b*a.Qa.va):(d=c.Ufa(n,l)+n.Ebb*a.Qa.va,d=b+d,b=Math.ceil(d/a.Qa.va));d=f.jm(d,void 0,!0);for(l=n=0;l<d;++l)f=a.wi(l),n+=f.Oda.Eu(a.Qa);n=b-n;f=a.wi(d);f.Xj({end:n});this.qA=b;}f.JNa();return f;}}};a.prototype.Zrb=function(a){this.VK+=a.xSa;this.console.warn("StallAtFrameCount, adding frames: "+a.xSa,"total frames: "+this.VK,"needed frames: "+this.qA);};a.prototype.crb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: "+this.IV,"needed: "+this.qA);return this.IV>=this.qA;};a.prototype.brb=function(){return this.VK>=this.qA;};a.prototype.$rb=function(a,b){this.IV+=this.EB(a,b);};a.prototype.Nkb=function(a,b,c){a.xSa=this.EB(b,c);};a.prototype.EB=function(a,b){return a.Oda.Eu(b.Qa);};a.prototype.fm=function(){if(!this.brb())return!1;if(a.naa)return this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1;this.console.warn("StallAtFrameCount bufferingComplete = true:",this.VK+" >= "+this.qA);return!0;};a.naa=!1;return a;}();b.G8=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,E,J,K,D;Object.defineProperty(b,"__esModule",{value:!0});b.N7=void 0;c=a(0);k=a(828);m=a(83);r=a(238);q=a(18);n=a(827);l=a(386);f=a(385);h=a(384);g=a(11);F=a(5);I=a(28);E=a(8);J=a(4);d=a(109);K=a(33);D=a(158);a=function(a){function b(b,c,d,q,r,m,x,F,I,E,K,p){b=a.call(this,b)||this;b.I=c;b.Fc=r;b.Sg=m;b.MAa=x;b.O6a=I;b.Q6a=K;b.uA=p;b.connected=!1;b.Hp=!1;b.At=!1;b.u=g.py(J,d,"["+b.L+"]");b.$e=b.u.error.bind(b.u);b.eb=b.u.warn.bind(b.u);b.Aj=b.u.trace.bind(b.u);b.kTb=x;b.XV=x.va;b.uOa=1===b.L?c.v0:c.o0;b.AH=(1===b.L?c.DH:c.yH)||c.AH;b.Vf=new f.lU(E?E.Vf:void 0);b.Vf.OQ(m);b.gCa=new h.mU(F,c,b.Vf);b.Pt=new k.uwa(b,q,b.I,b.u,b.L);b.vA=new n.Bxa(b,c,b.u,b.Pt,b.Fc,b.L,b.uA);b.JL=!1;c.Fg&&(b.Fg=new l.G8(c.Fg,b.u));d=D["default"](b.I);c=d.Mv;d=d.OP;b.bBb=0===b.L?c:d;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{L:{get:function(){return this.Sg.L;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{track:{get:function(){return this.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ic:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ma:{get:function(){return this.Fc.ba.id;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ja:{get:function(){return this.vA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Nc:{get:function(){return this.Sg.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fo:{get:function(){return this.vA.Fo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Il:{get:function(){return this.vA.Il;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lb:{get:function(){return this.XV;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jr:{get:function(){var a,b;return null!==(b=null!==(a=this.Ja.Jr)&&void 0!==a?a:this.Kv)&&void 0!==b?b:this.sp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ir:{get:function(){return this.Ja.Ir;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rca:{get:function(){return this.Ja.rca;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gia:{get:function(){return!!this.jg&&this.Dk>this.jg.index;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{LA:{get:function(){return this.gia&&0===this.vA.Ev;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yv:{get:function(){return this.gCa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fv:{get:function(){return this.Vf.fv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){var a,b;return null!==(b=null===(a=this.eg)||void 0===a?void 0:a.T)&&void 0!==b?b:1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ta:{get:function(){var a;return null===(a=this.eg)||void 0===a?void 0:a.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hb:{get:function(){var a;return null===(a=this.jg)||void 0===a?void 0:a.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wj:{get:function(){return this.Ic.Er.Jf(this.T).Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Dj:{get:function(){return this.At;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mu:{get:function(){return this.Rza;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JZ:{get:function(){return this.Ja.JZ;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cD:{get:function(){return this.Ja.cD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bna:{get:function(){return this.Ja.Bna;},enumerable:!1,configurable:!0}});b.prototype.wg=function(){this.Hp=!0;this.vA.wg();this.Vf.ad();};b.prototype.toJSON=function(){return{started:this.cD,startOfSequence:this.Bna,segmentId:this.Ma,requestedBufferLevel:this.Il,viewableId:this.Fc.O.na,hasFragments:this.JZ};};b.prototype.UC=function(a){this.At=!0;this.Rza=a;};b.prototype.VW=function(){this.At=!1;this.Rza=void 0;};b.prototype.vp=function(){return this.Ja.vp();};b.prototype.$ma=function(a,b){this.XV=a;this.Dk=b;};b.prototype.aO=function(){return this.Ja.aO();};b.prototype.aea=function(){this.Ja.close();};Object.defineProperties(b.prototype,{weight:{get:function(){return this.Fc.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sp:{get:function(){return void 0===this.Sg.Pm||void 0===this.Dk?this.MAa.add(I.ha.ue(this.Fc.de)):this.Sg.Pm.get(this.Dk).pl.add(I.ha.ue(this.Fc.de));},enumerable:!1,configurable:!0}});b.prototype.NJb=function(a,b){var c;F.assert(!this.Hp,"pipeline.tryIssueRequest on disabled pipeline");c=a.aZ();return c?this.YVa(a,c,b):a.oD();};b.prototype.HLa=function(a,b){a&&(this.eg=a);b&&(this.jg=b);F.assert(this.eg);F.assert(this.jg);F.assert(void 0===this.Dk);this.$ma(this.eg.oc,this.eg.index);};b.prototype.gna=function(){return r.lZ(this.Sg.L,this.I);};b.prototype.Nha=function(){return this.Aha()?!1:this.cMa()?!0:this.track.rxb;};b.prototype.cMa=function(){return void 0!==this.eg&&void 0!==this.jg;};b.prototype.Aha=function(){return!!(this.Hp||this.jg&&this.Dk>this.jg.index);};b.prototype.fm=function(a,b,c,f,h,l){var n,d;n=this.I;d=n.kg;if(f>=n.kg&&(n.U1&&(d=f+1E3),n.nQ&&!this.connected))return!1;if(this.Fg)return(a=this.Fg.fm())&&this.UC("stall"),a;f=this.Aha()&&0===this.Ja.d1&&0===this.Ja.Us;if(!f&&h<d)return!1;if(f){if(l&&0===h)return this.eb("playlist mode with nothing buffered, waiting for next manifest"),!1;this.UC("complete");return!0;}return 0===this.L?(this.UC("audio"),!0):this.NEa(a,b,c);};b.prototype.NEa=function(a,b,c){if(this.Dj||0===this.L)return!0;if(void 0===this.fv)return!1;b=this.P6a(b,a);this.track.O.zl.dJ(this.track.O.na,this.track.Nc);this.Yv.ela([this.fv],!1,b,this.bBb);a=this.Yv.fm(b,a,c,this.fv,this.Ic.O.rh);a.complete?this.UC(a.reason):(this.VW(),this.kv=a.kv,this.wh=a.wh);return this.Dj;};Object.defineProperties(b.prototype,{qBb:{get:function(){return this.I.nQ?this.connected:!0;},enumerable:!1,configurable:!0}});b.prototype.hj=function(a){this.Pt.Yxb(a);this.aq(a);};b.prototype.Bv=function(a){a.bc||this.Pt.pPa(a.stream,a.S,a.oc);this.Pt.Uxb(this.Ma,a.stream,a.bc);this.AB(a);};b.prototype.RH=function(a){a.Qaa||(this.connected=!0);this.Sx(a);};b.prototype.kob=function(a){var b,c;b=this.Ja.Z;if(0===b.length)return{Z:[],Fka:0,jj:0};c=b.DG(a.va);0>c&&(c=void 0===b.S||a.va<=b.S?0:b.length);return{Z:b.hFb(c),Fka:Math.max(0,b.Heb-c),jj:b.jj};};b.prototype.YVa=function(a,b,c){var f,h,l,n,d,q,r;n=this.Fc;d=n.O;q=this.L;r=this.Dk;if(r>=b.length)return this.eb("makeRequest nextFragmentIndex:",r,"past fragments length:",b.length),!1;if(!this.eg||!this.jg)return this.eb("makeRequest delayed, first or last fragment not set","first:",!!this.eg,"last:",!!this.jg),!1;b=this.O6a.sJa(a,r,this,d.Yu());if(!b)return this.eb("makeRequest unable to get valid fragment"),!1;null===(f=this.Fg)||void 0===f?void 0:f.$rb(b,a);b.ev&&1===q&&this.Pt.J$(n.ba,b.oa);b.MTa(n.Er);f=null===(h=this.Q6a)||void 0===h?void 0:h.call(this);this.I.cC&&void 0!==f&&f<b.aa&&(b.cC=this.I.cC);J.time.ea();c=this.Ja.Dhb(n,b,c,a);if(!c.vs()){this.eb("MediaRequest.open error: "+c.th+" native: "+c.gj);if(7===c.readyState)return!1;this.eb("makeRequest caught:",c.th);d.Eg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return!1;}null===(l=this.Fg)||void 0===l?void 0:l.Nkb(c,b,a);this.Pt.Zxb(c);this.$ma(c.Vb,b.pP);this.Aha()&&this.Ja.LFb();return!0;};b.prototype.P6a=function(a,b){var c,f,h,l,n;l=J.yk()[this.L];n=this.Ja.iZ();a={Tp:l,S:null!==(c=n.dd)&&void 0!==c?c:0,od:a,Lb:null!==(f=n.bI||a)&&void 0!==f?f:0,ol:null!==(h=n.LM||a)&&void 0!==h?h:0,Vh:n.Vh,jj:n.jj,$ea:n.Z.length,Z:n.Z};E.ma(a.S)?b===q.ld.Dd&&a.od!==a.S&&(a.od=a.S):(a.S=0,a.Lb=0);return a;};return b;}(m.Rq);b.N7=a;K.Ke(d.kz,a);K.Ke(d.nz,a);},function(d,b,a){var k,m,r,q,n,l,f,h,g,F,I,E,J;function c(a,b){return(1===a.L?0:1)-(1===b.L?0:1);}Object.defineProperty(b,"__esModule",{value:!0});b.i4=b.K3a=void 0;k=a(0);m=a(16);r=a(387);q=a(83);n=a(160);l=a(803);f=a(18);h=a(802);g=a(11);F=a(5);I=a(28);E=a(48);J=a(4);d=a(109);a=a(33);b.K3a={EZb:c};q=function(a){function b(b,c,f,h,n,d,q,r,k,x,E,K,D,p,t,u){var T,Q;Q=a.call(this,f)||this;Q.I=b;Q.O=f;Q.gAb=h;Q.ZBa=n;Q.BAa=k;Q.parent=x;Q.gn=E;Q.AE=K;Q.CBa=D;Q.uA=p;Q.ZY=t;Q.tg=[];Q.P$=!1;Q.s$a=1;Q.Hp=!1;Q.OV=!1;Q.C9=0;Q.$w=0;Q.TAa=0;Q.Sza=Q.Ayb.bind(Q);F.assert(f.na===Q.ba.na||isNaN(f.na)&&isNaN(Q.ba.na));Q.O.aSa(Q);Q.u=g.py(J,c,n.id&&n.id.length?"{"+n.id+"}":"");Q.$e=Q.u.error.bind(Q.u);Q.eb=Q.u.warn.bind(Q.u);Q.Aj=Q.u.trace.bind(Q.u);Q.sO=null!==q&&void 0!==q?q:I.ha.ue(Q.ba.S);Q.Er=I.ha.ue(r);Q.cV=[];d.forEach(function(a){var b;a=a.L;b=Q.O.WLa(a)?new l.Wsa(Q.I.NH):new l.rva();Q.cV[a]=b;});u||Q.OFa(d,Q.sO);Q.Doa(Q.sO.va,Q.I.Y2);Q.events=new m.EventEmitter();null===(T=Q.AE)||void 0===T?void 0:T.addListener(Q.Sza);return Q;}k.__extends(b,a);Object.defineProperties(b.prototype,{Sp:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yq:{get:function(){return this.P$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.s$a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ba:{get:function(){return this.ZBa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gia:{get:function(){return this.tg.every(function(a){return a.gia;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{LA:{get:function(){return this.tg.every(function(a){return a.LA;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ji:{get:function(){return this.GB().map(function(a){return a.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){return this.BL.T;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ta:{get:function(){return this.BL.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hb:{get:function(){return this.BL.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wj:{get:function(){return this.Er.Jf(this.T).Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sha:{get:function(){return this.sO.add(this.Er);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IAb:{get:function(){return this.ba.Km.add(this.Er);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ELa:{get:function(){return this.sha.va;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{de:{get:function(){return this.Er.va;},enumerable:!1,configurable:!0}});b.prototype.Ab=function(){this.yLa();};b.prototype.aO=function(a){return(a=this.Qe(a))?a.aO():n.oz.bob();};b.prototype.aea=function(){this.GB().forEach(function(a){return a.aea();});};b.prototype.wg=function(){var a,b;this.Hp||(this.Hp=!0,this.O.hWa(this),this.parent=void 0,null===(a=this.eF)||void 0===a?void 0:a.mc(),this.eF=void 0,this.tg.forEach(function(a){a.wg();}),null===(b=this.AE)||void 0===b?void 0:b.removeListener(this.Sza),this.events.removeAllListeners());};b.prototype.OLa=function(){return!0;};b.prototype.Qe=function(a){return this.tg[a];};b.prototype.GB=function(){var a;void 0===a&&(a=c);return this.tg.filter(function(a){return a;}).sort(a);};b.prototype.Lob=function(){return this.I.qna?this.tg.filter(function(a){return a.Nha();}).sort(function(a,b){return a.sp.Hj(b.sp);}).slice(0,1):this.tg.filter(function(a){return a.Nha();});};b.prototype.Tfa=function(a){a=this.tg[a];if(a.Nha())return a;};b.prototype.ti=function(a,b){a=this.tg[a];if(!a)return 0;if(b)return a.Il;b=a.Ir;if(void 0===b)return 0;a=this.BAa();return b-a;};b.prototype.jKa=function(a){var b;return(a=this.tg[a])?null!==(b=a.Ir)&&void 0!==b?b:0:0;};b.prototype.z2=function(a,b){var c;this.OFa(a,null!==(c=null!==b&&void 0!==b?b:this.pl)&&void 0!==c?c:this.sO);this.yLa();};b.prototype.Doa=function(a,b){this.fsb=a+b;this.lsb=J.time.ea();};b.prototype.vp=function(a){return this.Qe(a).vp();};b.prototype.Ayb=function(a){a=a.newValue;if(a===f.ld.Dd||a===f.ld.Ze)this.OV=!1,this.C9=J.time.ea(),this.$w=0,this.tg.forEach(function(a){return a.VW();}),this.cF();};b.prototype.hj=function(a){this.Hp||(a.Qaa||F.assert(!a.bc),this.cF(),this.LA&&this.L8a());this.aq(a);};b.prototype.SH=function(a){this.I.nHa&&this.cF(!0);this.BB(a);};b.prototype.RH=function(a){this.I.nHa&&this.cF(!0);this.Sx(a);};b.prototype.G8a=function(a,b){var c,f;null===(c=this.eF)||void 0===c?void 0:c.mc();this.eF=void 0;a&&(a=(null!==(f=this.tg[1])&&void 0!==f?f:this.tg[0]).track.Pm.rB,f=this.GB().reduce(E.rOa(function(a){return a.zn.va;})).zn,this.events.emit("branchNormalized",{type:"branchNormalized",segmentContentStart:this.ba.Km,branchContentStart:this.pl,branchContentEnd:this.zn,contentEnd:a,didNormalizeSegment:b,earliestMediaContentEnd:f}));};b.prototype.NGb=function(a){var b,c;return((null===(b=this.AE)||void 0===b?void 0:b.value)===f.ld.Dd||(null===(c=this.AE)||void 0===c?void 0:c.value)===f.ld.Ze)&&(!a||this.TAa+this.I.Aja<J.time.ea());};b.prototype.cF=function(a){void 0===a&&(a=!1);this.NGb(a)&&(this.TAa=J.time.ea(),a={type:"checkBufferingProgress"},this.events.emit(a.type,a),this.fm());};b.prototype.vV=function(a){a={type:"branchBufferingComplete",audioBufferLevel:this.ti(0),videoBufferLevel:this.ti(1),reason:a};this.events.emit(a.type,a);this.OV=!0;};b.prototype.K$=function(a,b,c){var f;f=this.I;c?b=(J.time.ea()-this.C9)/f.zq:b||(b=a/f.kg);a=Math.min(Math.max(Math.round(100*b),this.$w),99);a!=this.$w&&(b={type:"branchBufferingProgress",percentage:a},this.events.emit(b.type,b),this.$w=a);};b.prototype.L8a=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};b.prototype.fm=function(){var a,b,c,h,l,n,d,q,r,m,k;if(!0!==this.OV){l=this.I;n=this.tg[0];d=this.tg[1];q=this.ti(0);r=this.ti(1);m=this.BAa();k=!n||n.fm(null!==(b=null===(a=this.AE)||void 0===a?void 0:a.value)&&void 0!==b?b:f.ld.Rl,m,this.CBa(),0,q);a=!d||d.fm(null!==(h=null===(c=this.AE)||void 0===c?void 0:c.value)&&void 0!==h?h:f.ld.Rl,m,this.CBa(),0,r);k&&a?(l=d?d.mu:n.mu,F.assert(void 0!==l),this.vV(l)):(c=J.time.ea()-this.C9,c>=l.zq&&(h=!d||r>l.kg,(!n||q>l.kg)&&h&&(this.eb("buffering longer than limit: "+c+" >= "+l.zq+", audio buffer: "+q+" ms, video buffer: "+r+" ms"),this.vV("prebufferTimeLimit"))));!1===this.OV&&(n=d?d:n,d=this.ti(d?1:0),this.K$(d,n.wh,n.kv));}};b.prototype.vhb=function(a,b){var c,f;f=a.L;return new r.N7(this,this.I,this.u,this.gAb,this,a,b,[this.I.oba,this.I.T2][f],this.cV[f],null===(c=this.parent)||void 0===c?void 0:c.Qe(f),this.ZY,this.uA);};b.prototype.OFa=function(a,b){var c,f,l,n,r,m,g;void 0===b&&(b=this.sO);try{for(var d=k.__values(a),q=d.next();!q.done;q=d.next()){r=q.value;m=r.L;g=this.tg[m];(null===g||void 0===g?void 0:g.track)!==r&&(null===g||void 0===g?void 0:g.wg(),this.tg[m]=this.vhb(r,b));}}catch(na){c={error:na};}finally{try{q&&!q.done&&(f=d["return"])&&f.call(d);}finally{if(c)throw c.error;}}this.tg=this.tg.filter(function(b){var c;c=a.some(function(a){return a.L===b.L;});return null!==c&&void 0!==c?c:b.wg();});null===(l=this.eF)||void 0===l?void 0:l.mc();this.eF=new h.twa({config:this.I,O:this.O,ba:this.ba,Uc:this.tg,pl:b,zn:null!==(n=this.ba.rB)&&void 0!==n?n:void 0!==this.ba.oa?I.ha.ue(this.ba.oa):void 0,splice:void 0!==this.parent});this.BL=this.GB()[0];};b.prototype.yLa=function(){var a;null===(a=this.eF)||void 0===a?void 0:a.Ab(this.G8a.bind(this));};b.prototype.toJSON=function(){var a,b;return{segment:this.ba.id,branchOffset:this.de,viewableId:this.O.na,contentStartPts:null===(a=this.pl)||void 0===a?void 0:a.va,contentEndPts:null===(b=this.zn)||void 0===b?void 0:b.va};};return b;}(q.Rq);b.i4=q;a.Ke(d.nz,q);a.Ke(d.kz,q);},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Lv=b.tMa=void 0;c=a(11);k=a(5);m=a(58);b.tMa=function(a,b){a=a.Wa[b.Ma];if(void 0===a)return!1;if(void 0===a.dg||null===a.dg)throw Error("Cannot validate graph position without endTimeMs");a=a.dg-a.qf;return 0<=b.offset.va&&b.offset.va<a;};b.Lv=function(a,b){var n,l,f,h;f=b.rb;b=b.nsb;h=f.$g;f=f.navigator;h=f.Ag(null!==(n=null===b||void 0===b?void 0:b.id)&&void 0!==n?n:h.Lh);n=null!==(l=null===b||void 0===b?void 0:b.dFb)&&void 0!==l?l:h.Km;if(!n.greaterThan(a))for(l=f.Etb(h),b=l.next();!b.done;){b=b.value;f=b.rB.Mb(b.Km);h=n;n=h.add(f);if(n.greaterThan(a))return a=a.Mb(h),m.gb&&k.assert(a.cy(c.ha.Dc)&&a.lessThan(f)),{Ma:b.id,offset:a};b=l.next();}};},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.d8=void 0;c=a(0);k=a(16);m=a(11);r=a(5);q=a(18);n=a(389);l=a(92);d=function(){function a(){this.nB=[];this.XH=[];this.events=new k.EventEmitter();}Object.defineProperties(a.prototype,{$y:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pf:{get:function(){return this.QN();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{position:{get:function(){var a,b;a=this.Pf;b=this.Lv(a);r.assert(b,"Could not find current branch for "+a.va);return b;},enumerable:!1,configurable:!0}});a.prototype.AW=function(a){if(void 0!==this.rb)return!1;a.pi.EDa(this.events);return!0;};a.prototype.ad=function(){};a.prototype.mWa=function(){var a,b,c,f;if(this.rb){f=null===(a=this.rb)||void 0===a?void 0:a.ti(this.Pf);a=l.Qf().get();return{totalabuflmsecs:f.EVa,totalvbuflmsecs:f.FVa,abuflbytes:0,vbuflbytes:0,currentBandwidth:null!==(c=Number(0<a.yd)&&(null===(b=a.Ga)||void 0===b?void 0:b.Da))&&void 0!==c?c:0};}};a.prototype.yZ=function(a){if(void 0!==this.rb&&a.Ma===this.rb.$g.Lh)return a.offset;};a.prototype.av=function(a){return-1!==this.nB.indexOf(a.na)||a.Yi;};a.prototype.rq=function(){this.z_=!0;};a.prototype.Lv=function(a){var b,c;b=this.nnb(a);if(!b){if(void 0===this.rb)return;c=this.Jc[this.Jc.length-1];return n.Lv(a,{rb:this.rb,nsb:c&&{id:c.ba.id,dFb:c.IAb}});}c=b.ba;b=c.Km.add(b.Er);return{Ma:c.id,offset:a.Mb(b)};};a.prototype.reset=function(){this.z_=!1;};a.prototype.oQ=function(){};a.prototype.pause=function(a){void 0===a&&(a=q.Me);this.XH=null===a||void 0===a?void 0:a.reduce(function(a,b){-1===a.indexOf(b)&&a.push(b);return a;},this.XH);};a.prototype.resume=function(a){var b;b=this;void 0===a&&(a=q.Me);a.forEach(function(a){a=b.XH.indexOf(a);-1!==a&&b.XH.splice(a,1);});};a.prototype.UFb=function(a){a=this.nB.indexOf(a);-1!==a&&this.nB.splice(a,1);};a.prototype.IQ=function(a){-1===this.nB.indexOf(a)&&this.nB.push(a);};a.prototype.moa=function(a){var b;r.assert(this.rb);r.assert(a!==this);this.rb.pi.DGa();this.OI();b=a.AW(this.rb,this);b&&(this.z_&&(a.rq(),this.z_=!1),a.pause(this.XH),a.fea.apply(a,c.__spread(this.Jc)),a.nB=c.__spread(this.nB),this.tda(this.rb));return b;};a.prototype.QN=function(){return this.zJa();};a.prototype.zJa=function(){var a,b,f,l;l=this.Jc;return l.length?(f=c.__read(l,1)[0],r.assert(f),null!==(a=f.Kv)&&void 0!==a?a:f.sha):this.rb?(a=null===(b=this.rb)||void 0===b?void 0:b.$g.Lh,a=null===(f=this.rb)||void 0===f?void 0:f.$g.Wa[a],m.ha.ue(a.qf)):m.ha.Dc;};a.prototype.nnb=function(a){var b;if(0!==this.Jc.length){b=this.zJa();return a.lessThan(b)?this.Jc[0]:m.$Ha(this.Jc,a);}};return a;}();b.d8=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.UT=void 0;c=a(4).Promise;d=function(){function a(a,b,c){var n;this.dbb=a;this.I$=b;this.k6a=c;this.b$=(n={},n[0]=!1,n[1]=!1,n);this.reset();}a.prototype.fm=function(){var a,b;a=this;b=this.dbb.filter(function(b){return!b.TLa(a.k6a());});0===b.length&&this.r$?this.c8a():b.forEach(function(b){a.b$[b.L]||(b.once("requestAppended",function(){a.b$[b.L]=!1;a.fm();}),a.b$[b.L]=!0);});};a.prototype.reset=function(){var a;a=this;this.r$=!1;new c(function(b){a.c8a=b;}).then(function(){return a.I$();});};a.prototype.rq=function(){this.r$||(this.r$=!0,this.fm());};return a;}();b.UT=d;},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.V3=void 0;c=a(0);d=a(16);k=a(58);m=a(4);r=a(11);q=a(833);n=a(160);l=a(832);a=function(a){function b(){var b;b=null!==a&&a.apply(this,arguments)||this;b.TBa=0;b.Y$=0;b.WK=0;b.O9=0;return b;}c.__extends(b,a);b.prototype.Yla=function(b){var c,f;a.prototype.Yla.call(this,b);this.TBa++;this.Y$++;this.lCa=m.time.ea();this.ME||(this.ME={Vb:b.Vb,oc:b.oc,index:b.index},this.aV||(this.aV=this.ME));c=this.mV;f=!1;c&&100>Math.abs(c.Vb-b.oc)&&(this.WK+=b.Vb-c.Vb,this.O9++,f=!0);f||(this.WK=b.Or,this.O9=1);this.mV=b;};b.prototype.stop=function(){a.prototype.stop.call(this);this.WK=this.Y$=0;this.ME=void 0;};b.prototype.BJa=function(){var a,b,c,f;a=this.hF;b=a.oX;if(b){f=b.Qe(this.pe);f&&f.Ja&&(c=f.Ja.ega());return{RM:c,currentBranch:{sId:b.ba&&b.ba.id,cancelled:b.Sp},currentReceivedCount:a&&a.Uhb,totalReceivedCount:this.TBa,currentState:a&&a.Whb||"Uninitialized",lastRequestPushed:this.mV&&{contentEndPts:this.mV.Vb,fragmentIndex:this.mV.index},tslp:this.lCa&&m.time.ea()-this.lCa,cpts:this.WK,crq:this.O9,rslp:this.Y$,firstRequestSSPushed:this.ME&&{contentStartPts:this.ME.oc,fragmentIndex:this.ME.index},firstRequestPushed:this.aV&&{contentStartPts:this.aV.oc,fragmentIndex:this.aV.index}};}};return b;}(function(a){function b(b,c,f,h,n,d,k,g){var x;x=a.call(this)||this;x.Gp=b;x.pe=c;x.I=h;x.u=n;x.u=r.py(m,x.u,"AsePlayerBuffer:");x.hF=new q.gqa(x.u,f,c);x.resume();d&&k&&g&&(x.fRa=new l.fxa(c,n,d,d.U,x.Gp,d.events,k,g));x.Gp.on("requestAppended",function(){return x.emit("requestAppended");});return x;}c.__extends(b,a);Object.defineProperties(b.prototype,{$y:{get:function(){return this.Gp.$y;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{L:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});b.prototype.BJa=function(){};b.prototype.resume=function(){k.gb&&this.u.trace("resume");this.yna();};b.prototype.TLa=function(a){return this.Gp.Lfa()>a;};b.prototype.reset=function(a){var b;void 0===a&&(a=!1);k.gb&&this.u.trace("reset");this.stop();this.Gp.reset(a);a||(this.EU=void 0);a||(null===(b=this.fRa)||void 0===b?void 0:b.reset());};b.prototype.Wn=function(a){void 0===a&&(a=!1);this.reset(a);this.yna(!0);};b.prototype.stop=function(){this.hF.DUa();};b.prototype.close=function(){var a;null===(a=this.fRa)||void 0===a?void 0:a.close();};b.prototype.ad=function(){this.stop();this.close();};b.prototype.nka=function(){this.I.xY&&this.Gp.kIa();this.I.mJ&&this.Gp.resume();};b.prototype.cmb=function(a){this.Gp.kPa(a,!0);};b.prototype.yna=function(a){if(!this.hF.Vo||a)this.hF.kEb(),n.oz.Dtb(this.hF,this.D_.bind(this));};b.prototype.D_=function(a){a.done||this.Yla(a.value);};b.prototype.Yla=function(a){this.Gp.endOfStream?k.gb&&this.u.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.EU?(this.EU.$tb=a.Vb,this.EU.bub=a.we):this.EU={AVb:a.oc,BVb:a.dd,$tb:a.Vb,bub:a.we},this.Gp.xbb(a));};return b;}(d.EventEmitter));b.V3=a;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.q8=void 0;c=a(4).Promise;d=function(){function a(){var a;a=this;this.EV=[];this.xDb=function(b){b=a.EV.indexOf(b);0<=b&&a.EV.splice(b,1);};}Object.defineProperties(a.prototype,{px:{get:function(){return 0!==this.EV.length;},enumerable:!1,configurable:!0}});a.prototype.add=function(){var a;a=new k(this.xDb);this.EV.push(a);return a;};a.prototype.iXa=function(a){var b;b=this.add();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(n){return b.release(),c.reject(n);}};return a;}();b.q8=d;k=function(){function a(a){this.k9a=a;}a.prototype.release=function(){this.k9a(this);};return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dea=void 0;b.Dea=function(a,b){for(var c,d,r=a.length-1;0<=r;--r)if(d=a[r],d.oq){if(d.R<=b)return r;c=r;}return c;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.R3=void 0;c=a(0);a(4);a(5);d=function(a){function b(b,c,n,l,f){b=a.call(this,b,c,n,l,f)||this;b.xAa=!1;b.wAa=!1;b.dL=!1;b.wa=[];b.qr=!1;b.vBa=!1;b.OAa=!1;b.gd=!1;b.vg=!1;b.Zd=!1;b.rE=!1;b.VE=void 0;b.jr=void 0;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{Hha:{get:function(){return this.qr&&!this.dL;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{VRa:{get:function(){return this.vg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.Zd||(this.Zd=this.wa.every(function(a){return a.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xr:{get:function(){return this.rE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vh:{get:function(){return this.wa.reduce(function(a,b){return a+b.Vh;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{De:{get:function(){return this.wa.reduce(function(a,b){return a+b.De;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cd:{get:function(){return this.VE||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return this.wa[0]&&this.wa[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.ug||this.wa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return this.jr&&this.jr.status||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{th:{get:function(){return this.jr&&this.jr.th;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{AG:{get:function(){return this.jr&&this.jr.AG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gj:{get:function(){return this.jr&&this.jr.gj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{On:{get:function(){return!!this.wa.length&&this.wa[0].On;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.OAa&&a.Ab(this.Ja);this.wa.push(a);this.qr&&a.vs();};b.prototype.Ab=function(b){a.prototype.Ab.call(this,b);this.wa.forEach(function(a){return a.Ab(b);});this.OAa=!0;};b.prototype.vs=function(){this.vBa=!0;(this.qr=this.wa.every(function(a){return a.vs();}))&&this.GN(this);this.vBa=!1;return this.qr;};b.prototype.mc=function(){7!==this.readyState&&5!==this.readyState&&(this.u.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.wa.forEach(function(a){return a.mc();});};b.prototype.gR=function(a){this.ug=this.jr=void 0;return this.wa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.gR(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.ug=7;this.rE=!0;this.vg=this.gd=!1;b=this.wa.map(function(a){return a.abort();}).every(function(a){return a;});this.BY(this,a,this.Hha);return b;};b.prototype.getResponseHeader=function(a){var b;b=null;this.wa.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};b.prototype.getAllResponseHeaders=function(){var a;a=null;this.wa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};b.prototype.X0=function(){};b.prototype.Bv=function(a){this.gd||(this.gd=!0);this.xAa||(this.xAa=!0,this.Fl=0,this.VE=this.Gl=a.cd,this.AB(this));};b.prototype.RH=function(a){this.vg||(this.vg=!0);this.wAa||(this.wAa=!0,this.VE=a.cd,this.Sx(this));};b.prototype.SH=function(a){this.VE=a.cd;this.BB(this);this.Fl=this.De;this.Gl=a.cd;};b.prototype.hj=function(a){this.VE=a.cd;this.complete?(this.Zd=!0,this.ug=5,this.vg=this.gd=!1,this.dL=!0,this.aq(this)):this.BB(this);this.Fl=this.De;this.Gl=a.cd;};b.prototype.BP=function(a){this.VE=a.cd;this.jr=a;this.ug=6;this.CY(this);};b.prototype.AP=function(){};b.prototype.Pj=function(){return this.wa[0].Pj()+"-"+this.wa[this.wa.length-1].Pj();};b.prototype.toString=function(){return"Compound["+this.wa.map(function(a){return a.toString();}).join(",")+"]";};b.prototype.toJSON=function(){return{requests:this.wa};};return b;}(a(162).mz);b.R3=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ZR=void 0;c=a(0);k=a(5);d=function(a){function b(b,c,l){b=a.call(this,b,c)||this;b.KI=!1;b.Rr=!1;b.IH=!1;b.Lx=!1;b.Ok=void 0;b.RE=c.xi;b.jn=c.Eka;b.oAa=c.Lj;b.u=l;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xi:{get:function(){return this.RE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Eka:{get:function(){return this.jn;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lj:{get:function(){return this.oAa;},enumerable:!1,configurable:!0}});b.prototype.mc=function(){};b.prototype.s3=function(){};b.prototype.Aab=function(a){k.assert(this.Hd.ta===a.ta);!a.Vd&&this.Hd.Vd&&a.fX(this.Hd);!a.location&&this.Hd.location&&(a.location=this.Hd.location,a.tc=this.Hd.tc,a.SC=this.Hd.SC,a.url=this.Hd.url,a.mb=this.Hd.mb);this.Hd=a;};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Z});};return b;}(a(166).jw);b.ZR=d;},function(d){(function(){var X6L,w6L;function b(){var r6L;r6L=2;while(r6L!==5){switch(r6L){case 2:this.fx=this.ac=0;this.Sa=this.$d=void 0;r6L=5;break;}}}X6L=2;while(X6L!==8){w6L="1SI";w6L+="Y";w6L+="b";w6L+="Zr";w6L+="NJCp9";switch(X6L){case 9:w6L;X6L=8;break;case 2:b.prototype.start=function(a){var L6L;L6L=2;while(L6L!==1){switch(L6L){case 2:this.$d?a<this.$d?(this.fx+=this.$d-a,this.$d=a):a>this.Sa&&(this.Sa=this.$d=a):this.Sa=this.$d=a;L6L=1;break;}}};b.prototype.stop=function(a){var e6L;e6L=2;while(e6L!==1){switch(e6L){case 2:this.Sa&&a>this.Sa&&(this.fx+=a-this.Sa,this.Sa=a);e6L=1;break;}}};b.prototype.add=function(a,b,d){var Z6L;Z6L=2;while(Z6L!==4){switch(Z6L){case 2:this.start(b);this.stop(d);this.ac+=a;Z6L=4;break;}}};b.prototype.get=function(){var I6L;I6L=2;while(I6L!==1){switch(I6L){case 2:return{Da:this.fx?Math.floor(8*this.ac/this.fx):null,MX:this.fx?this.fx:0};break;}}};d.P=b;X6L=9;break;}}}());},function(d,b,a){var k,m;function c(a){this.I={XO:a.maxc||25,sca:a.c||.5,ECb:a.rc||"none",Fqb:a.hl||7200};this.HL();this.i9a=this.I.ECb;this.fL=this.I.Fqb;this.z9=Math.exp(Math.log(2)/this.fL);this.z9=Math.max(this.z9,1);this.QU=1;}k=a(8);m=a(228).TDigest;new(a(4)).Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.Tc=function(){var a;if(0===this.ce.size())return null;a=this.ce.Qh([.25,.75]);if(a[0]===a[1])return null;this.ce.size()>this.I.XO&&this.ce.yu();a=this.ce.Qs(!1).reduce(function(a,b){k.ma(b.lf)&&k.ma(b.n)&&a.push({mean:b.lf,n:b.n/this.QU});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};c.prototype.Xd=function(a){var b;if(k.Oa(a)||!k.has(a,"tdigest")||!k.Ie(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(n){return!1;}b.forEach(function(a){k.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{lf:a.mean,n:a.n};});this.QU=1;this.ce.tla(a);void 0===this.ce.Qh(0)&&this.HL();};c.prototype.get=function(){var a,b;a=this.ce;b=a.Qh([0,.1,.25,.5,.75,.9,1]);return{min:b[0],yka:b[1],Gk:b[2],ij:b[3],Hk:b[4],zka:b[5],max:b[6],qh:a.Qs(!1)};};c.fpb=function(a){var b;b=new c({});k.Oa(a)||k.W(a)||!k.isArray(a.qh)||(b.ce.tla(a.qh),void 0===b.ce.Qh(0)&&b.HL());a=b.ce.Qh([.25,.75]);return a[0]===a[1]?null:function(a){return b.ce.Qh(a);};};c.prototype.add=function(a){var b;b=1;"ewma"===this.i9a&&(this.QU=b=this.QU*this.z9);this.ce.push(a,b);};c.prototype.toString=function(){return"TDigestHist("+this.ce.summary()+")";};c.prototype.HL=function(){this.ce=new m(this.I.sca,this.I.XO);};d.P={Iya:c};},function(d,b,a){var k,m;function c(a){this.I={XO:a.maxc||25,sca:a.c||.5,OLb:a.w||15E3,cm:a.b||5E3};k.call(this,this.I.OLb,this.I.cm);this.HL();}k=a(163);m=a(228).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var a;a=this.Cy(0);k.prototype.shift.call(this);null!==a&&(this.ce.push(a,1),this.vo=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.ce.push(a,1);this.vo=!0;k.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.sKa();};c.prototype.Ou=function(){var a;a=this.sKa();return{min:a.min,p10:a.yka,p25:a.Gk,p50:a.ij,p75:a.Hk,p90:a.zka,max:a.max,centroidSize:a.Edb,sampleSize:a.RC,centroids:a.qh};};c.prototype.sKa=function(){var a;if(0===this.ce.size())return null;a=this.ce.Qh([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.vo||!this.oe)this.vo=!1,this.oe={min:a[0],yka:a[1],Gk:a[2],ij:a[3],Hk:a[4],zka:a[5],max:a[6],Qh:this.ce.Qh.bind(this.ce),Edb:this.ce.size(),RC:this.ce.n,qh:this.ynb(),Ou:this.Ou.bind(this)};return this.oe;};c.prototype.ynb=function(){var a;if(0===this.ce.size())return null;if(!this.vo&&this.oe)return this.oe.centroids;a=this.ce.Qh([.25,.75]);if(a[0]===a[1])return null;this.ce.size()>this.I.XO&&this.ce.yu();a=this.ce.Qs(!1).map(function(a){return{mean:a.lf,n:a.n};});return JSON.stringify(a);};c.prototype.oKa=function(){return this.ce.summary();};c.prototype.size=function(){return this.ce.size();};c.prototype.toString=function(){return"btdtput("+this.tF+","+this.Qc+","+this.li+"): "+this.ce.summary();};c.prototype.HL=function(){this.ce=new m(this.I.sca,this.I.XO);};d.P=c;},function(d,b,a){var k,m;function c(a,b,c,l){k.call(this,c,l);this.or=new m(a);this.P7a=b;}k=a(163);m=a(417);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var a;a=this.Cy(0);k.prototype.shift.call(this);null!==a&&this.or.oW(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.or.oW(a);k.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.YN();return{RC:this.OG(),g1:a,rP:a.ij?(a.Hk-a.Gk)/a.ij:void 0};};c.prototype.OG=function(){return this.or.OG();};c.prototype.YN=function(){return this.or.OG()<this.P7a?{Gk:void 0,ij:void 0,Hk:void 0,RC:void 0,Qh:void 0}:{Gk:this.or.Rp(25),ij:this.or.Rp(50),Hk:this.or.Rp(75),RC:this.or.OG(),Qh:this.or.Rp.bind(this.or)};};c.prototype.toString=function(){return"biqr("+this.tF+","+this.Qc+","+this.li+")";};d.P=c;},function(d,b,a){var r;function c(a){this.reset();this.gGb(a);}function k(a){this.setInterval(a);this.reset();}function m(a){this.Vw=new k(a);this.Qd=0;this.Rb=null;}r=a(8);c.prototype.gGb=function(a){this.uE=Math.pow(.5,1/a);this.fL=a;};c.prototype.reset=function(a){a&&a.Da&&r.ma(a.Da)?a.Bh&&r.ma(a.Bh)?(this.hr=this.l7a,this.hn=a.Da,this.Qw=a.Bh+a.Da*a.Da):(this.hr=this.l7a,this.hn=a.Da,this.Qw=a.Da*a.Da):this.Qw=this.hn=this.hr=0;};c.prototype.add=function(a){var b;if(r.ma(a)){this.hr++;b=this.uE;this.hn=b*this.hn+(1-b)*a;this.Qw=b*this.Qw+(1-b)*a*a;}};c.prototype.get=function(){var a,b,c;if(0===this.hr)return{Da:0,Bh:0};a=this.hn;b=this.Qw;c=1-Math.pow(this.uE,this.hr);a=a/c;b=b/c;c=a*a;return{Da:Math.floor(a),Bh:Math.floor(b>c?b-c:0)};};c.prototype.Tc=function(){return 0===this.hr?null:{a:Math.round(this.hn),s:Math.round(this.Qw),n:this.hr};};c.prototype.Xd=function(a){if(r.Oa(a)||!r.has(a,"a")||!r.has(a,"s")||!r.isFinite(a.a)||!r.isFinite(a.s))return this.Qw=this.hn=this.hr=0,!1;this.hn=a.a;this.Qw=a.s;r.has(a,"n")&&r.ma(a.n)?this.hr=a.n:this.hr=16*this.fL;return!0;};k.prototype.setInterval=function(a){this.fL=a;this.uE=-Math.log(.5)/a;};k.prototype.reset=function(a){this.Sa=this.$d=null;a&&r.isFinite(a.Da)?this.hn=a.Da:this.hn=0;};k.prototype.start=function(a){r.Oa(this.$d)&&(this.Sa=this.$d=a);};k.prototype.add=function(a,b,c){var f,l;r.Oa(this.$d)&&(this.Sa=this.$d=b);this.$d=Math.min(this.$d,b);b=Math.max(c-b,1);f=this.uE;l=c>this.Sa?c:this.Sa;this.hn=this.hn*(l>this.Sa?Math.exp(-f*(l-this.Sa)):1)+8*a/b*(1-Math.exp(-f*b))*(c>l?Math.exp(-f*(l-c)):1);this.Sa=l;};k.prototype.get=function(a){var b;a=Math.max(a,this.Sa);b=this.hn*Math.exp(-this.uE*(a-this.Sa));a=1-Math.exp(-this.uE*(a-this.$d));0<a&&(b/=a);return{Da:Math.floor(b)};};k.prototype.toString=function(){return"ewmav("+this.fL+")";};m.prototype.setInterval=function(a){this.Vw.setInterval(a);};m.prototype.reset=function(a){this.Vw.reset(a);this.Qd=0;this.Rb=null;};m.prototype.start=function(a){!r.Oa(this.Rb)&&a>this.Rb&&(this.Qd+=a-this.Rb,this.Rb=null);this.Vw.start(a-this.Qd);};m.prototype.add=function(a,b,c){!r.Oa(this.Rb)&&c>this.Rb&&(this.Qd+=b>this.Rb?b-this.Rb:0,this.Rb=null);this.Vw.add(a,b-this.Qd,c-this.Qd);};m.prototype.stop=function(a){this.Rb=Math.max(r.Oa(this.Vw.Sa)?0:this.Vw.Sa+this.Qd,r.Oa(this.Rb)?a:Math.min(this.Rb,a));};m.prototype.get=function(a){return this.Vw.get((r.Oa(this.Rb)?a:this.Rb)-this.Qd);};m.prototype.toString=function(){return this.Vw.toString();};d.P={x_a:c,ENb:k,v_a:m};},function(d,b,a){d.P={uVb:a(401),SYb:a(227),mNb:a(852),lNb:a(400),nNb:a(399),wsa:a(849)};},function(d){function b(){}function a(a){this.oCa=a;this.en=[];this.yf=null;}b.prototype.clear=function(){this.Rd=null;this.size=0;};b.prototype.find=function(a){var c;for(var b=this.Rd;null!==b;){c=this.bl(a,b.data);if(0===c)return b.data;b=b.gg(0<c);}return null;};b.prototype.lowerBound=function(a){var q;for(var b=this.Rd,c=this.iterator(),d=this.bl;null!==b;){q=d(a,b.data);if(0===q)return c.yf=b,c;c.en.push(b);b=b.gg(0<q);}for(q=c.en.length-1;0<=q;--q)if(b=c.en[q],0>d(a,b.data))return c.yf=b,c.en.length=q,c;c.en.length=0;return c;};b.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.bl;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};b.prototype.min=function(){var a;a=this.Rd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};b.prototype.max=function(){var a;a=this.Rd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Td=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.yf?this.yf.data:null;};a.prototype.next=function(){var a;if(null===this.yf){a=this.oCa.Rd;null!==a&&this.iBa(a);}else if(null===this.yf.right){do if(a=this.yf,this.en.length)this.yf=this.en.pop();else{this.yf=null;break;}while(this.yf.right===a);}else this.en.push(this.yf),this.iBa(this.yf.right);return null!==this.yf?this.yf.data:null;};a.prototype.DC=function(){var a;if(null===this.yf){a=this.oCa.Rd;null!==a&&this.fBa(a);}else if(null===this.yf.left){do if(a=this.yf,this.en.length)this.yf=this.en.pop();else{this.yf=null;break;}while(this.yf.left===a);}else this.en.push(this.yf),this.fBa(this.yf.left);return null!==this.yf?this.yf.data:null;};a.prototype.iBa=function(a){for(;null!==a.left;)this.en.push(a),a=a.left;this.yf=a;};a.prototype.fBa=function(a){for(;null!==a.right;)this.en.push(a),a=a.right;this.yf=a;};d.P=b;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.U3=void 0;c=a(0);k=a(93);m=a(19);r=a(4);d=a(16);q=a(11);n=a(33);l=a(5);f=a(229);h=a(396);a=a(395);g=r.MediaSource;a=function(a){function b(b,c,f,l,n,d,q){c=a.call(this,b,l,n,c,q)||this;h.ZR.call(c,b,l,q);c.Ok=f;c.track=f.track;c.Rr=!!l.Rr;c.IH=!!l.IH;c.Lx=!!l.Lx;c.hzb=l.aa;c.KI=!!l.KI;c.t$=(d?"(cache)":"")+c.ta+" header";c.nF(b.url||l.url,l.offset,l.aa);return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{c1:{get:function(){return this.S8a;},enumerable:!1,configurable:!0}});b.prototype.mc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.mc.call(this);};b.prototype.GN=function(b){this.stream.oka();a.prototype.GN.call(this,b);};b.prototype.hj=function(b){this.jn=this.jn?q.Kr(this.jn,b.response):b.response;b.hQ();this.P8a()?a.prototype.hj.call(this,b):this.Hza?(this.nF(b.url,b.offset+b.aa,this.Hza),a.prototype.hj.call(this,b)):this.CY(this);};b.prototype.nF=function(a,b,c){a=new f.tJ(this.stream,this.track,this.t$+" ("+this.wa.length+")",{offset:b,aa:c,url:a,location:this.location,Kb:this.Kb,responseType:0},this,this.Zc,this.u);this.push(a);this.ac=this.wa.reduce(function(a,b){return a+b.aa;},0);};b.prototype.P8a=function(){var a,c,f;a=this.Zc;c=new k.Cw(b.gxb,this.stream,this.jn,["sidx"],this.L===m.Na.VIDEO&&a.nG||this.L===m.Na.AUDIO,{PYb:this.stream.track.Lda,oQa:void 0===this.Qa,QVa:!g.yc||!g.yc.cFa,ooa:a.ooa,yo:a.yo,fJ:this.Zc.fJ,pEb:!0,I2:!g.yc||!g.yc.LOa});f=c.parse({Qa:this.Qa});this.$Kb=a.fJ&&c.frb;f.By?(l.assert(f.xi),this.RE=f.xi,this.S8a=f.c1,this.oAa=!!f.aY,void 0===this.Qa&&void 0===f.Qa&&this.u.error("No frame duration available for "+this.ta),void 0===this.Qa&&void 0===f.Qa&&this.u.error("No frame duration available for "+this.ta),c=f.Qa?new q.ha(f.Qa):this.Qa,this.stream.T0(f.xi,f.T,c,f.Z,f.FH,f.mi,a.YH&&a.YH.enabled?f.gz:void 0),this.jn=void 0):this.Hza=f.sab||0;return!!f.By;};b.gxb=new r.Console("MP4","media|asejs");return b;}(a.R3);b.U3=a;n.Ke(h.ZR,a,!1,!1);n.Ke(d.EventEmitter,a);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.C8=void 0;c=a(0);k=a(93);a(5);a(35);d=function(){function a(a,b,c,l){this.T=c;this.Kd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.ac=l;}Object.defineProperties(a.prototype,{aa:{get:function(){return void 0!==this.ac?this.ac:this.ac=this.H9();},enumerable:!1,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Kd.subarray(b,c),this.sizes.subarray(b,c),this.T);};a.prototype.concat=function(){var d,b,n,l;for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];d=[this];b=d.concat.apply(d,c.__spread(b));d=b.reduce(function(a,b){return a+b.length;},0);n=new Uint32Array(d);l=new Uint32Array(d);d=b.reduce(function(a,b){return a||b.T;},void 0);b.reduce(function(a,b){k.b9.set(n,b.Kd,a);k.b9.set(l,b.sizes,a);return a+b.length;},0);return new a(n,l,d);};a.prototype.H9=function(){for(var a=this.sizes,b=this.length,c=0,l=0;l<b;++l)c+=a[l];return c;};return a;}();b.C8=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(408);k=a(237);m=a(407);d=function(){function a(a,b,c){this.console=a;this.stream=b;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);}a.prototype.parse=function(a){var b;b=new m.qra(this.view.byteLength);this.mg=new c.h4(k.HH.Sc,b,this.view,this.console,{Dka:!0});a=this.mg.parse(a);this.Sc=this.mg.Sc;return a.done;};return a;}();b.dK=d;},function(d,b,a){var k;function c(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(82);d=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.sIa=function(){return this.done;};a.prototype.QGa=function(a,b,c){return this.done=b+c>=this.endOffset;};return a;}();b.qra=d;d=function(){function a(a,b,c,l){void 0===b&&(b=[]);void 0===c&&(c=[]);void 0===l&&(l=!1);this.Gq=a;this.EX=b;this.eVa=c;this.qQa=l;this.done=!1;this.Vj={};}a.prototype.sIa=function(b,c,n){-1!==a.jrb.indexOf(b)&&(this.Vj[b]={offset:c,size:n});if(-1!==this.eVa.indexOf(b))if(this.Vj[b]={offset:c,size:n},this.qQa)this.endOffset=c+n;else return this.endOffset=c,this.done=!0;else this.Gq&&-1!==this.Gq.indexOf(b)?(b=1<this.Gq.length?4096:0,this.endOffset=Math.max(c+n+b,this.endOffset||0)):-1!==this.EX.indexOf(b)&&(b=this.Gq?4096:0,this.endOffset=Math.max(c+n+b,this.endOffset||0));return this.done;};a.prototype.QGa=function(a,b,n,l){var f;f=this;if(-1!==this.eVa.indexOf(a))return this.done=!0;a===k.Z6&&this.LTa(l.Vj);a===k.a7&&this.LTa(l.Vj);this.Gq&&c(a,this.Gq);c(a,this.EX);return this.Gq&&0===this.Gq.length&&!this.EX.some(function(a){return f.Vj[a];})?this.done=!0:this.done;};a.prototype.LTa=function(a){var b;b=this;this.Vj=a;this.endOffset=(this.Gq||[]).concat(this.EX).reduce(function(a,c){return b.Vj[c]?(c=b.Vj[c],Math.max(c.offset+(c.size||4096),a)):a;},this.endOffset||0);};a.jrb=["moov","sidx"];return a;}();b.B0a=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(27);m=a(73);d=function(a){function b(b,c,f,h,d){f=a.call(this,f,h,d)||this;f.Acb=b;f.QI=c;f.Sc={};return f;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,h,n,d,q;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){c=this.offset;h=this.Hb();if(0===h)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};n=m.hA(this.Hb());if(null===n)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===n){if(16>this.view.byteLength-this.offset)break;n=this.H1();}if(0===b.length&&this.QI.sIa(n,c,h))break;if(c+h>this.view.byteLength)break;d=this.Acb[n];q=void 0;if(d)if(q=new d(this,n,c,h,b[0]),(b[0]||this).XL(q),q.parse(a))this.config.Dka&&d.jc?b.unshift(q):this.offset=c+h;else return{done:!1,offset:this.offset,error:"parse error in "+n+" box"};else this.offset=c+h;for(;b.length&&this.offset>b[0].byteOffset+b[0].sC-8;){q=b.shift();if(!q.CG(a))return{done:!1,offset:this.offset,error:"finalize error in "+q.type+" box"};this.offset=q.byteOffset+q.sC;}if(0===b.length&&this.QI.QGa(n,c,h,q))break;}return!this.QI.done&&(a=this.QI.endOffset?this.QI.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,QOa:a}:{done:!0,offset:Math.min(this.QI.endOffset||Infinity,this.offset)};};b.prototype.XL=function(a){k.Xf.XL(this,a);};return b;}(a(863).c5a);b.h4=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var a,b,d;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a+b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a+b.byteLength;},0);return d.buffer;};},function(d){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,Do:2,sampleRate:24E3,duration:1024,Vv:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Do:2,sampleRate:24E3,duration:1024,Vv:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,Do:6,sampleRate:48E3,duration:1536,Vv:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,Do:2,sampleRate:48E3,duration:1536,Vv:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};d.P={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(82);a=a(27);k=d.a7;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a,f,h;this.Uf();1<=this.version&&(this.RHa=this.M.H1());a=this.M.Hb();this.Vj={};for(var b=this.startOffset+this.length,c=0;c<a;++c){f=this.M.Jy();"uuid"===f&&(f=this.M.H1());h=this.M.kj();this.Vj[f]={offset:b,size:h};b+=h;}return!0;};b.Oe=k;b.jc=!1;return b;}(a.Xf);b["default"]=a;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(82);d=a(27);m=k.Z6;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.fileSize=this.M.kj();this.T=this.M.kj();this.duration=this.M.kj(!1,!0);this.zPa=this.M.kj();this.M.kj();this.wyb=this.M.kj();this.Exb=this.M.Hb();this.APa=this.M.kj();this.eIa=this.M.Hb();this.RHa=this.M.H1();this.Vj={moof:{offset:this.zPa},sidx:{offset:this.APa,size:this.eIa}};this.Vj[k.kva]={offset:this.wyb,size:this.Exb};this.M.offset-this.startOffset<=this.length-24&&(this.vyb=this.M.kj(),this.vxb=this.M.Hb(),this.uyb=this.M.kj(),this.uxb=this.M.Hb(),this.Vj[k.wT]={offset:this.vyb,size:this.vxb},this.Vj[k.vT]={offset:this.uyb,size:this.uxb});return!0;};b.Oe=m;b.jc=!1;return b;}(d.Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){var b;b=null!==a&&a.apply(this,arguments)||this;b.EY=1536;return b;}c.__extends(b,a);b.jc=!0;return b;}(a(167)["default"]);b["default"]=d;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="ac-3";return b;}(d);b.uXa=a;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="ec-3";return b;}(d);b.E_a=d;},function(d){var b;b=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,d){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),d*a.byteLength/a.length);}:function(a,b,d){a.set(b,d);};d.P={from:function(a,b,d,m){a=new a(b.length);for(var c="function"===typeof d,q=0;q<b.length;++q)a[q]=c?d.call(m,b[q],q,b):b[q];return a;},set:b};},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Jpa=void 0;c=a(883);k=a(28);a(5);m=a(72);d=function(){function a(a,b,c){this.I=b;this.u=c;this.Sg=a.track;this.U9a=a.Gg;this.$B=a.$B;this.r7a=-1===this.profile.indexOf("none");this.RE=this.Ha=void 0;b=a.Xu;this.Xu=void 0===b?!0:b;this.IX=a.IX;this.NE=void 0;this.dBa=this.Bt=0;this.url=this.SC=this.tc=this.pp=this.yia=this.location=this.Ga=this.mb=void 0;this.ey=!1;this.Tha=this.fe=void 0;a=this.I&&"object"===typeof this.I.oRa&&this.I.oRa[this.profile];"object"===typeof a&&(a=a[this.R])&&(this.fF=new k.ha(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{Vd:{get:function(){return!!this.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Sg.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{na:{get:function(){return this.O.na;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{G:{get:function(){return this.Sg.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{L:{get:function(){return this.Sg.L;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qa:{get:function(){return this.Sg.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Sg.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{GH:{get:function(){return this.Sg.GH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$a:{get:function(){return this.Sg.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gg:{get:function(){return this.U9a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ta:{get:function(){return this.$B.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$u:{get:function(){return this.r7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.$B.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ub:{get:function(){return this.$B.vmaf||void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.$B.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Is:{get:function(){return this.$B.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ei:{get:function(){return this.fF;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Z:{get:function(){return this.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{c0:{get:function(){return this.Ha&&this.Ha.c0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bfa:{get:function(){return this.Sg.bfa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{afa:{get:function(){return this.Sg.afa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ku:{get:function(){return void 0!==this.NE?this.NE:this.Mha();},set:function(a){this.NE=a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oq:{get:function(){return this.Xu&&!this.ey;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xi:{get:function(){return this.RE;},enumerable:!1,configurable:!0}});a.prototype.cj=function(){return this.O.cj(this.L,this.ta);};a.prototype.aZ=function(){var a;a=this.cj();return a&&a.stream.Z;};a.prototype.oD=function(){return this.O.oD(this);};a.prototype.oka=function(){this.track.oka();};a.prototype.T0=function(a,b,l,f,h,d,k){f&&void 0!==f.Zj&&(this.track.Vd||void 0!==f.Kd&&f.Kd.length)&&void 0!==f.offset&&void 0!==f.sizes&&f.sizes.length?(this.I.yo&&this.Ei&&0===f.Zj&&(f.Zj+=this.Ei.Jf(f.T).Cb),this.RE=a,this.Vd||(this.track.T0(this,b,l,f,d),this.Ha=new c.qya(this.track.Pm,f,h,d,k,this.G),this.track.Iyb(this))):f?this.u.error("AseStream.onHeaderReceived: fragmentsData was missing data:"+(void 0!==f.Zj)+","+this.track.Vd+","+this.track.Lda+","+(void 0!==f.Kd)+","+!(!f.Kd||!f.Kd.length)+","+(void 0!==f.offset)+","+(void 0!==f.sizes)+","+!(!f.sizes||!f.sizes.length)):this.u.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.fX=function(a){this.Vd||(this.track.hfb(a.track),this.Ha=a.Z,this.RE=a.xi);};a.prototype.wi=function(a){return new m.Ch(this,this.Z.get(a));};a.prototype.qJa=function(a){var b;b=this.wi(a.index);a.Ua&&(b.Xj(a.Ua),b.MQ(a.Zv));return b;};a.prototype.nWa=function(a,b){this.Bt=a;this.dBa=b;};a.prototype.neb=function(){this.Ga=this.mb=this.tc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.G,mediaType:this.L,streamId:this.ta,bitrate:this.R};};a.prototype.toString=function(){return(0===this.L?"a":"v")+":"+this.ta+":"+this.R;};a.prototype.Mha=function(){var a;if(!this.Vd)return!0;if(this.track.Sga>=this.R)return this.NE=!0;if(this.track.qNa<=this.R)return this.NE=!1;a=this.Ha.Mha(this.I.kP,this.Bt,this.dBa);if(a){if(!this.track.Lda||this.$u)this.track.Sga=this.R;}else this.track.qNa=this.R;return this.NE=a;};return a;}();b.Jpa=d;},function(d,b,a){var k,m,r,q;function c(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(b,"__esModule",{value:!0});b.bbb=b.TO=b.T8=b.Uya=void 0;k=a(5);d=a(4);m=a(28);r=new d.Console("FRAGMENTS","media|asejs");q=function(){function a(a,b){this.gc=a;this.xj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.xj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pl:{get:function(){return new m.ha(this.Ta,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.gc.SV+this.gc.kx[this.xj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hb:{get:function(){return this.Ta+this.gc.no[this.xj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jo:{get:function(){return this.gc.no[this.xj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qa:{get:function(){return this.gc.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.gc.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return Math.floor(1E3*this.Ta/this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oa:{get:function(){return Math.floor(1E3*(this.Ta+this.Jo)/this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.oa-this.S;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.Ta/this.Qa.T,endPts:1E3*this.hb/this.Qa.T,duration:1E3*this.Jo/this.Qa.T,index:this.index};};return a;}();b.Uya=q;a=function(){function a(a,b,c,n){this.L=a;this.length=c.Kd.length;this.Yl=c.T;this.no=c.Kd;this.qW=n&&n.cI;this.TCa=n&&n.vI;this.OE=b;this.yoa=this.zoa=this.bBa=void 0;this.SV=c.Zj;this.kx=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.kx[b]=a,a+=this.no[b];this.kx[b]=a;this.y9=Math.floor((this.oa-this.S)/this.length);}}Object.defineProperties(a.prototype,{Zj:{get:function(){return this.zUa(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bea:{get:function(){return this.zUa(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Sh(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oa:{get:function(){return this.Sh(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rB:{get:function(){return new m.ha(this.bea,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bja:{get:function(){return this.bBa||this.O5a();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qa:{get:function(){return this.OE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Yl;},enumerable:!1,configurable:!0}});a.prototype.zUa=function(a){return this.SV+this.kx[a];};a.prototype.Sh=function(a){return Math.floor(1E3*(this.SV+this.kx[a])/this.T);};a.prototype.cea=function(a){return this.Sh(a+1);};a.prototype.Kd=function(a){return this.cea(a)-this.Sh(a);};a.prototype.get=function(a){return new q(this,a);};a.prototype.jm=function(a,b,c){if(0===this.length||a<this.Sh(0))return-1;a=Math.max(a,b||0);for(var f=0,h=this.length-1,l,n;h>=f;)if(l=f+(h-f>>1),n=this.Sh(l),a<n)h=l-1;else if(a>=n+this.Kd(l))f=l+1;else{for(;b&&l<this.length&&this.Sh(l)<b;)++l;return l<this.length?l:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.pY=function(a,b,c){a=this.jm(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.Gca=function(a,b){var c,f;c=Math.floor(b*this.T/1E3);b=Math.min(a+Math.ceil(b/this.y9),this.length);f=this.kx[b]-this.kx[a];if(f>c){for(;f>=c;)--b,f-=this.no[b];return b-a+1;}for(;f<c&&b<=this.length;)f+=this.no[b],++b;return b-a;};a.prototype.subarray=function(b,c){k.assert(void 0===b||0<=b&&b<this.length);k.assert(void 0===c||c>b&&c<=this.length);return new a(this.L,this.Qa,{T:this.T,Zj:this.SV+this.kx[b],Kd:this.no.subarray(b,c)},this.qW&&{cI:this.qW.subarray(b,c+1),vI:this.TCa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.y9};};a.prototype.dump=function(){var b;r.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.y9+"ms");for(var a=0;a<this.length;++a){b=this.get(a);r.trace("TrackFragments: "+a+": ["+b.S+"-"+b.oa+"]");}};a.prototype.O5a=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.no[b],a);return this.bBa=a;};return a;}();b.T8=a;b.TO=c;a.prototype.yUa=c(a.prototype.Sh);b.bbb=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(d){function b(a){this.C$=a;this.cf=[];this.vo=!1;this.AA=void 0;this.ii={};}b.prototype.oW=function(a){this.cf.length===this.C$&&this.cf.shift();Array.isArray(a)?this.cf=this.cf.concat(a):this.cf.push(a);this.vo=!0;};b.prototype.OG=function(){return this.cf.length;};b.prototype.Oba=function(){var a;a=this.cf;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.cf.length:void 0;};b.prototype.OW=function(){var a,b;a=this.cf;if(0<a.length){b=this.Oba();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};b.prototype.Rp=function(a){var b,d,m;if(this.vo||void 0===this.AA)this.AA=this.cf.slice(0).sort(function(a,b){return a-b;}),this.ii={},this.vo=!1;if(void 0===this.ii[a]){b=this.AA;d=Math.floor(a/100*(b.length-1)+1)-1;m=(a/100*(b.length-1)+1)%1;this.ii[a]=d===b.length-1?b[d]:b[d]+m*(b[d+1]-b[d]);}return this.ii[a];};d.P=b;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xs=void 0;d=b.Xs||(b.Xs={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(940),b);d.__exportStar(a(939),b);d.__exportStar(a(938),b);d.__exportStar(a(937),b);d.__exportStar(a(936),b);d.__exportStar(a(935),b);d.__exportStar(a(934),b);d.__exportStar(a(933),b);d.__exportStar(a(932),b);d.__exportStar(a(931),b);d.__exportStar(a(930),b);d.__exportStar(a(929),b);d.__exportStar(a(925),b);d.__exportStar(a(924),b);d.__exportStar(a(923),b);d.__exportStar(a(240),b);d.__exportStar(a(922),b);d.__exportStar(a(921),b);d.__exportStar(a(920),b);d.__exportStar(a(919),b);d.__exportStar(a(918),b);d.__exportStar(a(917),b);d.__exportStar(a(916),b);d.__exportStar(a(915),b);d.__exportStar(a(914),b);d.__exportStar(a(913),b);d.__exportStar(a(912),b);d.__exportStar(a(911),b);d.__exportStar(a(910),b);d.__exportStar(a(909),b);d.__exportStar(a(908),b);d.__exportStar(a(907),b);d.__exportStar(a(906),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C6=void 0;b.C6="ManifestEnricherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D7=b.E7=void 0;b.E7="PboLinksManagerSymbol";b.D7="PboLinksManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G6=void 0;b.G6="ManifestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H6=void 0;b.H6="ManifestVerifyErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y8=void 0;b.Y8="TrickPlayFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U8=void 0;b.U8="TrackStreamFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e8=void 0;b.e8="PlayerTextTrackFactorySymbol";},function(d,b){function a(a,b){this.log=a;this.f3=b;}Object.defineProperty(b,"__esModule",{value:!0});b.cK=void 0;a.prototype.NVa=function(a,b){var c;c=this;if(!a)return this.log.warn("There are no media streams for "+b.type+" track - "+b.$a),[];a=a.map(function(a){var d;d=c.f3(b,b.type,a.Hda,a.R,a.Ub,a.size,c.Vnb(a.le),a.OM,a.wmb/a.vmb,a.$u);d.AGb(a.ZDb,a.YDb,a.jAb,a.iAb);d.RFb(a.Rhb,a.Shb,a.Qhb,a.Phb);b.xk&&(d.xk=b.xk);a.OM&&(d.bg=a.OM);return d;});a.sort(function(a,b){return a.R-b.R;});return a;};a.prototype.Vnb=function(a){return a.reduce(function(a,b){a[b.BEa]=b.url;return a;},{});};b.cK=a;},function(d,b,a){var c,k,m;c=a(243);k=a(111);b=a(51);m=a(960);a=b(function(a,b){return 1===a?k(b):c(a,m(a,[],b));});d.P=a;},function(d){d.P=function(b,a){for(var c=0,d=a.length,m=Array(d);c<d;)m[c]=b(a[c]),c+=1;return m;};},function(d,b,a){var c,k,m,r,q;b=a(111);c=a(245);k=a(963);m=!{toString:null}.propertyIsEnumerable("toString");r="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");q=function(){return arguments.propertyIsEnumerable("length");}();a=b("function"!==typeof Object.keys||q?function(a){var b,f,h,n;if(Object(a)!==a)return[];h=[];f=q&&k(a);for(b in a)!c(b,a)||f&&"length"===b||(h[h.length]=b);if(m)for(f=r.length-1;0<=f;){b=r[f];if(n=c(b,a)){a:{for(n=0;n<h.length;){if(h[n]===b){n=!0;break a;}n+=1;}n=!1;}n=!n;}n&&(h[h.length]=b);--f;}return h;}:function(a){return Object(a)!==a?[]:Object.keys(a);});d.P=a;},function(d){d.P={Ab:function(){return this.SR["@@transducer/init"]();},result:function(b){return this.SR["@@transducer/result"](b);}};},function(d){d.P=Array.isArray||function(b){return null!=b&&0<=b.length&&"[object Array]"===Object.prototype.toString.call(b);};},function(d,b,a){var c,k;c=a(432);k=a(970);d.P=function(a,b,d){return function(){var n,l;if(0===arguments.length)return d();n=Array.prototype.slice.call(arguments,0);l=n.pop();if(!c(l)){for(var f=0;f<a.length;){if("function"===typeof l[a[f]])return l[a[f]].apply(l,n);f+=1;}if(k(l))return b.apply(null,n)(l);}return d.apply(this,arguments);};};},function(d,b,a){var c,k,m,r,q,n;b=a(51);c=a(433);k=a(969);m=a(435);r=a(244);q=a(964);n=a(430);a=b(c(["filter"],q,function(a,b){return m(b)?r(function(c,f){a(b[f])&&(c[f]=b[f]);return c;},{},n(b)):k(a,b);}));d.P=a;},function(d){d.P=function(b){return"[object Object]"===Object.prototype.toString.call(b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.E6=void 0;b.E6="ManifestProviderConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F6=void 0;b.F6="ManifestParserFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l4=void 0;b.l4="CDMAttestedDescriptorProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f4=void 0;b.f4="BookmarkConfigParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g4=void 0;b.g4="BookmarkConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O4=void 0;b.O4="DiskStorageRegistrySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q6=void 0;b.Q6="MemoryStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m6=void 0;b.m6="LocalStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u4=void 0;b.u4="CorruptedStorageValidatorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kU=void 0;b.kU="Storage";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$J=void 0;b.$J="IndexedDBConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.k8=void 0;b.k8="PresentationAPISymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J6=void 0;b.J6="MediaCapabilitiesLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K6=void 0;b.K6="MediaCapabilitiesSymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.yS=void 0;c=a(31);k=a(452);m=a(60);a(133);new(a(96)).Iw();d=function(){function a(a,b){var l;l=k.CJ.call(this,a,b,c.ar.Audio)||this;l.config=a;l.sja=b;l.type=c.kw.uz;return l;}ba(a,k.CJ);a.prototype.aR=function(){return Promise.resolve(!1);};a.prototype.eB=function(){var a;a={};a[m.Yh.QS]="mp4a.40.2";a[m.Yh.q0a]="mp4a.40.2";a[m.Yh.z5]="mp4a.40.5";a[m.Yh.RS]="mp4a.40.2";a[m.Yh.zU]="mp4a.40.42";this.config().Tda&&(a[m.Yh.uS]="ec-3");this.config().Sda&&(a[m.Yh.y4]="ec-3");this.config().sN&&(a[m.Yh.vS]="ec-3");return a;};a.prototype.$Ja=function(){return this.config().gM;};a.bJ="audio/mp4;codecs={0};";return a;}();b.yS=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hh=void 0;b.hh=function(){function a(){}a.Hsa=/^hevc-main/;a.Gsa=/^hevc-hdr-|hevc-dv/;a.et=/^hevc-hdr-/;a.ct=/^hevc-dv/;a.OD=/-h264mpl/;a.NJ=/-h264mpl30/;a.PD=/-h264mpl31/;a.xD=/-h264hpl/;a.Mw=/^vp9-/;a.Li=/^av1-/;a.TR=/^heaac-2-/;a.gPb=/^heaac-2hq-dash/;a.zU=/^xheaac-dash/;a.uZa=/ddplus-2/;a.vZa=/ddplus-5/;a.wZa=/ddplus-atmos/;return a;}();},function(d,b,a){var k,m,r;function c(a,b,c){this.config=a;this.sja=b;this.L=c;this.uja={};this.uja[k.ar.Audio]="audio";this.uja[k.ar.mza]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.CJ=void 0;k=a(31);d=a(96);m=a(451);r=new d.Iw().format;c.prototype.qKa=function(){return this.ajb(this.$Ja());};c.prototype.qu=function(a){return this.sja.isTypeSupported(a);};c.prototype.bJa=function(){return[m.hh.TR,m.hh.OD];};c.prototype.uha=function(){this.Hl=[];this.Cq=[];this.config().YPa&&this.Cq.push(m.hh.Hsa);this.config().XPa&&this.Cq.push(m.hh.Gsa);this.config().DP&&this.Cq.push(m.hh.xD);this.config().ZPa&&this.Cq.push(m.hh.Mw);this.config().WPa&&this.Cq.push(m.hh.Li);this.Cq=this.Cq.concat(this.bJa());!this.config().Dkb&&this.Hl.push(m.hh.zU);!this.config().Tda&&this.Hl.push(m.hh.uZa);!this.config().Sda&&this.Hl.push(m.hh.vZa);!this.config().sN&&this.Hl.push(m.hh.wZa);!this.config().vkb&&this.Hl.push(/prk$/);this.config().YPa||this.config().lkb||this.Hl.push(m.hh.Hsa);this.config().XPa||this.config().Vda||this.Hl.push(m.hh.Gsa);this.config().DP||this.config().WX||this.Hl.push(m.hh.xD);this.config().ZPa||this.config().Bkb||this.Hl.push(m.hh.Mw);this.config().WPa||this.config().gkb||this.Hl.push(m.hh.Li);};c.prototype.nY=function(a){var b;b=this;a=a.filter(function(a){for(var c=R(b.Cq),h=c.next();!h.done;h=c.next())if(h.value.test(a))return!0;c=R(b.Hl);for(h=c.next();!h.done;h=c.next())if(h.value.test(a))return!1;a=b.pla[a];h="";if(a)return Array.isArray(a)&&(h=1<a.length?" "+a[1]:"",a=a[0]),a=r("{0}/mp4;codecs={1};{2}",b.uja[b.L],a,h),b.qu(a);});return Promise.resolve(a);};c.prototype.ajb=function(a){var b;b={};this.uha();return this.nY(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};qa.Object.defineProperties(c.prototype,{pla:{configurable:!0,enumerable:!0,get:function(){this.IBa||(this.IBa=this.eB());return this.IBa;}}});b.CJ=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W3=void 0;b.W3={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n4=void 0;b.n4="CapabilityDetectorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.k5=void 0;b.k5="ExtraPlatformInfoProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q4=void 0;b.q4="CdnThroughputTracker";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q8=void 0;b.Q8="ThroughputTrackerConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B7=void 0;b.B7="PboGenerateScreenshotsCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N4=void 0;b.N4="DiagnosticsFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W8=void 0;b.W8="TransitionLoggerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j9=void 0;b.j9="VideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a8=void 0;b.a8="PlaybackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A8=void 0;b.A8="SegmentConfigFactorySymbol";},function(d,b,a){var k;function c(a,b,c,n,l,f){this.level=a;this.em=b;this.timestamp=c;this.message=n;this.Bd=l;this.index=void 0===f?0:f;this.J1a={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.q6=void 0;k=a(3);c.prototype.d3=function(a,b){var c;c=""+this.message;this.Bd.forEach(function(n){c+=n.mD(a,b);});return(this.timestamp.ca(k.ja)/1E3).toFixed(3)+"|"+this.index+"|"+(this.J1a[this.level]||this.level)+"|"+this.em+"| "+c;};b.q6=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F4=void 0;b.F4="DebouncerFactorySymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.MD=b.msa=void 0;c=a(0);k=a(477);m=a(1);d=function(){var b;function a(){}a.prototype.create=function(){return new k.rj();};b=a;return b=c.__decorate([m.N()],b);}();b.msa=d;b.MD="EventSourceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.MD=void 0;b.MD="EventSourceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pT=void 0;b.pT="MediaElementHelpersSymbol";},function(d,b,a){var k,m,r,q;function c(a,b,c,h,d,k,q){this.debug=a;this.config=b;this.platform=c;this.j0=h;this.debug.assert(d&&d!=m.K.$k,"There should always be a specific error code");this.errorCode=d||m.K.$k;k&&r.Ue(k)?(this.ga=k.ga||k.ed,this.se=k.se||k.sh,this.iea=k.iea||k.mG,this.sb=k.sb||k.hG,this.lB=k.hea,this.vG=k.vG||k.JOa||k.rs,this.eY=k.eY||k.data,k.aP&&(this.aP=k.aP),this.$i=k.$i,this.method=k.method,this.C0=k.C0,this.alert=k.alert,this.Saa=k.Saa,this.debug.assert(!this.$i||this.$i==this.se)):(this.ga=k,this.se=q);this.stack=[this.errorCode];this.ga?this.stack.push(this.ga):this.se&&this.stack.push(m.J.$k);this.se&&this.stack.push(this.se);this.JX=this.platform.vB+this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;k=a(9);m=a(2);r=a(22);q=a(15);a(21);c.prototype.toString=function(){var a;a="[PlayerError #"+this.JX+"]";this.sb&&(a+=" "+this.sb);this.lB&&(a+=" (CustomMessage: "+this.lB+")");return a;};c.prototype.goa=function(){var a,b;this.lB&&(a=["streaming_error"]);a||this.j0.fq()!==k.BS||("80080017"==this.se&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.se&&(a=["pause_timeout"]));a||this.j0.fq()!==k.V4||this.errorCode!==m.K.Mra&&this.errorCode!==m.K.Z4||(a=["no_cdm","platform_error","plugin_error"]);this.rtb()&&(a=["received_soad"]);b=this.vnb();b&&(a=[b],this.lB=void 0);if(!a)switch(this.errorCode){case m.K.HT:case m.K.gT:case m.K.MXa:case m.K.Lva:a=["pause_timeout"];break;case m.K.rta:case m.K.sta:a=this.ga?["platform_error"]:["multiple_tabs"];break;case m.K.N1a:case m.K.y4a:case m.K.m1a:case m.K.l1a:case m.K.o1a:a=["should_signout_and_signin"];break;case m.K.U5:case m.K.Ova:case m.K.Nva:case m.K.s7:case m.K.k3a:a=["platform_error","plugin_error"];break;case m.K.u3a:a=["no_cdm","platform_error","plugin_error"];break;case m.K.q7:a=this.ga?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case m.K.DS:case m.K.IT:case m.K.Pva:switch(this.se){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case m.K.Mva:case m.K.p7:a=["unsupported_output"];}!a&&m.ksa(this.ga)&&(a=this.ga==m.J.WJ?["geo"]:["internet_connection_problem"]);a||this.errorCode!==m.K.Z4||this.ga!==m.J.ih||"S"!==this.platform.vB||(a=["private_mode"]);if(!a)switch(this.QUa(this.ga)){case m.J.l9:a=["should_upgrade"];break;case m.J.Gva:a=["should_reset_device"];break;case m.J.Fva:a=["should_reload_device"];break;case m.J.Eva:a=["should_exit_device"];break;case m.J.w2a:case m.J.xua:a=["should_signout_and_signin"];break;case m.J.x2a:a=["internet_connection_problem"];break;case m.J.cra:a=["platform_error","plugin_error"];break;case m.J.A4:case m.J.Ysa:case m.J.Zsa:a=["private_mode"];}a=a||[];a.push(this.platform.vB+this.errorCode);if(this.ga)switch(this.QUa(this.ga)){case m.J.Hva:a.push("incorrect_pin");break;default:a.push(""+this.ga);}a={display:{code:this.JX,text:this.lB},messageIdList:a,alert:this.alert,alertTag:this.Saa};if(this.vG||this.JOa)a.mslErrorCode=this.vG||this.JOa||this.rs;return a;};c.prototype.QUa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.rtb=function(){var a;a=q.ma(this.se)?this.se.toString():q.Ie(this.se)?this.se:"";return this.vG===m.tT.c9&&(a.endsWith("2018")||a.endsWith("2020"));};c.prototype.vnb=function(){if(this.errorCode===m.K.Ez&&(this.ga===m.J.l7||this.ga===m.J.Dva))return this.wnb(this.ga===m.J.l7);};c.prototype.wnb=function(a){var b,c,h;b=(this.config().browserInfo||{}).os||{};c=b.name;h=(b.version||"").split(".");b=parseInt(h&&h[0]);h=parseInt(h&&h[1]);switch(c){case"Windows":return 6>b||6===b&&1>h?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>h?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.Nwa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d9=void 0;b.d9="UrlFactorySymbol";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.l8=void 0;c=a(0);k=a(1);d=function(){var b;function a(a){this.u7a=void 0===a?!1:a;this.Rd={0:[]};}a.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Rd[b];c?this.u7a&&-1!==c.indexOf(a)||c.push(a):this.Rd[b]=[a];};a.prototype.remove=function(a,b){this.Rt(a,void 0===b?0:b);};a.prototype.removeAll=function(a){this.Rt(a);};a.prototype.Tr=function(){var a;a=this;return Object.keys(this.Rd).sort().reduce(function(b,c){return b.concat(a.Rd[c]);},[]);};a.prototype.Rt=function(a,b){var c;c=this;Object.keys(this.Rd).forEach(function(f){var h;if(void 0===b||b===parseInt(f)){f=c.Rd[f];-1<(h=f.indexOf(a))&&f.splice(h,1);}});};b=a;return b=c.__decorate([k.N()],b);}();b.l8=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W6=b.u2a=void 0;b.u2a=function(){};b.W6="MseConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I4=void 0;b.I4="DecoderTimeoutPathologistSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.x4=void 0;b.x4="CsvEncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K8=void 0;b.K8="StringUtilsSymbol";},function(d,b,a){(function(c){var W,N,ja,na,oa,za;function d(a,c){var f;f={Ema:[],ak:r};3<=arguments.length&&(f.depth=arguments[2]);4<=arguments.length&&(f.QF=arguments[3]);E(c)?f.jna=c:c&&b.I6a(f,c);D(f.jna)&&(f.jna=!1);D(f.depth)&&(f.depth=2);D(f.QF)&&(f.QF=!1);D(f.$Fa)&&(f.$Fa=!0);f.QF&&(f.ak=m);return n(f,a,f.depth);}function m(a,b){return(b=d.ZHb[b])?"\u001b["+d.QF[b][0]+"m"+a+"\u001b["+d.QF[b][1]+"m":a;}function r(a){return a;}function q(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function n(a,c,d){var k,m,r,g,E;if(a.$Fa&&c&&A(c.xO)&&c.xO!==b.xO&&(!c.constructor||c.constructor.prototype!==c)){k=c.xO(d,a);K(k)||(k=n(a,k,d));return k;}if(k=l(a,c))return k;m=Object.keys(c);r=q(m);a.jna&&(m=Object.getOwnPropertyNames(c));if(S(c)&&(0<=m.indexOf("message")||0<=m.indexOf("description")))return f(c);if(0===m.length){if(A(c))return a.ak("[Function"+(c.name?": "+c.name:"")+"]","special");if(p(c))return a.ak(RegExp.prototype.toString.call(c),"regexp");if(V(c))return a.ak(Date.prototype.toString.call(c),"date");if(S(c))return f(c);}k="";g=!1;E=["{","}"];I(c)&&(g=!0,E=["[","]"]);A(c)&&(k=" [Function"+(c.name?": "+c.name:"")+"]");p(c)&&(k=" "+RegExp.prototype.toString.call(c));V(c)&&(k=" "+Date.prototype.toUTCString.call(c));S(c)&&(k=" "+f(c));if(0===m.length&&(!g||0==c.length))return E[0]+k+E[1];if(0>d)return p(c)?a.ak(RegExp.prototype.toString.call(c),"regexp"):a.ak("[Object]","special");a.Ema.push(c);m=g?h(a,c,d,r,m):m.map(function(b){return x(a,c,d,r,b,g);});a.Ema.pop();return F(m,k,E);}function l(a,b){if(D(b))return a.ak("undefined","undefined");if(K(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.ak(b,"string");if(J(b))return a.ak(""+b,"number");if(E(b))return a.ak(""+b,"boolean");if(null===b)return a.ak("null","null");}function f(a){return"["+Error.prototype.toString.call(a)+"]";}function h(a,b,c,f,h){for(var l=[],d=0,n=b.length;d<n;++d)Object.prototype.hasOwnProperty.call(b,String(d))?l.push(x(a,b,c,f,String(d),!0)):l.push("");h.forEach(function(h){h.match(/^\d+$/)||l.push(x(a,b,c,f,h,!0));});return l;}function x(a,b,c,f,h,l){var d,k;b=Object.getOwnPropertyDescriptor(b,h)||{value:b[h]};b.get?k=b.set?a.ak("[Getter/Setter]","special"):a.ak("[Getter]","special"):b.set&&(k=a.ak("[Setter]","special"));Object.prototype.hasOwnProperty.call(f,h)||(d="["+h+"]");k||(0>a.Ema.indexOf(b.value)?(k=null===c?n(a,b.value,null):n(a,b.value,c-1),-1<k.indexOf("\n")&&(k=l?k.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+k.split("\n").map(function(a){return"   "+a;}).join("\n"))):k=a.ak("[Circular]","special"));if(D(d)){if(l&&h.match(/^\d+$/))return k;d=JSON.stringify(""+h);d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=a.ak(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=a.ak(d,"string"));}return d+": "+k;}function F(a,b,c){var f;f=0;return 60<a.reduce(function(a,b){f++;0<=b.indexOf("\n")&&f++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function I(a){return Array.isArray(a);}function E(a){return"boolean"===typeof a;}function J(a){return"number"===typeof a;}function K(a){return"string"===typeof a;}function D(a){return void 0===a;}function p(a){return t(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function t(a){return"object"===typeof a&&null!==a;}function V(a){return t(a)&&"[object Date]"===Object.prototype.toString.call(a);}function S(a){return t(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function A(a){return"function"===typeof a;}function u(a){return 10>a?"0"+a.toString(10):a.toString(10);}function ma(){var a,b;a=new Date();b=[u(a.getHours()),u(a.getMinutes()),u(a.getSeconds())].join(":");return[a.getDate(),oa[a.getMonth()],b].join(" ");}function da(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}W=Object.TVb||function(a){for(var b=Object.keys(a),c={},f=0;f<b.length;f++)c[b[f]]=Object.getOwnPropertyDescriptor(a,b[f]);return c;};N=/%[sdj%]/g;b.format=function(a){if(!K(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(d(arguments[c]));return b.join(" ");}for(var c=1,f=arguments,h=f.length,b=String(a).replace(N,function(a){if("%%"===a)return"%";if(c>=h)return a;switch(a){case"%s":return String(f[c++]);case"%d":return Number(f[c++]);case"%j":try{return JSON.stringify(f[c++]);}catch(db){return"[Circular]";}default:return a;}}),l=f[c];c<h;l=f[++c])b=null!==l&&t(l)?b+(" "+d(l)):b+(" "+l);return b;};b.Mib=function(a,f){var h;if("undefined"!==typeof c&&!0===c.BXb)return a;if("undefined"===typeof c)return function(){return b.Mib(a,f).apply(this,arguments);};h=!1;return function(){if(!h){if(c.gZb)throw Error(f);c.iZb?console.trace(f):console.error(f);h=!0;}return a.apply(this,arguments);};};ja={};b.OUb=function(a){var f;D(na)&&(na=c.Ukb.mQb||"");a=a.toUpperCase();if(!ja[a])if(new RegExp("\\b"+a+"\\b","i").test(na)){f=c.XXb;ja[a]=function(){var c;c=b.format.apply(b,arguments);console.error("%s %d: %s",a,f,c);};}else ja[a]=function(){};return ja[a];};b.xO=d;d.QF={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};d.ZHb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};b.isArray=I;b.Fsb=E;b.Oa=function(a){return null===a;};b.xWb=function(a){return null==a;};b.ma=J;b.Ie=K;b.AWb=function(a){return"symbol"===typeof a;};b.W=D;b.kMa=p;b.Ue=t;b.n_=V;b.AO=S;b.Tb=A;b.gMa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};b.isBuffer=a(1050);oa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");b.log=function(){console.log("%s - %s",ma(),b.format.apply(b,arguments));};b.dsb=a(1049);b.I6a=function(a,b){if(b&&t(b))for(var c=Object.keys(b),f=c.length;f--;)a[c[f]]=b[c[f]];};g();g();za="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;b.RBb=function(a){function b(){for(var b,c,f=new Promise(function(a,f){b=a;c=f;}),h=[],l=0;l<arguments.length;l++)h.push(arguments[l]);h.push(function(a,f){a?c(a):b(f);});try{a.apply(this,h);}catch(db){c(db);}return f;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(za&&a[za]){b=a[za];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,za,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));za&&Object.defineProperty(b,za,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,W(a));};b.RBb.FUb=za;b.mUb=function(a){function b(){var l,d;function b(){return l.apply(d,arguments);}for(var f=[],h=0;h<arguments.length;h++)f.push(arguments[h]);l=f.pop();if("function"!==typeof l)throw new TypeError("The last argument must be of type Function");d=this;a.apply(this,f).then(function(a){c.XOa(b,null,a);},function(a){c.XOa(da,a,b);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(b,Object.getPrototypeOf(a));Object.defineProperties(b,W(a));return b;};}.call(this,a(258)));},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.rj=void 0;c=a(0);k=a(1);d=function(){var b,d;function a(){this.Fn={};this.id="$es$"+b.TM++;}a.prototype.addListener=function(a,b,c){var f,l;f="$netflix$player$order"+this.id+"$"+a;if(this.Fn){l=this.Fn[a]?this.Fn[a].slice():[];c&&(b[f]=c);0>l.indexOf(b)&&(l.push(b),l.sort(function(a,b){return(a[f]||0)-(b[f]||0);}));this.Fn[a]=l;}};a.prototype.removeListener=function(a,b){if(this.Fn&&this.Fn[a]){for(var c=this.Fn[a].slice(),h;0<=(h=c.indexOf(b));)c.splice(h,1);this.Fn[a]=c;}};a.prototype.Wb=function(a,b,c){var f;if(this.Fn){f=this.Bfa(a);for(a={Qj:0};a.Qj<f.length;a={Qj:a.Qj},a.Qj++)c?function(a){return function(){var c;c=f[a.Qj];setTimeout(function(){c(b);},0);};}(a)():f[a.Qj].call(this,b);}};a.prototype.xg=function(){this.Fn=void 0;};a.prototype.on=function(a,b,c){this.addListener(a,b,c);};a.prototype.Bfa=function(a){return this.Fn&&(this.Fn[a]||(this.Fn[a]=[]));};d=b=a;d.TM=0;return d=b=c.__decorate([k.N()],d);}();b.rj=d;},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.f9=void 0;c=a(0);k=a(1);a(2);m=a(23);r=a(98);q=a(10);d=function(){var b;function a(a,b){this.is=a;this.Fh=b;}a.prototype.EH=function(a,b,c){var f,h,l,d;f=this;if(b)if(c){h=c.pH;l=c.prefix;d=c.Av;this.Nx(b,function(b,c){if(!d||f.is.Sd(c))a[(l||"")+(h?b.toLowerCase():b)]=c;});}else this.Nx(b,function(b,c){a[b]=c;});return a;};a.prototype.Nx=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};a.prototype.Hr=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};a.prototype.AFa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};a.prototype.Ge=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};a.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};a.prototype.vfa=function(a){return this.getFunctionName(a.constructor);};a.prototype.ika=function(a){var b,c;b=this;c="";this.is.eu(a)||this.is.eDa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.rn(a)?c=a:this.Nx(a,function(a,f){c+=(c?", ":"")+"{"+a+": "+(b.is.jW(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.vfa(a)+" "+c+"]";};a.prototype.createElement=function(a,b,c,l){var f;f=q.ne.createElement(a);b&&(f.style.cssText=b);c&&(f.innerHTML=c);l&&this.Nx(l,function(a,b){f.setAttribute(a,b);});return f;};a.prototype.Glb=function(a,b){return function(c){return c[a]===b;};};a.prototype.EP=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Le)),c.__param(1,k.l(r.lw))],b);}();b.f9=d;},function(d,b,a){var c,k,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.b4=void 0;c=a(0);k=a(1);d=Array.prototype.slice;m=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");d=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");r={};q={};n={};l={};f=/\s+/g;[m,d].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];r[c]=b<<18;q[c]=b<<12;n[c]=b<<6;l[c]=b;}});d=function(){var b,d;function a(){}a.prototype.encode=function(a){return b.Xda(a,m,"=");};a.prototype.decode=function(a){return b.ida(a);};a.ida=function(a){var b,c,h;a=a.replace(f,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);h=0;switch(b%4){case 2:h=1;break;case 3:h=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+h),d=0,k=0,m;k<c;){m=r[a[d++]]+q[a[d++]]+n[a[d++]]+l[a[d++]];if(!(0<=m&&16777215>=m))throw Error("bad base64");b[k++]=m>>>16;b[k++]=m>>>8&255;b[k++]=m&255;}if(0<h&&(m=r[a[d++]]+q[a[d++]],b[k++]=m>>>16,1<h&&(m+=n[a[d++]],b[k++]=m>>>8&255),!(0<=m&&16776960>=m&&0===(m&(1<h?255:65535)))))throw Error("bad base64");return b;};a.Xda=function(a,b,c){for(var f="",h=0,l=a.length,d=l-2,n;h<d;){n=(a[h++]<<16)+(a[h++]<<8)+a[h++];if(!(0<=n&&16777215>=n))throw Error("not bytes");f+=b[n>>>18]+b[n>>>12&63]+b[n>>>6&63]+b[n&63];}if(h==d){n=(a[h++]<<8)+a[h++];if(!(0<=n&&65535>=n))throw Error("not bytes");f+=b[n>>>10]+b[n>>>4&63]+b[n<<2&63]+c;}else if(h==l-1){n=a[h++];if(!(0<=n&&255>=n))throw Error("not bytes");f+=b[n>>>2]+b[n<<4&63]+c+c;}return f;};d=b=a;return d=b=c.__decorate([k.N()],d);}();b.b4=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h7=void 0;b.h7="OneWayCounterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t4=void 0;b.t4="ClockConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eo=void 0;d=b.eo||(b.eo={});d.Ioa="usable";d.flb="expired";d.jDb="released";d.UPa="output-restricted";d.nzb="output-downscaled";d.CUa="status-pending";d.tsb="internal-error";},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.XGa=b.Cp=void 0;(function(a){a[a.TMa=0]="licenseStarted";a[a.RRa=1]="receivedLicenseChallenge";a[a.QRa=2]="receivedLicense";a[a.SRa=3]="receivedRenewalChallengeComplete";a[a.TRa=4]="receivedRenewalLicenseComplete";a[a.URa=5]="receivedRenewalLicenseFailed";a[a.CCb=6]="receivedIndivChallengeComplete";a[a.DCb=7]="receivedIndivLicenseComplete";a[a.HCa=8]="addLicenseComplete";a[a.KCa=9]="addRenewalLicenseComplete";a[a.LCa=10]="addRenewalLicenseFailed";}(a=b.Cp||(b.Cp={})));b.XGa=function(b){switch(b){case a.TMa:return"lg";case a.RRa:return"lc";case a.QRa:return"lr";case a.SRa:return"renew_lc";case a.TRa:return"renew_lr";case a.URa:return"renew_lr_failed";case a.CCb:return"ilc";case a.DCb:return"ilr";case a.HCa:return"ld";case a.KCa:return"renew_ld";case a.LCa:return"renew_ld_failed";default:return"unknown";}};},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,E,J,K,D,p,t,V,S,A;Object.defineProperty(b,"__esModule",{value:!0});b.csa=b.z6=b.A6=void 0;c=a(0);k=a(1);m=a(135);r=a(3);q=a(2);n=a(24);l=a(7);f=a(44);h=a(36);g=a(53);F=a(87);I=a(483);d=a(482);E=a(138);J=a(261);K=a(1062);D=a(88);p=a(1061);t=a(63);V=a(45);(function(a){a[a.WJb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Ai=3]="license";a[a.JC=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(S||(S={})));b.A6="license-request";b.z6="license-renewal";A={usable:{status:d.eo.Ioa},expired:{status:d.eo.flb,error:q.K.Lva},released:{status:d.eo.jDb},"output-not-allowed":{status:d.eo.UPa,error:q.K.Mva},"output-restricted":{status:d.eo.UPa,error:q.K.p7},"output-downscaled":{status:d.eo.nzb},"status-pending":{status:d.eo.CUa},"internal-error":{status:d.eo.tsb,error:q.K.p3a}};a=function(){var d;function a(a,c,f,h,l,d,n,k,g){var x;x=this;this.sa=c;this.ju=f;this.config=h;this.ag=l;this.ck=d;this.Nr=n;this.xa=k;this.Nk=g;this.onMessage=function(a){var c,f,h,l;c=x.ck.Eca(a);f=c.tv;h=c.xja;l=c.sessionId;x.iH=x.iH||c.iH;x.t2(l);x.jy=x.ck.jy(c);x.log.trace("Received "+a.type+" event",{sessionId:l,messageType:h,keyIds:x.iH,isIntermediateChallenge:x.jy});h===b.z6&&(x.log.trace("Received a renewal request"),x.Bi=F.sj.Ym,x.Ef=S.JC);x.Ef!==S.Ai||x.jy||(x.pia={Nr:x.Nr,data:f},x.tn(I.Cp.RRa));x.Ef===S.JC&&x.tn(I.Cp.SRa);if(x.LO){if(x.Ega(f)){x.ds(new V.vc(q.K.K_a));return;}x.LO.next({ri:f,EEa:h,Bi:x.Bi});x.Bi!==F.sj.Ym||x.jy||(x.LO.complete(),x.LO=void 0);}x.Ef===S.stop&&(x.Hi.ydb(),x.config.Gi&&x.tQ&&(x.tQ.next({ri:f}),x.tQ.complete(),x.tQ=void 0));};this.HPa=function(a){var b,c,l,d,n,k;b=a.target.keyStatuses;x.t2(a.target.sessionId);x.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{for(var f=R(b),h=f.next();!h.done;h=f.next()){l=R(h.value);d=l.next().value;n=l.next().value;x.log.trace("key status: "+n);k=A[n];x.$ha.next({fs:new Uint8Array(d),value:k.status});x.QB(k.error)&&(c=new D.Lf(k.error),x.Uha(c));}}catch(gb){c=new D.Lf(q.K.q3a);c.lN(gb);}c?x.Vha(c):(x.ck.ZW()||x.yMa(),x.Bi!==F.sj.ww||x.ck.pba()||(x.log.info("Kicking off license renewal",{timeout:x.config.ny}),setTimeout(function(){x.jQ();},x.config.ny.ca(r.ja))));};this.QH=function(a){var b;b=x.ck.Up(a);x.log.error("Received event: "+a.type,b);x.ds(b);x.Vha(b);x.bj||x.om||x.Uha(b);};this.ds=function(a){x.bj&&x.close().subscribe(void 0,function(b){x.log.error("EmeSession closed with an error.",x.ck.Up(b));x.bj&&(x.bj.error(a),x.bj=void 0);},function(){x.log.trace("Issuing a generate challenge error");x.bj&&(x.bj.error(a),x.bj=void 0);});};this.xMa=function(){x.bj&&(x.bj.complete(),x.bj=void 0);};this.Vha=function(a){x.om&&(x.log.error("Failed to add license",a),x.close().subscribe(void 0,function(b){x.log.error("EmeSession closed with an error.",x.ck.Up(b));x.Ef===S.JC&&x.tn(I.Cp.LCa);x.bj=void 0;x.om&&(x.om.error(a),x.om=void 0);},function(){x.log.trace("Issuing a license error");x.bj=void 0;x.om&&(x.om.error(a),x.om=void 0);}));};this.yMa=function(){x.om&&(x.log.info("Successfully added license"),x.Ef===S.Ai?x.tn(I.Cp.HCa):x.Ef===S.JC&&x.tn(I.Cp.KCa),x.om.complete(),x.om=void 0);};this.Uha=function(a){x.Zp&&x.close().subscribe(void 0,function(b){x.log.error("EmeSession closed with an error.",x.ck.Up(b));x.bj=void 0;x.om=void 0;x.Zp&&(x.Zp.next(a),x.Zp.complete(),x.Zp=void 0);},function(){x.log.trace("Issuing a CDM error");x.bj=void 0;x.om=void 0;x.Zp&&(x.Zp.next(a),x.Zp.complete(),x.Zp=void 0);});};this.tn=function(a){x.sd.push({time:x.sa.Zb(),Nwb:a});};this.log=a.ub("EmeSession");this.LO=new m.Zm();this.config.Gi&&(this.tQ=new m.Zm());this.$ha=new m.X3a();this.Zp=new m.Zm();this.Ef=S.WJb;this.sd=[];}a.prototype.IG=function(){return this.context.Wd;};a.prototype.Yx=function(){return this.sessionId;};a.prototype.close=function(){var a;a=this;this.$ha.complete();this.Ef=S.closed;this.sd=[];return this.ag.ptb()?(this.log.trace("Closing the session"),this.ag.uDb(this.onMessage),this.ag.rDb(this.HPa),this.ag.pDb(this.QH),this.Cl=void 0,m.nb.create(function(b){a.Nk.Em(a.config.hDa,a.ag.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.ck.Up(c);c.code=q.K.s3a;b.error(c);});})):m.nb.empty();};a.prototype.Zha=function(){return this.$ha.gba();};a.prototype.xG=function(){return this.Zp?this.Zp.gba():void 0;};a.prototype.fq=function(){return this.Nr;};a.prototype.Gga=function(){return void 0!==this.pm;};a.prototype.Bn=function(a,b,c,f){var h;h=this;this.Bi=f;this.Ef=S.create;this.context=a;this.tn(I.Cp.TMa);return m.nb.create(function(a){(c.SKa()?Promise.resolve():h.Nk.Em(h.config.iDa,h.ag.rhb(b)).then(function(a){h.log.trace("Created media keys");c.VC(a);return h.Sab(a);})).then(function(){h.Cl=c.Cl;try{h.ag.Bn(h.Cl,h.ck.mga(f));h.ag.bab(h.onMessage);h.ag.W$a(h.HPa);h.ag.Q$a(h.QH);h.t2(h.ag.Yx());a.next(h);a.complete();}catch(za){a.error(new D.Lf(q.K.G_a,q.J.ih,void 0,"Unable to create a persisted key session",za));}})["catch"](function(b){b.code&&b.ed?a.error(b):a.error(new D.Lf(q.K.Z4,b instanceof t.bn?q.J.MJ:q.J.ih,void 0,"Unable to create MediaKeys. "+b.message,b));});});};a.prototype.hGb=function(a){this.Zg=a;this.log.Daa("xid",a.ia);};a.prototype.Rub=function(a){var b;b=this;this.Ef=S.load;return m.nb.Ur(this.ag.load(a).then(function(){return b;}));};a.prototype.IY=function(a){var b;b=this;this.Ef=S.Ai;this.log.trace("Generating a license challenge");this.bj=new m.Zm();if(!a)return this.WW(new D.Lf(q.K.Ora,q.J.b5));if(this.Ega(a))return this.WW(new D.Lf(q.K.Ora,q.J.a5));this.Nk.Em(this.config.jDa,this.ag.gfa("cenc",a)).then(function(){b.t2(b.ag.Yx());})["catch"](function(a){var c;c=new D.Lf(q.K.Nra,a instanceof t.bn?q.J.MJ:q.J.ih);c.message="Unable to generate request.";c.lN(a);b.log.error("Unable to generate a license request",c);b.ds(c);});this.log.trace("Returning the challenge subject");return this.bj;};a.prototype.GCa=function(a){var b;b=this;this.qc=a.qc;a=a.pm.map(function(a){return a.data;});this.Ega(a)?(this.log.error("The license buffer is empty"),this.ds(new D.Lf(q.K.Pra,q.J.a5))):this.jy?this.Nk.Em(this.config.Yaa,this.ag.update(a,this.iH)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.ck.Up(a);a.code=q.K.DS;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.ds(a);}):(this.Ef===S.Ai&&(this.tn(I.Cp.QRa),this.pm=a,this.xMa()),this.Ef===S.JC&&(this.tn(I.Cp.TRa),this.pm=a,this.dba()));};a.prototype.Z$a=function(a){this.Ef===S.JC?(this.tn(I.Cp.URa),this.Uha(a)):this.ds(a);};a.prototype.dba=function(){var a,b;a=this;if(!this.pm)return this.WW(new D.Lf(q.K.Pra,q.J.b5));this.om=new m.Zm();b=this.pm;this.pm=void 0;this.Nk.Em(this.config.Yaa,this.ag.update(b,this.iH)).then(function(){a.ck.ZW()&&a.yMa();})["catch"](function(b){b=a.ck.Up(b);b.code=q.K.Pva;b.message="Unable to update the EME";a.log.error(b.message,b);a.Vha(b);});return this.om;};a.prototype.mH=function(){return this.LO;};a.prototype.DIa=function(){var a;a=this;if(this.Ef===S.Ai&&this.Bi===F.sj.ww)return m.nb.empty();this.Ef=S.stop;this.log.trace("Generating a secure stop challenge");this.bj=new m.Zm();this.Hi=new p.$ra(this.sa,this.config,this.xa,function(){a.log.error("got a timeout error");},"non-persisted");this.Hi.zdb();this.ag.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.ck.Up(b);c.code=q.K.Rra;c.ed=q.J.ih;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.ds(c);});return this.bj;};a.prototype.MCa=function(a){a&&a.constructor!==Uint8Array?this.ds(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.ds(new D.Lf(q.K.Qra,q.J.a5))):(this.log.trace("Secure stop is ready to apply"),this.fTa=a,this.Hi.EFb(),this.xMa()):(this.log.error("The secure stop buffer is undefined"),this.ds(new D.Lf(q.K.Qra,q.J.b5)));};a.prototype.Wab=function(){var a;a=this;if(!this.fTa)return m.nb.from([this]);this.log.trace("Setting the secure stop data");return m.nb.create(function(b){a.Hi.Adb();a.ag.update([a.fTa]).then(function(){a.Hi.zEa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var f;a.Hi.zEa();f=a.ck.Up(c);f.code=q.K.DS;f.ed=q.J.ih;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(f);});});};a.prototype.Sab=function(a){var b,c;b=this;c=this.ck.tfa();return c?(c=this.ju.decode(c),this.Nk.Em(this.config.lDa,this.ag.nGb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};a.prototype.t2=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Daa("sessionId",a));};a.prototype.QB=function(a){return a===q.K.p7?this.config.VPa:!!a;};a.prototype.jQ=function(){var a;a=this;this.log.trace("Initiating a renewal request");this.Bi=F.sj.Ym;this.Ef=S.JC;this.ck.wha(this.ag)["catch"](function(){return a.WW(new V.vc(q.K.CS));});};a.prototype.WW=function(a){var b;b=this;return m.nb.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a.prototype.Ega=function(a){return 0===a.length||a.reduce(function(a,b){return a||0===b.length;},!1);};d=a;return d=c.__decorate([k.N(),c.__param(0,k.l(l.Db)),c.__param(1,k.l(n.We)),c.__param(2,k.l(f.qj)),c.__param(3,k.l(g.Nl)),c.__param(4,k.l(K.Yra)),c.__param(5,k.l(J.Hra)),c.__param(6,k.l(E.Jra)),c.__param(7,k.l(h.Ng)),c.__param(8,k.l(t.Fw))],d);}();b.csa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l5=b.tza=void 0;b.tza="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.l5="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e5=void 0;b.e5="EmeSessionFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T4=void 0;b.T4="DrmProviderSymbol";},function(d,b,a){var m,r;function c(a){var b;b=a.value;a=a.nj;a.closed||(a.next(b),a.complete());}function k(a){var b;b=a.uB;a=a.nj;a.closed||a.error(b);}m=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};r=a(85);d=function(a){function b(b,c){a.call(this);this.ys=b;this.xa=c;}m(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.Xl=function(a){var b,h,l;b=this;h=this.ys;l=this.xa;if(null==l)this.Lt?a.closed||(a.next(this.value),a.complete()):h.then(function(c){b.value=c;b.Lt=!0;a.closed||(a.next(c),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){r.root.setTimeout(function(){throw a;});});else if(this.Lt){if(!a.closed)return l.Lc(c,0,{value:this.value,nj:a});}else h.then(function(f){b.value=f;b.Lt=!0;a.closed||a.add(l.Lc(c,0,{value:f,nj:a}));},function(b){a.closed||a.add(l.Lc(k,0,{uB:b,nj:a}));}).then(null,function(a){r.root.setTimeout(function(){throw a;});});};return b;}(a(20).nb);b.kxa=d;},function(d,b,a){d=a(1087);b.from=d.h0a.create;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this);this.value=b;this.xa=c;this.Lt=!0;c&&(this.Lt=!1);}c(b,a);b.create=function(a,c){return new b(a,c);};b.pc=function(a){var b,c;b=a.value;c=a.nj;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.Lc(a)));};b.prototype.Xl=function(a){var c,d;c=this.value;d=this.xa;if(d)return d.Lc(b.pc,0,{done:!1,value:c,nj:a});a.next(c);a.closed||a.complete();};return b;}(a(20).nb);b.Sxa=d;},function(d,b,a){d=a(262);b.of=d.Q3.of;},function(d,b,a){var c,k,m,r;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(179);d=a(180);b.wH=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(f){"number"===typeof b&&(c=b,b=null);return f.pq(new m(a,b,c));};};m=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.FC=a;this.Fs=b;this.tca=c;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.FC,this.Fs,this.tca));};return a;}();b.UPb=m;r=function(a){function b(b,c,h,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.FC=c;this.Fs=h;this.tca=d;this.NKa=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.gl=function(a){this.active<this.tca?this.f$a(a):this.buffer.push(a);};b.prototype.f$a=function(a){var b,c;c=this.index++;try{b=this.FC(a,c);}catch(x){this.destination.error(x);return;}this.active++;this.o7a(b,a,c);};b.prototype.o7a=function(a,b,c){this.add(k.X2(this,a,b,c));};b.prototype.Zd=function(){this.NKa=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};b.prototype.Q0=function(a,b,c,d){this.Fs?this.r8a(a,b,c,d):this.destination.next(b);};b.prototype.r8a=function(a,b,c,d){var f;try{f=this.Fs(a,b,c,d);}catch(I){this.destination.error(I);return;}this.destination.next(f);};b.prototype.ss=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.gl(b.shift()):0===this.active&&this.NKa&&this.destination.complete();};return b;}(d.GT);b.VPb=r;},function(d,b,a){var c,k;c=a(492);k=a(1103);b.gC=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.wH(k.Hrb,null,a);};},function(d,b){b.hMa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(d,b){b.PLa=function(a){return a&&"number"===typeof a.length;};},function(d,b,a){var c,k,m,r,q;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(68);k=a(1120);b.HXb=function(a,b){void 0===b&&(b=0);return function(c){return c.pq(new m(a,b));};};m=function(){function a(a,b){void 0===b&&(b=0);this.xa=a;this.rl=b;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.xa,this.rl));};return a;}();b.PQb=m;r=function(a){function b(b,c,l){void 0===l&&(l=0);a.call(this,b);this.xa=c;this.rl=l;}c(b,a);b.pc=function(a){a.notification.observe(a.destination);this.unsubscribe();};b.prototype.uma=function(a){this.add(this.xa.Lc(b.pc,this.rl,new q(a,this.destination)));};b.prototype.gl=function(a){this.uma(k.Notification.uhb(a));};b.prototype.$e=function(a){this.uma(k.Notification.fhb(a));};b.prototype.Zd=function(){this.uma(k.Notification.Vgb());};return b;}(d.$m);b.zva=r;q=function(){return function(a,b){this.notification=a;this.destination=b;};}();b.OQb=q;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);this.sn=[];this.active=!1;}c(b,a);b.prototype.flush=function(a){var b,c;b=this.sn;if(this.active)b.push(a);else{this.active=!0;do if(c=a.te(a.state,a.rl))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return b;}(a(1121).z4a);b.Rpa=d;},function(d,b,a){var c,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(85);d=function(a){function b(b,c){a.call(this,b,c);this.xa=b;this.Fv=!1;this.Uoa=c;}c(b,a);b.prototype.Lc=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.Fv=!0;a=this.id;c=this.xa;null!=a&&(this.id=this.Jla(a,b));this.rl=b;this.id=this.id||this.Vla(c,this.id,b);return this;};b.prototype.Vla=function(a,b,c){void 0===c&&(c=0);return k.root.setInterval(a.flush.bind(a,this),c);};b.prototype.Jla=function(a,b){void 0===b&&(b=0);return null!==b&&this.rl===b&&!1===this.Fv?a:(k.root.clearInterval(a),void 0);};b.prototype.te=function(a){if(this.closed)return Error("executing a cancelled action");this.Fv=!1;if(a=this.qAa(a))return a;!1===this.Fv&&null!=this.id&&(this.id=this.Jla(this.id,null));};b.prototype.qAa=function(a){var b,c;b=!1;c=void 0;try{this.Uoa(a);}catch(f){b=!0;c=!!f&&f||Error(f);}if(b)return this.unsubscribe(),c;};b.prototype.oaa=function(){var a,b,c;a=this.id;b=this.xa.sn;c=b.indexOf(this);this.state=this.Uoa=null;this.Fv=!1;this.xa=null;-1!==c&&b.splice(c,1);null!=a&&(this.id=this.Jla(a,null));this.rl=null;};return b;}(a(1123).WXa);b.Opa=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this);this.ZQ=b;this.nj=c;this.closed=!1;}c(b,a);b.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.ZQ;b=a.xv;this.ZQ=null;!b||0===b.length||a.Cg||a.closed||(a=b.indexOf(this.nj),-1!==a&&b.splice(a,1));}};return b;}(a(117).Jw);b.uya=d;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.iE=d;},function(d,b,a){var c,k,m,r,q,n,l,f;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(20);d=a(68);m=a(117);r=a(500);q=a(499);n=a(266);l=function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;}(d.$m);b.GSb=l;a=function(a){function b(){a.call(this);this.xv=[];this.fO=this.Cg=this.closed=!1;this.Zna=null;}c(b,a);b.prototype[n.QC]=function(){return new l(this);};b.prototype.pq=function(a){var b;b=new f(this,this);b.TH=a;return b;};b.prototype.next=function(a){if(this.closed)throw new r.iE();if(!this.Cg)for(var b=this.xv,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].next(a);};b.prototype.error=function(a){if(this.closed)throw new r.iE();this.fO=!0;this.Zna=a;this.Cg=!0;for(var b=this.xv,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].error(a);this.xv.length=0;};b.prototype.complete=function(){if(this.closed)throw new r.iE();this.Cg=!0;for(var a=this.xv,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.xv.length=0;};b.prototype.unsubscribe=function(){this.closed=this.Cg=!0;this.xv=null;};b.prototype.maa=function(b){if(this.closed)throw new r.iE();return a.prototype.maa.call(this,b);};b.prototype.Xl=function(a){if(this.closed)throw new r.iE();if(this.fO)return a.error(this.Zna),m.Jw.EMPTY;if(this.Cg)return a.complete(),m.Jw.EMPTY;this.xv.push(a);return new q.uya(this,a);};b.prototype.gba=function(){var a;a=new k.nb();a.source=this;return a;};b.create=function(a,b){return new f(a,b);};return b;}(k.nb);b.Zm=a;f=function(a){function b(b,c){a.call(this);this.destination=b;this.source=c;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};b.prototype.Xl=function(a){return this.source?this.source.subscribe(a):m.Jw.EMPTY;};return b;}(a);b.LMb=f;},function(d,b){b.Ox={e:{}};},function(d,b){b.Ue=function(a){return null!=a&&"object"===typeof a;};},function(d,b){b.Tb=function(a){return"function"===typeof a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c7=void 0;b.c7="NetworkMonitorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YT=void 0;b.YT="QueryStringDataProviderSymbol";},function(d,b,a){var k,m;function c(a,b,c,l,f){this.version=a;this.ZH=b;this.KUa=c;this.$j=l;this.Rs=f;this.Fr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.W5=void 0;k=a(2);m=a(45);c.prototype.load=function(a){return this.Iub(a);};c.prototype.add=function(a){this.Fr.push(a);return this.Jka();};c.prototype.remove=function(a,b){a=this.RIa(this.cq(a,b));return 0<=a?(this.Fr.splice(a,1),this.Jka()):Promise.resolve();};c.prototype.update=function(a,b){b=this.RIa(this.cq(a,b));return 0<=b?(this.Fr[b]=a,this.Jka()):Promise.resolve();};c.prototype.Iub=function(a){var b;b=this;this.ZMa||(this.ZMa=new Promise(function(c,l){function f(a){b.Iib().then(function(){l(a);})["catch"](function(){l(a);});}b.oga().then(function(a){b.storage=a;return b.storage.load(b.ZH);}).then(function(h){var l;h=h.value;try{l=a(h);b.version=l.version;b.Fr=l.data;c();}catch(F){f(F);}})["catch"](function(a){a.ga!==k.J.Hw?l(a):c();});}));return this.ZMa;};c.prototype.Jka=function(){var a,b,c,l,f;a=this;if(!this.KUa)return Promise.resolve();if(this.S2){l=new Promise(function(a,f){b=a;c=f;});f=function(){a.S2=l;a.JUa().then(function(){b();})["catch"](function(a){c(a);});};this.S2.then(f)["catch"](f);return l;}return this.S2=this.JUa();};c.prototype.JUa=function(){var a,b;a=this;b=this.Rs();return new Promise(function(d,l){a.oga().then(function(c){return c.save(a.ZH,b,!1);}).then(function(){d();})["catch"](function(a){l(c.hJb(k.K.h3a,a));});});};c.prototype.Iib=function(){var a;a=this;return this.KUa?new Promise(function(b,c){a.oga().then(function(b){return b.remove(a.ZH);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.oga=function(){return this.storage?Promise.resolve(this.storage):this.$j.create();};c.prototype.cq=function(a,b){for(var c=0;c<this.Fr.length;++c)if(b(this.Fr[c],a))return this.Fr[c];};c.prototype.RIa=function(a){return a?this.Fr.indexOf(a):-1;};c.hJb=function(a,b){var c;if(b.ga&&b.cause)return new m.vc(a,b.ga,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.ed){c=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===c?void 0:c;return b;}return b instanceof Error?new m.vc(a,k.J.ih,void 0,void 0,void 0,void 0,b.stack,b):new m.vc(a,k.J.$k,void 0,void 0,void 0,void 0,void 0,b);};b.W5=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S4=void 0;b.S4="DrmDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eS=void 0;b.eS="BrowserInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P7=void 0;b.P7="PlatformConfigOverridesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uJ=void 0;b.uJ=function(){function a(){}a.H3a="PSK";a.X1a="MGK";a.KPb="MGK_WITH_FALLBACK";a.JPb="MGK_JWE";a.yPb="JWEJS_RSA";a.Hta="JWK_RSA";a.zPb="JWK_RSAES";return a;}();},function(d,b,a){var m;function c(a,b){this.sf=b;this.ov=Math.floor(a);this.display=this.ov+" "+this.sf.name;}function k(a,b,c){this.sf=a;this.name=b;this.wn=c?c:this;m.sm(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Ep=b.GK=void 0;m=a(54);k.prototype.yN=function(a){return this.sf==a.sf;};k.prototype.toJSON=function(){return this.name;};b.GK=k;c.prototype.ca=function(a){return this.sf.yN(a)?this.ov:Math.floor(this.ov*this.sf.sf/a.sf);};c.prototype.r1=function(a){return this.sf.yN(a)?this.ov:this.ov*this.sf.sf/a.sf;};c.prototype.to=function(a){return new c(this.ca(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return{magnitude:this.ov,units:this.sf.name};};c.prototype.add=function(a){return this.iFa(a);};c.prototype.Mb=function(a){return this.iFa(a,function(a){return-a;});};c.prototype.scale=function(a){return new c(this.ca(this.sf.wn)*a,this.sf.wn);};c.prototype.Hj=function(a){return this.ca(this.sf.wn)-a.ca(this.sf.wn);};c.prototype.yN=function(a){return 0==this.Hj(a);};c.prototype.vMa=function(){return 0==this.ov;};c.prototype.aMa=function(){return 0>this.ov;};c.prototype.itb=function(){return 0<this.ov;};c.prototype.iFa=function(a,b){b=void 0===b?function(a){return a;}:b;return new c(this.ca(this.sf.wn)+b(a.ca(this.sf.wn)),this.sf.wn);};b.Ep=c;},function(d,b,a){var m;function c(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.Yia(a)(b);}c.mOa=new m.Metadata(a,b);return c;};}function k(a,b){a=a.Dv;return null!==a?b(a)?!0:k(a,b):!1;}Object.defineProperty(b,"__esModule",{value:!0});d=a(38);m=a(64);b.UVa=k;b.cVa=c;b.OOa=c(d.Dw);b.bWa=function(a){return function(b){var c;return null!==b?(c=b.pM[0],"string"===typeof a?c.pf===a:a===b.pM[0].Bk):!1;};};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(273);k=a(272);d=function(){function a(a){this.Nb=a;this.SK=new k.e4(this.Nb);this.A9=new c.cS(this.Nb);}a.prototype.when=function(a){return this.SK.when(a);};a.prototype.QR=function(){return this.SK.QR();};a.prototype.us=function(a){return this.A9.us(a);};return a;}();b.pz=d;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);k=a(101);m=a(64);r=a(1166);d=function(){function a(a,b,f,h){this.id=k.id();this.type=a;this.pf=f;this.name=new r.O3a(b||"");this.Cd=[];a=null;"string"===typeof h?a=new m.Metadata(c.Dw,h):h instanceof m.Metadata&&(a=h);null!==a&&this.Cd.push(a);}a.prototype.UKa=function(a){for(var b=0,c=this.Cd;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.UKa(c.Hz);};a.prototype.Ovb=function(a){return this.Yia(c.Hz)(a);};a.prototype.Fha=function(){return this.UKa(c.Dw);};a.prototype.Oha=function(){return this.Cd.some(function(a){return a.key!==c.ZJ&&a.key!==c.Hz&&a.key!==c.uT&&a.key!==c.FK&&a.key!==c.Dw;});};a.prototype.dMa=function(){return this.Yia(c.wva)(!0);};a.prototype.Tob=function(){return this.Fha()?this.Cd.filter(function(a){return a.key===c.Dw;})[0]:null;};a.prototype.Jnb=function(){return this.Oha()?this.Cd.filter(function(a){return a.key!==c.ZJ&&a.key!==c.Hz&&a.key!==c.uT&&a.key!==c.FK&&a.key!==c.Dw;}):null;};a.prototype.Yia=function(a){var b;b=this;return function(c){var d;for(var f=0,l=b.Cd;f<l.length;f++){d=l[f];if(d.key===a&&d.value===c)return!0;}return!1;};};return a;}();b.pU=d;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);k=a(38);m=a(64);r=a(89);d=function(){function a(a){this.X5a=a;}a.prototype.ZJb=function(){return this.X5a();};return a;}();b.j6=d;b.l=function(a){return function(b,l,f){var h;if(void 0===a)throw Error(c.V4a(b.name));h=new m.Metadata(k.ZJ,a);"number"===typeof f?r.hD(b,l,f,h):r.kR(b,l,h);};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.oMa=function(a){return a instanceof RangeError||a.message===c.q4a;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);d=function(){function a(){}a.prototype.XIa=function(a){var b;b=Reflect.getMetadata(c.k7,a);a=Reflect.getMetadata(c.xya,a);return{lFa:b,bLb:a||{}};};a.prototype.rpb=function(a){return Reflect.getMetadata(c.yya,a)||[];};return a;}();b.T6=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.bd=void 0;d=a(1);c=a(100);k=a(1147);m=a(270);r=a(1141);q=a(1133);n=a(1059);a=a(564);b.bd=new d.tS({YC:!0});n.YMa(b.bd);b.bd.load(k.platform);b.bd.load(r.config);m.oG.load(q.dHa);b.bd.load(a.kDa);b.bd.load(a.profile);b.bd.bind(c.Y5).Uh(b.bd);},function(d,b,a){var c;c=a(521);d.P=function(){return"function"===typeof Object.values?Object.values:c;};},function(d,b,a){var c,k,m;c=a(1182);k=a(1180);m=a(1176)("Object.prototype.propertyIsEnumerable");d.P=function(a){var b,d;a=k(a);b=[];for(d in a)c(a,d)&&m(a,d)&&b.push(a[d]);return b;};},function(d){var b;b=Object.prototype.toString;d.P=function(a){var c,d;c=b.call(a);d="[object Arguments]"===c;d||(d="[object Array]"!==c&&null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Function]"===b.call(a.callee));return d;};},function(d,b,a){var k,m,r,q,n,l;function c(a,b){var c,f,d,g,K,D;c=2<arguments.length?arguments[2]:{};f=k(b);m&&(f=q.call(f,Object.getOwnPropertySymbols(b)));for(var h=0;h<f.length;h+=1){d=a;g=f[h];K=b[f[h]];D=c[f[h]];if(!(g in d)||"function"===typeof D&&"[object Function]"===r.call(D)&&D())l?n(d,g,{configurable:!0,enumerable:!1,value:K,writable:!0}):d[g]=K;}}k=a(1184);g();g();m="function"===typeof Symbol&&"symbol"===typeof Symbol("foo");r=Object.prototype.toString;q=Array.prototype.concat;n=Object.defineProperty;l=n&&function(){var a;a={};try{n(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a;}catch(x){return!1;}}();c.$Yb=!!l;d.P=c;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(121);k=a(9);d=a(2);m=a(6);r=a(116);q=a(52);a=a(26);m.$.get(a.Kf).register(d.K.hta,function(a){var b,h;b=M._cad_global.videoPreparer;h=M._cad_global.playerPredictionModel;b&&M._cad_global.playerPredictionModel&&(n=m.$.get(r.j8).create(h,b.fBb.bind(b)),M._cad_global.prefetchEvents=n,b.Gh.on("deletedCacheItem",function(a){n.BM(q.Pd.nK[a.type],parseInt(a.movieId,10),a.reason);}),c.ll.addEventListener("cacheEvict",function(a){n.BM(r.Ae.dk.TJ,a.movieId,"ase_cacheEvict");n.BM(r.Ae.dk.MEDIA,a.movieId,"ase_cacheEvict");}),c.ll.addEventListener("flushedBytes",function(){c.ll.DM().forEach(function(a){n.BM(r.Ae.dk.MEDIA,a.G,"ase_flushedBytes");},this);}),b.Nm.addEventListener(b.Nm.events.Bya,function(a){n.Wcb(q.Pd.nK[a.type],a.G,a.reason);}),b.Nm.addEventListener(b.Nm.events.zya,function(a){n.Tcb(q.Pd.nK[a.type],a.G,a.reason);}),b.Nm.addEventListener(b.Nm.events.Aya,function(a){n.Vcb(q.Pd.nK[a.type],a.G,a.reason);}),b.Nm.addEventListener(b.Nm.events.Cya,function(a){n.Ycb(q.Pd.nK[a.type],a.G,a.reason);}));a(k.wd);});},function(d,b,a){var m,r,q,n,l,f,h,g,F,I;function c(a,b){this.Fi=a;this.tk=b;}function k(a){this.u=a;this.reset();}m=a(185);r=a(184);b=a(277);q=a(276).config;n=b.Cnb;l=b.lnb;f=b.Zib;h=b.tyb;g=b.syb;F=b.ryb;I=b.YHa;k.prototype.constructor=k;k.prototype.reset=function(){this.FBa=void 0;this.Ui=[];this.rBa=this.sBa=!1;};k.prototype.update=function(a,b){var c;this.Ui&&(this.Ui=this.Ui.filter(this.QGb,this));if(!1===this.sBa){c=n(a.Ea).slice(0,q.aGa);0<c.length&&(this.jC(c,r.$s.uj),this.sBa=!0,this.Ui=this.rD(c.concat(this.Ui)));}!1===this.rBa&&(c=l(a.Ea).slice(0,q.aGa),0<c.length&&(this.jC(c,r.$s.uj),this.rBa=!0,this.Ui=this.rD(c.concat(this.Ui))));switch(b){case r.Ws.psa:b=this.Jqb(a);break;case r.Ws.Exa:b=this.Tqb(a);break;case r.Ws.fU:b=this.Uqb(a);break;case r.Ws.lK:b=this.Pqb(a);break;default:b=this.Gqb(a);}this.FBa=a;return b;};k.prototype.Jqb=function(a){a=h(a.Ea,q.OSa,q.eFa);this.jC(a,r.$s.uj);return this.Ui=this.rD(this.Ui.concat(a));};k.prototype.Tqb=function(a){var b,c;this.u.log("handleScrollHorizontal");b=a.Ea;a=h(b,q.QSa,q.fFa);c=f(b,this.FBa.Ea);b=b[c].list.slice(0,q.tEb);b.concat(a);this.jC(b,r.$s.N8);return this.rD(b.concat(this.Ui));};k.prototype.jC=function(a,b){a.forEach(function(a){if(void 0===a.xx||a.xx<b)a.xx=b;void 0===a.WI&&(a.WI=m());void 0===a.Mj&&(a.Mj=m());});};k.prototype.Uqb=function(a){this.u.log("handleSearch");a=g(a.Ea,q.PEb);this.jC(a,r.$s.Gxa);this.Ui=a.concat(this.Ui);return this.Ui=this.rD(this.Ui);};k.prototype.Pqb=function(a){var b,f,h,l,d;this.u.log("handlePlayFocus: ",q.iO);b=a.direction;f=a.Ea;a=[];h=I(f);if(void 0!==h.Fi)switch(a.push(h),b){case r.$q.sxa:for(b=1;b<q.iO;b++)a.push(new c(h.Fi,h.tk+b));a.push(new c(h.Fi-1,h.tk));a.push(new c(h.Fi+1,h.tk));break;case r.$q.Lta:for(b=1;b<q.iO;b++)a.push(new c(h.Fi,h.tk-b));a.push(new c(h.Fi-1,h.tk));a.push(new c(h.Fi+1,h.tk));break;case r.$q.Y4a:a.push(new c(h.Fi-1,h.tk));for(b=1;b<=q.iO/2;b++)a.push(new c(h.Fi,h.tk+b)),a.push(new c(h.Fi,h.tk-b));break;case r.$q.m_a:for(a.push(new c(h.Fi+1,h.tk)),b=1;b<=q.iO/2;b++)a.push(new c(h.Fi,h.tk+b)),a.push(new c(h.Fi,h.tk-b));}l=[];a.forEach(function(a){d=F(f,a.Fi,a.tk);void 0!==d&&l.push(d);});this.jC(l,r.$s.N8);return this.rD(l.concat(this.Ui));};k.prototype.Gqb=function(a){this.u.log("ModelOne: handleDefaultCase");a=h(a.Ea,q.QSa,q.fFa);this.jC(a,r.$s.N8);return this.rD(a.concat(this.Ui));};k.prototype.QGb=function(a){return a.xx==r.$s.uj|a.xx==r.$s.Gxa&m()-a.WI<q.vrb;};k.prototype.rD=function(a){var b,c,f,h,l,d,n;b=[];c={};d=0;n=a.length;for(l=0;l<n;l++)f=a[l].na,h=a[l],!1===f in c?(b.push(h),c[f]=d,d++):(f=b[c[f]],h.Mj<f.Mj&&(f.Mj=h.Mj),h.xx>f.xx&&(f.xx=h.xx),h.WI>f.WI&&(f.WI=h.WI));return b;};d.P=k;},function(d,b,a){var r,q,n,l,f,h,g;function c(a,b,c,f,h,l){this.G=this.na=a;this.he=b;this.Vc=c;l&&l.ke&&(this.ke=l.ke);void 0!==f&&(this.wC=f);this.Mj=h;this.cb=l;}function k(a,b,c,f,l){n(void 0!==f,"video preparer is null");n(void 0!==l,"ui preparer is null");this.u=b||console;this.u=b;this.Eb=c;this.o$a=f;this.h$a=l;this.EBa=h.bla;this.pF=[];this.raa=!1;this.mo=0;new g().on(h,"changed",m,this);this.reset();}function m(){this.u.log("config changed");h.bla&&(this.EBa=h.bla);h.mP!==this.$E&&(this.reset(),this.JDb());}r=a(185);q=a(184);b=a(277);n=b.assert;l=b.YHa;f=a(525);h=a(276).config;g=a(106).Oi;h.declare({bla:["ppmConfig",{kNb:{wPa:0,vPa:2,tPa:0,uPa:5,XTa:0},zSb:{wPa:0,vPa:1,tPa:0,uPa:3,XTa:1E3},zNb:{wPa:0,vPa:1,tPa:0,uPa:3,XTa:1E3}}]});k.prototype.constructor=k;k.prototype.reset=function(){this.g$=!0;this.$E=h.mP;this.u.log("create model: "+h.mP,h.OSa,h.eFa);switch(h.mP){case"modelone":this.$E=new f(this.u);break;default:this.$E=new f(this.u);}};k.prototype.JDb=function(){var b,c;if(!1===this.raa){this.raa=!0;for(var a=0;a<this.pF.length;a++){this.u.log("PlayPredictionModel replay: ",JSON.stringify(this.pF[a]));b=this.EFa(this.pF[a]);c=this.FIa(b);this.$E.update(b,c);this.g$=!1;}this.pF=[];}};k.prototype.update=function(a){var b,c,f;this.u.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Ea&&a.Ea[0]){!1===this.raa&&this.pF.length<h.Xvb&&this.pF.push(a);b=this.EFa(a);c=this.FIa(b);this.u.log("actionType",c);b="mlmodel"==h.mP?this.$E.update(a,c):this.$E.update(b,c);b=this.Mmb(b,h.Ctb||1);this.u.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.mo&&(this.mo=r(),this.Eb&&this.Eb.lQ&&this.Eb.lQ({FX:this.mo}));if(this.Eb&&this.Eb.oSa){f={FX:this.mo,offset:this.VY(),ZQa:[]};b.forEach(function(a){f.ZQa.push({Jq:a.na});});f.VQa=JSON.stringify(a);f.WQa=JSON.stringify(b);this.Eb.oSa(f);}this.o$a.Nv(b);this.h$a.Nv(b);this.g$=!1;}};k.prototype.aEb=function(){this.mo=0;};k.prototype.VY=function(){return r()-this.mo;};k.prototype.lQ=function(){this.mo=r();this.Eb&&this.Eb.lQ&&this.Eb.lQ({FX:this.mo});};k.prototype.EFa=function(a){var b,c,f,h,l;b={};h=a.Ea||[];l=function(a){var h,l;h={};c=q.aK.name.indexOf(a.context);h.context=0<=c?c:q.aK.pt;h.rowIndex=a.rowIndex;h.requestId=a.requestId;h.list=[];f=a.list||[];f.forEach(function(a){l={na:a.na,Vc:a.Vc,index:a.index,wC:a.wC,eI:a.eI,list:a.list,cb:a.cb};void 0!==a.property&&(c=q.UD.name.indexOf(a.property),l.property=0<=c?c:q.UD.pt);h.list.push(l);}.bind(this));b.Ea.push(h);}.bind(this);void 0!==a.direction&&(c=q.$q.name.indexOf(a.direction),b.direction=0<=c?c:q.$q.pt);void 0!==a.EN&&(b.EVb=a.EN.rowIndex,b.DVb=a.EN.zeb);b.EN=a.EN;b.Ea=[];h.forEach(l);return b;};k.prototype.FIa=function(a){var b,c,f;b=a.direction||q.$q.pt;c=a.EN;f=a.Ea||[];!0===this.g$?a=q.Ws.psa:!0===f.some(this.hrb)?(a=q.Ws.lK,this.P1(f,b,c)):a=f[0].context===q.aK.fU?q.Ws.fU:b===q.$q.sxa||b===q.$q.Lta?q.Ws.Exa:q.Ws.pt;return a;};k.prototype.hrb=function(a){return(a.list||[]).some(function(a){return a.property===q.UD.lK||a.property===q.UD.bra;});};k.prototype.P1=function(a,b,c){var f,h;this.u.log("reportPlayFocusEvent: ",b,c);f={};h=l(a);this.Eb&&this.Eb.P1&&(f.tVb=r(),f.direction=q.$q.name[b],c&&(f.rowIndex=c.rowIndex,f.lca=c.zeb),void 0!==h.Fi&&(f.requestId=a[h.Fi].requestId),this.Eb.P1&&this.Eb.P1(f));};k.prototype.Mmb=function(a,b){for(var c=a.length,f=[],l,d,n,k,m=0;m<c;m++){d=a[m];l=Math.floor(m/b)+1;if(void 0!==d.list){n=d.list;k=n.length;for(var q=0;q<Math.min(h.xeb,k)&&!(n[q].Mj=d.Mj,this.JCa(n[q],l,f),f.length>=h.XNa);q++);}else this.JCa(d,l,f);if(f.length>=h.XNa)break;}return f;};k.prototype.JCa=function(a,b,f){var l,d;function h(a){a.ke&&(a.cb||(a.cb={}),a.cb.ke=a.ke);return a.cb;}l=a.eI;void 0!==l&&l instanceof Array?l.forEach(function(l){void 0!==l.na&&(d=h(l),f.push(new c(l.na,b,l.Vc,l.wC,a.Mj,d)));}):void 0!==l&&void 0!==l.na&&(l=a.eI,d=h(l),f.push(new c(l.na,b,l.Vc,l.wC,a.Mj,d)));void 0!==a.na&&(d=h(a),f.push(new c(a.na,b,a.Vc,a.wC,a.Mj,d)));};k.prototype.Ux=function(a){var b;b=this.EBa;return a?b[a]:b;};d.P=k;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);k=a(9);d=a(2);m=a(6);b=a(26);m.$.get(b.Kf).register(d.K.ita,function(b){var d,l;if(c.config.GAb){d=m.uh("PlayerPredictionModel");M._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),b(k.wd));l=a(526);d.log=d.trace.bind(d);r=new l({},d,{lQ:function(a){M._cad_global.prefetchEvents.Xib(a.FX);},oSa:function(a){M._cad_global.prefetchEvents.hBb(a);}},M._cad_global.videoPreparer,{Nv:function(){}});M._cad_global.playerPredictionModel=r;d.info("ppm v2 initialized");}b(k.wd);});},function(d){d.P={Qx:{ya:12E5,IO:9E5,Cd:12E5},wx:{ya:10,IO:10,Cd:10},vx:{ya:10240,IO:10240,Cd:10240}};},function(d){function b(a){var b;b=[];return function m(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&m(a[c]))return!0;}return!1;}(a);}d.P=function(a,c){var m;if(c&&b(a))return-1;c=[];a=[a];for(var d=0;a.length;){m=a.pop();if("boolean"===typeof m)d+=4;else if("string"===typeof m)d+=2*m.length;else if("number"===typeof m)d+=8;else if("object"===typeof m&&-1===c.indexOf(m)){c.push(m);for(var r in m)a.push(m[r]);}}return d;};},function(d,b,a){var q,n;function c(){return Object.create(null);}function k(a){this.log=a.log;this.za=a.za;this.kC=c();this.Promise=a.Promise;this.yu=a.yu;this.xoa=a.xoa;this.Mh=a.Mh||!1;this.Qx=c();this.wx=c();this.vx=c();this.M9a(a);a.yG&&(this.yG=a.yG,q(this.yG,k.prototype));}function m(a){return"undefined"!==typeof a;}function r(a){var l;for(var b=0,c=arguments.length;b<c;){l=arguments[b++];if(m(l))return l;}}q=a(62);a(529);n=a(528);k.prototype.M9a=function(a){this.Qx.manifest=r(a.sea,n.Qx.ya);this.Qx.ldl=r(a.rea,n.Qx.IO);this.Qx.metadata=r(a.wVb,n.Qx.Cd);this.wx.manifest=r(a.Nba,n.wx.ya);this.wx.ldl=r(a.Mba,n.wx.IO);this.wx.metadata=r(a.lUb,n.wx.Cd);this.vx.manifest=r(a.jUb,n.vx.ya);this.vx.ldl=r(a.iUb,n.vx.IO);this.vx.metadata=r(a.kUb,n.vx.Cd);};k.prototype.FZ=function(a,b,c){this.wk("undefined"!==typeof a);this.wk("undefined"!==typeof b);return!!this.tAa(a,b,c).value;};k.prototype.tAa=function(a,b,c){var f,h;f={value:null,reason:"",log:""};h=this.kC[b];if("undefined"===typeof h)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof h[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=h[a][c?c:"DEFAULTCAPS"])&&c.value?this.o_(b,c.Hh)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};k.prototype.getData=function(a,b,c){this.wk("undefined"!==typeof a);this.wk("undefined"!==typeof b);a=this.tAa(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.xoa?JSON.parse(this.xoa(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};k.prototype.setData=function(a,b,h,d,n){var f;this.wk("undefined"!==typeof a);this.wk("undefined"!==typeof b);f=this.kC;n=n?n:"DEFAULTCAPS";f[b]||(f[b]=c(),Object.defineProperty(f[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(f[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.yu?this.yu(JSON.stringify(h),"gzip",!0):h;f=f[b];this.G7a(a,b,n,f);b={Hh:this.za.getTime(),value:h,size:0,type:b,sda:d};f[a]=f[a]||c();f[a][n]=f[a][n]||c();f[a][n]=b;f.size+=0;f.numEntries++;this.yG&&this.emit("addedCacheItem",b);return b;};k.prototype.G7a=function(a,b,c,d){var f,h,l,n,k,m,q,r,g;f=this;h=d.numEntries;l=this.wx[b];m=d[a]&&d[a][c];if(m&&m.value)n=a,k="promise_or_expired";else if(h>=l){r=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var h;h=d[a]&&d[a][c];h&&h.value&&f.o_(b,h.Hh)&&(g=a);h&&h.value&&h.Hh<r&&(r=h.Hh,q=a);return!0;});n=g||q;k="cache_full";}this.Mh&&this.log.debug("makespace ",{maxCount:l,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:n});n&&(f.clearData(n,b,c,void 0,k),this.log.debug("removed from cache: ",n,b));};k.prototype.cca=function(a,b){var c,f;c=this;c.wk("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.kC[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};k.prototype.clearData=function(a,b,c,d,n){var f;this.wk("undefined"!==typeof a);this.wk("undefined"!==typeof b);f=this.kC[b];b=f?f[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){f.size-=b[c].size;f.numEntries--;if(f=b&&b[c])b[c]=void 0,!d&&f.sda&&f.sda();this.yG&&(a={creationTime:f.Hh,destroyFn:f.sda,size:f.size,type:f.type,value:f.value,reason:n,movieId:a},this.emit("deletedCacheItem",a));}};k.prototype.flush=function(a){var b;this.wk("undefined"!==typeof a);b=this.kC;b[a]=c();b[a].numEntries=0;b[a].size=0;};k.prototype.o_=function(a,b){return this.za.getTime()-b>this.Qx[a];};k.prototype.getStats=function(a,b,c){var f,h,l,d,n;f={};h=this;l=h.kC;d=m(a)&&m(b);n=c||"DEFAULTCAPS";Object.keys(l).forEach(function(c){var k,q;k=Object.keys(l[c]);q=l[c];k.forEach(function(l){!(l=q&&q[l]&&q[l][n])||!m(l.value)||l.value instanceof this.Promise||(f[c]=(f[c]|0)+1,h.o_(l.type,l.Hh)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),d&&l.Hh>=a&&l.Hh<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};k.prototype.Tc=function(a){var b,c,l,d;b=[];c=this;l=c.kC;d=a||"DEFAULTCAPS";Object.keys(l).forEach(function(a){var f,h;f=Object.keys(l[a]);h=l[a];f.forEach(function(f){var l,n;l=h&&h[f]&&h[f][d];l&&m(l.value)&&(n=c.o_(l.type,l.Hh)?"expired":l.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:n,type:a,size:l.size}));});});return b;};k.prototype.Zma=function(a,b){this.wk("undefined"!==typeof a);this.wk("undefined"!==typeof b);this.vx[a]=b;};k.prototype.wk=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Mh))throw Error("Debug Assert Failed ");};d.P=k;},function(d,b,a){var k,m;function c(a,b,c,l,f,h,d){this.G=a;this.he=b;this.type=c;this.id=++m;this.Vp=l;this.status=k.ze.sqa;this.$zb=void 0===f?!1:f;this.jPa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.CK=void 0;k=a(52);m=0;c.prototype.Wr=function(){var a;a={id:this.id,type:this.type,created:this.Vp,status:this.status,movieId:this.G};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};c.prototype.ss=function(a){this.jPa&&this.jPa(a);};b.CK=c;},function(d,b,a){var m,r,q,n;function c(a){this.log=a.log;this.za=a.za;this.pX=this.bN=0;this.bz=[];this.paused=!1;this.N2=[];this.qFa=[];this.wO=a.wO||q.Zoa;this.bd=a.bd;this.lk=this.bd.get(r.GS);this.addEventListener=this.lk.addListener.bind(this.lk);this.events={Bya:"taskstart",zya:"taskabort",Aya:"taskfail",Cya:"tasksuccess"};}function k(a){return a.Wr();}Object.defineProperty(b,"__esModule",{value:!0});b.Hya=void 0;d=a(142);m=a(52);r=a(77);q=function(){function a(){}a.E3a="prepend";a.Zoa="append";a.E0a="ignore";return a;}();n=d.ft;b.Hya=c;c.prototype.OCa=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.bz=this.p7a(a);this.bN=0;this.pX+=1;this.pc();};c.prototype.p7a=function(a){var b,c;b=this.bz.filter(function(a){return a.$zb&&a.status===m.ze.sqa;});c=this.wO;if(c===q.E0a)return[].concat(a);if(c===q.E3a)return b.concat(a);if(c===q.Zoa)return a.concat(b);};c.prototype.pause=function(){this.paused=!0;};c.prototype.pc=function(){var a,b;if(this.bN===this.bz.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.bN,numberOfTasks:this.bz.length});else{a=this.Wob();b=this.pX;a.startTime=this.za.getTime();a.status=m.ze.Jxa;this.lk.Wb(this.events.Bya,{G:a.G,type:a.type});this.N2.push(a);a.Ef(function(c){a.endTime=this.za.getTime();c?0<=[m.ze.AD,m.ze.hS,m.ze.zJ,m.ze.gS].indexOf(c.status)?(a.status=c.status,this.T$(a,this.events.zya,"cancelled task")):(a.status=m.ze.qw,this.T$(a,this.events.Aya,"task failed",c)):(a.status=m.ze.Oxa,this.T$(a,this.events.Cya,"task succeeded"));this.qFa.push(a);this.N2.splice(this.N2.indexOf(a),1);this.pX===b&&(this.bN++,this.pc());}.bind(this));}};c.prototype.Wob=function(){return this.bz[this.bN];};c.prototype.T$=function(a,b,c,d){var f;f=a.Wr();d?this.log.warn(c,f,d):this.log.trace(c,f);this.lk.Wb(b,{G:a.G,type:a.type,reason:a.status});a.ss(f);};c.prototype.getStats=function(a,b,c){var f,h,d,l;f=this.qFa.map(k);h=this.N2.map(k);d=n.Sd(a)&&n.Sd(b);l={};if(n.Sd(c))return l.Geb=f.filter(function(a){return a.movieId===c;}),l;f.concat(h).forEach(function(c){var f;l[c.type+"_"+c.status]=(l[c.type+"_"+c.status]|0)+1;f=c.status==m.ze.Jxa?c.startTime:c.endTime;d&&f>=a&&f<b&&(l[c.type+"_"+c.status+"_delta"]=(l[c.type+"_"+c.status+"_delta"]|0)+1);});return l;};},function(d,b,a){var k,m,r,q,n,l,f,h,g,F;function c(a){this.log=a.log;this.za=a.za;this.Ofa=a.Ofa;this.cZ=a.cZ;this.bZ=a.bZ;this.MG=a.MG;this.jv=a.jv;this.hN=a.hN;this.bd=a.bd;this.config=this.bd.get(l.fd)();this.jN=a.jN;this.iN=a.iN;this.Xoa=a.Xoa;this.qka=a.qka;this.rka=a.rka;this.vP=a.vP;this.zfa=a.zfa;this.Mh=a.Mh||!1;this.uaa={};this.sV={};this.TV={num_of_calls:0,num_of_movies:0};this.Yba=a.Yba;this.Jja=a.Jja;this.Wmb=a.Wmb;this.mfa=a.mfa;this.Gh=new f({log:this.log,za:this.za,Promise:Promise,Mh:this.Mh,Nba:a.Nba,Mba:a.Mba,sea:a.sea,rea:a.rea,yG:h});this.Nm=new k.Hya({log:this.log,za:this.za,wO:a.wO,bd:this.bd});this.cq=this.Gh.getData.bind(this.Gh);this.Sy=this.Gh.setData.bind(this.Gh);this.DZ=this.Gh.FZ.bind(this.Gh);}Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;k=a(532);m=a(531);d=a(142);r=a(259);q=a(478);n=a(116);l=a(14);f=a(530);h=a(106).EventEmitter;g=d.ft;F=new q.f9(g,new r.bS());b.pza=c;c.prototype.QIa=function(a){var b;b=this.Gh.getData(a,"ldl");this.Gh.clearData(a,"ldl",void 0,!0);return b;};c.prototype.Nv=function(a,b){var c,f,h;c=this;a=a.map(function(a){a.cb=a.cb||{jM:{DQa:!1},Wh:0};g.jB(a.cb.Wh)||(a.cb.Wh=0);g.jB(a.Vc)&&(a.cb.S=a.Vc);return a;});f=a.map(function(a){return c.bAa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);h=f.map(function(a){return a.G+"-"+a.type;});this.log.trace("prepare tasks",h);this.Nm.OCa(f);this.TV.num_of_calls++;this.TV.num_of_movies+=a.length;};c.prototype.cBb=function(a,b){var c,f,h;c=this;f=a.map(function(a){return a.G+"";});a=a.map(function(a){a.cb=a.cb||{jM:{DQa:!1},Wh:0};a.cb.ye=!0;a.cb.EOa=f;return c.bAa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);h=a.map(function(a){return a.G+"-"+a.type;});this.log.trace("predownload tasks",h);this.Nm.OCa(a);};c.prototype.uKb=function(a,b){this.sV[a]||(this.sV[a]={});a=this.sV[a];a.aRa=(a.aRa|0)+1;a.Mj=b;};c.prototype.getStats=function(a,b,c){var f;f=c&&this.sV[c]||{};f.bz=this.Nm.getStats(a,b,c);f.cache=this.Gh.getStats(a,b);f.AIa=F.EH(this.zfa(),this.TV);return f||{};};c.prototype.bAa=function(a,b){var c,f,h,d,l;a.ke&&(a.cb.ke=a.ke);c=[];f=a.G;h=!!a.cb.ye;this.uKb(f,a.Mj);d=null;if(this.Gh.FZ(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{l=new m.CK(f,a.he,"manifest",this.za.getTime(),h,void 0,b);d=l.id;l.Ef=this.Ofa.bind(this,f,a);c.push(l);}this.cZ&&(this.Gh.FZ(f,"ldl")?this.Mh&&this.log.trace("ldl exists in cache for "+f):(l=new m.CK(f,a.he,"ldl",this.za.getTime(),h,d,b),l.Ef=this.cZ.bind(this,f,a),c.push(l)));this.bZ&&this.MG&&this.Yba()&&(this.Jja(f)?this.Mh&&this.log.trace("headers/media exists in cache for "+f):(f=new m.CK(a.G,a.he,"getHeaders",this.za.getTime(),h,d,b),f.Ef=this.bZ.bind(this,a.G,a),c.push(f),b=new m.CK(a.G,a.he,"getMedia",this.za.getTime(),h,d,b),b.Ef=this.MG.bind(this,a.G,a),c.push(b)));return c;};c.prototype.Sqb=function(a){this.rka(a);};c.prototype.Rqb=function(a){this.log.trace("task scheduler paused on playback created");this.Nm.pause();this.jN&&this.Gh.cca(a,["manifest"]);this.iN&&this.Gh.cca(a,["ldl"]);this.qka(a);};c.prototype.JKa=function(){this.log.info("track changed, clearing all manifests from cache");this.Gh.cca("none",["manifest"]);};c.prototype.Qqb=function(a){var b;b=this;this.hN?this.Gh.clearData(a,"manifest"):this.Gh.FZ(a,"manifest")&&this.Gh.getData(a,"manifest").then(function(c){c.isSupplemental||b.Gh.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.ica(a);this.vP();};c.prototype.ica=function(a){this.uaa[a]=void 0;};c.prototype.sZ=function(a){return this.uaa[a];};c.prototype.WFa=function(a){return this.uaa[a]=this.Xoa();};c.prototype.fBb=function(){var a;a=[];a=this.Gh.Tc().map(function(a){return{Jq:parseInt(a.movieId,10),state:a.state,gu:a.type,size:a.size||void 0};});this.mfa().map(function(b){2===b.jq?a.push({Jq:b.G,state:"cached",gu:n.Ae.dk.TJ,size:void 0}):b.fmb&&!b.aub&&a.push({Jq:b.G,state:"loading",gu:n.Ae.dk.TJ,size:void 0});b.UWa&&0<b.UWa&&b.FDa&&0<b.FDa?a.push({Jq:b.G,state:"cached",gu:n.Ae.dk.MEDIA,size:void 0}):b.ZAb&&!b.YAb&&a.push({Jq:b.G,state:"loading",gu:n.Ae.dk.MEDIA,size:void 0});});return a;};c.prototype.RLa=function(a){return a&&0<=a.indexOf("billboard");};},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,E,p,K,D,t,Q,V,S,A,u,ma,da,W;Object.defineProperty(b,"__esModule",{value:!0});c=a(50);k=a(121);m=a(12);r=a(9);q=a(39);d=a(2);n=a(6);l=a(23);f=a(247);h=a(3);g=a(87);F=a(119);I=a(113);E=a(52);p=a(188);K=a(22);D=a(32);t=a(533);Q=a(102);V=a(152);S=a(47);A=a(61);b=a(26);u=a(137);ma=a(170);da=a(271);n.$.get(b.Kf).register(d.K.mta,function(a){var Z,N,ya,Da,la,Fa,B,Wa,P,R,U,X,ba,Ha;function b(){var a,b,c;if(m.config.ip){a={};a.trigger=E.Pd.D3a.f3a;b=Z.getTime();c=W.getStats(ba,b);a.startoffset=ba;ba=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.bz);a.general=JSON.stringify(c.AIa);b=n.$.get(S.fk);a=n.$.get(A.fo).An("prepare","info",a);b.Ac(a);}}function d(a,b,c){var f,h;h=a.hw;h&&h.length&&h[0].ec&&h[0].ec.length&&(f=h[0].ec[0].OM);h=m.wca(b.ke);f=m.vca(!!a.uu,!1,f);f=k.Zc.Go(Object.assign(Object.assign({},h),f));return{G:c,he:0,Hob:function(){return{ya:a,Cf:!1,PA:a.sGa[0].PA};},config:f,ye:!!b.ye,EOa:b.EOa};}function x(a,b,c){W.cq(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Fa.trace("ldl not available in cache",f);W.cq(a,"manifest").then(function(f){var d,l,k,q,r;function h(b){Fa.warn("ldl is now invalid",b);r.close();W.Sy(a,"ldl",void 0);W.ica(a);}d=f.Nf;if(W.DZ(a,"ldl"))c({status:E.Pd.ze.AD});else if(d.IZ)if(m.config.MGa&&B&&B!==a&&!b.force)c({status:E.Pd.ze.hS});else if(m.config.NGa&&Wa&&Wa!==a&&!b.force)c({status:E.Pd.ze.zJ});else{B&&B!==a&&(P[a]=(P[a]|0)+1);Wa&&Wa!==a&&(R[a]=(R[a]|0)+1);l=d.hw[0].fI;k=d.hw[0].Kda;q=(l?l:[k]).map(function(a){return n.Op(a.bytes);});r=T({esb:"cenc",eHa:Fa,VN:function(b){var c;c=[];b.ri.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:n.EW(a.data)});});b={ri:c,QX:[d.xk],Bi:E.Pd.DFa(b.Bi),ng:d.ng,ia:W.WFa(a),Ci:f.Ci};Fa.trace("xid created ",{MovieId:a,xid:b.ia});return Da.JA(b);},FHb:void 0,Vkb:h,jd:void 0,cka:K.Ye,za:la});W.Sy(a,"ldl",r,function(){r.close();});return r.create(m.config.Wd).then(function(){return r.Ai(g.sj.ww,q,!0);}).then(function(){c(null,r);})["catch"](function(a){h(a);c(a);});}else c({status:E.Pd.ze.gS});})["catch"](function(a){Fa.warn("Manifest not available for ldl request",a);c({status:E.Pd.ze.AD});});});}function J(a,b,c){W.cq(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Fa.trace("ldl not available in cache",f);W.cq(a,"manifest").then(function(f){var d,l,k,q,r;function h(b,c){Fa.warn(b+" LDL is now invalid.",c);W.Sy(a,"ldl",void 0);W.ica(a);}d=f.Nf;if(W.DZ(a,"ldl"))c({status:E.Pd.ze.AD});else if(d.IZ)if(m.config.MGa&&B&&B!==a&&!b.force)c({status:E.Pd.ze.hS});else if(m.config.NGa&&Wa&&Wa!==a&&!b.force)c({status:E.Pd.ze.zJ});else{B&&B!==a&&(P[a]=(P[a]|0)+1);Wa&&Wa!==a&&(R[a]=(R[a]|0)+1);l=d.hw[0].fI;k=d.hw[0].Kda;q=(l?l:[k]).map(function(a){return n.Op(a.bytes);});r=n.$.get(F.KJ)().then(function(b){var c;c={type:g.sj.ww,ZZ:q,context:{Wd:m.config.Wd},Zg:{G:a,ia:W.WFa(a),ng:d.ng,xk:d.xk,Ci:f.Ci}};return b.Nv(c,n.$.get(u.aE)());}).then(function(a){c(null,a);return a;})["catch"](function(a){h("Unable to prepare an EME session.",a);});W.Sy(a,"ldl",r,function(){try{r.then(function(a){a.close().subscribe(void 0,function(a){h("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){h("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(jf){h("Unable to cleanup LDL session, unexpected exception.",jf);}});}else c({status:E.Pd.ze.gS});})["catch"](function(a){Fa.warn("Manifest not available for ldl request",a);c({status:E.Pd.ze.AD});});});}function T(a){var b,c,f;b=n.$.get(D.Fp);c=new b.vz(a.eHa,a.VN,a.FHb,{Mh:!1,zO:!1});f=n.$.get(I.Zz);return b.xz(a.eHa,a.esb,a.jd,{Mh:!1,zO:!1,mMa:m.config.Gi,hTa:{lOa:m.config.gTa,GEa:m.config.Bma},Ny:c,pRa:m.config.qla,la:void 0,vD:m.config.Uda,onerror:a.Vkb,cka:a.cka,za:a.za,yAb:!1,GDa:f.UM([]),VWa:f.aN([]),$G:m.config.$G});}Z={getTime:q.Tg,KVb:q.JM};N=n.$.get(l.Le);ya=n.$.get(Q.MT);Da=n.$.get(V.WD);la=Z;Fa=n.uh("VideoPreparer");P={};R={};U=n.$.get(D.Fp);if(!U.xz||!U.vz){X=n.$.get(da.QT)();U.xz=X.tb;U.vz=X.request;}Fa.info("instance created");W=new t.pza({log:Fa,za:Z,Xoa:q.YEa,Ofa:function(a,b,c){var h;function f(){var b;N.MA(h)||(h={trackingId:h});b={Pa:h,na:a,Lu:Q.gk.t7};Fa.trace("manifest request for:"+a);return ya.te(Fa,b);}h=b.cb;Fa.trace("getManifest: "+a);m.config.B$a&&h&&h.ya&&!W.DZ(a,"manifest")&&(!h.ya.clientGenesis||Date.now()-h.ya.clientGenesis<m.config.bRa)?(b=n.$.get(ma.$D).create(h.ya),b.My=Z.getTime(),b.MC=Z.getTime(),W.Sy(a,"manifest",b),c(null,b)):W.cq(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var h;Fa.trace("manifest not available in cache",b);if(W.DZ(a,"manifest"))c({status:E.Pd.ze.AD});else{h=Z.getTime();b=f();W.Sy(a,"manifest",b);b.then(function(b){b.My=h;b.MC=Z.getTime();W.Sy(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);W.Sy(a,"manifest",void 0);});}});},cZ:m.config.rG?m.config.wp?J:x:void 0,bZ:function(a,b,c){var f;f=b.cb;W.cq(a,"manifest").then(function(b){b=d(b.Nf,f,a);k.ll.KW(b,function(){c(null,{});});})["catch"](function(a){Fa.error("Exception in getHeaders",a);c(a);});},MG:function(a,b,c){var m;m=b.cb;W.cq(a,"manifest").then(function(q){var r,g,x;r=q.Nf;q=d(r,m,a);g=r.duration;r=n.$.get(f.dS).VCa({sD:h.Gb(r.tx),G:a,IP:h.Gb(g),Pa:m}).ca(h.ja);n.$.get(l.Le).zr(m.S)&&(r=m.S);q.Vc=r;if(B!=a||m.ye||b.force){x=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(k.ll.removeEventListener("prebuffstats",x),c(null,{}));};k.ll.addEventListener("prebuffstats",x);k.ll.KW(q);}else c({status:E.Pd.ze.zJ});})["catch"](function(a){Fa.error("Exception in getMedia",a);c(a);});},jv:function(){return k.ll.jv();},Yba:function(){return m.config.XX;},Jja:function(a){var b;b=!1;k.ll.DM().forEach(function(c){c.G==a&&(b=!0);});return b;},mfa:function(){return k.ll.DM().map(function(a){var b,f;b=k.ll.Hia(a.G);f=b[c.zc.Pi.AUDIO]&&b[c.zc.Pi.AUDIO].data;b=b[c.zc.Pi.VIDEO]&&b[c.zc.Pi.VIDEO].data;return{G:a.G,jq:a.jq,FDa:f&&f.length,UWa:b&&b.length,fmb:N.zr(a.Xb.vY),aub:N.zr(a.Xb.M_),ZAb:N.zr(a.Xb.dI),YAb:N.zr(a.Xb.q1)};});},qka:function(a){B=a;},rka:function(a){Ha&&(Ha.hca(),b());Wa=a;},vP:function(){Ha&&Ha.fna();Wa=B=void 0;},zfa:function(){return{ldls_after_create:P,ldls_after_start:R};},hN:m.config.hN,jN:m.config.jN,iN:m.config.iN,wO:m.config.iBb,Nba:m.config.lBb,Mba:m.config.jBb,sea:m.config.bRa,rea:m.config.kBb,Mh:!1,bd:n.$});M._cad_global.videoPreparer=W;U=m.config.Zzb;ba=Z.getTime();U&&(Ha=new p.p8(U,b),Ha.fna());a(r.wd);});},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(144);c=a(9);k=a(12);m=a(57);b=a(7);r=a(6);q=a(47);n=a(94);l=a(17);f=a(22);h=a(10);M.netflix=M.netflix||{};l.lb(!M.netflix.player);M.netflix.player={VideoSession:d.wU,diag:{togglePanel:function(a,b){var c;c=[];if(!k.config||k.config.iQ){switch(a){case"info":c=m.Xm.map(function(a){return a.l1;});break;case"streams":c=m.Xm.map(function(a){return a.m1;});break;case"log":c=[];}c.forEach(function(a){f.$b(b)?b?a.show():a.Qo():a.toggle();});}},addLogMessageSink:function(a){r.$.get(q.fk).addListener({KYb:function(){},ywb:function(b){a({data:b.data});}});}},log:r.uh("Ext"),LogLevel:b.$h,addLogSink:function(a,b){r.$.get(n.Gz).L1(a,b);},getVersion:function(){return"0.0024.489.050";},isWidevineSupported:function(a){var f;function b(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Zq,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.zw,robustness:"SW_SECURE_CRYPTO"}]}];try{h.Qi.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var h;h=f.getConfiguration();f=h.videoCapabilities||[];h=(h.audioCapabilities||[]).reduce(b(c.zw),!1);f=f.reduce(b(c.Zq),!1);a(h&&f);})["catch"](function(){a(!1);});}catch(E){a(!1);}}};},function(d,b,a){var c,k,m,r,q,n,l,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(26);b=a(2);c=a(7);k=a(32);m=a(148);r=a(9);q=a(12);n=a(6);l=a(121);f=a(57);h=a(144);g=a(193);n.$.get(d.Kf).register(b.K.ota,function(a){var d,x,F;function b(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):n.$.get(g.JT).te(this.log,{},{cHa:a,password:b}).then(function(){});}if(q.config.glb){d=n.$.get(m.pK);x=n.$.get(k.Si);F=n.$.get(c.Db).ub("Test");h.wU.yW.test={pboRequests:d.Ny.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:f.Xm,getPlayback:function(a){return f.Xm.find(function(b){return b.ia===a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,h;return void 0!==(null===(h=null===(c=f.Xm.find(function(b){return b.ia===a;}))||void 0===c?void 0:c.Ib)||void 0===h?void 0:h.QY(b));}},aseManager:{cacheDestroy:function(){return l.ll.AM();}},device:{esn:M._cad_global.device.Jh,esnPrefix:x.Px,errorPrefix:x.vB},log:{info:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return F.info(a,c);},error:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return F.error(a,c);},warn:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return F.warn(a,c);},trace:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return F.trace(a,c);},log:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return F.log(a,c);},debug:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return F.debug(a,c);}},login:b};}a(r.wd);});},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(146);k=a(144);m=a(9);r=a(12);d=a(2);q=a(6);n=a(17);l=a(21);f=a(22);h=a(15);g=a(47);F=a(61);a=a(26);q.$.get(a.Kf).register(d.K.nta,function(a){var b,d;b=q.uh("NccpApi");d=l.uDa(["info","warn","trace","error"]);k.wU.yW.nccp={getEsn:function(){return c.Ih.Jh;},getPreferredLanguages:function(){return r.config.Yp.fla;},setPreferredLanguages:function(a){n.lb(h.isArray(a)&&f.cv(a[0]));r.config.Yp.fla=a;},queueLogblob:function(a,c,f){var h;if(a&&c)if(c=c.toLowerCase(),d[c]){h=q.$.get(g.fk);a=q.$.get(F.fo).An(a,c,f);h.Ac(a);}else b.warn("Invalid severity",{severity:c});},flushLogblobs:function(){q.$.get(g.fk).flush(!0);}};a(m.wd);});},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Oqa=void 0;c=a(66);k=a(43);m=a(17);r=a(21);q=a(22);b.Oqa=function(a,b){m.lb(a);m.lb(b);m.bG(b.Lkb,"endpointURL property is required");m.lb(b.Cj);this.log=a;this.QQa=b;};b.Oqa.prototype.Ux=function(){var a,b,f;a=this;a.log.trace("Downloading config data.");b={browserInfo:JSON.stringify(a.QQa.Cj)};f=a.QQa.Lkb+"?"+k.OH(b);return new Promise(function(b,d){function h(b){var c;try{if(b.da){c=new Uint8Array(b.content);return{da:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{da:!1,message:"Unable to download the config. "+b.sb,lO:b.$i};}catch(T){return b=r.Ge(T),a.log.error("Unable to download the config. Received an exception parsing response",{message:T.message,exception:b,url:f}),{da:!1,sb:b,message:"Unable to download the config. "+T.message};}}function l(b,c,f){return c>f?(a.log.error("Config download failed, retry limit exceeded, giving up",q.xb({Attempts:c-1,MaxRetries:f},b)),!1):!0;}function n(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function k(f,m,g){c.Te.download(f,function(c){var x;c=h(c);if(c.da)b(c);else{a.log.warn("Config download failed, retrying",q.xb({Attempt:m,WaitTime:x,MaxRetries:g},c));if(l(c,m+1,g))return x=r.wla(1E3,1E3*Math.pow(2,Math.min(m-1,g))),n(x).then(function(){return k(f,m+1,g);});d(c);}});}return c.Te?k({url:f,responseType:3,withCredentials:!0,kB:"config-download"},1,3):Promise.reject({da:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);k=a(9);d=a(2);m=a(6);r=a(182);a=a(26);m.$.get(a.Kf).register(d.K.cta,function(a){c.config.Hmb&&m.$.get(r.q5).start();a(k.wd);});},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,E,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(153);k=a(278);d=a(57);m=a(12);r=a(56);q=a(9);n=a(43);l=a(39);f=a(21);h=a(10);g=a(6);F=a(118);I=a(13);E=a(26);p=a(32);d.Z7(d.U7,function(a){var ma,da,W,N,ja,na;function b(c){c.newValue>=I.ob.LOADING&&(a.state.removeListener(b),u("type=openplay&sev=info&locstor="+h.zT(t())),W=l.Tg(),K());}function d(){na("type=startplay&sev=info&outcome=success");}function x(){var b,d;b=a.aj;if(b){d="type=startplay&sev=error&outcome=error";b=c.Zfa(g.$.get(p.Si).vB,b);f.zd(b,function(a,b){d+="&"+h.zT(a)+"="+h.zT(b||"");});na(d);}else na("type=startplay&sev=info&outcome=abort");}function K(){var a,b;a=N.shift();if(0<a){b=h.Pl(a-(l.Tg()-W),0);da=setTimeout(function(){u("type=startstall&sev=info&kt="+a);K();},b);}}function J(){na("type=startplay&sev=info&outcome=unload");}function t(){var a,b,c;try{b=""+l.JM();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(xa){a="ex: "+xa;}return a;}function u(b){b=ja+"&soffms="+a.fga()+"&"+b;a.sd&&Object.keys(a.sd).length&&(b+="&"+n.OH(f.xb({},a.sd,{prefix:"sm_"})));k.JVa("playback",b,ma);}ma=g.$.get(F.iz).host+m.config.loa;if(m.config.KVa&&ma&&m.config.LVa.playback){N=m.config.tJb.slice();ja="xid="+a.ia+"&pbi="+a.index+"&uiLabel="+(a.ke||"");a.state.addListener(b);a.addEventListener(I.V.Tn,d);a.addEventListener(I.V.Af,x);r.He.addListener(r.wl,J,q.Pz);na=function(b){var c;na=q.Ye;c=g.$.get(E.Kf);b+="&initstart="+c.startTime+"&initend="+c.endTime;u(b);clearTimeout(da);a.removeEventListener(I.V.Tn,d);a.removeEventListener(I.V.Af,x);r.He.removeListener(r.wl,J);};}});},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});d=a(79);c=a(12);k=a(6);d.Kz(function(a,b){var d,n,l,f;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.QJb);n=d[b.ke];if(c.config.RJb&&n){l={};f=k.zg(a,"MediaStreamFilter");return{BG:"uiLabel",Hs:function(a){if(a.lower&&a.height>n)return l[a.height]||(l[a.height]=!0,f.warn("Restricting resolution due to uiLabel",{MaxHeight:n,streamHeight:a.height}),b.xn.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(d,b,a){var k;function c(a,b,c,d){this.j=a;this.Im=b;this.ka=c;this.xc=d;this.log=this.ka.ub("KeyStatusStreamFilter",this.j);this.A_=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Kta=void 0;k=a(482);c.prototype.Hs=function(a){this.aIb();if(a.lower&&1080<a.height&&!this.A_)return this.log.trace("stream restricted",{height:a.height,bitrate:a.R}),!0;this.log.debug("stream allowed",{height:a.height,bitrate:a.R});return!1;};c.prototype.lhb=function(){var a,b,c;b={};c=null===(a=this.Im.qg.value)||void 0===a?void 0:a.fI;null===c||void 0===c?void 0:c.forEach(function(a){b[a.fs]=a.FSa.height;});this.log.trace("KeyStatusMap",b);return b;};c.prototype.Axb=function(a){var b;b=this.Mtb[this.xc.encode(a.fs)];if(1080<b)switch(a.value){case k.eo.Ioa:this.A_=!0;break;case k.eo.CUa:this.A_=!1;break;default:this.A_=!1,this.log.error("Restricting resolution due to keyStatus",{keyHeight:b,keyStatus:a.value}),this.Im.xn.set({reason:"keyStatus",height:b});}this.log.trace("keyStatus change",{keyHeight:b,keyStatus:a.value});};c.prototype.aIb=function(){var a,b,c;a=this;b=this.Im.Bf;c=b&&b.Zha;!this.ttb&&c&&(this.ttb=!0,this.Mtb=this.lhb(),b.Zha().subscribe(function(b){return a.Axb(b);}));};qa.Object.defineProperties(c.prototype,{BG:{configurable:!0,enumerable:!0,get:function(){return"keyStatus";}}});b.Kta=c;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});d=a(79);c=a(12);k=a(6);m=a(542);r=a(479);d.Kz(function(a,b){if(c.config.Ltb)return new m.Kta(a,b,k.kf,new r.b4());});},function(d,b,a){var k,m,r,q;function c(a){var c,h;function b(f){f=f.Gdb;a.removeEventListener(r.V.Mja,b);try{m.lMa(f.data[0])&&(h=!0,a.wGb());c.trace("RA check",{HasRA:h});}catch(F){c.error("RA check exception",F);}}if(k.$.get(q.Si).kDb){c=k.zg(a,"RAF");a.addEventListener(r.V.Mja,b);return{BG:"ra",Hs:function(a){if(!h&&a.$u)return a=a.bg,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}}Object.defineProperty(b,"__esModule",{value:!0});b.t2a=void 0;d=a(79);k=a(6);m=a(279);r=a(13);q=a(32);d.Kz(c);b.t2a=c;},function(d,b,a){var k,m;function c(a,b){var c,d;c=m.zg(a,"MSS");if(k.config.Iwb)return{BG:"mss",Hs:function(a){var f,l;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===d){try{l=M.MSMediaKeys;d=l&&l.isTypeSupportedWithFeatures?"probably"===l.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(F){c.error("hasUltraHdDisplay exception");d=!0;}d||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.xn.set({reason:"microsoftScreenSize",height:a.height}));}return!d;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.s2a=void 0;d=a(79);k=a(12);m=a(6);d.Kz(c);b.s2a=c;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(79).Kz(function(){return{BG:"op",Hs:function(){}};});},function(d,b,a){var k,m,r,q,n,l,f,h,g;function c(a,b){var x,F,I,p,t,S,A,u,ma,da,W;function c(){var c;c=a.Ob.value===h.kb.Pc&&a.state.value===h.ob.vd&&a.G===b.G;W?c||(clearInterval(W),S=W=void 0):c&&(W=M.setInterval(d,1E3));}function d(){var b,c,f,h,d,l;b=a.mf.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){c=q.Tg();f=a.fj.DB();if(f){if(S&&2E3>c-S.time&&b===S.height){h=f-S.Pjb;d=F[b];d||(F[b]=d=[],b>u&&(t.push(b),r.WR(t)));0<h&&!(da&&da<b)&&(da=b);d.push(h);d.length>A&&d.shift();(d=p[b])||(p[b]=d={});l=d[h];d[h]=l?l+1:1;}S={time:c,Pjb:f,height:b};a.l1&&a.l1.SFb(F);}}}x=n.zg(a,"DFF");F={};I=k.config.Tjb;p={};t=[];A=k.config.Rjb;u=k.config.Sjb;ma=m.nua;if(k.config.Qjb)return b.Nda={fnb:function(){var a;a={};p&&t.forEach(function(b){var c,f,h;c=p[b];if(c){f=0;h=0;g.zd(c,function(a,b){h+=l.Md(a);f+=b;});a[b]=h/f;}});return a;},YN:function(a){var b;b={};a.forEach(function(a){b[a]={};});p&&(r.WR(a),t.forEach(function(c){var h,d,l,n;h=p[c];if(h){d=0;l=0;g.zd(h,function(a,b){d+=b;});n=Object.keys(h).map(Number);r.WR(n);for(var k=n.length-1,m=n[k],q=a.length-1;0<=q;q--){for(var x=a[q];m>=x&&0<=k;)(m=h[m])&&(l+=m),m=n[--k];b[x][c]=f.Eh(l/d*100);}}}));return b;}},a.state.addListener(c),a.Ob.addListener(c),a.addEventListener(h.V.Zo,c),{BG:"df",Hs:function(a){var c,h,d,l;if(a.lower&&a.height>u){a=a.height;a:{if(da){c=t.length;for(var f=0;f<c;f++){h=t[f];if(h>=da&&h<ma){d=F[h];if(l=d)b:{l=I.length;for(var n=d.length,k=0;k<l;k++)for(var m=I[k],q=m[0],m=m[1],r=0;r<n;r++)if(d[r]>=m&&0>=--q){l=!0;break b;}l=!1;}if(l&&ma!=h){x.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:h});b.xn.set({reason:"droppedFrames",height:h});c=ma=h;break a;}}}da=void 0;}c=ma;}a=a>=c;}else a=!1;return a;}};}Object.defineProperty(b,"__esModule",{value:!0});b.r2a=void 0;d=a(79);k=a(12);m=a(9);r=a(43);q=a(39);n=a(6);l=a(22);f=a(10);h=a(13);g=a(21);d.Kz(c);b.r2a=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,E,p,K;Object.defineProperty(b,"__esModule",{value:!0});c=a(153);k=a(9);m=a(12);r=a(57);q=a(39);d=a(2);n=a(6);l=a(67);f=a(10);h=a(59);g=a(15);F=a(47);I=a(61);a=a(26);K=n.$.get(a.Kf);K.register(d.K.eta,function(a){var d;function b(){var a,b,h,l;a=K.startTime;b={browserua:f.Ql,browserhref:f.AT.href,initstart:a,initdelay:K.endTime-a};(a=f.ne.documentMode)&&(b.browserdm=""+a);"undefined"!==typeof M.nrdp&&M.nrdp.device&&(b.firmware_version=M.nrdp.device.firmwareVersion);g.cv(m.config.QHa)&&(b.fesn=m.config.QHa);Object.assign(b,c.iga());h=f.br&&f.br.timing;h&&m.config.fvb.map(function(a){var c;c=h[a];c&&(b["pt_"+a]=c-q.ZEa());});l=d.KJa();Object.keys(l).forEach(function(a){return b["m_"+a]=l[a];});a=p.An("startup","info",b,r.nE.Oea);E.Ac(a);}p=n.$.get(I.fo);E=n.$.get(F.fk);d=n.$.get(l.Kw);K.NO(function(){E.Ab();h.pc(b);});a(k.wd);});},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,E,p,K,D,t,Q,V;Object.defineProperty(b,"__esModule",{value:!0});c=a(196);k=a(146);m=a(12);r=a(9);q=a(2);n=a(17);l=a(6);f=a(67);h=a(52);g=a(69);F=a(21);I=a(10);E=a(15);p=a(43);K=a(95);D=a(3);d=a(26);t=a(362);Q={};V=l.$.get(d.Kf);V.register(q.K.gta,function(a){var J,T,S,u,na,oa,za,O,xa,ga,ya,Da,la,Fa;function b(b){b&&b.userList&&m.config.OGb&&(b.userList=[]);u({esn:k.Ih.Jh,esnPrefix:k.Ih.Px,authenticationType:m.config.kM,authenticationKeyNames:m.config.NDa,systemKeyWrapFormat:m.config.zIb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:la,storeState:b,notifyMilestone:V.jd.bind(V),log:za,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:q.J.m2a,MSL_READ_TIMEOUT:q.J.l2a}},{result:function(a){d(a);},timeout:function(){a({ga:q.J.yua});},error:function(b){a(x(q.J.yua,void 0,b));}});}function d(b){var f,h,d;function c(){Da&&l.$.get(g.Qq).create().then(function(a){return a.save(ga,h,!1);})["catch"](function(a){za.error("Error persisting msl store",q.Dp(a));});}f=l.$.get(K.$z)(D.Gb(100));d=na.extend({init:function(a){this.kBa=a;},getResponse:function(a,b,c){var f,h;b=this.kBa;f=b.IOa.Te||f;a=E.Qha(a.body)?l.Moa(a.body):a.body;n.bG(a,"Msl should not be sending empty request");a={url:b.url,$ka:a,withCredentials:!0,kB:"nq-"+b.method,headers:b.headers};b=this.kBa.timeout;a.aX=b;a.Vja=b;h=f.download(a,function(a){try{if(a.da)c.result({body:a.content});else if(400===a.$i&&a.sb)c.result({body:a.sb});else throw F.xb(new oa("HTTP error, SubCode: "+a.ga+(a.$i?", HttpCode: "+a.$i:"")),{cadmiumResponse:a});}catch(Mb){c.error(Mb);}});return{abort:function(){h.abort();}};}});xa&&b.addEventHandler("shouldpersist",function(a){h=a.storeState;f.Lc(c);});F.xb(Q,{qWb:function(){ya=!0;},send:function(a){function c(){var b,c;b=a.IOa;c={method:a.method,nonReplayable:a.Gxb,encrypted:a.Lj,userId:a.cLb,body:a.body,timeout:2*a.timeout,url:new d(a),allowTokenRefresh:Da,sendUserAuthIfRequired:Fa,shouldSendUserAuthData:m.config.TGb};b.cHa?(c.email=b.cHa,c.password=b.password||""):b.nJb?(c.token=b.nJb,c.mechanism=b.eXb,b.Nja&&(c.netflixId=b.Nja,c.secureNetflixId=b.REb),b.ola&&(c.profileGuid=b.ola)):b.Nja?(c.netflixId=b.Nja,c.secureNetflixId=b.REb):b.gwb?(c.mdxControllerToken=b.gwb,c.mdxPin=b.cXb,c.mdxNonce=b.bXb,c.mdxEncryptedPinB64=b.aXb,c.mdxSignature=b.dXb):ya||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.ola&&(c.profileGuid=b.ola);return c;}return new Promise(function(a,f){var h;h=c();b.send(h).then(function(b){ya&&(ya=!1);a({da:!0,body:b.body});})["catch"](function(a){var c,h;if(a.error){c=a.error.cadmiumResponse&&a.error.cadmiumResponse.ga?a.error.cadmiumResponse.ga:b.isErrorReauth(a.error)?q.J.xua:b.isErrorHeader(a.error)?q.J.f2a:q.J.e2a;h=b.getErrorCode(a.error);f(x(c,h,a.error));}else za.error("Unknown MSL error",a),a.ed=a.subCode,f({ga:a.ed?a.ed:q.J.n2a});});});},z0:b});a(r.wd);l.$.get(t.sT).oxb(Q);}function x(a,b,c){var f,h,d,l;l={ga:a,vG:b};if(c){f=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(d=c.cadmiumResponse){if(h=d.se&&d.se.toString())d.se=h;d.ga=a;d.vG=b;d.sb=f(c.message);d.error={ed:a,sh:h,rs:b,data:c.cause,message:c.message};return d;}f=f(c.errorMessage);h=F.Md(c.internalCode)||F.Md(c.error&&c.error.internalCode);d=void 0!==c.Xkb?p.ika(c.Xkb):void 0;}f&&(l.sb=f);h&&(l.se=h);l.error={ed:a,sh:h.toString(),rs:b,data:d,message:f};return l;}n.lb(m.config);J=l.$.get(f.Kw);T=h.Pd.bi;if(I.Ew&&I.Ex&&I.Ex.unwrapKey){try{S=M.netflix.msl;u=S.createMslClient;na=S.IHttpLocation;oa=S.MslIoException;}catch(db){a({ga:q.J.g2a});return;}za=l.uh("Msl");O=m.config.kxb;xa=m.config.mxb;ga=m.config.Pr?"mslstoretest":"mslstore";S=c.dD.BTa;ya=m.config.Vrb;Da=!S||S.da;la=l.Op(m.config.Pr?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Fa=!!m.config.Qma;l.$.get(g.Qq).create().then(function(c){O?c.remove(ga).then(function(){b();})["catch"](function(a){za.error("Unable to delete MSL store",q.Dp(a));b();}):xa?c.load(ga).then(function(a){J.mark(T.i2a);b(a.value);})["catch"](function(f){f.ga==q.J.Hw?(J.mark(T.k2a),b()):(za.error("Error loading msl store",q.Dp(f)),J.mark(T.j2a),c.remove(ga).then(function(){b();})["catch"](function(b){a(b);}));}):b();})["catch"](function(b){za.error("Error creating app storage while loading msl store",q.Dp(b));a(b);});}else a({ga:q.J.h2a});});},function(d,b,a){var r,q,n,l;function c(a,b,c,d){var f,h,g;r.lb(l.Ue(a)&&!l.isArray(a));d=d||"";f="";h=a.hasOwnProperty(n.Ki)&&a[n.Ki];h&&q.zd(h,function(a,b){f&&(f+=" ");f+=a+'="'+m(b)+'"';});c=(b?b+":":"")+c;h=d+"<"+c+(f?" "+f:"");g=a.hasOwnProperty(n.zp)&&a[n.zp].trim&&""!==a[n.zp].trim()&&a[n.zp];if(g)return h+">"+m(g)+"</"+c+">";a=k(a,b,d+"  ");return h+(a?">\n"+a+"\n"+d+"</"+c+">":"/>");}function k(a,b,d){var f;r.lb(l.Ue(a)&&!l.isArray(a));d=d||"";f="";q.zd(a,function(a,h){var r;if("$"!=a[0])for(var n=q.TO(h),k=0;k<n.length;k++)if(h=n[k],f&&(f+="\n"),l.Ue(h))f+=c(h,b,a,d);else{r=(b?b+":":"")+a;f+=d+"<"+r+">"+m(h)+"</"+r+">";}});return f;}function m(a){if(l.Ie(a))return q.jO(a);if(l.ma(a))return r.fN(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";r.lb(!1,"Invalid xml value.");return"";}Object.defineProperty(b,"__esModule",{value:!0});b.lJb=b.Htb=b.Gtb=void 0;r=a(17);q=a(21);n=a(123);l=a(15);b.Gtb=c;b.Htb=k;b.lJb=m;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});d=a(2);c=a(6);k=a(330);a=a(26);c.$.get(a.Kf).register(d.K.dta,function(a){c.$.get(k.X4)().then(function(){a({da:!0});})["catch"](function(b){c.log.error("error in initializing indexedDb debug tool",b);a({da:!0});});});},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);k=a(9);m=a(12);r=a(2);q=a(511);n=a(32);l=a(10);f=a(6);d=a(26);h=f.$.get(d.Kf);h.register(r.K.pta,function(a){l.Ex&&l.Ex.generateKey&&l.Ex.importKey&&l.Ex.unwrapKey?!f.$.get(n.Fp).NZa&&m.config.kM!=q.uJ.H3a&&m.config.kM!=q.uJ.X1a||l.yT?(h.jd("wcs"),c.NPa(l.Ex.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){h.jd("wcdone");a(k.wd);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=r.J.l9:0<=b.indexOf("timeout waiting for iframe to load")&&(c=r.J.f5a);a({ga:c,sb:b});})):a({ga:r.J.e5a}):a({ga:r.J.l9});});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(12);a(9);d=a(6);a(94);a(200);a(2);a(95);a(3);a=a(26);d.$.get(a.Kf);},function(d,b,a){var l,f,h,g,F;function c(a){var c,l;f.bG(a);if(h.Ie(a)&&b.tta.test(a)){c=a.split(".");if(4===c.length){for(var d=0;d<c.length;d++){l=h.Md(c[d]);if(0>l||!F.bv(l,0,255)||1!==c[d].length&&0===c[d].indexOf("0"))return;}return a;}}}function k(a){var b;b=0;if(c(a)===a)return a=a.split("."),b+=h.Md(a[0])<<24,b+=h.Md(a[1])<<16,b+=h.Md(a[2])<<8,b+h.Md(a[3]);}function m(a){var c;f.bG(a);if(h.Ie(a)&&a.match(b.uta)){c=a.split(":");-1!==c[c.length-1].indexOf(".")&&(a=r(c[c.length-1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==c.length)&&(c=1<a.length?q(a):c,a=c.length,8===a)){for(;a--;)if(!F.bv(parseInt(c[a],16),0,l.oua))return;return c.join(":");}}}function r(a){var b;a=k(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function q(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function n(a){return-1<<32-a;}Object.defineProperty(b,"__esModule",{value:!0});b.x1a=b.C1a=b.z1a=b.y1a=b.B1a=b.w1a=b.A1a=b.Cz=b.uta=b.tta=void 0;l=a(9);f=a(17);h=a(22);g=a(10);F=a(15);b.tta=/^[0-9.]*$/;b.uta=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.Cz="0000000000000000";b.A1a=c;b.w1a=k;b.B1a=m;b.y1a=r;b.z1a=q;b.C1a=function(a,f,h){var d,l,q,r;d=c(a);l=m(a);q=c(f);r=m(f);if(!d&&!l||!q&&!r||d&&!q||l&&!r)return!1;if(a===d)return h=n(h),(k(a)&h)!==(k(f)&h)?!1:!0;if(a===l){a=a.split(":");f=f.split(":");for(d=g.jt(h/b.Cz.length);d--;)if(a[d]!==f[d])return!1;h%=b.Cz.length;if(0!==h)for(a=parseInt(a[d],16).toString(2),f=parseInt(f[d],16).toString(2),a=b.Cz.substring(0,b.Cz.length-a.length)+a,f=b.Cz.substring(0,b.Cz.length-f.length)+f,d=0;d<h;d++)if(a[d]!==f[d])return!1;return!0;}return!1;};b.x1a=n;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(6);b=a(94);a=a(200);d.$.get(b.Gz).L1(a.w6.gZa,function(a){var b,c;b=a.level;if(!M._cad_global.config||b<=M._cad_global.config.jvb){a=a.d3();c=M.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.fLb=b.J4a=b.H4a=b.G4a=b.I4a=void 0;c=a(22);k=a(10);b.I4a=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};b.G4a=function(a,b,d){d=c.Ie(d)?d:"...";return a.length<=b?a:a.substr(0,a.length-(a.length+d.length-b))+d;};b.H4a=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=k.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};b.J4a=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};b.fLb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(d){function b(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function c(a,b){return a+b;}d.P={Aeb:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d]!==b[d])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},Pca:function(a,b,c){var d;d={};d.displayTime=a.Kj;d.duration=a.duration;d.originX=a.Y0;d.originY=a.Z0;d.sizeX=a.F2;d.sizeY=a.G2;d.imageData=b;d.id=a.cs;d.rootContainerExtentX=c.a2;d.rootContainerExtentY=c.b2;return d;},Tnb:function(a,b){return"o_"+a+"s_"+b;},RWa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},$b:function(a){return"undefined"!==typeof a;},OEb:function(a,b){return a.some(function(a){return a.id===b;});},Wjb:function(d,m){return d.filter(b.bind(null,m)).map(a).reduce(c,0);},UN:function(a,b){var c,d;c=Object.create({});for(d in a)c[d]=a[d];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},vl:function(){return this.buffer.length-this.position;},nf:function(){return this.buffer[this.position++];},xe:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Bc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Bs:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Bla:function(){for(var a="",b;b=this.nf();)a+=String.fromCharCode(b);return a;},Pb:function(){return this.Bc(2);},Ra:function(){return this.Bc(4);},Dg:function(){return this.Bc(8);},F1:function(){return this.Bc(2)/256;},cQ:function(){return this.Bc(4)/65536;},Hf:function(a){for(var b,d="";a--;)b=this.nf(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},Ky:function(){return this.Hf(4)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(6);},dQ:function(a){for(var b=0,d=0;d<a;d++)b+=this.nf()<<(d<<3);return b;},IC:function(){return this.dQ(4);},Woa:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);}};d.P=b;},function(d,b,a){var V,S,A,u,ma,da;function c(a){V.call(this);this.Gnb=l;this.kl=a.url;this.GL=a.request;this.CV=a.Vc||0;this.jV=a.Mh;this.Eb=a.ka;this.pk=this.gi=null;this.YK={};this.Sw=0;this.qL=a.bufferSize||4194304;this.N$={};this.wCa=a.version||1;a.key&&(this.dAa=a.crypto,this.mA=this.dAa.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.uq?this.gi=a.uq:(this.Qd=a.offset,this.lF=a.size);}function k(){}function m(){}function r(a,b){var c,f,h,d,l,n,m,r;if(a)this.emit(ma.ERROR,u.UN(a,da.Y1a));else try{if(2===this.wCa){f=new k();h=A.zla(b)[0];d=h.Vx("636F6D2E-6E65-7466-6C69-782E68696E66");l=h.Vx("636F6D2E-6E65-7466-6C69-782E6D696478");f.YZ=d.DF;f.Hh=d.Hh;f.Ik=d.Ik;f.G=d.G;f.a2=d.a2;f.b2=d.b2;f.language=d.Ttb;f.IIb=d.hIb;f.startOffset=l.cFb;n=[];m=0;for(a=0;a<l.Wa.length;a++){r=l.Wa[a];b={};b.duration=r.duration;b.size=r.size;n.push(b);m+=b.duration;}f.entries=n;f.endTime=m;c=f;}else{n=new S(b);m=new k();m.identifier=n.Bs(4);u.assert("midx"===m.identifier);m.version=n.Bc(4);u.assert(0===m.version);m.YZ=n.xe(36);m.Hh=n.Dg();m.Ik=n.Dg();m.G=n.Dg();m.a2=n.Pb();m.b2=n.Pb();m.language=n.xe(16);m.IIb=n.xe(16);m.startOffset=n.Dg();m.Dn=n.Pb();f=[];for(r=l=0;r<m.Dn;r++)a={},a.duration=n.Bc(4),a.size=n.Pb(),f.push(a),l+=a.duration;m.entries=f;m.endTime=l;c=m;}this.gi=c;q.call(this);}catch(Da){this.emit(ma.ERROR,u.UN(Da,da.Z1a));}}function q(){var a,b;a=this.gi;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.kl,offset:b,size:a},this.emit(ma.$1a,this.gi),this.GL(b,n.bind(this))):this.emit(ma.ERROR,u.UN({},da.A2a));}function n(a,b){var c,h,d,l;c=this;if(a)c.emit(ma.ERROR,u.UN(a,da.j4a));else{h=0;d=[];l=0;try{c.gi.entries.forEach(function(a){var f,n,k,q,r,x,F;n=h;k=c.gi.YZ;q=c.Eb;if(2===c.wCa){f=new m();r=A.zla(b);f.entries=[];f.images=[];for(var g=0;g<r.length;g++)for(k=r[g],n=k.Vx("636F6D2E-6E65-7466-6C69-782E73696478"),k=k.Vx("636F6D2E-6E65-7466-6C69-782E73656E63"),q=0;q<n.mp.length;q++){x={};F=n.mp[q];x.Kj=F.Kj;x.duration=F.duration;x.Y0=F.Y0;x.Z0=F.Z0;x.F2=F.F2;x.G2=F.G2;x.cs=F.cs;x.YG=F.YG;if(F=k&&k.mp[q])x.aY={hH:F.hH.slice(0),mode:F.rHa};f.entries.push(x);}}else{f=new S(b);r=new m();g=0;f.position=n;r.identifier=f.Bs(4);u.assert("sidx"===r.identifier);r.YZ=f.xe(36);u.Aeb(r.YZ,k,q);r.duration=f.Bc(4);r.Dn=f.Pb();r.entries=[];for(r.images=[];g<r.Dn;)n={},n.Kj=f.Bc(4),n.duration=f.Bc(4),n.Y0=f.Pb(),n.Z0=f.Pb(),n.F2=f.Pb(),n.G2=f.Pb(),n.cs=f.Dg(),n.YG=f.Bc(4),g++,r.entries.push(n);f=r;}d.push(f);a.lna=f;f.xla=l;f.$P=l+a.duration;l=f.$P;r=f.entries;r.length&&(f.startTime=r[0].Kj,f.endTime=r[r.length-1].Kj+r[r.length-1].duration);h+=a.size;});}catch(O){c.emit(ma.ERROR,u.UN(O,da.k4a));return;}c.pk=d;c.emit(ma.l4a,this.pk);a=f.call(c,c.CV,2);a.length?I.call(c,a,c.CV,function(a){a&&c.Eb.error("initial sidx download failed");c.emit(ma.oxa);}):c.emit(ma.oxa);}}function l(a){var b,c,h,d,l;b=f.call(this,a,2);c=(c=this.gi)?c.endTime:void 0;if(a>c)return[];h=this.YK.Is;d=this.YK.index;c=[];d=u.$b(d)&&this.pk[d+1];if(!(d&&d.entries.length||h&&!(a>h.endTime)))return[];b.length&&I.call(this,b,a);h&&h.images.length&&(c=g(h,a,[],this.gi));d&&d.images.length&&(b=g(d,a,c,this.gi),c.push.apply(c,b));b=F(c);if(this.pk&&0!=this.pk.length){c=this.pk[Math.floor(a/6E4)];if(!(c.xla<=a&&a<=c.$P))a:{c=this.pk.length;if(!this.Wkb){this.Wkb=!0;b:{try{l=String.fromCharCode.apply(String,this.gi.language);break b;}catch(O){}l="";}this.Eb.error("bruteforce search for ",{movieId:this.gi.G,packageId:this.gi.Ik,lang:l});}for(l=0;l<c;l++)if(h=this.pk[l],h.xla<=a&&a<=h.$P){c=h;break a;}c=void 0;}l=c;}else l=void 0;if(c=l&&0<l.entries.length&&0===l.images.length)a:{c=l.entries.length;for(d=0;d<c;d++)if(h=l.entries[d],h.Kj<=a&&h.Kj+h.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function f(a,b){var c,l;c=[];if(a=h.call(this,a))this.YK=a;else return this.YK={},c;for(var f=0,d=this.pk?this.pk.length:0;f<b&&a.index+f<d;){l=this.pk[a.index+f];l&&!l.images.length&&c.push(l);f++;}return c;}function h(a){var b,c,f,h,d,l,n;c=this.YK;f=c.Is;h=c.index;d=this.pk;this.wk(u.$b(a));f&&(0===h&&a<=f.startTime?(n=!0,b=c):a>=f.startTime&&a<=f.endTime?(n=!0,b=c):(l=d[h-1],d=d[h+1],l&&a>l.endTime&&a<=f.startTime?(n=!0,b=c):d&&a>=f.endTime&&a<=d.endTime&&(n=!0,b={Is:d,index:h+1})));if(!n)for(c=this.gi.entries,f=c.length,h=0;h<f;h++)if(l=c[h].lna,a<=l.startTime||a>l.startTime&&a<=l.endTime){b={Is:c[h].lna,index:h};break;}return b;}function g(a,b,c,f){var h,d,l,n,k,m;h=a.entries;d=h.length;l=[];k=0;if(!h.length)return l;for(;k<d;){n=h[k];if(n.Kj<=b)n.Kj+n.duration>=b&&l.push(u.Pca(n,a.images[k].data,f));else{m=l.length&&l[l.length-1]||c.length&&c[c.length-1];if(m&&m.Kj>b&&m.Kj!==n.Kj)break;m.cs!==n.cs&&l.push(u.Pca(n,a.images[k].data,f));}k++;}return l;}function F(a){return a.map(function(b,c){b.duration+=u.Wjb(a.slice(c+1),b);return b;}).reduce(function(a,b){u.OEb(a,b.id)||a.push(b);return a;},[]);}function I(a,b,c){var f,h,d,l,n,k;f=this;h=a[0];d=a[a.length-1];0<h.entries.length&&(l=h.entries[0].cs,n=h.entries[h.entries.length-1]);0<d.entries.length&&(u.$b(l)||(l=d.entries[0].cs),n=d.entries[d.entries.length-1]);if(l){h=n.cs+n.YG-l;k=u.Tnb(l,h);f.N$[k]||(f.N$[k]=!0,p.call(f,a,b),f.GL({url:f.kl,offset:l,size:h},function(b,h){var d,n,m,q;setTimeout(function(){delete f.N$[k];},1E3);if(b)c&&c(b);else{d=new S(h);n=0;q=[];a.forEach(function(a){a.entries.forEach(function(b,c){var h,k;d.position=b.cs-l;h={data:d.xe(b.YG)};k=b.aY;k&&(h.hH=k.hH,h.rHa=k.mode,m=!0,q.push(h));a.images[c]=h;!b.aY&&u.RWa(a.images[c].data,f.wk.bind(f));n+=a.images[c].data.length;});});f.Sw+=n;m?f.mA.then(function(a){return Q.call(f,q,a);}).then(function(){c&&c(null);})["catch"](function(a){f.Eb.error("decrypterror",a);c&&c({da:!1});}):c&&c(null);}}));}else c&&c(null);}function p(a,b){var l,n,k,m,q,r;function c(){return{pts:b,hasEnoughSpace:l.Sw+n<=l.qL,required:n,currentSize:l.Sw,max:l.qL,currentIndex:h.call(l,b).index,sidxWithImages:K.call(l),newSidxes:a.map(function(a){return l.pk.indexOf(a);})};}function f(a,b){l.jV&&!a&&l.Eb.info("not done in iteration",b);}function d(a){var b,c,f;b=l.pk[a];c=b.images&&b.images.length;if(0<c){f=J([b]);b.images=[];l.Sw-=f;l.jV&&l.Eb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(l.Sw+n<=l.qL)return!0;}}l=this;n=J(a);l.Eb.info("make space start:",c());if(!(l.Sw+n<=l.qL)){k=h.call(l,b).index;m=!1;q=0;r=l.pk.length-1;if(0>k){l.Eb.error("inconsistent sidx index");return;}for(;!m&&q<k-2;)m=d(q),q++;for(f(m,1);!m&&r>k+2;)m=d(r),r--;for(f(m,2);!m&&q<k;)m=d(q),q++;for(f(m,3);!m&&r>k;)m=d(r),r--;f(m,4);m||l.Eb.error("could not make enough space",{maxBuffer:this.qL});}l.Eb.info("make space end",c());}function J(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.YG+a;},0);},0);}function K(){var a;a=[];this.gi&&this.gi.entries&&this.gi.entries.reduce(function(b,c,f){var h;c=c.lna;h=0;c&&c.images.length&&(a.push(f),h=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+h;},0);return a.join(", ");}function D(a,b){return a&&a.xla<=b&&a.$P>=b;}function t(a,b){var c,f,h,d,l,n;c=this;f=c.gi;h=c.pk;d=h&&h.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&h){if(0===d)return[];f=h[0].duration;if(u.$b(f)&&0<f)f=Math.floor(a/f),l=f<d&&D(h[f],a)?h[f]:void 0;else for(c.jV&&c.Eb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<d;f++){n=h[f];if(D(n,a)){l=n;break;}}if(u.$b(l)){l=[];for(var k=function(c){var f;f=c.Kj<=a&&a<=c.Kj+c.duration;return a<=c.Kj&&c.Kj<=b||f;};f<d;){n=h[f];l=l.concat(n.entries.filter(k));if(b<n.$P)break;f++;}l=l.map(function(a){return u.Pca(a,null,c.gi);});return F(l);}}}function Q(a,b){var f,h;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.hH);return c.dAa.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));u.RWa(a.data,c.wk.bind(c));});}f=this;try{h=[];a.forEach(function(a){a.hH&&(a=c.call(f,a,b),h.push(a));});return(void 0).all(h);}catch(za){return f.Eb.error("decrypterror",za),(void 0).reject(za);}}V=a(130).EventEmitter;S=a(559);A=a(323);u=a(558);ma=c.events={$1a:"midxready",l4a:"sidxready",oxa:"ready",ERROR:"error"};da=c.rVb={Y1a:"midxdownloaderror",Z1a:"midxparseerror",A2a:"nosidxfoundinmidx",j4a:"sidxdownloaderror",k4a:"sidxparseerror"};c.prototype=Object.create(V.prototype);c.prototype.constructor=c;c.prototype.start=function(){var a;if(this.gi)this.Eb.warn("midx was prefectched and provided"),q.call(this);else{a={url:this.kl,offset:this.Qd,size:this.lF,responseType:"binary"};this.Eb.warn("downloading midx...");this.GL(a,r.bind(this));}};c.prototype.close=function(){};c.prototype.wk=function(a){this.jV&&u.assert(a,this.Eb);};c.prototype.Zx=function(a,b){return t.call(this,a,b);};c.prototype.rga=function(a,b){return(a=this.Zx(a,b))?a.length:a;};d.P=c;},function(d,b,a){var m;function c(a,b){return b.reduce(k.bind(this,a),[]);}function k(a,b,c){var d,f;d=c.displayTime-a;a=c.displayTime+c.duration-a;f=0<b.length?b[0].timeout:Infinity;return 0<d&&d<f?[{timeout:d,type:"showsubtitle",re:c}]:d===f?b.concat([{timeout:d,type:"showsubtitle",re:c}]):0<a&&a<f?[{timeout:a,type:"removesubtitle",re:c}]:a===f?b.concat([{timeout:a,type:"removesubtitle",re:c}]):b;}m=a(130).EventEmitter;b=a(280)({});a=function q(a,b,c){if(!(this instanceof q))return new q(a,b,c);m.call(this);this.It=a;this.X6a=b;this.Ut={};this.mF={};this.Eb=c||console;this.FU=!1;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.jl);Object.keys(a.Ut).forEach(function(b){a.emit("removesubtitle",a.Ut[b]);});a.Ut={};};a.prototype.pause=function(){clearTimeout(this.jl);};a.prototype.Mq=function(a,b){var d,f;d=this;f=d.It();clearTimeout(this.jl);a=d.X6a(f);null!==a&&d.FU&&(d.FU=!1,d.emit("bufferingComplete"));b="number"===typeof b?b:0;Object.keys(d.Ut).forEach(function(a){a=d.Ut[a];a.displayTime<=f&&f<a.displayTime+a.duration||(delete d.Ut[a.id],d.emit("removesubtitle",a));});Object.keys(d.mF).forEach(function(a){a=d.mF[a];f>=a.displayTime+a.duration&&delete d.mF[a.id];});null!==a&&0<a.length?(b=a.length,d.Eb.info("found "+b+" entries for pts "+f),a.forEach(function(a){a.displayTime<=f&&f<a.displayTime+a.duration&&!d.Ut[a.id]&&(d.emit("showsubtitle",a),d.Ut[a.id]=a,delete d.mF[a.id]);}),b=a[a.length-1],d.Ut[b.id]||d.mF[b.id]||(d.emit("stagesubtitle",b),d.mF[b.id]=b),b=c(f,a),0<b.length?d.KV(b[0].timeout):d.KV(2E4)):null===a?(a=250*Math.pow(2,b),2E3<a&&(a=2E3),d.Eb.warn("checking buffer again in "+a+"ms"),d.FU||(d.FU=!0,d.emit("underflow")),d.KV(a,b+1)):d.KV(2E4);};a.prototype.KV=function(a,b){var c;c=this;c.Eb.trace("Scheduling pts check.");c.jl=setTimeout(function(){c.Mq(c.It(),b);},a);};d.P=b(["function","function","object"],a);},function(d,b,a){var q,n,l;function c(a){var b;b=1;"dfxp-ls-sdh"===this.BV&&(b=a.YTb.length);this.Eb.info("show subtitle called at "+this.It()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Yw[this.Yw.length-1].B2+=b;}function k(a){this.Eb.info("remove subtitle called at "+this.It()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function m(){this.Eb.info("underflow fired by the subtitle timer");this.emit("underflow");}function r(){this.Eb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}q=a(130).EventEmitter;n=a(561);b=a(280)();l=a(560);a=function h(a,b){var d,g;d=this;g=a.Mh||!1;if(!(d instanceof h))return new h(a,b);q.call(d);d.Eb=a.ka||console;d.GL=a.request;d.It=a.aKa;d.jl=null;d.Ot=!0;d.Yw=[];d.BV=b.profile;d.kl=b.url;d.CV=b.Vc;d.Y8a=b.dBb;d.q6a=b.hm;a={url:d.kl,request:d.GL,Vc:d.CV,xml:b.xml,dBb:d.Y8a,hm:d.q6a,ka:d.Eb,Mh:g,bufferSize:b.bufferSize,crypto:b.crypto,key:b.key,uq:b.uq};if("nflx-cmisc"===d.BV)a.offset=b.l0,a.size=b.yja,d.Hd=new l(a);else if("nflx-cmisc-enc"===d.BV)a.version=2,a.offset=b.l0,a.size=b.yja,d.Hd=new l(a);else throw Error("SubtitleManager: "+d.BV+" is an unsupported profile");d.Hd.on("ready",function(){var a,h;a=!!b.Sbb;d.Eb.info("ready event fired by subtitle stream");d.emit("ready");h=d.Hd.Gnb.bind(d.Hd);d.jl=new n(d.It,h,d.Eb);d.jl.on("showsubtitle",c.bind(d));d.jl.on("removesubtitle",k.bind(d));d.jl.on("underflow",m.bind(d));d.jl.on("bufferingComplete",r.bind(d));a&&(d.Eb.info("autostarting subtitles"),setTimeout(function(){d.Mq(d.It());},10));});d.Hd.on("error",d.emit.bind(d,"error"));};a.prototype=Object.create(q.prototype);a.prototype.start=function(){this.Hd.start();};a.prototype.Mq=function(a){this.Ot&&(this.Ot=!1,this.Eb.info("creating a new subtitle interval at "+a),this.Yw.push({S:a,B2:0}));null!==this.jl&&this.jl.Mq(a);};a.prototype.stop=function(){var a;this.It();this.Eb.info("stop called");this.Ot||this.pause();this.Hd.removeAllListeners(["ready"]);null!==this.jl&&this.jl.stop();a=this.Yw.reduce(function(a,b){a.dUa+=b.B2;a.$p+=b.HHa;a.xsb.push(b);return a;},{dUa:0,$p:0,xsb:[]});"object"===typeof this.Hd&&this.Hd.close();this.Eb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.It();if(this.Ot)this.Eb.warn("pause called on subtitle manager, but it was already paused!");else{this.Eb.info("pause called at "+a);this.Ot=!0;this.Eb.info("ending subtitle interval at "+a);b=this.Yw[this.Yw.length-1];b.oa=a;b.oa<b.S&&(this.Eb.warn("correcting for interval where endPts is smaller than startPts"),b.S=0<b.oa?b.oa-1:0);b.HHa=this.Hd.rga(b.S,b.oa);this.Eb.info("showed "+b.B2+" during this interval");this.Eb.info("expected "+b.HHa+" for this interval");}null!==this.jl&&this.jl.pause();};a.prototype.Zx=function(a,b){return this.Hd.Zx(a,b);};a.prototype.rga=function(a,b){return this.Hd.rga(a,b);};a=b([{request:"function",aKa:"function",ka:"object"},"object"],a);d.P=a;},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.qpa=void 0;c=a(0);k=a(1);m=a(34);r=a(37);q=a(41);n=a(29);l=a(246);d=function(){var b;function a(a,b,c,f){a=q.Yd.call(this,a,void 0===f?"AppInfoConfigImpl":f)||this;a.config=b;a.h3=c;return a;}ba(a,q.Yd);a.prototype.Zob=function(a){return""+this.uHa+(this.h3.ina(a)?"/msl_v1":"");};a.prototype.gpb=function(a){return""+this.host+(this.h3.ina(a)?"/msl":"")+"/playapi";};qa.Object.defineProperties(a.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},uHa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.uG){case m.dt.C4a:a="www.stage";break;case m.dt.Jya:a="www-qa.test";break;case m.dt.Dta:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},XDa:{configurable:!0,enumerable:!0,get:function(){return"pbo_manifests";}}});b=a;c.__decorate([r.config(r.string,"apiEndpoint")],b.prototype,"endpoint",null);c.__decorate([r.config(r.string,"nqEndpoint")],b.prototype,"uHa",null);c.__decorate([r.config(r.string,"bindService")],b.prototype,"XDa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(n.Ti)),c.__param(1,k.l(m.Yk)),c.__param(2,k.l(l.EK)),c.__param(3,k.l(n.rz)),c.__param(3,k.optional())],b);}();b.qpa=d;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.kDa=void 0;c=a(563);k=a(118);d=a(1);m=a(100);r=a(14);b.kDa=new d.Ec(function(a){a(k.iz).to(c.qpa).Y();});b.profile=new d.Ec(function(a){a(m.tK).cw(function(a){return(a=a.fb.get(r.fd)())&&a.Pr?"browsertest":"browser";});});},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.iRa=void 0;c=a(2);k=[c.K.$0a,c.K.lta,c.K.jta,c.K.kta,c.K.pta,c.K.fta,c.K.dta,c.K.U5,c.K.qta,c.K.gta,c.K.X0a,c.K.Y0a,c.K.eta,c.K.tw,c.K.ata,c.K.cta,c.K.nta,c.K.h1a,c.K.ota,c.K.a1a,c.K.c1a,c.K.g1a,c.K.e1a,c.K.d1a,c.K.b1a,c.K.f1a,c.K.mta,c.K.ita,c.K.hta,c.K.bta];(function(a){a.H2a=function(a){var f;for(var b={},d=0;d<a.length;d++){f=a[d];if(b[f.errorCode])return{errorCode:f.errorCode,ga:c.J.EXa};b[f.errorCode]=1;}};a.I2a=function(a){var d;for(var b=0;b<a.length;b++){d=a[b];if(-1===k.indexOf(d.errorCode))return{errorCode:d.errorCode,ga:c.J.FXa};}};}(m||(m={})));b.iRa=function(a){return new Promise(function(b,c){var d;d=m.I2a(a);d&&c(d);(d=m.H2a(a))&&c(d);b(a.sort(function(a,b){return k.indexOf(a.errorCode)-k.indexOf(b.errorCode);}));});};},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I,p,J;Object.defineProperty(b,"__esModule",{value:!0});b.Ppa=void 0;c=a(0);k=a(67);m=a(2);r=a(565);q=a(52);n=a(1);l=a(7);f=a(14);h=a(63);g=a(3);F=a(86);I=a(281);p=a(24);J=a(9);d=function(){var b;function a(a,b,c,f,d,h){var l;l=this;this.pj=a;this.config=c;this.Nk=f;this.debug=d;this.sa=h;this.zVa=[];this.sd={};this.log=b.ub("loadAsync");this.wvb=I.Asa(function(a){l.fDb=!0;l.startTime=l.sa.Zb().ca(g.ja);l.load(l.zVa).then(function(){l.endTime=l.sa.Zb().ca(g.ja);a(J.wd);})["catch"](function(b){l.endTime=l.sa.Zb().ca(g.ja);a(b);});});}a.prototype.NO=function(a){this.wvb(a);};a.prototype.register=function(a,b){this.debug.assert(!this.fDb);this.zVa.push({Nub:this.pdb(b),errorCode:a});};a.prototype.jd=function(a){this.debug.assert(void 0===this.sd[a]);this.sd[a]=this.sa.Zb().ca(g.ja);};a.prototype.load=function(a){var b;b=this;return r.iRa(a).then(function(a){b.pj.mark(q.Pd.bi.KXa);return a.reduce(function(a,c){return a.then(function(){return b.Jub(c);});},Promise.resolve()).then(function(){b.pj.mark(q.Pd.bi.IXa);});});};a.prototype.Jub=function(a){var b,c;b=this;c=a.Nub;return this.Nk.Em(g.Gb(this.config().ubb),c())["catch"](function(c){b.log.error("Failed to load component "+a.errorCode,c);b.pj.mark(q.Pd.bi.JXa);if(c instanceof h.bn)throw{ga:m.J.HXa,errorCode:a.errorCode};c.errorCode=c.errorCode||a.errorCode;c.ga=c.ga||m.J.GXa;throw c;});};a.prototype.pdb=function(a){return function(){return new Promise(function(b,c){a(function(a){a.da?b():c(a);});});};};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(k.Kw)),c.__param(1,n.l(l.Db)),c.__param(2,n.l(f.fd)),c.__param(3,n.l(h.Fw)),c.__param(4,n.l(F.Tq)),c.__param(5,n.l(p.We))],b);}();b.Ppa=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;d=a(1);c=a(566);k=a(26);b.DDa=new d.Ec(function(a){a(k.Kf).to(c.Ppa).Y();});},function(d,b,a){var k,m,r,q,n,l,f;function c(a,b,c,f,d,l,k,m,q,g){var h;h=n.fK.call(this,b,c,q,g)||this;h.Tj=a;h.ka=f;h.Di=d;h.sa=l;h.MAb=k;h.DN=!1;h.ila=Promise.resolve();h.zOa=m.Kca({cga:function(){return r.Gb(100);}},function(){return h.Kh().SY()||0;});return h;}Object.defineProperty(b,"__esModule",{value:!0});b.hya=void 0;k=a(13);m=a(187);r=a(3);q=a(2);n=a(282);l=a(286);f=a(112);ba(c,n.fK);c.prototype.wP=function(){this.Hy();};c.prototype.tka=function(){};c.prototype.EKa=function(a,b){var c,d,h,l;c=this.dc.Ag(a);if(this.Tj.v3&&this.dc.fa.na===c.na)return Promise.resolve(this.Kh().seek(c.qf,k.Be.st,void 0));d=this.Xk.TG(c.na);b=f.wja(d.cb,b);h=this.Kh().Xr();if(d.state!==m.ko.P4)return d=d.state===m.ko.Error?d.error:this.Di(q.K.i3a,{sb:a}),h.Aqb({na:c.na,Ma:a,Pa:b},d),h.xo("Transition "+this.dc.cg+"->"+a+" error "+d.lB),Promise.reject();c=h.Ib;if(!c)throw this.ka.debug("No streaming session. Aborting transition"),Error("No streaming session");this.ka.debug("going to next segment: "+this.dc.cg+" -> "+a);h.xo("Transition "+this.dc.cg+"->"+a);l=h.Pu(a);l.Uk=this.sa.Zb().ca(r.ja);l.Pa=b;return(void 0!==c.QY(a)?this.Bqb(a,l.G):this.uQ(a,l.G)).then(function(){h.nIa(l.G);});};c.prototype.uQ=function(a,b){var c;c=this.dc.Uj.Wa[a].qf;this.ka.debug("Segment is not pre-buffered - performing a regular seek");this.Kh().Xr().xo("NO DATA "+a+", SEEKING "+c+", viewableId: "+b);return Promise.resolve(this.Kh().seek(c,k.Be.st,a,!0));};c.prototype.Bqb=function(a,b){var c,f,d,h,l;c=this;f=this.Kh().Xr();d=f.Ib;if(!d)throw Error("No streaming session");h=new Promise(function(a){function b(){c.ka.debug("Stopped ASE");d.removeEventListener("stop",b);a();}d.addEventListener("stop",b);});l=new Promise(function(a){function b(){c.ka.debug("Repositioned");f.removeEventListener(k.V.Cm,b);a();}function h(){c.ka.debug("Repositioning");f.removeEventListener(k.V.KC,h);d.stop();}f.addEventListener(k.V.KC,h);f.addEventListener(k.V.Cm,b);});h=Promise.all([h,l]).then(function(){if(!d.vu(a,!1,!0))return f.xo("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.uQ(a,b);f.fireEvent(k.V.J0,{cg:c.dc.cg,qP:a});});l=d.SM(void 0,this.dc.Uj.Wa[a].qf,a);this.ka.debug("Calling seek on internal player to "+l);this.Kh().seek(l,k.Be.Wz,a,!0);return h;};c.prototype.PP=function(a){if(!this.DN)return this.DN=!0,n.fK.prototype.PP.call(this,a);this.Hy();this.ila=this.Kh().Xr().Ob.when(function(a){return a!==k.kb.Yf;}).then(function(){});return this.Xk.TG(a.G).wCb;};c.prototype.Hy=function(){var a,b;a=this;if(this.isReady()){this.zOa.cancel();b=this.MAb.RGb();b.result===l.jo.Nta?this.zOa.observe(b.si,function(){a.Hy();}):b.result===l.jo.q9&&this.nBb(b.aXa);}};c.prototype.nBb=function(a){var c,f,d,h,l,n,m;function b(a){a.G===l&&(c.dc.cg=f,c.Hy(),h.removeEventListener(k.V.Zo,b),c.Jb.Wb(k.Tz.yQ));}c=this;f=a.Ma;d=this.dc.Ag(f);h=this.Kh().Xr();a=Object.assign(this.Xk.TG(a.na).cb||{},{S:d.qf,oa:d.dg,dj:!1,k3:Date.now(),x_:!0});l=h.Jaa({na:d.na,Ma:f,Pa:a});n=h.km(l);this.ka.debug("Creating new playback xid: "+n.ia+", movieId: "+n.G);h.addEventListener(k.V.Zo,b);m="pauseAtStart"!==d.je;this.Xk.YFb(d.na);h.xo("queueManifest",n.Ma);this.ila=a=this.ila.then(function(){return h.fCb(l,m);}).then(function(){h.xo("queueManifest done",n.Ma);c.Xk.FTa(d.na);h.gBb(n);})["catch"](function(a){h.xo("queueManifest error "+a.lB,n.Ma);c.Xk.XFb(d.na,a);throw a;});a.then(function(){return c.Hy();});};b.hya=c;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,I;Object.defineProperty(b,"__esModule",{value:!0});b.Vwa=void 0;c=a(0);k=a(1);m=a(114);r=a(24);q=a(122);n=a(568);l=a(463);f=a(254);h=a(14);g=a(282);F=a(255);I=a(30);d=function(){var b;function a(a,b,c,f,d,h,l,n){this.sa=a;this.Di=b;this.bFb=f;this.Tj=h;this.xy=l;this.ym=n;this.$Eb=c.Ux(!1,"0.0024.489.050",a.id,n,d);}a.prototype.create=function(a,b,c,f,d){var h,l;h=this.bFb.phb(this.$Eb);l=this.Tj.u3||this.Tj.MWa&&1<Object.keys(a.Uj.Wa).length;c.debug("Using "+(l?"single":"multiple")+" player playback strategy");return l?new n.hya(this.Tj,a,b,c,this.Di,this.sa,f,this.xy,h,d):new g.fK(a,b,h,d);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.We)),c.__param(1,k.l(m.Sz)),c.__param(2,k.l(l.A8)),c.__param(3,k.l(f.jU)),c.__param(4,k.l(h.fd)),c.__param(5,k.l(q.oE)),c.__param(6,k.l(F.rT)),c.__param(7,k.l(I.mE))],b);}();b.Vwa=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;c=a(0);k=a(1);m=a(41);r=a(29);q=a(37);n=a(3);d=function(){var b;function a(a){return m.Yd.call(this,a,"PlaygraphConfigImpl")||this;}ba(a,m.Yd);qa.Object.defineProperties(a.prototype,{dRa:{configurable:!0,enumerable:!0,get:function(){return 2;}},cRa:{configurable:!0,enumerable:!0,get:function(){return n.lP(3);}},u3:{configurable:!0,enumerable:!0,get:function(){return!1;}},v3:{configurable:!0,enumerable:!0,get:function(){return!1;}},MWa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([q.config(q.fw,"prepareSegmentsUpfront")],b.prototype,"dRa",null);c.__decorate([q.config(q.Xg,"prepareSegmentsDuration")],b.prototype,"cRa",null);c.__decorate([q.config(q.$c,"usePlaygraphForPostPlay")],b.prototype,"u3",null);c.__decorate([q.config(q.$c,"usePlaygraphForSkipSegment")],b.prototype,"v3",null);c.__decorate([q.config(q.$c,"useSinglePlayerPlayback")],b.prototype,"MWa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(r.Ti))],b);}();b.Pwa=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Qwa=void 0;c=a(0);k=a(1);m=a(145);d=function(){var b;function a(){}a.prototype.Ahb=function(a){var d,n,k;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;if(0===b.length)throw Error("Empty playgraph");n=new m.VT().Xma(this.JY(b[0]));b.reverse().forEach(function(a){var b;b=d.JY(a);n.Mp(b,Object.assign({na:a,qf:0},k?{ql:k}:{}));k=b;});return n.sk();};a.prototype.JY=function(a,b){return a+":[startPts:"+(void 0===b?0:b)+"]";};a.prototype.Rab=function(a,b){var c,d,l,n;c=void 0===c?this.JY(b.G,b.S):c;d=void 0===d?"pauseAtStart":d;l=this.Cob(a);n=new m.VT(a);n.Mp(c,{na:b.G,qf:b.S||0,je:d});a=a.Wa[l];b={};n.Mp(l,Object.assign({},a,{ql:c,next:Object.assign({},a.next||{},(b[c]={},b))}));return n.sk();};a.prototype.Cob=function(a){for(var b=a.Lh,c=b;c=a.Wa[c].ql;)b=c;return b;};b=a;return b=c.__decorate([k.N()],b);}();b.Qwa=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Zwa=void 0;c=a(0);k=a(1);d=function(){var d;function b(){}b.prototype.create=function(b,c,d){return new(a(283)).nza(b,c,d);};d=b;return d=c.__decorate([k.N()],d);}();b.Zwa=d;},function(d,b,a){var k,m;function c(a,b,c){this.Tj=a;this.Ff=b;this.Xk=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Wwa=void 0;k=a(3);m=a(286);c.prototype.RGb=function(){var a,b,c,d,f;a=this.Xk.YOa;if(!a)return{result:m.jo.iK};b=this.Ff.dc;if(b.cg===a.Ma)return{result:m.jo.q9,aXa:a};c=this.Hpb(b,b.cg,a.Ma);if(!c)return{result:m.jo.iK};d=c.duration;if(c.Du>=this.Tj.dRa)return{result:m.jo.iK};c=this.lJa(b.cg);if(!c)return{result:m.jo.iK};b=this.Ff.Kh().SY()||0;c=Math.max(0,c-b);d=c+d;f=this.Tj.cRa.ca(k.ja);if(d<=f)return{result:m.jo.q9,aXa:a};a=d-f;return c<a?{result:m.jo.iK}:{result:m.jo.Nta,si:b+a};};c.prototype.Hpb=function(a,b,c){var h,n,f;b=a.FB(b);for(var d=0,f=0;b!==c&&void 0!==b;){d++;h=a.Ag(b);n=this.lJa(b)||Infinity;f=f+(n-h.qf);b=a.FB(b);}return b?{Du:d,duration:f}:void 0;};c.prototype.lJa=function(a){var b,c;b=this.Ff.dc;c=b.iKa(a);if(void 0!==c)return c;a=b.Ag(a);if(a=this.Ff.km(a.na))return a.Lr.ca(k.ja);};b.Wwa=c;},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Twa=void 0;k=a(145);c.prototype.wJb=function(a){var b;if(!this.qtb(a.Wa))return a;b=new k.VT().Xma(a.Lh);Object.keys(a.Wa).forEach(function(c){c===a.Lh?b.Mp(c,Object.assign(Object.assign({},a.Wa[c]),{next:void 0,dg:void 0,ql:void 0})):b.Mp(c,a.Wa[c]);});return b.sk();};c.prototype.qtb=function(a){var b;b=Object.keys(a).map(function(b){return a[b].na;});return 1===new Set(b).size;};b.Twa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.Lh,segments:a.sib(b.Wa)},void 0!==b.je?{transitionType:b.je}:{});};a.encode=function(b){return Object.assign({Lh:b.initialSegment,Wa:a.Hkb(b.segments)},void 0!==b.transitionType?{je:b.transitionType}:{});};a.tWb=function(a){return void 0!==a.Lh&&void 0!==a.Wa;};a.zWb=function(a){return void 0!==a.na&&void 0!==a.qf;};a.Hkb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Gkb(b[d]);return c;},{});};a.Gkb=function(b){return Object.assign({na:b.viewableId,qf:b.startTimeMs},b.endTimeMs?{dg:b.endTimeMs}:{},b.defaultNext?{ql:b.defaultNext}:{},b.transitionType?{je:b.transitionType}:{},b.next?{next:a.Ekb(b.next)}:{},b.transitionDelayZones?{g3:b.transitionDelayZones}:{});};a.Ekb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Fkb(b[d]);return c;},{});};a.Fkb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.transitionType?{je:a.transitionType}:{});};a.sib=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.rib(b[d]);return c;},{});};a.rib=function(b){return Object.assign({viewableId:b.na,startTimeMs:b.qf},b.dg?{endTimeMs:b.dg}:{},b.ql?{defaultNext:b.ql}:{},b.je?{transitionType:b.je}:{},b.next?{next:a.pib(b.next)}:{},b.g3?{transitionDelayZones:b.g3}:{});};a.pib=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.qib(b[d]);return c;},{});};a.qib=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.je?{transitionType:a.je}:{});};return a;}();b.M3a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){a&&(this.Xma(a.Lh),this.vGb(a.je),this.mGb(a.Wa));}a.prototype.Xma=function(a){this.Lh=a;return this;};a.prototype.vGb=function(a){this.je=a;};a.prototype.Mp=function(a,b){this.Wa||(this.Wa={});this.Wa[a]=this.kGa(b);return this;};a.prototype.mGb=function(a){var b;b=this;this.Wa={};Object.keys(a).forEach(function(c){return b.Mp(c,a[c]);});};a.prototype.sk=function(){if(!this.Wa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Lh)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Wa[this.Lh])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({Lh:this.Lh,Wa:this.Wa},this.je?{je:this.je}:{});};a.prototype.kGa=function(a){var b;b=this;return a&&"object"===typeof a?Object.keys(a).reduce(function(c,d){c[d]="object"===typeof a[d]?b.kGa(a[d]):a[d];return c;},{}):a;};return a;}();b.VT=d;},function(d,b,a){var k;function c(a){this.tV={};this.una={};this.rWa=[];this.iUa=[];this.Uj=a;this.cg=a.Lh;}Object.defineProperty(b,"__esModule",{value:!0});b.Ywa=void 0;k=a(145);c.prototype.KQ=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;b.filter(function(a){return d.wQ(a.Ma);}).filter(function(a){a=a.qP;return!a||d.wQ(a);}).forEach(function(a){d.tV[a.Ma]=d.fka(a.qP);});};c.prototype.ADa=function(a){var b;b=this;a.filter(function(a){return b.wQ(a);}).forEach(function(a){b.tV[a]=b.fka(b.Ag(a).ql);});};c.prototype.up=function(a,b){var c,d,l;c=this.Ag(a);if(c&&c.next){d=new k.VT(this.Uj);l=Object.keys(c.next).reduce(function(a,d){a[d]=void 0===b[d]?c.next[d]:Object.assign({},c.next[d],{weight:b[d]});return a;},{});l=Object.assign({},c,{next:l});d.Mp(a,l);this.Uj=d.sk();}};c.prototype.wQ=function(a,b){b=void 0===b?this.Uj.Wa:b;return a in b;};c.prototype.FB=function(a){return this.tV[a];};c.prototype.Ag=function(a){return this.Uj.Wa[a];};c.prototype.iKa=function(a){return void 0===this.una[a]?this.fka(this.Ag(a).dg):this.una[a];};c.prototype.tKb=function(a,b){this.una[a]=b;this.ayb(a);};c.prototype.cIb=function(a){this.rWa.push(a);};c.prototype.dIb=function(a){this.iUa.push(a);};c.prototype.cyb=function(){var a;a=this;this.rWa.forEach(function(b){return b(a.Uj);});};c.prototype.ayb=function(a){this.iUa.forEach(function(b){return b(a);});};c.prototype.fka=function(a){return null===a?void 0:a;};qa.Object.defineProperties(c.prototype,{Uj:{configurable:!0,enumerable:!0,get:function(){return this.X8a;},set:function(a){if(this.cg&&!this.wQ(this.cg,a.Wa))throw Error("Provided playgraphMap does not contain the current segmentId "+this.cg);this.X8a=a;this.tV={};a=Object.keys(a.Wa);this.ADa(a);this.cyb();}},cg:{configurable:!0,enumerable:!0,get:function(){return this.l6a;},set:function(a){if(!this.wQ(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.l6a=a;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.Ag(this.cg);}}});b.Ywa=c;},function(d,b,a){var k;function c(a){this.$g=a;this.lJ={};this.wP();}Object.defineProperty(b,"__esModule",{value:!0});b.$wa=void 0;k=a(187);c.prototype.wP=function(){var a,b;a=this;b=this.$g.Uj.Wa;Object.keys(b).forEach(function(c){c=b[c].na;a.lJ[c]||a.ILa(c);});this.n3();};c.prototype.TG=function(a){return this.lJ[a];};c.prototype.YFb=function(a){this.eZ(a).state=k.ko.usa;this.n3();};c.prototype.XFb=function(a,b){a=this.eZ(a);a.state=k.ko.Error;a.error=b;a.HSa(!1);this.n3();};c.prototype.FTa=function(a){a=this.eZ(a);a.state=k.ko.P4;a.HSa(!0);this.n3();};c.prototype.fab=function(a,b){this.eZ(a).cb=b;};c.prototype.eZ=function(a){var b;return null!==(b=this.TG(a))&&void 0!==b?b:this.ILa(a);};c.prototype.ILa=function(a){var b,c;b=void 0;c=new Promise(function(a,c){b=function(b){(b?a:c)();};});return this.lJ[a]={state:k.ko.qva,wCb:c,HSa:b};};c.prototype.n3=function(){var b;this.YOa=void 0;for(var a=this.$g.cg;a=this.$g.FB(a);){b=this.wqb(a);if(this.lJ[b].state===k.ko.Error)break;if(this.lJ[b].state===k.ko.usa)break;if(this.lJ[b].state===k.ko.qva){this.YOa={na:b,Ma:a};break;}}};c.prototype.wqb=function(a){return this.$g.Uj.Wa[a].na;};b.$wa=c;},function(d,b,a){var k,m,r,q,n,l;function c(a,b,c,d,k,m,g){this.LP=d;this.noa=m;this.DN=!1;k.v3&&(a=new n.Twa().wJb(a));this.dc=new q.Ywa(a);this.Xk=new r.$wa(this.dc);this.Xk.FTa(this.dc.fa.na);this.log=b.ub("PlaygraphManager");a=new l.Wwa(k,this,this.Xk);this.Jb=c.create();this.Iv=g.create(this.dc,this.Xk,this.log,a,this.Jb);this.FGb();}Object.defineProperty(b,"__esModule",{value:!0});b.Swa=void 0;k=a(13);m=a(187);r=a(578);q=a(577);n=a(574);l=a(573);c.prototype.TY=function(){return this.dc.fa;};c.prototype.aJa=function(){return this.dc.cg;};c.prototype.npb=function(){return this.dc.Uj;};c.prototype.KQ=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.dc.KQ.apply(this.dc,[].concat(ea(b)));};c.prototype.meb=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.dc.ADa(b);};c.prototype.oKb=function(a){this.dc.Uj=a;};c.prototype.up=function(a,b){this.dc.up(a,b);};c.prototype.zga=function(a,b,c){if(a!==this.dc.cg)throw Error("Invalid currentSegmentId");if(b!==this.dc.FB(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: "+a+" -> "+b);return this.Iv.EKa(b,c);};c.prototype.isReady=function(){return this.Iv.isReady();};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.Jn=function(){return this.Iv.Jn();};c.prototype.Kh=function(){return this.Iv.Kh();};c.prototype.Mp=function(a){var b,c;b=this;this.log.info("Adding segment - movieId: "+a.G+", startPts: "+a.S+", logicalEnd: "+(""+a.ej));if(!this.DN){c=this.Iv.PP(a);this.Kh().Xr().addEventListener(k.V.k2,function(a){return b.ska(a);});this.DN=!0;return c;}if(c=Object.keys(this.dc.Uj.Wa).find(function(c){return b.dc.Uj.Wa[c].na===a.G;}))return a.ej&&this.dc.tKb(c,a.ej),null;this.Xk.fab(a.G,Object.assign({},a.cb,a.S?{S:a.S}:{},a.ej?{ej:a.ej}:{}));this.dc.Uj=this.LP.Rab(this.dc.Uj,a);this.Kh().Xr().xo("addSegment movieId: "+a.G+", startPts: "+a.S+", logicalEnd: "+a.ej);return this.Iv.PP(a);};c.prototype.transition=function(a){var b;b=this.dc.FB(this.dc.cg);return b?this.zga(this.dc.cg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(a){return this.Iv.close(a);};c.prototype.km=function(a){if(this.Xk.TG(a).state==m.ko.P4)return this.Kh().Xr().km(a);};c.prototype.FGb=function(){var a;a=this;this.dc.cIb(function(){a.Xk.wP();a.Iv.wP();});this.dc.dIb(function(b){a.Iv.tka(b);});this.addListener(k.Tz.yQ,function(){return a.Xyb();});};c.prototype.Xyb=function(){var a;a=this.Kh().getError();a?this.Jb.Wb(k.zb.Kba,a):(this.Jb.Wb(k.zb.HDa),this.Jb.Wb(k.zb.iM),this.Jb.Wb(k.zb.lD),this.Jb.Wb(k.zb.ZI),this.Jb.Wb(k.zb.uR),this.Jb.Wb(k.zb.Kba));};c.prototype.ska=function(a){var b,c,f;b=a.metrics;if(b){c=this.Kh().Xr();f=c.Pu(a.segmentId);b=c.Pu(b.srcsegment);this.noa.LBb(a,f,b);}};b.Swa=c;},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Rwa=void 0;c=a(0);k=a(1);m=a(579);r=a(7);q=a(122);n=a(467);l=a(285);f=a(186);h=a(460);d=function(){var b;function a(a,b,c,f,d,h){this.kf=a;this.oea=b;this.Tj=c;this.LP=f;this.noa=d;this.LAb=h;}a.prototype.create=function(a){return new m.Swa(a,this.kf,this.oea,this.LP,this.Tj,this.noa,this.LAb);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.Db)),c.__param(1,k.l(n.MD)),c.__param(2,k.l(q.oE)),c.__param(3,k.l(f.sK)),c.__param(4,k.l(h.W8)),c.__param(5,k.l(l.g8))],b);}();b.Rwa=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ff=void 0;d=a(1);c=a(287);k=a(580);m=a(284);r=a(572);q=a(186);n=a(571);l=a(570);f=a(122);h=a(285);g=a(569);b.Ff=new d.Ec(function(a){a(c.f8).to(k.Rwa).Y();a(m.h8).to(r.Zwa).Y();a(q.sK).to(n.Qwa).Y();a(f.oE).to(l.Pwa).Y();a(h.g8).to(g.Vwa).Y();});},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F;Object.defineProperty(b,"__esModule",{value:!0});b.Rta=void 0;c=a(0);k=a(2);m=a(6);r=a(113);q=a(43);n=a(10);l=a(1);f=a(199);h=a(32);g=a(288);F=a(87);d=function(){var d;function b(a,b,c,f){c=g.xJ.call(this,c,f)||this;c.config=a;c.Cc=b;c.log=m.zg(c.j,"LegacyLicenseBroker");c.Wd=c.config().Wd;c.config().qla?q.iMa()?c.w3=!0:c.log.error("Promise based eme requested but platform does not support it",{browserua:n.Ql}):c.w3=!1;return c;}ba(b,g.xJ);b.prototype.KFa=function(a){var b;b=void 0===b?this.j:b;return new this.GP.vz(a,function(a){return b.PM.VN(a);},function(a){return b.PM.release(a);},{Mh:!1,zO:!1});};b.prototype.XM=function(b,c){var f,d,h,l,n,q;c=void 0===c?this.j:c;f=this;l=a(39).Tg;this.GP.vz||this.md(k.K.Ez,k.J.H_a);h=m.zg(c,"Eme");d=this.KFa(h);n=m.$.get(r.Zz);q=n.UM(c.Rc.value.ec);n=n.aN(c.qg.value.ec);return this.GP.xz(h,b,function(a){return c.jd(a);},{Mh:!1,zO:!1,mMa:this.config().Gi,hTa:{lOa:this.config().gTa,GEa:this.config().Bma},za:{getTime:l},Ny:d,pRa:!!this.w3,la:this.wb.la,vD:this.config().Uda,onerror:function(a,b,c){return f.md(a,b,c);},cka:function(a){return f.AZ(a);},yAb:!0,GDa:q,VWa:n,$G:this.config().$G});};b.prototype.VC=function(a){var b;b=this;return this.w3?new Promise(function(c,f){if(b.wb.la)b.wb.la.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.BKa(a);f({da:!1,code:k.K.r7,ed:c.ga,sh:c.se,sb:c.sb,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.BHa=function(a){return{code:a.code,subCode:a.ed,extCode:a.sh,edgeCode:a.mG,message:a.message,errorDetails:a.sb,errorData:a.eY,state:a.state};};b.prototype.Yma=function(a,b,c){var d,h,l;function f(){h.jQ()["catch"](function(a){d.log.error("Unable to set the license",d.BHa(a));a.cause&&a.cause.sb&&(a.sb=a.sb?a.sb+a.cause.sb:a.cause.sb);d.md(a.code,a,a.sh);});}c=void 0===c?this.j:c;d=this;h=c.Bf;this.log.info("Setting the license");l=b?function(){return Promise.resolve();}:function(){return h.Ai(d.Mfa(),a);};return(b?function(){return h.cba(d.wb.la);}:function(){return h.create(d.Wd).then(function(){return Promise.resolve();});})().then(function(){return d.config().KTa?d.VC(h.Cl):Promise.resolve();}).then(l).then(function(){return d.config().KTa?Promise.resolve():d.VC(h.Cl);}).then(function(){d.log.info("license set");d.tY(c.G);d.wb.gXa.then(function(){d.config().ny&&(b||d.config().FN)&&(d.nSa=M.setTimeout(f,d.config().ny));});})["catch"](function(a){d.log.error("Unable to set the license",d.BHa(a));a.cause&&a.cause.sb&&(a.sb=a.sb?a.sb+a.cause.sb:a.cause.sb);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.md(a.code,a,a.sh);});};b.prototype.zQa=function(){return Promise.resolve();};b.prototype.pka=function(a){var c;function b(){var b;c.j.Bf=c.XM(a.initDataType);b=[];c.j.Dq.forEach(function(a){b.push(m.Op(a));});c.Yma(b);}c=this;this.log.trace("Received event: "+a.type);this.KO||(this.KO=!0,this.GP.xz?this.j.Dq?this.config().rG&&this.config().ip&&this.Cc()?this.Cc().QIa(this.j.G).then(function(a){c.j.Bf=a;return a.HZb.then(function(){var b;b=[];c.j.Dq.forEach(function(a){b.push(m.Op(a));});return c.Yma(b,!0).then(function(){var b;if(a.yUb)c.md(k.K.L_a);else{b=m.zg(c.j,"Eme");a.tZb({log:b,JXb:function(a){return c.j.jd(a);}},{Ny:c.KFa(b),onerror:function(a,b,f){return c.md(a,b,f);}});(b=a.UXb)&&c.AZ(b);c.j.Uu(a.sd||{});c.j.yx="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.md(k.K.r3a)):this.md(k.K.Ez,k.J.I_a));};b.prototype.sSa=function(a){var b;a=void 0===a?this.j:a;a.Bf=this.XM("cenc");b=[];a.Dq.forEach(function(a){b.push(m.Op(a));});return this.Yma(b,!1,a);};b.prototype.Mfa=function(){return this.config().FN?F.sj.ww:F.sj.Ym;};qa.Object.defineProperties(b.prototype,{GP:{configurable:!0,enumerable:!0,get:function(){return m.$.get(h.Fp);}},nC:{configurable:!0,enumerable:!0,get:function(){return this.w3?"encrypted":this.wb.d5+"needkey";}}});d=b;c.__decorate([f.HO],d.prototype,"GP",null);c.__decorate([f.HO],d.prototype,"nC",null);return d=c.__decorate([l.N()],d);}();b.Rta=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F;Object.defineProperty(b,"__esModule",{value:!0});b.Uta=void 0;c=a(0);k=a(2);m=a(6);r=a(9);q=a(483);n=a(3);l=a(1);f=a(199);h=a(288);g=a(87);F=a(13);d=function(){var b;function a(a,b,c,f,d,l,n){f=h.xJ.call(this,f,d)||this;f.config=a;f.Fe=b;f.Cc=c;f.oB=l;f.qja=n;f.log=m.zg(f.j,"LicenseBroker");f.KO=new Set();f.pja=!1;return f;}ba(a,h.xJ);a.prototype.pka=function(){var a,b,c;a=this;c=this.j.fa;this.KO.has(c.G)||(this.KO.add(c.G),((null===(b=c.ya)||void 0===b?0:b.Mx)?this.Uab(c,c.ya.Mx):this.config.rG&&this.Fe.ip&&this.Cc()?this.Vab(c):Promise.reject())["catch"](function(){return a.tSa(c);}).then(function(){return a.qDa(c);})["catch"](function(b){return a.pDa(c,b);})["catch"](function(b){return a.md(b.code,b,b.sh);}));};a.prototype.Vab=function(a){var b;b=this;return this.Cc().QIa(a.G).then(function(c){return b.cba(c,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};a.prototype.Uab=function(a,b){var c;c=this;return this.oB().then(function(f){var d;d=c.HJa(a);f.BOa(d,b);f.mH().subscribe(c.VIa(a));return c.cba(b,a,"manifest");});};a.prototype.cba=function(a,b,c){this.jRa(a,b);b.yx=c;this.qja.VC(a.Cl);return a.dba().qR();};a.prototype.rmb=function(a){var b;b={};a.forEach(function(a){b[q.XGa(a.Nwb)]=a.time.ca(n.ja);});return b;};a.prototype.Lqb=function(a,b){this.log.trace("Key status",{viewable:a.G,keyId:m.EW(b.fs),status:b.value});};a.prototype.jRa=function(a,b){var c,f,d;c=this;b.Bf=a;f={next:function(a){c.Lqb(b,a);},error:r.Ye,complete:r.Ye};d={next:function(a){c.md(a.code,a,a.sh);},error:r.Ye,complete:r.Ye};a.Zha().subscribe(f);(a=a.xG())&&a.subscribe(d);};a.prototype.qDa=function(a){var b;this.log.info("Successfully applied license for xid: "+a.ia+", viewable: "+a.G+", segment: "+a.Ma);b=a.Bf;(null===b||void 0===b?0:b.pia)&&this.AZ(b.pia);this.Uu(a);this.pja?this.tY(a.G):this.VC(a);};a.prototype.pDa=function(a,b){this.Uu(a);throw b;};a.prototype.Uu=function(a){a.Bf&&a.Uu(this.rmb(a.Bf.sd));};a.prototype.VIa=function(a){var b;b=this;return{next:function(c){b.KO.add(a.G);b.AZ(c);},error:r.Ye,complete:r.Ye};};a.prototype.HJa=function(a){return{type:this.Mfa(),ZZ:a.Dq.map(function(a){return m.Op(a);}),context:{Wd:this.config.Wd,la:this.wb.la},Zg:{G:a.G,ia:a.ia,ng:a.ng,xk:a.xk,Ci:a.ya.Ci}};};a.prototype.tSa=function(a){var b;b=this;return this.oB().then(function(c){var f;f=b.HJa(a);c.mH().subscribe(b.VIa(a));return c.Ai(f,b.qja).Sr(function(c){b.jRa(c,a);b.j.fireEvent(F.V.MO,{G:a.G});return c.dba();}).qR();});};a.prototype.VC=function(a){var b;b=this;if(this.pja)this.log.trace("Media Keys already set");else try{this.wb.la?this.wb.la.setMediaKeys(a.Bf.Cl).then(function(){b.tY(a.G);b.pja=!0;})["catch"](function(a){a=b.BKa(a);b.md(k.K.r7,a,a.se);}):this.tY(a.G);}catch(D){this.md(k.K.r7,D,void 0);}};a.prototype.zQa=function(){var a,b;a=this;b=this.j.fa.Bf;return b?this.oB().then(function(c){return new Promise(function(f){c.GHb(b,a.qja).Sr(function(a){return a.Wab();}).Sr(function(b){a.log.trace("Fulfilled the last secure stop");a.Fe.Gi&&a.j.hv.j2({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.Fe.Gi&&a.j.hv.j2({success:b.da,ErrorCode:b.code,ErrorSubCode:b.ed,ErrorExternalCode:b.sh,ErrorEdgeCode:b.mG,ErrorDetails:b.hG});f();},complete:function(){f();}});});}):Promise.resolve();};a.prototype.sSa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.tSa(a).then(function(){return b.qDa(a);})["catch"](function(c){return b.pDa(a,c);});};a.prototype.Mfa=function(){return this.Fe.FN?g.sj.ww:g.sj.Ym;};qa.Object.defineProperties(a.prototype,{nC:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}},Wd:{configurable:!0,enumerable:!0,get:function(){return this.config.Wd;}}});b=a;c.__decorate([f.HO],b.prototype,"nC",null);return b=c.__decorate([l.N()],b);}();b.Uta=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Tta=void 0;c=a(0);k=a(1);m=a(119);r=a(583);q=a(582);n=a(53);l=a(14);f=a(137);h=a(104);d=function(){var b;function a(a,b,c,f,d){this.oB=a;this.Fe=b;this.config=c;this.bP=f;this.Cc=d;}a.prototype.create=function(a,b,c){return a?new r.Uta(this.config(),this.Fe,this.Cc,b,c,this.oB,this.bP()):new q.Rta(this.config,this.Cc,b,c);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.KJ)),c.__param(1,k.l(n.Nl)),c.__param(2,k.l(l.fd)),c.__param(3,k.l(f.aE)),c.__param(4,k.l(h.cA))],b);}();b.Tta=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Rj=void 0;d=a(1);c=a(303);k=a(584);b.Rj=new d.Ec(function(a){a(c.l6).to(k.Tta);});},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Wya=void 0;c=a(0);k=a(1);m=a(41);r=a(29);q=a(37);n=a(34);d=function(){var b;function a(a){return m.Yd.call(this,a,"TransportConfigImpl")||this;}ba(a,m.Yd);a.prototype.ina=function(a){var b,c;b=this.Loa;c=this.aDa;switch(a){case n.mt.WT:return b;case n.mt.bxa:return b&&!c;case n.mt.J2a:return!1;}};qa.Object.defineProperties(a.prototype,{Loa:{configurable:!0,enumerable:!0,get:function(){return!0;}},aDa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([q.config(q.$c,"usesMsl")],b.prototype,"Loa",null);c.__decorate([q.config(q.$c,"allowRequestsWithoutMsl")],b.prototype,"aDa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(r.Ti))],b);}();b.Wya=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.kya=void 0;c=a(0);k=a(1);m=a(3);r=a(7);q=a(148);n=a(91);d=function(){var b;function a(a,b,c){this.receiver=b;this.Te=c;this.log=a.ub("SslTransport");}a.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,kB:"nq-"+a.Gj,$ka:JSON.stringify(b),aX:a.timeout.ca(m.ja),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Te.download(f,function(c){c.da?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.jI({command:a.Gj,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.ed=f.ga||f.ed,c.receiver.jI({command:a.Gj,inputs:b,outputs:f}),f;d=f.error;d.Oy=f.Oy;c.log.error("Error sending SSL request",{subCode:d.ed,data:d.content,message:d.message});c.receiver.jI({command:a.Gj,inputs:b,outputs:d});throw d;});};a.prototype.Bca=function(){return{};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.Db)),c.__param(1,k.l(q.pK)),c.__param(2,k.l(n.xw))],b);}();b.kya=d;},function(d,b,a){var c,k,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.iva=void 0;c=a(0);k=a(1);m=a(7);r=a(173);q=a(3);n=a(148);l=a(100);f={license:!0};d=function(){var b;function a(a,b,c,f){var d;d=this;this.yy=b;this.receiver=c;this.profile=f;this.log=a.ub("MslTransport");this.yy().then(function(a){return d.HOa=a;});}a.prototype.send=function(a,b){var c,d;c=this;d={IOa:Object.assign({Te:a.Te,log:a.log,profile:this.profile},a.rcb),method:a.Gj,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ca(q.ja),cLb:this.profile,nYb:!f[a.Gj],Gxb:!!f[a.Gj],Lj:!0,Y1:a.kma,headers:a.headers};return this.yy().then(function(f){return f.send(d).then(function(f){c.receiver.jI({command:a.Gj,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.ed=f.ga||f.ed,c.receiver.jI({command:a.Gj,inputs:b,outputs:f}),f;d=f.error;d.Oy=f.Oy;c.log.error("Error sending MSL request",{mslCode:d.rs,subCode:d.ed,data:d.data,message:d.message});c.receiver.jI({command:a.Gj,inputs:b,outputs:d});throw d;});});};a.prototype.Bca=function(){var a;return{userTokens:null===(a=this.HOa)||void 0===a?void 0:a.z0.getUserIdTokenKeys()};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Db)),c.__param(1,k.l(r.eK)),c.__param(2,k.l(n.pK)),c.__param(3,k.l(l.tK))],b);}();b.iva=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.TVa=void 0;d=a(1);c=a(246);k=a(319);m=a(588);r=a(587);q=a(586);n=a(34);b.TVa=new d.Ec(function(a){a(c.EK).to(q.Wya).Y();a(k.X6).to(m.iva);a(k.F8).to(r.kya);a(k.X8).rf(function(a){return function(b){var f;return a.fb.get(c.EK).ina(null!==(f=null===b||void 0===b?void 0:b.lxb)&&void 0!==f?f:n.mt.WT)?a.fb.get(k.X6):a.fb.get(k.F8);};});});},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;c=a(0);k=a(1);m=a(14);r=a(32);q=a(183);n=a(31);d=function(){var b;function a(a,b,c,f){this.platform=a;this.config=b;this.EM=c;this.Cn=f;}a.prototype.transform=function(a){var b,c;b=this;c=a.Pa;return Promise.all([this.Cn.pKa(),this.Cn.rKa(),this.EM.lga()]).then(function(f){var d,h;d=R(f);f=d.next().value;h=d.next().value;d=d.next().value;return[{viewableId:a.na,packageId:c.Ik,assetId:c.DF,challenge:d.Wba,audioProfiles:f,textProfiles:b.config().Ps,trickplayProfiles:["BIF240","BIF320"],videoProfiles:h,audioLanguages:c.Dbb,textLanguages:c.HIb},{Mx:null===d||void 0===d?void 0:d.tb,Gj:"studioManifest"}];});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.Si)),c.__param(1,k.l(m.fd)),c.__param(2,k.l(q.BJ)),c.__param(3,k.l(n.GD))],b);}();b.swa=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,p,E,J,K;Object.defineProperty(b,"__esModule",{value:!0});b.fwa=void 0;c=a(0);k=a(1);m=a(102);r=a(14);q=a(242);n=a(438);l=a(290);f=a(99);h=a(32);g=a(40);F=a(3);p=a(183);E=a(70);J=a(468);K=a(31);d=function(){var b;function a(a,b,c,f,d,h,l,n,k,m){this.Ph=a;this.platform=b;this.config=c;this.xdb=f;this.zAb=d;this.Bl=h;this.EM=l;this.za=n;this.j0=k;this.Cn=m;}a.prototype.transform=function(a){var b,c,f,d,h,l,n;b=this;c=a.Pa;f=Object.assign({},c.jM,c.Yn);d={};h=a.na;d[h]={unletterboxed:!!f.preferUnletterboxed};l=this.config().XKb?30:25;n=this.config().wp?this.Bl.Ynb():Promise.resolve(this.j0.fq());return Promise.all([this.Cn.pKa(),this.Cn.rKa(),this.Cn.NG(),this.Cn.ZN(),this.unb(a.ia),this.aob(a),n]).then(function(n){var k,r,g,x,p,I;k=R(n);r=k.next().value;g=k.next().value;x=k.next().value;p=k.next().value;I=k.next().value;n=k.next().value;k=k.next().value;r=(r||[]).concat(g||[]).concat(b.config().Ps).concat(["BIF240","BIF320"]).filter(Boolean);g=p&&void 0!==p.SUPPORTS_SECURE_STOP?!!p.SUPPORTS_SECURE_STOP:void 0;p=p?p.DEVICE_SECURITY_LEVEL:void 0;x={type:"standard",viewableId:h,profiles:r,flavor:a.Lu,drmType:k,drmVersion:l,usePsshBox:!0,isBranching:!!a.Pa.dj,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().tIb,imageSubtitleHeight:q.oU.dga(),uiVersion:b.Ph.zR,uiPlatform:b.Ph.j3,clientVersion:b.platform.version,supportsPreReleasePin:b.config().Yp.pIb,supportsWatermark:b.config().Yp.qIb,showAllSubDubTracks:b.config().Yp.YGb||!!f.showAllSubDubTracks,packageId:b.dpb(c),deviceSupportsSecureStop:g,deviceSecurityLevel:p,videoOutputInfo:x,titleSpecificData:d,preferAssistiveAudio:!!f.assistiveAudioPreferred,preferredTextLocale:f.preferredTextLocale,preferredAudioLocale:f.preferredAudioLocale,isUIAutoPlay:!!f.isUIAutoPlay,challenge:I,isNonMember:b.Ph.dH,pin:c.CQa,desiredVmaf:b.config().SKb?b.config().Vib:b.config().Wib};c.IHa&&(x.extraParams=c.IHa);I={Gj:n?"licensedManifest":"manifest",Mx:null===n||void 0===n?void 0:n.tb};n&&(n={drmSessionId:n.tb.Yx()||"session",clientTime:b.za.s2.ca(F.Sl),challengeBase64:n.Wba},x.challenges={"default":[n]},x.profileGroups=[{name:"default",profiles:r}],x.licenseType="standard");b.Ph.lHa&&a.Lu===m.gk.iU&&(x.maxSupportedLanguages=1);return[x,I];});};a.prototype.dpb=function(a){if(this.config().z1.enabled){if(void 0!==a.Ik)return a.Ik;if(void 0!==this.config().z1.Ik)return Number(this.config().z1.Ik);}};a.prototype.unb=function(a){var b;b=this;return this.xdb.UIa().then(function(c){var f;f=a&&b.zAb.jpb(a);f&&f.tn("cad");return c;});};a.prototype.aob=function(a){return(a.Lu===m.gk.Ym||a.Lu===m.gk.m8)&&this.config().wp&&this.Ph.hFa?this.EM.lga():Promise.resolve(void 0);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(E.er)),c.__param(1,k.l(h.Si)),c.__param(2,k.l(r.fd)),c.__param(3,k.l(n.l4)),c.__param(4,k.l(l.ST)),c.__param(5,k.l(f.kt)),c.__param(6,k.l(p.BJ)),c.__param(7,k.l(g.Ni)),c.__param(8,k.l(J.pT)),c.__param(9,k.l(K.GD))],b);}();b.fwa=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.$va=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.i0a,2,r.kh.ya,r.sg.Wq,"generateScreenshots")||this;}ba(a,q.fh);a.prototype.te=function(a,b){var c;c=this;return this.send(a,"/generateScreenshots",b).then(function(a){return a.result;})["catch"](function(a){throw c.ul(a);});};a.prototype.Gn=function(a,b,c){var f;f=this;return this.send(a,b.WN("generateScreenshots").href,c).then(function(a){return a.result;})["catch"](function(a){throw f.ul(a);});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.$va=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jwa=void 0;b.jwa="PboPingCommandSymbol";},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.iwa=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.g3a,1,r.kh.ping,r.sg.Wq,r.kh.ping)||this;}ba(a,q.fh);a.prototype.te=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.ul(a);});};a.prototype.Gn=function(){return Promise.reject(Error("Links are unsupported with ping"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.iwa=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Uva=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.iYa,2,r.kh.bind,r.sg.Wq,r.kh.bind)||this;}ba(a,q.fh);a.prototype.te=function(a,b,c){var f;f=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.ul(a);});};a.prototype.Gn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.Uva=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.gwa=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.P2a,2,r.kh.aQa,r.sg.Wq,r.kh.aQa)||this;}ba(a,q.fh);a.prototype.te=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.ul(a);});};a.prototype.Gn=function(){return Promise.reject(Error("Links are unsupported with pair"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.gwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hwa=void 0;b.hwa="PboPairCommandSymbol";},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Tva=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.hYa,2,r.kh.bind,r.sg.Wq,r.kh.bind)||this;}ba(a,q.fh);a.prototype.te=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.ul(a);});};a.prototype.Gn=function(){return Promise.reject(Error("Links are unsupported with bind"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.Tva=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F;Object.defineProperty(b,"__esModule",{value:!0});b.Wva=void 0;c=a(0);k=a(1);m=a(118);r=a(70);q=a(317);n=a(320);l=a(115);f=a(91);h=a(470);g=a(77);F=a(71);d=function(){function a(a,b,c,f,d,h,l,n,k){this.ag=a;this.Te=b;this.Ph=c;this.rjb=f;this.XG=d;this.LKb=h;this.cda=l;this.QDb=n;this.Hx=k;}return a=c.__decorate([k.N(),c.__param(0,k.l(m.iz)),c.__param(1,k.l(f.xw)),c.__param(2,k.l(r.er)),c.__param(3,k.l(n.y7)),c.__param(4,k.l(l.Dz)),c.__param(5,k.l(h.d9)),c.__param(6,k.l(g.HJ)),c.__param(7,k.l(q.M7)),c.__param(8,k.l(F.Uq))],a);}();b.Wva=d;},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.fsa=void 0;c=a(0);k=a(1);m=a(2);r=a(120);q=a(76);n=a(46);l=a(42);d=function(){var b;function a(a){return r.co.call(this,a,m.K.P_a,q.Ol.xN,3,l.sg.YD)||this;}ba(a,r.co);a.prototype.IW=function(a){return Object.assign(Object.assign({},r.co.prototype.IW.call(this,a)),{action:a.action});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.fsa=d;},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.jya=void 0;c=a(0);k=a(1);m=a(2);r=a(120);q=a(76);n=a(46);l=a(42);d=function(){var b;function a(a){return r.co.call(this,a,m.K.Hxa,q.Ol.splice,1,l.sg.YD)||this;}ba(a,r.co);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.jya=d;},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Jta=void 0;c=a(0);k=a(1);m=a(2);r=a(120);q=a(76);n=a(46);l=a(42);d=function(){var b;function a(a){return r.co.call(this,a,m.K.g6,q.Ol.CO,1,l.sg.YD)||this;}ba(a,r.co);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.Jta=d;},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.pya=void 0;c=a(0);k=a(1);m=a(2);r=a(120);q=a(76);n=a(46);l=a(42);d=function(){var b;function a(a){return r.co.call(this,a,m.K.Kxa,q.Ol.stop,3,l.sg.P6)||this;}ba(a,r.co);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.pya=d;},function(d,b,a){var c,k,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.lya=void 0;c=a(0);k=a(1);m=a(2);r=a(120);q=a(76);n=a(46);l=a(42);d=function(){var b;function a(a){return r.co.call(this,a,m.K.r4a,q.Ol.start,3,l.sg.Wq)||this;}ba(a,r.co);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.lya=d;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.bwa=void 0;c=a(0);k=a(1);m=a(25);r=a(44);d=function(){var b;function a(a,b){this.kd=a;this.ju=b;}a.prototype.MVa=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.kd.EP(a.substring(a.indexOf("?")+1));});return{da:!0,qc:a.map(function(a,b){return{id:a.drmSessionId,my:c[b].drmlicensecontextid,nH:c[b].licenseid};}),pm:a.map(function(a){return{data:b.ju.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};a.prototype.yJb=function(a){return{da:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.drmSessionId)&&c&&(a[b]=c);return a;},{})}};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.uf)),c.__param(1,k.l(r.qj))],b);}();b.bwa=d;},function(d,b,a){var c,k,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.awa=void 0;c=a(0);k=a(1);m=a(40);r=a(3);d=function(){var b;function a(a){this.za=a;}a.prototype.uJb=function(a){var b;b=this.za.gf.ca(r.Sl);return{inputs:a.ri.map(function(c){return{drmSessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ia.toString(),mdxControllerEsn:a.$O};}),sia:"standard"===a.Bi.toLowerCase()?"license":"ldl"};};a.prototype.xJb=function(a){var b,c,d,l;b=this;c=a.SEb||{};d=[];l=a.qc.map(function(f){var h;d.push(f.id);h=c[f.id];delete c[f.id];return{url:b.mEa(f.my,f.nH),echo:"drmSessionId",params:{drmSessionId:f.id,secureStop:h,secureStopId:h?f.nH:void 0,xid:a.ia.toString()}};});Object.keys(c).forEach(function(f){l.push({url:b.mEa(a.qc[0].my),echo:"drmSessionId",params:{drmSessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.ia.toString()}});});return l;};a.prototype.mEa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ni))],b);}();b.awa=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.qwa=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.e4a,3,r.kh.Ai,r.sg.P6,"release/license")||this;}ba(a,q.fh);a.prototype.te=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.LEa(a);return a;})["catch"](function(a){throw c.ul(a);});};a.prototype.Gn=function(){return Promise.reject(Error("Links are unsupported with release"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.qwa=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.Ez,3,r.kh.Ai,r.sg.Wq,r.kh.Ai)||this;}ba(a,q.fh);a.prototype.te=function(){return Promise.reject(Error("Links are required with acquire command"));};a.prototype.Gn=function(a,b,c){var f,d;f=this;b=b.WN(c.sia).href;d="license"===c.sia?r.sg.Wq:r.sg.YD;this.X$="ldl"===c.sia?"prefetch/license":r.kh.Ai;return this.send(a,b,c.inputs,"drmSessionId",d).then(function(a){a=a.result;f.LEa(a);f.Pdb(a);return a;})["catch"](function(a){throw f.ul(a);});};a.prototype.Pdb=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.Sva=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,p;Object.defineProperty(b,"__esModule",{value:!0});b.ewa=void 0;c=a(0);k=a(102);m=a(2);r=a(42);a(154);q=a(65);n=a(46);l=a(32);f=a(34);h=a(170);g=a(204);F=a(1);p=a(289);d=function(){var b;function a(a,b,c,f,d){a=q.fh.call(this,a,m.K.MANIFEST,3,r.kh.ya,r.sg.Wq,r.kh.ya)||this;a.platform=b;a.Bvb=c;a.mub=f;a.Dvb=d;return a;}ba(a,q.fh);a.prototype.te=function(a,b){var c;c=this;this.X$=b.Lu===k.gk.t7?"prefetch/manifest":r.kh.ya;return this.Dvb.transform(b).then(function(d){var h,l;d=R(d);h=d.next().value;l=d.next().value;return c.send(a,l.Gj,h,void 0,c.Bpb(b.Lu),void 0,b.Lu===k.gk.iU?f.mt.bxa:f.mt.WT).then(function(a){var b;a=c.Bvb.create(a.result);b=a.Nf.hw.map(function(a){return a.Ai;}).filter(Boolean);l.Mx&&(0<b.length?(b=c.mub.MVa(b),l.Mx.GCa(b),a.Mx=l.Mx):l.Mx.close().subscribe());return a;});})["catch"](function(a){throw c.ul(a);});};a.prototype.Gn=function(){return Promise.reject(Error("Links are not supported with manifest command"));};a.prototype.Bpb=function(a){switch(a){case k.gk.Ym:case k.gk.n_a:return r.sg.Wq;case k.gk.m8:case k.gk.iU:return r.sg.P6;case k.gk.t7:return r.sg.YD;}};b=a;return b=c.__decorate([F.N(),c.__param(0,F.l(n.jk)),c.__param(1,F.l(l.Si)),c.__param(2,F.l(h.$D)),c.__param(3,F.l(g.LT)),c.__param(4,F.l(p.G7))],b);}();b.ewa=d;},function(d,b,a){var c,k,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.dwa=void 0;c=a(0);k=a(1);m=a(2);r=a(42);q=a(65);n=a(46);d=function(){var b;function a(a){return q.fh.call(this,a,m.K.M1a,1,r.kh.hNa,r.sg.YD,r.kh.hNa)||this;}ba(a,q.fh);a.prototype.te=function(a,b){var c;c=this;return this.send(a,"/"+this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.ul(a);});};a.prototype.Gn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.jk))],b);}();b.dwa=d;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,p,E,J,K,t,T,Q,u,S,A,Z,ma,da,W,N,ja,na,oa,B,O,xa,ga,ya,Da,la;Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;d=a(1);c=a(352);k=a(610);m=a(102);r=a(609);q=a(339);n=a(608);l=a(337);f=a(607);h=a(336);g=a(606);F=a(204);p=a(605);E=a(76);J=a(604);K=a(603);t=a(45);T=a(2);Q=a(602);u=a(601);S=a(600);A=a(46);Z=a(599);ma=a(193);da=a(598);W=a(597);N=a(596);ja=a(356);na=a(595);oa=a(594);B=a(593);O=a(458);xa=a(592);ga=a(70);ya=a(289);Da=a(591);la=a(590);b.jFa=new d.Ec(function(a){a(A.jk).to(Z.Wva);a(c.F7).to(k.dwa);a(ma.JT).to(da.Tva);a(ja.w7).to(na.Uva);a(W.hwa).to(N.gwa);a(m.MT).to(r.ewa);a(ya.G7).cw(function(a){var b;b=a.fb.get(ga.er);return b&&b.NWa?a.fb.resolve(la.swa):a.fb.resolve(Da.fwa);});a(q.v7).to(n.Sva);a(l.L7).to(f.qwa);a(h.C7).to(g.awa);a(F.LT).to(p.bwa);a(E.H8).to(J.lya);a(E.I8).to(K.pya);a(E.h6).to(Q.Jta);a(E.E8).to(u.jya);a(E.f5).to(S.fsa);a(B.jwa).to(oa.iwa);a(O.B7).to(xa.$va);a(E.FS).rf(function(a){return function(b){switch(b){case E.Ol.start:return a.fb.get(E.H8);case E.Ol.stop:return a.fb.get(E.I8);case E.Ol.CO:return a.fb.get(E.h6);case E.Ol.splice:return a.fb.get(E.E8);case E.Ol.xN:return a.fb.get(E.f5);}throw new t.vc(T.K.W2a,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(d,b,a){var c,k,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;c=a(0);k=a(1);m=a(52);r=a(67);q=a(3);n=a(66);l=a(34);f={start:{video:m.Aa.oS,audio:m.Aa.kS},end:{video:m.Aa.nS,audio:m.Aa.jS}};d=function(){var b;function a(a,b){var c;c=this;this.Jk=a;this.bq=b;this.HVa=function(a){var b,f,d,h,l,n;b=c.dVa++;f=a.request.kB||"dl";d=c.xKa(f,"start");if(d){h=a.request.cp.stream.O.Lk;if(h&&!c.BUa.has(h)){l=c.XJa(h);n=a.Eq;c.Jk.mark(d,l,n?f+"-"+n+"-"+b:f);a.Caa(function(){var a,d;a=c.xKa(f,"end");d=n?f+"-"+n+"-"+b:f;a&&c.Jk.mark(a,l,d);});}}};this.dVa=0;this.BUa=new Set();this.Hma=new Map();b.tN&&this.PLb();}a.prototype.YJa=function(a){var c,f,d,h,l,n,k,r;function b(b){return q.timestamp(c.UCa(q.timestamp(b),a,!0));}c=this;f=new Set();d=a.sd;h=a.rHb;l=a.ia;n=a.Ma;k=this.Jk.MJa(l);r=n&&this.XJa(n);r&&k.push.apply(k,[].concat(ea(this.Jk.MJa(r))));this.Jk.fSa(a.ia);r&&this.Jk.fSa(r);n&&this.BUa.add(n);n=[];"pr_ats"in d&&n.push({name:m.Aa.dU,Ns:b(d.pr_ats),ia:l,uk:"request-pre-manifest"});"ats"in d&&n.push({name:m.Aa.bU,Ns:b(d.ats),ia:l,uk:"request-manifest"});"pr_at"in d&&n.push({name:m.Aa.cU,Ns:b(d.pr_at),ia:l,uk:"request-pre-manifest"});"at"in d&&n.push({name:m.Aa.aU,Ns:b(d.at),ia:l,uk:"request-manifest"});"lg"in d&&n.push({name:m.Aa.$T,Ns:b(d.lg),ia:l,uk:"request-license"});"lr"in d&&n.push({name:m.Aa.ZT,Ns:b(d.lr),ia:l,uk:"request-license"});"tt_start"in d&&n.push({name:m.Aa.mS,Ns:b(d.tt_start),ia:l,uk:"request-timed-text"});"tt_comp"in d&&n.push({name:m.Aa.lS,Ns:b(d.tt_comp),ia:l,uk:"request-timed-text"});return n.concat(k).map(function(b){return c.bJb(b,a);}).filter(function(a){return a.timestamp<=h?("end"===a.step&&f.add(a.eventId),!0):!1;}).filter(function(a){return"start"!==a.step||f.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.timestamp-b.timestamp;});};a.prototype.vab=function(a,b,c){return(void 0===c?0:c)?a.ca(q.ja)+b.Kk.ca(q.ja):a.ca(q.ja)-b.Kk.ca(q.ja);};a.prototype.UCa=function(a,b,c){c=void 0===c?!1:c;if(b.Uk)if(c)a.ca(q.ja)+b.Uk;else return a.ca(q.ja)-b.Uk;return this.vab(a,b,c);};a.prototype.bJb=function(a,b){var c;c=a.name;return{eventName:c,eventId:a.uk||c,timestamp:this.UCa(a.Ns,b),component:this.ON(c),category:this.tnb(c),step:this.Tpb(c)};};a.prototype.ON=function(a){switch(a){case m.Aa.dU:case m.Aa.cU:case m.Aa.bU:case m.Aa.aU:return"manifest";case m.Aa.$T:case m.Aa.ZT:case m.Aa.v8:case m.Aa.u8:case m.Aa.JS:case m.Aa.IS:case m.Aa.M3:case m.Aa.L3:return"license";case m.Aa.mS:case m.Aa.lS:case m.Aa.kS:case m.Aa.jS:case m.Aa.oS:case m.Aa.nS:case m.Aa.K3:case m.Aa.J3:return"buffering";case m.Aa.n7:case m.Aa.m7:return"playback";default:return null;}};a.prototype.tnb=function(a){switch(a){case m.Aa.dU:case m.Aa.cU:case m.Aa.bU:case m.Aa.aU:return"aws";case m.Aa.$T:case m.Aa.ZT:return"mixed";case m.Aa.n7:case m.Aa.m7:case m.Aa.v8:case m.Aa.u8:case m.Aa.JS:case m.Aa.IS:case m.Aa.M3:case m.Aa.L3:case m.Aa.K3:case m.Aa.J3:return"dev";case m.Aa.mS:case m.Aa.lS:case m.Aa.kS:case m.Aa.jS:case m.Aa.oS:case m.Aa.nS:return"cdn";default:return null;}};a.prototype.Tpb=function(a){switch(a){case m.Aa.dU:case m.Aa.n7:case m.Aa.bU:case m.Aa.$T:case m.Aa.K3:case m.Aa.mS:case m.Aa.kS:case m.Aa.oS:case m.Aa.v8:case m.Aa.JS:case m.Aa.M3:return"start";case m.Aa.cU:case m.Aa.m7:case m.Aa.aU:case m.Aa.ZT:case m.Aa.u8:case m.Aa.IS:case m.Aa.L3:case m.Aa.J3:case m.Aa.lS:case m.Aa.jS:case m.Aa.nS:return"end";default:return null;}};a.prototype.xKa=function(a,b){if(a in f[b])return f[b][a];};a.prototype.YJb=function(){n.Te.removeEventListener(n.QZ,this.HVa);};a.prototype.PLb=function(){this.YJb();n.Te.addEventListener(n.QZ,this.HVa);};a.prototype.XJa=function(a){var b;if(this.Hma.has(a))return this.Hma.get(a);b=Date.now();this.Hma.set(a,b);return b;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.bE)),c.__param(1,k.l(l.Yk))],b);}();b.dva=d;},function(d,b,a){var k;function c(a,b,c,d){this.xda=a;this.debug=b;this.sa=c;this.j=d;this.$0=[];this.x0={};this.zda={};this.Fea=!1;this.dVa=1;this.Vpa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.vra=void 0;k=a(3);a(13);a(15);a(66);c.prototype.register=function(a,b){this.debug.assert(!(0<=this.$0.indexOf(a)),"panel already registered");this.x0[a]=b;this.$0.push(a);};c.prototype.rPa=function(a){var b;b=this;this.zda[a]=!0;this.Fea||(this.Fea=!0,setTimeout(function(){return b.amb();},0));};c.prototype.Oob=function(a){return(a=this.x0[a])?a():void 0;};c.prototype.$Y=function(){var a;a=this.j.l1;return a?a.$Y():[];};c.prototype.addEventListener=function(a,b){this.xda.addListener(a,b);this.x0[a]&&this.rPa(a);};c.prototype.removeEventListener=function(a,b){this.xda.removeListener(a,b);};c.prototype.getTime=function(){return this.sa.Zb().ca(k.ja);};c.prototype.amb=function(){this.Fea=!1;for(var a=this.$0.length,b;a--;)b=this.$0[a],this.zda[b]&&(this.zda[b]=!1,this.xda.Wb(b+"changed",{getModel:this.x0[b]}));};b.vra=c;},function(d,b,a){var k,m,r,q,n,l,f;function c(a,b,c,d,m,q,g,p,t,Q){var h;h=this;this.HJb=a;this.j=b;this.id=c;this.height=d;this.width=m;this.kAb=q;this.lAb=g;this.size=p;this.iq=t;this.le=Q;this.type=k.Kg.roa;this.Sv=!0;this.state=n.dn.CT;this.Wg={};this.BW={};this.KBb=function(a){if(a.da)try{h.data=h.HJb.parse(a.content);h.state=n.dn.LOADED;h.log.trace("TrickPlay parsed",{Images:h.data.images.length},h.Wg);h.j.fireEvent(l.V.uR);}catch(A){h.state=n.dn.Cva;h.log.error("TrickPlay parse failed.",A);}else h.state=n.dn.CT,h.log.error("TrickPlay download failed.",f.Dp(a),h.Wg);};this.log=r.zg(b,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;k=a(75);m=a(12);r=a(6);q=a(66);n=a(315);l=a(13);f=a(2);c.prototype.lob=function(a){if(this.data&&(this.iq&&(a+=this.iq),a=Math.floor(a/this.data.Po.wVa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Po.wVa,height:this.height,width:this.width,pixelAspectHeight:this.kAb,pixelAspectWidth:this.lAb};};c.prototype.mZ=function(){switch(this.state){case n.dn.LOADED:return"downloaded";case n.dn.LOADING:return"loading";case n.dn.bK:return"downloadfailed";case n.dn.Cva:return"parsefailed";default:return"notstarted";}};c.prototype.download=function(){var a;a=this.pqb();a?(this.state=n.dn.LOADING,this.Ajb(a)):this.Sv=!1;};c.prototype.Tc=function(){return this.state;};c.prototype.pqb=function(){var a,b,c;a=this;b=Object.keys(this.le).find(function(b){return(a.BW[a.le[b]]||0)<=m.config.DJb;});if(b){c=this.le[b];c in this.BW?this.BW[c]++:this.BW[c]=1;return{url:c,Ax:b};}};c.prototype.Ajb=function(a){this.log.trace("Downloading",a.url,this.Wg);a={responseType:q.kO,ic:this.sfa(a.Ax),url:a.url,track:this};this.j.TZ.download(a,this.KBb);};c.prototype.sfa=function(a){return this.j.Fj.find(function(b){return b&&b.id===a;});};b.Yya=c;},function(d,b,a){var c,k,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.zxa=void 0;c=a(0);k=a(13);m=a(1);r=a(24);q=a(3);d=function(){var b;function a(a){this.sa=a;this.trace=[];}a.prototype.Cm=function(a){a.cause!==k.Be.Bz&&(this.trace.unshift({time:this.sa.Zb(),event:a}),5<this.trace.length&&this.trace.pop());};a.prototype.oKa=function(){var a,b;a=this;if(0===this.trace.length)return{};b=this.trace[0];return{timeSinceLastRepositionMs:this.qVa(b.time),lastRepositionCause:this.TIa(b.event.cause),repositionTrace:this.trace.map(function(b){return{timeSince:a.qVa(b.time),cause:a.TIa(b.event.cause),newMediaTime:b.event.H0,oldMediaTime:b.event.lka,contentPts:b.event.si,skip:b.event.skip};})};};a.prototype.qVa=function(a){return this.sa.Zb().Mb(a).ca(q.ja);};a.prototype.TIa=function(a){switch(a){case k.Be.Bz:return"initial";case k.Be.st:return"seek";case k.Be.Wz:return"segment_changed";case k.Be.AK:return"track_changed";}};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(r.We))],b);}();b.zxa=d;},function(d,b,a){var k,m,r,q,n;function c(a,b,c,d){this.ia=a;this.UDb=b;this.ka=c;this.app=d;this.sd={};}Object.defineProperty(b,"__esModule",{value:!0});b.Hwa=void 0;k=a(0);m=a(1);r=a(7);q=a(24);n=a(3);d=function(){var b;function a(a,b){this.kf=a;this.app=b;this.Cd={};this.ka=a.ub("PlaybackMilestoneStoreImpl");}a.prototype.eDb=function(a,b){this.Cd[a]&&this.ka.warn("registerPlayback: xid "+a+" already registered, overriding");b=(b?b:this.app.Zb()).ca(n.ja);this.ka.trace("registerPlayback: xid "+a+" at "+b);this.Cd[a]=new c(a,b,this.ka,this.app);return this.Cd[a];};a.prototype.jpb=function(a){this.Cd[a]||this.ka.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.Cd[a];};a.prototype.wDb=function(a){this.ka.trace("removePlayback: xid "+a);delete this.Cd[a];};b=a;return b=k.__decorate([m.N(),k.__param(0,m.l(r.Db)),k.__param(1,m.l(q.We))],b);}();b.Hwa=d;c.prototype.tn=function(a,b){b=b?b.ca(n.ja):this.app.Zb().ca(n.ja)-this.UDb;this.ka.trace("addMilestone: xid "+this.ia+" "+a+" at "+b);this.sd[a]=b;};},function(d,b,a){var k,m,r,q,n,l,f,h,g,F,p,E,J,K;function c(a,b,c,f,d){var n;n=this;this.j=a;this.Ih=b;this.DR=c;this.kd=f;this.nUa=d;this.Zca={};this.update=function(){var a;if(n.Om.selectionStart==n.Om.selectionEnd){a="";n.$Y().forEach(function(b){a=a?a+"\n":"";Object.keys(b).forEach(function(c){a+=c+": "+b[c]+"\n";});});n.Om.style.fontSize=q.Vm(l.jt(n.element.clientHeight/60),8,18)+"px";n.Om.value=a;}};this.Jyb=function(){var a,b;if(n.j.fj){b=n.j.fj.DB();b&&(n.Xca=b-(null!==(a=n.DVa)&&void 0!==a?a:0),n.DVa=b,n.xP());}};this.xP=function(){n.DR.Lc(n.update);};this.onkeydown=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==g.Xq.rZa||a.keyCode==g.Xq.Q)&&n.toggle();};this.KQa=[a.Za,a.ic[k.zc.Na.AUDIO],a.ic[k.zc.Na.VIDEO],a.og,a.mf,a.ml,a.tf,a.Bj,a.state,a.Bo,a.Ob,a.volume,a.muted];this.element=this.kd.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.Om=this.kd.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.Om);this.controls=this.kd.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.kd.createElement("button",void 0,"X");b.addEventListener("click",function(){return n.Qo();},!1);this.controls.appendChild(b);r.He.addListener(r.by,this.onkeydown);a.addEventListener(h.V.Af,function(){r.He.removeListener(r.by,n.onkeydown);n.Qo();});}Object.defineProperty(b,"__esModule",{value:!0});b.Fwa=void 0;k=a(50);m=a(57);r=a(56);q=a(90);n=a(190);l=a(10);f=a(15);h=a(13);g=a(103);F=a(3);d={};p=(d[h.ob.fE]="Not Loaded",d[h.ob.LOADING]="Loading",d[h.ob.vd]="Normal",d[h.ob.CLOSING]="Closing",d[h.ob.CLOSED]="Closed",d);d={};E=(d[h.Xe.vd]="Normal",d[h.Xe.Dd]="Pre-buffering",d[h.Xe.Ixa]="Network stalled",d);d={};J=(d[h.kb.Yf]="Waiting for decoder",d[h.kb.Pc]="Playing",d[h.kb.Ri]="Paused",d[h.kb.Vq]="Media ended",d);K=[h.V.g0,h.V.fcb];c.prototype.SFb=function(a){this.Zca.DFR=a;};c.prototype.show=function(){var a;a=this;this.visible||(this.wsb=M.setInterval(this.Jyb,1E3),this.j.If.appendChild(this.element),this.KQa.forEach(function(b){b.addListener(a.xP);}),K.forEach(function(b){a.j.addEventListener(b,a.xP);}),this.visible=!0);this.update();};c.prototype.Qo=function(){var a;a=this;this.visible&&(clearInterval(this.wsb),this.DVa=this.Xca=void 0,this.j.If.removeChild(this.element),this.KQa.forEach(function(b){b.removeListener(a.xP);}),K.forEach(function(b){a.j.removeEventListener(b,a.xP);}),this.DR.Lc(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Qo():this.show();};c.prototype.$Y=function(){var b,c,d,h,r,g,x,I,K,t,u,ja,na,oa,B,O,xa,ga,ya,Da,la,Fa,M,P,R,U,X,ba,ea,Ha,ha,ia,aa,fa,ka,pa,qa;b=this;t=[];u=this.Ih();t.push({Version:"0.0024.489.050",Esn:u?u.Jh:"UNKNOWN",PBCID:this.j.uk,UserAgent:l.Ql});try{ja={MovieId:this.j.G,TrackingId:this.j.Wh,Xid:this.j.ia+" ("+m.Xm.map(function(a){return a.ia;}).join(", ")+")",Position:q.jh(this.j.Za.value),Duration:q.jh(this.j.Lr.ca(F.ja)),PlayerDuration:q.jh(this.j.xq.ca(F.ja)),Volume:l.Eh(100*this.j.volume.value)+"%"+(this.j.muted.value?" (Muted)":"")};if(this.j.Pa.dj||this.j.Pa.x_)ja["Segment Position"]=q.jh(this.j.HB()),ja.Segment=this.j.aga();t.push(ja);}catch(Eb){}try{na=this.j.Al?this.j.Al.xrb():void 0;t.push({"Player state":p[this.j.state.value],"Buffering state":E[this.j.Bo.value]+(f.ma(na)?", ETA:"+q.jh(na):""),"Rendering state":J[this.j.Ob.value]});}catch(Eb){}try{oa=this.j.Ooa()+this.j.jba();B=this.j.og.value;O=null===B||void 0===B?void 0:B.stream;xa=this.j.mf.value;ga=null===xa||void 0===xa?void 0:xa.stream;ya=null!==(c=null===O||void 0===O?void 0:O.R)&&void 0!==c?c:"?";Da=ga?ga.R+" ("+ga.width+"x"+ga.height+")":"?";la=null!==(d=null===ga||void 0===ga?void 0:ga.Ub)&&void 0!==d?d:"?";Fa=null!==(r=null===(h=this.j.tf.value)||void 0===h?void 0:h.Ub)&&void 0!==r?r:"?";M=null!==(x=null===(g=this.j.ml.value)||void 0===g?void 0:g.R)&&void 0!==x?x:"?";P=null!==(K=null===(I=this.j.tf.value)||void 0===I?void 0:I.R)&&void 0!==K?K:"?";R=this.j.ic[k.zc.Na.VIDEO].value;U=this.j.ic[k.zc.Na.AUDIO].value;t.push({"Playing bitrate (a/v)":ya+" / "+Da,"Playing/Buffering vmaf":la+"/"+Fa,"Buffering bitrate (a/v)":M+" / "+P,"Buffer size in Bytes (a/v)":this.j.jba()+" / "+this.j.Ooa(),"Buffer size in Bytes":""+oa,"Buffer size in Seconds (a/v)":q.jh(this.j.eM())+" / "+q.jh(this.j.JR()),"Current CDN (a/v)":(U?U.name+", Id: "+U.id:"?")+" / "+(R?R.name+", Id: "+R.id:"?")});}catch(Eb){}try{if(this.j.og.value&&this.j.mf.value){X=this.j.og.value.stream.track;ba=this.j.mf.value.stream;ea=this.j.Bj.value;Ha=this.nUa.aN(this.j.qg.value?this.j.qg.value.ec:[]);ha=this.nUa.UM(X.ec);ia=ba.bg;aa=/hevc/.test(ia)?"hevc":/vp9/.test(ia)?"vp9":/h264hpl/.test(ia)?"avchigh":"avc";/hdr/.test(ia)&&(aa+=", hdr");/dv/.test(ia)&&(aa+=", dv");/prk/.test(ia)&&(aa+=", prk");t.push({"Audio Track":X.nl+", Id: "+X.$a+", Channels: "+X.Do+", Codec: "+ha,"Video Track":"Codec: "+Ha+" ("+aa+")","Timed Text Track":ea?ea.nl+", Profile: "+ea.profile+", Id: "+ea.$a:"none"});}}catch(Eb){}try{fa=this.j.fj;ka=this.j.tf.value?this.j.tf.value.FY:0;pa=a(291).uNa;t.push({Framerate:ka.toFixed(3),"Current Dropped Frames":f.ma(this.Xca)?this.Xca:"","Total Frames":fa.EB(),"Total Dropped Frames":fa.DB(),"Total Corrupted Frames":fa.PN(),"Total Frame Delay":fa.YY(),"Main Thread stall/sec":pa?pa.rob().join(" "):"DISABLED",VideoDiag:n.Pia(this.j.rZ())});}catch(Eb){}try{t.push({Throughput:this.j.Ga+" kbps"});}catch(Eb){}qa=void 0;try{Object.keys(this.Zca).forEach(function(a){qa=qa||{};qa[a]=JSON.stringify(b.Zca[a]);});qa&&t.push(qa);}catch(Eb){}return t;};b.Fwa=c;},function(d,b,a){var k,m,r;function c(a,b){this.config=a;this.j=b;this.FP=void 0;this.f1=!1;this.hia=0;}Object.defineProperty(b,"__esModule",{value:!0});b.Vxa=void 0;k=a(13);m=a(3);r=a(90);c.prototype.Uob=function(a,b,c,f){var d,l,n,q,r;c=void 0===c?this.j.Ma:c;f=void 0===f?!1:f;d=b===k.Be.Wz;l=this.j.EJa(c);f=this.ldb(d?a:this.heb(a,c),f,c,l);d?(a=f,f=this.j.Ib.Mr(l,f,c)):a=this.j.Ib.SM(l,f,c);b===k.Be.Bz&&(this.j.cEa=f);n=this.ru(a,b);q=(b===k.Be.st||b===k.Be.AK)&&!this.j.nMa;q=(d=d||n||q)?a:f;if(this.j.xq){r=this.config().rC;this.j.OKa(q,r)||b!==k.Be.st||(q=this.j.xq.ca(m.ja)-r-1E3,d?(a=q,f=this.j.Ib.Mr(l,q,c)):(a=this.j.Ib.SM(l,q,c),f=q));}return{H0:q,si:f,HAb:a,ru:n};};c.prototype.ldb=function(a,b,c,f){a=this.jtb()||b?Math.round(a):this.Qpb(a,c,f);this.config().Cma&&(a+=this.config().Cma);return a;};c.prototype.ru=function(a,b){return this.config().njb||b===k.Be.Wz||this.j.Pa.dj&&this.w_?!1:(b=this.j.Ib)&&b.ru(a)||!1;};c.prototype.jtb=function(){return this.j.Pa.dj?!0:"boolean"===typeof this.j.Pa.NP?this.j.Pa.NP:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?this.config().NP&&this.config().$Ab:this.config().NP;};c.prototype.heb=function(a,b){var c;b=this.j.Pu(b);c=b.Lr;b=(b.awb||c).ca(m.ja)-this.config().VLb;return r.Vm(a,0,b);};c.prototype.Qpb=function(a,b,c){var f;f=this.j.Pa.dj?this.config().nVb:this.config().nG;return this.j.Ib.vEa(a,c,f,b);};qa.Object.defineProperties(c.prototype,{w_:{configurable:!0,enumerable:!0,get:function(){return this.f1||!!this.FP;}}});b.Vxa=c;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.aza=void 0;c=a(0);k=a(205);m=a(1);d=function(){var b,d;function a(){}a.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new k.D4(b);a=this.vzb(c);b=this.xzb(c,b,a);return{Po:a,images:b};};a.prototype.vzb=function(a){var c,d,l,n;if(a.vl()<this.WDb())throw Error("array buffer too short");b.mua.forEach(function(b){if(b!=a.nf())throw Error("BIF has invalid magic.");});c=a.IC();if(c>b.VERSION)throw Error("BIF version in unsupported");d=a.IC();if(0==d)throw Error("BIF has no frames.");l=a.IC();n=a.xe(b.pxa);return{version:c,jyb:d,wVa:l,$Db:n};};a.prototype.xzb=function(a,b,c){var h,l;for(var f=[],d=0;d<=c.jyb;d++){l={timestamp:a.IC(),offset:a.IC()};void 0!=h&&f.push(b.subarray(h.offset,l.offset));h=l;}return f;};a.prototype.WDb=function(){return b.mua.length+4+4+4+b.pxa;};d=b=a;d.mua=[137,66,73,70,13,10,26,10];d.VERSION=0;d.pxa=44;return d=b=c.__decorate([m.N()],d);}();b.aza=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a9=void 0;b.a9="TrickPlayParserSymbol";},function(d,b,a){var k,m;function c(a,b,c,d,f,h,m,g,p,E,J){this.index=a;this.G=b;this.Ma=c;this.Pa=d;this.ia=f;this.Kk=h;this.Dia=m;this.$eb=p;this.oOa=J;this.Rc=new k.Oc(null);this.qg=new k.Oc(null);this.uc=new k.Oc(null);this.Bj=new k.Oc(null);this.Os=new k.Oc(void 0);this.tf=new k.Oc(null);this.ml=new k.Oc(null);this.og=new k.Oc(null);this.mf=new k.Oc(null);this.Za=new k.Oc(void 0);this.playbackRate=new k.Oc(1);this.xn=new k.Oc(null);this.pu=this.yx="notcached";this.background=!1;g&&(this.tf.set(g.tf.value),this.ml.set(g.ml.value));this.zm=E(this);this.Jk=this.oOa.eDb(this.ia,this.Kk);}Object.defineProperty(b,"__esModule",{value:!0});b.Iwa=void 0;k=a(191);m=a(3);c.prototype.jd=function(a){this.Jk.tn(a);};c.prototype.Uu=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.Jk.tn(c,m.Gb(a[c]-b.Kk.ca(m.ja)));});};c.prototype.O0=function(){this.oOa.wDb(this.ia);};qa.Object.defineProperties(c.prototype,{ke:{configurable:!0,enumerable:!0,get:function(){return this.Pa.ke;}},xk:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.xk;}},vn:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.vn;}},Rm:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Rm;}},ew:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.ew;}},Tk:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Tk;}},ng:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.ng;}},dv:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.dv;}},Dq:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Dq;}},Fj:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Fj;}},s1:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.s1;}},Lr:{configurable:!0,enumerable:!0,get:function(){return this.N9&&0<this.N9.ca(m.ja)?this.N9:m.Gb(this.ya?this.ya.Nf.duration:0);},set:function(a){this.N9=a;}},Wh:{configurable:!0,enumerable:!0,get:function(){return this.Pa.Wh||0;}},Wca:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.bX?this.bX:void 0===this.Za.value?null:this.$eb(this.Za.value,this.Ma);}},uk:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.ya)||void 0===a?void 0:a.Nf.AEa)||void 0===b?void 0:b.tC;}},TC:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.ya)||void 0===a?void 0:a.Nf.AEa)||void 0===b?void 0:b.TC;}},sd:{configurable:!0,enumerable:!0,get:function(){return this.Jk.sd;}}});b.Iwa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R7=void 0;b.R7="PlayTimeTrackerFactorySymbol";},function(d,b,a){var k,m,r,q,n,l,f,h,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zwa=void 0;k=a(0);m=a(1);r=a(7);q=a(14);n=a(100);a(3);l=a(23);f=a(86);h=a(9);g=a(21);c.prototype.encode=function(a){return{key:a.key,downloadableId:a.pd,bitrate:a.R,vmaf:a.Ub,duration:a.duration,metric:a.fP,cdnId:a.Ax};};c.prototype.decode=function(a){return{key:a.key,pd:a.downloadableId,R:a.bitrate,Ub:a.vmaf,duration:a.duration,fP:a.metric,Ax:a.cdnId};};d=function(){var b;function a(a,b,c,f,d){var h;h=this;this.vh=a;this.config=c;this.Ia=f;this.debug=d;this.o1=[];this.gp=[];this.Ska=[];this.RA={};this.RGa=!1;this.nM={};this.yha=0;this.log=b.ub("PlayTimeTracker");this.startTime=this.vh.Za.value;this.U_=this.config().z$a;this.RR();this.RA.abrdel=0;this.U_.forEach(function(a){a="abrdel"+a;h.nM[a]=0;h.RA[a]=0;});}a.prototype.cO=function(){var a;this.$C(this.vh.Za.value);a=0;this.gp.forEach(function(b){a+=(b.endTime-b.startTime)/b.C1;});return Math.floor(a);};a.prototype.yKa=function(){var a;this.$C(this.vh.Za.value);a=0;this.gp.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalContentPlayTime is not an integer.");return Math.floor(a);};a.prototype.$mb=function(){this.$C(this.vh.Za.value);return{audio:this.TN(this.o1,this.hJa),video:this.TN(this.gp,this.hJa)};};a.prototype.hpb=function(){var a;a={total:this.cO(),totalContentTime:this.yKa(),audio:this.TN(this.o1,this.WY),video:this.TN(this.gp,this.WY),timedtext:this.TN(this.Ska,this.WY)};this.debug.assert(!(!a.audio||!a.video));return a;};a.prototype.JIa=function(){var a,b;this.$C(this.vh.Za.value);a=this.jfa(this.gp,this.mnb);try{b=this.KIa(a);}catch(K){return this.log.warn("Failed to calc average bitrate."),null;}this.RA.abrdel=Math.round(b);return this.RA.abrdel;};a.prototype.enb=function(){var a,b;this.$C(this.vh.Za.value);a=this.jfa(this.gp,this.xqb);try{b=this.KIa(a);}catch(K){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};a.prototype.dnb=function(){var a,b;a=this;if(!this.RGa){b=this.cO();this.U_.forEach(function(c){var f,d,l;if(0===a.nM["abrdel"+c]&&b>c*h.tj){f=0;d=0;l=0;a.gp.some(function(a){f+=a.stream.R*(a.endTime-a.startTime);d+=a.endTime-a.startTime;l=a.stream.R;if(d>c*h.tj)return!0;});f&&(a.nM["abrdel"+c]=Math.round((f-l*(d-c*h.tj))/(c*h.tj)));}});0!==this.nM["abrdel"+this.U_[this.U_.length-1]]&&(this.RGa=!0);g.zd(this.nM,function(b,c){a.RA[b]=0===c?a.RA.abrdel:c;});}return this.RA;};a.prototype.V$a=function(a){this.yha+=a;};a.prototype.irb=function(){return!!(this.gp[0]&&this.gp[0].stream&&this.Ia.Sd(this.gp[0].stream.Ub));};a.prototype.RR=function(){var a;a=this;this.vh.og.addListener(function(b){a.WF=a.FEa(a.WF,a.o1,b.newValue);});this.vh.mf.addListener(function(b){a.YF=a.FEa(a.YF,a.gp,b.newValue);});this.vh.playbackRate.addListener(function(b){a.$C(a.vh.Za.value,b.oldValue);});this.vh.Bj.addListener(this.xyb.bind(this));};a.prototype.Xxb=function(a,b){this.$C(a);this.startTime=b;this.YF=this.WF=void 0;this.XF&&(this.XF.startTime=this.startTime);};a.prototype.xyb=function(a){this.WP(this.XF,this.Ska,this.vh.Za.value);this.XF=a.newValue?{track:a.newValue,startTime:this.vh.Za.value,endTime:n.ht}:void 0;};a.prototype.$C=function(a,b){b=void 0===b?this.vh.playbackRate.value:b;a&&this.WF&&this.YF&&(a=Math.min(a,this.WF.endTime,this.YF.endTime),this.WP(this.WF,this.o1,a,b),this.WF.startTime=a,this.WP(this.YF,this.gp,a,b),this.YF.startTime=a,this.XF&&(this.WP(this.XF,this.Ska,a,b),this.XF.startTime=a),this.startTime=a);};a.prototype.FEa=function(a,b,c){a&&this.WP(a,b,Math.min(a.endTime,this.vh.Za.value));if(c&&c.stream)return a=c.Eo,b=c.stream,{ic:c.ic,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};a.prototype.WP=function(a,b,c,f){f=void 0===f?this.vh.playbackRate.value:f;a&&c&&c>=a.startTime&&(a={ic:a.ic,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c,C1:f},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.ic===a.ic&&c.endTime===a.startTime&&c.C1===a.C1?c.endTime=a.endTime:b.push(a));};a.prototype.jfa=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,d){var h,l,n;h=b.bind(c,d)();l=h.key;d=d.endTime-d.startTime;n=f[l];n?n.duration+=d:(delete h.key,n=h,n.duration=d,a.push(n),f[l]=n);return a;},[]);};a.prototype.TN=function(a,b){return this.jfa(a,b).map(function(a){return new c().encode(a);});};a.prototype.WY=function(a){var b,c,f;f=a.stream;f?(a=f.pd,b=f.R,c=f.Ub):a=a.track.pd;return{key:a+"$"+(b||0),pd:a,R:b,Ub:c};};a.prototype.hJa=function(a){var b;b=this.WY(a);a=a.ic.id;return Object.assign({},b,{key:b.key+"$"+a,Ax:a});};a.prototype.mnb=function(a){a=(a=a.stream)?a.R:0;return{key:a,fP:a};};a.prototype.xqb=function(a){a=(a=a.stream)?a.Ub:0;return{key:a,fP:a};};a.prototype.KIa=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Ia.Sd(a.duration)&&b.Ia.Sd(a.fP))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.fP*a.duration/c;});return f;};b=a;return b=k.__decorate([m.N(),k.__param(1,m.l(r.Db)),k.__param(2,m.l(q.fd)),k.__param(3,m.l(l.Le)),k.__param(4,m.l(f.Tq))],b);}();b.zwa=d;},function(d,b,a){var k,m,r,q,n,l,f,h,g,F,p,t;function c(a){this.j=a;this.Nna=!1;this.log=n.zg(this.j,"MediaAppendManager");this.wb=this.j.wb;this.la=this.wb.la;this.Ika=this.OR=this.hM=!1;this.audio={type:q.Kg.audio,cG:[],Rn:[]};this.video={type:q.Kg.video,cG:[],Rn:[]};a={};this.sR=(a[k.zc.Pi.VIDEO]=this.video,a[k.zc.Pi.AUDIO]=this.audio,a);this.closed=!1;this.sy=m.config.sy;this.q0=m.config.q0;this.rC=m.uFa(!!this.j.Pa.dj).rC;f.lb(this.sy>this.q0,"bad config");f.lb(this.sy>this.rC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.Lua=void 0;k=a(50);m=a(12);r=a(43);q=a(75);n=a(6);l=a(2);f=a(17);h=a(22);g=a(13);F=a(169);p=a(3);t=a(52);c.prototype.dyb=function(){this.audio.Yj&&!this.audio.Yj.vi()&&this.audio.Yj.mDa(new Uint8Array([0,0,0,8,102,114,101,101]));};c.prototype.kGb=function(){this.audio.hna=!0;this.video.hna=!0;};c.prototype.rGb=function(a){a===k.zc.Pi.AUDIO?this.hM=!0:a===k.zc.Pi.VIDEO&&(this.OR=!0);};c.prototype.vi=function(){var a,b;return!(null===(a=this.audio.Yj)||void 0===a||!a.vi())||!(null===(b=this.video.Yj)||void 0===b||!b.vi());};c.prototype.u2=function(a){var b,c;null===(b=this.audio.Yj)||void 0===b?void 0:b.u2(a);null===(c=this.video.Yj)||void 0===c?void 0:c.u2(a);};c.prototype.Qab=function(a){var b;a.L===k.zc.Pi.AUDIO?this.hM=!1:a.L===k.zc.Pi.VIDEO&&(this.OR=!1);b=this.sR[a.L];b?b.Rn.push(a):f.lb(!1);};c.prototype.Oab=function(a,b,c){b={L:a.type,RB:!1,response:b,Pj:function(){return"header";},get bc(){return!this.RB;},profile:c.profile};(a=this.sR[a.type])?a.Rn.push(b):f.lb(!1);};c.prototype.pGb=function(a){var b;b=this.sR[a.type];if(b)try{b.Yj=a;}catch(D){this.md(l.K.s7,{ga:F.XY(a.type),sb:h.Ge(D)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.md=function(a,b,c){this.closed||this.j.md(a,b,c);};c.prototype.jda=function(a){return this.PGa(this.audio,a,this.sX())&&this.PGa(this.video,a,this.sX());};c.prototype.sX=function(){return this.j.Ob.value===g.kb.Yf?this.rC:this.q0;};c.prototype.dJb=function(){var a,b;a=this.video.Rn.filter(function(a){return!a.bc;}).reduce(function(a,b){return a+b.Or;},0);b=this.audio.Rn.filter(function(a){return!a.bc;}).reduce(function(a,b){return a+b.Or;},0);return Math.min(a,b);};c.prototype.PGa=function(a,b,c){var f;f=a.uX;f=f&&f.cP;return!a.Yj||0===a.Rn.length&&(a.type===q.Kg.audio&&this.hM||a.type===q.Kg.video&&this.OR)?!0:f&&f.hI-b>=c||!1;};c.prototype.toa=function(a){var b,c;this.Nna||(this.XVa(this.audio,a),this.XVa(this.video,a));!(this.closed||!(0===this.audio.Rn.length&&this.hM||0===this.video.Rn.length&&this.OR)||(null===(b=this.audio.Yj)||void 0===b?0:b.vi())||(null===(c=this.video.Yj)||void 0===c?0:c.vi())||this.Yda)&&this.la.readyState>t.Pd.Isa.HAVE_NOTHING&&(this.Yda=!0,this.wb.endOfStream());};c.prototype.XVa=function(a,b){var c,f,d;if(!this.closed&&a.Yj){c=a.Yj;f=a.cG;!c.vi()&&0<f.length&&(a.uX=f[f.length-1]);if(a.hna){if(c.vi())return;a.hna=!1;d=this.wb.QJa().r1(p.Sl);0<d&&c.remove(0,d);}for(d=a.Rn[0];d&&d.response&&(d.bc||d.Pv-b<=this.sy);)if(this.Yda=!1,this.OJb(d))a.Rn.shift(),d=a.Rn[0];else break;!c.vi()&&0<f.length&&(a.uX=f[f.length-1]);}};c.prototype.OJb=function(a){var b,c,d;f.lb(a&&a.response);b=a.response;c=a.L;d=this.sR[c];if(!this.closed&&d.Yj&&!d.Yj.vi()){try{a.bc&&a.profile&&d.Yj.Idb(a.profile);this.log.trace("Feeding media segment to decoder",{Bytes:b.byteLength});d.Yj.mDa(b,a);a.bc||d.cG.push(this.$gb(a));m.config.pjb&&!a.bc&&a.SEa();}catch(Q){"QuotaExceededError"!=Q.name?(this.log.error("Exception while appending media",a,Q),this.md(l.K.x3a,F.XY(c))):this.j.vX=this.j.vX?this.j.vX+1:1;return;}return!0;}};c.prototype.Rgb=function(a){var b;b=this.j.Yqb(a.Kb);b||(this.log.error("Could not find CDN",{cdnId:a.Kb}),b={id:a.Kb,wia:a.location});return b;};c.prototype.Fhb=function(a){var b,c;c=a.ta;a.L===k.zc.Pi.AUDIO?b=this.j.MKa(c):a.L===k.zc.Pi.VIDEO&&(b=this.j.VKa(c));b||this.log.error("Could not find stream",{stream:c});return b;};c.prototype.$gb=function(a){var b;b=this.Fhb(a);return{cP:a,stream:b,Eo:{startTime:Math.floor(a.Pv),endTime:Math.floor(a.hI)},ic:this.Rgb(a)};};c.prototype.MEa=function(a){this.OEa(a,k.zc.Pi.AUDIO);this.OEa(a,k.zc.Pi.VIDEO);};c.prototype.OEa=function(a,b){for(var c=this.sR[b],f=c.cG,d,l=!1;(d=f[0])&&d.cP.Pv<=a;)if(a<d.cP.hI){a=b===k.zc.Pi.AUDIO?this.j.og:this.j.mf;r.nca(d,a.value)||(l=!0,a.set(d));break;}else f.shift();!l&&!this.Ika||this.Yda||(d=d&&d.cP.Pv-d.cP.Or-1,0<d&&((c=c.Yj)&&!c.vi()?(c.remove(0,d/h.tj),this.Ika=!1):this.Ika=!0));};c.prototype.ASa=function(){this.audio.cG=[];this.audio.uX=void 0;this.audio.Rn=[];this.video.cG=[];this.video.uX=void 0;this.video.Rn=[];this.OR=this.hM=!1;this.j.fireEvent(g.V.g0);};b.Lua=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rRa=void 0;b.rRa=function(a){var b,d;b=!1;d=!1;return function(){if(b)d=!0;else for(d=!0;d;)d=!1,b=!0,a(),b=!1;};};},function(d,b,a){var k,m,r,q,n,l;function c(a){var b,c;b=this;this.j=a;this.Fyb=function(){var a;r.He.removeListener(r.wZ,b.LPa);a=b.Ro.Jn();a&&a.parentNode&&a.parentNode.removeChild(a);};this.wka=function(a){b.Ro.VFb(a.newValue);};this.azb=function(a){b.Ro.aGb(a.newValue?a.newValue.u_:void 0);};this.LPa=function(){b.Ro.pI();};this.Ro=new n.Pya(q.config.boa,a.uc.value?a.uc.value.u_:void 0);c=a.iJ;m.lb(.1<c.width/c.height);this.Ro.MFb(c.width/c.height);a.If.appendChild(this.Ro.Jn());a.Os.addListener(this.wka);a.uc.addListener(this.azb);a.addEventListener(l.V.Af,this.Fyb,k.Pz);r.He.addListener(r.wZ,this.LPa);}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;k=a(9);m=a(17);r=a(56);q=a(12);n=a(298);l=a(13);c.prototype.ena=function(a){this.Ro.ena(a);};c.prototype.wga=function(){return this.Ro.wga();};c.prototype.cna=function(a){this.Ro.cna(a);};c.prototype.uga=function(){return this.Ro.uga();};c.prototype.dna=function(a){this.Ro.dna(a);};c.prototype.vga=function(){return this.Ro.vga();};b.Rya=c;},function(d,b,a){var c,k,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;d=a(57);c=a(12);k=a(56);m=a(6);r=a(22);q=a(241);n=a(131);l=a(66);f=a(103);h=a(13);d.Z7(d.V7,function(a){var d;function b(b){var c;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==f.Xq.K4a){c=r.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,f,h;b=c.files[0];if(b){f=b.name;d.info("Loading file",{FileName:f});h=new FileReader();h.readAsText(b);h.addEventListener("load",function(){return a.$n.Eaa("nourl",f,{content:h.result});});}});c.click();}}d=m.zg(a,"TimedTextCustomTrack");c.config.Yca&&(d.info("Loading url",{Url:c.config.Yca}),a.$n.Eaa(c.config.Yca,"custom"));k.He.addListener(k.by,b);a.addEventListener(h.V.Af,function(){k.He.removeListener(k.by,b);});});a=function(){function a(a,b,c,f,d){var h,l;a=q.aA.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",f||a,n.cn.kE,"primary",null!==(h=null===d||void 0===d?void 0:d.profile)&&void 0!==h?h:"custom",null!==(l=null===d||void 0===d?void 0:d.midx)&&void 0!==l?l:{},!1,!1,null===d||void 0===d?void 0:d.isLanguageLeftToRight)||this;a.j=b;a.url=c;a.options=d;a.Nq=null===d||void 0===d?void 0:d.useRangeHeader;return a;}ba(a,q.aA);a.Ygb=function(b,c,f,d){var h;h="custom"+a.rsb++;return new a(h,b,c,f,d);};a.prototype.UGa=function(){var a;a=this;return new Promise(function(b,c){var f,d;if(null===(f=a.options)||void 0===f?0:f.content)b(a.options.content);else if(a.url){d={responseType:l.Yga,url:a.url,track:a,ic:null,kB:"tt-"+a.nl};a.j.TZ.download(d,function(f){f.da?b(f.content):(f.reason="downloadfailed",f.url=d.url,f.track=a,c(f));});}});};a.rsb=0;return a;}();b.Oya=a;},function(d,b,a){var m;function c(a,b,c){this.start=a;this.track=b;this.TI=Array.isArray(c)?c:[];}function k(a,b){this.log=a;this.vD=b;this.yla=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;m=a(17);k.prototype.H$a=function(a,b){this.TOa(a,b,"activating");};k.prototype.$hb=function(a){this.$da(a,"de-activating");};k.prototype.TOa=function(a,b,d){var l;this.Ij&&this.$da(a,"close current for new");l=[];this.orphans.length&&(l.push.apply(l,[].concat(ea(this.orphans))),this.orphans=[]);this.Ij=new c(a,b,l);this.vD&&this.log.trace("new range: "+d,this.Ij);};k.prototype.$da=function(a,b){this.Ij&&(this.Ij.end=a,this.yla.push(this.Ij),this.vD&&this.log.trace("end range: "+b,this.Ij||{}),this.Ij=void 0);};k.prototype.yWa=function(a){this.Ij?this.Ij.TI.push(a):this.orphans.push(a);};k.prototype.qga=function(a){var b,d;b=this.yla.slice(0);if(this.Ij&&"undefined"!==typeof a){d=new c(this.Ij.start,this.Ij.track,this.Ij.TI);d.end=a;b.push(d);}a=b.reduce(function(a,b){var c,f,d,l;if(!b.track)return a;f=b.track.pd;d=b.track.Zx(b.start,b.end);if(!d)return a;l=new Set(b.TI);a[f]?(b=a[f],b.expected+=d.length,b.missed+=d.length-l.size):a[f]={dlid:f,bcp47:b.track.nl,profile:b.track.profile,expected:d.length,missed:d.length-l.size,startPts:null!==(c=b.track.Rpb())&&void 0!==c?c:0};return a;},{});a=Object.values(a);this.vD&&this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};k.prototype.Gpb=function(a){var b,d,l,f;b=this.yla.slice(0);d=0;l=0;this.Ij&&"undefined"!=typeof a&&(f=new c(this.Ij.start,this.Ij.track,this.Ij.TI),f.end=a,b.push(f));b.forEach(function(a){var b,c;if(a.track){if(a.end<a.start){m.lb("negative range",a);a.Qy=0;return;}b=new Set(a.TI);c=a.track.Zx(a.start,a.end);a.$p=c?c.map(function(a){return a.id;}):[];a.Qy=c?0===c.length?100:100*b.size/c.length:0;}else a.Qy=100;b=a.end-a.start;d+=b;l+=a.Qy*b;});f=d?Math.round(l/d):100;this.log.trace("qoe score "+f+", at pts: "+a);this.vD&&(a=b.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.Qy),lang:a.track?a.track.nl:"none","actual  ":a.TI.join(" "),expected:(a.$p||[]).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return f;};b.wya=k;},function(d,b,a){var c,k,m,r,q,n,l,f,h,g,F,p;Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;c=a(241);k=a(302);m=a(74);r=a(12);q=a(43);n=a(6);l=a(628);f=a(2);h=a(59);g=a(15);F=a(13);p=a(627);d=function(){var b;function a(b){var d;d=this;this.j=b;this.Jna=this.MOa=0;this.Af=this.Am=!1;this.Y1=0;this.ZI=function(){var a,b;d.X1();d.cN&&(d.log.info("Deactivating",d.cN),d.Xy.$hb(d.Ld()));d.j.Bj.set(null);d.kD.HTa(d.entries=void 0);d.TEa();a=d.j.uc.value;a&&a.v_()&&!a.q_()&&(a=null);if(a&&d.j.Ob.value!==F.kb.Yf){b=d.Ld();d.Xy.H$a(b,a);}a?(d.log.info("Activating",a),d.j.Sk.set(a.Tc()===c.aA.w8.LOADED?F.Xe.vd:F.Xe.Dd),d.Am||d.j.jd("tt_start"),a.getEntries().then(d.vF)["catch"](d.vF)):d.j.Sk.set(F.Xe.vd);d.cN=a;d.cJ();};this.Rna=function(){d.Am&&(d.kD.start(),d.j.Ob.value!==F.kb.Pc&&d.kD.stop());};this.cJ=function(){var b;d.j.state.value===F.ob.vd&&d.j.Ob.value!==F.kb.Yf&&(d.entries?b=d.kD.Qmb():d.j.uc.value&&(b=a.yHb[d.j.uc.value.Tc()]));b&&g.$b(b.startTime)&&(d.MOa++,d.Jna+=d.kD.RJa()-b.startTime,d.SDa=Math.ceil(d.Jna/(d.MOa+0)));d.j.Os.set(b);};this.Ld=function(){var a;a=d.j.$fa();d.cN&&d.cN.iq&&(a+=d.cN.iq);return a;};this.Zyb=function(b){d.fireEvent(a.$Gb,b);b&&b.id&&d.Xy.yWa(b.id);d.log.trace("showsubtitle",d.nKa(b));};this.Tyb=function(b){d.fireEvent(a.DDb,b);d.log.trace("removesubtitle",d.nKa(b));};this.Fk=function(){d.log.warn("imagesubs buffer underflow",d.j.uc.value.Wg);d.j.Sk.set(F.Xe.Dd);};this.zyb=function(){d.log.info("imagesubs buffering complete",d.j.uc.value.Wg);d.j.Sk.set(F.Xe.vd);};this.S0=function(){d.Am&&d.hg&&d.hg.Mq(d.Ld());};this.IPa=function(a){d.hg&&d.hg.KQ&&d.hg.KQ(a.cg,a.qP);};this.MPa=function(a){d.hg&&d.hg.up&&d.hg.up(a.Ma,a.DKb);};this.V0=function(){d.Am=!0;h.pc(function(){d.hg?d.hg.Mq(d.Ld()):d.Rna();d.cJ();});};this.vP=function(){d.entries=void 0;d.TEa();d.kD.stop();d.cJ();d.Af=!0;d.X1();};this.wka=function(a){(a=a.newValue)&&g.$b(a.id)&&d.Xy.yWa(a.id);};this.Qyb=function(a){d.xKb(a.newValue,a.oldValue);d.Rna();};this.vF=function(a){var b;if(!d.Af){b=a.track;if(b===d.j.uc.value)try{b.Nn?d.F$a(a):d.G$a(a);}catch(V){d.log.error("Error activating track:",V,b);return;}d.Am||d.j.jd(a.da?"tt_comp":"tt_err");a.da?(r.config.TSa?setTimeout(function(){d.j.Sk.set(F.Xe.vd);},r.config.TSa):d.j.Sk.set(F.Xe.vd),b.Nn||d.cJ()):a.xr?d.log.warn("aborted timed text track loading"):r.config.xlb?d.j.md(f.K.p1a,{sb:a.track?a.track.Wg:{}}):(d.log.error("ignore subtitle initialization error",a),d.j.Sk.set(F.Xe.vd));}};this.Jb=new m.rj();this.Xy=new l.wya(n.zg(b,"SubtitleTracker"),r.config.Akb);this.log=n.zg(b,"TimedTextManager");this.kD=new k.Sya(this.Ld,this.cJ);this.j.uc.addListener(this.ZI);r.config.XAb?(this.j.addEventListener(F.V.Tn,this.V0),this.ZI()):(this.j.Sk.set(F.Xe.vd),this.j.addEventListener(F.V.Tn,function(){d.Am=!0;d.ZI();}));this.j.Ob.addListener(this.Qyb);this.j.addEventListener(F.V.Xna,this.Rna);this.j.Os.addListener(this.wka);this.j.addEventListener(F.V.Af,this.vP);}a.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};a.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};a.prototype.fireEvent=function(a,b,c){this.Jb.Wb(a,b,c);};a.prototype.Eaa=function(a,b,c){var f;f=p.Oya.Ygb(this.j,a,b,c);this.j.Tk.push(f);this.j.vn.forEach(function(a){q.upa(a.Tk,f);});this.j.uc.set(f);this.j.fireEvent(F.V.lD);};a.prototype.eBb=function(a){this.ama(a)?a.getEntries().then(function(){}):Promise.resolve();};a.prototype.Ypb=function(a){return this.Xy.Gpb(a);};a.prototype.qga=function(a){return this.Xy.qga(a);};a.prototype.oZ=function(){var a,b;a=this.j.pR;b=r.config.tVa.characterSize;b={size:r.config.coa.characterSize||b};a&&(b.visibility=a.wga(),b.sM=a.uga(),b.$o=a.vga());return b;};a.prototype.tGb=function(a){r.config.coa.characterSize=a;a=this.j.uc.value;this.ama(a)&&!a.Nn&&a.getEntries().then(this.vF)["catch"](this.vF);};a.prototype.xKb=function(a,b){var c;a===F.kb.Pc||a==F.kb.Ri?b!==F.kb.Pc&&b!==F.kb.Ri&&((b=this.j.uc.value)&&!this.ama(b)||this.Xy.TOa(this.Ld(),b||void 0,"presentingstate:"+a)):a!==F.kb.Yf&&a!==F.kb.Vq||this.Xy.$da(null!==(c=this.Ld())&&void 0!==c?c:void 0,"presentingstate:"+a);};a.prototype.X1=function(){this.Y1=0;clearTimeout(this.oEb);};a.prototype.TEa=function(){this.hg&&(this.hg.stop(),this.ANa("removeListener"));this.hg=void 0;};a.prototype.ANa=function(a){this.hg&&(this.hg[a]("showsubtitle",this.Zyb),this.hg[a]("removesubtitle",this.Tyb),this.hg[a]("underflow",this.Fk),this.hg[a]("bufferingComplete",this.zyb),"addListener"===a?(this.j.addEventListener(F.V.Ho,this.S0),this.j.addEventListener(F.V.J0,this.IPa),this.j.addEventListener(F.V.up,this.MPa)):(this.j.removeEventListener(F.V.Ho,this.S0),this.j.removeEventListener(F.V.J0,this.IPa),this.j.removeEventListener(F.V.up,this.MPa)));};a.prototype.nKa=function(a){return{currentPts:this.Ld(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};a.prototype.F$a=function(a){var b,c;b=this;c=a.track;if(!c||!c.Nn)throw Error("Not an image base subtitle");a.da?(this.X1(),this.hg=c.hg,this.ANa("addListener"),this.log.info("Activated",c),this.j.Bj.set(c),this.Am?h.pc(function(){b.hg.Mq(b.Ld());}):this.hg.pause()):this.KSa(c,a);};a.prototype.G$a=function(a){var b,c;b=a.track;c=a.entries;if(!b||b.Nn)throw Error("Not a valid text track");c?(this.X1(),this.kD.HTa(this.entries=c),this.log.info("Activated",b),this.j.Bj.set(b)):this.KSa(b,f.Dp(a));this.cJ();};a.prototype.KSa=function(a,b){var c,f;c=this;f=this.Y1<r.config.$vb;f&&(this.oEb=setTimeout(function(){c.Y1++;a.getEntries().then(c.vF)["catch"](c.vF);},r.config.VIb));this.log.error("Failed to activate"+((null===a||void 0===a?0:a.Nn)?" img subtitle":""),{retry:f},b,a);};a.prototype.ama=function(a){return!(!a||a.v_()&&!a.q_());};b={};a.yHb=(b[c.aA.w8.LOADING]={JWb:!0},b[c.aA.w8.bK]={Rx:!0},b);a.$Gb="showsubtitle";a.DDb="removesubtitle";return a;}();b.Qya=d;},function(d,b,a){var q,n,l,f,h,g,F,p,t,J,K,D,T,u,V,S,A,Z,ma,da,W,N,ja,na,oa,B;function c(a){var b;b=this;this.j=a;this.gXa=Promise.resolve();this.d5=M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.jx=[];this.lk=new h.rj();this.fAa=this.w9=0;this.NU=[];this.$f=p.zg(this.j,"MediaElementASE");this.VBa=u.Ye;this.U9=!1;this.Zl={};this.FAa={};this.EB=this.PU(function(){var a;if(b.la){a=b.eV();return a?a.totalVideoFrames:b.la.webkitDecodedFrameCount;}});this.DB=this.PU(function(){var a;if(b.la){a=b.eV();return a?a.droppedVideoFrames:b.la.webkitDroppedFrameCount;}});this.PN=this.PU(function(){var a;if(b.la){a=b.eV();return a&&a.corruptedVideoFrames;}});this.YY=this.PU(function(){var a;if(b.la){a=b.eV();return a&&S.Eh(a.totalFrameDelay*u.tj);}});this.XAa=function(a){return b.lk.Wb(ma.ai.UMa,{na:a});};this.Rj=p.$.get(Z.l6).create(f.config.wp,this,this.j);f.config.ny&&(this.gXa=new Promise(function(a){b.VBa=a;b.j.addEventListener(N.V.Af,a);}));this.$f.trace("Created Media Element");this.addEventListener=this.lk.addListener;this.removeEventListener=this.lk.removeListener;this.la=k(this.j.iJ);this.sourceBuffers=this.jx;}function k(a){var b,c;b=p.$.get(da.n9).zpb();a=a.width/a.height*b.height;c=(b.width-a)/2;return f.config.xGb?u.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):u.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(a){a.preventDefault();return!1;}function r(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;u.$b(d)||(d=f&&f.code);f=c&&c.msExtendedCode;u.$b(f)||(f=c&&c.systemCode);u.$b(f)||(f=a.systemCode);a=u.xb({},{code:d,systemCode:f},{Av:!0});b={ga:b(d),sb:V.Pia(a)};try{c&&c.message&&(b.aP=c.message);}catch(la){}f=u.Md(f);A.ma(f)&&(b.se=p.xba(f,4));return{wG:b,bvb:a};}Object.defineProperty(b,"__esModule",{value:!0});b.Qua=void 0;q=a(50);n=a(192);l=a(9);f=a(12);h=a(74);g=a(56);F=a(43);p=a(6);t=a(2);J=a(17);K=a(90);D=a(480);T=a(21);u=a(22);V=a(190);S=a(10);A=a(15);Z=a(303);ma=a(189);da=a(327);W=a(3);N=a(13);ja=a(177);na=a(52);oa=!!(S.eE&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);B=oa&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||S.dE);c.prototype.RN=function(a){try{this.la&&(this.fAa=this.la.currentTime);}catch(xa){this.$f.error("Exception while getting VIDEO.currentTime",xa);a&&this.FE(t.K.v3a,xa);}return S.Eh(this.fAa*u.tj);};c.prototype.seek=function(a){var b;J.lb(!this.nn);this.RBa();b=this.RN(!0);if(!f.config.Gab&&S.Iz(b-a)<=this.Dma)this.$f.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Dma});else try{this.$f.trace("Setting video elements currentTime",{From:K.jh(b),To:K.jh(a)});this.nn={};this.la.currentTime=a/u.tj;this.lk.Wb(ma.ai.Ho);}catch(ga){this.$f.error("Exception while setting VIDEO.currentTime",ga);this.FE(t.K.w3a,ga);}};c.prototype.dKa=function(){return!!this.nn;};c.prototype.addSourceBuffer=function(a){var b,c;b=u.Md(this.w9.toString()+this.jx.length.toString());b={sourceId:this.w9,HW:b};try{c=new n.L6(this.j,a,this.bf,b,this.$f);this.jx.push(c);a==l.ZD&&c.Lea&&c.Lea.addListener(this.VBa);return c;}catch(ya){c=u.Ge(ya);this.$f.error("Unable to add source buffer.",{error:c});this.j.md(t.K.s7,{ga:a===q.zc.Pi.AUDIO?u.J.vua:u.J.wua,sb:c});}};c.prototype.pW=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.lk.Wb(ma.ai.oUa);return!0;};c.prototype.removeSourceBuffer=function(a){this.jx=this.jx.filter(function(b){return!F.nca(a,b);});this.bf.removeSourceBuffer(a);};c.prototype.endOfStream=function(){f.config.Qba&&this.bf.endOfStream();};c.prototype.Xp=function(a){this.jx=[];a&&a.LXb();return!0;};c.prototype.KFb=function(a){this.w9=a;};c.prototype.QJa=function(){if(this.bf)return W.YQa(this.bf.duration);};c.prototype.cGb=function(a){this.bf&&(this.bf.duration=a.r1(W.Sl));};c.prototype.fjb=function(){var a;if(!this.U9&&this.la&&this.la.readyState>=na.Pd.Isa.HAVE_CURRENT_DATA){a=this.la.webkitDecodedFrameCount;if(void 0===a||0<a||f.config.MLb)this.U9=!0;}return this.U9;};c.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(N.V.cUa,function(b){return a.K8a(b);});if(oa){if(this.j.dv){if(!B){this.EE(t.K.Nva);return;}if(S.dE&&S.dE.isTypeSupported&&this.Rj.Wd)try{if(!S.dE.isTypeSupported(this.Rj.Wd,"video/mp4")){this.e$a(function(b){a.EE(t.K.q7,b);});return;}}catch(ya){this.FE(t.K.q7,ya);return;}}try{this.bf=new S.eE();}catch(ya){this.FE(t.K.l3a,ya);return;}try{this.kl=URL.createObjectURL(this.bf);}catch(ya){this.FE(t.K.m3a,ya);return;}try{this.Rj.Y$a(this.XAa);this.bf.addEventListener("sourceopen",function(b){return a.uBa(b);});this.bf.addEventListener(this.d5+"sourceopen",function(b){return a.uBa(b);});this.la.addEventListener("error",this.Zl.error=function(b){return a.dF(b);});this.la.addEventListener("seeking",this.Zl.seeking=function(){return a.J8a();});this.la.addEventListener("seeked",this.Zl.seeked=function(){return a.I8a();});this.la.addEventListener("timeupdate",this.Zl.timeupdate=function(){return a.M8a();});this.la.addEventListener("loadstart",this.Zl.loadstart=function(){return a.vL();});this.la.addEventListener("volumechange",this.Zl.volumechange=function(b){return a.N8a(b);});this.la.addEventListener(this.Rj.nC,this.Zl[this.Rj.nC]=function(b){return a.H8a(b);});b=this.j.If;c=b.lastChild;c?b.insertBefore(this.la,c):b.appendChild(this.la);f.config.HGa&&this.la.addEventListener("contextmenu",m);this.la.src=this.kl;g.He.addListener(g.VG,this.FAa[g.VG]=function(){return a.tBa();});this.tBa();}catch(ya){this.FE(t.K.n3a,ya);}}else this.EE(t.K.Ova);};c.prototype.close=function(){var b;function a(){b.kl&&(b.RBa(),g.He.removeListener(g.VG,b.FAa[g.VG]),b.a6a());}b=this;this.la.removeEventListener(this.Rj.nC,this.Zl[this.Rj.nC]);this.la.removeEventListener("error",this.Zl.error);this.la.removeEventListener("seeking",this.Zl.seeking);this.la.removeEventListener("seeked",this.Zl.seeked);this.la.removeEventListener("timeupdate",this.Zl.timeupdate);this.la.removeEventListener("loadstart",this.Zl.loadstart);this.la.removeEventListener("volumechange",this.Zl.volumechange);this.Rj.sDb(this.XAa);f.config.wp?this.Rj.zQa().then(function(){return a();}):a();this.Rj.nSa&&clearTimeout(this.Rj.nSa);};c.prototype.H8a=function(a){return this.Rj.pka(a);};c.prototype.eV=function(){if(this.la)return this.la.getVideoPlaybackQuality&&this.la.getVideoPlaybackQuality()||this.la.videoPlaybackQuality||this.la.playbackQuality;};c.prototype.O9a=function(){var a;a=this.j.aj;return(a=a&&a.errorCode)&&0<=[t.K.HT,t.K.gT].indexOf(a);};c.prototype.a6a=function(){var a;a=!1;f.config.wBb&&this.O9a()&&(a=!0);f.config.oeb&&!a&&(this.la.removeAttribute("src"),this.la.load&&this.la.load());URL.revokeObjectURL(this.kl);f.config.HGa&&this.la.removeEventListener("contextmenu",m);!a&&this.la&&this.j.If.removeChild(this.la);this.la=this.bf=void 0;this.kl="";};c.prototype.tBa=function(){!0===S.ne.hidden?this.NU.forEach(function(a){a.refresh();a.oHb();}):this.NU.forEach(function(a){a.refresh();a.DHb();});};c.prototype.PU=function(a){var b;b=p.$.get(D.h7)(a);this.NU.push(b);return function(){b.refresh();return b.Dnb();};};c.prototype.FE=function(a,b){var c,f;c={ga:u.J.ih,sb:u.Ge(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.se=f);}catch(Da){}this.j.md(a,c);};c.prototype.RBa=function(){this.NU.forEach(function(a){a.refresh();});};c.prototype.R6a=function(){return this.la&&this.la.msGraphicsTrustStatus;};c.prototype.EE=function(a,b){this.j.md(a,b,void 0);};c.prototype.e$a=function(a){var c,f;function b(f){b=u.Ye;c.Hi();a(f);}c=p.$.get(ja.DK)(500,function(){b();});c.sB();try{f=this.j.tf.value.Po.qXb.children.filter(function(a){return"pssh"==a.type&&a.Mjb==l.Gra;})[0];new S.dE(this.Rj.Wd).createSession("video/mp4",f.raw,null).addEventListener(this.d5+"keyerror",function(a){a=r(a,t.i5);b(a.wG);});}catch(Da){b();}};c.prototype.K8a=function(a){var b,d,h,n,k,m,q;if(this.la){a=a.LR;b=this.R6a();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.la.readyState;a.currentTime=""+this.la.currentTime;a.pbRate=""+this.la.playbackRate;}catch(hb){}for(var b=this.jx.length,c;b--;){c=this.jx[b];d="";c.type==l.mT?d="audio":c.type==l.ZD&&(d="video");u.xb(a,c.PY(),{prefix:d});f.config.rkb&&this.j.aj&&l.ZD==c.type&&(d=u.GI(c.TY()),3E3>(d.data&&d.data.length)&&(d.data=T.FFa(d.data).join(),u.xb(a,d,{prefix:c.type})));}this.bf&&(b=this.bf.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(f.config.cvb)try{h=this.j.Bf;n=h&&h.Ktb;if(n){k=n.expiration;isNaN(k)||(a.exp=k);m=n.keyStatuses.entries();if(m.next){q=m.next().value;q&&(a.keyStatus=q[1]);}}}catch(hb){}}};c.prototype.uBa=function(a){this.Q9a||(this.Q9a=!0,this.lk.Wb(ma.ai.pUa,a));};c.prototype.J8a=function(){this.$f.trace("Video element event: seeking");this.nn?this.nn.nyb=!0:(this.$f.error("unexpected seeking event"),f.config.zlb&&this.EE(t.K.B3a));};c.prototype.I8a=function(){this.$f.trace("Video element event: seeked");this.nn?(J.lb(this.nn.nyb),this.nn.myb=!0,this.qCa()):(this.$f.error("unexpected seeked event"),f.config.ylb&&this.EE(t.K.A3a));};c.prototype.M8a=function(){this.nn&&(this.nn.pyb=!0,this.qCa());this.lk.Wb(ma.ai.Ho);};c.prototype.vL=function(){this.$f.trace("Video element event: loadstart");};c.prototype.N8a=function(a){this.$f.trace("Video element event:",a.type);try{this.j.volume.set(this.la.volume);this.j.muted.set(this.la.muted);}catch(xa){this.$f.error("error updating volume",xa);}};c.prototype.dF=function(a){a=r(a,t.lsa);this.$f.error("Video element event: error",a.bvb);this.EE(t.K.t3a,a.wG);};c.prototype.qCa=function(){this.nn&&this.nn.myb&&this.nn.pyb&&(this.nn=void 0,this.lk.Wb(ma.ai.vQ));};qa.Object.defineProperties(c.prototype,{Dma:{configurable:!0,enumerable:!0,get:function(){return f.config.hHb;}}});b.Qua=c;},function(d,b,a){var l,f,h,g,F,p,t,J,K,D,u,Q,V,S,A,Z,ma,da;function c(a,b,c){this.em=a;this.Bga=b;this.prefix=c;a=Q(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function k(){this.CGa=l.Io.CGa.bind(l.Io);this.hX=l.Io.hX.bind(l.Io);this.jG=l.Io.jG;this.gE="NDA";}function m(){}function r(){}function q(){return K?K:"0.0.0.0";}function n(a){a({TPa:0,iR:0,eLa:0,PHa:0});}l=a(147);k.prototype.set=function(a,b){g[a]=b;F.save(a,b);};k.prototype.get=function(a,b){if(g.hasOwnProperty(a))return g[a];J.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");F.load(a,function(c){c.da?(g[a]=c.data,b&&b(c.data)):g[a]=void 0;});};k.prototype.remove=function(a){F.remove(a);};k.prototype.clear=function(){J.info("WARNING: Calling unimplemented function Storage.clear()");};m.prototype.now=function(){return p();};m.prototype.ea=function(){return t();};m.prototype.Hja=function(a){return a+p()-t();};m.prototype.eka=function(a){return a+t()-p();};b=a(106).EventEmitter;a(62)(b,r.prototype);c.prototype.SFa=function(a){var b;b=[];this.prefix&&Array.isArray(this.prefix)?b.push.apply(b,[].concat(ea(this.prefix))):this.prefix&&b.push(this.prefix);b.push(a);return new c(this.em,this.Bga,b);};V=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();d.P=function(a){f=a.xC;Q=a.uh;F=a.storage;g=a.lH;p=a.Yob;D=a.XN;u=a.qO;t=a.getTime;J=a.cbb;S=a.hk;da=a.gr;A=a.HD;Z=a.SourceBuffer;ma=a.MediaSource;K=a.sWb;h=a.Dx;return{name:"cadmium",Dx:h,xC:f,XN:D,qO:u,storage:new k(),Storage:k,time:new m(),events:new r(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:V,hk:S,HD:A,q2a:Z,MediaSource:ma,gr:da,vm:{name:q},memory:{pob:n},yk:a.yk};};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;c=a(6);k=a(66);b.ixa=function(){c.uh("ProbeDownloader");return{JN:function(a){k.Te.CBb({url:a.url,zBb:a});}};}();},function(d,b,a){var k,m,g,q,n,l,f;function c(){var a;a=new m.rj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Wb.bind(this);this.HV=l++;this.$f=g.uh("ProbeRequest");this.GBa=k.ixa;q.lb(void 0!==this.GBa);this.ug=b.gr.kc.UNSENT;}Object.defineProperty(b,"__esModule",{value:!0});b.gr=void 0;k=a(632);m=a(74);g=a(6);q=a(17);n=a(22);l=0;(function(){function a(){return JSON.stringify({url:this.kl,id:this.HV,affected:this.BU,readystate:this.ug});}n.xb(c.prototype,{ss:function(a){a.affected=this.BU;a.probed={requestId:this.HV,url:this.kl,Kb:this.KL,groupId:this.fV};this.emit(b.gr.Od.jK,a);},dka:function(a){this.T9a=a.httpcode;a.affected=this.BU;a.probed={requestId:this.HV,url:this.kl,Kb:this.KL,groupId:this.fV};this.emit(b.gr.Od.Oz,a);},open:function(a,c,f,d){if(!a)return!1;this.kl=a;this.BU=c;this.KL=f;this.ug=b.gr.kc.OPENED;this.C7a=d;this.GBa.JN(this);return!0;},mc:function(){return!0;},Pj:function(){return this.HV;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.ug;},set:function(){}},status:{get:function(){return this.T9a;}},url:{get:function(){return this.kl;}},HTb:{get:function(){return this.BU;}},Yub:{get:function(){return this.C7a;}}});}());(function(a){a.Od={jK:"pr0",Oz:"pr1"};a.kc={UNSENT:0,OPENED:1,Gw:2,DONE:3,qw:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(f||(f={})));b.gr=Object.assign(c,f);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bqa=b.Cqa=void 0;d=b.Cqa||(b.Cqa={});d[d.Q2a=0]="PAUSE";d[d.V3a=1]="RESUME";d[d.tNb=2]="CAPTIONS_ON";d[d.sNb=3]="CAPTIONS_OFF";d[d.uNb=4]="CAPTION_LANGUAGE_CHANGED";d[d.HMb=5]="AUDIO_LANGUAGE_CHANGED";d[d.lQb=6]="NEXT_EP";d[d.mRb=7]="PREV_EP";d[d.st=8]="SEEK";d[d.Kxa=9]="STOP";b.Bqa="CastInteractionTrackerSymbol";},function(d,b,a){var c,k,m,g,q,n,l,f,h,x,F,p,t,J,K,D,u,Q,V,S,A,Z,ma,da,W;Object.defineProperty(b,"__esModule",{value:!0});b.Dwa=void 0;c=a(0);k=a(115);m=a(1);g=a(95);q=a(26);n=a(24);l=a(40);f=a(314);h=a(437);x=a(423);F=a(349);p=a(104);t=a(114);J=a(122);K=a(84);D=a(247);u=a(197);Q=a(102);V=a(634);S=a(316);A=a(47);Z=a(25);ma=a(313);da=a(67);W=a(312);d=function(){var d;function b(a,b,c,f,d,h,l,n,k,m,q,g,r,x,F,p,I,t,E,K,J,D,A){this.XG=a;this.EF=b;this.sa=c;this.za=f;this.gcb=d;this.Wna=h;this.Tia=l;this.Uia=n;this.V_=k;this.Cc=m;this.Di=q;this.Tj=g;this.tx=r;this.Rka=x;this.Sia=F;this.qoa=p;this.Oh=I;this.Jk=t;this.Wc=E;this.Pka=K;this.R1=J;this.QW=D;this.AF=A;}b.prototype.create=function(b,c,f,d,h){return new(a(311)).Ewa(b,c,d,h,this.XG,f,this.sa,this.EF,this.za,this.Tia,this.gcb,this.Wna,this.Uia,this.V_,this.Cc,this.Di,this.Tj,this.tx,this.Rka,this.Sia,this.qoa,this.Oh,this.Wc,this.Pka,this.Jk,this.R1,void 0,this.QW);};d=b;return d=c.__decorate([m.N(),c.__param(0,m.l(k.Dz)),c.__param(1,m.l(q.Kf)),c.__param(2,m.l(n.We)),c.__param(3,m.l(l.Ni)),c.__param(4,m.l(f.a4)),c.__param(5,m.l(g.$z)),c.__param(6,m.l(h.F6)),c.__param(7,m.l(x.H6)),c.__param(8,m.l(F.u6)),c.__param(9,m.l(p.cA)),c.__param(10,m.l(t.Sz)),c.__param(11,m.l(J.oE)),c.__param(12,m.l(D.dS)),c.__param(13,m.l(u.TT)),c.__param(14,m.l(Q.MT)),c.__param(15,m.l(S.Z8)),c.__param(16,m.l(A.fk)),c.__param(17,m.l(da.bE)),c.__param(18,m.l(Z.uf)),c.__param(19,m.l(ma.b8)),c.__param(20,m.l(W.t8)),c.__param(21,m.l(V.Bqa)),c.__param(21,m.optional()),c.__param(22,m.l(K.sJ)),c.__param(22,m.optional())],d);}();b.Dwa=d;},function(d,b){function a(a){this.j=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Zpa=void 0;a.prototype.xWa=function(){var a;a=this.j.Lm&&this.j.Lm.yb.get()||{};a.xh&&(this.j.xh=a.xh.Da);a.Ga&&(this.j.Ga=a.Ga.Da);};a.prototype.lm=function(){-1===this.j.Ga&&this.xWa();return this.j.Ga;};a.prototype.ddb=function(a){-1!==this.j.xh&&-1!==this.j.Ga||this.xWa();return-1===this.j.xh||-1===this.j.Ga?Number.MAX_VALUE:this.j.xh+8*a/this.j.Ga;};b.Zpa=a;},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;c=a(0);k=a(13);m=a(315);g=a(24);q=a(1);n=a(3);l=a(14);d=function(){var b;function a(a,b){this.app=a;this.config=b;}a.prototype.sG=function(a){var b;a.vR={};if(!a.TB()&&a.ew&&0<a.ew.length&&(a.dw=this.xJa(a),a.dw)){b=this.DGb(a);b()||(a.Ob.addListener(b),a.tf.addListener(b));}};a.prototype.DGb=function(a){var c;function b(){var f,d;if(!a.tf.value||a.Ob.value===k.kb.Yf)return!1;f=a.dw;d=f.Tc();return d===m.dn.LOADING?!1:d!==m.dn.LOADED&&f.Sv?(f=c.jqb(a))?(a.vR.offset=c.app.Zb().ca(n.ja),a.dw=f,f.download(),!0):!1:(a.Ob.removeListener(b),a.tf.removeListener(b),!1);}c=this;return b;};a.prototype.jqb=function(a){var b,c;b=this.config();c=a.zm.cO()<b.FJb;b=(a.tf.value?a.tf.value.R:0)>b.EJb;return this.Fpb(a,c&&b);};a.prototype.Fpb=function(a,b){if(b&&(b=this.xJa(a),this.cKa(a,b.size)))return a.vR.ySa="h",b;b=this.Gob(a);if(this.cKa(a,b.size))return a.vR.ySa="l",b;};a.prototype.cKa=function(a,b){var c,f;c=this.config();f=Math.min(a.eM(),a.JR());return a.ecb.ddb(b)*(1+.01*c.uab[2])<f*c.IJb;};a.prototype.xJa=function(a){return a.ew[a.ew.length-1];};a.prototype.Gob=function(a){return a.ew[0];};b=a;return b=c.__decorate([q.N(),c.__param(0,q.l(g.We)),c.__param(1,q.l(l.fd))],b);}();b.$ya=d;},function(d,b,a){var c,k,m,g,q,n,l,f,h,x,F,p,t,J,K,D,u,Q,V,S,A,Z,ma,da,W,N,ja,na,oa,B,O,M,ga,ya,Da,la;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;d=a(1);c=a(424);k=a(316);m=a(637);g=a(314);q=a(636);n=a(459);l=a(462);f=a(635);h=a(623);x=a(14);F=a(24);p=a(86);t=a(23);J=a(7);K=a(622);D=a(197);u=a(621);Q=a(3);V=a(620);S=a(619);A=a(293);Z=a(618);ma=a(77);da=a(313);W=a(617);N=a(95);ja=a(25);na=a(113);oa=a(71);B=a(345);O=a(290);M=a(616);ga=a(67);ya=a(34);Da=a(312);la=a(615);b.j=new d.Ec(function(b){b(O.ST).to(M.Hwa).Y();b(c.Y8).rf(function(b){var c;c=b.fb;return function(b,f,d,h,l,n,k,m,q){return new(a(614)).Yya(c.get(V.a9),b,f,d,h,l,n,k,m,q);};});b(V.a9).to(S.aza).Y();b(k.Z8).to(m.$ya).Y();b(l.a8).to(f.Dwa).Y();b(Da.t8).to(la.zxa);b(n.N4).rf(function(b){var c;c=b.fb;return function(b){return new(a(613)).vra(c.get(ma.M4),c.get(p.Tq),c.get(F.We),b);};});b(g.a4).rf(function(){return function(a){return new q.Zpa(a);};});b(K.R7).rf(function(a){var b;b=a.fb;return function(a){return new h.zwa(a,b.get(J.Db),b.get(x.fd),b.get(t.Le),b.get(p.Tq));};});b(D.TT).rf(function(a){var b;b=a.fb;return function(a,c,f,d,h,l,n,k,m){return new u.Iwa(a,c,f,d,h,l,n,k,m,b.get(K.R7),b.get(O.ST));};});b(A.z8).rf(function(a){return function(b){var c;c=a.fb.get(x.fd);return new Z.Vxa(c,b);};});b(da.b8).rf(function(a){return function(b){var c,f,d,h;c=a.fb.get(oa.Uq);f=a.fb.get(N.$z);d=a.fb.get(ja.uf);h=a.fb.get(na.Zz);return new W.Fwa(b,c,f(Q.eh(1)),d,h);};});b(B.U6).cw(function(b){return new(a(612)).dva(b.fb.get(ga.bE),b.fb.get(ya.Yk));}).Y();});},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.pwa=void 0;c=a(0);k=a(1);m=a(135);d=function(){var b;function a(){this.ZQ=new m.Zm();}a.prototype.jI=function(a){this.ZQ.next(a);};qa.Object.defineProperties(a.prototype,{Ny:{configurable:!0,enumerable:!0,get:function(){return this.ZQ;}}});b=a;return b=c.__decorate([k.N()],b);}();b.pwa=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.cwa=void 0;c=a(0);k=a(1);m=a(7);g=a(71);d=function(){var b;function a(a,b){this.Hx=b;this.log=a.ub("Pbo");this.links={};}a.prototype.Haa=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};a.prototype.WN=function(a){return this.links[a];};a.prototype.X$a=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.Hx().Jh;a="drmContextId="+a.drmContextId;this.Haa({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Db)),c.__param(1,k.l(g.Uq))],b);}();b.cwa=d;},function(d,b,a){var k,m,g;function c(a,b,c,f,d,k,m){this.version=a;this.url=b;this.id=c;this.languages=f;this.cb=d;this.Xjb=k;this.lxb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;k=a(0);m=a(1);g=a(70);d=function(){var b;function a(a){this.Ph=a;}a.prototype.create=function(a,b,d,n,k){return new c(this.Ph.version,b,a,this.Ph.languages,d,n,k);};b=a;return b=k.__decorate([m.N(),k.__param(0,m.l(g.er))],b);}();b.rwa=d;c.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.cb,echo:this.Xjb};};},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Xva=void 0;c=a(0);k=a(1);m=a(41);g=a(29);q=a(37);n=a(14);l=a(118);d=function(){var b;function a(a,b,c){a=m.Yd.call(this,a,"PboConfigImpl")||this;a.config=b;a.Mab=c;return a;}ba(a,m.Yd);qa.Object.defineProperties(a.prototype,{zR:{configurable:!0,enumerable:!0,get:function(){return this.config().Yp.zR||"";}},j3:{configurable:!0,enumerable:!0,get:function(){return this.config().Yp.j3||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},SPa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Yp.fla;}},dH:{configurable:!0,enumerable:!0,get:function(){return!1;}},fwb:{configurable:!0,enumerable:!0,get:function(){return!0;}},hwb:{configurable:!0,enumerable:!0,get:function(){return!0;}},xTa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.Mab.XDa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.yTa);}},yTa:{configurable:!0,enumerable:!0,get:function(){return{};}},XRa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Xga:{configurable:!0,enumerable:!0,get:function(){return 10;}},QCa:{configurable:!0,enumerable:!0,get:function(){return!1;}},hFa:{configurable:!0,enumerable:!0,get:function(){return!1;}},NWa:{configurable:!0,enumerable:!0,get:function(){return!1;}},lHa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([q.config(q.string,"uiVersion")],b.prototype,"zR",null);c.__decorate([q.config(q.string,"uiPlatform")],b.prototype,"j3",null);c.__decorate([q.config(q.fw,"pboVersion")],b.prototype,"version",null);c.__decorate([q.config(q.string,"pboOrganization")],b.prototype,"SPa",null);c.__decorate([q.config(q.W2,"pboLanguages")],b.prototype,"languages",null);c.__decorate([q.config(q.$c,"hasLimitedPlaybackFunctionality")],b.prototype,"dH",null);c.__decorate([q.config(q.$c,"mdxBindUsingNodeQuark")],b.prototype,"fwb",null);c.__decorate([q.config(q.$c,"mdxPairUsingNodeQuark")],b.prototype,"hwb",null);c.__decorate([q.config(q.object(),"pboCommands")],b.prototype,"xTa",null);c.__decorate([q.config(q.object(),"pboCommandsOverride")],b.prototype,"yTa",null);c.__decorate([q.config(q.$c,"pboRecordHistory")],b.prototype,"XRa",null);c.__decorate([q.config(q.fw,"pboHistorySize")],b.prototype,"Xga",null);c.__decorate([q.config(q.$c,"pboAddXEsnHeader")],b.prototype,"QCa",null);c.__decorate([q.config(q.$c,"combineManifestAndLicense")],b.prototype,"hFa",null);c.__decorate([q.config(q.$c,"pboUseStudioManifest")],b.prototype,"NWa",null);c.__decorate([q.config(q.$c,"pboEnableLeanManifest")],b.prototype,"lHa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ti)),c.__param(1,k.l(n.fd)),c.__param(2,k.l(l.iz))],b);}();b.Xva=d;},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.z7=void 0;k=a(2);c.otb=function(a){var b,c;b=a&&a.code;c=a&&(a.ga||a.ed);a=a.sh!==k.fT.Rva;c=!!c&&c>=k.J.YJ&&c<=k.J.WJ&&a;return!("RETRY"!==b&&"FAIL"!==b)||c;};c.Job=function(a){var b,c;c=null===(b=null===a||void 0===a?void 0:a.Oy)||void 0===b?void 0:b.maxRetries;return"number"===typeof c?c:"FAIL"===(null===a||void 0===a?void 0:a.code)?1:void 0;};b.z7=c;},function(d,b,a){var m,g,q,n,l,f,h,x,F,p,t,J,K,D,u,Q;function c(a){this.config=a;this.wu=[];}function k(a,b,c){this.sa=a;this.aJ=b;this.context=c;this.startTime=this.sa.Zb();}Object.defineProperty(b,"__esModule",{value:!0});b.Yva=void 0;m=a(0);g=a(1);q=a(3);n=a(319);l=a(7);f=a(30);h=a(24);x=a(34);F=a(134);p=a(36);t=a(318);J=a(70);K=a(77);D=a(13);u=a(42);Q=a(643);d=function(){var b;function a(a,b,f,d,h,l,n,k,m){this.SVa=b;this.json=f;this.sa=d;this.bq=h;this.vla=l;this.xa=n;this.Jb=m;this.log=a.ub("Pbo");k.XRa&&(this.wu=new c(k));this.aJ=this.SVa();}a.prototype.send=function(a,b){var c;c=new k(this.sa,this.aJ,a);this.wu&&this.wu.append(c);return this.Oma(a,b,c);};a.prototype.Oma=function(a,b,c){var f;f=this;return new Promise(function(d,h){f.Sv(a,b).then(function(a){var b,l;f.tFb(a);b=R(f.mLb(a));l=b.next().value;b=b.next().value;l&&(f.veb(c),d(a));b&&(f.dFa(c,b),h(b));})["catch"](function(a){var b;b=f.dFa(c,a);a.sb&&(a.sb=[a.sb," ",b].join(""));h(a);});});};a.prototype.tFb=function(a){(a=a.serverTime)&&this.Jb.Wb(D.a6.wTa,q.Gb(a));};a.prototype.mLb=function(a){var b;b=a.result;if("deviceCommand"in a){a=a.deviceCommand;this.log.trace("Received device command '"+a+"'");switch(a){case"reset":b="RESET_DEVICE";break;case"reload":b="RELOAD_DEVICE";break;case"exit":b="EXIT_DEVICE";break;default:b="FAIL",this.log.error("Unhandled device command '"+a+"'");}return[,{code:b,detail:{message:"Server sent device action to '"+a+"' device"}}];}if(b)return[b,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};a.prototype.Czb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(ma){throw{uC:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{uC:!0,code:"FAIL",message:"There is no result property on the response"};}throw{uC:!0,code:"FAIL",message:"There is no body property on the response"};};a.prototype.ybb=function(a,b,c){var f;f=this;this.AKb(b,a);this.aJ=this.SVa(c);return this.aJ.send(b,c).then(function(a){return{Sv:!1,result:f.Czb(a.body)};})["catch"](function(c){var d,h;h=(d=Q.z7.Job(c))?Math.min(d,b.kma):b.kma;return f.A2(b,c,a,h)?(d=f.kdb(c,a,h),f.log.warn("Method failed, retrying",Object.assign({Method:b.Gj,Attempt:a+1,WaitTime:d,MaxRetries:h},f.hda(c))),Promise.resolve({Sv:!0,rl:d,error:c})):Promise.resolve({Sv:!1,error:c});});};a.prototype.AKb=function(a,b){var c;c=a.url.searchParams;c.set(u.eU.Y3a,(b+1).toString());c.set(u.eU.sg,a.Xla.toString());c.set(u.eU.Z3a,a.Wla);};a.prototype.Sv=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.ybb(c++,a,b).then(function(d){if(d.Sv)return f.FLb(d.rl).then(function(){return f.Sv(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return d.result;});};a.prototype.A2=function(a,b,c,f){var d;d=this.bq.LSa||Q.z7.otb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Gj,Attempt:c+1,MaxRetries:f},this.hda(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Gj},this.hda(b)));return!1;};a.prototype.kdb=function(a,b,c){return a&&a.Oy&&void 0!==a.Oy.retryAfterSeconds?q.eh(a.Oy.retryAfterSeconds):q.Gb(this.vla.CRa(1E3*(0===b?1:b),1E3*Math.pow(2,Math.min(b,c))));};a.prototype.FLb=function(a){var b;b=this;return new Promise(function(c){b.xa.yh(a||q.Dc,c);});};a.prototype.hda=function(a){return t.fMa(a)?a:{message:a.message,subCode:a.ed,extCode:a.sh,mslCode:a.rs,data:a.data};};a.prototype.veb=function(a){a.Ina();};a.prototype.dFa=function(a,b){var c;a.Rx(b);if(this.wu)try{c=this.json.stringify(this.wu);this.log.error("PBO command history",c);return c;}catch(da){}return"";};b=a;return b=m.__decorate([g.N(),m.__param(0,g.l(l.Db)),m.__param(1,g.l(n.X8)),m.__param(2,g.l(f.vw)),m.__param(3,g.l(h.We)),m.__param(4,g.l(x.Yk)),m.__param(5,g.l(F.uK)),m.__param(6,g.l(p.Ng)),m.__param(7,g.l(J.er)),m.__param(8,g.l(K.KS))],b);}();b.Yva=d;k.prototype.Ina=function(){this.da=!0;this.elapsedTime=this.sa.Zb().Mb(this.startTime);};k.prototype.Rx=function(a){this.da=!1;this.elapsedTime=this.sa.Zb().Mb(this.startTime);this.$Hb=a.ed||a.subCode;this.ilb=a.sh||a.extCode;};k.prototype.toString=function(){return JSON.stringify(this);};k.prototype.toJSON=function(){var a;a=Object.assign({success:this.da,method:this.context.Gj,startTime:this.startTime.ca(q.ja),elapsedTime:this.elapsedTime?this.elapsedTime.ca(q.ja):"in progress"},this.aJ.Bca());return this.da?a:Object.assign(Object.assign(Object.assign({},a),this.aJ.Bca()),{subcode:this.$Hb,extcode:this.ilb});};c.prototype.append=function(a){this.wu.push(a);0<this.config.Xga&&this.wu.length>this.config.Xga&&this.wu.shift();};c.prototype.toJSON=function(){return this.wu;};},function(d,b,a){var c,k,m,g,q,n,l,f,h,x;Object.defineProperty(b,"__esModule",{value:!0});b.vQa=void 0;d=a(1);c=a(320);k=a(644);m=a(70);g=a(642);q=a(317);n=a(641);l=a(421);f=a(640);h=a(148);x=a(639);b.vQa=new d.Ec(function(a){a(m.er).to(g.Xva).Y();a(c.y7).to(k.Yva).Y();a(l.E7).to(f.cwa);a(l.D7).rf(function(a){return function(){return a.fb.get(l.E7);};});a(q.M7).to(n.rwa).Y();a(h.pK).to(x.pwa).Y();});},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.gva=void 0;c=a(0);k=a(37);m=a(41);g=a(1);q=a(29);n=a(3);d=function(){var b;function a(a){return m.Yd.call(this,a,"MseConfigImpl")||this;}ba(a,m.Yd);qa.Object.defineProperties(a.prototype,{wOa:{configurable:!0,enumerable:!0,get:function(){return n.Gb(5E3);}},QPa:{configurable:!0,enumerable:!0,get:function(){return n.Gb(1E3);}},RPa:{configurable:!0,enumerable:!0,get:function(){return n.Gb(1E3);}}});b=a;c.__decorate([k.config(k.Xg,"minDecoderBufferMilliseconds")],b.prototype,"wOa",null);c.__decorate([k.config(k.Xg,"optimalDecoderBufferMilliseconds")],b.prototype,"QPa",null);c.__decorate([k.config(k.Xg,"optimalDecoderBufferMillisecondsBranching")],b.prototype,"RPa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ti))],b);}();b.gva=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;d=a(1);c=a(472);k=a(646);b.GOa=new d.Ec(function(a){a(c.W6).to(k.gva).Y();});},function(d,b,a){var c,k,m,g,q,n,l,f,h,x;Object.defineProperty(b,"__esModule",{value:!0});b.Vua=void 0;c=a(0);k=a(1);m=a(7);g=a(14);q=a(10);n=a(23);l=a(322);f=a(74);h=a(149);x=a(115);d=function(){function a(a,b,c,d,l,n){function k(k,m){this.track=k;this.label=m;this.ug=h.Qb.kc.UNSENT;this.De=0;this.kp=[];this.requestId=n.dB().toString();this.Ia=c;this.log=b.ub("MediaRequest");this.config=a;this.Jb=new f.rj();"notification"===this.label?this.config().qB&&(this.Al=d):this.Al=l;}function m(k,m){this.requestId=n.dB().toString();this.Ia=c;this.log=b.ub("MediaRequest");this.config=a;this.Jb=new f.rj();this.label=m;"notification"===this.label?this.config().qB&&(this.Al=d):this.Al=l;this.uO=this.yM=this.zM=void 0;this.track=k;this.JW=this.url=this.responseType=void 0;this.ug=h.Qb.kc.UNSENT;this.gj=this.AG=this.th=this.status=void 0;this.Fl=this.De=0;this.connect=this.Iea=this.$A=this.oy=this.cia=this.cd=this.Hea=this.jf=this.jF=void 0;this.kp=[];this.Vp=!1;}k.prototype.addEventListener=function(a,b,c){this.Jb.addListener.call(this,a,b,c);};k.prototype.removeEventListener=function(a,b){this.Jb.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,c){this.Jb.Wb.call(this,a,b,c);};k.prototype.Txb=function(a){this.ug===h.Qb.kc.OPENED&&(this.uO=!0,this.jf=this.cd=a.timestamp,this.ug=h.Qb.kc.Gw,this.emit(h.Qb.Od.uva,a));};k.prototype.bka=function(a){var b;if(this.ug<h.Qb.kc.Uz){this.kp=[];b=a.timestamp-this.jf;!this.bc&&0<b&&(this.connect=!0,this.kp.push(b));!0===this.config().Mrb?this.Hea=a.timestamp:this.Hea=this.cd=a.timestamp;this.ug=h.Qb.kc.Uz;this.emit(h.Qb.Od.tva,a);}};k.prototype.Wxb=function(a){this.ug===h.Qb.kc.Uz&&(this.cia=this.cd=a.timestamp,a.newBytes=a.bytesLoaded-this.De,this.De=a.bytesLoaded,this.Ia.Sd(this.cia)&&this.emit(h.Qb.Od.vva,a));};k.prototype.ss=function(a){-1<[h.Qb.kc.Gw,h.Qb.kc.Uz].indexOf(this.ug)&&(this.uO=!1,this.cd=a.timestamp,this.ug=h.Qb.kc.DONE,a.newBytes=this.Vh-this.De,this.De=this.Vh,this.Ia.Sd(this.$A)&&(this.cd=this.$A,0===a.newBytes&&(this.cia=this.$A)),this.Ia.Sd(this.oy)&&(this.jf=this.oy),this.jF=a.response,this.emit(h.Qb.Od.jK,a));};k.prototype.Oxb=function(a){this.uO=!1;this.emit(h.Qb.Od.N2a,a);};k.prototype.dka=function(a){this.cd=a.timestamp;this.status=a.httpcode;this.th=a.errorcode;this.AG=h.Qb.LD.name[this.th];this.gj=a.nativecode;this.emit(h.Qb.Od.Oz,a);this.uO=!1;};k.prototype.open=function(a,b,c,f,d,l,n){this.cD=!1;this.JW=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.ug=h.Qb.kc.OPENED;this.Al.JN(this,b,n);return!0;};k.prototype.mc=function(){-1!==[h.Qb.kc.OPENED,h.Qb.kc.Gw,h.Qb.kc.Uz].indexOf(this.ug)&&this.abort();return!0;};k.prototype.SEa=function(){this.jF=void 0;this.SF&&(this.SF.response=void 0,this.SF.cadmiumResponse.content=void 0);this.aha=void 0;};k.prototype.gR=function(a){this.url=a;return!0;};k.prototype.abort=function(){this.ug=h.Qb.kc.rJ;this.Al.HA(this);return!0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return"";};k.prototype.hQ=function(){};k.prototype.Pj=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.Pj(),segmentId:this.Ma,isHeader:this.bc,ptsStart:this.Pv,ptsOffset:this.Bm,responseType:this.responseType,duration:this.Or,readystate:this.ug};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.fqb=function(){var a,b;if(this.config().KWa&&q.br&&q.br.getEntriesByType&&(!this.Ia.Sd(this.oy)||!this.Ia.Sd(this.$A)&&this.Ia.Sd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.zM+"-"+this.yM+"*");b=new RegExp(a);a=q.br.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ia.Sd(a)&&(0<a.startTime&&(this.oy=a.startTime,0<a.requestStart&&(this.oy=Math.max(this.oy,a.requestStart))),0<a.responseStart&&(this.Iea=a.responseStart),0<a.responseEnd&&(this.$A=a.responseEnd));}};k.prototype.ntb=function(){return this.Ia.Sd(this.oy)&&this.Ia.Sd(this.$A)&&this.Ia.Sd(this.Iea);};qa.Object.defineProperties(k.prototype,{Vh:{configurable:!0,enumerable:!0,get:function(){return this.JW.end-this.JW.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.yM-this.zM+1;}},RKa:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},bc:{configurable:!0,enumerable:!0,get:function(){return!this.RB;}},response:{configurable:!0,enumerable:!0,get:function(){return this.jF;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.ug;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(m.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.hk=Object.assign(m,h.Qb);}return a=c.__decorate([k.N(),c.__param(0,k.l(g.fd)),c.__param(1,k.l(m.Db)),c.__param(2,k.l(n.Le)),c.__param(3,k.l(l.i7)),c.__param(4,k.l(l.O6)),c.__param(5,k.l(x.Dz))],a);}();b.Vua=d;},function(d,b,a){var c,k,m,g,q,n,l,f,h,x,F,p,t;Object.defineProperty(b,"__esModule",{value:!0});b.Wua=void 0;c=a(0);k=a(50);m=a(1);g=a(7);q=a(91);n=a(325);l=a(75);f=a(149);h=a(24);x=a(3);F=a(324);p=a(34);t=a(14);d=function(){var b;function a(a,b,c,f,d,h,l){this.sa=a;this.bq=b;this.config=c;this.Te=d;this.pwb=h;this.QEa=l;this.log=f.ub("MediaRequestDownloader");}a.prototype.JN=function(a,b,c){var h,n,m;function d(){a.removeEventListener(f.Qb.Od.Oz,d);a.BN?a.BN++:a.BN=1;a.BN>=h.config().wea.length&&(a.BN=h.config().wea.length-1);setTimeout(function(){h.JN(a,b,c);},h.config().wea[a.BN]);}h=this;a.yWb=!0;n={url:a.url,responseType:this.Te.U3a.gYa,withCredentials:!1,kB:a.L===k.zc.Na.AUDIO?"audio":"video",offset:b.start,length:a.Vh,track:{type:a.L===k.zc.Na.AUDIO?l.Kg.audio:l.Kg.video},stream:{pd:a.ta,R:a.R},ic:a.Kb,cp:a,mg:a.bc?void 0:this.QEa.parse.bind(this.QEa),C2:c,Nq:this.bq.Nq};n=this.pwb.download(n,function(b){b.da&&a.readyState!==f.Qb.kc.DONE&&a.readyState!==f.Qb.kc.rJ&&(a.readyState!==f.Qb.kc.qw&&a.readyState===f.Qb.kc.Gw&&(a.readyState=f.Qb.kc.Uz,a.bka({mediaRequest:a,readyState:a.readyState,timestamp:h.Nu(),connect:!1})),a.readyState=f.Qb.kc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:h.Nu(),cadmiumResponse:b,response:b.content},a.SF=b,a.ss(b));});if(a.bc){m={mediaRequest:a,readyState:a.readyState,timestamp:this.Nu(),connect:!1};a.bka(m);}a.addEventListener(f.Qb.Od.Oz,d);a.aha=n.abort;};a.prototype.HA=function(a){try{a.aha();}catch(T){this.log.warn("exception aborting request");}};a.prototype.Nu=function(){return this.sa.Zb().ca(x.ja);};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(h.We)),c.__param(1,m.l(p.Yk)),c.__param(2,m.l(t.fd)),c.__param(3,m.l(g.Db)),c.__param(4,m.l(q.xw)),c.__param(5,m.l(n.M6)),c.__param(6,m.l(F.s4))],b);}();b.Wua=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.Bva=void 0;c=a(0);k=a(1);m=a(7);g=a(91);d=function(){var b;function a(a,b){this.Te=b;this.log=a.ub("OpenConnectSideChannel");}a.prototype.JN=function(a,b,c){this.Te.aHb({url:a.url,KEb:c});};a.prototype.HA=function(a){try{a.aha();}catch(f){this.log.warn("exception aborting request");}};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Db)),c.__param(1,k.l(g.xw))],b);}();b.Bva=d;},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},vl:function(){return this.buffer.length-this.position;},nf:function(){return this.buffer[this.position++];},xe:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Bc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Bs:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Bla:function(){for(var a="",b;b=this.nf();)a+=String.fromCharCode(b);return a;},Pb:function(){return this.Bc(2);},Ra:function(){return this.Bc(4);},Dg:function(){return this.Bc(8);},F1:function(){return this.Bc(2)/256;},cQ:function(){return this.Bc(4)/65536;},Hf:function(a){for(var b,d="";a--;)b=this.nf(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},Ky:function(){return this.Hf(4)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(6);},dQ:function(a){for(var b=0,d=0;d<a;d++)b+=this.nf()<<(d<<3);return b;},IC:function(){return this.dQ(4);},Woa:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);}};d.P=b;},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Jqa=void 0;c=a(0);k=a(1);m=a(205);g=a(7);q=a(9);n=a(14);l=a(323).zla;d=function(){var b;function a(a,b){this.config=a;this.log=b.ub("ChunkMediaParser");}a.prototype.parse=function(a){var f,d,h;a=new Uint8Array(a);for(var b=l(a),c=0;c<b.length;c+=2){f=b[c];if("moof"!==f.type||"mdat"!==b[c+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:f.type,nextBoxType:b[c+1].type}),Error("data is not moof-mdat box pairs");if(this.config().ULb&&"moof"==f.type){d=f.Vx("traf/saio");h=f.Vx("traf/"+q.fqa);d&&h&&(f=h.Tbb.byteOffset-f.raw.byteOffset,d.VSa[0]!==f&&(this.log.error("Repairing bad SAIO",{saioOffsets:d.VSa[0],auxDataOffsets:f}),this.ozb(d,f)));}}return a.buffer;};a.prototype.ozb=function(a,b){var c;c=new m.D4(a.raw);c.seek(a.size-a.Cx);a=c.Bc(1);c.Bc(3)&1&&(c.Ra(),c.Ra());a=1<=a?8:4;c.Ra();c.Woa(b,a);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.fd)),c.__param(1,k.l(g.Db))],b);}();b.Jqa=d;},function(d,b,a){var c,k,m,g,q,n,l,f,h,x,F;Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;c=a(0);k=a(149);m=a(84);g=a(2);q=a(7);n=a(1);l=a(91);f=a(23);h=a(24);x=a(3);F=a(14);d=function(){var b;function a(a,b,c,f,d,h){this.AF=a;this.Te=c;this.Ia=f;this.sa=d;this.config=h;this.log=b.ub("MediaHttp");}a.prototype.Nu=function(){return this.sa.Zb().ca(x.ja);};a.prototype.lPa=function(a,b){a.Txb({mediaRequest:a,timestamp:b});};a.prototype.FPa=function(a){var b;b=a.mediaRequest.cp;b.readyState=k.Qb.kc.Uz;a=a.connect?a:{timestamp:this.Nu(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.bka(a);};a.prototype.U0=function(a){this.lPa(a.mediaRequest.cp,a.timestamp);};a.prototype.W0=function(a){var b,c;b=a.mediaRequest.cp;c=a.bytes;"undefined"!==typeof b&&(b.readyState===k.Qb.kc.Gw&&this.FPa(a),this.Ia.ph(c)&&(a.mediaRequest=b,a.timestamp=this.Nu(),c>b.De&&(a.newBytes=c-b.De,a.bytesLoaded=c,b.Wxb(a))));};a.prototype.QH=function(a){var b,c,f,d;b=a.mediaRequest;c=a.errorcode;f=a.httpcode;d=k.Qb.LD;if("undefined"!==typeof b&&(b=b.cp,"undefined"!==typeof b&&b.readyState!==k.Qb.kc.qw))if(c===g.J.rw)b.readyState=k.Qb.kc.rJ,a.mediaRequest=b,a.readyState=b.readyState,b.Oxb(a);else{b.readyState=k.Qb.kc.qw;switch(c){case g.J.YJ:f=d.m4;break;case g.J.P5:f=d.M5;break;case g.J.VJ:f=400<f&&500>f?d.O5:500<=f?d.Osa:d.M5;break;case g.J.WJ:f=d.N5;break;case g.J.UJ:f=d.pqa;break;case g.J.XJ:f=d.cT;break;case g.J.Az:f=d.cT;break;case g.J.L5:f=d.Nsa;break;case g.J.Ksa:f=d.O5;break;case g.J.o_a:f=d.N5;break;default:f=d.cT;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=f;a.nativecode=c;b.dka(a);}};a.prototype.mka=function(a,b){var c,f;c=b.request.cp;if(c)if(b.da){if(a.j&&c.readyState!==k.Qb.kc.DONE){switch(c.readyState){case k.Qb.kc.rJ:return;case k.Qb.kc.Gw:this.FPa({mediaRequest:b.request});}c.readyState=k.Qb.kc.DONE;if(!c.bc){f={mediaRequest:c,readyState:c.readyState,timestamp:this.Nu(),cadmiumResponse:b};a.j.ioa+=1;c.fqb();c.ntb()&&(a.j.gma+=1,b.Ck.dh=Math.ceil(c.Iea),b.Ck.Fm=Math.ceil(c.$A),b.Ck.requestTime=Math.floor(c.oy));c.SF=f;c.ss(f);}}}else c.readyState!==k.Qb.kc.rJ&&(a={mediaRequest:b.request,timestamp:this.Nu(),errorcode:b.ga,httpcode:b.$i},this.QH(a));};a.prototype.download=function(a,b){var c,f;c=this;b=this.Te.download(a,b);if(a.cp){f=a.cp;-1<[k.Qb.kc.OPENED,k.Qb.kc.qw].indexOf(f.readyState)&&(f.readyState=k.Qb.kc.Gw,this.config().rwb?b.bGb(function(a){c.U0(a);}):this.lPa(f,this.Nu()));}b.Caa(function(b){c.mka(a,b);});b.jGb(function(a){c.W0(a);});b.WFb(function(a){c.QH(a);});return b;};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(m.sJ)),c.__param(1,n.l(q.Db)),c.__param(2,n.l(l.xw)),c.__param(3,n.l(f.Le)),c.__param(4,n.l(h.We)),c.__param(5,n.l(F.fd))],b);}();b.Rua=d;},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.zra=void 0;c=a(0);k=a(1);m=a(7);g=a(150);q=a(130).EventEmitter;d=function(){function a(a){function b(b,c){this.I=b;this.cl=c;this.jY=!1;this.emit=q.prototype.emit;this.addListener=q.prototype.addListener;this.on=q.prototype.on;this.once=q.prototype.once;this.removeListener=q.prototype.removeListener;this.removeAllListeners=q.prototype.removeAllListeners;this.listeners=q.prototype.listeners;this.listenerCount=q.prototype.listenerCount;q.call(this);this.$f=a.ub("DownloadTrack");}b.prototype.Xp=function(){this.cW=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.cW+" config: "+JSON.stringify(this.I);};b.prototype.toJSON=function(){return"Download Track id:"+this.cW+" config: "+JSON.stringify(this.I);};b.prototype.K1=function(a){this.I.connections!==a.connections&&(this.I=a);};b.prototype.On=function(){return 1<this.I.connections?!0:!1;};qa.Object.defineProperties(b.prototype,{$a:{configurable:!0,enumerable:!0,get:function(){return this.cW;}},Vp:{configurable:!0,enumerable:!0,get:function(){return void 0===this.cW;}},config:{configurable:!0,enumerable:!0,get:function(){return this.I;}},xC:{configurable:!0,enumerable:!0,get:function(){return this.$f;}},Al:{configurable:!0,enumerable:!0,get:function(){return this.cl.Al;}}});this.HD=Object.assign(b,new g.Ara());}return a=c.__decorate([k.N(),c.__param(0,k.l(m.Db))],a);}();b.zra=d;},function(d,b,a){var c,k,m,g,q,n,l,f,h,x,F;Object.defineProperty(b,"__esModule",{value:!0});b.df=void 0;d=a(1);c=a(150);k=a(654);m=a(325);g=a(653);q=a(324);n=a(652);l=a(322);f=a(650);h=a(649);x=a(321);F=a(648);b.df=new d.Ec(function(a){a(c.R4).to(k.zra).Y();a(m.M6).to(g.Rua).Y();a(q.s4).to(n.Jqa).Y();a(l.i7).to(f.Bva).Y();a(l.O6).to(h.Wua).Y();a(x.N6).to(F.Vua).Y();});},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.cxa=void 0;c=a(0);k=a(1);m=a(41);g=a(29);q=a(37);n=a(3);d=function(){var b;function a(a){return m.Yd.call(this,a,"PrefetchEventsConfigImpl")||this;}ba(a,m.Yd);qa.Object.defineProperties(a.prototype,{qTa:{configurable:!0,enumerable:!0,get:function(){return!0;}},Fia:{configurable:!0,enumerable:!0,get:function(){return n.lP(5);}}});b=a;c.__decorate([q.config(q.$c,"sendPrefetchEventLogs")],b.prototype,"qTa",null);c.__decorate([q.config(q.Xg,"logsInterval")],b.prototype,"Fia",null);return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ti))],b);}();b.cxa=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;c=a(0);k=a(1);m=a(7);g=a(23);d=function(){var b;function a(a,b){this.Ia=b;this.ka=a.ub("PlayPredictionDeserializer");}a.prototype.Uib=function(a){var b;b=this;try{return{direction:a.direction,jub:a.layoutHasChanged,sEb:a.rowInteractionIndex,Ea:a.lolomos.map(function(a){return b.Qib(a);})};}catch(h){this.ka.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};a.prototype.Qib=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.Pib(a);}),requestId:a.requestId,rowIndex:a.rowIndex,uEb:a.rowSegment};};a.prototype.Pib=function(a){var b,c;b={Vc:a.pts,property:a.property,na:a.viewableId,index:a.index};c=a.preplay;this.Ia.Sd(c)&&(b.eI=this.Tib(c));a=a.params;this.Ia.Sd(a)&&(b.cb=this.AGa(a));return b;};a.prototype.Tib=function(a){var b;b={Vc:a.pts,na:a.viewableId,wC:a.pipelineNum,index:a.index};a=a.params;this.Ia.Sd(a)&&(b.cb=this.AGa(a));return b;};a.prototype.AGa=function(a){return{ke:a.uiLabel,Wh:a.trackingId,Yn:a.sessionParams};};a.prototype.BGa=function(a){var b;b=this;try{return a.map(function(a){return b.Rib(a);});}catch(h){this.ka.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};a.prototype.Rib=function(a){var b,c;c=a.params;this.Ia.Sd(c)&&(b=this.Sib(c));return{G:a.movieId,he:a.priority,force:a.force,cb:b,ke:a.uiLabel,oZb:a.uiExpectedStartTime,nZb:a.uiExpectedEndTime,Mj:a.firstTimeAdded};};a.prototype.Sib=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ia.Sd(c)&&(b=c);return{jM:this.Oib(a.authParams),Yn:b,Wh:a.trackingId,S:a.startPts,ya:a.manifest,dj:a.isBranching};};a.prototype.Oib=function(a){return{DQa:(a||{}).pinCapableClient};};a.prototype.wFb=function(a){var b,c;try{b="";this.Ia.Sd(a.VQa)&&(b=JSON.stringify(this.zFb(JSON.parse(a.VQa))));c="";this.Ia.Sd(a.WQa)&&(c=JSON.stringify(this.AFb(JSON.parse(a.WQa))));return{dest_id:a.FX,offset:a.offset,predictions:a.ZQa.map(this.CFb,this),ppm_input:b,ppm_output:c,prepare_type:a.cYb};}catch(x){this.ka.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};a.prototype.CFb=function(a){return{title_id:a.Jq};};a.prototype.zFb=function(a){return{direction:a.direction,layoutHasChanged:a.jub,rowInteractionIndex:a.sEb,lolomos:a.Ea.map(this.yFb,this)};};a.prototype.yFb=function(a){return{context:a.context,list:a.list.map(this.xFb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.uEb};};a.prototype.xFb=function(a){var b,c;this.Ia.Sd(a.eI)&&(b=this.DFb(a.eI));this.Ia.Sd(a.cb)&&(c=this.Sma(a.cb));return{preplay:b,pts:a.Vc,viewableId:a.na,params:c,property:a.property,index:a.index};};a.prototype.DFb=function(a){var b;this.Ia.Sd(a.cb)&&(b=this.Sma(a.cb));return{pts:a.Vc,viewableId:a.na,params:b,pipelineNum:a.wC,index:a.index};};a.prototype.Sma=function(a){return{uiLabel:a.ke,trackingId:a.Wh,sessionParams:a.Yn};};a.prototype.AFb=function(a){return a.map(this.BFb,this);};a.prototype.BFb=function(a){var b;this.Ia.Sd(a.cb)&&(b=this.Sma(a.cb));return{movieId:a.G,priority:a.he,params:b,uiLabel:a.ke,firstTimeAdded:a.Mj,viewableId:a.na,pts:a.Vc};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Db)),c.__param(1,k.l(g.Le))],b);}();b.ywa=d;},function(d,b,a){var k,m,g,q,n,l,f,h,x,F;function c(a,b,c,f,d,h,l,n){this.Oh=a;this.hC=b;this.xa=c;this.Dy=d;this.config=h;this.rfa=l;this.Oka=n;this.B1=[];this.bia=[];this.gla={};this.ka=f.ub("PrefetchEvents");}Object.defineProperty(b,"__esModule",{value:!0});b.dxa=void 0;k=a(0);m=a(116);g=a(1);q=a(3);n=a(47);l=a(61);f=a(36);h=a(7);x=a(326);F=a(198);d=function(){var b;function a(a,b,c,f,d,h){this.Oh=a;this.hC=b;this.xa=c;this.kf=f;this.config=d;this.Oka=h;}a.prototype.create=function(a,b){return new c(this.Oh,this.hC,this.xa,this.kf,a,this.config,b,this.Oka);};b=a;return b=k.__decorate([g.N(),k.__param(0,g.l(n.fk)),k.__param(1,g.l(l.fo)),k.__param(2,g.l(f.Ng)),k.__param(3,g.l(h.Db)),k.__param(4,g.l(x.i8)),k.__param(5,g.l(F.RT))],b);}();b.dxa=d;c.prototype.Wcb=function(a,b,c){this.ZB(m.Ae.wz.RYa,a,b,void 0,c);};c.prototype.Ycb=function(a,b,c){this.ZB(m.Ae.wz.SYa,a,b,void 0,c);};c.prototype.Vcb=function(a,b,c){this.ZB(m.Ae.wz.QYa,a,b,void 0,c);};c.prototype.Tcb=function(a,b,c){this.ZB(m.Ae.wz.OYa,a,b,void 0,c);};c.prototype.BM=function(a,b,c){this.ZB(m.Ae.wz.PYa,a,b,void 0,c);};c.prototype.AAb=function(a){this.ZB(m.Ae.wz.e3a,void 0,a);};c.prototype.Am=function(a,b,c,f,d,h,l){this.kW()&&(this.ZB(m.Ae.wz.s4a,void 0,a),this.gvb(a,b,c,f,d,h,l),this.iIa(),this.eNa());this.ktb(a)&&this.bEb();};c.prototype.Xib=function(a){a={dest_id:a,cache:this.Rma(this.rfa())};this.DQ("destiny_start",a);};c.prototype.hBb=function(a){(a=this.Oka.wFb(a))?this.DQ("destiny_prepare",a):this.ka.error("failed to serialize prepare event");};c.prototype.iIa=function(){0<this.B1.length&&this.kW()&&(this.DQ("destiny_events",{dest_id:this.Dy.mo,events:this.B1}),this.B1=[]);this.h2&&(this.h2.cancel(),this.h2=void 0);this.wHa();};c.prototype.eNa=function(){var a;if(this.Xcb()&&this.kW()){a=this.rfa();this.bia=a;a={dest_id:this.Dy.mo,offset:this.Dy.VY(),cache:this.Rma(a)};this.DQ("destiny_cachestate",a);}this.g2&&(this.g2.cancel(),this.g2=void 0);this.vHa();};c.prototype.update=function(a){var b;b=this;a.Ea.forEach(function(a){a.list.forEach(function(a){b.gla[a.na]=!0;});});};c.prototype.ktb=function(a){return this.gla[a];};c.prototype.Xcb=function(){var a,b,c;a=this;b=this.rfa();if(b.length!==this.bia.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.bia[f])&&(c=!0);}catch(T){a.ka.error("Failed to stringify cachedTitle",T);}});return c;};c.prototype.ZB=function(a,b,c,f,d){this.kW()&&(a={offset:this.Dy.VY(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.B1.push(a),this.wHa(),this.vHa());};c.prototype.wHa=function(){this.h2||(this.h2=this.xa.yh(this.config.Fia,this.iIa.bind(this)));};c.prototype.vHa=function(){this.g2||(this.g2=this.xa.yh(this.config.Fia,this.eNa.bind(this)));};c.prototype.gvb=function(a,b,c,f,d,h,l){var n;n=[];c&&n.push({Jq:a,gu:m.Ae.dk.cpa,state:m.Ae.VR.fS});f&&n.push({Jq:a,gu:m.Ae.dk.Ez,state:m.Ae.VR.fS});d&&n.push({Jq:a,gu:m.Ae.dk.TJ,state:m.Ae.VR.fS});(0<h.ca(q.ja)||0<l.ca(q.ja))&&n.push({Jq:a,gu:m.Ae.dk.MEDIA,state:m.Ae.VR.fS,Kbb:h.ca(q.ja),zLb:l.ca(q.ja)});a={dest_id:this.Dy.mo,offset:this.Dy.VY(),xid:b,cache:this.Rma(n)};this.DQ("destiny_playback",a);};c.prototype.DQ=function(a,b){this.config.qTa&&(a=this.hC.An(a,"info",b),this.Oh.Ac(a));};c.prototype.Rma=function(a){return a.map(function(a){return{title_id:a.Jq,state:a.state,asset_type:a.gu,size:a.size,audio_ms:a.Kbb,video_ms:a.zLb};});};c.prototype.kW=function(){return 0!==this.Dy.mo;};c.prototype.bEb=function(){this.Dy.aEb();this.gla={};};},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Cc=void 0;d=a(1);c=a(116);k=a(658);m=a(198);g=a(657);q=a(656);n=a(326);l=a(104);b.Cc=new d.Ec(function(a){a(n.i8).to(q.cxa).Y();a(c.j8).to(k.dxa).Y();a(m.RT).to(g.ywa).Y();a(l.cA).rf(function(){return function(){return M._cad_global.videoPreparer;};});});},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.vza=void 0;c=a(0);k=a(1);m=a(10);g=a(32);q=a(199);n=a(6);d=function(){var b;function a(){}a.prototype.zpb=function(){var a;a=M.devicePixelRatio||1;return{width:this.O$.ONb||m.cr.width*a,height:this.O$.NNb||m.cr.height*a};};qa.Object.defineProperties(a.prototype,{O$:{configurable:!0,enumerable:!0,get:function(){return n.$.get(g.Fp);}}});b=a;c.__decorate([q.HO],b.prototype,"O$",null);return b=c.__decorate([k.N()],b);}();b.vza=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.xva=void 0;c=a(0);k=a(1);m=a(142);d=function(){var b;function a(){}a.prototype.compare=function(a,b){var c;c=[];this.oca(a,b,"",c);return c;};a.prototype.oca=function(a,b,c,d){var f;f=this;if(m.ft.eu(a))m.ft.eu(b)&&a.length===b.length?a.forEach(function(h,l){f.oca(a[l],b[l],c+"["+l+"]",d);}):d.push({a:a,b:b,path:c});else if(m.ft.MA(a)&&null!=a)if(m.ft.MA(b)&&null!=b){for(var h in a)this.oca(a[h],b[h],c+"."+h,d);for(var l in b)l in a||void 0===b[l]||d.push({a:void 0,b:b[l],path:c+"."+l});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};b=a;return b=c.__decorate([k.N()],b);}();b.xva=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yva=void 0;b.yva="ObjectComparerSymbol";},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.nxa=void 0;c=a(0);k=a(54);m=a(30);g=a(1);d=function(){var b,d;function a(a){this.location=a;k.sm(this,"location");}a.EP=function(a){var c,d,l;c={};if(0<a.length){a=a.split("&");for(var f=0;f<a.length;f++){d=a[f].trim();l=d.indexOf("=");0<=l?c[decodeURIComponent(d.substr(0,l).replace(b.Qva,"%20"))]=decodeURIComponent(d.substr(l+1).replace(b.Qva,"%20")):c[d.toLowerCase()]="";}}return c;};qa.Object.defineProperties(a.prototype,{cCb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=b.EP(this.zRa);}},zRa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.YP)return this.YP;this.YP=this.location.search.substr(1);a=this.YP.indexOf("#");0<=a&&(this.YP=this.zRa.substr(0,a));return this.YP;}}});d=b=a;d.Qva=/[+]/g;return d=b=c.__decorate([g.N(),c.__param(0,g.l(m.n6))],d);}();b.nxa=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;c=a(0);k=a(1);d=function(){var b;function a(){}a.prototype.EIa=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.EIa(a);});};b=a;return b=c.__decorate([k.N()],b);}();b.dza=d;},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;c=a(0);k=a(54);m=a(30);g=a(1);q=a(23);n=a(136);d=function(){var b,d;function a(a,b){this.is=a;this.json=b;k.sm(this,"json");}a.prototype.JRa=function(a){var c;c=this;return b.read(a,function(a){return parseInt(a);},function(a){return c.is.Waa(a);});};a.prototype.Ala=function(a){var c;c=this;return b.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return c.is.SL(a);});};a.prototype.Ra=function(a){var c;c=this;return b.read(a,function(a){return parseInt(a);},function(a){return c.is.zr(a);});};a.prototype.qCb=function(a){var c;c=this;return b.read(a,function(a){return parseFloat(a);},function(a){return c.is.ph(a);});};a.prototype.IRa=function(a,c){return b.read(a,function(a){return b.Mlb(a,c);},function(a){return void 0!==a;});};a.prototype.Dla=function(a,c){return b.read(a,function(a){return a;},function(a){return c?c.test(a):!0;});};a.prototype.KRa=function(a){var c,f;c=void 0===c?function(){return!0;}:c;f=this;try{return b.read(a,function(a){return f.json.parse(decodeURIComponent(a));},function(a){return f.is.MA(a)&&c(a);});}catch(E){return new n.Wm();}};a.prototype.xe=function(a,c,f){var d,h;f=void 0===f?1:f;d=this;a=a.trim();h=c instanceof Function?c:this.thb(c,f);c=a.indexOf("[");f=a.lastIndexOf("]");if(0!=c||f!=a.length-1)return new n.Wm();a=a.substring(c+1,f);try{return b.zzb(a).map(function(a){a=h(d,b.lLb(a));if(a instanceof n.Wm)throw a;return a;});}catch(K){return K instanceof n.Wm?K:new n.Wm();}};a.prototype.thb=function(a,c){var f;c=void 0===c?1:c;f=this;return function(d,h){d=b.cpb(a);return 1<c?f.xe(h,a,c-1):d(f,h);};};a.Mlb=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};a.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new n.Wm();};a.cpb=function(a){switch(a){case"int":return function(a,b){return a.JRa(b);};case"bool":return function(a,b){return a.Ala(b);};case"uint":return function(a,b){return a.Ra(b);};case"float":return function(a,b){return a.qCb(b);};case"string":return function(a,b){return a.Dla(b);};case"object":return function(a,b){return a.KRa(b);};}};a.zzb=function(a){var m;for(var b=[["[","]"]],c=[],f=0,d=0,h=0,l=[],k={};d<a.length;k={"char":k["char"]},++d){k["char"]=a.charAt(d);m=void 0;","==k["char"]&&0==h?(c.push(a.substr(f,d-f)),f=d+1):(m=b.find(function(a){return function(b){return b[0]==a["char"];};}(k)))?(++h,l.push(m)):0<l.length&&l[l.length-1][1]==k["char"]&&(--h,l.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new n.Wm();return c;};a.lLb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new n.Wm();return a.substring(1,a.length-1);}return a;};d=b=a;return d=b=c.__decorate([g.N(),c.__param(0,g.l(q.Le)),c.__param(1,g.l(m.vw))],d);}();b.tya=d;},function(d,b,a){var c,k,m,g,q,n,l,f,h,x;Object.defineProperty(b,"__esModule",{value:!0});b.Wc=void 0;d=a(1);c=a(665);k=a(664);m=a(663);g=a(136);q=a(506);n=a(351);l=a(662);f=a(661);h=a(327);x=a(660);b.Wc=new d.Ec(function(a){a(g.nU).to(c.tya).Y();a(q.YT).to(m.nxa).Y();a(n.g9).to(k.dza).Y();a(l.yva).to(f.xva).Y();a(h.n9).to(x.vza).Y();});},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Yqa=void 0;c=a(0);k=a(328);m=a(1);d=function(){var b;function a(a){this.Dxb=a;}a.prototype.eJa=function(){var a;a=this.Dxb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(k.e7))],b);}();b.Yqa=d;},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;d=a(1);c=a(328);k=a(357);m=a(358);g=a(667);q=a(10);b.crypto=new d.Ec(function(a){a(m.v4).to(g.Yqa).Y();a(c.e7).Uh(q.Ew);a(k.w4).Uh(q.yT);});},function(d,b,a){var c,k,m,g,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.E2a=void 0;c=a(0);k=a(1);m=a(25);g=a(23);q=a(77);n=a(154);l=a(331);f=a(103);h=a(201);d=function(){var b;function a(a,b,c){var f;f=l.BK.call(this,a,b,"network")||this;f.cda=c;f.LX=n.xS.p2a;f.Svb=30;f.czb=function(a){f.LX=a.target.value;f.refresh();};f.Cyb=function(){f.data={};f.refresh();};f.PSa=function(a){var b,c;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=f.data[f.LX][b].value;c=JSON.stringify(b,null,4);"copy"===a?h.rS.Fca(c):"log"===a&&console.log(b);};return f;}ba(a,l.BK);a.prototype.Ab=function(){var a;a=this;if(this.yl)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==f.Xq.v2a&&a.toggle();});this.data={};this.cda.addListener(n.H4.I3a,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.Svb&&c.shift();c.push(b);b.type===a.LX&&a.refresh();});this.yl=!0;return Promise.resolve();};a.prototype.cj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};a.prototype.hga=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.nEa.sk(c);return'\n            <tr>\n                <td><span class="'+this.prefix+'-display-indexvalue">'+f+'</span></td>\n                <td><span class="'+this.prefix+'-display-keyvalue">'+b+'</span></td>\n                <td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+'</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};a.prototype.sga=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.cj(),b=this.data[this.LX]||[],c=0;c<b.length;++c)a+=this.hga(c,b[c].name,b[c].value);return a+"</table>";};a.prototype.ZIa=function(){var a;a=this.kd.createElement("button",l.CD,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Cyb;return[a,this.Khb(),this.Bhb()];};a.prototype.Khb=function(){var a;a=this.kd.createElement("select",l.CD,Object.keys(n.xS).reduce(function(a,b){b=n.xS[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.czb;return a;};a.prototype.Bhb=function(){var a,b,c,f;a=this;b=this.kd.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.SP;b.onchange=function(){return a.mJb();};c=this.kd.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.kd.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};a.prototype.$Ra=function(){return Promise.resolve(this.sga());};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.uf)),c.__param(1,k.l(g.Le)),c.__param(2,k.l(q.HJ))],b);}();b.E2a=d;},function(d,b,a){var k,m,g,q,n,l,f,h,x,p,t,E,J,K,D,u,Q,V;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aua=void 0;k=a(0);m=a(1);g=a(25);q=a(95);n=a(465);l=a(36);f=a(40);h=a(3);x=a(24);p=a(71);t=a(7);E=a(94);J=a(200);K=a(329);D=a(69);u=a(103);Q=a(201);c.download=function(a,b){return c.hob(a).then(function(a){return c.bqb(a,b.join("\r\n")).then(function(a){return c.xjb(a.filename,a.text);});});};c.hob=function(a){return new Promise(function(b,c){var f,d,h,l,n,k,m;try{f=new Date();d=f.getDate().toString();h=(f.getMonth()+1).toString();l=f.getFullYear().toString();n=f.getHours().toString();k=f.getMinutes().toString();m=f.getSeconds().toString();1===d.length&&(d="0"+d);1===h.length&&(h="0"+h);1===n.length&&(n="0"+n);1===k.length&&(k="0"+k);1===m.length&&(m="0"+m);b(l+h+d+n+k+m+"."+a+".log");}catch(za){c(za);}});};c.bqb=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(da){f(da);}});};c.xjb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(ma){return Promise.reject(ma);}};V=function(){function a(b){var c;this.elements=[];c=document.createElementNS(a.fR,"svg");c.setAttribute("viewBox",b);this.elements.push(c);}a.prototype.MI=function(){var b;b=document.createElementNS(a.fR,"g");b.setAttribute("stroke","none");b.setAttribute("stroke-width",1..toString());b.setAttribute("fill","none");b.setAttribute("fill-rule","evenodd");b.setAttribute("stroke-linecap","round");this.addElement(b);return this;};a.prototype.NI=function(b,c,f){var d;d=document.createElementNS(a.fR,"path");d.setAttribute("d",b);c&&d.setAttribute("fill",c);f&&d.setAttribute("fill-rule",f);this.addElement(d);return this;};a.prototype.WQ=function(b,c,f,d,h){var l;h=void 0===h?"#000000":h;l=document.createElementNS(a.fR,"rect");l.setAttribute("x",b.toString());l.setAttribute("y",c.toString());l.setAttribute("height",f.toString());l.setAttribute("width",d.toString());h&&l.setAttribute("fill",h);this.addElement(l);return this;};a.prototype.uHb=function(){var b;b=document.createElementNS(a.fR,"polygon");b.setAttribute("points","0 0 24 0 24 24 0 24");b.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(b);return this;};a.prototype.end=function(){this.elements.pop();return this;};a.prototype.sk=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};a.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};qa.Object.defineProperties(a,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},hB:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});a.fR="http://www.w3.org/2000/svg";return a;}();d=function(){var b;function a(a,b,f,d,l,n,k,m,g,q){var r;r=this;this.za=a;this.app=b;this.kd=f;this.xa=d;this.Kl=l;this.config=n;this.Hx=k;this.Wna=m;this.bib=g;this.$j=q;this.JIb=function(){r.DR.Lc(function(){r.update();});};this.clear=function(){r.entries=[];r.update();};this.tOa=function(){r.Nd.fH=!r.Nd.fH;r.ry&&r.wy&&(r.Nd.fH?(r.ry.style.display="inline-block",r.wy.style.display="none"):(r.wy.style.display="inline-block",r.ry.style.display="none"));r.XC(!1);};this.mvb=function(a){var b;r.entries.push(a);b=r.config.oH;0<=b&&r.entries.length>b&&r.entries.shift();void 0===r.Nd.su[a.em]&&(r.Nd.su[a.em]=!0,r.XC(!1));r.Nd.Pn&&!r.hVa?r.JIb():r.DR.Lc();};this.yjb=function(){c.download("all",r.entries.map(function(a){return a.d3(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.yl=!1;this.Nd={Pn:!1,fH:!0,KX:!0,Cia:t.$h.T5,su:{}};this.DR=this.Wna(h.eh(1));this.Hlb=this.bib(h.Gb(250));this.entries=[];}a.prototype.Ab=function(){var a;a=this;this.xl||(this.xl=new Promise(function(b){M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==u.Xq.I1a?a.toggle():b.keyCode==u.Xq.E&&Q.rS.Fca(a.Hx().Jh));});a.Kl.L1(J.w6.OZa,a.mvb);b();}));return this.xl;};a.prototype.show=function(){document.body&&(this.element||(this.Wgb(),this.yl=!0),!this.Nd.Pn&&this.element&&(document.body.appendChild(this.element),this.Nd.Pn=!0,this.update(!0)));};a.prototype.Qo=function(){this.yl&&this.Nd.Pn&&this.element&&(document.body.removeChild(this.element),this.Nd.Pn=!1);};a.prototype.toggle=function(){this.Nd.Pn?this.Qo():this.show();this.XC(!1);};a.prototype.Wgb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Om=this.Ihb());a.appendChild(this.Jhb());a.appendChild(this.Pgb());this.element=a;}catch(da){console.error("Unable to create the log console",da);}};a.prototype.Ihb=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.hVa=!0;a.update();a.Om&&(a.Om.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.hVa=!1;a.update();a.Om&&(a.Om.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};a.prototype.Jhb=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.nhb());a.appendChild(this.ghb());a.appendChild(this.ahb());a.appendChild(this.Lhb());a.appendChild(this.Tgb());a.appendChild(this.shb());a.appendChild(this.qhb());a.appendChild(this.chb());a.appendChild(this.Ugb());return a;};a.prototype.Pgb=function(){var a,b,c,f,d,h;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");f=this.createElement("select",this.Vr(22,160,1,2),"<option>Select categories</option>");d=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});h=!1;c.addEventListener("click",function(){h?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.Nd.su).sort()).forEach(function(b){d.appendChild(a.Qgb(b,c));}),d.style.display="block");h=!h;});return b;};a.prototype.Qgb=function(a,b){var c,f,d;c=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;d=this.createElement("input","margin:1px");d.type="checkbox";d.id=a;d.checked=this.Nd.su[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Nd.su).forEach(function(b){c.Nd.su[b]="all"===a;}),b.click()):c.Nd.su[a]=!c.Nd.su[a];c.XC(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};a.prototype.nhb=function(){var a,b;a=this;b=this.createElement("select",this.Vr(22,NaN,1,2),'<option value="'+t.$h.ERROR+'">Error</option>'+('<option value="'+t.$h.k9+'">Warn</option>')+('<option value="'+t.$h.T5+'">Info</option>')+('<option value="'+t.$h.Eya+'">Trace</option>')+('<option value="'+t.$h.gb+'">Debug</option>'));b.value=this.Nd.Cia.toString();b.addEventListener("change",function(b){a.Nd.Cia=parseInt(b.target.value);a.XC(!0);},!1);return b;};a.prototype.ghb=function(){var b,c;function a(a){return b.Hlb.Lc(function(){var c;c=a.target.value;b.Nd.filter=c?new RegExp(c):void 0;b.XC(!0);});}b=this;c=this.createElement("input",this.Vr(14,150,1,2));c.value=this.Nd.filter?this.Nd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};a.prototype.ahb=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Vr(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Nd.KX;c.addEventListener("change",function(b){a.Nd.KX=b.target.checked;a.XC(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};a.prototype.Lhb=function(){var a,b,c;a=this;b=this.createElement("button",this.Vr());c=new V("0 0 24 24").MI().uHb().end().NI("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",V.hB,"nonzero").end().end().sk();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};a.prototype.Tgb=function(){var a,b;a=this.createElement("button",this.Vr());b=new V("0 0 24 24").MI().WQ(0,0,24,24,V.background).end().NI("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",V.hB).end().end().sk();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};a.prototype.shb=function(){var a;this.wy=this.createElement("button",this.Vr());this.wy.style.display=this.Nd.fH?"none":"inline-block";a=new V("0 0 24 24").MI().WQ(0,0,24,24,V.background).end().NI("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",V.hB,"nonzero").end().end().sk();this.wy.addEventListener("click",this.tOa,!1);this.wy.appendChild(a);this.wy.setAttribute("title","Shrink the log console");return this.wy;};a.prototype.qhb=function(){var a;this.ry=this.createElement("button",this.Vr());this.ry.style.display=this.Nd.fH?"inline-block":"none";a=new V("0 0 24 24").MI().WQ(4,4,16,16,V.background).end().NI("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",V.hB,"nonzero").end().end().sk();this.ry.addEventListener("click",this.tOa,!1);this.ry.appendChild(a);this.ry.setAttribute("title","Expand the log console");return this.ry;};a.prototype.chb=function(){var a,b;a=this.createElement("button",this.Vr());b=new V("0 0 26 26").MI().WQ(0,0,24,24,V.background).end().NI("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",V.hB,"nonzero").end().end().sk();a.appendChild(b);a.addEventListener("click",this.yjb,!1);a.setAttribute("title","Download all log messages");return a;};a.prototype.Ugb=function(){var a,b,c;a=this;b=this.createElement("button",this.Vr());c=new V("0 0 24 24").MI().WQ(0,0,24,24,V.background).end().NI("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",V.hB,"nonzero").end().end().sk();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};a.prototype.XC=function(a){(void 0===a?0:a)&&this.update(!1);};a.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.iQ&&Promise.resolve(this.Pcb()+this.iob().join("\r\n")).then(function(c){b.element&&b.Om&&(b.Om.value=c,b.element.style.cssText=b.Nd.fH?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.xa.yh(h.Dc,function(){b.Om.scrollTop=b.Om.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};a.prototype.iob=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Nd.Cia&&a.Nd.su[c.em]&&(c=c.d3(!a.Nd.KX,!a.Nd.KX),a.Nd.filter&&!a.Nd.filter.test(c)||b.push(c));});return b;};a.prototype.Pcb=function(){var a;a=this.Hx();return"Version: 0.0024.489.050 \n"+((a?"Esn: "+a.Jh:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.za.gf.ca(h.Sl)+", Start: "+this.app.XB.ca(h.Sl)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};a.prototype.createElement=function(a,b,c,f){return this.kd.createElement(a,b,c,f);};a.prototype.Vr=function(a,b,c,f){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+V.hB+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(f?"border-radius:"+f+"px;":"");};b=a;b.IHb="logDxDisplay";return b=k.__decorate([m.N(),k.__param(0,m.l(f.Ni)),k.__param(1,m.l(x.We)),k.__param(2,m.l(g.uf)),k.__param(3,m.l(l.Ng)),k.__param(4,m.l(E.Gz)),k.__param(5,m.l(K.p6)),k.__param(6,m.l(p.Uq)),k.__param(7,m.l(q.$z)),k.__param(8,m.l(n.F4)),k.__param(9,m.l(D.Qq))],b);}();b.aua=d;},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.$ta=void 0;c=a(0);k=a(1);m=a(37);g=a(41);q=a(29);n=a(140);d=function(){var b;function a(a,b){a=g.Yd.call(this,a,"LogDisplayConfigImpl")||this;a.hm=b;return a;}ba(a,g.Yd);qa.Object.defineProperties(a.prototype,{iQ:{configurable:!0,enumerable:!0,get:function(){return!0;}},oH:{configurable:!0,enumerable:!0,get:function(){return this.hm.oH;}},gNa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});b=a;c.__decorate([m.config(m.$c,"renderDomDiagnostics")],b.prototype,"iQ",null);c.__decorate([m.config(m.i_,"logDisplayMaxEntryCount")],b.prototype,"oH",null);c.__decorate([m.config(m.i_,"logDisplayAutoshowLevel")],b.prototype,"gNa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(q.Ti)),c.__param(1,k.l(n.lE))],b);}();b.$ta=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.vpa=void 0;c=a(0);k=a(1);a(3);m=a(84);d=function(){var b;function a(){this.Fma="";this.bXa=[[],[]];this.Z=[[],[]];}a.prototype.downloadRequest=function(a){var b;""===this.Fma&&(this.Fma=a.Ma);if(!a.bc){b=this.eJb(a);this.Z[a.L].push(b);this.bXa[a.L].forEach(function(a){a.ETb(b);});}};a.prototype.eJb=function(a){return{id:a.Pj(),Ma:a.Ma,L:a.L,si:a.si,startTime:a.Pv,endTime:a.hI,offset:a.Bm,zM:a.zM,yM:a.yM,duration:a.Or,R:a.R,state:m.T3.WGa,yq:!1,pWb:!1,RKa:!1,fVb:m.S3.waiting};};a.prototype.update=function(a){this.bXa[a.L].forEach(function(b){b.sZb(a);});};qa.Object.defineProperties(a.prototype,{Ma:{configurable:!0,enumerable:!0,get:function(){return this.Fma;}}});b=a;return b=c.__decorate([k.N()],b);}();b.vpa=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Kra=void 0;c=a(0);k=a(1);m=a(332);d=function(){var b;function a(a){this.sjb=a;}a.prototype.Ab=function(){var a;a=this;this.xl||(this.xl=new Promise(function(b,c){var f;f=[];a.sjb.forEach(function(a){f.push(a.Ab());});Promise.all(f).then(function(){b();})["catch"](function(a){c(a);});}));return this.xl;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.lC(m.W4))],b);}();b.Kra=d;},function(d,b){function a(a){this.is=a;this.Jtb="#881391";this.SHb="#C41A16";this.ycb=this.iyb="#1C00CF";this.ysb="#D79BDB";this.XJb=this.fyb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.Xya=void 0;a.prototype.sk=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Xx=function(a,b){return'<font color="'+((void 0===b?0:b)?this.ysb:this.Jtb)+'">'+a+": </font>";};a.prototype.GIa=function(a,b){b=b||"";a=""+('<li><a href="#">'+this.Xx(a)+"Array["+b.length+"]</a>");a+="<ul>";for(var c=0;c<b.length;++c)a+=this.getValue(c.toString(),b[c]);a+=this.getValue("length",b.length,!0);return a+"</ul></li>";};a.prototype.UJa=function(a,b){var c,d,k;c=this;if(b instanceof CryptoKey)return this.Fnb(a,b);d=Object.keys(b);k="";k=k+('<li><a href="#">'+("~~NONAME~~"!==a?this.Xx(a):"")+"Object</a>");k=k+"<ul>";d.forEach(function(a){k=a.startsWith("$")?k+c.getValue(a,"REMOVED"):k+c.getValue(a,b[a]);});k+="</ul>";return k+="</li>";};a.prototype.Fnb=function(a,b){a=""+('<li><a href="#">'+this.Xx(a)+"CryptoKey</a>");a=a+"<ul>"+this.UJa("algorithm",b.algorithm);a+=this.LIa("extractable",b.extractable);a+=this.mKa("type",b.type);a+=this.GIa("usages",b.usages);return a+"</ul></li>";};a.prototype.apb=function(a,b,d){return'<li><a href="#">'+this.Xx(a,void 0===d?!1:d)+('<font color="'+this.iyb+'">'+b.toString()+"</font>")+"</a></li>";};a.prototype.LIa=function(a,b,d){return'<li><a href="#">'+this.Xx(a,void 0===d?!1:d)+('<font color="'+this.ycb+'">'+b.toString()+"</font>")+"</a></li>";};a.prototype.mKa=function(a,b,d){128<b.length&&(b=b.substr(0,128)+"...");return'<li><a href="#">'+this.Xx(a,void 0===d?!1:d)+('<font color="'+this.SHb+'">"'+b+'"</font>')+"</a></li>";};a.prototype.$ob=function(a){return'<li><a href="#">'+this.Xx(a)+('<font color="'+this.fyb+'">null</font>')+"</a></li>";};a.prototype.oqb=function(a,b){b="undefined"===typeof b?"":b.toString();255<b.length&&(b=b.substr(0,255)+"...");return'<li><a href="#">'+this.Xx(a)+('<font color="'+this.XJb+'">'+b+"</font>")+"</a></li>";};a.prototype.getValue=function(a,b,d){d=void 0===d?!1:d;return null===b?""+this.$ob(a):this.is.eu(b)?""+this.GIa(a,b):this.is.MA(b)?""+this.UJa(a,b):this.is.rn(b)?""+this.mKa(a,b,d):this.is.ph(b)?""+this.apb(a,b,d):this.is.SL(b)?""+this.LIa(a,b,d):""+this.oqb(a,b);};b.Xya=a;},function(d,b,a){var c,k,m,g,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.E1a=void 0;c=a(0);k=a(1);m=a(25);g=a(23);q=a(174);n=a(331);l=a(103);f=a(201);d=function(){var b;function a(a,b,c){var f;f=n.BK.call(this,a,b,"idb")||this;f.$j=c;f.PSa=function(a){f.Jib(a.target.id).then(function(){return f.refresh();});};f.Dyb=function(){f.keb().then(function(){return f.refresh();});};f.Syb=function(){f.refresh();};f.Gyb=function(){f.ifb();};return f;}ba(a,n.BK);a.prototype.Ab=function(){var a;a=this;if(this.yl)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==l.Xq.D0a&&a.toggle();});return this.$j.create().then(function(b){a.storage=b;a.yl=!0;});};a.prototype.cj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};a.prototype.hga=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.nEa.sk({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};a.prototype.sga=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.cj(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.hga(f,c[f],a[c[f]]);return b+"</table>";};a.prototype.ZIa=function(){var a,b,c;a=this.kd.createElement("button",n.CD,"Clear",{"class":this.prefix+"-display-btn"});b=this.kd.createElement("button",n.CD,"Refresh",{"class":this.prefix+"-display-btn"});c=this.kd.createElement("button",n.CD,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Dyb;b.onclick=this.Syb;c.onclick=this.Gyb;return[a,b,c];};a.prototype.Oub=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.nLa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.nLa;});};a.prototype.Jib=function(a){return this.storage.remove(a);};a.prototype.keb=function(){return this.storage.removeAll();};a.prototype.$Ra=function(){var a;a=this;return this.Oub().then(function(b){return a.sga(b);});};a.prototype.ifb=function(){var a;a=JSON.stringify(this.nLa,null,4);f.rS.Fca(a);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.uf)),c.__param(1,k.l(g.Le)),c.__param(2,k.l(q.iT))],b);}();b.E1a=d;},function(d,b,a){var k,m,g,q,n,l,f,h;function c(a){return function(){return new Promise(function(b,c){var f;f=a.fb.get(m.Y4);f.Ab().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;d=a(1);k=a(332);a(675);m=a(330);g=a(673);q=a(84);n=a(672);l=a(329);f=a(671);h=a(670);a(669);b.$Ga=new d.Ec(function(a){a(l.p6).to(f.$ta).Y();a(k.W4).to(h.aua);a(q.sJ).to(n.vpa).Y();a(m.Y4).to(g.Kra).Y();a(m.X4).rR(c);});},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.owa=b.lwa=b.kwa=void 0;c=a(0);k=a(1);m=a(202);g=a(45);q=a(2);d=function(){var b;function a(a){this.Rzb=a;}a.prototype.Oq=function(a){a.map(this.Rzb.Oq);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.K7))],b);}();b.kwa=d;d=function(){var b;function a(a){this.Pzb=a;}a.prototype.Oq=function(a){this.Pzb.Oq(a.data);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.H7))],b);}();b.lwa=d;d=function(){var b;function a(){}a.prototype.Oq=function(a){var b;a.ia&&"string"===typeof a.ia?a.href&&"string"===typeof a.href?a.profileId&&"string"===typeof a.profileId||(b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new g.vc(q.K.tw,q.J.nw,void 0,void 0,void 0,b,void 0,a.ia);};b=a;return b=c.__decorate([k.N()],b);}();b.owa=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.Zva=void 0;c=a(0);k=a(76);m=a(7);g=a(1);d=function(){var b;function a(a,b){this.KM=b;this.log=a.ub("PboEventSenderImpl");}a.prototype.Pma=function(a,b){var c;c=this.KM(k.Ol.start);return this.FHa(c,a,b);};a.prototype.tTa=function(a){var b;b=this;return this.KM(k.Ol.stop).te(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};a.prototype.CQ=function(a,b,c){a=this.KM(a);return this.FHa(a,b,c);};a.prototype.FHa=function(a,b,c){var f;f=this;return a.Gn(this.log,b.ya.Ci,c).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Db)),c.__param(1,g.l(k.FS))],b);}();b.Zva=d;},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;c=a(0);k=a(1);m=a(41);g=a(29);q=a(37);n=a(3);l=a(34);d=function(){var b;function a(a,b){a=m.Yd.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}ba(a,m.Yd);qa.Object.defineProperties(a.prototype,{ZH:{configurable:!0,enumerable:!0,get:function(){return this.config.Pr?"unsentplaydatatest":"unsentplaydata";}},Mma:{configurable:!0,enumerable:!0,get:function(){return!0;}},oTa:{configurable:!0,enumerable:!0,get:function(){return n.Gb(1E4);}},Kka:{configurable:!0,enumerable:!0,get:function(){return n.Gb(4E3);}},BMa:{configurable:!0,enumerable:!0,get:function(){return n.lP(1);}},CMa:{configurable:!0,enumerable:!0,get:function(){return n.eh(30);}}});b=a;c.__decorate([q.config(q.string,"playdataPersistKey")],b.prototype,"ZH",null);c.__decorate([q.config(q.$c,"sendPersistedPlaydata")],b.prototype,"Mma",null);c.__decorate([q.config(q.Xg,"playdataSendDelayMilliseconds")],b.prototype,"oTa",null);c.__decorate([q.config(q.Xg,"playdataPersistIntervalMilliseconds")],b.prototype,"Kka",null);c.__decorate([q.config(q.Xg,"heartbeatCooldown")],b.prototype,"BMa",null);c.__decorate([q.config(q.Xg,"keepAliveWindow")],b.prototype,"CMa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ti)),c.__param(1,k.l(l.Yk))],b);}();b.Kwa=d;},function(d,b,a){var m,g,q,n,l,f,h,x,p,t,E,J,K,D,u;function c(a,b){this.config=a;this.za=b;}function k(a,b,c,f,d,h){this.log=a;this.xa=b;this.vh=c;this.wq=f;this.Ts=d;this.tAb=h;this.MHa=this.Sp=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.nwa=b.J3a=void 0;m=a(0);g=a(1);q=a(3);n=a(7);l=a(36);f=a(253);h=a(335);x=a(13);p=a(334);t=a(2);E=a(203);J=a(333);K=a(112);D=a(40);u=a(114);k.prototype.y0=function(a,b){var f;function c(){var a;a=f.wq.create(f.vh);f.Ts.Eoa(a)["catch"](function(a){var b;b=f.MHa?n.$h.k9:n.$h.ERROR;f.MHa=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.Ts.gab(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.lp=f.xa.tma(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new E.NT().encode(b)});f.lp=f.xa.tma(a,c);});};k.prototype.stop=function(a){var b,c;b=this;if(this.Sp)return Promise.resolve();this.lp&&this.lp.cancel();c=this.wq.create(this.vh);return this.Ts.Eoa(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.vh.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.tAb.tTa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Ts.gSa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.G);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};k.prototype.cancel=function(){this.Sp=!0;this.lp&&this.lp.cancel();this.Ts.Eoa(this.wq.create(this.vh));};qa.Object.defineProperties(c.prototype,{qdb:{configurable:!0,enumerable:!0,get:function(){var a;a=this.za.gf;return!this.VB||0<=a.Mb(this.VB).Hj(this.config.CMa)?(this.VB=a,!0):!1;}}});b.J3a=c;d=function(){var b;function a(a,b,f,d,h,l,n,k){this.config=a;this.xa=f;this.Ts=d;this.wq=h;this.n1=l;this.Di=n;this.VB=Promise.resolve();this.closed=!1;this.log=b.ub("PlaydataServices");this.yC=[];this.active=new Set();this.mEb=new c(a,k);}a.prototype.Ab=function(){var a;a=this;this.xl||(this.log.trace("Starting playdata services"),this.xl=this.Ts.tCb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.xl;};a.prototype.close=function(){this.closed=!0;this.yC.forEach(function(a){a.y0.cancel();});};a.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.ZH&&b.Mma?this.mFb(a):Promise.resolve();};a.prototype.L2=function(a){this.closed||this.sHb(a);};a.prototype.EUa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.wq.create(a);this.active["delete"](c.ia);a=R(K.ws(function(a){return a.key===c.ia;},this.yC));f=a.next().value;this.yC=a.next().value;return Promise.all(f.map(function(a){a.FUa=!0;return a.y0.stop(b.config.Mma);})).then(function(){});};a.prototype.V0=function(a,b){var c,f;c=this;f=a.fa;this.vUa(f,b);this.Pma(f,a.QM)["catch"](function(a){c.log.error("Start command failed",{playdata:a.zC,error:a.uB});});this.pHb(a);};a.prototype.sHb=function(a){var b;b=this;a.addEventListener(x.V.Zo,function(c){var f;if(void 0!==c.u1){f=a.km(c.u1);b.EUa(f);c.QB||new Promise(function(b){var c;if(a.yq.value)b();else{c=function(f){f.newValue&&(b(),a.yq.removeListener(c));};a.yq.addListener(c);}}).then(function(){return b.V0(a,"online");});}});a.addEventListener(x.V.Tn,function(){b.V0(a,"online");});a.background||a.addEventListener(x.V.MO,function(c){c=a.km(c.G);b.vUa(c,"online");});a.addEventListener(x.V.Af,function(){b.EHb();});a.addEventListener(x.V.OWa,function(){b.sFb(a.fa)["catch"](function(b){(b=b.Tka)&&a.ZA(b);});});a.uc.addListener(function(){a.Pa.Ada?b.log.trace("stickiness is disabled for timedtext"):b.sTa(a.fa);});a.Rc.addListener(function(){a.Pa.Ada?b.log.trace("stickiness is disabled for audio"):b.sTa(a.fa)["catch"](function(b){(b=b.Tka)&&a.ZA(b);});});};a.prototype.vUa=function(a,b){var c,f;a.jd("pdb");if(this.config.Kka.itb()){c=this.wq.create(a);f=c.ia;this.yC.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.yC.push({key:f,y0:this.Pob(a,c),cD:!1,FUa:!1}));}};a.prototype.mFb=function(a){var b,c,f,d;b=this;c=this.Ts.zC.filter(function(a){return!b.active.has(a.ia);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=R(K.ws(function(b){return b.G===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.xa.yh(this.config.oTa,function(){b.rTa(d);});return f&&0!==f.length?this.rTa(f):Promise.resolve();};a.prototype.rTa=function(a){var c;function b(a){return c.n1.tTa(a).then(function(){return c.vDb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};a.prototype.vDb=function(a){var b;b=this;return this.Ts.gSa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};a.prototype.Pob=function(a,b){a=new k(this.log,this.xa,a,this.wq,this.Ts,this.n1);a.y0(this.config.Kka,b);return a;};a.prototype.Pma=function(a,b){var c,f;c=this;f=this.wq.hhb(a,b);return this.n1.Pma(a,f).then(function(){c.yC.filter(function(b){return b.key===a.ia.toString();}).forEach(function(a){a.cD=!0;});})["catch"](function(a){throw{zC:f,uB:a};});};a.prototype.sFb=function(a){return this.mEb.qdb?this.CQ(J.KT.CO,a,t.K.g6):Promise.resolve();};a.prototype.sTa=function(a){return this.CQ(J.KT.splice,a,t.K.Hxa);};a.prototype.CQ=function(a,b,c){var d;function f(a){var b;b=d.yC.filter(function(b){return b.key===a.ia.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.FUa||!b.cD;},!1);}d=this;return f(b)?this.VB:this.VB=this.VB["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.wq.create(b);return d.n1.CQ(a,b,c);}).then(function(a){return a;})["catch"](function(f){var h;d.log.error("Failed to send event",{eventKey:a,xid:b.ia,error:f});f.hea?h=d.Di(c,f):f.rs===t.tT.c9&&(h=d.Di(c,f));throw{uB:f,Tka:h};});};a.prototype.pHb=function(a){this.SGb(a)&&this.zna(this.Aob(a.fa),a);};a.prototype.zna=function(a,b){var c;c=this;this.fca();this.Xha=this.xa.yh(a,function(){c.fca();c.CQ(J.KT.CO,b.fa,t.K.g6).then(function(){c.zna(a,b);})["catch"](function(f){var d;d=f.uB;(f=f.Tka)&&b.ZA(f);d.rs===t.tT.c9&&c.zna(a,b);});});};a.prototype.EHb=function(){this.fca();};a.prototype.SGb=function(a){return a.state.value==x.ob.vd;};a.prototype.fca=function(){this.Xha&&(this.Xha.cancel(),this.Xha=void 0);};a.prototype.Aob=function(a){return a.Pa.Nga?q.Gb(a.Pa.Nga):this.config.BMa;};b=a;return b=m.__decorate([g.N(),m.__param(0,g.l(p.c8)),m.__param(1,g.l(n.Db)),m.__param(2,g.l(l.Ng)),m.__param(3,g.l(h.x7)),m.__param(4,g.l(f.OT)),m.__param(5,g.l(J.A7)),m.__param(6,g.l(u.Sz)),m.__param(7,g.l(D.Ni))],b);}();b.nwa=d;},function(d,b,a){var m,g,q,n,l,f,h,x,p,t,E;function c(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vva=void 0;m=a(0);g=a(1);q=a(14);n=a(2);l=a(23);f=a(45);h=a(507);x=a(69);p=a(71);t=a(203);E=a(202);d=function(){var b;function a(a,b,d,l,k){var m;m=this;this.is=a;this.$j=b;this.config=d;this.Hx=l;this.Qzb=k;this.Rs=function(){return new c().encode({version:m.version,data:m.zC});};this.FKb=function(a){a=m.EKb(a);m.Qzb.Oq(a);return a;};this.EKb=function(a){if(m.is.$l(a))return m.IKb(a);if(void 0!=a.version&&m.is.ph(a.version)&&1==a.version)return m.JKb(a);if(void 0!=a.version&&m.is.ph(a.version)&&2==a.version)return new c().decode(a);if(a.version&&m.is.ph(a.version))throw new f.vc(n.K.tw,n.J.mqa,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new f.vc(n.K.tw,n.J.nw,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.qp=new h.W5(2,this.config().OQa,""!==this.config().OQa&&0<this.config().DAb,this.$j,this.Rs);}a.prototype.tCb=function(){return this.qp.load(this.FKb)["catch"](function(a){throw new f.vc(n.K.tw,a.ga||a.ed,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};a.prototype.gab=function(a){return this.qp.add(a);};a.prototype.gSa=function(a){return this.qp.remove(a,function(a,b){return a.ia===b.ia;});};a.prototype.Eoa=function(a){return this.qp.update(a,function(a,b){return a.ia===b.ia;});};a.prototype.toString=function(){return JSON.stringify(this.Rs(),null,"  ");};a.prototype.AWa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.Hx().Jh:"";};a.prototype.Hoa=function(a){return a.map(function(a){return{pd:a.downloadableId,duration:a.duration};});};a.prototype.BWa=function(a){var b;return a?{total:a.playTimes.total,nD:null!==(b=a.playTimes.totalContentTime)&&void 0!==b?b:a.playTimes.total,audio:this.Hoa(a.playTimes.audio||[]),video:this.Hoa(a.playTimes.video||[]),text:this.Hoa(a.playTimes.timedtext||[])}:{total:0,nD:0,audio:[],video:[],text:[]};};a.prototype.IKb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",href:this.AWa(a.playbackContextId),ia:a.xid?a.xid.toString():"",G:a.movieId,position:a.position,IM:a.timestamp,GQ:a.playback?1E3*a.playback.startEpoch:-1,uH:a.mediaId,HP:this.BWa(a.playback),$a:"",Yn:{},profileId:a.accountKey};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.$j.create().then(function(a){a.save(b.config().pN,d,!1);});if(""===c.href||""===c.ia)throw new f.vc(n.K.tw,n.J.nw);return{version:2,data:[c]};};a.prototype.JKb=function(a){var b;b=this;if(!a.playdata||!this.is.eu(a.playdata))throw new f.vc(n.K.tw,n.J.nw,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,href:b.AWa(a.playbackContextId),ia:a.xid?a.xid.toString():"",G:a.movieId,position:a.position,IM:a.timestamp,GQ:a.playback?1E3*a.playback.startEpoch:-1,uH:a.mediaId,HP:b.BWa(a.playback),$a:"",Yn:{},profileId:a.profileId};});}(a.playdata)};};qa.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.qp.version;}},zC:{configurable:!0,enumerable:!0,get:function(){return this.qp.Fr;}}});b=a;return b=m.__decorate([g.N(),m.__param(0,g.l(l.Le)),m.__param(1,g.l(x.Qq)),m.__param(2,g.l(q.fd)),m.__param(3,g.l(p.Uq)),m.__param(4,g.l(E.I7))],b);}();b.Vva=d;k.prototype.encode=function(a){var b;b=new t.NT();return a.map(b.encode);};k.prototype.decode=function(a){var b;b=new t.NT();return a.map(b.decode);};c.prototype.encode=function(a){return{version:a.version,data:new k().encode(a.data)};};c.prototype.decode=function(a){return{version:a.version,data:new k().decode(a.data)};};},function(d,b,a){var k,m,g,q,n,l,f,h,x,p,t,E;function c(a){return function(){return a.fb.get(k.J7).Ab();};}Object.defineProperty(b,"__esModule",{value:!0});b.zC=void 0;d=a(1);k=a(151);m=a(253);g=a(203);q=a(335);n=a(681);l=a(680);f=a(334);h=a(679);x=a(333);p=a(678);t=a(202);E=a(677);b.zC=new d.Ec(function(a){a(f.c8).to(h.Kwa).Y();a(m.OT).to(g.mwa).Y();a(q.x7).to(n.Vva).Y();a(k.J7).to(l.nwa).Y();a(k.oK).rR(c);a(x.A7).to(p.Zva).Y().QR();a(t.K7).to(E.owa).Y();a(t.H7).to(E.kwa).Y();a(t.I7).to(E.lwa).Y();});},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Vta=void 0;c=a(0);k=a(1);m=a(7);g=a(339);a(338);q=a(337);n=a(336);l=a(204);d=function(){var b;function a(a,b,c,f,d){this.E$a=a;this.hDb=b;this.wSa=f;this.ISa=d;this.ka=c.ub("LicenseProviderImpl");}a.prototype.JA=function(a){var b,c;b=this;c=this.wSa.uJb(a);return this.E$a.Gn(this.ka,a.Ci,c).then(function(a){a.map(function(a){return a.lub;});return b.ISa.MVa(a);})["catch"](function(a){b.ka.error("PBO license failed",a);return Promise.reject(a);});};a.prototype.release=function(a){var b;b=this;a=this.wSa.xJb(a);return this.hDb.te(this.ka,a).then(function(a){return b.ISa.yJb(a);})["catch"](function(a){b.ka.error("PBO release license failed",a);return Promise.reject(a);});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.v7)),c.__param(1,k.l(q.L7)),c.__param(2,k.l(m.Db)),c.__param(3,k.l(n.C7)),c.__param(4,k.l(l.LT))],b);}();b.Vta=d;},function(d,b,a){var c,k,m,g,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Era=void 0;c=a(0);k=a(1);m=a(25);g=a(44);q=a(97);n=a(138);l=a(87);f=a(485);h=a(152);d=function(){var b;function a(a,b,c,f){this.kd=a;this.ju=b;this.gLb=c;this.P_=f;}a.prototype.Ai=function(a){var b;b=this;return this.kd.Hr(a.ri[0].data[0],[8,4])?Promise.resolve({qc:[{id:"ddd",my:"cert",nH:void 0}],pm:[{sessionId:"ddd",data:new Uint8Array(this.ju.decode(f.tza))}]}):this.kd.Hr(a.ri[0].data[0],this.gLb.decode("certificate"))?Promise.resolve({qc:[{id:"ddd",my:"cert",nH:void 0}],pm:[{sessionId:"ddd",data:new Uint8Array(this.ju.decode(f.l5))}]}):this.P_.JA(this.zmb(a)).then(function(a){return b.Amb(a);});};a.prototype.release=function(a){var b;b=this;return this.P_.release(this.Dmb(a)).then(function(c){return b.Emb(c,a);});};a.prototype.zmb=function(a){var b,c;b=this;c=a.ri.map(function(a){return a.data.map(function(c){return{sessionId:a.sessionId,dataBase64:b.ju.encode(c)};});});return{ia:a.ia,ng:a.ng,QX:a.QX,Bi:l.qia(a.Bi),Nr:n.Sm[a.Nr],ri:c.reduce(function(a,b){return a.concat(b);},[]),$O:a.$O,Ci:a.Ci};};a.prototype.Dmb=function(a){var b;b={};a.ri&&a.qc[0].id&&(b[a.qc[0].id]=this.ju.encode(a.ri[0]));return a&&a.ri?{ia:a.ia,qc:a.qc,SEb:b}:{ia:a.ia,qc:a.qc};};a.prototype.Amb=function(a){return{qc:a.qc,pm:a.pm};};a.prototype.Emb=function(a,b){return a&&a.response&&a.response.data&&b.qc[0].id&&(a=a.response.data[b.qc[0].id])?{response:this.ju.decode(a)}:{};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.uf)),c.__param(1,k.l(g.qj)),c.__param(2,k.l(q.Lw)),c.__param(3,k.l(h.WD))],b);}();b.Era=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.tRa=void 0;d=a(1);c=a(487);k=a(684);m=a(152);g=a(683);b.tRa=new d.Ec(function(a){a(c.T4).to(k.Era).Y();a(m.WD).to(g.Vta).Y();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xvb=b.yNa=b.vvb=void 0;b.vvb=function(a){return a;};b.yNa=function(a){return a;};b.xvb=function(a){return Object.assign({},a);};},function(d,b,a){var c,k,m,g,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Vsa=void 0;c=a(0);k=a(54);m=a(686);g=a(49);q=a(30);n=a(40);l=a(1);f=a(343);h=a(3);d=function(){var b,d;function a(a,b,c){this.za=a;this.YLb=b;this.performance=c;k.sm(this,"performance");}a.prototype.get=function(a,c,f){var d;d=this;return new Promise(function(l,n){var k,m,q;try{k=d.YLb.create();"withCredentials"in k||n(Error("Missing CORS support"));k.open("GET",a,!0);c&&(k.withCredentials=!0);f&&(k.timeout=f.ca(h.ja));m=d.za.gf;q=void 0;k.onreadystatechange=function(){var c;switch(k.readyState){case XMLHttpRequest.HEADERS_RECEIVED:q=d.za.gf.Mb(m);break;case XMLHttpRequest.DONE:c=d.za.gf.Mb(m),c={body:k.responseText,status:k.status,headers:b.wzb(k.getAllResponseHeaders()),rd:d.Mob(a,g.aa(k.responseText.length),c,q)};l(c);}};k.send();}catch(Z){n(Z);}});};a.wzb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};a.prototype.Mob=function(a,b,c,f){b={size:b,duration:c,aoa:f};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=m.yNa(b);a.tib&&(b.size=g.aa(a.tib));0<a.duration?b.duration=h.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=h.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.LGa=h.timestamp(a.domainLookupEnd-a.domainLookupStart),b.Una=h.timestamp(a.connectEnd-a.connectStart),b.aoa=h.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.eoa=h.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.eoa=h.timestamp(c),b.Una=h.timestamp(a.connectEnd-a.connectStart-c)));return b;};d=b=a;return d=b=c.__decorate([l.N(),c.__param(0,l.l(n.Ni)),c.__param(1,l.l(f.p9)),c.__param(2,l.l(q.PT)),c.__param(2,l.optional())],d);}();b.Vsa=d;},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.xsa=void 0;c=a(0);k=a(1);m=a(54);g=a(30);q=a(3);n=a(23);d=function(){var b;function a(a,b){this.is=a;this.json=b;m.sm(this,"json");}a.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.waa(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.TL(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.TL(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.eu(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.TL(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.eu(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.$l(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.MA(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.waa(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.rn(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.rn(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{ZBb:a.pulses,wRa:a.pulse_delays?a.pulse_delays.map(q.Gb):[],YBb:q.Gb(a.pulse_timeout),AMa:a.next?q.Gb(a.next):void 0,le:a.urls,Eia:a.logblob,context:a.ctx};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.Le)),c.__param(1,k.l(g.vw))],b);}();b.xsa=d;},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.vxa=void 0;c=a(0);k=a(1);m=a(49);g=a(3);q=a(47);n=a(61);d=function(){var b,d;function a(a,b){this.Oh=a;this.hC=b;}a.prototype.kQ=function(a){a=this.hC.An("ftlProbeError","info",b.SLb({url:a.url,sc:a.status,pf_err:a.Mka},a));this.Oh.Ac(a);};a.SLb=function(a,c){c.rd&&(c=c.rd,b.yr(a,"d",c.duration),b.yr(a,"dns",c.LGa),b.yr(a,"tcp",c.Una),b.yr(a,"tls",c.eoa),b.yr(a,"ttfb",c.aoa),a.sz=c.size.ca(m.Sq));return a;};a.yr=function(a,b,c){c&&(a[b]=c.ca(g.ja));return a;};d=b=a;return d=b=c.__decorate([k.N(),c.__param(0,k.l(q.fk)),c.__param(1,k.l(n.fo))],d);}();b.vxa=d;},function(d,b,a){var c,k,m,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;c=a(0);k=a(1);m=a(49);g=a(3);q=a(47);n=a(61);d=function(){var b,d;function a(a,b){this.Oh=a;this.hC=b;}a.prototype.kQ=function(a){a=this.hC.An(a.Eia,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return b.TLb({d:a.rd.duration.ca(g.ja),sc:a.status,sz:a.rd.size.ca(m.Sq),via:a.rLb,cip:a.eeb,err:a.uB},a);})};})});this.Oh.Ac(a);};a.TLb=function(a,c){b.yr(a,"dns",c.rd.LGa);b.yr(a,"tcp",c.rd.Una);b.yr(a,"tls",c.rd.eoa);b.yr(a,"ttfb",c.rd.aoa);return a;};a.yr=function(a,b,c){c&&(a[b]=c.ca(g.ja));return a;};d=b=a;return d=b=c.__decorate([k.N(),c.__param(0,k.l(q.fk)),c.__param(1,k.l(n.fo))],d);}();b.wxa=d;},function(d,b,a){var c,k,m,g,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.zsa=void 0;c=a(0);k=a(1);m=a(3);g=a(36);q=a(7);n=a(341);l=a(340);f=a(182);d=function(){var b,d;function a(a,b,c,f,d,h,l){this.config=a;this.kLa=b;this.xa=c;this.mg=f;this.LDb=d;this.Rla=h;this.Ftb=0;this.ka=l.ub("FTL");}a.prototype.start=function(){this.config.enabled&&!this.lp&&(this.lp=this.xa.yh(this.config.tUa,this.Py.bind(this)));};a.prototype.stop=function(){this.lp&&(this.lp.cancel(),this.lp=void 0);};a.prototype.Py=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.Ftb++;this.Zpb(b).then(function(b){return Promise.all(b.le.map(function(c){return a.Xqb(b,c.url,c.name);})).then(function(c){0<c.length&&a.LDb.kQ({data:c,context:b.context,Eia:b.Eia});}).then(function(){return b;});}).then(function(b){a.lp&&(b.AMa?a.lp=a.xa.yh(b.AMa,a.Py.bind(a)):a.stop());})["catch"](function(b){return a.ka.error("FTL run failed",b);});};a.prototype.Zpb=function(a){var b;b=this;return this.kLa.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.Rla.kQ({url:a,status:c.status,Mka:"FTL API request failed",rd:c.rd}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.mg.parse(c.body);return f instanceof Error?(b.Rla.kQ({url:a,status:4,Mka:"FTL Probe API JSON parsing error",rd:c.rd}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.Rla.kQ({url:a,status:0,Mka:c.message}),b.ka.error("FTL API call failed",c.message));return Promise.reject(c);});};a.prototype.Xqb=function(a,c,f){var d;d=this;return new Promise(function(h,l){var p;for(var n,k,g,q=[],r={},x=0;x<a.ZBb;r={rl:r.rl,sla:r.sla},++x){r.rl=x<a.wRa.length?a.wRa[x]:m.Dc;r.sla=""+c+(-1===c.indexOf("?")?"?":"&")+"pulse="+(x+1);p=function(c){return function(){return new Promise(function(f,h){d.xa.yh(c.rl,function(){b.DBb(d.kLa,c.sla,a.YBb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}n=b(n,"via",a);k=b(k,"x-ftl-probe-data",a);g=b(g,"x-ftl-error",a);f({status:a.status,rd:a.rd,rLb:n||"",eeb:k||"",uB:g||""});})["catch"](function(a){h(a);});});});};}(r);q.push(0<x?q[x-1].then(p):p());}Promise.all(q).then(function(a){h({url:c,name:f,data:a});})["catch"](function(a){l(a);});});};a.DBb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};d=b=a;return d=b=c.__decorate([k.N(),c.__param(0,k.l(f.p5)),c.__param(1,k.l(l.Q5)),c.__param(2,k.l(g.Ng)),c.__param(3,k.l(n.o5)),c.__param(4,k.l(f.s8)),c.__param(5,k.l(f.r8)),c.__param(6,k.l(q.Db))],d);}();b.zsa=d;},function(d,b,a){var c,k,m,g,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;d=a(1);c=a(691);k=a(690);m=a(689);g=a(688);q=a(687);n=a(341);l=a(340);f=a(182);b.yIa=new d.Ec(function(a){a(f.q5).to(c.zsa).Y();a(f.s8).to(k.wxa).Y();a(f.r8).to(m.vxa).Y();a(n.o5).to(g.xsa).Y();a(l.Q5).to(q.Vsa).Y();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.Ar=a;}a.prototype.rP=function(){var a,b,d;a=this.Ar.xob();b=this.Ar.yob();d=this.Ar.zob();if("number"===typeof a&&"number"===typeof b&&"number"===typeof d)return(d-a)/b;};return a;}();b.G2a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a,b){this.Ar=a;this.rP=b;}a.prototype.Wma=function(a){return this.Ar.Wma(a);};a.prototype.lm=function(){return this.Ar.lm();};a.prototype.Xob=function(){return this.rP.rP();};return a;}();b.F2a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.aNa=a;}a.prototype.Wma=function(a){try{this.aNa.setItem("gtp",JSON.stringify(a));}catch(k){return!1;}return!0;};a.prototype.vJa=function(){var a;try{a=this.aNa.getItem("gtp");if(a)return JSON.parse(a);}catch(k){}};a.prototype.lm=function(){var a;a=this.vJa();if(a&&a.tp)return a.tp.a;};a.prototype.xob=function(){var a;a=this.Jfa();if(a)return a.p25;};a.prototype.yob=function(){var a;a=this.Jfa();if(a)return a.p50;};a.prototype.zob=function(){var a;a=this.Jfa();if(a)return a.p75;};a.prototype.Jfa=function(){var a;a=this.vJa();if(a&&(a=a.iqr))return a;};return a;}();b.O3=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(695);k=a(694);m=a(693);b["default"]=function(a){var b;a=new c.O3(a);b=new m.G2a(a);return new k.F2a(a,b);};},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.ova=void 0;c=a(0);k=a(505);m=a(1);g=a(175);q=a(342);d=function(){var b;function a(a,b,c){this.config=a;this.Xub=b;this.yb=c;}a.prototype.Jca=function(){if(this.config.GWa)return this.yb(this.Xub());};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(k.c7)),c.__param(1,m.l(g.b7)),c.__param(2,m.l(q.d7))],b);}();b.ova=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;c=a(0);k=a(1);d=function(){var b;function a(){}a.prototype.create=function(){return new XMLHttpRequest();};b=a;return b=c.__decorate([k.N()],b);}();b.xza=d;},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.SOa=void 0;d=a(1);c=a(698);k=a(91);m=a(343);g=a(697);q=a(206);n=a(342);l=a(696);b.SOa=new d.Ec(function(a){a(m.p9).to(c.xza).Y();a(k.xw).cw(function(){return M._cad_global.http;});a(q.hK).to(g.ova).Y();a(n.d7).Uh(l["default"]);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ONa=void 0;b.ONa=function(a,b){var q,n;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],d=b(c),g=1;g<a.length;g++){q=a[g];n=b(q);n>d&&(c=q,d=n);}return c;}};},function(d,b,a){var k;function c(a,b,c){a=k.zS.call(this,a,b)||this;a.Ax=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Eqa=void 0;k=a(347);ba(c,k.zS);b.Eqa=c;},function(d,b,a){var c,k,m,g,q,n,l,f,h,x,p,t,E,J,K,D,u,Q,V,S,A,Z;Object.defineProperty(b,"__esModule",{value:!0});b.gua=void 0;c=a(0);k=a(252);m=a(456);g=a(47);q=a(25);n=a(448);l=a(248);f=a(70);h=a(1);x=a(348);p=a(346);t=a(91);E=a(14);J=a(40);K=a(24);D=a(32);u=a(61);Q=a(104);V=a(122);S=a(30);A=a(34);Z=a(345);d=function(){var b;function a(a,b,c,f,d,h,l,n,k,m,g,q,r,x,p,F,t,I,K){this.nVa=a;this.RW=b;this.Oh=c;this.oja=f;this.uea=d;this.Ph=h;this.Wc=l;this.PX=n;this.Te=k;this.config=m;this.Cc=g;this.za=q;this.sa=r;this.platform=x;this.ym=p;this.PO=F;this.Tj=t;this.bq=I;this.m0=K;}a.prototype.create=function(a,b,c){return new x.hua(a,b,c,this.nVa,this.RW,this.Oh,this.oja,this.uea,this.Ph,this.Wc,this.PX,this.Te,this.config,this.Cc,this.za,this.sa,this.platform,this.ym,this.PO,this.Tj,this.bq,this.m0);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.qU)),c.__param(1,h.l(m.q4)),c.__param(2,h.l(g.fk)),c.__param(3,h.l(n.J6)),c.__param(4,h.l(l.j5)),c.__param(5,h.l(f.er)),c.__param(6,h.l(q.uf)),c.__param(7,h.l(p.Q4)),c.__param(8,h.l(t.xw)),c.__param(9,h.l(E.fd)),c.__param(10,h.l(Q.cA)),c.__param(11,h.l(J.Ni)),c.__param(12,h.l(K.We)),c.__param(13,h.l(D.Si)),c.__param(14,h.l(S.mE)),c.__param(15,h.l(u.fo)),c.__param(16,h.l(V.oE)),c.__param(17,h.l(A.Yk)),c.__param(18,h.l(Z.U6))],b);}();b.gua=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.eua=void 0;c=a(0);k=a(1);m=a(49);g=a(71);d=function(){var b;function a(a){this.Ih=a;}a.prototype.evb=function(){var a;a=this.Ih()?this.Ih().Jh.length:40;return m.aa(a+33);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.Uq))],b);}();b.eua=d;},function(d,b,a){var k,m,g,q,n,l,f,h,x,p;function c(a,b,c,f,d,h,l,k,g,m){this.platform=b;this.Uca=c;this.type=f;this.severity=d;this.timestamp=h;this.data=l;this.sa=k;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.uda;this.data.clver=this.platform.version;a&&a.Cj&&(a.Cj.os&&(this.data.osplatform=a.Cj.os.name,this.data.osver=a.Cj.os.version),this.data.browsername=a.Cj.name,this.data.browserver=a.Cj.version);a.Pha&&(this.data.tester=!0);a.dy&&!this.data.groupname&&(this.data.groupname=a.dy);a.LF&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.LF:a.LF);a.qD&&(this.data.uigroupname=a.qD);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.sa.Fob();this.data.uniqueLogId=g.EIa();this.data.appId=this.sa.id;m&&(a=this.sa.Zb(),this.data.soffms=a.Mb(m.Kk).ca(n.ja),this.data.mid=this.data.mid||m.G,this.data.lvpi=m.Dia,this.data.uiLabel=m.ke,f="startup"===f?"playbackxid":"xid",this.data[f]="xid"===f&&this.data.xid||m.ia,m.TC&&(f=m.TC,(m=m.TC.split("."))&&1<m.length&&"S"!==m[0][0]&&(f="SABTest"+m[0]+".Cell"+m[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}Object.defineProperty(b,"__esModule",{value:!0});b.dua=void 0;k=a(0);m=a(49);g=a(1);q=a(40);n=a(3);l=a(474);f=a(34);h=a(24);x=a(351);p=a(32);d=function(){var b;function a(a,b,c,f,d,h){this.za=a;this.Uca=b;this.config=c;this.sa=f;this.iLb=d;this.platform=h;}a.prototype.An=function(a,b,f,d){return new c(this.config,this.platform,this.Uca,a,b,this.za.gf,f,this.sa,this.iLb,d);};b=a;return b=k.__decorate([g.N(),k.__param(0,g.l(q.Ni)),k.__param(1,g.l(l.x4)),k.__param(2,g.l(f.Yk)),k.__param(3,g.l(h.We)),k.__param(4,g.l(x.g9)),k.__param(5,g.l(p.Si))],b);}();b.dua=d;qa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.rEa||(this.rEa=m.aa(this.Uca.encode(this.data).length));return this.rEa;}}});},function(d,b,a){var c,k,m,g,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Yta=void 0;c=a(0);k=a(49);m=a(3);g=a(1);q=a(14);n=a(37);l=a(41);f=a(29);d=function(){var b;function a(a,b){a=l.Yd.call(this,a,"PboConfigImpl")||this;a.config=b;a.Tvb=k.aa(5E5);a.oFb=m.lP(1);a.UNa=k.aa(1E6);return a;}ba(a,l.Yd);qa.Object.defineProperties(a.prototype,{Gaa:{configurable:!0,enumerable:!0,get:function(){return this.config().Gaa;}},bUa:{configurable:!0,enumerable:!0,get:function(){return[];}},aUa:{configurable:!0,enumerable:!0,get:function(){return["MslTransport","Pbo","LogblobSender"];}}});b=a;c.__decorate([n.config(n.object(),"shedLogblobTypes")],b.prototype,"bUa",null);c.__decorate([n.config(n.un("string"),"shedDebugTypes")],b.prototype,"aUa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(f.Ti)),c.__param(1,g.l(q.fd))],b);}();b.Yta=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.fua=void 0;c=a(0);k=a(1);m=a(207);g=a(49);d=function(){var b;function a(a){this.config=a;}a.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.evb());}).reduce(function(a,b){return a.add(b);},g.aa(0));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.s6))],b);}();b.fua=d;},function(d,b,a){var k,m,g,q,n,l,f,h,x,p,t,E;function c(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.iua=void 0;k=a(0);m=a(1);g=a(54);q=a(30);n=a(3);l=a(25);f=a(24);h=a(32);x=a(71);p=a(7);t=a(352);E=a(70);d=function(){var b;function a(a,b,c,f,d,h,l,n){this.sa=a;this.platform=c;this.Ih=f;this.json=d;this.kd=h;this.Ph=l;this.lvb=n;g.sm(this,"json");this.ka=b.ub("LogblobSender");}a.prototype.send=function(a){var b;b=this;return new Promise(function(f,d){var h;try{h=a.reduce(function(a,c){a.entries.push(b.ohb(c));return a;},new c());f(b.Lmb(h));}catch(A){b.ka.error(A.message);d(A);}}).then(function(a){return b.Oma(a);});};a.prototype.ohb=function(a){return this.kd.EH(this.kd.EH({},a.data),{esn:this.Ih().Jh,sev:a.severity,type:a.type,lver:this.platform.kvb,jssid:this.sa.id,devmod:this.platform.uda,jsoffms:a.timestamp.Mb(this.sa.XB).ca(n.ja),clienttime:a.timestamp.ca(n.ja),client_utc:a.timestamp.ca(n.Sl),uiver:this.Ph.zR});};a.prototype.Lmb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(S){for(var c={},f=0;f<a.entries.length;c={YQ:c.YQ,re:c.re},++f){c.re=Object.assign({},a.entries[f]);try{this.json.stringify(c.re);}catch(A){c.YQ=void 0;this.kd.Nx(c.re,function(a){return function(c,f){try{b.json.stringify(f);}catch(W){a.YQ=W.message;a.re[c]=a.YQ;}};}(c));c.re.stringifyException=c.YQ;c.re.originalType=c.re.type;c.re.type="debug";c.re.sev="error";}}return this.json.stringify(a);}};a.prototype.Oma=function(a){var b;b=this;return this.lvb.te(this.ka,{logblobs:a}).then(function(){})["catch"](function(a){b.ka.error("PBO logblob failed",a);return Promise.reject(a);});};b=a;return b=k.__decorate([m.N(),k.__param(0,m.l(f.We)),k.__param(1,m.l(p.Db)),k.__param(2,m.l(h.Si)),k.__param(3,m.l(x.Uq)),k.__param(4,m.l(q.vw)),k.__param(5,m.l(l.uf)),k.__param(6,m.l(E.er)),k.__param(7,m.l(t.F7))],b);}();b.iua=d;},function(d,b,a){var k,m,g,q,n,l,f,h;function c(a){this.lF=q.Dc;this.E$=[];this.kL=this.gV=!1;this.Lza=0;a&&(this.lF=a.size,this.E$=a.tv,a instanceof c&&(this.Lza=a.zbb+1));}Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;k=a(0);m=a(1);g=a(54);q=a(49);n=a(207);l=a(7);f=a(30);h=a(47);d=function(){var b;function a(a,b,c,f){this.zwb=a;this.config=b;this.kf=c;this.json=f;g.sm(this,"json");this.ka=this.kf.ub("MessageQueue");this.Pp=[];}a.prototype.Iaa=function(a){var b,c;0===this.Pp.length&&this.Pp.push(this.Afa());if(a=this.Epb(a)){b=this.zwb.measure([a]);c=this.Pp[this.Pp.length-1];0<c.size.add(b).Hj(this.config.UNa)&&(c=this.Afa(),this.Pp.push(c));c.Iaa(a);}};a.prototype.inb=function(){var a;a=this.Pp.filter(function(a){return a.sdb;});this.Pp.push(this.Afa());a.forEach(function(a){return a.Lvb();});return a;};a.prototype.K$a=function(a){a.Zu||this.Pp.unshift(new c(a));};a.prototype.oDb=function(a){a=this.Pp.indexOf(a);0<=a&&this.Pp.splice(a,1);};a.prototype.Epb=function(a){try{return{data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(K){var b,c;b={};c=a.data.debugMessage;c&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ka.error("JSON.stringify error: "+K.message,b);}};a.prototype.Afa=function(){return new c();};qa.Object.defineProperties(a.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Pp.reduce(function(a,b){return a.add(b.size);},q.Dc);}}});b=a;return b=k.__decorate([m.N(),k.__param(0,m.l(n.t6)),k.__param(1,m.l(h.lT)),k.__param(2,m.l(l.Db)),k.__param(3,m.l(f.vw))],b);}();b.bva=d;c.prototype.Ina=function(){this.gV=!1;this.kL=!0;};c.prototype.Rx=function(){this.gV=!1;};c.prototype.Iaa=function(a){this.E$.push(a);this.lF=this.lF.add(a.size);};c.prototype.Lvb=function(){this.gV=!0;};qa.Object.defineProperties(c.prototype,{zbb:{configurable:!0,enumerable:!0,get:function(){return this.Lza;}},size:{configurable:!0,enumerable:!0,get:function(){return this.lF;}},tv:{configurable:!0,enumerable:!0,get:function(){return this.E$;}},sdb:{configurable:!0,enumerable:!0,get:function(){return 0<this.tv.length&&!1===this.gV;}},Zu:{configurable:!0,enumerable:!0,get:function(){return this.kL;}}});},function(d,b,a){var c,k,m,g,q,n,l,f,h,x,p,t;Object.defineProperty(b,"__esModule",{value:!0});b.Zta=void 0;c=a(0);k=a(1);m=a(54);g=a(30);q=a(355);n=a(36);l=a(7);f=a(47);h=a(354);x=a(2);p=a(77);a(154);t=a(353);d=function(){var b;function a(a,b,c,f,d,h,l){this.config=a;this.json=b;this.xa=c;this.avb=f;this.eP=h;this.cda=l;this.t_=this.yl=!1;this.listeners=[];m.sm(this,"json");this.ka=d.ub("LogBatcher");}a.prototype.Ab=function(){this.yl=!0;};a.prototype.Ac=function(a){var b;b=this;this.UGb(a)||(0<a.size.Hj(this.config.Tvb)?this.ka.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.ywb(a);}),this.eP.Iaa(a),this.xa.Lc(function(){b.$lb();})));};a.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.t_?(this.ka.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ka.trace("Flushing",l.JJ);b.Hi();b.xa.Lc(function(){b.Lma(a).then(function(){c();})["catch"](function(a){f(a);});});});};a.prototype.addListener=function(a){this.listeners.push(a);};a.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};a.prototype.Lma=function(a){var b,c;a=void 0===a?!1:a;b=this;if(!this.yl)return this.ka.trace("LogBatcher is not initialized"),Promise.resolve();if(this.t_)return this.ka.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();c=this.eP.inb();if(0===c.length&&!a)return this.ka.trace("No logblobs to send"),Promise.resolve();this.Hi();this.listeners.forEach(function(){});a=Promise.resolve();for(var f={},d=R(c),h=d.next();!h.done;f={yba:f.yba},h=d.next())f.yba=h.value,a=a.then(function(a){return function(){return b.nFb(a.yba);};}(f));return a.then(function(){return b.sB();})["catch"](function(a){c.filter(function(a){return!a.Zu;}).forEach(function(a){return a.Rx();});b.sB();throw Error("Send failure. "+a);});};a.prototype.nFb=function(a){var b;b=this;this.ka.trace("Sending batch: "+a.size,l.JJ);return Promise.resolve(this.eP.oDb(a)).then(function(){return b.avb.send(a.tv);}).then(function(){return a.Ina();})["catch"](function(c){b.ka.warn("Failed to send batch of logblobs.",c,l.JJ);a.Rx();b.JGb(c)&&b.eP.K$a(a);b.VGb(c)&&(b.t_=!0);throw c;});};a.prototype.JGb=function(a){return a.sh===x.fT.Rva?!1:this.config.Gaa;};a.prototype.VGb=function(a){return a.ed===x.J.Bsa||a.ed===x.J.UJ||a.ed===x.J.YJ?!0:!1;};a.prototype.$lb=function(){var a;a=this;0<this.eP.size.Hj(this.config.UNa)?this.Lma()["catch"](function(b){return a.ka.warn("Failed to send log messages on size threshold. "+b);}):this.sB();};a.prototype.Hi=function(){this.UB&&(this.UB.cancel(),this.UB=void 0);};a.prototype.sB=function(){this.UB||(this.UB=this.xa.yh(this.config.oFb,this.yv.bind(this)));};a.prototype.yv=function(){var a;a=this;this.t_=!1;this.Hi();this.Lma()["catch"](function(b){return a.ka.warn("Failed to send log messages on timer. "+b);});};a.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(T){}return b;};a.prototype.UGb=function(a){return 0<=this.config.bUa.indexOf(a.type)?!0:a.type===t.me.debug?0<=this.config.aUa.indexOf(a.data.debugCategory):!1;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(f.lT)),c.__param(1,k.l(g.vw)),c.__param(2,k.l(n.Ng)),c.__param(3,k.l(q.v6)),c.__param(4,k.l(l.Db)),c.__param(5,k.l(h.R6)),c.__param(6,k.l(p.HJ))],b);}();b.Zta=d;},function(d,b,a){var c,k,m,g,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.rpa=void 0;c=a(0);k=a(1);m=a(14);g=a(94);q=a(47);n=a(61);l=a(7);d=function(){var b,d;function a(a,c,f,d){var h;h=this;this.nvb=a;this.PO=c;this.config=d;this.Hla=[];this.nvb.L1(b.xXa,this.Mqb.bind(this));f().then(function(a){var b;b=d().Yp.mmb;h.Wvb=b?l.$h[b.toUpperCase()]:l.$h.ERROR;h.Oh=a;h.rFb();});}a.prototype.Mqb=function(a,b){this.Oh?this.ARa(a,b):this.Hla.push([a,b]);};a.prototype.rFb=function(){var a,b;a=this;b=this.Hla;this.Hla=[];b.forEach(function(b){a.ARa(b[0],b[1]);});};a.prototype.ARa=function(a,b){var c;if(this.Oh&&this.MGb(a)){c={debugMessage:a.message,debugCategory:a.em};a.Bd.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.PO.An("debug",l.$h[a.level].toLowerCase(),c,b);this.Oh.Ac(a);}};a.prototype.MGb=function(a){var b;b=this.Wvb;return void 0!==b&&a.level<=b&&!a.Bd.find(function(a){return a.yN(l.JJ);});};d=b=a;d.xXa="adaptorAll";return d=b=c.__decorate([k.N(),c.__param(0,k.l(g.Gz)),c.__param(1,k.l(n.fo)),c.__param(2,k.l(q.o6)),c.__param(3,k.l(m.fd))],d);}();b.rpa=d;},function(d,b,a){var c,k,g,r,q,n,l,f,h,x,p,t,E,J,K,D,u,Q,V,S,A,Z;Object.defineProperty(b,"__esModule",{value:!0});b.iNa=void 0;d=a(1);c=a(173);k=a(710);g=a(709);r=a(708);q=a(707);n=a(706);l=a(14);f=a(705);h=a(704);x=a(703);p=a(36);t=a(71);E=a(350);J=a(354);K=a(355);D=a(61);u=a(207);Q=a(47);V=a(349);S=a(702);A=a(346);Z=a(344);b.iNa=new d.Ec(function(a){a(Q.fk).to(g.Zta).Y();a(J.R6).to(r.bva).Y();a(K.v6).to(q.iua).Y();a(u.t6).to(n.fua).Y();a(Q.lT).to(f.Yta).Y();a(D.fo).to(h.dua).Y();a(u.s6).to(x.eua).Y();a(V.u6).to(S.gua).Y();a(A.Q4).to(Z.yra).Y();a(E.N3).to(k.rpa).Y();a(Q.o6).rR(function(a){return function(){return a.fb.get(c.eK)().then(function(b){return new Promise(function(c){var d,h,n;function f(){h()&&n()&&b.z0?c(a.fb.get(Q.fk)):d.Lc(f);}d=a.fb.get(p.Ng);h=a.fb.get(l.fd);n=a.fb.get(t.Uq);d.Lc(f);});});};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tra=void 0;b.tra=function(a,b,d,g){this.Jh=a;this.Px=b;this.kea=g;};},function(d,b,a){var c,k,g,r,q,n,l,f,h,x,p,t,E,J;Object.defineProperty(b,"__esModule",{value:!0});b.ura=void 0;c=a(0);k=a(2);g=a(23);r=a(712);q=a(7);n=a(361);l=a(44);f=a(86);h=a(25);x=a(1);p=a(69);t=a(358);E=a(357);J=a(356);d=function(){var b;function a(a,b,c,f,d,h,l,n,k,g){this.EGa=a;this.$j=b;this.Ia=f;this.Tca=d;this.xc=h;this.debug=l;this.hLb=n;this.Sca=k;this.Ozb=g;this.c5=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.ub("Device");}a.prototype.JHa=function(a){try{return a.match(this.c5)[2];}catch(Q){}};a.prototype.LHa=function(a){try{return a.match(this.c5)[1];}catch(Q){}};a.prototype.create=function(a){var b;b=this;return new Promise(function(c,f){b.$j.create().then(function(d){var l,n,g,m,q,x;function h(d){b.Ia.$l(d)&&b.Ia.$l(l)?(n=new r.tra(d,l,void 0,g,a.vda||"cadmium"),c(n)):f({ga:k.J.cra});}l=a.Px;if(a.xfa)g="bind_device",b.Ozb.te(b.log,{}).then(function(a){h(a.esn);})["catch"](function(a){f(a);});else if(a.HY){q=a.Jh;if(b.Ia.$l(q)){x=b.LHa(q);x!=a.Px&&b.log.error("esn prefix from ui is different",{ui:x,cad:a.Px,ua:a.userAgent});}else a.Aia&&b.log.error("esn from ui is missing");d.load(a.FGa).then(function(a){m=a.value;b.Ia.$l(m)&&(b.Ia.$l(q)?(a=b.JHa(q),g=a===m?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):g="storage_esn_not_in_config",h(l+m));})["catch"](function(c){var m;function n(){d.save(a.FGa,m,!1).then(function(){h(l+m);})["catch"](function(a){f(a);});}c.ga===k.J.Hw?(b.Ia.$l(a.Jh)?(m=b.JHa(a.Jh),b.Ia.$l(m)?g="config_since_not_in_storage":(g="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Jh),m=b.EGa.BIa())):(g="generated_since_not_in_config_and_storage",m=b.EGa.BIa()),n()):f(c);});}else a.djb&&b.Tca&&b.Tca.getKeyByName?b.Tca.getKeyByName(a.Mbb).then(function(a){a=a.id;if(b.Ia.rn(a))a=String.fromCharCode.apply(void 0,b.xc.decode(a)),b.debug.assert(""!=a),l=b.LHa(a),h(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){f({ga:k.J.A4,sb:b.hLb.Ge(a)});}):a.cjb&&b.Sca&&b.Sca.eJa?b.Sca.eJa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=l+a;b.debug.assert(b.c5.test(a));h(c);})["catch"](function(){f({ga:k.J.A4});}):h();})["catch"](function(a){f(a);});});};b=a;return b=c.__decorate([x.N(),c.__param(0,x.l(n.K4)),c.__param(1,x.l(p.Qq)),c.__param(2,x.l(q.Db)),c.__param(3,x.l(g.Le)),c.__param(4,x.l(E.w4)),c.__param(5,x.l(l.qj)),c.__param(6,x.l(f.Tq)),c.__param(7,x.l(h.uf)),c.__param(8,x.l(t.v4)),c.__param(9,x.l(J.w7))],b);}();b.ura=d;},function(d,b,a){var c,k,g,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.sra=void 0;c=a(0);k=a(40);g=a(3);r=a(134);q=a(360);n=a(54);l=a(1);d=function(){var b;function a(a,b){this.za=a;this.vla=b;}a.prototype.BIa=function(){for(var a="",b=this.za.gf.ca(g.ja),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.vla.CRa(new q.o8(0,31,n.yPa))];return a;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.Ni)),c.__param(1,l.l(r.uK))],b);}();b.sra=d;},function(d,b,a){var c,k,g,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Ih=void 0;d=a(1);c=a(71);k=a(361);g=a(714);r=a(359);q=a(713);b.Ih=new d.Ec(function(a){a(c.Uq).rf(function(){return function(){return M._cad_global.device;};});a(r.L4).to(q.ura).Y();a(k.K4).to(g.sra).Y();});},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.hva=void 0;c=a(0);k=a(1);d=function(){var b;function a(){var a;a=this;this.ready=!1;this.nxb=new Promise(function(b){a.eEb=b;});}a.prototype.oxb=function(a){this.ready||(this.eEb(a),this.ready=!0);};a.prototype.isReady=function(){return this.ready;};b=a;return b=c.__decorate([k.N()],b);}();b.hva=d;},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.yy=void 0;d=a(1);c=a(362);k=a(716);g=a(173);b.yy=new d.Ec(function(a){a(c.sT).to(k.hva).Y();a(g.eK).rR(function(a){return function(){return a.fb.get(c.sT).nxb;};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;b.TFa=function(a,b,d,g){return{aKa:function(){var b;b=a.$fa();g.iq&&(b+=g.iq);return b;},ka:b,request:d,Mh:!1};};},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Bw=b.dK=b.Cw=b.VO=b.dya=void 0;c=a(0);k=a(93);Object.defineProperty(b,"Mp4FragmentParser",{enumerable:!0,get:function(){return k.dK;}});Object.defineProperty(b,"Mp4FragmentSlicer",{enumerable:!0,get:function(){return k.Bw;}});Object.defineProperty(b,"makeMdatHeader",{enumerable:!0,get:function(){return k.VO;}});Object.defineProperty(b,"SidxBox",{enumerable:!0,get:function(){return k.dya;}});g=a(4);d=function(a){function b(c,d,f,h,k){return a.call(this,b.console,c,d,f,h,k)||this;}c.__extends(b,a);Object.defineProperties(b,{console:{get:function(){return this.u||(this.u=new g.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return b;}(k.Cw);b.Cw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hm=b.yFa=void 0;b.yFa={qs:["minInitVideoBitrate",-Infinity],Bja:["minHCInitVideoBitrate",-Infinity],pv:["maxInitVideoBitrate",Infinity],jP:["minInitAudioBitrate",-Infinity],iP:["minHCInitAudioBitrate",-Infinity],WO:["maxInitAudioBitrate",Infinity],n0:["minAcceptableVideoBitrate",-Infinity],gP:["minAcceptableVMAF",0],Owb:["minAcceptableVMAFRebufferScalingFactor",0],zja:["minAllowedVideoBitrate",-Infinity],Pvb:["maxAllowedVideoBitrate",Infinity],iC:["minAllowedVmaf",-Infinity],LNa:["maxAllowedVmaf",Infinity],RI:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],oLa:["ignoreUserFilterOnEmptyResult",!0],kP:["minRequiredBuffer",2E4],s0:["minRequiredAudioBuffer",0],kg:["minPrebufSize",5800],Aja:["minCheckBufferingCompleteInterval",200],nHa:["enableMoreFrequentBufferingCompleteCheck",!1],uN:["enableNewBufferingComplete",!1],axb:["minimumBufferingCompleteInterval",1E4],U1:["requireDownloadDataAtBuffering",!1],nQ:["requireSetupConnectionDuringBuffering",!1],Fla:["rebufferingFactor",1],bp:["maxBufferingTime",2E3],Joa:["useMaxPrebufSize",!0],uy:["maxPrebufSize",4E4],fja:["maxRebufSize",Infinity],vlb:["fastRebufferRecoveryThreshold",Infinity],ulb:["fastRebufferRecoverBwThrehold",3E3],a_:["initialBitrateSelectionCurve",null],zLa:["initSelectionLowerBound",-Infinity],ALa:["initSelectionUpperBound",Infinity],a3:["throughputPercentForAudio",15],uba:["bandwidthMargin",0],wba:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],ccb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,tu:76376,scale:18862.4,gamma:3.0569}],vba:["bandwidthMarginContinuous",!1],dcb:["bandwidthMarginForAudio",!0],Ona:["switchConfigBasedOnInSessionTput",!0],yca:["conservBandwidthMargin",20],NM:["conservBandwidthMarginTputThreshold",6E3],zca:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],ZUa:["switchAlgoBasedOnHistIQR",!1],az:["switchConfigBasedOnThroughputHistory","iqr"],eja:["maxPlayerStateToSwitchConfig",-1],Iia:["lowEndMarkingCriteria","iqr"],V5:["IQRThreshold",.5],Wga:["histIQRCalcToUse","simple"],Np:["bandwidthManifold",{curves:[{min:.05,max:.82,tu:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,tu:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],sv:["maxTotalBufferLevelPerSession",0],gLa:["highWatermarkLevel",3E4],BVa:["toStableThreshold",3E4],e3:["toUnstableThreshold",0],tna:["skipBitrateInUpswitch",!1],Soa:["watermarkLevelForSkipStart",8E3],Pga:["highStreamRetentionWindow",9E4],Jia:["lowStreamTransitionWindow",51E4],Rga:["highStreamRetentionWindowUp",5E5],Lia:["lowStreamTransitionWindowUp",1E5],Qga:["highStreamRetentionWindowDown",6E5],Kia:["lowStreamTransitionWindowDown",0],Oga:["highStreamInfeasibleBitrateFactor",.5],mv:["lowestBufForUpswitch",9E3],S_:["lockPeriodAfterDownswitch",15E3],Nia:["lowWatermarkLevel",15E3],nv:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Oia:["lowestWaterMarkLevelBufferRelaxed",!1],rja:["mediaRate",1.5],e0:["maxTrailingBufferLen",15E3],fM:["audioBufferTargetAvailableSize",262144],KR:["videoBufferTargetAvailableSize",1048576],bOa:["maxVideoTrailingBufferSize",8388608],NNa:["maxAudioTrailingBufferSize",393216],lY:["fastUpswitchFactor",3],wlb:["fastUpswitchFactorWithoutHeaders",3],yea:["fastDownswitchFactor",3],qv:["maxMediaBufferAllowed",27E4],oXb:["minMediaBufferLen",1E4],ls:["maxMediaBufferAllowedInBytes",0],pna:["simulatePartialBlocks",!0],eUa:["simulateBufferFull",!0],Aca:["considerConnectTime",!0],xca:["connectTimeMultiplier",1],oNa:["lowGradeModeEnterThreshold",12E4],pNa:["lowGradeModeExitThreshold",9E4],QNa:["maxDomainFailureWaitDuration",3E4],MNa:["maxAttemptsOnFailure",18],GHa:["exhaustAllLocationsForFailure",!0],WNa:["maxNetworkErrorsDuringBuffering",20],Zia:["maxBufferingTimeAllowedWithNetworkError",6E4],OHa:["fastDomainSelectionBwThreshold",2E3],lVa:["throughputProbingEnterThreshold",4E4],mVa:["throughputProbingExitThreshold",34E3],bNa:["locationProbingTimeout",1E4],SHa:["finalLocationSelectionBwThreshold",1E4],jVa:["throughputHighConfidenceLevel",.75],kVa:["throughputLowConfidenceLevel",.4],xia:["locationStatisticsUpdateInterval",6E4],Zub:["locationSelectorPersistFailures",!0],oHa:["enablePerfBasedLocationSwitch",!1],YWb:["maxRateMaxFragmentGroups",4500],Nka:["pipelineScheduleTimeoutMs",2],rv:["maxPartialBuffersAtBufferingStart",2],Cja:["minPendingBufferLen",3E3],ty:["maxPendingBufferLen",6E3],ukb:["enableNginxRateLimit",!1],M0:["nginxSendingRate",4E4],ykb:["enableRequestPacingToken",!1],swb:["mediaRequestPacingSpeed",2],rha:["initialMediaRequestToken",2E4],Y_:["maxActiveRequestsSABCell100",2],b0:["maxPendingBufferLenSABCell100",500],zSa:["resetActiveRequestsAtSessionInit",!0],ikb:["enableCprAudio",!1],jkb:["enableCprVideo",!1],jca:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],gja:["maxStreamingSkew",2E3],Qvb:["maxBufferOccupancyForSkewCheck",Infinity],NKb:["useBufferOccupancySkipBack",!0],dja:["maxPendingBufferPercentage",10],dC:["maxRequestsInBuffer",120],LZ:["headerRequestSize",4096],krb:["headerCacheEstimateHeaderSize",!1],Rja:["neverWipeHeaderCache",!1],LWa:["useSidxInfoFromManifestForHeaderRequestSize",!1],kY:["fastPlayHeaderRequestSize",0],cC:["maxRequestSize",0],BH:["minRequestSize",65536],hP:["minBufferLenForHeaderDownloading",1E4],kUa:["smartHeaderPreDownloading",!1],MXb:["onlyAllowPtsUpdatePolling",!1],Twb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],V1:["reserveForSkipbackBufferMs",15E3],gka:["numExtraFragmentsAllowed",2],fp:["pipelineEnabled",!0],sH:["maxParallelConnections",3],VKb:["usePipelineForAudio",!1],UKb:["usePipelineDetectionForAudio",!1],lUa:["socketReceiveBufferSize",0],DW:["audioSocketReceiveBufferSize",32768],jJ:["videoSocketReceiveBufferSize",65536],JWa:["usePipelineDetectionForVideo",!1],Xwb:["minVideoSocketReceiveBufferSize",65536],Mga:["headersSocketReceiveBufferSize",32768],HGb:["shareDownloadTracks",!0],Dja:["minTimeBetweenHeaderRequests",void 0],q3:["updatePtsIntervalMs",1E3],Eba:["bufferTraceDenominator",0],TA:["bufferLevelNotifyIntervalMs",2E3],hHa:["enableAbortTesting",!1],ACa:["abortRequestFrequency",8],Gna:["streamingStatusIntervalMs",2E3],zq:["prebufferTimeLimit",6E4],p0:["minBufferLevelForTrackSwitch",2E3],wkb:["enablePenaltyForLongConnectTime",!1],Gka:["penaltyFactorForLongConnectTime",2],Gia:["longConnectTimeThreshold",200],Naa:["additionalBufferingLongConnectTime",2E3],Oaa:["additionalBufferingPerFailure",8E3],eQ:["rebufferCheckDuration",6E4],mHa:["enableLookaheadHints",!1],kNa:["lookaheadFragments",2],qB:["enableOCSideChannel",!0],lla:["probeRequestTimeoutMilliseconds",3E4],fYb:["probeRequestConnectTimeoutMilliseconds",8E3],DT:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],pWa:["updateDrmRequestOnNetworkFailure",!0],PNa:["maxDiffAudioVideoEndPtsMs",1E3],TWb:["maxAudioFragmentOverlapMs",80],Hib:["deferAseHeaderCache",!1],vGa:["deferAseScheduling",!1],RIb:["timeBeforeEndOfStreamBufferMark",6E3],aja:["maxFastPlayBufferInMs",2E4],$ia:["maxFastPlayBitThreshold",2E8],Rvb:["maxBufferingCompleteBufferInMs",Infinity],o0:["minAudioMediaRequestSizeBytes",0],v0:["minVideoMediaRequestSizeBytes",0],yH:["minAudioMediaRequestDuration",0],DH:["minVideoMediaRequestDuration",0],AH:["minMediaRequestDuration",0],Qwb:["minAudioMediaRequestDurationCache",0],Wwb:["minVideoMediaRequestDurationCache",0],tkb:["enableMultiFragmentRequest",!1],eJ:[["useHeaderCache","usehc"],!0],t3:[["useHeaderCacheData","usehcd"],!0],yX:["defaultHeaderCacheSize",4],kda:["defaultHeaderCacheDataCount",4],lda:["defaultHeaderCacheDataPrefetchMs",0],Iga:["headerCacheMaxPendingData",6],Jga:["headerCachePriorityLimit",5],aLa:["headerCacheAdoptBothAV",!1],WKb:["usePipelineForBranchedAudio",!0],Zdb:["childBranchBatchedAmount",1E4],w0:["minimumTimeBeforeBranchDecision",2E3],Zvb:["maxRequestsToAttachOnBranchActivation",void 0],xOa:["minimumJustInTimeBufferLevel",3E3],pkb:["enableJustInTimeAppends",!1],jHa:["enableDelayedSeamless",!1],ZTb:["branchEndPtsIntervalMs",250],Nrb:["ignorePtsJustBeforeCurrentSegment",!1],SNa:["maxFragsForFittableOnBranching",300],Kzb:["pausePlaylistAtEnd",!0],J$a:["adaptiveParallelTimeoutMs",1E3],pG:["enableAdaptiveParallelStreaming",!1],Dba:["bufferThresholdToSwitchToSingleConnMs",45E3],Cba:["bufferThresholdToSwitchToParallelConnMs",35E3],fkb:["enableAPSForBranching",!1],F3:["waitForPendingConnAdaptation",!1],Pja:["networkFailureResetWaitMs",2E3],Oja:["networkFailureAbandonMs",6E4],d0:["maxThrottledNetworkFailures",5],Z2:["throttledNetworkFailureThresholdMs",200],Mia:["lowThroughputThreshold",400],pea:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],QIb:["timeAtEachBitrateRoundRobin",1E4],rEb:["roundRobinDirection","forward"],Eqb:["hackForHttpsErrorCodes",!1],Erb:["httpsConnectErrorAsPerm",!1],FOa:["mp4ParsingInNative",!1],Ug:["enableManagerDebugTraces",!1],CNa:["managerDebugMessageInterval",1E3],BNa:["managerDebugMessageCount",20],nPa:["notifyManifestCacheEom",!0],wN:["enableUsingHeaderCount",!1],mUa:["sourceBufferInOrderAppend",!0],Es:["requireAudioStreamToEncompassVideo",!1],ZCa:["allowAudioToStreamPastVideo",!1],HFa:["countGapInBuffer",!1],$Ca:["allowCallToStreamSelector",!1],gEa:["bufferThresholdForAbort",2E4],T2:["ase_stream_selector","optimized"],oba:["audiostreamSelectorAlgorithm","selectaudioadaptive"],pha:["initBitrateSelectorAlgorithm","default"],Gba:["bufferingSelectorAlgorithm","default"],fGa:["ase_ls_failure_simulation",""],bda:["ase_dump_fragments",!1],dda:["ase_location_history",0],eda:["ase_throughput",0],hGa:["ase_simulate_verbose",!1],Fg:["stallAtFrameCount",void 0],sUa:["stallAtFrameCountAudio",void 0],Wia:["marginPredictor","simple"],MKb:["useBackupUnderflowTimer",!0],vZb:["useManifestDrmHeader",!0],wZb:["useOnlyManifestDrmHeader",!0],Qja:["networkMeasurementGranularity","video_location"],xxb:["netIntrStoreWindow",36E3],yXb:["minNetIntrDuration",8E3],L6a:["fastHistoricBandwidthExpirationTime",10368E3],j7a:["bandwidthExpirationTime",5184E3],K6a:["failureExpirationTime",86400],zBa:["historyTimeOfDayGranularity",4],G6a:["expandDownloadTime",!0],S7a:["minimumMeasurementTime",500],R7a:["minimumMeasurementBytes",131072],$8a:["throughputMeasurementTimeout",2E3],Z8a:["initThroughputMeasureDataSize",262144],D7a:["historicBandwidthUpdateInterval",2E3],Q7a:["minimumBufferToStopProbing",1E4],CTb:["throughputPredictor","ewma"],zma:["secondThroughputEstimator","slidingwindow"],dTa:["secondThroughputMeasureWindowInMs",3E5],BTb:["throughputMeasureWindow",5E3],DTb:["throughputWarmupTime",5E3],ATb:["throughputIQRMeasureWindow",1E3],gTb:["IQRBucketizerWindow",15E3],TNa:["maxIQRSamples",100],sOa:["minIQRSamples",5],xTb:["connectTimeHalflife",10],qTb:["responseTimeHalflife",10],pTb:["historicThroughputHalflife",14400],oTb:["historicResponseTimeHalflife",100],nTb:["historicHttpResponseTimeHalflife",100],Ssa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],lBa:["minReportedNetIntrDuration",4E3],zTb:["throughputBucketMs",500],jTb:["bucketHoltWintersWindow",2E3],z6a:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],H6a:["experimentalFilter",["throughput-wssl"]],e$:["filterDefinitionOverrides",{}],o6a:["defaultFilter","throughput-ewma"],F9a:["secondaryFilter","throughput-sw"],LE:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],YX:["enableHudsonFieldTest",!1],$X:["enableWsslEstimate",!1],ija:["maxWsslRequestSize",131072],hja:["maxWsslRequestRatio",.2],mXa:["wsslAggregationMethod","max"],hy:["hudsonTitles",["81127954","70125931"]],cja:["maxPartialBuffersAtHudson",1],NH:["numberOfChunksPerSegment",4],Y2:["targetContentLatency",1E4],Sna:["targetLongContentLatency",3E4],Eja:["minimumTimeDelay",1],vN:["enableSessionHistoryReport",!0],Rda:["earlyStageEstimatePeriod",1E4],OMa:["lateStageEstimatePeriod",3E4],a0:["maxNumSessionHistoryStored",10],t0:["minSessionHistoryDuration",3E5],nrb:["highAndStableModelName","baseline"],Wda:["enableHighAndStablePredictor",!1],r0:["minNumSessionHistory",5],TTb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],NZ:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],orb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],mW:["addHeaderDataToNetworkMonitor",!0],Ana:["startMonitorOnLoadStart",!1],Sla:["reportFailedRequestsToNetworkMonitor",!1],i1:["periodicHistoryPersistMs",0],f2:["saveVideoBitrateMs",0],oP:["needMinimumNetworkConfidence",!0],Aba:["biasTowardHistoricalThroughput",!1],dvb:["logMemoryUsage",!1],bLa:["headerCacheTruncateHeaderAfterParsing",!0],Bq:["probeServerWhenError",!0],du:["allowSwitchback",!0],EC:["probeDetailDenominator",100],$_:["maxDelayToReportFailure",300],ZL:["allowParallelStreaming",!1],qwb:["mediaPrefetchDisabled",!1],qOa:["minBufferLevelToAllowPrefetch",5E3],nG:["editVideoFragments",!1],mVb:["editAudioFragments",!0],LEb:["seamlessAudio",!1],MEb:["seamlessAudioProfiles",[]],NEb:["seamlessAudioProfilesAndTitles",{}],xma:["seamlessAudioMaximumSyncError",void 0],yma:["seamlessAudioMinimumSyncError",void 0],vO:["insertSilentFrames",0],MLa:["insertSilentFramesOnExit",void 0],LLa:["insertSilentFramesOnEntry",void 0],KLa:["insertSilentFramesForProfile",void 0],nmb:["forceDiscontinuityAtTransition",!0],Zy:["supportAudioResetOnDiscontinuity",void 0],Yy:["supportAudioEasingOnDiscontinuity",void 0],Br:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],$jb:["editCompleteFragments",!0],Zwb:["minimumAudioFramesPerFragment",1],NA:["applyProfileTimestampOffset",!1],yo:["applyProfileStreamingOffset",!0],oRa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],PKb:["useDpiAssumedAacEncoderDelay",!0],tja:["mediaSourceSupportsNegativePts",!1],zH:["minAudioPtsGap",void 0],Ebb:["audioOverlapGuardSampleCount",2],pHa:["enableRecordJSBridgePerf",!1],d6:["JSBridgeTDigestConfig",{maxc:25,c:.5}],OIb:["throughputThresholdSelectorParam",0],KKb:["upswitchDuringBufferingFactor",2],Hab:["allowUpswitchDuringBuffering",!1],BFa:["contentOverrides",void 0],Cca:["contentProfileOverrides",void 0],Vga:["hindsightDenominator",0],Uga:["hindsightDebugDenominator",0],hO:["hindsightAlgorithmsEnabled",["htwbr"]],OZ:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],nDa:["appendMediaRequestOnComplete",!1],mJ:["waitForDrmToAppendMedia",!1],xY:["forceAppendHeadersAfterDrm",!1],mI:["reappendRequestsOnSkip",!1],gda:["declareBufferingCompleteAtSegmentEnd",!1],js:["maxActiveRequestsPerSession",void 0],ria:["limitAudioDiscountByMaxAudioBitrate",!1],Zaa:["appendFirstHeaderOnComplete",!0],V2:["strictBufferCapacityCheck",!1],dM:["aseReportDenominator",0],hba:["aseReportIntervalMs",3E5],ooa:["translateToVp9Draft",!1],UI:["switchableAudioProfiles",[]],Fbb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],aVa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Hbb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],aOa:["maxStartingVideoVMAF",110],CH:["minStartingVideoVMAF",1],VL:["activateSelectStartingVMAF",!1],n2:["selectStartingVMAFTDigest",-1],xI:["selectStartingVMAFMethod","fallback"],lTa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],YH:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],mjb:["disablePtsStartsEvent",!0],Gla:["recordFirstFragmentOnSubBranchCreate",!0],eOa:["mediaCacheConvertToBinaryData",!1],mja:["mediaCacheSaveOneObject",!1],KNa:["markRequestActiveOnFirstByte",!1],TX:["earlyAppendSingleChildBranch",!0],fJ:["useNativeDataViewMethods",!0],Vaa:["alwaysNotifyEOSForPlaygraph",!1],OKb:["useCorrectDrainingAmounts",!0],ZX:["enableNewAse",!1],uD:["useNewApi",!1],wda:["aseDiagnostics",[{MM:"queue-audit",enabled:!1}]],KAb:["playgraphImmediateTransitionDistance",3E3],Bcb:["branchDistanceThreshold",6E4],Z_:["maxAllowedOutstandingRequests",4],u0:["minStreamableConcurrencyWindow",0],U2:["streamableConcurrencyFactor",0],wM:["bufferingConcurrencyWindow",0],qna:["singleStreamablePerBranch",!1]};b.hm=b.yFa;},function(d,b,a){var g,r;function c(){this.Nt=this.$K=this.bV=this.oV=this.ZU=null;}function k(a){this.I=a;this.Tt=[];this.lo=new c();this.oL();}g=a(8);a(19);a(11);r=a(4);new r.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Xd=function(a){var b;b=!1;a&&g.has(a,"ens")&&g.has(a,"lns")&&g.has(a,"fns")&&g.has(a,"d")&&g.has(a,"t")&&(this.ZU=a.ens,this.oV=a.lns,this.bV=a.fns,this.$K=a.d,this.Nt=a.t,b=!0);return b;};c.prototype.Tc=function(){var a;if(g.Oa(this.ZU)||g.Oa(this.oV)||g.Oa(this.bV)||g.Oa(this.$K)||g.Oa(this.Nt))return null;a={d:this.$K,t:this.Nt};a.ens=this.ZU;a.lns=this.oV;a.fns=this.bV;return a;};c.prototype.get=function(){var a,b;a=this.Tc();if(a){b=new Date(this.Nt);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};k.prototype.oL=function(){var a;a=r.storage.get("sth");a&&this.Xd(a);};k.prototype.Xd=function(a){var b,d;b=null;d=this.I;a.forEach(function(a){var f;f=new c();f.Xd(a)?(b=!0,this.Tt.push(f)):g.Oa(b)&&(b=!1);},this);this.Tt=this.Tt.filter(function(a){return a.$K>=d.t0;});this.Tt.sort(function(a,b){return a.Nt-b.Nt;});return g.Oa(b)?!0:b;};k.prototype.j$=function(){var a;a=[];this.Tt.forEach(function(b){a.push(b.Tc());},this);return a;};k.prototype.save=function(){var a,b,d;a=this.j$();b=this.I;d=this.lo.Tc();d&&d.d>=b.t0&&(a.push(d),this.Tt.push(this.lo));a.length>b.a0&&(a=a.slice(a.length-b.a0,a.length));this.lo=new c();a&&r.storage.set("sth",a);};k.prototype.reset=function(){this.lo=new c();};k.prototype.Inb=function(){return this.lo.get();};k.prototype.Npb=function(){return this.Tt.length+1;};k.prototype.O$a=function(a){this.lo.ZU=a;this.lo.Nt=r.time.ea();};k.prototype.$$a=function(a){this.lo.oV=a;this.lo.Nt=r.time.ea();};k.prototype.T$a=function(a,b){this.lo.bV=a;this.lo.Nt=r.time.ea();this.lo.$K=b;};d.P=k;},function(d,b,a){var k,g,r,q;function c(a){var b;b=nrdp.Ih.TYb.match(/android-(\d*)/);b?23<b[1]?(a.Zy=!1,a.Yy=!1,a.Br=void 0):(b=nrdp.Ih.KRb.AUb.platform.YXb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.Zy=!0,a.Yy=!1,a.Br=void 0):(a.Zy=!1,a.Yy=!1,a.Br=[]):(a.Zy=!1,a.Yy=!1,a.Br=[]):(a.Zy=!1,a.Yy=!1,a.Br=[]);}k=a(5).assert;a(80);g=a(4);r=g.hk;q=g.q2a;d.P=function(){var a,b,f;new g.Console("ASEJSMONKEY","media|asejs");if(!g.hk.yc){a=function(a){this.L7a=a;};b=q.prototype.appendBuffer;g.MediaSource.yc||(g.MediaSource.yc={});"undefined"!==typeof nrdp&&nrdp.gDa&&(c(g.MediaSource.yc),g.MediaSource.yc.cFa=!1,g.MediaSource.yc.LOa=!1);g.hk.yc={tI:{$oa:!0,Yz:!0,lva:!0}};Object.defineProperty(r.prototype,"_response",{get:function(){return this.W9a||this.n6a;},set:function(a){this.n6a=a;}});f=r.prototype.open;r.prototype.open=function(b,c,d,l,n,k,g){1===d&&(this.W9a=new a(this));return f.call(this,b,c,d,l,n,k,g);};r.prototype.hQ=function(){this.jF=void 0;};q.prototype.appendBuffer=function(c){if(c instanceof ArrayBuffer)return b.call(this,c);if(c instanceof a)return this.tW(c.L7a);k(!1);};}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.npa=void 0;c=a(58);d=function(){function a(a){this.console=a;this.sA=[];this.cx=[];c.gb&&this.console.trace("Received pending adoption "+this.Ny.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.sA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ny:{get:function(){return this.cx;},enumerable:!1,configurable:!0}});a.prototype.Mvb=function(a){a=this.cx.indexOf(a);-1!==a&&(c.gb&&this.console.trace("Marking request attached"),this.sA[a].QLa=!0,this.ZVa(a));};a.prototype.Nvb=function(a){a=this.cx.indexOf(a);-1!==a&&(c.gb&&this.console.trace("Marking request completed"),this.sA[a].Zu=!0,this.ZVa(a));};a.prototype.BDb=function(a){var b,c;b=this;c=[];this.cx.forEach(function(b,d){a(b)&&c.unshift(d);});c.forEach(function(a){b.cx.splice(a,1);b.sA.splice(a,1);});};a.prototype.push=function(a){this.cx.push(a);this.sA.push({QLa:!1,Zu:!1});c.gb&&this.console.trace("Pushing pending request, "+this.length+" total");};a.prototype.KB=function(){return 0<this.length;};a.prototype.ZVa=function(a){var b;b=this.sA[a];b.QLa&&b.Zu&&(b=this.cx[a],this.cx.splice(a,1),this.sA.splice(a,1),c.gb&&this.console.trace("Removing request, "+this.length+" left"),0===this.length&&c.gb&&this.console.trace("Removing last request, contentEndPts: "+b.Vb));};return a;}();b.npa=d;},function(d,b,a){var c,k,g,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Wxa=void 0;c=a(8);k=a(18);g=a(18);r=a(4);q=a(377);n=a(372);d=function(){var s6L;function a(a,b,c,d){var v6L,q3L;v6L=2;while(v6L!==9){q3L="1SIYb";q3L+="Zr";q3L+="N";q3L+="J";q3L+="Cp9";switch(v6L){case 4:this.Qg=d;q3L;v6L=9;break;case 2:this.Ca=a;this.u=b;this.jb=c;v6L=4;break;}}}s6L=2;while(s6L!==13){switch(s6L){case 2:a.prototype.Ry=function(a,b){var d6L,f,d,h,l,m,q,r,K3L,Y3L,m3L,o3L,A3L,V3L,R3L,O3L,H3L,z3L,J3L,D3L,h3L,l3L;d6L=2;while(d6L!==48){K3L="see";K3L+="kDela";K3L+="y";K3L+="e";K3L+="d";Y3L=" ";Y3L+="play";Y3L+="erState:";Y3L+=" ";m3L=" m";m3L+="edi";m3L+="a.c";m3L+="ur";m3L+="rentPts: ";o3L=" curren";o3L+="t";o3L+=" manifest: ";A3L=" man";A3L+="ifestIndex";A3L+=": ";V3L="see";V3L+="k:";V3L+=" ";R3L="s";R3L+="eekFai";R3L+="led";O3L="after seeking, playerSt";O3L+="a";O3L+="te no longer ";O3L+="STARTING: ";H3L="s";H3L+="e";H3L+="e";H3L+="kFaile";H3L+="d";z3L="s";z3L+="ee";z3L+="k, no manifest at man";z3L+="ifestInde";z3L+="x:";J3L="s";J3L+="e";J3L+="e";J3L+="k";D3L="ptsch";D3L+="ange";D3L+="d";h3L="se";h3L+="ekDelaye";h3L+="d";l3L="s";l3L+="e";l3L+="ekDe";l3L+="la";l3L+="yed";switch(d6L){case 30:a=l,d=a+this.Ca.qa.de;d6L=29;break;case 25:return;break;case 29:this.Ca.U.Xd(k.pa.Mg);this.Ca.Cna();this.Ca.qa.vIb(a,b);d6L=43;break;case 20:b<l.O.Ya&&h.O.ve.replace&&(h.O.ve.replace=!1);m=this.Ca.qa.Sb;g.Me.forEach(function(a){var p6L;p6L=2;while(p6L!==1){switch(p6L){case 2:(a=m.Kc(a))&&f.Ca.$Ba(a);p6L=1;break;}}});d6L=17;break;case 42:g.Me.forEach(function(a){var t6L;t6L=2;while(t6L!==1){switch(t6L){case 2:f.Ca.sr[a].Wn(!0);t6L=1;break;}}});d6L=41;break;case 24:l=this.Ca.qa.Sb.CN(h.oa||Infinity,h.O);d6L=23;break;case 33:this.dx={Ya:h.O.Ya+1,si:a};this.Ca.emit(l3L);return;break;case 23:d6L=l.length?22:50;break;case 50:this.dx={Ya:b,si:a},this.Ca.emit(h3L);d6L=48;break;case 26:d6L=this.vu(n.j4.hfa(b),!1,!0)?25:24;break;case 40:return this.Ca.emit(D3L,d),this.Ca.emit(J3L),this.UL(b),a=l&&this.Ca.Xa.Ct()?100:0,this.Ca.QV(1,a),this.Ca.ki(),d;break;case 41:d6L=this.Ca.U.pMa()?40:39;break;case 10:d6L=b!=l.O.Ya?20:24;break;case 2:f=this;null===(d=this.WAa)||void 0===d?void 0:d.cancel();d6L=4;break;case 34:d6L=!this.Ca.dW(h.O.Ya+1)?33:29;break;case 36:q=this.Ca.qa.Sb.NW(a).iI;h.Xja();r=this.Ca.qa.Sb;g.Me.forEach(function(a){var W3L,b;W3L=2;while(W3L!==4){switch(W3L){case 9:W3L=4;break;W3L=1;break;case 2:W3L=1;break;case 1:b=r.Kc(a);f.jb(a)&&f.c9a(b,q[a]);W3L=4;break;}}});d6L=51;break;case 49:this.u.warn(z3L,b),this.Ca.emit(H3L);d6L=48;break;case 22:l=this.Ca.Ao?this.Ca.Wk?Math.min(l[0].S,l[1].S):l[0].S:l[1].S;d6L=21;break;case 51:this.Ca.IL();d6L=41;break;case 39:this.u.warn(O3L+this.Ca.U.Tc());this.Ca.emit(R3L);d6L=48;break;case 43:d6L=(l=this.Ca.Jd.O.Ya===b&&!this.t7a(b)&&a===h.S)?42:37;break;case 4:h=this.Ca.I;l=this.Ca.U.Ld();d=a;h.Ug&&this.Qg.Ek(V3L+a+A3L+b+o3L+this.Ca.Jd.O.Ya+m3L+l+Y3L+this.Ca.U.Tc());c.W(b)&&(b=this.Ca.Jd.O.Ya);this.Ca.qa.BSa();d6L=14;break;case 13:!h.O.ve.ZO&&0<b&&(d=this.Ca.SM(b,a));this.Ca.U.Xd(k.pa.Rl);l=this.Ca.Jd;d6L=10;break;case 17:d6L=!this.Ca.Yza(b)?16:26;break;case 21:d6L=a>l?35:29;break;case 16:this.dx={Ya:b,si:a};this.Ca.emit(K3L);return;break;case 37:this.Ca.Z$();d6L=36;break;case 14:d6L=(h=this.Ca.fg(b))?13:49;break;case 35:d6L=h.O.ve.Cf?34:30;break;}}};a.prototype.seek=function(a,b){var x3L,f;x3L=2;while(x3L!==8){switch(x3L){case 9:return this.Ry(f,b);break;case 5:c.W(b)&&(b=this.Ca.Jd.O.Ya);this.Ca.qa.BSa();x3L=3;break;case 3:this.Ca.fg(b).O.ve.ZO||this.Ca.XE||(f=this.Ca.Mr(b,a));x3L=9;break;case 2:f=a;x3L=5;break;}}};a.prototype.vu=function(a,b,c){var n3L,f,d,S3L,M3L;n3L=2;while(n3L!==8){S3L="s";S3L+="e";S3L+="e";S3L+="k";M3L="p";M3L+="t";M3L+="sc";M3L+="h";M3L+="anged";switch(n3L){case 4:return d;break;case 2:d=this.Ca.qa.vu(a,b);n3L=5;break;case 3:d?(this.Ca.U.Xd(k.pa.Rl),(a=this.Ca.qa.Mk.children[a])&&this.Ca.emit(M3L,null!==(f=a.dd)&&void 0!==f?f:a.ELa),this.Ca.U.Xd(k.pa.Mg),this.Ca.emit(S3L),a&&this.UL(a.O.Ya),this.Ca.QV(1),this.Ca.ki(),this.Ca.Xa.Ct()):c||(f=this.Ca.qa.Jpb(a),this.Ry(f));return d;break;case 5:n3L=b?4:3;break;}}};s6L=4;break;case 4:a.prototype.t7a=function(a){var k3L;k3L=2;while(k3L!==1){switch(k3L){case 2:return!!this.Ca.fg(a).bM;break;case 4:return+~this.Ca.fg(a).bM;break;k3L=1;break;}}};a.prototype.UL=function(a){var Q3L,b;Q3L=2;while(Q3L!==3){switch(Q3L){case 2:b=this;a=this.Ca.fg(a);a.bM||(a.bM=!0,g.Me.forEach(function(a){var F3L;F3L=2;while(F3L!==1){switch(F3L){case 2:b.Ca.xf[a].resume();F3L=1;break;}}}),this.Ca.IL());Q3L=3;break;}}};a.prototype.c9a=function(a,b){var g3L,c,f,d;g3L=2;while(g3L!==6){switch(g3L){case 2:c=this;d=a.L;a.WC(b);a.cEb();g3L=9;break;case 9:g3L=(null===(f=this.Ca.Og)||void 0===f?0:f.KB())?8:7;break;case 8:this.Ca.Og.Ny.forEach(function(a){var T3L;T3L=2;while(T3L!==1){switch(T3L){case 4:c.Ca.HA(a,-4);T3L=2;break;T3L=1;break;case 2:c.Ca.HA(a,!1);T3L=1;break;}}}),this.Ca.Og=void 0;g3L=7;break;case 7:this.Ca.oN.QBa(d,a.Ic.O);g3L=6;break;}}};a.prototype.c$=function(){var C3L,a,b;C3L=2;while(C3L!==9){switch(C3L){case 2:C3L=1;break;case 1:C3L=this.dx?5:9;break;case 5:a=this.dx.si;b=this.dx.Ya;this.Ca.fg(b)&&(this.dx=void 0,this.Ry(a,b));C3L=9;break;}}};a.prototype.mj=function(a){var i3L,c,f,d;function b(f,h){var u3L,y3L;u3L=2;while(u3L!==4){y3L="skip: unexpected behaviour - a ";y3L+="non-presentin";y3L+="g branch doesn't have";y3L+=" a previous branch";switch(u3L){case 5:f.mj(a),d.mI&&(f.Tm=!1);u3L=4;break;case 1:u3L=(f=f.Kc(h))?5:4;break;case 2:f!==c.Ca.qa.Mk&&(f.Gf?b(f.Gf,h):c.u.error(y3L));u3L=1;break;}}}i3L=2;while(i3L!==14){switch(i3L){case 8:g.Me.forEach(function(a){var E3L,f,G3L;E3L=2;while(E3L!==8){G3L="skip: not resuming bufferMan";G3L+="ager, audio ";G3L+="track switch in";G3L+=" progress";switch(E3L){case 5:f=c.Ca.Xa.Je[a];c.Ca.Ko&&(f.vna=r.time.ea());d.mI?c.Ca.xf[a].reset():f.nJ?f.eb(G3L):c.Ca.xf[a].resume();E3L=9;break;case 1:E3L=c.jb(a)?5:8;break;case 2:E3L=1;break;case 9:b(c.Ca.qa.Sb,a);E3L=8;break;}}});this.WAa=f=new q.V8(this.Ca.aD());return f.mka(function(){var B3L,b3L;B3L=2;while(B3L!==4){b3L="s";b3L+="ki";b3L+="p";switch(B3L){case 2:c.Ca.U.Xd(k.pa.Pc);c.Ca.QL();B3L=5;break;case 5:c.Ca.emit(b3L);B3L=4;break;case 7:c.Ca.emit("");B3L=2;break;B3L=4;break;}}}).JSa;break;case 2:i3L=1;break;case 1:c=this;null===(f=this.WAa)||void 0===f?void 0:f.cancel();d=this.Ca.I;this.Ca.Cna();this.Ca.qa.Mk.mj(a);i3L=8;break;}}};a.prototype.ru=function(a){var N3L,b,c,f;N3L=2;while(N3L!==6){switch(N3L){case 2:c=this.Ca.qa.Mk;f=0<Object.keys(c.ba&&c.ba.Jj||{}).length&&!c.Zi?c.we-this.Ca.I.w0:c.we;N3L=4;break;case 3:return!1;break;case 9:b=this.Ca.Qr(a,0,!0);a=this.Ca.Qr(a,1,!0);return void 0!==b&&void 0!==a&&b.complete&&a.complete;break;case 4:N3L=a<(null!==(b=c.dd)&&void 0!==b?b:c.ELa)||a>=f?3:9;break;}}};s6L=14;break;case 14:return a;break;}}}();b.Wxa=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Bpa=void 0;c=a(18);k=a(11);d=function(){function a(a){this.YA=a;this.state=new k.kK(c.pa.Mg);this.pm={};}a.prototype.Tc=function(){return this.state.value;};a.prototype.Xd=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value===c.pa.Pc&&this.state.set(c.pa.Ri);};a.prototype.BR=function(){this.state.value===c.pa.Ri&&this.state.set(c.pa.Pc);};a.prototype.pMa=function(){return this.state.value===c.pa.Mg;};a.prototype.ky=function(){return"function"===typeof this.YA.ky?this.YA.ky():this.state.value===c.pa.Pc;};a.prototype.Bg=function(){return this.state.value===c.pa.Dd||this.state.value===c.pa.Ze;};a.prototype.Cg=function(){return this.state.value===c.pa.Rl;};a.prototype.qMa=function(){return this.state.value===c.pa.qE;};a.prototype.Ld=function(){return this.YA.Ld();};a.prototype.No=function(){return"function"===typeof this.YA.No?this.YA.No():1;};a.prototype.Rfa=function(){return this.YA.Rfa();};a.prototype.IQ=function(a,b){this.pm[a]=b;};a.prototype.av=function(a){return!!this.pm[a.G]||a.Yi;};return a;}();b.Bpa=d;},function(d,b,a){var c,k,g,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.sva=void 0;c=a(8);k=a(168);g=a(19);r=a(80);q=a(4);n=a(11);a(5);d=function(){var j3L;j3L=2;while(j3L!==39){switch(j3L){case 44:a.prototype.xm=function(a){var O1L,m1L,o1L;O1L=2;while(O1L!==1){m1L="aseex";m1L+="cept";m1L+="ion";o1L="asee";o1L+="xce";o1L+="pti";o1L+="on";switch(O1L){case 2:this.La.emit(o1L,{type:m1L,msg:a});O1L=1;break;}}};a.prototype.Vxb=function(a,b,c,d){var R1L,K1L,Y1L;R1L=2;while(R1L!==5){K1L="max";K1L+="v";K1L+="ideobitratechanged";Y1L="maxvide";Y1L+="o";Y1L+="bitratech";Y1L+="anged";switch(R1L){case 2:a={type:Y1L,time:q.time.ea(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.La.emit(K1L,a);R1L=5;break;}}};a.prototype.qPa=function(){var V1L,a,M1L;V1L=2;while(V1L!==9){M1L="st";M1L+="rea";M1L+="m";M1L+="eren";M1L+="d";switch(V1L){case 5:this.X9a=!0;a={type:M1L,time:q.time.ea()};n.Ka(this.La,a.type,a);V1L=9;break;case 1:V1L=!this.X9a&&this.La.I.nPa?5:9;break;case 2:V1L=1;break;}}};j3L=41;break;case 11:a.prototype.u8a=function(a,b,c){var d3L,S1L;d3L=2;while(d3L!==5){S1L="segmentCom";S1L+="plet";S1L+="e";switch(d3L){case 2:a={type:S1L,mediaType:a,manifestIndex:b,segmentId:c.id};n.Ka(this.La,a.type,a);d3L=5;break;}}};a.prototype.J$=function(a,b){var p3L,y1L;p3L=2;while(p3L!==5){y1L="lastSegme";y1L+="n";y1L+="tPts";switch(p3L){case 2:b={type:y1L,segmentId:a.id,pts:Math.floor(b)};a.Fy||n.Ka(this.La,b.type,b);p3L=5;break;}}};j3L=20;break;case 7:a.prototype.uV=function(a,b){var e3L,G1L;e3L=2;while(e3L!==5){G1L="s";G1L+="egm";G1L+="ent";G1L+="St";G1L+="arting";switch(e3L){case 2:b={type:G1L,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.O.sq[0],video:a.O.sq[1]}};a.Fy||n.Ka(this.La,b.type,b);e3L=5;break;}}};a.prototype.s8a=function(a){var Z3L,b,b1L;Z3L=2;while(Z3L!==4){b1L="segmentAbo";b1L+="rte";b1L+="d";switch(Z3L){case 5:a.Fy||n.Ka(this.La,b.type,b);Z3L=4;break;case 2:b={type:b1L,segmentId:a.id};Z3L=5;break;}}};a.prototype.Z6a=function(a,b){var I3L,f,d,h,c1L,a1L,P1L,U1L,f1L,j1L;I3L=2;while(I3L!==20){c1L="s";c1L+="e";c1L+="a";c1L+="mless";a1L="re";a1L+="s";a1L+="e";a1L+="t";P1L="s";P1L+="k";P1L+="ip";U1L="l";U1L+="on";U1L+="g";f1L="l";f1L+="o";f1L+="n";f1L+="g";j1L="se";j1L+="a";j1L+="mle";j1L+="s";j1L+="s";switch(I3L){case 11:f.srcsegmentduration=this.La.qa.Ipb(b.J2);return f;break;case 4:h?(d=h.weight,r(h.vM,f.atRequest)):d=this.La.qa.eKa(b.J2,a);f.atRequest.weight=d;c.Td(b.rd,function(b,c){var w3L;w3L=2;while(w3L!==1){switch(w3L){case 2:c!=a&&(f.discard[c]={weight:b.weight},r(b.vM,f.discard[c]));w3L=1;break;}}});d=b.i2?b.CZ?j1L:f1L:b.ROa?U1L:b.mj?P1L:a1L;f.transitionType=d;b.Gib||(f.delayToTransition=b.CX);I3L=14;break;case 2:f={segment:a,srcsegment:b.J2,srcoffset:b.LI,seamlessRequested:b.i2,atRequest:{},discard:{}};h=b.rd[a];I3L=4;break;case 14:d=c1L===d?0:q.time.ea()-b.startTime;f.durationOfTransition=d;f.atTransition=b.OVa;I3L=11;break;}}};a.prototype.v8a=function(a,b,c){var s3L,X1L;s3L=2;while(s3L!==4){X1L="segm";X1L+="e";X1L+="ntPres";X1L+="e";X1L+="nting";switch(s3L){case 2:c=c?this.Z6a(a.id,c):void 0;a={type:X1L,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.Fy,manifestIndex:a.O.Ya};n.Ka(this.La,a.type,a);s3L=4;break;}}};a.prototype.t8a=function(a,b){var v3L,r1L;v3L=2;while(v3L!==5){r1L="segme";r1L+="ntAppend";r1L+="e";r1L+="d";switch(v3L){case 2:b={type:r1L,segmentId:a.id,metrics:b};a.Fy||n.Ka(this.La,b.type,b);v3L=5;break;}}};j3L=11;break;case 24:a.prototype.a8a=function(a,b){var C1L,L1L;C1L=2;while(C1L!==3){L1L="audioTr";L1L+="ac";L1L+="kSwitchSt";L1L+="art";L1L+="ed";switch(C1L){case 2:a=a.aC;b=b.aC;b={type:L1L,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels,sourceBufferReset:void 0};n.Ka(this.La,b.type,b);C1L=3;break;}}};a.prototype.$7a=function(a,b){var i1L,c;i1L=2;while(i1L!==4){switch(i1L){case 2:c=this;setTimeout(function(){var u1L,f,e1L;u1L=2;while(u1L!==4){e1L="audioTrackSwitchCom";e1L+="p";e1L+="lete";switch(u1L){case 2:f={type:e1L,trackId:a,trackIndex:b};n.Ka(c.La,f.type,f);u1L=4;break;}}},0);i1L=4;break;}}};a.prototype.d8a=function(a){var E1L,b,Z1L;E1L=2;while(E1L!==3){Z1L="bu";Z1L+="f";Z1L+="f";Z1L+="eringStarted";switch(E1L){case 2:b={type:Z1L,time:q.time.ea(),percentage:a||0};n.Ka(this.La,b.type,b);this.$w=a||0;E1L=3;break;}}};j3L=21;break;case 41:a.prototype.Ek=function(a){var A1L,w1L,I1L;A1L=2;while(A1L!==5){w1L=",";w1L+=" ";I1L="m";I1L+="a";I1L+="nagerdebugeven";I1L+="t";switch(A1L){case 2:a={type:I1L,message:"@"+q.time.ea()+w1L+a};n.Ka(this.La,a.type,a);A1L=5;break;}}};return a;break;case 4:a.prototype.h8a=function(a,b){var c3L,s1L;c3L=2;while(c3L!==5){s1L="hea";s1L+="derCac";s1L+="h";s1L+="eH";s1L+="it";switch(c3L){case 2:a={type:s1L,movieId:a,streamId:b};n.Ka(this.La,a.type,a);c3L=5;break;}}};a.prototype.g8a=function(a,b,c,d,l){var X3L,f,v1L;X3L=2;while(X3L!==9){v1L="heade";v1L+="r";v1L+="Ca";v1L+="cheDataHit";switch(X3L){case 4:a={type:v1L,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:l,actualStartPts:f&&f.am,headerCount:f&&f.jq,stats:f&&f.Xb};n.Ka(this.La,a.type,a);X3L=9;break;case 2:f=this.La.KAa;this.La.KAa=void 0;X3L=4;break;}}};a.prototype.o8a=function(a,b,c,d){var r3L,d1L;r3L=2;while(r3L!==5){d1L="m";d1L+="axPos";d1L+="it";d1L+="io";d1L+="n";switch(r3L){case 2:a={type:d1L,index:a,endPts:b,maxPts:c,maxSeekPts:d};n.Ka(this.La,a.type,a);r3L=5;break;}}};a.prototype.y8a=function(a,b,c,d,l,k){var L3L,t1L,p1L;L3L=2;while(L3L!==4){t1L="notifyStream";t1L+="ing";t1L+="Er";t1L+="r";t1L+="or: ";p1L="e";p1L+="rr";p1L+="o";p1L+="r";switch(L3L){case 2:a={type:p1L,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:l,manifestIndex:k};this.u.error(t1L+JSON.stringify(a));n.Ka(this.La,a.type,a);L3L=4;break;}}};j3L=7;break;case 32:a.prototype.A8a=function(){var h1L,a,W8L;h1L=2;while(h1L!==9){W8L="s";W8L+="t";W8L+="reamingst";W8L+="at";switch(h1L){case 2:this.La.I.dvb&&q.memory.pob(this.E7a.bind(this));a={type:W8L,time:q.time.ea(),playbackTime:this.La.U.Ld()};this.La.wf.Elb(a);n.Ka(this.La,a.type,a);h1L=9;break;}}};a.prototype.oBa=function(){var D1L,a,x8L;D1L=2;while(D1L!==3){x8L="a";x8L+="se";x8L+="r";x8L+="ep";x8L+="ort";switch(D1L){case 2:D1L=1;break;case 8:D1L=3;break;D1L=1;break;case 1:D1L=this.La.Ds?5:3;break;case 5:a={type:x8L};this.La.Ds.Clb(a)&&n.Ka(this.La,a.type,a);D1L=3;break;case 7:D1L=this.La.Ds?4:9;break;D1L=this.La.Ds?5:3;break;}}};a.prototype.Z7a=function(){var J1L,a,n8L;J1L=2;while(J1L!==4){n8L="ase";n8L+="repor";n8L+="te";n8L+="n";n8L+="abled";switch(J1L){case 2:a={type:n8L};n.Ka(this.La,a.type,a);J1L=4;break;}}};a.prototype.i8a=function(a){var z1L,b,c,f,d,l,k,g,m,q,r,p,t,u,Z,ma,da,W,N,ja,na,k8L,T8L,g8L,F8L,Q8L;z1L=2;while(z1L!==7){k8L="h";k8L+="indsightr";k8L+="eport";switch(z1L){case 2:z1L=1;break;case 1:z1L=a?5:7;break;case 5:b={type:k8L};c=this.La.I.hO;for(f in c){T8L="hvm";T8L+="af";T8L+="d";T8L+="p";g8L="hv";g8L+="ma";g8L+="f";g8L+="g";g8L+="r";F8L="h";F8L+="v";F8L+="ma";F8L+="f";F8L+="tb";Q8L="h";Q8L+="t";Q8L+="w";Q8L+="b";Q8L+="r";d=c[f];l=0;k=0;g=0;m=0;q=0;r=0;p=void 0;t=void 0;u=!1;Z=-1;ma=-1;da=-1;W=-1;N=-1;ja=-1;for(na in a)t=a[na],void 0===t.nd&&(p=(p=t.sols)&&p[d])&&(u=!0,g+=p.dlvdur,l+=p.dltwbr*p.dlvdur,k+=p.dlvmaf*p.dlvdur),r+=t.pbdur,m+=t.pbtwbr*t.pbdur,q+=t.pbvmaf*t.pbdur,p=t.rr,t=t.ra;0<r&&(Z=1*m/r,W=1*q/r);u&&(0<g&&(ma=1*l/g,N=1*k/g),0<g+r&&(da=1*(l+m)/(g+r),ja=1*(k+q)/(g+r)));switch(d){case Q8L:b.htwbr=da;b.hptwbr=ma;b.pbtwbr=Z;p&&(b.rr=p,b.ra=t);break;case F8L:b.hvmaftb=ja;b.hpvmaftb=N;b.pbvmaftb=W;p&&(b.rrvmaftb=p,b.ravmaftb=t);break;case g8L:b.hvmafgr=ja;b.hpvmafgr=N;b.pbvmafgr=W;p&&(b.rrvmafgr=p,b.ravmafgr=t);break;case T8L:b.hvmafdp=ja,b.hpvmafdp=N,b.pbvmafdp=W,p&&(b.rrvmafdp=p,b.ravmafdp=t);}}this.La.qG&&(b.report=a);n.Ka(this.La,b.type,b);z1L=7;break;}}};a.prototype.e8a=function(a){var H1L,C8L;H1L=2;while(H1L!==5){C8L="endOf";C8L+="S";C8L+="tre";C8L+="am";switch(H1L){case 2:a={type:C8L,mediaType:a};n.Ka(this.La,a.type,a);H1L=5;break;}}};j3L=44;break;case 21:a.prototype.b8a=function(){var B1L,a,b,c,d,l,i8L;B1L=2;while(B1L!==14){i8L="b";i8L+="uffe";i8L+="ri";i8L+="n";i8L+="g";switch(B1L){case 4:c=this.La.qa.Sb;d=this.La.Wk?1:0;l=c.Qe(d);c=c.ti(d);a=Math.min(Math.max(Math.round(100*(l.kv?(b-this.La.F9)/a.zq:l.wh?l.wh:c/a.kg)),this.$w),99);a!=this.$w&&(b={type:i8L,time:b,percentage:a},n.Ka(this.La,b.type,b),this.$w=a);B1L=14;break;case 2:a=this.La.I;b=q.time.ea();B1L=4;break;}}};a.prototype.I$=function(){var N1L,a,b,c,d,l,u8L;N1L=2;while(N1L!==13){u8L="buffering";u8L+="Com";u8L+="p";u8L+="lete";switch(N1L){case 2:a=this.La.qa.Sb;N1L=5;break;case 5:b=a.Qe(0);c=a.Qe(1);this.pBa();d=this.La.Wk?this.La.Xa.Xv[g.Na.VIDEO]:this.La.Xa.Xv[g.Na.AUDIO];N1L=8;break;case 8:l=d.xM;a={type:u8L,time:q.time.ea(),actualStartPts:l,aBufferLevelMs:a.ti(0),vBufferLevelMs:a.ti(1),selector:c?c.AI:b.AI,initBitrate:d.Mo,skipbackBufferSizeBytes:this.La.Bb.ZC};this.La.wf.Dlb({initSelReason:d.So,initSelectionPredictedDelay:d.Wu,buffCompleteReason:d.Qp,hashindsight:this.La.Ko,hasasereport:!!this.La.Ds});n.Ka(this.La,a.type,a);N1L=13;break;}}};a.prototype.pBa=function(){var q1L,a,b,c,d,l,k,g,E8L;q1L=2;while(q1L!==19){E8L="upda";E8L+="teBufferLev";E8L+="el";switch(q1L){case 1:a=this.La.I;q1L=5;break;case 2:q1L=1;break;case 7:l=this.La.Bb.yb.get();l=l.yd?l.Ga.Da:0;k=this.La.qa;g=k.XA(b,0);b=k.XA(b,1);q1L=11;break;case 5:q1L=!this.La.el()?4:19;break;case 11:c={type:E8L,abuflbytes:g,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:d,predictedFutureRebuffers:0,currentBandwidth:l};d>a.qOa&&this.La.Bb.Re&&this.La.Bb.Re.$L(!0,this.La.cl.sessionId);n.Ka(this.La,c.type,c);q1L=19;break;case 4:b=this.La.qa.Sb;c=b.ti(0);d=b.ti(1);this.La.wf.M$a(c,d);q1L=7;break;}}};a.prototype.E7a=function(a){var l1L,b,f,d,D8L,h8L,l8L,q8L,N8L,B8L;l1L=2;while(l1L!==13){D8L=", sy";D8L+="st";D8L+="e";D8L+="mDelta: ";h8L="mem";h8L+="oryUsage ";h8L+="at time: ";l8L=", osAllocatorDe";l8L+="lt";l8L+="a: ";q8L=", jsHeapDe";q8L+="l";q8L+="ta: ";N8L=", fast";N8L+="Mall";N8L+="oc";N8L+="Delta: ";B8L="me";B8L+="m";B8L+="oryU";B8L+="sage at time: ";switch(l1L){case 3:b=a.PHa-this.ZE.PHa;f=a.eLa-this.ZE.eLa;d=a.TPa-this.ZE.TPa;(4194304<b||4194304<d)&&this.u.warn(B8L+q.time.ea()+N8L+b+q8L+f+l8L+d);l1L=6;break;case 2:l1L=1;break;case 5:c.ma(a.iR);l1L=4;break;case 1:l1L=!c.W(a)?5:13;break;case 4:l1L=!c.W(this.ZE)?3:14;break;case 14:this.ZE=a;l1L=13;break;case 6:c.ma(a.iR)&&c.ma(this.ZE.iR)&&(b=a.iR-this.ZE.iR,4194304<b&&this.u.warn(h8L+q.time.ea(),D8L+b));l1L=14;break;}}};j3L=32;break;case 16:a.prototype.w8a=function(a,b,c,d){var k1L,f,J8L;k1L=2;while(k1L!==9){J8L="streamPres";J8L+="en";J8L+="ti";J8L+="ng";switch(k1L){case 4:a={type:J8L,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:f,manifestIndex:d,trackIndex:a.track.IA,streamIndex:a.Gg};n.Ka(this.La,a.type,a);k1L=9;break;case 2:f=a.L;k.Ll.Kn(f);k1L=4;break;}}};a.prototype.B8a=function(a){var Q1L,z8L;Q1L=2;while(Q1L!==5){z8L="vid";z8L+="e";z8L+="oLoo";z8L+="ped";switch(Q1L){case 2:a={type:z8L,offset:a};n.Ka(this.La,a.type,a);Q1L=5;break;}}};a.prototype.z8a=function(a,b,c,d){var F1L,H8L;F1L=2;while(F1L!==4){H8L="updateS";H8L+="tream";H8L+="in";H8L+="g";H8L+="Pts";switch(F1L){case 2:b={type:H8L,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d)};k.Ll.Kn(a);n.Ka(this.La,b.type,b);F1L=4;break;}}};a.prototype.f8a=function(a){var g1L,O8L;g1L=2;while(g1L!==5){O8L="firstRequestAp";O8L+="pend";O8L+="ed";switch(g1L){case 2:a={type:O8L,manifestIndex:a.Ja.Ic.O.Ya,mediatype:a.L,time:q.time.ea()};n.Ka(this.La,a.type,a);g1L=5;break;}}};a.prototype.j8a=function(a,b){var T1L,R8L;T1L=2;while(T1L!==5){R8L="initialA";R8L+="u";R8L+="dio";R8L+="Tr";R8L+="ack";switch(T1L){case 2:a={type:R8L,trackId:b,trackIndex:a};n.Ka(this.La,a.type,a);T1L=5;break;}}};j3L=24;break;case 20:a.prototype.m8a=function(a,b,c,d,l){var t3L,V8L;t3L=2;while(t3L!==5){V8L="manifestR";V8L+="a";V8L+="nge";switch(t3L){case 2:a={type:V8L,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(l)};n.Ka(this.La,a.type,a);t3L=5;break;}}};a.prototype.qBa=function(a){var W1L,A8L;W1L=2;while(W1L!==5){A8L="maxB";A8L+="i";A8L+="t";A8L+="rates";switch(W1L){case 2:a={type:A8L,audio:a[0],video:a[1]};n.Ka(this.La,a.type,a);W1L=5;break;}}};a.prototype.n8a=function(a,b){var x1L,c,m8L,o8L;x1L=2;while(x1L!==9){m8L="notifyManifestS";m8L+="ele";m8L+="cted: ";o8L="manifestSel";o8L+="ec";o8L+="ted";switch(x1L){case 2:c=this.La.I;a={type:o8L,index:a,replace:b.O.ve.replace,ptsStarts:b.iI,streamingOffset:b.S+b.hs};x1L=4;break;case 4:c.Ug&&(b=m8L+JSON.stringify(a),c.Ug&&this.Ek(b));n.Ka(this.La,a.type,a);x1L=9;break;}}};a.prototype.l8a=function(a,b,c,d,l){var n1L,Y8L;n1L=2;while(n1L!==4){Y8L="manif";Y8L+="estPresen";Y8L+="ting";switch(n1L){case 2:a={type:Y8L,index:a.Ya,pts:Math.floor(b),movieId:a.G,replace:a.ve.replace,contentOffset:c};null!=d&&null!=l&&(a.previousMovieId=d,a.previousIndex=l);n.Ka(this.La,a.type,a);n1L=4;break;}}};j3L=16;break;case 2:a.prototype.nk=function(a){var U3L,K8L;U3L=2;while(U3L!==5){K8L="st";K8L+="a";K8L+="rt";K8L+="Eve";K8L+="nt";switch(U3L){case 1:n.Ka(this.La,a.type,a);U3L=5;break;case 2:a={type:K8L,event:a,time:q.time.ea()};U3L=1;break;}}};a.prototype.p8a=function(){var P3L,a,M8L;P3L=2;while(P3L!==4){M8L="open";M8L+="C";M8L+="ompl";M8L+="ete";switch(P3L){case 2:a={type:M8L};n.Ka(this.La,a.type,a);P3L=4;break;}}};a.prototype.q8a=function(a,b,c,d,l){var a3L,S8L;a3L=2;while(a3L!==1){S8L="pt";S8L+="s";S8L+="St";S8L+="art";S8L+="s";switch(a3L){case 2:this.La.I.mjb||(a={type:S8L,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:l.yUa()},n.Ka(this.La,a.type,a));a3L=1;break;}}};j3L=4;break;}}function a(a,b){var f3L,y8L;f3L=2;while(f3L!==4){y8L="1SIY";y8L+="bZ";y8L+="r";y8L+="N";y8L+="JCp9";switch(f3L){case 2:this.La=a;this.u=b;y8L;f3L=4;break;}}}}();b.sva=d;},function(d,b,a){var c,k,g,r;Object.defineProperty(b,"__esModule",{value:!0});b.Wta=void 0;c=a(164);k=a(18);g=a(18);r=a(11);d=function(){var G8L;function a(a,b,c,d){var b8L,c1r;b8L=2;while(b8L!==8){c1r="1SI";c1r+="Y";c1r+="bZr";c1r+="NJ";c1r+="Cp9";switch(b8L){case 2:this.tb=a;this.u=b;this.jb=c;this.gx=d;this.xBa=this.jaa=!1;c1r;b8L=8;break;}}}G8L=2;while(G8L!==6){switch(G8L){case 3:a.prototype.close=function(){var r8L,a,R1r,m1r,h1r;r8L=2;while(r8L!==14){R1r="en";R1r+="dp";R1r+="l";R1r+="ay";m1r="l";m1r+="ogd";m1r+="a";m1r+="ta";h1r="c";h1r+="l";h1r+="o";h1r+="s";h1r+="e";switch(r8L){case 3:this.tb.emit(h1r);a.pHa&&(a=c.Ys.Qf().mb())&&(a={type:m1r,target:R1r,fields:{bridgestat:a}},r.Ka(this.tb,a.type,a));this.tb.Bb.Re&&this.tb.Bb.Re.$L(!0,this.tb.cl.sessionId,!0);this.tb.Va.qPa();this.tb.kSa();r8L=14;break;case 2:a=this.tb.I;this.xBa=!0;this.stop();r8L=3;break;}}};a.prototype.flush=function(){var L8L,a,b,c,d,g,m,q,e8L,u1r,M1r,a1r,T1r,V1r,s1r,H1r,G1r,k1r,n1r,P1r;L8L=2;while(L8L!==25){u1r="e";u1r+="ndp";u1r+="l";u1r+="ay";M1r="lo";M1r+="g";M1r+="d";M1r+="ata";a1r="e";a1r+="nd";a1r+="p";a1r+="l";a1r+="ay";T1r="l";T1r+="ogdat";T1r+="a";V1r="th";V1r+="ro";V1r+="ughput";V1r+="-s";V1r+="w";s1r="th";s1r+="roug";s1r+="hpu";s1r+="t-s";s1r+="w";H1r="thr";H1r+="oughpu";H1r+="t-";H1r+="sw";G1r="throu";G1r+="ghput";G1r+="-";G1r+="sw";switch(L8L){case 16:b.vN&&(g&&g[G1r]&&g[H1r].Da&&this.tb.rp.$$a({avtp:g[s1r].Da,variance:g[V1r].Bh}),this.tb.rp.T$a(m,null===(a=g.avtp)||void 0===a?void 0:a.MX),a=this.tb.rp.Inb(),b=this.tb.rp.Npb(),a&&(a.n=b,a={type:T1r,target:a1r,fields:{ibef:a}},r.Ka(this.tb,a.type,a),this.tb.rp.save()));L8L=15;break;case 2:b=this.tb.I;c=this.tb.Bb.yb;L8L=4;break;case 10:for(var p in q){k1r="n";k1r+="e";n1r="n";n1r+="e";P1r="n";P1r+="e";q.hasOwnProperty(p)&&(d[P1r+p]=Number(q[p]).toFixed(6),m[n1r+p]=1*d[k1r+p]);}L8L=20;break;case 14:c.flush();q=c.pJa();L8L=12;break;case 12:c=c.BCa;L8L=11;break;case 11:L8L=q?10:20;break;case 4:L8L=c?3:15;break;case 3:d={};g=c.get();m={};g&&g.avtp&&g.avtp.Da&&(d.avtp=g.avtp.Da,d.dltm=g.avtp.MX,m.avtp=d.avtp);g&&g.cdnavtp&&(d.cdnavtp=g.cdnavtp,d.activecdnavtp=g.activecdnavtp);L8L=14;break;case 20:c&&c.length&&(d.activeRequests=JSON.stringify(c));this.tb.Jd.O.kHa(1)&&(d.enableHudson=!0);d.aseApiVersion=this.tb.sW;L8L=17;break;case 27:L8L=this.gx.Ko?26:25;break;case 15:this.tb.Va.oBa();L8L=27;break;case 17:Object.keys(d).length&&(d={type:M1r,target:u1r,fields:d},r.Ka(this.tb,d.type,d));L8L=16;break;case 26:try{e8L=2;while(e8L!==1){switch(e8L){case 2:this.tb.fY(k.pa.qE);e8L=1;break;}}}catch(J){var l1r;l1r="Hindsight: Error evalua";l1r+="ting";l1r+=" QoE ";l1r+="at stopp";l1r+="ing: ";S8ii.Z1r(0);this.tb.Va.xm(S8ii.O6r(l1r,J));}L8L=25;break;}}};a.prototype.el=function(){var Z8L;Z8L=2;while(Z8L!==1){switch(Z8L){case 2:return this.xBa||this.tb.qa.yi;break;case 4:return this.xBa&&this.tb.qa.yi;break;Z8L=1;break;}}};return a;break;case 2:a.prototype.play=function(){var j8L,a,I1r,U1r;j8L=2;while(j8L!==4){I1r="pl";I1r+="a";I1r+="y";U1r="play called af";U1r+="ter pipelines already s";U1r+="hutdown";switch(j8L){case 2:a=this;this.el()?this.u.warn(U1r):(this.tb.U.Xd(k.pa.Pc),this.tb.N9a(),this.tb.Xa.Je.forEach(function(b){var f8L,X1r;f8L=2;while(f8L!==1){X1r="play: not resumin";X1r+="g bufferManager, au";X1r+="dio track switch in progress";switch(f8L){case 2:a.jb(b.L)&&(b.nJ?b.eb(X1r):(a.tb.xf[b.L].resume(),a.tb.sr[b.L].resume()));f8L=1;break;}}}),this.tb.QL(),this.tb.emit(I1r));j8L=4;break;}}};a.prototype.stop=function(){var U8L,a,b,c,d,z1r;U8L=2;while(U8L!==12){z1r="s";z1r+="t";z1r+="o";z1r+="p";switch(U8L){case 7:d=this.tb.qa.Sb;g.Me.forEach(function(a){var P8L;P8L=2;while(P8L!==5){switch(P8L){case 2:P8L=(a=d.Kc(a))?1:5;break;case 3:P8L=(a=d.Kc(a))?5:6;break;P8L=(a=d.Kc(a))?1:5;break;case 1:a.Jg=!1;P8L=5;break;case 9:a.Jg=~8;P8L=2;break;P8L=5;break;}}});g.Me.forEach(function(b){var a8L;a8L=2;while(a8L!==1){switch(a8L){case 2:(b=a.tb.xf[b])&&b.pause();a8L=1;break;}}});this.tb.emit(z1r);U8L=12;break;case 2:a=this;b=this.tb.U.qMa();c=this.tb.U.Cg();this.tb.U.Xd(k.pa.qE);this.tb.JU();b||c||this.tb.qa.Mk.M2(!1,this.tb.U);U8L=7;break;}}};a.prototype.suspend=function(){var c8L;c8L=2;while(c8L!==1){switch(c8L){case 2:this.jaa=!0;c8L=1;break;case 4:this.jaa=~5;c8L=5;break;c8L=1;break;}}};a.prototype.resume=function(){var X8L;X8L=2;while(X8L!==5){switch(X8L){case 2:this.jaa=!1;this.tb.ff.ki();X8L=5;break;}}};G8L=3;break;}}}();b.Wta=d;},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Cra=void 0;c=a(8);k=a(18);g=a(4);d=function(){var y1r;function a(a,b,c){var C1r,I1o;C1r=2;while(C1r!==9){I1o="1SIY";I1o+="b";I1o+="ZrN";I1o+="JCp9";switch(C1r){case 2:this.Ba=a;this.u=b;this.jb=c;I1o;this.Qza=this.eA=void 0;C1r=9;break;}}}y1r=2;while(y1r!==18){switch(y1r){case 5:a.prototype.iCa=function(){var L1r;L1r=2;while(L1r!==1){switch(L1r){case 2:return this.Ba.el()||this.Ba.U.qMa()||this.Ba.U.Cg()?!0:!1;break;}}};a.prototype.MU=function(a){var r1r;r1r=2;while(r1r!==1){switch(r1r){case 2:return this.iCa()||this.Ba.Xa.Je[a.L].nJ||this.Ba.Ow.px?!1:!0;break;}}};a.prototype.ki=function(){var J1r,a,b;J1r=2;while(J1r!==3){switch(J1r){case 2:a=this;b=this.Ba.I;!this.Ba.ABa||this.Ba.JV||this.Ba.WV||(this.Ba.JV=setTimeout(function(){var E1r;E1r=2;while(E1r!==4){switch(E1r){case 2:clearTimeout(a.Ba.JV);a.Ba.JV=void 0;a.mAa();E1r=4;break;}}},b.Nka),b.pG&&this.Ba.Wk&&(this.eA||(this.eA=setTimeout(function(){var W1r,b;W1r=2;while(W1r!==9){switch(W1r){case 2:clearTimeout(a.eA);a.eA=void 0;W1r=4;break;case 4:b=a.Ba.qa.Sb.Kc(1);b&&a.Cza(b);W1r=9;break;}}},b.J$a))));J1r=3;break;}}};a.prototype.Cza=function(a,b){var e1r,c,f,d,n;e1r=2;while(e1r!==7){switch(e1r){case 2:c=a.L;f=this.Ba.Xa.ns[c].WB;d=a.Vf.EO;e1r=3;break;case 3:e1r=f&&d?9:7;break;case 9:n=this.Ba.Xa.Je[c].Dm;n&&(this.Ba.U.Bg()||this.Ba.wf.I$a(c,n,f.R,d.R,a.qrb.R,b));e1r=7;break;}}};a.prototype.kAa=function(a,b){var g1r,c,f,d,n,k,K1o;g1r=2;while(g1r!==11){K1o="S";K1o+="till in bu";K1o+="ffering state ";K1o+="while pi";K1o+="peline's are done";switch(g1r){case 6:g1r=(this.Ba.Wk&&this.lAa(a,f,d),this.Ba.Ao&&this.lAa(a,d,f),n=!d||d.Jg,k=!f||f.Jg,!k||!n)?14:13;break;case 7:g1r=!k||!n?6:13;break;case 5:f=a.Kc(1);d=a.Kc(0);n=!d||d.Jg;k=!f||f.Jg;c.JH||this.Ba.qa.Yja(a,c,a.O.ve.Cf&&0===a.O.Ya);g1r=7;break;case 14:return;break;case 2:c=a.ba;g1r=5;break;case 13:this.Ba.U.Bg()&&(this.u.warn(K1o),this.Ba.Xa.Ct());b||c.Ms||a.O.ve.Cf||!this.Ndb(a)||((b=this.Ba.U.Bg())&&this.Ba.I.gda&&(this.Ba.eaa(),b=!1),a.AY||this.Ba.qa.urb(a,b),a.FF(),a.Odb()&&(b=Object.keys(a.children),this.Ba.I.TX&&1===b.length&&!a.children[b[0]].active&&this.Ba.qa.xNa(a,b[0]),this.w6a(a,c)));g1r=11;break;}}};a.prototype.w6a=function(a,b){var j1r,d,f,h,n,k,m,q,r,C1o;j1r=2;while(j1r!==22){C1o="N";C1o+="o subbra";C1o+="nch candi";C1o+="dates to drive";switch(j1r){case 4:n=a.CE.Il;j1r=3;break;case 12:d=m.reduce(function(a,b){var f1r,q1r;f1r=2;while(f1r!==4){switch(f1r){case 2:b.Il=b.Ic.Il;b.pOa=Math.min(b.Il[0],b.Il[1]);S8ii.g1o(0);q1r=S8ii.u1o(5,11,16);return[a[0]+b.weight,a[q1r]+b.pOa];break;}}},[0,0]);q=d[0];r=d[1];j1r=20;break;case 8:k=[];m=[];c.Td(a.children,function(a,c){var x1r;x1r=2;while(x1r!==5){switch(x1r){case 2:c=b.Jj[c].weight;0!==c&&(c={weight:c,Ic:a},a.Zba(!0,!0)||m.push(c),k.push(c));x1r=5;break;}}});0===m.length?m=k:2<m.length&&(m.sort(function(a,b){var w1r;w1r=2;while(w1r!==1){switch(w1r){case 2:return b.weight-a.weight;break;case 4:return b.weight/a.weight;break;w1r=1;break;}}}),m.length=2);j1r=13;break;case 3:Math.min(n[0]-a.M9[0],n[1]-a.M9[1])>=h.Zdb?a.CE=void 0:(d=a.CE,f=b.Jj[d.ba.id].weight);j1r=9;break;case 26:a.M9=d.Il;j1r=25;break;case 13:j1r=1<m.length?12:19;break;case 16:d=m[0].Ic;f=m[0].weight;a.CE=d;j1r=26;break;case 20:0!==q&&0!==r?(c.Td(m,function(a){var Y1r;Y1r=2;while(Y1r!==4){switch(Y1r){case 2:a.NLb=a.weight/q;a.Kcb=a.pOa/r;a.DWa=a.Kcb-a.NLb;Y1r=4;break;}}}),m.sort(function(a,b){var S1r;S1r=2;while(S1r!==1){switch(S1r){case 2:return a.DWa-b.DWa;break;case 4:return a.DWa+b.DWa;break;S1r=1;break;}}})):m.sort(function(a,b){var N1r;N1r=2;while(N1r!==4){switch(N1r){case 2:a=Math.min.apply(null,a.Ic.Il);b=Math.min.apply(null,b.Ic.Il);S8ii.g1o(1);return S8ii.u1o(b,a);break;}}});j1r=19;break;case 2:h=this.Ba.I;j1r=5;break;case 18:this.u.warn(C1o);return;break;case 19:j1r=0===m.length?18:16;break;case 9:j1r=!d?8:25;break;case 5:j1r=this.Ba.Bb.bha&&a.CE&&a.M9?4:9;break;case 25:d.rd||(d.rd={b_:g.time.ea(),Ly:0});j1r=24;break;case 24:d.rd.weight=f;this.kAa(d,!0);j1r=22;break;}}};y1r=6;break;case 14:a.prototype.vKb=function(a,b,d){var p1r;p1r=2;while(p1r!==4){switch(p1r){case 2:b.J_=a.tc;c.ma(d.Mo)||(d.sKb(a.pp,a.Wu||-1,a.R,a.AQ),c.W(a.AQ)||this.Ba.wf.JTa(a.AQ,a.zk,a.Ak));a.url&&(b.mia=a.url);p1r=4;break;}}};a.prototype.Z5a=function(a,b){var B1r,c;B1r=2;while(B1r!==4){switch(B1r){case 1:c=this.Ba.Xa.ns[a.L];return this.Ba.ABa&&b.tc&&c.J_&&b.tc!==c.J_&&(0<a.Ja.Ev||0<a.Ja.Us)?!0:!1;break;case 2:B1r=1;break;}}};a.prototype.$5a=function(a,b){var A1r,d,f,h,n,m,q,r,p,t,D,S1o,H1o;A1r=2;while(A1r!==42){S1o="f";S1o+="lo";S1o+="ored";S1o+=" to 0";H1o="nega";H1o+="tive scheduledBuffer";H1o+="Level:";switch(A1r){case 24:return!1;break;case 23:p=void 0;b&&(p=b.L,t=g.yk()[p],p=f.NKb?this.Ba.qa.zNa(n,p).Vh/t:D/t);A1r=21;break;case 13:A1r=(null===(d=a.Fg)||void 0===d?0:d.crb())?12:11;break;case 31:A1r=!c.W(f.js)&&p>=f.js||a.RF+m>=Math.max(f.qv,this.Ba.Bb.Ty+f.gka*n.O.Uvb[h])?30:29;break;case 33:return!1;break;case 10:A1r=m>=f.ty?20:19;break;case 30:return!1;break;case 21:A1r=void 0===p||p<f.Qvb?35:34;break;case 15:q=this.Ba.qa.XA(n,h);D=0;A1r=26;break;case 28:A1r=(m=1,a.Fba<f.rv&&(m=f.rv),a.Ja.Ev>=m)?44:43;break;case 32:p=this.Ba.qa.pJb();A1r=31;break;case 34:A1r=this.Y6a(h)>=f.dC?33:32;break;case 11:m=a.Ja.d1;A1r=10;break;case 20:return!1;break;case 12:return!1;break;case 2:f=this.Ba.I;h=a.L;A1r=4;break;case 25:A1r=this.Ba.Bb.Rha?24:23;break;case 4:n=a.O_;m=this.Ba.U.Ld();q=this.Ba.U.Tc();r=this.Ba.qa.Gr(n,h);p=a.Lb+n.de-m;A1r=6;break;case 19:d=this.Ba.Jd.O;D=this.Ba.U.av(d);A1r=17;break;case 35:return!1;break;case 29:A1r=(n=this.Ba.U.Bg())?28:43;break;case 26:A1r=b&&(D=this.Ba.qa.XA(n,b.L),t=a.Lb-t,this.jb(b.L)&&!b.Jg&&t>=f.gja&&p>f.kg)?25:34;break;case 17:A1r=q===k.pa.Pc&&r>f.Rvb&&!d.ve.Cf&&!D||r&&m>Math.max(r*f.dja/100,f.Cja)?16:15;break;case 16:return!1;break;case 43:return f.YX&&a.Ja.Ev>=f.cja||!n&&0<f.ls&&1===h&&q>f.ls||0<f.sv&&!n&&q+(b?D:0)>f.sv||void 0!==this.Qza&&r>this.Qza||1===h&&d.ve.Cf&&r>f.aja&&(b=this.Ba.Bb.yb.get(),b.yd&&b.Ga&&b.Ga.Da*a.RF>f.$ia)?!1:!0;break;case 44:return!1;break;case 6:0>p&&(a.eb(H1o,p,S1o),p=0);t=b?b.Lb:0;A1r=13;break;}}};a.prototype.Y6a=function(a){var v1r;v1r=2;while(v1r!==1){switch(v1r){case 2:return this.Ba.qa.Jc.reduce(function(b,c){var b1r;b1r=2;while(b1r!==1){switch(b1r){case 4:return b-c.Apb(a);break;b1r=1;break;case 2:return b+c.Apb(a);break;}}},0);break;}}};a.prototype.Ndb=function(a){var F1r,b,d,f;F1r=2;while(F1r!==8){switch(F1r){case 3:c.Td(a.ba.Jj,function(c,l){var K1r,h,c1o,Y1o;K1r=2;while(K1r!==6){c1o="in d";c1o+="es";c1o+="ts:";Y1o="in";Y1o+="valid ";Y1o+="seg";Y1o+="ment:";switch(K1r){case 7:a.eb(Y1o,l,c1o,a.ba.Jj);K1r=6;break;case 1:K1r=(c=d.Ag(l))?5:7;break;case 2:K1r=1;break;case 5:l=c.O;c=l.ig[0];h=l.ig[1];c&&h&&c.stream.Vd&&h.stream.Vd||(f=!1);b.Ba.U.av(l)||(f=!1);K1r=6;break;}}});return f;break;case 2:b=this;d=this.Ba.qa;f=!0;F1r=3;break;}}};y1r=20;break;case 6:a.prototype.lAa=function(a,b,d){var o1r,f,h,l,n,k,m,E1o,h1o;o1r=2;while(o1r!==13){E1o="Still in buffering state while pipeline do";E1o+="es";E1o+=" ";E1o+="not have v";E1o+="acancy";h1o="drivePipeline, delay";h1o+="i";h1o+="ng audio until video actualStartPts determined";switch(o1r){case 3:l=this.Ba.Xa.Je[h];n=this.Ba.Xa.Xv[h];k=this.Ba.Xa.ns[h];o1r=7;break;case 2:f=this.Ba.I;h=b.L;o1r=4;break;case 6:m=this.Ba.Jd;c.W(m.oC)||(f.Es&&0===h&&c.W(this.Ba.Xa.Je[1].am)?b.eb(h1o):(c.W(b.Dk)&&(b.Dk=b.eg?b.eg.index:b.Cea(b.Lb)),b.jg&&b.Dk>b.jg.index?a.O.ve.Cf&&c.W(m.oa)&&c.W(a.Vb)||(b.Jg||this.Ba.$Ba(b),a=this.Ba.Jd.O.Ya,a<this.Ba.LG()-1&&this.Ba.dW(a+1)):this.MU(b)&&(f.ykb&&!this.Ba.U.Bg()&&0>=b.eC?b.iKb(f.swb):this.$5a(b,d)?(b.eub=g.time.ea(),d=this.Ba.Xa.pga(b),d=d.Gg,c.W(d)||(d=b.track.Nc[d],this.Z5a(b,d)||((f=d.aZ())?(b.Xtb=d.R,b.zvb(d,f,this.Ba.U.Bg(),l.Dm),this.vKb(d,k,n),a.rd&&++a.rd.Ly):d.oD()))):this.Ba.U.Bg()&&(b.Aj(E1o),this.Ba.Xa.Ct()))));o1r=13;break;case 4:o1r=!b.Jg?3:13;break;case 7:o1r=l.Dm&&(void 0===b.vC||(b.WC(b.vC),void 0===b.vC))?6:13;break;}}};y1r=14;break;case 2:a.prototype.JU=function(){var Q1r;Q1r=2;while(Q1r!==1){switch(Q1r){case 2:this.eA&&(clearTimeout(this.eA),this.eA=void 0);Q1r=1;break;}}};a.prototype.mAa=function(){var d1r,a,b,c,f,T1o;d1r=2;while(d1r!==11){T1o="firstDr";T1o+="iveS";T1o+="t";T1o+="reaming";switch(d1r){case 1:d1r=!this.Ba.Xo.jaa&&!this.Ba.el()?5:11;break;case 2:d1r=1;break;case 8:f=!c||c.Jg;(!b||b.Jg)&&f&&this.Ba.XE&&a.teb(c?c.Vb:b.Vb);c=!c||c.Tm;d1r=14;break;case 5:void 0===this.Ba.t6a&&(this.Ba.t6a=!0,this.Ba.Va.nk(T1o));a=this.Ba.qa;b=a.Sb.Kc(0);c=a.Sb.Kc(1);d1r=8;break;case 14:b&&!b.Tm||!c||this.Ba.XE||(this.Ba.Bb.Re&&this.Ba.Bb.Re.$L(!0,this.Ba.cl.sessionId),this.Ba.Va.qPa());this.kAa(a.Sb);this.d$a();d1r=11;break;}}};y1r=5;break;case 20:a.prototype.d$a=function(){var t1r,a,b,c;t1r=2;while(t1r!==9){switch(t1r){case 2:a=this.Ba.I;b=this.Ba.qa;c=b.Sb;this.Ba.U.Bg()||b.Gr(c,1)<a.hP||c.O.uoa();t1r=9;break;}}};return a;break;}}}();b.Cra=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Bra=void 0;c=a(8);k=a(157);d=function(){var M1o;M1o=2;function a(a,b,c){var f1o,G1o;f1o=2;while(f1o!==3){G1o="1";G1o+="S";G1o+="IYbZrNJ";G1o+="Cp9";switch(f1o){case 2:this.sl=a;this.u=b;this.Qg=c;G1o;f1o=3;break;}}}while(M1o!==7){switch(M1o){case 4:a.prototype.QBa=function(a,b){var q1o,c,d;q1o=2;while(q1o!==3){switch(q1o){case 4:d&&(d=b.xaa(a,d),this.r6a(a),c.Dm=this.aAa(a,b.G,b.Yu(),this.sl.cl,this.sl.I),b.hma(d));q1o=3;break;case 2:c=this.sl.Xa.Je[a];d=c.Dm;q1o=4;break;}}};a.prototype.aAa=function(a,b,c,d,f){var B1o,h,l,D1o,r1o,F1o,x1o;B1o=2;while(B1o!==14){D1o="tra";D1o+="nspo";D1o+="r";D1o+="t";D1o+="report";r1o="e";r1o+="r";r1o+="r";r1o+="o";r1o+="r";F1o="networkfail";F1o+="in";F1o+="g";x1o="c";x1o+="r";x1o+="eat";x1o+="e";x1o+="d";switch(B1o){case 2:h=this;l=k.Bp.Qf.fB(a,b,!0,c,d,f);B1o=4;break;case 7:l.Ab();return l;break;case 4:l.Vg.on(l,x1o,function(){var p1o,i1o;p1o=2;while(p1o!==5){i1o="createD";i1o+="lT";i1o+="rack";i1o+="sEnd";switch(p1o){case 2:--h.wA;0===h.wA&&h.sl.Va.nk(i1o);p1o=5;break;}}});l.Vg.on(l,F1o,function(){var U1o,a,w1o;U1o=2;while(U1o!==8){w1o="repo";w1o+="rtNe";w1o+="tworkFailin";w1o+="g:";w1o+=" ";switch(U1o){case 5:U1o=l.jY?4:8;break;case 1:f.Ug&&h.Qg.Ek(w1o+l);U1o=5;break;case 2:U1o=1;break;case 4:a=h.sl.Jd.O;a.rh&&a.rh.jp(l.xea,void 0,l.th,l.gj);a.vp();U1o=8;break;}}});l.Vg.on(l,r1o,function(){var a1o,d1o,n1o,W1o;a1o=2;while(a1o!==5){d1o="NFErr_MC_Streami";d1o+="ngFa";d1o+="il";d1o+="u";d1o+="re";n1o="Downlo";n1o+="adTrack fatal";n1o+=" error";W1o="DownloadTrack ";W1o+="fatal";W1o+=" error";switch(a1o){case 2:f.Ug&&h.Qg.Ek(W1o);h.sl.il(n1o,void 0,d1o,l.th,0,l.gj);a1o=5;break;}}});l.on(D1o,function(a){var Z1o,P1o;Z1o=2;while(Z1o!==1){P1o="tra";P1o+="nsp";P1o+="ortr";P1o+="ep";P1o+="ort";switch(Z1o){case 2:h.sl.emit(P1o,a);Z1o=1;break;case 4:h.sl.emit("",a);Z1o=4;break;Z1o=1;break;}}});B1o=7;break;}}};a.prototype.r6a=function(a){var A1o,b;A1o=2;while(A1o!==8){switch(A1o){case 3:k.Bp.Qf.GX(b);a.Dm=void 0;A1o=8;break;case 2:a=this.sl.Xa.Je[a];b=a.Dm;b.Vp||--this.wA;A1o=3;break;}}};return a;break;case 2:a.prototype.f6a=function(a,b){var o1o,c,d,Q1o;o1o=2;while(o1o!==6){Q1o="create";Q1o+="DlTra";Q1o+="cks";Q1o+="Start";switch(o1o){case 2:c=this;d=this.sl.I;0===this.wA&&this.sl.Va.nk(Q1o);o1o=3;break;case 3:this.wA+=a.length;o1o=9;break;case 9:a=a.map(function(a){var b1o;b1o=2;while(b1o!==1){switch(b1o){case 2:return c.aAa(a,b.G,b.Yu(),c.sl.cl,d);break;}}});k.Bp.Qf.te();return a;break;}}};a.prototype.s6a=function(){var X1o,a,b;X1o=2;while(X1o!==8){switch(X1o){case 3:this.sl.hL&&(b.push(this.sl.hL),this.sl.hL=void 0);b.forEach(function(b){var s1o;s1o=2;while(s1o!==5){switch(s1o){case 2:b.Vp||--a.wA;k.Bp.Qf.GX(b);s1o=5;break;}}});X1o=8;break;case 2:a=this;b=[];this.sl.Xa.Je.forEach(function(a){var e1o;e1o=2;while(e1o!==5){switch(e1o){case 2:c.W(a.Dm)||b.push(a.Dm);a.Dm=void 0;e1o=5;break;}}});X1o=3;break;}}};a.prototype.m7a=function(){var m1o;m1o=2;while(m1o!==1){switch(m1o){case 4:this.wA=5;m1o=2;break;m1o=1;break;case 2:this.wA=0;m1o=1;break;}}};M1o=4;break;}}}();b.Bra=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Uqa=void 0;c=a(375);d=function(){var t1o;function a(a){var j1o,k1o;j1o=2;while(j1o!==5){k1o="1SIYb";k1o+="Zr";k1o+="NJCp9";switch(j1o){case 3:this.u=a;"";j1o=7;break;j1o=5;break;case 2:this.u=a;k1o;j1o=5;break;}}}t1o=2;while(t1o!==3){switch(t1o){case 2:a.prototype.x5a=function(a,b){var R1o,d,g9o,y9o,L9o,u9o,N9o,V9o,v9o,z1o,l1o;R1o=2;while(R1o!==13){g9o="using ";g9o+="sab cell >= 100, pipeline";g9o+="Ena";g9o+="bled: ";y9o="us";y9o+="ing sab cell >= 200, pip";y9o+="eli";y9o+="neEnabled: ";L9o=",";L9o+=" allo";L9o+="w";L9o+="Sw";L9o+="itchback";u9o=", probeDe";u9o+="t";u9o+="ailDenomin";u9o+="ato";u9o+="r: ";N9o="using sab cell >= 300, ";N9o+="p";N9o+="robeServer";N9o+="WhenError: ";V9o=", ";V9o+="allow";V9o+="Switc";V9o+="hback";v9o=", probeDet";v9o+="ailDe";v9o+="nomi";v9o+="nator: ";z1o="using sab cell >= 400, probeS";z1o+="erver";z1o+="WhenError: ";l1o="applying";l1o+=" manifest ba";l1o+="sed streamingClientConfig";switch(R1o){case 4:R1o=d&&d.streamingClientConfig&&Object.keys(d.streamingClientConfig).length?3:9;break;case 2:b=c.Dca(b,a);R1o=5;break;case 8:R1o=!a?7:6;break;case 3:return a=d.streamingClientConfig,this.u.trace(l1o+JSON.stringify(a)),this.wBa(b,a);break;case 9:a=a.cdnResponseData;R1o=8;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.Bq=!0,b.EC=1,b.du=!0),this.u.trace(z1o+b.Bq+v9o+b.EC+V9o+b.du)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.Bq=!0,b.EC=1,b.du=!1),this.u.trace(N9o+b.Bq+u9o+b.EC+L9o+b.du)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.fp=!1,this.u.trace(y9o+b.fp)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.Y_}),b.set({maxPendingBufferLen:b.b0})):(b.fp=!0,b.sH=1,b.js=b.Y_,b.ty=b.b0),this.u.trace(g9o+b.fp)));return b;break;case 5:d=a.steeringAdditionalInfo;R1o=4;break;case 7:return b;break;}}};a.prototype.z5a=function(a,b){var J1o;J1o=2;while(J1o!==9){switch(J1o){case 5:this.v7a=a;for(var c in b.Cca)new RegExp(c).test(a)&&(b=this.wBa(b,b.Cca[c]));return b;break;case 1:return b;break;case 2:J1o=!b.Cca||a===this.v7a?1:5;break;}}};a.prototype.wBa=function(a,b){var O1o,c,d,l,I9o;O1o=2;while(O1o!==4){switch(O1o){case 2:for(d in b)if(b.hasOwnProperty(d)){I9o="I";I9o+="nval";I9o+="id ke";I9o+="y";l=b[d];a.set?0===a.set((c={},c[d]=l,c))&&this.u.trace(I9o+d):a[d]=l;}return a;break;}}};return a;break;}}}();b.Uqa=d;},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ota=void 0;c=a(0);d=a(392);k=a(58);g=a(370);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.ljb=function(b){a.prototype.D_.call(this,{value:b});};b.prototype.TLa=function(){return!0;};b.prototype.yna=function(){};b.prototype.D_=function(b){a.prototype.D_.call(this,b);b.done&&(b=this.hF.oX,k.gb&&this.u.trace("Requests drained",{RTb:b&&b.ba.id}),(b=b&&b.Qe(this.pe))&&b instanceof g.jT&&b.OF(this.Gp.Lfa()||0));};return b;}(d.V3);b.Ota=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;b.yJa=function(a){var b,d,g;b=Math.floor(1E6*Math.random());d=a.Uga;g=a.hO;a=0===b%a.Vga&&0<g.length;return{Ko:a,qG:a&&0===b%d};};},function(d,b,a){var k;function c(a){this.Vt=void 0;this.M7a=a;this.$$=[];this.oe=[];}k=a(35).SB;c.prototype.reset=function(a){this.Vt=void 0;this.$$=[];a&&(this.oe=[]);};c.prototype.add=function(a,b){var c,d;c=b.filter(function(b,c){return k(b)||c===a.Mc;});d=c.map(function(a){return a.R;});b=c.indexOf(b[a.Mc]);this.Vt&&(this.Vt.length!==d.length||this.Vt.some(function(a,b){return a!==d[b];}))&&(c=this.$Ia())&&(this.oe.push(c),this.reset(!1));void 0===this.Vt&&(this.Vt=d);this.$$.push([b,a.aWa,a.Lb,a.Ncb,a.jEa,a.aBb,a.oyb,a.Ey,a.wo,a.si,a.FIb-a.aWa]);};c.prototype.Ikb=function(){for(var a=this.$$,b=[],c=[],d=0;d<a.length;d++){for(var l=a[d],f=[],h=0;h<l.length;h++)f.push(l[h]-(c[h]||0));b.push(f);c=l;}return b;};c.prototype.$Ia=function(){var a;a=this.Ikb();if(0!==a.length)return{dltype:this.M7a,bitrates:this.Vt,seltrace:a};};c.prototype.get=function(){var a,b;a=this.$Ia();b=this.oe;a&&b.push(a);if(0!==b.length)return b;};d.P=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;c=a(19);k=a(733);d=function(){function a(){this.ZV=[];this.ZV[c.Na.VIDEO]=new k(c.Na.VIDEO);this.ZV[c.Na.AUDIO]=new k(c.Na.AUDIO);}a.prototype.mab=function(a,b,c){this.ZV[a].add(b,c);};a.prototype.Upb=function(){var a;a=[];this.ZV.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.Clb=function(a){var b;b=this.Upb();a.strmsel=b;return 0<b.length;};return a;}();b.xxa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qK=void 0;d=function(){function a(a){this.ii={};this.C$=a;this.cf=[];this.vo=!1;this.AA=void 0;}a.prototype.oW=function(a){this.cf.length===this.C$&&this.cf.shift();Array.isArray(a)?this.cf=this.cf.concat(a):this.cf.push(a);this.vo=!0;};a.prototype.OG=function(){return this.cf.length;};a.prototype.Oba=function(){var a;a=this.cf;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.cf.length:void 0;};a.prototype.OW=function(){var a,b;a=this.cf;b=this.Oba();if(0<a.length&&"undefined"!==typeof b)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-b*b);};a.prototype.Rp=function(a){var b,c,d;if(this.vo||void 0===this.AA)this.AA=this.cf.slice(0).sort(function(a,b){return a-b;}),this.vo=!1;if(void 0===this.ii[a]){b=this.AA;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.ii[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.ii[a];};return a;}();b.qK=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lua=void 0;d=function(){function a(a,b,d){this.$9a=b;this.H5a=d;this.u=a;}a.prototype.dla=function(a){a=this.qsb(a,this.$9a)+this.H5a;return this.S$=isNaN(a)?NaN:this.mna(a);};a.prototype.ieb=function(a){return isNaN(this.S$)?0:this.S$>a?1:0;};a.prototype.qsb=function(a,b){var c;c=0;if(a.length!==b.length)c=NaN;else for(var d=0;d<a.length;d++)c+=a[d]*b[d];return c;};a.prototype.mna=function(a){return 1/(1+Math.exp(-a));};return a;}();b.lua=d;},function(d,b,a){var r,q;function c(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].aa);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{op:c,Mc:d};}function k(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function g(a,b,c,d,k){var f,h,l,n,g,m;f=a.zh;h=c+f.S;c=a.Vk[f.rO];a=a.Bba;l={FR:!0,waitUntil:void 0,yO:!1};n=c.filter(function(a){return a&&a.S<=h&&a.S+a.duration>h;})[0];if(void 0===n)return{yO:!0};g=k-1-(n.index-1);d=f.HR+d;m=0;m=n.index<f.Ah?m+c.slice(f.Wv,n.index).reduce(function(a,b){return a+b.aa;},0):m+f.HR;m=m+b.slice(f.Ah,n.index).reduce(function(a,b){return a+b.op;},0);d-=m;if(g>=a.YO||d>=a.gJ)for(l.FR=!1,n=n.index;n<k&&(g>=a.YO||d>=a.gJ);)q.update("checkBufferVacancy loop"),l.waitUntil=c[n].S+c[n].duration-f.S,d=n<f.Ah?d-c[n].aa:d-b[n].op,--g,n+=1;return l;}r=a(5).assert;q=a(105).jxa||a(105);d.P={dO:function(a){var b,u,T,Q,V,S,A,Z,ma,da,W,N,ja,na;q.w2("htwbr-"+(a.zQ?"segvmaf":"dlvmaf")+": ");for(var f=a.zh,d=a.im,n=d.tl,m=a.Vk,p=!0,t=[],J,K=n=Math.min(d.ks,n);K>=f.Ah;K--){q.update("backward step");b=a.Vk[0][K].S-a.zh.S;K<n&&(b=Math.min(t[K+1].startTime,b));d=m[0][K].aa;J=f.qx*m[0][K].duration*1/8;a:{u=void 0;S=d+J;J=a.Kq;A=f.hp;Z=J.trace;ma=1*J.cm;T=b+A-J.timestamp;Q=Math.floor(1*T/ma);V=0+(T-Q*ma)/ma*k(Z,Q,ma);if(V>=S)u=T-1*S/V*(T-Q*ma);else for(T=Q;V<S;){q.update("findDownloadStartTime loop");--T;if(0>T){u=-1;break a;}Q=k(Z,T,ma);if(V+Q>=S){u=1*(S-V)/Q*ma;u=(T+1)*ma-u;break;}V+=Q;}u=u+J.timestamp-A;}if(0>u){p=!1;break;}t[K]={startTime:u,endTime:b,rX:b,op:d,Mc:0};}b={zi:p,Ks:t,Uo:!1,zy:0===t.length};if(!1===b.zi||!0===b.zy)return b;a:{f=a.zh;n=a.im;m=n.tl;p=a.Vk;d=t=0;b=b.Ks;u=K=0;m=Math.min(n.ks,m);for(A=f.Ah;A<=m;A++){q.update("forwardStep loop");V=b[A];S=V.Mc;J=p[S][A].duration;ma=A===f.Ah?0:b[A-1].endTime;S=g(a,b,ma,t,A);if(S.yO){b={zi:!1,Uo:!0};break a;}S.FR||(ma=S.waitUntil);Q=V.rX;W=a.Kq;da=f.hp;V=0;S=W.trace;Z=1*W.cm;T=ma+da-W.timestamp;W=Q+da-W.timestamp;if(!(ma>=Q)){r(0<=T);r(0<=W);r(W>=T);N=Math.floor(1*T/Z);ja=1*W/Z;if(N===Math.floor(ja))T=(W-T)/Z*k(S,N,Z),r(0<=T),V+=T;else for(ja=Math.ceil(ja),da=N,Q=ja,N*Z<T&&(da++,T=(da*Z-T)/Z*k(S,N,Z),r(0<=T),V+=T),ja*Z>W&&(Q--,T=(W-Q*Z)/Z*k(S,Q,Z),r(0<=T),V+=T),T=da;T<Q;T++)V+=k(S,T,Z);}Z=f.qx*J*1/8;d+=Z;S=c(Math.max(0,V-Z),A,p);if(void 0===S){b={zi:!1,Uo:!0};break a;}V=S.op;S=S.Mc;Z=V+Z;da=a.Kq;Q=T=0;W=da.trace;N=Math.max(0,ma+f.hp-da.timestamp);da=1*da.cm;na=ja=Math.max(0,Math.floor(1*N/da));for(na*da<N&&(ja+=1,N=na*da+da-N,na=N/da*k(W,na,da),T=Z-Q<na?T+(Z-Q)/na*1*N:T+N,Q+=na);Q<Z;)q.update("getDownloadTime"),N=k(W,ja,da),T=Z-Q<N?T+(Z-Q)/N*1*da:T+da,Q+=N,ja+=1;Z=T;b[A].startTime=ma;b[A].endTime=ma+Z;b[A].op=V;b[A].Mc=S;A<=n.tl&&(t+=V,u+=J,K+=J*a.Nc[S].R);}b={zi:!0,Uo:!1,Ks:b,ujb:0<u?1*K/u:0,Dda:u,Cda:t,Bda:d};}b.tq=q.Qfa();console.log("Max heap used: "+Math.round(b.tq/1024/1024)+" MB");return b;}};},function(d,b,a){var p,t,E,J;function c(a,b,c){this.YDa=this.b6a(a,b,c);}function k(){}function g(){}function r(){}function q(a){this.ceb=a;}function n(){}function l(){}function f(){}function h(){this.yda={};}function x(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}p=a(5).assert;b=a(210).kqa;t=a(368).P4a;E=a(210).MYa;new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");J=a(105).jxa||a(105);c.prototype.constructor=c;c.prototype.b6a=function(a,b,c){p(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);p(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};c.prototype.$x=function(a){return this.$6a(a,this.YDa);};c.prototype.$6a=function(a,b){a=this.ijb(a,b);if(0===a)throw new k();if(a===b.length)throw new g();return a;};c.prototype.ijb=function(a,b){p(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;p(!1,"expect not coming here in digitize()");};c.prototype.tZ=function(){return x(this.YDa.length-1);};k.prototype=Error();g.prototype=Error();r.prototype=Error();q.prototype.constructor=q;q.prototype.VERSION="0.5";q.prototype.IZa=-20;q.prototype.HZa=20;q.prototype.GZa=void 0;q.prototype.BZa=new b(void 0);q.prototype.DZa=0;q.prototype.CZa=1;q.prototype.KZa=!1;q.prototype.FZa=!0;q.prototype.EZa=!0;q.prototype.JZa=void 0;q.prototype.zZa=!0;q.prototype.AZa=0;q.prototype.Py=function(a){p(void 0!==a.rVa,"expect recipe.time_varying_bandwidth !== undefined");return this.B9a(this.ceb,a.rVa,void 0!==a.vOa?a.vOa:this.IZa,void 0!==a.dOa?a.dOa:this.HZa,void 0!==a.cOa?a.cOa:this.GZa,void 0!==a.VDa?a.VDa:this.BZa,void 0!==a.tHa?a.tHa:this.DZa,void 0!==a.hEa?a.hEa:this.CZa,void 0!==a.gHb?a.gHb:this.KZa,void 0!==a.Dqb?a.Dqb:this.FZa,void 0!==a.GKa?a.GKa:this.EZa,void 0!==a.yRa?a.yRa:this.JZa,void 0!==a.bDa?a.bDa:this.zZa,void 0!==a.KDa?a.KDa:this.AZa);};q.prototype.B9a=function(a,b,d,m,q,x,F,I,u,da,W,N,ja,na){var D,A,T,Q,V,S,ma,R,ea,ha,aa,ia,fa,ka,qa,pa,sa,ta,va,wa;function K(a){return a[S];}J.w2("dp: ");p(d<=x.pg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");p(x.pg<=m,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");p(d<=F,"expect min_buffer_sec <= end_buffer_sec");p(F<=m,"expect end_buffer_sec <= max_buffer_sec");void 0!==q&&p(x.bk<=q,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+x.bk+" and "+q);D=new c(d,m,I);I=new h();A=0;T=x;I.put([0,D.$x(x.pg)],[A,T,void 0,void 0,b,void 0,void 0,void 0]);Q=T=0;b=a.zqb();p(a.UG()==b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");S=-1;for(ma in b){for(var S=S+1,Z=!0,B=a.Xi.map(K),M=D.tZ(),P=0;P<M.length;P++){R=M[P];if(I.Yha([S,R])){V=I.get([S,R]);for(var U=V[0],X=V[1],ba=V[4],Ha=0;Ha<B.length;Ha++){b=B[Ha];J.update("epoch-ibuf-chunk loop");x=void 0!==N?N(b.XP):b.XP;ea=ba.Go();try{V=this.F6a(X,b,ea,na);ha=V[0];aa=V[1];ia=V[2];fa=V[3];ka=V[4];qa=V[5];}catch(Za){if(Za instanceof t)continue;else if(Za instanceof k){T+=1;continue;}else throw Za;}pa=A=!1;try{sa=D.$x(fa.pg);da&&D.$x(ha);W&&D.$x(aa);if(void 0!==q)if(W){if(ia.bk>q)throw new r();}else if(fa.bk>q)throw new r();}catch(Za){if(Za instanceof k)sa=void 0,T+=1;else if(Za instanceof g)ja?A=!0:Q+=1,sa=void 0;else if(Za instanceof r)ja?pa=A=!0:Q+=1,sa=void 0;else throw Za;}try{if(A&&pa){p(void 0!==q,"expect max_buffer_kb !== undefined");va=W?ia.bk-q:fa.bk-q;p(0<=va,"pause dlnd kb cannot be -ve but is "+va);try{ta=fa.wAb(va);}catch(Za){if(Za instanceof E)throw new k();throw Za;}ea.rQa(ta);ka+=ta;p(fa.pg<m,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=D.$x(fa.pg);}else if(A&&!pa){ta=W?ia.pg-m+1E-8:fa.pg-m+1E-8;p(0<=ta,"pause dlnd kb cannot be -ve but is "+ta);try{fa.HQa(ta);}catch(Za){if(Za instanceof E)throw new k();throw Za;}ea.rQa(ta);ka+=ta;p(d<=fa.pg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");p(fa.pg<m,"cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=D.$x(fa.pg);}else ta=0;}catch(Za){if(Za instanceof k)sa=void 0,T+=1,ta=void 0;else if(Za instanceof t)continue;else throw Za;}A=I.Yha([S+1,sa])?I.get([S+1,sa])[0]:-Infinity;this.m$a(fa,sa,b,x,R,S+1,A,I,U,Ha,ea,ka,qa,ta)&&(Z=!1);}}}if(Z){--S;break;}}try{wa=this.uAa(S+1,D.$x(F),I,u,D);}catch(Za){if(Za instanceof n)try{wa=this.uAa(S+1,D.$x(F),I,!u,D);}catch(Fe){if(Fe instanceof n){if(T>Q)throw new l();throw new f();}throw Fe;}else throw Za;}R=wa;for(d=[];-1<S;S--)V=I.get([S+1,R]),A=V[0],T=V[1],m=V[3],q=V[5],F=V[6],u=V[7],V=V[2],b=a.Xi[V][S],da=b.Qu(),x=b.XP,d.unshift({mLa:S,cha:V,info:{WTb:da,XP:x,dUb:T.pg,cUb:T.bk,oVb:q,Ga:F,SXb:u}}),R=m;return d;};q.prototype.uAa=function(a,b,c,f,d){var h,l;h=!1;l=d.tZ()[0];for(d=d.tZ()[d.tZ().length-1];;){if(b<l||b>d){h=!0;break;}if(c.Yha([a,b]))break;else b=f?b-1:b+1;}if(h)throw new n();return b;};q.prototype.m$a=function(a,b,c,f,d,h,l,n,k,g,m,q,r,x){c=k+f*c.np;return void 0!==b&&c>l?(n.put([h,b],[c,a,g,d,m,q,r,x]),!0):!1;};q.prototype.F6a=function(a,b,c,f){var d,h,l;f=(b.Qu()+f)*b.np;c=c.Fjb(f);f/=c;d=a.pg-c;h=a.pg+b.np;l=a.Go();l.add(b,void 0);a=a.Go();a.add(b,void 0);try{a.HQa(c);}catch(Z){if(Z instanceof E)throw new k();throw Z;}return[d,h,l,a,c,f];};n.prototype=Error();l.prototype=new n();f.prototype=new n();h.prototype={voa:function(a){return a.join(",");},put:function(a,b){this.yda[this.voa(a)]=b;},get:function(a){return this.yda[this.voa(a)];},Yha:function(a){return this.voa(a)in this.yda;}};d.P={D_a:q,oNb:c,OMb:k,PMb:g};},function(d,b,a){var E,J,K,u,T,Q,V,S,A,Z;function c(a){var b,c,f;c=a.Kq;b=a.zh;f=a.im.oa-b.S;c.timestamp>b.hp&&A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.hp);a=[];for(var d,h=c.timestamp,l=0;l<c.trace.length;l++)h>=b.hp&&(a.push(c.trace[l]),d=c.trace[l]),h+=c.cm,f-=c.cm;for(;0<f;)a.push(d),f-=c.cm;b=c.cm;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new T(a,c,!1);}function k(a,b){return a.bC<b.bC?1:a.bC>b.bC?-1:0;}function g(a){for(var b=a.zh,c=a.im,f=c.tl,d=a.Vk,h=!0,l,n=[],k,g=f=Math.min(c.ks,f);g>=b.Ah;g--){Z.update("backward step loop");l=a.Vk[0][g].S-a.zh.S;g<f&&(E(void 0!==n[g+1],"expect solution[(fragIndex + 1)] !== undefined"),l=Math.min(n[g+1].startTime,l));c=d[0][g].aa;k=b.qx*d[0][g].duration*1/8;k=p(c+k,l,a.Kq,b.hp);if(0>k){h=!1;break;}n[g]={startTime:k,endTime:l,rX:l,op:c,Mc:0};}return{zi:h,Ks:n,Uo:!1,zy:0===n.length?!0:!1};}function r(a,b){var u,D,A,T,Q,V;for(var c=a.zh,f=a.im,d=f.tl,l=a.Vk,n=0,k=0,g=b.Ks,m,q,r,p=0,F=0,I,J,d=Math.min(f.ks,d),K=c.Ah;K<=d;K++){Z.update("forward step loop");r=g[K];b=r.Mc;I=l[b][K].duration;J=K===c.Ah?0:g[K-1].endTime;m=0;b=t(a,g,J,n,K);if(b.yO)return{zi:!1,Uo:!0};b.FR||(m=b.waitUntil-J,J=b.waitUntil);E(0<=m,"expect waittime >= 0 but got "+m);D=a.Kq;A=c.hp;m=0;b=D.trace;q=1*D.cm;u=J+A-D.timestamp;A=r.rX+A-D.timestamp;E(0<=u,"invalid downloadStartTime");E(A>=u,"invalid downloadEndTime");T=Math.max(0,Math.floor(1*u/q));Q=1*A/q;if(T===Math.floor(Q))u=(A-u)/q*x(b,T,q),E(0<=u,"negative delta same bucket"),m+=u;else for(Q=Math.ceil(Q),D=T,r=Q,T*q<u&&(D++,u=(D*q-u)/q*x(b,T,q),E(0<=u,"negative delta (2)"),m+=u),Q*q>A&&(r--,u=(A-r*q)/q*x(b,r,q),E(0<=u,"negative delta (3)"),m+=u),u=D;u<r;u++)m+=x(b,u,q);q=c.qx*I*1/8;k+=q;b=h(m-q,K,l);if(void 0===b)return{zi:!1,Uo:!0};m=b.op;b=b.Mc;q=m+q;A=a.Kq;r=u=0;D=A.trace;T=Math.max(0,J+c.hp-A.timestamp);A=1*A.cm;V=Q=Math.max(0,Math.floor(1*T/A));for(V*A<T&&(Q+=1,T=V*A+A-T,V=T/A*x(D,V,A),u=q-r<V?u+(q-r)/V*1*T:u+T,r+=V);r<q;)Z.update("getDownloadTime"),T=x(D,Q,A),u=q-r<T?u+(q-r)/T*1*A:u+A,r+=T,Q+=1;q=u;g[K].startTime=J;g[K].endTime=J+q;g[K].op=m;g[K].Mc=b;K<=f.tl&&(n+=m,F+=I,p=void 0!=l[b][K].Ub?p+I*l[b][K].Ub:p+I*a.Nc[b].Ub);}return{zi:!0,Uo:!1,Ks:g,KGa:0<F?1*p/F:0,Dda:F,Cda:n,Bda:k};}function q(a){a=a.zh.Z;for(var b=[],c,f=0;f<a.length;f++)Z.update("get prebuffered chunks loop"),c=a[f],E(void 0!==c.Ub,"expect frag.vmaf !== undefined"),c=new J(c.aa,c.duration/1E3,c.Ub),b.push(c);return b;}function n(a){for(var b=a.Vk,c=a.zh,f=a.im,d=f.tl,h=a.Nc,l=[],n,d=Math.min(f.ks,d),k=0;k<b.length;k++){for(var f=[],g=c.Ah;g<=d;g++)Z.update("get chunk map from play segment"),n=b[k][g],n=new J(n.aa,n.duration/1E3,a.zQ&&void 0!==n.Ub?n.Ub:h[k].Ub),f.push(n);l.push(f);}return new K(l,!1);}function l(a,b){E(a.UG()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,h,l=0;l<b.length;l++)Z.update("calculate twvmaf"),E(b[l].mLa===l,"expect stream_choices[idx].i_epoch === idx"),h=a.Xi[b[l].cha][l],d=h.XP,h=h.np,c+=d*h,f+=h;return{KGa:c/f,Dda:1E3*f};}function f(a,b,c){var f,d;E(a.UG()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.zh.qx;for(var h,l=0;l<b.length;l++)Z.update("calculate Bytes"),E(b[l].mLa===l,"expect stream_choices[idx].i_epoch === idx"),h=a.Xi[b[l].cha][l],f+=h.aa,d+=c*h.np*1E3/8;return{Cda:f,Bda:d};}function h(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].aa);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{op:c,Mc:d};}function x(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function p(a,b,c,f){var d,h,l,n,k;d=c.trace;h=1*c.cm;k=b+f-c.timestamp;n=Math.floor(1*k/h);b=0+(k-n*h)/h*x(d,n,h);if(b>=a)l=k-1*a/b*(k-n*h);else for(k=n;b<a;){Z.update("find download start time");--k;if(0>k)return-1;n=x(d,k,h);if(b+n>=a){a=1*(a-b)/n*h;l=(k+1)*h-a;break;}b+=n;}return l+c.timestamp-f;}function t(a,b,c,f,d){var h,l,n,k,g,m;h=a.zh;l=c+h.S;c=a.Vk[h.rO];a=a.Bba;n={FR:!0,waitUntil:void 0,yO:!1};k=c.filter(function(a){return a&&a.S<=l&&a.S+a.duration>l;})[0];if(void 0===k)return{yO:!0};g=d-1-(k.index-1);f=h.HR+f;m=0;m=k.index<h.Ah?m+c.slice(h.Wv,k.index).reduce(function(a,b){return a+b.aa;},0):m+h.HR;m=m+b.slice(h.Ah,k.index).reduce(function(a,b){return a+b.op;},0);f-=m;if(g>=a.YO||f>=a.gJ)for(n.FR=!1,k=k.index;k<d&&(g>=a.YO||f>=a.gJ);)Z.update("check buffer vacancy"),n.waitUntil=c[k].S+c[k].duration-h.S,f=k<h.Ah?f-c[k].aa:f-b[k].op,--g,k+=1;n.jEa=f;n.eUb=g;return n;}E=a(5).assert;J=a(369).oZa;K=a(369).pZa;u=a(738).D_a;T=a(368).O4a;Q=a(210).kqa;V=a(222).qT;S=a(62);A=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");Z=a(105).jxa||a(105);d.P={kub:function(a){var b;b=g(a);return!1===b.zi||!0===b.zy?b:r(a,b);},dO:function(a){var b,c,f,d,h,l,n,m,q,x,t,F,I,J,u,D;A.debug("greedy DEBUG false");Z.w2("greedy-"+(a.zQ?"segvmaf":"dlvmaf")+": ");c=a.Vk;b=a.Vk;f=a.zh;d=a.im;h=d.tl;l=a.Nc;h=Math.min(d.ks,h);for(F=f.Ah;F<=h;F++){b[0][F].WA=b[0][F].aa;for(t=1;t<b.length;t++)b[t][F].WA=b[t][F].aa,b[t-1][F].WA===b[t][F].WA&&(b[t][F].WA=b[t-1][F].WA+1);t=0;f=b[t][F];f.bC=Infinity;f.Gg=t;for(t=1;t<b.length;t++)f=b[t][F],d=b[t-1][F],n=8*f.WA/f.duration,m=8*d.WA/d.duration,a.zQ&&void 0!==f.Ub?(q=f.Ub,x=d.Ub):(q=l[t].Ub,x=l[t-1].Ub),f.bC=(q-x)/(n-m),f.Gg=t,E(void 0!==d.bC&&!isNaN(d.bC),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=g(a);if(!1===b.zi||!0===b.zy)return b;h=a.Vk;f=a.zh;d=a.im;l=d.tl;l=Math.min(d.ks,l);d=[];for(f=f.Ah;f<=l;f++)d.push(h[1][f]);for(h=new V(d,k);0<h.length;){Z.update("upgrade frags");l=h.pop();f=a;d=b;n=l;m=f.Vk;q=f.zh;u=f.im;x=u.tl;t=!0;F=JSON.parse(JSON.stringify(d.Ks));void 0!==n.Gg&&E(F[n.index].Mc+1===n.Gg,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");x=Math.min(u.ks,x);for(var K=n.index;K>=q.Ah;K--){D=K===n.index?F[K].Mc+1:F[K].Mc;u=f.Vk[D][K].S-f.zh.S;if(K<x)if(E(void 0!==F[K+1],"expect solution[(fragIndex + 1)] !== undefined"),J=F[K+1].startTime,J<u)u=J;else if(K!==n.index)break;J=m[D][K].aa;I=q.qx*m[D][K].duration*1/8;I=p(J+I,u,f.Kq,q.hp);if(0>I){t=!1;break;}F[K]={startTime:I,endTime:u,rX:u,op:J,Mc:D};}f={zi:t,Ks:F,zy:d.zy};!0===f.zi&&(b=f,l.Gg+1<c.length&&h.push(c[l.Gg+1][l.index]));}b=r(a,b);b.tq=Z.Qfa();A.debug("Max heap used: "+Math.round(b.tq/1024/1024)+" MB");return b;},dp:function(a){var b,d,h,k,m,r;Z.w2("dp-"+(a.zQ?"segvmaf":"dlvmaf")+": ");b=g(a);if(!1===b.zi||!0===b.zy)return b;d=n(a);h=new u(d);k=q(a);k={rVa:c(a),KDa:a.zh.qx,vOa:0,dOa:240,cOa:8*a.Bba.gJ/1E3,hEa:.5,VDa:new Q(k),tHa:0,bWb:void 0,GKa:void 0,yRa:void 0,bDa:!0};h=h.Py(k);k=l(d,h);d=f(d,h,a);m=[];r=a.zh.Ah;h.forEach(function(a){m[r]={Mc:a.cha};r++;});S(k,b);S(d,b);b.Ks=m;b.tq=Z.Qfa();A.debug("Max heap used: "+Math.round(b.tq/1024/1024)+" MB");return b;}};},function(d,b,a){var g,r;function c(){}function k(a,b){return function(c){c.zQ=b;return a(c);};}g=a(739);r=a(737);c.prototype.constructor=c;c.prototype.create=function(a){switch(a){case"htwbr":a=r.dO;break;case"hvmaftb":a=g.kub;break;case"hvmafgr":a=g.dO;break;case"hvmafdp":a=g.dp;break;case"hvmafgr-dlvmaf":a=k(g.dO,!1);break;case"hvmafgr-segvmaf":a=k(g.dO,!0);break;case"hvmafdp-dlvmaf":a=k(g.dp,!1);break;case"hvmafdp-segvmaf":a=k(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};d.P=c;},function(d,b,a){var k,g;function c(a,b,c,d){this.ab=a;this.u=b;this.$e=this.u.error.bind(this.u);this.eb=this.u.warn.bind(this.u);this.Aj=this.u.trace.bind(this.u);this.$f=this.u.log.bind(this.u);this.u5a=new g();this.I=d;this.xV=[];this.UV=void 0;a=d.OZ;k.call(this,a.numB*a.bSizeMs,a.bSizeMs);this.m$=!0;}a(19);b=a(4);k=a(163);a(378);g=a(740);new b.Console("ASEJS_QOE_EVAL","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.add=function(a,b,c){this.UV||(this.UV=b);k.prototype.add.call(this,a,b,c);};c.prototype.snb=function(){var a;if(0!==this.xV.length){a=[];this.xV.forEach(function(b){b&&b.yF&&a.push(b.Ou());});return a;}};c.prototype.mc=function(){this.xV=[];};c.prototype.cqb=function(){var a,b,c;a=this.get(this.I.OZ.fillS);if(0===a[0]||null===a[0]){a.some(function(a,d){if(a)return b=a,c=d,!0;});if(b)for(var d=0;d<c;d++)a[d]=b;}a={trace:a,timestamp:this.UV,cm:this.Qc};this.m$=!1;k.prototype.reset.call(this);this.m$=!0;this.UV=void 0;return a;};c.prototype.lea=function(a){var b,c,d,f,h,k;if(a&&!a.yF){c=a.im.jMa;c&&(a.Ela=this.Xaa(a),a.I1=!1);if((b=this.cqb())&&b.trace&&b.trace.length){d=a.zh.hp;f=b.timestamp;if(f>d){h=b.cm;k=b.trace[0];d=Math.ceil(1*(f-d)/h);b.timestamp=f-d*h;for(f=0;f<d;f++)b.trace.splice(0,0,k);}b.trace.length&&b.trace.pop();}a.Kq=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.$cb(a),a.OPa=b,c&&b&&(a.I1=b.zi),a.yF=!0,this.xV.push(a));}};c.prototype.$cb=function(a){var h,k,g,m;function b(a){var f;for(var b,c=0;c<a.length;c++){f=a[c].reduce(function(a,b){return b.Ub?a+1:a;},0);if(void 0===b)b=f;else if(f!==b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))="+Math.ceil(Math.log(f>b?f-b:b-f)*Math.LOG2E)+"]");}}for(var c=this.I.hO,d={zi:!1,Uo:!1,VX:0},f=0;f<c.length;f++){h=c[f];k=this.u5a.create(h);if(k){g=Date.now();m={};try{b(a.Vk);m=k(a);}catch(E){m.gY=E;}m.Cab=Date.now()-g;d[h]=m;d.zi=d.zi||m.zi;d.Uo=d.Uo||m.Uo;d.gY=d.gY||m.gY;}}return d;};c.prototype.Xaa=function(a){var b;a=a.im;b="";1E3>a.IR&&(b+=a.cXa);1E3>a.yaa&&(b=b+(""!==b?",":"")+a.rDa);1E3<=a.IR&&1E3<=a.yaa&&(b="media");return b;};d.P=c;},function(d,b,a){var c,k,g,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.ppa=void 0;c=a(158);k=a(741);g=a(367);r=a(8);q=a(19);n=a(4);d=function(){var K9o;function a(a,b,d,l,m,r,p,t,u){var C9o,f,h,x,H9o,S9o,X1J,h1J,z1J,U1J,r9o;C9o=2;while(C9o!==32){X1J="1S";X1J+="IYbZ";X1J+="rNJCp9";h1J="base";h1J+="lin";h1J+="e";z1J="de";z1J+="f";z1J+="au";z1J+="lt";U1J="L";U1J+="R";switch(C9o){case 21:this.QE=new g.Rsa(p,m,this.u);C9o=23;break;case 14:this.I=m;S8ii.y1J(1);r9o=S8ii.O1J(999983,7999910,9,7);this.ZAa=0===Math.floor(r9o*Math.random())%m.Eba;this.kq=this.PZ=this.hLa=this.$W=this.Wo=void 0;this.Qna=this.fUa=this.gUa=this.Pna=this.bQa=this.cQa=0;C9o=10;break;case 2:this.u=b;this.Yb=l;C9o=4;break;case 34:this.QE=new g.eT(p,m,this.u);C9o=23;break;case 22:C9o=H9o===U1J?21:35;break;case 10:this.AV=c[z1J](m,r);b=this.DAa(d);void 0!==b&&void 0!==b.Gk&&void 0!==b.ij&&void 0!==b.Hk&&(f=(b.Hk-b.Gk)/b.ij);C9o=18;break;case 23:this.p$=this.QE.s_();C9o=33;break;case 25:H9o=m.nrb;C9o=H9o===h1J?24:22;break;case 24:this.QE=new g.eT(p,m,this.u);C9o=23;break;case 26:C9o=p&&1<p.length&&m.Wda?25:33;break;case 15:try{S9o=2;while(S9o!==3){switch(S9o){case 2:h=n.yk();x=new k(a,this.u,{bufferSize:h},m);this.Yb.S$a(x);this.MBa=x;S9o=3;break;}}}catch(S){var M1J;M1J="Hindsight: E";M1J+="rror when creating Q";M1J+="o";M1J+="EEvaluator: ";S8ii.y1J(0);a.Va.xm(S8ii.O1J(S,M1J));}C9o=27;break;case 35:C9o=34;break;case 18:l=m.oP?q.Ne.yz:q.Ne.zz;d&&d.yd>=l&&d.Ga&&f&&this.n7a(d,b,f);C9o=16;break;case 4:this.jb=t;this.gx=u;X1J;this.ab=a;this.eb=this.u.warn.bind(this.u);this.Aj=this.u.trace.bind(this.u);C9o=14;break;case 27:this.p$=!1;C9o=26;break;case 16:C9o=this.gx.Ko?15:27;break;case 33:m.F3&&(this.MV=this.LV=!1);C9o=32;break;}}}K9o=2;while(K9o!==27){switch(K9o){case 9:a.prototype.opb=function(a){var M9o;M9o=2;while(M9o!==1){switch(M9o){case 2:return 1===a?this.AV.OP:this.AV.Mv;break;}}};a.prototype.EI=function(a){var f9o;f9o=2;while(f9o!==1){switch(f9o){case 4:this.AV.EI(a);f9o=0;break;f9o=1;break;case 2:this.AV.EI(a);f9o=1;break;}}};a.prototype.I$a=function(a,b,c,d,l,n){var o9o,f;o9o=2;while(o9o!==4){switch(o9o){case 2:f=this.I;f.F3&&this.V8a(b)||!c||!d||!(c=n?Math.min(c,d,n):Math.min(c,d))||(this.Yb.get(),d=this.ab.qa,a=d.Gr(d.Sb,a),b.track.On()&&a>f.Dba&&c===l?(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:2}),f.set({maxPendingBufferLen:500})):(f.fp=!0,f.sH=1,f.js=2,f.ty=500),b.track.K1({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:f.jJ,minRequestSize:f.BH}),this.Pna++,f.F3&&(this.LV=!0)):f.fp&&!b.On()&&(a<f.Cba||c!==l)&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:3}),f.set({maxActiveRequestsPerSession:3}),f.set({maxPendingBufferLen:12E3})):(f.fp=!0,f.sH=3,f.js=3,f.ty=12E3),b.track.K1({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:f.jJ,minRequestSize:f.BH}),this.Qna++,f.F3&&(this.MV=!0)));o9o=4;break;}}};a.prototype.M$a=function(a,b){var b9o,c,f,d;b9o=2;while(b9o!==13){switch(b9o){case 6:this.al.hu[d]=a,this.al.gw[d]=b;b9o=14;break;case 7:b9o=void 0===f||c>f?6:14;break;case 5:b9o=this.ZAa?4:13;break;case 14:this.al.dia=c;b9o=13;break;case 2:c=this.I;b9o=5;break;case 4:void 0===this.al&&(this.al={startTime:n.time.ea(),hu:[],gw:[],kia:void 0,dia:void 0});c=Math.floor((n.time.ea()-this.al.startTime)/c.TA);f=this.al.dia;d=this.al.kia?c-this.al.kia-1:c;b9o=7;break;}}};a.prototype.Byb=function(){var X9o,a,e9o;X9o=2;while(X9o!==3){switch(X9o){case 8:a=this.ab;X9o=7;break;X9o=5;break;case 2:a=this.ab;X9o=5;break;case 5:X9o=this.gx.Ko?4:3;break;case 4:try{e9o=2;while(e9o!==5){switch(e9o){case 2:this.Yb.qDb();this.MBa.mc();e9o=5;break;}}}catch(h){var t5J;t5J="Hindsight: ";t5J+="Err";t5J+="or d";t5J+="uring cl";t5J+="ean up: ";S8ii.x1J(0);a.Va.xm(S8ii.O1J(h,t5J));}X9o=3;break;}}};K9o=13;break;case 2:Object.defineProperties(a.prototype,{s_:{get:function(){var Y9o;Y9o=2;while(Y9o!==1){switch(Y9o){case 2:return this.p$;break;case 4:return this.p$;break;Y9o=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ula:{get:function(){var c9o;c9o=2;while(c9o!==1){switch(c9o){case 2:return this.MBa;break;case 4:return this.MBa;break;c9o=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.JTa=function(a,b,c){var h9o;h9o=2;while(h9o!==4){switch(h9o){case 2:this.kq=a;r.W(b)||(this.hLa=b);r.W(c)||(this.PZ=c);h9o=4;break;}}};a.prototype.Boa=function(a){var E9o;E9o=2;while(E9o!==5){switch(E9o){case 2:this.I=a;this.AV.Boa(a);E9o=5;break;}}};a.prototype.q$=function(a,b,c,d){var T9o,f,n5J,C5J;T9o=2;while(T9o!==6){n5J="a";n5J+="v";n5J+="g";C5J="i";C5J+="q";C5J+="r";switch(T9o){case 5:T9o=a===C5J?4:8;break;case 9:return!1;break;case 8:T9o=a===n5J?7:9;break;case 4:T9o=void 0!==d?3:9;break;case 2:f=this.I;T9o=5;break;case 3:return b.Ga&&c&&r.ma(d)&&b.Ga.Da<f.NM&&d>f.V5;break;case 7:return b.Ga?b.Ga.Da<f.NM:!0;break;}}};K9o=9;break;case 13:a.prototype.Nyb=function(a){var s9o;s9o=2;while(s9o!==1){switch(s9o){case 2:this.I.pG&&a===q.Na.VIDEO&&(this.Qna=this.Pna=this.fUa=this.gUa=this.bQa=this.cQa=0);s9o=1;break;}}};a.prototype.Lyb=function(a,b){var m9o;m9o=2;while(m9o!==1){switch(m9o){case 2:a===q.Na.VIDEO&&(this.vLb=b);m9o=1;break;}}};a.prototype.Rdb=function(a){var q9o,b,c,f,d,l,B5J,T5J;q9o=2;while(q9o!==7){B5J="n";B5J+="on";B5J+="e";T5J="i";T5J+="q";T5J+="r";switch(q9o){case 4:c=this.Yb.get();T5J===b.az&&(f=this.DAa(c),void 0!==f&&void 0!==f.Gk&&void 0!==f.ij&&void 0!==f.Hk&&(d=(f.Hk-f.Gk)/f.ij));l=b.oP?q.Ne.yz:q.Ne.zz;c&&c.yd>=l&&this.q$(b.az,c,f,d)&&(this.Wo=!0,this.$W=a.state);q9o=7;break;case 5:q9o=B5J!==b.az&&!0!==this.Wo&&a.state<=b.eja?4:7;break;case 2:b=this.I;q9o=5;break;}}};a.prototype.iab=function(a){var B9o;B9o=2;while(B9o!==1){switch(B9o){case 4:a.Wo=this.Wo;B9o=5;break;B9o=1;break;case 2:a.Wo=this.Wo;B9o=1;break;}}};a.prototype.Dlb=function(a){var p9o,b,c,f,d,l,k,g,m,G5J,e5J;p9o=2;while(p9o!==21){G5J="start";G5J+="pla";G5J+="y";e5J="log";e5J+="dat";e5J+="a";switch(p9o){case 6:l&&l.Ga&&(l=l.Ga.Da);b.actualbw=l;b.isConserv=this.Wo;b.ccs=this.$W;p9o=11;break;case 2:b={};c=this.I;f=this.ab;d={type:e5J,target:G5J,fields:{}};p9o=9;break;case 18:g=function(a){var a9o;a9o=2;while(a9o!==1){switch(a9o){case 2:return r.ma(a)?Number(a).toFixed(2):-1;break;}}};l=[g(k.min||void 0),g(k.yka||void 0),g(k.Gk||void 0),g(k.ij||void 0),g(k.Hk||void 0),g(k.zka||void 0),g(k.max||void 0)];m=[];k=r.isArray(k.qh)&&k.qh.reduce(function(a,b){var Z9o,c;Z9o=2;while(Z9o!==9){switch(Z9o){case 2:c=g(b.lf||void 0);b=g(b.n||void 0);Z9o=4;break;case 4:-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},m);b.histtdc=k;p9o=26;break;case 11:b.isLowEnd=this.Ysb;b.histdiscbw=this.kq;k=this.PZ;p9o=19;break;case 9:d.fields=b;Object.keys(a).forEach(function(c){var U9o;U9o=2;while(U9o!==1){switch(U9o){case 4:b[c]=a[c];U9o=2;break;U9o=1;break;case 2:b[c]=a[c];U9o=1;break;}}});l=this.Yb.get();p9o=6;break;case 26:b.histtd=l;p9o=25;break;case 19:p9o=k?18:25;break;case 22:f.emit(d.type,d);p9o=21;break;case 25:b.histage=this.hLa;c.Wda&&this.QE&&(b.ishighstable=this.p$,b.avg_avtp=this.QE.QDa,b.avg_ne=Number(this.QE.RDa).toFixed(4));f.Bb&&(c=n.yk(),b.maxAudioBufferAllowedBytes=c[q.Na.AUDIO],b.maxVideoBufferAllowedBytes=c[q.Na.VIDEO]);p9o=22;break;}}};a.prototype.Elb=function(a){var A9o,b,c,f,d,l,n,k,b5J;A9o=2;while(A9o!==20){b5J="n";b5J+="o";b5J+="n";b5J+="e";switch(A9o){case 7:l=0;n=0;A9o=14;break;case 14:k=0;f.yd&&(l=f.Ga?f.Ga.Da:0,n=f.xh?f.xh.Da:0,k=f.lq?f.lq.Da:0);a.location={responseTime:n,httpResponseTime:k,bandwidth:l,confidence:f.yd,name:this.vLb};A9o=11;break;case 3:d=[];[q.Na.VIDEO,q.Na.AUDIO].forEach(function(a){var G9o,h;G9o=2;while(G9o!==3){switch(G9o){case 2:G9o=1;break;case 8:G9o=2;break;G9o=1;break;case 1:G9o=b.jb(a)?5:3;break;case 5:h=b.ab.kKa(a);void 0!==h&&(a===q.Na.VIDEO&&(c.pG&&(h.parallelDownloadMs=b.cQa,h.parallelDownloadBytes=b.bQa,h.singleDownloadMs=b.gUa,h.singleDownloadBytes=b.fUa,h.switchFromParallelToSingle=b.Pna,h.switchFromSingleToParallel=b.Qna),f&&f.yd&&f.Ga&&(h.asetput=f.Ga,h.aseiqr=f.nq,h.tdigest=f.Ii&&f.Ii.Ou()||void 0),f&&f.avtp&&(h.avtp=f.avtp.Da)),d.push(h));G9o=3;break;}}});a.stat=d;A9o=7;break;case 11:this.ZAa&&(a.bt={startTime:this.al.startTime,audioMs:this.al.hu,videoMs:this.al.gw},this.al.hu=[],this.al.gw=[],this.al.kia=this.al.dia);b5J!==c.az&&(a.isConserv=this.Wo,a.ccs=this.$W);A9o=20;break;case 2:b=this;c=this.I;f=this.Yb.get();A9o=3;break;}}};a.prototype.V8a=function(a){var x9o,b;x9o=2;while(x9o!==14){switch(x9o){case 3:this.LV&&(this.LV=!1);x9o=9;break;case 5:x9o=this.LV&&a.On()?4:3;break;case 7:this.MV&&(this.MV=!1);return!1;break;case 2:b=this.I;x9o=5;break;case 4:return!0;break;case 8:return!0;break;case 9:x9o=this.MV&&b.fp&&!a.On()?8:7;break;}}};K9o=17;break;case 15:return a;break;case 17:a.prototype.DAa=function(a){var i9o,F9o,J5J;i9o=2;while(i9o!==4){J5J="td";J5J+="ig";J5J+="e";J5J+="s";J5J+="t";switch(i9o){case 5:return a;break;case 3:i9o=9;break;case 2:F9o=this.I.Wga;i9o=F9o===J5J?1:3;break;case 1:a=a.Ii;i9o=5;break;case 9:a=a.nq&&a.nq.g1;i9o=5;break;}}};a.prototype.n7a=function(a,b,c){var w9o,f;w9o=2;while(w9o!==9){switch(w9o){case 3:this.q$(f.Iia,a,b,c)&&(this.Ysb=!0);w9o=9;break;case 2:f=this.I;this.q$(f.az,a,b,c)?this.Wo=!0:this.Wo=!1;this.$W=0;w9o=3;break;}}};K9o=15;break;}}}();b.ppa=d;},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.D6=void 0;c=a(16);k=a(11);g=a(239);d=function(){function a(a,b,c,f,d,k,g,m,r,p,t,u){void 0===c&&(c=0);this.Yc=a;this.NV=b;this.S=c;this.oa=f;this.OY=d;this.fg=k;this.LG=g;this.config=m;this.u=r;this.Va=p;this.slb=t;this.Vg=u;this.hs=0;}a.create=function(b){var f,h,m,q,r,p,t,u,D,T,Q,V,S,A,Z;function d(a){return u.Xa.ns[a];}function l(a){k.Ka(u,a.type,a);}f=b.Ya;h=b.ya;m=b.nTa;q=b.S;r=b.oa;p=b.$r;t=b.Va;u=b.tb;D=b.config;T=b.u;Q=b.ff;V=b.Jl;S=b.Re;A=b.gy;Z=new g.$R({na:Number(h.movieId),Ya:f,ya:h,Lk:b.Lk,jb:b.jb,jja:{p_:b.Cf,Kha:!!b.ZLa},Yi:b.Yi,Dr:b.Dr,config:D,QQ:D.qB?{tC:u.cl.tC,ia:u.cl.ia,Jx:u.cl.Jx,xm:t.xm.bind(t),gq:d}:void 0,Lga:{Lc:Q.ki.bind(Q),Re:S,gy:A,El:l,m_:function(a){return a===u.qa.Sb.O;},jZ:function(a,b,c,f,d){a=u.Xa.Je[a];return!b||c||f||d?u.hL:a.Dm;},gq:d,fg:u.fg.bind(u)},LH:function(a){u.emit("requestComplete",{timestamp:a.cd,mediaRequest:a});},LN:function(){return u.wf;},yb:u.Bb.yb,Df:u.Bb.Df,jea:{$r:p,Eg:function(a,b,c,d,h){u.il(a,f,b,c,d,h);},mm:function(){return u.WV;},eH:u.U.Bg.bind(u.U),El:l},OC:void 0});b=new c.Oi();b.addListener(Z.fy,"onHeaderFragments",function(a){var b,c,d,h,l;b=a.L;c=a.ta;d=a.stream.Z;h=u.fg(f);if(h){if(Z.ig[b]&&a!==Z.ig[b])a.Rr&&(h=Z.ig[b],a=a.stream,l=h&&h.stream,T.warn("first header received for non-current track (trackId "+a.$a+"streamId "+a.ta+"), expected track "+(l&&l.$a)+", stream "+(l&&l.ta)+", "+h));else{Z.ig[b]=a;a=u.qa.Sb;if(0===f){l=Z.jb(1)?a.Qe(1).Lb:a.Qe(0).Lb;a.NW(l,Z);}h.ZP=!1;h.LW();u.eW();}V.c$();t.q8a(f,b,c,Z.G,d);Q.ki();}else T.warn("addFragments for stale manifestIndex:",f);});b.addListener(Z.fy,"onHeaderRequestComplete",function(a){var b,c;a.Lj?u.eW():a.Lx&&(T.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),u.SX(a.G));b=a.L;c=Object.getOwnPropertyNames(A.mr[b]);u.xf[b].kPa(a.stream,1===c.length&&c[0]===a.ta);Q.mAa();u.RDb();});b.addListener(Z.fy,"onHeaderFromCache",function(a){var b;b=a.Po;a=a.emb;b.Lj&&u.eW();a&&t.h8a(b.G,b.ta);});return new a(Z,m,q,r,function(){return u.qa;},u.fg.bind(u),u.LG.bind(u),D,T,t,!1,b);};Object.defineProperties(a.prototype,{O:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ya:{get:function(){return this.O.Ya;},enumerable:!1,configurable:!0}});a.prototype.In=function(a){return this.Yc.zKa(a,this.UY(a));};a.prototype.UY=function(a){return this.NV[a];};a.prototype.close=function(){this.Vg.clear();this.O.close();};a.prototype.mc=function(){this.Yc.mc();delete this.Yc;};a.prototype.clone=function(){return new a(this.O,this.NV,this.S,this.oa,this.OY,this.fg,this.LG,this.config,this.u,this.Va,!0,this.Vg);};a.prototype.Aoa=function(a){this.u.trace("updateAudioTrack:",this.NV[0],"->",a);this.NV[0]=a;};a.prototype.DJa=function(){return void 0!==this.oC?this.oC:this.oa?this.oa:this.Yc.ya.duration;};a.prototype.ndb=function(a,b){var c,f,d,n;c=this.Yc.ig[1];if(c&&c.stream.Vd){if(this.Ju&&this.Ju[1]&&this.Ju[1].S<=a&&this.Ju[1].oa>a)return this.Ju[1].dd;f=c.stream.Z;d=f.jm(a,void 0,!0);n=void 0;b&&(a=c.stream.wi(d).qY(a))&&(n=a.Vc);void 0===n&&(n=f.Sh(d));return n;}};a.prototype.LW=function(){var a,b;if(!this.ZP&&this.TKa()){this.Xja();b=[0,0];0===this.Ya||this.Yc.ve.ZO||this.Yc.ve.replace||(a=this.fg(this.Ya-1),a=this.Yc.G===a.Yc.G,b=this.OY().Sb,a=b.NW(this.S,this.O,b,a),b=a.iI);this.S=b[1];this.iI=b;this.Ju=a&&a.Ju;this.uEa();a=this.Yc.jb(1)?this.Yc.ig[1].stream.Z.oa:this.Yc.ig[0].stream.Z.oa;this.Va.m8a(this.Ya,this.hs,this.S,this.oC,a);this.ZP=!0;for(a=this.Ya+1;a<this.LG();++a)b=this.fg(a),b.ZP=!1,b.LW();}};a.prototype.uEa=function(){var a;if(0===this.Ya||this.Yc.ve.replace)this.hs=0;else{a=this.fg(this.Ya-1);this.hs=a.hs+a.DJa()-this.S;}};a.prototype.Xja=function(){var a,b,c,f,d,k,g,m;if(this.TKa()){d=this.OY().Sb;k=this.oa||Infinity;g=this.Yc.jb(1);m=d.CN(k,this.O);this.oC=g?m[1].oa:m[0].oa;d=g?this.Yc.ig[1].stream.Z.oa:this.Yc.ig[0].stream.Z.oa;g=Math.min(null!==(b=null===(a=m[1])||void 0===a?void 0:a.oa)&&void 0!==b?b:Infinity,null!==(f=null===(c=m[0])||void 0===c?void 0:c.oa)&&void 0!==f?f:Infinity);this.Va.o8a(this.Ya,this.oC,d,g);a=this.OY().Bea(this.Ya);0<a.length&&a.forEach(function(a){a.gKb(m,k);});}};a.prototype.TKa=function(){var a,b,c,f;a=this.Yc.jb(0);b=this.Yc.jb(1);c=this.Yc.ig[0];f=this.Yc.ig[1];c=c&&c.stream.Vd;f=f&&f.stream.Vd;return(!a||c)&&(!b||f);};return a;}();b.D6=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=void 0;d=function(){function a(a,b,d,g,q,n,l,f,h,x){var c;c=this;this.id=a;this.O=b;this.S=d;this.gN=q;this.Jj=n;this.Ms=l;this.g3=f;this.Lk=h;this.je=x;this.pZ=function(a){var b,f;return(null===(f=null===(b=c.Jj)||void 0===b?void 0:b[a])||void 0===f?void 0:f.zJb)||c.je;};this.oa=g||Infinity;}Object.defineProperties(a.prototype,{na:{get:function(){return this.O.na;},enumerable:!1,configurable:!0}});a.prototype.cJa=function(){var a,b,d;a=this;d=Object.keys(this.Jj||{}).filter(function(b){var c,d;return!(null===(d=null===(c=a.Jj)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});return d.length?null!==(b=d.map(this.pZ).reduce(function(a,b){return a===b?b:void 0;}))&&void 0!==b?b:this.je:this.je;};a.prototype.toString=function(){return"segmentId: "+this.id+" playlistSegmentId: "+this.Lk+" viewableId: "+this.O.na+" pts: "+this.S+"-"+this.oa+" defaultKey: "+this.gN+" dests: "+JSON.stringify(this.Jj)+" terminal: "+!!this.Ms;};a.prototype.toJSON=function(){return{id:this.id,viewable:this.O.na,"startPts:":this.S,endPts:this.oa,defaultKey:this.gN,"dests:":this.Jj,terminal:!!this.Ms,playlistSegmentId:this.Lk};};return a;}();b.Xxa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qta=void 0;d=function(){function a(a,b,d,g,q,n,l,f){this.Ic=a;this.fEa=b;this.config=d;this.console=g;this.L=q;this.Va=n;this.Ja=l;this.tb=f;this.Tm=this.Jg=!1;}a.prototype.OF=function(a,b){!this.Ic.ba.Ms||this.tb.XE||this.tb.zV&&!this.config.Vaa||(a-=this.Ic.de,this.Jg&&!this.Tm&&a+this.config.RIb>=b&&0===this.Ja.Ev&&0===this.Ja.Us&&0===this.Ja.eCb&&(b=this.tb.Jd.O.Ya,a=this.tb.LG(),b+1<a||(this.fEa[this.L].TUa||this.Va.e8a(this.L),this.Tm=!0,this.fEa[this.L].P0())));};return a;}();b.Qta=d;},function(d,b,a){var c,k,g,r,q,n,l,f,h,x,p,t,u,J,K,D,T,Q,V,S,A,Z,ma,da,W,N,B,na,oa,M,O,P,ga;Object.defineProperty(b,"__esModule",{value:!0});b.aya=void 0;c=a(16);k=a(8);g=a(372);r=a(168);q=a(743);n=a(225);l=a(18);f=a(240);h=a(226);x=a(742);p=a(379);t=a(220);u=a(734);J=a(732);K=a(4);D=K.Promise;T=K.MediaSource;Q=a(11);V=a(5);S=a(371);A=a(731);Z=a(164);ma=a(730);da=a(729);W=a(728);N=a(727);B=a(726);na=a(725);oa=a(393);M=a(724);d=a(33);O=a(391);P=a(723);ga=a(386);a=function(){var s5J;function a(a,b,f,d,l,n,k,m,r,t,F){var I5J,I,E,D,A,V,W9U,w9U,Y9U,h9U,B9U,J9U;I5J=2;while(I5J!==74){W9U="media";W9U+="ca";W9U+="che";w9U="1SIYb";w9U+="Z";w9U+="r";w9U+="NJCp9";Y9U="managerdebugev";Y9U+="e";Y9U+="nt";h9U="br";h9U+="a";h9U+="nch";h9U+="ing";B9U="medi";B9U+="a|as";B9U+="ejs";J9U="A";J9U+="S";J9U+="EJS";switch(I5J){case 8:this.u=new K.Console(J9U,B9U,"("+k.sessionId+")");this.$e=this.u.error.bind(this.u);this.eb=this.u.warn.bind(this.u);this.Aj=this.u.trace.bind(this.u);E=new B.sva(this,this.u);this.Va=E;this.CFa=new ma.Uqa(this.u);I5J=10;break;case 51:this.xf=[];this.ATa=new h.kT(b,this.Bb.yb,this.Bb.Df,this.I,void 0);a=this.ATa.Spb();l=null;I5J=47;break;case 10:D=!(!b||!b.choiceMap||h9U!==b.choiceMap.type);A=D?{qG:!1,Ko:!1}:J.yJa(t);this.qG=A.qG;I5J=18;break;case 58:T=b.O;this.qa=new g.j4(this,this.Va,this.u,this.eaa.bind(this),T,this.RV,this.I,this.ff,this.U,this.NN.bind(this));T={RO:this.RO,Ds:this.Ds,Wk:this.Wk,BC:this.BC};I5J=55;break;case 62:I5J=t.Wda&&this.wf.s_?61:58;break;case 38:this.zf.on(this.Bb.Re,Y9U,function(a){var W5J;W5J=2;while(W5J!==1){switch(W5J){case 2:Q.Ka(I,a.type,a);W5J=1;break;case 4:Q.Ka(I,a.type,a);W5J=2;break;W5J=1;break;}}});I5J=37;break;case 39:I5J=t.Ug&&this.Bb.Re?38:37;break;case 76:V=this;this.U.addListener(function(a){var N5J,u5J;N5J=2;while(N5J!==1){switch(N5J){case 2:try{u5J=2;while(u5J!==1){switch(u5J){case 2:V.Xa.mKb.bind(V.Xa)(a);u5J=1;break;}}}catch(Eb){var l9U;l9U="Hindsight: ";l9U+="Error when add";l9U+="ing up";l9U+="datePlaySegment Listene";l9U+="r: ";S8ii.d9U(0);V.Va.xm(S8ii.q9U(l9U,Eb));}N5J=1;break;}}});I5J=74;break;case 55:this.Xa=new p.nya(this.u,this.wf,this.I,this.jb.bind(this),this.U,T,this.Bb.yb,this.Va,this.ff,this.qa,A);I5J=77;break;case 43:this.zf=new c.Oi();this.Jl=new M.Wxa(this,this.u,this.jb.bind(this),E);this.ff=new W.Cra(this,this.u,this.jb.bind(this));this.oN=new da.Bra(this,this.u,E);I5J=39;break;case 29:this.hL=void 0;this.lV=-1;this.V$=0;I5J=43;break;case 2:I=this;this.Ow=new oa.q8();this.Oza=[];this.gy={mr:[Object.create(null),Object.create(null)]};w9U;I5J=8;break;case 47:t.vN&&(l=this.Bb.rp.Tt);Z.Ys.Qf().reset();b=q.D6.create({Ya:0,ya:b,Lk:f,nTa:d,Cf:!!n.Cf,ZLa:!1,Yi:!!n.Yi,Dr:F||this.Oza,S:0,oa:n.oa,Va:this.Va,$r:this.GAa.bind(this),jb:this.jb.bind(this),tb:this,config:this.I,u:this.u,ff:this.ff,Jl:this.Jl,Re:this.uCa?this.Bb.Re:void 0,gy:this.gy});b.bM=!0;this.Gc=[b];this.wf=new x.ppa(this,this.u,a,this.Bb.yb,t,this.rH(),l,this.jb.bind(this),A);I5J=62;break;case 37:I5J=(t.Koa||t.ez)&&this.Bb.Re?36:54;break;case 54:D&&t.pG&&!t.fkb&&(t.set?t.set({enableAdaptiveParallelStreaming:!1}):t.pG=!1);0===Math.floor(1E6*Math.random())%t.dM&&(this.v9a=new u.xxa());this.sr=[];I5J=51;break;case 35:this.JV=void 0;this.U=new na.Bpa(r);this.RV=l||0;this.YE=0;this.x9=m;this.WV=!1;I5J=29;break;case 61:t=t.orb;for(var T in t){f=t[T];t.hasOwnProperty(T)&&f&&(this.I[T]=f);}I5J=59;break;case 25:this.I=t=this.CFa.x5a(b,t);this.zV=n.BC;this.uCa=!!n.eJ;this.n$a=!!n.t3;this.XE=n.RO;I5J=35;break;case 18:this.Ko=A.Ko;this.Xo=new N.Wta(this,this.u,this.jb.bind(this),A);this.Y9a=[!n.wLb,!n.MTb];this.jb(0)&&this.jb(1);this.Bb=a;this.cl=k;I5J=25;break;case 59:this.wf.Boa(this.I);I5J=58;break;case 77:I5J=this.Ko?76:74;break;case 36:this.zf.on(this.Bb.Re,W9U,function(a){var r5J,t9U;r5J=2;while(r5J!==1){t9U="med";t9U+="i";t9U+="ac";t9U+="ache";switch(r5J){case 2:Q.Ka(I,t9U,a);r5J=1;break;case 4:Q.Ka(I,"",a);r5J=3;break;r5J=1;break;}}});I5J=54;break;}}}s5J=2;while(s5J!==119){switch(s5J){case 87:a.prototype.baa=function(a,b){var p8J,c,f,d,m9U;p8J=2;while(p8J!==7){m9U="pts";m9U+="ch";m9U+="an";m9U+="ged";switch(p8J){case 2:c=this.qa.Sb;p8J=5;break;case 5:p8J=c.Qe(a)?4:7;break;case 4:f=this.Xa.Je[a];d=this.Xa.Xv[a];k.W(f.am)&&(f.am=b,1===a&&this.Ao&&(a=this.Xa.Je[0],k.W(a.am)&&(c=c.Qe(0),c.WC(b)),this.emit(m9U,b)));p8J=8;break;case 8:k.W(d.xM)&&(d.xM=b);p8J=7;break;}}};a.prototype.HKa=function(a){var Z8J;Z8J=2;while(Z8J!==1){switch(Z8J){case 2:this.Og&&(this.Og.Nvb(a),this.HEa());Z8J=1;break;}}};a.prototype.zZ=function(a){var c8J;c8J=2;while(c8J!==1){switch(c8J){case 2:this.Og&&(this.Og.Mvb(a),this.HEa());c8J=1;break;}}};a.prototype.HEa=function(){var q8J,a,G9U;q8J=2;while(q8J!==3){G9U="al";G9U+="lCompl";G9U+="e";G9U+="t";G9U+="ed";switch(q8J){case 2:q8J=1;break;case 8:q8J=7;break;q8J=1;break;case 1:q8J=this.Og?5:3;break;case 7:q8J=this.Og?3:7;break;q8J=this.Og?5:3;break;case 5:a=this.I;this.Og.KB()||(this.Og=void 0,a.ZL||this.Ow.px||this.fW(G9U));q8J=3;break;}}};a.prototype.QL=function(){var l8J,a,b,c,f,d,h,n,g;l8J=2;while(l8J!==19){switch(l8J){case 2:a=this;l8J=5;break;case 5:b=this.I;c=this.RP;f=this.Gc[c];d=this.qa.Sb;h=this.U.Ld()||0;l8J=7;break;case 7:n=this.Mr(c,h);g=b.q3;this.Bb.Re&&void 0!==f.oC&&f.oC-h<=b.qOa&&this.Bb.Re.$L(!0,this.cl.sessionId);l8J=13;break;case 13:this.U.Tc()===l.pa.Pc&&([1,0].forEach(function(b){var Y8J,c,f,l,m,q,r,x,V9U;Y8J=2;while(Y8J!==33){V9U="Unable to find reque";V9U+="st presenting ";V9U+="at playerPt";V9U+="s:";switch(Y8J){case 3:q=c.Ja;c.OF(h);(r=a.qa.Qr(h,d,b))&&!r.ni&&(r=a.xf[b].Utb);Y8J=7;break;case 4:Y8J=c?3:33;break;case 19:Y8J=(a.qa.$xb(r,r.Bm),l>a.lV)?18:27;break;case 26:m.dub=r.Bm;f=r.ta;f!=m.jia&&(m.jia=f,b=a.Gc[l].O.Yr(b,f),l=a.Mr(l,r.dd),a.Va.w8a(b,r.dd,l,b.O.Ya));Y8J=23;break;case 22:k.W(r)||r==c.JQa||(c.JQa=r);Y8J=21;break;case 27:a.XE&&r.Bm!=m.dub&&a.Va.B8a(r.Bm);Y8J=26;break;case 5:c=d.Qe(b);Y8J=4;break;case 18:a.lV=l;x=0<l?l-1:null;a.Va.l8a(f,h,r.Bm,null!==x?a.Gc[x].O.G:null,x);Y8J=15;break;case 7:Y8J=r?6:34;break;case 1:Y8J=a.jb(b)?5:33;break;case 20:Y8J=!a.Wk||1===b?19:26;break;case 34:c.eb(V9U,h);Y8J=21;break;case 23:r=r.R;Y8J=22;break;case 11:l=f.Ya;Y8J=10;break;case 15:n=a.Mr(l,h);Y8J=26;break;case 6:q=r.we-h;q<g&&(g=q);m=a.Xa.ns[b];f=r.O;Y8J=11;break;case 21:a.e9a(q,h);a.qa.UBb();Y8J=33;break;case 2:Y8J=1;break;case 10:q=r.Ja;Y8J=20;break;}}}),this.qa.Mq(h,n));this.ff.ki();g=Math.max(g,1);this.lx&&clearTimeout(this.lx);l8J=20;break;case 20:this.lx=setTimeout(this.QL.bind(this),g);l8J=19;break;}}};a.prototype.MU=function(a){var m8J;m8J=2;while(m8J!==1){switch(m8J){case 4:return this.ff.MU(a);break;m8J=1;break;case 2:return this.ff.MU(a);break;}}};a.prototype.ki=function(){var O8J;O8J=2;while(O8J!==1){switch(O8J){case 4:return this.ff.ki();break;O8J=1;break;case 2:return this.ff.ki();break;}}};a.prototype.HA=function(a,b){var x8J,c,f,d,C9U;x8J=2;while(x8J!==11){C9U="abort";C9U+="Request with no r";C9U+="equestManagaer:";switch(x8J){case 3:f=a.L;d=a.abort();a.mc();a.zf&&a.zf.clear();x8J=6;break;case 5:x8J=!c?4:3;break;case 4:return this.eb(C9U,a),!1;break;case 2:c=a.Ja;x8J=5;break;case 6:c.S1(a);this.xf[f].S1(a);!0===b&&this.ff.ki();return d;break;}}};a.prototype.R9a=function(a){var y8J,b,c,y9U;y8J=2;while(y8J!==3){y9U="no";y9U+=" newAudioT";y9U+="ra";y9U+="ck se";y9U+="t";switch(y8J){case 2:b=a.L;c=this.Xa.Je[b];k.W(c.G0)?a.eb(y9U):(this.xf[b].pause(),c.nJ=!0,a=this.Jd.In(0),c=this.Jd.O.getTrackById(c.G0.$a),this.Va.a8a(a,c));y8J=3;break;}}};a.prototype.a9a=function(a){var U8J,b,c,f,d,h,l,n,k,R9U;U8J=2;while(U8J!==22){R9U="audioS";R9U+="witc";R9U+="h";switch(U8J){case 26:this.FBb(c,n,k);U8J=25;break;case 2:b=this;U8J=5;break;case 15:c=this.YE;U8J=27;break;case 27:U8J=c<this.Gc.length?26:24;break;case 13:U8J=(null===(c=this.Og)||void 0===c?0:c.KB())?12:11;break;case 11:c=this.Bb.NY(h.O.ya,[n],0);this.x9[0]=c[0];this.oN.QBa(0,a.O);d.G0=void 0;this.wf.EI(null);this.Z$(0,S.vK.rIa,a);U8J=16;break;case 16:this.qa.ETa(a,!0);U8J=15;break;case 12:this.Og.BDb(function(a){var z8J;z8J=2;while(z8J!==5){switch(z8J){case 1:return b.HA(a,!1),!0;break;case 3:z8J=6!==a.L?2:1;break;z8J=0===a.L?1:5;break;case 2:z8J=0===a.L?1:5;break;case 9:return b.HA(a,+6),~4;break;z8J=5;break;}}}),this.Og.KB()||(this.Og=void 0,f.ZL||this.Ow.px||this.fW(R9U));U8J=11;break;case 5:f=this.I;a=a.Ic;d=this.Xa.Je[0];this.Xa.iu=d.G0;h=this.Jd;l=h.O.getTrackById(this.Xa.iu.$a);U8J=6;break;case 6:n=l.tR;k=this.U.Ld()-a.de;U8J=13;break;case 25:++c;U8J=27;break;case 24:a.YRa(l,k);this.aD(0);U8J=22;break;}}};s5J=104;break;case 72:a.prototype.QV=function(a,b){var b8J,c,d,h,n,k,D9U;b8J=2;while(b8J!==27){D9U="startB";D9U+="uf";D9U+="ferin";D9U+="g";switch(b8J){case 6:this.U.Xd(2===a?l.pa.Ze:l.pa.Dd);this.Va.d8a(b);this.At.reset();this.Jd.O.uP();this.emit(D9U);f.Me.forEach(function(b){var J8J;J8J=2;while(J8J!==5){switch(J8J){case 2:J8J=(b=c.qa.Sb.Kc(b))?1:5;break;case 1:b.Fba=0,b.seeking=0===a||1===a,b.VW();J8J=5;break;}}});b8J=20;break;case 2:c=this;b8J=5;break;case 5:d=this.I;h=this.Xa.Je[0]||{};n=this.Xa.Je[1]||{};b8J=9;break;case 20:this.F9=K.time.ea();h.Ej=n.Ej=this.F9;0===a&&(!this.Wk||0<n.Aq)&&(!this.Ao||0<h.Aq)&&this.Xa.Ct();d.vN&&(this.X9=setTimeout(function(){var s8J;s8J=2;while(s8J!==1){switch(s8J){case 2:c.q9a();s8J=1;break;case 4:c.q9a();s8J=9;break;s8J=1;break;}}},d.Rda));b8J=16;break;case 16:this.U.Bg()&&(this.zE=setTimeout(function(){var I8J;I8J=2;while(I8J!==1){switch(I8J){case 4:c.Xa.Ct();I8J=0;break;I8J=1;break;case 2:c.Xa.Ct();I8J=1;break;}}},d.zq));this.ff.ki();b8J=27;break;case 9:k=this.Xa.Xv[1]||{};(this.Xa.Xv[0]||{}).xM=void 0;k.xM=void 0;b8J=6;break;}}};a.prototype.fW=function(a){var W8J,b,N9U,v9U;W8J=2;while(W8J!==9){N9U="AdoptingD";N9U+="ata ";N9U+="still ";N9U+="has loc";N9U+="k:";v9U="wipeH";v9U+="ead";v9U+="erCach";v9U+="e:";switch(W8J){case 2:S8ii.d9U(0);a=S8ii.q9U(v9U,a);this.Ow.px&&this.$e(N9U+a);b=this.I;b.Rja||(b.Ug&&this.Va.Ek(a),this.Bb.AM(),this.Og&&(this.Og=void 0));W8J=9;break;}}};a.prototype.Xza=function(a){var r8J,c,f,d,h,X9U,r9U,M9U;function b(a,b){var N8J,f,d,h,l,n,g,m,k9U;N8J=2;while(N8J!==15){k9U="adoptPipeline no hea";k9U+="der for streamId";k9U+=":";switch(N8J){case 10:return h;break;case 3:N8J=d?9:16;break;case 20:N8J=!d.Po?19:18;break;case 11:N8J=!a.oLb(l)?10:20;break;case 16:return h;break;case 9:l=d.ta;n=d.Po.stream;g=c.Xa.Je[f];m=c.Xa.Xv[f];k.W(b.kq)||c.wf.JTa(b.kq,b.zk,b.Ak);N8J=13;break;case 19:return a.$e(k9U,l),h;break;case 18:b=c.Jd.O;N8J=17;break;case 2:f=a.L;d=b[f];h=D.resolve(void 0);N8J=3;break;case 13:m.So=b.So;m.Mo=b.Mo;N8J=11;break;case 17:b.nW(d.Po,!b.ve.Cf&&!b.Yi&&1===f,!0)&&(void 0!==a.vC&&a.WC(a.vC),h=b.cj(f,l).stream.Z.jm(a.Lb,void 0,!0),b=n.wi(h),n=b.S,a.gna()&&(b=b.qY(a.Lb))&&0<b.Vc&&(n=b.Vc),a.Lb!==n&&(a.$ma(n,h),c.baa(f,n)),h=c.s5a(a,d.data).then(function(){var u8J;u8J=2;while(u8J!==1){switch(u8J){case 4:return l;break;u8J=1;break;case 2:return l;break;}}}),g.dmb=!0,0===f&&c.wf.EI(d.Po.R));N8J=16;break;}}}r8J=2;while(r8J!==13){X9U="c";X9U+="a";X9U+="t";X9U+="c";X9U+="h";r9U="c";r9U+="heckFo";r9U+="rHcdStart";M9U="Pre";M9U+="v";M9U+="iously adopted request list still ret";M9U+="ained";M9U+=" was unexpected";switch(r8J){case 9:r8J=!this.n$a||!this.Bb.Re?8:7;break;case 2:c=this;(null===(f=this.Og)||void 0===f?0:f.KB())&&this.$e(M9U);r8J=4;break;case 4:this.Og=void 0;d=this.I;r8J=9;break;case 7:this.Va.nk(r9U);this.Gc.forEach(function(b){var a8J;a8J=2;while(a8J!==1){switch(a8J){case 2:b.O.G===a&&(h=b);a8J=1;break;}}});return this.Bb.Re.ovb(a,h?h.O:void 0).then(function(a){var H8J,f,h,e9U,i9U,L9U;H8J=2;while(H8J!==6){e9U="headerCacheD";e9U+="a";e9U+="ta";e9U+="NotFound";i9U="ch";i9U+="eck";i9U+="Fo";i9U+="rHcdE";i9U+="nd";L9U="ad";L9U+="optHc";L9U+="dSt";L9U+="a";L9U+="rt";switch(H8J){case 3:f=c.qa.Sb.Kc(0);h=c.qa.Sb.Kc(1);c.Va.nk(L9U);return c.Ow.iXa(function(){var E8J,l,n,z9U;E8J=2;while(E8J!==6){z9U="a";z9U+="dopt";z9U+="HcdEnd";switch(E8J){case 2:l=D.resolve();c.Wk&&(l=b(h,a));n=D.resolve();E8J=3;break;case 7:return D.all([l,n]);break;case 3:!c.Ao||d.aLa&&!l||(n=d.aLa?l.then(function(c){var w8J;w8J=2;while(w8J!==1){switch(w8J){case 2:return c?b(f,a):D.resolve();break;case 4:return c?b(f,a):D.resolve();break;w8J=1;break;}}}):b(f,a));c.KAa=a;c.Va.nk(z9U);E8J=7;break;}}});break;case 2:c.Va.nk(i9U);H8J=5;break;case 4:return d.ZL||c.Ow.px||c.fW(e9U),D.resolve();break;case 5:H8J=k.W(a)?4:3;break;}}}).then(function(){var d8J,a,f9U;d8J=2;while(d8J!==5){f9U="adoptedCom";f9U+="ple";f9U+="tedReque";f9U+="st";f9U+="s";switch(d8J){case 2:d.ZL||(null===(a=c.Og)||void 0===a?0:a.KB())||c.Ow.px||c.fW(f9U);d8J=5;break;}}})[X9U](function(a){var j8J,u9U;j8J=2;while(j8J!==1){u9U="headerCache:lookupData";u9U+="Promise caught ";u9U+="error:";switch(j8J){case 4:c.eb("",a);j8J=2;break;j8J=1;break;case 2:c.eb(u9U,a);j8J=1;break;}}});break;case 8:return this.Bb.Lba(),D.resolve();break;}}};a.prototype.s5a=function(a,b){var o8J,c,f,d,h,l,n,g;o8J=2;while(o8J!==13){switch(o8J){case 5:o8J=0===b.length?4:3;break;case 2:c=this;o8J=5;break;case 4:return D.resolve();break;case 7:l=a.L;n=this.Xa.Je[l];return this.Ow.iXa(function(){var A8J,m;A8J=2;function f(){var K8J,f,o9U,E9U;K8J=2;while(K8J!==4){o9U="ado";o9U+="ptData, not ado";o9U+="pting fa";o9U+="iled medi";o9U+="aRequest:";E9U="a";E9U+="doptData, not ado";E9U+="pting aborted mediaRequest";E9U+=":";switch(K8J){case 2:f=b.shift();7===f.readyState?a.eb(E9U,f.toString()):6===f.readyState?(a.eb(o9U,f.toString()),c.HA(f,!1)):a.Lb>=f.oc&&a.Lb<f.Vb&&(a.Lb<h||!k.ma(h))?(m.push(c.t5a(a,f).then(function(){var L8J;L8J=2;while(L8J!==1){switch(L8J){case 2:f.complete&&c.HKa(f);L8J=1;break;case 4:f.complete||c.HKa(f);L8J=6;break;L8J=1;break;}}})),a.eGb(f.Vb),k.ma(h)&&a.Lb>=h&&c.Va.J$(d,f.Vb),0===l&&c.wf.EI(f.R),f.complete?(n.Aq+=f.duration,f.Uub&&(n.MP+=f.duration),g=f):(c.Og||(c.Og=new P.npa(c.u)),c.Og.push(f))):c.HA(f,!1);K8J=4;break;}}}while(A8J!==3){switch(A8J){case 2:m=[];A8J=1;break;case 8:m=[];A8J=4;break;A8J=1;break;case 5:f();A8J=1;break;case 1:A8J=0<b.length?5:4;break;case 4:return D.all(m);break;case 7:A8J=1<=b.length?4:9;break;A8J=0<b.length?5:4;break;case 6:f();A8J=5;break;A8J=1;break;case 14:return D.all(m);break;A8J=3;break;}}}).then(function(){var k8J,b,d;k8J=2;while(k8J!==8){switch(k8J){case 2:g&&a.IKa(g);k8J=5;break;case 5:k8J=g||(null===(b=c.Og)||void 0===b?0:b.KB())?4:8;break;case 4:b=c.Gc[f.O.Ya];d=a.Cea(a.Lb);void 0!==d?(a.Dk=d,a.eg=b.O.ig[l].stream.wi(a.Dk)):a.Dk=a.jg?a.jg.index+1:a.Dk+1;k8J=8;break;}}});break;case 3:f=a.O_;d=f.ba;h=Math.min(this.Gc[0].oa||Infinity,f.Vb||Infinity);o8J=7;break;}}};a.prototype.t5a=function(a,b){var P8J,c,f,H5U,c5U,s5U,O5U;P8J=2;while(P8J!==8){H5U="c";H5U+="at";H5U+="ch";c5U=",";c5U+=" ";c5U+="p";c5U+="ts";c5U+=": ";s5U=",";s5U+=" stat";s5U+="e";s5U+=": ";O5U="ado";O5U+="ptMedia";O5U+="Req";O5U+="uest: type: ";switch(P8J){case 2:c=this;f=a.L;this.I.Ug&&this.Va.Ek(O5U+f+s5U+b.readyState+c5U+b.oc);P8J=3;break;case 3:this.baa(f,b.oc);return a.Ja.Bab(b)[H5U](function(a){var D8J,P5U;D8J=2;while(D8J!==1){P5U="Error adopti";P5U+="ng ";P5U+="requests";switch(D8J){case 4:c.$e("",a);D8J=8;break;D8J=1;break;case 2:c.$e(P5U,a);D8J=1;break;}}});break;}}};a.prototype.Z$=function(a,b,c){var f8J,d;f8J=2;while(f8J!==8){switch(f8J){case 3:this.At.reset();(void 0===a?f.Me:[a]).forEach(function(a){var S8J;S8J=2;while(S8J!==1){switch(S8J){case 2:d.jb(a)&&(d.sr[a].reset(),d.A9a(a),d.wf.Nyb(a));S8J=1;break;}}});f8J=8;break;case 2:d=this;void 0===b&&(b=S.vK.tba);(c||this.qa.Sb).ema(a,b);f8J=3;break;}}};a.prototype.Cna=function(a){var v8J,b;v8J=2;while(v8J!==4){switch(v8J){case 5:(void 0===a?f.Me:[a]).forEach(function(a){var Q8J,c;Q8J=2;while(Q8J!==5){switch(Q8J){case 2:null===(c=b.sr[a])||void 0===c?void 0:c.stop();Q8J=5;break;}}});v8J=4;break;case 2:b=this;v8J=5;break;}}};a.prototype.aD=function(a){var g8J,b;g8J=2;while(g8J!==3){switch(g8J){case 2:b=this;(void 0===a?f.Me:[a]).forEach(function(a){var i8J,c;i8J=2;while(i8J!==5){switch(i8J){case 2:null===(c=b.sr[a])||void 0===c?void 0:c.resume();i8J=5;break;}}});return D.resolve();break;}}};a.prototype.IL=function(a){var V8J,b,c;V8J=2;while(V8J!==9){switch(V8J){case 2:b=this;a=void 0===a?f.Me:[a];null===(c=this.At)||void 0===c?void 0:c.reset();a.forEach(function(a){var R8J,c;R8J=2;while(R8J!==5){switch(R8J){case 2:null===(c=b.sr[a])||void 0===c?void 0:c.resume();R8J=5;break;}}});V8J=9;break;}}};a.prototype.A9a=function(a){var F8J,b;F8J=2;while(F8J!==9){switch(F8J){case 4:b.Aq=0;b.MP=0;F8J=9;break;case 2:b=this.Xa.Je[a];this.Xa.ns[a].jia=void 0;F8J=4;break;}}};s5J=87;break;case 48:a.prototype.Gga=function(){var R9J;R9J=2;while(R9J!==1){switch(R9J){case 2:return this.U.av(this.Jd.O);break;case 4:return this.U.av(this.Jd.O);break;R9J=1;break;}}};a.prototype.Yza=function(a){var F9J,b,c,f;F9J=2;while(F9J!==20){switch(F9J){case 14:return!1;break;case 10:return(!this.Ao||a&&a.stream.Vd)&&b?!0:!1;break;case 1:F9J=a>=this.Gc.length?5:4;break;case 13:a=c.ig[0];b=c.ig[1];b=!this.Wk||b&&b.stream.Vd;F9J=10;break;case 2:F9J=1;break;case 5:return!1;break;case 4:b=this.qa.Sb.Kc(0);c=this.qa.Sb.Kc(1);b=!b||b.Jg;f=!c||c.Jg;c=this.Gc[a].O;F9J=6;break;case 6:F9J=!(a===this.YE+1&&c.ve.replace||b&&f)||!this.U.av(c)?14:13;break;}}};a.prototype.eW=function(){var p9J;p9J=2;while(p9J!==1){switch(p9J){case 2:this.dW(this.YE+1);p9J=1;break;case 4:this.dW(this.YE/2);p9J=9;break;p9J=1;break;}}};a.prototype.dW=function(a){var Z9J,b;Z9J=2;while(Z9J!==14){switch(Z9J){case 3:Z9J=b.slb||!b.O.ve.replace?9:8;break;case 1:Z9J=!this.Yza(a)?5:4;break;case 4:b=this.Gc[a];Z9J=3;break;case 2:Z9J=1;break;case 9:return!1;break;case 5:return!1;break;case 8:this.Z9a(a);this.ff.ki();return!0;break;}}};a.prototype.Z9a=function(a){var c9J,b,c,f,d,h,j5U,g5U,A5U;c9J=2;while(c9J!==17){j5U=",";j5U+=" ";g5U=", st";g5U+="rea";g5U+="min";g5U+="gPts:";g5U+=" ";A5U="switchManifest manifest";A5U+="I";A5U+="ndex: ";switch(c9J){case 4:f=c.Qe(0);f=f?f.Lb:void 0;d=c.Qe(1);d=d?d.Lb:void 0;c9J=7;break;case 10:this.aBa(a);b.Xja();this.Jl.c$();this.ff.ki();c9J=17;break;case 7:this.I.Ug&&this.Va.Ek(A5U+a+g5U+f+j5U+d);f=this.Jd;d=f.O.ve.Cf;c9J=13;break;case 2:b=this.Gc[a];c=this.qa.Sb;c9J=4;break;case 13:h=[];[1,0].forEach(function(a){var q9J;q9J=2;while(q9J!==1){switch(q9J){case 2:b.O.jb(a)&&(h[a]=b.In(a));q9J=1;break;}}});d?this.qa.GDb(f.O,b.O,h):c.WTa(b.O,h);c9J=10;break;}}};a.prototype.CPa=function(){var l9J,a,b,c,f,K5U,U5U;l9J=2;while(l9J!==12){K5U="onAudioTrack";K5U+="SwitchStarted ignor";K5U+="ed, no audi";K5U+="o";K5U+=" pipeline";U5U="onAudioTrackS";U5U+="w";U5U+="itchStarted but current playing request not found";switch(l9J){case 6:f.nJ=!1;this.ff.ki();l9J=12;break;case 4:l9J=b?3:13;break;case 3:c=this.U.Ld();f=this.Xa.Je[b.L];(a=this.qa.Qr(c,a,0))?b=a.Ja:(this.eb(U5U),b=b.Ja);this.a9a(b);l9J=6;break;case 13:this.eb(K5U);l9J=12;break;case 2:a=this.qa.Sb;b=a.Qe(0);l9J=4;break;}}};a.prototype.$Ua=function(a){var Y9J,b,c,f,d,h,a5U,I5U,S5U,T5U,n5U,p5U,Z5U,b5U;Y9J=2;while(Y9J!==35){a5U="switchTracks reject";a5U+="ed, previous switch still waitin";a5U+="g to start";I5U="switchTracks reje";I5U+="cted";I5U+=", buf";I5U+="ferLev";I5U+="elMs";S5U=" ";S5U+="t";S5U+="o:";S5U+=" ";T5U="swi";T5U+="tchT";T5U+="racks curr";T5U+="e";T5U+="nt: ";n5U="switc";n5U+="hTr";n5U+="acks rejected, previ";n5U+="ous switch still in ";n5U+="progress: ";p5U="swi";p5U+="tchTracks rejecte";p5U+="d, ";p5U+="audio dis";p5U+="abled";Z5U="switchTracks can't";Z5U+=" fi";Z5U+="nd trackId:";b5U="switc";b5U+="hTracks rejected,";b5U+=" buff";b5U+="ering";switch(Y9J){case 7:return this.eb(b5U),!1;break;case 18:a=a.PA;d=this.Jd.O.getTrackById(a);Y9J=16;break;case 15:return this.eb(Z5U,a),!1;break;case 16:Y9J=!d?15:27;break;case 4:return this.eb(p5U),!1;break;case 14:Y9J=c.nJ?13:12;break;case 26:Y9J=h===d.$a?25:24;break;case 20:Y9J=d<b.p0?19:18;break;case 11:Y9J=this.U.Tc()===l.pa.Pc?10:18;break;case 12:f=this.qa.Sb;Y9J=11;break;case 9:return this.eb(n5U+JSON.stringify(this.Xa.iu)),!1;break;case 24:b.Ug&&this.Va.Ek(T5U+h+S5U+d.$a);c.G0={$a:a};this.R9a(f.Qe(0));return!0;break;case 6:c=this.Xa.Je[0];Y9J=14;break;case 5:Y9J=!this.Ao?4:3;break;case 3:Y9J=this.Xa.iu?9:8;break;case 10:d=this.qa.Gr(f,1);Y9J=20;break;case 19:return this.eb(I5U,d,"<",b.p0),!1;break;case 13:return this.eb(a5U),!1;break;case 2:b=this.I;Y9J=5;break;case 8:Y9J=this.U.Bg()?7:6;break;case 27:h=this.Jd.In(0).$a;Y9J=26;break;case 25:return!1;break;}}};a.prototype.Uv=function(a,b){var m9J;m9J=2;while(m9J!==1){switch(m9J){case 2:this.Xa.Uv(a,b);m9J=1;break;case 4:this.Xa.Uv(a,b);m9J=3;break;m9J=1;break;}}};a.prototype.Qr=function(a,b,c){var O9J;O9J=2;while(O9J!==1){switch(O9J){case 2:return this.qa.Qr(a,this.qa.Mk,b,c);break;}}};a.prototype.ru=function(a){var x9J;x9J=2;while(x9J!==1){switch(x9J){case 4:return this.Jl.ru(a);break;x9J=1;break;case 2:return this.Jl.ru(a);break;}}};s5J=59;break;case 32:a.prototype.BR=function(){var B9J;B9J=2;while(B9J!==1){switch(B9J){case 2:this.U.BR();B9J=1;break;case 4:this.U.BR();B9J=0;break;B9J=1;break;}}};a.prototype.close=function(){var e9J;e9J=2;while(e9J!==4){switch(e9J){case 1:this.Gc.forEach(function(a){var G9J;G9J=2;while(G9J!==1){switch(G9J){case 4:a.close();G9J=8;break;G9J=1;break;case 2:a.close();G9J=1;break;}}});this.Xo.close();e9J=4;break;case 2:this.ATa.ad();e9J=1;break;}}};a.prototype.kSa=function(){var b9J;b9J=2;while(b9J!==1){switch(b9J){case 2:this.Bb.m9a(this);b9J=1;break;case 4:this.Bb.m9a(this);b9J=0;break;b9J=1;break;}}};a.prototype.mc=function(){var J9J,a,F5U;J9J=2;while(J9J!==20){F5U="Error";F5U+=" on MediaSour";F5U+="ce des";F5U+="troy: ";switch(J9J){case 2:this.wf.Byb();this.JU();J9J=4;break;case 4:this.qa.ad();this.oN.s6a();null===(a=this.At)||void 0===a?void 0:a.reset();this.sr.forEach(function(a){var s9J;s9J=2;while(s9J!==1){switch(s9J){case 2:a.reset();s9J=1;break;case 4:a.reset();s9J=5;break;s9J=1;break;}}});this.U.Xd(l.pa.Rl);this.Gc.forEach(function(a){var I9J;I9J=2;while(I9J!==1){switch(I9J){case 2:a.mc();I9J=1;break;case 4:a.mc();I9J=2;break;I9J=1;break;}}});this.Gc=[];J9J=13;break;case 13:this.zf.clear();a=this.bf;this.bf=void 0;J9J=10;break;case 10:k.W(a)||a.Xp()||this.eb(F5U,a.error);J9J=20;break;}}};a.prototype.suspend=function(){var W9J;W9J=2;while(W9J!==1){switch(W9J){case 2:this.Xo.suspend();W9J=1;break;case 4:this.Xo.suspend();W9J=4;break;W9J=1;break;}}};a.prototype.resume=function(){var r9J;r9J=2;while(r9J!==1){switch(r9J){case 4:this.Xo.resume();r9J=5;break;r9J=1;break;case 2:this.Xo.resume();r9J=1;break;}}};a.prototype.el=function(){var N9J;N9J=2;while(N9J!==1){switch(N9J){case 2:return this.Xo.el();break;case 4:return this.Xo.el();break;N9J=1;break;}}};a.prototype.N9a=function(){var u9J,a;u9J=2;while(u9J!==7){switch(u9J){case 2:a=this.I;this.lx&&clearTimeout(this.lx);this.lx=setTimeout(this.QL.bind(this),a.q3);u9J=3;break;case 3:this.zt||(this.zt=setInterval(this.Va.pBa.bind(this.Va),a.TA));this.YV||(this.YV=setInterval(this.Va.A8a.bind(this.Va),a.Gna));this.Ds&&!this.CU&&(this.CU=setInterval(this.Va.oBa.bind(this.Va),a.hba));u9J=7;break;}}};a.prototype.JU=function(){var a9J;a9J=2;while(a9J!==7){switch(a9J){case 2:this.lx&&(clearTimeout(this.lx),this.lx=void 0);this.zt&&(clearInterval(this.zt),this.zt=void 0);this.YV&&(clearInterval(this.YV),this.YV=void 0);a9J=4;break;case 4:this.CU&&(clearInterval(this.CU),this.CU=void 0);this.zE&&(clearTimeout(this.zE),this.zE=void 0);this.X9&&(clearTimeout(this.X9),this.X9=void 0);this.ff.JU();a9J=7;break;}}};a.prototype.play=function(){var H9J;H9J=2;while(H9J!==1){switch(H9J){case 4:this.Xo.play();H9J=8;break;H9J=1;break;case 2:this.Xo.play();H9J=1;break;}}};s5J=39;break;case 13:Object.defineProperties(a.prototype,{Ds:{get:function(){var k5J;k5J=2;while(k5J!==1){switch(k5J){case 2:return this.v9a;break;case 4:return this.v9a;break;k5J=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RO:{get:function(){var P5J;P5J=2;while(P5J!==1){switch(P5J){case 2:return this.XE;break;case 4:return this.XE;break;P5J=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{BC:{get:function(){var D5J;D5J=2;while(D5J!==1){switch(D5J){case 4:return this.zV;break;D5J=1;break;case 2:return this.zV;break;}}},enumerable:!1,configurable:!0}});a.prototype.jb=function(a){var f5J;f5J=2;while(f5J!==1){switch(f5J){case 2:return this.Y9a[a];break;case 4:return this.Y9a[a];break;f5J=1;break;}}};a.prototype.NN=function(){var S5J;S5J=2;while(S5J!==1){switch(S5J){case 4:return K.time.ea()+this.F9;break;S5J=1;break;case 2:return K.time.ea()-this.F9;break;}}};a.prototype.NJa=function(){var v5J;v5J=2;while(v5J!==1){switch(v5J){case 2:return(this.Gc||[]).reduce(function(a,b){var Q5J,c;Q5J=2;while(Q5J!==3){switch(Q5J){case 2:c=b.O;f.Me.forEach(function(b){var g5J;g5J=2;while(g5J!==1){switch(g5J){case 2:c.sq[b]>a[b]&&(a[b]=c.sq[b]);g5J=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.rH=function(){var i5J,a;i5J=2;while(i5J!==3){switch(i5J){case 2:a=0;k.forEach(this.Jd.O.ya.audio_tracks,function(b){var V5J;V5J=2;while(V5J!==1){switch(V5J){case 2:k.forEach(b.streams,function(b){var R5J;R5J=2;while(R5J!==1){switch(R5J){case 2:a=Math.max(a,b.bitrate);R5J=1;break;}}});V5J=1;break;}}});return a;break;}}};a.prototype.fg=function(a){var F5J;F5J=2;while(F5J!==1){switch(F5J){case 4:return this.Gc[a];break;F5J=1;break;case 2:return this.Gc[a];break;}}};a.prototype.uob=function(){var p5J,a;p5J=2;while(p5J!==4){switch(p5J){case 5:return a.O.ve.Cf?this.Gc[1]:a;break;case 2:a=this.Gc[0];p5J=5;break;}}};a.prototype.LG=function(){var Z5J;Z5J=2;while(Z5J!==1){switch(Z5J){case 4:return this.Gc.length;break;Z5J=1;break;case 2:return this.Gc.length;break;}}};s5J=27;break;case 94:a.prototype.f7a=function(a,b){var I23;I23=2;while(I23!==5){switch(I23){case 2:b=n.PJa(b);this.x9[a.L]=b;I23=5;break;}}};Object.defineProperties(a.prototype,{iu:{set:function(a){var W23;W23=2;while(W23!==1){switch(W23){case 2:this.Xa.iu=a;W23=1;break;case 4:this.Xa.iu=a;W23=5;break;W23=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.dZ=function(a){var r23,b;r23=2;while(r23!==4){switch(r23){case 2:this.Gc.some(function(c){var N23;N23=2;while(N23!==1){switch(N23){case 2:return c.O.Lk===a?(b=c.O.Ya,!0):!1;break;}}});return b;break;}}};return a;break;case 39:a.prototype.stop=function(){var E9J;E9J=2;while(E9J!==1){switch(E9J){case 4:this.Xo.stop();E9J=6;break;E9J=1;break;case 2:this.Xo.stop();E9J=1;break;}}};a.prototype.Ry=function(a,b,c){var w9J;w9J=2;while(w9J!==5){switch(w9J){case 2:c&&(V.assert(void 0===b),b=this.dZ(c));return this.Jl.Ry(a,b);break;}}};a.prototype.seek=function(a,b){var d9J;d9J=2;while(d9J!==1){switch(d9J){case 2:return this.Jl.seek(a,b);break;case 4:return this.Jl.seek(a,b);break;d9J=1;break;}}};a.prototype.fWa=function(a){var j9J,b,c,d,h,n,K9J,G5U,m5U,t5U,W5U,w5U;j9J=2;while(j9J!==26){G5U="branc";G5U+="h";G5U+="O";G5U+="ffset";G5U+=":";m5U="e";m5U+="n";m5U+="try";m5U+=".man";m5U+="ifestOffset:";t5U="co";t5U+="nte";t5U+="ntPts:";W5U="underflow: going to BUF";W5U+="FERING a";W5U+="t player pts:";w5U="un";w5U+="der";w5U+="f";w5U+="low";switch(j9J){case 2:b=this;c=this.I;d=this.Mr(this.RP,a);j9J=3;break;case 12:f.Me.forEach(function(f){var A9J,d,h,l,l5U,Y5U,h5U,B5U,J5U,Q5U,d5U,x5U,q5U;A9J=2;while(A9J!==14){l5U=", toA";l5U+="pp";l5U+="en";l5U+="d: ";Y5U=", fr";Y5U+="a";Y5U+="gments:";Y5U+=" ";h5U=", completeS";h5U+="t";h5U+="ream";h5U+="ingPts:";h5U+=" ";B5U=", ";B5U+="str";B5U+="eami";B5U+="ngPts: ";J5U=", pa";J5U+="rtials";J5U+=": ";Q5U=", com";Q5U+="ple";Q5U+="t";Q5U+="edByt";Q5U+="es: ";d5U=", ";d5U+="comple";d5U+="tedMs";d5U+=":";d5U+=" ";x5U=", mediaTy";x5U+="p";x5U+="e";x5U+=": ";q5U="underfl";q5U+="ow";q5U+=": ";switch(A9J){case 2:d=n.Kc(f);A9J=5;break;case 4:A9J=c.Ug?3:7;break;case 5:A9J=d?4:14;break;case 8:h=q5U+a+x5U+f+d5U+d.RF+Q5U+l+J5U+d.Ja.Ev+B5U+d.Lb+h5U+d.Ir+Y5U+JSON.stringify(d.Ja.Z)+l5U+(h&&h.r2());A9J=7;break;case 7:c.Ug&&b.Va.Ek(h);d.VW();A9J=14;break;case 3:h=b.xf[f];l=b.qa.XA(n,f);A9J=8;break;}}});this.Jd.O.Fk();this.emit(w5U);this.QV(2);j9J=19;break;case 18:j9J=this.Ko?17:16;break;case 3:this.eb(W5U,a,t5U,d,m5U,this.Jd.hs,G5U,this.qa.de);ga.G8.MDb();h=c.qv;this.xf.forEach(function(b){var o9J;o9J=2;while(o9J!==1){switch(o9J){case 2:h=Math.max(0,Math.min(h,b.Lfa-a));o9J=1;break;}}});this.V$+=1;this.qa.Sb.Doa(d,this.I.Sna);n=this.qa.Sb;j9J=12;break;case 19:this.ff.ki();j9J=18;break;case 17:try{K9J=2;while(K9J!==1){switch(K9J){case 2:this.fY(l.pa.Dd);K9J=1;break;case 4:this.fY(l.pa.Dd);K9J=4;break;K9J=1;break;}}}catch(Ma){var V5U;V5U="Hindsight: Error when ev";V5U+="aluating QoE at Buffer";V5U+="ing:";V5U+=" ";S8ii.Q9U(0);this.Va.xm(S8ii.x9U(V5U,Ma));}j9J=16;break;case 16:d=this.Bb.yb.get();d=d.yd?d.Ga.Da:0;h>c.vlb&&d>c.ulb&&this.eaa();j9J=26;break;}}};a.prototype.mj=function(a){var L9J;L9J=2;while(L9J!==1){switch(L9J){case 2:return this.Jl.mj(a);break;case 4:return this.Jl.mj(a);break;L9J=1;break;}}};a.prototype.vu=function(a,b,c){var k9J;k9J=2;while(k9J!==1){switch(k9J){case 4:return this.Jl.vu(a,b,c);break;k9J=1;break;case 2:return this.Jl.vu(a,b,c);break;}}};a.prototype.aBa=function(a){var P9J,b;P9J=2;while(P9J!==9){switch(P9J){case 2:this.YE=a;b=this.Gc[a];this.Va.n8a(a,b);P9J=3;break;case 3:this.Va.qBa(b.O.sq);P9J=9;break;}}};a.prototype.ICa=function(a,b,c){var D9J,f,d,h,l,n,g,m,i5U,z5U,L5U,r5U,M5U,k5U,N5U,v5U,D5U,R5U,y5U,C5U;D9J=2;while(D9J!==28){i5U="addManifest ig";i5U+="nored, pipelines already set EO";i5U+="S:";z5U="v";z5U+="ide";z5U+="o_tra";z5U+="c";z5U+="ks";L5U="audio";L5U+="_tra";L5U+="c";L5U+="ks";r5U="addManifest: pipelin";r5U+="es already shut";r5U+="down";M5U="ad";M5U+="dManifest ";M5U+="in fastplay";M5U+=" but not drm manifest, leaving space for it";k5U="b";k5U+="oolea";k5U+="n";N5U=",";N5U+=" ";v5U=") last";v5U+="Str";v5U+="eamAppende";v5U+="d:";v5U+=" (";D5U=",";D5U+=" ";R5U=" ";R5U+="str";R5U+="e";R5U+="amCount:";R5U+=" (";y5U=" pla";y5U+="yerSta";y5U+="te: ";C5U="add";C5U+="Manifest, current";C5U+="Pts: ";switch(D9J){case 31:a.O.qI([a.In(0),a.In(1)]);this.eW();return!0;break;case 21:b=this.Xa.ns[0].WB;c=this.Xa.ns[1].WB;d.Ug&&this.Va.Ek(C5U+this.U.Ld()+y5U+this.U.Tc()+R5U+a.In(0).Nc.length+D5U+a.In(1).Nc.length+v5U+b+N5U+c+")");D9J=33;break;case 15:b.replace&&c.forEach(function(a,b){var f9J,c,d;f9J=2;while(f9J!==9){switch(f9J){case 4:d=f.Gc[0].O;Object.keys(c).forEach(function(a){var S9J,f;S9J=2;while(S9J!==4){switch(S9J){case 2:f=d.Yr(b,a);f&&f.Vd&&(c[a].fX(f),a=g.sq,a[b]>m[b]&&(m[b]=a[b]));S9J=4;break;}}});f9J=9;break;case 2:c=g.QG(b);f9J=5;break;case 5:f9J=c?4:9;break;}}});c.forEach(function(a,b){var v9J,c;v9J=2;while(v9J!==4){switch(v9J){case 1:c=g.QG(b);c&&Object.keys(c).forEach(function(a){var Q9J,f;Q9J=2;while(Q9J!==3){switch(Q9J){case 2:f=K.yk()[b];1===b&&0<d.ls&&(f=Math.min(f,d.ls));c[a].nWa(f,g.Yu()?d.SNa:0);Q9J=3;break;}}});v9J=4;break;case 2:v9J=1;break;}}});a.bM=k5U===typeof b.PDa?b.PDa:!0;this.Gc[h]&&this.Gc[h].mc();D9J=24;break;case 13:b.BC&&(this.zV=!0);h=this.Gc.length;b.replace&&1!==h?h=1:this.Jd.O.ve.Cf&&!b.replace&&1===h&&(this.eb(M5U),h=this.Gc[0].clone(),this.Gc.push(h),h=this.Gc.length);l=b.S||0;n=b.oa;D9J=19;break;case 3:this.eb(r5U);D9J=28;break;case 19:a=q.D6.create({Ya:h,ya:a,Lk:c,nTa:b.rJb||[this.Jd.UY(0),this.Jd.UY(1)],Cf:!1,ZLa:!!b.replace,Yi:!!b.Yi,Dr:b.Dr||this.Oza,S:l,oa:n,Va:this.Va,$r:this.GAa.bind(this),jb:this.jb.bind(this),tb:this,config:this.I,u:this.u,ff:this.ff,Jl:this.Jl,Re:this.uCa?this.Bb.Re:void 0,gy:this.gy});g=a.O;c=[L5U,z5U];m=this.NJa();D9J=15;break;case 14:this.eb(i5U,h.Tm,l.Tm);D9J=28;break;case 24:this.Gc[h]=a;a.uEa();b.replace||this.qa.kab(g,l,n);D9J=21;break;case 6:D9J=!b.Lrb&&(this.Ao&&h.Tm||this.Wk&&l.Tm)?14:13;break;case 4:D9J=this.el()?3:9;break;case 33:D9J=this.Ao&&k.W(b)||this.Wk&&k.W(c)?32:31;break;case 9:b||(b={});h=this.qa.Sb.Kc(0);l=this.qa.Sb.Kc(1);D9J=6;break;case 32:return!0;break;case 2:f=this;d=this.I;D9J=4;break;}}};a.prototype.UL=function(a){var g9J;g9J=2;while(g9J!==1){switch(g9J){case 2:return this.Jl.UL(a);break;case 4:return this.Jl.UL(a);break;g9J=1;break;}}};a.prototype.SX=function(a,b){var i9J,c,f,d,u5U,X5U,f5U,e5U;i9J=2;while(i9J!==14){u5U=" readySta";u5U+="te";u5U+=": ";X5U=" for mo";X5U+="vieI";X5U+="d: ";f5U=",";f5U+=" ";e5U="drmRe";e5U+="ady at st";e5U+="reaming pt";e5U+="s:";e5U+=" ";switch(i9J){case 2:i9J=1;break;case 1:c=this.I;i9J=5;break;case 5:i9J=!this.el()?4:14;break;case 4:k.W(b)&&(b=!0);f=this.qa.Sb.Kc(0);d=this.qa.Sb.Kc(1);i9J=8;break;case 8:c.Ug&&this.Va.Ek(e5U+(f?f.Lb:null)+f5U+(d?d.Lb:null)+X5U+a+u5U+b);S8ii.d9U(0);this.U.IQ(S8ii.x9U(a,""),b);b&&(this.xf.forEach(function(a){var V9J;V9J=2;while(V9J!==5){switch(V9J){case 2:c.xY&&a.kIa();c.mJ&&a.resume();V9J=5;break;}}}),c.mJ&&this.IL(),this.Jd.O.ve.Cf&&this.dW(this.Jl.dx?this.Jl.dx.Ya:this.YE+1),this.Jl.c$());i9J=14;break;}}};s5J=48;break;case 104:a.prototype.FBb=function(a,b,c){var h8J,f;h8J=2;while(h8J!==6){switch(h8J){case 3:h8J=a.O.MZ?9:7;break;case 2:r.Ll.Kn(0);a=this.Gc[a];a.Aoa(b);h8J=3;break;case 9:a.In(0).Nc.some(function(a){var M8J;M8J=2;while(M8J!==4){switch(M8J){case 5:return!!f;break;case 1:M8J=!(f&&f.stream&&f.stream.Z&&c<f.stream.Z.Sh(0))?5:4;break;case 7:return- -f;break;M8J=4;break;case 2:f=a.cj();M8J=1;break;}}});h8J=8;break;case 8:f?(a.O.ig[0]=f,a.ZP=!1,f.stream.Vd&&a.LW()):(a.O.ig[0]=void 0,a.ZP=!1,a.O.qI([a.In(0)],!0,0));h8J=7;break;case 7:this.IL(0);h8J=6;break;}}};a.prototype.e9a=function(a,b){var X8J,c;X8J=2;while(X8J!==3){switch(X8J){case 4:k.W(a)||this.ff.ki();X8J=3;break;case 2:c=this.xf[a.L];a=this.qa.UP(a.Ic,a.L,b,this.Bb.Ty||0,function(a){var t23;t23=2;while(t23!==1){switch(t23){case 4:c.S1(a);t23=3;break;t23=1;break;case 2:c.S1(a);t23=1;break;}}});X8J=4;break;}}};a.prototype.b7a=function(a){var C23,b;C23=2;while(C23!==8){switch(C23){case 2:b=a.mediaType;a=this.Gc[a.manifestIndex].O.Yr(b,a.streamId);C23=4;break;case 4:this.L9a(this.qa.Sb.Qe(b),a);this.I=this.CFa.z5a(a.bg,this.I);this.Gc.forEach(function(a,b){var n23,c;n23=2;while(n23!==4){switch(n23){case 2:c=a.O;c.MZ||0===b||c.qI([a.In(0),a.In(1)]);n23=4;break;}}});C23=8;break;}}};a.prototype.e7a=function(a){var T23,b,c;T23=2;while(T23!==7){switch(T23){case 3:c.Kvb(a);b.Pea&&this.Va.f8a(b);b.ev&&this.Va.u8a(a,b.O.Ya,c.ba);T23=7;break;case 2:b=a.request;a=a.mediaType;c=b.Ja.Ic;T23=3;break;}}};a.prototype.L9a=function(a,b){var B23;B23=2;while(B23!==1){switch(B23){case 2:this.Xa.ns[a.L].WB={id:b.ta,index:b.Gg,R:b.R,Ga:b.mb&&b.mb.yd&&b.mb.Ga?b.mb.Ga.Da:0,location:b.location};B23=1;break;}}};a.prototype.j_=function(a){var e23,b,c,f,d,h,l,n,k,g,m;e23=2;while(e23!==17){switch(e23){case 9:k=n.Sb;g=k.Kc(0);m=k.Kc(1);h.vspts=null!==(b=null===m||void 0===m?void 0:m.Lb)&&void 0!==b?b:0;e23=14;break;case 2:h={};l=this.xf;n=this.qa;e23=3;break;case 20:a&&(h.a=null===g||void 0===g?void 0:g.Ja.Z.toJSON(),h.v=null===m||void 0===m?void 0:m.Ja.Z.toJSON());e23=19;break;case 19:a&&l&&(a=l[1],l=l[0],h.atoappend=null===a||void 0===a?void 0:a.r2(),h.vtoappend=null===l||void 0===l?void 0:l.r2());e23=18;break;case 3:e23=!n.Sb.Sp?9:18;break;case 14:h.aspts=null!==(c=null===g||void 0===g?void 0:g.Lb)&&void 0!==c?c:0;h.vbuflbytes=null!==(f=null===m||void 0===m?void 0:m.Fo.aa)&&void 0!==f?f:0;h.abuflbytes=null!==(d=null===g||void 0===g?void 0:g.Fo.aa)&&void 0!==d?d:0;e23=11;break;case 11:h.vbuflmsec=n.Gr(k,1);h.abuflmsec=n.Gr(k,0);e23=20;break;case 18:return h;break;}}};a.prototype.kKa=function(a){var G23,b,c,f,d,h,l,n;G23=2;while(G23!==12){switch(G23){case 3:f=this.Xa.ns[a];d=this.qa.XA(b,a);f=f.WB?f.WB.R:0;h=c.Ja.d1;l=this.qa.de;G23=14;break;case 2:b=this.qa.Sb;c=b.Qe(a);G23=4;break;case 14:n=K.yk()[a];return{type:a,availableMediaBuffer:n-d,completeBuffer:b.ti(a),incompleteBuffer:h,playbackBitrate:c.JQa,streamingBitrate:f,streamingTime:c.Lb+l,usedMediaBuffer:d,toappend:c.ILb};break;case 4:G23=c?3:12;break;}}};a.prototype.RDb=function(){var b23,a,E5U;b23=2;while(b23!==4){E5U="request";E5U+="Garb";E5U+="ageC";E5U+="ollection";switch(b23){case 2:a={type:E5U,time:K.time.ea()};Q.Ka(this,a.type,a);b23=4;break;}}};a.prototype.il=function(a,b,c,f,d,h){var J23,o5U;J23=2;while(J23!==1){o5U="NFErr_";o5U+="MC_";o5U+="Streamin";o5U+="gFa";o5U+="ilure";switch(J23){case 2:this.WV||(k.W(c)&&(c=o5U),this.WV=!0,this.Va.y8a(c,a,f,d,h,void 0!==b?b:this.RP));J23=1;break;}}};a.prototype.GAa=function(){var s23,O8U;s23=2;while(s23!==5){O8U="Netwo";O8U+="rk failures re";O8U+="se";O8U+="t!";switch(s23){case 2:this.eb(O8U);this.ff.ki();s23=5;break;}}};s5J=94;break;case 27:a.prototype.Bha=function(a,b){var c5J;c5J=2;while(c5J!==9){switch(c5J){case 1:return!0;break;case 5:a=this.Gc[a];b=this.Gc[b];return a.O.ve.Cf&&b.O.ve.ZO||b.O.ve.Cf&&a.O.ve.ZO;break;case 2:c5J=a===b?1:5;break;}}};a.prototype.gZ=function(){var q5J;q5J=2;while(q5J!==1){switch(q5J){case 2:return this.qa.Mk.ba.id;break;case 4:return this.qa.Mk.ba.id;break;q5J=1;break;}}};a.prototype.QY=function(a){var l5J;l5J=2;while(l5J!==5){switch(l5J){case 2:l5J=(a=this.qa.Mk.children[a])?1:5;break;case 1:return{de:a.de,dd:a.Vka,we:a.we,oc:a.l2,Vb:a.Vb};break;}}};a.prototype.fZ=function(){var Y5J,a;Y5J=2;while(Y5J!==4){switch(Y5J){case 1:a=this.qa.Mk;return{id:a.ba.id,de:a.de,dd:a.Vka,we:a.we,oc:a.l2,Vb:a.Vb};break;case 2:Y5J=1;break;}}};a.prototype.l3=function(a,b){var m5J;m5J=2;while(m5J!==1){switch(m5J){case 2:return this.qa.l3(a,b);break;case 4:return this.qa.l3(a,b);break;m5J=1;break;}}};a.prototype.open=function(){var O5J,a,b,c,f,d,h,l,n,g,m,q8U,F8U,a8U,I8U,S8U,n8U,p8U,b8U,H8U,c8U,s8U;O5J=2;while(O5J!==28){q8U="NFEr";q8U+="r";q8U+="_M";q8U+="C_StreamingInitFailure";F8U="ex";F8U+="ception";F8U+=" i";F8U+="n in";F8U+="it";a8U="Erro";a8U+="r";a8U+=":";I8U="s";I8U+="t";I8U+="artpl";I8U+="ay";S8U="logd";S8U+="a";S8U+="ta";n8U="N";n8U+="FErr_MC_StreamingInitFailur";n8U+="e";p8U="st";p8U+="artPts must ";p8U+="be a";p8U+=" p";p8U+="ositive number, not ";b8U="cre";b8U+="ateM";b8U+="edi";b8U+="aSourceEnd";H8U="createMediaSo";H8U+="urce";H8U+="Start";c8U="he";c8U+="a";c8U+="de";c8U+="r";c8U+="s";s8U="E";s8U+="rro";s8U+="r:";switch(O5J){case 16:O5J=1===g.readyState?15:29;break;case 3:b=this.I;c=this.Jd.O;f=c.G;O5J=7;break;case 24:throw this.Aj(s8U,g.error),g.error;O5J=23;break;case 7:d=[];h=[c8U];this.Wk&&(d.push(1),h.push(1));O5J=13;break;case 18:this.Va.nk(H8U);g=new T(this.U.YA);O5J=16;break;case 2:a=this;O5J=5;break;case 23:g.sourceBuffers.forEach(function(c){var y5J,f,d,K8U,U8U,j8U,g8U,P8U;y5J=2;while(y5J!==11){K8U="reques";K8U+="tA";K8U+="ppen";K8U+="d";K8U+="ed";U8U="hea";U8U+="derAp";U8U+="pen";U8U+="ded";j8U="m";j8U+="a";j8U+="nagerdebugevent";g8U="l";g8U+="o";g8U+="gd";g8U+="ata";P8U="er";P8U+="r";P8U+="or";switch(y5J){case 7:c.addListener(P8U,function(b){var U5J,A8U;U5J=2;while(U5J!==1){A8U="NFErr_MC";A8U+="_St";A8U+="rea";A8U+="mingFa";A8U+="ilure";switch(U5J){case 2:a.il(b.errorstr,void 0,A8U);U5J=1;break;}}});c.addListener(g8U,function(b){var z5J;z5J=2;while(z5J!==1){switch(z5J){case 4:Q.Ka(a,b.type,b);z5J=5;break;z5J=1;break;case 2:Q.Ka(a,b.type,b);z5J=1;break;}}});b.Ug&&c.addListener(j8U,function(b){var h5J;h5J=2;while(h5J!==1){switch(h5J){case 2:Q.Ka(a,b.type,b);h5J=1;break;case 4:Q.Ka(a,b.type,b);h5J=0;break;h5J=1;break;}}});a.xf[f]=c;y5J=12;break;case 4:c=new t.k4(d.u,f,g,c,b,a.U,a.fg.bind(a));d=new A.Ota(c,f,a.qa,a.I,d.u);c.addListener(U8U,a.b7a.bind(a));c.addListener(K8U,a.e7a.bind(a));y5J=7;break;case 12:a.sr[f]=d;y5J=11;break;case 2:f=c.L;d=a.Xa.Je[f];y5J=4;break;}}});this.At=new O.UT(this.sr,this.kF.bind(this),this.U.Ld.bind(this.U));this.Ds&&this.Va.Z7a();c=this.NJa();O5J=34;break;case 25:O5J=!g.pW(d)?24:23;break;case 15:this.Va.nk(b8U);g.yc||(g.yc=T.yc);this.bf=g;O5J=25;break;case 13:this.Ao&&(d.push(0),h.push(0));this.oN.m7a();l=b.ZL;this.Bb.Re&&this.Bb.Re.$L(l,this.cl.sessionId);n=this.oN.f6a(h,c);h.forEach(function(b,c){var x5J,Z8U;x5J=2;while(x5J!==1){Z8U="he";Z8U+="a";Z8U+="de";Z8U+="rs";switch(x5J){case 2:Z8U===b?a.hL=n[c]:a.Xa.Je[b].Dm=n[c];x5J=1;break;}}});O5J=18;break;case 5:O5J=!k.ma(this.RV)||0>this.RV?4:3;break;case 4:this.il(p8U+this.RV,void 0,n8U);O5J=28;break;case 34:this.Va.qBa(c);m=function(){var M5J,T8U;M5J=2;while(M5J!==5){T8U="shutdown de";T8U+="t";T8U+="ected";T8U+=" before startRe";T8U+="quests";switch(M5J){case 2:a.Va.p8a();a.el()?a.eb(T8U):a.S9a();M5J=5;break;}}};b.Hib?setTimeout(function(){var X5J;X5J=2;while(X5J!==1){switch(X5J){case 2:a.Xza(f).then(m);X5J=1;break;case 4:a.Xza(f).then(m);X5J=5;break;X5J=1;break;}}},0):this.Xza(f).then(function(){var t9J;t9J=2;while(t9J!==1){switch(t9J){case 4:setTimeout(m,1);t9J=6;break;t9J=1;break;case 2:setTimeout(m,0);t9J=1;break;}}});c={type:S8U,target:I8U,fields:{audiogapconfig:b.zH,audiogapdpi:this.bf.yc&&this.bf.yc.zH,aseApiVersion:this.sW}};this.emit(c.type,c);O5J=28;break;case 29:this.Aj(a8U,g.error),this.il(F8U,void 0,q8U);O5J=28;break;}}};Object.defineProperties(a.prototype,{sW:{get:function(){var C9J,x8U;C9J=2;while(C9J!==1){x8U="1";x8U+=".";x8U+="0";switch(C9J){case 4:return"";break;C9J=1;break;case 2:return x8U;break;}}},enumerable:!1,configurable:!0}});a.prototype.ega=function(){};a.prototype.flush=function(){var n9J;n9J=2;while(n9J!==1){switch(n9J){case 2:this.Xo.flush();n9J=1;break;case 4:this.Xo.flush();n9J=2;break;n9J=1;break;}}};a.prototype.paused=function(){var T9J;T9J=2;while(T9J!==1){switch(T9J){case 2:this.U.paused();T9J=1;break;case 4:this.U.paused();T9J=8;break;T9J=1;break;}}};s5J=32;break;case 59:a.prototype.fY=function(a,b){var y9J,c,f,U9J;y9J=2;while(y9J!==14){switch(y9J){case 1:c=this.Xa;a=c.Aea(a,b);f=this.wf.ula;a&&!a.yF&&f.lea(a);y9J=9;break;case 2:y9J=1;break;case 9:y9J=b?8:7;break;case 8:c.bma();y9J=14;break;case 7:b=f.snb();try{U9J=2;while(U9J!==1){switch(U9J){case 4:this.Va.i8a(b);U9J=9;break;U9J=1;break;case 2:this.Va.i8a(b);U9J=1;break;}}}catch(Wa){var Q8U,d8U;Q8U="]";Q8U+=" ";Q8U+="[";d8U="ex";d8U+="c";d8U+="eption: ";d8U+="[";this.u.error(d8U+Wa.message+Q8U+Wa.UYb+"]");}y9J=14;break;}}};a.prototype.vEa=function(a,b,c,f){var z9J;z9J=2;while(z9J!==4){switch(z9J){case 2:f&&(V.assert(void 0===b),b=this.dZ(f));S8ii.Q9U(1);V.assert(S8ii.q9U(b,0));return this.Gc[b].ndb(a,c||!1);break;}}};a.prototype.Mr=function(a,b,c){var h9J,f;h9J=2;while(h9J!==8){switch(h9J){case 3:k.ma(f)||(f=this.Gc[a].hs);S8ii.Q9U(2);return S8ii.x9U(f,b);break;case 2:c&&(V.assert(void 0===a),a=this.dZ(c),V.assert(void 0!==a));void 0===a&&(a=this.RP);(c=this.qa.Klb(b,a))?f=c.de:(c=this.qa.Bea(a),0<c.length&&(c=c[0],f=c.de));h9J=3;break;}}};a.prototype.SM=function(a,b,c){var M9J,f;M9J=2;while(M9J!==8){switch(M9J){case 3:k.ma(f)||(f=this.Gc[a].hs);S8ii.Q9U(0);return S8ii.x9U(b,f);break;case 2:c&&(V.assert(void 0===a),a=this.dZ(c),V.assert(void 0!==a));void 0===a&&(a=this.RP);(c=this.qa.Jlb(b,a))?f=c.de:(c=this.qa.Bea(a),0<c.length&&(c=c[0],f=c.de));M9J=3;break;}}};a.prototype.kF=function(){var X9J,a;X9J=2;while(X9J!==3){switch(X9J){case 2:a=this.U.Bg();X9J=5;break;case 4:a&&this.Va.I$(),this.QL(),this.U.Xd(l.pa.Pc),this.ff.ki();X9J=3;break;case 5:X9J=a||this.Xa.iu?4:3;break;}}};a.prototype.eaa=function(){var t8J,a,b;t8J=2;while(t8J!==8){switch(t8J){case 2:a=this;b=this.U.Bg();this.qa.Sb.UC(b,function(b){var C8J;C8J=2;while(C8J!==1){switch(C8J){case 2:return a.xf[b]?a.xf[b].r2():"";break;}}});t8J=3;break;case 3:this.zE&&(clearTimeout(this.zE),this.zE=void 0);this.At.rq();t8J=8;break;}}};a.prototype.$Ba=function(a){var n8J,b,T8J;n8J=2;while(n8J!==6){switch(n8J){case 3:a.OF(b);n8J=9;break;case 2:a.Jg=!0;a.Tm=!1;b=this.U.Ld()||0;n8J=3;break;case 8:n8J=this.Ko&&1===a.L?7:6;break;case 7:try{T8J=2;while(T8J!==1){switch(T8J){case 2:this.fY(l.pa.qE,{oa:a.Vb});T8J=1;break;}}}catch(Fa){var J8U;J8U="Hindsight: Error evaluating QoE at endOfSt";J8U+="rea";J8U+="m: ";S8ii.Q9U(0);this.Va.xm(S8ii.x9U(J8U,Fa));}n8J=6;break;case 9:this.Xa.Ct();n8J=8;break;}}};a.prototype.q9a=function(){var B8J,a;B8J=2;while(B8J!==4){switch(B8J){case 5:a&&(a=a.get())&&a.avtp&&this.rp.O$a({avtp:a.avtp.Da});B8J=4;break;case 2:a=this.Bb.yb;B8J=5;break;}}};a.prototype.S9a=function(){var e8J,a,b,c,Y8U,h8U,B8U;e8J=2;while(e8J!==8){Y8U="startup, playerSt";Y8U+="ate no longer START";Y8U+="ING:";h8U="failed to start";h8U+=" a";h8U+="ud";h8U+="io pipeline";B8U="failed to ";B8U+="start video pip";B8U+="eline";switch(e8J){case 2:this.U.Xd(l.pa.Mg);a=this.qa.Sb;b=a.Kc(0);e8J=3;break;case 3:c=a.Kc(1);this.Wk&&!this.fCa(c)?this.eb(B8U):this.Ao&&!this.fCa(b)?this.eb(h8U):(this.ABa=!0,this.Gc[0].O.MZ=!0,b=this.Xa.Je[1],c=this.Xa.Je[0],(b&&0<b.Aq||c&&0<c.Aq)&&this.Va.g8a(String(a.O.G),c?c.Aq:0,b?b.Aq:0,c?c.MP:0,b?b.MP:0),this.U.pMa()?(this.QV(0),this.Ao&&(a=this.Jd.UY(0),b=this.Jd.In(0).$a,this.Va.j8a(a,b))):this.eb(Y8U,this.U.Tc()));e8J=8;break;}}};a.prototype.fCa=function(a){var G8J,b,c,w8U,l8U;G8J=2;while(G8J!==12){w8U="NFE";w8U+="rr";w8U+="_MC_Stream";w8U+="ingInitFa";w8U+="ilure";l8U="s";l8U+="tartPipeline";l8U+=" f";l8U+="ailed";switch(G8J){case 4:G8J=k.W(c)?3:9;break;case 3:return this.el()||this.il(l8U,a.Ic.O.Ya,w8U),!1;break;case 2:b=a.L;c=this.Xa.Lpb(a);G8J=4;break;case 7:return!0;break;case 9:a=a.track.Nc[c];G8J=8;break;case 8:G8J=a.cj()?7:6;break;case 6:c=this.Jd.O;a.O.MFa(a,{offset:0,Lx:!c.ve.Cf&&!c.Yi&&1===b,Rr:!this.Xa.Je[b].dmb});return!0;break;}}};s5J=72;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var a5J;a5J=2;while(a5J!==1){switch(a5J){case 2:return this.addListener.bind(this);break;case 4:return this.addListener.bind(this);break;a5J=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var H5J;H5J=2;while(H5J!==1){switch(H5J){case 4:return this.removeListener.bind(this);break;H5J=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{twb:{get:function(){var E5J;E5J=2;while(E5J!==1){switch(E5J){case 4:return this.bf.yc;break;E5J=1;break;case 2:return this.bf.yc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ao:{get:function(){var w5J;w5J=2;while(w5J!==1){switch(w5J){case 4:return this.jb(1);break;w5J=1;break;case 2:return this.jb(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wk:{get:function(){var d5J;d5J=2;while(d5J!==1){switch(d5J){case 4:return this.jb(5);break;d5J=1;break;case 2:return this.jb(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var j5J;j5J=2;while(j5J!==1){switch(j5J){case 4:return this.x9;break;j5J=1;break;case 2:return this.x9;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vg:{get:function(){var o5J;o5J=2;while(o5J!==1){switch(o5J){case 2:return this.zf;break;case 4:return this.zf;break;o5J=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RP:{get:function(){var A5J;A5J=2;while(A5J!==1){switch(A5J){case 4:return 6>=this.lV?this.lV:7;break;A5J=1;break;case 2:return 0<=this.lV?this.lV:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jd:{get:function(){var K5J;K5J=2;while(K5J!==1){switch(K5J){case 4:return this.Gc[this.YE];break;K5J=1;break;case 2:return this.Gc[this.YE];break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rp:{get:function(){var L5J;L5J=2;while(L5J!==1){switch(L5J){case 2:return this.Bb.rp;break;case 4:return this.Bb.rp;break;L5J=1;break;}}},enumerable:!1,configurable:!0}});s5J=13;break;}}}();b.aya=a;d.Ke(c.EventEmitter,a);},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.xpa=void 0;c=a(0);k=a(11);d=a(33);g=a(72);a=function(a){function b(b,c,f,d,k,m){d=a.call(this,b,c,d,k,m)||this;c.aa=f.byteLength;g.Ch.call(d,b,c);d.jF=f;d.N5a=c.aa;return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{On:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cd:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{th:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.jF;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uub:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{De:{get:function(){return this.N5a;},enumerable:!1,configurable:!0}});b.prototype.PB=function(){return!0;};b.prototype.zF=function(a){this.ni=a.appendBuffer(this.response,k.rm(this));return{da:this.ni};};b.prototype.Pj=function(){return-1;};b.prototype.abort=function(){return!0;};b.prototype.mc=function(){};b.prototype.gR=function(){return!1;};return b;}(a(162).mz);b.xpa=a;d.Ke(g.Ch,a);},function(d,b,a){var k,g,r,q,n;function c(a){return{mediaType:a.L,streamId:a.ta,movieId:a.G,bitrate:a.R,location:a.location,serverId:a.Kb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.T,frameDuration:a.stream.Qa&&a.stream.Qa.Cb,encrypted:a.Lj,initSegments:1<a.xi.length?a.xi.map(function(a){return{fi:a.CB,s:a.data.byteLength,e:!!a.Lj};}):void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.Dha=b.Eha=b.VLa=b.Wfa=b.uJa=b.wJa=b.Sfa=b.Xfa=b.Vfa=b.kfa=b.lfa=b.qua=void 0;k=a(8);g=a(747);r=a(396);q=a(11);n=a(28);b.qua={nT:"movieEntry",u0a:"header",B6:"metadata",V0a:"headerData",iPb:"headerMetadata",c0a:"sizes",b0a:"durations",rsa:"fragments",c2a:"response",ek:"billboard",yw:{lifespan:259200}};b.lfa=function(a,b,c){var f,d;f=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(d={Zj:c.startTicks,offset:c.offset,T:c.timescale,sizes:new Uint32Array(b.sizes),Kd:new Uint32Array(b.durations)});return{bc:!0,L:a.mediaType,G:a.movieId,ta:a.streamId,R:a.bitrate,location:a.location,Kb:a.serverId,aa:a.bytes,offset:a.offset,Kga:f,$Z:a.initSegments,Lj:a.encrypted,T:a.timescale,Qa:a.frameDuration,ye:a.saveToDisk,Z:d};};b.kfa=function(a,b){var c,f,d;b=b.response;c=a.startTicks;f=a.durationTicks;void 0!==c&&void 0!==f&&(d=c+f);return{bc:!1,L:a.mediaType,G:a.movieId,ta:a.streamId,R:a.bitrate,location:a.location,Kb:a.serverId,aa:a.bytes,offset:a.offset,response:b,T:a.timescale,Ta:a.startTicks,Jo:f,ye:a.saveToDisk,hb:d};};b.Vfa=function(a){return{he:a.priority,G:a.movieId,headers:{},jq:0,$F:0,KZ:0,ye:a.saveToDisk,Xb:a.stats,Mo:a.firstSelectedStreamBitrate,So:a.initSelectionReason,kq:a.histDiscountedThroughputValue,Ak:a.histTdigest,zk:a.histAge,am:void 0};};b.Xfa=function(a,b,c,d,m){var f,h;f={headers:{},data:{}};d.forEach(function(d){var h,l,x;h=d.L;h=m&&m.Yr(h,d.ta);l=[];if(d.bc)if(!Array.isArray(d.$Z)||2>d.$Z.length)l.push({CB:0,data:d.Kga});else for(var k=0,q=0;q<d.$Z.length;++q){x=d.$Z[q];l.push({CB:x.fi,data:d.Kga.slice(k,k+x.s),Lj:x.e});k+=x.s;}h?(d.Z&&h.T0(l,d.T,d.Qa?new n.ha(d.Qa,d.T):void 0,d.Z),d.bc&&h&&h.Vd?(void 0===f.headers&&(f.headers={}),f.headers[d.ta]=new r.ZR(h,{aa:d.aa,offset:d.offset,xi:l,Lj:d.Lj},b)):d.response instanceof ArrayBuffer&&void 0!==h.Z&&void 0!==d.Ta&&void 0!==d.T&&void 0!==d.hb&&(l=h.Z.pY(new n.ha(d.Ta,d.T).va),void 0!==l&&(h=new g.xpa(h,{T:d.T,Ta:d.Ta,hb:d.hb,index:l.index,offset:d.offset,aa:d.aa},d.response,c,a,b),void 0===f.data&&(f.data={}),f.data[d.ta]||(f.data[d.ta]=[]),f.data[d.ta].push(h)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+d.ta+" movieId: "+d.G);});if(!k.W(f.data)){h=f.data;Object.keys(h).forEach(function(a){h[a].sort(function(a,b){return a.Ta-b.Ta;});});}return f;};b.Sfa=function(a){return{mediaType:a.L,streamId:a.ta,movieId:a.G,bitrate:a.R,location:a.location,serverId:a.Kb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.T,startTicks:a.Ta,durationTicks:a.Jo};};b.wJa=c;b.uJa=function(a){var b,d,l,n;b=c(a);a.stream.Vd&&a.stream&&a.stream.Z&&(d={timescale:a.stream.Z.T,startTicks:a.stream.Z.Zj,offset:a.stream.Z.Yg(0)},n=a.stream.Z.HI,l=n.sizes.buffer,n=n.Kd.buffer);return{mediaType:b.mediaType,streamId:b.streamId,movieId:b.movieId,bitrate:b.bitrate,location:b.location,serverId:b.serverId,saveToDisk:!0,offset:b.offset,bytes:b.bytes,timescale:b.timescale,frameDuration:b.frameDuration,headerData:q.Kr(a.xi.map(function(a){return a.data;})),initSegments:b.initSegments,encrypted:a.Lj,fragments:d,sizes:l,durations:n};};b.Wfa=function(a){return{priority:a.he,movieId:a.G,saveToDisk:a.ye,firstSelectedStreamBitrate:a.Mo,initSelectionReason:a.So,histDiscountedThroughputValue:a.kq,histTdigest:a.Ak,histAge:a.zk};};b.VLa=function(a){return!k.has(a,"startTicks");};b.Eha=function(a){return!a.Kga||!a.T||!a.Z||void 0===a.Z.Zj||void 0===a.Z.offset||void 0===a.Z.Kd||!a.Z.Kd.length||void 0===a.Z.sizes||!a.Z.sizes.length;};b.Dha=function(a){return void 0===a.aa||void 0===a.offset||void 0===a.T||void 0===a.Ta||void 0===a.Jo;};},function(d,b,a){var r,q;function c(a,b,f){Object.keys(a).forEach(function(d){var h,l;if(r.Ue(a[d]))if(a[d].l_){h=a[d];l=f+h.offset;a[d]=b.slice(l,l+h.byteLength);}else a[d]=c(a[d],b,f);});return a;}function k(a,b,c){Object.keys(a).forEach(function(f){var d;if(r.l_(a[f])){d=a[f];b.push(d);a[f]={l_:!0,offset:c.Vca,byteLength:d.byteLength};c.Vca+=d.byteLength;}else r.Ue(a[f])&&k(a[f],b,c);});return a;}function g(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}r=a(107);q=a(62);d.P={ffb:function(a){var b,c,d;b=q(a,{});a=[];b=k(b,a,{Vca:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length+4);d=new DataView(c);d.setUint32(0,b.length);for(var n=4,m=0,r=b.length;m<r;m++)d.setUint8(n,b.charCodeAt(m)),n++;a=[c].concat(a);return g.apply(null,a);},efb:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,b),d="",n=0;n<f.byteLength;n++)d+=String.fromCharCode(f[n]);b=4+b;d=JSON.parse(d);return c(d,a,b);}};},function(d,b,a){var g;function c(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function k(a,b){var c,d,f;c=[];if(g.Ue(b)){d={};f={};f[a]=d;c.push(f);c=Object.keys(b).reduce(function(c,f){var h,l,n;h=b[f];n={};g.l_(h)?(l=a+".__embed__."+f,n[l]=h,c.push(n)):g.Ue(h)?(l=a+".__sub__."+f,h=k(l,h),d[f]=h[0][l],c=c.concat(h.slice(1))):d[f]=h;return c;},c);}else f={},f[a]=b,c.push(f);return c;}g=a(107);d.P={qjb:k,ssb:function(a){var b,r;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var d=b[0],l=d.length,d=a[d.join(".")],f=1;f<b.length;f++)for(var h=!1,k=!1,g=d,m=l;m<b[f].length;m++){r=b[f][m];switch(r){case"__metadata__":break;case"__sub__":k=!0;break;case"__embed__":h=!0;break;default:k?(g=g[r],k=!1):h&&(g[r]=a[b[f].join(".")],h=!1);}}return d;},Wsb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(d,b,a){function c(a){return a;}function k(){return c;}a(8);d.P={SN:k,kga:k};},function(d,b,a){var c,k,g,r;c=a(8);k=a(107);g={};g[k.ho.tz]=function(a){return a;};g[k.ho.hU]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};g[k.ho.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};r={};r[k.ho.tz]=function(a){return a;};r[k.ho.hU]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),f=0,d=a.length;f<d;f++)c[f]=a.charCodeAt(f);return b;};r[k.ho.OBJECT]=function(a){return c.W(a)||c.Oa(a)?a:r[k.ho.hU](JSON.stringify(a));};d.P={SN:function(a){return g[a]||g[k.ho.tz];},kga:function(a){return r[a]||r[k.ho.tz];}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,r){g=r?g.bind(r):g;r=!1;if(a){this.console&&(g=b.bind(null,this.console,g,d));if("function"===typeof a.addEventListener)r=a.addEventListener(d,g);else if("function"===typeof a.addListener)r=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return r;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.P=a;},function(d){function b(a,b){var c;if(void 0===b||"function"!==typeof b||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.ln)return this.ln={},this.ln[a]=[b],!0;c=this.ln[a];return void 0===c?(this.ln[a]=[b],!0):0>c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.ln?this.ln[a]:void 0;if(!a)return!1;a.forEach(function(a){a(b);});return!0;}d.P={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0===b||"function"!==typeof b||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.ln)return!1;c=this.ln[a];if(void 0===c)return!1;b=c.indexOf(b);if(0>b)return!1;if(1===c.length)return delete this.ln[a],!0;c.splice(b,1);return!0;},Ka:a,emit:a,removeAllListeners:function(a){this.ln&&(void 0===a?delete this.ln:delete this.ln[a]);return this;}};},function(d){function b(a){if(!(this instanceof b))return new b(a);if("undefined"===typeof a)this.bl=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.bl=a;}this.oo=[];}function a(b,d){var k,g,n,l,f,h,m;k=b.oo;g=b.bl;n=2*d+1;l=2*d+2;f=k[d];h=k[n];m=k[l];h&&g(h.he,f.he)&&(!m||g(h.he,m.he))?(c(k,d,n),a(b,n)):m&&g(m.he,f.he)&&(c(k,d,l),a(b,l));}function c(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}b.prototype.clear=function(){this.oo=[];};b.prototype.Mn=function(a,b){this.oo.push({he:a,value:b});a=this.oo;b=this.bl;for(var d=a.length-1,k=0===d?null:Math.floor((d-1)/2);null!==k&&b(a[d].he,a[k].he);)c(a,d,k),d=k,k=0===d?null:Math.floor((d-1)/2);};b.prototype.remove=function(){var b;if(0!==this.oo.length){b=this.oo[0];c(this.oo,0,this.oo.length-1);this.oo.pop();a(this,0);return b.value;}};b.prototype.Cy=function(){if(0!==this.oo.length)return this.oo[0].value;};b.prototype.enqueue=b.prototype.Mn;b.prototype.rda=b.prototype.remove;b.prototype.Qs=function(){return this.oo.map(function(a){return a.value;});};d.P=b;},function(d,b,a){var k,g,r,q,n,l,f,h;function c(a,b,d){var I,S;function m(a,b,c,f){a.info.call(a,function(a,d){var h;if(a)f(a);else{try{h=d.values[this.context].entries[b][c].size;}catch(na){h=-1;}-1<h?f(null,h):this.Oq(function(a,b){a?f(a):(b[c]&&(h=b[c].size),f(null,h));});}}.bind(a));}function x(a,b,d,h,l,k,r){var q;k?k.sn||(k.sn={}):k={sn:{}};I(h);q=g.time.now();h=new f(function(c,f){a.create(g.storage.gE,b,d,function(a,b){a?f(a):c(b);});}).then(function(f){f.da?m(a,g.storage.gE,b,function(a,d){a?r(a):(S(d),I(d),k.sn[c.UR.c6]={da:!0,time:l,Wi:d,ly:b,DRa:f,duration:g.time.now()-q},k.Oj=f.Oj,r(null,k));}):(k.sn[c.UR.c6]={da:!1,ly:b,error:f.error},r(null,k));},function(a){r(a);});n.zs(h);}function p(a,b,c,f,d,h){f.Mn(c.time,c);for(var l=c.time-864E5,n=f.Cy();n&&!isNaN(n.time)&&n.time<l;)n=f.rda(),I(0-(n.aa||0)),n=f.Cy();f=f.Qs().map(function(a){return a.time+";"+a.aa;});x(a,b,Array.prototype.join.call(f,"|"),c.aa,c.time,d,h);}function t(a,b,f,d,h,n,k,q,x){var t;t=g.time.now();a.create(f,d,h,function(h,F){var u;if(h)l.error("Failed to replace item",d,h);else if(F.da){u=F.Oj;m(a,f,d,function(f,h){var l,m;if(f)x(f);else{f={time:q,aa:h||0};l={Oj:u,sn:{}};m=g.time.now()-t;l.sn[c.UR.REPLACE]={da:!0,time:q,Wi:h,ly:d,DRa:F,duration:m};n?p(a,b,f,k,l,x):(I(h),x(null,l));}});}else x(r.xU.bo(F.error||"Failed to create item"));});}function F(a,b,f,d,h,n,k,q,x){var t;t=g.time.now();a.append(f,d,h,function(h,F){var u;if(h)l.error("Failed to save item "+d,h),x(h);else if(F.da){u=F.Oj;m(a,f,d,function(f,h){var l,m;if(f)x(f);else{f={time:q,aa:h||0};l={Oj:u,sn:{}};m=g.time.now()-t;l.sn[c.UR.a4a]={da:!0,time:q,Wi:h,ly:d,DRa:F,duration:m};n?p(a,b,f,k,l,x):(I(h),x(null,l));}});}else x(r.xU.bo(F.error||"Failed to save item"));});}function u(a,b){a&&k.Tb(a.remove)&&a.vj.valid&&a.remove(g.storage.gE,b.UE,function(c,f){if(c)l.error("Failed to delete old journal key",c);else try{f&&(k.W(f.error)||f.error.some(function(a){return"NFErr_FileNotFound"===a.sVb;}))&&p(a,b.UE,{time:0,aa:0},b.FL,0,function(){});}catch(W){}});}if(!a.vj.valid)return h;this.gAa=k.W(b)||k.Oa(b)?0:b;this.V9=a;this.s$=this.TK=0;this.FL=new q();this.T8a=d||"default";this.UE=this.T8a+".NRDCACHEJOURNALKEY";I=function(a){isNaN(a)||(this.TK+=a);return this.TK;}.bind(this);S=function(a){isNaN(a)||(this.s$+=a);return this.s$;}.bind(this);this.Kfa=function(){return this.UE;};this.save=function(a,b,c,f){var d;d=g.time.now();F(this.V9,this.UE,a,b,c,0<=this.gAa,this.FL,d,f);};this.replace=function(a,b,c,f){var d;d=g.time.now();t(this.V9,this.UE,a,b,c,0<=this.gAa,this.FL,d,f);};this.PIa=function(a){var b,d;b=this.TK;a-=864E5;for(var c=this.FL.Qs(),f=0;f<c.length;f++){d=c[f];d.time<a&&!isNaN(d.aa)&&(b-=d.aa);}return b;};(function(a){var b;b=a.V9;a.TK=0;b.read(g.storage.gE,a.UE,0,-1,function(c,f){var d,h,n,m;d=[];h=0;n=!0;if(c)l.error("Failed to compile records",c);else if(f.da){c=String.fromCharCode.apply(null,new Uint8Array(f.value));c=String.prototype.split.call(c,"|");f=c.reduce(function(a,b){return a+(b.length+40);},0);I(f);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),aa:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.aa;},0)))for(var n=!1,k=g.time.now()-864E5;h<d.length;h++){m=d[h];m.time<k||(a.FL.Mn(m.time,m),I(m.aa));}}catch(za){}}n&&u(b,a);});}(this));}k=a(8);g=a(108);r=a(212);q=a(755);b=a(62);n=a(211);l=new g.Console("DISKWRITEMANAGER","media|asejs");f=g.Promise;b({UR:{a4a:"saveitem",REPLACE:"replaceitem",c6:"journalupdate"}},c);h={save:function(a,b,c,f){f(r.rua);},replace:function(a,b,c,f){f(r.rua);},Kfa:function(){return"";},PIa:function(){return 0;}};c.prototype.constructor=c;d.P={create:function(a,b,f){return new c(a,b,f);},yQb:h};},function(d,b,a){var n,l,f,h,x,p,t,u,J;function c(){}function k(b,f,d,h,m){var q;q=n.Tb(h)?h:c;this.bx=b;this.Bt=d.Tp;this.Zt=0;this.E6a=d.alb||"NONE";this.Ft=n.W(m)||n.Oa(m)?0:m;this.Gd={};this.Ip=d.fXb||l.storage.gE;this.ir=f;this.uF=x.create(this.ir,d.Xhb*this.Ft,this.bx);this.on=this.addEventListener=J.addEventListener;this.removeEventListener=J.removeEventListener;this.emit=this.Ka=J.Ka;this.HAa=r(this,k.Od.REPLACE);this.g7a=r(this,k.Od.uza);this.xA;this.xA=d.HWa?a(752):a(751);this.ir.query(this.Ip,this.Sn(""),function(a,b){var c;if(a)q(a);else{c=this.uF.Kfa();a=Object.keys(b).filter(function(a){return a!==c&&p.cH(a);}).map(this.soa.bind(this));this.G1(a,function(a,c){Object.keys(c).map(function(a){var f,d;f=c[a];this.Gd[p.iY(a)]=f;if(f.fma&&1<Object.keys(f.fma).length){d=0;Object.keys(f.fma).forEach(function(a){b[this.Sn(a)]&&n.ma(b[this.Sn(a)].size)&&(d+=b[this.Sn(a)].size);}.bind(this));a=p.iY(a);this.Gd[a].size=d;}else a=p.iY(a),b[this.Sn(a)]&&(this.Gd[a].size=b[this.Sn(a)].size);}.bind(this));g(this.ir,this.Ip,this.bx,function(a,b){this.Zt=b;a?q(a):q(null,this);}.bind(this));}.bind(this));}}.bind(this));}function g(a,b,f,d){var h;h=n.Tb(d)?d:c;a.query(b,f,function(a,b){a?h(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),h(null,a));});}function r(a,b){return function(c,f,d,h,m){return function(r,q){var x;if(r)f||a.Ka(k.Od.ERROR,{itemKey:c,error:r}),d(r);else{x={Wi:0,duration:0,items:[],time:l.time.now()};Object.keys(q.sn).map(function(b){var c;c=q.sn[b];b={key:a.soa(c.ly),Ef:b};c.da?(x.Wi+=c.Wi,b.C_=c.Wi,n.ma(c.duration)&&(x.duration+=c.duration)):b.error=c.error;x.items.push(b);});r=n.Tb(h)?h():0;0<m&&(x.ZF=m-r);g(a.ir,a.Ip,a.bx,function(c,h){c?d(c):(a.Zt=h,x.Oj=a.Bt-h,f||a.Ka(b,u.WIa(x)),d(null,x));});}};};}function q(a,b){return 0<b&&a>=b?!0:!1;}n=a(8);l=a(108);f=a(212);b=a(62);h=new l.Console("MEDIACACHE","media|asejs");x=a(756);p=a(373);t=a(107);u=a(211);J=a(106).EventEmitter;b({Od:{uza:"writeitem",REPLACE:"replaceitem",c6:"journalupdate",ERROR:"mediacache-error"}},k);k.prototype.getName=function(){return this.bx;};k.prototype.soa=function(a){return a.slice(this.bx.length+1);};k.prototype.Cfa=function(){return Object.keys(this.Gd).filter(function(a){a=p.cfa(this.Gd[a]);return void 0===a||0>=a.sFa();}.bind(this));};k.prototype.bpb=function(){return Object.keys(this.Gd).reduce(function(a,b){var c;c=this.Gd[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:l.time.now()}).oYb;};k.prototype.dob=function(){var a;switch(this.E6a){case"FIFO":a=this.bpb();}return a;};k.prototype.Kib=function(a){var b;b=n.Tb(a)?a:c;this.CJa(function(c){var f,d,h;f=this.Gd;d=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return!p.cH(a)&&0>d.indexOf(a);}))&&0<c.length){h=this;c=l.Promise.all(c.map(function(a){return new l.Promise(function(b,c){h["delete"](a,function(a){a?c(a):b();});});})).then(function(){b(void 0,{Ila:!0});},function(a){b(a,{Ila:!1});});u.zs(c);}else a(void 0,{Ila:!1});}.bind(this));};k.prototype.uCb=function(a,b,d){var k,g;k=n.Tb(b)?b:c;b=this.Sn(a);g=l.time.now();this.ir.read(this.Ip,b,0,-1,function(b,c){var m;if(b)k(b);else if(c&&c.da&&c.value){n.Tb(d)||(d=this.xA.SN(t.ho.tz),p.cH(a)?d=this.xA.SN(t.ho.OBJECT):(b=this.Gd[a],!n.W(b)&&n.ma(b.resourceIndex[a])?(b=b.resourceIndex[a],n.W(b)&&(b=t.ho.tz),d=this.xA.SN(b)):h.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{m=d(c.value);}catch(ma){return k(f.pE.bo(ma.message));}c={duration:l.time.now()-g};this.Gd[a]&&n.ma(this.Gd[a].size)&&(c.ou=n.ma(this.Gd[a].size)?this.Gd[a].size:0);k(null,m,c);}else k(f.pE.bo(c.error));}.bind(this));};k.prototype.read=function(a,b,c){this.uCb(a,b,c);};k.prototype.G1=function(a,b,d){var h,k,g;h=n.Tb(b)?b:c;if("[object Array]"!==Object.prototype.toString.call(a))h(f.pE.bo("item keys must be an array"));else{k={};g=[];a=l.Promise.all(a.map(function(a){return new l.Promise(function(b,c){var f;d&&!n.W(d[a])&&(f=this.xA.SN(d[a]));this.read(a,function(f,d,h){f?(d={},d[a]=f,c(d)):(k[a]=d,g.push({duration:h.duration,ou:h.ou}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<g.length&&(a=g.reduce(function(a,b){n.ma(b.duration)&&(a.duration+=b.duration);n.ma(b.ou)&&(a.ou+=b.ou);return a;},{duration:0,ou:0}));h(null,k,a);},function(a){h(a);});u.zs(a);}};k.prototype.write=function(a,b,d,h,l){var k,g,m;d=n.Tb(d)?d:c;k=this.Sn(a);g="function"===typeof l?l():0;m=t.xga(b);m=this.xA.kga(m)(b);m.byteLength+this.Zt>=this.Bt?d(f.BD):q(m.byteLength+g,this.Ft)?d(f.yU):this.uF.save(this.Ip,k,b,this.g7a(a,h,d,l,this.Ft),m.byteLength);};k.prototype.replace=function(a,b,d,l,k){var g,m,r,x;g=n.Tb(d)?d:c;m=this.Sn(a);r=0;"function"===typeof k&&(r=k());d=t.xga(b);x=this.xA.kga(d)(b);d=(this.Gd[a]||{}).size||0;0>=d&&this.Gd[a]?this.WJa([a],function(c){h.trace("Replacing key",a,"which exists:",!!this.Gd[a],this.Gd[a]?this.Gd[a]:void 0,"and has size",c,"with",b,"with size",x.byteLength,"plus _used",this.Zt,"vs capacity",this.Bt);x.byteLength-c+this.Zt>=this.Bt?g(f.BD):q(x.byteLength-c+r,this.Ft)?g(f.yU):this.uF.replace(this.Ip,m,b,this.HAa(a,l,g,k,this.Ft),x.byteLength);}.bind(this)):(h.trace("Replacing key",a,"which exists:",!!this.Gd[a],this.Gd[a]?this.Gd[a]:void 0,"and has size",d,"with",b,"with size",x.byteLength,"plus _used",this.Zt,"vs capacity",this.Bt),x.byteLength-d+this.Zt>=this.Bt?g(f.BD):q(x.byteLength-d+r,this.Ft)?g(f.yU):this.uF.replace(this.Ip,m,b,this.HAa(a,l,g,k,this.Ft),x.byteLength));};k.prototype.HDb=function(a,b,d,h){var g;g=n.Tb(b)?b:c;"[object Object]"!==Object.prototype.toString.call(a)?g(f.xU.bo("items must be a map of keys to objects")):(b=l.Promise.all(Object.keys(a).map(function(b){return new l.Promise(function(c){this.replace(b,a[b],function(a,f){a?c({error:a,Vn:b}):c(f);},!0,h);}.bind(this));}.bind(this))).then(function(a){var b,c,f,m;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Wi+=c.Wi,n.ma(c.duration)&&(a.duration+=c.duration),!n.W(c.Oj)&&c.Oj<b&&(b=c.Oj),c.items.map(function(b){a.items.push({key:b.key,Ef:b.Ef,C_:b.C_,ivb:b.ivb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.Oj=b));return a;},{Wi:0,items:[],time:l.time.now(),duration:0});0<this.Ft&&(c.ZF=this.Ft-h());f=a.filter(function(a){return!n.W(a.error);});m=u.FKa(f);d||(m?m.forEach(function(a){this.Ka(k.Od.ERROR,a);}.bind(this)):this.Ka(k.Od.REPLACE,u.WIa(c)));g(m,c);}catch(W){g(W);}}.bind(this),function(a){d||this.Ka(k.Od.ERROR,a);g(a);}.bind(this)),u.zs(b));};k.prototype["delete"]=function(a,b){var d;d=n.Tb(b)?b:c;this.ir.remove(this.Ip,this.Sn(a),function(a,b){a?d(a):b&&b.da?g(this.ir,this.Ip,this.Sn(""),function(a,b){a?d(a):(this.Zt=b,d());}.bind(this)):d(f.LZa.bo(b.error));}.bind(this));};k.prototype.CJa=function(a){this.query("",function(b,c){b?(h.error("Failed to get keys",b),a([])):a(c);});};k.prototype.query=function(a,b){var f,d;f=n.Tb(b)?b:c;d=this.uF.Kfa();this.ir.query(this.Ip,this.Sn(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==d;}).map(this.soa.bind(this)));}.bind(this));};k.prototype.Sn=function(a){return this.bx+"."+a;};k.prototype.clear=function(a){var b;b=n.Tb(a)?a:c;this.CJa(function(a){var c;c=l.Promise.all(a.map(function(a){return new l.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){b(a);},function(a){this.Ka(k.Od.ERROR,a);b([],a);}.bind(this));u.zs(c);}.bind(this));};k.prototype.WJa=function(a,b){var f,d;f=n.Tb(b)?b:c;d=(a||[]).map(function(a){return this.Sn(a);}.bind(this));this.ir.query(this.Ip,this.bx,function(b,c){b?(h.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(c).filter(function(a){return 0<=d.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),f(b));}.bind(this));};k.prototype.qnb=function(a){return this.uF.PIa(a);};k.prototype.constructor=k;d.P=k;},function(d,b,a){var k,g,r,q,n;function c(a){this.vj=a;this.context=a.context;this.iPa="NULLCONTEXT"===a.context?!0:!1;}k=a(8);g=a(108);r=new g.Console("DISKCACHE","media|asejs");q={context:"NULLCONTEXT",read:function(a,b,c,d,n){n("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.EA=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.iPa)throw Error("Media Cache not supported");b.apply(this.vj,a);}catch(x){c(x);}};c.prototype.query=function(a,b,c,d){try{if(this.iPa)throw Error("Media Cache not supported");this.vj.query(a,b,function(a){c(null,a);},d);}catch(F){c(F);}};c.prototype.read=function(a,b,c,d,n){this.EA(this.vj.read,a,b,c,d,n);};c.prototype.remove=function(a,b,c){this.EA(this.vj.remove,a,b,c);};c.prototype.create=function(a,b,c,d){this.EA(this.vj.create,a,b,c,d);};c.prototype.append=function(a,b,c,d){this.EA(this.vj.append,a,b,c,d);};c.prototype.info=function(a){this.EA(this.vj.info,a);};c.prototype.Oq=function(a){this.EA(this.vj.Oq,a);};c.prototype.flush=function(a){this.EA(this.vj.flush,a);};c.prototype.clear=function(){this.vj.clear();};d.P={bhb:function(a){var b,d,l,m,p;b=a.dVb||"NRDMEDIADISKCACHE";n=a.Ix||0;0!==n||k.W(g.options)||k.W(g.options.vH)||(n=g.options.vH);a=n;try{m=g.storage.jG;if(!m||!k.Ue(m))throw r.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(l=m[b])r.warn("Disk store exists, returning"),d=new c(l);else{if(k.W(g.storage)||!k.Tb(g.storage.hX)||g.options&&0===g.options.vH)throw r.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";r.warn("Disk store context doesn't exist, creating with size "+a);p=g.storage.hX({context:b,size:a,encrypted:!0,signed:!0});if(!p||!p.valid)throw"Failed to create disk store context";d=new c(p);}}catch(E){r.warn("Exception creating disk store context - returning NullContext (noops)",E);d=new c(q);}return d;},Rnb:function(){return n;},$Nb:c};},function(d,b,a){var c,g,m,r,q;c=a(8);m=[];q=!1;d.P={g_:function(b,d,f){var h;if(q)c.Tb(f)&&(g.yl||g.NB?setTimeout(function(){f(g);},0):m.push(f));else{q=!0;h=a(108);h.pO(b);r=new h.Console("MEDIACACHE","media|asejs");g=new(a(374))(d,function(a){a&&r.warn("Failed to initialize MediaCache",a);c.Tb(f)&&setTimeout(function(){f(g);},0);m.map(function(a){setTimeout(function(){a(g);},0);});});}return g;},FVb:function(b,d){g=new(a(374))(b,function(a,b){a&&r.warn("Failed to initialize MediaCache",a);c.Tb(d)&&setTimeout(function(){d(b);},0);});}};},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Oua=void 0;c=a(0);g=a(16);a(5);m=a(759);r=a(8);q=a(218);n=a(11);d=a(33);l=a(748);f=l.qua;a=function(){var W8U;W8U=2;while(W8U!==27){switch(W8U){case 15:return a;break;case 11:a.prototype.BI=function(a,b){var k2U,c,w0U,l0U,Y0U,h0U;k2U=2;while(k2U!==8){w0U="mediac";w0U+="ach";w0U+="e";l0U="m";l0U+="ediacacheloo";l0U+="kup";Y0U="s";Y0U+="av";Y0U+="etod";Y0U+="isk";h0U="me";h0U+="d";h0U+="iaca";h0U+="chestats";switch(k2U){case 2:c={type:h0U,operation:a};Y0U===a&&(c.saveTime=b.ZSa);k2U=4;break;case 4:l0U===a&&(c.lookupTime=b.W_,c.dataFound=b.qX);k2U=3;break;case 3:c.oneObject=this.po;k2U=9;break;case 9:this.B6a&&this.emit(w0U,c);k2U=8;break;}}};a.prototype.$Bb=function(a,b){var M2U,c,f;M2U=2;while(M2U!==3){switch(M2U){case 2:c=this;f=Object.keys(a).map(function(b){var r2U;r2U=2;while(r2U!==1){switch(r2U){case 2:return c.Zgb(a[b]);break;case 4:return c.Zgb(a[b]);break;r2U=1;break;}}});return Promise.all(f).then(function(a){var L2U;L2U=2;while(L2U!==5){switch(L2U){case 2:a.sort(function(a,b){var z2U;z2U=2;while(z2U!==1){switch(z2U){case 2:return a.bc===b.bc?0:a.bc?-1:1;break;}}});return l.Xfa(c.I,c.u,c.Ce,a,b);break;}}});break;}}};a.prototype.Zgb=function(a){var i2U,b,c,d,h;i2U=2;while(i2U!==3){switch(i2U){case 2:b=this;h={};return new Promise(function(n,g){var e2U,k;e2U=2;while(e2U!==5){switch(e2U){case 2:b.ei.G1(f.ek,a,function(a,b){var f2U,m,X2U,m0U,t0U,W0U;f2U=2;while(f2U!==5){switch(f2U){case 2:try{X2U=2;while(X2U!==19){m0U="Missin";m0U+="g or invalid header data";m0U+=" parts for stream ";t0U="Missing or i";t0U+="nvalid me";t0U+="dia data parts for stream ";W0U="Header fragments was an array bu";W0U+="ffer, is inv";W0U+="alid ";W0U+="type ";switch(X2U){case 9:m=W0U+k.ta;return g(m);break;case 6:X2U=k.bc?14:11;break;case 12:n(k);X2U=19;break;case 10:return m=t0U+k.ta,g(m);break;case 5:Object.keys(b).map(function(a){var u2U,l,n,E2U;u2U=2;while(u2U!==9){switch(u2U){case 5:u2U=l===f.B6?4:3;break;case 2:l=a.substr(a.lastIndexOf(".")+1);u2U=5;break;case 4:try{E2U=2;while(E2U!==5){switch(E2U){case 2:n=new Uint8Array(b[a]);d=JSON.parse(String.fromCharCode.apply(null,n));E2U=5;break;}}}catch(da){d=b[a];}u2U=9;break;case 3:l===f.rsa?c=b[a]:h[l]=b[a];u2U=9;break;}}});X2U=4;break;case 14:X2U=l.Eha(k)?13:12;break;case 20:k=l.kfa(d,{response:h.response});X2U=6;break;case 1:return g(a);break;case 13:return m=m0U+k.ta,g(m);break;case 2:X2U=a||void 0===b?1:5;break;case 3:X2U=c instanceof ArrayBuffer?9:7;break;case 7:k=l.lfa(d,h,c);X2U=6;break;case 11:X2U=l.Dha(k)?10:12;break;case 4:X2U=l.VLa(d)?3:20;break;}}}catch(A){g(A);}f2U=5;break;}}});e2U=5;break;}}});break;}}};a.prototype.g9a=function(a,b,d){var o2U,h;o2U=2;while(o2U!==4){switch(o2U){case 2:h=this;o2U=5;break;case 5:return new Promise(function(n,g){var O0U,k;O0U=2;while(O0U!==5){switch(O0U){case 2:h.ei.read(f.ek,a,function(f,m){var s0U,q,p,x,t,F,u,I,E,D,T,Q,B,P,X,ba,g0U,j0U,R,U,U0U,K0U,b0U,ga,M,Z0U,p0U,n0U,c0U,J,K,H0U,P0U,A0U,G0U,V0U,C0U,y0U,D0U,R0U,v0U;s0U=2;while(s0U!==4){G0U="mediac";G0U+="a";G0U+="c";G0U+="he";G0U+="lookup";switch(s0U){case 16:void 0!==k&&(k.Sj=f);s0U=15;break;case 3:s0U=r.W(m)?9:8;break;case 13:s0U=I.headers?12:10;break;case 17:k=l.Xfa(h.I,h.u,h.Ce,m,b);s0U=16;break;case 10:s0U=I.data?20:17;break;case 15:h.BI(G0U,{W_:h.Wl.time.ea()-d,qX:!0});n(k);s0U=4;break;case 5:g(f);s0U=4;break;case 9:n();s0U=4;break;case 7:s0U=I.movieEntry?6:15;break;case 1:s0U=f?5:3;break;case 12:E=Object.keys(I.headers);s0U=11;break;case 2:s0U=1;break;case 18:try{g0U=2;while(g0U!==8){switch(g0U){case 5:D=M.value;P=Object.keys(q[D]);try{j0U=2;while(j0U!==6){V0U="Missing or invalid media data part";V0U+="s for ";V0U+="stream";V0U+=" ";switch(j0U){case 1:j0U=!U.done?5:6;break;case 2:R=(F=void 0,c.__values(P)),U=R.next();j0U=1;break;case 5:X=q[D][U.value];ba=l.kfa(X,X);j0U=3;break;case 3:j0U=l.Dha(ba)?9:8;break;case 8:m.push(ba);j0U=7;break;case 9:return Q=V0U+ba.ta,g(Q);break;case 7:U=R.next();j0U=1;break;}}}catch(hb){F={error:hb};}finally{U0U=2;while(U0U!==1){switch(U0U){case 2:try{K0U=2;while(K0U!==1){C0U="ret";C0U+="ur";C0U+="n";switch(K0U){case 2:U&&!U.done&&(u=R[C0U])&&u.call(R);K0U=1;break;}}}finally{b0U=2;while(b0U!==5){switch(b0U){case 3:b0U=F?4:4;break;b0U=F?1:5;break;case 1:throw F.error;b0U=5;break;case 2:b0U=F?1:5;break;}}}U0U=1;break;}}}g0U=9;break;case 2:ga=c.__values(p),M=ga.next();g0U=1;break;case 9:M=ga.next();g0U=1;break;case 1:g0U=!M.done?5:8;break;}}}catch(hb){x={error:hb};}finally{Z0U=2;while(Z0U!==1){switch(Z0U){case 2:try{p0U=2;while(p0U!==1){y0U="re";y0U+="t";y0U+="urn";switch(p0U){case 2:M&&!M.done&&(t=ga[y0U])&&t.call(ga);p0U=1;break;}}}finally{n0U=2;while(n0U!==5){switch(n0U){case 2:n0U=x?1:5;break;case 1:throw x.error;n0U=5;break;case 9:throw x.error;n0U=7;break;n0U=5;break;}}}Z0U=1;break;}}}s0U=17;break;case 20:q=I.data;p=Object.keys(q);s0U=18;break;case 6:f=l.Vfa(I.movieEntry);m=[];s0U=13;break;case 8:I=m[a];s0U=7;break;case 11:try{c0U=2;while(c0U!==11){D0U="M";D0U+="issin";D0U+="g or ";D0U+="invalid head";D0U+="er data parts for stream ";R0U="He";R0U+="ader fragmen";R0U+="ts was an array buffer, i";R0U+="s inva";R0U+="lid type ";switch(c0U){case 7:B=l.lfa(T,T,T.fragments);c0U=6;break;case 1:c0U=!K.done?5:11;break;case 5:D=K.value;T=I.headers[D];c0U=3;break;case 3:c0U=T.fragments instanceof ArrayBuffer?9:7;break;case 2:J=c.__values(E),K=J.next();c0U=1;break;case 6:c0U=l.Eha(B)?14:13;break;case 9:Q=R0U+T.streamId;return g(Q);break;case 14:return Q=D0U+B.ta,g(Q);break;case 12:K=J.next();c0U=1;break;case 13:m.push(B);c0U=12;break;}}}catch(hb){q={error:hb};}finally{H0U=2;while(H0U!==1){switch(H0U){case 2:try{P0U=2;while(P0U!==1){v0U="r";v0U+="e";v0U+="tu";v0U+="r";v0U+="n";switch(P0U){case 2:K&&!K.done&&(p=J[v0U])&&p.call(J);P0U=1;break;}}}finally{A0U=2;while(A0U!==5){switch(A0U){case 1:throw q.error;A0U=5;break;case 2:A0U=q?1:5;break;case 9:throw q.error;A0U=7;break;A0U=5;break;}}}H0U=1;break;}}}s0U=10;break;}}});O0U=5;break;}}});break;}}};a.prototype.QAa=function(a){var T0U,b,N0U;T0U=2;while(T0U!==4){N0U="Media cac";N0U+="he is ";N0U+="not ena";N0U+="bled";switch(T0U){case 9:T0U=7;break;T0U=1;break;case 1:b=this;return this.nr?this.nr.then(function(){var S0U;S0U=2;while(S0U!==1){switch(S0U){case 2:return new Promise(function(c){var I0U;I0U=2;while(I0U!==1){switch(I0U){case 2:b.ei.GC(f.ek,a.toString(),function(b){var a0U;a0U=2;while(a0U!==1){switch(a0U){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);a0U=1;break;}}});I0U=1;break;}}});break;}}}):Promise.reject(N0U);break;case 2:T0U=1;break;}}};a.prototype.C9a=function(a){var F0U,d,h;function b(a){var q0U,k0U;q0U=2;while(q0U!==1){k0U="d";k0U+="e";k0U+="lete";switch(q0U){case 2:d.ei[k0U](f.ek,a);q0U=1;break;}}}F0U=2;while(F0U!==9){switch(F0U){case 4:this.ei.GC(f.ek,[f.nT,a].join("."),c);this.ei.GC(f.ek,h,c);F0U=9;break;case 2:d=this;h=a.toString();F0U=4;break;}}function c(a){var x0U;x0U=2;while(x0U!==1){switch(x0U){case 4:a.map(b);x0U=9;break;x0U=1;break;case 2:a.map(b);x0U=1;break;}}}};a.prototype.GGb=function(a){var d0U,b,z0U,M0U;d0U=2;while(d0U!==3){z0U="me";z0U+="d";z0U+="i";z0U+="ac";z0U+="ache";M0U="mediac";M0U+="ache";M0U+="-er";M0U+="ror";switch(d0U){case 4:b.on(this.ei,M0U,function(b){var B0U,L0U,r0U;B0U=2;while(B0U!==5){L0U="me";L0U+="di";L0U+="acache";r0U="e";r0U+="r";r0U+="ro";r0U+="r";switch(B0U){case 2:b.type=r0U;a.emit(L0U,b);B0U=5;break;}}});d0U=3;break;case 2:b=new g.Oi();b.on(this.ei,z0U,function(b){var Q0U,i0U;Q0U=2;while(Q0U!==4){i0U="medi";i0U+="ac";i0U+="ac";i0U+="h";i0U+="e";switch(Q0U){case 1:b.keys||b.items.map(function(a){var J0U;J0U=2;while(J0U!==1){switch(J0U){case 2:return a.key;break;case 4:return a.key;break;J0U=1;break;}}});Q0U=5;break;case 2:Q0U=b.keys||b.items?1:5;break;case 5:a.emit(i0U,b);Q0U=4;break;case 7:a.emit("",b);Q0U=5;break;Q0U=4;break;}}});d0U=4;break;}}};W8U=15;break;case 2:a.prototype.Ab=function(a,b){var m8U,c,f0U;m8U=2;while(m8U!==4){f0U="Me";f0U+="dia cache is disabl";f0U+="e";f0U+="d";switch(m8U){case 5:return this.nr=this.qaa?new Promise(function(f,d){var G8U;G8U=2;while(G8U!==1){switch(G8U){case 2:(void 0!==b&&null!==b?b.g_:function(a){var V8U;V8U=2;while(V8U!==1){switch(V8U){case 4:return m.g_(c.Wl,c.I,a);break;V8U=1;break;case 2:return m.g_(c.Wl,c.I,a);break;}}})(function(b){var C8U,h,e0U;C8U=2;while(C8U!==3){e0U="Media ";e0U+="cache did n";e0U+="ot in";e0U+="itialize";switch(C8U){case 2:c.ei=b;h=b.yl;(b=b.NB)?d(b):h?(c.GGb(a),f()):d(Error(e0U));C8U=3;break;}}});G8U=1;break;}}}):Promise.reject(f0U);break;case 2:c=this;m8U=5;break;}}};a.prototype.Qub=function(a){var y8U,b,c,d;y8U=2;while(y8U!==9){switch(y8U){case 2:b=this;c=[f.nT,a].join(".");d=this.Wl.time.ea();return this.nr.then(function(){var R8U;R8U=2;while(R8U!==1){switch(R8U){case 2:return new Promise(function(h){var D8U;D8U=2;while(D8U!==1){switch(D8U){case 2:b.ei.GC(f.ek,c,function(c){var v8U,n,X0U;v8U=2;while(v8U!==9){X0U="me";X0U+="diacac";X0U+="he";X0U+="looku";X0U+="p";switch(v8U){case 1:v8U=!c||0>=c.length?5:4;break;case 5:h(),b.BI(X0U,{W_:b.Wl.time.ea()-d,qX:!1});v8U=9;break;case 4:n=c[0];b.ei.read(f.ek,n,function(c,f){var N8U,d,g,k8U,E0U,u0U;N8U=2;while(N8U!==14){E0U=" fa";E0U+="i";E0U+="led";u0U="Reading ";u0U+="mov";u0U+="ie ";u0U+="e";u0U+="ntry ";switch(N8U){case 5:N8U=!r.W(f)?4:8;break;case 4:N8U=f instanceof ArrayBuffer?3:9;break;case 2:c&&b.u.warn(u0U+n+E0U,c);N8U=5;break;case 9:d={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};N8U=8;break;case 3:try{k8U=2;while(k8U!==1){switch(k8U){case 2:d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));k8U=1;break;}}}catch(A){}N8U=8;break;case 8:r.W(d)||(g=l.Vfa(d));r.W(g)||r.Oa(g)||(g.Xb=g.Xb||{},g.headers=g.headers||{});b.$La(g)?h(g):(b.C9a(a),h());N8U=14;break;}}});v8U=9;break;case 2:v8U=1;break;}}});D8U=1;break;}}});break;}}});break;}}};a.prototype.Lub=function(a,b,c){var M8U,d,h,c3U;M8U=2;while(M8U!==8){c3U="M";c3U+="edia c";c3U+="a";c3U+="che is not enable";c3U+="d";switch(M8U){case 5:M8U=!this.nr?4:3;break;case 2:d=this;M8U=5;break;case 3:h=this.Wl.time.ea();return this.nr.then(function(){var r8U;r8U=2;while(r8U!==1){switch(r8U){case 2:return new Promise(function(l){var L8U;L8U=2;while(L8U!==1){switch(L8U){case 2:d.ei.GC(f.ek,a,function(f){var z8U;z8U=2;while(z8U!==5){switch(z8U){case 2:f=f.reduce(function(a,b){var i8U,c,o0U;i8U=2;while(i8U!==8){o0U="drmHe";o0U+="ad";o0U+="er.__embed_";o0U+="_";switch(i8U){case 5:i8U=-1!==c.indexOf(o0U)?4:3;break;case 4:return a;break;case 2:c=b.substr(0,b.lastIndexOf("."));i8U=5;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});d.$Bb(f,b).then(function(b){var e8U,f,n,s3U,O3U;e8U=2;while(e8U!==6){s3U="medi";s3U+="acachelook";s3U+="up";O3U="No ";O3U+="content data found fo";O3U+="r ";switch(e8U){case 2:e8U=1;break;case 5:return l();break;case 1:e8U=void 0===c||void 0===b?5:4;break;case 4:f=d.Wl.time.ea()-h;n=!1;r.W(b)||r.W(b.data)||!r.Ue(b.data)?d.u.trace(O3U+a,c):n=!0;d.BI(s3U,{W_:f,qX:n});e8U=7;break;case 7:l(b);e8U=6;break;}}},function(){var f8U;f8U=2;while(f8U!==1){switch(f8U){case 4:l();f8U=9;break;f8U=1;break;case 2:l();f8U=1;break;}}});z8U=5;break;}}});L8U=1;break;}}});break;}}});break;case 4:return Promise.reject(c3U);break;}}};W8U=4;break;case 4:a.prototype.Mub=function(a,b){var X8U,c,f;X8U=2;while(X8U!==3){switch(X8U){case 2:c=this;f=this.Wl.time.ea();return this.nr.then(function(){var u8U;u8U=2;while(u8U!==1){switch(u8U){case 2:return c.QAa(a);break;case 4:return c.QAa(a);break;u8U=1;break;}}}).then(function(d){var E8U,H3U;E8U=2;while(E8U!==5){H3U="media";H3U+="cac";H3U+="hel";H3U+="ooku";H3U+="p";switch(E8U){case 2:E8U=d?1:4;break;case 1:return c.g9a(a.toString(),b,f);break;case 9:E8U=d?6:7;break;E8U=d?1:4;break;case 4:c.BI(H3U,{W_:c.Wl.time.ea()-f,qX:!1});E8U=5;break;}}});break;}}};a.prototype.DEb=function(a,b){var o8U,c;o8U=2;while(o8U!==4){switch(o8U){case 2:c=l.Wfa(a);this.ei.save(f.ek,[f.nT,a.G].join("."),c,f.yw,function(){var O2U;O2U=2;while(O2U!==1){switch(O2U){case 4:b();O2U=2;break;O2U=1;break;case 2:b();O2U=1;break;}}});o8U=4;break;}}};W8U=9;break;case 9:a.prototype.CEb=function(a,b){var s2U,c,d,h,g,k,m;s2U=2;while(s2U!==19){switch(s2U){case 7:k[d+"."+f.V0a]={Vn:n.Kr(a.xi.map(function(a){var c2U;c2U=2;while(c2U!==1){switch(c2U){case 2:return a.data;break;case 4:return a.data;break;c2U=1;break;}}})),Cd:f.yw};s2U=6;break;case 6:s2U=a.stream.Vd&&!r.W(a.stream.Z)?14:20;break;case 2:c=this;d=[a.G,a.ta,f.u0a].join(".");h=this.Wl.time.ea();g=l.wJa(a);k={};k[d+"."+f.B6]={Vn:g,Cd:f.yw};s2U=7;break;case 20:this.ei.YSa(f.ek,k,function(f){var H2U;H2U=2;while(H2U!==5){switch(H2U){case 2:f||(f=c.Wl.time.ea()-h,a.Sj&&(r.W(a.Sj.Xb.ao)&&(a.Sj.Xb.ao=0),a.Sj.Xb.ao+=f));b();H2U=5;break;}}});s2U=19;break;case 14:g={timescale:a.stream.Z.T,startTicks:a.stream.Z.Zj,offset:a.stream.Z.Yg(0)};m=a.stream.Z.HI;k[d+"."+f.rsa]={Vn:g,Cd:f.yw};s2U=11;break;case 11:k[d+"."+f.c0a]={Vn:m.sizes.buffer,Cd:f.yw};s2U=10;break;case 10:k[d+"."+f.b0a]={Vn:m.Kd.buffer,Cd:f.yw};s2U=20;break;}}};a.prototype.BEb=function(a,b,c){var P2U,d,h,n,g,k,A3U;P2U=2;while(P2U!==11){A3U="U";A3U+="nable to save ";A3U+="fragment because response is not an Ar";A3U+="rayBuf";A3U+="fer";switch(P2U){case 6:k[g+"."+f.B6]={Vn:a,Cd:f.yw};r.W(h)||(k[g+"."+f.c2a]={Vn:h,Cd:f.yw});this.ei.YSa(f.ek,k,function(a){var A2U,P3U;A2U=2;while(A2U!==5){P3U="Fai";P3U+="led to sa";P3U+="v";P3U+="e fragment";switch(A2U){case 2:a?d.u.warn(P3U,a):(a=d.Wl.time.ea()-n,r.W(b.Xb.ao)&&(b.Xb.ao=0),b.Xb.ao+=a);c();A2U=5;break;}}});P2U=11;break;case 3:n=this.Wl.time.ea();g=[a.G,a.ta,a.oc].join(".");a=l.Sfa(a);k={};P2U=6;break;case 4:P2U=h instanceof ArrayBuffer?3:12;break;case 2:d=this;h=a.response;P2U=4;break;case 12:c(Error(A3U));P2U=11;break;}}};a.prototype.EEb=function(a){var g2U,U2U,Z,ma,K2U,N,B,b2U,Z2U,p2U,n2U,T2U,S2U,b,d,h,n,g,k,m,p,x,t,u,da,W,na,oa,g3U,j3U;g2U=2;while(g2U!==15){switch(g2U){case 20:try{U2U=2;while(U2U!==14){switch(U2U){case 2:Z=c.__values(u),ma=Z.next();U2U=1;break;case 1:U2U=!ma.done?5:14;break;case 6:ma=Z.next();U2U=1;break;case 9:U2U=W?8:6;break;case 5:da=ma.value;W=t[da];u={};U2U=9;break;case 7:p[da]=u;U2U=6;break;case 8:try{K2U=2;while(K2U!==7){switch(K2U){case 1:K2U=!B.done?5:7;break;case 2:N=(h=void 0,c.__values(W)),B=N.next();K2U=1;break;case 4:K2U=na instanceof q.YR&&na.response instanceof ArrayBuffer&&!r.W(na.oc)?3:8;break;case 5:na=B.value;K2U=4;break;case 3:oa=l.Sfa(na);K2U=9;break;case 9:u[na.oc]={mediaType:oa.mediaType,streamId:oa.streamId,movieId:oa.movieId,bitrate:oa.bitrate,location:oa.location,serverId:oa.serverId,saveToDisk:oa.saveToDisk,offset:oa.offset,bytes:oa.bytes,timescale:oa.timescale,startTicks:oa.startTicks,durationTicks:oa.durationTicks,response:na.response};K2U=8;break;case 8:B=N.next();K2U=1;break;}}}catch(za){h={error:za};}finally{b2U=2;while(b2U!==1){switch(b2U){case 2:try{Z2U=2;while(Z2U!==1){g3U="r";g3U+="et";g3U+="u";g3U+="r";g3U+="n";switch(Z2U){case 2:B&&!B.done&&(n=N[g3U])&&n.call(N);Z2U=1;break;}}}finally{p2U=2;while(p2U!==5){switch(p2U){case 1:throw h.error;p2U=5;break;case 2:p2U=h?1:5;break;case 9:throw h.error;p2U=6;break;p2U=5;break;}}}b2U=1;break;}}}U2U=7;break;}}}catch(za){b={error:za};}finally{n2U=2;while(n2U!==1){switch(n2U){case 2:try{T2U=2;while(T2U!==1){j3U="ret";j3U+="u";j3U+="rn";switch(T2U){case 2:ma&&!ma.done&&(d=Z[j3U])&&d.call(Z);T2U=1;break;}}}finally{S2U=2;while(S2U!==5){switch(S2U){case 9:throw b.error;S2U=6;break;S2U=5;break;case 1:throw b.error;S2U=5;break;case 2:S2U=b?1:5;break;case 3:S2U=b?0:9;break;S2U=b?1:5;break;}}}n2U=1;break;}}}g2U=19;break;case 3:p=l.Wfa(a);m.movieEntry=p;g2U=8;break;case 14:m.headers=x;g2U=13;break;case 7:x={};g2U=6;break;case 2:g=this;k=this.Wl.time.ea();m={};g2U=3;break;case 13:g2U=a&&a.data?12:18;break;case 6:Object.keys(a.headers).forEach(function(b){var j2U,c;j2U=2;while(j2U!==4){switch(j2U){case 2:c=l.uJa(a.headers[b]);x[b]=c;j2U=4;break;}}});g2U=14;break;case 19:m.data=p;g2U=18;break;case 12:p={};t=a.data;u=Object.keys(a.data);g2U=20;break;case 8:g2U=a.headers?7:13;break;case 18:b={lifespan:259200};this.J7a&&(b.convertToBinaryData=!0);this.ei.save(f.ek,a.G,m,b,function(a){var I2U,U3U;I2U=2;while(I2U!==1){U3U="s";U3U+="aveto";U3U+="di";U3U+="s";U3U+="k";switch(I2U){case 2:a||g.BI(U3U,{ZSa:g.Wl.time.ea()-k});I2U=1;break;}}});g2U=15;break;}}};a.prototype.$La=function(a){var a2U;a2U=2;while(a2U!==1){switch(a2U){case 2:return!(r.W(a)||r.Oa(a)||r.W(a.Xb)||r.Oa(a.Xb)||r.W(a.G)||r.Oa(a.G)||r.W(a.he)||r.Oa(a.he));break;}}};a.prototype.pvb=function(a){var F2U,b,c;F2U=2;while(F2U!==3){switch(F2U){case 4:return new Promise(function(a){var q2U,x2U;q2U=2;while(q2U!==4){switch(q2U){case 2:q2U=r.W(b.ei)?1:5;break;case 9:q2U=r.W(b.ei)?7:2;break;q2U=r.W(b.ei)?1:5;break;case 1:a();q2U=4;break;case 8:a();q2U=5;break;q2U=4;break;case 5:try{x2U=2;while(x2U!==1){switch(x2U){case 2:b.ei.GC(f.ek,"",function(b){var d2U;d2U=2;while(d2U!==5){switch(d2U){case 2:b=b.filter(function(a){var Q2U,K3U;Q2U=2;while(Q2U!==5){K3U="movieEn";K3U+="t";K3U+="ry";switch(Q2U){case 2:a=a.split(".");return c&&(c===a[0]||K3U===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var J2U,c,b3U;J2U=2;while(J2U!==3){b3U="m";b3U+="ovi";b3U+="eE";b3U+="n";b3U+="try";switch(J2U){case 2:c=b.split(".");b3U!==c[0]&&(b=c[1],c=c[2],r.W(a[b])&&(a[b]={}),r.W(a[b][c])&&(a[b][c]=!0));J2U=4;break;case 4:return a;break;}}},{});a(b);d2U=5;break;}}});x2U=1;break;}}}catch(J){a();}q2U=4;break;}}});break;case 2:b=this;c=r.W(a)?"":a.toString();F2U=4;break;}}};a.prototype.Pub=function(a,b){var B2U,c;B2U=2;while(B2U!==4){switch(B2U){case 2:c=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var h2U,c,f;h2U=2;while(h2U!==7){switch(h2U){case 3:f=b.data;h2U=9;break;case 2:c={};b.headers&&Object.keys(b.headers).forEach(function(a){var Y2U;Y2U=2;while(Y2U!==5){switch(Y2U){case 2:c[a]||(c[a]={});c[a].header=!0;Y2U=5;break;}}});h2U=4;break;case 4:h2U=b.data?3:8;break;case 8:return a(c);break;case 9:Object.keys(f).forEach(function(a){var l2U;l2U=2;while(l2U!==5){switch(l2U){case 2:c[a]||(c[a]={});f[a].forEach(function(b){var w2U;w2U=2;while(w2U!==1){switch(w2U){case 2:r.W(b.oc)||(c[a][b.oc]=!0);w2U=1;break;}}});l2U=5;break;}}});h2U=8;break;}}}):this.QAa(a).then(function(b){var W2U;W2U=2;while(W2U!==5){switch(W2U){case 2:W2U=b?1:5;break;case 1:return new Promise(function(b){var t2U;t2U=2;while(t2U!==1){switch(t2U){case 2:c.ei.read(f.ek,a,function(c,f){var m2U,d,h;m2U=2;while(m2U!==4){switch(m2U){case 1:m2U=c?5:3;break;case 2:m2U=1;break;case 3:m2U=r.W(f)?9:8;break;case 5:b();m2U=4;break;case 8:d=f[a];h={};d.headers&&Object.keys(d.headers).forEach(function(a){var G2U;G2U=2;while(G2U!==5){switch(G2U){case 2:h[a]||(h[a]={});h[a].header=!0;G2U=5;break;}}});m2U=14;break;case 9:b(void 0);m2U=4;break;case 14:d.data&&Object.keys(d.data).forEach(function(a){var V2U;V2U=2;while(V2U!==5){switch(V2U){case 2:h[a]||(h[a]={});Object.keys(d.data[a]).forEach(function(b){var C2U;C2U=2;while(C2U!==1){switch(C2U){case 2:h[a][b]=!0;C2U=1;break;case 4:h[a][b]=-4;C2U=0;break;C2U=1;break;}}});V2U=5;break;}}});b(h);m2U=4;break;}}});t2U=1;break;}}});break;case 3:W2U=b?8:1;break;W2U=b?1:5;break;}}});break;}}};a.prototype.Rob=function(){var y2U,a,Z3U;y2U=2;while(y2U!==4){Z3U="Me";Z3U+="dia ca";Z3U+="che";Z3U+=" is ";Z3U+="not enabled";switch(y2U){case 2:a=this;return this.nr?this.nr.then(function(){var R2U;R2U=2;while(R2U!==1){switch(R2U){case 2:return new Promise(function(b){var D2U;D2U=2;while(D2U!==1){switch(D2U){case 2:a.ei.GC(f.ek,f.nT,function(a){var v2U,c;v2U=2;while(v2U!==8){switch(v2U){case 4:c=[];a.forEach(function(a){var N2U;N2U=2;while(N2U!==1){switch(N2U){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);N2U=1;break;}}});b(c);v2U=8;break;case 1:v2U=!a||0>=a.length?5:4;break;case 2:v2U=1;break;case 5:b([]);v2U=8;break;}}});D2U=1;break;}}});break;}}}):Promise.reject(Z3U);break;}}};W8U=11;break;}}function a(a,b,c){var t8U,S3U,T3U,n3U,p3U;t8U=2;while(t8U!==13){S3U="1SIYbZr";S3U+="NJCp";S3U+="9";T3U="Media cache has n";T3U+="ot been initia";T3U+="ized";n3U="me";n3U+="dia|";n3U+="a";n3U+="sejs";p3U="MED";p3U+="IA";p3U+="CACH";p3U+="E";switch(t8U){case 2:this.u=new b.Console(p3U,n3U);this.qaa=(a.ez||a.Koa)&&0<(a.Ix||(b.options||{}).vH||0);this.B6a=a.skb?a.skb:!1;t8U=4;break;case 4:this.po=a.mja?a.mja:!1;this.J7a=a.eOa?a.eOa:!1;this.I=a;this.Wl=b;this.Ce=c;t8U=6;break;case 6:this.nr=Promise.reject(T3U);S3U;t8U=13;break;}}}}();b.Oua=a;d.Ke(g.EventEmitter,a);},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,T,Q,V,S,A,Z,B,da,W;Object.defineProperty(b,"__esModule",{value:!0});b.Psa=void 0;c=a(0);d=a(16);g=a(5);m=a(8);r=a(239);q=a(218);n=a(404);l=a(83);a(415);f=a(375);h=a(157);p=a(19);t=a(226);u=a(760);E=a(80);J=a(18);K=a(4);D=a(158);T=a(384);Q=a(385);V=K.Promise;S=new K.Console("HEADERCACHE","media|asejs");a=new K.Console("MEDIACACHE","media|asejs");A=K.HD;Z=S.trace.bind(S);a.trace.bind(a);B=S.warn.bind(S);da=S.error.bind(S);W=S.info.bind(S);a=function(a){var I3U;function b(b,c,f,d){var a3U,Q20,I20;a3U=2;while(a3U!==25){Q20="1S";Q20+="IYbZ";Q20+="rNJCp9";I20="c";I20+="a";I20+="t";I20+="c";I20+="h";switch(a3U){case 8:b.Vl=c;b.oe=Object.create(null);a3U=6;break;case 2:b=a.call(this)||this;b.Aj=Z;b.$e=da;b.eb=B;b.rTb=W;b.iL=Object.create(null);a3U=8;break;case 6:b.Rw=0;b.Vi=[];b.rL=c.yX;b.vr=[];a3U=11;break;case 19:b.qaa=(b.Vl.ez||b.Vl.Koa)&&0<(b.Vl.Ix||(K.options||{}).vH||0);b.po=b.Vl.mja;b.af=void 0;b.qaa&&(b.Vl.Ix||(c=(K.options||{}).vH||0,b.Vl.set?b.Vl.set({Ix:c}):b.Vl.Ix=(K.options||{}).vH||0),b.af=new u.Oua(b.Vl,K,b),b.af.Ab(b,d).then(function(){var F3U,N20;F3U=2;while(F3U!==1){N20="Me";N20+="di";N20+="a cache in";N20+="itialized";switch(F3U){case 4:Z("");F3U=3;break;F3U=1;break;case 2:Z(N20);F3U=1;break;}}})[I20](function(a){var q3U,Y20;q3U=2;while(q3U!==1){Y20="Media cac";Y20+="he did n";Y20+="ot initialize";switch(q3U){case 4:da("",a);q3U=6;break;q3U=1;break;case 2:da(Y20,a);q3U=1;break;}}}));a3U=15;break;case 15:b.cl=f;Q20;return b;break;case 11:b.UU=!1;b.JE=[];b.zA={};a3U=19;break;}}}I3U=2;while(I3U!==49){switch(I3U){case 25:b.prototype.w9a=function(a,b){var o3U,c,d,h,l,n,k,r,q,x,F,u,I,E,K,G20;o3U=2;while(o3U!==25){G20="A ";G20+="c";G20+="onfig must be";G20+=" passed to _requestHeader";switch(o3U){case 3:l=b.Vc;n=b.ye;k=b.Hob();r=k.ya;o3U=6;break;case 6:q=k.Cf;k=k.PA;o3U=13;break;case 19:o3U=!u?18:17;break;case 26:return(n&&this.af?this.po?this.af.Pub(d,I):this.af.pvb(d):V.resolve(void 0)).then(function(a){var O7U;O7U=2;while(O7U!==5){switch(O7U){case 2:u.forEach(function(b){var s7U,f;s7U=2;while(s7U!==4){switch(s7U){case 2:f=K?K:x.LZ;x.wN&&I.headers[b.ta]||(m.W(I.Mo)&&b.L===p.Na.VIDEO&&(I.Mo=b.R,I.So=b.So,I.kq=b.kq,I.zk=b.rrb,I.Ak=b.PZ),q&&b.L===p.Na.VIDEO&&x.kY?f=x.kY:x.LWa&&b.Is&&(f=b.Is.offset+b.Is.size),b={stream:b,url:b.url,offset:0,aa:f,ye:n},n&&(I.Xb.nwb=!m.W(a)&&0<Object.keys(a).length,b.vy=a),b=c.x9a(b,l,I,x),E.push(b));s7U=4;break;}}});return V.all(E);break;}}}).then(function(a){var c7U;c7U=2;while(c7U!==1){switch(c7U){case 2:return new V(function(b){var H7U;H7U=2;while(H7U!==1){switch(H7U){case 2:c.af&&n&&!c.po?c.af.DEb(I,function(){var P7U;P7U=2;while(P7U!==1){switch(P7U){case 2:b(a);P7U=1;break;case 4:b(a);P7U=9;break;P7U=1;break;}}}):b(a);H7U=1;break;}}});break;}}}).then(function(a){var A7U;A7U=2;while(A7U!==3){switch(A7U){case 5:I.Xb.M_=a;return{firstheadersent:I.Xb.vY,lastheadercomplete:I.Xb.M_};break;case 2:a=Math.max.apply(Math,a);I.Xb.vY=I.Xb.cLa;A7U=5;break;}}});break;case 2:c=this;d=b.G;h=b.he;o3U=3;break;case 20:u=this.Xpb(a,F,r,k,q,x,b.Dr);o3U=19;break;case 12:x=b.config;x=f.Dca(x,r);o3U=10;break;case 13:g.assert(b.config,G20);o3U=12;break;case 18:return V.reject();break;case 17:I=this.oe[d];I||(I={he:h,G:d,headers:Object.create(null),jq:0,KZ:0,$F:0,data:void 0,ye:n,Xb:{},DX:void 0,RCa:void 0},!I.ye||this.po?this.oe[d]=I:I.Xb.ao=0,this.Vi.push(I),this.Vi.sort(this.w1));E=[];x.krb&&(K=2292+12*Math.ceil(r.duration/2E3));o3U=26;break;case 10:F={stream:[new T.mU(x.oba,x,new Q.lU()),new T.mU(x.T2,x,new Q.lU())],location:new t.kT(r,a.yb,a.Df,x,void 0),U:{state:J.pa.Mg,r_:!0,fQ:0,playbackRate:1,buffer:{Tp:void 0,S:0,od:0,Lb:0,ol:0,jj:0,Z:[],Vh:void 0,$ea:void 0}}};o3U=20;break;}}};b.prototype.Q9=function(a,b){var g7U,c;g7U=2;while(g7U!==7){switch(g7U){case 4:b=new n.U3(a.stream,b,this.vr[c],a,this,!0,S);b.ye=a.ye;b.Re=this;g7U=8;break;case 2:c=a.stream.L;2>this.vr.length&&this.cAa();g7U=4;break;case 8:return b;break;}}};b.prototype.d6a=function(a,b){var j7U,c;j7U=2;while(j7U!==7){switch(j7U){case 2:c=a.stream.L;2>this.vr.length&&this.cAa();j7U=4;break;case 4:b=q.YR.create(a.stream,b,this.vr[c].track,a,this,!0,S);b.ye=a.ye;b.Re=this;return b;break;}}};b.prototype.KU=function(a){var U7U,b,x20;U7U=2;while(U7U!==8){x20="sav";x20+="e";x20+="tod";x20+="is";x20+="k";switch(U7U){case 2:this.bc(a)&&delete this.iL[a.ta];this.bc(a)||delete a.response;a.mc();b=this.oe[a.G]||a.Sj;b&&0===b.KZ&&0===b.$F&&(this.H9a(b,a.cd),b.ye&&this.af&&(b.Xb.nwb||(this.po?this.af.EEb(b):this.af.BI(x20,{ZSa:b.Xb.ao}))));U7U=8;break;}}};I3U=21;break;case 42:b.prototype.H9a=function(a,b){var B7U,f20;B7U=2;while(B7U!==4){f20="prebu";f20+="ffstat";f20+="s";switch(B7U){case 2:a.Xb.q1=b;a={type:f20,movieId:a.G,stats:{prebuffstarted:a.Xb.dI,prebuffcomplete:a.Xb.q1}};this.emit(a.type,a);B7U=4;break;}}};b.prototype.B7a=function(a,b){var h7U,c,J20;h7U=2;while(h7U!==4){J20="Med";J20+="ia cache i";J20+="s no";J20+="t ";J20+="enabled";switch(h7U){case 2:c=this;return this.af?this.af.Mub(a,b).then(function(b){var Y7U;Y7U=2;while(Y7U!==5){switch(Y7U){case 1:return c.oe[a]=b.Sj,++c.Rw,c.IU(),c.Vi.push(b.Sj),c.Vi.sort(c.w1),c.Fza(a,b),c.cache[a];break;case 2:Y7U=b&&b.Sj?1:5;break;}}}):V.reject(J20);break;}}};b.prototype.A7a=function(a,b){var l7U,c,f,d,j20;l7U=2;while(l7U!==6){j20="Media cache is ";j20+="no";j20+="t e";j20+="nabled";switch(l7U){case 4:f=void 0;d=!1;l7U=9;break;case 2:c=this;l7U=5;break;case 5:l7U=this.af?4:7;break;case 9:this.af.$La(this.oe[a])?(f=V.resolve(this.oe[a]),d=!0):f=this.af.Qub(a);return f.then(function(f){var w7U;w7U=2;while(w7U!==1){switch(w7U){case 2:return!m.W(f)&&c.af?c.af.Lub(a,b,f).then(function(b){var W7U;W7U=2;while(W7U!==5){switch(W7U){case 2:b&&(d||(c.oe[a]=f,++c.Rw,c.IU(),c.Vi.push(f),c.Vi.sort(c.w1)),c.Fza(a,b));return c.oe[a];break;}}}):V.resolve(void 0);break;}}});break;case 7:return V.reject(j20);break;}}};b.prototype.Fza=function(a,b){var t7U,c,f,d,h;t7U=2;while(t7U!==14){switch(t7U){case 2:c=this;t7U=5;break;case 4:f=this.oe[a];d=b.headers;f&&d&&Object.keys(d).forEach(function(a){var m7U;m7U=2;while(m7U!==1){switch(m7U){case 4:c.o5a(d[a],f);m7U=5;break;m7U=1;break;case 2:c.o5a(d[a],f);m7U=1;break;}}});t7U=8;break;case 5:t7U=b?4:14;break;case 8:t7U=b.data?7:14;break;case 7:h=b.data;Object.keys(h).forEach(function(a){var G7U,b,c;G7U=2;while(G7U!==8){switch(G7U){case 2:b=h[a];m.W(f.data)&&(f.data={});m.W(f.data[a])&&(f.data[a]=[]);c=f.data;b.forEach(function(b){var V7U;V7U=2;while(V7U!==1){switch(V7U){case 2:c[a].push(b);V7U=1;break;case 4:c[a].push(b);V7U=2;break;V7U=1;break;}}});G7U=8;break;}}});t7U=14;break;}}};b.prototype.w1=function(a,b){var C7U;C7U=2;while(C7U!==1){switch(C7U){case 4:return b.he/a.he;break;C7U=1;break;case 2:return b.he-a.he;break;}}};I3U=37;break;case 17:b.prototype.ezb=function(a){var M3U,b;M3U=2;while(M3U!==8){switch(M3U){case 4:this.p5a(a);m.W(a.gO)||a.gO(a.TIb);this.y9a(a,function(){var r3U;r3U=2;while(r3U!==1){switch(r3U){case 2:m.W(a)||(m.W(a.Sj)||a.Sj.KZ--,b.KU(a));r3U=1;break;}}});M3U=8;break;case 2:b=this;a.TIb=a.cd;M3U=4;break;}}};b.prototype.fzb=function(a){var L3U,b,c,f,d,W20,H20,c20,D20,v20;L3U=2;while(L3U!==14){W20="managerde";W20+="b";W20+="ug";W20+="ev";W20+="ent";H20=", r";H20+="em";H20+="ai";H20+="ning: ";c20=",";c20+=" p";c20+="t";c20+="s:";c20+=" ";D20=", s";D20+="tre";D20+="am";D20+="Id: ";v20=", headerCache";v20+=" dataComple";v20+="t";v20+="e: movieI";v20+="d: ";switch(L3U){case 4:f=this.oe[c]||a.Sj;L3U=3;break;case 9:L3U=(this.Vl.Ug&&(c="@"+K.time.ea()+v20+c+D20+a.ta+c20+a.S+H20+(f.$F-1),this.emit(W20,{message:c})),a.ye&&0===a.responseType&&this.af&&!this.po)?8:6;break;case 8:d=K.time.now();this.af.BEb(a,f,function(c){var z3U;z3U=2;while(z3U!==4){switch(z3U){case 2:c||m.W(f)||(c=K.time.ea()-d,m.W(f.Xb)&&(f.Xb={}),m.W(f.Xb.ao)&&(f.Xb.ao=0),f.Xb.ao+=c);--f.$F;b.KU(a);z3U=4;break;}}});L3U=14;break;case 3:L3U=f?9:14;break;case 6:--f.$F,b.KU(a);L3U=14;break;case 2:b=this;c=a.G;L3U=4;break;}}};b.prototype.cAa=function(){var i3U;i3U=2;while(i3U!==1){switch(i3U){case 2:0===this.vr.length&&(this.vr=[h.Bp.Qf.fB(0,void 0,!1,!1,this.cl,this.Vl),h.Bp.Qf.fB(1,void 0,!1,!1,this.cl,this.Vl)],this.vr.forEach(function(a){var e3U;e3U=2;while(e3U!==1){switch(e3U){case 4:return a.Ab();break;e3U=1;break;case 2:return a.Ab();break;}}}),A.te());i3U=1;break;}}};b.prototype.hAa=function(){var f3U,a;f3U=2;while(f3U!==3){switch(f3U){case 2:a=this.vr;this.vr=[];a.forEach(function(a){var X3U;X3U=2;while(X3U!==1){switch(X3U){case 2:h.Bp.Qf.GX(a);X3U=1;break;case 4:h.Bp.Qf.GX(a);X3U=0;break;X3U=1;break;}}});f3U=3;break;}}};b.prototype.F7a=function(){var u3U,a;u3U=2;while(u3U!==4){switch(u3U){case 2:a=this;!this.UU&&0<this.JE.length&&(this.JE.forEach(function(b){var E3U;E3U=2;while(E3U!==1){switch(E3U){case 2:a.GV(b.lrb,b.Vc);E3U=1;break;}}}),this.JE=[]);u3U=4;break;}}};I3U=25;break;case 31:b.prototype.Eza=function(a,b){var a7U,c;a7U=2;while(a7U!==3){switch(a7U){case 5:a7U=(b=this.oe[a.G]||b)?4:3;break;case 2:c=a.ta;a7U=5;break;case 4:b.RCa||b.ye&&!this.po||(b.RCa=!0,++this.Rw),b.headers||(b.headers={}),b.headers[c]=a,this.Vl.wN&&(b.jq||(b.jq=0),++b.jq),this.IU();a7U=3;break;case 8:c=a.ta;a7U=6;break;a7U=5;break;}}};b.prototype.IU=function(){var F7U,b,c,f;F7U=2;function a(a){var q7U;q7U=2;while(q7U!==5){switch(q7U){case 2:a.abort();f+=a.De;q7U=5;break;}}}while(F7U!==11){switch(F7U){case 4:F7U=this.Rw>this.rL?3:12;break;case 2:f=0;F7U=5;break;case 5:F7U=!(this.Rw<=this.rL)?4:11;break;case 3:F7U=(c=this.Vi.shift())?9:4;break;case 9:b=c.G;F7U=8;break;case 8:F7U=c.data?7:6;break;case 7:for(var d in c.data){c.data[d].forEach(a);delete c.data[d];}F7U=6;break;case 12:this.p9a(f);F7U=11;break;case 6:delete this.oe[b];--this.Rw;F7U=13;break;case 13:this.o9a(b);F7U=4;break;}}};b.prototype.p9a=function(a){var x7U,b20;x7U=2;while(x7U!==1){b20="disc";b20+="ard";b20+="ed";b20+="By";b20+="tes";switch(x7U){case 2:0!==a&&(a={type:b20,bytes:a},this.emit(a.type,a));x7U=1;break;}}};I3U=28;break;case 2:c.__extends(b,a);Object.defineProperties(b.prototype,{cache:{get:function(){var x3U;x3U=2;while(x3U!==1){switch(x3U){case 4:return this.oe;break;x3U=1;break;case 2:return this.oe;break;}}},enumerable:!1,configurable:!0}});b.prototype.T1=function(){var d3U;d3U=2;while(d3U!==1){switch(d3U){case 2:return this.vr.map(function(a){var Q3U;Q3U=2;while(Q3U!==1){switch(Q3U){case 4:return a.T1();break;Q3U=1;break;case 2:return a.T1();break;}}});break;}}};I3U=4;break;case 20:b.prototype.Bv=function(a){var v3U,b;v3U=2;while(v3U!==4){switch(v3U){case 2:b=this.oe[a.G];b&&(this.bc(a)?m.W(b.Xb.cLa)&&!m.W(a.jf)&&(b.Xb.cLa=a.jf):m.W(b.Xb.dI)&&!m.W(a.jf)&&(b.Xb.dI=a.jf));v3U=4;break;}}};I3U=19;break;case 4:b.prototype.Yib=function(){var J3U;J3U=2;while(J3U!==5){switch(J3U){case 2:this.flush();this.hAa();J3U=5;break;}}};b.prototype.$L=function(a,b,c){var B3U,f,d;B3U=2;while(B3U!==7){switch(B3U){case 9:c&&delete f[b];d?(this.UU=!1,this.F7a()):this.UU=!0;B3U=7;break;case 4:B3U=(f[b]=a)?3:9;break;case 3:for(var h in f){f.hasOwnProperty(h)&&!1===f[h]&&(d=!1);}B3U=9;break;case 2:f=this.zA;d=a;B3U=4;break;}}};b.prototype.mBb=function(a,b){var h3U,c,f,d,h,k20,R20,S20;h3U=2;while(h3U!==25){k20="); igno";k20+="ring ";k20+="pr";k20+="epare for";k20+=" movieId: ";R20="PTS";R20+=" passed to HeaderCa";R20+="che.prepareP is not und";R20+="efined or a ";R20+="positive number (";S20="A config must be";S20+=" pass";S20+="e";S20+="d to prepareP";switch(h3U){case 17:return V.resolve();break;case 6:return V.reject();break;case 7:h3U=h.qwb?6:14;break;case 14:h3U=!m.W(d)&&(!m.ma(d)||0>d)?13:12;break;case 10:h3U=!this.po||!c.ye?20:17;break;case 11:h3U=!m.W(c)&&(2<=c.jq||!h.wN)?10:16;break;case 20:h3U=(c.he=f,this.Vi.sort(this.w1),!m.W(d))?19:17;break;case 12:c=this.oe[c];h3U=11;break;case 3:g.assert(b.config,S20);h3U=9;break;case 15:h3U=f>h.Jga||this.Rw+1>this.rL&&f>this.Vi[0].he?27:26;break;case 18:for(var l in c.headers){a=c.headers[l];!m.W(a.url)&&null!==a.url&&(void 0===c.data||void 0===c.data[l]||c.data[l].length<h.kda)?this.GV(a,d):(m.W(a.url)||null===a.url)&&void 0!==c.data&&void 0!==c.data[l]&&0<c.data[l].length&&delete c.headers[l];}h3U=17;break;case 26:return this.w9a(a,b);break;case 16:h3U=!b.ye||!this.af||this.po?15:26;break;case 19:void 0===c.data&&(c.Xb.dI=void 0);h3U=18;break;case 13:return da(R20+d+k20+c),V.reject();break;case 2:c=b.G;f=b.he;d=b.Vc;h3U=3;break;case 27:return V.reject();break;case 9:h=b.config;this.Zma(h.yX);h3U=7;break;}}};I3U=8;break;case 19:b.prototype.hj=function(a){var N3U;N3U=2;while(N3U!==1){switch(N3U){case 2:this.bc(a)?this.ezb(a):this.fzb(a);N3U=1;break;}}};b.prototype.BP=function(a){var k3U,i20;k3U=2;while(k3U!==5){i20="_";i20+="o";i20+="nError: ";switch(k3U){case 2:B(i20,a.toString());this.KU(a);k3U=5;break;}}};I3U=17;break;case 28:b.prototype.r9a=function(a){var d7U,q20;d7U=2;while(d7U!==1){q20="fl";q20+="ushedB";q20+="yte";q20+="s";switch(d7U){case 2:0!==a&&(a={type:q20,bytes:a},this.emit(a.type,a));d7U=1;break;}}};b.prototype.o9a=function(a){var Q7U,m20;Q7U=2;while(Q7U!==5){m20="ca";m20+="cheEv";m20+="ict";switch(Q7U){case 2:a={type:m20,movieId:a};this.emit(a.type,a);Q7U=5;break;}}};b.prototype.y9a=function(a,b){var J7U,c;J7U=2;while(J7U!==9){switch(J7U){case 2:c=a.Zc;m.W(a.uSa)||this.GV(a,a.uSa);J7U=4;break;case 4:!this.af||!a.ye||this.po||m.W(a.vy)||a.vy[a.ta]&&a.vy[a.ta].header?b():this.af.CEb(a,b);c.t3||0!==Object.keys(this.iL).length||this.hAa();J7U=9;break;}}};I3U=42;break;case 8:b.prototype.flush=function(){var Y3U,a,P20,U20;Y3U=2;while(Y3U!==7){P20="managerdebuge";P20+="v";P20+="ent";U20=", he";U20+="aderCa";U20+="che flush: ";switch(Y3U){case 2:this.hIa();for(var b in this.iL){a=this.iL[b];a.abort();}this.oe=Object.create(null);this.Rw=0;this.Vi=[];Y3U=8;break;case 8:this.Vl.Ug&&(a="@"+K.time.ea()+U20,this.emit(P20,{message:a}));Y3U=7;break;}}};b.prototype.list=function(){var l3U;l3U=2;while(l3U!==1){switch(l3U){case 4:return this.Vi;break;l3U=1;break;case 2:return this.Vi;break;}}};b.prototype.Zma=function(a){var w3U;w3U=2;while(w3U!==1){switch(w3U){case 2:this.rL!==a&&(this.rL=a,this.IU());w3U=1;break;}}};I3U=14;break;case 14:b.prototype.QO=function(a,b){var W3U;W3U=2;while(W3U!==4){switch(W3U){case 2:W3U=(a=this.oe[a])?1:4;break;case 1:W3U=(b=a.headers[b])?5:4;break;case 9:W3U=(a=this.oe[a])?3:5;break;W3U=(a=this.oe[a])?1:4;break;case 5:return b;break;}}};b.prototype.ovb=function(a,b){var t3U,c,f;t3U=2;while(t3U!==3){switch(t3U){case 2:c=this;f=this.lNa(a);return f||!this.af?V.resolve(f):(this.po?this.B7a(a,b):this.A7a(a,b)).then(function(a){var m3U;m3U=2;while(m3U!==1){switch(m3U){case 2:return c.lRa(a);break;case 4:return c.lRa(a);break;m3U=1;break;}}});break;}}};b.prototype.lNa=function(a){var G3U;G3U=2;while(G3U!==1){switch(G3U){case 2:return this.lRa(this.oe[a]);break;case 4:return this.lRa(this.oe[a]);break;G3U=1;break;}}};b.prototype.jv=function(){var V3U,u20;V3U=2;while(V3U!==1){u20="Media cach";u20+="e is ";u20+="not enabled";switch(V3U){case 2:return this.af?this.af.Rob():V.reject(u20);break;}}};b.prototype.hIa=function(){var C3U,c,f,d,M20,r20;function a(a){var y3U;y3U=2;while(y3U!==1){switch(y3U){case 2:a.VEa();y3U=1;break;case 4:a.VEa();y3U=8;break;y3U=1;break;}}}C3U=2;while(C3U!==3){switch(C3U){case 2:c=0;for(f in this.oe){d=this.oe[f];if(d.data){for(var h in d.data){M20="in";M20+=" ";M20+="entry:";r20="missing headerEn";r20+="try for ";r20+="st";r20+="ream";r20+="Id:";d.headers[h]||da(r20,h,M20,d);b(d,h);d.data[h].forEach(a);delete d.data[h];}delete d.data;}}this.r9a(c);C3U=3;break;}}function b(a,b){var R3U;R3U=2;while(R3U!==1){switch(R3U){case 2:a&&a.data&&a.data[b].forEach(function(a){var D3U;D3U=2;while(D3U!==5){switch(D3U){case 2:a.abort();c+=a.De;D3U=5;break;}}});R3U=1;break;}}}};I3U=20;break;case 21:b.prototype.x9a=function(a,b,c,f){var K7U,d;K7U=2;while(K7U!==11){switch(K7U){case 8:return V.reject();break;case 2:d=this.Q9(a,f);d.uSa=b;d.Sj=c;K7U=3;break;case 3:d.vy=a.vy;K7U=9;break;case 7:c.KZ++;this.iL[d.ta]=d;K7U=14;break;case 12:return new V(function(a){var b7U;b7U=2;while(b7U!==1){switch(b7U){case 2:d.gO=a;b7U=1;break;case 4:d.gO=a;b7U=8;break;b7U=1;break;}}});break;case 13:d.gO=a.gO;K7U=11;break;case 9:K7U=!d.vs()?8:7;break;case 14:K7U=a.gO?13:12;break;}}};b.prototype.K7a=function(a,b,c){var Z7U,f,d;Z7U=2;while(Z7U!==7){switch(Z7U){case 4:Z7U=0<f?3:9;break;case 2:f=a.lda;b.ye&&this.af&&(a.i0?f=a.i0:a.VNa&&0<a.VNa&&(f=2E3*a.VNa));Z7U=4;break;case 3:return function(a,b){var a7M=S8ii;var p7U;p7U=2;while(p7U!==1){switch(p7U){case 4:a7M.z20(0);return a7M.d30(b,f);break;p7U=1;break;case 2:a7M.K20(1);return a7M.a30(f,b);break;}}};break;case 9:d=c&&c.length<a.kda?c.length:a.kda;return function(a){var B7M=S8ii;var n7U;n7U=2;while(n7U!==1){switch(n7U){case 4:B7M.K20(2);return B7M.a30(a,d);break;n7U=1;break;case 2:B7M.z20(1);return B7M.d30(d,a);break;}}};break;}}};b.prototype.GV=function(a,b){var T7U,c,f,d,h,l,n,g,k,r,q,x,s20,C20,g20,L20,O20,Z20,F20;T7U=2;while(T7U!==47){s20="ma";s20+="na";s20+="gerd";s20+="e";s20+="bugevent";C20=", s";C20+="ta";C20+="r";C20+="tPts: ";g20=", ";g20+="pt";g20+="s: ";L20=", ";L20+="st";L20+="reamId: ";O20=", header";O20+="Cache requestDa";O20+="t";O20+="a:";O20+=" movieId: ";Z20="no pr";Z20+="oper ";Z20+="fragm";Z20+="ent found to request data at pts";F20="u";F20+="nd";F20+="ef";F20+="in";F20+="ed";switch(T7U){case 19:b=l.am;T7U=18;break;case 29:q=k&&k.L;T7U=28;break;case 23:T7U=this.gna(a.L,h)?22:35;break;case 10:l.DX=a;return;break;case 36:m.W(l.am)&&(l.am=k.S);k.ye&&(k.responseType=0);a.ye&&this.af&&a.vy&&a.vy[f]&&F20!==typeof k.S&&a.vy[f][k.S]||(q=this.d6a(k,a.Zc),q.ye&&(q.Sj=a.Sj),q.vs(),++l.$F,b.push(q));T7U=52;break;case 43:T7U=(void 0===k&&(k=a.stream.wi(g)),void 0!==k)?42:49;break;case 21:r&&(k.L===p.Na.AUDIO&&!h.tja&&r.Vc<(h.yo&&!h.NA&&d.Ei?Math.floor(d.Ei.va):0)&&(++r.Gm,r.Vc+=k.Qa.va),0<r.Gm&&k.Xj({start:r.Gm}));T7U=35;break;case 24:k.ye=a.ye;T7U=23;break;case 14:l=this.oe[c]||a.Sj;T7U=13;break;case 42:k.ye=a.ye;T7U=41;break;case 26:k=a.stream.wi(g);T7U=25;break;case 22:r=k.qY(b);T7U=21;break;case 44:T7U=g<(n&&n.length||0)&&!c(r,d)?43:48;break;case 49:++g;T7U=44;break;case 27:da(Z20,b);T7U=47;break;case 18:a.L===p.Na.AUDIO&&h.yo&&!h.NA&&d.Ei&&(b=Math.max(d.Z&&d.Z.Sh(0)||0,b+d.Ei.va));n=a.stream.Z;g=n&&n.jm(b);T7U=15;break;case 41:T7U=!m.W(n)&&!k.Ua?40:36;break;case 35:h.Ug&&(b="@"+K.time.ea()+O20+c+L20+f+g20+b+C20+k.S,this.emit(s20,{message:b}));T7U=34;break;case 6:this.JE.shift();T7U=7;break;case 12:T7U=a.L===p.Na.AUDIO?11:18;break;case 2:T7U=1;break;case 38:k.Raa(n.get(q)),k.pP=q+1,g=q;T7U=37;break;case 15:T7U=-1===g||void 0===g?27:26;break;case 7:T7U=this.JE.length>h.Iga?6:47;break;case 1:c=a.G;f=a.ta;d=a.stream;h=a.Zc;T7U=9;break;case 40:S8ii.z20(3);q=S8ii.a30(g,1);T7U=39;break;case 11:T7U=void 0===l.am?10:19;break;case 25:T7U=!m.W(k)?24:34;break;case 37:++q;T7U=39;break;case 28:x=q===p.Na.VIDEO?h.v0:h.o0,h=q===p.Na.VIDEO?h.Wwb:h.Qwb;T7U=44;break;case 39:T7U=q<n.length&&(k.aa<x||k.duration<h)?38:36;break;case 8:this.JE.push({lrb:a,Vc:b});T7U=7;break;case 13:T7U=l?12:47;break;case 50:k=void 0;T7U=49;break;case 34:void 0===l.data&&(l.data={});void 0===l.data[f]&&(l.data[f]=[]);b=l.data[f];c=this.K7a(h,a,n);r=d=0;T7U=29;break;case 52:++r;d+=k.duration;T7U=50;break;case 9:T7U=this.UU?8:14;break;case 48:l.DX&&!m.W(l.am)&&(a=l.DX,delete l.DX,this.GV(a,l.am));T7U=47;break;}}};b.prototype.p5a=function(a){var S7U;S7U=2;while(S7U!==1){switch(S7U){case 4:this.Eza(a,a.Sj);S7U=8;break;S7U=1;break;case 2:this.Eza(a,a.Sj);S7U=1;break;}}};b.prototype.o5a=function(a,b){var I7U;I7U=2;while(I7U!==1){switch(I7U){case 2:this.Eza(a,b);I7U=1;break;case 4:this.Eza(a,b);I7U=4;break;I7U=1;break;}}};I3U=31;break;case 52:b.prototype.gna=function(a,b){var L7U;L7U=2;while(L7U!==1){switch(L7U){case 2:return a===p.Na.VIDEO&&b.nG||a===p.Na.AUDIO;break;}}};b.prototype.bc=function(a){var z7U;z7U=2;while(z7U!==1){switch(z7U){case 4:return-+a.bc;break;z7U=1;break;case 2:return!!a.bc;break;}}};return b;break;case 37:b.prototype.lRa=function(a){var y7U,b,c,f;y7U=2;while(y7U!==10){switch(y7U){case 2:b={};y7U=5;break;case 5:y7U=a&&a.data?4:10;break;case 4:for(c in a.data){f=a.data[c];0<f.length&&(b[f[0].L]={ta:c,Po:a.headers[c],data:f});}b.am=a.am;b.jq=a.jq;b.Xb=a.Xb;b.Mo=a.Mo;b.So=a.So;b.kq=a.kq;y7U=13;break;case 13:b.zk=a.zk;b.Ak=a.Ak;return b;break;}}};b.prototype.xEa=function(a,b,c,f,d,h){var R7U,l20,y20,e20;R7U=2;while(R7U!==8){l20="s";l20+="el";l20+="ectStream retu";l20+="rned null";y20="updateStream";y20+="Sele";y20+="ction returned null li";y20+="st";e20="de";e20+="f";e20+="au";e20+="lt";switch(R7U){case 1:a=D[e20](d,h);R7U=5;break;case 2:R7U=b.location.dJ(a,c)?1:9;break;case 5:R7U=(b=b.stream[f?1:0].o2(b.U,c,void 0,f?a.OP:a.Mv))?4:3;break;case 4:return c=c[b.Mc],c.So=b.reason,c.kq=b.as,c.rrb=b.zk,c.PZ=b.Ak,c;break;case 9:B(y20);R7U=8;break;case 3:B(l20);R7U=8;break;}}};b.prototype.lKa=function(a,b,c,f,d,h){var D7U,l,n,g,k;D7U=2;while(D7U!==14){switch(D7U){case 7:k||(k=this.xEa(a,c,g,l,d,h))&&b.push(k);return b;break;case 3:b.Nc.forEach(function(a){var v7U;v7U=2;while(v7U!==1){switch(v7U){case 2:(a.$u?g:n).push(a);v7U=1;break;}}});b=[];f&&0!==n.length&&(k=this.xEa(a,c,n,l,d,h))&&b.push(k);D7U=7;break;case 2:l=b.L===p.Na.VIDEO;n=[];g=[];D7U=3;break;}}};b.prototype.Xpb=function(a,b,c,f,d,h,l){var N7U,n,g,k,q,x,n20,t20;N7U=2;while(N7U!==19){n20="Unable to f";n20+="ind audi";n20+="o nor vide";n20+="o tracks in manifest:";t20="Unable to find request";t20+="ed audio track";t20+=" in manifest:";switch(N7U){case 13:N7U=m.W(q)&&m.W(x)?12:11;break;case 8:a=K.yk();b.U.buffer.Tp=a[p.Na.VIDEO];g.getTracks(1).some(function(a){var M7U;M7U=2;while(M7U!==3){switch(M7U){case 1:return!1;break;case 2:M7U=a.aC.stereo?1:5;break;case 8:M7U=a.aC.stereo?6:3;break;M7U=a.aC.stereo?1:5;break;case 5:q=n.lKa(g.na,a,b,d,h,k);return!0;break;}}});g.getTracks(0).some(function(a){var r7U;r7U=2;while(r7U!==1){switch(r7U){case 2:return a.$a===f?(x=n.lKa(g.na,a,b,d,h,k),!0):!1;break;}}});N7U=13;break;case 2:n=this;void 0===l&&(l=[]);g=new r.$R({na:Number(c.movieId),Ya:0,ya:c,Lk:void 0,jb:function(){var k7U;k7U=2;while(k7U!==1){switch(k7U){case 2:return!0;break;case 4:return~8;break;k7U=1;break;}}},jja:{p_:!!d,Kha:!1},Yi:!1,Dr:l,config:h,QQ:void 0,Lga:void 0,LN:void 0,yb:a.yb,Df:a.Df,LH:void 0,jea:void 0,OC:void 0});g.ad();k=g.sq[0];N7U=8;break;case 10:B(t20,f);N7U=19;break;case 11:N7U=m.W(x)&&f?10:20;break;case 20:return[].concat(q||[]).concat(x||[]);break;case 12:B(n20,f);N7U=19;break;}}};I3U=52;break;}}}(l.Rq);b.Psa=a;E(d.EventEmitter.prototype,a.prototype);},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,T;Object.defineProperty(b,"__esModule",{value:!0});b.Sta=void 0;c=a(0);g=a(8);m=a(19);d=a(16);r=a(761);q=a(746);n=a(722);l=a(4);f=l.Promise;h=a(225);p=a(224);t=a(223);u=a(721);E=a(367);J=a(5);K=new l.Console("ASEJS","media|asejs");D=K.trace.bind(K);T=K.warn.bind(K);d=function(b){var h20;h20=2;function d(c,f){var E20,d,u70,P70,U70;E20=2;while(E20!==12){u70="1";u70+="S";u70+="I";u70+="YbZrNJC";u70+="p9";P70="DE";P70+="BU";P70+="G:";U70="n";U70+="f-as";U70+="e version:";switch(E20){case 2:d=b.call(this)||this;E20=5;break;case 5:d.config=c;d.$v=f;c=a(376);D(U70,c,P70,!1);E20=8;break;case 8:d.jL=!1;d.BBa=!1;d.zA=[];u70;E20=13;break;case 13:return d;break;}}}while(h20!==29){switch(h20){case 19:d.prototype.Hia=function(a){var G70;G70=2;while(G70!==1){switch(G70){case 2:return this.oh&&(a=this.oh.lNa(a))?a:!1;break;}}};d.prototype.jv=function(){var x70;x70=2;while(x70!==1){switch(x70){case 2:return this.oh?this.oh.jv():f.resolve([]);break;}}};d.prototype.m9a=function(a){var f70,b,r70;f70=2;while(f70!==3){r70="can'";r70+="t find";r70+=" session in";r70+=" array";r70+=", movieId:";switch(f70){case 2:this.yb.JQ(null);b=this.zA.indexOf(a);f70=4;break;case 4:g.W(b)?T(r70,a.Jd.O.G):(this.zA.splice(b,1),0===this.zA.length&&this.wm.HHb(),this.wm.save(),this.Df.save());f70=3;break;}}};d.prototype.RTa=function(){};d.prototype.NY=function(a,b,c){var J70;J70=2;while(J70!==1){switch(J70){case 2:return h.OJa(a,b,c);break;case 4:return h.OJa(a,b,c);break;J70=1;break;}}};d.prototype.gKa=function(){var j70,M70;j70=2;while(j70!==4){M70="get";M70+="SessionStati";M70+="stics: St";M70+="reamingManager not initted";switch(j70){case 9:j70=this.jL?2:0;break;j70=this.jL?1:5;break;case 2:j70=this.jL?1:5;break;case 8:return this.yb.Umb();break;j70=4;break;case 5:T(M70);j70=4;break;case 7:T("");j70=1;break;j70=4;break;case 1:return this.yb.Umb();break;}}};d.prototype.UEa=function(a){var v70,b;v70=2;while(v70!==9){switch(v70){case 2:b=this.Df||new t(this.config,this.$v);b.AHa(a);b.save();this.yb&&this.yb.reset();v70=9;break;}}};h20=25;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{yb:{get:function(){var p20;p20=2;while(p20!==1){switch(p20){case 2:return this.LU.yb;break;case 4:return this.LU.yb;break;p20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wm:{get:function(){var B20;B20=2;while(B20!==1){switch(B20){case 2:return this.LU.wm;break;case 4:return this.LU.wm;break;B20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rp:{get:function(){var X20;X20=2;while(X20!==1){switch(X20){case 4:return this.aaa;break;X20=1;break;case 2:return this.aaa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ty:{get:function(){var V20;V20=2;while(V20!==1){switch(V20){case 2:return this.ML;break;case 4:return this.ML;break;V20=1;break;}}},enumerable:!1,configurable:!0}});h20=9;break;case 25:d.prototype.o3=function(a){var D70;D70=2;while(D70!==1){switch(D70){case 4:l.pO(a);D70=2;break;D70=1;break;case 2:l.pO(a);D70=1;break;}}};d.prototype.KW=function(a,b){var c70,F70;c70=2;while(c70!==1){F70="c";F70+="at";F70+="ch";switch(c70){case 2:this.oh&&(a=this.oh.mBb(this,a),g.W(b)||a.then(b),a[F70](function(a){var H70,Z70;H70=2;while(H70!==1){Z70="ca";Z70+="chePrepare";Z70+=" caught error:";switch(H70){case 2:D(Z70,a);H70=1;break;case 4:D("",a);H70=5;break;H70=1;break;}}}));c70=1;break;}}};d.prototype.CM=function(){var W70,a;W70=2;while(W70!==5){switch(W70){case 2:W70=1;break;case 1:null===(a=this.oh)||void 0===a?void 0:a.flush();W70=5;break;}}};d.prototype.Lba=function(){var b70,a;b70=2;while(b70!==5){switch(b70){case 2:null===(a=this.oh)||void 0===a?void 0:a.hIa();b70=5;break;}}};d.prototype.DM=function(){var S70;S70=2;while(S70!==1){switch(S70){case 2:return this.oh?this.oh.list():[];break;case 4:return this.oh?this.oh.list():[];break;S70=1;break;}}};h20=35;break;case 6:Object.defineProperties(d.prototype,{Df:{get:function(){var T20;T20=2;while(T20!==1){switch(T20){case 4:return this.LU.Df;break;T20=1;break;case 2:return this.LU.Df;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bha:{get:function(){var a20;a20=2;while(a20!==1){switch(a20){case 4:return this.BBa;break;a20=1;break;case 2:return this.BBa;break;}}},enumerable:!1,configurable:!0}});d.prototype.Ab=function(a,b,c,f,d,h){var d20,l,k,s70,C70,g70,L70,O70;d20=2;while(d20!==20){s70="me";s70+="di";s70+="a";s70+="cache";C70="cac";C70+="heE";C70+="vict";g70="f";g70+="lushe";g70+="dByt";g70+="es";L70="di";L70+="scardedB";L70+="yt";L70+="es";O70="p";O70+="rebuffs";O70+="t";O70+="at";O70+="s";switch(d20){case 2:l=this;k=this.config;p.DD.reset();0<k.sv&&(!g.W(a)&&a>k.sv&&(a=k.sv),b>k.sv&&(b=k.sv));d20=9;break;case 9:g.W(a)&&(this.hCa=b);this.ML=f;this.dCa=d;n(k);this.LU=p.DD.VJa(k,this.$v);d20=13;break;case 11:b=new r.Psa(this,k,c,h),a=function(a){var z70;z70=2;while(z70!==1){switch(z70){case 2:l.emit(a.type,a);z70=1;break;case 4:l.emit(a.type,a);z70=4;break;z70=1;break;}}},b.addListener(O70,a),b.addListener(L70,a),b.addListener(g70,a),b.addListener(C70,a),(k.Koa||k.ez)&&b.addListener(s70,function(a){var K70,e70;K70=2;while(K70!==1){e70="media";e70+="cac";e70+="he";switch(K70){case 2:l.emit(e70,a);K70=1;break;case 4:l.emit("",a);K70=8;break;K70=1;break;}}}),this.oh=b;d20=10;break;case 13:this.aaa=new u(k);d20=12;break;case 12:d20=k.eJ||k.t3?11:10;break;case 10:this.jL=!0;d20=20;break;}}};h20=12;break;case 35:d.prototype.qEa=function(a){var R70,b;R70=2;while(R70!==5){switch(R70){case 2:null===(b=this.oh)||void 0===b?void 0:b.Zma(a);R70=5;break;}}};h20=34;break;case 12:d.prototype.LQ=function(a,b,c){var N70;N70=2;while(N70!==4){switch(N70){case 2:this.hCa=a;this.ML=b||0;this.dCa=c||0;N70=4;break;}}};d.prototype.j1=function(){var I70;I70=2;while(I70!==1){switch(I70){case 4:this.BBa=+7;I70=5;break;I70=1;break;case 2:this.BBa=!0;I70=1;break;}}};d.prototype.Bn=function(a,b,c,f,d,h,n,k,r,p){var Y70,y70;Y70=2;while(Y70!==4){y70="o";y70+="pen: stre";y70+="amingManager not initted";switch(Y70){case 2:Y70=this.jL?1:5;break;case 9:Y70=this.jL?2:1;break;Y70=this.jL?1:5;break;case 1:return k=k||this.config,this.yb.reset(),this.wm.wHb(),this.aaa.reset(),void 0===h&&(h=this.NY(a,b)),g.W(this.ML)&&(l.yk()[m.Na.VIDEO]<=k.Twb?this.ML=0:this.ML=k.V1),a=new q.aya(this,a,p,b,c,f,d,h,n,k,r),this.zA.push(a),a;break;case 5:T(y70);Y70=4;break;case 7:T("");Y70=7;break;Y70=4;break;}}};d.prototype.QO=function(a,b){var Q70;Q70=2;while(Q70!==1){switch(Q70){case 2:return this.oh&&(a=this.oh.QO(a,b))?a:!1;break;}}};h20=19;break;case 9:Object.defineProperties(d.prototype,{Rha:{get:function(){var A20;A20=2;while(A20!==1){switch(A20){case 2:return!g.W(this.hCa);break;case 4:return+g.W(this.hCa);break;A20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ZC:{get:function(){var w20;w20=2;while(w20!==1){switch(w20){case 4:return this.dCa;break;w20=1;break;case 2:return this.dCa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Re:{get:function(){var o20;o20=2;while(o20!==1){switch(o20){case 4:return this.oh;break;o20=1;break;case 2:return this.oh;break;}}},enumerable:!1,configurable:!0}});h20=6;break;case 34:d.prototype.AM=function(){var k70,a;k70=2;while(k70!==5){switch(k70){case 2:null===(a=this.oh)||void 0===a?void 0:a.Yib();k70=5;break;}}};d.prototype.pEa=function(){var i70;i70=2;while(i70!==1){switch(i70){case 2:return this.oh?this.oh.T1():null;break;case 4:return this.oh?this.oh.T1():1;break;i70=1;break;}}};d.prototype.zTa=function(){var q70,a,l70;q70=2;while(q70!==9){l70="sessionHistoryR";l70+="eport: as";l70+="e-manage";l70+="r";l70+=" not initted";switch(q70){case 2:q70=1;break;case 5:a=new E.eT(this.rp.Tt,this.config,K);return{GF:a.QDa,uXb:a.RDa,NYb:a.IFb};break;case 3:T(l70);q70=9;break;case 1:q70=this.jL?5:3;break;}}};d.prototype.ad=function(){var m70,t70;m70=2;while(m70!==6){t70="Attempted to ";t70+="destruct";t70+=" Manager before al";t70+="l Sessions removed";switch(m70){case 2:J.assert(0===this.zA.length,t70);this.jL=!1;delete this.LU;delete this.aaa;m70=3;break;case 3:delete this.$v;this.AM();delete this.oh;p.DD.reset();m70=6;break;}}};h20=30;break;case 30:return d;break;}}}(d.EventEmitter);b.Sta=d;},function(d,b){function a(a,b){var d;d={};Object.keys(b).forEach(function(g){d[g]=c(a,b[g]);});return d;}function c(a,b){return{na:a.viewableId,qf:b.startTimeMs,dg:b.endTimeMs||Infinity,ql:b.defaultNext||null,je:b.transitionHint,g3:b.transitionDelayZones,next:b.next};}Object.defineProperty(b,"__esModule",{value:!0});b.rlb=b.hUa=b.$db=b.aeb=b.PEa=void 0;b.PEa=function(b){return{Lh:b.initialSegment,je:b.transitionType,Wa:a(b,b.segments)};};b.aeb=a;b.$db=c;b.hUa=function(a,b){var c;return{Lh:b,je:"lazy",Wa:(c={},c[b]={na:a,qf:0,dg:Infinity,ql:null,next:{}},c)};};b.rlb=function(a,b){var c,h,g;a=Math.max(a.duration-3E4,3E4);for(var d={},n,l=0,f=0;f<a;f+=3E4){h="s"+l++;g={na:b,qf:f,dg:f+3E4<a?f+3E4:null};void 0!==n&&(n.next=(c={},c[h]={weight:1},c),n.ql=h);n=d[h]=g;}return{Lh:"s0",Wa:d,je:"lazy"};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;c=a(16);g=a(80);m=a(11);b.MDa=function(a){if(a.k5a)return a;g(c.EventEmitter.prototype,a);Object.defineProperties(a,{k5a:{value:!0},Aza:{set:function(a){this.isReady=a;}},od:{get:function(){return this.isReady?new m.ha(this.Ld(),1E3):void 0;}},playbackRate:{get:function(){return Math.max("function"===typeof this.No?this.No():1,.01);}}});return a;};},function(d,b,a){var g,m;function c(a,b,c){var d,f;d=Array.isArray(c)?c[0]:c;f=Array.isArray(c)?c[1]:c;b.on(d,function(b){a.emit(f,g.__assign(g.__assign({},b),{type:f}));});}Object.defineProperty(b,"__esModule",{value:!0});b.HNa=b.INa=void 0;g=a(0);m=a(124);b.INa=function(a,b,d,l){[["debug","managerdebugevent"],"endOfStream","initialAudioTrack","locationSelected","logdata","openComplete","startEvent",["streamerEnd","streamerend"]].forEach(function(a){c(d,l.events,a);});l.events.on("error",function(a){a=g.__assign(g.__assign({},a),{manifestIndex:0});d.emit("error",a);});l.events.on("segmentComplete",function(a){var b;b=d.KG(a.segmentId);d.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:b,segmentId:a.segmentId});});l.events.on("segmentNormalized",function(a){var b,c,f;b=d.KG(a.segmentId);c=Math.floor(a.normalizedEnd.va);f=Math.floor(a.contentEnd.va);d.emit("maxPosition",{type:"maxPosition",index:b,endPts:c,maxPts:f,maxSeekPts:Math.floor(a.earliestMediaContentEnd.va)});if(0<b)return d.fail("ManifestRangeEvent not implemented for non-zero manifestIndex");a=Math.floor(a.normalizedStart.va);d.emit("manifestRange",{type:"manifestRange",index:b,manifestOffset:0,startPts:0===b?0:a,endPts:c,maxPts:f});});l.events.on("segmentStarting",function(a){d.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});d.emit("segmentStarting",a);});l.events.on("serverSwitch",function(a){var b;b=d.KG(a.segmentId);d.emit("serverSwitch",{type:"serverSwitch",manifestIndex:b,segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});l.events.on("streamSelected",function(a){var b,c;b=d.KG(a.position.Ma);c=l.xZ(a.position);d.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:b,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:c.cX.va,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});l.events.on("updateStreamingPts",function(a){var c,f;c=d.G;f=d.KG(a.position.Ma);b.df.Oo(c)&&(c=l.xZ(a.position),d.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:a.mediaType,manifestIndex:f,trackIndex:a.trackIndex,movieTime:c.cX.va}));});};b.HNa=function(a,b,d,l){[["debug","managerdebugevent"],"buffering","segmentAppended","segmentPresenting","startEvent","logdata"].forEach(function(a){return c(b,d.events,a);});d.events.on("bufferingStarted",function(a){b.emit("bufferingStarted",{type:"bufferingStarted",time:a.time,percentage:a.percentage});a.audioTrackId&&void 0!==a.audioTrackIndex&&b.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:a.audioTrackId,trackIndex:a.audioTrackIndex});});d.events.on("bufferingComplete",function(c){var f,l,g,n,k;if(!b.qJb){n=d.yZ(c.actualStartPosition).va;k=null===(l=null===(f=a.df.yb.get())||void 0===f?void 0:f.Ga)||void 0===l?void 0:l.Da;b.VVa("startplay",m.Rz.L2);b.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:c.reason,actualbw:k,initSelReason:null!==(g=c.initSelReason)&&void 0!==g?g:"unknown",bcVBufferLevelMs:c.vBufferLevelMs,bcABufferLevelMs:c.aBufferLevelMs}});b.emit("ptschanged",n);b.emit("bufferingComplete",{type:"bufferingComplete",time:c.time,actualStartPts:n,aBufferLevelMs:c.aBufferLevelMs,vBufferLevelMs:c.vBufferLevelMs,selector:c.selector,initBitrate:c.initBitrate,skipbackBufferSizeBytes:c.skipbackBufferSizeBytes});}});d.events.on("streamPresenting",function(a){var c,f,d;c=a.position.Ma;f=a.playerTimestamp.va;d=b.rb.xZ(a.position);void 0===d?l.warn("ShimSession cannot map streamPresenting: "+JSON.stringify(a)):(c=b.KG(c),b.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(f),contentStartPts:Math.floor(d.cX.va),mediaType:a.mediaType,manifestIndex:c,trackIndex:a.trackIndex,streamIndex:a.streamIndex}));});d.events.on("ptsChanged",function(a){b.emit("ptschanged",a.va);});};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mya=void 0;c=a(124);d=function(){function a(a){a.events.on("streamSelection",this.$yb.bind(this));}a.prototype.$yb=function(a){0===a.L&&void 0===this.CLa?this.CLa=a:1===a.L&&void 0===this.FLa&&(this.FLa=a);};Object.defineProperties(a.prototype,{MM:{get:function(){return"StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return!0;},enumerable:!1,configurable:!0}});a.prototype.KN=function(a){var b;if(a.Xo===c.Rz.L2)return a=null!==(b=this.FLa)&&void 0!==b?b:this.CLa,{histdiscbw:null===a||void 0===a?void 0:a.selDiscBw,histage:null===a||void 0===a?void 0:a.histAge};};return a;}();b.mya=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Axa=void 0;c=a(0);g=a(58);m=a(124);d=function(){function a(a){this.Of=a;}Object.defineProperties(a.prototype,{MM:{get:function(){return"queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{POa:{get:function(){return"qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return g.gb;},enumerable:!1,configurable:!0}});a.prototype.KN=function(a){var b,d,f,k;if(a.Xo===m.Rz.Zda&&(a=this.Of.nfa())){f={};try{for(var h=c.__values(a.FAb),g=h.next();!g.done;g=h.next()){k=g.value;f[k.L]=this.Ivb(k);}}catch(I){b={error:I};}finally{try{g&&!g.done&&(d=h["return"])&&d.call(h);}finally{if(b)throw b.error;}}return{branchQueue:this.Gvb(a.jCb),playerIterator:f};}};a.prototype.Ivb=function(a){return null===a||void 0===a?void 0:a.BJa();};a.prototype.Fvb=function(a){var b,c,f;b=this;if(a){c=a.ba;f={};a.GB().forEach(function(a){f[a.L]=b.Hvb(a);});return{sId:null===c||void 0===c?void 0:c.id,cancelled:a.Sp,RM:f};}return a;};a.prototype.Hvb=function(a){if(a&&a.Ja)return a.Ja.ega();};a.prototype.Gvb=function(a){var b;b=this;return a.map(function(a){return b.Fvb(a);});};return a;}();b.Axa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.dsa=void 0;c=a(124);d=function(){function a(a){this.yb=a;}Object.defineProperties(a.prototype,{MM:{get:function(){return"EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return!0;},enumerable:!1,configurable:!0}});a.prototype.KN=function(a){var b,d;if(a.Xo===c.Rz.Zda&&this.yb){a={};b=this.yb.get();b&&b.avtp&&b.avtp.Da&&(a.avtp=b.avtp.Da,a.dltm=b.avtp.MX);b&&b.cdnavtp&&(a.cdnavtp=b.cdnavtp,a.activecdnavtp=b.activecdnavtp);this.yb.flush();b=this.yb.pJa();d=this.yb.BCa;if(b)for(var g in b)b.hasOwnProperty(g)&&(a["ne"+g]=Number(b[g]).toFixed(6));d&&d.length&&(a.activeRequests=JSON.stringify(d));return a;}};return a;}();b.dsa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.opa=void 0;c=a(0);d=function(a){function b(c,d){c=a.call(this,b.Kmb(c,d))||this;c.C6a=d;c.name="AggregateError";return c;}c.__extends(b,a);b.Kmb=function(a,b){return b.reduce(function(a,b){return a+"\n"+b;},a);};Object.defineProperties(b.prototype,{xG:{get:function(){return this.C6a;},enumerable:!1,configurable:!0}});return b;}(Error);b.opa=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D;Object.defineProperty(b,"__esModule",{value:!0});b.bya=void 0;c=a(0);g=a(16);m=a(219);r=a(18);q=a(11);n=a(5);l=a(28);f=a(377);h=a(8);p=a(124);t=a(768);u=a(767);E=a(766);J=a(156);K=a(765);D=a(764);d=function(a){function b(b,c,f,d,h,l,n,k,m,x,t,F,u){var I;I=a.call(this)||this;I.console=b;I.qy=c;I.$Aa=f;I.rb=d;I.rF=h;I.bD=l;I.U=x;I.d_=t;I.config=F;I.ALb=u;I.lL=!1;I.zf=new g.Oi();I.W7a=d.$g.Wa[I.d_].na;I.tA=new q.kK(r.pa.Mg);I.kJ=new J.i9(I.console);b=I.rb.WM(I.kJ);f=I.rb.VM();I.rb.sGb(f,b);d.z2({p2:function(){return I.rF[0];}},{p2:function(){return I.rF[1];}});I.aVb=!1;I.$Ub=!1;I.Q1=new p.yxa(F);K.INa(I.console,c,I,I.rb);return I;}c.__extends(b,a);Object.defineProperties(b.prototype,{G:{get:function(){return this.W7a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vg:{get:function(){return this.zf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jd:{get:function(){return{msb:{1:{Z:{oa:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qJb:{get:function(){return void 0!==this.hx;},enumerable:!1,configurable:!0}});b.prototype.l3=function(){n.assert(!1);};b.prototype.open=function(){var a;if(!this.lL){this.lL=!0;this.Q1.Laa(new t.dsa(this.qy.yb));this.Q1.Laa(new E.mya(this.rb));this.rb.open();this.emit("openComplete",{type:"openComplete"});this.rb.iTa(this.bD);a=this.Lgb(this.U);this.Q1.Laa(new u.Axa(a));this.Of=a;K.HNa(this.qy,this,this.Of,this.console);this.rb.wbb(a);}};b.prototype.Lgb=function(a){this.Dl=D.MDa(a);return this.qy.df.hab(this.Dl);};b.prototype.close=function(){this.lL&&(this.lL=!1);};Object.defineProperties(b.prototype,{sW:{get:function(){return"1.5";},enumerable:!1,configurable:!0}});b.prototype.VVa=function(a,b){b=this.Q1.KN(b);this.emit("logdata",{type:"logdata",target:a,fields:c.__assign(c.__assign({},b),{aseApiVersion:this.sW})});};b.prototype.flush=function(){this.VVa("endplay",p.Rz.Zda);this.rb.wg();this.qy.Df.save();this.qy.wm.save();};b.prototype.paused=function(){this.tA.value===r.pa.Pc&&(this.tA.set(r.pa.Ri),this.Dl.emit("paused",{type:"paused",Vc:this.Dl.od}));};b.prototype.BR=function(){this.tA.value===r.pa.Ri&&(this.tA.set(r.pa.Pc),this.Dl.emit("playing",{type:"playing",Vc:this.Dl.od}));};b.prototype.mc=function(){var a;this.ALb.release();this.qy.yDb(this);this.lL&&this.close();this.zt&&(clearInterval(this.zt),this.zt=void 0);null===(a=this.Of)||void 0===a?void 0:a.ad();this.zf.clear();this.fA&&(this.fA.clear(),this.fA=void 0);};b.prototype.suspend=function(){n.assert(!1,"Not supported");};b.prototype.resume=function(){n.assert(!1,"Not supported");};b.prototype.play=function(){var a;a=this;this.rb.state!==m.iw.CLOSED&&(n.assert(this.Of),this.Of.resume(),this.Dl.Aza=!0,this.tA.set(r.pa.Pc),this.Dl.emit("playing",{type:"playing",Vc:this.Dl.od}),this.emit("play"),this.zt||(this.zt=setInterval(function(){return a.Pxb();},this.config.TA)));};b.prototype.stop=function(){this.tA.set(r.pa.qE);n.assert(this.Of);this.Of.pause();this.Dl.emit("paused",{type:"paused",Vc:this.Dl.od});this.Dl.Aza=!1;this.emit("stop");};b.prototype.SX=function(a,b){void 0===b&&(b=!0);if(!this.Of)return this.fail("Must call open prior to drmReady");a=parseInt(a);h.isFinite(a)&&(b?this.Of.IQ(a):this.Of.UFb(a));};b.prototype.Gga=function(){var a;if(!this.Of)return!1;a=this.qy.df.Oo(this.rb.$g.Wa[this.gZ()].na);return this.Of.av(a);};b.prototype.fWa=function(){this.tA.set(r.pa.Ze);this.Dl.emit("underflow",{type:"underflow",Vc:this.Dl.od});};b.prototype.mj=function(){var a;a=this.Dl.Ld();a={type:"skipped",pts:l.ha.ue(a)};this.Dl.emit(a.type,a);return new f.V8(Promise.resolve()).JSa;};b.prototype.vEa=function(a,b){var c;b=this.kZ(b||0);b=this.qy.df.Oo(this.rb.$g.Wa[b].na);return null===(c=null===b||void 0===b?void 0:b.Lo(this.config,a))||void 0===c?void 0:c.oc;};b.prototype.Mr=function(a,b){var c;c=new l.ha(b,1E3);return(c=this.rb.Lv(c))&&c.Ma===this.kZ(a||0)?this.rb.$g.Wa[c.Ma].qf+c.offset.va:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex "+a+", playerPts: "+b);};b.prototype.SM=function(a,b){var c;c=this.kZ(a||0);c={Ma:c,offset:new l.ha(b-this.rb.$g.Wa[c].qf,1E3)};return(c=this.rb.yZ(c))?c.va:this.fail("convertPtsToPlayerPts failed to convert manifestIndex "+a+", playerPts: "+b);};b.prototype.j_=function(){var a,b,c;b={};c=null===(a=this.Of)||void 0===a?void 0:a.mWa();c&&(b.vbuflmsec=c.totalvbuflmsecs,b.abuflmsec=c.totalabuflmsecs,b.vbuflbytes=c.vbuflbytes,b.abuflbytes=c.abuflbytes);return b;};b.prototype.j1=function(){return this.ps("pipeliningDisabled");};b.prototype.gZ=function(){return this.rb.uBb.Ma;};b.prototype.QY=function(){return this.ps("getChildBranchInfo");};b.prototype.fZ=function(){return{id:this.gZ(),de:0,dd:0,we:0,oc:0,Vb:0};};b.prototype.kSa=function(){return this.ps("removeSession");};b.prototype.Ry=function(a,b,c){void 0===b&&(b=0);b=null!==c&&void 0!==c?c:this.kZ(b);a=this.rb.iTa({Ma:b,offset:l.ha.ue(a-this.rb.$g.Wa[b].qf)});n.assert(a,"Valid position must be provided for seek");return a.offset.va;};b.prototype.seek=function(a,b){a=this.Mr(b,a);return this.Ry(a,b);};b.prototype.vu=function(){return this.ps("chooseNextSegment");};b.prototype.ICa=function(){return this.ps("addManifest");};b.prototype.UL=function(){return this.ps("activateManifest");};b.prototype.CPa=function(){this.Wza();};b.prototype.$Ua=function(a){var b,c,f,d,h,l,g;f=a.PA;if(void 0!==this.hx)return!1;l=this.$Aa.audio_tracks;if(!l.some(function(a,b){if(a.track_id===f)return d=a,h=b,!0;}))return!1;g=this.rF[0];this.hx=h;(a=null===(b=this.Of)||void 0===b?void 0:b.$y)?this.Wza():(null===(c=this.Of)||void 0===c?void 0:c.pause([0]),b=l[g],this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:b.language,oldNumChannels:b.channels,newLangCode:d.language,newNumChannels:d.channels,sourceBufferReset:a}));return!0;};b.prototype.Uv=function(a,b){this.kJ.Uv(a,b);};b.prototype.ru=function(){return!1;};b.prototype.fY=function(){return this.ps("evaluateQoE");};b.prototype.Cna=function(){return this.ps("stopBuffering");};b.prototype.aD=function(){return this.ps("startBuffering");};b.prototype.kKa=function(){return this.ps("getStreamingStatistics");};b.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};b.prototype.KG=function(a){return a!==this.d_?this.fail("Unexpected segmentId: "+a+", "+("single viewable playback initialSegmentId: "+this.d_)):0;};b.prototype.kZ=function(a){return 0!==a?this.fail("Unexpected manifestIndex: "+a+", single viewable playback only supports manifestIndex: 0"):this.d_;};b.prototype.Pxb=function(){var a,b;b=null===(a=this.Of)||void 0===a?void 0:a.mWa();b&&this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:b.vbuflbytes,vbuflbytes:b.abuflbytes,totalabuflmsecs:b.totalabuflmsecs,totalvbuflmsecs:b.totalvbuflmsecs,currentBandwidth:b.currentBandwidth,predictedFutureRebuffers:0});};b.prototype.ps=function(a){return this.fail("Method not implemented "+a);};b.prototype.Wza=function(){var a;a=this;n.assert(void 0!==this.hx);this.rF[0]=this.hx;this.rb.z2({p2:function(){return a.rF[0];}},{p2:function(){return a.rF[1];}});n.assert(void 0===this.fA);this.fA=new g.Oi();this.fA.on(this.Of.events,"bufferingComplete",function(){n.assert(void 0!==a.hx);a.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:a.$Aa.audio_tracks[a.hx].track_id,trackIndex:a.hx});a.hx=void 0;a.fA.clear();a.fA=void 0;});};return b;}(g.EventEmitter);b.bya=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;c=a(4);g=a(5);d=function(){var n70;n70=2;while(n70!==3){switch(n70){case 2:a.prototype.xF=function(){var E70,V70;E70=2;while(E70!==5){V70="More";V70+=" than maxAllowe";V70+="dOutstandingRequests are";V70+=" outstand";V70+="ing";switch(E70){case 2:this.sP++;g.assert(this.sP<=this.config.Z_,V70);E70=5;break;}}};a.prototype.M1=function(){var p70,a,A70;p70=2;while(p70!==9){A70="Rec";A70+="eived remove requ";A70+="est when there are no requests ou";A70+="tstand";A70+="ing";switch(p70){case 5:this.sP--;g.assert(0<=this.sP,A70);p70=3;break;case 3:setTimeout(function(){var B70;B70=2;while(B70!==1){switch(B70){case 4:return a.GM();break;B70=1;break;case 2:return a.GM();break;}}},0);p70=9;break;case 2:a=this;p70=5;break;}}};a.prototype.GM=function(){var X70,a;X70=2;while(X70!==5){switch(X70){case 3:a=this.config.Z_;X70=0;break;X70=1;break;case 1:X70=this.sP<a&&this.Wha()?1:5;break;case 2:a=this.config.Z_;X70=1;break;}}};n70=4;break;case 4:return a;break;case 14:return a;break;n70=3;break;}}function a(a,b){var h70,T70,o70,w70;h70=2;while(h70!==9){T70="1SIY";T70+="b";T70+="Z";T70+="rNJCp9";o70="media|";o70+="a";o70+="sejs";w70="ASEJS_";w70+="REQUEST_P";w70+="ACER";switch(h70){case 2:this.Wha=a;this.config=b;this.sP=0;h70=4;break;case 4:this.console=new c.Console(w70,o70);T70;h70=9;break;}}}}();b.Cxa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;c=a(48);b.EHa=function(a,b){var d;d=[];a=a.map(function(a){var g,l;g=b(a.O);l=c.sDa(g,a.Ji).map(function(a){return a.L;});d=c.vDa(d,l);return{Ic:a,Ji:g};});return{Jdb:d,Dcb:a};};},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.lqa=void 0;c=a(4);g=a(18);m=a(11);r=a(5);d=function(){function a(a,b,c){void 0===c&&(c=500);this.u=a;this.config=b;this.Lcb=c;this.Ej=0;this.J1=!1;this.state=new m.kK(g.ld.Rl);this.Ey=new m.kK(g.pa.Mg);}Object.defineProperties(a.prototype,{Bg:{get:function(){return this.state.value===g.ld.Dd||this.state.value===g.ld.Ze;},enumerable:!1,configurable:!0}});a.prototype.EDa=function(a){r.assert(!this.events,"Cannot reassign BufferingStateTracker emitter!");this.events=a;this.Bg&&(this.gHa(),this.UTa());};a.prototype.DGa=function(){this.events=void 0;this.gca();};a.prototype.Vyb=function(){this.aD(void 0,!1);};a.prototype.Fk=function(a){this.aD(a,!0);};a.prototype.bzb=function(a){this.aD(a,!1);};a.prototype.PFb=function(a,b){r.assert(this.state.value===g.ld.Dd&&void 0===this.bD);this.bD=a;this.Rc=b;};a.prototype.$Fb=function(a,b,c){r.assert(this.Bg);this.tha=null!==a&&void 0!==a?a:this.tha;this.qha=null!==b&&void 0!==b?b:this.qha;void 0===this.e_?this.e_=c:void 0!==(null===c||void 0===c?void 0:c.reason)&&(this.e_.reason=c.reason);};a.prototype.Vma=function(a,b,c){this.J1||(r.assert(this.Bg&&void 0===this.mu&&void 0===this.y3&&void 0===this.iW),this.mu=a,this.y3=b,this.iW=c,this.J1=!0);};a.prototype.OFb=function(a){r.assert(this.Bg);this.yn=a;};a.prototype.Dj=function(){r.assert(this.Bg);this.yn=100;this.set(g.ld.yK);this.gca();this.events&&this.akb();this.iW=this.y3=this.mu=this.e_=this.qha=this.tha=this.bD=void 0;};a.prototype.stop=function(){this.set(g.ld.Rl);this.gca();};a.prototype.Wdb=function(a,b,f){var d,l,g,n,k,m;if(this.J1)return!0;n=b.Tfa(0);b=b.Tfa(1);k=c.time.ea()-this.Ej;m=n?f.TW(this.state.value,a,k,1,n):{complete:!0};a=b?f.TW(this.state.value,a,k,1,b):{complete:!0};f=b?a:m;f.sLb=b?a.JF:0;f.Bbb=n?m.JF:0;m.complete&&a.complete?(f.complete=!0,this.Vma(null!==(d=f.reason)&&void 0!==d?d:"unknown",null!==(l=f.sLb)&&void 0!==l?l:0,null!==(g=f.Bbb)&&void 0!==g?g:0)):(f.complete=!1,this.adb(f));return f.complete;};a.prototype.adb=function(a){var b,f,d;d=a.wh;a.kv?d=(c.time.ea()-this.Ej)/this.config.zq:d||(d=(null!==(b=a.JF)&&void 0!==b?b:0)/this.config.kg);a=Math.min(Math.max(Math.round(100*d),null!==(f=this.yn)&&void 0!==f?f:0),99);a!=this.yn&&(this.yn=a);};a.prototype.aD=function(a,b){r.assert(!1===b||void 0!==a);this.bD=a;this.yn=0;this.N0=void 0;a=this.Bg;this.Ej=c.time.ea();this.set(b?g.ld.Ze:g.ld.Dd);this.J1=!1;!a&&this.events&&(this.gHa(),this.UTa());};a.prototype.set=function(a){this.state.set(a);switch(a){case g.ld.Rl:this.Ey.set(g.pa.Rl);break;case g.ld.Dd:this.Ey.set(g.pa.Dd);break;case g.ld.Ze:this.Ey.set(g.pa.Ze);break;case g.ld.yK:this.Ey.set(g.pa.Pc);}};a.prototype.gHa=function(){var a,b;r.assert(this.events&&void 0!==this.yn);this.N0=this.yn;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.time.ea(),percentage:this.yn,audioTrackId:null===(a=this.Rc)||void 0===a?void 0:a.$a,audioTrackIndex:null===(b=this.Rc)||void 0===b?void 0:b.tR});};a.prototype.UTa=function(){var a;a=this;this.aka=setInterval(function(){return a.bkb();},this.Lcb);};a.prototype.gca=function(){this.aka&&(clearInterval(this.aka),this.aka=void 0);};a.prototype.bkb=function(){this.Bg&&this.events&&void 0!==this.yn&&this.yn!==this.N0&&this.events.emit("buffering",{type:"buffering",time:c.time.ea(),percentage:this.yn})&&(this.N0=this.yn);};a.prototype.akb=function(){var a,b,f;a=this;r.assert(this.events&&this.bD&&void 0!==this.mu&&void 0!==this.iW&&void 0!==this.y3);this.N0=this.yn;f={type:"bufferingComplete",time:c.time.ea(),actualStartPosition:this.bD,reason:this.mu,aBufferLevelMs:this.iW,vBufferLevelMs:this.y3,selector:this.tha,initBitrate:this.qha,initSelReason:null===(b=this.e_)||void 0===b?void 0:b.reason,skipbackBufferSizeBytes:this.RYb};setTimeout(function(){return a.events.emit("bufferingComplete",f);},0);};return a;}();b.lqa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Owa=void 0;c=a(0);g=a(11);m=a(48);d=function(){function a(){this.Jc=new g.jva();}Object.defineProperties(a.prototype,{size:{get:function(){return this.Jc.size;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a;a=this.Jc.values();this.Jc.clear();a.forEach(function(a){return a.wg();});};a.prototype.qfa=function(a){return this.Jc.get(a);};a.prototype.Ola=function(a){return this.Jc["delete"](a.ba.id,a);};a.prototype.forEach=function(a){var b;b=this;this.Jc.forEach(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Jc.reduce(function(b,d,l){return a(b,d,l,c);},b);};a.prototype.map=function(a){var b;b=this;return this.Jc.map(function(c,f){return a(c,f,b);});};a.prototype.filter=function(a){var b;b=this;return this.Jc.filter(function(c,f){return a(c,f,b);});};a.prototype.bKb=function(a,b){var d,f;d=this;f=m.GFa(a);a=Object.keys(f).map(function(a){return[a,f[a],d.Jc.count(a)];});this.Jc.keys().filter(function(a){return void 0===f[a];}).forEach(function(a){d.Jc.get(a).forEach(function(a){return a.wg();});d.Jc["delete"](a);});a.filter(function(a){a=c.__read(a,3);return a[1]<a[2];}).forEach(function(a){var b;a=c.__read(a,3);b=a[0];a=a[1];return d.Jc.get(b).slice(a).forEach(function(a){a.wg();d.Jc["delete"](b,a);});});a.filter(function(a){a=c.__read(a,3);return a[1]>a[2];}).forEach(function(a){var f;f=c.__read(a,3);a=f[0];for(var h=f[1],f=f[2],l=0;l<h-f;++l)d.Jc.set(a,b(a));});};return a;}();b.Owa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.wra=void 0;c=a(5);g=a(222);d=function(){function a(a,b){this.Zjb=a;this.Jab=b;this.Poa=!1;this.IF=this.ux=0;}a.prototype.CLb=function(a,b){var l,f,h,k;function d(){var a,c,d;a=k.pop();c=f(a);if(c.ux!==m.ux){c.ux=m.ux;d=b(a,c.Du,c.cla).C3;h(a).forEach(function(b){var h,g;h=b.qLb;g=f(h);g.ux!==l.ux&&(b=c.Du+b.weight,g.IF!==l.IF?d&&(g.IF=l.IF,g.Du=b,g.cla=a,k.push(h)):b<g.Du&&(g.Du=b,g.cla=a,k.xBb(h)));});}}l=this;f=this.Jab;h=this.Zjb;c.assert(!this.Poa);this.Poa=!0;this.ux=this.ux+1|0;this.IF=this.IF+1|0;k=new g.qT([a],function(a,b){return f(a).Du-f(b).Du;});a=f(a);a.Du=0;a.cla=void 0;for(var m=this;!k.empty;)d();this.Poa=!1;};return a;}();b.wra=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.jdb=b.zFa=void 0;c=a(781);b.zFa=function(a,b){return new c.wra(function(c){return Object.keys(c.ba.next||{}).map(function(d){return{qLb:a.Ag(d),weight:a.PKa(c,d)?b:c.rB?c.rB.Mb(c.Km).va:Infinity};});},function(a){return a.Kab;});};b.jdb=function(a,b){var c,d,g,l,f;c=Object.keys(a.Wa);d=Object.keys(b.Wa);g=d.filter(function(a){return-1===c.indexOf(a);});l=c.filter(function(a){return-1===d.indexOf(a);});f=c.filter(function(c){return-1===d.indexOf(c)?!1:a.Wa[c].dg!==b.Wa[c].dg;});return{FTb:g,CDb:l,qUb:f};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Xwa=void 0;c=a(11);d=function(){function a(a,b,d){var g;g=this;this.id=a;this.ba=b;this.je=d;this.Kab={};this.nBa=!1;this.pZ=function(a){var b,c,d;return null!==(d=null===(c=null===(b=g.ba.next)||void 0===b?void 0:b[a])||void 0===c?void 0:c.je)&&void 0!==d?d:g.je;};this.haa=new c.ha(b.qf,1E3);this.Z9=void 0!==b.dg&&null!==b.dg?new c.ha(b.dg,1E3):c.ha.mq;}Object.defineProperties(a.prototype,{na:{get:function(){return this.ba.na;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JH:{get:function(){return this.nBa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Km:{get:function(){return this.haa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rB:{get:function(){return this.Z9;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.haa.va;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oa:{get:function(){return this.Z9.va;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fy:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ms:{get:function(){return this.K0.length?!this.ba.ql&&0===this.Uja.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{K0:{get:function(){var a,b;return Object.keys(null!==(b=null===(a=this.ba)||void 0===a?void 0:a.next)&&void 0!==b?b:{});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uja:{get:function(){var a;a=this;return this.K0.filter(function(b){var c,d;return!(null===(d=null===(c=a.ba.next)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});},enumerable:!1,configurable:!0}});a.prototype.normalize=function(a,b){this.haa=a;this.Z9=b;this.nBa=!0;};a.prototype.cJa=function(){var a;return this.Uja.length?null!==(a=this.Uja.map(this.pZ).reduce(function(a,b){return a===b?b:void 0;}))&&void 0!==a?a:this.je:this.je;};return a;}();b.Xwa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Uwa=void 0;c=a(0);g=a(783);d=function(){function a(a){this.$g=a;this.Wa={};}a.Vsb=function(a){return"immediate"===a||"delayedSeamless"===a;};a.prototype.Ag=function(a){var b,c,d;c=this.Wa[a];if(void 0===c){c=this.$g.Wa[a];if(void 0===c)throw Error("Segment not found ("+a+")");d=null!==(b=c.je)&&void 0!==b?b:this.$g.je;c=new g.Xwa(a,c,d);this.Wa[a]=c;}return c;};a.prototype.Etb=function(a){var b;return c.__generator(this,function(c){switch(c.label){case 0:return[4,a];case 1:c.Gs(),b=a,c.label=2;case 2:if(!b.ba.ql)return[3,4];b=this.Ag(b.ba.ql);return[4,b];case 3:return c.Gs(),[3,2];case 4:return[2];}});};a.prototype.Qnb=function(a){var b;b=this;return Object.keys(this.$g.Wa).filter(function(c){var d;return void 0!==(null===(d=b.$g.Wa[c].next)||void 0===d?void 0:d[a.id]);}).map(function(a){return b.Ag(a);});};a.prototype.hqb=function(a,b){var c,d;return null===(d=null===(c=a.ba.next)||void 0===c?void 0:c[b])||void 0===d?void 0:d.weight;};a.prototype.PKa=function(b,c){return a.Vsb(b.pZ(c));};return a;}();b.Uwa=d;},function(d,b){function a(a,b,d,g,q,n,l){if(l&&-1===b.indexOf(l.id)&&!a.PKa(l,q.id))return{C3:!1};a=l&&a.hqb(l,q.id);if(void 0===a||0<a)if(-1!==b.indexOf(q.id)||n<d)return g.push(q.id),{C3:!0};return{C3:!1};}Object.defineProperty(b,"__esModule",{value:!0});b.DLb=b.gQ=void 0;b.gQ=function(b,d,g,r,q){var c,l,f;l=[];f=(null===(c=g.rB)||void 0===c?void 0:c.Mb(g.Km).va)||0;d.CLb(g,function(c,d,g){return a(b,r,q.va+f,l,c,d,g);});return l;};b.DLb=a;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Esa=void 0;c=a(18);g=a(92);m=a(4);r=a(158);q=a(48);d=function(){function a(a,b,c){this.config=a;this.eHb=b;this.navigator=c;a=r["default"](this.config);this.$Qa=[a.Mv,a.OP];}a.prototype.jFb=function(a,b,d,g){var f,h,l,k,n;l=[];if(!this.yQa(d.track))return{stream:h,UQ:l};h=d.Vf.fv;k=g?g.Hn(d.track.Nc,a):d.track.Nc;h&&!h.track.equals(d.track)&&(h=this.Slb(h,k));if(0===d.L&&h&&!this.PGb(d,h))return{stream:h,UQ:l};a=this.yhb(a===c.ld.Dd?c.pa.Dd:a===c.ld.Ze?c.pa.Ze:a===c.ld.yK?c.pa.Pc:c.pa.Mg,b,d);a=d.Yv.o2(a,k,void 0,this.$Qa[d.L],!0,d.track.O.rh);if(!a)return{stream:h,UQ:l};a.reason&&(n={reason:a.reason,AQ:a.as,Wu:a.Wu,zk:a.zk,Ak:a.Ak});h=k[a.Mc];d.Vf.OTa(h);if(null===(f=a.Cu)||void 0===f?0:f.length)l=a.Cu.map(function(a){return q.zo(k,function(b){return b.id===a;});}).filter(q.Zja);return void 0!==n?{stream:h,UQ:l,lFb:n}:{stream:h,UQ:l};};a.prototype.TW=function(a,b,d,g,k){var f,h;if(a!==c.ld.Dd&&a!==c.ld.Ze)return{complete:!0};if(!k.qBb)return{complete:!1};f=this.MIa(k,b);h=k.Vf.fv;b=f.ol-f.od;if(b<this.config.kg||void 0===h)return{complete:!1,JF:b};if(0===k.L)return{complete:!0,JF:b};this.yQa(k.track);k.Yv.ela([h],!1,f,this.$Qa[k.L]);a=k.Yv.fm(f,a,g,h,k.track.O.rh);if(!a.complete&&d>=this.config.zq)return{complete:!0,reason:"prebufferTimeLimit",JF:b};a.JF=b;return a;};a.prototype.Slb=function(a,b){var c;c=b[0];b.filter(function(a){return a.oq;}).every(function(b){return b.R<=a.R?c=b:!1;});return c;};a.prototype.PGb=function(a,b){return 0<this.config.UI.length?!0:(a=a.Vf.jH)&&a===b.location?!1:!0;};a.prototype.yQa=function(a){return a.O.zl.dJ(a.O.na,a.Nc);};a.prototype.MIa=function(a,b){var p;for(var c,f=b.Mb(this.eHb),d=[],g=a,l=b,k,n,r=0,q=!0;g;){p=g.kob(f);if(0===p.Z.length)break;if(!q&&!g.LA)break;l=p.Z[0].Kv;void 0===k&&(k=p.Z[p.Z.length-1].AC,n=p.Fka>=p.Z.length?k:p.Z[p.Fka].Kv);d=p.Z.concat(d);r+=p.jj;g=this.navigator.parent(g);q=!1;}return{Tp:m.yk()[a.L],S:Math.floor(l.va),od:b.va,Lb:Math.floor(null!==(c=null===k||void 0===k?void 0:k.va)&&void 0!==c?c:b.va),ol:Math.floor(n?n.va:b.va),Vh:d.reduce(function(a,b){return a+b.aa;},0),jj:r,$ea:d.length,Z:d};};a.prototype.yhb=function(a,b,d){var f,h,l;f=this.MIa(d,b);h=1===d.L?this.config.KR:this.config.fM;l=g.Qf();return{state:a,ky:a===c.pa.Pc,Wy:d.Dk,playbackRate:1,buffer:f,Ida:h,mNa:!1,rN:!1,wo:null===l||void 0===l?void 0:l.wo,L:d.L,od:b.va,Wo:!1,r_:!1,fQ:0};};return a;}();b.Esa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.WM=b.VM=void 0;c=a(156);b.VM=function(a,b){b&&(null===a||void 0===a?0:a.oLa)&&(b=new c.zK(b).Cv(c.hE));return new c.zK(c.X3).and(null!==b&&void 0!==b?b:c.hE).Cv(c.x6).Cv(c.y6);};b.WM=function(a,b){b&&a.oLa&&(b=new c.zK(b).Cv(c.hE));return new c.zK(c.X3).and(new c.Kpa(a)).and(new c.Ipa(a)).and(new c.ypa(a)).and(new c.Mpa(a)).and(null!==b&&void 0!==b?b:c.hE).Cv(c.x6).Cv(c.y6);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y6=void 0;b.y6={Hn:function(a){return[a[0]];}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.zK=void 0;c=a(380);d=function(){function a(a){this.filters=[];this.and(a);}a.prototype.and=function(a){a!==c.hE&&this.filters.push({filter:a,xFa:!0});return this;};a.prototype.Cv=function(a){this.filters.push({filter:a,xFa:!1});return this;};a.prototype.Hn=function(a,b){return this.filters.reduce(function(c,d){d.xFa?c=d.filter.Hn(c,b):0===c.length&&(c=d.filter.Hn(a,b));return c;},a);};return a;}();b.zK=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.x6=b.X3=void 0;c=a(48);b.X3={Hn:function(a){return a.filter(function(a){return a.Xu&&!a.ey;});}};b.x6={Hn:function(a){return(a=c.zo(a,function(a){return!!a.Xu&&!a.ey;}))?[a]:[];}};},function(d,b,a){var g;function c(a,b){b=Math.max(a,b);return isNaN(b)?a||-Infinity:b;}Object.defineProperty(b,"__esModule",{value:!0});b.ypa=void 0;g=a(18);d=function(){function a(a){this.config=a;this.fQ=0;this.state=g.ld.Rl;this.yOa=c(a.zja,a.n0);this.Fja=c(a.iC,a.gP);}a.prototype.Hn=function(a,b){var c;c=this;if(b!==this.state){this.state=b;if(b===g.ld.Dd)return a;b===g.ld.Ze&&this.ACb();}return a.filter(function(a){return!(void 0!==a.Ub&&a.Ub<c.Fja||(void 0===a.Ub||0>c.Fja)&&a.R<c.yOa);});};a.prototype.ACb=function(){++this.fQ;this.Fja=c(this.config.iC,this.config.gP-this.config.Owb*this.fQ);this.yOa=this.config.zja||-Infinity;};return a;}();b.ypa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ipa=void 0;d=function(){function a(a){this.config=a;}a.prototype.Hn=function(a){var b;b=this.config;return a.filter(function(a){return!(void 0!==a.Ub&&(a.Ub<b.iC||a.Ub>b.LNa)||(void 0===a.Ub||0>=b.iC)&&a.R<b.zja||(void 0===a.Ub||Infinity===b.LNa)&&a.R>b.Pvb);});};return a;}();b.Ipa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mpa=void 0;d=function(){function a(a){var b;b=this;a.RI&&a.RI.enabled&&a.RI.profiles&&a.RI.profiles.length&&"keepLowest"===a.RI.action&&(this.DMa={},a.RI.profiles.forEach(function(a){return b.DMa[a]=!0;}));}a.prototype.Hn=function(a){var b,c;b={};c=this.DMa;return void 0===c?a:a.filter(function(a){return!c[a.profile]||(b[a.profile]?!1:b[a.profile]=!0);});};return a;}();b.Mpa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.i9=void 0;c=a(58);g=a(4);m=a(381);d=function(){function a(a){this.console=a;this.oGa=[];this.ZDa={};this.GGa=!1;}a.prototype.Uv=function(a,b){this.oGa=a;void 0!==b?this.ZDa[b]=a:this.GGa||(this.console.error("StreamFilters: Bitrate filters received with undefined viewable id"),this.GGa=!0);};a.prototype.Hn=function(a){var b,d,f,h,k;b=this;if(0===a.length)return a;h=a[0].na;if(void 0===h)return this.console.error("StreamFilters: Stream has undefined viewable id"),a;try{null===(d=g.Dx)||void 0===d?void 0:d.call(g,h);}catch(F){return this.console.error("StreamFilters: createFilteredVideoStreamList: "+F),a;}k=null!==(f=this.ZDa[h])&&void 0!==f?f:this.oGa;c.gb&&this.console.trace("VideoBitrateRangesFilter: filtering "+a.length+" streams with "+JSON.stringify(k));a=a.filter(function(a){return m.bba(a.profile,a.R,k,b.console).inRange;});c.gb&&this.console.trace("VideoBitrateRangesFilter: ... "+a.length+" streams in range");return a;};return a;}();b.i9=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Kpa=void 0;c=a(18);d=function(){function a(a){this.config=a;}a.prototype.Hn=function(a,b){return this.config.V2||b!==c.ld.yK?a.filter(function(a){return a.Ku;}):a;};return a;}();b.Kpa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.oya=void 0;d=a(16);c=a(33);g=a(28);a=function(){function a(a){void 0===a&&(a={Vo:!1,currentTime:g.ha.Dc});this.ae={Vo:function(){return"function"===typeof a.Vo?a.Vo():a.Vo;},currentTime:function(){return"function"===typeof a.currentTime?a.currentTime():a.currentTime;}};}Object.defineProperties(a.prototype,{Vo:{get:function(){return this.ae.Vo();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.ae.currentTime();},enumerable:!1,configurable:!0}});return a;}();b.oya=a;c.Ke(d.EventEmitter,a);},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.vwa=void 0;c=a(0);g=a(5);m=a(58);r=a(797);d=function(a){function b(b){var c;c=a.call(this)||this;c.rb=b;c.Jc=[];c.Dt=new r.oya({Vo:!1,currentTime:function(){return c.Pf;}});return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{za:{get:function(){return this.Dt;},enumerable:!1,configurable:!0}});b.prototype.AW=function(a,b){var c;c=!this.rb;c&&(this.rb=a,this.T9=null===b||void 0===b?void 0:b.Pf);return c;};b.prototype.PF=function(){this.Jc=[];this.T9=void 0;};b.prototype.tda=function(a){m.gb&&g.assert(this.rb===a);this.rb=void 0;this.z_=!1;this.PF();};b.prototype.fea=function(){for(var a,b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];(a=this.Jc).push.apply(a,c.__spread(b));};b.prototype.QN=function(){return this.T9?this.T9:a.prototype.QN.call(this);};b.prototype.OI=function(){};return b;}(a(390).d8);b.vwa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;c=a(0);g=a(16);d=function(a){function b(b,c,d,f){var h;h=a.call(this)||this;h.u=b;h.track=c;h.Vp=!1;h.o$=!1;h.Vg=new g.Oi();h.Vg.on(c,"networkfailing",function(){h.emit("networkfailing");});h.Vg.on(c,"error",function(){h.u.warn("requestQueue got error");h.emit("error");});if(d)h.Vp=!0,setTimeout(function(){return h.emit("created");},0);else h.Vg.on(c,"created",function(){h.Vp=!0;h.emit("created");});h.o$=f;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{jY:{get:function(){return this.track.jY;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{th:{get:function(){return this.track.th;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gj:{get:function(){return this.track.gj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xea:{get:function(){return this.track.xea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});b.prototype.Ab=function(){var a,b;this.o$||(null===(b=(a=this.track).Ab)||void 0===b?void 0:b.call(a),this.o$=!0);};b.prototype.On=function(){return this.track.On();};b.prototype.T1=function(){return this.track.T1();};b.prototype.toString=function(){return this.track.toString();};b.prototype.toJSON=function(){return this.track;};b.prototype.Xp=function(){this.Vg.clear();};return b;}(g.EventEmitter);b.Dxa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rya=void 0;d=function(){function a(a,b){this.u=a;this.Zf=b;this.Fna=!1;}a.prototype.Eg=function(a,b,d,g,q,n){this.Fna||(this.Fna=!0,a={type:"error",error:null!==d&&void 0!==d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:q,nativeCode:n,viewableId:b},this.u.error("notifyStreamingError: "+JSON.stringify(a)),this.Zf.emit("error",a));};a.prototype.mm=function(){return this.Fna;};return a;}();b.rya=d;},function(d,b,a){var g,m;function c(a,b,c,d,f){var h,g;c=null!==(h=b.eg)&&void 0!==h?h:b.track.Lo(a,c.va,void 0,f);a=null!==(g=b.jg)&&void 0!==g?g:b.track.zB(a,null===d||void 0===d?void 0:d.va,b.Fg);return[!b.cMa(),c,a];}Object.defineProperty(b,"__esModule",{value:!0});b.fPa=b.dPa=void 0;g=a(0);m=a(11);b.dPa=function(a,b,d,l,f){var h,k,n,q;h=b[0];b=b[1];k=g.__read(b?c(a,b,d,l,f):[!1],3);n=k[0];q=k[1];k=k[2];l=g.__read(h?c(a,h,n&&void 0!==(null===q||void 0===q?void 0:q.S)?m.ha.ue(q.S):d,void 0!==(null===k||void 0===k?void 0:k.oa)?m.ha.ue(null===k||void 0===k?void 0:k.oa):l,f):[!1],3);a=l[0];d=l[1];l=l[2];a&&(null===h||void 0===h?void 0:h.HLa(d,l));n&&(null===b||void 0===b?void 0:b.HLa(q,k));return[a,n];};b.fPa=function(a,b,c){return b.track.Lo(a,c.va,void 0,!0).pl;};},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.twa=void 0;c=a(0);g=a(11);m=a(801);r=a(5);d=function(){function a(a){var b,c,d,g,k,n,m;b=this;c=a.config;d=a.O;g=a.Uc;k=a.ba;n=a.pl;m=a.zn;a=a.splice;this.BLa=this.HM=!1;this.IEa=function(){b.HM||b.YCa()&&b.cPa();};this.config=c;this.Uc=g;this.O=d;this.ba=k;this.pl=n;this.zn=m;this.splice=a;}a.prototype.Ab=function(a){if(this.HM)throw Error("Cannot call init() after cleanup");if(this.BLa)throw Error("Cannot call init() twice");this.BLa=!0;this.JPa=a;this.O.fy.addListener("onHeaderFragments",this.IEa);this.YCa()&&this.cPa();};a.prototype.mc=function(){this.HM||(this.HM=!0,this.JPa=void 0,this.O.fy.removeListener("onHeaderFragments",this.IEa));};a.prototype.cPa=function(){var a,b,c;if(!this.HM){b=this.Kxb();c=!1;this.ba&&!this.ba.JH&&(c=this.Yja());null===(a=this.JPa)||void 0===a?void 0:a.call(this,b,c);this.mc();}};a.prototype.YCa=function(){return this.Uc.every(function(a){return a.track.Vd;});};a.prototype.Kxb=function(){var a,b;a=c.__read(m.dPa(this.config,this.Uc,this.pl,this.zn,this.splice),2);b=a[0];return a[1]||void 0===this.Uc[1]&&b;};a.prototype.Yja=function(){var a,b;r.assert(this.ba);r.assert(!this.ba.JH);b=null!==(a=this.Uc[1])&&void 0!==a?a:this.Uc[0];a=m.fPa(this.config,b,this.ba.Km);if(void 0===a||void 0===b.zn)return!1;b=this.zn&&!this.zn.equal(g.ha.mq)?b.zn:g.ha.mq;this.ba.normalize(a,b);return!0;};return a;}();b.twa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.rva=b.Wsa=void 0;c=a(58);g=a(4);d=function(){function a(a){this.NH=a;}a.prototype.sJa=function(a,b,d){var l;l=a.Z;a=a.wi(b);a.pP=b+1;if(!a.Ua)for(++b;b<l.length&&b<d.jg.index&&(a.duration<d.AH||0!==b%this.NH);++b)a.Raa(l.get(b)),a.pP=b+1,c.gb&&d.Aj("getFragmentForHudsonRequest: extended fragment startPts:",a.S,"to duration:",a.duration,"size:",a.aa,"index: ",b,"min request size in ms:",d.AH);a.hub=d.Ic.fsb+(g.time.ea()-d.Ic.lsb);c.gb&&d.Aj("getFragmentForHudsonRequest( "+b+") returning: "+JSON.stringify(a));return a;};return a;}();b.Wsa=d;d=function(){function a(){}a.prototype.sJa=function(a,b,d,g){var f,h;f=a.Z;h=b===d.eg.index;b===d.jg.index?(a=a.qJa(d.jg),a.MQ(d.jg.Zv),a.JNa(),a.lGb(d.Ic.ba)):h?(a=a.qJa(d.eg),a.MQ(d.eg.Zv)):a=a.wi(b);a.pP=b+1;if(!a.Ua&&!g)for(++b;b<f.length&&b<d.jg.index&&(a.aa<d.uOa||a.duration<d.AH);++b)a.Raa(f.get(b)),a.pP=b+1,c.gb&&d.Aj("getFragmentForRequest: extended fragment startPts:",a.S,"to duration:",a.duration,"size:",a.aa,"min request size:",d.uOa,"min request duration:",d.AH);c.gb&&d.Aj("getFragmentForRequest( "+b+") returning: "+JSON.stringify(a)+", stream: "+JSON.stringify(a.stream));return a;};return a;}();b.rva=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.gya=void 0;c=a(0);d=a(214);g=a(213);new(a(4)).Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var a70;a70=2;while(a70!==3){switch(a70){case 2:c.__extends(b,a);b.WGb=function(a,b){var N50,c,f;N50=2;while(N50!==3){switch(N50){case 2:f=!!a.Wo;b.Ona&&(null===(c=a.Ga)||void 0===c?void 0:c.Da)<b.NM&&(f=!0);return f;break;}}};b.prototype.gnb=function(a,b){var I50,c,f;I50=2;while(I50!==8){switch(I50){case 2:c=this.config;f=b?c.yca:c.uba;b=b?c.zca:c.wba;Array.isArray(b)&&(f=g.CHa(b,a.ol-a.od,c.vba));I50=9;break;case 9:return f;break;}}};a70=4;break;case 14:return b;break;a70=3;break;case 4:return b;break;}}function b(c,d){var d70,l,Y50;d70=2;while(d70!==8){Y50="1";Y50+="SIYb";Y50+="Zr";Y50+="NJCp";Y50+="9";switch(d70){case 2:l=a.call(this,c,d)||this;l.Mv=function(a,b){var z50;z50=2;while(z50!==1){switch(z50){case 4:return g.Mv(l.config,a,b);break;z50=1;break;case 2:return g.Mv(l.config,a,b);break;}}};d70=4;break;case 4:l.OP=function(a,c,d){var K50,f;K50=2;while(K50!==9){switch(K50){case 4:a=a.Ga?a.Ga.Da*(100-l.gnb(c,f))/100|0:0;return l.IGa(a,d);break;case 2:d=null!==d&&void 0!==d?d:l.rH;f=b.WGb(a,l.config);K50=4;break;}}};Y50;return l;break;}}}}(d.yJ);b.gya=a;},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Iua=void 0;c=a(0);d=a(110);g=a(214);m=a(213);a=a(4);r=d.UW;q=d.geb;n=d.DHa;l=d.Ykb;f=d.FEb;new a.Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var Q50;function b(b,c){var G50,d,y4i;G50=2;while(G50!==11){y4i="1";y4i+="SI";y4i+="Yb";y4i+="ZrNJCp9";switch(G50){case 7:d.filter=b.Np.filter;d.cHb=!!b.Np.simpleScaling;b.Np.niqrfilter&&b.Np.niqrcurve&&(d.ZOa=b.Np.niqrfilter,d.Fxb=q(b.Np.niqrcurve,1,0,4));G50=13;break;case 13:y4i;return d;break;case 5:d.Mv=function(a,b){var x50;x50=2;while(x50!==1){switch(x50){case 2:return m.Mv(d.config,a,b);break;case 4:return m.Mv(d.config,a,b);break;x50=1;break;}}};d.OP=function(a,b,c){var f50,h,g,k,m,q,r;f50=2;while(f50!==13){switch(f50){case 9:m=b.ol-b.od;d.cHb?(b=n(d.ZFa,m,1),m=n(d.YFa,m,1),b=b*k+m*(1-k)):b=n(f(d.ZFa,d.YFa,k),m,1);a=d.ZOa&&(null===(q=a[d.ZOa])||void 0===q?void 0:q.rP);void 0!==a&&(q=l(d.Fxb,a),b=Math.min(b*q,1));S8ii.W4i(0);return d.IGa(S8ii.I4i(r,1,b),c);break;case 2:c=null!==c&&void 0!==c?c:d.rH;r=null!==(g=null===(h=a.Ga)||void 0===h?void 0:h.Da)&&void 0!==g?g:0;h=null!==(m=null===(k=a[d.filter])||void 0===k?void 0:k.Da)&&void 0!==m?m:r;k=Math.pow(Math.max(1-h/d.hcb,0),d.bcb);f50=9;break;}}};Array.isArray(b.Np.curves)&&(d.ZFa=q(b.Np.curves[0],0,0,1),d.YFa=q(b.Np.curves[1],0,0,1));d.hcb=r(b.Np.threshold||6E3,1,1E5);d.bcb=r(b.Np.gamma||1,.1,10);G50=7;break;case 2:d=a.call(this,b,c)||this;G50=5;break;}}}Q50=2;while(Q50!==5){switch(Q50){case 2:c.__extends(b,a);return b;break;case 3:c.__extends(b,a);return b;break;Q50=5;break;}}}(g.yJ);b.Iua=a;},function(d,b,a){var g,m,r,q,n,l;function c(a,b,c){if(null===q)return a=m(c),q=c[a].R,new r(a);if(!c.length)return null;a=c.filter(function(a){return c[a].R==q;})[0];return void 0===a?(g.log("Defaulting to first stream due to unvalid bitrate requested: "+q),new r(l[0])):new r(a);}b=a(35);a=a(4);g=b.console;m=b.Gea;r=b.io;q=null;n=null;l=null;a.Fdb&&(a.Fdb.Yv={Ab:function(){l=n=q=null;},o2:function(a){q=a;},XVb:function(){return{all:n,Ioa:l};}});d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var h4i,b,N2L;h4i=2;while(h4i!==7){N2L="1SIYb";N2L+="Z";N2L+="rNJCp9";switch(h4i){case 9:d.P={checkBuffering:function(a,c,d,g,n,l){var p7M=S8ii;var V4i,h,k,m,q,r,p,t,z2L,E2L,A2L,Q2L,f4i,Y4i,T4i;function f(b){var k4i;k4i=2;while(k4i!==5){switch(k4i){case 2:b=g.Z.pY(a.od+b,void 0,!0);return(r-a.jj)/(r+(b.offset+b.aa)-p);break;}}}V4i=2;while(V4i!==53){z2L="h";z2L+="i";z2L+="gh";z2L+="tp";E2L="nore";E2L+="buf";E2L+="f";A2L="outo";A2L+="fran";A2L+="ge";Q2L="m";Q2L+="axsiz";Q2L+="e";switch(V4i){case 36:0<c&&c<k&&(m=Math.min(q,Math.max(l.eQ*(k/c-1),m)));V4i=54;break;case 19:V4i=!c?18:17;break;case 38:--l;V4i=44;break;case 35:V4i=h>=m?34:36;break;case 6:return{complete:!0,reason:Q2L};break;case 1:h=a.ol-a.od;k=c===b.Ze;c=g.Ga||0;m=0;V4i=9;break;case 43:k=g.Z.get(l);p7M.J2L(0);f4i=p7M.g2L(10,7272,13,56);t=f4i*t*d/c-k.S-m;V4i=41;break;case 18:return{complete:!1,PC:m};break;case 44:V4i=l>n?43:37;break;case 34:V4i=c>k*l.lY?33:32;break;case 25:return c<k&&(m=Math.min(q,Math.max(l.eQ*(k/c-1),m))),{complete:!1,PC:m,wh:(r-a.jj)/(r+(m-(a.Lb-a.od))*k/8)};break;case 9:q=l.Joa&&!k?l.uy:l.fja;q=Math.min(l.qv,q);V4i=7;break;case 22:return{complete:!0,reason:A2L};break;case 13:return{complete:!1,kv:!0};break;case 54:return{complete:!1,PC:m,wh:f(m)};break;case 26:V4i=!g.Z||!g.Z.length?25:24;break;case 32:m=g.Z.Kd(n);l=Math.min(n+Math.floor(l.eQ/m),g.Z.length-1);t=g.Z.Yg(l);p7M.K2L(1);Y4i=p7M.g2L(19,2,16,19);m=Y4i*p*d/c-a.od;V4i=28;break;case 12:p7M.J2L(2);T4i=p7M.g2L(2,21,19);m=l.kg*(k?l.Fla:T4i);l.wkb&&g.mb&&g.mb.xh&&g.mb.xh.Da>l.Gia&&(m+=l.Naa+g.mb.xh.Da*l.Gka);n&&(m+=n.kX*l.Oaa);m=q?Math.min(q,m):m;V4i=19;break;case 37:return{complete:!0,reason:E2L};break;case 28:--l;V4i=44;break;case 7:V4i=h>=q?6:14;break;case 17:r=0;a.Z.forEach(function(b){var L4i;L4i=2;while(L4i!==1){switch(L4i){case 2:r+=b.S+b.duration>a.od?b.aa:0;L4i=1;break;}}});d=Math.max(d,1);k=d*g.R;V4i=26;break;case 40:return m=Math.min(q,h+t),{complete:!1,PC:m,wh:f(m)};break;case 21:p=g.Z.Yg(n);V4i=35;break;case 2:V4i=1;break;case 14:V4i=c<=l.Mia&&(0<c||!l.pea)?13:12;break;case 41:V4i=0<t?40:39;break;case 39:t=k.offset;V4i=38;break;case 33:return{complete:!0,reason:z2L};break;case 23:V4i=-1===n?22:21;break;case 24:n=g.Z.jm(a.Lb);V4i=23;break;}}}};N2L;h4i=7;break;case 2:h4i=1;break;case 1:a(8);a(19);a(35);b=a(18).ld;h4i=9;break;}}}());},function(d,b,a){(function(){var T2L,g,m,r,q,N0J;function b(a,b,c,d){var S2L,f,f0J,d0J,l2L;S2L=2;while(S2L!==11){f0J="p";f0J+="layer missing";f0J+=" streaming";f0J+="Index";d0J="Must have at le";d0J+="ast ";d0J+="one sel";d0J+="ecte";d0J+="d stream";switch(S2L){case 2:r(!g.W(d),d0J);r(g.ma(b.Wy),f0J);b=q(d);S2L=3;break;case 9:S2L=-1<d?8:13;break;case 8:f=c[d];S2L=7;break;case 7:S2L=f.mb&&f.mb.Ga&&f.R<f.mb.Ga.Da-a.OIb?6:14;break;case 6:return b.Mc=d,b;break;case 3:S8ii.Z9r(0);l2L=S8ii.b9r(12,5,16,11,1);d=c.length-l2L;S2L=9;break;case 14:--d;S2L=9;break;case 13:b.Mc=0;return b;break;}}}T2L=2;while(T2L!==13){N0J="1S";N0J+="IYbZ";N0J+="rNJCp9";switch(T2L){case 2:g=a(8);a(19);m=a(35);T2L=3;break;case 3:a(4);r=m.assert;q=m.io;m=a(215);d.P={STARTING:m.STARTING,BUFFERING:m.BUFFERING,REBUFFERING:m.REBUFFERING,PLAYING:b,PAUSED:b};N0J;T2L=13;break;}}}());},function(d,b,a){var g;function c(a,b,c){return new g(c.length-1);}a(8);g=a(35).io;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g;function c(){return new g(0);}a(8);g=a(35).io;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var x0J,m,r,q,n,l,f,h,p,t,u,a0J;function g(a,b,c,f){var g0J,d,g,k,r,x,t,F,u,I,E,J,J0J,G0J,Y0J,o0J,O0J,e0J,S0J,l0J,I0J,p0J,F0J,P0J,u0J,s0J,T0J,A0J,v0J,i0J,t0J,j0J,c0J,E0J,z0J;g0J=2;while(g0J!==43){J0J="kbp";J0J+="s, stream";J0J+="ingPts :";G0J=", ";G0J+="audio throu";G0J+="ghpu";G0J+="t:";Y0J=" kbp";Y0J+="s,";Y0J+=" pro";Y0J+="file ";Y0J+=":";o0J="selectAu";o0J+="dioStre";o0J+="am: selected stre";o0J+="a";o0J+="m :";O0J=" ";O0J+="k";O0J+="b";O0J+="p";O0J+="s";e0J=" k";e0J+="bps";e0J+=",";e0J+=" ";e0J+="to ";S0J="switch";S0J+="ing";S0J+=" audio";S0J+=" fr";S0J+="om ";l0J="d";l0J+="o";l0J+="w";l0J+="n";I0J="u";I0J+="p";p0J=", streaming";p0J+="Pts =";p0J+=" ";F0J=", las";F0J+="tUpsw";F0J+="itchPts = ";P0J="  Upswitch allowed. lastDownsw";P0J+="itchP";P0J+="ts = ";u0J="m";u0J+="s";s0J=", buf";s0J+="fe";s0J+="r leve";s0J+="l";s0J+=" = ";T0J=", lastUpsw";T0J+="it";T0J+="ch";T0J+="Pt";T0J+="s = ";A0J="  Upswitch not allow";A0J+="ed. lastDownswitchP";A0J+="ts ";A0J+="= ";v0J=" ";v0J+="kb";v0J+="p";v0J+="s";i0J=" kbps";i0J+=" >";i0J+=" ";t0J="through";t0J+="put";t0J+=" f";t0J+="or audio";t0J+=" ";j0J=" kbps, try to ";j0J+="do";j0J+="wnswitch";c0J=" ";c0J+="kbps ";c0J+="< ";E0J="thro";E0J+="u";E0J+="ghput";E0J+=" for audio";E0J+=" ";z0J="Must have at";z0J+=" least ";z0J+="one ";z0J+="selected";z0J+=" stream";switch(g0J){case 3:return new p(f);break;case 2:l(!m.W(f),z0J);d=c[f].bg;g0J=4;break;case 26:g=x;g0J=30;break;case 33:g0J=(x=k[t],I=c[x],h(I)&&F>u.jWa*I.R*b.playbackRate)?32:34;break;case 6:r=c[f];x=r.R;t=k.indexOf(f);g0J=12;break;case 27:g0J=h(I)&&(0==t||I.R*b.playbackRate*u.SGa<F)?26:25;break;case 4:g0J=!(a&&a.UI&&0<=a.UI.indexOf(d))?3:9;break;case 17:g0J=0<=t?16:30;break;case 18:n&&q.log(E0J+F+c0J+u.SGa+"*"+x+j0J),--t;g0J=17;break;case 16:x=k[t];I=c[x];g0J=27;break;case 10:g0J=0>t?20:19;break;case 20:g=0;g0J=30;break;case 7:g0J=k&&1<k.length?6:30;break;case 23:E=this.lia;J=this.G_;g0J=21;break;case 24:g0J=t<k.length-1&&F>u.jWa*x*b.playbackRate&&(n&&q.log(t0J+F+i0J+u.jWa+"*"+x+v0J),x=b.buffer,I=x.ol-x.od,r.Z&&r.Z.length)?23:30;break;case 25:t--;g0J=17;break;case 12:F=r.Ga;u=a.Hbb;g0J=10;break;case 21:g0J=b.ky&&I>u.mv&&(void 0===J||Number(E)>J||x.Lb-J>u.S_)?35:31;break;case 31:n&&q.log(A0J+J+T0J+E+s0J+I+u0J);g0J=30;break;case 35:n&&q.log(P0J+J+F0J+E+p0J+x.Lb);g0J=34;break;case 9:g=f;a.aVa.some(function(f){var C0J,h,g,l,n,m,q;C0J=2;while(C0J!==13){switch(C0J){case 2:C0J=1;break;case 4:C0J=g?3:14;break;case 1:h=f.profiles;g=h&&0<=h.indexOf(d);C0J=4;break;case 3:l=(f=f.VH)&&f.s0||a.s0;n=f&&f.jXb||-Infinity;m=f&&f.rH||Infinity;q=b.buffer.Tp;C0J=6;break;case 6:k=c.filter(function(a){var R0J,b;R0J=2;while(R0J!==4){switch(R0J){case 2:b=a.R;return b>=n&&b<=m&&0<=h.indexOf(a.bg)&&b*l/8<q;break;}}}).map(function(a){var w0J;w0J=2;while(w0J!==1){switch(w0J){case 2:return a.Gg;break;case 4:return a.Gg;break;w0J=1;break;}}});C0J=14;break;case 14:return g;break;}}});g0J=7;break;case 30:F=c[g];g!==f&&n&&q.log((g>f?I0J:l0J)+S0J+r.R+e0J+F.R+O0J);n&&q.log(o0J+F.R+Y0J+d+G0J+F.Ga+J0J+b.buffer.Lb);return new p(g);break;case 19:g0J=t&&F<u.SGa*x*b.playbackRate?18:24;break;case 32:g=x;g0J=30;break;case 34:g0J=++t<k.length?33:30;break;}}}x0J=2;while(x0J!==10){a0J="1SIY";a0J+="bZrN";a0J+="JC";a0J+="p9";switch(x0J){case 13:u=a(18).pa;d.P={STARTING:function(a,c,d,h){var V0J,g,l,Q0J,m0J,U0J;V0J=2;while(V0J!==14){Q0J="selectAudio";Q0J+="StreamStarting: over";Q0J+="riding ";Q0J+="config with ";m0J=" kbps, p";m0J+="ro";m0J+="file :";U0J="sele";U0J+="ctAudi";U0J+="oStream";U0J+="Starting: selecte";U0J+="d stream :";switch(V0J){case 2:g=a;l=d[h||0].bg;V0J=4;break;case 9:a=t[u[u.Mg]](g,c,d,h);d=d[a.Mc];n&&q.log(U0J+d.R+m0J+d.bg);V0J=6;break;case 4:V0J=(l=a&&a.UI&&0<=a.UI.indexOf(l)?b(l,a.aVa):b(l,a.Fbb))?3:9;break;case 3:g={minInitAudioBitrate:a.jP,minHCInitAudioBitrate:a.iP,maxInitAudioBitrate:a.WO,minRequiredAudioBuffer:a.s0},n&&q.log(Q0J+JSON.stringify(l)),f(l,g);V0J=9;break;case 6:return a;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};a0J;x0J=10;break;case 4:q=r.console;n=r.debug;l=r.assert;f=a(62);h=r.SB;p=r.io;t=a(382);x0J=13;break;case 2:m=a(8);r=a(35);x0J=4;break;}}function b(a,b){var D0J,c;D0J=2;while(D0J!==3){switch(D0J){case 8:c=~2;D0J=7;break;D0J=5;break;case 2:c=void 0;D0J=5;break;case 5:b.some(function(b){var B0J,f;B0J=2;while(B0J!==3){switch(B0J){case 4:return f;break;case 2:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(c=b.override);B0J=4;break;}}});return c;break;}}}}());},function(d,b,a){var g,m,r,q;function c(a,b,c){var f,d;f=this.v$;b=b.buffer.Lb;d="forward"===a.rEb;if(g.W(f))return f=d?m(c):m(c,c.length),this.w$=b,this.v$=f,new q(f);r(c[f])||(f=m(c,f),this.w$=b,this.v$=f);if(0>f)return null;if(b>this.w$+a.QIb){a=c.map(function(a,b){return a.oq?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;d?f=(a.indexOf(f)+1)%a.length:(f=a.indexOf(f)-1,0>f&&(f=a.length-1));this.v$=a[f];this.w$=b;return new q(a[f]);}return new q(f);}g=a(8);b=a(35);m=b.Gea;r=b.SB;q=b.io;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g,m,r,q,n,l,f,h,p;Object.defineProperty(b,"__esModule",{value:!0});b.Qsb=b.kTa=void 0;c=a(48);g=a(62);m=a(8);r=a(398);q=a(4);d=a(110);a=a(35);n=a.ixb;l=a.Scb;f=a.UW;h=a.io;p=d.mna;a=function(){var X0J,x7g;function a(a,b){var n0J,c,f,N7g,a7g;n0J=2;while(n0J!==12){N7g="h";N7g+="ist_t";N7g+="hroughpu";N7g+="t";a7g="hist_td";a7g+="ige";a7g+="s";a7g+="t";switch(n0J){case 7:n0J=(f=m.ma(b.n2)&&0<=b.n2&&100>=b.n2&&!m.W(a)&&!m.Oa(a))?6:14;break;case 9:c.zk=a.bm?a.bm:0;a=g(c.Ak,{});n0J=7;break;case 6:f=r.Iya.fpb(a),m.Tb(f)?(a.Qh=f,f=!0):f=!1;n0J=14;break;case 2:c=new h();c.Xn=a;a=c.Xn.mb||{};c.Ak=a.bm&&a.Ii;n0J=9;break;case 14:f?(b=a.Qh(b.n2/100)||c.Xn.Ga,c.as=b,c.reason=a7g):c.Xn.Ga&&(b=c.Xn.Ga,c.as=b,c.reason=N7g);return c;break;}}}X0J=2;while(X0J!==5){x7g="1SIYbZ";x7g+="rN";x7g+="J";x7g+="C";x7g+="p9";switch(X0J){case 2:x7g;return{G9a:function(a,b,c){var d1J,O7g;d1J=2;while(d1J!==1){O7g="hi";O7g+="stori";O7g+="cal";switch(d1J){case 2:return O7g===a.pha?Q(a,b,c):a.VL?x(a,b,c):u(a,b,c);break;}}},s7a:t};break;}}function d(a,b){var W0J,f,d;W0J=2;while(W0J!==11){switch(W0J){case 1:W0J=a.a_?5:12;break;case 5:f=a.a_;d=c.cM(f,function(a){var M0J;M0J=2;while(M0J!==1){switch(M0J){case 4:return b<a.r;break;M0J=1;break;case 2:return b<=a.r;break;}}});W0J=3;break;case 2:W0J=1;break;case 9:return f[0].d;break;case 8:W0J=-1===d?7:6;break;case 13:return Math.floor(a.d+(f.d-a.d)*(b-a.r)/(f.r-a.r));break;case 7:return f[f.length-1].d;break;case 3:W0J=0===d?9:8;break;case 12:return a.bp;break;case 6:S8ii.C7g(0);a=f[S8ii.F7g(d,1)];f=f[d];W0J=13;break;}}}function u(a,f,g){var y0J,l,k;y0J=2;while(y0J!==9){switch(y0J){case 2:l=new h();k=Math.max(a.qs,a.n0,f.r_?a.Bja:-Infinity);y0J=4;break;case 4:l.Xn=c.zo(g.filter(function(b){var k0J;k0J=2;while(k0J!==1){switch(k0J){case 4:return b.R>=a.pv;break;k0J=1;break;case 2:return b.R<=a.pv;break;}}}).reverse(),function(c){var b0J,h,g,n,H7g,Q7g,t7g,V7g;b0J=2;while(b0J!==12){H7g="no_historical_lte_minbit";H7g+="ra";H7g+="te";Q7g="hist_tpu";Q7g+="t_";Q7g+="lt_minbitr";Q7g+="ate";t7g="lt";t7g+="_h";t7g+="ist_lt";t7g+="e_min";t7g+="bitrate";V7g="hist";V7g+="_buff";V7g+="time";switch(b0J){case 2:h={Ga:c.Ga,bm:c.mb&&c.mb.bm,Ii:c.mb&&c.mb.Ii};b0J=5;break;case 4:c=c.R*f.playbackRate;g=h.Ga;b0J=9;break;case 5:b0J=c.R>k?4:13;break;case 6:return h;break;case 8:n=d(a,c);b0J=7;break;case 9:b0J=g?8:14;break;case 14:h=!1;b0J=6;break;case 7:b(c,g,a)<=n?(l.as=g,h&&(l.zk=h.bm?h.bm:0,l.Ak=h.bm&&h.Ii),l.reason=V7g,h=!0):h=!1;b0J=6;break;case 13:g=h.Ga,c.R*f.playbackRate<=g?(l.as=g,h&&(l.zk=h.bm?h.bm:0,l.Ak=h.bm?h.Ii:void 0),l.reason=t7g,h=!0):g?(l.as=g,h&&(l.zk=h.bm?h.bm:0,l.Ak=h.bm?h.Ii:void 0),l.reason=Q7g,h=!1):(l.reason=H7g,h=!0);b0J=6;break;}}})||g[0];y0J=3;break;case 3:return l;break;}}}function b(a,b,c){var H0J;H0J=2;while(H0J!==5){switch(H0J){case 2:a=l(c.kg,a*c.rja);return n(a,b);break;}}}function x(c,f,d){var q0J,n,g,q,r,h,l,K7g;q0J=2;while(q0J!==17){K7g="fallback_";K7g+="no_acc";K7g+="eptabl";K7g+="e_stream";switch(q0J){case 2:q0J=1;break;case 5:q0J=0<=l&&(h?d[l].Ub>=c.CH:d[l].R>=c.qs)?4:20;break;case 12:q0J=n?20:11;break;case 1:h=!!c.CH&&!!c.aOa&&d.every(function(a){var K0J;K0J=2;while(K0J!==1){switch(K0J){case 2:return a.Ub&&110>=a.Ub;break;case 4:return a.Ub||563>a.Ub;break;K0J=1;break;}}}),g=null,l=d.length-1;q0J=5;break;case 11:g.reason=r;q0J=10;break;case 4:n=d[l];g=a(n,c);q=b(n.R*f.playbackRate,g.as,c);q0J=8;break;case 10:l--;q0J=5;break;case 20:m.Oa(g)&&(g=a(d[0],c));m.Oa(g)&&(g=a(d[0],c),g.reason=K7g);return g;break;case 8:r=k(g.as,c);r=t(n,0,h,q,r,c);n=r.mY;r=r.reason;g.Wu=q;q0J=12;break;}}}function Q(a,b,f){var Z0J,d,R7g,Y7g,T7g;Z0J=2;while(Z0J!==6){R7g="num";R7g+="be";R7g+="r";Y7g="v";Y7g+="b";T7g="hist";T7g+="_bitr";T7g+="ate";switch(Z0J){case 3:a=new h();a.Xn=c.zo(f.slice().reverse(),function(a){var h0J;h0J=2;while(h0J!==1){switch(h0J){case 2:return a.R<=d;break;case 4:return a.R>=d;break;h0J=1;break;}}})||f[0];a.reason=T7g;Z0J=7;break;case 2:d=q.storage.get(Y7g);Z0J=5;break;case 5:Z0J=R7g!==typeof d?4:3;break;case 7:return a;break;case 4:return a.VL?x(a,b,f):u(a,b,f);break;}}}function t(a,b,c,f,d,h){var L0J,M7g,b7g,D7g;L0J=2;while(L0J!==5){M7g="no_valid_Bi";M7g+="t";M7g+="rate";b7g="n";b7g+="o_";b7g+="valid_VM";b7g+="AF";D7g="n";D7g+="o_v";D7g+="al";D7g+="id_DelayTarget";switch(L0J){case 2:a=c?a.Ub>=h.CH&&a.Ub<=h.aOa:a.R>=h.qs&&a.R<=h.pv;return(f=f<d&&a)?{mY:f}:{mY:f,reason:a?D7g:c?b7g:M7g};break;}}}function k(a,b){var G7M=S8ii;var r0J,c,A7g,W7g,f1J,N1J;r0J=2;while(r0J!==8){A7g="sigm";A7g+="o";A7g+="i";A7g+="d";W7g="l";W7g+="o";W7g+="g";switch(r0J){case 2:G7M.X7g(0);f1J=G7M.F7g(1000000,900000);G7M.C7g(1);N1J=G7M.y7g(384,8,77);a=f(a,0,f1J)/N1J;r0J=5;break;case 4:c=b.xI;return(c=b.lTa[c])&&2===c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.bp;break;case 5:r0J=0===b.xI.lastIndexOf(W7g,0)?4:9;break;case 9:return 0===b.xI.lastIndexOf(A7g,0)?(c=b.xI,(c=b.lTa[c])&&2===c.length?1E3*(c[0]+c[1]*p(a)):b.bp):b.bp;break;}}}}();d=a.s7a;b.kTa=a.G9a;b.Qsb=d;},function(d,b,a){var c;a(8);c=a(35).console;d.P=function(a,b,d,g,n,l,f,h,p,t,u,E,J,K,D){var C7M=S8ii;var z7g,k,m,q,r,x,F,I,da,v3p,b3p,N3p;z7g=2;while(z7g!==53){v3p=" >";v3p+="= fr";v3p+="agmentsLengt";v3p+="h:";v3p+=" ";b3p="Str";b3p+="eam";b3p+="i";b3p+="ngInd";b3p+="ex: ";N3p="1SIYbZ";N3p+="rNJC";N3p+="p9";switch(z7g){case 40:z7g=h>=p&&a>F?54:39;break;case 3:m=a.Kd;q=a.sizes;C7M.d3p(0);F=C7M.B3p(d,g);g=Infinity;z7g=6;break;case 2:N3p;k=a.T;b=Math.min(a.length,b);z7g=3;break;case 35:I=Math.max(r,t);z7g=34;break;case 37:z7g=(a=Math.max(f-d,0),a<J&&a<I)?36:29;break;case 6:I=0;da=0;a=a.Kd[0];C7M.d3p(1);n=C7M.L3p(n,1E3,a,k);z7g=11;break;case 31:return{result:!1,SO:a/(k/1E3),Ku:!1};break;case 39:I=a;z7g=38;break;case 23:r=q[h];x=m[h];z7g=21;break;case 26:C7M.W3p(2);J*=C7M.B3p(k,1E3);z7g=25;break;case 30:C7M.W3p(0);a=C7M.L3p(d,f);z7g=29;break;case 25:C7M.W3p(2);F*=C7M.B3p(k,1E3);z7g=24;break;case 18:d+=a;0===f&&(d=0);C7M.d3p(2);d*=C7M.L3p(k,1E3);C7M.W3p(2);f*=C7M.B3p(k,1E3);C7M.d3p(2);K*=C7M.B3p(k,1E3);z7g=26;break;case 43:z7g=n<d&&da<h?42:41;break;case 11:C7M.d3p(3);a=C7M.B3p(l,0,8,E);C7M.W3p(4);E=C7M.L3p(E,8,0);C7M.d3p(2);l=C7M.L3p(k,1E3);h>=b&&c.error(b3p+h+v3p+b);z7g=18;break;case 44:u-=r;z7g=43;break;case 32:z7g=!D&&(a=f-d,a<K)?31:30;break;case 29:C7M.W3p(5);d+=C7M.L3p(r,0,E,l);f+=x;z7g=44;break;case 33:d=n,u+=q[da],++da,a=m[da],n+=a;z7g=34;break;case 42:u+=q[da],++da,n+=m[da];z7g=43;break;case 41:++h;z7g=40;break;case 34:z7g=u<I?33:32;break;case 24:z7g=h<b?23:54;break;case 21:z7g=u<r?35:37;break;case 38:g=Math.min(a,g);z7g=24;break;case 54:return{result:!0,SO:g/(k/1E3),Ku:!0};break;case 36:return{result:!1,SO:Math.min(a,g)/(k/1E3),Ku:!0};break;}}};},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.m2=void 0;c=a(48);g=a(8);d=a(35);m=a(383);r=d.assert;q=d.io;b.m2=n;(function(){var a3p,T3p;function a(a,b,d,l){var D3p,h,k,n,m,p,u3p,A3p,P3p;D3p=2;while(D3p!==13){u3p="select_feas";u3p+="ible";u3p+="_b";u3p+="u";u3p+="ffering";A3p="fallback_lowe";A3p+="st_acceptab";A3p+="le_stream";P3p="Must have";P3p+=" at l";P3p+="e";P3p+="ast one selected ";P3p+="stream";switch(D3p){case 2:r(!g.W(l),P3p);h=d[l];k=h.R;n=h;D3p=9;break;case 9:h.Ga&&(h=c.zo(d.slice(0,Math.min(l+(a.Hab?2:1),d.length)).reverse(),f),void 0===h?(h=d[0],p=A3p):p=u3p,m=null===h||void 0===h?void 0:h.Ga);d=new q();d.Xn=h;D3p=6;break;case 6:n!==h&&(d.reason=p,d.as=m);return d;break;}}function f(c){var h3p,f,x3p;h3p=2;while(h3p!==7){x3p="buf";x3p+="f_l";x3p+="t_h";x3p+="ist";switch(h3p){case 2:f=c.Ga;h3p=5;break;case 4:return!1;break;case 3:p=x3p;m=f;return!0;break;case 5:h3p=!f||(c.R>k?a.KKb:1)*c.R*b.playbackRate>f?4:3;break;}}}}a3p=2;while(a3p!==5){T3p="1SIY";T3p+="b";T3p+="ZrN";T3p+="JC";T3p+="p9";switch(a3p){case 2:b.m2=n=function(b,c,d,g,l,k){var U3p,t3p;U3p=2;while(U3p!==1){t3p="pl";t3p+="ay";t3p+="in";t3p+="g";switch(U3p){case 2:return t3p===b.Gba?m.BQ.call(this,b,c,d,g,l,k):a.call(this,b,c,d,g);break;}}};T3p;a3p=5;break;}}}());},function(d,b,a){var g;function c(a,b,c){a=c.map(function(a,b){return a.oq?b:null;}).filter(function(a){return null!==a;});return a.length?new g(a[Math.floor(Math.random()*a.length)]):null;}g=a(35).io;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g,m,r,q;function c(a,b,c,d){if(g.W(d))a=m(c);else if(r(c[d]))a=d;else if(a=m(c,d),0>a)return null;return new q(a);}g=a(8);b=a(35);m=b.Gea;r=b.SB;q=b.io;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g,m,r,q,n,l,f,h,p;Object.defineProperty(b,"__esModule",{value:!0});b.mU=void 0;c=a(8);g=a(19);m=a(4);r=a(48);q=a(18);n=a(216);l=new m.Console("ASEJS_STREAM_SELECTOR","media|asejs");f=[q.pa[q.pa.Mg],q.pa[q.pa.Dd],q.pa[q.pa.Ze],q.pa[q.pa.Pc],q.pa[q.pa.Ri],"checkBuffering"];h={first:a(817),random:a(816),optimized:a(215),roundrobin:a(812),selectaudio:a(382),selectaudioadaptive:a(811),"default":a(215),lowest:a(810),highest:a(809),throughputthreshold:a(808),checkdefault:a(807),testscript:a(806)};p={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};d=function(){var k1p;k1p=2;while(k1p!==14){switch(k1p){case 2:a.prototype.o2=function(a,b,f,d,h,k){var T7M=S8ii;var V1p,M1p,p,x,t,F,u,I,E,J,o7u,m7u,C1p,O1p;V1p=2;while(V1p!==45){o7u="S";o7u+="tream selector called with invalid player ";o7u+="state ";m7u="p";m7u+="l";m7u+="ay";m7u+="ing";switch(V1p){case 43:d||(J.Cu=void 0);V1p=42;break;case 37:c.ma(t)&&x.R<b[t].R&&(this.u$=f.Lb);a.state!==q.pa.Pc&&a.state!==q.pa.Ri?(b=n.p1(a.state),k=this.fm(a.buffer,b,a.playbackRate,x,k),(J.Dj=k.complete)?J.GW=k.reason:(J.Dj=!1,J.PC=k.PC,J.kv=k.kv,J.wh=k.wh)):(J.Dj=!0,J.GW=m7u);a.rN&&(J.Lb=f.Lb,k=a&&a.Wy,b=x.Z,J.si=b&&void 0!==k&&!isNaN(k)&&0<=k&&k<b.length?b.Sh(k):f.Lb,J.aBb=x.Ga||0,J.oyb=x.mb&&x.mb.Ga&&x.mb.Ga.Da||0,J.Ncb=f.ol-f.od,J.jEa=f.Vh,J.Ey=a.state,J.wo=a&&a.wo,J.aWa=p,J.FIb=m.time.ea());return J;break;case 51:this.Vf.ITa(g.SS.Mg);V1p=26;break;case 35:T7M.v7u(0);C1p=T7M.x7u(19,20);x=J.Mc+C1p;V1p=34;break;case 25:V1p=J.Xn&&(J.Cu=[],b.forEach(function(a,b){var K1p;K1p=2;while(K1p!==4){switch(K1p){case 2:a===J.Xn&&(J.Mc=b);a.Ena&&J.Cu.push(a.ta);a.Ena=!1;K1p=4;break;}}}),!J.Cu.length)?24:42;break;case 49:V1p=M1p===q.pa.Pc?26:48;break;case 13:I=F[u-1].ta;t=r.cM(b,function(a){var Y1p;Y1p=2;while(Y1p!==1){switch(Y1p){case 4:return a.ta!=I;break;Y1p=1;break;case 2:return a.ta===I;break;}}});V1p=11;break;case 48:V1p=M1p===q.pa.Ri?26:47;break;case 16:M1p=a.state;V1p=M1p===q.pa.Mg?15:52;break;case 33:F=b[x];V1p=32;break;case 4:x=this.I;t=this.Vf.FO;c.ma(t)&&a.state===q.pa.Mg&&(this.Vf.bna(void 0),t=void 0);c.ma(t)&&t>=b.length&&(this.Vf.bna(void 0),t=void 0);F=f.Z;V1p=6;break;case 41:return null;break;case 30:T7M.a7u(1);O1p=T7M.x7u(19,21,2);x=J.Mc-O1p;V1p=29;break;case 32:F.Z&&F.Z.length||(d=!0,J.Cu.push(F.ta));V1p=31;break;case 34:V1p=x<b.length?33:31;break;case 52:V1p=M1p===q.pa.Dd?51:50;break;case 2:f=null===a||void 0===a?void 0:a.buffer;p=m.time.ea();V1p=4;break;case 31:V1p=!d?30:43;break;case 15:this.x$=this.u$=void 0;V1p=27;break;case 6:u=F.length;V1p=14;break;case 29:V1p=0<=x?28:43;break;case 11:V1p=!(0<=t)?10:20;break;case 44:F.Z&&F.Z.length||(d=!0,J.Cu.push(F.ta));V1p=43;break;case 10:E=F[u-1].R,t=r.cM(b,function(a){var g1p;g1p=2;while(g1p!==1){switch(g1p){case 4:return a.R<E;break;g1p=1;break;case 2:return a.R>E;break;}}}),t=0<t?t-1:0===t?0:b.length-1;V1p=20;break;case 40:this.Vf.bna(J.Mc);x=b[J.Mc];J.reason&&(x.pp=J.reason,x.AQ=J.as,x.Wu=J.Wu,x.zk=J.zk,x.Ak=J.Ak);V1p=37;break;case 27:this.Vf.ITa(g.SS.Mg);V1p=26;break;case 42:V1p=!J||null===J.Mc?41:40;break;case 21:V1p=x.kUa&&h>x.hP?35:43;break;case 24:h=f.ol-f.od;F=void 0;d=!1;V1p=21;break;case 20:c.W(t)&&(t=this.Vf.FO);void 0!==d&&this.ela(b,!!a.Wo,a.buffer,d);a.state===q.pa.Mg&&c.ma(t)&&(a.state=q.pa.Dd);a.state!==q.pa.Mg&&void 0===t&&(a.state=q.pa.Mg);V1p=16;break;case 50:V1p=M1p===q.pa.Ze?51:49;break;case 28:F=b[x];V1p=44;break;case 14:V1p=0<u?13:20;break;case 26:J=this.wf[q.pa[a.state]].call(this,x,a,b,t,d,!!h);V1p=25;break;case 47:return l.error(o7u+q.pa[a.state]),null;break;}}};a.prototype.fm=function(a,b,c,f,d){var e1p;e1p=2;while(e1p!==1){switch(e1p){case 2:return this.wf.checkBuffering.call(this,a,b,c,f,d,this.I);break;}}};a.prototype.OHb=function(a,b,f){var R1p;R1p=2;while(R1p!==1){switch(R1p){case 2:c.W(b)?this.u$=this.x$=void 0:b.R<f.R&&(this.x$=a);R1p=1;break;}}};a.prototype.ela=function(a,b,c,f){var s1p,d,h;s1p=2;while(s1p!==5){switch(s1p){case 2:this.wY(a,function(a){var o1p;o1p=2;while(o1p!==1){switch(o1p){case 2:a.oq&&a.mb&&a.mb.yd?(d!==a.mb&&(d=a.mb,b&&a.mb&&(a.mb.Wo=!0),h=Math.floor(f(a.mb,c,a.track.O.sq[0])),h=0===h?1:h),a.Ga=h):a.Ga=void 0;o1p=1;break;}}});s1p=5;break;}}};k1p=3;break;case 7:Object.defineProperties(a.prototype,{FO:{get:function(){var z1p;z1p=2;while(z1p!==1){switch(z1p){case 2:return this.Vf.FO;break;case 4:return this.Vf.FO;break;z1p=1;break;}}},enumerable:!1,configurable:!0}});return a;break;case 3:a.prototype.wY=function(a,b){var S1p,c,m1p;S1p=2;while(S1p!==3){switch(S1p){case 7:S1p=7<c?1:8;break;S1p=0<=c?5:3;break;case 1:S1p=0<=c?5:3;break;case 2:S8ii.a7u(2);m1p=S8ii.x7u(5,19,266,19);c=a.length-m1p;S1p=1;break;case 5:b(a[c],c,a);S1p=4;break;case 4:--c;S1p=1;break;}}};Object.defineProperties(a.prototype,{G_:{get:function(){var n1p;n1p=2;while(n1p!==1){switch(n1p){case 2:return this.u$;break;case 4:return this.u$;break;n1p=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lia:{get:function(){var i1p;i1p=2;while(i1p!==1){switch(i1p){case 2:return this.x$;break;case 4:return this.x$;break;i1p=1;break;}}},enumerable:!1,configurable:!0}});k1p=7;break;}}function a(a,b,c){var F1p,d,k7u;F1p=2;while(F1p!==6){k7u="1";k7u+="SIYbZr";k7u+="NJ";k7u+="Cp";k7u+="9";switch(F1p){case 5:this.AI=a;this.I=b;this.Vf=c;k7u;a=a||this.I.T2;F1p=7;break;case 2:d=this;F1p=5;break;case 7:this.wf=f.reduce(function(b,c){var c1p;c1p=2;while(c1p!==5){switch(c1p){case 2:b[c]=((h[a]||h[p[c]])[c]||h[p[c]][c]).bind(d);return b;break;}}},{});F1p=6;break;}}}}();b.mU=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Npa=void 0;c=a(0);a(5);d=a(33);g=a(4);m=a(92);r=a(72);a=a(165);q=g.hk;a=function(a){function b(b,c,d,g,l,k,n){g.responseType=0;d=a.call(this,b,d,"",g,l,c,n)||this;r.Ch.call(d,b,g);d.hja=c.hja;d.ija=c.ija;d.Jea=0;return d;}c.__extends(b,a);b.prototype.Ab=function(){this.Yb||(this.Yb=m.Qf());};b.prototype.vs=function(){return q.prototype.open.call(this,this.MK,{start:this.offset,end:this.offset+Math.max(this.ija,Math.floor(this.hja*this.aa))-1},this.LK,{},void 0,void 0,void 0);};b.prototype.abort=function(){return!0;};b.prototype.vL=function(){var a;a=this.cd||this.jf;this.gd||(this.gd=!0,this.Jea=a);};b.prototype.L$=function(){this.Jea=this.cd;};b.prototype.M$=function(){};b.prototype.uL=function(){var a;a=this.cd;this.Yb&&this.Yb.ox(this.De,this.Jea,a,{requestId:this.kn(),ee:this.Kb,type:this.L,wD:!0});this.vg=this.gd=!1;this.mc();};b.prototype.dF=function(){this.zf&&this.zf.clear();};return b;}(a.lz);b.Npa=a;d.Ke(r.Ch,a,!1);},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Epa=void 0;c=a(0);g=a(93);m=a(5);a(4);r=a(11);q=a(217);n=a(72);l=a(229);d=function(a){function b(c,f,d,h,g,l){f=a.call(this,c,h,g,f,l)||this;f.v6a=d;f.jn=void 0;f.d$=b.ND.INIT;f.wTb=h.offset;f.t$=n.Ch.prototype.toString.call(f)+" multiple";f.nF(c.url,h.offset,8,0);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{data:{get:function(){return this.jn;},enumerable:!1,configurable:!0}});b.prototype.hj=function(a){var c,f;this.jn=this.jn?r.Kr(this.jn,a.response):a.response;a.hQ();switch(this.d$){case b.ND.INIT:c=new DataView(this.jn);f=c.getUint32(0);c=c.getUint32(4);g.hA(c);this.nF(a.url,a.offset+a.aa,f,0);q.jz.prototype.hj.call(this,a);this.d$=b.ND.uua;break;case b.ND.uua:c=new DataView(this.jn);f=c.getUint32(this.Uza-8);c=c.getUint32(this.Uza-4);g.hA(c);this.nF(a.url,a.offset+a.aa,f-8,0);this.d$=b.ND.pua;q.jz.prototype.hj.call(this,a);break;case b.ND.pua:q.jz.prototype.hj.call(this,a);break;default:m.assert(!1);}};b.prototype.nF=function(a,b,c,f){a=new l.tJ(this.stream,this.v6a,this.t$+" ("+this.wa.length+")",{G:this.G,L:this.L,ta:this.ta,R:this.R,offset:b,aa:c,url:a,location:this.location,Kb:this.Kb,responseType:f},this,this.Zc,this.u);this.push(a);this.Uza=this.wa.reduce(function(a,b){return a+b.aa;},0);};b.ND={INIT:0,uua:1,pua:2,name:["INIT","MOOF","MDAT"]};return b;}(q.jz);b.Epa=d;},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Apa=void 0;c=a(0);a(5);g=a(8);d=a(33);m=a(4);r=a(92);q=a(72);n=a(165);l=a(162);f=m.hk;a=function(a){function b(b,c,d,h,g,l,k){var n;n=this;n=["cache","edit"].filter(function(a,b){return[l,h.Ua][b];});n=n.length?"("+n.join(",")+")":"";void 0===h.responseType&&(h.responseType=f.yc&&!f.yc.tI.Yz?0:1);n=a.call(this,b,d,n,h,g,c,k)||this;q.Ch.call(n,b,h);n.z7a=h.hub;n.zf.on(n,f.Od.MQb,n.F8a);n.zf.on(n,f.Od.LQb,n.E8a);return n;}c.__extends(b,a);b.prototype.Ab=function(a){l.mz.prototype.Ab.call(this,a);this.Yb||!this.Zc.mW&&this.bc||(this.Yb=r.Qf());};b.prototype.vs=function(){var a;a={start:this.offset,end:this.offset+this.aa-1};void 0!==this.oc&&0<=this.oc&&void 0!==this.Vb&&(this.MK=this.jBa(this.MK,!0),a={start:0,end:-1});return f.prototype.open.call(this,this.MK,a,this.LK,{},void 0,void 0,this.yza);};b.prototype.s3=function(){var a,b,c;if(this.complete)return 0;a=this.vSa;b=a.O;if(!a.url)return this.u.warn("updateurl, missing url for streamId:",a.ta,"mediaRequest:",this,"stream:",a),1;c=this.jBa(a.url,!1);return this.url===c||(b.y2(this,a.location,a.tc),this.gR(c))?0:(this.u.warn("swapUrl failed: ",this.AG),2);};b.prototype.vL=function(){this.gd||(this.gd=!0,this.On=this.track.On(),this.AB(this),this.Fl=0,this.Gl=this.cd);};b.prototype.L$=function(){var a;a=this.cd;this.Sx(this);this.Gl=a;};b.prototype.M$=function(){var a;a=this.cd;this.BB(this);this.Gl=a;this.Fl=this.De;};b.prototype.F8a=function(){var a;a=this.Ztb;this.vg=!0;this.Yb&&(this.Yb.LC(a,{requestId:this.kn(),ee:this.Kb,type:this.L}),this.Yb.Zla());};b.prototype.uL=function(){var a;a=this.cd;this.Yb&&this.vg&&this.Yb.NC(m.time.ea(),this.vg,{requestId:this.kn(),ee:this.Kb,type:this.L});this.vg=this.gd=!1;this.aq(this);this.Gl=a;this.Fl=this.De;this.mc();};b.prototype.E8a=function(){this.Yb&&(this.Yb.ox(this.FWb,this.Ztb,this.Ytb,{requestId:this.kn(),ee:this.Kb,type:this.L}),this.Yb.NC(this.Ytb,this.vg,{requestId:this.kn(),ee:this.Kb,type:this.L}));this.vg=!1;};b.prototype.T5a=function(a,b,c,f){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?f:a-c;};b.prototype.jBa=function(a,b){var c,f;if(g.W(this.oc)||0>this.oc||g.W(this.Vb))return a;c=[];f=this.T5a(this.oc,this.Vb-1,this.z7a,this.Zc.Eja);c.push("ptsRange/"+this.oc+"-"+(this.Vb-1));0<f&&b&&c.push("timeDelay/"+f);a=a.split("?");b=a[0];for(var f="",d=0;d<c.length;d++)f+="/"+c[d];return a[1]?b+(f+"?"+a[1]):b+f;};return b;}(n.lz);b.Apa=a;d.Ke(q.Ch,a,!1);},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.XR=void 0;c=a(0);g=a(5);d=a(33);m=a(230);a=a(109);r=function(){function a(b,c){this.Ha=[];this.Pg=void 0;this.ac=0;this.u=b;c&&c.length&&(Array.isArray(c)?(this.Ha=c.slice(),this.QK(0,this.Ha.length)):c instanceof a&&(this.Ha=c.Ha.slice(),this.QK(0,this.Ha.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ha.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Ha.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Ha[0];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nh:{get:function(){return this.Ha[this.Ha.length-1];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.first&&this.first.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hb:{get:function(){return this.Nh&&this.Nh.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.ac;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.first&&this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wj:{get:function(){return this.first&&this.first.Wj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Z:{get:function(){return this.Ha;},enumerable:!1,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.Ha.length);return this.Ha[a];};a.prototype.push=function(a){this.Ha.push(a);this.QK(this.Ha.length-1);return this.length;};a.prototype.unshift=function(a){this.Ha.unshift(a);this.QK(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.Ha.length)return this.W$(this.Ha.length-1),this.Ha.pop();};a.prototype.shift=function(){if(0!==this.Ha.length)return this.W$(0),this.Ha.shift();};a.prototype.splice=function(a,b){for(var f,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];0>a&&(a+=this.Ha.length);0>a&&(a=0);a>this.Ha.length&&(a=this.Ha.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.Ha.length-a);0<b&&this.W$(a,a+b);g=(f=this.Ha).splice.apply(f,c.__spread([a,b],d));0<d.length&&this.QK(a,a+arguments.length-2);return g;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.Ha.length);0>b&&(b+=this.Ha.length);if(b>=this.Ha.length)return new a(this.u);c>this.Ha.length&&(c=this.Ha.length);0>c&&(c+=this.Ha.length);return new a(this.u,this.Ha.slice(b,c));};a.prototype.Mn=function(a){if(0===this.Ha.length||a.Ta>=this.hb)this.push(a);else if(a.hb<=this.Ta)this.unshift(a);else{for(var b=0,c=this.Ha.length-1,d;b<c-1;)d=Math.floor((c+b)/2),g.assert(d!==c&&d!==b),a.Ta>=this.Ha[d].hb?b=d:c=d;g.assert(b!==c);g.assert(this.Ha[b].hb<=a.Ta&&this.Ha[c].Ta>=a.hb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.Ha.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.Ha;});return new a(this.u,Array.prototype.concat.apply(this.Ha,b));};a.prototype.forEach=function(a){var b;b=this;this.Ha.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.Ha.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.Ha.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.Ha.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Ha.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.indexOf=function(a){return this.Ha.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.Ha.some(function(f,d){c=d;return a(f,d,b);})?this.Ha[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.Ha.some(function(f,d){c=d;return a(f,d,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.u,this.Ha.filter(function(a,d){return b(a,d,c);}));};a.prototype.wY=function(a){for(var b=this.Ha.length-1;0<=b;--b)a(this.Ha[b],b,this);};a.prototype.DG=function(a){if(this.empty||a<this.dd||a>=this.we)return-1;for(var b=0,c=this.Ha.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.Ha[d].dd&&a<this.Ha[d].we){c=d;break;}a<this.Ha[d].we?c=d-1:b=d+1;}return c;};a.prototype.XHa=function(a){a=this.DG(a);return 0<=a?this.Ha[a]:void 0;};a.prototype.gW=function(a){var b;b=this.Ha[a].hb;for(a+=1;a<this.Ha.length&&b===this.Ha[a].Ta;++a)b=this.Ha[a].hb;a<this.Ha.length?void 0===this.Pg?this.Pg=new m.yD(this,{hb:b}):this.Pg.HQ(b):void 0===this.Pg?this.Pg=new m.yD(this,{}):this.Pg.dca();};a.prototype.tE=function(a,b){for(var c=a;c<b;++c)this.ac+=this.Ha[c].aa;void 0===this.Pg||0===a?this.gW(0):this.Pg.hb===this.hb?this.gW(a-1):this.Ha[a].Ta===this.Pg.hb&&this.gW(a);};a.prototype.Rt=function(a,b){var c;if(0===a)this.Pg=void 0,b<this.length&&this.gW(b);else{c=this.Pg;c.hb>this.Ha[a-1].hb&&(b<this.length?c.HQ(this.Ha[a-1].hb):c.dca());}for(;a<b;++a)this.ac-=this.Ha[a].aa;};a.prototype.QK=function(a,b){void 0===b&&(b=a+1);this.tE(a,b);};a.prototype.W$=function(a,b){void 0===b&&(b=a+1);this.Rt(a,b);};return a;}();b.XR=r;d.Ke(a.nz,r);d.Ke(a.kz,r);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Nqa=void 0;c=a(0);a(5);d=function(){function a(a,b){this.Hc=a;this.DE=b;this.Mt();}Object.defineProperties(a.prototype,{length:{get:function(){return this.ax;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.ax;},enumerable:!1,configurable:!0}});a.prototype.Fmb=function(){return this.PE&&this.PE.get(0);};a.prototype.Zbb=function(){return this.xE&&this.xE.get(this.xE.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.Hc.length;++b)if(this.Rg[b+1]>a)return this.Hc[b].get(a-this.Rg[b]);};a.prototype.push=function(a){this.Hc[this.DE(a)].push(a);this.Mt();return this.ax;};a.prototype.shift=function(){var a;if(this.PE){a=this.PE.shift();this.Mt();return a;}};a.prototype.pop=function(){var a;if(this.xE){a=this.xE.pop();this.Mt();return a;}};a.prototype.unshift=function(a){this.Hc[this.DE(a)].unshift(a);this.Mt();return this.ax;};a.prototype.Mn=function(a){var b;b=this.DE(a);this.Hc[b].Mn(a);this.Mt();};a.prototype.remove=function(a){var b;b=this.Hc.some(function(b){return b.remove(a);});b&&this.Mt();return b;};a.prototype.splice=function(a,b){var m,r,p,t;for(var d,g=[],l=2;l<arguments.length;l++)g[l-2]=arguments[l];for(var l=[],f,h=a+Math.max(0,b),k=0;k<this.Hc.length;++k){m=this.Hc[k];r=this.Rg[k];p=this.Rg[k+1];if(a<p){t=a-r;r=Math.min(h-r,m.length);void 0===f&&0<t&&r<m.length?Array.prototype.push.apply(l,m.splice.apply(m,c.__spread([t,r-t],g))):(Array.prototype.push.apply(l,m.splice(t,r-t)),void 0===f&&(f=0<k&&0===t?k-1:k));a=p;if(a>=h)break;}}if(g.length&&void 0!==f){for(h=this.DE(g[0]);0<f&&h<f&&this.Hc[f].empty;)--f;for(;g.length&&h===f;){this.Hc[f].push(g.shift());if(!g.length)break;h=this.DE(g[0]);}for(;g.length&&++f<this.Hc.length&&this.Hc[f].empty;)for(;g.length&&h===f;){this.Hc[f].push(g.shift());if(!g.length)break;h=this.DE(g[0]);}g.length&&(d=this.Hc[f]).splice.apply(d,c.__spread([0,0],g));}this.Mt();return l;};a.prototype.find=function(a){var b,c;b=this;return this.Hc.some(function(d,g){c=d.find(b.GA(a,g));return void 0!==c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b<this.Hc.length;++b){c=this.Hc[b].findIndex(this.GA(a,b));if(-1!==c)return c+this.Rg[b];}return-1;};a.prototype.indexOf=function(a){var c;for(var b=0;b<this.Hc.length;++b){c=this.Hc[b].indexOf(a);if(-1!==c)return c+this.Rg[b];}return-1;};a.prototype.map=function(a){var b,c;b=this;c=this.Hc.map(function(c,d){return c.map(b.GA(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Hc.reduce(function(b,d,f){return d.reduce(c.u$a(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Hc.forEach(function(c,d){c.forEach(b.GA(a,d));});};a.prototype.wY=function(a){for(var b=this.Hc.length-1;0<=b;--b)this.Hc[b].wY(this.GA(a,b));};a.prototype.some=function(a){var b;b=this;return this.Hc.some(function(c,d){return c.some(b.GA(a,d));});};a.prototype.every=function(a){var b;b=this;return this.Hc.every(function(c,d){return c.every(b.GA(a,d));});};a.prototype.lmb=function(a,b){var h,k;function c(b){return b.reduce(function(b,c,f,d){return void 0===c?b:void 0===b?f:0>a(c,d[b])?f:b;},void 0);}for(var d=this,g=this.Hc.map(function(){return 0;}),f=this.Hc.filter(function(a){return a.empty;}).length;f<this.Hc.length;){h=g.map(function(a,b){return a<d.Hc[b].length?d.Hc[b].get(a):void 0;});k=c(h);b(h[k],this.Rg[k]+g[k],this);++g[k];g[k]===this.Hc[k].length&&++f;}};a.prototype.move=function(a){return this.remove(a)?(this.Mn(a),!0):!1;};a.prototype.IGb=function(){var a;if(this.Hc[1].length){a=this.Hc[1].shift();this.Hc[0].push(a);this.Mt();}};a.prototype.Olb=function(a){for(var b=-1,c=0;c<this.Hc.length;++c)if(b=a(this.Hc[c]),-1!==b){b+=this.Rg[c];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Mt=function(){var b;this.ax=0;this.Rg=[0];this.xE=this.PE=void 0;for(var a=0;a<this.Hc.length;++a){b=this.Hc[a];this.ax+=b.length;this.Rg.push(this.Rg[this.Rg.length-1]+b.length);!this.PE&&b.length&&(this.PE=b);b.length&&(this.xE=b);}};a.prototype.GA=function(a,b){var c,d;c=this;d=this.Rg[b];return function(b,f){return a(b,d+f,c);};};a.prototype.u$a=function(a,b){var c,d;c=this;d=this.Rg[b];return function(b,f,h){return a(b,f,d+h,c);};};return a;}();b.Nqa=d;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.zpa=void 0;c=a(0);a(5);g=a(823);d=a(33);m=a(822);r=a(109);q=a(83);n=a(230);a=function(a){function b(b,d){var f,h;h=this;f=[new m.XR(b),new m.XR(b),new m.XR(b)];h=a.call(this,f,function(a){return a.complete?h.empty||a.Ta<=h.Deb?0:1:a.active?1:2;})||this;f=c.__read(f,3);h.Zd=f[0];h.gd=f[1];h.Yt=f[2];h.ro=0;h.u9=0;h.u=b;q.Rq.call(h,d);return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{aa:{get:function(){return this.Zd.aa+this.gd.aa+this.Yt.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{BCb:{get:function(){return this.ro;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aB:{get:function(){return this.Zd.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jj:{get:function(){return this.Zd.aa+this.gd.aa-this.ro;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{first:{get:function(){return this.Fmb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Nh:{get:function(){return this.Zbb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pda:{get:function(){return!this.Zd.empty||this.Yt.empty||this.gd.empty?this.first:this.gd.Ta<this.Yt.Ta?this.gd.first:this.Yt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{PMa:{get:function(){return this.Yt.empty||this.gd.empty?this.Nh:this.gd.hb<this.Yt.hb?this.Yt.Nh:this.gd.Nh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fIa:{get:function(){return this.Yt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){return this.first&&this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ta:{get:function(){return this.Pda&&this.Pda.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hb:{get:function(){return this.PMa&&this.PMa.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wj:{get:function(){return this.first&&this.first.Wj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ceb:{get:function(){return this.Zd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yrb:{get:function(){return this.Vb-this.mFa||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Deb:{get:function(){return this.Zd.empty?this.Ta:this.Zd.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mFa:{get:function(){return this.Zd.empty?this.oc:this.Zd.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nFa:{get:function(){return this.Zd.empty?this.dd:this.Zd.we;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Us:{get:function(){return this.Yt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){return this.gd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Heb:{get:function(){return this.Zd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Gs:{get:function(){return this.Zd.concat(this.gd);},enumerable:!1,configurable:!0}});b.prototype.tE=function(a){var b;a.xr?++this.u9:this.ro+=a.De||0;if(this.empty)this.Pg=new n.yD(this,{});else if(a.Ta!==this.hb)if(a.Ta>this.Pg.hb)this.Pg.HQ(this.Pg.hb);else if(a.Ta<this.Ta||a.Ta===this.Pg.hb){b=a.hb;this.lmb(function(a,b){return a.Ta-b.Ta;},function(a){b=a.Ta===b?a.hb:b;});b===Math.max(this.hb,a.hb)?this.Pg.dca():this.Pg.HQ(b);}a.NTa(this);};b.prototype.Rt=function(a){a.xr?--this.u9:this.ro-=a.De;this.empty?this.Pg=void 0:a.Ta!==this.hb&&a.hb<=this.Pg.hb&&a.Ta>this.Pg.Ta&&this.Pg.HQ(a.Ta);a.VEa();};b.prototype.push=function(b){this.tE(b);return a.prototype.push.call(this,b);};b.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Rt(b);return b;};b.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Rt(b);return b;};b.prototype.unshift=function(b){this.tE(b);return a.prototype.unshift.call(this,b);};b.prototype.Mn=function(b){this.tE(b);a.prototype.Mn.call(this,b);};b.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Rt(b);return!0;};b.prototype.splice=function(b,d){for(var f=[],h=2;h<arguments.length;h++)f[h-2]=arguments[h];h=a.prototype.splice.apply(this,c.__spread([b,d],f));f.forEach(this.tE.bind(this));h.forEach(this.Rt.bind(this));return h;};b.prototype.TBb=function(a){var b;b=this;this.reduce(function(c,d,f){d.xr&&(a&&a(d,f,b),0===c.length||c[0].end!==f?c.unshift({start:f,end:f+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};b.prototype.DG=function(a){return this.Olb(function(b){return b.DG(a);});};b.prototype.XHa=function(a){a=this.DG(a);return-1!==a?this.get(a):void 0;};b.prototype.hFb=function(a){var c;for(var b=[];a<this.length;){c=this.get(a);c&&b.push(c);a++;}return b;};b.prototype.Bv=function(a){this.move(a);this.AB(a);};b.prototype.SH=function(a){this.ro+=a.De-a.Fl;this.BB(a);};b.prototype.hj=function(a){for(this.ro+=a.De-a.Fl;this.gd.first&&this.gd.first.complete&&(this.Zd.empty?this.gd.first===this.Pda:this.gd.first.Ta===this.Zd.hb);)this.IGb();this.aq(a);};b.prototype.AP=function(a,b,c){this.ro-=a.De;++this.u9;this.BY(a,b,c);};return b;}(g.Nqa);b.zpa=a;d.Ke(q.Rq,a,!1);d.Ke(r.nz,a);d.Ke(r.kz,a);},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.eYa=void 0;c=a(93);g=a(159);m=a(19);r=a(11);a(5);q=a(28);n=a(4);d=function(){var D7u;D7u=2;while(D7u!==13){switch(D7u){case 2:a.prototype.Zza=function(a){var w7u;w7u=2;while(w7u!==1){switch(w7u){case 2:return a&&a.G===this.G&&a.Yea===this.Yea?!0:!1;break;}}};a.prototype.U5a=function(a){var F7u,b,c,d;F7u=2;while(F7u!==7){switch(F7u){case 2:b=this.Zc;c=void 0!==b.Zy?b.Zy:a&&a.Zy;d=void 0!==b.Yy?b.Yy:a&&a.Yy;a=a&&a.Br;F7u=9;break;case 9:Array.isArray(a)&&Array.isArray(b.Br)?a=a.filter(function(a){var s7M=S8ii;var P7u,u7u,f7u;P7u=2;while(P7u!==1){switch(P7u){case 4:s7M.n5z(0);u7u=s7M.I3z(12,38,25);return~u7u==b.Br.indexOf(a);break;P7u=1;break;case 2:s7M.y5z(1);f7u=s7M.I3z(21,4,16);return f7u!==b.Br.indexOf(a);break;}}}):Array.isArray(b.Br)?a=b.Br:Array.isArray(a)||(a=[]);return-1!==a.indexOf(this.profile)?{lIa:!!c,DSa:!c,nna:!c||!d}:{lIa:!1,DSa:!1,nna:!d};break;}}};a.prototype.Vza=function(a,b,c){var B7u,d,f,h,a5z,s5z;B7u=2;while(B7u!==13){a5z="defau";a5z+="l";a5z+="t";s5z="de";s5z+="faul";s5z+="t";switch(B7u){case 4:B7u=void 0!==h.vO&&null!==h.vO?3:14;break;case 9:f=b.name,d=void 0!==b[c]?b[c]:void 0!==b[s5z]?b[a5z]:d;B7u=8;break;case 8:a.Js=a.nna?void 0!==d?d:1:0;a.dma=void 0!==f?f:a.DSa;return a;break;case 2:h=this.Zc;a=this.U5a(a);B7u=4;break;case 3:B7u=(d=(void 0!==b?b:h.vO)||0,b=h.KLa&&h.KLa[this.stream.profile])?9:8;break;case 14:a.nna=!1;B7u=8;break;}}};a.prototype.V5a=function(a){var Z7u,p5z;Z7u=2;while(Z7u!==1){p5z="on";p5z+="E";p5z+="nt";p5z+="r";p5z+="y";switch(Z7u){case 4:return this.Vza(a,this.Zc.LLa,"");break;Z7u=1;break;case 2:return this.Vza(a,this.Zc.LLa,p5z);break;}}};a.prototype.W5a=function(a){var q7u,g5z;q7u=2;while(q7u!==1){g5z="o";g5z+="n";g5z+="Ex";g5z+="it";switch(q7u){case 4:return this.Vza(a,this.Zc.MLa,"");break;q7u=1;break;case 2:return this.Vza(a,this.Zc.MLa,g5z);break;}}};D7u=9;break;case 9:a.prototype.y5a=function(a,b,c){var n7u,f,h,l,k,n,m,r,p,t;n7u=2;while(n7u!==18){switch(n7u){case 2:h=this.Zc;n7u=5;break;case 6:r=b?b.Wka:this.PQa-2*k.Cb;p=r-this.vIa;c=h.nmb||c;b&&!c&&(f=d(p),t=f.mp,f=f.aPa);n7u=11;break;case 5:l=!0;f=!1;a=g.Ufa(h,a);n7u=9;break;case 9:k=this.Qa;n=k.T;m=this.Jo;n7u=6;break;case 11:f||(t=r-q.ha.Lja(a,n),t=new q.ha(t-this.vIa,n),b=d(h.Fg?Infinity:Math.max(0,t.Cb)),t=b.mp,(b=b.aPa)&&0<t&&!h.Fg&&--t);this.Xj({start:0,end:t});t<(h.Zwb||1)&&(l=!1);return{KGb:l,qvb:f};break;}}function d(a){var j7u,b,c;j7u=2;while(j7u!==9){switch(j7u){case 3:return{mp:a,Jo:b,HVb:c,aPa:0<a&&c<n/1E3};break;case 2:a=Math.floor(Math.min(m,a)/k.Cb);b=k.Cb*a;S8ii.n5z(2);c=S8ii.I3z(b,p);j7u=3;break;}}}};a.prototype.zF=function(a,b,c,d,g,l){var t7u,f,h;t7u=2;while(t7u!==6){switch(t7u){case 2:h=this.Zc;t7u=5;break;case 5:t7u=this.ni?4:3;break;case 4:return{da:!1};break;case 3:this.wIa?a=a.appendBuffer(r.Kr(this.bHa),r.rm(this)):this.Ua&&!this.ev?(f=this.x6a(a,b,c,g,l),a=f.da,f=f.Qn):this.Ua&&this.ev?(f=this.y6a(a,b,d,g,l),a=f.da,f=f.Qn):a=this.L===m.Na.AUDIO&&h.Es&&c&&this.Zv&&c.we>=this.we&&this.Vb-this.Zv<this.Zv-this.oc?!0:a.appendBuffer(this.response,r.rm(this));this.ni=!0;this.hQ();return{da:a,Qn:f};break;}}};a.prototype.x6a=function(a,b,d,g,l){var S7u,f,h,k,q,J5z,e5z,Q5z,U5z;S7u=2;while(S7u!==6){J5z=" ";J5z+="fr";J5z+="om [ ";e5z="AseFragme";e5z+="ntMediaReq";e5z+="uest: Fragment edit failed ";e5z+="for";e5z+=" ";Q5z="m";Q5z+="e";Q5z+="dia|";Q5z+="asejs";U5z="M";U5z+="P";U5z+="4";switch(S7u){case 3:this.L===m.Na.AUDIO&&d&&(g?l&&this.Mda():this.Zza(d)?d.Ua&&this.Ua&&this.Ua.start!==d.Ua.end&&this.Xj({start:d.Ua.end}):(h=this.V5a(b),d.we===this.dd&&(h.Js=0)));0>=this.duration&&(q=!1,f=!0);q&&(this.Ua&&(0<this.Ua.start||h.Js)?(f=new c.Bw(new n.Console(U5z,Q5z),this.stream,this.response),(b=f.eSa(this.Ua.start,this.GH,h.Js,h.dma))?(f=a.appendBuffer(r.Kr(b.yg),r.rm(this)),k=this.FV(h),this.wV(b.yg)):(this.u.error(e5z+this.toString()+J5z+this.Tx+"-"+this.DY+"]"),f=!0)):f=a.appendBuffer(this.response,r.rm(this)));S7u=7;break;case 2:h={Js:0};f=!1;q=!0;S7u=3;break;case 7:return{da:f,Qn:k};break;}}};D7u=6;break;case 6:a.prototype.y6a=function(a,b,d,g,l){var l7u,f,h,k,n,Z5z,q5z;l7u=2;while(l7u!==6){Z5z=" ";Z5z+="f";Z5z+="ro";Z5z+="m [ ";q5z="Ase";q5z+="FragmentMediaRequest: Fra";q5z+="gment e";q5z+="dit failed ";q5z+="for ";switch(l7u){case 3:this.L===m.Na.AUDIO&&(g?l&&(this.Ojb(),h=0<this.Ua.end):this.Zza(d)?d.Ua&&0!==d.Ua.start?this.Xj({start:0,end:d.Ua.start}):h=!1:(k=this.W5a(b),f.Es||(b=this.y5a(b,d,k.lIa),(h=b.KGb)&&b.qvb&&!k.dma&&(k.Js=0))));h&&0===this.duration&&(h=!1);h?this.Ua&&this.Ua.end<this.HN||k.Js?(h=new c.Bw(this.u,this.stream,this.response),(h=h.lSa(this.Ua&&this.Ua.end,this.T,k.Js,k.dma))?(a=a.appendBuffer(r.Kr(h.yg),r.rm(this)),n=this.FV(k),this.wV(h.yg)):(this.u.error(q5z+this.toString()+Z5z+this.Tx+"-"+this.DY+"]"),a=!0)):a=a.appendBuffer(this.response,r.rm(this)):a=!0;return{da:a,Qn:n};break;case 2:f=this.Zc;k={Js:0};h=!0;l7u=3;break;}}};return a;break;}}function a(){var g7u,N5z;g7u=2;while(g7u!==1){N5z="1";N5z+="SI";N5z+="YbZ";N5z+="rNJCp9";switch(g7u){case 4:"";g7u=8;break;g7u=1;break;case 2:N5z;g7u=1;break;}}}}();b.eYa=d;b["default"]=new d();},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.wpa=void 0;c=a(0);g=a(19);m=a(93);d=a(4);r=a(11);a(5);q=a(217);n=a(72);l=a(229);f=d.hk;a=function(a){function b(b,c,d,h,k,m,r){var q,p;h=a.call(this,b,d,h,m,r)||this;k=n.Ch.prototype.toString.call(h)+(k?"(cache)":"");q={offset:d.offset,aa:d.Ija,responseType:0};h.push(new l.tJ(b,c,k+"(moof)",q,h,m,r));q={offset:d.offset+q.aa+8,aa:d.aa-(q.aa+8),responseType:f.yc&&!f.yc.tI.Yz?0:1};if(h.L===g.Na.VIDEO&&h.Ua){if(0<h.Ua.start){if(p=h.ZHa(h.Ua.start))q.offset=d.offset+p,q.aa=d.aa-p;}else h.Ua.end<h.HN&&(p=h.ZHa(h.Ua.end))&&(q.aa-=d.aa-p);}h.push(new l.tJ(b,c,k+"(mdat)",q,h,m,r));return h;}c.__extends(b,a);b.prototype.zF=function(a){var b,c;if(this.ni)return{da:!0};if(!this.PB())return{da:!1};c=!1;if(this.wIa)c=a.appendBuffer(r.Kr(this.bHa),r.rm(this));else if(this.Ua&&0<this.Ua.start){b=new m.Bw(this.u,this.stream,this.wa[0].response);if(b=b.eSa(this.Ua.start,this.T))c=a.appendBuffer(r.Kr(b.yg),r.rm(this)),this.wV(b.yg);b=this.FV();}else if(this.Ua&&this.Ua.end<this.HN){b=new m.Bw(this.u,this.stream,this.wa[0].response);if(b=b.lSa(this.Ua.end,this.T))c=a.appendBuffer(r.Kr(b.yg),r.rm(this)),this.wV(b.yg);b=this.FV();}else c=a.appendBuffer(this.wa[0].response,r.rm(this));c&&(c=a.appendBuffer(m.VO(this.wa[1].aa),r.rm(this)))&&(c=a.appendBuffer(this.wa[1].response,r.rm(this)));this.ni=c;this.iDb();return{da:c,Qn:b};};return b;}(q.jz);b.wpa=a;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.Bxa=void 0;c=a(0);g=a(218);m=a(824);r=a(821);q=a(820);d=a(83);n=a(819);l=a(5);f=a(8);h=a(4);p=a(221);t=a(11);u=a(126);E=h.Promise;a=function(a){function b(b,c,d,f,h,g,l){var k;k=a.call(this,b)||this;k.I=c;k.u=d;k.Pt=f;k.Fc=h;k.pe=g;k.EWa=!0;k.ji=new p.aS(k.u);k.$e=k.u.error.bind(k.u);k.eb=k.u.warn.bind(k.u);k.Aj=k.u.trace.bind(k.u);k.UBa();k.ur=null===l||void 0===l?void 0:l.iX(function(){return k.SDb();});return k;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.u;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{L:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ic:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cD:{get:function(){return 0<this.Ly;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bna:{get:function(){return!this.cL;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ly:{get:function(){return this.wa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Us:{get:function(){return this.wa.Us;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{eCb:{get:function(){return this.ji.count;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jr:{get:function(){return this.wa.complete.AC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ir:{get:function(){return this.wa.nFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rca:{get:function(){return this.wa.mFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Il:{get:function(){return void 0===this.wa.dd?0:this.wa.we-this.wa.dd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fo:{get:function(){return{aa:this.wa.aB,va:Math.max(this.wa.nFa-this.wa.dd,0)||0};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RF:{get:function(){return this.wa.Ceb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aB:{get:function(){return this.wa.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Taa:{get:function(){return this.wa.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ev:{get:function(){return this.V6a();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{d1:{get:function(){return this.wa.Yrb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JZ:{get:function(){return this.wa.length>this.wa.Us;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){return this.wa.wo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wQa:{get:function(){return this.wa.length-this.mk;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Z:{get:function(){return this.wa;},enumerable:!1,configurable:!0}});b.prototype.wg=function(){var a;this.wa.forEach(function(a){a.abort();a.mc();});this.UBa();this.ji.cY();null===(a=this.ur)||void 0===a?void 0:a.ad();};b.prototype.reset=function(){this.wg();this.ji.cma();};b.prototype.close=function(){this.ji.cY();};b.prototype.LFb=function(){this.Iza=!0;};b.prototype.ega=function(){return{hasSentinel:void 0!==this.ji.count,queueCount:this.ji.count,isComplete:this.ji.Zu,itemCount:this.ji.pFa,continuousEndPts:this.ji.Qs().reduce(function(a,b){return b&&!b.done&&(b=b.value,100>Math.abs(b.Yea-a)||-1===a)?b.smb:a;},-1),sentinelItemCount:this.ji.Qs().filter(function(a){return a&&a.done;}).length,processedCount:this.ji.Nib,rc:this.Ly};};b.prototype.Dhb=function(a,b,c,d){var k,m,p;k=this.I;f.W(d)||(b.location=d.location,b.Kb=d.tc,b.Tma=d.pp);m=a.O.PQ;if(m){p=0===this.pe&&k.ikb||1===this.pe&&k.jkb;b.C2=m.An({uM:a.ti(this.pe),M0:k.ukb?k.M0:void 0,xVa:String(h.time.ea()),gX:p?a.O.sq[this.pe]:void 0});}l.assert(!b.Po);k.tkb?a=new q.Epa(d,k,c.track,b,this.wa,this.u):d.O.kHa(this.pe)?(a=new r.Apa(d,k,c.track,b,this.wa,!1,this.u),k.$X&&(b=new n.Npa(d,k,c.track,b,this.wa,!1,this.u),b.Ab(this),b.vs())):a=g.YR.create(d,k,c.track,b,this.wa,!1,this.u);a.Ab(this);this.xF(a);return a;};b.prototype.Bab=function(a){var b;a.Ab(this);a.Qaa=!0;this.xF(a);b=E.resolve();a.complete?(this.L9(a),this.Pt.pPa(a.stream,a.dd,a.oc),b=this.xR(),this.aq(a)):(a.active&&this.AB(a),a.VRa&&this.Sx(a));return b;};b.prototype.xF=function(a){var b,c;this.wa.Mn(a);(null===(b=this.ur)||void 0===b?void 0:b.state)===u.xt.complete&&(null===(c=this.ur)||void 0===c?void 0:c.Wn());this.L9(a);a.ev&&(this.cL=!1);};b.prototype.aO=function(){return this.ji.bnb();};b.prototype.KEa=function(){this.mk===this.wa.length&&this.Iza&&this.ji.cY();};b.prototype.xR=function(){var a,b,c,d,k;a=this;c=E.resolve();d=this.Fc;if(!d.OLa(this.pe)||this.mk===this.wa.length)return c;for(var h=this.I.Zvb,g=0,l=[];this.mk<this.wa.length;){if(b=this.wa.get(this.mk)){if(this.wa.fIa&&this.wa.fIa.Ta<b.Ta)break;if(!b.PB())break;l.push(b);++g;f.ma(this.dd)||(this.dd=b.dd);}++this.mk;if(!f.W(h)&&g>=h)break;}if(l.length){void 0!==this.ji.count&&(this.$e("Request Manager count"),this.ji.cma());if(this.EWa)c=E.all(l.map(function(b){return a.ji.enqueue(b).then(function(){return a.zZ(b);});}));else for(b=0;b<l.length;b++)try{k=l[b];d.lpb(this.L).ljb(k);this.zZ(k);}catch(da){return this.mk-=l.length-b,E.reject(da);}this.KEa();}return c;};b.prototype.zZ=function(a){this.qIa(a);};b.prototype.yCb=function(a){var d;for(var b,c=0;c<this.wa.length;++c){d=this.wa.get(c);d&&a<d.we&&(f.W(b)&&(b=c),d.ni=!1);}f.W(b)||(this.mk=b,this.ji.cma());return this.xR();};b.prototype.S1=function(){this.d9a();};b.prototype.SDb=function(){var a,b,d,f,h;return c.__generator(this,function(c){switch(c.label){case 0:c.label=1;case 1:if(!this.wa.length)return[3,3];a=this.wa.get(0);b=t.ha.ue(null!==(h=null===(f=this.I.H2)||void 0===f?void 0:f.va)&&void 0!==h?h:0);d=b.add(a.AC);return[4,u.vt.E3(d)];case 2:return c.Gs(),l.assert(a===this.wa.get(0)),this.wa.splice(0,1),this.mk--,a.ni||this.Bza(a),[3,1];case 3:return[2];}});};b.prototype.UP=function(a,b){var c,d,f,h,g;c=this;d=this.I;f=!1;h=0;g=this.wa.some(function(g){if(a<g.we)return f&&c.L9(g),!0;++h;g.ni||(c.eb("pruning unappended request:",g&&g.toString()),d.Ug&&c.Pt.Ek("prune pts:"+a+" unappended request:"+(g&&g.toString())),g.Pea&&(c.cL=!1,f=!0),c.Bza(g,b)||c.$e("MediaRequest.abort error:",g.th));});0<h&&(this.wa.splice(0,h),this.mk-=Math.min(h,this.mk));return g;};b.prototype.iZ=function(a){var b,c,d;void 0===a&&(a={LM:null,bI:null,dd:null,jj:0,Vh:0,Z:[]});b=this.I;c=this.wa;f.ma(c.dd)&&(null===a.dd||c.dd<a.dd)&&(a.dd=c.dd);d=this.Ir;void 0!==d&&null===a.LM&&(a.LM=d);d=c.we;void 0!==d&&(null===a.bI||d>a.bI)&&(a.bI=d);a.jj+=c.jj;a.Vh=b.pna?a.Vh+c.BCb:a.Vh+c.aB;Array.prototype.unshift.apply(a.Z,c.Gs.Z);return a;};b.prototype.Qr=function(a){if(this.wa.length&&(a=this.wa.XHa(a)))return a;};b.prototype.vp=function(){var a,b;a=this;b=[];this.wa.forEach(function(c){var d;d=c.s3();1===d?b.push(c):2===d&&a.Ic.O.Eg("swapUrl failure");});return b;};b.prototype.mj=function(a){return this.I.mI?(this.ji.clear(),this.yCb(a)):E.resolve();};b.prototype.RH=function(a){a.RB&&a.PB()&&this.xR();this.Sx(a);};b.prototype.hj=function(a){a.RB&&!a.ni&&this.xR();this.aq(a);};b.prototype.Xaa=function(a){var b,c,d;b=1===this.pe?"v_":"a_";c=this.wa;d=c.DG(a);a=0<=d?c.get(d):void 0;return(c=0<=d&&d+1<c.length?c.get(d+1):void 0)&&a?a.we!==c.dd?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};b.prototype.V6a=function(){return this.wa.wo+this.wa.Us;};b.prototype.UBa=function(){var a;this.wa=new m.zpa(this.u,this);this.mk=0;this.ji.clear();this.dd=null;null===(a=this.ur)||void 0===a?void 0:a.Wn();this.Iza=this.cL=!1;};b.prototype.L9=function(a){this.cL?a.Pea=!1:this.cL=a.Pea=!0;};b.prototype.Bza=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};b.prototype.d9a=function(){var a,b,c;a=this;c=0;this.wa.TBb(function(b,d){d<a.mk&&++c;});this.mk-=c;null===(b=this.ur)||void 0===b?void 0:b.Wn();};return b;}(d.Rq);b.Bxa=a;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.uwa=void 0;c=a(19);g=a(11);m=a(28);r=a(92);q=a(4);d=function(){function a(a,b,c,d,g){this.Gv=a;this.Gu=b;this.I=c;this.u=d;this.pe=g;}a.prototype.Zxb=function(a){a={type:"requestCreated",request:a};g.Ka(this.Gu,a.type,a);};a.prototype.Yxb=function(a){var b;b=a.Ja.Ic.ba;a={type:"updateStreamingPts",mediaType:a.L,position:{Ma:b.id,offset:m.ha.ue(this.Gv.rca-b.S)},trackIndex:a.stream.track.IA};g.Ka(this.Gu,a.type,a);};a.prototype.pPa=function(a,b,c){var d,f;d=this.pe;f=this.Gv.Vf;f.OTa(a);1===d&&this.I.f2&&(void 0===f.iia?f.QTa(q.time.ea()):q.time.ea()-f.iia>this.I.f2&&(a.R!==f.NMa&&(q.storage.set("vb",a.R),f.qGb(a.R)),f.QTa(q.time.ea())));f.EO&&f.EO===a||(this.Gv.Yv.OHb(b,f.EO,a),f.fGb(a),b=0,a.mb&&a.mb.yd&&a.mb.Ga&&(b=a.mb.Ga.Da),f={Ma:this.Gv.Ic.ba.id,offset:m.ha.ue(c-this.Gv.Ic.ba.S)},a={type:"streamSelected",nativetime:q.time.ea(),mediaType:d,streamId:a.id,manifestIndex:a.O.Ya,trackIndex:a.track.IA,streamIndex:a.Gg,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:f},g.Ka(this.Gu,a.type,a));};a.prototype.Uxb=function(a,b,d){var f,h,l,k,n;f=b.O;h=f.zl;l=this.Gv.Vf;k=f.wtb(b);n=k.Tha;k=k.xtb;d&&b.tc&&!l.GO?(k=c.Lg.tt,b.pp=c.Lg.name[k],this.oPa(f.Ya,a,b.tc,b.pp,b.location,b.R),l.GO=b.tc):!d&&b.tc&&b.tc!==l.GO&&(k=k?void 0===l.GO?c.Lg.tt:h.zI===c.Lg.u7?c.Lg.i4a:c.Lg.Y3:c.Lg.h4a,b.pp=c.Lg.name[k],this.oPa(f.Ya,a,b.tc,b.pp,b.location,b.R),l.GO=b.tc);l.jH||(k={type:"logdata",target:"startplay",fields:{}},this.pe===c.Na.AUDIO?k.fields.alocid=b.location:this.pe===c.Na.VIDEO&&(k.fields.locid=b.location),g.Ka(this.Gu,k.type,k));d&&b.location&&!l.jH?(k=c.Lg.tt,b.pp=c.Lg.name[k],this.mPa(f.Ya,a,b.location,b.yia,b.tc,b.SC,b.pp,b.xs),l.jH=b.location):!d&&b.location&&b.location!==l.jH&&(k=n?void 0===l.jH?c.Lg.tt:h.zI===c.Lg.u7?c.Lg.L1a:c.Lg.Y3:c.Lg.K1a,b.pp=c.Lg.name[k],this.mPa(f.Ya,a,b.location,b.yia,b.tc,b.SC,b.pp,b.xs),b.xs=void 0,l.jH=b.location);this.I.Bq||(b.KMa=b.location,b.LMa=b.tc);};a.prototype.oPa=function(a,b,d,k,n,m){var f,h;f=this.pe===c.Na.VIDEO?"video":"audio";h=r.Qf().get();a={type:"serverSwitch",manifestIndex:a,segmentId:b,mediatype:f,server:d,reason:k,location:n,bitrate:m,confidence:h.yd};h.yd&&(a.throughput=h.Ga.Da);this.Gv.Vf.GO&&(a.oldserver=d);g.Ka(this.Gu,a.type,a);};a.prototype.mPa=function(a,b,d,k,n,m,r,q){g.Ka(this.Gu,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.pe===c.Na.VIDEO?"video":"audio",location:d,locationlv:k,serverid:n,servername:m,selreason:r,seldetail:q});};a.prototype.J$=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.Fy||g.Ka(this.Gu,b.type,b);};a.prototype.Ek=function(a){a={type:"managerdebugevent",message:"@"+q.time.ea()+", "+a};g.Ka(this.Gu,a.type,a);};return a;}();b.uwa=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,T,Q,V,S,A,Z;Object.defineProperty(b,"__esModule",{value:!0});b.Gpa=void 0;c=a(0);g=a(16);m=a(219);r=a(18);q=a(11);n=a(388);l=a(800);f=a(4);h=a(5);p=a(157);t=a(798);u=a(48);E=a(126);J=a(156);K=a(389);D=a(786);T=a(785);Q=a(784);V=a(782);S=a(780);A=a(779);Z=a(778);d=function(){function a(a,b,c,d,h,k){this.u=a;this.$g=b;this.weight=c;this.config=d;this.Oo=h;this.GM=k;this.ae=m.iw.CLOSED;this.h$=!0;this.navigator=new Q.Uwa(b);this.Cqb=V.zFa(this.navigator,d.KAb);this.Jc=new S.Owa();this.Aga=new D.Esa(this.config,q.ha.ue(this.config.e0),{parent:this.Wpb.bind(this)});this.events=new g.EventEmitter();this.MUa=new l.rya(a,this.events);this.pi=new A.lqa(a,d);this.mQ=[];this.console=new f.Console("ASEJS_PLAYGRAPH","asejs");this.U=new t.vwa(this);this.KP=new E.P8(this.U.za);}Object.defineProperties(a.prototype,{state:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uBb:{get:function(){return this.U.position;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dm:{get:function(){return this.pi.state;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ey:{get:function(){return this.pi.Ey;},enumerable:!1,configurable:!0}});a.prototype.open=function(){this.h$=!0;if(this.ae!==m.iw.CLOSED)return!1;this.ae=m.iw.OPEN;return!0;};a.prototype.ad=function(){this.ae!==m.iw.CLOSED&&(this.wg(),this.ae=m.iw.CLOSED);};a.prototype.z2=function(a,b){var c,d,f;c=this;this.IDa=a;this.ZWa=b;b=Z.EHa(this.Jc,this.mTa.bind(this));a=b.Jdb;b=b.Dcb;if(0===a.length)return!0;if(1!==a.length||0!==a[0])return!1;d=this.U.position;this.U.pause(a);a.forEach(function(a){return c.U.oQ(a);});f=this.xZ(d).cX;b.forEach(function(a){var b;b=a.Ic;b.z2(a.Ji,d.Ma===b.ba.id?f:void 0);});this.pi.bzb(d);this.U.resume(a);return!0;};a.prototype.VM=function(a){return J.VM(this.config,a);};a.prototype.WM=function(a){return J.WM(this.config,a);};a.prototype.sGb=function(a,b){this.nba=a;this.kJ=b;};a.prototype.iTa=function(a){var b;if(K.tMa(this.$g,a))if(a=this.Lxb(a),void 0===a)this.Eg("Invalid seekPosition");else if(void 0===this.IDa||void 0===this.ZWa)this.Eg("No track selectors available");else{b=this.navigator.Ag(a.Ma);b=this.Oo(b.na);if(void 0===b)this.Eg("Missing viewable corresponding to seek graph position");else return this.pi.DGa(),this.wg(),this.jeb(),b.uP(),this.pi.Vyb(),this.HCb(a),this.gQ(a),this.U.resume(),this.pi.EDa(this.U.events),this.GM(),a;}else this.Eg("Invalid seekPosition");};a.prototype.wg=function(){this.Jc.reset();this.mQ.forEach(function(a){return p.Bp.Qf.GX(a);});this.mQ=[];this.U.reset();};a.prototype.Fk=function(a){var b;b=this.navigator.Ag(a.Ma);b=this.Oo(b.na);h.assert(void 0!==b,"Missing viewable corresponding to rebuffer graph position");b.Fk();b.uP();this.pi.Fk(a);this.GM();};a.prototype.wbb=function(a){this.U.moa(a)?(this.U=a,this.KP.zDa(this.U.za)):this.Eg("player in use");};a.prototype.xZ=function(a){var b;b=this.navigator.Ag(a.Ma);a=b.Km.add(a.offset);return{na:b.na,cX:a};};a.prototype.Lv=function(a){return this.U.Lv(a);};a.prototype.yZ=function(a){return this.U.yZ(a);};a.prototype.Lxb=function(a){var b;b=this.$g.Wa[a.Ma];if(void 0!==b)return null===b.dg||void 0===b.dg?{Ma:a.Ma,offset:q.ha.max(q.ha.Dc,a.offset)}:{Ma:a.Ma,offset:q.ha.max(q.ha.Dc,q.ha.min(a.offset,q.ha.ue(b.dg-b.qf)))};};a.prototype.ti=function(a){var b,c;this.Jc.forEach(function(a){var d;if(!a.LA||a.ba.Ms){d=a.jKa(0);a=a.jKa(1);if(!b||d<b)b=d;if(!c||a<c)c=a;}});return{EVa:b?b-a.va:0,FVa:c?c-a.va:0};};a.prototype.bO=function(){var a;a=this;return this.mm()?[]:this.Jc.reduce(function(b,d){var f,h;try{for(var g=c.__values(d.Lob()),l=g.next();!l.done;l=g.next())b.push(a.Ghb(l.value));}catch(O){f={error:O};}finally{try{l&&!l.done&&(h=g["return"])&&h.call(g);}finally{if(f)throw f.error;}}return b;},[]);};a.prototype.Wpb=function(a){var b,c;c=a.L;return null===(b=a.Ic.parent)||void 0===b?void 0:b.Tfa(c);};a.prototype.Eg=function(a,b,c,d,f,h){this.MUa.Eg(a,b,c,d,f,h);};a.prototype.mm=function(){return this.MUa.mm();};a.prototype.L$a=function(a){this.U.fea(a);};a.prototype.jeb=function(){this.U.PF();};a.prototype.dkb=function(a,b){this.events.emit("streamSelection",{type:"streamSelection",mediaType:a.L,selDiscBw:null===b||void 0===b?void 0:b.AQ,histAge:null===b||void 0===b?void 0:b.zk});};a.prototype.Ghb=function(a){var b;b=this;return{dm:this.dm.value,Jr:a.Jr,sp:a.sp,Pf:this.Pf,zMa:function(){var c,d,f,h;c=a.L;d=b.Aga.jFb(b.dm.value,b.Pf,a,0===c?b.nba:b.kJ);f=d.stream;h=d.UQ;d=d.lFb;if(!f)return!1;b.dkb(f,d);b.pi.Bg&&1===c&&b.pi.$Fb(a.Yv.AI,f.R,d);b.FI(h);(c=a.NJb(f,b.mQ[c]))&&b.h$&&(b.nk("firstDriveStreaming"),b.h$=!1);return c;}};};a.prototype.FI=function(a){var b;b=this;a.forEach(function(a){a.O.TFb(a,function(){var a,c,d;a=b.pi.state.value;c=b.Pf;d=c.add(q.ha.ue(b.config.hP));return{dm:a,Jr:d,sp:d,Pf:c};});});};Object.defineProperties(a.prototype,{Pf:{get:function(){return this.U.Pf;},enumerable:!1,configurable:!0}});a.prototype.gQ=function(a){var b,c,d;b=this;c=this.navigator.Ag(a.Ma);d=this.Anb();c=T.gQ(this.navigator,this.Cqb,c,d,q.ha.ue(this.config.Bcb));this.Jc.bKb(c,function(c){var d;d=b.navigator.Ag(c);c=c===a.Ma?d.Km.add(a.offset):d.Km;d=b.Ngb(d,c);b.L$a(d);return d;});};a.prototype.Anb=function(){return this.Jc.filter(function(a){return a.LA;}).map(function(a){return a.ba.id;});};a.prototype.Pmb=function(){return this.Jc.filter(function(a){return!a.LA;}).length;};a.prototype.cF=function(a){this.config.uN&&this.pi.Wdb(this.Pf,a,{TW:this.Aga.TW.bind(this.Aga)})&&this.U.rq();};a.prototype.yyb=function(a,b){b.didNormalizeSegment&&this.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:a.ba.id,normalizedStart:b.segmentContentStart,normalizedEnd:b.branchContentEnd,contentEnd:b.contentEnd,earliestMediaContentEnd:b.earliestMediaContentEnd});};a.prototype.vV=function(a){this.config.uN||(this.pi.Vma(a.reason,a.videoBufferLevel,a.audioBufferLevel),this.U.rq());};a.prototype.K$=function(a){this.config.uN||this.pi.OFb(a.percentage);};a.prototype.D8a=function(){var a;this.gQ(this.U.position);if(0===this.Pmb()){if(this.pi.Bg){a=this.ti(this.Pf);this.pi.Vma("complete",a.EVa,a.FVa);this.U.rq();}this.x8a();}};a.prototype.Ngb=function(a,b){var c,d,f,g;c=this;d=this.navigator.Qnb(a);h.assert(2>d.length,"Playgraph loops are not yet supported");f=(d=0<d.length?this.Jc.qfa(d[0].id):void 0)&&d[0];d=q.ha.Dc;f&&f.AC&&(d=f.AC.Mb(a.Km));g=this.Oo(a.na);h.assert(void 0!==g);b=new n.i4(this.config,this.console,g,this.events,a,this.mTa(g),b,d.va,function(){return c.Pf.va;},f,[],this.dm,function(){return 1;},this.KP);b.events.once("branchNormalized",this.yyb.bind(this,b));b.events.on("branchBufferingComplete",this.vV.bind(this));b.events.on("branchBufferingProgress",this.K$.bind(this));b.events.on("branchStreamingComplete",this.D8a.bind(this,b));b.events.on("checkBufferingProgress",this.cF.bind(this,b));b.Ab();this.uV(a.id,g,d);return b;};a.prototype.HCb=function(a){var b,c,d,f,l;b=this;a=this.navigator.Ag(a.Ma);c=this.Oo(a.na);h.assert(c);d=c.G;h.assert(0===this.mQ.length);f=0;l=new g.Oi();this.nk("createDlTracksStart");this.mQ=r.Me.map(function(a){a=b.fB(a,d,c);++f;l.on(a,"created",function(){--f;0===f&&(b.nk("createDlTracksEnd"),l.clear());});return a;});};a.prototype.fB=function(a,b,c){var d,f;d=this;f=p.Bp.Qf.fB(a,b,!0,!1,{},this.config);f.Vg.on(f,"networkfailing",function(){var a;f.jY&&(null===(a=c.rh)||void 0===a?void 0:a.jp(f.xea,void 0,f.th,f.gj));c.vp();});f.Vg.on(f,"error",function(){d.Eg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",f.th,0,f.gj);});f.Ab();return f;};a.prototype.mTa=function(a){return[[0,this.IDa,"audio_tracks"],[1,this.ZWa,"video_tracks"]].map(function(b){var d,f;d=c.__read(b,3);b=d[0];f=d[1];d=d[2];h.assert(f,"Expected mediaType "+b+" track selector to be defined");f=f.p2(a.ya,a.ya[d]);return void 0!==f?a.zKa(b,f):void 0;}).filter(u.Zja);};a.prototype.uV=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c.va,maxBitrates:{audio:b.sq[0],video:b.sq[1]}};this.events.emit(a.type,a);};a.prototype.x8a=function(){var a;a={type:"streamerEnd",time:f.time.ea()};this.events.emit(a.type,a);};a.prototype.nk=function(a){a={type:"startEvent",event:a,time:f.time.ea()};this.events.emit(a.type,a);};return a;}();b.Gpa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Lwa=void 0;c=a(16);d=a(33);a=function(){function a(a,b){var d;d=this;this.Of=b;this.SAa=!1;this.tL=new c.Oi();this.tL.on(a,"paused",function(){return d.vka();});this.tL.on(a,"playing",function(){return d.vka(!0);});this.tL.on(a,"underflow",function(){return d.vka();});this.tL.on(a,"skipped",function(){return d.uka();});}Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.Of.Pf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vo:{get:function(){return this.SAa;},enumerable:!1,configurable:!0}});a.prototype.vka=function(a){void 0===a&&(a=!1);this.SAa=a;this.emit("stopStart",{type:"stopStart"});};a.prototype.uka=function(){this.emit("clockReset",{type:"clockReset"});};a.prototype.ad=function(){this.tL.clear();};return a;}();b.Lwa=a;d.Ke(c.EventEmitter,a);},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Uxa=void 0;c=a(220);g=a(159);m=a(19);r=a(28);d=function(){function a(a,b){this.I=a;this.u=b;this.G$=this.B$=this.yt=r.ha.Dc;this.rV=this.qV=void 0;this.Aj=this.u.trace.bind(this.u);this.sPa=new q(a,b);}a.prototype.wma=function(a,b,c,d,g,k,n,q,p,t){var f,h,l,x,u,F,I,J;f=!1;a=a===m.Na.AUDIO&&!!b.Ua&&this.D9a(b.stream);h=r.ha.Dc;l=b.console;if(a){x=b.stream.Qa;u=this.S6a(b.profile,x);F=this.T6a(b.profile,x);I=b.Zv+b.Bm;if(b.ev)f=new r.ha(b.oa-I,1E3),(f=this.yt.add(f).cy(u))||!n||this.A5a(b,n)||(p=n.Zv+n.Bm,b=new r.ha(I-(b.oa-x.va),1E3),p=new r.ha(p-n.S,1E3),this.yt.Mb(b).add(p).ncb(F,u)&&(f=!0));else if(void 0!==c){J=b.Kv;new r.ha(I-b.S,1E3);n=this.yt.add(c.Mb(J));if(J.add(x).YB(c)||n.cy(u))f=!0,J.add(x),n=n.Mb(x);u=F.Mb(r.ha.zv);n.KH(this.yt)&&n.lessThan(u)?(f=a=!1,this.sPa.reset(),this.yt=r.ha.Dc,u=d.add(g),p(u),l.error("Unexpected seamless audio sync "+n.toString()+" at content pts "+b.oc+" in stream "+b.stream.ta+" following "+k.Vb)):(u=d.add(n).add(g),u=this.sPa.round(b,q,u,f),p(u),n.KH(this.yt)&&(this.B$=r.ha.max(this.B$,n),this.G$=r.ha.min(this.G$,n),t(this.B$,this.G$),h=n.Mb(this.yt),this.yt=n));}}return{wma:a,Njb:f,Ibb:h};};a.prototype.D9a=function(a){void 0===this.JL&&(this.JL=g.Uaa(this.I,a));return this.JL;};a.prototype.S6a=function(a,b){void 0===this.qV&&("object"===typeof this.I.xma&&this.I.xma[a]?(a=new r.ha(this.I.xma[a],1E3).Jf(b.T).add(new r.ha(1,b.T)),this.qV=r.ha.min(b,a)):this.qV=b);return this.qV;};a.prototype.T6a=function(a,b){var c;if(void 0===this.rV)if("object"===typeof this.I.yma&&this.I.yma[a]){c=new r.ha(-Math.floor(b.va/2),b.T);a=new r.ha(this.I.yma[a],1E3).Jf(b.T).Mb(new r.ha(1,b.T));this.rV=r.ha.max(c,a);}else this.rV=new r.ha(-12,1E3);return this.rV;};a.prototype.A5a=function(a,b){return a.oc<=b.oc&&a.Vb>=b.oc&&a.stream.track.equals(b.stream.track);};return a;}();b.Uxa=d;q=function(){function a(a,b){this.I=a;this.u=b;this.DA=0;}a.prototype.round=function(a,b,c,d){this.I.Es||(a=this.Q5a(a,c,d),b=b.Mb(a),b.cy(r.ha.zv.A0(2))?(c=c.Mb(r.ha.zv),++this.DA):b.lessThan(r.ha.Dc)?(c=c.add(r.ha.zv),--this.DA):0<this.DA&&b.lessThan(r.ha.zv)?(c=c.add(r.ha.zv),--this.DA):0>this.DA&&b.greaterThan(r.ha.zv)&&(c=c.Mb(r.ha.zv),++this.DA));return c;};a.prototype.reset=function(){this.DA=0;};a.prototype.Q5a=function(a,b,d){var f;f=a.pl;this.I.yo&&a.stream.Ei&&(f=f.Mb(a.stream.Ei));d&&(f=f.add(a.stream.Qa));return c.Kja(f).add(c.Kja(b));};return a;}();},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.fxa=void 0;c=a(0);g=a(16);m=a(11);r=a(5);q=a(58);n=a(126);l=m.ha.ue(1E3);d=function(){function a(a,b,c,d,f,k,n,r){var h,q;h=this;this.L=a;this.console=b;this.Of=c;this.events=k;this.ep=[];this.Hzb=l.add(m.ha.ue(null!==(q=n.H2.va)&&void 0!==q?q:0));this.listeners=new g.Oi();this.listeners.on(d,"skipped",function(){return h.uka();});this.listeners.on(f,"requestAppended",function(a){return h.lwb(a.request.stream,a.request.Kv);});this.LL=!0;this.qN=r.iX(function(){return h.ekb();});this.VP=r.iX(function(){return h.VBb();});}a.prototype.uka=function(){this.LL=!0;this.VP.Wn();this.qN.Wn();};a.prototype.ekb=function(){var a,b;return c.__generator(this,function(c){switch(c.label){case 0:this.QP=this.Cxb(this.LL),a=this.WOa(),b=this.LL?this.Of.Pf:null===a||void 0===a?void 0:a.timestamp,c.label=1;case 1:return a?[4,n.vt.E3(a.timestamp)]:[3,3];case 2:return c.Gs(),this.LL=!1,this.ckb(a,b),this.QP++,a=this.WOa(),b=null===a||void 0===a?void 0:a.timestamp,[3,1];case 3:return[2];}});};a.prototype.WOa=function(){if(void 0!==this.QP)return this.ep[this.QP];};a.prototype.Cxb=function(a){void 0===a&&(a=!1);for(var b=0;b<this.ep.length;b++)if(this.ep[b].timestamp.cy(this.Of.Pf))return a&&0<b?b-1:b;return Math.max(this.ep.length-1,0);};a.prototype.VBb=function(){var a,b;return c.__generator(this,function(d){switch(d.label){case 0:if(!(1<this.ep.length))return[3,2];a=c.__read(this.ep,2);b=a[1];return[4,n.vt.E3(this.Hzb.add(b.timestamp))];case 1:return d.Gs(),this.ep.shift(),this.QP&&this.QP--,[3,0];case 2:return[2];}});};a.prototype.lwb=function(a,b){var c;c=this.ep.length?this.ep[this.ep.length-1]:void 0;if(void 0===c||c.stream!==a)q.gb&&this.trace("stream "+a.id+", "+a.R+"kbit/s @ "+b.va+"ms"),this.ep.push({stream:a,timestamp:b}),this.qN.state===n.xt.complete&&this.qN.Wn(),this.VP.state===n.xt.complete&&this.VP.Wn();};a.prototype.reset=function(){this.ep=[];q.gb&&this.trace("reset");this.LL=!0;this.VP.Wn();this.qN.Wn();};a.prototype.close=function(){this.qN.ad();this.VP.ad();this.listeners.clear();};a.prototype.ckb=function(a,b){var c,d;c=a.stream;a=a.timestamp;d=this.Of.Lv(b);r.assert(void 0!==d);q.gb&&this.trace("emitStreamPresentingEvent @ "+a.va+"ms for "+c.id+", "+c.R+"kbit/s");this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.L,playerTimestamp:b,position:d,trackIndex:c.track.IA,streamIndex:c.Gg});};a.prototype.trace=function(a){this.console.trace("PresentationTracker ["+this.L+"]: "+a);};return a;}();b.fxa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.gqa=void 0;c=a(160);g=a(58);d=function(){function a(a,b,c){this.u=a;this.J5a=b;this.pe=c;this.SU=0;this.kV=!1;g.gb&&a.trace("creating new iterator for "+this.pe);}Object.defineProperties(a.prototype,{Uhb:{get:function(){return this.SU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oX:{get:function(){return this.eAa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vo:{get:function(){return this.kV;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Whb:{get:function(){return this.yj?this.yj.Zu?"Complete":this.yj.nla?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.yj;return b?b.next().then(function(c){if(a.yj!==b)return{done:!0};c.done||a.SU++;return c;}):c.oz.tga();};a.prototype.kEb=function(){this.DUa();this.GCb();};a.prototype.DUa=function(){var a;if(this.yj){a=this.yj;a&&a.xg();a&&g.gb&&this.u.trace("Disposing iterator that was on branch",this.oX&&this.oX.ba);this.kV=!1;this.yj=void 0;}};a.prototype.GCb=function(){var a,b,d,k;a=this;if(!this.kV){b=this.u;d=this.J5a;k=this.pe;this.SU=0;this.eAa=void 0;this.yj=c.Tr(c.map(d.fKa(),function(c){var d;a.eAa=c;a.SU=0;g.gb&&b.trace("Received branch",c.ba);d=c.aO(k);if(d)return{value:d};g.gb&&b.error("Skipping Branch",c.ba);return{value:[]};},b),b);this.kV=!0;}};return a;}();b.gqa=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u;Object.defineProperty(b,"__esModule",{value:!0});b.Spa=void 0;c=a(0);g=a(16);m=a(392);r=a(4);q=a(221);n=a(18);l=a(220);f=a(11);h=a(48);p=a(5);t=a(126);u=a(391);d=function(){function a(a,b,c,d,h,k,l,n){var m;m=this;this.rb=a;this.U=b;this.u=c;this.I=d;this.yV=h;this.Zf=k;this.fC=l;this.KP=n;this.D9=!1;this.vAa=new f.fya();this.Pza=new g.Oi();this.ci=new q.aS(this.u);this.xhb();this.zL=new u.UT(this.gn,function(){return m.GPa();},function(){return m.U.Pf.va;});this.ur=n.iX(function(){return m.Ccb();});}a.prototype.Ccb=function(){var a,b,d,g,h;return c.__generator(this,function(k){switch(k.label){case 0:if(!this.ci.pFa)return[3,2];a=c.__read(this.ci.hoa(),1);b=a[0];d=null!==(h=this.yV.H2.va)&&void 0!==h?h:0;g=b.AC.add(f.ha.ue(d));return[4,t.vt.E3(g)];case 1:return k.Gs(),this.ci.remove(b),[3,0];case 2:return[2];}});};Object.defineProperties(a.prototype,{$y:{get:function(){var a;return!(null===(a=this.gn[0])||void 0===a||!a.$y);},enumerable:!1,configurable:!0}});a.prototype.rq=function(){this.zL.rq();};a.prototype.Mkb=function(a){this.ci.enqueue(a);this.ur.state===t.xt.complete&&this.ur.Wn();a.ba.Ms&&this.ci.cY();this.D9||this.bmb(a);};a.prototype.nka=function(a){this.gn.forEach(function(b){b.nka(a);});};a.prototype.GPa=function(){this.rb.pi.Dj();};a.prototype.reset=function(){this.gn.forEach(function(a){a.reset();});this.zL.reset();this.D9=!1;this.vAa.removeAllListeners();};a.prototype.oQ=function(a){a=this.HIa(a);null===a||void 0===a?void 0:a.reset();this.zL.reset();};a.prototype.PF=function(){this.ci.clear();this.Pza.clear();this.ur.Wn();};a.prototype.resume=function(a){this.gn.forEach(function(b){void 0!==a&&-1===a.indexOf(b.L)||b.resume();});};a.prototype.OI=function(a){this.gn.forEach(function(b){return(void 0===a||-1!==a.indexOf(b.L))&&b.stop();});};a.prototype.Fk=function(){this.u.trace("onUnderflow");this.zL.reset();};a.prototype.fKa=function(){return this.ci.AJa();};a.prototype.qfa=function(){return this.ci.hoa();};a.prototype.xhb=function(){var a,b;a=this;this.nk("createMediaSourceStart");b=new r.MediaSource(this.U.U);if(1!==b.readyState)this.il("exception in init","NFErr_MC_StreamingInitFailure");else{this.nk("createMediaSourceEnd");this.bf=b;if(!b.pW(this.fC))throw this.u.trace("Error:",b.error),this.il("error creating source buffers","NFErr_MC_StreamingInitFailure"),b.error;this.gn=b.sourceBuffers.map(function(c){var d;d=new l.k4(a.u,c.L,b,c,a.I,{Ld:function(){return a.U.Pf.va;},av:function(b){return a.U.av(b);}});d.addListener("error",function(b){return a.il(b.errorstr);});d.addListener("logdata",function(b){return a.Zf.emit("logdata",b);});return new m.V3(d,c.L,a,a.I,a.u,a.U,a.yV,a.KP);});this.zL=new u.UT(this.gn,function(){return a.GPa();},function(){return a.U.position.offset.va;});}};a.prototype.ad=function(){this.gn.forEach(function(a){return a.ad();});this.bf.Xp();this.PF();this.ur.ad();};a.prototype.nfa=function(){return{jCb:this.ci.hoa(),FAb:this.gn};};a.prototype.bmb=function(a){var b;b=this;this.D9=!0;a.Ji.forEach(function(a){var c;c=b.HIa(a.L);if(void 0!==c)b.vAa.once(a.Mea,function(a){return c.cmb(a);});});if(this.rb.dm.value===n.ld.Dd)if(void 0!==a.pl)this.EPa(a);else this.Pza.on(a.events,"branchNormalized",this.EPa.bind(this,a));};a.prototype.EPa=function(a){p.assert(a.pl);this.rb.pi.PFb({Ma:a.ba.id,offset:a.pl.Mb(a.ba.Km)},a.Ji.filter(function(a){return 0===a.L;})[0]);};a.prototype.HIa=function(a){return h.zo(this.gn,function(b){return b.L===a;});};a.prototype.nk=function(a){a={type:"startEvent",event:a,time:r.time.ea()};this.Zf.emit(a.type,a);};a.prototype.il=function(a,b){this.rb.Eg(a,void 0,b);};return a;}();b.Spa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.B4a=void 0;c=a(0);g=a(161);m=a(125);d=function(a){function b(b,c){var d;d=a.call(this)||this;d.IEb=b;d.odb=c;return d;}c.__extends(b,a);b.prototype.I0=function(){return this.ae===g.xt.Fv?this.IEb:m.vt.Roa;};b.prototype.te=function(){this.odb();};return b;}(g.O8);b.B4a=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Gta=void 0;c=a(0);g=a(28);m=a(5);r=a(161);q=a(125);d=function(a){function b(b){var c;c=a.call(this)||this;c.HEb=b;c.reset();return c;}c.__extends(b,a);b.prototype.reset=function(){this.ae=r.xt.Fv;this.m6a=this.HEb();this.mBa=q.vt.HLb(g.ha.Dc);};b.prototype.Wn=function(){this.reset();m.assert(this.NL);this.NL.lEb(this);};b.prototype.I0=function(){return this.mBa;};b.prototype.te=function(){var a;a=this.m6a.next();this.mBa=a.done?q.vt.Roa:a.value;};return b;}(r.O8);b.Gta=d;},function(d,b,a){var g,m,r,q,n,l,f,h;function c(a,b,d){var f,g;n.assert(a.Vo);f=d.Mb(a.currentTime);g={id:setTimeout(function(){d.Mb(a.currentTime).YB(r.ha.Dc)?b():g.id=c(a,b,d).id;},f.va)};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.P8=void 0;g=a(0);m=a(16);r=a(28);q=a(222);n=a(5);l=a(161);f=a(836);a(835);h=a(125);d=function(){function a(a){this.za=a;this.ae={L0:r.ha.mq};this.nea=new m.Oi();this.pr=new q.qT([],function(a,b){return a.sI.Hj(b.sI);});this.zDa(a);}a.prototype.Hhb=function(a,b){a=new(a.bind.apply(a,g.__spread([void 0],b)))();a.sbb(this);this.Maa(a);return a;};a.prototype.iX=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return this.Hhb(f.Gta,a);};a.prototype.zDa=function(a){var b;b=this;this.P2();this.nea.clear();this.za=a;this.nea.on(a,"stopStart",function(){return b.nI();});this.nea.on(a,"clockReset",function(){return b.Eyb();});this.nI();};a.prototype.ad=function(){this.P2();this.pr.clear();};a.prototype.Eyb=function(){var a,b;a=this;b=this.pr.map(function(a){return a.Tna;});this.pr.clear();b.forEach(function(b){return a.Maa(b);});};a.prototype.Maa=function(a){var b;b=this.yVa(a.I0());this.pr.push({Tna:a,sI:b});this.nI();};a.prototype.nI=function(){var a,b,d,f,g;a=this;if(this.za.Vo){f=this.ae.L0;g=null!==(d=null===(b=this.pr.Cy())||void 0===b?void 0:b.sI)&&void 0!==d?d:r.ha.mq;g.lessThan(f)&&g!==r.ha.mq&&(this.ae.L0=g,this.P2(),g.YB(r.ha.Dc)?this.$Va():this.ae.oj=c(this.za,function(){return a.$Va();},g));}else this.P2();};a.prototype.$Va=function(){try{for(;this.MJb(););}finally{this.ae.L0=r.ha.mq;this.nI();}};a.prototype.MJb=function(){var a,b,c;c=null!==(b=null===(a=this.pr.Cy())||void 0===a?void 0:a.sI)&&void 0!==b?b:r.ha.mq;if(this.za.currentTime.cy(c)){a=this.pr.pop();b=a.Tna;try{b.Py();a.sI=this.yVa(b.I0());}catch(J){throw b.ad(),J;}finally{a.sI!==r.ha.mq&&b.state===l.xt.SSa&&this.pr.push(a);}return!0;}};a.prototype.lEb=function(a){n.assert(a.Nm===this);this.Qla(a,!1);this.Maa(a);this.nI();};a.prototype.Qla=function(a,b){var c;void 0===b&&(b=!0);c=this.pr.find(function(b){return b.Tna===a;});c&&this.ADb(c,b);};a.prototype.ADb=function(a,b){this.pr.remove(a);b&&this.nI();};a.prototype.P2=function(){this.ae.oj&&clearTimeout(this.ae.oj.id);this.ae.oj=void 0;this.ae.L0=r.ha.mq;};a.prototype.yVa=function(a){return a.type===h.y8.absolute?a.timestamp:a.timestamp.add(this.za.currentTime);};return a;}();b.P8=d;},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Fpa=void 0;c=a(0);g=a(16);m=a(5);r=a(4);q=a(126);n=a(834);d=a(390);l=a(830);a=function(a){function b(b,c,d){var f;f=a.call(this)||this;f.U=b;f.fC=c;f.yV=d;f.pAa=new g.Oi();f.pAa.on(f.U,"underflow",function(){return f.Fk();});f.Dt=new l.Lwa(b,f);f.uA=new q.P8(f.Dt);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{KP:{get:function(){return this.uA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jc:{get:function(){var a,b;return null!==(b=null===(a=this.oi)||void 0===a?void 0:a.qfa())&&void 0!==b?b:[];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rb:{get:function(){var a;return null===(a=this.oi)||void 0===a?void 0:a.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{za:{get:function(){return this.Dt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$y:{get:function(){var a;return!(null===(a=this.oi)||void 0===a||!a.$y);},enumerable:!1,configurable:!0}});b.prototype.IQ=function(b){a.prototype.IQ.call(this,b);this.oi&&this.oi.nka(b);};b.prototype.reset=function(){var b;a.prototype.reset.call(this);null===(b=this.oi)||void 0===b?void 0:b.reset();};b.prototype.oQ=function(b){var c;a.prototype.oQ.call(this,b);null===(c=this.oi)||void 0===c?void 0:c.oQ(b);};b.prototype.PF=function(){var a;null===(a=this.oi)||void 0===a?void 0:a.PF();};b.prototype.pause=function(b){this.OI(b);a.prototype.pause.call(this,null!==b&&void 0!==b?b:this.fC);};b.prototype.resume=function(b){var c;null===(c=this.oi)||void 0===c?void 0:c.resume(b);a.prototype.resume.call(this,null!==b&&void 0!==b?b:this.fC);};b.prototype.rq=function(){var b;a.prototype.rq.call(this);null===(b=this.oi)||void 0===b?void 0:b.rq();};b.prototype.ad=function(){this.oi&&this.tda(this.oi.rb);this.Dt.ad();this.uA.ad();this.pAa.clear();a.prototype.ad.call(this);};b.prototype.QN=function(){var b;b=this.U.od;void 0===b&&(b=a.prototype.QN.call(this));return b;};b.prototype.No=function(){return this.U.playbackRate;};b.prototype.tda=function(a){var b;m.assert(a===this.rb);null===(b=this.oi)||void 0===b?void 0:b.ad();this.oi=void 0;};b.prototype.AW=function(b,c){if(c=a.prototype.AW.call(this,b,c))this.oi=new n.Spa(b,this,new r.Console("ASEJS","media|asejs"),b.config,this.yV,this.events,this.fC,this.uA),this.OI(this.XH);return c;};b.prototype.fea=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c=this.oi;m.assert(c);a.forEach(function(a){return c.Mkb(a);});};b.prototype.Fk=function(){var a,b;m.assert(this.rb);b=this.Lv(this.Pf);m.assert(b);null===(a=this.oi)||void 0===a?void 0:a.Fk();this.rb.Fk(b);};b.prototype.nfa=function(){var a;return null===(a=this.oi)||void 0===a?void 0:a.nfa();};b.prototype.OI=function(a){var b;null===(b=this.oi)||void 0===b?void 0:b.OI(a);};b.prototype.moa=function(b){m.assert(this.rb&&this.oi);return a.prototype.moa.call(this,b);};return b;}(d.d8);b.Fpa=a;},function(d,b,a){var g,m;function c(a){this.I=a;this.oL();}g=a(8);m=a(4);new m.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.Tc();m.storage.set("nh",a);};c.prototype.wHb=function(){this.CA||(this.CA=!0,this.Qt=m.time.ea());};c.prototype.HHb=function(){var a;if(this.CA){a=m.time.ea();this.Wt+=a-this.Qt;this.Qt=a;this.CA=!1;this.nL=null;}};c.prototype.NLa=function(a,b){this.CA&&(b>this.Qt&&(this.Wt+=b-this.Qt,this.Qt=b),null===this.nL||a>this.nL)&&(a=b-a,this.SE.push([this.Wt-a,a]),this.c$a(),this.nL=b);};c.prototype.c$a=function(){var a;a=this.Wt-this.I.xxb;this.SE=this.SE.filter(function(b){return b[0]>a;});};c.prototype.oL=function(){var a;a=m.storage.get("nh");this.daa(a)||(this.Qt=m.time.ea(),this.Wt=0,this.CA=!1,this.nL=null,this.SE=[]);};c.prototype.daa=function(a){if(!(a&&g.has(a,"t")&&g.has(a,"s")&&g.has(a,"i")&&g.ma(a.t)&&g.ma(a.s)&&g.isArray(a.i)))return!1;this.Qt=m.time.eka(1E3*a.t);this.Wt=1E3*a.s;this.CA=!1;this.SE=a.i.map(function(a){return[1E3*a[0],a[1]];});this.nL=null;return!0;};c.prototype.Tc=function(){return this.CA?{t:m.time.now()/1E3|0,s:(this.Wt+(m.time.ea()-this.Qt))/1E3|0,i:this.SE.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:m.time.Hja(this.Qt)/1E3|0,s:this.Wt/1E3|0,i:this.SE.map(function(a){return[a[0]/1E3|0,a[1]];})};};d.P=c;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Fsa=void 0;c=a(0);g=a(48);m=a(18);r=a(11);d=function(){function a(a,b){this.u=a;this.config=b;}a.prototype.Uyb=function(a){var b;b=this;return 0<a.length?c.__spread(a).sort(g.kFa(function(a){return b.S5a(a);})).some(function(a){return b.Tdb(a)?a.zMa():!1;}):!1;};a.prototype.S5a=function(a){return a.sp.Mb(a.Pf).va;};a.prototype.Tdb=function(a){return a.sp.equal(a.Jr)||(this.config.wM&&m.ULa(a.dm)?this.Udb(a):this.Vdb(a));};a.prototype.Vdb=function(a){var b;if(!this.config.u0||void 0===this.config.U2)return!0;b=a.Jr.Mb(a.Pf).va;b=Math.max(this.config.u0,b*this.config.U2);return a.sp.Mb(a.Jr).va<=b;};a.prototype.Udb=function(a){var b;if(void 0===this.config.wM)return!0;b=a.Pf.add(r.ha.ue(this.config.wM));return a.sp.YB(b);};return a;}();b.Fsa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var l,f,h,p,t,u,E;function c(a){var b,d,f;a=a.parent;b=!1;if(a&&a.children){d={};d[u.ik]=[];d[u.uj]=[];d[u.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&d[a.fe].push(a);});0<d[u.ik].length||(d[u.uj].length===f.length?a.fe!==u.uj&&(a.fe=u.uj,t.error("PERM failing :",h.rg.name[a.tB]+" "+a.id),b=!0):(a.fe===u.ik&&(a.fe=u.TEMPORARY,t.error("TEMP failing :",h.rg.name[a.tB]+" "+a.id),b=!0),d[u.TEMPORARY].forEach(function(a){a.fe=u.ik;})),b&&c(a));}}function g(a){var c;for(var b=[];a;a=a.parent)switch(a.tB){case h.rg.Xz:c=a;b.unshift(c.id+"("+c.name+")");break;case h.rg.Mta:b.unshift(a.id);break;case h.rg.URL:b.unshift("<url for "+a.stream.R+">");}return b.length?"/"+b.join("/"):"";}function m(a){var b;if((a=a.parent)&&0<a.children.length&&a.fe!==u.ik){b={};b[u.ik]=[];b[u.uj]=[];b[u.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.fe].push(a);});0<b[u.ik].length&&(a.fe=u.ik,m(a));}}function r(a){return a.fe!==u.ik;}function q(a){switch(a.fe){case u.ik:return"OK";case u.uj:return"FAILED PERMANENTLY";case u.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function n(a,b){if(a.fe===u.TEMPORARY||a.fe===u.uj&&b)a.fe=u.ik;a.children&&a.children.forEach(function(a){a&&n(a,b);});}Object.defineProperty(b,"__esModule",{value:!0});b.kT=void 0;l=a(0);f=a(8);d=a(16);h=a(19);p=a(4);t=new p.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.ik=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.uj=2]="PERMANENT";}(u||(u={})));(function(a){a[a.tt=0]="STARTUP";a[a.T3a=1]="REBUFFER";}(E||(E={})));a=function(a){var C5z;function b(b,c,d,f,g){var o5z,k,j39,w39;o5z=2;while(o5z!==26){j39="1S";j39+="IYb";j39+="Z";j39+="rNJ";j39+="Cp9";w39="n";w39+="e";w39+="tw";w39+="o";w39+="rk";switch(o5z){case 20:k.vm={id:w39,tB:h.rg.ot,fe:u.ik,xs:void 0,parent:void 0,children:k.vv};k.pV=null;k.yI=null;k.zI=h.Lg.tt;k.Cka(b);j39;return k;break;case 7:k.gs=void 0;k.qm={};k.Iq={};k.le={};o5z=12;break;case 2:k=a.call(this)||this;k.yb=c;k.Df=d;k.config=f;k.k8a=g;k.EBb=E.tt;o5z=7;break;case 12:k.ec={};k.vv=[];k.D0=!1;o5z=20;break;}}}C5z=2;while(C5z!==25){switch(C5z){case 5:b.prototype.Nfa=function(){var X5z;X5z=2;while(X5z!==1){switch(X5z){case 4:return this.vv;break;X5z=1;break;case 2:return this.vv;break;}}};b.prototype.Rx=function(){var B5z;B5z=2;while(B5z!==1){switch(B5z){case 4:return r(this.vm);break;B5z=1;break;case 2:return r(this.vm);break;}}};b.prototype.vTa=function(a){var j5z;j5z=2;while(j5z!==5){switch(j5z){case 1:return a.parent.id;break;case 2:j5z=(a=this.le[a])&&a.parent?1:5;break;case 9:return a.parent.id;break;j5z=5;break;}}};b.prototype.R_=function(a){var f5z;f5z=2;while(f5z!==5){switch(f5z){case 2:f5z=(a=this.le[a])&&a.tc?1:5;break;case 1:return a.tc.location;break;}}};C5z=8;break;case 2:l.__extends(b,a);b.prototype.Spb=function(){var K5z;K5z=2;while(K5z!==1){switch(K5z){case 4:return this.vv[2].mb;break;K5z=1;break;case 2:return this.vv[0].mb;break;}}};C5z=5;break;case 8:b.prototype.LUa=function(a){var b5z;b5z=2;while(b5z!==5){switch(b5z){case 1:return a.stream;break;case 2:b5z=(a=this.le[a])?1:5;break;}}};b.prototype.Cka=function(a){var D5z,b;D5z=2;while(D5z!==10){switch(D5z){case 8:a.audio_tracks.forEach(function(a){var S5z;S5z=2;while(S5z!==1){switch(S5z){case 4:b.kRa(a);S5z=2;break;S5z=1;break;case 2:b.kRa(a);S5z=1;break;}}});a.video_tracks.forEach(function(a){var t5z;t5z=2;while(t5z!==1){switch(t5z){case 2:b.kRa(a);t5z=1;break;case 4:b.kRa(a);t5z=7;break;t5z=1;break;}}});a=this.vv.filter(function(a){var L5z,c;L5z=2;while(L5z!==3){switch(L5z){case 2:L5z=1;break;case 8:L5z=3;break;L5z=1;break;case 1:c=a.Iq.every(function(a){var d5z,e7z;d5z=2;while(d5z!==1){switch(d5z){case 4:S8ii.x39(0);e7z=S8ii.J39(20,18);return e7z==a.le.length;break;d5z=1;break;case 2:return 0===a.le.length;break;}}});c&&(a.Iq.forEach(function(a){var h5z;h5z=2;while(h5z!==1){switch(h5z){case 2:b.Iq[a.id]=void 0;h5z=1;break;}}}),b.qm[a.id]=void 0,a.parent=void 0,a.children.length=0,a.ec={});return!c;break;}}});D5z=14;break;case 2:b=this;a.locations.forEach(function(a){var A5z,c,d,f,g;A5z=2;while(A5z!==14){switch(A5z){case 5:A5z=!b.qm[c]?4:14;break;case 2:c=a.key;A5z=5;break;case 4:d=[];f=b.Df.get(c);g=b.vm;a={id:c,tB:h.rg.Mta,fe:u.ik,Sf:a.rank,level:a.level,weight:a.weight,xs:void 0,parent:g,children:d,Iq:d,ec:{},mb:f};b.qm[a.id]=a;g.children.push(a);A5z=14;break;}}});this.pV=p.time.ea();this.vv.sort(function(a,b){var E5z;E5z=2;while(E5z!==1){switch(E5z){case 2:return a.level-b.level||a.Sf-b.Sf;break;}}});a.servers.forEach(function(a){var i5z,c,d,f;i5z=2;while(i5z!==14){switch(i5z){case 5:i5z=!b.Iq[c]?4:14;break;case 2:c=a.id;i5z=5;break;case 4:d=b.qm[a.key];i5z=3;break;case 3:i5z=d?9:14;break;case 9:f=[];a={id:c,tB:h.rg.Xz,fe:u.ik,xs:void 0,parent:d,children:f,le:f,name:a.name,type:a.type,Sf:a.rank,location:d};b.Iq[a.id]=a;d.children.push(a);i5z=14;break;}}});D5z=8;break;case 14:a.forEach(function(a){var l5z;l5z=2;while(l5z!==1){switch(l5z){case 2:a.Iq.sort(function(a,b){var G5z;G5z=2;while(G5z!==1){switch(G5z){case 2:return a.Sf-b.Sf;break;case 4:return a.Sf*b.Sf;break;G5z=1;break;}}});l5z=1;break;}}});this.vv=a;this.vm.children=a;this.dump();D5z=10;break;}}};C5z=6;break;case 12:b.prototype.CSa=function(a,b){var O5z;O5z=2;while(O5z!==3){switch(O5z){case 1:n(a,b),m(a);O5z=5;break;case 2:O5z=(a=this.Iq[a])?1:5;break;case 5:this.yI=null;this.zI=h.Lg.u7;O5z=3;break;}}};b.prototype.W1=function(){var W5z;W5z=2;while(W5z!==1){switch(W5z){case 4:n(this.vm,+0);W5z=9;break;W5z=1;break;case 2:n(this.vm,!1);W5z=1;break;}}};b.prototype.El=function(a){var M5z,b;M5z=2;while(M5z!==5){switch(M5z){case 2:null===(b=this.k8a)||void 0===b?void 0:b.call(this,a);M5z=5;break;}}};C5z=20;break;case 6:b.prototype.dJ=function(a,b){var F5z,c,d,g,k,l,n,R39,g39,M39,u39;F5z=2;while(F5z!==15){R39="(em";R39+="pty stream list";R39+=")";g39="Did not fin";g39+="d a URL f";g39+="or ANY st";g39+="ream...";M39="netwo";M39+="rkFaile";M39+="d";u39="Network has failed, not upd";u39+="ating stream s";u39+="elec";u39+="tion";switch(F5z){case 12:f.Oa(this.yI)&&(this.yI=this.hKb());F5z=11;break;case 6:l=h.Ne.zz;d.oP&&(l=h.Ne.yz);this.yb.location&&g.yd>=l&&(a=this.qm[this.yb.location])&&(a.mb=g);F5z=12;break;case 7:return!1;break;case 18:return this.jp(h.rg.ot,!1),!1;break;case 2:c=this;d=this.config;g=this.yb.get();F5z=3;break;case 8:F5z=r(this.vm)?7:6;break;case 10:return this.jp(h.rg.ot,!1),!1;break;case 19:F5z=!n.length?18:17;break;case 11:F5z=!this.yI?10:20;break;case 3:k=0;p.Dx&&p.Dx(a);F5z=8;break;case 20:n=this.yI;F5z=19;break;case 17:b.forEach(function(a,b){var R5z,m,q39,B39,O39,W39;R5z=2;while(R5z!==4){q39=" ";q39+="K";q39+="bps";q39+=")";B39=" ";B39+="(";O39="]";O39+=" ";W39="Faili";W39+="ng stream ";W39+="[";switch(R5z){case 2:m=a.id;n.some(function(b){var Y5z,c,k;Y5z=2;while(Y5z!==7){switch(Y5z){case 5:Y5z=!c?4:3;break;case 4:return!1;break;case 3:k=c.qm[0];void 0===a.v1&&(a.v1=k.id,a.jla=c.ER[k.id][0].tc.id);return c.ER[b.id].some(function(c){var P5z,m,V39,a39,Q39,l39;P5z=2;while(P5z!==11){V39="lo";V39+="cati";V39+="onfai";V39+="love";V39+="r";a39="s";a39+="e";a39+="rverf";a39+="ail";a39+="over";Q39="p";Q39+="e";Q39+="rfo";Q39+="rmance";l39="un";l39+="kn";l39+="o";l39+="wn";switch(P5z){case 5:return c.tc.fe===u.TEMPORARY&&(a.fe=u.TEMPORARY),d.Bq&&a.tc===c.tc.id&&c.tc.xs&&(a.xs=c.tc.xs),!1;break;case 2:P5z=1;break;case 1:P5z=r(c.tc)?5:4;break;case 9:m=l39;a.location!==b.id&&(d.Bq?a.Tha=b.id===k.id:m=b!==n[0]?""+h.Lg.Y3:void 0===a.location?""+h.Lg.tt:f.W(a.KMa)||a.KMa===b.id?f.W(a.LMa)||a.LMa===c.tc.id?Q39:a39:V39,a.location=b.id,a.yia=b.level,a.pp=m);a.url=c.url;P5z=6;break;case 4:P5z=r(c)?3:9;break;case 3:return!1;break;case 6:a.tc=c.tc.id;a.SC=c.tc.name;a.mb=d.Aba?b.mb.yd>=h.Ne.yz||g.yd<l?b.mb:g:g.yd===h.Ne.HAVE_NOTHING||b.mb.yd>=h.Ne.yz?b.mb:g;P5z=12;break;case 12:return!0;break;}}});break;case 2:c=b.ec[m];Y5z=5;break;}}})?(a.ey=!1,a.fe=void 0,a.Xu&&++k):a.fe&&a.fe===u.TEMPORARY?c.vm.fe=u.TEMPORARY:a.ey||(t.warn(W39+b+O39+m+B39+a.R+q39),a.neb(),a.ey=!0);R5z=4;break;}}});return r(this.vm)?(t.warn(u39),this.D0=!0,this.emit(M39,this.vm.fe===u.uj),!1):k?!0:(t.warn(g39+(b.length?"":R39)),this.jp(h.rg.ot,!0),!1);break;}}};b.prototype.GFb=function(a,b){var v5z,c,d;v5z=2;while(v5z!==9){switch(v5z){case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;f.forEach(this.le,function(g,h){var k5z,k,l,n,m,r39,y39;k5z=2;while(k5z!==13){r39="8";r39+="0";y39="4";y39+="4";y39+="3";switch(k5z){case 8:m=l[2];l=l[3];l.length||(l=n?y39:r39);f.Ie(m)&&f.Ie(l)&&m===a&&l==b&&(k?k.push(h):c[g]=[h]);k5z=13;break;case 9:n="s"===l[1];k5z=8;break;case 2:g=g.parent?g.parent.id:"";k=c[g];l=h.match(d);k5z=3;break;case 3:k5z=l&&4===l.length?9:13;break;}}});return c;break;}}};b.prototype.jp=function(a,b,d,f){var c5z,x5z,k,l,n,H39,E39,Z39,z39,i39,N39,h39,t39,Y39;c5z=2;while(c5z!==25){H39="Invalid failure st";H39+="a";H39+="te";E39="ne";E39+="two";E39+="rkFaile";E39+="d";Z39="Emitting networkFailed, perm";Z39+="ane";Z39+="nt =";z39=" :";z39+=" was";z39+=" ";i39=" ";i39+="a";i39+="t";i39+=" ";N39=" ";N39+="failure reported for";N39+=" ";h39="T";h39+="E";h39+="M";h39+="P";t39="P";t39+="E";t39+="R";t39+="M";Y39="Unable to ";Y39+="find failu";Y39+="re ";Y39+="entity for URL ";switch(c5z){case 4:c5z=k?3:26;break;case 26:S8ii.x39(1);t.warn(S8ii.o39(d,Y39));c5z=25;break;case 16:c5z=x5z===u.ik?14:15;break;case 15:c5z=27;break;case 5:k=k.parent;c5z=1;break;case 14:k.fe=n;c(k);this.D0=this.D0||r(this.vm);a=this.vm.fe;c5z=10;break;case 6:c5z=x5z===u.TEMPORARY?14:16;break;case 7:return;break;case 8:x5z=k.fe;c5z=x5z===u.uj?7:6;break;case 1:c5z=k&&k.parent&&k.tB!==a?5:4;break;case 9:t.warn((b?t39:h39)+N39+h.rg.name[a]+i39+g(k)+z39+q(k));c5z=8;break;case 10:a>l&&(t.warn(Z39,a===u.uj),this.emit(E39,a===u.uj));this.yI=null;this.zI=h.Lg.ERROR;f&&(this.zI=h.Lg.F3a,k.xs=f);this.dump();c5z=25;break;case 3:c5z=n!==k.fe?9:25;break;case 27:throw Error(H39);c5z=14;break;case 2:k=a!==h.rg.ot&&d?this.le[d]:this.vm,l=this.vm.fe,n=b?u.uj:u.TEMPORARY;c5z=1;break;}}};C5z=12;break;case 17:b.prototype.hKb=function(){var y7z,a,b,c,d;y7z=2;while(y7z!==10){switch(y7z){case 6:c.forEach(function(b){var s7z;s7z=2;while(s7z!==1){switch(s7z){case 2:b.id!==a.yb.location&&(b.mb=a.Df.get(b.id));s7z=1;break;}}}),this.pV=d;y7z=14;break;case 3:y7z=0===c.length?9:8;break;case 2:a=this;b=this.config;c=this.vv.filter(function(a){var n7z;n7z=2;while(n7z!==1){switch(n7z){case 4:return+r(a)||8!=a.level;break;n7z=1;break;case 2:return!r(a)&&0!==a.level;break;}}});y7z=3;break;case 14:b=this.zI;c.sort(function(a,b){var a7z;a7z=2;while(a7z!==1){switch(a7z){case 2:return a.level-b.level||a.Sf-b.Sf;break;}}});this.gs||f.Oa(b)||(this.gs=!0);return c;break;case 9:return null;break;case 8:d=p.time.ea();y7z=7;break;case 7:y7z=null===this.pV||this.pV+b.xia<d?6:14;break;}}};b.prototype.ODb=function(a){var p7z,b;p7z=2;while(p7z!==9){switch(p7z){case 2:b=this.yb.location;this.gs=!1;this.EBb=a;p7z=3;break;case 3:this.vv.forEach(function(a){var g7z;g7z=2;while(g7z!==1){switch(g7z){case 2:a.id!==b&&a.mb&&a.mb.yd>h.Ne.zz&&(a.mb.yd=h.Ne.zz);g7z=1;break;}}});p7z=9;break;}}};b.prototype.aAb=function(){var U7z,a;U7z=2;while(U7z!==4){switch(U7z){case 2:a=this;this.D0||this.vv.forEach(function(b){var Q7z;Q7z=2;while(Q7z!==1){switch(Q7z){case 2:b.fe===u.TEMPORARY&&a.Df.fail(b.id,p.time.ea());Q7z=1;break;}}});U7z=4;break;}}};b.prototype.dump=function(){};return b;break;case 20:b.prototype.Fk=function(){var T5z;T5z=2;while(T5z!==1){switch(T5z){case 4:this.ODb(E.T3a);T5z=7;break;T5z=1;break;case 2:this.ODb(E.T3a);T5z=1;break;}}};b.prototype.ad=function(){var w5z;w5z=2;while(w5z!==1){switch(w5z){case 2:this.config.Zub&&this.aAb();w5z=1;break;}}};b.prototype.kRa=function(a){var r5z,b;r5z=2;while(r5z!==4){switch(r5z){case 2:b=this;a.streams.forEach(function(a){var m5z,c,d,g,F39;m5z=2;while(m5z!==13){F39="n";F39+="on";F39+="e";F39+="-";switch(m5z){case 2:c=a.downloadable_id;m5z=5;break;case 5:d=b.ec[c];m5z=4;break;case 4:m5z=f.W(d)?3:7;break;case 3:g=a.content_profile;d={id:c,R:a.bitrate,Ub:a.vmaf,type:a.type,profile:g,clear:0===g.indexOf(F39),Xu:!0,le:[],ER:{},qm:[]};m5z=8;break;case 7:a.urls.forEach(function(a){var H5z,c,g,k;H5z=2;while(H5z!==11){switch(H5z){case 7:a.children.push(g);d.le.push(g);0===d.qm.filter(function(a){var V5z;V5z=2;while(V5z!==1){switch(V5z){case 2:return a.id===k.id;break;case 4:return a.id==k.id;break;V5z=1;break;}}}).length&&d.qm.push(k);k.ec[d.id]=d;(c=d.ER[k.id])?c.push(g):d.ER[k.id]=[g];H5z=11;break;case 4:H5z=f.W(g)&&(a=b.Iq[a.cdn_id])?3:11;break;case 3:k=a.location;g={id:c,tB:h.rg.URL,fe:u.ik,xs:void 0,parent:a,children:[],url:c,tc:a,stream:d};b.le[c]=g;H5z=7;break;case 2:c=a.url;g=b.le[c];H5z=4;break;}}});f.Td(d.ER,function(a){var z5z;z5z=2;while(z5z!==1){switch(z5z){case 2:a.sort(function(a,b){var I5z;I5z=2;while(I5z!==1){switch(I5z){case 4:return a.tc.Sf+b.tc.Sf;break;I5z=1;break;case 2:return a.tc.Sf-b.tc.Sf;break;}}});z5z=1;break;}}});d.qm=d.qm.sort(function(a,b){var u7z;u7z=2;while(u7z!==1){switch(u7z){case 2:return a.level-b.level||a.Sf-b.Sf;break;}}});m5z=13;break;case 8:b.ec[d.id]=d;m5z=7;break;}}});r5z=4;break;}}};C5z=17;break;}}}(d.EventEmitter);b.kT=a;},function(d){var b,a,c;b=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;c=Object.prototype.propertyIsEnumerable;d.P=function(){var a,c;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0;}catch(q){return!1;}}()?Object.assign:function(d,g){var k,m;if(null===d||void 0===d)throw new TypeError("Object.assign cannot be called with null or undefined");m=Object(d);for(var n,l=1;l<arguments.length;l++){k=Object(arguments[l]);for(var f in k)a.call(k,f)&&(m[f]=k[f]);if(b){n=b(k);for(var h=0;h<n.length;h++)c.call(k,n[h])&&(m[n[h]]=k[n[h]]);}}return m;};},function(d,b,a){(function(b){var D,T,Q,V,S,A,B,M;function c(a,b){if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f<g;++f)if(a[f]!==b[f]){c=a[f];d=b[f];break;}return c<d?-1:d<c?1:0;}function g(a){return b.jqa&&"function"===typeof b.jqa.isBuffer?b.jqa.isBuffer(a):!(null==a||!a.sTb);}function r(a){return g(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function q(a){if(T.Tb(a))return S?a.name:(a=a.toString().match(B))&&a[1];}function n(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function l(a){if(S||!T.Tb(a))return T.xO(a);a=q(a);return"[Function"+(a?": "+a:"")+"]";}function f(a,b,c,d,f){throw new A.AssertionError({message:c,wF:a,$p:b,TH:d,mHb:f});}function h(a,b){a||f(a,!0,b,"==",A.ok);}function p(a,b,d,f){var h;if(a===b)return!0;if(g(a)&&g(b))return 0===c(a,b);if(T.n_(a)&&T.n_(b))return a.getTime()===b.getTime();if(T.kMa(a)&&T.kMa(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!r(a)||!r(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(g(a)!==g(b))return!1;f=f||{wF:[],$p:[]};h=f.wF.indexOf(a);if(-1!==h&&h===f.$p.indexOf(b))return!0;f.wF.push(a);f.$p.push(b);return t(a,b,d,f);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return d?a===b:a==b;}function t(a,b,c,d){var f,g,h;if(null===a||void 0===a||null===b||void 0===b)return!1;if(T.gMa(a)||T.gMa(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;f="[object Arguments]"==Object.prototype.toString.call(a);g="[object Arguments]"==Object.prototype.toString.call(b);if(f&&!g||!f&&g)return!1;if(f)return a=V.call(a),b=V.call(b),p(a,b,c);f=M(a);h=M(b);if(f.length!==h.length)return!1;f.sort();h.sort();for(g=f.length-1;0<=g;g--)if(f[g]!==h[g])return!1;for(g=f.length-1;0<=g;g--)if(h=f[g],!p(a[h],b[h],c,d))return!1;return!0;}function u(a,b,c){p(a,b,!0)&&f(a,b,c,"notDeepStrictEqual",u);}function E(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(N){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function J(a,b,c,d){var g,h,k;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(d=c,c=null);try{b();}catch(O){g=O;}b=g;d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:".");a&&!b&&f(b,c,"Missing expected exception"+d);g="string"===typeof d;h=!a&&T.AO(b);k=!a&&b&&!c;(h&&g&&E(b,c)||k)&&f(b,c,"Got unwanted exception"+d);if(a&&b&&c&&!E(b,c)||!a&&b)throw b;}function K(a,b){a||f(a,!0,b,"==",K);}D=a(843);T=a(476);Q=Object.prototype.hasOwnProperty;V=Array.prototype.slice;S=function(){return"foo"===function(){}.name;}();A=d.P=h;B=/\s*function\s+([^\(\s]*)\s*/;A.AssertionError=function(a){var b;this.name="AssertionError";this.wF=a.wF;this.$p=a.$p;this.TH=a.TH;this.message=a.message?a.message:n(l(this.wF))+" "+this.TH+" "+n(l(this.$p));b=a.mHb||f;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=q(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};T.dsb(A.AssertionError,Error);A.fail=f;A.ok=h;A.equal=function(a,b,c){a!=b&&f(a,b,c,"==",A.equal);};A.KH=function(a,b,c){a==b&&f(a,b,c,"!=",A.KH);};A.lGa=function(a,b,c){p(a,b,!1)||f(a,b,c,"deepEqual",A.lGa);};A.mGa=function(a,b,c){p(a,b,!0)||f(a,b,c,"deepStrictEqual",A.mGa);};A.gPa=function(a,b,c){p(a,b,!1)&&f(a,b,c,"notDeepEqual",A.gPa);};A.Mxb=u;A.NUa=function(a,b,c){a!==b&&f(a,b,c,"===",A.NUa);};A.hPa=function(a,b,c){a===b&&f(a,b,c,"!==",A.hPa);};A["throws"]=function(a,b,c){J(!0,a,b,c);};A.eVb=function(a,b,c){J(!1,a,b,c);};A.oWb=function(a){if(a)throw a;};A.Hna=D(K,A,{equal:A.NUa,lGa:A.mGa,KH:A.hPa,gPa:A.Mxb});A.Hna.Hna=A.Hna;M=Object.keys||function(a){var b,c;b=[];for(c in a)Q.call(a,c)&&b.push(c);return b;};}.call(this,a(143)));},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Dqa=void 0;c=a(397);d=function(){var p39;function a(){var L39,T79;L39=2;while(L39!==5){T79="1S";T79+="IY";T79+="bZrNJCp";T79+="9";switch(L39){case 3:this.DV={};"";L39=0;break;L39=5;break;case 2:this.DV={};T79;L39=5;break;}}}p39=2;while(p39!==9){switch(p39){case 4:a.prototype.get=function(){var b39,a,b,c,d,g,f;b39=2;while(b39!==6){switch(b39){case 1:a=this.DV,b=Object.keys(a),c=[],d=0;b39=5;break;case 9:f&&c.push({cdnid:g,avtp:f.Da,tm:f.MX});b39=8;break;case 4:g=b[d];f=a[g].get();b39=9;break;case 2:b39=1;break;case 8:d++;b39=5;break;case 7:return c;break;case 5:b39=d<b.length?4:7;break;}}};return a;break;case 2:a.prototype.add=function(a,b,d,g){var I39,k;I39=2;while(I39!==3){switch(I39){case 2:k=this.DV;void 0===k[g]&&(k[g]=new c());k[g].add(a,b,d);I39=3;break;}}};a.prototype.start=function(a,b){var C39,d;C39=2;while(C39!==3){switch(C39){case 5:void 0===d[b]&&(d[b]=new c());d[b].start(a);C39=3;break;case 2:d=this.DV;C39=5;break;}}};a.prototype.stop=function(a,b){var X39,c;X39=2;while(X39!==4){switch(X39){case 2:c=this.DV;void 0!==c[b]&&c[b].stop(a);X39=4;break;}}};p39=4;break;}}}();b.Dqa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.esa=void 0;c=a(845);new(a(4)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");d=function(){var e79;e79=2;function a(a){var c79,A79;c79=2;while(c79!==4){A79="1";A79+="S";A79+="IYbZ";A79+="rNJCp9";switch(c79){case 2:this.jha=a;this.Hu={};A79;c79=4;break;}}}while(e79!==7){switch(e79){case 2:a.prototype.reset=function(){var K79;K79=2;while(K79!==1){switch(K79){case 4:this.cz=new c.Dqa();K79=4;break;K79=1;break;case 2:this.cz=new c.Dqa();K79=1;break;}}};a.prototype.LC=function(a,b){var S79;S79=2;while(S79!==1){switch(S79){case 2:b.ee&&(this.jha?this.cz.start(a,b.ee):1===b.type&&(this.Hu[b.ee]?this.Hu[b.ee].NR+=1:this.Hu[b.ee]={ee:b.ee,NR:1,oY:!1},this.lWa(a)));S79=1;break;}}};a.prototype.NC=function(a,b){var D79,c;D79=2;while(D79!==8){switch(D79){case 2:D79=1;break;case 3:c=this.Hu[b.ee];1===b.type&&c&&(--c.NR,0===c.NR&&(c.oY&&this.cz.stop(a,b.ee),c.oY=!1,delete this.Hu[b.ee]),this.lWa(a));D79=8;break;case 5:D79=this.jha?4:3;break;case 4:this.cz.stop(a,b.ee);D79=8;break;case 1:D79=b.ee?5:8;break;}}};e79=4;break;case 4:a.prototype.ox=function(a,b,c,d){var G79;G79=2;while(G79!==1){switch(G79){case 2:d.ee&&(this.jha?this.cz.add(a,b,c,d.ee):this.WL===d.ee&&this.cz.add(a,b,c,d.ee));G79=1;break;}}};a.prototype.lm=function(){var f79;f79=2;while(f79!==1){switch(f79){case 4:return this.cz.get();break;f79=1;break;case 2:return this.cz.get();break;}}};a.prototype.lWa=function(a){var m79,b,c;m79=2;while(m79!==3){switch(m79){case 2:b=Object.keys(this.Hu);c=this.Hu[b[0]];m79=4;break;case 4:1===b.length&&!1===c.oY?(this.cz.start(a,c.ee),this.WL=c.ee):1<b.length&&this.WL&&(b=this.Hu[this.WL],this.cz.stop(a,this.WL),b.oY=!1,this.WL=void 0);m79=3;break;}}};return a;break;}}}();b.esa=d;},function(d,b,a){var g;function c(a){var b,c;b=a.sw;c=a.mw;this.sF=b;this.B9={uhd:a.uhdl,hd:a.hdl};this.li=Math.max(Math.ceil(1*b/c),1);this.T7a=a.mins||1;g.call(this,b,c);this.reset();}g=a(163);new(a(4)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(g.prototype);c.prototype.flush=function(){this.Xc.map(function(a,b){this.PCa(a,this.ifa(b));},this);};c.prototype.Zcb=function(){var a,b,c,d,g,f,h,u;a=this.B9;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.laa[b];g=this.kaa[b];if(d.first){f=d.first;h=d.DC;void 0!==h&&(g[f][h]+=1);d.first=void 0;}for(var d=[],f=0,c=h=c.length+1,k=0;k<h;k++){for(var p=0,t=0;t<c;t++)p+=g[t][k];f+=p;d.push(p);}p=-1;if(f>this.T7a){for(k=p=0;k<h;k++)if(0<d[k])for(t=0;t<c;t++){u=g[t][k];0<u&&(p-=u*Math.log(1*u/d[k]));}p/=f*Math.log(2);}this.a$[b]=p;}return this.a$;};c.prototype.PCa=function(a,b){var c,f,h;for(var c=this.li,d=this.B9;this.VU.length>=c;)this.VU.shift();for(;this.WU.length>=c;)this.WU.shift();this.VU.push(a);this.WU.push(b);a=this.VU.reduce(function(a,b){return a+b;},0);b=this.WU.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var g in d)if(d.hasOwnProperty(g)){b=this.laa[g];c=this.kaa[g];f=this.bCb(a,d[g]);h=b.DC;void 0!==h?c[f][h]+=1:b.first=f;b.DC=f;}}};c.prototype.bCb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};c.prototype.shift=function(){this.PCa(this.Xc[0],this.ifa(0));g.prototype.shift.call(this);};c.prototype.reset=function(){var a,b;this.laa={};this.VU=[];this.WU=[];this.kaa={};this.a$={};a=this.B9;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.kaa,d=b,k,f=void 0,h=Array(f),f=k=a[b].length+1,p=0;p<f;p++){h[p]=Array(k);for(var t=0;t<k;t++)h[p][t]=0;}c[d]=h;this.laa[b]={first:void 0,DC:void 0};this.a$[b]=0;}g.prototype.reset.call(this);};d.P=c;},function(d,b,a){var g;function c(){this.ii=void 0;this.ix=0;}g=a(8);c.prototype.Tc=function(){return 0!==this.ix&&this.ii?{p25:this.ii.Gk,p50:this.ii.ij,p75:this.ii.Hk,c:this.ix}:null;};c.prototype.Xd=function(a){if(!(!g.Oa(a)&&g.has(a,"p25")&&g.has(a,"p50")&&g.has(a,"p75")&&g.has(a,"c")&&g.isFinite(a.p25)&&g.isFinite(a.p50)&&g.isFinite(a.p75)&&g.isFinite(a.c)))return this.ii=void 0,this.ix=0,!1;this.ii={Gk:a.p25,ij:a.p50,Hk:a.p75};this.ix=a.c;};c.prototype.get=function(){return{g1:this.ii,mp:this.ix};};c.prototype.set=function(a,b){this.ii=a;this.ix=b;};c.prototype.reset=function(){this.ii=void 0;this.ix=0;};c.prototype.toString=function(){return"IQRHist("+this.ii+","+this.ix+")";};d.P=c;},function(d,b,a){var g,m,r,q,n,l,f,h,p,t;function c(a){this.p6a=a;}b=a(401);g=b.x_a;m=b.v_a;r=a(227).w_a;q=a(227).g5a;n=a(400);l=a(399);f=a(398).Iya;h=a(848);p=a(847);t=a(397);c.prototype.constructor=c;c.prototype.create=function(a,b){var c,d,k,x;d=this.p6a[a];k=b[a];x={};d&&Object.keys(d).forEach(function(a){x[a]=d[a];});k&&Object.keys(k).forEach(function(a){x[a]=k[a];});switch(x.type){case"slidingwindow":c=new r(x.mw);break;case"discontiguous-ewma":c=new m(x.mw);break;case"wssl":c=new q(x.mw,x.max_n);break;case"iqr":c=new n(x.mx,x.mn,x.bw,x.iv);break;case"tdigest":c=new l(x);break;case"discrete-ewma":c=new g(x.hl);break;case"tdigest-history":c=new f(x);break;case"iqr-history":c=new h(x);break;case"avtp":c=new t();break;case"entropy":c=new p(x);}c&&(c.type=x.type);return c;};d.P=c;},function(d){function b(a){this.HE=a;this.Qd=0;this.oF=null;}b.prototype.add=function(a,b,d){null!==this.oF&&b>this.oF&&(this.Qd+=b-this.oF,this.oF=null);this.HE.add(a,b-this.Qd,d-this.Qd,this.Qd);};b.prototype.stop=function(a){null===this.oF&&(this.oF=a);};b.prototype.dla=function(a,b){return this.HE.dla(a,b);};b.prototype.get=function(){return this.HE.get();};b.prototype.reset=function(){this.HE.reset();};b.prototype.toString=function(){return this.HE.toString();};d.P=b;},function(d){function b(a,b,d){this.tF=a;this.li=Math.floor((a+b-1)/b);this.Qc=b;this.h9a=d;this.reset();}b.prototype.shift=function(){this.Xc.shift();this.Rg.shift();};b.prototype.update=function(a,b){this.Xc[a]+=b;};b.prototype.push=function(a){this.Xc.push(0);this.Rg.push(a?a:0);this.Sa+=this.Qc;};b.prototype.add=function(a,b,d,g){var c,k;if(null===this.Sa){c=Math.max(Math.floor((d-b+this.Qc-1)/this.Qc),1);for(this.Sa=b;this.Xc.length<c;)this.push(g);}for(;this.Sa<d;)if(this.push(g),this.h9a)for(;1<this.Xc.length&&d+g-(this.Sa-this.Qc*this.Xc.length+this.Rg[0])>this.tF;)this.shift();else this.Xc.length>this.li&&this.shift();if(b>this.Sa-this.Qc)this.update(this.Xc.length-1,a);else if(b==d)g=this.Xc.length-Math.max(Math.ceil((this.Sa-d)/this.Qc),1),0<=g&&this.update(g,a);else for(g=1;g<=this.Xc.length;++g){c=this.Sa-g*this.Qc;k=c+this.Qc;if(!(c>d)){if(k<b)break;this.update(this.Xc.length-g,Math.round(a*(Math.min(k,d)-Math.max(c,b))/(d-b)));}}for(;this.Xc.length>this.li;)this.shift();};b.prototype.reset=function(){this.Xc=[];this.Rg=[];this.Sa=null;};b.prototype.setInterval=function(a){this.li=Math.floor((a+this.Qc-1)/this.Qc);};d.P=b;},function(d,b,a){var m,r,q,n;function c(a,b,c){m.call(this,a,b,c);}function g(a,b){r.call(this,new c(a,b,!1));}m=a(851);r=a(850);q=a(110).cnb;n=a(110).rqb;c.prototype=Object.create(m.prototype);c.prototype.Da=function(){return Math.floor(8*q(this.Xc)/this.Qc);};c.prototype.Bh=function(){return Math.floor(64*n(this.Xc)/(this.Qc*this.Qc));};c.prototype.get=function(){return{Da:this.Da(),Bh:this.Bh(),aUb:this.Xc.length};};c.prototype.toString=function(){return"bsw("+this.tF+","+this.Qc+","+this.li+")";};g.prototype=Object.create(r.prototype);g.prototype.setInterval=function(a){this.HE.setInterval(a);};d.P=g;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;}function g(a){this.Rd=null;this.bl=a;this.size=0;}b=a(403);c.prototype.gg=function(a){return a?this.right:this.left;};c.prototype.Zn=function(a,b){a?this.right=b:this.left=b;};g.prototype=new b();g.prototype.Mn=function(a){if(null===this.Rd)return this.Rd=new c(a),this.size++,!0;for(var b=0,d=null,g=this.Rd;;){if(null===g)return g=new c(a),d.Zn(b,g),ret=!0,this.size++,!0;if(0===this.bl(g.data,a))return!1;b=0>this.bl(g.data,a);d=g;g=g.gg(b);}};g.prototype.remove=function(a){var b,d,g,h,f;if(null===this.Rd)return!1;b=new c(void 0);d=b;d.right=this.Rd;for(var g=null,k=null,f=1;null!==d.gg(f);){g=d;d=d.gg(f);h=this.bl(a,d.data);f=0<h;0===h&&(k=d);}return null!==k?(k.data=d.data,g.Zn(g.right===d,d.gg(null===d.left)),this.Rd=b.right,this.size--,!0):!1;};d.P=g;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function g(a){this.Rd=null;this.bl=a;this.size=0;}function m(a){return null!==a&&a.red;}function r(a,b){var c;c=a.gg(!b);a.Zn(!b,c.gg(b));c.Zn(b,a);a.red=!0;c.red=!1;return c;}function q(a,b){a.Zn(!b,r(a.gg(!b),!b));return r(a,b);}b=a(403);c.prototype.gg=function(a){return a?this.right:this.left;};c.prototype.Zn=function(a,b){a?this.right=b:this.left=b;};g.prototype=new b();g.prototype.Mn=function(a){var b,d,g,k,n,p,t,u,K;b=!1;if(null===this.Rd)this.Rd=new c(a),b=!0,this.size++;else{d=new c(void 0);g=0;k=0;n=null;p=d;t=null;u=this.Rd;for(p.right=this.Rd;;){null===u?(u=new c(a),t.Zn(g,u),b=!0,this.size++):m(u.left)&&m(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1);if(m(u)&&m(t)){K=p.right===n;u===t.gg(k)?p.Zn(K,r(n,!k)):p.Zn(K,q(n,!k));}K=this.bl(u.data,a);if(0===K)break;k=g;g=0>K;null!==n&&(p=n);n=t;t=u;u=u.gg(g);}this.Rd=d.right;}this.Rd.red=!1;return b;};g.prototype.remove=function(a){var b,d,t,g,u,p,K;if(null===this.Rd)return!1;b=new c(void 0);d=b;d.right=this.Rd;for(var g=null,k,n=null,p=1;null!==d.gg(p);){t=p;k=g;g=d;d=d.gg(p);u=this.bl(a,d.data);p=0<u;0===u&&(n=d);if(!m(d)&&!m(d.gg(p)))if(m(d.gg(!p)))k=r(d,p),g.Zn(t,k),g=k;else if(!m(d.gg(!p))&&(u=g.gg(!t),null!==u))if(m(u.gg(!t))||m(u.gg(t))){K=k.right===g;m(u.gg(t))?k.Zn(K,q(g,t)):m(u.gg(!t))&&k.Zn(K,r(g,t));t=k.gg(K);t.red=!0;d.red=!0;t.left.red=!1;t.right.red=!1;}else g.red=!1,u.red=!0,d.red=!0;}null!==n&&(n.data=d.data,g.Zn(g.right===d,d.gg(null===d.left)),this.size--);this.Rd=b.right;null!==this.Rd&&(this.Rd.red=!1);return null!==n;};d.P=g;},function(d,b,a){d.P={S3a:a(854),iNb:a(853)};},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qsa=void 0;c=a(0);g=a(168);m=a(404);r=a(18);q=a(4);d=a(83);n=a(394);l=a(5);a=function(a){function b(b,c,d,f,g,h,k,l,n,m,q){var r;r=a.call(this,b)||this;r.Yc=b;r.u=c;r.I=d;r.El=f;r.jZ=g;r.gq=h;r.m_=k;r.oh=l;r.XBa=n;r.fg=m;r.UAa=[void 0,void 0];r.taa=[];r.gL=null!==q&&void 0!==q?q:{mr:[Object.create(null),Object.create(null)]};return r;}c.__extends(b,a);Object.defineProperties(b.prototype,{mr:{get:function(){return this.gL.mr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uw:{get:function(){return this.gL.Uw;},set:function(a){this.gL.Uw=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IE:{get:function(){return this.gL.IE;},set:function(a){this.gL.IE=a;},enumerable:!1,configurable:!0}});b.prototype.mc=function(){var a;a=this;this.mr.forEach(function(b,c){for(var d in b)b[d].mc(),a.qda(c,d);});};b.prototype.cj=function(a,b){return this.mr[a][b];};b.prototype.GZ=function(){return!(!this.Uw||!this.Uw.length);};b.prototype.eca=function(){this.Uw=void 0;};b.prototype.FI=function(a){this.Uw=a;};b.prototype.uoa=function(){var a,b;if(!this.GZ()||this.IE)return!1;for(g.Ll.Kn(1);0<this.Uw.length;){a=this.Uw.shift();b=this.Yc.Yr(1,a);if(b&&!this.drb(a)&&b.oq)return this.IE=a,this.i3(b,{offset:0,KI:!0});}return!1;};b.prototype.Foa=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.cj(a,b.ta);d&&!b.Vd&&(d.stream.Vd?b.fX(d.stream):(d.CP||(d.CP=[]),d.CP.push(c.Yc)));});};b.prototype.qI=function(a,b,c){var d,f,g;d=this;g=this.Yc;r.Me.forEach(function(f){var h,k,m,q,r;if(g.jb(f)&&(void 0===c||f===c)){q=a[f];l.assert(q&&g.getTrackById(q.$a)===q);q=q.Nc;if(g.yi)d.u.warn("requestHeadersFromManifest, shutdown detected");else if(g.zl.dJ(g.na,q)){r=null!==(m=null===(k=null===(h=d.gq(f))||void 0===h?void 0:h.WB)||void 0===k?void 0:k.R)&&void 0!==m?m:0;h=n.Dea(q,r);void 0===h&&d.u.warn("Unable to find stream for bitrate "+r);h=q[h];(k=g.cj(f,h.ta))&&k.stream.Z?g.eKb(f,k):(f={offset:0,KI:!1,Lx:1===f,Rr:!0,IH:!d.m_(g)},g.MFa(h,f,b));}else d.u.warn("requestHeadersFromManifest, unable to update urls");}});g.MZ=!0;null===(f=this.fg)||void 0===f?void 0:f.call(this,g.Ya).LW();};b.prototype.oD=function(a){var b,c,d,f;b=this.I;c=this.cj(a.L,a.ta);if(c)return c.stream.Z||c.KI&&this.WEa(c),!1;c=this.w7a;d=this.x7a;if(void 0!==b.Dja&&void 0!==c&&void 0!==d){f=q.time.ea();if(f-c<b.Dja||f-d<b.Dja)return!1;}a=this.i3(a,{url:a.url,offset:0});this.x7a=q.time.ea();return a;};b.prototype.i3=function(a,b,d,f){var h,k,l,n;l=a.L;g.Ll.Kn(l);n=a.ta;if(this.Y5a(n,!!b.Rr))return null===(h=this.XBa)||void 0===h?void 0:h.call(this),!1;if(h=this.cj(l,n))a=!1;else{h=c.__assign(c.__assign({},b),{aa:this.D6a(a)});d=this.jZ(l,!!h.Rr,!!h.Lx,!!h.IH,!!d);a.url&&(this.gq(l).mia=a.url);h=a=this.Q9(a,d,h);if(!a.vs())return this.Yc.Eg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1;a=!0;}b.Rr&&f&&(this.Yc.ig[l]=h);null===(k=this.XBa)||void 0===k?void 0:k.call(this);return a;};b.prototype.vp=function(){var a,b;a=this;b=[];this.mr.forEach(function(c,d){var h;g.Ll.Kn(d);for(var f in c){d=c[f];h=d.s3();1===h?b.push(d):2===h&&a.Yc.Eg("swapUrl failure");}});return b;};b.prototype.hj=function(a){var b,c;b=a.L;c=g.Ll.Kn(b);this.Yc.yi?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.El({type:"logdata",target:"startplay",Bd:{usedNativeDataView:a.$Kb}}),a.c1>a.hzb&&(this.UAa[b]=a.c1),a.KI&&this.WEa(a),this.d7a(a),this.w7a=q.time.ea(),this.Yc.fy.emit("onHeaderRequestComplete",a));this.aq(a);};b.prototype.nW=function(a,b,c){var d;d=a.L;g.Ll.Kn(d);d=this.Yc.Yr(d,a.ta);if(b!==!!a.Lj)return!1;this.FCa(a);a.Aab(d);this.Dza(a);this.Yc.fy.emit("onHeaderFromCache",{Po:a,emb:c});return!0;};b.prototype.xaa=function(a,b){var c,d,f,g;c=[];d=this.mr[a];for(f in d){g=d[f];g&&!g.stream.Z&&g.Ok===b&&(this.qda(a,f),c.push({stream:g.stream,offset:g.offset,aa:g.aa,Lx:g.Lx,Rr:g.Rr,IH:g.IH,Eka:g.Eka}));}return c;};b.prototype.hma=function(a){var b;b=this;a.forEach(function(a){b.i3(a.stream,a);});};b.prototype.FCa=function(a){this.mr[a.L][a.ta]=a;};b.prototype.drb=function(a){return!!this.cj(1,a);};b.prototype.d7a=function(a){var b,c,d,f,k;b=this.I;c=g.Ll.Kn(a.L);d=a.stream.Z;if(b.bda){f=d.length;c.trace("fragment count:",f);for(var h=0;h<f;++h){k=d.get(h);c.trace("fragment: "+h+", startPts: "+k.S+", duration: "+k.duration+", offset: "+k.offset);}}this.Dza(a);if(b.YH&&b.YH.enabled&&void 0===d.gz&&b.YH.simulatedFallback){f=d.length;b=[];for(h=0;h<f;++h)b[h]=Math.max(0,a.stream.Ub+this.f9a(h));d.yGb(b);}};b.prototype.Dza=function(a){var b,c;b=a.L;c=a.ta;g.Ll.Kn(b);a.CP&&(a.CP.forEach(function(d){(d=d.Yr(b,c))&&d!==a.stream&&!d.Vd&&d.fX(a.stream);}),a.CP=void 0);this.Yc.Kqb(a);};b.prototype.Q9=function(a,b,c){var d,f;d=this;f=g.Ll.Kn(a.L);a=new m.U3(a,this.I,b,c,this,!1,f);a.addListener("headerRequestCancelled",function(a){d.c7a(a.request);});a.Ab(void 0);this.FCa(a);return a;};b.prototype.Y5a=function(a,b){return this.oh&&(a=this.oh.QO(this.Yc.G,a))&&this.nW(a,!1,b)?!0:!1;};b.prototype.D6a=function(a){var b,c,d;b=a.Is;c=a.O;d=this.I;return c.ve.Cf?d.kY?d.kY:d.LZ:d.LWa&&b?b.offset+b.size:(a=this.UAa[a.L])?a+128:2292+12*Math.ceil(c.duration/2E3);};b.prototype.c7a=function(a){this.qda(a.L,a.ta);};b.prototype.qda=function(a,b){delete this.mr[a][b];};b.prototype.WEa=function(a){this.IE===a.ta&&(this.IE=void 0);};b.prototype.f9a=function(a){var b;b=this.I.YH.fallbackBound;void 0===this.taa[a]&&(this.taa[a]=Math.floor(2*Math.random()*b)-b);return this.taa[a];};return b;}(d.Rq);b.Qsa=a;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Hpa=void 0;c=a(0);g=a(16);m=a(4).gr;d=function(a){function b(b){var c;c=a.call(this)||this;c.HBa=b;c.fV=b.groupId;c.zf=new g.Oi();c.zf.on(c,m.Od.jK,c.uL);c.zf.on(c,m.Od.Oz,c.dF);return c;}c.__extends(b,a);b.prototype.gzb=function(a,b,c){m.prototype.open.call(this,a,b,c);};b.prototype.ZFb=function(a){this.fV=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.fV;},enumerable:!1,configurable:!0}});b.prototype.mc=function(){this.zf&&this.zf.clear();m.prototype.mc.call(this);};b.prototype.uL=function(a){this.HBa.BBb(a.probed,a.affected);this.mc();};b.prototype.dF=function(a){this.HBa.yBb(a.probed,a.affected);this.mc();};return b;}(m);b.Hpa=d;},function(d,b,a){var g,m,r;function c(a,b){this.pL=a;this.pA=0===Math.floor(1E6*Math.random())%b.EC;this.groupId=1;this.config=b;this.Iu={};this.Iy={};}g=a(8);m=a(4);new m.Console("ASEJS_PROBE_MANAGER","asejs");r=a(857).Hpa;c.prototype.constructor=c;c.prototype.ABb=function(a,b){var c,d,h,k,n,q,r,p,t,u,T;c=this.pL;d=a.Kb;h=c.LUa(a.url);k=c.R_(a.url);n=this.config;q=m.time.ea();p=b;t=[];u=h.qm[0];T=!1;r=this.Iu[d];if(!r)r=this.Iu[d]={count:0,Nh:q,Rv:!1,error:b,Uma:[],mla:{}};else if(r.Nh>=q-n.Z2)return;r.Rv||(u&&k.id===u.id&&(a.isPrimary=!0),r.Nh=q,r.Rv=!1,r.error=b,++r.count,h&&h.le&&0!==h.le.length&&(g.forEach(h.le,function(b){var c,f,g;c=b.tc.id;f=c+"-"+d;g=this.Iy[f];if(void 0===g||void 0===g.x1)g&&g.oj&&clearTimeout(g.oj),b=this.PFa(b.url,a,c),this.Iy[f]={da:!1,count:0,x1:b.Pj()},t.push(b.Pj()),T=!0;-1===r.Uma.indexOf(c)&&r.Uma.push(c);},this),this.pA&&0<t.length&&(h={type:"logdata",target:"endplay",fields:{}},b=p,p={ts:m.time.ea(),es:b.WCa,fc:b.th,fn:b.NHa,nc:b.gj,pb:t,gid:this.groupId},b.lO&&(p.hc=b.lO),h.fields.errpb={type:"array",value:p,adjust:["ts"]},c.El(h)),T&&this.groupId++));};c.prototype.PFa=function(a,b,c){var d,g,k;d=this.pL.R_(b.url);d&&d.mb&&d.mb.lq&&d.mb.lq.Da||Math.random(0,1);d=new r(this);g=a.split("?");k="random="+parseInt(1E7*Math.random(),10);d.gzb(1<g.length?a+"&"+k:a+"?"+k,b,c);return d;};c.prototype.BBb=function(a,b){var c,d,g,k,n,r,q,p;c=this.pL;d=this.config;g=b.Kb;k=this.Iu[g];r=a.url;q=this.Iy[a.Kb+"-"+g];if(k&&(n=k.error,q)){q&&q.oj&&clearTimeout(q.oj);q.da=!0;q.count=0;q.x1=void 0;k.mla[a.Kb]=!0;(q=this.Iu[a.Kb])&&!0===q.Rv&&d.du&&(c.CSa(a.Kb,q.error.yR[1]),this.pA&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.errst={type:"array",value:{ts:m.time.ea(),id:a.requestId,servid:b.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.El(q)),this.Iu[a.Kb]=void 0);if(r!==b.url){p=this.Iy[g+"-"+g];p&&p.da||(g=(g=c.R_(r))&&g.mb&&g.mb.lq&&g.mb.lq.Da||Math.random(0,1)*d.$_,g=Math.min(g,d.$_),setTimeout(function(){var d;if(!(!1!==k.Rv||p&&p.da)&&(k.Rv=!0,c.jp(n.yR[0],n.yR[1],b.url,n),this.pA)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:m.time.ea(),id:a.requestId,servid:b.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.El(d);}}.bind(this),g));}this.pA&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.pbres={type:"array",value:{ts:m.time.ea(),id:a.requestId,result:1,servid:a.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.El(q));}};c.prototype.yBb=function(a,b){var c,d,h,k,n,r,q,p,t,u;c=this.pL;d=parseInt(b.Kb,10);h=this.Iu[d];k=parseInt(a.Kb,10);n=this.Iy[k+"-"+d];r=0;t=this.config;if(n&&h){n.da=!1;n.x1=void 0;h.mla[k]=!1;p=h.Uma;if(t.du&&k===d&&b.isPrimary){u=c.R_(b.url);u=u&&u.mb&&u.mb.lq&&u.mb.lq.Da||300*Math.random(0,1);u=u*Math.pow(2,n.count);u=Math.min(u,12E4);u=u+Math.random(0,1)*(1E4>u?100:1E4);n.oj=setTimeout(function(){var c;n.oj=void 0;c=this.PFa(a.url,b,k);c.ZFb(a.groupId);n.x1=c.Pj();}.bind(this),u);}++n.count;k===d&&(r=0,p.forEach(function(a){!1===h.mla[a]&&r++;}),p.length===r&&h.count>=t.d0&&(q=h.error,h.Rv=!0,g.forEach(c.LUa(b.url).le,function(a){var b;c.jp(q.yR[0],q.yR[1],a.url,q);if(this.pA){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:m.time.ea(),id:-1,servid:a.tc.id},adjust:["ts"]};c.El(b);}},this)));this.pA&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:m.time.ea(),id:a.requestId,result:0,servid:a.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.El(d));}};c.prototype.m3=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.pL;b=a.vTa(b);c=this.Iu[b];d=this.Iy[b+"-"+b];c&&c.Rv&&this.config.du&&(a.CSa(c.error.WCa,!1),this.pA&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:m.time.ea(),id:-1,servid:b},adjust:["ts"]},a.El(c)),this.Iu[b]=void 0,d&&d.oj&&clearTimeout(d.oj));}};c.prototype.reset=function(){var a,b,c;a=this.Iy;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.oj&&clearTimeout(b.oj);this.Iy={};this.Iu={};};d.P=c;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K;Object.defineProperty(b,"__esModule",{value:!0});b.isa=void 0;c=a(16);g=a(8);m=a(4);r=new m.Console("ASEJS_ERROR_DIRECTOR","asejs");q=a(19);n=a(858);l=m.hk;f=l.LD;h={};p={};d=[q.rg.ot,!1];a=[q.rg.ot,!0];t=[q.rg.Xz,!1];u=[q.rg.Xz,!0];E=[q.rg.URL,!0];J=[-1,!1];K=[q.rg.Xz,!1];h[f.BMb]=t;h[f.UNKNOWN_ERROR]=t;h[f.oQb]=t;h[f.YZa]=t;h[f.era]=t;h[f.j_a]=t;h[f.b_a]=u;h[f.cZa]=u;h[f.qqa]=K;h[f.m4]=K;h[f.dZa]=J;h[f.eZa]=K;h[f.fZa]=K;h[f.$Ya]=t;h[f.bZa]=t;h[f.pqa]=d;h[f.aZa]=t;h[f.ZYa]=K;h[f.wNb]=u;h[f.x0a]=K;h[f.Msa]=K;h[f.Lsa]=K;h[f.K5]=K;h[f.Jsa]=K;h[f.w0a]=E;h[f.M5]=u;h[f.O5]=E;h[f.N5]=a;h[f.Osa]=u;h[f.z0a]=E;h[f.cT]=K;h[f.Nsa]=u;h[f.y0a]=u;h[f.e_a]=u;h[f.ZZa]=t;h[f.p4a]=t;h[f.PZa]=t;h[f.QZa]=t;h[f.RZa]=t;h[f.SZa]=t;h[f.TZa]=t;h[f.UZa]=t;h[f.VZa]=t;h[f.WZa]=t;h[f.XZa]=t;h[f.$Za]=t;h[f.a_a]=t;h[f.c_a]=t;h[f.d_a]=t;h[f.f_a]=t;h[f.g_a]=t;h[f.h_a]=t;h[f.i_a]=t;h[f.k_a]=t;h[f.l_a]=t;h[f.o4a]=K;h[f.TIMEOUT]=d;p[f.qqa]=!0;p[f.Msa]=!0;p[f.Lsa]=!0;p[f.Jsa]=!0;p[f.era]=!0;d=function(){var U79;U79=2;function a(a,b,d,g){var k79,u3M,O3M;k79=2;while(k79!==11){u3M="ne";u3M+="tw";u3M+="orkFai";u3M+="le";u3M+="d";O3M="1S";O3M+="IYbZ";O3M+="r";O3M+="NJ";O3M+="Cp9";switch(k79){case 6:this.kH=m.time.ea();this.kX=0;this.Yna={};this.kla=new n(a,b);k79=11;break;case 5:this.Vqb=d;this.$r=g;this.Vg=new c.Oi();O3M;h[f.K5]=b.Erb?u:K;this.Vg.addListener(this.zl,u3M,this.Oqb.bind(this));k79=6;break;case 2:this.zl=a;this.config=b;k79=5;break;}}}while(U79!==12){switch(U79){case 2:a.prototype.ad=function(){var v79;v79=2;while(v79!==1){switch(v79){case 4:this.Vg.clear();v79=4;break;v79=1;break;case 2:this.Vg.clear();v79=1;break;}}};a.prototype.oGb=function(a){var n79;n79=2;while(n79!==1){switch(n79){case 4:this.D2=a;n79=2;break;n79=1;break;case 2:this.D2=a;n79=1;break;}}};a.prototype.jp=function(a,b,c,d){var s79,f,k,n,m,x,u,F,I,E,R3M,I3M,a3M,v3M,n3M;s79=2;while(s79!==23){R3M="Inva";R3M+="lid affe";R3M+="cted f";R3M+="or network f";R3M+="ailure";I3M=" : c";I3M+="ritic";I3M+="al error ";I3M+="count = ";a3M=" o";a3M+="n";a3M+=" ";v3M="Fa";v3M+="il";v3M+="ure ";n3M="Unmapped failu";n3M+="re ";n3M+="co";n3M+="de in JSASE error director : ";switch(s79){case 19:F&&(k[F]=[a.url]);s79=18;break;case 15:s79=void 0!==a.host&&void 0!==a.port?27:26;break;case 14:u=h[c];this.H_={lO:b,th:c,NHa:n,gj:d};p[c]&&++this.kX;s79=11;break;case 20:F=x.vTa(a.url);s79=19;break;case 24:S8ii.p3M(0);r.error(S8ii.e3M(c,n3M));s79=23;break;case 10:s79=void 0!==a.url?20:15;break;case 6:s79=c&&g.isArray(h[c])?14:24;break;case 4:n=c?k[c]:void 0;k={};m=this.config;x=this.zl;s79=7;break;case 18:I=u[0];E=u[1];m.Bq?g.forEach(k,function(g,h){var d79,V3M;d79=2;while(d79!==5){V3M="er";V3M+="r";V3M+="o";V3M+="r";switch(d79){case 2:u===K||u===t?f.kla.ABb({url:void 0!==a.url?a.url:g[0],Kb:h},{WCa:h,yR:u,lO:b,th:c,NHa:n,gj:d}):g.some(function(a){var J79;J79=2;while(J79!==5){switch(J79){case 1:return I===q.rg.Xz;break;case 2:x.jp(I,E,a);J79=1;break;case 9:return I!==q.rg.Xz;break;J79=5;break;}}});!f.D2||0!==b&&void 0!==b||(g=void 0!==a.url?a.url:g[0])&&f.D2.Kma(V3M,g);d79=5;break;}}}):g.forEach(k,function(c,d){var o79,X3M;o79=2;while(o79!==5){X3M="e";X3M+="rr";X3M+="o";X3M+="r";switch(o79){case 1:c.some(function(a){var P79;P79=2;while(P79!==5){switch(P79){case 2:x.jp(I,E,a);return I===q.rg.Xz;break;}}}),!f.D2||0!==b&&void 0!==b||(c=void 0!==a.url?a.url:c[0])&&f.D2.Kma(X3M,c);o79=5;break;case 2:o79=u!==K||f.KDb(d)?1:5;break;}}});s79=23;break;case 7:r.warn(v3M+n+a3M+JSON.stringify(a)+I3M+this.kX);s79=6;break;case 11:s79=u!==J?10:23;break;case 26:r.error(R3M);return;break;case 27:k=x.GFb(a.host,a.port);s79=18;break;case 2:f=this;k=l.LD.name;s79=4;break;}}};a.prototype.KDb=function(a){var x79,b,c,d;x79=2;while(x79!==13){switch(x79){case 9:x79=d.Nh<this.kH?8:7;break;case 2:b=m.time.ea();c=this.config;d=this.Yna[a];x79=3;break;case 3:x79=d?9:14;break;case 8:d.Nh=b,d.count=1;x79=13;break;case 7:x79=!(d.Nh>=b-c.Z2||d.Rv||(d.Nh=b,++d.count,d.count<c.d0))?6:13;break;case 14:this.Yna[a]={Nh:b,count:1};x79=13;break;case 6:return d.Rv=!0;break;}}};U79=3;break;case 3:a.prototype.Oqb=function(a){var w79,b,c,d,f,g,h,k,o3M,s3M,b3M,B3M,D3M;w79=2;while(w79!==6){o3M="Ne";o3M+="two";o3M+="rk ha";o3M+="s";o3M+=" failed ";s3M=" ";s3M+="m";s3M+="s ago";b3M="temp";b3M+="orari";b3M+="ly";B3M="p";B3M+="ermanen";B3M+="tl";B3M+="y";D3M=" l";D3M+="as";D3M+="t s";D3M+="uccess wa";D3M+="s ";switch(w79){case 9:S8ii.p3M(1);r.warn(S8ii.y3M(D3M,a?B3M:b3M,s3M,c,o3M));!a&&c>k.Oja&&(d=!0);w79=7;break;case 2:b=this;c=m.time.ea()-this.kH;d=a;k=this.config;w79=9;break;case 7:d?(this.rI&&(clearTimeout(this.rI),this.rI=void 0),this.XEa(),this.kla.reset(),this.H_&&(f=this.H_.th,g=this.H_.lO,h=this.H_.gj),this.Vqb({ftb:a,izb:f,jzb:g,kzb:h})):this.rI||(this.rI=setTimeout(function(){var j79;j79=2;while(j79!==5){switch(j79){case 2:b.rI=void 0;b.W1();j79=5;break;}}},k.Pja));w79=6;break;}}};a.prototype.W1=function(){var l79;l79=2;while(l79!==1){switch(l79){case 2:this.rI||(this.zl.W1(),this.Yna={},this.$r());l79=1;break;}}};a.prototype.m3=function(a){var Q79,b;Q79=2;while(Q79!==9){switch(Q79){case 2:b=this.config;this.kH=Math.max(a.timestamp||m.time.ea(),this.kH);this.XEa();b.Bq&&this.kla.m3(a);Q79=9;break;}}};a.prototype.uP=function(){var a79;a79=2;while(a79!==1){switch(a79){case 4:this.kX=9;a79=5;break;a79=1;break;case 2:this.kX=0;a79=1;break;}}};a.prototype.Fk=function(){var V79,a,b,c,H7M,j3M;V79=2;while(V79!==8){H7M="m";H7M+="s";j3M="Set";j3M+="ti";j3M+="ng underflow t";j3M+="imeout ";j3M+="in ";switch(V79){case 2:a=this;b=this.config;c=b.Zia;this.kH=Math.max(m.time.ea(),this.kH);V79=9;break;case 9:b.MKb&&!this.AR&&(r.info(j3M+c+H7M),this.AR=setTimeout(function(){var W79,N7M,A7M;W79=2;while(W79!==4){N7M="ms, since und";N7M+="erfl";N7M+="ow with no";N7M+=" succes";N7M+="s";A7M="Forcing pe";A7M+="rma";A7M+="nent net";A7M+="work failure ";A7M+="after ";switch(W79){case 2:S8ii.r3M(2);r.info(S8ii.y3M(A7M,N7M,c));a.AR=void 0;a.zl.jp(q.rg.ot,!0);W79=4;break;}}},c));V79=8;break;}}};a.prototype.XEa=function(){var O79,J7M;O79=2;while(O79!==1){J7M="C";J7M+="lea";J7M+="red underflow timeout";switch(O79){case 2:this.AR&&(clearTimeout(this.AR),this.AR=void 0,r.info(J7M));O79=1;break;}}};return a;break;}}}();b.isa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=b.ar||(b.ar={});d[d.AUDIO=0]="AUDIO";d[d.VIDEO=1]="VIDEO";},function(d,b,a){var m,r,q,n;function c(a,b,c,d){r.call(this,a,b,c,d);}function g(a,b,c){r.call(this,a,b,c,void 0);}m=a(82);r=a(406).dK;q=a(410);n=a(73).$za;c.prototype=Object.create(r.prototype);g.prototype=Object.create(c.prototype);g.prototype.W6a=function(a,b){return"string"===typeof b?q[b]:b?q.reset[a]||q.nHb[a]:q.nHb[a];};g.prototype.eSa=function(a,b,c,d){return this.Ua(a,b,!1,c,d);};g.prototype.lSa=function(a,b,c,d){return this.Ua(a,b,!0,c,d);};g.prototype.Ua=function(a,b,c,d,g){var h,k,l,n,r,q,p,t,x,u,F,B,M,N;function f(a){k=h[a];l=k.Lq("traf");if(void 0===l||void 0===l.ku)return!1;n=l.Lq("tfdt");if(void 0===n)return!1;r=l.Lq("trun");return void 0===r?!1:!0;}if(!this.parse())return!1;h=this.Sc.moof;if(!h||0===h.length)return!1;if(void 0!==a)for(q=a,a=0;a<h.length;++a){if(!f(a))return!1;if(r.ie>q||c&&r.ie===q)break;q-=r.ie;}else if(a=c?h.length-1:0,!f(a))return!1;if(c&&a<h.length-1){p=h[a+1];this.mg.Pk(this.LUb-p.startOffset,p.startOffset);}else!c&&0<a&&this.mg.Pk(k.startOffset,0);p=l.Lq("tfhd");if(void 0===p)return!1;n=l.Lq("tfdt");t=r.ie;x=l.Lq("saiz");u=l.Lq("saio");F=l.Lq(m.Iva);B=l.Lq("sbgp");if(!(!x&&!u||x&&u))return!1;M=l.Lq("sdtp");if(this.Sc.mdat&&a<this.Sc.mdat.length)N=this.Sc.mdat[a];else if(a!==h.length-1)return!1;void 0===q&&(q=c?r.ie:0);if(r.Ua(l,p,N||this.mg,b,q,l.ku,c))r.UX&&(!c&&n&&n.Ua(r.fHb),x&&u&&(x.Ua(r.II,c),u.Ua(F?0:x.pma,l.ku,c)),F&&F.Ua(r.II,c),M&&M.Ua(r.II,t,c),B&&B.Ua(r.II,c));else if(!c){if(a===h.length-1)return!1;this.mg.Pk(h[a+1].startOffset-k.startOffset,k.startOffset);}else if(0===r.II)return!1;d&&(b=this.W6a(this.stream.profile,g))&&r.IDb(l,p,N,c,d,b);c=this.mg.Ua();d=c.reduce(function(a,b){return a+b.byteLength;},0);c={yg:c,length:d,sC:this.mg.view.byteLength};r.UX&&!N&&(c.oI=l.ku+r.oI,c.Qv=r.Qv);return c;};d.P={Bw:g,VO:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,n("mdat"));return b;}};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(128);a(128);g=a(73);d=function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.mC=this.qM=this.offset=0;}a.prototype.Knb=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Tf=function(a){for(;this.mC<a;)this.qM=(this.qM<<8)+this.ud(),this.mC+=8;this.mC-=a;return this.qM>>>this.mC&(1<<a)-1;};a.prototype.ud=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.ah=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Hb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.Cla=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.Tzb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.kj=function(a,b){a=this.Tzb(a,b);this.offset+=8;return a;};a.prototype.Uzb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.vCb=function(){var a;a=this.Uzb();this.offset+=8;return a;};a.prototype.Jy=function(){return g.hA(this.Hb());};a.prototype.H1=function(){var b,c,d,f,g,k;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.Hb(!0);c=this.ah(!0);d=this.ah(!0);f=this.ah();g=this.ah();k=this.Hb();return[a(b,4),a(c,2),a(d,2),a(f,2),a(g,2)+a(k,4)].join("-");};a.prototype.pCb=function(){var a;a=this.view.byteOffset+this.offset;return this.view.buffer.slice(a,a+16);};a.prototype.oCb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.ud();0!==c&&0<=--a;)b.push(c),c=this.ud();return String.fromCharCode.apply(null,b);};a.prototype.E1=function(a){var b,d;void 0===b&&(b=1);void 0===d&&(d=!0);return this.xe(this.config.fJ&&c.nqb||c.SG,1,a,b,d);};a.prototype.nCb=function(a){var b,d,g;d=10;g=!1;void 0===d&&(d=2);void 0===g&&(g=!0);void 0===b&&(b=!1);return this.xe(this.config.fJ&&c.lqb||c.qZ,2,a,d,g,b);};a.prototype.D1=function(a,b,d){var g;void 0===b&&(b=4);void 0===d&&(d=!0);void 0===g&&(g=!1);return this.xe(this.config.fJ&&c.mqb||c.RG,4,a,b,d,g);};a.prototype.rCb=function(){for(var a=this.ud(),b=a&127;a&128;)a=this.ud(),b=b<<7|a&127;return b;};a.prototype.xe=function(a,b,c,d,f,g){void 0===f&&(f=!0);void 0===g&&(g=!1);a=a(this.view,this.offset,c,d,g);this.offset=f||!d||d===b?this.offset+c*(d||b):this.offset+b;return a;};return a;}();b.d5a=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(129);m=a(409);r=a(73);d=a(862);q=function(){function a(a){a?(this.Jm=a.Jm.slice(),this.yp=a.yp.slice(),this.Yg=a.Yg.slice(),this.trim=a.trim):(this.Jm=[],this.yp=[],this.Yg=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Jm.length&&0===this.yp.length&&0===this.Yg.length;},enumerable:!0,configurable:!0}});return a;}();d=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;b.aHa=[];b.qd=new q();return b;}c.__extends(b,a);b.Xab=function(a,b){if(b.offset+b.size<=a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.RQ?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.RQ?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:g.assert(!b.RQ);a.setUint32(b.offset,Math.floor(b.value/4294967296));a.setUint32(b.offset+4,b.value&4294967295);break;default:g.assert(!1);}};Object.defineProperties(b.prototype,{UX:{get:function(){return!this.qd.empty;},enumerable:!0,configurable:!0}});b.prototype.H3=function(a,b){this.qd.yp.push({offset:void 0!==b?b:this.offset,value:a,size:1});void 0===b&&(this.offset+=1);};b.prototype.WLb=function(a){this.qd.yp.push({offset:!1,value:a,size:2,RQ:!1});};b.prototype.xp=function(a,b){this.qd.yp.push({offset:void 0!==b?b:this.offset,value:a,size:4,RQ:!1});void 0===b&&(this.offset+=4);};b.prototype.XLb=function(a,b){this.qd.yp.push({offset:void 0!==b?b:this.offset,value:a,size:8,RQ:!1});void 0===b&&(this.offset+=8);};b.prototype.lXa=function(a){this.xp(r.$za(a));};b.prototype.Voa=function(a,b){this.qd.Yg.push({offset:this.offset,wn:a,value:b});this.offset+=4;};b.prototype.Pk=function(a,b,c){this.qd.Jm.push({offset:b,remove:a,fb:c});};b.prototype.O1=function(a,b,c,d){this.qd.Jm.push({offset:c,remove:a,replace:b,fb:d});};b.prototype.trim=function(a){this.qd.trim=a;};b.prototype.aCb=function(){this.aHa.push(new q(this.qd));};b.prototype.RAb=function(){this.qd=this.aHa.pop()||new q();};b.prototype.Ua=function(){var a,c,d,g,k,l,n;a=this;if(0===this.qd.Jm.length&&0===this.qd.yp.length&&0===this.qd.Yg.length)return[void 0===this.qd.trim?this.view.buffer:this.view.buffer.slice(0,this.qd.trim)];this.qd.Jm.sort(function(a,b){return a.offset-b.offset;});this.qd.yp.sort(function(a,b){return a.offset-b.offset;});this.fEb();c=this.Llb();d=this.view.buffer.slice(0,c);g=new DataView(d);this.qd.yp.forEach(b.Xab.bind(void 0,g));this.dKb(g);this.cKb(g);k=[];l=void 0!==this.qd.trim?Math.min(this.qd.trim,this.view.byteLength):this.view.byteLength;n=0;this.qd.Jm.filter(function(a){return a.offset<=l;}).forEach(function(b){b.offset>n&&(k.push(g.buffer.slice(n,b.offset)),b.offset>g.byteLength&&g!==a.view&&(g=a.view,k.push(g.buffer.slice(c,b.offset))));b.replace&&k.push(b.replace);n=b.offset+b.remove;});n<c&&k.push(d.slice(n));n<l&&k.push(this.view.buffer.slice(Math.max(d.byteLength,n),l));return k;};b.prototype.Llb=function(){var a,b,c;a=[];b=this.qd.yp[this.qd.yp.length-1];c=this.qd.Yg[this.qd.Yg.length-1];b&&a.push(b.offset+b.size);c&&a.push(c.offset+4);this.qd.Jm.filter(function(a){return a.fb;}).forEach(function(b){return a.push(b.fb.byteOffset+4);});b=Math.max.apply(void 0,a);return void 0!==this.qd.trim?Math.min(b,this.qd.trim):b;};b.prototype.fEb=function(){this.qd.Jm=this.qd.Jm.reduce(function(a,b){var c,d;if(0===a.length)return a.push(b),a;c=a[a.length-1];d=c.offset+c.remove;b.offset>=d?a.push(b):b.offset+b.remove>d&&(g.assert(c.fb===b.fb),c.remove+=b.offset+b.remove-d,b.replace&&(c.replace=c.replace?m.concat(c.replace,b.replace):b.replace));return a;},[]);};b.prototype.dKb=function(a){var b;b=this;this.qd.Yg.forEach(function(c){var d,f,g,h;d=a;f=c.offset;b.qd.Jm.some(function(a){return a.offset<=c.offset&&a.replace&&a.offset+a.replace.byteLength>=c.offset+4?(d=new DataView(a.replace),f=c.offset-a.offset,!0):!1;});g=c.wn+(void 0!==c.value?c.value:d.getInt32(f));h=b.qd.Jm.reduce(function(a,b){return b.offset>c.wn&&b.offset<g?a+(b.remove-(b.replace?b.replace.byteLength:0)):a;},0);d.setInt32(f,g-c.wn-h);});};b.prototype.cKb=function(a){this.qd.Jm.forEach(function(b){var c;c=(b.remove||0)-(b.replace?b.replace.byteLength:0);if(0!==c)for(b=b.fb;b;)a.setUint32(b.byteOffset,a.getUint32(b.byteOffset)-c),b=b.parent;});};return b;}(d.d5a);b.c5a=d;},function(d){d.P=function a(c,d){var g;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,d);Object.getOwnPropertyNames(c).forEach(function(a){g=Object.getOwnPropertyDescriptor(c,a);void 0!==g&&Object.defineProperty(d,a,g);});};},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(864);m=a(409);r=a(129);q=a(236);n=a(27);d=a(412);l=a(411);f=a(408);h=a(128);p=a(237);t=a(82);u=a(407);a=function(){function a(a,b,c,d,f,g){this.console=a;this.stream=b;this.Gq=d;this.rab=f;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=g||{};this.frb=h.Pnb();}a.path=function(a,b){return b.reduce(function(a,b){return a&&a.Sc[b]&&a.Sc[b][0];},a);};a.Kob=function(a){return a&&a.pca&&-1!==a.pca.indexOf("mcl0")?"mcl0":void 0;};a.Rlb=function(a,b){var c;r.assert("mcl0"===a,"Unsupported McClearen brand");c=b.Z;a=c.Kd;b=new q.ha(120,1).Jf(c.T).Cb;for(var d=0,c=c.Zj;d<a.length&&c<b;)c+=a[d++];return d;};a.prototype.parse=function(a){var b;b=this.GEb();if(!b.done){if(b.QOa)return{By:!1,sab:b.QOa};this.console.error("Scan error: "+b.error);return{By:!1,parseError:b.error||"unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+b.offset);this.view=new DataView(b);a=this.tzb(a);return a.done?this.Xeb():(this.console.error("Parse error: "+a.error),{By:!1,parseError:a.error||"unknown mp4 parse error"});};a.prototype.xB=function(a){return n.Xf.xB(this,a);};a.prototype.yB=function(a){return n.Xf.yB(this,a);};a.prototype.GEb=function(){var b,d;b=new u.B0a(this.Gq,this.rab?[t.wT,t.vT]:[],this.config&&this.config.cZb||["moof",t.kva],this.config&&this.config.qQa);d=c.__assign(c.__assign({},this.config),{Dka:!1});return new f.h4(a.sma,b,this.view,this.console,d).parse();};a.prototype.tzb=function(a){var b,d,h;b=new u.qra(this.view.byteLength);d=Object.create(p.HH.Sc);this.config&&((this.config.oQa||this.config.QVa||this.config.I2)&&g(p.HH.qma,d),this.config.ooa&&g(p.HH.AJb,d),this.config.QVa&&g(p.HH.RVa,d));h=c.__assign(c.__assign({},this.config),{Dka:!0});this.mg=new f.h4(d,b,this.view,this.console,h);a=this.mg.parse(a);a.done&&(this.Sc=this.mg.Sc);return a;};a.prototype.Xeb=function(){var b,c,d,f,g,h;b={By:!0};c=a.path(this,["moov"]);d=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.oQa)if(d)b.Qa=d.Qa,b.xYb=d.Sc;else return{By:!1,parseError:"Missing sample descriptions"};f=a.path(d,["encv","sinf","schi"]);f&&(f=a.path(f,["tenc"])||a.path(f,[t.Jva]))&&(b.aY={CUb:f.fs,EMa:f.EMa,DWb:!1});if(f=a.path(c,["trak","mdia","mdhd"]))b.T=f.T;if(f=a.path(c,["mvex","trex"]))b.dG=f&&f.Bd.dG;b.dG&&b.T&&(b.Qa=new q.ha(b.dG,b.T));if(f=a.path(this,["sidx"])){g=a.path(this,[t.wT]);g=g&&g.ewb;h=a.path(this,[t.vT]);h=h&&h.mi;b.Z=f.Z;b.FH=g;b.mi=h;}if(g=this.Sc.vmaf&&this.Sc.vmaf[0])b.gz=g.gz;if(this.config.pEb)if(c)this.trim(c.byteOffset+c.byteLength),this.config.I2&&d&&1<d.Dn&&f&&(b.xi=this.I2(d,f)),void 0===b.xi&&(c=this.mg.UX?m.concat(this.mg.Ua()):this.view.buffer,b.xi=[{CB:0,data:c}]);else return{By:!1,parseError:"Missing movie box"};b.By=!0;b.c1=this.mg.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.mg.trim(a);this.view=new DataView(b);};a.prototype.I2=function(b,c){var d,f,g;d=Object.keys(b.Sc);f=d.filter(function(a){return"encv"!==a;});if(!(2>d.length||f.length===d.length||0===f.length)){d=a.path(this,["ftyp"]);g=a.Kob(d);if(g)return d=[],this.mg.aCb(),b.jSa("encv"),d.push({CB:0,Lj:!1,data:m.concat(this.mg.Ua())}),this.mg.RAb(),b.jSa(f[0]),b=a.Rlb(g,c),d.push({CB:b,Lj:!0,data:m.concat(this.mg.Ua())}),d;}};a.sma={};return a;}();b.Cw=a;a.sma[t.Z6]=d["default"];a.sma[t.a7]=l["default"];},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a,b,c,d,f;this.Uf();a=this.Cs([{joa:"int32"},{uGa:"int32"},{zX:"int32"},{BX:"int32"},{AX:"int32"}]);b=a.joa;c=a.uGa;d=a.zX;f=a.AX;a=a.BX;this.Bd={$a:b,zib:c,dG:d,qGa:f,rGa:a};this.joa=b;this.uGa=c;this.zX=d;this.BX=a;this.AX=f;return!0;};b.Oe="trex";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(82);a=a(27);g=d.Y6;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.Bd=this.Cs([{R0:"int32"},{kN:"int16"}]);return!0;};b.Oe=g;b.jc=!1;return b;}(a.Xf);b["default"]=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(234);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.Q_a=g.Sra.GRa(this.M);return!0;};b.Oe="esds";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.CG=function(){var a;a=this.yB("esds");if(a=a&&a.Q_a.yB(5))this.EY=a.EY;return!0;};b.Oe="mp4a";b.jc=!0;return b;}(a(167)["default"]);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.ud();this.VXa=this.M.ud();this.M.ud();this.M.ud();this.M.ud();this.rUa=this.U$(this.M.ud()&31);this.U$(this.M.ud());this.y1=this.rUa.length?this.rUa[0][0]:this.VXa;this.JBa=this.M.offset;this.startOffset+this.length<this.M.offset&&(100===this.y1||110===this.y1||122===this.y1||144===this.y1)&&(this.M.ud(),this.M.ud(),this.U$(this.M.ud()));a=this.startOffset+this.length-this.JBa;0<a&&this.Pk(a,this.JBa);return!0;};b.prototype.U$=function(a){var d;for(var b=[],c=0;c<a;++c){d=this.M.ah();b.push(this.M.E1(d));}return b;};b.Oe="avcC";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(27);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.aTa=this.M.Jy();g.gb&&this.M.console.trace("SchemeTypeBoxTranslator: "+this.aTa);"cenc"===this.aTa&&(this.M.offset-=4,g.gb&&this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.M.offset),this.bb.lXa("piff"));this.M.Hb();return!0;};b.Oe="schm";b.jc=!1;return b;}(g.Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var b;this.hyb=this.M.ah()&7;this.fIb=[];for(var a=0;a<this.hyb;a++){b={Gmb:this.M.Tf(2),Hcb:this.M.Tf(5),Icb:this.M.Tf(5),D$a:this.M.Tf(3),HWb:this.M.Tf(1),gyb:this.M.Tf(4)};0<b.gyb?b.pUb=this.M.Tf(9):this.M.Tf(1);this.fIb.push(b);}return!0;};b.Oe="dec3";return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Gmb=this.M.Tf(2);this.Hcb=this.M.Tf(5);this.Icb=this.M.Tf(3);this.D$a=this.M.Tf(3);this.M.Tf(1);this.M.Tf(5);this.M.Tf(5);return!0;};b.Oe="dac3";return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(82);m=a(236);r=a(167);d=a(27);q=a(81);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.Dn=this.M.Hb();return!0;};b.prototype.CG=function(a){var b;b=Object.keys(this.Sc);b.length&&(b=b[0],this.Sc[b].length&&(b=this.Sc[b][0],b instanceof r["default"]?this.Qa=new m.ha(b.EY,b.XSa):b instanceof q["default"]&&(b=b.Sc[g.Y6])&&b.length&&(b=b[0].Bd,1E3!==b.kN&&1001!==b.kN||0!==b.R0%1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.R0+"/"+b.kN):this.Qa=new m.ha(b.kN,b.R0)),this.Qa&&(a.Qa=this.Qa)));return!0;};b.prototype.jSa=function(a){void 0!==this.Sc[a]&&0!==this.Sc[a].length&&(this.bb.xp(this.Dn-1,this.byteOffset+12),a=this.Sc[a][0],this.Pk(a.byteLength,a.byteOffset));};b.Oe="stsd";b.jc=!0;return b;}(d.Xf);b["default"]=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(73);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.Bd=this.Cs([{$Xb:"int32"},{KKa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Bd.KKa=g.hA(this.Bd.KKa);return!0;};b.Oe="hdlr";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.M.Jy();this.M.Jy();for(this.pca=[];this.M.offset<=this.byteOffset+this.byteLength-4;)this.pca.push(this.M.Jy());return!0;};b.Oe="ftyp";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Bd=this.Cs([{bUb:"int32"},{ap:"int32"},{Xbb:"int32"}]);return!0;};b.Oe="btrt";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Bd=this.Cs([{kWb:"int32"},{CZb:"int32"}]);return!0;};b.Oe="pasp";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.Bd=this.Cs(1===this.version?[{uIa:"int64"}]:[{uIa:"int32"}]);return!0;};b.Oe="mehd";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.Uf();a=1===this.version?[{Hh:"int64"},{modificationTime:"int64"},{$a:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Hh:"int32"},{modificationTime:"int32"},{$a:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{iub:"int16"},{Iab:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Bd=this.Cs(a);this.Bd.jZb=!!(this.hf&1);this.Bd.kZb=!!(this.hf&2);this.Bd.lZb=!!(this.hf&4);this.Bd.mZb=!!(this.hf&8);this.M.console.trace("Finished parsing track box");return!0;};b.Oe="tkhd";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Oe="trak";b.jc=!0;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.Bd=1===this.version?this.Cs([{Hh:"int64"},{modificationTime:"int64"},{T:"int32"},{duration:"int64"}]):this.Cs([{Hh:"int32"},{modificationTime:"int32"},{T:"int32"},{duration:"int32"}]);return!0;};b.Oe="mvhd";b.jc=!1;return b;}(a(27).Xf);b["default"]=d;},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.qya=b.E4a=void 0;c=a(0);g=a(93);m=a(5);d=a(4);r=a(405);a=a(416);q=new d.Console("FRAGMENTS","media|asejs");try{n=!0;}catch(f){n=!1;}l=function(a){function b(b,c){c=a.call(this,b.Pm,c)||this;c.BA=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{aa:{get:function(){return this.BA.dHb(this.xj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.BA.Yg(this.xj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ija:{get:function(){return this.BA.FH&&this.BA.FH[this.xj];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mi:{get:function(){return this.BA.Tmb(this.xj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ub:{get:function(){return this.BA.gz&&this.BA.gz[this.xj];},enumerable:!1,configurable:!0}});b.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.Ta,contentEndTicks:this.hb,durationTicks:this.Jo,timescale:this.T,startPts:this.S,endPts:this.oa,duration:this.duration,additionalSAPs:this.mi};};return b;}(a.Uya);b.E4a=l;d=function(){function a(a,b,c,d,f,g){this.bF=128;this.gc=a;this.Qd=b.offset;this.qn=b.sizes;this.BE=this.UK=this.Rg=this.nCa=this.gaa=void 0;this.V7a=c;this.v9=d&&d.Yg;this.xCa=f;this.ax=Math.min(this.gc.length,this.qn.length);this.I7a=this.gdb();this.Pm.no.length!==this.qn.length&&q.error("Mis-matched stream duration ("+this.Pm.no.length+","+this.qn.length+") for movie id "+g);this.Pm.qW&&!this.v9&&q.error("Mis-matched additional SAPs information for movie id "+g);}a.DUb=function(a,b){var c,d;b=b.T;c=b/1E3;d=new DataView(a);a=Math.floor(a.byteLength/16);return{T:b,Zj:d.getUint32(4)*c,offset:65536*d.getUint32(8)+d.getUint16(12),sizes:g.s_a.RG(d,0,a,16),Kd:g.b9.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{L:{get:function(){return this.gc.L;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.ax;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zj:{get:function(){return this.gc.Zj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bea:{get:function(){return this.gc.bea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.gc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oa:{get:function(){return this.gc.oa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bja:{get:function(){return this.gc.bja;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{c0:{get:function(){return this.I7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qa:{get:function(){return this.gc.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.gc.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vh:{get:function(){return this.nCa||this.H9();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FH:{get:function(){return this.V7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SCa:{get:function(){return this.v9;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gz:{get:function(){return this.xCa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pm:{get:function(){return this.gc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{HI:{get:function(){return this.gaa||this.g6a();},enumerable:!1,configurable:!0}});a.prototype.dHb=function(a){if(this.qn)return this.qn[a];q.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.Sh=function(a){return this.gc.Sh(a);};a.prototype.cea=function(a){return this.gc.Sh(a)+this.gc.Kd(a);};a.prototype.Yg=function(a){if(this.UK!==a||void 0===this.BE){if(0===a)return this.Qd;if(this.UK===a-1&&void 0!==this.BE)this.BE+=this.qn[this.UK],++this.UK;else{for(var b=this.Rg||this.R5a(),c=Math.floor(a/this.bF),d=c*this.bF,b=b[c];d<a;++d)b+=this.qn[d];this.UK=a;this.BE=b;}}return this.BE;};a.prototype.Kd=function(a){return this.gc.Kd(a);};a.prototype.get=function(a){return new l(this,a);};a.prototype.Tmb=function(a){var b,c,d;m.assert(0<=a);b=this.Pm.qW;c=this.Pm.TCa;d=this.v9;if(!d||!b||!c||a>=b.length)return[];for(var f=[],g=a===b.length-1?c.length:b[a+1],b=b[a];b<g;++b)f.push({Gm:c[b],Vc:this.Sh(a)+this.Qa.A0(c[b]).va,offset:d[b]});return f;};a.prototype.yGb=function(a){this.xCa=a;};a.prototype.jm=function(a,b,c){return this.gc.jm(a,b,c);};a.prototype.pY=function(a,b,c){return this.gc.pY(a,b,c);};a.prototype.Gca=function(a,b){return this.gc.Gca(a,b);};a.prototype.Mha=function(a,b,c){var d,f,g,h,k,l,n,m,q;d=!0;f=0;h=this.gc.no;k=this.qn;l=Math.floor(a*this.T/1E3);n=0;m=0;q=0;if(this.gc.zoa&&this.gc.yoa)for(f=this.gc.zoa;f<=this.gc.yoa;++f)n+=h[f],m+=k[f];if(m>b)d=!1;else for(;f<this.length&&(!c||f<c);){g=k[f];a=h[f];if(m+g>b&&n<l){d=!1;this.gc.zoa=q;this.gc.yoa=f;break;}for(;0<f-q&&m+g>b;)n-=h[q],m-=k[q],++q;n+=a;m+=g;++f;}return d;};a.prototype.subarray=function(b,c){m.assert(void 0===b||0<=b&&b<this.length);m.assert(void 0===c||c>b&&c<=this.length);return new a(this.gc.subarray(b,c),{offset:this.Yg(b),sizes:this.qn.subarray(b,c)},this.FH&&this.FH.subarray(b,c),this.SCa&&{Yg:this.SCa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length};};a.prototype.dump=function(){var b;q.trace("StreamFragments: "+this.length);for(var a=0;a<this.length;++a){b=this.get(a);q.trace("StreamFragments: "+a+": ["+b.S+"-"+b.oa+"] @ "+b.offset+", "+b.aa+" bytes");}};a.prototype.gdb=function(){var a,b,c,d,f;b=0;c=this.gc.RNa;d=this.gc.no;f=this.qn;if(void 0===c||c>=this.length){for(var g=0;g<this.length;++g)a=f[g]/d[g],a>b&&(b=a,c=g);void 0===this.gc.RNa&&(this.gc.RNa=c);}else b=f[c]/d[c];return Math.floor(b*this.T/125);};a.prototype.H9=function(){for(var a=0,b=0;b<this.length;++b)a+=this.qn[b];return this.nCa=a;};a.prototype.g6a=function(){return this.gaa=new r.C8(this.gc.no,this.qn,this.gc.T);};a.prototype.R5a=function(){var a;if(!this.Rg){a=n?new Float64Array(Math.ceil(this.length/this.bF)):Array(Math.ceil(this.length/this.bF));for(var b=this.Qd,c=0;c<a.length;++c){a[c]=b;for(var d=0;d<this.bF;++d)b+=this.qn[c*this.bF+d];}this.Rg=a;}return this.Rg;};return a;}();b.qya=d;d.prototype.yUa=a.TO(d.prototype.Sh);},function(d,b,a){var g,m,r,q,n,l;function c(a,b){var c,d;c=Math.floor(1E3*a/b);d=1E3*Math.round(c/1E3);return new m.ha(d,Math.abs(Math.floor(1001*a/b)-d)>Math.abs(c-d)?1E3:1001);}Object.defineProperty(b,"__esModule",{value:!0});b.Lpa=void 0;g=a(416);m=a(28);r=a(5);q=a(11);n=a(238);l=a(415);d=function(){function a(b,d,f){this.I=d;this.u=f;this.Ww=new q.eya();this.JAa=!1;this.A$=b.aC;this.Yc=b.O;this.pe=b.L;this.b$a=b.tR;this.m5a=b.IA;1===this.pe&&(d=this.A$.streams[0],void 0!==d.framerate_value&&void 0!==d.framerate_scale&&(this.z$=c(d.framerate_value,d.framerate_scale).WRa()));this.Yl=(this.OE=this.z$)&&this.OE.T;this.k$=this.nAa=!1;this.Sga=-Infinity;this.qNa=Infinity;b=a.h6a(this,b.Cf);d=b.ap;f=b.Nc;this.h7a=b.HZ;this.H7a=d;this.Vt=f;this.V9a=f.reduce(function(a,b){a[b.ta]=b;return a;},{});!1;}a.h6a=function(a,b){var c,d,f,g,h;c=a.I;d=1===a.L;f=!1;g=0;h=[];a.aC.streams.forEach(function(k,n){var m,q,r;q=k.bitrate;r=!0;d&&(m=-1===k.content_profile.indexOf("none"),r=b&&!m||!b&&m,f=f||m);r&&q>g&&(g=q);k=new l.Jpa({$B:k,Gg:n,track:a,Xu:r},c,a.u);h.push(k);});return{HZ:f,ap:g,Nc:h};};Object.defineProperties(a.prototype,{rxb:{get:function(){return!this.Vd&&!this.JAa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vd:{get:function(){return!!this.Pm&&!!this.Ww.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lda:{get:function(){return this.nAa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{G:{get:function(){return String(this.Yc.G);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$a:{get:function(){return this.A$.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{L:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qa:{get:function(){return this.OE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Yl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{GH:{get:function(){return this.X7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pm:{get:function(){return this.gc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tO:{get:function(){return this.Ww.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aC:{get:function(){return this.A$;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tR:{get:function(){return this.b$a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IA:{get:function(){return this.m5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{HZ:{get:function(){return this.h7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ap:{get:function(){return this.H7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nc:{get:function(){return this.Vt;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bfa:{get:function(){return this.Qa.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{afa:{get:function(){return this.Qa.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mea:{get:function(){return this.Ww;},enumerable:!1,configurable:!0}});a.prototype.Yr=function(a){return this.QG()[a];};a.prototype.QG=function(){return this.V9a;};a.prototype.equals=function(a){return this.G===a.G&&this.L===a.L&&this.$a===a.$a;};a.prototype.oka=function(){this.JAa=!0;};a.prototype.T0=function(a,b,c,d,f){if(d&&void 0!==d.Zj&&(this.Vd||void 0!==d.Kd&&d.Kd.length))if(a.$u&&(this.nAa=!0),this.Vd)!this.k$&&d.Kd&&d.Kd.length>this.Pm.length&&(this.gc=new g.T8(this.L,this.Qa,d,f),this.Ww.ESa(),this.Sga=-Infinity,this.k$=!0);else{this.bCa(b);if(c=c||this.z$)this.aCa(c||this.z$),void 0===this.T&&this.cCa(c.T);this.gc=new g.T8(this.L,this.Qa,d,f);a.$u&&(this.k$=!0);}else this.u&&this.u.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.Iyb=function(a){void 0===this.Ww.value&&this.Ww.set(a);};a.prototype.hfb=function(a){this.Vd||(this.cCa(a.T),this.bCa(a.GH),this.aCa(a.Qa),this.gc=a.Pm,a.Mea.value?this.Ww.set(a.Mea.value):this.Ww.ESa());};a.prototype.Lo=function(a,b,c,d){r.assert(this.tO);return n.Lo(this.L,a,this.tO,b,c,d);};a.prototype.zB=function(a,b,c){r.assert(this.tO);return n.zB(this.L,a,this.tO,b,c);};a.prototype.toJSON=function(){return{movieId:this.G,mediaType:this.L,trackId:this.$a};};a.prototype.toString=function(){return(0===this.L?"a":"v")+":"+this.$a;};a.prototype.cCa=function(a){this.Yl=a;};a.prototype.bCa=function(a){this.X7a=a;};a.prototype.aCa=function(a){this.OE=a;};return a;}();b.Lpa=d;},function(d){function b(a,b){this.Da=a;this.Bh=b;}b.prototype.ala=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,d=Math.sqrt(-2*Math.log(b/2)),d=-.70711*((2.30753+.27061*d)/(1+d*(.99229+.04481*d))-d),g=0;2>g;g++)var r=Math.abs(d),q=1/(1+r/2),r=q*Math.exp(-r*r-1.26551223+q*(1.00002368+q*(.37409196+q*(.09678418+q*(-.18628806+q*(.27886807+q*(-1.13520398+q*(1.48851587+q*(-.82215223+.17087277*q))))))))),r=(0<=d?r:2-r)-b,d=d+r/(1.1283791670955126*Math.exp(-(d*d))-d*r);a=1>a?d:-d;}return this.Da-Math.sqrt(2*this.Bh)*a;};d.P=b;},function(d,b,a){var g;function c(a){this.wI=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.wI[b]=a.charCodeAt(b);}g=new(a(4)).Console("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var b,c;b=this.wI.length;if(void 0===this.wI)g.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var d=0;d<a.length;++d)c+=String.fromCharCode(this.wI[d%b]^a.charCodeAt(d));return encodeURIComponent(c);}};c.prototype.decrypt=function(a){var b,c;b="";c=this.wI.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.wI[d%c]^a.charCodeAt(d));return b;};d.P=c;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.fya=b.eya=void 0;c=a(48);d=function(){function a(a){this.o=a;this.listeners=[];this.zP=[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.set=function(a){var b;this.o=a;b=this.zP;this.zP=[];this.listeners.forEach(function(b){return b(a);});b.forEach(function(b){return b(a);});};a.prototype.ESa=function(){this.o=void 0;};a.prototype.on=function(a){this.listeners=this.listeners.concat([a]);void 0!==this.o&&a(this.o);};a.prototype.once=function(a){void 0!==this.o?a(this.o):this.zP.push(a);};a.prototype.PH=function(a){this.listeners=this.listeners.filter(function(b){return b!==a;});this.zP=this.zP.filter(function(b){return b!==a;});};return a;}();b.eya=d;d=function(){function a(){this.listeners=[];}a.prototype.on=function(a,b){this.listeners.push({E2:a,listener:b});a.on(b);};a.prototype.once=function(a,b){var c,d;c=this;if(void 0===a.value){d=function(d){c.remove(a,b);b(d);};this.listeners.push({E2:a,listener:b,kXa:d});a.once(d);}else a.once(b);};a.prototype.PH=function(a,b){var d,g;g=c.zo(this.listeners,function(c){return c.E2===a&&c.listener===b;});void 0!==g&&a.PH(null!==(d=g.kXa)&&void 0!==d?d:g.listener);this.remove(a,b);};a.prototype.removeAllListeners=function(){this.listeners.forEach(function(a){var b,c;b=a.listener;c=a.kXa;return a.E2.PH(null!==c&&void 0!==c?c:b);});this.listeners=[];};a.prototype.remove=function(a,b){this.listeners=this.listeners.filter(function(c){return c.E2!==a||c.listener!==b;});};return a;}();b.fya=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ha=void 0;b.$Ha=function(a,b){return a.filter(function(a){var c,d;a=null!==(d=null!==(c=a.Kv)&&void 0!==c?c:a.sha)&&void 0!==d?d:a.Km;return!!a&&a.YB(b);}).pop();};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.jva=void 0;c=a(48);g=a(5);d=function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b+a.data[c].length;},0);},enumerable:!1,configurable:!0}});a.prototype.get=function(a){var b;return null!==(b=this.data[a])&&void 0!==b?b:[];};a.prototype.has=function(a,b){return(a=this.data[a])?void 0===b?!0:-1!==a.indexOf(b):!1;};a.prototype.count=function(a){return(a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.Tr(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a]||(this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,d;c=this.data[a];if(void 0===c)return!1;if(void 0===b)return g.assert(1===arguments.length),delete this.data[a],!0;d=c.indexOf(b);if(-1===d)return!1;1===c.length?delete this.data[a]:c.splice(d,1);return!0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0!==b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(d){return a(d,b,c);});});};a.prototype.reduce=function(a,b,c){var d,f;d=this;a=void 0!==c?a.bind(c):a;f=b;this.forEach(function(b,c){f=a(f,b,c,d);});return f;};a.prototype.map=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Tr(this.keys().map(function(b){return d.data[b].map(function(c){return a(c,b,d);});}));};a.prototype.filter=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Tr(this.keys().map(function(b){return d.data[b].filter(function(c){return a(c,b,d);});}));};return a;}();b.jva=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kK=b.W3a=void 0;c=a(0);d=function(){function a(a,b){this.o=a;this.Ru=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.addListener=function(a){-1===this.Ru.indexOf(a)&&(this.Ru=this.Ru.slice(),this.Ru.push(a));};a.prototype.removeListener=function(a){a=this.Ru.indexOf(a);-1!==a&&(this.Ru=this.Ru.slice(),this.Ru.splice(a,1));};return a;}();b.W3a=d;d=function(a){function b(b,c){return a.call(this,b,c)||this;}c.__extends(b,a);Object.defineProperties(b.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!1,configurable:!0}});b.prototype.set=function(a){var b,c;b=this.o;c=this.Ru;this.o=a;c.forEach(function(c){return c({oldValue:b,newValue:a});});};return b;}(d);b.kK=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.cya=void 0;c=a(11);d=a(4);g=d.hk;new d.Console("ASEJS_SIDECHANNEL","media|asejs");d=function(){function a(a,b,d){this.xm=d;this.w$a=new c.wza(a);this.v$a=b.ia;this.K5a=1E3*b.dwb/b.Jcb;this.u6a=b.Jx;this.gA=b.jca;}a.prototype.An=function(a){var b,d,g,f;b={s_xid:this.v$a,dl:this.u6a?1:0};a.uM&&(b.bs=c.UW(Math.floor(a.uM/this.K5a)+1,1,5));a.M0&&(b.limit_rate=a.M0);a.$Da&&(b.bb_reason=a.$Da);a.xVa&&(b.tm=a.xVa);if(a.gX){d=0;g=0;f=0;a.uM&&a.uM>this.gA.kP&&(this.gA.aQ[0]&&(d=this.gA.aQ[0]*a.gX),this.gA.aQ[1]&&(g=this.gA.aQ[1]*a.gX),this.gA.aQ[2]&&(f=this.gA.aQ[2]*a.gX));b.cpr_ss=d;b.cpr_ca=g;b.cpr_rec=f;}return this.C8a(b);};a.prototype.Kma=function(a,b){var c,d;try{c=new g(void 0,"notification");d=this.An({$Da:a});b&&d&&c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(f){this.xm("SideChannel: Error when sending sendBlackBoxNotification. Error: "+f);}};a.prototype.C8a=function(a){var b;try{b=this.I9a(a);return this.w$a.encrypt(b);}catch(n){this.xm("SideChannel: Error when obfuscating msg. Error: "+n);}};a.prototype.I9a=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();b.cya=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.mpa=void 0;c=a(0);g=a(16);m=a(418);r=a(239);q=a(840);n=a(224);l=a(838);f=a(829);h=a(777);p=a(157);t=a(379);u=a(48);E=a(5);d=function(){function a(a){this.u=a;this.events=new g.EventEmitter();this.ae=m.Xs.CLOSED;this.FA=[];this.AL=[];this.ex=[];this.eCa={};}Object.defineProperties(a.prototype,{state:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{BLb:{get:function(){return this.FA;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JAb:{get:function(){return this.AL;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{NAb:{get:function(){return this.ex;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yb:{get:function(){this.jD();return this.xu.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wm:{get:function(){this.jD();return this.xu.wm;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Df:{get:function(){this.jD();return this.xu.Df;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jUa:{get:function(){return this.eCa;},enumerable:!1,configurable:!0}});a.prototype.open=function(a,b){if(this.ae===m.Xs.OPEN)return!1;this.a7a=new q.Fsa(this.u,a);this.iF=new h.Cxa(this.Wha.bind(this),a);this.xu=n.DD.VJa(a,b);this.ae=m.Xs.OPEN;return!0;};a.prototype.jab=function(a,b){this.jD();b=Object.create(b,{H2:{value:this.jUa}});a=new f.Gpa(this.u,a,100,b,this.Oo.bind(this),this.iF.GM.bind(this.iF));this.ex.push(a);return a;};a.prototype.iSa=function(a){this.ex=this.ex.filter(function(b){return b!==a;});a.ad();};a.prototype.hab=function(a){var b;this.jD();a=new l.Fpa(a,[0,1],{H2:null!==(b=this.jUa)&&void 0!==b?b:{}});this.AL.push(a);return a;};a.prototype.hSa=function(a){this.jD();this.AL=this.AL.filter(function(b){return b!==a;});a.ad();};a.prototype.qab=function(a,b,d,f){var l,n,m;function g(a){return m[a];}function h(){}function k(a){l.events.emit("logdata",a);}l=this;this.jD();n=p.Bp.Qf.fB("headers",""+a,!1,!1,{},f);n.Ab();m=[new t.S6(0),new t.S6(1)];a={na:a,ya:b,config:f,QQ:f.qB?c.__assign(c.__assign({},d.QQ),{xm:h,gq:g}):void 0,jb:function(){return!0;},Yi:d.Yi,LN:void 0,yb:this.xu.yb,Df:this.xu.Df,jea:{eH:function(){return!0;},$r:h,Eg:this.Eg.bind(this,a),mm:this.mm.bind(this,a),El:k},Lga:{El:k,jZ:function(){return n;},gq:g,m_:function(){return!0;},Re:void 0,Lc:void 0,fg:void 0,gy:void 0},OC:{xF:this.iF.xF.bind(this.iF),M1:this.iF.M1.bind(this.iF)},Ya:0,Lk:void 0,jja:{p_:!1,Kha:!1},Dr:[],LH:h};a=new r.$R(a);this.FA.push(a);};a.prototype.DTa=function(a){this.eCa=a;};a.prototype.Oo=function(a){var b;b=u.zo(this.FA,function(b){return b.na===a;});if(b)return b;};a.prototype.close=function(){this.ae!==m.Xs.CLOSED&&(this.nDb(),this.mDb(),this.lDb(),delete this.xu,this.ae=m.Xs.CLOSED);};a.prototype.mSa=function(a){E.assert(!a.Kla.px,"Viewable has outstanding leases");this.FA=this.FA.filter(function(b){return b!==a;});a.ad();};a.prototype.Wha=function(){var a;E.assert(this.state===m.Xs.OPEN);a=this.bO();return this.a7a.Uyb(a);};a.prototype.bO=function(){var a,b;a=this.ex.map(function(a){return a.bO();});b=this.FA.map(function(a){return a.bO();});return u.Tr(c.__spread(a,b));};a.prototype.jD=function(){if(this.ae===m.Xs.CLOSED)throw Error("Engine CLOSED");};a.prototype.nDb=function(){var a,b;try{for(var d=c.__values(this.FA),f=d.next();!f.done;f=d.next())this.mSa(f.value);}catch(V){a={error:V};}finally{try{f&&!f.done&&(b=d["return"])&&b.call(d);}finally{if(a)throw a.error;}}};a.prototype.mDb=function(){var a,b;try{for(var d=c.__values(this.ex),f=d.next();!f.done;f=d.next())this.iSa(f.value);}catch(V){a={error:V};}finally{try{f&&!f.done&&(b=d["return"])&&b.call(d);}finally{if(a)throw a.error;}}};a.prototype.lDb=function(){var a,b;try{for(var d=c.__values(this.AL),f=d.next();!f.done;f=d.next())this.hSa(f.value);}catch(V){a={error:V};}finally{try{f&&!f.done&&(b=d["return"])&&b.call(d);}finally{if(a)throw a.error;}}};a.prototype.Eg=function(a,b,c,d,f,g){this.ex.forEach(function(h){return h.Eg(b,a,c,d,f,g);});};a.prototype.mm=function(){return this.ex.some(function(a){return a.mm();});};return a;}();b.mpa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.construct=void 0;c=a(892);g=a(4);b.construct=function(){var a;a=new g.Console("ASEJS","media|asejs");return new c.mpa(a);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(893);Object.defineProperty(b,"construct",{enumerable:!0,get:function(){return c.construct;}});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(894),b);d.__exportStar(a(418),b);d.__exportStar(a(776),b);d.__exportStar(a(219),b);d.__exportStar(a(775),b);d.__exportStar(a(774),b);d.__exportStar(a(773),b);d.__exportStar(a(772),b);d.__exportStar(a(771),b);},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.B8=void 0;c=a(0);d=a(16);g=a(4);m=a(895);r=a(11);q=a(5);n=a(770);l=a(763);f=new g.Console("ASEJS","media|asejs");f.trace.bind(f);d=function(b){var W7M;W7M=2;function d(c,d){var l7M,g;l7M=2;while(l7M!==13){var Y7M="1SIYbZr";Y7M+="NJCp";Y7M+="9";var d7M="DE";d7M+="B";d7M+="U";d7M+="G";d7M+=":";var U7M="nf-ase";U7M+=" shim versio";U7M+="n:";switch(l7M){case 4:g.$v=d;c=a(376);g.console=f;g.console.trace(U7M,c,d7M,!1);l7M=7;break;case 2:g=b.call(this)||this;g.config=c;l7M=4;break;case 7:g.df=m.construct();Y7M;return g;break;}}}while(W7M!==20){var S7M="s";S7M+="0";switch(W7M){case 7:d.prototype.Bn=function(a,b,c,f,g,h,k,l,m,q){var h7M,p;h7M=2;while(h7M!==14){var i7M="cre";i7M+="ating s";i7M+="ession";switch(h7M){case 2:this.console.trace(i7M);this.df.yb.reset();h7M=4;break;case 7:m=this.df.Oo(m).Kla.add();return this.N_=new n.bya(this.console,this,a,p,b,c,f,g,h,k,q,l,m);break;case 4:m=a.movieId;q=q||d.Aib;p=this.zhb(a,l,g,q,f);c={Ma:q,offset:r.ha.ue(c)};h7M=7;break;}}};d.prototype.zhb=function(a,b,c,d,f){var t7M,g;t7M=2;while(t7M!==9){switch(t7M){case 2:g=Number(a.movieId);this.df.Oo(g)||this.df.qab(g,a,{Yi:!!f.Yi,QQ:{tC:c.tC,ia:c.ia,Jx:c.Jx}},b);a=a.choiceMap?l.PEa(a.choiceMap):l.hUa(g,d);return this.df.jab(a,b);break;}}};d.prototype.leb=function(){var c7M;c7M=2;while(c7M!==1){switch(c7M){case 4:this.yb.JQ(1);c7M=9;break;c7M=1;break;case 2:this.yb.JQ(null);c7M=1;break;}}};W7M=13;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{yb:{get:function(){var g7M;g7M=2;while(g7M!==1){switch(g7M){case 2:return this.df.yb;break;case 4:return this.df.yb;break;g7M=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wm:{get:function(){var w7M;w7M=2;while(w7M!==1){switch(w7M){case 4:return this.df.wm;break;w7M=1;break;case 2:return this.df.wm;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Df:{get:function(){var L7M;L7M=2;while(L7M!==1){switch(L7M){case 2:return this.df.Df;break;case 4:return this.df.Df;break;L7M=1;break;}}},enumerable:!1,configurable:!0}});d.prototype.Ab=function(a,b,c,d,f){var Q7M;Q7M=2;while(Q7M!==5){switch(Q7M){case 2:this.df.DTa({va:d,aa:f});Q7M=1;break;case 1:this.df.open(this.config,this.$v);Q7M=5;break;}}};d.prototype.LQ=function(a,b,c){var f7M;f7M=2;while(f7M!==1){switch(f7M){case 2:this.df.DTa({va:b,aa:c});f7M=1;break;}}};d.prototype.j1=function(){};W7M=7;break;case 10:return d;break;case 13:d.prototype.yDb=function(a){var K7M,b;K7M=2;while(K7M!==6){switch(K7M){case 4:this.df.hSa(a.Of);b=this.df.Oo(a.G);q.assert(b);b.Kla.px||this.df.mSa(b);K7M=7;break;case 2:this.leb();this.df.iSa(a.rb);K7M=4;break;case 7:a===this.N_&&delete this.N_;K7M=6;break;}}};d.prototype.ad=function(){var q7M;q7M=2;while(q7M!==9){var m7M="Attempt ";m7M+="to destruct ShimManager with latest se";m7M+="ssion still defi";m7M+="ned";var M7M="Attempted to destruc";M7M+="t ShimManag";M7M+="er ";M7M+="with viewables present ";M7M+="in ASE";var x7M="Attempted to ";x7M+="destruct ShimManager wi";x7M+="th players present in ASE";var F7M="Attempted to destruct";F7M+=" ";F7M+="ShimManager with";F7M+=" playgraphs present in ASE";switch(q7M){case 2:q.assert(0===this.df.NAb.length,F7M);q.assert(0===this.df.JAb.length,x7M);q.assert(0===this.df.BLb.length,M7M);q7M=4;break;case 4:q.assert(void 0===this.N_,m7M);this.df.close();q7M=9;break;}}};d.Aib=S7M;W7M=10;break;}}}(d.EventEmitter);b.B8=d;},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,d,g,r){g=r?g.bind(r):g;if(a){this.console&&(g=b.bind(null,this.console,g,d));if("function"===typeof a.addListener)a.addListener(d,g);else if("function"===typeof a.addEventListener)a.addEventListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.P=a;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Aua=void 0;c=a(0);g=a(16);m=a(896);r=a(762);q=a(224);d=new(a(4)).Console("ASEJS","media|asejs");d.trace.bind(d);n=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];d=function(a){function b(b,c){var d;d=a.call(this)||this;d.I=b;d.Fb=new r.Sta(b,c);b.ZX&&(d.Qk=new m.B8(b,c));d.Vg=new g.Oi();n.forEach(function(a){d.Vg.on(d.Fb,a,function(b){return d.emit(a,b);});d.Qk&&d.Vg.on(d.Qk,a,function(b){return d.emit(a,b);});});return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{yb:{get:function(){return this.Fb.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wm:{get:function(){return this.Fb.wm;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rp:{get:function(){return this.Fb.rp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ty:{get:function(){return this.Fb.Ty;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rha:{get:function(){return this.Fb.Rha;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ZC:{get:function(){return this.Fb.ZC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Re:{get:function(){return this.Fb.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Df:{get:function(){return this.Fb.Df;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bha:{get:function(){return this.Fb.bha;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{j1:{get:function(){return this.Fb.j1.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{QO:{get:function(){return this.Fb.QO.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hia:{get:function(){return this.Fb.Hia.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RTa:{get:function(){return this.Fb.RTa.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NY:{get:function(){return this.Fb.NY.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gKa:{get:function(){return this.Fb.gKa.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jv:{get:function(){return this.Fb.jv.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{UEa:{get:function(){return this.Fb.UEa.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{o3:{get:function(){return this.Fb.o3.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{KW:{get:function(){return this.Fb.KW.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{CM:{get:function(){return this.Fb.CM.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lba:{get:function(){return this.Fb.Lba.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{DM:{get:function(){return this.Fb.DM.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{AM:{get:function(){return this.Fb.AM.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qEa:{get:function(){return this.Fb.qEa.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pEa:{get:function(){return this.Fb.pEa.bind(this.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zTa:{get:function(){return this.Fb.zTa.bind(this.Fb);},enumerable:!1,configurable:!0}});b.prototype.Ab=function(a,b,c,d,f,g){this.Fb.Ab(a,b,c,d,f,g);this.Qk?this.Qk.Ab(a,b,c,d,f,g):this.JMa={Cbb:a,tLb:b,Thb:c,Ty:d,ZC:f,mwb:g};};b.prototype.LQ=function(a,b,c){this.Fb.LQ(a,b,c);this.Qk?this.Qk.LQ(a,b,c):this.MMa={QHb:a,Ty:b,ZC:c};};b.prototype.Bn=function(a,b,c,d,f,g,k,l,q,r){var h,p,t,u;h=this;if(this.Fb.config.ZX&&!this.Qk){this.Qk=new m.B8(this.Fb.config,this.Fb.$v);n.forEach(function(a){h.Vg.on(h.Qk,a,function(b){return h.emit(a,b);});});if(this.JMa){p=this.JMa;t=p.Ty;u=p.ZC;this.Qk.Ab(p.Cbb,p.tLb,p.Thb,t,u,p.mwb);}this.MMa&&(u=this.MMa,p=u.QHb,t=u.Ty,u=u.ZC,this.Qk.LQ(p,t,u));}return this.Qk&&l.uD?this.Qk.Bn(a,b,c,d,f,g,k,l,q,r):this.Fb.Bn(a,b,c,d,f,g,k,l,q,r);};b.prototype.addEventListener=function(a,b){this.addListener(a,b);return!0;};b.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return!0;};b.prototype.ad=function(){var a;this.Vg.clear();this.Fb.ad();null===(a=this.Qk)||void 0===a?void 0:a.ad();q.DD.reset();};return b;}(g.EventEmitter);b.Aua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(905),b);d.__exportStar(a(904),b);d.__exportStar(a(903),b);d.__exportStar(a(902),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.pa=void 0;d=a||(a={});d[d.Mg=0]="STARTING";d[d.Dd=1]="BUFFERING";d[d.Ze=2]="REBUFFERING";d[d.Pc=3]="PLAYING";d[d.qE=4]="STOPPING";d[d.Rl=5]="STOPPED";d[d.Ri=6]="PAUSED";b.pa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(928),b);d.__exportStar(a(927),b);d.__exportStar(a(926),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ld=b.ULa=void 0;(function(a){a[a.Rl=0]="STOPPED";a[a.Dd=1]="BUFFERING";a[a.Ze=2]="REBUFFERING";a[a.yK=3]="STREAMING";}(a||(a={})));b.ld=a;b.ULa=function(b){return b===a.Dd||b===a.Ze;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Bua=void 0;c=a(0);g=a(1);m=a(257);d=function(){var b;function a(a){this.Okb=a;this.Cvb={Nr:"drmType",iVb:"drmVersion",qea:"expiration",BWb:"isUsingLegacyBatchingAPI",tx:"bookmark",G:"movieId",Ik:"packageId",duration:"duration",ng:"playbackContextId",sGa:["defaultTrackOrderList",{uH:"mediaId",FZb:"videoTrackId",gIb:"subtitleTrackId",PA:"audioTrackId",aYb:"preferenceOrder"}],xk:"drmContextId",arb:"hasDrmProfile",Zqb:"hasClearProfile",IZ:"hasDrmStreams",$qb:"hasClearStreams",qm:["locations",{Sf:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Iq:["servers",{id:"id",name:"name",type:"type",Sf:"rank",rNa:"lowgrade",wjb:["dns",{host:"host",Bsb:"ipv4",Csb:"ipv6",omb:"forceLookup"}],key:"key"}],LDa:["audio_tracks",{type:"type",Qm:"trackType",vq:"new_track_id",koa:"track_id",NBb:"profileType",AHb:"stereo",profile:"profile",Do:"channels",language:"language",Ldb:"channelsFormat",uIb:"surroundFormatLabel",E_:"languageDescription",cVb:"disallowedSubtitleTracks",RUb:"defaultTimedText",isNative:"isNative",ec:["streams",{Hda:"downloadable_id",size:"size",OM:"content_profile",Qm:"trackType",R:"bitrate",$u:"isDrm",le:["urls",{BEa:"cdn_id",url:"url"}],zxb:"new_stream_id",type:"type",Do:"channels",Ldb:"channelsFormat",uIb:"surroundFormatLabel",language:"language",LTb:"audioKey"}],web:"codecName",bQ:"rawTrackType",id:"id"}],hw:["video_tracks",{Qm:"trackType",vq:"new_track_id",type:"type",koa:"track_id",arb:"hasDrmProfile",Zqb:"hasClearProfile",IZ:"hasDrmStreams",$qb:"hasClearStreams",ec:["streams",{Hda:"downloadable_id",size:"size",OM:"content_profile",Qm:"trackType",R:"bitrate",$u:"isDrm",le:["urls",{BEa:"cdn_id",url:"url"}],zxb:"new_stream_id",type:"type",TXb:"peakBitrate",jjb:"dimensionsCount",kjb:"dimensionsLabel",jAb:"pix_w",iAb:"pix_h",ZDb:"res_w",YDb:"res_h",Rhb:"crop_x",Shb:"crop_y",Qhb:"crop_w",Phb:"crop_h",wmb:"framerate_value",vmb:"framerate_scale",VYb:"startByteOffset",Ub:"vmaf"}],NBb:"profileType",AHb:"stereo",profile:"profile",jjb:"dimensionsCount",kjb:"dimensionsLabel",Kda:["drmHeader",{aa:"bytes",Ydb:"checksum",fs:"keyId"}],fI:["prkDrmHeaders",{aa:"bytes",Ydb:"checksum",fs:"keyId",FSa:["resolution",{height:"height",width:"width"}]}],Lu:"flavor",mWb:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",mAb:"pixelAspectX",nAb:"pixelAspectY",VWb:"maxCroppedWidth",UWb:"maxCroppedHeight",WWb:"maxCroppedX",XWb:"maxCroppedY",$Wb:"max_framerate_value",ZWb:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",lXb:"minCroppedWidth",kXb:"minCroppedHeight",mXb:"minCroppedX",nXb:"minCroppedY",Ai:["license",{lub:"licenseResponseBase64",hYb:"providerSessionToken",hVb:"drmSessionId",links:["links",{}]}]}],AEa:["cdnResponseData",{TC:"sessionABTestCell",tC:"pbcid"}],uu:["choiceMap",{Lh:"initialSegment",type:"type",na:"viewableId",Wa:["segments",{Nw:[m.Nw,{qf:"startTimeMs",dg:"endTimeMs",next:["next",{Nw:[m.Nw,{weight:"weight"}]}],ql:"defaultNext"}]}]}],msb:["initialHeader",{Z:["fragments",{oa:"endPts"}]}],media:["media",{id:"id",Ji:["tracks",{AUDIO:"AUDIO",M8:"TEXT",VIDEO:"VIDEO"}]}],ZIb:["timedtexttracks",{Qm:"trackType",vq:"new_track_id",type:"type",bQ:"rawTrackType",E_:"languageDescription",language:"language",id:"id",Gha:"isNoneTrack",Cha:"isForcedNarrative",Gjb:["downloadableIds",{}],Ddb:["cdnlist",{id:"id",name:"name",type:"type",Sf:"rank",rNa:"lowgrade",wjb:["dns",{host:"host",Bsb:"ipv4",Csb:"ipv6",omb:"forceLookup"}],key:"key"}],PJb:["ttDownloadables",{Nw:[m.Nw,{size:"size",dZb:"textKey",eWb:"hashValue",dWb:"hashAlgo",vWb:"isImage",l0:"midxOffset",yja:"midxSize",height:"height",width:"width",Fu:["downloadUrls",{}]}]}],u_:"isLanguageLeftToRight",iq:"headIdentDuration"}],JJb:["trickplays",{Hda:"downloadable_id",size:"size",le:"urls",id:"id",interval:"interval",pAb:"pixelsAspectY",oAb:"pixelsAspectX",width:"width",height:"height",iq:"headIdentDuration"}],hXa:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],gVb:"dpsid",dj:"isBranching",GZb:"viewableType",type:"type",TB:"isSupplemental",peb:"clientIpAddress",uZb:"urlExpirationDuration",QWb:"manifestExpirationDuration",WYb:["steeringAdditionalInfo",{XYb:"steeringId",GTb:"additionalGroupNames",YYb:["streamingClientConfig",{}]}]};}a.prototype.tG=function(a){this.Okb.tG(a,this.Cvb);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.g5))],b);}();b.Bua=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Cua=void 0;c=a(0);g=a(422);m=a(1);r=a(40);q=a(3);n=a(421);l=a(420);f=a(45);h=a(2);d=function(){var b;function a(a,b,c,d){this.za=a;this.Evb=b;this.nub=c;this.Avb=d;}a.prototype.create=function(a){var b;if(this.ctb(a))throw f.vc.RLb(h.K.MANIFEST,a);b=this.nub();this.Xsb(a)?(a.clientGenesis=a.clientGenesis||this.za.gf.ca(q.ja),a=this.Evb.decode(a),b.X$a(a)):b.Haa(a.links);this.Avb.tG(a);return{Nf:a,Ci:b};};a.prototype.ctb=function(a){return"muxed"===a.type;};a.prototype.Xsb=function(a){return!!a.runtime;};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(r.Ni)),c.__param(1,m.l(g.G6)),c.__param(2,m.l(n.D7)),c.__param(3,m.l(l.C6))],b);}();b.Cua=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Gua=void 0;c=a(0);g=a(1);m=a(242);d=function(){var b;function a(){}a.prototype.decode=function(a){var b,c;b=this.Mpb(a.cdns);c=this.eob(a);return{movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.Nfa(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.Lnb(a),timedtexttracks:this.eqb(a.textTracks,b),media:this.MG(a.media),trickplays:this.kqb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.qea,urlExpirationDuration:c.QWa,manifestExpirationDuration:c.QWa,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:"",type:"standard"};};a.prototype.Lnb=function(a){var b,c,d;b=R(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};a.prototype.Nfa=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};a.prototype.Mpb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};a.prototype.CKa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};a.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Xmb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};a.prototype.Xmb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.CKa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};a.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.uqb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:!!b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};a.prototype.uqb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.CKa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};a.prototype.eqb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.$pb(a.downloadables),ttDownloadables:c.aqb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};a.prototype.$pb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};a.prototype.ppb=function(a){var b;b=m.oU.dga();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(ea(a.map(function(a){return a.pixHeight;}))));};a.prototype.aqb=function(a){var b;if(a){b=this.ppb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};a.prototype.MG=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};a.prototype.kqb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};a.prototype.eob=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return{QWa:1E3*b,qea:a.clientGenesis+1E3*b};};a.prototype.encode=function(){throw Error("encode not supported");};b=a;return b=c.__decorate([g.N()],b);}();b.Gua=d;},function(d,b){function a(a){this.cc=a;this.sb=JSON.stringify(this.Iob());}Object.defineProperty(b,"__esModule",{value:!0});b.Hua=void 0;a.prototype.Iob=function(){var a;a=[];(!this.cc.Fj||0>=this.cc.Fj.length)&&a.push({error:"No CDN."});this.cc.xX||a.push({error:"No default audio track.",foundTracks:this.Dfa(this.cc.vn)});this.cc.nda||a.push({error:"No default video track.",foundTracks:this.Dfa(this.cc.Rm)});this.cc.mda||a.push({error:"No default subtitle track.",foundTracks:this.Dfa(this.cc.Tk)});return a;};a.prototype.Dfa=function(a){return a&&0<a.length?a.map(function(a){return a.$a;}):"No tracks found.";};b.Hua=a;},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Dua=void 0;c=a(0);g=a(1);m=a(41);r=a(29);q=a(37);n=a(140);l=a(49);d=function(){var b;function a(a,b){a=m.Yd.call(this,a,"ManifestParserConfigImpl")||this;a.hm=b;return a;}ba(a,m.Yd);qa.Object.defineProperties(a.prototype,{Kna:{configurable:!0,enumerable:!0,get:function(){return[];}},Uea:{configurable:!0,enumerable:!0,get:function(){return"";}},Tba:{configurable:!0,enumerable:!0,get:function(){return[];}},Sba:{configurable:!0,enumerable:!0,get:function(){return[];}},Wea:{configurable:!0,enumerable:!0,get:function(){return"";}},dha:{configurable:!0,enumerable:!0,get:function(){return 0;}},YI:{configurable:!0,enumerable:!0,get:function(){return this.hm.YI.ca(l.Sq);}},Ps:{configurable:!0,enumerable:!0,get:function(){return this.hm.Ps;}}});b=a;c.__decorate([q.config(q.W2,"supportedAudioTrackTypes")],b.prototype,"Kna",null);c.__decorate([q.config(q.string,"forceAudioTrack")],b.prototype,"Uea",null);c.__decorate([q.config(q.woa,"cdnIdWhiteList")],b.prototype,"Tba",null);c.__decorate([q.config(q.woa,"cdnIdBlackList")],b.prototype,"Sba",null);c.__decorate([q.config(q.string,"forceTimedTextTrack")],b.prototype,"Wea",null);c.__decorate([q.config(q.fw,"imageSubsResolution")],b.prototype,"dha",null);c.__decorate([q.config(q.fw,"timedTextSimpleFallbackThreshold")],b.prototype,"YI",null);c.__decorate([q.config(q.W2,"timedTextProfiles")],b.prototype,"Ps",null);return b=c.__decorate([g.N(),c.__param(0,g.l(r.Ti)),c.__param(1,g.l(n.lE))],b);}();b.Dua=d;},function(d,b,a){var g,m,r,q;function c(a,b){return m.cK.call(this,a,b)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.sza=void 0;g=a(112);m=a(427);r=a(75);q=a(131);ba(c,m.cK);c.prototype.Fzb=function(a){var b,c;b=this;a=R(g.ws(function(a){return a.ec&&0<a.ec.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.vq});});a=c.map(function(a){var c;c=a.Qm;c={type:r.Kg.video,$a:a.vq,OB:a.koa,Qm:q.rU[c.toLowerCase()]||q.cn.kE,bQ:c,ec:[],Wg:{},fI:a.fI};c.ec=b.NVa(a.ec,c);b.log.trace("Transformed video track",{StreamCount:c.ec.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.Bzb=function(a){var b;b=a.map(function(a){return a.fI;}).filter(Boolean);b=[].concat.apply([],[].concat(ea(b))).map(function(a){return a.aa;});a=a.map(function(a){return a.Kda;}).filter(Boolean).map(function(a){return a.aa;});return 0<b.length?b:a;};b.sza=c;},function(d,b,a){var g,m,r,q,n;function c(a,b,c,d){a=m.cK.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Tpa=void 0;g=a(453);m=a(427);r=a(112);q=a(75);n=a(131);ba(c,m.cK);c.prototype.rzb=function(a,b,c){var d,f,h;d=this;a=R(r.ws(function(a){return a.ec&&0<a.ec.length;},a));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.AKa(a));});h=this.config.Kna;a=R(r.ws(function(a){return 0===h.length||0<=h.indexOf(a.Qm);},f));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.AKa(a));});a=f.map(function(a){var f;f=a.Qm;f={type:q.Kg.audio,$a:a.vq,OB:a.koa,Qm:n.rU[f.toLowerCase()]||n.cn.kE,bQ:f,nl:a.language,displayName:a.E_,Do:a.Do,sUb:a.Do,rUb:Number(a.Do[0]),Tk:d.Vmb(a.vq,b,c),Wg:{Bcp47:a.language,TrackId:a.vq},ec:[],isNative:a.isNative};f.ec=d.NVa(a.ec,f);d.log.trace("Transformed audio track",f,{StreamCount:f.ec.length,AllowedTimedTextTracks:f.Tk.length});f.web=g.W3[f.ec[0].bg];return f;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.Jbb=function(a){var b,c;b=this;c=this.config.Uea;if(c){if(a=R(a.filter(function(a){return a.nl==c||a.$a==c;})).next().value)return a;}else if(this.j.yY&&(a=R(a.filter(function(a){return a.$a==b.j.yY;})).next().value))return a;};c.prototype.AKa=function(a){return{language:a.E_,bcp47:a.language,type:a.Qm};};c.prototype.Vmb=function(a,b,c){return b.filter(function(b){return b.Ji.AUDIO===a;}).map(function(a){return a.Ji.M8;}).map(function(a){return c.find(function(b){return b.$a===a;});}).filter(Boolean);};b.Tpa=c;},function(d,b){function a(a,b,d){this.log=a;this.j=b;this.poa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Zya=void 0;a.prototype.Ezb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.le&&0<a.le.length;}).map(function(a){return b.poa(b.j,a.id,a.height,a.width,a.oAb,a.pAb,a.size,a.iq,{unknown:a.le[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};b.Zya=a;},function(d,b){function a(a,b,d,g,q){this.Uba=a;this.gVa=b;this.GJb=d;this.JDa=g;this.$Wa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Fua=void 0;a.prototype.Cka=function(a){var b,c,d,g,n,l,f,h,p,t,u,E,J,K,D;b=a.Nf;a=this.Uba.dQa(b.Iq,b.qm,!0);c=this.gVa.Dzb(b.ZIb);d=this.GJb.Ezb(b.JJb);g=this.JDa.rzb(b.LDa,b.media,c);n=this.$Wa.Fzb(b.hw);l=this.Azb(b,g,c);f=l[0];h=n[0];p=this.JDa.Jbb(g)||f.Rc||g[0];f=this.gVa.WIb(p.Tk)||f.uc||p.Tk[0];t=this.$Wa.Bzb(b.hw);u=b.ng;E=b.peb;J=b.IZ;K=b.xk;D=b.LDa.findIndex(function(a){return a.vq==p.$a;});b=b.hw.findIndex(function(a){return a.vq==h.$a;});return{Dq:t,Fj:a,vn:g,Rm:n,Tk:c,ew:d,ng:u,JFb:E,dv:J,xk:K,nGa:D,tGa:b,s1:l,nda:h,xX:p,mda:f};};a.prototype.Azb=function(a,b,d){var c,g;c=[];g=a.sGa[0];c.push({Rc:b.find(function(a){return a.OB===g.PA;}),uc:d.find(function(a){return a.OB===g.gIb;}),bYb:0});return c;};b.Fua=a;},function(d,b,a){var g,m,r,q;function c(a,b,c,d,g){this.log=a;this.config=b;this.j=c;this.Uba=d;this.Xka=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;g=a(60);m=a(10);r=a(131);q=a(242);c.prototype.Dzb=function(a){var b;b=this;a=a.map(function(a){var c,d,f;c=b.vJb(a);!1!==a.Gha||c.length||b.log.error("track without downloadables",b.JJa(a));!0!==a.Cha||c.length||b.log.error("forced track without downloadables",b.JJa(a));d={};f=[];if(0<c.length){d=c[0];f=d.profile;if(f==g.Zk.cE||f==g.Zk.xT)d=b.iFb(c);f=b.Uba.dQa(a.Ddb,void 0,!1);}a=b.Xka(b.j,a.vq,a.id,d.pd,d.le||{},f,a.language,a.E_,r.rU[a.Qm.toLowerCase()]||r.cn.kE,a.bQ.toUpperCase(),d.profile,b.Nob(d)||{},a.Gha,a.Cha,a.u_,a.iq);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.WIb=function(a){var b,c;b=this;c=this.config.Wea;if(c){if(a=R(a.filter(function(a){return a.nl==c||a.$a==c;})).next().value)return a;}else if(this.j.zY&&(a=R(a.filter(function(a){return a.$a==b.j.zY;})).next().value))return a;};c.prototype.vJb=function(a){var b,c,d;b=this;c=a.PJb;d=a.Gjb;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{pd:d[a],profile:a,size:f.size||0,he:b.Wnb(a,f),offset:f.l0||0,hAb:f.width,EQa:f.height,le:f.Fu};});a.sort(function(a,b){return a.he-b.he;});return a;};c.prototype.Wnb=function(a,b){var c,d;c=this.config.Ps.indexOf(a);b=b.size;d=this.config.YI;return a===g.Zk.B4&&0<d&&b>d?this.config.Ps.length+1:0<=c?c:this.config.Ps.length;};c.prototype.Nob=function(a){if(a.profile===g.Zk.cE||a.profile===g.Zk.xT)return{offset:a.offset,length:a.size,FSa:{width:a.hAb,height:a.EQa}};};c.prototype.iFb=function(a){var b,c;b=this.config.dha||q.oU.dga();c=R(a.filter(function(a){return a.profile===g.Zk.cE||a.profile===g.Zk.xT;}).filter(function(a){return a.EQa===b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:m.cr.height,intendedResolution:b});return a[0];};c.prototype.JJa=function(a){return{isNone:a.Gha,isForced:a.Cha,bcp47:a.language,id:a.vq};};b.Kya=c;},function(d){d.P=function(b){return function(){return!b.apply(this,arguments);};};},function(d,b,a){var c,g;c=a(951);b=a(51);g=a(434);a=b(function(a,b){return g(c(a),b);});d.P=a;},function(d,b,a){b=a(172);a=a(244);a=b(a);d.P=a;},function(d,b,a){b=a(51)(function(a,b){for(var c=0;c<a.length;){if(null==b)return;b=b[a[c]];c+=1;}return b;});d.P=b;},function(d,b,a){var c;b=a(51);c=a(954);a=b(function(a,b){return c([a],b);});d.P=a;},function(d,b,a){var c,g;b=a(51);c=a(431);g=function(){function a(a,b){this.SR=b;this.AN=a;}a.prototype["@@transducer/init"]=c.Ab;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.SR["@@transducer/step"](a,this.AN(b));};return a;}();a=b(function(a,b){return new g(a,b);});d.P=a;},function(d,b,a){var c,g,m,r,q,n;b=a(51);c=a(433);g=a(429);m=a(244);r=a(956);q=a(428);n=a(430);a=b(c(["fantasy-land/map","map"],r,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return q(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return m(function(c,d){c[d]=a(b[d]);return c;},{},n(b));default:return g(a,b);}}));d.P=a;},function(d,b,a){var c,g;b=a(51);c=a(957);g=a(955);a=b(function(a,b){return c(g(a),b);});d.P=a;},function(d,b,a){b=a(51)(function(a,b){return b>a?b:a;});d.P=b;},function(d,b,a){var g,m;function c(a,b,d){return function(){var q;for(var k=[],f=0,h=a,n=0;n<b.length||f<arguments.length;){n<b.length&&(!m(b[n])||f>=arguments.length)?q=b[n]:(q=arguments[f],f+=1);k[n]=q;m(q)||--h;n+=1;}return 0>=h?d.apply(this,k):g(h,c(a,k,d));};}g=a(243);m=a(171);d.P=c;},function(d,b,a){var c,g,m,r,q;b=a(51);c=a(429);g=a(428);m=a(959);r=a(958);q=a(953);a=b(function(a,b){return g(q(m,0,r("length",b)),function(){var d,g;d=arguments;g=this;return a.apply(g,c(function(a){return a.apply(g,d);},b));});});d.P=a;},function(d,b,a){var c;b=a(111);c=a(961);a=b(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});d.P=a;},function(d,b,a){var c,g;c=a(245);g=Object.prototype.toString;d.P=function(){return"[object Arguments]"===g.call(arguments)?function(a){return"[object Arguments]"===g.call(a);}:function(a){return c("callee",a);};};},function(d,b,a){var c,g;b=a(51);c=a(431);g=function(){function a(a,b){this.SR=b;this.AN=a;}a.prototype["@@transducer/init"]=c.Ab;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.AN(b)?this.SR["@@transducer/step"](a,b):a;};return a;}();a=b(function(a,b){return new g(a,b);});d.P=a;},function(d,b,a){var c;c=a(243);b=a(51)(function(a,b){return c(a.length,function(){return a.apply(b,arguments);});});d.P=b;},function(d){var b;b=function(){function a(a){this.AN=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,b){return this.AN(a,b);};return a;}();d.P=function(a){return new b(a);};},function(d){d.P=function(b){return"[object String]"===Object.prototype.toString.call(b);};},function(d,b,a){var c,g;b=a(111);c=a(432);g=a(967);a=b(function(a){return c(a)?!0:!a||"object"!==typeof a||g(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});d.P=a;},function(d){d.P=function(b,a){for(var c=0,d=a.length,g=[];c<d;)b(a[c])&&(g[g.length]=a[c]),c+=1;return g;};},function(d){d.P=function(b){return"function"===typeof b["@@transducer/step"];};},function(d,b,a){var c;b=a(434);c=a(962);a=a(952);a=c([b,a]);d.P=a;},function(d,b,a){var c;b=a(172);c=a(245);a=b(function(a,b,d){var g,k;g={};for(k in b)c(k,b)&&(g[k]=c(k,d)?a(k,b[k],d[k]):b[k]);for(k in d)c(k,d)&&!c(k,g)&&(g[k]=d[k]);return g;});d.P=a;},function(d,b,a){var c,g;b=a(172);c=a(435);g=a(972);a=b(function r(a,b,d){return g(function(b,d,g){return c(d)&&c(g)?r(a,d,g):a(b,d,g);},b,d);});d.P=a;},function(d,b,a){var c;b=a(172);c=a(973);a=b(function(a,b,d){return c(function(b,c,d){return a(c,d);},b,d);});d.P=a;},function(d,b,a){var g;function c(a,b){this.log=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Fqa=void 0;g=a(112);c.prototype.dQa=function(a,b,c){var d,k,f,h,m;d=this;k=this.config.Tba;f=this.config.Sba;a=R(g.ws(function(a){return(!k.length||0<=k.indexOf(a.id))&&0>f.indexOf(a.id);},a||[]));h=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Cdn is not allowed",{Id:a.id});});m=h.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,Sf:a.Sf,type:a.type,wia:a.key,wWb:a.rNa,location:{id:c.key,Sf:c.Sf,level:c.level,weight:c.weight,Fj:[]}};});m.sort(function(a,b){return a.Sf-b.Sf;});m.forEach(function(a){return a.location.Fj=m.filter(function(b){return b.wia===a.wia;});});this.log.trace("Transformed cdns",{Count:m.length});if(c&&!m.length)throw Error("no valid cdns");return m;};b.Fqa=c;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.Eua=void 0;c=a(0);g=a(1);m=a(7);r=a(436);q=a(975);n=a(950);l=a(949);f=a(948);h=a(947);p=a(946);t=a(426);u=a(425);E=a(424);d=function(){var b;function a(a,b,c,d,f){this.kf=a;this.config=b;this.Xka=c;this.poa=d;this.f3=f;}a.prototype.create=function(a){var b,c;b=this.kf.ub("ManifestParser",a);c=new q.Fqa(b,this.config);return new l.Fua(c,new n.Kya(b,this.config,a,c,this.Xka),new f.Zya(b,a,this.poa),new h.Tpa(b,this.config,a,this.f3),new p.sza(b,this.f3));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Db)),c.__param(1,g.l(r.E6)),c.__param(2,g.l(t.e8)),c.__param(3,g.l(E.Y8)),c.__param(4,g.l(u.U8))],b);}();b.Eua=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J;Object.defineProperty(b,"__esModule",{value:!0});b.DNa=void 0;d=a(1);c=a(437);g=a(976);m=a(436);r=a(945);q=a(426);n=a(425);l=a(423);f=a(944);h=a(422);p=a(943);t=a(170);u=a(942);E=a(420);J=a(941);b.DNa=new d.Ec(function(b){b(m.E6).to(r.Dua).Y();b(c.F6).to(g.Eua).Y();b(q.e8).Uh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(241).aA;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});b(n.U8).Uh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(363).yqa;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});b(l.H6).rf(function(){return function(a){return new f.Hua(a);};});b(h.G6).to(p.Gua).Y();b(t.$D).to(u.Cua).Y();b(E.C6).to(J.Bua).Y();});},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.nqa=void 0;c=a(0);g=a(1);m=a(14);r=a(7);q=a(173);n=a(246);l=a(100);f=a(183);d=function(){var b;function a(a,b,c,d,f,g){this.config=a;this.yy=c;this.profile=d;this.h3=f;this.EM=g;this.log=b.ub("CDMAttestedDescriptor");this.UIa();}a.prototype.UIa=function(){var a;a=this;return this.h3.Loa?this.config().hkb?this.SIa().then(function(b){if(b)return Promise.resolve(void 0);a.RMa||(a.RMa=a.EM.lga());return a.RMa;})["catch"](function(b){a.log.error("Failed to generate challenge",b);}).then(function(a){null===a||void 0===a?void 0:a.tb.close().subscribe();return null===a||void 0===a?void 0:a.Wba;}).then(function(b){return Promise.all([Promise.resolve(b),a.SIa()]);}).then(function(a){var b;a=R(a);b=a.next().value;if(!a.next().value)return b;}):this.yy().then(function(a){a.z0.removeServiceToken("cad");}):Promise.resolve(void 0);};a.prototype.SIa=function(){var a;a=this;return this.yy().then(function(b){return(b=b.z0.getServiceTokens(a.profile))&&b.find(function(a){return"cad"===a.name;});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.fd)),c.__param(1,g.l(r.Db)),c.__param(2,g.l(q.eK)),c.__param(3,g.l(l.tK)),c.__param(4,g.l(n.EK)),c.__param(5,g.l(f.BJ))],b);}();b.nqa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;d=a(1);c=a(438);g=a(978);b.sEa=new d.Ec(function(a){a(c.l4).to(g.nqa).Y();});},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.bqa=void 0;c=a(0);g=a(1);m=a(23);r=a(3);d=function(){var b;function a(a){this.Ia=a;}a.prototype.VHb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Ia.ph(c)?d=Math.round(c*b.ca(r.ja)/100):(a=parseInt(a),this.Ia.zr(a)&&(d=a));return r.Gb(Math.min(d,b.ca(r.ja)));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Le))],b);}();b.bqa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.aqa=void 0;c=a(0);g=a(1);m=a(14);d=function(){var b;function a(a){this.config=a;}a.prototype.Efa=function(){return this.Ux().vcb;};a.prototype.Ffa=function(){return this.Ux().wcb;};a.prototype.sob=function(){return this.Ux().xcb;};a.prototype.pfa=function(){return this.Ux().aEa;};a.prototype.Ux=function(){return this.config();};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.fd))],b);}();b.aqa=d;},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.cqa=void 0;c=a(0);g=a(1);m=a(440);r=a(439);q=a(7);n=a(23);l=a(3);f=a(14);d=function(){var b;function a(a,b,c,d,f){this.FW=b;this.Ia=c;this.ucb=d;this.config=f;this.ka=a.ub("Bookmark");}a.prototype.VCa=function(a){var b,c;b=a.Pa.playbackState&&a.Pa.playbackState.currentTime;c=this.Bnb(a.G);b=this.Ia.jB(b)?l.Gb(b):c;if(this.Ia.Sd(b))this.ka.info("Overriding bookmark",{From:a.sD.ca(l.ja),To:b.ca(l.ja)}),a=Object.assign({},a,{sD:b});else if(this.Krb(a))return this.ka.trace("Ignoring bookmark because it's too close to beginning"),l.eh(0);return this.Jrb(a)?(this.ka.trace("Ignoring bookmark because it's too close to end"),l.eh(0)):this.Irb(a)?(this.ka.trace("Ignoring bookmark because it's too close to the end to start decoding"),l.eh(0)):a.sD;};a.prototype.Krb=function(a){return 0>a.sD.Hj(this.Efa(a));};a.prototype.Efa=function(a){return this.bEa(this.FW.Efa(),a.IP);};a.prototype.Jrb=function(a){return 0<a.sD.Hj(this.Ffa(a));};a.prototype.Ffa=function(a){var b;b=a.Pa.dj?this.FW.sob():this.FW.Ffa();return a.IP.Mb(this.bEa(b,a.IP));};a.prototype.Irb=function(a){return 0<a.sD.Hj(this.cob(a));};a.prototype.cob=function(a){var b;b=a.Pa.dj?this.config().PPa:this.config().rC;return a.IP.Mb(l.Gb(b));};a.prototype.Bnb=function(a){var b;a=this.FW.pfa()[a];b=-1;this.Ia.rn(a)?b=parseInt(a):this.Ia.ph(a)&&(b=a);if(this.Ia.zr(b))return l.Gb(b);};a.prototype.bEa=function(a,b){return this.ucb.VHb(a,b);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Db)),c.__param(1,g.l(m.g4)),c.__param(2,g.l(n.Le)),c.__param(3,g.l(r.f4)),c.__param(4,g.l(f.fd))],b);}();b.cqa=d;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.tx=void 0;d=a(1);c=a(247);g=a(440);m=a(439);r=a(982);q=a(981);n=a(980);b.tx=new d.Ec(function(a){a(c.dS).to(r.cqa).Y();a(g.g4).to(q.aqa).Y();a(m.f4).to(n.bqa).Y();});},function(d,b,a){var g,m,r,q;function c(a,b,c){var d;d=this;this.ka=a;this.valid=!0;this.Lj=!1;this.context=c.context;this.size=c.size;this.xl=b.create().then(function(a){d.storage=a;return a.OO("mediacache").then(function(a){d.keys=a;});});}Object.defineProperty(b,"__esModule",{value:!0});b.y_a=b.xra=void 0;g=a(0);m=a(1);r=a(7);q=a(69);d=function(){var b;function a(a,b){this.kf=a;this.$j=b;this.jG={};}a.prototype.hX=function(a){this.jG[a.context]=new c(this.kf.ub("DiskStorageContext"),this.$j,a);return this.jG[a.context];};a.prototype.CGa=function(a){delete this.jG[a.context];};b=a;return b=g.__decorate([m.N(),g.__param(0,m.l(r.Db)),g.__param(1,m.l(q.Qq))],b);}();b.xra=d;c.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.xl.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ka.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.nZ(a,b));});})["catch"](function(c){f.ka.trace("create failed",c);d(f.Wx(a,b,c));});};c.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ka.trace("append "+c);d(this.Wx(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.xl.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ka.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.nZ(a,b));});c(d.nZ(a,b));})["catch"](function(f){d.ka.trace("remove failed",f);c(d.Wx(a,b,f));});};c.prototype.read=function(a,b,c,d,g){var f,h,k;f=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?g(this.Wx(a,b,"byteStart/byteEnd combination is not supported")):this.xl.then(function(){if(f.keys.hasOwnProperty(h))return f.storage.load(h).then(function(l){f.ka.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");g(Object.assign(f.nZ(a,b),{value:l.value,UTb:c,end:d}));});g(f.Wx(a,b,"Item doesn't exist"));})["catch"](function(c){f.ka.trace("read failed",c);g(f.Wx(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.ka.trace("info ");this.xl.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Bka(c);a[c.dN]||(a[c.dN]={});a[c.dN][c.ly]={size:0};return a;},{}),total:b.size,xZb:0};a(c);})["catch"](function(c){b.ka.trace("info failed",c);a(b.Wx(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.xl.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.Bka(b).ly]={size:0};return a;},{});d.ka.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ka.trace("query failed",a);c({});});};c.prototype.Oq=function(a){var b;b=this;this.ka.trace("validate");this.xl.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Bka(c).ly]={size:0};return a;},{});a(c);})["catch"](function(c){b.ka.trace("validate failed",c);a(b.Wx(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};c.prototype.nZ=function(a,b){return{da:!0,dN:void 0===a?"":a,key:void 0===b?"":b,aLb:0,Oj:this.size};};c.prototype.Wx=function(a,b,c){return{da:!1,error:c,dN:void 0===a?"":a,key:void 0===b?"":b,aLb:0,Oj:this.size};};c.prototype.Bka=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{dN:a,ly:b};};b.y_a=c;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.ava=void 0;c=a(0);g=a(1);m=a(2);r=a(7);d=function(){var b;function a(a){this.kf=a;this.uv={};this.ka=this.kf.ub("MemoryStorage");}a.prototype.load=function(a){var b;if(this.uv.hasOwnProperty(a)){b=this.uv[a];this.ka.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ka.debug("Storage entry not found",{key:a});return Promise.reject({ga:m.J.Hw});};a.prototype.save=function(a,b,c){if(c&&this.uv.hasOwnProperty(a))return Promise.resolve(!1);this.uv[a]=b;return Promise.resolve(!0);};a.prototype.remove=function(a){delete this.uv[a];return Promise.resolve();};a.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.uv).map(function(b){return{key:b,value:a.uv[b]};});return Promise.resolve(b);};a.prototype.OO=function(a){var b;b=Object.keys(this.uv).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};a.prototype.removeAll=function(){this.uv={};return Promise.resolve();};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.Db))],b);}();b.ava=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ara=void 0;b.ara="__default_rule_key__";},function(d,b,a){var g,m,r,q,n,l,f,h;function c(a,b,c,d){this.ka=a;this.config=b;this.Grb=c;this.vja=d;this.Bx={mem:{storage:this.vja,key:"mem"}};this.Uy=this.config.Uy;}Object.defineProperty(b,"__esModule",{value:!0});b.O3=b.spa=void 0;g=a(0);m=a(1);r=a(2);q=a(174);n=a(7);l=a(442);f=a(986);h=a(34);d=function(){var b;function a(a,b,c,d){this.kf=a;this.$j=b;this.vja=c;this.config=d;}a.prototype.create=function(){this.$M||(this.$M=this.UF());return this.$M;};a.prototype.UF=function(){this.Nab=new c(this.kf.ub("AppStorage"),this.config,this.$j,this.vja);return this.Nab.create();};b=a;return b=g.__decorate([m.N(),g.__param(0,m.l(n.Db)),g.__param(1,m.l(q.iT)),g.__param(2,m.l(l.Q6)),g.__param(3,m.l(h.Yk))],b);}();b.spa=d;c.prototype.create=function(){var a;a=this;return this.khb().then(function(b){if(!a.rdb(b,a.config.WZ))throw a.Ixb(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.ON(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.ON(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.ON(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.dSa("mem").then(function(){return a.dSa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ka.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.XMa("mem").then(function(c){b=b.concat(c);return a.XMa("idb");})["catch"](function(b){a.stb(b)||a.ka.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ka.error("load all failed",b);throw b;});};c.prototype.OO=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.Bx.idb;f?f.storage.OO(a).then(function(a){c(a);})["catch"](function(a){b.ka.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};c.prototype.khb=function(){var a;a=this;return this.Grb.create().then(function(b){a.Bx.idb={storage:b,key:"idb"};})["catch"](function(b){a.ka.error("idb failed to load",b);return b||{ga:r.J.$k};});};c.prototype.rdb=function(a,b){return!a||a&&b?!0:!1;};c.prototype.Ixb=function(a){var b;b="";a&&(b+=a.ga);return{ga:b};};c.prototype.dSa=function(a){return(a=this.Bx[a])?a.storage.removeAll():Promise.resolve();};c.prototype.XMa=function(a){return(a=this.Bx[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.Plb=function(a){for(var b in this.Uy)if(a.startsWith(b))return this.Uy[b];return this.Uy[f.ara];};c.prototype.ON=function(a){var b,c;b=this;this.Plb(a).every(function(a){return b.Bx[a]?(c=b.Bx[a],!1):!0;});c||(this.ka.error("component not found for storageKey",{IHb:a,OTb:Object.keys(this.Bx),rules:this.Uy}),c=this.Bx.mem);this.ka.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.stb=function(a){return(a&&(a.ga||a.errorSubCode))===r.J.Hw;};b.O3=c;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Xqa=void 0;c=a(0);g=a(1);m=a(34);d=function(){var b;function a(a){this.config=a;}qa.Object.defineProperties(a.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Dna;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.fVa;}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Yk))],b);}();b.Xqa=d;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.yta=void 0;c=a(0);g=a(1);m=a(37);r=a(41);q=a(34);n=a(29);d=function(){var b;function a(a,b){a=r.Yd.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.pC="namedatapairs";return a;}ba(a,r.Yd);qa.Object.defineProperties(a.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Pr?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Dna;}},uW:{configurable:!0,enumerable:!0,get:function(){return this.config.uW;}},ona:{configurable:!0,enumerable:!0,get:function(){return 0;}},SQ:{configurable:!0,enumerable:!0,get:function(){return 0;}},gIa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([m.config(m.fw,"simulateIdbOpenError")],b.prototype,"ona",null);c.__decorate([m.config(m.fw,"simulateIdbLoadAllError")],b.prototype,"SQ",null);c.__decorate([m.config(m.$c,"fixInvalidDatabase")],b.prototype,"gIa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ti)),c.__param(1,g.l(q.Yk))],b);}();b.yta=d;},function(d,b,a){var m,r,q;function c(a,b,c){this.config=a;this.Nk=b;this.Hv=c;}function g(a,b){this.reason=a;this.cause=b;}Object.defineProperty(b,"__esModule",{value:!0});b.xta=b.uxa=void 0;m=a(2);r=a(63);(function(a){a[a.f7=0]="NoData";a[a.Error=1]="Error";a[a.bA=2]="Timeout";}(q=b.uxa||(b.uxa={})));c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.hY("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=m.J.Mxa;switch(a.reason){case q.f7:b=m.J.Hw;break;case q.bA:b=m.J.u4a;}d({ga:b,cause:a.cause});});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.hY(c?"add":"put",!0,{name:a,data:b}).then(function(){f(!c);})["catch"](function(a){var b;b=m.J.Nxa;switch(a.reason){case q.bA:b=m.J.x4a;}g({ga:b,cause:a.cause});});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.hY("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=m.J.x8;switch(a.reason){case q.bA:b=m.J.Lxa;}d({ga:b,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.hY("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=m.J.x8;switch(a.reason){case q.bA:b=m.J.Lxa;}c({ga:b,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.Nk.Em(this.config.timeout,new Promise(function(b,c){var d,f,k;if(a.config.SQ)c(new g(a.config.SQ));else{d=[];f=a.Hv.transaction(a.config.pC,"readonly");k=f.objectStore(a.config.pC).openCursor();f.onerror=function(){c(new g(q.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(E){c(new g(q.Error,E));}else b(d);};k.onerror=function(){c(new g(q.Error,k.error));};}}))["catch"](function(a){return a instanceof r.bn?Promise.reject(new g(q.bA,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(q.Error,a));});};c.prototype.OO=function(a){var b;b=this;return this.Nk.Em(this.config.timeout,new Promise(function(c,d){var f,h,k;if(b.config.SQ)d(new g(b.config.SQ));else{f={};h=b.Hv.transaction(b.config.pC,"readonly");k=h.objectStore(b.config.pC).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);h.onerror=function(){d(new g(q.Error,k.error));};k.onsuccess=function(b){var h,k;try{h=b.target.result;if(h){k=h.key;a&&0!==k.indexOf(a)?c(f):(f[k]=void 0,h["continue"]());}else c(f);}catch(D){d(new g(q.Error,D));}};k.onerror=function(){d(new g(q.Error,k.error));};}}))["catch"](function(a){return a instanceof r.bn?Promise.reject(new g(q.bA,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(q.Error,a));});};c.prototype.hY=function(a,b,c){var d;d=this;return this.Nk.Em(this.config.timeout,new Promise(function(f,h){var k,l;k=d.Hv.transaction(d.config.pC,b?"readwrite":"readonly");l=k.objectStore(d.config.pC)[a](c);k.onerror=function(){h(new g(q.Error,l.error));};l.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?f(c.data):h(new g(q.f7));}catch(D){h(new g(q.f7,D));}else f();};l.onerror=function(){h(new g(q.Error,l.error));};}))["catch"](function(a){return a instanceof r.bn?Promise.reject(new g(q.bA,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(q.Error,a));});};b.xta=c;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.Ata=b.zta=b.Xsa=void 0;c=a(0);g=a(1);m=a(7);r=a(990);q=a(175);n=a(2);l=a(445);f=a(446);h=a(63);p=a(69);t=a(67);u=a(174);E=a(52);d=function(){var b;function a(a,b,c,d,f){this.config=b;this.aw=c;this.pj=f;this.ka=a.ub(l.kU);this.eN=new Promise(function(a,b){var c;try{c=d();c?a(c):b({ga:n.J.Ysa});}catch(da){b({ga:n.J.hT,cause:da});}});}a.prototype.create=function(){this.$ca||(this.$ca=this.UF());return this.$ca;};a.prototype.Xp=function(a){var b;b=this;this.$ca=null;return this.aw.Em(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof h.bn?Promise.reject({ga:n.J.hT}):a.ga?Promise.reject(a):Promise.reject({ga:n.J.hT,cause:a});});};a.prototype["delete"]=function(a){var b;b=this;return this.aw.Em(this.config.timeout,new Promise(function(c,d){b.eN.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({ga:n.J.hT,cause:f.error});};})["catch"](function(a){d(a);});}));};a.prototype.UF=function(){var a,b;a=this;return this.aw.Em(this.config.timeout,new Promise(function(c,d){if(a.config.ona)return d({ga:a.config.ona});a.eN.then(function(f){a.pj.mark(E.bi.N0a);b=f.open(a.config.name,a.config.version);if(!b)return d({ga:n.J.Zsa});b.onblocked=function(){a.pj.mark(E.bi.K0a);d({ga:n.J.G0a});};b.onupgradeneeded=function(){var c;a.pj.mark(E.bi.U0a);c=b.result;try{c.createObjectStore(a.config.pC,{keyPath:"name"});}catch(Z){a.ka.error("Exception while creating object store",Z);}};b.onsuccess=function(g){var h,k;a.pj.mark(E.bi.T0a);try{h=g.target.result;k=h.objectStoreNames.length;a.ka.trace("objectstorenames length ",k);if(0===k){a.ka.error("invalid indexedDb state, deleting");a.pj.mark(E.bi.M0a);try{h.close();}catch(da){}f.deleteDatabase(a.config.name);setTimeout(function(){d({ga:n.J.F0a});},1);return;}}catch(da){a.ka.error("Exception while inspecting indexedDb objectstorenames",da);}c(b.result);};b.onerror=function(){a.pj.mark(E.bi.L0a);a.ka.error("IndexedDB open error",b.error);d({ga:n.J.H0a,cause:b.error});};})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof h.bn){try{b&&b.readyState&&a.pj.mark("readyState-"+b.readyState);}catch(V){}if(a.config.uW&&b&&"done"===b.readyState){if(a.jLb(b))return a.pj.mark(E.bi.R0a),Promise.resolve(b.result);a.pj.mark(E.bi.Q0a);}a.pj.mark(E.bi.P0a);return Promise.reject({ga:n.J.J0a});}if(c.ga)return Promise.reject(c);a.pj.mark(E.bi.O0a);a.ka.error("IndexedDB open exception occurred",c);return Promise.reject({ga:n.J.I0a,cause:c});});};a.prototype.jLb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(T){this.pj.mark(E.bi.S0a);this.ka.error("failed to check open request state",T);}return!1;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Db)),c.__param(1,g.l(f.$J)),c.__param(2,g.l(h.Fw)),c.__param(3,g.l(q.S5)),c.__param(4,g.l(t.Kw))],b);}();b.Xsa=d;d=function(){var b;function a(a,b){this.config=a;this.aw=b;}a.prototype.create=function(a){return Promise.resolve(new r.xta(this.config,this.aw,a));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(f.$J)),c.__param(1,g.l(h.Fw))],b);}();b.zta=d;d=function(){var b;function a(a,b,c,d,f,g){this.config=b;this.eN=c;this.$j=d;this.nLb=f;this.pj=g;this.ka=a.ub(l.kU);}a.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.$M||(this.$M=this.UF(this.nLb));return this.$M;};a.prototype.UF=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.pj.mark(E.bi.t4a);b.eN.create().then(function(f){b.$j.create(f).then(function(g){Promise.all(a.map(function(a){return a.Oq(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ka.debug("DB validation failed, cause: "+a);b.config.gIa?(b.ka.debug("Fixing corrupt DB"),b.eN.Xp(f).then(function(){b.ka.error("Invalid database deleted, creating new database.");b.UF().then(function(a){b.ka.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ka.error("Couldn't delete invalid database.");d(a);})):(b.ka.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Db)),c.__param(1,g.l(f.$J)),c.__param(2,g.l(u.R5)),c.__param(3,g.l(u.X5)),c.__param(4,g.lC(p.J8)),c.__param(5,g.l(t.Kw))],b);}();b.Ata=d;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Xta=void 0;c=a(0);g=a(1);m=a(2);r=a(175);d=function(){var b;function a(a){this.Hv=a;}a.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.Hv.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(E){}c({key:a,value:g});}else d({ga:m.J.Hw});}catch(E){d({ga:m.J.Mxa,cause:E});}});};a.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c&&d.Hv.getItem(a))f(!1);else try{"string"===typeof b?d.Hv.setItem(a,b):d.Hv.setItem(a,JSON.stringify(b));f(!0);}catch(E){g({ga:m.J.Nxa,cause:E});}});};a.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.Hv.removeItem(a);c();}catch(F){d({ga:m.J.x8,cause:F});}});};a.prototype.loadAll=function(){return Promise.reject("Not supported");};a.prototype.OO=function(){return Promise.reject("Not supported");};a.prototype.removeAll=function(){return Promise.reject("Not supported");};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.mva))],b);}();b.Xta=d;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Wqa=void 0;c=a(0);g=a(1);m=a(7);r=a(63);q=a(445);n=a(444);d=function(){var b;function a(a,b,c){this.Nk=b;this.config=c;this.ka=a.ub(q.kU);}a.prototype.Oq=function(a){return this.config.enabled?this.config.timeout?this.Nk.Em(this.config.timeout,this.OGa(a)):this.OGa(a):Promise.resolve();};a.prototype.OGa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ka.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ka.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Db)),c.__param(1,g.l(r.Fw)),c.__param(2,g.l(n.u4))],b);}();b.Wqa=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,T;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(1);c=a(446);g=a(69);m=a(175);r=a(993);q=a(443);n=a(992);l=a(444);f=a(174);h=a(991);p=a(989);t=a(988);u=a(987);E=a(69);J=a(442);K=a(985);D=a(441);T=a(984);b.storage=new d.Ec(function(a){a(m.b7).rf(function(){return function(){return M.localStorage;};});a(m.S5).rf(function(){return function(){return M.indexedDB;};});a(J.Q6).to(K.ava).Y();a(E.Qq).to(u.spa).Y();a(q.m6).to(n.Xta).Y();a(c.$J).to(p.yta).Y();a(f.X5).to(h.zta).Y();a(g.J8).to(r.Wqa).Y();a(f.R5).to(h.Xsa).Y();a(f.iT).to(h.Ata).Y();a(l.u4).to(t.Xqa).Y();a(D.O4).to(T.xra).Y();});},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.osa=void 0;c=a(0);g=a(1);m=a(248);r=a(447);d=function(){var b;function a(a){this.rBb=a;}a.prototype.Blb=function(){var a,b;a={zN:m.pw.$4a};b=this.rBb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.zN=b.value?m.pw.exa:m.pw.lpa;if(a.zN===m.pw.lpa){c=function(){b.value&&(a.zN=m.pw.exa);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.zN=m.pw.Error;});return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.k8))],b);}();b.osa=d;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Nua=void 0;c=a(0);g=a(449);m=a(7);r=a(1);d=function(){var b;function a(a,b){this.fOa=a;this.log=b.ub("MediaCapabilities");}a.prototype.zea=function(a){var b,c,d;b=this;c={yc:void 0};if(this.fOa.gOa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,R:1E3*a.R,FY:"24"};this.fOa.zea(d).then(function(a){return c.yc=Object.assign(Object.assign({},a),d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};b=a;return b=c.__decorate([r.N(),c.__param(0,r.l(g.K6)),c.__param(1,r.l(m.Db))],b);}();b.Nua=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Mua=void 0;c=a(0);g=a(1);m=a(30);d=function(){var b;function a(a){this.navigator=a;this.gOa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}a.prototype.zea=function(a){return this.gOa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.R,framerate:a.FY}}).then(function(a){return{ZYb:a.supported,iHb:a.smooth,WAb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Nz))],b);}();b.Mua=d;},function(d,b,a){var g,m,r,q;function c(a,b,c,d,k){a=g.Ml.call(this,a,b,c)||this;a.Fe=d;a.navigator=k;a.type=m.kk.Pxa;a.WWa={};a.WWa=a.Mhb();a.log=q.kf.ub("SafariVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Rxa=void 0;g=a(132);m=a(31);r=a(60);q=a(6);ba(c,g.Ml);c.prototype.ZN=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Fe.Gi.toString()});};c.prototype.nY=function(a){var b,c;b=this;c=a.map(function(a){for(var c=R(b.Cq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!0);c=R(b.Hl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!1);return b.nja(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.nja=function(a){var b,c;b=this;try{c=this.WWa[a];return!c||this.Tsb(c)&&!this.Usb()?Promise.resolve(!1):this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:c}).then(function(a){b.log.trace("mediaCapabilities.decodingInfo: "+JSON.stringify(a));return!0===a.supported&&!0===a.powerEfficient;})["catch"](function(a){b.log.error("mediaCapabilities.decodingInfo failed",a);return!1;});}catch(h){return this.log.error("mediaCapabilitiesIsTypeSupported failed",h),Promise.resolve(!1);}};c.prototype.Mhb=function(){var a,b,c,d,g,k,m,q,p,t,u,T,Q;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};d={width:1920,height:1080};g={width:3840,height:2160};k=Object.assign(Object.assign({},d),{bitrate:12E6,framerate:30});m=Object.assign(Object.assign({},d),{bitrate:2E7,framerate:60});d=Object.assign(Object.assign({},g),{bitrate:25E6,framerate:30});g=Object.assign(Object.assign({},g),{bitrate:4E7,framerate:60});q={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};p={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),k);a[r.X.LS]=t;a[r.X.MS]=t;a[r.X.r5]=t;t=Object.assign(Object.assign({},b),k);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),m);T=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),d);Q=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),g);a[r.X.TS]=t;a[r.X.VS]=t;a[r.X.XS]=t;a[r.X.ZS]=u;a[r.X.RD]=T;a[r.X.SD]=Q;a[r.X.US]=t;a[r.X.WS]=t;a[r.X.YS]=t;a[r.X.$S]=u;a[r.X.aT]=T;a[r.X.bT]=Q;t=Object.assign(Object.assign(Object.assign({},b),k),q);u=Object.assign(Object.assign(Object.assign({},b),m),q);T=Object.assign(Object.assign(Object.assign({},b),d),q);b=Object.assign(Object.assign(Object.assign({},b),g),q);a[r.X.QJ]=t;a[r.X.RJ]=t;a[r.X.QD]=t;a[r.X.SJ]=u;a[r.X.OS]=T;a[r.X.PS]=b;k=Object.assign(Object.assign(Object.assign({},c),k),p);m=Object.assign(Object.assign(Object.assign({},c),m),p);d=Object.assign(Object.assign(Object.assign({},c),d),p);c=Object.assign(Object.assign(Object.assign({},c),g),p);a[r.X.DJ]=k;a[r.X.EJ]=k;a[r.X.ED]=k;a[r.X.FJ]=m;a[r.X.GJ]=d;a[r.X.wS]=c;return a;};c.prototype.Tsb=function(a){return!!a.colorGamut||!!a.hdrMetadataType||!!a.transferFunction;};c.prototype.Usb=function(){return M.matchMedia("(dynamic-range: high)").matches;};c.prototype.bR=function(){return this.config().Vda?this.nja(r.X.ED):Promise.resolve(!1);};c.prototype.dR=function(){return this.config().Vda?this.nja(r.X.QD):Promise.resolve(!1);};b.Rxa=c;},function(d,b,a){var g,m,r;function c(a,b,c,d,h,k){a=g.Ml.call(this,a,b,c)||this;a.Bl=d;a.qq=h;a.za=k;a.type=m.kk.r4;a.log=a.qq.ub("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Iqa=void 0;g=a(132);m=a(31);r=a(3);ba(c,g.Ml);c.prototype.Ls=function(a){switch(a){case m.Zh.Yq:return this.rIb;default:return Promise.resolve(!1);}};c.prototype.NG=function(){var a;a=this;return this.Ls(m.Zh.Yq).then(function(a){return a?m.Zh.Yq:void 0;}).then(function(b){return a.ZM(b);});};c.prototype.Faa=function(a){return this.ym=a;};c.prototype.CR=function(){var a;if(this.ym){a=this.YKa&&this.ZKa&&this.YKa.Mb(this.ZKa).ca(r.ja);this.ym.itshdcp=JSON.stringify({hdcp1:this.Su,time1:a});}};qa.Object.defineProperties(c.prototype,{Cl:{configurable:!0,enumerable:!0,get:function(){this.iOa||(this.iOa=this.Bl.JG().then(function(a){return a.createMediaKeys();}));return this.iOa;}},rIb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.Mna||(this.config().nkb?this.Mna=this.Cl.then(function(b){if(b&&b.getStatusForPolicy)return a.ZKa=a.za.gf,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.YKa=a.za.gf;a.Su=b;a.log.trace("hdcpStatus: "+a.Su);return"usable"===a.Su;});a.Su="not available";a.log.trace("hdcpStatus: "+a.Su);return!1;})["catch"](function(b){a.Su="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Su},b);return!1;}).then(function(b){a.CR();return b;}):(this.Su="not enabled",this.log.trace("hdcpStatus: "+this.Su),this.CR(),this.Mna=Promise.resolve(!1)));return this.Mna;}}});b.Iqa=c;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,T,Q,V;Object.defineProperty(b,"__esModule",{value:!0});b.zua=void 0;c=a(60);g=a(132);m=a(31);d=a(96);r=a(139);q=a(135);n=a(3);l=a(259);f=a(133);h=a(249);p="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");t="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");u="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");E="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");J="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");K="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");D=["hdcp=1"];T=["hdcp=2"];Q=new d.Iw();V=new l.bS();a=function(){function a(a,b,c,d,f,h,k){a=g.Ml.call(this,a,b,c)||this;a.xa=d;a.za=f;a.qq=h;a.xc=k;a.type=m.kk.Mz;a.AJ="hvc1";a.YYa="avc1";a.FQa={};a.log=a.qq.ub("MicrosoftVideoCapabilityDetector");a.tHb();a.cR&&a.config().Bwb?a.Kjb=a.ehb():(a.Kjb=Promise.resolve(""),a.config().Dwb?a.jhb():a.config().Cwb&&a.ihb());return a;}ba(a,g.Ml);a.prototype.FG=function(a){return a===m.xd.ct&&this.config().QKb?f.Ed.OJ:g.Ml.prototype.FG.call(this,a);};a.prototype.Ls=function(a){switch(a){case m.Zh.Yq:return this.WUa();case m.Zh.Fz:return this.TP;default:return Promise.resolve(!1);}};a.prototype.IG=function(){return this.cR?this.Frb?this.WUa().then(function(a){return Promise.resolve(a?r.qb.Fd:r.qb.rK);}):Promise.resolve(r.qb.rK):this.sIb?Promise.resolve(r.qb.rK):Promise.resolve(r.qb.fr);};a.prototype.dR=function(){return Promise.resolve(this.VUa());};a.prototype.eR=function(){return this.cR&&this.YUa()?this.TP:Promise.resolve(!1);};a.prototype.bR=function(){return Promise.resolve(this.UUa());};a.prototype.Faa=function(a){this.ym=a;Object.assign(this.ym,this.FQa);a.itshwdrm=this.cR;a.itsqhd=this.XUa();a.itshevc=this.YUa();a.itshdr=this.VUa();a.itsdv=this.UUa();return a;};a.prototype.YL=function(a,b){(this.ym?this.ym:this.FQa)[a]=b;};a.prototype.NG=function(){var a;a=this;return this.Ls(m.Zh.Fz).then(function(b){return b?a.ZM(m.Zh.Fz):a.Ls(m.Zh.Yq).then(function(b){return b?a.ZM(m.Zh.Yq):a.ZM(void 0);});});};a.prototype.ZN=function(){return this.IG().then(function(a){return a===r.qb.Fd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};a.prototype.nY=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=R(b.Cq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=R(b.Hl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.pla[a];c=[];f=r.qb.fr;if(a)return b.is.rn(a)?d=a:(c=a.Ad,d=a.Pe,f=a.Ve),b.zx(f,d,c);});return Promise.resolve(a);};a.prototype.eB=function(){var a;a=g.Ml.prototype.eB.call(this);a[c.X.JK]="vp09.00.11.08.02";a[c.X.KK]="vp09.00.11.08.02";a[c.X.vU]="vp09.00.11.08.02";a[c.X.TS]={Pe:"hev1.2.6.L90.B0",Ve:r.qb.Fd,Ad:p};a[c.X.VS]={Pe:"hev1.2.6.L93.B0",Ve:r.qb.Fd,Ad:p};a[c.X.XS]={Pe:"hev1.2.6.L120.B0",Ve:r.qb.Fd,Ad:p};a[c.X.ZS]={Pe:"hev1.2.6.L123.B0",Ve:r.qb.Fd,Ad:p};a[c.X.RD]={Pe:"hev1.2.6.L150.B0",Ve:r.qb.Fd,Ad:p};a[c.X.SD]={Pe:"hev1.2.6.L153.B0",Ve:r.qb.Fd,Ad:p};a[c.X.US]={Pe:"hev1.2.6.L90.B0",Ve:r.qb.Fd,Ad:p};a[c.X.WS]={Pe:"hev1.2.6.L93.B0",Ve:r.qb.Fd,Ad:p};a[c.X.YS]={Pe:"hev1.2.6.L120.B0",Ve:r.qb.Fd,Ad:p};a[c.X.$S]={Pe:"hev1.2.6.L123.B0",Ve:r.qb.Fd,Ad:p};a[c.X.aT]={Pe:"hev1.2.6.L150.B0",Ve:r.qb.Fd,Ad:p};a[c.X.bT]={Pe:"hev1.2.6.L153.B0",Ve:r.qb.Fd,Ad:p};a[c.X.QJ]={Pe:"hev1.2.6.L90.B0",Ve:r.qb.Fd,Ad:u};a[c.X.RJ]={Pe:"hev1.2.6.L93.B0",Ve:r.qb.Fd,Ad:u};a[c.X.QD]={Pe:"hev1.2.6.L120.B0",Ve:r.qb.Fd,Ad:u};a[c.X.SJ]={Pe:"hev1.2.6.L123.B0",Ve:r.qb.Fd,Ad:E};a[c.X.OS]={Pe:"hev1.2.6.L150.B0",Ve:r.qb.Fd,Ad:E};a[c.X.PS]={Pe:"hev1.2.6.L153.B0",Ve:r.qb.Fd,Ad:E};a[c.X.DJ]={Pe:"hev1.2.6.L90.B0",Ve:r.qb.Fd,Ad:J};a[c.X.EJ]={Pe:"hev1.2.6.L93.B0",Ve:r.qb.Fd,Ad:J};a[c.X.ED]={Pe:"hev1.2.6.L120.B0",Ve:r.qb.Fd,Ad:J};a[c.X.FJ]={Pe:"hev1.2.6.L123.B0",Ve:r.qb.Fd,Ad:K};a[c.X.GJ]={Pe:"hev1.2.6.L150.B0",Ve:r.qb.Fd,Ad:K};a[c.X.wS]={Pe:"hev1.2.6.L153.B0",Ve:r.qb.Fd,Ad:K};return a;};a.prototype.zx=function(a,b,c){a=h.Aw.jX(a,b,c);return this.qu(a);};a.prototype.XUa=function(){return this.zx(r.qb.Fd,this.AJ,p);};a.prototype.VUa=function(){return this.zx(r.qb.Fd,this.AJ,u);};a.prototype.UUa=function(){return this.zx(r.qb.Fd,this.AJ,J);};a.prototype.YUa=function(){return this.zx(r.qb.Fd,this.AJ,t);};a.prototype.WUa=function(){var a;a=this;return this.TP.then(function(b){return b?Promise.resolve(b):a.qRa;});};a.prototype.CR=function(){this.ym&&(this.ym.itshdcp=JSON.stringify({hdcp1:this.WKa,time1:this.oVa-this.wUa,hdcp2:this.XKa,time2:this.pVa-this.xUa}));};a.prototype.tHb=function(){var a;a=this;this.cR?(this.Yka=new q.Zm(),this.Zka=new q.Zm(),this.qRa=q.nb.from(this.Yka).qR().then(function(a){return"probably"===a;}),this.TP=q.nb.from(this.Zka).qR().then(function(a){return"probably"===a;}),this.$Ta(this.Zka,this.config().Fwb),this.SQa(this.oob.bind(this),this.Zka),this.TP.then(function(b){b||(a.$Ta(a.Yka,a.config().Ewb),a.SQa(a.nob.bind(a),a.Yka));})):(this.qRa=Promise.resolve(!0),this.TP=Promise.resolve(!1));};a.prototype.SQa=function(a,b){q.nb.aw(0,this.config().Gwb).map(function(){return a();}).TQ(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).mR(q.nb.from(b)).qR();};a.prototype.$Ta=function(a,b){this.xa.yh(n.Gb(b),function(){a.next("timeout");a.complete();});};a.prototype.nob=function(){var a;a=h.Aw.jX(r.qb.rK,this.YYa,D).split("|");this.WKa=h.Aw.Lna(a[0],a[1]);this.oVa=this.za.gf.ca(n.ja);this.wUa=this.wUa||this.oVa;this.CR();return this.WKa;};a.prototype.oob=function(){var a;a=h.Aw.jX(r.qb.Fd,this.AJ,T).split("|");this.XKa=h.Aw.Lna(a[0],a[1]);this.pVa=this.za.gf.ca(n.ja);this.xUa=this.xUa||this.pVa;this.CR();return this.XKa;};a.prototype.ehb=function(){var a;a=this;return this.Lca(r.qb.Fd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.YL("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};a.prototype.ihb=function(){var a;a=this;this.Lca(r.qb.fr,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.xc.decode(b));a.YL("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.YL("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};a.prototype.jhb=function(){var a;a=this;this.Lca(r.qb.fr,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.xc.decode(b));a.YL("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.YL("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};a.prototype.Lca=function(a,b){var c;c=this;return new Promise(function(d,f){var q,r,p;function g(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x"+V.IN(a&&a.target&&a.target.error&&a.target.error.bZb||0,4));}catch(Da){l(a.target,Da);}}function h(a){l(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.vea(a.message,"PlayReadyKeyMessage","Challenge");m(a.target);d(b);}catch(la){l(a.target,la);}}function l(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});m(a);f(d);}function m(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);q&&q.cancel();}try{r=new Uint8Array(Q.UHb(b));p=new M.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),r);p.addEventListener("mskeymessage",k);p.addEventListener("mskeyadded",h);p.addEventListener("mskeyerror",g);q=c.xa.yh(n.Gb(1E3),function(){l(p,Error("timeout"));});}catch(ya){f(ya);}});};a.prototype.vea=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};qa.Object.defineProperties(a.prototype,{Frb:{configurable:!0,enumerable:!0,get:function(){return this.config().mkb&&(!this.config().Hwb||this.XUa());}},cR:{configurable:!0,enumerable:!0,get:function(){try{return this.qu(r.qb.Fd+'|video/mp4;codecs="'+f.Ed.OD+'"');}catch(A){return!1;}}},sIb:{configurable:!0,enumerable:!0,get:function(){try{return this.qu(r.qb.rK);}catch(A){return!1;}}}});a.bJ='video/mp4;codecs="{0},mp4a";';return a;}();b.zua=a;},function(d,b,a){var g,m,r,q,n;function c(a,b,c,d){a=q.yS.call(this,a,b)||this;a.is=c;a.platform=d;a.type=g.kw.Mz;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.cva=void 0;g=a(31);m=a(60);r=a(139);q=a(450);n=a(249);ba(c,q.yS);c.prototype.aR=function(){return Promise.resolve(this.config().sN&&this.zx(r.qb.fr,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.eB=function(){var a;a={};a[m.Yh.QS]="mp4a.40.2";a[m.Yh.z5]="mp4a.40.5";a[m.Yh.RS]="mp4a.40.2";"browser"===this.platform.bjb?this.config().sN&&(a[m.Yh.uS]={Pe:"avc1",Ve:r.qb.fr,Ad:["audio-endpoint-codec=DD+JOC"]},a[m.Yh.vS]={Pe:"avc1",Ve:r.qb.fr,Ad:["audio-endpoint-codec=DD+JOC"]}):(this.config().Tda&&(a[m.Yh.uS]="ec-3"),this.config().Sda&&(a[m.Yh.y4]="ec-3"),this.config().sN&&(a[m.Yh.vS]={Pe:"avc1",Ve:r.qb.fr,Ad:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.nY=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=R(b.Cq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=R(b.Hl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.pla[a];c=[];f=r.qb.fr;if(a)return b.is.rn(a)?d=a:(c=a.Ad,d=a.Pe,f=a.Ve),b.zx(f,d,c);});return Promise.resolve(a);};c.prototype.zx=function(a,b,c){a=n.Aw.jX(a,b,c);return this.qu(a);};b.cva=c;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,T,Q,V,B,A;Object.defineProperty(b,"__esModule",{value:!0});b.Aqa=void 0;c=a(0);g=a(1);m=a(31);r=a(251);q=a(176);n=a(250);l=a(1001);f=a(1E3);h=a(132);p=a(450);t=a(36);u=a(40);E=a(23);J=a(999);K=a(99);D=a(7);T=a(998);Q=a(53);V=a(32);B=a(44);A=a(30);d=function(){var b;function a(a,b,c,d,f,g,h,k,l,n,m,q){this.sMa=a;this.cast=b;this.config=c;this.xa=d;this.za=f;this.is=g;this.Bl=h;this.qq=k;this.Fe=l;this.platform=n;this.xc=m;this.navigator=q;}a.prototype.Mgb=function(a){var b;b=this.sMa.QFa();switch(a){case m.kw.Mz:return new l.cva(this.config,b,this.is,this.platform);default:return new p.yS(this.config,b);}};a.prototype.Nhb=function(a){var b;b=this.sMa.QFa();switch(a){case m.kk.o4:a=new n.p4(this.config,b,this.is,this.cast);break;case m.kk.r4:a=new J.Iqa(this.config,b,this.is,this.Bl,this.qq,this.za);break;case m.kk.Mz:a=new f.zua(this.config,b,this.is,this.xa,this.za,this.qq,this.xc);break;case m.kk.Pxa:a=new T.Rxa(this.config,b,this.is,this.Fe,this.navigator,this.qq);break;default:a=new h.Ml(this.config,b,this.is);}return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.b6)),c.__param(1,g.l(n.qS)),c.__param(2,g.l(q.IJ)),c.__param(3,g.l(t.Ng)),c.__param(4,g.l(u.Ni)),c.__param(5,g.l(E.Le)),c.__param(6,g.l(K.kt)),c.__param(7,g.l(D.Db)),c.__param(8,g.l(Q.Nl)),c.__param(9,g.l(V.Si)),c.__param(10,g.l(B.qj)),c.__param(11,g.l(A.Nz))],b);}();b.Aqa=d;},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Fta=void 0;c=a(0);g=a(1);m=a(251);r=a(176);q=a(31);n=a(250);l=a(249);d=function(){var b;function a(a,b,c){this.config=a;this.pGa=b;this.cast=c;}a.prototype.QFa=function(){switch(this.config().B3){case q.kk.o4:return n.p4.Hca(this.pGa,this.cast);case q.kk.Mz:return l.Aw.Hca(this.config);default:return this.pGa;}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.IJ)),c.__param(1,g.l(m.Q7)),c.__param(2,g.l(n.qS))],b);}();b.Fta=d;},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.iya=void 0;c=a(0);g=a(31);m=a(1);r=a(133);q=a(23);n=a(475);l=a(453);f=a(9);d=function(){var b,d;function a(a,b,c){this.Cn=a;this.Ia=b;this.OUa=c;this.q$a="video/mp4;codecs={0}";this.G5a="audio/mp4;codecs={0}";a=this.Cn.FG(g.xd.ct);this.p$a=r.Ed.VFa(a);}a.prototype.aN=function(a){a=this.Cn.qob(a);a=this.Ia.jB(a)?a:g.xd.xK;return this.OUa.format(this.q$a,this.p$a[a]);};a.prototype.UM=function(a){if(0===a.length)return this.OUa.format(this.G5a,r.Ed.TR);a=l.W3[a[0].bg]||b.bpa;return a===b.bpa?f.zw:a===b.LXa?f.tua:f.sua;};d=b=a;d.bpa="AAC";d.LXa="XHEAAC";return d=b=c.__decorate([m.N(),c.__param(0,m.l(g.GD)),c.__param(1,m.l(q.Le)),c.__param(2,m.l(n.K8))],d);}();b.iya=d;},function(d,b,a){var c,g,m,r,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.rra=void 0;c=a(0);g=a(31);m=a(176);r=a(1);q=a(60);n=a(455);l=a(454);d=function(){var b;function a(a,b,c){this.config=a;this.yEa=b;this.qAb=c;this.MBb=this.Chb();}a.prototype.pKa=function(){return this.IIa().qKa();};a.prototype.rKa=function(){return this.Zr().qKa();};a.prototype.IIa=function(){this.kba&&this.kba.type==this.config().lba||(this.kba=this.yEa.Mgb(this.config().lba));return this.kba;};a.prototype.Zr=function(){this.A3&&this.A3.type==this.config().B3||(this.A3=this.yEa.Nhb(this.config().B3),this.A3.Faa(this.qAb.fob()));return this.A3;};a.prototype.qob=function(a){var d;if(!a||!a.length)return g.xd.NS;a=this.Ulb(a);for(var b=[g.xd.xK,g.xd.NS,g.xd.tU,g.xd.et,g.xd.ct,g.xd.xD,g.xd.Mw,g.xd.Li],c=b.length;c--;){d=b[c];if((0,this.MBb[d])(a))return d;}return g.xd.xK;};a.prototype.Ls=function(a){return this.Zr().Ls(a);};a.prototype.qu=function(a){return this.Zr().qu(a);};a.prototype.IG=function(){return this.Zr().IG();};a.prototype.dR=function(){return this.Zr().dR();};a.prototype.aR=function(){return this.IIa().aR();};a.prototype.bR=function(){return this.Zr().bR();};a.prototype.eR=function(){return this.Zr().eR();};a.prototype.FG=function(a){return this.Zr().FG(a);};a.prototype.NG=function(){return this.Zr().NG();};a.prototype.ZN=function(){return this.Zr().ZN();};a.prototype.Ulb=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.bg]="";});return Object.keys(b);};a.prototype.Chb=function(){var a;a={};a[g.xd.Li]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[g.xd.xD]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[g.xd.Mw]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[g.xd.ct]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[g.xd.et]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[g.xd.tU]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[g.xd.NS]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=R(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[q.X.PD]);a[g.xd.xK]=function(){return!0;};return a;};b=a;return b=c.__decorate([r.N(),c.__param(0,r.l(m.IJ)),c.__param(1,r.l(l.n4)),c.__param(2,r.l(n.k5))],b);}();b.rra=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,T,Q,V,B,A;Object.defineProperty(b,"__esModule",{value:!0});b.Cn=void 0;d=a(1);c=a(31);g=a(14);m=a(1005);r=a(176);q=a(113);n=a(1004);l=a(251);f=a(1003);h=a(455);p=a(454);t=a(1002);u=a(250);E=a(10);J=a(449);K=a(997);D=a(448);T=a(996);Q=a(248);V=a(995);B=a(447);A=a(30);b.Cn=new d.Ec(function(a){a(q.Zz).to(n.iya).Y();a(c.GD).to(m.rra).Y();a(l.b6).to(f.Fta).Y();a(p.n4).to(t.Aqa).Y();a(l.Q7).Uh({isTypeSupported:E.eE&&E.eE.isTypeSupported});a(u.qS).Uh("undefined"!==typeof cast?cast:null);a(h.k5).cw(function(a){return{fob:function(){return a.fb.get(A.mE);}};});a(r.IJ).cw(function(a){return a.fb.get(g.fd);});a(J.K6).to(K.Mua).Y();a(D.J6).to(T.Nua).Y();a(Q.j5).to(V.osa).Y();a(B.k8).Uh(M);});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;c=a(0);g=a(1);d=function(){function a(a){this.Djb=void 0===a?10:a;}return a=c.__decorate([g.N()],a);}();b.Mya=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Gqa=void 0;c=a(0);g=a(1);m=a(252);d=function(){var b;function a(a){this.sJb=a;this.b3={};}a.prototype.xnb=function(){var a,b,c;a=[];for(b in this.b3){c=this.b3[b];a.push({Ax:Number(b),iD:c.lm().iD,Gda:c.lm().Gda});}return a;};a.prototype.lW=function(a){var b,c;b=a.Ax;c=this.b3[b];c||(c=this.sJb(),this.b3[b]=c);c.lW(a);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.qU))],b);}();b.Gqa=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;c=a(0);g=a(1);m=a(49);r=a(3);q=a(457);d=function(){var b;function a(a){this.config=a;this.sna=m.Dc;this.JI=[];}a.prototype.lm=function(){var b;for(var a;0<this.JI.length;)a=this.JI.shift(),this.DCa(a);a=void 0===this.nN||void 0===this.mB?r.Dc:this.mB.Mb(this.nN);b=a.vMa()?0:this.sna.ca(m.qz)/a.ca(r.ja);return{iD:Math.floor(b),Gda:a.ca(r.ja)};};a.prototype.lW=function(a){this.sna=this.sna.add(a.size);this.JI.push(a.Cjb);for(this.JI.sort(function(a,b){return a.start.Hj(b.start);});this.JI.length>this.config.Djb;)a=this.JI.shift(),this.DCa(a);};a.prototype.DCa=function(a){void 0===this.nN&&(this.nN=a.start);void 0!==this.mB&&0>this.mB.Hj(a.start)&&(this.nN=this.nN.add(a.start.Mb(this.mB)));if(void 0===this.mB||0>this.mB.Hj(a.end))this.mB=a.end;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Q8))],b);}();b.Nya=d;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.dz=void 0;d=a(1);c=a(1009);g=a(1008);m=a(1007);r=a(456);q=a(457);n=a(252);b.dz=new d.Ec(function(a){a(n.R8).to(c.Nya);a(r.q4).to(g.Gqa).Y();a(q.Q8).Uh(new m.Mya());a(n.qU).rf(function(a){return function(){return a.fb.get(n.R8);};});});},function(d,b,a){var g,m,r,q,n,l;function c(a,b,c,d,g,k,l,n,q,r,p,t,u){var f;f=this;this.Wc=a;this.Ia=b;this.Jb=d;this.wq=k;this.KM=l;this.CIa=n;this.config=r;this.Di=t;this.ba=u;this.j=p.create(u.G,u.Kk,q,u.cb,u.id);this.j.background=!0;this.j.ya=u.ya;this.log=c.ub("VideoPlayer",this.j);this.xQa=[];this.ended=!1;this.RR();this.j.state.addListener(function(a){a.newValue===m.ob.vd&&f.Ud(m.zb.Jha,{movieId:u.G});});this.j.Pa.dj&&(this.HF=g.Ogb(this,this.j),this.j.addEventListener(m.V.k2,function(a){f.Ud(m.zb.gFb,{segmentId:a.segmentId});}));}Object.defineProperty(b,"__esModule",{value:!0});b.Eta=void 0;g=a(2);m=a(13);r=a(3);q=a(10);n=a(76);l=a(21);c.prototype.isReady=function(){return this.j.state.value===m.ob.vd;};c.prototype.Qob=function(){return this.j.G;};c.prototype.sZ=function(){return this.j.ia;};c.prototype.mpb=function(){return this.j.xRa;};c.prototype.Jn=function(){return this.j.If;};c.prototype.Xr=function(){return this.j;};c.prototype.ky=function(){return this.j.yq.value;};c.prototype.etb=function(){return this.j.paused.value;};c.prototype.Osb=function(){return this.ended;};c.prototype.vi=function(){var a;a=this.j.Jba.value;return a?{networkStalled:!!a.K2,stalled:!!a.K2,progress:a.wh,progressRollback:!!a.QBb}:null;};c.prototype.getError=function(){var a;a=this.j.aj;return a?a.goa():null;};c.prototype.onb=function(){var a;a=(this.SY()||0)+this.j.OIa();return Math.min(a,this.YIa());};c.prototype.SY=function(){return this.j.HB();};c.prototype.YIa=function(){return this.j.Lr.ca(r.ja);};c.prototype.vqb=function(){return this.j.iJ?{width:this.j.iJ.width,height:this.j.iJ.height}:null;};c.prototype.wfa=function(){var g;if(this.j.Rm){for(var a,b=0;b<this.j.Rm.length;b++)for(var c=this.j.Rm[b],d=0;d<c.ec.length;d++){g=c.ec[d];this.Ia.ph(g.Rca)&&this.Ia.ph(g.nX)&&this.Ia.ph(g.mX)&&this.Ia.ph(g.lX)&&0<g.nX&&(g=g.lX/g.mX,a=this.Ia.ph(a)?Math.min(a,g):g);}return a;}};c.prototype.Enb=function(){return this.j.wfa();};c.prototype.Nmb=function(a){var b,c;return(null===(b=this.j.ya)||void 0===b?0:b.Ci.WN("generateScreenshots"))?this.CIa.Gn(this.log,this.j.ya.Ci,a):(b=null===(c=this.j.Pa)||void 0===c?void 0:c.Ik)?this.CIa.te(this.log,Object.assign({packageId:b},a)):Promise.reject("Unknown packageId");};c.prototype.Nnb=function(){return this.Onb(this.j.wda);};c.prototype.Zmb=function(){var a;a=this;return this.j.vn?this.j.vn.map(function(b){return a.IB(b);}).filter(function(a){return null!==a;}):[];};c.prototype.uKa=function(a){var b,c;b=this;c=a&&this.j.vn.find(function(c){return b.IB(c)===a;})||this.j.Rc.value;return null===c?[]:c.Tk.map(function(a){return b.IB(a);}).filter(function(a){return null!==a;});};c.prototype.btb=function(){return this.j.muted.value;};c.prototype.yqb=function(){return this.j.volume.value;};c.prototype.Ymb=function(){return this.IB(this.j.Rc.value);};c.prototype.tKa=function(){return this.IB(this.j.uc.value);};c.prototype.Esb=function(){return!!this.j.background;};c.prototype.dGb=function(a){this.j.muted.set(!!a);};c.prototype.zGb=function(a){this.j.volume.set(this.xPa(a,1));};c.prototype.iGb=function(a){this.j.playbackRate.set(this.xPa(a,2));};c.prototype.No=function(){return this.j.playbackRate.value;};c.prototype.NFb=function(a){var b,c;b=this;c=this.j.vn.find(function(c){return b.IB(c)===a;});c?this.j.Rc.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.STa=function(a){var d;if(null!==this.j.Rc.value){for(var b=this.j.Rc.value.Tk,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.uc.set(null);return;}if(this.IB(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.uc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.CTa=function(a){this.j.background=a;};c.prototype.VQ=function(){this.j.VQ();};c.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.Nv=function(){};c.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Ud(m.zb.Wub,void 0,!0);b.ya&&(b.ya.Nf.hXa&&a.Ud(m.zb.LLb,b.ya.Nf.hXa,!0),b.ya.Nf.uu&&a.Ud(m.zb.fFb,{segmentMap:b.ya.Nf.uu},!0));c({da:!0});}catch(F){c({ga:g.J.ih,sb:a.Wc.Ge(F)});}}));};c.prototype.close=function(a){var b;b=this;this.aFa||(this.aFa=new Promise(function(c){a?b.j.ZA(a,c):b.j.close(c);}));return this.aFa;};c.prototype.play=function(){this.j.qk?this.j.fireEvent(m.V.USa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(m.V.OWa)));};c.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(m.V.dLb));};c.prototype.seek=function(a,b,c,d){this.j.fj?this.j.fj.seek(a,b,c,d):this.j.SA=a;};c.prototype.vAb=function(a){return this.HF?(this.log.trace("Playing a segment",a),this.HF.play(a)):Promise.resolve();};c.prototype.hCb=function(a){return this.HF?(this.log.trace("Queueing a segment",a),this.HF.Ok(a)):Promise.resolve();};c.prototype.up=function(a,b){return this.HF?(this.log.trace("Updating next segment weights",a,b),this.HF.up(a,b)):Promise.resolve();};c.prototype.wR=function(){this.j.wR();};c.prototype.oZ=function(){var a;a=this.j.$n.oZ();return{bounds:a.sM,margins:a.$o,size:a.size,visibility:a.visibility};};c.prototype.NQ=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.pR&&(b&&this.j.pR.cna(b),c&&this.j.pR.dna(c),"boolean"===typeof a&&this.j.pR.ena(a));this.j.$n&&d&&this.j.$n.tGb(d);};c.prototype.TTa=function(a){this.j.Uk=a;};c.prototype.iqb=function(a){return this.j.dw&&this.j.dw.lob(a)||null;};c.prototype.Smb=function(){return this.Wc.EH({playerver:this.config.version,jssid:this.config.Itb,groupName:this.config.mob(),xid:this.j.ia,pbi:this.j.index},this.config.rAb,{prefix:"pi_"});};c.prototype.csb=function(a){this.j.md(g.K.S_a,g.J.$k,a);};c.prototype.Kub=function(a,b,c,d){if(!this.Ia.fDa(a))throw Error("invalid url");this.xQa.push({url:a,name:b,Pbb:c,options:d});this.nRa();};c.prototype.hKa=function(){var a,b,c,d,g,k,n,m;a={};b=this.j.AUa;try{if(this.j.aj&&(a.errorCode=this.j.aj.JX,a.errorType=b?"endplay":"startplay"),a.playdelay=l.Nj(this.j.Pba()),a.xid=this.j.ia,this.j.ya&&this.Ia.rn(this.j.ya.Nf.Ik)&&(a.packageId=Number(this.j.ya.Nf.Ik)),a.auth=this.j.anb(),b){a.totaltime=this.j.zm?this.Mu(this.j.zm.cO()):0;a.abrdel=this.j.zm?this.j.zm.JIa():0;c=this.j.fj;d=c?c.DB():null;this.Ia.ph(d)&&(a.totdfr=d);d=c?c.PN():null;this.Ia.ph(d)&&(a.totcfr=d);g=c?c.wob():null;g&&(a.rbfrs_decoder=g.tX,a.rbfrs_network=g.E0);a.rbfrs_delay=this.j.zm?this.j.zm.yha:0;a.init_vbr=this.j.f_;k=this.$N();this.Ia.jB(k)&&(a.pdltime=k);n=this.j.mf.value;m=n&&n.stream;m&&(a.vbr=m.R,a.vdlid=m.pd);a.bufferedTime=this.j.OIa();}}catch(D){this.log.error("error capturing session summary",D);}return a;};c.prototype.xN=function(a){return this.Ia.ph(this.j.Za.value)?(a=Object.assign(Object.assign({},this.wq.create(this.j)),{action:a}),this.KM(n.Ol.xN).Gn(this.log,this.j.ya.Ci,a).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.ed,errorExternalCode:a.sh,errorData:a.data,errorDetails:a.hG};})):Promise.resolve({success:!1});};c.prototype.Onb=function(a){return{register:a.register.bind(a),notifyUpdated:a.rPa.bind(a),getModel:a.Oob.bind(a),getGroups:a.$Y.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.IB=function(a){var b;if(null!==a){b=a.XBb=a.XBb||{trackId:a.$a,bcp47:a.nl,displayName:a.displayName,trackType:a.Qm,channels:a.Do};a.Nn&&(b.isImageBased=!0);this.gtb(a)&&(b.isNative=a.isNative);this.htb(a)&&(b.isNoneTrack=a.v_(),b.isForcedNarrative=a.q_());return b;}return null;};c.prototype.gtb=function(a){return"undefined"!==typeof a.isNative;};c.prototype.htb=function(a){return"undefined"!==typeof a.v_&&"undefined"!==typeof a.q_;};c.prototype.xPa=function(a,b){return 0<=a?a<=b?a:b:0;};c.prototype.Mu=function(a){return this.Ia.ph(a)?(a/1E3).toFixed(0):"";};c.prototype.Ud=function(a,b,c){b=b||{};b.target=this;this.Jb.Wb(a,b,!c);};c.prototype.RR=function(){var a;a=this;this.j.addEventListener(m.V.Xna,function(){a.Ud(m.zb.Ho);});this.j.addEventListener(m.V.g0,function(){a.Ud(m.zb.iEa);});this.j.addEventListener(m.V.Cm,function(){a.Ud(m.zb.iEa);});this.j.addEventListener(m.V.ZG,function(b){a.Ud(m.zb.ZG,{errorCode:b});});this.j.addEventListener(m.V.qba,function(b){a.Ud(m.zb.Qbb,b.j);});this.j.addEventListener(m.V.qk,function(b){a.Ud(m.zb.Rbb,b);});this.j.yq.addListener(function(){a.Ud(m.zb.OAb);});this.j.paused.addListener(function(){a.Ud(m.zb.Mzb);});this.j.muted.addListener(function(){a.Ud(m.zb.qxb);});this.j.volume.addListener(function(){a.Ud(m.zb.ELb);});this.j.Ob.addListener(function(){a.qWa();});this.j.state.addListener(function(){a.qWa();});this.j.Jba.addListener(function(b){a.Tub||a.j.state.value!=m.ob.vd||b.newValue||(a.Tub=!0,a.Ud(m.zb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.hKa());}));a.Ud(m.zb.Kba);});this.j.Rc.addListener(function(b){a.Ud(m.zb.iM);b.oldValue&&b.newValue&&b.oldValue.Tk==b.newValue.Tk||a.Ud(m.zb.lD);setTimeout(function(){var b;if(null!==a.j.Rc.value&&null!==a.j.uc.value){b=a.j.Rc.value.Tk;0<=b.indexOf(a.j.uc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.uc.set(b[0]));}},0);});this.j.uc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.$a==b.newValue.$a||a.Ud(m.zb.ZI);});this.j.addEventListener(m.V.lD,function(){a.Ud(m.zb.lD);});this.j.addEventListener(m.V.uR,function(){a.Ud(m.zb.uR);});this.j.state.addListener(function(b){switch(b.newValue){case m.ob.vd:a.Ud(m.zb.Vjb);a.Ud(m.zb.yLb);a.Ud(m.zb.HDa);a.Ud(m.zb.lD);a.Ud(m.zb.Vub);a.nRa();a.QLb();break;case m.ob.CLOSING:a.j.aj&&a.Ud(m.zb.error,a.j.aj.goa());break;case m.ob.CLOSED:a.Ud(m.zb.closed),a.Jb.xg();}});};c.prototype.QLb=function(){var a;a=this;this.j.$n.addEventListener("showsubtitle",function(b){a.Ud(m.zb.ZGb,b,!0);});this.j.$n.addEventListener("removesubtitle",function(b){a.Ud(m.zb.zDb,b,!0);});};c.prototype.nRa=function(){if(this.j.state.value==m.ob.vd){for(var a,b,c;b=this.xQa.shift();)a=this.j.$n.Eaa(b.url,b.name,b.options),b.Pbb&&(c=a);c&&this.j.uc.set(c);}};c.prototype.qWa=function(){var a;a=this.j.state.value==m.ob.vd&&this.j.Ob.value==m.kb.Vq;this.ended!==a&&(this.ended=a,this.j.xo("Ended changed: "+a),(a||this.j.state.value===m.ob.CLOSING)&&this.Ud(m.zb.Kkb));};c.prototype.$N=function(){var a,b;try{a=/playercore.*js/;b=q.br.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(x){}};b.Eta=c;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.oza=void 0;c=a(0);g=a(1);m=a(100);r=a(25);q=a(23);n=a(7);l=a(77);f=a(254);h=a(459);p=a(1011);t=a(253);u=a(76);E=a(458);d=function(){var b;function a(a){this.bd=a;}a.prototype.whb=function(a,b,c,d){return new p.Eta(this.bd.get(r.uf),this.bd.get(q.Le),this.bd.get(n.Db),this.bd.get(l.GS),this.bd.get(f.jU),this.bd.get(t.OT),this.bd.get(u.FS),this.bd.get(E.B7),this.bd.get(h.N4),a,b,c,d);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Y5))],b);}();b.oza=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.XWa=void 0;d=a(1);c=a(461);g=a(1012);b.XWa=new d.Ec(function(a){a(c.j9).to(g.oza).Y();});},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Vya=void 0;c=a(0);g=a(1);m=a(14);d=function(){var b;function a(a){this.config=a;}a.prototype.LBb=function(a,b,c){var d,f;if(this.config().vFb){d=a.metrics;if(void 0!==d){f=a.playlistSegment||void 0;b.hv.transition({isBranching:void 0===f||void 0,isPlaygraph:f,mid:b.G,xid:b.ia,srcxid:c.ia,srcmid:c.G,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard});}}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.fd))],b);}();b.Vya=d;},function(d,b,a){var g,m,r;function c(a,b,c,d,g){this.debug=a;this.version=b;this.Itb=c;this.rAb=d;this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Yxa=void 0;g=a(0);m=a(1);r=a(3);c.prototype.mob=function(){return this.config().dy;};c.prototype.pfa=function(){return this.config().aEa;};c.prototype.cga=function(){return r.Gb(this.config().QAb);};c.prototype.IJa=function(){return this.config().Sub;};c.prototype.LJa=function(){return this.config().Jvb;};d=function(){var b;function a(){}a.prototype.Ux=function(a,b,d,g,k){return new c(a,b,d,g,k);};b=a;return b=g.__decorate([m.N()],b);}();b.Yxa=d;},function(d,b,a){var r,q,n,l;function c(a,b,c,d,g,k){var f;f=this;this.U=b;this.j=c;this.xy=d;this.xa=g;this.AF=k;this.MF=function(){f.Ay&&(f.Ay.cancel(),f.Ay=void 0);};this.log=a.ub("SegmentManager",this.j);this.Wa=new Map();this.j.Pa.dj&&(this.j.addEventListener(n.V.k2,function(a){return f.ska(a);}),this.j.addEventListener(n.V.closed,this.MF));}function g(a,b){this.id=a;this.bca=b;}function m(a,b,c,d){return q.vc.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.hqa=void 0;r=a(2);q=a(45);n=a(13);l=a(3);ba(m,q.vc);m.prototype.toString=function(){return this.code+"-"+this.ed+" : "+this.message+"\n"+JSON.stringify(this.data);};g.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.qf,contentEndPts:this.dg};};qa.Object.defineProperties(g.prototype,{qf:{configurable:!0,enumerable:!0,get:function(){return this.bca.startTimeMs;}},dg:{configurable:!0,enumerable:!0,get:function(){return this.bca.endTimeMs;}},K0:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.bca.next);}}});c.prototype.ska=function(a){var b,c;b=this;if(0===this.Wa.size){c=this.j.RY();Object.keys(c).forEach(function(a){b.Wa.set(a,new g(a,c[a]));});}this.fa=this.Wa.get(a.segmentId);};c.prototype.play=function(a){this.kI&&(this.kI=void 0);this.MF();this.log.trace("Playing segment",a);return this.bMa(a)?this.uAb(a):this.k1(a);};c.prototype.Ok=function(a){this.log.trace("Queueing segment",a);return this.bMa(a)?this.gCb(a):this.iCb(a);};c.prototype.up=function(a,b){var c,d;c=this;d=this.j.Ib;if(!d)return Promise.reject(this.getError(r.K.Xpa,"ASE session manager is not yet initialized",r.J.Z3,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.l3(a,b);c.j.fireEvent(n.V.up,{Ma:a,DKb:b});f();}catch(J){g(c.getError(r.K.Xpa,"updateNextSegmentWeights threw an exception",r.J.pYa,{segmentId:a,updates:b,error:J}));}});};c.prototype.bMa=function(a){return this.fa?void 0!==this.j.RY()[this.fa.id].next[a]:!1;};c.prototype.ZJa=function(){if(this.j.Ib)return this.j.Ib.fZ().we;};c.prototype.qpb=function(){if(this.j.Ib)return this.j.Ib.fZ().id;};c.prototype.znb=function(a){if(this.j.Ib)return(a=this.j.Ib.QY(a))&&a.de;};c.prototype.uAb=function(a){var b,c,d;b=this;c=this.j.Ib;if(!c)return Promise.reject(this.getError(r.K.vJ,"ASE session manager is not yet initialized",r.J.Z3,{id:a}));if(this.fa&&1===this.fa.K0.length)return this.k1(a);if(!this.j.fj)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(r.K.vJ,"MediaPresenter is not initialized",r.J.mYa,{id:a}));d=this.znb(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.k1(a)):new Promise(function(f,g){var p,t,u,x,F,E;function h(){!u&&t&&p&&(E.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:t,repositioned:p,completed:u}),c.vu(a,!1,!0)?(f(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.k1(a).then(f)["catch"](g)));}function k(){p=!0;b.log.trace("Player is repositioned",{id:a,stopped:t,repositioned:p,completed:u});b.j.removeEventListener(n.V.Cm,k);h();}function m(){b.j.removeEventListener(n.V.KC,m);c.stop();}function q(){t=!0;b.log.trace("ASE is stopped",{id:a,stopped:t,repositioned:p,completed:u});c.removeEventListener("stop",q);h();}p=!1;t=!1;u=!1;x=b.Wa.get(a);F=x.qf+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:F,currentSegment:b.fa,nextSegment:x},null,"  "));b.j.fireEvent(n.V.J0,{cg:b.fa&&b.fa.id,qP:a});c.addEventListener("stop",q);b.j.addEventListener(n.V.KC,m);b.j.addEventListener(n.V.Cm,k);E=b.xa.yh(l.eh(10),function(){u=!0;E.cancel();g(b.getError(r.K.vJ,"Timed out waiting for the player to be repositioned and ASE to be stopped",r.J.lYa,{id:a,stopped:t,repositioned:p,completed:u}));});b.U.seek(F,n.Be.Wz);});};c.prototype.k1=function(a){var b;b=this.Wa.get(a);return b?this.uQ(b,r.K.vJ):Promise.reject(this.getError(r.K.vJ,"Unable to find the separated segment",r.J.Wpa,{id:a}));};c.prototype.gCb=function(a){var b;b=this.j.Ib;if(!b)return Promise.reject(this.getError(r.K.zD,"ASE session manager is not yet initialized",r.J.Z3,{id:a}));if(b.vu(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(r.K.zD,"ASE chooseNextSegment failed",r.J.jYa,{id:a}));};c.prototype.iCb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.G,srcsegment:this.qpb()});if(this.kI)return Promise.reject(this.getError(r.K.zD,"Unable to queue a non-next segment because there is currently already a segment queued",r.J.oYa,{currentSegment:this.fa?this.fa.id:void 0,queuedSegment:this.kI.id,failedSegment:a}));if(!this.fa)return Promise.reject(this.getError(r.K.zD,"Unable to queue a non-next segment because there is no currently playing segment",r.J.kYa,{nextSegmentid:a}));c=this.Wa.get(a);if(!c)return Promise.reject(this.getError(r.K.zD,"Unable to find the separated segment",r.J.Wpa,{nextSegmentid:a,currentSegmentId:this.fa.id}));this.kI={id:a,ys:new Promise(function(d,f){var g;b.Ay=b.xy.Kca({cga:function(){return l.Gb(100);}},function(){return b.U.j.Za.value||0;});g=b.ZJa()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:g});b.Ay.observe(g,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.fa.id,playerEndPts:b.ZJa(),pts:g});b.kI=void 0;b.MF();b.uQ(c,r.K.zD).then(d)["catch"](f);});})};this.kI.ys["catch"](function(a){b.j.md(a.code,a);});return Promise.resolve();};c.prototype.uQ=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.U.seek(a.qf,n.Be.st);d();}catch(E){f(c.getError(b,"Seek threw an exception",r.J.nYa,{id:a.id,error:E}));}});};c.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new m(a,b,c,d);};b.hqa=c;},function(d,b,a){var q,n,l,f;function c(a,b,c,d,g,k,l,m,r){var h;h=this;this.sa=a;this.xy=c;this.Uka=d;this.config=g;this.Di=k;this.JP=l;this.kd=m;this.$kb=Object.keys(n.zb).map(function(a){return{event:n.zb[a],BZ:function(b){return h.Jb.Wb(n.zb[a],b);}};});this.Jb=r.create();this.HC=[];this.log=b.ub("SegmentManager");new q.Zm();this.Qea=!0;this.If=this.kd.createElement("div",f.n8);}function g(a,b,c,d,f,g,k,l,n){var h;h=this;this.log=a;this.config=b;this.qyb=c;this.Uka=d;this.Di=f;this.JP=g;this.Hq=k;this.ba=l;this.If=n;this.MF=function(){h.Ay&&(h.Ay.cancel(),h.Ay=void 0);};this.Dga=function(a){h.log.trace("Received the transition event",{movieId:a.G});h.xCb();};this.log.debug("Constructing session data",m(l));this.tia=new q.Zm();this.cJb=new Promise(function(a){h.xCb=a;});}function m(a){return{movieId:a.G};}function r(a){return JSON.stringify({movieId:a.G,startPts:a.S,logicalEnd:a.ej,params:a.cb?{trackingId:a.cb.Wh,authParams:a.cb.jM,sessionParams:a.cb.Yn,disableTrackStickiness:a.cb.Ada,uiPlayStartTime:a.cb.k3,loadImmediately:a.cb.Q_,playbackState:a.cb.playbackState?{currentTime:a.cb.playbackState.currentTime,volume:a.cb.playbackState.volume,muted:a.cb.playbackState.muted,playbackRate:a.cb.playbackState.playbackRate}:void 0,pin:a.cb.CQa,heartbeatCooldown:a.cb.Nga,uiLabel:a.cb.ke}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.$xa=void 0;q=a(135);n=a(13);l=a(3);f=a(9);g.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",m(this.ba));this.U=this.Uka.whb(this.config,this.JP,this.Di,this.ba);this.U.addEventListener(n.zb.ZG,function(a){b.log.trace("Segment is inactive",m(b.ba));b.Hq.close(b.Di(a.errorCode));});this.U.addEventListener(n.zb.closed,this.MF);if(a)this.log.debug("Pausing background segment",m(this.ba)),this.U.addEventListener(n.zb.Jha,this.Dga),this.U.pause();else{this.If.appendChild(this.U.Jn());c=function(a){b.Dga(a);b.U.removeEventListener(n.zb.loaded,c);};this.U.addEventListener(n.zb.loaded,c);}};g.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",r(this.ba));if(this.Ay)this.log.trace("Segment is currently observing",m(this.ba));else if(this.ba.cb&&this.ba.cb.Q_)this.tia.next(this);else{b=this.qyb.Kca(this.config,function(){var b;if(a.U){b=a.U.j.Za.value;if(b)return b;}return 0;});c=this.fdb(this.ba);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",m(a.ba));a.tia.next(a);a.MF();});}};g.prototype.close=function(a){this.log.info("Closing segment",{segment:r(this.ba),error:a});return this.U?(this.U.removeEventListener(n.zb.Jha,this.Dga),this.U.close(a)):Promise.resolve();};g.prototype.fdb=function(a){var b,c;b=a.ej;a=a.cb?a.cb.Q_:!1;c=0;b&&!a&&(c=b-this.config.IJa(),c<this.config.LJa()&&(a=b-this.config.LJa(),c=b-a/2));return c;};c.prototype.xpb=function(){return this.Ee&&this.Ee.U?this.Ee.U.isReady():!1;};c.prototype.Jn=function(){return this.If;};c.prototype.Kh=function(){if(!this.Ee||!this.Ee.U)throw Error("Player not ready");return this.Ee.U;};c.prototype.rKb=function(a){var b,c;c=this.Eea(a);c?this.wWa(c,a):(this.log.Daa("xid",null===(b=this.Ee.U)||void 0===b?void 0:b.sZ()),this.log.error("Tried to update a non-existent segment",{segment:r(a),currentMovieId:this.Ee.ba.G,queuedMovieIds:this.HC.map(function(a){return a.ba.G;})}));};c.prototype.Mp=function(a){var b;this.log.info("Adding segment",r(a));this.Qea?(this.log.trace("First segment, loading",m(a)),b=this.$Ma(a),this.Qea=!1):(this.log.trace("Subsequent segment, caching",m(a)),(b=this.Eea(a))?this.wWa(b,a):(b=this.Bn(a),this.HC.push(b),this.Ee.observe()));return b?b.cJb:null;};c.prototype.transition=function(a){var b;if(this.wv&&this.wv.U){b=this.wv;this.wv=void 0;this.log.info("Transitioning segment",r(b.ba));b&&b.U&&b.U.TTa(this.sa.Zb().ca(l.ja));return this.PVa(b,a);}return Promise.resolve();};c.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(m(this.Ee.ba)),nextSession:this.wv?JSON.stringify(m(this.wv.ba)):void 0});a=[this.Ee.close(a)];this.wv&&a.push(this.wv.close());return Promise.all(a).then(function(){b.wv=void 0;b.HC=[];b.Qea=!0;});};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.wWa=function(a,b){this.pzb(a.ba,b);this.log.trace("Overwrote existing segment data",r(a.ba));};c.prototype.$Ma=function(a){var b,c;b=this;this.log.info("Loading the next episode",m(a));this.Ee?(this.config.pfa()[a.G]=a.S,c=this.Eea(a)):c=this.Bn(a);if(c)return this.log.trace("Found the next session",m(a)),c.tia.subscribe(function(a){b.SIb(a);}),this.Ee?(this.log.trace("Subsequent playback, caching player and pausing",m(a)),this.wv=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",m(a)),c.load(!1),this.PVa(c)),c;this.log.warn("Unable to find the session, make sure to add it before loading",m(a));};c.prototype.PVa=function(a,b){var c,d;b=void 0===b?{}:b;this.log.trace("Playing episode",m(a.ba));c=this.Ee;this.Ee=a;if(this.Ee.U&&(this.Ee.U.CTa(!1),this.RR(this.Ee.U,c?c.U:void 0),c&&c.U)){d=c.U.Jn();a=this.Ee.U.Jn();d.style.display="none";c=c.close();this.If.appendChild(a);this.Ee.U&&(a.style.display="block",this.Ee.U.getError()?this.Ee.U.close():(this.Ee.U.Xr().nKb(b),this.Ee.U.VQ(),this.Ee.U.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};c.prototype.SIb=function(a){var b,c,d,f;if(this.HC.length&&a.U){a=a.U.j.Za.value;b=this.HC[0];c=this.Ee.ba.ej;d=this.Ee.ba.cb?this.Ee.ba.cb.Q_:!1;if(c||d){d?f=0:c&&(f=c-this.config.IJa());null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",m(b.ba)),this.$Ma(b.ba),this.HC.splice(0,1));}}};c.prototype.Eea=function(a){return this.Ee.ba.G===a.G?this.Ee:this.HC.find(function(b){return b.ba.G===a.G;});};c.prototype.pzb=function(a,b){a.S=b.S||a.S;a.ej=b.ej||a.ej;a.cb=b.cb||a.cb;a.ya=b.ya||a.ya;};c.prototype.Bn=function(a){return new g(this.log,this.config,this.xy,this.Uka,this.Di,this.JP,this,a,this.If);};c.prototype.RR=function(a,b){this.$kb.forEach(function(c){b&&b.removeEventListener(c.event,c.BZ);a.addEventListener(c.event,c.BZ);});this.Jb.Wb(n.Tz.yQ);};b.$xa=c;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J;Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;c=a(0);g=a(1);m=a(24);r=a(7);q=a(255);n=a(114);l=a(462);f=a(461);h=a(1017);p=a(1016);t=a(84);u=a(36);E=a(466);J=a(25);d=function(){var b;function a(a,b,c,d,f,g,k,h,l,n){this.sa=a;this.kf=b;this.xy=c;this.xLb=d;this.JP=f;this.xa=g;this.AF=k;this.Di=h;this.oea=l;this.kd=n;}a.prototype.phb=function(a){return new h.$xa(this.sa,this.kf,this.xy,this.xLb,a,this.Di,this.JP,this.kd,this.oea);};a.prototype.Ogb=function(a,b){return new p.hqa(this.kf,a,b,this.xy,this.xa,this.AF);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.We)),c.__param(1,g.l(r.Db)),c.__param(2,g.l(q.rT)),c.__param(3,g.l(f.j9)),c.__param(4,g.l(l.a8)),c.__param(5,g.l(u.Ng)),c.__param(6,g.l(t.sJ)),c.__param(7,g.l(n.Sz)),c.__param(8,g.l(E.MD)),c.__param(9,g.l(J.uf))],b);}();b.Zxa=d;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Wa=void 0;d=a(1);c=a(254);g=a(463);m=a(1018);r=a(1015);q=a(460);n=a(1014);b.Wa=new d.Ec(function(a){a(c.jU).to(m.Zxa).Y();a(g.A8).to(r.Yxa).Y();a(q.W8).to(n.Vya).Y();});},function(d,b){function a(a,b,d){this.xa=a;this.config=b;this.getTime=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;a.prototype.observe=function(a,b){var c;c=this;this.cancel();this.Rh=this.xa.tma(this.config.cga(),function(){c.getTime()>=a&&(c.cancel(),b());});};a.prototype.cancel=function(){this.Rh&&(this.Rh.cancel(),this.Rh=void 0);};b.fva=a;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.eva=void 0;c=a(0);g=a(1);m=a(1020);r=a(36);d=function(){var b;function a(a){this.xa=a;}a.prototype.Kca=function(a,b){return new m.fva(this.xa,a,b);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.Ng))],b);}();b.eva=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.AOa=void 0;d=a(1);c=a(255);g=a(1021);b.AOa=new d.Ec(function(a){a(c.rT).to(g.eva).Y();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,b,d){for(;void 0!==a;a=a.cause)d=b(d,a);return d;};},function(d,b,a){var p,t,u,E,J;function c(a){return h.call(this,a,function(a){return{Details:a};})||this;}function g(a){return h.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function m(a,b){b=h.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.xc=a;return b;}function r(a,b){b=h.call(this,b,function(a){return a();})||this;b.Wc=a;return b;}function q(a,b){return l.call(this,a,b,function(a){var b;b=u.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;q.yeb(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function n(a){return h.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function l(a,b,c){b=h.call(this,b,c)||this;b.Wc=a;return b;}function f(a){return h.call(this,a,function(a){return{Details:a};})||this;}function h(a,b){this.Fq=a;this.value=b?b(a):a;}Object.defineProperty(b,"__esModule",{value:!0});b.cua=b.U_a=void 0;p=a(0);t=a(1);u=a(1023);E=a(25);J=a(44);h.prototype.yN=function(a){return this.Fq===a;};ba(f,h);f.prototype.mD=function(a,b){return b?"":"\r\n"+this.Fq;};ba(l,h);l.prototype.mD=function(){var a;a="";this.Wc.Nx(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(Q){try{a+=", "+b+": "+JSON.stringify(c);}catch(V){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ba(n,h);n.prototype.mD=function(a){var b;b="\r\n"+this.Fq.message;a||(b+="\r\n"+this.Fq.stack);return b;};ba(q,l);q.yeb=function(a,b,c){var g,k;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){k=""+d[f];b[k]=b[k]||[];b[k].push(g);}}};b.U_a=q;ba(r,h);r.prototype.mD=function(){var a;a="";this.Wc.Nx(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ba(m,h);m.prototype.mD=function(a,b){return this.Fq&&!b?"\r\n"+this.xc.encode(this.Fq):"";};ba(g,h);g.prototype.mD=function(){return this.Fq?this.Fq.toJSON():"";};ba(c,h);c.prototype.mD=function(){return", "+(this.Fq.toString?""+this.Fq.toString():"");};d=function(){var b;function a(a,b){this.xc=a;this.Wc=b;this.Bd=[];}a.prototype.nab=function(a){this.Bd.push(new f(a));};a.prototype.cab=function(a){this.Bd.push(new l(this.Wc,a));};a.prototype.R$a=function(a){this.Bd.push(new n(a));};a.prototype.P$a=function(a){this.Bd.push(new q(this.Wc,a));};a.prototype.U$a=function(a){this.Bd.push(new r(this.Wc,a));};a.prototype.oab=function(a){this.Bd.push(new m(this.xc,a));};a.prototype.aab=function(a){this.Bd.push(new g(a));};a.prototype.pab=function(a){this.Bd.push(new c(a));};a.prototype.sk=function(){return this.Bd;};b=a;return b=p.__decorate([t.N(),p.__param(0,t.l(J.qj)),p.__param(1,t.l(E.uf))],b);}();b.cua=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.bua=void 0;c=a(0);g=a(1);m=a(1024);r=a(44);q=a(25);d=function(){var b;function a(a,b){this.xc=a;this.Wc=b;}a.prototype.Eob=function(){return new m.cua(this.xc,this.Wc);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.qj)),c.__param(1,g.l(q.uf))],b);}();b.bua=d;},function(d,b,a){var g,m;function c(a,b,c,d,f,g,k){this.level=a;this.em=b;this.timestamp=c;this.message=d;this.Bd=f;this.prefix=g;this.index=void 0===k?0:k;}Object.defineProperty(b,"__esModule",{value:!0});b.Cpa=void 0;g=a(3);m={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.d3=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.YHb(!!a));return(this.timestamp.ca(g.ja)/1E3).toFixed(3)+"|"+this.index+"|"+(m[this.level]||this.level)+"|"+this.em+"| "+a;};c.prototype.YHb=function(a){var f;for(var b=this.Bd.length,c="",d=0;d<b;++d){f=this.Bd[d].Fq;d&&c.length&&(c+=" ");if("object"===typeof f)if(null===f)c+="null";else if(f instanceof Error)c+=this.XHb(f,a);else try{c+=JSON.stringify(f);}catch(h){c+=this.WHb(f);}else c+=f;}return c;};c.prototype.XHb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};c.prototype.WHb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};b.Cpa=c;},function(d,b,a){var g,m;function c(a,b,c,d,f,k){a=g.XD.call(this,a,b,c,d)||this;a.Bga=f;Array.isArray(k)?a.prefix=k:k&&"string"===typeof k&&(a.prefix=[],a.prefix.push(k));return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Dpa=void 0;g=a(256);m=a(1026);ba(c,g.XD);c.prototype.nx=function(a,b,c){a=new m.Cpa(a,this.em,this.sa.Zb(),b,c,this.prefix);b=R(this.Kl.Kl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.prototype.Mca=function(a){return new c(this.sa,this.nu,this.Kl,a,this.Bga,this.prefix);};b.Dpa=c;},function(d,b,a){var g,m,r;function c(a,b,c,d,k){a=r.XD.call(this,a,b,c,k)||this;a.j=d;g.sm(a,"playback");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=void 0;g=a(54);m=a(464);r=a(256);ba(c,r.XD);c.prototype.Mca=function(a){return new c(this.sa,this.nu,this.Kl,this.j,a);};c.prototype.nx=function(a,b,c){a=new m.q6(a,this.em,this.sa.Zb(),b,c,this.j.index);b=R(this.Kl.Kl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};b.Gwa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,b,d,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==g&&(this.message=g);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.VA=void 0;c=a(1029);b.VA=function(a,b){var g;a=a.Eob();for(var d=0;d<b.length;++d){g=b[d];void 0!=g&&null!=g&&(g.Wg&&(g=g.Wg),g.constructor===Uint8Array?a.oab(g):"MediaRequest"===g.constructor.name?a.aab(g):"string"===typeof g?a.nab(g):"function"===typeof g?a.U$a(g):g instanceof Error?a.R$a(g):g instanceof c.EnumeratedErrorBase?a.P$a(g):g instanceof Object?a.cab(g):a.pab(g));}return a.sk();};},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.jua=void 0;c=a(0);g=a(256);m=a(1);r=a(1028);q=a(24);n=a(94);l=a(7);f=a(1027);d=function(){var b;function a(a,b,c){this.sa=a;this.Kl=b;this.Bia=c;}a.prototype.ub=function(a,b,c,d,k){c=void 0===c?this.Kl:c;return b?new r.Gwa(this.sa,this.Bia,c,b,a):k?new f.Dpa(this.sa,this.Bia,c,a,d||"",k):new g.XD(this.sa,this.Bia,c,a);};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(q.We)),c.__param(1,m.l(n.Gz)),c.__param(2,m.l(l.r6))],b);}();b.jua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.kua=void 0;c=a(0);g=a(1);d=function(){var b;function a(){this.rna={};this.Kl=[];}a.prototype.L1=function(a,b){var c;c=this;b&&(this.rna[a]=b,this.Kl=Object.keys(this.rna).map(function(a){return c.rna[a];}));};b=a;return b=c.__decorate([g.N()],b);}();b.kua=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;c=a(1032);g=a(1031);d=a(1);m=a(94);r=a(7);q=a(1025);b.jNa=new d.Ec(function(a){a(r.Db).to(g.jua).Y();a(m.Gz).to(c.kua).Y();a(r.r6).to(q.bua).Y();});},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Pua=void 0;c=a(0);g=a(14);m=a(9);r=a(1);d=function(){var b;function a(a){this.config=a;}a.prototype.fq=function(){return this.Jsb()?m.Ira:/widevine/i.test(this.config().Wd)?m.V4:/fps/i.test(this.config().Wd)?"fairplay":m.BS;};a.prototype.Jsb=function(){return/clearkey/i.test(this.config().Wd);};b=a;return b=c.__decorate([r.N(),c.__param(0,r.l(g.fd))],b);}();b.Pua=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.gsa=void 0;c=a(0);g=a(1);m=a(257);d=function(){var b;function a(){}a.prototype.tG=function(a,b){var c;c=this;a&&Object.keys(b).forEach(function(d){var f,g,k;f=b[d];if(c.Ksb(f)){g=R(f);f=g.next().value;k=g.next().value;g=a[f];Array.isArray(g)?(c.pda(a,d,f),g.forEach(function(a){c.tG(a,k);})):f===m.Nw?Object.keys(a).forEach(function(b){c.tG(a[b],k);}):(c.pda(a,d,f),"object"===typeof g&&c.tG(g,k));}else c.pda(a,d,f);});};a.prototype.Ksb=function(a){return Array.isArray(a);};a.prototype.pda=function(a,b,c){a.hasOwnProperty(b)||b===c||Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};b=a;return b=c.__decorate([g.N()],b);}();b.gsa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.lra=void 0;c=a(0);g=a(1);m=a(36);d=function(){var b;function a(a,b){this.xa=a;this.eX=b;}a.prototype.Lc=function(a){this.xg();this.Rh=this.xa.yh(this.eX,a);};a.prototype.xg=function(){this.Rh&&this.Rh.cancel();this.Rh=void 0;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ng))],b);}();b.lra=d;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Tya=void 0;c=a(0);g=a(36);m=a(1);r=a(3);d=function(){var b;function a(a,b,c){this.xa=a;this.aJb=b;this.BZ=c;}a.prototype.sB=function(){this.Rh||(this.Rh=this.xa.yh(r.Gb(this.aJb),this.BZ));};a.prototype.Hi=function(){this.Rh&&this.Rh.cancel();this.Rh=void 0;};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(g.Ng))],b);}();b.Tya=d;},function(d,b,a){var c,g,m,r,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.lza=b.iqa=void 0;c=a(0);g=a(1);m=a(14);r=a(29);q=a(30);d=function(){var b;function a(a,b){this.Cj=this.llb(a,b.data.browserInfo);}a.prototype.sqb=function(a,b){var c;b=this.tqb(b);if(b)switch(a){case n.vNa:c=0<b.length?Number(b[0]):0;break;case n.dxb:c=1<b.length?Number(b[1]):0;break;case n.Izb:c=2<b.length?Number(b[2]):0;break;case n.Z1:c=3<b.length?Number(b[3]):0;}return void 0===c||isNaN(c)?0:c;};a.prototype.tqb=function(a){return null===a||void 0===a?void 0:a.split(".");};a.prototype.Gsb=function(a){return this.Cj.name===a;};a.prototype.eMa=function(a){return this.Cj.UH.name===a;};a.prototype.llb=function(a,b){return Object.assign(Object.assign({LKa:this.nlb(a,b)},this.klb(a,b)),{UH:this.olb(a,b)});};a.prototype.nlb=function(a,b){return b&&b.LKa?b.LKa:/Android.*Chrome\/[.0-9]* Mobile/.test(a)?m.dT.cAb:/Android.*Chrome\/[.0-9]* /.test(a)?m.dT.CIb:m.dT.Leb;};a.prototype.klb=function(a,b){return b&&b.name&&b.version?{name:b.name,version:b.version}:/OPR/.test(a)?{name:m.Zs.opera,version:""}:(b=a.match(/Edge\/(\d*)\./))?{name:m.Zs.Yp,version:b[1]}:(b=a.match(/Edg\/(\d*)\./))?{name:m.Zs.Yjb,version:b[1]}:(b=a.match(/Chrome\/(\d*)\./))?{name:m.Zs.chrome,version:b[1]}:(b=a.match(/Firefox\/(\d*)\./))?{name:m.Zs.dIa,version:b[1]}:(a=a.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:m.Zs.xEb,version:a[1]}:{name:m.Zs.chrome,version:""};};a.prototype.olb=function(a,b){return b&&b.UH&&b.UH.name&&b.UH.version?{name:b.UH.name,version:b.UH.version}:/CrOS/.test(a)?{name:m.dr.beb,version:""}:/Tesla/.test(a)?{name:m.dr.GIb,version:""}:(b=a.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:m.dr.tNa,version:b[1]+"."+b[2]+"."+b[3]}:/Windows NT/.test(a)?{name:m.dr.Toa,version:""}:/Android.*Chrome\/[.0-9]* Mobile/.test(a)||/Android.*Chrome\/[.0-9]* /.test(a)?{name:m.dr.gDa,version:""}:/Linux/.test(a)?{name:m.dr.oub,version:""}:{name:m.dr.Toa,version:""};};qa.Object.defineProperties(a.prototype,{Rsb:{configurable:!0,enumerable:!0,get:function(){return this.Gsb(m.Zs.dIa);}},Zsb:{configurable:!0,enumerable:!0,get:function(){return this.eMa(m.dr.tNa);}},ztb:{configurable:!0,enumerable:!0,get:function(){return this.eMa(m.dr.Toa);}},Gcb:{configurable:!0,enumerable:!0,get:function(){return this.sqb(n.vNa,this.Cj.version);}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.e9)),c.__param(1,g.l(r.VD))],b);}();b.iqa=d;(function(a){a[a.vNa=0]="major";a[a.dxb=1]="minor";a[a.Izb=2]="patch";a[a.Z1=3]="revision";}(n=b.lza||(b.lza={})));},function(d,b){function a(){this.searchParams={};}function c(b){this.wn=b;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;c.prototype.toString=function(){return this.href;};qa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.wn+this.searchParams.toString();}}});b.bza=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hxa=b.gxa=b.XT=void 0;b.XT="PrioritizedSetOfListsSymbol";b.gxa="PrioritizedSetOfListsFactorySymbol";b.hxa="PrioritizedSetOfSetsFactorySymbol";},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Lya=void 0;c=a(0);g=a(1);m=a(24);r=a(3);q=a(36);d=function(){var b;function a(a,b,c){var d;d=this;this.app=a;this.xa=b;this.eX=c;this.yv=function(a){d.Rh=void 0;d.LJb(a||d.eX);};this.HMa=r.Gb(-this.eX.ca(r.ja));}a.prototype.Lc=function(a){this.vma=a;this.Rh=this.Rh||this.pc(this.yv);};a.prototype.xg=function(){this.Rh&&this.Rh.cancel();this.Rh=void 0;};a.prototype.LJb=function(a){var b,c;b=this.app.Zb();if(this.vma){c=a.Mb(b.Mb(this.HMa));0>=c.Hj(r.Dc)?(a=this.vma,this.vma=void 0,this.HMa=b,a()):this.Rh=this.Rh||this.xa.yh(c,this.yv.bind(this,a));}};a.prototype.pc=function(a){return this.xa.yh(r.Dc,a);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.We)),c.__param(1,g.l(q.Ng))],b);}();b.Lya=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.pra=void 0;c=a(0);g=a(1);m=a(24);r=a(45);q=a(2);n=a(13);l=a(3);f=a(10);h=a(472);d=function(){var b,d;function a(a,b){this.sa=a;this.config=b;}a.prototype.ejb=function(a){var c,d,f,g,k,h,m,p,t,u;c=this;h=a.Za.value;m=a.Bo.value;p=a.Ob.value;t=a.state.value;k={segmentId:a.aga(),mediaTime:h,segmentTime:a.HB(),bufferingState:b.Mcb[m],presentingState:b.vBb[p],playbackState:b.CAb[t],mseBuffersBusy:this.Ppb(a),intBuffersBusy:this.vob(a),tabVisible:this.BIb(),decodedFrameCount:this.uib(a),videoElementInDom:this.uLb(a),lastVideoSync:this.sa.Zb().Mb(l.Gb(a.hR)).ca(l.ja)};u=p===n.kb.Yf?a.Pa.dj?this.config.RPa:this.config.QPa:this.config.wOa;m!==n.Xe.vd?(f=q.J.xZa,this.eEa(k.mseBuffersBusy,k.intBuffersBusy)&&(g=b.Ypa)):p!==n.kb.Pc&&(f=q.J.yZa,(m=a.fj)&&m.wb.sourceBuffers.forEach(function(a){var d,f;d=b.fC[a.L];k[d+"Ranges"]=a.PY();try{f=a.buffered();}catch(ja){f=void 0;}f&&0!==f.length?(a=1E3*f.end(0)-h,k[d+"Undecoded"]=a,1<f.length&&(g=b.rYa),h<1E3*f.start(0)||h>1E3*f.end(0)?g=b.sYa:a<u.ca(l.ja)?g=b.tYa:c.eEa(k.mseBuffersBusy,k.intBuffersBusy)&&(g=b.Ypa)):(k[d+"Undecoded"]=0,g=b.qYa);}));a=a.R1.oKa();m=h===(null===(d=a.repositionTrace)||void 0===d?void 0:d[0].newMediaTime);k.lastRepositionCausedTimeout=m;Object.assign(k,a);d="";try{d=JSON.stringify(k);}catch(da){d="Cannot stringify details: "+da;}return new r.vc(q.K.Kva,f,g,void 0,void 0,void 0,d,void 0);};a.prototype.Ppb=function(a){var b;if(a.wb){b={};a.wb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};a.prototype.vob=function(a){var b;if(a.wb){b={};a.wb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.vi()};});return b;}};a.prototype.BIb=function(){return!f.ne.hidden;};a.prototype.uib=function(a){return(a=a.fj)&&(a=a.wb.la)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};a.prototype.uLb=function(a){if(a=a.fj)if(a=a.wb.la)return f.ne.body.contains(a);return!1;};a.prototype.eEa=function(a,b){var c,d,f,g;return!((null===(c=a.audio)||void 0===c?void 0:c.updating)===(null===(d=b.audio)||void 0===d?void 0:d.updating)&&(null===(f=a.video)||void 0===f?void 0:f.updating)===(null===(g=b.video)||void 0===g?void 0:g.updating));};d=b=a;d.qYa="1";d.rYa="2";d.sYa="3";d.Ypa="4";d.tYa="5";d.fC=["Audio","Video"];d.Mcb=["","NORMAL","BUFFERING","STALLED"];d.vBb=["","WAITING","PLAYING ","PAUSED","ENDED"];d.CAb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];return d=b=c.__decorate([g.N(),c.__param(0,g.l(m.We)),c.__param(1,g.l(h.W6))],d);}();b.pra=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.S8=void 0;c=a(0);g=a(1);m=a(24);r=a(3);q=a(7);d=function(){var b;function a(a,b){this.sa=a;this.entries=new Set();this.ka=b.ub("TimingApi");}a.prototype.mark=function(a,b,c){a={name:a,Ns:this.sa.Zb()};b&&(a.ia=b);c&&(a.uk=c);this.entries.add(a);return a;};a.prototype.Pfa=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};a.prototype.MJa=function(a){return this.Pfa().filter(function(b){return b.ia===a;});};a.prototype.KJa=function(){var a;a={};try{a=this.Pfa().filter(function(a){return!a.ia;}).reduce(function(a,b){a[b.name]=b.Ns.ca(r.ja);return a;},{});}catch(h){this.ka.error(" getMapOfCommonMarks exception",h);}return a;};a.prototype.fSa=function(a){var b;b=this;this.Pfa().forEach(function(c){c.ia===a&&b.entries["delete"](c);});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.We)),c.__param(1,g.l(q.Db))],b);}();b.S8=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Lqa=void 0;c=a(0);g=a(37);m=a(41);r=a(1);q=a(29);d=function(){var b;function a(a){return m.wJ.call(this,a,"ClockConfigImpl")||this;}ba(a,m.wJ);qa.Object.defineProperties(a.prototype,{IWa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([g.config(g.$c,"usePerformanceApi")],b.prototype,"IWa",null);return b=c.__decorate([r.N(),c.__param(0,r.l(q.sS))],b);}();b.Lqa=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.mra=void 0;c=a(0);g=a(37);m=a(41);r=a(1);q=a(29);d=function(){var b;function a(a){a=m.wJ.call(this,a,"DebugConfigImpl")||this;a.NUb=function(){debugger;};return a;}ba(a,m.wJ);qa.Object.defineProperties(a.prototype,{Fcb:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([g.config(g.$c,"breakOnError")],b.prototype,"Fcb",null);return b=c.__decorate([r.N(),c.__param(0,r.l(q.sS))],b);}();b.mra=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.nra=void 0;c=a(0);g=a(1);m=a(23);r=a(86);q=a(7);d=function(){var b;function a(a,b,c){this.config=a;this.Ia=b;this.ka=c.ub("General");}a.prototype.assert=function(){};a.prototype.ibb=function(a,b){this.assert(this.Ia.jB(a),b);};a.prototype.jbb=function(a,b){this.assert(this.Ia.Sd(a),b);};a.prototype.obb=function(a,b){this.assert(this.Ia.rn(a),b);};a.prototype.rbb=function(a,b){this.assert(this.Ia.$l(a),b);};a.prototype.pbb=function(a,b){this.assert(this.Ia.rn(a)||null===a||void 0===a,b);};a.prototype.mbb=function(a,b){this.assert(this.Ia.ph(a),b);};a.prototype.lbb=function(a,b){this.assert(this.Ia.Waa(a),b);};a.prototype.qbb=function(a,b){this.assert(this.Ia.zr(a),b);};a.prototype.nbb=function(a,b){this.assert(this.Ia.TL(a),b);};a.prototype.hbb=function(a,b){this.assert(this.Ia.SL(a),b);};a.prototype.kbb=function(a,b){this.assert(this.Ia.jW(a),b);};a.prototype.Asb=function(){this.assert(!1,"invalid operation, this method should not be called");};a.VVb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(x){return x.stack;}};};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.G4)),c.__param(1,g.l(m.Le)),c.__param(2,g.l(q.Db))],b);}();b.nra=d;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Zqa=void 0;c=a(0);g=a(1);m=a(23);r=a(25);d=function(){var b,d;function a(a,b){this.is=a;this.Wc=b;}a.prototype.encode=function(a){var b,c;b=this;c="";this.Wc.Nx(a,function(a,d){a=b.qHa(a)+"="+b.qHa(d);c=c?c+(","+a):a;});return c;};a.prototype.qHa=function(a){return this.is.jB(a)?this.is.ph(a)?""+a:this.is.rn(a)?(a=a.replace(b.Lla,this.Via.bind(this)),!b.kCb.test(a)&&b.sxb.test(a)&&(a='"'+a+'"'),a):this.is.SL(a)?""+a:this.is.vaa(a)?"NaN":"":"";};a.prototype.Via=function(a){return b.map[a];};d=b=a;d.map={'"':'""',"\r":"","\n":" "};d.Lla=/(?!^.+)["\r\n](?=.+$)/g;d.kCb=/["].*["]/g;d.sxb=/[", ]/;return d=b=c.__decorate([g.N(),c.__param(0,g.l(m.Le)),c.__param(1,g.l(r.uf))],d);}();b.Zqa=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.tpa=void 0;c=a(0);g=a(1);m=a(40);r=a(3);q=a(115);d=function(){var b;function a(a,b){this.za=a;this.KY=this.za.gf.ca(r.ja)-1;this.hvb=this.I_=0;this.id=""+b.dB();}a.prototype.Zb=function(){var a,b;a=this.za.gf.ca(r.ja)-this.KY;if(a<this.I_){b=this.I_+1;this.KY-=b-a;a=b;}this.I_=a;return r.Gb(this.I_);};a.prototype.Fob=function(){return this.hvb++;};qa.Object.defineProperties(a.prototype,{XB:{configurable:!0,enumerable:!0,get:function(){return r.Gb(this.KY);}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ni)),c.__param(1,g.l(q.Dz))],b);}();b.tpa=d;},function(d){d.P="function"===typeof Object.create?function(b,a){b.oIb=a;b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});}:function(b,a){function c(){}b.oIb=a;c.prototype=a.prototype;b.prototype=new c();b.prototype.constructor=b;};},function(d){d.P=function(b){return b&&"object"===typeof b&&"function"===typeof b.Go&&"function"===typeof b.fill&&"function"===typeof b.kYb;};},function(d,b,a){var g;function c(a){this.Rmb=a;this.EZ=!1;this.UZ=this.Wf=this.VI=0;this.oO=!1;this.VZ=0;}Object.defineProperty(b,"__esModule",{value:!0});b.Ava=void 0;g=a(476);c.prototype.dab=function(a){a<this.VI&&(this.Wf+=this.VI);this.VI=a;this.EZ=!0;};c.prototype.Dnb=function(){if(this.EZ)return this.oO?this.VZ-this.UZ:this.Wf+this.VI-this.UZ;};c.prototype.refresh=function(){var a;a=this.Rmb();g.ma(a)&&this.dab(a);};c.prototype.oHb=function(){this.oO||(this.EZ&&(this.VZ=this.Wf+this.VI),this.oO=!0);};c.prototype.DHb=function(){this.oO&&(this.EZ&&(this.UZ+=this.Wf+this.VI-this.VZ),this.VZ=0,this.oO=!1);};b.Ava=c;},function(d,b,a){var c,g,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.lxa=void 0;c=a(0);g=a(1);m=a(36);r=a(63);d=function(){var b;function a(a){this.xa=a;}a.prototype.Em=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.xa.yh(a,function(){f(new r.bn(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ng))],b);}();b.lxa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.cza=void 0;c=a(0);g=a(1);d=function(){var b,d;function a(){}a.prototype.encode=function(a){return b.Xda(a);};a.prototype.decode=function(a){return b.ida(a);};a.Xda=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,g="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};a.ida=function(a){var b,c,d,g,k;b=a.length;c=0;g=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)k=a.charCodeAt(d),128>k?c++:c=2048>k?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)k=a.charCodeAt(d),128>k?c[g++]=k:(2048>k?c[g++]=192|k>>>6:(c[g++]=224|k>>>12,c[g++]=128|k>>>6&63),c[g++]=128|k&63);return c;};d=b=a;return d=b=c.__decorate([g.N()],d);}();b.cza=d;},function(d,b,a){var c,g,m,r,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Mqa=void 0;c=a(0);g=a(54);m=a(3);r=a(1);q=a(30);n=a(481);l=a(77);f=a(13);d=function(){var b;function a(a,b,c,d){var k;k=this;this.config=a;this.Zhb=b;this.Jb=c;this.performance=d;this.Yyb=function(a){k.uTa=a.Mb(k.gf);};g.sm(this,"date");g.sm(this,"performance");this.Lab=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.uTa=m.Dc;this.Jb.addListener(f.a6.wTa,this.Yyb);}qa.Object.defineProperties(a.prototype,{gf:{configurable:!0,enumerable:!0,get:function(){return this.DOa?m.timestamp(this.performance.timing.navigationStart+this.performance.now()):m.Gb(this.Zhb.now());}},s2:{configurable:!0,enumerable:!0,get:function(){return this.gf.add(this.uTa);}},DOa:{configurable:!0,enumerable:!0,get:function(){return this.config.IWa&&this.Lab;}}});b=a;return b=c.__decorate([r.N(),c.__param(0,r.l(n.t4)),c.__param(1,r.l(q.E4)),c.__param(2,r.l(l.KS)),c.__param(3,r.l(q.PT)),c.__param(3,r.optional())],b);}();b.Mqa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;c=a(0);g=a(1);m=a(134);d=function(){var b;function a(a){this.AIb=a;}a.prototype.random=function(){return this.AIb.random();};a.prototype.CRa=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.L8))],b);}();b.txa=d;},function(d,b,a){var c,g,m,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.vta=void 0;c=a(0);g=a(1);m=a(3);r=a(40);q=a(134);d=function(){var b,d;function a(a,b){this.za=a;this.random=b;}a.prototype.dB=function(){return this.za.gf.ca(m.Sl)*b.rqa+Math.floor(this.random.random()*b.rqa);};d=b=a;d.rqa=1E4;return d=b=c.__decorate([g.N(),c.__param(0,g.l(r.Ni)),c.__param(1,g.l(q.uK))],d);}();b.vta=d;},function(d,b,a){var g,m,r,q,n;function c(a,b){this.$I=a;this.tdb=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Txa=void 0;g=a(0);m=a(1);r=a(54);q=a(30);n=a(3);c.prototype.cancel=function(){this.tdb(this.$I);};d=function(){var b;function a(a){this.$I=a;r.sm(this,"timers");}a.prototype.Lc=function(a){return this.yh(n.Dc,a);};a.prototype.yh=function(a,b){var d;d=this.$I.setTimeout(b,a.ca(n.ja));return new c(this.$I,function(a){a.clearTimeout(d);});};a.prototype.tma=function(a,b){var d;d=this.$I.setInterval(b,a.ca(n.ja));return new c(this.$I,function(a){a.clearInterval(d);});};b=a;return b=g.__decorate([m.N(),g.__param(0,m.l(q.m9))],b);}();b.Txa=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,B,Q,V,S,A,Z,P,R,W,N,U,X,ba,ea,O,fa,ga,ya,Da,la,ha,ia,ka,pa,qa,sa,ta,va,wa,Aa,Ba,aa,Ea,Ga,Ja,Ka,Oa,Pa,Ra,Sa,Ta,Ua,Xa,Ya,$a,ab,bb,cb;Object.defineProperty(b,"__esModule",{value:!0});b.xu=void 0;d=a(1);c=a(30);g=a(40);m=a(36);r=a(115);q=a(134);n=a(1057);l=a(1056);f=a(1055);h=a(1054);p=a(97);t=a(98);u=a(44);E=a(25);J=a(23);K=a(77);D=a(63);B=a(480);Q=a(1053);V=a(259);S=a(479);A=a(478);Z=a(1052);P=a(142);R=a(477);W=a(1051);N=a(475);U=a(96);X=a(1048);ba=a(24);ea=a(474);O=a(1047);fa=a(1046);ga=a(86);ya=a(1045);Da=a(7);la=a(481);ha=a(1044);ia=a(67);ka=a(1043);pa=a(473);qa=a(1042);sa=a(1041);ta=a(95);va=a(10);wa=a(1040);Aa=a(471);Ba=a(470);aa=a(1039);Ea=a(469);Ga=a(14);Ja=a(32);Ka=a(114);Oa=a(468);Pa=a(509);Ra=a(1038);Sa=a(467);Ta=a(466);Ua=a(177);Xa=a(1037);Ya=a(465);$a=a(1036);ab=a(257);bb=a(1035);cb=a(1034);b.xu=new d.Ec(function(a){a(c.mE).cw(function(){return{};}).Y();a(c.vw).Uh(JSON);a(c.m9).Uh(M);a(q.L8).Uh(Math);a(c.n6).Uh(va.AT);a(c.PT).Uh(va.br);a(c.e9).Uh(va.Ql);a(c.E4).Uh(Date);a(c.Nz).Uh(va.Qi);a(c.Yua).Uh(va.eE);a(la.t4).to(ha.Lqa).Y();a(ba.We).to(X.tpa).Y();a(g.Ni).to(h.Mqa).Y();a(m.Ng).to(n.Txa).Y();a(r.Dz).to(l.vta).Y();a(D.Fw).to(Z.lxa).Y();a(q.uK).to(f.txa).Y();a(Oa.pT).to(cb.Pua).Y();a(ga.Tq).to(fa.nra).Y();a(ga.G4).to(ya.mra).Y();a(p.Lw).to(Q.cza).Y();a(t.lw).to(V.bS).Y();a(u.qj).to(S.b4).Y();a(E.uf).to(A.f9).Y();a(J.Le).Uh(P.ft);a(Sa.MD).to(Ta.msa).Y();a(K.GS).to(R.rj).fha();a(K.HJ).to(R.rj).Y();a(K.M4).to(R.rj).Y();a(K.KS).to(R.rj).Y();a(N.K8).to(U.Iw).Y();a(ea.x4).to(O.Zqa).Y();a(ia.Kw).to(ka.S8).Y();a(ia.bE).to(ka.S8).Y();a("Factory<LoggerFactory>").fJb(Da.Db);a(pa.I4).to(qa.pra).Y();a(ta.$z).rf(function(a){return function(b){return new sa.Lya(a.fb.get(ba.We),a.fb.get(m.Ng),b);};});a(Ya.F4).rf(function(a){return function(b){return new $a.lra(a.fb.get(m.Ng),b);};});a(wa.XT).iJb(Aa.l8);a(wa.gxa).rf(function(a){var b;b=a.fb.get(wa.XT);return function(){return new b(!1);};});a(wa.hxa).rf(function(a){var b;b=a.fb.get(wa.XT);return function(){return new b(!0);};});a(Ba.d9).rf(function(){return function(a){return new aa.bza(a);};});a(Ka.Sz).rf(function(a){return function(b,c,d){return new Ea.Nwa(a.fb.get(ga.Tq),a.fb.get(Ga.fd),a.fb.get(Ja.Si),a.fb.get(Oa.pT),b,c,d);};});a(B.h7).rf(function(){return function(a){return new W.Ava(a);};});a(Pa.eS).to(Ra.iqa);a(Ua.DK).rf(function(a){return function(b,c){return new Xa.Tya(a.fb.get(m.Ng),b,c);};});a(ab.g5).to(bb.gsa).Y();});},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,B,Q,V,S,A,M,P,R,W,N,U,X,ba,ea,O,fa;Object.defineProperty(b,"__esModule",{value:!0});b.YMa=void 0;c=a(1058);g=a(1033);m=a(1022);r=a(1019);q=a(1013);n=a(1010);l=a(1006);f=a(994);h=a(983);p=a(979);t=a(977);u=a(717);E=a(715);J=a(711);K=a(699);D=a(692);B=a(685);Q=a(682);V=a(676);S=a(270);A=a(668);M=a(666);P=a(659);R=a(655);W=a(647);N=a(645);U=a(638);X=a(611);ba=a(589);ea=a(585);O=a(581);fa=a(567);b.YMa=function(a){a.load(c.xu,n.dz,g.jNa,l.Cn,m.AOa,r.Wa,q.XWa,f.storage,h.tx,p.sEa,t.DNa,u.yy,E.Ih,J.iNa,K.SOa,D.yIa,B.tRa,Q.zC,V.$Ga,S.eme,A.crypto,M.Wc,P.Cc,R.df,W.GOa,N.vQa,U.j,X.jFa,ba.TVa,ea.Rj,O.Ff,fa.DDa);};},function(d,b,a){var c,g,m,r,q,n,l,f,h,p;Object.defineProperty(b,"__esModule",{value:!0});b.bsa=void 0;c=a(0);g=a(1);m=a(7);r=a(24);q=a(44);n=a(53);l=a(36);f=a(63);h=a(484);p=a(99);d=function(){var b;function a(a,b,c,d,f,g,k){this.qq=a;this.sa=b;this.xc=c;this.config=d;this.xa=f;this.Nk=g;this.Bl=k;}a.prototype.create=function(){var a;a=this;return Promise.all([this.Bl.$nb(),this.Bl.Znb(),this.Bl.fq()]).then(function(b){var c,d;c=R(b);b=c.next().value;d=c.next().value;c=c.next().value;return new h.csa(a.qq,a.sa,a.xc,a.config,b,d,c,a.xa,a.Nk);});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Db)),c.__param(1,g.l(r.We)),c.__param(2,g.l(q.qj)),c.__param(3,g.l(n.Nl)),c.__param(4,g.l(l.Ng)),c.__param(5,g.l(f.Fw)),c.__param(6,g.l(p.kt))],b);}();b.bsa=d;},function(d,b,a){var m,r;function c(a,b,c,d,g){this.sa=a;this.config=b;this.xa=c;this.yv=d;this.name=g;}function g(a,b,c,d){var f;f=this;this.sa=a;this.xa=b;this.timeout=c;this.$Ib=d;this.Wqb=function(){f.Sp=!0;f.UB.cancel();f.$Ib();};this.startTime=this.sa.Zb();this.UB=this.xa.yh(this.timeout,function(){f.Wqb();});this.Sp=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.$ra=void 0;m=a(2);r=a(88);g.prototype.stop=function(){this.Sp||(this.Q2=this.sa.Zb(),this.UB.cancel());};qa.Object.defineProperties(g.prototype,{VX:{configurable:!0,enumerable:!0,get:function(){if(this.Q2&&this.startTime)return this.Q2.Mb(this.startTime);}}});c.prototype.zdb=function(){var a;a=this;this.NF=new g(this.sa,this.xa,this.config.eha,function(){a.yv(new r.Lf(m.K.Fxa,m.J.O_a,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.eha+"ms"));});};c.prototype.ydb=function(){this.NF&&this.NF.stop();};c.prototype.EFb=function(){this.FQ=this.sa.Zb();};c.prototype.Adb=function(){var a;a=this;this.r3=new g(this.sa,this.xa,this.config.Ama,function(){a.yv(new r.Lf(m.K.Fxa,m.J.N_a,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Ama+"ms"));});};c.prototype.zEa=function(){this.r3&&this.r3.stop();};qa.Object.defineProperties(c.prototype,{sd:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.NF){b=this.NF.VX;b&&(a.kOa=b);this.FQ&&this.NF.Q2&&(a.FQ=this.FQ.Mb(this.NF.Q2));}this.r3&&(b=this.r3.VX)&&(a.oFa=b);return a;}}});b.$ra=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yra=void 0;b.Yra="EmeApiSymbol";},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u;Object.defineProperty(b,"__esModule",{value:!0});b.Qxa=void 0;c=a(0);g=a(1);m=a(2);r=a(25);q=a(98);n=a(97);l=a(88);f=a(63);h=a(53);p=a(44);t=a(485);u=a(484);d=function(){var b;function a(a,b,c,d,f){this.Wc=a;this.Fh=b;this.xc=c;this.Hg=d;this.Fe=f;}a.prototype.ZW=function(){return!1;};a.prototype.pba=function(){return!1;};a.prototype.mga=function(){return this.Fe.Gi?"persistent-usage-record":"temporary";};a.prototype.tfa=function(){return t.l5;};a.prototype.gga=function(){return[{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.jy=function(a){return this.Wc.Hr(a.tv[0],this.Hg.decode("certificate"));};a.prototype.wha=function(a){return a.jQ();};a.prototype.Eca=function(a){var b,c;c=[];a.messageType===u.A6||a.messageType===u.z6?(a.messageType===u.A6?(b=this.Hg.encode(new Uint8Array(a.message)),c=JSON.parse(b),b=c.map(function(a){return a.keyID;}),c=c.map(function(a){return a.payload;})):c=[this.xc.encode(new Uint8Array(a.message))],c=this.gJb(c),c=this.Hg.decode(JSON.stringify(c))):c=new Uint8Array(a.message);return{type:a.type,sessionId:a.target.sessionId,tv:[c],xja:a.messageType,iH:b};};a.prototype.Up=function(a){var b,c,d,g;c=null===(b=a.target)||void 0===b?void 0:b.error;c&&(d=c.systemCode,g=c.code);b=new l.Lf(m.K.IT,a instanceof f.bn?m.J.MJ:m.J.KD,d?this.Fh.IN(d,4):g,"",c);b.lN(a);return b;};a.prototype.gJb=function(a){return{VERSION:1,CHALLENGES:a.map(function(a,b){return{ID:"ID"+(b+1),PAYLOAD:a};})};};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.uf)),c.__param(1,g.l(q.lw)),c.__param(2,g.l(p.qj)),c.__param(3,g.l(n.Lw)),c.__param(4,g.l(h.Nl))],b);}();b.Qxa=d;},function(d,b){function a(a,b,d){var c;c=this;this.xc=a;this.kd=b;this.Hg=d;this.Bob=function(a){var b;a=a.subarray(14,30);a=c.xc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.g0a={UYa:1667591779,vNb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.ssa=void 0;a.prototype.Web=function(a,b){var c;c=this.g0a.UYa;b=b?1:0;a=a.map(function(a){return{EWb:"",Ntb:a,DF:a,lHb:a,pLb:[1]};});return this.uvb(c,b,a);};a.prototype.tvb=function(a,b){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.Qia("fpsi",b,[c]);};a.prototype.svb=function(a,b,d,g){a=[this.Qia("fkri",0,[a])];b.byteLength&&a.push(this.UO("fkai",[b]));d.byteLength&&a.push(this.UO("fkcx",[d]));g.length&&a.push(this.UO("fkvl",[new Uint8Array(new Uint32Array(g).buffer)]));return this.UO("fpsk",a);};a.prototype.uvb=function(a,b,d){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.tvb(a,b)];for(var g in d)b=d[g],a.push(this.svb(b.Ntb,b.DF,b.lHb,b.pLb));d=this.UO("fpsd",a);g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,d.byteLength);return this.Qia("pssh",0,[c,g,d]);};a.prototype.Qia=function(a,b,d){var c,g,k;c=0;for(g in d)c+=d[g].byteLength;c=new Uint8Array(12+c);k=new DataView(c.buffer);g=0;k.setUint32(g,c.byteLength);g+=4;c.set(this.Hg.decode(a),g);g+=4;k.setUint32(g,0|4095&b);g+=4;for(var l in d)a=d[l],c.set(a,g),g+=a.byteLength;return c;};a.prototype.UO=function(a,b){var c,d;c=0;for(d in b)c+=b[d].byteLength;c=new Uint8Array(8+c);d=0;new DataView(c.buffer).setUint32(d,c.byteLength);d+=4;c.set(this.Hg.decode(a),d);d+=4;for(var g in b)a=b[g],c.set(a,d),d+=a.byteLength;return c;};b.ssa=a;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p;Object.defineProperty(b,"__esModule",{value:!0});b.tsa=void 0;c=a(0);g=a(1);m=a(260);r=a(1064);q=a(30);n=a(23);l=a(44);f=a(25);h=a(53);p=a(97);d=function(){var b;function a(a,b,c,d,f,g){a=m.qt.call(this,a,b,c,d,f,g)||this;a.xc=c;a.kd=d;a.Fe=f;a.Hg=g;a.fLa=new r.ssa(a.xc,a.kd,a.Hg);return a;}ba(a,m.qt);a.prototype.gfa=function(a,b){var c,d,f;c=this;try{d=b.map(function(a){return c.fLa.Bob(a);});this.FMa=d.map(function(a){return c.xc.encode(a);});f=this.fLa.Web(d,this.Fe.Gi);return m.qt.prototype.gfa.call(this,a,[f]);}catch(Q){return Promise.reject(Q);}};a.prototype.update=function(a,b){var c,d,f,g,k;c=this;if(b)try{d=this.Hg.encode(a[0]);f=JSON.parse(d).RESPONSES;g=f.map(function(a,d){return{keyID:1===f.length?c.FMa[c.FMa.length-1]:b[d],payload:f.find(function(a){return a.ID==="ID"+(d+1);}).PAYLOAD};});k=JSON.stringify(g);a=[this.Hg.decode(k)];}catch(S){return Promise.reject(S);}return m.qt.prototype.update.call(this,a);};a.prototype.jQ=function(){return m.qt.prototype.update.call(this,[this.Hg.decode("renew")]);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Nz)),c.__param(1,g.l(n.Le)),c.__param(2,g.l(l.qj)),c.__param(3,g.l(f.uf)),c.__param(4,g.l(h.Nl)),c.__param(5,g.l(p.Lw))],b);}();b.tsa=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t;Object.defineProperty(b,"__esModule",{value:!0});b.Hqa=void 0;c=a(0);g=a(1);m=a(2);r=a(25);q=a(98);n=a(261);l=a(88);f=a(63);h=a(53);p=a(14);t=a(45);d=function(){var b;function a(a,b,c,d){this.Wc=a;this.Fh=b;this.Fe=c;this.config=d;}a.prototype.ZW=function(){return!0;};a.prototype.pba=function(){return!0;};a.prototype.mga=function(){return"temporary";};a.prototype.tfa=function(){return this.Fe.EQ?this.Fe.EQ:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};a.prototype.gga=function(){var a,b;a=[{contentType:n.Zq,robustness:"HW_SECURE_DECODE"},{contentType:n.Zq,robustness:"SW_SECURE_DECODE"},{contentType:n.Zq,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:n.Zq,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:n.zw,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().mIa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};a.prototype.jy=function(a){return this.Wc.Hr(a.tv[0],new Uint8Array([8,4]));};a.prototype.wha=function(){return Promise.reject(new t.vc(m.K.CS));};a.prototype.Eca=function(a){return{type:a.type,sessionId:a.target.sessionId,tv:[new Uint8Array(a.message)],xja:a.messageType};};a.prototype.Up=function(a){var b,c,d;b=new l.Lf(m.K.IT);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.ed=1<=c&&9>=c?m.J.KD+c:m.J.KD):b.ed=a instanceof f.bn?m.J.MJ:m.J.ih;try{d=a.message.match(/\((\d*)\)/)[1];b.sh=this.Fh.IN(d,4);}catch(Q){}b.lN(a);return b;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.uf)),c.__param(1,g.l(q.lw)),c.__param(2,g.l(h.Nl)),c.__param(3,g.l(p.fd))],b);}();b.Hqa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;c=a(0);g=a(1);m=a(260);d=function(){var b;function a(a){return m.qt.apply(this,arguments)||this;}ba(a,m.qt);b=a;return b=c.__decorate([g.N()],b);}();b.axa=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t;Object.defineProperty(b,"__esModule",{value:!0});b.Xra=void 0;c=a(0);g=a(1);m=a(2);r=a(98);q=a(44);n=a(261);l=a(88);f=a(87);h=a(53);p=a(63);t=a(45);d=function(){var b;function a(a,b,c){this.Fh=a;this.xc=b;this.Fe=c;}a.prototype.ZW=function(){return!0;};a.prototype.pba=function(){return!1;};a.prototype.mga=function(a){return this.Fe.Gi&&a===f.sj.Ym?"persistent-usage-record":"temporary";};a.prototype.tfa=function(){if(this.Fe.EQ)return this.Fe.EQ;};a.prototype.gga=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:n.zw}],videoCapabilities:[{contentType:n.Zq}],sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.jy=function(){return!1;};a.prototype.wha=function(){return Promise.reject(new t.vc(m.K.CS));};a.prototype.Eca=function(a){var b;b=new Uint8Array(a.message);b=this.vea(b,"PlayReadyKeyMessage","Challenge");b=this.xc.decode(b);return{type:a.type,sessionId:a.target.sessionId,tv:[b],xja:a.messageType};};a.prototype.Up=function(a){var b,c;b=new l.Lf(m.K.IT);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.ed=1<=c&&9>=c?m.J.KD+c:m.J.KD):b.ed=a instanceof p.bn?m.J.MJ:m.J.ih;try{b.sh=this.Fh.IN(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(T){}b.lN(a);return b;};a.prototype.vea=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.lw)),c.__param(1,g.l(q.qj)),c.__param(2,g.l(h.Nl))],b);}();b.Xra=d;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u,E,J,K,D,B,Q,V,S,A;Object.defineProperty(b,"__esModule",{value:!0});b.Sua=void 0;c=a(0);g=a(1);m=a(2);r=a(7);q=a(88);n=a(138);l=a(1068);f=a(1067);h=a(1066);p=a(260);t=a(25);u=a(98);E=a(44);J=a(23);K=a(30);D=a(1065);B=a(1063);Q=a(97);V=a(14);S=a(139);A=a(53);d=function(){var b;function a(a,b,c,d,f,g,k,h,l){this.qq=a;this.Wc=b;this.Hg=c;this.Fh=d;this.xc=f;this.is=g;this.nP=k;this.config=h;this.Fe=l;this.log=this.qq.ub("MediaKeySystemAccessServices");}a.prototype.JG=function(){this.ys||(this.ys=this.vEb());return this.ys;};a.prototype.mhb=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=S.qb.yfa(a);g=b.nJa(f);f=b.jJa(f);g.PDb(a,f.gga()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new q.Lf(m.K.Mra,m.J.ih,void 0,"Unable to create media keys system access. "+c.message,c));});});};a.prototype.fq=function(){var a;a=this;return this.JG().then(function(b){return a.kJa(b);});};a.prototype.Ynb=function(){var a,b;a=this;b=this.config().GMa||[this.config().Wd];if(1<b.length)return this.JG().then(function(b){return a.kJa(b);}).then(function(a){return S.qb.iJa(a);});b=S.qb.yfa(b[0]);return Promise.resolve(S.qb.iJa(b));};a.prototype.Znb=function(){var a;a=this;return this.fq().then(function(b){return a.jJa(b);});};a.prototype.$nb=function(){var a;a=this;return this.fq().then(function(b){return a.nJa(b);});};a.prototype.kJa=function(a){return S.qb.yfa(a.keySystem);};a.prototype.jJa=function(a){switch(a){case n.Sm.CC:return new l.Xra(this.Fh,this.xc,this.Fe);case n.Sm.wB:return new B.Qxa(this.Wc,this.Fh,this.xc,this.Hg,this.Fe);default:return new h.Hqa(this.Wc,this.Fh,this.Fe,this.config);}};a.prototype.nJa=function(a){switch(a){case n.Sm.CC:return new f.axa(this.nP,this.is,this.xc,this.Wc,this.Fe,this.Hg);case n.Sm.wB:return new D.tsa(this.nP,this.is,this.xc,this.Wc,this.Fe,this.Hg);default:return new p.qt(this.nP,this.is,this.xc,this.Wc,this.Fe,this.Hg);}};a.prototype.vEb=function(){var a,b;a=this;b=(this.config().GMa||[this.config().Wd]).map(function(b){return function(){return a.mhb(b);};});return this.wEb(b);};a.prototype.wEb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.Db)),c.__param(1,g.l(t.uf)),c.__param(2,g.l(Q.Lw)),c.__param(3,g.l(u.lw)),c.__param(4,g.l(E.qj)),c.__param(5,g.l(J.Le)),c.__param(6,g.l(K.Nz)),c.__param(7,g.l(V.fd)),c.__param(8,g.l(A.Nl))],b);}();b.Sua=d;},function(d,b,a){d=a(20);a=a(489);d.nb.from=a.from;},function(d,b){b.n_=function(a){return a instanceof Date&&!isNaN(+a);};},function(d,b,a){d=a(498);a=a(497);b.async=new a.Rpa(d.Opa);},function(d,b,a){var c;c=a(181);b.dtb=function(a){return!c.isArray(a)&&0<=a-parseFloat(a)+1;};},function(d,b,a){var c,g,m,r,q;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(1073);d=a(20);m=a(1072);r=a(263);q=a(1071);a=function(a){function b(b,c,d){void 0===b&&(b=0);a.call(this);this.h1=-1;this.YGa=0;g.dtb(c)?this.h1=1>Number(c)&&1||Number(c):r.y_(c)&&(d=c);r.y_(d)||(d=m.async);this.xa=d;this.YGa=q.n_(b)?+b-this.xa.now():b;}c(b,a);b.create=function(a,c,d){void 0===a&&(a=0);return new b(a,c,d);};b.pc=function(a){var b,c,d;b=a.index;c=a.h1;d=a.nj;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Lc(a,c);}};b.prototype.Xl=function(a){return this.xa.Lc(b.pc,this.YGa,{index:0,h1:this.h1,nj:a});};return b;}(d.nb);b.Q4a=a;},function(d,b,a){d=a(1074);b.aw=d.Q4a.create;},function(d,b,a){d=a(20);a=a(1075);d.nb.aw=a.aw;},function(d,b,a){d=a(20);a=a(491);d.nb.of=a.of;},function(d,b,a){var c,g,m,r,q,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(181);m=a(262);d=a(180);r=a(179);b.race=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];if(1===a.length)if(g.isArray(a[0]))a=a[0];else return a[0];return new m.Q3(a).pq(new q());};q=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new n(a));};return a;}();b.GRb=q;n=function(a){function b(b){a.call(this,b);this.Fga=!1;this.jka=[];this.$Q=[];}c(b,a);b.prototype.gl=function(a){this.jka.push(a);};b.prototype.Zd=function(){var a,b,d;a=this.jka;b=a.length;if(0===b)this.destination.complete();else{for(var c=0;c<b&&!this.Fga;c++){d=a[c];d=r.X2(this,d,d,c);this.$Q&&this.$Q.push(d);this.add(d);}this.jka=null;}};b.prototype.Q0=function(a,b,c){var d;if(!this.Fga){this.Fga=!0;for(a=0;a<this.$Q.length;a++)if(a!==c){d=this.$Q[a];d.unsubscribe();this.remove(d);}this.$Q=null;}this.destination.next(b);};return b;}(d.GT);b.HRb=n;},function(d,b,a){d=a(20);a=a(1078);d.nb.race=a.race;},function(d,b,a){d=a(488);b.Ur=d.kxa.create;},function(d,b,a){d=a(20);a=a(1080);d.nb.Ur=a.Ur;},function(d,b,a){d=a(178);b.empty=d.ES.create;},function(d,b,a){d=a(20);a=a(1082);d.nb.empty=a.empty;},function(d,b,a){var c;c=a(493);b.Neb=function(){return c.gC(1);};},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(20);g=a(490);m=a(178);a=function(a){function b(b,c){a.call(this);this.fba=b;(this.xa=c)||1!==b.length||(this.Lt=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var d;d=a.length;return 0===d?new m.ES():1===d?new g.Sxa(a[0],c):new b(a,c);};b.pc=function(a){var b,c,d;b=a.fba;c=a.index;d=a.nj;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Lc(a)));};b.prototype.Xl=function(a){var c,d,g;c=this.fba;d=this.xa;g=c.length;if(d)return d.Lc(b.pc,0,{fba:c,index:0,length:g,nj:a});for(d=0;d<g&&!a.closed;d++)a.next(c[d]);a.complete();};return b;}(d.nb);b.cYa=a;},function(d,b,a){var c,g,m,r,q,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(85);d=a(20);m=a(264);a=function(a){function b(b,c){a.call(this);this.xa=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[m.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[m.iterator]();}else b=new q(b);else b=new r(b);this.iterator=b;}c(b,a);b.create=function(a,c){return new b(a,c);};b.pc=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.nj;if(a.fO)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Lc(a));}};b.prototype.Xl=function(a){var c,d;c=this.iterator;d=this.xa;if(d)return d.Lc(b.pc,0,{index:0,iterator:c,nj:a});do{d=c.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof c["return"]&&c["return"]();break;}}while(1);};return b;}(d.nb);b.G1a=a;r=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.Vy=a;this.nO=b;this.oia=c;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){return this.nO<this.oia?{done:!1,value:this.Vy.charAt(this.nO++)}:{done:!0,value:void 0};};return a;}();q=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&g.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>n?n:c;}this.Yab=a;this.nO=b;this.oia=c;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){return this.nO<this.oia?{done:!1,value:this.Yab[this.nO++]}:{done:!0,value:void 0};};return a;}();n=Math.pow(2,53)-1;},function(d,b,a){var c,g,m,r,q,n,l,f,h,p,t,u;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(181);m=a(495);r=a(494);q=a(488);n=a(1086);l=a(262);f=a(1085);h=a(264);p=a(20);t=a(496);u=a(265);d=function(a){function b(b,c){a.call(this,null);this.Atb=b;this.xa=c;}c(b,a);b.create=function(a,c){if(null!=a){if("function"===typeof a[u.observable])return a instanceof p.nb&&!c?a:new b(a,c);if(g.isArray(a))return new l.Q3(a,c);if(r.hMa(a))return new q.kxa(a,c);if("function"===typeof a[h.iterator]||"string"===typeof a)return new n.G1a(a,c);if(m.PLa(a))return new f.cYa(a,c);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};b.prototype.Xl=function(a){var b,c;b=this.Atb;c=this.xa;return null==c?b[u.observable]().subscribe(a):b[u.observable]().subscribe(new t.zva(a,c,0));};return b;}(p.nb);b.h0a=d;},function(d,b,a){var c,g,m,r;c=a(263);g=a(491);m=a(489);r=a(1084);b.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 1===a.length||2===a.length&&c.y_(a[1])?m.from(a[0]):r.Neb()(g.of.apply(void 0,a));};},function(d,b,a){d=a(20);a=a(1088);d.nb.concat=a.concat;},function(){},function(d,b,a){var c,g,m,r;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(180);g=a(179);b.mR=function(a){return function(b){return b.pq(new m(a));};};m=function(){function a(a){this.Va=a;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.Va));};return a;}();r=function(a){function b(b,c){a.call(this,b);this.Va=c;this.add(g.X2(this,c));}c(b,a);b.prototype.Q0=function(){this.complete();};b.prototype.ss=function(){};return b;}(d.GT);},function(d,b,a){var c;c=a(1091);b.mR=function(a){return c.mR(a)(this);};},function(d,b,a){d=a(20);a=a(1092);d.nb.prototype.mR=a.mR;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.YXa=d;},function(d,b,a){var c,g,m,r,q;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(68);g=a(1094);m=a(178);b.lR=function(a){return function(b){return 0===a?new m.ES():b.pq(new r(a));};};r=function(){function a(a){this.total=a;if(0>this.total)throw new g.YXa();}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.total));};return a;}();q=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.gl=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return b;}(d.$m);},function(d,b,a){var c;c=a(1095);b.lR=function(a){return c.lR(a)(this);};},function(d,b,a){d=a(20);a=a(1096);d.nb.prototype.lR=a.lR;},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(68);b.TQ=function(a){return function(b){return b.pq(new g(a));};};g=function(){function a(a){this.Gy=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Gy));};return a;}();m=function(a){function b(b,c){a.call(this,b);this.Gy=c;this.wna=!0;this.index=0;}c(b,a);b.prototype.gl=function(a){var b;b=this.destination;this.wna&&this.KJb(a);this.wna||b.next(a);};b.prototype.KJb=function(a){try{this.wna=!!this.Gy(a,this.index++);}catch(l){this.destination.error(l);}};return b;}(d.$m);},function(d,b,a){var c;c=a(1098);b.TQ=function(a){return c.TQ(a)(this);};},function(d,b,a){d=a(20);a=a(1099);d.nb.prototype.TQ=a.TQ;},function(d,b,a){var c;c=a(492);b.wH=function(a,b,d){void 0===d&&(d=Number.POSITIVE_INFINITY);return c.wH(a,b,d)(this);};},function(d,b,a){d=a(20);a=a(1101);d.nb.prototype.wH=a.wH;d.nb.prototype.Sr=a.wH;},function(d,b){b.Hrb=function(a){return a;};},function(d,b,a){var c;c=a(493);b.gC=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.gC(a)(this);};},function(d,b,a){d=a(20);a=a(1104);d.nb.prototype.gC=a.gC;},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(68);b.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.pq(new g(a,b));};};g=function(){function a(a,b){this.FC=a;this.Vna=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.FC,this.Vna));};return a;}();b.TPb=g;m=function(a){function b(b,c,d){a.call(this,b);this.FC=c;this.count=0;this.Vna=d||this;}c(b,a);b.prototype.gl=function(a){var b;try{b=this.FC.call(this.Vna,a,this.count++);}catch(f){this.destination.error(f);return;}this.destination.next(b);};return b;}(d.$m);},function(d,b,a){var c;c=a(1106);b.map=function(a,b){return c.map(a,b)(this);};},function(d,b,a){d=a(20);a=a(1107);d.nb.prototype.map=a.map;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.T_a=d;},function(d,b,a){var c,g,m,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(68);g=a(1109);b.Nh=function(a,b,c){return function(d){return d.pq(new m(a,b,c,d));};};m=function(){function a(a,b,c,d){this.Gy=a;this.Fs=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.Gy,this.Fs,this.defaultValue,this.source));};return a;}();p=function(a){function b(b,c,d,g,k){a.call(this,b);this.Gy=c;this.Fs=d;this.defaultValue=g;this.source=k;this.WG=!1;this.index=0;"undefined"!==typeof g&&(this.L_=g,this.WG=!0);}c(b,a);b.prototype.gl=function(a){var b;b=this.index++;this.Gy?this.g$a(a,b):this.Fs?this.rCa(a,b):(this.L_=a,this.WG=!0);};b.prototype.g$a=function(a,b){var c;try{c=this.Gy(a,b,this.source);}catch(x){this.destination.error(x);return;}c&&(this.Fs?this.rCa(a,b):(this.L_=a,this.WG=!0));};b.prototype.rCa=function(a,b){var c;try{c=this.Fs(a,b);}catch(x){this.destination.error(x);return;}this.L_=c;this.WG=!0;};b.prototype.Zd=function(){var a;a=this.destination;this.WG?(a.next(this.L_),a.complete()):a.error(new g.T_a());};return b;}(d.$m);},function(d,b,a){var c;c=a(1110);b.Nh=function(a,b,d){return c.Nh(a,b,d)(this);};},function(d,b,a){d=a(20);a=a(1111);d.nb.prototype.Nh=a.Nh;},function(d,b,a){var c,g,m,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(68);b.DIb=function(a,b,c){return function(d){return d.pq(new m(a,b,c));};};m=function(){function a(a,b,c){this.Bxb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.Bxb,this.error,this.complete));};return a;}();p=function(a){function b(b,c,d,k){a.call(this,b);b=new g.$m(c,d,k);b.Mm=!0;this.add(b);this.mma=b;}c(b,a);b.prototype.gl=function(a){var b;b=this.mma;b.next(a);b.fD?this.destination.error(b.gD):this.destination.next(a);};b.prototype.$e=function(a){var b;b=this.mma;b.error(a);b.fD?this.destination.error(b.gD):this.destination.error(a);};b.prototype.Zd=function(){var a;a=this.mma;a.complete();a.fD?this.destination.error(a.gD):this.destination.complete();};return b;}(g.$m);},function(d,b,a){var c;c=a(1113);b.W9=function(a,b,d){return c.DIb(a,b,d)(this);};},function(d,b,a){d=a(20);a=a(1114);d.nb.prototype.OX=a.W9;d.nb.prototype.W9=a.W9;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c,d){a.call(this);this.parent=b;this.mzb=c;this.lzb=d;this.index=0;}c(b,a);b.prototype.gl=function(a){this.parent.Q0(this.mzb,a,this.lzb,this.index++,this);};b.prototype.$e=function(a){this.parent.Qxb(a);this.unsubscribe();};b.prototype.Zd=function(){this.parent.ss(this);this.unsubscribe();};return b;}(a(68).$m);b.Cta=d;},function(d,b,a){var c,g,m,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(180);g=a(179);b.wdb=function(a){return function(b){var c;c=new m(a);b=b.pq(c);return c.Rba=b;};};m=function(){function a(a){this.Jma=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.Jma,this.Rba));};return a;}();p=function(a){function b(b,c,d){a.call(this,b);this.Jma=c;this.Rba=d;}c(b,a);b.prototype.error=function(b){var c;if(!this.Cg){c=void 0;try{c=this.Jma(b,this.Rba);}catch(h){a.prototype.error.call(this,h);return;}this.i$a();this.add(g.X2(this,c));}};return b;}(d.GT);},function(d,b,a){var c;c=a(1117);b.J9=function(a){return c.wdb(a)(this);};},function(d,b,a){d=a(20);a=a(1118);d.nb.prototype["catch"]=a.J9;d.nb.prototype.J9=a.J9;},function(d,b,a){a(20);d=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.WG="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.OX=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.OX(a,b,c);};a.uhb=function(b){return"undefined"!==typeof b?new a("N",b):a.UJb;};a.fhb=function(b){return new a("E",void 0,b);};a.Vgb=function(){return a.Eeb;};a.Eeb=new a("C");a.UJb=new a("N",void 0);return a;}();b.Notification=d;},function(d,b){d=function(){function a(b,d){void 0===d&&(d=a.now);this.A4a=b;this.now=d;}a.prototype.Lc=function(a,b,d){void 0===b&&(b=0);return new this.A4a(this,a).Lc(d,b);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();b.z4a=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);}c(b,a);return b;}(a(497).Rpa);b.R3a=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.call(this);}c(b,a);b.prototype.Lc=function(){return this;};return b;}(a(117).Jw);b.WXa=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this,b,c);this.xa=b;this.Uoa=c;}c(b,a);b.prototype.Lc=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Lc.call(this,b,c);this.rl=c;this.state=b;this.xa.flush(this);return this;};b.prototype.te=function(b,c){return 0<c||this.closed?a.prototype.te.call(this,b,c):this.qAa(b);};b.prototype.Vla=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.rl?a.prototype.Vla.call(this,b,c,d):b.flush(this);};return b;}(a(498).Opa);b.P3a=d;},function(d,b,a){d=a(1124);a=a(1122);b.Ok=new a.R3a(d.P3a);},function(d,b,a){var c,g,m,p,q,n,l;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(501);g=a(1125);m=a(117);p=a(496);q=a(500);n=a(499);a=function(a){function b(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.xa=d;this.Zf=[];this.M5a=1>b?1:b;this.t$a=1>c?1:c;}c(b,a);b.prototype.next=function(b){var c;c=this.EAa();this.Zf.push(new l(c,b));this.pCa();a.prototype.next.call(this,b);};b.prototype.Xl=function(a){var b,c,d;b=this.pCa();c=this.xa;if(this.closed)throw new q.iE();this.fO?d=m.Jw.EMPTY:this.Cg?d=m.Jw.EMPTY:(this.xv.push(a),d=new n.uya(this,a));c&&a.add(a=new p.zva(a,c));for(var c=b.length,f=0;f<c&&!a.closed;f++)a.next(b[f].value);this.fO?a.error(this.Zna):this.Cg&&a.complete();return d;};b.prototype.EAa=function(){return(this.xa||g.Ok).now();};b.prototype.pCa=function(){for(var a=this.EAa(),b=this.M5a,c=this.t$a,d=this.Zf,f=d.length,g=0;g<f&&!(a-d[g].time<c);)g++;f>b&&(g=Math.max(g,f-b));0<g&&d.splice(0,g);return d;};return b;}(d.Zm);b.X3a=a;l=function(){return function(a,b){this.time=a;this.value=b;};}();},function(d,b){b.Hxb=function(){};},function(d,b,a){var g;function c(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:g.Hxb;}g=a(1127);b.eAb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c(a);};b.fAb=c;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(a){b.call(this);this.xG=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.uU=d;},function(d,b,a){var g,m;function c(){try{return m.apply(this,arguments);}catch(r){return g.Ox.e=r,g.Ox;}}g=a(502);b.WVa=function(a){m=a;return c;};},function(d,b,a){var c,g,m;c=a(68);g=a(266);m=a(267);b.kJb=function(a,b,d){if(a){if(a instanceof c.$m)return a;if(a[g.QC])return a[g.QC]();}return a||b||d?new c.$m(a,b,d):new c.$m(m.empty);};},function(d,b,a){var c,g,m,p,q,n,l,f,h,t,u,I,E,J,K,D;Object.defineProperty(b,"__esModule",{value:!0});b.Fra=void 0;c=a(0);g=a(1);m=a(135);p=a(7);q=a(36);n=a(487);l=a(67);f=a(87);h=a(53);t=a(268);u=a(269);I=a(486);E=a(14);J=a(99);K=a(137);D=a(52);d=function(){var b;function a(a,b,c,d,g,k,h,l,n,p){var r;r=this;this.xa=b;this.As=c;this.config=d;this.bq=g;this.fHa=k;this.KF=h;this.Bl=l;this.bP=n;this.Jk=p;this.bIb=function(a,b){r.Jk.mark(D.Aa.JS,a.Zg.ia,"generate-challenge");b.mH().lR(1).subscribe(function(c){r.SMa.next({Nr:b.fq(),data:c.ri});r.Jk.mark(D.Aa.IS,a.Zg.ia,"generate-challenge");});b.mH().map(function(c){return r.VN(a,b,c);}).gC().OX(function(a){return b.GCa(a);}).subscribe(void 0,function(a){b.Z$a(a);},function(){r.Ucb(b);});};this.eIb=function(a){a.tQ.map(function(b){return r.bKa(a,b);}).gC().subscribe(function(b){return a.MCa(b.response);},function(b){return a.MCa(b);});};this.log=a.ub("DrmServices");this.SMa=new m.Zm();this.bq().wp&&this.KF.HRa().then(function(){r.CHb();})["catch"](function(a){r.log.error("Unable to load the persisted DRM data",a);});this.config.h_&&this.Bl.JG().then(function(a){return r.NFa(a,{Wd:a.keySystem},f.sj.Ym,n()).Sr(function(a){return a.close();}).subscribe();});}a.prototype.Nv=function(a,b){var c;c=this;return new Promise(function(d,f){c.Ai(a,b).subscribe(d,f);});};a.prototype.Jmb=function(a,b){var c;c=this;return new Promise(function(d,f){c.IY(a,b).subscribe(d,f);});};a.prototype.Ai=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.GJa(a,a.type));return this.XM(a.context,a.type,b).Sr(function(b){c.BOa(a,b);return c.tFa(b.IY(a.ZZ),b);});};a.prototype.BOa=function(a,b){b.hGb(a.Zg);this.bIb(a,b);};a.prototype.GHb=function(a,b){var c,d;c=this;this.config.Gi?(this.log.info("Releasing server license and EME license",this.nga(a)),this.eIb(a),d=a.DIa()):(this.log.info("Releasing server license",this.nga(a)),d=this.bKa(a));return this.tFa(d,a).OX(function(){var d;d=Object.assign({Wd:a.context.Wd,qc:[]},a.Zg);c.KF.Pla(d);b.tDb();});};a.prototype.mH=function(){return this.SMa.gba();};a.prototype.GJa=function(a,b){return{movieId:a.Zg.G,xid:a.Zg.ia,type:f.qia(b)};};a.prototype.nga=function(a){return{movieId:a.Zg?a.Zg.G:void 0,xid:a.Zg?a.Zg.ia:void 0,keySessionId:a.Yx()};};a.prototype.tFa=function(a,b){return m.nb.concat(a,m.nb.of(b)).Nh();};a.prototype.VN=function(a,b,c){this.log.info("Sending license request",this.GJa(a,c.Bi));return m.nb.Ur(this.As.Ai({ia:a.Zg.ia,ng:a.Zg.ng,QX:[a.Zg.xk],ri:[{sessionId:b.Yx()||"session",data:c.ri}],Bi:c.Bi,Nr:b.fq(),EEa:c.EEa,$O:a.Zg.$O,Ci:a.Zg.Ci}));};a.prototype.bKa=function(a,b){this.log.info("Sending release request",this.nga(a));return b?m.nb.Ur(this.As.release({ia:a.Zg.ia,qc:a.qc,ri:b.ri})):m.nb.Ur(this.As.release({ia:a.Zg.ia,qc:a.qc}));};a.prototype.IY=function(a,b){return this.XM(a.context,a.type,b).Sr(function(b){return m.nb.race(b.IY(a.ZZ).map(function(){return b;}),b.mH().map(function(){return b;}));});};a.prototype.XM=function(a,b,c){var d;d=this;return m.nb.Ur(this.Bl.JG()).Sr(function(f){return d.NFa(f,a,b,c);});};a.prototype.NFa=function(a,b,c,d){return m.nb.Ur(this.fHa.create()).Sr(function(f){return f.Bn(b,a,d,c);});};a.prototype.BHb=function(a){var b;b=this;return this.config.Gi?m.nb.Ur(this.Hub(a)):m.nb.Ur(this.As.release({ia:a.ia,qc:a.qc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return m.nb.empty();}).map(function(){return a;});};a.prototype.Hub=function(a){var b;b=this;this.Bl.JG().then(function(c){b.fHa.create().then(function(d){d.Bn({Wd:c.keySystem},c,b.bP(),f.sj.Ym).Sr(function(){return d.Rub(a.qc[0].id);}).Sr(function(){return d.DIa();}).subscribe(void 0,function(a){b.log.error("SecureStop failed.",a);});});});return Promise.resolve(a);};a.prototype.CHb=function(){var a;a=this;this.xa.yh(this.config.Lka,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.KF.RX.length});b=a.KF.RX.filter(function(a){return!a.active;}).map(function(b){return a.BHb(b);});m.nb.concat.apply(m.nb,[].concat(ea(b))).subscribe(function(b){a.KF.Pla(b);});});};a.prototype.Ucb=function(a){var b;if(a.Yx()&&a.Zg){b=new u.AS();b.Wd=a.context.Wd;b.qc=a.qc;b.ia=a.Zg.ia;b.G=a.Zg.G;this.KF.ECa(b);}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(p.Db)),c.__param(1,g.l(q.Ng)),c.__param(2,g.l(n.T4)),c.__param(3,g.l(h.Nl)),c.__param(4,g.l(E.fd)),c.__param(5,g.l(I.e5)),c.__param(6,g.l(t.pS)),c.__param(7,g.l(J.kt)),c.__param(8,g.l(K.aE)),c.__param(9,g.l(l.bE))],b);}();b.Fra=d;},function(d,b,a){var c,g,m,p,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;d=a(1);c=a(119);g=a(1132);m=a(99);p=a(1069);q=a(486);n=a(1060);b.dHa=new d.Ec(function(a){a(c.U4).to(g.Fra).Y();a(m.kt).to(p.Sua).Y();a(q.e5).to(n.bsa);});},function(d,b,a){var c,g,m,p,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.c4=void 0;c=a(0);g=a(1);m=a(41);p=a(29);q=a(3);n=a(37);d=function(){var b;function a(a,b){return m.Yd.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}ba(a,m.Yd);qa.Object.defineProperties(a.prototype,{h_:{configurable:!0,enumerable:!0,get:function(){return!1;}},Gi:{configurable:!0,enumerable:!0,get:function(){return!1;}},ny:{configurable:!0,enumerable:!0,get:function(){return q.eh(5);}},Lka:{configurable:!0,enumerable:!0,get:function(){return q.eh(10);}},eha:{configurable:!0,enumerable:!0,get:function(){return q.Gb(2E3);}},Ama:{configurable:!0,enumerable:!0,get:function(){return q.Gb(1E3);}},bAb:{configurable:!0,enumerable:!0,get:function(){return q.Gb(2500);}},pN:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},FN:{configurable:!0,enumerable:!0,get:function(){return!1;}},ip:{configurable:!0,enumerable:!0,get:function(){return!0;}},hDa:{configurable:!0,enumerable:!0,get:function(){return q.eh(30);}},iDa:{configurable:!0,enumerable:!0,get:function(){return q.eh(30);}},lDa:{configurable:!0,enumerable:!0,get:function(){return q.eh(30);}},jDa:{configurable:!0,enumerable:!0,get:function(){return q.eh(30);}},Yaa:{configurable:!0,enumerable:!0,get:function(){return q.eh(30);}},EQ:{configurable:!0,enumerable:!0,get:function(){return"";}},VPa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([n.config(n.$c,"initializeKeySystemAtStartup")],b.prototype,"h_",null);c.__decorate([n.config(n.$c,"secureStopEnabled")],b.prototype,"Gi",null);c.__decorate([n.config(n.Xg,"licenseRenewalRequestDelay")],b.prototype,"ny",null);c.__decorate([n.config(n.Xg,"persistedReleaseDelay")],b.prototype,"Lka",null);c.__decorate([n.config(n.Xg,"secureStopKeyMessageTimeoutMilliseconds")],b.prototype,"eha",null);c.__decorate([n.config(n.Xg,"secureStopKeyAddedTimeoutMilliseconds")],b.prototype,"Ama",null);c.__decorate([n.config(n.Xg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],b.prototype,"bAb",null);c.__decorate([n.config(n.string,"drmPersistKey")],b.prototype,"pN",null);c.__decorate([n.config(n.$c,"forceLimitedDurationLicense")],b.prototype,"FN",null);c.__decorate([n.config(n.$c,"prepareCadmium")],b.prototype,"ip",null);c.__decorate([n.config(n.Xg,"apiCloseTimeout")],b.prototype,"hDa",null);c.__decorate([n.config(n.Xg,"apiCreateMediaKeysTimeout")],b.prototype,"iDa",null);c.__decorate([n.config(n.Xg,"apiSetServerCertificateTimeout")],b.prototype,"lDa",null);c.__decorate([n.config(n.Xg,"apiGenerateRequestTimeout")],b.prototype,"jDa",null);c.__decorate([n.config(n.Xg,"apiUpdateTimeout")],b.prototype,"Yaa",null);c.__decorate([n.config(n.string,"serverCertificate")],b.prototype,"EQ",null);c.__decorate([n.config(n.$c,"outputRestrictedIsFatal")],b.prototype,"VPa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(p.Ti)),c.__param(1,g.l(p.rz)),c.__param(1,g.optional())],b);}();b.c4=d;},function(d,b,a){var c,g,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Zra=void 0;c=a(0);g=a(1);m=a(29);p=a(37);q=a(1134);d=function(){var b;function a(a,b){return q.c4.call(this,a,void 0===b?"FirefoxEmeConfig":b)||this;}ba(a,q.c4);qa.Object.defineProperties(a.prototype,{h_:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([p.config(p.$c,"initializeKeySystemAtStartup")],b.prototype,"h_",null);return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ti)),c.__param(1,g.l(m.rz)),c.__param(1,g.optional())],b);}();b.Zra=d;},function(d,b,a){var c,g,m,p,q,n,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.ysa=void 0;c=a(0);g=a(40);m=a(1);p=a(3);q=a(41);n=a(118);l=a(37);f=a(29);d=function(){var b;function a(a,b,c,d){a=q.Yd.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.ag=b;a.za=c;return a;}ba(a,q.Yd);qa.Object.defineProperties(a.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.efa+(-1===this.efa.indexOf("?")?"?":"&")+"monotonic="+this.za.DOa+"&device=web";}},tUa:{configurable:!0,enumerable:!0,get:function(){return p.Dc;}},Vea:{configurable:!0,enumerable:!0,get:function(){return"";}},efa:{configurable:!0,enumerable:!0,get:function(){return this.ag.endpoint+"/ftl/probe"+(this.Vea?"?force="+this.Vea:"");}}});b=a;c.__decorate([l.config(l.$c,"ftlEnabled")],b.prototype,"enabled",null);c.__decorate([l.config(l.Xg,"ftlStartDelay")],b.prototype,"tUa",null);c.__decorate([l.config(l.string,"ftlEndpointForceParam")],b.prototype,"Vea",null);c.__decorate([l.config(l.url,"ftlEndpoint")],b.prototype,"efa",null);return b=c.__decorate([m.N(),c.__param(0,m.l(f.Ti)),c.__param(1,m.l(n.iz)),c.__param(2,m.l(g.Ni)),c.__param(3,m.l(f.rz)),c.__param(3,m.optional())],b);}();b.ysa=d;},function(d,b,a){var c,g,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.nva=void 0;c=a(0);g=a(1);m=a(37);p=a(41);q=a(29);d=function(){var b;function a(a,b){return p.Yd.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}ba(a,p.Yd);qa.Object.defineProperties(a.prototype,{GWa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([m.config(m.$c,"useNetworkMonitor")],b.prototype,"GWa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ti)),c.__param(1,g.l(q.rz)),c.__param(1,g.optional())],b);}();b.nva=d;},function(d,b){function a(a){this.value=a;}Object.defineProperty(b,"__esModule",{value:!0});b.j7=void 0;a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.Cv=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};b.j7=a;},function(d,b,a){var c,g,m,p,q,n,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Dsa=b.uG=void 0;c=a(0);g=a(3);m=a(1);p=a(37);q=a(41);n=a(34);l=a(29);f=a(140);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.uG=function(a,b){return a.IRa(h[b]||b,n.dt);};d=function(){var d;function a(a,b,c){a=q.Yd.call(this,a,void 0===c?"GeneralConfigImpl":c)||this;a.hm=b;return a;}ba(a,q.Yd);qa.Object.defineProperties(a.prototype,{uG:{configurable:!0,enumerable:!0,get:function(){return n.dt.N3a;}},Dna:{configurable:!0,enumerable:!0,get:function(){return g.eh(8);}},dy:{configurable:!0,enumerable:!0,get:function(){return"";}},LF:{configurable:!0,enumerable:!0,get:function(){return"";}},qD:{configurable:!0,enumerable:!0,get:function(){return"";}},fVa:{configurable:!0,enumerable:!0,get:function(){return!1;}},uW:{configurable:!0,enumerable:!0,get:function(){return!0;}},WZ:{configurable:!0,enumerable:!0,get:function(){return this.hm.WZ;}},dlb:{configurable:!0,enumerable:!0,get:function(){return!1;}},Cj:{configurable:!0,enumerable:!0,get:function(){return{};}},LSa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Pha:{configurable:!0,enumerable:!0,get:function(){return!1;}},D3:{configurable:!0,enumerable:!0,get:function(){return!1;}},Nq:{configurable:!0,enumerable:!0,get:function(){return!1;}},tN:{configurable:!0,enumerable:!0,get:function(){return!1;}},Uy:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Pr:{configurable:!0,enumerable:!0,get:function(){return 0<=[n.dt.Jya,n.dt.Dta].indexOf(this.uG);}}});d=a;c.__decorate([p.config(b.uG,"environment")],d.prototype,"uG",null);c.__decorate([p.config(p.Xg,"storageTimeout")],d.prototype,"Dna",null);c.__decorate([p.config(p.string,"groupName")],d.prototype,"dy",null);c.__decorate([p.config(p.string,"canaryGroupName")],d.prototype,"LF",null);c.__decorate([p.config(p.string,"uiGroupName")],d.prototype,"qD",null);c.__decorate([p.config(p.$c,"testIndexDBForCorruptedDatabase")],d.prototype,"fVa",null);c.__decorate([p.config(p.$c,"applyIndexedDbOpenWorkaround")],d.prototype,"uW",null);c.__decorate([p.config(p.$c,"ignoreIdbOpenError")],d.prototype,"WZ",null);c.__decorate([p.config(p.$c,"executeStorageMigration")],d.prototype,"dlb",null);c.__decorate([p.config(p.object(),"browserInfo")],d.prototype,"Cj",null);c.__decorate([p.config(p.$c,"retryAllMslRequestsOnError")],d.prototype,"LSa",null);c.__decorate([p.config(p.$c,"isTestAccount")],d.prototype,"Pha",null);c.__decorate([p.config(p.$c,"vuiCommandLogging")],d.prototype,"D3",null);c.__decorate([p.config(p.$c,"useRangeHeader")],d.prototype,"Nq",null);c.__decorate([p.config(p.$c,"enableMilestoneEventList")],d.prototype,"tN",null);c.__decorate([p.config(p.object,"storageRules")],d.prototype,"Uy",null);return d=c.__decorate([m.N(),c.__param(0,m.l(l.Ti)),c.__param(1,m.l(f.lE)),c.__param(2,m.l(l.rz)),c.__param(2,m.optional())],d);}();b.Dsa=d;},function(d,b,a){var c,g,m,p,q,n,l;Object.defineProperty(b,"__esModule",{value:!0});b.Bta=b.kza=b.Pqa=void 0;c=a(0);g=a(1);m=a(86);p=a(7);q=a(136);n=a(506);l=a(29);d=function(){function a(a,b,c){this.Vu=a;this.tP=b;this.A1=c;}return a=c.__decorate([g.N(),c.__param(0,g.l(l.VD)),c.__param(1,g.l(q.nU)),c.__param(2,g.l(n.YT))],a);}();b.Pqa=d;d=function(){function a(a,b,c,d,f){this.debug=a;this.Vu=b;this.tP=c;this.kf=d;this.A1=f;}return a=c.__decorate([g.N(),c.__param(0,g.l(m.Tq)),c.__param(1,g.l(l.VD)),c.__param(2,g.l(q.nU)),c.__param(3,g.l(p.Db)),c.__param(4,g.l(n.YT))],a);}();b.kza=d;d=function(){var b;function a(){this.Au={};this.MSa=0;}a.prototype.xwb=function(a){this.Au=Object.assign({},this.Au,a);this.MSa++;};qa.Object.defineProperties(a.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Au;}},Z1:{configurable:!0,enumerable:!0,get:function(){return this.MSa;}}});b=a;return b=c.__decorate([g.N()],b);}();b.Bta=d;},function(d,b,a){var c,g,m,p,q,n,l,f,h,t,u;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;d=a(1);c=a(14);g=a(1140);m=a(29);p=a(34);q=a(1139);n=a(505);l=a(1137);f=a(182);h=a(1136);t=a(53);u=a(1135);b.config=new d.Ec(function(a){a(c.fd).rf(function(){return function(){return M._cad_global.config;};});a(m.sS).to(g.Pqa).Y();a(m.Ti).to(g.kza).Y();a(m.VD).to(g.Bta).Y();a(p.Yk).to(q.Dsa).Y();a(n.c7).to(l.nva).Y();a(f.p5).to(h.ysa).Y();a(t.Nl).to(u.Zra).Y();});},function(d,b,a){var c,g,m,p,q,n,l,f,h,t;Object.defineProperty(b,"__esModule",{value:!0});b.zqa=void 0;c=a(0);g=a(1);m=a(119);p=a(44);q=a(14);n=a(7);l=a(137);f=a(99);h=a(87);t=a(138);d=function(){var b;function a(a,b,c,d,f,g){this.oB=a;this.xc=b;this.config=c;this.bP=f;this.Bl=g;this.log=d.ub("CannedChallengeProviderImpl");}a.prototype.lga=function(){var a;a=this;return Promise.all([this.oB(),this.tob()]).then(function(b){var c;c=R(b);b=c.next().value;c=c.next().value;c={type:h.sj.ww,ZZ:[c],context:{Wd:a.config().Wd}};return b.Jmb(c,a.bP());}).then(function(b){var c;c=b.pia.data.map(function(b){return a.xc.encode(b);});a.log.trace("Challenge generated",c);return{tb:b,Wba:c&&c[0]};});};a.prototype.tob=function(){return this.Bl.fq().then(function(a){switch(a){case t.Sm.wB:return"c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return"AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.xc.decode);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.KJ)),c.__param(1,g.l(p.qj)),c.__param(2,g.l(q.fd)),c.__param(3,g.l(n.Db)),c.__param(4,g.l(l.aE)),c.__param(5,g.l(f.kt))],b);}();b.zqa=d;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Tua=void 0;a.prototype.SKa=function(){return void 0!==this.Cl;};a.prototype.VC=function(a){this.Cl=a;};a.prototype.tDb=function(){this.SKa()&&(this.Cl=void 0);};b.Tua=a;},function(d,b,a){var c,g,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.sRa=void 0;c=a(2);g=a(88);m=a(119);p=a(270);b.sRa=function(a){p.oG.parent=a.fb;return function(){q||(q=new Promise(function(a,b){try{a(p.oG.get(m.U4));}catch(h){b(new g.Lf(c.K.Z0a,c.J.s1a,void 0,"Unable to extract the DRM services from the dependency injector",h));}}));return q;};};},function(d,b,a){var m,p,q,n,l,f,h,t,u;function c(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId||!a.xid||!a.movieId)throw new f.vc(n.K.TD,n.J.nw);return{version:1,drmData:[a]};}function g(a,b){if(a.eu(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new u.AS({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).Rs();})};throw new f.vc(n.K.TD,n.J.nw);}Object.defineProperty(b,"__esModule",{value:!0});b.xqa=void 0;m=a(0);p=a(1);q=a(53);n=a(2);l=a(23);f=a(45);h=a(507);t=a(69);u=a(269);d=function(){var b;function a(a,b,d){var k;k=this;this.is=a;this.$j=b;this.config=d;this.Rs=function(){return{version:k.version,drmData:k.RX.map(function(a){return a.Rs();})};};this.dfa=function(a){var b;k.is.$l(a)&&(a=c(a));1===a.version&&(a=g(k.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new u.AS(a);});}catch(S){throw new f.vc(n.K.TD,n.J.nw,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",S);}}else{if(!a.version||!k.is.ph(a.version))throw new f.vc(n.K.TD,n.J.nw,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new f.vc(n.K.TD,n.J.mqa,void 0,void 0,void 0,"Version number is not supported. Version: "+k.getVersion);}return b;};this.qp=new h.W5(2,this.config.pN,this.is.$l(this.config.pN),this.$j,this.Rs);}a.prototype.HRa=function(){return this.vHb();};a.prototype.ECa=function(a){return this.qp.add(a);};a.prototype.Pla=function(a){return this.qp.remove(a,function(a,b){return a.ia===b.ia;});};a.prototype.toString=function(){return JSON.stringify(this.Rs(),null,"  ");};a.prototype.vHb=function(){var a;a=this;this.LRa||(this.LRa=new Promise(function(b,c){a.qp.load(a.dfa).then(function(){b();})["catch"](function(a){a.ga&&a.cause?c(new f.vc(n.K.TD,a.ga,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.LRa;};qa.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.qp.version;}},RX:{configurable:!0,enumerable:!0,get:function(){return this.qp.Fr;}}});b=a;return b=m.__decorate([p.N(),m.__param(0,p.l(l.Le)),m.__param(1,p.l(t.Qq)),m.__param(2,p.l(q.Nl))],b);}();b.xqa=d;},function(d,b,a){var c,g,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.O7=void 0;c=a(3);g=a(49);m=a(511);p=a(60);q={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.O7=function(){this.Nbb=this.kM=m.uJ.Hta;this.Qma=!0;this.gM=[];this.MR=[];this.DP=this.WX=!1;this.Ps=[p.Zk.B4,p.Zk.m4a,p.Zk.cE];this.Wd=void 0;this.eea=!0;this.bY=!1;this.vW=g.aa(288E4);this.xW=g.aa(335544320);this.sy=c.Gb(15E3);this.Vvb=g.aa(6291456);this.oH=1E3;this.Qba=!0;this.boa=q;this.YI=g.aa(0);this.e3=c.Gb(0);this.WZ=!0;};},function(d,b,a){var c,g,m,p,q,n,l,f,h,t,u,I,E,J,K,D;Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.f0a=b.e0a=b.d0a=void 0;c=a(0);g=a(1);m=a(32);p=a(3);q=a(140);n=a(1146);l=a(60);f=a(139);h=a(510);t=a(509);u=a(31);I=a(271);E=function(){function a(a){this.version="0.0024.489.050";this.HOa=!0;this.vB="F";this.Px=a.Zsb?"NFCDFF-MC-":a.ztb?"NFCDFF-02-":"NFCDFF-LX-";this.HY=!0;this.uda="firefox-cadmium";this.bjb="browser";this.kvb="";this.vda="cadmium";this.Fab=this.eLb=!0;this.kDb=!1;}return a=c.__decorate([g.N(),c.__param(0,g.l(t.eS))],a);}();b.d0a=E;J=function(){var b;function a(){var a;a=n.O7.call(this)||this;a.gM=[l.Yh.QS,l.Yh.RS];a.MR=[l.X.NJ,l.X.PD,l.X.LS,l.X.MS,l.X.JK,l.X.KK];a.WX=!0;a.DP=!0;a.Wd=f.qb.h5a;a.sy=p.Gb(31E3);return a;}ba(a,n.O7);b=a;return b=c.__decorate([g.N()],b);}();b.e0a=J;K=function(){var b;function a(a){this.Cj=a;}a.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,doNotPerformLdlOnPlaybackStart:!0,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:u.kk.r4,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};this.Cj.Rsb&&58<=this.Cj.Gcb&&(a=Object.assign(Object.assign({},a),{enableVP9:!0,preciseSeeking:!0}));return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(t.eS))],b);}();b.f0a=K;D=function(){function a(a){this.Tra=a.Px;}return a=c.__decorate([g.N(),c.__param(0,g.l(m.Si))],a);}();b.platform=new g.Ec(function(a){a(m.Si).to(E).Y();a(q.lE).to(J).Y();a(h.P7).to(K).Y();a(m.Fp).to(D).Y();a(I.QT).rf(function(){return function(){return{};};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.KOa=function(a){return function(b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.forEach(function(c){return a.bind(c).jJb(b);});};};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(38);m=a(64);b.UQa=function(){return function(a,b){b=new m.Metadata(g.mK,b);if(Reflect.Hga(g.mK,a.constructor))throw Error(c.o2a);Reflect.oda(g.mK,b,a.constructor);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(64);m=a(89);b.nR=function(a){return function(b,d,k){var f;f=new g.Metadata(c.uT,a);m.hD(b,d,k,f);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(64);m=a(89);b.lC=function(a){return function(b,d,k){var f;f=new g.Metadata(c.Hz,a);"number"===typeof k?m.hD(b,d,k,f):m.kR(b,d,f);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(64);m=a(89);b.Xh=function(){return function(a,b,d){var k;k=new g.Metadata(c.FK,!0);m.hD(a,b,d,k);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(64);m=a(89);b.optional=function(){return function(a,b,d){var k;k=new g.Metadata(c.wva,!0);"number"===typeof d?m.hD(a,b,d,k):m.kR(a,b,k);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(64);m=a(89);b.NOa=function(a){return function(b,d,k){var f;f=new g.Metadata(c.Dw,a);"number"===typeof k?m.hD(b,d,k,f):m.kR(b,d,f);};};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(64);g=a(89);b.bVa=function(a,b){return function(d,k,l){var f;f=new c.Metadata(a,b);"number"===typeof l?g.hD(d,k,l,f):g.kR(d,k,f);};};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(38);b.N=function(){return function(a){var b;if(Reflect.Hga(g.k7,a))throw Error(c.p_a);b=Reflect.getMetadata(g.MZa,a)||[];Reflect.oda(g.k7,b,a);return a;};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);b.Ec=function(){return function(a){this.id=c.id();this.Mla=a;};}();b.Qpa=function(){return function(a){this.id=c.id();this.Mla=a;};}();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);d=function(){function a(){this.zj=new Map();}a.prototype.add=function(a,b){var d;if(null===a||void 0===a)throw Error(c.gK);if(null===b||void 0===b)throw Error(c.gK);d=this.zj.get(a);void 0!==d?(d.push(b),this.zj.set(a,d)):this.zj.set(a,[b]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(c.gK);a=this.zj.get(a);if(void 0!==a)return a;throw Error(c.Ita);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(c.gK);if(!this.zj["delete"](a))throw Error(c.Ita);};a.prototype.QKa=function(a){if(null===a||void 0===a)throw Error(c.gK);return this.zj.has(a);};a.prototype.clone=function(){var b;b=new a();this.zj.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.BJb=function(a){this.zj.forEach(function(b,c){a(c,b);});};return a;}();b.O1a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(){}a.of=function(b,d){var c;c=new a();c.pM=b;c.Jwb=d;return c;};return a;}();b.CNb=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(78);g=a(514);d=function(){function a(a){this.Nb=a;}a.prototype.Y=function(){this.Nb.scope=c.Ap.D8;return new g.pz(this.Nb);};a.prototype.fha=function(){this.Nb.scope=c.Ap.sU;return new g.pz(this.Nb);};return a;}();b.yYa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(1160);g=a(273);m=a(272);d=function(){function a(a){this.Nb=a;this.SK=new m.e4(this.Nb);this.A9=new g.cS(this.Nb);this.Nza=new c.yYa(a);}a.prototype.Y=function(){return this.Nza.Y();};a.prototype.fha=function(){return this.Nza.fha();};a.prototype.when=function(a){return this.SK.when(a);};a.prototype.QR=function(){return this.SK.QR();};a.prototype.us=function(a){return this.A9.us(a);};return a;}();b.$pa=d;},function(d,b,a){var c,g,m,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(78);m=a(1161);p=a(514);d=function(){function a(a){this.Nb=a;}a.prototype.to=function(a){this.Nb.type=g.Mi.Z5;this.Nb.Bk=a;return new m.$pa(this.Nb);};a.prototype.AVa=function(){if("function"!==typeof this.Nb.pf)throw Error(""+c.v1a);this.to(this.Nb.pf);};a.prototype.Uh=function(a){this.Nb.type=g.Mi.Qqa;this.Nb.cache=a;this.Nb.lG=null;this.Nb.Bk=null;new p.pz(this.Nb);};a.prototype.cw=function(a){this.Nb.type=g.Mi.Lra;this.Nb.cache=null;this.Nb.lG=a;this.Nb.Bk=null;return new m.$pa(this.Nb);};a.prototype.iJb=function(a){this.Nb.type=g.Mi.Rqa;this.Nb.Bk=a;new p.pz(this.Nb);};a.prototype.rf=function(a){this.Nb.type=g.Mi.n5;this.Nb.zG=a;new p.pz(this.Nb);};a.prototype.fJb=function(a){this.Nb.type=g.Mi.n5;this.Nb.zG=function(b){return function(){return b.fb.get(a);};};new p.pz(this.Nb);};a.prototype.rR=function(a){this.Nb.type=g.Mi.mxa;this.Nb.As=a;new p.pz(this.Nb);};a.prototype.jJb=function(a){this.cw(function(b){return b.fb.get(a);});};return a;}();b.zYa=d;},function(d,b,a){var m,p,q;function c(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===p.ut.Kqa;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function g(a,b){var c;if(Reflect.erb(q.mK,a)){c=Reflect.getMetadata(q.mK,a);try{b[c.value]();}catch(h){throw Error(m.C3a(a.name,h.message));}}}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);p=a(78);q=a(38);b.dEb=function(a,b,d){var f;f=null;0<b.length?(f=b.filter(function(a){return null!==a.target&&a.target.type===p.ut.Sqa;}).map(d),f=new(a.bind.apply(a,[void 0].concat(f)))(),f=c(f,b,d)):f=new a();g(a,f);return f;};},function(d,b,a){var m,p,q,n,l;function c(a){return function(b){var d,f,h,k,q;d=b.pM;f=b.aca;h=b.target&&b.target.isArray();k=!b.Dv||!b.Dv.target||!b.target||!b.Dv.target.Ovb(b.target.pf);if(h&&k)return f.map(function(b){return c(a)(b);});h=null;if(!b.target.dMa()||0!==d.length){q=d[0];d=q.scope===p.Ap.D8;k=q.scope===p.Ap.Request;if(d&&q.Aaa)return q.cache;if(k&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===p.Mi.Qqa)h=q.cache;else if(q.type===p.Mi.Function)h=q.cache;else if(q.type===p.Mi.Rqa)h=q.Bk;else if(q.type===p.Mi.Lra&&null!==q.lG)h=g("toDynamicValue",q.pf,function(){return q.lG(b.WH);});else if(q.type===p.Mi.n5&&null!==q.zG)h=g("toFactory",q.pf,function(){return q.zG(b.WH);});else if(q.type===p.Mi.mxa&&null!==q.As)h=g("toProvider",q.pf,function(){return q.As(b.WH);});else if(q.type===p.Mi.Z5&&null!==q.Bk)h=l.dEb(q.Bk,f,c(a));else throw f=n.PG(b.pf),Error(m.q1a+" "+f);"function"===typeof q.us&&(h=q.us(b.WH,h));d&&(q.cache=h,q.Aaa=!0);k&&null!==a&&!a.has(q.id)&&a.set(q.id,h);return h;}};}function g(a,b,c){try{return c();}catch(F){if(q.oMa(F))throw Error(m.XYa(a,b.toString()));throw F;}}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);p=a(78);q=a(517);n=a(141);l=a(1163);b.resolve=function(a){return c(a.$H.lma.TDb)(a.$H.lma);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=function(){function a(a,b,d,g,k){this.id=c.id();this.pf=a;this.WH=b;this.Dv=d;this.target=k;this.aca=[];this.pM=Array.isArray(g)?g:[g];this.TDb=null===d?new Map():null;}a.prototype.CCa=function(b,c,d){b=new a(b,this.WH,this,c,d);this.aca.push(b);return b;};return a;}();b.Request=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.Vy=a;}a.prototype.startsWith=function(a){return 0===this.Vy.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.Vy.split("").reverse().join("");return this.startsWith.call({Vy:a},b);};a.prototype.contains=function(a){return-1!==this.Vy.indexOf(a);};a.prototype.equals=function(a){return this.Vy===a;};a.prototype.value=function(){return this.Vy;};return a;}();b.O3a=d;},function(d,b,a){var q,n,l,f,h,t;function c(a,b,c,d){var f,h,u,x,J,E,F,B,I,M;f=a.XIa(c);h=f.lFa;if(void 0===h)throw Error(n.a2a+" "+b+".");for(var f=f.bLb,k=Object.keys(f),m=0===c.length&&0<k.length?k.length:c.length,k=[],r=0;r<m;r++){x=r;J=d;E=b;F=h;u=f[x.toString()]||[];B=p(u);I=!0!==B.Xh;F=F[x];M=B.l||B.lC;F=M?M:F;F instanceof q.j6&&(F=F.ZJb());if(I){I=F===Function;I=F===Object||I||void 0===F;if(!J&&I)throw Error(n.b2a+" argument "+x+" in class "+E+".");x=new t.pU(l.ut.Sqa,B.nR,F);x.Cd=u;u=x;}else u=null;null!==u&&k.push(u);}a=g(a,c);return k.concat(a);}function g(a,b){var k,m,n;for(var c=a.rpb(b),d=[],f=0,h=Object.keys(c);f<h.length;f++){k=h[f];m=c[k];n=p(c[k]);k=new t.pU(l.ut.Kqa,n.nR||k,n.l||n.lC);k.Cd=m;d.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=g(a,b),d=d.concat(a));return d;}function m(a,b){var d,g;b=Object.getPrototypeOf(b.prototype).constructor;if(b!==Object){d=h.getFunctionName(b);d=c(a,d,b,!0);g=d.map(function(a){return a.Cd.filter(function(a){return a.key===f.FK;});});g=[].concat.apply([],g).length;d=d.length-g;return 0<d?d:m(a,b);}return 0;}function p(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[f.ZJ],lC:b[f.Hz],nR:b[f.uT],Xh:b[f.FK]};}Object.defineProperty(b,"__esModule",{value:!0});q=a(516);n=a(55);l=a(78);f=a(38);h=a(141);b.getFunctionName=h.getFunctionName;t=a(515);b.Mnb=function(a,b){var d;d=h.getFunctionName(b);return c(a,d,b,!1);};b.hnb=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L3a=function(){return function(a,b){this.WH=a;this.lma=b;};}();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=function(){function a(a){this.id=c.id();this.fb=a;}a.prototype.eab=function(a){this.$H=a;};return a;}();b.Tqa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d4={WPb:2,pva:0,O2a:1};},function(d,b,a){var q,n,l,f,h,t,u,B,E,J,K,D;function c(a,b,c,d,f){var h,k;h=p(c.fb,f.pf);k=[];h.length===q.d4.pva&&c.fb.options.mM&&"function"===typeof f.pf&&a.XIa(f.pf).lFa&&(c.fb.bind(f.pf).AVa(),h=p(c.fb,f.pf));k=b?h:h.filter(function(a){var b;b=new K.Request(a.pf,c,d,a,f);return a.bB(b);});g(f.pf,k,f,c.fb);return k;}function g(a,b,c,d){switch(b.length){case q.d4.pva:if(c.dMa())break;a=t.PG(a);b=n.B2a;b+=t.pub(a,c);b+=t.WMa(d,a,p);throw Error(b);case q.d4.O2a:if(!c.isArray())break;default:if(!c.isArray())throw a=t.PG(a),b=n.yXa+" "+a,b+=t.WMa(d,a,p),Error(b);}}function m(a,b,d,f,g,h){var k;null===g?(b=c(a,b,f,null,h),k=new K.Request(d,f,null,b,h),d=new E.L3a(f,k),f.eab(d)):(b=c(a,b,f,g,h),k=g.CCa(h.pf,b,h));b.forEach(function(b){var c,d,g;c=null;if(h.isArray())c=k.CCa(b.pf,b,h);else{if(b.cache)return;c=k;}if(b.type===l.Mi.Z5&&null!==b.Bk){d=J.Mnb(a,b.Bk);if(!f.fb.options.YC){g=J.hnb(a,b.Bk);if(d.length<g)throw b=n.zXa(J.getFunctionName(b.Bk)),Error(b);}d.forEach(function(b){m(a,!1,b.pf,f,c,b);});}});}function p(a,b){var c,d;c=[];d=a.yE;d.QKa(b)?c=d.get(b):null!==a.parent&&(c=p(a.parent,b));return c;}Object.defineProperty(b,"__esModule",{value:!0});q=a(1170);n=a(55);l=a(78);f=a(38);h=a(517);t=a(141);u=a(1169);B=a(64);E=a(1168);J=a(1167);K=a(1165);D=a(515);b.ofa=function(a){return a.yE;};b.$H=function(a,b,c,d,g,k,l,n){void 0===n&&(n=!1);b=new u.Tqa(b);c=new B.Metadata(c?f.Hz:f.ZJ,g);d=new D.pU(d,"",g,c);void 0!==k&&(k=new B.Metadata(k,l),d.Cd.push(k));try{return m(a,n,g,b,null,d),b;}catch(W){throw h.oMa(W)&&b.$H&&t.feb(b.$H.lma),W;}};b.EUb=function(a,b,c,d){c=new D.pU(l.ut.h9,"",b,new B.Metadata(c,d));a=new u.Tqa(a);return new K.Request(b,a,null,[],c);};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(78);g=a(101);d=function(){function a(a,b){this.id=g.id();this.Aaa=!1;this.pf=a;this.scope=b;this.type=c.Mi.F1a;this.bB=function(){return!0;};this.lG=this.us=this.As=this.zG=this.cache=this.Bk=null;}a.prototype.clone=function(){var b;b=new a(this.pf,this.scope);b.Aaa=!1;b.Bk=this.Bk;b.lG=this.lG;b.scope=this.scope;b.type=this.type;b.zG=this.zG;b.As=this.As;b.bB=this.bB;b.us=this.us;b.cache=this.cache;return b;};return a;}();b.xYa=d;},function(d,b,a){var c,k,m,p,q,n,l,f,h,u,F,B;c=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(ma){g(ma);}}function k(a){try{l(d["throw"](a));}catch(ma){g(ma);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};k=this&&this.__generator||function(a,b){var f,h,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(h)throw new TypeError("Generator is already executing.");for(;f;)try{if(h=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.qC.pop();f.pD.pop();continue;default:if(!(l=f.pD,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.qC.push(c);else{l[2]&&f.qC.pop();f.pD.pop();continue;}}c=b.call(a,f);}catch(ma){c=[6,ma];k=0;}finally{h=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,Gs:function(){if(l[0]&1)throw l[1];return l[1];},pD:[],qC:[]};g();g();t();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(b,"__esModule",{value:!0});m=a(1172);p=a(55);q=a(78);a(38);n=a(518);l=a(1171);f=a(1164);h=a(1162);u=a(101);F=a(141);a(1159);B=a(1158);d=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+p.kZa);if(void 0===a.iB)a.iB=q.Ap.sU;else if(a.iB!==q.Ap.D8&&a.iB!==q.Ap.sU&&a.iB!==q.Ap.Request)throw Error(""+p.iZa);if(void 0===a.mM)a.mM=!1;else if("boolean"!==typeof a.mM)throw Error(""+p.hZa);if(void 0===a.YC)a.YC=!1;else if("boolean"!==typeof a.YC)throw Error(""+p.jZa);this.options={mM:a.mM,iB:a.iB,YC:a.YC};this.id=u.id();this.yE=new B.O1a();this.P9a=[];this.parent=this.F$=null;this.N7a=new n.T6();}a.gXb=function(b,c){var f,g;function d(a,b){a.BJb(function(a,c){c.forEach(function(a){b.add(a.pf,a.clone());});});}f=new a();g=l.ofa(f);b=l.ofa(b);c=l.ofa(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.AAa(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.Mla(f.WDa,f.dWa,f.wMa,f.ORa);}};a.prototype.NO=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return c(this,void 0,void 0,function(){var b,c,d,f,g;return k(this,function(h){switch(h.label){case 0:b=this.AAa(),c=0,d=a,h.label=1;case 1:if(!(c<d.length))return[3,4];f=d[c];g=b(f.id);return[4,f.Mla(g.WDa,g.dWa,g.wMa,g.ORa)];case 2:h.Gs(),h.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new m.xYa(a,this.options.iB||q.Ap.sU);this.yE.add(a,b);return new h.zYa(b);};a.prototype.zCb=function(a){this.cWa(a);return this.bind(a);};a.prototype.cWa=function(a){try{this.yE.remove(a);}catch(K){throw Error(p.TYa+" "+F.PG(a));}};a.prototype.SLa=function(a){var b;b=this.yE.QKa(a);!b&&this.parent&&(b=this.parent.SLa(a));return b;};a.prototype.restore=function(){var a;a=this.P9a.pop();if(void 0===a)throw Error(p.C2a);this.yE=a.pM;this.F$=a.Jwb;};a.prototype.Sgb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.yAa(!1,!1,q.ut.h9,a);};a.prototype.getAll=function(a){return this.yAa(!0,!0,q.ut.h9,a);};a.prototype.resolve=function(a){var b;b=this.Sgb();b.bind(a).AVa();return b.get(a);};a.prototype.AAa=function(){var f;function a(a){return function(b){b=f.zCb.bind(f)(b);b.Nb.exb=a;return b;};}function b(){return function(a){return f.SLa.bind(f)(a);};}function c(){return function(a){f.cWa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Nb.exb=a;return b;};}f=this;return function(f){return{WDa:d(f),wMa:b(),ORa:a(f),dWa:c()};};};a.prototype.yAa=function(a,b,c,d){var f;f=null;a={Ybb:a,afb:function(a){return a;},atb:b,key:void 0,pf:d,EIb:c,value:void 0};if(this.F$){if(f=this.F$(a),void 0===f||null===f)throw Error(p.t1a);}else f=this.W8a()(a);return f;};a.prototype.W8a=function(){var a;a=this;return function(b){var c;c=l.$H(a.N7a,a,b.atb,b.EIb,b.pf,b.key,b.value,b.Ybb);c=b.afb(c);return f.resolve(c);};};return a;}();b.tS=d;},function(d,b,a){var c,g;c=a(520);g=a(523);d.P=function(){var a;a=c();g(Object,{values:a},{values:function(){return Object.values!==a;}});return a;};},function(d,b,a){var c,g,m;c=a(275);b=a(274)("%Function%");g=b.apply;m=b.call;d.P=function(){return c.apply(m,arguments);};d.P.apply=function(){return c.apply(g,arguments);};},function(d,b,a){var c,g,m;c=a(274);g=a(1175);m=g(c("String.prototype.indexOf"));d.P=function(a,b){b=c(a,!!b);return"function"===typeof b&&m(a,".prototype.")?g(b):b;};},function(d){d.P=function(){var b,a,c;g();if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;g();t();if("symbol"===typeof Symbol.iterator)return!0;b={};g();a=Symbol("test");c=Object(a);if("string"===typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;b[a]=42;for(a in b)return!1;if("function"===typeof Object.keys&&0!==Object.keys(b).length||"function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;c=Object.getOwnPropertySymbols(b);return 1!==c.length||c[0]!==a||!Object.prototype.propertyIsEnumerable.call(b,a)||"function"===typeof Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(b,a),42!==b.value||!0!==b.enumerable)?!1:!0;};},function(d,b,a){(function(b){var c,m;c=b.Symbol;m=a(1177);d.P=function(){if("function"!==typeof c)return!1;g();if("function"!==typeof Symbol||"symbol"!==typeof c("foo"))return!1;g();return"symbol"!==typeof Symbol("bar")?!1:m();};}.call(this,a(143)));},function(d,b,a){var c;c=a(274)("%TypeError%");d.P=function(a,b){if(null==a)throw new c(b||"Cannot call method on "+a);return a;};},function(d,b,a){d.P=a(1179);},function(d){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;d.P=function(c){var d;d=this;if("function"!==typeof d||"[object Function]"!==a.call(d))throw new TypeError("Function.prototype.bind called on incompatible "+d);for(var g=b.call(arguments,1),p,q=Math.max(0,d.length-g.length),n=[],l=0;l<q;l++)n.push("$"+l);p=Function("binder","return function ("+n.join(",")+"){ return binder.apply(this,arguments); }")(function(){var a;if(this instanceof p){a=d.apply(this,g.concat(b.call(arguments)));return Object(a)===a?a:this;}return d.apply(c,g.concat(b.call(arguments)));});d.prototype&&(q=function(){},q.prototype=d.prototype,p.prototype=new q(),q.prototype=null);return p;};},function(d,b,a){b=a(275);d.P=b.call(Function.call,Object.prototype.hasOwnProperty);},function(d,b,a){var c,g,m,p,q,n,l,f,h,t;if(!Object.keys){g=Object.prototype.hasOwnProperty;m=Object.prototype.toString;p=a(522);b=Object.prototype.propertyIsEnumerable;q=!b.call({toString:null},"toString");n=b.call(function(){},"prototype");l="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");f=function(a){var b;b=a.constructor;return b&&b.prototype===a;};h={dMb:!0,eMb:!0,fMb:!0,gMb:!0,hMb:!0,iMb:!0,jMb:!0,kMb:!0,lMb:!0,mMb:!0,nMb:!0,oMb:!0,pMb:!0,qMb:!0,rMb:!0,sMb:!0,tMb:!0,uMb:!0,vMb:!0,wMb:!0,xMb:!0,yMb:!0,zMb:!0};t=function(){if("undefined"===typeof M)return!1;for(var a in M)try{!h["$"+a]&&g.call(M,a);}catch(I){return!0;}return!1;}();c=function(a){var b,c,d,h,k,u;b=null!==a&&"object"===typeof a;c="[object Function]"===m.call(a);d=p(a);h=b&&"[object String]"===m.call(a);k=[];if(!b&&!c&&!d)throw new TypeError("Object.keys called on a non-object");b=n&&c;if(h&&0<a.length&&!g.call(a,0))for(h=0;h<a.length;++h)k.push(String(h));if(d&&0<a.length)for(d=0;d<a.length;++d)k.push(String(d));else for(var r in a)b&&"prototype"===r||!g.call(a,r)||k.push(String(r));if(q){if("undefined"!==typeof M&&t)try{u=f(a);}catch(V){u=!1;}else u=f(a);for(d=0;d<l.length;++d)u&&"constructor"===l[d]||!g.call(a,l[d])||k.push(l[d]);}return k;};}d.P=c;},function(d,b,a){var c,g,m,p,q;c=Array.prototype.slice;g=a(522);m=Object.keys;p=m?function(a){return m(a);}:a(1183);q=Object.keys;p.Qk=function(){Object.keys?function(){var a;a=Object.keys(arguments);return a&&a.length===arguments.length;}(1,2)||(Object.keys=function(a){return g(a)?q(c.call(a)):q(a);}):Object.keys=p;return Object.keys||p;};d.P=p;},function(d,b,a){var c,g,m;b=a(523);c=a(521);g=a(520);a=a(1174);m=g();b(m,{UVb:g,implementation:c,Qk:a});d.P=m;},function(d,b,a){(function(a){var b;(function(b){var ba,W,N,ea,fa,ia,ha,O,ka;function c(a,b,c){var d;d=ka.get(a);if(!d){if(!c)return;d=new ha();ka.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new ha();d.set(b,a);}return a;}function d(a,b,c){if(g(a,b,c))return!0;b=K(b);return null!==b?d(a,b,c):!1;}function g(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function k(a,b,c){if(g(a,b,c))return f(a,b,c);b=K(b);return null!==b?k(a,b,c):void 0;}function f(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function h(a,b){var c,f;c=m(a,b);a=K(a);if(null===a)return c;b=h(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new O();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return Q(a);}function m(a,b){var d;a=c(a,b,!1);d=[];a&&P(a,function(a,b){return d.push(b);});return d;}function p(a){return void 0===a;}function t(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function u(a){return"object"===typeof a?null!==a:"function"===typeof a;}function B(a){return"symbol"===typeof a?a:String(a);}function K(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ia||b!==ia)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function D(a){a=a.next();return a.done?void 0:a;}function P(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=D(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function Q(a){var b;b=[];P(a,function(a,c){b.push(c);});return b;}function R(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function S(){var a;a={};return function(){function b(){this.Kp=[];this.au=[];this.HU=a;this.GU=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Kp.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.$U(a,!1);};b.prototype.get=function(a){a=this.$U(a,!1);return 0<=a?this.au[a]:void 0;};b.prototype.set=function(a,b){a=this.$U(a,!0);this.au[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.$U(b,!1);if(0<=c){b=this.Kp.length;for(c+=1;c<b;c++)this.Kp[c-1]=this.Kp[c],this.au[c-1]=this.au[c];this.Kp.length--;this.au.length--;this.HU=a;this.GU=-2;return!0;}return!1;};b.prototype.clear=function(){this.Kp.length=0;this.au.length=0;this.HU=a;this.GU=-2;};b.prototype.keys=function(){return R(this.Kp,void 0,"key");};b.prototype.values=function(){return R(void 0,this.au,"value");};b.prototype.entries=function(){return R(this.Kp,this.au,"key+value");};b.prototype.$U=function(a,b){var c;if(this.HU===a)return this.GU;c=this.Kp.indexOf(a);0>c&&b&&(c=this.Kp.length,this.Kp.push(a),this.au.push(void 0));return this.HU=a,this.GU=c;};return b;}();}function A(){return function(){function a(){this.zj=new ha();}Object.defineProperty(a.prototype,"size",{get:function(){return this.zj.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.zj.has(a);};a.prototype.add=function(a){return this.zj.set(a,a),this;};a.prototype["delete"]=function(a){return this.zj["delete"](a);};a.prototype.clear=function(){this.zj.clear();};a.prototype.keys=function(){return this.zj.keys();};a.prototype.values=function(){return this.zj.values();};a.prototype.entries=function(){return this.zj.entries();};return a;}();}function U(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(fa.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ba.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:ea()});}return a[f];}d=ea();f=b();return function(){function a(){this.mA=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?fa.has(a,this.mA):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?fa.get(a,this.mA):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.mA]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.mA]:!1;};a.prototype.clear=function(){this.mA=b();};return a;}();}function X(a){a.hTb=1;delete a.iTb;return a;}ba=Object.prototype.hasOwnProperty;W="function"===typeof Object.create;N=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();ea=W?function(){return X(Object.create(null));}:N?function(){return X({__proto__:null});}:function(){return X({});};(function(a){var b;b=!W&&!N;a.has=b?function(a,b){return ba.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ba.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(fa||(fa={})));ia=Object.getPrototypeOf(Function);ha="function"===typeof Map?Map:S();O="function"===typeof Set?Set:A();ka=new("function"===typeof WeakMap?WeakMap:(U()))();b.Gx=function(a,b,c,d){var g;if(p(d)){if(p(c)){if(!t(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!p(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!t(a))throw new TypeError();if(!u(b))throw new TypeError();c=B(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!t(a))throw new TypeError();if(!u(b))throw new TypeError();if(p(c))throw new TypeError();if(!u(d))throw new TypeError();c=B(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!p(g)){if(!u(g))throw new TypeError();d=g;}}return d;}};b.Cd=function(a,b){return function(d,f){if(p(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!u(d))throw new TypeError();f=B(f);c(d,f,!0).set(a,b);}};};b.oda=function(a,b,d){var f;if(!u(d))throw new TypeError();p(f)||(f=B(f));c(d,f,!0).set(a,b);};b.erb=function(a,b){var c;if(!u(b))throw new TypeError();p(c)||(c=B(c));return d(a,b,c);};b.Hga=function(a,b){var c;if(!u(b))throw new TypeError();p(c)||(c=B(c));return g(a,b,c);};b.getMetadata=function(a,b,c){if(!u(b))throw new TypeError();p(c)||(c=B(c));return k(a,b,c);};b.RVb=function(a,b,c){if(!u(b))throw new TypeError();p(c)||(c=B(c));return f(a,b,c);};b.QVb=function(a,b){if(!u(a))throw new TypeError();p(b)||(b=B(b));return h(a,b);};b.SVb=function(a,b){if(!u(a))throw new TypeError();p(b)||(b=B(b));return m(a,b);};b.TUb=function(a,b,d){var f;if(!u(b))throw new TypeError();p(d)||(d=B(d));f=c(b,d,!1);if(p(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ka.get(b);a["delete"](d);if(0<a.size)return!0;ka["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ba.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof M?M:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(143)));},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(1186);a(1185);M._cad_global={};M.DEBUG=!1;a(9);a(10);a(15);a(21);a(43);a(90);a(557);a(281);a(59);a(39);a(17);a(74);a(56);a(556);a(190);a(469);a(555);a(188);a(554);a(279);a(209);a(366);a(302);a(296);a(298);a(297);a(278);a(310);a(309);a(307);a(147);a(196);a(553);a(12);a(291);a(552);a(146);a(66);a(301);a(123);a(365);a(364);a(208);a(551);a(550);a(338);a(549);a(344);a(194);a(348);a(195);a(311);a(548);a(192);a(294);a(150);a(306);a(121);a(79);a(547);a(546);a(545);a(544);a(543);a(541);a(295);a(57);a(540);a(299);a(363);a(300);a(292);a(539);a(538);a(283);a(144);a(537);a(536);a(535);a(534);a(527);a(524);a(304);},function(d,b,a){d.P=a(1187);}]));}.call(M));}(window));}.call(window));