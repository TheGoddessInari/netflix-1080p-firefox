a000.w2Y=function(){return typeof a000.g2Y.A2Y === 'function'?a000.g2Y.A2Y.apply(a000.g2Y,arguments):a000.g2Y.A2Y;};a000.H2Y=function(){return typeof a000.g2Y.A2Y === 'function'?a000.g2Y.A2Y.apply(a000.g2Y,arguments):a000.g2Y.A2Y;};a000.p2Y=function(){return typeof a000.g2Y.h2Y === 'function'?a000.g2Y.h2Y.apply(a000.g2Y,arguments):a000.g2Y.h2Y;};a000.a2Y=function(){return typeof a000.g2Y.h2Y === 'function'?a000.g2Y.h2Y.apply(a000.g2Y,arguments):a000.g2Y.h2Y;};a000.g2Y=(function(S2Y){return {A2Y:function(){var B2Y,G2Y=arguments;switch(S2Y){case 17:B2Y=G2Y[1] > G2Y[0];break;case 5:B2Y=G2Y[0] + G2Y[2] + G2Y[1] + G2Y[3] + G2Y[4];break;case 19:B2Y=G2Y[0] < G2Y[1];break;case 2:B2Y=G2Y[1] + G2Y[0];break;case 9:B2Y=G2Y[0] / G2Y[1];break;case 21:B2Y=G2Y[1] * G2Y[0] * G2Y[2];break;case 15:B2Y=G2Y[3] * (G2Y[1] - G2Y[2]) - G2Y[0];break;case 0:B2Y=G2Y[0] + G2Y[2] - G2Y[1];break;case 7:B2Y=G2Y[1] * G2Y[0];break;case 3:B2Y=void G2Y[0] !== G2Y[1];break;case 10:B2Y=G2Y[3] + G2Y[2] / G2Y[1] * G2Y[0];break;case 18:B2Y=G2Y[1] >= G2Y[0];break;case 8:B2Y=(G2Y[0] / G2Y[3] | G2Y[1]) * G2Y[2];break;case 20:B2Y=G2Y[1] === G2Y[0];break;case 6:B2Y=G2Y[2] - G2Y[0] * G2Y[1];break;case 11:B2Y=G2Y[2] * G2Y[1] / G2Y[3] | G2Y[0];break;case 14:B2Y=G2Y[2] - G2Y[0] * G2Y[3] * G2Y[1];break;case 13:B2Y=G2Y[2] * G2Y[1] * G2Y[0] - G2Y[3];break;case 12:B2Y=G2Y[0] / G2Y[1] | G2Y[2];break;case 1:B2Y=G2Y[1] - G2Y[0];break;case 4:B2Y=G2Y[2] + G2Y[1] + G2Y[0];break;case 16:B2Y=(G2Y[2] - G2Y[0]) * G2Y[1];break;}return B2Y;},h2Y:function(U2Y){S2Y=U2Y;}};})();function a000(){}(function(){(function(lb,yb){var sc,Dc,Ob,rd,Ab,Db,Yb,Ae,Be,Jb,Kb,Nc,Ce,sd,De,Ee,Rd,Ha,zb,gd,Fe,Sd,Ya,sb,wb,tc,jc,Ub,ub,Zb,Nb,Pc,Fb,Eb,Hb,bc,td,uc,pc,qc,ud,Td,Ge,Fc,Gc,Qc,Ud,Wc,vc,vd,Mc,Vd,He,Xc,Wd,Xd,Yd,Zd,wc,$d,ae,be,Zc,xc,yc,$c,wd,xd,yd,gc,Hf,Mb,Oc,Ie,zd,nc,Je,If,rc,Ke,Jf,Ad,Le,Kf,fd,Me,Gf,Lf,ce,Bd,Mf,Nf,xe,Of,ye,Ne,kc,hd,Oe,id,Pe,oc,Qe,de,Re,ee,Cd,Se,Qf,ze,Dd,Qd,Te,Pf,Ue,fe,Ve,We,Xe,ge,Lc,Ze,Ye,Rf,jd,$e,ie,kd,af,he,bf,cf,je,ef,ff,Gd,Tc,ad,Uc,gf,hf,jf,kf,lf,mf,Hd,Sf,nf,of,le,pf,fc,Rc,Yc,Sc,Hc,zc,Ed,$b,Ec,df,ld,Vc,qf,Tf,md,rf,Uf,bd,sf,Id,me,nd,ne,tf,od,uf,vf,wf,Vf,pd,xf,Wf,Xf,yf,ke,Fd,zf,Ff,Af,Yf,$f,Zf,cd,qd,ag,we,bg,Bf;function Rb(eb,cb){if(!cb || "utf-8" === cb)return Ld(eb);throw Error("unsupported encoding");}function Qb(eb,cb){if(!cb || "utf-8" === cb)return Md(eb);throw Error("unsupported encoding");}function Ld(eb){for(var cb=0,ab,Xa=eb.length,ib="";cb < Xa;){ab=eb[cb++];if(ab & 128)if(192 === (ab & 224))ab=((ab & 31) << 6) + (eb[cb++] & 63);else if(224 === (ab & 240))ab=((ab & 15) << 12) + ((eb[cb++] & 63) << 6) + (eb[cb++] & 63);else throw Error("unsupported character");ib+=String.fromCharCode(ab);}return ib;}function Md(eb){var cb,ab,Xa,ib,nb;cb=eb.length;ab=0;ib=0;for(Xa=cb;Xa--;){nb=eb.charCodeAt(Xa);128 > nb?ab++:ab=2048 > nb?ab + 2:ab + 3;}ab=new Uint8Array(ab);for(Xa=0;Xa < cb;Xa++){nb=eb.charCodeAt(Xa);128 > nb?ab[ib++]=nb:(2048 > nb?ab[ib++]=192 | nb >>> 6:(ab[ib++]=224 | nb >>> 12,ab[ib++]=128 | nb >>> 6 & 63),ab[ib++]=128 | nb & 63);}return ab;}function Xb(eb,cb){if(eb === cb)return !0;if(!eb || !cb || eb.length != cb.length)return !1;for(var ab=0;ab < eb.length;++ab){if(eb[ab] != cb[ab])return !1;}return !0;}function ec(eb){var Xa;if(!(eb && eb.constructor == Uint8Array || Array.isArray(eb)))throw new TypeError("Cannot compute the hash code of " + eb);for(var cb=1,ab=0;ab < eb.length;++ab){Xa=eb[ab];if("number" !== typeof Xa)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + Xa);cb=31 * cb + Xa & 4294967295;}return cb;}function re(eb,cb){var hb;if(eb === cb)return !0;if(!eb || !cb)return !1;cb instanceof Array || (cb=[cb]);for(var ab=0;ab < cb.length;++ab){for(var Xa=cb[ab],ib=!1,nb=0;nb < eb.length;++nb){hb=eb[nb];if(Xa.equals && "function" === typeof Xa.equals && Xa.equals(hb) || Xa == hb){ib=!0;break;}}if(!ib)return !1;}return !0;}function se(eb,cb){return re(eb,cb) && (eb.length == cb.length || re(cb,eb));}function Ia(eb,cb,ab){var Xa,ib;ab && (Xa=ab);if("object" !== typeof eb || "function" !== typeof eb.result || "function" !== typeof eb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{ib=cb.call(Xa,eb);ib !== yb && eb.result(ib);}catch(nb){try{eb.error(nb);}catch(hb){}}}function Za(eb,cb,ab){if("object" !== typeof eb || "function" !== typeof eb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ia(eb,cb,ab);}function V(eb,cb,ab){1E5 > eb && (eb=1E5 + eb);Object.defineProperties(this,{internalCode:{value:eb,writable:!1,configurable:!1},responseCode:{value:cb,writable:!1,configurable:!1},message:{value:ab,writable:!1,configurable:!1}});}function Nd(eb){switch(eb){case Mb.PSK:case Mb.MGK:return !0;default:return !1;}}function te(eb){switch(eb){case Mb.PSK:case Mb.MGK:case Mb.X509:case Mb.RSA:case Mb.NPTICKET:case Mb.ECC:return !0;default:return !1;}}function Cf(eb){return eb.toJSON();}function ue(eb,cb){qd?cb.result(qd):Promise.resolve().then(function(){return Hb.getKeyByName(eb);}).catch(function(){return Hb.generateKey({name:eb},!1,["wrapKey","unwrapKey"]);}).then(function(ab){qd=ab;cb.result(qd);}).catch(function(ab){cb.error(new Ya(V.INTERNAL_EXCEPTION,"Unable to get system key"));});}function ve(eb,cb){var ab,Xa;ab=cb.masterToken;Xa=cb.userIdToken;cb=cb.serviceTokens;return {NccpMethod:eb.method,UserId:eb.userId,UT:Xa && Xa.serialNumber,MT:ab && ab.serialNumber + ":" + ab.sequenceNumber,STCount:cb && cb.length};}function Df(eb){return eb.uniqueKey();}function Ef(eb,cb,ab,Xa,ib){var Na;function nb(za,ka){za.errorCode === Ha.ENTITY_REAUTH || za.errorCode === Ha.ENTITYDATA_REAUTH?(Xa.clearCryptoContexts(),Ka()):za.errorCode !== Ha.USER_REAUTH && za.errorCode !== Ha.USERDATA_REAUTH || hb(ka);}function hb(za){if(za=Xa.getUserIdToken(za))(Xa.removeUserIdToken(za),Ka());}function Ea(za,ka,ea){var Y;Y=[];(function fa(){za.read(-1,ka,{result:function(ca){Ia(ea,function(){var T,X,pa,na,qa;if(ca)(Y.push(ca),fa());else switch(Y.length){case 0:return new Uint8Array(0);case 1:return Y[0];default:(pa=Y.length,na=0);for(X=T=0;X < pa;X++){T+=Y[X].length;}T=new Uint8Array(T);for(X=0;X < pa;X++){qa=Y[X];T.set(qa,na);na+=qa.length;}return T;}});},timeout:function(){ea.timeout();},error:function(ca){ea.error(ca);}});})();}function Ka(){Xa.getStoreState({result:function(za){for(var ka=Na.slice(),ea=0;ea < ka.length;ea++){ka[ea]({storeState:za});}},timeout:function(){eb.error("Timeout getting store state","" + e);},error:function(za){eb.error("Error getting store state","" + za);}});}Na=[];this.addEventHandler=function(za,ka){switch(za){case "shouldpersist":Na.push(ka);}};this.send=function(za){return new Promise(function(ka,ea){var Y,aa,fa;Y=za.timeout;aa=new we(eb,ab,za,Xa.getKeyRequestData());fa=new xe(za.url);eb.trace("Sending MSL request");cb.request(ab,aa,fa,Y,{result:function(ca){var T;eb.trace("Received MSL response",{Method:za.method});if(ca){za.allowTokenRefresh && Ka();T=ca.getErrorHeader();T?(nb(T,za.profileGuid || za.userId),ea({success:!1,error:T})):Ea(ca,Y,{result:function(X){ka({success:!0,body:Rb(X)});},timeout:function(){ea({success:!1,subCode:ib.MSL_READ_TIMEOUT});},error:function(X){ea({success:!1,error:X});}});}else ea({success:!1,error:new Ya(V.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ea({success:!1,subCode:ib.MSL_REQUEST_TIMEOUT});},error:function(ca){ea({success:!1,error:ca});}});});};this.hasUserIdToken=function(za){return ! !Xa.getUserIdToken(za);};this.getUserIdTokenKeys=function(){return Xa.getUserIdTokenKeys();};this.removeUserIdToken=hb;this.clearUserIdTokens=function(){Xa.clearUserIdTokens();Ka();};this.isErrorReauth=function(za){return za && za.errorCode == Ha.USERDATA_REAUTH;};this.isErrorHeader=function(za){return za instanceof Lc;};this.getErrorCode=function(za){return za && za.errorCode;};this.getStateForMdx=function(za){var ka,ea;ka=Xa.getMasterToken();za=Xa.getUserIdToken(za);ea=Xa.getCryptoContext(ka);return {masterToken:ka,userIdToken:za,cryptoContext:ea};};this.buildPlayDataRequest=function(za,ka){var ea;ea=new ye();cb.request(ab,new we(eb,ab,za),ea,za.timeout,{result:function(){ka.result(ea.getRequest());},error:function(){ka.result(ea.getRequest());},timeout:function(){ka.timeout();}});};this.rekeyUserIdToken=function(za,ka){Xa.rekeyUserIdToken(za,ka);Ka();};this.getServiceTokens=function(za){var ka;ka=Xa.getMasterToken();(za=Xa.getUserIdToken(za)) && !za.isBoundTo(ka) && (za=yb);return Xa.getServiceTokens(ka,za);};this.removeServiceToken=function(za){var ka;ka=Xa.getMasterToken();Xa.getServiceTokens(ka).find(function(ea){return ea.name === za;}) && (Xa.removeServiceTokens(za,ka),Ka());};}function Od(eb,cb,ab,Xa,ib,nb){function hb(Ea){var Ka;return Promise.resolve().then(function(){Ka=eb.authenticationKeyNames[Ea];if(!Ka)throw new Ya(V.KEY_IMPORT_ERROR,"Invalid config keyName " + Ea);return Hb.getKeyByName(Ka);}).then(function(Na){return new Promise(function(za,ka){Wc(Na,{result:za,error:function(){ka(new Ya(V.KEY_IMPORT_ERROR,"Unable to create " + Ka + " CipherKey"));}});});}).catch(function(Na){throw new Ya(V.KEY_IMPORT_ERROR,"Unable to import " + Ka,Na);});}return Promise.resolve().then(function(){if(!Hb.getKeyByName)throw new Ya(V.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([hb("e"),hb("h"),hb("w")]);}).then(function(Ea){var Ka,Na,za;Ka={};Ka[cb]=new ab(eb.esn,Ea[0],Ea[1],Ea[2]);Ea=new Xa(eb.esn);Na=new Ff();Na=[new ib(Na)];za=new nb(cb);return {entityAuthFactories:Ka,entityAuthData:Ea,keyExchangeFactories:Na,keyRequestData:za};});}function Pd(eb,cb,ab){var nb;function Xa(){return Promise.resolve().then(function(){return Hb.generateKey(cb,!1,["wrapKey","unwrapKey"]);}).then(function(hb){return ib(hb.publicKey,hb.privateKey);});}function ib(hb,Ea){return Promise.all([new Promise(function(Ka,Na){Mc(hb,{result:Ka,error:function(za){Na(new Ya(V.INTERNAL_EXCEPTION,"Unable to create keyx public key",za));}});}),new Promise(function(Ka,Na){Xc(Ea,{result:Ka,error:function(za){Na(new Ya(V.INTERNAL_EXCEPTION,"Unable to create keyx private key",za));}});})]).then(function(Ka){Ka=new Qd("rsaKeypairId",ab,Ka[0],Ka[1]);nb && (Ka.storeData={keyxPublicKey:hb,keyxPrivateKey:Ea});return Ka;});}nb=!eb.systemKeyWrapFormat;return Promise.resolve().then(function(){var hb,Ea;hb=eb.storeState;Ea=hb && hb.keyxPublicKey;hb=hb && hb.keyxPrivateKey;return nb && Ea && hb?ib(Ea,hb):Xa();}).then(function(hb){var Ea,Ka,Na;Ea={};Ea[Mb.NONE]=new Gf();Ka=new fd(eb.esn);Na=[new ze()];return {entityAuthFactories:Ea,entityAuthData:Ka,keyExchangeFactories:Na,keyRequestData:hb,createKeyRequestData:nb?Xa:yb};});}Dc=lb.nfCrypto || lb.msCrypto || lb.webkitCrypto || lb.crypto;Ob=Dc && (Dc.webkitSubtle || Dc.subtle);rd=lb.nfCryptokeys || lb.msCryptokeys || lb.webkitCryptokeys || lb.cryptokeys;(function(eb){var cb,ab;cb=(function(){function Xa(ib,nb){ib instanceof cb?(this.abv=ib.abv,this.position=ib.position):(this.abv=ib,this.position=nb || 0);}Xa.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(ib){this.abv[this.position++]=ib;},peekByte:function(ib){return this.abv[ib];},copyBytes:function(ib,nb,hb){var Ea;Ea=new Uint8Array(this.abv.buffer,this.position,hb);ib=new Uint8Array(ib.buffer,nb,hb);Ea.set(ib);this.position+=hb;},seek:function(ib){this.position=ib;},skip:function(ib){this.position+=ib;},getPosition:function(){return this.position;},setPosition:function(ib){this.position=ib;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return Xa;})();ab={};(function(){var ca,T,X,pa,na,qa,Ba,sa,oa;function Xa(W,Z){var ba;Z.writeByte(W.tagClass << 6 | W.constructed << 5 | W.tag);ba=W.payloadLen;if(128 > ba)Z.writeByte(ba);else {for(var ja=ba,Fa=0;ja;){++Fa;ja>>=8;}Z.writeByte(128 | Fa);for(ja=0;ja < Fa;++ja){Z.writeByte(ba >> 8 * (Fa - ja - 1) & 255);}}if(W.child)for((W.tag == ca.BIT_STRING && Z.writeByte(0),W=W._child);W;){if(!Xa(W,Z))return !1;W=W.next;}else switch(W.tag){case ca.INTEGER:W.backingStore[W.dataIdx] >> 7 && Z.writeByte(0);Z.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ca.BIT_STRING:Z.writeByte(0);Z.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ca.OCTET_STRING:Z.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ca.OBJECT_IDENTIFIER:Z.copyBytes(W.backingStore,W.dataIdx,W.dataLen);}return !0;}function ib(W){var Z,ba;Z=W.readByte();ba=Z & 127;if(ba == Z)return ba;if(3 < ba || 0 === ba)return -1;for(var ja=Z=0;ja < ba;++ja){Z=Z << 8 | W.readByte();}return Z;}function nb(W,Z,ba){var ja,Fa,Da,Ma,Oa,ia,ua;ja=W.backingStore;Fa=new cb(ja,Z);Z+=ba;ba=W;if(8 < na++)return yb;for(;Fa.getPosition() < Z;){Fa.getPosition();Ma=Fa.readByte();if(31 == (Ma & 31)){for(Da=0;Ma & 128;){Da<<=8;Da|=Ma & 127;}Ma=Da;}Oa=Ma;Da=Oa & 31;if(0 > Da || 30 < Da)return yb;Ma=ib(Fa);if(0 > Ma || Ma > Fa.getRemaining())return yb;ba.constructed=Oa & 32;ba.tagClass=(Oa & 192) >> 6;ba.tag=Da;ba.dataLen=Ma;ba.dataIdx=Fa.getPosition();Da=Fa;ia=Oa;Oa=Ma;if(ia & 32)Da=!0;else if(ia < ca.BIT_STRING || ia > ca.OCTET_STRING)Da=!1;else {ua=new cb(Da);ia == ca.BIT_STRING && ua.skip(1);ua.readByte() >> 6 & 1?Da=!1:(ia=ib(ua),Da=ua.getPosition() - Da.getPosition() + ia == Oa);}Da && (Da=Fa.getPosition(),Oa=Ma,ba.tag == ca.BIT_STRING && (ba.dataIdx++,ba.dataLen--,Da++,Oa--),ba.child=new T(ja,ba),nb(ba.child,Da,Oa));ba.tag == ca.INTEGER && (Da=Fa.getPosition(),0 == Fa.peekByte(Da) && Fa.peekByte(Da + 1) >> 7 && (ba.dataIdx++,ba.dataLen--));Fa.skip(Ma);Fa.getPosition() < Z && (ba.next=new T(ja,ba.parent),ba=ba.next);}na--;return W;}function hb(W,Z,ba){if(9 != ba)return !1;for(ba=0;9 > ba;++ba){if(W[Z++] != qa[ba])return !1;}return !0;}function Ea(W){var Z;if(!(W && W.child && W.child.next && W.child.child && W.child.next.child))return !1;Z=W.child.child;return hb(Z.backingStore,Z.dataIdx,Z.dataLen) && 2 == W.nChildren && 2 == W.child.nChildren && 2 == W.child.next.child.nChildren?!0:!1;}function Ka(W){var Z;if(!(W && W.child && W.child.next && W.child.next.child && W.child.next.next && W.child.next.next.child))return !1;Z=W.child.next.child;return hb(Z.backingStore,Z.dataIdx,Z.dataLen) && 3 == W.nChildren && 2 == W.child.next.nChildren && 9 == W.child.next.next.child.nChildren?!0:!1;}function Na(W){var Z,ba;Z=X.createSequenceNode();ba=new pa(Z);ba.addChild(X.createSequenceNode());ba.addChild(X.createOidNode(qa));ba.addSibling(X.createNullNode());ba.addToParent(Z,X.createBitStringNode(null));ba.addChild(X.createSequenceNode());ba.addChild(X.createIntegerNode(W.n));ba.addSibling(X.createIntegerNode(W.e));return Z;}function za(W){var Z;W=W.child.next.child.child;Z=W.data;W=W.next;return new Ba(Z,W.data,null,null);}function ka(W){var Z,ba;Z=X.createSequenceNode();ba=new pa(Z);ba.addChild(X.createIntegerNode(new Uint8Array([0])));ba.addSibling(X.createSequenceNode());ba.addChild(X.createOidNode(qa));ba.addSibling(X.createNullNode());ba.addToParent(Z,X.createOctetStringNode(null));ba.addChild(X.createSequenceNode());ba.addChild(X.createIntegerNode(new Uint8Array([0])));ba.addSibling(X.createIntegerNode(W.n));ba.addSibling(X.createIntegerNode(W.e));ba.addSibling(X.createIntegerNode(W.d));ba.addSibling(X.createIntegerNode(W.p));ba.addSibling(X.createIntegerNode(W.q));ba.addSibling(X.createIntegerNode(W.dp));ba.addSibling(X.createIntegerNode(W.dq));ba.addSibling(X.createIntegerNode(W.qi));return Z;}function ea(W){var Z;Z=[];W=W.child.next.next.child.child.next;for(var ba=0;8 > ba;ba++){Z.push(W.data);W=W.next;}return new sa(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7]);}function Y(W,Z,ba,ja){if(!(W instanceof Ba || W instanceof sa))return yb;if(ba)for(var Fa=0;Fa < ba.length;++Fa){if(-1 == oa.indexOf(ba[Fa]))return yb;}Z={kty:"RSA",alg:Z,key_ops:ba || [],ext:ja == yb?!1:ja,n:Ab(W.n,!0),e:Ab(W.e,!0)};W instanceof sa && (Z.d=Ab(W.d,!0),Z.p=Ab(W.p,!0),Z.q=Ab(W.q,!0),Z.dp=Ab(W.dp,!0),Z.dq=Ab(W.dq,!0),Z.qi=Ab(W.qi,!0));return Z;}function aa(W){var Z,ba,ja,Fa,Da,Ma,Oa,ia,ua,xa;if(!W.kty || "RSA" != W.kty || !W.n || !W.e)return yb;Z=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(W.alg && -1 == Z.indexOf(W.alg))return yb;Z=[];W.use?"enc" == W.use?Z=["encrypt","decrypt","wrap","unwrap"]:"sig" == W.use && (Z=["sign","verify"]):Z=W.key_ops;ba=W.ext;ja=Db(W.n,!0);Fa=Db(W.e,!0);if(W.d){Da=Db(W.d,!0);Ma=Db(W.p,!0);Oa=Db(W.q,!0);ia=Db(W.dp,!0);ua=Db(W.dq,!0);xa=Db(W.qi,!0);return new sa(ja,Fa,Da,Ma,Oa,ia,ua,xa,W.alg,Z,ba);}return new Ba(ja,Fa,ba,Z);}function fa(W,Z,ba,ja){this.der=W;this.type=Z;this.keyOps=ba;this.extractable=ja;}ca={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};T=function(W,Z,ba,ja,Fa,Da){this._data=W;this._parent=Z || yb;this._constructed=ba || !1;this._tagClass=0;this._tag=ja || 0;this._dataIdx=Fa || 0;this._dataLen=Da || 0;};T.prototype={_child:yb,_next:yb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(W) {this._constructed=0 != W?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(W) {this._tagClass=W;},get tag() {return this._tag;},set tag(W) {this._tag=W;},get dataIdx() {return this._dataIdx;},set dataIdx(W) {this._dataIdx=W;},get dataLen() {return this._dataLen;},set dataLen(W) {this._dataLen=W;},get child() {return this._child;},set child(W) {this._child=W;this._child.parent=this;},get next() {return this._next;},set next(W) {this._next=W;},get parent() {return this._parent;},set parent(W) {this._parent=W;},get payloadLen() {var W;W=0;if(this._child){for(var Z=this._child;Z;){W+=Z.length;Z=Z.next;}this._tag == ca.BIT_STRING && W++;}else switch(this._tag){case ca.INTEGER:W=this._dataLen;this._data[this._dataIdx] >> 7 && W++;break;case ca.BIT_STRING:W=this._dataLen + 1;break;case ca.OCTET_STRING:W=this._dataLen;break;case ca.NULL:W=0;break;case ca.OBJECT_IDENTIFIER:hb(this._data,this._dataIdx,this._dataLen) && (W=9);}return W;},get length() {var W,Z;W=this.payloadLen;if(127 < W)for(Z=W;Z;){Z>>=8;++W;}return W + 2;},get der() {var W,Z;W=this.length;if(!W)return yb;W=new Uint8Array(W);Z=new cb(W);return Xa(this,Z)?W:yb;},get nChildren() {for(var W=0,Z=this._child;Z;){W++;Z=Z.next;}return W;}};X={createSequenceNode:function(){return new T(null,null,!0,ca.SEQUENCE,null,null);},createOidNode:function(W){return new T(W,null,!1,ca.OBJECT_IDENTIFIER,0,W?W.length:0);},createNullNode:function(){return new T(null,null,!1,ca.NULL,null,null);},createBitStringNode:function(W){return new T(W,null,!1,ca.BIT_STRING,0,W?W.length:0);},createIntegerNode:function(W){return new T(W,null,!1,ca.INTEGER,0,W?W.length:0);},createOctetStringNode:function(W){return new T(W,null,!1,ca.OCTET_STRING,0,W?W.length:0);}};pa=function(W){this._currentNode=this._rootNode=W;};pa.prototype={addChild:function(W){this.addTo(this._currentNode,W);},addSibling:function(W){this.addTo(this._currentNode.parent,W);},addTo:function(W,Z){this._currentNode=Z;this._currentNode.parent=W;if(W.child){for(W=W.child;W.next;){W=W.next;}W.next=Z;}else W.child=Z;},addToParent:function(W,Z){this.findNode(W) && this.addTo(W,Z);},findNode:function(W){for(var Z=this._currentNode;Z;){if(W == Z)return !0;Z=Z.parent;}return !1;}};na=0;qa=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ba=function(W,Z,ba,ja){this.n=W;this.e=Z;this.ext=ba;this.keyOps=ja;};sa=function(W,Z,ba,ja,Fa,Da,Ma,Oa,ia,ua,xa){this.n=W;this.e=Z;this.d=ba;this.p=ja;this.q=Fa;this.dp=Da;this.dq=Ma;this.qi=Oa;this.alg=ia;this.keyOps=ua;this.ext=xa;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");fa.prototype.getDer=function(){return this.der;};fa.prototype.getType=function(){return this.type;};fa.prototype.getKeyOps=function(){return this.keyOps;};fa.prototype.getExtractable=function(){return this.extractable;};ab.parse=function(W){na=0;return nb(new T(W),0,W.length);};ab.show=function(W,Z){};ab.isRsaSpki=Ea;ab.isRsaPkcs8=Ka;ab.NodeFactory=X;ab.Builder=pa;ab.tagVal=ca;ab.RsaPublicKey=Ba;ab.RsaPrivateKey=sa;ab.buildRsaSpki=Na;ab.parseRsaSpki=function(W){W=ab.parse(W);return Ea?za(W):yb;};ab.buildRsaPkcs8=ka;ab.parseRsaPkcs8=function(W){W=ab.parse(W);return Ka(W)?ea(W):yb;};ab.buildRsaJwk=Y;ab.parseRsaJwk=aa;ab.RsaDer=fa;ab.rsaDerToJwk=function(W,Z,ba,ja){W=ab.parse(W);if(!W)return yb;if(Ea(W))W=za(W);else if(Ka(W))W=ea(W);else return yb;return Y(W,Z,ba,ja);};ab.jwkToRsaDer=function(W){var Z,ba;W=aa(W);if(!W)return yb;if(W instanceof Ba){Z="spki";ba=Na(W).der;}else if(W instanceof sa)(Z="pkcs8",ba=ka(W).der);else return yb;return new fa(ba,Z,W.keyOps,W.ext);};ab.webCryptoAlgorithmToJwkAlg=function(W){return "RSAES-PKCS1-v1_5" == W.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == W.name?"SHA-256" == W.hash.name?"RS256":"SHA-384" == W.hash.name?"RS384":"SHA-512" == W.hash.name?"RS512":yb:yb;};ab.webCryptoUsageToJwkKeyOps=function(W){return W.map(function(Z){return "wrapKey" == Z?"wrap":"unwrapKey" == Z?"unwrap":Z;});};})();eb.ASN1=ab;})(lb);(function(){for(var eb={},cb={},ab={"=":0,".":0},Xa={"=":0,".":0},ib=/\s+/g,nb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,hb=64;hb--;){eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=262144 * hb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=4096 * hb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=64 * hb;Xa[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=hb;}for(hb=64;hb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb];){eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=262144 * hb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=4096 * hb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=64 * hb;Xa[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=hb;}Ab=function(Ea,Ka){for(var Na="",za=0,ka=Ea.length,ea=ka - 2,Y=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aa=Ka?"":"=";za < ea;){Ka=65536 * Ea[za++] + 256 * Ea[za++] + Ea[za++];Na+=Y[Ka >>> 18] + Y[Ka >>> 12 & 63] + Y[Ka >>> 6 & 63] + Y[Ka & 63];}za == ea?(Ka=65536 * Ea[za++] + 256 * Ea[za++],Na+=Y[Ka >>> 18] + Y[Ka >>> 12 & 63] + Y[Ka >>> 6 & 63] + aa):za == ka - 1 && (Ka=65536 * Ea[za++],Na+=Y[Ka >>> 18] + Y[Ka >>> 12 & 63] + aa + aa);return Na;};Db=function(Ea,Ka){Ea=Ea.replace(ib,"");if(Ka && (Ka=Ea.length % 4)){Ka=4 - Ka;for(var Na=0;Na < Ka;++Na){Ea+="=";}}Ka=Ea.length;if(0 != Ka % 4 || !nb.test(Ea))throw Error("bad base64: " + Ea);for(var za=Ka / 4 * 3 - ("=" == Ea[Ka - 1]?1:0) - ("=" == Ea[Ka - 2]?1:0),ka=new Uint8Array(za),ea=0,Y=0;ea < Ka;){Na=eb[Ea[ea++]] + cb[Ea[ea++]] + ab[Ea[ea++]] + Xa[Ea[ea++]];ka[Y++]=Na >>> 16;Y < za && (ka[Y++]=Na >>> 8 & 255,Y < za && (ka[Y++]=Na & 255));}return ka;};})();Yb={};(function(){var nb,hb,Ea,Na;function eb(za){if(!(this instanceof eb))return new eb(za);for(var ka=0,ea=hb.length;ka < ea;ka++){this[hb[ka]]="";}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=za || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ea.BEGIN;this.stack=new nb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;cb(this,"onready");}function cb(za,ka,ea){if(za[ka])za[ka](ea);}function ab(za,ka){var ea,Y;ea=za.opt;Y=za.textNode;ea.trim && (Y=Y.trim());ea.normalize && (Y=Y.replace(/\s+/g," "));za.textNode=Y;za.textNode && cb(za,ka?ka:"onvalue",za.textNode);za.textNode="";}function Xa(za,ka){ab(za);ka+="\nLine: " + za.line + "\nColumn: " + za.column + "\nChar: " + za.c;ka=Error(ka);za.error=ka;cb(za,"onerror",ka);return za;}function ib(za){za.state !== Ea.VALUE && Xa(za,"Unexpected end");ab(za);za.c="";za.closed=!0;cb(za,"onend");eb.call(za,za.opt);return za;}nb=Array;Yb.parser=function(za){return new eb(za);};Yb.CParser=eb;Yb.MAX_BUFFER_LENGTH=65536;Yb.DEBUG=!1;Yb.INFO=!1;Yb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");hb=["textNode","numberNode"];Yb.EVENTS.filter(function(za){return "error" !== za && "end" !== za;});Ea=0;Yb.STATE={BEGIN:Ea++,VALUE:Ea++,OPEN_OBJECT:Ea++,CLOSE_OBJECT:Ea++,OPEN_ARRAY:Ea++,CLOSE_ARRAY:Ea++,TEXT_ESCAPE:Ea++,STRING:Ea++,BACKSLASH:Ea++,END:Ea++,OPEN_KEY:Ea++,CLOSE_KEY:Ea++,TRUE:Ea++,TRUE2:Ea++,TRUE3:Ea++,FALSE:Ea++,FALSE2:Ea++,FALSE3:Ea++,FALSE4:Ea++,NULL:Ea++,NULL2:Ea++,NULL3:Ea++,NUMBER_DECIMAL_POINT:Ea++,NUMBER_DIGIT:Ea++};for(var Ka in Yb.STATE){Yb.STATE[Yb.STATE[Ka]]=Ka;}Ea=Yb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(za){return za.__proto__;});Na=/[\\"\n]/g;eb.prototype={end:function(){ib(this);},write:function(za){var Y,aa,fa;if(this.error)throw this.error;if(this.closed)return Xa(this,"Cannot write after close. Assign an onready handler.");if(null === za)return ib(this);for(var ka=za[0],ea;ka;){ea=ka;this.c=ka=za.charAt(this.index++);ea !== ka?this.p=ea:ea=this.p;if(!ka)break;this.position++;"\n" === ka?(this.line++,this.column=0):this.column++;switch(this.state){case Ea.BEGIN:"{" === ka?this.state=Ea.OPEN_OBJECT:"[" === ka?this.state=Ea.OPEN_ARRAY:"\r" !== ka && "\n" !== ka && " " !== ka && "\t" !== ka && Xa(this,"Non-whitespace before {[.");continue;case Ea.OPEN_KEY:case Ea.OPEN_OBJECT:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;if(this.state === Ea.OPEN_KEY)this.stack.push(Ea.CLOSE_KEY);else if("}" === ka){cb(this,"onopenobject");cb(this,"oncloseobject");this.state=this.stack.pop() || Ea.VALUE;continue;}else this.stack.push(Ea.CLOSE_OBJECT);'"' === ka?this.state=Ea.STRING:Xa(this,'Malformed object key should start with "');continue;case Ea.CLOSE_KEY:case Ea.CLOSE_OBJECT:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;":" === ka?(this.state === Ea.CLOSE_OBJECT?(this.stack.push(Ea.CLOSE_OBJECT),ab(this,"onopenobject")):ab(this,"onkey"),this.state=Ea.VALUE):"}" === ka?(ab(this),cb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ea.VALUE):"," === ka?(this.state === Ea.CLOSE_OBJECT && this.stack.push(Ea.CLOSE_OBJECT),ab(this),this.state=Ea.OPEN_KEY):Xa(this,"Bad object");continue;case Ea.OPEN_ARRAY:case Ea.VALUE:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;if(this.state === Ea.OPEN_ARRAY)if((cb(this,"onopenarray"),this.state=Ea.VALUE,"]" === ka)){cb(this,"onclosearray");this.state=this.stack.pop() || Ea.VALUE;continue;}else this.stack.push(Ea.CLOSE_ARRAY);'"' === ka?this.state=Ea.STRING:"{" === ka?this.state=Ea.OPEN_OBJECT:"[" === ka?this.state=Ea.OPEN_ARRAY:"t" === ka?this.state=Ea.TRUE:"f" === ka?this.state=Ea.FALSE:"n" === ka?this.state=Ea.NULL:"-" === ka?this.numberNode+=ka:"0" === ka?(this.numberNode+=ka,this.state=Ea.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ka)?(this.numberNode+=ka,this.state=Ea.NUMBER_DIGIT):Xa(this,"Bad value");continue;case Ea.CLOSE_ARRAY:if("," === ka)(this.stack.push(Ea.CLOSE_ARRAY),ab(this,"onvalue"),this.state=Ea.VALUE);else if("]" === ka)(ab(this),cb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ea.VALUE);else if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;else Xa(this,"Bad array");continue;case Ea.STRING:ea=this.index - 1;(Y=this.slashed,aa=this.unicodeI);a:for(;;){if(Yb.DEBUG)for(;0 < aa;){if((this.unicodeS+=ka,ka=za.charAt(this.index++),4 === aa?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),aa=0,ea=this.index - 1):aa++,!ka))break a;}if('"' === ka && !Y){this.state=this.stack.pop() || Ea.VALUE;(this.textNode+=za.substring(ea,this.index - 1)) || cb(this,"onvalue","");break;}if("\\" === ka && !Y && (Y=!0,this.textNode+=za.substring(ea,this.index - 1),ka=za.charAt(this.index++),!ka))break;if(Y)if((Y=!1,"n" === ka?this.textNode+="\n":"r" === ka?this.textNode+="\r":"t" === ka?this.textNode+="\t":"f" === ka?this.textNode+="\f":"b" === ka?this.textNode+="\b":"u" === ka?(aa=1,this.unicodeS=""):this.textNode+=ka,ka=za.charAt(this.index++),ea=this.index - 1,ka))continue;else break;Na.lastIndex=this.index;fa=Na.exec(za);if(null === fa){this.index=za.length + 1;this.textNode+=za.substring(ea,this.index - 1);break;}this.index=fa.index + 1;ka=za.charAt(fa.index);if(!ka){this.textNode+=za.substring(ea,this.index - 1);break;}}this.slashed=Y;this.unicodeI=aa;continue;case Ea.TRUE:if("" === ka)continue;"r" === ka?this.state=Ea.TRUE2:Xa(this,"Invalid true started with t" + ka);continue;case Ea.TRUE2:if("" === ka)continue;"u" === ka?this.state=Ea.TRUE3:Xa(this,"Invalid true started with tr" + ka);continue;case Ea.TRUE3:if("" === ka)continue;"e" === ka?(cb(this,"onvalue",!0),this.state=this.stack.pop() || Ea.VALUE):Xa(this,"Invalid true started with tru" + ka);continue;case Ea.FALSE:if("" === ka)continue;"a" === ka?this.state=Ea.FALSE2:Xa(this,"Invalid false started with f" + ka);continue;case Ea.FALSE2:if("" === ka)continue;"l" === ka?this.state=Ea.FALSE3:Xa(this,"Invalid false started with fa" + ka);continue;case Ea.FALSE3:if("" === ka)continue;"s" === ka?this.state=Ea.FALSE4:Xa(this,"Invalid false started with fal" + ka);continue;case Ea.FALSE4:if("" === ka)continue;"e" === ka?(cb(this,"onvalue",!1),this.state=this.stack.pop() || Ea.VALUE):Xa(this,"Invalid false started with fals" + ka);continue;case Ea.NULL:if("" === ka)continue;"u" === ka?this.state=Ea.NULL2:Xa(this,"Invalid null started with n" + ka);continue;case Ea.NULL2:if("" === ka)continue;"l" === ka?this.state=Ea.NULL3:Xa(this,"Invalid null started with nu" + ka);continue;case Ea.NULL3:if("" === ka)continue;"l" === ka?(cb(this,"onvalue",null),this.state=this.stack.pop() || Ea.VALUE):Xa(this,"Invalid null started with nul" + ka);continue;case Ea.NUMBER_DECIMAL_POINT:"." === ka?(this.numberNode+=ka,this.state=Ea.NUMBER_DIGIT):Xa(this,"Leading zero not followed by .");continue;case Ea.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ka)?this.numberNode+=ka:"." === ka?(-1 !== this.numberNode.indexOf(".") && Xa(this,"Invalid number has two dots"),this.numberNode+=ka):"e" === ka || "E" === ka?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || Xa(this,"Invalid number has two exponential"),this.numberNode+=ka):"+" === ka || "-" === ka?("e" !== ea && "E" !== ea && Xa(this,"Invalid symbol in number"),this.numberNode+=ka):(this.numberNode && cb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ea.VALUE);continue;default:Xa(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){za=Math.max(Yb.MAX_BUFFER_LENGTH,10);ea=ka=0;for(Y=hb.length;ea < Y;ea++){aa=this[hb[ea]].length;if(aa > za)switch(hb[ea]){case "text":break;default:Xa(this,"Max buffer length exceeded: " + hb[ea]);}ka=Math.max(ka,aa);}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH - ka + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var Xa,ib,nb;function eb(hb,Ea){Ea || (Ea=hb.length);return hb.reduce(function(Ka,Na,za){return za < Ea?Ka + String.fromCharCode(Na):Ka;},"");}for(var cb={},ab=0;256 > ab;++ab){Xa=eb([ab]);cb[Xa]=ab;}ib=Object.keys(cb).length;nb=[];for(ab=0;256 > ab;++ab){nb[ab]=[ab];}Ae=function(hb,Ea){var T,X;function Ka(pa,na){var qa;for(;0 < na;){if(aa >= Y.length)return !1;if(na > fa){qa=pa;qa>>>=na - fa;Y[aa]|=qa & 255;na-=fa;fa=8;++aa;}else na <= fa && (qa=pa,qa<<=fa - na,qa&=255,qa>>>=8 - fa,Y[aa]|=qa & 255,fa-=na,na=0,0 == fa && (fa=8,++aa));}return !0;}for(var Na in cb){Ea[Na]=cb[Na];}for(var za=ib,ka=[],ea=8,Y=new Uint8Array(hb.length),aa=0,fa=8,ca=0;ca < hb.length;++ca){T=hb[ca];ka.push(T);Na=eb(ka);X=Ea[Na];if(!X){ka=eb(ka,ka.length - 1);if(!Ka(Ea[ka],ea))return null;0 != za >> ea && ++ea;Ea[Na]=za++;ka=[T];}}return 0 < ka.length && (Na=eb(ka),X=Ea[Na],!Ka(X,ea))?null:Y.subarray(0,8 > fa?aa + 1:aa);};Be=function(hb){var ca,T;for(var Ea=nb.slice(),Ka=0,Na=0,za=8,ka=new Uint8Array(Math.ceil(1.5 * hb.length)),ea=0,Y,aa=[];Ka < hb.length && !(8 * (hb.length - Ka) - Na < za);){for(var fa=Y=0;fa < za;){ca=Math.min(za - fa,8 - Na);T=hb[Ka];T<<=Na;T&=255;T>>>=8 - ca;fa+=ca;Na+=ca;8 == Na && (Na=0,++Ka);Y|=(T & 255) << za - fa;}fa=Ea[Y];0 == aa.length?++za:(fa?aa.push(fa[0]):aa.push(aa[0]),Ea[Ea.length]=aa,aa=[],Ea.length == 1 << za && ++za,fa || (fa=Ea[Y]));Y=ea + fa.length;Y >= ka.length && (ca=new Uint8Array(Math.ceil(1.5 * Y)),ca.set(ka),ka=ca);ka.set(fa,ea);ea=Y;aa=aa.concat(fa);}return ka.subarray(0,ea);};})();(function(){var eb,cb,ab;Jb="utf-8";Kb=9007199254740992;eb=Nc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Nc);Ce=function(Xa){for(var ib=[eb.GZIP,eb.LZW],nb=0;nb < ib.length && 0 < Xa.length;++nb){for(var hb=ib[nb],Ea=0;Ea < Xa.length;++Ea){if(Xa[Ea] == hb)return hb;}}return null;};cb=sd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(sd);De=function(Xa){return cb.AES_CBC_PKCS5Padding == Xa?cb.AES_CBC_PKCS5Padding:cb.RSA_ECB_PKCS1Padding == Xa?cb.RSA_ECB_PKCS1Padding:cb[Xa];};ab=Ee={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Ee);Rd=function(Xa){return ab[Xa];};Ha={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ha);})();zb={isObjectLiteral:function(eb){return null !== eb && "object" === typeof eb && eb.constructor === Object;},extendDeep:function(){var eb,cb,ab,Xa,ib,nb,hb,Ea;eb=arguments[0];cb=1;ab=arguments.length;Xa=!1;"boolean" === typeof eb && (Xa=eb,eb=arguments[1],cb=2);for(;cb < ab;cb++){if(null != (ib=arguments[cb]))for(nb in ib){if(!(Xa && (nb in eb))){hb=ib[nb];if(eb !== hb && hb !== yb){Ea=eb[nb];eb[nb]=null !== Ea && null !== hb && "object" === typeof Ea && "object" === typeof hb?zb.extendDeep(Xa,{},Ea,hb):hb;}}}}return eb;}};(function(){var hb,Ea;function eb(Ka,Na){return function(){var za,ka;za=Ka.base;Ka.base=Na;ka=Ka.apply(this,arguments);Ka.base=za;return ka;};}function cb(Ka,Na,za){var ka,ea,Y,aa;za=za || Ea;ea=! !za.extendAll;for(ka in Na){Y=Na.__lookupGetter__(ka);aa=Na.__lookupSetter__(ka);Y || aa?(Y && Ka.__defineGetter__(ka,Y),aa && Ka.__defineSetter__(ka,aa)):(Y=Na[ka],aa=Ka[ka],"function" === typeof Y && "function" === typeof aa && Y !== aa?(Y.base !== Function.prototype.base && (Y=eb(Y,aa)),Y.base=aa):(ea || za[ka]) && zb.isObjectLiteral(Y) && zb.isObjectLiteral(aa) && (Y=zb.extendDeep({},aa,Y)),Ka[ka]=Y);}}function ab(){var Ka,Na;Ka=Array.prototype.slice;Na=Ka.call(arguments,1);return this.extend({init:function ka(){var ea;ea=Ka.call(arguments,0);ka.base.apply(this,Na.concat(ea));}});}function Xa(Ka,Na){var za;za=new this(hb);cb(za,Ka,Na);return nb(za);}function ib(Ka,Na){cb(this.prototype,Ka,Na);return this;}function nb(Ka){var Na;Na=function(){var za;za=this.init;za && arguments[0] !== hb && za.apply(this,arguments);};Ka && (Na.prototype=Ka);Na.prototype.constructor=Na;Na.extend=Xa;Na.bind=ab;Na.mixin=ib;return Na;}hb={};Ea={actions:!0};Function.prototype.base=function(){};zb.Class={create:nb,mixin:cb,extend:function(Ka,Na){var za;za=nb();za.prototype=new Ka();return za.extend(Na);}};zb.mixin=function(){zb.log && zb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");cb.apply(null,arguments);};})();(function(){var hb,Ea,Ka;function eb(Na,za){return function(){var ka,ea;ka=Na.base;Na.base=za;ea=Na.apply(this,arguments);Na.base=ka;return ea;};}function cb(Na,za,ka){var ea,Y,aa,fa;ka=ka || Ea;Y=! !ka.extendAll;for(ea in za){aa=za.__lookupGetter__(ea);fa=za.__lookupSetter__(ea);aa || fa?(aa && Na.__defineGetter__(ea,aa),fa && Na.__defineSetter__(ea,fa)):(aa=za[ea],fa=Na[ea],"function" === typeof aa && "function" === typeof fa && aa !== fa?(aa.base !== Ka && (aa=eb(aa,fa)),aa.base=fa):(Y || ka[ea]) && zb.isObjectLiteral(aa) && zb.isObjectLiteral(fa) && (aa=zb.extendDeep({},fa,aa)),Na[ea]=aa);}}function ab(){var Na,za;Na=Array.prototype.slice;za=Na.call(arguments,1);return this.extend({init:function ea(){var Y;Y=Na.call(arguments,0);ea.base.apply(this,za.concat(Y));}});}function Xa(Na,za){var ka;ka=new this(hb);cb(ka,Na,za);return nb(ka);}function ib(Na,za){cb(this.prototype,Na,za);return this;}function nb(Na){var za;za=function(){var ka;ka=this.init;ka && arguments[0] !== hb && ka.apply(this,arguments);};Na && (za.prototype=Na);za.prototype.constructor=za;za.extend=Xa;za.bind=ab;za.mixin=ib;return za;}hb={};Ea={actions:!0};Ka=function(){};Function.prototype.base=Ka;zb.Class={create:nb,mixin:cb,extend:function(Na,za){var ka;ka=nb();ka.prototype=new Na();return ka.extend(za);}};zb.mixin=function(){zb.log && zb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");cb.apply(null,arguments);};})();(function(){function eb(ab){return ab == Kb?1:ab + 1;}function cb(ab){if(0 === Object.keys(ab._waiters).length)return 0;for(var Xa=eb(ab._nextWaiter);!ab._waiters[Xa];){Xa=eb(Xa);}return Xa;}gd=zb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(ab){var Xa;if(this._waiters[ab]){Xa=this._waiters[ab];delete this._waiters[ab];ab == this._nextWaiter && (this._nextWaiter=cb(this));Xa.call(this,yb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(ab,Xa){var ib,nb;ib=this;nb=eb(this._lastWaiter);this._lastWaiter=nb;Za(Xa,function(){var hb,Ea;if(0 < this._queue.length){hb=this._queue.shift();setTimeout(function(){Xa.result(hb);},0);}else {-1 != ab && (Ea=setTimeout(function(){delete ib._waiters[nb];nb == ib._nextWaiter && (ib._nextWaiter=cb(ib));Xa.timeout();},ab));this._waiters[nb]=function(Ka){clearTimeout(Ea);setTimeout(function(){Xa.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=nb);}},ib);return nb;},add:function(ab){var Xa;if(this._nextWaiter){Xa=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=cb(this);Xa.call(this,ab);}else this._queue.push(ab);}});})();(function(){var eb;eb=0 - Kb;Fe=zb.Class.create({nextBoolean:function(){var cb;cb=new Uint8Array(1);Dc.getRandomValues(cb);return cb[0] & 1?!0:!1;},nextInt:function(cb){var ab;if(null !== cb && cb !== yb){if("number" !== typeof cb)throw new TypeError("n must be of type number");if(1 > cb)throw new RangeError("n must be greater than zero");--cb;ab=new Uint8Array(4);Dc.getRandomValues(ab);return Math.floor(((ab[3] & 127) << 24 | ab[2] << 16 | ab[1] << 8 | ab[0]) / 2147483648 * (cb - 0 + 1));}cb=new Uint8Array(4);Dc.getRandomValues(cb);ab=(cb[3] & 127) << 24 | cb[2] << 16 | cb[1] << 8 | cb[0];return cb[3] & 128?-ab:ab;},nextLong:function(){var ab;for(var cb=eb;cb == eb;){cb=new Uint8Array(7);Dc.getRandomValues(cb);ab=16777216 * ((cb[6] & 31) << 24 | cb[5] << 16 | cb[4] << 8 | cb[3]) + (cb[2] << 16 | cb[1] << 8 | cb[0]);cb=cb[6] & 128?-ab - 1:ab;}return cb;},nextBytes:function(cb){Dc.getRandomValues(cb);}});})();(function(){function eb(Xa){return Xa == Kb?1:Xa + 1;}function cb(Xa){if(0 === Object.keys(Xa._waitingReaders).length)return 0;for(var ib=eb(Xa._nextReader);!Xa._waitingReaders[ib];){ib=eb(ib);}return ib;}function ab(Xa){if(0 === Object.keys(Xa._waitingWriters).length)return 0;for(var ib=eb(Xa._nextWriter);!Xa._waitingWriters[ib];){ib=eb(ib);}return ib;}Sd=zb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(Xa){var ib;if(this._waitingReaders[Xa]){ib=this._waitingReaders[Xa];delete this._waitingReaders[Xa];Xa == this._nextReader && (this._nextReader=cb(this));ib.call(this,!0);}this._waitingWriters[Xa] && (ib=this._waitingWriters[Xa],delete this._waitingWriters[Xa],Xa == this._nextWriter && (this._nextWriter=ab(this)),ib.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(Xa,ib){var nb,hb;nb=this;hb=eb(this._lastNumber);this._lastNumber=hb;Za(ib,function(){var Ea;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[hb]=!0,hb);-1 != Xa && (Ea=setTimeout(function(){delete nb._waitingReaders[hb];hb == nb._nextReader && (nb._nextReader=cb(nb));ib.timeout();},Xa));this._waitingReaders[hb]=function(Ka){clearTimeout(Ea);Ka?setTimeout(function(){ib.result(yb);},0):(nb._readers[hb]=!0,setTimeout(function(){ib.result(hb);},0));};this._nextReader || (this._nextReader=hb);},nb);return hb;},writeLock:function(Xa,ib){var nb,hb;nb=this;hb=eb(this._lastNumber);this._lastNumber=hb;Za(ib,function(){var Ea;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=hb;-1 != Xa && (Ea=setTimeout(function(){delete nb._waitingWriters[hb];hb == nb._nextWriter && (nb._nextWriter=ab(nb));ib.timeout();},Xa));this._waitingWriters[hb]=function(Ka){clearTimeout(Ea);Ka?setTimeout(function(){ib.result(yb);},0):(nb._writer=hb,setTimeout(function(){ib.result(hb);},0));};this._nextWriter || (this._nextWriter=hb);},nb);return hb;},unlock:function(Xa){if(Xa == this._writer)this._writer=null;else {if(!this._readers[Xa])throw new ub("There is no reader or writer with ticket number " + Xa + ".");delete this._readers[Xa];}if(this._nextWriter)0 < Object.keys(this._readers).length || (Xa=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=ab(this),Xa.call(this,!1));else {for(var ib=this._nextReader;0 < Object.keys(this._waitingReaders).length;ib=eb(ib)){this._waitingReaders[ib] && (Xa=this._waitingReaders[ib],delete this._waitingReaders[ib],Xa.call(this,!1));}this._nextReader=0;}}});})();zb.Class.mixin(V,{JSON_PARSE_ERROR:new V(0,Ha.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new V(1,Ha.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new V(2,Ha.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new V(3,Ha.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new V(4,Ha.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new V(5,Ha.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new V(6,Ha.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new V(7,Ha.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new V(8,Ha.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new V(9,Ha.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new V(10,Ha.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new V(11,Ha.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new V(12,Ha.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new V(13,Ha.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new V(14,Ha.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new V(15,Ha.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new V(16,Ha.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new V(17,Ha.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new V(18,Ha.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new V(19,Ha.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new V(20,Ha.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new V(21,Ha.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new V(22,Ha.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new V(23,Ha.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new V(24,Ha.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new V(25,Ha.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new V(26,Ha.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new V(27,Ha.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new V(28,Ha.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new V(29,Ha.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new V(30,Ha.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new V(31,Ha.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new V(32,Ha.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new V(33,Ha.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new V(34,Ha.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new V(35,Ha.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new V(36,Ha.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new V(37,Ha.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new V(38,Ha.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new V(39,Ha.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new V(40,Ha.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new V(41,Ha.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new V(42,Ha.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new V(43,Ha.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new V(44,Ha.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new V(45,Ha.FAIL,"Error exporting key."),DIGEST_ERROR:new V(46,Ha.FAIL,"Error in digest."),UNSUPPORTED_KEY:new V(47,Ha.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new V(48,Ha.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new V(49,Ha.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new V(50,Ha.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new V(51,Ha.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new V(52,Ha.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new V(53,Ha.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new V(54,Ha.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new V(55,Ha.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new V(56,Ha.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new V(57,Ha.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new V(58,Ha.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new V(59,Ha.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new V(60,Ha.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new V(61,Ha.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new V(62,Ha.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new V(1E3,Ha.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new V(1001,Ha.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new V(1002,Ha.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new V(1003,Ha.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(1004,Ha.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(1005,Ha.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new V(1006,Ha.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new V(1007,Ha.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new V(1008,Ha.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new V(1009,Ha.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new V(1010,Ha.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new V(1011,Ha.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new V(1012,Ha.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new V(1013,Ha.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new V(1014,Ha.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new V(2E3,Ha.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new V(2001,Ha.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new V(2002,Ha.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new V(2003,Ha.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new V(2004,Ha.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new V(2005,Ha.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2006,Ha.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2007,Ha.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new V(2008,Ha.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new V(2009,Ha.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new V(2010,Ha.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new V(2011,Ha.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new V(2012,Ha.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new V(2013,Ha.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new V(2014,Ha.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new V(2015,Ha.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new V(2016,Ha.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new V(2017,Ha.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new V(2018,Ha.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new V(2019,Ha.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new V(2020,Ha.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new V(3E3,Ha.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new V(3001,Ha.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new V(3002,Ha.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new V(3003,Ha.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new V(3004,Ha.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3005,Ha.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3006,Ha.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new V(3007,Ha.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new V(3008,Ha.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new V(3009,Ha.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new V(4E3,Ha.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new V(4001,Ha.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new V(4002,Ha.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new V(4003,Ha.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new V(4004,Ha.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new V(4005,Ha.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new V(4006,Ha.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new V(4007,Ha.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new V(4008,Ha.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new V(4009,Ha.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new V(4010,Ha.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new V(4011,Ha.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new V(4012,Ha.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new V(4013,Ha.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new V(4014,Ha.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new V(4015,Ha.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new V(4016,Ha.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new V(4017,Ha.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new V(4018,Ha.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new V(4019,Ha.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new V(4020,Ha.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new V(4021,Ha.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new V(4022,Ha.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new V(4023,Ha.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new V(4024,Ha.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new V(4025,Ha.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new V(4026,Ha.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new V(5E3,Ha.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new V(5001,Ha.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new V(5002,Ha.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new V(5003,Ha.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new V(5004,Ha.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new V(5005,Ha.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new V(5006,Ha.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new V(5007,Ha.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new V(5008,Ha.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new V(5009,Ha.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new V(5010,Ha.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new V(5011,Ha.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new V(5012,Ha.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new V(5013,Ha.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new V(5014,Ha.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new V(5015,Ha.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new V(5016,Ha.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new V(5017,Ha.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new V(5018,Ha.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new V(5019,Ha.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new V(5020,Ha.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new V(5021,Ha.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new V(5022,Ha.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new V(5023,Ha.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new V(5024,Ha.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new V(5025,Ha.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new V(5026,Ha.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new V(5027,Ha.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new V(5028,Ha.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new V(5029,Ha.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new V(5030,Ha.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new V(5031,Ha.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new V(5032,Ha.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new V(5033,Ha.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new V(5034,Ha.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new V(5035,Ha.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new V(5036,Ha.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new V(5037,Ha.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new V(5038,Ha.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new V(5039,Ha.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new V(5040,Ha.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new V(6E3,Ha.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new V(6001,Ha.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new V(6002,Ha.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new V(6003,Ha.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new V(6004,Ha.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new V(6005,Ha.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new V(6006,Ha.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new V(6007,Ha.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new V(6008,Ha.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new V(6009,Ha.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new V(6010,Ha.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new V(6011,Ha.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new V(6012,Ha.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new V(6013,Ha.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new V(6014,Ha.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new V(6015,Ha.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new V(6016,Ha.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new V(6017,Ha.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new V(6018,Ha.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(6019,Ha.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new V(6020,Ha.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new V(6021,Ha.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new V(6022,Ha.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new V(6023,Ha.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new V(6024,Ha.FAIL,"Invalid header data."),PAYLOAD_INVALID:new V(6025,Ha.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new V(6026,Ha.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new V(6027,Ha.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new V(6028,Ha.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new V(6029,Ha.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new V(6030,Ha.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new V(6031,Ha.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new V(6032,Ha.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new V(6033,Ha.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new V(6034,Ha.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new V(6035,Ha.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new V(6036,Ha.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new V(6037,Ha.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new V(7E3,Ha.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new V(7001,Ha.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new V(7002,Ha.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new V(7003,Ha.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new V(7004,Ha.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new V(7005,Ha.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new V(7006,Ha.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new V(7007,Ha.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new V(7008,Ha.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new V(7009,Ha.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new V(7010,Ha.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new V(7011,Ha.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new V(7012,Ha.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new V(7013,Ha.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new V(7014,Ha.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new V(7015,Ha.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new V(7016,Ha.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new V(8E3,Ha.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new V(8001,Ha.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new V(8002,Ha.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new V(8003,Ha.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new V(8004,Ha.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new V(8005,Ha.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new V(8006,Ha.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new V(8007,Ha.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new V(8008,Ha.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new V(8009,Ha.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new V(8010,Ha.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new V(8011,Ha.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new V(8012,Ha.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new V(9E3,Ha.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new V(9001,Ha.FAIL,"Error communicating with MSL entity."),NONE:new V(9999,Ha.FAIL,"Special unit test error.")});Object.freeze(V);(function(){Ya=zb.Class.create(Error());Ya.mixin({init:function(eb,cb,ab){var ib,nb,hb;function Xa(){return nb?nb:this.cause && this.cause instanceof Ya?this.cause.messageId:yb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ib=eb.message;cb && (ib+=" [" + cb + "]");hb=this.stack;Object.defineProperties(this,{message:{value:ib,writable:!1,configurable:!0},error:{value:eb,writable:!1,configurable:!0},cause:{value:ab,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:Xa,set:function(Ea){if(0 > Ea || Ea > Kb)throw new RangeError("Message ID " + Ea + " is outside the valid range.");Xa() || (nb=Ea);},configurable:!0},stack:{get:function(){var Ea;Ea=this.toString();hb && (Ea+="\n" + hb);ab && ab.stack && (Ea+="\nCaused by " + ab.stack);return Ea;},configurable:!0}});},setEntity:function(eb){!eb || this.masterToken || this.entityAuthenticationData || (eb instanceof fc?this.masterToken=eb:eb instanceof Oc && (this.entityAuthenticationData=eb));return this;},setUser:function(eb){!eb || this.userIdToken || this.userAuthenticationData || (eb instanceof Yc?this.userIdToken=eb:eb instanceof Ec && (this.userAuthenticationData=eb));return this;},setMessageId:function(eb){this.messageId=eb;return this;},toString:function(){return this.name + ": " + this.message;}});})();sb=Ya.extend({init:function ib(cb,ab,Xa){ib.base.call(this,cb,ab,Xa);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});wb=Ya.extend({init:function nb(ab,Xa,ib){nb.base.call(this,ab,Xa,ib);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});tc=Ya.extend({init:function hb(Xa,ib,nb){hb.base.call(this,Xa,ib,nb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=zb.Class.create(Error());jc.mixin({init:function(Xa,ib,nb){var hb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);hb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},requestCause:{value:nb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ea;Ea=this.toString();hb && (Ea+="\n" + hb);ib && ib.stack && (Ea+="\nCaused by " + ib.stack);return Ea;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Ub=zb.Class.create(Error());Ub.mixin({init:function(Xa,ib){var nb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);nb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var hb;hb=this.toString();nb && (hb+="\n" + nb);ib && ib.stack && (hb+="\nCaused by " + ib.stack);return hb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){ub=zb.Class.create(Error());ub.mixin({init:function(Xa,ib){var nb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);nb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var hb;hb=this.toString();nb && (hb+="\n" + nb);ib && ib.stack && (hb+="\nCaused by " + ib.stack);return hb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Zb=zb.Class.create(Error());Zb.mixin({init:function(Xa,ib){var nb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);nb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var hb;hb=this.toString();nb && (hb+="\n" + nb);ib && ib.stack && (hb+="\nCaused by " + ib.stack);return hb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Nb=Ya.extend({init:function Ea(ib,nb,hb){Ea.base.call(this,ib,nb,hb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Pc=Ya.extend({init:function Ea(nb,hb){Ea.base.call(this,nb);Object.defineProperties(this,{masterToken:{value:hb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Fb=Ya.extend({init:function Na(hb,Ea,Ka){Na.base.call(this,hb,Ea,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Eb=Ya.extend({init:function za(Ea,Ka,Na){za.base.call(this,Ea,Ka,Na);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ka;function Ea(ea){return "undefined" === typeof ea?!1:ea;}function Ka(ea){return ea && ea.length?(bc === ka.V2014_02 && (ea=ea.map(function(Y){return "wrap" == Y?"wrapKey":"unwrap" == Y?"unwrapKey":Y;})),ea):bc === ka.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Na(ea,Y,aa,fa,ca){return Promise.resolve().then(function(){return Ob.importKey(ea,Y,aa,fa,ca);}).catch(function(T){var X;if("spki" !== ea && "pkcs8" !== ea)throw T;T=ASN1.webCryptoAlgorithmToJwkAlg(aa);X=ASN1.webCryptoUsageToJwkKeyOps(ca);T=ASN1.rsaDerToJwk(Y,T,X,fa);if(!T)throw Error("Could not make valid JWK from DER input");T=JSON.stringify(T);return Ob.importKey("jwk",Md(T),aa,fa,ca);});}function za(ea,Y){return Promise.resolve().then(function(){return Ob.exportKey(ea,Y);}).catch(function(aa){if("spki" !== ea && "pkcs8" !== ea)throw aa;return Ob.exportKey("jwk",Y).then(function(fa){fa=JSON.parse(Ld(new Uint8Array(fa)));fa=ASN1.jwkToRsaDer(fa);if(!fa)throw Error("Could not make valid DER from JWK input");return fa.getDer().buffer;});});}ka=td={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(td);bc=ka.LATEST;Hb={encrypt:function(ea,Y,aa){switch(bc){case ka.LEGACY:return new Promise(function(fa,ca){var T;T=Ob.encrypt(ea,Y,aa);T.oncomplete=function(X){fa(X.target.result);};T.onerror=function(X){ca(X);};});case ka.V2014_01:case ka.V2014_02:return Ob.encrypt(ea,Y,aa).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ea,Y,aa){switch(bc){case ka.LEGACY:return new Promise(function(fa,ca){var T;T=Ob.decrypt(ea,Y,aa);T.oncomplete=function(X){fa(X.target.result);};T.onerror=function(X){ca(X);};});case ka.V2014_01:case ka.V2014_02:return Ob.decrypt(ea,Y,aa).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ea,Y,aa){switch(bc){case ka.LEGACY:return new Promise(function(fa,ca){var T;T=Ob.sign(ea,Y,aa);T.oncomplete=function(X){fa(X.target.result);};T.onerror=function(X){ca(X);};});case ka.V2014_01:case ka.V2014_02:return Ob.sign(ea,Y,aa).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ea,Y,aa,fa){switch(bc){case ka.LEGACY:return new Promise(function(ca,T){var X;X=Ob.verify(ea,Y,aa,fa);X.oncomplete=function(pa){ca(pa.target.result);};X.onerror=function(pa){T(pa);};});case ka.V2014_01:case ka.V2014_02:return Ob.verify(ea,Y,aa,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ea,Y){switch(bc){case ka.LEGACY:return new Promise(function(aa,fa){var ca;ca=Ob.digest(ea,Y);ca.oncomplete=function(T){aa(T.target.result);};ca.onerror=function(T){fa(T);};});case ka.V2014_01:case ka.V2014_02:return Ob.digest(ea,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ea,Y,aa){var fa,ca;fa=Ea(Y);ca=Ka(aa);switch(bc){case ka.LEGACY:return new Promise(function(T,X){var pa;pa=Ob.generateKey(ea,fa,ca);pa.oncomplete=function(na){T(na.target.result);};pa.onerror=function(na){X(na);};});case ka.V2014_01:case ka.V2014_02:return Ob.generateKey(ea,fa,ca);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ea,Y,aa,fa,ca){var T,X;T=Ea(fa);X=Ka(ca);switch(bc){case ka.LEGACY:return new Promise(function(pa,na){var qa;qa=Ob.deriveKey(ea,Y,aa,T,X);qa.oncomplete=function(Ba){pa(Ba.target.result);};qa.onerror=function(Ba){na(Ba);};});case ka.V2014_01:case ka.V2014_02:return Ob.deriveKey(ea,Y,aa,T,X);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ea,Y,aa,fa,ca){var T,X;T=Ea(fa);X=Ka(ca);switch(bc){case ka.LEGACY:return new Promise(function(pa,na){var qa;qa=Ob.importKey(ea,Y,aa,T,X);qa.oncomplete=function(Ba){pa(Ba.target.result);};qa.onerror=function(Ba){na(Ba);};});case ka.V2014_01:case ka.V2014_02:return Na(ea,Y,aa,T,X);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ea,Y){switch(bc){case ka.LEGACY:return new Promise(function(aa,fa){var ca;ca=Ob.exportKey(ea,Y);ca.oncomplete=function(T){aa(T.target.result);};ca.onerror=function(T){fa(T);};});case ka.V2014_01:case ka.V2014_02:return za(ea,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ea,Y,aa,fa){switch(bc){case ka.LEGACY:return new Promise(function(ca,T){var X;X=Ob.wrapKey(Y,aa,fa);X.oncomplete=function(pa){ca(pa.target.result);};X.onerror=function(pa){T(pa);};});case ka.V2014_01:case ka.V2014_02:return Ob.wrapKey(ea,Y,aa,fa).then(function(ca){return new Uint8Array(ca);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ea,Y,aa,fa,ca,T,X){switch(bc){case ka.LEGACY:return new Promise(function(pa,na){var qa;qa=Ob.unwrapKey(Y,ca,aa);qa.oncomplete=function(Ba){pa(Ba.target.result);};qa.onerror=function(Ba){na(Ba);};});case ka.V2014_01:case ka.V2014_02:return Ob.unwrapKey(ea,Y,aa,fa,ca,Ea(T),Ka(X));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};rd && rd.getKeyByName && (Hb.getKeyByName=function(ea){switch(bc){case ka.LEGACY:return new Promise(function(Y,aa){var fa;fa=rd.getKeyByName(ea);fa.oncomplete=function(ca){Y(ca.target.result);};fa.onerror=function(ca){aa(ca);};});case ka.V2014_01:case ka.V2014_02:return rd.getKeyByName(ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});lb.netflix=lb.netflix || ({});lb.netflix.crypto=Hb;})();uc={name:"AES-KW"};pc={name:"AES-CBC"};qc={name:"HMAC",hash:{name:"SHA-256"}};ud={name:"RSA-OAEP",hash:{name:"SHA-1"}};Td={name:"RSAES-PKCS1-v1_5"};Ge={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Fc=["encrypt","decrypt"];Gc=["wrap","unwrap"];Qc=["sign","verify"];(function(){Ud=zb.Class.create({init:function(Ea,Ka,Na){var ka;function za(ea){Ia(Ka,function(){var Y;Y=ea?Ab(ea):yb;Object.defineProperties(ka,{rawKey:{value:Ea,writable:!1,configurable:!1},keyData:{value:ea,writable:!1,configurable:!1},keyDataB64:{value:Y,writable:!1,configurable:!1}});return this;},ka);}ka=this;Ia(Ka,function(){if(!Ea || "object" != typeof Ea)throw new sb(V.INVALID_SYMMETRIC_KEY);!Na && Ea.extractable?Hb.exportKey("raw",Ea).then(function(ea){za(new Uint8Array(ea));},function(ea){Ka.error(new sb(V.KEY_EXPORT_ERROR,"raw"));}):za(Na);},ka);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Wc=function(Ea,Ka){new Ud(Ea,Ka);};vc=function(Ea,Ka,Na,za){Ia(za,function(){try{Ea="string" == typeof Ea?Db(Ea):Ea;}catch(ka){throw new sb(V.INVALID_SYMMETRIC_KEY,"keydata " + Ea,ka);}Hb.importKey("raw",Ea,Ka,!0,Na).then(function(ka){new Ud(ka,za,Ea);},function(ka){za.error(new sb(V.INVALID_SYMMETRIC_KEY));});});};})();(function(){vd=zb.Class.create({init:function(Ea,Ka,Na){var ka;function za(ea){Ia(Ka,function(){Object.defineProperties(ka,{rawKey:{value:Ea,writable:!1,configurable:!1},encoded:{value:ea,writable:!1,configurable:!1}});return this;},ka);}ka=this;Ia(Ka,function(){if(!Ea || "object" != typeof Ea || "public" != Ea.type)throw new TypeError("Only original public crypto keys are supported.");!Na && Ea.extractable?Hb.exportKey("spki",Ea).then(function(ea){za(new Uint8Array(ea));},function(ea){Ka.error(new sb(V.KEY_EXPORT_ERROR,"spki"));}):za(Na);});},getEncoded:function(){return this.encoded;}});Mc=function(Ea,Ka){new vd(Ea,Ka);};Vd=function(Ea,Ka,Na,za){Ia(za,function(){try{Ea="string" == typeof Ea?Db(Ea):Ea;}catch(ka){throw new sb(V.INVALID_PUBLIC_KEY,"spki " + Ea,ka);}Hb.importKey("spki",Ea,Ka,!0,Na).then(function(ka){new vd(ka,za,Ea);},function(ka){za.error(new sb(V.INVALID_PUBLIC_KEY));});});};})();(function(){He=zb.Class.create({init:function(Ea,Ka,Na){var ka;function za(ea){Ia(Ka,function(){Object.defineProperties(ka,{rawKey:{value:Ea,writable:!1,configurable:!1},encoded:{value:ea,writable:!1,configurable:!1}});return this;},ka);}ka=this;Ia(Ka,function(){if(!Ea || "object" != typeof Ea || "private" != Ea.type)throw new TypeError("Only original private crypto keys are supported.");!Na && Ea.extractable?Hb.exportKey("pkcs8",Ea).then(function(ea){za(new Uint8Array(ea));},function(ea){Ka.error(new sb(V.KEY_EXPORT_ERROR,"pkcs8"));}):za(Na);});},getEncoded:function(){return this.encoded;}});Xc=function(Ea,Ka){new He(Ea,Ka);};})();(function(){var Ea;Ea=Zd={V1:1,V2:2};Wd=zb.Class.create({init:function(Ka,Na,za,ka){Ia(ka,function(){var ea,Y,aa,fa;ea=Ea.V1;Y=Ka;aa=null;for(fa in sd){if(sd[fa] == Ka){ea=Ea.V2;Y=null;aa=Ka;break;}}Object.defineProperties(this,{version:{value:ea,writable:!1,enumerable:!1,configurable:!1},keyId:{value:Y,writable:!1,configurable:!1},cipherSpec:{value:aa,writable:!1,configurable:!1},iv:{value:Na,writable:!1,configurable:!1},ciphertext:{value:za,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Ea.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Ab(this.iv));Ka.ciphertext=Ab(this.ciphertext);Ka.sha256="AA==";break;case Ea.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Ab(this.iv));Ka.ciphertext=Ab(this.ciphertext);break;default:throw new ub("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Xd=function(Ka,Na,za,ka){new Wd(Ka,Na,za,ka);};Yd=function(Ka,Na,za){Ia(za,function(){var ka,ea,Y,aa,fa,ca,T;ka=Ka.keyid;ea=Ka.cipherspec;Y=Ka.iv;aa=Ka.ciphertext;fa=Ka.sha256;if(!Na)if((Na=Ka.version) && "number" === typeof Na && Na === Na){ca=!1;for(T in Ea){if(Ea[T] == Na){ca=!0;break;}}if(!ca)throw new sb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Na=Ea.V1;switch(Na){case Ea.V1:if("string" !== typeof ka || Y && "string" !== typeof Y || "string" !== typeof aa || "string" !== typeof fa)throw new wb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Ea.V2:T=Ka.version;if(T != Ea.V2)throw new sb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof ea || Y && "string" !== typeof Y || "string" !== typeof aa)throw new wb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));ea=De(ea);if(!ea)throw new sb(V.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));ka=ea;break;default:throw new sb(V.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{Y && (Y=Db(Y));aa=Db(aa);}catch(X){throw new sb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),X);}new Wd(ka,Y,aa,za);});};})();(function(){var Ea;Ea=be={V1:1,V2:2};wc=zb.Class.create({init:function(Ka,Na,za){var ka;switch(Ka){case Ea.V1:ka=za;break;case Ea.V2:ka={};ka.version=Ka;ka.algorithm=Na;ka.signature=Ab(za);ka=Qb(JSON.stringify(ka),Jb);break;default:throw new ub("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Na,writable:!1,configurable:!1},signature:{value:za,writable:!1,configurable:!1},bytes:{value:ka,writable:!1,configurable:!1}});}});$d=function(){var Ka,Na,za,ka;if(2 == arguments.length){Ka=Ea.V1;Na=arguments[0];za=null;ka=arguments[1];}else 3 == arguments.length && (Ka=Ea.V2,za=arguments[0],Na=arguments[1],ka=arguments[2]);Ia(ka,function(){return new wc(Ka,za,Na);});};ae=function(Ka,Na,za){Ia(za,function(){var ka,ea,Y,aa,fa,ca,T;if(Na)switch(Na){case Ea.V1:return new wc(Ea.V1,null,Ka);case Ea.V2:try{ka=Rb(Ka,Jb);ea=JSON.parse(ka);Y=parseInt(ea.version);aa=ea.algorithm;fa=ea.signature;if(!Y || "number" !== typeof Y || Y != Y || "string" !== typeof aa || "string" !== typeof fa)throw new wb(V.JSON_PARSE_ERROR,"signature envelope " + Ab(Ka));if(Ea.V2 != Y)throw new sb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ab(Ka));ca=Rd(aa);if(!ca)throw new sb(V.UNIDENTIFIED_ALGORITHM,"signature envelope " + Ab(Ka));T=Db(fa);if(!T)throw new sb(V.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new wc(Ea.V2,ca,T);}catch(X){if(X instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"signature envelope " + Ab(Ka),X);throw X;}default:throw new sb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ab(Ka));}try{ka=Rb(Ka,Jb);ea=JSON.parse(ka);}catch(X){ea=null;}if(ea && ea.version){if((ka=ea.version,"number" !== typeof ka || ka !== ka))ka=Ea.V1;}else ka=Ea.V1;switch(ka){case Ea.V1:return new wc(ka,null,Ka);case Ea.V2:ca=ea.algorithm;fa=ea.signature;if("string" !== typeof ca || "string" !== typeof fa)return new wc(Ea.V1,null,Ka);ca=Rd(ca);if(!ca)return new wc(Ea.V1,null,Ka);try{T=Db(fa);}catch(X){return new wc(Ea.V1,null,Ka);}return new wc(ka,ca,T);default:throw new sb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Zc=zb.Class.create({encrypt:function(Ea,Ka){},decrypt:function(Ea,Ka){},wrap:function(Ea,Ka){},unwrap:function(Ea,Ka,Na,za){},sign:function(Ea,Ka){},verify:function(Ea,Ka,Na){}});(function(){var Ea;Ea=yc={RSA_OAEP:ud.name,A128KW:uc.name};sc="A128GCM";xc=zb.Class.create({init:function(Ka,Na,za,ka,ea){switch(Na){case Ea.RSA_OAEP:ea=ea && (ea.rawKey || ea);ka=ka && (ka.rawKey || ka);break;case Ea.A128KW:ea=ka=ka && (ka.rawKey || ka);break;default:throw new ub("Unsupported algorithm: " + Na);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Na,writable:!1,enumerable:!1,configurable:!1},_enc:{value:za,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ea,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Na){Na.error(new sb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Na){Na.error(new sb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Na){Ia(Na,function(){Hb.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(za){Na.result(za);},function(za){Na.error(new sb(V.WRAP_ERROR));});},this);},unwrap:function(Ka,Na,za,ka){function ea(Y){Ia(ka,function(){switch(Y.type){case "secret":Wc(Y,ka);break;case "public":Mc(Y,ka);break;case "private":Xc(Y,ka);break;default:throw new sb(V.UNSUPPORTED_KEY,"type: " + Y.type);}});}Ia(ka,function(){Hb.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Na,!1,za).then(function(Y){ea(Y);},function(){ka.error(new sb(V.UNWRAP_ERROR));});},this);},sign:function(Ka,Na){Na.error(new sb(V.SIGN_NOT_SUPPORTED));},verify:function(Ka,Na,za){za.error(new sb(V.VERIFY_NOT_SUPPORTED));}});})();$c=Zc.extend({encrypt:function(Ea,Ka){Ka.result(Ea);},decrypt:function(Ea,Ka){Ka.result(Ea);},wrap:function(Ea,Ka){Ka.result(Ea);},unwrap:function(Ea,Ka,Na,za){za.result(Ea);},sign:function(Ea,Ka){Ka.result(new Uint8Array(0));},verify:function(Ea,Ka,Na){Na.result(!0);}});(function(){var Ea;Ea=xd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};wd=Zc.extend({init:function aa(Na,za,ka,ea,Y){aa.base.call(this);ka && (ka=ka.rawKey);ea && (ea=ea.rawKey);Object.defineProperties(this,{id:{value:za,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ka,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ea,writable:!1,enumerable:!1,configurable:!1},transform:{value:Y == Ea.ENCRYPT_DECRYPT_PKCS1?Td:Y == Ea.ENCRYPT_DECRYPT_OAEP?ud:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:Y == Ea.WRAP_UNWRAP_PKCS1?Td:Y == Ea.WRAP_UNWRAP_OAEP?ud:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:Y == Ea.SIGN_VERIFY?Ge:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Na,za){var ka;ka=this;Ia(za,function(){if("nullOp" == this.transform)return Na;if(!this.publicKey)throw new sb(V.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Na.length)return Na;Hb.encrypt(ka.transform,ka.publicKey,Na).then(function(ea){Xd(ka.id,null,ea,{result:function(Y){var aa;try{aa=JSON.stringify(Y);za.result(Qb(aa,Jb));}catch(fa){za.error(new sb(V.ENCRYPT_ERROR,null,fa));}},error:function(Y){Y instanceof Ya || (Y=new sb(V.ENCRYPT_ERROR,null,Y));za.error(Y);}});},function(ea){za.error(new sb(V.ENCRYPT_ERROR));});},this);},decrypt:function(Na,za){var ka;ka=this;Ia(za,function(){var ea,Y;if("nullOp" == this.transform)return Na;if(!this.privateKey)throw new sb(V.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Na.length)return Na;try{ea=Rb(Na,Jb);Y=JSON.parse(ea);}catch(aa){if(aa instanceof SyntaxError)throw new sb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,aa);throw new sb(V.DECRYPT_ERROR,null,aa);}Yd(Y,Zd.V1,{result:function(aa){var fa;try{if(aa.keyId != ka.id)throw new sb(V.ENVELOPE_KEY_ID_MISMATCH);fa=za.result;Hb.decrypt(ka.transform,ka.privateKey,aa.ciphertext).then(fa,function(ca){za.error(new sb(V.DECRYPT_ERROR));});}catch(ca){ca instanceof Ya?za.error(ca):za.error(new sb(V.DECRYPT_ERROR,null,ca));}},error:function(aa){aa instanceof wb && (aa=new sb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,aa));aa instanceof Ya || (aa=new sb(V.DECRYPT_ERROR,null,aa));za.error(aa);}});},this);},wrap:function(Na,za){Ia(za,function(){var ka;if("nullOp" == this.wrapTransform || !this.publicKey)throw new sb(V.WRAP_NOT_SUPPORTED,"no public key");ka=za.result;Hb.wrapKey("jwk",Na.rawKey,this.publicKey,this.wrapTransform).then(ka,function(ea){za.error(new sb(V.WRAP_ERROR));});},this);},unwrap:function(Na,za,ka,ea){function Y(aa){Ia(ea,function(){switch(aa.type){case "secret":Wc(aa,ea);break;case "public":Mc(aa,ea);break;case "private":Xc(aa,ea);break;default:throw new sb(V.UNSUPPORTED_KEY,"type: " + aa.type);}});}Ia(ea,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new sb(V.UNWRAP_NOT_SUPPORTED,"no private key");Hb.unwrapKey("jwk",Na,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},za,!1,ka).then(Y,function(aa){ea.error(new sb(V.UNWRAP_ERROR));});},this);},sign:function(Na,za){Ia(za,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new sb(V.SIGN_NOT_SUPPORTED,"no private key");Hb.sign(this.algo,this.privateKey,Na).then(function(ka){$d(ka,{result:function(ea){za.result(ea.bytes);},error:za.error});},function(ka){za.error(new sb(V.SIGNATURE_ERROR));});},this);},verify:function(Na,za,ka){var ea;ea=this;Ia(ka,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new sb(V.VERIFY_NOT_SUPPORTED,"no public key");ae(za,be.V1,{result:function(Y){Ia(ka,function(){var aa;aa=ka.result;Hb.verify(this.algo,this.publicKey,Y.signature,Na).then(aa,function(fa){ka.error(new sb(V.SIGNATURE_ERROR));});},ea);},error:ka.error});},this);}});})();(function(){yd=Zc.extend({init:function Y(Ka,Na,za,ka,ea){Y.base.call(this);za=za && za.rawKey;ka=ka && ka.rawKey;ea=ea && ea.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Na,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ka,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ea,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Na){var za;za=this;Ia(Na,function(){var ka;if(!this.encryptionKey)throw new sb(V.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;ka=new Uint8Array(16);this.ctx.getRandom().nextBytes(ka);Hb.encrypt({name:pc.name,iv:ka},za.encryptionKey,Ka).then(function(ea){ea=new Uint8Array(ea);Xd(za.id,ka,ea,{result:function(Y){var aa;try{aa=JSON.stringify(Y);Na.result(Qb(aa,Jb));}catch(fa){Na.error(new sb(V.ENCRYPT_ERROR,null,fa));}},error:function(Y){Y instanceof Ya || (Y=new sb(V.ENCRYPT_ERROR,null,Y));Na.error(Y);}});},function(ea){Na.error(new sb(V.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Na){var za;za=this;Ia(Na,function(){var ka,ea;if(!this.encryptionKey)throw new sb(V.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{ka=Rb(Ka,Jb);ea=JSON.parse(ka);}catch(Y){if(Y instanceof SyntaxError)throw new sb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Y);throw new sb(V.DECRYPT_ERROR,null,Y);}Yd(ea,Zd.V1,{result:function(Y){try{if(Y.keyId != za.id)throw new sb(V.ENVELOPE_KEY_ID_MISMATCH);Hb.decrypt({name:pc.name,iv:Y.iv},za.encryptionKey,Y.ciphertext).then(function(aa){aa=new Uint8Array(aa);Na.result(aa);},function(){Na.error(new sb(V.DECRYPT_ERROR));});}catch(aa){aa instanceof Ya?Na.error(aa):Na.error(new sb(V.DECRYPT_ERROR,null,aa));}},error:function(Y){Y instanceof wb && (Y=new sb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Y));Y instanceof Ya || (Y=new sb(V.DECRYPT_ERROR,null,Y));Na.error(Y);}});},this);},wrap:function(Ka,Na){Ia(Na,function(){if(!this.wrapKey)throw new sb(V.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Hb.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(za){Na.result(za);},function(za){Na.error(new sb(V.WRAP_ERROR));});},this);},unwrap:function(Ka,Na,za,ka){function ea(Y){Ia(ka,function(){switch(Y.type){case "secret":Wc(Y,ka);break;case "public":Mc(Y,ka);break;case "private":Xc(Y,ka);break;default:throw new sb(V.UNSUPPORTED_KEY,"type: " + Y.type);}});}Ia(ka,function(){if(!this.wrapKey)throw new sb(V.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Hb.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Na,!1,za).then(function(Y){ea(Y);},function(Y){ka.error(new sb(V.UNWRAP_ERROR));});},this);},sign:function(Ka,Na){var za;za=this;Ia(Na,function(){if(!this.hmacKey)throw new sb(V.SIGN_NOT_SUPPORTED,"no HMAC key.");Hb.sign(qc,this.hmacKey,Ka).then(function(ka){Ia(Na,function(){var ea;ea=new Uint8Array(ka);$d(ea,{result:function(Y){Na.result(Y.bytes);},error:Na.error});},za);},function(){Na.error(new sb(V.HMAC_ERROR));});},this);},verify:function(Ka,Na,za){var ka;ka=this;Ia(za,function(){if(!this.hmacKey)throw new sb(V.VERIFY_NOT_SUPPORTED,"no HMAC key.");ae(Na,be.V1,{result:function(ea){Ia(za,function(){Hb.verify(qc,this.hmacKey,ea.signature,Ka).then(function(Y){za.result(Y);},function(Y){za.error(new sb(V.HMAC_ERROR));});},ka);},error:za.error});},this);}});})();gc=yd.extend({init:function Y(Ka,Na,za,ka,ea){if(za || ka || ea)Y.base.call(this,Ka,za + "_" + Na.sequenceNumber,ka,ea,null);else {if(!Na.isDecrypted())throw new Pc(V.MASTERTOKEN_UNTRUSTED,Na);Y.base.call(this,Ka,Na.identity + "_" + Na.sequenceNumber,Na.encryptionKey,Na.hmacKey,null);}}});Hf=Zc.extend({encrypt:function(Ka,Na){Na.result(Ka);},decrypt:function(Ka,Na){Na.result(Ka);},wrap:function(Ka,Na){Na.error(new ub("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Na,za,ka){ka.error(new ub("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Na){Na.result(new Uint8Array(0));},verify:function(Ka,Na,za){za.result(!1);}});Mb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Mb);(function(){Oc=zb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Oc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});Ie=function(Ka,Na){var za,ka;za=Na.scheme;ka=Na.authdata;if(!za || !ka)throw new wb(V.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Na));if(!Mb[za])throw new tc(V.UNIDENTIFIED_ENTITYAUTH_SCHEME,za);Na=Ka.getEntityAuthenticationFactory(za);if(!Na)throw new tc(V.ENTITYAUTH_FACTORY_NOT_FOUND,za);return Na.createData(Ka,ka);};})();zd=zb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Na){},getCryptoContext:function(Ka,Na){}});(function(){nc=Oc.extend({init:function za(Na){za.base.call(this,Mb.MGK);Object.defineProperties(this,{identity:{value:Na,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Na;Na={};Na.identity=this.identity;return Na;},equals:function ka(za){return this === za?!0:za instanceof nc?ka.base.call(this,this,za) && this.identity == za.identity:!1;}});Je=function(za){var ka;ka=za.identity;if(!ka)throw new wb(V.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(za));return new nc(ka);};})();If=zd.extend({init:function za(Na){za.base.call(this,Mb.MGK);Object.defineProperties(this,{localIdentity:{value:Na,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Na,za){return Je(za);},getCryptoContext:function(Na,za){if(!(za instanceof nc))throw new ub("Incorrect authentication data type " + JSON.stringify(za) + ".");if(za.identity != this.localIdentity)throw new tc(V.ENTITY_NOT_FOUND,"mgk " + za.identity).setEntity(za);return new $c();}});(function(){rc=Oc.extend({init:function ka(za){ka.base.call(this,Mb.PSK);Object.defineProperties(this,{identity:{value:za,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var za;za={};za.identity=this.identity;return za;},equals:function ea(ka){return this === ka?!0:ka instanceof rc?ea.base.call(this,this,ka) && this.identity == ka.identity:!1;}});Ke=function(ka){var ea;ea=ka.identity;if(!ea)throw new wb(V.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ka));return new rc(ea);};})();Jf=zd.extend({init:function ka(za){ka.base.call(this,Mb.PSK);Object.defineProperties(this,{localIdentity:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createData:function(za,ka){return Ke(ka);},getCryptoContext:function(za,ka){if(!(ka instanceof rc))throw new ub("Incorrect authentication data type " + JSON.stringify(ka) + ".");if(ka.getIdentity() != this.localIdentity)throw new tc(V.ENTITY_NOT_FOUND,"psk " + ka.identity).setEntity(ka);return new $c();}});(function(){Ad=Oc.extend({init:function Y(ka,ea){Y.base.call(this,Mb.RSA);Object.defineProperties(this,{identity:{value:ka,writable:!1,configurable:!1},publicKeyId:{value:ea,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ka;ka={};ka.identity=this.identity;ka.pubkeyid=this.publicKeyId;return ka;},equals:function Y(ea){return this === ea?!0:ea instanceof Ad?Y.base.call(this,this,ea) && this.identity == ea.identity && this.publicKeyId == ea.publicKeyId:!1;}});Le=function(ea){var Y,aa;Y=ea.identity;aa=ea.pubkeyid;if(!Y || "string" !== typeof Y || !aa || "string" !== typeof aa)throw new wb(V.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ea));return new Ad(Y,aa);};})();Kf=zd.extend({init:function ea(ka){ea.base.call(this,Mb.RSA);Object.defineProperties(this,{store:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ka,ea){return Le(ea);},getCryptoContext:function(ka,ea){var Y,aa,fa;if(!(ea instanceof Ad))throw new ub("Incorrect authentication data type " + ea + ".");Y=ea.identity;aa=ea.publicKeyId;fa=this.store.getPublicKey(aa);if(!fa)throw new tc(V.RSA_PUBLICKEY_NOT_FOUND,aa).setEntity(ea);return new wd(ka,Y,null,fa,xd.SIGN_VERIFY);}});(function(){fd=Oc.extend({init:function Y(ea){Y.base.call(this,Mb.NONE);Object.defineProperties(this,{identity:{value:ea,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ea;ea={};ea.identity=this.identity;return ea;},equals:function aa(Y){return this === Y?!0:Y instanceof fd?aa.base.call(this,this,Y) && this.identity == Y.identity:!1;}});Me=function(Y){var aa;aa=Y.identity;if(!aa)throw new wb(V.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(Y));return new fd(aa);};})();Gf=zd.extend({init:function ea(){ea.base.call(this,Mb.NONE);},createData:function(ea,Y){return Me(Y);},getCryptoContext:function(ea,Y){if(!(Y instanceof fd))throw new ub("Incorrect authentication data type " + JSON.stringify(Y) + ".");return new $c();}});Lf=zb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ea,Y){if(!(Y instanceof vd))throw new ub("Incorrect key data type " + Y + ".");this.rsaKeys[ea]=Y;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ea){delete this.rsaKeys[ea];},getPublicKey:function(ea){return this.rsaKeys[ea];}});ce=zb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ea,Y,aa){}});Bd=zb.Class.create({abort:function(){},close:function(ea,Y){},write:function(ea,Y,aa,fa,ca){},flush:function(ea,Y){}});Mf=zb.Class.create({init:function(ea){Object.defineProperties(this,{_data:{value:ea,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Ub("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ea,Y,aa){Za(aa,function(){var fa;if(this._closed)throw new Ub("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ea && (ea=this._data.length - this._currentPosition);fa=this._data.subarray(this._currentPosition,this._currentPosition + ea);this._currentPosition+=fa.length;return fa;},this);}});Nf=zb.Class.create({init:function(){var ea;ea={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ea);},abort:function(){},close:function(ea,Y){this._closed=!0;Y.result(!0);},write:function(ea,Y,aa,fa,ca){Za(ca,function(){var T;if(this._closed)throw new Ub("Stream is already closed.");if(0 > Y)throw new RangeError("Offset cannot be negative.");if(0 > aa)throw new RangeError("Length cannot be negative.");if(Y + aa > ea.length)throw new RangeError("Offset plus length cannot be greater than the array length.");T=ea.subarray(Y,aa);this._buffered.push(T);return T.length;},this);},flush:function(ea,Y){var aa;for(;0 < this._buffered.length;){if((ea=this._buffered.shift(),this._result)){aa=new Uint8Array(this._result.length + ea.length);aa.set(this._result);aa.set(ea,this._result.length);this._result=aa;}else this._result=new Uint8Array(ea);}Y.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Of=zb.Class.create({getResponse:function(ea,Y,aa){}});(function(){var ea,Y;ea=Bd.extend({init:function(aa,fa){aa={_httpLocation:{value:aa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:fa,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Nf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:yb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:yb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new gd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);},setTimeout:function(aa){this._timeout=aa;},getResponse:function(aa,fa){var ca;ca=this;this._responseQueue.poll(aa,{result:function(T){Za(fa,function(){T && this._responseQueue.add(T);return T;},ca);},timeout:function(){Za(fa,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();fa.timeout();},ca);},error:function(T){Za(fa,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw T;},ca);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(aa,fa){var ca;ca=this;Za(fa,function(){var T;if(this._response)return !0;T=this._buffer.toByteArray();0 < T.length && (this._abortToken=this._httpLocation.getResponse({body:T},this._timeout,{result:function(X){ca._response={response:X};ca._responseQueue.add(ca._response);},timeout:function(){ca._response={isTimeout:!0};ca._responseQueue.add(ca._response);},error:function(X){ca._response={isError:!0,error:X};ca._responseQueue.add(ca._response);}}));return !0;},this);},write:function(aa,fa,ca,T,X){Za(X,function(){if(this._response)throw new Ub("HttpOutputStream already closed.");this._buffer.write(aa,fa,ca,T,X);},this);},flush:function(aa,fa){Za(fa,function(){if(this._response)return !0;this._buffer.flush(aa,fa);},this);}});Y=ce.extend({init:function(aa){Object.defineProperties(this,{_out:{value:aa,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:yb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:yb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:yb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(aa,fa,ca){var X;function T(pa){Za(ca,function(){if(!pa)return new Uint8Array(0);this._out.getResponse(fa,{result:function(na){Za(ca,function(){var qa;if(na.isTimeout)(this._timedout=!0,ca.timeout());else {if(na.isError)throw (this._exception=na.error || new Ub("Unknown HTTP exception."),this._exception);if(!na.response)throw (this._exception=new Ub("Missing HTTP response."),this._exception);na.response.json !== yb && (this._json=na.response.json,this.getJSON=function(){return X._json;});qa=na.response.content || Md("string" === typeof na.response.body?na.response.body:JSON.stringify(this._json));this._buffer=new Mf(qa);this._buffer.read(aa,fa,ca);}},X);},timeout:function(){ca.timeout();},error:function(na){ca.error(na);}});},X);}X=this;Za(ca,function(){if(this._exception)throw this._exception;if(this._timedout)ca.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(aa,fa,ca):this._out.close(fa,{result:function(pa){T(pa);},timeout:function(){ca.timeout();},error:function(pa){ca.error(pa);}});}},X);}});xe=zb.Class.create({init:function(aa,fa){Object.defineProperties(this,{_httpLocation:{value:aa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:fa,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(aa){this._timeout=aa;},openConnection:function(){var aa;aa=new ea(this._httpLocation,this._timeout);return {input:new Y(aa),output:aa};}});})();(function(){var ea,Y;ea=Bd.extend({init:function(){var aa;aa={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);},setTimeout:function(){},getResponse:function(aa,fa){fa.result({success:!1,content:null,errorHttpCode:yb,errorSubCode:yb});},abort:function(){},close:function(aa,fa){fa.result(!0);},write:function(aa,fa,ca,T,X){var pa,na;try{if(0 > fa)throw new RangeError("Offset cannot be negative.");if(0 > ca)throw new RangeError("Length cannot be negative.");if(fa + ca > aa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");pa=aa.subarray(fa,ca);na=new Uint8Array(this._buffer.length + pa.length);na.set(this._buffer);na.set(pa,this._buffer.length);this._buffer=na;X.result(pa.length);}catch(qa){X.error(qa);}},flush:function(aa,fa){fa.result(!0);},request:function(){return this._buffer;}});Y=ce.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(aa,fa,ca){ca.result(new Uint8Array(16));}});ye=zb.Class.create({init:function(){var aa;aa={output:{value:new ea(),writable:!1,enumerable:!1,configurable:!1},input:{value:new Y(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ld(this.output.request());}});})();Ne=function(ea,Y,aa){(function(fa,ca,T){fa.read(-1,ca,{result:function(X){X && X.length?T(null,X):T(null,null);},timeout:function(){aa.timeout();},error:function(X){T(X,null);}});})(ea,Y,function(fa,ca){var T,X;if(fa)aa.error(fa);else if(ca){if(ea.getJSON !== yb && "function" === typeof ea.getJSON)aa.result(ea.getJSON());else {fa=aa.result;ca=new Pf(Rb(ca,"utf-8"));T=[];for(X=ca.nextValue();X !== yb;){T.push(X);X=ca.nextValue();}fa.call(aa,T);}}else aa.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){hd=zb.Class.create({init:function(ea){Object.defineProperties(this,{keyExchangeScheme:{value:ea,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ea;ea={};ea.scheme=this.keyExchangeScheme;ea.keydata=this.getKeydata();return ea;},equals:function(ea){return this === ea?!0:ea instanceof hd?this.keyExchangeScheme == ea.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Oe=function(ea,Y,aa){Ia(aa,function(){var fa,ca,T;fa=Y.scheme;ca=Y.keydata;if(!fa || !ca || "object" !== typeof ca)throw new wb(V.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(Y));if(!kc[fa])throw new Nb(V.UNIDENTIFIED_KEYX_SCHEME,fa);T=ea.getKeyExchangeFactory(fa);if(!T)throw new Nb(V.KEYX_FACTORY_NOT_FOUND,fa);T.createRequestData(ea,ca,aa);});};})();(function(){id=zb.Class.create({init:function(ea,Y){Object.defineProperties(this,{masterToken:{value:ea,writable:!1,configurable:!1},keyExchangeScheme:{value:Y,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ea;ea={};ea.mastertoken=this.masterToken;ea.scheme=this.keyExchangeScheme;ea.keydata=this.getKeydata();return ea;},equals:function(ea){return this === ea?!0:ea instanceof id?this.masterToken.equals(ea.masterToken) && this.keyExchangeScheme == ea.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Pe=function(ea,Y,aa){Ia(aa,function(){var fa,ca,T;fa=Y.mastertoken;ca=Y.scheme;T=Y.keydata;if(!ca || !fa || "object" !== typeof fa || !T || "object" !== typeof T)throw new wb(V.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(Y));if(!kc[ca])throw new Nb(V.UNIDENTIFIED_KEYX_SCHEME,ca);Rc(ea,fa,{result:function(X){Ia(aa,function(){var pa;pa=ea.getKeyExchangeFactory(ca);if(!pa)throw new Nb(V.KEYX_FACTORY_NOT_FOUND,ca);return pa.createResponseData(ea,X,T);});},error:function(X){aa.error(X);}});});};})();(function(){var ea;ea=zb.Class.create({init:function(Y,aa){Object.defineProperties(this,{keyResponseData:{value:Y,writable:!1,configurable:!1},cryptoContext:{value:aa,writable:!1,configurable:!1}});}});oc=zb.Class.create({init:function(Y){Object.defineProperties(this,{scheme:{value:Y,writable:!1,configurable:!1}});},createRequestData:function(Y,aa,fa){},createResponseData:function(Y,aa,fa){},generateResponse:function(Y,aa,fa,ca){},getCryptoContext:function(Y,aa,fa,ca,T){},generateSessionKeys:function(Y,aa){Ia(aa,function(){var fa,ca;fa=new Uint8Array(16);ca=new Uint8Array(32);Y.getRandom().nextBytes(fa);Y.getRandom().nextBytes(ca);vc(fa,pc,Fc,{result:function(T){vc(ca,qc,Qc,{result:function(X){aa.result({encryptionKey:T,hmacKey:X});},error:function(X){aa.error(new sb(V.SESSION_KEY_CREATION_FAILURE,null,X));}});},error:function(T){aa.error(new sb(V.SESSION_KEY_CREATION_FAILURE,null,T));}});});},importSessionKeys:function(Y,aa,fa){vc(Y,pc,Fc,{result:function(ca){vc(aa,qc,Qc,{result:function(T){fa.result({encryptionKey:ca,hmacKey:T});},error:function(T){fa.error(T);}});},error:function(ca){fa.error(ca);}});}});oc.KeyExchangeData=ea;})();(function(){var Y,aa,fa;function ea(ca,T,X,pa,na){Ia(na,function(){var qa,Ba;switch(T){case Y.PSK:(qa=new rc(pa),Ba=ca.getEntityAuthenticationFactory(Mb.PSK));if(!Ba)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,T);qa=Ba.getCryptoContext(ca,qa);return new xc(ca,yc.A128KW,sc,yb);case Y.MGK:qa=new nc(pa);Ba=ca.getEntityAuthenticationFactory(Mb.MGK);if(!Ba)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,T);qa=Ba.getCryptoContext(ca,qa);return new xc(ca,yc.A128KW,sc,yb);case Y.WRAP:qa=ca.getMslCryptoContext();qa.unwrap(X,uc,Gc,{result:function(sa){Ia(na,function(){return new xc(ca,yc.A128KW,sc,sa);});},error:na.error});break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,T);}});}Y={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};aa=de=hd.extend({init:function pa(T,X){pa.base.call(this,kc.JWE_LADDER);switch(T){case Y.WRAP:if(!X)throw new ub("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:X=null;}Object.defineProperties(this,{mechanism:{value:T,writable:!1,configurable:!1},wrapdata:{value:X,writable:!1,configurable:!1}});},getKeydata:function(){var T;T={};T.mechanism=this.mechanism;this.wrapdata && (T.wrapdata=Ab(this.wrapdata));return T;},equals:function pa(X){return X === this?!0:X instanceof de?pa.base.call(this,X) && this.mechanism == X.mechanism && Xb(this.wrapdata,X.wrapdata):!1;},uniqueKey:function pa(){var na;na=pa.base.call(this) + ":" + this.mechanism;this.wrapdata && (na+=":" + ec(this.wrapdata));return na;}});fa=Re=id.extend({init:function W(na,qa,Ba,sa,oa){W.base.call(this,na,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.wrapkey=Ab(this.wrapKey);na.wrapdata=Ab(this.wrapdata);na.encryptionkey=Ab(this.encryptionKey);na.hmackey=Ab(this.hmacKey);return na;},equals:function Ba(qa){return this === qa?!0:qa instanceof Re?Ba.base.call(this,qa) && Xb(this.wrapKey,qa.wrapKey) && Xb(this.wrapdata,qa.wrapdata) && Xb(this.encryptionKey,qa.encryptionKey) && Xb(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function Ba(){return Ba.base.call(this) + ":" + ec(this.wrapKey) + ":" + ec(this.wrapdata) + ":" + ec(this.encryptionKey) + ":" + ec(this.hmacKey);}});Qe=oc.extend({init:function oa(sa){oa.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(sa,oa,W){Ia(W,function(){var Z,ba,ja;Z=oa.mechanism;ba=oa.wrapdata;if(!Z || Z == Y.WRAP && (!ba || "string" !== typeof ba))throw new wb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!Y[Z])throw new Nb(V.UNIDENTIFIED_KEYX_MECHANISM,Z);switch(Z){case Y.WRAP:try{ja=Db(ba);}catch(Fa){throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == ja || 0 == ja.length)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:ja=null;}return new aa(Z,ja);});},createResponseData:function(sa,oa,W){var Z,ba,ja,Fa,Da,Ma,Oa;sa=W.wrapkey;Z=W.wrapdata;ba=W.encryptionkey;ja=W.hmackey;if(!(sa && "string" === typeof sa && Z && "string" === typeof Z && ba && "string" === typeof ba && ja) || "string" !== typeof ja)throw new wb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));try{Fa=Db(sa);Da=Db(Z);}catch(ia){throw new sb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(W),ia);}try{Ma=Db(ba);}catch(ia){throw new sb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(W),ia);}try{Oa=Db(ja);}catch(ia){throw new sb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(W),ia);}return new fa(oa,Fa,Da,Ma,Oa);},generateResponse:function(sa,oa,W,Z){var Ma,Oa;function ba(ia,ua,xa){Ma.generateSessionKeys(sa,{result:function(Ga){Ia(Z,function(){ja(ia,ua,xa,Ga.encryptionKey,Ga.hmacKey);},Ma);},error:function(Ga){Ia(Z,function(){Ga instanceof Ya && Ga.setEntity(Oa);throw Ga;});}});}function ja(ia,ua,xa,Ga,Aa){Ia(Z,function(){ea(sa,oa.mechanism,oa.wrapdata,ia,{result:function(La){La.wrap(ua,{result:function(Ca){Fa(ua,xa,Ga,Aa,Ca);},error:function(Ca){Ia(Z,function(){Ca instanceof Ya && Ca.setEntity(Oa);throw Ca;});}});},error:function(La){Ia(Z,function(){La instanceof Ya && La.setEntity(Oa);throw La;});}});},Ma);}function Fa(ia,ua,xa,Ga,Aa){Ia(Z,function(){var La;La=new xc(sa,yc.A128KW,sc,ia);La.wrap(xa,{result:function(Ca){La.wrap(Ga,{result:function(Ta){Da(ua,Aa,xa,Ca,Ga,Ta);},error:function(Ta){Ia(Z,function(){Ta instanceof Ya && Ta.setEntity(Oa);throw Ta;});}});},error:function(Ca){Ia(Z,function(){Ca instanceof Ya && Ca.setEntity(Oa);throw Ca;});}});},Ma);}function Da(ia,ua,xa,Ga,Aa,La){Ia(Z,function(){var Ca;Ca=sa.getTokenFactory();Oa?Ca.renewMasterToken(sa,Oa,xa,Aa,{result:function(Ta){Ia(Z,function(){var Va,Ua;Va=new gc(sa,Ta);Ua=new fa(Ta,ua,ia,Ga,La);return new oc.KeyExchangeData(Ua,Va,Z);},Ma);},error:function(Ta){Ia(Z,function(){Ta instanceof Ya && Ta.setEntity(Oa);throw Ta;});}}):Ca.createMasterToken(sa,W,xa,Aa,{result:function(Ta){Ia(Z,function(){var Va,Ua;Va=new gc(sa,Ta);Ua=new fa(Ta,ua,ia,Ga,La);return new oc.KeyExchangeData(Ua,Va,Z);},Ma);},error:Z.error});},Ma);}Ma=this;Ia(Z,function(){var ia,ua;if(!(oa instanceof aa))throw new ub("Key request data " + JSON.stringify(oa) + " was not created by this factory.");ia=W;if(W instanceof fc){if(!W.isVerified())throw new Pc(V.MASTERTOKEN_UNTRUSTED,W);Oa=W;ia=W.identity;}ua=new Uint8Array(16);sa.getRandom().nextBytes(ua);vc(ua,uc,Gc,{result:function(xa){Ia(Z,function(){sa.getMslCryptoContext().wrap(xa,{result:function(Ga){ba(ia,xa,Ga);},error:function(Ga){Ia(Z,function(){Ga instanceof Ya && Ga.setEntity(Oa);throw Ga;},Ma);}});},Ma);},error:function(xa){Ia(Z,function(){throw new sb(V.WRAP_KEY_CREATION_FAILURE,null,xa).setEntity(Oa);},Ma);}});},Ma);},getCryptoContext:function(sa,oa,W,Z,ba){var Fa;function ja(Da,Ma,Oa,ia,ua){Ia(ba,function(){var xa;xa=new xc(sa,yc.A128KW,sc,ua);xa.unwrap(Ma.encryptionKey,pc,Fc,{result:function(Ga){xa.unwrap(Ma.hmacKey,qc,Qc,{result:function(Aa){Ia(ba,function(){this.repository.addCryptoContext(Ma.wrapdata,xa);this.repository.removeCryptoContext(Oa);return new gc(sa,Ma.masterToken,ia,Ga,Aa);},Fa);},error:function(Aa){Ia(ba,function(){Aa instanceof Ya && Aa.setEntity(Da);throw Aa;});}});},error:function(Ga){Ia(ba,function(){Ga instanceof Ya && Ga.setEntity(Da);throw Ga;});}});},Fa);}Fa=this;Ia(ba,function(){var Da,Ma;if(!(oa instanceof aa))throw new ub("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(W instanceof fa))throw new ub("Key response data " + JSON.stringify(W) + " was not created by this factory.");Da=oa.mechanism;Ma=oa.wrapdata;sa.getEntityAuthenticationData(null,{result:function(Oa){Ia(ba,function(){var ia,ua,xa;ia=Oa.getIdentity();switch(Da){case Y.PSK:ua=new rc(ia);xa=sa.getEntityAuthenticationFactory(Mb.PSK);if(!xa)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Da).setEntity(Oa);ua=xa.getCryptoContext(sa,ua);ua=new xc(sa,yc.A128KW,sc,yb);break;case Y.MGK:ua=new nc(ia);xa=sa.getEntityAuthenticationFactory(Mb.MGK);if(!xa)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Da).setEntity(Oa);ua=xa.getCryptoContext(sa,ua);ua=new xc(sa,yc.A128KW,sc,ua.wrapKey);break;case Y.WRAP:ua=this.repository.getCryptoContext(Ma);if(!ua)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,Ab(Ma)).setEntity(Oa);break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Da).setEntity(Oa);}ua.unwrap(W.wrapKey,uc,Gc,{result:function(Ga){ja(Oa,W,Ma,ia,Ga);},error:function(Ga){Ia(ba,function(){Ga instanceof Ya && Ga.setEntity(Oa);throw Ga;});}});},Fa);},error:ba.error});},Fa);}});})();(function(){var Y,aa,fa,ca;function ea(T,X,pa,na,qa){Ia(qa,function(){var Ba,sa;switch(X){case Y.PSK:(Ba=new rc(na),sa=T.getEntityAuthenticationFactory(Mb.PSK));if(!sa)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,X);Ba=sa.getCryptoContext(T,Ba);return new ca(yb);case Y.MGK:Ba=new nc(na);sa=T.getEntityAuthenticationFactory(Mb.MGK);if(!sa)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,X);Ba=sa.getCryptoContext(T,Ba);return new ca(yb);case Y.WRAP:Ba=T.getMslCryptoContext();Ba.unwrap(pa,uc,Gc,{result:function(oa){Ia(qa,function(){return new ca(oa);});},error:qa.error});break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,X);}});}Y={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};aa=Cd=hd.extend({init:function na(X,pa){na.base.call(this,kc.JWK_LADDER);switch(X){case Y.WRAP:if(!pa)throw new ub("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:pa=null;}Object.defineProperties(this,{mechanism:{value:X,writable:!1,configurable:!1},wrapdata:{value:pa,writable:!1,configurable:!1}});},getKeydata:function(){var X;X={};X.mechanism=this.mechanism;this.wrapdata && (X.wrapdata=Ab(this.wrapdata));return X;},equals:function na(pa){return pa === this?!0:pa instanceof Cd?na.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.wrapdata,pa.wrapdata):!1;},uniqueKey:function na(){var qa;qa=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (qa+=":" + ec(this.wrapdata));return qa;}});fa=Se=id.extend({init:function Z(qa,Ba,sa,oa,W){Z.base.call(this,qa,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ba,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:W,writable:!1,configurable:!1}});},getKeydata:function(){var qa;qa={};qa.wrapkey=Ab(this.wrapKey);qa.wrapdata=Ab(this.wrapdata);qa.encryptionkey=Ab(this.encryptionKey);qa.hmackey=Ab(this.hmacKey);return qa;},equals:function sa(Ba){return this === Ba?!0:Ba instanceof Se?sa.base.call(this,Ba) && Xb(this.wrapKey,Ba.wrapKey) && Xb(this.wrapdata,Ba.wrapdata) && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + ec(this.wrapKey) + ":" + ec(this.wrapdata) + ":" + ec(this.encryptionKey) + ":" + ec(this.hmacKey);}});ca=Zc.extend({init:function(sa){sa && sa.rawKey && (sa=sa.rawKey);Object.defineProperties(this,{_wrapKey:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(sa,oa){oa.error(new sb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(sa,oa){oa.error(new sb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(sa,oa){Ia(oa,function(){Hb.wrapKey("jwk",sa.rawKey,this._wrapKey,uc).then(function(W){oa.result(W);},function(W){oa.error(new sb(V.WRAP_ERROR));});},this);},unwrap:function(sa,oa,W,Z){function ba(ja){Ia(Z,function(){switch(ja.type){case "secret":Wc(ja,Z);break;case "public":Mc(ja,Z);break;case "private":Xc(ja,Z);break;default:throw new sb(V.UNSUPPORTED_KEY,"type: " + ja.type);}});}Ia(Z,function(){Hb.unwrapKey("jwk",sa,this._wrapKey,uc,oa,!1,W).then(function(ja){ba(ja);},function(ja){Z.error(new sb(V.UNWRAP_ERROR));});},this);},sign:function(sa,oa){oa.error(new sb(V.SIGN_NOT_SUPPORTED));},verify:function(sa,oa,W){W.error(new sb(V.VERIFY_NOT_SUPPORTED));}});ee=oc.extend({init:function W(oa){W.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,W,Z){Ia(Z,function(){var ba,ja,Fa;ba=W.mechanism;ja=W.wrapdata;if(!ba || ba == Y.WRAP && (!ja || "string" !== typeof ja))throw new wb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));if(!Y[ba])throw new Nb(V.UNIDENTIFIED_KEYX_MECHANISM,ba);switch(ba){case Y.WRAP:try{Fa=Db(ja);}catch(Da){throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());}if(null == Fa || 0 == Fa.length)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());break;default:Fa=null;}return new aa(ba,Fa);});},createResponseData:function(oa,W,Z){var ba,ja,Fa,Da,Ma,Oa,ia;oa=Z.wrapkey;ba=Z.wrapdata;ja=Z.encryptionkey;Fa=Z.hmackey;if(!(oa && "string" === typeof oa && ba && "string" === typeof ba && ja && "string" === typeof ja && Fa) || "string" !== typeof Fa)throw new wb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));try{Da=Db(oa);Ma=Db(ba);}catch(ua){throw new sb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Z),ua);}try{Oa=Db(ja);}catch(ua){throw new sb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Z),ua);}try{ia=Db(Fa);}catch(ua){throw new sb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Z),ua);}return new fa(W,Da,Ma,Oa,ia);},generateResponse:function(oa,W,Z,ba){var Oa,ia;function ja(ua,xa,Ga){Oa.generateSessionKeys(oa,{result:function(Aa){Ia(ba,function(){Fa(ua,xa,Ga,Aa.encryptionKey,Aa.hmacKey);},Oa);},error:function(Aa){Ia(ba,function(){Aa instanceof Ya && Aa.setEntity(ia);throw Aa;});}});}function Fa(ua,xa,Ga,Aa,La){Ia(ba,function(){ea(oa,W.mechanism,W.wrapdata,ua,{result:function(Ca){Ca.wrap(xa,{result:function(Ta){Da(xa,Ga,Aa,La,Ta);},error:function(Ta){Ia(ba,function(){Ta instanceof Ya && Ta.setEntity(ia);throw Ta;});}});},error:function(Ca){Ia(ba,function(){Ca instanceof Ya && Ca.setEntity(ia);throw Ca;});}});},Oa);}function Da(ua,xa,Ga,Aa,La){Ia(ba,function(){var Ca;Ca=new ca(ua);Ca.wrap(Ga,{result:function(Ta){Ca.wrap(Aa,{result:function(Va){Ma(xa,La,Ga,Ta,Aa,Va);},error:function(Va){Ia(ba,function(){Va instanceof Ya && Va.setEntity(ia);throw Va;});}});},error:function(Ta){Ia(ba,function(){Ta instanceof Ya && Ta.setEntity(ia);throw Ta;});}});},Oa);}function Ma(ua,xa,Ga,Aa,La,Ca){Ia(ba,function(){var Ta;Ta=oa.getTokenFactory();ia?Ta.renewMasterToken(oa,ia,Ga,La,{result:function(Va){Ia(ba,function(){var Ua,fb;Ua=new gc(oa,Va);fb=new fa(Va,xa,ua,Aa,Ca);return new oc.KeyExchangeData(fb,Ua,ba);},Oa);},error:function(Va){Ia(ba,function(){Va instanceof Ya && Va.setEntity(ia);throw Va;});}}):Ta.createMasterToken(oa,Z,Ga,La,{result:function(Va){Ia(ba,function(){var Ua,fb;Ua=new gc(oa,Va);fb=new fa(Va,xa,ua,Aa,Ca);return new oc.KeyExchangeData(fb,Ua,ba);},Oa);},error:ba.error});},Oa);}Oa=this;Ia(ba,function(){var ua,xa;if(!(W instanceof aa))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");ua=Z;if(Z instanceof fc){if(!Z.isVerified())throw new Pc(V.MASTERTOKEN_UNTRUSTED,Z);ia=Z;ua=Z.identity;}xa=new Uint8Array(16);oa.getRandom().nextBytes(xa);vc(xa,uc,Gc,{result:function(Ga){Ia(ba,function(){oa.getMslCryptoContext().wrap(Ga,{result:function(Aa){ja(ua,Ga,Aa);},error:function(Aa){Ia(ba,function(){Aa instanceof Ya && Aa.setEntity(ia);throw Aa;},Oa);}});},Oa);},error:function(Ga){Ia(ba,function(){throw new sb(V.WRAP_KEY_CREATION_FAILURE,null,Ga).setEntity(ia);},Oa);}});},Oa);},getCryptoContext:function(oa,W,Z,ba,ja){var Da;function Fa(Ma,Oa,ia,ua,xa){Ia(ja,function(){var Ga;Ga=new ca(xa);Ga.unwrap(Oa.encryptionKey,pc,Fc,{result:function(Aa){Ga.unwrap(Oa.hmacKey,qc,Qc,{result:function(La){Ia(ja,function(){this.repository.addCryptoContext(Oa.wrapdata,Ga);this.repository.removeCryptoContext(ia);return new gc(oa,Oa.masterToken,ua,Aa,La);},Da);},error:function(La){Ia(ja,function(){La instanceof Ya && La.setEntity(Ma);throw La;});}});},error:function(Aa){Ia(ja,function(){Aa instanceof Ya && Aa.setEntity(Ma);throw Aa;});}});},Da);}Da=this;Ia(ja,function(){var Ma,Oa;if(!(W instanceof aa))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(Z instanceof fa))throw new ub("Key response data " + JSON.stringify(Z) + " was not created by this factory.");Ma=W.mechanism;Oa=W.wrapdata;oa.getEntityAuthenticationData(null,{result:function(ia){Ia(ja,function(){var ua,xa,Ga;ua=ia.getIdentity();switch(Ma){case Y.PSK:xa=new rc(ua);Ga=oa.getEntityAuthenticationFactory(Mb.PSK);if(!Ga)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(ia);xa=Ga.getCryptoContext(oa,xa);xa=new ca(xa.wrapKey);break;case Y.MGK:xa=new nc(ua);Ga=oa.getEntityAuthenticationFactory(Mb.MGK);if(!Ga)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(ia);xa=Ga.getCryptoContext(oa,xa);xa=new ca(xa.wrapKey);break;case Y.WRAP:xa=this.repository.getCryptoContext(Oa);if(!xa)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,Ab(Oa)).setEntity(ia);break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(ia);}xa.unwrap(Z.wrapKey,uc,Gc,{result:function(Aa){Fa(ia,Z,Oa,ua,Aa);},error:function(Aa){Ia(ja,function(){Aa instanceof Ya && Aa.setEntity(ia);throw Aa;});}});},Da);},error:ja.error});},Da);}});})();Qf=zb.Class.create({addCryptoContext:function(ea,Y){},getCryptoContext:function(ea){},removeCryptoContext:function(ea){}});(function(){var Y,aa,fa,ca;function ea(T,X,pa,na,qa){switch(pa){case Y.JWE_RSA:case Y.JWEJS_RSA:return new xc(T,yc.RSA_OAEP,sc,na,qa);case Y.JWK_RSA:return new wd(T,X,na,qa,xd.WRAP_UNWRAP_OAEP);case Y.JWK_RSAES:return new wd(T,X,na,qa,xd.WRAP_UNWRAP_PKCS1);default:throw new sb(V.UNSUPPORTED_KEYX_MECHANISM,pa);}}Y=Dd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};aa=Qd=hd.extend({init:function Ba(X,pa,na,qa){Ba.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:X,writable:!1,configurable:!1},mechanism:{value:pa,writable:!1,configurable:!1},publicKey:{value:na,writable:!1,configurable:!1},privateKey:{value:qa,writable:!1,configurable:!1}});},getKeydata:function(){var X;X={};X.keypairid=this.keyPairId;X.mechanism=this.mechanism;X.publickey=Ab(this.publicKey.getEncoded());return X;},equals:function na(pa){var qa;if(pa === this)return !0;if(!(pa instanceof Qd))return !1;qa=this.privateKey === pa.privateKey || this.privateKey && pa.privateKey && Xb(this.privateKey.getEncoded(),pa.privateKey.getEncoded());return na.base.call(this,pa) && this.keyPairId == pa.keyPairId && this.mechanism == pa.mechanism && Xb(this.publicKey.getEncoded(),pa.publicKey.getEncoded()) && qa;},uniqueKey:function na(){var qa,Ba;qa=this.publicKey.getEncoded();Ba=this.privateKey && this.privateKey.getEncoded();qa=na.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + ec(qa);Ba && (qa+=":" + ec(Ba));return qa;}});fa=function(na,qa){Ia(qa,function(){var Ba,sa,oa,W;Ba=na.keypairid;sa=na.mechanism;oa=na.publickey;if(!Ba || "string" !== typeof Ba || !sa || !oa || "string" !== typeof oa)throw new wb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(na));if(!Y[sa])throw new Nb(V.UNIDENTIFIED_KEYX_MECHANISM,sa);try{W=Db(oa);switch(sa){case Y.JWE_RSA:case Y.JWEJS_RSA:case Y.JWK_RSA:Vd(W,ud,Gc,{result:function(Z){qa.result(new aa(Ba,sa,Z,null));},error:function(Z){qa.error(Z);}});break;case Y.JWK_RSAES:Vd(W,Td,Gc,{result:function(Z){qa.result(new aa(Ba,sa,Z,null));},error:function(Z){qa.error(Z);}});break;default:throw new sb(V.UNSUPPORTED_KEYX_MECHANISM,sa);}}catch(Z){if(!(Z instanceof Ya))throw new sb(V.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(na),Z);throw Z;}});};ca=Te=id.extend({init:function W(qa,Ba,sa,oa){W.base.call(this,qa,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var qa;qa={};qa.keypairid=this.keyPairId;qa.encryptionkey=Ab(this.encryptionKey);qa.hmackey=Ab(this.hmacKey);return qa;},equals:function sa(Ba){return this === Ba?!0:Ba instanceof Te?sa.base.call(this,Ba) && this.keyPairId == Ba.keyPairId && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + this.keyPairId + ":" + ec(this.encryptionKey) + ":" + ec(this.hmacKey);}});ze=oc.extend({init:function oa(){oa.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,W,Z){fa(W,Z);},createResponseData:function(oa,W,Z){var ba,ja,Fa,Da;oa=Z.keypairid;ba=Z.encryptionkey;ja=Z.hmackey;if(!oa || "string" !== typeof oa || !ba || "string" !== typeof ba || !ja || "string" !== typeof ja)throw new wb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));try{Fa=Db(ba);}catch(Ma){throw new sb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Z),Ma);}try{Da=Db(ja);}catch(Ma){throw new sb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Z),Ma);}return new ca(W,oa,Fa,Da);},generateResponse:function(oa,W,Z,ba){var Da;function ja(Ma,Oa){Ia(ba,function(){var ia;ia=ea(oa,W.keyPairId,W.mechanism,null,W.publicKey);ia.wrap(Ma,{result:function(ua){Ia(ba,function(){ia.wrap(Oa,{result:function(xa){Fa(Ma,ua,Oa,xa);},error:function(xa){Ia(ba,function(){xa instanceof Ya && Z instanceof fc && xa.setEntity(Z);throw xa;},Da);}});},Da);},error:function(ua){Ia(ba,function(){ua instanceof Ya && Z instanceof fc && ua.setEntity(Z);throw ua;},Da);}});},Da);}function Fa(Ma,Oa,ia,ua){Ia(ba,function(){var xa;xa=oa.getTokenFactory();Z instanceof fc?xa.renewMasterToken(oa,Z,Ma,ia,{result:function(Ga){Ia(ba,function(){var Aa,La;Aa=new gc(oa,Ga);La=new ca(Ga,W.keyPairId,Oa,ua);return new oc.KeyExchangeData(La,Aa,ba);},Da);},error:function(Ga){Ia(ba,function(){Ga instanceof Ya && Ga.setEntity(Z);throw Ga;},Da);}}):xa.createMasterToken(oa,Z,Ma,ia,{result:function(Ga){Ia(ba,function(){var Aa,La;Aa=new gc(oa,Ga);La=new ca(Ga,W.keyPairId,Oa,ua);return new oc.KeyExchangeData(La,Aa,ba);},Da);},error:ba.error});},Da);}Da=this;Ia(ba,function(){if(!(W instanceof aa))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Ma){ja(Ma.encryptionKey,Ma.hmacKey);},error:function(Ma){Ia(ba,function(){Ma instanceof Ya && Z instanceof fc && Ma.setEntity(Z);throw Ma;},Da);}});},Da);},getCryptoContext:function(oa,W,Z,ba,ja){var Fa;Fa=this;Ia(ja,function(){var Da,Ma,Oa;if(!(W instanceof aa))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(Z instanceof ca))throw new ub("Key response data " + JSON.stringify(Z) + " was not created by this factory.");Da=W.keyPairId;Ma=Z.keyPairId;if(Da != Ma)throw new Nb(V.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Da + "; response " + Ma).setEntity(ba);Ma=W.privateKey;if(!Ma)throw new Nb(V.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ba);Oa=ea(oa,Da,W.mechanism,Ma,null);Oa.unwrap(Z.encryptionKey,pc,Fc,{result:function(ia){Oa.unwrap(Z.hmacKey,qc,Qc,{result:function(ua){oa.getEntityAuthenticationData(null,{result:function(xa){Ia(ja,function(){var Ga;Ga=xa.getIdentity();return new gc(oa,Z.masterToken,Ga,ia,ua);},Fa);},error:function(xa){Ia(ja,function(){xa instanceof Ya && xa.setEntity(ba);throw xa;},Fa);}});},error:function(ua){Ia(ja,function(){ua instanceof Ya && ua.setEntity(ba);throw ua;},Fa);}});},error:function(ia){Ia(ja,function(){ia instanceof Ya && ia.setEntity(ba);throw ia;},Fa);}});},Fa);}});})();Pf=zb.Class.create({init:function(ea){var Y,aa,fa,ca,T,X,pa,na;Y=Yb.parser();aa=[];fa=[];pa=0;na=!1;Y.onerror=function(qa){na || (na=!0,Y.end());};Y.onopenobject=function(qa){var Ba;if(ca)(ca[X]={},fa.push(ca),ca=ca[X]);else if(T){Ba={};fa.push(T);T.push(Ba);ca=Ba;T=yb;}else ca={};X=qa;};Y.oncloseobject=function(){var qa;qa=fa.pop();qa?"object" === typeof qa?ca=qa:(ca=yb,T=qa):(aa.push(ca),pa=Y.index,ca=yb);};Y.onopenarray=function(){var qa;if(ca)(ca[X]=[],fa.push(ca),T=ca[X],ca=yb);else if(T){qa=[];fa.push(T);T.push(qa);T=qa;}else T=[];};Y.onclosearray=function(){var qa;qa=fa.pop();qa?"object" === typeof qa?(ca=qa,T=yb):T=qa:(aa.push(T),pa=Y.index,T=yb);};Y.onkey=function(qa){X=qa;};Y.onvalue=function(qa){ca?ca[X]=qa:T?T.push(qa):(aa.push(qa),pa=Y.index);};Y.write(ea).close();Object.defineProperties(this,{_values:{value:aa,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:pa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?yb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ea,Y,aa,fa,ca;ea=fe="entityauthdata";Y=Ve="mastertoken";aa=We="headerdata";fa=Xe="errordata";ca=ge="signature";Ue=function(T,X,pa,na){Ia(na,function(){var qa,Ba,sa,oa,W,Z;qa=X[ea];Ba=X[Y];sa=X[ca];if(qa && "object" !== typeof qa || Ba && "object" !== typeof Ba || "string" !== typeof sa)throw new wb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(X));try{oa=Db(sa);}catch(ba){throw new Fb(V.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(X),ba);}W=null;qa && (W=Ie(T,qa));Z=X[aa];if(Z != yb && null != Z){if("string" !== typeof Z)throw new wb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(X));Ba?Rc(T,Ba,{result:function(ba){he(T,Z,W,ba,oa,pa,na);},error:function(ba){na.error(ba);}}):he(T,Z,W,null,oa,pa,na);}else if((qa=X[fa],qa != yb && null != qa)){if("string" !== typeof qa)throw new wb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(X));Ye(T,qa,W,oa,na);}else throw new wb(V.JSON_PARSE_ERROR,JSON.stringify(X));});};})();(function(){function ea(Y,aa){this.errordata=Y;this.signature=aa;}Lc=zb.Class.create({init:function(Y,aa,fa,ca,T,X,pa,na,qa,Ba){var sa;sa=this;Ia(Ba,function(){var oa,W;0 > X && (X=-1);if(0 > ca || ca > Kb)throw new ub("Message ID " + ca + " is out of range.");if(!aa)throw new Fb(V.MESSAGE_ENTITY_NOT_FOUND);if(qa)return (Object.defineProperties(this,{entityAuthenticationData:{value:aa,writable:!1,configurable:!1},recipient:{value:fa,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},errorCode:{value:T,writable:!1,configurable:!1},internalCode:{value:X,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:qa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};fa && (oa.recipient=fa);oa.messageid=ca;oa.errorcode=T;0 < X && (oa.internalcode=X);pa && (oa.errormsg=pa);na && (oa.usermsg=na);try{W=Y.getEntityAuthenticationFactory(aa.scheme).getCryptoContext(Y,aa);}catch(Z){throw (Z instanceof Ya && (Z.setEntity(aa),Z.setMessageId(ca)),Z);}oa=Qb(JSON.stringify(oa),Jb);W.encrypt(oa,{result:function(Z){Ia(Ba,function(){W.sign(Z,{result:function(ba){Ia(Ba,function(){Object.defineProperties(this,{entityAuthenticationData:{value:aa,writable:!1,configurable:!1},recipient:{value:fa,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},errorCode:{value:T,writable:!1,configurable:!1},internalCode:{value:X,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:Z,writable:!1,enumerable:!1,configurable:!1},signature:{value:ba,writable:!1,enumerable:!1,configurable:!1}});return this;},sa);},error:function(ba){Ia(Ba,function(){ba instanceof Ya && (ba.setEntity(aa),ba.setMessageId(ca));throw ba;},sa);}});},sa);},error:function(Z){Ia(Ba,function(){Z instanceof Ya && (Z.setEntity(aa),Z.setMessageId(ca));throw Z;},sa);}});},sa);},toJSON:function(){var Y;Y={};Y[fe]=this.entityAuthenticationData;Y[Xe]=Ab(this.errordata);Y[ge]=Ab(this.signature);return Y;}});Ze=function(Y,aa,fa,ca,T,X,pa,na,qa){new Lc(Y,aa,fa,ca,T,X,pa,na,null,qa);};Ye=function(Y,aa,fa,ca,T){Ia(T,function(){var X,pa,na;if(!fa)throw new Fb(V.MESSAGE_ENTITY_NOT_FOUND);try{X=fa.scheme;pa=Y.getEntityAuthenticationFactory(X);if(!pa)throw new tc(V.ENTITYAUTH_FACTORY_NOT_FOUND,X);na=pa.getCryptoContext(Y,fa);}catch(qa){throw (qa instanceof Ya && qa.setEntity(fa),qa);}try{aa=Db(aa);}catch(qa){throw new Fb(V.HEADER_DATA_INVALID,aa,qa).setEntity(fa);}if(!aa || 0 == aa.length)throw new Fb(V.HEADER_DATA_MISSING,aa).setEntity(fa);na.verify(aa,ca,{result:function(qa){Ia(T,function(){if(!qa)throw new sb(V.MESSAGE_VERIFICATION_FAILED).setEntity(fa);na.decrypt(aa,{result:function(Ba){Ia(T,function(){var sa,oa,W,Z,ba,ja,Fa,Da;sa=Rb(Ba,Jb);try{oa=JSON.parse(sa);}catch(Oa){if(Oa instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"errordata " + sa,Oa).setEntity(fa);throw Oa;}W=oa.recipient !== yb?oa.recipient:null;Z=parseInt(oa.messageid);ba=parseInt(oa.errorcode);ja=parseInt(oa.internalcode);Fa=oa.errormsg;Da=oa.usermsg;if(W && "string" !== typeof W || !Z || Z != Z || !ba || ba != ba || oa.internalcode && ja != ja || Fa && "string" !== typeof Fa || Da && "string" !== typeof Da)throw new wb(V.JSON_PARSE_ERROR,"errordata " + sa).setEntity(fa);if(0 > Z || Z > Kb)throw new Fb(V.MESSAGE_ID_OUT_OF_RANGE,"errordata " + sa).setEntity(fa);oa=!1;for(var Ma in Ha){if(Ha[Ma] == ba){oa=!0;break;}}oa || (ba=Ha.FAIL);if(ja){if(0 > ja)throw new Fb(V.INTERNAL_CODE_NEGATIVE,"errordata " + sa).setEntity(fa).setMessageId(Z);}else ja=-1;sa=new ea(aa,ca);new Lc(Y,fa,W,Z,ba,ja,Fa,Da,sa,T);});},error:function(Ba){Ia(T,function(){Ba instanceof Ya && Ba.setEntity(fa);throw Ba;});}});});},error:function(qa){Ia(T,function(){qa instanceof Ya && qa.setEntity(fa);throw qa;});}});});};})();Rf=zb.Class.create({getUserMessage:function(ea,Y){}});(function(){ie=function(ea,Y){var aa;if(!ea || !Y)return null;aa=ea.compressionAlgorithms.filter(function(fa){for(var ca=0;ca < Y.compressionAlgorithms.length;++ca){if(fa == Y.compressionAlgorithms[ca])return !0;}return !1;});ea=ea.languages.filter(function(fa){for(var ca=0;ca < Y.languages.length;++ca){if(fa == Y.languages[ca])return !0;}return !1;});return new jd(aa,ea);};jd=zb.Class.create({init:function(ea,Y){ea || (ea=[]);Y || (Y=[]);ea.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ea,writable:!1,enumerable:!0,configurable:!1},languages:{value:Y,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ea;ea={};ea.compressionalgos=this.compressionAlgorithms;ea.languages=this.languages;return ea;},equals:function(ea){return this === ea?!0:ea instanceof jd?se(this.compressionAlgorithms,ea.compressionAlgorithms) && se(this.languages,ea.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});$e=function(ea){var Y,aa,ca;Y=ea.compressionalgos;aa=ea.languages;if(Y && !(Y instanceof Array) || aa && !(aa instanceof Array))throw new wb(V.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ea));ea=[];for(var fa=0;Y && fa < Y.length;++fa){ca=Y[fa];Nc[ca] && ea.push(ca);}return new jd(ea,aa);};})();(function(){var Ba,sa;function ea(oa,W,Z,ba,ja){this.customer=oa;this.sender=W;this.messageCryptoContext=Z;this.headerdata=ba;this.signature=ja;}function Y(oa,W,Z,ba,ja,Fa,Da,Ma,Oa,ia,ua,xa,Ga,Aa,La,Ca,Ta,Va,Ua,fb){return {cryptoContext:{value:W,writable:!1,configurable:!1},customer:{value:Z,writable:!1,configurable:!1},entityAuthenticationData:{value:ba,writable:!1,configurable:!1},masterToken:{value:ja,writable:!1,configurable:!1},sender:{value:Fa,writable:!1,configurable:!1},messageId:{value:Da,writable:!1,configurable:!1},nonReplayableId:{value:Ca,writable:!1,configurable:!1},keyRequestData:{value:Ma,writable:!1,configurable:!1},keyResponseData:{value:Oa,writable:!1,configurable:!1},userAuthenticationData:{value:ia,writable:!1,configurable:!1},userIdToken:{value:ua,writable:!1,configurable:!1},serviceTokens:{value:xa,writable:!1,configurable:!1},peerMasterToken:{value:Ga,writable:!1,configurable:!1},peerUserIdToken:{value:Aa,writable:!1,configurable:!1},peerServiceTokens:{value:La,writable:!1,configurable:!1},messageCapabilities:{value:Va,writable:!1,configurable:!1},renewable:{value:Ta,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:fb,writable:!1,enumerable:!1,configurable:!1}};}function aa(oa,W,Z){var ba;if(Z){if(W=oa.getMslStore().getCryptoContext(Z))return W;if(!Z.isVerified() || !Z.isDecrypted())throw new Pc(V.MASTERTOKEN_UNTRUSTED,Z);return new gc(oa,Z);}Z=W.scheme;ba=oa.getEntityAuthenticationFactory(Z);if(!ba)throw new tc(V.ENTITYAUTH_FACTORY_NOT_FOUND,Z);return ba.getCryptoContext(oa,W);}function fa(oa,W,Z,ba,ja){Ia(ja,function(){W.verify(Z,ba,{result:function(Fa){Ia(ja,function(){if(!Fa)throw new sb(V.MESSAGE_VERIFICATION_FAILED);W.decrypt(Z,{result:function(Da){Ia(ja,function(){return Rb(Da,Jb);});},error:function(Da){ja.error(Da);}});});},error:function(Fa){ja.error(Fa);}});});}function ca(oa,W,Z){Ia(Z,function(){if(W)Pe(oa,W,Z);else return null;});}function T(oa,W,Z,ba){Ia(ba,function(){if(W)Sc(oa,W,Z,ba);else return null;});}function X(oa,W,Z,ba){Ia(ba,function(){if(Z)df(oa,W,Z,ba);else return null;});}function pa(oa,W,Z,ba,ja,Fa,Da){var Oa;function Ma(ia,ua,xa){var Ga,Aa;if(ua >= ia.length){Ga=[];for(Aa in Oa){Ga.push(Oa[Aa]);}xa.result(Ga);}else {Ga=ia[ua];if("object" !== typeof Ga)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + Fa);Ed(oa,Ga,Z,ba,ja,{result:function(La){Ia(xa,function(){Oa[La.uniqueKey()]=La;Ma(ia,ua + 1,xa);});},error:function(La){xa.error(La);}});}}Oa={};Ia(Da,function(){if(W){if(!(W instanceof Array))throw new wb(V.JSON_PARSE_ERROR,"headerdata " + Fa);Ma(W,0,Da);}else return [];});}function na(oa,W,Z,ba,ja,Fa){function Da(Oa,ia,ua){Ia(ua,function(){var xa;xa=ia.peermastertoken;if(xa && "object" !== typeof xa)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ja);if(!xa)return null;Rc(Oa,xa,ua);});}function Ma(Oa,ia,ua,xa){Ia(xa,function(){var Ga;Ga=ia.peeruseridtoken;if(Ga && "object" !== typeof Ga)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ja);if(!Ga)return null;Sc(Oa,Ga,ua,xa);});}Ia(Fa,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Da(oa,W,{result:function(Oa){Ia(Fa,function(){var ia;ia=Z?Z.masterToken:Oa;Ma(oa,W,ia,{result:function(ua){Ia(Fa,function(){pa(oa,W.peerservicetokens,ia,ua,ba,ja,{result:function(xa){Ia(Fa,function(){return {peerMasterToken:Oa,peerUserIdToken:ua,peerServiceTokens:xa};});},error:function(xa){Ia(Fa,function(){xa instanceof Ya && (xa.setEntity(ia),xa.setUser(ua));throw xa;});}});});},error:function(ua){Ia(Fa,function(){ua instanceof Ya && ua.setEntity(ia);throw ua;});}});});},error:Fa.error});});}function qa(oa,W,Z,ba){var Fa;function ja(Da,Ma){Ia(ba,function(){if(Ma >= Da.length)return Fa;Oe(oa,Da[Ma],{result:function(Oa){Ia(ba,function(){Fa.push(Oa);ja(Da,Ma + 1);});},error:function(Oa){ba.error(Oa);}});});}Fa=[];Ia(ba,function(){var Da;Da=W.keyrequestdata;if(!Da)return Fa;if(!(Da instanceof Array))throw new wb(V.JSON_PARSE_ERROR,"headerdata " + Z);ja(Da,0);});}Ba=bf=zb.Class.create({init:function(oa,W,Z,ba,ja,Fa,Da,Ma,Oa){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:W,writable:!1,configurable:!1},renewable:{value:Z,writable:!1,configurable:!1},capabilities:{value:ba,writable:!1,configurable:!1},keyRequestData:{value:ja,writable:!1,configurable:!1},keyResponseData:{value:Fa,writable:!1,configurable:!1},userAuthData:{value:Da,writable:!1,configurable:!1},userIdToken:{value:Ma,writable:!1,configurable:!1},serviceTokens:{value:Oa,writable:!1,configurable:!1}});}});sa=cf=zb.Class.create({init:function(oa,W,Z){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:W,writable:!1,configurable:!1},peerServiceTokens:{value:Z,writable:!1,configurable:!1}});}});kd=zb.Class.create({init:function(oa,W,Z,ba,ja,Fa,Da){var Oa;function Ma(ia){Ia(Da,function(){var ua,xa,Ga,Aa,La,Ca,Ta,Va,Ua,fb,jb,mb,pb,qb,xb,vb,r;W=Z?null:W;ua=ba.nonReplayableId;xa=ba.renewable;Ga=ba.capabilities;Aa=ba.messageId;La=ba.keyRequestData?ba.keyRequestData:[];Ca=ba.keyResponseData;Ta=ba.userAuthData;Va=ba.userIdToken;Ua=ba.serviceTokens?ba.serviceTokens:[];if(oa.isPeerToPeer()){fb=ja.peerMasterToken;jb=ja.peerUserIdToken;mb=ja.peerServiceTokens?ja.peerServiceTokens:[];}else (jb=fb=null,mb=[]);if(0 > Aa || Aa > Kb)throw new ub("Message ID " + Aa + " is out of range.");if(!W && !Z)throw new ub("Message entity authentication data or master token must be provided.");if(Ca){if(oa.isPeerToPeer()){pb=Z;qb=Ca.masterToken;}else (pb=Ca.masterToken,qb=fb);}else (pb=Z,qb=fb);if(Va && (!pb || !Va.isBoundTo(pb)))throw new ub("User ID token must be bound to a master token.");if(jb && (!qb || !jb.isBoundTo(qb)))throw new ub("Peer user ID token must be bound to a peer master token.");Ua.forEach(function(b){if(b.isMasterTokenBound() && (!pb || !b.isBoundTo(pb)))throw new ub("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!Va || !b.isBoundTo(Va)))throw new ub("User ID token bound service tokens must be bound to the provided user ID token.");},this);mb.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new ub("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!jb || !b.isBoundTo(jb)))throw new ub("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Fa){r=Fa.customer;xb=Fa.messageCryptoContext;vb=Y(oa,xb,r,W,Z,ia,Aa,La,Ca,Ta,Va,Ua,fb,jb,mb,ua,xa,Ga,Fa.headerdata,Fa.signature);Object.defineProperties(this,vb);return this;}r=Va?Va.customer:null;vb={};ia && (vb.sender=ia);vb.messageid=Aa;"number" === typeof ua && (vb.nonreplayableid=ua);vb.renewable=xa;Ga && (vb.capabilities=Ga);0 < La.length && (vb.keyrequestdata=La);Ca && (vb.keyresponsedata=Ca);Ta && (vb.userauthdata=Ta);Va && (vb.useridtoken=Va);0 < Ua.length && (vb.servicetokens=Ua);fb && (vb.peermastertoken=fb);jb && (vb.peeruseridtoken=jb);0 < mb.length && (vb.peerservicetokens=mb);try{xb=aa(oa,W,Z);}catch(b){throw (b instanceof Ya && (b.setEntity(Z),b.setEntity(W),b.setUser(Va),b.setUser(Ta),b.setMessageId(Aa)),b);}vb=Qb(JSON.stringify(vb),Jb);xb.encrypt(vb,{result:function(b){Ia(Da,function(){xb.sign(b,{result:function(a){Ia(Da,function(){var c;c=Y(oa,xb,r,W,Z,ia,Aa,La,Ca,Ta,Va,Ua,fb,jb,mb,ua,xa,Ga,b,a);Object.defineProperties(this,c);return this;},Oa);},error:function(a){Ia(Da,function(){a instanceof Ya && (a.setEntity(Z),a.setEntity(W),a.setUser(Va),a.setUser(Ta),a.setMessageId(Aa));throw a;},Oa);}});},Oa);},error:function(b){Ia(Da,function(){b instanceof Ya && (b.setEntity(Z),b.setEntity(W),b.setUser(Va),b.setUser(Ta),b.setMessageId(Aa));throw b;},Oa);}});},Oa);}Oa=this;Ia(Da,function(){Fa?Ma(Fa.sender):Z?oa.getEntityAuthenticationData(null,{result:function(ia){ia=ia.getIdentity();Ma(ia);},error:Da.error}):Ma(null);},Oa);},isEncrypting:function(){return this.masterToken || Nd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[Ve]=this.masterToken:oa[fe]=this.entityAuthenticationData;oa[We]=Ab(this.headerdata);oa[ge]=Ab(this.signature);return oa;}});af=function(oa,W,Z,ba,ja,Fa){new kd(oa,W,Z,ba,ja,null,Fa);};he=function(oa,W,Z,ba,ja,Fa,Da){Ia(Da,function(){var Ma,Oa;Z=ba?null:Z;if(!Z && !ba)throw new Fb(V.MESSAGE_ENTITY_NOT_FOUND);Ma=W;try{W=Db(Ma);}catch(ia){throw new Fb(V.HEADER_DATA_INVALID,Ma,ia);}if(!W || 0 == W.length)throw new Fb(V.HEADER_DATA_MISSING,Ma);try{Oa=aa(oa,Z,ba);}catch(ia){throw (ia instanceof Ya && (ia.setEntity(ba),ia.setEntity(Z)),ia);}fa(oa,Oa,W,ja,{result:function(ia){Ia(Da,function(){var ua,xa,Ga,Aa,La;try{ua=JSON.parse(ia);}catch(Ca){if(Ca instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia,Ca).setEntity(ba).setEntity(Z);throw Ca;}xa=parseInt(ua.messageid);if(!xa || xa != xa)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ba).setEntity(Z);if(0 > xa || xa > Kb)throw new Fb(V.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ia).setEntity(ba).setEntity(Z);Ga=ba?ua.sender:null;if(ba && (!Ga || "string" !== typeof Ga))throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ba).setEntity(Z).setMessageId(xa);Aa=ua.keyresponsedata;if(Aa && "object" !== typeof Aa)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ba).setEntity(Z).setMessageId(xa);La=Da;Da={result:function(Ca){La.result(Ca);},error:function(Ca){Ca instanceof Ya && (Ca.setEntity(ba),Ca.setEntity(Z),Ca.setMessageId(xa));La.error(Ca);}};ca(oa,Aa,{result:function(Ca){Ia(Da,function(){var Ta,Va;Ta=!oa.isPeerToPeer() && Ca?Ca.masterToken:ba;Va=ua.useridtoken;if(Va && "object" !== typeof Va)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia);T(oa,Va,Ta,{result:function(Ua){Ia(Da,function(){var fb;fb=ua.userauthdata;if(fb && "object" !== typeof fb)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia);X(oa,Ta,fb,{result:function(jb){Ia(Da,function(){var mb,pb,qb;if(jb){mb=jb.scheme;pb=oa.getUserAuthenticationFactory(mb);if(!pb)throw new Eb(V.USERAUTH_FACTORY_NOT_FOUND,mb).setUser(Ua).setUser(jb);mb=ba?ba.identity:Z.getIdentity();qb=pb.authenticate(oa,mb,jb,Ua);}else qb=Ua?Ua.customer:null;pa(oa,ua.servicetokens,Ta,Ua,Fa,ia,{result:function(xb){Ia(Da,function(){var vb,r,b,a;vb=ua.nonreplayableid !== yb?parseInt(ua.nonreplayableid):null;r=ua.renewable;if(vb != vb || "boolean" !== typeof r)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia);if(0 > vb || vb > Kb)throw new Fb(V.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ia);b=null;a=ua.capabilities;if(a){if("object" !== typeof a)throw new wb(V.JSON_PARSE_ERROR,"headerdata " + ia);b=$e(a);}qa(oa,ua,ia,{result:function(c){na(oa,ua,Ca,Fa,ia,{result:function(g){Ia(Da,function(){var l,m,d,f;l=g.peerMasterToken;m=g.peerUserIdToken;d=g.peerServiceTokens;f=new Ba(xa,vb,r,b,c,Ca,jb,Ua,xb);l=new sa(l,m,d);m=new ea(qb,Ga,Oa,W,ja);new kd(oa,Z,ba,f,l,m,Da);});},error:Da.error});},error:function(c){Ia(Da,function(){c instanceof Ya && (c.setUser(Ua),c.setUser(jb));throw c;});}});});},error:function(xb){Ia(Da,function(){xb instanceof Ya && (xb.setEntity(Ta),xb.setUser(Ua),xb.setUser(jb));throw xb;});}});});},error:Da.error});});},error:Da.error});});},error:Da.error});});},error:Da.error});});};})();(function(){function ea(Y,aa){this.payload=Y;this.signature=aa;}je=zb.Class.create({init:function(Y,aa,fa,ca,T,X,pa,na){var qa;qa=this;Ia(na,function(){var Ba,sa;if(0 > Y || Y > Kb)throw new ub("Sequence number " + Y + " is outside the valid range.");if(0 > aa || aa > Kb)throw new ub("Message ID " + aa + " is outside the valid range.");if(pa)return (Object.defineProperties(this,{sequenceNumber:{value:Y,writable:!1,configurable:!1},messageId:{value:aa,writable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},data:{value:T,writable:!1,configurable:!1},endofmsg:{value:fa,writable:!1,enumerable:!1,configurable:!1},payload:{value:pa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ca){Ba=ke(ca,T);Ba || (ca=null,Ba=T);}else (ca=null,Ba=T);sa={};sa.sequencenumber=Y;sa.messageid=aa;fa && (sa.endofmsg=fa);ca && (sa.compressionalgo=ca);sa.data=Ab(Ba);Ba=Qb(JSON.stringify(sa),Jb);X.encrypt(Ba,{result:function(oa){Ia(na,function(){X.sign(oa,{result:function(W){Ia(na,function(){Object.defineProperties(this,{sequenceNumber:{value:Y,writable:!1,configurable:!1},messageId:{value:aa,writable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},data:{value:T,writable:!1,configurable:!1},endofmsg:{value:fa,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:W,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(W){na.error(W);}});},qa);},error:function(oa){na.error(oa);}});},qa);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var Y;Y={};Y.payload=Ab(this.payload);Y.signature=Ab(this.signature);return Y;}});ef=function(Y,aa,fa,ca,T,X,pa){new je(Y,aa,fa,ca,T,X,null,pa);};ff=function(Y,aa,fa){Ia(fa,function(){var ca,T,X,pa;ca=Y.payload;T=Y.signature;if(!ca || "string" !== typeof ca || "string" !== typeof T)throw new wb(V.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(Y));try{X=Db(ca);}catch(na){throw new Fb(V.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(Y),na);}try{pa=Db(T);}catch(na){throw new Fb(V.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(Y),na);}aa.verify(X,pa,{result:function(na){Ia(fa,function(){if(!na)throw new sb(V.PAYLOAD_VERIFICATION_FAILED);aa.decrypt(X,{result:function(qa){Ia(fa,function(){var Ba,sa,oa,W,Z,ba,ja;Ba=Rb(qa,Jb);try{sa=JSON.parse(Ba);}catch(Fa){if(Fa instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ba,Fa);throw Fa;}oa=parseInt(sa.sequencenumber);W=parseInt(sa.messageid);Z=sa.endofmsg;ba=sa.compressionalgo;sa=sa.data;if(!oa || oa != oa || !W || W != W || Z && "boolean" !== typeof Z || ba && "string" !== typeof ba || "string" !== typeof sa)throw new wb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ba);if(0 > oa || oa > Kb)throw new Ya(V.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ba);if(0 > W || W > Kb)throw new Ya(V.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ba);Z || (Z=!1);if(ba && !Nc[ba])throw new Fb(V.UNIDENTIFIED_COMPRESSION,ba);try{ja=Db(sa);}catch(Fa){throw new Fb(V.PAYLOAD_DATA_CORRUPT,sa,Fa);}if(ja && 0 != ja.length)Ba=ba?Fd(ba,ja):ja;else {if(0 < sa.length)throw new Fb(V.PAYLOAD_DATA_CORRUPT,sa);if(Z)Ba=new Uint8Array(0);else throw new Fb(V.PAYLOAD_DATA_MISSING,sa);}ja=new ea(X,pa);new je(oa,W,Z,ba,Ba,aa,ja,fa);});},error:function(qa){fa.error(qa);}});});},error:function(na){fa.error(na);}});});};})();(function(){var fa,ca;function ea(T,X,pa,na,qa){var sa,oa,W,Z,ba;function Ba(){Ia(qa,function(){var ja,Fa;oa >= X.length && (oa=0,++sa);if(sa >= W.length){if(Z)throw Z;throw new Nb(V.KEYX_FACTORY_NOT_FOUND,JSON.stringify(X));}ja=W[sa];Fa=X[oa];ja.scheme != Fa.keyExchangeScheme?(++oa,Ba()):ja.generateResponse(T,Fa,ba,{result:function(Da){qa.result(Da);},error:function(Da){Ia(qa,function(){if(!(Da instanceof Ya))throw Da;Z=Da;++oa;Ba();});}});});}sa=0;oa=0;W=T.getKeyExchangeFactories();ba=pa?pa:na;Ba();}function Y(T,X,pa,na,qa){Ia(qa,function(){var Ba;Ba=X.keyRequestData;if(X.isRenewable() && 0 < Ba.length)na?na.isRenewable() || na.isExpired()?ea(T,Ba,na,null,qa):T.getTokenFactory().isNewestMasterToken(T,na,{result:function(sa){Ia(qa,function(){if(sa)return null;ea(T,Ba,na,null,qa);});},error:qa.error}):ea(T,Ba,null,pa.getIdentity(),qa);else return null;});}function aa(T,X,pa,na){Ia(na,function(){var qa,Ba,sa,oa;qa=X.userIdToken;Ba=X.userAuthenticationData;sa=X.messageId;if(qa && qa.isVerified()){if(qa.isRenewable() && X.isRenewable() || qa.isExpired() || !qa.isBoundTo(pa)){Ba=T.getTokenFactory();Ba.renewUserIdToken(T,qa,pa,na);return;}}else if(X.isRenewable() && pa && Ba){qa=X.customer;if(!qa){qa=Ba.scheme;oa=T.getUserAuthenticationFactory(qa);if(!oa)throw new Eb(V.USERAUTH_FACTORY_NOT_FOUND,qa).setEntity(pa).setUser(Ba).setMessageId(sa);qa=oa.authenticate(T,pa.identity,Ba,null);}Ba=T.getTokenFactory();Ba.createUserIdToken(T,qa,pa,na);return;}return qa;});}fa=new Uint8Array(0);ca=Tc=function(T){if(0 > T || T > Kb)throw new ub("Message ID " + T + " is outside the valid range.");return T == Kb?0:T + 1;};ad=function(T){if(0 > T || T > Kb)throw new ub("Message ID " + T + " is outside the valid range.");return 0 == T?Kb:T - 1;};Uc=function(T,X,pa,na,qa){Ia(qa,function(){var Ba;if(na == yb || null == na){Ba=T.getRandom();do {na=Ba.nextLong();}while(0 > na || na > Kb);}else if(0 > na || na > Kb)throw new ub("Message ID " + na + " is outside the valid range.");T.getEntityAuthenticationData(null,{result:function(sa){Ia(qa,function(){var oa;oa=T.getMessageCapabilities();return new Gd(T,na,oa,sa,X,pa,null,null,null,null,null);});},error:function(sa){qa.error(sa);}});});};gf=function(T,X,pa){Ia(pa,function(){var qa,Ba,sa,oa,W,Z;function na(ba){Ia(pa,function(){ba instanceof Ya && (ba.setEntity(qa),ba.setEntity(Ba),ba.setUser(sa),ba.setUser(oa),ba.setMessageId(W));throw ba;});}qa=X.masterToken;Ba=X.entityAuthenticationData;sa=X.userIdToken;oa=X.userAuthenticationData;W=X.messageId;Z=ca(W);Y(T,X,Ba,qa,{result:function(ba){Ia(pa,function(){var ja;ja=ba?ba.keyResponseData.masterToken:ja=qa;T.getEntityAuthenticationData(null,{result:function(Fa){Ia(pa,function(){aa(T,X,ja,{result:function(Da){Ia(pa,function(){var Ma,Oa,ia;sa=Da;Ma=ie(X.messageCapabilities,T.getMessageCapabilities());Oa=X.keyResponseData;ia=X.serviceTokens;return T.isPeerToPeer()?new Gd(T,Z,Ma,Fa,Oa?Oa.masterToken:X.peerMasterToken,X.peerUserIdToken,X.peerServiceTokens,qa,sa,ia,ba):new Gd(T,Z,Ma,Fa,Oa?Oa.masterToken:qa,sa,ia,null,null,null,ba);});},error:na});});},error:na});});},error:na});});};hf=function(T,X,pa,na,qa){Ia(qa,function(){T.getEntityAuthenticationData(null,{result:function(Ba){Ia(qa,function(){var sa,oa;if(X != yb && null != X)sa=ca(X);else {oa=T.getRandom();do {sa=oa.nextInt();}while(0 > sa || sa > Kb);}Ze(T,Ba,sa,pa.responseCode,pa.internalCode,pa.message,na,qa);});},error:function(Ba){qa.error(Ba);}});});};Gd=zb.Class.create({init:function(T,X,pa,na,qa,Ba,sa,oa,W,Z,ba){var ja,Fa,Da,Ma,Oa;if(!T.isPeerToPeer() && (oa || W))throw new ub("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");ja=ba && !T.isPeerToPeer()?ba.keyResponseData.masterToken:qa;Fa=[];ja=T.getMslStore().getServiceTokens(ja,Ba);Fa.push.apply(Fa,ja);sa && sa.forEach(function(ia){Fa.push(ia);},this);Da=[];if(T.isPeerToPeer()){Ma=oa;Oa=W;sa=ba?ba.keyResponseData.masterToken:oa;W=T.getMslStore().getServiceTokens(sa,W);Da.push.apply(Da,W);Z && Z.forEach(function(ia){Da.push(ia);},this);}Object.defineProperties(this,{_ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:na,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:X,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:pa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ba,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ma,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Nd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Nd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || te(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || te(this._entityAuthData.scheme);},getHeader:function(T){Ia(T,function(){var X,pa,na;X=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;pa=[];for(na in this._keyRequestData){pa.push(this._keyRequestData[na]);}if(this._nonReplayable){if(!this._masterToken)throw new Fb(V.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);na=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else na=null;X=new bf(this._messageId,na,this._renewable,this._capabilities,pa,X,this._userAuthData,this._userIdToken,this._serviceTokens);pa=new cf(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);af(this._ctx,this._entityAuthData,this._masterToken,X,pa,T);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(T){this._nonReplayable=T;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(T){this._renewable=T;return this;},setAuthTokens:function(T,X){var pa,qa;if(X && !X.isBoundTo(T))throw new ub("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new ub("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{pa=this._ctx.getMslStore().getServiceTokens(T,X);}catch(Ba){if(Ba instanceof Ya)throw new ub("Invalid master token and user ID token combination despite checking above.",Ba);throw Ba;}for(var na=this._serviceTokens.length - 1;0 <= na;--na){qa=this._serviceTokens[na];(qa.isUserIdTokenBound() && !qa.isBoundTo(X) || qa.isMasterTokenBound() && !qa.isBoundTo(T)) && this._serviceTokens.splice(na,1);}pa.forEach(function(Ba){this.excludeServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._serviceTokens.push(Ba);},this);this._masterToken=T;this._userIdToken=X;},setUserAuthenticationData:function(T){this._userAuthData=T;return this;},setCustomer:function(T,X){var pa;pa=this;Ia(X,function(){var na;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new ub("User ID token or peer user ID token already exists for the remote user.");na=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!na)throw new ub("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,T,na,{result:function(qa){Ia(X,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=qa:(this._userIdToken=qa,this._userAuthData=null);return !0;},pa);},error:function(qa){X.error(qa);}});},pa);},addKeyRequestData:function(T){this._keyRequestData[T.uniqueKey()]=T;return this;},removeKeyRequestData:function(T){delete this._keyRequestData[T.uniqueKey()];return this;},addServiceToken:function(T){var X;X=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(T.isMasterTokenBound() && !T.isBoundTo(X))throw new Fb(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(T) + "; mt " + JSON.stringify(X)).setEntity(X);if(T.isUserIdTokenBound() && !T.isBoundTo(this._userIdToken))throw new Fb(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(T) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(X).setUser(this._userIdToken);this.excludeServiceToken(T.name,T.isMasterTokenBound(),T.isUserIdTokenBound());this._serviceTokens.push(T);return this;},addServiceTokenIfAbsent:function(T){var pa;for(var X=this._serviceTokens.length - 1;0 <= X;--X){pa=this._serviceTokens[X];if(pa.name == T.name && pa.isMasterTokenBound() == T.isMasterTokenBound() && pa.isUserIdTokenBound() == T.isUserIdTokenBound())return this;}this.addServiceToken(T);return this;},excludeServiceToken:function(){var T,X,pa,qa;if(1 == arguments.length){T=arguments[0];X=T.name;pa=T.isMasterTokenBound();T=T.isUserIdTokenBound();}else (arguments.length=3,X=arguments[0],pa=arguments[1],T=arguments[2]);for(var na=this._serviceTokens.length - 1;0 <= na;--na){qa=this._serviceTokens[na];qa.name == X && qa.isMasterTokenBound() == pa && qa.isUserIdTokenBound() == T && this._serviceTokens.splice(na,1);}return this;},deleteServiceToken:function(){var T,X,pa,na;if(2 == arguments.length){T=arguments[0];X=T.name;T.isMasterTokenBound();T.isUserIdTokenBound();pa=arguments[1];}else (arguments.length=4,X=arguments[0],pa=arguments[3]);na=this;Ia(pa,function(){var qa,Ba;qa=originalToken.isMasterTokenBound()?this._masterToken:null;Ba=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,X,fa,qa,Ba,!1,null,new $c(),{result:function(sa){Ia(pa,function(){return this.addServiceToken(sa);},na);},error:function(sa){sa instanceof Ya && (sa=new ub("Failed to create and add empty service token to message.",sa));pa.error(sa);}});},na);},getServiceTokens:function(){var T;T=[];T.push.apply(T,this._serviceTokens);return T;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(T,X){var pa,qa;if(!this._ctx.isPeerToPeer())throw new ub("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(X && !T)throw new ub("Peer master token cannot be null when setting peer user ID token.");if(X && !X.isBoundTo(T))throw new Fb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + X + "; mt " + T).setEntity(T).setUser(X);try{pa=this._ctx.getMslStore().getServiceTokens(T,X);}catch(Ba){if(Ba instanceof Ya)throw new ub("Invalid peer master token and user ID token combination despite proper check.",Ba);throw Ba;}for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){qa=this._peerServiceTokens[na];(qa.isUserIdTokenBound() && !qa.isBoundTo(X) || qa.isMasterTokenBound() && !qa.isBoundTo(T)) && this._peerServiceTokens.slice(na,1);}pa.forEach(function(Ba){this.excludePeerServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._peerServiceTokens.push(Ba);},this);this._peerUserIdToken=X;this._peerMasterToken=T;return this;},addPeerServiceToken:function(T){if(!this._ctx.isPeerToPeer())throw new ub("Cannot set peer service tokens when not in peer-to-peer mode.");if(T.isMasterTokenBound() && !T.isBoundTo(this._peerMasterToken))throw new Fb(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(T) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(T.isUserIdTokenBound() && !T.isBoundTo(this._peerUserIdToken))throw new Fb(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(T) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(T.name,T.isMasterTokenBound(),T.isUserIdTokenBound());this._peerServiceTokens.push(T);return this;},addPeerServiceTokenIfAbsent:function(T){var pa;for(var X=this._peerServiceTokens.length - 1;0 <= X;--X){pa=this._peerServiceTokens[X];if(pa.name == T.name && pa.isMasterTokenBound() == T.isMasterTokenBound() && pa.isUserIdTokenBound() == T.isUserIdTokenBound())return this;}this.addPeerServiceToken(T);return this;},excludePeerServiceToken:function(){var T,X,pa,qa;if(1 == arguments.length){T=arguments[0];X=T.name;pa=T.isMasterTokenBound();T=T.isUserIdTokenBound();}else (arguments.length=3,X=arguments[0],pa=arguments[1],T=arguments[2]);for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){qa=this._peerServiceTokens[na];qa.name == X && qa.isMasterTokenBound() == pa && qa.isUserIdTokenBound() == T && this._peerServiceTokens.splice(na,1);}return this;},deletePeerServiceToken:function(){var T,X,pa,na,qa,Ba;if(2 == arguments.length){T=arguments[0];X=T.name;pa=T.isMasterTokenBound();na=T.isUserIdTokenBound();qa=arguments[1];}else (arguments.length=4,X=arguments[0],pa=arguments[1],na=arguments[2],qa=arguments[3]);Ba=this;Ia(qa,function(){zc(this._ctx,X,fa,pa?this._peerMasterToken:null,na?this._peerUserIdToken:null,!1,null,new $c(),{result:function(sa){Ia(qa,function(){return this.addPeerServiceToken(sa);},Ba);},error:function(sa){sa instanceof Ya && (sa=new ub("Failed to create and add empty peer service token to message.",sa));qa.error(sa);}});},Ba);},getPeerServiceTokens:function(){var T;T=[];T.push.apply(T,this._peerServiceTokens);return T;}});})();(function(){function ea(aa,fa){return fa[aa]?fa[aa]:fa[""];}function Y(aa){var fa;fa=aa.builder.getKeyExchangeData();return fa && !aa.ctx.isPeerToPeer()?fa.keyResponseData.masterToken:aa.builder.getMasterToken();}jf=zb.Class.create({init:function(aa,fa,ca){aa={ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:fa.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ca,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);},isPrimaryMasterTokenAvailable:function(){return Y(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(aa){try{return (this.builder.addServiceToken(aa),!0);}catch(fa){if(fa instanceof Fb)return !1;throw fa;}},addPeerServiceToken:function(aa){try{return (this.builder.addPeerServiceToken(aa),!0);}catch(fa){if(fa instanceof Fb)return !1;throw fa;}},addUnboundPrimaryServiceToken:function(aa,fa,ca,T,X){var pa;pa=this;Ia(X,function(){var na;na=ea(aa,this.cryptoContexts);if(!na)return !1;zc(this.ctx,aa,fa,null,null,ca,T,na,{result:function(qa){Ia(X,function(){try{this.builder.addServiceToken(qa);}catch(Ba){if(Ba instanceof Fb)throw new ub("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},pa);},error:function(qa){X.error(qa);}});},pa);},addUnboundPeerServiceToken:function(aa,fa,ca,T,X){var pa;pa=this;Ia(X,function(){var na;na=ea(aa,this.cryptoContexts);if(!na)return !1;zc(this.ctx,aa,fa,null,null,ca,T,na,{result:function(qa){Ia(X,function(){try{this.builder.addPeerServiceToken(qa);}catch(Ba){if(Ba instanceof Fb)throw new ub("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},pa);},error:function(qa){X.error(qa);}});},pa);},addMasterBoundPrimaryServiceToken:function(aa,fa,ca,T,X){var pa;pa=this;Ia(X,function(){var na,qa;na=Y(this);if(!na)return !1;qa=ea(aa,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,aa,fa,na,null,ca,T,qa,{result:function(Ba){Ia(X,function(){try{this.builder.addServiceToken(Ba);}catch(sa){if(sa instanceof Fb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token.",sa);throw sa;}return !0;},pa);},error:function(Ba){X.error(Ba);}});},pa);},addMasterBoundPeerServiceToken:function(aa,fa,ca,T,X){var pa;pa=this;Ia(X,function(){var na,qa;na=this.builder.getPeerMasterToken();if(!na)return !1;qa=ea(aa,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,aa,fa,na,null,ca,T,qa,{result:function(Ba){Ia(X,function(){try{this.builder.addPeerServiceToken(Ba);}catch(sa){if(sa instanceof Fb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token.",sa);throw sa;}return !0;},pa);},error:function(Ba){X.error(Ba);}});},pa);},addUserBoundPrimaryServiceToken:function(aa,fa,ca,T,X){var pa;pa=this;Ia(X,function(){var na,qa,Ba;na=Y(this);if(!na)return !1;qa=this.builder.getUserIdToken();if(!qa)return !1;Ba=ea(aa,this.cryptoContexts);if(!Ba)return !1;zc(this.ctx,aa,fa,na,qa,ca,T,Ba,{result:function(sa){Ia(X,function(){try{this.builder.addServiceToken(sa);}catch(oa){if(oa instanceof Fb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(sa){X.error(sa);}});},pa);},addUserBoundPeerServiceToken:function(aa,fa,ca,T,X){var pa;pa=this;Ia(X,function(){var na,qa,Ba;na=this.builder.getPeerMasterToken();if(!na)return !1;qa=this.builder.getPeerUserIdToken();if(!qa)return !1;Ba=ea(aa,this.cryptoContexts);if(!Ba)return !1;zc(this.ctx,aa,fa,na,qa,ca,T,Ba,{result:function(sa){Ia(X,function(){try{this.builder.addPeerServiceToken(sa);}catch(oa){if(oa instanceof Fb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(sa){X.error(sa);}});},pa);},excludePrimaryServiceToken:function(){var aa,fa,ca,T;if(1 == arguments.length){aa=arguments[0];fa=aa.name;ca=aa.isMasterTokenBound();T=aa.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],ca=arguments[1],T=arguments[2]);for(var X=this.builder.getServiceTokens(),pa=0;pa < X.length;++pa){if((aa=X[pa],aa.name == fa && aa.isMasterTokenBound() == ca && aa.isUserIdTokenBound() == T))return (this.builder.excludeServiceToken(fa,ca,T),!0);}return !1;},excludePeerServiceToken:function(){var aa,fa,ca,T;if(1 == arguments.length){aa=arguments[0];fa=aa.name;ca=aa.isMasterTokenBound();T=aa.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],ca=arguments[1],T=arguments[2]);for(var X=this.builder.getPeerServiceTokens(),pa=0;pa < X.length;++pa){if((aa=X[pa],aa.name == fa && aa.isMasterTokenBound() == ca && aa.isUserIdTokenBound() == T))return (this.builder.excludePeerServiceToken(fa,ca,T),!0);}return !1;},deletePrimaryServiceToken:function(){var aa,fa,ca,T,X;if(2 == arguments.length){aa=arguments[0];fa=aa.name;ca=aa.isMasterTokenBound();T=aa.isUserIdTokenBound();X=arguments[1];}else 4 == arguments.length && (fa=arguments[0],ca=arguments[1],T=arguments[2],X=arguments[3]);Ia(X,function(){var qa;for(var pa=this.builder.getServiceTokens(),na=0;na < pa.length;++na){qa=pa[na];if(qa.name == fa && qa.isMasterTokenBound() == ca && qa.isUserIdTokenBound() == T){this.builder.deleteServiceToken(fa,ca,T,{result:function(){X.result(!0);},error:function(Ba){X.error(Ba);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var aa,fa,ca,T,X;if(2 == arguments.length){aa=arguments[0];fa=aa.name;ca=aa.isMasterTokenBound();T=aa.isUserIdTokenBound();X=arguments[1];}else 4 == arguments.length && (fa=arguments[0],ca=arguments[1],T=arguments[2],X=arguments[3]);Ia(X,function(){var qa;for(var pa=this.builder.getPeerServiceTokens(),na=0;na < pa.length;++na){qa=pa[na];if(qa.name == fa && qa.isMasterTokenBound() == ca && qa.isUserIdTokenBound() == T){this.builder.deletePeerServiceToken(fa,ca,T,{result:function(){X.result(!0);},error:function(Ba){X.error(Ba);}});return;}}return !1;},this);}});})();(function(){function ea(Y,aa,fa,ca){Ia(ca,function(){var X,pa,na,qa,Ba,sa;function T(){Ia(ca,function(){var oa;if(sa >= fa.length){if(Ba)throw Ba;throw new Nb(V.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(fa));}oa=fa[sa];na != oa.keyExchangeScheme?(++sa,T()):qa.getCryptoContext(Y,oa,pa,X,{result:ca.result,error:function(W){Ia(ca,function(){if(!(W instanceof Ya))throw W;Ba=W;++sa;T();});}});});}X=aa.masterToken;pa=aa.keyResponseData;if(!pa)return null;na=pa.keyExchangeScheme;qa=Y.getKeyExchangeFactory(na);if(!qa)throw new Nb(V.KEYX_FACTORY_NOT_FOUND,na);sa=0;T();});}kf=ce.extend({init:function(Y,aa,fa,ca,T,X,pa){var na;na=this;Za(pa,function(){var Z;function qa(){na._ready=!0;na._readyQueue.add(!0);}function Ba(ba,ja){var Fa;try{Fa=ja.masterToken;ba.getTokenFactory().isMasterTokenRevoked(ba,Fa,{result:function(Da){Da?(na._errored=new Pc(Da,Fa).setUser(ja.userIdToken).setUser(ja.userAuthenticationData).setMessageId(ja.messageId),qa()):sa(ba,ja);},error:function(Da){Da instanceof Ya && (Da.setEntity(ja.masterToken),Da.setUser(ja.userIdToken),Da.setUser(ja.userAuthenticationData),Da.setMessageId(ja.messageId));na._errored=Da;qa();}});}catch(Da){Da instanceof Ya && (Da.setEntity(ja.masterToken),Da.setUser(ja.userIdToken),Da.setUser(ja.userAuthenticationData),Da.setMessageId(ja.messageId));na._errored=Da;qa();}}function sa(ba,ja){var Fa,Da;try{Fa=ja.masterToken;Da=ja.userIdToken;Da?ba.getTokenFactory().isUserIdTokenRevoked(ba,Fa,Da,{result:function(Ma){Ma?(na._errored=new MslUserIdTokenException(Ma,Da).setEntity(Fa).setUser(Da).setMessageId(ja.messageId),qa()):oa(ba,ja);},error:function(Ma){Ma instanceof Ya && (Ma.setEntity(ja.masterToken),Ma.setUser(ja.userIdToken),Ma.setUser(ja.userAuthenticationData),Ma.setMessageId(ja.messageId));na._errored=Ma;qa();}}):oa(ba,ja);}catch(Ma){Ma instanceof Ya && (Ma.setEntity(ja.masterToken),Ma.setUser(ja.userIdToken),Ma.setUser(ja.userAuthenticationData),Ma.setMessageId(ja.messageId));na._errored=Ma;qa();}}function oa(ba,ja){var Fa;try{Fa=ja.masterToken;Fa.isExpired()?ja.isRenewable() && 0 != ja.keyRequestData.length?ba.getTokenFactory().isMasterTokenRenewable(ba,Fa,{result:function(Da){Da?(na._errored=new Fb(Da,"Master token is expired and not renewable.").setEntity(Fa).setUser(ja.userIdToken).setUser(ja.userAuthenticationData).setMessageId(ja.messageId),qa()):W(ba,ja);},error:function(Da){Da instanceof Ya && (Da.setEntity(ja.masterToken),Da.setUser(ja.userIdToken),Da.setUser(ja.userAuthenticationData),Da.setMessageId(ja.messageId));na._errored=Da;qa();}}):(na._errored=new Fb(V.MESSAGE_EXPIRED,JSON.stringify(ja)).setEntity(Fa).setUser(ja.userIdToken).setUser(ja.userAuthenticationData).setMessageId(ja.messageId),qa()):W(ba,ja);}catch(Da){Da instanceof Ya && (Da.setEntity(ja.masterToken),Da.setUser(ja.userIdToken),Da.setUser(ja.userAuthenticationData),Da.setMessageId(ja.messageId));na._errored=Da;qa();}}function W(ba,ja){var Fa,Da;try{Fa=ja.masterToken;Da=ja.nonReplayableId;"number" === typeof Da?Fa?ba.getTokenFactory().acceptNonReplayableId(ba,Fa,Da,{result:function(Ma){Ma || (na._errored=new Fb(V.MESSAGE_REPLAYED,JSON.stringify(ja)).setEntity(Fa).setUser(ja.userIdToken).setUser(ja.userAuthenticationData).setMessageId(ja.messageId));qa();},error:function(Ma){Ma instanceof Ya && (Ma.setEntity(Fa),Ma.setUser(ja.userIdToken),Ma.setUser(ja.userAuthenticationData),Ma.setMessageId(ja.messageId));na._errored=Ma;qa();}}):(na._errored=new Fb(V.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(ja)).setEntity(ja.entityAuthenticationData).setUser(ja.userIdToken).setUser(ja.userAuthenticationData).setMessageId(ja.messageId),qa()):qa();}catch(Ma){Ma instanceof Ya && (Ma.setEntity(ja.masterToken),Ma.setEntity(ja.entityAuthenticationData),Ma.setUser(ja.userIdToken),Ma.setUser(ja.userAuthenticationData),Ma.setMessageId(ja.messageId));na._errored=Ma;qa();}}Z={_source:{value:aa,writable:!1,enumerable:!1,configurable:!1},_parser:{value:yb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:fa,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:X,writable:!1,enumerable:!1,configurable:!1},_header:{value:yb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:yb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:yb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);Ne(na._source,X,{result:function(ba){na._json=ba;na._jsonIndex=0;null === na._json?(na._errored=new wb(V.MESSAGE_DATA_MISSING),qa()):Ue(Y,na._json[na._jsonIndex++],T,{result:function(ja){var Fa;na._header=ja;if(na._header instanceof Lc)(na._keyxCryptoContext=null,na._cryptoContext=null,qa());else {Fa=na._header;ea(Y,Fa,ca,{result:function(Da){var Ma;try{na._keyxCryptoContext=Da;Y.isPeerToPeer() || !na._keyxCryptoContext?na._cryptoContext=Fa.cryptoContext:na._cryptoContext=na._keyxCryptoContext;try{Ma=Fa.masterToken;Ma && (Y.isPeerToPeer() || Ma.isVerified())?Ba(Y,Fa):W(Y,Fa);}catch(Oa){Oa instanceof Ya && (Oa.setEntity(Fa.masterToken),Oa.setUser(Fa.userIdToken),Oa.setUser(Fa.userAuthenticationData),Oa.setMessageId(Fa.messageId));na._errored=Oa;qa();}}catch(Oa){Oa instanceof Ya && (Oa.setEntity(Fa.masterToken),Oa.setEntity(Fa.entityAuthenticationData),Oa.setUser(Fa.userIdToken),Oa.setUser(Fa.userAuthenticationData),Oa.setMessageId(Fa.messageId));na._errored=Oa;qa();}},error:function(Da){Da instanceof Ya && (Da.setEntity(Fa.masterToken),Da.setEntity(Fa.entityAuthenticationData),Da.setUser(Fa.userIdToken),Da.setUser(Fa.userAuthenticationData),Da.setMessageId(Fa.messageId));na._errored=Da;qa();}});}},error:function(ja){na._errored=ja;qa();}});},timeout:function(){na._timedout=!0;qa();},error:function(ba){na._errored=ba;qa();}});return this;},na);},nextData:function(Y,aa){var fa;fa=this;Za(aa,function(){var T;function ca(X){Za(X,function(){var pa;if(this._jsonIndex < this._json.length)return pa=this._json[this._jsonIndex++];Ne(this._source,this._timeout,{result:function(na){na && na.length && 0 < na.length?(na.forEach(function(qa){this._json.push(qa);}),ca(X)):(this._eom=!0,X.result(null));},timeout:function(){X.timeout();},error:function(na){X.error(na);}});},fa);}T=this.getMessageHeader();if(!T)throw new ub("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ca({result:function(X){Za(aa,function(){if(!X)return null;if("object" !== typeof X)throw new wb(V.MESSAGE_FORMAT_ERROR);ff(X,this._cryptoContext,{result:function(pa){Za(aa,function(){var na,qa,Ba,sa;na=T.masterToken;qa=T.entityAuthenticationData;Ba=T.userIdToken;sa=T.getUserAuthenticationData;if(pa.messageId != T.messageId)throw new Fb(V.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + pa.messageId + " header mid " + T.messageId).setEntity(na).setEntity(qa).setUser(Ba).setUser(sa);if(pa.sequenceNumber != this._payloadSequenceNumber)throw new Fb(V.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + pa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(na).setEntity(qa).setUser(Ba).setUser(sa);++this._payloadSequenceNumber;pa.isEndOfMessage() && (this._eom=!0);na=pa.data;this._payloads.push(na);this._payloadIndex=-1;return na;},fa);},error:function(pa){pa instanceof SyntaxError && (pa=new wb(V.JSON_PARSE_ERROR,"payloadchunk",pa));aa.error(pa);}});},fa);},timeout:function(){aa.timeout();},error:function(X){aa.error(X);}});},fa);},isReady:function(Y,aa){var ca;function fa(){Za(aa,function(){if(this._aborted)return !1;if(this._timedout)aa.timeout();else {if(this._errored)throw this._errored;return !0;}},ca);}ca=this;Za(aa,function(){this._ready?fa():this._readyQueue.poll(Y,{result:function(T){Za(aa,function(){if(T === yb)return !1;fa();},ca);},timeout:function(){aa.timeout();},error:function(T){aa.error(T);}});},ca);},getMessageHeader:function(){return this._header instanceof kd?this._header:null;},getErrorHeader:function(){return this._header instanceof Lc?this._header:null;},getIdentity:function(){var Y,aa;Y=this.getMessageHeader();if(Y){aa=Y.masterToken;return aa?aa.identity:Y.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var Y;Y=this.getMessageHeader();return Y?Y.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(Y){this._closeSource=Y;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(Y,aa,fa){var T;function ca(){Za(fa,function(){var pa,na,qa,Ba;function X(sa){Za(sa,function(){var oa,W,Z;if(na && Ba >= na.length)return na.subarray(0,Ba);oa=-1;if(this._currentPayload){W=this._currentPayload.length - this._payloadOffset;if(!na){Z=W;if(-1 != this._payloadIndex)for(var ba=this._payloadIndex;ba < this._payloads.length;++ba){Z+=this._payloads[ba].length;}0 < Z && (na=new Uint8Array(Z));}W=Math.min(W,na?na.length - Ba:0);0 < W && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + W),na.set(oa,qa),oa=W,qa+=W,this._payloadOffset+=W);}-1 != oa?(Ba+=oa,X(sa)):this.nextData(aa,{result:function(ja){Za(sa,function(){if(this._aborted)return na?na.subarray(0,Ba):new Uint8Array(0);this._currentPayload=ja;this._payloadOffset=0;if(this._currentPayload)X(sa);else return 0 == Ba && 0 != Y?null:na?na.subarray(0,Ba):new Uint8Array(0);},T);},timeout:function(){sa.timeout(na?na.subarray(0,Ba):new Uint8Array(0));},error:function(ja){Za(sa,function(){ja instanceof Ya && (ja=new Ub("Error reading the payload chunk.",ja));if(0 < Ba)return (T._readException=ja,na.subarray(0,Ba));throw ja;},T);}});},T);}if(this._aborted)return new Uint8Array(0);if(this._timedout)fa.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){pa=this._readException;this._readException=null;throw pa;}na=-1 != Y?new Uint8Array(Y):yb;qa=0;Ba=0;X(fa);}},T);}T=this;Za(fa,function(){if(-1 > Y)throw new RangeError("read requested with illegal length " + Y);this._ready?ca():this._readyQueue.poll(aa,{result:function(X){X === yb?fa.result(!1):ca();},timeout:function(){fa.timeout(new Uint8Array(0));},error:function(X){fa.error(X);}});},T);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});lf=function(Y,aa,fa,ca,T,X,pa){new kf(Y,aa,fa,ca,T,X,pa);};})();(function(){mf=Bd.extend({init:function(ea,Y,aa,fa,ca,T,X){var pa;pa=this;Za(X,function(){var qa,Ba,sa;function na(){pa._ready=!0;pa._readyQueue.add(!0);}qa=ie(ea.getMessageCapabilities(),fa.messageCapabilities);Ba=null;qa && (Ba=Ce(qa.compressionAlgorithms));qa={_destination:{value:Y,writable:!1,enumerable:!1,configurable:!1},_charset:{value:aa,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:qa,writable:!1,enumerable:!1,configurable:!1},_header:{value:fa,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ca,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,qa);sa=Qb(JSON.stringify(fa),aa);Y.write(sa,0,sa.length,T,{result:function(oa){try{pa._aborted?na():oa < sa.length?(pa._timedout=!0,na()):Y.flush(T,{result:function(W){pa._aborted || (pa._timedout=!W);na();},timeout:function(){pa._timedout=!0;na();},error:function(W){pa._errored=W;na();}});}catch(W){pa._errored=W;na();}},timeout:function(){pa._timedout=!0;na();},error:function(oa){pa._errored=oa;na();}});return this;},pa);},setCompressionAlgorithm:function(ea,Y,aa){var ca;function fa(){ca.flush(Y,{result:function(T){Za(aa,function(){if(!T)throw new Ub("flush() aborted");this._compressionAlgo=ea;return !0;},ca);},timeout:function(){aa.timeout();},error:function(T){aa.error(T);}});}ca=this;Za(aa,function(){if(!this.getMessageHeader())throw new ub("Cannot write payload data for an error message.");if(this._compressionAlgo == ea)return !0;if(ea){if(!this._capabilities)return !1;for(var T=this._capabilities.compressionAlgorithms,X=0;X < T.length;++X){if(T[X] == ea){fa();return;}}return !1;}fa();},ca);},getMessageHeader:function(){return this._header instanceof kd?this._header:null;},getErrorMessage:function(){return this._header instanceof Lc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ea,Y){var aa;aa=this;Za(Y,function(){if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ea,{result:function(fa){Za(Y,function(){fa && (this._currentPayload=null);return fa;},aa);},timeout:function(){Y.timeout();},error:function(fa){Y.error(fa);}});}},aa);},flush:function(ea,Y){var fa;function aa(){Za(Y,function(){var ca,T,qa;if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ca=this.getMessageHeader();if(!ca)return !0;T=0;this._currentPayload && this._currentPayload.forEach(function(Ba){T+=Ba.length;});for(var X=new Uint8Array(T),pa=0,na=0;this._currentPayload && na < this._currentPayload.length;++na){qa=this._currentPayload[na];X.set(qa,pa);pa+=qa.length;}ef(this._payloadSequenceNumber,ca.messageId,this._closed,this._compressionAlgo,X,this._cryptoContext,{result:function(Ba){Za(Y,function(){var sa;this._payloads.push(Ba);sa=Qb(JSON.stringify(Ba),this._charset);this._destination.write(sa,0,sa.length,ea,{result:function(oa){Za(Y,function(){if(this._aborted)return !1;oa < Ba.length?Y.timeout():this._destination.flush(ea,{result:function(W){Za(Y,function(){if(this._aborted)return !1;if(W)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);Y.timeout();},fa);},timeout:function(){Y.timeout();},error:function(W){W instanceof Ya && (W=new Ub("Error encoding payload chunk [sequence number " + fa._payloadSequenceNumber + "].",W));Y.error(W);}});},fa);},timeout:function(oa){Y.timeout();},error:function(oa){oa instanceof Ya && (oa=new Ub("Error encoding payload chunk [sequence number " + fa._payloadSequenceNumber + "].",oa));Y.error(oa);}});},fa);},error:function(Ba){Ba instanceof Ya && (Ba=new Ub("Error encoding payload chunk [sequence number " + fa._payloadSequenceNumber + "].",Ba));Y.error(Ba);}});}},fa);}fa=this;Za(Y,function(){this._ready?aa():this._readyQueue.poll(ea,{result:function(ca){ca === yb?Y.result(!1):aa();},timeout:function(){Y.timeout();},error:function(ca){Y.error(ca);}});},fa);},write:function(ea,Y,aa,fa,ca){Za(ca,function(){var T;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Ub("Message output stream already closed.");if(0 > Y)throw new RangeError("Offset cannot be negative.");if(0 > aa)throw new RangeError("Length cannot be negative.");if(Y + aa > ea.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ub("Cannot write payload data for an error message.");T=ea.subarray(Y,Y + aa);this._currentPayload.push(T);return T.length;}},this);}});Hd=function(ea,Y,aa,fa,ca,T,X){new mf(ea,Y,aa,fa,ca,T,X);};})();Sf=zb.Class.create({sentHeader:function(ea){},receivedHeader:function(ea){}});Object.freeze({USERDATA_REAUTH:Ha.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ha.SSOTOKEN_REJECTED});nf=zb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ea,Y,aa,fa){},getCustomer:function(){},getKeyRequestData:function(ea){},updateServiceTokens:function(ea,Y,aa){},write:function(ea,Y,aa){},getDebugContext:function(){}});zb.Class.create({getInputStream:function(ea){},getOutputStream:function(ea){}});(function(){var pa,na,qa,Ba,sa,oa,W,Z,ba,ja,Fa,Da;function ea(Ma){return function(){Ma.abort();};}function Y(Ma,Oa){Object.defineProperties(this,{masterToken:{value:Ma,writable:!1,configurable:!1},ticket:{value:Oa,writable:!1,configurable:!1}});}function aa(Ma,Oa){Object.defineProperties(this,{builder:{value:Ma,writable:!1,configurable:!1},msgCtx:{value:Oa,writable:!1,configurable:!1}});}function fa(Ma,Oa,ia){Object.defineProperties(this,{requestHeader:{value:Ma,writable:!1,configurable:!1},payloads:{value:Oa,writable:!1,configurable:!1},handshake:{value:ia,writable:!1,configurable:!1}});}function ca(Ma,Oa){Object.defineProperties(this,{requestHeader:{value:Oa.requestHeader,writable:!1,configurable:!1},payloads:{value:Oa.payloads,writable:!1,configurable:!1},handshake:{value:Oa.handshake,writable:!1,configurable:!1},response:{value:Ma,writable:!1,configurable:!1}});}function T(Ma){for(;Ma;){if(Ma instanceof Zb)return !0;Ma=Ma instanceof Ya?Ma.cause:yb;}return !1;}function X(Ma,Oa,ia,ua,xa,Ga,Aa,La,Ca){hf(Oa,ua,xa,Ga,{result:function(Ta){ia && ia.sentHeader(Ta);Hd(Oa,Aa,Jb,Ta,null,null,La,{result:function(Va){Ma.setAbort(function(){Va.abort();});Va.close(La,{result:function(Ua){Za(Ca,function(){if(!Ua)throw new Zb("sendError aborted.");return Ua;});},timeout:function(){Ca.timeout();},error:function(Ua){Ca.error(Ua);}});},timeout:function(){},error:function(Va){Ca.error(Va);}});},error:function(Ta){Ca.error(Ta);}});}pa=Bd.extend({close:function(Ma,Oa){Oa.result(!0);},write:function(Ma,Oa,ia,ua,xa){Ia(xa,function(){return Math.min(Ma.length - Oa,ia);});},flush:function(Ma,Oa){Oa.result(!0);}});na=Rf.extend({getUserMessage:function(Ma,Oa){return null;}});qa=nf.extend({init:function(Ma){Object.defineProperties(this,{_appCtx:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ma,Oa,ia,ua){this._appCtx.getUserAuthData(Ma,Oa,ia,ua);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ma){this._appCtx.getKeyRequestData(Ma);},updateServiceTokens:function(Ma,Oa,ia){this._appCtx.updateServiceTokens(Ma,Oa,ia);},write:function(Ma,Oa,ia){this._appCtx.write(Ma,Oa,ia);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ba=qa.extend({init:function ua(Oa,ia){ua.base.call(this,ia);Object.defineProperties(this,{_payloads:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Oa,ia,ua){var Ga;function xa(Aa,La){var Ca;if(Aa == Ga._payloads.length)ua.result(!0);else {Ca=Ga._payloads[Aa];Oa.setCompressionAlgorithm(Ca.compressionAlgo,ia,{result:function(Ta){Oa.write(Ca.data,0,Ca.data.length,ia,{result:function(Va){Za(ua,function(){Ca.isEndOfMessage()?xa(Aa + 1,La):Oa.flush(ia,{result:function(Ua){ua.result(Ua);},timeout:function(){ua.timeout();},error:function(Ua){ua.error(Ua);}});},Ga);},timeout:function(Va){ua.timeout(Va);},error:function(Va){ua.error(Va);}});},timeout:function(){},error:function(Ta){ua.error(Ta);}});}}Ga=this;xa(0);}});sa=qa.extend({init:function ua(ia){ua.base.call(this,ia);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ia,ua,xa){xa.result(!0);}});oa={};W=zb.Class.create({init:function(ia){ia || (ia=new na());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ia,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ia){this._filterFactory=ia;},getNewestMasterToken:function(ia,ua,xa,Ga){var Aa;Aa=this;Za(Ga,function(){var La,Ca,Ta,Va,Ua;La=ua.getMslStore();Ca=La.getMasterToken();if(!Ca)return null;Ta=Ca.uniqueKey();Va=this._masterTokenLocks[Ta];Va || (Va=new Sd(),this._masterTokenLocks[Ta]=Va);Ua=Va.readLock(xa,{result:function(fb){Za(Ga,function(){var jb;if(fb === yb)throw new Zb("getNewestMasterToken aborted.");jb=La.getMasterToken();if(Ca.equals(jb))return new Y(Ca,fb);Va.unlock(fb);Va.writeLock(xa,{result:function(mb){Za(Ga,function(){if(mb === yb)throw new Zb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Ta];Va.unlock(mb);return this.getNewestMasterToken(ia,ua,xa,Ga);},Aa);},timeout:function(){Ga.timeout();},error:function(mb){Ga.error(mb);}});},Aa);},timeout:function(){Ga.timeout();},error:function(fb){Ga.error(fb);}});ia.setAbort(function(){Ua && (Va.cancel(Ua),Ua=yb);});},Aa);},deleteMasterToken:function(ia,ua){var xa;if(ua){xa=this;setTimeout(function(){var Ga,Aa;Ga=ua.uniqueKey();Aa=xa._masterTokenLocks[Ga];Aa || (Aa=new Sd(),xa._masterTokenLocks[Ga]=Aa);Aa.writeLock(-1,{result:function(La){ia.getMslStore().removeCryptoContext(ua);delete xa._masterTokenLocks[Ga];Aa.unlock(La);},timeout:function(){throw new ub("Unexpected timeout received.");},error:function(La){throw La;}});},0);}},releaseMasterToken:function(ia){var ua;if(ia && ia.masterToken){ua=ia.masterToken.uniqueKey();ua=this._masterTokenLocks[ua];if(!ua)throw new ub("Master token read/write lock does not exist when it should.");ua.unlock(ia.ticket);}},updateOutgoingCryptoContexts:function(ia,ua,xa){var Ga;Ga=ia.getMslStore();!ia.isPeerToPeer() && xa && (Ga.setCryptoContext(xa.keyResponseData.masterToken,xa.cryptoContext),this.deleteMasterToken(ia,ua.masterToken));},updateIncomingCryptoContexts:function(ia,ua,xa){var Ga,Aa;Ga=xa.getMessageHeader();if(Ga){Aa=ia.getMslStore();if(Ga=Ga.keyResponseData)(Aa.setCryptoContext(Ga.masterToken,xa.getKeyExchangeCryptoContext()),this.deleteMasterToken(ia,ua.masterToken));}},storeServiceTokens:function(ia,ua,xa,Ga){var Ca,Ta;ia=ia.getMslStore();for(var Aa=[],La=0;La < Ga.length;++La){Ca=Ga[La];if(!Ca.isBoundTo(ua) || !ua.isVerified()){Ta=Ca.data;Ta && 0 == Ta.length?ia.removeServiceTokens(Ca.name,Ca.isMasterTokenBound()?ua:null,Ca.isUserIdTokenBound()?xa:null):Aa.push(Ca);}}0 < Aa.length && ia.addServiceTokens(Aa);},buildRequest:function(ia,ua,xa,Ga,Aa){var La;La=this;this.getNewestMasterToken(ia,ua,Ga,{result:function(Ca){Ia(Aa,function(){var Ta,Va,Ua;Ta=Ca && Ca.masterToken;if(Ta){Va=xa.getUserId();Ua=ua.getMslStore();Va=(Va=Va?Ua.getUserIdToken(Va):null) && Va.isBoundTo(Ta)?Va:null;}else Va=null;Uc(ua,Ta,Va,null,{result:function(fb){Ia(Aa,function(){fb.setNonReplayable(xa.isNonReplayable());return {builder:fb,tokenTicket:Ca};});},error:function(fb){Ia(Aa,function(){this.releaseMasterToken(Ca);fb instanceof Ya && (fb=new ub("User ID token not bound to master token despite internal check.",fb));throw fb;},La);}});},La);},timeout:function(){Aa.timeout();},error:function(Ca){Aa.error(Ca);}});},buildResponse:function(ia,ua,xa,Ga,Aa,La){var Ca;Ca=this;gf(ua,Ga,{result:function(Ta){Za(La,function(){Ta.setNonReplayable(xa.isNonReplayable());if(!ua.isPeerToPeer() && !Ga.keyResponseData)return {builder:Ta,tokenTicket:null};this.getNewestMasterToken(ia,ua,Aa,{result:function(Va){Za(La,function(){var Ua,fb,jb;Ua=Va && Va.masterToken;if(Ua){fb=xa.getUserId();jb=ua.getMslStore();fb=(fb=fb?jb.getUserIdToken(fb):null) && fb.isBoundTo(Ua)?fb:null;}else fb=null;Ta.setAuthTokens(Ua,fb);return {builder:Ta,tokenTicket:Va};},Ca);},timeout:function(){La.timeout();},error:function(Va){La.error(Va);}});},Ca);},error:function(Ta){La.error(Ta);}});},buildErrorResponse:function(ia,ua,xa,Ga,Aa,La,Ca){var Ua;function Ta(fb,jb){Za(Ca,function(){var mb,pb;mb=Tc(Aa.messageId);pb=new Ba(jb,xa);Uc(ua,null,null,mb,{result:function(qb){Za(Ca,function(){ua.isPeerToPeer() && qb.setPeerAuthTokens(fb.peerMasterToken,fb.peerUserIdToken);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new aa(qb,pb),tokenTicket:null};},Ua);},error:function(qb){Ca.error(qb);}});},Ua);}function Va(fb,jb){Ua.getNewestMasterToken(ia,ua,La,{result:function(mb){Za(Ca,function(){var pb,qb,xb;pb=mb && mb.masterToken;qb=Tc(Aa.messageId);xb=new Ba(jb,xa);Uc(ua,pb,null,qb,{result:function(vb){Za(Ca,function(){ua.isPeerToPeer() && vb.setPeerAuthTokens(fb.peerMasterToken,fb.peerUserIdToken);vb.setNonReplayable(xb.isNonReplayable());return {errorResult:new aa(vb,xb),tokenTicket:mb};},Ua);},error:function(vb){Ca.error(vb);}});},Ua);},timeout:function(){Ca.timeout();},error:function(mb){Ca.error(mb);}});}Ua=this;Za(Ca,function(){var fb,jb,mb,pb;fb=Ga.requestHeader;jb=Ga.payloads;mb=Aa.errorCode;switch(mb){case Ha.ENTITYDATA_REAUTH:case Ha.ENTITY_REAUTH:ua.getEntityAuthenticationData(mb,{result:function(qb){Za(Ca,function(){if(!qb)return null;Ta(fb,jb);},Ua);},error:function(qb){Ca.error(qb);}});break;case Ha.USERDATA_REAUTH:case Ha.SSOTOKEN_REJECTED:xa.getUserAuthData(mb,!1,!0,{result:function(qb){Za(Ca,function(){if(!qb)return null;Va(fb,jb);},Ua);},error:function(qb){Ca.error(qb);}});break;case Ha.USER_REAUTH:Va(fb,jb);break;case Ha.KEYX_REQUIRED:mb=Tc(Aa.messageId);pb=new Ba(jb,xa);Uc(ua,null,null,mb,{result:function(qb){Za(Ca,function(){ua.isPeerToPeer() && qb.setPeerAuthTokens(fb.peerMasterToken,fb.peerUserIdToken);qb.setRenewable(!0);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new aa(qb,pb),tokenTicket:null};},Ua);},error:function(qb){Ca.error(qb);}});break;case Ha.EXPIRED:this.getNewestMasterToken(ia,ua,La,{result:function(qb){Za(Ca,function(){var xb,vb,r,b;xb=qb && qb.masterToken;vb=fb.userIdToken;r=Tc(Aa.messageId);b=new Ba(jb,xa);Uc(ua,xb,vb,r,{result:function(a){Za(Ca,function(){ua.isPeerToPeer() && a.setPeerAuthTokens(fb.peerMasterToken,fb.peerUserIdToken);fb.masterToken.equals(xb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new aa(a,b),tokenTicket:qb};},Ua);},error:function(a){Ca.error(a);}},Ua);},Ua);},timeout:function(){Ca.timeout();},error:function(qb){Ca.error(qb);}});break;case Ha.REPLAYED:this.getNewestMasterToken(ia,ua,La,{result:function(qb){Za(Ca,function(){var xb,vb,r,b;xb=qb && qb.masterToken;vb=fb.userIdToken;r=Tc(Aa.messageId);b=new Ba(jb,xa);Uc(ua,xb,vb,r,{result:function(a){Za(Ca,function(){ua.isPeerToPeer() && a.setPeerAuthTokens(fb.peerMasterToken,fb.peerUserIdToken);fb.masterToken.equals(xb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new aa(a,b),tokenTicket:qb};},Ua);},error:function(a){Ca.error(a);}});},Ua);},timeout:function(){Ca.timeout();},error:function(qb){Ca.error(qb);}});break;default:return null;}},Ua);},cleanupContext:function(ia,ua,xa){switch(xa.errorCode){case Ha.ENTITY_REAUTH:this.deleteMasterToken(ia,ua.masterToken);break;case Ha.USER_REAUTH:(xa=ua.userIdToken,ua.masterToken && xa && ia.getMslStore().removeUserIdToken(xa));}},send:function(ia,ua,xa,Ga,Aa,La,Ca){var mb;function Ta(pb,qb,xb){Za(Ca,function(){var vb;vb=Aa.getPeerUserIdToken();!ua.isPeerToPeer() && !qb || ua.isPeerToPeer() && !vb?(vb=xa.getCustomer())?Aa.setCustomer(vb,{result:function(r){Za(Ca,function(){qb=Aa.getUserIdToken();Va(pb,qb,xb);},mb);},error:function(r){Ca.error(r);}}):Va(pb,qb,xb):Va(pb,qb,xb);},mb);}function Va(pb,qb,xb){Za(Ca,function(){var vb,r;vb=!xb && (!xa.isEncrypted() || Aa.willEncryptPayloads()) && (!xa.isIntegrityProtected() || Aa.willIntegrityProtectPayloads()) && (!xa.isNonReplayable() || Aa.isNonReplayable() && pb);vb || Aa.setNonReplayable(!1);r=[];Aa.isRenewable() && (!pb || pb.isRenewable() || xa.isNonReplayable())?xa.getKeyRequestData({result:function(b){Za(Ca,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Aa.addKeyRequestData(c);}Ua(pb,qb,vb,r);},mb);},error:function(b){Ca.error(b);}}):Ua(pb,qb,vb,r);},mb);}function Ua(pb,qb,xb,vb){Za(Ca,function(){var r;r=new jf(ua,xa,Aa);xa.updateServiceTokens(r,!xb,{result:function(b){Aa.getHeader({result:function(a){Za(Ca,function(){var c,g;c=xa.getDebugContext();c && c.sentHeader(a);c=Aa.getKeyExchangeData();this.updateOutgoingCryptoContexts(ua,a,c);this.storeServiceTokens(ua,pb,qb,a.serviceTokens);c=!ua.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ia.isAborted())throw new Zb("send aborted.");g=null != this._filterFactory?this._filterFactory.getOutputStream(Ga):Ga;Hd(ua,g,Jb,a,c,La,{result:function(l){ia.setAbort(function(){l.abort();});fb(l,a,xb);},timeout:function(){Ca.timeout();},error:function(l){Ca.error(l);}});},mb);},timeout:function(){Ca.timeout();},error:function(a){Ca.error(a);}});},error:function(b){Ca.error(b);}});},mb);}function fb(pb,qb,xb){var vb,r;if(xb)xa.write(pb,La,{result:function(b){Za(Ca,function(){if(ia.isAborted())throw new Zb("MessageOutputStream write aborted.");jb(pb,qb,xb);},mb);},timeout:function(){Ca.timeout();},error:function(b){Ca.error(b);}});else {vb=new pa();r=new $c();Hd(ua,vb,Jb,qb,r,La,{result:function(b){xa.write(b,La,{result:function(a){Za(Ca,function(){if(ia.isAborted())throw new Zb("MessageOutputStream proxy write aborted.");b.close(La,{result:function(c){Za(Ca,function(){var g;if(!c)throw new Zb("MessageOutputStream proxy close aborted.");g=b.getPayloads();jb(pb,qb,xb,g);},mb);},timeout:function(){Ca.timeout();},error:function(c){Ca.error(c);}});},mb);},timeout:function(){Ca.timeout();},error:function(a){Ca.error(a);}});},timeout:function(){Ca.timeout();},error:function(b){Ca.error(b);}});}}function jb(pb,qb,xb,vb){pb.close(La,{result:function(r){Za(Ca,function(){if(!r)throw new Zb("MessageOutputStream close aborted.");vb || (vb=pb.getPayloads());return new fa(qb,vb,!xb);},mb);},timeout:function(){Ca.timeout();},error:function(r){Ca.error(r);}});}mb=this;Za(Ca,function(){var pb,qb,xb,vb;pb=Aa.getMasterToken();qb=Aa.getUserIdToken();xb=!1;if(xa.getUserId()){vb=!qb;xa.getUserAuthData(null,Aa.isRenewable(),vb,{result:function(r){Za(Ca,function(){r && (Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()?Aa.setUserAuthenticationData(r):xb=!0);Ta(pb,qb,xb);},mb);},error:function(r){Ca.error(r);}});}else Ta(pb,qb,xb);},mb);},receive:function(ia,ua,xa,Ga,Aa,La,Ca){var Ta;Ta=this;Za(Ca,function(){var Va,Ua,fb;if(ia.isAborted())throw new Zb("receive aborted.");Va=[];Aa && (Va=Aa.keyRequestData.filter(function(){return !0;}));Ua=xa.getCryptoContexts();fb=this._filterFactory?this._filterFactory.getInputStream(Ga):Ga;lf(ua,fb,Jb,Va,Ua,La,{result:function(jb){ia.setAbort(function(){jb.abort();});jb.isReady(La,{result:function(mb){Za(Ca,function(){var pb,qb,xb,vb;if(!mb)throw new Zb("MessageInputStream aborted.");pb=jb.getMessageHeader();qb=jb.getErrorHeader();xb=xa.getDebugContext();xb && xb.receivedHeader(pb?pb:qb);if(Aa && (xb=qb?qb.errorCode:null,pb || xb != Ha.FAIL && xb != Ha.TRANSIENT_FAILURE && xb != Ha.ENTITY_REAUTH && xb != Ha.ENTITYDATA_REAUTH)){xb=pb?pb.messageId:qb.messageId;vb=Tc(Aa.messageId);if(xb != vb)throw new Fb(V.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + vb + "; received " + xb);}ua.getEntityAuthenticationData(null,{result:function(r){Za(Ca,function(){var b,a,c,g;b=r.getIdentity();if(pb){a=pb.entityAuthenticationData;c=pb.masterToken;a=c?pb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Fb(V.UNEXPECTED_MESSAGE_SENDER,a);Aa && this.updateIncomingCryptoContexts(ua,Aa,jb);b=pb.keyResponseData;ua.isPeerToPeer()?(b=b?b.masterToken:pb.peerMasterToken,c=pb.peerUserIdToken,a=pb.peerServiceTokens):(b=b?b.masterToken:pb.masterToken,c=pb.userIdToken,a=pb.serviceTokens);g=xa.getUserId();g && c && !c.isVerified() && ua.getMslStore().addUserIdToken(g,c);this.storeServiceTokens(ua,b,c,a);}else if((a=qb.entityAuthenticationData.getIdentity(),b == a))throw new Fb(V.UNEXPECTED_MESSAGE_SENDER,a);return jb;},Ta);},error:Ca.error});},Ta);},timeout:function(){Ca.timeout();},error:function(mb){Ca.error(mb);}});},timeout:function(){Ca.timeout();},error:function(jb){Ca.error(jb);}});},Ta);},sendReceive:function(ia,ua,xa,Ga,Aa,La,Ca,Ta,Va){var fb;function Ua(jb,mb){Za(Va,function(){La.setRenewable(mb);this.send(ia,ua,xa,Aa,La,Ca,{result:function(pb){Za(Va,function(){var qb;qb=pb.requestHeader.keyRequestData;Ta || pb.handshake || !qb.isEmpty()?this.receive(ia,ua,xa,Ga,pb.requestHeader,Ca,{result:function(xb){Za(Va,function(){mb && this.releaseRenewalLock(ua,jb,xb);return new ca(xb,pb);},fb);},timeout:function(){Za(Va,function(){mb && this.releaseRenewalLock(ua,jb,null);Va.timeout();},fb);},error:function(xb){Za(Va,function(){mb && this.releaseRenewalLock(ua,jb,null);throw xb;},fb);}}):Za(Va,function(){mb && this.releaseRenewalLock(ua,jb,null);return new ca(null,pb);},fb);},fb);},timeout:function(){Za(Va,function(){mb && this.releaseRenewalLock(ua,jb,null);Va.timeout();},fb);},error:function(pb){Za(Va,function(){mb && this.releaseRenewalLock(ua,jb,null);throw pb;},fb);}});},fb);}fb=this;Za(Va,function(){var jb;jb=new gd();this.acquireRenewalLock(ia,ua,xa,jb,La,Ca,{result:function(mb){Ua(jb,mb);},timeout:function(){Va.timeout();},error:function(mb){mb instanceof Zb?Va.result(null):Va.error(mb);}});},fb);},acquireRenewalLock:function(ia,ua,xa,Ga,Aa,La,Ca){var Ua;function Ta(fb,jb,mb){Za(Ca,function(){var xb,vb;if(ia.isAborted())throw new Zb("acquireRenewalLock aborted.");for(var pb=null,qb=0;qb < this._renewingContexts.length;++qb){xb=this._renewingContexts[qb];if(xb.ctx === ua){pb=xb.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:ua,queue:Ga}),!0);vb=pb.poll(La,{result:function(r){Za(Ca,function(){var b;if(r === yb)throw new Zb("acquireRenewalLock aborted.");pb.add(r);if(r === oa || r.isExpired())Ta(r,jb,mb);else {if(mb && !jb || jb && !jb.isBoundTo(r)){b=ua.getMslStore().getUserIdToken(mb);jb=b && b.isBoundTo(r)?b:null;}Aa.setAuthTokens(r,jb);Aa.isRenewable() && r.equals(fb)?Ta(r,jb,mb):xa.isRequestingTokens() && !jb?Ta(r,jb,mb):Va(r,jb);}},Ua);},timeout:function(){},error:function(r){}});ia.setAbort(function(){vb && (pb.cancel(vb),vb=yb);});},Ua);}function Va(fb,jb){Za(Ca,function(){var qb;if(ia.isAborted())throw new Zb("acquireRenewalLock aborted.");if(!fb || fb.isRenewable() || !jb && xa.getUserId() || jb && jb.isRenewable()){for(var mb=null,pb=0;pb < this._renewingContexts.length;++pb){qb=this._renewingContexts[pb];if(qb.ctx === ua){mb=qb.queue;break;}}if(!mb)return (this._renewingContexts.push({ctx:ua,queue:Ga}),!0);}return !1;},Ua);}Ua=this;Za(Ca,function(){var fb,jb,mb;fb=Aa.getMasterToken();jb=Aa.getUserIdToken();mb=xa.getUserId();xa.isEncrypted() && !Aa.willEncryptPayloads() || xa.isIntegrityProtected() && !Aa.willIntegrityProtectPayloads() || Aa.isRenewable() || !fb && xa.isNonReplayable() || fb && fb.isExpired() || !(jb || !mb || Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()) || xa.isRequestingTokens() && (!fb || mb && !jb)?Ta(fb,jb,mb):Va(fb,jb);},Ua);},releaseRenewalLock:function(ia,ua,xa){var Ca;for(var Ga,Aa,La=0;La < this._renewingContexts.length;++La){Ca=this._renewingContexts[La];if(Ca.ctx === ia){Ga=La;Aa=Ca.queue;break;}}if(Aa !== ua)throw new ub("Attempt to release renewal lock that is not owned by this queue.");xa?(xa=xa.messageHeader)?(Aa=xa.keyResponseData)?ua.add(Aa.masterToken):(ia=ia.isPeerToPeer()?xa.peerMasterToken:xa.masterToken)?ua.add(ia):ua.add(oa):ua.add(oa):ua.add(oa);this._renewingContexts.splice(Ga,1);}});of=zb.Class.create({init:function(){var ia;ia={_impl:{value:new W(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},setFilterFactory:function(ia){this._impl.setFilterFactory(ia);},shutdown:function(){this._shutdown=!0;},receive:function(ia,ua,xa,Ga,Aa,La){var Ca;if(this._shutdown)throw new Ya("MslControl is shutdown.");Ca=new Z(this._impl,ia,ua,xa,Ga,Aa);setTimeout(function(){Ca.call(La);},0);return ea(Ca);},respond:function(ia,ua,xa,Ga,Aa,La,Ca){var Ta;if(this._shutdown)throw new Ya("MslControl is shutdown.");Ta=new ba(this._impl,ia,ua,xa,Ga,Aa,La);setTimeout(function(){Ta.call(Ca);},0);return ea(Ta);},error:function xa(ia,ua,xa,Ga,Aa,La,Ca){var Ta;if(this._shutdown)throw new Ya("MslControl is shutdown.");Ta=new ja(this._impl,ia,ua,xa,Ga,Aa,La);setTimeout(function(){Ta.call(Ca);},0);return ea(Ta);},request:function(ia,ua){var xa,Ga,Aa,La,Ca,Ta;if(this._shutdown)throw new Ya("MslControl is shutdown.");if(5 == arguments.length){Ga=arguments[2];Aa=xa=null;La=arguments[3];Ca=arguments[4];if(ia.isPeerToPeer()){Ca.error(new ub("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ga=null,xa=arguments[2],Aa=arguments[3],La=arguments[4],Ca=arguments[5],!ia.isPeerToPeer())){Ca.error(new ub("This method cannot be used in trusted network mode."));return;}Ta=new Da(this._impl,ia,ua,Ga,xa,Aa,null,0,La);setTimeout(function(){Ta.call(Ca);},0);return ea(Ta);}});Z=zb.Class.create({init:function(ia,ua,xa,Ga,Aa,La){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:La,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:yb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},call:function(ia){var Aa;function ua(La){Za(ia,function(){var Ca;Ca=La.messageHeader;if(!Ca)return La;this.setAbort(function(){La.abort();});La.mark(Number.MAX_VALUE);La.read(1,Aa._timeout,{result:function(Ta){Za(ia,function(){if(Ta && 0 == Ta.length)return null;if(Ta)return (La.reset(),La);xa(La);},Aa);},timeout:function(){ia.timeout();},error:function(Ta){Za(ia,function(){var Va,Ua,fb;if(T(Ta))return null;Va=Ca?Ca.messageId:null;if(Ta instanceof Ub){Ua=V.MSL_COMMS_FAILURE;fb=Ta;}else (Ua=V.INTERNAL_EXCEPTION,fb=new ub("Error peeking into the message payloads."));X(this,this._ctx,this._msgCtx.getDebugContext(),Va,Ua,null,this._output,this._timeout,{result:function(jb){ia.error(fb);},timeout:function(){ia.timeout();},error:function(jb){Za(ia,function(){if(T(jb))return null;throw new jc("Error peeking into the message payloads.",jb,Ta);},Aa);}});},Aa);}});},Aa);}function xa(La){Za(ia,function(){La.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,La.messageHeader,this._timeout,{result:function(Ca){Za(ia,function(){var Ta,Va,Ua,fb,jb;Ta=Ca.builder;Va=Ca.tokenTicket;Ua=La.messageHeader;fb=new sa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ua.isEncrypting() || Ua.keyResponseData)Ga(Ua,Ta,fb,Va);else {jb=new Da(this._ctrl,this._ctx,fb,null,this._input,this._output,Ca,1,this._timeout);this.setAbort(function(){jb.abort();});jb.call(ia);}},Aa);},timeout:function(){ia.timeout();},error:function(Ca){Za(ia,function(){var Ta,Va,Ua,fb;if(T(Ca))return null;if(Ca instanceof Ya){Ta=Ca.messageId;Va=Ca.error;Ua=La.messageHeader.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Va,Ua?Ua.languages:null);fb=Ca;}else (Ta=requestHeader?requestHeader.messageId:null,Va=V.INTERNAL_EXCEPTION,Ua=null,fb=new ub("Error creating an automatic handshake response.",Ca));X(this,this._ctx,this._msgCtx.getDebugContext(),Ta,Va,Ua,this._output,this._timeout,{result:function(jb){ia.error(fb);},timeout:function(){ia.timeout();},error:function(jb){Za(ia,function(){if(T(jb))return null;throw new jc("Error creating an automatic handshake response.",jb,Ca);},Aa);}});},Aa);}});},Aa);}function Ga(La,Ca,Ta,Va){Za(ia,function(){Ca.setRenewable(!1);this._ctrl.send(this._ctx,Ta,this._output,Ca,this._timeout,{result:function(Ua){Za(ia,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Va);return null;},Aa);},timeout:function(){Za(ia,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Va);ia.timeout();},Aa);},error:function(Ua){Za(ia,function(){var fb,jb,mb,pb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Va);if(T(Ua))return null;if(Ua instanceof Ya){fb=Ua.messageId;jb=Ua.error;mb=La?La.messageCapabilities:null;mb=this._ctrl.messageRegistry.getUserMessage(jb,mb?mb.languages:null);pb=Ua;}else Ua instanceof Ub?(fb=La?La.messageId:null,jb=V.MSL_COMMS_FAILURE,mb=null,pb=Ua):(fb=La?La.messageId:null,jb=V.INTERNAL_EXCEPTION,mb=null,pb=new ub("Error sending an automatic handshake response.",Ua));X(this,this._ctx,this._msgCtx.getDebugContext(),fb,jb,mb,this._output,this._timeout,{result:function(qb){ia.error(pb);},timeout:function(){ia.timeout();},error:function(qb){Za(ia,function(){if(T(qb))return null;throw new jc("Error sending an automatic handshake response.",qb,Ua);},Aa);}});},Aa);}});},Aa);}Aa=this;Za(ia,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(La){ua(La);},timeout:function(){ia.timeout();},error:function(La){Za(ia,function(){var Ca,Ta,Va,Ua;if(T(La))return null;if(La instanceof Ya){Ca=La.messageId;Ta=La.error;Va=this._ctrl.messageRegistry.getUserMessage(Ta,null);Ua=La;}else (Ca=null,Ta=V.INTERNAL_EXCEPTION,Va=null,Ua=new ub("Error receiving the message header.",La));X(this,this._ctx,this._msgCtx.getDebugContext(),Ca,Ta,Va,this._output,this._timeout,{result:function(fb){ia.error(Ua);},timeout:function(){ia.timeout();},error:function(fb){Za(ia,function(){if(T(fb))return null;throw new jc("Error receiving the message header.",fb,La);},Aa);}});},Aa);}});},Aa);}});ba=zb.Class.create({init:function(ia,ua,xa,Ga,Aa,La,Ca){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_request:{value:La,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:yb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},trustedNetworkExecute:function(ia,ua,xa){var Ga;Ga=this;Za(xa,function(){var Aa,La;if(12 < ua + 1)return !1;if(Aa=this._msgCtx.isIntegrityProtected() && !ia.willIntegrityProtectHeader()?V.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ia.willEncryptPayloads()?V.RESPONSE_REQUIRES_ENCRYPTION:null){La=ad(ia.getMessageId());X(this,this._ctx,this._msgCtx.getDebugContext(),La,Aa,null,this._output,this._timeout,{result:function(Ca){xa.result(!1);},timeout:function(){xa.timeout();},error:function(Ca){Za(xa,function(){if(T(Ca))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Aa,Ca,null);},Ga);}});}else !this._msgCtx.getCustomer() || ia.getMasterToken() || ia.getKeyExchangeData()?(ia.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ia,this._timeout,{result:function(Ca){xa.result(!0);},timeout:function(){xa.timeout();},error:function(Ca){xa.error(Ca);}})):(La=ad(ia.getMessageId()),X(this,this._ctx,this._msgCtx.getDebugContext(),La,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ca){xa.result(!1);},timeout:function(){xa.timeout();},error:function(Ca){Za(xa,function(){if(T(Ca))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ca,null);},Ga);}}));},Ga);},peerToPeerExecute:function(ia,ua,xa,Ga){var La;function Aa(Ca){Za(Ga,function(){var Ta;Ta=Ca.response;Ta.close();Ta=Ta.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ca.requestHeader,Ta);this._ctrl.buildErrorResponse(this,this._ctx,ia,Ca,Ta,{result:function(Va){Za(Ga,function(){var Ua,fb;if(!Va)return !1;Ua=Va.errorResult;fb=Va.tokenTicket;this.peerToPeerExecute(Ua.msgCtx,Ua.builder,xa,{result:function(jb){Za(Ga,function(){this._ctrl.releaseMasterToken(fb);return jb;},La);},timeout:function(){Za(Ga,function(){this._ctrl.releaseMasterToken(fb);Ga.timeout();},La);},error:function(jb){Za(Ga,function(){this._ctrl.releaseMasterToken(fb);throw jb;},La);}});},La);}});},La);}La=this;Za(Ga,function(){var Ca;if(12 < xa + 2)return !1;if(null != ia.getCustomer() && null == ua.getPeerMasterToken() && null == ua.getKeyExchangeData()){Ca=ad(ua.getMessageId());X(this,this._ctx,ia.getDebugContext(),Ca,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ta){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Ta){Za(Ga,function(){if(T(Ta))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ta,null);},La);}});}else this._ctrl.sendReceive(this._ctx,ia,this._input,this._output,ua,this._timeout,!1,{result:function(Ta){Za(Ga,function(){var fb,jb,mb;function Va(){fb.read(32768,La._timeout,{result:function(pb){Za(Ga,function(){pb?Va():Ua();},La);},timeout:function(){Ga.timeout();},error:function(pb){Ga.error(pb);}});}function Ua(){Za(Ga,function(){var pb;pb=new Ba(Ta.payloads,ia);this._ctrl.buildResponse(this,this._ctx,pb,jb,this._timeout,{result:function(qb){Za(Ga,function(){var xb;xb=qb.tokenTicket;this.peerToPeerExecute(pb,qb.builder,xa,{result:function(vb){Za(Ga,function(){this._ctrl.releaseMasterToken(xb);return vb;},La);},timeout:function(){Za(Ga,function(){this._ctrl.releaseMasterToken(xb);Ga.timeout();},La);},error:function(vb){Za(Ga,function(){this._ctrl.releaseMasterToken(xb);throw vb;},La);}});},La);},timeout:function(){Ga.timeout();},error:function(qb){Ga.error(qb);}});},La);}fb=Ta.response;xa+=2;if(!fb)return !0;jb=fb.getMessageHeader();if(jb){mb=Ta.payloads;mb=0 < mb.length && 0 < mb[0].data.length;if(Ta.handshake && mb)Va();else return !0;}else Aa(Ta);},La);},timeout:function(){Ga.timeout();},error:function(Ta){Ga.error(Ta);}});},La);},call:function(ia){var ua;ua=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(xa){Za(ia,function(){var Ga,Aa;Ga=xa.builder;Aa=xa.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ga,3,{result:function(La){Za(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return La;},ua);},timeout:function(){Za(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ia.timeout();},ua);},error:function(La){Za(ia,function(){var Ca,Ta,Va,Ua;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(T(La))return !1;Ca=ad(Ga.getMessageId());if(La instanceof Ya){Ta=La.error;Va=this._request.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage(Ta,Va?Va.languages:null);Ua=La;}else La instanceof Ub?(Ta=V.MSL_COMMS_FAILURE,Va=null,Ua=La):(Ta=V.INTERNAL_EXCEPTION,Va=null,Ua=new ub("Error sending the response.",La));X(this,this._ctx,this._msgCtx.getDebugContext(),Ca,Ta,Va,this._output,this._timeout,{result:function(fb){ia.error(Ua);},timeout:function(){ia.timeout();},error:function(fb){Za(ia,function(){if(T(fb))return !1;throw new jc("Error sending the response.",fb,null);},ua);}});},ua);}}):this.trustedNetworkExecute(Ga,3,{result:function(La){Za(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return La;},ua);},timeout:function(){Za(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ia.timeout();},ua);},error:function(La){Za(ia,function(){var Ca,Ta,Va,Ua;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(T(La))return !1;Ca=ad(Ga.getMessageId());if(La instanceof Ya){Ta=La.error;Va=this._request.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage(Ta,Va?Va.languages:null);Ua=La;}else La instanceof Ub?(Ta=V.MSL_COMMS_FAILURE,Va=null,Ua=La):(Ta=V.INTERNAL_EXCEPTION,Va=null,Ua=new ub("Error sending the response.",La));X(this,this._ctx,this._msgCtx.getDebugContext(),Ca,Ta,Va,this._output,this._timeout,{result:function(fb){ia.error(Ua);},timeout:function(){ia.timeout();},error:function(fb){Za(ia,function(){if(T(fb))return !1;throw new jc("Error sending the response.",fb,null);},ua);}});},ua);}});},ua);},timeout:function(){ia.timeout();},error:function(xa){Za(ia,function(){var Ga,Aa,La,Ca;if(T(xa))return !1;if(xa instanceof Ya){Ga=xa.messageId;Aa=xa.error;La=this._request.messageCapabilities;La=this._ctrl.messageRegistry.getUserMessage(Aa,La?La.languages:null);Ca=xa;}else (Ga=null,Aa=V.INTERNAL_EXCEPTION,La=null,Ca=new ub("Error building the response.",xa));X(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Aa,La,this._output,this._timeout,{result:function(Ta){ia.error(Ca);},timeout:function(){ia.timeout();},error:function(Ta){Za(ia,function(){if(T(Ta))return null;throw new jc("Error building the response.",Ta,xa);},ua);}});},ua);}});}});ja=zb.Class.create({init:function(ia,ua,xa,Ga,Aa,La,Ca){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:La,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:yb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},call:function(ia){var ua;ua=this;Za(ia,function(){var xa,Ga;if(this._appError == ENTITY_REJECTED)xa=this._request.masterToken?V.MASTERTOKEN_REJECTED_BY_APP:V.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)xa=this._request.userIdToken?V.USERIDTOKEN_REJECTED_BY_APP:V.USER_REJECTED_BY_APP;else throw new ub("Unhandled application error " + this._appError + ".");Ga=this._request.messageCapabilities;Ga=this._ctrl.messageRegistry.getUserMessage(xa,Ga?Ga.languages:null);X(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,xa,Ga,this._output,this._timeout,{result:function(Aa){ia.result(Aa);},timeout:ia.timeout,error:function(Aa){Za(ia,function(){if(T(Aa))return !1;if(Aa instanceof Ya)throw Aa;throw new ub("Error building the error response.",Aa);},ua);}});},ua);}});Fa={result:function(){},timeout:function(){},error:function(){}};Da=zb.Class.create({init:function(ia,ua,xa,Ga,Aa,La,Ca,Ta,Va){var Ua;if(Ca){Ua=Ca.builder;Ca=Ca.tokenTicket;}else Ca=Ua=null;Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:Aa,writable:!0,enumerable:!1,configurable:!1},_output:{value:La,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Va,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:yb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},execute:function(ia,ua,xa,Ga,Aa){var Ta;function La(Va){function Ua(fb){Za(Aa,function(){var jb;jb=Va.response;return fb?fb:jb;},Ta);}Za(Aa,function(){var fb,jb;fb=Va.response;fb.close();jb=fb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Va.requestHeader,jb);this._ctrl.buildErrorResponse(this,this._ctx,ia,Va,jb,xa,{result:function(mb){Za(Aa,function(){var pb,qb,xb,vb;if(!mb)return fb;pb=mb.errorResult;qb=mb.tokenTicket;xb=pb.builder;pb=pb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(pb,xb,this._timeout,Ga,{result:function(r){Za(Aa,function(){this._ctrl.releaseMasterToken(qb);Ua(r);},Ta);},timeout:function(){Za(Aa,function(){this._ctrl.releaseMasterToken(qb);Aa.timeout();},Ta);},error:function(r){Za(Aa,function(){this._ctrl.releaseMasterToken(qb);Aa.error(r);},Ta);}});else {this._openedStreams && (this._input.close(),this._output.close(xa,Fa));vb=new Da(this._ctrl,this._ctx,pb,this._remoteEntity,null,null,{builder:xb,tokenTicket:qb},Ga,this._timeout);this.setAbort(function(){vb.abort();});vb.call({result:function(r){Ua(r);},timeout:function(){Aa.timeout();},error:function(r){Aa.error(r);}});}},Ta);},timeout:function(){Aa.timeout();},error:function(mb){Aa.error(mb);}});},Ta);}function Ca(Va){Za(Aa,function(){var jb,mb,pb,qb,xb;function Ua(){jb.read(32768,Ta._timeout,{result:function(vb){vb?Ua():fb();},timeout:function(){Aa.timeout();},error:function(vb){Aa.error(vb);}});}function fb(){Za(Aa,function(){var vb;vb=new Ba(Va.payloads,ia);this._ctrl.buildResponse(this,this._ctx,ia,mb,xa,{result:function(r){Za(Aa,function(){var b;b=r.tokenTicket;this.execute(vb,r.builder,this._timeout,Ga,{result:function(a){Za(Aa,function(){this._ctrl.releaseMasterToken(b);return a;},Ta);},timeout:function(){Za(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Ta);},error:function(a){Za(Aa,function(){this._ctrl.releaseMasterToken(b);throw a;},Ta);}});},Ta);},timeout:function(){Aa.timeout();},error:function(r){Aa.error(r);}});},Ta);}jb=Va.response;mb=jb.getMessageHeader();pb=Va.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!Va.handshake || !pb)return jb;this._openedStreams && (this._input.close(),this._output.close(xa,Fa));qb=new Ba(Va.payloads,ia);this._ctrl.buildResponse(this,this._ctx,ia,mb,xa,{result:function(vb){Za(Aa,function(){var r;r=new Da(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,vb,Ga,this._timeout);this.setAbort(function(){r.abort();});r.call(Aa);},Ta);},timeout:function(){Aa.timeout();},error:function(vb){Aa.error(vb);}});}else if(Va.handshake && pb)Ua();else if(0 < mb.keyRequestData.length){xb=new sa(ia);this._ctrl.buildResponse(this,this._ctx,xb,mb,xa,{result:function(vb){Za(Aa,function(){var r,b;r=vb.builder;b=vb.tokenTicket;jb.mark();jb.read(1,this._timeout,{result:function(a){Za(Aa,function(){function c(){jb.read(32768,Ta._timeout,{result:function(l){l?c():g();},timeout:function(){Aa.timeout();},error:function(l){Aa.error(l);}});}function g(){Ta.execute(xb,r,Ta._timeout,Ga,{result:function(l){Za(Aa,function(){this._ctrl.releaseMasterToken(b);return l;},Ta);},timeout:function(){Za(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Ta);},error:function(l){Za(Aa,function(){this._ctrl.releaseMasterToken(b);throw l;},Ta);}});}if(a){if((jb.reset(),12 >= Ga + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,xb,this._output,r,this._timeout,{result:function(l){Za(Aa,function(){this.releaseMasterToken(b);return jb;},Ta);},timeout:function(){Aa.timeout();},error:function(l){Aa.error(l);}}));else return (this.releaseMasterToken(b),jb);}else c();},Ta);},timeout:function(){Za(Aa,function(){this.releaseMasterToken(b);Aa.timeout();},Ta);},error:function(a){Za(Aa,function(){this.releaseMasterToken(b);throw a;},Ta);}});},Ta);},timeout:function(){Aa.timeout();},error:function(vb){Aa.error(vb);}});}},Ta);}Ta=this;Za(Aa,function(){if(12 < Ga + 2)return null;this._ctrl.sendReceive(this,this._ctx,ia,this._input,this._output,ua,xa,!0,{result:function(Va){Za(Aa,function(){var Ua;if(!Va)return null;Ua=Va.response;Ga+=2;Ua.getMessageHeader()?Ca(Va):La(Va);},Ta);},timeout:function(){Aa.timeout();},error:function(Va){Aa.error(Va);}});},Ta);},call:function(ia){var xa;function ua(Ga,Aa,La){Za(ia,function(){this.execute(this._msgCtx,Ga,La,this._msgCount,{result:function(Ca){Za(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && this._output.close(La,Fa);Ca && Ca.closeSource(this._openedStreams);return Ca;},xa);},timeout:function(){Za(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(La,Fa),this._input.close());ia.timeout();},xa);},error:function(Ca){Za(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(La,Fa),this._input.close());if(T(Ca))return null;throw Ca;},xa);}});},xa);}xa=this;Za(ia,function(){var Ga,Aa,La;Ga=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Aa=Date.now();La=this._remoteEntity.openConnection();this._output=La.output;this._input=La.input;-1 != Ga && (Ga=this._timeout - (Date.now() - Aa));this._openedStreams=!0;}catch(Ca){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Fa);this._input && this._input.close();if(T(Ca))return null;throw Ca;}this._builder?ua(this._builder,this._tokenTicket,Ga):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ca){Za(ia,function(){ua(Ca.builder,Ca.tokenTicket,Ga);},xa);},timeout:function(){Za(ia,function(){this._openedStreams && (this._output.close(this._timeout,Fa),this._input.close());ia.timeout();},xa);},error:function(Ca){Za(ia,function(){this._openedStreams && (this._output.close(this._timeout,Fa),this._input.close());if(T(Ca))return null;throw Ca;},xa);}});},xa);}});})();(function(){le=zb.Class.create({init:function(ea){Object.defineProperties(this,{id:{value:ea,writable:!1,configurable:!1}});},toJSON:function(){var ea;ea={};ea.id=this.id;return ea;},equals:function(ea){return this === ea?!0:ea instanceof le?this.id == ea.id:!1;},uniqueKey:function(){return this.id;}});pf=function(ea){var Y;Y=ea.id;if(!Y)throw new wb(V.JSON_PARSE_ERROR,JSON.stringify(ea));return new le(Y);};})();zb.Class.create({isNewestMasterToken:function(ea,Y,aa){},isMasterTokenRevoked:function(ea,Y){},acceptNonReplayableId:function(ea,Y,aa,fa){},createMasterToken:function(ea,Y,aa,fa,ca){},isMasterTokenRenewable:function(ea,Y,aa){},renewMasterToken:function(ea,Y,aa,fa,ca){},isUserIdTokenRevoked:function(ea,Y,aa,fa){},createUserIdToken:function(ea,Y,aa,fa){},renewUserIdToken:function(ea,Y,aa,fa){}});(function(){function ea(Y,aa,fa,ca){this.sessiondata=Y;this.tokendata=aa;this.signature=fa;this.verified=ca;}fc=zb.Class.create({init:function(Y,aa,fa,ca,T,X,pa,na,qa,Ba,sa){var oa;oa=this;Ia(sa,function(){var W,Z,ba,ja,Fa;if(fa.getTime() < aa.getTime())throw new ub("Cannot construct a master token that expires before its renewal window opens.");if(0 > ca || ca > Kb)throw new ub("Sequence number " + ca + " is outside the valid range.");if(0 > T || T > Kb)throw new ub("Serial number " + T + " is outside the valid range.");W=Math.floor(aa.getTime() / 1E3);Z=Math.floor(fa.getTime() / 1E3);if(Ba)ba=Ba.sessiondata;else {ja={};X && (ja.issuerdata=X);ja.identity=pa;ja.encryptionkey=Ab(na.toByteArray());ja.hmackey=Ab(qa.toByteArray());ba=Qb(JSON.stringify(ja),Jb);}if(Ba)return (Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ca,writable:!1,configurable:!1},serialNumber:{value:T,writable:!1,configurable:!1},issuerData:{value:X,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:qa,writable:!1,configurable:!1},sessiondata:{value:ba,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ba.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Fa=Y.getMslCryptoContext();Fa.encrypt(ba,{result:function(Da){Ia(sa,function(){var Ma,Oa;Ma={};Ma.renewalwindow=W;Ma.expiration=Z;Ma.sequencenumber=ca;Ma.serialnumber=T;Ma.sessiondata=Ab(Da);Oa=Qb(JSON.stringify(Ma),Jb);Fa.sign(Oa,{result:function(ia){Ia(sa,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ca,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:T,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:X,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:qa,writable:!1,configurable:!1},sessiondata:{value:ba,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(ia){sa.error(ia);}});},oa);},error:function(Da){sa.error(Da);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(Y){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(Y){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(Y){var aa;if(this.sequenceNumber == Y.sequenceNumber)return this.expiration > Y.expiration;if(this.sequenceNumber > Y.sequenceNumber){aa=this.sequenceNumber - Kb + 127;return Y.sequenceNumber >= aa;}aa=Y.sequenceNumber - Kb + 127;return this.sequenceNumber < aa;},toJSON:function(){var Y;Y={};Y.tokendata=Ab(this.tokendata);Y.signature=Ab(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof fc?this.serialNumber == Y.serialNumber && this.sequenceNumber == Y.sequenceNumber && this.expiration.getTime() == Y.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Rc=function(Y,aa,fa){Ia(fa,function(){var ca,T,X,pa,na;ca=Y.getMslCryptoContext();T=aa.tokendata;X=aa.signature;if("string" !== typeof T || "string" !== typeof X)throw new wb(V.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(aa));try{pa=Db(T);}catch(qa){throw new Ya(V.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(aa),qa);}if(!pa || 0 == pa.length)throw new wb(V.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(aa));try{na=Db(X);}catch(qa){throw new Ya(V.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(aa),qa);}ca.verify(pa,na,{result:function(qa){Ia(fa,function(){var Ba,sa,oa,W,Z,ba,ja,Fa,Da,Ma;Ba=Rb(pa,Jb);try{sa=JSON.parse(Ba);oa=parseInt(sa.renewalwindow);W=parseInt(sa.expiration);Z=parseInt(sa.sequencenumber);ba=parseInt(sa.serialnumber);ja=sa.sessiondata;}catch(Oa){if(Oa instanceof SyntaxError)throw new wb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba,Oa);throw Oa;}if(!oa || oa != oa || !W || W != W || "number" !== typeof Z || Z != Z || "number" !== typeof ba || ba != ba || "string" !== typeof ja)throw new wb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba);if(W < oa)throw new Ya(V.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ba);if(0 > Z || Z > Kb)throw new Ya(V.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);if(0 > ba || ba > Kb)throw new Ya(V.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);Fa=new Date(1E3 * oa);Da=new Date(1E3 * W);try{Ma=Db(ja);}catch(Oa){throw new Ya(V.MASTERTOKEN_SESSIONDATA_INVALID,ja,Oa);}if(!Ma || 0 == Ma.length)throw new Ya(V.MASTERTOKEN_SESSIONDATA_MISSING,ja);qa?ca.decrypt(Ma,{result:function(Oa){Ia(fa,function(){var ia,ua,xa,Ga,Aa,La;ia=Rb(Oa,Jb);try{ua=JSON.parse(ia);xa=ua.issuerdata;Ga=ua.identity;Aa=ua.encryptionkey;La=ua.hmackey;}catch(Ca){if(Ca instanceof SyntaxError)throw new wb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ia,Ca);throw Ca;}if(xa && "object" !== typeof xa || !Ga || "string" !== typeof Aa || "string" !== typeof La)throw new wb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ia);vc(Aa,pc,Fc,{result:function(Ca){vc(La,qc,Qc,{result:function(Ta){Ia(fa,function(){var Va;Va=new ea(Oa,pa,na,qa);new fc(Y,Fa,Da,Z,ba,xa,Ga,Ca,Ta,Va,fa);});},error:function(Ta){fa.error(new sb(V.MASTERTOKEN_KEY_CREATION_ERROR,Ta));}});},error:function(Ca){fa.error(new sb(V.MASTERTOKEN_KEY_CREATION_ERROR,Ca));}});});},error:function(Oa){fa.error(Oa);}}):(oa=new ea(null,pa,na,qa),new fc(Y,Fa,Da,Z,ba,null,null,null,null,oa,fa));});},error:function(qa){fa.error(qa);}});});};})();(function(){function ea(Y,aa,fa){this.tokendata=Y;this.signature=aa;this.verified=fa;}Yc=zb.Class.create({init:function(Y,aa,fa,ca,T,X,pa,na,qa){var Ba;Ba=this;Ia(qa,function(){var sa,oa,W,Z,ba,ja,Fa;if(fa.getTime() < aa.getTime())throw new ub("Cannot construct a user ID token that expires before its renewal window opens.");if(!ca)throw new ub("Cannot construct a user ID token without a master token.");if(0 > T || T > Kb)throw new ub("Serial number " + T + " is outside the valid range.");sa=Math.floor(aa.getTime() / 1E3);oa=Math.floor(fa.getTime() / 1E3);W=ca.serialNumber;if(na){Z=na.tokendata;ba=na.signature;ja=na.verified;W=ca.serialNumber;Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:sa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},serialNumber:{value:T,writable:!1,configurable:!1},issuerData:{value:X,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:ja,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Z,writable:!1,enumerable:!1,configurable:!1},signature:{value:ba,writable:!1,enumerable:!1,configurable:!1}});return this;}Z={};X && (Z.issuerdata=X);Z.identity=pa;Z=Qb(JSON.stringify(Z),Jb);Fa=Y.getMslCryptoContext();Fa.encrypt(Z,{result:function(Da){Ia(qa,function(){var Ma,Oa;Ma={};Ma.renewalwindow=sa;Ma.expiration=oa;Ma.mtserialnumber=W;Ma.serialnumber=T;Ma.userdata=Ab(Da);Oa=Qb(JSON.stringify(Ma),Jb);Fa.sign(Oa,{result:function(ia){Ia(qa,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:sa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ca.serialNumber,writable:!1,configurable:!1},serialNumber:{value:T,writable:!1,configurable:!1},issuerData:{value:X,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},Ba);},error:function(ia){Ia(qa,function(){ia instanceof Ya && ia.setEntity(ca);throw ia;},Ba);}});},Ba);},error:function(Da){Ia(qa,function(){Da instanceof Ya && Da.setEntity(ca);throw Da;},Ba);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(Y){return Y && Y.serialNumber == this.mtSerialNumber;},toJSON:function(){var Y;Y={};Y.tokendata=Ab(this.tokendata);Y.signature=Ab(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof Yc?this.serialNumber == Y.serialNumber && this.mtSerialNumber == Y.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Sc=function(Y,aa,fa,ca){Ia(ca,function(){var T,X,pa,na,qa;T=Y.getMslCryptoContext();X=aa.tokendata;pa=aa.signature;if("string" !== typeof X || "string" !== typeof pa)throw new wb(V.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(aa)).setEntity(fa);try{na=Db(X);}catch(Ba){throw new Ya(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(aa),Ba).setEntity(fa);}if(!na || 0 == na.length)throw new wb(V.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(aa)).setEntity(fa);try{qa=Db(pa);}catch(Ba){throw new Ya(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(aa),Ba).setEntity(fa);}T.verify(na,qa,{result:function(Ba){Ia(ca,function(){var sa,oa,W,Z,ba,ja,Fa,Da,Ma,Oa;sa=Rb(na,Jb);try{oa=JSON.parse(sa);W=parseInt(oa.renewalwindow);Z=parseInt(oa.expiration);ba=parseInt(oa.mtserialnumber);ja=parseInt(oa.serialnumber);Fa=oa.userdata;}catch(ia){if(ia instanceof SyntaxError)throw new wb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + sa,ia).setEntity(fa);throw ia;}if(!W || W != W || !Z || Z != Z || "number" !== typeof ba || ba != ba || "number" !== typeof ja || ja != ja || "string" !== typeof Fa)throw new wb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + sa).setEntity(fa);if(Z < W)throw new Ya(V.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + sa).setEntity(fa);if(0 > ba || ba > Kb)throw new Ya(V.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + sa).setEntity(fa);if(0 > ja || ja > Kb)throw new Ya(V.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + sa).setEntity(fa);Da=new Date(1E3 * W);Ma=new Date(1E3 * Z);if(!fa || ba != fa.serialNumber)throw new Ya(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba + "; mt " + JSON.stringify(fa)).setEntity(fa);try{Oa=Db(Fa);}catch(ia){throw new Ya(V.USERIDTOKEN_USERDATA_INVALID,Fa,ia).setEntity(fa);}if(!Oa || 0 == Oa.length)throw new Ya(V.USERIDTOKEN_USERDATA_MISSING,Fa).setEntity(fa);Ba?T.decrypt(Oa,{result:function(ia){Ia(ca,function(){var ua,xa,Ga,Aa,La;ua=Rb(ia,Jb);try{xa=JSON.parse(ua);Ga=xa.issuerdata;Aa=xa.identity;}catch(Ca){if(Ca instanceof SyntaxError)throw new wb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ua).setEntity(fa);throw Ca;}if(Ga && "object" !== typeof Ga || "object" !== typeof Aa)throw new wb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ua).setEntity(fa);try{La=pf(Aa);}catch(Ca){throw new Ya(V.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ua,Ca).setEntity(fa);}Aa=new ea(na,qa,Ba);new Yc(Y,Da,Ma,fa,ja,Ga,La,Aa,ca);});},error:function(ia){Ia(ca,function(){ia instanceof Ya && ia.setEntity(fa);throw ia;});}}):(W=new ea(na,qa,Ba),new Yc(Y,Da,Ma,fa,ja,null,null,W,ca));});},error:function(Ba){Ia(ca,function(){Ba instanceof Ya && Ba.setEntity(fa);throw Ba;});}});});};})();(function(){function ea(aa,fa){var ca,T,X;ca=aa.tokendata;if("string" !== typeof ca)throw new wb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa));try{T=Db(ca);}catch(pa){throw new Ya(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(aa),pa);}if(!T || 0 == T.length)throw new wb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(aa));try{X=JSON.parse(Rb(T,Jb)).name;}catch(pa){if(pa instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa),pa);throw pa;}if(!X)throw new wb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa));return fa[X]?fa[X]:fa[""];}function Y(aa,fa,ca){this.tokendata=aa;this.signature=fa;this.verified=ca;}Hc=zb.Class.create({init:function(aa,fa,ca,T,X,pa,na,qa,Ba,sa){var oa;oa=this;Ia(sa,function(){var W,Z,ba,ja,Fa;if(T && X && !X.isBoundTo(T))throw new ub("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");W=T?T.serialNumber:-1;Z=X?X.serialNumber:-1;if(Ba)return (Fa=Ba.tokendata,Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},name:{value:fa,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:Z,writable:!1,configurable:!1},data:{value:ca,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Fa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(na){ba=ke(na,ca);ba.length < ca.length || (na=null,ba=ca);}else (na=null,ba=ca);ja={};ja.name=fa;-1 != W && (ja.mtserialnumber=W);-1 != Z && (ja.uitserialnumber=Z);ja.encrypted=pa;na && (ja.compressionalgo=na);if(pa && 0 < ba.length)qa.encrypt(ba,{result:function(Da){Ia(sa,function(){var Ma;ja.servicedata=Ab(Da);Ma=Qb(JSON.stringify(ja),Jb);qa.sign(Ma,{result:function(Oa){Ia(sa,function(){Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},name:{value:fa,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:Z,writable:!1,configurable:!1},data:{value:ca,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ma,writable:!1,enumerable:!1,configurable:!1},signature:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Oa){Ia(sa,function(){Oa instanceof Ya && (Oa.setEntity(T),Oa.setUser(X));throw Oa;});}});},oa);},error:function(Da){Ia(sa,function(){Da instanceof Ya && (Da.setEntity(T),Da.setUser(X));throw Da;});}});else {ja.servicedata=Ab(ba);Fa=Qb(JSON.stringify(ja),Jb);qa.sign(Fa,{result:function(Da){Ia(sa,function(){Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},name:{value:fa,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:Z,writable:!1,configurable:!1},data:{value:ca,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Fa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Da){Ia(sa,function(){Da instanceof Ya && (Da.setEntity(T),Da.setUser(X));throw Da;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(aa){return aa?aa instanceof fc?aa.serialNumber == this.mtSerialNumber:aa instanceof Yc?aa.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var aa;aa={};aa.tokendata=Ab(this.tokendata);aa.signature=Ab(this.signature);return aa;},equals:function(aa){return this === aa?!0:aa instanceof Hc?this.name == aa.name && this.mtSerialNumber == aa.mtSerialNumber && this.uitSerialNumber == aa.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(aa,fa,ca,T,X,pa,na,qa,Ba){new Hc(aa,fa,ca,T,X,pa,na,qa,null,Ba);};Ed=function(aa,fa,ca,T,X,pa){Ia(pa,function(){var na,qa,Ba,sa,oa,W,Z,ba,ja,Fa,Da,Ma,Oa;!X || X instanceof Zc || (X=ea(fa,X));na=fa.tokendata;qa=fa.signature;if("string" !== typeof na || "string" !== typeof qa)throw new wb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(fa)).setEntity(ca).setEntity(T);try{Ba=Db(na);}catch(ia){throw new Ya(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(fa),ia).setEntity(ca).setEntity(T);}if(!Ba || 0 == Ba.length)throw new wb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(fa)).setEntity(ca).setEntity(T);try{sa=Db(qa);}catch(ia){throw new Ya(V.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(fa),ia).setEntity(ca).setEntity(T);}oa=Rb(Ba,Jb);try{W=JSON.parse(oa);Z=W.name;ba=W.mtserialnumber?parseInt(W.mtserialnumber):-1;ja=W.uitserialnumber?parseInt(W.uitserialnumber):-1;Fa=W.encrypted;Da=W.compressionalgo;Ma=W.servicedata;}catch(ia){if(ia instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"servicetokendata " + oa,ia).setEntity(ca).setEntity(T);throw ia;}if(!Z || "number" !== typeof ba || ba != ba || "number" !== typeof ja || ja != ja || "boolean" !== typeof Fa || Da && "string" !== typeof Da || "string" !== typeof Ma)throw new wb(V.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(ca).setEntity(T);if(W.mtserialnumber && 0 > ba || ba > Kb)throw new Ya(V.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ca).setEntity(T);if(W.uitserialnumber && 0 > ja || ja > Kb)throw new Ya(V.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ca).setEntity(T);if(-1 != ba && (!ca || ba != ca.serialNumber))throw new Ya(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ba + "; mt " + ca).setEntity(ca).setEntity(T);if(-1 != ja && (!T || ja != T.serialNumber))throw new Ya(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + ja + "; uit " + T).setEntity(ca).setEntity(T);Fa=!0 === Fa;if(Da){if(!Nc[Da])throw new Ya(V.UNIDENTIFIED_COMPRESSION,Da);Oa=Da;}else Oa=null;X?X.verify(Ba,sa,{result:function(ia){Ia(pa,function(){var ua,xa;if(ia){try{ua=Db(Ma);}catch(Ga){throw new Ya(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ga).setEntity(ca).setEntity(T);}if(!ua || 0 != Ma.length && 0 == ua.length)throw new Ya(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(ca).setEntity(T);if(Fa && 0 < ua.length)X.decrypt(ua,{result:function(Ga){Ia(pa,function(){var Aa,La;Aa=Oa?Fd(Oa,Ga):Ga;La=new Y(Ba,sa,ia);new Hc(aa,Z,Aa,-1 != ba?ca:null,-1 != ja?T:null,Fa,Oa,X,La,pa);});},error:function(Ga){Ia(pa,function(){Ga instanceof Ya && (Ga.setEntity(ca),Ga.setUser(T));throw Ga;});}});else {ua=Oa?Fd(Oa,ua):ua;xa=new Y(Ba,sa,ia);new Hc(aa,Z,ua,-1 != ba?ca:null,-1 != ja?T:null,Fa,Oa,X,xa,pa);}}else (ua="" == Ma?new Uint8Array(0):null,xa=new Y(Ba,sa,ia),new Hc(aa,Z,ua,-1 != ba?ca:null,-1 != ja?T:null,Fa,Oa,X,xa,pa));});},error:function(ia){Ia(pa,function(){ia instanceof Ya && (ia.setEntity(ca),ia.setUser(T));throw ia;});}}):(na="" == Ma?new Uint8Array(0):null,qa=new Y(Ba,sa,!1),new Hc(aa,Z,na,-1 != ba?ca:null,-1 != ja?T:null,Fa,Oa,X,qa,pa));});};})();$b={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze($b);(function(){Ec=zb.Class.create({init:function(ea){Object.defineProperties(this,{scheme:{value:ea,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ea){return this === ea?!0:ea instanceof Ec?this.scheme == ea.scheme:!1;},toJSON:function(){var ea;ea={};ea.scheme=this.scheme;ea.authdata=this.getAuthData();return ea;}});df=function(ea,Y,aa,fa){Ia(fa,function(){var ca,T,X;ca=aa.scheme;T=aa.authdata;if(!ca || !T)throw new wb(V.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(aa));if(!$b[ca])throw new Eb(V.UNIDENTIFIED_USERAUTH_SCHEME,ca);X=ea.getUserAuthenticationFactory(ca);if(!X)throw new Eb(V.USERAUTH_FACTORY_NOT_FOUND,ca);X.createData(ea,Y,T,fa);});};})();ld=zb.Class.create({init:function(ea){Object.defineProperties(this,{scheme:{value:ea,writable:!1,configurable:!1}});},createData:function(ea,Y,aa,fa){},authenticate:function(ea,Y,aa,fa){}});(function(){Vc=Ec.extend({init:function fa(Y,aa){fa.base.call(this,$b.NETFLIXID);Object.defineProperties(this,{netflixId:{value:Y,writable:!1,configurable:!1},secureNetflixId:{value:aa,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.netflixid=this.netflixId;this.secureNetflixId && (Y.securenetflixid=this.secureNetflixId);return Y;},equals:function fa(aa){return this === aa?!0:aa instanceof Vc?fa.base.call(this,aa) && this.netflixId == aa.netflixId && this.secureNetflixId == aa.secureNetflixId:!1;}});qf=function(aa){var fa,ca;fa=aa.netflixid;ca=aa.securenetflixid;if(!fa)throw new wb(V.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(aa));return new Vc(fa,ca);};})();Tf=ld.extend({init:function Y(){Y.base.call(this,$b.NETFLIXID);},createData:function(Y,aa,fa,ca){Ia(ca,function(){return qf(fa);});},authenticate:function(Y,aa,fa,ca){if(!(fa instanceof Vc))throw new ub("Incorrect authentication data type " + fa + ".");Y=fa.secureNetflixId;if(!fa.netflixId || !Y)throw new Eb(V.NETFLIXID_COOKIES_BLANK).setUser(fa);throw new Eb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(fa);}});(function(){md=Ec.extend({init:function ca(aa,fa){ca.base.call(this,$b.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:aa,writable:!1,configurable:!1},password:{value:fa,writable:!1,configurable:!1}});},getAuthData:function(){var aa;aa={};aa.email=this.email;aa.password=this.password;return aa;},equals:function ca(fa){return this === fa?!0:fa instanceof md?ca.base.call(this,this,fa) && this.email == fa.email && this.password == fa.password:!1;}});rf=function(fa){var ca,T;ca=fa.email;T=fa.password;if(!ca || !T)throw new wb(V.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(fa));return new md(ca,T);};})();Uf=ld.extend({init:function aa(){aa.base.call(this,$b.EMAIL_PASSWORD);},createData:function(aa,fa,ca,T){Ia(T,function(){return rf(ca);});},authenticate:function(aa,fa,ca,T){if(!(ca instanceof md))throw new ub("Incorrect authentication data type " + ca + ".");aa=ca.password;if(!ca.email || !aa)throw new Eb(V.EMAILPASSWORD_BLANK).setUser(ca);throw new Eb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ca);}});(function(){var T,X,pa,na,qa,Ba,sa,oa;function aa(W,Z){return "<" + W + ">" + Z + "</" + W + ">";}function fa(W){return W.replace(/[<>&"']/g,function(Z){return qa[Z];});}function ca(W){return encodeURIComponent(W).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}T=Id={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};X=zb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});pa=me=X.extend({init:function(W,Z,ba,ja,Fa,Da,Ma){var ua;function Oa(xa){Ia(Ma,function(){var Ga,Aa;try{Ga={};Ga.useridtoken=W;Ga.action=Z;Ga.nonce=ba;Ga.pin=Ab(xa);Aa=Qb(JSON.stringify(Ga),Jb);}catch(La){throw new wb(V.JSON_ENCODE_ERROR,"MSL-based MDX authdata",La);}Fa.sign(Aa,{result:function(La){ia(Aa,La);},error:Ma.error});},ua);}function ia(xa,Ga){Ia(Ma,function(){Object.defineProperties(this,{_userIdToken:{value:W,writable:!1,enumerable:!1,configurable:!1},_action:{value:Z,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ba,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ja,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:xa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ga,writable:!1,enumerable:!1,configurable:!1}});return this;},ua);}ua=this;Ia(Ma,function(){Da?ia(Da.encoding,Da.signature):Fa.encrypt(Qb(ja,Jb),{result:function(xa){Oa(xa);},error:Ma.error});},ua);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof pa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin && this._userIdToken.equals(W._userIdToken):!1;}});me.ACTION="userauth";na=function(W,Z,ba,ja,Fa){function Da(Oa){Ia(Fa,function(){var ia,ua,xa,Ga,Aa,La;ia=Rb(ba,Jb);try{ua=JSON.parse(ia);xa=ua.useridtoken;Ga=ua.action;Aa=ua.nonce;La=ua.pin;}catch(Ca){if(Ca instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"MDX authdata " + ia,Ca);throw Ca;}if(!(xa && "object" === typeof xa && Ga && "string" === typeof Ga && Aa && "number" === typeof Aa && La) || "string" !== typeof La)throw new wb(V.JSON_PARSE_ERROR,"MDX authdata " + ia);Sc(W,xa,Z,{result:function(Ca){Ia(Fa,function(){if(!Ca.isDecrypted())throw new Eb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ia);Ma(Oa,Ca,Ga,Aa,La);});},error:function(Ca){Ia(Fa,function(){if(Ca instanceof Ya)throw new Eb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ia,Ca);throw Ca;});}});});}function Ma(Oa,ia,ua,xa,Ga){Ia(Fa,function(){var Aa;Aa=Db(Ga);Oa.decrypt(Aa,{result:function(La){Ia(Fa,function(){var Ca;Ca=Rb(La,Jb);new pa(ia,ua,xa,Ca,null,{encoding:ba,signature:ja},Fa);});},error:Fa.error});});}Ia(Fa,function(){var Oa,ia;try{Oa=W.getMslStore().getCryptoContext(Z);ia=Oa?Oa:new gc(W,Z);}catch(ua){if(ua instanceof Pc)throw new Eb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Ab(ba));throw ua;}ia.verify(ba,ja,{result:function(ua){Ia(Fa,function(){if(!ua)throw new sb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Ab(ba));Da(ia);});},error:Fa.error});});};qa={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ba=nd=X.extend({init:function(W,Z,ba,ja){var Fa,Da;Fa=aa("action",fa(W));Da=aa("nonce",Z.toString());ba=aa("pin",ba);Fa=aa("registerdata",Fa + Da + ba);Fa=Qb(Fa,"utf-8");Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:Z,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof Ba?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});nd.ACTION="regpairrequest";sa=ne=X.extend({init:function(W,Z,ba,ja,Fa,Da){var ia;function Ma(ua){Ia(Da,function(){var xa,Ga,Aa,La,Ca;xa=Ab(ua);Ga=aa("action",fa(W));Aa=aa("nonce",Z.toString());La=aa("pin",xa);Ga=aa("registerdata",Ga + Aa + La);Ca=Qb(Ga,"utf-8");xa="action=" + ca(W) + "&nonce=" + ca(Z.toString()) + "&pin=" + ca(xa);ja.sign(Qb(xa,"utf-8"),{result:function(Ta){Oa(Ca,Ta);},error:Da.error});},ia);}function Oa(ua,xa){Ia(Da,function(){Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:Z,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ba,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:ua,writable:!1,enumerable:!1,configurable:!1},_signature:{value:xa,writable:!1,enumerable:!1,configurable:!1}});return this;},ia);}ia=this;Ia(Da,function(){Fa?Oa(Fa.encoding,Fa.signature):ja.encrypt(Qb(ba,"utf-8"),{result:function(ua){Ma(ua);},error:Da.error});},ia);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof sa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});ne.ACTION=nd.ACTION;oa=function(W,Z,ba,ja,Fa){Ia(Fa,function(){var Da,Ma,Oa,ia,ua,xa,Ga;Da=W.getMslStore().getCryptoContext(Z);Ma=Da?Da:new gc(W,Z);Da=Rb(ba,"utf-8");Oa=new DOMParser().parseFromString(Da,"application/xml");Da=Oa.getElementsByTagName("action");ia=Oa.getElementsByTagName("nonce");Oa=Oa.getElementsByTagName("pin");ua=Da && 1 == Da.length && Da[0].firstChild?Da[0].firstChild.nodeValue:null;xa=ia && 1 == ia.length && ia[0].firstChild?parseInt(ia[0].firstChild.nodeValue):null;Ga=Oa && 1 == Oa.length && Oa[0].firstChild?Oa[0].firstChild.nodeValue:null;if(!ua || !xa || !Ga)throw new wb(V.XML_PARSE_ERROR,"MDX authdata " + Ab(ba));Da="action=" + ca(ua) + "&nonce=" + ca(xa.toString()) + "&pin=" + ca(Ga);Ma.verify(Qb(Da,"utf-8"),ja,{result:function(Aa){Ia(Fa,function(){var La;if(!Aa)throw new sb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Ab(ba));La=Db(Ga);Ma.decrypt(La,{result:function(Ca){Ia(Fa,function(){var Ta;Ta=Rb(Ca,"utf-8");new sa(ua,xa,Ta,null,{encoding:ba,signature:ja},Fa);});},error:Fa.error});});},error:Fa.error});});};bd=Ec.extend({init:function Oa(Z,ba,ja,Fa,Da,Ma){var ia,ua,xa,Ga,Aa,La;Oa.base.call(this,$b.MDX);ia=null;ua=null;xa=null;if("string" === typeof ja)(Z=T.MSL_LEGACY,xa=ja);else if(ja instanceof Uint8Array)(Z=T.NTBA,ua=ja);else if(ja instanceof fc)(Z=T.MSL,ia=ja);else throw new TypeError("Controller token " + ja + " is not a master token, encrypted CTicket, or MSL token construct.");Ga=ja=null;Aa=null;if(Ma){La=Ma.controllerAuthData;ja=La.getAction();Ga=La.getPin();Ma=Ma.userIdToken;La instanceof pa?Aa=La.getUserIdToken().customer:Ma && (Aa=Ma.customer);}Object.defineProperties(this,{mechanism:{value:Z,writable:!1,configurable:!1},action:{value:ja,writable:!1,configurable:!1},targetPin:{value:ba,writable:!1,configurable:!1},controllerPin:{value:Ga,writable:!1,configurable:!1},customer:{value:Aa,writable:!1,configurable:!1},_masterToken:{value:ia,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:ua,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:xa,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var Z,ba;Z={};switch(this.mechanism){case T.MSL:ba=JSON.parse(JSON.stringify(this._masterToken));Z.mastertoken=ba;break;case T.NTBA:ba=Rb(this._encryptedCTicket,"utf-8");Z.cticket=ba;break;case T.MSL_LEGACY:Z.cticket=this._mslTokens;break;default:throw new ub("Unsupported MDX mechanism.");}Z.pin=this.targetPin;Z.mdxauthdata=Ab(this._controllerEncoding);Z.signature=Ab(this._signature);return Z;},equals:function ja(ba){return this === ba?!0:ba instanceof bd?ja.base.call(this,ba) && (this._masterToken == ba._masterToken || this._masterToken && this._masterToken.equals(ba._masterToken)) && (this._encryptedCTicket == ba._encryptedCTicket || this._encryptedCTicket && Xb(this._encryptedCTicket,ba._encryptedCTicket)) && this._mslTokens == ba._mslTokens && Xb(this._controllerEncoding,ba._controllerEncoding) && Xb(this._signature,ba._signature):!1;}});sf=function(ba,ja,Fa){function Da(ia,ua,xa,Ga){Rc(ba,ua,{result:function(Aa){Ia(Fa,function(){if(!Aa.isDecrypted())throw new Eb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + ja.toString());na(ba,Aa,xa,Ga,{result:function(La){Ia(Fa,function(){var Ca,Ta;Ca=La.getEncoding();Ta=La.getSignature();return new bd(ba,ia,Aa,Ca,Ta,{controllerAuthData:La,userIdToken:null});});},error:Fa.error});});},error:function(Aa){Ia(Fa,function(){if(Aa instanceof Ya)throw new Eb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ja),Aa);throw Aa;});}});}function Ma(ia,ua,xa,Ga){Ia(Fa,function(){throw new Eb(V.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Oa(ia,ua,xa,Ga){function Aa(Ca,Ta){Ia(Ta,function(){var Va,Ua;try{Va=Db(Ca);}catch(fb){throw new Eb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ja),fb);}if(!Va || 0 == Va.length)throw new Eb(V.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(ja));try{Ua=JSON.parse(Rb(Va,"utf-8"));Rc(ba,Ua,{result:function(fb){Ia(Ta,function(){if(!fb.isDecrypted())throw new Eb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + ja.toString());return fb;});},error:function(fb){Ia(Ta,function(){if(fb instanceof Ya)throw new Eb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ja),fb);throw fb;});}});}catch(fb){if(fb instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ja),fb);throw fb;}});}function La(Ca,Ta,Va){Ia(Va,function(){var Ua,fb;try{Ua=Db(Ca);}catch(jb){throw new Eb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(ja),jb);}if(!Ua || 0 == Ua.length)throw new Eb(V.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(ja));try{fb=JSON.parse(Rb(Ua,"utf-8"));Sc(ba,fb,Ta,{result:function(jb){Ia(Va,function(){if(!jb.isDecrypted())throw new Eb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(ja));return jb;});},error:function(jb){Ia(Va,function(){if(jb instanceof Ya)throw new Eb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(ja),jb);throw jb;});}});}catch(jb){if(jb instanceof SyntaxError)throw new wb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ja),jb);throw jb;}});}Ia(Fa,function(){var Ca;Ca=ua.split(",");if(3 != Ca.length || "1" != Ca[0])throw new Eb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(ja));Aa(Ca[1],{result:function(Ta){La(Ca[2],Ta,{result:function(Va){oa(ba,Ta,xa,Ga,{result:function(Ua){Ia(Fa,function(){return new bd(ba,ia,ua,xa,Ga,{controllerAuthData:Ua,userIdToken:Va});});},error:function(Ua){Ia(Fa,function(){if(Ua instanceof Pc)throw new Eb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(ja),Ua);throw Ua;});}});},error:Fa.error});},error:Fa.error});});}Ia(Fa,function(){var ia,ua,xa,Ga,Aa;ia=ja.pin;ua=ja.mdxauthdata;xa=ja.signature;if(!ia || "string" !== typeof ia || !ua || "string" !== typeof ua || !xa || "string" !== typeof xa)throw new wb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ja));try{Ga=Db(ua);Aa=Db(xa);}catch(La){throw new Eb(V.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(ja),La);}if(ja.mastertoken){ua=ja.mastertoken;if(!ua || "object" !== typeof ua)throw new wb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ja));Da(ia,ua,Ga,Aa);}else if(ja.cticket){ua=ja.cticket;if(!ua || "string" !== typeof ua)throw new wb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ja));-1 == ua.indexOf(",")?Ma(ia,ua,Ga,Aa):Oa(ia,ua,Ga,Aa);}else throw new Eb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(ja));});};})();(function(){var aa,fa,ca;aa=me.ACTION;fa=nd.ACTION;ca=ne.ACTION;tf=ld.extend({init:function X(){X.base.call(this,$b.MDX);},createData:function(X,pa,na,qa){sf(X,na,qa);},authenticate:function(X,pa,na,qa){if(!(na instanceof bd))throw new ub("Incorrect authentication data type " + na.getClass().getName() + ".");X=na.action;switch(na.mechanism){case Id.MSL:if(aa != X)throw new Eb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Id.NTBA:if(fa != X)throw new Eb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Id.MSL_LEGACY:if(ca != X)throw new Eb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);}X=na.controllerPin;pa=na.targetPin;if(!X || !pa)throw new Eb(V.MDX_PIN_BLANK).setUser(na);if(X != pa)throw new Eb(V.MDX_PIN_MISMATCH).setUser(na);X=na.customer;if(!X)throw new Eb(V.MDX_USER_UNKNOWN).setUser(na);if(qa && (qa=qa.customer,!X.equals(qa)))throw new Eb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + X + "; uit customer " + qa).setUser(na);return X;}});})();(function(){var aa,fa,ca;aa={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};fa=vf=zb.Class.create({init:function(T,X){Object.defineProperties(this,{email:{value:T,writable:!1,enumerable:!0,configurable:!1},password:{value:X,writable:!1,enumerable:!0,configurable:!1}});}});ca=wf=zb.Class.create({init:function(T,X){Object.defineProperties(this,{netflixId:{value:T,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:X,writable:!1,enumerable:!0,configurable:!1}});}});od=Ec.extend({init:function Ba(X,pa,na,qa){var sa,oa,W,Z;Ba.base.call(this,$b.SSO);sa=null;oa=null;W=null;Z=null;na instanceof fa?(sa=na.email,oa=na.password):na instanceof ca && (W=na.netflixId,Z=na.secureNetflixId);Object.defineProperties(this,{mechanism:{value:X,writable:!1,configurable:!1},token:{value:pa,writable:!1,configurable:!1},email:{value:sa,writable:!1,configurable:!1},password:{value:oa,writable:!1,configurable:!1},netflixId:{value:W,writable:!1,configurable:!1},secureNetflixId:{value:Z,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof qa?null:qa,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.mechanism=this.mechanism;X.token=Ab(this.token);this.email && this.password?(X.email=this.email,X.password=this.password):this.netflixId && this.secureNetflixId && (X.netflixid=this.netflixId,X.securenetflixid=this.secureNetflixId);this.profileGuid && (X.profileguid=this.profileGuid);return X;},equals:function na(pa){return this === pa?!0:pa instanceof od?na.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.token,pa.token) && this.email == pa.email && this.password == pa.password && this.netflixId == pa.netflixId && this.secureNetflixId == pa.secureNetflixId && this.profileGuid == pa.profileGuid:!1;}});uf=function(pa){var na,qa,Ba,sa,oa,W,Z,ba,ja;na=pa.mechanism;qa=pa.token;if(!na || !qa || "string" !== typeof qa)throw new wb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));if(!aa[na])throw new Eb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(pa));Ba=pa.email;sa=pa.password;oa=pa.netflixid;W=pa.securenetflixid;Z=pa.profileguid;if(Ba && !sa || !Ba && sa || oa && !W || !oa && W || Ba && oa)throw new wb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));try{ba=Db(qa);}catch(Fa){throw new Eb(V.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(pa),Fa);}Ba && sa?ja=new fa(Ba,sa):oa && W && (ja=new ca(oa,W));return new od(na,ba,ja,Z);};})();Vf=ld.extend({init:function fa(){fa.base.call(this,$b.SSO);},createData:function(fa,ca,T,X){Ia(X,function(){return uf(T);});},authenticate:function(fa,ca,T,X){var pa,na;if(!(T instanceof od))throw new ub("Incorrect authentication data type " + T + ".");fa=T.token;ca=T.email;X=T.password;pa=T.netflixId;na=T.secureNetflixId;if(!fa || 0 == fa.length)throw new Eb(V.SSOTOKEN_BLANK);if(!(null === ca && null === X || ca && X))throw new Eb(V.EMAILPASSWORD_BLANK);if(!(null === pa && null === na || pa && na))throw new Eb(V.NETFLIXID_COOKIES_BLANK).setUser(T);throw new Eb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(T);}});(function(){pd=Ec.extend({init:function X(ca,T){X.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:ca,writable:!1,configurable:!1},profileGuid:{value:T,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));ca.profileguid=this.profileGuid;return ca;},equals:function X(T){return this == T?!0:T instanceof pd?X.base.call(this,T) && this.userIdToken.equals(T.userIdToken) && this.profileGuid == T.profileGuid:!1;}});xf=function(T,X,pa,na){Ia(na,function(){var qa,Ba;if(!X)throw new Eb(V.USERAUTH_MASTERTOKEN_MISSING);qa=pa.useridtoken;Ba=pa.profileguid;if("object" !== typeof qa || "string" !== typeof Ba)throw new wb(V.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(pa));Sc(T,qa,X,{result:function(sa){Ia(na,function(){if(!sa.isDecrypted())throw new Eb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(pa));return new pd(sa,Ba);});},error:function(sa){na.error(new Eb(V.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(pa),sa));}});});};})();Wf=ld.extend({init:function T(ca){T.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:ca,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ca,T,X,pa){xf(ca,T,X,pa);},authenticate:function(ca,T,X,pa){if(!(X instanceof pd))throw new ub("Incorrect authentication data type " + X + ".");T=X.userIdToken;ca=X.profileGuid;if(!ca)throw new Eb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(X);T=T.user;if(!T)throw new Eb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(X);ca=this._store.switchUsers(T,ca);if(!ca)throw new Eb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(X);if(pa && (pa=pa.user,!ca.equals(pa)))throw new Eb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + ca + "; uit user " + pa).setUserAuthenticationData(X);return ca;}});Object.freeze({ENTITY_REAUTH:Ha.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ha.ENTITYDATA_REAUTH});Xf=zb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(ca,T){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(ca){},getUserAuthenticationFactory:function(ca){},getTokenFactory:function(){},getKeyExchangeFactory:function(ca){},getKeyExchangeFactories:function(){},getMslStore:function(){}});yf=zb.Class.create({setCryptoContext:function(ca,T){},getMasterToken:function(){},getNonReplayableId:function(ca){},getCryptoContext:function(ca){},removeCryptoContext:function(ca){},clearCryptoContexts:function(){},addUserIdToken:function(ca,T){},getUserIdToken:function(ca){},removeUserIdToken:function(ca){},clearUserIdTokens:function(){},addServiceTokens:function(ca){},getServiceTokens:function(ca,T){},removeServiceTokens:function(ca,T,X){},clearServiceTokens:function(){}});(function(){var ca;ca=Nc;ke=function(T,X){var pa;pa={};switch(T){case ca.LZW:return Ae(X,pa);case ca.GZIP:return gzip$compress(X);default:throw new Ya(V.UNSUPPORTED_COMPRESSION,T);}};Fd=function(T,X,pa){switch(T){case ca.LZW:return Be(X);case ca.GZIP:return gzip$uncompress(X);default:throw new Ya(V.UNSUPPORTED_COMPRESSION,T.name());}};})();yf.extend({setCryptoContext:function(ca,T){},getMasterToken:function(){return null;},getNonReplayableId:function(ca){return 1;},getCryptoContext:function(ca){return null;},removeCryptoContext:function(ca){},clearCryptoContexts:function(){},addUserIdToken:function(ca,T){},getUserIdToken:function(ca){return null;},removeUserIdToken:function(ca){},clearUserIdTokens:function(){},addServiceTokens:function(ca){},getServiceTokens:function(ca,T){if(T){if(!ca)throw new Ya(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!T.isBoundTo(ca))throw new Ya(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + T.mtSerialNumber + "; mt " + ca.serialNumber);}return [];},removeServiceTokens:function(ca,T,X){if(X && T && !X.isBoundTo(T))throw new Ya(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + X.masterTokenSerialNumber + "; mt " + T.serialNumber);},clearServiceTokens:function(){}});(function(){zf=yf.extend({init:function T(){T.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(T,X){var pa;if(X){pa=T.uniqueKey();this.masterTokens[pa]=T;this.cryptoContexts[pa]=X;}else this.removeCryptoContext(T);},getMasterToken:function(){var T,X,pa;T=null;for(X in this.masterTokens){pa=this.masterTokens[X];if(!T || pa.isNewerThan(T))T=pa;}return T;},getNonReplayableId:function(T){var X;T=T.serialNumber;X=this.nonReplayableIds[T] !== yb?this.nonReplayableIds[T]:0;if(0 > X || X > Kb)throw new ub("Non-replayable ID " + X + " is outside the valid range.");X=X == Kb?0:X + 1;return this.nonReplayableIds[T]=X;},getCryptoContext:function(T){return this.cryptoContexts[T.uniqueKey()];},removeCryptoContext:function(T){var X,pa,na,qa;X=T.uniqueKey();if(this.masterTokens[X]){pa=T.serialNumber;for(na in this.masterTokens){qa=this.masterTokens[na];if(!qa.equals(T) && qa.serialNumber == pa){delete this.masterTokens[X];delete this.cryptoContexts[X];return;}}Object.keys(this.userIdTokens).forEach(function(Ba){Ba=this.userIdTokens[Ba];Ba.isBoundTo(T) && this.removeUserIdToken(Ba);},this);try{this.removeServiceTokens(null,T,null);}catch(Ba){if(Ba instanceof Ya)throw new ub("Unexpected exception while removing master token bound service tokens.",Ba);throw Ba;}delete this.nonReplayableIds[pa];delete this.masterTokens[X];delete this.cryptoContexts[X];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(T){for(var X in T){delete T[X];}},this);},addUserIdToken:function(T,X){var pa,na;pa=!1;for(na in this.masterTokens){if(X.isBoundTo(this.masterTokens[na])){pa=!0;break;}}if(!pa)throw new Ya(V.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + X.mtSerialNumber);this.userIdTokens[T]=X;},getUserIdToken:function(T){return this.userIdTokens[T];},removeUserIdToken:function(T){var X,pa,na;X=null;for(pa in this.masterTokens){na=this.masterTokens[pa];if(T.isBoundTo(na)){X=na;break;}}Object.keys(this.userIdTokens).forEach(function(qa){if(this.userIdTokens[qa].equals(T)){try{this.removeServiceTokens(null,X,T);}catch(Ba){if(Ba instanceof Ya)throw new ub("Unexpected exception while removing user ID token bound service tokens.",Ba);throw Ba;}delete this.userIdTokens[qa];}},this);},clearUserIdTokens:function(){for(var T in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[T]);}},addServiceTokens:function(T){T.forEach(function(X){var pa,na;if(X.isMasterTokenBound()){pa=!1;for(na in this.masterTokens){if(X.isBoundTo(this.masterTokens[na])){pa=!0;break;}}if(!pa)throw new Ya(V.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + X.mtSerialNumber);}if(X.isUserIdTokenBound()){pa=!1;for(var qa in this.userIdTokens){if(X.isBoundTo(this.userIdTokens[qa])){pa=!0;break;}}if(!pa)throw new Ya(V.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + X.uitSerialNumber);}},this);T.forEach(function(X){var pa;if(X.isUnbound())this.unboundServiceTokens[X.uniqueKey()]=X;else {if(X.isMasterTokenBound()){pa=this.mtServiceTokens[X.mtSerialNumber];pa || (pa={});pa[X.uniqueKey()]=X;this.mtServiceTokens[X.mtSerialNumber]=pa;}X.isUserIdTokenBound() && ((pa=this.uitServiceTokens[X.uitSerialNumber]) || (pa={}),pa[X.uniqueKey()]=X,this.uitServiceTokens[X.uitSerialNumber]=pa);}},this);},getServiceTokens:function(T,X){var pa,na,qa;if(X){if(!T)throw new Ya(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!X.isBoundTo(T))throw new Ya(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + X.mtSerialNumber + "; mt " + T.serialNumber);}pa={};for(na in this.unboundServiceTokens){qa=this.unboundServiceTokens[na];pa[qa.uniqueKey()]=qa;}if(T && (na=this.mtServiceTokens[T.serialNumber]))for(var Ba in na){qa=na[Ba];qa.isUserIdTokenBound() || (pa[Ba]=qa);}if(X && (X=this.uitServiceTokens[X.serialNumber]))for(var sa in X){Ba=X[sa];Ba.isBoundTo(T) && (pa[sa]=Ba);}T=[];for(var oa in pa){T.push(pa[oa]);}return T;},removeServiceTokens:function(T,X,pa){var na,qa,Ba;if(pa && X && !pa.isBoundTo(X))throw new Ya(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + pa.mtSerialNumber + "; mt " + X.serialNumber);!T || X || pa || Object.keys(this.unboundServiceTokens).forEach(function(sa){this.unboundServiceTokens[sa].name == T && delete this.unboundServiceTokens[sa];},this);if(X && !pa && (na=this.mtServiceTokens[X.serialNumber])){Ba=Object.keys(na);Ba.forEach(function(sa){var oa;oa=na[sa];T && oa.name != T || delete na[sa];},this);this.mtServiceTokens[X.serialNumber]=na;}pa && (qa=this.uitServiceTokens[pa.serialNumber]) && (X=Object.keys(qa),X.forEach(function(sa){var oa;oa=qa[sa];T && oa.name != T || delete qa[sa];},this),this.uitServiceTokens[pa.serialNumber]=qa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(T){for(var X in T){delete T[X];}},this);}});})();Ff=Qf.extend({init:function T(){T.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(T,X){X && T && T.length && (T=Ab(T),this._contextMap[T]=X);},getCryptoContext:function(T){return T && T.length?(T=Ab(T),this._contextMap[T] || null):null;},removeCryptoContext:function(T){T && T.length && (T=Ab(T),delete this._contextMap[T]);}});Af=If.extend({init:function Ba(X,pa,na,qa){Ba.base.call(this,X);Object.defineProperties(this,{_kde:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:na,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(X,pa){if(!(pa instanceof nc))throw new ub("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.identity != this.localIdentity)throw new tc(V.ENTITY_NOT_FOUND,"mgk " + pa.identity);return new yd(X,this.localIdentity,this._kde,this._kdh,this._kdw);}});Yf=Jf.extend({init:function sa(pa,na,qa,Ba){sa.base.call(this,pa);Object.defineProperties(this,{_kpe:{value:na,writable:!1,enumerable:!1,configurable:!1},_kph:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(pa,na){if(!(na instanceof rc))throw new ub("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.identity != this.localIdentity)throw new tc(V.ENTITY_NOT_FOUND,"psk " + na.identity);return new yd(pa,this.localIdentity,this._kpe,this._kph,this._kpw);}});$f=zf.extend({init:function Z(na,qa,Ba,sa,oa,W){Z.base.call(this);this._log=na;this._esn=qa;this._keyRequestData=Ba;this._createKeyRequestData=sa;this._systemKeyName=oa;this._systemKeyWrapFormat=W;},setCryptoContext:function oa(qa,Ba,sa){var W;W=this;W._log.trace("Adding MasterToken",{SequenceNumber:qa.sequenceNumber,SerialNumber:qa.serialNumber,Expiration:qa.expiration.getTime()});oa.base.call(this,qa,Ba);!sa && (qa=W._createKeyRequestData) && (W._log.trace("Generating new keyx request data"),qa().then(function(Z){W._keyRequestData=Z;},function(Z){W._log.error("Unable to generate new keyx request data","" + Z);}));},addUserIdToken:function oa(Ba,sa){this._log.trace("Adding UserIdToken",{UserId:Ba,SerialNumber:sa.serialNumber,MTSerialNumber:sa.mtSerialNumber,Expiration:sa.expiration.getTime()});oa.base.call(this,Ba,sa);},addServiceTokens:function oa(sa){oa.base.call(this,sa.filter(function(W){return !Zf[W.name];}));},getUserIdTokenKeys:function(){var sa,oa;sa=[];for(oa in this.userIdTokens){sa.push(oa);}return sa;},rekeyUserIdToken:function(sa,oa){this.userIdTokens[sa] && (this.userIdTokens[oa]=this.userIdTokens[sa],delete this.userIdTokens[sa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(sa){var oa;oa=this;Ia(sa,function(){var W;W=oa.getMasterToken();W?oa.getKeysForStore(W,{result:function(Z){Ia(sa,function(){var ba,ja,Fa;ba=oa.userIdTokens;ja=Object.keys(ba).map(function(Da){var Ma;Ma=ba[Da];return {userId:Da,userIdTokenJSON:ba[Da].toJSON(),serviceTokenJSONList:oa.getServiceTokens(W,Ma).map(Cf)};});Z.esn=oa._esn;Z.masterTokenJSON=W.toJSON();Z.userList=ja;Fa=oa._keyRequestData.storeData;Fa && Object.keys(Fa).forEach(function(Da){Z[Da]=Fa[Da];});return Z;});},timeout:sa.timeout,error:sa.error}):sa.result(null);});},getKeysForStore:function(sa,oa){var W;W=this;Ia(oa,function(){var Z;Z=W.getCryptoContext(sa);Z={encryptionKey:Z.encryptionKey,hmacKey:Z.hmacKey};if(Z.encryptionKey && Z.hmacKey){if(W._systemKeyWrapFormat)W.wrapKeysWithSystemKey(Z,oa);else return Z;}else throw new Ya(V.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(sa,oa){var W;W=this;ue(this._systemKeyName,{result:function(Z){Ia(oa,function(){var ba,ja,Fa,Da;ba=sa.encryptionKey;ja=sa.hmacKey;Fa=ba[cd];Da=ja[cd];if(Fa && Da)return {wrappedEncryptionKey:Fa,wrappedHmacKey:Da};Promise.resolve().then(function(){return Promise.all([Hb.wrapKey(W._systemKeyWrapFormat,ba,Z,Z.algorithm),Hb.wrapKey(W._systemKeyWrapFormat,ja,Z,Z.algorithm)]);}).then(function(Ma){Fa=Ab(Ma[0]);ba[cd]=Fa;Da=Ab(Ma[1]);ja[cd]=Da;oa.result({wrappedEncryptionKey:Fa,wrappedHmacKey:Da});}).catch(function(Ma){oa.error(new Ya(V.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ma));});});},timeout:oa.timeout,error:oa.error});},unwrapKeysWithSystemKey:function(sa,oa){var W;W=this;ue(this._systemKeyName,{result:function(Z){Ia(oa,function(){var ba,ja;ba=Db(sa.wrappedEncryptionKey);ja=Db(sa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Hb.unwrapKey(W._systemKeyWrapFormat,ba,Z,Z.algorithm,pc,!1,Fc),Hb.unwrapKey(W._systemKeyWrapFormat,ja,Z,Z.algorithm,qc,!1,Qc)]);}).then(function(Fa){var Da;Da=Fa[0];Fa=Fa[1];Da[cd]=sa.wrappedEncryptionKey;Fa[cd]=sa.wrappedHmacKey;oa.result({encryptionKey:Da,hmacKey:Fa});}).catch(function(Fa){oa.error(new Ya(V.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Fa));});});},timeout:oa.timeout,error:oa.error});},loadStoreState:function(sa,oa,W,Z){var Fa,Da;function ba(Ma,Oa){var ia;try{ia=W.userList.slice();}catch(ua){}ia?(function xa(){var Ga;Ga=ia.shift();Ga?Sc(oa,Ga.userIdTokenJSON,Ma,{result:function(Aa){try{Fa.addUserIdToken(Ga.userId,Aa);ja(Ma,Aa,Ga.serviceTokenJSONList,{result:xa,timeout:xa,error:xa});}catch(La){xa();}},timeout:xa,error:xa}):Oa.result();})():Oa.result();}function ja(Ma,Oa,ia,ua){var xa,Ga;try{xa=ia.slice();}catch(Aa){}if(xa){Ga=Fa.getCryptoContext(Ma);(function La(){var Ca;Ca=xa.shift();Ca?Ed(oa,Ca,Ma,Oa,Ga,{result:function(Ta){Fa.addServiceTokens([Ta]);La();},timeout:function(){La();},error:function(){La();}}):ua.result();})();}else ua.result();}Fa=this;Da=Fa._log;W.esn != Fa._esn?(Da.error("Esn mismatch, starting fresh"),Z.error()):(function(Ma){var ua,xa,Ga,Aa;function Oa(){var La;if(!ua && xa && Ga && Aa){ua=!0;La=new gc(oa,xa,sa.esn,{rawKey:Ga},{rawKey:Aa});Fa.setCryptoContext(xa,La,!0);Ma.result(xa);}}function ia(La,Ca){Da.error(La,Ca && "" + Ca);ua || (ua=!0,Ma.error());}W.masterTokenJSON?(Rc(oa,W.masterTokenJSON,{result:function(La){xa=La;Oa();},timeout:function(){ia("Timeout parsing MasterToken");},error:function(La){ia("Error parsing MasterToken",La);}}),Fa._systemKeyWrapFormat?Fa.unwrapKeysWithSystemKey(W,{result:function(La){Ga=La.encryptionKey;Aa=La.hmacKey;Oa();},timeout:function(){ia("Timeout unwrapping keys");},error:function(La){ia("Error unwrapping keys",La);}}):Promise.resolve().then(function(){return Hb.encrypt({name:pc.name,iv:new Uint8Array(16)},W.encryptionKey,new Uint8Array(1));}).then(function(La){Ga=W.encryptionKey;}).catch(function(La){ia("Error loading encryptionKey");}).then(function(){return Hb.sign(qc,W.hmacKey,new Uint8Array(1));}).then(function(La){Aa=W.hmacKey;Oa();}).catch(function(La){ia("Error loading hmacKey");})):ia("Persisted store is corrupt");})({result:function(Ma){ba(Ma,Z);},timeout:Z.timeout,error:Z.error});}});Zf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};cd="$netflix$msl$wrapsys";ag=Xf.extend({init:function(sa,oa,W,Z,ba,ja){var Fa,Da;Fa=new jd([Nc.LZW]);Da=new Lf();Da.addPublicKey(oa,W);Z[Mb.RSA]=new Kf(Da);oa={};oa[$b.EMAIL_PASSWORD]=new Uf();oa[$b.NETFLIXID]=new Tf();oa[$b.MDX]=new tf();oa[$b.SSO]=new Vf();oa[$b.SWITCH_PROFILE]=new Wf();sa={_mslCryptoContext:{value:new Hf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ba,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:Z,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ja,writable:!1,enumerable:!1,configurable:!1},_store:{value:sa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,sa);},getTime:function(){return Date.now();},getRandom:function(){return new Fe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(sa,oa){oa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(sa){return this._entityAuthFactories[sa];},getUserAuthenticationFactory:function(sa){return this._userAuthFactories[sa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(sa){return this._keyExchangeFactories.filter(function(oa){return oa.scheme == sa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});we=nf.extend({init:function(sa,oa,W,Z){this._log=sa;this._mslContext=oa;this._mslRequest=W;this._keyRequestData=Z;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(sa,oa,W,Z){var ba,ja;ba=this._mslRequest;ja=this._mslContext;Ia(Z,function(){var Fa,Da;if(sa || !ba.shouldSendUserAuthData)return null;if(ba.token){ba.email?Fa=new vf(ba.email,ba.password):ba.netflixId && (Fa=new wf(ba.netflixId,ba.secureNetflixId));Da="undefined" === typeof ba.profileGuid?null:ba.profileGuid;return new od(ba.mechanism,Qb(ba.token),Fa,Da);}return ba.email?new md(ba.email,ba.password):ba.netflixId?new Vc(ba.netflixId,ba.secureNetflixId):ba.mdxControllerToken?(Fa=new nd("regpairrequest",ba.mdxNonce,ba.mdxEncryptedPinB64,ba.mdxSignature).getEncoding(),new bd(ja,ba.mdxPin,ba.mdxControllerToken,Fa,ba.mdxSignature)):ba.useNetflixUserAuthData?new Vc():ba.profileGuid?(Fa=ba.userId,Fa=ja.getMslStore().userIdTokens[Fa],new pd(Fa,ba.profileGuid)):W && ba.sendUserAuthIfRequired?new Vc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(sa){sa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(sa,oa,W){var Z,ba,ja,Fa,Da,Ma;Z=this._log;ba=(this._mslRequest.serviceTokens || []).slice();ja=this._mslContext;oa=ja.getMslStore();Fa=sa.builder.getMasterToken();Da=this.getUserId();Ma=oa.getUserIdToken(Da);(function ia(){var ua;ua=ba.shift();if(ua)try{ua instanceof Hc?(sa.addPrimaryServiceToken(ua),ia()):Ed(ja,ua,Fa,Ma,null,{result:function(xa){try{sa.addPrimaryServiceToken(xa);}catch(Ga){Z.warn("Exception adding service token","" + Ga);}ia();},timeout:function(){Z.warn("Timeout parsing service token");ia();},error:function(xa){Z.warn("Error parsing service token","" + xa);ia();}});}catch(xa){Z.warn("Exception processing service token","" + xa);ia();}else W.result(!0);})();},write:function(sa,oa,W){var Z;Z=Qb(this._mslRequest.body);sa.write(Z,0,Z.length,oa,{result:function(ba){ba != Z.length?W.error(new Ub("Not all data was written to output.")):sa.flush(oa,{result:function(){W.result(!0);},timeout:function(){W.timeout();},error:function(ja){W.error(ja);}});},timeout:function(){W.timeout();},error:function(ba){W.error(ba);}});},getDebugContext:function(){this._dc || (this._dc=new bg(this._log,this._mslRequest));return this._dc;}});bg=Sf.extend({init:function(sa,oa){this._log=sa;this._mslRequest=oa;},sentHeader:function(sa){this._log.trace("Sent MSL header",ve(this._mslRequest,sa),sa.serviceTokens && sa.serviceTokens.map(Df).join("\n"));},receivedHeader:function(sa){var oa,W;oa=ve(this._mslRequest,sa);W=sa.errorCode;W?this._log.warn("Received MSL error header",oa,{errorCode:W,errorMessage:sa.errorMessage,internalCode:sa.internalCode}):this._log.trace("Received MSL header",oa);}});Bf={PSK:function(sa){return Od(sa,Mb.PSK,Yf,rc,ee,Cd);},MGK:function(sa){return Od(sa,Mb.MGK,Af,nc,ee,Cd);},MGK_WITH_FALLBACK:function(sa){var oa,W;switch(sa.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":oa="PSK";break;default:oa="MGK";}W=Bf[oa];if(!W)throw new Ya(V.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + oa);return W(sa);},MGK_JWE:function(sa){return Od(sa,Mb.MGK,Af,nc,Qe,de);},JWK_RSA:function(sa){return Pd(sa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Dd.JWK_RSA);},JWK_RSAES:function(sa){return Pd(sa,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Dd.JWK_RSAES);},JWEJS_RSA:function(sa){return Pd(sa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Dd.JWEJS_RSA);}};lb.netflix=lb.netflix || ({});lb.netflix.msl={createMslClient:function(sa,oa){var W,Z,ba,ja,Fa;W=sa.log;Fa=sa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Ob && Ob.generateKey && Ob.importKey && Ob.unwrapKey))throw new Ya(V.INTERNAL_EXCEPTION,"No WebCrypto");bc=Ob.generateKey({name:"AES-CBC",length:128},!0,Fc).then?td.V2014_02:td.LEGACY;Fa("mslisik");return Hb.importKey("spki",sa.serverIdentityKeyData,Ge,!1,["verify"]);}).then(function(Da){return new Promise(function(Ma,Oa){Mc(Da,{result:Ma,error:function(){Oa(new Ya(V.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Da){Z=Da;if(Da=Bf[sa.authenticationType])return (Fa("mslcc"),Da(sa));throw new Ya(V.INTERNAL_EXCEPTION,"Invalid authenticationType: " + sa.authenticationType);}).then(function(Da){var Ma;ba=new $f(W,sa.esn,Da.keyRequestData,Da.createKeyRequestData,sa.authenticationKeyNames.s,sa.systemKeyWrapFormat);ja=new ag(ba,sa.serverIdentityId,Z,Da.entityAuthFactories,Da.entityAuthData,Da.keyExchangeFactories);Ma=sa.storeState;if(Ma)return (Fa("mslss"),W.info("Loading store state"),new Promise(function(Oa,ia){ba.loadStoreState(sa,ja,Ma,{result:Oa,timeout:Oa,error:Oa});}));W.info("No store state, starting fresh");}).then(function(){var Da;Da=new of();Fa("msldone");oa.result(new Ef(W,Da,ja,ba,sa.ErrorSubCodes));}).catch(function(Da){oa.error(Da);});},IHttpLocation:Of,MslIoException:Ub};(function(){var Va,Ua,fb,jb,mb,pb,qb,xb,vb;function sa(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function oa(r,b){var a,g;if(b)a:{a=Ua;r=r.split(".");for(var c=0;c < r.length - 1;c++){g=r[c];if(!((g in a)))break a;a=a[g];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && Va(a,r,{configurable:!0,writable:!0,value:b});}}function W(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function Z(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:sa(r)};}function ba(r){if(!(r instanceof Array)){r=Z(r);for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}r=a;}return r;}function ja(r,b){var c;r.prototype=fb(b.prototype);r.prototype.constructor=r;if(xb)xb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.r9b=b.prototype;}function Fa(){this.lT=!1;this.sC=null;this.Xsa=void 0;this.iy=1;this.JQa=this.tob=0;this.wQ=null;}function Da(r){if(r.lT)throw new TypeError("Generator is already running");r.lT=!0;}function Ma(r){this.af=new Fa();this.VOb=r;}function Oa(r,b){var a;Da(r.af);a=r.af.sC;if(a)return ia(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.af.return);r.af.return(b);return ua(r);}function ia(r,b,a,c){var g,l;try{g=b.call(r.af.sC,a);if(!(g instanceof Object))throw new TypeError("Iterator result " + g + " is not an object");if(!g.done)return (r.af.lT=!1,g);l=g.value;}catch(m){return (r.af.sC=null,r.af.QV(m),ua(r));}r.af.sC=null;c.call(r.af,l);return ua(r);}function ua(r){var b;for(;r.af.iy;){try{b=r.VOb(r.af);if(b)return (r.af.lT=!1,{value:b.value,done:!1});}catch(a){r.af.Xsa=void 0;r.af.QV(a);}}r.af.lT=!1;if(r.af.wQ){b=r.af.wQ;r.af.wQ=null;if(b.eFb)throw b.jK;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function xa(r){this.next=function(b){return r.aU(b);};this.throw=function(b){return r.QV(b);};this.return=function(b){return Oa(r,b);};this[Symbol.iterator]=function(){return this;};}function Ga(r,b){b=new xa(new Ma(b));xb && r.prototype && xb(b,r.prototype);return b;}function Aa(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function La(r,b){var a,c,g;r instanceof String && (r+="");a=0;c=!1;g={next:function(){var l;if(!c && a < r.length){l=a++;return {value:b(l,r[l]),done:!1};}c=!0;return {done:!0,value:void 0};}};g[Symbol.iterator]=function(){return g;};return g;}function Ca(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}function Ta(r,b,a){var l;r instanceof String && (r=String(r));for(var c=r.length,g=0;g < c;g++){l=r[g];if(b.call(a,l,g,r))return {yka:g,h8:l};}return {yka:-1,h8:void 0};}Va="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Ua=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof lb && lb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);oa("Symbol",function(r){var c;function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (g || "") + "_" + c++,g);}function a(g,l){this.c7a=g;Va(this,"description",{configurable:!0,writable:!0,value:l});}if(r)return r;a.prototype.toString=function(){return this.c7a;};c=0;return b;});oa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Ua[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && Va(c.prototype,r,{configurable:!0,writable:!0,value:function(){return W(sa(this));}});}return r;});fb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};jb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,g){a=b(a,c);g && Reflect.setPrototypeOf(a,g.prototype);return a;};}return function(a,c,g){void 0 === g && (g=a);g=fb(g.prototype || Object.prototype);return Function.prototype.apply.call(a,g,c) || g;};})();if("function" == typeof Object.setPrototypeOf)mb=Object.setPrototypeOf;else {a:{pb={a:!0};qb={};try{qb.__proto__=pb;mb=qb.a;break a;}catch(r){}mb=!1;}mb=mb?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}xb=mb;Fa.prototype.aU=function(r){this.Xsa=r;};Fa.prototype.QV=function(r){this.wQ={jK:r,eFb:!0};this.iy=this.tob || this.JQa;};Fa.prototype.return=function(r){this.wQ={return:r};this.iy=this.JQa;};Ma.prototype.aU=function(r){Da(this.af);if(this.af.sC)return ia(this,this.af.sC.next,r,this.af.aU);this.af.aU(r);return ua(this);};Ma.prototype.QV=function(r){Da(this.af);if(this.af.sC)return ia(this,this.af.sC["throw"],r,this.af.aU);this.af.QV(r);return ua(this);};oa("Reflect",function(r){return r?r:{};});oa("Reflect.construct",function(){return jb;});oa("Reflect.setPrototypeOf",function(r){return r?r:xb?function(b,a){try{return (xb(b,a),!0);}catch(c){return !1;}}:null;});oa("Object.setPrototypeOf",function(r){return r || xb;});vb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var g in c){Aa(c,g) && (r[g]=c[g]);}}return r;};oa("Object.assign",function(r){return r || vb;});oa("Promise",function(r){var g,l;function b(m){var d;this.kN=0;this.aV=void 0;this.aM=[];this.OVa=!1;d=this.gga();try{m(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.lA=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.zLa=function(m){var d;if(null == this.lA){this.lA=[];d=this;this.ALa(function(){d.vwb();});}this.lA.push(m);};g=Ua.setTimeout;a.prototype.ALa=function(m){g(m,0);};a.prototype.vwb=function(){var m,f;for(;this.lA && this.lA.length;){m=this.lA;this.lA=[];for(var d=0;d < m.length;++d){f=m[d];m[d]=null;try{f();}catch(h){this.nmb(h);}}}this.lA=null;};a.prototype.nmb=function(m){this.ALa(function(){throw m;});};b.prototype.gga=function(){var d,f;function m(h){return function(k){f || (f=!0,h.call(d,k));};}d=this;f=!1;return {resolve:m(this.rRb),reject:m(this.upa)};};b.prototype.rRb=function(m){var d;if(m === this)this.upa(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.rTb(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.qRb(m):this.vRa(m);}};b.prototype.qRb=function(m){var d;d=void 0;try{d=m.then;}catch(f){this.upa(f);return;}"function" == typeof d?this.sTb(d,m):this.vRa(m);};b.prototype.upa=function(m){this.f3a(2,m);};b.prototype.vRa=function(m){this.f3a(1,m);};b.prototype.f3a=function(m,d){if(0 != this.kN)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.kN);this.kN=m;this.aV=d;2 === this.kN && this.XRb();this.wwb();};b.prototype.XRb=function(){var m;m=this;g(function(){var d;if(m.GKb()){d=Ua.console;"undefined" !== typeof d && d.error(m.aV);}},1);};b.prototype.GKb=function(){var m,d,f;if(this.OVa)return !1;m=Ua.CustomEvent;d=Ua.Event;f=Ua.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Ua.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.aV;return f(m);};b.prototype.wwb=function(){if(null != this.aM){for(var m=0;m < this.aM.length;++m){l.zLa(this.aM[m]);}this.aM=null;}};l=new a();b.prototype.rTb=function(m){var d;d=this.gga();m.i0(d.resolve,d.reject);};b.prototype.sTb=function(m,d){var f;f=this.gga();try{m.call(d,f.resolve,f.reject);}catch(h){f.reject(h);}};b.prototype.then=function(m,d){var h,k,n;function f(p,q){return "function" == typeof p?function(t){try{h(p(t));}catch(u){k(u);}}:q;}n=new b(function(p,q){h=p;k=q;});this.i0(f(m,h),f(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.i0=function(m,d){var h;function f(){switch(h.kN){case 1:m(h.aV);break;case 2:d(h.aV);break;default:throw Error("Unexpected state: " + h.kN);}}h=this;null == this.aM?l.zLa(f):this.aM.push(f);this.OVa=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,f){f(m);});};b.race=function(m){return new b(function(d,f){for(var h=Z(m),k=h.next();!k.done;k=h.next()){c(k.value).i0(d,f);}});};b.all=function(m){var d,f;d=Z(m);f=d.next();return f.done?c([]):new b(function(h,k){var p,q;function n(t){return function(u){p[t]=u;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).i0(n(p.length - 1),k);f=d.next();}while(!f.done);});};return b;});oa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push([c,b[c]]);}return a;};});oa("Array.prototype.keys",function(r){return r?r:function(){return La(this,function(b){return b;});};});oa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});oa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,g,l;c=this;c instanceof String && (c=String(c));g=c.length;a=a || 0;for(0 > a && (a=Math.max(a + g,0));a < g;a++){l=c[a];if(l === b || Object.is(l,b))return !0;}return !1;};});oa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Ca(this,b,"includes").indexOf(b,a || 0);};});oa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});oa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});oa("Array.prototype.entries",function(r){return r?r:function(){return La(this,function(b,a){return [b,a];});};});oa("WeakMap",function(r){var m,d;function b(f){this.WS=(d+=Math.random() + 1).toString();if(f){f=Z(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function g(f){var h;if(!Aa(f,m)){h=new a();Va(f,m,{value:h});}}function l(f){var h;h=Object[f];h && (Object[f]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && g(k);return h(k);});}if((function(){var f,h,k;if(!r || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});k=new r([[f,2],[h,3]]);if(2 != k.get(f) || 3 != k.get(h))return !1;k.delete(f);k.set(h,4);return !k.has(f) && 4 == k.get(h);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();l("freeze");l("preventExtensions");l("seal");d=0;b.prototype.set=function(f,h){if(!c(f))throw Error("Invalid WeakMap key");g(f);if(!Aa(f,m))throw Error("WeakMap key fail: " + f);f[m][this.WS]=h;return this;};b.prototype.get=function(f){return c(f) && Aa(f,m)?f[m][this.WS]:void 0;};b.prototype.has=function(f){return c(f) && Aa(f,m) && Aa(f[m],this.WS);};b.prototype.delete=function(f){return c(f) && Aa(f,m) && Aa(f[m],this.WS)?delete f[m][this.WS]:!1;};return b;});oa("Map",function(r){var l,m;function b(){var d;d={};return d.xy=d.next=d.head=d;}function a(d,f){var h;h=d.Ix;return W(function(){if(h){for(;h.head != d.Ix;){h=h.xy;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,f){var h,k,n;h=f && typeof f;"object" == h || "function" == h?l.has(f)?h=l.get(f):(h="" + ++m,l.set(f,h)):h="p_" + f;k=d.lx[h];if(k && Aa(d.lx,h))for(d=0;d < k.length;d++){n=k[d];if(f !== f && n.key !== n.key || f === n.key)return {id:h,list:k,index:d,entry:n};}return {id:h,list:k,index:-1,entry:void 0};}function g(d){this.lx={};this.Ix=b();this.size=0;if(d){d=Z(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,h,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new r(Z([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();k=h.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=h.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;l=new WeakMap();g.prototype.set=function(d,f){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.lx[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.Ix,xy:this.Ix.xy,head:this.Ix,key:d,value:f},h.list.push(h.entry),this.Ix.xy.next=h.entry,this.Ix.xy=h.entry,this.size++);return this;};g.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.lx[d.id],d.entry.xy.next=d.entry.next,d.entry.next.xy=d.entry.xy,d.entry.head=null,this.size--,!0):!1;};g.prototype.clear=function(){this.lx={};this.Ix=this.Ix.xy=b();this.size=0;};g.prototype.has=function(d){return ! !c(this,d).entry;};g.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};g.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};g.prototype.keys=function(){return a(this,function(d){return d.key;});};g.prototype.values=function(){return a(this,function(d){return d.value;});};g.prototype.forEach=function(d,f){for(var h=this.entries(),k;!(k=h.next()).done;){k=k.value;d.call(f,k[1],k[0],this);}};g.prototype[Symbol.iterator]=g.prototype.entries;m=0;return g;});oa("Set",function(r){function b(a){this.Qu=new Map();if(a){a=Z(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Qu.size;}if((function(){var a,c,g,l;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(Z([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;g=c.entries();l=g.next();if(l.done || l.value[0] != a || l.value[1] != a)return !1;l=g.next();return l.done || l.value[0] == a || 4 != l.value[0].x || l.value[1] != l.value[0]?!1:g.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Qu.set(a,a);this.size=this.Qu.size;return this;};b.prototype.delete=function(a){a=this.Qu.delete(a);this.size=this.Qu.size;return a;};b.prototype.clear=function(){this.Qu.clear();this.size=0;};b.prototype.has=function(a){return this.Qu.has(a);};b.prototype.entries=function(){return this.Qu.entries();};b.prototype.values=function(){return this.Qu.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var g;g=this;this.Qu.forEach(function(l){return a.call(c,l,l,g);});};return b;});oa("Array.prototype.find",function(r){return r?r:function(b,a){return Ta(this,b,a).h8;};});oa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Ca(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var g=b.length;0 < g && 0 < a;){if(c[--a] != b[--g])return !1;}return 0 >= g;};});oa("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Ca(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});oa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});oa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push(b[c]);}return a;};});oa("Array.prototype.values",function(r){return r?r:function(){return La(this,function(b,a){return a;});};});oa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,g,l;c=Ca(this,b,"startsWith");b+="";g=c.length;l=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < l && a < g;){if(c[a++] != b[m++])return !1;}return m >= l;};});oa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ta(this,b,a).yka;};});oa("String.fromCodePoint",function(r){return r?r:function(b){var g;for(var a="",c=0;c < arguments.length;c++){g=Number(arguments[c]);if(0 > g || 1114111 < g || g !== Math.floor(g))throw new RangeError("invalid_code_point " + g);65535 >= g?a+=String.fromCharCode(g):(g-=65536,a+=String.fromCharCode(g >>> 10 & 1023 | 55296),a+=String.fromCharCode(g & 1023 | 56320));}return a;};});oa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(r){var a;function b(c){var g;if(a[c])return a[c].exports;g=a[c]={yka:c,nGb:!1,exports:{}};r[c].call(g.exports,g,g.exports,b);g.nGb=!0;return g.exports;}a={};b.o7b=r;b.c=a;b.d=function(c,g,l){b.RKb(c,g) || Object.defineProperty(c,g,{enumerable:!0,get:l});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,g){var l;g & 1 && (c=b(c));if(g & 8 || g & 4 && "object" === typeof c && c && c.__esModule)return c;l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:c});if(g & 2 && "string" != typeof c)for(var m in c){b.d(l,m,(function(d){return c[d];}).bind(null,m));}return l;};b.n=function(c){var g;g=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(g,"a",g);return g;};b.RKb=function(c,g){return Object.prototype.hasOwnProperty.call(c,g);};b.p="";return b(b.KRb=537);})([function(r,b,a){function c(){c=Object.assign || (function(G){for(var H,J=1,I=arguments.length;J < I;J++){H=arguments[J];for(var M in H){Object.prototype.hasOwnProperty.call(H,M) && (G[M]=H[M]);}}return G;});return c.apply(this,arguments);}function g(G,H){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(J,I){J.__proto__=I;}) || (function(J,I){for(var M in I){I.hasOwnProperty(M) && (J[M]=I[M]);}});return g(G,H);}function l(G,H){function J(){this.constructor=G;}g(G,H);G.prototype=null === H?Object.create(H):(J.prototype=H.prototype,new J());}function m(G,H){var J,I,M;J={};for(I in G){Object.prototype.hasOwnProperty.call(G,I) && 0 > H.indexOf(I) && (J[I]=G[I]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){M=0;for(I=Object.getOwnPropertySymbols(G);M < I.length;M++){0 > H.indexOf(I[M]) && Object.prototype.propertyIsEnumerable.call(G,I[M]) && (J[I[M]]=G[I[M]]);}}return J;}function d(G,H,J,I){var M,N,K;M=arguments.length;N=3 > M?H:null === I?I=Object.getOwnPropertyDescriptor(H,J):I;if("object" === typeof Reflect && "function" === typeof Reflect.BA)N=Reflect.BA(G,H,J,I);else for(var O=G.length - 1;0 <= O;O--){if(K=G[O])N=(3 > M?K(N):3 < M?K(H,J,N):K(H,J)) || N;}return (3 < M && N && Object.defineProperty(H,J,N),N);}function f(G,H){return function(J,I){H(J,I,G);};}function h(G,H){if("object" === typeof Reflect && "function" === typeof Reflect.Zd)return Reflect.Zd(G,H);}function k(G,H,J,I){function M(N){return N instanceof J?N:new J(function(K){K(N);});}return new (J || (J=Promise))(function(N,K){function O(Q){try{L(I.next(Q));}catch(P){K(P);}}function R(Q){try{L(I["throw"](Q));}catch(P){K(P);}}function L(Q){Q.done?N(Q.value):M(Q.value).then(O,R);}L((I=I.apply(G,H || [])).next());});}function n(G,H){var M,N,K,O,R;function J(L){return function(Q){return I([L,Q]);};}function I(L){if(N)throw new TypeError("Generator is already executing.");for(;M;){try{if((N=1,K && (O=L[0] & 2?K["return"]:L[0]?K["throw"] || ((O=K["return"]) && O.call(K),0):K.next) && !(O=O.call(K,L[1])).done))return O;if((K=0,O))L=[L[0] & 2,O.value];switch(L[0]){case 0:case 1:O=L;break;case 4:return (M.label++,{value:L[1],done:!1});case 5:M.label++;K=L[1];L=[0];continue;case 7:L=M.MF.pop();M.SG.pop();continue;default:if(!(O=M.SG,O=0 < O.length && O[O.length - 1]) && (6 === L[0] || 2 === L[0])){M=0;continue;}if(3 === L[0] && (!O || L[1] > O[0] && L[1] < O[3]))M.label=L[1];else if(6 === L[0] && M.label < O[1])(M.label=O[1],O=L);else if(O && M.label < O[2])(M.label=O[2],M.MF.push(L));else {O[2] && M.MF.pop();M.SG.pop();continue;}}L=H.call(G,M);}catch(Q){L=[6,Q];K=0;}finally{N=O=0;}}if(L[0] & 5)throw L[1];return {value:L[0]?L[1]:void 0,done:!0};}M={label:0,wg:function(){if(O[0] & 1)throw O[1];return O[1];},SG:[],MF:[]};return (R={next:J(0),"throw":J(1),"return":J(2)},"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function p(G,H,J,I){void 0 === I && (I=J);G[I]=H[J];}function q(G,H){for(var J in G){"default" === J || H.hasOwnProperty(J) || (H[J]=G[J]);}}function t(G){var H,J,I;H="function" === typeof Symbol && Symbol.iterator;J=H && G[H];I=0;if(J)return J.call(G);if(G && "number" === typeof G.length)return {next:function(){G && I >= G.length && (G=void 0);return {value:G && G[I++],done:!G};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(G,H){var J,I,M;J="function" === typeof Symbol && G[Symbol.iterator];if(!J)return G;G=J.call(G);M=[];try{for(;(void 0 === H || 0 < H--) && !(I=G.next()).done;){M.push(I.value);}}catch(K){var N;N={error:K};}finally{try{I && !I.done && (J=G["return"]) && J.call(G);}finally{if(N)throw N.error;}}return M;}function w(){for(var G=[],H=0;H < arguments.length;H++){G=G.concat(u(arguments[H]));}return G;}function v(){var I;for(var G=0,H=0,J=arguments.length;H < J;H++){G+=arguments[H].length;}G=Array(G);I=0;for(H=0;H < J;H++){for(var M=arguments[H],N=0,K=M.length;N < K;(N++,I++)){G[I]=M[N];}}return G;}function x(G){return this instanceof x?(this.h8=G,this):new x(G);}function y(G,H,J){var R,L,Q;function I(P){R[P] && (L[P]=function(ha){return new Promise(function(va,la){1 < Q.push([P,ha,va,la]) || M(P,ha);});});}function M(P,ha){var va;try{va=R[P](ha);va.value instanceof x?Promise.resolve(va.value.h8).then(N,K):O(Q[0][2],va);}catch(la){O(Q[0][3],la);}}function N(P){M("next",P);}function K(P){M("throw",P);}function O(P,ha){(P(ha),Q.shift(),Q.length) && M(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=J.apply(G,H || []);Q=[];return (L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function z(G){var J,I;function H(M,N){J[M]=G[M]?function(K){return (I=!I)?{value:x(G[M](K)),done:"return" === M}:N?N(K):K;}:N;}return (J={},H("next"),H("throw",function(M){throw M;}),H("return"),J[Symbol.iterator]=function(){return this;},J);}function B(G){var I,M;function H(N){M[N]=G[N] && (function(K){return new Promise(function(O,R){K=G[N](K);J(O,R,K.done,K.value);});});}function J(N,K,O,R){Promise.resolve(R).then(function(L){N({value:L,done:O});},K);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");I=G[Symbol.asyncIterator];return I?I.call(G):(G="function" === typeof t?t(G):G[Symbol.iterator](),M={},H("next"),H("throw"),H("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function A(G,H){Object.defineProperty?Object.defineProperty(G,"raw",{value:H}):G.raw=H;return G;}function E(G){var H;if(G && G.__esModule)return G;H={};if(null != G)for(var J in G){Object.hasOwnProperty.call(G,J) && (H[J]=G[J]);}H.default=G;return H;}function D(G){return G && G.__esModule?G:{default:G};}function F(G,H){if(!H.has(G))throw new TypeError("attempted to get private field on non-instance");return H.get(G);}function C(G,H,J){if(!H.has(G))throw new TypeError("attempted to set private field on non-instance");H.set(G,J);return J;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return B;});a.d(b,"__makeTemplateObject",function(){return A;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(40);b.m1b=r;r=a(540);b.PW=r.PW;r=a(75);b.wr=r.wr;b.Mi=r.Mi;b.iw=r.iw;r=a(556);b.Xta=r.Xta;b.Qc=r.Qc;r=a(557);b.O=r.O;r=a(558);b.t4a=r.t4a;r=a(559);b.yYa=r.yYa;r=a(291);b.l=r.l;b.j$=r.j$;r=a(560);b.optional=r.optional;r=a(561);b.Ki=r.Ki;r=a(562);b.DF=r.DF;r=a(563);b.PV=r.PV;r=a(564);b.P_a=r.P_a;r=a(289);b.D$=r.D$;r=a(101);b.id=r.id;r=a(87);b.BA=r.BA;r=a(294);b.o5a=r.o5a;b.u4a=r.u4a;b.zYa=r.zYa;b.u5a=r.u5a;r=a(130);b.JK=r.JK;a=a(565);b.vYa=a.vYa;},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ar=b.F9=b.fxa=b.E9=b.G$a=b.H$a=b.exa=b.bxa=b.F$a=b.AAa=b.TX=b.KX=b.dxa=b.K=b.J=void 0;(function(g){g[g.Zl=7001]="UNKNOWN";g[g.Ceb=7002]="UNHANDLED_EXCEPTION";g[g.Aab=7003]="INIT_COMPONENT_LOG_TO_REMOTE";g[g.rya=7010]="INIT_ASYNCCOMPONENT";g[g.Hya=7011]="INIT_HTTP";g[g.wab=7014]="INIT_BADMOVIEID";g[g.Oab=7016]="INIT_NETFLIXID_MISSING";g[g.Nab=7017]="INIT_NETFLIXID_INVALID";g[g.Qab=7018]="INIT_SECURENETFLIXID_MISSING";g[g.Iya=7020]="INIT_PLAYBACK_LOCK";g[g.Jya=7022]="INIT_SESSION_LOCK";g[g.Pab=7029]="INIT_POSTAUTHORIZE";g[g.a1b=7031]="INIT_HEADER_MEDIA";g[g.O0b=7032]="HEADER_MISSING";g[g.N0b=7033]="HEADER_FRAGMENTS_MISSING";g[g.Rab=7034]="INIT_TIMEDTEXT_TRACK";g[g.b1b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";g[g.c1b=7036]="INIT_STREAMS_NOT_AVAILABLE";g[g.A8=7037]="ASE_SESSION_ERROR";g[g.m7a=7038]="ASE_SEEK_THREW";g[g.n7a=7039]="ASE_SKIPPED_THREW";g[g.Kab=7041]="INIT_CORE_OBJECTS1";g[g.Lab=7042]="INIT_CORE_OBJECTS2";g[g.Mab=7043]="INIT_CORE_OBJECTS3";g[g.Y0b=7051]="INIT_COMPONENT_REQUESTQUOTA";g[g.S0b=7052]="INIT_COMPONENT_FILESYSTEM";g[g.Aya=7053]="INIT_COMPONENT_STORAGE";g[g.Bya=7054]="INIT_COMPONENT_STORAGELOCK";g[g.T0b=7055]="INIT_COMPONENT_LOGPERSIST";g[g.U0b=7056]="INIT_COMPONENT_NRDDPI";g[g.W0b=7057]="INIT_COMPONENT_PEPPERCRYPTO";g[g.xya=7058]="INIT_COMPONENT_MAINTHREADMONITOR";g[g.X9=7059]="INIT_COMPONENT_DEVICE";g[g.V0b=7062]="INIT_COMPONENT_NTBA";g[g.yya=7063]="INIT_COMPONENT_MSL";g[g.yab=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";g[g.wya=7066]="INIT_COMPONENT_LOGBLOBBATCHER";g[g.nz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";g[g.X0b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";g[g.xab=7069]="INIT_COMPONENT_ACCOUNT";g[g.Cab=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";g[g.Eab=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";g[g.Fab=7072]="INIT_COMPONENT_NRDP_MEDIA";g[g.Gab=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";g[g.Hab=7074]="INIT_COMPONENT_NRDP_REGISTRATION";g[g.Bab=7081]="INIT_COMPONENT_NRDP";g[g.Dab=7082]="INIT_COMPONENT_NRDP_DEVICE";g[g.Gya=7083]="INIT_COMPONENT_WEBCRYPTO";g[g.Jab=7084]="INIT_COMPONENT_VIDEO_PREPARER";g[g.$0b=7085]="INIT_CONGESTION_SERVICE";g[g.vya=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";g[g.Cya=7087]="INIT_COMPONENT_TRACKING_LOG";g[g.tya=7088]="INIT_COMPONENT_BATTERY_MANAGER";g[g.sya=7089]="INIT_COMPONENT_ASE";g[g.Z0b=7090]="INIT_COMPONENT_VIDEO_CACHE";g[g.zH=7091]="INIT_COMPONENT_DRM_CACHE";g[g.zab=7092]="INIT_COMPONENT_DRM";g[g.Iab=7093]="INIT_COMPONENT_PREFETCH_EVENTS";g[g.uya=7094]="INIT_COMPONENT_FTL";g[g.zya=7095]="INIT_COMPONENT_PREPARE_MODEL";g[g.Dya=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";g[g.Eya=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";g[g.Fya=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";g[g.s$=7111]="MANIFEST";g[g.x7a=7112]="AUTHORIZE_UNKNOWN";g[g.rbb=7117]="MANIFEST_VERIFY";g[g.aeb=7120]="START";g[g.BH=7121]="LICENSE";g[g.Eaa=7122]="RELEASE";g[g.OEa=7123]="STOP";g[g.E0b=7124]="FPSAPPDATA";g[g.f$=7125]="KEEPALIVE";g[g.A_b=7126]="DEACTIVATE";g[g.y3b=7127]="SYNC_DEACTIVATE_LINKS";g[g.xZb=7130]="ACTIVATE";g[g.Ncb=7131]="PING";g[g.N1b=7133]="NETFLIXID";g[g.y$a=7134]="ENGAGE";g[g.pbb=7135]="LOGIN";g[g.heb=7136]="SWITCH_PROFILES";g[g.obb=7137]="LOGBLOB";g[g.xcb=7138]="PAUSE";g[g.Jdb=7139]="RESUME";g[g.MEa=7140]="SPLICE";g[g.M_b=7141]="DOWNLOAD_EVENT";g[g.S7a=7142]="BIND";g[g.vcb=7143]="PAIR";g[g.T7a=7144]="BIND_DEVICE";g[g.T$a=7145]="GENERATE_SCREENSHOTS";g[g.Scb=7202]="PLAY_INIT_EXCEPTION";g[g.l1b=7301]="MEDIA_DOWNLOAD";g[g.z2b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";g[g.A2b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";g[g.TBa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";g[g.Ycb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";g[g.UBa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";g[g.Zcb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";g[g.W$=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";g[g.B2b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";g[g.Xcb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";g[g.YBa=7351]="PLAY_MSE_NOTSUPPORTED";g[g.WBa=7352]="PLAY_MSE_EME_NOTSUPPORTED";g[g.SBa=7353]="PLAY_MSE_DECODER_TIMEOUT";g[g.QO=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";g[g.X$=7355]="PLAY_MSE_SOURCEADD";g[g.RBa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";g[g.RO=7357]="PLAY_MSE_GENERATEKEYREQUEST";g[g.E2b=7358]="PLAY_MSE_PARSECHALLENGE";g[g.y2b=7359]="PLAY_MSE_ADDKEY";g[g.H2b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";g[g.bdb=7361]="PLAY_MSE_EVENT_ERROR";g[g.MH=7362]="PLAY_MSE_SETMEDIAKEYS";g[g.$p=7363]="PLAY_MSE_EVENT_KEYERROR";g[g.adb=7364]="PLAY_MSE_EME_SESSION_CLOSE";g[g.cdb=7365]="PLAY_MSE_GETCURRENTTIME";g[g.ddb=7367]="PLAY_MSE_SETCURRENTTIME";g[g.edb=7371]="PLAY_MSE_SOURCEAPPEND";g[g.F2b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";g[g.jdb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";g[g.hdb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";g[g.gdb=7377]="PLAY_MSE_UNEXPECTED_REWIND";g[g.G2b=7379]="PLAY_MSE_SOURCE_EOS";g[g.fdb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";g[g.ZBa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";g[g.D2b=7385]="PLAY_MSE_KEYSESSION_UPDATE";g[g.Tcb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";g[g.Ucb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";g[g.Vcb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";g[g.VBa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";g[g.$cb=7395]="PLAY_MSE_EME_MISSING_PSSH";g[g.C2b=7396]="PLAY_MSE_EME_MISSING_CERT";g[g.XBa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";g[g.Wcb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";g[g.jY=7399]="PLAY_MSE_SET_LICENSE_ERROR";g[g.C$a=7400]="EXTERNAL";g[g.iY=7500]="PAUSE_TIMEOUT";g[g.LX=7502]="INACTIVITY_TIMEOUT";g[g.w7a=7510]="AUTHORIZATION_EXPIRED";g[g.C_b=7520]="DECRYPT_AUDIO";g[g.s$a=7700]="EME_INVALID_KEYSYSTEM";g[g.Dwa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";g[g.iO=7702]="EME_CREATE_MEDIAKEYS_FAILED";g[g.iX=7703]="EME_GENERATEREQUEST_FAILED";g[g.Kwa=7704]="EME_UPDATE_FAILED";g[g.Iwa=7705]="EME_KEYSESSION_ERROR";g[g.Hwa=7706]="EME_KEYMESSAGE_EMPTY";g[g.v$a=7707]="EME_REMOVE_FAILED";g[g.u$a=7708]="EME_LOAD_FAILED";g[g.p$a=7709]="EME_CREATE_SESSION_FAILED";g[g.B9=7710]="EME_LDL_RENEWAL_ERROR";g[g.Fwa=7711]="EME_INVALID_INITDATA_DATA";g[g.Gwa=7712]="EME_INVALID_LICENSE_DATA";g[g.t$a=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";g[g.X_b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";g[g.Cwa=7716]="EME_CLOSE_FAILED";g[g.w$a=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";g[g.Ocb=7800]="PLAYDATA_STORE_FAILURE";g[g.x2b=7801]="PLAYDATA_SEND_FAILURE";g[g.SN=7900]="BRANCH_PLAY_FAILURE";g[g.gH=7901]="BRANCH_QUEUE_FAILURE";g[g.eua=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";g[g.S1b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";g[g.T1b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";g[g.Dcb=8100]="PBO_EVENTLOOKUP_FAILURE";g[g.V$=8200]="PLAYGRAPH_ADD_MANIFEST";g[g.Qcb=8201]="PLAYGRAPH_SEGMENT_NOT_READY";})(a=b.J || (b.J={}));(function(g){g[g.Zl=1001]="UNKNOWN";g[g.Ni=1003]="EXCEPTION";g[g.Uab=1004]="INVALID_DI";g[g.q7a=1011]="ASYNCLOAD_EXCEPTION";g[g.r7a=1013]="ASYNCLOAD_TIMEOUT";g[g.yZb=1015]="ASYNCLOAD_BADCONFIG";g[g.o7a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";g[g.p7a=1017]="ASYNCLOAD_COMPONENT_MISSING";g[g.zO=1101]="HTTP_UNKNOWN";g[g.U9=1102]="HTTP_XHR";g[g.wO=1103]="HTTP_PROTOCOL";g[g.vO=1104]="HTTP_OFFLINE";g[g.yO=1105]="HTTP_TIMEOUT";g[g.GC=1106]="HTTP_READTIMEOUT";g[g.mz=1107]="HTTP_ABORT";g[g.bya=1108]="HTTP_PARSE";g[g.Yxa=1110]="HTTP_BAD_URL";g[g.xO=1111]="HTTP_PROXY";g[g.eAa=1203]="MSE_AUDIO";g[g.fAa=1204]="MSE_VIDEO";g[g.Dbb=1250]="MSE_MEDIA_ERR_BASE";g[g.o1b=1251]="MSE_MEDIA_ERR_ABORTED";g[g.r1b=1252]="MSE_MEDIA_ERR_NETWORK";g[g.p1b=1253]="MSE_MEDIA_ERR_DECODE";g[g.s1b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";g[g.q1b=1255]="MSE_MEDIA_ERR_ENCRYPTED";g[g.zr=1260]="EME_MEDIA_KEYERR_BASE";g[g.c0b=1261]="EME_MEDIA_KEYERR_UNKNOWN";g[g.Y_b=1262]="EME_MEDIA_KEYERR_CLIENT";g[g.b0b=1263]="EME_MEDIA_KEYERR_SERVICE";g[g.a0b=1264]="EME_MEDIA_KEYERR_OUTPUT";g[g.$_b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";g[g.Z_b=1266]="EME_MEDIA_KEYERR_DOMAIN";g[g.d0b=1269]="EME_MEDIA_UNAVAILABLE_CDM";g[g.r$a=1280]="EME_ERROR_NODRMSESSSION";g[g.q$a=1281]="EME_ERROR_NODRMREQUESTS";g[g.U_b=1282]="EME_ERROR_INDIV_FAILED";g[g.V_b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";g[g.x$a=1284]="EME_TIMEOUT_MESSAGE";g[g.e0b=1285]="EME_TIMEOUT_KEYCHANGE";g[g.Jwa=1286]="EME_UNDEFINED_DATA";g[g.rH=1287]="EME_INVALID_STATE";g[g.W_b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";g[g.Ewa=1289]="EME_EMPTY_DATA";g[g.jO=1290]="EME_TIMEOUT";g[g.H1b=1303]="NCCP_METHOD_NOT_SUPPORTED";g[g.K1b=1305]="NCCP_PARSEXML";g[g.mdb=1309]="PROCESS_EXCEPTION";g[g.J1b=1311]="NCCP_NETFLIXID_MISSING";g[g.L1b=1312]="NCCP_SECURENETFLIXID_MISSING";g[g.E1b=1313]="NCCP_HMAC_MISSING";g[g.D1b=1315]="NCCP_HMAC_MISMATCH";g[g.C1b=1317]="NCCP_HMAC_FAILED";g[g.B1b=1321]="NCCP_CLIENTTIME_MISSING";g[g.A1b=1323]="NCCP_CLIENTTIME_MISMATCH";g[g.Bxa=1331]="GENERIC";g[g.Wbb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";g[g.Xbb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";g[g.M1b=1341]="NCCP_TRANSACTION";g[g.F1b=1343]="NCCP_INVALID_DRMTYPE";g[g.G1b=1344]="NCCP_INVALID_LICENCE_RESPONSE";g[g.I1b=1345]="NCCP_MISSING_PAYLOAD";g[g.N2b=1346]="PROTOCOL_NOT_INITIALIZED";g[g.M2b=1347]="PROTOCOL_MISSING_FIELD";g[g.L2b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";g[g.Az=1402]="STORAGE_NODATA";g[g.i3b=1403]="STORAGE_EXCEPTION";g[g.q3b=1405]="STORAGE_QUOTA_NOT_GRANTED";g[g.r3b=1407]="STORAGE_QUOTA_TO_SMALL";g[g.QEa=1411]="STORAGE_LOAD_ERROR";g[g.ceb=1412]="STORAGE_LOAD_TIMEOUT";g[g.REa=1414]="STORAGE_SAVE_ERROR";g[g.feb=1415]="STORAGE_SAVE_TIMEOUT";g[g.Kaa=1417]="STORAGE_DELETE_ERROR";g[g.PEa=1418]="STORAGE_DELETE_TIMEOUT";g[g.p3b=1421]="STORAGE_FS_REQUESTFILESYSTEM";g[g.m3b=1423]="STORAGE_FS_GETDIRECTORY";g[g.o3b=1425]="STORAGE_FS_READENTRIES";g[g.j3b=1427]="STORAGE_FS_FILEREAD";g[g.l3b=1429]="STORAGE_FS_FILEWRITE";g[g.k3b=1431]="STORAGE_FS_FILEREMOVE";g[g.n3b=1432]="STORAGE_FS_PARSEJSON";g[g.eeb=1451]="STORAGE_NO_LOCALSTORAGE";g[g.deb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";g[g.Z1b=1501]="NTBA_UNKNOWN";g[g.Y1b=1502]="NTBA_EXCEPTION";g[g.U1b=1504]="NTBA_CRYPTO_KEY";g[g.W1b=1506]="NTBA_CRYPTO_OPERATION";g[g.V1b=1508]="NTBA_CRYPTO_KEYEXCHANGE";g[g.X1b=1515]="NTBA_DECRYPT_UNSUPPORTED";g[g.Fva=1553]="DEVICE_NO_ESN";g[g.n9=1555]="DEVICE_ERROR_GETTING_ESN";g[g.K$a=1701]="FORMAT_UNKNOWN";g[g.oxa=1713]="FORMAT_XML";g[g.L$a=1715]="FORMAT_XML_CONTENT";g[g.J$a=1721]="FORMAT_BASE64";g[g.nX=1723]="FORMAT_DFXP";g[g.iab=1801]="INDEXDB_OPEN_EXCEPTION";g[g.pya=1802]="INDEXDB_NOT_SUPPORTED";g[g.hab=1803]="INDEXDB_OPEN_ERROR";g[g.qya=1804]="INDEXDB_OPEN_NULL";g[g.gab=1805]="INDEXDB_OPEN_BLOCKED";g[g.jab=1807]="INDEXDB_OPEN_TIMEOUT";g[g.fab=1808]="INDEXDB_INVALID_STORE_STATE";g[g.MX=1809]="INDEXDB_ACCESS_EXCEPTION";g[g.Nbb=1901]="MSL_UNKNOWN";g[g.Gbb=1911]="MSL_INIT_NO_MSL";g[g.hAa=1913]="MSL_INIT_ERROR";g[g.Hbb=1915]="MSL_INIT_NO_WEBCRYPTO";g[g.Ebb=1931]="MSL_ERROR";g[g.Mbb=1933]="MSL_REQUEST_TIMEOUT";g[g.Lbb=1934]="MSL_READ_TIMEOUT";g[g.Fbb=1935]="MSL_ERROR_HEADER";g[g.t1b=1936]="MSL_ERROR_ENVELOPE";g[g.u1b=1937]="MSL_ERROR_MISSING_PAYLOAD";g[g.gAa=1957]="MSL_ERROR_REAUTH";g[g.eba=2103]="WEBCRYPTO_MISSING";g[g.Leb=2105]="WEBCRYPTOKEYS_MISSING";g[g.Meb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";g[g.i_b=2200]="CACHEDDATA_PARSEJSON";g[g.zua=2201]="CACHEDDATA_UNSUPPORTED_VERSION";g[g.j_b=2202]="CACHEDDATA_UPGRADE_FAILED";g[g.iz=2203]="CACHEDDATA_INVALID_FORMAT";g[g.vZb=3E3]="ACCOUNT_CHANGE_INFLIGHT";g[g.wZb=3001]="ACCOUNT_INVALID";g[g.L_b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";g[g.K_b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";g[g.I_b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";g[g.J_b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";g[g.H_b=3202]="DOWNLOADED_LICENSE_EXCEPTION";g[g.s3b=3300]="STORAGE_VA_LOAD_ERROR";g[g.t3b=3301]="STORAGE_VA_LOAD_TIMEOUT";g[g.w3b=3302]="STORAGE_VA_SAVE_ERROR";g[g.x3b=3303]="STORAGE_VA_SAVE_TIMEOUT";g[g.u3b=3304]="STORAGE_VA_REMOVE_ERROR";g[g.v3b=3305]="STORAGE_VA_REMOVE_TIMEOUT";g[g.S$=3077]="PBO_DEVICE_EOL_WARNING";g[g.JBa=3078]="PBO_DEVICE_EOL_FINAL";g[g.MBa=3100]="PBO_DEVICE_RESET";g[g.LBa=3101]="PBO_DEVICE_RELOAD";g[g.KBa=3102]="PBO_DEVICE_EXIT";g[g.Lcb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.ycb=5005]="PBO_ACCOUNT_ON_HOLD";g[g.Ccb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.NBa=5007]="PBO_INCORRECT_PIN";g[g.Jcb=5008]="PBO_MOBILE_ONLY";g[g.Mcb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";g[g.Fcb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";g[g.Acb=5059]="PBO_BLACKLISTED_IP";g[g.zcb=5070]="PBO_AGE_VERIFICATION_REQUIRED";g[g.Bcb=5080]="PBO_CHOICE_MAP_ERROR";g[g.Kcb=5090]="PBO_RESTRICTED_TO_TESTERS";g[g.Hcb=5091]="PBO_MALFORMED_REQUEST";g[g.Gcb=5092]="PBO_INVALID_SERVICE_VERSION";g[g.Icb=5093]="PBO_MDX_INVALID_CTICKET";g[g.Ecb=5094]="PBO_FREE_PREVIEW_ENDED";g[g.j9a=5100]="DECODER_TIMEOUT_BUFFERING";g[g.l9a=5101]="DECODER_TIMEOUT_PRESENTING";g[g.k9a=5102]="DECODER_TIMEOUT_PLAYING";g[g.b$a=5200]="DOWNLOADER_IO_ERROR";g[g.dua=5300]="BRANCHING_SEGMENT_NOTFOUND";g[g.X7a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";g[g.MZb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";g[g.W8=5303]="BRANCHING_ASE_UNINITIALIZED";g[g.U7a=5304]="BRANCHING_ASE_FAILURE";g[g.JZb=5305]="BRANCHING_MOMENT_FAILURE";g[g.V7a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";g[g.LZb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";g[g.Y7a=5308]="BRANCHING_SEEK_THREW";g[g.KZb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";g[g.W7a=5310]="BRANCHING_PLAY_TIMEDOUT";g[g.Z7a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";g[g.$7a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";g[g.f7a=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";g[g.e7a=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";g[g.geb=5500]="STUDIO_MUXED_MANIFEST";})(c=b.K || (b.K={}));(function(g){g[g.XZb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.NZb=5005]="BR_ACCOUNT_ON_HOLD";g[g.RZb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.UZb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";g[g.QZb=5059]="BR_BLACKLISTED_IP";g[g.OZb=5070]="BR_AGE_VERIFICATION_REQUIRED";g[g.VZb=2204]="BR_PLAYBACK_CONTEXT_CREATION";g[g.SZb=2205]="BR_DRM_LICENSE_AQUISITION";g[g.WZb=2206]="BR_PLAYBACK_SERVICE_ERROR";g[g.TZb=2207]="BR_ENDPOINT_ERROR";g[g.PZb=2208]="BR_AUTHORIZATION_ERROR";})(b.dxa || (b.dxa={}));b.KX={g8a:"400",T3b:"401",dCa:"413"};b.TX={C0b:1,M3b:2,h0b:3,S3b:4,f1b:5,g0b:6,bba:7,j0b:8,V2b:9,f3b:10};(function(g){g[g.v2b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";g[g.w2b=98]="PAIRING_UNKNOWN_ERROR";})(b.AAa || (b.AAa={}));b.F$a=function(g){return 7100 <= g && 7200 > g;};b.bxa=function(g){return g == a.iY || g == a.LX;};b.exa=function(g){return 1100 <= g && 1199 >= g;};b.H$a=function(g){return 1300 <= g && 1399 >= g;};b.G$a=function(g){return 1900 <= g && 1999 >= g;};b.E9=function(g,l){return 1 <= g && 9 >= g?l + g:l;};b.fxa=function(g){return b.E9(g,c.Dbb);};b.F9=function(g){return b.E9(g,c.zr);};b.Ar=function(g){var l,m,d;l={};m=g.errorExternalCode || g.Oe;d=g.errorDetails || g.gb;l.ErrorSubCode=g.errorSubCode || g.ka || c.Zl;m && (l.ErrorExternalCode=m);d && (l.ErrorDetails=d);return l;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={$S:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b,a){var l;function c(){return l.iP.apply(this,arguments) || this;}function g(m){return new l.Br(m,b.ia);}Object.defineProperty(b,"__esModule",{value:!0});b.nb=b.hya=b.F$=b.Xm=b.ia=b.SC=b.timestamp=b.CDb=b.L4=b.kh=b.Xb=b.S_a=b.$Ib=b.veb=void 0;l=a(295);ja(c,l.iP);b.veb=c;b.$Ib=function(m){return new l.Br(m,b.SC);};b.S_a=function(m){return new l.Br(m * b.Xm.Kf,b.SC);};b.Xb=g;b.kh=function(m){return new l.Br(m,b.Xm);};b.L4=function(m){return new l.Br(m,b.F$);};b.CDb=function(m){return new l.Br(m,b.hya);};b.timestamp=function(m){return g(m);};b.SC=new c(1,"\u03bcs");b.ia=new c(1E3,"ms",b.SC);b.Xm=new c(1E3 * b.ia.Kf,"s",b.SC);b.F$=new c(60 * b.Xm.Kf,"min",b.SC);b.hya=new c(60 * b.F$.Kf,"hr",b.SC);b.nb=g(0);},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);g=a(142);l=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(Error);b.assert=function(m,d){if(!m)try{throw new l(d || "Assertion failed");}catch(f){throw (g.Vl.u.error("Assertion failed",{value:m,message:d,stack:f.stack}),f);}};},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.fa=b.yDa=b.mS=b.Eh=b.Dh=b.log=b.rg=b.AK=b.WLa=b.sq=b.kA=b.tc=b.anb=b.Bea=b.Zmb=b.$mb=b.si=b.BN=b.eW=b.ph=b.Qa=b.sa=void 0;c=a(191);r=a(7);g=a(24);l=a(77);m=a(76);d=a(33);f=a(27);h=a(118);k=a(38);a=a(44);b.sa=c.ad.get(k.hi);b.Qa=c.ad.get(a.Ui);b.ph=c.ad.get(l.Rt);b.eW=b.ph.encode.bind(b.ph);b.BN=b.ph.decode.bind(b.ph);b.si=c.ad.get(m.Jv);b.$mb=b.si.encode.bind(b.si);b.Zmb=b.si.decode.bind(b.si);b.Bea=b.si.TE.bind(b.si);b.anb=b.si.Z4a.bind(b.si);b.tc=c.ad.get(d.Nh);b.kA=function(n){n=f.ue(n)?b.BN(n):n;return b.tc.encode(n);};b.sq=b.tc.decode.bind(b.tc);b.WLa=function(n){return b.eW(b.sq(n));};b.AK=function(){return c.ad.get(g.Nv);};b.rg=c.ad.get(r.Ab);b.log=b.rg.sb("General");b.Dh=function(n,p){return b.rg.sb(n,void 0,p);};b.Eh=function(n,p,q){return b.rg.sb(p,n,q);};b.mS=function(n,p,q,t){return b.rg.sb(n,void 0,t,p,q);};b.yDa=function(n,p,q){return c.ad.get(h.RH)(n,p,q).Tra();};b.fa=c.ad;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hO=b.Ab=b.o$=b.Qi=void 0;r=b.Qi || (b.Qi={});r[r.I$a=0]="FATAL";r[r.jf=1]="ERROR";r[r.dba=2]="WARN";r[r.W9=3]="INFO";r[r.RFa=4]="TRACE";r[r.ma=5]="DEBUG";b.o$="LogFieldBuilderFactorySymbol";b.Ab="LoggerFactorySymbol";b.hO={};},function(r){var b;b={pa:function(a){return "number" === typeof a;},Ff:function(a){return "object" === typeof a;},ue:function(a){return "string" === typeof a;},ea:function(a){return "undefined" === typeof a;},R6b:function(a){return "boolean" === typeof a;},mc:function(a){return "function" === typeof a;},hb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},tMb:function(a){var c,g;g=[];if(!b.Ff(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && g.push([c,a[c]]);}return g;}};b.Me=b.forEach=function(a,c,g){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var l=0,m=a.length;l < m;l++){c.call(g,a[l],l,a);}else for(l in a){b.has(a,l) && c.call(g,a[l],l,a);}return a;};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TO=b.Cxa=b.YGa=void 0;r=a(0);r.__exportStar(a(845),b);r.__exportStar(a(108),b);r.__exportStar(a(21),b);r.__exportStar(a(846),b);r.__exportStar(a(847),b);r.__exportStar(a(848),b);r.__exportStar(a(849),b);r.__exportStar(a(850),b);r.__exportStar(a(851),b);r.__exportStar(a(852),b);c=r.__importDefault(a(853));b.YGa=c.default;c=r.__importDefault(a(854));b.Cxa=c.default;a=r.__importDefault(a(388));b.TO=a.default;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zla=b.localStorage=b.kEb=b.indexedDB=b.XX=b.Xo=b.$v=b.IH=b.VC=b.URL=b.$X=b.YX=b.zAa=b.RX=b.PC=b.QC=b.mo=b.Vm=b.ii=b.y$=b.Wv=b.JFa=b.mH=b.ZC=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Sw=b.Zbb=b.ye=b.Kt=b.Lt=b.ZX=b.Yp=void 0;r=lb;b.Ve=r.navigator;b.Yp=null === b.Ve || void 0 === b.Ve?void 0:b.Ve.userAgent;b.ZX=r.location;b.Lt=r.screen;b.Kt=r.performance;b.ye=r.document;b.Zbb=b.ye.documentElement;b.Sw=Array.prototype;b.sort=b.Sw.sort;b.map=b.Sw.map;b.slice=b.Sw.slice;b.every=b.Sw.every;b.reduce=b.Sw.reduce;b.filter=b.Sw.filter;b.forEach=b.Sw.forEach;b.pop=b.Sw.pop;b.ZC=Object.create;b.mH=Date.now;b.JFa=String.fromCharCode;b.Wv=Math.floor;b.y$=Math.ceil;b.ii=Math.round;b.Vm=Math.max;b.mo=Math.min;b.QC=Math.random;b.PC=Math.abs;b.RX=Math.pow;b.zAa=Math.sqrt;b.YX=r.escape;b.$X=r.unescape;b.URL=r.URL || r.webkitURL;b.VC=r.MediaSource || r.WebKitMediaSource;b.IH=r.WebKitMediaKeys || r.MSMediaKeys || r.MediaKeys;b.$v=r.nfCrypto || r.webkitCrypto || r.msCrypto || r.crypto;b.Xo=b.$v && (b.$v.webkitSubtle || b.$v.subtle);b.XX=r.nfCryptokeys || r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.kEb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Zla=a || "noex";}},function(r,b,a){var l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A;function c(E){return (E=b.config.ksa[g(E)])?E:{};}function g(E){if(E)return 0 <= E.indexOf("billboard")?"billboard":0 <= E.toLowerCase().indexOf("preplay")?"preplay":0 <= E.indexOf("embedded")?"embedded":0 <= E.indexOf("content-sampling")?"content-sampling":0 <= E.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= E.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= E.indexOf("standard")?"standard":0 <= E.indexOf("branching")?"branching":E;}Object.defineProperty(b,"__esModule",{value:!0});b.Ppb=b.Qpb=b.u0=b.nR=b.GNa=b.FNa=b.Opb=b.HNa=b.Mfa=b.config=void 0;l=a(12);m=a(45);d=a(6);f=a(36);h=a(19);a(27);k=a(24);n=a(49);p=a(22);a(7);q=a(10);t=a(14);u=a(171);w=a(56);v=a(99);x=a(131);y=a(48);z=a(4);B=a(32);A=a(18);b.HNa=function(E,D){var la,S,da,ya,U,ma,ta,Ja,wa;function F(ra,Qa){p.Wd(ra,function(Pa,Sa){t.mc(Sa)?Qa[Pa]=Sa.call(void 0,Qa[Pa]):t.Ff(Sa) && (Qa[Pa]=Qa[Pa] || ({}),F(Sa,Qa[Pa]));});}function C(ra,Qa,Pa,Sa){for(var $a=[],kb=3;kb < arguments.length;++kb){$a[kb - 3]=arguments[kb];}return function(bb){t.vc(bb) && (Pa=bb);h.Za(t.mc(ra));return ra.apply(void 0,[Qa,Pa].concat(ba($a)));};}function G(ra){ra=ra.toLowerCase();ya.hasOwnProperty(ra) && (da[ra]=ya[ra],U[ra]=ya[ra]);return ra;}function H(ra,Qa,Pa){var Sa;ra=ra.toLowerCase();if(da.hasOwnProperty(ra)){Sa=da[ra];try{Sa=Pa?Pa(Sa):Sa;}catch($a){Sa=void 0;}if(void 0 !== Sa)return Sa;h.Za(!1);d.log.error("Invalid configuration value. Name: " + ra);}return Qa;}function J(ra,Qa,Pa,Sa){return H(ra,Qa,function($a){t.ue($a) && ($a=p.ke($a));if(t.FVa($a,Pa,Sa))return $a;});}function I(ra,Qa,Pa,Sa){return H(ra,Qa,function($a){t.ue($a) && ($a=p.ke($a));if(t.Rx($a,Pa,Sa))return $a;});}function M(ra,Qa,Pa,Sa){return H(ra,Qa,function($a){t.ue($a) && ($a=parseFloat($a));if(t.pa($a,Pa,Sa))return $a;});}function N(ra,Qa,Pa){return H(ra,Qa,function(Sa){if(Pa?Pa.test(Sa):t.ue(Sa))return Sa;});}function K(ra,Qa){return H(ra,Qa,function(Pa){if("true" == Pa || !0 === Pa)return !0;if("false" == Pa || !1 === Pa)return !1;});}function O(ra,Qa){return H(ra,Qa,function(Pa){if(t.ue(Pa))return JSON.parse(q.$X(Pa));if(t.Ff(Pa))return Pa;});}function R(ra,Qa,Pa,Sa,$a,kb){var bb;ra=ra.toLowerCase();da.hasOwnProperty(ra) && (bb=da[ra]);if(!t.vc(bb))return Qa;if(t.ue(bb))if(bb[0] !== Pa)bb=Sa(bb);else try{bb=JSON.parse(q.$X(bb));}catch(Ra){bb=void 0;}if(void 0 === bb)return Qa;for(ra=0;ra < $a.length;ra++){if(!$a[ra](bb))return Qa;}return kb?kb(bb):bb;}function L(ra,Qa,Pa,Sa,$a){return R(ra,Qa,"[",function(kb){kb=kb.split("|");for(var bb=kb.length;bb--;){kb[bb]=p.ke(kb[bb]);}return kb;},[function(kb){return t.isArray(kb) && 0 < kb.length;},function(kb){for(var bb=kb.length;bb--;){if(!t.Rx(kb[bb],Pa,Sa))return !1;}return !0;},function(kb){return void 0 === $a || kb.length >= $a;}]);}function Q(ra,Qa){return R(ra,Qa,"[",function(Pa){Pa=t.isArray(Pa)?Pa:Pa.split("|");for(var Sa=Pa.length;Sa--;){try{Pa[Sa]=JSON.parse(q.$X(Pa[Sa]));}catch($a){Pa=void 0;break;}}return Pa;},[function(Pa){return t.isArray(Pa) && 0 < Pa.length;},function(Pa){for(var Sa=Pa.length;Sa--;){if(!t.vc(Pa[Sa]) || !t.Ff(Pa[Sa]))return !1;}return !0;}]);}function P(ra,Qa,Pa,Sa){return R(ra,Qa,"[",function($a){return t.isArray($a)?$a:$a.split("|");},[function($a){return t.isArray($a) && 0 < $a.length;},function($a){for(var kb=$a.length;kb--;){if(Pa?!Pa.test($a[kb]):!t.Sx($a[kb]))return !1;}return !0;},function($a){return void 0 === Sa || $a.length >= Sa;}]);}function ha(ra,Qa,Pa){return R(ra,Qa,"{",function(Sa){var $a,bb,Ra;$a={};Sa=Sa.split(";");for(var kb=Sa.length;kb--;){bb=Sa[kb];Ra=bb.indexOf(":");if(0 >= Ra)return;$a[bb.substring(0,Ra)]=bb.substring(Ra + 1);}return $a;},[function(Sa){return t.Ff(Sa) && 0 < Object.keys(Sa).length;},function(Sa){if(Pa)for(var $a in Sa){if(!Pa.test(Sa[$a]))return !1;}return !0;}],function(Sa){var $a;$a={};p.Jb($a,Qa);p.Jb($a,Sa);return $a;});}function va(ra){var Qa;Qa=[];p.Wd(ra,function(Pa,Sa){var $a;try{$a="videoapp" === Pa.toLowerCase()?"[object object]":JSON.stringify(Sa);}catch(kb){$a="cantparse";}Qa.push(Pa + "=" + $a);});return Qa.join("\n");}la=/^[0-9]+[%]?$/;S=/^[0-9]*$/;U={};ma=d.fa.get(f.Wl);ta=d.fa.get(x.UO);(function(ra){function Qa(Pa){Pa.split(",").forEach(function(Sa){var $a;$a=Sa.indexOf("=");0 < $a && (da[Sa.substring(0,$a).toLowerCase()]=Sa.substring($a + 1));});}da={};p.Jb(da,ra);E && E.length && q.forEach.call(E,function(Pa){t.ue(Pa)?Qa(Pa):t.Ff(Pa) && p.Jb(da,Pa,{vL:!0});});ya=p.Jb({},m.B2(),{vL:!0});if(ra=m.A0a().cadmiumconfig)(d.log.info("Config cookie loaded",ra),Qa(ra));if(d.fa.get(B.uk).F_ || da.istestaccount)(p.Jb(da,ya),U=ya);})(D);b.config={};Ja={Xvb:C(K,G("enableXHEAAC"),!1),RPa:C(K,G("enableDDPlus20"),!0),QPa:C(K,G("enableDDPlus"),!0),SR:C(K,G("enableDDPlusAtmos"),!1),Gvb:C(K,G("enableLSSDH"),!0),Bvb:C(K,G("enableHEVC"),!1),MZa:C(K,G("overrideEnableHEVC"),!1),mha:C(K,G("enableHDR"),!1),LZa:C(K,G("overrideEnableHDR"),!1),KZa:C(K,G("overrideEnableDV"),!1),$J:C(K,G("enableAVCHigh"),ta.$J),CB:C(K,G("overrideEnableAVCHigh"),ta.CB),Vvb:C(K,G("enableVP9"),!1),NZa:C(K,G("overrideEnableVP9"),!1),vvb:C(K,G("enableAV1"),!1),JZa:C(K,G("overrideEnableAV1"),!1),Mvb:C(K,G("enablePRK"),!1),zvb:C(K,G("enableDV"),!1),Cvb:C(K,G("enableHWDRM"),!1),Evb:C(K,G("enableImageSubs"),!0),cYb:C(K,G("useLegacySubs"),!1),iA:C(P,G("audioProfiles"),ta.iA),C5b:C(K,G("disableHD"),!1),Uvb:C(K,G("enableUHD"),!0),l8:C(I,"videoCapabilityDetectorType",k.li.At),pea:C(I,"audioCapabilityDetectorType",k.xt.At),Fv:C(P,G("videoProfiles"),ta.Fv),Sjb:C(P,G("timedTextProfiles"),ta.xv),xv:function(){return Ja.Sjb().filter(function(ra){return ra === n.Cr.o9?Ja.Gvb():ra === n.Cr.HH?Ja.Evb():!0;});},endpoint:C(K,G("endpoint"),!1),version:C(N,"version","unknown"),Q2a:C(K,G("setMediaKeysEarly"),!1),h8b:C(K,G("nrdpPersistCookiesToIndexDB"),!1),g6a:C(K,G("useHdcpLevelOnCast"),!1),Dvb:C(K,G("enableHdcp"),!1),Us:C(K,G("prepareCadmium"),!1),ukb:C(K,G("acceptManifestOnPrepareItemParams"),!0),Goa:C(O,"ppmconfig",{maxNumberTitlesScheduled:1}),JNb:C(K,G("playerPredictionModelV2"),!0),bK:C(K,G("enableLdlPrefetch"),!1),q1:C(K,G("enableGetHeadersAndMediaPrefetch"),!1),Rtb:C(K,G("deleteCachedManifestOnPlayback"),!1),Qtb:C(K,G("deleteCachedManifestOnCreate"),!1),Vtb:C(K,G("deleteOtherManifestCacheOnCreate"),!1),Utb:C(K,G("deleteOtherLdlCacheOnCreate"),!1),y8b:C(I,G("periodicPrepareLogsIntervalMilliseconds"),36E5),rOb:C(I,G("prepareManifestCacheMaxCount"),50),pOb:C(I,G("prepareLdlCacheMaxCount"),30),W_a:C(I,G("prepareManifestExpiryMilliseconds"),12E5),qOb:C(I,G("prepareLdlExpiryMilliseconds"),78E4),jOb:C(I,G("prefetcherMaxWishlistSize"),1),iOb:C(I,G("prefetcherBudgetInBytes"),Infinity),kOb:C(K,G("prefetcherOverrideItemPriority"),!0),mOb:C(K,G("prefetcherRemoveItemOnManifestExpiration"),!0),bOb:C(K,G("preferManifestFromPrefetcher"),!1),oOb:C(N,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),W9b:C(O,"videoApp"),bC:C(O,"storageRules"),lyb:C(K,"ftlEnabled",!0),Aka:C(I,G("imageSubsResolution"),0),WDb:C(I,G("imageSubsMaxBuffer"),ta.tIb.da(y.yt),0),fR:C(K,G("captureBatteryStatus"),!1),Uyb:C(I,G("getBatteryApiTimeoutMilliseconds"),5E3),Qe:C(N,G("keySystemId"),ta.Qe),kWa:C(P,G("keySystemList"),void 0,void 0),eJb:C(I,G("hdcpGlobalTimeout1"),1E4),fJb:C(I,G("hdcpGlobalTimeout2"),1E4),M7b:C(I,G("hdcpQueryTimeout1"),1E3),N7b:C(I,G("hdcpQueryTimeout2"),1E3),YXa:C(I,G("hdcpQueryTimeout2"),100),gJb:C(K,G("microsoftHwdrmRequiresHevc"),!1),aJb:C(K,G("microsoftAvcHighRequiresSwdrm"),!1),bJb:C(K,G("microsoftEnableDeviceInfo"),!1),cJb:C(K,G("microsoftEnableHardwareInfo"),!1),dJb:C(K,G("microsoftEnableHardwareReset"),!1),aYb:C(K,G("useHevcCodecForDolbyVision"),!1),Jvb:C(K,G("enableMediaCapabilities"),!1),WNb:C(K,G("powerEfficientForVideo"),!1),yHb:C(K,"logMediaPipelineStatus",!1),UU:C(K,G("renderDomDiagnostics"),!0),MWa:function(){return -1;},uL:C(J,G("logDisplayMaxEntryCount"),ta.uL,-1),EHb:C(J,G("logToConsoleLevel"),-1),N4b:C(J,G("bladerunnerCmdHistorySize"),10),xu:function(){return ma.xu;},RXb:C(K,"upgradeNetflixId",!0),dma:C(K,"logErrorIfEsnNotProvided",!0),vha:C(K,"enforceSinglePlayback",ta.vha),u1:C(K,"enforceSingleSession",ta.u1),zfa:C(K,"closeOtherPlaybacks",!0),mmb:C(I,"asyncLoadTimeout",15E3,1),MHb:C(I,"mainThreadMonitorPollRate",0),g8b:C(K,"nrdpAlwaysShowUIOverlay",!1),i8b:C(K,"nrdpValidateSSOTokens",!0),f9b:C(K,"showNrdpDebugBadging",!1),o8:function(){return ma.o8;},ZA:function(){return ma.ZA;},BJ:function(){return ma.BJ;},UG:function(){return ma.UG;},v6a:C(I,G("verbosePlaybackInfoDenominator"),0),o6:C(K,"renderTimedText",!0),XNb:C(K,"preBufferTimedText",!0),Swb:C(K,"fatalOnTimedTextLoadError",!0),Qra:C(ha,"timedTextStyleDefaults",{}),E7:C(ha,"timedTextStyleOverrides",{}),Pra:C(ha,"timedTextFontFamilyMapping",ta.Pra || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),uN:C(I,"timedTextSimpleFallbackThreshold",ta.uN.da(y.yt)),rga:C(N,G("customDfxpUrl")),Tvb:C(K,G("enableSubtitleTrackerLogging"),!1),vSb:C(K,G("sendSubtitleQoeLogblobOnMidplay"),!1),bfa:C(L,"cdnIdWhiteList",[]),afa:C(L,"cdnIdBlackList",[]),kia:C(N,G("forceAudioTrack")),SJb:C(K,"muteVolumeOnPlaybackClose",!0),j8b:C(N,"nrdpVolumeControlType","VOLUME_STREAM"),nia:C(N,G("forceTimedTextTrack")),zIb:C(I,G("maxRetriesTimedTextDownload"),0),aWb:C(I,G("timedTextRetryInterval"),8E3),LUb:C(N,"storageType","idb",/^(none|fs|idb|ls)$/),JWa:C(I,"lockExpiration",1E4),wHb:C(I,"lockRefresh",3E3),sob:C(K,"captureUnhandledExceptions",!0),VDb:C(K,"ignoreUnhandledExceptionDuringPlayback",!0),eXb:C(K,"unhandledExceptionsArePlaybackErrors",!1),z5a:C(N,"unhandledExceptionSource",""),AOb:C(K,"preserveLastFrame",!1),rJb:C(I,"minBufferingTimeInMilliseconds",4E3),WOb:C(I,"progressBackwardsGraceTimeMilliseconds",4E3),XOb:C(I,"progressBackwardsMinPercent",10),knb:C(N,G("bookmarkIgnoreBeginning"),"0",la),lnb:C(N,G("bookmarkIgnoreEnd"),"5%",la),mnb:C(N,G("bookmarkIgnoreEndForBranching"),"60000",la),AL:C(I,"maxParallelConnections",3),Dpa:C(K,"reportThroughputInLogblobs",!0),JL:C(I,"minAudioMediaRequestDuration",16E3),pJb:C(I,"minAudioMediaRequestDurationBranching",0),OL:C(I,"minVideoMediaRequestDuration",4E3),uJb:C(I,"minVideoMediaRequestDurationAL1",0),vJb:C(I,"minVideoMediaRequestDurationBranching",0),C4:C(I,"minAudioMediaRequestSizeBytes",0),I4:C(I,"minVideoMediaRequestSizeBytes",0),dvb:C(K,"droppedFrameRateFilterEnabled",!1),evb:C(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),gvb:C(function(ra,Qa,Pa,Sa,$a,kb){return R(ra,Qa,"[",function(bb){bb=bb.split(";");for(var Ra=bb.length;Ra--;){bb[Ra]=bb[Ra].split("|");for(var Wa=bb[Ra].length;Wa--;){bb[Ra][Wa]=p.ke(bb[Ra][Wa]);}}return bb;},[function(bb){return t.isArray(bb) && 0 < bb.length;},function(bb){for(var Ra=bb.length;Ra-- && void 0 !== bb;){if(!t.isArray(bb[Ra]))return !1;for(var Wa=bb[Ra].length;Wa--;){if(!t.Rx(bb[Ra][Wa],Pa,Sa))return !1;}}return !0;},function(bb){if(void 0 !== $a)for(var Ra=bb.length;Ra--;){if($a !== bb[Ra].length)return !1;}return !0;},function(bb){return void 0 === kb || bb.length >= kb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),L5b:C(K,"droppedFrameRateFilterWithoutRebufferEnabled",!0),fvb:C(I,"droppedFrameRateFilterMinHeight",384),hvb:C(L,"droppedFramesPercentilesList",[]),hJb:C(K,"microsoftScreenSizeFilterEnabled",!1),gGb:C(K,"keyStatusFilterEnabled",!1),uUa:C(I,"hdcpEngagementWaitTime",0),aXb:C(K,"uiLabelFilterEnabled",!0),$Wb:C(O,"uiLabelFilter",{}),Jtb:C(I,G("defaultVolume"),100,0,100),Lma:C(I,G("maxPlaybackRate"),2,0,16),bPa:C(K,"disableVideoRightClickMenu",!1),E4:C(I,"minDecoderBufferMilliseconds",1E3,0,l.uz),NF:C(I,"optimalDecoderBufferMilliseconds",5E3,0,l.uz),AZa:C(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,l.uz),Sq:C(I,"minimumTimeBeforeBranchDecision",3E3,0,l.uz),by:C(I,"maxDecoderBufferMilliseconds",ta.by.da(z.ia),0,l.uz),GOa:C(I,"decoderTimeoutMilliseconds",1E4,1),NYa:C(I,"noRenderTimeoutMilliseconds",0),Bub:C(K,"disgardMediaOnAppend",!1),Llb:C(K,"appendMediaBeforeInit",!1),QMb:C(I,"pauseTimeoutLimitMilliseconds",18E5),Cka:C(I,"inactivityMonitorInterval",3E4,0),tkb:C(L,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),cK:C(K,"enableTrickPlay",!1),nlb:C(L,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),JWb:C(I,"trickPlayHighResolutionBitrateThreshold",1E3),KWb:C(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),NWb:C(M,"trickplayBufferFactor",.5),IWb:C(I,"trickPlayDownloadRetryCount",1),Dma:C(N,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),tna:C(N,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),gya:C(O,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),AXa:C(J,"maxIQRSamples",Infinity),eYa:C(J,"minIQRSamples",5),m6a:C(K,"useResourceTimingAPI",!1),TDb:C(K,"ignoreFirstByte",!0),RIb:C(K,"mediaRequestAsyncLoadStart",!0),lYb:C(K,"useXHROnLoadStart",!1),Mha:C(L,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),y0:C(I,"connectTimeoutMilliseconds",8E3,500),yna:C(I,"noProgressTimeoutMilliseconds",8E3,500),fYb:C(K,"useOnLineApi",!1),Q4a:C(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Z7b:C(I,"netflixRequestExpiryTimeout",0),ZYb:C(K,"webkitDecodedFrameCountIncorrectlyReported",!1),bSb:C(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),h_a:C(K,"pausePlaybackOnAudioSwitch",!0),Bra:C(P,G("supportedAudioTrackTypes"),[],void 0,1),hVa:C(I,"initialLogFlushTimeout",5E3),F_a:C(N,"playdataPersistKey",ma.xu?"unsentplaydatatest":"unsentplaydata"),zqa:C(K,"sendPersistedPlaydata",!0),GNb:C(I,"playdataPersistIntervalMilliseconds",4E3),z8b:C(I,"playdataSendDelayMilliseconds",1E4),O6:C(K,"sendPlaydataBackupOnInit",!0),BHb:C(P,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),jJb:C(K,"midplayEnabled",!0),ZXa:C(I,"midplayIntervalMilliseconds",3E5),kJb:C(L,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),JR:C(I,"downloadReportDenominator",0),Sub:C(I,"downloadReportInterval",3E5),LWa:C(I,"logConfigApplyDenominator",0),eMa:C(ha,G("bookmarkByMovieId"),{}),gS:C(K,G("forceLimitedDurationLicense"),!1),kB:C(I,G("licenseRenewalRequestDelay"),0),noa:C(I,G("persistedReleaseDelay"),1E4),g7b:C(K,G("limitedDurationFlagOverride"),void 0),Y1a:C(I,"safariPlayPauseWorkaroundDelay",100),jZb:C(I,"workaroundValueForSeekIssue",1200),Xea:C(K,G("callEndOfStream"),ta.Xea),dNb:C(K,"performRewindCheck",!0),Uwb:C(K,"fatalOnUnexpectedSeeking",!0),Twb:C(K,"fatalOnUnexpectedSeeked",!0),nTb:C(K,G("setVideoElementSize")),mpb:C(K,G("clearVideoSrc"),!0),SOa:C(I,G("delayPlayPause"),0),Mp:C(K,G("useTypescriptEme"),!1),f6a:C(K,G("useEncryptedEvent"),!0),MR:C(N,G("drmPersistKey"),"unsentDrmData"),k0a:C(K,G("promiseBasedEme"),!1),rob:C(K,"captureKeyStatusData",!1),h3:C(K,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),JKb:C(K,G("nudgeSourceBuffer"),!1),pqa:C(J,G("seekDelta"),1),DU:C(K,G("preciseSeeking"),!1),YNb:C(K,G("preciseSeekingOnTwoCoreDevice"),!1),ROa:C(ha,G("delayErrorHandling")),f5a:C(K,"trackingLogEnabled",!1),g5a:C(function(ra,Qa){var Pa;Pa=ha(ra,Qa,void 0);Pa && Object.entries(Pa).forEach(function(Sa){var $a;$a=Z(Sa);Sa=$a.next().value;$a=$a.next().value;"true" === $a?Pa[Sa]=!0:"false" === $a && (Pa[Sa]=!1);});return Pa;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Yra:C(N,"trackingLogPath","/customerevents/track/debug"),zWb:C(L,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Xh:C(N,"esn",""),EQa:C(N,"fesn",""),Ovb:C(K,G("enablePerformanceLogging"),!1),UPa:C(K,G("enableEmeVerboseLogging"),!1),Hvb:C(K,"enableLastChunkLogging",!1),appId:C(N,"appId","",S),sessionId:C(N,"sessionId","",S),dfa:C(N,"cdnProxyUrl"),jYb:C(K,"usePlayReadyHeaderObject",!1),hRa:C(I,"forceXhrErrorResponseCode",void 0),Aq:{X7b:C(N,"mslApiPath","/msl/"),H8b:C(N,"proxyPath",""),Wy:C(N,"uiVersion"),U7:C(N,"uiPlatform"),Y4b:function(){return "0";},Koa:C(P,"preferredLanguages",l.Dva,/^[a-zA-Z-]{2,5}$/,1),Rxb:C(N,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),sVb:C(K,"supportPreviewContentPin",!0),tVb:C(K,"supportWatermarking",!0),TTb:C(K,"showAllSubDubTracks",!1),Z5b:C(K,G("failOnGuidMismatch"),!1)},c6:{enabled:C(K,"qcEnabled",!1),up:C(N,"qcPackageId","")},st:C(K,"useRangeHeader",!1),UR:C(K,"enableMilestoneEventList",!0),vJ:C(N,"authenticationType",ma.xu?ta.OLa:ta.vJ),NLa:C(ha,"authenticationKeyNames",p.Jb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),CVb:C(N,"systemKeyWrapFormat"),cEb:C(K,"includeNetflixIdUserAuthData",!0),NTb:C(K,"shouldSendUserAuthData",!0),Cqa:C(K,"sendUserAuthIfRequired",ta.Cqa),HTb:C(K,"shouldClearUserData",!1),NJb:C(K,"mslDeleteStore",!1),PJb:C(K,"mslPersistStore",!0),UNa:C(K,"correctNetworkForShortTitles",!0),Q_a:C(K,"postplayHighInitBitrate",!1),Nxb:C(K,"flushHeaderCacheOnAudioTrackChange",!0),wVb:C(K,"supportsUnequalizedDownloadables",!0),COa:C(I,G("debugAseDenominator"),100),GQ:C(I,"aseAudioBufferSizeBytes",ta.GQ.da(y.yt)),IQ:C(I,"aseVideoBufferSizeBytes",ta.IQ.da(y.yt)),Wu:C(I,"minInitVideoBitrate",560),fna:C(I,"minHCInitVideoBitrate",560),dy:C(I,"maxInitVideoBitrate",Infinity),ST:C(I,"minInitAudioBitrate",0),RT:C(I,"minHCInitAudioBitrate",0),FT:C(I,"maxInitAudioBitrate",65535),B4:C(I,"minAcceptableVideoBitrate",235),TT:C(I,"minRequiredBuffer",3E4),pj:C(I,"minPrebufSize",7800),ena:C(I,"minCheckBufferingCompleteInterval",999999),jpa:C(M,"rebufferingFactor",1),Qq:C(I,"maxBufferingTime",2600),Dsa:C(K,"useMaxPrebufSize",!0),rB:C(I,"maxPrebufSize",45E3),Nma:C(I,"maxRebufSize",Infinity),k3:C(Q,"initialBitrateSelectionCurve",null),cVa:C(I,"initSelectionLowerBound",560),dVa:C(I,"initSelectionUpperBound",1050),A7:C(I,"throughputPercentForAudio",15),yea:C(I,"bandwidthMargin",10),zea:C(K,"bandwidthMarginContinuous",!1),Aea:C(Q,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Ofa:C(I,"conservBandwidthMargin",20),Era:C(K,"switchConfigBasedOnInSessionTput",!1),oR:C(I,"conservBandwidthMarginTputThreshold",0),Pfa:C(Q,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),q4a:C(K,"switchAlgoBasedOnHistIQR",!1),eC:C(N,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Mma:C(J,"maxPlayerStateToSwitchConfig",-1),mma:C(N,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Y9:C(M,"IQRThreshold",.5),qka:C(N,"histIQRCalcToUse","simple"),Js:C(I,"maxTotalBufferLevelPerSession",0),p1:C(K,"enableDiscontiguousBuffering",!1),Csa:C(K,"useBufferSizeLimiter",!1),EUa:C(I,"highWatermarkLevel",3E4),Y4a:C(I,"toStableThreshold",3E4),J7:C(I,"toUnstableThreshold",ta.J7.da(z.ia)),bra:C(K,"skipBitrateInUpswitch",!0),Rsa:C(I,"watermarkLevelForSkipStart",8E3),jka:C(I,"highStreamRetentionWindow",9E4),nma:C(I,"lowStreamTransitionWindow",51E4),lka:C(I,"highStreamRetentionWindowUp",3E5),pma:C(I,"lowStreamTransitionWindowUp",3E5),kka:C(I,"highStreamRetentionWindowDown",6E5),oma:C(I,"lowStreamTransitionWindowDown",0),ika:C(M,"highStreamInfeasibleBitrateFactor",.5),Yx:C(I,"lowestBufForUpswitch",15E3),d4:C(I,"lockPeriodAfterDownswitch",15E3),rma:C(I,"lowWatermarkLevel",25E3),Zx:C(I,"lowestWaterMarkLevel",2E4),sma:C(K,"lowestWaterMarkLevelBufferRelaxed",!1),Xma:C(M,"mediaRate",1),p4:C(I,"maxTrailingBufferLen",1E4),MQ:C(I,"audioBufferTargetAvailableSize",262144),hW:C(I,"videoBufferTargetAvailableSize",1048576),LXa:C(I,"maxVideoTrailingBufferSize",8388608),tXa:C(I,"maxAudioTrailingBufferSize",393216),G1:C(M,"fastUpswitchFactor",3),Nha:C(M,"fastDownswitchFactor",1),ey:C(I,"maxMediaBufferAllowed",24E4),$qa:C(K,"simulatePartialBlocks",!0),o3a:C(K,"simulateBufferFull",!0),Qfa:C(K,"considerConnectTime",!1),Nfa:C(M,"connectTimeMultiplier",1),TWa:C(I,"lowGradeModeEnterThreshold",12E4),UWa:C(I,"lowGradeModeExitThreshold",9E4),xXa:C(I,"maxDomainFailureWaitDuration",3E4),sXa:C(I,"maxAttemptsOnFailure",18),tQa:C(K,"exhaustAllLocationsForFailure",!0),DXa:C(I,"maxNetworkErrorsDuringBuffering",20),k4:C(I,"maxBufferingTimeAllowedWithNetworkError",12E4),BQa:C(I,"fastDomainSelectionBwThreshold",2E3),E4a:C(I,"throughputProbingEnterThreshold",4E4),F4a:C(I,"throughputProbingExitThreshold",34E3),IWa:C(I,"locationProbingTimeout",1E4),HQa:C(I,"finalLocationSelectionBwThreshold",1E4),C4a:C(M,"throughputHighConfidenceLevel",.75),D4a:C(M,"throughputLowConfidenceLevel",.4),aQa:C(K,"enablePerfBasedLocationSwitch",!1),Ws:C(K,"probeServerWhenError",!0),Poa:C(I,"probeRequestTimeoutMilliseconds",8E3),Pw:C(K,"allowSwitchback",!0),YF:C(I,"probeDetailDenominator",100),l4:C(I,"maxDelayToReportFailure",300),ama:C(I,"locationStatisticsUpdateInterval",6E4),VNa:C(K,"countGapInBuffer",!1),TKa:C(K,"allowCallToStreamSelector",!0),nMa:C(I,"bufferThresholdForAbort",1E4),poa:C(I,"pipelineScheduleTimeoutMs",2),fy:C(I,"maxPartialBuffersAtBufferingStart",2),gna:C(I,"minPendingBufferLen",6E3),qB:C(I,"maxPendingBufferLen",12E3),xIb:C(I,"maxPendingBufferLenAL1",3E4),Oma:C(I,"maxStreamingSkew",4E3),Kma:C(I,"maxPendingBufferPercentage",10),CL:C(I,"maxRequestsInBuffer",60),FXa:C(I,"maxRequestsInBufferAL1",240),GXa:C(I,"maxRequestsInBufferBranching",120),U2:C(I,"headerRequestSize",4096),QT:C(I,"minBufferLenForHeaderDownloading",1E4),HM:C(I,"reserveForSkipbackBufferMs",1E4),Hna:C(I,"numExtraFragmentsAllowed",2),vp:C(K,"pipelineEnabled",!1),x3a:C(I,"socketReceiveBufferSize",0),R_:C(I,"audioSocketReceiveBufferSize",32768),DN:C(I,"videoSocketReceiveBufferSize",65536),gka:C(I,"headersSocketReceiveBufferSize",32768),Z7:C(I,"updatePtsIntervalMs",1E3),Jea:C(I,"bufferTraceDenominator",100),jE:C(I,"bufferLevelNotifyIntervalMs",2E3),HQ:C(I,"aseReportDenominator",0),jea:C(I,"aseReportIntervalMs",3E5),wvb:C(K,"enableAbortTesting",!1),rkb:C(I,"abortRequestFrequency",8),vra:C(I,"streamingStatusIntervalMs",2E3),vy:C(I,"prebufferTimeLimit",24E4),D4:C(I,"minBufferLevelForTrackSwitch",2E3),ioa:C(I,"penaltyFactorForLongConnectTime",2),kma:C(I,"longConnectTimeThreshold",200),Qda:C(I,"additionalBufferingLongConnectTime",2E3),Rda:C(I,"additionalBufferingPerFailure",8E3),PU:C(I,"rebufferCheckDuration",6E4),YPa:C(K,"enableLookaheadHints",!1),QWa:C(I,"lookaheadFragments",2),sx:C(K,"enableOCSideChannel",!0),dY:C(O,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),L5a:C(K,"updateDrmRequestOnNetworkFailure",!1),QOa:C(K,"deferAseScheduling",!1),wXa:C(I,"maxDiffAudioVideoEndPtsMs",16E3),zN:C(K,"useHeaderCache",!0),V0:C(I,"defaultHeaderCacheSize",4),U0:C(I,"defaultHeaderCacheDataPrefetchMs",8E3),eka:C(I,"headerCacheMaxPendingData",6),HF:C(K,"neverWipeHeaderCache",!0),xUa:C(I,"headerCachePriorityLimit",5),oha:C(K,"enableUsingHeaderCount",!1),yUa:C(K,"headerCacheTruncateHeaderAfterParsing",!0),Mxb:C(K,G("flushHeaderCacheBeforePlayback"),!1),sna:C(I,"networkFailureResetWaitMs",2E3),rna:C(I,"networkFailureAbandonMs",6E4),o4:C(I,"maxThrottledNetworkFailures",3),z7:C(I,"throttledNetworkFailureThresholdMs",200),qma:C(J,"lowThroughputThreshold",400),Iha:C(K,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),rYa:C(K,"mp4ParsingInNative",!1),z3a:C(K,"sourceBufferInOrderAppend",!0),Ey:C(K,"requireAudioStreamToEncompassVideo",!0),SKa:C(K,"allowAudioToStreamPastVideo",!0),Ch:C(K,"enableManagerDebugTraces",!1),gXa:C(I,"managerDebugMessageInterval",1E3),fXa:C(I,"managerDebugMessageCount",20),ZYa:C(K,"notifyManifestCacheEom",!1),Iea:C(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Hea:C(I,"bufferThresholdToSwitchToParallelConnMs",12E4),E5:C(I,"periodicHistoryPersistMs",3E5),F6:C(I,"saveVideoBitrateMs",18E4),hLa:C(K,"appendMediaRequestOnComplete",!0),p8:C(K,"waitForDrmToAppendMedia",!1),R1:C(K,G("forceAppendHeadersAfterDrm"),!1),DPb:C(K,G("reappendRequestsOnSkip"),!1),VJb:C(I,"netIntrStoreWindow",36E3),sJb:C(I,"minNetIntrDuration",8E3),Owb:C(I,"fastHistoricBandwidthExpirationTime",10368E3),Rmb:C(I,"bandwidthExpirationTime",5184E3),Lwb:C(I,"failureExpirationTime",86400),zDb:C(I,"historyTimeOfDayGranularity",4),ywb:C(K,"expandDownloadTime",!1),DJb:C(I,"minimumMeasurementTime",500),CJb:C(I,"minimumMeasurementBytes",131072),QVb:C(I,"throughputMeasurementTimeout",2E3),rEb:C(I,"initThroughputMeasureDataSize",262144),RVb:C(N,"throughputPredictor","ewma"),PVb:C(I,"throughputMeasureWindow",5E3),UVb:C(I,"throughputWarmupTime",5E3),OVb:C(I,"throughputIQRMeasureWindow",5E3),fbb:C(I,"IQRBucketizerWindow",15E3),Spb:C(I,"connectTimeHalflife",10),tRb:C(I,"responseTimeHalflife",10),yDb:C(I,"historicBandwidthUpdateInterval",2E3),BJb:C(I,"minimumBufferToStopProbing",1E4),oqa:C(N,"secondThroughputEstimator","none"),g2a:C(J,"secondThroughputMeasureWindowInMs",Infinity),Avb:C(P,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),fxb:C(O,"filterDefinitionOverrides",{}),Ftb:C(N,"defaultFilter","throughput-ewma"),$Rb:C(N,"secondaryFilter","none"),Gtb:C(O,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),YT:C(K,"needMinimumNetworkConfidence",!0),Dea:C(K,"biasTowardHistoricalThroughput",!0),A_:C(K,"addHeaderDataToNetworkMonitor",!1),kra:C(K,"startMonitorOnLoadStart",!1),Cpa:C(K,"reportFailedRequestsToNetworkMonitor",!1),Hma:C(J,"maxFastPlayBufferInMs",Infinity),Gma:C(J,"maxFastPlayBitThreshold",Infinity),bea:C(K,"appendFirstHeaderOnComplete",!0),$lb:C(N,"ase_stream_selector","optimized"),Nka:C(N,"initBitrateSelectorAlgorithm","default"),Nea:C(N,"bufferingSelectorAlgorithm","default"),DOa:C(N,"ase_ls_failure_simulation",""),uga:C(K,"ase_dump_fragments",!1),wga:C(I,"ase_location_history",0),xga:C(I,"ase_throughput",0),FOa:C(K,"ase_simulate_verbose",!1),RNb:C(I,"pollingPeriod",150),oHb:C(I,"loadTimeMs",18E4),dIb:C(I,"marginTimeMs",1E4),Kia:C(K,"getDeviceIdFromBindDevice",!1),Kda:C(K,"addFailedLogBlobsToQueue",!0),ksa:{"content-sampling":{Qq:C(I,"contentSamplingMaxBufferingTime",3E3),OM:C(N,"contentSamplingSelectStartingVMAFMethod","fallback"),yQ:C(K,"contentSamplingActivateSelectStartingVMAF",!0),NL:C(I,"contentSamplingMinStartingVideoVMAF",80),PT:C(I,"contentSamplingMinAcceptableVMAF",70),BF:C(I,"contentSamplingMinAllowedVmaf",60)},billboard:{Wu:C(I,"billboardMinInitVideoBitrate",1050),dy:C(I,"billboardMaxInitVideoBitrate",null),pj:C(I,"billboardMinPrebufSize",null),rB:C(I,"billboardMaxPrebufSize",null),Qq:C(I,"billboardMaxBufferingTime",null),fy:C(I,"billboardMaxPartialBuffersAtBufferingStart",null),Zx:C(I,"billboardLowestWaterMarkLevel",6E3),Yx:C(I,"billboardLowestBufForUpswitch",25E3),eC:C(N,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Wu:C(I,"preplayMinInitVideoBitrate",1050),dy:C(I,"preplayMaxInitVideoBitrate",null),pj:C(I,"preplayMinPrebufSize",null),rB:C(I,"preplayMaxPrebufSize",null),Qq:C(I,"preplayMaxBufferingTime",null),fy:C(I,"preplayMaxPartialBuffersAtBufferingStart",null),Zx:C(I,"preplayLowestWaterMarkLevel",6E3),Yx:C(I,"preplayLowestBufForUpswitch",25E3)},embedded:{Wu:C(I,"embeddedMinInitVideoBitrate",1050),dy:C(I,"embeddedMaxInitVideoBitrate",null),pj:C(I,"embeddedMinPrebufSize",null),rB:C(I,"embeddedMaxPrebufSize",null),Qq:C(I,"embeddedMaxBufferingTime",null),fy:C(I,"embeddedMaxPartialBuffersAtBufferingStart",null),Zx:C(I,"embeddedLowestWaterMarkLevel",6E3),Yx:C(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Wu:C(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),dy:C(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),pj:C(I,"videoMerchBobHorizontalMinPrebufSize",null),rB:C(I,"videoMerchBobHorizontalMaxPrebufSize",null),Qq:C(I,"videoMerchBobHorizontalMaxBufferingTime",null),fy:C(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Zx:C(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Yx:C(I,"videoMerchBobHorizontalLowestBufForUpswitch",null),Fv:C(P,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Wu:C(I,"miniModalHorizontalMinInitVideoBitrate",null),dy:C(I,"miniModalHorizontalMaxInitVideoBitrate",null),pj:C(I,"miniModalHorizontalMinPrebufSize",null),rB:C(I,"miniModalHorizontalMaxPrebufSize",null),Qq:C(I,"miniModalHorizontalMaxBufferingTime",500),fy:C(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Zx:C(I,"miniModalHorizontalLowestWaterMarkLevel",null),Yx:C(I,"miniModalHorizontalLowestBufForUpswitch",null)}},Wvb:C(K,"enableVerbosePlaydelayLogging",!1),Rvb:C(K,"enableSeamless",!1),pka:C(I,"hindsightDenominator",0),oka:C(I,"hindsightDebugDenominator",0),Y2:C(O,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),VR:C(K,"enableSessionHistoryReport",!1),kha:C(I,"earlyStageEstimatePeriod",1E4),vWa:C(I,"lateStageEstimatePeriod",3E4),m4:C(I,"maxNumSessionHistoryStored",30),H4:C(I,"minSessionHistoryDuration",3E4),Ru:C(I,"maxActiveRequestsPerSession",3),i4:C(I,"maxActiveRequestsSABCell100",2),n4:C(I,"maxPendingBufferLenSABCell100",500),Vla:C(K,"limitAudioDiscountByMaxAudioBitrate",!0),Gd:C(O,"browserInfo",{}),Hnb:C(I,G("busyGracePeriod"),199),wSb:C(K,G("sendTransitionLogblob"),!0),GPa:C(K,G("editVideoFragments"),!0),m1:C(K,G("earlyAppendSingleChildBranch"),!0),dEb:C(K,G("includeSegmentInfoOnLogblobs"),!0),Cwb:C(K,"exposeTestData",!1),zga:C(K,"declareBufferingCompleteAtSegmentEnd",!0),gA:C(K,"applyProfileTimestampOffset",!1),Oj:C(K,"applyProfileStreamingOffset",!1),Dlb:C(K,G("allowSmallSeekDelta"),!1),iUb:C(I,G("smallSeekDeltaThresholdMilliseconds"),u.yY),yvb:C(K,"enableCDMAttestedDescriptors",!1),s6:C(K,"requireDownloadDataAtBuffering",!1),t6:C(K,"requireSetupConnectionDuringBuffering",!1),lpa:C(K,"recordFirstFragmentOnSubBranchCreate",!1),tnb:C(K,"branchingAudioTrackFrameDropSmallSeekFix",!0),eRa:C(K,"forceL3WidevineCdm",!1),dYb:C(K,"useMobileVMAF",!1),fub:C(N,"desiredVMAFTypeMobile","phone_plus_lts"),gub:C(N,"desiredVMAFTypeNonMobile","plus_lts"),yQ:C(K,"activateSelectStartingVMAF",!1),NL:C(I,"minStartingVideoVMAF",1),PT:C(I,"minAcceptableVMAF",1),BF:C(I,"minAllowedVmaf",1),Zda:C(K,"alwaysNotifyEOSForPlaygraph",!0),LE:C(K,"enableNewAse",!0),mC:C(K,"useNewApi",!0),eYb:C(K,"useNewAseIntegration",!0),r1:C(K,"enableHudsonFieldTest",!1),VS:C(P,"hudsonTitles",["81127954","70125931","80158148"]),Jma:C(I,"maxPartialBuffersAtHudson",1),eU:C(I,"numberOfChunksPerSegment",4),y7:C(I,"targetContentLatency",1E4),Hra:C(I,"targetLongContentLatency",3E4),K4:C(I,"minimumTimeDelay",1),t1:C(K,"enableWsslEstimate",!1),j4:C(I,"maxAllowedOutstandingRequests",4),nJ:C(K,"alwaysRunUnderflowTimer",!0),hna:C(I,"minStreamableConcurrencyWindow",3E3),tra:C(M,"streamableConcurrencyFactor",.3),aR:C(I,"bufferingConcurrencyWindow",7800),cUb:C(K,"singleStreamablePerBranch",!0),s1:C(K,"enableResolutionVMAFStreamFilter",!1),y6:C(O,"resolutionVMAFCappingRuleList",{}),koa:C(J,"percentCapTitlesForResolutionVMAFStreamFilter",100),zub:C(K,"disableSkipping",!1),dW:C(K,G("useExitZones"),!1)};wa=!0;b.Mfa=function(ra){var Qa,Pa,Sa;Qa=d.fa.get(A.ud).id;if(0 < b.config.LWa && 0 === Qa % b.config.LWa)try{Pa=d.fa.get(w.Wp);Sa=d.fa.get(v.rz).vu("config","info",{params:ra});Pa.Od(Sa);}catch($a){d.log.error("Failed to log config$apply",$a);}lb._cad_global.config=b.config;h.Za(ra);ra && (da=p.Jb({},ra,{vL:!0}),p.Jb(da,U,{vL:!0}),F(Ja,b.config),da.istestaccount && d.log.trace("Config applied for",va(wa?da:ra)),wa=!1);};b.Mfa(da);};b.Opb=function(E,D){return t.ue(E) && "%" == E[E.length - 1]?q.ii(parseFloat(E) * D / 100):E | 0;};b.FNa=function(E){return E?(E=p.Jb({},b.config),p.Jb(E,{NF:b.config.AZa},{ly:!0})):b.config;};b.GNa=function(E){var D;D=p.Jb({},b.config);E=c(E);return p.Jb(D,E,{ly:!0});};b.nR=function(E){E=c(E);return p.Jb({},a(148)(E),{ly:!0});};b.u0=function(E,D,F){F=! !F && (0 <= F.indexOf("h264hpl") || 0 <= F.indexOf("vp9"));E={JL:E?b.config.pJb:b.config.JL,OL:E?b.config.vJb:F?b.config.uJb:b.config.OL,CL:E && F?Math.max(b.config.GXa,b.config.FXa):E?b.config.GXa:F?b.config.FXa:b.config.CL,qB:F?b.config.xIb:b.config.qB,m1:!D};return p.Jb({},a(148)(E),{ly:!0});};b.Qpb=c;b.Ppb=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GH=b.QX=b.q8a=b.l8a=b.n8a=b.o8a=b.rua=b.k8a=b.m8a=b.qua=b.p8a=b.w8a=b.u8a=b.v8a=b.t8a=b.k$a=b.j$a=b.uwa=b.ubb=b.vbb=b.Vv=b.aAa=b.bAa=b.FH=b.vwa=b.m$a=b.A9=b.hX=b.mcb=b.Xdb=b.Xza=b.f8a=b.Dva=b.gY=b.YC=b.fY=b.Wza=b.uz=b.e8a=b.cua=b.jbb=b.Heb=b.tbb=b.sbb=b.Rdb=b.Qdb=b.sk=b.ze=b.mEa=b.Ti=void 0;b.Faa=void 0;b.Ti=function(){};b.mEa=function(){return !0;};b.ze={W:!0};b.sk=1E3;b.Qdb=86400;b.Rdb=604800;b.sbb=1E4;b.tbb=1E7;b.Heb=1.5;b.jbb=.128;b.cua=7.8125;b.e8a=128;b.uz=145152E5;b.Wza=1E5;b.fY="$netflix$player$order";b.YC=-1;b.gY=1;b.Dva=["en-US"];b.f8a=8;b.Xza=65535;b.Xdb=65536;b.mcb=Number.MAX_VALUE;b.hX="playready";b.A9="widevine";b.m$a="fps";b.vwa="clearkey";b.FH='audio/mp4; codecs="mp4a.40.5"';b.bAa='audio/mp4; codecs="mp4a.40.42"';b.aAa='audio/mp4; codecs="mp4a.a6"';b.Vv='video/mp4; codecs="avc1.640028"';b.vbb='video/mp4; codecs="hev1.2.6.L153.B0"';b.ubb='video/mp4; codecs="dvhe.01000000"';b.uwa="9A04F079-9840-4286-AB92-E65BE0885F95";b.j$a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.k$a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.t8a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.v8a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.u8a="4E657466-6C69-7846-7261-6D6552617465";b.w8a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.p8a="mp4a";b.qua="enca";b.m8a="ec-3";b.k8a="avc1";b.rua="encv";b.o8a="hvcC";b.n8a="hev1";b.l8a="dvhe";b.q8a="vp09";b.QX=0;b.GH=1;b.Faa="position:relative;width:100%;height:100%;overflow:hidden";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jo={X4b:"casttv",ofa:"chrome",b5b:"chromecast",Aq:"edge",DPa:"edgeoss",WQa:"firefox",M6b:"ie",opera:"opera",X1a:"safari"};b.po={I_:"android",aNa:"chromeos",NGb:"linux",ZWa:"mac",x4a:"tesla",Ssa:"windows"};b.AO={Lpb:"computer",phone:"phone",s4a:"tablet"};b.Uc="ConfigSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.Xka=b.Sx=b.ue=b.tla=b.iFb=b.WEb=b.lla=b.Rx=b.FVa=b.pa=b.rla=b.isArray=b.XVa=b.Ff=b.vc=b.is=void 0;r=a(190);b.is=r.IC;b.vc=function(c){return b.is.Uf(c);};b.Ff=function(c){return b.is.oJ(c);};b.XVa=function(c){return b.is.Cda(c);};b.isArray=function(c){return b.is.Qw(c);};b.rla=function(c){return b.is.YKa(c);};b.pa=function(c,g,l){return b.is.Sh(c,g,l);};b.FVa=function(c,g,l){return b.is.$da(c,g,l);};b.Rx=function(c,g,l){return b.is.DQ(c,g,l);};b.lla=function(c){return b.is.tQ(c);};b.WEb=function(c){return b.is.pkb(c);};b.iFb=function(c){return b.is.qkb(c);};b.tla=function(c){return b.is.ZKa(c);};b.ue=function(c){return b.is.Io(c);};b.Sx=function(c){return b.is.nn(c);};b.Xka=function(c){return b.is.sQ(c);};b.mc=function(c){return b.is.w_(c);};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ad=b.ob=b.we=b.yb=b.T=b.b$=b.$C=b.Mb=void 0;(function(c){c.sHb="loadedtracks";c.rHb="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.wq="currenttimechanged";c.iXb="unthrottledcurrenttimechanged";c.rMa="bufferedtimechanged";c.ivb="durationchanged";c.KYb="videosizechanged";c.RMb="pausedchanged";c.PNb="playingchanged";c.ewb="endedchanged";c.Sea="busychanged";c.GLa="audiotracklistchanged";c.PQ="audiotrackchanged";c.IG="timedtexttracklistchanged";c.vN="timedtexttrackchanged";c.WV="trickplayframeschanged";c.TJb="mutedchanged";c.SYb="volumechanged";c.UTb="showsubtitle";c.DQb="removesubtitle";c.YYb="watermark";c.mla="isReadyToTransition";c.VK="inactivated";c.rVa="internalPlaybackError";c.gSb="segmentmaploaded";c.hSb="segmentpresenting";c.Jmb="autoplaywasallowed";c.Kmb="autoplaywasblocked";})(b.Mb || (b.Mb={}));(b.$C || (b.$C={})).iV="playgraphsegmenttransition";b.b$=a;a.y2a="serverTimeChanged";(function(c){c.rJ="aseException";c.sJ="aseReport";c.Gmb="authorized";c.uea="autoplayWasAllowed";c.rl="autoplayWasBlocked";c.Wmb="bandwidthMeterAggregateUpdate";c.Yw="bufferUnderrun";c.closed="closed";c.Tf="closing";c.wq="currentTimeChanged";c.FA="downloadComplete";c.VK="inactivated";c.xWa="licenseAdded";c.tL="licensed";c.Gs="locationSelected";c.xL="manifestClosing";c.Oq="manifestPresenting";c.r7b="manifestSelected";c.t4="mediaBufferChanged";c.X4="nextBranchingSegmentChosen";c.Ps="playbackStart";c.wp="playbackReady";c.Ml="repositioned";c.dG="repositioning";c.Z1a="safePlayRequested";c.j2a="segmentAborted";c.lG="segmentPresenting";c.$8b="segmentComplete";c.l2a="segmentLastPts";c.m2a="segmentStarting";c.nG="serverSwitch";c.l3a="shouldUpdateVideoDiagInfo";c.nN="subtitleError";c.Lra="throttledMediaTimeChanged";c.E5a="unthrottledMediaTimeChanged";c.tN="timedTextRebuffer";c.IG="timedTextTrackListChanged";c.WV="trickPlayFramesChanged";c.YV="tryRecoverFromStall";c.usa="updateNextBranchingSegmentWeights";c.qYb="userInitiatedPause";c.p6a="userInitiatedResume";})(b.T || (b.T={}));(function(c){c[c.JH=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Fd=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.yb || (b.yb={}));(function(c){c[c.Fd=1]="NORMAL";c[c.Dc=2]="BUFFERING";c[c.NEa=3]="STALLED";})(b.we || (b.we={}));(function(c){c[c.cg=1]="WAITING";c[c.oc=2]="PLAYING";c[c.wh=3]="PAUSED";c[c.Ct=4]="ENDED";})(b.ob || (b.ob={}));(function(c){c[c.Tv=0]="INITIAL";c[c.fw=1]="SEEK";c[c.YH=2]="TRACK_CHANGED";c[c.bD=3]="SEGMENT_CHANGED";c[c.mX=4]="FORCE_REBUFFER";})(b.Ad || (b.Ad={}));},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(383),b);},function(r,b,a){b=a(107);b.Htb=0;r.exports={EventEmitter:b,sh:a(841)};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ud="ApplicationSymbol";},function(r,b,a){function c(g,l){return b.sn.assert(g,l);}Object.defineProperty(b,"__esModule",{value:!0});b.rtb=b.tga=b.ktb=b.otb=b.PJ=b.BR=b.ntb=b.ptb=b.QJ=b.BOa=b.mtb=b.ltb=b.Za=b.sn=b.qtb=b.bua=void 0;r=a(6);a=a(90);b.bua=function(){c(!1);};b.qtb=!0;b.sn=r.fa.get(a.zt);b.Za=c;b.ltb=function(g,l){return b.sn.dmb(g,l);};b.mtb=function(g,l){return b.sn.emb(g,l);};b.BOa=function(g,l){return b.sn.N_(g,l);};b.QJ=function(g,l){return b.sn.kmb(g,l);};b.ptb=function(g,l){return b.sn.imb(g,l);};b.ntb=function(g,l){return b.sn.JQ(g,l);};b.BR=function(g,l){return b.sn.gmb(g,l);};b.PJ=function(g,l){return b.sn.jmb(g,l);};b.otb=function(g,l){return b.sn.hmb(g,l);};b.ktb=function(g,l){return b.sn.cmb(g,l);};b.tga=function(g,l){return b.sn.fmb(g,l);};b.rtb=function(){return b.sn.KEb();};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ma=!1;},function(r,b){function a(c,g){var l,m,d,f,h;if(c && g){l=Math;m=l.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=m.call(l,c * g / f);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.S=void 0;r=(function(){function c(g,l){"object" === typeof g?(this.Jr=g.Kb,this.nl=g.U):(this.Jr=g,this.nl=l);}c.compare=function(g,l){return g.Jk(l);};c.abs=function(g){return new c(Math.abs(g.Jr),g.nl);};c.lb=function(g){return 0 === g?c.nb:new c(g,1E3);};c.H7=function(g,l){return Math.floor(1E3 * g / l);};c.ona=function(g,l){return Math.floor(g * l / 1E3);};c.max=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Kb:{get:function(){return this.Jr;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.nl;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{X:{get:function(){return c.H7(this.Jr,this.nl);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{VF:{get:function(){return 1E3 * this.Jr / this.nl;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{iG:{get:function(){var g;g=this.VF;return 0 > g?Math.ceil(g):Math.floor(g);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{kh:{get:function(){return this.Jr / this.nl;},enumerable:!1,configurable:!0}});c.prototype.Ng=function(g){g/=this.U;return new c(Math.floor(this.Kb * g),Math.floor(this.U * g));};c.prototype.add=function(g){var l;if(this.U === g.U)return new c(this.Kb + g.Kb,this.U);l=a(this.U,g.U);return this.Ng(l).add(g.Ng(l));};c.prototype.Sa=function(g){return this.add(new c(-g.Kb,g.U));};c.prototype.Q4=function(g){return new c(this.Kb * g,this.U);};c.prototype.wn=function(g){var l;if("number" === typeof g){l=a(this.Kb,g);return l !== this.Kb?this.Ng(l / this.Kb * this.U).wn(g):new c(this.Kb / g,this.U);}if(this.U === g.U)return this.Kb / g.Kb;l=a(this.U,g.U);return this.Ng(l).wn(g.Ng(l));};c.prototype.Tga=function(g){var l;if(this.U === g.U)return new c(Math.abs(this.Kb - g.Kb),this.U);l=a(this.U,g.U);return this.Ng(l).Tga(g.Ng(l));};c.prototype.STa=function(g){return a(this.U,g);};c.prototype.T0a=function(){return new c(this.U,this.Kb);};c.prototype.compare=function(g,l){var m;if(this.U === l.U)return g(this.Kb,l.Kb);m=a(this.U,l.U);return g(this.Ng(m).Kb,l.Ng(m).Kb);};c.prototype.Jk=function(g){return this.equal(g)?0:this.lessThan(g)?-1:1;};c.prototype.equal=function(g){return this.compare(function(l,m){return l === m;},g);};c.prototype.c5=function(g){return this.compare(function(l,m){return l !== m;},g);};c.prototype.lessThan=function(g){return this.compare(function(l,m){return l < m;},g);};c.prototype.greaterThan=function(g){return this.compare(function(l,m){return l > m;},g);};c.prototype.rF=function(g){return this.compare(function(l,m){return l <= m;},g);};c.prototype.Fn=function(g){return this.compare(function(l,m){return l >= m;},g);};c.prototype.isFinite=function(){return ! !this.U && isFinite(this.Kb);};c.prototype.toJSON=function(){return {ticks:this.Kb,timescale:this.U};};c.prototype.toString=function(){return this.Kb + "/" + this.U;};c.prototype.Bd=function(){return this.Kb + "/" + this.U + " (" + this.X + "ms)";};c.nb=new c(0,1E3);c.BB=new c(1,1E3);c.Kx=new c(Infinity,1);return c;})();b.S=r;},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.TNa=b.iRa=b.yx=b.Mk=b.md=b.Ou=b.trim=b.TS=b.f4a=b.bpa=b.xMb=b.ke=b.sLa=b.HMa=b.Jb=b.Wd=void 0;c=a(19);g=a(27);l=a(10);m=a(14);b.Wd=function(d,f){for(var h in d){d.hasOwnProperty(h) && f(h,d[h]);}};b.Jb=b.Jb || (function(d,f,h){var k,n,p;if(f)if(h){k=h.vL;n=h.prefix;p=h.ly;b.Wd(f,function(q,t){if(!p || g.vc(t))d[(n || "") + (k?q.toLowerCase():q)]=t;});}else b.Wd(f,function(q,t){d[q]=t;});return d;});b.HMa=function(d,f,h,k){var n;if(d){n=d[f];m.mc(n) && (h=n.apply(d,l.slice.call(arguments,3)));}return h;};b.sLa=function(d){for(var f={},h=d.length;h--;){f[d[h]]=!0;}return f;};b.ke=b.ke || (function(d){return parseInt(d,10);});b.xMb=function(d){return (/^true$/i).test(d);};b.bpa=function(d,f){return l.ii(d + l.QC() * (f - d));};b.f4a=function(d){return JSON.stringify(d,null,"  ");};b.TS=(function(){var f,h;function d(k){c.Za(void 0 !== f[k]);return f[k];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(k){return k.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(f){return f.replace(d,"");};})();b.Ou=function(d){return Array.isArray(d)?d:[d];};b.md=b.md || (function(d){var f,h,k;if(d){f=d.stack;h=d.number;k=d.message;k || (k="" + d);f?(d="" + f,0 != d.indexOf(k) && (d=k + "\n" + d)):d=k;h && (d+="\nnumber:" + h);return d;}});b.Mk=function(d){return m.pa(d)?d.toFixed(0):"";};b.yx=function(d){return m.pa(d)?(d / 1E3).toFixed(0):"";};b.iRa=function(d){return m.pa(d)?d.toFixed():"";};b.TNa=function(d){for(var f=[],h=0;h < d.length;h++){f[h]=d[h];}return f;};},function(r,b,a){var c,g,l,m;c=a(91);g=a(591);l=a(203);m=a(594);r=(function(){function d(f){this.vw=!1;f && (this.kn=f);}d.prototype.Fs=function(f){var h;h=new d();h.source=this;h.yZa=f;return h;};d.prototype.subscribe=function(f,h,k){var n;n=this.yZa;f=g.pWb(f,h,k);n?n.call(f,this.source):f.add(this.source || !f.bo?this.kn(f):this.rda(f));if(f.bo && (f.bo=!1,f.BG))throw f.CG;return f;};d.prototype.rda=function(f){try{return this.kn(f);}catch(h){f.BG=!0;f.CG=h;f.error(h);}};d.prototype.forEach=function(f,h){var k;k=this;h || (c.root.aD && c.root.aD.config && c.root.aD.config.Promise?h=c.root.aD.config.Promise:c.root.Promise && (h=c.root.Promise));if(!h)throw Error("no Promise impl found");return new h(function(n,p){var q;q=k.subscribe(function(t){if(q)try{f(t);}catch(u){p(u);q.unsubscribe();}else f(t);},p,n);});};d.prototype.kn=function(f){return this.source.subscribe(f);};d.prototype[l.observable]=function(){return this;};d.prototype.jNb=function(){for(var f=[],h=0;h < arguments.length;h++){f[h - 0]=arguments[h];}return 0 === f.length?this:m.kNb(f)(this);};d.prototype.I7=function(){var f,h;f=this;if(!h)if(c.root.aD && c.root.aD.config && c.root.aD.config.Promise)h=c.root.aD.config.Promise;else c.root.Promise && (h=c.root.Promise);if(!h)throw Error("no Promise impl found");return new h(function(k,n){var p;f.subscribe(function(q){return p=q;},function(q){return n(q);},function(){return k(p);});});};d.create=function(f){return new d(f);};return d;})();b.fd=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nv=b.QGa=b.Ieb=b.Oi=b.Sd=b.li=b.xt=b.uh=void 0;(function(a){a[a.Audio=0]="Audio";a[a.KGa=1]="Video";})(b.uh || (b.uh={}));(function(a){a[a.At=0]="Default";a[a.Xv=1]="Microsoft";})(b.xt || (b.xt={}));(function(a){a[a.At=0]="Default";a[a.h9=1]="Cast";a[a.kH=2]="Chrome";a[a.Xv=3]="Microsoft";})(b.li || (b.li={}));(function(a){a[a.bP=0]="SD";a[a.qX=1]="HD";a[a.aI=2]="UHD";a[a.xr=3]="DV";a[a.Sv=4]="HDR10";a[a.tC=5]="AVCHigh";a[a.lD=6]="VP9";a[a.nk=7]="AV1";})(b.Sd || (b.Sd={}));(function(a){a[a.LC=0]="Level_1_4";a[a.Gt=1]="Level_2_2";})(b.Oi || (b.Oi={}));b.Ieb=function(){};(function(a){a[a.S2b=0]="Platform";a[a.z_b=1]="CurrentTitle";})(b.QGa || (b.QGa={}));b.Nv="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xf="IsTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yf="UtilitiesSymbol";},function(r,b,a){var m,d;function c(f){return null !== f && void 0 !== f;}function g(f){return typeof f == b.TFa;}function l(f,h,k){var n,p,q;if(h)if(k){n=k.vL;p=k.prefix;q=k.ly;d.Wd(h,function(t,u){if(!q || c(u))f[(p || "") + (n?t.toLowerCase():t)]=u;});}else d.Wd(h,function(t,u){f[t]=u;});return f;}Object.defineProperty(b,"__esModule",{value:!0});b.K=b.md=b.TS=b.pK=b.wE=b.createElement=b.Ur=b.rLa=b.p0=b.aN=b.Jb=b.no=b.ke=b.Sx=b.ue=b.Ff=b.vc=b.SFa=b.teb=b.ueb=b.TFa=b.rC=b.u8=b.ur=b.MN=b.LN=b.Hj=b.RX=b.PC=b.QC=b.mo=b.Vm=b.ii=b.y$=b.Wv=b.mH=b.scb=b.ZC=b.sk=b.Ti=void 0;m=a(10);d=a(22);b.Ti=function(){};b.sk=1E3;b.ZC=Object.create;b.scb=Object.keys;b.mH=Date.now;b.Wv=Math.floor;b.y$=Math.ceil;b.ii=Math.round;b.Vm=Math.max;b.mo=Math.min;b.QC=Math.random;b.PC=Math.abs;b.RX=Math.pow;b.Hj="$attributes";b.LN="$children";b.MN="$name";b.ur="$text";b.u8="$parent";b.rC="$sibling";b.TFa="string";b.ueb="number";b.teb="function";b.SFa="object";b.vc=c;b.Ff=function(f){return typeof f == b.SFa;};b.ue=g;b.Sx=function(f){return g(f) && f;};b.ke=function(f){return parseInt(f,10);};b.no=function(f,h,k){return f >= h?f <= k?f:k:h;};b.Jb=l;b.aN=function(f){return l({},f);};b.p0=function(f){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var k=arguments.length;h < k;){n=arguments[h++];if(c(n))return n;}};b.rLa=function(f,h){for(var k,n=!0,p;n;){for((n=!1,k=f.length);--k;){p=f[k];p[h] < f[k - 1][h] && (f[k]=f[k - 1],f[k - 1]=p,n=!0);}}};b.Ur=function(f,h){if(f.length == h.length){for(var k=f.length;k--;){if(f[k] != h[k])return !1;}return !0;}return !1;};b.createElement=function(f,h,k,n){var p;p=m.ye.createElement(f);h && (p.style.cssText=h);k && (p.innerHTML=k);n && d.Wd(n,function(q,t){p.setAttribute(q,t);});return p;};b.wE=function(f){var h;h="";d.Wd(f,function(k,n){h+=(h?";":"") + k + ":" + n;});return h;};b.pK=function(f,h,k){var n;if(f / h > k){n=b.ii(h * k);f=h;}else (n=f,f=b.ii(f / k));return {width:n,height:f};};b.TS=(function(){var h,k;function f(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};k=/[&'"<>]/g;return function(n){return n.replace(k,f);};})();b.md=function(f){var h,k;if(f){h=f.stack;k=f.number;f="" + f;h?(h="" + h,0 != h.indexOf(f) && (h=f + "\n" + h)):h=f;k && (h+="\nnumber:" + k);return h;}};b.K={Zl:1001,Ni:1003,K$a:1701,oxa:1713,L$a:1715,J$a:1721,nX:1723};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={YZb:{hw:0,h3b:1,name:["STARTUP","STEADY"]},xX:{zg:0,g3b:1,Deb:2,name:["STARTING","STABLE","UNSTABLE"]},jb:{Pb:0,Bb:1,name:["AUDIO","VIDEO"]},qk:{Pb:0,Bb:1,name:["AUDIO","VIDEO"]},Qg:{URL:0,dD:1,LOCATION:2,Zv:3,name:["URL","SERVER","LOCATION","NETWORK"]},kf:{HAVE_NOTHING:0,lz:1,Rv:2,xH:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},cD:{FZb:0,D0b:1,J2b:2,O1b:3,p2b:4,K3b:5,F0b:6,k1b:7,hw:8,jf:9,Y$:10,ldb:11,V8:12,nbb:13,mbb:14,Udb:15,Tdb:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},f0b:{Zv:0,B_b:1,name:["NETWORK","DECODE"]},e3b:{D_b:"delayedSeamless",P0b:"hideLongTransition"}};},function(r,b,a){var g;function c(l){return l.filter(function(m,d){return l.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.b5=b.FCb=b.mqb=b.flatten=b.dYa=b.Bpb=b.tLa=b.Nr=b.qLa=b.oLa=b.Tlb=b.Rw=b.pLa=b.kg=void 0;g=a(0);b.kg=function(l,m){for(var d=0;d < l.length;d++){if(m(l[d],d,l))return l[d];}};b.pLa=function(l,m){for(var d=l.length - 1;0 <= d;--d){if(m(l[d],d,l))return l[d];}};b.Rw=function(l,m){var d;d=-1;return l.some(function(f,h,k){d=h;return m(f,h,k);})?d:-1;};b.Tlb=function(l,m){for(var d=l.length - 1;0 <= d;d--){if(m(l[d],d,l))return d;}return -1;};b.oLa=c;b.qLa=function(l,m){m=l.indexOf(m);if(-1 === m)return !1;l.splice(m,1);return !0;};b.Nr=function(l,m,d){return d?l.filter(function(f){return !m.some(function(h){return d(f,h);});}):l.filter(function(f){return -1 === m.indexOf(f);});};b.tLa=function(l,m){return c(l.concat(m));};b.Bpb=function(l){return function(m,d){return l(m) - l(d);};};b.dYa=function(l){return function(m,d){return l(m) < l(d)?m:d;};};b.flatten=function(l){var m;return (m=[]).concat.apply(m,g.__spread(l));};b.mqb=function(l,m){void 0 === m && (m=function(d){return d;});return l.reduce(function(d,f){f=m(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.FCb=function(l,m){return l.reduce(function(d,f){var h;h=m(f);return (void 0 === d[h]?d[h]=[f]:d[h].push(f),d);},{});};b.b5=function(l){return null !== l && void 0 !== l;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(144);b.ma=!1;r=(function(){function g(l,m,d,f,h){this.kb=l;this.type=m;this.byteOffset=d;this.byteLength=f;this.parent=h;this.Zc={};this.OF=f;}g.QE=function(l,m){var f,k;function d(n){n && n.QE && (n=n.QE(m),n.length && (f=f.concat(n)));}f=[];l.type === m && f.push(l);if(l.Zc)for(var h in l.Zc){k=l.Zc[h];Array.isArray(k) && k.forEach(d);}return f;};g.AQ=function(l,m){void 0 === l.Zc[m.type] && (l.Zc[m.type]=[]);l.Zc[m.type].push(m);};g.LA=function(l,m){return g.QE(l,m)[0];};Object.defineProperties(g.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{L:{get:function(){return this.kb;},enumerable:!0,configurable:!0}});g.prototype.vg=function(){var l;l=this.kb.Yb();this.version=l >> 24;this.flags=l & 16777215;};g.prototype.AQ=function(l){g.AQ(this,l);};g.prototype.QE=function(l){return g.QE(this,l);};g.prototype.LA=function(l){return g.LA(this,l);};g.prototype.parse=function(){return !0;};g.prototype.nK=function(){return !0;};g.prototype.qt=function(l){if((l=this.Zc[l]) && Array.isArray(l) && 1 === l.length)return l[0];};g.prototype.Ll=function(l,m){m=void 0 === m?this.kb.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.OF,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OF).toString(16) + ")");this.kb.Ll(l,m,this);};g.prototype.VU=function(l,m,d){d=void 0 === d?this.kb.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.OF,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OF).toString(16) + ")");this.kb.VU(l,m,d,this);};g.prototype.I0a=function(l,m,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.zJa(l,m));}return f;}return this.zJa(l,m);};g.prototype.ov=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(f){var h,k;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.kb.offset+=h / 8;}else for(h in f){k=f[h];m[h]="string" === typeof k?d.I0a(k):d.I0a(k.type,k.length,k.Vlb);}});return m;};g.prototype.zJa=function(l,m){var d;d=this.byteLength - this.kb.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.kb.Pd();break;case "int64":l=this.kb.fk();break;case "int32":l=this.kb.Yb();break;case "int16":l=this.kb.Jh();break;case "string":l=this.kb.tPb(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};g.Jc=!1;return g;})();b.yg=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pg="AsyncComponentLoaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uk="PlatformSymbol";b.yz="PlatformMutableSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nh="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UGa="WindowTimersSymbol";b.JC="JSONSymbol";b.CGa="UserAgentSymbol";b.KH="NavigatorSymbol";b.Rbb="MediaSourceSymbol";b.zza="LocationSymbol";b.Nva="DateSymbol";b.gaa="PerformanceSymbol";b.VO="PlatformExtraInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j9="ConfigurableInputsSymbol";b.$l="ValidatingConfigurableInputsSymbol";b.cO="ConfigNameSymbol";b.CO="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wl=b.Jt=b.Qv=void 0;(function(a){a[a.WFa=0]="Test";a[a.Xya=1]="Int";a[a.keb=2]="Staging";a[a.Adb=3]="Prod";})(b.Qv || (b.Qv={}));(function(a){a[a.XO=0]="PreferMsl";a[a.VDa=1]="PreferNoMsl";a[a.lcb=2]="NoMsl";})(b.Jt || (b.Jt={}));b.Wl="GeneralConfigSymbol";},function(r,b,a){var m,d;function c(f,h){return f && f.Es && (h || !1 !== f.Cu);}function g(f,h,k){return !m.pa(f) || f < h?h:f > k?k:f;}function l(f){if(!(this instanceof l))return new l(f);this.ce=m.pa(f)?f:void 0;}m=a(8);d=new (a(3).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(f,h){if(!f)throw (f=h?" : " + h:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},lL:c,Yha:function(f,h,k){var p,q,t,u;function n(w){var v;v=f[w];if(!v.Es || k && !k(v,w))return !1;u=w;return !0;}p=f.length;q=0;t=p;m.isArray(h) && (q=g(h[0],0,p),t=g(h[1],0,p),h=h[2]);h=g(h,q - 1,t);for(p=h - 1;p >= q;--p){if(n(p))return u;}for(p=h + 1;p < t;++p){if(n(p))return u;}return -1;},LJb:function(f,h){return Math.floor(f / (125 * h) * 1E3);},Inb:function(f,h){return Math.ceil(f / 1E3 * h * 125);},S6b:function(f,h){return !f.slice(h + 1).some(c);},ro:l,kg:function(f,h){var k;return f.some(function(n,p,q){k=n;return h(n,p,q);})?k:void 0;},Rw:function(f,h){var k;return f.some(function(n,p,q){k=p;return h(n,p,q);})?k:-1;},l0:g};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hi="ClockSymbol";},function(r,b,a){var m,d,f;function c(h){var k,n,p,u;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(k=void 0,m.__values(Object.getOwnPropertyNames(h))),t=q.next();!t.done;t=q.next()){u=t.value;-1 === p.indexOf(u) && p.push(u);}}catch(w){k={error:w};}finally{try{t && !t.done && (n=q.return) && n.call(q);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return p;}function g(h,k,n,p,q){var t;Object.getOwnPropertyNames(h).filter(function(u){return q(u) && (n || !Object.prototype.hasOwnProperty.call(k,u)) && (p || !((u in k)));}).forEach(function(u){t=Object.getOwnPropertyDescriptor(h,u);void 0 !== t && Object.defineProperty(k,u,t);});}function l(h,k,n,p){var q,t;q=[];n || (q=Object.getOwnPropertyNames(k));p || (q=c(k));t=Object.getPrototypeOf(h);null !== t && t !== Object.prototype && l(t,k,n,p);g(h,k,!0,!0,function(u){return "constructor" !== u && -1 === q.indexOf(u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.hf=b.lqb=void 0;m=a(0);d=a(5);b.lqb=l;f=Object.getOwnPropertyNames(Function);b.hf=function(h,k,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);h.prototype?(l(h.prototype,k.prototype,n,p),g(h,k,n,p,function(q){return -1 === f.indexOf(q);})):g(h,k.prototype,n,p,function(q){return -1 === f.indexOf(q);});return k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xz="named";b.UX="name";b.hP="unmanaged";b.BBa="optional";b.BO="inject";b.NC="multi_inject";b.OFa="inversify:tagged";b.PFa="inversify:tagged_props";b.R$="inversify:paramtypes";b.A9a="design:paramtypes";b.SO="post_construct";},function(r,b,a){var g;function c(l,m,d,f,h,k,n,p,q,t,u,w){this.code=void 0 === l?g.J.Zl:l;this.$b=m;this.od=d;this.om=f;this.Xu=h;this.message=k;this.details=n;this.data=p;this.gj=q;this.ENb=t;this.alert=u;this.Xda=w;this.W=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Ec=void 0;g=a(2);c.md=function(l){var m,d,f;if(l){m=l.stack;d=l.number;f=l.message;f || (f="" + l);m?(l="" + m,0 !== l.indexOf(f) && (l=f + "\n" + l)):l=f;d && (l+="\nnumber:" + d);return l;}return "";};c.prototype.FR=function(l){this.details=c.md(l);this.data=l;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.$b,extCode:this.od,edgeCode:this.om,mslCode:this.Xu,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.gj,playbackServiceError:this.ENb};};c.Z1=function(l,m){return new c(l,g.K.Ni,void 0,void 0,void 0,void 0,m.message,m.stack);};c.gZb=function(l,m,d){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Ec=c;},function(r,b,a){var m,d,f;function c(h){return function(k,n){return k.hpa(n,h);};}function g(h,k){return h.d6.iPb[k] || l(h,k);}function l(h,k){h=h.Lx.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.Lo=b.qpa=b.object=b.nwb=b.url=b.$=b.bk=b.lsa=b.JEb=b.p7=b.string=b.Xy=b.jd=b.s3=b.config=void 0;m=a(48);d=a(4);f=a(135);b.config=function(h,k,n){n=void 0 === n?!1:n;return function(p,q,t){var u,w;u=void 0 !== k?k:q;w=t.get;void 0 !== w && (t.get=function(){var v;if(!this.DFb(q))return this.DBb(q);a:{v=(this.Blb || n?g:l)(this,u.toString());if(void 0 !== v)if((v=h(this.fU,v),v instanceof f.oo))this.mRa(u,v);else break a;v=w.bind(this)();}this.sRb(q,v);return v;});return t;};};b.s3=function(h,k){return h.E0a(k);};b.jd=function(h,k){return h.dpa(k);};b.Xy=function(h,k){return h.Bp(k);};b.string=function(h,k){return h.hpa(k);};b.p7=function(h,k){return h.vj(k,b.string);};b.JEb=function(h,k){return h.vj(k,b.s3);};b.lsa=function(h,k){return h.vj(k,b.Xy);};b.bk=function(h,k){h=h.Bp(k);return h instanceof f.oo?h:d.Xb(h);};b.$=function(h,k){h=h.Bp(k);return h instanceof f.oo?h:m.$(h);};b.url=c(/^\S+$/);b.nwb=function(h){return function(k,n){return k.D0a(n,h);};};b.object=function(){return function(h,k){return h.F0a(k);};};b.qpa=c;b.Lo=function(h,k){return function(n,p){return n.vj(p,h,k);};};},function(r,b,a){var l,m,d,f;function c(h,k){var n;n=f.call(this,h,k) || this;n.INa=k;n.debug=h.debug;n.qa=h.rg.sb(n.INa);return n;}function g(h,k){this.INa=k;this.Woa={};this.Lx=h.Lx;this.fU=h.fU;this.d6=h.d6;}Object.defineProperty(b,"__esModule",{value:!0});b.Ye=b.TN=b.QFa=void 0;r=a(0);l=a(585);m=a(1);d=a(135);b.QFa="isTestAccount";g.prototype.mRa=function(){};g.prototype.sRb=function(h,k){this.Woa[h]=[k,this.Lx.B6];};g.prototype.DFb=function(h){return l.Q$.of(this.Woa[h]).map(function(k){return k[1];}).or(-1) < this.Lx.B6;};g.prototype.DBb=function(h){return l.Q$.of(this.Woa[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Ua.Object.defineProperties(g.prototype,{Blb:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.Lx && this.Lx.data){h=this.Lx.data[b.QFa];"undefined" !== typeof h && (k=h.toString());h=this.fU.dpa(k);h=h instanceof d.oo?!1:h;}else h=!1;return h;}}});f=g;f=r.__decorate([m.O(),r.__param(0,m.Ki()),r.__param(1,m.Ki())],f);b.TN=f;ja(c,f);c.prototype.mRa=function(h,k){this.qa.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,m.Ki()),r.__param(1,m.Ki())],a);b.Ye=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ui="SchedulerSymbol";},function(r,b,a){var h,k,n,p,q,t,u,w;function c(){var v,x;if(v=b.B2.xJa)return v;v=t.ZX.search.substr(1);x=v.indexOf("#");0 <= x && (v=v.substr(0,x));v=g(v);return b.B2.xJa=v;}function g(v){for(var x=/[+]/g,y=(v || "").split("&"),z={},B,A=0;A < y.length;A++){v=p.trim(y[A]);B=v.indexOf("=");0 <= B?z[decodeURIComponent(v.substr(0,B).replace(x,"%20")).toLowerCase()]=decodeURIComponent(v.substr(B + 1).replace(x,"%20")):z[v.toLowerCase()]=null;}return z;}function l(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function m(v){return l(v.constructor);}function d(v){return t.sort.call(v,function(x,y){return x - y;});}function f(v){for(var x=0,y=v.length;y--;){x+=v[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.UNb=b.DS=b.nSa=b.K3=b.QNb=b.MVa=b.r8a=b.s8a=b.Kxb=b.Sr=b.Kpb=b.pK=b.cxb=b.LF=b.J7a=b.I8=b.K7a=b.DW=b.uta=b.I7a=b.FEb=b.wE=b.tOb=b.Kna=b.Iia=b.getFunctionName=b.ZL=b.tU=b.B2=b.uBb=b.A0a=b.IKa=b.NNa=b.rPb=b.Ur=b.vNa=void 0;h=a(12);k=a(19);n=a(6);p=a(22);q=a(27);t=a(10);u=a(14);w=a(63);b.vNa=function(v,x){if(v === x)return !0;if(!v || !x)return !1;for(var y in v){if(v.hasOwnProperty(y) && (!x.hasOwnProperty(y) || v[y] !== x[y]))return !1;}return !0;};b.Ur=b.Ur || (function(v,x){if(v.length == x.length){for(var y=v.length;y--;){if(v[y] != x[y])return !1;}return !0;}return !1;});b.rPb=function(v){var x;if(v){x=v.length;if(x)return (x=p.bpa(0,x - 1),v[x]);}};b.NNa=function(v,x){if(v.length != x.length)return !1;v.sort();x.sort();for(var y=v.length;y--;){if(v[y] !== x[y])return !1;}return !0;};b.IKa=function(v,x,y){function z(){v.removeEventListener(x,z);y.apply(this,arguments);}v.addEventListener(x,z);};b.A0a=function(){var v,x,y,z,B,A;v=t.ye.cookie.split("; ");x=v.length;B={};for(y=0;y < x;y++){if(z=p.trim(v[y])){A=z.indexOf("=");0 < A && (B[z.substr(0,A)]=z.substr(A + 1));}}return B;};b.uBb=c;b.B2=Object.assign(c,{xJa:void 0});b.tU=g;b.ZL=function(v){var x;x="";p.Wd(v,function(y,z){x && (x+="&");k.Za(q.ue(z) || u.pa(z) || u.Xka(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=l;b.Iia=m;b.Kna=function(v){var x;x="";u.isArray(v) || u.rla(v)?x=t.reduce.call(v,function(y,z){return y + (32 <= z && 128 > z?t.JFa(z):".");},""):q.ue(v)?x=v:p.Wd(v,function(y,z){x+=(x?", ":"") + "{" + y + ": " + (u.mc(z)?l(z) || "function":z) + "}";});return "[" + m(v) + " " + x + "]";};b.tOb=function(v,x){v.firstChild?v.insertBefore(x,v.firstChild):v.appendChild(x);};b.wE=b.wE || (function(v){var x;x="";p.Wd(v,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.FEb=function(v,x){var y;y=v[0];if(x <= y[0])return y.slice(1);for(var z=1,B;B=v[z++];){if(x <= B[0]){v=(x - y[0]) / (B[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + v * ((B[z] || 0) - (y[z] || 0)));}return x;}y=B;}return y.slice(1);};b.I7a=function(v,x){var B;for(var y={},z=0;z < x.length;z++){B=x[z];if("string" != typeof B && "number" != typeof B)return !1;y[x[z]]=1;}for(z=0;z < v.length;z++){if((B=v[z],!y[B]))return !1;}return !0;};b.uta=function(v,x){0 > v.indexOf(x) && v.push(x);};b.DW=d;b.K7a=f;b.I8=function(v,x){var y,z,B,A;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (B=v[y]) && B <= B);){B=void 0;}for(;++y < z;){null != (A=v[y]) && A > B && (B=A);}}else {for(;++y < z && !(null != (B=x.call(v,v[y],y)) && B <= B);){B=void 0;}for(;++y < z;){null != (A=x.call(v,v[y],y)) && A > B && (B=A);}}return B;};b.J7a=function(v,x){var y,z,B,A;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (B=v[y]) && B <= B);){B=void 0;}for(;++y < z;){null != (A=v[y]) && B > A && (B=A);}}else {for(;++y < z && !(null != (B=x.call(v,v[y],y)) && B <= B);){B=void 0;}for(;++y < z;){null != (A=x.call(v,v[y],y)) && B > A && (B=A);}}return B;};b.LF=function(v){return u.mc(v.then)?v:new Promise(function(x,y){v.oncomplete=function(){x(v.result);};v.onerror=function(){y(v.error);};});};b.cxb=function(v,x){var z,B,A,E,D,F;function y(C){0 > z.indexOf(C) && u.pa(C) && z.push(C);}v=v.slice();d(v);z=[];if(!x || !x.length)return v;if(!v.length)return [];B=x.length;try{for(;B--;){E="" + x[B];D=q.ke(E);switch(E[E.length - 1]){case "-":for(A=v.length;A--;){F=v[A];if(F < D){y(F);break;}}break;case "+":for(A=0;A < v.length;A++){if((F=v[A],F > D)){y(F);break;}}break;default:0 <= v.indexOf(D) && y(D);}}}catch(C){}z.length || z.push(v[0]);d(z);return z;};b.pK=b.pK || (function(v,x,y){var z;if(v / x > y){z=t.ii(x * y);v=x;}else (z=v,v=t.ii(v / y));return {width:z,height:v};});b.Kpb=function(v,x,y){for(var z=[],B=0;B < x;B++){z.push(t.RX(v[B] - y,2));}return t.zAa(f(z) / z.length);};b.Sr=function(v,x){var y;y=v.length;x=(y - 1) * x + 1;if(1 === x)return v[0];if(x == y)return v[y - 1];y=t.Wv(x);return v[y - 1] + (x - y) * (v[y] - v[y - 1]);};b.Kxb=function(v,x){if(!u.isArray(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");x=u.isArray(x)?x:[x];for(var y=v.length,z=0;z < y;z++){for(var B=0;B < x.length;B++){if(v[z].type == x[B])return v[z];}}throw Error("Box not found " + x);};b.s8a=function(v){return v.Bzb("trak/mdia/minf/stbl/stsd/" + h.qua + "|" + h.rua).children.filter(function(x){return "sinf" == x.type && x.$5b.schm.W8b == w.jz;})[0].Bzb("schi/tenc").zl;};b.r8a=function(v){var y;function x(z,B){var A;A=y[z];y[z]=y[B];y[B]=A;}y=new Uint8Array(v);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.MVa=function(){return u.mc(t.Ve.requestMediaKeySystemAccess);};b.QNb=function(v){return function(x){return x && x[v];};};u.mc(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,x){var y,z;void 0 === v && (v=0);void 0 === x && (x=this.byteLength);v=Math.floor(v);x=Math.floor(x);0 > v && (v+=this.byteLength);0 > x && (x+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - v)return new ArrayBuffer(0);y=new ArrayBuffer(x - v);z=new Uint8Array(y);v=new Uint8Array(this,v,x - v);z.set(v);return y;});b.K3=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.nSa=function(){var v,x;v=new ArrayBuffer(4);x=new Uint8Array(v);v=new Uint32Array(v);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.DS=function(){var v,x,y;try{v=/playercore.*js/;x=t.Kt.getEntries("resource").filter(function(z){return null !== v.exec(z.name);});if(x && 0 < x.length){y=t.ii(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.UNb=function(v,x,y){if(v && v.length){if(y && y.Yob)try{v.forEach(function(z,B){var A;A=(B=y.Yob[B]) && B.media;A && q.ue(A)?(!1,A=n.sq(A).buffer,z.media={arrayBuffer:A,length:A.byteLength,stream:x,Hc:B.cdn}):n.log.warn("chunk not in cache",z.Hh);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(r,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.KJb=b.platform=b.Wj=b.Cc=b.AAb=b.AS=b.YE=b.aXa=b.jD=b.pe=b.mD=void 0;c=a(0);c.__exportStar(a(383),b);c.__exportStar(a(825),b);c.__exportStar(a(826),b);c.__exportStar(a(827),b);g=a(95);Object.defineProperties(b,{mD:{enumerable:!0,get:function(){return g.mD;}}});c.__exportStar(a(21),b);l=a(58);Object.defineProperties(b,{pe:{enumerable:!0,get:function(){return l.pe;}}});m=a(228);Object.defineProperties(b,{jD:{enumerable:!0,get:function(){return m.jD;}}});b.aXa=function(f){b.platform.$S(f);return a(840).jAa;};b.YE=function(f){b.platform.$S(f);return Promise.resolve().then(function(){return c.__importStar(a(259));}).then(function(h){return h.YE();});};b.AS=function(f,h){b.platform.$S(f);return Promise.resolve().then(function(){return c.__importStar(a(442));}).then(function(k){return k.AS(h);});};b.AAb=function(){return a(231);};r=c.__importDefault(a(28));b.Cc=r.default;r=a(1047);b.Wj=r.Wj;r=c.__importDefault(a(3));b.platform=r.default;d=a(1048);b.KJb=function(){return {wz:d.wz};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qt=b.Rg=void 0;b.ki={NWa:"logblob",la:"manifest",Vf:"license",events:"events",bind:"bind",QZa:"pair",ping:"ping",config:"config"};r=b.Rg || (b.Rg={});r[r.Et=20]="High";r[r.B$=10]="Medium";r[r.EH=0]="Low";b.Qt={Rg:"reqPriority",Ldb:"reqAttempt",Mdb:"reqName",x8a:"browsername",C8a:"browserversion",qcb:"osname",rcb:"osversion",b9a:"clienttype",Aeb:"uiversion"};},function(r,b,a){var l;function c(){return l.iP.apply(this,arguments) || this;}function g(m){return new l.Br(m,b.zC);}Object.defineProperty(b,"__esModule",{value:!0});b.nb=b.XAa=b.h$=b.yt=b.zC=b.VIb=b.mGb=b.$=b.WQ=b.E8a=void 0;l=a(295);ja(c,l.iP);b.E8a=c;b.WQ=g;b.$=function(m){return new l.Br(m,b.yt);};b.mGb=function(m){return new l.Br(m,b.h$);};b.VIb=function(m){return new l.Br(m,b.XAa);};b.zC=new c(1,"b");b.yt=new c(8 * b.zC.Kf,"B",b.zC);b.h$=new c(1024 * b.yt.Kf,"KB",b.zC);b.XAa=new c(1024 * b.h$.Kf,"MB",b.zC);b.nb=g(0);},function(r,b){function a(){}function c(){}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cr=b.de=b.N=void 0;b.N=g;g.wH="playready-h264mpl30-dash";g.DC="playready-h264mpl31-dash";g.O9="playready-h264mpl40-dash";g.Gxa="playready-h264hpl22-dash";g.lO="playready-h264hpl30-dash";g.mO="playready-h264hpl31-dash";g.N9="playready-h264hpl40-dash";g.LY="vp9-profile0-L21-dash-cenc";g.bI="vp9-profile0-L30-dash-cenc";g.cI="vp9-profile0-L31-dash-cenc";g.kP="vp9-profile0-L40-dash-cenc";g.Qxa="hevc-main10-L30-dash-cenc";g.Rxa="hevc-main10-L31-dash-cenc";g.Sxa="hevc-main10-L40-dash-cenc";g.Txa="hevc-main10-L41-dash-cenc";g.tO="hevc-main10-L50-dash-cenc";g.uO="hevc-main10-L51-dash-cenc";g.yX="hevc-main10-L30-dash-cenc-prk";g.AX="hevc-main10-L31-dash-cenc-prk";g.CX="hevc-main10-L40-dash-cenc-prk";g.EX="hevc-main10-L41-dash-cenc-prk";g.zX="hevc-main10-L30-dash-cenc-prk-do";g.BX="hevc-main10-L31-dash-cenc-prk-do";g.DX="hevc-main10-L40-dash-cenc-prk-do";g.FX="hevc-main10-L41-dash-cenc-prk-do";g.GX="hevc-main10-L50-dash-cenc-prk-do";g.HX="hevc-main10-L51-dash-cenc-prk-do";g.SW="hevc-dv5-main10-L30-dash-cenc-prk";g.UW="hevc-dv5-main10-L31-dash-cenc-prk";g.fO="hevc-dv5-main10-L40-dash-cenc-prk";g.XW="hevc-dv5-main10-L41-dash-cenc-prk";g.ZW="hevc-dv5-main10-L50-dash-cenc-prk";g.aX="hevc-dv5-main10-L51-dash-cenc-prk";g.TW="hevc-dv5-main10-L30-dash-cenc-prk-do";g.VW="hevc-dv5-main10-L31-dash-cenc-prk-do";g.WW="hevc-dv5-main10-L40-dash-cenc-prk-do";g.YW="hevc-dv5-main10-L41-dash-cenc-prk-do";g.$W="hevc-dv5-main10-L50-dash-cenc-prk-do";g.bX="hevc-dv5-main10-L51-dash-cenc-prk-do";g.Ixa="hevc-hdr-main10-L30-dash-cenc";g.Jxa="hevc-hdr-main10-L31-dash-cenc";g.Kxa="hevc-hdr-main10-L40-dash-cenc";g.Lxa="hevc-hdr-main10-L41-dash-cenc";g.Mxa="hevc-hdr-main10-L50-dash-cenc";g.Nxa="hevc-hdr-main10-L51-dash-cenc";g.oO="hevc-hdr-main10-L30-dash-cenc-prk";g.pO="hevc-hdr-main10-L31-dash-cenc-prk";g.yH="hevc-hdr-main10-L40-dash-cenc-prk";g.qO="hevc-hdr-main10-L41-dash-cenc-prk";g.rO="hevc-hdr-main10-L50-dash-cenc-prk";g.sO="hevc-hdr-main10-L51-dash-cenc-prk";g.rX="hevc-hdr-main10-L30-dash-cenc-prk-do";g.sX="hevc-hdr-main10-L31-dash-cenc-prk-do";g.tX="hevc-hdr-main10-L40-dash-cenc-prk-do";g.uX="hevc-hdr-main10-L41-dash-cenc-prk-do";g.vX="hevc-hdr-main10-L50-dash-cenc-prk-do";g.wX="hevc-hdr-main10-L51-dash-cenc-prk-do";g.bta="av1-main-L20-dash-cbcs-prk";g.cta="av1-main-L21-dash-cbcs-prk";g.dta="av1-main-L30-dash-cbcs-prk";g.fta="av1-main-L31-dash-cbcs-prk";g.gta="av1-main-L40-dash-cbcs-prk";g.hta="av1-main-L41-dash-cbcs-prk";g.ita="av1-main-L50-dash-cbcs-prk";g.jta="av1-main-L51-dash-cbcs-prk";g.Pdb=[g.wH];g.U$a=[g.DC,g.O9];g.$aa=[g.yX,g.AX,g.CX,g.EX,g.tO,g.uO];g.aba=[g.zX,g.BX,g.DX,g.FX,g.GX,g.HX];g.Q9=[g.oO,g.pO,g.yH,g.qO,g.rO,g.sO];g.P9=[g.rX,g.sX,g.tX,g.uX,g.vX,g.wX];g.Mva=[g.SW,g.fO,g.ZW,g.UW,g.XW,g.aX];g.Lva=[g.TW,g.WW,g.$W,g.VW,g.YW,g.bX];g.G8=[g.lO,g.mO,g.N9];g.HGa=[g.bI,g.cI,g.kP];g.lD=[g.LY,g.bI,g.cI,g.kP];g.z7a=[g.bta,g.cta,g.dta];g.y7a=[g.fta,g.gta,g.hta];g.A7a=[g.ita,g.jta];g.nk=[].concat(g.z7a,g.y7a,g.A7a);g.M9=g.Pdb.concat(g.U$a);b.de=c;c.EC="heaac-2-dash";c.Oxa="heaac-5.1-dash";c.FC="heaac-2hq-dash";c.dI="xheaac-dash";c.dO="ddplus-2.0-dash";c.k9="ddplus-5.1-dash";c.eO="ddplus-atmos-dash";b.Cr=a;a.Wdb="simplesdh";a.o9="dfxp-ls-sdh";a.HH="nflx-cmisc";},function(r,b,a){var g,l,m,d,f;function c(){return g.ad.get(m.ud).qF.da(f.ia);}Object.defineProperty(b,"__esModule",{value:!0});b.rpb=b.yfa=b.kNa=b.ppb=b.qpb=b.o0=b.ti=void 0;g=a(191);l=a(38);m=a(18);d=a(92);f=a(4);b.ti=function(){return g.ad.get(m.ud).Tb().da(f.ia);};b.o0=function(){return g.ad.get(l.hi).Ne.da(f.Xm);};b.qpb=function(){return g.ad.get(m.ud).qF.da(f.Xm);};b.ppb=function(){return g.ad.get(d.pz).zA();};b.kNa=c;b.yfa=function(){return g.ad.get(l.hi).Ne.da(f.ia);};b.rpb=function(){return c();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xl="PboCommandContextSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c$a="Cannot apply @injectable decorator multiple times.";b.d$a="Metadata key was used more than once in a parameter:";b.MO="NULL argument";b.cza="Key Not Found";b.h7a="Ambiguous match found for serviceIdentifier:";b.F8a="Could not unbind serviceIdentifier:";b.bcb="No matching bindings found for serviceIdentifier:";b.Abb="Missing required @injectable annotation in:";b.Bbb="Missing required @inject or @multiInject annotation in:";b.Beb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.H8a="Circular dependency found:";b.Q1b="Sorry, this feature is not fully implemented yet.";b.Sab="Invalid binding type:";b.dcb="No snapshot available to restore.";b.Wab="Invalid return type in middleware. Middleware must return!";b.Vab="Value provided to function binding must be a function!";b.Yab="The toSelf function can only be applied when a constructor is used as service identifier";b.Tab="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.j7a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.W8a="Invalid Container constructor argument. Container options must be an object.";b.U8a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.T8a="Invalid Container option. Auto bind injectable must be a boolean";b.V8a="Invalid Container option. Skip base check must be a boolean";b.Obb="Cannot apply @postConstruct decorator multiple times in the same class";b.kdb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.I8a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.$db="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.On=b.ZUb=b.jZa=void 0;b.jZa=function(a,c){return a - c;};b.ZUb=function(a,c){return a.localeCompare(c);};b.On=function(a,c){var g;g=Object.getOwnPropertyDescriptor(a,c);g && Object.defineProperty(a,c,{configurable:g.configurable,enumerable:!1,value:g.value,writable:g.writable});};},function(r,b,a){var c,g;c=a(120);g=a(169);r.exports=function(l){return function h(d,f){switch(arguments.length){case 0:return h;case 1:return g(d)?h:c(function(k){return l(d,k);});default:return g(d) && g(f)?h:g(d)?c(function(k){return l(k,f);}):g(f)?c(function(k){return l(d,k);}):l(d,f);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ic=void 0;b.Ic=function(a){return setTimeout(a,0);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m$="LogBatcherConfigSymbol";b.Wp="LogBatcherSymbol";b.Cza="LogBatcherProviderSymbol";},function(r,b){function a(c){var g;g=Error.call(this,"TimeoutError");this.message=g.message;("stack" in g) && (this.stack=g.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.dw=b.cq=void 0;ja(a,Error);b.cq=a;b.dw="PromiseTimerSymbol";},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zEa=b.pe=void 0;c=a(0);g=a(839);(function(l){l[l.$B=0]="startPlayback";l[l.Cq=1]="endPlayback";l[l.Lp=2]="underflow";})(b.pe || (b.pe={}));r=(function(){function l(m){this.config=m;this.s1a=[];}l.prototype.ol=function(m){var d,f;f=c.__read(this.config.HR.filter(function(h){return h.Sj === m.Sj;}),1)[0];(null !== (d=null === f || void 0 === f?void 0:f.enabled) && void 0 !== d?d:m.enabled)?this.s1a.push(m):m.Gb && m.Gb();};l.prototype.ns=function(m){var d,f,h,p,q;f={};h=[];try{for(var k=c.__values(this.s1a),n=k.next();!n.done;n=k.next()){p=n.value;try{q=p.ns({nj:m});q && (p.FF?f[p.FF]=q:f=c.__assign(c.__assign({},f),q));}catch(u){h.push(u);}}}catch(u){var t;t={error:u};}finally{try{n && !n.done && (d=k.return) && d.call(k);}finally{if(t)throw t.error;}}h.length && (f["rpt-error"]=new g.nta("Reporting error",h));return f;};return l;})();b.zEa=r;},function(r,b,a){var g,l;function c(m,d){var f;f=b.qo[0];f == d && (f=b.qo[1]);f?f.close(function(){c(m,d);}):m && m(g.ze);}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=b.gDa=b.laa=b.maa=b.QH=b.oaa=b.naa=b.raa=b.qaa=b.qo=b.saa=b.paa=void 0;g=a(12);l=a(19);b.paa=c;b.saa=function(m,d){switch(m){case b.naa:b.qaa.push(d);return;case b.oaa:b.raa.push(d);return;}l.Za(!1);};b.qo=[];b.qaa=[];b.raa=[];b.naa=1;b.oaa=3;b.QH={index:0,HJb:void 0,dia:void 0};b.maa="network";b.laa="media";b.gDa="timedtext";b.hDa="playback";},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.L2=b.OK=b.M2=b.XA=b.ym=b.df=void 0;r=a(71);c=a(55);g=a(10);b.df=new r.Ij();b.ym=1;b.XA=2;b.M2=3;b.OK=4;b.L2=5;c.Ic(function(){var m,d,f;function l(h,k){if(d)d.on(h,k);else lb.addEventListener(h,k);}m=lb.jQuery;d=m && m(lb);m=(m=lb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;f=g.ye.hidden;m?m(function(h){b.df.bc(b.ym,h);}):l("beforeunload",function(h){b.df.bc(b.ym,h);});l("keydown",function(h){b.df.bc(b.XA,h);});l("resize",function(){b.df.bc(b.M2);});g.ye.addEventListener("visibilitychange",function(){f !== g.ye.hidden && (f=g.ye.hidden,b.df.bc(b.OK));});});(function(){lb.addEventListener("error",function(l){b.df.bc(b.L2,l);return !0;});})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);r=(function(){function g(l,m){this.key=l;this.value=m;}g.prototype.toString=function(){return this.key === c.xz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return g;})();b.Metadata=r;},function(r,b){var c,g;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Up=b.za=b.Vi=void 0;(function(l){l[l.Yl=0]="STANDARD";l[l.Uv=1]="LIMITED";l[l.I2b=2]="PREVIEW";})(c || (c={}));(function(l){l[l.HAVE_NOTHING=0]="HAVE_NOTHING";l[l.HAVE_METADATA=1]="HAVE_METADATA";l[l.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";l[l.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";l[l.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(g || (g={}));(function(l){l.u7a="asl_start";l.s7a="asl_comp";l.zZb="asl_exc";l.t7a="asl_fail";l.beb="stf_creat";l.nab="idb_open";l.kab="idb_block";l.uab="idb_upgr";l.tab="idb_succ";l.lab="idb_error";l.mab="idb_invalid_state";l.pab="idb_open_timeout";l.rab="idb_open_wrkarnd";l.sab="idb_storelen_exc";l.oab="idb_open_exc";l.qab="idb_timeout_invalid_storelen";l.Ibb="msl_load_data";l.Kbb="msl_load_no_data";l.Jbb="msl_load_failed";})(r=b.Vi || (b.Vi={}));(function(l){l.U$="PlaybackRequestStart";l.T$="PlaybackRequestEnd";l.uY="RequestPrefetchManifestStart";l.tY="RequestPrefetchManifestEnd";l.sY="RequestManifestStart";l.rY="RequestManifestEnd";l.qY="RequestLicenseStart";l.pY="RequestLicenseEnd";l.YN="RequestTimedTextUrlStart";l.XN="RequestTimedTextUrlEnd";l.WN="RequestAudioUrlStart";l.VN="RequestAudioUrlEnd";l.$N="RequestVideoUrlStart";l.ZN="RequestVideoUrlEnd";l.z8="AppendBufferStart";l.y8="AppendBufferEnd";l.Iaa="SetMediaKeysStart";l.Haa="SetMediaKeysEnd";l.pX="GenerateChallengeStart";l.oX="GenerateChallengeEnd";l.AW="ApplyLicenseStart";l.zW="ApplyLicenseEnd";})(b.za || (b.za={}));b.Up=a;a.i$=c;a.RNa=function(l){return ["STANDARD","LIMITED","PREVIEW"][l];};a.Vi=r;a.Vxa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jz="cenc";b.I9="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.QBa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.Oeb="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.Neb="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.JX="HW_SECURE_DECODE";b.SEa="SW_SECURE_DECODE";b.Laa="SW_SECURE_CRYPTO";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(147),b);r.__exportStar(a(918),b);r.__exportStar(a(176),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dt="EmeConfigSymbol";},function(r,b,a){var c,g,l,m,d,f;c=this && this.__extends || (function(h,k){function n(){this.constructor=h;}for(var p in k){k.hasOwnProperty(p) && (h[p]=k[p]);}h.prototype=null === k?Object.create(k):(n.prototype=k.prototype,new n());});g=a(301);r=a(117);l=a(201);m=a(202);d=(function(h){function k(n,p,q){var t;h.call(this);this.CG=null;this.bh=this.bo=this.BG=!1;switch(arguments.length){case 0:this.destination=l.empty;break;case 1:if(!n){this.destination=l.empty;break;}if("object" === typeof n){if(n instanceof d || ("syncErrorThrowable" in n) && n[m.jG]){t=n[m.jG]();this.bo=t.bo;this.destination=t;t.add(this);}else (this.bo=!0,this.destination=new f(this,n));break;}default:(this.bo=!0,this.destination=new f(this,n,p,q));}}c(k,h);k.prototype[m.jG]=function(){return this;};k.create=function(n,p,q){n=new k(n,p,q);n.bo=!1;return n;};k.prototype.next=function(n){this.bh || this.em(n);};k.prototype.error=function(n){this.bh || (this.bh=!0,this.Af(n));};k.prototype.complete=function(){this.bh || (this.bh=!0,this.re());};k.prototype.unsubscribe=function(){this.closed || (this.bh=!0,h.prototype.unsubscribe.call(this));};k.prototype.em=function(n){this.destination.next(n);};k.prototype.Af=function(n){this.destination.error(n);this.unsubscribe();};k.prototype.re=function(){this.destination.complete();this.unsubscribe();};k.prototype.bkb=function(){var n,p;n=this.lq;p=this.CD;this.CD=this.lq=null;this.unsubscribe();this.bh=this.closed=!1;this.lq=n;this.CD=p;};return k;})(r.Dz);b.so=d;f=(function(h){function k(n,p,q,t){var u;h.call(this);this.$P=n;n=this;if(g.mc(p))u=p;else p && (u=p.next,q=p.error,t=p.complete,p !== l.empty && (n=Object.create(p),g.mc(n.unsubscribe) && this.add(n.unsubscribe.bind(n)),n.unsubscribe=this.unsubscribe.bind(this)));this.xk=n;this.em=u;this.Af=q;this.re=t;}c(k,h);k.prototype.next=function(n){var p;if(!this.bh && this.em){p=this.$P;p.bo?this.kba(p,this.em,n) && this.unsubscribe():this.lba(this.em,n);}};k.prototype.error=function(n){var p;if(!this.bh){p=this.$P;if(this.Af)(p.bo?this.kba(p,this.Af,n):this.lba(this.Af,n),this.unsubscribe());else if(p.bo)(p.CG=n,p.BG=!0,this.unsubscribe());else throw (this.unsubscribe(),n);}};k.prototype.complete=function(){var n,p,q;n=this;if(!this.bh){p=this.$P;if(this.re){q=function(){return n.re.call(n.xk);};p.bo?this.kba(p,q):this.lba(q);}this.unsubscribe();}};k.prototype.lba=function(n,p){try{n.call(this.xk,p);}catch(q){throw (this.unsubscribe(),q);}};k.prototype.kba=function(n,p,q){try{p.call(this.xk,q);}catch(t){return (n.CG=t,n.BG=!0);}return !1;};k.prototype.tda=function(){var n;n=this.$P;this.$P=this.xk=null;n.unsubscribe();};return k;})(d);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gD="TimingApiSymbol";b.JO="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ula=b.pk=void 0;(function(a){a[a.Yl=0]="STANDARD";a[a.Uv=1]="LIMITED";})(b.pk || (b.pk={}));b.Ula=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mt="PboConfigSymbol";},function(r,b,a){var k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F;function c(C){var G,H,J,I;G=C.url.split("?");H=G[0];J="sc=" + C.YRb;I=C.yMa?"random=" + (1E17 * z.QC()).toFixed(0):"";H=G[1]?H + ("?" + G[1] + "&" + J):H + ("?" + J);H+=I?"&" + I:"";C.Hc && !q.K3(H) && (C=n.config && n.config.dfa) && (H=C.replace("{URL}",H).replace("{EURL}",encodeURIComponent(H)));return H;}function g(C){var G,H,J,I;G=C.url.split("?");H=G[0];J="bb_reason=" + C.reason;I=C.yMa?"random=" + (1E17 * z.QC()).toFixed(0):"";H=G[1]?H + ("?" + G[1] + "&" + J):H + ("?" + J);H+=I?"&" + I:"";C.Hc && !q.K3(H) && (C=n.config && n.config.dfa) && (H=C.replace("{URL}",H).replace("{EURL}",encodeURIComponent(H)));return H;}function l(C,G){var H,J,I;H=C.url.split("?");J=H[0];I=m(C);I && (G.Xq=I,(void 0 === C.st?n.config.st:C.st)?(C.headers=C.headers || ({}),C.headers.Range="bytes=" + I):(G.Xq=I,J="/" == J[J.length - 1]?J + "range/":J + "/range/",J+=I));I=C.yMa?"random=" + (1E17 * z.QC()).toFixed(0):"";n.config.sx && C.b7 && (I="sc=" + C.b7 + (I?"&" + I:""));J=H[1]?J + ("?" + H[1] + (I?"&" + I:"")):J + (I?"?" + I:"");C.Hc && !q.K3(J) && (C=n.config && n.config.dfa) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));G.url=J;}function m(C){var G;G=C.offset;if(void 0 !== G)return (x.BR(G),void 0 !== C.length?(C=C.offset + C.length - 1,x.BR(C),G + "-" + C):G + "-");}function d(){return !1 !== z.Ve.onLine;}function f(C,G,H,J){var I,M;I=J.Doa;M=J.headers;C.open(I?"POST":"GET",G,!H);switch(J.responseType){case b.US:C.responseType="arraybuffer";break;case b.tka:y.HMa(C,"overrideMimeType",void 0,"text/xml");}I && (G={"Content-Type":u.ue(I)?"text/plain":"application/x-octet-stream"},M=M?u.Jb(G,M):G);M && y.Wd(M,function(N,K){C.setRequestHeader(N,K);});J.withCredentials && (C.withCredentials=!0);void 0 !== C.msCaching && (C.msCaching="disabled");I?C.send(I):C.send();}function h(C,G){switch(G.type){case b.US:return C.response || new ArrayBuffer(0);case b.tka:return C.responseXML;default:return C.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.US=b.tka=b.ska=b.uka=b.b3=b.IUa=b.HUa=b.Z2=b.Reb=b.Seb=b.JDb=b.a3=b.GDb=b.HDb=b.FDb=b.IDb=b.qf=void 0;k=a(71);n=a(11);p=a(12);q=a(45);t=a(50);u=a(27);w=a(2);v=a(6);x=a(19);y=a(22);z=a(10);B=a(55);A=a(14);E=a(31);D={fl:1,Z3b:2,R7a:3};b.qf=(function(){var J,I,M,N;function C(K){var O;try{O=K.url;A.tla(O)?0 === O.indexOf("https")?N.ssl++:0 === O.indexOf("http")?N["non-ssl"]++:N.invalid++:N.invalid++;}catch(R){}}function G(){I.bc(b.IUa);I.bc(b.uka);}function H(){I.bc(b.b3);I.bc(b.uka);}J=v.Dh("Http");I=new k.Ij();M=0;N={ssl:0,"non-ssl":0,invalid:0};v.fa.get(E.Pg).register(w.J.Hya,function(K){n.config.fYb && (lb.addEventListener("online",G),lb.addEventListener("offline",H),b.a3=d);K(p.ze);});return {addEventListener:I.addListener,removeEventListener:I.removeListener,download:function(K,O){var da,ya,U,ma,ta,Ja,wa,ra,Qa,Pa,Sa;function R(){var $a;R=u.Ti;Sa && (clearTimeout(Sa),Sa=null);I.removeListener(b.b3,ha);Qa && (Qa.onloadstart=null,Qa.onreadystatechange=null,Qa.onprogress=null,Qa.onerror=null,Qa.onload=null,Qa=Qa.onabort=null);ra.W?!1:ra.ka != w.K.mz?da.warn("Download failed",ya,w.Ar(ra)):da.trace("Download aborted",ya);$a=U;U=void 0;for(var kb=$a.length;kb--;){(function(){var bb;bb=$a[kb];B.Ic(function(){bb(ra);});})();}I.bc(b.HUa,ra,!0);}function L(){Sa && (clearTimeout(Sa),Sa=null);Sa=setTimeout(va,Pa?wa:Ja);}function Q($a,kb,bb,Ra){var Wa,gb;ra.W=!1;ra.ka=$a;Wa=t.ti();gb=ra.Cl;gb.Lh=gb.Lh || Wa;gb.Vn=gb.Vn || Wa;0 < kb && (ra.hj=ra.Oe=kb);bb && (ra.gb=bb);Ra && (ra.RB=Ra);$a !== w.K.vO && $a !== w.K.GC && $a !== w.K.yO || !Qa || (Qa.onabort=null,la());R();}function P($a){var kb,bb;try{bb=$a.getResponseHeader("X-Netflix.Retry.Server.Policy");bb && (kb=JSON.parse(bb));}catch(Ra){!1;}return kb;}function ha(){b.a3() || Q(w.K.vO);}function va(){Q(Pa?w.K.GC:w.K.yO);}function la(){try{Qa && Qa.abort();}catch($a){}}function S(){Q(w.K.mz);}x.Za(O);da=K.j && K.j.log && v.Eh(K.j,"Http") || J;ya={Num:M++};U=[O];ma={};Ja=K.y0 || n.config.y0;wa=K.yna || n.config.yna;C(K);!1;ra=(function(){var $a,kb,bb;$a=u.Ti;kb=u.Ti;bb=u.Ti;return {request:K,type:K.responseType,Cl:ma,abort:la,timeout:va,Hda:function(Ra){R !== u.Ti && (x.Za(U,"Callback should be added before download starts."),U && U.unshift(Ra));},n5:function(Ra){bb(Ra);},p5:function(Ra){$a(Ra);},Fm:function(Ra){kb(Ra);},SSb:function(Ra){bb=Ra;},$Sb:function(Ra){$a=Ra;},MSb:function(Ra){kb=Ra;}};})();B.Ic(function(){var $a,kb;if(A.tla(K.url))try{if((l(K,ra),ta=ra.url,x.QJ(ta),ya.Url=ta,b.a3())){!1;Qa=new XMLHttpRequest();$a=n.config.lYb && "undefined" != typeof Qa.onloadstart;$a && (Qa.onloadstart=function(){var bb;bb=t.ti();ma.Cp=bb;ra.n5({mediaRequest:K,timestamp:bb});});Qa.onreadystatechange=function(){if(2 == Qa.readyState){Pa=!0;ma.Lh=t.ti();Qa.onreadystatechange=null;L();!1;for(var bb=ra,Ra=Qa.getAllResponseHeaders().split("\n"),Wa=Ra.length,gb,db,ob={};Wa--;){if(gb=Ra[Wa])(db=gb.indexOf(": "),1 <= db && db < gb.length - 1 && (ob[gb.substr(0,db)]=gb.substr(db + 2)));}bb.headers=ob;ra.p5({timestamp:ma.Lh,connect:!0,mediaRequest:K,start:ma.Cp,rt:[ma.Lh - ma.Cp]});}};Qa.onprogress=function(bb){Pa=!0;ma.Tfa=bb.loaded;L();bb={mediaRequest:K,bytes:bb.loaded,timestamp:t.ti(),bytesLoaded:bb.loaded};ra.p5(bb);};Qa.onload=function(){var bb;if(R !== u.Ti){x.Za(void 0 === ma.Vn);ma.Vn=t.ti();ma.Lh=ma.Lh || ma.Vn;if(200 <= Qa.status && 299 >= Qa.status){bb=h(Qa,ra);ra.parsed=!1;ra.content=bb;ra.W=!0;}else Qa.status == F?Q(w.K.xO,Qa.status):Q(w.K.wO,Qa.status,Qa.response,P(Qa));R();}};Qa.onabort=S;Qa.onerror=function(){var bb,Ra;bb=Qa.status;"undefined" !== typeof n.config.hRa && (bb=n.config.hRa);if(0 < bb){if(bb == F)Q(w.K.xO,bb);else {try{Ra=Qa.responseText;}catch(Wa){}Q(w.K.wO,bb,Ra,P(Qa));}}else Q(w.K.zO);};kb=t.ti();f(Qa,ta,!1,K);I.bc(b.Z2,ra,!0);$a || (ma.Cp=kb,ra.n5({mediaRequest:K,timestamp:kb}));L();I.addListener(b.b3,ha);}else B.Ic(Q.bind(void 0,w.K.vO));}catch(bb){da.error("Exception starting download",bb,ya);Q(w.K.U9,void 0,u.md(bb));}else Q(w.K.Yxa);});return ra;},rd:N,f8b:function(K){var O;O=new XMLHttpRequest();K=g(K);O.open("HEAD",K);O.onreadystatechange=function(){2 == O.readyState && !1;};O.send();},WTb:function(K){var O;O=new XMLHttpRequest();K=c(K);O.open("HEAD",K);O.onreadystatechange=function(){2 == O.readyState && !1;};O.send();},JOb:function(K){var O,R,L;O=new XMLHttpRequest();R=K.url;L=K.GOb;O.open("HEAD",R);O.timeout=Math.max(2 * L.uHb,n.config.Poa);O.onreadystatechange=function(){2 == O.readyState && (!1,L && L.Yu({url:R}));};O.ontimeout=O.onerror=function(){!1;L && L.Ena({url:R});};O.send();},Idb:D};})();b.IDb=c;b.FDb=g;b.HDb=l;b.GDb=m;b.a3=p.mEa;b.JDb=d;b.Seb=f;b.Reb=h;b.Z2=1;b.HUa=2;b.IUa=3;b.b3=4;b.uka=5;b.ska=1;b.tka=2;b.US=3;F=420;lb._cad_global.http=b.qf;},function(r,b,a){var g,l;function c(){var m,d;m=this;this.Fr={};this.on=function(f,h,k){m.addListener(f,h,k);};this.addListener=function(f,h,k){m.Fr && (m.Fr[f]=m.Fr[f] || new l.yaa(!0)).add(h,k);};this.removeListener=function(f,h){m.Fr && m.Fr[f] && m.Fr[f].removeAll(h);};this.Pia=function(f){return m.Fr && m.Fr[f]?m.Fr[f].flatten():[];};d=this;this.bc=function(f,h,k){var n;if(d.Fr){n=d.Pia(f);for(f={bH:0};f.bH < n.length;(f={bH:f.bH},f.bH++)){k?(function(p){return function(){var q;q=n[p.bH];g.Ic(function(){q(h);});};})(f)():n[f.bH].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Ij=void 0;g=a(55);l=a(331);c.prototype.$g=function(){this.Fr=void 0;};b.Ij=c;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gi=void 0;c=a(0);g=a(5);l=c.__importDefault(a(28));m=c.__importDefault(a(121));d=a(407);f=a(21);r=a(39);h=a(174);k=a(245);a=a(122);n=(function(p){function q(t,u){var w;w=p.call(this,t,u) || this;q.Wa(w,t,u);return w;}c.__extends(q,p);q.Wa=function(t,u,w,v){var x;h.vt.Wa(t,u,w);t.Ag=w.index;t.vI=w.Ua;t.Tt=w.fb;t.kkb=w.mb?w.mb:u.mb;t.mG=w.mG;t.kja=v;t.GIa=! !w.Kq;t.DJa=null !== (x=w.region) && void 0 !== x?x:0;t.aIa=! !w.eia;t.FIa=! !w.Vx;t.Xd=void 0 === w.W1 || void 0 === w.oia || w.W1 === w.Ua && w.oia === w.fb?t:new k.gz(t,{Ua:w.W1,fb:w.oia});t.Hhb=w.nna;t.$eb=w.ej;t.yo=w.wa?t.SYa(w.wa):void 0;t.YJa=w.mt;t.De=!1;};q.jOa=function(t){for(var u=new Uint32Array(t.length),w=new Uint32Array(t.length),v=0,x,y,z=0;z < t.length;++z){x=t[z];y=x.yc;u[z]=x.Tt - x.vI;w[z]=y;v+=y;}return new d.Paa(u,w,t.length?t[0].U:1E3,v);};Object.defineProperties(q.prototype,{hB:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Ag;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mb:{get:function(){return this.kkb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ua:{get:function(){return this.vI;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fb:{get:function(){return this.Tt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wk:{get:function(){var t,u;return null !== (u=null === (t=this.kja) || void 0 === t?void 0:t.call(this)) && void 0 !== u?u:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kq:{get:function(){return this.GIa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.DJa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eia:{get:function(){return this.aIa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vx:{get:function(){return this.FIa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nna:{get:function(){return this.Hhb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ej:{get:function(){return this.$eb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wa:{get:function(){return this.yo;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mt:{get:function(){return this.YJa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{W1:{get:function(){return this.Xd.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oia:{get:function(){return this.Xd.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$xb:{get:function(){return this.Xd.zq;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qRa:{get:function(){return this.Xd.zoa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rK:{get:function(){return this.Xd.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{X1:{get:function(){return this.Xd.me;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pRa:{get:function(){return this.Xd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iS:{get:function(){return this.Xd.Sb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zxb:{get:function(){return this.Xd.Fb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{NA:{get:function(){var t;t=this.$xb;g.assert(t);return t / this.stream.xa.Kb;},enumerable:!1,configurable:!0}});q.prototype.oXa=function(){this.GIa=!0;};q.prototype.eTb=function(t){this.mG={Pc:t.YRa(),I3:t.ot};};q.prototype.$M=function(t){this.YJa=t;};q.prototype.bTb=function(t,u,w){this.DJa=t;this.aIa=u;this.FIa=w;};q.prototype.mh=function(t){var u,w;void 0 === t && (t={});u=this.stream.xa.Kb;w=this.yo || ({start:0,end:this.NA});t=this.SYa(t);this.Xd && this.Xd !== this || (this.Xd=new k.gz(this,this));t.start > w.start && (this.vI=this.Xd.Ua + t.start * u);t.end < w.end && (this.Tt=this.Xd.Ua + t.end * u);this.yo=t;};q.prototype.OR=function(t){void 0 === t && (t=1);this.yo?this.mh({start:this.yo.start + t,end:this.yo.end}):this.mh({start:t});};q.prototype.gha=function(t){this.yo?this.mh({start:this.yo.start,end:(this.yo.end || 0) - t}):this.mh({start:0,end:-t});};q.prototype.yPa=function(){this.mh({start:0,end:0});};q.prototype.fTb=function(t){this.yo || this.mh();this.yo.d7=t;};q.prototype.RQa=function(t){var w;if(!(t < this.V || t >= this.ta) && this.ej && this.ej.length){t=new f.S(t + 1 - this.V,1E3).wn(this.stream.xa);for(var u=this.ej.length - 1;0 <= u;--u){w=this.ej[u];if(w.Yk <= t)return w;}return {Yk:0,cd:this.iS};}};q.prototype.wxb=function(t){var w;if(!(t < this.V || t >= this.ta) && this.ej && this.ej.length){t=new f.S(t + 1 - this.V,1E3).wn(this.stream.xa);for(var u=this.ej.length - 1;0 <= u;--u){w=this.ej[u];if(w.Yk <= t)return w;}return {Yk:0,cd:this.iS};}};q.prototype.KQa=function(t,u){var w,v,x;if(!(t < this.V || t >= this.ta)){w=this.xa.Kb;v=this.xa.U;x=Math.floor(this.zq / w);t=Math.min((u?Math.ceil:Math.floor)((f.S.ona(t,v) - this.Ua + (u?-1:1) * (v / 1E3 - 1)) / w),x);w=f.S.H7(this.Ua + t * w,v);return t === x?void 0:{Yk:t,cd:w};}};q.prototype.K1=function(t){return this.mediaType === l.default.jb.Bb?this.RQa(t):this.KQa(t,!1);};q.prototype.Wha=function(t){return this.mediaType === l.default.jb.Bb?this.wxb(t):this.KQa(t,!0);};q.prototype.Wda=function(t){this.yc+=t.$;this.Tt=t.fb;this.yo && (this.Xd=new k.gz(this,{Ua:this.W1,fb:this.Tt}),this.yo.end=this.NA);};q.prototype.toString=function(){return "[" + this.Fa + ", " + this.bitrate + "kbit/s, c:" + (this.Sb + "-" + this.Fb + ",p:") + (this.Tc + "-" + this.me + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var t;t=h.vt.prototype.toJSON.call(this);m.default({index:this.index,startPts:this.V,endPts:this.ta,"contentStartTicks:":this.Ua,contentEndTicks:this.fb,contentStartPts:this.Sb,contentEndPts:this.Fb,fragmentStartPts:this.rK !== this.V?this.rK:void 0,fragmentEndPts:this.X1 !== this.ta?this.X1:void 0,edit:this.wa},t);return t;};q.prototype.QQa=function(t){var w;if(this.ej)for(var u=0;u < this.ej.length;++u){if(this.ej[u].Yk === t)w=this.ej[u].offset;}return w;};q.prototype.SYa=function(t){var u;u=t.start || 0;return {start:u,end:void 0 === t.end?this.NA:Math.min(this.NA,Math.max(u,0 > t.end?this.NA + t.end:t.end)),d7:t.d7,YTb:t.YTb};};return q;})(h.vt);b.gi=n;r.hf(a.xC,n);r.hf(a.vC,n);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.vh=b.ncb=b.no=void 0;c=a(14);b.no=b.no || (function(g,l,m){return g >= l?g <= m?g:m:l;});b.ncb=function(g,l,m,d,f){return (g - l) * (f - d) / (m - l) + d;};b.vh=function(g){if(c.pa(g))return (g / 1E3).toFixed(3);};},function(r,b,a){var g,l,m,d,f;function c(h,k,n,p,q,t){this.context=h;this.errorCode=k;this.zRb=n;this.Hpa=q;this.WZ=t;this.name=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Oh=void 0;r=a(0);g=a(1);l=a(493);m=a(4);d=a(41);f=a(36);c.prototype.send=function(h,k,n,p,q,t,u){var w;w=this;u=void 0 === u?f.Jt.XO:u;return this.Izb(h,k,n,u,p,q,t).then(function(v){return w.context.Eub.send(v.context,v.request);});};c.prototype.Izb=function(h,k,n,p,q,t,u){var w,v;try{w=this.context.YQb.create(this.context.eF.zA(),k,n,q,p);v=this.Cnb(h,p,t,u);return Promise.resolve({context:v,request:w});}catch(x){return Promise.reject(x);}};c.prototype.Cnb=function(h,k,n,p){return {qf:this.context.qf,log:h,Ik:this.name,url:this.context.XXb(l.wMa(this.context.Vg,this.context.Ih,this.name,k)),Wpa:this.zRb,timeout:m.kh(59),headers:l.vMa(this.context.Ih,this.context.DA),Gpa:this.Gpa,Hpa:void 0 !== n?n:this.Hpa,gnb:p};};c.prototype.vm=function(h){return h instanceof d.Ec?h:l.vm(this.errorCode,h);};c.prototype.TMa=function(h){var k;k=this;h.forEach(function(n){if(k.Zka(n))throw n.error;});};c.prototype.Zka=function(h){return void 0 !== h.error;};Ua.Object.defineProperties(c.prototype,{Gpa:{configurable:!0,enumerable:!0,get:function(){return this.WZ;}}});a=c;a=r.__decorate([g.O(),r.__param(0,g.Ki()),r.__param(1,g.Ki()),r.__param(2,g.Ki()),r.__param(3,g.Ki()),r.__param(4,g.Ki()),r.__param(5,g.Ki())],a);b.Oh=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wr={Request:"Request",Qaa:"Singleton",IY:"Transient"};b.Mi={nva:"ConstantValue",ova:"Constructor",Bwa:"DynamicValue",K9:"Factory",Function:"Function",Instance:"Instance",hbb:"Invalid",jEa:"Provider"};b.iw={gva:"ClassProperty",pva:"ConstructorArgument",cba:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jv="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rt="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CFa="StorageValidatorSymbol";b.fz="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.It="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lo={start:"start",stop:"stop",oT:"keepAlive",XR:"engage",splice:"splice"};b.G9="EventPboCommandFactorySymbol";b.xFa="StartEventPboCommandSymbol";b.BFa="StopEventPboCommandSymbol";b.eza="KeepAliveEventPboCommandSymbol";b.sFa="SpliceEventPboCommandSymbol";b.Ywa="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ph={audio:"audio",video:"video",F7:"timedtext",esa:"trickplay"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(236);c=a(145);b.O_b=c;c=a(400);b.zGa=c;c=a(404);b.G4b=c;b.Oaa=r.RL.Zc.sidx;r=a(899);b.wz=r.wz;r=a(244);b.TC=r.TC;r=a(903);b.Yv=r.Yv;b.wL=r.wL;r=a(904);b.g$=r.g$;r=a(83);b.Gz=r.Gz;a=a(905);b.uh=a.uh;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(144);b.Gz=function(g){c.assert("number" === typeof g);return String.fromCharCode(g >>> 24 & 255) + String.fromCharCode(g >>> 16 & 255) + String.fromCharCode(g >>> 8 & 255) + String.fromCharCode(g & 255);};b.CHa=function(g){return g.charCodeAt(3) + (g.charCodeAt(2) << 8) + (g.charCodeAt(1) << 16) + (g.charCodeAt(0) << 24);};b.h4b=function(g,l){return Math.floor(1E3 * g / l);};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.fH=b.Li=void 0;c=a(0);r=c.__importDefault(a(17));g=c.__importStar(a(8));l=r.default.sh;m=c.__importDefault(a(3));d=m.default.Wm;f=a(172);h=c.__importDefault(a(109));k=a(9);r=a(39);n=a(175);p=a(174);(function(t){t[t.$bb=0]="NOTHING_APPENDED";t[t.wcb=1]="PARTIAL";t[t.Mv=2]="COMPLETE";t[t.jf=3]="ERROR";})(q=b.Li || (b.Li={}));a=(function(t){function u(w,v,x,y,z,B,A){v=t.call(this,v,x) || this;n.wC.Wa(v,w,y,z,B,A);p.vt.Wa(v,w,y);v.nP=w.url || y.url;v.mP=y.responseType;v.aHa=y.b7;void 0 === v.mP && (v.mP=d.Rb && !d.Rb.KM.WH?0:1);v.hg=new l();v.hg.on(v,d.Rd.yBa,v.XP);v.hg.on(v,d.Rd.xBa,v.Lca);v.hg.on(v,d.Rd.zBa,v.Mca);v.hg.on(v,d.Rd.OO,v.WP);v.hg.on(v,d.Rd.XC,v.VI);v.fI=!1;v.vd=!1;v.Ug=!1;v.du=!1;v.HP=!1;v.Oca=y.sMb;v.Jm=0;return v;}c.__extends(u,t);Object.defineProperties(u.prototype,{active:{get:function(){return this.vd;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{kpa:{get:function(){return this.Ug;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{complete:{get:function(){return !this.fI && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aborted:{get:function(){return this.fI;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jla:{get:function(){return this.du && !this.HP;},enumerable:!1,configurable:!0}});u.prototype.Wa=function(w){n.wC.prototype.Wa.call(this,w);this.zc || !this.Wb.A_ && this.Ac || (this.zc=h.default.instance(),this.active && (this.zc.eG(m.default.time.ba(),{requestId:this.zo(),Fe:this.cc,type:this.mediaType}),this.Ug && (this.zc.Jpa(m.default.time.ba()),this.connect && 0 < this.ar.length && this.zc.Ow(this.ar[0]))));};u.prototype.Cs=function(){return this.De || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};u.prototype.dE=function(w,v,x,y,z,B,A){this.De=w.appendBuffer(this.response,A || k.qp(this));return {status:this.De?q.Mv:q.jf};};u.prototype.ny=function(){(this.du=d.prototype.open.call(this,this.nP,{start:this.offset,end:this.offset + this.$ - 1},this.mP,{},void 0,void 0,this.aHa)) && this.hS(this);return this.du;};u.prototype.abort=function(){var w;if(this.aborted)return !0;w=this.vd;this.zc && w && this.zc.fG(m.default.time.ba(),this.Ug,{requestId:this.zo(),Fe:this.cc,type:this.mediaType});this.fI=!0;this.Ug=this.vd=!1;d.prototype.abort.call(this);this.qK(this,w,this.jla);return !0;};u.prototype.kc=function(){7 !== this.readyState && 5 !== this.readyState && (this.u.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.hg && this.hg.clear();t.prototype.kc.call(this);};u.prototype.XP=function(){var w;w=this.yd || this.loadTime;f.Kv.instance().push(m.default.time.ba() - w);this.vd || (this.vd=!0,this.op=this.track.op(),this.stream.G.qXa || this.zc && this.zc.eG(w,{requestId:this.zo(),Fe:this.cc,type:this.mediaType}),this.RE(this),this.Km=this.yd);};u.prototype.Lca=function(){var w,v,x;w=this.yd || this.Zha;v=this.connect;x=this.ar;f.Kv.instance().push(m.default.time.ba() - w);this.vd || (this.vd=!0);this.Ug || (this.Ug=!0,this.stream.G.qXa && this.zc && this.zc.eG(w,{requestId:this.zo(),Fe:this.cc,type:this.mediaType}),this.zc && this.zc.Jpa(w),v && 0 < x.length && this.zc && this.zc.Ow(x[0]),this.MA(this),this.Km=w);};u.prototype.Mca=function(){var w,v,x;w=this;v=this.yd;x=this.bytesReceived - this.Jm;f.Kv.instance().push(m.default.time.ba() - v);this.Ug || (this.Ug=!0);this.zc && (void 0 === this.Km || this.zc.iu(x,this.Km,v,{requestId:this.zo(),Fe:this.cc,type:this.mediaType},this.Oca),this.ar && this.ar.length && this.ar.forEach(function(y){w.zc.Mw(y);}));this.SE(this);this.Km=v;this.Jm=this.bytesReceived;};u.prototype.WP=function(){var w,v,x;w=this;v=this.yd;x=this.bytesReceived - this.Jm;f.Kv.instance().push(m.default.time.ba() - v);this.zc && (0 < x && this.zc.iu(x,this.Km,v,{requestId:this.zo(),Fe:this.cc,type:this.mediaType},this.Oca),this.ar && this.ar.length && this.ar.forEach(function(y){w.zc.Mw(y);}),this.zc.fG(v,this.Ug,{requestId:this.zo(),Fe:this.cc,type:this.mediaType}));this.Ug=this.vd=!1;this.HP=!0;this.ms(this);this.Km=v;this.Jm=this.bytesReceived;this.kc();};u.prototype.zo=function(){var w,v;w=(w=this.stream)?w.toString():this.url;v=this.c0;v && (w+=",range " + v.start + "-" + v.end);return w;};u.prototype.VI=function(){var w,v,x,y;this.u.warn("AseMediaRequest._onError:",this.toString());w=this.yd;v=this.status;x=this.Dg;y=this.Bi;f.Kv.instance().push(m.default.time.ba() - w);this.complete?this.u.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.u.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):g.pa(x)?(this.zc && this.Wb && this.Wb.Cpa && this.loadTime && void 0 === v && this.zc.iu(this.Jm?this.bytesReceived - this.Jm:this.bytesReceived,this.Km?this.Km:this.loadTime,w,{requestId:this.zo(),Fe:this.cc,type:this.mediaType},this.Oca),this.V1(this)):this.u.warn("ignoring undefined request error (nativecode: " + y + ")");};return u;})(d);b.fH=a;r.hf(n.wC,a,!1);r.hf(p.vt,a,!1);},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ov="DeviceFactorySymbol";},function(r,b,a){var l,m;function c(d,f,h,k,n){var p,q,u;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(l.Tab);Reflect.aka(d,f) && (p=Reflect.getMetadata(d,f));h=p[n];if(Array.isArray(h)){q=0;for(var t=h;q < t.length;q++){u=t[q];if(u.key === k.key)throw Error(l.d$a + " " + u.key.toString());}}else h=[];h.push(k);p[n]=h;Reflect.Kga(d,p,f);}function g(d,f){return function(h,k){f(h,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});l=a(52);m=a(40);b.DG=function(d,f,h,k){c(m.OFa,d,f,k,h);};b.OV=function(d,f,h){c(m.PFa,d.constructor,f,h);};b.BA=function(d,f,h){"number" === typeof h?(d=[g(h,d)],Reflect.BA(d,f)):"string" === typeof h?Reflect.BA([d],f,h):Reflect.BA([d],f);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uya="Injector";b.uz=145152E5;b.ZO="ProfileSymbol";},function(r,b,a){var g,l;function c(m,d,f,h,k){m=void 0 === m?g.J.Zl:m;return l.Ec.call(this,m,d,f,void 0,void 0,h,l.Ec.md(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bg=void 0;g=a(2);l=a(41);ja(c,l.Ec);b.bg=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rva="DebugConfigSymbol";b.zt="DebugSymbol";},function(r,b,a){r=a(189);a="undefined" !== typeof self && "undefined" !== typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self;r="undefined" !== typeof lb && lb || "undefined" !== typeof r && r || a;b.root=r;if(!r)throw Error("RxJS could not find any global context (window, self, global)");},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pz="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ixa="EventSourceSymbol";b.L9="GlobalEventSourceSymbol";b.cX="DebugEventSourceSymbol";b.ewa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QN=b.N7a=b.L8=b.M8=void 0;(function(a){a[a.uPa=0]="downloading";a[a.Zub=1]="downloaded";a[a.De=2]="appended";a[a.buffered=3]="buffered";a[a.AM=4]="removed";a[a.M9b=5]="unused";})(b.M8 || (b.M8={}));(function(a){a[a.waiting=1]="waiting";a[a.n8b=2]="ondeck";a[a.uPa=4]="downloading";a[a.Zub=8]="downloaded";a[a.eT=6]="inprogress";})(b.L8 || (b.L8={}));b.N7a="AseBufferViewSymbol";b.QN="AseBufferAccountingSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(828),b);r.__exportStar(a(829),b);r.__exportStar(a(830),b);r.__exportStar(a(831),b);r.__exportStar(a(832),b);r.__exportStar(a(833),b);r.__exportStar(a(834),b);r.__exportStar(a(835),b);r.__exportStar(a(385),b);r.__exportStar(a(836),b);r.__exportStar(a(837),b);r.__exportStar(a(838),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hv=void 0;r=(function(){function a(c){this.Ae=c;}a.prototype.Nqa=function(c){this.Ae=c;};a.prototype.eNa=function(){this.Ae=void 0;};a.prototype.hS=function(c){return this.Ae && this.Ae.s5 && this.Ae.s5(c);};a.prototype.RE=function(c){this.Ae && this.Ae.my && this.Ae.my(c);};a.prototype.MA=function(c){this.Ae && this.Ae.cM && this.Ae.cM(c);};a.prototype.SE=function(c){this.Ae && this.Ae.dM && this.Ae.dM(c);};a.prototype.jRa=function(c){this.Ae && this.Ae.aoa && this.Ae.aoa(c);};a.prototype.ms=function(c){this.Ae && this.Ae.ck && this.Ae.ck(c);};a.prototype.V1=function(c){this.Ae && this.Ae.qU && this.Ae.qU(c);};a.prototype.qK=function(c,g,l){this.Ae && this.Ae.pU && this.Ae.pU(c,g,l);};return a;})();b.Hv=r;r.prototype.s5=r.prototype.hS;r.prototype.my=r.prototype.RE;r.prototype.cM=r.prototype.MA;r.prototype.dM=r.prototype.SE;r.prototype.ck=r.prototype.ms;r.prototype.qU=r.prototype.V1;r.prototype.pU=r.prototype.qK;r.prototype.aoa=r.prototype.jRa;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.K$="6674654e-696c-5078-6966-665374726d21";b.L$="6674654e-696c-4878-6165-6465722e7632";b.kBa="6674654e-696c-5078-6966-66496e646578";b.WX="6674654e-696c-4d78-6f6f-6653697a6573";b.VX="6674654e-696c-5378-6565-6b506f696e74";b.PBa="cedb7489-e77b-514c-84f9-7148f9882554";b.OBa="524f39a2-9b5a-144f-a244-6c427c648df4";b.J$="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(m){g.prototype.parse.call(this,m);this.pd=this.ov([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{I6b:"int32"},{U9b:"int32"},{offset:32,type:"offset"},{f6b:"int16"},{j5b:{type:"int8",Vlb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Jc=!0;return l;})(a(238).default);b.default=r;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="avc1";return l;})(r);b.B7a=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="avc2";return l;})(r);b.C7a=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="avc3";return l;})(r);b.D7a=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="avc4";return l;})(r);b.E7a=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="hvc1";return l;})(r);b.bab=a;r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="hev1";return l;})(r);b.X$a=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rz="LogMessageFactorySymbol";},function(r,b){var c;function a(g,l){var m;m=this;this.aca=[];c.forEach(function(d){(d=d(g,l)) && m.aca.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.RC=b.WAa=void 0;c=[];a.prototype.jt=function(g){var d;for(var l=[],m=this.aca.length;m--;){d=this.aca[m];d.jt(g) && l.push(d.lK);}if(l.length)return l;};b.WAa=a;b.RC=function(g){c.push(g);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b,a){var g,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.pH=b.Eb=void 0;g=a(133);l=a(41);m=a(2);c.Nia=function(d){if(d){if(d.includes(b.pH.JB))return g.Um.JB;if(d.includes("fps"))return g.Um.PE;if(d.includes(b.pH.r8))return g.Um.r8;}throw new l.Ec(m.J.s$a,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.dSa=function(d){switch(d){case g.Um.JB:return b.pH.JB;case g.Um.PE:return b.pH.PE;default:return b.pH.r8;}};b.Eb=c;c.Nt="com.microsoft.playready";c.We="com.microsoft.playready.hardware";c.PH="com.microsoft.playready.software";c.O$a="com.apple.fps.2_0";c.TGa="com.widevine.alpha";c.vdb="com.microsoft.playready.recommendation.3000";c.wdb="com.microsoft.playready.recommendation.2000";b.pH={PE:"fairplay",r8:"widevine",JB:"playready"};},function(r,b,a){var g,l,m;function c(d,f){this.Yt=f?[f]:[];this.ica="$op$" + m++;this.o=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xc=void 0;g=a(12);l=a(19);m=0;c.prototype.addListener=function(d,f){var h;h=this;l.tga(d);l.Za(0 > this.Yt.indexOf(d));d[g.fY + this.ica]=f;this.Yt=this.Yt.slice();this.Yt.push(d);this.Yt.sort(function(k,n){return h.kUb(k,n);});};c.prototype.removeListener=function(d){var f;l.tga(d);this.Yt=this.Yt.slice();0 <= (f=this.Yt.indexOf(d)) && this.Yt.splice(f,1);};c.prototype.set=function(d,f){if(this.o !== d){f={oldValue:this.o,newValue:d,xq:f};this.o=d;d=this.Yt;for(var h=d.length,k=0;k < h;k++){d[k](f);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(h){function k(n){if(d(n.newValue))return (f.removeListener(k),h(n.newValue));}if(d(f.o))return h(f.o);f.addListener(k);});};c.prototype.kUb=function(d,f){return (d[g.fY + this.ica] || 0) - (f[g.fY + this.ica] || 0);};Ua.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.xc=c;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Bz=void 0;r=a(0);a=a(1);c.prototype.format=function(g,l){var d;for(var m=1;m < arguments.length;++m){;}d=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(f,h){return "undefined" != typeof d[h]?d[h]:f;});};c.prototype.c4a=function(g){for(var l=g.length,m=new Uint16Array(l),d=0;d < l;d++){m[d]=g.charCodeAt(d);}return m.buffer;};c.prototype.f4a=function(g){return JSON.stringify(g,null,"  ");};a=r.__decorate([a.O()],c);b.Bz=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZH="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DH="LoggerSinksSymbol";},function(r){var h,k,n,p;function b(){b.Wa.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,t,u,w){var v,x;a(u);v=q.fg;if(void 0 === v)(v=q.fg=Object.create(null),q.uD=0);else {void 0 !== v.c8b && (q.emit("newListener",t,u.listener?u.listener:u),v=q.fg);x=v[t];}void 0 === x?(v[t]=u,++q.uD):("function" === typeof x?x=v[t]=w?[u,x]:[x,u]:w?x.unshift(u):x.push(u),u=void 0 === q.VP?b.Htb:q.VP,0 < u && x.length > u && !x.WYb && (x.WYb=!0,u=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"),u.name="MaxListenersExceededWarning",u.gs=q,u.type=t,u.count=x.length,console && console.warn && console.warn(u)));return q;}function g(){if(!this.VQa)return (this.target.removeListener(this.type,this.R6a),this.VQa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function l(q,t,u){q={VQa:!1,R6a:void 0,target:q,type:t,listener:u};t=g.bind(q);t.listener=u;return q.R6a=t;}function m(q){var t;t=this.fg;if(void 0 !== t){q=t[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,t,u){"function" === typeof q.on && f(q,"error",t,u);}function f(q,t,u,w){if("function" === typeof q.on){if(w.once)q.once(t,u);else q.on(t,u);}else if("function" === typeof q.addEventListener)q.addEventListener(t,function y(x){w.once && q.removeEventListener(t,y);u(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(q,t,u){return Function.prototype.apply.call(q,t,u);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,t){return new Promise(function(u,w){function v(y){q.removeListener(t,x);w(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",v);u([].slice.call(arguments));}f(q,t,x,{once:!0});"error" !== t && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.fg=void 0;b.prototype.uD=0;b.prototype.VP=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.Wa=function(){if(void 0 === this.fg || this.fg === Object.getPrototypeOf(this).fg)(this.fg=Object.create(null),this.uD=0);this.VP=this.VP || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.VP=q;return this;};b.prototype.emit=function(q){var w,v;for(var t=[],u=1;u < arguments.length;u++){t.push(arguments[u]);}w="error" === q;u=this.fg;if(void 0 !== u)w=w && void 0 === u.error;else if(!w)return !1;if(w){0 < t.length && (v=t[0]);if(v instanceof Error)throw v;t=Error("Unhandled error." + (v?" (" + v.message + ")":""));t.context=v;throw t;}u=u[q];if(void 0 === u)return !1;if("function" === typeof u)k(u,this,t);else {v=u.length;w=Array(v);for(var x=0;x < v;++x){w[x]=u[x];}for(u=0;u < v;++u){k(w[u],this,t);}}return !0;};b.prototype.addListener=function(q,t){return c(this,q,t,!1);};b.prototype.on=b.prototype.addListener;b.prototype.Z_a=function(q,t){return c(this,q,t,!0);};b.prototype.once=function(q,t){a(t);this.on(q,l(this,q,t));return this;};b.prototype.uOb=function(q,t){a(t);this.Z_a(q,l(this,q,t));return this;};b.prototype.removeListener=function(q,t){var u,w,v,x,y;a(t);w=this.fg;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === t || v.listener === t)0 === --this.uD?this.fg=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || t));else if("function" !== typeof v){x=-1;for(u=v.length - 1;0 <= u;u--){if(v[u] === t || v[u].listener === t){y=v[u].listener;x=u;break;}}if(0 > x)return this;if(0 === x)v.shift();else {for(;x + 1 < v.length;x++){v[x]=v[x + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,y || t);}return this;};b.prototype.KF=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var t,u,w;t=this.fg;if(void 0 === t)return this;if(void 0 === t.removeListener)return (0 === arguments.length?(this.fg=Object.create(null),this.uD=0):void 0 !== t[q] && (0 === --this.uD?this.fg=Object.create(null):delete t[q]),this);if(0 === arguments.length){u=Object.keys(t);for(t=0;t < u.length;++t){w=u[t];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.fg=Object.create(null);this.uD=0;return this;}u=t[q];if("function" === typeof u)this.removeListener(q,u);else if(void 0 !== u)for(t=u.length - 1;0 <= t;t--){this.removeListener(q,u[t]);}return this;};b.prototype.listeners=function(q){var t;t=this.fg;if(void 0 === t)q=[];else if((q=t[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {t=Array(q.length);for(var u=0;u < t.length;++u){t[u]=q[u].listener || q[u];}q=t;}return q;};b.listenerCount=function(q,t){return "function" === typeof q.listenerCount?q.listenerCount(t):m.call(q,t);};b.prototype.listenerCount=m;},function(r,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var t=p.length,u=0,w=d(p),v=d(q),x=0;x < t;x++){u+=p[x] * q[x];}return (u - w * v / t) / t;}return !1;}function g(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=l(p);return Math.sqrt(p);}function l(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=m(p);return d(p.map(function(t){return (t - q) * (t - q);})) / (p.length - 1);}function m(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,t){return q + t;},0):!1;}function f(p,q,t){return Math.max(Math.min(p,t),q);}function h(p,q){return "number" === typeof p?p:q;}function k(p){return 1 / (1 + Math.exp(-p));}n=a(8);r.exports={Ma:function(p,q,t){try{p.emit(q,t);}catch(u){p.Af("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",u,"Event:",t);}},wA:function(){var p,q,t;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(u,w){return u + w.byteLength;},0);t=new Uint8Array(q);p.reduce(function(u,w){t.set(new Uint8Array(w),u);return u + w.byteLength;},0);return t.buffer;},l0:f,dpb:function(p,q,t,u){return {min:f(h(p.min,q),t,u),max:f(h(p.max,q),t,u),dx:f(p.dx || 6E4,0,6E5),NMa:f(p.NMa || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),c2a:f(p.c2a || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},Wd:function(p,q){void 0 !== p && n.tMb(p).forEach(function(t){q(t[0],t[1]);});},qQa:function(p,q,t){return p.min + (p.max - p.min) * (1 - Math.pow(k(6 * (q - (p.dx + (p.NMa || 0) * (1 - t))) / (p.scale + (p.c2a || 0) * (1 - t))),p.gamma));},rwb:function(p,q){return p.min + (p.max - p.min) * Math.pow(k(6 * (q - p.dx) / p.scale),p.gamma);},z6b:d,Nyb:m,tCb:l,x6b:g,l6b:c,k6b:function(p,q){var t;if(p.length == q.length){t=c(p,q);p=g(p);q=g(q);if(0 < p && 0 < q)return t / (p * q);}return !1;},Hs:function(p,q,t){return q.lOa?q.lOa(t):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + t:t);},eSb:function(p){return p.length?"{" + p + "} ":"";},SRb:function(p,q,t){return {min:p.min * t + (1 - t) * q.min,max:p.max * t + (1 - t) * q.max,dx:p.dx * t + (1 - t) * q.dx,scale:p.scale * t + (1 - t) * q.scale,gamma:p.gamma * t + (1 - t) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),Xqa:k,qp:function(p){var q;q=p.Ka.wb.R.id;return {V:p.V,duration:p.duration,offset:p.offset,$:p.$,bitrate:p.bitrate,profile:p.profile,Ac:p.Ac,oa:q,Fa:p.Fa,cc:p.cc,location:p.location,Fh:p.Fh,Uh:p.Uh,cv:{wb:{R:{id:q}}}};}};},function(r,b,a){var l,m,d,f,h,k,n,p,q;function c(t){var u;if(!t.vda){u=t.RTa();t.bn.bE(u.default.Aa,t.Yi);t.bn.ZG(u.Bs?u.Bs.C5:void 0,u.Bs?u.Bs.sampleSize:void 0);l.hb(t.qc) || (t.vda=!0);}}function g(t,u,w){var v;this.G=w;this.Go={};this.AI=w.AI;this.VHa=new f(this.AI);this.FP=new k(!0);this.oP=new k(!1);w.$Pa && (this.WI=new n());this.reset();this.YIa=t;this.bn=u;this.AIa=m.Rn.name();this.bn.V6(this.AIa);this.pD=0;this.pP=[];m.events.on("networkchange",(function(x){this.AIa=x;this.bn.V6(x);}).bind(this));v=w.xga;v && (v={confidence:d.kf.xH,Ha:{Aa:parseInt(v,10),ei:0},ci:{Nmb:0,ei:0},As:{Nmb:0,ei:0}},this.get=function(){return v;});q=this;}l=a(8);m=a(3).default;d=a(28).default;a(9);b=a(17).EventEmitter;f=a(389).txa;h=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");k=a(862).Wwa;n=a(864).bCa;p=a(143);q=void 0;g.prototype.constructor=g;g.prototype=Object.create(b.prototype);g.instance=function(){return q;};g.reset=function(){q && q.reset();};Object.defineProperties(g.prototype,{startTime:{get:function(){return this.Ze;}},confidence:{get:function(){return this.Yi;}},pn:{get:function(){return this.pD;}},qKa:{get:function(){return this.pP;}}});g.prototype.Ufb=function(){var t,u,w,v;t=this.G;u=t.jgb.concat(t.tgb);w=t.$ba;v=this.VHa;return u.reduce(function(x,y){x[y]=v.create(y,w);return x;},{});};g.prototype.reset=function(){var t,u,w,v;t=this.G.$ba;u=this.VHa;w=this.G;this.location=null;this.Go=this.Ufb();if(this.G.cQa){v=this.G.G4a;this.Go.TVb=new p(v.numB * v.bSizeMs,v.bSizeMs);}this.FP.reset();this.oP.reset();this.Ew=u.create("respconn-ewma",t);this.uw=u.create("respconn-ewma",t);this.WI && this.WI.reset();this.Yi=d.kf.HAVE_NOTHING;this.ekb=(function(){c(this);}).bind(this);this.u_=void 0;this.Mz=this.yc=this.qc=this.Ze=null;this.Fz=this.o_=0;this.Rca=!1;w.F1a && (this.pD=0,this.pP=[]);};g.prototype.ZM=function(t){var u;u=this.Go;if(t !== this.location){l.ea(this.u_) || (clearInterval(this.u_),this.u_=void 0);l.hb(this.location) && (this.o_=0,this.Ze=null);if(!l.hb(t)){this.Yi=d.kf.HAVE_NOTHING;for(var w in u){u[w] && u[w].reset && u[w].reset();}this.Ew.reset();this.uw.reset();}l.hb(this.Ze) || (this.o_+=(l.hb(this.qc)?m.time.ba():this.qc) - this.Ze);this.qc=this.Ze=null;this.yc=0;this.location=t;this.bn.ZM(t);}};g.prototype.V6=function(t){this.bn.V6(t);};g.prototype.Lkb=function(t){this.Go.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Go.QoEEvaluator=t;};g.prototype.wQb=function(){delete this.Go.QoEEvaluator;};g.prototype.iu=function(t,u,w,v,x){var y,z;this.U3=Math.max(this.U3 || 0,w);y=this.G;z=this.Go;if(!0 === v.aH)(v=z["throughput-wssl"]) && v.add(t,u,w,!0);else if(l.ea(u))h.warn("addDataReceived called with undefined start time");else {this.WI && this.WI.iu(t,u,w,v,x);y.sgb && 10 > w - u?u=w - 10:0 === w - u && (u=w - 1);this.FP.iu(t,u,w,v);this.oP.iu(t,u,w,v);for(var B in z){z[B] && z[B].add && z[B].add(t,u,w);}this.Yi=Math.max(this.Yi,d.kf.lz);l.hb(this.Ze) && (this.Ze=u,this.qc=null,this.vda=!1,this.yc=0);l.hb(this.qc) || (u > this.qc && (this.Ze+=u - this.qc),this.qc=null,this.vda=!1);this.yc+=t;this.Yi < d.kf.Rv && (w - this.Ze > y.Fhb || this.yc > y.Ehb) && (this.Yi=d.kf.Rv);this.Yi < d.kf.xH && (w - this.Ze > y.Rib || this.yc > y.Qib) && (!this.Rca || this.Fz > y.Dhb) && (this.Yi=d.kf.xH,c(this),this.u_=setInterval(this.ekb,y.phb));l.hb(this.Mz) || (u - this.Mz > y.ZIa?this.YIa.sVa(this.Mz,u):w - u > y.ZIa && this.YIa.sVa(u,w));this.Mz=Math.max(w,this.Mz);}};g.prototype.Ow=function(t){this.Ew.add(t);this.bn.Ow(t);};g.prototype.Mw=function(t){this.uw.add(t);this.bn.Mw(t);};g.prototype.start=function(t){var u;l.hb(this.Mz) && !l.hb(this.qc) && (this.Mz=t);u=this.Go;if(this.G.kra)for(var w in u){u[w] && u[w].start && u[w].start(t);}};g.prototype.stop=function(t){var u,w;u=this.Go;for(w in u){u[w] && u[w].stop && u[w].stop(t);}this.qc=l.hb(this.qc)?t:Math.min(this.qc,t);this.Mz=null;};g.prototype.flush=function(){var t,u;t=this.Go;for(u in t){t[u] && t[u].flush && t[u].flush();}};g.prototype.fail=function(){this.Ze=null;};g.prototype.oSa=function(){var t,u;t=this.Go.entropy;if(t){u=t.Mnb();t.reset();}return u;};g.prototype.RTa=function(){var t,u,w,v,x,y,z;t=m.time.ba();u={};w=this.Go;v=this.G;x=v.Zfb;y=v.wjb;for(z in w){w[z] && w[z].get && (u[z]=w[z].get(t),"iqr" === w[z].type && (u.Bs=u[z]),"tdigest" === w[z].type && (u.Fj=u[z]),"wssl" === w[z].type && (u.aH=u[z]));}u.cdnavtp=this.FP.En();u.activecdnavtp=this.oP.En();u.default=x && u[x]?u[x]:u["throughput-ewma"];"none" !== v.oqa && "none" !== y && (u.h2a=y && u[y]?u[y]:u["throughput-sw"]);return u;};g.prototype.z2=function(){return this.WI?this.WI.z2():void 0;};g.prototype.get=function(){var t,u,w,v,x,y;t=this.RTa();u=t.default;w=this.Ew.get();v=this.uw.get();x=this.G;if(t.h2a){y=t.h2a;u=l.pa(u.Aa) && l.pa(y.Aa) && u.Aa > y.Aa && 0 < y.Aa?y:u;}t.confidence=this.Yi;t.Ha=u;!x.t1 || !u || l.hb(u.Aa) || isNaN(u.Aa) || !t.aH || l.hb(t.aH.Aa) || isNaN(t.aH.Aa) || ("max" === x.V6a?t.Ha.Aa=Math.max(t.aH.Aa,u.Aa):"sum" === x.V6a && (t.Ha.Aa+=t.aH.Aa));t.ci=w;t.As=v;this.G.cQa && (u=this.G.G4a,t.D9b=this.Go.TVb.get(u.fillS,u.fillHl));u=this.o_ + !l.hb(this.Ze)?(l.hb(this.qc)?m.time.ba():this.qc) - this.Ze:0;t.time=u;return t;};g.prototype.gCb=function(){var t,u,w;t={};u=this.get(!0);if(u.confidence && u.Ha){t.aseavtp=Number(u.Ha.Aa).toFixed(2);t.asevartp=Number(u.Ha.ei).toFixed(2);if(u.Bs){w=u.Bs.C5;!w || isNaN(w.Sk) || isNaN(w.Rk) || isNaN(w.rj) || (t.aseniqr=0 < w.rj?Number((w.Sk - w.Rk) / w.rj).toFixed(2):-1,t.aseiqr=Number(w.Sk - w.Rk).toFixed(2),t.asemedtp=Number(w.rj).toFixed(2));t.iqrsamples=u.Bs.sampleSize;}u.Fj && u.Fj.Cx && (t.tdigest=u.Fj.Cx());}return t;};g.prototype.eG=function(t,u){var w;w=u.requestId;1 === ++this.pD && (this.emit("active",t),this.start(t));w && this.pP.push(w);this.FP.eG(t,u);this.oP.eG(t,u);};g.prototype.Jpa=function(t){this.U3=Math.max(this.U3 || 0,t);};g.prototype.fG=function(t,u,w){u=w.requestId;--this.pD;this.G.F1a && (this.pD=Math.max(this.pD,0));0 === this.pD && (this.stop(t),this.emit("inactive",t));u && (u=this.pP.indexOf(u),0 <= u && this.pP.splice(u,1));this.FP.fG(t,w);this.oP.fG(t,w);};r.exports=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qz=b.dab=b.ResponseType=void 0;r=b.ResponseType || (b.ResponseType={});r[r.Text=0]="Text";r[r.$3b=1]="Xml";r[r.b_b=2]="Binary";b.dab="HttpClientSymbol";b.qz="LegacyHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nD="VideoPreparerSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fk=b.O7a=void 0;b.O7a=a;b.Fk=new a();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OC="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eaa=b.th=b.gi=void 0;b.gi=function(){};(function(a){a.cw="PRE_FETCH";a.Aaa="QC";a.Yl="STANDARD";a.AY="SUPPLEMENTAL";a.a$a="DOWNLOAD";})(b.th || (b.th={}));b.eaa="PboManifestCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.twa="DrmServicesSymbol";b.gX="DrmServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eH="ApiInfoSymbol";},function(r,b,a){var g,l,m,d,f,h;function c(k){return k.reduce(function(n,p){return n.concat(p instanceof h.KY?p.yu:p);},[]);}g=a(160);l=a(302);m=a(301);d=a(592);f=a(303);h=a(593);r=(function(){function k(n){this.closed=!1;this.gJ=this.CD=this.lq=null;n && (this.tda=n);}k.prototype.unsubscribe=function(){var n,p,q,t,u,x;n=!1;if(!this.closed){p=this.lq;q=this.CD;t=this.tda;u=this.gJ;this.closed=!0;this.gJ=this.CD=this.lq=null;for(var w=-1,v=q?q.length:0;p;){p.remove(this);p=++w < v && q[w] || null;}if(m.mc(t) && (p=d.p5a(t).call(this),p === f.JA)){n=!0;x=x || (f.JA.e instanceof h.KY?c(f.JA.e.yu):[f.JA.e]);}if(g.isArray(u))for((w=-1,v=u.length);++w < v;){p=u[w];l.Ff(p) && (p=d.p5a(p.unsubscribe).call(p),p === f.JA && (n=!0,x=x || [],p=f.JA.e,p instanceof h.KY?x=x.concat(c(p.yu)):x.push(p)));}if(n)throw new h.KY(x);}};k.prototype.add=function(n){var p;if(!n || n === k.EMPTY)return k.EMPTY;if(n === this)return this;p=n;switch(typeof n){case "function":p=new k(n);case "object":if(p.closed || "function" !== typeof p.unsubscribe)return p;if(this.closed)return (p.unsubscribe(),p);"function" !== typeof p.hHa && (n=p,p=new k(),p.gJ=[n]);break;default:throw Error("unrecognized teardown " + n + " added to Subscription.");}(this.gJ || (this.gJ=[])).push(p);p.hHa(this);return p;};k.prototype.remove=function(n){var p;p=this.gJ;p && (n=p.indexOf(n),-1 !== n && p.splice(n,1));};k.prototype.hHa=function(n){var p,q;p=this.lq;q=this.CD;p && p !== n?q?-1 === q.indexOf(n) && q.push(n):this.CD=[n]:this.lq=n;};k.EMPTY=(function(n){n.closed=!0;return n;})(new k());return k;})();b.Dz=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RH="PlayerErrorFactorySymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Os=b.ana=b.VXa=void 0;r=a(746);a=a(749);b.VXa=r;b.ana=function(c,g){return b.VXa(function(l,m){return void 0 !== m?m:l;},c,g);};b.Os=a;},function(r,b,a){var c;c=a(169);r.exports=function(g){return function d(m){return 0 === arguments.length || c(m)?d:g.apply(this,arguments);};};},function(r,b){function a(c,g){var l;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,g);Object.getOwnPropertyNames(c).forEach(function(m){l=Object.getOwnPropertyDescriptor(c,m);void 0 !== l && Object.defineProperty(g,m,l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){var d;function c(f,h){return void 0 === f?void 0:0 === f?d.S.nb:new d.S(f,h);}function g(f,h){return f && Math.floor(d.S.H7(f,h));}function l(f,h){return void 0 === f || void 0 === h?void 0:f + h;}function m(f,h){return void 0 === f || void 0 === h?void 0:f - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.vC=b.xC=void 0;d=a(21);r=(function(){function f(){}Object.defineProperties(f.prototype,{zq:{get:function(){return m(this.fb,this.Ua) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zoa:{get:function(){return l(this.Ua,this.Wk);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G_a:{get:function(){return l(this.fb,this.Wk);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{PR:{get:function(){return c(this.zq,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$c:{get:function(){return c(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hd:{get:function(){return c(this.fb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ek:{get:function(){return c(this.zoa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fh:{get:function(){return c(this.G_a,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{b6:{get:function(){return c(this.Wk,this.U);},enumerable:!1,configurable:!0}});return f;})();b.xC=r;r=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return m(this.ta,this.V) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return g(l(this.Ua,this.Wk),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ta:{get:function(){return g(l(this.fb,this.Wk),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ys:{get:function(){return g(this.Wk,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Uh:{get:function(){return g(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sb:{get:function(){return g(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fb:{get:function(){return g(this.fb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Tc:{get:function(){return g(l(this.Ua,this.Wk),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{me:{get:function(){return g(l(this.fb,this.Wk),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rx:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zy:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jv:{get:function(){return this.ta;},enumerable:!1,configurable:!0}});return f;})();b.vC=r;},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ko=void 0;c=a(0);g=c.__importDefault(a(28));l=c.__importDefault(a(3));m=a(910);r=(function(){function d(f){this.eI=f;this.oh=[];this.console=new l.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var f;if(void 0 === d.II){f=a(3).default;d.II=new d(f.oH);}return d.II;},enumerable:!1,configurable:!0}});d.reset=function(){d.II=void 0;};d.prototype.Yr=function(f,h,k,n,p,q){var t,u,w,v;t=!1;u=q.xTb?this.qxb(k,h,f,q.yTb):-1;if(-1 === u){w={track:this.fsb(k,n,f,p,q),Ss:k,H:h,u0a:f,uM:[],un:!1,VJ:!1};this.oh.push(w);v=function(){w.un=!0;w.track.removeListener("created",v);};w.track.on("created",v);t=!1;}else (t=!0,w=this.oh[u]);f=new m.GEa(this.console,w.track,w.un,t);w.uM.push(f);return f;};d.prototype.UJ=function(f){var h,k;f.Yo();h=this.L1(function(n){return n.track === f.track;});if(-1 !== h){if((h=this.oh[h],1 === h.uM.length))(h.track.Yo(),h.VJ=!0);else {k=h.uM.indexOf(f);0 <= k && h.uM.splice(k,1);}}else f.track.Yo();};d.prototype.bf=function(){this.eI.bf();};d.prototype.fsb=function(f,h,k,n,p){var q,t,u;q=this;t=!1;f?1 === k?(f=!1,h=1,p.vp?(f=!0,h=p.AL):p.Ru && 2 < p.Ru && (f=!0,h=p.Ru),f={type:this.eI.Bb,openRange:!f,pipeline:f,connections:h,socketBufferSize:p.DN,minRequestSize:p.ML}):0 === k?(t=p.vp && (p.hYb || h && p.iYb),f={type:this.eI.Pb,openRange:!t,pipeline:t,connections:1,socketBufferSize:p.R_,minRequestSize:p.ML}):f={type:p.xub?this.eI.Bb:this.eI.V$a,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.gka,minRequestSize:p.ML}:f={type:0 === k?g.default.jb.Pb:g.default.jb.Bb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === k?p.R_:p.DN,minRequestSize:p.ML};u=new this.eI(f,n);u.on("transportreport",function(w){var v;v=q.L1(function(x){return x.track === u;});-1 !== v && (v=q.oh[v],v.uM.length && v.uM[0].emit("transportreport",w));});u.on("destroyed",function(){var w;w=q.L1(function(v){return v.track === u;});-1 !== w && q.oh.splice(w,1);u.removeAllListeners();});if(t && p.gYb || p.l6a)u.on("pipelinedisabled",function(){p.l6a && 1 === u.config.type?u.k6(c.__assign(c.__assign({},u.config),{socketBufferSize:p.xJb,pipeline:!1,openRange:!0,connections:1})):u.k6(c.__assign(c.__assign({},u.config),{pipeline:!1,openRange:!0}));});return u;};d.prototype.qxb=function(f,h,k,n){return this.L1(function(p){return !p.VJ && (!n && p.track.config.q8b || !f?!p.Ss && p.u0a === k:p.Ss && p.H === h && p.u0a === k);});};d.prototype.L1=function(f){for(var h=0;h < this.oh.length;++h){if(f(this.oh[h]))return h;}return -1;};return d;})();b.ko=r;},function(r,b,a){(function(c,g){function l(m,d,f,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.E2a=this.uUb=m=this.now();this.x1=m + f;this.eNb=f;this.AOa=m + h;this.debug=!1;this.counter=this.cy=0;this.uu=1E4;this.L4a=f / 100;this.N4a=m;this.M4a=1 * this.L4a / 4;this.C7=0;this.CR="";this.Qf(m,"progress tracking start");}l.prototype.constructor=l;l.prototype.Qf=function(m,d){var f,h;f=((m - this.E2a) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;h=c.WIb();this.console.info(f + (" " + ((this.AOa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.uu)) + (" M:(" + Math.floor(h.H6b / 1024 / 1024) + " MB/" + Math.floor(h.BUa / 1024 / 1024) + " MB) ") + this.CR + d);};l.prototype.Ajb=function(m){var d;d=this.now();this.CR=m?m + ": ":m;this.cy=0;this.E2a=d;this.Qf(d,"starting");};l.prototype.ckb=function(m){var d,f;this.counter++;if(!(this.counter < this.uu)){this.counter=0;d=this.now();f=d - (this.N4a + this.L4a);this.N4a=d;this.C7=.9 * this.C7 + .1 * f;this.C7 > this.M4a?(this.uu*=.875,this.uu=Math.max(1,this.uu)):this.C7 < -this.M4a && (this.uu*=1.5,this.uu=Math.min(this.uu,1E5));if(d >= this.AOa)throw (this.Qf("Execution deadline exceeded after " + (d - this.uUb) + " ms" + this.CR),Error("Execution deadline exceeded" + this.CR));f=c.WIb();this.cy=Math.max(this.cy,f.BUa);if(7516192768 < f.BUa)throw Error("Heap total limit exceeded" + this.CR);if(!(d <= this.x1)){for(;d > this.x1;){this.x1+=this.eNb;}this.Qf(d,m);}}};l.Wa=function(m,d,f,h){g.OB=new l(m,d,f || 5E3,h || 33E5);};l.Hqa=function(m){g.OB && g.OB.Ajb(m);};l.update=function(m){g.OB && g.OB.ckb(m);};l.SSa=function(){if(g.OB)return g.OB.cy;};l.now=function(){return g.OB?g.OB.now():Date.now();};r.exports=l;}).call(this,a(433),a(189));},function(r){var b;b={$S:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,f;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function g(h){return d.ue(h);}function l(h){return d.pa(h);}function m(h){return !c(h) && !g(h) && !l(h) && !Array.isArray(h) && d.Ff(h);}d=a(8);f={BC:0,zY:1,ecb:2,cY:3,Zl:4};r.exports={Mja:function(h){return c(h)?f.BC:g(h)?f.zY:l(h)?f.ecb:m(h)?f.cY:f.Zl;},v3:c,ue:g,pa:l,Ff:m,Xp:f};},function(r,b,a){var g,l,m,d;function c(f,h,k){var n,p,u;h=g.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{kZa:h,Mr:k}));if((null === f || void 0 === f?0:f.Mr) && k)if(!0 === f.Mr)h.args=k;else {p={};h.args=p;try{for(var q=g.__values(f.Mr),t=q.next();!t.done;t=q.next()){u=t.value;p[u]=k[u];}}catch(v){var w;w={error:v};}finally{try{t && !t.done && (n=q.return) && n.call(q);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.iD=b.VTa=b.Ub=void 0;g=a(0);l=a(20);m=g.__importDefault(a(3));d=a(9);b.Ub=function(f){return function(h,k,n){var p;p=n.value;n.value=function(){var q,t,u,w,v,x;t=b.VTa(this);if(t)(u=c(f,this,arguments),w=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(k),v=t.CQ(w,u,null === f || void 0 === f?void 0:f.km));q=this.iba;this.iba=v;try{return x=null === p || void 0 === p?void 0:p.apply(this,arguments);}catch(z){var y;y=z;throw z;}finally{if((this.iba=q,v))if((v.data || (v.data={}),y))v.data.error="" + y;else if(d.kT(x))x.then(function(z){v && (null === f || void 0 === f?0:f.return) && (v.data.resolve=z);},function(z){v && (v.data.reject="" + z);});else if(null === f || void 0 === f?0:f.return)v.data.lRet=x;}};};};b.VTa=function(f){if(null === f || void 0 === f?0:f.jba)return f.jba;};r=(function(){function f(h){this.Mn=[];this.EZ=!1;this.G=g.__assign({wF:10},h);Object.defineProperties(h.av,{jba:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.G.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.EZ;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aGb:{get:function(){return g.__spread(this.Mn);},enumerable:!1,configurable:!0}});f.prototype.Lw=function(h){var k;if(!this.EZ){k=this.G.av.iba;k && (k.data=g.__assign(g.__assign({},k.data),h));}};f.prototype.CQ=function(h,k,n){var p,q,t,u;if(!this.EZ){t=!1;u=null === (q=(p=this.G).Sda) || void 0 === q?void 0:q.call(p,this.G.av);p=c({},this.G.av);k=g.__assign(g.__assign(g.__assign({},u),p),k);u=0 < Object.keys(k).length;k={methodName:h,data:u?k:void 0,time:m.default.time.ba()};n && this.Mn.length && (n=this.Mn[this.Mn.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,t=!0));this.Tpb(k);t || this.Mn.push(k);this.Mn.length > this.G.wF && this.Mn.shift();return k;}};f.prototype.Tpb=function(h){var k;l.ma && (null === (k=this.G.console) || void 0 === k?void 0:k.trace(this.G.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.G,h);};f.prototype.Gb=function(){Object.defineProperties(this.G.av,{jba:{enumerable:!1,value:null,configurable:!0}});this.EZ=!0;this.clear();};f.prototype.clear=function(){this.Mn=[];};return f;})();b.iD=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jj=void 0;r=b.Jj || (b.Jj={});r.un="created";r.vv="started";r.oN="succeeded";r.ks="failed";r.Qo="cancelled";r.qob="cancelled_on_start";r.Zea="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ft=void 0;r=b.Ft || (b.Ft={});r[r.$Zb=8]="Backspace";r[r.N3b=9]="Tab";r[r.m0b=13]="Enter";r[r.E3b=16]="Shift";r[r.y_b=17]="Ctrl";r[r.CZb=18]="Alt";r[r.Q2b=19]="PauseBreak";r[r.r_b=20]="CapsLock";r[r.o0b=27]="Escape";r[r.G3b=32]="Space";r[r.P2b=33]="PageUp";r[r.O2b=34]="PageDown";r[r.l0b=35]="End";r[r.Q0b=36]="Home";r[r.g1b=37]="LeftArrow";r[r.U3b=38]="UpArrow";r[r.$2b=39]="RightArrow";r[r.T_b=40]="DownArrow";r[r.d1b=45]="Insert";r[r.Q_b=46]="Delete";r[r.c4b=48]="Zero";r[r.s2b=49]="One";r[r.Q3b=50]="Two";r[r.O3b=51]="Three";r[r.I0b=52]="Four";r[r.G0b=53]="Five";r[r.F3b=54]="Six";r[r.D3b=55]="Seven";r[r.k0b=56]="Eight";r[r.$1b=57]="Nine";r[r.tZb=65]="A";r[r.EZb=66]="B";r[r.h_b=67]="C";r[r.e9a=68]="D";r[r.E=69]="E";r[r.p0b=70]="F";r[r.J0b=71]="G";r[r.M0b=72]="H";r[r.eab=73]="I";r[r.e1b=74]="J";r[r.e$=75]="K";r[r.kbb=76]="L";r[r.j1b=77]="M";r[r.Vbb=78]="N";r[r.m2b=79]="O";r[r.u2b=80]="P";r[r.Q=81]="Q";r[r.U2b=82]="R";r[r.Ndb=83]="S";r[r.seb=84]="T";r[r.R3b=85]="U";r[r.V3b=86]="V";r[r.X3b=87]="W";r[r.gba=88]="X";r[r.a4b=89]="Y";r[r.b4b=90]="Z";r[r.h1b=91]="LeftWindowKey";r[r.a3b=92]="RightWindowKey";r[r.B3b=93]="SelectKey";r[r.c2b=96]="Numpad0";r[r.d2b=97]="Numpad1";r[r.e2b=98]="Numpad2";r[r.f2b=99]="Numpad3";r[r.g2b=100]="Numpad4";r[r.h2b=101]="Numpad5";r[r.i2b=102]="Numpad6";r[r.j2b=103]="Numpad7";r[r.k2b=104]="Numpad8";r[r.l2b=105]="Numpad9";r[r.z1b=106]="Multiply";r[r.BZb=107]="Add";r[r.I3b=109]="Subtract";r[r.P_b=110]="DecimalPoint";r[r.S_b=111]="Divide";r[r.q0b=112]="F1";r[r.u0b=113]="F2";r[r.v0b=114]="F3";r[r.w0b=115]="F4";r[r.x0b=116]="F5";r[r.y0b=117]="F6";r[r.z0b=118]="F7";r[r.A0b=119]="F8";r[r.B0b=120]="F9";r[r.r0b=121]="F10";r[r.s0b=122]="F11";r[r.t0b=123]="F12";r[r.b2b=144]="NumLock";r[r.z3b=145]="ScrollLock";r[r.C3b=186]="SemiColon";r[r.n0b=187]="Equals";r[r.u_b=188]="Comma";r[r.N_b=189]="Dash";r[r.R2b=190]="Period";r[r.H0b=191]="ForwardSlash";r[r.P3b=192]="Tilde";r[r.t2b=219]="OpenBracket";r[r.ZZb=220]="BackSlash";r[r.t_b=221]="CloseBracket";r[r.T2b=222]="Quote";},function(r,b,a){var f;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function g(h,k){return null === h.py?!1:h.py.Yf === k?!0:g(h.py,k);}function l(h){function k(n,p){var q;void 0 === p && (p=[]);q=c(n.Yf);p.push(q);return null !== n.py?k(n.py,p):p;}return k(h).reverse().join(" --\x3e ");}function m(h){h.mfa.forEach(function(k){if(g(k,k.Yf))throw (k=l(k),Error(f.H8a + " " + k));m(k);});}function d(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});f=a(52);b.JK=c;b.CWa=function(h,k,n){var p;p="";h=n(h,k);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var t;t="Object";null !== q.yl && (t=d(q.yl));p=p + "\n " + t;q.vE.WXa && (p=p + " - " + q.vE.WXa);}));return p;};b.$ob=m;b.OGb=function(h,k){var n,p;if(k.pla() || k.hla()){n="";p=k.RAb();k=k.wzb();null !== p && (n+=p.toString() + "\n");null !== k && k.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UO="PlatformConfigDefaultsSymbol";},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.xK=b.wK=b.yK=b.YVa=b.iT=void 0;c=a(4);g=a(102);l=a(49);b.iT=function(m,d,f,h){var k,n;k=m.hMb;n=m.iMb;m=m.jMb;return k > d || k === d && n > f || k === d && n === f && (void 0 === h || m >= h);};b.YVa=function(m,d){return m.Qr >= d;};b.yK=function(){return {version:"6.0030.553.911",P4:!0,sK:!0,Qga:"browser",MOa:["en-US"],ima:"",GR:"cadmium",Hsa:!0,F_:!0,RU:!1};};b.wK=function(){return {iA:[l.de.EC,l.de.FC],Fv:[l.N.wH,l.N.DC,l.N.lO,l.N.mO,l.N.bI,l.N.cI],Qe:g.Eb.TGa,by:c.Xb(31E3)};};b.xK=function(m){return {kX:m.zn};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wwa=b.Um=void 0;r=b.Um || (b.Um={});r[r.JB=0]="playready";r[r.r8=1]="widevine";r[r.PE=2]="fairplay";r[r.f5b=3]="clearkey";b.wwa="DrmTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HO="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EY=b.oo=void 0;b.oo=function(){};b.EY="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="SystemRandomSymbol";b.vY="RandomGeneratorSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.nH=b.f$a=void 0;c=a(24);b.f$a=function(){this.iA=[];this.Fv=[];this.pea=c.xt.At;this.l8=c.li.At;};b.nH="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cP="SourceBufferTypeProviderSymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ed=void 0;g=a(24);c.qOa=function(l){var m;m={};m[g.Sd.bP]=c.vH;m[g.Sd.qX]=c.vH;m[g.Sd.aI]=c.nO;m[g.Sd.Sv]=c.Sv;m[g.Sd.xr]=l || c.xr;m[g.Sd.tC]=c.vH;m[g.Sd.lD]=c.jP;m[g.Sd.nk]=c.nk;return m;};b.Ed=c;c.vH="avc1.640028";c.nO="hev1.1.6.L93.B0";c.RW="dvhe.05.01";c.q9="dvhe.05.04";c.r9="dvhe.05.05";c.s9="dvhe.05.06";c.t9="dvhe.05.07";c.u9="dvhe.05.09";c.xr=c.RW;c.Sv=c.nO;c.xW="mp4a.40.2";c.dI="mp4a.40.42";c.f9a="ec-3";c.jP="vp09.00.11.08.02";c.nk="av01.0.04M.08";c.Z8a=[c.u9,c.t9,c.s9,c.r9,c.q9,c.RW];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KO="MslProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HY=void 0;b.fq={OH:"PRIMARY",Ysa:"ASSISTIVE",Fua:"COMMENTARY",NONE:"NONE"};b.HY={assistive:b.fq.Ysa,closedcaptions:b.fq.Ysa,directorscommentary:b.fq.Fua,commentary:b.fq.Fua,subtitles:b.fq.OH,primary:b.fq.OH,none:b.fq.NONE};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Vl=void 0;c=a(0).__importDefault(a(3));g=a(108);r=(function(){function l(m){this.u=new c.default.Console("ASEJS","media|asejs","(" + m + ")");this.Eca=[];}l.prototype.lp=function(m){this.Eca[m] || (this.Eca[m]=g.Hs(c.default,this.u,"[" + m + "]"));return this.Eca[m];};return l;})();b.Vl=new r(0);},function(r,b,a){function c(g,l){this.jJ=g;this.dj=Math.floor((g + l - 1) / l);this.gd=l;this.reset();}a(5);c.prototype.shift=function(){this.wd.shift();this.gu.shift();};c.prototype.bv=function(g){return this.BMa(this.wd[g],g);};c.prototype.update=function(g,l){this.wd[g]=(this.wd[g] || 0) + l;};c.prototype.push=function(){this.wd.push(0);this.gu.push(0);this.ab+=this.gd;};c.prototype.add=function(g,l,m){var d,f,h;if(null === this.ab){d=Math.max(Math.floor((m - l + this.gd - 1) / this.gd),1);for(this.ab=l;this.wd.length < d;){this.push();}}for(;this.ab <= m;){this.push();this.wd.length > this.dj && this.shift();}if(null === this.Ym || l < this.Ym)this.Ym=l;if(l > this.ab - this.gd)this.update(this.wd.length - 1,g);else if(l == m)(d=this.wd.length - Math.max(Math.ceil((this.ab - m) / this.gd),1),0 <= d && this.update(d,g));else for(d=1;d <= this.wd.length;++d){f=this.ab - d * this.gd;h=f + this.gd;if(!(f > m)){if(h < l)break;this.update(this.wd.length - d,Math.round(g * (Math.min(h,m) - Math.max(f,l)) / (m - l)));}}for(;this.wd.length > this.dj;){this.shift();}};c.prototype.start=function(g){null === this.Ym && (this.Ym=g);null === this.ab && (this.ab=g);};c.prototype.stop=function(g){var l,m;if(null !== this.ab)if(g - this.ab > 10 * this.jJ)this.reset();else {for(;this.ab <= g;){this.push();this.wd.length > this.dj && this.shift();}l=this.wd.length - Math.ceil((this.ab - this.Ym) / this.gd);m=this.wd.length - Math.ceil((this.ab - g) / this.gd);if(0 <= m)if((0 > l && (this.Ym=this.ab - this.gd * this.wd.length,l=0),l === m))this.gu[l]+=g - this.Ym;else if(m > l)for((this.gu[l]+=(this.ab - this.Ym) % this.gd,this.gu[m]+=this.gd - (this.ab - g) % this.gd,g=l + 1);g < m;++g){this.gu[g]=this.gd;}this.Ym=null;}};c.prototype.BMa=function(g,l){l=this.wia(l);return 0 === l?null:8 * g / l;};c.prototype.wia=function(g){var l;l=this.gu[g];null !== this.Ym && (g=this.ab - (this.wd.length - g - 1) * this.gd,g > this.Ym && (l=g - this.Ym <= this.gd?l + (g - this.Ym):this.gd));return l;};c.prototype.get=function(g,l){var m,d;m=this.wd.map(this.BMa,this);if("last" === g)for(g=0;g < m.length;++g){null === m[g] && (m[g]=0 < g?m[g - 1]:0);}else if("average" === g){l=1 - Math.pow(.5,1 / ((l || 2E3) / this.gd));for(g=0;g < m.length;++g){null === m[g]?m[g]=Math.floor(d || 0):d=void 0 !== d?l * m[g] + (1 - l) * d:m[g];}}return m;};c.prototype.reset=function(){this.jca || (this.wd=[],this.gu=[],this.Ym=this.ab=null);};c.prototype.setInterval=function(g){this.dj=Math.floor((g + this.gd - 1) / this.gd);};r.exports=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new g(m || "Assertion failed");};},function(r){var c,g;function b(){var l,m;if(DataView.prototype && DataView.prototype.KS && !g){try{l=new ArrayBuffer(4);m=new DataView(l);m.MK(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.MK(1,2,2);}catch(d){DataView.prototype.MK=a(DataView.prototype.MK,DataView.prototype.getUint8,Uint8Array);DataView.prototype.G2=a(DataView.prototype.G2,DataView.prototype.getUint16,Uint16Array);DataView.prototype.KS=a(DataView.prototype.KS,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Wia=a(DataView.prototype.Wia,DataView.prototype.getInt8,Int8Array);DataView.prototype.Uia=a(DataView.prototype.Uia,DataView.prototype.getInt16,Int16Array);DataView.prototype.Via=a(DataView.prototype.Via,DataView.prototype.getInt32,Int32Array);}c.pCb=function(d,f,h,k,n){return h?d.MK(f,h,k || 1,n):new Uint8Array(0);};c.nCb=function(d,f,h,k,n){return h?d.G2(f,h,k || 2,n):new Uint16Array(0);};c.oCb=function(d,f,h,k,n){return h?d.KS(f,h,k || 4,n):new Uint32Array(0);};c.p6b=function(d,f,h,k,n){return h?d.Wia(f,h,k || 1,n):new Int8Array(0);};c.n6b=function(d,f,h,k,n){return h?d.Uia(f,h,k || 2,n):new Int16Array(0);};c.o6b=function(d,f,h,k,n){return h?d.Via(f,h,k || 4,n):new Int32Array(0);};g=!0;}}function a(l,m,d){return function(f,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(f + h * k > this.byteLength){p=new d(h);p.set(l.call(this,f,h - 1,k,n));p[h - 1]=m.call(this,f + (h - 1 * k),n);return p;}return l.call(this,f,h,k,n);};}c={MK:function(l,m,d,f,h){var k;k=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint8(m,h);}return k;},G2:function(l,m,d,f,h){var k;k=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint16(m,h);}return k;},KS:function(l,m,d,f,h){var k;k=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint32(m,h);}return k;},Wia:function(l,m,d,f,h){var k;k=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt8(m,h);}return k;},Uia:function(l,m,d,f,h){var k;k=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt16(m,h);}return k;},Via:function(l,m,d,f,h){var k;k=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt32(m,h);}return k;},Y5b:b};g=!1;c.Fzb=function(){return g;};b();r.exports=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(239);r=(function(){function l(m,d,f){this.tag=m;this.view=d;this.L=f;this.startOffset=f.offset;}l.B0a=function(m,d){var f,h;f=m.Pd();h=m.wPb();m=new (g.TJ[f] || l)(f,m.xzb(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.L.offset=this.startOffset + this.length;this.L.GF=0;return !0;};l.prototype.LQa=function(m){var d;d=[];this.tag === m && d.push(this);if(this.TJ)for(var f=0;f < this.TJ.length;f++){d=c.__spreadArrays(d,this.TJ[f].LQa(m));}return d;};l.prototype.LA=function(m){for(m=this.LQa(m);0 < m.length;){return m[0];}};l.prototype.yJa=function(){for(this.TJ=[];this.L.offset < this.startOffset + this.length;){this.TJ.push(l.B0a(this.L,this));}};return l;})();b.x9=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.vk=b.Maa=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.$0a=1]="relative";})(g=b.Maa || (b.Maa={}));m=(function(){function d(f,h){this.type=f;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + g[this.type];};Object.defineProperties(d,{nb:{get:function(){l || (l=new d(g.$0a,c.S.nb));return l;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.FN=function(f){return new m(g.absolute,f);};Object.defineProperties(d,{UYb:{get:function(){return m.nb;},enumerable:!1,configurable:!0}});d.GN=function(f){return new m(g.$0a,f);};d.Osa=new m(g.absolute,c.S.Kx);return d;})();b.vk=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Wu,minHCInitVideoBitrate:a.fna,maxInitVideoBitrate:a.dy,minInitAudioBitrate:a.ST,maxInitAudioBitrate:a.FT,minHCInitAudioBitrate:a.RT,minAcceptableVideoBitrate:a.B4,minRequiredBuffer:a.TT,minPrebufSize:a.pj,minCheckBufferingCompleteInterval:a.ena,rebufferingFactor:a.jpa,useMaxPrebufSize:a.Dsa,maxPrebufSize:a.rB,maxRebufSize:a.Nma,maxBufferingTime:a.Qq,minAudioMediaRequestSizeBytes:a.C4,minVideoMediaRequestSizeBytes:a.I4,initialBitrateSelectionCurve:a.k3,initSelectionLowerBound:a.cVa,initSelectionUpperBound:a.dVa,throughputPercentForAudio:a.A7,bandwidthMargin:a.yea,bandwidthMarginContinuous:a.zea,bandwidthMarginCurve:a.Aea,conservBandwidthMargin:a.Ofa,switchConfigBasedOnInSessionTput:a.Era,conservBandwidthMarginTputThreshold:a.oR,conservBandwidthMarginCurve:a.Pfa,switchAlgoBasedOnHistIQR:a.q4a,switchConfigBasedOnThroughputHistory:a.eC,maxPlayerStateToSwitchConfig:a.Mma,lowEndMarkingCriteria:a.mma,IQRThreshold:a.Y9,histIQRCalcToUse:a.qka,maxTotalBufferLevelPerSession:a.Js,highWatermarkLevel:a.EUa,toStableThreshold:a.Y4a,toUnstableThreshold:a.J7,skipBitrateInUpswitch:a.bra,watermarkLevelForSkipStart:a.Rsa,highStreamRetentionWindow:a.jka,lowStreamTransitionWindow:a.nma,highStreamRetentionWindowUp:a.lka,lowStreamTransitionWindowUp:a.pma,highStreamRetentionWindowDown:a.kka,lowStreamTransitionWindowDown:a.oma,highStreamInfeasibleBitrateFactor:a.ika,lowestBufForUpswitch:a.Yx,lockPeriodAfterDownswitch:a.d4,lowWatermarkLevel:a.rma,lowestWaterMarkLevel:a.Zx,lowestWaterMarkLevelBufferRelaxed:a.sma,mediaRate:a.Xma,maxTrailingBufferLen:a.p4,audioBufferTargetAvailableSize:a.MQ,videoBufferTargetAvailableSize:a.hW,maxVideoTrailingBufferSize:a.LXa,maxAudioTrailingBufferSize:a.tXa,fastUpswitchFactor:a.G1,fastDownswitchFactor:a.Nha,maxMediaBufferAllowed:a.ey,simulatePartialBlocks:a.$qa,simulateBufferFull:a.o3a,considerConnectTime:a.Qfa,connectTimeMultiplier:a.Nfa,lowGradeModeEnterThreshold:a.TWa,lowGradeModeExitThreshold:a.UWa,maxDomainFailureWaitDuration:a.xXa,maxAttemptsOnFailure:a.sXa,exhaustAllLocationsForFailure:a.tQa,maxNetworkErrorsDuringBuffering:a.DXa,maxBufferingTimeAllowedWithNetworkError:a.k4,fastDomainSelectionBwThreshold:a.BQa,throughputProbingEnterThreshold:a.E4a,throughputProbingExitThreshold:a.F4a,locationProbingTimeout:a.IWa,finalLocationSelectionBwThreshold:a.HQa,throughputHighConfidenceLevel:a.C4a,throughputLowConfidenceLevel:a.D4a,locationStatisticsUpdateInterval:a.ama,enablePerfBasedLocationSwitch:a.aQa,probeServerWhenError:a.Ws,probeRequestTimeoutMilliseconds:a.Poa,allowSwitchback:a.Pw,probeDetailDenominator:a.YF,maxDelayToReportFailure:a.l4,countGapInBuffer:a.VNa,bufferThresholdForAbort:a.nMa,allowCallToStreamSelector:a.TKa,pipelineScheduleTimeoutMs:a.poa,maxPartialBuffersAtBufferingStart:a.fy,minPendingBufferLen:a.gna,maxPendingBufferLen:a.qB,maxPendingBufferLenSABCell100:a.n4,maxActiveRequestsSABCell100:a.i4,maxStreamingSkew:a.Oma,maxPendingBufferPercentage:a.Kma,maxRequestsInBuffer:a.CL,headerRequestSize:a.U2,minBufferLenForHeaderDownloading:a.QT,reserveForSkipbackBufferMs:a.HM,numExtraFragmentsAllowed:a.Hna,pipelineEnabled:a.vp,maxParallelConnections:a.AL,socketReceiveBufferSize:a.x3a,audioSocketReceiveBufferSize:a.R_,videoSocketReceiveBufferSize:a.DN,headersSocketReceiveBufferSize:a.gka,updatePtsIntervalMs:a.Z7,bufferTraceDenominator:a.Jea,bufferLevelNotifyIntervalMs:a.jE,aseReportDenominator:a.HQ,aseReportIntervalMs:a.jea,enableAbortTesting:a.wvb,abortRequestFrequency:a.rkb,streamingStatusIntervalMs:a.vra,prebufferTimeLimit:a.vy,minBufferLevelForTrackSwitch:a.D4,penaltyFactorForLongConnectTime:a.ioa,longConnectTimeThreshold:a.kma,additionalBufferingLongConnectTime:a.Qda,additionalBufferingPerFailure:a.Rda,rebufferCheckDuration:a.PU,enableLookaheadHints:a.YPa,lookaheadFragments:a.QWa,enableOCSideChannel:a.sx,OCSCBufferQuantizationConfig:a.dY,updateDrmRequestOnNetworkFailure:a.L5a,deferAseScheduling:a.QOa,maxDiffAudioVideoEndPtsMs:a.wXa,useHeaderCache:a.zN,useHeaderCacheData:a.q1,defaultHeaderCacheSize:a.V0,defaultHeaderCacheDataPrefetchMs:a.U0,headerCacheMaxPendingData:a.eka,neverWipeHeaderCache:a.HF,headerCachePriorityLimit:a.xUa,enableUsingHeaderCount:a.oha,networkFailureResetWaitMs:a.sna,networkFailureAbandonMs:a.rna,maxThrottledNetworkFailures:a.o4,throttledNetworkFailureThresholdMs:a.z7,lowThroughputThreshold:a.qma,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Iha,mp4ParsingInNative:a.rYa,sourceBufferInOrderAppend:a.z3a,requireAudioStreamToEncompassVideo:a.Ey,allowAudioToStreamPastVideo:a.SKa,enableManagerDebugTraces:a.Ch,managerDebugMessageInterval:a.gXa,managerDebugMessageCount:a.fXa,bufferThresholdToSwitchToSingleConnMs:a.Iea,bufferThresholdToSwitchToParallelConnMs:a.Hea,netIntrStoreWindow:a.VJb,minNetIntrDuration:a.sJb,fastHistoricBandwidthExpirationTime:a.Owb,bandwidthExpirationTime:a.Rmb,failureExpirationTime:a.Lwb,historyTimeOfDayGranularity:a.zDb,expandDownloadTime:a.ywb,minimumMeasurementTime:a.DJb,minimumMeasurementBytes:a.CJb,throughputMeasurementTimeout:a.QVb,initThroughputMeasureDataSize:a.rEb,throughputMeasureWindow:a.PVb,throughputIQRMeasureWindow:a.OVb,IQRBucketizerWindow:a.fbb,connectTimeHalflife:a.Spb,responseTimeHalflife:a.tRb,historicBandwidthUpdateInterval:a.yDb,throughputWarmupTime:a.UVb,minimumBufferToStopProbing:a.BJb,throughputPredictor:a.RVb,ase_stream_selector:a.$lb,enableFilters:a.Avb,filterDefinitionOverrides:a.fxb,defaultFilter:a.Ftb,secondaryFilter:a.$Rb,defaultFilterDefinitions:a.Gtb,initBitrateSelectorAlgorithm:a.Nka,bufferingSelectorAlgorithm:a.Nea,ase_ls_failure_simulation:a.DOa,ase_dump_fragments:a.uga,ase_location_history:a.wga,ase_throughput:a.xga,ase_simulate_verbose:a.FOa,secondThroughputEstimator:a.oqa,secondThroughputMeasureWindowInMs:a.g2a,marginPredictor:a.Dma,networkMeasurementGranularity:a.tna,HistoricalTDigestConfig:a.gya,maxIQRSamples:a.AXa,minIQRSamples:a.eYa,periodicHistoryPersistMs:a.E5,saveVideoBitrateMs:a.F6,needMinimumNetworkConfidence:a.YT,biasTowardHistoricalThroughput:a.Dea,maxFastPlayBufferInMs:a.Hma,maxFastPlayBitThreshold:a.Gma,headerCacheTruncateHeaderAfterParsing:a.yUa,minAudioMediaRequestDuration:a.JL,minVideoMediaRequestDuration:a.OL,minAudioMediaRequestDurationCache:a.JL,minVideoMediaRequestDurationCache:a.OL,addHeaderDataToNetworkMonitor:a.A_,hindsightDenominator:a.pka,hindsightDebugDenominator:a.oka,hindsightParam:a.Y2,minimumTimeBeforeBranchDecision:a.Sq,enableSessionHistoryReport:a.VR,earlyStageEstimatePeriod:a.kha,lateStageEstimatePeriod:a.vWa,maxNumSessionHistoryStored:a.m4,minSessionHistoryDuration:a.H4,appendMediaRequestOnComplete:a.hLa,waitForDrmToAppendMedia:a.p8,forceAppendHeadersAfterDrm:a.R1,startMonitorOnLoadStart:a.kra,reportFailedRequestsToNetworkMonitor:a.Cpa,reappendRequestsOnSkip:a.DPb,maxActiveRequestsPerSession:a.Ru,limitAudioDiscountByMaxAudioBitrate:a.Vla,appendFirstHeaderOnComplete:a.bea,maxAudioFragmentOverlapMs:0,editVideoFragments:a.GPa,declareBufferingCompleteAtSegmentEnd:a.zga,applyProfileTimestampOffset:a.gA,applyProfileStreamingOffset:a.Oj,requireDownloadDataAtBuffering:a.s6,requireSetupConnectionDuringBuffering:a.t6,recordFirstFragmentOnSubBranchCreate:a.lpa,earlyAppendSingleChildBranch:a.m1,selectStartingVMAFMethod:a.OM,activateSelectStartingVMAF:a.yQ,minStartingVideoVMAF:a.NL,minAcceptableVMAF:a.PT,minAllowedVmaf:a.BF,alwaysNotifyEOSForPlaygraph:a.Zda,enableNewAse:a.LE,useNewApi:a.mC,enableDiscontiguousBuffering:a.p1,useBufferSizeLimiter:a.Csa,enableHudsonFieldTest:a.r1,hudsonTitles:a.VS,maxPartialBuffersAtHudson:a.Jma,numberOfChunksPerSegment:a.eU,targetContentLatency:a.y7,targetLongContentLatency:a.Hra,minimumTimeDelay:a.K4,enableWsslEstimate:a.t1,maxAllowedOutstandingRequests:a.j4,alwaysRunUnderflowTimer:a.nJ,minStreamableConcurrencyWindow:a.hna,streamableConcurrencyFactor:a.tra,bufferingConcurrencyWindow:a.aR,singleStreamablePerBranch:a.cUb,enableResolutionVMAFStreamFilter:a.s1,resolutionVMAFCappingRuleList:a.y6,percentCapTitlesForResolutionVMAFStreamFilter:a.koa,useExitZones:a.dW};};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.THb=b.d_a=b.EMb=b.ZRa=b.NMb=b.rC=b.u8=b.ur=b.MN=b.LN=b.Hj=void 0;c=a(22);g=a(19);b.Hj="$attributes";b.LN="$children";b.MN="$name";b.ur="$text";b.u8="$parent";b.rC="$sibling";b.NMb=/^\s*<\?xml.*\?>/i;b.ZRa=function(l,m,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(m=arguments[f++]) && (l=l[m]);){;}return l;};b.EMb=function(l,m){var d;l?d=c.ke(l[b.ur]):void 0 !== m && (d=m);g.BR(d);return d;};b.d_a=function(l,m){var d;l?d=l[b.ur]:void 0 !== m && (d=m);g.BOa(d);return d;};b.THb=function(l,m){var d;d={};d[b.Hj]=l;d[b.ur]=m;return d;};},function(r){function b(m,d){return m.some(function(f){return f.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(g).reduce(l,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function g(m){return m.duration;}function l(m,d){return m + d;}r.exports={Cpb:function(m,d,f){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (f.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},hga:function(m,d,f){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.$Lb;h.originY=m.aMb;h.sizeX=m.dUb;h.sizeY=m.eUb;h.imageData=d;h.id=m.fF;h.rootContainerExtentX=f.CRb;h.rootContainerExtentY=f.DRb;return h;},Mia:function(m,d){return "o_" + m + "s_" + d;},xYb:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},vc:function(m){return "undefined" !== typeof m;},Z8b:b,M5b:a,vS:function(m,d){var f,h;f=Object.create({});for(h in m){f[h]=m[h];}m instanceof Error && (f.message=m.message,f.stack=m.stack);f.errorString=d;return f;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},OUa:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},jVb:function(m,d){for(var f=d.entries.length,h,k=0;k < f;k++){if((h=d.entries[k],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},kVb:function(m,d,f){for(var h=f.entries.length,k,n,p=0;p < h;p++){k=f.entries[p];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},KNa:function(m){return m.map(function(d,f){d.duration+=a(m.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},Cja:function(m){return m.reduce(function(d,f){return d + f.entries.reduce(function(h,k){return k.zka + h;},0);},0);},Mub:function(m,d){return m && m.mv <= d && m.zp >= d;},$zb:function(m){if(m)return m.endTime;},xAb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WO="PlaygraphConfigSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(1133),b);r.__exportStar(a(1134),b);},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Wh=void 0;c=a(12);g=a(11);r=a(2);l=a(19);m=a(6);d=a(452);f=a(10);h=a(31);k=a(32);n=m.fa.get(h.Pg);n.register(r.J.X9,function(p){var q,t,u,w;q=m.fa.get(k.uk);l.Za(g.config);l.Za(f.$v && f.$v.getDeviceId || f.XX || q.sK);t=m.fa.get(d.dwa);u=m.Dh("Device");n.zd("devs");w=m.fa.get(k.yz);t.create({deviceId:g.config.deviceId,sK:q.sK,YOa:"deviceid",Xh:g.config.Xh,zn:w.kX,GR:q.GR,userAgent:f.Yp,dma:g.config.dma,Kia:g.config.Kia,oub:w.m9 || !1,Fmb:g.config.NLa.e,nub:w.E_b || !1,Y7b:g.config.xu?"mslstoretest":"mslstore"}).then(function(v){b.Wh=v;lb._cad_global.device=b.Wh;u.info("Esn source: " + b.Wh.Cha);n.zd("devdone");p(c.ze);}).catch(function(v){v.W=void 0;p(v);});});},function(r,b,a){var g,l,m;function c(d,f,h,k,n){f=m.Oh.call(this,d,f,k,l.ki.events,n,l.ki.events + "/" + h) || this;f.context=d;f.swb=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Rp=void 0;r=a(0);g=a(1);l=a(47);m=a(74);a(180);ja(c,m.Oh);c.prototype.bf=function(d,f){var h,k;h=this;k=this.b0(f);!1;!1;return this.send(d,f.href,k).then(function(){return f;}).catch(function(n){throw h.vm(n);});};c.prototype.ip=function(d,f,h){var k,n;k=this;n=this.b0(h);!1;!1;return this.send(d,f.xS("events").href,n).then(function(p){f.Lda(p.result.links);return h;}).catch(function(p){throw k.vm(p);});};c.prototype.b0=function(d){return {event:this.swb,xid:d.ca,position:d.position || 0,clientTime:d.iR,sessionStartTime:d.lV,mediaId:d.DL,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Enb(d.yU),sessionParams:d.Zn,mdxControllerEsn:d.Rma};};c.prototype.Qea=function(d){return {downloadableId:d.Ld,duration:d.duration};};c.prototype.Enb=function(d){var f;f={total:d.total,audio:d.audio.map(this.Qea),video:d.video.map(this.Qea),text:d.text.map(this.Qea)};d.total !== d.LG && (f.totalContentTime=d.LG);return f;};a=c;a=r.__decorate([g.O(),r.__param(0,g.Ki()),r.__param(1,g.Ki()),r.__param(2,g.Ki()),r.__param(3,g.Ki()),r.__param(4,g.Ki())],a);b.Rp=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A;function c(E){var D,F;D=this;this.createPlayer=function(C,G){var H;G=void 0 === G?{}:G;G="number" === typeof G?{lk:G}:G;H=d.fa.get(z.GO);H=G.manifest?H.create(G.manifest):void 0;C=d.fa.get(t.nY).Esb(C);return D.pOa(C,G,H);};this.createPlaygraphPlayer=function(C,G,H){var J;J=d.fa.get(z.GO);H=H?J.create(H):void 0;return D.pOa(y.xdb.encode(C),G,H);};this.closeAllPlayers=function(C){m.paa(void 0 === C?function(){}:C);};this.init=function(C){C=void 0 === C?function(){}:C;D.tJ.yT(function(G){G.W?(l.config.O6?D.rSb().then(function(){g.bDa();}).catch(function(H){d.log.error("Unable to initialize the playdata services",H);}):Promise.resolve()).then(function(){Object.assign(D,c.KQ);C(Object.assign({success:!0},c.KQ));}):C({success:!1,error:d.yDa(G.errorCode || h.J.rya,G)});});};this.applyConfig=function(C){D.O5a(C);l.Mfa(C);};this.prepare=function(C,G){var H;C=D.U_a.cub(C) || [];H=new Set();C=C.filter(function(J){var I;I=H.has(J.H);H.add(J.H);return !I;});if(l.config.Us && D.ed)try{D.ed.oM(C,G);}catch(J){d.log.warn("Prepare call failed",J);}};this.ppmUpdate=function(C){lb._cad_global.playerPredictionModel?(C=D.U_a.eub(C)) && lb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){d.AK().HV().then(function(G){return C(G.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){d.AK().IV().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){d.AK().FV().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){d.AK().u7().then(function(G){return C(G.result);}).catch(function(){return C(!1);});};this.close=function(){};this.deviceThroughput=function(){var C;C=d.fa.get(n.bY).$fa();return C?Promise.resolve(C.En()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var C;C=d.fa.get(n.bY).$fa();return C?Promise.resolve(C.XAb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.Rvb;};this.O5a(E);d.fa.get(A.rta);this.U_a=d.fa.get(f.dDa);this.tJ=d.fa.get(w.Pg);F=d.fa.get(B.ZCa).apply();l.HNa([E],F);this.ed=d.fa.get(u.nD);d.AK().IV();}Object.defineProperty(b,"__esModule",{value:!0});b.lP=void 0;g=a(280);l=a(11);m=a(59);d=a(6);f=a(484);h=a(2);k=a(35);n=a(267);p=a(183);q=a(525);t=a(185);u=a(111);w=a(31);v=a(528);x=a(18);y=a(152);z=a(170);B=a(296);A=a(461);c.prototype.O5a=function(E){d.fa.get(k.CO).XIb(E);};c.prototype.rSb=function(){return d.fa.get(p.lY)().catch(function(E){d.log.error("Unable to initialize the playdata services",E);throw E;}).then(function(E){return E.send(Infinity);}).catch(function(E){d.log.error("Unable to send deferred playdata",E);});};c.prototype.pOa=function(E,D,F){var C,G,H,J;D=void 0 === D?{}:D;G=d.fa.get(x.ud);H=d.fa.get(q.GDa);J=d.fa.get(v.SDa);H=H.create(E);E=H.m2();G=G.Tb();D=Object.assign(Object.assign({startPts:D.playbackState && D.playbackState.currentTime || E.Zb,uiPlayStartTime:Date.now()},D),{endPts:null !== (C=E.Mc) && void 0 !== C?C:void 0,isPlaygraph:!0});C=J.create(G,H);C.addEpisode({movieId:E.aa,playbackParams:D,manifest:F});return C;};b.lP=c;c.KQ={};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hz="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.uja=function(){return this.buffer.length - this.position;};a.prototype.Ay=function(){return this.buffer[this.position++];};a.prototype.vj=function(c){var g;g=this.position;this.position+=c;return this.PFb(this.buffer)?this.buffer.subarray(g,this.position):this.buffer.slice(g,this.position);};a.prototype.PFb=function(c){return void 0 !== c.subarray;};a.prototype.Ap=function(c){for(var g=0;c--;){g=256 * g + this.buffer[this.position++];}return g;};a.prototype.epa=function(c){for(var g="";c--;){g+=String.fromCharCode(this.buffer[this.position++]);}return g;};a.prototype.Kg=function(){return this.Ap(2);};a.prototype.Bp=function(){return this.Ap(4);};a.prototype.xM=function(){return this.Ap(8);};a.prototype.nv=function(c){for(var g,l="";c--;){g=this.Ay();l+=("0123456789ABCDEF")[g >>> 4] + ("0123456789ABCDEF")[g & 15];}return l;};a.prototype.fpa=function(c){for(var g=0,l=0;l < c;l++){g+=this.Ay() << (l << 3);}return g;};a.prototype.wM=function(){return this.fpa(4);};a.prototype.uW=function(c){this.KN(c,2);};a.prototype.ez=function(c){this.KN(c,4);};a.prototype.t8=function(c){this.buffer[this.position++]=c;};a.prototype.KN=function(c,g){this.position+=g;for(var l=1;l <= g;l++){this.buffer[this.position - l]=c & 255;c=Math.floor(c / 256);}};a.prototype.dz=function(c){for(var g=0;g < c.length;g++){this.buffer[this.position++]=c.charCodeAt(g);}};a.prototype.tW=function(c){for(var g=c.length,l=0;l < g;l++){this.buffer[this.position++]=c[l];}};a.prototype.JN=function(c,g){this.tW(c.vj(g));};a.prototype.U6a=function(c){c=new a(c);for(var g,l;;){if((g=c.uja(),l=g >>> 14))(l=Math.min(4,l),this.t8(192 | l),this.JN(c,16384 * l));else {128 > g?this.t8(g):this.KN(g | 32768,2);this.JN(c,g);break;}}};a.prototype.y0a=function(){var l;for(var c=[],g=new a(c);;){l=this.Ay();if(l & 128){if(128 == (l & 192))(l&=63,l=(l << 8) + this.Ay(),g.JN(this,l));else if((l&=63,0 < l && 4 >= l)){g.JN(this,16384 * l);continue;}else throw Error("bad asn1");}else g.JN(this,l);break;}return new Uint8Array(c);};return a;})();b.gO=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MW="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xEa="ReportSyncSymbol";b.vEa="ReportApiErrorSyncSymbol";b.xxa="FtlProbeConfigSymbol";b.zxa="FtlProbeSymbol";},function(r,b){b.isArray=Array.isArray || (function(a){return a && "number" === typeof a.length;});},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(){g.apply(this,arguments);}c(l,g);l.prototype.g5=function(m,d){this.destination.next(d);};l.prototype.tKb=function(m){this.destination.error(m);};l.prototype.Yu=function(){this.destination.complete();};return l;})(a(66).so);b.hY=r;},function(r,b,a){var c,g,l,m,d,f,h,k;c=a(91);g=a(310);l=a(311);m=a(302);d=a(23);f=a(204);h=a(606);k=a(203);b.r7=function(n,p,q,t){var u;u=new h.Vya(n,q,t);if(u.closed)return null;if(p instanceof d.fd){if(p.vw)(u.next(p.value),u.complete());else return (u.bo=!0,p.subscribe(u));}else if(g.uVa(p)){n=0;for(q=p.length;n < q && !u.closed;n++){u.next(p[n]);}u.closed || u.complete();}else {if(l.kT(p))return (p.then(function(w){u.closed || (u.next(w),u.complete());},function(w){return u.error(w);}).then(null,function(w){c.root.setTimeout(function(){throw w;});}),u);if(p && "function" === typeof p[f.iterator]){p=p[f.iterator]();do {n=p.next();if(n.done){u.complete();break;}u.next(n.value);if(u.closed)break;}while(1);}else if(p && "function" === typeof p[k.observable]){if((p=p[k.observable](),"function" !== typeof p.subscribe))u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return p.subscribe(new h.Vya(n,q,t));}else (p="You provided " + (m.Ff(p)?"an invalid object":"'" + p + "'") + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(p)));}return null;};},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(m){g.call(this);this.Qa=m;}c(l,g);l.create=function(m){return new l(m);};l.Ic=function(m){m.ik.complete();};l.prototype.kn=function(m){var d;d=this.Qa;if(d)return d.dd(l.Ic,0,{ik:m});m.complete();};return l;})(a(23).fd);b.lX=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gP="TimeoutMonitorFactorySymbol";},function(r,b,a){var g,l,m,d;function c(f,h,k,n){var p;p=m.bO.call(this,f,h,g.uh.KGa,n) || this;p.config=f;p.Ai=h;p.is=k;p.s4=n;p.type=g.li.At;p.lW=d.Ed.qOa();return p;}Object.defineProperty(b,"__esModule",{value:!0});b.Sp=void 0;g=a(24);l=a(49);m=a(350);r=a(104);d=a(139);new r.Bz();ja(c,m.bO);c.prototype.wv=function(){return Promise.resolve(!1);};c.prototype.Eq=function(){return Promise.resolve("");};c.prototype.p2=function(){return Promise.resolve("");};c.prototype.HV=function(){return this.config().mha?this.s4.cla()?this.s4.mK(l.N.yH).then(function(f){return {result:f,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.u7=function(){return this.config().mha?this.s4.cla()?this.s4.mK(l.N.fO).then(function(f){return {result:f,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.IV=function(){return Promise.resolve(!1);};c.prototype.FV=function(){return Promise.resolve(!1);};c.prototype.uK=function(f){return this.lW[f];};c.prototype.Jda=function(){};c.prototype.iXa=function(f){switch(f){case g.Oi.LC:return "1.4";case g.Oi.Gt:return "2.2";}};c.prototype.BE=function(){var f;f={};f[l.N.wH]="avc1.4D401E";f[l.N.DC]="avc1.4D401F";f[l.N.O9]="avc1.4D4028";f[l.N.Qxa]="hev1.2.6.L90.B0";f[l.N.Rxa]="hev1.2.6.L93.B0";f[l.N.Sxa]="hev1.2.6.L120.B0";f[l.N.Txa]="hev1.2.6.L123.B0";f[l.N.tO]="hev1.2.6.L150.B0";f[l.N.uO]="hev1.2.6.L153.B0";f[l.N.yX]="hev1.2.6.L90.B0";f[l.N.AX]="hev1.2.6.L93.B0";f[l.N.CX]="hev1.2.6.L120.B0";f[l.N.EX]="hev1.2.6.L123.B0";f[l.N.Ixa]="hev1.2.6.L90.B0";f[l.N.Jxa]="hev1.2.6.L93.B0";f[l.N.Kxa]="hev1.2.6.L120.B0";f[l.N.Lxa]="hev1.2.6.L123.B0";f[l.N.Mxa]="hev1.2.6.L150.B0";f[l.N.Nxa]="hev1.2.6.L153.B0";f[l.N.oO]="hev1.2.6.L90.B0";f[l.N.pO]="hev1.2.6.L93.B0";f[l.N.yH]="hev1.2.6.L120.B0";f[l.N.qO]="hev1.2.6.L123.B0";f[l.N.rO]="hev1.2.6.L150.B0";f[l.N.sO]="hev1.2.6.L153.B0";f[l.N.rX]="hev1.2.6.L90.B0";f[l.N.sX]="hev1.2.6.L93.B0";f[l.N.tX]="hev1.2.6.L120.B0";f[l.N.uX]="hev1.2.6.L123.B0";f[l.N.vX]="hev1.2.6.L150.B0";f[l.N.wX]="hev1.2.6.L153.B0";f[l.N.SW]=d.Ed.RW;f[l.N.UW]=d.Ed.q9;f[l.N.fO]=d.Ed.r9;f[l.N.XW]=d.Ed.s9;f[l.N.ZW]=d.Ed.t9;f[l.N.aX]=d.Ed.u9;f[l.N.TW]=d.Ed.RW;f[l.N.VW]=d.Ed.q9;f[l.N.WW]=d.Ed.r9;f[l.N.YW]=d.Ed.s9;f[l.N.$W]=d.Ed.t9;f[l.N.bX]=d.Ed.u9;f[l.N.Gxa]="avc1.640016";f[l.N.lO]="avc1.64001E";f[l.N.mO]="avc1.64001F";f[l.N.N9]="avc1.640028";f[l.N.LY]=d.Ed.jP;f[l.N.bI]=d.Ed.jP;f[l.N.cI]=d.Ed.jP;f[l.N.kP]=d.Ed.jP;f[l.N.bta]=d.Ed.nk;f[l.N.cta]=d.Ed.nk;f[l.N.dta]=d.Ed.nk;f[l.N.fta]=d.Ed.nk;f[l.N.gta]=d.Ed.nk;f[l.N.hta]=d.Ed.nk;f[l.N.ita]=d.Ed.nk;f[l.N.jta]=d.Ed.nk;return f;};c.prototype.nTa=function(f){return f || this.config().Fv;};c.prototype.GK=function(){return Promise.resolve(void 0);};c.prototype.A2=function(){return Promise.resolve(void 0);};c.prototype.uR=function(f){var h;h=[];this.is.Uf(f) && h.push(this.iXa(f));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:h,isHdcpEngaged:! !h.length}];};b.Sp=c;c.TG="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fcb="NativeLocalStorageSymbol";b.lBa="NativeLocalStorageFactorySymbol";b.oya="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nya="IDBDatabaseFactorySymbol";b.Rya="IndexedDBFactorySymbol";b.a$="IndexedDBStorageFactorySymbol";},function(r,b,a){var c,g,l;c=a(120);g=a(54);l=a(169);r.exports=function(m){return function n(f,h,k){switch(arguments.length){case 0:return n;case 1:return l(f)?n:g(function(p,q){return m(f,p,q);});case 2:return l(f) && l(h)?n:l(f)?g(function(p,q){return m(p,h,q);}):l(h)?g(function(p,q){return m(f,p,q);}):c(function(p){return m(f,h,p);});default:return l(f) && l(h) && l(k)?n:l(f) && l(h)?g(function(p,q){return m(p,q,k);}):l(f) && l(k)?g(function(p,q){return m(p,h,q);}):l(h) && l(k)?g(function(p,q){return m(f,p,q);}):l(f)?c(function(p){return m(p,h,k);}):l(h)?c(function(p){return m(f,p,k);}):l(k)?c(function(p){return m(f,h,p);}):m(f,h,k);}};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GO="ManifestFactorySymbol";},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.nEa=b.yY=b.r2=void 0;c=a(46);g=a(2);b.r2=function(l){return l === c.Cc.qk.Pb?g.K.eAa:g.K.fAa;};b.yY=50;b.nEa=1E3;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Kv=void 0;c=a(230);g=a(5);r=(function(){function l(m){this.config=m;this.reset();}l.instance=function(){g.assert(void 0 !== l.II);return l.II;};l.Rpb=function(m){l.II=new l(m);};l.prototype.push=function(m){this.Fj && this.Fj.push(m);};l.prototype.bb=function(){if(this.Fj)return (this.Fj.ix(),this.Fj.Ci([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};l.prototype.reset=function(){this.config.bQa && this.config.d$ && (this.Fj=new c.J3b(this.config.d$.c,this.config.d$.maxc));};return l;})();b.Kv=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(30);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.L.offset+=8;this.Fob=this.L.Jh();this.NRb=this.L.Jh();this.L.offset+=4;this.samplerate=this.L.Jh();this.L.offset+=2;g.ma && this.L.console.trace("MP4AudioSampleEntry: channelcount: " + this.Fob + ", samplesize: " + this.NRb + ", samplerate: " + this.samplerate);return d;};m.Jc=!1;return m;})(a(238).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.vt=void 0;a(5);r=(function(){function c(g,l){c.Wa(this,g,l);}c.Wa=function(g,l,m){g.Kc=l;g.yc=m.$;g.se=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{$:{get:function(){return this.yc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.se;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{M:{get:function(){return this.Kc.M;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{H:{get:function(){return this.Kc.H;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Kc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Fa:{get:function(){return this.Kc.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Kc.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Kc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.Kc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{QL:{get:function(){return this.Kc.QL;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{xa:{get:function(){return this.Kc.xa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.H,streamId:this.Fa,offset:this.offset,bytes:this.$};};return c;})();b.vt=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wC=void 0;c=a(0);g=c.__importDefault(a(28));l=c.__importDefault(a(3));r=(function(m){function d(f,h,k,n,p){var q;q=m.call(this,k) || this;q.Vda=!1;d.Wa(q,f,h,k,n,p);return q;}c.__extends(d,m);d.Wa=function(f,h,k,n,p,q){f.Ae=n;f.A1a=h;f.Wb=p;f.KIa=h.location || k.location;f.kQ=h.Nc || k.cc;f.Eqa=h.Eqa || k.Eqa;f.D7=l.default.time.ba();f.u=q;};Object.defineProperties(d.prototype,{console:{get:function(){return this.u;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.KIa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cc:{get:function(){return this.kQ;},enumerable:!1,configurable:!0}});d.prototype.Wa=function(f){this.Ka=f;};d.prototype.X6=function(f,h){this.KIa=f;this.kQ=h;};d.prototype.Zca=function(f){var h,k,n;h={type:"logdata",target:"endplay",fields:{}};k=this.mediaType === g.default.jb.Pb?"audioedit":"videoedit";n=[this.rK === this.V?this.Fb:this.Sb,this.rK === this.V?-this.duration:this.duration];f && f.Gp && n.push(f.Gp);h.fields[k]={type:"array",value:n};return h;};d.prototype.b8=function(){var f,h;if(this.complete)return 0;f=this.A1a;h=f.M;return f.url?this.url === f.url || (h.X6(this,f.location,f.Nc),this.KV(f.url))?0:(this.u.warn("swapUrl failed: ",this.OE),2):(this.u.warn("updateurl, missing url for streamId:",f.Fa,"mediaRequest:",this,"stream:",f),1);};return d;})(a(96).Hv);b.wC=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Waa=b.gl=void 0;c=a(147);(function(l){l[l.pending=0]="pending";l[l.bV=1]="running";l[l.complete=2]="complete";l[l.VJ=3]="destroyed";})(g=b.gl || (b.gl={}));r=(function(){function l(m){this.name=m;this.Td=g.pending;}Object.defineProperties(l.prototype,{state:{get:function(){return this.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{PEb:{get:function(){return this.Td === g.pending || this.Td === g.bV;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Mg:{get:function(){return this.aA;},enumerable:!1,configurable:!0}});l.prototype.lmb=function(m){var d;null === (d=this.aA) || void 0 === d?void 0:d.ypa(this);this.aA=m;};l.prototype.SB=function(){this.Td=g.bV;this.bf();this.Y4() === c.vk.Osa && (this.Td=g.complete);};l.prototype.Gb=function(){var m;this.Td=g.VJ;null === (m=this.aA) || void 0 === m?void 0:m.ypa(this);};return l;})();b.Waa=r;},function(r,b,a){var l,m,d,f,h,k,n,p;function c(q){return q && "function" === typeof q.$g?!0:!1;}function g(q){return c(q) && (q=typeof q.cFb,"boolean" === q || "undefined" === q)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.d9a=b.Dwb=b.bFb=b.L7a=b.AsyncIterator=void 0;l=a(0);m=a(20);d=l.__importDefault(a(3)).default.Promise;h=(function(){function q(t){var u;u=this;this.Vgb=t;this.NP=!1;this.Uib=function(w){return u.NOb(w);};this.ZNa();}q.YFb=function(t,u){function w(){var v;v=t.next();v.then(function(x){g(t) && t.cFb || u(x);});v.then(function(x){return !x.done && w();});}w();};Object.defineProperties(q.prototype,{Px:{get:function(){return this.NP;},enumerable:!1,configurable:!0}});q.Szb=function(){return new k([]);};q.Ija=function(){f || (f=d.resolve({done:!0}));return f;};Object.defineProperties(q.prototype,{aL:{get:function(){return this.Dr || !1;},enumerable:!1,configurable:!0}});q.prototype.$g=function(){this.cancel();};q.prototype.cancel=function(){this.lJa();this.Dr=!0;return this.Aba;};q.prototype.next=function(){return this.Dr?this.Aba:d.race([this.Aba,this.Vgb()]).then(this.Uib);};q.prototype.NOb=function(t){t.done && (this.NP=!0,this.$g());this.aL || (this.lJa(),this.ZNa());return t;};q.prototype.ZNa=function(){var t;t=this;this.Aba=new d(function(u){t.lJa=function(){u({done:!0});};});};return q;})();b.AsyncIterator=h;k=(function(q){function t(u){var w;w=q.call(this,function(){return w.TAb();}) || this;w.Lo=u;w.index=0;return w;}l.__extends(t,q);t.prototype.$g=function(){c(this.Lo) && this.Lo.$g();q.prototype.$g.call(this);};t.prototype.TAb=function(){return this.Lo.length > this.index?d.resolve({value:this.Lo[this.index++],done:!1}):d.resolve({done:!0});};return t;})(h);b.L7a=k;b.bFb=c;b.Dwb=g;n=(function(q){function t(u,w,v){var x;x=q.call(this,function(){return x.vna();}) || this;x.console=w;x.yk=v;x.Toa=!1;Array.isArray(u)?x.YP=new k(u):x.YP=u;return x;}l.__extends(t,q);t.prototype.POb=function(u){var w;this.Toa=!1;w=this.console;m.ma && w && w.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.KI)return (c(u) && u.$g(),h.Ija());Array.isArray(u)?this.yk=new k(u):this.yk=u;return this.vna();};t.prototype.OOb=function(u){var w;w=this.console;m.ma && w && w.trace("CompoundIterator: processNextInnerResult",this.KI,u.done);if(!u.done || this.KI)return u;this.yk=void 0;return this.vna();};t.prototype.$g=function(){var u;u=this.console;m.ma && u && u.trace("CompoundIterator: dispose");this.KI=!0;q.prototype.$g.call(this);c(this.YP) && this.YP.$g();c(this.yk) && this.yk.$g();};t.prototype.toString=function(){return "CompoundIterator " + this.KI + " " + this.YP + " " + this.yk;};t.prototype.vna=function(){var u,w;u=this;w=this.console;m.ma && w && w.trace("CompoundIterator: nextImpl");if(this.yk)return (m.ma && w && w.trace("CompoundIterator: getNextInner"),this.yk.next().then(function(v){return u.OOb(v);}));this.Toa=!0;m.ma && w && w.trace("CompoundIterator: getNextOuter");return this.YP.next().then(function(v){return u.POb(v);});};return t;})(h);b.d9a=n;b.map=function(q,t,u){return new p(q,t,u);};p=(function(q){function t(u,w,v){var x;x=q.call(this,function(){return x.Hgb();}) || this;x.source=u;x.Cma=w;x.Mpb=v;return x;}l.__extends(t,q);t.prototype.$g=function(){c(this.source) && this.source.$g();q.prototype.$g.call(this);};t.prototype.Hgb=function(){var u,w,v;u=this.Mpb;w=this.Cma;v=this.source;m.ma && u && u.trace("MappedIterator: Requesting next");return v.next().then(function(x){return x.done?x:w(x.value);});};return t;})(h);b.flatten=function(q,t,u){return new n(q,t,u);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(945);c=a(421);a=a(947);b.default={STARTING:a.n2a,BUFFERING:r.L6,REBUFFERING:r.L6,PLAYING:c.uv,PAUSED:c.uv};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HK=b.hH=void 0;c=a(961);g=a(962);l=a(254);Object.defineProperties(b,{hH:{enumerable:!0,get:function(){return l.hH;}}});b.HK=function(m,d){switch(m.Dma){case "manifold":return new c.yAa(m,d);default:return new g.nFa(m,d);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v9=void 0;(b.v9 || (b.v9={})).odb="PboDebugEvent";b.Sva={Pbb:"Manifest",Event:"Event",i1b:"Logblob"};},function(r,b,a){var g,l;function c(m){switch(m){case g.K.wO:return "http";case g.K.yO:return "connectiontimeout";case g.K.GC:return "readtimeout";case g.K.bya:return "corruptcontent";case g.K.mz:return "abort";case g.K.zO:case g.K.U9:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.xja=b.lja=b.jja=void 0;g=a(2);l=a(10);b.jja=c;b.lja=function(m,d){m={errorcode:m + (d.errorCode || g.J.Zl)};d.ka && (m.errorsubcode=d.ka);d.Oe && (m.errorextcode=d.Oe);d.yha && (m.erroredgecode=d.yha);d.gb && (m.errordetails=d.gb);d.hj && (m.httperr=d.hj);d.ZT && (m.aseneterr=d.ZT);d.fK && (m.errordata=d.fK);d.MT && (m.mediaerrormessage=d.MT);(d=c(Number(d.ka))) && (m.nwerr=d);return m;};b.xja=function(){return {screensize:l.Lt.width + "x" + l.Lt.height,screenavailsize:l.Lt.availWidth + "x" + l.Lt.availHeight,clientsize:lb.innerWidth + "x" + lb.innerHeight};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FO="LicenseProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MCa="PboPlaydataServicesSymbol";b.lY="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.uH=b.dzb=void 0;c=a(11);g=a(112);l=a(486);b.dzb=function(m,d,f,h){var k,n;n=m.cz;n=null === (k=null === n || void 0 === n?void 0:n[0].streams) || void 0 === k?void 0:k[0].pR;k=c.nR(f.sd);n=c.u0(! !m.Ro,!1,n);k=g.Fk.Wb.Wo(Object.assign(Object.assign({},k),n));d=l.Oja(d,l.cPa);return {H:h,priority:0,r6b:function(){return {la:m,og:!1,jA:m.OOa[0].jA};},config:k,IJb:f.IJb,Eea:d};};b.uH=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nY="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.z9=b.lwa=void 0;b.lwa=function(){this.Pb=0;this.Bb=1;this.V$a=2;this.bf=function(){};};b.z9="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vb=void 0;b.Vb=a;a.Rd={yBa:"mr1",xBa:"mr2",zBa:"mr3",OO:"mr4",pcb:"mr5",XC:"mr6"};a.pc={UNSENT:0,OPENED:1,gw:2,ew:3,DONE:5,tH:6,PN:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.jX={NO_ERROR:-1,L9a:0,Hva:1,X9a:2,P9a:3,O8a:4,Kua:5,Iua:6,P8a:7,Q8a:8,R8a:9,L8a:10,N8a:11,Jua:12,M8a:13,K8a:14,Z$a:15,$xa:16,Zxa:17,R9:18,T9:19,S9:20,cya:21,aab:22,IX:23,aya:24,$$a:25,S9a:26,M9a:27,Zdb:28,C9a:29,D9a:30,E9a:31,F9a:32,G9a:33,H9a:34,I9a:35,J9a:36,K9a:37,N9a:38,O9a:39,Q9a:40,R9a:41,T9a:42,U9a:43,V9a:44,W9a:45,Y9a:46,Z9a:47,Ydb:48,TIMEOUT:49,Wxa:50,Xxa:51,Y$a:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Rb={KM:{k7a:!0,WH:!1,acb:!0}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mY="PboPublisherSymbol";},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof lb && (b=lb);}r.exports=b;},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.IC=void 0;c=/^\S+$/;a.prototype.FE=function(g){return void 0 !== g;};a.prototype.Uf=function(g){return null !== g && void 0 !== g;};a.prototype.oJ=function(g){return a.XKa(g);};a.prototype.Cda=function(g){return !(!g || !a.XKa(g));};a.prototype.Qw=function(g){return Array.isArray(g);};a.prototype.YKa=function(g){return !(!g || g.constructor != Uint8Array);};a.prototype.Sh=function(g,l,m){return a.mKa(g,l,m);};a.prototype.Bda=function(g){return a.Bda(g);};a.prototype.$da=function(g,l,m){return a.H_(g,l,m) && 0 === g % 1;};a.prototype.DQ=function(g,l,m){return a.H_(g,l || 0,m);};a.prototype.tQ=function(g){return a.H_(g,1);};a.prototype.pkb=function(g){return a.H_(g,0,255);};a.prototype.qkb=function(g){return g === +g && (0 === g || g !== (g | 0)) && !0;};a.prototype.ZKa=function(g){return !(!g || !c.test(g));};a.prototype.Io=function(g){return a.nKa(g);};a.prototype.nn=function(g){return !(!a.nKa(g) || !g);};a.prototype.sQ=function(g){return !0 === g || !1 === g;};a.prototype.w_=function(g){return "function" == typeof g;};a.nKa=function(g){return "string" == typeof g;};a.mKa=function(g,l,m){return "number" == typeof g && !isNaN(g) && isFinite(g) && (void 0 === l || g >= l) && (void 0 === m || g <= m);};a.Bda=function(g){return "number" == typeof g && isNaN(g);};a.H_=function(g,l,m){return a.mKa(g,l,m) && 0 === g % 1;};a.XKa=function(g){return "object" == typeof g;};b.IC=new a();},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.ad=void 0;r=a(1);c=a(88);g=a(566);l=a(197);m=a(582);d=a(589);f=a(662);a=a(1230);b.ad=new r.PW({sG:!0});f.EWa(b.ad);b.ad.load(g.platform);b.ad.load(m.config);l.ZJ.load(d.IPa);b.ad.load(a.dLa);b.ad.load(a.profile);b.ad.bind(c.Uya).Mh(b.ad);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(193);r=(function(){function g(l){this.ac=l;}g.prototype.Zu=function(l){this.ac.Zu=l;return new c.Z8(this.ac);};return g;})();b.IW=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);a(294);r=(function(){function g(l){this.ac=l;}g.prototype.when=function(l){this.ac.vE=l;return new c.IW(this.ac);};g.prototype.qW=function(){this.ac.vE=function(l){return null !== l.target && !l.target.hla() && !l.target.pla();};return new c.IW(this.ac);};return g;})();b.Z8=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Iv=void 0;b.Iv=a;a.ndb="PSK";a.ybb="MGK";a.bza="JWEJS_RSA";a.OX="JWK_RSA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kaa="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Taa="StringUtilsSymbol";},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.ZJ=b.eme=void 0;r=a(1);c=a(115);g=a(297);l=a(198);m=a(199);d=a(577);f=a(578);h=a(79);k=a(134);n=a(579);p=a(158);q=a(580);b.eme=new r.Qc(function(t){t(g.pwa).to(l.owa).Z();t(m.g9).to(d.Rua).Z();t(c.gX).TV(f.n0a);t(h.It).jC(function(u){b.ZJ.parent=u.eb;return b.ZJ.get(h.It);});t(k.HO).sf(function(){return function(){return new n.OAa();};});t(p.MW).to(q.Tua).Z;});b.ZJ=new r.PW({sG:!0});},function(r,b,a){function c(){}function g(l){l?(this.active=!1,this.sia(l)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.owa=b.fX=void 0;r=a(0);a=a(1);g.prototype.sia=function(l){this.Yd=l.keySessionData?l.keySessionData.map(function(m){return {id:m.id,sF:m.licenseContextId,xT:m.licenseId};}):[];this.ca=l.xid;this.H=l.movieId;};g.prototype.yv=function(){return JSON.parse(JSON.stringify({keySessionData:this.Yd?this.Yd.map(function(l){return {id:l.id,licenseContextId:l.sF,licenseId:l.xT};}):[],xid:this.ca,movieId:this.H}));};b.fX=g;c.prototype.create=function(){return new g();};c.prototype.load=function(l){return new g(l);};a=r.__decorate([a.O()],c);b.owa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.g9="CachedDrmDataSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(23),b);r.__exportStar(a(304),b);r.__exportStar(a(596),b);r.__exportStar(a(201),b);r.__exportStar(a(117),b);a(603);a(607);a(610);a(614);a(617);a(620);a(622);a(625);a(629);a(632);a(633);a(639);a(641);a(643);a(645);a(646);a(652);},function(r,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(r,b,a){r=a(91).root.Symbol;b.jG="function" === typeof r && "function" === typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber";b.sZb=b.jG;},function(r,b,a){function c(g){var l;l=g.Symbol;"function" === typeof l?l.observable?g=l.observable:(g=l("observable"),l.observable=g):g="@@observable";return g;}r=a(91);b.A6b=c;b.observable=c(r.root);b.rZb=b.observable;},function(r,b,a){function c(g){var l,d;l=g.Symbol;if("function" === typeof l)return (l.iterator || (l.iterator=l("iterator polyfill")),l.iterator);if((l=g.Set) && "function" === typeof new l()["@@iterator"])return "@@iterator";if(g=g.Map){l=Object.getOwnPropertyNames(g.prototype);for(var m=0;m < l.length;++m){d=l[m];if("entries" !== d && "size" !== d && g.prototype[d] === g.prototype.entries)return d;}}return "@@iterator";}r=a(91);b.s9b=c;b.iterator=c(r.root);b.qZb=b.iterator;},function(r,b){b.H3=function(a){return a && "function" === typeof a.dd;};},function(r,b,a){var c,g,l,m;c=this && this.__extends || (function(d,f){function h(){this.constructor=d;}for(var k in f){f.hasOwnProperty(k) && (d[k]=f[k]);}d.prototype=null === f?Object.create(f):(h.prototype=f.prototype,new h());});r=a(23);g=a(315);l=a(163);m=a(205);a=(function(d){function f(h,k){d.call(this);this.Lo=h;(this.Qa=k) || 1 !== h.length || (this.vw=!0,this.value=h[0]);}c(f,d);f.create=function(h,k){return new f(h,k);};f.of=function(){var n;for(var h=[],k=0;k < arguments.length;k++){h[k - 0]=arguments[k];}k=h[h.length - 1];m.H3(k)?h.pop():k=null;n=h.length;return 1 < n?new f(h,k):1 === n?new g.UEa(h[0],k):new l.lX(k);};f.Ic=function(h){var k,n,p;k=h.Lo;n=h.index;p=h.ik;n >= h.count?p.complete():(p.next(k[n]),p.closed || (h.index=n + 1,this.dd(h)));};f.prototype.kn=function(h){var k,n,p;k=this.Lo;n=k.length;p=this.Qa;if(p)return p.dd(f.Ic,0,{Lo:k,index:0,count:n,ik:h});for(p=0;p < n && !h.closed;p++){h.next(k[p]);}h.complete();};return f;})(r.fd);b.J8=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vv='video/mp4; codecs="avc1.640028"';b.FH='audio/mp4; codecs="mp4a.40.5"';b.l$a="DrmTraitsSymbol";},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u,w,v,x,y,z){this.XT=u;this.is=w;this.tc=v;this.Dd=x;this.$o=y;this.ph=z;m.On(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Pt=void 0;r=a(0);l=a(1);m=a(53);d=a(2);f=a(34);h=a(25);k=a(89);n=a(26);p=a(33);q=a(65);a=a(77);c.prototype.Ax=function(){if(this.Ya)return this.Ya.sessionId;};c.prototype.XQb=function(u,w){return this.XT.requestMediaKeySystemAccess(u,w);};c.prototype.createMediaKeys=function(u,w){return w.createMediaKeys();};c.prototype.createSession=function(u,w){this.Ya=u.createSession(w);};c.prototype.G0=function(){return Promise.reject(new k.bg(d.J.iX));};c.prototype.GFb=function(){return ! !this.Ya;};c.prototype.setServerCertificate=function(u,w){return this.is.w_(u.setServerCertificate)?u.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(u,w){return this.Ya?this.Ya.generateRequest(u,w[0]):Promise.reject(new k.bg(d.J.iX,d.K.rH,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(u){return this.Ya?this.Ya.update(u[0]):Promise.reject(new k.bg(d.J.Kwa,d.K.rH,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(u){return this.Ya?this.Ya.load(u):Promise.reject(new k.bg(d.J.u$a,d.K.rH,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var u;this.Afa=void 0;if(!this.Ya)return Promise.reject(new k.bg(d.J.Cwa,d.K.rH,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.Ax() && (u=this.Ya.close());this.Ya=void 0;return u;};c.prototype.remove=function(){return this.Ya?this.Ya.remove():Promise.reject(new k.bg(d.J.v$a,d.K.rH,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.bG=function(){return Promise.reject(new k.bg(d.J.B9,void 0,"Unable to renew a key session, not supported"));};c.prototype.CKa=function(u){if(!this.Ya)throw ReferenceError("Unable to add message handler, key session is not valid");this.Ya.addEventListener(g.Owa,u);};c.prototype.yKa=function(u){if(!this.Ya)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Ya.addEventListener(g.Nwa,u);};c.prototype.wKa=function(u){if(!this.Ya)throw ReferenceError("Unable to add error handler, key session is not valid");this.Ya.addEventListener(g.Mwa,u);};c.prototype.Gkb=function(u){var w;w=this;if(!this.Ya)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Afa=u;this.Ya.closed.then(function(){var v;return null === (v=w.Afa) || void 0 === v?void 0:v.call(w);});};c.prototype.h1a=function(u){if(!this.Ya)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Ya.removeEventListener(g.Owa,u);};c.prototype.e1a=function(u){if(!this.Ya)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Ya.removeEventListener(g.Nwa,u);};c.prototype.c1a=function(u){if(!this.Ya)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Ya.removeEventListener(g.Mwa,u);};t=g=c;t.Owa="message";t.Nwa="keystatuseschange";t.Mwa="error";t=g=r.__decorate([l.O(),r.__param(0,l.l(f.KH)),r.__param(1,l.l(h.xf)),r.__param(2,l.l(p.Nh)),r.__param(3,l.l(n.yf)),r.__param(4,l.l(q.Dt)),r.__param(5,l.l(a.Rt))],t);b.Pt=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oD="_ANY_";b.axa="EnricherSymbol";},function(r,b,a){var g,l,m;function c(d,f,h,k){this.Ia=d;this.Zw=f;this.Rm=h;this.tn=void 0 === k?"General":k;this.Cfa={};}Object.defineProperty(b,"__esModule",{value:!0});b.CH=void 0;g=a(7);l=a(338);m=a(691);c.prototype.tKa=function(d,f){this.Cfa[d]=f;};c.prototype.fatal=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.dA(g.Qi.I$a,d,m.mE(this.Zw,this.vK(h)));};c.prototype.error=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.dA(g.Qi.jf,d,m.mE(this.Zw,this.vK(h)));};c.prototype.warn=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.dA(g.Qi.dba,d,m.mE(this.Zw,this.vK(h)));};c.prototype.info=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.dA(g.Qi.W9,d,m.mE(this.Zw,this.vK(h)));};c.prototype.trace=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.dA(g.Qi.RFa,d,m.mE(this.Zw,this.vK(h)));};c.prototype.debug=function(d,f){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ba(h)));};c.prototype.write=function(d,f,h){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.dA(d,f,m.mE(this.Zw,this.vK(k)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.tn};};c.prototype.cga=function(d){return new c(this.Ia,this.Zw,this.Rm,d);};c.prototype.dA=function(d,f,h){d=new l.n$(d,this.tn,this.Ia.Tb(),f,h);f=Z(this.Rm.Rm);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d);}};c.prototype.vK=function(d){return 0 < Object.keys(this.Cfa).length?[this.Cfa].concat(ba(d)):d;};b.CH=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.G$="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Naa="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.faa="PboPlaydataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bGa="ThroughputTrackerSymbol";b.Xaa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ya="IsTypeSupportedProviderFactorySymbol";b.$Ca="PlatformIsTypeSupportedSymbol";},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p,q,t){var u;u=l.Sp.call(this,k,n,p,t) || this;u.cast=q;u.type=m.li.h9;k=c.zeb;u.lW[m.Sd.aI]=d.Ed.nO + "; " + k;u.lW[m.Sd.Sv]=d.Ed.Sv + "; " + k;k=d.Ed.Z8a.find(function(w){return u.bx(h(c.TG,w));});u.lW[m.Sd.xr]=k;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Wua=b.NW=b.i9=void 0;g=a(49);l=a(165);m=a(24);r=a(104);d=a(139);f=a(217);h=new r.Bz().format;ja(c,l.Sp);c.Yfa=function(k,n){return (n=c.M1a(n))?{isTypeSupported:n}:k;};c.M1a=function(k){var n;if("undefined" !== typeof k){if(k.framework && k.framework.CastReceiverContext && k.framework.CastReceiverContext.getInstance){n=k.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(k.framework && k.framework.platform && k.framework.platform.canDisplayType)return k.framework.platform.canDisplayType;if(k.receiver && k.receiver.platform && k.receiver.platform.canDisplayType)return k.receiver.platform.canDisplayType;if(k.__platform__ && k.__platform__.canDisplayType)return k.__platform__.canDisplayType;}};c.prototype.wv=function(k){var n,p;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().g6a){p={};if(n)return (p[m.Oi.LC]="1.4",p[m.Oi.Gt]="2.2",n().then(function(q){return q === p[k];}));n=this.iXa(k);n=h(c.TG,d.Ed.nO) + " hdcp=" + n;n=this.bx.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.uK=function(k){return this.lW[k];};c.prototype.GK=function(){var k;k=this;return this.config().g6a?this.wv(m.Oi.Gt).then(function(n){return n?Promise.resolve(m.Oi.Gt):k.wv(m.Oi.LC).then(function(p){return p?Promise.resolve(m.Oi.LC):Promise.resolve(void 0);});}).then(function(n){return k.uR(n);}):Promise.resolve(void 0);};c.prototype.BE=function(){var k,n;k=l.Sp.prototype.BE.call(this);n=c.oDb;k[g.N.O9]=["avc1.4D4028","width=1920; height=1080; "];k[g.N.Ixa]=["hev1.2.6.L90.B0",n];k[g.N.Jxa]=["hev1.2.6.L93.B0",n];k[g.N.Kxa]=["hev1.2.6.L120.B0",n];k[g.N.Lxa]=["hev1.2.6.L123.B0",n];k[g.N.Mxa]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[g.N.Nxa]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[g.N.oO]=["hev1.2.6.L90.B0",n];k[g.N.pO]=["hev1.2.6.L93.B0",n];k[g.N.yH]=["hev1.2.6.L120.B0",n];k[g.N.qO]=["hev1.2.6.L123.B0",n];k[g.N.rO]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[g.N.sO]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[g.N.Qxa]="hev1.2.6.L90.B0";k[g.N.Rxa]="hev1.2.6.L93.B0";k[g.N.Sxa]="hev1.2.6.L120.B0";k[g.N.Txa]="hev1.2.6.L123.B0";k[g.N.tO]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[g.N.uO]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[g.N.zX]="hev1.2.6.L90.B0";k[g.N.BX]="hev1.2.6.L93.B0";k[g.N.DX]="hev1.2.6.L120.B0";k[g.N.FX]="hev1.2.6.L123.B0";k[g.N.GX]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[g.N.HX]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return k;};c.prototype.XRa=function(){return [f.wf.xW,f.wf.Uxa,f.wf.wH,f.wf.DC];};c.prototype.Ska=function(){l.Sp.prototype.Ska.call(this);!c.M1a(this.cast) && this.Lm.push(f.wf.Sv);};b.i9=c;c.oDb="eotf=smpte2084";c.zeb="width=3840; height=2160; ";b.NW="CastSDKSymbol";b.Wua="CastEmeSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wf=void 0;b.wf=a;a.Pxa=/^hevc-main/;a.Hxa=/^hevc-hdr-|hevc-dv/;a.Sv=/^hevc-hdr-/;a.xr=/^hevc-dv/;a.vH=/-h264mpl/;a.wH=/-h264mpl30/;a.DC=/-h264mpl31/;a.tC=/-h264hpl/;a.lD=/^vp9-/;a.nk=/^av1-/;a.aI=/-L5[0-1]-/;a.xW=/^heaac-2-/;a.Uxa=/^heaac-2hq-dash/;a.dI=/^xheaac-dash/;a.g9a=/ddplus-2/;a.h9a=/ddplus-5/;a.i9a=/ddplus-atmos/;},function(r,b,a){var g,l,m;function c(){this.type=g.xt.Xv;}Object.defineProperty(b,"__esModule",{value:!0});b.vz=void 0;g=a(24);r=a(104);l=a(102);m=new r.Bz();c.Yfa=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return lb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?lb.MSMediaKeys.isTypeSupported(l.Eb.Nt,d):"probably" === c.Cra(f[0],f[1]);}catch(h){return !1;}}};};c.F0=function(d,f,h){f=m.format(c.TG,f);if(0 === h.length)return f;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,f,h);};c.Cra=function(d,f){var h;try{h=lb.MSMediaKeys.isTypeSupportedWithFeatures?lb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(k){h="exception";}return h;};b.vz=c;c.TG='video/mp4;codecs="{0},mp4a";';},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H9=b.kz=void 0;r=b.kz || (b.kz={});r.Geb="unknown";r.kta="absent";r.cEa="present";r.Error="error";b.H9="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JY="TransportConfigSymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var l,m,d,f;function c(h,k,n){for(var p=n.next();!p.done;){if((k=h["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](k);}function g(h,k,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),k));}l=a(752);m=a(754);d=a(755);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,k,n){"function" === typeof h && (h=m(h));if(l(n)){for(var p=0,q=n.length;p < q;){if((k=h["@@transducer/step"](k,n[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return g(h,k,n,"fantasy-land/reduce");if(null != n[f])return c(h,k,n[f]());if("function" === typeof n.next)return c(h,k,n);if("function" === typeof n.reduce)return g(h,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,g){return a.apply(this,arguments);};case 3:return function(c,g,l){return a.apply(this,arguments);};case 4:return function(c,g,l,m){return a.apply(this,arguments);};case 5:return function(c,g,l,m,d){return a.apply(this,arguments);};case 6:return function(c,g,l,m,d,f){return a.apply(this,arguments);};case 7:return function(c,g,l,m,d,f,h){return a.apply(this,arguments);};case 8:return function(c,g,l,m,d,f,h,k){return a.apply(this,arguments);};case 9:return function(c,g,l,m,d,f,h,k,n){return a.apply(this,arguments);};case 10:return function(c,g,l,m,d,f,h,k,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FY=void 0;g=a(10);c.qja=function(){var l;l=g.Lt && g.Lt.height;return l?1080 <= l?1080:720:720;};b.FY=c;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v;function c(x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O){this.j=x;this.trackId=y;this.Hu=z;this.Ld=B;this.qx=A;this.Yga=E;this.hm=D;this.displayName=F;this.ho=C;this.wra=G;this.vM=H;this.profile=J;this.Ks=I;this.VL=M;this.Wxb=N;this.E3=K;this.zs=O;this.type=d.Ph.F7;this.st=void 0;this.Kn=!(!J || J != h.Cr.HH);this.Hh={bcp47:D,trackId:y,downloadableId:B,isImageBased:this.Kn};this.log=f.Eh(x,"TimedTextTrack");this.state=v.aY;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.fD=void 0;g=a(0);l=a(70);m=a(11);d=a(81);f=a(6);h=a(49);k=a(19);n=a(14);p=a(1049);q=a(15);t=a(2);u=a(1050);w=a(1053);(function(x){x[x.aY=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.KC=2]="LOADED";x[x.EO=3]="LOAD_FAILED";})(v || (v={}));c.prototype.j3=function(){var x;x=this;if(this.j.state.value === q.yb.CLOSED || this.j.state.value === q.yb.CLOSING)return Promise.reject({W:!1});if(this.Kn)return this.xEb();this.rPa || (this.rPa=this.tPa());return this.rPa.then(function(y){return x.yEb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.fL=function(){return this.VL;};c.prototype.B3=function(){return this.Wxb;};c.prototype.Fq=function(x,y){var z;try{return null === (z=this.xra) || void 0 === z?void 0:z.Fq(x,y);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:y,isImageBased:this.Kn});}};c.prototype.VBb=function(){var x,y,z;if(!n.vc(this.V))try{z=null === (y=null === (x=this.xra) || void 0 === x?void 0:x.VE(0)) || void 0 === y?void 0:y[0];this.V=null === z || void 0 === z?void 0:z.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.V;};c.prototype.Y6=function(x){return this.j.state.value === q.yb.CLOSING || this.j.state.value === q.yb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Oc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.mOa=function(x){var y,z,B;y=this;z=f.Eh(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=p.nOa(this.j,z,this.request,this);B=new (m.config.cYb && !this.Kn?u.qza:w.default)(z,x);B.on("ready",function(){y.xra=B;});return B;};c.prototype.xEb=function(){var x,y,z,B,A,E,D;x=this;if(!this.kVa){this.state=v.LOADING;y={profile:"nflx-cmisc",url:"",RLa:!1,cna:this.Ks.offset,$Xa:this.Ks.length,cd:this.j.mediaTime.value || 0,bufferSize:m.config.WDb,I6:{ya:this.j.pS()}};z=(this.Yga || []).filter(function(F){return (F.id in x.qx);}).sort(function(F,C){return F.tg - C.tg;}).map(function(F){return F.id;});B=0;A={};E=!0;D=function(F,C){var G;if(n.vc(F)){if(E || x.Y6(x.rs(x.cs,"","image"))){E=!1;x.Ks.url=x.qx[x.cs];y.url=x.Ks.url;A[F]=(A[F] || 0) + 1;G=x.mOa(y);G.on("ready",function(){C({W:!0,track:x});});G.on("error",function(H){var J;H=Object.assign({W:!1},H);J=x.rs(x.cs,x.Ks.url,"image");J.details={midxoffset:x.Ks.offset,midxsize:x.Ks.length};J.errorstring=H.errorString;A[F] <= m.config.Q4a?(x.M1(J,!0,"retry with current cdn"),x.wea(A[F]).then(function(I){x.log.trace("retry timed text download after " + I,x.rs(x.cs,"","image"));D(x.cs,C);})):(x.cs=z[B++],x.cs?(x.M1(J,!0,"retry with next cdn"),x.wea(A[F]).then(function(I){x.log.trace("retry timed text download after " + I,x.rs(x.cs,"","image"));D(x.cs,C);})):(x.M1(J,!1,"all cdns tried"),C({W:!1,MJb:"all cdns failed for image subs",track:x})));});G.start();}else C({W:!1,aborted:!0});}else (C({W:!1,MJb:"cdnId is not defined for image subs downloadUrl"}),x.M1(x.rs(0,"","image"),!1,"cdnId is undefined"));};this.cs=z[B++];this.kVa=new Promise(function(F,C){D(x.cs,function(G){G.W?(x.log.info("Loaded image subtitle manager"),x.state=v.KC,F(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=v.EO,C(G));});});}return this.kVa;};c.prototype.yEb=function(x){var y,z;y=this;z=this.j.az;k.Za(z);return new Promise(function(B,A){var E;E=y.mOa({profile:y.profile,xml:x,Wj:m.config.Qra,preferences:m.config.E7,cd:y.j.mediaTime.value || 0,RLa:!1,videoSize:z});E.on("ready",function(){B(E);}).on("error",function(D){A({W:!1,error:D});}).start();}).then(function(){y.state=v.KC;return {W:!0,track:y};}).catch(function(B){y.log.error("Unable to parse timed text track",t.Ar(B),y.Hh,{url:B.url});y.state=v.EO;B.reason="parseerror";B.track=y;throw B;});};c.prototype.M1=function(x,y,z){x=Object.assign({},x,{$9b:y,status:z});this.j.fireEvent(q.T.nN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,st:this.st,responseType:l.US,headers:{},Hc:this.Fia(this.cs)};this.j.c3.download(x,function(B){z.log.trace("imgsub: request status " + B.W);B.W?y(null,new Uint8Array(B.content)):y({ka:B.ka,Oe:B.Oe});});};c.prototype.rs=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Ld,subtitletype:z,bcp47:this.hm,trackId:this.trackId,cdnCount:Object.keys(this.qx).length,isImageBased:this.Kn};};c.prototype.Fia=function(x){return (this.Yga || []).find(function(y){return y.id === x;});};c.prototype.tPa=function(){var B,A;function x(E){return g.__awaiter(B,void 0,void 0,function F(){var C,G,H;G=this;return Ga(F,function(J){C=z();H=G.rs(E.Hc.id,E.url,"text");H.errorstring=E.reason;return C && G.Y6(H)?J.return(G.wea(A[C.id]).then(y)):J.return(Promise.reject({W:!1,aborted:!0}));});});}function y(){return g.__awaiter(B,void 0,void 0,function D(){var F,C,G;C=this;return Ga(D,function(H){G=(F=z()) && C.qx[F.id];return F && G?(A[F.id]=(A[F.id] || 0) + 1,H.return(C.Pub(G,F).catch(x))):H.return(Promise.reject({}));});});}function z(){return (B.Yga || []).find(function(E){return ! !((A[E.id] || 0) < m.config.Q4a && B.qx[E.id]);});}B=this;this.state=v.LOADING;A={};return y();};c.prototype.wea=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.Pub=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({Hc:y.id}),this.rs(y.id,x,"text"));return new Promise(function(B,A){var E;E={responseType:l.ska,url:x,track:z,Hc:y,GE:"tt-" + z.hm};z.j.c3.download(E,function(D){D.W?B(D.content):(D.reason="downloadfailed",D.url=E.url,D.track=z,D.Hc=y,A(D));});});};b.fD=c;c.zz=v;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UUb=void 0;b.UUb=function(a){var c,g,l;return "IStreamable: " + a.R + " [" + a.mediaType + "] " + a.groupId + " p:" + (JSON.stringify(a.uj) + " sp:" + a.Iy + " pssp:") + (a.FU + " state:") + (a.nf + " path-complete:" + (null === (c=a.ry) || void 0 === c?void 0:c.X) + " streaming:") + ((null === (g=a.ao) || void 0 === g?void 0:g.X) + " current:" + (null === (l=a.Kd) || void 0 === l?void 0:l.X));};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UIb=b.z4=b.xe=void 0;b.xe=[0,1];b.z4=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.UIb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jD=void 0;r=(function(){function a(c){this.JJa=c;}Object.defineProperties(a.prototype,{aL:{get:function(){return this.bhb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.JJa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Upa:{get:function(){var c;c=this;return this.JJa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.bhb=!0;};a.prototype.Rna=function(c,g){var l;l=this;this.result.then(function(m){l.aL?g && g(m):c(m);});return this;};return a;})();b.jD=r;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.lH=void 0;r=a(0);c=a(172);g=r.__importDefault(a(231));l=r.__importDefault(a(861));m=r.__importDefault(a(109));d=a(5);b.lH=(function(){function h(k,n){var p;p=this;this.dh=new g.default(k,n);this.Cm=new l.default(k);this.tb=new m.default(this.Cm,this.dh,k);c.Kv.Rpb(k);k.E5 && setInterval(function(){p.dh.save();p.Cm.save();},k.E5);}h.gTa=function(k,n){void 0 === f?(h.config=k,h.gC=n,f=new h(k,n)):(d.assert(h.config === k),d.assert(h.gC === n));return f;};h.reset=function(){h.config=void 0;f=h.gC=void 0;};return h;})();},function(r,b,a){var d;function c(f,h,k){this.WJ=!1 === f;this.RJ=f || .01;this.e$=void 0 === h?25:h;this.Pua=void 0 === k?1.1:k;this.Th=new d(g);this.reset();}function g(f,h){return f.Gf > h.Gf?1:f.Gf < h.Gf?-1:0;}function l(f,h){return f.Tu - h.Tu;}function m(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.RJ:!1);this.qub=this.config.ratio || .9;this.rub=this.config.w9b || 1E3;this.R4=0;}d=a(842).Fdb;c.prototype.reset=function(){this.Th.clear();this.Rla=this.n=0;};c.prototype.size=function(){return this.Th.size;};c.prototype.fo=function(f){var h;h=[];f?(this.gZ(!0),this.Th.Me(function(k){h.push(k);})):this.Th.Me(function(k){h.push({Gf:k.Gf,n:k.n});});return h;};c.prototype.summary=function(){return [(this.WJ?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Ci(0),"Q1  = " + this.Ci(.25),"Q2  = " + this.Ci(.5),"Q3  = " + this.Ci(.75),"max = " + this.Ci(1)].join("\n");};c.prototype.push=function(f,h){h=h || 1;f=Array.isArray(f)?f:[f];for(var k=0;k < f.length;k++){this.LHa(f[k],h);}};c.prototype.Zoa=function(f){f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++){this.LHa(f[h].Gf,f[h].n);}};c.prototype.gZ=function(f){var h;if(!(this.n === this.Rla || !f && this.Pua && this.Pua > this.n / this.Rla)){h=0;this.Th.Me(function(k){k.Tu=h + k.n / 2;h=k.JJ=h + k.n;});this.n=this.Rla=h;}};c.prototype.xxb=function(f){var h,k;if(0 === this.size())return null;h=this.Th.lowerBound({Gf:f});k=null === h.data()?h.XF():h.data();return k.Gf === f || this.WJ?k:(h=h.XF()) && Math.abs(h.Gf - f) < Math.abs(k.Gf - f)?h:k;};c.prototype.TI=function(f,h,k){this.Th.np({Gf:f,n:h,JJ:k});this.n+=h;};c.prototype.PY=function(f,h,k){h !== f.Gf && (f.Gf+=k * (h - f.Gf) / (f.n + k));f.JJ+=k;f.Tu+=k / 2;f.n+=k;this.n+=k;};c.prototype.LHa=function(f,h){var k,n,p;k=this.Th.min();n=this.Th.max();p=this.xxb(f);p && p.Gf === f?this.PY(p,f,h):p === k?this.TI(f,h,0):p === n?this.TI(f,h,this.n):this.WJ?this.TI(f,h,p.JJ):(k=p.Tu / this.n,Math.floor(4 * this.n * this.RJ * k * (1 - k)) - p.n >= h?this.PY(p,f,h):this.TI(f,h,p.JJ));this.gZ(!1);!this.WJ && this.e$ && this.size() > this.e$ / this.RJ && this.ix();};c.prototype.onb=function(f){var h,k;this.Th.bm=l;h=this.Th.upperBound({Tu:f});this.Th.bm=g;k=h.XF();f=k && k.Tu === f?k:h.next();return [k,f];};c.prototype.Ci=function(f){var h;h=(Array.isArray(f)?f:[f]).map(this.Kib,this);return Array.isArray(f)?h:h[0];};c.prototype.Kib=function(f){var h,k;if(0 !== this.size()){this.gZ(!0);this.Th.min();this.Th.max();f*=this.n;h=this.onb(f);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).Gf:this.WJ?f <= k.JJ?k.Gf:h.Gf:k.Gf + (f - k.Tu) * (h.Gf - k.Gf) / (h.Tu - k.Tu);}};c.prototype.ix=function(){var f;if(!this.DNa){f=this.fo();this.reset();for(this.DNa=!0;0 < f.length;){this.Zoa(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.gZ(!0);this.DNa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(f){c.prototype.push.call(this,f);this.Uob();};m.prototype.TI=function(f,h,k){this.R4+=1;c.prototype.TI.call(this,f,h,k);};m.prototype.PY=function(f,h,k){1 === f.n && --this.R4;c.prototype.PY.call(this,f,h,k);};m.prototype.Uob=function(){!("auto" !== this.mode || this.size() < this.rub) && this.R4 / this.size() > this.qub && (this.mode="cont",this.WJ=!1,this.RJ=this.config.RJ || .01,this.ix());};r.exports={TDigest:c,Digest:m};},function(r,b,a){var d,f,h,k,n,p;function c(q){var t;t=q.$ba;this.G=q;this.Yi=f.kf.HAVE_NOTHING;this.AI=q.AI;q=new n(this.AI);this.oQ=q.create("throughput-location-history",t);this.Ew=q.create("respconn-location-history",t);this.uw=q.create("respconn-location-history",t);this.m_=q.create("throughput-tdigest-history",t);this.CZ=q.create("throughput-iqr-history",t);this.ab=null;}function g(q,t,u,w,v){this.Kz=new c(v);this.Kr=[];this.Bhb=h.time.ba() - Date.now() % 864E5;this.rw=null;this.G=v;for(q=0;q < w;++q){this.Kr.push(new c(v));}}function l(q,t,u){return d.has(q,t)?q[t]:q[t]=u;}function m(q,t){var u;this.G=q;this.ZJa=t;this.owb();this.IP=new c(this.G);this.RP();u=q.wga;u && (u={confidence:f.kf.xH,Ha:{Aa:parseInt(u,10),ei:0},ci:{Aa:0,ei:0},As:{Aa:0,ei:0}},this.get=function(){return u;});}d=a(8);f=a(28).default;b=a(9);h=a(3).default;k=b.Cxa;n=a(389).txa;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.kf.HAVE_NOTHING};c.prototype.bE=function(q,t){this.Yi=t;this.oQ.add(q);this.m_.add(q);this.ab=h.time.ba();};c.prototype.ZG=function(q,t){this.CZ.set(q,t);};c.prototype.Ow=function(q){this.Ew.add(q);};c.prototype.Mw=function(q){this.uw.add(q);};c.prototype.getState=function(){var q,t,u,w,v,x;q=this.oQ.getState();t=this.Ew.getState();u=this.uw.getState();w=this.CZ.getState();v=this.m_.getState();if(d.hb(q) && d.hb(t) && d.hb(u))return null;x={c:this.Yi,t:h.time.mna(this.ab)};d.hb(q) || (x.tp=q);d.hb(t) || (x.rt=t);d.hb(u) || (x.hrt=u);d.hb(w) || (x.iqr=w);d.hb(v) || (x.td=v);return x;};c.prototype.ve=function(q){var t;t=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.kf.xH || q.t > t || !this.oQ.ve(q.tp))return (this.Yi=f.kf.HAVE_NOTHING,this.rw=this.ab=null,this.oQ.ve(null),this.Ew.ve(null),this.uw.ve(null),!1);this.Yi=q.c;this.ab=h.time.Fna(q.t);this.Ew.ve(d.has(q,"rt")?q.rt:null);this.uw.ve(d.has(q,"hrt")?q.hrt:null);d.has(q,"iqr") && this.CZ.ve(q.iqr);d.has(q,"td") && this.m_.ve(q.td);return !0;};c.prototype.get=function(){var q,t,u,w,v,x;q=this.G;if(d.hb(this.ab))return p;t=(h.time.ba() - this.ab) / 1E3;t > q.Wgb?this.Yi=f.kf.HAVE_NOTHING:t > q.wgb && (this.Yi=Math.min(this.Yi,f.kf.lz));q=this.oQ.get();u=this.Ew.get();w=this.uw.get();v=this.CZ.get();x=this.m_.get();t={pl:t,confidence:this.Yi,Ha:q,ci:u,As:w,Bs:v,Fj:x};q && (t.y9b=k.prototype.Eoa.bind(q));u && (t.Q8b=k.prototype.Eoa.bind(u));w && (t.K6b=k.prototype.Eoa.bind(w));return t;};c.prototype.time=function(){return this.ab;};g.prototype.Ag=function(){return ((h.time.ba() - this.Bhb) / 1E3 / 3600 / (24 / this.Kr.length) | 0) % this.Kr.length;};g.prototype.getState=function(){var q;q={g:this.Kz.getState(),h:this.Kr.map(function(t){return t.getState();})};d.hb(this.rw) || (q.f=h.time.mna(this.rw));return q;};g.prototype.ve=function(q){var t,u;if(!this.Kz.ve(q.g))return !1;t=this.Kr.length;u=!1;this.Kr.forEach(function(w,v){u=!w.ve(q.h[v * q.h.length / t | 0]) || u;});this.rw=d.has(q,"f")?h.time.Fna(q.f):null;return u;};g.prototype.bE=function(q,t){this.Kz.bE(q,t);this.Kr[this.Ag()].bE(q,t);this.rw=null;};g.prototype.ZG=function(q,t){this.Kz.ZG(q,t);this.Kr[this.Ag()].ZG(q,t);};g.prototype.Ow=function(q){this.Kz.Ow(q);this.Kr[this.Ag()].Ow(q);};g.prototype.Mw=function(q){this.Kz.Mw(q);this.Kr[this.Ag()].Mw(q);};g.prototype.fail=function(q){this.rw=q;};g.prototype.get=function(){var q,t;if(!d.hb(this.rw)){if((h.time.ba() - this.rw) / 1E3 < this.G.vgb)return {confidence:f.kf.HAVE_NOTHING,ks:!0};this.rw=null;}q=this.Kr[this.Ag()].get();t=this.Kz.get();q=q.confidence >= t.confidence?q:t;q.ks=!1;return q;};g.prototype.time=function(){return this.Kz.time();};m.prototype.gIa=function(q,t){var u;u=this.G;q=l(this.MP,q,{});return l(q,t,new g(u.wIa || 14400,u.vIa || 100,u.uIa || 100,u.mJa || 4,u));};m.prototype.RP=function(){var q,t;q=h.storage.get("lh");t=h.storage.get("gh");q && this.hda(q);t && this.Bjb(t);};m.prototype.fca=function(){var q;q={};d.Me(this.MP,function(t,u){d.Me(t,function(w,v){l(q,u,{})[v]=w.getState();},this);},this);return q;};m.prototype.Bjb=function(q){this.IP.ve(q);};m.prototype.hda=function(q){var t,u;t=null;u=this.G;d.Me(q,function(w,v){d.Me(w,function(x,y){var z;z=new g(u.wIa || 14400,u.vIa || 100,u.uIa || 100,u.mJa || 4,u);z.ve(x)?(l(this.MP,v,{})[y]=z,t=!0):d.hb(t) && (t=!1);},this);},this);return d.hb(t)?!0:t;};m.prototype.save=function(){var q;q=this.fca();h.storage.set("lh",q);h.storage.set("gh",this.IP.getState());this.ZJa && this.ZJa.Jqa(this.IP.getState());};m.prototype.owb=function(){this.MP={};this.xI=this.HHa="";this.bn=null;};m.prototype.ZM=function(q){this.HHa=q;this.bn=null;};m.prototype.V6=function(q){this.xI=q;this.bn=null;};m.prototype.wZ=function(){d.hb(this.bn) && (this.bn=this.gIa(this.HHa,this.xI));return this.bn;};m.prototype.bE=function(q,t){this.wZ().bE(q,t);this.IP.bE(q,t);};m.prototype.ZG=function(q,t){q && q.Rk && q.rj && q.Sk && (this.wZ().ZG(q,t),this.IP.ZG(q,t));};m.prototype.Ow=function(q){this.wZ().Ow(q);};m.prototype.Mw=function(q){this.wZ().Mw(q);};m.prototype.fail=function(q,t){this.gIa(q,this.xI).fail(t);};m.prototype.get=function(q,t){var u,w,v,x;q=(q=this.MP[q])?q[this.xI]:null;u=null;if(q && (u=q.get(),u.confidence > f.kf.HAVE_NOTHING))return u;if(!1 === t)return p;w=u=null;v=!1;x=null;d.Me(this.MP,function(y){d.Me(y,function(z,B){var A;if(!v || B == this.xI){A=z.get();A && (!w || w <= A.confidence) && (!x || w < A.confidence || x < z.time()) && (w=A.confidence,v=B == this.xI,x=z.time(),u=A);}},this);},this);return u?u:p;};r.exports=m;},function(r,b,a){var m;function c(d){this.iJ=d;this.reset();}function g(d){this.dj=new c(d);this.se=0;this.qc=null;}function l(d,f){this.iJ=d;this.SIa=f;this.reset();}m=a(8);c.prototype.vJa=function(d,f){this.ab+=d;this.Zi+=d;this.yc+=f;this.gn.push({d:d,b:f});};c.prototype.dQ=function(){var d;for(;this.Zi > this.iJ;){d=this.gn.shift();this.yc-=d.b;this.Zi-=d.d;}};c.prototype.reset=function(){this.gn=[];this.ab=null;this.Zi=this.yc=0;};c.prototype.setInterval=function(d){this.iJ=d;this.dQ();};c.prototype.start=function(d){m.hb(this.ab) && (this.ab=d);};c.prototype.add=function(d,f,h){m.hb(this.ab) && (this.ab=f);f > this.ab && this.vJa(f - this.ab,0);this.vJa(h > this.ab?h - this.ab:0,d);this.dQ();};c.prototype.get=function(){return {Aa:Math.floor(8 * this.yc / this.Zi),ei:0};};g.prototype.reset=function(){this.dj.reset();this.se=0;this.qc=null;};g.prototype.add=function(d,f,h){!m.hb(this.qc) && h > this.qc && (f > this.qc && (this.se+=f - this.qc),this.qc=null);this.dj.add(d,f - this.se,h - this.se);};g.prototype.start=function(d){!m.hb(this.qc) && d > this.qc && (this.se+=d - this.qc,this.qc=null);this.dj.start(d - this.se);};g.prototype.stop=function(d){this.qc=m.hb(this.qc)?d:Math.min(d,this.qc);};g.prototype.get=function(){return this.dj.get();};g.prototype.setInterval=function(d){this.dj.setInterval(d);};l.prototype.reset=function(){this.gn=[];this.yc=this.Zi=0;};l.prototype.add=function(d,f,h,k){void 0 !== k && !0 === k && (f=h - f,this.Zi+=f,this.yc+=d,this.gn.push({d:f,b:d}),this.dQ());};l.prototype.dQ=function(){var d;for(;this.Zi > this.iJ || this.gn.length > this.SIa;){d=this.gn.shift();this.yc-=d.b;this.Zi-=d.d;}};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.get=function(){return {Aa:Math.floor(8 * this.yc / this.Zi),ei:0};};l.prototype.setInterval=function(d,f){this.iJ=d;this.SIa=f;this.dQ();};r.exports={w_b:c,h$a:g,Peb:l};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tm=void 0;r=b.Tm || (b.Tm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Kj=2]="STREAMING";},function(r,b){function a(c){var g;g={profile:c.spoofedProfile || c.profile,qia:c.max_framerate_value,pia:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,pNb:c.pixelAspectX,qNb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (g.r8b=c.profile);return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.USa=b.TSa=void 0;b.TSa=function(c,g,l){var m;m=[{},{}];(0 === l?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,f){c[d].some(function(h,k){return k === g[f]?(m[f]=a(h),!0):!1;});});return m;};b.USa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Q8=void 0;c=a(0);g=a(17);l=a(879);r=a(96);m=a(880);d=a(906);f=a(909);h=a(247);k=a(16);n=c.__importDefault(a(3));p=a(5);q=a(9);a(234);t=(function(){return function(u){var w;w=u.PVa;u=u.$ka;this.JT=this.replace=w;this.og=u;};})();a=(function(u){function w(v,x){var y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha;y=x.qb;z=x.la;B=x.Im;A=x.qd;E=x.OXa;D=x.Bh;F=x.config;C=x.zUa;G=x.GM;H=x.e2;J=x.tb;I=x.dh;M=x.dU;N=x.nQa;x=x.tG;K=u.call(this) || this;K.aa=v;K.V2=!1;K.yIa=[];K.QIa=[];K.xh=[];K.CA=[];K.dm=!1;K.qb=y;K.UP=z;K.Im=B;K.Nb=function(va){return 0 <= A.indexOf(va);};K.config=F;K.console=new n.default.Console("ASEJS","media|asejs","<" + String(K.aa) + ">");C && (v=C.SA,K.pf=new f.eya(K,K.console,K.config,C.Em,C.GS,v,C.w3,C.ef,C.dd,C.Fg,C.cB),K.SA=v);K.bB=new g.EventEmitter();K.e2=H;K.tb=J;K.dU=M;K.Al=new h.l$(K.la,J,I,K.config,null === N || void 0 === N?void 0:N.Em);N && (C=N.Gq,H=N.Ln,J=N.iL,K.Do=N.hh,K.iL=J,K.Ln=H,K.Gq=C,K.Wba=new d.cxa(K.Al,K.config,K.KCb.bind(K),K.JCb.bind(K)));K.GM=G;K.tG=x;K.Re=new t(E);K.Bh=D;O=[[],[]];R=[{},{}];L=[0,0];Q=!1;P=K.Nb(0);ha=K.Nb(1);["audio_tracks","video_tracks"].forEach(function(va,la){var S;S=0 === la;S && !P || 1 === la && !ha || K.la[va].forEach(function(da,ya){da=new m.Sta({M:K,nB:da,mediaType:la,og:E.$ka,xN:ya,$D:ya + (S?K.la.video_tracks.length:0)},K.config,K.console);O[la].push(da);R[la]=c.__assign(c.__assign({},R[la]),da.ZE());da.maxBitrate > L[da.mediaType] && (L[da.mediaType]=da.maxBitrate);Q=Q || da.QS;});});K.jI=O;K.QUb=R;K.Su=L;K.QS=Q;K.xIa=K.config && K.config.VS && ! !K.config.VS.length && -1 !== K.config.VS.indexOf(String(K.H)) && K.config.xka && ! !K.config.xka.length && void 0 !== K.ss(1,K.config.xka[0]);K.kgb=K.xIa && K.config.r1;return K;}c.__extends(w,u);Object.defineProperties(w.prototype,{la:{get:function(){return this.UP;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{IT:{get:function(){var v;return !(null === (v=this.jI[1][0]) || void 0 === v || !v.IT);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hg:{get:function(){return this.yIa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sIb:{get:function(){return this.QIa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{H:{get:function(){return this.la.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ro:{get:function(){return this.la.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{duration:{get:function(){return this.la.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{kj:{get:function(){return this.dm;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ep:{get:function(){p.assert(this.Wba,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Wba;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gK:{get:function(){return this.ep.events;},enumerable:!1,configurable:!0}});w.prototype.Gb=function(){this.close();this.kc();};w.prototype.close=function(){var v;this.CA=[];null === (v=this.Wba) || void 0 === v?void 0:v.Gb();this.Al.Gb();this.dm=!0;};w.prototype.kc=function(){this.pf && this.pf.kc();};w.prototype.OXb=function(v){var x,y,z,B,A,E;x=this;y=v.la;z=v.qd;B=void 0 === z?k.xe:z;p.assert(v.Bh === this.Bh,"Updating Viewable clearplay not supported");k.xe.forEach(function(D){p.assert(x.Nb(D) === 0 <= B.indexOf(D),"Updating Viewable media types not supported");});p.assert(y.movieId === this.la.movieId,"Changing Viewable manifest movieId unsupported");A=this.Nb(0);E=this.Nb(1);["audio_tracks","video_tracks"].forEach(function(D,F){var C;if((0 !== F || A) && (1 !== F || E)){D=x.la[D];C=x.jI[F];p.assert(D.length === C.length,"Changing Viewable tracks unsupported");D.forEach(function(G,H){var J;H=C[H];p.assert(G.track_id === H.trackId);G=G.streams;J=Object.keys(H.ZE());p.assert(G.length === J.length);G.forEach(function(I){p.assert(-1 !== J.indexOf(I.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.UP=y;this.Al.ju(this.la);};w.prototype.VB=function(v){var x,y,z;x=v.sy;y=v.ca;z=v.yq;v=v.Dm;x && y?(this.a7=new l.kFa(x,{ca:String(y),yq:! !z,EIb:this.config.dY.mx,xnb:this.config.dY.lv},v),this.ep.VB(this.a7)):v("SideChannel: pbcid/xid is missing.");};w.prototype.Ox=function(){return void 0 !== this.Ro;};w.prototype.getTracks=function(v){return this.jI[v];};w.prototype.getTrackById=function(v){var x;this.jI.some(function(y){return y.some(function(z){if(z.trackId === v)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",v,"length:",this.jI.length);return x;};w.prototype.WTa=function(v,x){var y;y=this.jI[v];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",v);else return y[x];};w.prototype.ss=function(v,x){return (v=this.ZE(v)) && v[x];};w.prototype.ZE=function(v){return this.QUb[v];};w.prototype.qXb=function(v,x){this.yIa[v]=x;x.stream.Y && this.Q5a(v,x.stream.Y);};w.prototype.VPa=function(v){return void 0 === v || 1 === v?this.kgb:!1;};w.prototype.CVa=function(v){return void 0 === v || 1 === v?this.xIa:!1;};w.prototype.QFb=function(v){var x,y;if(void 0 === v.W5 || void 0 === v.Noa){x=this.Al.aja().filter(function(z){return void 0 !== z.streams[v.Fa];})[0];y=x.children.filter(function(z){return z.urls.some(function(B){return B.stream.id === v.Fa;});})[0];v.W5=x.id;v.Noa=y.id;}return {ula:v.location === v.W5,RFb:v.Nc === v.Noa};};w.prototype.X6=function(v,x,y){void 0 !== x && void 0 !== y && (this.r1a(v.mediaType,x),v.X6(x,y));};w.prototype.r1a=function(v,x){var y,z;z=this.config.tna;("location" === z || "video_location" === z && 1 === v) && this.tb.ZM(x);null === (y=this.e2) || void 0 === y?void 0:y.call(this).wLb(v,x);};w.prototype.hh=function(v,x,y,z,B){p.assert(this.Do,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Do(v,x,y,z,B);};w.prototype.nr=function(){var v,x,y;v=this;x=[];if(this.kj)return (this.console.error("updateRequestUrls, closed Viewable:",this.aa),!1);k.xe.forEach(function(z){v.Nb(z) && v.HXb(z) && (z=v.vXb(z),0 < z.length && x.push.apply(x,z));});y=this.rXb();0 < y.length && x.push.apply(x,y);return this.hRb(x);};w.prototype.rm=function(v,x){var y;y=this.getTracks(1)[0];p.assert(y);if(y.WK)return y.rm(v,x);};w.prototype.HXb=function(v){var x,y,A,E;if(this.kj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.Nb(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),!1);y=!0;try{for(var z=c.__values(this.xh),B=z.next();!B.done;B=z.next()){A=B.value.Oa(v);p.assert(A);E=this.Al.aW(this.aa,A.track.Cd);E || A.ub("location selector failed to update streamList");y=y && E;}}catch(F){var D;D={error:F};}finally{try{B && !B.done && (x=z.return) && x.call(z);}finally{if(D)throw D.error;}}return y;};w.prototype.rXb=function(){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.nr();};w.prototype.vXb=function(v){var x,y,A;y=[];if(this.kj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.Nb(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),y);try{for(var z=c.__values(this.xh),B=z.next();!B.done;B=z.next()){A=B.value.nr(v);A.length && y.push.apply(y,A);}}catch(D){var E;E={error:D};}finally{try{B && !B.done && (x=z.return) && x.call(z);}finally{if(E)throw E.error;}}return y;};w.prototype.hRb=function(v){var x,y,z;x=this;if(0 === v.length)return !0;y=0;z=[];v.forEach(function(B){var A;if(B.Ac){A=B.M;A.qb > x.qb && (z.push({M:A,track:B.stream.track}),++y);}});z.forEach(function(B){var A;A=B.track;B.M.EM([0 === A.mediaType?A:void 0,1 === A.mediaType?A:void 0],void 0,A.mediaType);});return y === v.length;};w.prototype.Qk=function(){var v;v=this;this.Al.Qk();this.ep.Qk();this.a7 && (p.assert(this.SA),k.xe.forEach(function(x){x=v.SA(x);v.a7.wqa("rebuffer",x.Qla);}));};w.prototype.Qna=function(){this.ep.Qna();};w.prototype.zsa=function(v,x){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");this.pf.zsa(v,x);};w.prototype.Q2=function(){p.assert(this.pf,"Headers not available on old architecture prefetch viewables..");return this.pf.Q2();};w.prototype.vfa=function(){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");this.pf.vfa();};w.prototype.YM=function(v){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");this.pf.YM(v);};w.prototype.hsa=function(){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.hsa();};w.prototype.Yj=function(v,x){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.Yj(v,x);};w.prototype.cOa=function(v,x,y){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");this.pf.S7(v,x,y,!0);};w.prototype.B_=function(v,x,y){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.B_(v,x,! !y);};w.prototype.KSb=function(v,x){this.CA.push({stream:v,ZBb:x});};w.prototype.pQb=function(){this.CA=[];};w.prototype.vQb=function(v){this.CA=this.CA.filter(function(x){return x.stream !== v;});};w.prototype.uQb=function(v){this.CA=this.CA.filter(function(x){return x !== v;});};w.prototype.KK=function(){var v;v=this;p.assert(this.Ln,"Streamables not available on old architecture prefetch viewables.");return this.Ln()?[]:this.CA.map(function(x){var y,z;y=x.stream;z=x.ZBb;z=z();return {R:"" + y.aa,mediaType:y.mediaType,uj:z.uj,nf:z.nf,ry:z.ry,ao:z.ao,Kd:z.Kd,V5:q.S.nb,FU:1,Iy:1,groupId:"" + v.aa,Ku:!0,In:!1,ZVa:function(){return {result:!0};},cWa:function(){if(y.QG())return (v.vQb(y),{pp:!0,reason:"success"});v.uQb(x);return {pp:!1,reason:"viewableTryIssueHeaderRequest"};}};});};w.prototype.QG=function(v,x){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.QG(v,x);};w.prototype.uQ=function(v,x){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.uQ(v,x);};w.prototype.z6=function(v){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.z6(v);};w.prototype.EM=function(v,x,y){p.assert(this.pf,"Headers not available on old architecture prefetch viewables.");return this.pf.EM(v,x,y);};w.prototype.MCb=function(v){var x,y,z;x=v.Fa;y=v.mediaType;this.Q5a(y,v.stream.Y);x=this.ss(y,x);z=this.Ox()?this.config.zXa:0;x.J5a(n.default.Cn()[y],z);this.bB.emit("onHeaderFragments",v);};w.prototype.rpa=function(v){this.xh.push(v);};w.prototype.psa=function(v){v=this.xh.indexOf(v);p.assert(-1 !== v,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.xh.splice(v,1);};w.prototype.s5=function(v){var x;null === (x=this.GM) || void 0 === x?void 0:x.Nw(v);};w.prototype.my=function(v){this.kj?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",v):void 0 !== v.location && this.r1a(v.mediaType,v.location);};w.prototype.dM=function(v){this.kj?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",v):this.ep.W7({timestamp:v.yd,url:v.url});};w.prototype.ck=function(v){var x;null === (x=this.GM) || void 0 === x?void 0:x.aG(v);p.assert(this.Ln && this.dU,"Requests cannot be handled on old architecture prefetch viewables.");this.kj?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",v):this.Ln() || (this.ep.W7({timestamp:v.yd,mediaRequest:v}),this.dU(v));};w.prototype.pU=function(v,x,y){var z;y && (null === (z=this.GM) || void 0 === z?void 0:z.aG(v));};w.prototype.qU=function(v){this.kj?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",v):(this.ep.Zq({url:v.url},v.status,v.Dg,v.Bi),this.nr() || this.hh(v.OE || "unknown","NFErr_MC_StreamingFailure",v.Dg,v.status,v.Bi));};w.prototype.Q5a=function(v,x){this.QIa[v]=x.Ima;};w.prototype.KCb=function(v){var x,y,z;p.assert(this.iL,"Error handling not available on old architecture prefetch viewables.");if(!this.dm){x=v.xFb;y=v.dMb;z=v.eMb;v=v.fMb;this.console.warn("Streaming failure, isBuffering " + this.iL() + " is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + v);x?(this.console.warn(" > Permanent failure, done"),this.hh("Permanent failure","NFErr_MC_StreamingFailure",y,z,v)):this.iL()?(this.console.warn(" > We are buffering, calling it!"),this.hh("Temporary failure while buffering","NFErr_MC_StreamingFailure",v,z,v)):(this.console.warn(" > Resetting failures"),this.ep.u6());}};w.prototype.JCb=function(){p.assert(this.Gq,"Error handling not available on old architecture prefetch viewables.");this.dm || (this.nr(),this.Gq());};return w;})(r.Hv);b.Q8=a;},function(r,b,a){var C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya,U,ma,ta,Ja,wa,ra,Qa,Pa,Sa,$a,kb,bb;function c(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function g(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function l(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function m(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);this.Wqa=Ra.config.Wqa;this.Vd=this.sizes=void 0;}function d(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function f(){for(var Ra=new DataView(this),Wa="",gb,db=0;db < this.byteLength;db++){gb=Ra.getUint8(db);Wa+=("00" + gb.toString(16)).slice(-2);}return Wa;}function h(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function k(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function n(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function p(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function q(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function t(Ra){function Wa(gb,db,ob,Bb,Gb){J.call(this,gb,db,ob,Bb,Gb);this.EYa=Ra;}Wa.Jc=!1;Wa.prototype=new J();Wa.prototype.constructor=Wa;Object.defineProperties(Wa.prototype,{Kva:{get:function(){return this.EYa;}}});Wa.prototype.parse=function(){this.L.console.trace("renaming '" + this.type + "' to draft type '" + this.EYa + "'");this.L.offset=this.startOffset + 4;this.kb.T6a(this.Kva);this.type=this.Kva;return !0;};return Wa;}function u(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function w(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function v(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function x(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function y(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function z(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function B(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function A(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function E(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function D(Ra,Wa,gb,db,ob){J.call(this,Ra,Wa,gb,db,ob);}function F(Ra,Wa){Ra.forEach(function(gb){Wa[gb.mf]=gb;});}C=a(144).assert;b=a(97);G=a(237).S;H=a(400);a(145);a(83);a(83);a(83);J=a(30).yg;I=a(882).default;M=a(883).default;N=a(884).default;K=a(885).default;O=a(886).default;R=a(887).default;L=a(888).default;Q=a(889).default;P=a(890).default;a(238);a(173);ha=a(401).d7a;va=a(401).o$a;la=a(891).default;S=a(892).default;da=a(98).default;ya=a(98).B7a;U=a(98).C7a;ma=a(98).D7a;ta=a(98).E7a;Ja=a(893).default;wa=a(894).default;ra=a(98).bab;Qa=a(98).X$a;Pa=a(895).default;Sa=a(896).default;$a=a(897).default;kb=a(402).default;bb=a(403).default;a(146);a(241);a(242);a(240);a=a(898).default;c.Jc=!0;c.prototype=new J();c.prototype.constructor=c;g.Jc=!0;g.prototype=new J();g.prototype.constructor=g;l.Jc=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.parse=function(){var Ra;this.vg();1 === this.version?(this.L.fk(),this.L.fk(),this.U=this.L.Yb(),this.duration=this.L.fk()):(this.L.Yb(),this.L.Yb(),this.U=this.L.Yb(),this.duration=this.L.Yb());Ra=this.L.Jh() & 32767;this.language=String.fromCharCode(96 + (Ra >>> 10),96 + (Ra >>> 5 & 31),96 + (Ra & 31));return !0;};m.Jc=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.Gib=function(){this.vg();this.L.Yb();this.U=this.L.Yb();0 === this.version?(this.CPa=this.L.Yb(),this.XQa=this.L.Yb()):(this.CPa=this.L.fk(),this.XQa=this.L.fk());this.kRb=this.L.Jh();this.Y0a=this.L.Jh();};m.prototype.Ofb=function(Ra,Wa){var gb,db,ob;gb=this.U;Ra=Ra && Ra.U || gb;db=Ra / gb;gb=this.L.e6(Wa,12,!1);ob=1 === db?this.L.e6(Wa,12,!1):H.from(Uint32Array,{length:Wa},function(){var Bb;Bb=Math.round(this.L.Yb() * db);this.L.offset+=8;return Bb;},this);this.dkb(Wa,ob,gb,Ra);};m.prototype.dkb=function(Ra,Wa,gb,db){if(this.Wqa){db=this.Wqa * db / 1E3;for(var ob=0,Bb=1;Bb < Ra;Bb++){Math.abs(Wa[ob] - db) > Math.abs(Wa[ob] + Wa[Bb] - db)?(Wa[ob]+=Wa[Bb],gb[ob]+=gb[Bb]):(++ob,ob !== Bb && (Wa[ob]=Wa[Bb],gb[ob]=gb[Bb]));}++ob;Wa=new Uint32Array(Wa.buffer.slice(0,4 * ob));gb=new Uint32Array(gb.buffer.slice(0,4 * ob));}this.sizes=gb;this.Vd=Wa;};m.prototype.parse=function(Ra){var Wa,gb,db,ob;this.Gib();this.xa=Ra.xa;Wa=this.U;gb=this.xa && this.xa.U || Wa;db=this.Y0a;ob=this.startOffset + this.length + this.XQa;Wa=new G(this.CPa,Wa).Ng(gb).Kb;this.Y={U:gb,Ol:Wa,offset:ob};this.Ofb(this.xa,db);this.Y.Vd=this.Vd;this.Y.sizes=this.sizes;Ra.XB=this;return !0;};d.Jc=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Ra;this.qC=[];this.hNb=[];Ra=(this.length - 11) / 2;this.L.Pd();this.L.Pd();this.L.Pd();for(var Wa=0;Wa < Ra;Wa++){this.qC.push(this.L.Pd());this.hNb.push(this.L.Pd());}return !0;};h.Jc=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.vg();this.L.offset+=4;this.Ala=this.L.offset;this.zl=this.L.uPb();this.zl.toString=f;return !0;};k.Jc=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){this.vg();this.cp=this.L.Jh();this.GIb=this.L.e6(this.cp,void 0,!0);return !0;};n.Jc=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Ra){var Wa,gb,db,ob,Bb,Gb;Wa=Ra.XB;C(Wa);Ra=Ra.xa;gb=Wa.U;Wa=Wa.Y0a;C(Ra);C(gb);C(Wa);this.vg();C(2 > this.version);this.cp=this.L.Jh();this.nM=new Uint16Array(Wa + 1);db=Ra.STa(gb);ob=db / gb;Bb=Ra.Ng(db).Kb;if(0 === this.version)for((this.LM=new Uint16Array(),this.eh=new Uint32Array(),Ra=gb=0);Ra <= Wa;++Ra){if((this.nM[Ra]=gb,Ra < this.cp)){Gb=this.L.Pd();if(0 !== Gb)for(db=0;db < Gb;(++db,++gb)){this.LM[gb]=Math.floor((this.L.Yb() + 1) * ob) / Bb;this.eh[gb]=this.L.Yb();}}}else if(1 === this.version)for((db=this.L.sPb(this.cp),this.L.offset+=4,this.eh=this.L.e6(this.cp,10,!1),this.L.offset-=8,this.LM=H.from(Uint16Array,{length:this.cp},function(){var Lb;Lb=Math.floor((this.L.Yb() + 1) * ob) / Bb;this.L.offset+=6;return Lb;},this),gb=Ra=0);Ra <= Wa;++Ra){for(;gb < db.length && db[gb] < Ra;){++gb;}this.nM[Ra]=gb;}this.ej={nM:this.nM,LM:this.LM,eh:this.eh};return !0;};p.Jc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Jc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.nK=function(){var Ra;Ra=this.qt("tfhd");Ra && (this.Ww=Ra.XLa?Ra.Ww:this.parent.startOffset);return !0;};u.Jc=!1;u.prototype=new J();u.prototype.constructor=u;u.prototype.parse=function(){var Ra,Vb;Ra=this.L.offset;this.vg();if(1 === this.version){this.L.console.trace("translating vpcC box to draft equivalent");this.L.offset+=2;for(var Wa=this.L.offset,gb=this.L.Pd(),db=this.L.Pd(),ob=this.L.Pd(),Bb=this.L.Pd(),Gb=this.L.Jh(),Lb=[],ac=0;ac < Gb;++ac){Lb=this.L.Pd();}ac=(gb & 240) >>> 4;Vb=(gb & 14) >>> 1;gb&=1;ob=16 === ob?1:0;db != Bb && this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + db + " and matrixCoefficients " + Bb + " should be the same value!");Bb=2;switch(db){case 1:Bb=2;break;case 6:Bb=1;break;case 9:Bb=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries " + db + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.kb.s8(this.version,Ra);this.kb.s8(ac << 4 | Bb,Wa++);this.kb.s8(Vb << 4 | ob << 1 | gb,Wa++);Gb+=2;Lb.push(0,0);this.kb.kZb(Gb);Wa+=2;Lb.forEach(function(Cb){this.kb.s8(Cb,Wa++);});}return !0;};w.Jc=!1;w.prototype=new J();w.prototype.constructor=w;w.mf="tfhd";Object.defineProperties(w.prototype,{XLa:{get:function(){return this.flags & 1;}},MRb:{get:function(){return this.flags & 2;}},Ktb:{get:function(){return this.flags & 8;}},Ntb:{get:function(){return this.flags & 16;}},Ltb:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.vg();this.Wra=this.L.Yb();this.Ww=this.XLa?this.L.fk():void 0;this.MRb && this.L.Yb();this.X0=this.Ktb?this.L.Yb():void 0;this.Z0=this.Ntb?this.L.Yb():void 0;this.Y0=this.Ltb?this.L.Yb():void 0;return !0;};v.Jc=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(){this.vg();this.U_=1 === this.version?this.L.fk():this.L.Yb();return !0;};v.prototype.wa=function(Ra){var Wa;Wa=this.startOffset + 12;this.U_+=Ra;1 === this.version?this.kb.lZb(this.U_,Wa):this.kb.qr(this.U_,Wa);};x.Jc=!1;x.prototype=new J();x.prototype.constructor=x;Object.defineProperties(x.prototype,{yOa:{get:function(){return this.flags & 1;}},hia:{get:function(){return this.flags & 4;}},D6:{get:function(){return this.flags & 256;}},E6:{get:function(){return this.flags & 512;}},$1a:{get:function(){return this.flags & 1024;}},cqa:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.vg();this.hMa=this.L.offset;this.Je=this.L.Yb();this.nx=this.yOa?this.L.gpa():0;this.hia && this.L.Yb();this.cV=(this.D6?4:0) + (this.E6?4:0) + (this.$1a?4:0) + (this.cqa?4:0);this.P1=this.L.offset;C(this.yOa,"Expected data offset to be present in Track Run");C(this.length - (this.L.offset - this.startOffset) === this.Je * this.cV,"Expected remaining data in box to be sample information");return !0;};x.prototype.fQ=function(Ra,Wa,gb){var db,ob,Bb;db=this.D6?this.L.Yb():Ra.X0;ob=this.E6?this.L.Yb():Ra.Z0;Ra=this.$1a?this.L.Yb():Ra.Y0;Bb=0 === this.version?this.cqa?this.L.Yb():0:this.cqa?this.L.gpa():0;return {LRb:Bb,V8b:Ra,D8b:gb + Bb - (void 0 !== Wa?Wa:Bb),Hy:ob,dV:db};};x.prototype.wa=function(Ra,Wa,gb,db,ob,Bb,Gb){var Lb,ac,Vb,Cb;Lb=0;ac=0;this.kb.offset=this.P1;for(db=0;db < ob;++db){Vb=this.fQ(Wa,Cb,ac);if(0 == db)Cb=Vb.LRb;Lb+=Vb.Hy;ac+=Vb.dV;}db=ob;ob=this.L.offset;Vb=this.fQ(Wa,Cb,ac);this.dN=db;this.gUb=ac;if(Gb){if((this.BM=this.nx + Lb,this.$s=0,db === this.Je))return !0;}else if((this.BM=this.nx,this.$s=Lb,0 === db))return !0;if(0 === db || db === this.Je)return !1;this.n1=!0;if(Gb){this.$s+=Vb.Hy;for(Gb=db + 1;Gb < this.Je;++Gb){Vb=this.fQ(Wa,Cb,ac);this.$s+=Vb.Hy;}this.kb.offset=this.hMa;this.Je=db;this.kb.qr(this.Je);this.kb.Usa(Bb);this.hia && (this.L.offset+=4);this.Ll(this.length - (ob - this.startOffset),ob);}else (Wa=ob - this.P1,this.kb.offset=this.hMa,this.Je-=db,this.kb.qr(this.Je),this.nx+=Lb,this.kb.Usa(Bb,this.nx),this.hia && (this.L.offset+=4),this.Ll(Wa,this.kb.offset));gb.Ll(this.$s,Ra.Ww + this.BM);return !0;};x.prototype.NQb=function(Ra,Wa,gb,db,ob,Bb){var Lb;if(db){db=this.BM;for(var Gb=this.Je - 1;0 <= Gb && this.Je - Gb <= ob;--Gb){this.kb.offset=this.P1 + Gb * this.cV;Lb=this.fQ(Wa);if(Lb.dV != Bb.duration){this.L.console.warn("Could not replace sample of duration " + Lb.dV + " with silence of duration " + Bb.duration);break;}if(this.E6)(this.kb.offset-=this.cV - (this.D6?4:0),this.kb.qr(Bb.Ky.byteLength));else if(Bb.Ky.byteLength !== Lb.Hy){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}db-=Lb.Hy;gb.VU(Lb.Hy,Bb.Ky,Ra.Ww + db);}}else for((db=this.BM + this.$s,Gb=0);Gb < this.Je && Gb < ob;++Gb){this.kb.offset=this.P1 + (Gb + this.dN) * this.cV;Lb=this.fQ(Wa);if(Lb.dV != Bb.duration){this.L.console.warn("Could not replace sample of duration " + Lb.dV + " with silence of duration " + Bb.duration);break;}if(this.E6)(this.kb.offset-=this.cV - (this.D6?4:0),this.kb.qr(Bb.Ky.byteLength));else if(Bb.Ky.byteLength !== Lb.Hy){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}gb.VU(Lb.Hy,Bb.Ky,Ra.Ww + db);db+=Lb.Hy;}};y.Jc=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{fE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.vg();this.fE && this.L.QB();this.fE && this.L.Yb();this.Mtb=this.L.Pd();this.Je=this.L.Yb();this.L.f6(this.Je);return !0;};y.prototype.wa=function(Ra,Wa){if(Ra && 0 === this.Mtb){Ra=Wa?this.Je - Ra:Ra;this.kb.offset=this.startOffset + 13 + (this.fE?8:0);this.Je-=Ra;this.kb.qr(this.Je);this.aqa=0;if(Wa)this.kb.offset+=this.Je;else {for(Wa=0;Wa < Ra;++Wa){this.aqa+=this.kb.Pd();}this.kb.offset-=Ra;}this.Ll(Ra,this.L.offset);}return !0;};z.Jc=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{fE:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.vg();this.fE && this.L.QB();this.fE && this.L.Yb();this.cp=this.L.Yb();C(1 === this.cp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.nx=0 === this.version?this.L.gpa():this.L.APb();return !0;};z.prototype.wa=function(Ra,Wa){this.nx+=Ra;this.kb.offset=this.startOffset + 16 + (this.fE?8:0) + (0 === this.version?0:4);this.kb.Usa(Wa,this.nx);return !0;};B.Jc=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;Object.defineProperties(B.prototype,{OZa:{get:function(){return this.flags & 1;}},mYb:{get:function(){return this.flags & 2;}}});B.prototype.parse=function(){this.vg();this.OZa && (this.L.Yb(),this.L.f6(16));this.Je=this.L.Yb();return !0;};B.prototype.wa=function(Ra,Wa){var gb,db;gb=Wa?this.Je - Ra:Ra;this.kb.offset=this.startOffset + 28 + (this.OZa?20:0);this.Je-=gb;this.kb.qr(this.Je);Ra=this.kb.offset;if(this.mYb)for(gb=Wa?this.Je:gb;0 < gb;--gb){this.kb.offset+=8;db=this.kb.Jh();this.kb.offset+=6 * db;}else this.kb.offset+=8 * (Wa?this.Je:gb);Wa?this.Ll(this.length - (this.L.offset - this.startOffset),this.L.offset):this.Ll(this.L.offset - Ra,Ra);};A.Jc=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.vg();return !0;};A.prototype.wa=function(Ra,Wa,gb){gb?this.Ll(Wa - Ra,this.startOffset + 12 + Ra):this.Ll(Ra,this.startOffset + 12);return !0;};E.Jc=!1;E.prototype=Object.create(J.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.vg();this.L.QB();1 === this.version && this.L.Yb();this.cp=this.L.Yb();this.eV=[];for(var Ra=0;Ra < this.cp;++Ra){for(var Wa=this.L.Yb(),gb=this.L.Yb(),db=0;db < Wa;++db){this.eV.push(gb);}}return !0;};E.prototype.wa=function(Ra,Wa){this.eV=Wa?this.eV.slice(0,Ra):this.eV.slice(Ra);Ra=this.eV.reduce(function(gb,db){0 !== gb.length && gb[gb.length - 1].group === db || gb.push({group:db,count:0});++gb[gb.length - 1].count;return gb;},[]);this.kb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.kb.qr(Ra.length);Ra.forEach((function(gb){this.kb.qr(gb.count);this.kb.qr(gb.group);}).bind(this));this.cp > Ra.length && this.Ll(8 * (this.cp - Ra.length));this.cp=Ra.length;return !0;};D.Jc=!1;D.prototype=Object.create(J.prototype);D.prototype.constructor=D;da={Zc:{moov:g,trak:c,mdia:c,mdhd:l,minf:c,encv:da,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:w,trun:x,sbgp:E,sdtp:A,saiz:y,saio:z,tfdt:v,mdat:D,vmaf:d},GWb:{vpcC:u,SmDm:t("smdm"),CoLL:t("coll")},m5a:{schm:Ja},bqa:{}};F([wa,R,L,Q,ra,Qa,I,K,kb,bb,O,P,M,N,a],da.Zc);F([ha,la,ya,U,ma,ta,va,S,Sa,Pa],da.bqa);F([wa,Ja],da.m5a);da.Zc[b.PBa]=h;da.Zc[b.WX]=k;da.Zc[b.VX]=n;da.Zc[b.OBa]=B;da.bqa[b.J$]=$a;da.yg=J;r.exports={RL:da};},function(r,b){function a(c,g){var l,m,d,f,h;if("number" !== typeof c || "number" !== typeof g)c=!1;else if(c && g){l=Math;m=l.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=m.call(l,c * g / f);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(g,l){"object" === typeof g?(this.Jr=g.Kb,this.nl=g.U):(this.Jr=g,this.nl=l);}c.lb=function(g){return new c(g,1E3);};c.H7=function(g,l){return Math.floor(1E3 * g / l);};c.ona=function(g,l){return Math.floor(g * l / 1E3);};c.max=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Kb:{get:function(){return this.Jr;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.nl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{X:{get:function(){return 1E3 * this.Jr / this.nl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kh:{get:function(){return this.Jr / this.nl;},enumerable:!0,configurable:!0}});c.prototype.Ng=function(g){g/=this.U;return new c(Math.floor(this.Kb * g),Math.floor(this.U * g));};c.prototype.add=function(g){var l;if(this.U === g.U)return new c(this.Kb + g.Kb,this.U);l=a(this.U,g.U);return this.Ng(l).add(g.Ng(l));};c.prototype.Sa=function(g){return this.add(new c(-g.Kb,g.U));};c.prototype.Q4=function(g){return new c(this.Kb * g,this.U);};c.prototype.wn=function(g){var l;if(this.U === g.U)return this.Kb / g.Kb;l=a(this.U,g.U);return this.Ng(l).wn(g.Ng(l));};c.prototype.STa=function(g){return a(this.U,g);};c.prototype.T0a=function(){return new c(this.U,this.Kb);};c.prototype.compare=function(g,l){var m;if(this.U === l.U)return g(this.Kb,l.Kb);m=a(this.U,l.U);return g(this.Ng(m).Kb,l.Ng(m).Kb);};c.prototype.equal=function(g){return this.compare(function(l,m){return l === m;},g);};c.prototype.c5=function(g){return this.compare(function(l,m){return l !== m;},g);};c.prototype.lessThan=function(g){return this.compare(function(l,m){return l < m;},g);};c.prototype.greaterThan=function(g){return this.compare(function(l,m){return l > m;},g);};c.prototype.rF=function(g){return this.compare(function(l,m){return l <= m;},g);};c.prototype.Fn=function(g){return this.compare(function(l,m){return l >= m;},g);};c.prototype.toJSON=function(){return {ticks:this.Kb,timescale:this.U};};c.prototype.toString=function(){return this.Kb + "/" + this.U;};c.nb=new c(0,1);c.BB=new c(1,1E3);return c;})();b.S=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.L.offset+=6;this.L.Jh();return !0;};return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(146),b);r.__exportStar(a(240),b);r.__exportStar(a(241),b);r.__exportStar(a(242),b);r=a(241);c=a(242);a=a(240);b.TJ={3:a.Lwa,4:r.Uva,5:c.e$a};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.L.Jh();m=this.L.Pd();this.OUb=! !(m & 128);this.Feb=! !(m & 64);this.ocb=! !(m & 32);this.OUb && this.L.Jh();this.Feb && this.L.f6(this.L.Pd());this.ocb && this.L.Jh();this.yJa();return !0;};l.tag=3;return l;})(a(146).x9);b.Lwa=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.SKb=this.L.Pd();this.L.Pd();this.L.Jh();this.L.Pd();this.maxBitrate=this.L.Yb();this.Omb=this.L.Yb();this.yJa();return !0;};l.tag=4;return l;})(a(146).x9);b.Uva=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(146);g=a(239);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.H0a=function(){15 !== this.L.ug(4) || this.L.ug(24);};m.prototype.parse=function(d){if(this.aFb(d) && 64 === d.SKb)switch((this.eE=this.z0a(),this.H0a(),this.L.ug(4),this.Fwb=5 === this.eE || 29 === this.eE?5:-1,0 < this.Fwb && (this.H0a(),this.eE=this.z0a(),22 === this.eE && this.L.ug(4)),this.eE)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.tRa=this.L.ug(1),(this.Wtb=this.L.ug(1)) && this.L.ug(14),this.L.ug(1),this.Y1=3 === this.eE?256:23 === this.eE?this.tRa?480:512:this.tRa?960:1024);}this.skip();return !0;};m.prototype.z0a=function(){var d;d=this.L.ug(5);31 === d && (d=32 + this.L.ug(6));return d;};m.prototype.aFb=function(d){return d.tag === g.Uva.tag;};m.tag=5;return m;})(r.x9);b.e$a=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var g;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);g=new Uint8Array(c);a.reduce(function(l,m){g.set(new Uint8Array(m),l);return l + m.byteLength;},0);return g.buffer;};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(405);g=a(236);l=a(406);r=(function(){function m(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var f;f=new l.Yva(this.view.byteLength);this.rf=new c.a9(g.RL.Zc,f,this.view,this.console,{coa:!0});d=this.rf.parse(d);this.Zc=this.rf.Zc;return d;};return m;})();b.TC=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gz=void 0;r=a(39);a=a(122);c=(function(){function g(l,m){this.lq=l;this.vI=m.Ua;this.Tt=m.fb;}Object.defineProperties(g.prototype,{Ua:{get:function(){return void 0 !== this.vI?this.vI:this.lq.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fb:{get:function(){return void 0 !== this.Tt?this.Tt:this.lq.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.lq.U;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wk:{get:function(){return this.lq.Wk;},enumerable:!1,configurable:!0}});g.prototype.nV=function(l){this.Tt=l;};g.prototype.ufa=function(){this.Tt=void 0;};return g;})();b.gz=c;r.hf(a.xC,c);r.hf(a.vC,c);},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.RN=void 0;c=a(0);r=c.__importDefault(a(121));g=a(84);l=a(174);a=(function(m){function d(f,h,k,n,p,q,t){h=m.call(this,f,h,k,n,p,q,t) || this;l.vt.Wa(h,f,n);return h;}c.__extends(d,m);return d;})(g.fH);b.RN=a;r.default(l.vt.prototype,a.prototype);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(911),b);},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q){return q.Sa(d.S.lb(q.iG));}Object.defineProperties(b,{__esModule:{value:!0}});b.d9=b.Ls=void 0;g=a(0);r=a(17);l=g.__importDefault(a(28));m=g.__importDefault(a(3));d=a(21);f=a(5);h=a(912);k=a(412);n=a(84);p=a(64);b.Ls=c;a=(function(q){function t(u,w,v,x,y,z,B,A){var E,D;D=q.call(this) || this;D.u=u;D.Rf=w;D.lf=v;D.Rc=x;D.G=y;D.P=z;D.aA=B;D.Fg=A;D.Af=D.u.error.bind(D.u);D.ub=D.u.warn.bind(D.u);D.Ck=D.u.trace.bind(D.u);null === (E=x.events) || void 0 === E?void 0:E.addListener("ready",function(){D.St();});D.G.lqa && (D.Yma=new h.VAa(D.G,D.Rf,D.lf.Rb,D.u));D.reset();return D;}g.__extends(t,q);Object.defineProperties(t.prototype,{endOfStream:{get:function(){return this.oZ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$_:{get:function(){return this.Rc?this.Rc.$_:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{VYb:{get:function(){return this.Bk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{oGb:{get:function(){return this.mi;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{k4a:{get:function(){return ! !this.Rc.dwb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ry:{get:function(){return ! !this.Rc.reset;},enumerable:!1,configurable:!0}});t.prototype.reset=function(u){var w,v,x;this.zk=!1;u || (this.Bk=[]);this.mi=this.dca=this.NI=void 0;this.Pba=!1;this.yca=void 0;this.SZ=d.S.nb;this.xw=void 0;this.oZ=!1;this.jda(d.S.nb);null === (v=(w=this.Rc).reset) || void 0 === v?void 0:v.call(w);null === (x=this.Yma) || void 0 === x?void 0:x.reset();};t.prototype.dRa=function(){this.dca=!0;};t.prototype.pause=function(){this.zk=!0;};t.prototype.resume=function(){this.zk=!1;this.St();};t.prototype.fs=function(){this.zk || this.St();};t.prototype.Zia=function(){var u;return null === (u=this.mi) || void 0 === u?void 0:u.me;};t.prototype.qmb=function(u){var w;if(this.G.TPa){f.assert(u.Ka);w=u.Ka.wb;f.assert(void 0 !== u.Sb);f.assert(void 0 !== w.Fb);if(u.Sb >= w.Fb)return;}this.Bk.push(u);this.St();};t.prototype.mr=function(){this.St();};t.prototype.q6=function(u){u=this.Bk.indexOf(u);-1 !== u && this.Bk.splice(u,1);};t.prototype.WYa=function(u,w){this.G.bea && w && void 0 === this.mi && this.kHa(u,0);this.St();};t.prototype.f5=function(){this.oZ || (this.oZ=!0,this.St(),this.k4a || this.Rc.endOfStream());};t.prototype.Q6=function(){return JSON.stringify(this.Bk);};t.prototype.jda=function(u){var w;null !== (w=this.oda) && void 0 !== w && w.equal(u) || (this.oda=u,this.Rc.lTb(u.Kb,u.U));};t.prototype.St=function(){var u,w,v,x,y,z,B,A,E;w=this.G;if(this.Bk.length || this.mi && !this.mi.De)if(!this.Rc || !1 === this.Rc.ready)this.ZI("@" + m.default.time.ba() + ", append: not appending, sourceBuffer not ready");else if(!this.mi || this.mi.De || this.mi.Cs())if(this.mi && !this.mi.De || this.Bk.length)if(this.zk){v=this.mi && !this.mi.De?this.mi:this.Bk[0];this.ZI("@" + m.default.time.ba() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(v));}else if((!this.mi || this.mi.De || (this.MHa(this.mi),this.mi.De)) && this.Bk.length)if((v=this.Bk[0],!v.complete && v.aborted))(this.ub("aborted MediaRequest should not appear in the toAppend list",v.toString()),this.ZI("@" + m.default.time.ba() + ", append: removing aborted request from toAppend: " + v.toString()),this.Bk.shift());else {x=v.stream;y=x.M;if(x.Gh)if(this.CTb(x,v.index))(this.dca=!1,this.kHa(x,v.index));else {z=this.P.Jn(y);B=this.YDb(x);if(z || B || !(this.Pba && x.track.IT || w.p8))if((x=this.qTa(v),this.Rf !== l.default.jb.Pb || !v.Kq && !v.Vx || !v.wa || w.Ey || this.oZ || 1 !== this.Bk.length || !(x > w.UT) || null !== (u=v.mG) && void 0 !== u && u.I3)){if(w.TPa || w.Fvb)if((u=v.Ka.wb,z=this.kub())){A=u.Vj;E=v.Fb >= z;x=x > w.UT;if(z < u.Fb && E && x && !A)return;}if(w.PMb && this.Fg && (w=this.Fg(y.qb)) && !w.EQ)this.pause();else {this.Pba || (this.Pba=B);this.Bk.shift();try{this.ffb(v);}catch(D){throw (this.u.error(D),D);}}}else this.WRb();}}};t.prototype.WRb=function(){var u;u=this;this.aA && (this.xla?this.xla.PEb || this.xla.Xk():this.xla=this.aA.AE(function(){return u.eGb();},"JIT Appender"));};t.prototype.eGb=function(){var u,w,v,x;return g.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.Bk.length)return [3,3];u=this.Bk[0];if(!u.Kq && !u.Vx || (null === (x=u.mG) || void 0 === x?0:x.I3))return [2];w=this.qTa(u);v=this.G.UT;return w > v?[4,p.vk.GN(d.S.lb(w - v))]:[3,2];case 1:(y.wg(),y.label=2);case 2:return (this.St(),[3,0]);case 3:return [2];}});};t.prototype.qTa=function(u){return u.Tc - this.P.ie();};t.prototype.CTb=function(u,w){var v;if(this.dca || void 0 === this.NI || u.Fa !== this.NI.Fa)return !0;u=u.Gh;f.assert(u);v=this.NI.EVa;return v === u.length - 1?!1:w >= u[v + 1].Eg;};t.prototype.YDb=function(u){if(0 === u.mediaType || !u.Qx)return !0;if(void 0 === this.NI)return !1;u=u.Gh;f.assert(u);return !1 === u[this.NI.EVa].xl;};t.prototype.kub=function(){throw Error("not supported");};t.prototype.afb=function(u){this.SZ=k.oY.f0(this.G,u.ae,this.lf.Rb,this.u);};t.prototype.kHa=function(u,w){var v;v=u.Gh.reduce(function(x,y,z){return y.Eg <= w?z:x;},0);if(this.Rc.appendBuffer(u.Gh[v].data,{Ac:!0,profile:u.profile,bitrate:u.bitrate,Fa:u.id}))(this.ZI("@" + m.default.time.ba() + ", header appended, streamId: " + u.Fa),this.NI={Fa:u.Fa,EVa:v},this.kjb(u.M.qb || 0,u.Fa,v),this.afb(u),this.St());else throw (this.ub("appendHeader error: " + this.Rc.error),this.ZI("@" + m.default.time.ba() + ", appendHeader error: " + this.Rc.error),Error("appendHeaderError"));};t.prototype.ffb=function(u){var w,v,x,y,z,B,A;x=u.b6 || d.S.nb;y=u.Ka.wb.R;y.ta && Infinity !== y.ta && (x=new d.S(y.ta,1E3).add(x).kh,Infinity === this.lf.duration || this.lf.duration < x) && (this.lf.duration=x);if(this.Yma){x=!0;y=!1;z=d.S.nb;B=void 0 !== u.mt?d.S.lb(u.mt).add(u.b6):void 0;A=null === (w=this.Bk[0]) || void 0 === w?void 0:w.ek;w={endOfStream:this.endOfStream || !(null === (v=u.mG) || void 0 === v || !v.I3),y4:B,una:A};v=this.Yma.append(u,w);this.jda(v);}else (y=x=!1,z=d.S.nb,this.lhb(u));this.xw && z && (this.xw=this.xw.add(z));this.MHa(u,x,y);};t.prototype.MHa=function(u,w,v){var x,y,z;v=u.dE(this.Rc,this.lf.Rb,this.mi,this.Bk[0],w,v);w=v.status;(v=v.$h) && this.emit(v.type,v);w !== n.Li.jf?(this.mi=u,w === n.Li.Mv && (void 0 === this.xw || this.Rf !== l.default.jb.Pb || u.ek.equal(this.xw) || (this.fjb(u,this.xw),this.xw=void 0),this.ZI("@" + m.default.time.ba() + ", request appended, type: " + u.mediaType + ", streamId: " + u.Fa + ", pts: " + u.Tc + "-" + u.me),u.Kq || u.Vx?(this.xw=u.fh,this.Afb(u,this.oda || d.S.nb),null === (y=(x=this.Rc).dwb) || void 0 === y?void 0:y.call(x,u.mG),this.G.mC && this.G.LE && (null === (z=u.mG) || void 0 === z?0:z.I3) && this.f5()):this.xw=void 0,this.ljb(u),this.St())):this.efb(u);};t.prototype.efb=function(u){if(void 0 !== this.Rc.error){if("done" === this.Rc.error)return;this.Af("failure to append queued mediaRequest: " + (u && u.toJSON()) + " err: " + this.Rc.error);throw this.Rc.error;}u=Error("failure to append queued mediaRequest: " + (u && JSON.stringify(u)) + " err: " + this.Rc.error);this.Af(u.message);throw u;};t.prototype.lhb=function(u){var w,v,x;v=u.b6 || d.S.nb;if(void 0 === this.yca || v && !v.equal(this.yca)){x=this.SZ.add(v);this.jda(x);this.yca=v;}void 0 === this.mi && !this.G.x4 && u.stream.ae && this.G.Oj && (v=null === (w=u.$c) || void 0 === w?void 0:w.Sa(u.stream.ae).add(this.oda),v.lessThan(d.S.nb) && (w=Math.ceil(v.Q4(-1).wn(u.stream.xa)),u.OR(w)));};t.prototype.Afb=function(u,w){var v,x;v=u.stream.xa;x=u.Hd;this.G.Oj && u.stream.ae && (x=x.Sa(u.stream.ae));c(x.Sa(v)).add(c(v)).add(c(w));};t.prototype.kjb=function(u,w,v){u={type:"headerAppended",mediaType:this.Rf,manifestIndex:u,streamId:w,isIndex:v};this.emit(u.type,u);};t.prototype.ljb=function(u){u={type:"requestAppended",mediaType:this.Rf,request:u};this.emit(u.type,u);};t.prototype.ZI=function(u){u={type:"managerdebugevent",message:u};this.emit(u.type,u);};t.prototype.fjb=function(u,w){var v;v=u.Sb;u=u.ek.Sa(w).X;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,u]}}};this.emit(v.type,v);};return t;})(r.EventEmitter);b.d9=a;},function(r,b,a){var g;function c(l,m){return l < m?-1:l > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.SX=void 0;g=a(0);r=(function(){function l(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Sba(m);}}Object.defineProperties(l.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.data.push(m);this.uda(this.length - 1);};l.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Sba(0));return m;}};l.prototype.bv=function(){return this.data[0];};l.prototype.DOb=function(m){m=this.data.indexOf(m);-1 !== m && this.uda(m);};l.prototype.map=function(m){return this.data.map(m);};l.prototype.find=function(m){return g.__read(this.data.filter(m),1)[0];};l.prototype.clear=function(){this.data=[];};l.prototype.remove=function(m){var d,f,h;d=this.data;m=d.indexOf(m);if(-1 !== m){f=d.pop();if(m < d.length){d[m]=f;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(f,d)?this.uda(m):this.Sba(m);}}};l.prototype.Dmb=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + m);}};l.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};l.prototype.uda=function(m){for(var d=this.data,f=this.compare,h=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= f(h,n))break;d[m]=n;m=k;}d[m]=h;};l.prototype.Sba=function(m){for(var d=this.data,f=this.compare,h=this.length >> 1,k=d[m],n,p,q;m < h;){n=(m << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,k))break;d[m]=q;m=n;}d[m]=k;};return l;})();b.SX=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.FW=void 0;c=a(0);a(5);r=a(39);g=c.__importDefault(a(28));l=c.__importDefault(a(121));m=c.__importDefault(a(3));d=a(251);f=a(72);h=a(84);k=m.default.Wm;n=a(932);a=c.__importDefault(a(933));m=(function(p){function q(t,u,w,v,x,y,z,B){var a00,A;a00=2;for(;a00 !== 6;){switch(a00){case 1:var k2Y="e";k2Y+="di";k2Y+="t";var l2Y="c";l2Y+="ac";l2Y+="h";l2Y+="e";var N2Y="1S";N2Y+="I";N2Y+="YbZrNJCp";N2Y+="9";N2Y;A=[l2Y,k2Y].filter(function(E,D){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:return [x,w.wa][D];break;}}});A=A.length?"(" + A.join(",") + ")":"";a00=3;break;case 2:A=this;a00=1;break;case 7:return A;break;case 3:void 0 === w.responseType && (w.responseType=w.wa || k.Rb && !k.Rb.KM.WH?0:1);A=p.call(this,t,u,A,w,v,y,z) || this;f.gi.Wa(A,t,w,B);a00=7;break;}}}var R8;R8=2;for(;R8 !== 9;){switch(R8){case 2:c.__extends(q,p);q.create=function(t,u,w,v,x,y,z,B){var c00,A,E;c00=2;for(;c00 !== 11;){switch(c00){case 1:return new n.wta(t,w,v,x,y,u,z,B);break;case 5:c00=v.BL && v.$ > v.BL?4:12;break;case 7:B=Math.ceil(v.$ / A);c00=6;break;case 2:c00=!u.Zf && v.wa && t.mediaType === g.default.jb.Bb && k.Rb && k.Rb.KM.WH?1:5;break;case 4:A=Math.ceil(v.$ / v.BL);y=v.offset;E=v.$;x=new d.uC(t,v,x,u,z,B);c00=7;break;case 14:var y2Y="su";y2Y+="bre";y2Y+="quest";(A={offset:y,$:Math.min(E,B),responseType:v.responseType},y+=A.$,E-=A.$,x.push(new h.fH(t,w,y2Y,A,x,u,z)));c00=6;break;case 12:return new q(t,w,v,x,y,u,z,B);break;case 6:c00=0 < E?14:13;break;case 13:return x;break;}}};q.prototype.toString=function(){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:var i2Y="I";i2Y+="D:";i2Y+=" ";return i2Y + this.Fh() + ":" + f.gi.prototype.toString.call(this);break;}}};R8=4;break;case 4:q.prototype.toJSON=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {ID:this.Fh(),request:p.prototype.toJSON.call(this)};break;}}};return q;break;}}})(h.fH);b.FW=m;l.default(a.default,m.prototype);r.hf(f.gi,m,!1);},function(r,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uC=void 0;c=a(0);g=a(5);r=a(39);l=a(9);m=a(29);d=a(410);f=a(72);h=a(84);a=(function(k){function n(p,q,t,u,w,v){t=k.call(this,p,q,t,u,w) || this;f.gi.Wa(t,p,q,v);t.yc=0;t.wa || t.mh();t.De=!1;return t;}c.__extends(n,k);Object.defineProperties(n.prototype,{Ac:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.yc+=p.$;k.prototype.push.call(this,p);};n.prototype.Cs=function(){var p;return !this.De && ! !this.va.length && !(null === (p=m.kg(this.va,function(q){return !q.De;})) || void 0 === p || !p.Cs());};n.prototype.dE=function(p,q){var t,u;g.assert(!this.De);t=h.Li.$bb;u=l.qp(this);this.De=this.va.every(function(w){if(w.De)return !0;if(!w.Cs())return !1;t=w.dE(p,q,void 0,void 0,void 0,void 0,u).status;return t === h.Li.Mv;});t !== h.Li.Mv || this.De || (t=h.Li.wcb);return {status:t};};n.prototype.nQb=function(){this.va.forEach(function(p){p.QU();});};n.prototype.Fh=function(){return this.va?this.va[0].Fh() + "-" + this.va[this.va.length - 1].Fh():"empty";};n.prototype.toString=function(){return "ID: " + this.Fh() + ":" + f.gi.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Fh(),request:k.prototype.toJSON.call(this)};};return n;})(d.K8);b.uC=a;r.hf(f.gi,a);},function(r,b,a){var l,m,d,f,h,k,n,p,q;function c(t,u){return t.done?t:{value:{value:t.value,pKa:u}};}function g(t){t.pKa();return {done:!1,value:t.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Hmb=b.Ddb=b.HW=void 0;l=a(0);r=a(17);m=a(177);d=a(20);f=l.__importDefault(a(3));h=a(9);k=a(5);a=a(39);n=f.default.Promise;p=(function(){function t(u,w){this.console=u;this.tf=w;this.Lhb=this.BP=0;this.Mf=[];this.console=h.Hs(f.default,this.console,"QueueIterator:");}Object.defineProperties(t.prototype,{Xtb:{get:function(){return this.BP;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ANa:{get:function(){var u,w,v;for(w=0;w < this.Mf.length;w++){v=this.Mf[w];if(!v.hT || (null === (u=v.item) || void 0 === u?0:u.done))break;}return w;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{count:{get:function(){return this.tf;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Px:{get:function(){return 0 === this.tf;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Mpa:{get:function(){var u;for(u=0;u < this.Mf.length && this.Mf[u].nla;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{head:{get:function(){var u;u=l.__read(this.Mf,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{wna:{get:function(){var u;for(u=0;u < this.Mf.length && this.Mf[u].hT;u++){;}return u;},enumerable:!1,configurable:!0}});t.prototype.w1=function(){var u;if(void 0 === this.tf){u=this.console;d.ma && u && u.trace("QueueIterator: enqueueEnd");this.ssa(this.wna - (this.tf || 0));}};t.prototype.fo=function(){return this.Mf.map(function(u){return u.item;});};t.prototype.Ura=function(){this.Ho || (this.Ho=this.Mf.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.Ho;};t.prototype.ssa=function(u){var w;d.ma && this.console.trace("updateCount",{m8b:this.tf,RJ:u});if(void 0 !== this.tf){w=this.Mf[this.tf];w && this.Tka(w);}this.tf=void 0 === this.tf?u:void 0 === u?u:this.tf + u;void 0 !== this.tf && (this.tf=Math.max(0,this.tf),(w=this.Mf[this.tf]) && w.mF.resolve({done:!0}));};t.prototype.enqueue=function(u){var w;d.ma && this.console.trace("Enqueue called");w=this.wna;this.m0();return this.ZOb(w,{value:u,done:!1}).VOa.promise;};t.prototype.H1a=function(){d.ma && this.console.trace("resetEnd");this.ssa(void 0);};t.prototype.clear=function(u){var w,v,x;d.ma && this.console.trace("clear");this.p0a();w=this.Mpa;v=this.Mf.length - w;if(0 < v){x={index:w,Ina:v};d.ma && this.console.trace("Removing items",x);this.Mf.splice(w,v);this.m0();this.emit("onRemoved",x);}for(v=1;v < w;v++){this.Tka(this.Mf[v]);}this.tf=void 0;this.ssa(u?u + w:u);this.BP && (this.BP=0);};t.prototype.getIterator=function(){var u,w;u=this;w=h.Hs(f.default,this.console,"QueueIteratorInstance::");return new q(this,function(v){return u.YSa(v);},w);};t.prototype.SJ=function(){var u;if(0 < this.Mpa){u=l.__read(this.Mf,1)[0];if(u.hT)return (d.ma && this.console.trace("dequeue",u.id),this.p0a(1),this.emit("onDequeue",u.mF.promise));}};t.prototype.remove=function(u){var w,v,x;for(w=0;w < this.Mf.length;w++){v=this.Mf[w];x=v.item;if(x && !x.done && x.value === u){this.Mf.splice(w,1);this.tf && this.tf > w && this.tf--;this.m0();d.ma && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:w,Ina:1});break;}}};t.prototype.p0a=function(u){var w;u=u || Math.min(this.Mpa,this.wna);if(0 < u){w=this.Mf.splice(0,u);this.m0();this.tf && (this.tf-=u);d.ma && this.console.trace("pruned",u);n.resolve().then(function(){w.forEach(function(v){v.VOa.resolve();});});this.emit("onRemoved",{index:0,Ina:u});this.BP+=u;}};t.prototype.YSa=function(u){var w;d.ma && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.aVa(u);w=this.Mf[u];w.dRb.resolve();u=w.mF.promise;d.ma && this.console.trace("getNextItem:return",{id:w.id});}else (d.ma && this.console.trace("getNextItem:returnDone"),u=n.resolve({done:!0}));return u;};t.prototype.ZOb=function(u,w){var v;v=!w.done && w.value;v=v && v.toJSON?v.toJSON():v;d.ma && this.console.trace("Providing result",{Ulb:u,item:v});this.aVa(u);u=this.Mf[u];v=u.mF.resolve;v(w);return u;};t.prototype.aVa=function(u){var w;if(void 0 === this.Mf[u]){w={};this.Tka(w);this.Mf[u]=w;u === this.tf && w.mF.resolve({done:!0});d.ma && this.console.trace("Item initialized",{Ulb:u});}};t.prototype.fga=function(u){var w;w={};w.promise=new n(function(v,x){w.resolve=function(y){v(y);u && u(y);};w.reject=x;});return w;};t.prototype.Tka=function(u){var w;w=this;u.mF=this.fga(function(v){u.item=v;u.hT=!0;d.ma && w.console.trace("Item resolved",{id:u.id});});u.id && u.nla && !u.hT && (u.mF.resolve({done:!0}),d.ma && this.console.warn("Overwriting requested queue item",u.id));u.VOa=this.fga();u.dRb=this.fga(function(){u.nla=!0;d.ma && w.console.trace("Item requested",{id:u.id});});u.id=this.Lhb++;u.nla=!1;u.hT=!1;u.item=void 0;};t.prototype.m0=function(){this.Ho=void 0;};t.prototype.Myb=function(){var u,w,v;u=this;w=h.Hs(f.default,this.console,"QueueIteratorInstance::");v=new q(this,function(x){var y,z;if(0 === u.count)return m.AsyncIterator.Ija();y=u.YSa(x);z=u.Mf[0];return y.then(function(B){return c(B,function(){v.aL || (z === u.Mf[0]?u.SJ():k.assert(!u.Mf.filter(function(A){return A.mF.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},w);return v;};return t;})();b.HW=p;a.hf(r.EventEmitter,p);q=(function(t){function u(w,v,x){var y;y=t.call(this,function(){d.ma && y.console.trace("Next item requested",{index:y.index});return y.ERb(y.index++);}) || this;y.parent=w;y.ERb=v;y.console=x;y.KI=!1;y.index=0;y.kca=!1;y.sZa=function(z){var B;B=z.index;z=z.Ina;y.index >= B && (y.index=Math.max(B,y.index - z));B=y.console;d.ma && B && B.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}l.__extends(u,t);u.prototype.$g=function(){this.console.trace("disposed");this.KI=!0;this.kc();t.prototype.$g.call(this);};u.prototype.next=function(){this.aL || this.YK();return t.prototype.next.call(this);};u.prototype.cancel=function(){this.kc();return t.prototype.cancel.call(this);};u.prototype.kc=function(){this.parent.KF("onRemoved",this.sZa);this.kca=!1;};u.prototype.YK=function(){this.kca || (this.kca=!0,this.parent.on("onRemoved",this.sZa));};return u;})(m.AsyncIterator);b.Ddb=q;b.Hmb=function(t){return m.map(t,g);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.M5=void 0;c=a(16);b.M5=function(g){switch(g){case c.ga.Dc:g=c.jc.Dc;break;case c.ga.Xe:g=c.jc.Xe;break;case c.ga.zg:case c.ga.ji:case c.ga.aq:g=c.jc.ji;break;default:g=c.jc.Kj;}return g;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hH=void 0;c=a(255);r=(function(){var f00;f00=2;for(;f00 !== 3;){switch(f00){case 2:g.prototype.dPa=function(l,m){var h00,d;h00=2;for(;h00 !== 3;){switch(h00){case 2:d=null === this.rea?l * (100 - this.config.A7) / 100:c.dea(l,this.rea);m=null !== m && void 0 !== m?m:this.yL;this.config.Vla && m?(l=c.dea(l,m),l=Math.max(l,d)):l=d;h00=4;break;case 4:return l;break;}}};g.prototype.XM=function(l){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:this.rea=l;i00=1;break;case 4:this.rea=l;i00=0;break;i00=1;break;}}};g.prototype.rsa=function(l){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:this.config=l;j00=1;break;}}};return g;break;}}function g(l,m){var g00;g00=2;for(;g00 !== 3;){switch(g00){case 2:var f2Y="1SI";f2Y+="YbZ";f2Y+="rN";f2Y+="JCp9";this.config=l;this.yL=m;this.rea=null;f2Y;g00=3;break;}}}})();b.hH=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dea=b.LB=b.pQa=void 0;c=a(0).__importDefault(a(108)).default.qQa;b.pQa=function(g,l,m){var d,f,h;d=0;if(m){g.some(function(k){var n;n=k.b;k=k.m;if(l <= n)return (d=h && n !== f?h + (k - h) / (n - f) * (l - f):k,!0);f=n;d=h=k;return !1;});}else g.some(function(k){d=k.m;return l <= k.b;});return d;};b.LB=function(g,l,m){var d;l=(null === (d=l.Ha) || void 0 === d?void 0:d.Aa) || 0;return g.Umb?(g=c(g.Tmb,m.ul - m.ec,1),l * (1 - g)):l * g.A7 / 100;};b.dea=function(g,l){return g < 2 * l?g / 2:g - l;};},function(r,b,a){var m;function c(){}function g(d,f){this.vq=d;void 0 !== f?(m(f <= d.Nl,"require remain_sec <= chunk.sec but has " + f + " and " + d.Nl),this.gk=f):this.gk=d.Nl;}function l(d){void 0 === d && (d=[]);this.Kl=[];this.Og=this.al=0;for(var f in d){this.add(d[f],void 0);}}m=a(5).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.Wo=function(){return new g(this.vq,this.gk);};l.prototype.constructor=l;l.prototype.add=function(d,f){d=new g(d,f);this.Kl.push(d);this.Og+=d.gk;this.al+=d.vq.Fx() * d.gk;};l.prototype.Wo=function(){var d,f;d=new l(void 0);for(f in this.Kl){d.add(this.Kl[f].vq,this.Kl[f].gk);}return d;};l.prototype.xs=function(){try{return this.Kl[0];}catch(d){}};l.prototype.z_a=function(d){var f;for(m(0 <= d,"unexpected play_for_x_sec: x=" + d);0 < d;){if(void 0 === this.xs())throw new c();if(d < this.xs().gk){f=this.xs().vq.Fx() * d;this.xs().gk-=d;this.Og-=d;this.al-=f;d=0;}else (f=this.Kl.shift(),this.Og-=f.gk,this.al-=f.vq.Fx() * f.gk,d-=f.gk);}};l.prototype.ANb=function(d){var h;m(0 <= d,"unexpected play_y_kb: y=" + d);for(var f=0;0 < d;){if(void 0 === this.xs())throw new c();if(d < this.xs().gk * this.xs().vq.Fx()){h=d / this.xs().vq.Fx();this.xs().gk-=h;this.Og-=h;this.al-=d;f+=h;d=0;}else (h=this.Kl.shift(),this.Og-=h.gk,this.al-=h.vq.Fx() * h.gk,f+=h.gk,d-=h.vq.Fx() * h.gk);}return f;};r.exports={xua:l,D8a:c};},function(r){r.exports={$za:{code:-1,description:"MediaCache is not supported."},W2b:{code:100,description:"Resource was not found"},xbb:{code:101,description:"Resource Metadata was not found"},UH:{code:102,description:"Read failed",Qp:function(b,a){return {code:this.code,description:b,cause:a};}},NY:{code:200,description:"Daily write limit exceeded"},iH:{code:201,description:"Capacity has been exceeded"},MY:{code:202,description:"Write failed, cause unknown",Qp:function(b,a){return {code:this.code,description:b,cause:a};}},Y3b:{code:203,description:"Write failed, cause unknown"},z9a:{code:300,description:"Failed to delete resource",Qp:function(b,a){return {code:this.code,description:b,cause:a};}},oz:{code:900,description:"Invalid partition name"},Xab:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Gva:{code:701,description:"Failed to initialize underlying disk cache."},wbb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={dUa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var g;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(l){c.error && c.error.code == l.error.code && c.error.description === l.error.description && (g=l);});g?g.resources.push(c.Ep):a.push({error:c.error,resources:[c.Ep]});});return a;}},RRa:function(b){var a;a={freeSize:b.um,dailyBytesRemaining:b.OJ,bytesWritten:b.Qj,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.dk,itemBytes:c.M3,error:c.error};}));return a;},hv:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YE=void 0;c=a(0).__importDefault(a(3));g=a(997);b.YE=function(){var m;if(!l){m=new c.default.Console("ASEJS","media|asejs");l=new g.lta(m);}return l;};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CY=void 0;r=a(17);c=a(39);g=a(21);a=(function(){function l(m){void 0 === m && (m={$j:!1,currentTime:g.S.nb,speed:1});this.Td={$j:function(){return "function" === typeof m.$j?m.$j():m.$j;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(l.prototype,{$j:{get:function(){return this.Td.$j();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.Td.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){return this.Td.speed();},enumerable:!1,configurable:!0}});return l;})();b.CY=a;c.hf(r.EventEmitter,a);},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hD=void 0;c=a(20);g=a(9);l=a(58);r=(function(){function m(d){this.kk=d;}Object.defineProperties(m.prototype,{FF:{get:function(){return "trace-" + this.kk.source;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sj:{get:function(){return this.FF;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return c.ma;},enumerable:!1,configurable:!0}});m.prototype.ns=function(d){var f;if(d.nj === l.pe.Cq || d.nj === l.pe.Lp){f=g.IOa(this.kk.aGb);d.nj === l.pe.Cq && this.kk.clear();return f;}};m.prototype.Gb=function(){this.kk.Gb();};return m;})();b.hD=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.D2=b.ws=b.isEqual=b.mT=void 0;c=a(9);b.mT=function(g){return ! !g.aa;};b.isEqual=function(g,l){var m,d;m=b.mT(g);d=b.mT(l);return m === d?m?g.aa === l.aa:g.La === l.La:!1;};b.ws=function(g){if(b.mT(g))return g.aa;g=g.La;return g.ya[g.je].aa;};b.D2=function(g,l){return g.V_?g.V_ instanceof c.S?{offset:g.V_,oa:l.je}:g.V_:{offset:c.S.nb,oa:l.je};};},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Wsa=void 0;c=a(6);g=a(2);l=a(444);m=a(445);d=a(55);b.Wsa=function(f,h){var k,n;try{n=l.W6a(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}d.Ic(function(){if(n && n.documentElement)try{k=m.X6a(n);}catch(p){c.log.error("xmlDoc2js exception",p);}d.Ic(function(){k?h({W:!0,object:k}):h({W:!1,ka:g.K.oxa});});});};},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},uja:function(){return this.buffer.length - this.position;},Ay:function(){return this.buffer[this.position++];},vj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Ap:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},epa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Kg:function(){return this.Ap(2);},Bp:function(){return this.Ap(4);},xM:function(){return this.Ap(8);},nv:function(a){for(var c,g="";a--;){c=this.Ay();g+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return g;},fpa:function(a){for(var c=0,g=0;g < a;g++){c+=this.Ay() << (g << 3);}return c;},wM:function(){return this.fpa(4);},uW:function(a){this.KN(a,2);},ez:function(a){this.KN(a,4);},t8:function(a){this.buffer[this.position++]=a;},KN:function(a,c){this.position+=c;for(var g=1;g <= c;g++){this.buffer[this.position - g]=a & 255;a=Math.floor(a / 256);}},dz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},tW:function(a){for(var c=a.length,g=0;g < c;g++){this.buffer[this.position++]=a[g];}},JN:function(a,c){this.tW(a.vj(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kza="LogMessageRulerConfigSymbol";b.Mza="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.E$="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bY="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.daa="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,f,h,k,n,p;function c(q,t,u,w){this.sa=q;this.K2=t;this.Ia=u;this.profile=w;}function g(){}function l(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=b.kY=void 0;r=a(0);d=a(1);f=a(38);h=a(4);k=a(13);n=a(18);a=a(88);m.prototype.encode=function(q){return {downloadableId:q.Ld,duration:q.duration};};m.prototype.decode=function(q){return {Ld:q.downloadableId,duration:q.duration};};l.prototype.encode=function(q){return {total:q.total,totalContentTime:q.LG,audio:q.audio.map(new m().encode),video:q.video.map(new m().encode),text:q.text.map(new m().encode)};};l.prototype.decode=function(q){var t;return {total:q.total,LG:null !== (t=q.totalContentTime) && void 0 !== t?t:q.total,audio:q.audio.map(new m().decode),video:q.video.map(new m().decode),text:q.text.map(new m().decode)};};g.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.ca,movieId:q.H,position:q.position,clientTime:q.iR,sessionStartTime:q.lV,mediaId:q.DL,playTimes:new l().encode(q.yU),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Zn,mdxControllerEsn:q.Rma,profileId:q.profileId};};g.prototype.decode=function(q){return {type:q.type,href:q.href,ca:q.xid,H:q.movieId,position:q.position,iR:q.clientTime,lV:q.sessionStartTime,DL:q.mediaId,yU:new l().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Zn:q.sessionParams,Rma:q.mdxControllerEsn,profileId:q.profileId};};b.kY=g;c.prototype.create=function(q){return {href:q.la && q.la.oj?q.la.oj.xS("events").href:"",type:"online",ca:q.ca.toString(),H:q.H,position:Math.floor(q.oga || 0),iR:this.sa.R6.da(h.ia),lV:q.XK?q.XK.da(h.ia):-1,DL:this.uzb(q),yU:this.kBb(q),trackId:void 0 !== q.lk?q.lk.toString():"",sessionId:this.K2().sessionId || this.Ia.id,appId:this.K2().appId || this.Ia.id,Zn:q.Va.Zn || ({}),profileId:this.profile};};c.prototype.ksb=function(q,t){return Object.assign({},this.create(q),{Rma:t && t.B0});};c.prototype.load=function(q){return new g().decode(q);};c.prototype.uzb=function(q){var t,u,w;t=q.Yc.value;u=q.xg.value;w=q.Oc.value;return t && u && w?(q=q.la.Bc.media.find(function(v){return v.oh.Pb === t.trackId && v.oh.Bb === u.trackId && v.oh.fl === w.trackId;}))?q.id:"":"";};c.prototype.oja=function(q){return q.map(function(t){return {Ld:t.downloadableId,duration:t.duration};});};c.prototype.kBb=function(q){return (q=q.Tn)?(q=q.jBb(),{total:q.total,LG:q.totalContentTime,audio:this.oja(q.audio),video:this.oja(q.video),text:this.oja(q.timedtext)}):{total:0,LG:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([d.O(),r.__param(0,d.l(f.hi)),r.__param(1,d.l(k.Uc)),r.__param(2,d.l(n.ud)),r.__param(3,d.l(a.ZO))],p);b.KCa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OCa="PboPlaydataValidatorSymbol";b.HCa="PboPlaydataArrayValidatorSymbol";b.JCa="PboPlaydataCollectionValidatorSymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OW=void 0;g=a(10);c.Wfa=function(l){var m;if(g.ye.queryCommandSupported && g.ye.queryCommandSupported("copy")){m=g.ye.createElement("textarea");m.textContent=l;m.style.position="fixed";g.ye.body.appendChild(m);m.select();try{g.ye.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{g.ye.body.removeChild(m);}}};b.OW=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.p$=void 0;b.p$=a;a.B9a="display";a.S8a="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uT=void 0;b.uT=function(a,c,g){var l;if(g.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");l=g.get;g.get=function(){var m,d;m=l.apply(this,arguments);d={enumerable:g.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.waa=b.TH=void 0;r=b.TH || (b.TH={});r.JVb="taskstart";r.HVb="taskabort";r.IVb="taskfail";r.KVb="tasksuccess";b.waa="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f9="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lta="AsePrefetcherAdapterSymbol";b.Mta="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.O8=b.pe=void 0;r=b.pe || (b.pe={});r[r.$B=0]="startPlayback";r[r.Cq=1]="endPlayback";r[r.Lp=2]="underflow";b.O8="AseIntegrationFactorySymbol";},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.xG=void 0;c=a(12);g=a(11);l=a(60);m=a(50);d=a(2);f=a(19);h=a(6);k=a(22);n=a(10);p=a(279);q=a(14);r=a(31);h.fa.get(r.Pg).register(d.J.Bya,function(t){var v,x,y;function u(){var z;u=c.Ti;z=setInterval(w,g.config.wHb);l.df.addListener(l.ym,function(B){B && B.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):(k.Wd(x,function(A,E){localStorage.removeItem(E.Mq);}),clearInterval(z));},c.YC);}function w(){var z;z=m.o0();k.Wd(x,function(B,A){!1;B=localStorage.getItem(A.Mq);(B=JSON.parse(B))?B.updated=z:B={updated:z,sessionId:y,count:1};localStorage.setItem(A.Mq,JSON.stringify(B));});}f.Za(p.storage);v=h.Dh("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.xG={Kw:function(z,B,A){var D,F,C,G,H,J,I,M,N,K;function E(O){localStorage.setItem(C,JSON.stringify(O));O={Mq:C};x[C]=O;v.trace("Lock acquired",{Name:O.Mq});u();B({W:!0,e4:O});}D=this;A=void 0 === A?!1:A;if(localStorage){F=m.o0();C="lock-" + z;G={updated:F,sessionId:y,count:1};try{if((C in localStorage)){H=localStorage.getItem(C);J=0;I=JSON.parse(H);q.Rx(I.updated) && (J=I.updated);M=n.PC(F - J) * c.sk;N=y === I.sessionId;if(M < g.config.JWa){if(N)(I.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:y,count:I.count}),I.updated=F,E(I));else if(A){K=g.config.JWa - M + c.sk;v.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:I.count,Epoch:F,LockEpoch:J,waitTimeoutMs:K});lb.setTimeout(function(){return D.Kw(z,B,!1);},K);}else B({W:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:J}),E(G));}else E(G);}catch(O){v.error("Error acquiring Lock",{errorSubCode:d.K.Ni,errorDetails:k.md(O)});B({W:!0});}}else (n.Zla?v.error("Local storage access exception",{errorSubCode:d.K.deb,errorDetails:k.md(n.Zla)}):v.error("No localstorage",{errorSubCode:d.K.eeb}),B({W:!0}));},release:function(z,B){var A,E;f.Za(x[z.Mq] == z);if(localStorage){try{A=localStorage.getItem(z.Mq);E=JSON.parse(A);1 < E.count?(--E.count,localStorage.setItem(z.Mq,JSON.stringify(E)),v.trace("Lock count decremented",{Name:z.Mq,count:E.count})):(localStorage.removeItem(z.Mq),delete x[z.Mq],v.trace("Lock released",{Name:z.Mq}));}catch(D){v.error("Unable to release Lock",{Name:z.Mq},D);}B && B(c.ze);}}};g.config.u1?b.xG.Kw("session",function(z){b.xG.D2a=z;t(c.ze);}):t(c.ze);});},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(11);g=a(12);l=a(502);r=a(2);m=a(503);d=a(505);f=a(6);a=a(31);b.storage=b.storage || void 0;f.fa.get(a.Pg).register(r.J.Aya,function(h){var k;switch(c.config.LUb){case "idb":k=m.T3a;break;case "none":k=l.V3a;break;case "ls":k=d.U3a;}k(function(n){n.W?(b.storage=n.storage,h(g.ze)):h(n);});});},function(r,b,a){var l,m,d,f,h,k,n,p,q,t,u,w;function c(v,x){var z;function y(){function B(A,E){return E.Yd && 0 !== E.Yd.length && E.Yd[0].sF?l.By(v,E).then(function(){z.trace("Successfully released license for session",JSON.stringify(E));return A?A.TU(E):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({Db:E,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),A?A.TU(E):Promise.resolve());}g(z).then(function(A){var E;E=A.l1.filter(function(D){return !1 === D.active;}).map(function(D){return B(A,D);});Promise.all(E).then(function(){z.info("release drm session completed for " + E.length + " entries");x(m.ze);}).catch(function(D){D=D || ({});D.DrmCacheSize=E.length;z.error("Unable to release one or more DRM session data",D);x(m.ze);});}).catch(function(A){z.error("Unable to load DRM session data",A);x(m.ze);});}z=k.Dh("PlayDataManager");x=x || m.Ti;d.config.Mp?x(m.ze):y();}function g(v){var x;if(!b.dha){x=k.fa.get(n.g9);b.dha=new Promise(function(y,z){x.C0a().then(function(){y(x);}).catch(function(B){v.error("Unable to load DRM data for license release",B);z(B);});});}return b.dha;}Object.defineProperty(b,"__esModule",{value:!0});b.bDa=b.aDa=b.dha=void 0;l=a(281);m=a(12);d=a(11);f=a(60);h=a(32);k=a(6);r=a(2);n=a(199);p=a(183);q=a(15);t=a(56);u=a(31);w=a(195);b.aDa=function(v){var z,B,A,E,D,F;function x(){B || (v.zd("pdsb"),B=k.fa.get(p.lY)().then(function(C){E=C;v.zd("pdsc");return C;}).catch(function(C){z.error("Unable to initialize the playdata services",C);v.zd("pdse");throw C;}));return B;}function y(){A=!0;E && E.close();f.df.removeListener(f.ym,y);}z=k.Eh(v,"PlayDataManager");A=!1;D=k.fa.get(h.yz);if(!D.sH || !D.qH){F=k.fa.get(w.kaa)();D.sH=F.Db;D.qH=F.request;}v.zd("pdctor");v.addEventListener(q.T.Tf,function(){f.df.removeListener(f.ym,y);});v.addEventListener(q.T.tL,function(){var C;if(!d.config.Mp && v.Ee){C=v.rR.aOa();g(z).then(function(G){return G.vKa(C);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.T.Tf,function(){var C;if(!A){v.TYb();C=[(function(){return d.config.Mp || !v.Ee?Promise.resolve():new Promise(function(G){var H;z.info("Sending the expedited playdata");H=v.rR.aOa();v.Ee.uQa(H).then(function(){z.info("Sent the expedited playdata");return g(z);}).then(function(J){return J?J.TU(H):Promise.resolve();}).then(function(){G(void 0);}).catch(function(J){z.error("Unable to send the expedited playdata",J);G();});});})(),(function(){return x().then(function(G){return G.S3a(v.ha);}).then(function(){z.info("Sent the playdata");}).catch(function(G){z.error("Unable to send the playdata",G);});})(),(function(){return new Promise(function(G){k.fa.get(t.Wp).flush(!1).catch(function(){z.error("Unable to send logblob");G(void 0);}).then(function(){G(void 0);});});})()];Promise.all(C).then(function(){v.e5();}).catch(function(){v.e5();});}});f.df.addListener(f.ym,y);return {qSb:function(C){v.zd("pdpb");d.config.O6 || x().then(function(G){return G.send(v.H);}).then(function(){d.config.Mp?(v.zd("pdpc"),C(m.ze)):c(v,function(){v.zd("pdpc");C(m.ze);});}).catch(function(){v.zd("pdpe");C(m.ze);});}};};b.bDa=function(){return new Promise(function(v){c({},function(x){v(x);});});};k.fa.get(u.Pg).register(r.J.nz,function(v){v(m.ze);});},function(r,b,a){var l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z;function c(B){var A;A=this;this.j=B;this.PLa=this.BWa=!1;this.log=f.Eh(this.j,"Playback");this.sL=f.fa.get(t.FO);this.Ih=f.fa.get(v.Mt);this.SMb=f.fa.get(x.aaa);this.Ok=f.fa.get(z.OC);this.j.addEventListener(w.T.tL,function(){return A.SXb();});h.Za(m.config);m.config.Mp || (this.avb=f.fa.get(k.pwa));}function g(B,A){var D;function E(F){return F && 0 < F.length && F[0].sF;}D=f.fa.get(t.FO);return B.ca && E(B.Yd)?D.release({ca:B.ca,Yd:B.Yd}).then(function(){}):A.ca && E(A.Yd)?D.release(A).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.By=b.sva=void 0;l=a(12);m=a(11);d=a(50);f=a(6);h=a(19);k=a(297);n=a(2);p=a(62);q=a(14);t=a(182);u=a(183);w=a(15);v=a(69);x=a(282);y=a(32);z=a(113);c.prototype.SQ=function(B){var A;A=this;h.PJ(this.j.H);h.PJ(this.j.lk);Promise.all([this.j.la,m.config.Us && this.Ok.O2(this.j.H)?this.Ok.k2(this.j.H):void 0]).then(function(E){var D,F;D=Z(E);E=D.next().value;D=D.next().value;E && D?F=m.config.bOb || D.Bc.expiration > E.Bc.expiration?D:E:E?F=E:D && (F=D);F && 18E5 > F.Bc.expiration - d.yfa() && (F=void 0);return F?(A.j.rA=F === E?"ui":"videopreparer",F):A.j.s2a();}).then(function(E){try{A.j.h0a(E);B(l.ze);A.yxb();}catch(D){A.log.error("Exception processing authorization response",D);B({W:!1,ka:n.K.mdb});}}).catch(B);};c.prototype.XE=function(B){var A;A=this;return new Promise(function(E,D){var F,C,G;F=p.Up.RNa(B.yi);C=B.fj.map(function(H){return {sessionId:H.sessionId,dataBase64:f.kA(H.data)};});G=A.j.mBb(B.fj[0].sessionId);F={Di:G.Di,yi:q.is.nn(B.yi)?B.yi:F,k1:[G.wl],fj:C,ca:G.ca,xn:B.xn,oj:G.la.oj};A.j.sR && A.j.sR.B0 && (F.KT=A.j.sR.B0);A.sL.Kw(F).then(function(H){A.j.Yd=H.Yd;E(H);A.zxb(G);}).catch(D);});};c.prototype.release=function(B){return g(this.j,B);};c.prototype.aOa=function(){var B;B=this.avb.create();this.j.Ee && (B.Qe=this.j.Ee.Eq());B.Yd=this.j.Yd;B.ca=this.j.ca;B.H=this.j.H;return B;};c.prototype.zxb=function(B){this.BWa || (this.BWa=!0,this.j.fireEvent(w.T.tL,{H:B.H}));};c.prototype.yxb=function(){var B;B=this;this.PLa || (this.PLa=!0,this.j.fireEvent(w.T.Gmb),f.fa.get(u.lY)().then(function(A){A.$B(B.j);}));};c.prototype.SXb=function(){var B,A;B=this;A=f.fa.get(y.uk);this.Ih.F3 || c.b6a || (c.b6a=!0,A.Hsa && m.config.RXb && this.SMb.bf(this.log,{}).then(function(){return B.log.trace("Updated NetflixId");}).catch(function(E){return B.log.error("NetflixId upgrade failed",n.Ar(E));}));};b.sva=c;c.b6a=!1;b.By=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aaa="PboBindCommandSymbol";},function(r,b,a){var l,m,d,f,h,k,n,p,q,t,u,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function g(v,x,y,z,B){var A,E;A=this;this.j=v;this.type=x;this.lHa=z;this.log=B;this.DZ=new f.xc(!1);this.sD={data:[],state:"",operation:""};this.mimeType=this.xQa((this.type === l.Cc.jb.Bb?this.j.xg.value:this.j.Yc.value).streams);this.Gr=new h.Ij();this.Bca={Type:this.type};if(d.config.kB){E=!0;this.bia=new f.xc(!1);}this.log.trace("Adding source buffer",this.Bca,{TypeId:this.mimeType});this.Rc=y.addSourceBuffer(this.mimeType);this.Rc.addEventListener("updatestart",function(){!1;A.sD.state="updatestart";});this.Rc.addEventListener("update",function(){!1;A.sD.state="update";});this.Rc.addEventListener("updateend",function(){var D;!1;A.DZ.set(!1);A.uHa && A.uHa();A.sD.state="updateend";D=0;try{D=A.Rc.buffered.length;}catch(F){}E && D && (E=!1,A.bia.set(!0),!1);});this.Rc.addEventListener("error",function(D){var F;!1;try{F=D.target.error && D.target.error.message;(D.message || F) && B.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(C){}v.kd(n.J.fdb,m.r2(A.type));});this.Rc.addEventListener("abort",function(){!1;});v.addEventListener(t.T.closed,function(){A.Rc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.c9a=b.A$=void 0;l=a(46);m=a(171);d=a(11);f=a(103);h=a(71);k=a(6);a(94);n=a(2);a(4);p=a(19);q=a(14);t=a(15);u=a(138);w=a(187);g.prototype.Yh=function(){return this.DZ.value;};g.prototype.updating=function(){return this.Rc?this.Rc.updating:!1;};g.prototype.T6=function(v){this.uHa=v;};g.prototype.m2=function(){return this.sD;};g.prototype.buffered=function(){return this.Rc.buffered;};g.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};g.prototype.toJSON=function(){return {type:this.type};};g.prototype.j2=function(){var v,x,y,z,B,A,E;try{v=this.Rc.buffered;x=0;if(v){y=[];z=0;B=v.length;for(z=0;z < B;z++){A=v.start(z);E=v.end(z);x+=E - A;p.Za(E > A);y.push(A + "-" + E);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(D){}};g.prototype.gLa=function(v,x){!1;try{p.Za(this.Rc.buffered && 1 >= this.Rc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.j2()));}catch(y){}p.Za(!this.Yh());this.h3a("append",v);x=x && x.Ys / 1E3;q.pa(x) && this.Rc.timestampOffset !== x && (!1,this.Rc.timestampOffset=x);this.Rc.appendBuffer(v);!1;this.DZ.set(!0);};g.prototype.remove=function(v,x){p.Za(!this.Yh());try{this.h3a("remove");!1;this.Rc.remove(v,x);this.DZ.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Bca);}};g.prototype.h3a=function(v,x){this.sD.data=x || [];this.sD.state="init";this.sD.operation=v;};g.prototype.lTb=function(v,x){this.DGb=Math.floor(1E3 * v / x);};g.prototype.Cob=function(v){var x;if(this.Rc){if((v=this.xQa([{type:this.aqb,mg:v}]),v !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Rc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Rc.changeType(v);this.mimeType=v;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Bca,{From:x,To:v}),new c(y.message));}}}else this.log.info("No SourceBuffer");};g.prototype.appendBuffer=function(v,x){!x || x.Ac?this.cea(v,x):this.J_(v,x);return !0;};g.prototype.cea=function(v,x){this.j.Xf.cea(this,v,x || ({}));};g.prototype.J_=function(v,x){v=this.Vpb(v,x);!1;this.j.Xf.J_(v);};g.prototype.Vpb=function(v,x){var y;y=this.DGb || 0;return {cNa:function(){this.response=void 0;},Fh:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:w.Vb.pc.DONE,zy:x.V,jv:x.V + x.duration,rx:x.duration,Ys:y,Uh:x.Uh,oa:x.oa,Fa:x.Fa,cc:+x.cc,location:x.location,zJ:x.offset,yJ:x.offset + x.$ - 1,bitrate:x.bitrate,response:v,nUa:v && 0 < v.byteLength,hB:!0,get Ac() {return !this.hB;},k2a:this.Zi - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.oa,isHeader:this.Ac,ptsStart:this.zy,ptsOffset:this.Ys,responseType:this.q4b,duration:this.rx,readystate:this.Tg};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};g.prototype.endOfStream=function(){var v;this.j.oq("EndOfStream");null === (v=this.j.Xf) || void 0 === v?void 0:v.f5(this.mediaType);};g.prototype.addEventListener=function(v,x,y){this.Gr.addListener(v,x,y);};g.prototype.removeEventListener=function(v,x){this.Gr.removeListener(v,x);};g.prototype.xQa=function(v){var x;x=k.fa.get(u.cP);return this.type === l.Cc.jb.Bb?x.H0(v):x.E0(v);};Ua.Object.defineProperties(g.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},$_:{configurable:!0,enumerable:!0,get:function(){return this.lHa.$_;}},zV:{configurable:!0,enumerable:!0,get:function(){return this.lHa.zV;}},aqb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.A$=g;ja(c,Error);b.c9a=c;},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.tOa=b.vma=void 0;c=a(19);g=a(22);l=a(14);(function(){var d,f,h;function m(k){c.Za(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;h=/[", ]/;b.tOa=function(k){return l.vc(k)?l.pa(k)?k:l.ue(k)?k.replace(f,m):l.Xka(k)?k:isNaN(k)?"NaN":"":"";};b.vma=function(k){var n,p;n=b.tOa;p="";g.Wd(k,function(q,t){q=n(q) + "=" + n(t);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Si=void 0;r=b.Si || (b.Si={});r[r.B3a=1]="sourceopen";r[r.wq=2]="currentTimeChanged";r[r.gV=3]="seeked";r[r.AWa=5]="licenseadded";r[r.A3a=6]="sourceBuffersAdded";r[r.o5=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gq=void 0;r=b.gq || (b.gq={});r[r.tBa=0]="None";r[r.sxa=1]="Fetching";r[r.y9=2]="Done";r[r.Error=3]="Error";},function(r,b,a){b=a(433);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ba:Date.now;},function(r){r.exports={Lv:{Vaa:0,KEa:1,tk:2,name:["transient","semiTransient","permanent"]},Gv:{nxa:0,JEa:1,xY:2,PO:3,aw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},W3b:{L3b:0,n1b:1,q_b:2,aw:100,name:["trailer","montage","content"]},Ht:{hza:0,oEa:1,Eeb:2,$9a:3,aw:100,name:["left","right","up","down"]},DO:{X8a:0,xY:1,L0b:2,i0b:3,IZb:4,K0b:5,Q7a:6,aw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},AH:{PO:0,Eva:1,aw:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);r=(function(){function g(){}g.prototype.SRa=function(l){var m;m=Reflect.getMetadata(c.R$,l);l=Reflect.getMetadata(c.OFa,l);return {wNa:m,oYb:l || ({})};};g.prototype.tBb=function(l){return Reflect.getMetadata(c.PFa,l) || [];};return g;})();b.D$=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);b.RVa=function(g){return g instanceof RangeError || g.message === c.$db;};},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);g=a(40);l=a(61);m=a(87);r=(function(){function d(f){this.Dfb=f;}d.prototype.kXb=function(){return this.Dfb();};return d;})();b.j$=r;b.l=function(d){return function(f,h,k){var n;if(void 0 === d)throw Error(c.Beb(f.name));n=new l.Metadata(g.BO,d);"number" === typeof k?m.DG(f,h,k,n):m.OV(f,h,n);};};},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);g=a(101);l=a(61);m=a(547);r=(function(){function d(f,h,k,n){this.id=g.id();this.type=f;this.Yf=k;this.name=new m.Bdb(h || "");this.Zd=[];f=null;"string" === typeof n?f=new l.Metadata(c.xz,n):n instanceof l.Metadata && (f=n);null !== f && this.Zd.push(f);}d.prototype.qUa=function(f){for(var h=0,k=this.Zd;h < k.length;h++){if(k[h].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.qUa(c.NC);};d.prototype.lIb=function(f){return this.Fma(c.NC)(f);};d.prototype.hla=function(){return this.qUa(c.xz);};d.prototype.pla=function(){return this.Zd.some(function(f){return f.key !== c.BO && f.key !== c.NC && f.key !== c.UX && f.key !== c.hP && f.key !== c.xz;});};d.prototype.KVa=function(){return this.Fma(c.BBa)(!0);};d.prototype.RAb=function(){return this.hla()?this.Zd.filter(function(f){return f.key === c.xz;})[0]:null;};d.prototype.wzb=function(){return this.pla()?this.Zd.filter(function(f){return f.key !== c.BO && f.key !== c.NC && f.key !== c.UX && f.key !== c.hP && f.key !== c.xz;}):null;};d.prototype.Fma=function(f){var h;h=this;return function(k){var q;for(var n=0,p=h.Zd;n < p.length;n++){q=p[n];if(q.key === f && q.value === k)return !0;}return !1;};};return d;})();b.GY=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);g=a(193);r=(function(){function l(m){this.ac=m;this.rP=new g.Z8(this.ac);this.tba=new c.IW(this.ac);}l.prototype.when=function(m){return this.rP.when(m);};l.prototype.qW=function(){return this.rP.qW();};l.prototype.Zu=function(m){return this.tba.Zu(m);};return l;})();b.yC=r;},function(r,b,a){var l;function c(m){return function(d){function f(h){return null !== h && null !== h.target && h.target.Fma(m)(d);}f.WXa=new l.Metadata(m,d);return f;};}function g(m,d){m=m.py;return null !== m?d(m)?!0:g(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(40);l=a(61);b.o5a=g;b.u4a=c;a=c(r.xz);b.zYa=a;b.u5a=function(m){return function(d){var f;if(null !== d){f=d.VQ[0];return "string" === typeof m?f.Yf === m:m === d.VQ[0].yl;}return !1;};};},function(r,b,a){var l;function c(m,d){this.Kf=d;this.$x=Math.floor(m);this.display=this.$x + " " + this.Kf.name;}function g(m,d,f){this.Kf=m;this.name=d;this.No=f?f:this;l.On(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Br=b.iP=void 0;l=a(53);g.prototype.YR=function(m){return this.Kf == m.Kf;};g.prototype.toJSON=function(){return this.name;};b.iP=g;c.prototype.da=function(m){return this.Kf.YR(m)?this.$x:Math.floor(this.$x * this.Kf.Kf / m.Kf);};c.prototype.R_a=function(m){return this.Kf.YR(m)?this.$x:this.$x * this.Kf.Kf / m.Kf;};c.prototype.as=function(m){return new c(this.da(m),m);};c.prototype.to=function(m){return new c(this.da(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.$x,units:this.Kf.name};};c.prototype.add=function(m){return this.sNa(m);};c.prototype.Sa=function(m){return this.sNa(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.da(this.Kf.No) * m,this.Kf.No);};c.prototype.Jk=function(m){return this.da(this.Kf.No) - m.da(this.Kf.No);};c.prototype.YR=function(m){return 0 == this.Jk(m);};c.prototype.$Va=function(){return 0 == this.$x;};c.prototype.ila=function(){return 0 > this.$x;};c.prototype.AFb=function(){return 0 < this.$x;};c.prototype.sNa=function(m,d){d=void 0 === d?function(f){return f;}:d;return new c(this.da(this.Kf.No) + d(m.da(this.Kf.No)),this.Kf.No);};b.Br=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZCa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pwa="DrmDataFactorySymbol";},function(r,b,a){var g,l;function c(m,d,f,h,k){this.version=m;this.iM=d;this.X3a=f;this.Sm=h;this.yv=k;this.qu=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Z9=void 0;g=a(2);l=a(41);c.prototype.load=function(m){return this.gHb(m);};c.prototype.add=function(m){this.qu.push(m);return this.loa();};c.prototype.remove=function(m,d){m=this.JRa(this.oS(m,d));return 0 <= m?(this.qu.splice(m,1),this.loa()):Promise.resolve();};c.prototype.update=function(m,d){d=this.JRa(this.oS(m,d));return 0 <= d?(this.qu[d]=m,this.loa()):Promise.resolve();};c.prototype.gHb=function(m){var d;d=this;this.FWa || (this.FWa=new Promise(function(f,h){function k(n){d.Ptb().then(function(){h(n);}).catch(function(){h(n);});}d.Dja().then(function(n){d.storage=n;return d.storage.load(d.iM);}).then(function(n){var p;n=n.value;try{p=m(n);d.version=p.version;d.qu=p.data;f();}catch(q){k(q);}}).catch(function(n){n.ka !== g.K.Az?h(n):f();});}));return this.FWa;};c.prototype.loa=function(){var m,d,f,h,k;m=this;if(!this.X3a)return Promise.resolve();if(this.m7){h=new Promise(function(n,p){d=n;f=p;});k=function(){m.m7=h;m.W3a().then(function(){d();}).catch(function(n){f(n);});};this.m7.then(k).catch(k);return h;}return this.m7=this.W3a();};c.prototype.W3a=function(){var m,d;m=this;d=this.yv();return new Promise(function(f,h){m.Dja().then(function(k){return k.save(m.iM,d,!1);}).then(function(){f();}).catch(function(k){h(c.lWb(g.J.Ocb,k));});});};c.prototype.Ptb=function(){var m;m=this;return this.X3a?new Promise(function(d,f){m.Dja().then(function(h){return h.remove(m.iM);}).then(function(){d();}).catch(function(h){f(h);});}):Promise.resolve();};c.prototype.Dja=function(){return this.storage?Promise.resolve(this.storage):this.Sm.create();};c.prototype.oS=function(m,d){for(var f=0;f < this.qu.length;++f){if(d(this.qu[f],m))return this.qu[f];}};c.prototype.JRa=function(m){return m?this.qu.indexOf(m):-1;};c.lWb=function(m,d){var f;if(d.ka && d.cause)return new l.Ec(m,d.ka,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.$b){f=d.message?d.message + " ":"";d.code=m;d.message="" === f?void 0:f;return d;}return d instanceof Error?new l.Ec(m,g.K.Ni,void 0,void 0,void 0,void 0,d.stack,d):new l.Ec(m,g.K.Zl,void 0,void 0,void 0,void 0,void 0,d);};b.Z9=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Baa="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oBa="NetworkMonitorConfigSymbol";},function(r,b){b.mc=function(a){return "function" === typeof a;};},function(r,b){b.Ff=function(a){return null != a && "object" === typeof a;};},function(r,b){b.JA={e:{}};},function(r,b,a){var c,g,l,m,d,f,h,k;c=this && this.__extends || (function(n,p){function q(){this.constructor=n;}for(var t in p){p.hasOwnProperty(t) && (n[t]=p[t]);}n.prototype=null === p?Object.create(p):(q.prototype=p.prototype,new q());});g=a(23);r=a(66);l=a(117);m=a(305);d=a(306);f=a(202);h=(function(n){function p(q){n.call(this,q);this.destination=q;}c(p,n);return p;})(r.so);b.H3b=h;a=(function(n){function p(){n.call(this);this.ky=[];this.RS=this.bh=this.closed=!1;this.Nra=null;}c(p,n);p.prototype[f.jG]=function(){return new h(this);};p.prototype.Fs=function(q){var t;t=new k(this,this);t.yZa=q;return t;};p.prototype.next=function(q){var t,u;if(this.closed)throw new m.LH();if(!this.bh){t=this.ky;u=t.length;t=t.slice();for(var w=0;w < u;w++){t[w].next(q);}}};p.prototype.error=function(q){var t,u;if(this.closed)throw new m.LH();this.RS=!0;this.Nra=q;this.bh=!0;t=this.ky;u=t.length;t=t.slice();for(var w=0;w < u;w++){t[w].error(q);}this.ky.length=0;};p.prototype.complete=function(){var q,t;if(this.closed)throw new m.LH();this.bh=!0;q=this.ky;t=q.length;q=q.slice();for(var u=0;u < t;u++){q[u].complete();}this.ky.length=0;};p.prototype.unsubscribe=function(){this.closed=this.bh=!0;this.ky=null;};p.prototype.rda=function(q){if(this.closed)throw new m.LH();return n.prototype.rda.call(this,q);};p.prototype.kn=function(q){if(this.closed)throw new m.LH();if(this.RS)return (q.error(this.Nra),l.Dz.EMPTY);if(this.bh)return (q.complete(),l.Dz.EMPTY);this.ky.push(q);return new d.LFa(this,q);};p.prototype.Xlb=function(){var q;q=new g.fd();q.source=this;return q;};p.create=function(q,t){return new k(q,t);};return p;})(g.fd);b.XH=a;k=(function(n){function p(q,t){n.call(this);this.destination=q;this.source=t;}c(p,n);p.prototype.next=function(q){var t;t=this.destination;t && t.next && t.next(q);};p.prototype.error=function(q){var t;t=this.destination;t && t.error && this.destination.error(q);};p.prototype.complete=function(){var q;q=this.destination;q && q.complete && this.destination.complete();};p.prototype.kn=function(q){return this.source?this.source.subscribe(q):l.Dz.EMPTY;};return p;})(a);b.DZb=k;},function(r,b){var a;a=this && this.__extends || (function(c,g){function l(){this.constructor=c;}for(var m in g){g.hasOwnProperty(m) && (c[m]=g[m]);}c.prototype=null === g?Object.create(g):(l.prototype=g.prototype,new l());});r=(function(c){function g(){var l;l=c.call(this,"object unsubscribed");this.name=l.name="ObjectUnsubscribedError";this.stack=l.stack;this.message=l.message;}a(g,c);return g;})(Error);b.LH=r;},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(m,d){g.call(this);this.DV=m;this.ik=d;this.closed=!1;}c(l,g);l.prototype.unsubscribe=function(){var m,d;if(!this.closed){this.closed=!0;m=this.DV;d=m.ky;this.DV=null;!d || 0 === d.length || m.bh || m.closed || (m=d.indexOf(this.ik),-1 !== m && d.splice(m,1));}};return l;})(a(117).Dz);b.LFa=r;},function(r,b,a){var c,g;c=this && this.__extends || (function(l,m){function d(){this.constructor=l;}for(var f in m){m.hasOwnProperty(f) && (l[f]=m[f]);}l.prototype=null === m?Object.create(m):(d.prototype=m.prototype,new d());});g=a(91);r=(function(l){function m(d,f){l.call(this,d,f);this.Qa=d;this.pending=!1;this.Tsa=f;}c(m,l);m.prototype.dd=function(d,f){var h;void 0 === f && (f=0);if(this.closed)return this;this.state=d;this.pending=!0;d=this.id;h=this.Qa;null != d && (this.id=this.opa(d,f));this.delay=f;this.id=this.id || this.Fpa(h,this.id,f);return this;};m.prototype.Fpa=function(d,f,h){void 0 === h && (h=0);return g.root.setInterval(d.flush.bind(d,this),h);};m.prototype.opa=function(d,f){void 0 === f && (f=0);return null !== f && this.delay === f && !1 === this.pending?d:(g.root.clearInterval(d),void 0);};m.prototype.bf=function(d){if(this.closed)return Error("executing a cancelled action");this.pending=!1;if(d=this.THa(d))return d;!1 === this.pending && null != this.id && (this.id=this.opa(this.id,null));};m.prototype.THa=function(d){var f,h;f=!1;h=void 0;try{this.Tsa(d);}catch(k){f=!0;h=! !k && k || Error(k);}if(f)return (this.unsubscribe(),h);};m.prototype.tda=function(){var d,f,h;d=this.id;f=this.Qa.actions;h=f.indexOf(this);this.state=this.Tsa=null;this.pending=!1;this.Qa=null;-1 !== h && f.splice(h,1);null != d && (this.id=this.opa(d,null));this.delay=null;};return m;})(a(599).G7a);b.Vta=r;},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(){g.apply(this,arguments);this.actions=[];this.active=!1;}c(l,g);l.prototype.flush=function(m){var d,f;d=this.actions;if(this.active)d.push(m);else {this.active=!0;do {if(f=m.bf(m.state,m.delay))break;}while(m=d.shift());this.active=!1;if(f){for(;m=d.shift();){m.unsubscribe();}throw f;}}};return l;})(a(601).ieb);b.Yta=r;},function(r,b,a){var c,g,l,m,d;c=this && this.__extends || (function(f,h){function k(){this.constructor=f;}for(var n in h){h.hasOwnProperty(n) && (f[n]=h[n]);}f.prototype=null === h?Object.create(h):(k.prototype=h.prototype,new k());});r=a(66);g=a(602);b.k8b=function(f,h){void 0 === h && (h=0);return function(k){return k.Fs(new l(f,h));};};l=(function(){function f(h,k){void 0 === k && (k=0);this.Qa=h;this.delay=k;}f.prototype.call=function(h,k){return k.subscribe(new m(h,this.Qa,this.delay));};return f;})();b.r2b=l;m=(function(f){function h(k,n,p){void 0 === p && (p=0);f.call(this,k);this.Qa=n;this.delay=p;}c(h,f);h.Ic=function(k){k.notification.observe(k.destination);this.unsubscribe();};h.prototype.gqa=function(k){this.add(this.Qa.dd(h.Ic,this.delay,new d(k,this.destination)));};h.prototype.em=function(k){this.gqa(g.Notification.Asb(k));};h.prototype.Af=function(k){this.gqa(g.Notification.hsb(k));};h.prototype.re=function(){this.gqa(g.Notification.Wrb());};return h;})(r.so);b.DBa=m;d=(function(){return function(f,h){this.notification=f;this.destination=h;};})();b.q2b=d;},function(r,b){b.uVa=function(a){return a && "number" === typeof a.length;};},function(r,b){b.kT=function(a){return a && "function" !== typeof a.subscribe && "function" === typeof a.then;};},function(r,b,a){var c,g;c=a(313);g=a(619);b.HL=function(l){void 0 === l && (l=Number.POSITIVE_INFINITY);return c.IL(g.NDb,null,l);};},function(r,b,a){var c,g,l,m;c=this && this.__extends || (function(d,f){function h(){this.constructor=d;}for(var k in f){f.hasOwnProperty(k) && (d[k]=f[k]);}d.prototype=null === f?Object.create(f):(h.prototype=f.prototype,new h());});g=a(162);r=a(161);b.IL=function(d,f,h){void 0 === h && (h=Number.POSITIVE_INFINITY);return function(k){"number" === typeof f && (h=f,f=null);return k.Fs(new l(d,f,h));};};l=(function(){function d(f,h,k){void 0 === k && (k=Number.POSITIVE_INFINITY);this.$F=f;this.sv=h;this.Lfa=k;}d.prototype.call=function(f,h){return h.subscribe(new m(f,this.$F,this.sv,this.Lfa));};return d;})();b.w1b=l;m=(function(d){function f(h,k,n,p){void 0 === p && (p=Number.POSITIVE_INFINITY);d.call(this,h);this.$F=k;this.sv=n;this.Lfa=p;this.kUa=!1;this.buffer=[];this.index=this.active=0;}c(f,d);f.prototype.em=function(h){this.active < this.Lfa?this.Yjb(h):this.buffer.push(h);};f.prototype.Yjb=function(h){var k,n;k=this.index++;try{n=this.$F(h,k);}catch(p){this.destination.error(p);return;}this.active++;this.$gb(n,h,k);};f.prototype.$gb=function(h,k,n){this.add(g.r7(this,h,k,n));};f.prototype.re=function(){this.kUa=!0;0 === this.active && 0 === this.buffer.length && this.destination.complete();};f.prototype.g5=function(h,k,n,p){this.sv?this.fib(h,k,n,p):this.destination.next(k);};f.prototype.fib=function(h,k,n,p){var q;try{q=this.sv(h,k,n,p);}catch(t){this.destination.error(t);return;}this.destination.next(q);};f.prototype.Yu=function(h){var k;k=this.buffer;this.remove(h);this.active--;0 < k.length?this.em(k.shift()):0 === this.active && this.kUa && this.destination.complete();};return f;})(r.hY);b.x1b=m;},function(r,b,a){r=a(206);b.of=r.J8.of;},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(m,d){g.call(this);this.value=m;this.Qa=d;this.vw=!0;d && (this.vw=!1);}c(l,g);l.create=function(m,d){return new l(m,d);};l.Ic=function(m){var d,f;d=m.value;f=m.ik;m.done?f.complete():(f.next(d),f.closed || (m.done=!0,this.dd(m)));};l.prototype.kn=function(m){var d,f;d=this.value;f=this.Qa;if(f)return f.dd(l.Ic,0,{done:!1,value:d,ik:m});m.next(d);m.closed || m.complete();};return l;})(a(23).fd);b.UEa=r;},function(r,b,a){r=a(635);b.from=r.S$a.create;},function(r,b,a){var l,m;function c(d){var f;f=d.value;d=d.ik;d.closed || (d.next(f),d.complete());}function g(d){var f;f=d.ME;d=d.ik;d.closed || d.error(f);}l=this && this.__extends || (function(d,f){function h(){this.constructor=d;}for(var k in f){f.hasOwnProperty(k) && (d[k]=f[k]);}d.prototype=null === f?Object.create(f):(h.prototype=f.prototype,new h());});m=a(91);r=(function(d){function f(h,k){d.call(this);this.promise=h;this.Qa=k;}l(f,d);f.create=function(h,k){return new f(h,k);};f.prototype.kn=function(h){var k,n,p;k=this;n=this.promise;p=this.Qa;if(null == p)this.vw?h.closed || (h.next(this.value),h.complete()):n.then(function(q){k.value=q;k.vw=!0;h.closed || (h.next(q),h.complete());},function(q){h.closed || h.error(q);}).then(null,function(q){m.root.setTimeout(function(){throw q;});});else if(this.vw){if(!h.closed)return p.dd(c,0,{value:this.value,ik:h});}else n.then(function(q){k.value=q;k.vw=!0;h.closed || h.add(p.dd(c,0,{value:q,ik:h}));},function(q){h.closed || h.add(p.dd(g,0,{ME:q,ik:h}));}).then(null,function(q){m.root.setTimeout(function(){throw q;});});};return f;})(a(23).fd);b.hEa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rwa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Twa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qwa=b.kD=void 0;r=b.kD || (b.kD={});r[r.Request=0]="Request";r[r.tEa=1]="Renewal";b.Qwa="EmeApiSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.BY=void 0;a.jEb=function(c){return "ID" + (c + 1);};a.d4a=function(c){return Number(c.substr(2)) - 1;};b.BY=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E;function c(D,F,C,G,H,J,I,M){var N;N=this;this.Ia=F;this.Vw=C;this.config=G;this.Vg=H;this.cl=J;this.xn=I;this.Un=M;this.keyStatuses=new B.xc({});this.Una=function(K){var O,R,L,Q;try{O=N.cl.Vfa(K);R=O.yF;L=O.messageType;Q=O.sessionId;N.Lu=N.Lu || O.Lu;N.mV(Q);N.log.trace("Received " + K.type + " event",{sessionId:Q,messageType:L,keyIds:N.Lu});L === b.u$ && (N.log.trace("Received a renewal request"),N.yi=p.pk.Yl,N.dk=A.cG);N.dk === A.Vf && N.Jo(q.yr.P0a);N.dk === A.cG && N.Jo(q.yr.Q0a);N.rL && (N.Zja(R)?N.jB(new z.Ec(d.J.Hwa)):(N.rL.next({fj:R,OMa:L,yi:N.yi}),N.yi === p.pk.Yl && (N.rL.complete(),N.rL=void 0)));}catch(P){N.jB(P);}};this.Sna=function(K){var O,R,L,Q,va,la,S,da,ya,U,ma,wa,ra,Qa,Pa,Sa,$a;R=K.target;L=R.keyStatuses;N.mV(R.sessionId);N.log.trace("Received event: " + K.type);try{Q=null === (O=N.context.Vs) || void 0 === O?void 0:O.reduce(function(kb,bb){kb[bb.zl]=bb.w6.height;return kb;},{});K=[];for(var P=Z(L),ha=P.next();!ha.done;ha=P.next()){va=Z(ha.value);la=va.next().value;S=va.next().value;da=N.Vw.encode(new Uint8Array(la));K.push({zl:da,status:S,height:null === Q || void 0 === Q?void 0:Q[da]});}K.sort(function(kb,bb){return (kb.height || 0) - (bb.height || 0);});ya=K.map(function(kb){return kb.zl;});U=K.map(function(kb){return kb.height;});ma=K.map(function(kb){return kb.status;});N.log.trace("KeyStatus: " + ya + ", " + U + ", " + ma);Q={};for(var ta=Z(L),Ja=ta.next();!Ja.done;Ja=ta.next()){wa=Z(Ja.value);ra=wa.next().value;Qa=wa.next().value;Pa=N.Vw.encode(new Uint8Array(ra));Sa=E[Qa];Q[Pa]=Sa.status;if(N.A3(Pa,Sa.error)){$a=new x.bg(Sa.error);N.nT($a);}}N.keyStatuses.set(Q);}catch(kb){$a=new x.bg(d.J.Zcb);$a.FR(kb);}$a?N.wla($a):(N.cl.s0() || N.bWa(),N.yi !== p.pk.Uv || N.cl.tea() || N.JQb());};this.Fm=function(K){var O;O=N.cl.jx(K);N.log.error("Received event: " + K.type,O);N.jB(O);N.wla(O);N.Bn || N.Lq || N.nT(O);};this.pLb=function(){N.log.error("MediaKeySession closed unexpectedly.");N.nT(new z.Ec(d.J.w$a));};this.jB=function(K){N.Bn && N.close().then(function(){var O;N.log.trace("Issuing a generate challenge error");null === (O=N.Bn) || void 0 === O?void 0:O.error(K);N.Bn=void 0;},function(O){var R;N.log.error("EmeSession closed with an error.",N.cl.jx(O));null === (R=N.Bn) || void 0 === R?void 0:R.error(K);N.Bn=void 0;});};this.WFb=function(){var K;null === (K=N.Bn) || void 0 === K?void 0:K.complete();N.Bn=void 0;};this.wla=function(K){N.Lq && (N.log.error("Failed to add license",K),N.close().then(function(){var O;N.log.trace("Issuing a license error");N.Bn=void 0;null === (O=N.Lq) || void 0 === O?void 0:O.error(K);N.Lq=void 0;},function(O){var R;N.log.error("EmeSession closed with an error.",N.cl.jx(O));N.dk === A.cG && N.Jo(q.yr.HKa);N.Bn=void 0;null === (R=N.Lq) || void 0 === R?void 0:R.error(K);N.Lq=void 0;}));};this.bWa=function(){N.Lq && (N.log.info("Successfully added license"),N.dk === A.Vf?N.Jo(q.yr.AKa):N.dk === A.cG && N.Jo(q.yr.GKa),N.Lq.complete(),N.Lq=void 0);};this.nT=function(K){N.ux && N.close().then(function(){var O,R;N.log.trace("Issuing a CDM error");N.Bn=void 0;N.Lq=void 0;null === (O=N.ux) || void 0 === O?void 0:O.next(K);null === (R=N.ux) || void 0 === R?void 0:R.complete();N.ux=void 0;},function(O){var R,L;N.log.error("EmeSession closed with an error.",N.cl.jx(O));N.Bn=void 0;N.Lq=void 0;null === (R=N.ux) || void 0 === R?void 0:R.next(K);null === (L=N.ux) || void 0 === L?void 0:L.complete();N.ux=void 0;});};this.Jo=function(K){N.Sc.push({time:N.Ia.Tb(),mJb:K});};this.o1a=!1;this.log=D.sb("EmeSession");this.rL=new l.XH();this.ux=new l.XH();this.dk=A.fXb;this.Sc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Uwa=b.u$=b.v$=void 0;r=a(0);g=a(1);l=a(200);m=a(4);d=a(2);f=a(18);h=a(7);k=a(33);n=a(65);p=a(68);q=a(323);t=a(660);u=a(133);w=a(207);v=a(320);x=a(89);y=a(57);z=a(41);B=a(103);(function(D){D[D.fXb=0]="unknown";D[D.create=1]="create";D[D.load=2]="load";D[D.Vf=3]="license";D[D.cG=4]="renewal";D[D.stop=5]="stop";D[D.closed=6]="closed";})(A || (A={}));b.v$="license-request";b.u$="license-renewal";E={usable:{status:t.Bt.c6a},expired:{status:t.Bt.ZR,error:d.J.TBa},released:{status:t.Bt.released},"output-not-allowed":{status:t.Bt.GZa,error:d.J.UBa},"output-restricted":{status:t.Bt.GZa,error:d.J.W$},"output-downscaled":{status:t.Bt.nMb},"status-pending":{status:t.Bt.FUb},"internal-error":{status:t.Bt.EEb,error:d.J.Ycb}};c.prototype.Eq=function(){var D;return (null === (D=this.QIb) || void 0 === D?void 0:D.keySystem) || "";};c.prototype.Ax=function(){return this.sessionId;};c.prototype.close=function(){var D;D=this;this.dk=A.closed;this.Sc=[];return this.Vg.GFb()?(this.log.trace("Closing the session"),this.Vg.h1a(this.Una),this.Vg.e1a(this.Sna),this.Vg.c1a(this.Fm),this.mediaKeys=void 0,this.Un.Dp(this.config.aLa,this.Vg.close()).then(function(){D.log.info("Closed the session");}).catch(function(F){D.log.error("Close failed",F);D.cl.jx(F).code=d.J.adb;throw F;})):Promise.resolve(void 0);};c.prototype.yu=function(){return this.ux?this.ux.Xlb():void 0;};c.prototype.qs=function(){return this.xn;};c.prototype.QK=function(){return void 0 !== this.zi;};c.prototype.createSession=function(D,F,C,G){var H;H=this;this.context=D;this.QIb=F;this.yi=G;this.dk=A.create;this.Jo(q.yr.zWa);return (C.oUa()?Promise.resolve():this.Un.Dp(this.config.bLa,this.Vg.createMediaKeys(D,F)).then(function(J){H.log.trace("Created media keys");C.setMediaKeys(J);return H.Olb(J);})).then(function(){H.mediaKeys=C.mediaKeys;try{H.Vg.createSession(H.mediaKeys,"temporary");H.Vg.CKa(H.Una);H.Vg.yKa(H.Sna);H.Vg.wKa(H.Fm);H.Vg.Gkb(H.pLb);H.mV(H.Vg.Ax());}catch(J){return Promise.reject(new x.bg(d.J.p$a,d.K.Ni,void 0,"Unable to create a persisted key session",J));}}).catch(function(J){return J.code && J.$b?Promise.reject(J):Promise.reject(new x.bg(d.J.iO,J instanceof y.cq?d.K.jO:d.K.Ni,void 0,"Unable to create MediaKeys. " + J.message,J));});};c.prototype.YSb=function(D){this.ai=D;this.log.tKa("xid",D.ca);};c.prototype.syb=function(D){var F;F=this;return this.generateRequest(D).then(function(){F.log.trace("Returning the challenge promise");return l.fd.race(F.Bn.map(function(){}),F.rL.qN(1)).I7();});};c.prototype.tyb=function(D){this.generateRequest(D);return this.Bn;};c.prototype.zKa=function(D){this.Yd=D.Yd;D=D.zi.map(function(F){return F.data;});this.Zja(D)?(this.log.error("The license buffer is empty"),this.jB(new x.bg(d.J.Gwa,d.K.Ewa))):(this.dk === A.Vf && (this.Jo(q.yr.O0a),this.zi=D,this.wPa=this.cl.BK(this.Lu,D),this.WFb()),this.dk === A.cG && (this.Jo(q.yr.R0a),this.zi=D,this.wPa=this.cl.BK(this.Lu,D),this.fea()));};c.prototype.Skb=function(D){this.dk === A.cG?(this.Jo(q.yr.S0a),this.nT(D)):this.jB(D);};c.prototype.fea=function(){var D,F;D=this;if(!this.zi)return this.upb(new x.bg(d.J.Gwa,d.K.Jwa));this.Lq=new l.XH();F=this.zi;this.zi=void 0;this.Un.Dp(this.config.fLa,this.Vg.update(F,this.dk === A.Vf?v.kD.Request:v.kD.tEa,this.Lu)).then(function(){D.cl.s0() && D.bWa();}).catch(function(C){C=D.cl.jx(C);C.code=d.J.jY;C.message="Unable to update the EME";D.log.error(C.message,C);D.wla(C);});return this.Lq;};c.prototype.BK=function(){return this.wPa;};c.prototype.generateRequest=function(D){var F;F=this;this.dk=A.Vf;this.log.trace("Generating a license challenge");this.Bn=new l.XH();return D?this.Zja(D)?(D=new x.bg(d.J.Fwa,d.K.Ewa),this.jB(D),Promise.reject(D)):this.Un.Dp(this.config.cLa,this.Vg.generateRequest(this.cl.wS(),D)).then(function(){F.mV(F.Vg.Ax());}).catch(function(C){var G,H;G=new x.bg(d.J.iX,C instanceof y.cq?d.K.jO:d.K.Ni);H=F.cl.jx(C);G.od=H.od;G.message="Unable to generate request.";G.FR(C);F.log.error("Unable to generate a license request",G);F.jB(G);return Promise.reject(G);}):(D=new x.bg(d.J.Fwa,d.K.Jwa),this.jB(D),Promise.reject(D));};c.prototype.Olb=function(D){var F,C;F=this;C=this.cl.Gia();return C?(C=this.Vw.decode(C),this.Un.Dp(this.config.eLa,this.Vg.setServerCertificate(D,C)).then(function(G){F.log.trace("Set the server certificate",{result:G});})):Promise.resolve();};c.prototype.mV=function(D){D && D !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + D),this.sessionId=D,this.log.tKa("sessionId",D));};c.prototype.JQb=function(){var D;D=this;this.o1a || (this.o1a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.kB}),setTimeout(function(){D.bG();},this.config.kB.da(m.ia)));};c.prototype.OFb=function(D){var F;return !(null === (F=this.context.Vs) || void 0 === F || !F.some(function(C){return C.zl === D && 1080 < C.w6.height;}));};c.prototype.A3=function(D,F){return F === d.J.W$?this.OFb(D)?this.config.IZa:this.config.HZa:! !F;};c.prototype.bG=function(){this.log.trace("Initiating a renewal request");this.yi=p.pk.Yl;this.dk=A.cG;this.cl.Yea()?this.cl.Uka(this.Vg):this.G0();};c.prototype.G0=function(){var D;D=this;this.Vg.G0(this.mediaKeys,"temporary",this.Una,this.Sna,this.Fm).then(function(){D.log.debug("Creating session to renew license");D.mV(D.Vg.Ax());}).catch(function(){D.nT(new x.bg(d.J.iX));});};c.prototype.upb=function(D){var F;F=this;return l.fd.create(function(C){F.close().then(function(){C.error(D);},function(){C.error(D);});});};c.prototype.Zja=function(D){return 0 === D.length || D.reduce(function(F,C){return F || 0 === C.length;},!1);};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(h.Ab)),r.__param(1,g.l(f.ud)),r.__param(2,g.l(k.Nh)),r.__param(3,g.l(n.Dt)),r.__param(4,g.l(v.Qwa)),r.__param(5,g.l(w.l$a)),r.__param(6,g.l(u.wwa)),r.__param(7,g.l(y.dw))],a);b.Uwa=a;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.xPa=b.yr=void 0;(function(c){c[c.zWa=0]="licenseStarted";c[c.P0a=1]="receivedLicenseChallenge";c[c.O0a=2]="receivedLicense";c[c.Q0a=3]="receivedRenewalChallengeComplete";c[c.R0a=4]="receivedRenewalLicenseComplete";c[c.S0a=5]="receivedRenewalLicenseFailed";c[c.GPb=6]="receivedIndivChallengeComplete";c[c.HPb=7]="receivedIndivLicenseComplete";c[c.AKa=8]="addLicenseComplete";c[c.GKa=9]="addRenewalLicenseComplete";c[c.HKa=10]="addRenewalLicenseFailed";})(a=b.yr || (b.yr={}));b.xPa=function(c){switch(c){case a.zWa:return "lg";case a.P0a:return "lc";case a.O0a:return "lr";case a.Q0a:return "renew_lc";case a.R0a:return "renew_lr";case a.S0a:return "renew_lr_failed";case a.GPb:return "ilc";case a.HPb:return "ilr";case a.AKa:return "ld";case a.GKa:return "renew_ld";case a.HKa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iva="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EBa="OneWayCounterFactorySymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.X8=void 0;r=a(0);a=a(1);g={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(l){for(var m=new Uint8Array(l.length / 2),d=0;d < m.length;d++){m[d]=this.Z4a(l.substr(2 * d,2));}return m;};c.prototype.encode=function(l){var h;for(var m="",d=l.length,f=0;f < d;f++){h=l[f];m+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return m;};c.prototype.TE=function(l,m){var d;d="";for(m<<=1;m--;){d=(("0123456789ABCDEF")[l & 15] || "0") + d;l>>>=4;}return d;};c.prototype.Z4a=function(l){var m;m=l.length;if(7 < m)throw Error("hex to long");for(var d=0,f=0;f < m;f++){d=16 * d + g[l[f]];}return d;};a=r.__decorate([a.O()],c);b.X8=a;},function(r,b,a){var g,l;function c(){this.hp={};this.id="$es$" + g.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Ij=void 0;r=a(0);a=a(1);c.prototype.addListener=function(m,d,f){var h,k;h="$netflix$player$order" + this.id + "$" + m;if(this.hp){k=this.hp[m]?this.hp[m].slice():[];f && (d[h]=f);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.hp[m]=k;}};c.prototype.removeListener=function(m,d){if(this.hp && this.hp[m]){for(var f=this.hp[m].slice(),h;0 <= (h=f.indexOf(d));){f.splice(h,1);}this.hp[m]=f;}};c.prototype.bc=function(m,d,f){var h;if(this.hp){h=this.Pia(m);for(m={cH:0};m.cH < h.length;(m={cH:m.cH},m.cH++)){f?(function(k){return function(){var n;n=h[k.cH];setTimeout(function(){n(d);},0);};})(m)():h[m.cH].call(this,d);}}};c.prototype.$g=function(){this.hp=void 0;};c.prototype.on=function(m,d,f){this.addListener(m,d,f);};c.prototype.Pia=function(m){var d;return null !== (d=this.hp && (this.hp[m] || (this.hp[m]=[]))) && void 0 !== d?d:[];};l=g=c;l.counter=0;l=g=r.__decorate([a.O()],l);b.Ij=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bva="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w9="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H$=b.Ubb=void 0;b.Ubb=function(){};b.H$="MseConfigSymbol";},function(r,b,a){function c(g){this.ghb=void 0 === g?!1:g;this.Be={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.yaa=void 0;r=a(0);a=a(1);c.prototype.add=function(g,l){var m;l=void 0 === l?0:l;m=this.Be[l];m?this.ghb && -1 !== m.indexOf(g) || m.push(g):this.Be[l]=[g];};c.prototype.remove=function(g,l){this.Dw(g,void 0 === l?0:l);};c.prototype.removeAll=function(g){this.Dw(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.Be).sort().reduce(function(l,m){return l.concat(g.Be[m]);},[]);};c.prototype.Dw=function(g,l){Object.entries(this.Be).forEach(function(m){var d,f;d=Z(m);m=d.next().value;d=d.next().value;if(void 0 === l || l === parseInt(m)){-1 < (f=d.indexOf(g)) && d.splice(f,1);}});};a=r.__decorate([a.O()],c);b.yaa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AGa="UrlFactorySymbol";},function(r,b,a){var g,l,m,d;function c(f,h,k,n,p,q,t){this.debug=f;this.config=h;this.platform=k;this.v4=n;this.debug.assert(p && p != l.J.Zl,"There should always be a specific error code");this.errorCode=p || l.J.Zl;q && m.Ff(q)?(this.ka=q.ka || q.$b,this.Oe=q.Oe || q.od,this.yha=q.yha || q.om,this.gb=q.gb || q.details,this.HE=q.gj,this.hK=q.hK || q.uYa || q.Xu,this.fK=q.fK || q.data,q.MT && (this.MT=q.MT),this.hj=q.hj,this.method=q.method,this.ZT=q.ZT,this.alert=q.alert,this.Xda=q.Xda,this.debug.assert(!this.hj || this.hj == this.Oe)):(this.ka=q,this.Oe=t);this.stack=[this.errorCode];this.ka?this.stack.push(this.ka):this.Oe && this.stack.push(l.K.Zl);this.Oe && this.stack.push(this.Oe);this.e1=this.platform.fp + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=void 0;g=a(12);l=a(2);m=a(27);d=a(14);a(22);c.prototype.toString=function(){var f;f="[PlayerError #" + this.e1 + "]";this.gb && (f+=" " + this.gb);this.HE && (f+=" (CustomMessage: " + this.HE + ")");return f;};c.prototype.Tra=function(){var f,h;this.HE && (f=["streaming_error"]);f || this.v4.qs() !== g.hX || ("80080017" == this.Oe && (f=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Oe && (f=["pause_timeout"]));f || this.v4.qs() !== g.A9 || this.errorCode !== l.J.Dwa && this.errorCode !== l.J.iO || (f=["no_cdm","platform_error","plugin_error"]);this.IFb() && (f=["received_soad"]);h=this.hzb();h && (f=[h],this.HE=void 0);if(!f)switch(this.errorCode){case l.J.iY:case l.J.LX:case l.J.w7a:case l.J.TBa:f=["pause_timeout"];break;case l.J.Iya:case l.J.Jya:f=this.ka?["platform_error"]:["multiple_tabs"];break;case l.J.pbb:case l.J.heb:case l.J.Oab:case l.J.Nab:case l.J.Qab:f=["should_signout_and_signin"];break;case l.J.X9:case l.J.YBa:case l.J.WBa:case l.J.X$:case l.J.RBa:f=["platform_error","plugin_error"];break;case l.J.RO:f=["no_cdm","platform_error","plugin_error"];break;case l.J.QO:f=this.ka?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case l.J.Kwa:case l.J.$p:case l.J.jY:switch(this.Oe){case "FFFFD000":f=["device_needs_service","platform_error"];break;case "48444350":f=["unsupported_output","platform_error"];break;case "00000024":f=["private_mode"];}break;case l.J.UBa:case l.J.W$:f=["unsupported_output"];}!f && l.exa(this.ka) && (f=this.ka == l.K.xO?["geo"]:["internet_connection_problem"]);f || this.errorCode !== l.J.iO || this.ka !== l.K.Ni || "S" !== this.platform.fp || (f=["private_mode"]);if(!f)switch(this.g4a(this.ka)){case l.K.eba:f=["should_upgrade"];break;case l.K.MBa:f=["should_reset_device"];break;case l.K.LBa:f=["should_reload_device"];break;case l.K.KBa:f=["should_exit_device"];break;case l.K.Wbb:case l.K.gAa:f=["should_signout_and_signin"];break;case l.K.Xbb:f=["internet_connection_problem"];break;case l.K.Fva:f=["platform_error","plugin_error"];break;case l.K.n9:case l.K.pya:case l.K.qya:f=["private_mode"];}f=f || [];f.push(this.platform.fp + this.errorCode);if(this.ka)switch(this.g4a(this.ka)){case l.K.NBa:f.push("incorrect_pin");break;default:f.push("" + this.ka);}f={display:{code:this.e1,text:this.HE},messageIdList:f,alert:this.alert,alertTag:this.Xda};if(this.hK || this.uYa)f.mslErrorCode=this.hK || this.uYa || this.Xu;return f;};c.prototype.g4a=function(f){var h;h=parseInt(f,10);return isNaN(h)?f:h;};c.prototype.IFb=function(){var f;f=d.pa(this.Oe)?this.Oe.toString():d.ue(this.Oe)?this.Oe:"";return this.hK === l.TX.bba && (f.endsWith("2018") || f.endsWith("2020"));};c.prototype.hzb=function(){if(this.errorCode === l.J.BH && (this.ka === l.K.S$ || this.ka === l.K.JBa))return this.izb(this.ka === l.K.S$);};c.prototype.izb=function(f){var h,k,n,p;n=this.config().browserInfo || ({});p=null === (h=n.os) || void 0 === h?void 0:h.name;h=((null === (k=n.os) || void 0 === k?void 0:k.version) || "").split(".");k=parseInt(h && h[0]);h=parseInt(h && h[1]);switch(p){case "windows":return 6 > k || 6 === k && 1 > h?f?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > k || 10 === k && 10 > h?f?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return f?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.zDa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.z$="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kO="EventSourceFactorySymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kO=b.hxa=void 0;r=a(0);g=a(327);a=a(1);c.prototype.create=function(){return new g.Ij();};a=r.__decorate([a.O()],c);b.hxa=a;b.kO="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ova="DebouncerFactorySymbol";},function(r,b,a){var g;function c(l,m,d,f,h,k){this.level=l;this.tn=m;this.timestamp=d;this.message=f;this.pd=h;this.index=void 0 === k?0:k;this.lbb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.n$=void 0;g=a(4);c.prototype.G7=function(l,m){var d;d="" + this.message;this.pd.forEach(function(f){d+=f.KG(l,m);});return (this.timestamp.da(g.ia) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.lbb[this.level] || this.level) + "|" + this.tn + "| " + d;};b.n$=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bFa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kDa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NGa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lGa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fwa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sCa="PboGenerateScreenshotsCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Fa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cva="CdnThroughputTracker";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mxa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vua="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aua={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var g,l,m;function c(d,f,h,k){this.config=d;this.Ai=f;this.mediaType=h;this.Uu=k;this.Zma={};this.Zma[g.uh.Audio]="audio";this.Zma[g.uh.KGa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.bO=void 0;g=a(24);r=a(104);l=a(217);m=new r.Bz().format;c.prototype.MTa=function(d){return this.lub(this.nTa(d));};c.prototype.bx=function(d){return this.Ai.isTypeSupported(d);};c.prototype.XRa=function(){return [l.wf.xW,l.wf.Uxa,l.wf.vH];};c.prototype.Ska=function(){this.Lm=[];this.gv=[];this.config().MZa && this.gv.push(l.wf.Pxa);this.config().LZa && this.gv.push(l.wf.Hxa);this.config().KZa && this.gv.push(l.wf.xr);this.config().CB && this.gv.push(l.wf.tC);this.config().NZa && this.gv.push(l.wf.lD);this.config().JZa && this.gv.push(l.wf.nk);this.gv=this.gv.concat(this.XRa());!this.config().Xvb && this.Lm.push(l.wf.dI);!this.config().RPa && this.Lm.push(l.wf.g9a);!this.config().QPa && this.Lm.push(l.wf.h9a);!this.config().SR && this.Lm.push(l.wf.i9a);!this.config().Mvb && this.Lm.push(/prk$/);this.config().KZa || this.config().zvb || this.Lm.push(l.wf.xr);this.config().MZa || this.config().Bvb || this.Lm.push(l.wf.Pxa);this.config().LZa || this.config().mha || this.Lm.push(l.wf.Hxa);this.config().CB || this.config().$J || this.Lm.push(l.wf.tC);this.config().NZa || this.config().Vvb || this.Lm.push(l.wf.lD);this.config().JZa || this.config().vvb || this.Lm.push(l.wf.nk);!this.config().Uvb && this.Lm.push(l.wf.aI);};c.prototype.GQa=function(d){var f,h;f=this;h=d.map(function(k){for(var n=Z(f.gv),p=n.next();!p.done;p=n.next()){if(p.value.test(k))return Promise.resolve(!0);}n=Z(f.Lm);for(p=n.next();!p.done;p=n.next()){if(p.value.test(k))return Promise.resolve(!1);}return f.mK(k);});return Promise.all(h).then(function(k){return d.filter(function(n,p){return k[p];});});};c.prototype.mK=function(d){return this.config().Jvb?this.Uu.mK(d):this.gxb(d);};c.prototype.gxb=function(d){var f;d=this.Voa[d];f="";return d?(Array.isArray(d) && (f=1 < d.length?" " + d[1]:"",d=d[0]),d=m("{0}/mp4;codecs={1};{2}",this.Zma[this.mediaType],d,f),d=this.bx(d),Promise.resolve(d)):Promise.resolve(!1);};c.prototype.lub=function(d){var f;f={};this.Ska();return this.GQa(d).then(function(h){return h.map(function(k){return f[k]=1;});}).then(function(){return Object.keys(f);});};Ua.Object.defineProperties(c.prototype,{Voa:{configurable:!0,enumerable:!0,get:function(){this.tJa || (this.tJa=this.BE());return this.tJa;}}});b.bO=c;},function(r,b,a){var g,l,m,d,f;function c(h,k,n){n=l.bO.call(this,h,k,g.uh.Audio,n) || this;n.config=h;n.Ai=k;n.type=g.xt.At;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.dX=void 0;g=a(24);l=a(350);m=a(49);d=a(139);f=new (a(104).Bz)().format;ja(c,l.bO);c.prototype.FV=function(){var h;h=f(c.TG,d.Ed.f9a);return Promise.resolve(this.config().SR && this.Ai.isTypeSupported(h));};c.prototype.BE=function(){var h;h={};h[m.de.EC]="mp4a.40.2";h[m.de.Oxa]="mp4a.40.2";h[m.de.FC]="mp4a.40.2";h[m.de.dI]="mp4a.40.42";h[m.de.dO]="ec-3";h[m.de.k9]="ec-3";h[m.de.eO]="ec-3";return h;};c.prototype.nTa=function(h){return h || this.config().iA;};b.dX=c;c.TG="audio/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DAa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HAa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GAa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dEa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NX="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Saa="Storage";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vva="CorruptedStorageValidatorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yza="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZAa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pua="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nua="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mua="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dua="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rAa="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pAa="ManifestProviderConfigSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,g,l,m,d,f;b=a(54);c=a(369);g=a(751);l=a(367);m=a(222);d=a(756);f=a(372);a=b(c(["filter"],d,function(h,k){return l(k)?m(function(n,p){h(k[p]) && (n[p]=k[p]);return n;},{},f(k)):g(h,k);}));r.exports=a;},function(r,b,a){var c,g;c=a(370);g=a(750);r.exports=function(l,m,d){return function(){var f,h;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);h=f.pop();if(!c(h)){for(var k=0;k < l.length;){if("function" === typeof h[l[k]])return h[l[k]].apply(h,f);k+=1;}if(g(h))return m.apply(null,f)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={Wa:function(){return this.vW["@@transducer/init"]();},result:function(b){return this.vW["@@transducer/result"](b);}};},function(r,b,a){var c,g,l,m,d;b=a(120);c=a(221);g=a(757);l=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var h,k,n,p;if(Object(f) !== f)return [];h=[];k=d && g(f);for(n in f){!c(n,f) || k && "length" === n || (h[h.length]=n);}if(l)for(k=m.length - 1;0 <= k;){n=m[k];if(p=c(n,f)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--k;}return h;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,g=a.length,l=Array(g);c < g;){l[c]=b(a[c]);c+=1;}return l;};},function(r,b,a){var c,g,l;c=a(223);g=a(120);b=a(54);l=a(760);a=b(function(m,d){return 1 === m?g(d):c(m,l(m,[],d));});r.exports=a;},function(r,b){function a(c,g){this.log=c;this.P7=g;}Object.defineProperty(b,"__esModule",{value:!0});b.IO=void 0;a.prototype.i5a=function(c,g){var l,m;l=this;if(!c)return (this.log.warn("There are no media streams for " + g.type + " track - " + g.trackId),[]);m=c.map(function(d){var f;f=l.P7(g,g.type,d.aha,d.bitrate,d.mb,d.size,l.Kzb(d.urls),d.pR,d.byb / d.ayb,d.Qx);f.qTb(d.jRb,d.iRb,d.u_a,d.t_a);f.GSb(d.atb,d.btb,d.$sb,d.Zsb,d.u_a,d.t_a);g.wl && (f.wl=g.wl);d.pR && (f.mg=d.pR);return f;});m.sort(function(d,f){return d.bitrate - f.bitrate;});m.forEach(function(d,f){d.lower=m[f - 1];d.wDb=m[f + 1];});return m;};a.prototype.Kzb=function(c){return c.reduce(function(g,l){g[l.LMa]=l.url;return g;},{});};b.IO=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ADa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jGa="TrackStreamFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rGa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wAa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vAa="ManifestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yCa="PboLinksManagerSymbol";b.wCa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lAa="ManifestEnricherSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(780),b);r.__exportStar(a(781),b);r.__exportStar(a(782),b);r.__exportStar(a(783),b);r.__exportStar(a(784),b);r.__exportStar(a(785),b);r.__exportStar(a(786),b);r.__exportStar(a(787),b);r.__exportStar(a(788),b);r.__exportStar(a(789),b);r.__exportStar(a(790),b);r.__exportStar(a(791),b);r.__exportStar(a(795),b);r.__exportStar(a(226),b);r.__exportStar(a(796),b);r.__exportStar(a(227),b);r.__exportStar(a(797),b);r.__exportStar(a(798),b);r.__exportStar(a(799),b);r.__exportStar(a(800),b);r.__exportStar(a(801),b);r.__exportStar(a(802),b);r.__exportStar(a(803),b);r.__exportStar(a(804),b);r.__exportStar(a(805),b);r.__exportStar(a(806),b);r.__exportStar(a(807),b);r.__exportStar(a(808),b);r.__exportStar(a(809),b);r.__exportStar(a(810),b);r.__exportStar(a(811),b);r.__exportStar(a(812),b);r.__exportStar(a(813),b);r.__exportStar(a(821),b);r.__exportStar(a(823),b);r.__exportStar(a(824),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eea=void 0;b.eea=function(a,c,g){var l,m;l=!0;g.forEach(function(d){var f;if(l && a === d.profile){f=d.ranges;l=void 0 === f?c >= d.min && c <= d.max:f.some(function(h){return c >= h.min && c <= h.max;});!l && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:l,d1:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WC=void 0;b.WC={qm:function(a){return a;}};},function(r){function b(){}function a(c){this.bKa=c;this.vo=[];this.Pf=null;}b.prototype.clear=function(){this.Be=null;this.size=0;};b.prototype.find=function(c){var l;for(var g=this.Be;null !== g;){l=this.bm(c,g.data);if(0 === l)return g.data;g=g.Gg(0 < l);}return null;};b.prototype.lowerBound=function(c){var d;for(var g=this.Be,l=this.iterator(),m=this.bm;null !== g;){d=m(c,g.data);if(0 === d)return (l.Pf=g,l);l.vo.push(g);g=g.Gg(0 < d);}for(d=l.vo.length - 1;0 <= d;--d){if((g=l.vo[d],0 > m(c,g.data)))return (l.Pf=g,l.vo.length=d,l);}l.vo.length=0;return l;};b.prototype.upperBound=function(c){for(var g=this.lowerBound(c),l=this.bm;null !== g.data() && 0 === l(g.data(),c);){g.next();}return g;};b.prototype.min=function(){var c;c=this.Be;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Be;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Me=function(c){for(var g=this.iterator(),l;null !== (l=g.next());){c(l);}};a.prototype.data=function(){return null !== this.Pf?this.Pf.data:null;};a.prototype.next=function(){var c;if(null === this.Pf){c=this.bKa.Be;null !== c && this.VIa(c);}else if(null === this.Pf.right){do {if((c=this.Pf,this.vo.length))this.Pf=this.vo.pop();else {this.Pf=null;break;}}while(this.Pf.right === c);}else (this.vo.push(this.Pf),this.VIa(this.Pf.right));return null !== this.Pf?this.Pf.data:null;};a.prototype.XF=function(){var c;if(null === this.Pf){c=this.bKa.Be;null !== c && this.TIa(c);}else if(null === this.Pf.left){do {if((c=this.Pf,this.vo.length))this.Pf=this.vo.pop();else {this.Pf=null;break;}}while(this.Pf.left === c);}else (this.vo.push(this.Pf),this.TIa(this.Pf.left));return null !== this.Pf?this.Pf.data:null;};a.prototype.VIa=function(c){for(;null !== c.left;){this.vo.push(c);c=c.left;}this.Pf=c;};a.prototype.TIa=function(c){for(;null !== c.right;){this.vo.push(c);c=c.right;}this.Pf=c;};r.exports=b;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.P$=void 0;r=(function(){function a(c,g,l,m){var d;d=this;this.properties=c;this.transform=g;this.dR=l;this.state=m;this.Vna=function(){var f,h;f=d.state;h=d.properties.map(function(k){return k.value;});d.state=d.transform(h);(d.zVa(d.state) && d.zVa(f)?d.state.equal(f):f === d.state) || d.dR(d.state);};c.forEach(function(f){return f.addListener(d.Vna);});this.Vna();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(g){return g.removeListener(c.Vna);});};a.prototype.zVa=function(c){return void 0 !== c.equal;};return a;})();b.P$=r;},function(r){function b(a){this.Dca=a;this.Bf=[];this.nq=!1;this.RD=void 0;this.bj={};}b.prototype.C_=function(a){this.Bf.length === this.Dca && this.Bf.shift();Array.isArray(a)?this.Bf=this.Bf.concat(a):this.Bf.push(a);this.nq=!0;};b.prototype.IK=function(){return this.Bf.length;};b.prototype.Vea=function(){var a;a=this.Bf;return 0 < a.length?a.reduce(function(c,g){return c + g;},0) / this.Bf.length:void 0;};b.prototype.h0=function(){var a,c;a=this.Bf;if(0 < a.length){c=this.Vea();a=a.reduce(function(g,l){return g + l * l;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Sr=function(a){var c,g,l;if(this.nq || void 0 === this.RD)(this.RD=this.Bf.slice(0).sort(function(m,d){return m - d;}),this.bj={},this.nq=!1);if(void 0 === this.bj[a]){c=this.RD;g=Math.floor(a / 100 * (c.length - 1) + 1) - 1;l=(a / 100 * (c.length - 1) + 1) % 1;this.bj[a]=g === c.length - 1?c[g]:c[g] + l * (c[g + 1] - c[g]);}return this.bj[a];};r.exports=b;},function(r,b,a){r.exports={W5b:a(390),j9b:a(232),e_b:a(855),d_b:a(391),f_b:a(392),txa:a(858)};},function(r,b,a){var m;function c(d){this.reset();this.XSb(d);}function g(d){this.setInterval(d);this.reset();}function l(d){this.Iz=new g(d);this.se=0;this.qc=null;}m=a(8);c.prototype.XSb=function(d){this.iI=Math.pow(.5,1 / d);this.JP=d;};c.prototype.reset=function(d){d && d.Aa && m.pa(d.Aa)?d.ei && m.pa(d.ei)?(this.Ut=this.Xgb,this.wo=d.Aa,this.Ez=d.ei + d.Aa * d.Aa):(this.Ut=this.Xgb,this.wo=d.Aa,this.Ez=d.Aa * d.Aa):this.Ez=this.wo=this.Ut=0;};c.prototype.add=function(d){var f;if(m.pa(d)){this.Ut++;f=this.iI;this.wo=f * this.wo + (1 - f) * d;this.Ez=f * this.Ez + (1 - f) * d * d;}};c.prototype.get=function(){var d,f,h;if(0 === this.Ut)return {Aa:0,ei:0};d=this.wo;f=this.Ez;h=1 - Math.pow(this.iI,this.Ut);d/=h;f/=h;h=d * d;return {Aa:Math.floor(d),ei:Math.floor(f > h?f - h:0)};};c.prototype.getState=function(){return 0 === this.Ut?null:{a:Number(this.wo.toPrecision(6)),s:Number(this.Ez.toPrecision(6)),n:this.Ut};};c.prototype.ve=function(d){if(m.hb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.Ez=this.wo=this.Ut=0,!1);this.wo=d.a;this.Ez=d.s;m.has(d,"n") && m.pa(d.n)?this.Ut=d.n:this.Ut=16 * this.JP;return !0;};g.prototype.setInterval=function(d){this.JP=d;this.iI=-Math.log(.5) / d;};g.prototype.reset=function(d){this.ab=this.Ze=null;d && m.isFinite(d.Aa)?this.wo=d.Aa:this.wo=0;};g.prototype.start=function(d){m.hb(this.Ze) && (this.ab=this.Ze=d);};g.prototype.add=function(d,f,h){var k,n;m.hb(this.Ze) && (this.ab=this.Ze=f);this.Ze=Math.min(this.Ze,f);f=Math.max(h - f,1);k=this.iI;n=h > this.ab?h:this.ab;this.wo=this.wo * (n > this.ab?Math.exp(-k * (n - this.ab)):1) + 8 * d / f * (1 - Math.exp(-k * f)) * (h > n?Math.exp(-k * (n - h)):1);this.ab=n;};g.prototype.get=function(d){var f;d=Math.max(d,this.ab);f=this.wo * Math.exp(-this.iI * (d - this.ab));d=1 - Math.exp(-this.iI * (d - this.Ze));0 < d && (f/=d);return {Aa:Math.floor(f)};};g.prototype.toString=function(){return "ewmav(" + this.JP + ")";};l.prototype.setInterval=function(d){this.Iz.setInterval(d);};l.prototype.reset=function(d){this.Iz.reset(d);this.se=0;this.qc=null;};l.prototype.start=function(d){!m.hb(this.qc) && d > this.qc && (this.se+=d - this.qc,this.qc=null);this.Iz.start(d - this.se);};l.prototype.add=function(d,f,h){!m.hb(this.qc) && h > this.qc && (this.se+=f > this.qc?f - this.qc:0,this.qc=null);this.Iz.add(d,f - this.se,h - this.se);};l.prototype.stop=function(d){this.qc=Math.max(m.hb(this.Iz.ab)?0:this.Iz.ab + this.se,m.hb(this.qc)?d:Math.min(this.qc,d));};l.prototype.get=function(d){return this.Iz.get((m.hb(this.qc)?d:this.qc) - this.se);};l.prototype.toString=function(){return this.Iz.toString();};r.exports={i$a:c,x_b:g,g$a:l};},function(r,b,a){var g,l;function c(m,d,f,h){g.call(this,f,h);this.au=new l(m);this.Chb=d;}g=a(143);l=a(388);c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var m;m=this.bv(0);g.prototype.shift.call(this);null !== m && this.au.C_(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.au.C_(m);g.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.CS();return {sampleSize:this.IK(),C5:m,cU:m.rj?(m.Sk - m.Rk) / m.rj:void 0};};c.prototype.IK=function(){return this.au.IK();};c.prototype.CS=function(){return this.au.IK() < this.Chb?{Rk:void 0,rj:void 0,Sk:void 0,sampleSize:void 0,Ci:void 0}:{Rk:this.au.Sr(25),rj:this.au.Sr(50),Sk:this.au.Sr(75),sampleSize:this.au.IK(),Ci:this.au.Sr.bind(this.au)};};c.prototype.toString=function(){return "biqr(" + this.jJ + "," + this.gd + "," + this.dj + ")";};r.exports=c;},function(r,b,a){var g,l;function c(m){this.G={HT:m.maxc || 25,Kfa:m.c || .5,bZb:m.w || 15E3,Xw:m.b || 5E3};g.call(this,this.G.bZb,this.G.Xw);this.hQ();}g=a(143);l=a(230).TDigest;c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var m;m=this.bv(0);g.prototype.shift.call(this);null !== m && (this.Ce.push(m,1),this.nq=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.Ce.push(m,1);this.nq=!0;g.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.OTa();};c.prototype.Cx=function(){var m;m=this.OTa();return {min:m.min,p10:m.t5,p25:m.Rk,p50:m.rj,p75:m.Sk,p90:m.u5,max:m.max,centroidSize:m.zob,sampleSize:m.sampleSize,centroids:m.Th};};c.prototype.OTa=function(){var m;if(0 === this.Ce.size())return null;m=this.Ce.Ci([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.nq || !this.zf)(this.nq=!1,this.zf={min:m[0],t5:m[1],Rk:m[2],rj:m[3],Sk:m[4],u5:m[5],max:m[6],Ci:this.Ce.Ci.bind(this.Ce),zob:this.Ce.size(),sampleSize:this.Ce.n,Th:this.kzb(),Cx:this.Cx.bind(this)});return this.zf;};c.prototype.kzb=function(){var m;if(0 === this.Ce.size())return null;if(!this.nq && this.zf)return this.zf.centroids;m=this.Ce.Ci([.25,.75]);if(m[0] === m[1])return null;this.Ce.size() > this.G.HT && this.Ce.ix();m=this.Ce.fo(!1).map(function(d){return {mean:d.Gf,n:d.n};});return JSON.stringify(m);};c.prototype.KTa=function(){return this.Ce.summary();};c.prototype.size=function(){return this.Ce.size();};c.prototype.toString=function(){return "btdtput(" + this.jJ + "," + this.gd + "," + this.dj + "): " + this.Ce.summary();};c.prototype.hQ=function(){this.Ce=new l(this.G.Kfa,this.G.HT);};r.exports=c;},function(r,b,a){var g,l;function c(m){this.G={HT:m.maxc || 25,Kfa:m.c || .5,IPb:m.rc || "none",HCb:m.hl || 7200};this.hQ();this.bjb=this.G.IPb;this.JP=this.G.HCb;this.sba=Math.exp(Math.log(2) / this.JP);this.sba=Math.max(this.sba,1);this.fZ=1;}g=a(8);l=a(230).TDigest;new (a(3).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.Ce.size())return null;m=this.Ce.Ci([.25,.75]);if(m[0] === m[1])return null;this.Ce.size() > this.G.HT && this.Ce.ix();m=this.Ce.fo(!1).reduce((function(d,f){g.pa(f.Gf) && g.pa(f.n) && d.push({mean:f.Gf,n:f.n / this.fZ});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.ve=function(m){var d;if(g.hb(m) || !g.has(m,"tdigest") || !g.ue(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(f){return !1;}d.forEach(function(f){g.isFinite(f.n) || (f.n=1);});m=d.map(function(f){return {Gf:f.mean,n:f.n};});this.fZ=1;this.Ce.Zoa(m);void 0 === this.Ce.Ci(0) && this.hQ();};c.prototype.get=function(){var m,d;m=this.Ce;d=m.Ci([0,.1,.25,.5,.75,.9,1]);return {min:d[0],t5:d[1],Rk:d[2],rj:d[3],Sk:d[4],u5:d[5],max:d[6],Th:m.fo(!1)};};c.gBb=function(m){var d;d=new c({});g.hb(m) || g.ea(m) || !g.isArray(m.Th) || (d.Ce.Zoa(m.Th),void 0 === d.Ce.Ci(0) && d.hQ());m=d.Ce.Ci([.25,.75]);return m[0] === m[1]?null:function(f){return d.Ce.Ci(f);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.bjb && (this.fZ=d=this.fZ * this.sba);this.Ce.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Ce.summary() + ")";};c.prototype.hQ=function(){this.Ce=new l(this.G.Kfa,this.G.HT);};r.exports={VFa:c};},function(r){(function(){var k00;k00=2;function b(){var l00;l00=2;for(;l00 !== 5;){switch(l00){case 2:this.Tz=this.yc=0;this.ab=this.Ze=void 0;l00=5;break;}}}for(;k00 !== 8;){switch(k00){case 3:var Z2Y="1SIY";Z2Y+="b";Z2Y+="ZrNJC";Z2Y+="p9";r.exports=b;Z2Y;k00=8;break;case 2:b.prototype.start=function(a){var m00;m00=2;for(;m00 !== 1;){switch(m00){case 2:this.Ze?a < this.Ze?(this.Tz+=this.Ze - a,this.Ze=a):a > this.ab && (this.ab=this.Ze=a):this.ab=this.Ze=a;m00=1;break;}}};b.prototype.stop=function(a){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:this.ab && a > this.ab && (this.Tz+=a - this.ab,this.ab=a);n00=1;break;}}};b.prototype.add=function(a,c,g){var o00;o00=2;for(;o00 !== 4;){switch(o00){case 2:this.start(c);this.stop(g);this.yc+=a;o00=4;break;}}};b.prototype.get=function(){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return {Aa:this.Tz?Math.floor(8 * this.yc / this.Tz):null,h1:this.Tz?this.Tz:0};break;}}};k00=3;break;}}})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vr=void 0;r=b.vr || (b.vr={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fya=b.V9=void 0;c=a(0);g=c.__importStar(a(8));l=c.__importDefault(a(3));m=a(875);d=a(876);f=(function(){return function(){this.T_=new d.TO(100);this.U4=new d.TO(100);};})();r=(function(){function h(k,n,p){var q,t,u;this.G=n;this.u=p;this.c_=k;q=this.aJ=this.mI=this.lI=0;t=0;u=0;this.c_.length >= this.G.F4 && (this.c_.forEach(function(w){!(w=w.get().Pxb) || g.ea(w.avtp) || g.ea(w.neuhd) || (q+=w.avtp,t+=1 * w.neuhd,u++);}),this.aJ=u,this.lI=q / u,this.mI=t / u);}Object.defineProperties(h.prototype,{Lmb:{get:function(){return this.lI;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mmb:{get:function(){return this.mI;},enumerable:!1,configurable:!0}});h.prototype.C3=function(){return this.aJ >= this.G.F4 && this.lI >= this.G.baselineHighAndStableThreshold.bwThreshold && this.mI < this.G.baselineHighAndStableThreshold.nethreshold;};return h;})();b.V9=r;r=(function(h){function k(n,p,q){n=h.call(this,n,p,q) || this;n.gba=[];n.Vwb={};n.B4a=[];n.kx=new f();n.c_.length >= n.G.F4 && (n.hKa("avtp",n.kx.T_),n.hKa("neuhd",n.kx.U4));return n;}c.__extends(k,h);k.prototype.C3=function(){var n;this.fBb();n=new m.Uza(this.u,this.B4a,this.dnb);n.Ioa(this.gba);n=n.fpb(this.G.W2.E8b);return this.bYb && 1 === n && this.aJ >= this.G.F4;};k.prototype.sS=function(){var n,p,q,t;n={};p=l.default.time.now();q=new Date(p);t=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=t;return n;};k.prototype.aSa=function(n,p,q){n="avtp" === n?this.lI:this.mI;for(var t=p.h0(),u=0,w="skew" === q?3:4,v=0;v < p.Bf.length;v++){g.ea(n) || g.ea(t) || (u+=Math.pow(p.Bf[v] - n,w));}u/=p.Bf.length;return !g.ea(t) && 0 < t?u / Math.pow(t,w) - 3 * ("skew" === q?0:1):NaN;};k.prototype.uSa=function(n,p,q){var t;t=0;"lte" === q?t=n.reduce(function(u,w){return w <= p?u + 1:u;},0) / (1 * n.length):"gte" === q && (t=n.reduce(function(u,w){return w >= p?u + 1:u;},0) / (1 * n.length));return t;};k.prototype.PAb=function(n){var p,q;p=n.Sr(25);q=n.Sr(50);n=n.Sr(75);return g.ea(p) || g.ea(q) || g.ea(n)?NaN:0 < q?(n - p) / q:NaN;};k.prototype.azb=function(n,p){n="avtp" === n?this.lI:this.mI;p=p.h0();return !g.ea(p) && !g.ea(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};k.prototype.CS=function(n,p){n=n.Sr(p);return g.ea(n)?NaN:n;};k.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};k.prototype.fBb=function(){var n,p,q,t,u,w,v,x,y,z,B,A;n=this;p=this.G.W2.YWa.n7b;q=this.G.W2.YWa.l7b;t=this.G.W2.YWa.m7b;x=[];A=0;this.bYb=!Object.keys(p).some(function(E){var D;B=NaN;if(!(p.hasOwnProperty(E) && q.hasOwnProperty(E) && t.hasOwnProperty(E) && !g.ea(n.kx) && n.kx.T_ && n.kx.U4) || 1 > n.aJ || "number" !== typeof p[E] || "number" !== typeof q[E] || "number" !== typeof t[E])return !0;u=p[E];w=q[E];v=t[E];x=E.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.kx.T_;break;case "neuhd":D=n.kx.U4;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":B=D.Bf[n.aJ - 1];break;case "mean":B="avtp" === y?n.lI:n.mI;break;case "niqr":B=n.PAb(D);break;case "skew":B=n.aSa(y,D,"skew");break;case "kurtosis":B=n.aSa(y,D,"kurtosis");break;case "std":B=D.h0();break;case "b":B=n.azb(y,D);break;default:-1 !== E.search("[p][1-9]?[1-9]") && (B=n.CS(D,Number(E.split("_p",2)[1])));}}else switch(E){case "fracAbove20Mbps":D=n.kx.T_;B=g.ea(D)?NaN:n.uSa(D.Bf,2E4,"gte");break;case "fracBelow20p":D=n.kx.U4;B=g.ea(D)?NaN:n.uSa(D.Bf,.15,"lte");break;case "hour_current":B=n.sS().currentHour;break;case "session_ct":B=n.aJ;break;case "intercept":(B=u,n.dnb=B);}B=n.normalize(B,w,v);if(isNaN(B))return !0;"intercept" !== E && (n.gba.push(B),n.B4a.push(u),n.Vwb[E]=A,A+=1);});};k.prototype.hKa=function(n,p){this.c_.forEach(function(q){q=q.get().Pxb;!q || "avtp" !== n && "neuhd" !== n || g.ea(q[n]) || p.C_(Number(q[n]));});};return k;})(r);b.fya=r;},function(r,b,a){var g,l,m,d;function c(f){return function(){for(var h=Array(this.length),k=0;k < this.length;++k){h[k]=f.call(this,k);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Wlb=b.Ou=b.Zaa=b.iGa=void 0;r=a(0);g=a(5);r=r.__importDefault(a(3));l=a(21);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(h,k){this.Fc=h;this.Ag=k;}Object.defineProperties(f.prototype,{index:{get:function(){return this.Ag;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$c:{get:function(){return new l.S(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hd:{get:function(){return new l.S(this.fb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ua:{get:function(){return this.Fc.g_ + this.Fc.$z[this.Ag];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fb:{get:function(){return this.Ua + this.Fc.iq[this.Ag];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zq:{get:function(){return this.Fc.iq[this.Ag];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xa:{get:function(){return this.Fc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.Fc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return Math.floor(1E3 * this.Ua / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ta:{get:function(){return Math.floor(1E3 * (this.Ua + this.zq) / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.ta - this.V;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.Ua / this.xa.U,endPts:1E3 * this.fb / this.xa.U,duration:1E3 * this.zq / this.xa.U,index:this.index};};return f;})();b.iGa=d;a=(function(){function f(h,k,n,p){this.mediaType=h;this.length=n.Vd.length;this.nl=n.U;this.iq=n.Vd;this.E_=p && p.nM;this.MKa=p && p.LM;this.FI=k;this.nsa=this.osa=this.PIa=void 0;this.g_=n.Ol;this.$z=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k){this.$z[k]=h;h+=this.iq[k];}this.$z[k]=h;this.rba=Math.floor((this.ta - this.V) / this.length);}}Object.defineProperties(f.prototype,{Ol:{get:function(){return this.N3a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tha:{get:function(){return this.N3a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return this.Hi(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ta:{get:function(){return this.Hi(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yn:{get:function(){return new l.S(this.tha,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ima:{get:function(){return this.PIa || this.zfb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xa:{get:function(){return this.FI;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.nl;},enumerable:!1,configurable:!0}});f.prototype.N3a=function(h){return this.g_ + this.$z[h];};f.prototype.Hi=function(h){return Math.floor(1E3 * (this.g_ + this.$z[h]) / this.U);};f.prototype.WR=function(h){return this.Hi(h + 1);};f.prototype.Vd=function(h){return this.WR(h) - this.Hi(h);};f.prototype.get=function(h){return new d(this,h);};f.prototype.sm=function(h,k,n){if(0 === this.length || h < this.Hi(0))return -1;h=Math.max(h,k || 0);for(var p=0,q=this.length - 1,t,u;q >= p;){if((t=p + (q - p >> 1),u=this.Hi(t),h < u))q=t - 1;else if(h >= u + this.Vd(t))p=t + 1;else {for(;k && t < this.length && this.Hi(t) < k;){++t;}return t < this.length?t:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.J1=function(h,k,n){h=this.sm(h,k,n);return 0 <= h?this.get(h):void 0;};f.prototype.Xfa=function(h,k){var n,p;n=Math.floor(k * this.U / 1E3);k=Math.min(h + Math.ceil(k / this.rba),this.length);p=this.$z[k] - this.$z[h];if(p > n){for(;p >= n;){--k;p-=this.iq[k];}return k - h + 1;}for(;p < n && k <= this.length;){p+=this.iq[k];++k;}return k - h;};f.prototype.subarray=function(h,k){g.assert(void 0 === h || 0 <= h && h < this.length);g.assert(void 0 === k || k > h && k <= this.length);return new f(this.mediaType,this.xa,{U:this.U,Ol:this.g_ + this.$z[h],Vd:this.iq.subarray(h,k)},this.E_ && ({nM:this.E_.subarray(h,k + 1),LM:this.MKa}));};f.prototype.forEach=function(h){for(var k=0;k < this.length;++k){h(this.get(k),k,this);}};f.prototype.map=function(h){for(var k=[],n=0;n < this.length;++n){k.push(h(this.get(n),n,this));}return k;};f.prototype.reduce=function(h,k){for(var n=0;n < this.length;++n){k=h(k,this.get(n),n,this);}return k;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.rba};};f.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.rba + "ms");for(var h=0;h < this.length;++h){k=this.get(h);m.trace("TrackFragments: " + h + ": [" + k.V + "-" + k.ta + "]");}};f.prototype.zfb=function(){for(var h=0,k=0;k < this.length;k++){h=Math.max(this.iq[k],h);}return this.PIa=h;};return f;})();b.Zaa=a;b.Ou=c;a.prototype.M3a=c(a.prototype.Hi);c(a.prototype.WR);c(a.prototype.Vd);b.Wlb=function(f){return "[" + Array(f.length).map(function(h,k){return f[k].toString();}).join(",") + "]";};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fQa=b.wx=b.rm=b.wSa=void 0;c=a(5);g=a(142);b.wSa=function(l,m,d,f){l=l.sm(m,void 0,!0);d && (l=Math.floor(l / f) * f);return l;};b.rm=function(l,m,d,f,h,k){var n,p,q,t;g.Vl.lp(l);c.assert(d.Y,"findFirstFragment called without stream fragments");n=d.Y;f=Math.max(d.Y.Hi(0),f);0 === l && !k && m.Oj && !m.gA && d.ae && (f=Math.max(d.Y.Hi(0),f + d.ae.X));p=b.wSa(n,f,d.M.CVa(l),4);q=d.Zh(p);if(q.ta < f)return q;t=q.K1(f);t?(0 < t.Yk && q.mh({start:t.Yk}),0 !== l || m.x4 || (0 > t.cd && q.mh({start:t.Yk}),t.cd < (m.Oj && !m.gA && d.ae?Math.floor(d.ae.X):0) && q.OR())):f >= q.ta && p < n.length - 1 && (q=d.Zh(p + 1));1 === l && h && q.ta === h && p < n.length - 1 && (q=d.Zh(p + 1));0 === l && !q.wa && (m.p3 || m.lvb) && k && q.mh({});q.$M(f);return q;};b.wx=function(l,m,d,f,h,k){var n,p;g.Vl.lp(l);n=d.Y;void 0 === f && (f=n.ta);if(h && (h=h.oxb(d,f,l,m,k)))return h;h=n.xa;k=f?f + b.fQa(l,h,m.Ey,m.lqa):n.WR(n.length - 1);n=n.sm(k,void 0,!0);h=d.Zh(n);0 === n || h.V !== f || 1 !== l && m.Ey || (--n,h=d.Zh(n));k=1 === l?k:f;if(k < h.ta){p=h.Wha(k);p && 0 !== p.Yk?h.mh({end:p.Yk}):0 === l && (p || k < h.V) && 0 !== n?h=d.Zh(n - 1):1 === l && p && 0 !== n && (h=d.Zh(n - 1));}0 === l && !h.wa && m.p3 && h.mh();h.$M(f);return h;};b.fQa=function(l,m,d,f){var h;return 1 === l || f?0:d?null !== (h=null === m || void 0 === m?void 0:m.X) && void 0 !== h?h:0:m?-m.X:0;};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qta=void 0;c=a(881);g=a(21);a(5);l=a(72);r=(function(){function m(d,f,h){this.G=f;this.u=h;this.Rh=d.track;this.Ljb=d.$f;this.ay=d.ay;this.chb=-1 === this.profile.indexOf("none");this.HI=this.Ea=void 0;f=d.Iu;this.Iu=void 0 === f?!0:f;this.d1=d.d1;this.EI=void 0;this.RIa=this.Nf=0;this.url=this.oG=this.Nc=this.er=this.bma=this.location=this.Ha=this.bb=void 0;this.aB=!1;this.ula=this.Ge=void 0;d=this.G && "object" === typeof this.G.j0a && this.G.j0a[this.profile];"object" === typeof d && (d=d[this.bitrate]) && (this.SZ=new g.S(d.ticks,d.timescale));}Object.defineProperties(m.prototype,{te:{get:function(){return ! !this.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{M:{get:function(){return this.Rh.M;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aa:{get:function(){return this.M.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{H:{get:function(){return this.Rh.H;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Rh.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xa:{get:function(){return this.Rh.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.Rh.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{QL:{get:function(){return this.Rh.QL;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.Rh.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.Rh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$f:{get:function(){return this.Ljb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Fa:{get:function(){return this.ay.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qx:{get:function(){return this.chb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.ay.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mb:{get:function(){return this.ay.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mRb:{get:function(){return this.ay.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{x6:{get:function(){return this.ay.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.ay.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{XB:{get:function(){return this.ay.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ae:{get:function(){return this.SZ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vF:{get:function(){return this.Ea && this.Ea.vF;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qia:{get:function(){return this.Rh.qia;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pia:{get:function(){return this.Rh.pia;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{V:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cu:{get:function(){return void 0 !== this.EI?this.EI:this.KFb();},set:function(d){this.EI=d;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Es:{get:function(){return this.Iu && !this.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gh:{get:function(){return this.HI;},enumerable:!1,configurable:!0}});m.prototype.Yj=function(){return this.M.Yj(this.mediaType,this.Fa);};m.prototype.u2=function(){var d;d=this.Yj();return d && d.stream.Y;};m.prototype.QG=function(d){return this.M.QG(this,d);};m.prototype.m5=function(){this.track.m5();};m.prototype.l5=function(){this.track.l5();};m.prototype.k5=function(d,f,h,k,n,p,q){k && void 0 !== k.Ol && (this.track.te || void 0 !== k.Vd && k.Vd.length) && void 0 !== k.offset && void 0 !== k.sizes && k.sizes.length?(this.G.Oj && this.ae && 0 === k.Ol && (k.Ol+=this.ae.Ng(k.U).Kb),this.HI=d,this.te || (this.track.k5(this,f,h,k,p),this.Ea=new c.DFa(this.track.Sl,k,n,p,q,this.H),this.track.tLb(this))):k?this.u.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== k.Ol) + "," + this.track.te + "," + this.track.fha + "," + (void 0 !== k.Vd) + "," + !(!k.Vd || !k.Vd.length) + "," + (void 0 !== k.offset) + "," + (void 0 !== k.sizes) + "," + !(!k.sizes || !k.sizes.length)):this.u.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};m.prototype.D0=function(d){this.te || (this.track.jqb(d.track),this.Ea=d.Y,this.HI=d.Gh);};m.prototype.Zh=function(d){return new l.gi(this,this.Y.get(d));};m.prototype.pSa=function(d){var f;f=this.Zh(d.index);d.wa && (f.mh(d.wa),f.$M(d.mt));return f;};m.prototype.J5a=function(d,f){this.Nf=d;this.RIa=f;};m.prototype.lpb=function(){this.Ha=this.bb=this.Nc=this.location=this.url=void 0;};m.prototype.toJSON=function(){return {movieId:this.H,mediaType:this.mediaType,streamId:this.Fa,bitrate:this.bitrate,streamIndex:this.$f,isAvailable:this.Iu,fittable:this.Cu,vmaf:this.mb,resolutionWidth:this.mRb,resolutionHeight:this.x6};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Fa + ":" + this.bitrate;};m.prototype.KFb=function(){var d,f,h,k,n;if(!this.te)return !0;if(this.track.mka >= this.bitrate)return this.EI=!0;if(this.track.WWa <= this.bitrate)return this.EI=!1;n=this.Ea.Snb(this.G.TT,this.Nf,null !== (f=null === (d=this.M) || void 0 === d?void 0:d.tG.X) && void 0 !== f?f:0,null !== (k=null === (h=this.M) || void 0 === h?void 0:h.tG.$) && void 0 !== k?k:0,this.RIa);if(n){if(!this.track.fha || this.Qx)this.track.mka=this.bitrate;}else this.track.WWa=this.bitrate;return this.EI=n;};return m;})();b.Qta=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,g){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g * a.byteLength / a.length);}:function(a,c,g){a.set(c,g);};r.exports={from:function(a,c,g,l){a=new a(c.length);for(var m="function" === typeof g,d=0;d < c.length;++d){a[d]=m?g.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){var m;m=null !== g && g.apply(this,arguments) || this;m.Y1=1536;return m;}c.__extends(l,g);l.Jc=!0;return l;})(a(173).default);b.default=r;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="ac-3";return l;})(r);b.d7a=a;r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="ec-3";return l;})(r);b.o$a=r;},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(97);r=a(30);l=g.K$;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.vg();this.fileSize=this.L.fk();this.U=this.L.fk();this.duration=this.L.fk(!1,!0);this.aLb=this.L.fk();this.L.fk();this.eLb=this.L.fk();this.iKb=this.L.Yb();this.bLb=this.L.fk();this.Jxb=this.L.Yb();this.L.h6();this.Vk={moof:{offset:this.aLb},sidx:{offset:this.bLb,size:this.Jxb}};this.Vk[g.kBa]={offset:this.eLb,size:this.iKb};this.L.offset - this.startOffset <= this.length - 24 && (this.dLb=this.L.fk(),this.XJb=this.L.Yb(),this.cLb=this.L.fk(),this.WJb=this.L.Yb(),this.Vk[g.WX]={offset:this.dLb,size:this.XJb},this.Vk[g.VX]={offset:this.cLb,size:this.WJb});return !0;};d.mf=l;d.Jc=!1;return d;})(r.yg);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(97);a=a(30);g=r.L$;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.vg();1 <= this.version && this.L.h6();d=this.L.Yb();this.Vk={};for(var f=this.startOffset + this.length,h=0;h < d;++h){k=this.L.QB();"uuid" === k && (k=this.L.h6());n=this.L.fk();this.Vk[k]={offset:f,size:n};f+=n;}return !0;};m.mf=g;m.Jc=!1;return m;})(a.yg);b.default=a;},function(r){var b,a,c,g;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Ky:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Ky:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Ky:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};g={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Ky:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":g},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":g};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(30);l=a(83);r=(function(m){function d(f,h,k,n,p){k=m.call(this,k,n,p) || this;k.pnb=f;k.lN=h;k.Zc={};return k;}c.__extends(d,m);d.prototype.parse=function(f){var h,k,n,p,q,t;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.Yb();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=l.Gz(this.Yb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.h6();}if(0 === h.length && this.lN.lRa(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.pnb[p];t=void 0;if(q){if((t=new q(this,p,k,n,h[0]),(h[0] || this).AQ(t),t.parse(f)))this.config.coa && q.Jc?h.unshift(t):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].OF - 8;){t=h.shift();if(!t.nK(f))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.OF;}if(0 === h.length && this.lN.nPa(p,k,n,t))break;}return !this.lN.done && (f=this.lN.endOffset?this.lN.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,AYa:f}:{done:!0,offset:Math.min(this.lN.endOffset || Infinity,this.offset)};};d.prototype.AQ=function(f){g.yg.AQ(this,f);};return d;})(a(901).Jeb);b.a9=r;},function(r,b,a){var g;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});g=a(97);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.lRa=function(){return this.done;};l.prototype.nPa=function(m,d,f){return this.done=d + f >= this.endOffset;};return l;})();b.Yva=r;r=(function(){function l(m,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.dt=m;this.b1=d;this.w4a=f;this.e_a=h;this.done=!1;this.Vk={};}l.prototype.lRa=function(m,d,f){-1 !== l.pDb.indexOf(m) && (this.Vk[m]={offset:d,size:f});if(-1 !== this.w4a.indexOf(m)){if((this.Vk[m]={offset:d,size:f},this.e_a))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.dt && -1 !== this.dt.indexOf(m)?(m=1 < this.dt.length?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0)):-1 !== this.b1.indexOf(m) && (m=this.dt?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0));return this.done;};l.prototype.nPa=function(m,d,f,h){var k;k=this;if(-1 !== this.w4a.indexOf(m))return this.done=!0;m === g.K$ && this.T2a(h.Vk);m === g.L$ && this.T2a(h.Vk);this.dt && c(m,this.dt);c(m,this.b1);return this.dt && 0 === this.dt.length && !this.b1.some(function(n){return k.Vk[n];})?this.done=!0:this.done;};l.prototype.T2a=function(m){var d;d=this;this.Vk=m;this.endOffset=(this.dt || []).concat(this.b1).reduce(function(f,h){return d.Vk[h]?(h=d.Vk[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};l.pDb=["moov","sidx"];return l;})();b.cab=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Paa=void 0;c=a(0);g=a(82);a(5);c.__importDefault(a(37));r=(function(){function l(m,d,f,h){this.U=f;this.Vd=m;this.sizes=d;this.length=Math.min(m.length,d.length);this.yc=h;}Object.defineProperties(l.prototype,{$:{get:function(){return void 0 !== this.yc?this.yc:this.yc=this.zba();},enumerable:!1,configurable:!0}});l.prototype.subarray=function(m,d){return new l(this.Vd.subarray(m,d),this.sizes.subarray(m,d),this.U);};l.prototype.concat=function(){var f,h;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spread(m));d=m.reduce(function(k,n){return k + n.length;},0);f=new Uint32Array(d);h=new Uint32Array(d);d=m.reduce(function(k,n){return k || n.U;},void 0);m.reduce(function(k,n){g.zGa.set(f,n.Vd,k);g.zGa.set(h,n.sizes,k);return k + n.length;},0);return new l(f,h,d);};l.prototype.zba=function(){for(var m=this.sizes,d=this.length,f=0,h=0;h < d;++h){f+=m[h];}return f;};return l;})();b.Paa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.N8=void 0;c=a(0);g=a(82);r=a(17);l=c.__importDefault(a(3));m=a(9);d=a(39);f=a(5);h=a(246);k=a(409);a=a(410);n=l.default.MediaSource;a=(function(p){function q(t,u,w,v,x,y,z){u=p.call(this,t,v,x,u,z) || this;k.GW.$Ua(u,t,v,z);u.Kl=w;u.track=w.track;u.Au=! !v.Au;u.SL=! !v.SL;u.GA=! !v.GA;u.bMb=v.$;u.fN=! !v.fN;u.uca=(y?"(cache)":"") + u.Fa + " header";w=v.offset;y=v.$;u.cm && (w+=u.cm.byteLength,y-=u.cm.byteLength);u.dJ(t.url || v.url,w,y);return u;}c.__extends(q,p);Object.defineProperties(q.prototype,{Ac:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{x5:{get:function(){return this.Hib;},enumerable:!1,configurable:!0}});q.prototype.kc=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}p.prototype.kc.call(this);};q.prototype.hS=function(t){this.stream.m5();p.prototype.hS.call(this,t);};q.prototype.qK=function(t,u,w){this.stream.l5();p.prototype.qK.call(this,t,u,w);};q.prototype.ck=function(t){this.cm=this.cm?m.wA(this.cm,t.response):t.response;t.QU();this.stream.l5();this.Eib()?p.prototype.ck.call(this,t):this.iHa?(this.dJ(t.url,t.offset + t.$,this.iHa),this.stream.m5(),p.prototype.ck.call(this,t)):this.V1(this);};q.prototype.dJ=function(t,u,w){t=new h.RN(this.stream,this.track,this.uca + " (" + this.va.length + ")",{offset:u,$:w,url:t,location:this.location,cc:this.cc,responseType:0},this,this.Wb,this.u);this.push(t);this.yc=this.va.reduce(function(v,x){return v + x.$;},0);};q.prototype.Eib=function(){var t,u,w;t=this.Wb;u=new g.wz(q.JJb,this.stream,this.cm,["sidx"],!0,{g9b:this.stream.track.fha,c_a:void 0 === this.xa,l5a:!n.Rb || !n.Rb.nNa,bsa:t.bsa,Oj:t.Oj,AN:this.Wb.AN,BRb:!0,g7:!n.Rb || !n.Rb.wYa});w=u.parse({xa:this.xa});this.nYb=t.AN && u.hDb;w.DB?(f.assert(w.Gh),this.HI=w.Gh,this.Hib=w.x5,this.SHa=! !w.cwb,void 0 === this.xa && void 0 === w.xa && this.u.error("No frame duration available for " + this.Fa),u=w.xa?new m.S(w.xa):this.xa,this.stream.k5(w.Gh,w.U,u,w.Y,w.PL,w.ej,t.FB && t.FB.enabled?w.qC:void 0),this.cm=void 0):this.iHa=w.mlb || 0;return ! !w.DB;};q.JJb=new l.default.Console("MP4","media|asejs");return q;})(a.K8);b.N8=a;d.hf(k.GW,a,!1,!1);d.hf(r.EventEmitter,a);},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GW=void 0;c=a(0);g=a(5);l=a(174);r=(function(m){function d(f,h,k){var n;n=m.call(this,f,h) || this;n.fN=!1;n.Au=!1;n.SL=!1;n.GA=!1;n.Kl=void 0;d.$Ua(n,f,h,k);return n;}c.__extends(d,m);d.$Ua=function(f,h,k,n){l.vt.Wa(f,h,k);f.HI=k.Gh;f.cm=k.eoa;f.SHa=k.xl;f.u=n;};Object.defineProperties(d.prototype,{Ac:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gh:{get:function(){return this.HI;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eoa:{get:function(){return this.cm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xl:{get:function(){return this.SHa;},enumerable:!1,configurable:!0}});d.prototype.kc=function(){};d.prototype.b8=function(){};d.prototype.vlb=function(f){g.assert(this.Kc.Fa === f.Fa);!f.te && this.Kc.te && f.D0(this.Kc);!f.location && this.Kc.location && (f.location=this.Kc.location,f.Nc=this.Kc.Nc,f.oG=this.Kc.oG,f.url=this.Kc.url,f.bb=this.Kc.bb);this.Kc=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return d;})(l.vt);b.GW=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.K8=void 0;c=a(0);c.__importDefault(a(3));a(5);r=(function(g){function l(m,d,f,h,k){m=g.call(this,m,d,f,h,k) || this;m.cIa=!1;m.bIa=!1;m.HP=!1;m.va=[];m.du=!1;m.iJa=!1;m.zIa=!1;m.vd=!1;m.Ug=!1;m.re=!1;m.fI=!1;m.MI=void 0;m.Xt=void 0;return m;}c.__extends(l,g);Object.defineProperties(l.prototype,{jla:{get:function(){return this.du && !this.HP;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.vd;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kpa:{get:function(){return this.Ug;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.re || (this.re=this.va.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.fI;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gj:{get:function(){return this.va.reduce(function(m,d){return m + d.Gj;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.va.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yd:{get:function(){return this.MI || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{url:{get:function(){return this.va[0] && this.va[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{readyState:{get:function(){return this.Tg || this.va.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){return this.Xt && this.Xt.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Dg:{get:function(){return this.Xt && this.Xt.Dg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{OE:{get:function(){return this.Xt && this.Xt.OE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Bi:{get:function(){return this.Xt && this.Xt.Bi;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{op:{get:function(){return ! !this.va.length && this.va[0].op;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.zIa && m.Wa(this.Ka);this.va.push(m);this.du && m.ny();};l.prototype.Wa=function(m){g.prototype.Wa.call(this,m);this.va.forEach(function(d){return d.Wa(m);});this.zIa=!0;};l.prototype.ny=function(){this.iJa=!0;(this.du=this.va.every(function(m){return m.ny();})) && this.hS(this);this.iJa=!1;return this.du;};l.prototype.kc=function(){7 !== this.readyState && 5 !== this.readyState && (this.u.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.va.forEach(function(m){return m.kc();});};l.prototype.KV=function(m){this.Tg=this.Xt=void 0;return this.va.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.KV(m):!0;});};l.prototype.abort=function(){var m,d,f;m=this.active;d=this.aborted;this.Tg=7;this.fI=!0;this.Ug=this.vd=!1;f=this.va.map(function(h){return h.abort();}).every(function(h){return h;});d || this.qK(this,m,this.jla);return f;};l.prototype.getResponseHeader=function(m){var d;d=null;this.va.some(function(f){return ! !(d=f.getResponseHeader(m));});return d;};l.prototype.getAllResponseHeaders=function(){var m;m=null;this.va.some(function(d){return ! !(m=d.getAllResponseHeaders());});return m;};l.prototype.s5=function(){};l.prototype.my=function(m){this.vd || (this.vd=!0);this.cIa || (this.cIa=!0,this.Jm=0,this.MI=this.Km=m.yd,this.RE(this));};l.prototype.cM=function(m){this.Ug || (this.Ug=!0);this.bIa || (this.bIa=!0,this.MI=m.yd,this.MA(this));};l.prototype.dM=function(m){this.MI=m.yd;this.SE(this);this.Jm=this.bytesReceived;this.Km=m.yd;};l.prototype.ck=function(m){this.MI=m.yd;this.complete?(this.re=!0,this.Tg=5,this.Ug=this.vd=!1,this.HP=!0,this.ms(this)):this.SE(this);this.Jm=this.bytesReceived;this.Km=m.yd;};l.prototype.qU=function(m){this.MI=m.yd;this.Xt=m;this.Tg=6;this.V1(this);};l.prototype.pU=function(){};l.prototype.Fh=function(){return this.va[0].Fh() + "-" + this.va[this.va.length - 1].Fh();};l.prototype.toString=function(){return "Compound[" + this.va.map(function(m){return m.toString();}).join(",") + "]";};l.prototype.toJSON=function(){return {requests:this.va};};return l;})(a(175).wC);b.K8=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uha=void 0;b.Uha=function(a,c){for(var g,l,m=a.length - 1;0 <= m;--m){if((l=a[m],l.Es)){if(l.bitrate <= c)return m;g=m;}}return g;};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oY=void 0;c=a(21);g=a(20);r=(function(){function l(m){this.ae=m;}l.f0=function(m,d,f,h){var k;k=c.S.nb;d && (f=null === f || void 0 === f?void 0:f.A5b,m.$Xb && void 0 !== f && 0 <= f?(m=new c.S(f,48E3),k=d.add(m),g.ma && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + m) + (" for ASE applied offset of " + k + "."))):m.gA && (k=d));return k;};l.prototype.append=function(m){return {Xd:m.Xd,offset:m.offset.add(this.ae)};};return l;})();b.oY=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rva=void 0;c=a(925);r=(function(){var q00;q00=2;function g(l){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var W2Y="1";W2Y+="SIYbZ";W2Y+="r";W2Y+="N";W2Y+="JCp9";this.u=l;W2Y;r00=5;break;case 3:this.u=l;"";r00=2;break;r00=5;break;}}}for(;q00 !== 3;){switch(q00){case 2:g.prototype.hfb=function(l,m){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 3:l=l.cdnResponseData;s00=9;break;case 2:m=c.PNa(m,l);d=l.steeringAdditionalInfo;s00=5;break;case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 4:var e2Y="applyin";e2Y+="g manifest based str";e2Y+="eamingClientConfig";return (l=d.streamingClientConfig,this.u.trace(e2Y + JSON.stringify(l)),this.jJa(m,l));break;case 7:var D2Y="using sab cell >= 100,";D2Y+=" pipelineEna";D2Y+="bled: ";var z2Y="using sab cell >= 200, p";z2Y+="ip";z2Y+="elineEn";z2Y+="abled: ";var I2Y=", all";I2Y+="owSwitchb";I2Y+="ac";I2Y+="k";var X2Y=", probeDe";X2Y+="tailDenominator";X2Y+=": ";var x2Y="using sab cell >= 300, pr";x2Y+="obe";x2Y+="Ser";x2Y+="verWhenError: ";var L2Y=", allowSwitch";L2Y+="bac";L2Y+="k";var R2Y=", probeDe";R2Y+="tail";R2Y+="D";R2Y+="enomina";R2Y+="tor: ";var F2Y="usi";F2Y+="ng sab cell >= 400, probe";F2Y+="Se";F2Y+="rverWhen";F2Y+="Error: ";(l=l.sessionABTestCell) && (l=l.split(".")) && 1 < l.length && (l=parseInt(l[1].replace(/cell/i,""),10),400 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.Ws=!0,m.YF=1,m.Pw=!0),this.u.trace(F2Y + m.Ws + R2Y + m.YF + L2Y + m.Pw)):300 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.Ws=!0,m.YF=1,m.Pw=!1),this.u.trace(x2Y + m.Ws + X2Y + m.YF + I2Y + m.Pw)):200 <= l?(m.set?m.set({pipelineEnabled:!1}):m.vp=!1,this.u.trace(z2Y + m.vp)):100 <= l && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.i4}),m.set({maxPendingBufferLen:m.n4})):(m.vp=!0,m.AL=1,m.Ru=m.i4,m.qB=m.n4),this.u.trace(D2Y + m.vp)));return m;break;case 9:s00=!l?8:7;break;case 8:return m;break;}}};g.prototype.jfb=function(l,m){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 1:return m;break;case 5:this.hhb=l;for(var d in m.Ufa){new RegExp(d).test(l) && (m=this.jJa(m,m.Ufa[d]));}return m;break;case 2:t00=!m.Ufa || l === this.hhb?1:5;break;}}};g.prototype.jJa=function(l,m){var u00,d,f,h;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(f in m){if(m.hasOwnProperty(f)){var J2Y="Inva";J2Y+="l";J2Y+="id ";J2Y+="ke";J2Y+="y";h=m[f];l.set?0 === l.set((d={},d[f]=h,d)) && this.u.trace(J2Y + f):l[f]=h;}}return l;break;}}};return g;break;}}})();b.rva=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jza=b.sEa=void 0;c=a(0).__importDefault(a(3)).default.Promise;g=(function(){function m(){var d;d=this;this.UZ=[];this.BQb=function(f){f=d.UZ.indexOf(f);0 <= f && d.UZ.splice(f,1);};}Object.defineProperties(m.prototype,{fA:{get:function(){return 0 !== this.UZ.length;},enumerable:!1,configurable:!0}});m.prototype.add=function(){var d;d=new l(this.BQb);this.UZ.push(d);return d;};m.prototype.Q6a=function(d){var f;f=this.add();try{return c.resolve(d()).then(function(h){f.release();return h;},function(h){f.release();return c.reject(h);});}catch(h){return (f.release(),c.reject(h));}};return m;})();b.sEa=g;l=(function(){function m(d){this.cjb=d;}m.prototype.release=function(){this.cjb(this);};return m;})();r=(function(){function m(d){this.JLb=d;this.counter=new g();}m.prototype.Kw=function(){var d,f;d=this;f=this.counter.add();return {release:function(){f.release();d.JLb(function(){return !d.counter.fA;});}};};return m;})();b.jza=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.lza=b.$O=void 0;c=a(0);r=a(17);g=c.__importStar(a(8));l=c.__importDefault(a(85));m=a(416);d=a(16);f=a(253);h=a(21);k=a(39);n=c.__importDefault(a(3));p=a(426);(function(t){t[t.kRa=0]="forwards";t[t.xea=1]="backwards";t[t.VL=2]="none";})(q=b.$O || (b.$O={}));a=(function(t){function u(w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M){var N,K,O;K=t.call(this,v,y,D.M,w,D,void 0,F,H,h.S.lb(C),A.ie.bind(A),G,M,void 0,void 0,void 0) || this;K.Ya=w;K.yh=x;K.Qb=z;K.nZ=B;K.P=A;K.bJ=E;K.Jf=G;K.nS=J;K.eg=I;K.wk=M;K.active=!1;K.qIa=[];K.Sca=0;null === (N=K.Gc) || void 0 === N?void 0:N.rpa(K);K.children=Object.create(null);K.Av=[];K.Nd=void 0;void 0 === H && (H=h.S.lb(D.V));O=[K.G.FLa,K.G.rra];F.forEach(function(R){var L;L=R.mediaType;R=new p.PX(w,K.yh,K.u,K,R,H.X,O[L],v,K.nZ,K.eg,K.vZ[L],null === G || void 0 === G?void 0:G.Oa(L));K.Ah.I2a(L,R);});K.YI=K.Ah.HU;return K;}c.__extends(u,t);Object.defineProperties(u.prototype,{H:{get:function(){return this.M.H;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Mm:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.Oa(0)) || void 0 === w?void 0:w.Mm) && void 0 !== v?v:0,null !== (y=null === (x=this.Oa(1)) || void 0 === x?void 0:x.Mm) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Uo:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.Oa(0)) || void 0 === w?void 0:w.Uo) && void 0 !== v?v:{X:0,$:0},null !== (y=null === (x=this.Oa(1)) || void 0 === x?void 0:x.Uo) && void 0 !== y?y:{X:0,$:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{J6:{get:function(){return this.R.V;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{yoa:{get:function(){return this.J6 + this.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fb:{get:function(){return this.R.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{me:{get:function(){return this.Fb + this.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Nb:{get:function(){return this.M.Nb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{weight:{get:function(){return this.R.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{R:{get:function(){return this.jQ;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ie:{get:function(){return this.Ah;},enumerable:!1,configurable:!0}});u.prototype.Sf=function(){var w;this.Qo || (this.active=!1,this.Jf && (delete this.Jf.children[this.R.id],this.Jf=void 0),g.Me(this.children,function(v){v && v.Jf && (v.Jf=void 0);}),this.children=Object.create(null),this.rI=void 0,t.prototype.Sf.call(this),null === (w=this.Gc) || void 0 === w?void 0:w.psa(this),this.Ah.clear());};u.prototype.Ppa=function(w,v){void 0 === v && (v=q.xea);this.Ie.forEach(function(x){(g.ea(w) || x.mediaType === w) && x.reset();});switch(v){case q.xea:this.Jf && this.Jf.Ppa(w,v);break;case q.kRa:this.children && g.Me(this.children,function(x){x && x.Ppa(w,v);});}};u.prototype.tVa=function(w){var v,x,y;if(!this.active)return !1;v=this.Jf;if(v){x=v.Oa(w);y=x.Ka.n_a;if(0 !== y && (v.uJ(w),y=x.Ka.n_a,0 !== y))return !1;}return !0;};u.prototype.xd=function(w){return this.Ie.Oa(w);};u.prototype.jDb=function(){return this.Ie.every(function(w){return 0 === w.Dy;});};u.prototype.toJSON=function(){return c.__assign(c.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Tc,playerEndPts:this.me,pipelines:this.Ie,previousBranch:this.Jf});};u.prototype.b3a=function(w,v){this.M.psa(this);this.Gc=this.R.M=w;this.Nqa(this.M);this.M.rpa(this);this.Ie.forEach(function(x){var y;y=v[x.mediaType];y && x.tV(y);});};u.prototype.nBb=function(w){return this.wk[w];};u.prototype.Oa=function(w){return this.Ie.Oa(w);};u.prototype.BBb=function(w){return this.Oa(w).Dy;};u.prototype.Lqa=function(w,v,x){var y,z,B,A;y=this;z=this.R;w=this.g0(z.V,this.M,w,this.H === (w?w.H:this.Qb.uc.H));B=w.sM;A=w.xx;void 0 === v && (v=[0,1]);0 === A.length || v.forEach(function(E){var D,F;D=y.Oa(E);x && (D.He=A[E]);F=y.cS(z.ta);D.W6(F[E]);});return B;};u.prototype.W0a=function(w,v){var x,y,z;x=this.Ya;y=this.Oa(0);void 0 === v && (v=y.wEb);this.Jf && (z=this.Jf.xd(0));x=new p.PX(x,this.yh,this.u,this,w,v,y.TM,this.G,this.nZ,this.eg,this.vZ[0],z);this.Ah.replace(y,x);this.YI=this.Ah.HU;this.Lqa(this.Jf,[0],!0);x.qG(v,! !this.Jf);y.Sf();g.Me(this.children,function(B){B && B.W0a(w);});};u.prototype.ls=function(w,v){if(v=this.Oa(v))return v.Ka.ls(w);};u.prototype.uJ=function(w){void 0 === w?this.Ie.forEach(function(v){v.uJ();}):this.Oa(w).uJ();};u.prototype.KU=function(w,v,x){(w=this.Oa(w)) && w.Ka.KU(v,x);};u.prototype.C2=function(w,v){(v=this.Oa(v)) && v.Ka.C2(w);};u.prototype.eIb=function(w){this.qIa[w]=!0;};u.prototype.Job=function(){var w;w=this;return [0,1].every(function(v){return !w.Nb(v) || w.qIa[v];});};u.prototype.Hob=function(w,v,x,y){var z,B,A,E,D,F,C,G,H;z=this.G;B=this.Ya;A=this.P.getState();E=A === d.ga.Dc || A === d.ga.Xe;if(!E && void 0 === x)return {$e:!0};if(A === d.ga.Xe && n.default.time.ba() < this.Sca + z.iYa)return {$e:!1};D=this.Oa(0);F=this.Oa(1);C=this.Qb.ru(this,0);G=this.Qb.ru(this,1);H=f.M5(A);C=!D || D.SMa(H,this.P.ie(),v,C,this.P.Dn(),y);G=!F || F.SMa(H,this.P.ie(),w,G,this.P.Dn(),y);void 0 !== x && C && (x=x.trackId,w=this.M.getTrackById(x),this.ofb(x,w.xN),B.Uw=void 0);if(C && G)return (this.bJ(),this.$Q=n.default.time.ba(),A === d.ga.Xe && (this.Sca=n.default.time.ba()),{$e:!0,Rr:F?F.lE:D.lE});C=this.ij(0);G=this.ij(1);if(E){B=!F || G > z.pj;if((!D || C > z.pj) && B && (D=this.nS(),D >= z.vy))return (this.ub("buffering longer than limit: " + D + " >= " + z.vy + ", audio buffer: " + C + " ms, video buffer: " + G + " ms"),this.bJ(),this.$Q=n.default.time.ba(),A === d.ga.Xe && (this.Sca=n.default.time.ba()),{$e:!0,Rr:"prebufferTimeLimit"});this.yh.Qhb();}return {$e:!1};};u.prototype.ifa=function(w,v){var x,y,z,B,A,E;x=this.G;y=this.Oa(0);z=this.Oa(1);v?(v=this.ij(0,w),w=this.ij(1,w)):(v=this.Qb.ru(this,0,w),w=this.Qb.ru(this,1,w));B=x.pj;A=!this.Nb(0) || y.rh && 0 === y.Ka.qy && 0 === y.Ka.kr;y=!this.Nb(1) || z.rh && 0 === z.Ka.qy && 0 === z.Ka.kr;E=A && y;x=!A && v < x.pj;if(!E && (x || !y && w < B))return !1;if(z && z.$e || !this.Nb(1))return !0;if(E)if(this.Ya.PZ && 0 === v && 0 === w)this.ub("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};u.prototype.S6=function(w,v){var x,y;x=this;y=this.G;this.Ie.forEach(function(z){z.seeking=void 0;});w && y.Ch && this.Ie.forEach(function(z){var B;if(z){B=x.Qb.pE(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Uo.$ + ", completedMs: " + z.EJ + ", completedBytes: " + B + ", partials: " + z.Ka.qy + ", streamingPts: " + z.dc + ", completeStreamingPts: " + z.Vr + ", fragments: " + JSON.stringify(z.Ka.Y) + ", toAppend: " + v(z.mediaType);x.yh.Gl(z);}});};u.prototype.aC=function(w,v,x){var y,z,B;y=this;z=n.default.time.ba();B={};g.Me(this.children,function(A){var E,D,F,C;if(A){if(A.Nd){A.Nd.$ub=z - A.Nd.l3;A.Nd.l3=void 0;E=A.Nd.weight;}else E=y.Qb.xTa(y.R.id,A.R.id);D=A.Eia();F=y.Oa(0) && 0 === D.hu;C=y.Oa(1) && 0 === D.Np;B[A.R.id]={weight:E,uq:D,OS:!F && !C};}});x={Cp:z,Aj:w,Jga:x,h7:this.R.id,Nd:B};w || (w=v.ie(),x.hN=w - (this.R.V + this.fe),x.hN=Math.max(0,x.hN),x.$0=0,x.startTime=z);this.Av.unshift(x);return x;};u.prototype.Ipb=function(w){var v,x;v=this.Av[0];v.Aj && (v.hN=this.Fb - this.R.V,v.hN=Math.max(0,v.hN));v.j5a={};x=w.Eia();l.default(x,v.j5a);v.OS=w.Uo.every(function(y){return 0 < y.X;});this.Av=[];return v;};u.prototype.Zk=function(w){var v;v=this.R;w-=this.fe;if(v.V < w && w < v.ta)this.Av.shift();else if(v=this.Av[0])v.Zk=!0;};u.prototype.g0=function(w,v,x,y){var z,B,A,E;z=this;void 0 === v && (v=this.M);B=!1;if(x){B=!0;A=x.Oa(1).ff;x=x.Oa(0).ff;if(!A || !x)return {sM:[],xx:[]};A=A.ta;y || (A=void 0);}E=this.MQa(w,A,B,v);v.qb === this.Qb.dtb && [1,0].forEach(function(D){var F;F=z.Oa(D);F && (F.He=E[D]);});return {sM:E.map(function(D){return D.V;}),xx:E};};u.prototype.MQa=function(w,v,x,y){var z;z=this;void 0 === y && (y=this.M);return this.jKa(y)?[1,0].map(function(B){var A;if(!z.Nb(B))return {};A=y.Hg[B];B=z.Oa(B).rm(A.stream,w,v,x);w=B.V;return B;}).reverse():[];};u.prototype.cS=function(w,v){var x;x=this;void 0 === v && (v=this.M);return this.jKa(v)?[1,0].map(function(y){var z;if(!x.Nb(y))return {};z=v.Hg[y].stream;y=x.Oa(y).wx(z,w);w=x.G.Zf?new h.S(y.fb,z.xa.U).X:y.ta;return y;}).reverse():[];};u.prototype.sXb=function(w,v){var x;x=this.R.ta;x && x < v && (w=this.cS(x));v=this.xd(1);x=this.xd(0);v && v.W6(w[1]);x && x.W6(w[0]);};u.prototype.jKa=function(w){var v;v=w.Hg;if(!v)return !1;w=v[1];w=!this.Nb(1) || w && w.stream.te;v=v[0];v=!this.Nb(0) || v && v.stream.te;return w && v?!0:!1;};u.prototype.ofb=function(w,v){this.yh.Ohb(w,v);};return u;})(m.b9);b.lza=a;k.hf(r.EventEmitter,a);},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y;function c(z,B){return (1 === z.mediaType?0:1) - (1 === B.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.b9=b.sdb=void 0;g=a(0);l=a(17);m=a(417);d=a(96);f=a(177);h=a(957);k=a(16);n=a(424);p=a(959);q=a(9);t=a(29);u=a(5);w=a(21);v=g.__importDefault(a(3));r=a(122);x=a(39);y=a(960);b.sdb={X9b:c};a=(function(z){function B(A,E,D,F,C,G,H,J,I,M,N,K,O,R,L){var Q,P;P=z.call(this) || this;P.G=A;P.Gc=D;P.lNb=F;P.jQ=C;P.oAb=G;P.pHa=I;P.Fgb=M;P.parent=N;P.wk=K;P.xba=O;P.FD=R;P.Lsa=L;P.Ah=new y.VCa([]);P.Rca=!1;P.Dr=!1;P.DIa=0;P.tHa=P.lLb.bind(P);P.u=q.Hs(v.default,E,C.id && C.id.length?"{" + C.id + "}":"");P.Af=P.u.error.bind(P.u);P.ub=P.u.warn.bind(P.u);P.Ck=P.u.trace.bind(P.u);P.bT=null !== J && void 0 !== J?J:w.S.lb(P.R.V);P.tsa(P.bT.X,P.G.y7);P.events=new l.EventEmitter();null === (Q=P.xba) || void 0 === Q?void 0:Q.addListener(P.tHa);D && (P.eVa(D,H),P.parent=void 0);return P;}g.__extends(B,z);Object.defineProperties(B.prototype,{Qo:{get:function(){return this.Dr;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ss:{get:function(){return this.Rca;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{R:{get:function(){return this.jQ;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{oF:{get:function(){return this.Hx && this.Ah.every(function(A){return A.oF;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mJ:{get:function(){return this.Hx && this.Ah.every(function(A){return A.mJ;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{eA:{get:function(){return this.FK().reduce(function(A,E){return A + E.eA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Nk:{get:function(){return this.Hx && this.FK().every(function(A){return A.Nk();});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{oh:{get:function(){return this.FK().map(function(A){return A.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Hx:{get:function(){var A;return !(null === (A=this.Lsa) || void 0 === A || !A.M);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{M:{get:function(){u.assert(this.Gc,"Expected for viewable to exist");return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{U:{get:function(){return this.YI.U;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ua:{get:function(){return this.YI.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{fb:{get:function(){return this.YI.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Wk:{get:function(){return this.tq.Ng(this.U).Kb;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{cT:{get:function(){return this.bT.add(this.tq);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{L5:{get:function(){return this.R.Dj.add(this.tq);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{xoa:{get:function(){return this.R.yn.add(this.tq);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{GGb:{get:function(){return this.Ah.reduce(function(A,E){return A && E.fh?w.S.max(A,E.fh):E.fh?E.fh:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{iVa:{get:function(){return this.cT.X;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{fe:{get:function(){return this.tq.X;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{tq:{get:function(){return this.pHa;},enumerable:!1,configurable:!0}});B.prototype.Wa=function(){var A;null === (A=this.Lsa) || void 0 === A?void 0:A.Wa(this);};B.prototype.tEb=function(A){A=this.eVa(A);this.bVa(A);};B.prototype.update=function(A){var E,D,F;F=A.yn.c5(this.jQ.yn);this.dTb(A);F && this.ED && (u.assert(this.Hx,"expected to receive headers before renormalizer"),F=g.__read(this.ED.KQb(A,A.yn),2),A=F[0],F=F[1],u.assert(A && F,"branch.update: lastFragment should be defined"),null === (E=this.Oa(0)) || void 0 === E?void 0:E.truncate(A),null === (D=this.Oa(1)) || void 0 === D?void 0:D.truncate(F),this.gJa(!0,!0),this.events.emit("branchEdited",{type:"branchEdited"}));};B.prototype.YG=function(A){this.tq.equal(A) || (this.pHa=A);};B.prototype.FS=function(A){return (A=this.Oa(A))?A.FS():f.AsyncIterator.Szb();};B.prototype.dTb=function(A){this.jQ=A;};B.prototype.sha=function(){this.FK().forEach(function(A){return A.sha();});};B.prototype.vQ=function(){this.Ah.forEach(function(A){return A.vQ();});};B.prototype.Sf=function(){var A,E,D;this.Dr || (this.Dr=!0,null === (A=this.Lsa) || void 0 === A?void 0:A.Gb(),null === (E=this.ED) || void 0 === E?void 0:E.kc(),this.ED=void 0,this.Ah.forEach(function(F){F.Sf();}),null === (D=this.xba) || void 0 === D?void 0:D.removeListener(this.tHa),this.events.removeAllListeners());};B.prototype.tVa=function(){return !0;};B.prototype.Oa=function(A){return this.Ah.Oa(A);};B.prototype.FK=function(){var A;void 0 === A && (A=c);return this.Ah.Ie.slice().sort(A);};B.prototype.dja=function(A){return this.Oa(A);};B.prototype.ij=function(A,E){A=this.Oa(A);if(!A)return 0;if(E)return A.Mm;E=A.Vr;if(void 0 === E)return 0;A=this.Fgb();return E - A;};B.prototype.Eia=function(){var A,E,D,F,C,G,H;H=null === (A=this.Oa(0)) || void 0 === A?void 0:A.Uo;A=null === (E=this.Oa(1)) || void 0 === E?void 0:E.Uo;return {Np:null !== (D=null === A || void 0 === A?void 0:A.X) && void 0 !== D?D:0,hu:null !== (F=null === H || void 0 === H?void 0:H.X) && void 0 !== F?F:0,nC:null !== (C=null === A || void 0 === A?void 0:A.$) && void 0 !== C?C:0,x_:null !== (G=null === H || void 0 === H?void 0:H.$) && void 0 !== G?G:0};};B.prototype.ETa=function(A){var E;return (A=this.Oa(A))?null !== (E=A.Vr) && void 0 !== E?E:0:0;};B.prototype.WB=function(A,E,D){var F;E=null !== (F=null !== E && void 0 !== E?E:this.$c) && void 0 !== F?F:this.bT;this.eOa(A,E,D);this.bVa();this.vQ();};B.prototype.tsa=function(A,E){this.nEb=A + E;this.sEb=v.default.time.ba();};B.prototype.nr=function(A){A=this.Oa(A);u.assert(A);return A.nr();};B.prototype.lLb=function(A){k.Ds(A.newValue) && this.BD();};B.prototype.Sfa=function(A){return this.Hx && this.Ah.every(function(E){return E.Sfa(A);});};B.prototype.tzb=function(A){var E,D;return null !== (D=null === (E=this.Ah.Oa(A)) || void 0 === E?void 0:E.etb) && void 0 !== D?D:w.S.nb;};B.prototype.WWb=function(A){var E,D,F;E=this.YI.pGb;if(!E)return !1;D=t.kg(A,function(C){return E.X <= C.$c.X;});if(!D)return !1;A=!1;F=g.__read(n.zpa(this.G,this.Ah,D.$c),2);D=F[0];if(F=F[1])(this.Oa(1).truncate(F),A=!0);D && (this.Oa(0).truncate(D),A=!0);A && (D={type:"branchEdited"},this.events.emit(D.type,D));return A;};B.prototype.ck=function(A){this.Dr || (A.Vda || u.assert(!A.Ac),this.BD(),this.mJ && this.yib());this.ms(A);};B.prototype.dM=function(A){this.G.ZPa && this.BD(!0);this.SE(A);};B.prototype.cM=function(A){this.G.ZPa && this.BD(!0);this.MA(A);};B.prototype.gJa=function(A,E){var D;null === (D=this.ED) || void 0 === D?void 0:D.kc();A && this.events.emit("branchNormalized",{type:"branchNormalized",segmentContentStart:this.R.Dj,branchContentStart:this.$c,branchContentEnd:this.Hd,didNormalizeSegment:E});};B.prototype.FTb=function(A){var E;return k.Ds((null === (E=this.xba) || void 0 === E?void 0:E.value) || k.jc.Kj) && (!A || this.DIa + this.G.ena < v.default.time.ba());};B.prototype.BD=function(A){void 0 === A && (A=!1);this.FTb(A) && (this.DIa=v.default.time.ba(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};B.prototype.yib=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};B.prototype.Bsb=function(A,E,D){var F;F=A.mediaType;return new m.haa(this,this.G,this.u,this.lNb,this,A,E,[this.G.FLa,this.G.rra][F],this.vZ[F],this.G.B5,D,this.FD);};B.prototype.eOa=function(A,E,D,F){var G,H,J,I;function C(){return 0 === --I && G.events.emit("requestQueuesCreated");}G=this;void 0 === E && (E=this.bT);I=0;A.forEach(function(M,N){var K,O;K=M.mediaType;O=G.Oa(K);N=null === F || void 0 === F?void 0:F[N];if((null === O || void 0 === O?void 0:O.track) !== M){null === O || void 0 === O?void 0:O.Sf();M=G.Bsb(M,E,N);G.Ah.I2a(K,M);++I;if(G.G.B5)M.events.once("requestQueueCreated",C);M.events.on("lastRequestIssued",function(){return G.oF && G.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});}});this.Ah=this.Ah.filter(function(M){var N;N=A.some(function(K){return K.mediaType === M.mediaType;});return null !== N && void 0 !== N?N:M.Sf();});null === (H=this.ED) || void 0 === H?void 0:H.kc();this.ED=new p.WCa({console:this.u,config:this.G,M:this.M,R:this.R,Ie:this.Ah,$c:E,Hd:null !== (J=this.R.yn) && void 0 !== J?J:void 0 !== this.R.ta?w.S.lb(this.R.ta):void 0,splice:D});this.YI=this.Ah.HU;};B.prototype.eVa=function(A,E){var D,F;D=this;this.Nqa(A);u.assert(A.aa === this.R.aa || isNaN(A.aa) && isNaN(this.R.aa));this.Gc=A;this.vZ=[];A=null !== E && void 0 !== E?E:null === (F=this.oAb) || void 0 === F?void 0:F.call(this,A);u.assert(A,"tracks need to exist upon initialization");A.forEach(function(C){var G;C=C.mediaType;G=D.M.CVa(C)?new h.lya(D.G.eU,C,D.G,D.u):new h.uBa(C,D.G,D.u);D.vZ[C]=G;});return A;};B.prototype.bVa=function(A){var E,D,F;E=this;if(A){F=this.parent && A.map(function(C){var G;return null === (G=E.parent) || void 0 === G?void 0:G.Oa(C.mediaType);});u.assert(!F || F.every(function(C){return C;}),"parent must have a pipeline for every media type");F=F && F.map(function(C){return C.ag;});this.eOa(A,this.bT,! !this.parent,F);this.parent=void 0;}null === (D=this.ED) || void 0 === D?void 0:D.Wa(this.gJa.bind(this));};B.prototype.toJSON=function(){var A,E;return {segment:this.R.id,branchOffset:this.fe,viewableId:this.jQ.aa,contentStartPts:null === (A=this.$c) || void 0 === A?void 0:A.X,contentEndPts:null === (E=this.Hd) || void 0 === E?void 0:E.X};};return B;})(d.Hv);b.b9=a;x.hf(r.xC,a);x.hf(r.vC,a);},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.haa=void 0;c=a(0);g=a(17);l=a(930);m=a(96);d=a(931);f=a(940);h=a(419);k=a(420);n=a(9);p=a(5);q=a(21);t=c.__importDefault(a(3));r=a(122);u=a(39);w=a(423);v=a(123);a=(function(x){function y(z,B,A,E,D,F,C,G,H,J,I,M){var N;N=x.call(this,z) || this;N.G=B;N.Vc=D;N.Rh=F;N.mca=C;N.Bgb=H;N.FD=M;N.events=new g.EventEmitter();N.connected=!1;N.Yja=!1;N.Dr=!1;N.u=n.Hs(t.default,A,"[" + N.mediaType + "]");N.Af=N.u.error.bind(N.u);N.ub=N.u.warn.bind(N.u);N.Ck=N.u.trace.bind(N.u);N.nQ=C.X;N.ag=new h.EFa(I);N.ag.tV(F);N.TJa=new k.FFa(G,B,N.ag,0 === N.mediaType && B.OPa || 1 === N.mediaType && B.PPa);N.fm=new l.XCa(N,E,N.G,N.u,N.mediaType);N.hn=new d.EEa(N,B,N.u,N.fm,N.Vc,N.mediaType,N.FD,function(){return N.Wk;});B.Zf && (N.Zf=new f.vFa(B.Zf,N.u));J && (N.ih=w.Yr(N.mediaType,N.track.M,N.G,N.u,N.fm.Yxb.bind(N.fm),function(){}),N.ih.on("created",function(){return N.events.emit("requestQueueCreated");}));return N;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Rh.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.Rh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wb:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oa:{get:function(){return this.Vc.R.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ka:{get:function(){return this.hn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Cd:{get:function(){return this.Rh.Cd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Uo:{get:function(){return this.hn.Uo;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Mm:{get:function(){return this.hn.Mm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{dc:{get:function(){return this.nQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{J3a:{get:function(){var z;return null !== (z=this.ek) && void 0 !== z?z:this.cT;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{t0:{get:function(){var z;return null !== (z=this.Ka.t0) && void 0 !== z?z:this.J3a;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{y_:{get:function(){return this.Ka.t0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vr:{get:function(){return this.Ka.Vr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hfa:{get:function(){return this.Ka.Hfa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pGb:{get:function(){var z;z=this.Ka.qGb;return null === z || void 0 === z?void 0:z.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oF:{get:function(){return ! !this.ff && (this.Fl > this.ff.index || this.nQ >= this.ff.Fb);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mJ:{get:function(){return this.oF && 0 === this.hn.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{eA:{get:function(){return this.Ka.eA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{etb:{get:function(){return this.Ka.Y.PR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Py:{get:function(){return this.TJa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wx:{get:function(){return this.ag.Wx;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U:{get:function(){var z,B;return null !== (B=null === (z=this.He) || void 0 === z?void 0:z.U) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ua:{get:function(){var z;return null === (z=this.He) || void 0 === z?void 0:z.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fb:{get:function(){var z;return null === (z=this.ff) || void 0 === z?void 0:z.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wk:{get:function(){return this.wb.tq.Ng(this.U).Kb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{S2:{get:function(){return this.Ka.S2;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vv:{get:function(){return this.Ka.vv;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lra:{get:function(){return this.Ka.lra;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cT:{get:function(){return this.mca.add(this.wb.tq);},enumerable:!1,configurable:!0}});y.prototype.vQ=function(){var z;z=this;this.hn.vQ(void 0,function(B){var A;A=B[0];B=A.Sb;A=A.index;A < z.Fl && z.qV(B,A);});};y.prototype.Sf=function(){this.Dr=!0;this.hn.Sf();this.ag.Gb();this.ih && (this.wb.M.uQ(this.mediaType,this.ih),v.ko.instance.UJ(this.ih),this.ih.removeAllListeners(),this.ih=void 0);};y.prototype.toJSON=function(){return {started:this.vv,startOfSequence:this.lra,segmentId:this.oa,requestedBufferLevel:this.Mm,viewableId:this.Vc.M.aa,hasFragments:this.S2};};y.prototype.nr=function(){return this.Ka.nr();};y.prototype.qV=function(z,B){this.nQ=z;this.Fl=B;};y.prototype.FS=function(){return this.Ka.FS();};y.prototype.sha=function(){this.Ka.close();};y.prototype.Sfa=function(z){return (z=this.Ka.ls(z.X))?z.complete:!1;};Object.defineProperties(y.prototype,{uj:{get:function(){return this.Vc.uj;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ao:{get:function(){return void 0 === this.Rh.Sl || void 0 === this.Fl?this.mca.add(q.S.lb(this.Vc.fe)):this.Rh.Sl.get(this.Fl).$c.add(q.S.lb(this.Vc.fe));},enumerable:!1,configurable:!0}});y.prototype.UWb=function(z,B,A){var E;p.assert(! !B !== ! !this.ih);B=null !== B && void 0 !== B?B:this.ih;p.assert(B);p.assert(!this.Dr,"pipeline.tryIssueRequest on disabled pipeline");E=z.u2();return E?this.r5a(z,E,B,A):(z=z.QG(B))?{pp:z,reason:"success"}:{pp:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.dT=function(z,B){z && (this.He=z);B && (this.ff=B);p.assert(this.He);p.assert(this.ff);p.assert(void 0 === this.Fl);this.qV(this.He.Sb,this.He.index);};y.prototype.truncate=function(z){var B;B=this;p.assert(this.He,"expected first fragment to exist on updateStreaming");this.ff=z;this.oF && (z=c.__read(this.hn.skb(z),2),this.qV(z[0],z[1]),this.In() && (this.Ka.F2a(),this.Ka.ffa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};y.prototype.Ku=function(){return this.In()?!1:this.Nk()?!0:this.track.pna;};y.prototype.Nk=function(){return void 0 !== this.He && void 0 !== this.ff;};y.prototype.In=function(){return this.Dr || this.oF;};Object.defineProperties(y.prototype,{vOb:{get:function(){var z;z=!0;this.G.t6 && (z=this.connected);this.G.s6 && (z=z && this.Yja);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oMb:{get:function(){return void 0 !== this.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pMb:{get:function(){var z;return (null === (z=this.Zf) || void 0 === z?0:z.ex())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.ck=function(z){this.fm.BKb(z);"oncomplete" === this.G.YUa && (this.Yja=!0);this.ms(z);};y.prototype.my=function(z){z.Ac || this.fm.aZa(z.stream,z.V,z.Sb);this.fm.xKb(this.oa,z.stream,z.Ac);this.RE(z);};y.prototype.cM=function(z){z.Vda || (this.connected=!0);"onfirstbyte" === this.G.YUa && (this.Yja=!0);this.MA(z);};y.prototype.cAb=function(z){var B,A;B=this.Ka.Y;if(0 === B.length)return {Y:[],foa:0,Tk:0};A=B.oK(z.X);0 > A && (A=void 0 === B.V || z.X <= B.V?0:B.length);return {Y:B.iSb(A),foa:Math.max(0,B.Ifa - A),Tk:B.Tk};};y.prototype.r5a=function(z,B,A,E){var D,F,C,G,H,J;C=this.Vc;G=C.M;H=this.mediaType;J=this.Fl;if(J >= B.length)return (this.ub("makeRequest nextFragmentIndex:",J,"past fragments length:",B.length),{pp:!1,reason:"insufficientFragments"});if(!this.He || !this.ff)return (this.ub("makeRequest delayed, first or last fragment not set","first:",! !this.He,"last:",! !this.ff),{pp:!1,reason:"noFirstOrLastFragment"});B=this.Bgb.vSa(z,J,this,G.Ox());this.Dla=B.region;null === (D=this.Zf) || void 0 === D?void 0:D.iEb(B,z);B.Kq && 1 === H && this.fm.Jca(C.R,B.ta);this.G.BL && (B.BL=this.G.BL);void 0 !== z && (B.location=z.location,B.cc=z.Nc,B.Eqa=z.er);if(D=C.M.a7)(H=0 === H && this.G.OPa || 1 === H && this.G.PPa,J=this.G.Qvb && 1 === this.mediaType && this.G.vp,B.sMb=H && E && (0 < E.f7 || 0 < E.x0 || 0 < E.l6),B.b7=D.vu({xJ:C.ij(this.mediaType),Z4:this.G.Lvb?this.G.Z4:void 0,T4a:String(t.default.time.ba()),HJ:H?E:void 0,Fea:J?{start:B.offset,size:B.$}:void 0}));t.default.time.ba();A=this.Ka.Ksb(B,A,z);if(!A.ny()){this.ub("MediaRequest.open error: " + A.Dg + " native: " + A.Bi);if(7 === A.readyState)return {pp:!1,reason:"requestAborted"};this.ub("makeRequest caught:",A.Dg);G.hh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {pp:!1,reason:"openAseMediaRequest"};}null === (F=this.Zf) || void 0 === F?void 0:F.hwb(A,B,z);this.fm.CKb(A);this.qV(A.Fb,B.yB);this.In() && (this.Ka.F2a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {pp:!0,reason:"success"};};return y;})(m.Hv);b.haa=a;u.hf(r.vC,a);u.hf(r.xC,a);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gja=b.Clb=void 0;b.Clb=function(a){return a.lqa;};b.gja=function(a,c){return void 0 !== a.KL?a.KL:c && void 0 !== c.KL?c.KL:100;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EFa=void 0;r=(function(){function a(c){this.parent=c;this.ce=null;}Object.defineProperties(a.prototype,{nWa:{get:function(){var c,g;return null !== (c=this.tDb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.nWa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rT:{get:function(){var c,g;return null !== (c=this.qKb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.rT;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wx:{get:function(){var c,g;return null !== (c=this.Bj) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.Wx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sT:{get:function(){var c;return null === this.ce?null === (c=this.parent) || void 0 === c?void 0:c.sT:this.ce;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tWa:{get:function(){var c,g;return null !== (c=this.MUb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.tWa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mla:{get:function(){var c,g;return null !== (c=this.NUb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.Mla;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.lSb;},enumerable:!1,configurable:!0}});a.prototype.Gb=function(){this.parent=void 0;};a.prototype.M2a=function(c){this.tDb=c;};a.prototype.VSb=function(c){this.qKb=c;};a.prototype.V2a=function(c){this.Bj=c;};a.prototype.Oqa=function(c){this.ce=c;};a.prototype.hTb=function(c){this.MUb=c;};a.prototype.X2a=function(c){this.NUb=c;};a.prototype.tV=function(c){this.lSb=c;};return a;})();b.EFa=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(941),b);},function(r,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.uv=void 0;r=a(0);c=r.__importStar(a(8));g=a(29);l=a(72);m=r.__importDefault(a(28));d=r.__importDefault(a(37));f=r.__importDefault(a(946));h=a(16);k=d.default.assert;n=d.default.ro;b.uv=p;(function(){var v00;v00=2;for(;v00 !== 5;){switch(v00){case 2:var d8Y="1";d8Y+="SIYbZr";d8Y+="NJC";d8Y+="p9";b.uv=p=function(t,u,w,v,x,y){function z(da,ya,U){var y00;y00=2;for(;y00 !== 1;){switch(y00){case 2:return da.Y?da.Y.Xfa(ya,U):0;break;}}}var x00,Q,P,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,la,S,ha,va;x00=2;for(;x00 !== 26;){switch(x00){case 7:x.Y && x.Y.length || (x.sra=!0);(Q=l.gi.jOa(u.buffer.Y),P=u.buffer.su - Q.$);I=w[0];x00=13;break;case 2:var r8Y="n";r8Y+="um";r8Y+="b";r8Y+="er";var b8Y="n";b8Y+="u";b8Y+="m";b8Y+="b";b8Y+="er";var E8Y="player missing fragm";E8Y+="entI";E8Y+="ndex";var s8Y="Must hav";s8Y+="e a";s8Y+="t le";s8Y+="ast on";s8Y+="e selected stream";k(!c.ea(v),s8Y);k(c.pa(u.Eg),E8Y);k(b8Y === typeof u.buffer.su);k(r8Y === typeof u.bha);(A=new n(),E=x=w[v],D=u.buffer.V,F=u.buffer.ec,C=u.buffer.dc,G=u.buffer.ul,H=u.Eg,J=G - F,I=this.ag.nWa || m.default.xX.zg,M=u.state === h.ga.oc || u.state === h.ga.wh?u.buffer.Tk:0,N=t.p4,K=t.Zx?t.Zx:1E3,R=z(x,H,t.jka),L=z(x,H + R,t.nma));x00=9;break;case 8:return q.call(this,u,t,w,x);break;case 20:x=g.kg(w.slice(v + 1,J),function(da,ya){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return B(da,w[v + ya],E,ha,va,!1,u.playbackRate);break;}}});x00=19;break;case 12:x00=v + 1 < w.length && J > t.Yx && (void 0 === this.V3 || this.Pla && this.Pla > this.V3 || C - this.V3 > t.d4 && J > t.rma)?11:19;break;case 13:x00=B(x,w[Math.max(v - 1,0)],x,R,L,!1,u.playbackRate)?12:17;break;case 9:x00=I === m.default.xX.Deb || !x.Ha?8:7;break;case 16:(la=z(x,H,t.kka),S=z(x,H + la,t.oma));x00=15;break;case 17:x00=x.Y && x.Y.length?16:19;break;case 11:J=t.bra && J >= t.Rsa?w.length:v + 2;(ha=z(x,H,t.lka),va=z(x,H + ha,t.pma));x00=20;break;case 19:A.Bj=x || E;return A;break;case 27:x=I;x00=19;break;case 15:x00=(x=g.kg(w.slice(0,v).reverse(),function(da,ya){var B00;B00=2;for(;B00 !== 1;){switch(B00){case 2:return B(da,w[Math.max(v - ya - 2,0)],E,la,S,!0,u.playbackRate);break;}}})) && x.$f < I.$f || !x?27:19;break;}}function B(da,ya,U,ma,ta,Ja,wa){var I2H=a000;var z00,Sa,$a,kb,bb,Ra,Wa,gb,db,ra,Qa,Pa,ob,Bb,Gb,Lb;z00=2;for(;z00 !== 41;){switch(z00){case 7:return !0;break;case 9:z00=Qa && !t.o7?8:6;break;case 35:Lb || (ya=da);Bb=[];z00=33;break;case 25:z00=!ob || ob < da.bitrate * gb * t.ika || !Gb?24:35;break;case 32:db=ma;z00=31;break;case 6:z00=ra >= da.bitrate * wa * Pa?14:13;break;case 3:z00=!Ja || !Qa?9:13;break;case 17:var Y8Y="Second strea";Y8Y+="m undefin";Y8Y+="ed";var C8Y="First str";C8Y+="eam";C8Y+=" un";C8Y+="defined";k(da,C8Y);k(ya,Y8Y);z00=15;break;case 14:return !0;break;case 13:Ja=!t.Qfa || da === U || da.Nc === U.Nc && y?0:(U=da.bb) && U.ci && U.ci.Aa?U.ci.Aa + t.Nfa * (U.ci.ei?Math.sqrt(U.ci.ei):0):0;U=Q;I2H.a2Y(0);Ja=I2H.w2Y(F,D,Ja);wa=N;I2H.a2Y(1);Qa=I2H.w2Y(D,G);I2H.p2Y(1);Pa=I2H.w2Y(D,C);(Sa=H,$a=Q.length,kb=M,bb=P,Ra=K,Wa=u.bha,gb=u.playbackRate,db=! !u.RWa);z00=17;break;case 24:ya=!1;z00=23;break;case 29:db=ta;z00=28;break;case 33:z00=db?32:42;break;case 43:ya=0 < ma || 0 < ta?f.default(U.concat(Bb),$a + ma + ta,Ja,Qa,wa,kb,Pa,$a,$a + ma,Wa,bb,ob / gb,Ra,t.TT,t.o7):ob > da.vF?{result:!0,DT:0,Cu:!0}:{result:!1,DT:0,Cu:!0};z00=23;break;case 42:(ma=Math.max(0,Math.min(ma,da.Y.length - Sa)),ta=Math.max(0,Math.min(ta,ya.Y.length - Sa - ma)),0 < ma && Bb.push(da.Y.cN.subarray(Sa,Sa + ma)),0 < ta && Bb.push(ya.Y.cN.subarray(Sa + ma,Sa + ma + ta)));z00=43;break;case 2:(ra=da.Ha || 0,Qa=da.Y && da.Y.length,Pa=Ja?t.Nha:Qa?t.G1:t.Rwb);z00=1;break;case 5:return !1;break;case 4:Ja || Qa || (da.sra=!0);z00=3;break;case 44:(Gb=Math.min(db,ya.Y.length - Sa),Bb.push(ya.Y.cN.subarray(Sa,Sa + Gb)),db-=Gb,Sa+=Gb,Sa >= ya.Y.length && (Sa=0));z00=28;break;case 23:ya && ya.result && (A.k7b=ya.DT);O={H1:ya && ya.result,Ha:ra,bitrate:da.bitrate};return ya && ya.result;break;case 1:z00=O && !O.H1 && O.Ha >= ra && O.bitrate <= da.bitrate?5:4;break;case 31:z00=0 < db?30:29;break;case 28:z00=0 < db?44:43;break;case 15:(ob=da.Ha,Bb=Qa - Ja,Gb=da.Y && da.Y.length,Lb=ya.Y && ya.Y.length);k(U.length === $a);t.sma && (Ra=Math.min(Ra,Bb));z00=25;break;case 30:(Gb=Math.min(db,da.Y.length - Sa),Bb.push(da.Y.cN.subarray(Sa,Sa + Gb)),db-=Gb,Sa+=Gb,Sa >= da.Y.length && (Sa=0));z00=31;break;case 8:z00=ra >= Math.max(da.vF * wa,da.bitrate * wa * Pa) && da.Cu?7:13;break;}}}};d8Y;v00=5;break;}}function q(t,u,w){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:t=new n();t.Bj=w[0];return t;break;}}}})();},function(r,b,a){var l,m,d,f,h,k;function c(n,p,q,t){f(!l.ea(t),"Must have at least one selected stream");return new k(t);}function g(n,p,q,t){f(!l.ea(t),"Must have at least one selected stream");return new k(t);}l=a(8);b=a(37);m=b.console;d=b.debug;f=b.assert;h=b.lL;k=b.ro;r.exports={STARTING:function(n,p,q){var u,w,v,x;function t(y,z){var B,A,E,D;B=y.id;A=y.bitrate;E=y.Ha || 0;D=! !E;d && m.log("Checking feasibility of [" + z + "] " + B + " (" + A + " Kbps)");if(!y.Es)return (d && !y.Iu && m.log("  Not available"),d && y.aB && m.log("  Failed"),!1);if(A > n.FT)return (d && m.log("  Above maxInitAudioBitrate (" + n.FT + " Kbps)"),!1);if(!(A * n.G4 / 8 < p.buffer.su))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(D){d && m.log("  Have throughput history = " + D + " : available throughput = " + E + " Kbps");if(A * p.playbackRate < E / w)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.ST;p.dla && (y=Math.max(y,n.RT));if(A <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.ST + " Kbps) " + (p.dla?" and also minHCInitAudioBitrate (" + n.RT + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}u=new k();w=n.E4b || 1;for(v=q.length - 1;0 <= v;--v){x=q[v];if(t(x,v)){u.ce=v;break;}h(x) && (u.ce=v);}return u;},BUFFERING:c,REBUFFERING:c,PLAYING:g,PAUSED:g};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Yr=void 0;c=a(20);g=a(123);l=a(5);b.Yr=function(m,d,f,h,k,n){var p;c.ma && h.trace("AsePlaygraph.createRequestQueue()");p=g.ko.instance.Yr(m,d.H,!0,!1,{lha:f.lha},f);p.qg.on(p,"networkfailing",function(){var q;c.ma && h.trace("requestQueue OnNetworkFailing: ",p);p.F1 && (l.assert(p.bS),null === (q=d.ep) || void 0 === q?void 0:q.Zq(p.bS,void 0,p.Dg,p.Bi));d.nr();});p.qg.on(p,"error",function(){n(p.Dg,p.Bi);});p.on("transportreport",k);p.Wa();return p;};},function(r,b,a){var l,m,d;function c(f,h,k,n,p){var q,t;k=null !== (q=h.He) && void 0 !== q?q:h.track.rm(f,k.X,void 0,p);f=null !== (t=h.ff) && void 0 !== t?t:h.track.wx(f,null === n || void 0 === n?void 0:n.X,h.Zf);return [!h.Nk(),k,f];}function g(f,h){var A,E;for(var k=[],n=0,p=f[n],q=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1],u=h.ff.index,w=h.track.Sl,v=0,x=h.He.$c,y=h.He.Hd.X > p[0],z=y,B=h.He.index;B <= u;++B){A=!1;if(p){E=w.get(B);y && (E.$c.X >= t?(y=!1,++n >= f.length?t=q=p=void 0:(p=f[n],q=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1])):z?z=!1:(k.push(new m.wY(v,x,E.$c)),x=E.$c,A=!0));!y && p && E.Hd.X > q && (y=!0,A=E.$c,(E=h.track.WK.Zh(B).RQa(q)) && 0 !== E.Yk && (A=d.S.lb(E.cd)),k.push(new m.wY(v,x,A)),x=A,A=!0);}A && ++v;}k.push(new m.wY(v,x,h.ff.Hd));return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.iIb=b.pXa=b.TYa=b.RYa=b.zpa=void 0;l=a(0);m=a(425);d=a(9);b.zpa=function(f,h,k){var n,p,q;q=h.Oa(0);h=h.Oa(1);h=null === h || void 0 === h?void 0:h.track.wx(f,null === k || void 0 === k?void 0:k.X,h.Zf);return [null === q || void 0 === q?void 0:q.track.wx(f,null !== (p=null === (n=null === h || void 0 === h?void 0:h.Hd) || void 0 === n?void 0:n.X) && void 0 !== p?p:null === k || void 0 === k?void 0:k.X,q.Zf),h];};b.RYa=function(f,h,k,n,p){var q,t,u,w;q=h.Oa(0);h=h.Oa(1);t=l.__read(h?c(f,h,k,n,p):[!1],3);u=t[0];w=t[1];t=t[2];n=l.__read(q?c(f,q,u && void 0 !== (null === w || void 0 === w?void 0:w.V)?d.S.lb(w.V):k,void 0 !== (null === t || void 0 === t?void 0:t.ta)?d.S.lb(null === t || void 0 === t?void 0:t.ta):n,p):[!1],3);f=n[0];k=n[1];n=n[2];f && (null === q || void 0 === q?void 0:q.dT(k,n));u && (null === h || void 0 === h?void 0:h.dT(w,t));return [f,u];};b.TYa=function(f,h,k){return h.track.rm(f,k.X,void 0,!0).$c;};b.pXa=function(f,h,k){var n;n=h.R;if(!n.js || 0 === n.js.length)return [];f=n.js.map(function(p){return [n.Zb + p[0],n.Zb + p[1]];});return g(f,k.HU);};b.iIb=g;},function(r,b,a){var g,l;function c(m){return "immediate" === m;}Object.defineProperties(b,{__esModule:{value:!0}});b.PDa=b.wY=b.DVa=void 0;g=a(9);l=a(5);b.DVa=c;r=(function(){function m(d,f,h){this.region=d;this.$c=f;this.Hd=h;}m.prototype.toJSON=function(){return {region:this.region,V:this.$c.VF,ta:this.Hd.VF};};return m;})();b.wY=r;r=(function(){function m(d,f,h){var k,n;k=this;this.id=d;this.R=f;this.$Ia=!1;this.LK=function(p){var q,t,u,w;return (null === (q=k.qv) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (u=null === (t=k.R.next) || void 0 === t?void 0:t[p]) || void 0 === u?void 0:u.Pc) && void 0 !== w?w:k.Pc;};this.mQ=new g.S(f.Zb,1E3);this.EP=void 0 !== f.Mc && null !== f.Mc?new g.S(f.Mc,1E3):g.S.Kx;this.Ujb=null !== (n=f.Pc) && void 0 !== n?n:h;this.mVa();l.assert(this.mQ.lessThan(this.EP),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(m.prototype,{aa:{get:function(){return this.R.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{WL:{get:function(){return this.$Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dj:{get:function(){return this.mQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yn:{get:function(){return this.EP;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{duration:{get:function(){return this.EP.Sa(this.mQ);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{V:{get:function(){return this.mQ.X;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ta:{get:function(){return this.EP.X;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{IB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ot:{get:function(){return this.jy.length?!this.R.Cg && 0 === this.UL.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gKb:{get:function(){return this.Pz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jy:{get:function(){var d,f;return Object.keys(null !== (f=null === (d=this.R) || void 0 === d?void 0:d.next) && void 0 !== f?f:{});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{UL:{get:function(){var d;d=this;return this.jy.filter(function(f){return ! !d.Pz[f];});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yra:{get:function(){var d;return null !== (d=this.WJa) && void 0 !== d?d:this.WJa=this.fob();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{s7:{get:function(){var d;return null !== (d=this.XJa) && void 0 !== d?d:this.XJa=this.gob();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Iy:{get:function(){return this.R.weight?this.R.weight / (this.R.weight + this.s7):1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pc:{get:function(){var d;return (null === (d=this.qv) || void 0 === d?0:d.length)?"immediate":this.Ujb;},enumerable:!1,configurable:!0}});m.prototype.normalize=function(d,f,h){this.mQ=d;this.EP=f;this.qv=h;this.$Ia=!0;};m.prototype.YRa=function(){var d;return this.UL.length?null !== (d=this.UL.map(this.LK).reduce(function(f,h){return f === h?h:void 0;})) && void 0 !== d?d:this.Pc:this.Pc;};m.prototype.di=function(d){this.mVa(d);};m.prototype.Wnb=function(d){var f,h;if(this.yra){f=(this.Pz[d] || 0) / this.yra;if(void 0 === this.R.weight || 0 === this.s7)return {Aj:f};h=this.Iy;return 1 !== h && c(this.LK(d)) && this.Pz[d]?{Aj:h * f,gF:this.Pz[d] / this.s7 * (1 - h)}:{Aj:h * f};}return {Aj:(null === (f=this.R.next) || void 0 === f?0:f[d])?1 / this.jy.length:0};};m.prototype.iDb=function(d){return -1 < this.jy.indexOf(d);};m.prototype.mVa=function(d){var f;if(void 0 === this.R.next)this.Pz={};else {f=this.R.next;this.Pz=Object.keys(f).reduce(function(h,k){var n;n=d?d[k] || 0:f[k].weight;void 0 !== n && null !== n && 0 <= n && (h[k]=n);return h;},{});}this.aZb();};m.prototype.fob=function(){var d;d=this;return this.UL.reduce(function(f,h){return f + d.Pz[h];},0);};m.prototype.gob=function(){var d;d=this;return this.UL.filter(function(f){return c(d.LK(f));}).reduce(function(f,h){return f + d.Pz[h];},0);};m.prototype.aZb=function(){this.XJa=this.WJa=void 0;};return m;})();b.PDa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.PX=void 0;c=a(0);r=a(417);g=c.__importDefault(a(28)).default.jb;l=a(398);m=a(16);d=c.__importDefault(a(3));f=a(179);h=a(5);k=a(21);n=a(963);a=(function(p){function q(t,u,w,v,x,y,z,B,A,E,D,F){w=p.call(this,v,B,w,v,v,x,k.S.lb(y),z,D,!1,null === F || void 0 === F?void 0:F.ag) || this;w.Ya=t;w.yh=u;w.Ef=A;w.eg=E;w.Mea=0;w.KA=[];w.nw=!1;w.hn.d6a=!1;w.GP=new n.mza(v,w.eg,B,w.u,w.mediaType,w.yh,w.Ka,w.Ya);w.BGb=d.default.time.ba();w.tGb=void 0;w.xF=B.Qka;w.b0a=d.default.time.ba();u=f.HK(B);t=u.LB;u=u.Q5;w.aOb=0 === w.mediaType?t:u;w.tV(x);return w;}c.__extends(q,p);Object.defineProperties(q.prototype,{eA:{get:function(){return this.Ka.eA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{EJ:{get:function(){return this.Ka.EJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vA:{get:function(){return this.Ka.vA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dy:{get:function(){return this.Ka.Dy;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rh:{get:function(){return this.GP.rh;},set:function(t){this.GP.rh=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tp:{get:function(){return this.GP.Tp;},set:function(t){this.GP.Tp=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{a4:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wEb:{get:function(){return this.mca.X;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{TM:{get:function(){return this.TJa.TM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{PBb:{get:function(){return this.Ya.Xca;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$e:{get:function(){return this.nw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lE:{get:function(){return this.sHa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.rh=!1;this.hn.reset();};q.prototype.Sf=function(){this.reset();p.prototype.Sf.call(this);};q.prototype.wx=function(t,u){return l.wx(this.Rh.mediaType,this.G,t,u,this.Zf,this.Ya.TIb);};q.prototype.rm=function(t,u,w,v){return l.rm(this.Rh.mediaType,this.G,t,u,w,v);};q.prototype.Zk=function(){this.xF=this.G.Qka;};q.prototype.uJ=function(){this.Ka.T7();};q.prototype.tV=function(t){var u,w;u=this.Ya;w=this.mediaType;h.assert(t.mediaType === w);h.assert(t.M === this.wb.M);this.Rh=t;this.wb.M.zsa(w,t.Cd);u.Sgb(this,t.nB);this.Tnb(t.Cd);this.ag.tV(t);this.wb.M.vfa();this.rh=!1;};q.prototype.Sha=function(t){var u;u=this.wb.M.Hg[this.mediaType];if(u && u.stream.te && (t=u.stream.Y.sm(t),-1 !== t))return t;};q.prototype.qG=function(t,u){var w,v,x;if(this.He && this.He.V === t){u=this.He.index;w=t;}else {v=this.wb.M;x=v.Hg[this.mediaType];if(!x || !x.stream.te){this.PF=t;this.aNb=u;return;}w=x.stream.Y;this.He=this.rm(x.stream,t,void 0,u);if(void 0 === this.He){if((u=w.length - 1,w=w.Hi(u),this.ub("setStreamingPts out of range of fragments, pts:",t,"last startPts:",w,"fragment index:",u,"fastplay:",v.Re.og),v.Re.og)){this.PF=t;return;}}else (u=this.He.index,w=this.He.V);}this.Fl=u;this.nQ=w;this.PF=void 0;};q.prototype.BYb=function(t){var u,w;u=this.Rh.ss(t);w="verifying streamId: " + t + " stream's track: " + (u?u.Fa:"unknown") + " currentTrack: " + this.Rh.trackId;return u?!0:(this.yh.Gl(w),this.yh.Gl("unknown streamId: " + t),!1);};q.prototype.Tnb=function(t){this.xDb=t.reduce(function(u,w){return w.Es && w.bitrate > u.bitrate?w:u;},t[0]);};q.prototype.W6=function(t){this.ff=t;};q.prototype.UHb=function(t,u,w,v,x){this.r5a(t,u,v,x);w && ++this.Mea;this.Ya.cj();};q.prototype.my=function(t){t.ta && t.V && (this.xF-=t.ta - t.V);p.prototype.my.call(this,t);};q.prototype.ck=function(t){this.gUa(t);this.ms(t);};q.prototype.uXb=function(t){var u;u=d.default.time.ba();this.xF+=t * (u - this.b0a);this.b0a=u;};q.prototype.lRb=function(){this.xF=this.G.Qka;};q.prototype.DJ=function(t){this.Ka.ffa();this.Zf || this.GP.DJ(t,this.Fb);};q.prototype.gUa=function(t){var u,w,v;w=this.a4;v=this.Ya;this.Ef.VJa() || (this.yh.nib(t.mediaType,t.M.qb,t.stream.track.$D,this.Vr,this.oa),null === (u=this.Zf) || void 0 === u?void 0:u.gEb(t),u=w.P.ie() || 0,v.cb.ow() || (w=w.Oa(g.Bb)) && !w.$e && w.S2 && v.cb.Eja(w),this.DJ(u),this.Ya.fUa(t),this.Ef.cZ(this) && this.Ef.cj());};q.prototype.aoa=function(t){this.Ya.N2(t);};q.prototype.SMa=function(t,u,w,v,x,y){var z,B;z=this.G;B=z.pj;if(w >= z.pj && (z.s6 && (B=w + 1E3),z.t6 && !this.connected))return !1;if(this.Zf)return this.Zf.ex();w=this.rh && 0 === this.Ka.doa && 0 === this.Ka.kr;return !w && v < B?!1:w?y && 0 === v?(this.ub("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.Qob(t,u,x);};q.prototype.USb=function(t){this.nQ=t;};q.prototype.S6=function(t){this.nw=!0;this.sHa=t;};q.prototype.tfa=function(){this.nw=!1;this.sHa=void 0;};q.prototype.Qob=function(t,u,w){if(this.$e || 0 === this.mediaType)return !0;if(void 0 === this.Wx)return !1;u=this.Dgb(u,t);this.track.M.Al.aW(this.track.M.aa,this.track.Cd);this.Py.Joa([this.Wx],!1,u,this.aOb);t=this.Py.ex(u,t,w,this.Wx,this.wb.M.ep);t.complete?this.S6(t.reason):(this.tfa(),this.mB=t.mB,this.progress=t.progress);return this.$e;};q.prototype.Dgb=function(t,u){var w,v,x,y,z;y=d.default.Cn()[this.mediaType];z=this.Ka.C2();t={su:y,V:null !== (w=z.Tc) && void 0 !== w?w:0,ec:t,dc:null !== (v=z.lM || t) && void 0 !== v?v:0,ul:null !== (x=z.mR || t) && void 0 !== x?x:0,Gj:z.Gj,Tk:z.Tk,oRa:z.Y.length,Y:z.Y};"number" !== typeof t.V?(t.V=0,t.dc=0):u === m.jc.Dc && t.ec !== t.V && (t.ec=t.V);return t;};return q;})(r.haa);b.PX=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.P8=void 0;c=a(0);r=a(17);g=a(20);l=c.__importDefault(a(3));m=a(9);d=a(965);f=a(177);h=a(966);k=a(21);n=a(969);a=(function(p){function q(){var t;t=null !== p && p.apply(this,arguments) || this;t.GJa=0;t.ada=0;t.xP=0;t.Iba=0;return t;}c.__extends(q,p);q.prototype.Ipa=function(t){var u,w;p.prototype.Ipa.call(this,t);this.GJa++;this.ada++;this.$Ja=l.default.time.ba();this.DI || (this.DI={Fb:t.Fb,Sb:t.Sb,index:t.index},this.tZ || (this.tZ=this.DI));u=this.HZ;w=!1;u && 100 > Math.abs(u.Fb - t.Sb) && (this.xP+=t.Fb - u.Fb,this.Iba++,w=!0);w || (this.xP=t.rx,this.Iba=1);this.HZ=t;};q.prototype.stop=function(){p.prototype.stop.call(this);this.xP=this.ada=0;this.DI=void 0;};q.prototype.FSa=function(){var t,u,w,v;t=this.Uz;u=t.M0;if(u){v=u.Oa(this.Rf);v && v.Ka && (w=v.Ka.sja());return {RM:w,currentBranch:{sId:u.R && u.R.id,cancelled:u.Qo},currentReceivedCount:t && t.ctb,totalReceivedCount:this.GJa,currentState:t && t.ftb || "Uninitialized",lastRequestPushed:this.HZ && ({contentEndPts:this.HZ.Fb,fragmentIndex:this.HZ.index}),tslp:this.$Ja && l.default.time.ba() - this.$Ja,cpts:this.xP,crq:this.Iba,rslp:this.ada,firstRequestSSPushed:this.DI && ({contentStartPts:this.DI.Sb,fragmentIndex:this.DI.index}),firstRequestPushed:this.tZ && ({contentStartPts:this.tZ.Sb,fragmentIndex:this.tZ.index})};}};return q;})((function(p){function q(t,u,w,v,x,y,z,B,A){var E;E=p.call(this) || this;E.dg=t;E.Rf=u;E.G=v;E.u=x;E.Oz=new m.Zp(!1);E.Nz=new m.Zp(k.S.lb(-Infinity));E.u=m.Hs(l.default,E.u,"AsePlayerBuffer:");E.Uz=new d.tua(E.u,w,u);E.resume();y && z && B && (E.Moa=new h.eEa(u,x,y,E.dg,y.events,z,B,A),t=new n.kxa(null === y || void 0 === y?void 0:y.Rs,k.S.lb(E.G.UT),x),E.Uz.clb(t));E.dg.on("requestAppended",function(D){E.Oz.set(!0);D.request.fh && E.Nz.set(D.request.fh);E.emit("requestAppended");});return E;}c.__extends(q,p);Object.defineProperties(q.prototype,{gy:{get:function(){return this.Oz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pT:{get:function(){return this.Nz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{TEb:{get:function(){return this.Uz.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ry:{get:function(){return this.dg.Ry;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});q.prototype.FSa=function(){};q.prototype.resume=function(){g.ma && this.u.trace("resume");this.ira();};q.prototype.xVa=function(t){return this.dg.Zia() > t;};Object.defineProperties(q.prototype,{rmb:{get:function(){return this.kI;},enumerable:!1,configurable:!0}});q.prototype.reset=function(t){var u;void 0 === t && (t=!1);g.ma && this.u.trace("reset");this.stop();this.dg.reset(t);this.Oz.set(!1);this.Nz.set(k.S.lb(-Infinity));t || (this.kI=void 0);t || (null === (u=this.Moa) || void 0 === u?void 0:u.reset());};q.prototype.Xk=function(t){void 0 === t && (t=!1);this.reset(t);this.ira(!0);};q.prototype.stop=function(){this.Uz.R3a();};q.prototype.close=function(){var t;null === (t=this.Moa) || void 0 === t?void 0:t.close();};q.prototype.Gb=function(){this.stop();this.close();};q.prototype.jU=function(){this.G.R1 && this.dg.dRa();this.dg.fs();};q.prototype.Fxb=function(t){this.dg.WYa(t,!0);};q.prototype.Yg=function(t){var u;return !(null === (u=this.Moa) || void 0 === u || !u.Yg(t));};q.prototype.ira=function(t){if(!this.Uz.$j || t)(this.Uz.vRb(),f.AsyncIterator.YFb(this.Uz,this.O3.bind(this)));};q.prototype.O3=function(t){t.done || this.Ipa(t.value);};q.prototype.Ipa=function(t){this.dg.endOfStream?g.ma && this.u.error("Buffer manager has declared EOS, ignoring request",t.toString()):(this.kI?(this.kI.wGb=t.Fb,this.kI.xGb=t.me,this.kI.qWa=t.fh):this.kI={a6b:t.Sb,b6b:t.Tc,wGb:t.Fb,xGb:t.me,qWa:t.fh},this.dg.qmb(t));};return q;})(r.EventEmitter));b.P8=a;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xaa=void 0;c=a(0);g=a(17);l=a(9);m=a(20);d=a(64);f=l.S.lb(1E3);r=(function(){function h(k,n,p,q,t,u,w,v){var x,y,z;x=this;this.mediaType=k;this.console=n;this.Ca=p;this.events=t;this.Mg=w;this.yWb=v;this.Qn=[];this.goa=f.add(l.S.lb(null !== (z=null === (y=u.xV) || void 0 === y?void 0:y.X) && void 0 !== z?z:0));this.listeners=new g.sh();this.listeners.on(p.P,"skipped",function(){return x.mU();});this.listeners.on(q,"requestAppended",function(B){return x.gy(B.request);});this.lQ=!0;this.QR=w.AE(function(){return x.tvb();},"Presentation Emit");this.a6=w.AE(function(){return x.bPb();},"Presentation Prune");}h.prototype.mU=function(){this.trace("skipped, scheduler clock " + this.Mg.sa.currentTime.Bd());this.lQ=!0;this.QR.Xk();};h.prototype.tvb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:(this.WF=this.fKb(this.lQ),k=this.GYa(),p.label=1);case 1:if(!k)return [3,3];n=this.lQ?this.Ca.Kd:null === k || void 0 === k?void 0:k.timestamp;this.trace("queuing task for " + k.PG + (" at player time " + k.timestamp.Bd()) + (" scheduler clock is " + this.Mg.sa.currentTime.Bd()));return [4,d.vk.FN(k.timestamp)];case 2:return (p.wg(),this.trace("executing task for " + k.PG + (" at player time " + k.timestamp.Bd()) + (" scheduler clock is " + this.Mg.sa.currentTime.Bd())),this.lQ=!1,this.LPa(k,n),this.WF++,k=this.GYa(),n=null === k || void 0 === k?void 0:k.timestamp,[3,1]);case 3:return [2];}});};h.prototype.GYa=function(){if(void 0 !== this.WF)return this.Qn[this.WF];};h.prototype.fKb=function(k){var n;void 0 === k && (k=!1);for(var p=k?0:null !== (n=this.WF) && void 0 !== n?n:0;p < this.Qn.length;p++){if(this.Qn[p].timestamp.Fn(this.Ca.Kd))return k && 0 < p?p - 1:p;}return Math.max(this.Qn.length - 1,0);};h.prototype.bPb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:if(!(1 < this.Qn.length))return [3,2];k=c.__read(this.Qn,2);n=k[1];this.trace("queuing pruning task for " + n.PG + (" at player time " + this.goa.add(n.timestamp).Bd()) + (" scheduler clock is " + this.Mg.sa.currentTime.Bd()));return [4,d.vk.FN(this.goa.add(n.timestamp))];case 1:return (p.wg(),this.trace("executing pruning task for " + n.PG + (" at player time " + this.goa.add(n.timestamp).Bd()) + (" scheduler clock is " + this.Mg.sa.currentTime.Bd())),this.Qn.shift(),this.WF && this.WF--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.Qn=[];m.ma && this.trace("reset");this.lQ=!0;this.T3=void 0;this.WF=0;this.a6.Xk();this.QR.Xk();};h.prototype.close=function(){this.QR.Gb();this.a6.Gb();this.listeners.clear();};h.prototype.Yg=function(k){var n;m.ma && this.trace("canSkip() " + k);if(0 === this.Qn.length)return (m.ma && this.trace("canSkip false, no media sequence"),!1);n=this.Qn[0];return n.timestamp.greaterThan(k)?(m.ma && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.T3 || this.T3.lessThan(k)?(m.ma && this.trace("canSkip false, later than last appended at " + this.T3),!1):!0;};h.prototype.trace=function(k){m.ma && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.yWb + ": " + k);};h.prototype.BKa=function(k,n,p){p && (this.T3=p);p=this.Qn.length?this.Qn[this.Qn.length - 1]:void 0;return void 0 === p || p.PG !== k?(this.Qn.push({PG:k,timestamp:n}),this.QR.state === d.gl.complete && this.QR.Xk(),this.a6.state === d.gl.complete && this.a6.Xk(),!0):!1;};return h;})();b.xaa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.c9=void 0;r=a(0);c=r.__importStar(a(8));g=r.__importDefault(a(85));l=r.__importDefault(a(3));m=a(970);d=a(16);f=a(252);h=a(9);k=a(5);n=a(21);p=a(384);q=a(415);a=(function(){function t(u,w,v,x,y,z,B,A,E,D){this.Ya=u;this.yh=w;this.u=v;this.bJ=x;this.G=B;this.nZ=A;this.oJa=E;this.nS=D;this.ub=this.u.warn.bind(this.u);this.Ck=this.u.trace.bind(this.u);this.Qf=this.u.log.bind(this.u);this.xh=[];this.Bg={};y.Ro?(k.assert(!y.Im),this.vba=!0,this.Fib(y,y.Ro,z)):(this.$m=this.pw(y.Im || "",y,0,void 0,void 0,{},!0),this.$m.WL=!0,this.$m.ta=Infinity,this.n_=[this.$m]);this.Vc=this.eZ(this.$m,void 0,z);this.Vc.active=!0;u=h.Hs(l.default,this.u,"BranchQueue::");this.Wi=new f.HW(u);this.Wi.enqueue(this.Vc);this.Tca=this.PP=void 0;}t.uia=function(u){return "m" + u;};Object.defineProperties(t.prototype,{Ox:{get:function(){return ! !this.vba;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{kj:{get:function(){return this.Vc.Qo;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{je:{get:function(){return this.$m;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ng:{get:function(){return this.Vc.R.id;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dtb:{get:function(){return this.Vc.M.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{uc:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ib:{get:function(){return this.xh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fe:{get:function(){return this.Vc.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{eg:{get:function(){return this.Ya.eg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fi:{get:function(){return this.PP?this.PP:this.Ib[0];},enumerable:!1,configurable:!0}});t.prototype.Gb=function(){this.xh.forEach(function(u){u.Sf();});this.xh=[];this.Wi.clear();};t.prototype.cf=function(u){return this.Bg[u];};t.prototype.yTa=function(){return this.Wi.getIterator();};t.prototype.xTa=function(u,w){var v;v=this.Bg[u];if(v)return (u=v.Kk[w]) && u.weight;this.ub("getSegmentWeight, unknown segment:",u);};t.prototype.KBb=function(u){var w;w=this.Bg[u];if(w)return w.V;this.ub("getSegmentStartPts, unknown segment:",u);};t.prototype.JBb=function(u){var w;w=this.Bg[u];if(!w)this.ub("getSegmentDuration, unknown segment:",u);else if(c.pa(w.ta) && isFinite(w.ta) && c.pa(w.V) && isFinite(w.V))return w.ta - w.V;};t.prototype.vpa=function(u){var w;w=-1;this.xh.some(function(v,x){return v === u?(w=x,!0):!1;});-1 !== w?this.xh.splice(w,1):this.ub("Unable to find branch:",u,"in branches array");};t.prototype.pE=function(u,w){var v;v=0;this.Cgb(u).forEach(function(x){(x=x.xd(w)) && (v+=x.vA);});return v;};t.prototype.ru=function(u,w,v){var x;if(!u.Nb(w))return 0;x=u.Oa(w);for(x=v?x.dc:x.Vr;void 0 === x;){if(!u.Jf)return 0;u=u.Jf;x=u.Oa(w);x=v?x.dc:x.Vr;}u=this.oJa.ie();return Math.max(x - u,0);};t.prototype.Rha=function(u){return this.xh.filter(function(w){if(w.M.qb === u)return !0;});};t.prototype.lxb=function(u,w){return this.WHa(u,!1,w);};t.prototype.kxb=function(u,w){return this.WHa(u,!0,w);};t.prototype.LQb=function(u,w,v){c.Me(this.xh,function(x){x.M === u && x.b3a(w,v);});c.Me(this.Bg,function(x){x.M === u && (x.M=w);});};t.prototype.I1a=function(){var u;u=this;c.Me(this.xh,function(w){var v;v=u.Ya.Fg(w.M.qb);w.YG(n.S.lb(v.Pu));});};t.prototype.Om=function(u){var w;w=this;c.Me(this.xh,function(v){v.Oa(1).track.Cd.forEach(function(x){var y;y=p.eea(x.mg,x.bitrate,u,w.u);g.default(y,x);});});};t.prototype.ls=function(u,w,v,x){var y;for(;w;){y=w.ls(u,v);if(y)return y;if(x)break;w=w.Jf;}};t.prototype.zOa=function(u){var w,v;w=this;void 0 === u && (u=!1);v=this.xh;u && (v=v.filter(function(x){return x !== w.Vc;}));v.forEach(function(x){x.active=!1;w.Wi.remove(x);});u || this.Wi.clear();return v;};t.prototype.aPb=function(){var u;for(;0 < this.xh.length;){u=this.xh[0];u.Oa(0);u.Oa(1);if(!u.active)break;if(u === this.Vc)break;if(!u.jDb())break;u.Sf();this.xh.shift();}};t.prototype.KU=function(u,w,v,x,y){if(v > x){for(v-=x;u;){u.KU(w,v,y);u=u.Jf;}return v;}};t.prototype.dXa=function(u,w){for(var v={mR:null,lM:null,Tc:null,Tk:0,Gj:0,Y:[]};u;){u.C2(v,w);u=u.Jf;}return v;};t.prototype.spb=function(u){var w,v,x;w=this.Vc;if(w.SWa)v=w.SWa;else {x=this.Vc.fe;v=this.eZ(w.R,w);d.xe.forEach(function(y){var z;z=v.xd(y);z && (z.qG(0),y=w.xd(y),z.W6(y.ff));});v.YG(n.S.lb(x + u));w.SWa=v;}this.gI(v,w);};t.prototype.blb=function(u,w,v){var x,y;k.assert(!u.Ox());if(!this.vba){this.vba=!0;this.PP=this.Fi;x=this.$m.id || t.uia(0);this.$m.id=x;this.Bg[x]=this.$m;this.$m.ta=this.Ya.nAb().HSa();this.$m.IB=!0;}y=void 0 !== u.Im?u.Im:t.uia(u.qb);u=this.pw(y,u,w,v,void 0,{},!0);u.IB=!0;this.n_.forEach(function(z){z.Kk={};z.Kk[y]={weight:100};z.ER=y;z.ot=!1;});this.n_=[u];};t.prototype.So=function(u,w){var v,x,y,z;v=this.Fi;x=v.aC(w,this.Ya.P);y=v.R;z=v.children[u];if(w){if(!y.Kk[u])return (this.Vc.ub("chooseNextSegment, invalid destination:",u,"for current segment:",y.id),!1);if(v.Vj)return v.Vj === u;v.Vj=u;z && v.U1 && this.gI(z,v);return !0;}if(void 0 !== v.Vj)return !1;if(!z)return (x.BYa=!0,!1);x.BYa=!z.ifa();this.Ya.bda(void 0,q.$O.VL);v.U1=void 0;v.Vj=u;this.gI(z,v);v.sha();this.Ya.iQ();return !0;};t.prototype.ADb=function(u,w){var v,x,y,z;v=this;z=u.R;w && !u.Vj && (u.Vj=z.ER,u.aC(!0,this.Ya.P,!0));u.children=Object.create(null);c.Me(z.Kk,function(B,A){u.Vj && A !== u.Vj || (x=v.Bg[A],y=v.Tfb(x,u),u.children[A]=y);});u.Vj && (w=u.children[u.Vj]) && this.gI(w,u);u.U1=!0;};t.prototype.uWb=function(){var u;u=0;c.Me(this.xh,function(w){d.xe.forEach(function(v){w.Nb(v) && (v=w.xd(v),u+=v.Ka.pn);});});return u;};t.prototype.yVb=function(u,w){var v,x,y;v=this;x=this.zgb(u,w);if(x){if(x !== this.Vc.R){this.zOa();y=this.eZ(x,this.Vc,u);y.Jf=void 0;y.Lqa(void 0,void 0,!0);this.Web(this.Vc);this.gI(y,this.Vc);}else (this.zOa(!0).forEach(function(z){z.Sf();v.vpa(z);v.Wi.remove(z);}),this.Vc.tsa(u,this.G.y7));x === this.Fi.R && (this.Fi.Av.shift(),y && (y.Av=this.Fi.Av,y.Vj=this.Fi.Vj));this.yh.LZ(x,this.Vc.fe);this.Vc.U1=void 0;}else this.ub("findSegment no segment for manifestIndex:",w);};t.prototype.bXa=function(u,w){var v;v=u.R;w || (w=v.ER);u.Vj || (u.Vj=w,u.aC(!0,this.Ya.P,!0));(w=u.children[u.Vj]) && this.gI(w,u);};t.prototype.J2a=function(u,w){if(this.Vc !== u){if(w)for(w=this.Vc;w && w !== u;){w.active=!1;this.Wi.remove(w);w=w.Jf;}this.Vc=u;}};t.prototype.mr=function(u,w){var v,x,y,z,B;v=this;if(this.Ox){x=this.G;y=this.Fi;z=y.R;B=h.eSb(z.id);!y.Vj && !z.ot && y.Fb - w <= x.Sq && (this.ub(B + "updatePts making fork decision at playerPts:",u,"contentPts:",w),this.bXa(y));}d.xe.forEach(function(A){v.Vc.Nb(A) && v.eg[A].mr();});};t.prototype.DKb=function(u,w){var v,x;if(this.Ox){v=this.PP;if(!(this.G.UDb && u && this.Tca && u.V === this.Tca || (u=u.Ka.wb,v && u.R.id === v.R.id))){x=null === v || void 0 === v?void 0:v.xd(1);x=null === x || void 0 === x?void 0:x.ff;this.Tca=null === x || void 0 === x?void 0:x.V;this.PP=u;this.sfb(v);v=v && v.Ipb(u);this.yh.jib(u.R,w,v);}}};t.prototype.a5=function(u,w,v){w.WL || (w.V=this.aTa(u,w.V,!0),v || (w.ta=this.aTa(u,w.ta,!1)),w.WL=!0,!1);};t.prototype.lC=function(u,w){var v;v=this.Bg[u];v?c.Me(v.Kk,function(x,y){x.weight=w[y] || 0;}):this.ub("updateChoiceMapEntry, unknown segment:",u);};t.prototype.aTa=function(u,w,v){u=v?u.MQa(w):u.cS(w);if(!u.length)return w;w=u[1];return v?w.V:w.ta;};t.prototype.BIa=function(u,w,v){var x;x=w?v.Fb:v.me;return (w?v.J6:v.yoa) <= u && u < x;};t.prototype.WHa=function(u,w,v){var B;for(var x=this.Ya,y=this.Vc;y;){if((!c.pa(v) || x.Yka(v,y.M.qb)) && this.BIa(u,w,y))return y;y=y.Jf;}if(w){y=Object.keys(this.Vc.children);for(var z=0;z < y.length;z++){B=this.Vc.children[y[z]];if((!c.pa(v) || x.Yka(v,B.M.qb)) && this.BIa(u,w,B))return B;}}};t.prototype.Tfb=function(u,w){var v,x;v=this.eZ(u,w);x=v.Lqa(w,void 0,this.G.lpa);d.xe.forEach(function(y){var z,B,A;if(v.Nb(y)){z=v.xd(y);B=w.xd(y);A=x[y];1 === y && v.YG(n.S.lb(B.dc + w.fe - A));z.qG(A);}});this.yh.LZ(u,v.fe);return v;};t.prototype.Web=function(u){for(var w=[u.R.id];u.Jf;){u=u.Jf;w.unshift(u.R.id);}this.mba(u);};t.prototype.mba=function(u){var w,v;w=this;v=u.R;c.Me(u.children,function(x){x && w.mba(x);});this.Wi.remove(u);u.Sf();this.vpa(u);this.yh.gib(v);};t.prototype.gI=function(u,w){var v,x,y,z;v=this;x=w.R;w.M !== u.M && this.Ya.NIa(u.M.qb);u.active=!0;this.Wi.enqueue(u);u.uJ();y=l.default.time.ba();z={};c.Me(w.children,function(B){var A,E;if(B){if(B.Nd){A=B.xd(0);E=B.xd(1);B.Nd.xJ=[A?A.Uo.X:0,E?E.Uo.X:0];B.Nd.$ub=y - B.Nd.l3;B.Nd.l3=void 0;z[B.R.id]=B.Nd;}B.R.id !== u.R.id && v.mba(B);}});w.children=Object.create(null);w.children[u.R.id]=u;w.rI=void 0;this.J2a(u);this.yh.hib(u.R,z);1 < Object.keys(x.Kk).length && u.ifa();};t.prototype.sfb=function(u){var w,v;if(u){w=l.default.time.ba();v=u.Av[0];v && void 0 === v.$0?v.$0=w - v.Cp:v || (this.ub("missing metrics for branch:",u.R.id),v={h7:u.R.id,Aj:!0,$0:0,Nd:{}},u.Av.unshift(v));void 0 === v.startTime && (v.startTime=w);}};t.prototype.zgb=function(u,w){var x,y,z,B;k.assert(0 <= u);for(var v in this.Bg){x=this.Bg[v];if(this.Ya.Yka(x.M.qb,w)){if(x.V <= u && (Infinity === x.ta || void 0 === x.ta || u < x.ta))return x;y=Math.min(Math.abs(u - x.V),Math.abs(u - x.ta));if(c.ea(z) || y < z)(z=y,B=x);}}return B;};t.prototype.pw=function(u,w,v,x,y,z,B,A,E){w=new m.$Ea(u,w,v,x,y,z,B,A,void 0,E);return this.Bg[u]=w;};t.prototype.Fib=function(u,w,v){var x,y,z;x=this;this.$m=void 0;this.n_=[];y=null;z=null;c.Me(w.segments,function(B,A){var E,D,F,C,G;E=B.startTimeMs;D=B.endTimeMs;F={};c.Me(B.next,function(H,J){F[J]={weight:H.weight || 0,EWb:H.transitionHint || B.transitionHint,N5b:"number" === typeof H.earliestSkipRequestOffset?H.earliestSkipRequestOffset:B.earliestSkipRequestOffset};});C=B.defaultNext;c.ea(C) && (C=Object.keys(F)[0]);G=c.ea(C);C=x.pw(A,u,E,D,C,F,G,B.exitZones,B.transitionHint);E <= v && (v < D || c.ea(D))?x.$m=C:E > v && (!y || E < z) && (y=A,z=E);G && x.n_.push(C);});this.$m || (this.$m=y?this.Bg[y]:this.Bg[w.initialSegment]);};t.prototype.eZ=function(u,w,v){var x,y,z,B;x=u.M;y=this.Ya.Fg(x.qb);z=y.Pu;B=[];[0,1].forEach(function(A){x.Nb(A) && B.push(y.jp(A));});u=new q.lza(this.Ya,this.G,this.yh,this.u,this,this.nZ,this.oJa,this.bJ,u,B,z,w,v?n.S.lb(v):void 0,this.nS,this.Ya.eg,this.Ya.eu);this.Xeb(u);this.xh.push(u);return u;};t.prototype.Xeb=function(u){var v;function w(x){v.Ya.emit(x.type,x);}v=this;u.addListener("locationSelected",w);u.addListener("logdata",w);u.addListener("serverSwitch",w);u.addListener("streamSelected",w);u.addListener("lastSegmentPts",w);u.addListener("managerdebugevent",w);u.addListener("requestCreated",function(x){x=x.request;v.Ya.fda(x.mediaType,x.V);});};t.prototype.Cgb=function(u){for(var w=[u];u.Jf;){u=u.Jf;w.push(u);}return w;};return t;})();b.c9=a;},function(r,b,a){var m,d,f;function c(h,k,n){this.HB=k;this.Gk=n;this.My=this.aT=this.y5=this.l_a=this.k_a=this.YL=this.Cd=this.HNb=this.Gk=this.Pl=this.dc=this.V=this.nC=this.Np=this.Y=this.oVa=this.RQ=void 0;}function g(h,k,n){this.ta=k;this.NVa=n;this.mLa=this.G6a=this.hu=this.Np=this.uF=this.wu=void 0;}function l(h,k,n,p,q,t,u){var w;w=new c(n,k,h.Gk);h.forEach(function(v){var x,y;x=v.buffer;y=x.Y;v.mediaType === m.jb.Pb?w.RQ=y.length?y[0].bitrate:void 0:v.mediaType === m.jb.Bb && (w.oVa=y.length?y[0].bitrate:void 0,w.Y=y,w.Np=x.ul - x.ec,w.nC=x.Gj,w.V=x.ec,w.dc=x.dc,w.Pl=v.Eg,w.Gk=v.Gk,w.HNb=k - v.Gk,w.Cd=v.Cd,w.YL=y.filter(function(z){return w.V <= z.jv;}).length);});this.Ii=w;this.hs=void 0;this.EOa=p;this.rv=q;this.lMa=t;this.ipa=this.i6=this.zZa=this.Ty=this.pJ=this.IQa=this.Dv=this.Cd=this.hs=void 0;this.zlb=u;this.Coa={};}m=a(28).default;d=a(37).assert;f=a(16).ga;c.prototype.constructor=c;g.prototype.constructor=g;l.prototype.constructor=l;l.prototype.nK=function(h,k){var n,p,q,t,u,w,v,x,y,z,B,A,E,G,H,J,I,M,N;n=this.Ii;p=[];q=h[m.jb.Bb];t=h[m.jb.Pb];if(void 0 === q || void 0 === t)return !1;u=q.buffer;w=t.buffer;v=n.Cd.filter(function(K){return K.u2();});if(void 0 === u || void 0 === w || void 0 === v || 0 === v.length)return !1;x=new g(k?f[k]:"maxbitratechanged",q.ec,k === f.Xe);y=0;z=0;B=0;A=0;E=n.V;h=h[m.jb.Bb].ec;for(var D=n.Y,F=n.YL,C=0;C < F;C++){G=D[C];H=G.offset;J=G.offset + G.$ - 1;I=G.rx;M=G.zy;N=M + I;G && M <= h && N > E && (I=G.rx,M=Math.min(I,Math.min(h,N) - Math.max(M,E) + 1),A+=M,y+=M / I * (J - H + 1),z+=G.bitrate * M,B+=G.mb * M);}n.k_a=y;n.l_a=A;n.y5=0 < A?z / A:0;n.XMb=0 < A?B / A:0;n.aT || (n.aT=0,v.some(function(K,O){if(K.bitrate === n.oVa)return (n.aT=O,!0);}));v.forEach(function(K){var O,L;K=K.u2();O=[];n.My || (n.My=K.sm(n.V,void 0,!0));x.wu || (x.wu=K.sm(x.ta,void 0,!0),x.uF=K.length - 1);n.Pl !== n.My + n.YL && (n.Pl=n.My + n.YL);F=Math.min(x.uF,x.wu + 1);for(var R=n.My;R <= F;R++){L=K.get(R);O[R]=L;}p.push(O);});k === f.Xe && (x.Np=u.ul - u.ec,x.hu=w.ul - w.ec,x.G6a=q.L0a,x.mLa=t.L0a);this.hs=x;this.Cd=v;this.Dv=p;return this.IQa=!0;};l.prototype.Cx=function(){var h,k,n,p,q,t,u,w,v,B,A,E,D,F;if(this.$h)return this.$h;h=this.Ty;k=this.Ii;n=this.hs;p=this.Cd;q=this.zZa;t=this.zlb;d(void 0 !== h,"throughput object must be defined before retrieving the logdata from PlaySegment");if(h.trace && 0 === h.trace.length || void 0 === h.timestamp){if(n.NVa)(u=!1,w=!0);else n.wu - k.My + 1 <= k.YL?w=u=!0:(u=!0,w=!1);v=!0;}if(q)for(var x=q.u3,y=q.jK,z=0;z < t.length;z++){B=t[z];(h=q[B]) && h.xna && (w=!0);}n={bst:k.Gk,pst:k.HB,s:k.My,e:n.wu,prebuf:k.YL,brsi:k.Pl,pbdlbytes:k.k_a,pbdur:k.l_a,pbtwbr:k.y5,pbvmaf:k.XMb};this.rv && (n.fragmentsPrebuffered=k.Y);v && (n.nt=v);w && (n.nd=w);x && (n.invalid=x);y && (n.exception=y);this.ipa && (n.rr=this.ipa);this.i6 && (n.ra=this.i6);if(!w && !x && !y && (this.EOa || this.rv)){n.bitrate=p.map(function(G){return G.bitrate;});h=this.Ty;B=h.trace;A=[];D=0;B.forEach(function(G){G=Number(G).toFixed(0);A.push(G - D);D=G;});n.tput={ts:h.timestamp,trace:A,bkms:h.Xw};}if(w || v || x || y)n.feasible=u;else for((n.sols={},n.elapsed=q.nvb,z=0);z < t.length;z++){B=t[z];h=q[B];w={};if(h && h.Hp){w.algelapsed=h.ylb;w.maxHeapTotal=h.cy;w.f=h && h.gB || !1;w.dltwbr=h.gPa;w.dlvmaf=h.jPa;w.dlvdur=h.iPa;w.dlvbytes=h.hPa;w.dlabytes=h.fPa;if(this.EOa || this.rv){E=h.Hp.filter(function(G){return G;}).map(function(G){return G.ce;});D=0;F=[];E.forEach(function(G){F.push(G - D);D=G;});w.strmsel=F;}if(this.rv){v=[];u=this.Ii.Pl;for(var C in E){x=E[C];y=this.Dv[x][u];y.$f=x;v.push(y);u++;}w.fragsel=v;w.streamList=this.Cd;w.pause_dlnd_sec=h.Hp.filter(function(G){return G;}).map(function(G){return G.hoa;});w.buffer_sec=h.Hp.filter(function(G){return G;}).map(function(G){return G.Lea;});w.buffer_kb=h.Hp.filter(function(G){return G;}).map(function(G){return G.Kea;});w.buffer_frags=h.Hp.filter(function(G){return G;}).map(function(G){return G.pMa;});w.elapsed_secs=h.Hp.filter(function(G){return G;}).map(function(G){return G.HPa;});w.throughput=h.Hp.filter(function(G){return G;}).map(function(G){return G.Ha;});}}n.sols[B]=w;}return this.$h=n;};l.prototype.uxb=function(h){var p;if(void 0 !== this.Coa[h])return this.Coa[h];for(var k=this.Dv[this.Ii.aT],n=0;n < k.length;n++){p=k[n];if(p && p.V <= h && p.V + p.duration > h)return this.Coa[h]=p;}throw Error("findPlayingFragment: missing");};r.exports=l;},function(r,b,a){var l;function c(m,d,f){this.$=m;this.Nl=d;this.quality=f;}function g(m,d){this.yma=d;void 0 === d && (this.yma=!0);this.Rj=m;this.kfb();}l=a(5).assert;c.prototype.constructor=c;c.prototype.Fx=function(){return 8 * this.$ / 1E3 / this.Nl;};g.prototype.constructor=g;g.prototype.Wo=function(m,d,f,h,k){void 0 === d && (d=0);void 0 === f && (f=m.NK());void 0 === h && (h=0);void 0 === k && (k=m.Rj.length);for(var n=[],p,q=h;q < k;q++){h=[];for(var t=d;t < f;t++){p=m.Rj[q][t];h.push(p);}n.push(h);}return new g(n,m.yma);};g.prototype.kfb=function(){var m,d;m=this.Rj[0].length;for(d in this.Rj.slice(1)){l(this.Rj[d].length === m,"expect this.chunkss[chunksIndex].length === n but got " + this.Rj[d].length + " and " + m);}this.yma && this.lfb();this.mfb();};g.prototype.NK=function(){return this.Rj[0].length;};g.prototype.lfb=function(){for(var m=0;m < this.Rj.length - 1;m++){for(var d=0;d < this.NK();d++){l(this.Rj[m][d].$ <= this.Rj[m + 1][d].$,"Chunk size for epoch " + d + " is not monotonic");}}};g.prototype.mfb=function(){for(var m=0;m < this.Rj.length - 1;m++){for(var d=0;d < this.NK();d++){l(1E-8 > Math.abs(this.Rj[m][d].Nl - this.Rj[m + 1][d].Nl),"Chunk duration for epoch " + d + " is not consistent");}}};g.prototype.ACb=function(){var m;m=[];this.Rj[0].forEach(function(d){m.push(d.Nl);});return m;};r.exports={$8a:c,a9a:g};},function(r,b,a){var m;function c(){}function g(d,f,h){void 0 === h && (h=!1);m(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < l(d),"bitrate zero, won't be able to send anything.");this.mA=d;this.APa=f;this.repeat=h;this.vl=this.vn=0;}function l(d){return d.reduce(function(f,h){return f + h;},0);}m=a(5).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.Wo=function(){var d;d=new g(this.mA,this.APa,this.repeat);d.vn=this.vn;d.vl=this.vl;return d;};g.prototype.Qja=function(){return this.mA[this.vn % this.mA.length];};g.prototype.WA=function(){return this.APa[this.vn % this.mA.length];};g.prototype.Vub=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.vn && this.vn < this.mA.length))throw new c();m(this.vl < this.WA(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.WA() - this.vl;f=d < f?d:f;d-=f;this.vl+=f;if(this.vl < this.WA())break;this.vl-=this.WA();this.vn+=1;if(!this.repeat && this.vn >= this.mA.length){if(0 < d)throw new c();break;}}};g.prototype.i_a=function(d){this.Vub(d);};g.prototype.Wub=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.vn && this.vn < this.mA.length))throw new c();m(this.vl < this.WA(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,h=0;;){f=this.WA() - this.vl;f=d < f * this.Qja()?d / this.Qja():f;d-=this.Qja() * f;h+=f;this.vl+=f;if(this.vl < this.WA())return h;this.vl-=this.WA();this.vn+=1;if(!this.repeat && this.vn >= this.mA.length){if(0 < d)throw new c();return h;}}};r.exports={web:g,xeb:c};},function(r){var h,k,n,p,q,t;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(u){if(h === setTimeout)return setTimeout(u,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(u,0));try{return h(u,0);}catch(w){try{return h.call(null,u,0);}catch(v){return h.call(this,u,0);}}}function g(u){if(k === clearTimeout)return clearTimeout(u);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(u));try{return k(u);}catch(w){try{return k.call(null,u);}catch(v){return k.call(this,u);}}}function l(){p && q && (p=!1,q.length?n=q.concat(n):t=-1,n.length && m());}function m(){var u;if(!p){u=c(l);p=!0;for(var w=n.length;w;){q=n;for(n=[];++t < w;){q && q[t].SB();}t=-1;w=n.length;}q=null;p=!1;g(u);}}function d(u,w){this.myb=u;this.Lo=w;}function f(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;t=-1;r.e8b=function(u){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var v=1;v < arguments.length;v++){w[v - 1]=arguments[v];}n.push(new d(u,w));1 !== n.length || p || c(m);};d.prototype.SB=function(){this.myb.apply(null,this.Lo);};r.title="browser";r.P4b=!0;r.S5b={};r.D4b=[];r.version="";r.T9b={};r.on=f;r.addListener=f;r.once=f;r.KF=f;r.removeListener=f;r.removeAllListeners=f;r.emit=f;r.Z_a=f;r.uOb=f;r.listeners=function(){return [];};r.L4b=function(){throw Error("process.binding is not supported");};r.q5b=function(){return "/";};r.a5b=function(){throw Error("process.chdir is not supported");};r.L9b=function(){return 0;};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.leb=b.C$=b.neb=b.zFa=void 0;r=a(0);c=r.__importStar(a(8));g=r.__importDefault(a(3));l=r.__importDefault(a(37)).default.lL;m=r.__importStar(a(9)).Hs;d=r.__importDefault(a(430));f=a(411);h=a(227);k=a(16);n=a(29);p=a(5);q=a(95);t=a(253);a=(function(){function x(y,z,B,A,E,D,F,C,G,H,J){var I;I=this;this.u=y;this.Lf=z;this.G=B;this.Nb=A;this.P=E;this.VM=D;this.tb=F;this.$a=C;this.Ef=G;this.Y_=H;this.KD=J;this.i_=[];this.lda=[];this.UIa=[];this.mHa=void 0;[0,1].forEach(function(M){I.Nb(M) && (I.i_[M]=new v(I.u,M),I.lda[M]=new u(M),I.UIa[M]=new w(M));});this.w6a=new q.mD(this.u);this.bz=q.yE(this.G,this.w6a);this.sea=q.xE();this.tD=void 0;}Object.defineProperties(x.prototype,{gf:{get:function(){return this.i_;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Oy:{get:function(){return this.lda;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Vu:{get:function(){return this.UIa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Uw:{get:function(){return this.mHa;},set:function(y){this.mHa=y;},enumerable:!1,configurable:!0}});x.prototype.Om=function(y,z){this.w6a.Om(y,z);};x.prototype.xma=function(y){var z,B,A,E,D,F;z=this.G;B=y.mediaType;A=g.default.Cn()[B];E=z.ZXb?0 === B?z.MQ:z.hW:1 === B?z.MQ:z.hW;D=this.P.getState();F=this.P.ie();z=y.Ka.wb;B=this.Y_.dXa(z,B);A={su:A,V:B.Tc,ec:F,dc:B.lM || F,ul:B.mR || F,Gj:B.Gj,Tk:B.Tk,oRa:B.Y.length,Y:[]};E={state:D,iB:this.P.iB(),Eg:y.Fl,buffer:A,bha:E,RWa:! !this.VM.CT,RR:! !this.VM.$q,pn:this.tb && this.tb.pn,j6:y.PBb,playbackRate:this.P.Dn()};void 0 === E.Eg && (E.Eg=y.Sha(A.dc));E.$Q=z.$Q;A.Y=B.Y;c.pa(A.V)?y.seeking && A.ec != A.V && (A.ec=A.V):(A.V=0,A.dc=0);this.Lf.Nob(E);this.Lf.alb(E);return E;};x.prototype.Mob=function(y,z,B){var C,G;y=this.i_[y];for(var A=y.maxBitrate,E="manifest",D=0,F=z.length - 1;0 <= F;F--){C=z[F];G=C.bitrate;if(l(C)){D=Math.max(D,G);break;}else this.G.o7 && !C.Cu?E="bc":C.Iu?C.aB && (E="hf"):E="av";}if(void 0 === A || D !== A)(y.maxBitrate=D,this.$a.yKb(A,D,E,B));};x.prototype.MBb=function(y){return this.Eja(y).$f;};x.prototype.Eja=function(y){var z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q;z=this.G;B=y.mediaType;A=1 == B;E=0;D=this.i_[B];F=this.lda[B];if(!D.ih)return {$f:void 0};C=this.xma(y);G=y.ag;H=G.Wx;J=y.a4.M;I=y.track.Cd;if(!J.Al.aW(J.aa,I))return (y.Af("location selector did not find any urls"),{$f:void 0});M=t.M5(C.state);N=A?this.bz:this.sea;try{K=N.qm(I,M);}catch(P){this.u.error("StreamFilters: filterStreams: " + P);K=[I[0]];}0 === K.length && (this.u.error("StreamFilters: empty list"),K=[I[0]]);if(this.KD.Bq && (y.KA.length !== K.length || 0 < n.Nr(y.KA,K).length || 0 < n.Nr(K,y.KA).length)){try{this.tD && this.jxb();}catch(P){this.$a.Dm("Hindsight: Error when handling maxbitrate chagned: " + P);}y.KA=K;}M=H?H.$f:D.gia;try{if(H && (E=H.bitrate,H && !H.track.equals(G.track))){O=f.Uha(K,E) || 0;R=K[O];if(H.bitrate !== R.bitrate || 1 === B)C.state=k.ga.zg;H=R;M=I.indexOf(R);}}catch(P){this.u.error("StreamFilters: track change: " + P);}if(!A && (E=z.pN,!(E && 0 < E.length) && M && I[M] && H && H.location === I[M].location))return {$f:M};try{L=this.Lf.HK(B);Q=y.Py.uqa(C,K,void 0,L,D.ih.config.cv,J.ep);if(!Q)return (y.Af("stream selector did not find a stream"),{$f:void 0});}catch(P){this.u.error("StreamFilters: stream selector: " + P);Q={ce:0};}Q.ce=I.indexOf(K[Q.ce]);this.VM.$q && this.VM.$q.elb(y.mediaType,Q,I);A && this.Mob(B,K,y.dc);C=Q.ce;H=I[C];K=H.bitrate;C != M && (A && z.aK && this.Ef.dHa(y,K),A || this.Lf.XM(K));c.pa(D.gia) || (D.gia=C);y.$e || (Q.$e?(p.assert(void 0 !== Q.Z_),y.S6(Q.Z_),F.Rr=Q.Z_):(y.mB=Q.mB,y.hG=Q.hG,y.progress=Q.progress));this.ow();if(A)if(Q.ox)J.YM(Q.ox);else if(!J.Q2() && !z.u3a)for(y=0;y < I.length;++y){if((z=I[y],z.Es && !J.Yj(B,z.Fa))){J.YM([z.Fa]);break;}}Q.LLa && this.$a.FKb(Q.LLa);return {Fa:H.Fa,$f:C,Ns:Q.Ns};};x.prototype.ow=function(){var y,z,B,A,E,D;B=this.gf[0];A=this.gf[1];E=this.Oy[1];D=this.Oy[0];B=this.Y_.uc.Hob(null !== (y=null === A || void 0 === A?void 0:A.Ts) && void 0 !== y?y:0,null !== (z=null === B || void 0 === B?void 0:B.Ts) && void 0 !== z?z:0,this.Uw,this.VM.UF);B.Rr && (this.VM.Ul && E?E.Rr=B.Rr:D && (D.Rr=B.Rr));return B.$e;};x.prototype.Qha=function(y,z){var B,A,E,D;B=this;if(this.tD){A=this.tD;E=this.P.ie();D=[];z && (E=z.ta);h.xe.forEach(function(F){var C,G;C=B.Y_.uc.xd(F);if(C){G=B.xma(C);G.mediaType=F;G.ec=E;y === k.ga.Xe && (G.L0a=C.Ka.aea(E));D[F]=G;}});A.IQa || A.nK(D,y) || this.Opa();return A;}};x.prototype.jxb=function(){var y,z;y=this.tD;z=this.G;y && (this.Qha(void 0),y && !y.pJ && this.Lf.$oa.Dha(y));this.fOa(z);};x.prototype.Opa=function(){this.tD=void 0;};x.prototype.yXb=function(y){var z,B,A;z=y.oldValue;y=y.newValue;B=this.tD;A=this.G;y === k.ga.oc && z !== k.ga.oc?(B && this.u.warn("override an existing play segment!"),this.fOa(A,z,!0)):y !== k.ga.oc && z === k.ga.oc && B && (this.Qha(y),B && !B.pJ && this.Lf.$oa.Dha(B),this.Opa());};x.prototype.fOa=function(y,z,B){var A,E,D;A=this;E=[];h.xe.forEach(function(F){var C,G,H;C=A.Y_.uc.xd(F);if(C){G=A.xma(C);if(B){H=A.gf[F];H.dra?(G.Gk=H.dra,H.dra=void 0):G.Gk=H.Gk;}else G.Gk=g.default.time.ba();G.Cd=C.KA;G.mediaType=F;E[F]=G;}});D=g.default.Cn();D={w4b:D[0],u6a:D[1],y7b:y.CL,ey:y.ey};this.tD=new d.default(E,g.default.time.ba(),z,this.KD.TR,y.rv,D,y.X2);};return x;})();b.zFa=a;u=(function(){function x(y){this.mediaType=y;this.bR=this.Bu=this.Mx=this.Rr=this.Nx=void 0;}x.prototype.DXb=function(y,z,B){this.Nx=y?y:this.Nx;this.Rr=this.Rr;this.Mx=z?z:this.Mx;this.Bu=B?B:this.Bu;};return x;})();b.neb=u;w=(function(){return function(x){this.mediaType=x;this.Lla=this.Qla=this.Nla=this.pF=void 0;};})();b.C$=w;v=(function(){return function(x,y){this.mediaType=y;this.u=m(g.default,x,"[" + y + "]");this.Af=this.u.error.bind(this.u);this.ub=this.u.warn.bind(this.u);this.Ck=this.u.trace.bind(this.u);this.Qf=this.u.log.bind(this.u);this.u.debug.bind(this.u);this.gia=this.Gk=this.qn=this.ih=void 0;this.CU=this.Ts=0;this.HN=!1;this.maxBitrate=void 0;};})();b.leb=v;},function(r,b,a){var q,t,u,w,v,x,y,z,B,A,E,D,F;function c(){}function g(C,G){var H,J,I,M;H=q.mc(G)?G:c;this.G=C || ({});(function(N,K,O){this.aj[N].ee[K]=O;}).bind(this);(function(N,K){return this.aj[N].ee?this.aj[N].ee[K]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.Ma=C.R5b?D.Ma:c;J=w.dsb(C);I=this.G.dailyDiskCacheWriteLimit;if(J){this.Wt=J;M=k(C.K7b || F,w.Hzb());this.Iw=function(N){return q.ea(M) || null === M || void 0 === this.aj[N]?!1:!q.ea(M[N]);};M?(this.aj={},G=t.Promise.all(Object.keys(M).map(function(N){return new t.Promise(function(K,O){var R;R=M[N];R.j6a=C.j6a;new v(N,J,R,function(L,Q){L?O(L):K(Q);},I);});})).then((function(N){N.map((function(K){var O;O=K.cu;this.aj[O]=K;M[O].cyb=M[O].su - K.Hw;this.aj[O].on(v.Rd.REPLACE,(function(R){R=R || ({});R.partition=O;R.type="save";this.Ma("mediacache",R);}).bind(this));this.aj[O].on(v.Rd.SGa,(function(R){R=R || ({});R.partition=O;R.type="save";this.Ma("mediacache",R);}).bind(this));this.aj[O].on(v.Rd.jf,(function(R){R=R || ({});R.partition=O;R.type=v.Rd.jf;this.Ma("mediacache-error",R);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(N){f(J,t.storage.LO,Object.keys(M));return N;}).bind(this)).then((function(N){Object.keys(N.aj).map(function(K){N.aj[K].Qia().map(function(O){N.delete(K,O);});});N.zm=!0;H(null,N);}).bind(this)).catch((function(N){u.error("Failed to initialize media cache ",N);this.kF=A.Gva;H(this.kF,this);}).bind(this)),E.hv(G)):(this.kF=A.Xab,H(this.kF,this));}else (this.kF=A.Gva,H(this.kF,this));}function l(C,G,H,J,I,M){var N;N=M?"mediacache-error":"mediacache";G={partition:H,type:G,resource:J,time:t.time.now()};M && (G.error=M);I && (q.pa(I.duration) && (G.duration=I.duration),q.pa(I.$w) && (G.bytesRead=I.$w));try{C.Ma(N,G);}catch(K){u.warn("caught exception while emitting basic event",K);}}function m(C,G,H,J,I){var M;M=I?"mediacache-error":"mediacache";G={partition:H,type:G,resources:J,time:t.time.now()};I && (G.error=I);try{C.Ma(M,G);}catch(N){u.warn("caught exception while emitting basic event",N);}}function d(C){return !x.eL(C) && !z.lFb(C);}function f(C,G,H){C.query(G,"",function(J,I){J || Object.keys(I).filter(function(M){return 0 > H.indexOf(M.slice(0,M.indexOf(".")));}).map(function(M){C.remove(G,M,c);});});}function h(C,G,H){var I,M;function J(N){C.delete(I,function(K){K?H(K):(delete C.ee[M],K=Object.keys(N.resourceIndex),K=t.Promise.all(K.map(function(O){return new t.Promise(function(R,L){C.delete(O,function(Q){Q?L(Q):R(O);});});})).then(function(){H();},function(O){H(O);}),E.hv(K));});}if(x.eL(G))(I=G,M=x.E1(G));else (I=x.Zfa(G),M=G);(G=C.ee[M])?J(G):C.read(I,function(N,K){N?H(N):J(K);});}function k(C,G){var H,J,I;H={};J=C.partitions.reduce(function(M,N){return M + N.capacity;},0);I=G / J;C.partitions.map(function(M){var N;N=M.key;H[N]={};H[N].su=Math.floor(I * M.capacity);H[N].gtb=M.dailyWriteFactor || 1;H[N].s8b=M.owner;H[N].uwb=M.evictionPolicy;});return H;}function n(C,G,H){if(H)return z.Cub(C,G).reduce(function(J,I){Object.keys(I).map(function(M){J[M]=I[M];});return J;},{});H={};H[C]=G;return H;}function p(C,G,H,J,I,M,N,K,O,R,L){return function(Q,P){Q?q.isArray(Q)?(P=Q.map(function(ha){return ha.error;}),P.some(function(ha){return ha.code === A.iH.code;}) && !P.some(function(ha){return ha.code === A.NY.code;})?L(R,Q,function(){O.save(G,H,J,I,M,N);}):(R.delete(K),delete R.ee[H],M({error:Q[0].error,Os:Q[0].Os,type:Q[0].type,QKa:Q}))):M({error:Q,Os:G,type:"save"}):(Q=P.items.filter(function(ha){return 0 <= Object.keys(C).indexOf(ha.key);}).reduce(function(ha,va){return ha + va.M3;},0),R.ee[H].W2a(Q),Q={cyb:P.um,s5b:P.OJ,Qj:0,items:P},0 < P.Qj && (Q.Qj=P.Qj),0 < P.duration && (Q.duration=P.duration),M(null,Q));};}q=a(8);t=a(125);u=new t.Console("MEDIACACHE","media|asejs");w=a(984);v=a(985);x=a(436);y=a(126);z=a(992);B=a(993);A=a(257);E=a(258);D=a(437).EventEmitter;F={w8b:[]};g.prototype.MU=function(C,G,H){var J;J=q.mc(H)?H:c;this.Iw(C)?this.aj[C].query(G,function(I,M){I?(u.error("Failed to query resources",I),J([])):J(M.filter(d));}):J([]);};g.prototype.read=function(C,G,H){var J,I,M,N;J=q.mc(H)?H:c;if(this.Iw(C)){I=this.aj[C];M=I.ee[G];if(!x.eL(G) && this.G.OIb){N=(function(K){I.g6(Object.keys(K),(function(O,R,L){O?J(A.UH.Qp("Failed to read " + G,O)):(l(this,"read",C,G,L),J(null,z.DEb(R)));}).bind(this),K);}).bind(this);M?N(M.resourceIndex):this.xPb(C,G,function(K,O){K?J(A.UH.Qp("Failed to read " + G,K)):N(O.resourceIndex);});}else I.read(G,(function(K,O,R){K?J(A.UH.Qp("Failed to read " + G,K)):(M && M.convertToBinaryData && (O=B.gqb(O)),l(this,"read",C,G,R),J(null,O));}).bind(this));}else J(A.oz);};g.prototype.g6=function(C,G,H){var J,I;J=q.mc(H)?H:c;if(this.Iw(C)){I={};G=t.Promise.all(G.map((function(M){return new t.Promise((function(N,K){this.read(C,M,function(O,R){O?(R={},R[M]=O,K(R)):(I[M]=R,N());});}).bind(this));}).bind(this))).then(function(){J(null,I);},function(M){J(M);});E.hv(G);}else J(A.oz);};g.prototype.a2a=function(C,G,H){var J;J=q.mc(H)?H:c;this.Iw(C)?"[object Object]" !== Object.prototype.toString.call(G)?J(A.MY.Qp("items must be a map of keys to objects")):(H=new t.Promise((function(I){var M,N;M=this.aj[C].Qia();N=Object.keys(G);(M=M.filter(function(K){return -1 === N.indexOf(K);})) && 0 < M.length?this.TOa(C,M,function(){I();}):I();}).bind(this)).then((function(){return t.Promise.all(Object.keys(G).map((function(I){return new t.Promise((function(M,N){this.save(C,I,G[I].Ep,G[I].Zd,function(K,O){K?(u.error("Received an error saving",I,K),N(K)):M(O);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(I){var M,N,K;try{M=Number.MAX_VALUE;N=Number.MAX_VALUE;K=I.reduce(function(O,R){R.um && R.um < M && (M=R.um);R.OJ && R.OJ < N && (N=R.OJ);M < Number.MAX_VALUE && (O.freeSize=M);N < Number.MAX_VALUE && (O.dailyBytesRemaining=N);q.pa(R.Qj) && (O.bytesWritten+=R.Qj);q.pa(R.duration) && (O.duration+=R.duration);return O;},{partition:C,type:"saveMultiple",keys:Object.keys(G),time:t.time.now(),bytesWritten:0,duration:0});this.Ma("mediacache",K);J(null,K);}catch(O){J(err);}}).bind(this),(function(I){q.isArray(I.QKa)?I.QKa.forEach((function(M){this.Ma("mediacache-error",{partition:C,type:"saveMultiple",error:M.error,resources:M.resources});}).bind(this)):this.Ma("mediacache-error",{partition:C,type:"saveMultiple",error:I});J(I);}).bind(this)),E.hv(H)):(q.mc(H)?H:c)(A.oz);};g.prototype.save=function(C,G,H,J,I,M){var N,K,O,R,L,Q,P,ha,va;N=q.mc(I)?I:c;if(this.Iw(C)){K=this.aj[C];O=x.Zfa(G);I=K.Qia();I=I.filter(function(la){return la !== G;});if(q.ea(J) || q.hb(J) || !q.pa(J.lifespan))N(A.wbb);else {R=n(G,H,this.G.OIb);L=K.ee[G] || ({});Q=L.resourceIndex;Q && Object.keys(Q).map(function(la){q.ea(R[la]) && K.delete(la);});J.convertToBinaryData && (H=B.hqb(R),R=n(G,H,!1));Q=t.time.now();P={};P.partition=C;P.resourceIndex=Object.keys(R).reduce(function(la,S){la[S]=y.Mja(R[S]);return la;},{});P.creationTime=L.creationTime || Q;P.lastRefresh=Q;P.lifespan=J.lifespan;P.lastMetadataUpdate=Q;P.size=L.size;P.convertToBinaryData=J.convertToBinaryData;ha=(function(la,S,da){la.Ttb((function(ya,U){ya && u.error("Evicting","Failed to delete some orphaned records",ya);U.npa?da():(ya=la.Uzb())?this.delete(la.cu,ya,(function(ma){ma?(M || (q.isArray(S)?S.forEach((function(ta){m(this,"save",la.QAb,ta.resources,ta.error);}).bind(this)):l(this,"save",la.cu,G,void 0,S)),N(S)):da();}).bind(this)):N(A.iH);}).bind(this));}).bind(this);va=(function(){var la,S,da;la=this.aj;S=0;da=t.time.now();if(!q.ea(la))for(var ya in la){S+=la[ya].bzb(da);}return S;}).bind(this);this.TOa(C,I,(function(){K.replace(O,P,(function(la,S){S?(K.ee[G]=x.ria(P),K.MQb(R,p(R,C,G,H,J,N,M,O,this,K,ha),M,va)):la.code === A.iH.code?ha(K,la,(function(){this.save(C,G,H,J,N,M);}).bind(this)):N(la);}).bind(this),M,va);}).bind(this));}}else N(A.oz);};g.prototype.delete=function(C,G,H){var J;J=q.mc(H)?H:c;this.Iw(C)?h(this.aj[C],G,(function(I){l(this,"delete",C,G,void 0,I);J(I);}).bind(this)):J(A.oz);};g.prototype.TOa=function(C,G,H){var J,I;J=q.mc(H)?H:c;if(this.Iw(C)){I=this.aj[C];H=t.Promise.all(G.map((function(M){return new t.Promise((function(N){h(I,M,(function(K){N({W:q.ea(K),error:K,Ep:M});}).bind(this));}).bind(this));}).bind(this))).then((function(M){var L,Q;for(var N=[],K=[],O=[],R=0;R < M.length;R++){L=M[R];L.W?N.push(L.Ep):L.error && K.push(L);}0 < N.length && m(this,"delete",C,N);if(0 < K.length){O=K.map(function(P){return P.Ep;});M=E.dUa(K);Q=M[0];M.forEach((function(P){u.error("Failed to delete resources ",P.error,P.resources);m(this,"delete",C,P.resources,P.error);}).bind(this));}M={};M.O8b=N;0 < O.length && (M.P8b=O);Q?J(Q,M):J(void 0,M);}).bind(this),(function(M){m(this,"delete",C,G,M);J(M);}).bind(this));E.hv(H);}else J(A.oz);};g.prototype.clear=function(C,G){var H;H=q.mc(G)?G:c;this.Iw(C)?this.aj[C].clear(function(J){H(J.filter(d));}):H(A.oz);};g.prototype.xPb=function(C,G,H){var J,I;J=q.mc(H)?H:c;if(this.Iw(C)){I=this.aj[C];I.read(x.Zfa(G),function(M,N){var K;if(M)J(A.xbb);else {K=x.ria(N) || ({});I.hTa(Object.keys(K.Spa),function(O){K.size=O;(O=I.ee[G]) && (K.lastMetadataUpdate && O.lastMetadataUpdate && O.lastMetadataUpdate <= K.lastMetadataUpdate?I.ee[G]=K:O.lastMetadataUpdate && (O.lastMetadataUpdate > K.lastMetadataUpdate || q.ea(K.lastMetadataUpdate)) && (K=O));J(null,K);});}});}else J(A.oz);};g.prototype.constructor=g;r.exports=g;},function(r,b,a){var m,d;function c(f,h,k,n,p,q){return new l(f,h,k,n,p,q);}function g(f){return f && 0 <= f.indexOf(".__metadata__");}function l(f,h,k,n,p,q){this.partition=f;this.lifespan=k;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.a5a();}m=a(8);d=a(125);a(126);new d.Console("MEDIACACHE","media|asejs");l.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.a5a();};l.prototype.W2a=function(f){this.size=f;};l.prototype.ENa=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};l.prototype.a5a=function(){this.lastMetadataUpdate=d.time.now();return this;};l.prototype.constructor=l;r.exports={create:c,ria:function(f){var h;h=f;"string" === typeof f && (h=JSON.parse(f));if(h && h.partition && !m.ea(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (f=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (f.lastMetadataUpdate=h.lastMetadataUpdate),!m.ea(h.size) && 0 <= h.size && f.W2a(h.size),f.ENa(),f.convertToBinaryData=h.convertToBinaryData,f);},Zfa:function(f){return f + ".__metadata__";},E1:function(f){return g(f)?f.slice(0,f.length - 13):f;},eL:g};},function(r,b,a){r.exports={EventEmitter:a(988),sh:a(989)};},function(r){r.exports="4.1.1650";},function(r,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.uaa=void 0;c=a(0);g=a(17);l=a(9);m=a(5);d=a(16);r=(function(){function f(){this.gM=[];this.Oz=new l.Zp(!1);this.Nz=new l.Zp(l.S.lb(-Infinity));this.events=new g.EventEmitter();}Object.defineProperties(f.prototype,{zv:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{playbackRate:{get:function(){return this.Dn();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gy:{get:function(){return this.Oz;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{pT:{get:function(){return this.Nz;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ry:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mp:{get:function(){return this.cF;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kd:{get:function(){return this.zK();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vh:{get:function(){var h,k;h=this.Kd;k=this.Vq(h);m.assert(k,"Could not find current branch for " + h.X);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mL:{get:function(){return this.cF?this.Ib[this.Ib.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fi:{get:function(){var h,k;h=this.Kd;k=this.g2(h);m.assert(k,"Could not find presenting branch for " + h.X);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cF:{get:function(){return 0 < this.Ib.length;},enumerable:!1,configurable:!0}});f.prototype.YCb=function(h){return -1 !== this.Ib.indexOf(h);};f.prototype.P_=function(){return void 0 !== this.na?!1:!0;};f.prototype.Gb=function(){};f.prototype.LS=function(h){var k,n,p;k=this.Ib.filter(function(q){return q.R.id === h.oa;});if(0 !== k.length){n=this.zK();p=new l.S(Infinity,1);k.forEach(function(q){q=q.L5.add(h.offset);n.Tga(q).lessThan(n.Tga(p)) && (p=q);});return p;}};f.prototype.Vq=function(h){var k,n,p;k=this.g2(h);if(k){n=k.R;p=n.id;h=h.Sa(n.Dj.add(k.tq));return {oa:p,offset:h};}};f.prototype.reset=function(){};f.prototype.$U=function(){};f.prototype.pause=function(h){void 0 === h && (h=d.xe);this.gM=null === h || void 0 === h?void 0:h.reduce(function(k,n){-1 === k.indexOf(n) && k.push(n);return k;},this.gM);};f.prototype.resume=function(h){var k;k=this;void 0 === h && (h=d.xe);h.forEach(function(n){n=k.gM.indexOf(n);-1 !== n && k.gM.splice(n,1);});};f.prototype.Zra=function(h){var k;m.assert(this.na);m.assert(h !== this);this.wG();k=h.P_(this.na,this);k && (h.pause(this.gM),h.wha.apply(h,c.__spread(this.Ib)),this.Pga(this.na));return k;};f.prototype.zK=function(){return this.ESa();};f.prototype.ESa=function(){var h,k;m.assert(this.cF,"Attempted to get initial time before any branches were queued");k=c.__read(this.Ib,1)[0];m.assert(k);return null !== (h=k.ek) && void 0 !== h?h:k.cT;};f.prototype.Dn=function(){return 1;};f.prototype.g2=function(h){var k;if(this.cF){k=this.ESa();return h.lessThan(k)?this.Ib[0]:l.SQa(this.Ib,h);}};return f;})();b.uaa=r;},function(r,b){var g,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.bHa);}function c(d){return (a(d)?d:Object.defineProperties(d,{bHa:{value:{},configurable:!1,enumerable:!1}})).bHa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Caa=void 0;l=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % l;r=(function(){function d(){this.id=m=(m + 1) % l;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,h){c(f)[this.id]=h;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.Caa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ITa=b.Ega=void 0;g=a(0);b.Ega=(c={},c[1]=0,c[0]=0,c.total=0,c);b.ITa=function(l){return l.reduce(function(m,d){var f,n;try{for(var h=g.__values(d.FK()),k=h.next();!k.done;k=h.next()){n=k.value;m[n.mediaType]+=n.eA;m.total+=n.eA;}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (f=h.return) && f.call(h);}finally{if(p)throw p.error;}}return m;},g.__assign({},b.Ega));};},function(r,b,a){var g,l,m,d;function c(){return g.__awaiter(this,void 0,void 0,function(){var f;return g.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return g.__importStar(a(259));})];case 1:return (f=h.wg().YE,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.AS=void 0;g=a(0);l=a(1033);m=g.__importDefault(a(3));b.AS=function(f){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new l.YDa(function(){return c();},f,h));return d;};},function(r,b,a){var l,m;function c(d,f){var h;h={};Object.keys(f).forEach(function(k){var n,p,q,t;n=f[k];t=null !== (p=n.weight) && void 0 !== p?p:n.next && (null === (q=n.exitZones) || void 0 === q?0:q.length)?g(n.next):void 0;h[k]={aa:d.viewableId,Zb:n.startTimeMs,Mc:n.endTimeMs || Infinity,Cg:n.defaultNext || null,Pc:n.transitionHint,js:n.exitZones,weight:t,next:n.next};});return h;}function g(d){var f,h;f=Object.keys(d);h=f.length;return h?f.reduce(function(k,n){return k + (d[n].weight || 0);},0) / h:void 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.A0=b.Mwb=b.YB=b.fx=void 0;l=a(0);m=a(9);b.fx=function(d,f,h,k){return {je:null !== f && void 0 !== f?f:d.je,qd:null !== k && void 0 !== k?k:d.qd,Pc:d.transitionType,ya:c(d,null !== h && void 0 !== h?h:d.ya)};};b.YB=function(d,f,h){var k;return {je:f,Pc:"lazy",qd:h,ya:(k={},k[f]={aa:d,Zb:0,Mc:Infinity,Cg:null,next:{}},k)};};b.Mwb=function(d,f){var h,t,u;d=Math.max(d.duration - 3E4,3E4);for(var k={},n,p=0,q=0;q < d;q+=3E4){t="s" + p++;u={aa:f,Zb:q,Mc:q + 3E4 < d?q + 3E4:null};void 0 !== n && (n.next=(h={},h[t]={weight:1},h),n.Cg=t);n=k[t]=u;}return {je:"s0",ya:k,Pc:"lazy"};};b.A0=function(d,f,h){var k,q,t,u;try{for(var n=l.__values(Object.keys(d.ya)),p=n.next();!p.done;p=n.next()){q=p.value;t=d.ya[q];if(t.aa === f){u=m.S.lb(t.Zb);if(h.Fn(u) && (null === t.Mc || void 0 === t.Mc || h.lessThan(m.S.lb(t.Mc))))return {oa:q,offset:h.Sa(u)};}}}catch(v){var w;w={error:v};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(w)throw w.error;}}};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.W6a=void 0;c=a(6);g=a(14);b.W6a=function(l){var m,d;if(g.Sx(l)){m=new DOMParser().parseFromString(l,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:l.slice(0,300),fileSize:l.length});}catch(f){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var g;function c(l){var m,d,f,h,k,n,p;d={};d[g.MN]=l.localName;f={};d[g.Hj]=f;h=[];d[g.LN]=h;k=l.attributes;n=k.length;for(m=0;m < n;m++){p=k[m];f[p.localName]=p.value;}l=l.childNodes;n=l.length;f={};for(m=0;m < n;m++){switch((k=l[m],k.nodeType)){case b.$6a:k=c(k);p=k[g.MN];k[g.u8]=d;h.push(k);d[p]?f[p][g.rC]=k:d[p]=k;f[p]=k;break;case b.a7a:case b.Y6a:(k=k.text || k.nodeValue,h.push(k),d[g.ur] || (d[g.ur]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Z6a=b.Y6a=b.a7a=b.oZb=b.$6a=b.pZb=b.X6a=void 0;g=a(149);b.X6a=function(l){return c(l.nodeType == b.Z6a?l.documentElement:l);};b.pZb=c;b.$6a=1;b.oZb=2;b.a7a=3;b.Y6a=4;b.Z6a=9;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,f;function c(h,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + k + "'"));}function g(h,k,n){var p;p=d[h];"undefined" !== typeof p?p(k) || c(h,k,n):h !== typeof k && c(h,k,n);}function l(h,k){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(t){return q[t];}).filter(function(t){return -1 === f.indexOf(t);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,t){var u;u=p[t];if("string" === typeof q)g(q,u,{index:t});else if("object" === typeof q)Object.keys(q).forEach(function(w){g(q[w],u[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}f=Object.keys(d).concat(m);return l(["array","function"],l);};},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Y8a=b.Sua=void 0;c=a(12);g=a(22);l=a(14);m=a(81);b.Sua=function(d,f,h,k,n,p,q,t,u,w){var v,x;v=this;x={Type:f,Bitrate:k,DownloadableId:h};g.Jb(v,{track:d,type:f,Ld:h,bitrate:k,mb:n,mg:t,size:p,qx:q,header:null,qTb:function(y,z,B,A){if(l.vc(y) || l.vc(z))(v.width=y,v.height=z,l.pa(B) && l.pa(A) && (v.Uda=B / A * y),x.Resolution=(v.width || "") + ":" + (v.height || ""));},GSb:function(y,z,B,A,E,D){l.vc(y) && l.vc(z) && l.vc(B) && l.vc(A) && (v.jga=y,v.L0=z,v.K0=B,v.J0=A);l.vc(E) && l.vc(D) && (v.v_a=E,v.w_a=D);},framerate:u,Qx:w,Hh:x,toJSON:function(){return x;}});};b.Y8a=function(d,f,h,k,n){if(d == c.QX || d === m.Ph.audio)return f;if(d == c.GH || d === m.Ph.video)return h;if(d == m.Ph.F7)return k;if(d == m.Ph.esa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I$="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.awa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,g,l){if(null != l){if(0 < l(c,g))throw a.iOa(c,g);}else if(c.Jk && 0 < c.Jk(g))throw a.iOa(c,g);this.start=c;this.end=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Gaa=void 0;a.iOa=function(c,g){return new RangeError("end [" + g + "] must be >= start [" + c + "]");};b.Gaa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dwa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yva="CryptoDeviceIdSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zva="CryptoKeysSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iCa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rza="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aBa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ue=void 0;r=b.Ue || (b.Ue={});r.hnb="bitraterestriction";r.MMa="cdnsel";r.lfa="chgstrm";r.debug="debug";r.Hub="dlreport";r.uha="endplay";r.Vka="intrplay";r.A4="midplay";r.E_a="playbackaborted";r.IQb="renderstrmswitch";r.Epa="repos";r.Vpa="resumeplay";r.zSb="serversel";r.k7="startplay";r.DUb="statechanged";r.transition="transition";r.bmb="asereport";r.amb="aseexception";r.Cmb="audioswitch";r.inb="blockedautoplay";r.config="config";r.i1="dlreq";r.h6b="ftlProbeError";r.mVb="subtitleerror";r.nVb="subtitleqoe";r.cWb="timedtextrebuffer";r.dWb="timedtextswitch";r.mUb="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ACa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GGa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rta="AppLogSinkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oza="LogblobBuilderFactorySymbol";},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G;function c(H,J,I,M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya,U,ma,ta,Ja){var wa;wa=this;this.j=H;this.Yn=J;this.H4a=M;this.k0=N;this.Bl=K;this.Tma=O;this.Kha=R;this.Qd=L;this.j1=Q;this.qf=P;this.config=ha;this.ed=va;this.sa=la;this.Ia=S;this.platform=da;this.Sn=ya;this.zT=U;this.Ei=ma;this.Dq=ta;this.AF=Ja;this.RV=[];this.lJb=this.t3=this.t1a=0;this.XJ=[];this.Oda=!1;this.Xx=function(ra,Qa){return function(Pa){var Sa;Sa=Qa(Pa);if("number" !== typeof Sa)throw Error("Event " + JSON.stringify(Pa) + " does not have movie Id");Sa === wa.H && ra(Pa);};};this.Oq=this.Xx(function(ra){wa.G3a(ra.A3);},function(ra){return ra.H;});this.xL=this.Xx(function(){wa.tpb();},function(ra){return ra.H;});this.C3a=function(ra){wa.Od(D.Ue.mUb,!1,G.Ri | G.qh,{speedold:Math.floor(1E3 * ra.oldValue),speed:Math.floor(1E3 * ra.newValue)});};this.tN=function(){wa.Od(D.Ue.cWb,!1,G.Ri | G.qh,{track:wa.j.Oc.value.Hh});};this.R4a=function(ra){ra.newValue && wa.toa && (ra={track:ra.newValue.Hh},wa.iF(ra,wa.j.If.value && wa.j.If.value.stream,wa.j.Jg.value && wa.j.Jg.value.stream),wa.Od(D.Ue.dWb,!1,G.Ri | G.qh,ra));};this.Oo=function(ra){wa.Od(D.Ue.hnb,!1,G.Ri | G.qh,ra.newValue);};this.ePa=function(){var ra,Qa,Pa;if(wa.j.Hk)try{ra=!1;wa.ca % wa.config().JR && !wa.j.RR && (ra=!0,wa.XJ=wa.XJ.filter(function(Sa){return !Sa.W;}));if(0 < wa.XJ.length){Qa=wa.j1.construct(wa.XJ,wa.j.Il.da(p.ia));wa.XJ=[];Qa.erroronly=ra;Pa={};n.Wd(Qa,function(Sa,$a){Pa[Sa]=JSON.stringify($a);});wa.Od(D.Ue.Hub,!1,G.qh,Pa);}}catch(Sa){wa.log.error("Exception in dlreport.",Sa);}};this.ES=function(){var ra;ra=wa.j.Ob.value;return ra === B.ob.oc?"playing":ra === B.ob.wh?"paused":ra === B.ob.Ct?"ended":"waiting";};this.A4=function(){var ra,Qa,Pa;if(wa.j.state.value == B.yb.Fd){Pa=wa.C_a();wa.config().Dpa && (Pa.avtp=wa.hC.En().FG,(null === (ra=wa.j.Ga) || void 0 === ra?0:ra.PK()) && wa.g3(Pa));Pa.mediabuffered=null === (Qa=wa.j.Xf) || void 0 === Qa?void 0:Qa.i2();Pa.midplayseq=wa.lJb++;Pa.prstate=wa.ES();Pa.paustate=wa.j.paused.value;wa.config().vSb && wa.h4a("midplay");wa.config().Us && wa.Kka(Pa);wa.Hka(Pa);wa.Ika(Pa);wa.Jka(Pa);wa.Od(D.Ue.A4,!1,G.Ri | G.qh | G.AC | G.aP,Pa);}};this.PGa=/-?l(\d\d)/i;this.qPa=this.Xx(function(ra){wa.XJ.push(wa.j1.iqb(ra.response));},function(ra){return ra.H;});this.i1=this.Xx(function(ra){var Qa,Pa,Sa,$a,kb,bb;ra=ra.response;Qa=ra.request;Pa=ra.request.Rq;Sa=Qa.track;if(Sa){$a=!ra.W && ra.ka != q.K.mz;kb=Sa.type;bb=ra.Cl;if($a || wa.Yn.hma){Pa={dltype:kb,url1:Qa.url,url2:ra.url || "",cdnid:Qa.Hc && Qa.Hc.id,tresp:n.Mk(bb.Lh - bb.Cp),brecv:n.iRa(bb.Tfa),trecv:n.Mk(bb.Vn - bb.Lh),sbr:Pa && Pa.bitrate};ra.Xq && (Pa.range=ra.Xq);switch(kb){case f.Ph.audio:Pa.adlid=Qa.stream.Ld;break;case f.Ph.video:Pa.vdlid=Qa.stream.Ld;break;case f.Ph.F7:Pa.ttdlid=Sa.Ld;}(Qa=F.jja(ra.ka)) && (Pa.nwerr=Qa);ra.hj && (Pa.httperr=ra.hj);wa.Od(D.Ue.i1,$a,G.qh,Pa);}}},function(ra){return ra.H;});this.rl=function(){wa.Od(D.Ue.inb,!1,G.Ri | G.AC,{browserua:y.Yp});};this.rNa=this.Xx(function(ra){var Qa,Pa,Sa;ra=ra.response;Qa=ra.Cl;Pa=p.Xb(Qa.Lh);Sa=p.Xb(Qa.Vn);Qa=u.$(Qa.Tfa || 0);Qa.$Va() || Qa.ila() || (Pa=new w.Gaa(Pa,Sa),wa.hC.z_(new v.eX(Pa,Qa)),ra && ra.request && ra.request.Rq && ra.request.Rq.cc && wa.k0.z_(new x.$ua(Pa,Qa,ra.request.Rq.cc)));},function(ra){return ra.H;});this.j_a=function(ra){var Qa;Qa=ra.newValue;ra.xq && ra.xq.XL && Qa || Qa == wa.Gla || (wa.BUb(wa.Gla,Qa),wa.Gla=Qa);};this.Yw=function(ra){function Qa(Pa){var Sa;if(wa.j.zb && wa.j.zb.sourceBuffers){Sa=wa.j.zb.sourceBuffers.filter(function($a){return $a.type === Pa;}).pop();if(Sa)return {busy:Sa.Yh(),updating:Sa.updating(),ranges:Sa.j2()};}}wa.Fy="rebuffer";ra={cause:ra.cause};ra.cause && ra.cause === m.laa && (ra.mediaTime=wa.j.mediaTime.value,ra.buf_audio=Qa(l.QX),ra.buf_video=Qa(l.GH));wa.Vka(wa.RV[B.ob.oc] || 0,wa.RV[B.ob.wh] || 0,ra);wa.$G=wa.getTime();z.Ic(wa.gR);};this.d5a=function(ra){var Qa;ra=ra.oldValue;Qa=wa.getTime();ra === B.ob.cg?wa.RV=[]:wa.RV[ra]=(wa.RV[ra] || 0) + (Qa - wa.yGb);wa.yGb=Qa;};this.Ml=function(ra){ra.skip && (wa.Zk=!0);switch(ra.cause){case B.Ad.fw:case B.Ad.YH:wa.Fy && wa.$G && wa.BNb(wa.getTime() - wa.$G,wa.Fy);wa.Fy="repos";wa.Epa(ra.Nna,ra.Jg,ra.If);wa.$G=wa.getTime();z.Ic(wa.gR);break;case B.Ad.mX:(wa.Fy="force_rebuffer",wa.$G=wa.getTime(),z.Ic(wa.gR));}};this.gR=function(){var ra;if(wa.$G && wa.j.Ob.value !== B.ob.cg){ra=wa.getTime() - wa.$G;wa.Vpa(ra,wa.Zk);wa.Bla && wa.Bla != wa.j.Yc.value && wa.zmb();wa.$G=void 0;wa.Fy=void 0;wa.Zk=void 0;}};this.hfa=this.Xx(function(){wa.j.Ob.value === B.ob.oc && (wa.j.Ob.removeListener(wa.hfa),wa.Ps());},function(){return wa.j.H;});this.PQ=function(ra){wa.sGb=wa.getTime();wa.Bla=ra.oldValue;};this.Ps=function(){wa.toa || (wa.toa=!0,wa.k7(!1),wa.oEb(),wa.config().hVa && (wa.m3=lb.setTimeout(function(){wa.Bl.flush(!1).catch(function(){return wa.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});wa.m3=void 0;},wa.config().hVa)));};this.Tf=function(){wa.m3 && (lb.clearTimeout(wa.m3),wa.m3=void 0);if(wa.config().JR || wa.config().HQ)(wa.Zga && (lb.clearInterval(wa.Zga),wa.Zga=void 0),wa.ePa());wa.D5a && wa.D5a();wa.toa?wa.uha(! !wa.j.Xj):wa.j.Xj?wa.k7(!0):wa.Yn.background || wa.CNb();wa.Od=l.Ti;};this.mNa=this.Xx(function(){wa.Tf();},function(ra){return ra.movieId;});this.A6a=function(ra){ra.oldValue && ra.xq && ra.xq.pfa && wa.lfa(ra.oldValue,ra.newValue,ra.xq.pfa,ra.xq.VLa);};this.$_a=function(ra){var Qa;if(ra.newValue){Qa=ra.newValue.stream;wa.Ila != Qa && (wa.Ila && wa.HQb(wa.Ila,Qa,ra.newValue.vq.startTime),wa.Ila=Qa);}};this.Gs=this.Xx(function(ra){function Qa(Pa,Sa){var $a;if(!Pa || Pa.cma !== Sa.location){$a={cma:Sa.location,KWa:Sa.locationlv,xSb:Sa.serverid,oG:Sa.servername};wa.xob(Pa,Sa);return $a;}}if("audio" === ra.mediatype){if(ra=Qa(wa.rGb,ra))wa.rGb=ra;}else if(ra=Qa(wa.qT,ra))wa.qT=ra;},function(ra){return wa.j.Fu(ra.segmentId).H;});this.nG=this.Xx(function(ra){var Qa,Pa;Qa=ra.mediatype;Pa=ra.reason;"video" === Qa?"serverswitchaway" === Pa?(wa.Ji.summary.H6a++,wa.Ji.X3=wa.sa.Ne.da(p.ia)):"serverswitchback" === Pa && (wa.Ji.summary.I6a++,wa.Ji.X3 && (wa.Ji.summary.J6a.push(wa.sa.Ne.da(p.ia) - wa.Ji.X3),wa.Ji.X3=void 0)):"audio" === Qa && ("serverswitchaway" === Pa?(wa.Ji.summary.uLa++,wa.Ji.S3=wa.sa.Ne.da(p.ia)):"serverswitchback" === Pa && (wa.Ji.summary.vLa++,wa.Ji.S3 && (wa.Ji.summary.wLa.push(wa.sa.Ne.da(p.ia) - wa.Ji.S3),wa.Ji.S3=void 0)));wa.Od(D.Ue.zSb,!1,G.Ri | G.qh,{mediatype:ra.mediatype,server:ra.server,selreason:ra.reason,location:ra.location,bitrate:ra.bitrate,confidence:ra.confidence,throughput:ra.throughput,oldserver:ra.oldserver});},function(ra){return wa.j.Fu(ra.segmentId).H;});this.sJ=function(ra){wa.Od(D.Ue.bmb,!1,G.qh,{strmsel:ra.strmsel});};this.rJ=function(ra){wa.Od(D.Ue.amb,!1,G.qh,{msg:ra.msg});};this.nN=function(ra){ra=t.aN(ra);ra.details && (ra.details=JSON.stringify(ra.details));wa.Od(D.Ue.mVb,!0,G.Ri | G.NH | G.KW,ra);};this.Oda=ma.d8 || ma.e8 || ma.fRa;this.hC=M();this.log=h.Eh(H,"LogblobBuilder");this.Gla=H.paused.value;this.H=J.H;this.ca=this.Yn.ca;this.Ji={summary:{H6a:0,I6a:0,J6a:[],uLa:0,vLa:0,wLa:[]},X3:void 0,S3:void 0};this.Wa();I && this.G3a();}Object.defineProperty(b,"__esModule",{value:!0});b.Pza=void 0;g=a(46);l=a(12);m=a(59);d=a(45);f=a(81);h=a(6);k=a(19);n=a(22);p=a(4);q=a(2);t=a(27);u=a(48);w=a(451);v=a(464);x=a(1083);y=a(10);z=a(55);B=a(15);A=a(14);E=a(1084);D=a(458);F=a(181);C=a(128);c.prototype.Wa=function(){this.j.addEventListener(B.T.Oq,this.Oq);this.j.addEventListener(B.T.xL,this.xL);this.j.addEventListener(B.T.Gs,this.Gs);this.j.addEventListener(B.T.nG,this.nG);this.j.addEventListener(B.T.Tf,this.mNa);this.j.addEventListener(B.T.FA,this.i1,l.gY);if(this.config().JR || this.config().HQ)(this.j.addEventListener(B.T.FA,this.qPa),this.Zga=lb.setInterval(this.ePa,this.config().Sub));this.config().Dpa && this.j.addEventListener(B.T.FA,this.rNa);};c.prototype.G3a=function(H){this.pYa || (this.j.Ob.value !== B.ob.oc || (void 0 === H?0:H)?this.j.Ob.addListener(this.hfa):this.Ps(),this.j.Ek.addListener(this.R4a),this.j.Yc.addListener(this.PQ),this.j.paused.addListener(this.j_a),this.j.If.addListener(this.$_a),this.j.Ob.addListener(this.gR),this.j.Ob.addListener(this.d5a),this.j.uf.addListener(this.A6a),this.j.playbackRate.addListener(this.C3a),this.j.addEventListener(B.T.rl,this.rl),this.j.addEventListener(B.T.rJ,this.rJ),this.j.addEventListener(B.T.sJ,this.sJ),this.j.addEventListener(B.T.nN,this.nN),this.j.addEventListener(B.T.Yw,this.Yw),this.j.addEventListener(B.T.Ml,this.Ml),this.j.addEventListener(B.T.tN,this.tN),this.Yn.Oo && this.Yn.Oo.addListener(this.Oo),this.pYa=!0);};c.prototype.tpb=function(){this.Tf();this.pYa && (this.j.removeEventListener(B.T.Oq,this.Oq),this.j.removeEventListener(B.T.xL,this.xL),this.j.removeEventListener(B.T.Gs,this.Gs),this.j.removeEventListener(B.T.nG,this.nG),this.j.Ek.removeListener(this.R4a),this.j.Yc.removeListener(this.PQ),this.j.paused.removeListener(this.j_a),this.j.If.removeListener(this.$_a),this.j.Ob.removeListener(this.gR),this.j.Ob.removeListener(this.hfa),this.j.Ob.removeListener(this.d5a),this.j.uf.removeListener(this.A6a),this.j.playbackRate.removeListener(this.C3a),this.j.removeEventListener(B.T.FA,this.i1),this.j.removeEventListener(B.T.Tf,this.mNa),this.j.removeEventListener(B.T.rl,this.rl),this.j.removeEventListener(B.T.rJ,this.rJ),this.j.removeEventListener(B.T.sJ,this.sJ),this.j.removeEventListener(B.T.nN,this.nN),this.j.removeEventListener(B.T.Yw,this.Yw),this.j.removeEventListener(B.T.Ml,this.Ml),this.j.removeEventListener(B.T.tN,this.tN),this.Yn.Oo && this.Yn.Oo.removeListener(this.Oo),this.j.removeEventListener(B.T.FA,this.qPa),this.j.removeEventListener(B.T.FA,this.rNa));};c.prototype.WUa=function(H,J){var I,M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya,U,ma,ta;if(this.config().Us)try{I={};M=this.ed.getStats(void 0,void 0,H.H);N=H.d2();K=M.EG.zNa || [];I.attempts=M.S5 || 0;I.num_completed_tasks=K.length;O=this.Qd.dxb;R={};L=C.Jj.oN;Q=C.Jj.ks;P=C.Jj.Zea;M.Lk && (R.scheduled=M.Lk - N);ha=H.la;ha && A.pa(ha.gG) && (R.preauthsent=ha.gG - H.loadTime,R.preauthreceived=ha.DM - H.loadTime);va=K.filter(function(Ja){return "manifest" === Ja.type;});I.mf_succ=va.filter(O("status",L)).length;I.mf_fail=va.filter(O("status",Q)).length;la=H.Sc;A.vc(la.lg) && 0 > la.lg && H.loadTime && (R.ldlsent=la.lc,R.ldlreceived=la.lr);S=K.filter(function(Ja){return "ldl" === Ja.type;});I.ldl_succ=S.filter(O("status",L)).length;I.ldl_fail=S.filter(O("status",Q)).length;M=!0;N=[];"notcached" === H.rA && (M=!1,N.push("Missing cached manifest"));this.config().bK || (M=!1,N.push("LDL prefetch disabled"));da=S.filter(O("status",P)).length;this.config().bK && 0 === da && (!R.ldlreceived || 0 <= R.ldlreceived) && (M=!1,N.push("LDL received after start"));if(this.config().q1){ya=H.TK && H.TK.stats;if(ya){if((ya.Lxb && (R.headersent=ya.Lxb - H.loadTime),ya.EGb && (R.headerreceived=ya.EGb - H.loadTime),ya.P5 && (R.prebuffstarted=ya.P5 - H.loadTime),ya.Hoa && (R.prebuffcomplete=ya.Hoa - H.loadTime),!R.prebuffcomplete || 0 <= R.prebuffcomplete))(M=!1,N.push("Missing cached media"));}else if(J.isPrefetchItem){U=J.prefetchedAudioMs / J.bcABufferLevelMs;if(1 > J.prefetchedVideoMs / J.bcVBufferLevelMs || 1 > U)(M=!1,N.push("Insufficient media fetched"));}else (M=!1,N.push("aseStats not initialized"));}ma=K.filter(function(Ja){return "getHeaders" === Ja.type;});I.header_succ=ma.filter(O("status",L)).length;I.header_fail=ma.filter(O("status",Q)).length;ta=K.filter(function(Ja){return "getMedia" === Ja.type;});I.media_succ=ta.filter(O("status",L)).length;I.media_fail=ta.filter(O("status",Q)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;n.Jb(J,I,{prefix:"pr_"});this.Dq.UR && (J.eventlist_version=1,J.eventlist=this.AF.jTa(H));(J.prefetchCompleted=M) || (J.prefetchFailed=N,n.Jb(J,R,{prefix:"pe_"}));this.Kka(J);}catch(Ja){this.log.warn("error in collecting video prepare data",Ja);}};c.prototype.k7=function(H){var J,I,M,N,K,O,R,L;I={};try{I={browserua:y.Yp,browserhref:location.href,playdelaysdk:n.Mk(this.j.Wea()),applicationPlaydelay:n.Mk(this.j.Pnb()),playdelay:n.Mk(this.j.Znb()),trackid:this.j.lk,bookmark:n.Mk(this.j.iE || 0),pbnum:this.j.index,endianness:d.nSa()};this.config().Wvb && (I.transitiontime=this.j.Tl,I.uiplaystarttime=this.j.Va.V7,I.playbackrequestedat=this.j.Il.da(p.ia),I.clockgettime=this.getTime(),I.clockgetpreciseepoch=this.sa.Ne.da(p.ia),I.clockgetpreciseappepoch=this.Ia.qF.da(p.ia),I.absolutestarttime=this.j.d2(),I.relativetime=this.j.tja());this.c2(I,"startplay");}catch(Q){this.log.error("error in startplay log fields",Q);}this.j.rl && (I.blocked=this.j.rl);I.configversion=this.config().version;this.config().endpoint || (I.configendpoint="error");this.RUa(I);if(this.config().o8 && this.j.Va.K6a){M={};Object.entries(this.j.Va.K6a).reverse().forEach(function(Q){var P;P=Z(Q);Q=P.next().value;P=P.next().value;M[Q.toLowerCase()]=P;});I.vui=M;}A.pa(this.j.gMa) && (I.bookmarkact=n.Mk(this.j.gMa));N=this.j.Sc.at && this.j.Sc.ats?this.j.Sc.at - this.j.Sc.ats:void 0;N && (I.nccpat=N);(N=this.j.Sc.lr && this.j.Sc.lc?this.j.Sc.lr - this.j.Sc.lc:void 0) && (I.nccplt=N);(N=this.Yub()) && (I.downloadables=N);lb._cad_global.device && A.vc(lb._cad_global.device.Cha) && (I.esnSource=lb._cad_global.device.Cha);n.Jb(I,this.Sn,{prefix:"pi_"});(N=y.Ve && y.Ve.connection && y.Ve.connection.type) && (I.nettype=N);this.j.im && this.j.im.initBitrate && (I.initvbitrate=this.j.im.initBitrate);this.j.im && this.j.im.selector && (I.selector=this.j.im.selector);I.fullDlreports=this.j.SPa;if(this.j.state.value >= B.yb.Fd)try{K=this.j.Xr();if(K){this.maxBitrate=d.I8(K.map(function(Q){return Q.bitrate;}));this.HXa=d.I8(K.map(function(Q){return Q.height;}));O=0 < K.length?E.vXa(K,function(Q){return Q.bitrate;}):void 0;I.maxbitrate=this.maxBitrate;I.maxresheight=this.HXa;}}catch(Q){this.log.error("Exception computing max bitrate",Q);}try{R=d.DS();R && (I.pdltime=R);}catch(Q){}try{n.Jb(I,this.j.Sc,{prefix:"sm_"});n.Jb(I,this.j.I2(),{prefix:"vd_"});}catch(Q){}"undefined" !== typeof nrdp && nrdp.device && (I.firmware_version=nrdp.device.firmwareVersion);H && this.j.Xs && (I.pssh=this.j.Xs);this.WUa(this.j,I);I.avtp=this.hC.En().FG;(null === (J=this.j.Ga) || void 0 === J?0:J.PK()) && this.g3(I);if(this.j.Oc.value)try{I.ttTrackFields=this.j.Oc.value.Hh;}catch(Q){}if(J=this.j.Yc && this.j.Yc.value && this.j.Yc.value.streams){L={};J.forEach(function(Q){L[Q.mg]=void 0;});I.audioProfiles=Object.keys(L);}this.Lka(I);this.j.la && "boolean" === typeof this.j.la.Bc.lF && (I.isSupplemental=this.j.la.Bc.lF);I.headerCacheHit=! !this.j.TK;this.j.TK && (I.headerCacheDataAudio=this.j.TK.audio,I.headerCacheDataVideo=this.j.TK.video);this.j.la && (I.packageId=this.j.la.Bc.up);this.j.la && this.j.la.Bc.Ro && (I.hasChoiceMap=!0);this.config().eRa && (I.forceL3WidevineCdm=!0);this.lGb(O);this.kGb();this.QUa(this.j,I);this.Gka(this.j,I);this.jF(this.j,I);this.eB(this.j,I,this.Oda);this.Hka(I);this.Ika(I);this.Jka(I);this.UUa(I);this.PUa(I);this.XUa(I);this.VUa(I);this.Od(D.Ue.k7,H,G.Ri | G.NH | G.qh | G.aP | G.AC | G.KW | G.J9,I);};c.prototype.Vpa=function(H,J){J={playdelay:n.Mk(H),reason:this.Fy,intrplayseq:this.t3 - 1,skipped:J};"repos" === this.Fy && (J.prstate=!0 === this.j.paused.value?"paused":"playing");this.jF(this.j,J);this.Od(D.Ue.Vpa,!1,G.Ri | G.NH | G.qh,J);"rebuffer" !== this.Fy && "force_rebuffer" !== this.Fy || this.j.Tn.Okb(Number(n.Mk(H)));};c.prototype.lfa=function(H,J,I,M){H={moff:n.yx(I),moffms:n.Mk(I),vbitrate:J.bitrate,vbitrateold:H.bitrate,vdlid:J.Ld,vdlidold:H.Ld,vheight:J.height,vheightold:H.height,vwidth:J.width,vwidthold:H.width,bw:M};this.jF(this.j,H);this.eB(this.j,H);this.Od(D.Ue.lfa,!1,G.qh,H);};c.prototype.HQb=function(H,J,I){H={moff:n.yx(I),moffms:n.Mk(I),vdlidold:H.Ld,vbitrateold:H.bitrate};this.jF(this.j,H);this.eB(this.j,H);this.iF(H,J,this.j.Jg.value && this.j.Jg.value.stream);this.Od(D.Ue.IQb,!1,G.qh,H);};c.prototype.CNb=function(){var H,J;H={waittime:n.Mk(this.j.tja()),abortedevent:"startplay",browserua:y.Yp,browserhref:location.href,trackid:this.j.lk,prstate:this.ES(),paustate:this.j.paused.value};this.c2(H,"endplay");this.Dq.UR && (H.eventlist_version=1,H.eventlist=this.AF.jTa(this.j));this.j.im && this.j.im.initBitrate && (H.initvbitrate=this.j.im.initBitrate);try{J=d.DS();J && (H.pdltime=J);n.Jb(H,this.j.Sc,{prefix:"sm_"});}catch(I){}this.Eka(H,!0);this.XUa(H);this.Lka(H);this.SUa(H);this.iF(H,this.j.uf.value,this.j.ql.value);this.WUa(this.j,H);this.Gka(this.j,H);this.Od(D.Ue.E_a,!1,G.Ri | G.qh | G.AC | G.aP,H);};c.prototype.BNb=function(H,J){H={waittime:n.Mk(H),abortedevent:"resumeplay",browserua:y.Yp,resumeplayreason:J};this.j.im && this.j.im.initBitrate && (H.initvbitrate=this.j.im.initBitrate);this.iF(H,this.j.uf.value,this.j.ql.value);this.Od(D.Ue.E_a,!1,G.Ri | G.qh,H);};c.prototype.BUb=function(H,J){H={newstate:J?"Paused":"Playing",oldstate:H?"Paused":"Playing"};this.jF(this.j,H);this.eB(this.j,H);this.iF(H,this.j.If.value && this.j.If.value.stream,this.j.Jg.value && this.j.Jg.value.stream);this.Od(D.Ue.DUb,!1,G.Ri | G.qh,H);};c.prototype.Vka=function(H,J,I){var M,N;H=n.Jb({vdlid:this.j.uf.value.Ld,playingms:H,pausedms:J,intrplayseq:this.t3++,prstate:this.ES(),paustate:this.j.paused.value},I);this.c2(H,"intrplay");J=this.j.Hc[g.Cc.jb.Bb].value;I=this.j.Hc[g.Cc.jb.Pb].value;H.cdnid=H.vcdnid=J && J.id;H.acdnid=I && I.id;H.locid=this.qT && this.qT.cma;H.loclv=this.qT && this.qT.KWa;H.avtp=this.hC.En().FG;H.mediabuffered=null === (M=this.j.Xf) || void 0 === M?void 0:M.i2();if(null === (N=this.j.Ga) || void 0 === N?0:N.PK())(this.Eka(H,!0),this.g3(H),this.TUa(H));try{n.Jb(H,this.j.I2(),{prefix:"vd_"});}catch(K){}this.jF(this.j,H);this.eB(this.j,H);this.iF(H,this.j.If.value && this.j.If.value.stream,this.j.Jg.value && this.j.Jg.value.stream);this.Od(D.Ue.Vka,!1,G.Ri | G.qh,H);};c.prototype.Epa=function(H,J,I){H={moffold:n.yx(H),reposseq:this.t1a++,prstate:this.ES(),paustate:this.j.paused.value};this.eB(this.j,H);this.iF(H,I && I.stream,J && J.stream);this.Od(D.Ue.Epa,!1,G.Ri | G.qh,H);};c.prototype.zmb=function(){this.Od(D.Ue.Cmb,!1,G.Ri | G.qh,{switchdelay:n.Mk(this.getTime() - this.sGb),newtrackinfo:this.j.Yc.value.trackId,oldtrackinfo:this.Bla.trackId});};c.prototype.xob=function(H,J){var I,M;I=J.serverid;M={locid:J.location,loclv:J.locationlv,selocaid:I,selcdnid:I,selocaname:J.servername};M.mediatype=J.mediatype;M.selreason=J.selreason || "unknown";M.seldetail=J.seldetail;M.cdnbwdata=JSON.stringify([{id:I}]);H && (M.oldlocid=H.cma,M.oldloclv=H.KWa,M.oldocaid=H.xSb,M.oldocaname=H.oG);this.Od(D.Ue.MMa,!1,G.KW,M);};c.prototype.h4a=function(H){var J,I;J={};J.trigger=H;try{I=this.j.mja();J.subtitleqoescore=this.j.Kp.aCb(I);J.metrics=JSON.stringify(this.j.Kp.Gja(I));}catch(M){this.log.error("error getting subtitle qoe data",M);}this.Od(D.Ue.nVb,!1,G.Ri | G.AC | G.NH,J,"info");};c.prototype.transition=function(H){this.eB(this.j,H);this.Od(D.Ue.transition,!1,0,H);};c.prototype.LBb=function(H,J){if(H=H.pS())if(J=H[J])return J.Zb;};c.prototype.QUa=function(H,J){H.Va.jj && (J.isBranching=!0);};c.prototype.Gka=function(H,J){var I,M;M=(null === (I=H.la) || void 0 === I?void 0:I.GVa) || "videopreparer" === H.oE;J.cachedManifest=H.rA;J.cachedLicense=H.oE;J.usedldl=this.config().bK?M.toString():"not_capable";};c.prototype.jF=function(H,J){var I,M;if(this.config().dEb){I=H.nja();M=H.ha.la;I && M && (J.segment=I,M=H.TA(),J.segmenttime=M,H=this.LBb(H,I),null !== M && void 0 !== H && (J.segmentoffset=M - H));}};c.prototype.eB=function(H,J,I){J.pxid=H.uy;(void 0 === I?0:I) && (J.playgraph_trace=H.M_a);};c.prototype.TUa=function(H){var J,I;J=this.j.nka;I=J && J.UQb;J && J.KUa && (H.htwbr=J.KUa,H.pbtwbr=J.y5,H.hptwbr=J.EDb);J && J.V1a && (H.rr=J.V1a,H.ra=J.qPb);J && I && 0 < (I.length || 0) && (H.qe=JSON.stringify(I));};c.prototype.Lka=function(H){var J,I,M,N,K;J=this;I=this.j.xg && this.j.xg.value && this.j.xg.value.streams;if(I){M=new Set();N=new Set();K=new Set();I.forEach(function(O){O=O.mg;M.add(O);N.add(O.replace(J.PGa,""));(O=O.match(J.PGa)) && 0 < O.length && K.add(O[1]);});H.videoProfiles=[].concat(ba(M));H.videoProfile=0 === N.size?"none":[].concat(ba(N))[0];H.videoProfileLevels=[].concat(ba(K));}};c.prototype.SUa=function(H){var J,I,M;try{J=this.Qd.createElement("canvas");I=J.getContext("webgl") || J.getContext("experimental-webgl");if(I){M=I.getExtension("WEBGL_debug_renderer_info");M && (H.WebGLRenderer=I.getParameter(M.UNMASKED_RENDERER_WEBGL),H.WebGLVendor=I.getParameter(M.UNMASKED_VENDOR_WEBGL));}}catch(N){}};c.prototype.eEb=function(H){H.switchAwaySummary={vsa:this.Ji.summary.H6a,vsb:this.Ji.summary.I6a,vsbt:this.Ji.summary.J6a,asa:this.Ji.summary.uLa,asb:this.Ji.summary.vLa,asbt:this.Ji.summary.wLa};};c.prototype.uha=function(H){var J,I,M,N,K,O,R,L,Q,va;J=this;M=this.C_a();this.c2(M,"endplay");M.browserua=y.Yp;M.prstate=this.ES();M.paustate=this.j.paused.value;M.muted=this.j.muted.value;this.j.Uy && "downloaded" === this.j.Uy.E2() && (M.trickplay_ms=this.j.XV.offset,M.trickplay_res=this.j.XV.E1a);this.config().m6a && (M.rtinfo=this.j.EBb());if(this.config().Dpa){N=this.hC.En().FG;void 0 !== M.avtp?M.avtp_retired=N:M.avtp=N;N=this.k0.jzb().map(function(la){return {cdnid:la.tA,avtp:la.FG,tm:la.$ga};});void 0 != M.cdnavtp?M.cdnavtp_retired=N:M.cdnavtp=N;(null === (I=this.j.Ga) || void 0 === I?0:I.PK()) && this.g3(M);}this.RUa(M);M.endreason=H?"error":this.j.Ob.value === B.ob.Ct?"ended":"stopped";I=this.Sn;this.ZDb(I);I && n.Jb(M,I,{prefix:"pi_"});I=this.j.Xj;H && I && q.bxa(I.errorCode) && (K="info");try{n.Jb(M,this.j.Sc,{prefix:"sm_"});}catch(la){}this.j.Dka && (M.inactivityTime=this.j.Dka);this.Eka(M,"info" !== K && H);this.TUa(M);if(this.j.kE){I=this.j.kE;N=this.config().jE;O=this.j.loadTime;R={iv:N,seg:[]};L=function(la,S,da){return 0 === S || void 0 === da[S - 1]?la:la - da[S - 1];};Q=I.Tw.map(L);L=I.$y.map(L);for(var P,ha=0;ha < Q.length;ha++){if(Q[ha] || L[ha])P?(P.ams.push(Q[ha]),P.vms.push(L[ha])):P={ams:[I.Tw[ha]],vms:[I.$y[ha]],soffms:I.startTime + ha * N - O};ha !== Q.length - 1 && Q[ha] && L[ha] || !P || (R.seg.push(P),P=void 0);}M.bt=JSON.stringify(R);}if(this.j.q4 && 0 < this.j.q4.length){va=[];this.j.q4.forEach(function(la){va.push({soffms:la.time - J.j.loadTime,maxvb:la.maxvb,maxvb_old:la.maxvb_old,spts:la.spts,reason:la.reason});});M.maxvbevents=va;}H && this.SUa(M);this.h4a("endplay");this.config().Us && this.Kka(M);this.Lka(M);this.QUa(this.j,M);this.Gka(this.j,M);this.jF(this.j,M);this.eB(this.j,M,this.Oda);this.Hka(M);this.Ika(M);this.Jka(M);this.UUa(M);this.$Db(M);this.PUa(M);this.bEb(M);this.aEb(M);this.eEb(M);this.VUa(M);this.Od(D.Ue.uha,H,G.Ri | G.NH | G.qh | G.AC | G.aP | G.J9,M,K);};c.prototype.ugb=function(H){var J;J=[];return H?Object.keys(H).map(function(I){return +I;}):J;};c.prototype.Yub=function(){var H,J;H=this;if(this.j.io && this.j.Mo){J=[];this.j.io.concat(this.j.Mo).forEach(function(I){I.streams.forEach(function(M){J.push({dlid:M.Ld,type:M.type,bitrate:M.bitrate,vmaf:M.mb,cdn_ids:H.ugb(M.qx)});});});return JSON.stringify(J);}};c.prototype.wob=function(){var J,I,M;function H(N,K){var O,R,L;O=N.cdnId;R=M[O];L=N.vmaf;R || (R={cdnid:O,dls:[]},M[O]=R,I.push(R));k.PJ(N.bitrate);k.PJ(N.duration);O={bitrate:N.bitrate,tm:y.ii(N.duration)};L && (k.PJ(N.vmaf),O.vf=L);O[K]=n.ke(N.downloadableId);R.dls.push(O);}J=this.j.Tn.Jyb();I=[];M={};J.audio.forEach(function(N){H(N,"adlid");});J.video.forEach(function(N){H(N,"dlid");});return JSON.stringify(I);};c.prototype.C_a=function(){var H,J,I,M,N,K,O,R,L,Q,P,ha,va;H=this.j.Tn;J={totaltime:n.yx(H.JS()),totalcontenttime:n.yx(H.UTa()),cdndldist:this.wob(),reposcount:this.t1a,intrplaycount:this.t3};try{I={numskip:0,numlowqual:0};M=this.j.Xf;N=M.QA();A.pa(N) && (J.totfr=N,I.numren=N);N=M.WE();A.pa(N) && (J.totdfr=N,I.numrendrop=N);N=M.rS();A.pa(N) && (J.totcfr=N,I.numrenerr=N);N=M.s2();A.pa(N) && (J.totfdl=N);J.playqualvideo=JSON.stringify(I);K=this.j.uf.value;K && (J.videofr=K.framerate.toFixed(3));O=H.CRa();O && (J.abrdel=O);R=H.mDb() && H.Pyb();R && (J.tw_vmaf=R);L=H.Oyb();L && n.Jb(J,L);J.rbfrs=this.t3;J.maxbitrate=this.maxBitrate;J.maxresheight=this.HXa;Q=this.j.UA();for(H=0;H < Q.length;H++){P=Q[H];ha=this.Yn.FL.jt(P);if(ha){k.Za(va);J.maxbitrate=va?va.bitrate:0;J.maxresheight=va?va.height:0;J.bitratefilters=ha.join("|");break;}va=P;}this.j.Uy && (J.trickplay=this.j.Uy.E2());null !== this.j.Kp.TLa && (J.avg_subt_delay=this.j.Kp.TLa);}catch(la){this.log.error("Exception reading some of the endplay fields",la);}n.Jb(J,this.j.I2(),{prefix:"vd_"});return J;};c.prototype.getTime=function(){return this.Ia.Tb().da(p.ia);};c.prototype.oEb=function(){var H,J,I;H=this;I=[];this.config().jJb && (this.config().kJb.forEach(function(M){I.push(lb.setTimeout(H.A4,M));}),this.config().ZXa && (J=lb.setInterval(this.A4,this.config().ZXa)),this.D5a=function(){I.forEach(function(M){lb.clearTimeout(M);});J && lb.clearInterval(J);});};c.prototype.Kka=function(H){var J;try{J=this.ed.getStats();H.pr_cache_size=JSON.stringify(J.cache);H.pr_stats=JSON.stringify(J.nyb);}catch(I){}};c.prototype.Hka=function(H){this.log.debug("httpstats",this.qf.rd);n.Jb(H,this.qf.rd,{prefix:"http_"});};c.prototype.Eka=function(H,J){var I,M,N;I=this.config().COa && !(this.ca % this.config().COa);M=this.j.Ga;N=null === M || void 0 === M?void 0:M.ah();I && N && (H.ASEstats=JSON.stringify(M.ZK(J)));};c.prototype.g3=function(H){Object.assign(H,this.j.Ga.tb.gCb());};c.prototype.Ika=function(H){var J;try{J=y.Kt.memory;A.XVa(J) && (H.totalJSHeapSize=J.totalJSHeapSize,H.usedJSHeapSize=J.usedJSHeapSize,H.jsHeapSizeLimit=J.jsHeapSizeLimit);}catch(I){}};c.prototype.Jka=function(H){var J,I,M,N,K;if(this.config().Ovb){K=null === (J=null === y.Ve || void 0 === y.Ve?void 0:y.Ve.connection) || void 0 === J?void 0:J.effectiveType;J=null === y.Ve || void 0 === y.Ve?void 0:y.Ve.deviceMemory;K && (H.effectiveType=K);J && (H.deviceMemory=J);}(K=null === (I=null === y.Ve || void 0 === y.Ve?void 0:y.Ve.connection) || void 0 === I?void 0:I.type) && (H.connectionType=K);I=null === (M=null === y.Ve || void 0 === y.Ve?void 0:y.Ve.connection) || void 0 === M?void 0:M.downlink;"number" === typeof I && isFinite(I) && (H.downlink=I);M=null === (N=null === y.Ve || void 0 === y.Ve?void 0:y.Ve.connection) || void 0 === N?void 0:N.rtt;"number" === typeof M && isFinite(M) && (H.rtt=M);};c.prototype.UUa=function(H){var J;J=this.j.Ee;this.config().rob && J && !this.config().Mp && (J=this.j.oKb(J.q6b()),H.keystatuses=J,this.log.trace("keystatuses",J));};c.prototype.PUa=function(H){var J;try{if(this.config().fR){J=this.j.Vyb();H.battery=J;this.log.trace("batterystatuses",J);}}catch(I){}};c.prototype.$Db=function(H){this.j.R0 && (H.dqec=this.j.R0);};c.prototype.ZDb=function(H){this.j.j0 && n.Jb(H,{cast_interaction_counts:this.j.j0.B6b()});};c.prototype.XUa=function(H){var J;J=this.j.Va.Zn;J && J.isUIAutoPlay && (H.isUIAutoPlay=!0);};c.prototype.VUa=function(H){var J,I,M;if(null === (I=null === (J=this.j.Ee) || void 0 === J?void 0:J.mediaKeys) || void 0 === I?0:I.keySystem)H.keysys=this.j.Ee.mediaKeys.keySystem;else if(null === (M=this.j.Ee) || void 0 === M?0:M.Eq)H.keysys=this.j.Ee.Eq();};c.prototype.aEb=function(H){this.Jha && (H.externaldisplay=this.Jha.$R);};c.prototype.bEb=function(H){this.oC && this.oC.Rb && (H.media_capabilities_smooth=this.oC.Rb.smooth,H.media_capabilities_efficient=this.oC.Rb.powerEfficient,H.media_capabilities_bitrate=this.oC.Rb.bitrate,H.media_capabilities_height=this.oC.Rb.height,H.media_capabilities_width=this.oC.Rb.width);};c.prototype.iF=function(H,J,I){I && (H.adlid=I.Ld,H.abitrate=I.bitrate);J && (H.vdlid=J.Ld,H.vbitrate=J.bitrate);};c.prototype.RUa=function(H){var J,I;if(this.j.sR){J=this.j.sR;J.B0 && (H.controllerESN=J.B0);J.fqb && (H.controllerUiVer=J.fqb);if(J.eqb)try{I=JSON.parse(J.eqb);H.controllerGroupNames=I;}catch(M){this.log.error("Exception parsing controller group names",M);}}};c.prototype.kGb=function(){void 0 === this.Jha && (this.Jha=this.Kha.Wwb());};c.prototype.lGb=function(H){void 0 === this.oC && void 0 !== H && (this.oC=this.Tma.Pha(H));};c.prototype.c2=function(H,J){(J=this.j.Cx(J)) && Object.entries(J).forEach(function(I){var M;M=Z(I);I=M.next().value;M=M.next().value;H[I]=M;});};c.prototype.Od=function(H,J,I,M,N){this.Hkb(M,this.j,J,I);H=this.zT.vu(H,N || (J?"error":"info"),M,this.Yn);this.Bl.Od(H);};c.prototype.Hkb=function(H,J,I,M){var N,K,O,R,L,Q,P,ha,va,la;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (H.devmod=nrdp.device.deviceModel);J.Tj && (H.pbcid=J.Tj);J.Di && (H.playbackcontextid=J.Di);M & G.Ri && (k.Za(!H || void 0 === H.moff),0 <= J.mediaTime.value && (H.moff=n.yx(J.mediaTime.value),H.moffms=n.Mk(J.mediaTime.value)));if(M & G.NH){Q=J.Hc[g.Cc.jb.Bb].value;P=J.Hc[g.Cc.jb.Pb].value;ha=J.Jg.value;va=J.If.value;Q && (H.cdnid=Q.id,H.cdnname=Q.name);P && (H.acdnid=P.id,H.acdnname=P.name);if(null === ha || void 0 === ha?0:ha.stream)(H.adlid=ha.stream.Ld,H.abitrate=ha.stream.bitrate);if(null === va || void 0 === va?0:va.stream)(H.vdlid=va.stream.Ld,H.vbitrate=va.stream.bitrate,H.vheight=va.stream.height,H.vwidth=va.stream.width);}M & G.qh && (null === (N=J.Ga) || void 0 === N?0:N.ah()) && (H.abuflbytes=null !== (K=H.abuflbytes) && void 0 !== K?K:J.nea(),H.abuflmsec=null !== (O=H.abuflmsec) && void 0 !== O?O:J.LQ(),H.vbuflbytes=null !== (R=H.vbuflbytes) && void 0 !== R?R:J.Jsa(),H.vbuflmsec=null !== (L=H.vbuflmsec) && void 0 !== L?L:J.gW());if(M & G.aP){Object.assign(H,F.xja());try{la=J.Se.getBoundingClientRect();H.rendersize=la.width + "x" + la.height;H.renderpos=la.left + "x" + la.top;}catch(S){}}M & G.AC && (N=y.Ve.hardwareConcurrency,0 <= N && (H.numcores=N),N=this.Yn.iha) && (K=N.Qyb(),H.droppedFrames=JSON.stringify(K),N=N.CS(this.config().hvb),n.Wd(N,function(S,da){H["droppedFramesP" + S]=JSON.stringify(da);}));if(M & G.KW)try{J.Hk && (H.cdninfo=JSON.stringify(J.Hk.map(function(S){return {id:S.id,nm:S.name,rk:S.tg,wt:S.location.weight,lv:S.location.level};})));}catch(S){}I && M & G.J9 && (k.Za(J.Xj),(I=J.Xj)?H=Object.assign(H,F.lja(this.platform.fp,I)):H.errorcode=q.J.Zl,H.errorcode === this.platform.fp + q.J.SBa && (H.lastSyncWithVideoElement=this.getTime() - J.LV));};b.Pza=c;(function(H){H[H.Ri=1]="MOFF";H[H.NH=2]="PRESENTEDSTREAMS";H[H.qh=4]="BUFFER";H[H.aP=8]="SCREEN";H[H.AC=16]="CPU";H[H.KW=32]="CDN";H[H.J9=64]="FATALERROR";})(G || (G={}));},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.eX=void 0;c=a(48);b.eX=function(g,l){this.Tub=g;this.size=l.ila()?c.nb:l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jwa="DownloadReportBuilderSymbol";},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.iwa=void 0;r=a(0);g=a(181);l=a(81);m=a(22);d=a(2);f=a(19);h=a(10);k=a(14);n=a(1);a=a(13);c.prototype.construct=function(q,t){var u,w,v;u=this;w={};q.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});v=[];m.Wd(w,function(x,y){v.push(u.sCb(y,t));});return {urls:v};};c.prototype.sCb=function(q,t){var u,w,v,x;u=this;w=q[0];v={url:w.url,bitrate:w.bitrate,cdnid:k.Ff(w.Hc)?w.Hc.id:w.Hc,dltype:w.Jub,id:w.Ld};x={};q.forEach(function(y){var z;z=u.fFb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});m.Wd(x,function(y,z){"fail" === y?v.failures=u.Xzb(z,t):"success" === y && (v.downloads=u.Mzb(z,t));});return v;};c.prototype.Mzb=function(q,t){var u,w,v;u=this;w={};q.forEach(function(x){var y;y=x.opb;w[y] || (w[y]=[]);w[y].push(x);});v=[];m.Wd(w,function(x,y){var z;z=[];y.forEach(function(B){z.push(B);u.OEb(B) && (v.push(u.bSa(z,t,x)),z=[]);});0 < z.length && v.push(u.bSa(z,t,x));});return v;};c.prototype.bSa=function(q,t,u){var w,v,x,y,B;w=q.sort(function(A,E){return A.Cl.Lh < E.Cl.Lh?-1:A.Cl.Lh > E.Cl.Lh?1:0;});v=w[0].Cl;x=v.Cp;y=v.Lh;v=v.Vn;for(var z=1;z < q.length;z++){B=q[z].Cl;B.Cp < x && (x=B.Cp);B.Lh < y && (y=B.Lh);B.Vn > v && (v=B.Vn);}z=this.vBb(w);B=w[w.length - 1];return {time:x - t,tcpid:u?parseInt(u):-1,tresp:y - x,first:z,ranges:this.wBb(w,z),dur:v - y,trace:this.Dx(q),status:this.E2(B)};};c.prototype.vBb=function(q){var t;t=0;q.forEach(function(u){u.Xq && (t=h.mo(t,u.Xq[0]));});return t;};c.prototype.wBb=function(q,t){var u;u=[];q.forEach(function(w){w.Xq?u.push([w.Xq[0] - t,w.Xq[1] - t]):u.push([0,-1]);});return u;};c.prototype.Dx=function(q){var t,u;t=[];q.forEach(function(w){var v;w=w.Cl;if(u){v=w.Cp - u.Vn;0 < v && t.push([v,-2]);v=h.Vm(u.Vn,w.Cp);v=w.Lh - v;0 < v && t.push([v,-3]);}t.push([w.Vn - w.Lh,w.Tfa || 0]);u=w;});return t;};c.prototype.OEb=function(q){if(q.ka === d.K.mz || q.ka === d.K.GC)return !0;};c.prototype.E2=function(q){if(q.W)return "complete";if(q.ka === d.K.mz)return "abort";if(q.ka === d.K.GC)return "stall";f.Za(!1,"download status should never be: other");return "other";};c.prototype.Xzb=function(q,t){var u,w;u=this;w=[];q.forEach(function(v){var x;x=v.Cl;v={time:x.Lh - t,tresp:x.Lh - x.Cp,dur:x.Vn - x.Lh,range:v.Xq,reason:u.yBb(v),httpcode:v.hj,nwerr:g.jja(v.ka)};w.push(v);});return w;};c.prototype.yBb=function(q){return q.hj || q.ka === d.K.wO?"http":q.ka === d.K.yO?"timeout":"network";};c.prototype.fFb=function(q){return q.W || void 0 === q.W || q.ka === d.K.mz || q.ka === d.K.GC?!1:!0;};c.prototype.iqb=function(q){var t,u,w,v,x,y;t=q.request;u=t.stream;w=t.track;v=t.url;x=this.Jzb(w,v);switch(x){case l.Ph.audio:case l.Ph.video:y=t.stream.Ld;break;case l.Ph.F7:case l.Ph.esa:y=w.Ld;}q={bitrate:u && u.bitrate,Jub:x,Ld:y,Cl:q.Cl,Hc:t.Hc,url:v,Oe:q.Oe,hj:q.hj,ka:q.ka,W:q.W,opb:this.Iwb(q)};void 0 !== t.offset && void 0 != t.length && (q.Xq=[t.offset,t.offset + t.length - 1]);return q;};c.prototype.Jzb=function(q,t){if(q)return q.type;if(0 <= t.indexOf("netflix.com")){if(0 <= t.indexOf("nccp"))return "nccp";if(0 <= t.indexOf("api"))return "api";}return "other";};c.prototype.Iwb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(t){return 0 == t.indexOf("port=");}).map(function(t){return t.split("=")[1];})[0])?m.ke(q):q;};p=c;p=r.__decorate([n.O(),r.__param(0,n.l(a.Uc))],p);b.iwa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ga="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vxa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kya="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fCa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,f,h,k,n,p;function c(q){var t;q=new h.gO(q);if(1481462272 != q.Bp())throw Error("Invalid header");t={XMR:{Version:q.Bp(),RightsID:q.nv(16)}};g(q,t.XMR,q.buffer.length);return t;}function g(q,t,u){var w,v,x,y,z;for(;q.position < u;){w=q.Kg();v=q.Bp();v-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:l(w)};z=t[x];z?p.isArray(z)?z.push(y):(t[x]=[],t[x].push(z),t[x].push(y)):t[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:g(q,y,q.position + v);break;case 5:y.Reserved1=q.Kg();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Kg();y.MinimumAnalogVideoOutputProtectionLevel=q.Kg();y.Reserved2=q.Kg();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Kg();break;case 10:y.Reserved=q.nv(16);y.SymmetricCipherType=q.Kg();y.AsymmetricCipherType=q.Kg();v=q.Kg();y.EncryptedKeyLength=v;w=q.nv(v);y.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=q.nv(2);v=q.Kg();w=q.nv(v);y.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=q.Kg();break;case 18:y.BeginDate=q.Bp();y.EndDate=q.Bp();break;case 42:y.CurveType=q.nv(2);v=q.Kg();w=q.nv(v);y.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=q.Bp();break;case 50:y.Sequence=q.Bp();break;case 51:y.LicenseProcessingIndicator=q.Kg();break;case 52:y.MinimumSecurityLevel=q.Kg();break;case 57:y.PlayEnablerType=m(q.nv(16));break;case 85:break;default:y.OtherData=q.nv(v);}}}function l(q){return "0x" + q.toString(16);}function m(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.vtb=b.wtb=b.utb=b.ttb=b.stb=void 0;d=a(12);f=a(6);h=a(157);k=a(149);n=a(263);p=a(14);b.stb=function(q,t,u){switch(t){case d.hX:q && (q=f.WLa(q),n.Wsa(q,function(w){w.W && (w=w.object) && (w=k.ZRa(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=k.d_a(w)) && (w=f.sq(w)) && (w=c(w)) && u(w);}));}};b.ttb=c;b.utb=g;b.wtb=l;b.vtb=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RCa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uCa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kCa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vDa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.caa={oT:"keepAlive",splice:"splice"};b.qCa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xwa="DxDisplaySymbol";},function(r,b,a){var g,l,m,d,f;function c(h,k,n){this.Dd=h;this.is=k;this.prefix=n;this.GU=this.isVisible=!1;this.xMa=new d.qGa(k);}Object.defineProperty(b,"__esModule",{value:!0});b.eP=b.jH=b.Oua=b.Nua=b.Mua=void 0;r=a(0);g=a(1);l=a(26);m=a(25);d=a(1110);f=a(10);b.Mua="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.Nua="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.Oua="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.jH="";c.prototype.show=function(){this.isVisible || (this.Wpb(),this.GJ && f.ye.body.appendChild(this.GJ),this.Se && f.ye.body.appendChild(this.Se),this.XQ && f.ye.body.appendChild(this.XQ),this.yG && f.ye.getElementsByTagName("head")[0].appendChild(this.yG),this.isVisible=!0,this.refresh());};c.prototype.Hq=function(){this.isVisible && (this.Se && f.ye.body.removeChild(this.Se),this.XQ && f.ye.body.removeChild(this.XQ),this.GJ && f.ye.body.removeChild(this.GJ),this.yG && f.ye.getElementsByTagName("head")[0].removeChild(this.yG),this.yG=this.NV=this.GJ=this.XQ=this.Se=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.Hq():this.show();};c.prototype.rWb=function(){(this.GU=!this.GU) || this.refresh();};c.prototype.czb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.Wpb=function(){var h;h=this;this.yG=f.ye.createElement("style");this.yG.type="text/css";this.yG.innerHTML=this.czb(this.prefix);this.XQ=this.Dd.createElement("div",b.Mua,void 0,{"class":this.prefix + "-display-blur"});this.Se=this.Dd.createElement("div",b.Nua,void 0,{"class":this.prefix + "-display"});this.GJ=this.Dd.createElement("div",b.Oua,void 0,{"class":this.prefix + "-display"});this.URa().forEach(function(k){return h.GJ.appendChild(k);});};c.prototype.Zpb=function(h){h=this.Dd.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var k=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < k.length;n++){k[n].addEventListener("click",function(p){var q,t;if(p=p.target.parentElement){q=p.classList;if(q.contains("open")){q.remove("open");try{t=p.querySelectorAll(":scope .open");for(p=0;p < t.length;p++){t[p].classList.remove("open");}}catch(u){}}else q.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.GU?Promise.resolve():this.Z0a().then(function(k){if(k && (k=h.Zpb(k),h.Se)){h.NV && (h.Se.removeChild(h.NV),h.NV=void 0);h.NV=k;h.Se.appendChild(h.NV);k=h.Se.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < k.length;++n){k[n].addEventListener("click",h.T1a);}(k=h.Se.querySelector("#" + h.prefix + "-display-close-btn")) && k.addEventListener("click",function(){h.toggle();});}});};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.yf)),r.__param(1,g.l(m.xf)),r.__param(2,g.Ki())],a);b.eP=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Awa="DxManagerSymbol";b.zwa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eza="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rBa="NfCryptoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WGa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dDa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aEa="PreparerManifestFetcherSymbol";b.$Da="PreparerLicenseFetcherSymbol";b.ZDa="PreparerLegacyLicenseFetcherSymbol";},function(r,b){function a(g,l,m){var d,f,h,k;d=[];g.forEach(function(n){-1 == d.indexOf(n.mg) && d.push(n.mg);});f=null;h=null;l.forEach(function(n){null === f?h=f=n.bitrate:h < n.bitrate?h=n.bitrate:f > n.bitrate && (f=n.bitrate);});k=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && h && (p.ranges.push({min:f,max:h}),m && (p.disallowed=m.filter(function(q){return q.stream.mg === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.d1};})),k.push(p));});return k;}function c(g,l){var m;m=void 0;g=g.filter(function(f){var h;h=l(f);h && (m=m || [],m.push({stream:f,d1:h}));return !h;});for(var d=0;d < g.length;d++){g[d].lower=g[d - 1];g[d].wDb=g[d + 1];}return {KA:g,Aub:m};}Object.defineProperty(b,"__esModule",{value:!0});b.cPa=b.Xr=b.Ssb=b.Oja=void 0;b.Oja=function(g,l){l=c(g,l);return a(g,l.KA,l.Aub);};b.Ssb=a;b.Xr=c;b.cPa=function(g){if(g.lower && 1080 < g.height)return ["Prefetch UHD"];};},function(r,b,a){var g,l,m;function c(d){this.mM=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vaa=b.ODa=void 0;r=a(0);g=a(1);l=a(185);m=a(152);c.prototype.mXa=function(d){var f,h;f=this;if(d.Ke.key.La)return Promise.resolve(d.Ke.key.La);h=d.Ke.key.aa;return d.Ke.mW.ps(h).pr.then(function(k){k=k.la;return k.Ro?f.fx(k.Ro):f.YB(h);});};c.prototype.fx=function(d){var f;f=new m.SH();f.pV(d.initialSegment).Tqa(d.transitionType).U2a(Object.keys(d.segments).reduce(function(h,k){var n;n=d.segments[k];h[k]={aa:d.viewableId,Zb:n.startTimeMs,Mc:n.endTimeMs || Infinity,Cg:n.defaultNext || null,Pc:n.transitionHint,js:n.exitZones,next:n.next};return h;},{}));return f.Pj();};c.prototype.YB=function(d){var f,h;f=this.mM.lS(d);h=new m.SH();h.Tqa("lazy").pq(f,{aa:d,Zb:0,Mc:Infinity}).pV(f);return h.Pj();};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.nY))],a);b.ODa=a;b.vaa="PlaygraphResolverSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MAa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HBa="OpenConnectSideChannelSymbol";b.TAa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RAa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oCa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oGa="TransportFactorySymbol";b.iBa="MslTransportSymbol";b.uFa="SslTransportSymbol";},function(r,b,a){var h,k;function c(n){return !(!n || !n.EB && !n.pboc || !n.code && !n.code);}function g(n){return !(!n || !n.$b);}function l(n){return ! !(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.K.ycb;case "STREAM_QUOTA_EXCEEDED":return k.K.Ccb;case "INSUFFICICENT_MATURITY":return k.K.Fcb;case "TITLE_OUT_OF_WINDOW":return k.K.Lcb;case "CHOICE_MAP_ERROR":return k.K.Bcb;case "BadRequest":return k.K.Hcb;case "Invalid_SemVer_Format":return k.K.Gcb;case "RESTRICTED_TO_TESTERS":return k.K.Kcb;case "AGE_VERIFICATION_REQUIRED":return k.K.zcb;case "BLACKLISTED_IP":return k.K.Acb;case "DEVICE_EOL_WARNING":return k.K.S$;case "DEVICE_EOL_FINAL":return k.K.JBa;case "INCORRECT_PIN":return k.K.NBa;case "MOBILE_ONLY":return k.K.Jcb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.K.Icb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.K.Mcb;case "RESET_DEVICE":return k.K.MBa;case "RELOAD_DEVICE":return k.K.LBa;case "EXIT_DEVICE":return k.K.KBa;case "FREE_PREVIEW_ENDED":return k.K.Ecb;default:return k.K.Bxa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.Ec(n,m(p.code),"BadRequest" === p.code?k.KX.g8a:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new h.Ec(n,p.$b,p.od,void 0,p.Xu,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.vMa=b.wMa=b.dyb=b.hyb=b.vm=b.gyb=b.Zka=b.XEb=b.LVa=void 0;h=a(41);k=a(2);b.LVa=c;b.XEb=g;b.Zka=l;b.gyb=m;b.vm=function(n,p){return g(p)?f(n,p):c(p)?d(n,p):l(p)?h.Ec.Z1(n,p):new h.Ec(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.hyb=d;b.dyb=f;b.wMa=function(n,p,q,t,u){var w,v,x,y;w=p.z2a[q];if(void 0 === w)throw {EB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {EB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=p.F3 && w.serviceNonMember?w.serviceNonMember:w.service;if(void 0 === x)throw {EB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=w.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {EB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?n.iBb(t) + "/" + y + "/" + x + "/" + v:n.ZAb(t) + "/" + y + "/" + x + "/" + v + "/" + (void 0 === u?"router":u);};b.vMa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.KKa && p && (q["X-Esn"]=p.Xh);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TCa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vGa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uo=void 0;r=b.uo || (b.uo={});r[r.aY=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.KC=2]="LOADED";r[r.EO=3]="LOAD_FAILED";r[r.IBa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gua="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rDa="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mDa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CEa="RepositionTraceSymbol";b.AEa="RepositionTraceFactorySymbol";},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya;function c(U,ma,ta,Ja,wa,ra,Qa,Pa,Sa,$a,kb,bb,Ra,Wa,gb,db,ob,Bb,Gb,Lb,ac,Vb,Cb,Pb,Tb,lc,Ac,Jd,oe,Kd,dd){var tb,dc;function mc(rb){rb.newValue !== P.ob.cg && rb.newValue !== P.ob.wh && (tb.Ob.removeListener(mc),tb.XK=tb.sa.R6,tb.Hb.bc(P.T.Ps));}function cc(rb){rb.newValue !== P.ob.cg && (tb.Ob.removeListener(cc),tb.D_a=tb.sa.Ne.da(F.ia),tb.Hb.bc(P.T.wp));}tb=this;this.uy=wa;this.eF=ra;this.Ia=Pa;this.tJ=Sa;this.sa=$a;this.Ama=kb;this.Bma=Wa;this.g4=gb;this.ed=db;this.tj=ob;this.Ei=Bb;this.hE=Gb;this.soa=Lb;this.Ok=ac;this.dsa=Vb;this.Bl=Cb;this.Qd=Pb;this.qoa=Tb;this.Hl=lc;this.u1a=Ac;this.iea=Jd;this.AF=oe;this.qJ=Kd;this.j0=dd;this.M_a=[];this.BU={};this.Yc=new t.xc(null);this.xg=new t.xc(null);this.Oc=new t.xc(null);this.Ek=new t.xc(null);this.pt=new t.xc(void 0);this.uf=new t.xc(null);this.ql=new t.xc(null);this.mediaTime=new t.xc(void 0);this.playbackRate=new ya.qDa(1,u.config.Lma);this.qsa=function(rb){return tb.Yc.set(rb.newValue);};this.NXb=function(rb){return tb.xg.set(rb.newValue);};this.KXb=function(rb){return tb.Oc.set(rb.newValue);};this.lXb=function(rb){return tb.Ek.set(rb.newValue);};this.JXb=function(rb){return tb.pt.set(rb.newValue);};this.MXb=function(rb){return tb.uf.set(rb.newValue);};this.mXb=function(rb){return tb.ql.set(rb.newValue);};this.BXb=function(rb){return tb.If.set(rb.newValue);};this.AXb=function(rb){return tb.Jg.set(rb.newValue);};this.wXb=function(rb){return tb.mediaTime.set(rb.newValue);};this.Y7=function(rb){return tb.playbackRate.set(rb.newValue);};this.$h={};this.Tpa=this.Vra=0;this.Hb=new w.Ij();this.iW={};this.O3a=!1;this.state=new t.xc(P.yb.JH);this.Ss=new t.xc(!1);this.paused=new t.xc(!1);this.muted=new t.xc(!1);this.volume=new t.xc(u.config.Jtb / 100);this.Ob=new t.xc(P.ob.cg);this.nf=new t.xc(P.we.Dc);this.rn=new t.xc(P.we.Dc);this.Ql=new t.xc(P.we.Dc);this.Jg=new t.xc(null);this.If=new t.xc(null);this.Rea=new t.xc(null);this.c3=p.iya(this);this.q4=[];this.Hc=[];this.Cea={};this.RR=this.SPa=!1;this.Ha=this.ci=-1;this.zja=function(rb,Ib){var Sb;rb=void 0 === rb?null:rb;return M.pa(rb)?Ib && !tb.Fu(Ib).la?rb:(null === (Sb=tb.Ga) || void 0 === Sb?0:Sb.ah())?tb.Ga.Vo(void 0,rb,Ib):rb:null;};this.mZa=function(){tb.hra();};this.LJ=U;this.addEventListener=this.Hb.addListener;this.removeEventListener=this.Hb.removeListener;this.fireEvent=this.Hb.bc;this.Nda({aa:U,oa:Ja,Va:ta || ({})},u.config.Us?this.ed.Ex(U):void 0,ma);this.log=D.Eh(this);this.HR=Qa(this);this.Vmb=bb(this);this.Se=L.createElement("DIV",q.Faa,void 0,{id:this.H});this.pEb();dc=Ra(F.kh(1));this.Lb=this.log.cga("Playback");this.wNb=d.aDa(this);y.QH.HJb=this;y.QH.dia || (y.QH.dia=this);this.Lb.info("Playback created",this.Hh);this.hma?this.Lb.info("Playback selected for trace playback info logging"):this.Lb.trace("Playback not selected for trace playback info logging");u.config.Us && (this.ed.SCb(this.H),this.addEventListener(P.T.Ps,function(){tb.ed.TCb(tb.H);tb.Oc.addListener(function(){tb.ed.hUa();});tb.Yc.addListener(function(){tb.ed.hUa();});}),this.addEventListener(P.T.Tf,function(){tb.ed.RCb(tb.H);}));this.state.addListener(function(rb){tb.Lb.info("Playback state changed",{From:rb.oldValue,To:rb.newValue});G.Za(rb.newValue > rb.oldValue);});x.df.addListener(x.ym,this.mZa,q.gY);this.mediaTime.addListener(function(){tb.Bxb();dc.dd(function(){return tb.UQa();});});this.Ob.addListener(function(rb){tb.Lb.info("PresentingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:H.vh(tb.mediaTime.value)},tb.Am());});this.Ob.addListener(function(){tb.Ss.set(tb.Ob.value === P.ob.oc);});this.nf.addListener(function(rb){tb.Lb.info("BufferingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:H.vh(tb.mediaTime.value)},tb.Am());});this.rn.addListener(function(rb){tb.Lb.info("AV BufferingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:H.vh(tb.mediaTime.value)},tb.Am());});this.Ql.addListener(function(rb){tb.Lb.info("Text BufferingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:H.vh(tb.mediaTime.value)},tb.Am());});this.Yc.addListener(function(rb){G.Za(rb.newValue);tb.Lb.info("AudioTrack changed",rb.newValue && ({ToBcp47:rb.newValue.hm,To:rb.newValue.trackId}),rb.oldValue && ({FromBcp47:rb.oldValue.hm,From:rb.oldValue.trackId}),{MediaTime:H.vh(tb.mediaTime.value)});});this.Oc.addListener(function(rb){tb.Lb.info("TimedTextTrack changed",rb.newValue?{ToBcp47:rb.newValue.hm,To:rb.newValue.trackId}:{To:"none"},rb.oldValue?{FromBcp47:rb.oldValue.hm,From:rb.oldValue.trackId}:{From:"none"},{MediaTime:H.vh(tb.mediaTime.value)});});this.Hc[l.Cc.jb.Pb]=new t.xc(null);this.Hc[l.Cc.jb.Bb]=new t.xc(null);this.Ob.addListener(cc,q.YC);this.Ob.addListener(mc);this.addEventListener(P.T.Ps,function(){tb.O3a=!0;tb.H3a=tb.Wea();tb.zd("start");tb.o3=tb.If.value.stream.bitrate;});E.iDa(this);y.qo.push(this);u.config.UU && (this.H5=this.qoa(this),this.I5=new B.tDa(this));y.qaa.forEach(function(rb){rb(tb);});this.Ykb=function(){tb.addEventListener(P.T.dG,function(rb){var Ib;rb=rb.cause;rb !== P.Ad.Tv && rb !== P.Ad.bD && (null === (Ib=tb.Ga) || void 0 === Ib?void 0:Ib.stop());});tb.addEventListener(P.T.Ml,function(rb){var Ib,Sb,Bc,Ic,hc,ic,Cc,Jc,Kc;tb.u1a.Ml(rb);Bc=rb.cause;Ic=rb.skip;hc=rb.W4;ic=rb.Nna;Cc=rb.H;rb=rb.Uh;tb.ha.Tn.AKb(ic,hc);if(Bc !== P.Ad.bD && (u.config.Nxb && Bc === P.Ad.YH && tb.Ga.oA(),Bc !== P.Ad.Tv))if(Ic){if(null !== (Ib=tb.Ga) && void 0 !== Ib && Ib.Yg(hc)){tb.Lb.trace("Repositioned. Skipping from " + ic + " to " + hc);Ib=function(Wb){tb.log.error("streamingSession.skipped threw an exception",Wb);Wb=ha.Ec.Z1(C.J.n7a,Wb);tb.yp(Wb.code,Wb);};try{tb.Ga.Zk(hc).then(function(Wb){var ed;Wb.aL || (null === (ed=tb.Ga) || void 0 === ed?void 0:ed.play());}).catch(Ib);}catch(Wb){Ib(Wb);}}else tb.log.error("can skip returned false");}else {tb.Lb.trace("Repositioned. Seeking from " + ic + " to " + hc);try{Jc=tb.wm(Cc).oa;Kc=tb.ISa(Jc);null === (Sb=tb.Ga) || void 0 === Sb?void 0:Sb.Wn(rb,Kc,Jc);}catch(Wb){tb.log.error("streamingSession.seekByContentPts threw an exception",Wb);hc=ha.Ec.Z1(C.J.m7a,Wb);tb.yp(hc.code,hc);}}});};this.playbackRate.addListener(function(){var rb,Ib;if(null === (rb=tb.Ga) || void 0 === rb?0:rb.ah())null === (Ib=tb.Ga) || void 0 === Ib?void 0:Ib.AU();});this.addEventListener(P.T.Yw,function(rb){var Ib;rb.cause == y.maa && (tb.nf.set(P.we.Dc),null === (Ib=tb.Ga) || void 0 === Ib?void 0:Ib.Lp(tb.Xf.lSa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.lDa=void 0;g=a(0);l=a(46);m=a(278);d=a(280);f=a(112);h=a(506);k=a(1160);n=a(1161);p=a(509);q=a(12);t=a(103);u=a(11);w=a(71);v=a(510);x=a(60);y=a(59);z=a(100);B=a(512);A=a(1164);E=a(516);D=a(6);F=a(4);C=a(2);G=a(19);H=a(73);J=a(22);I=a(55);M=a(14);N=a(153);K=a(517);O=a(119);R=a(285);L=a(27);Q=a(114);P=a(15);ha=a(41);va=a(281);la=a(519);S=a(141);da=a(486);ya=a(1167);c.prototype.zd=function(U,ma){ma=void 0 === ma?this.LJ:ma;this.BU[ma].zd(U);};c.prototype.Jx=function(U){this.ha.Jx(U);};c.prototype.pEb=function(){var U;U=this;this.Yc.addListener(function(ma){return U.ha.Yc.set(ma.newValue);});this.xg.addListener(function(ma){return U.ha.xg.set(ma.newValue);});this.Oc.addListener(function(ma){return U.ha.Oc.set(ma.newValue);});this.Ek.addListener(function(ma){return U.ha.Ek.set(ma.newValue);});this.pt.addListener(function(ma){return U.ha.pt.set(ma.newValue);});this.uf.addListener(function(ma){return U.ha.uf.set(ma.newValue);});this.ql.addListener(function(ma){return U.ha.ql.set(ma.newValue);});this.If.addListener(function(ma){return U.ha.If.set(ma.newValue);});this.Jg.addListener(function(ma){return U.ha.Jg.set(ma.newValue);});this.mediaTime.addListener(function(ma){return U.ha.mediaTime.set(ma.newValue);});this.playbackRate.addListener(function(ma){return U.ha.playbackRate.set(ma.newValue);});this.R1a();};c.prototype.R1a=function(){this.ha !== this.tqa && (this.ha.mediaTime.set(this.mediaTime.value),this.ha.playbackRate.set(this.playbackRate.value),this.tt(function(U){return U.Yc;},this.qsa),this.tt(function(U){return U.xg;},this.NXb),this.tt(function(U){return U.pt;},this.JXb),this.tt(function(U){return U.Oc;},this.KXb),this.tt(function(U){return U.Ek;},this.lXb),this.tt(function(U){return U.uf;},this.MXb),this.tt(function(U){return U.ql;},this.mXb),this.tt(function(U){return U.Jg;},this.AXb),this.tt(function(U){return U.If;},this.BXb),this.tt(function(U){return U.mediaTime;},this.wXb),this.tt(function(U){return U.playbackRate;},this.Y7),this.Oc.set(this.ha.Oc.value),this.Yc.set(this.ha.Yc.value,{G_:!0}),this.xg.set(this.ha.xg.value),this.Ek.set(this.ha.Ek.value),this.pt.set(this.ha.pt.value),this.uf.set(this.ha.uf.value),this.ql.set(this.ha.ql.value),this.tqa=this.ha);};c.prototype.tt=function(U,ma){this.tqa && U(this.tqa).removeListener(ma);U(this.ha).addListener(ma);};c.prototype.load=function(U){var ma,ta;ma=this;this.load=function(){};this.O_a=U;if(this.state.value == P.yb.JH){this.Lb.info("Playback loading",this);this.vKb();this.zd("asl_load_start");U=this.tJ;ta=U.endTime;M.vc(U.startTime)?M.vc(ta)?this.zd("asl_ended"):this.zd("asl_in_progress"):this.zd("asl_not_started");this.tJ.yT(function(Ja){ma.zd("asl_load_complete");Ja.W?ma.Yrb():ma.yp(Ja.errorCode || C.J.rya,Ja);});}};c.prototype.VNb=function(){var U;try{if(this.state.value === P.yb.LOADING){U={width:1,height:1,Uda:1};this.UA().forEach(function(ma){U.width * U.height < ma.width * ma.height && (U.width=ma.width,U.height=ma.height,U.Uda=ma.Uda);});this.az=U;this.iE=this.hE.plb({WG:F.Xb(this.V),H:this.H,G5:this.Wr,Va:this.Va}).da(F.ia);this.gea();this.Xsb();}}catch(ma){this.yp(C.J.Lab,{ka:C.K.Ni,gb:J.md(ma)});}};c.prototype.Nda=function(U,ma,ta){var Ja,wa,ra;ma=void 0 === ma?this.eF.zA():ma;ta=void 0 === ta?this.Ia.Tb():ta;Ja=! !u.config.v6a && !(ma % u.config.v6a);wa=U.aa;ra=U.oa;U=U.Va;ma=this.soa(y.QH.index++,wa,ra,U,ma,ta,Ja,this.ha,this.zja);this.BU[wa]=ma;1 < this.ty.length && (ma.AT=this.g4.create(this,ma,!1));ma.FL=new z.WAa(this,ma);return wa;};c.prototype.ISa=function(U){return U?void 0:0;};c.prototype.wm=function(U){return this.BU[U];};c.prototype.Fu=function(U){return this.ty.find(function(ma){return ma.oa === U;}) || this.ha;};c.prototype.mBb=function(U){return this.ty.find(function(ma){var ta,Ja;return (null === (Ja=null === (ta=ma.Ee) || void 0 === ta?void 0:ta.ib) || void 0 === Ja?void 0:Ja.sessionId) === U;}) || this.ha;};c.prototype.kPb=function(U,ma){var ta,Ja;ta=this;ma=void 0 === ma?!0:ma;Ja=this.wm(U);return this.s2a(Ja).then(function(wa){var ra,Qa;if(null === (ra=ta.Ga) || void 0 === ra || !ra.ah())throw new ha.Ec(C.J.V$,C.K.e7a);ta.h0a(wa,Ja);wa=[Ja.ic.Fga,Ja.ic.Iga];ra=!1;try{ra=!(null === (Qa=ta.Ga) || void 0 === Qa || !Qa.ju(Ja.la.Bc,{OG:wa,replace:!1,V:Ja.Va.V,ta:Ja.Va.ta,UF:!0,Bh:!Ja.Tx,QLa:ma,Eea:ta.xR(Ja.H),SDb:!0},Ja.oa));}catch(Pa){throw ha.Ec.Z1(C.J.V$,Pa);}if(!ra)throw new ha.Ec(C.J.V$,C.K.f7a);return Ja.Tx?ta.zb.mj.v1a(Ja):Promise.resolve();}).catch(function(wa){ta.log.error("queueManifest failed",wa);throw ta.tj(wa.code,wa);});};c.prototype.Lyb=function(){if(M.pa(this.Sc.ats) && M.pa(this.Sc.at))return this.Sc.at - this.Sc.ats;};c.prototype.GRa=function(){var U,ma;U=this.gW();ma=this.LQ();return Math.min(U,ma);};c.prototype.AV=function(){this.background || (this.Lb.info("Starting inactivity monitor for movie " + this.H),new v.Nya(this));};c.prototype.close=function(U){U && (this.state.value == P.yb.CLOSED?U():this.addEventListener(P.T.closed,function(){U();}));this.hra();};c.prototype.kd=function(U,ma,ta){U=this.tj(U,ma,ta);this.sE(U,void 0);};c.prototype.sE=function(U,ma){var ta,Ja,wa,ra;ta=this;if(this.state.value == P.yb.JH)this.Xj || (this.Xj=U,this.load());else {ma && (this.state.value == P.yb.CLOSED?ma():this.addEventListener(P.T.closed,function(){ma();}));Ja=function(){ta.hra(U);};wa=u.config.ROa && U && u.config.ROa[U.errorCode];ra=-1;M.Sx(wa) && (ra=J.ke(wa));this.Lb.error("Fatal playback error",{Error:"" + U,HandleDelay:"" + wa});0 <= ra?setTimeout(Ja,ra):Ja();}};c.prototype.YV=function(){this.Hb.bc(P.T.YV);};c.prototype.oq=function(U,ma){ma=void 0 === ma?this.oa:ma;this.M_a.push(this.Ia.Tb().da(F.ia) + "-" + ma + "-" + U);};c.prototype.Oxb=function(){this.UQa();};c.prototype.nja=function(){var U;if(null === (U=this.Ga) || void 0 === U?0:U.ah())if((U=this.Ga.xm().id,void 0 !== U))return U;return null;};c.prototype.TA=function(){var U,ma;ma=null === (U=this.Ga) || void 0 === U?void 0:U.ah();return void 0 === this.ha.z0 || ma?this.zja(this.mediaTime.value,this.oa):this.ha.z0;};c.prototype.mja=function(){var U;U=this.zja(this.Xf.lSa());return null === U?null:Math.min(this.Wr.da(F.ia),Math.max(0,U));};c.prototype.pS=function(){var U,ma;return null === (ma=null === (U=this.la) || void 0 === U?void 0:U.Bc.Ro) || void 0 === ma?void 0:ma.ya;};c.prototype.zXb=function(U){this.Va=O.ana(this.Va,U);this.gea();};c.prototype.BRa=function(){return this.Yc.value?this.Yc.value.streams:[];};c.prototype.UA=function(U){U=void 0 === U?this.H:U;return (U=this.wm(U).xg) && U.value?U.value.streams:[];};c.prototype.$Cb=function(U){for(var ma=Z(this.ty),ta=ma.next();!ta.done;ta=ma.next()){if(ta=(ta=ta.value.Hk) && ta.find(function(Ja){return Ja.id === U;}))return ta;}};c.prototype.fOb=function(U){U=void 0 === U?this.ha:U;U.Oc.value?this.Kp.cOb(U.Oc.value):Promise.resolve();};c.prototype.Xja=function(U){for(var ma=Z(this.ty),ta=ma.next();!ta.done;ta=ma.next()){ta=Z(ta.value.Mo);for(var Ja=ta.next();!Ja.done;Ja=ta.next()){if(Ja=Ja.value.streams.find(function(wa){return wa.Ld === U;}))return Ja;}}};c.prototype.cka=function(U){for(var ma=Z(this.ty),ta=ma.next();!ta.done;ta=ma.next()){ta=Z(ta.value.io);for(var Ja=ta.next();!Ja.done;Ja=ta.next()){if(Ja=(Ja=Ja.value) && Ja.streams.find(function(wa){return wa.Ld === U;}))return Ja;}}};c.prototype.Xr=function(){var U,ma,ta;return null !== (ta=null === (ma=null === (U=this.I5) || void 0 === U?void 0:U.tR) || void 0 === ma?void 0:ma.call(U)) && void 0 !== ta?ta:this.jsb().KA;};c.prototype.$2a=function(U){var ma,ta;null !== (ma=this.Ga) && void 0 !== ma && ma.ah() && this.wm(U) && ((null === (ta=this.I5) || void 0 === ta?0:ta.tR)?this.I5.G5a():(ma=this.xR(U),this.Ga.Om(ma,U)));};c.prototype.NFb=function(){return "trailer" === this.sd;};c.prototype.VEb=function(){return ! !this.sd && 0 <= this.sd.indexOf("billboard");};c.prototype.SFb=function(){return ! !this.sd && 0 <= this.sd.indexOf("video-merch");};c.prototype.pFb=function(){return ! !this.sd && 0 <= this.sd.indexOf("mini-modal");};c.prototype.lF=function(){return this.NFb() || this.VEb() || this.SFb() || this.pFb();};c.prototype.Jia=function(){var wa,ra,Qa;if(this.io){for(var U,ma=0;ma < this.io.length;ma++){for(var ta=this.io[ma],Ja=0;Ja < ta.streams.length;Ja++){wa=ta.streams[Ja];if(M.pa(wa.jga) && M.pa(wa.L0) && M.pa(wa.K0) && M.pa(wa.J0) && (0 < wa.jga || 0 < wa.L0)){ra=1;Qa=1;M.pa(wa.v_a) && M.pa(wa.w_a) && (ra=wa.v_a,Qa=wa.w_a);wa=wa.J0 * Qa / (wa.K0 * ra);U=M.pa(U)?Math.min(U,wa):wa;}}}return U;}};c.prototype.EBb=function(){return {tr:this.Vra,rt:this.Tpa};};c.prototype.Cx=function(U){return this.$h[U];};c.prototype.Pnb=function(){return this.Tl?this.Ia.Tb().da(F.ia) - this.Tl:this.sa.Ne.da(F.ia) - this.d2();};c.prototype.Wea=function(){var U;if(this.Tl)return this.Ia.Tb().da(F.ia) - this.Tl;U=this.Ia.qF;return this.D_a - (this.Il.da(F.ia) + U.da(F.ia));};c.prototype.Znb=function(){return this.Tl?this.Ia.Tb().da(F.ia) - this.Tl:this.D_a - this.d2();};c.prototype.oKb=function(U){var ma,ta;ma=this.loadTime;ta={};J.Wd(U,function(Ja,wa){ta[Ja]=wa.map(function(ra){return ra - ma;});});return ta;};c.prototype.Vyb=function(){var U,ma;U=this.loadTime;ma={};J.Wd(this.Cea,function(ta,Ja){ma[ta]=Ja.map(function(wa){return wa - U;});});return h.pu?{level:h.pu.JSa(),charging:h.pu.Hia(),statuses:ma}:null;};c.prototype.I2=function(){this.TQa();return this.iW;};c.prototype.d2=function(){var U;U=this.Va.V7;U=M.pa(U)?U:this.Il.da(F.ia) + this.Ia.qF.da(F.ia);G.Za(M.Rx(U));return U;};c.prototype.tja=function(){return this.Ia.Tb().da(F.ia) - this.Il.da(F.ia);};c.prototype.a3a=function(U,ma){this.iW[U]=ma;};c.prototype.TYb=function(){this.STb=!0;};c.prototype.e5=function(){this.a1a();};c.prototype.gW=function(){var U;U=this.M_();return U && U.vbuflmsec || 0;};c.prototype.LQ=function(){var U;U=this.M_();return U && U.abuflmsec || 0;};c.prototype.Jsa=function(){var U;U=this.M_();return U && U.vbuflbytes || 0;};c.prototype.nea=function(){var U;U=this.M_();return U && U.abuflbytes || 0;};c.prototype.s2a=function(U){var ma,ta;ma=this;U=void 0 === U?this.ha:U;ta=u.config.c6.enabled?Q.th.Aaa:U !== this.ha?Q.th.cw:this.lF()?Q.th.AY:Q.th.Yl;return this.Ok.yS({ca:U.ca,Va:U.Va,aa:U.H,An:ta}).then(function(Ja){Ja.Zo && ma.fireEvent(P.T.tL,{H:U.H});return Ja;});};c.prototype.h0a=function(U,ma){ma=void 0 === ma?this:ma;ma.la=U;U=this.Ama.create(this).FMb(U);ma.ic=U;ma.xg.set(U.Hga);ma.Yc.set(U.DR);ma.Oc.set(U.Gga);};c.prototype.gRa=function(U,ma){this.tv(U,void 0 === ma?!1:ma);};c.prototype.CCb=function(U,ma){this.wm(U.aa) || this.Nda(U);this.gRa(U.aa,!0);this.sE(ma);};c.prototype.lUa=function(U,ma){if(!this.Ei.d8)return !0;U=this.xp.da(F.ia) - U;return 0 > U || U > ma;};c.prototype.wRb=function(){this.Xf.seek(this.TA() || 0,P.Ad.mX);};c.prototype.tv=function(U,ma){var ta,Ja;if(this.rM){if(U === this.LJ){this.rM=U;return;}ta=this.wm(U);Ja=ta.la;Ja && M.vc(Ja.gG) && M.vc(Ja.DM) && ta.Jx({pr_ats:Ja.gG,pr_at:Ja.DM});this.fireEvent(P.T.xL,{H:this.LJ});this.LJ=U;this.gea();ma || this.R1a();this.XK=this.sa.R6;this.ha.Tl || (this.ha.Tl=this.Ia.Tb().da(F.ia));}("boolean" === typeof this.Va.cK?this.Va.cK:u.config.cK) && !ma && this.dsa.cK(this);ma={H:U,A3:ma,rM:this.rM};this.rM=U;this.fireEvent(P.T.Oq,ma);};c.prototype.Yrb=function(){try{this.rR=new va.sva(this);this.AT=this.g4.create(this,this.ha,!0);u.config.sob && new la.jxa(this,this.Bl,this.log);u.config.fR && this.fR(this);this.wYb();}catch(U){this.yp(C.J.Kab,{ka:C.K.Ni,gb:J.md(U)});}};c.prototype.wYb=function(){this.Xj?this.sE(this.Xj):M.lla(this.H)?this.Pob():this.yp(C.J.wab,{gb:"" + this.H});};c.prototype.Pob=function(){var U;U=m.xG.D2a;U?U.W?this.zfa():this.yp(C.J.Jya,U):(G.Za(!u.config.u1),this.Eda());};c.prototype.zfa=function(){var U;U=this;!this.background && u.config.zfa?y.paa(function(){U.Eda();},this):this.Eda();};c.prototype.Eda=function(){var U;U=this;this.state.value == P.yb.LOADING && (u.config.vha && !this.lF()?m.xG.Kw(y.hDa,function(ma){ma.W?(U.e4=ma.e4,u.config.O6?U.SQ():U.zqa()):U.yp(C.J.Iya);},!0):u.config.O6?this.SQ():this.zqa());};c.prototype.zqa=function(){var U;U=this;this.state.value == P.yb.LOADING && (this.zd("ic"),this.wNb.qSb(function(ma){ma.error && U.log.error("Error sending persisted playdata",C.Ar(ma));try{U.SQ();}catch(ta){U.log.error("playback.authorize threw an exception",ta);U.yp(C.J.x7a,{ka:C.K.Ni,gb:J.md(ta)});}}));};c.prototype.SQ=function(){var U,ma;U=this;if(this.state.value == P.yb.LOADING){this.log.info("Authorizing",this);ma=this.Ia.Tb().da(F.ia);this.zd("ats");this.rR.SQ(function(ta){var Ja;if(U.state.value == P.yb.LOADING){U.zd("at");Ja=U.la;U.Jx({pr_ats:Ja && M.vc(Ja.gG)?Ja.gG:ma,pr_at:Ja && M.vc(Ja.DM)?Ja.DM:U.Ia.Tb().da(F.ia)});ta.W?0 < U.ic.Hk.length && U.ic.DR && U.ic.Hga && U.ic.Gga?U.QOb():U.yp(C.J.rbb,U.Bma(U.ic)):U.yp(C.J.s$,ta);}});}};c.prototype.QOb=function(){var U;U=this;this.O_a?(this.log.info("Processing post-authorize",this),this.O_a(this,function(ma){ma.W?U.K5a():U.yp(C.J.Pab,ma);})):this.K5a();};c.prototype.K5a=function(){g.__awaiter(this,void 0,void 0,function ma(){var ta;ta=this;return Ga(ma,function(Ja){var wa;if(1 == Ja.iy){if(ta.state.value != P.yb.LOADING)return Ja.return();ta.Ga=ta.iea(ta);wa=ta.Ga.g3a({Fk:f.Fk,config:u.config,Qd:ta.Qd,Lb:ta.Lb,Am:ta.Am.bind(ta),Dh:D.Dh,UB:ta.UB.bind(ta),tv:ta.tv.bind(ta)});Ja.iy=2;return {value:wa};}ta.VNb();Ja.iy=0;});});};c.prototype.Xsb=function(){var U,ma,ta,Ja,wa,ra,Qa;U=this;try{if(this.state.value === P.yb.LOADING){this.zb=new k.KAa(this);this.zb.open();ma=new Promise(function(Pa){U.zb.addEventListener(R.Si.B3a,Pa);});this.Xf=new K.PAa(this);ta=this.ic.DR.ho === S.fq.NONE;Ja={og:!1,zN:u.config.zN,c8:u.config.q1,CT:!1,Bh:!this.Tx,UF:! !this.Va.jT,ta:this.Va.ta,pC:this.ic.DR.fL || ta};wa={RF:this.log,Bm:this.Bm,sessionId:this.H + "-" + this.ca,ca:this.ca,sy:this.Tj,Xh:N.Wh?N.Wh.Xh:void 0,yq:0 === u.config.JR || 0 !== this.ca % u.config.JR?!1:!0};this.SPa=! !wa.yq;ra=this.wm(this.H).oa;try{if(this.state.value !== P.yb.LOADING)return;Qa=this.Ga;Qa.dT({flags:Ja,$r:wa,oa:ra,xR:this.xR.bind(this)});this.Ykb();Qa.ZLa({$h:this.$h,loadTime:this.loadTime});}catch(Pa){throw (this.log.error("Failed to initialize ASE streaming",{error:Pa,startPts:this.V,flags:Ja}),Pa);}ma.then(function(){var Pa;U.state.value !== P.yb.CLOSING && U.state.value !== P.yb.CLOSED && (null === (Pa=U.Ga) || void 0 === Pa?void 0:Pa.open());});this.mediaTime.set(this.V);this.Kp=new n.eGa(this);if("boolean" === typeof this.Va.o6?this.Va.o6:u.config.o6)this.SV=new A.fGa(this);this.AV();y.raa.forEach(function(Pa){Pa(U);});this.uKb();}}catch(Pa){this.yp(C.J.Mab,{ka:C.K.Ni,gb:J.md(Pa)});}};c.prototype.vKb=function(){G.Za(this.state.value == P.yb.JH);this.loadTime=this.Ia.Tb().da(F.ia);this.state.set(P.yb.LOADING);};c.prototype.yp=function(U,ma){this.done || (this.done=!0,ma instanceof ha.Ec?this.kd(ma.code,ma):this.kd(U,ma));};c.prototype.fR=function(U){var ta,Ja;function ma(){var wa,ra;wa=h.pu.Hia() + "";ra=U.Cea[wa];ra || (ra=U.Cea[wa]=[]);ra.push(ta.Ia.Tb().da(F.ia));ta.log.trace("charging change event",{level:h.pu.JSa(),charging:h.pu.Hia()});}ta=this;Ja=h.pu.G8a;h.pu.addEventListener(Ja,ma);U.addEventListener(P.T.Tf,function(){h.pu.removeEventListener(Ja,ma);});};c.prototype.hra=function(U){var ma,ta;ma=this;if(this.state.value == P.yb.JH || this.state.value == P.yb.LOADING || this.state.value == P.yb.Fd){this.Lb.info("Playback closing",this,U?{ErrorCode:U.e1}:void 0);this.oq("Closing");x.df.removeListener(x.ym,this.mZa);this.Xj=U;this.ha.z0=this.TA();this.TQa();(null === (ta=this.Ga) || void 0 === ta?0:ta.ah()) && this.Ga.flush();try{this.Hb.bc(P.T.Tf,{movieId:this.LJ});}catch(Ja){this.Lb.error("Unable to fire playback closing event",Ja);}this.state.set(P.yb.CLOSING);this.l7a();this.STb || I.Ic(function(){return ma.a1a();});}};c.prototype.Bxb=function(){this.Hb.bc(P.T.E5a);};c.prototype.UQa=function(){var U;U=this.mediaTime.value;this.CGb != U && (!1,this.CGb=U,this.Hb.bc(P.T.Lra));};c.prototype.a1a=function(){var U,ma;U=this;G.Za(this.state.value == P.yb.CLOSING);ma=this.e4;this.e4=void 0;ma?m.xG.release(ma,function(ta){G.Za(ta.W);U.Gfa();}):this.Gfa();};c.prototype.l7a=function(){var U;null === (U=this.Ga) || void 0 === U?void 0:U.kc();delete this.Ga;delete this.rb;delete this.kt;};c.prototype.Gfa=function(){var U;this.Gfa=q.Ti;G.Za(this.state.value == P.yb.CLOSING);U=y.qo.indexOf(this);G.Za(0 <= U);y.qo.splice(U,1);this.state.set(P.yb.CLOSED);this.Hb.bc(P.T.closed,void 0,!0);this.Hb.$g();delete this.Ee;this.ha.e5();};c.prototype.gea=function(){this.Va.playbackState && ("number" === typeof this.Va.playbackState.volume && this.volume.set(H.no(this.Va.playbackState.volume,0,1)),"boolean" === typeof this.Va.playbackState.muted && this.muted.set(this.Va.playbackState.muted),"number" === typeof this.Va.playbackState.playbackRate && this.playbackRate.set(this.Va.playbackState.playbackRate));};c.prototype.TQa=function(){this.Hb.bc(P.T.l3a,{iW:this.iW});};c.prototype.UB=function(U,ma){var ta;ta=this.Hk.filter(function(Ja){return Ja.id === U;})[0];ta && this.Hc[ma].set(ta);};c.prototype.Am=function(){return {AudioBufferLength:this.LQ(),VideoBufferLength:this.gW()};};c.prototype.M_=function(){var U;if(null === (U=this.Ga) || void 0 === U?0:U.ah())return this.Ga.ZK(!1);};c.prototype.uKb=function(){this.state.value == P.yb.LOADING && this.state.set(P.yb.Fd);};c.prototype.jsb=function(){var U,ma,ta;U=void 0 === U?this.H:U;ma=this.UA(U);ta=this.wm(U);return da.Xr(ma,function(Ja){return ta.FL.jt(Ja);});};c.prototype.xR=function(U){var ma,ta;U=void 0 === U?this.H:U;ma=this.UA(U);ta=this.wm(U);return da.Oja(ma,function(Ja){return ta.FL.jt(Ja);});};Ua.Object.defineProperties(c.prototype,{ty:{configurable:!0,enumerable:!0,get:function(){return Object.values(this.BU);}},ha:{configurable:!0,enumerable:!0,get:function(){return this.BU[this.LJ];}},QVa:{configurable:!0,enumerable:!0,get:function(){return 1 === this.ty.length;}},V:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.iE?this.iE:this.ty[0].Va.V || 0;}},ic:{configurable:!0,enumerable:!0,get:function(){return this.ha.ic;},set:function(U){this.ha.ic=U;}},S1:{configurable:!0,enumerable:!0,get:function(){return this.ha.Va.S1;}},T1:{configurable:!0,enumerable:!0,get:function(){return this.ha.Va.T1;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ha.oa;}},Ee:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ee;},set:function(U){this.ha.Ee=U;}},Tl:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tl;},set:function(U){this.ha.Tl=U;}},rA:{configurable:!0,enumerable:!0,get:function(){return this.ha.rA;},set:function(U){this.ha.rA=U;}},oE:{configurable:!0,enumerable:!0,get:function(){return this.ha.oE;},set:function(U){this.ha.oE=U;}},o3:{configurable:!0,enumerable:!0,get:function(){return this.ha.o3;},set:function(U){this.ha.o3=U;}},la:{configurable:!0,enumerable:!0,get:function(){return this.ha.la;},set:function(U){this.ha.la=U;}},iE:{configurable:!0,enumerable:!0,get:function(){return this.ha.iE;},set:function(U){this.ha.iE=U;}},LV:{configurable:!0,enumerable:!0,get:function(){return this.ha.LV;},set:function(U){this.ha.LV=U;}},Va:{configurable:!0,enumerable:!0,get:function(){return this.ha.Va;},set:function(U){this.ha.Va=U;}},AT:{configurable:!0,enumerable:!0,get:function(){return this.ha.AT;},set:function(U){this.ha.AT=U;}},Tn:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tn;}},H:{configurable:!0,enumerable:!0,get:function(){return this.ha.H;}},sd:{configurable:!0,enumerable:!0,get:function(){return this.ha.sd;}},Mo:{configurable:!0,enumerable:!0,get:function(){return this.ha.Mo;}},io:{configurable:!0,enumerable:!0,get:function(){return this.ha.io;}},Vy:{configurable:!0,enumerable:!0,get:function(){return this.ha.Vy;}},Rl:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rl;}},Di:{configurable:!0,enumerable:!0,get:function(){return this.ha.Di;}},Tx:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tx;}},Xs:{configurable:!0,enumerable:!0,get:function(){return this.ha.Xs;}},wl:{configurable:!0,enumerable:!0,get:function(){return this.ha.wl;}},Hk:{configurable:!0,enumerable:!0,get:function(){return this.ha.Hk;}},R5:{configurable:!0,enumerable:!0,get:function(){return this.ha.R5;}},Wr:{configurable:!0,enumerable:!0,get:function(){return this.ha.Wr;},set:function(U){this.ha.Wr=U;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ha.ca;}},lk:{configurable:!0,enumerable:!0,get:function(){return this.ha.lk;}},Il:{configurable:!0,enumerable:!0,get:function(){return this.ha.Il;}},XK:{configurable:!0,enumerable:!0,get:function(){return this.ha.XK;},set:function(U){this.ha.XK=U;}},Tj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tj;}},pG:{configurable:!0,enumerable:!0,get:function(){return this.ha.pG;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(U){this.ha.background=U;}},oga:{configurable:!0,enumerable:!0,get:function(){return this.ha.oga;}},Sc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Sc;}},Oo:{configurable:!0,enumerable:!0,get:function(){return this.ha.Oo;}},iha:{configurable:!0,enumerable:!0,get:function(){return this.ha.iha;}},FL:{configurable:!0,enumerable:!0,get:function(){return this.ha.FL;}},Hh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.H,TrackingId:this.lk,Xid:this.ca};}}});b.lDa=c;},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.V3a=void 0;c=a(12);g=a(6);l=a(2);a(22);b.V3a=function(m){var d;g.Dh("Storage");d={};m({W:!0,storage:{load:function(f,h){var k;if(d.hasOwnProperty(f)){k=d[f];!1;h({W:!0,data:k,l7:f});}else (!1,h({ka:l.K.Az}));},save:function(f,h,k,n){k && d.hasOwnProperty(f)?n({W:!1}):(d[f]=h,!1,n && n({W:!0,l7:f}));},remove:function(f,h){delete d[f];!1;h && h(c.ze);}}});};},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.T3a=void 0;c=a(6);g=a(78);l=a(26);m=a(504);b.T3a=function(d){c.fa.get(g.fz).create().then(function(f){d({W:!0,storage:new m.k$(f,c.fa.get(l.yf))});}).catch(function(f){d(f);});};},function(r,b){function a(c,g){this.lu=c;this.Qd=g;}Object.defineProperty(b,"__esModule",{value:!0});b.k$=void 0;a.prototype.load=function(c,g){var l;l=this;this.lu.load(c).then(function(m){g && g(a.i4a(m));}).catch(function(m){g && g(l.Bha(c,m));});};a.prototype.save=function(c,g,l,m){var d;d=this;this.lu.save(c,g,l).then(function(){m && m(a.i4a({key:c,value:g}));}).catch(function(f){m && m(d.Bha(c,f));});};a.prototype.remove=function(c,g){var l;l=this;this.lu.remove(c).then(function(){g && g({W:!0,l7:c});}).catch(function(m){g && g(l.Bha(c,m));});};a.i4a=function(c){return {W:!0,data:c.value,l7:c.key};};a.prototype.Bha=function(c,g){return {W:!1,l7:c,ka:g.ka,gb:g.cause?this.Qd.md(g.cause):void 0};};b.k$=a;},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.U3a=void 0;c=a(504);g=a(6);l=a(359);m=a(26);b.U3a=function(d){d({W:!0,storage:new c.k$(g.fa.get(l.yza),g.fa.get(m.yf))});};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.pu=void 0;c=a(12);g=a(11);r=a(2);l=a(6);m=a(27);d=a(10);f=a(31);h=a(14);k=a(57);n=a(4);a=l.fa.get(f.Pg);p=l.fa.get(k.dw);a.register(r.J.tya,function(q){var v,x;function t(){q(c.ze);t=m.Ti;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!h.mc(y[z]))throw z + " is not a function";});}function w(){return Promise.resolve().then(function(){var y;y=d.Ve.getBattery();if(!h.mc(y.then))throw "getBattery did not return a promise";return y;});}v=l.Dh("BatteryManager");b.pu={G8a:"chargingchange",JSa:function(){return x?x.level:null;},Hia:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};g.config.fR && h.mc(d.Ve.getBattery)?p.Dp(n.Xb(g.config.Uyb),w()).then(function(y){u(y);x=y;}).catch(function(y){v.error("getBattery failed",y);}).then(t):t();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sza="LicenseBrokerFactorySymbol";},function(r,b){function a(c,g){var l;l=this;this.WSa=c;this.lZa=g;this.Rra=!1;this.bM=function(){l.eo=void 0;l.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;a.prototype.update=function(c){var g,l,m,d,f;m=this.WSa();if(this.Z5a !== m){d=null === (l=null === (g=this.Pn) || void 0 === g?void 0:g.VE(m)) || void 0 === l?void 0:l[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){f=d;this.P5a(d.endTime - m);}else this.P5a(d.startTime - m);this.Z5a=m;this.Gda !== f && (this.Gda=f,!c && this.lZa && this.lZa());}};a.prototype.start=function(){this.Rra=!0;this.update();};a.prototype.P2a=function(c){this.Pn=c;this.Gda=this.Z5a=void 0;c || this.stop();};a.prototype.stop=function(){this.Rra=!1;this.Ip();};a.prototype.zyb=function(){this.update(!0);return this.Gda;};a.prototype.P5a=function(c){this.Ip();this.Rra && 0 < c && (this.eo=setTimeout(this.bM,c + a.Ybb));};a.prototype.Ip=function(){this.eo && (clearTimeout(this.eo),this.eo=void 0);};b.gGa=a;a.Ybb=10;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.iya=void 0;c=a(15);g=a(70);b.iya=function(l){function m(d){l.fireEvent(c.T.FA,{response:d,H:l.ha.H});}return {download:function(d,f){d.j=l;d=g.qf.download(d,f);d.Hda(m);return d;}};};},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;c=a(11);g=a(50);l=a(2);m=a(511);d=a(10);f=a(14);h=a(15);k=a(6);n=a(164);b.Nya=function(p){var t,u,w,v;function q(){p.state.value !== h.yb.Fd || p.Ob.value !== h.ob.wh && p.Ob.value !== h.ob.Ct?u.Ip():u.HA();}t=c.config.QMb;if(!p.lF() && t){u=k.fa.get(n.gP)(t,function(){p.fireEvent(h.T.VK,l.J.iY);});p.Ob.addListener(q);p.state.addListener(q);if(c.config.Cka){w=g.ti();v=new m.rEa(c.config.Cka,function(){var x,y;x=g.ti();y=x - w;y > t && (p.fireEvent(h.T.VK,l.J.LX),v.hNa());y > 2 * c.config.Cka && (p.Dka=d.Vm(y,p.Dka || 0));w=x;});v.kTb();}p.addEventListener(h.T.Tf,function(){u.Ip();f.vc(v) && v.hNa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;b.rEa=function(a,c){var g;this.kTb=function(){g || (g=setInterval(c,a));};this.hNa=function(){g && (clearInterval(g),g=void 0);};};},function(r,b,a){var g,l,m,d,f,h,k;function c(n){var p,q,t,u;p=this;this.j=n;this.tR=void 0;this.Uba=m.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.Jba=m.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.yba=m.createElement("DIV","width:100%;text-align:center");this.nfb=this.Kba("Audio Bitrate");this.yda=this.Kba("Video Bitrate");this.Cba=this.Kba("CDN");this.ZP={};this.K2=d.fa.get(f.Wl);this.Uba.appendChild(this.Jba);this.Jba.appendChild(this.yba);q=m.createElement("BUTTON",void 0,"Override");q.addEventListener("click",this.gfb.bind(this),!1);this.yba.appendChild(q);q=m.createElement("BUTTON",void 0,"Reset");q.addEventListener("click",this.qjb.bind(this),!1);this.yba.appendChild(q);t=this.Bib.bind(this);l.df.addListener(l.XA,t);n.addEventListener(k.T.Oq,function(){p.ZP={};});n.addEventListener(k.T.Tf,function(){l.df.removeListener(l.XA,t);});u=this.djb.bind(this);n.Hc.forEach(function(w){w.addListener(u);});n.Yc.addListener(u);n.xg.addListener(u);}Object.defineProperty(b,"__esModule",{value:!0});b.tDa=void 0;g=a(46);l=a(60);m=a(27);d=a(6);f=a(36);h=a(129);k=a(15);c.prototype.show=function(){this.rQ || (this.FJa(),this.j.Se.appendChild(this.Uba),this.rQ=!0);};c.prototype.Hq=function(){this.rQ && (this.j.Se.removeChild(this.Uba),this.rQ=!1);};c.prototype.toggle=function(){this.rQ?this.Hq():this.show();};c.prototype.G5a=function(){var q,t,u,w;function n(v,x,y){var z,B,A;B=[];x.filter(function(E){return E.mg === v;}).forEach(function(E){0 <= y.indexOf(E)?(void 0 === A?A=E.bitrate:z=E.bitrate,void 0 === z && (z=E.bitrate)):void 0 !== A && void 0 !== z && (B.push({min:A,max:z}),A=z=void 0);});if(void 0 !== A && void 0 !== z){B.push({min:A,max:z});A=z=void 0;}return B;}function p(v,x,y){var z;z=[];x.filter(function(B){return B.mg === v;}).forEach(function(B){-1 === y.indexOf(B) && z.push({stream:{bitrate:B.bitrate},disallowedBy:["manual"]});});return z;}t=this.j.Xr();u=this.j.UA().sort(function(v,x){return v.bitrate - x.bitrate;});w=u.reduce(function(v,x){0 > v.indexOf(x.mg) && v.push(x.mg);return v;},[]).map(function(v){return {profile:v,ranges:n(v,u,t),disallowed:p(v,u,t)};});!1;null === (q=this.j.Ga) || void 0 === q?void 0:q.Om(w,this.j.H);};c.prototype.gfb=function(){var q,t;this.ZP={};for(var n=this.yda.options,p=n.length;p--;){q=n[p];q.selected && (this.ZP[q.value]=1);}this.tR=this.Mfb.bind(this);this.G5a();if(n=this.j.Hk){t=this.Cba.value;n=n.filter(function(u){return u.id == t;})[0];p=this.j.Hc[g.Cc.jb.Bb].value;n && n != p && (n.MMa={testreason:"streammanager",selreason:"userselection"},this.j.Hc[g.Cc.jb.Bb].set(n));}this.Hq();};c.prototype.qjb=function(){this.tR=void 0;this.j.$2a(this.j.H);this.Hq();};c.prototype.Mfb=function(){var n;n=this;return this.j.UA().filter(function(p){return n.ZP[p.bitrate];});};c.prototype.FJa=function(){var n,p,q,t;n=this;p=this.j.Yc.value;q=this.j.xg.value;t=this.j.Hk;p && (t=t.slice(),t.sort(function(u,w){return u.tg - w.tg;}),this.gda(this.nfb,p.streams.map(function(u){return {value:u.bitrate,caption:u.bitrate,selected:u == n.j.ql.value};})));q && (this.gda(this.yda,q.streams.map(function(u){var w,v;w=n.j.FL.jt(u);u=u.bitrate;v="" + u;w && (v+=" (" + w.join("|") + ")");return {value:u,caption:v,selected:n.tR?n.ZP[u]:!w};})),this.yda.removeAttribute("disabled"));t && (this.gda(this.Cba,t.map(function(u){return {value:u.id,caption:"[" + u.id + "] " + u.name,selected:u == n.j.Hc[g.Cc.jb.Bb].value};})),this.Cba.removeAttribute("disabled"));};c.prototype.djb=function(){this.rQ && this.FJa();};c.prototype.Kba=function(n){var p,q;p=m.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");n=m.createElement("DIV",void 0,n);q=m.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Jba.appendChild(p);return q;};c.prototype.gda=function(n,p){n.innerHTML="";p.forEach(function(q){var t;t={title:q.caption};q.selected && (t.selected="selected");t=m.createElement("option",void 0,q.caption,t);t.value=q.value;n.appendChild(t);});};c.prototype.Bib=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.Ft.Ndb && this.K2.qla && this.toggle();};b.tDa=c;},function(r,b,a){var g,l,m,d,f;function c(h,k){this.iia=h;this.KE={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=g.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.L2a(k);this.aRa=this.aAb(this.iia);}Object.defineProperty(b,"__esModule",{value:!0});b.dGa=void 0;g=a(27);l=a(514);m=a(515);d=a(10);f=a(22);c.prototype.kp=function(){return this.element;};c.prototype.BSb=function(h){this.kea=h;};c.prototype.LSb=function(h){this.entry=h;this.CM();};c.prototype.RSb=function(h){this.L2a(h);this.CM();};c.prototype.CM=function(){var h,k,n,p,q,t,u,w,v,x,y,B,A,E;h=this;k=this.kp();n=k.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;t=n=0;u={width:p,height:q};if(0 < p && 0 < q && this.entry){this.kea && (u=g.pK(p,q,this.kea),n=Math.round((p - u.width) / 2),t=Math.round((q - u.height) / 2));v=this.cob(u);x=g.pK(v.width,v.height,this.kea);v=(w=this.entry.blocks) && w.map(function(D){var F;F=m.xha(D,x,h.iia,h.aRa);D=m.jQa(D) + ";position:absolute";return g.createElement("div",D,F,c.l9);});}Object.assign(this.KE,{left:n + "px",right:n + "px",top:t + "px",bottom:t + "px"});k.style.display="none";k.style.direction=this.KE.direction;k.innerHTML="";if(v && v.length){p=u.width;n=u.height;y=u;this.YQ && (y=this.vkb(u,this.YQ,q,t));this.KE.margin=this.Pq?this.e0(u,"top") + "px " + this.e0(u,"right") + "px " + this.e0(u,"bottom") + "px " + this.e0(u,"left") + "px ":void 0;v.forEach(function(D){return k.appendChild(D);});q=g.wE(this.KE);k.style.cssText=q + ";visibility:hidden;z-index:-1";t=[];for(var z=v.length - 1;0 <= z;z--){B=v[z];A=w[z];E=this.PYa(B,A,p,n);E.width > p && (B.innerHTML=m.xha(A,u,this.iia,this.aRa,p / E.width),E=this.PYa(B,A,p,n));t[z]=E;}t=l.x5a(t,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (u=m.lQa(w,t,Math.round(n / 50),y,u),u=g.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,u,c.l9),k.insertBefore(u,k.firstChild)));k.style.display="none";for(u=t.length - 1;0 <= u;u--){y=v[u].style;z=m.kQa(w[u].region,t[u],p,n,0);Object.assign(y,z);}k.style.cssText=q;}};c.prototype.Qqa=function(h){this.YQ=h;this.CM();};c.prototype.Jja=function(){return this.YQ;};c.prototype.Rqa=function(h){this.Pq=h;this.CM();};c.prototype.Kja=function(){return this.Pq;};c.prototype.Lja=function(){return "block" === this.KE.display;};c.prototype.Sqa=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.KE.display=k;h && this.CM();};c.prototype.aAb=function(h){var k,n;k=this;n={};f.Wd(h,function(p,q){n[p]=k.MIb(q);});return n;};c.prototype.L2a=function(h){this.KE.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.e0=function(h,k){if(this.Pq){if("left" === k || "right" === k)return h.width * (this.Pq[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.Pq[k] || 0);}return 0;};c.prototype.cob=function(h){return this.Pq?{height:h.height * (1 - (this.Pq.top || 0) - (this.Pq.bottom || 0)),width:h.width * (1 - (this.Pq.left || 0) - (this.Pq.right || 0))}:h;};c.prototype.MIb=function(h){var k;h=g.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.l9);d.ye.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.ye.body.removeChild(h);return k;};c.prototype.PYa=function(h,k,n,p){var q,t,u,w,v;q=k.region;t=(q.marginTop || 0) * p;u=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * n;v=(q.marginRight || 0) * n;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=t;break;case "center":p=(t + p - u - h) / 2;break;default:p=p - u - h;}switch(q.horizontalAlignment){case "left":n=w;break;case "right":n=n - v - k;break;default:n=(w + n - v - k) / 2;}return {top:p,left:n,width:k,height:h};};c.prototype.vkb=function(h,k,n,p){return {height:n - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:h.width};};b.dGa=c;c.l9={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.x5a=void 0;c=a(10);b.x5a=function(g,l){function m(h,k,n){var u,v,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],t=0;t < h.length;t++){p[t]=0;q[t]=0;}u=!1;for(t=0;t < h.length;t++){for(var w=t + 1;w < h.length;w++){v=h[t];x=h[w];if(0 > v.width || 0 > x.width || x.left > v.left + v.width || x.left + x.width < v.left || x.top > v.top + v.height?0:x.top + x.height >= v.top){y=c.Vm(v.left,x.left);z=c.Vm(v.top,x.top);y={width:c.Vm(c.mo(v.left + v.width,x.left + x.width) - y,0),height:c.Vm(c.mo(v.top + v.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,v=d(h[t]),x=d(h[w]),z && k || !z && !k))(y=c.Vm(y.width / 2,.25),v.x <= x.x?(q[t]-=y,q[w]+=y):(q[w]-=y,q[t]+=y));else if(z && !k || !z && k)(v=c.Vm(y.height / 2,.25),p[t]-=v,p[w]+=v);}}for(t=0;t < h.length;t++){if(-.25 > q[t] && 0 <= h[t].left + q[t] || .25 < q[t] && h[t].left + h[t].width + q[t] <= n.width)(h[t].left+=q[t],u=!0);if(-.25 > p[t] && 0 <= h[t].top + p[t] || .25 < p[t] && h[t].top + h[t].height + p[t] <= n.height)(h[t].top+=p[t],u=!0);}return u;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}g=g.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=c.mo(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=c.mo(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=c.mo(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=c.mo(n.top + n.height - k.height,n.top));});})(g,l);for(var f=0;50 > f && m(g,!0,l);f++){;}for(f=0;50 > f && m(g,!1,l);f++){;}return g;};},function(r,b,a){var f,h,k;function c(n,p,q,t,u){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (q - p.left - p.width - u) / q + "%":w.left=100 * (p.left - u) / q + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (t - p.top - p.height - u) / t + "%":w.top=100 * (p.top - u) / t + "%";return w;}function g(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function l(n,p,q,t,u){var w,v;w=n.style;v=h.TS(n.text);for(n=n.lineBreaks;n--;){v="<br />" + v;}return m(v,w,p,q,t,u);}function m(n,p,q,t,u,w){var v;v=p.characterStyle;u=u[v];v=0 <= v.indexOf("MONOSPACE")?g(u,p.cellResolution) || u.lineHeight:u.lineHeight;t=p.characterSize * t.height / (v || 1);t=0 < w?k.Wv(t * w):k.ii(t);w={"font-size":t + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));t=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=t + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + t + ",0px 1px " + t + ",1px 0px " + t + ",0px -1px " + t;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=f.wE(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.jQa=b.lwb=b.jwb=b.mwb=b.kwb=b.kQa=b.lQa=b.xha=void 0;f=a(45);h=a(22);k=a(10);b.xha=function(n,p,q,t,u){var w;w="";n.textNodes.forEach(function(v){w+=l(v,q,p,t,u);});return w;};b.lQa=function(n,p,q,t,u){var w,v,y,z,B;w="";v=u.width;u=u.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;B="position:absolute;background:" + t + ";width:" + k.ii(y.width + 2 * q) + "px;height:" + k.ii(y.height + 2 * q) + "px;";y=c(z,y,v,u,q);h.Wd(y,function(A,E){B+=A + ":" + E + ";";});w+='<div style="' + B + '"></div>';}return w;};b.kQa=c;b.kwb=g;b.mwb=l;b.jwb=m;b.lwb=d;b.jQa=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return f.wE(p);};},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;c=a(12);g=a(11);l=a(50);m=a(73);d=a(10);f=a(55);h=a(14);k=a(15);b.iDa=function(n){var u,w,v,x,y,z;function p(){return n.state.value === k.yb.LOADING || n.state.value === k.yb.Fd && n.Ob.value === k.ob.cg;}function q(){p()?z || (z=setInterval(t,100)):z && (clearInterval(z),z=void 0,f.Ic(t));}function t(){var B,A,E,D,F,C,G,H;B=l.ti();A=u.value;E=A?A.progress:0;D=n.state.value == k.yb.LOADING || p() && B - w > g.config.Hnb;if(D && n.state.value == k.yb.Fd){if(n.nf.value === k.we.NEa)(F=E,C=!0);else {G=B + (n.Bm && n.Bm.DDb() || 0);v=v || B;x=x || v + g.config.rJb + 1;h.pa(G) && (G=d.Vm(G,x),F=n.Bm?n.Bm.s6b():.99,F=d.ii(1E3 * m.no((B - v) / (G - v),0,F)) / 1E3);}if(F < E)if(E - F < g.config.XOb / 100)(F=E,y=void 0);else if(y){if(B - y > g.config.WOb){H=!0;y=void 0;}else F=E;}else (y=B,F=E);}else y=x=v=void 0;B=D?{i7:C,progress:F,YOb:H}:null;(!B || !u || !A || h.pa(B.progress) && !h.pa(A.progress) || h.pa(B.progress) && h.pa(A.progress) && .01 < d.PC(B.progress - A.progress) || B.i7 !== A.i7) && u.set(B);}u=n.Rea;w=0;n.state.addListener(function(){q();t();},c.gY);n.Ob.addListener(function(B){if(B.oldValue !== k.ob.cg || B.newValue !== k.ob.cg)w=l.ti();q();});n.nf.addListener(function(){q();});n.rn.addListener(function(){q();});n.Ql.addListener(function(){q();});z || (z=setInterval(t,100));};},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H;function c(J){var I;I=this;this.j=J;this.zb=this.j.zb;this.log=n.Eh(this.j,"MediaPresenterASE");this.T4=this.Q0=0;this.ja=this.zb.ja;this.y_a=this.q_a=this.J3=this.roa=!1;this.BVb=n.fa.get(E.ZH)(A.Xb(z.yY));this.qJ=void 0;this.Xn=n.fa.get(F.XEa)(this.j);this.Ev={};this.TXa={};this.aUa={};this.Wf=new G.BAa(this.j);this.zVb=function(){var M,N,K;I.j.LV=k.ti();if(!I.kj() && I.zm){M=I.zb.wTa();M || (I.cNb(),I.Wf.gsa(I.mediaTime));I.j.paused.value || !I.Wf.Cga(I.mediaTime) || !I.Oea() || M || I.Xn.kla?I.Zpa():I.roa || I.$pa();I.bNb();if(!I.zb.wTa() && !I.J3){M=I.zb.sS(!0);N=I.j.Ob.value;K=I.Jpb();N !== K && !1;K === x.ob.Ct?(I.mediaTime=I.j.xp.da(A.ia),I.Zpa()):K !== x.ob.cg && I.xXb(M);I.S5a();I.Wf.gfa(I.mediaTime);I.j.Ob.set(K);K !== x.ob.cg || N !== x.ob.oc && N !== x.ob.wh || I.HLb();}}};this.$k=C.m0a(this.zVb);this.mediaTime=J.V;this.j.rl=!1;this.zb.addEventListener(B.Si.A3a,function(){I.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{I.Wa();}catch(M){I.log.error("Exception while initializing",M);I.kd(p.J.Scb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;g=a(46);l=a(12);m=a(11);d=a(59);f=a(60);h=a(45);k=a(50);n=a(6);a(94);p=a(2);q=a(329);t=a(19);u=a(73);w=a(27);v=a(55);x=a(15);y=a(14);z=a(171);B=a(285);A=a(4);E=a(105);D=a(164);F=a(518);C=a(1165);G=a(1166);H=a(82);c.prototype.lSa=function(){return this.zb.sS(!1);};c.prototype.o2=function(){return this.zb.o2();};c.prototype.QA=function(){return this.zb.QA();};c.prototype.WE=function(){return this.zb.WE();};c.prototype.rS=function(){return this.zb.rS();};c.prototype.s2=function(){return this.zb.s2();};c.prototype.Wa=function(){var J;J=this;this.log.trace("Video element initializing");this.zb.sourceBuffers.forEach(function(I){return J.Wf.gTb(I);});this.qEb(this.j.Tx);};c.prototype.qEb=function(J){var N,K;function I(){function O(){var L;N.j.Ob.value === x.ob.oc && 0 === (null === (L=N.j.Xf) || void 0 === L?void 0:L.o2())?(N.OYa.HA(),L="ensureTimer"):(N.OYa.Ip(),L="stopTimer");N.log.trace("No render timer update: " + L,{presentingState:x.ob[N.j.Ob.value]});}function R(L){var Q,P;L=void 0 === L?!0:L;Q=N.j.Ga;P=(null === Q || void 0 === Q?void 0:Q.ah()) && Q.QK();N.j.Ob.value == x.ob.cg && N.j.state.value == x.yb.Fd && N.j.rn.value == x.we.Fd && N.j.Ql.value == x.we.Fd && !N.j.rl && P?(L && N.S0.Ip(),N.S0.HA(),Q="ensureTimer"):(N.S0.Ip(),Q="stopTimer");N.log.trace("Timer update: " + Q,{presentingState:x.ob[N.j.Ob.value],playbackState:x.yb[N.j.state.value],avBufferingState:x.we[N.j.rn.value],textBufferingState:x.we[N.j.Ql.value],autoplayWasBlocked:N.j.rl,hasLicense:P,restartTimer:L});}m.config.GOa && (t.Za(!N.S0),N.S0=n.fa.get(D.gP)(m.config.GOa,function(){var L;L=n.fa.get(q.w9).ZOa(N.j);N.kd(L.code,L);}),N.j.Ob.addListener(function(){return R();}),N.j.rn.addListener(function(){return R();}),N.j.Ql.addListener(function(){return R();}),N.j.state.addListener(function(){return R();}),N.j.addEventListener(x.T.xWa,function(){return R();}),N.j.addEventListener(x.T.rl,function(){return R();}),N.j.addEventListener(x.T.uea,function(){return R();}),N.j.addEventListener(x.T.dG,function(){return R(!0);}),R());m.config.NYa && (N.OYa=n.fa.get(D.gP)(m.config.NYa,function(){var L;0 === (null === (L=N.j.Xf) || void 0 === L?void 0:L.QA()) && (L=n.fa.get(q.w9).ZOa(N.j),N.kd(L.code,L));N.j.Ob.removeListener(O);}),N.j.Ob.addListener(O),O());}function M(){N.closed || (M=t.bua,N.zb.addEventListener(B.Si.gV,N.Ev[B.Si.gV]=function(){return N.LLb();}),N.zb.addEventListener(B.Si.wq,N.Ev[B.Si.wq]=function(){return N.j5();}),N.ja.addEventListener("ended",N.Ev.ended=function(){return N.sLb();}),N.ja.addEventListener("play",N.Ev.play=function(){return N.zLb();}),N.ja.addEventListener("pause",N.Ev.pause=function(){return N.xLb();}),N.ja.addEventListener("playing",N.Ev.playing=function(){return N.ELb();}),N.zm=!0,N.j.QVa && (N.Wf.gsa(N.mediaTime),N.log.trace("Video element initialization complete"),N.j.zd("vi"),m.config.SOa?setTimeout(function(){N.Mna=!0;N.$k();},m.config.SOa):N.Mna=!0,I(),v.Ic(function(){return N.$k();})));}N=this;J?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.H}),null === (K=this.j.Ga) || void 0 === K?void 0:K.fs(this.j.H));this.log.trace("Waiting for loadedmetadata");this.zb.addEventListener(B.Si.AWa,function(O){var R;O=O.aa;N.j.zd("ld",O);null === (R=N.j.Ga) || void 0 === R?void 0:R.fs(O);N.j.fireEvent(x.T.xWa);});h.IKa(this.ja,"loadedmetadata",function(){N.log.trace("Video element event: loadedmetadata");N.j.zd("md");});f.df.addListener(f.ym,this.aUa[f.ym]=function(){return N.close();},l.YC);this.j.addEventListener(x.T.Tf,function(){return N.close();},l.YC);this.j.addEventListener(x.T.Z1a,function(){return N.$pa();});this.j.addEventListener(x.T.Oq,function(){return N.vLb();});this.j.paused.addListener(function(){return N.$k();});this.j.muted.addListener(function(){return N.Asa();});this.j.volume.addListener(function(){return N.Asa();});this.j.playbackRate.addListener(function(){return N.Y7();});this.j.rn.addListener(function(){return N.$k();});this.j.Ql.addListener(function(){return N.$k();});this.Asa();this.Y7();this.Wf.T6(function(){return N.u4();});this.u4();v.Ic(function(){M();});};c.prototype.J_=function(J){var I;I=this;!1;this.Wf.Mlb(J);this.Bob(J).then(function(){I.u4();I.j.fireEvent(x.T.t4);}).catch(function(M){I.kd(p.J.Wcb,{gb:w.md(M)});});};c.prototype.cea=function(J,I,M){M=void 0 === M?{}:M;I=this.mvb(J,I);this.Wf.Klb(J,I,M);this.u4();this.q_a || J.type !== g.Cc.qk.Bb || (this.Xn.kla || this.seek(this.j.V,x.Ad.Tv),this.q_a=!0);};c.prototype.mvb=function(J,I){var M,N;N=null === (M=this.j.la.Zo) || void 0 === M?void 0:M.BK();N && J.type === g.Cc.qk.Bb && ((J=new H.g$(this.log,{mediaType:H.uh.Bb,url:"http://some-url"},I).wa(N))?I=J:!1);return I;};c.prototype.u4=function(){this.zm?this.$k():m.config.Llb && this.Wf.gsa(this.mediaTime);};c.prototype.AUb=function(){!1;this.j.Ob.set(x.ob.cg);this.J3=!0;this.$k();};c.prototype.Hpb=function(){var J;J=this;this.J3 && (!1,this.J3=!1,v.Ic(function(){return J.cZa();}));};c.prototype.i2=function(){return this.Wf.i2();};c.prototype.cZa=function(){var J,I;J=this.j.TA() || 0;if(this.j.Va.jj){if(m.config.tnb){J=J - (this.zb.qqa + 1) - m.config.pqa;I=this.j.Ga.xm().Sb;J=Math.max(J,I);}}else (J-=m.config.bSb,J=Math.max(J,this.Xn.Kla));this.seek(J,x.Ad.YH);};c.prototype.f5=function(J){var I;I=this;this.Wf.iTb(J);v.Ic(function(){return I.$k();});};c.prototype.qAb=function(){return {Q0:this.Q0,T4:this.T4};};c.prototype.Bob=function(J){var I;I=this.zb && this.zb.VSa();this.j.xp && I && Infinity !== J.k2a && (J=J.k2a + J.Ys,J > this.j.xp.R_a(A.ia) && (this.j.xp=A.Xb(J)));return Promise.resolve();};c.prototype.bNb=function(){var J;J=this;this.Xn.z5 && (!1,this.Oea() && this.Wf.Cga(this.mediaTime) && (this.zb.seek(this.mediaTime),this.Xn.z5=!1,v.Ic(function(){return J.$k();})));};c.prototype.xXb=function(J){var I;if(J < this.mediaTime){I=this.mediaTime - J;m.config.dNb && J && I > z.yY && (J={ElementTime:u.vh(J),MediaTime:u.vh(this.mediaTime)},I > z.nEa?this.kd(p.J.gdb,{gb:Object.assign({Trace:this.zb.Dx()},J)}):this.log.warn("VIDEO.currentTime became smaller",J));}else this.mediaTime=u.no(J,0,this.j.xp.da(A.ia));};c.prototype.Oea=function(){return this.j.rn.value === x.we.Fd && this.j.Ql.value === x.we.Fd;};c.prototype.Jpb=function(){var J,I,M;J=this;I=this.j.Ob.value;M=I;this.Xn.kla?M=x.ob.cg:this.ja && this.ja.ended?I === x.ob.oc && (M=x.ob.Ct):this.Oea() && this.Wf.Cga(this.mediaTime)?this.zb.pub()?M=this.ja && this.ja.paused?x.ob.wh:x.ob.oc:this.BVb.dd(function(){return J.AVb();}):M=this.j.xp?this.j.lUa(this.mediaTime,this.Wf.P0())?x.ob.cg:x.ob.Ct:x.ob.cg;return M;};c.prototype.HLb=function(){var J;if(this.j.Ob.value === x.ob.cg){J=this.Wf.iWb() > this.Wf.P0();this.j.Ql.value !== x.we.Fd?this.j.Ek.value?(this.j.fireEvent(x.T.Yw,{cause:d.gDa}),this.log.warn("rebuffer due to timed text",this.j.Ek.value.Hh)):this.j.fireEvent(x.T.tN):J?(this.Q0++,this.j.fireEvent(x.T.Yw,{cause:d.laa})):(this.T4++,this.j.fireEvent(x.T.Yw,{cause:d.maa}));}};c.prototype.AVb=function(){this.kj() || (m.config.JKb && this.Wf.IKb(),this.$k());};c.prototype.LLb=function(){this.$k();};c.prototype.j5=function(){this.$k();this.j.fireEvent(x.T.wq);};c.prototype.sLb=function(){this.log.trace("Video element event: ended");this.$k();};c.prototype.zLb=function(){this.log.trace("Video element event: play");this.$k();};c.prototype.xLb=function(){this.log.trace("Video element event: pause");this.$k();};c.prototype.ELb=function(){this.log.trace("Video element event: playing");this.$k();};c.prototype.Asa=function(){this.kj() || (this.ja && this.ja.volume !== this.j.volume.value && (this.ja.volume=this.j.volume.value),this.ja && this.ja.muted !== this.j.muted.value && (this.ja.muted=this.j.muted.value));};c.prototype.Y7=function(){!this.kj() && this.ja && (this.ja.playbackRate=this.j.playbackRate.value);};c.prototype.$pa=function(){var J;J=this;this.kj() || !y.vc(this.ja) || this.ja.ended || !this.Mna || !this.CN && void 0 !== this.CN || (this.log.trace("Calling play on element"),Promise.resolve(this.ja.play()).then(function(){J.closed || (J.CN=!1,J.roa=!1,J.ja.style.display=null,J.j.rl=!1,J.j.fireEvent(x.T.uea,{j:J.j}));}).catch(function(I){"NotAllowedError" === I.name?(J.log.warn("Playback is blocked by the browser settings",I),J.j.rl=!0,J.closed || (J.roa=!0,J.ja.style.display="none",J.j.fireEvent(x.T.rl,{player:{play:function(){return J.$pa();}}}))):J.closed || (J.CN=!1,J.y_a || (J.y_a=!0,J.log.error("Play promise rejected",I)));}));};c.prototype.vLb=function(){this.Xn.Kla=this.j.TA() || 0;};c.prototype.Zpa=function(){this.kj() || !y.vc(this.ja) || this.ja.ended || !this.Mna || this.CN && void 0 !== this.CN || (this.log.trace("Calling pause on element"),this.ja.pause(),this.CN=!0);};c.prototype.S5a=function(J){this.j.mediaTime.set(this.mediaTime);J && this.j.Oxb();};c.prototype.seek=function(J,I,M,N){var K,O;I=void 0 === I?x.Ad.fw:I;M=void 0 === M?this.j.oa:M;N=void 0 === N?!1:N;O=null === (K=this.j.Ga) || void 0 === K?void 0:K.ah();!this.kj() && O && (this.j.fireEvent(x.T.dG,{cause:I}),this.Xn.wU={time:J,cause:I,oa:M,Uxb:N},this.j.Ob.set(x.ob.cg),this.$k());};c.prototype.cNb=function(){var J,I,M,N,K,O,R,L;if(this.Xn.wU){J=this.Xn.wU;I=J.time;M=J.cause;N=J.oa;K=J.Uxb;if(!this.Wf.Yh() || M === x.Ad.Tv){J=this.j.Fu(N).H;O=this.Wf.Yh()?void 0:this.Wf.Zyb();O=this.Xn.SAb(I,M,N,K,O);N=O.W4;K=O.Uh;R=O.KNb;O=O.Yg;this.Wf.gfa(this.mediaTime);L=this.mediaTime;I=u.vh(I);this.j.oq("SEEKING: Requested: (" + J + ":" + M + ":" + I + ") - Actual: (contentPts: " + K + ",playerPts: " + (R + ", newMediaTime: " + N + ")"));this.log.info("Seeking",{Requested:I,Actual:u.vh(N),Cause:M,Skip:O});M === x.Ad.Tv || O || (this.Wf.G1a(),this.Wf.cTb());this.mediaTime=N;this.Xn.Kla=K;I=this.j.Jg.value;R=this.j.If.value;this.j.Jg.set(null);this.j.If.set(null);this.S5a(!0);this.Xn.wU=void 0;this.Xn.z5=!0;this.j.fireEvent(x.T.Ml,{Nna:L,W4:N,Uh:K,cause:M,skip:O,Jg:I,If:R,H:J});O && this.Wf.skip(N);}}};c.prototype.kd=function(J,I,M){this.closed || this.j.kd(J,I,M);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Wf.close();this.zb.removeEventListener(B.Si.gV,this.TXa[B.Si.gV]);this.zb.removeEventListener(B.Si.wq,this.TXa[B.Si.wq]);this.ja.removeEventListener("ended",this.Ev.ended);this.ja.removeEventListener("play",this.Ev.play);this.ja.removeEventListener("pause",this.Ev.pause);this.ja.removeEventListener("playing",this.Ev.playing);f.df.removeListener(f.ym,this.aUa[f.ym]);this.closed=!0;try{m.config.SJb && (this.ja.volume=0,this.ja.muted=!0);this.Zpa();this.zb.close();}catch(J){}this.ja=void 0;this.Wf.G1a();}};c.prototype.kj=function(){return this.closed?!0:y.vc(this.ja)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.PAa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XEa="SeekManagerFactorySymbol";},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.jxa=void 0;c=a(11);g=a(60);l=a(22);m=a(2);d=a(15);b.jxa=function(f,h,k){function n(q){var t,u;t=q.error || q;u=l.md(t);k.error("uncaught exception",t,u);(t=(t=t && t.stack) && c.config.z5a && c.config.eXb?0 <= t.indexOf(c.config.z5a):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.kd(m.J.Ceb));}function p(){g.df.removeListener(g.L2,n);f.removeEventListener(d.T.Tf,p);f.removeEventListener(d.T.Ps,p);}try{g.df.addListener(g.L2,n);f.addEventListener(d.T.Tf,p);c.config.VDb && f.addEventListener(d.T.Ps,p);}catch(q){k.error("exception in exception handler ",q);}};},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.$Wa=void 0;c=a(11);g=a(12);l=a(50);r=a(2);m=a(10);d=a(14);f=a(6);a=a(31);f.fa.get(a.Pg).register(r.J.xya,function(h){var n,p,q,t,u;function k(){var w;w=m.Wv(l.ti() / q);if(w != u){for(var v=m.mo(w - u,30);v--;){t.push(0);}(v=m.Vm(t.length - 31,0)) && t.splice(0,v);u=w;}t[t.length - 1]++;}n=c.config.MHb;p=-6 / (n - 2 - 2);q=g.sk;t=[];u=m.Wv(l.ti() / q);d.lla(n) && (setInterval(k,1E3 / n),b.$Wa={jAb:function(){var x;for(var w=[],v=t.length - 1;v--;){x=t[v];w.unshift(0 >= x?9:1 >= x?8:x >= n - 1?0:m.ii((x - 2) * p + 7));}return w;}});h(g.ze);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.taa="PlaybackMilestoneStoreSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.O_=void 0;c=a(14);b.O_=function(g){var l,m,d,f;l=g.$h;m=g.loadTime;g=g.Hha;d=c.pa(m)?m:0;f=l[g.target] || ({});l[g.target] !== f && (l[g.target]=f);Object.entries(g.fields).forEach(function(h){var k,n,p,q;k=Z(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)f[h]=k;else {n=k.type;if("count" === n)(void 0 === f[h] && (f[h]=0),++f[h]);else if(void 0 !== k.value){if("array" === n){n=f[h];p=k.adjust;q=k.value;n || (n=f[h]=[]);p && 0 < p.length && p.forEach(function(t){q[t]-=d || 0;});n.push(q);}else f[h]="sum" === n?(f[h] || 0) + k.value:k.value;}else f[h]=k;}});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CCa="PboManifestRequestTransformerSymbol";},function(r,b,a){var g,l,m,d,f;function c(h,k){this.zb=h;this.j=k;this.wT=[];}Object.defineProperty(b,"__esModule",{value:!0});b.UN=void 0;r=a(0);g=a(2);l=a(1);m=a(14);d=a(27);f=a(6);c.prototype.N1=function(h){this.wT.forEach(function(k){return k(h);});};c.prototype.kd=function(h,k,n){this.j.kd(h,k,n);};c.prototype.Rkb=function(h){-1 === this.wT.indexOf(h) && this.wT.push(h);};c.prototype.xQb=function(h){h=this.wT.indexOf(h);0 <= h && this.wT.splice(h,1);};c.prototype.YTa=function(h){var k,n;k={};m.vc(h.code)?k.ka=g.F9(h.code):k.ka=g.K.Ni;try{n=h.message.match(/\((\d*)\)/)[1];k.Oe=f.Bea(n,4);}catch(p){}k.gb=d.md(h);return k;};a=r.__decorate([l.O()],c);b.UN=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GDa="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bq=void 0;r=b.bq || (b.bq={});r[r.NO=0]="No";r[r.hba=1]="Yes";r[r.iza=2]="Later";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LDa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SDa="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var g;function c(l,m){var d;d=this;this.Il=l;this.Hf=m;this.addEventListener=function(f,h,k){return d.Hf.addListener(f,d.HOa(f,h),k);};this.removeEventListener=function(f,h){return d.Hf.removeListener(f,d.HOa(f,h));};this.getReady=function(){return d.Hf.isReady();};this.getXid=function(){return d.Cb().Ex();};this.getMovieId=function(){return d.Cb().OAb();};this.getPlaygraphId=function(){return d.Hf.oBb();};this.getElement=function(){return d.Hf.kp();};this.isPlaying=function(){return d.Cb().iB();};this.isPaused=function(){return d.Cb().wFb();};this.isMuted=function(){return d.Cb().rFb();};this.isReady=function(){return d.Cb().isReady();};this.isBackground=function(){return d.Cb().UEb();};this.setBackground=function(f){return d.Cb().G2a(f);};this.startInactivityMonitor=function(){return d.Cb().AV();};this.setTransitionTime=function(f){return d.Cb().Z2a(f);};this.getDiagnostics=function(){return d.Cb().Dzb();};this.getTextTrackList=function(f){return d.Cb().QTa(f);};this.getTextTrack=function(){return d.Cb().PTa();};this.setTextTrack=function(f){return d.Cb().Y2a(f);};this.getVolume=function(){return d.Cb().zCb();};this.isEnded=function(){return d.Cb().dFb();};this.getBusy=function(){return d.Cb().Yh();};this.getError=function(){return d.Cb().getError();};this.getCurrentTime=function(){return d.Cb().j.mediaTime.value;};this.getBufferedTime=function(){return d.Cb().$yb();};this.getSegmentTime=function(){return d.Cb().l2();};this.getDuration=function(){return d.Cb().TRa();};this.getVideoSize=function(){return d.Cb().wCb();};this.getAudioTrackList=function(){return d.Cb().Iyb();};this.getAudioTrack=function(){return d.Cb().Hyb();};this.getTimedTextTrackList=function(f){return d.Cb().QTa(f);};this.getTimedTextTrack=function(){return d.Cb().PTa();};this.getAdditionalLogInfo=function(){return d.Cb().Byb();};this.getTrickPlayFrame=function(f){return d.Cb().kCb(f);};this.getSessionSummary=function(){return d.Cb().zTa();};this.getTimedTextSettings=function(){return d.Cb().F2();};this.setMuted=function(f){return d.Cb().TSb(f);};this.setVolume=function(f){return d.Cb().pTb(f);};this.getPlaybackRate=function(){return d.Cb().Dn();};this.setPlaybackRate=function(f){return d.Cb().ZSb(f);};this.setAudioTrack=function(f){return d.Cb().CSb(f);};this.setTimedTextTrack=function(f){return d.Cb().Y2a(f);};this.setTimedTextSettings=function(f){return d.Cb().sV(f);};this.prepare=function(){return d.Cb().oM();};this.load=function(){return d.Cb().load();};this.close=function(f){return d.iLa(d.Hf.close(),f);};this.play=function(){return d.Cb().play();};this.pause=function(){return d.Cb().pause();};this.seek=function(f){return d.Cb().seek(f);};this.engage=function(f,h){return d.iLa(d.Cb().XR(f),h);};this.induceError=function(f){return d.Cb().lEb(f);};this.loadCustomTimedTextTrack=function(f,h,k,n){return d.Cb().iHb(f,h,k,n);};this.tryRecoverFromStall=function(){return d.Cb().YV();};this.addEpisode=function(f){var h,k;d.log.info("Next episode added",f);h=d.kXa(f.playbackParams);k=("startPts" in f)?f.startPts:("nextStartPts" in f)?f.nextStartPts:h.V;if(void 0 === k || 0 > k)k=0;return d.Hf.pq({H:f.movieId,V:k,ak:("endPts" in f)?f.endPts:("currentEndPts" in f)?f.currentEndPts:h.ak,xb:h,la:f.manifest,Il:d.Il});};this.playNextEpisode=function(f){f=void 0 === f?{}:f;f=d.kXa(f);d.log.info("Playing the next episode",f);return d.Hf.Rja(d.Hf.WRa(),d.Hf.m2().Cg,f);};this.watchCredits=function(){};this.playSegment=function(f){return d.Cb().zNb(f);};this.queueSegment=function(f){return d.Cb().mPb(f);};this.updateNextSegmentWeights=function(f,h){return d.Cb().di(f,h);};this.getCropAspectRatio=function(){return d.Cb().Jia();};this.getCropAspectRatioXandY=function(){return d.Cb().rzb();};this.generateScreenshots=function(f){return d.Cb().vyb(f);};this.getCurrentSegmentId=function(){return d.Hf.WRa();};this.getPlaygraphMap=function(){return d.Hf.pBb();};this.setNextSegment=function(f){for(var h=[],k=0;k < arguments.length;++k){h[k - 0]=arguments[k];}h=h.map(function(n){return {oa:n.segmentId,$T:n.nextSegmentId};});d.Hf.hk.apply(d.Hf,ba(h));};this.clearNextSegment=function(f){for(var h=[],k=0;k < arguments.length;++k){h[k - 0]=arguments[k];}return d.Hf.kpb.apply(d.Hf,ba(h));};this.updatePlaygraphMap=function(f){return d.Hf.T5a(f);};this.goToNextSegment=function(f,h){return d.Hf.Rja(f,h);};this.getPlaying=function(){return d.isPlaying();};this.getPaused=function(){return d.isPaused();};this.getMuted=function(){return d.isMuted();};this.getEnded=function(){return d.isEnded();};this.getTimedTextVisibility=function(){return d.isTimedTextVisible();};this.isTimedTextVisible=function(){return ! !d.Cb().F2().visibility;};this.setTimedTextVisibility=function(f){return d.setTimedTextVisible(f);};this.setTimedTextSize=function(f){return d.Cb().sV({size:f});};this.setTimedTextBounds=function(f){return d.Cb().sV({bounds:f});};this.setTimedTextMargins=function(f){return d.Cb().sV({margins:f});};this.setTimedTextVisible=function(f){return d.Cb().sV({visibility:f});};this.getCongestionInfo=function(f){f && f({success:!1,name:null,isCongested:null});};this.Eha=new Map();this.log=g.Dh("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;g=a(6);a(94);c.prototype.Cb=function(){return this.Hf.wi();};c.prototype.HOa=function(l,m){var d;this.Eha.has(l) || this.Eha.set(l,new Map());d=this.Eha.get(l);d.has(m) || d.set(m,this.Ctb(l,m));return d.get(m);};c.prototype.Ctb=function(l,m){var d;d=this;return function(f){return m(Object.assign({},f,{type:l,target:d}));};};c.prototype.iLa=function(l,m){return m?l.then(m,m):l;};c.prototype.kXa=function(l){l=void 0 === l?{}:l;return {lk:l.trackingId,S_:l.authParams,Zn:l.sessionParams,sd:l.uiLabel,g8:l.uxLabels,Vga:l.disableTrackStickiness,V7:l.uiPlayStartTime,S1:l.forceAudioTrackId,T1:l.forceTimedTextTrackId,jj:l.isBranching,K6a:l.vuiCommand,playbackState:l.playbackState?{currentTime:l.playbackState.currentTime,volume:l.playbackState.volume,muted:l.playbackState.muted,playbackRate:l.playbackState.playbackRate}:void 0,cK:l.enableTrickPlay,hka:l.heartbeatCooldown,jT:l.isPlaygraph,b4:l.loadImmediately || !1,r_a:l.pin,DU:l.preciseSeeking,V:l.startPts,ta:l.endPts,ak:l.logicalEnd,o6:l.renderTimedText,vQa:l.extraManifestParams,lea:l.assetId,wmb:l.audioLanguages,MVb:l.textLanguages,up:l.packageId,XOa:l.desiredDownloadables,Kpa:l.requestReference};};b.LGa=c;},function(r,b,a){var g;function c(l,m,d,f){var h;h=this;this.wc=l;this.mk=m;this.et=d;this.Hb=f;this.T5=new Map();this.uTb();this.Hb.addListener(g.Mb.loaded,function(){return h.MB();});}Object.defineProperty(b,"__esModule",{value:!0});b.UC=void 0;g=a(15);c.prototype.t5a=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Sja=function(l,m){var d;d=this;return this.et.transition(m).then(function(){d.wc.ng=l;});};c.prototype.close=function(l){return this.et.close(l);};c.prototype.isReady=function(){return this.et.xBb();};c.prototype.kp=function(){return this.et.kp();};c.prototype.wi=function(){return this.et.wi();};c.prototype.qM=function(l){this.T5.has(l) || this.T5.set(l,this.et.pq(this.Gnb(l)));return this.T5.get(l);};c.prototype.uTb=function(){var l;l=this;this.et.addListener(g.$C.iV,function(){return l.Hb.bc(g.$C.iV);});Object.values(g.Mb).forEach(function(m){l.et.addListener(m,function(d){return l.Hb.bc(m,d);});});};c.prototype.lU=function(){this.MB();};c.prototype.Wna=function(l){this.et.CXb({id:l,H:this.wc.cf(l).aa,ak:this.wc.ATa(l)});};c.prototype.MB=function(){var l,m;if(this.isReady()){l=this.wc.ng;m=this.wc.EK(l);m && !this.T5.has(m) && (this.Wna(l),this.qM(m));}};c.prototype.Gnb=function(l){var m,d,f,h;d=this.wc.cf(l);f=this.mk.aF(d.aa);h=null === f || void 0 === f?void 0:f.xb;f=null === f || void 0 === f?void 0:f.la;return {id:(null === h || void 0 === h?0:h.jj)?void 0:l,H:d.aa,V:d.Zb,ak:null !== (m=null === h || void 0 === h?void 0:h.ak) && void 0 !== m?m:d.Mc,xb:h,la:f};};b.UC=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Axa=void 0;b.Axa=function(a){var l,m,d,f;function c(){if(d)for(var h;h=l.pop();){h(f);}}function g(h){d=!0;f=h;c();}l=[];return function(h){l.push(h);m || (m=!0,a(g));c();};};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.e5a=void 0;c=a(70);g=a(12);l=a(11);m=a(45);d=a(50);f=a(6);h=a(2);k=a(22);n=a(67);p=a(10);q=a(116);t=a(31);u=a(34);w=a(32);v=a(18);b.e5a=(function(){var z,B,A,E;function x(D){var F,C,G;F="info";C="";G=f.fa.get(n.gD).OSa();D.W || (F="error",C+="&errorcode=" + (D.errorCode || ""),C+="&errorsubcode=" + (D.ka || ""));C="type=startup&sev=" + F + C + "&" + m.ZL(k.Jb({},G,{prefix:"m_"}));!1;y("startup",C,z);}function y(D,F,C){C && B && l.config.g5a[D] && (D=A + "&jsoffms=" + d.ti() + "&do=" + p.Ve.onLine + "&" + F + "&" + m.ZL(k.Jb({},E.Sc,{prefix:"im_"})),!1,c.qf.download({url:C,Doa:D,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},GE:"track"},g.Ti));}B=!1;A="";f.Dh("TrackingLog");E=f.fa.get(t.Pg);E.register(h.J.Cya,function(D){var F,C,G;if(B=l.config.f5a && ! !l.config.Yra){z=f.fa.get(q.eH).host + l.config.Yra;F=f.fa.get(w.uk);C=f.fa.get(w.yz);G=f.fa.get(v.ud).id;A="cat=cadplayback&dev=" + encodeURIComponent(F.px) + "&ep=" + encodeURIComponent(C.kX) + "&ver=" + encodeURIComponent("6.0030.553.911") + "&jssid=" + G + "&browserua=" + p.Yp;l.config.ZA && (A+="&groupname=" + encodeURIComponent(l.config.ZA));l.config.UG && (A+="&uigroupname=" + encodeURIComponent(l.config.UG));F=A;C=f.fa.get(u.VO);C=k.Jb({},C,{prefix:"pi_"});C="&" + m.ZL(C);A=F + C;E.yT(x);}D(g.ze);});return y;})();},function(r,b,a){var g,l,m,d,f;function c(h){var k;g.Dh("MediaSourceASE").trace("Inside MediaSourceASE");k=h.DK();this.readyState=f.pc.CLOSED;this.sourceBuffers=k.sourceBuffers;this.addSourceBuffer=function(n){return k.addSourceBuffer(n);};this.D_=function(n){return k.D_(n);};this.removeSourceBuffer=function(n){return k.removeSourceBuffer(n);};this.Yo=function(n){return k.Yo(n);};this.zV=d++;this.duration=void 0;k.ASb(this.zV);this.readyState=f.pc.OPEN;this.Rb=l.fa.get(m.yf).tB(f.Rb,{});}Object.defineProperty(b,"__esModule",{value:!0});b.UAa=void 0;g=a(6);l=a(6);m=a(26);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Zi;},set:function(h){var k;this.Zi=h || Infinity;k=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.Zi=k;});}});f={pc:{CLOSED:0,OPEN:1,Ct:2,name:["CLOSED","OPEN","ENDED"]},Rb:{nNa:!0,wYa:!0}};b.UAa=Object.assign(c,f);},function(r,b,a){var h,k,n,p,q,t,u,w;function c(v){return v.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function g(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function l(v,x,y){var z;if("string" === typeof v)return l.call(this,c(v),x,y);z=0;Object.keys(v).forEach(function(B){var A,E,D;A=q[B];E=v[B];if(A){if(D=t[B] || w[typeof h[A]])try{E=D(E);}catch(F){y && y.error("Failed to convert value '" + E + "' for config '" + B + "' : " + F.toString());return;}D=p[A];this[A]=E;p[A] !== D && (y && y.debug("Config changed for '" + B + "' from " + g(D) + " (" + typeof D + ") to " + g(E) + " (" + typeof E + ")"),++z);}else x?(A=(A=u[B])?A.filter(function(F){return F[0] !== this;},this):[],A.push([this,E]),u[B]=A):y && y.error("Attempt to change undeclared config option '" + B + "'");},this);z && p.emit("changed");return z;}function m(){return Object.keys(q).reduce(function(v,x){var y,z;y=q[x];z=v[y];z?(z.push(x),v[y]=z.sort(function(B,A){return A.length - B.length;})):v[y]=[x];return v;},{});}function d(v,x){return v.hasOwnProperty(x)?g(v[x]):void 0;}function f(v,x){return "undefined" === typeof v?x:v;}b=a(85);a=a(1246).EventEmitter;h={};k=Object.create(h);n=Object.create(k);p=Object.create(n);q={};t={};u={};p.declare=function(v){Object.keys(v).forEach(function(x){var y,z,B,A;y=v[x];z=y[0];B=y[1];A=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(E){var D;if(q.hasOwnProperty(E))throw Error("The configuration value '" + E + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof B && (B=B()),h[x]=B);q[E]=x;"function" === typeof A && (t[E]=A);if(D=u[E])(D.forEach(function(F){var C,G;C=F[0];G={};G[E]=F[1];l.call(C,G,!1);}),delete u[E]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=l.bind(k);p.$u=l.bind(n);p.dump=function(v,x){var z,B,A,E;function y(){E && v && v.log("===========================================");}z=Object.keys(u).sort();B={};A=m();x=f(x,!0);Object.keys(q).sort().forEach(function(D){var F,C,G;D=q[D];if(!B[D]){B[D]=!0;F=d(k,D);C=d(n,D);if(x || "undefined" !== typeof F || "undefined" !== typeof C){G=A[D].join(",");G+=" = " + g(p[D]) + " (" + typeof p[D] + ") [";G+=f(C,"<unset>") + ",";G+=f(F,"<unset>") + ",";G+=d(h,D) + "]";E || (E=!0,v && v.log("Current config values"),y());v && v.log(G);}}});(x || z.length) && v && v.log("<undeclared> :",z);y();};p.Wo=function(v){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});v && l.call(x,v);return x;};p.F5=function(){var v;v=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[v[y][0]]=k[y];return x;},{});};p.reset=function(){Object.keys(k).forEach(function(v){delete k[v];});};p.Wc={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var g;function c(l){for(var m="",d=0;d < l.length;d++){m+=l[d].aa + "|";}return m;}g=a(288);r.exports={assert:function(l,m){if(!l)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},P6b:function(l,m,d){Array.prototype.splice.apply(l,[m,0].concat(d));},pzb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === g.DO.X8a){m=l[d].list;break;}}return m;},Wyb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === g.DO.Q7a){m=l[d].list;break;}}return m;},jub:function(l,m){for(var d=0,f,h,k,n=0,p=l.length - 1;n < p;n++){f=c(l[n].list || []);k=!1;for(var q=0,t=m.length;q < t;q++){if((h=c(m[q].list || []),h == f)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},$Kb:function(l,m,d){for(var f=[],h,k=0;k < Math.min(m,l.length);k++){h=l[k].list || [];f=f.concat(h.slice(0,d));}return f;},ZKb:function(l,m){for(var d=[],f,h=0;h < l.length && (f=l[h].list || [],f=f.slice(0,Math.min(f.length,m)),m-=f.length,d=d.concat(f),0 !== m);h++){;}return d;},YKb:function(l,m,d){var f;m < l.length && 0 <= m && (l=l[m].list || [],d < l.length && (f=l[d]));return f;},PQa:function(l){for(var m={},d=l.length,f,h=0;h < d;h++){f=l[h].list || [];for(var k=0;k < f.length;k++){if(f[k].property === g.AH.PO || f[k].property === g.AH.Eva){m.xj=h;m.tl=k;break;}}}void 0 === m.xj && void 0 === m.tl && (m.xj=0,m.tl=0);return m;}};},function(r,b,a){var m;function c(d,f,h,k,n,p,q){this.fW=k;this.b7a=d;this.LYa=f;this.lna=h;this.VFb=p;this.TB=q;this.split=n;}function g(){this.I={};this.I["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.I["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.I["3"]=new c("7","8","7","10","1.5",0,0);this.I["7"]=new c("15","16","15","9","4.5",0,0);this.I["15"]=new c("31","32","31","2","5.5",0,0);this.I["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.I["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.I["123"]=new c("123","124","123","0","0",1,.207298);this.I["124"]=new c("123","124","123","0","0",1,.49076);this.I["64"]=new c("125","126","125","4","40.5",0,0);this.I["125"]=new c("125","126","125","0","0",1,-.00157835);this.I["126"]=new c("125","126","125","0","0",1,.934205);this.I["32"]=new c("65","66","65","135","5.5",0,0);this.I["65"]=new c("127","128","128","4","1272.5",0,0);this.I["127"]=new c("127","128","128","0","0",1,-.510333);this.I["128"]=new c("127","128","128","0","0",1,.18363);this.I["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.I["129"]=new c("129","130","129","0","0",1,-.0464542);this.I["130"]=new c("129","130","129","0","0",1,.458833);this.I["16"]=new c("33","34","34","10","2.00001",0,0);this.I["33"]=new c("67","68","67","0","29.5",0,0);this.I["67"]=new c("131","132","131","2","39.5",0,0);this.I["131"]=new c("131","132","131","0","0",1,-.37577);this.I["132"]=new c("131","132","131","0","0",1,.512087);this.I["68"]=new c("133","134","134","140","1.5",0,0);this.I["133"]=new c("133","134","134","0","0",1,.321272);this.I["134"]=new c("133","134","134","0","0",1,-.675396);this.I["34"]=new c("69","70","70","2","24.5",0,0);this.I["69"]=new c("135","136","136","9","28.5",0,0);this.I["135"]=new c("135","136","136","0","0",1,-.0573845);this.I["136"]=new c("135","136","136","0","0",1,-.507455);this.I["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.I["137"]=new c("137","138","137","0","0",1,-.503909);this.I["138"]=new c("137","138","137","0","0",1,.450886);this.I["8"]=new c("17","18","17","4","44189.5",0,0);this.I["17"]=new c("35","36","35","2","21.5",0,0);this.I["35"]=new c("71","72","72","0","19.5",0,0);this.I["71"]=new c("139","140","140","9","2.5",0,0);this.I["139"]=new c("139","140","140","0","0",1,.00403497);this.I["140"]=new c("139","140","140","0","0",1,-.312656);this.I["72"]=new c("141","142","141","135","96",0,0);this.I["141"]=new c("141","142","141","0","0",1,-.465786);this.I["142"]=new c("141","142","141","0","0",1,.159633);this.I["36"]=new c("73","74","73","130","89.5",0,0);this.I["73"]=new c("143","144","144","10","4.5",0,0);this.I["143"]=new c("143","144","144","0","0",1,-.76265);this.I["144"]=new c("143","144","144","0","0",1,-.580804);this.I["74"]=new c("145","146","146","10","16.5",0,0);this.I["145"]=new c("145","146","146","0","0",1,.296357);this.I["146"]=new c("145","146","146","0","0",1,-.691659);this.I["18"]=new c("37","38","38","9","1.5",0,0);this.I["37"]=new c("37","38","38","0","0",1,.993951);this.I["38"]=new c("75","76","75","0","19",0,0);this.I["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.I["147"]=new c("147","148","147","0","0",1,-.346535);this.I["148"]=new c("147","148","147","0","0",1,-.995745);this.I["76"]=new c("147","148","147","0","0",1,-.99978);this.I["4"]=new c("9","10","9","5","4.5",0,0);this.I["9"]=new c("19","20","19","2","4.5",0,0);this.I["19"]=new c("39","40","39","140","7.5",0,0);this.I["39"]=new c("77","78","78","134","6.5",0,0);this.I["77"]=new c("149","150","150","7","11.5",0,0);this.I["149"]=new c("149","150","150","0","0",1,.729843);this.I["150"]=new c("149","150","150","0","0",1,.383857);this.I["78"]=new c("151","152","151","133","4.5",0,0);this.I["151"]=new c("151","152","151","0","0",1,.39017);this.I["152"]=new c("151","152","151","0","0",1,.0434342);this.I["40"]=new c("79","80","79","133","3.5",0,0);this.I["79"]=new c("153","154","154","8","4.5",0,0);this.I["153"]=new c("153","154","154","0","0",1,-.99536);this.I["154"]=new c("153","154","154","0","0",1,-.00943396);this.I["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.I["155"]=new c("155","156","155","0","0",1,.266272);this.I["156"]=new c("155","156","155","0","0",1,.959904);this.I["20"]=new c("41","42","42","10","65.5",0,0);this.I["41"]=new c("81","82","82","7","10.5",0,0);this.I["81"]=new c("157","158","158","2","37.5",0,0);this.I["157"]=new c("157","158","158","0","0",1,-.701873);this.I["158"]=new c("157","158","158","0","0",1,.224649);this.I["82"]=new c("159","160","159","133","9.5",0,0);this.I["159"]=new c("159","160","159","0","0",1,.0955181);this.I["160"]=new c("159","160","159","0","0",1,-.58962);this.I["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.I["83"]=new c("161","162","161","135","31",0,0);this.I["161"]=new c("161","162","161","0","0",1,-.229692);this.I["162"]=new c("161","162","161","0","0",1,.88595);this.I["84"]=new c("163","164","164","1","13.5",0,0);this.I["163"]=new c("163","164","164","0","0",1,-.992157);this.I["164"]=new c("163","164","164","0","0",1,.922159);this.I["10"]=new c("21","22","22","4","486",0,0);this.I["21"]=new c("43","44","44","133","4.5",0,0);this.I["43"]=new c("85","86","86","10","4.5",0,0);this.I["85"]=new c("165","166","166","4","158.5",0,0);this.I["165"]=new c("165","166","166","0","0",1,-.127778);this.I["166"]=new c("165","166","166","0","0",1,.955189);this.I["86"]=new c("165","166","166","0","0",1,-.994012);this.I["44"]=new c("87","88","88","1","3.5",0,0);this.I["87"]=new c("167","168","168","135","7",0,0);this.I["167"]=new c("167","168","168","0","0",1,-.997015);this.I["168"]=new c("167","168","168","0","0",1,.400821);this.I["88"]=new c("169","170","169","130","36",0,0);this.I["169"]=new c("169","170","169","0","0",1,-.898638);this.I["170"]=new c("169","170","169","0","0",1,.56129);this.I["22"]=new c("45","46","45","9","2.5",0,0);this.I["45"]=new c("89","90","90","9","1.5",0,0);this.I["89"]=new c("171","172","171","10","10.5",0,0);this.I["171"]=new c("171","172","171","0","0",1,.573986);this.I["172"]=new c("171","172","171","0","0",1,-.627266);this.I["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.I["173"]=new c("173","174","173","0","0",1,.925273);this.I["174"]=new c("173","174","173","0","0",1,-.994805);this.I["46"]=new c("91","92","91","136","5.5",0,0);this.I["91"]=new c("175","176","175","10","10.5",0,0);this.I["175"]=new c("175","176","175","0","0",1,.548352);this.I["176"]=new c("175","176","175","0","0",1,-.879195);this.I["92"]=new c("177","178","178","8","14.5",0,0);this.I["177"]=new c("177","178","178","0","0",1,.457305);this.I["178"]=new c("177","178","178","0","0",1,-.998992);this.I["2"]=new c("5","6","5","10","2.5",0,0);this.I["5"]=new c("11","12","11","9","4.5",0,0);this.I["11"]=new c("23","24","24","10","4.00001",0,0);this.I["23"]=new c("47","48","48","133","5.5",0,0);this.I["47"]=new c("93","94","93","3","13.5",0,0);this.I["93"]=new c("179","180","179","138","15.5",0,0);this.I["179"]=new c("179","180","179","0","0",1,.658398);this.I["180"]=new c("179","180","179","0","0",1,-.927007);this.I["94"]=new c("181","182","182","3","15.5",0,0);this.I["181"]=new c("181","182","182","0","0",1,-.111351);this.I["182"]=new c("181","182","182","0","0",1,-.99827);this.I["48"]=new c("95","96","95","7","167",0,0);this.I["95"]=new c("183","184","183","132","36.5",0,0);this.I["183"]=new c("183","184","183","0","0",1,.895161);this.I["184"]=new c("183","184","183","0","0",1,-.765217);this.I["96"]=new c("185","186","186","137","6.00001",0,0);this.I["185"]=new c("185","186","186","0","0",1,-.851095);this.I["186"]=new c("185","186","186","0","0",1,.674286);this.I["24"]=new c("49","50","49","137","5.5",0,0);this.I["49"]=new c("97","98","97","5","23.5",0,0);this.I["97"]=new c("187","188","187","3","28.5",0,0);this.I["187"]=new c("187","188","187","0","0",1,.951654);this.I["188"]=new c("187","188","187","0","0",1,-.993808);this.I["98"]=new c("187","188","187","0","0",1,-.99705);this.I["50"]=new c("187","188","187","0","0",1,-.997525);this.I["12"]=new c("25","26","25","8","8.5",0,0);this.I["25"]=new c("51","52","52","10","4.00001",0,0);this.I["51"]=new c("99","100","100","133","5.5",0,0);this.I["99"]=new c("189","190","190","7","40.5",0,0);this.I["189"]=new c("189","190","190","0","0",1,.151839);this.I["190"]=new c("189","190","190","0","0",1,-.855517);this.I["100"]=new c("191","192","192","133","14.5",0,0);this.I["191"]=new c("191","192","192","0","0",1,.86223);this.I["192"]=new c("191","192","192","0","0",1,.544394);this.I["52"]=new c("101","102","101","135","47.5",0,0);this.I["101"]=new c("193","194","194","4","24.5",0,0);this.I["193"]=new c("193","194","194","0","0",1,.946185);this.I["194"]=new c("193","194","194","0","0",1,.811859);this.I["102"]=new c("193","194","194","0","0",1,-.991561);this.I["26"]=new c("53","54","54","132","6.5",0,0);this.I["53"]=new c("103","104","103","131","85",0,0);this.I["103"]=new c("195","196","196","134","16.5",0,0);this.I["195"]=new c("195","196","196","0","0",1,.0473538);this.I["196"]=new c("195","196","196","0","0",1,-.999401);this.I["104"]=new c("197","198","198","8","15.5",0,0);this.I["197"]=new c("197","198","198","0","0",1,.816129);this.I["198"]=new c("197","198","198","0","0",1,-.99322);this.I["54"]=new c("105","106","105","133","3.5",0,0);this.I["105"]=new c("105","106","105","0","0",1,-.998783);this.I["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.I["199"]=new c("199","200","199","0","0",1,.528588);this.I["200"]=new c("199","200","199","0","0",1,-.998599);this.I["6"]=new c("13","14","14","10","7.5",0,0);this.I["13"]=new c("27","28","28","133","7.5",0,0);this.I["27"]=new c("55","56","56","10","4.5",0,0);this.I["55"]=new c("107","108","107","3","3.5",0,0);this.I["107"]=new c("201","202","201","4","17.5",0,0);this.I["201"]=new c("201","202","201","0","0",1,-.379512);this.I["202"]=new c("201","202","201","0","0",1,.15165);this.I["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.I["203"]=new c("203","204","203","0","0",1,-.884606);this.I["204"]=new c("203","204","203","0","0",1,.265406);this.I["56"]=new c("109","110","109","136","6.5",0,0);this.I["109"]=new c("205","206","205","4","157.5",0,0);this.I["205"]=new c("205","206","205","0","0",1,-.0142737);this.I["206"]=new c("205","206","205","0","0",1,.691279);this.I["110"]=new c("205","206","205","0","0",1,-.998086);this.I["28"]=new c("57","58","58","138","11.5",0,0);this.I["57"]=new c("111","112","112","2","6.5",0,0);this.I["111"]=new c("207","208","208","7","67.5",0,0);this.I["207"]=new c("207","208","208","0","0",1,.763925);this.I["208"]=new c("207","208","208","0","0",1,-.309645);this.I["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.I["209"]=new c("209","210","209","0","0",1,-.306635);this.I["210"]=new c("209","210","209","0","0",1,.556696);this.I["58"]=new c("113","114","113","138","50.5",0,0);this.I["113"]=new c("211","212","212","8","25.5",0,0);this.I["211"]=new c("211","212","212","0","0",1,.508234);this.I["212"]=new c("211","212","212","0","0",1,.793551);this.I["114"]=new c("211","212","212","0","0",1,-.998438);this.I["14"]=new c("29","30","29","134","27.5",0,0);this.I["29"]=new c("59","60","60","7","17.5",0,0);this.I["59"]=new c("115","116","115","135","5.5",0,0);this.I["115"]=new c("213","214","214","137","5.5",0,0);this.I["213"]=new c("213","214","214","0","0",1,.401747);this.I["214"]=new c("213","214","214","0","0",1,.0367503);this.I["116"]=new c("215","216","216","8","5.5",0,0);this.I["215"]=new c("215","216","216","0","0",1,-.0241984);this.I["216"]=new c("215","216","216","0","0",1,-.999046);this.I["60"]=new c("117","118","117","0","12.5",0,0);this.I["117"]=new c("217","218","218","132","5.5",0,0);this.I["217"]=new c("217","218","218","0","0",1,-.997294);this.I["218"]=new c("217","218","218","0","0",1,.210398);this.I["118"]=new c("219","220","219","137","1.5",0,0);this.I["219"]=new c("219","220","219","0","0",1,-.55763);this.I["220"]=new c("219","220","219","0","0",1,.074493);this.I["30"]=new c("61","62","62","133","42.5",0,0);this.I["61"]=new c("119","120","119","135","5.5",0,0);this.I["119"]=new c("221","222","222","4","473.5",0,0);this.I["221"]=new c("221","222","222","0","0",1,-.920213);this.I["222"]=new c("221","222","222","0","0",1,-.17615);this.I["120"]=new c("223","224","224","5","144",0,0);this.I["223"]=new c("223","224","224","0","0",1,-.954295);this.I["224"]=new c("223","224","224","0","0",1,-.382538);this.I["62"]=new c("121","122","121","133","50",0,0);this.I["121"]=new c("225","226","226","10","18.5",0,0);this.I["225"]=new c("225","226","226","0","0",1,-.0731343);this.I["226"]=new c("225","226","226","0","0",1,.755454);this.I["122"]=new c("227","228","228","0","30",0,0);this.I["227"]=new c("227","228","228","0","0",1,.25);this.I["228"]=new c("227","228","228","0","0",1,-.997101);}function l(d,f,h,k,n,p){this.C6=n;this.q0=p;}b=a(534);m=a(287);a={};a.tmb=new (function(){this.Agb=m();this.o=0;this.update=function(){this.o=m() - this.Agb;};this.getValue=function(){return this.o;};this.type="num";})();a.PGb=new (function(){this.getValue=function(d,f,h){return this.o="becauseYouAdded" === h.Pa[d].context || null;};this.type="cat";})();a.QGb=new (function(){this.getValue=function(d,f,h){return this.o="becauseYouLiked" === h.Pa[d].context || null;};this.type="cat";})();a.SGb=new (function(){this.getValue=function(d,f,h){return this.o="billboard" === h.Pa[d].context || null;};this.type="cat";})();a.TGb=new (function(){this.getValue=function(d,f,h){return this.o="continueWatching" === h.Pa[d].context || null;};this.type="cat";})();a.RGb=new (function(){this.getValue=function(d,f,h){return this.o="bigRow" === h.Pa[d].context || null;};this.type="cat";})();a.UGb=new (function(){this.getValue=function(d,f,h){return this.o="genre" === h.Pa[d].context || null;};this.type="cat";})();a.VGb=new (function(){this.getValue=function(d,f,h){return this.o="netflixOriginals" === h.Pa[d].context || null;};this.type="cat";})();a.WGb=new (function(){this.getValue=function(d,f,h){return this.o="newRelease" === h.Pa[d].context || null;};this.type="cat";})();a.XGb=new (function(){this.getValue=function(d,f,h){return this.o="popularTitles" === h.Pa[d].context || null;};this.type="cat";})();a.YGb=new (function(){this.getValue=function(d,f,h){return this.o="queue" === h.Pa[d].context || null;};this.type="cat";})();a.ZGb=new (function(){this.getValue=function(d,f,h){return this.o="recentlyAdded" === h.Pa[d].context || null;};this.type="cat";})();a.$Gb=new (function(){this.getValue=function(d,f,h){return this.o="similars" === h.Pa[d].context || null;};this.type="cat";})();a.bHb=new (function(){this.getValue=function(d,f,h){return this.o="trendingNow" === h.Pa[d].context || null;};this.type="cat";})();a.cHb=new (function(){this.getValue=function(d,f,h){return this.o="ultraHD" === h.Pa[d].context || null;};this.type="cat";})();a.dHb=new (function(){this.getValue=function(d,f,h){return this.o="watchAgain" === h.Pa[d].context || null;};this.type="cat";})();a.aHb=new (function(){this.getValue=function(d,f,h){return this.o="topTen" === h.Pa[d].context || null;};this.type="cat";})();a.bnb=new (function(){this.update=function(d){for(var f in d.Pa){if("becauseYouAdded" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.cnb=new (function(){this.update=function(d){for(var f in d.Pa){if("becauseYouLiked" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.fnb=new (function(){this.update=function(d){for(var f in d.Pa){if("billboard" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.dqb=new (function(){this.update=function(d){for(var f in d.Pa){if("continueWatching" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.enb=new (function(){this.update=function(d){for(var f in d.Pa){if("bigRow" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.wyb=new (function(){this.update=function(d){for(var f in d.Pa){if("genre" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.YJb=new (function(){this.update=function(d){for(var f in d.Pa){if("netflixOriginals" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.$Jb=new (function(){this.update=function(d){for(var f in d.Pa){if("newRelease" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.TNb=new (function(){this.update=function(d){for(var f in d.Pa){if("popularTitles" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Kl=new (function(){this.update=function(d){for(var f in d.Pa){if("queue" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.JPb=new (function(){this.update=function(d){for(var f in d.Pa){if("recentlyAdded" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.aUb=new (function(){this.update=function(d){for(var f in d.Pa){if("similars" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.HWb=new (function(){this.update=function(d){for(var f in d.Pa){if("trendingNow" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.bXb=new (function(){this.update=function(d){for(var f in d.Pa){if("ultraHD" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.XYb=new (function(){this.update=function(d){for(var f in d.Pa){if("watchAgain" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.tWb=new (function(){this.update=function(d){for(var f in d.Pa){if("topTen" === d.Pa[f].context){this.o=Math.max(d.Pa[f].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.nqb=new (function(){this.getValue=function(d,f,h){return this.o="AR" === h.Na || null;};this.type="cat";})();a.oqb=new (function(){this.getValue=function(d,f,h){return this.o="AT" === h.Na || null;};this.type="cat";})();a.pqb=new (function(){this.getValue=function(d,f,h){return this.o="AU" === h.Na || null;};this.type="cat";})();a.qqb=new (function(){this.getValue=function(d,f,h){return this.o="AZ" === h.Na || null;};this.type="cat";})();a.rqb=new (function(){this.getValue=function(d,f,h){return this.o="BB" === h.Na || null;};this.type="cat";})();a.sqb=new (function(){this.getValue=function(d,f,h){return this.o="BE" === h.Na || null;};this.type="cat";})();a.tqb=new (function(){this.getValue=function(d,f,h){return this.o="BO" === h.Na || null;};this.type="cat";})();a.uqb=new (function(){this.getValue=function(d,f,h){return this.o="BR" === h.Na || null;};this.type="cat";})();a.vqb=new (function(){this.getValue=function(d,f,h){return this.o="BS" === h.Na || null;};this.type="cat";})();a.wqb=new (function(){this.getValue=function(d,f,h){return this.o="CA" === h.Na || null;};this.type="cat";})();a.xqb=new (function(){this.getValue=function(d,f,h){return this.o="CH" === h.Na || null;};this.type="cat";})();a.yqb=new (function(){this.getValue=function(d,f,h){return this.o="CL" === h.Na || null;};this.type="cat";})();a.zqb=new (function(){this.getValue=function(d,f,h){return this.o="CO" === h.Na || null;};this.type="cat";})();a.Aqb=new (function(){this.getValue=function(d,f,h){return this.o="CR" === h.Na || null;};this.type="cat";})();a.Bqb=new (function(){this.getValue=function(d,f,h){return this.o="CW" === h.Na || null;};this.type="cat";})();a.Cqb=new (function(){this.getValue=function(d,f,h){return this.o="DE" === h.Na || null;};this.type="cat";})();a.Dqb=new (function(){this.getValue=function(d,f,h){return this.o="DK" === h.Na || null;};this.type="cat";})();a.Eqb=new (function(){this.getValue=function(d,f,h){return this.o="DM" === h.Na || null;};this.type="cat";})();a.Fqb=new (function(){this.getValue=function(d,f,h){return this.o="DO" === h.Na || null;};this.type="cat";})();a.Gqb=new (function(){this.getValue=function(d,f,h){return this.o="EC" === h.Na || null;};this.type="cat";})();a.Hqb=new (function(){this.getValue=function(d,f,h){return this.o="EE" === h.Na || null;};this.type="cat";})();a.Iqb=new (function(){this.getValue=function(d,f,h){return this.o="EG" === h.Na || null;};this.type="cat";})();a.Jqb=new (function(){this.getValue=function(d,f,h){return this.o="ES" === h.Na || null;};this.type="cat";})();a.Kqb=new (function(){this.getValue=function(d,f,h){return this.o="FI" === h.Na || null;};this.type="cat";})();a.Lqb=new (function(){this.getValue=function(d,f,h){return this.o="FR" === h.Na || null;};this.type="cat";})();a.Mqb=new (function(){this.getValue=function(d,f,h){return this.o="GB" === h.Na || null;};this.type="cat";})();a.Nqb=new (function(){this.getValue=function(d,f,h){return this.o="GF" === h.Na || null;};this.type="cat";})();a.Oqb=new (function(){this.getValue=function(d,f,h){return this.o="GP" === h.Na || null;};this.type="cat";})();a.Pqb=new (function(){this.getValue=function(d,f,h){return this.o="GT" === h.Na || null;};this.type="cat";})();a.Qqb=new (function(){this.getValue=function(d,f,h){return this.o="HK" === h.Na || null;};this.type="cat";})();a.Rqb=new (function(){this.getValue=function(d,f,h){return this.o="HN" === h.Na || null;};this.type="cat";})();a.Sqb=new (function(){this.getValue=function(d,f,h){return this.o="HR" === h.Na || null;};this.type="cat";})();a.Tqb=new (function(){this.getValue=function(d,f,h){return this.o="HU" === h.Na || null;};this.type="cat";})();a.Uqb=new (function(){this.getValue=function(d,f,h){return this.o="ID" === h.Na || null;};this.type="cat";})();a.Vqb=new (function(){this.getValue=function(d,f,h){return this.o="IE" === h.Na || null;};this.type="cat";})();a.Wqb=new (function(){this.getValue=function(d,f,h){return this.o="IL" === h.Na || null;};this.type="cat";})();a.Xqb=new (function(){this.getValue=function(d,f,h){return this.o="IN" === h.Na || null;};this.type="cat";})();a.Yqb=new (function(){this.getValue=function(d,f,h){return this.o="IT" === h.Na || null;};this.type="cat";})();a.Zqb=new (function(){this.getValue=function(d,f,h){return this.o="JE" === h.Na || null;};this.type="cat";})();a.$qb=new (function(){this.getValue=function(d,f,h){return this.o="JM" === h.Na || null;};this.type="cat";})();a.arb=new (function(){this.getValue=function(d,f,h){return this.o="JP" === h.Na || null;};this.type="cat";})();a.brb=new (function(){this.getValue=function(d,f,h){return this.o="KE" === h.Na || null;};this.type="cat";})();a.crb=new (function(){this.getValue=function(d,f,h){return this.o="KN" === h.Na || null;};this.type="cat";})();a.drb=new (function(){this.getValue=function(d,f,h){return this.o="KR" === h.Na || null;};this.type="cat";})();a.erb=new (function(){this.getValue=function(d,f,h){return this.o="LU" === h.Na || null;};this.type="cat";})();a.frb=new (function(){this.getValue=function(d,f,h){return this.o="MK" === h.Na || null;};this.type="cat";})();a.grb=new (function(){this.getValue=function(d,f,h){return this.o="MU" === h.Na || null;};this.type="cat";})();a.hrb=new (function(){this.getValue=function(d,f,h){return this.o="MX" === h.Na || null;};this.type="cat";})();a.irb=new (function(){this.getValue=function(d,f,h){return this.o="MY" === h.Na || null;};this.type="cat";})();a.jrb=new (function(){this.getValue=function(d,f,h){return this.o="NI" === h.Na || null;};this.type="cat";})();a.krb=new (function(){this.getValue=function(d,f,h){return this.o="NL" === h.Na || null;};this.type="cat";})();a.lrb=new (function(){this.getValue=function(d,f,h){return this.o="NO" === h.Na || null;};this.type="cat";})();a.mrb=new (function(){this.getValue=function(d,f,h){return this.o="NZ" === h.Na || null;};this.type="cat";})();a.nrb=new (function(){this.getValue=function(d,f,h){return this.o="OM" === h.Na || null;};this.type="cat";})();a.orb=new (function(){this.getValue=function(d,f,h){return this.o="PA" === h.Na || null;};this.type="cat";})();a.prb=new (function(){this.getValue=function(d,f,h){return this.o="PE" === h.Na || null;};this.type="cat";})();a.qrb=new (function(){this.getValue=function(d,f,h){return this.o="PF" === h.Na || null;};this.type="cat";})();a.rrb=new (function(){this.getValue=function(d,f,h){return this.o="PH" === h.Na || null;};this.type="cat";})();a.srb=new (function(){this.getValue=function(d,f,h){return this.o="PK" === h.Na || null;};this.type="cat";})();a.trb=new (function(){this.getValue=function(d,f,h){return this.o="PL" === h.Na || null;};this.type="cat";})();a.urb=new (function(){this.getValue=function(d,f,h){return this.o="PT" === h.Na || null;};this.type="cat";})();a.vrb=new (function(){this.getValue=function(d,f,h){return this.o="PY" === h.Na || null;};this.type="cat";})();a.wrb=new (function(){this.getValue=function(d,f,h){return this.o="QA" === h.Na || null;};this.type="cat";})();a.xrb=new (function(){this.getValue=function(d,f,h){return this.o="RO" === h.Na || null;};this.type="cat";})();a.yrb=new (function(){this.getValue=function(d,f,h){return this.o="RS" === h.Na || null;};this.type="cat";})();a.zrb=new (function(){this.getValue=function(d,f,h){return this.o="RU" === h.Na || null;};this.type="cat";})();a.Arb=new (function(){this.getValue=function(d,f,h){return this.o="SA" === h.Na || null;};this.type="cat";})();a.Brb=new (function(){this.getValue=function(d,f,h){return this.o="SE" === h.Na || null;};this.type="cat";})();a.Crb=new (function(){this.getValue=function(d,f,h){return this.o="SG" === h.Na || null;};this.type="cat";})();a.Drb=new (function(){this.getValue=function(d,f,h){return this.o="SV" === h.Na || null;};this.type="cat";})();a.Erb=new (function(){this.getValue=function(d,f,h){return this.o="SX" === h.Na || null;};this.type="cat";})();a.Frb=new (function(){this.getValue=function(d,f,h){return this.o="TH" === h.Na || null;};this.type="cat";})();a.Grb=new (function(){this.getValue=function(d,f,h){return this.o="TR" === h.Na || null;};this.type="cat";})();a.Hrb=new (function(){this.getValue=function(d,f,h){return this.o="TT" === h.Na || null;};this.type="cat";})();a.Irb=new (function(){this.getValue=function(d,f,h){return this.o="TW" === h.Na || null;};this.type="cat";})();a.Jrb=new (function(){this.getValue=function(d,f,h){return this.o="US" === h.Na || null;};this.type="cat";})();a.Krb=new (function(){this.getValue=function(d,f,h){return this.o="UY" === h.Na || null;};this.type="cat";})();a.Lrb=new (function(){this.getValue=function(d,f,h){return this.o="VE" === h.Na || null;};this.type="cat";})();a.Mrb=new (function(){this.getValue=function(d,f,h){return this.o="ZA" === h.Na || null;};this.type="cat";})();a.MPb=new (function(){this.getValue=function(d,f,h){return this.o=1 === h.Kh || null;};this.type="cat";})();a.NPb=new (function(){this.getValue=function(d,f,h){return this.o=10 === h.Kh || null;};this.type="cat";})();a.OPb=new (function(){this.getValue=function(d,f,h){return this.o=11 === h.Kh || null;};this.type="cat";})();a.PPb=new (function(){this.getValue=function(d,f,h){return this.o=12 === h.Kh || null;};this.type="cat";})();a.QPb=new (function(){this.getValue=function(d,f,h){return this.o=13 === h.Kh || null;};this.type="cat";})();a.RPb=new (function(){this.getValue=function(d,f,h){return this.o=14 === h.Kh || null;};this.type="cat";})();a.SPb=new (function(){this.getValue=function(d,f,h){return this.o=15 === h.Kh || null;};this.type="cat";})();a.TPb=new (function(){this.getValue=function(d,f,h){return this.o=16 === h.Kh || null;};this.type="cat";})();a.UPb=new (function(){this.getValue=function(d,f,h){return this.o=17 === h.Kh || null;};this.type="cat";})();a.VPb=new (function(){this.getValue=function(d,f,h){return this.o=18 === h.Kh || null;};this.type="cat";})();a.WPb=new (function(){this.getValue=function(d,f,h){return this.o=19 === h.Kh || null;};this.type="cat";})();a.XPb=new (function(){this.getValue=function(d,f,h){return this.o=2 === h.Kh || null;};this.type="cat";})();a.YPb=new (function(){this.getValue=function(d,f,h){return this.o=20 === h.Kh || null;};this.type="cat";})();a.ZPb=new (function(){this.getValue=function(d,f,h){return this.o=21 === h.Kh || null;};this.type="cat";})();a.$Pb=new (function(){this.getValue=function(d,f,h){return this.o=22 === h.Kh || null;};this.type="cat";})();a.aQb=new (function(){this.getValue=function(d,f,h){return this.o=23 === h.Kh || null;};this.type="cat";})();a.bQb=new (function(){this.getValue=function(d,f,h){return this.o=3 === h.Kh || null;};this.type="cat";})();a.cQb=new (function(){this.getValue=function(d,f,h){return this.o=4 === h.Kh || null;};this.type="cat";})();a.dQb=new (function(){this.getValue=function(d,f,h){return this.o=5 === h.Kh || null;};this.type="cat";})();a.eQb=new (function(){this.getValue=function(d,f,h){return this.o=6 === h.Kh || null;};this.type="cat";})();a.fQb=new (function(){this.getValue=function(d,f,h){return this.o=7 === h.Kh || null;};this.type="cat";})();a.gQb=new (function(){this.getValue=function(d,f,h){return this.o=8 === h.Kh || null;};this.type="cat";})();a.hQb=new (function(){this.getValue=function(d,f,h){return this.o=9 === h.Kh || null;};this.type="cat";})();a.oVb=new (function(){this.update=function(d){"down" === d.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.qVb=new (function(){this.update=function(d){"right" === d.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.pVb=new (function(){this.update=function(d){"left" === d.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.rVb=new (function(){this.update=function(d){"up" === d.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.CIb=new (function(){this.o=0;this.update=function(d){this.o=Math.max(this.o,d.rowIndex);};this.getValue=function(){return this.o;};this.type="num";})();a.DIb=new (function(){this.o=0;this.update=function(d){this.o=Math.max(this.o,d.Bfa);};this.getValue=function(){return this.o;};this.type="num";})();a.KIb=new (function(){this.yP=this.o=0;this.update=function(d){this.yP++;this.o=1 * (this.o + d.rowIndex) / this.yP;};this.getValue=function(){return this.o;};this.type="num";})();a.LIb=new (function(){this.yP=this.o=0;this.update=function(d){this.yP++;return this.o=1 * (this.o + d.Bfa) / this.yP;};this.getValue=function(){return this.o;};this.type="num";})();a.xOb=new (function(){this.getValue=function(d,f,h){return this.o=h.Bfa + f;};this.type="num";})();a.yOb=new (function(){this.getValue=function(d,f,h){return this.o=h.rowIndex + d;};this.type="num";})();g.prototype.TB=function(d){return this.LJa(this.I["0"].f2a(d),d);};g.prototype.LJa=function(d,f){return "string" == typeof d?this.LJa(this.I[d].f2a(f),f):d;};c.prototype.f2a=function(d){switch(this.VFb){case 0:switch(d.features[this.fW].type){case "cat":return null === d.features[this.fW].value?this.LYa:"missing" == d.features[this.fW].value?this.lna:this.b7a;case "num":return null === d.features[this.fW].value?this.lna:d.features[this.fW].value < this.split?this.b7a:this.LYa;default:return this.lna;}case 1:return this.TB;default:return this.TB;}};b.declare({VT:["modelSelector","modelone"],xpb:["colEpisodeList",5],BDb:["holdDuration",15E3],S1a:["rowFirst",2],pNa:["colFirst",5],U1a:["rowScroll",2],qNa:["colScroll",6],GRb:["rowScrollHorizontal",6],ZRb:["searchTop",3],xOa:["cwFirst",2],SS:["horizontalItemsFocusedMode",3],XFb:["itemsPerRank",1],wIb:["maxNumberPayloadsStored",10],EXa:["maxNumberTitlesScheduled",5],Q5b:["enableDetailedLogging",!0],T8b:["rowStep",20],i5b:["colStep",15],u8b:["pageRows",100],t8b:["pageColumns",75],Ema:["maskParamsList",new (function(){var d,f;this.Ema=[];this.Vk={};this.C6=20;this.q0=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.C6) + "_" + Math.floor(f / this.q0) in this.Vk) || (this.Vk[Math.floor(d / this.C6) + "_" + Math.floor(f / this.q0)]=1,this.Ema.push(new l("grid",10,5,5,Math.floor(d / this.C6),Math.floor(f / this.q0))));}}})().Ema],I:["nodes",new g().I],mapping:["mapping",{DIb:"0",LIb:"1",CIb:"2",KIb:"3",tmb:"4",rVb:"5",pVb:"6",qVb:"7",oVb:"8",yOb:"9",xOb:"10",PGb:"11",QGb:"12",SGb:"13",TGb:"14",RGb:"15",UGb:"16",VGb:"17",WGb:"18",XGb:"19",YGb:"20",ZGb:"21",$Gb:"22",aHb:"23",bHb:"24",cHb:"25",dHb:"26",MPb:"27",NPb:"28",OPb:"29",PPb:"30",QPb:"31",RPb:"32",SPb:"33",TPb:"34",UPb:"35",VPb:"36",WPb:"37",XPb:"38",YPb:"39",ZPb:"40",$Pb:"41",aQb:"42",bQb:"43",cQb:"44",dQb:"45",eQb:"46",fQb:"47",gQb:"48",hQb:"49",nqb:"50",oqb:"51",pqb:"52",qqb:"53",rqb:"54",sqb:"55",tqb:"56",uqb:"57",vqb:"58",wqb:"59",xqb:"60",yqb:"61",zqb:"62",Aqb:"63",Bqb:"64",Cqb:"65",Dqb:"66",Eqb:"67",Fqb:"68",Gqb:"69",Hqb:"70",Iqb:"71",Jqb:"72",Kqb:"73",Lqb:"74",Mqb:"75",Nqb:"76",Oqb:"77",Pqb:"78",Qqb:"79",Rqb:"80",Sqb:"81",Tqb:"82",Uqb:"83",Vqb:"84",Wqb:"85",Xqb:"86",Yqb:"87",Zqb:"88",$qb:"89",arb:"90",brb:"91",crb:"92",drb:"93",erb:"94",frb:"95",grb:"96",hrb:"97",irb:"98",jrb:"99",krb:"100",lrb:"101",mrb:"102",nrb:"103",orb:"104",prb:"105",qrb:"106",rrb:"107",srb:"108",trb:"109",urb:"110",vrb:"111",wrb:"112",xrb:"113",yrb:"114",zrb:"115",Arb:"116",Brb:"117",Crb:"118",Drb:"119",Erb:"120",Frb:"121",Grb:"122",Hrb:"123",Irb:"124",Jrb:"125",Krb:"126",Lrb:"127",Mrb:"128",XYb:"129",JPb:"130",aUb:"131",Kl:"132",dqb:"133",wyb:"134",HWb:"135",tWb:"136",fnb:"137",$Jb:"138",bXb:"139",TNb:"140",bnb:"141",enb:"142",cnb:"143",YJb:"144"}],features:["features",a],n4b:["_modelName","tree"],i4b:["_format","xgboost"],m4b:["_itemsToKeep",5],l4b:["_itemsThreshold",null],S4b:["cacheLimit",20]});r.exports={config:b,s7b:l,r5b:c};},function(r,b,a){r.exports=a(538);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(539);lb._cad_global={};lb.DEBUG=!1;a(12);a(10);a(14);a(22);a(45);a(73);a(1232);a(531);a(55);a(50);a(19);a(71);a(60);a(1233);a(284);a(333);a(1234);a(511);a(1235);a(508);a(515);a(513);a(514);a(532);a(502);a(503);a(505);a(279);a(278);a(1236);a(11);a(520);a(1237);a(153);a(70);a(509);a(149);a(444);a(445);a(263);a(1238);a(1239);a(472);a(1240);a(466);a(281);a(463);a(280);a(501);a(1241);a(283);a(517);a(186);a(533);a(112);a(1242);a(100);a(1249);a(1250);a(1251);a(1252);a(1254);a(1256);a(516);a(59);a(1257);a(512);a(448);a(510);a(519);a(1258);a(1259);a(529);a(155);a(1260);a(1261);a(1262);a(1263);a(1264);a(506);},function(r,b,a){(function(c){var g;(function(l){var C,G,H,J,I,M,N,K,O;function m(R,L,Q){var P;P=O.get(R);if(!P){if(!Q)return;P=new N();O.set(R,P);}R=P.get(L);if(!R){if(!Q)return;R=new N();P.set(L,R);}return R;}function d(R,L,Q){if(f(R,L,Q))return !0;L=v(L);return null !== L?d(R,L,Q):!1;}function f(R,L,Q){L=m(L,Q,!1);return void 0 !== L && ! !L.has(R);}function h(R,L,Q){if(f(R,L,Q))return k(R,L,Q);L=v(L);return null !== L?h(R,L,Q):void 0;}function k(R,L,Q){L=m(L,Q,!1);return void 0 === L?void 0:L.get(R);}function n(R,L){var Q,ha;Q=p(R,L);R=v(R);if(null === R)return Q;L=n(R,L);if(0 >= L.length)return Q;if(0 >= Q.length)return L;R=new K();for(var P=0;P < Q.length;P++){ha=Q[P];R.add(ha);}for(Q=0;Q < L.length;Q++){ha=L[Q];R.add(ha);}return z(R);}function p(R,L){var Q;R=m(R,L,!1);Q=[];R && y(R,function(P,ha){return Q.push(ha);});return Q;}function q(R){return void 0 === R;}function t(R){return Array.isArray?Array.isArray(R):R instanceof Array || "[object Array]" === Object.prototype.toString.call(R);}function u(R){return "object" === typeof R?null !== R:"function" === typeof R;}function w(R){return "symbol" === typeof R?R:String(R);}function v(R){var L,Q;L=Object.getPrototypeOf(R);if("function" !== typeof R || R === M || L !== M)return L;Q=R.prototype;Q=Q && Object.getPrototypeOf(Q);if(null == Q || Q === Object.prototype)return L;Q=Q.constructor;return "function" !== typeof Q || Q === R?L:Q;}function x(R){R=R.next();return R.done?void 0:R;}function y(R,L,Q){var P,ha,va;P=R.entries;if("function" === typeof P){P=P.call(R);try{for(;ha=x(P);){va=ha.value;L.call(Q,va[1],va[0],R);}}finally{ha && (R=P["return"]) && R.call(P);}}else (P=R.forEach,"function" === typeof P && P.call(R,L,Q));}function z(R){var L;L=[];y(R,function(Q,P){L.push(P);});return L;}function B(R,L,Q){var P;P=0;return {next:function(){var ha;if((R || L) && P < (R || L).length){ha=P++;switch(Q){case "key":return {value:R[ha],done:!1};case "value":return {value:L[ha],done:!1};case "key+value":return {value:[R[ha],L[ha]],done:!1};}}L=R=void 0;return {value:void 0,done:!0};},"throw":function(ha){if(R || L)L=R=void 0;throw ha;},"return":function(ha){if(R || L)L=R=void 0;return {value:ha,done:!0};}};}function A(){var R;R={};return (function(){function L(){this.Ir=[];this.Ho=[];this.YY=R;this.XY=-2;}Object.defineProperty(L.prototype,"size",{get:function(){return this.Ir.length;},enumerable:!0,configurable:!0});L.prototype.has=function(Q){return 0 <= this.sZ(Q,!1);};L.prototype.get=function(Q){Q=this.sZ(Q,!1);return 0 <= Q?this.Ho[Q]:void 0;};L.prototype.set=function(Q,P){Q=this.sZ(Q,!0);this.Ho[Q]=P;return this;};L.prototype.delete=function(Q){var P;P=this.sZ(Q,!1);if(0 <= P){Q=this.Ir.length;for(P+=1;P < Q;P++){this.Ir[P - 1]=this.Ir[P];this.Ho[P - 1]=this.Ho[P];}this.Ir.length--;this.Ho.length--;this.YY=R;this.XY=-2;return !0;}return !1;};L.prototype.clear=function(){this.Ir.length=0;this.Ho.length=0;this.YY=R;this.XY=-2;};L.prototype.keys=function(){return B(this.Ir,void 0,"key");};L.prototype.values=function(){return B(void 0,this.Ho,"value");};L.prototype.entries=function(){return B(this.Ir,this.Ho,"key+value");};L.prototype.sZ=function(Q,P){var ha;if(this.YY === Q)return this.XY;ha=this.Ir.indexOf(Q);0 > ha && P && (ha=this.Ir.length,this.Ir.push(Q),this.Ho.push(void 0));return (this.YY=Q,this.XY=ha);};return L;})();}function E(){return (function(){function R(){this.jl=new N();}Object.defineProperty(R.prototype,"size",{get:function(){return this.jl.size;},enumerable:!0,configurable:!0});R.prototype.has=function(L){return this.jl.has(L);};R.prototype.add=function(L){return (this.jl.set(L,L),this);};R.prototype.delete=function(L){return this.jl.delete(L);};R.prototype.clear=function(){this.jl.clear();};R.prototype.keys=function(){return this.jl.keys();};R.prototype.values=function(){return this.jl.values();};R.prototype.entries=function(){return this.jl.entries();};return R;})();}function D(){var P,ha;function R(va,la){for(var S=0;S < la;++S){va[S]=255 * Math.random() | 0;}return va;}function L(){var va,da;do {va="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):R(new Uint8Array(16),16):R(Array(16),16);va[6]=va[6] & 79 | 64;va[8]=va[8] & 191 | 128;for(var la="",S=0;16 > S;++S){da=va[S];if(4 === S || 6 === S || 8 === S)la+="-";16 > da && (la+="0");la+=da.toString(16).toLowerCase();}va="@@WeakMap@@" + la;}while(I.has(P,va));P[va]=!0;return va;}function Q(va,la){if(!C.call(va,ha)){if(!la)return;Object.defineProperty(va,ha,{value:J()});}return va[ha];}P=J();ha=L();return (function(){function va(){this.OP=L();}va.prototype.has=function(la){la=Q(la,!1);return void 0 !== la?I.has(la,this.OP):!1;};va.prototype.get=function(la){la=Q(la,!1);return void 0 !== la?I.get(la,this.OP):void 0;};va.prototype.set=function(la,S){Q(la,!0)[this.OP]=S;return this;};va.prototype.delete=function(la){la=Q(la,!1);return void 0 !== la?delete la[this.OP]:!1;};va.prototype.clear=function(){this.OP=L();};return va;})();}function F(R){R.e4b=1;delete R.f4b;return R;}C=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;H=(function(){var L;function R(){}L={};R.prototype=L;return new R().__proto__ === L;})();J=G?function(){return F(Object.create(null));}:H?function(){return F({__proto__:null});}:function(){return F({});};(function(R){var L;L=!G && !H;R.has=L?function(Q,P){return C.call(Q,P);}:function(Q,P){return (P in Q);};R.get=L?function(Q,P){return C.call(Q,P)?Q[P]:void 0;}:function(Q,P){return Q[P];};})(I || (I={}));M=Object.getPrototypeOf(Function);N="function" === typeof Map?Map:A();K="function" === typeof Set?Set:E();O=new ("function" === typeof WeakMap?WeakMap:D())();l.BA=function(R,L,Q,P){var va;if(q(P)){if(q(Q)){if(!t(R))throw new TypeError();if("function" !== typeof L)throw new TypeError();for(Q=R.length - 1;0 <= Q;--Q){if((P=(0,R[Q])(L),!q(P))){if("function" !== typeof P)throw new TypeError();L=P;}}return L;}if(!t(R))throw new TypeError();if(!u(L))throw new TypeError();Q=w(Q);for(P=R.length - 1;0 <= P;--P){(0,R[P])(L,Q);}}else {if(!t(R))throw new TypeError();if(!u(L))throw new TypeError();if(q(Q))throw new TypeError();if(!u(P))throw new TypeError();Q=w(Q);for(var ha=R.length - 1;0 <= ha;--ha){va=(0,R[ha])(L,Q,P);if(!q(va)){if(!u(va))throw new TypeError();P=va;}}return P;}};l.Zd=function(R,L){return function(Q,P){if(q(P)){if("function" !== typeof Q)throw new TypeError();m(Q,void 0,!0).set(R,L);}else {if(!u(Q))throw new TypeError();P=w(P);m(Q,P,!0).set(R,L);}};};l.Kga=function(R,L,Q){var P;if(!u(Q))throw new TypeError();q(P) || (P=w(P));m(Q,P,!0).set(R,L);};l.gDb=function(R,L){var Q;if(!u(L))throw new TypeError();q(Q) || (Q=w(Q));return d(R,L,Q);};l.aka=function(R,L){var Q;if(!u(L))throw new TypeError();q(Q) || (Q=w(Q));return f(R,L,Q);};l.getMetadata=function(R,L,Q){if(!u(L))throw new TypeError();q(Q) || (Q=w(Q));return h(R,L,Q);};l.v6b=function(R,L,Q){if(!u(L))throw new TypeError();q(Q) || (Q=w(Q));return k(R,L,Q);};l.t6b=function(R,L){if(!u(R))throw new TypeError();q(L) || (L=w(L));return n(R,L);};l.w6b=function(R,L){if(!u(R))throw new TypeError();q(L) || (L=w(L));return p(R,L);};l.z5b=function(R,L,Q){var P;if(!u(L))throw new TypeError();q(Q) || (Q=w(Q));P=m(L,Q,!1);if(q(P) || !P.delete(R))return !1;if(0 < P.size)return !0;R=O.get(L);R.delete(Q);if(0 < R.size)return !0;O.delete(L);return !0;};(function(R){if("undefined" !== typeof R.Reflect){if(R.Reflect !== l)for(var L in l){C.call(l,L) && (R.Reflect[L]=l[L]);}}else R.Reflect=l;})("undefined" !== typeof lb?lb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(g || (g={}));}).call(this,a(189));},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t;c=this && this.__awaiter || (function(u,w,v,x){return new (v || (v=Promise))(function(y,z){function B(D){try{E(x.next(D));}catch(F){z(F);}}function A(D){try{E(x["throw"](D));}catch(F){z(F);}}function E(D){D.done?y(D.value):new v(function(F){F(D.value);}).then(B,A);}E((x=x.apply(u,w || [])).next());});});g=this && this.__generator || (function(u,w){var y,z,B,A,E;function v(D){return function(F){return x([D,F]);};}function x(D){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,B && (A=B[D[0] & 2?"return":D[0]?"throw":"next"]) && !(A=A.call(B,D[1])).done))return A;if((B=0,A))D=[0,A.value];switch(D[0]){case 0:case 1:A=D;break;case 4:return (y.label++,{value:D[1],done:!1});case 5:y.label++;B=D[1];D=[0];continue;case 7:D=y.MF.pop();y.SG.pop();continue;default:if(!(A=y.SG,A=0 < A.length && A[A.length - 1]) && (6 === D[0] || 2 === D[0])){y=0;continue;}if(3 === D[0] && (!A || D[1] > A[0] && D[1] < A[3]))y.label=D[1];else if(6 === D[0] && y.label < A[1])(y.label=A[1],A=D);else if(A && y.label < A[2])(y.label=A[2],y.MF.push(D));else {A[2] && y.MF.pop();y.SG.pop();continue;}}D=w.call(u,y);}catch(F){D=[6,F];B=0;}finally{z=A=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}y={label:0,wg:function(){if(A[0] & 1)throw A[1];return A[1];},SG:[],MF:[]};return (E={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (E[Symbol.iterator]=function(){return this;}),E);});Object.defineProperty(b,"__esModule",{value:!0});l=a(541);m=a(52);d=a(75);a(40);f=a(289);h=a(542);k=a(549);n=a(551);p=a(101);q=a(130);a(554);t=a(555);r=(function(){function u(w){w=w || ({});if("object" !== typeof w)throw Error("" + m.W8a);if(void 0 === w.EE)w.EE=d.wr.IY;else if(w.EE !== d.wr.Qaa && w.EE !== d.wr.IY && w.EE !== d.wr.Request)throw Error("" + m.U8a);if(void 0 === w.TQ)w.TQ=!1;else if("boolean" !== typeof w.TQ)throw Error("" + m.T8a);if(void 0 === w.sG)w.sG=!1;else if("boolean" !== typeof w.sG)throw Error("" + m.V8a);this.options={TQ:w.TQ,EE:w.EE,sG:w.sG};this.id=p.id();this.oI=new t.qbb();this.Gjb=[];this.parent=this.Gca=null;this.Ahb=new f.D$();}u.prototype.load=function(){var y,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.eIa();for(var x=0;x < w.length;x++){y=w[x];z=v(y.id);y.spa(z.$La,z.w5a,z.aWa,z.J0a);}};u.prototype.yT=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var x,y,z,B,A;return g(this,function(E){switch(E.label){case 0:(x=this.eIa(),y=0,z=w,E.label=1);case 1:if(!(y < z.length))return [3,4];B=z[y];A=x(B.id);return [4,B.spa(A.$La,A.w5a,A.aWa,A.J0a)];case 2:(E.wg(),E.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};u.prototype.bind=function(w){var v;v=new l.h8a(w,this.options.EE || d.wr.IY);this.oI.add(w,v);return new n.j8a(v);};u.prototype.FPb=function(w){this.v5a(w);return this.bind(w);};u.prototype.v5a=function(w){try{this.oI.remove(w);}catch(v){throw Error(m.F8a + " " + q.JK(w));}};u.prototype.wVa=function(w){var v;v=this.oI.mUa(w);!v && this.parent && (v=this.parent.wVa(w));return v;};u.prototype.restore=function(){var w;w=this.Gjb.pop();if(void 0 === w)throw Error(m.dcb);this.oI=w.VQ;this.Gca=w.iJb;};u.prototype.Trb=function(){var w;w=new u(this.options);w.parent=this;return w;};u.prototype.get=function(w){return this.dIa(!1,!1,d.iw.cba,w);};u.prototype.getAll=function(w){return this.dIa(!0,!0,d.iw.cba,w);};u.prototype.resolve=function(w){var v;v=this.Trb();v.bind(w).X4a();return v.get(w);};u.prototype.eIa=function(){var z;function w(B){return function(A){A=z.FPb.bind(z)(A);A.ac.GJb=B;return A;};}function v(){return function(B){return z.wVa.bind(z)(B);};}function x(){return function(B){z.v5a.bind(z)(B);};}function y(B){return function(A){A=z.bind.bind(z)(A);A.ac.GJb=B;return A;};}z=this;return function(B){return {$La:y(B),aWa:v(B),J0a:w(B),w5a:x(B)};};};u.prototype.dIa=function(w,v,x,y){var z;z=null;w={Pmb:w,cqb:function(B){return B;},qFb:v,key:void 0,Yf:y,GVb:x,value:void 0};if(this.Gca){if((z=this.Gca(w),void 0 === z || null === z))throw Error(m.Wab);}else z=this.Nib()(w);return z;};u.prototype.Nib=function(){var w;w=this;return function(v){var x;x=h.kM(w.Ahb,w,v.qFb,v.GVb,v.Yf,v.key,v.value,v.Pmb);x=v.cqb(x);return k.resolve(x);};};return u;})();b.PW=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);g=a(101);r=(function(){function l(m,d){this.id=g.id();this.Fda=!1;this.Yf=m;this.scope=d;this.type=c.Mi.hbb;this.vE=function(){return !0;};this.YJ=this.Zu=this.yy=this.kK=this.cache=this.yl=null;}l.prototype.clone=function(){var m;m=new l(this.Yf,this.scope);m.Fda=!1;m.yl=this.yl;m.YJ=this.YJ;m.scope=this.scope;m.type=this.type;m.kK=this.kK;m.yy=this.yy;m.vE=this.vE;m.Zu=this.Zu;m.cache=this.cache;return m;};return l;})();b.h8a=r;},function(r,b,a){var d,f,h,k,n,p,q,t,u,w,v,x;function c(y,z,B,A,E){var D,F;D=m(B.eb,E.Yf);F=[];D.length === d.Y8.sBa && B.eb.options.TQ && "function" === typeof E.Yf && y.SRa(E.Yf).wNa && (B.eb.bind(E.Yf).X4a(),D=m(B.eb,E.Yf));F=z?D:D.filter(function(C){var G;G=new v.Request(C.Yf,B,A,C,E);return C.vE(G);});g(E.Yf,F,E,B.eb);return F;}function g(y,z,B,A){switch(z.length){case d.Y8.sBa:if(B.KVa())return z;y=p.JK(y);z=f.bcb;z+=p.OGb(y,B);z+=p.CWa(A,y,m);throw Error(z);case d.Y8.ucb:if(!B.isArray())return z;default:if(B.isArray())return z;y=p.JK(y);z=f.h7a + " " + y;z+=p.CWa(A,y,m);throw Error(z);}}function l(y,z,B,A,E,D){var F;if(null === E){z=c(y,z,A,null,D);F=new v.Request(B,A,null,z,D);B=new u.tdb(A,F);A.Xkb(B);}else (z=c(y,z,A,E,D),F=E.sKa(D.Yf,z,D));z.forEach(function(C){var G,H,J;G=null;if(D.isArray())G=F.sKa(C.Yf,C,D);else {if(C.cache)return;G=F;}if(C.type === h.Mi.Instance && null !== C.yl){H=w.Azb(y,C.yl);if(!A.eb.options.sG){J=w.Syb(y,C.yl);if(H.length < J)throw (C=f.j7a(w.getFunctionName(C.yl)),Error(C));}H.forEach(function(I){l(y,!1,I.Yf,A,G,I);});}});}function m(y,z){var B,A;B=[];A=y.oI;A.mUa(z)?B=A.get(z):null !== y.parent && (B=m(y.parent,z));return B;}Object.defineProperty(b,"__esModule",{value:!0});d=a(543);f=a(52);h=a(75);k=a(40);n=a(290);p=a(130);q=a(544);t=a(61);u=a(545);w=a(546);v=a(548);x=a(292);b.j6b=function(y){return y.oI;};b.kM=function(y,z,B,A,E,D,F,C){void 0 === C && (C=!1);z=new q.qva(z);B=new t.Metadata(B?k.NC:k.BO,E);A=new x.GY(A,"",E,B);void 0 !== D && (D=new t.Metadata(D,F),A.Zd.push(D));try{return (l(y,C,E,z,null,A),z);}catch(G){throw (n.RVa(G) && z.kM && p.$ob(z.kM.Xpa),G);}};b.n5b=function(y,z,B,A){B=new x.GY(h.iw.cba,"",z,new t.Metadata(B,A));y=new q.qva(y);return new v.Request(z,y,null,[],B);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y8={y1b:2,sBa:0,ucb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);r=(function(){function g(l){this.id=c.id();this.eb=l;}g.prototype.Xkb=function(l){this.kM=l;};return g;})();b.qva=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tdb=(function(){return function(a,c){this.eM=a;this.Xpa=c;};})();},function(r,b,a){var d,f,h,k,n,p;function c(q,t,u,w){var v,x,y,z,A,E,D,F,C,G,H,J;v=q.SRa(u);x=v.wNa;if(void 0 === x)throw Error(f.Abb + " " + t + ".");v=v.oYb;y=Object.keys(v);z=0 === u.length && 0 < y.length?y.length:u.length;y=[];for(var B=0;B < z;B++){A=B;E=w;D=t;F=x;C=v[A.toString()] || [];G=m(C);H=!0 !== G.Ki;F=F[A];J=G.l || G.DF;F=J?J:F;F instanceof d.j$ && (F=F.kXb());if(H){H=F === Function;H=F === Object || H || void 0 === F;if(!E && H)throw Error(f.Bbb + " argument " + A + " in class " + D + ".");A=new p.GY(h.iw.pva,G.PV,F);A.Zd=C;C=A;}else C=null;null !== C && y.push(C);}q=g(q,u);return y.concat(q);}function g(q,t){var y,z,B;for(var u=q.tBb(t),w=[],v=0,x=Object.keys(u);v < x.length;v++){y=x[v];z=u[y];B=m(u[y]);y=new p.GY(h.iw.gva,B.PV || y,B.l || B.DF);y.Zd=z;w.push(y);}t=Object.getPrototypeOf(t.prototype).constructor;t !== Object && (q=g(q,t),w=w.concat(q));return w;}function l(q,t){var u,w;t=Object.getPrototypeOf(t.prototype).constructor;if(t !== Object){u=n.getFunctionName(t);u=c(q,u,t,!0);w=u.map(function(v){return v.Zd.filter(function(x){return x.key === k.hP;});});w=[].concat.apply([],w).length;u=u.length - w;return 0 < u?u:l(q,t);}return 0;}function m(q){var t;t={};q.forEach(function(u){t[u.key.toString()]=u.value;});return {l:t[k.BO],DF:t[k.NC],PV:t[k.UX],Ki:t[k.hP]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(291);f=a(52);h=a(75);k=a(40);n=a(130);b.getFunctionName=n.getFunctionName;p=a(292);b.Azb=function(q,t){var u;u=n.getFunctionName(t);return c(q,u,t,!1);};b.Syb=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.cC=c;}a.prototype.startsWith=function(c){return 0 === this.cC.indexOf(c);};a.prototype.endsWith=function(c){var g;g=c.split("").reverse().join("");c=this.cC.split("").reverse().join("");return this.startsWith.call({cC:c},g);};a.prototype.contains=function(c){return -1 !== this.cC.indexOf(c);};a.prototype.equals=function(c){return this.cC === c;};a.prototype.value=function(){return this.cC;};return a;})();b.Bdb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);r=(function(){function g(l,m,d,f,h){this.id=c.id();this.Yf=l;this.eM=m;this.py=d;this.target=h;this.mfa=[];this.VQ=Array.isArray(f)?f:[f];this.bRb=null === d?new Map():null;}g.prototype.sKa=function(l,m,d){l=new g(l,this.eM,this,m,d);this.mfa.push(l);return l;};return g;})();b.Request=r;},function(r,b,a){var l,m,d,f,h;function c(k){return function(n){var p,q,t,u,w;p=n.VQ;q=n.mfa;t=n.target && n.target.isArray();u=!n.py || !n.py.target || !n.target || !n.py.target.lIb(n.target.Yf);if(t && u)return q.map(function(v){return c(k)(v);});t=null;if(!n.target.KVa() || 0 !== p.length){w=p[0];p=w.scope === m.wr.Qaa;u=w.scope === m.wr.Request;if(p && w.Fda)return w.cache;if(u && null !== k && k.has(w.id))return k.get(w.id);if(w.type === m.Mi.nva)t=w.cache;else if(w.type === m.Mi.Function)t=w.cache;else if(w.type === m.Mi.ova)t=w.yl;else if(w.type === m.Mi.Bwa && null !== w.YJ)t=g("toDynamicValue",w.Yf,function(){return w.YJ(n.eM);});else if(w.type === m.Mi.K9 && null !== w.kK)t=g("toFactory",w.Yf,function(){return w.kK(n.eM);});else if(w.type === m.Mi.jEa && null !== w.yy)t=g("toProvider",w.Yf,function(){return w.yy(n.eM);});else if(w.type === m.Mi.Instance && null !== w.yl)t=h.nRb(w.yl,q,c(k));else throw (q=f.JK(n.Yf),Error(l.Sab + " " + q));"function" === typeof w.Zu && (t=w.Zu(n.eM,t));p && (w.cache=t,w.Fda=!0);u && null !== k && !k.has(w.id) && k.set(w.id,t);return t;}};}function g(k,n,p){try{return p();}catch(q){if(d.RVa(q))throw Error(l.I8a(k,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});l=a(52);m=a(75);d=a(290);f=a(130);h=a(550);b.resolve=function(k){return c(k.kM.Xpa.bRb)(k.kM.Xpa);};},function(r,b,a){var l,m,d;function c(f,h,k){var n;h=h.filter(function(p){return null !== p.target && p.target.type === m.iw.gva;});n=h.map(k);h.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function g(f,h){var k;if(Reflect.gDb(d.SO,f)){k=Reflect.getMetadata(d.SO,f);try{h[k.value]();}catch(n){throw Error(l.kdb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});l=a(52);m=a(75);d=a(40);b.nRb=function(f,h,k){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === m.iw.pva;}).map(k),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,h,k)):n=new f();g(f,n);return n;};},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);g=a(75);l=a(552);m=a(293);r=(function(){function d(f){this.ac=f;}d.prototype.to=function(f){this.ac.type=g.Mi.Instance;this.ac.yl=f;return new l.jua(this.ac);};d.prototype.X4a=function(){if("function" !== typeof this.ac.Yf)throw Error("" + c.Yab);this.to(this.ac.Yf);};d.prototype.Mh=function(f){this.ac.type=g.Mi.nva;this.ac.cache=f;this.ac.YJ=null;this.ac.yl=null;new m.yC(this.ac);};d.prototype.jC=function(f){this.ac.type=g.Mi.Bwa;this.ac.cache=null;this.ac.YJ=f;this.ac.yl=null;return new l.jua(this.ac);};d.prototype.mWb=function(f){this.ac.type=g.Mi.ova;this.ac.yl=f;new m.yC(this.ac);};d.prototype.sf=function(f){this.ac.type=g.Mi.K9;this.ac.kK=f;new m.yC(this.ac);};d.prototype.nWb=function(f){if("function" !== typeof f)throw Error(c.Vab);this.Mh(f);this.ac.type=g.Mi.Function;};d.prototype.V4a=function(f){this.ac.type=g.Mi.K9;this.ac.kK=function(h){return function(){return h.eb.get(f);};};new m.yC(this.ac);};d.prototype.TV=function(f){this.ac.type=g.Mi.jEa;this.ac.yy=f;new m.yC(this.ac);};d.prototype.oWb=function(f){this.jC(function(h){return h.eb.get(f);});};return d;})();b.j8a=r;},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(553);g=a(192);l=a(193);r=(function(){function m(d){this.ac=d;this.rP=new l.Z8(this.ac);this.tba=new g.IW(this.ac);this.nHa=new c.i8a(d);}m.prototype.Z=function(){return this.nHa.Z();};m.prototype.Bka=function(){return this.nHa.Bka();};m.prototype.when=function(d){return this.rP.when(d);};m.prototype.qW=function(){return this.rP.qW();};m.prototype.Zu=function(d){return this.tba.Zu(d);};return m;})();b.jua=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);g=a(293);r=(function(){function l(m){this.ac=m;}l.prototype.Z=function(){this.ac.scope=c.wr.Qaa;return new g.yC(this.ac);};l.prototype.Bka=function(){this.ac.scope=c.wr.IY;return new g.yC(this.ac);};return l;})();b.i8a=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v_b=(function(){function a(){}a.of=function(c,g){var l;l=new a();l.VQ=c;l.iJb=g;return l;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);r=(function(){function g(){this.jl=new Map();}g.prototype.add=function(l,m){var d;if(null === l || void 0 === l)throw Error(c.MO);if(null === m || void 0 === m)throw Error(c.MO);d=this.jl.get(l);void 0 !== d?(d.push(m),this.jl.set(l,d)):this.jl.set(l,[m]);};g.prototype.get=function(l){if(null === l || void 0 === l)throw Error(c.MO);l=this.jl.get(l);if(void 0 !== l)return l;throw Error(c.cza);};g.prototype.remove=function(l){if(null === l || void 0 === l)throw Error(c.MO);if(!this.jl.delete(l))throw Error(c.cza);};g.prototype.mUa=function(l){if(null === l || void 0 === l)throw Error(c.MO);return this.jl.has(l);};g.prototype.clone=function(){var l;l=new g();this.jl.forEach(function(m,d){m.forEach(function(f){return l.add(d,f.clone());});});return l;};return g;})();b.qbb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);b.Qc=(function(){return function(g){this.id=c.id();this.spa=g;};})();b.Xta=(function(){return function(g){this.id=c.id();this.spa=g;};})();},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);g=a(40);b.O=function(){return function(l){var m;if(Reflect.aka(g.R$,l))throw Error(c.c$a);m=Reflect.getMetadata(g.A9a,l) || [];Reflect.Kga(g.R$,m,l);return l;};};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(61);g=a(87);b.t4a=function(l,m){return function(d,f,h){var k;k=new c.Metadata(l,m);"number" === typeof h?g.DG(d,f,h,k):g.OV(d,f,k);};};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);g=a(61);l=a(87);b.yYa=function(m){return function(d,f,h){var k;k=new g.Metadata(c.xz,m);"number" === typeof h?l.DG(d,f,h,k):l.OV(d,f,k);};};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);g=a(61);l=a(87);b.optional=function(){return function(m,d,f){var h;h=new g.Metadata(c.BBa,!0);"number" === typeof f?l.DG(m,d,f,h):l.OV(m,d,h);};};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);g=a(61);l=a(87);b.Ki=function(){return function(m,d,f){var h;h=new g.Metadata(c.hP,!0);l.DG(m,d,f,h);};};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);g=a(61);l=a(87);b.DF=function(m){return function(d,f,h){var k;k=new g.Metadata(c.NC,m);"number" === typeof h?l.DG(d,f,h,k):l.OV(d,f,k);};};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);g=a(61);l=a(87);b.PV=function(m){return function(d,f,h){var k;k=new g.Metadata(c.UX,m);l.DG(d,f,h,k);};};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);g=a(40);l=a(61);b.P_a=function(){return function(m,d){d=new l.Metadata(g.SO,d);if(Reflect.aka(g.SO,m.constructor))throw Error(c.Obb);Reflect.Kga(g.SO,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vYa=function(a){return function(c){return function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.forEach(function(m){return a.bind(m).oWb(c);});};};};},function(r,b,a){var d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E;function c(D,F){D=D.Ju || D.cL?u.iSa(F):D.gT?v.rSa(F):D.G3?w.dTa(F):D.jL?x.sTa(F):t.ORa(F);this.kX=D.kX;this.m9=D.m9;}function g(D){this.Gd=D;}function l(D){var F;F=k.jaa.call(this) || this;D.gT?Object.assign(F,v.qSa()):D.G3?Object.assign(F,w.cTa()):D.Ju || D.cL?Object.assign(F,u.hSa()):D.jL?Object.assign(F,x.rTa()):Object.assign(F,t.NRa(D));return F;}function m(D){this.data=D.gT?v.tSa(D):D.G3?w.fTa():D.Ju || D.cL?u.kSa(D):D.jL?x.uTa():t.QRa(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.B8a=b.A8a=b.z8a=b.y8a=void 0;r=a(0);d=a(1);f=a(32);h=a(131);k=a(567);n=a(156);p=a(296);q=a(195);t=a(568);u=a(569);w=a(570);v=a(571);x=a(572);y=a(573);z=a(574);Ua.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},P4:{configurable:!0,enumerable:!0,get:function(){return this.data.P4;}},fp:{configurable:!0,enumerable:!0,get:function(){return this.data.fp;}},zn:{configurable:!0,enumerable:!0,get:function(){return this.data.zn;}},sK:{configurable:!0,enumerable:!0,get:function(){return this.data.sK;}},px:{configurable:!0,enumerable:!0,get:function(){return this.data.px;}},Qga:{configurable:!0,enumerable:!0,get:function(){return this.data.Qga;}},MOa:{configurable:!0,enumerable:!0,get:function(){return this.data.MOa;}},ima:{configurable:!0,enumerable:!0,get:function(){return this.data.ima;}},GR:{configurable:!0,enumerable:!0,get:function(){return this.data.GR;}},Hsa:{configurable:!0,enumerable:!0,get:function(){return this.data.Hsa;}},F_:{configurable:!0,enumerable:!0,get:function(){return this.data.F_;}},RU:{configurable:!0,enumerable:!0,get:function(){return this.data.RU;}}});B=m;B=r.__decorate([d.O(),r.__param(0,d.l(n.hz))],B);b.y8a=B;ja(l,k.jaa);A=l;A=r.__decorate([d.O(),r.__param(0,d.l(n.hz))],A);b.z8a=A;g.prototype.apply=function(){this.Gd.gT?Object.assign(this,v.sSa(this.Gd)):this.Gd.G3?Object.assign(this,w.eTa(this.Gd)):this.Gd.Ju || this.Gd.cL?Object.assign(this,u.jSa(this.Gd)):this.Gd.jL?Object.assign(this,x.tTa(this.Gd)):Object.assign(this,t.PRa(this.Gd));return this;};E=g;E=r.__decorate([d.O(),r.__param(0,d.l(n.hz))],E);b.A8a=E;c=r.__decorate([d.O(),r.__param(0,d.l(n.hz)),r.__param(1,d.l(f.uk))],c);b.B8a=c;b.platform=new d.Qc(function(D){D(f.uk).to(B).Z();D(h.UO).to(A).Z();D(p.ZCa).to(E).Z();D(f.yz).to(c).Z();D(q.kaa).sf(function(F){return function(){var C;C=F.eb.get(n.hz);return C.Ju || C.cL?{Db:function(G,H,J){return new z.fba(G,H,J);},request:y.XGa}:C.jL?{Db:function(G,H,J){return new (a(575))(G,H,J);},request:a(576)}:{};};});});},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.jaa=void 0;c=a(4);g=a(48);l=a(194);m=a(49);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.jaa=function(){this.OLa=this.vJ=l.Iv.OX;this.Cqa=!0;this.iA=[];this.Fv=[];this.CB=this.$J=!1;this.xv=[m.Cr.o9,m.Cr.Wdb,m.Cr.HH];this.Qe=void 0;this.vha=!0;this.u1=!1;this.GQ=g.$(288E4);this.IQ=g.$(335544320);this.by=c.Xb(15E3);this.tIb=g.$(6291456);this.uL=1E3;this.Xea=!0;this.Pra=d;this.uN=g.$(0);this.J7=c.Xb(0);this.YS=!0;};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.ORa=b.PRa=b.NRa=b.QRa=void 0;c=a(24);g=a(49);l=a(132);b.QRa=function(m){return Object.assign(Object.assign({},l.yK()),{fp:m.UVa?"T":m.bL?"C":"M",zn:m.UVa?"NFCDTS-01-":m.vla?"NFCDCH-02-":m.gla?"NFCDCH-MC-":m.bL?"NFCDCH-01-":m.REb?"NFCDCH-AP-":m.SEb?"NFCDCH-AT-":"NFCDCH-LX-",px:m.bL?"chromeos-cadmium":"chrome-cadmium",RU:m.bL});};b.NRa=function(m){var d;d=Object.assign(Object.assign({},l.wK()),{$J:!0,CB:!0});m.bL && (d.Fv=[].concat(ba(g.N.M9),ba(g.N.G8),ba(g.N.HGa),ba(g.N.$aa),ba(g.N.aba),ba(g.N.Q9),ba(g.N.P9)));return d;};b.PRa=function(m){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.li.kH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= m.Qr && (d=Object.assign(Object.assign({},d),{enableVP9:!0}));80 <= m.Qr && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0}));m.bL && 89 <= m.Qr && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));return d;};b.ORa=function(m){return l.xK(m);};},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.iSa=b.jSa=b.hSa=b.kSa=void 0;c=a(24);g=a(102);l=a(49);m=a(194);d=a(132);b.kSa=function(f){return Object.assign(Object.assign({},d.yK()),{fp:f.Ju?"D":"H",zn:f.Ju?f.gla?"NFCDIE-04-":"NFCDIE-03-":"NFCDIE-02-",px:"edge-cadmium",F_:!1,RU:!1});};b.hSa=function(){return Object.assign(Object.assign({},d.wK()),{vJ:lb.crypto?m.Iv.OX:m.Iv.bza,OLa:lb.crypto?m.Iv.OX:m.Iv.bza,iA:[l.de.EC,l.de.FC,l.de.dO,l.de.eO],Fv:[].concat(ba(l.N.M9),ba(l.N.G8),ba(l.N.HGa),ba(l.N.$aa),ba(l.N.aba),ba(l.N.Q9),ba(l.N.P9),ba(l.N.Mva),ba(l.N.Lva)),Qe:void 0,YS:!1});};b.jSa=function(f){var h,k,n,p,q,t,u;h={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.xt.Xv,videoCapabilityDetectorType:c.li.Xv,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};k=f.cL;n=f.Ju;p=f.vla;q=lb.MSMediaKeys && lb.MSMediaKeys.isTypeSupported(g.Eb.Nt,"video/mp4");t=lb.MSMediaKeys && lb.MSMediaKeys.isTypeSupported(g.Eb.We,"video/mp4");t={prepareCadmium:!0,enableLdlPrefetch:!q || t,licenseRenewalRequestDelay:5E3,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:c.xt.At,videoCapabilityDetectorType:c.li.kH,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.Eb.TGa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[l.de.EC,l.de.FC],videoProfiles:[l.N.wH,l.N.DC,l.N.lO,l.N.mO],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};k && (14 <= f.Qr && (h=Object.assign(Object.assign(Object.assign({},h),t),{microsoftEnableDeviceInfo:!0,microsoftAvcHighRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= f.Qr && (h=Object.assign(Object.assign({},h),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= f.Qr && (h=Object.assign(Object.assign({},h),{microsoftHwdrmRequiresHevc:!1})),17 <= f.Qr && (h=Object.assign(Object.assign({},h),{enableDDPlusAtmos:!0})));n && (h=Object.assign(Object.assign({},h),t),p && (h=Object.assign(Object.assign({},h),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),q?(h=Object.assign(Object.assign({},h),{microsoftEnableDeviceInfo:!1,microsoftAvcHighRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0}),92 <= f.Qr && (h=Object.assign(Object.assign({},h),{keySystemList:[g.Eb.vdb,g.Eb.wdb],useTypescriptEme:!0,enableCDMAttestedDescriptors:!0}))):h=Object.assign(Object.assign({},h),u));return h;};b.iSa=function(f){return d.xK(f);};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.dTa=b.eTa=b.cTa=b.fTa=void 0;c=a(24);g=a(132);b.fTa=function(){return Object.assign(Object.assign({},g.yK()),{fp:"O",zn:"NFCDOP-01-",px:"opera-cadmium"});};b.cTa=function(){return Object.assign(Object.assign({},g.wK()),{$J:!0,CB:!0});};b.eTa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.li.kH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= l.Qr && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};b.dTa=function(l){return g.xK(l);};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.rSa=b.sSa=b.qSa=b.tSa=void 0;c=a(24);g=a(132);b.tSa=function(l){return Object.assign(Object.assign({},g.yK()),{fp:"F",zn:l.gla?"NFCDFF-MC-":l.vla?"NFCDFF-02-":"NFCDFF-LX-",px:"firefox-cadmium"});};b.qSa=function(){return Object.assign(Object.assign({},g.wK()),{$J:!0,CB:!0});};b.sSa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.li.kH,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};58 <= l.Qr && (m=Object.assign(Object.assign({},m),{enableVP9:!0,preciseSeeking:!0}));return m;};b.rSa=function(l){return g.xK(l);};},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.sTa=b.tTa=b.rTa=b.uTa=void 0;c=a(4);g=a(24);l=a(102);m=a(49);d=a(132);b.uTa=function(){return Object.assign(Object.assign({},d.yK()),{fp:"S",zn:"NFCDSF-01-",px:"safari-cadmium"});};b.rTa=function(){return Object.assign(Object.assign({},d.wK()),{iA:[m.de.EC,m.de.FC,m.de.dI],Fv:[].concat(ba(m.N.M9),ba(m.N.G8),ba(m.N.$aa),ba(m.N.aba),ba(m.N.Q9),ba(m.N.P9),ba(m.N.Mva),ba(m.N.Lva)),Qe:l.Eb.O$a,by:c.Xb(7E3)});};b.tTa=function(f){var h;h={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.li.At,enableSeamless:!0};d.iT(f,10,12,2) && (h=Object.assign(Object.assign({},h),{keySystemId:"com.apple.fps.3_0",enableGetHeadersAndMediaPrefetch:!0,defaultHeaderCacheSize:15,enableUsingHeaderCount:!0,prepareCadmium:!0}));d.iT(f,10,13,6) && (h=Object.assign(Object.assign({},h),{enableLdlPrefetch:!0}));d.iT(f,10,15,5) && (h=Object.assign(Object.assign({},h),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));d.iT(f,10,15,6) && (h=Object.assign(Object.assign({},h),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));d.YVa(f,9) && (h=Object.assign(Object.assign({},h),{maxDecoderBufferMilliseconds:31E3}));return h;};b.sTa=function(f){return d.xK(f);};},function(r,b,a){var g;function c(l,m,d,f){this.log=l;this.XE=m;this.By=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.XGa=void 0;g=a(2);c.prototype.Vf=function(l){var m;m=this;(this.context.Pe || this.context.Zj) && this.log.trace("Requesting license",{drmType:l.xn});return this.XE(l).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.Q9b)throw d;throw {W:!1,code:g.J.BH,$b:d.$b,od:d.od,om:d.om,gj:d.message || d.gj,fK:d.data,message:"Unable to send the Playready license request. " + (d.message || d.gj)};});};c.prototype.release=function(l){var m;m=this;this.log.trace("Requesting stop data");return this.By(l).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.$b,extCode:d.od,edgeCode:d.om,message:d.message || d.gj});throw {W:!1,code:g.J.Eaa,$b:d.$b,od:d.od,om:d.om,gj:d.message || d.gj,message:"Unable to release the PlayReady license. " + (d.message || d.gj)};});};b.XGa=c;lb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.fba=void 0;c=a(2);g=a(191);l=a(196);m=a(26);d=a(76);f=a(33);h=a(24);k=a(62);(function(){var z;function n(B,A,E){var D;D=this;this.log=B;this.Gm=A || y.bind(this);this.context=E;this.uU=this.challenge=this.keySystem=this.keySessionId=this.ib=this.mediaKeys=void 0;this.Sc={};this.Wla=this.ora=!1;this.kU=u.bind(this);this.uU=void 0;this.Nsa=new Promise(function(F,C){D.Rpa=F;D.tpa=C;});this.Nsa.catch(function(F){D.log.error("wait for license rejected",F);});g.ad.get(h.Nv).p2().then(function(F){(D.context.Pe || D.context.Zj) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.Fm=function(F,C){D.tpa(F,C);D.context.onerror(F,C);};this.Tna=function(){D.Rpa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return g.ad.get(f.Nh);}function q(){return g.ad.get(m.yf);}function t(B){var A,E;A=g.ad.get(l.Taa);E="";B.forEach(function(D){E+="<KeyID>" + D + "</KeyID>";});B='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + E + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";A=new Uint8Array(A.c4a(B));(this.context.Pe || this.context.Zj) && this.log.trace("LICENSE: proactive license cdm data",{xml:B,b64:p().encode(A)});return A;}function u(B){var A;A=B.target.error?B.target.error.msExtendedCode:void 0;this.log.error("Received " + B.type + " event",{sessionId:this.ib.sessionId,systemCode:A});if(this.context.onerror)this.context.onerror(z.Te.$p,z.Cz.zr,A);this.ib=void 0;}function w(B,A,E){var F,C,G;for(var D=2;D < arguments.length;++D){;}D="";C=B.length;for(F=0;F < C;F++){G=B[F];0 < G && (D+=String.fromCharCode(G));}C="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){G=arguments[F];if(0 > D.search(G))return;G="(?:[^:].*:|)" + G;C="[\\s\\S]*<" + G + "[^>]*>" + C + "</" + G + ">[\\s\\S]*";}if(D=D.match(new RegExp(C)))return D[1];}function v(B,A,E,D){var F,C;F=B.target && B.target.sessionId;C=p().decode(w(B.message,"PlayReadyKeyMessage","Challenge"));E.state=12;E.log.trace("LICENSE: Received " + B.type + " event",{keySystem:B.target && B.target.keySystem,sessionId:F});(E.context.Pe || E.context.Zj || E.context.Zy) && E.log.debug("LICENSE: License challenge",p().encode(C));E.keySessionId=F;B={yi:A,messageType:"license-request",xn:(/clearkey/i).test(E.keySystem)?"clearkey":"playready",fj:[{data:C,sessionId:F}]};12 === E.state && (E.Gm("lc"),C={data:C,xn:(/clearkey/i).test(E.keySystem)?"clearkey":"playready"},E.context.QF || (E.uU=C));E.context.wj.Vf(B).then(function(G){if(12 === E.state && (E.Gm("lr"),E.Tna(),!E.context.QF))(E.vU=G.zi[0].data,E.state=13,D({W:!0,state:E.state}));else if(E.ib)return x(E,G.zi[0].data,E.ib).then(function(){E.state=30;D({W:!0,state:E.state});});}).catch(function(G){D(q().tB(G,{state:E.state}));});}function x(B,A,E){B.x3() && B.log.trace("LICENSE: Got the response, calling update",{sessionId:E.sessionId,license:p().encode(A)});return new Promise(function(D,F){try{B.ib.update(A);D(void 0);B.x3() && B.log.trace("LICENSE: Update succeeded",{sessionId:E.sessionId});}catch(C){F({W:!1,code:z.Te.jY,message:"Unable to update the EME.",gb:q().md(C)});}});}function y(B){this.context.sa && (this.Sc[B]=this.context.sa.getTime(),this.log.trace("Milestone: " + B + ", " + this.Sc[B]));}z={};z.Te=c.J;z.Cz=c.K;n.prototype.Eq=function(){return this.keySystem;};n.prototype.U5a=function(B,A){B.log && (this.log=B.log);B.Gm && (this.Gm=B.Gm);A.wj && (this.context.wj=A.wj);A.onerror && (this.context.onerror=A.onerror);};n.prototype.create=function(B){var A;A=this;return (B?Promise.resolve(B):g.ad.get(h.Nv).Eq()).then(function(E){A.Gm("lg");A.log.trace("Creating the media keys",{keySystem:E});A.keySystem=E;try{if(!lb.MSMediaKeys.isTypeSupported(E,"video/mp4"))return Promise.reject({code:z.Te.QO});}catch(D){return Promise.reject({code:z.Te.QO});}if(A.context.IU)E=Promise.reject({W:!1,code:z.Te.iO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{A.mediaKeys=new lb.MSMediaKeys(E);}catch(D){E=Promise.reject({W:!1,code:z.Te.RBa,message:"create MSMediaKeys(" + E + ") failed",gb:q().md(D)});break a;}try{A.context.ja && A.context.ja.msSetMediaKeys(A.mediaKeys);}catch(D){E=Promise.reject({W:!1,code:z.Te.MH,message:"set MSMediaKeys failed",gb:q().md(D)});break a;}E=Promise.resolve({W:!0,mediaKeys:A.mediaKeys});}return E;});};n.prototype.close=function(){if(this.ib){this.log.info("Closing the session",{sessionId:this.ib.sessionId});this.ib.removeEventListener("mskeyerror",this.kU);try{this.ib.close();}catch(B){this.log.error("Failed to close the key sessions",B);}this.ib=void 0;}};n.prototype.Vf=function(B,A,E){var D;if(1 < A.length)return Promise.reject({code:z.Te.XBa});if(0 === A.length)return Promise.reject({code:z.Te.VBa});A=A[0];D=this;D.context.Pe && D.log.trace("LICENSE: Setting license");return D.context.IU?Promise.reject({W:!1,code:z.Te.Iwa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,C){var G,H,J,I,M,N,K;try{H=function(O){D.ib && (D.ib.removeEventListener("mskeymessage",I),D.ib.removeEventListener("mskeyadded",M),D.ib.removeEventListener("mskeyerror",N),D.ib.addEventListener("mskeyerror",D.kU));O.state=11;O.W?F(O):(D.close(),C(O));};J=function(O){var R,L;R=[];L=Array.prototype.map.call(O,function(P){return P?String.fromCharCode(P):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(L)R.push(L[1]);else {O=w(O,"KIDS");L=/VALUE="(.+?)">/g;for(var Q=L.exec(O);null != Q;){R.push(Q[1]);Q=L.exec(O);}}return R;};I=function(O){G && clearTimeout(G);v(O,B,D,H);};M=function(O){(D.context.Pe || D.context.Zj) && D.log.trace("LICENSE: Received " + O.type + " event",{keySystem:O.target.keySystem,sessionId:O.target.sessionId});H({W:!0});};N=function(O){var R,L;G && clearTimeout(G);if(O.target && O.target.error)(R=O.target.error.systemCode,L=O.target.error.code);R={code:z.Te.$p,$b:z.Cz.zr,od:R?g.ad.get(d.Jv).TE(R,4):L,details:q().md(O),cause:O.target && O.target.error,w7:R,A1:L};D.log.error("LICENSE: Received " + O.type + " event",{sessionId:D.ib && D.ib.sessionId,keySystem:O.target.keySystem,systemCode:R.w7,code:R.A1});D.Gm("le");D.Fm && D.Fm(z.Te.$p,R);H({W:!1,code:z.Te.$p,$b:z.Cz.zr,od:R.od,message:"Received a key error.",gb:R.details,cause:R.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.Pe || D.context.Zj) && D.log.debug("LICENSE: PSSH",p().encode(A));D.Lu || (D.Lu=J(A));if(E){K=t.call(D,D.Lu);D.ib=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),K);}else D.ib=D.mediaKeys.createSession("video/mp4",A,null);(D.context.Pe || D.context.Zj) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.ib.keySystem,sessionId:D.ib.sessionId});D.ib.addEventListener("mskeymessage",I);D.ib.addEventListener("mskeyadded",M);D.ib.addEventListener("mskeyerror",N);D.context.JGb && (G=setTimeout(function(){H({W:!1,code:z.Te.RO,$b:z.Cz.x$a});},D.context.JGb));}catch(O){C({code:z.Te.RO,$b:z.Cz.Ni});}});})();};n.prototype.bG=function(){var B;(this.context.Pe || this.context.Zj) && this.log.trace("LICENSE: Renewing license");B=[new Uint8Array(0)];return this.Vf(k.Up.i$.Yl,B,!0);};n.prototype.FQ=function(B){this.vU || this.log.error("pending license must exist at this point");this.context.QF=!0;try{B && (this.context.ja=B,this.context.ja.msSetMediaKeys(this.mediaKeys));}catch(A){return Promise.reject({W:!1,code:z.Te.MH,message:"setMediaKeys failed",gb:q().md(A)});}return x(this,this.vU,this.ib);};n.prototype.uQa=function(B){var A,E;A=this;A.log.trace("Releasing the license of current session",JSON.stringify(B));E={ca:B.ca,Yd:B.Yd};return new Promise(function(D,F){(function(){A.context.wj.release.call(A.context.wj,E).then(function(){var C;A.log.trace("successfully released the license",JSON.stringify(B));C={W:!0};A.close();C.W?D(C):F(C);}).catch(function(C){A.log.error("Unable to release the license",{sessionId:A.keySessionId,code:C.code,subCode:C.$b,extCode:C.od,edgeCode:C.om,message:C.gj});A.close();C.W?D(C):F(C);});})();});};n.prototype.x3=function(){return this.context.Pe || this.context.Zj;};b.fba=n;lb._cad_global.WindowsEmeSession=b.fba;})();},function(r,b,a){var v,x,y,z,B,A,E,D,F,C,G,H;function c(J,I,M){var N;N=this;this.log=J;this.Gm=I || w.bind(this);this.context=M;this.uU=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Sc={};this.Ai=void 0;this.url="";this.Wla=this.ora=!1;this.kU=k.bind(this);this.Se=this.uU=void 0;this.Nsa=new Promise(function(K,O){N.Rpa=K;N.tpa=O;});this.Fm=function(K,O){N.tpa(K,O);N.context.onerror(K,O);};this.Tna=function(){N.Rpa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function g(){return v.fa.get(B.Rt);}function l(){return v.fa.get(z.Nh);}function m(){return v.fa.get(x.yf);}function d(J){return (/com.apple.fps/).test(J) && !(/com.apple.fps.2_0/).test(J);}function f(J){var I;J=(function(M){var K,O;function N(R,L,Q,P){var ha,va;ha=new Uint8Array("piff" == L?88:72);va=new C.gO(ha);va.ez(12);va.dz("frma");va.dz(R);va.ez(20);va.dz("schm");va.uW(0);va.uW(0);va.dz(L);va.ez(Q);"piff" == L?(va.ez(56),va.dz("schi"),va.ez(48),va.dz("uuid"),va.tW([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(va.ez(40),va.dz("schi"),va.ez(32),va.dz("tenc"));va.uW(0);va.uW(0);va.ez(264);va.tW(P);return ha;}K=N("avc1","piff",65537,M);K=g().decode(l().encode(K));M=N("avc1",G.jz,65536,M);M=g().decode(l().encode(M));O=new Uint8Array(7 + K.length + 8 + M.length + 5);O.set([91,10,32,32,32,32,34],0);O.set(K,7);O.set([34,44,10,32,32,32,32,34],7 + K.length);O.set(M,7 + K.length + 8);O.set([34,10,32,32,93],7 + K.length + 8 + M.length);return O;})(J);I=new Uint8Array(13 + J.length + 2);I.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);I.set(J,13);I.set([10,125],13 + J.length);return I;}function h(J){var I;J=J.subarray(14,30);J=String.fromCharCode.apply(null,J);J=l().decode(J);J=J.subarray(4);I=new Uint8Array(16);I.set(J);return I;}function k(J){var I;I=n(J);this.log.error("LICENSE Error: Received event: " + J.type,{sessionId:this.ib?this.ib.sessionId:void 0,keySystem:J.target.keySystem,systemCode:I.w7,code:I.A1});this.Fm && this.Fm(H.Te.$p,I);this.ib=void 0;}function n(J){var I,M;if(J.target.error)(I=J.target.error.systemCode,M=J.target.error.code);return {code:H.Te.$p,$b:H.Cz.zr,od:I?v.fa.get(y.Jv).TE(I,4):M,details:m().md(J),cause:J.target.error,w7:I,A1:M};}function p(J,I,M,N){var K,O,R;K=J.target.sessionId;O=J.message;R=m().Ur(O,g().decode("certificate"));M.Wla=I === F.Up.i$.Uv;M.state=R?2:12;M.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:K});(M.context.Pe || M.context.Zj || M.context.Zy) && M.log.debug("LICENSE: License challenge",l().encode(O));M.keySessionId=K;J={zl:M.zl,yi:I,messageType:"license-request",xn:(/clearkey/i).test(M.keySystem)?"clearkey":"fps",fj:[{data:O,sessionId:K}]};12 === M.state && (M.Gm("lc"),O={data:O,xn:(/clearkey/i).test(M.keySystem)?"clearkey":"fps"},M.context.QF || (M.uU=O));M.context.wj.Vf(J).then(function(L){if(12 === M.state && (M.Gm("lr"),M.Tna(),!M.context.QF))(M.vU=L.zi[0].data,M.state=13,N({W:!0,state:M.state}));else if(M.ib)return (L=u(M,R,L.zi[0].data,M.ib),2 === M.state?L:L.then(function(){M.state=30;N({W:!0,state:M.state});}));}).catch(function(L){N(m().tB(L,{state:M.state}));});}function q(J,I,M){I.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:J.target.sessionId});M({W:!0});}function t(J,I,M){var N;N=n(J);I.Fm && I.Fm(H.Te.$p,N);I.log.error("LICENSE Error: Received event: " + J.type,{sessionId:I.ib?I.ib.sessionId:void 0,keySystem:J.target.keySystem,systemCode:N.w7,code:N.A1});M({W:!1,code:H.Te.$p,$b:H.Cz.zr,od:N.od,message:"Received a key error.",gb:N.details,cause:N.cause});}function u(J,I,M,N){N={sessionId:N.sessionId};J.x3() && (N.license=l().encode(M));J.log.trace("calling keysession update",N);return new Promise(function(K,O){function R(){J.ib.removeEventListener("webkitkeyadded",R);K(void 0);}try{I || J.ib.addEventListener("webkitkeyadded",R);J.ib.update(M);I && K(void 0);}catch(L){O({W:!1,code:H.Te.jY,message:"Unable to update the EME.",e:L});}});}function w(J){this.Sc[J]=v.fa.get(A.ud).Tb().da(E.ia);this.log.trace("Milestone: " + J + ", " + this.Sc[J]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(6);b=a(2);x=a(26);y=a(76);z=a(33);B=a(77);A=a(18);E=a(4);D=a(10);F=a(62);C=a(157);G=a(63);H={};H.Te=b.J;H.Cz=b.K;c.prototype.Eq=function(){return this.keySystem;};c.prototype.U5a=function(J,I){J.log && (this.log=J.log);J.Gm && (this.Gm=J.Gm);I.wj && (this.context.wj=I.wj);I.onerror && (this.context.onerror=I.onerror);};c.prototype.create=function(J){var I;I=this;I.Gm("lg");I.log.trace("CREATE: Creating the media keys",{keySystem:J});I.keySystem=J;return I.context.IU?Promise.reject({W:!1,code:H.Te.iO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function M(){var N,K;N=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");K=N.lastChild;I.Se=N;I.context.ja=D.ye.createElement("VIDEO");K?I.Se.insertBefore(I.context.ja,K):I.Se.appendChild(I.context.ja);}return new Promise(function(N,K){function O(R){(I.context.Pe || I.context.Zj || I.context.Zy) && I.log.trace("CREATE: Received event: " + R.type,{readyState:R.target.readyState,duration:R.target.duration});try{I.mediaKeys=new lb.WebKitMediaKeys(J);I.context.ja.webkitSetMediaKeys(I.mediaKeys);N({W:!0,mediaKeys:I.mediaKeys});}catch(L){I.log.error("CREATE: Exception on webkitSetMediaKeys",L);K({W:!1,code:H.Te.RO,gb:m().md(L)});}}if(d(I.keySystem))try{I.mediaKeys=new lb.WebKitMediaKeys(J);I.context.ja && (I.log.trace("LICENSE: calling setmediakeys on video element"),I.context.ja.webkitSetMediaKeys(I.mediaKeys));N({W:!0,mediaKeys:I.mediaKeys});}catch(R){K({W:!1,code:H.Te.RO,gb:m().md(R)});}else (I.mediaKeys=new lb.WebKitMediaKeys(J),I.context.ja?(I.log.trace("LICENSE: calling setmediakeys on video element"),I.context.ja.webkitSetMediaKeys(I.mediaKeys)):(M(),I.Ai=new D.VC(),I.Ai.addEventListener("sourceopen",O),I.url=URL.createObjectURL(I.Ai),I.context.ja.src=I.url),N({W:!0,mediaKeys:I.mediaKeys}));});})();};c.prototype.close=function(){this.ib && (this.log.info("Closing the session",{sessionId:this.ib.sessionId}),this.ib.removeEventListener("webkitkeyerror",this.kU),this.ib.close(),this.ib=void 0);};c.prototype.Vf=function(J,I){var M;if(1 < I.length)return Promise.reject({code:H.Te.XBa});if(0 === I.length)return Promise.reject({code:H.Te.VBa});I=I[0];M=this;M.context.Pe && M.log.trace("LICENSE: Setting license",{initData:l().encode(I)});return M.context.IU?Promise.reject({W:!1,code:H.Te.Iwa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(N,K){var R,L,Q;function O(P){M.ib && (M.ib.removeEventListener("webkitkeymessage",R),M.ib.removeEventListener("webkitkeyadded",L),M.ib.removeEventListener("webkitkeyerror",Q),M.ib.addEventListener("webkitkeyerror",M.kU));P.W?N(P):(M.close(),K(P));}R=function(P){p(P,J,M,O);};L=function(P){q(P,M,O);};Q=function(P){t(P,M,O);};d(M.keySystem) && (M.zl=h(I),I=f(M.zl));M.log.trace("LICENSE: Executing prefix based EME");M.context.Pe | M.context.Zj && M.log.debug("LICENSE: PSSH",l().encode(I));M.ib=M.mediaKeys.createSession("video/mp4",I,null);(M.context.Pe || M.context.Zj) && M.log.debug("LICENSE: Created the media keys sessions",{keySystem:M.ib.keySystem,sessionId:M.ib.sessionId});M.ib.addEventListener("webkitkeymessage",R);M.ib.addEventListener("webkitkeyadded",L);M.ib.addEventListener("webkitkeyerror",Q);});})();};c.prototype.bG=function(){var J;J=this;return J.ora?Promise.resolve({W:!0}):new Promise(function(I,M){var K,O,R;function N(L){J.ib && (J.ib.removeEventListener("webkitkeymessage",K),J.ib.removeEventListener("webkitkeyadded",O),J.ib.removeEventListener("webkitkeyerror",R));L.W?I(L):(M(L),J.close());}K=function(L){p(L,F.Up.i$.Yl,J,N);};O=function(L){q(L,J,N);I({W:!0});};R=function(L){t(L,J,N);};J.Wla=!1;J.ib.addEventListener("webkitkeymessage",K);J.ib.addEventListener("webkitkeyadded",O);J.ib.addEventListener("webkitkeyerror",R);J.ib.update(g().decode("renew"));});};c.prototype.FQ=function(J){this.vU || this.log.error("pending license must exist at this point");this.context.QF=!0;try{J && (this.context.ja=J,this.log.trace("calling setmediakeys on video element"),this.context.ja.webkitSetMediaKeys(this.mediaKeys));}catch(I){return new Promise(function(M,N){N({W:!1,code:H.Te.MH,message:"setMediaKeys failed",gb:m().md(I)});});}return u(this,!1,this.vU,this.ib);};c.prototype.uQa=function(J){var I,M;I=this;I.log.trace("Releasing the license of the current session",JSON.stringify(J));I.ora=!0;M={ca:J.ca,Yd:J.Yd};return new Promise(function(N,K){(function(){I.context.wj.release.call(I.context.wj,M).then(function(){var O;I.log.trace("successfully released the license",JSON.stringify(J));O={W:!0};O.W?N(O):(I.close(),K(O));}).catch(function(O){I.log.error("RELEASE: Unable to get the release the license",{sessionId:I.ib?I.ib.sessionId:void 0,code:O.code,subCode:O.$b,extCode:O.od,edgeCode:O.om,message:O.gj});O.W?N(O):(I.close(),K(O));});})();});};c.prototype.x3=function(){return this.context.Pe || this.context.Zj;};r.exports=c;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p,q){this.log=k;this.XE=n;this.By=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});g=a(2);l=a(6);m=a(26);d=a(77);f=a(33);h=a(63);c.prototype.Vf=function(k){var n,p;n=this;(this.context.Pe || this.context.Zj) && this.log.debug("Requesting a license",k);if(l.fa.get(m.yf).Ur(l.fa.get(d.Rt).decode("certificate"),k.fj[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({zi:[{sessionId:k.fj[0].sessionId,data:l.fa.get(f.Nh).decode(h.I9)}]});}else p=l.fa.get(m.yf).Ur(l.fa.get(d.Rt).decode("content"),k.fj[0].data)?Promise.resolve({zi:[{sessionId:k.fj[0].sessionId,data:k.zl}]}):(function(){n.log.trace("Requesting license",{drmType:k.xn});return n.XE(k).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:g.J.BH,$b:q.$b,od:q.od,om:q.om,gj:q.message || q.gj,fK:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.gj),cause:q};});})();return p;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.By(k).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.$b,extCode:p.od,edgeCode:p.om,message:p.message || p.gj});throw {W:!1,code:g.J.Eaa,$b:p.$b,od:p.od,om:p.om,gj:p.message || p.gj,message:"Unable to release the FairPlay license. " + (p.message || p.gj),cause:p};});};r.exports=c;},function(r,b,a){var m,d,f,h,k,n,p,q;function c(t,u,w){var v;v=this;this.is=t;this.Sm=u;this.config=w;this.yv=function(){return {version:v.version,drmData:v.l1.map(function(x){return x.yv();})};};this.sia=function(x){var y;v.is.nn(x) && (x=g(x));1 === x.version && (x=l(v.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.fX(z);});}catch(z){throw new k.Ec(f.J.zH,f.K.iz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !v.is.Sh(x.version))throw new k.Ec(f.J.zH,f.K.iz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.Ec(f.J.zH,f.K.zua,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.fr=new n.Z9(2,this.config.MR,this.is.nn(this.config.MR),this.Sm,this.yv);}function g(t){t=JSON.parse(t);t={xid:t.xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId};if(!t.licenseContextId || !t.xid || !t.movieId)throw new k.Ec(f.J.zH,f.K.iz);return {version:1,drmData:[t]};}function l(t,u){if(t.Qw(u.drmData))return {version:2,drmData:u.drmData.map(function(w){var v;v=w.keySessionIds;return new q.fX({keySystemId:w.keySystemId,keySessionData:(v && 0 < v.length?v:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).yv();})};throw new k.Ec(f.J.zH,f.K.iz);}Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;r=a(0);m=a(1);d=a(65);f=a(2);h=a(25);k=a(41);n=a(298);p=a(78);q=a(198);c.prototype.C0a=function(){return this.yUb();};c.prototype.vKa=function(t){return this.fr.add(t);};c.prototype.TU=function(t){return this.fr.remove(t,function(u,w){return u.ca === w.ca;});};c.prototype.toString=function(){return JSON.stringify(this.yv(),null,"  ");};c.prototype.yUb=function(){var t;t=this;this.G0a || (this.G0a=new Promise(function(u,w){t.fr.load(t.sia).then(function(){u();}).catch(function(v){v.ka && v.cause?w(new k.Ec(f.J.zH,v.ka,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.G0a;};Ua.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.fr.version;}},l1:{configurable:!0,enumerable:!0,get:function(){return this.fr.qu;}}});a=c;a=r.__decorate([m.O(),r.__param(0,m.l(h.xf)),r.__param(1,m.l(p.fz)),r.__param(2,m.l(d.Dt))],a);b.Rua=a;},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.n0a=void 0;c=a(2);g=a(89);l=a(115);m=a(197);b.n0a=function(f){m.ZJ.parent=f.eb;return function(){d || (d=new Promise(function(h,k){try{h(m.ZJ.get(l.twa));}catch(n){k(new g.bg(c.J.zab,c.K.Uab,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;a.prototype.oUa=function(){return void 0 !== this.mediaKeys;};a.prototype.setMediaKeys=function(c){this.mediaKeys=c;};a.prototype.yQb=function(){this.oUa() && (this.mediaKeys=void 0);};b.OAa=a;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u,w){this.JE=p;this.tc=q;this.EL=u;this.Dl=w;this.log=t.sb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Tua=void 0;r=a(0);g=a(1);l=a(115);m=a(33);d=a(7);f=a(134);h=a(79);k=a(133);n=a(581);c.prototype.Bja=function(p){var q;q=this;return Promise.all([this.JE(),this.lAb(),this.Dl.Bx()]).then(function(t){var u,w;u=Z(t);t=u.next().value;w=u.next().value;u=u.next().value;return t.pyb({type:p,initData:w,context:{Qe:u.keySystem}},q.EL());}).then(function(t){var u;u=Z(t);t=u.next().value;u=u.next().value;u=q.tc.encode(u.data[0]);q.log.trace("Challenge generated",u);return {Db:t,efa:u};});};c.prototype.lAb=function(){var p;p=this;return this.Dl.qs().then(function(q){switch(q){case k.Um.PE:return n.P$a;case k.Um.JB:return n.udb;default:return n.Qeb;}}).then(function(q){return q.map(p.tc.decode);});};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.gX)),r.__param(1,g.l(m.Nh)),r.__param(2,g.l(d.Ab)),r.__param(3,g.l(f.HO)),r.__param(4,g.l(h.It))],a);b.Tua=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qeb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.P$a=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.udb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(1);c=a(13);g=a(583);l=a(35);m=a(36);d=a(584);f=a(300);h=a(586);k=a(159);n=a(587);p=a(65);q=a(588);b.config=new r.Qc(function(t){t(c.Uc).sf(function(){return function(){return lb._cad_global.config;};});t(l.j9).to(g.mva).Z();t(l.$l).to(g.IGa).Z();t(l.CO).to(g.Tya).Z();t(m.Wl).to(d.Dxa).Z();t(f.oBa).to(h.nBa).Z();t(k.xxa).to(n.wxa).Z();t(p.Dt).to(q.Rwa).Z();});},function(r,b,a){var m,d,f,h,k;function c(){this.lx={};this.Q1a=0;}function g(n,p,q,t,u){this.debug=n;this.Lx=p;this.fU=q;this.rg=t;this.d6=u;}function l(n,p,q){this.Lx=n;this.fU=p;this.d6=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Tya=b.IGa=b.mva=void 0;r=a(0);m=a(1);d=a(90);f=a(7);h=a(135);k=a(299);a=a(35);l=r.__decorate([m.O(),r.__param(0,m.l(a.CO)),r.__param(1,m.l(h.EY)),r.__param(2,m.l(k.Baa))],l);b.mva=l;g=r.__decorate([m.O(),r.__param(0,m.l(d.zt)),r.__param(1,m.l(a.CO)),r.__param(2,m.l(h.EY)),r.__param(3,m.l(f.Ab)),r.__param(4,m.l(k.Baa))],g);b.IGa=g;c.prototype.XIb=function(n){this.lx=Object.assign({},this.lx,n);this.Q1a++;};Ua.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.lx;}},B6:{configurable:!0,enumerable:!0,get:function(){return this.Q1a;}}});a=r.__decorate([m.O()],c);b.Tya=a;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t){p=d.Ye.call(this,p,void 0 === t?"GeneralConfigImpl":t) || this;p.Wj=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=b.eK=void 0;r=a(0);g=a(4);l=a(1);m=a(42);d=a(43);f=a(36);h=a(35);a=a(131);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.eK=function(p,q){return p.D0a(k[q] || q,f.Qv);};ja(c,d.Ye);Ua.Object.defineProperties(c.prototype,{eK:{configurable:!0,enumerable:!0,get:function(){return f.Qv.Adb;}},pra:{configurable:!0,enumerable:!0,get:function(){return g.kh(8);}},ZA:{configurable:!0,enumerable:!0,get:function(){return "";}},BJ:{configurable:!0,enumerable:!0,get:function(){return "";}},UG:{configurable:!0,enumerable:!0,get:function(){return "";}},y4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},K_:{configurable:!0,enumerable:!0,get:function(){return !0;}},YS:{configurable:!0,enumerable:!0,get:function(){return this.Wj.YS;}},xwb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Gd:{configurable:!0,enumerable:!0,get:function(){return {};}},P1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},qla:{configurable:!0,enumerable:!0,get:function(){return !1;}},o8:{configurable:!0,enumerable:!0,get:function(){return !1;}},st:{configurable:!0,enumerable:!0,get:function(){return !1;}},UR:{configurable:!0,enumerable:!0,get:function(){return !0;}},bC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},xu:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Qv.WFa,f.Qv.Xya].indexOf(this.eK);}}});n=c;r.__decorate([m.config(b.eK,"environment")],n.prototype,"eK",null);r.__decorate([m.config(m.bk,"storageTimeout")],n.prototype,"pra",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"ZA",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"BJ",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"UG",null);r.__decorate([m.config(m.jd,"testIndexDBForCorruptedDatabase")],n.prototype,"y4a",null);r.__decorate([m.config(m.jd,"applyIndexedDbOpenWorkaround")],n.prototype,"K_",null);r.__decorate([m.config(m.jd,"ignoreIdbOpenError")],n.prototype,"YS",null);r.__decorate([m.config(m.jd,"executeStorageMigration")],n.prototype,"xwb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"Gd",null);r.__decorate([m.config(m.jd,"retryAllMslRequestsOnError")],n.prototype,"P1a",null);r.__decorate([m.config(m.jd,"isTestAccount")],n.prototype,"qla",null);r.__decorate([m.config(m.jd,"vuiCommandLogging")],n.prototype,"o8",null);r.__decorate([m.config(m.jd,"useRangeHeader")],n.prototype,"st",null);r.__decorate([m.config(m.jd,"enableMilestoneEventList")],n.prototype,"UR",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"bC",null);n=r.__decorate([l.O(),r.__param(0,l.l(h.$l)),r.__param(1,l.l(a.UO)),r.__param(2,l.l(h.cO)),r.__param(2,l.optional())],n);b.Dxa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Q$=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Q$=a;},function(r,b,a){var g,l,m,d;function c(f,h){return m.Ye.call(this,f,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(0);g=a(1);l=a(42);m=a(43);a=a(35);ja(c,m.Ye);Ua.Object.defineProperties(c.prototype,{i6a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([l.config(l.jd,"useNetworkMonitor")],d.prototype,"i6a",null);d=r.__decorate([g.O(),r.__param(0,g.l(a.$l)),r.__param(1,g.l(a.cO)),r.__param(1,g.optional())],d);b.nBa=d;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t){n=d.Ye.call(this,n,void 0 === t?"FtlProbeConfigImpl":t) || this;n.Vg=p;n.sa=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;r=a(0);g=a(38);l=a(1);m=a(4);d=a(43);f=a(116);h=a(42);a=a(35);ja(c,d.Ye);Ua.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.tia + (-1 === this.tia.indexOf("?")?"?":"&") + "monotonic=" + this.sa.qYa + "&device=web";}},F3a:{configurable:!0,enumerable:!0,get:function(){return m.nb;}},mia:{configurable:!0,enumerable:!0,get:function(){return "";}},tia:{configurable:!0,enumerable:!0,get:function(){return this.Vg.endpoint + "/ftl/probe" + (this.mia?"?force=" + this.mia:"");}}});k=c;r.__decorate([h.config(h.jd,"ftlEnabled")],k.prototype,"enabled",null);r.__decorate([h.config(h.bk,"ftlStartDelay")],k.prototype,"F3a",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],k.prototype,"mia",null);r.__decorate([h.config(h.url,"ftlEndpoint")],k.prototype,"tia",null);k=r.__decorate([l.O(),r.__param(0,l.l(a.$l)),r.__param(1,l.l(f.eH)),r.__param(2,l.l(g.hi)),r.__param(3,l.l(a.cO)),r.__param(3,l.optional())],k);b.wxa=k;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p){k=l.Ye.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.Gd=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Rwa=void 0;r=a(0);g=a(1);l=a(43);m=a(35);d=a(4);f=a(42);a=a(156);ja(c,l.Ye);Ua.Object.defineProperties(c.prototype,{lVa:{configurable:!0,enumerable:!0,get:function(){return this.Gd.yVa || this.Gd.gT || this.Gd.jL?!0:!1;}},kB:{configurable:!0,enumerable:!0,get:function(){return d.kh(5);}},noa:{configurable:!0,enumerable:!0,get:function(){return d.kh(10);}},MR:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},gS:{configurable:!0,enumerable:!0,get:function(){return !1;}},Us:{configurable:!0,enumerable:!0,get:function(){return !0;}},aLa:{configurable:!0,enumerable:!0,get:function(){return d.kh(30);}},bLa:{configurable:!0,enumerable:!0,get:function(){return d.kh(30);}},eLa:{configurable:!0,enumerable:!0,get:function(){return d.kh(30);}},cLa:{configurable:!0,enumerable:!0,get:function(){return d.kh(30);}},fLa:{configurable:!0,enumerable:!0,get:function(){return d.kh(30);}},Dqa:{configurable:!0,enumerable:!0,get:function(){return "";}},HZa:{configurable:!0,enumerable:!0,get:function(){return this.Gd.Ju?!1:!0;}},IZa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([f.config(f.jd,"initializeKeySystemAtStartup")],h.prototype,"lVa",null);r.__decorate([f.config(f.bk,"licenseRenewalRequestDelay")],h.prototype,"kB",null);r.__decorate([f.config(f.bk,"persistedReleaseDelay")],h.prototype,"noa",null);r.__decorate([f.config(f.string,"drmPersistKey")],h.prototype,"MR",null);r.__decorate([f.config(f.jd,"forceLimitedDurationLicense")],h.prototype,"gS",null);r.__decorate([f.config(f.jd,"prepareCadmium")],h.prototype,"Us",null);r.__decorate([f.config(f.bk,"apiCloseTimeout")],h.prototype,"aLa",null);r.__decorate([f.config(f.bk,"apiCreateMediaKeysTimeout")],h.prototype,"bLa",null);r.__decorate([f.config(f.bk,"apiSetServerCertificateTimeout")],h.prototype,"eLa",null);r.__decorate([f.config(f.bk,"apiGenerateRequestTimeout")],h.prototype,"cLa",null);r.__decorate([f.config(f.bk,"apiUpdateTimeout")],h.prototype,"fLa",null);r.__decorate([f.config(f.string,"serverCertificate")],h.prototype,"Dqa",null);r.__decorate([f.config(f.jd,"outputRestrictedIsFatal")],h.prototype,"HZa",null);r.__decorate([f.config(f.jd,"outputRestrictedIsFatalForUhd")],h.prototype,"IZa",null);h=r.__decorate([g.O(),r.__param(0,g.l(m.$l)),r.__param(1,g.l(a.hz)),r.__param(2,g.l(m.cO)),r.__param(2,g.optional())],h);b.Rwa=h;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.IPa=void 0;r=a(1);c=a(115);g=a(590);l=a(79);m=a(653);d=a(319);f=a(661);b.IPa=new r.Qc(function(h){h(c.twa).to(g.swa).Z();h(l.It).to(m.NAa).Z();h(d.Twa).to(f.Swa);});},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x;function c(y,z,B,A,E,D,F,C,G,H){var J;J=this;this.Qa=z;this.yy=B;this.config=A;this.Dq=E;this.ovb=D;this.AJ=F;this.Dl=C;this.EL=G;this.Hl=H;this.fVb=function(I,M){var N;J.Hl.mark(x.za.pX,I.ai.ca,"generate-challenge");N=M.rL;N && (N.qN(1).subscribe(function(){J.Hl.mark(x.za.oX,I.ai.ca,"generate-challenge");}),N.map(function(K){return J.XE(I,M,K);}).HL().Xga(function(K){return M.zKa(K);}).subscribe(void 0,function(K){M.Skb(K);},function(){J.Jnb(M);}));};this.log=y.sb("DrmServices");this.Dq().Mp && this.AJ.C0a().then(function(){J.lQb();}).catch(function(I){J.log.error("Unable to load the persisted DRM data",I);});this.config.lVa && this.Dl.Bx().then(function(I){return J.dOa(I,{Qe:I.keySystem},k.pk.Yl,G()).then(function(M){return M.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;r=a(0);g=a(1);l=a(200);m=a(7);d=a(44);f=a(318);h=a(67);k=a(68);n=a(65);p=a(199);q=a(198);t=a(319);u=a(13);w=a(79);v=a(134);x=a(62);c.prototype.pyb=function(y,z){return this.zE(y.context,y.type,z).then(function(B){return B.syb(y.initData).then(function(A){return [B,{xn:B.qs(),data:A.fj}];});});};c.prototype.Vf=function(y,z){var B;B=this;this.log.info("Requesting challenges",this.KSa(y,y.type));return this.zE(y.context,y.type,z).then(function(A){B.oYa(y,A);return A.tyb(y.initData).I7().then(function(){return A;});});};c.prototype.oYa=function(y,z){z.YSb(y.ai);this.fVb(y,z);};c.prototype.release=function(y,z){var B;B=this;this.log.info("Releasing server license",this.BTa(y));return this.zBb(y).then(function(){var A;A=Object.assign({active:!1,Qe:y.context.Qe,Yd:[]},y.ai);B.AJ.TU(A);z.yQb();return y;});};c.prototype.KSa=function(y,z){return {movieId:y.ai.H,xid:y.ai.ca,type:k.Ula(z)};};c.prototype.BTa=function(y){return {movieId:y.ai?y.ai.H:void 0,xid:y.ai?y.ai.ca:void 0,keySessionId:y.Ax()};};c.prototype.XE=function(y,z,B){this.log.info("Sending license request",this.KSa(y,B.yi));return l.fd.a2(this.yy.Vf({ca:y.ai.ca,Di:y.ai.Di,k1:[y.ai.wl],fj:[{sessionId:z.Ax() || "session",data:B.fj}],yi:B.yi,xn:z.qs(),OMa:B.OMa,KT:y.ai.KT,oj:y.ai.oj}));};c.prototype.zBb=function(y){this.log.info("Sending release request",this.BTa(y));return this.yy.release({ca:y.ai.ca,Yd:y.Yd});};c.prototype.zE=function(y,z,B){var A;A=this;return this.Dl.Bx().then(function(E){return A.dOa(E,y,z,B);});};c.prototype.dOa=function(y,z,B,A){return this.ovb.create().then(function(E){return E.createSession(z,y,A,B).then(function(){return E;});});};c.prototype.kQb=function(y){var z;z=this;return l.fd.a2(this.yy.release({ca:y.ca,Yd:y.Yd})).catch(function(B){z.log.error("Unable to send release data to the server",B);return l.fd.empty();}).map(function(){return y;});};c.prototype.lQb=function(){var y;y=this;this.Qa.yj(this.config.noa,function(){var z;y.log.trace("Removing cached sessions",{"count:":y.AJ.l1.length});z=y.AJ.l1.filter(function(B){return !B.active;}).map(function(B){return y.kQb(B);});l.fd.concat.apply(l.fd,ba(z)).subscribe(function(B){y.AJ.TU(B);});});};c.prototype.Jnb=function(y){var z;if(y.Ax() && y.ai){z=new q.fX();z.Qe=y.context.Qe;z.Yd=y.Yd;z.ca=y.ai.ca;z.H=y.ai.H;this.AJ.vKa(z);}};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(m.Ab)),r.__param(1,g.l(d.Ui)),r.__param(2,g.l(f.rwa)),r.__param(3,g.l(n.Dt)),r.__param(4,g.l(u.Uc)),r.__param(5,g.l(t.Twa)),r.__param(6,g.l(p.g9)),r.__param(7,g.l(w.It)),r.__param(8,g.l(v.HO)),r.__param(9,g.l(h.JO))],a);b.swa=a;},function(r,b,a){var c,g,l;c=a(66);g=a(202);l=a(201);b.pWb=function(m,d,f){if(m){if(m instanceof c.so)return m;if(m[g.jG])return m[g.jG]();}return m || d || f?new c.so(m,d,f):new c.so(l.empty);};},function(r,b,a){var g,l;function c(){try{return l.apply(this,arguments);}catch(m){return (g.JA.e=m,g.JA);}}g=a(303);b.p5a=function(m){l=m;return c;};},function(r,b){var a;a=this && this.__extends || (function(c,g){function l(){this.constructor=c;}for(var m in g){g.hasOwnProperty(m) && (c[m]=g[m]);}c.prototype=null === g?Object.create(g):(l.prototype=g.prototype,new l());});r=(function(c){function g(l){c.call(this);this.yu=l;l=Error.call(this,l?l.length + " errors occurred during unsubscription:\n  " + l.map(function(m,d){return d + 1 + ") " + m.toString();}).join("\n  "):"");this.name=l.name="UnsubscriptionError";this.stack=l.stack;this.message=l.message;}a(g,c);return g;})(Error);b.KY=r;},function(r,b,a){var g;function c(l){return l?1 === l.length?l[0]:function(m){return l.reduce(function(d,f){return f(d);},m);}:g.lKb;}g=a(595);b.jNb=function(){for(var l=[],m=0;m < arguments.length;m++){l[m - 0]=arguments[m];}return c(l);};b.kNb=c;},function(r,b){b.lKb=function(){};},function(r,b,a){var c,g,l,m,d,f,h;c=this && this.__extends || (function(k,n){function p(){this.constructor=k;}for(var q in n){n.hasOwnProperty(q) && (k[q]=n[q]);}k.prototype=null === n?Object.create(n):(p.prototype=n.prototype,new p());});r=a(304);g=a(597);l=a(117);m=a(309);d=a(305);f=a(306);a=(function(k){function n(p,q,t){void 0 === p && (p=Number.POSITIVE_INFINITY);void 0 === q && (q=Number.POSITIVE_INFINITY);k.call(this);this.Qa=t;this.fg=[];this.wfb=1 > p?1:p;this.mkb=1 > q?1:q;}c(n,k);n.prototype.next=function(p){var q;q=this.iIa();this.fg.push(new h(q,p));this.cKa();k.prototype.next.call(this,p);};n.prototype.kn=function(p){var q,t,u;q=this.cKa();t=this.Qa;if(this.closed)throw new d.LH();if(this.RS)u=l.Dz.EMPTY;else this.bh?u=l.Dz.EMPTY:(this.ky.push(p),u=new f.LFa(this,p));t && p.add(p=new m.DBa(p,t));t=q.length;for(var w=0;w < t && !p.closed;w++){p.next(q[w].value);}this.RS?p.error(this.Nra):this.bh && p.complete();return u;};n.prototype.iIa=function(){return (this.Qa || g.Kl).now();};n.prototype.cKa=function(){for(var p=this.iIa(),q=this.wfb,t=this.mkb,u=this.fg,w=u.length,v=0;v < w && !(p - u[v].time < t);){v++;}w > q && (v=Math.max(v,w - q));0 < v && u.splice(0,v);return u;};return n;})(r.XH);b.Z2b=a;h=(function(){return function(k,n){this.time=k;this.value=n;};})();},function(r,b,a){r=a(598);a=a(600);b.Kl=new a.Edb(r.Cdb);},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(m,d){g.call(this,m,d);this.Qa=m;this.Tsa=d;}c(l,g);l.prototype.dd=function(m,d){void 0 === d && (d=0);if(0 < d)return g.prototype.dd.call(this,m,d);this.delay=d;this.state=m;this.Qa.flush(this);return this;};l.prototype.bf=function(m,d){return 0 < d || this.closed?g.prototype.bf.call(this,m,d):this.THa(m);};l.prototype.Fpa=function(m,d,f){void 0 === f && (f=0);return null !== f && 0 < f || null === f && 0 < this.delay?g.prototype.Fpa.call(this,m,d,f):m.flush(this);};return l;})(a(307).Vta);b.Cdb=r;},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(){g.call(this);}c(l,g);l.prototype.dd=function(){return this;};return l;})(a(117).Dz);b.G7a=r;},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(){g.apply(this,arguments);}c(l,g);return l;})(a(308).Yta);b.Edb=r;},function(r,b){r=(function(){function a(c,g){void 0 === g && (g=a.now);this.jeb=c;this.now=g;}a.prototype.dd=function(c,g,l){void 0 === g && (g=0);return new this.jeb(this,c).dd(l,g);};a.now=Date.now?Date.now:function(){return +new Date();};return a;})();b.ieb=r;},function(r,b,a){a(23);r=(function(){function c(g,l,m){this.kind=g;this.value=l;this.error=m;this.SK="N" === g;}c.prototype.observe=function(g){switch(this.kind){case "N":return g.next && g.next(this.value);case "E":return g.error && g.error(this.error);case "C":return g.complete && g.complete();}};c.prototype.Xga=function(g,l,m){switch(this.kind){case "N":return g && g(this.value);case "E":return l && l(this.error);case "C":return m && m();}};c.prototype.accept=function(g,l,m){return g && "function" === typeof g.next?this.observe(g):this.Xga(g,l,m);};c.Asb=function(g){return "undefined" !== typeof g?new c("N",g):c.dXb;};c.hsb=function(g){return new c("E",void 0,g);};c.Wrb=function(){return c.Gpb;};c.Gpb=new c("C");c.dXb=new c("N",void 0);return c;})();b.Notification=r;},function(r,b,a){r=a(23);a=a(604);r.fd.prototype.catch=a.Bba;r.fd.prototype.Bba=a.Bba;},function(r,b,a){var c;c=a(605);b.Bba=function(g){return c.uob(g)(this);};},function(r,b,a){var c,g,l,m;c=this && this.__extends || (function(d,f){function h(){this.constructor=d;}for(var k in f){f.hasOwnProperty(k) && (d[k]=f[k]);}d.prototype=null === f?Object.create(f):(h.prototype=f.prototype,new h());});r=a(161);g=a(162);b.uob=function(d){return function(f){var h;h=new l(d);f=f.Fs(h);return h.$ea=f;};};l=(function(){function d(f){this.vqa=f;}d.prototype.call=function(f,h){return h.subscribe(new m(f,this.vqa,this.$ea));};return d;})();m=(function(d){function f(h,k,n){d.call(this,h);this.vqa=k;this.$ea=n;}c(f,d);f.prototype.error=function(h){var k;if(!this.bh){k=void 0;try{k=this.vqa(h,this.$ea);}catch(n){d.prototype.error.call(this,n);return;}this.bkb();this.add(g.r7(this,k));}};return f;})(r.hY);},function(r,b,a){var c;c=this && this.__extends || (function(g,l){function m(){this.constructor=g;}for(var d in l){l.hasOwnProperty(d) && (g[d]=l[d]);}g.prototype=null === l?Object.create(l):(m.prototype=l.prototype,new m());});r=(function(g){function l(m,d,f){g.call(this);this.parent=m;this.lMb=d;this.kMb=f;this.index=0;}c(l,g);l.prototype.em=function(m){this.parent.g5(this.lMb,m,this.kMb,this.index++);};l.prototype.Af=function(m){this.parent.tKb(m);this.unsubscribe();};l.prototype.re=function(){this.parent.Yu(this);this.unsubscribe();};return l;})(a(66).so);b.Vya=r;},function(r,b,a){r=a(23);a=a(608);r.fd.prototype.Xga=a.Rba;r.fd.prototype.Rba=a.Rba;},function(r,b,a){var c;c=a(609);b.Rba=function(g,l,m){return c.FVb(g,l,m)(this);};},function(r,b,a){var c,g,l,m;c=this && this.__extends || (function(d,f){function h(){this.constructor=d;}for(var k in f){f.hasOwnProperty(k) && (d[k]=f[k]);}d.prototype=null === f?Object.create(f):(h.prototype=f.prototype,new h());});g=a(66);b.FVb=function(d,f,h){return function(k){return k.Fs(new l(d,f,h));};};l=(function(){function d(f,h,k){this.dKb=f;this.error=h;this.complete=k;}d.prototype.call=function(f,h){return h.subscribe(new m(f,this.dKb,this.error,this.complete));};return d;})();m=(function(d){function f(h,k,n,p){d.call(this,h);h=new g.so(k,n,p);h.bo=!0;this.add(h);this.Ypa=h;}c(f,d);f.prototype.em=function(h){var k;k=this.Ypa;k.next(h);k.BG?this.destination.error(k.CG):this.destination.next(h);};f.prototype.Af=function(h){var k;k=this.Ypa;k.error(h);k.BG?this.destination.error(k.CG):this.destination.error(h);};f.prototype.re=function(){var h;h=this.Ypa;h.complete();h.BG?this.destination.error(h.CG):this.destination.complete();};return f;})(g.so);},function(r,b,a){r=a(23);a=a(611);r.fd.prototype.lj=a.lj;},function(r,b,a){var c;c=a(612);b.lj=function(g,l,m){return c.lj(g,l,m)(this);};},function(r,b,a){var c,g,l,m;c=this && this.__extends || (function(d,f){function h(){this.constructor=d;}for(var k in f){f.hasOwnProperty(k) && (d[k]=f[k]);}d.prototype=null === f?Object.create(f):(h.prototype=f.prototype,new h());});r=a(66);g=a(613);b.lj=function(d,f,h){return function(k){return k.Fs(new l(d,f,h,k));};};l=(function(){function d(f,h,k,n){this.KB=f;this.sv=h;this.defaultValue=k;this.source=n;}d.prototype.call=function(f,h){return h.subscribe(new m(f,this.KB,this.sv,this.defaultValue,this.source));};return d;})();m=(function(d){function f(h,k,n,p,q){d.call(this,h);this.KB=k;this.sv=n;this.defaultValue=p;this.source=q;this.SK=!1;this.index=0;"undefined" !== typeof p && (this.Y3=p,this.SK=!0);}c(f,d);f.prototype.em=function(h){var k;k=this.index++;this.KB?this.Zjb(h,k):this.sv?this.eKa(h,k):(this.Y3=h,this.SK=!0);};f.prototype.Zjb=function(h,k){var n;try{n=this.KB(h,k,this.source);}catch(p){this.destination.error(p);return;}n && (this.sv?this.eKa(h,k):(this.Y3=h,this.SK=!0));};f.prototype.eKa=function(h,k){var n;try{n=this.sv(h,k);}catch(p){this.destination.error(p);return;}this.Y3=n;this.SK=!0;};f.prototype.re=function(){var h;h=this.destination;this.SK?(h.next(this.Y3),h.complete()):h.error(new g.D$a());};return f;})(r.so);},function(r,b){var a;a=this && this.__extends || (function(c,g){function l(){this.constructor=c;}for(var m in g){g.hasOwnProperty(m) && (c[m]=g[m]);}c.prototype=null === g?Object.create(g):(l.prototype=g.prototype,new l());});r=(function(c){function g(){var l;l=c.call(this,"no elements in sequence");this.name=l.name="EmptyError";this.stack=l.stack;this.message=l.message;}a(g,c);return g;})(Error);b.D$a=r;},function(r,b,a){r=a(23);a=a(615);r.fd.prototype.map=a.map;},function(r,b,a){var c;c=a(616);b.map=function(g,l){return c.map(g,l)(this);};},function(r,b,a){var c,g,l;c=this && this.__extends || (function(m,d){function f(){this.constructor=m;}for(var h in d){d.hasOwnProperty(h) && (m[h]=d[h]);}m.prototype=null === d?Object.create(d):(f.prototype=d.prototype,new f());});r=a(66);b.map=function(m,d){return function(f){if("function" !== typeof m)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return f.Fs(new g(m,d));};};g=(function(){function m(d,f){this.$F=d;this.Jra=f;}m.prototype.call=function(d,f){return f.subscribe(new l(d,this.$F,this.Jra));};return m;})();b.v1b=g;l=(function(m){function d(f,h,k){m.call(this,f);this.$F=h;this.count=0;this.Jra=k || this;}c(d,m);d.prototype.em=function(f){var h;try{h=this.$F.call(this.Jra,f,this.count++);}catch(k){this.destination.error(k);return;}this.destination.next(h);};return d;})(r.so);},function(r,b,a){r=a(23);a=a(618);r.fd.prototype.HL=a.HL;},function(r,b,a){var c;c=a(312);b.HL=function(g){void 0 === g && (g=Number.POSITIVE_INFINITY);return c.HL(g)(this);};},function(r,b){b.NDb=function(a){return a;};},function(r,b,a){r=a(23);a=a(621);r.fd.prototype.IL=a.IL;r.fd.prototype.flatMap=a.IL;},function(r,b,a){var c;c=a(313);b.IL=function(g,l,m){void 0 === m && (m=Number.POSITIVE_INFINITY);return c.IL(g,l,m)(this);};},function(r,b,a){r=a(23);a=a(623);r.fd.prototype.e7=a.e7;},function(r,b,a){var c;c=a(624);b.e7=function(g){return c.e7(g)(this);};},function(r,b,a){var c,g,l;c=this && this.__extends || (function(m,d){function f(){this.constructor=m;}for(var h in d){d.hasOwnProperty(h) && (m[h]=d[h]);}m.prototype=null === d?Object.create(d):(f.prototype=d.prototype,new f());});r=a(66);b.e7=function(m){return function(d){return d.Fs(new g(m));};};g=(function(){function m(d){this.KB=d;}m.prototype.call=function(d,f){return f.subscribe(new l(d,this.KB));};return m;})();l=(function(m){function d(f,h){m.call(this,f);this.KB=h;this.fra=!0;this.index=0;}c(d,m);d.prototype.em=function(f){var h;h=this.destination;this.fra && this.QWb(f);this.fra || h.next(f);};d.prototype.QWb=function(f){try{this.fra=! !this.KB(f,this.index++);}catch(h){this.destination.error(h);}};return d;})(r.so);},function(r,b,a){r=a(23);a=a(626);r.fd.prototype.qN=a.qN;},function(r,b,a){var c;c=a(627);b.qN=function(g){return c.qN(g)(this);};},function(r,b,a){var c,g,l,m,d;c=this && this.__extends || (function(f,h){function k(){this.constructor=f;}for(var n in h){h.hasOwnProperty(n) && (f[n]=h[n]);}f.prototype=null === h?Object.create(h):(k.prototype=h.prototype,new k());});r=a(66);g=a(628);l=a(163);b.qN=function(f){return function(h){return 0 === f?new l.lX():h.Fs(new m(f));};};m=(function(){function f(h){this.total=h;if(0 > this.total)throw new g.H7a();}f.prototype.call=function(h,k){return k.subscribe(new d(h,this.total));};return f;})();d=(function(f){function h(k,n){f.call(this,k);this.total=n;this.count=0;}c(h,f);h.prototype.em=function(k){var n,p;n=this.total;p=++this.count;p <= n && (this.destination.next(k),p === n && (this.destination.complete(),this.unsubscribe()));};return h;})(r.so);},function(r,b){var a;a=this && this.__extends || (function(c,g){function l(){this.constructor=c;}for(var m in g){g.hasOwnProperty(m) && (c[m]=g[m]);}c.prototype=null === g?Object.create(g):(l.prototype=g.prototype,new l());});r=(function(c){function g(){var l;l=c.call(this,"argument out of range");this.name=l.name="ArgumentOutOfRangeError";this.stack=l.stack;this.message=l.message;}a(g,c);return g;})(Error);b.H7a=r;},function(r,b,a){r=a(23);a=a(630);r.fd.prototype.x7=a.x7;},function(r,b,a){var c;c=a(631);b.x7=function(g){return c.x7(g)(this);};},function(r,b,a){var c,g,l,m;c=this && this.__extends || (function(d,f){function h(){this.constructor=d;}for(var k in f){f.hasOwnProperty(k) && (d[k]=f[k]);}d.prototype=null === f?Object.create(f):(h.prototype=f.prototype,new h());});r=a(161);g=a(162);b.x7=function(d){return function(f){return f.Fs(new l(d));};};l=(function(){function d(f){this.$a=f;}d.prototype.call=function(f,h){return h.subscribe(new m(f,this.$a));};return d;})();m=(function(d){function f(h,k){d.call(this,h);this.$a=k;this.add(g.r7(this,k));}c(f,d);f.prototype.g5=function(){this.complete();};f.prototype.Yu=function(){};return f;})(r.hY);},function(){},function(r,b,a){r=a(23);a=a(634);r.fd.concat=a.concat;},function(r,b,a){var c,g,l,m;c=a(205);g=a(314);l=a(316);m=a(638);b.concat=function(){for(var d=[],f=0;f < arguments.length;f++){d[f - 0]=arguments[f];}return 1 === d.length || 2 === d.length && c.H3(d[1])?l.from(d[0]):m.Npb()(g.of.apply(void 0,d));};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t;c=this && this.__extends || (function(u,w){function v(){this.constructor=u;}for(var x in w){w.hasOwnProperty(x) && (u[x]=w[x]);}u.prototype=null === w?Object.create(w):(v.prototype=w.prototype,new v());});g=a(160);l=a(310);m=a(311);d=a(317);f=a(636);h=a(206);k=a(637);n=a(204);p=a(23);q=a(309);t=a(203);r=(function(u){function w(v,x){u.call(this,null);this.UFb=v;this.Qa=x;}c(w,u);w.create=function(v,x){if(null != v){if("function" === typeof v[t.observable])return v instanceof p.fd && !x?v:new w(v,x);if(g.isArray(v))return new h.J8(v,x);if(m.kT(v))return new d.hEa(v,x);if("function" === typeof v[n.iterator] || "string" === typeof v)return new f.ibb(v,x);if(l.uVa(v))return new k.M7a(v,x);}throw new TypeError((null !== v && typeof v || v) + " is not observable");};w.prototype.kn=function(v){var x,y;x=this.UFb;y=this.Qa;return null == y?x[t.observable]().subscribe(v):x[t.observable]().subscribe(new q.DBa(v,y,0));};return w;})(p.fd);b.S$a=r;},function(r,b,a){var c,g,l,m,d,f;c=this && this.__extends || (function(h,k){function n(){this.constructor=h;}for(var p in k){k.hasOwnProperty(p) && (h[p]=k[p]);}h.prototype=null === k?Object.create(k):(n.prototype=k.prototype,new n());});g=a(91);r=a(23);l=a(204);a=(function(h){function k(n,p){h.call(this);this.Qa=p;if(null == n)throw Error("iterator cannot be null.");if((p=n[l.iterator]) || "string" !== typeof n){if(p || void 0 === n.length){if(!p)throw new TypeError("object is not iterable");n=n[l.iterator]();}else n=new d(n);}else n=new m(n);this.iterator=n;}c(k,h);k.create=function(n,p){return new k(n,p);};k.Ic=function(n){var p,q,t,u;p=n.index;q=n.iterator;t=n.ik;if(n.RS)t.error(n.error);else {u=q.next();u.done?t.complete():(t.next(u.value),n.index=p + 1,t.closed?"function" === typeof q.return && q.return():this.dd(n));}};k.prototype.kn=function(n){var p,q;p=this.iterator;q=this.Qa;if(q)return q.dd(k.Ic,0,{index:0,iterator:p,ik:n});do {q=p.next();if(q.done){n.complete();break;}else n.next(q.value);if(n.closed){"function" === typeof p.return && p.return();break;}}while(1);};return k;})(r.fd);b.ibb=a;m=(function(){function h(k,n,p){void 0 === n && (n=0);void 0 === p && (p=k.length);this.cC=k;this.XS=n;this.Tla=p;}h.prototype[l.iterator]=function(){return this;};h.prototype.next=function(){return this.XS < this.Tla?{done:!1,value:this.cC.charAt(this.XS++)}:{done:!0,value:void 0};};return h;})();d=(function(){function h(k,n,p){var q;void 0 === n && (n=0);if(void 0 === p)if((p=+k.length,isNaN(p)))p=0;else if(0 !== p && "number" === typeof p && g.root.isFinite(p)){q=+p;p=(0 === q || isNaN(q)?q:0 > q?-1:1) * Math.floor(Math.abs(p));p=0 >= p?0:p > f?f:p;}this.Slb=k;this.XS=n;this.Tla=p;}h.prototype[l.iterator]=function(){return this;};h.prototype.next=function(){return this.XS < this.Tla?{done:!1,value:this.Slb[this.XS++]}:{done:!0,value:void 0};};return h;})();f=Math.pow(2,53) - 1;},function(r,b,a){var c,g,l;c=this && this.__extends || (function(m,d){function f(){this.constructor=m;}for(var h in d){d.hasOwnProperty(h) && (m[h]=d[h]);}m.prototype=null === d?Object.create(d):(f.prototype=d.prototype,new f());});r=a(23);g=a(315);l=a(163);a=(function(m){function d(f,h){m.call(this);this.hea=f;(this.Qa=h) || 1 !== f.length || (this.vw=!0,this.value=f[0]);}c(d,m);d.create=function(f,h){var k;k=f.length;return 0 === k?new l.lX():1 === k?new g.UEa(f[0],h):new d(f,h);};d.Ic=function(f){var h,k,n;h=f.hea;k=f.index;n=f.ik;n.closed || (k >= f.length?n.complete():(n.next(h[k]),f.index=k + 1,this.dd(f)));};d.prototype.kn=function(f){var h,k,n;h=this.hea;k=this.Qa;n=h.length;if(k)return k.dd(d.Ic,0,{hea:h,index:0,length:n,ik:f});for(k=0;k < n && !f.closed;k++){f.next(h[k]);}f.complete();};return d;})(r.fd);b.M7a=a;},function(r,b,a){var c;c=a(312);b.Npb=function(){return c.HL(1);};},function(r,b,a){r=a(23);a=a(640);r.fd.empty=a.empty;},function(r,b,a){r=a(163);b.empty=r.lX.create;},function(r,b,a){r=a(23);a=a(642);r.fd.a2=a.a2;},function(r,b,a){r=a(317);b.a2=r.hEa.create;},function(r,b,a){r=a(23);a=a(644);r.fd.race=a.race;},function(r,b,a){var c,g,l,m,d,f;c=this && this.__extends || (function(h,k){function n(){this.constructor=h;}for(var p in k){k.hasOwnProperty(p) && (h[p]=k[p]);}h.prototype=null === k?Object.create(k):(n.prototype=k.prototype,new n());});g=a(160);l=a(206);r=a(161);m=a(162);b.race=function(){for(var h=[],k=0;k < arguments.length;k++){h[k - 0]=arguments[k];}if(1 === h.length)if(g.isArray(h[0]))h=h[0];else return h[0];return new l.J8(h).Fs(new d());};d=(function(){function h(){}h.prototype.call=function(k,n){return n.subscribe(new f(k));};return h;})();b.X2b=d;f=(function(h){function k(n){h.call(this,n);this.$ja=!1;this.Lna=[];this.EV=[];}c(k,h);k.prototype.em=function(n){this.Lna.push(n);};k.prototype.re=function(){var n,p,t;n=this.Lna;p=n.length;if(0 === p)this.destination.complete();else {for(var q=0;q < p && !this.$ja;q++){t=n[q];t=m.r7(this,t,t,q);this.EV && this.EV.push(t);this.add(t);}this.Lna=null;}};k.prototype.g5=function(n,p,q){var t;if(!this.$ja){this.$ja=!0;for(n=0;n < this.EV.length;n++){if(n !== q){t=this.EV[n];t.unsubscribe();this.remove(t);}}this.EV=null;}this.destination.next(p);};return k;})(r.hY);b.Y2b=f;},function(r,b,a){r=a(23);a=a(314);r.fd.of=a.of;},function(r,b,a){r=a(23);a=a(647);r.fd.iC=a.iC;},function(r,b,a){r=a(648);b.iC=r.yeb.create;},function(r,b,a){var c,g,l,m,d;c=this && this.__extends || (function(f,h){function k(){this.constructor=f;}for(var n in h){h.hasOwnProperty(n) && (f[n]=h[n]);}f.prototype=null === h?Object.create(h):(k.prototype=h.prototype,new k());});g=a(649);r=a(23);l=a(650);m=a(205);d=a(651);a=(function(f){function h(k,n,p){void 0 === k && (k=0);f.call(this);this.D5=-1;this.zPa=0;g.vFb(n)?this.D5=1 > Number(n) && 1 || Number(n):m.H3(n) && (p=n);m.H3(p) || (p=l.async);this.Qa=p;this.zPa=d.$Eb(k)?+k - this.Qa.now():k;}c(h,f);h.create=function(k,n,p){void 0 === k && (k=0);return new h(k,n,p);};h.Ic=function(k){var n,p,q;n=k.index;p=k.D5;q=k.ik;q.next(n);if(!q.closed){if(-1 === p)return q.complete();k.index=n + 1;this.dd(k,p);}};h.prototype.kn=function(k){return this.Qa.dd(h.Ic,this.zPa,{index:0,D5:this.D5,ik:k});};return h;})(r.fd);b.yeb=a;},function(r,b,a){var c;c=a(160);b.vFb=function(g){return !c.isArray(g) && 0 <= g - parseFloat(g) + 1;};},function(r,b,a){r=a(307);a=a(308);b.async=new a.Yta(r.Vta);},function(r,b){b.$Eb=function(a){return a instanceof Date && !isNaN(+a);};},function(r,b,a){r=a(23);a=a(316);r.fd.from=a.from;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D;function c(F,C,G,H,J,I,M,N,K,O){this.Nq=F;this.Qd=C;this.ph=G;this.si=H;this.tc=J;this.is=I;this.XT=M;this.config=N;this.$o=K;this.Ih=O;this.log=this.Nq.sb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;r=a(0);g=a(1);l=a(2);m=a(7);d=a(89);f=a(133);h=a(654);k=a(655);n=a(656);p=a(208);q=a(26);t=a(76);u=a(33);w=a(25);v=a(34);x=a(657);y=a(659);z=a(77);B=a(13);A=a(102);E=a(65);a=a(69);c.prototype.Bx=function(){this.promise || (this.promise=this.IRb());return this.promise;};c.prototype.psb=function(F){var C;C=this;return new Promise(function(G,H){var J,I;J=A.Eb.Nia(F);I=C.mSa(J);J=C.eSa(J);I.XQb(F,J.vja()).then(function(M){C.log.trace("Created the media keys system access",{keySystem:F,supportedconfig:M.getConfiguration?JSON.stringify(M.getConfiguration()):void 0});G(M);}).catch(function(M){C.log.error("Unable to create the media key system access object",{keySystem:F,error:M.message});H(new d.bg(l.J.Dwa,l.K.Ni,void 0,"Unable to create media keys system access. " + M.message,M));});});};c.prototype.qs=function(){var F;F=this;return this.Bx().then(function(C){return F.fSa(C);});};c.prototype.Nzb=function(){var F,C;F=this;C=this.config().kWa || [this.config().Qe];if(1 < C.length)return this.Bx().then(function(G){return F.fSa(G);}).then(function(G){return A.Eb.dSa(G);});C=A.Eb.Nia(C[0]);return Promise.resolve(A.Eb.dSa(C));};c.prototype.Ozb=function(){var F;F=this;return this.qs().then(function(C){return F.eSa(C);});};c.prototype.Qzb=function(){var F;F=this;return this.qs().then(function(C){return F.mSa(C);});};c.prototype.fSa=function(F){return A.Eb.Nia(F.keySystem);};c.prototype.eSa=function(F){switch(F){case f.Um.JB:return new h.Pwa(this.si,this.tc);case f.Um.PE:return new y.TEa(this.si,this.tc,this.ph,this.Ih);default:return new n.eva(this.si,this.$o,this.config);}};c.prototype.mSa=function(F){switch(F){case f.Um.JB:return new k.UDa(this.XT,this.is,this.tc,this.Qd,this.$o,this.ph);case f.Um.PE:return new x.rxa(this.XT,this.is,this.tc,this.Qd,this.$o,this.ph);default:return new p.Pt(this.XT,this.is,this.tc,this.Qd,this.$o,this.ph);}};c.prototype.IRb=function(){var F,C;F=this;C=(this.config().kWa || [this.config().Qe]).map(function(G){return function(){return F.psb(G);};});return this.JRb(C);};c.prototype.JRb=function(F){return F.reduce(function(C,G){return C.then(function(H){return Promise.resolve(H);}).catch(function(){return G();});},Promise.reject(Error("keySystem missing")));};D=c;D=r.__decorate([g.O(),r.__param(0,g.l(m.Ab)),r.__param(1,g.l(q.yf)),r.__param(2,g.l(z.Rt)),r.__param(3,g.l(t.Jv)),r.__param(4,g.l(u.Nh)),r.__param(5,g.l(w.xf)),r.__param(6,g.l(v.KH)),r.__param(7,g.l(B.Uc)),r.__param(8,g.l(E.Dt)),r.__param(9,g.l(a.Mt))],D);b.NAa=D;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t){this.si=q;this.tc=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;r=a(0);g=a(1);l=a(2);m=a(76);d=a(33);f=a(207);h=a(89);k=a(57);n=a(41);p=a(63);c.prototype.s0=function(){return !0;};c.prototype.tea=function(){return !1;};c.prototype.Yea=function(){return !1;};c.prototype.wS=function(){return p.jz;};c.prototype.Gia=function(){return p.QBa;};c.prototype.vja=function(){return [{initDataTypes:[this.wS()],audioCapabilities:[{contentType:f.FH}],videoCapabilities:[{contentType:f.Vv}],sessionTypes:["temporary"]}];};c.prototype.Uka=function(){Promise.reject(new n.Ec(l.J.B9));};c.prototype.Vfa=function(q){var t;t=new Uint8Array(q.message);t=this.Lha(t,"PlayReadyKeyMessage","Challenge");t=this.tc.decode(t);return {type:q.type,sessionId:q.target.sessionId,yF:[t],messageType:q.messageType};};c.prototype.jx=function(q){var t,u,w;t=new h.bg(l.J.$p);u=q.code;null != u && void 0 !== u?(u=parseInt(u,10),t.$b=1 <= u && 9 >= u?l.K.zr + u:l.K.zr):t.$b=q instanceof k.cq?l.K.jO:l.K.Ni;try{w=(/\((\d+)\)/).exec(q.message);t.od=this.si.TE(Number(w && w[1]),4);}catch(v){}t.FR(q);return t;};c.prototype.Lha=function(q,t){var w,v,x;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";v=q.length;for(w=0;w < v;w++){x=q[w];0 < x && (u+=String.fromCharCode(x));}v="\\s*(.*)\\s*";for(w=arguments.length - 1;0 < w;w--){x=arguments[w];if(0 > u.search(x))return "";x="(?:[^:].*:|)" + x;v="[\\s\\S]*<" + x + "[^>]*>" + v + "</" + x + ">[\\s\\S]*";}return (u=u.match(new RegExp(v)))?u[1]:"";};c.prototype.BK=function(){};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(m.Jv)),r.__param(1,g.l(d.Nh))],a);b.Pwa=a;},function(r,b,a){var g,l,m,d;function c(){return l.Pt.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.UDa=void 0;r=a(0);g=a(1);l=a(208);m=a(89);d=a(2);ja(c,l.Pt);c.prototype.G0=function(f,h,k,n,p){this.h1a(k);this.e1a(n);this.c1a(p);this.khb=this.Ya;this.Ya=f.createSession(h);this.CKa(k);this.yKa(n);this.wKa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function f(k){return k && k.sessionId?k.close().then(function(){return k=void 0;}):Promise.resolve();}h=this;this.Afa=void 0;return this.Ya?f(this.Ya).then(function(){f(h.khb);}):Promise.reject(new m.bg(d.J.Cwa,d.K.rH,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,h){this.initDataType=f;this.initData=h;return l.Pt.prototype.generateRequest.call(this,f,h);};a=r.__decorate([g.O()],c);b.UDa=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q;function c(t,u,w){this.si=t;this.$o=u;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.eva=void 0;r=a(0);g=a(1);l=a(2);m=a(76);d=a(207);f=a(89);h=a(57);k=a(65);n=a(13);p=a(41);q=a(63);c.prototype.s0=function(){return !0;};c.prototype.tea=function(){return !0;};c.prototype.Yea=function(){return !0;};c.prototype.wS=function(){return q.jz;};c.prototype.Gia=function(){return this.$o.Dqa?this.$o.Dqa:q.Oeb;};c.prototype.vja=function(){var t,u;t=[{contentType:d.Vv,robustness:q.JX},{contentType:d.Vv,robustness:q.SEa},{contentType:d.Vv,robustness:q.Laa}];u=[{contentType:d.Vv,robustness:q.Laa}];return [{initDataTypes:[this.wS()],persistentState:"required",videoCapabilities:this.config().eRa?u:t}];};c.prototype.Uka=function(){Promise.reject(new p.Ec(l.J.B9));};c.prototype.Vfa=function(t){return {type:t.type,sessionId:t.target.sessionId,yF:[new Uint8Array(t.message)],messageType:t.messageType};};c.prototype.jx=function(t){var u,w,v;u=new f.bg(l.J.$p);w=t.code;null != w && void 0 !== w?(w=parseInt(w,10),u.$b=1 <= w && 9 >= w?l.K.zr + w:l.K.zr):u.$b=t instanceof h.cq?l.K.jO:l.K.Ni;try{v=t.message.match(/\((\d*)\)/)[1];u.od=this.si.TE(v,4);}catch(x){}u.FR(t);return u;};c.prototype.BK=function(){};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(m.Jv)),r.__param(1,g.l(k.Dt)),r.__param(2,g.l(n.Uc))],a);b.eva=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u,w,v,x,y,z){u=l.Pt.call(this,u,w,v,x,y,z) || this;u.tc=v;u.Dd=x;u.$o=y;u.ph=z;u.DUa=new m.qxa(u.tc,u.Dd,u.ph);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.rxa=void 0;r=a(0);g=a(1);l=a(208);m=a(658);d=a(34);f=a(25);h=a(33);k=a(26);n=a(65);p=a(77);q=a(320);t=a(321);ja(c,l.Pt);c.prototype.generateRequest=function(u,w){var v,x,y;v=this;try{x=w.map(function(z){return v.DUa.vAb(z);});this.ZUa=x.map(function(z){return v.tc.encode(z);});y=this.DUa.Xpb(x);return l.Pt.prototype.generateRequest.call(this,u,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(u,w,v){var x,y,z,B,A;x=this;if(v)try{y=this.ph.encode(u[0]);z=JSON.parse(y).RESPONSES.map(function(E){var D;D=t.BY.d4a(E.ID);return {keyID:w === q.kD.tEa?x.ZUa[x.ZUa.length - 1]:v[D],payload:E.PAYLOAD};});if(w === q.kD.Request){B=z.map(function(E){return E.keyID;});v.forEach(function(E){B.includes(E) || z.push({keyID:E,error:1});});}A=JSON.stringify(z);u=[this.ph.decode(A)];}catch(E){return Promise.reject(E);}return l.Pt.prototype.update.call(this,u,w);};c.prototype.bG=function(){return l.Pt.prototype.update.call(this,[this.ph.decode("renew")],q.kD.Request);};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(d.KH)),r.__param(1,g.l(f.xf)),r.__param(2,g.l(h.Nh)),r.__param(3,g.l(k.yf)),r.__param(4,g.l(n.Dt)),r.__param(5,g.l(p.Rt))],a);b.rxa=a;},function(r,b){function a(c,g,l){var m;m=this;this.tc=c;this.Dd=g;this.ph=l;this.vAb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.tc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.Q$a={jz:1667591779,n_b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.qxa=void 0;a.prototype.Xpb=function(c){var g;g=this.Q$a.jz;c=c.map(function(l){return {$6b:"",jGb:l,lea:l,qUb:l,CYb:[1]};});return this.PHb(g,c);};a.prototype.OHb=function(c){var g;g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,c);return this.wma("fpsi",[g]);};a.prototype.NHb=function(c,g,l,m){c=[this.wma("fkri",[c])];g.byteLength && c.push(this.ET("fkai",[g]));l.byteLength && c.push(this.ET("fkcx",[l]));m.length && c.push(this.ET("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.ET("fpsk",c);};a.prototype.PHb=function(c,g){var l,d;l=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.OHb(c)];for(var m in g){d=g[m];c.push(this.NHb(d.jGb,d.lea,d.qUb,d.CYb));}g=this.ET("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,g.byteLength);return this.wma("pssh",[l,m,g]);};a.prototype.wma=function(c,g){var l,m,d;l=0;for(d in g){l+=g[d].byteLength;}l=new Uint8Array(12 + l);m=new DataView(l.buffer);d=0;m.setUint32(d,l.byteLength);d+=4;l.set(this.ph.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var f in g){c=g[f];l.set(c,d);d+=c.byteLength;}return l;};a.prototype.ET=function(c,g){var l,m;l=0;for(m in g){l+=g[m].byteLength;}l=new Uint8Array(8 + l);m=0;new DataView(l.buffer).setUint32(m,l.byteLength);m+=4;l.set(this.ph.decode(c),m);m+=4;for(var d in g){c=g[d];l.set(c,m);m+=c.byteLength;}return l;};b.qxa=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u;function c(w,v,x,y){this.si=w;this.tc=v;this.ph=x;this.Ih=y;}Object.defineProperty(b,"__esModule",{value:!0});b.TEa=void 0;r=a(0);g=a(1);l=a(2);m=a(76);d=a(77);f=a(89);h=a(57);k=a(33);n=a(63);p=a(322);q=a(41);t=a(69);u=a(321);c.prototype.s0=function(){return !1;};c.prototype.tea=function(){return !1;};c.prototype.Yea=function(){return !0;};c.prototype.wS=function(){return n.jz;};c.prototype.Gia=function(){return n.I9;};c.prototype.vja=function(){return [{initDataTypes:[n.jz],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.Uka=function(w){w.bG();};c.prototype.Vfa=function(w){var v,x;v=[];if(w.messageType === p.v$ || w.messageType === p.u$){if(w.messageType === p.v$){x=this.ph.encode(new Uint8Array(w.message));v=JSON.parse(x);x=v.map(function(y){return y.keyID;});v=v.map(function(y){return y.payload;});}else v=[this.tc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(y){return y && y.length;}))throw new q.Ec(l.J.Hwa);v=this.kWb(v);v=this.ph.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,yF:[v],messageType:w.messageType,Lu:x};};c.prototype.jx=function(w){var v,x,y,z;x=null === (v=w.target) || void 0 === v?void 0:v.error;if(x)(y=x.systemCode,z=x.code);v=new f.bg(l.J.$p,w instanceof h.cq?l.K.jO:l.K.zr,y?this.si.TE(y,4):z,"",x);v.FR(w);return v;};c.prototype.kWb=function(w){w=w.map(function(v,x){return {ID:u.BY.jEb(x),PAYLOAD:v};});return {VERSION:this.Ih.r0?3:1,CHALLENGES:w};};c.prototype.BK=function(w,v){var x,y;x=this;if(v && this.Ih.r0)try{y=this.ph.encode(v[0]);return JSON.parse(y).RESPONSES.sort(function(z,B){return z.ID > B.ID?1:-1;}).map(function(z){var B;B=u.BY.d4a(z.ID);z=x.tc.decode(z.DHB).subarray(4,12);B=x.tc.decode(w[B]).subarray(0,8);return {from:z,to:B};});}catch(z){throw new f.bg(l.J.Xcb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(m.Jv)),r.__param(1,g.l(k.Nh)),r.__param(2,g.l(d.Rt)),r.__param(3,g.l(t.Mt))],a);b.TEa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bt=void 0;r=b.Bt || (b.Bt={});r.c6a="usable";r.ZR="expired";r.released="released";r.GZa="output-restricted";r.nMb="output-downscaled";r.FUb="status-pending";r.EEb="internal-error";},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u,w,v){this.Nq=p;this.Ia=q;this.tc=t;this.config=u;this.Un=w;this.Dl=v;}Object.defineProperty(b,"__esModule",{value:!0});b.Swa=void 0;r=a(0);g=a(1);l=a(7);m=a(18);d=a(33);f=a(65);h=a(57);k=a(322);a=a(79);c.prototype.create=function(){var p;p=this;return Promise.all([this.Dl.Qzb(),this.Dl.Ozb(),this.Dl.qs()]).then(function(q){var t,u;t=Z(q);q=t.next().value;u=t.next().value;t=t.next().value;return new k.Uwa(p.Nq,p.Ia,p.tc,p.config,q,u,t,p.Un);});};n=c;n=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(m.ud)),r.__param(2,g.l(d.Nh)),r.__param(3,g.l(f.Dt)),r.__param(4,g.l(h.dw)),r.__param(5,g.l(a.It))],n);b.Swa=n;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R;Object.defineProperty(b,"__esModule",{value:!0});b.EWa=void 0;c=a(663);g=a(688);l=a(699);m=a(702);d=a(708);f=a(711);h=a(715);k=a(727);n=a(737);p=a(741);q=a(743);t=a(1067);u=a(1069);w=a(1073);v=a(1085);x=a(1092);y=a(1099);z=a(1102);B=a(1108);A=a(197);E=a(1116);D=a(1118);F=a(1125);C=a(1140);G=a(1146);H=a(1148);J=a(1155);I=a(1183);M=a(1205);N=a(1209);K=a(1213);O=a(1225);R=a(1228);b.EWa=function(L){L.load(c.hx,f.hC,g.PWa,h.lm,l.nYa,m.ya,d.z6a,k.storage,n.hE,p.AMa,q.hXa,t.wB,u.Wh,w.OWa,v.CYa,x.uRa,y.o0a,z.TF,B.BPa,A.eme,E.crypto,D.Qd,F.ed,C.Ga,G.sYa,H.m_a,J.j,I.tNa,M.transports,N.mj,K.Hf,O.BLa,R.la);};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya,U,ma,ta,Ja,wa,ra,Qa,Pa,Sa,$a,kb,bb,Ra,Wa,gb,db,ob,Bb,Gb,Lb,ac,Vb;Object.defineProperty(b,"__esModule",{value:!0});b.hx=void 0;r=a(1);c=a(34);g=a(38);l=a(44);m=a(92);d=a(136);f=a(664);h=a(665);k=a(666);n=a(667);p=a(77);q=a(76);t=a(33);u=a(26);w=a(25);v=a(93);x=a(57);y=a(325);z=a(668);B=a(326);A=a(669);E=a(670);D=a(671);F=a(190);C=a(327);G=a(672);H=a(196);J=a(104);I=a(673);M=a(18);N=a(328);K=a(674);O=a(675);R=a(90);L=a(676);Q=a(7);P=a(324);ha=a(677);va=a(67);la=a(678);S=a(329);da=a(679);ya=a(680);U=a(105);ma=a(10);ta=a(681);Ja=a(331);wa=a(332);ra=a(682);Qa=a(333);Pa=a(13);Sa=a(32);$a=a(118);kb=a(334);bb=a(156);Ra=a(683);Wa=a(335);gb=a(336);db=a(164);ob=a(684);Bb=a(337);Gb=a(685);Lb=a(209);ac=a(686);Vb=a(687);b.hx=new r.Qc(function(Cb){Cb(c.VO).jC(function(){return {};}).Z();Cb(c.JC).Mh(JSON);Cb(c.UGa).Mh(lb);Cb(d.NFa).Mh(Math);Cb(c.zza).Mh(ma.ZX);Cb(c.gaa).Mh(ma.Kt);Cb(c.CGa).Mh(ma.Yp);Cb(c.Nva).Mh(Date);Cb(c.KH).Mh(ma.Ve);Cb(c.Rbb).Mh(ma.VC);Cb(P.iva).to(ha.hva).Z();Cb(M.ud).to(I.tta).Z();Cb(g.hi).to(n.jva).Z();Cb(l.Ui).to(f.VEa).Z();Cb(m.pz).to(h.Mya).Z();Cb(x.dw).to(D.iEa).Z();Cb(d.vY).to(k.pEa).Z();Cb(kb.z$).to(Vb.JAa).Z();Cb(R.zt).to(O.Tva).Z();Cb(R.Rva).to(L.Qva).Z();Cb(p.Rt).to(z.DGa).Z();Cb(q.Jv).to(B.X8).Z();Cb(t.Nh).to(A.iua).Z();Cb(u.yf).to(E.EGa).Z();Cb(w.xf).Mh(F.IC);Cb(Wa.kO).to(gb.hxa).Z();Cb(v.ixa).to(C.Ij).Bka();Cb(v.cX).to(C.Ij).Z();Cb(v.ewa).to(C.Ij).Z();Cb(v.L9).to(C.Ij).Z();Cb(H.Taa).to(J.Bz).Z();Cb(N.Bva).to(K.Ava).Z();Cb(va.gD).to(la.Yaa).Z();Cb(va.JO).to(la.Yaa).Z();Cb("Factory<LoggerFactory>").V4a(Q.Ab);Cb(S.w9).to(da.Vva).Z();Cb(U.ZH).sf(function(Pb){return function(Tb){return new ya.YFa(Pb.eb.get(M.ud),Pb.eb.get(l.Ui),Tb);};});Cb(Bb.Ova).sf(function(Pb){return function(Tb){return new Gb.Pva(Pb.eb.get(l.Ui),Tb);};});Cb(ta.zaa).mWb(Ja.yaa);Cb(ta.ydb).sf(function(Pb){var Tb;Tb=Pb.eb.get(ta.zaa);return function(){return new Tb(!1);};});Cb(ta.zdb).sf(function(Pb){var Tb;Tb=Pb.eb.get(ta.zaa);return function(){return new Tb(!0);};});Cb(wa.AGa).sf(function(){return function(Pb){return new ra.BGa(Pb);};});Cb($a.RH).sf(function(Pb){return function(Tb,lc,Ac){return new Qa.zDa(Pb.eb.get(R.zt),Pb.eb.get(Pa.Uc),Pb.eb.get(Sa.uk),Pb.eb.get(kb.z$),Tb,lc,Ac);};});Cb(y.EBa).sf(function(){return function(Pb){return new G.FBa(Pb);};});Cb(bb.hz).to(Ra.wua);Cb(db.gP).sf(function(Pb){return function(Tb,lc){return new ob.hGa(Pb.eb.get(l.Ui),Tb,lc);};});Cb(Lb.axa).to(ac.$wa).Z();});},function(r,b,a){var l,m,d,f;function c(h){this.wN=h;m.On(this,"timers");}function g(h,k){this.wN=h;this.pob=k;}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;r=a(0);l=a(1);m=a(53);d=a(34);f=a(4);g.prototype.cancel=function(){this.pob(this.wN);};c.prototype.dd=function(h){return this.yj(f.nb,h);};c.prototype.yj=function(h,k){var n;n=this.wN.setTimeout(k,h.da(f.ia));return new g(this.wN,function(p){p.clearTimeout(n);});};c.prototype.G6=function(h,k){var n;n=this.wN.setInterval(k,h.da(f.ia));return new g(this.wN,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([l.O(),r.__param(0,l.l(d.UGa))],a);b.VEa=a;},function(r,b,a){var g,l,m,d,f;function c(h,k){this.sa=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;r=a(0);l=a(1);m=a(4);d=a(38);a=a(136);c.prototype.zA=function(){return this.sa.Ne.da(m.Xm) * g.Lua + Math.floor(this.random.random() * g.Lua);};f=g=c;f.Lua=1E8;f=g=r.__decorate([l.O(),r.__param(0,l.l(d.hi)),r.__param(1,l.l(a.vY))],f);b.Mya=f;},function(r,b,a){var g,l;function c(m){this.DVb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=void 0;r=a(0);g=a(1);a=a(136);c.prototype.random=function(){return this.DVb.random();};c.prototype.v0a=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};l=c;l=r.__decorate([g.O(),r.__param(0,g.l(a.NFa))],l);b.pEa=l;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t){var u;u=this;this.config=n;this.htb=p;this.Hb=q;this.performance=t;this.NLb=function(w){u.w2a=w.Sa(u.Ne);};g.On(this,"date");g.On(this,"performance");this.Hlb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.w2a=l.nb;this.Hb.addListener(k.b$.y2a,this.NLb);}Object.defineProperty(b,"__esModule",{value:!0});b.jva=void 0;r=a(0);g=a(53);l=a(4);m=a(1);d=a(34);f=a(324);h=a(93);k=a(15);Ua.Object.defineProperties(c.prototype,{Ne:{configurable:!0,enumerable:!0,get:function(){return this.qYa?l.timestamp(this.performance.timing.navigationStart + this.performance.now()):l.Xb(this.htb.now());}},R6:{configurable:!0,enumerable:!0,get:function(){return this.Ne.add(this.w2a);}},qYa:{configurable:!0,enumerable:!0,get:function(){return this.config.k6a && this.Hlb;}}});a=c;a=r.__decorate([m.O(),r.__param(0,m.l(f.iva)),r.__param(1,m.l(d.Nva)),r.__param(2,m.l(h.L9)),r.__param(3,m.l(d.gaa)),r.__param(3,m.optional())],a);b.jva=a;},function(r,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.DGa=void 0;r=a(0);a=a(1);c.prototype.encode=function(m){return g.pha(m);};c.prototype.decode=function(m){return g.Bga(m);};c.pha=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,f,h=m.length,k="";d < h;){f=m[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (m[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(f);}return k;};c.Bga=function(m){var d,f,h,k,n;d=m.length;f=0;k=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?f[k++]=n:(2048 > n?f[k++]=192 | n >>> 6:(f[k++]=224 | n >>> 12,f[k++]=128 | n >>> 6 & 63),f[k++]=128 | n & 63);}return f;};l=g=c;l=g=r.__decorate([a.O()],l);b.DGa=l;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iua=void 0;r=a(0);a=a(1);l=Array.prototype.slice;m=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");l=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};h={};k={};n=/\s+/g;[m,l].forEach(function(p){var t;for(var q=p.length;q--;){t=p[q];d[t]=q << 18;f[t]=q << 12;h[t]=q << 6;k[t]=q;}});c.prototype.encode=function(p){return g.pha(p,m,"=");};c.prototype.decode=function(p){return g.Bga(p);};c.Bga=function(p){var q,t,u;p=p.replace(n,"");q=p.length;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=3 * (q >> 2);u=0;switch(q % 4){case 2:u=1;break;case 3:u=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(t + u);for(var w=0,v=0,x;v < t;){x=d[p[w++]] + f[p[w++]] + h[p[w++]] + k[p[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[v++]=x >>> 16;q[v++]=x >>> 8 & 255;q[v++]=x & 255;}if(0 < u && (x=d[p[w++]] + f[p[w++]],q[v++]=x >>> 16,1 < u && (x+=h[p[w++]],q[v++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < u?255:65535)))))throw Error("bad base64");return q;};c.pha=function(p,q,t){for(var u="",w=0,v=p.length,x=v - 2,y;w < x;){y=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");u+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(w == x){y=(p[w++] << 8) + p[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");u+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + t;}else if(w == v - 1){y=p[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");u+=q[y >>> 2] + q[y << 4 & 63] + t + t;}return u;};l=g=c;l=g=r.__decorate([a.O()],l);b.iua=l;},function(r,b,a){var g,l,m,d;function c(f,h){this.is=f;this.si=h;}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;r=a(0);g=a(1);a(2);l=a(25);m=a(76);d=a(10);c.prototype.tB=function(f,h,k){var n,p,q,t;n=this;if(h)if(k){p=k.vL;q=k.prefix;t=k.ly;this.IA(h,function(u,w){if(!t || n.is.Uf(w))f[(q || "") + (p?u.toLowerCase():u)]=w;});}else this.IA(h,function(u,w){f[u]=w;});return f;};c.prototype.IA=function(f,h){for(var k in f){f.hasOwnProperty(k) && h(k,f[k]);}};c.prototype.Ur=function(f,h){if(f.length == h.length){for(var k=f.length;k--;){if(f[k] != h[k])return !1;}return !0;}return !1;};c.prototype.NNa=function(f,h){if(f.length != h.length)return !1;f.sort();h.sort();for(var k=f.length;k--;){if(f[k] !== h[k])return !1;}return !0;};c.prototype.md=function(f){var h,k,n;if(f){h=f.stack;k=f.number;n=f.message;n || (n="" + f);h?(f="" + h,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;k && (f+="\nnumber:" + k);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.Iia=function(f){return this.getFunctionName(f.constructor);};c.prototype.Kna=function(f){var h,k;h=this;k="";this.is.Qw(f) || this.is.YKa(f)?k=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Io(f)?k=f:this.IA(f,function(n,p){k+=(k?", ":"") + "{" + n + ": " + (h.is.w_(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.Iia(f) + " " + k + "]";};c.prototype.createElement=function(f,h,k,n){var p;p=d.ye.createElement(f);h && (p.style.cssText=h);k && (p.innerHTML=k);n && this.IA(n,function(q,t){p.setAttribute(q,t);});return p;};c.prototype.dxb=function(f,h){return function(k){return k[f] === h;};};c.prototype.tU=function(f){var h;h={};(f || "").split("&").forEach(function(k){var n,p;k=k.trim();n=k.indexOf("=");if(0 <= n){p=decodeURIComponent(k.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(k.substr(n + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.xf)),r.__param(1,g.l(m.Jv))],a);b.EGa=a;},function(r,b,a){var g,l,m;function c(d){this.Qa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.iEa=void 0;r=a(0);g=a(1);l=a(44);m=a(57);c.prototype.Dp=function(d,f){var h;h=this;return new Promise(function(k,n){var p;p=h.Qa.yj(d,function(){n(new m.cq(d));});f.then(function(q){k(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.Ui))],a);b.iEa=a;},function(r,b,a){var g;function c(l){this.Ayb=l;this.P2=!1;this.e3=this.tf=this.rN=0;this.ZS=!1;this.f3=0;}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;g=a(14);c.prototype.Wkb=function(l){l < this.rN && (this.tf+=this.rN);this.rN=l;this.P2=!0;};c.prototype.qzb=function(){if(this.P2)return this.ZS?this.f3 - this.e3:this.tf + this.rN - this.e3;};c.prototype.refresh=function(){var l;l=this.Ayb();g.pa(l) && this.Wkb(l);};c.prototype.sUb=function(){this.ZS || (this.P2 && (this.f3=this.tf + this.rN),this.ZS=!0);};c.prototype.HUb=function(){this.ZS && (this.P2 && (this.e3+=this.tf + this.rN - this.f3),this.f3=0,this.ZS=!1);};b.FBa=c;},function(r,b,a){var g,l,m,d;function c(f,h){this.sa=f;this.b2=this.sa.Ne.da(m.ia) - 1;this.CHb=this.W3=0;this.id="" + h.zA();}Object.defineProperty(b,"__esModule",{value:!0});b.tta=void 0;r=a(0);g=a(1);l=a(38);m=a(4);a=a(92);c.prototype.Tb=function(){var f,h;f=this.sa.Ne.da(m.ia) - this.b2;if(f < this.W3){h=this.W3 + 1;this.b2-=h - f;f=h;}this.W3=f;return m.Xb(this.W3);};c.prototype.CAb=function(){return this.CHb++;};Ua.Object.defineProperties(c.prototype,{qF:{configurable:!0,enumerable:!0,get:function(){return m.Xb(this.b2);}}});d=c;d=r.__decorate([g.O(),r.__param(0,g.l(l.hi)),r.__param(1,g.l(a.pz))],d);b.tta=d;},function(r,b,a){var g,l,m,d;function c(f,h){this.is=f;this.Qd=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Ava=void 0;r=a(0);l=a(1);m=a(25);a=a(26);c.prototype.encode=function(f){var h,k;h=this;k="";this.Qd.IA(f,function(n,p){n=h.eQa(n) + "=" + h.eQa(p);k=k?k + ("," + n):n;});return k;};c.prototype.eQa=function(f){return this.is.FE(f)?this.is.Sh(f)?"" + f:this.is.Io(f)?(f=f.replace(g.qpa,this.Cma.bind(this)),!g.pPb.test(f) && g.UJb.test(f) && (f='"' + f + '"'),f):this.is.sQ(f)?"" + f:this.is.Bda(f)?"NaN":"":"";};c.prototype.Cma=function(f){return g.map[f];};d=g=c;d.map={'"':'""',"\r":"","\n":" "};d.qpa=/(?!^.+)["\r\n](?=.+$)/g;d.pPb=/["].*["]/g;d.UJb=/[", ]/;d=g=r.__decorate([l.O(),r.__param(0,l.l(m.xf)),r.__param(1,l.l(a.yf))],d);b.Ava=d;},function(r,b,a){var g,l,m,d;function c(f,h,k){this.config=f;this.Xa=h;this.qa=k.sb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.Tva=void 0;r=a(0);g=a(1);l=a(25);m=a(90);a=a(7);c.prototype.assert=function(){};c.prototype.dmb=function(f,h){this.assert(this.Xa.FE(f),h);};c.prototype.emb=function(f,h){this.assert(this.Xa.Uf(f),h);};c.prototype.N_=function(f,h){this.assert(this.Xa.Io(f),h);};c.prototype.kmb=function(f,h){this.assert(this.Xa.nn(f),h);};c.prototype.imb=function(f,h){this.assert(this.Xa.Io(f) || null === f || void 0 === f,h);};c.prototype.JQ=function(f,h){this.assert(this.Xa.Sh(f),h);};c.prototype.gmb=function(f,h){this.assert(this.Xa.$da(f),h);};c.prototype.jmb=function(f,h){this.assert(this.Xa.DQ(f),h);};c.prototype.hmb=function(f,h){this.assert(this.Xa.tQ(f),h);};c.prototype.cmb=function(f,h){this.assert(this.Xa.sQ(f),h);};c.prototype.fmb=function(f,h){this.assert(this.Xa.w_(f),h);};c.prototype.KEb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([g.O(),r.__param(0,g.l(m.Rva)),r.__param(1,g.l(l.xf)),r.__param(2,g.l(a.Ab))],d);b.Tva=d;},function(r,b,a){var g,l,m,d;function c(f){f=l.TN.call(this,f,"DebugConfigImpl") || this;f.u5b=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Qva=void 0;r=a(0);g=a(42);l=a(43);m=a(1);a=a(35);ja(c,l.TN);Ua.Object.defineProperties(c.prototype,{unb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([g.config(g.jd,"breakOnError")],d.prototype,"unb",null);d=r.__decorate([m.O(),r.__param(0,m.l(a.j9))],d);b.Qva=d;},function(r,b,a){var g,l,m,d;function c(f){return l.TN.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hva=void 0;r=a(0);g=a(42);l=a(43);m=a(1);a=a(35);ja(c,l.TN);Ua.Object.defineProperties(c.prototype,{k6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([g.config(g.jd,"usePerformanceApi")],d.prototype,"k6a",null);d=r.__decorate([m.O(),r.__param(0,m.l(a.j9))],d);b.hva=d;},function(r,b,a){var g,l,m,d;function c(f,h){this.Ia=f;this.entries=new Set();this.qa=h.sb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Yaa=void 0;r=a(0);g=a(1);l=a(18);m=a(4);a=a(7);c.prototype.mark=function(f,h,k){f={name:f,hr:this.Ia.Tb()};h && (f.ca=h);k && (f.Tj=k);this.entries.add(f);return f;};c.prototype.bja=function(){var f;f=[];this.entries.forEach(function(h){return f.push(h);});return f;};c.prototype.QSa=function(f){return this.bja().filter(function(h){return h.ca === f;});};c.prototype.OSa=function(){var f;f={};try{f=this.bja().filter(function(h){return !h.ca;}).reduce(function(h,k){h[k.name]=k.hr.da(m.ia);return h;},{});}catch(h){this.qa.error(" getMapOfCommonMarks exception",h);}return f;};c.prototype.g1a=function(f){var h;h=this;this.bja().forEach(function(k){k.ca === f && h.entries.delete(k);});};d=c;d=r.__decorate([g.O(),r.__param(0,g.l(l.ud)),r.__param(1,g.l(a.Ab))],d);b.Yaa=d;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t){this.Ia=q;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Vva=void 0;r=a(0);l=a(1);m=a(18);d=a(41);f=a(2);h=a(15);k=a(4);n=a(10);a=a(330);c.prototype.ZOa=function(q){var t,u,w,v,x,y,z,B,A,E;t=this;v=q.mediaTime.value;x=q.rn.value;y=q.Ob.value;z=q.state.value;B={segmentId:q.nja(),mediaTime:v,segmentTime:q.TA(),bufferingState:g.Bnb[x],presentingState:g.zOb[y],playbackState:g.FNb[z],mseBuffersBusy:this.SBb(q),intBuffersBusy:this.pAb(q),tabVisible:this.EVb(),decodedFrameCount:this.Btb(q),videoElementInDom:this.HYb(q),lastVideoSync:this.Ia.Tb().Sa(k.Xb(q.LV)).da(k.ia)};A=y === h.ob.cg?q.Va.jj?this.config.CZa:this.config.BZa:this.config.jYa;if(x !== h.we.Fd){if((x=f.K.j9a,this.jMa(B.mseBuffersBusy,B.intBuffersBusy)))E=g.fua;}else (y !== h.ob.oc?x=f.K.l9a:(x=f.K.k9a,(y=q.Xf) && 0 === y.o2() && (E=g.Ueb)),(y=q.Xf) && y.zb.sourceBuffers.forEach(function(D){var F,C;F=g.qd[D.mediaType];B[F + "Ranges"]=D.j2();try{C=D.buffered();}catch(G){C=void 0;}C && 0 !== C.length?(D=1E3 * C.end(0) - v,B[F + "Undecoded"]=D,1 < C.length && (E=g.b8a),v < 1E3 * C.start(0) || v > 1E3 * C.end(0)?E=g.c8a:D < A.da(k.ia)?E=g.d8a:t.jMa(B.mseBuffersBusy,B.intBuffersBusy) && (E=g.fua)):(B[F + "Undecoded"]=0,E=g.a8a);}));y=q.u1a.KTa();z=v === (null === (u=y.repositionTrace) || void 0 === u?void 0:u[0].newMediaTime);B.lastRepositionCausedTimeout=z;B.trackChangeInProgress=null === (w=q.Ga) || void 0 === w?void 0:w.NG;Object.assign(B,y);q="";try{q=JSON.stringify(B);}catch(D){q="Cannot stringify details: " + D;}return new d.Ec(f.J.SBa,x,E,void 0,void 0,void 0,q,void 0);};c.prototype.SBb=function(q){var t;if(q.zb){t={};q.zb.sourceBuffers.forEach(function(u){t[0 === u.type?"audio":"video"]={updating:u.updating()};});return t;}};c.prototype.pAb=function(q){var t;if(q.zb){t={};q.zb.sourceBuffers.forEach(function(u){t[0 === u.type?"audio":"video"]={updating:u.Yh()};});return t;}};c.prototype.EVb=function(){return !n.ye.hidden;};c.prototype.Btb=function(q){return (q=q.Xf) && (q=q.zb.ja) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.HYb=function(q){if(q=q.Xf)if(q=q.zb.ja)return n.ye.body.contains(q);return !1;};c.prototype.jMa=function(q,t){var u,w,v,x;return !((null === (u=q.audio) || void 0 === u?void 0:u.updating) === (null === (w=t.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (x=t.video) || void 0 === x?void 0:x.updating));};p=g=c;p.a8a="1";p.b8a="2";p.c8a="3";p.fua="4";p.d8a="5";p.Ueb="6";p.qd=["Audio","Video"];p.Bnb=["","NORMAL","BUFFERING","STALLED"];p.zOb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.FNb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=g=r.__decorate([l.O(),r.__param(0,l.l(m.ud)),r.__param(1,l.l(a.H$))],p);b.Vva=p;},function(r,b,a){var g,l,m,d;function c(f,h,k){var n;n=this;this.Cf=f;this.Qa=h;this.C0=k;this.bM=function(p){n.Gi=void 0;n.SWb(p || n.C0);};this.lWa=m.Xb(-this.C0.da(m.ia));}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;r=a(0);g=a(1);l=a(18);m=a(4);a=a(44);c.prototype.dd=function(f){this.jqa=f;this.Gi=this.Gi || this.Ic(this.bM);};c.prototype.$g=function(){this.Gi && this.Gi.cancel();this.Gi=void 0;};c.prototype.SWb=function(f){var h,k;h=this.Cf.Tb();if(this.jqa){k=f.Sa(h.Sa(this.lWa));0 >= k.Jk(m.nb)?(f=this.jqa,this.jqa=void 0,this.lWa=h,f()):this.Gi=this.Gi || this.Qa.yj(k,this.bM.bind(this,f));}};c.prototype.Ic=function(f){return this.Qa.yj(m.nb,f);};d=c;d=r.__decorate([g.O(),r.__param(0,g.l(l.ud)),r.__param(1,g.l(a.Ui))],d);b.YFa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zaa="PrioritizedSetOfListsSymbol";b.ydb="PrioritizedSetOfListsFactorySymbol";b.zdb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(g){this.No=g;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;c.prototype.toString=function(){return this.href;};Ua.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.No + this.searchParams.toString();}}});b.BGa=c;a.prototype.get=function(g){return this.searchParams[g];};a.prototype.set=function(g,l){this.searchParams[g]=l;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(g,l,m){var d;d=Z(l);l=d.next().value;d=d.next().value;return "" + g + (0 == m?"?":"&") + l + "=" + d;},"");};},function(r,b,a){var g,l,m,d,f;function c(h,k){this.Gd=this.Hwb(h,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.JGa=b.wua=void 0;r=a(0);g=a(1);l=a(13);m=a(35);a=a(34);c.prototype.H2=function(h,k){var n;if(k=this.uCb(k))switch(h){case f.tma:n=0 < k.length?Number(k[0]):0;break;case f.lYa:n=1 < k.length?Number(k[1]):0;break;case f.g_a:n=2 < k.length?Number(k[2]):0;break;case f.B6:n=3 < k.length?Number(k[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.uCb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.$K=function(h){return this.Gd.name === h;};c.prototype.hL=function(h){return this.Gd.oy.name === h;};c.prototype.AVa=function(h){return this.Gd.Wja === h;};c.prototype.Hwb=function(h,k){return Object.assign(Object.assign({Wja:this.Jwb(h,k)},this.Gwb(h,k)),{oy:this.Kwb(h,k)});};c.prototype.Jwb=function(h,k){return k && k.Wja?k.Wja:(/Android.*Chrome\/[.0-9]* Mobile/).test(h)?l.AO.phone:(/Android.*Chrome\/[.0-9]* /).test(h)?l.AO.s4a:l.AO.Lpb;};c.prototype.Gwb=function(h,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(h)?{name:l.jo.opera,version:""}:(k=h.match(/Edge\/(\d*)\./))?{name:l.jo.Aq,version:k[1]}:(k=h.match(/Edg\/(\d*)\./))?{name:l.jo.DPa,version:k[1]}:(k=h.match(/Chrome\/(\d*)\./))?{name:l.jo.ofa,version:k[1]}:(k=h.match(/Firefox\/(\d*)\./))?{name:l.jo.WQa,version:k[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:l.jo.X1a,version:h[1]}:{name:l.jo.ofa,version:""};};c.prototype.Kwb=function(h,k){return k && k.oy && k.oy.name && k.oy.version?{name:k.oy.name,version:k.oy.version}:(/CrOS/).test(h)?{name:l.po.aNa,version:""}:(/Tesla/).test(h)?{name:l.po.x4a,version:""}:(k=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:l.po.ZWa,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(h)?{name:l.po.Ssa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:l.po.I_,version:""}:(/Linux/).test(h)?{name:l.po.NGb,version:""}:{name:l.po.Ssa,version:""};};Ua.Object.defineProperties(c.prototype,{yVa:{configurable:!0,enumerable:!0,get:function(){return this.$K(l.jo.ofa);}},cL:{configurable:!0,enumerable:!0,get:function(){return this.$K(l.jo.Aq);}},Ju:{configurable:!0,enumerable:!0,get:function(){return this.$K(l.jo.DPa);}},gT:{configurable:!0,enumerable:!0,get:function(){return this.$K(l.jo.WQa);}},G3:{configurable:!0,enumerable:!0,get:function(){return this.$K(l.jo.opera);}},jL:{configurable:!0,enumerable:!0,get:function(){return this.$K(l.jo.X1a);}},REb:{configurable:!0,enumerable:!0,get:function(){return this.hL(l.po.I_) && this.AVa(l.AO.phone);}},SEb:{configurable:!0,enumerable:!0,get:function(){return this.hL(l.po.I_) && this.AVa(l.AO.s4a);}},bL:{configurable:!0,enumerable:!0,get:function(){return this.hL(l.po.aNa);}},gla:{configurable:!0,enumerable:!0,get:function(){return this.hL(l.po.ZWa);}},UVa:{configurable:!0,enumerable:!0,get:function(){return this.hL(l.po.x4a);}},vla:{configurable:!0,enumerable:!0,get:function(){return this.hL(l.po.Ssa);}},Qr:{configurable:!0,enumerable:!0,get:function(){return this.H2(f.tma,this.Gd.version);}},hMb:{configurable:!0,enumerable:!0,get:function(){return this.H2(f.tma,this.Gd.oy.version);}},iMb:{configurable:!0,enumerable:!0,get:function(){return this.H2(f.lYa,this.Gd.oy.version);}},jMb:{configurable:!0,enumerable:!0,get:function(){return this.H2(f.g_a,this.Gd.oy.version);}}});d=c;d=r.__decorate([g.O(),r.__param(0,g.l(a.CGa)),r.__param(1,g.l(m.CO))],d);b.wua=d;(function(h){h[h.tma=0]="major";h[h.lYa=1]="minor";h[h.g_a=2]="patch";h[h.B6=3]="revision";})(f=b.JGa || (b.JGa={}));},function(r,b,a){var g,l,m;function c(d,f,h){this.Qa=d;this.fWb=f;this.bF=h;}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(0);g=a(44);l=a(1);m=a(4);c.prototype.HA=function(){this.Gi || (this.Gi=this.Qa.yj(m.Xb(this.fWb),this.bF));};c.prototype.Ip=function(){this.Gi && this.Gi.cancel();this.Gi=void 0;};a=c;a=r.__decorate([l.O(),r.__param(0,l.l(g.Ui))],a);b.hGa=a;},function(r,b,a){var g,l;function c(m,d){this.Qa=m;this.C0=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Pva=void 0;r=a(0);g=a(1);a=a(44);c.prototype.dd=function(m){this.$g();this.Gi=this.Qa.yj(this.C0,m);};c.prototype.$g=function(){this.Gi && this.Gi.cancel();this.Gi=void 0;};l=c;l=r.__decorate([g.O(),r.__param(0,g.l(a.Ui))],l);b.Pva=l;},function(r,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$wa=void 0;r=a(0);g=a(1);l=a(209);c.prototype.dK=function(m,d){var f;f=this;m && Object.entries(d).forEach(function(h){var k,n,p;k=Z(h);h=k.next().value;k=k.next().value;if(f.ZEb(k)){n=Z(k);k=n.next().value;p=n.next().value;n=m[k];Array.isArray(n)?(f.Lga(m,h,k),n.forEach(function(q){f.dK(q,p);})):k === l.oD?Object.values(m).forEach(function(q){f.dK(q,p);}):(f.Lga(m,h,k),"object" === typeof n && f.dK(n,p));}else f.Lga(m,h,k);});};c.prototype.ZEb=function(m){return Array.isArray(m);};c.prototype.Lga=function(m,d,f){m.hasOwnProperty(d) || d === f || Object.defineProperty(m,d,{get:function(){return m[f];},enumerable:!1});};a=r.__decorate([g.O()],c);b.$wa=a;},function(r,b,a){var g,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;r=a(0);g=a(13);l=a(12);a=a(1);c.prototype.qs=function(){return this.YEb()?l.vwa:(/widevine/i).test(this.config().Qe)?l.A9:(/fps/i).test(this.config().Qe)?"fairplay":l.hX;};c.prototype.YEb=function(){return (/clearkey/i).test(this.config().Qe);};m=c;m=r.__decorate([a.O(),r.__param(0,a.l(g.Uc))],m);b.JAa=m;},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.PWa=void 0;c=a(689);g=a(690);r=a(1);l=a(106);m=a(7);d=a(696);b.PWa=new r.Qc(function(f){f(m.Ab).to(g.Sza).Z();f(l.DH).to(c.Tza).Z();f(m.o$).to(d.Gza).Z();});},function(r,b,a){function c(){this.r3a={};this.Rm=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;r=a(0);a=a(1);c.prototype.m6=function(g,l){l && (this.r3a[g]=l,this.Rm=Object.values(this.r3a));};a=r.__decorate([a.O()],c);b.Tza=a;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q){this.Ia=n;this.Rm=p;this.ema=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Sza=void 0;r=a(0);g=a(210);l=a(1);m=a(693);d=a(18);f=a(106);h=a(7);k=a(694);c.prototype.sb=function(n,p,q,t,u){q=void 0 === q?this.Rm:q;return p?new m.oDa(this.Ia,this.ema,q,p,n):u?new k.Gta(this.Ia,this.ema,q,n,t || "",u):new g.CH(this.Ia,this.ema,q,n);};a=c;a=r.__decorate([l.O(),r.__param(0,l.l(d.ud)),r.__param(1,l.l(f.DH)),r.__param(2,l.l(h.o$))],a);b.Sza=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mE=void 0;c=a(692);b.mE=function(g,l){var d;g=g.BAb();for(var m=0;m < l.length;++m){d=l[m];void 0 != d && null != d && (d.Hh && (d=d.Hh),d.constructor === Uint8Array?g.hlb(d):"MediaRequest" === d.constructor.name?g.Ukb(d):"string" === typeof d?g.flb(d):"function" === typeof d?g.Nkb(d):d instanceof Error?g.Kkb(d):d instanceof c.EnumeratedErrorBase?g.Jkb(d):d instanceof Object?g.Vkb(d):g.ilb(d));}return g.Pj();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,c,g,l){this.type=a;this.name=a.name;this.number=c;"string" === typeof g?this.message=g:void 0 !== g && (this.cause=g);void 0 !== l && (this.message=l);};},function(r,b,a){var g,l,m;function c(d,f,h,k,n){d=m.CH.call(this,d,f,h,n) || this;d.j=k;g.On(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;g=a(53);l=a(338);m=a(210);ja(c,m.CH);c.prototype.cga=function(d){return new c(this.Ia,this.Zw,this.Rm,this.j,d);};c.prototype.dA=function(d,f,h){d=new l.n$(d,this.tn,this.Ia.Tb(),f,h,this.j.index);f=Z(this.Rm.Rm);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d,this.j);}};b.oDa=c;},function(r,b,a){var g,l;function c(m,d,f,h,k,n){m=g.CH.call(this,m,d,f,h) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Gta=void 0;g=a(210);l=a(695);ja(c,g.CH);c.prototype.dA=function(m,d,f){m=new l.Fta(m,this.tn,this.Ia.Tb(),d,f,this.prefix);d=Z(this.Rm.Rm);for(f=d.next();!f.done;f=d.next()){f=f.value;f(m);}};c.prototype.cga=function(m){return new c(this.Ia,this.Zw,this.Rm,m,this.groups,this.prefix);};b.Gta=c;},function(r,b,a){var g,l;function c(m,d,f,h,k,n,p){this.level=m;this.tn=d;this.timestamp=f;this.message=h;this.pd=k;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.Fta=void 0;g=a(4);l={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.G7=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.cVb(! !m));return (this.timestamp.da(g.ia) / 1E3).toFixed(3) + "|" + this.index + "|" + (l[this.level] || this.level) + "|" + this.tn + "| " + m;};c.prototype.cVb=function(m){var k;for(var d=this.pd.length,f="",h=0;h < d;++h){k=this.pd[h].Zs;h && f.length && (f+=" ");if("object" === typeof k){if(null === k)f+="null";else if(k instanceof Error)f+=this.bVb(k,m);else try{f+=JSON.stringify(k);}catch(n){f+=this.aVb(k);}}else f+=k;}return f;};c.prototype.bVb=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.aVb=function(m){var d;d=[];return JSON.stringify(m,function(f,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.Fta=c;},function(r,b,a){var g,l,m,d;function c(f,h){this.tc=f;this.Qd=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;r=a(0);g=a(1);l=a(697);m=a(33);a=a(26);c.prototype.BAb=function(){return new l.Hza(this.tc,this.Qd);};d=c;d=r.__decorate([g.O(),r.__param(0,g.l(m.Nh)),r.__param(1,g.l(a.yf))],d);b.Gza=d;},function(r,b,a){var q,t,u,w;function c(v,x){this.tc=v;this.Qd=x;this.pd=[];}function g(v){return p.call(this,v,function(x){return {Details:x};}) || this;}function l(v){return p.call(this,v,function(x){return JSON.parse(x.toJSON());}) || this;}function m(v,x){x=p.call(this,x,function(y){return {Base64:v.encode(y)};}) || this;x.tc=v;return x;}function d(v,x){x=p.call(this,x,function(y){return y();}) || this;x.Qd=v;return x;}function f(v,x){return k.call(this,v,x,function(y){var z;z=t.reduce(y,function(B,A){var E;B.name=void 0 !== B.name?B.name + ("-" + A.name):A.name;E="";E="undefined" !== typeof A.type && "undefined" !== typeof A.type.prefix?E + A.type.prefix:E + A.name;"undefined" !== typeof A.number && (E+=A.number);B.errorCode=void 0 !== B.errorCode?B.errorCode + ("-" + E):E;f.ypb(A,B,"stack","message");return B;},{});return Object.assign(Object.assign({},y),z);}) || this;}function h(v){return p.call(this,v,function(x){return {Exception:x.message || "" + x,StackTrace:x.stack || "nostack"};}) || this;}function k(v,x,y){x=p.call(this,x,y) || this;x.Qd=v;return x;}function n(v){return p.call(this,v,function(x){return {Details:x};}) || this;}function p(v,x){this.Zs=v;this.value=x?x(v):v;}Object.defineProperty(b,"__esModule",{value:!0});b.Hza=b.E$a=void 0;r=a(0);q=a(1);t=a(698);u=a(26);a=a(33);p.prototype.YR=function(v){return this.Zs === v;};ja(n,p);n.prototype.KG=function(v,x){return x?"":"\r\n" + this.Zs;};ja(k,p);k.prototype.KG=function(){var v;v="";this.Qd.IA(this.value,function(x,y){try{v+=", " + x + ": " + y;}catch(z){try{v+=", " + x + ": " + JSON.stringify(y);}catch(B){v+=", error stringifying " + x;}}});return v.replace(/[\r\n]+ */g," ");};ja(h,p);h.prototype.KG=function(v){var x;x="\r\n" + this.Zs.message;v || (x+="\r\n" + this.Zs.stack);return x;};ja(f,k);f.ypb=function(v,x,y){var A,E;for(var z=[],B=2;B < arguments.length;++B){z[B - 2]=arguments[B];}for(B=0;B < z.length;++B){A=v[z[B]];if(void 0 !== A){E="" + z[B];x[E]=x[E] || [];x[E].push(A);}}};b.E$a=f;ja(d,p);d.prototype.KG=function(){var v;v="";this.Qd.IA(this.value,function(x,y){v+=", " + x + ": " + y;});return v.replace(/[\r\n]+ */g," ");};ja(m,p);m.prototype.KG=function(v,x){return this.Zs && !x?"\r\n" + this.tc.encode(this.Zs):"";};ja(l,p);l.prototype.KG=function(){return this.Zs?this.Zs.toJSON():"";};ja(g,p);g.prototype.KG=function(){return ", " + (this.Zs.toString?"" + this.Zs.toString():"");};c.prototype.flb=function(v){this.pd.push(new n(v));};c.prototype.Vkb=function(v){this.pd.push(new k(this.Qd,v));};c.prototype.Kkb=function(v){this.pd.push(new h(v));};c.prototype.Jkb=function(v){this.pd.push(new f(this.Qd,v));};c.prototype.Nkb=function(v){this.pd.push(new d(this.Qd,v));};c.prototype.hlb=function(v){this.pd.push(new m(this.tc,v));};c.prototype.Ukb=function(v){this.pd.push(new l(v));};c.prototype.ilb=function(v){this.pd.push(new g(v));};c.prototype.Pj=function(){return this.pd;};w=c;w=r.__decorate([q.O(),r.__param(0,q.l(a.Nh)),r.__param(1,q.l(u.yf))],w);b.Hza=w;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,c,g){for(;void 0 !== a;a=a.cause){g=c(g,a);}return g;};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.nYa=void 0;r=a(1);c=a(211);g=a(700);b.nYa=new r.Qc(function(l){l(c.G$).to(g.dBa).Z();});},function(r,b,a){var g,l,m;function c(d){this.Qa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;r=a(0);g=a(1);l=a(701);a=a(44);c.prototype.aga=function(d,f){return new l.eBa(this.Qa,d,f);};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(a.Ui))],m);b.dBa=m;},function(r,b){function a(c,g,l){this.Qa=c;this.config=g;this.getTime=l;}Object.defineProperty(b,"__esModule",{value:!0});b.eBa=void 0;a.prototype.observe=function(c,g){var l;l=this;this.cancel();this.Gi=this.Qa.G6(this.config.pja(),function(){l.getTime() >= c && (l.cancel(),g());});};a.prototype.cancel=function(){this.Gi && (this.Gi.cancel(),this.Gi=void 0);};b.eBa=a;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.ya=void 0;r=a(1);c=a(212);g=a(339);l=a(703);m=a(706);d=a(342);f=a(707);b.ya=new r.Qc(function(h){h(c.Naa).to(l.dFa).Z();h(g.bFa).to(m.aFa).Z();h(d.lGa).to(f.kGa).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w;function c(v,x,y,z,B,A,E,D,F,C){this.Ia=v;this.rg=x;this.uB=y;this.JYb=z;this.zU=B;this.Qa=A;this.qJ=E;this.tj=D;this.Gha=F;this.Dd=C;}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;r=a(0);g=a(1);l=a(18);m=a(7);d=a(211);f=a(118);h=a(340);k=a(341);n=a(704);p=a(705);q=a(94);t=a(44);u=a(336);a=a(26);c.prototype.tsb=function(v,x){return new n.eFa(this.Ia,this.rg,this.uB,this.JYb,x,v,this.tj,this.zU,this.Dd,this.Gha);};c.prototype.Prb=function(v,x){return new p.vua(this.rg,v,x,this.uB,this.Qa,this.qJ);};w=c;w=r.__decorate([g.O(),r.__param(0,g.l(l.ud)),r.__param(1,g.l(m.Ab)),r.__param(2,g.l(d.G$)),r.__param(3,g.l(k.NGa)),r.__param(4,g.l(h.kDa)),r.__param(5,g.l(t.Ui)),r.__param(6,g.l(q.QN)),r.__param(7,g.l(f.RH)),r.__param(8,g.l(u.kO)),r.__param(9,g.l(a.yf))],w);b.dFa=w;},function(r,b,a){var d,f,h;function c(k,n,p,q,t,u,w,v,x,y){var z;z=this;this.Ia=k;this.uB=p;this.woa=q;this.config=t;this.uy=u;this.tj=w;this.zU=v;this.Dd=x;this.twb=Object.values(d.Mb).map(function(B){return {event:B,bF:function(A){return z.Hb.bc(B,A);}};});this.Hb=y.create();this.PB=[];this.log=n.sb("SegmentManager");this.fia=!0;this.Se=this.Dd.createElement("div",h.Faa);}function g(k,n,p,q,t,u,w,v,x,y){var z;z=this;this.log=k;this.config=n;this.XKb=p;this.woa=q;this.tj=t;this.zU=u;this.et=w;this.R=v;this.Se=x;this.uy=y;this.CJ=function(){z.zB && (z.zB.cancel(),z.zB=void 0);};this.Vja=function(B){z.log.trace("Received the transition event",{movieId:B.H});z.CPb();};this.Yla=function(){};this.log.debug("Constructing session data",l(v));this.hWb=new Promise(function(B){z.CPb=B;});}function l(k){return {movieId:k.H};}function m(k){return JSON.stringify({movieId:k.H,startPts:k.V,logicalEnd:k.ak,params:k.xb?{trackingId:k.xb.lk,authParams:k.xb.S_,sessionParams:k.xb.Zn,disableTrackStickiness:k.xb.Vga,uiPlayStartTime:k.xb.V7,loadImmediately:k.xb.b4,playbackState:k.xb.playbackState?{currentTime:k.xb.playbackState.currentTime,volume:k.xb.playbackState.volume,muted:k.xb.playbackState.muted,playbackRate:k.xb.playbackState.playbackRate}:void 0,pin:k.xb.r_a,heartbeatCooldown:k.xb.hka,uiLabel:k.xb.sd,uxLabels:k.xb.g8}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;d=a(15);f=a(4);h=a(12);g.prototype.load=function(k){var n,p;n=this;this.log.trace("Loading new segment",l(this.R));this.P=this.woa.dga(this.config,this.zU,this.tj,this.R,this.uy);this.P.addEventListener(d.Mb.VK,function(q){n.log.trace("Segment is inactive",l(n.R));n.et.close(n.tj(q.errorCode));});this.P.addEventListener(d.Mb.closed,this.CJ);if(k)(this.log.debug("Pausing background segment",l(this.R)),this.P.addEventListener(d.Mb.mla,this.Vja),this.P.pause());else {this.Se.appendChild(this.P.kp());p=function(q){n.Vja(q);n.P.removeEventListener(d.Mb.loaded,p);};this.P.addEventListener(d.Mb.loaded,p);}};g.prototype.observe=function(){var k,n,p;k=this;this.log.trace("Observing segment",m(this.R));if(this.zB)this.log.trace("Segment is currently observing",l(this.R));else if(this.R.xb && this.R.xb.b4)this.Yla(this);else {n=this.XKb.aga(this.config,function(){var q;if(k.P){q=k.P.j.mediaTime.value;if(q)return q;}return 0;});p=this.Unb(this.R);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){k.log.trace("Segment has reached its loading point",l(k.R));k.Yla(k);k.CJ();});}};g.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.R),error:k});return this.P?(this.P.removeEventListener(d.Mb.mla,this.Vja),this.P.close(k)):Promise.resolve();};g.prototype.RLb=function(k){this.Yla=k;};g.prototype.Unb=function(k){var n,p;n=k.ak;k=k.xb?k.xb.b4:!1;p=0;n && !k && (p=n - this.config.MSa(),p < this.config.PSa() && (k=n - this.config.PSa(),p=n - k / 2));return p;};c.prototype.xBb=function(){return this.Jd && this.Jd.P?this.Jd.P.isReady():!1;};c.prototype.kp=function(){return this.Se;};c.prototype.wi=function(){if(!this.Jd || !this.Jd.P)throw Error("Player not ready");return this.Jd.P;};c.prototype.CXb=function(k){var n,p;p=this.Vha(k);p?this.V5a(p,k):this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.Jd.R.H,queuedMovieIds:this.PB.map(function(q){return q.R.H;}),xid:null === (n=this.Jd.P) || void 0 === n?void 0:n.Ex()});};c.prototype.pq=function(k){var n;this.log.info("Adding segment",m(k));if(this.fia){this.log.trace("First segment, loading",l(k));n=this.GWa(k);this.fia=!1;}else (this.log.trace("Subsequent segment, caching",l(k)),(n=this.Vha(k))?this.V5a(n,k):(n=this.createSession(k),this.PB.push(n),this.Jd.observe()));return n?n.hWb:null;};c.prototype.transition=function(k){var n,p,q;p=this.IF;q=null === p || void 0 === p?void 0:p.P;if(p && q)return (this.IF=void 0,this.log.info("Transitioning segment",m(p.R)),q.Z2a(this.Ia.Tb().da(f.ia)),this.k5a(p,k));this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Jd.R.H,queuedMovieIds:this.PB.map(function(t){return t.R.H;}),xid:null === (n=this.Jd.P) || void 0 === n?void 0:n.Ex()});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(l(this.Jd.R)),nextSession:this.IF?JSON.stringify(l(this.IF.R)):void 0});k=[this.Jd.close(k)];this.IF && k.push(this.IF.close());return Promise.all(k).then(function(){n.IF=void 0;n.PB=[];n.fia=!0;});};c.prototype.addListener=function(k,n,p){this.Hb.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Hb.removeListener(k,n);};c.prototype.V5a=function(k,n){this.qMb(k.R,n);this.log.trace("Overwrote existing segment data",m(k.R));};c.prototype.GWa=function(k){var n,p;n=this;this.log.info("Loading the next episode",l(k));if(this.Jd){this.config.Cia()[k.H]=k.V;p=this.Vha(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",l(k)),p.RLb(function(q){n.K4a(q);}),this.Jd?(this.log.trace("Subsequent playback, caching player and pausing",l(k)),this.IF=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",l(k)),p.load(!1),this.k5a(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",l(k));};c.prototype.k5a=function(k,n){var p,q,t,u,w;n=void 0 === n?{}:n;this.log.trace("Playing episode",l(k.R));t=this.Jd;this.Jd=k;if(this.Jd.P){this.Jd.P.G2a(!1);this.rW(this.Jd.P,t?t.P:void 0);if(t && t.P){u=t.P.kp();k=this.Jd.P.kp();u.style.display="none";w=t.close();this.Se.appendChild(k);w.then(function(){u.parentElement && u.parentElement.removeChild(u);});if(this.Jd.P)if((k.style.display="block",this.Jd.P.getError()))this.Jd.P.close();else return (this.Jd.P.Eu().zXb(n),this.Jd.P.AV(),this.Jd.P.play(),w);this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:t.R.H,mid:this.Jd.R.H,error:null === (p=this.Jd.P) || void 0 === p?void 0:p.getError(),xid:null === (q=this.Jd.P) || void 0 === q?void 0:q.Ex()});return Promise.reject();}return Promise.resolve();}this.log.error("Transitioning to next segment failed. Session has no player.",{srcmid:t.R.H,mid:this.Jd.R.H,xid:null === (w=t.P) || void 0 === w?void 0:w.Ex()});return Promise.reject();};c.prototype.K4a=function(k){var n,p,q,t,u;if(this.PB.length && k.P){n=k.P.j.mediaTime.value;p=this.PB[0];q=this.Jd.R.ak;t=this.Jd.R.xb?this.Jd.R.xb.b4:!1;if(q || t){t?u=0:q && (u=q - this.config.MSa());null !== n && n >= u && (this.log.info("Got a time change, loading the next player",l(p.R)),this.GWa(p.R),this.PB.splice(0,1),this.K4a(k));}}};c.prototype.Vha=function(k){return this.Jd.R.H === k.H?this.Jd:this.PB.find(function(n){return n.R.H === k.H;});};c.prototype.qMb=function(k,n){k.V=n.V || k.V;k.ak=n.ak || k.ak;k.xb=n.xb || k.xb;k.la=n.la || k.la;};c.prototype.createSession=function(k){return new g(this.log,this.config,this.uB,this.woa,this.tj,this.zU,this,k,this.Se,this.uy);};c.prototype.rW=function(k,n){this.twb.forEach(function(p){n && n.removeEventListener(p.event,p.bF);k.addEventListener(p.event,p.bF);});this.Hb.bc(d.$C.iV);};b.eFa=c;},function(r,b,a){var m,d,f,h;function c(k,n,p,q,t,u){var w;w=this;this.P=n;this.j=p;this.uB=q;this.Qa=t;this.qJ=u;this.CJ=function(){w.zB && (w.zB.cancel(),w.zB=void 0);};this.log=k.sb("SegmentManager",this.j);this.ya=new Map();this.j.Va.jj && (this.j.addEventListener(f.T.lG,function(v){return w.AB(v);}),this.j.addEventListener(f.T.closed,this.CJ));}function g(k,n){this.id=k;this.nfa=n;}function l(k,n,p,q){return d.Ec.call(this,k,p,void 0,void 0,void 0,n,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vua=void 0;m=a(2);d=a(41);f=a(15);h=a(4);ja(l,d.Ec);l.prototype.toString=function(){return this.code + "-" + this.$b + " : " + this.message + "\n" + JSON.stringify(this.data);};g.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Zb,contentEndPts:this.Mc};};Ua.Object.defineProperties(g.prototype,{Zb:{configurable:!0,enumerable:!0,get:function(){return this.nfa.startTimeMs;}},Mc:{configurable:!0,enumerable:!0,get:function(){return this.nfa.endTimeMs;}},jy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.nfa.next);}}});c.prototype.AB=function(k){var n;n=this;!1;0 === this.ya.size && Object.entries(this.j.pS()).forEach(function(p){var q;q=Z(p);p=q.next().value;q=q.next().value;n.ya.set(p,new g(p,q));});this.ha=this.ya.get(k.segmentId);};c.prototype.play=function(k){this.kv && (this.kv=void 0);this.CJ();this.log.trace("Playing segment",k);return this.JVa(k)?this.yNb(k):this.xU(k);};c.prototype.Kl=function(k){this.log.trace("Queueing segment",k);return this.JVa(k)?this.lPb(k):this.nPb(k);};c.prototype.di=function(k,n){var p,q;p=this;q=this.j.Ga;if(null === q || void 0 === q || !q.ah())return Promise.reject(this.getError(m.J.eua,"ASE session manager is not yet initialized",m.K.W8,{segmentId:k,updates:n}));this.log.trace("Updating next segment weights",k,n);return new Promise(function(t,u){try{q.lC(k,n);p.j.fireEvent(f.T.usa,{oa:k,PXb:n});t();}catch(w){u(p.getError(m.J.eua,"updateNextSegmentWeights threw an exception",m.K.$7a,{segmentId:k,updates:n,error:w}));}});};c.prototype.JVa=function(k){return this.ha?void 0 !== this.j.pS()[this.ha.id].next[k]:!1;};c.prototype.rja=function(){var k;k=this.j.Ga;if(null === k || void 0 === k?0:k.ah())return k.xm().me;};c.prototype.rBb=function(){var k;k=this.j.Ga;if(null === k || void 0 === k?0:k.ah())return k.xm().id;};c.prototype.lzb=function(k){var n;n=this.j.Ga;if(null === n || void 0 === n?0:n.ah())return (k=n.UE(k)) && k.fe;};c.prototype.yNb=function(k){var n,p;n=this;p=this.j.Ga;return null !== p && void 0 !== p && p.ah()?this.ha && 1 === this.ha.jy.length?this.xU(k):this.j.Xf?void 0 === this.lzb(k)?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.xU(k)):new Promise(function(q,t){var y,z,B,A,E,D;function u(){!B && z && y && (D.cancel(),B=!0,n.log.trace("Telling ASE to choose the next segment",{id:k,stopped:z,repositioned:y,completed:B}),p.So(k,!1,!0)?(q(),B=!0):(B=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),n.xU(k).then(q).catch(t)));}function w(){y=!0;n.log.trace("Player is repositioned",{id:k,stopped:z,repositioned:y,completed:B});n.j.removeEventListener(f.T.Ml,w);u();}function v(){n.j.removeEventListener(f.T.dG,v);p.stop();}function x(){z=!0;n.log.trace("ASE is stopped",{id:k,stopped:z,repositioned:y,completed:B});p.removeEventListener("stop",x);u();}y=!1;z=!1;B=!1;A=n.ya.get(k);E=n.rja();if(void 0 === E)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),n.xU(k));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:E,currentSegment:n.ha,nextSegment:A},null,"  "));n.j.fireEvent(f.T.X4,{ng:n.ha && n.ha.id,$T:k});p.addEventListener("stop",x);n.j.addEventListener(f.T.dG,v);n.j.addEventListener(f.T.Ml,w);D=n.Qa.yj(h.kh(10),function(){B=!0;D.cancel();t(n.getError(m.J.SN,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.K.W7a,{id:k,stopped:z,repositioned:y,completed:B}));});n.P.seek(E,f.Ad.bD);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(m.J.SN,"MediaPresenter is not initialized",m.K.X7a,{id:k}))):Promise.reject(this.getError(m.J.SN,"ASE session manager is not yet initialized",m.K.W8,{id:k}));};c.prototype.xU=function(k){var n;n=this.ya.get(k);return n?this.fV(n,m.J.SN):Promise.reject(this.getError(m.J.SN,"Unable to find the separated segment",m.K.dua,{id:k}));};c.prototype.lPb=function(k){var n;n=this.j.Ga;if(null === n || void 0 === n || !n.ah())return Promise.reject(this.getError(m.J.gH,"ASE session manager is not yet initialized",m.K.W8,{id:k}));this.j.fireEvent(f.T.X4,{ng:this.ha && this.ha.id,$T:k});if(n.So(k,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:k});return Promise.reject(this.getError(m.J.gH,"ASE chooseNextSegment failed",m.K.U7a,{id:k}));};c.prototype.nPb=function(k){var n,p;n=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.H,srcsegment:this.rBb()});if(this.kv)return Promise.reject(this.getError(m.J.gH,"Unable to queue a non-next segment because there is currently already a segment queued",m.K.Z7a,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.kv.id,failedSegment:k}));if(!this.ha)return Promise.reject(this.getError(m.J.gH,"Unable to queue a non-next segment because there is no currently playing segment",m.K.V7a,{nextSegmentid:k}));p=this.ya.get(k);if(!p)return Promise.reject(this.getError(m.J.gH,"Unable to find the separated segment",m.K.dua,{nextSegmentid:k,currentSegmentId:this.ha.id}));this.kv={id:k,promise:new Promise(function(q,t){var u;n.zB=n.uB.aga({pja:function(){return h.Xb(100);}},function(){return n.P.j.mediaTime.value || 0;});u=n.rja() - 500;n.log.trace("Adding moment for queued segment",{segment:k,pts:u});n.zB.observe(u,function(){n.log.trace("Moment has arrived",{segment:k,currentSegment:n.ha.id,playerEndPts:n.rja(),pts:u});n.kv=void 0;n.CJ();n.fV(p,m.J.gH).then(q).catch(t);});})};this.kv.promise.catch(function(q){n.j.kd(q.code,q);});return Promise.resolve();};c.prototype.fV=function(k,n){var p;p=this;return new Promise(function(q,t){var u;try{u=k.Zb;!1;p.P.seek(u,f.Ad.fw);q();}catch(w){t(p.getError(n,"Seek threw an exception",m.K.Y7a,{id:k.id,error:w}));}});};c.prototype.getError=function(k,n,p,q){this.log.warn(n,q);return new l(k,n,p,q);};b.vua=c;},function(r,b,a){var l,m;function c(){}function g(d,f,h,k,n){this.debug=d;this.version=f;this.dGb=h;this.vNb=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;r=a(0);l=a(1);m=a(4);g.prototype.eAb=function(){return this.config().ZA;};g.prototype.Cia=function(){return this.config().eMa;};g.prototype.pja=function(){return m.Xb(this.config().RNb);};g.prototype.MSa=function(){return this.config().oHb;};g.prototype.PSa=function(){return this.config().dIb;};c.prototype.PA=function(d,f,h,k,n){return new g(d,f,h,k,n);};a=r.__decorate([l.O()],c);b.aFa=a;},function(r,b,a){var g,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;r=a(0);g=a(1);a=a(13);c.prototype.SOb=function(m,d,f){var h,k;if(this.config().wSb){h=m.metrics;if(void 0 !== h && h.segment !== h.srcsegment){k=m.playlistSegment || void 0;d.AT.transition({isBranching:void 0 === k || void 0,isPlaygraph:k,mid:d.H,xid:d.ca,srcxid:f.ca,srcmid:f.H,segment:m.segmentId,srcsegment:h.srcsegment,srcsegmentduration:h.srcsegmentduration,srcoffset:h.srcoffset,seamlessRequested:h.seamlessRequested,transitionType:h.transitionType,transitionTypeAtRequest:h.transitionTypeAtRequest,nextExitPositionAtRequest:h.nextExitPositionAtRequest,delayToTransition:h.delayToTransition,durationOfTransition:h.durationOfTransition,atRequest:h.atRequest,atTransition:h.atTransition,discard:h.discard});}}};l=c;l=r.__decorate([g.O(),r.__param(0,g.l(a.Uc))],l);b.kGa=l;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.z6a=void 0;r=a(1);c=a(341);g=a(709);b.z6a=new r.Qc(function(l){l(c.NGa).to(g.MGa).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u;function c(w){this.ad=w;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(0);g=a(1);l=a(88);m=a(26);d=a(25);f=a(7);h=a(93);k=a(212);n=a(343);p=a(710);q=a(213);t=a(80);u=a(344);c.prototype.dga=function(w,v,x,y,z){return new p.Yya(this.ad.get(m.yf),this.ad.get(d.xf),this.ad.get(f.Ab),this.ad.get(h.ixa),this.ad.get(k.Naa),this.ad.get(q.faa),this.ad.get(t.G9),this.ad.get(u.sCa),this.ad.get(n.fwa),w,v,x,y,z);};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.Uya))],a);b.MGa=a;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p,q,t,u,w,v,x,y,z,B,A,E){var D;D=this;this.Qd=k;this.Xa=n;this.Hb=q;this.Qs=u;this.lR=w;this.wRa=v;this.config=y;this.tj=B;this.R=A;this.uy=E;this.j=z.create(A.H,A.Il,x,E,A.xb,A.id);this.j.background=!0;this.j.la=A.la;this.log=p.sb("VideoPlayer",this.j);this.o_a=[];this.ended=!1;this.rW();this.j.state.addListener(function(F){F.newValue === l.yb.Fd && D.he(l.Mb.mla,{movieId:A.H});});this.j.Va.jj && (this.wJ=t.Prb(this,this.j),this.j.addEventListener(l.T.lG,function(F){F=F.segmentId;D.AGb !== F && (D.AGb=F,D.he(l.Mb.hSb,{segmentId:F}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;g=a(2);l=a(15);m=a(4);d=a(10);f=a(80);h=a(22);c.prototype.isReady=function(){return this.j.state.value === l.yb.Fd;};c.prototype.OAb=function(){return this.j.H;};c.prototype.Ex=function(){return this.j.ca;};c.prototype.kp=function(){return this.j.Se;};c.prototype.Eu=function(){return this.j;};c.prototype.iB=function(){return this.j.Ss.value;};c.prototype.wFb=function(){return this.j.paused.value;};c.prototype.dFb=function(){return this.ended;};c.prototype.Yh=function(){var k;k=this.j.Rea.value;return k?{networkStalled:! !k.i7,stalled:! !k.i7,progress:k.progress,progressRollback:! !k.YOb}:null;};c.prototype.getError=function(){var k;k=this.j.Xj;return k?k.Tra():null;};c.prototype.$yb=function(){var k;k=(this.l2() || 0) + this.j.GRa();return Math.min(k,this.TRa());};c.prototype.l2=function(){return this.j.TA();};c.prototype.TRa=function(){return this.j.Wr.da(m.ia);};c.prototype.wCb=function(){return this.j.az?{width:this.j.az.width,height:this.j.az.height}:null;};c.prototype.Jia=function(){var t;if(this.j.io){for(var k,n=0;n < this.j.io.length;n++){for(var p=this.j.io[n],q=0;q < p.streams.length;q++){t=p.streams[q];this.Xa.Sh(t.jga) && this.Xa.Sh(t.L0) && this.Xa.Sh(t.K0) && this.Xa.Sh(t.J0) && 0 < t.L0 && (t=t.J0 / t.K0,k=this.Xa.Sh(k)?Math.min(k,t):t);}}return k;}};c.prototype.rzb=function(){return this.j.Jia();};c.prototype.vyb=function(k){var n,p;return (null === (n=this.j.la) || void 0 === n?0:n.oj.xS("generateScreenshots"))?this.wRa.ip(this.log,this.j.la.oj,k):(n=null === (p=this.j.Va) || void 0 === p?void 0:p.up)?this.wRa.bf(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.Dzb=function(){return this.Ezb(this.j.HR);};c.prototype.Iyb=function(){var k;k=this;return this.j.Mo?this.j.Mo.map(function(n){return k.$E(n);}).filter(function(n){return null !== n;}):[];};c.prototype.QTa=function(k){var n,p;n=this;p=k && this.j.Mo.find(function(q){return n.$E(q) === k;}) || this.j.Yc.value;return null === p?[]:p.Rl.map(function(q){return n.$E(q);}).filter(function(q){return null !== q;});};c.prototype.rFb=function(){return this.j.muted.value;};c.prototype.zCb=function(){return this.j.volume.value;};c.prototype.Hyb=function(){return this.$E(this.j.Yc.value);};c.prototype.PTa=function(){return this.$E(this.j.Oc.value);};c.prototype.UEb=function(){return ! !this.j.background;};c.prototype.TSb=function(k){this.j.muted.set(! !k);};c.prototype.pTb=function(k){this.j.volume.set(this.OKb(k));};c.prototype.ZSb=function(k){this.j.playbackRate.set(k);};c.prototype.Dn=function(){return this.j.playbackRate.value;};c.prototype.CSb=function(k){var n,p;n=this;p=this.j.Mo.find(function(q){return n.$E(q) === k;});p?this.j.Yc.set(p):this.log.error("Invalid setAudioTrack call");};c.prototype.Y2a=function(k){var q;if(null !== this.j.Yc.value){for(var n=this.j.Yc.value.Rl,p=0;p < n.length;p++){q=n[p];if(!k && null === q){this.j.Oc.set(null);return;}if(this.$E(q) === k){this.log.info("Setting Timed Text, profile: " + q.profile);this.j.Oc.set(q);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.G2a=function(k){this.j.background=k;};c.prototype.AV=function(){this.j.AV();};c.prototype.addEventListener=function(k,n,p){this.Hb.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Hb.removeListener(k,n);};c.prototype.oM=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{k.he(l.Mb.sHb,void 0,!0);n.la && (n.la.Bc.N6a && k.he(l.Mb.YYb,n.la.Bc.N6a,!0),n.la.Bc.Ro && k.he(l.Mb.gSb,{segmentMap:n.la.Bc.Ro},!0));p({W:!0});}catch(q){p({ka:g.K.Ni,gb:k.Qd.md(q)});}}));};c.prototype.close=function(k){var n;n=this;this.lNa || (this.lNa=new Promise(function(p){k?n.j.sE(k,p):n.j.close(p);}));return this.lNa;};c.prototype.play=function(){this.j.rl?this.j.fireEvent(l.T.Z1a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(l.T.p6a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(l.T.qYb));};c.prototype.seek=function(k,n,p,q){this.j.Xf?this.j.Xf.seek(k,n,p,q):this.j.iE=k;};c.prototype.zNb=function(k){return this.wJ?(this.log.trace("Playing a segment",k),this.wJ.play(k)):Promise.resolve();};c.prototype.mPb=function(k){return this.wJ?(this.log.trace("Queueing a segment",k),this.wJ.Kl(k)):Promise.resolve();};c.prototype.di=function(k,n){return this.wJ?(this.log.trace("Updating next segment weights",k,n),this.wJ.di(k,n)):Promise.resolve();};c.prototype.YV=function(){this.j.YV();};c.prototype.F2=function(){var k;k=this.j.Kp.F2();return {bounds:k.YQ,margins:k.Pq,size:k.size,visibility:k.visibility};};c.prototype.sV=function(k){var n,p,q;n=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.SV && (n && this.j.SV.Qqa(n),p && this.j.SV.Rqa(p),"boolean" === typeof k && this.j.SV.Sqa(k));this.j.Kp && q && this.j.Kp.jTb(q);};c.prototype.Z2a=function(k){this.j.Tl=k;};c.prototype.kCb=function(k){return this.j.Uy && this.j.Uy.dAb(k) || null;};c.prototype.Byb=function(){return this.Qd.tB({playerver:this.config.version,jssid:this.config.dGb,groupName:this.config.eAb(),xid:this.j.ca,pbi:this.j.index},this.config.vNb,{prefix:"pi_"});};c.prototype.lEb=function(k){this.j.kd(g.J.C$a,g.K.Zl,k);};c.prototype.iHb=function(k,n,p,q){if(!this.Xa.ZKa(k))throw Error("invalid url");this.o_a.push({url:k,name:n,Imb:p,options:q});this.i0a();};c.prototype.zTa=function(){var k,n,p,q,t,u,w,v;k={};n=this.j.O3a;try{if((this.j.Xj && (k.errorCode=this.j.Xj.e1,k.errorType=n?"endplay":"startplay"),k.playdelay=h.Mk(this.j.Wea()),k.xid=this.j.ca,this.j.la && this.Xa.Io(this.j.la.Bc.up) && (k.packageId=Number(this.j.la.Bc.up)),k.auth=this.j.Lyb(),n)){k.totaltime=this.j.Tn?this.yx(this.j.Tn.JS()):0;k.abrdel=this.j.Tn?this.j.Tn.CRa():0;p=this.j.Xf;q=p?p.WE():null;this.Xa.Sh(q) && (k.totdfr=q);q=p?p.rS():null;this.Xa.Sh(q) && (k.totcfr=q);t=p?p.qAb():null;t && (k.rbfrs_decoder=t.Q0,k.rbfrs_network=t.T4);k.rbfrs_delay=this.j.Tn?this.j.Tn.Wka:0;k.init_vbr=this.j.o3;u=this.DS();this.Xa.FE(u) && (k.pdltime=u);w=this.j.If.value;v=w && w.stream;v && (k.vbr=v.bitrate,k.vdlid=v.Ld);k.bufferedTime=this.j.GRa();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.XR=function(k){this.j.Va.Zn && (this.j.Va.Zn.userEngageAction=1);return this.Xa.Sh(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.Qs.create(this.j)),{action:k}),this.lR(f.lo.XR).ip(this.log,this.j.la.oj,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.$b,errorExternalCode:n.od,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.Ezb=function(k){return {register:k.register.bind(k),notifyUpdated:k.dZa.bind(k),getModel:k.MAb.bind(k),getGroups:k.t2.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.$E=function(k){var n;if(null !== k){n=k.cPb=k.cPb || ({trackId:k.trackId,bcp47:k.hm,displayName:k.displayName,trackType:k.ho,rawTrackType:k.vM,channels:k.channels});k.Kn && (n.isImageBased=!0);this.yFb(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.v7);this.zFb(k) && (n.isNoneTrack=k.fL(),n.isForcedNarrative=k.B3(),n.subType=k.wra);return n;}return null;};c.prototype.yFb=function(k){return "undefined" !== typeof k.isNative;};c.prototype.zFb=function(k){return "undefined" !== typeof k.fL && "undefined" !== typeof k.B3;};c.prototype.OKb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.yx=function(k){return this.Xa.Sh(k)?(k / 1E3).toFixed(0):"";};c.prototype.he=function(k,n,p){n=n || ({});n.target=this;this.Hb.bc(k,n,!p);};c.prototype.rW=function(){var k;k=this;this.j.addEventListener(l.T.Lra,function(){k.he(l.Mb.wq);});this.j.addEventListener(l.T.E5a,function(){k.he(l.Mb.iXb);});this.j.addEventListener(l.T.t4,function(){k.he(l.Mb.rMa);});this.j.addEventListener(l.T.Ml,function(){k.he(l.Mb.rMa);});this.j.addEventListener(l.T.VK,function(n){k.he(l.Mb.VK,{errorCode:n});});this.j.addEventListener(l.T.uea,function(n){k.he(l.Mb.Jmb,n.j);});this.j.addEventListener(l.T.rl,function(n){k.he(l.Mb.Kmb,n);});this.j.Ss.addListener(function(){k.he(l.Mb.PNb);});this.j.paused.addListener(function(){k.he(l.Mb.RMb);});this.j.muted.addListener(function(){k.he(l.Mb.TJb);});this.j.volume.addListener(function(){k.he(l.Mb.SYb);});this.j.Ob.addListener(function(){k.M5a();});this.j.state.addListener(function(){k.M5a();});this.j.Rea.addListener(function(n){k.pHb || k.j.state.value != l.yb.Fd || n.newValue || (k.pHb=!0,k.he(l.Mb.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.zTa());}));k.he(l.Mb.Sea);});this.j.Yc.addListener(function(n){k.he(l.Mb.PQ);n.oldValue && n.newValue && n.oldValue.Rl == n.newValue.Rl || k.he(l.Mb.IG);setTimeout(function(){var p;if(null !== k.j.Yc.value && null !== k.j.Oc.value){p=k.j.Yc.value.Rl;0 <= p.indexOf(k.j.Oc.value) || (k.log.info("Changing timed text track to match audio track"),k.j.Oc.set(p[0]));}},0);});this.j.Oc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.he(l.Mb.vN);});this.j.addEventListener(l.T.IG,function(){k.he(l.Mb.IG);});this.j.addEventListener(l.T.WV,function(){k.he(l.Mb.WV);});this.j.state.addListener(function(n){switch(n.newValue){case l.yb.Fd:k.he(l.Mb.ivb);k.he(l.Mb.KYb);k.he(l.Mb.GLa);k.he(l.Mb.IG);k.he(l.Mb.rHb);k.i0a();k.eZb();break;case l.yb.CLOSING:k.j.Xj && k.he(l.Mb.rVa,k.j.Xj);break;case l.yb.CLOSED:(k.he(l.Mb.closed),k.Hb.$g());}});};c.prototype.eZb=function(){var k;k=this;this.j.Kp.addEventListener("showsubtitle",function(n){k.he(l.Mb.UTb,n,!0);});this.j.Kp.addEventListener("removesubtitle",function(n){k.he(l.Mb.DQb,n,!0);});};c.prototype.i0a=function(){if(this.j.state.value == l.yb.Fd){for(var k,n,p;n=this.o_a.shift();){k=this.j.Kp.Ida(n.url,n.name,n.options);n.Imb && (p=k);}p && this.j.Oc.set(p);}};c.prototype.M5a=function(){var k;k=this.j.state.value == l.yb.Fd && this.j.Ob.value == l.ob.Ct;this.ended !== k && (this.ended=k,this.j.oq("Ended changed: " + k),(k || this.j.state.value === l.yb.CLOSING) && this.he(l.Mb.ewb));};c.prototype.DS=function(){var k,n;try{k=/playercore.*js/;n=d.Kt.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.Yya=c;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.hC=void 0;r=a(1);c=a(712);g=a(713);l=a(714);m=a(346);d=a(345);f=a(214);b.hC=new r.Qc(function(h){h(f.bGa).to(c.aGa);h(m.cva).to(g.bva).Z();h(d.$Fa).Mh(new l.ZFa());h(f.Xaa).sf(function(k){return function(){return k.eb.get(f.bGa);};});});},function(r,b,a){var g,l,m,d;function c(f){this.config=f;this.ara=l.nb;this.eN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;r=a(0);g=a(1);l=a(48);m=a(4);a=a(345);c.prototype.En=function(){var h;for(var f;0 < this.eN.length;){f=this.eN.shift();this.uKa(f);}f=void 0 === this.KR || void 0 === this.IE?m.nb:this.IE.Sa(this.KR);h=f.$Va()?0:this.ara.da(l.zC) / f.da(m.ia);return {FG:Math.floor(h),$ga:f.da(m.ia)};};c.prototype.z_=function(f){this.ara=this.ara.add(f.size);this.eN.push(f.Tub);for(this.eN.sort(function(h,k){return h.start.Jk(k.start);});this.eN.length > this.config.Uub;){f=this.eN.shift();this.uKa(f);}};c.prototype.uKa=function(f){void 0 === this.KR && (this.KR=f.start);void 0 !== this.IE && 0 > this.IE.Jk(f.start) && (this.KR=this.KR.add(f.start.Sa(this.IE)));if(void 0 === this.IE || 0 > this.IE.Jk(f.end))this.IE=f.end;};d=c;d=r.__decorate([g.O(),r.__param(0,g.l(a.$Fa))],d);b.aGa=d;},function(r,b,a){var g,l;function c(m){this.xWb=m;this.B7={};}Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;r=a(0);g=a(1);a=a(214);c.prototype.jzb=function(){var m,d,f;m=[];for(d in this.B7){f=this.B7[d];m.push({tA:Number(d),FG:f.En().FG,$ga:f.En().$ga});}return m;};c.prototype.z_=function(m){var d,f;d=m.tA;f=this.B7[d];f || (f=this.xWb(),this.B7[d]=f);f.z_(m);};l=c;l=r.__decorate([g.O(),r.__param(0,g.l(a.Xaa))],l);b.bva=l;},function(r,b,a){function c(g){this.Uub=void 0 === g?10:g;}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;r=a(0);a=a(1);c=r.__decorate([a.O()],c);b.ZFa=c;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F;Object.defineProperty(b,"__esModule",{value:!0});b.lm=void 0;r=a(1);c=a(24);g=a(13);l=a(716);m=a(137);d=a(138);f=a(717);h=a(215);k=a(718);n=a(347);p=a(348);q=a(719);t=a(216);u=a(10);w=a(353);v=a(723);x=a(354);y=a(724);z=a(219);B=a(725);A=a(355);E=a(34);D=a(352);F=a(726);b.lm=new r.Qc(function(C){C(d.cP).to(f.qFa).Z();C(c.Nv).to(l.Zva).Z();C(h.$ya).to(k.Zya).Z();C(p.Vua).to(q.Uua).Z();C(h.$Ca).Mh({isTypeSupported:u.VC && u.VC.isTypeSupported});C(t.NW).Mh(lb.cast || null);C(t.Wua).Mh(lb.castReceiverEme || null);C(n.mxa).jC(function(G){return {Wzb:function(){return G.eb.get(E.VO);}};});C(m.nH).jC(function(G){return G.eb.get(g.Uc);});C(w.HAa).to(v.EAa).Z();C(D.DAa).to(F.CAa).Z();C(x.GAa).to(y.FAa).Z();C(z.H9).to(B.lxa).Z();C(A.dEa).Mh(lb);});},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p){this.config=k;this.JMa=n;this.uNb=p;this.TOb=this.Isb();}Object.defineProperty(b,"__esModule",{value:!0});b.Zva=void 0;r=a(0);g=a(24);l=a(137);m=a(1);d=a(49);f=a(347);a=a(348);c.prototype.LTa=function(k){return this.ARa().MTa(k);};c.prototype.NTa=function(k){return this.us().MTa(k);};c.prototype.ARa=function(){this.oea && this.oea.type == this.config().pea || (this.oea=this.JMa.Orb(this.config().pea));return this.oea;};c.prototype.us=function(){this.k8 && this.k8.type == this.config().l8 || (this.k8=this.JMa.Usb(this.config().l8),this.k8.Jda(this.uNb.Wzb()));return this.k8;};c.prototype.iAb=function(k){var q;if(!k || !k.length)return g.Sd.qX;k=this.vxb(k);for(var n=[g.Sd.bP,g.Sd.qX,g.Sd.aI,g.Sd.Sv,g.Sd.xr,g.Sd.tC,g.Sd.lD,g.Sd.nk],p=n.length;p--;){q=n[p];if((0,this.TOb[q])(k))return q;}return g.Sd.bP;};c.prototype.wv=function(k){return this.us().wv(k);};c.prototype.bx=function(k){return this.us().bx(k);};c.prototype.Eq=function(){return this.us().Eq();};c.prototype.p2=function(){return this.us().p2();};c.prototype.HV=function(){return this.us().HV();};c.prototype.FV=function(){return this.ARa().FV();};c.prototype.u7=function(){return this.us().u7();};c.prototype.IV=function(){return this.us().IV();};c.prototype.uK=function(k){return this.us().uK(k);};c.prototype.GK=function(){return this.us().GK();};c.prototype.A2=function(){return this.us().A2();};c.prototype.vxb=function(k){var n;n={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.mg]="";});return Object.keys(n);};c.prototype.Isb=function(){var k;k={};k[g.Sd.nk]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};k[g.Sd.tC]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};k[g.Sd.lD]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};k[g.Sd.xr]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[g.Sd.Sv]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[g.Sd.aI]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[g.Sd.qX]=(function(n,p){var q;q={};n.forEach(function(t){return q[t]=1;});n=Z(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.N.DC]);k[g.Sd.bP]=function(){return !0;};return k;};h=c;h=r.__decorate([m.O(),r.__param(0,m.l(l.nH)),r.__param(1,m.l(a.Vua)),r.__param(2,m.l(f.mxa))],h);b.Zva=h;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t){this.lm=p;this.Xa=q;this.e4a=t;this.jkb="video/mp4;codecs={0}";this.pfb="audio/mp4;codecs={0}";p=this.lm.uK(l.Sd.xr);this.ikb=d.Ed.qOa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=void 0;r=a(0);l=a(24);m=a(1);d=a(139);f=a(25);h=a(196);k=a(349);n=a(12);c.prototype.H0=function(p){p=this.lm.iAb(p);p=this.Xa.FE(p)?p:l.Sd.bP;return this.e4a.format(this.jkb,this.ikb[p]);};c.prototype.E0=function(p){if(0 === p.length)return this.e4a.format(this.pfb,d.Ed.xW);p=k.aua[p[0].mg] || g.ata;return p === g.ata?n.FH:p === g.v7a?n.bAa:n.aAa;};a=g=c;a.ata="AAC";a.v7a="XHEAAC";a=g=r.__decorate([m.O(),r.__param(0,m.l(l.Nv)),r.__param(1,m.l(f.xf)),r.__param(2,m.l(h.Taa))],a);b.qFa=a;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p){this.config=k;this.NOa=n;this.cast=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Zya=void 0;r=a(0);g=a(1);l=a(215);m=a(137);d=a(24);f=a(216);h=a(218);c.prototype.hOa=function(){switch(this.config().l8){case d.li.h9:return f.i9.Yfa(this.NOa,this.cast);case d.li.Xv:return h.vz.Yfa(this.config);default:return this.NOa;}};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(m.nH)),r.__param(1,g.l(l.$Ca)),r.__param(2,g.l(f.NW))],a);b.Zya=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B;function c(A,E,D,F,C,G,H,J,I,M,N){this.VVa=A;this.cast=E;this.config=D;this.Qa=F;this.sa=C;this.is=G;this.Dl=H;this.Nq=J;this.platform=I;this.tc=M;this.Uu=N;}Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;r=a(0);g=a(1);l=a(24);m=a(215);d=a(137);f=a(216);h=a(720);k=a(721);n=a(165);p=a(351);q=a(44);t=a(38);u=a(25);w=a(722);v=a(79);x=a(7);y=a(32);z=a(33);a=a(352);c.prototype.Orb=function(A){var E;E=this.VVa.hOa();switch(A){case l.xt.Xv:return new h.bBa(this.config,E,this.is,this.platform,this.Uu);default:return new p.dX(this.config,E,this.Uu);}};c.prototype.Usb=function(A){var E;E=this.VVa.hOa();switch(A){case l.li.h9:A=new f.i9(this.config,E,this.is,this.cast,this.Uu);break;case l.li.kH:A=new w.fva(this.config,E,this.is,this.Dl,this.Nq,this.sa,this.Uu);break;case l.li.Xv:A=new k.iAa(this.config,E,this.is,this.Qa,this.sa,this.Nq,this.tc,this.Uu);break;default:A=new n.Sp(this.config,E,this.is,this.Uu);}return A;};B=c;B=r.__decorate([g.O(),r.__param(0,g.l(m.$ya)),r.__param(1,g.l(f.NW)),r.__param(2,g.l(d.nH)),r.__param(3,g.l(q.Ui)),r.__param(4,g.l(t.hi)),r.__param(5,g.l(u.xf)),r.__param(6,g.l(v.It)),r.__param(7,g.l(x.Ab)),r.__param(8,g.l(y.uk)),r.__param(9,g.l(z.Nh)),r.__param(10,g.l(a.DAa))],B);b.Uua=B;},function(r,b,a){var g,l,m,d,f;function c(h,k,n,p,q){h=d.dX.call(this,h,k,q) || this;h.is=n;h.platform=p;h.type=g.xt.Xv;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;g=a(24);l=a(49);m=a(102);d=a(351);f=a(218);ja(c,d.dX);c.prototype.FV=function(){return Promise.resolve(this.config().SR && this.sA(m.Eb.Nt,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.BE=function(){var h;h={};h[l.de.EC]="mp4a.40.2";h[l.de.FC]="mp4a.40.2";"browser" === this.platform.Qga?this.config().SR && (h[l.de.dO]={Zg:"avc1",keySystem:m.Eb.Nt,features:["audio-endpoint-codec=DD+JOC"]},h[l.de.eO]={Zg:"avc1",keySystem:m.Eb.Nt,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().RPa && (h[l.de.dO]="ec-3"),this.config().QPa && (h[l.de.k9]="ec-3"),this.config().SR && (h[l.de.eO]={Zg:"avc1",keySystem:m.Eb.Nt,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.GQa=function(h){var k;k=this;h=h.filter(function(n){var t;for(var p=Z(k.gv),q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !0;}p=Z(k.Lm);for(q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !1;}n=k.Voa[n];p=[];t=m.Eb.Nt;if(n)return (k.is.Io(n)?q=n:(p=n.features,q=n.Zg,t=n.keySystem),k.sA(t,q,p));});return Promise.resolve(h);};c.prototype.sA=function(h,k,n){h=f.vz.F0(h,k,n);return this.bx(h);};b.bBa=c;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D;function c(F,C,G,H,J,I,M,N){F=l.Sp.call(this,F,C,G,N) || this;F.Qa=H;F.sa=J;F.Nq=I;F.tc=M;F.Uu=N;F.type=m.li.Xv;F.aO="hvc1";F.J8a="avc1";F.x_a={};F.log=F.Nq.sb("MicrosoftVideoCapabilityDetector");F.wUb();F.GV && F.config().bJb?F.vPa=F.gsb():(F.vPa=Promise.resolve(""),F.config().dJb?F.msb():F.config().cJb && F.lsb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;g=a(49);l=a(165);m=a(24);r=a(104);d=a(102);f=a(4);h=a(326);k=a(139);n=a(218);p=a(63);q=a(217);t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");B=["hdcp=1"];A=["hdcp=2"];E=new r.Bz();D=new h.X8();ja(c,l.Sp);c.prototype.uK=function(F){return F === m.Sd.xr && this.config().aYb?k.Ed.nO:l.Sp.prototype.uK.call(this,F);};c.prototype.wv=function(F){switch(F){case m.Oi.LC:return this.n4a();case m.Oi.Gt:return this.JU;default:return Promise.resolve(!1);}};c.prototype.Eq=function(){var C;function F(){return C.GV?C.LDb?C.n4a().then(function(G){return Promise.resolve(G?d.Eb.We:d.Eb.PH);}):Promise.resolve(d.Eb.PH):C.vVb?Promise.resolve(d.Eb.PH):Promise.resolve(d.Eb.Nt);}C=this;this.keySystem || (this.keySystem=F());return this.keySystem;};c.prototype.p2=function(){return this.vPa;};c.prototype.HV=function(){return Promise.resolve({result:this.m4a(),reason:"is-type-supported"});};c.prototype.IV=function(){return this.GV && this.p4a()?this.JU:Promise.resolve(!1);};c.prototype.u7=function(){return Promise.resolve(this.l4a()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Jda=function(F){this.Sn=F;Object.assign(this.Sn,this.x_a);F.itshwdrm=this.GV;F.itsqhd=this.o4a();F.itshevc=this.p4a();F.itshdr=this.m4a();F.itsdv=this.l4a();this.xsa();};c.prototype.BQ=function(F,C){(this.Sn?this.Sn:this.x_a)[F]=C;};c.prototype.GK=function(){var F;F=this;return this.wv(m.Oi.Gt).then(function(C){return C?F.uR(m.Oi.Gt):F.wv(m.Oi.LC).then(function(G){return G?F.uR(m.Oi.LC):F.uR(void 0);});});};c.prototype.A2=function(){return this.Eq().then(function(F){return F === d.Eb.We?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.mK=function(F){var C;C=this;return this.Eq().then(function(G){var H,J,I;if(C.CFb(G,F))return !1;H=C.Voa[F];if(H){J=[];if(C.is.Io(H))I=H;else (J=H.features,I=H.Zg,G=H.keySystem);return C.sA(G,I,J);}return !1;});};c.prototype.BE=function(){var F;F=l.Sp.prototype.BE.call(this);F[g.N.kP]=F[g.N.cI]=F[g.N.bI]=F[g.N.LY]={Zg:"vp09.00.11.08.02",keySystem:d.Eb.We,features:t};F[g.N.zX]=F[g.N.yX]={Zg:"hev1.2.6.L90.B0",keySystem:d.Eb.We,features:u};F[g.N.BX]=F[g.N.AX]={Zg:"hev1.2.6.L93.B0",keySystem:d.Eb.We,features:u};F[g.N.DX]=F[g.N.CX]={Zg:"hev1.2.6.L120.B0",keySystem:d.Eb.We,features:u};F[g.N.FX]=F[g.N.EX]={Zg:"hev1.2.6.L123.B0",keySystem:d.Eb.We,features:u};F[g.N.GX]=F[g.N.tO]={Zg:"hev1.2.6.L150.B0",keySystem:d.Eb.We,features:u};F[g.N.HX]=F[g.N.uO]={Zg:"hev1.2.6.L153.B0",keySystem:d.Eb.We,features:u};F[g.N.rX]=F[g.N.oO]={Zg:"hev1.2.6.L90.B0",keySystem:d.Eb.We,features:v};F[g.N.sX]=F[g.N.pO]={Zg:"hev1.2.6.L93.B0",keySystem:d.Eb.We,features:v};F[g.N.tX]=F[g.N.yH]={Zg:"hev1.2.6.L120.B0",keySystem:d.Eb.We,features:v};F[g.N.uX]=F[g.N.qO]={Zg:"hev1.2.6.L123.B0",keySystem:d.Eb.We,features:x};F[g.N.vX]=F[g.N.rO]={Zg:"hev1.2.6.L150.B0",keySystem:d.Eb.We,features:x};F[g.N.wX]=F[g.N.sO]={Zg:"hev1.2.6.L153.B0",keySystem:d.Eb.We,features:x};F[g.N.TW]=F[g.N.SW]={Zg:"hev1.2.6.L90.B0",keySystem:d.Eb.We,features:y};F[g.N.VW]=F[g.N.UW]={Zg:"hev1.2.6.L93.B0",keySystem:d.Eb.We,features:y};F[g.N.WW]=F[g.N.fO]={Zg:"hev1.2.6.L120.B0",keySystem:d.Eb.We,features:y};F[g.N.YW]=F[g.N.XW]={Zg:"hev1.2.6.L123.B0",keySystem:d.Eb.We,features:z};F[g.N.$W]=F[g.N.ZW]={Zg:"hev1.2.6.L150.B0",keySystem:d.Eb.We,features:z};F[g.N.bX]=F[g.N.aX]={Zg:"hev1.2.6.L153.B0",keySystem:d.Eb.We,features:z};return F;};c.prototype.sA=function(F,C,G){F=n.vz.F0(F,C,G);return this.bx(F);};c.prototype.o4a=function(){return this.sA(d.Eb.We,this.aO,u);};c.prototype.m4a=function(){return this.sA(d.Eb.We,this.aO,v);};c.prototype.l4a=function(){return this.sA(d.Eb.We,this.aO,y);};c.prototype.p4a=function(){return this.sA(d.Eb.We,this.aO,w);};c.prototype.n4a=function(){var F;F=this;return this.JU.then(function(C){return C?Promise.resolve(C):F.l0a;});};c.prototype.xsa=function(){this.Sn && (this.Sn.itshdcp=JSON.stringify({hdcp1:this.rUa,time1:this.I4a - this.K3a,hdcp2:this.sUa,time2:this.J4a - this.L3a}));};c.prototype.wUb=function(){var F;F=this;this.GV?(this.JU=this.lTa(this.config().YXa,this.config().fJb,function(){var C;C=F.gAb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;}),this.l0a=this.JU.then(function(C){return C?!0:F.lTa(F.config().YXa,F.config().eJb,function(){var G;G=F.fAb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.l0a=Promise.resolve(!0),this.JU=Promise.resolve(!1));};c.prototype.lTa=function(F,C,G){var H;H=this;return new Promise(function(J){var I,M,N,K;I=Z(G());M=I.next().value;I=I.next().value;if(M)return J(I);N=H.Qa.G6(f.Xb(F),function(){var O,R;O=Z(G());R=O.next().value;O=O.next().value;R && (N.cancel(),K.cancel(),J(O));});K=H.Qa.yj(f.Xb(C),function(){N.cancel();K.cancel();J("timeout");});});};c.prototype.fAb=function(){var F;F=n.vz.F0(d.Eb.PH,this.J8a,B).split("|");this.rUa=n.vz.Cra(F[0],F[1]);this.I4a=this.sa.Ne.da(f.ia);this.K3a=this.K3a || this.I4a;this.xsa();return this.rUa;};c.prototype.gAb=function(){var F;F=n.vz.F0(d.Eb.We,this.aO,A).split("|");this.sUa=n.vz.Cra(F[0],F[1]);this.J4a=this.sa.Ne.da(f.ia);this.L3a=this.L3a || this.J4a;this.xsa();return this.sUa;};c.prototype.gsb=function(){var F;F=this;return this.bga(d.Eb.We,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.QBa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(C){F.log.debug("DriverInfo: " + C);return C;}).catch(function(C){F.BQ("itsDriverInfo","exception");F.log.error("DriverInfo exception",C);throw C;});};c.prototype.lsb=function(){var F;F=this;this.bga(d.Eb.Nt,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.tc.decode(C));F.BQ("itsHardwareInfo",G);F.log.debug("HardwareInfo: " + G);return C;}).catch(function(C){F.BQ("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",C);throw C;});};c.prototype.msb=function(){var F;F=this;this.bga(d.Eb.Nt,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.tc.decode(C));F.BQ("itsHardwareReset",G);F.log.debug("ResetHardwareDRMDisabled: " + G);return C;}).catch(function(C){F.BQ("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",C);throw C;});};c.prototype.bga=function(F,C){var G;G=this;return new Promise(function(H,J){var R,L,Q;function I(P){try{K(P.target,"Unexpectedly got an mskeyerror event: 0x" + D.TE(P && P.target && P.target.error && P.target.error.t9b || 0,4));}catch(ha){K(P.target,ha);}}function M(P){K(P.target,"Unexpectedly got an mskeyadded event");}function N(P){var ha;try{ha=G.Lha(P.message,"PlayReadyKeyMessage","Challenge");O(P.target);H(ha);}catch(va){K(P.target,va);}}function K(P,ha){G.log.error("PlayReadyChallenge error",{cdmData:C});O(P);J(ha);}function O(P){P.removeEventListener("mskeymessage",N);P.removeEventListener("mskeyadded",M);P.removeEventListener("mskeyerror",I);Q && Q.cancel();}try{R=new Uint8Array(E.c4a(C));L=new lb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),R);L.addEventListener("mskeymessage",N);L.addEventListener("mskeyadded",M);L.addEventListener("mskeyerror",I);Q=G.Qa.yj(f.Xb(1E3),function(){K(L,Error("timeout"));});}catch(P){J(P);}});};c.prototype.Lha=function(F,C){var H,J,I;for(var G=1;G < arguments.length;++G){;}G="";J=F.length;for(H=0;H < J;H++){I=F[H];0 < I && (G+=String.fromCharCode(I));}J="\\s*(.*)\\s*";for(H=arguments.length - 1;0 < H;H--){I=arguments[H];if(0 > G.search(I))return;I="(?:[^:].*:|)" + I;J="[\\s\\S]*<" + I + "[^>]*>" + J + "</" + I + ">[\\s\\S]*";}if(G=G.match(new RegExp(J)))return G[1];};c.prototype.CFb=function(F,C){return q.wf.tC.test(C) && this.config().aJb && F !== d.Eb.PH && !this.config().CB;};Ua.Object.defineProperties(c.prototype,{LDb:{configurable:!0,enumerable:!0,get:function(){return this.config().Cvb && (!this.config().gJb || this.o4a());}},GV:{configurable:!0,enumerable:!0,get:function(){try{return this.bx(d.Eb.We + '|video/mp4;codecs="' + k.Ed.vH + '"');}catch(F){return !1;}}},vVb:{configurable:!0,enumerable:!0,get:function(){try{return this.bx(d.Eb.PH);}catch(F){return !1;}}}});b.iAa=c;c.TG='video/mp4;codecs="{0},mp4a";';},function(r,b,a){var g,l,m,d;function c(f,h,k,n,p,q,t){f=g.Sp.call(this,f,h,k,t) || this;f.Dl=n;f.Nq=p;f.sa=q;f.Uu=t;f.type=l.li.kH;f.log=f.Nq.sb("ChromeVideoCapabilityDetector");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;g=a(165);l=a(24);m=a(4);d=a(63);ja(c,g.Sp);c.prototype.wv=function(f){switch(f){case l.Oi.Gt:return this.uVb;default:return Promise.resolve(!1);}};c.prototype.GK=function(){var f;f=this;return this.wv(l.Oi.Gt).then(function(h){return h?l.Oi.Gt:void 0;}).then(function(h){return f.uR(h);});};c.prototype.Jda=function(f){this.Sn=f;};c.prototype.TFb=function(f){var h;return !(null === (h=f.getConfiguration().videoCapabilities) || void 0 === h || !h.some(function(k){return (null === k || void 0 === k?void 0:k.robustness) === d.JX;}));};c.prototype.R5a=function(){var f;if(this.Sn){f=this.tUa && this.vUa && this.tUa.Sa(this.vUa).da(m.ia);this.Sn.itshdcp=JSON.stringify({hdcp2:this.ys,time2:f});}};Ua.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.UXa || (this.UXa=this.Dl.Bx().then(function(f){return f.createMediaKeys();}));return this.UXa;}},uVb:{configurable:!0,enumerable:!0,get:function(){var f;f=this;this.Dra || (this.config().Dvb?this.Dra=Promise.all([this.Dl.Bx(),this.mediaKeys]).then(function(h){var k;k=Z(h);h=k.next().value;k=k.next().value;if(!f.TFb(h))return (f.ys="not HW_SECURE_DECODE",f.log.trace("hdcpStatus: " + f.ys),!1);if(k && k.getStatusForPolicy)return (f.vUa=f.sa.Ne,k.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(n){f.tUa=f.sa.Ne;f.ys=n;f.log.trace("hdcpStatus: " + f.ys);return "usable" === f.ys;}));f.ys="not available";f.log.trace("hdcpStatus: " + f.ys);return !1;}).catch(function(h){f.ys="exception";f.log.error("Exception in supportsHdcpLevel",{hdcpStatus:f.ys},h);return !1;}).then(function(h){f.R5a();return h;}):(this.ys="not enabled",this.log.trace("hdcpStatus: " + this.ys),this.R5a(),this.Dra=Promise.resolve(!1)));return this.Dra;}}});b.fva=c;},function(r,b,a){var g,l;function c(m){this.navigator=m;this.SXa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;r=a(0);g=a(1);a=a(34);c.prototype.Pha=function(m){return this.SXa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};l=c;l=r.__decorate([g.O(),r.__param(0,g.l(a.KH))],l);b.EAa=l;},function(r,b,a){var g,l,m;function c(d,f){this.mediaCapabilities=d;this.log=f.sb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;r=a(0);g=a(353);l=a(7);a=a(1);c.prototype.Pha=function(d){var f,h,k;f=this;h={Rb:void 0};if(this.mediaCapabilities.SXa){k={contentType:'video/mp4;codecs="avc1.640028"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.Pha(k).then(function(n){return h.Rb=Object.assign(Object.assign({},n),k);}).catch(function(n){return f.log.error("Error calling MediaCapabilities API",n);});}return h;};m=c;m=r.__decorate([a.O(),r.__param(0,a.l(g.HAa)),r.__param(1,a.l(l.Ab))],m);b.FAa=m;},function(r,b,a){var g,l,m;function c(d){this.wOb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lxa=void 0;r=a(0);g=a(1);l=a(219);a=a(355);c.prototype.Wwb=function(){var d,f;d={$R:l.kz.Geb};f=this.wOb.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;d.$R=h.value?l.kz.cEa:l.kz.kta;if(d.$R === l.kz.kta){k=function(){h.value && (d.$R=l.kz.cEa);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){d.$R=l.kz.Error;});return d;};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(a.dEa))],m);b.lxa=m;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u){this.config=p;this.navigator=q;this.Nq=t;this.Uma=u;this.type=l.li.At;this.ELa={};this.y6a={};this.log=this.Nq.sb("MediaCapabilityDetector");this.ELa=this.Nrb();this.y6a=this.Tsb();}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;r=a(0);g=a(1);l=a(24);m=a(49);d=a(7);f=a(34);h=a(79);k=a(137);n=a(63);c.prototype.mK=function(p){var q;q=this;return this.Uma.Bx().then(function(t){return q.hxb(p,t);}).catch(function(){return !1;});};c.prototype.kFb=function(p){return ! !p.colorGamut || ! !p.hdrMetadataType || ! !p.transferFunction;};c.prototype.cla=function(){return lb.matchMedia("(dynamic-range: high)").matches;};c.prototype.hxb=function(p,q){var t,u,w,v;t=this;try{u={type:"media-source"};w=this.ELa[p];v=this.y6a[p];if(w)u.audio=w;else if(v){u.video=v;if(this.kFb(v) && !this.cla())return Promise.resolve(!1);q && (u.keySystemConfiguration=this.wAb(q));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(u).then(function(x){var y;x.configuration || (x.configuration=u);y=t.MFb(u,x);y?t.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(x)):t.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(x));return y;}).catch(function(x){t.log.error("mediaCapabilities.decodingInfo failed",x);return !1;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.wAb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=this.HAb(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.HAb=function(p){return [n.JX,n.SEa,n.Laa].find(function(q){var t;return null === (t=p.getConfiguration().videoCapabilities) || void 0 === t?void 0:t.some(function(u){return u.robustness === q;});});};c.prototype.Nrb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[m.de.EC]=q;p[m.de.Oxa]=q;p[m.de.FC]=q;p[m.de.dI]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[m.de.dO]=q;p[m.de.k9]=q;p[m.de.eO]=q;return p;};c.prototype.Tsb=function(){var p,q,t,u,w,v,x,y,z,B,A,E,D;p={};q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};t={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};w={width:3840,height:2160};v=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});u=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});w=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});y={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};z={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);p[m.N.Gxa]=B;p[m.N.lO]=B;p[m.N.mO]=B;p[m.N.N9]=B;B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);p[m.N.LY]=B;p[m.N.bI]=B;p[m.N.cI]=B;p[m.N.kP]=B;B=Object.assign(Object.assign({},q),v);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),u);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),w);p[m.N.yX]=B;p[m.N.AX]=B;p[m.N.CX]=B;p[m.N.EX]=A;p[m.N.tO]=E;p[m.N.uO]=D;p[m.N.zX]=B;p[m.N.BX]=B;p[m.N.DX]=B;p[m.N.FX]=A;p[m.N.GX]=E;p[m.N.HX]=D;B=Object.assign(Object.assign(Object.assign({},q),v),y);A=Object.assign(Object.assign(Object.assign({},q),x),y);E=Object.assign(Object.assign(Object.assign({},q),u),y);q=Object.assign(Object.assign(Object.assign({},q),w),y);p[m.N.oO]=B;p[m.N.pO]=B;p[m.N.yH]=B;p[m.N.qO]=A;p[m.N.rO]=E;p[m.N.sO]=q;p[m.N.rX]=B;p[m.N.sX]=B;p[m.N.tX]=B;p[m.N.uX]=A;p[m.N.vX]=E;p[m.N.wX]=q;v=Object.assign(Object.assign(Object.assign({},t),v),z);x=Object.assign(Object.assign(Object.assign({},t),x),z);u=Object.assign(Object.assign(Object.assign({},t),u),z);t=Object.assign(Object.assign(Object.assign({},t),w),z);p[m.N.SW]=v;p[m.N.UW]=v;p[m.N.fO]=v;p[m.N.XW]=x;p[m.N.ZW]=u;p[m.N.aX]=t;p[m.N.TW]=v;p[m.N.VW]=v;p[m.N.WW]=v;p[m.N.YW]=x;p[m.N.$W]=u;p[m.N.bX]=t;return p;};c.prototype.MFb=function(p,q){return p.video && this.config().WNb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(k.nH)),r.__param(1,g.l(f.KH)),r.__param(2,g.l(d.Ab)),r.__param(3,g.l(h.It))],a);b.CAa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(1);c=a(356);g=a(78);l=a(166);m=a(728);d=a(359);f=a(729);h=a(358);k=a(167);n=a(730);p=a(732);q=a(733);t=a(734);u=a(78);w=a(360);v=a(736);b.storage=new r.Qc(function(x){x(l.lBa).sf(function(){return function(){return lb.localStorage;};});x(l.oya).sf(function(){return function(){return lb.indexedDB;};});x(w.ZAa).to(v.YAa).Z();x(u.fz).to(t.sta).Z();x(d.yza).to(f.xza).Z();x(c.NX).to(p.Pya).Z();x(k.Rya).to(n.Qya).Z();x(g.CFa).to(m.tva).Z();x(k.nya).to(n.mya).Z();x(k.a$).to(n.Sya).Z();x(h.vva).to(q.uva).Z();});},function(r,b,a){var g,l,m,d,f;function c(h,k,n){this.Un=k;this.config=n;this.qa=h.sb(d.Saa);}Object.defineProperty(b,"__esModule",{value:!0});b.tva=void 0;r=a(0);g=a(1);l=a(7);m=a(57);d=a(357);a=a(358);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.Un.Dp(this.config.timeout,this.lPa(h)):this.lPa(h):Promise.resolve();};c.prototype.lPa=function(h){var k;k=this;return new Promise(function(n,p){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(q){"true" !== q.value && p();k.qa.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){k.qa.error("Failed to remove testValue");n();});});}).catch(function(q){return p(q);});});};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(m.dw)),r.__param(2,g.l(a.vva))],f);b.tva=f;},function(r,b,a){var g,l,m;function c(d){this.GB=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;r=a(0);g=a(1);l=a(2);a=a(166);c.prototype.load=function(d){var f;f=this;return new Promise(function(h,k){var n,p;try{n=f.GB.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else k({ka:l.K.Az});}catch(q){k({ka:l.K.QEa,cause:q});}});};c.prototype.save=function(d,f,h){var k;k=this;return new Promise(function(n,p){if(h && k.GB.getItem(d))n(!1);else try{"string" === typeof f?k.GB.setItem(d,f):k.GB.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({ka:l.K.REa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(h,k){try{f.GB.removeItem(d);h();}catch(n){k({ka:l.K.Kaa,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(a.fcb))],m);b.xza=m;},function(r,b,a){var m,d,f,h,k,n,p,q,t,u,w,v;function c(x,y,z,B,A,E){this.config=y;this.AR=z;this.Sm=B;this.AYb=A;this.jk=E;this.qa=x.sb(n.Saa);}function g(x,y){this.config=x;this.iC=y;}function l(x,y,z,B,A){this.config=y;this.iC=z;this.jk=A;this.qa=x.sb(n.Saa);this.AR=new Promise(function(E,D){var F;try{F=B();F?E(F):D({ka:k.K.pya});}catch(C){D({ka:k.K.MX,cause:C});}});}Object.defineProperty(b,"__esModule",{value:!0});b.Sya=b.Qya=b.mya=void 0;r=a(0);m=a(1);d=a(7);f=a(731);h=a(166);k=a(2);n=a(357);p=a(356);q=a(57);t=a(78);u=a(67);w=a(167);v=a(62);l.prototype.create=function(){this.sga || (this.sga=this.IJ());return this.sga;};l.prototype.Yo=function(x){var y;y=this;this.sga=null;return this.iC.Dp(this.config.timeout,new Promise(function(z,B){x.close();y.delete(x.name).then(function(){z();}).catch(function(A){B(A);});})).catch(function(z){return z instanceof q.cq?Promise.reject({ka:k.K.MX}):z.ka?Promise.reject(z):Promise.reject({ka:k.K.MX,cause:z});});};l.prototype.delete=function(x){var y;y=this;return this.iC.Dp(this.config.timeout,new Promise(function(z,B){y.AR.then(function(A){var E;E=A.deleteDatabase(x);E.onsuccess=function(){z();};E.onerror=function(){B({ka:k.K.MX,cause:E.error});};}).catch(function(A){B(A);});}));};l.prototype.IJ=function(){var x,y;x=this;return this.iC.Dp(this.config.timeout,new Promise(function(z,B){if(x.config.Zqa)return B({ka:x.config.Zqa});x.AR.then(function(A){x.jk.mark(v.Vi.nab);y=A.open(x.config.name,x.config.version);if(!y)return B({ka:k.K.qya});y.onblocked=function(){x.jk.mark(v.Vi.kab);B({ka:k.K.gab});};y.onupgradeneeded=function(){var E;x.jk.mark(v.Vi.uab);E=y.result;try{E.createObjectStore(x.config.gU,{keyPath:"name"});}catch(D){x.qa.error("Exception while creating object store",D);}};y.onsuccess=function(E){var D,F;x.jk.mark(v.Vi.tab);try{D=E.target.result;F=D.objectStoreNames.length;x.qa.trace("objectstorenames length ",F);if(0 === F){x.qa.error("invalid indexedDb state, deleting");x.jk.mark(v.Vi.mab);try{D.close();}catch(C){}A.deleteDatabase(x.config.name);setTimeout(function(){B({ka:k.K.fab});},1);return;}}catch(C){x.qa.error("Exception while inspecting indexedDb objectstorenames",C);}z(y.result);};y.onerror=function(){x.jk.mark(v.Vi.lab);x.qa.error("IndexedDB open error",y.error);B({ka:k.K.hab,cause:y.error});};}).catch(function(A){B(A);});})).catch(function(z){if(z instanceof q.cq){try{y && y.readyState && x.jk.mark("readyState-" + y.readyState);}catch(B){}if(x.config.K_ && y && "done" === y.readyState){if(x.vYb(y))return (x.jk.mark(v.Vi.rab),Promise.resolve(y.result));x.jk.mark(v.Vi.qab);}x.jk.mark(v.Vi.pab);return Promise.reject({ka:k.K.jab});}if(z.ka)return Promise.reject(z);x.jk.mark(v.Vi.oab);x.qa.error("IndexedDB open exception occurred",z);return Promise.reject({ka:k.K.iab,cause:z});});};l.prototype.vYb=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.jk.mark(v.Vi.sab);this.qa.error("failed to check open request state",y);}return !1;};a=l;a=r.__decorate([m.O(),r.__param(0,m.l(d.Ab)),r.__param(1,m.l(p.NX)),r.__param(2,m.l(q.dw)),r.__param(3,m.l(h.oya)),r.__param(4,m.l(u.gD))],a);b.mya=a;g.prototype.create=function(x){return Promise.resolve(new f.Oya(this.config,this.iC,x));};a=g;a=r.__decorate([m.O(),r.__param(0,m.l(p.NX)),r.__param(1,m.l(q.dw))],a);b.Qya=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.vR || (this.vR=this.IJ(this.AYb));return this.vR;};c.prototype.IJ=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,B){y.jk.mark(v.Vi.beb);y.AR.create().then(function(A){y.Sm.create(A).then(function(E){Promise.all(x.map(function(D){return D.validate(E);})).then(function(){y.storage=E;z(y.storage);}).catch(function(D){y.qa.debug("DB validation failed, cause: " + D);y.config.ZQa?(y.qa.debug("Fixing corrupt DB"),y.AR.Yo(A).then(function(){y.qa.error("Invalid database deleted, creating new database.");y.IJ().then(function(F){y.qa.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.qa.error("Couldn't delete invalid database.");B(F);})):(y.qa.debug("Ignoring invalid DB due to config"),y.storage=E,z(y.storage));});}).catch(function(E){B(E);});}).catch(function(A){B(A);});});};a=c;a=r.__decorate([m.O(),r.__param(0,m.l(d.Ab)),r.__param(1,m.l(p.NX)),r.__param(2,m.l(w.nya)),r.__param(3,m.l(w.Rya)),r.__param(4,m.DF(t.CFa)),r.__param(5,m.l(u.gD))],a);b.Sya=a;},function(r,b,a){var l,m,d;function c(f,h,k){this.config=f;this.Un=h;this.GB=k;}function g(f,h){this.reason=f;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=b.qEa=void 0;l=a(2);m=a(57);(function(f){f[f.N$=0]="NoData";f[f.Error=1]="Error";f[f.$H=2]="Timeout";})(d=b.qEa || (b.qEa={}));c.prototype.load=function(f){var h;h=this;return new Promise(function(k,n){h.B1("get",!1,f).then(function(p){k({key:f,value:p});}).catch(function(p){var q;q=l.K.QEa;switch(p.reason){case d.N$:q=l.K.Az;break;case d.$H:q=l.K.ceb;}n({ka:q,cause:p.cause});});});};c.prototype.save=function(f,h,k){var n;n=this;return new Promise(function(p,q){n.B1(k?"add":"put",!0,{name:f,data:h}).then(function(){p(!k);}).catch(function(t){var u;u=l.K.REa;switch(t.reason){case d.$H:u=l.K.feb;}q({ka:u,cause:t.cause});});});};c.prototype.remove=function(f){var h;h=this;return new Promise(function(k,n){h.B1("delete",!0,f).then(function(){k();}).catch(function(p){var q;q=l.K.Kaa;switch(p.reason){case d.$H:q=l.K.PEa;}n({ka:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(h,k){f.B1("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=l.K.Kaa;switch(n.reason){case d.$H:p=l.K.PEa;}k({ka:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.Un.Dp(this.config.timeout,new Promise(function(h,k){var n,p,q;if(f.config.Yqa)k(new g(f.config.Yqa));else {n=[];p=f.GB.transaction(f.config.gU,"readonly");q=p.objectStore(f.config.gU).openCursor();p.onerror=function(){k(new g(d.Error,q.error));};q.onsuccess=function(t){if(t=t.target.result)try{n.push({key:t.value.name,value:t.value.data});t.continue();}catch(u){k(new g(d.Error,u));}else h(n);};q.onerror=function(){k(new g(d.Error,q.error));};}})).catch(function(h){return h instanceof m.cq?Promise.reject(new g(d.$H,h)):h instanceof g?Promise.reject(h):Promise.reject(new g(d.Error,h));});};c.prototype.B1=function(f,h,k){var n;n=this;return this.Un.Dp(this.config.timeout,new Promise(function(p,q){var t,u;t=n.GB.transaction(n.config.gU,h?"readwrite":"readonly");u=t.objectStore(n.config.gU)[f](k);t.onerror=function(){q(new g(d.Error,u.error));};u.onsuccess=function(w){var v;if("get" == f)try{v=w.target.result;v?p(v.data):q(new g(d.N$));}catch(x){q(new g(d.N$,x));}else p(void 0);};u.onerror=function(){q(new g(d.Error,u.error));};})).catch(function(p){return p instanceof m.cq?Promise.reject(new g(d.$H,p)):p instanceof g?Promise.reject(p):Promise.reject(new g(d.Error,p));});};b.Oya=c;},function(r,b,a){var g,l,m,d,f;function c(h,k){h=m.Ye.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.gU="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;r=a(0);g=a(1);l=a(42);m=a(43);d=a(36);a=a(35);ja(c,m.Ye);Ua.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.xu?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.pra;}},K_:{configurable:!0,enumerable:!0,get:function(){return this.config.K_;}},Zqa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Yqa:{configurable:!0,enumerable:!0,get:function(){return 0;}},ZQa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([l.config(l.Xy,"simulateIdbOpenError")],f.prototype,"Zqa",null);r.__decorate([l.config(l.Xy,"simulateIdbLoadAllError")],f.prototype,"Yqa",null);r.__decorate([l.config(l.jd,"fixInvalidDatabase")],f.prototype,"ZQa",null);f=r.__decorate([g.O(),r.__param(0,g.l(a.$l)),r.__param(1,g.l(d.Wl))],f);b.Pya=f;},function(r,b,a){var g,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.uva=void 0;r=a(0);g=a(1);a=a(36);Ua.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.pra;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.y4a;}}});l=c;l=r.__decorate([g.O(),r.__param(0,g.l(a.Wl))],l);b.uva=l;},function(r,b,a){var l,m,d,f,h,k,n;function c(p,q,t,u){this.qa=p;this.config=q;this.MDb=t;this.$ma=u;this.uE={mem:{storage:this.$ma,key:"mem"}};this.bC=this.config.bC;}function g(p,q,t,u){this.rg=p;this.Sm=q;this.$ma=t;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.H8=b.sta=void 0;r=a(0);l=a(1);m=a(2);d=a(167);f=a(7);h=a(360);k=a(735);a=a(36);g.prototype.create=function(){this.vR || (this.vR=this.IJ());return this.vR;};g.prototype.IJ=function(){this.Jlb=new c(this.rg.sb("AppStorage"),this.config,this.Sm,this.$ma);return this.Jlb.create();};n=g;n=r.__decorate([l.O(),r.__param(0,l.l(f.Ab)),r.__param(1,l.l(d.a$)),r.__param(2,l.l(h.ZAa)),r.__param(3,l.l(a.Wl))],n);b.sta=n;c.prototype.create=function(){var p;p=this;return this.nsb().then(function(q){if(!p.nob(q,p.config.YS))throw p.mKb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(t,u){q.qS(p).storage.load(p).then(function(w){t(w);}).catch(function(w){u(w);});});};c.prototype.save=function(p,q,t){var u;u=this;return new Promise(function(w,v){u.qS(p).storage.save(p,q,t).then(function(x){w(x);}).catch(function(x){v(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(t,u){q.qS(p).storage.remove(p).then(function(){t();}).catch(function(w){u(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,t){p.b1a("mem").then(function(){return p.b1a("idb");}).catch(function(u){return Promise.reject(u);}).then(function(){q();}).catch(function(u){p.qa.error("remove all failed");t(u);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.DWa("mem").then(function(t){q=q.concat(t);return p.DWa("idb");}).catch(function(t){p.JFb(t) || p.qa.error("IndexedDb.LoadAll exception",t);return [];}).then(function(t){return q=q.concat(t);}).catch(function(t){p.qa.error("load all failed",t);throw t;});};c.prototype.nsb=function(){var p;p=this;return this.MDb.create().then(function(q){p.uE.idb={storage:q,key:"idb"};}).catch(function(q){p.qa.error("idb failed to load",q);return q || ({ka:m.K.Zl});});};c.prototype.nob=function(p,q){return !p || p && q?!0:!1;};c.prototype.mKb=function(p){var q;q="";p && (q+=p.ka);return {ka:q};};c.prototype.b1a=function(p){return (p=this.uE[p])?p.storage.removeAll():Promise.resolve();};c.prototype.DWa=function(p){return (p=this.uE[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.pxb=function(p){for(var q in this.bC){if(p.startsWith(q))return this.bC[q];}return this.bC[k.x9a];};c.prototype.qS=function(p){var q,t;q=this;this.pxb(p).every(function(u){return q.uE[u]?(t=q.uE[u],!1):!0;});if(!t){this.qa.error("component not found for storageKey",{KUb:p,H4b:Object.keys(this.uE),rules:this.bC});t=this.uE.mem;}this.qa.trace("component found for key",{storageKey:p,componentKey:t.key});return t;};c.prototype.JFb=function(p){return (p && (p.ka || p.errorSubCode)) === m.K.Az;};b.H8=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.x9a="__default_rule_key__";},function(r,b,a){var g,l,m;function c(d){this.rg=d;this.EF={};this.qa=this.rg.sb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.YAa=void 0;r=a(0);g=a(1);l=a(2);a=a(7);c.prototype.load=function(d){var f;if(this.EF.hasOwnProperty(d)){f=this.EF[d];this.qa.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.qa.debug("Storage entry not found",{key:d});return Promise.reject({ka:l.K.Az});};c.prototype.save=function(d,f,h){if(h && this.EF.hasOwnProperty(d))return Promise.resolve(!1);this.EF[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.EF[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.EF).map(function(f){var h;h=Z(f);f=h.next().value;h=h.next().value;return {key:f,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.EF={};return Promise.resolve();};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(a.Ab))],m);b.YAa=m;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.hE=void 0;r=a(1);c=a(361);g=a(362);l=a(363);m=a(738);d=a(739);f=a(740);b.hE=new r.Qc(function(h){h(c.pua).to(m.oua).Z();h(g.nua).to(d.kua).Z();h(l.mua).to(f.lua).Z();});},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t,u){this.W_=p;this.Xa=q;this.jnb=t;this.config=u;this.qa=n.sb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.oua=void 0;r=a(0);g=a(1);l=a(362);m=a(363);d=a(7);f=a(25);h=a(4);a=a(13);c.prototype.plb=function(n){var p,q;p=n.Va.playbackState && n.Va.playbackState.currentTime;q=this.ozb(n.H);p=this.Xa.FE(p)?h.Xb(p):q;if(this.Xa.Uf(p))(this.qa.info("Overriding bookmark",{From:n.WG.da(h.ia),To:p.da(h.ia)}),n=Object.assign({},n,{WG:p}));else if(this.RDb(n))return (this.qa.trace("Ignoring bookmark because it's too close to beginning"),h.kh(0));return n.WG.ila()?(this.qa.trace("Ignoring bookmark because it's negative"),h.kh(0)):this.QDb(n)?(this.qa.trace("Ignoring bookmark because it's too close to end"),h.kh(0)):this.PDb(n)?(this.qa.trace("Ignoring bookmark because it's too close to the end to start decoding"),h.kh(0)):n.WG;};c.prototype.RDb=function(n){return 0 > n.WG.Jk(this.Sia(n));};c.prototype.Sia=function(n){return this.fMa(this.W_.Sia(),n.G5);};c.prototype.QDb=function(n){return 0 < n.WG.Jk(this.Tia(n));};c.prototype.Tia=function(n){var p;p=n.Va.jj?this.W_.kAb():this.W_.Tia();return n.G5.Sa(this.fMa(p,n.G5));};c.prototype.PDb=function(n){return 0 < n.WG.Jk(this.Tzb(n));};c.prototype.Tzb=function(n){var p;p=n.Va.jj?this.config().AZa:this.config().NF;return n.G5.Sa(h.Xb(p));};c.prototype.ozb=function(n){var p;n=this.W_.Cia()[n];p=-1;this.Xa.Io(n)?p=parseInt(n):this.Xa.Sh(n) && (p=n);if(this.Xa.DQ(p))return h.Xb(p);};c.prototype.fMa=function(n,p){return this.jnb.$Ub(n,p);};k=c;k=r.__decorate([g.O(),r.__param(0,g.l(d.Ab)),r.__param(1,g.l(l.nua)),r.__param(2,g.l(f.xf)),r.__param(3,g.l(m.mua)),r.__param(4,g.l(a.Uc))],k);b.oua=k;},function(r,b,a){var g,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.kua=void 0;r=a(0);g=a(1);a=a(13);c.prototype.Sia=function(){return this.PA().knb;};c.prototype.Tia=function(){return this.PA().lnb;};c.prototype.kAb=function(){return this.PA().mnb;};c.prototype.Cia=function(){return this.PA().eMa;};c.prototype.PA=function(){return this.config();};l=c;l=r.__decorate([g.O(),r.__param(0,g.l(a.Uc))],l);b.kua=l;},function(r,b,a){var g,l,m;function c(d){this.Xa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lua=void 0;r=a(0);g=a(1);l=a(25);m=a(4);c.prototype.$Ub=function(d,f){var h,k;h=parseFloat(d);k=0;"%" === d[d.length - 1] && this.Xa.Sh(h)?k=Math.round(h * f.da(m.ia) / 100):(d=parseInt(d),this.Xa.DQ(d) && (k=d));return m.Xb(Math.min(k,f.da(m.ia)));};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.xf))],a);b.lua=a;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;r=a(1);c=a(364);g=a(742);b.AMa=new r.Qc(function(l){l(c.Dua).to(g.Cua).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t,u,w,v,x){this.config=q;this.wB=u;this.profile=w;this.Q7=v;this.eR=x;this.log=t.sb("CDMAttestedDescriptor");this.MRa(n.Jt.XO);}Object.defineProperty(b,"__esModule",{value:!0});b.Cua=void 0;r=a(0);g=a(1);l=a(13);m=a(7);d=a(140);f=a(220);h=a(88);k=a(158);n=a(36);p=a(68);c.prototype.MRa=function(q){var t;t=this;return this.Q7.Z6(q)?this.config().yvb?this.KRa().then(function(u){if(u)return (!1,Promise.resolve(void 0));t.yWa || (!1,t.yWa=t.eR.Bja(p.pk.Uv));return t.yWa;}).catch(function(u){t.log.error("Failed to generate challenge",u);}).then(function(u){null === u || void 0 === u?void 0:u.Db.close();return null === u || void 0 === u?void 0:u.efa;}).then(function(u){return Promise.all([Promise.resolve(u),t.KRa()]);}).then(function(u){var w;u=Z(u);w=u.next().value;if(u.next().value)!1;else return w;}):this.wB().then(function(u){u.WT.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.KRa=function(){var q;q=this;return this.wB().then(function(t){return (t=t.WT.getServiceTokens(q.profile)) && t.find(function(u){return "cad" === u.name;});});};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.Uc)),r.__param(1,g.l(m.Ab)),r.__param(2,g.l(d.KO)),r.__param(3,g.l(h.ZO)),r.__param(4,g.l(f.JY)),r.__param(5,g.l(k.MW))],a);b.Cua=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});b.hXa=void 0;r=a(1);c=a(365);g=a(744);l=a(366);m=a(775);d=a(376);f=a(377);h=a(379);k=a(776);n=a(380);p=a(777);q=a(170);t=a(778);u=a(382);w=a(779);b.hXa=new r.Qc(function(v){v(l.pAa).to(m.oAa).Z();v(c.rAa).to(g.qAa).Z();v(d.ADa).Mh(function(x){for(var y=[],z=0;z < arguments.length;++z){y[z - 0]=arguments[z];}z=a(225).fD;return new (Function.prototype.bind.apply(z,[null].concat(ba(y))))();});v(f.jGa).Mh(function(x){for(var y=[],z=0;z < arguments.length;++z){y[z - 0]=arguments[z];}z=a(448).Sua;return new (Function.prototype.bind.apply(z,[null].concat(ba(y))))();});v(h.wAa).sf(function(){return function(x){return new k.xAa(x);};});v(n.vAa).to(p.uAa).Z();v(q.GO).to(t.mAa).Z();v(u.lAa).to(w.kAa).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u;function c(w,v,x,y,z){this.rg=w;this.config=v;this.Aoa=x;this.csa=y;this.P7=z;}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;r=a(0);g=a(1);l=a(7);m=a(366);d=a(745);f=a(770);h=a(771);k=a(772);n=a(773);p=a(774);q=a(376);t=a(377);a=a(378);c.prototype.create=function(w){var v,x;v=this.rg.sb("ManifestParser",w);x=new d.ava(v,this.config);return new h.sAa(x,new f.XFa(v,this.config,w,x,this.Aoa),new k.tGa(v,w,this.csa),new n.$ta(v,this.config,w,this.P7),new p.RGa(v,this.P7));};u=c;u=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(m.pAa)),r.__param(2,g.l(q.ADa)),r.__param(3,g.l(a.rGa)),r.__param(4,g.l(t.jGa))],u);b.qAa=u;},function(r,b,a){var g;function c(l,m){this.log=l;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ava=void 0;g=a(119);c.prototype.TZa=function(l,m,d){var f,h,k,n,p;f=this;h=this.config.bfa;k=this.config.afa;l=Z(g.Os(function(q){return (!h.length || 0 <= h.indexOf(q.id)) && 0 > k.indexOf(q.id);},l || []));n=l.next().value;l.next().value.forEach(function(q){return f.log.warn("Cdn is not allowed",{Id:q.id});});p=n.map(function(q){var t;t=(m?m.find(function(u){return u.key === q.key;}):void 0) || ({});return {id:q.id,name:q.name,tg:q.tg,type:q.type,$la:q.key,U6b:q.XWa,location:{id:t.key,tg:t.tg,level:t.level,weight:t.weight,Hk:[]}};});p.sort(function(q,t){return q.tg - t.tg;});p.forEach(function(q){return q.location.Hk=p.filter(function(t){return t.$la === q.$la;});});this.log.trace("Transformed cdns",{Count:p.length});if(d && !p.length)throw Error("no valid cdns");return p;};b.ava=c;},function(r,b,a){var c;b=a(168);c=a(747);a=b(function(g,l,m){return c(function(d,f,h){return g(f,h);},l,m);});r.exports=a;},function(r,b,a){var c,g;b=a(168);c=a(367);g=a(748);a=b(function h(m,d,f){return g(function(k,n,p){return c(n) && c(p)?h(m,n,p):m(k,n,p);},d,f);});r.exports=a;},function(r,b,a){var c;b=a(168);c=a(221);a=b(function(g,l,m){var d,f;d={};for(f in l){c(f,l) && (d[f]=c(f,m)?g(f,l[f],m[f]):l[f]);}for(f in m){c(f,m) && !c(f,d) && (d[f]=m[f]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(368);c=a(758);a=a(768);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,g=a.length,l=[];c < g;){b(a[c]) && (l[l.length]=a[c]);c+=1;}return l;};},function(r,b,a){var c,g;b=a(120);c=a(370);g=a(753);a=b(function(l){return c(l)?!0:!l || "object" !== typeof l || g(l)?!1:1 === l.nodeType?! !l.length:0 === l.length?!0:0 < l.length?l.hasOwnProperty(0) && l.hasOwnProperty(l.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,g){return this.f(c,g);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(223);b=a(54)(function(g,l){return c(g.length,function(){return g.apply(l,arguments);});});r.exports=b;},function(r,b,a){var c,g;b=a(54);c=a(371);g=(function(){function l(m,d){this.vW=d;this.f=m;}l.prototype["@@transducer/init"]=c.Wa;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.vW["@@transducer/step"](m,d):m;};return l;})();a=b(function(l,m){return new g(l,m);});r.exports=a;},function(r,b,a){var c,g;c=a(221);g=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === g.call(arguments)?function(l){return "[object Arguments]" === g.call(l);}:function(l){return c("callee",l);};};},function(r,b,a){var c;b=a(120);c=a(759);a=b(function(g){return c(function(){return Array.prototype.slice.call(arguments,0);},g);});r.exports=a;},function(r,b,a){var c,g,l,m,d;b=a(54);c=a(373);g=a(374);l=a(761);m=a(762);d=a(767);a=b(function(f,h){return g(d(l,0,m("length",h)),function(){var k,n;k=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,k);},h));});});r.exports=a;},function(r,b,a){var g,l;function c(m,d,f){return function(){var q;for(var h=[],k=0,n=m,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!l(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);h[p]=q;l(q) || --n;p+=1;}return 0 >= n?f.apply(this,h):g(n,c(m,h,f));};}g=a(223);l=a(169);r.exports=c;},function(r,b,a){b=a(54)(function(c,g){return g > c?g:c;});r.exports=b;},function(r,b,a){var c,g;b=a(54);c=a(763);g=a(765);a=b(function(l,m){return c(g(l),m);});r.exports=a;},function(r,b,a){var c,g,l,m,d,f;b=a(54);c=a(369);g=a(373);l=a(222);m=a(764);d=a(374);f=a(372);a=b(c(["fantasy-land/map","map"],m,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return l(function(n,p){n[p]=h(k[p]);return n;},{},f(k));default:return g(h,k);}}));r.exports=a;},function(r,b,a){var c,g;b=a(54);c=a(371);g=(function(){function l(m,d){this.vW=d;this.f=m;}l.prototype["@@transducer/init"]=c.Wa;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.vW["@@transducer/step"](m,this.f(d));};return l;})();a=b(function(l,m){return new g(l,m);});r.exports=a;},function(r,b,a){var c;b=a(54);c=a(766);a=b(function(g,l){return c([g],l);});r.exports=a;},function(r,b,a){b=a(54)(function(c,g){for(var l=0;l < c.length;){if(null == g)return;g=g[c[l]];l+=1;}return g;});r.exports=b;},function(r,b,a){b=a(168);a=a(222);a=b(a);r.exports=a;},function(r,b,a){var c,g;c=a(769);b=a(54);g=a(368);a=b(function(l,m){return g(c(l),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var g,l,m,d;function c(f,h,k,n,p){this.log=f;this.config=h;this.j=k;this.cfa=n;this.Aoa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;g=a(49);l=a(10);m=a(141);d=a(224);c.prototype.KMb=function(f){var h;h=this;f=f.map(function(k){var n,p,q;n=h.BWb(k);!1 !== k.gL || n.length || h.log.error("track without downloadables",h.NSa(k));!0 !== k.ala || n.length || h.log.error("forced track without downloadables",h.NSa(k));p={};q=[];0 < n.length && (p=n[0],p.profile == g.Cr.HH && (p=h.jSb(n),!1),q=h.cfa.TZa(k.yob,void 0,!1));k=h.Aoa(h.j,k.Ms,k.id,p.Ld,p.urls || ({}),q,k.language,k.R3,m.HY[k.ho.toLowerCase()] || m.fq.OH,k.wra,k.vM.toUpperCase(),p.profile,h.KAb(p) || ({}),k.gL,k.ala,k.E3,k.zs);h.log.trace("Transformed timed text track",k);return k;});this.log.trace("Transformed timed text tracks",{Count:f.length});return f;};c.prototype.bWb=function(f){var h,k;h=this;k=this.config.nia;if(k){if(f=Z(f.filter(function(n){return n.hm == k || n.trackId == k;})).next().value)return f;}else if(this.j.T1 && (f=Z(f.filter(function(n){return n.trackId == h.j.T1;})).next().value))return f;};c.prototype.BWb=function(f){var h,k;h=this;k=f.Xub;f=Object.entries(f.XWb || ({})).map(function(n){var p;p=Z(n);n=p.next().value;p=p.next().value;return {Ld:k[n],profile:n,size:p.size || 0,priority:h.Lzb(n,p),offset:p.cna || 0,mNb:p.width,s_a:p.height,urls:p.qx};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.Lzb=function(f,h){var k,n;k=this.config.xv.indexOf(f);h=h.size;n=this.config.uN;return f === g.Cr.o9 && 0 < n && h > n?this.config.xv.length + 1:0 <= k?k:this.config.xv.length;};c.prototype.KAb=function(f){if(f.profile === g.Cr.HH)return {offset:f.offset,length:f.size,w6:{width:f.mNb,height:f.s_a}};};c.prototype.jSb=function(f){var h,k;h=this.config.Aka || d.FY.qja();k=Z(f.filter(function(n){return n.profile === g.Cr.HH;}).filter(function(n){return n.s_a === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:l.Lt.height,intendedResolution:h});return f[0];};c.prototype.NSa=function(f){return {isNone:f.gL,isForced:f.ala,bcp47:f.language,id:f.Ms};};b.XFa=c;},function(r,b){function a(c,g,l,m,d){this.cfa=c;this.z4a=g;this.LWb=l;this.ILa=m;this.C6a=d;}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;a.prototype.FMb=function(c){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x;g=c.Bc;c=this.cfa.TZa(g.ft,g.Nn,!0);l=this.z4a.KMb(g.eWb);m=this.LWb.LMb(g.OWb);d=this.ILa.wMb(g.KLa,g.media,l);f=this.C6a.MMb(g.cz);h=this.HMb(g,d,l);k=h[0];n=f[0];p=this.ILa.Bmb(d) || k.Yc || d[0];k=this.z4a.bWb(p.Rl) || k.Oc || p.Rl[0];q=this.C6a.IMb(g.cz);t=g.Di;u=g.npb;w=g.R2;v=g.wl;x=g.KLa.findIndex(function(y){return y.Ms == p.trackId;});g=g.cz.findIndex(function(y){return y.Ms == n.trackId;});return {Xs:q,Hk:c,Mo:d,io:f,Rl:l,Vy:m,Di:t,B2a:u,Tx:w,wl:v,Fga:x,Iga:g,R5:h,Hga:n,DR:p,Gga:k};};a.prototype.HMb=function(c,g,l){var m,d;m=[];d=c.OOa[0];m.push({Yc:g.find(function(f){return f.Hu === d.jA;}),Oc:l.find(function(f){return f.Hu === d.lVb;}),C8b:0});return m;};b.sAa=a;},function(r,b){function a(c,g,l){this.log=c;this.j=g;this.csa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;a.prototype.LMb=function(c){var g;g=this;c=(c || []).filter(function(l){return l.urls && 0 < l.urls.length;}).map(function(l){return g.csa(g.j,l.id,l.height,l.width,l.rNb,l.sNb,l.size,l.zs,{unknown:l.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(l,m){return l.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.tGa=a;},function(r,b,a){var g,l,m,d,f;function c(h,k,n,p){h=l.IO.call(this,h,p) || this;h.config=k;h.j=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.$ta=void 0;g=a(349);l=a(375);m=a(119);d=a(81);f=a(141);ja(c,l.IO);c.prototype.wMb=function(h,k,n){var p,q,t,u;p=this;q=Z(m.Os(function(w){return w.gL;},h));h=q.next().value;q=q.next().value;q=Z(m.Os(function(w){return w.streams && 0 < w.streams.length;},q));t=q.next().value;q.next().value.forEach(function(w){return p.log.warn("Audio track is missing streams",p.XTa(w));});u=this.config.Bra;q=Z(m.Os(function(w){return 0 === u.length || 0 <= u.indexOf(w.ho);},t));t=q.next().value;q.next().value.forEach(function(w){return p.log.warn("Audio track is not supported",p.XTa(w));});h=[].concat(ba(t),ba(h)).map(function(w){var v,x;x=w.ho;x={type:d.Ph.audio,trackId:w.Ms,Hu:w.Xra,ho:f.HY[x.toLowerCase()] || f.fq.OH,vM:x,hm:w.language,displayName:w.R3,channels:w.channels,$4b:w.channels,Rl:p.Dyb(w.Ms,k,n),Hh:{Bcp47:w.language,TrackId:w.Ms},streams:[],isNative:w.isNative,fL:w.gL,v7:w.v7};x.streams=p.i5a(w.streams,x);p.log.trace("Transformed audio track",x,{StreamCount:x.streams.length,AllowedTimedTextTracks:x.Rl.length});x.wpb=g.aua[null === (v=x.streams[0]) || void 0 === v?void 0:v.mg];return x;});if(!h.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:h.length});return h;};c.prototype.Bmb=function(h){var k,n;k=this;n=this.config.kia;if(n){if(h=Z(h.filter(function(p){return p.hm == n || p.trackId == n;})).next().value)return h;}else if(this.j.S1 && (h=Z(h.filter(function(p){return p.trackId == k.j.S1;})).next().value))return h;};c.prototype.XTa=function(h){return {language:h.R3,bcp47:h.language,type:h.ho};};c.prototype.Dyb=function(h,k,n){return k.filter(function(p){return p.oh.Pb === h;}).map(function(p){return p.oh.fl;}).map(function(p){return n.find(function(q){return q.trackId === p;});}).filter(Boolean);};b.$ta=c;},function(r,b,a){var g,l,m,d;function c(f,h){return l.IO.call(this,f,h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RGa=void 0;g=a(119);l=a(375);m=a(81);d=a(141);ja(c,l.IO);c.prototype.MMb=function(f){var h,k;h=this;f=Z(g.Os(function(n){return n.streams && 0 < n.streams.length;},f));k=f.next().value;f.next().value.forEach(function(n){return h.log.warn("Video track is missing streams",{trackId:n.Ms});});f=k.map(function(n){var p;p=n.ho;p={type:m.Ph.video,trackId:n.Ms,Hu:n.Xra,ho:d.HY[p.toLowerCase()] || d.fq.OH,vM:p,streams:[],Hh:{},Vs:n.Vs};p.streams=h.i5a(n.streams,p);h.log.trace("Transformed video track",{StreamCount:p.streams.length});return p;});if(!f.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:f.length});return f;};c.prototype.IMb=function(f){var h;h=f.map(function(k){return k.Vs;}).filter(Boolean);h=[].concat.apply([],ba(h)).map(function(k){return k.$;});f=f.map(function(k){return k.eha;}).filter(Boolean).map(function(k){return k.$;});return 0 < h.length?h:f;};b.RGa=c;},function(r,b,a){var g,l,m,d,f,h;function c(k,n){k=l.Ye.call(this,k,"ManifestParserConfigImpl") || this;k.Wj=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;r=a(0);g=a(1);l=a(43);m=a(35);d=a(42);f=a(131);h=a(48);ja(c,l.Ye);Ua.Object.defineProperties(c.prototype,{Bra:{configurable:!0,enumerable:!0,get:function(){return [];}},kia:{configurable:!0,enumerable:!0,get:function(){return "";}},bfa:{configurable:!0,enumerable:!0,get:function(){return [];}},afa:{configurable:!0,enumerable:!0,get:function(){return [];}},nia:{configurable:!0,enumerable:!0,get:function(){return "";}},Aka:{configurable:!0,enumerable:!0,get:function(){return 0;}},uN:{configurable:!0,enumerable:!0,get:function(){return this.Wj.uN.da(h.yt);}},xv:{configurable:!0,enumerable:!0,get:function(){return this.Wj.xv;}}});a=c;r.__decorate([d.config(d.p7,"supportedAudioTrackTypes")],a.prototype,"Bra",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"kia",null);r.__decorate([d.config(d.lsa,"cdnIdWhiteList")],a.prototype,"bfa",null);r.__decorate([d.config(d.lsa,"cdnIdBlackList")],a.prototype,"afa",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"nia",null);r.__decorate([d.config(d.Xy,"imageSubsResolution")],a.prototype,"Aka",null);r.__decorate([d.config(d.Xy,"timedTextSimpleFallbackThreshold")],a.prototype,"uN",null);r.__decorate([d.config(d.p7,"timedTextProfiles")],a.prototype,"xv",null);a=r.__decorate([g.O(),r.__param(0,g.l(m.$l)),r.__param(1,g.l(f.UO))],a);b.oAa=a;},function(r,b){function a(c){this.ic=c;this.gb=JSON.stringify(this.EAb());}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;a.prototype.EAb=function(){var c;c=[];(!this.ic.Hk || 0 >= this.ic.Hk.length) && c.push({error:"No CDN."});this.ic.DR || c.push({error:"No default audio track.",foundTracks:this.Ria(this.ic.Mo)});this.ic.Hga || c.push({error:"No default video track.",foundTracks:this.Ria(this.ic.io)});this.ic.Gga || c.push({error:"No default subtitle track.",foundTracks:this.Ria(this.ic.Rl)});return c;};a.prototype.Ria=function(c){return c && 0 < c.length?c.map(function(g){return g.trackId;}):"No tracks found.";};b.xAa=a;},function(r,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;r=a(0);g=a(1);l=a(224);c.prototype.decode=function(m){var d,f;d=this.NBb(m.cdns);f=this.Vzb(m);return {movieId:m.movieId,packageId:m.packageId,duration:m.runtime,locations:this.aja(m.locations),servers:d,audio_tracks:this.getAudioTracks(m.audioTracks),video_tracks:this.getVideoTracks(m.videoTracks,m.videoEncrypted?m.psshb64:void 0),cdnResponseData:m.cdnResponseData,isSupplemental:m.isSupplemental,choiceMap:m.branchMap,watermarkInfo:m.watermark,drmVersion:0,playbackContextId:m.playbackContextId,bookmark:m.bookmark.position / 1E3,hasDrmProfile:!0,hasDrmStreams:m.videoEncrypted,hasClearProfile:!1,hasClearStreams:!m.videoEncrypted,defaultTrackOrderList:this.yzb(m),timedtexttracks:this.hCb(m.textTracks,d),media:this.JAb(m.media),trickplays:this.mCb(m.trickPlayTracks),drmContextId:m.drmContextId,dpsid:null,isBranching:! !m.branchMap,clientIpAddress:m.clientIpAddress,drmType:"",expiration:f.expiration,urlExpirationDuration:f.t6a,manifestExpirationDuration:f.t6a,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:"",type:"standard"};};c.prototype.yzb=function(m){var d,f,h;d=Z(m.defaultMedia.split("|"));f=d.next().value;h=d.next().value;d=d.next().value;return [{mediaId:m.defaultMedia,audioTrackId:f,videoTrackId:h,subtitleTrackId:d,preferenceOrder:0}];};c.prototype.aja=function(m){return m?m.map(function(d){return {key:d.id,rank:d.rank,level:d.level,weight:d.weight};}):[];};c.prototype.NBb=function(m){return m?m.map(function(d){return {name:d.name,type:d.type,id:Number(d.id),key:d.locationId,rank:d.rank,lowgrade:d.isLowgrade};}):[];};c.prototype.ZTa=function(m){return Object.entries(m).map(function(d){var f;f=Z(d);d=f.next().value;f=f.next().value;return {cdn_id:Number(d),url:f};});};c.prototype.getAudioTracks=function(m){var d;d=this;return m?m.map(function(f){var h;h=f.downloadables;return {type:0,channels:f.channels,language:f.bcp47,languageDescription:f.language,trackType:f.trackType,streams:d.Gyb(h,f),channelsFormat:f.channelsLabel,surroundFormatLabel:f.channelsLabel,profile:h && h.length?h[0].contentProfile:void 0,rawTrackType:f.trackType.toLowerCase(),new_track_id:f.id,track_id:f.id,id:f.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,isNoneTrack:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};c.prototype.Gyb=function(m,d){var f;f=this;return m?(m=m.map(function(h){return {type:0,trackType:d.trackType,content_profile:h.contentProfile,downloadable_id:h.downloadableId,bitrate:h.bitrate,language:d.bcp47,urls:f.ZTa(h.urls),isDrm:! !h.isEncrypted,new_stream_id:h.id,size:h.size,channels:d.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),m.sort(function(h,k){return h.bitrate - k.bitrate;}),m):[];};c.prototype.getVideoTracks=function(m,d){var f;f=this;return m?m.map(function(h){return {type:1,trackType:"PRIMARY",streams:f.vCb(h.downloadables,h.trackType),profile:"",new_track_id:h.id,track_id:h.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:! !d,hasClearProfile:!1,hasClearStreams:!d,drmHeader:d && d.length?{bytes:d[0],checksum:"",keyId:d[0].substr(d.length - 25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};c.prototype.vCb=function(m,d){var f;f=this;return m?(m=m.map(function(h){return {type:1,trackType:d,content_profile:h.contentProfile,downloadable_id:h.downloadableId,bitrate:h.bitrate,urls:f.ZTa(h.urls),pix_w:h.width,pix_h:h.height,res_w:h.width,res_h:h.height,hdcp:h.hdcpVersions,vmaf:h.vmaf,size:h.size,isDrm:h.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:h.framerate_value,framerate_scale:h.framerate_scale,crop_x:h.cropParamsX,crop_y:h.cropParamsY,crop_w:h.cropParamsWidth,crop_h:h.cropParamsHeight};}),m.sort(function(h,k){return h.bitrate - k.bitrate;}),m):[];};c.prototype.hCb=function(m,d){var f;f=this;return m?m.map(function(h){return {type:"timedtext",trackType:"SUBTITLES" === h.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:h.trackType.toLowerCase(),language:h.bcp47 || null,languageDescription:h.language,new_track_id:h.id,id:h.id,isNoneTrack:h.isNone,isForcedNarrative:h.isForced,downloadableIds:f.cCb(h.downloadables),ttDownloadables:f.dCb(h.downloadables),isLanguageLeftToRight:! !h.isLanguageLeftToRight,cdnlist:d};}):[];};c.prototype.cCb=function(m){return m?m.reduce(function(d,f){d[f.contentProfile]=f.downloadableId;return d;},{}):{};};c.prototype.qBb=function(m){var d;d=l.FY.qja();m=m.filter(function(f){return f.isImage;});return 0 === m.length?d:0 < m.filter(function(f){return f.pixHeight === d;}).length?d:Math.min.apply(Math,ba(m.map(function(f){return f.pixHeight;})));};c.prototype.dCb=function(m){var d;if(m){d=this.qBb(m);return m.reduce(function(f,h){h.isImage && h.pixHeight !== d || (f[h.contentProfile]={size:h.size,textKey:null,isImage:h.isImage,midxOffset:h.offset,height:h.pixHeight,width:h.pixWidth,downloadUrls:h.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return f;},{});}return {};};c.prototype.JAb=function(m){return m?m.map(function(d){return {id:d.mediaId,tracks:{AUDIO:d.tracks.find(function(f){return "AUDIO" === f.type;}).id,VIDEO:d.tracks.find(function(f){return "VIDEO" === f.type;}).id,TEXT:d.tracks.find(function(f){return "TEXT" === f.type;}).id}};}):[];};c.prototype.mCb=function(m){var d;if(m){d=[];m.map(function(f){f.downloadables.map(function(h){d.push({downloadable_id:h.downloadableId,size:h.size,urls:Object.values(h.urls),id:h.id,interval:h.interval,pixelsAspectY:h.pixWidth,pixelsAspectX:h.pixHeight,width:h.resWidth,height:h.resHeight});});});return d;}return [];};c.prototype.Vzb=function(m){var d;d=0;m.videoTracks.forEach(function(f){f.downloadables && f.downloadables.forEach(function(h){d=d?Math.min(h.validFor,d):h.validFor;});});m.audioTracks.forEach(function(f){f.downloadables && f.downloadables.forEach(function(h){d=d?Math.min(h.validFor,d):h.validFor;});});return {t6a:1E3 * d,expiration:m.clientGenesis + 1E3 * d};};c.prototype.encode=function(){throw Error("encode not supported");};a=r.__decorate([g.O()],c);b.uAa=a;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u){this.sa=p;this.ZHb=q;this.MGb=t;this.WHb=u;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;r=a(0);g=a(380);l=a(1);m=a(38);d=a(4);f=a(381);h=a(382);k=a(41);n=a(2);c.prototype.create=function(p){var q;if(this.sFb(p))throw k.Ec.gZb(n.J.s$,n.K.geb,p);q=this.MGb();this.nFb(p)?(p.clientGenesis=p.clientGenesis || this.sa.Ne.da(d.ia),p=this.ZHb.decode(p),q.Qkb(p)):q.Lda(p.links);this.WHb.dK(p);return {Bc:p,oj:q,GVa:!1};};c.prototype.sFb=function(p){return ("type" in p) && "muxed" === p.type;};c.prototype.nFb=function(p){return ("runtime" in p) && ! !p.runtime;};a=c;a=r.__decorate([l.O(),r.__param(0,l.l(m.hi)),r.__param(1,l.l(g.vAa)),r.__param(2,l.l(f.wCa)),r.__param(3,l.l(h.lAa))],a);b.mAa=a;},function(r,b,a){var g,l;function c(m){this.iwb=m;this.XHb={xn:"drmType",K5b:"drmVersion",expiration:"expiration",Y6b:"isUsingLegacyBatchingAPI",hE:"bookmark",H:"movieId",up:"packageId",duration:"duration",Di:"playbackContextId",OOa:["defaultTrackOrderList",{DL:"mediaId",Y9b:"videoTrackId",lVb:"subtitleTrackId",jA:"audioTrackId",B8b:"preferenceOrder"}],wl:"drmContextId",bDb:"hasDrmProfile",aDb:"hasClearProfile",R2:"hasDrmStreams",jUa:"hasClearStreams",Nn:["locations",{tg:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],ft:["servers",{id:"id",name:"name",type:"type",tg:"rank",XWa:"lowgrade",Kub:["dns",{host:"host",MEb:"ipv4",NEb:"ipv6",Txb:"forceLookup"}],key:"key"}],KLa:["audio_tracks",{type:"type",ho:"trackType",Ms:"new_track_id",Xra:"track_id",UOb:"profileType",GUb:"stereo",profile:"profile",channels:"channels",language:"language",Gob:"channelsFormat",v7:"surroundFormatLabel",R3:"languageDescription",D5b:"disallowedSubtitleTracks",y5b:"defaultTimedText",isNative:"isNative",gL:"isNoneTrack",streams:["streams",{aha:"downloadable_id",size:"size",pR:"content_profile",ho:"trackType",bitrate:"bitrate",Qx:"isDrm",urls:["urls",{LMa:"cdn_id",url:"url"}],aKb:"new_stream_id",type:"type",channels:"channels",Gob:"channelsFormat",v7:"surroundFormatLabel",language:"language",F4b:"audioKey"}],wpb:"codecName",vM:"rawTrackType",id:"id"}],cz:["video_tracks",{ho:"trackType",Ms:"new_track_id",type:"type",Xra:"track_id",bDb:"hasDrmProfile",aDb:"hasClearProfile",R2:"hasDrmStreams",jUa:"hasClearStreams",streams:["streams",{aha:"downloadable_id",size:"size",pR:"content_profile",ho:"trackType",bitrate:"bitrate",Qx:"isDrm",urls:["urls",{LMa:"cdn_id",url:"url"}],aKb:"new_stream_id",type:"type",x8b:"peakBitrate",uub:"dimensionsCount",vub:"dimensionsLabel",u_a:"pix_w",t_a:"pix_h",jRb:"res_w",iRb:"res_h",atb:"crop_x",btb:"crop_y",$sb:"crop_w",Zsb:"crop_h",byb:"framerate_value",ayb:"framerate_scale",m9b:"startByteOffset",mb:"vmaf"}],UOb:"profileType",GUb:"stereo",profile:"profile",uub:"dimensionsCount",vub:"dimensionsLabel",eha:["drmHeader",{$:"bytes",Vob:"checksum",zl:"keyId"}],Vs:["prkDrmHeaders",{$:"bytes",Vob:"checksum",zl:"keyId",w6:["resolution",{height:"height",width:"width"}]}],An:"flavor",L6b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",pNb:"pixelAspectX",qNb:"pixelAspectY",v7b:"maxCroppedWidth",u7b:"maxCroppedHeight",w7b:"maxCroppedX",x7b:"maxCroppedY",C7b:"max_framerate_value",B7b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Q7b:"minCroppedWidth",P7b:"minCroppedHeight",R7b:"minCroppedX",S7b:"minCroppedY",Vf:["license",{KGb:"licenseResponseBase64",G8b:"providerSessionToken",I5b:"drmSessionId",links:["links",{}]}]}],KMa:["cdnResponseData",{pG:"sessionABTestCell",sy:"pbcid"}],Ro:["choiceMap",{je:"initialSegment",type:"type",aa:"viewableId",ya:["segments",{oD:[l.oD,{Zb:"startTimeMs",Mc:"endTimeMs",next:["next",{oD:[l.oD,{weight:"weight"}]}],Cg:"defaultNext"}]}]}],uEb:["initialHeader",{Y:["fragments",{ta:"endPts"}]}],media:["media",{id:"id",oh:["tracks",{Pb:"AUDIO",fl:"TEXT",Bb:"VIDEO"}]}],eWb:["timedtexttracks",{ho:"trackType",Ms:"new_track_id",type:"type",wra:"subType",vM:"rawTrackType",R3:"languageDescription",language:"language",id:"id",gL:"isNoneTrack",ala:"isForcedNarrative",Xub:["downloadableIds",{}],yob:["cdnlist",{id:"id",name:"name",type:"type",tg:"rank",XWa:"lowgrade",Kub:["dns",{host:"host",MEb:"ipv4",NEb:"ipv6",Txb:"forceLookup"}],key:"key"}],XWb:["ttDownloadables",{oD:[l.oD,{size:"size",v9b:"textKey",E6b:"hashValue",D6b:"hashAlgo",T6b:"isImage",cna:"midxOffset",$Xa:"midxSize",height:"height",width:"width",qx:["downloadUrls",{}]}]}],E3:"isLanguageLeftToRight",zs:"headIdentDuration"}],OWb:["trickplays",{aha:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",sNb:"pixelsAspectY",rNb:"pixelsAspectX",width:"width",height:"height",zs:"headIdentDuration"}],N6a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],H5b:"dpsid",jj:"isBranching",Z9b:"viewableType",type:"type",lF:"isSupplemental",npb:"clientIpAddress",P9b:"urlExpirationDuration",p7b:"manifestExpirationDuration",n9b:["steeringAdditionalInfo",{o9b:"steeringId",A4b:"additionalGroupNames",p9b:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;r=a(0);g=a(1);l=a(209);c.prototype.dK=function(m){this.iwb.dK(m,this.XHb);};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.axa))],a);b.kAa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.jc=b.Ds=void 0;(function(c){c[c.ji=0]="STOPPED";c[c.Dc=1]="BUFFERING";c[c.Xe=2]="REBUFFERING";c[c.Kj=3]="STREAMING";c[c.dP=4]="TRACK_SWITCH";})(a || (a={}));b.jc=a;b.Ds=function(c){return c === a.Dc || c === a.Xe || c === a.dP;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(792),b);r.__exportStar(a(793),b);r.__exportStar(a(794),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M$=void 0;r=b.M$ || (b.M$={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.lz=1]="HAVE_SOMETHING";r[r.Rv=2]="HAVE_MINIMUM";r[r.xH=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a || (a={});r[r.zg=0]="STARTING";r[r.Dc=1]="BUFFERING";r[r.Xe=2]="REBUFFERING";r[r.oc=3]="PLAYING";r[r.aq=4]="STOPPING";r[r.ji=5]="STOPPED";r[r.wh=6]="PAUSED";b.ga=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(814),b);r.__exportStar(a(815),b);r.__exportStar(a(816),b);r.__exportStar(a(817),b);r.__exportStar(a(818),b);r.__exportStar(a(819),b);r.__exportStar(a(820),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(822),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jw=void 0;r=b.jw || (b.jw={});r[r.Pcb=0]="PLAYGRAPH_CHANGED";r[r.Rcb=1]="PLAYGRAPH_UNCHANGED";r[r.ccb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.B$a=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.A$a=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Sdb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.i7a=6]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rta=void 0;c=a(16);r=(function(){function g(l){this.config=l;}g.prototype.qm=function(l,m){return this.config.o7 || m !== c.jc.Kj?l.filter(function(d){return d.Cu;}):l;};return g;})();b.Rta=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mD=void 0;r=a(0);c=a(20);g=r.__importDefault(a(3));l=a(384);a=(function(){function m(d){this.console=d;this.KOa=[];this.cMa={};this.$Oa=!1;}m.prototype.Om=function(d,f){this.KOa=d;void 0 !== f?this.cMa[f]=d:this.$Oa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.$Oa=!0);};m.prototype.qm=function(d){var f,h,k,n,p;f=this;if(0 === d.length)return d;n=d[0].aa;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=g.default.Xr) || void 0 === h?void 0:h.call(g.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.cMa[n]) && void 0 !== k?k:this.KOa;c.ma && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return l.eea(q.profile,q.bitrate,p,f.console).inRange;});c.ma && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return m;})();b.mD=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tta=void 0;r=(function(){function a(c){var g;g=this;c.mN && c.mN.enabled && c.mN.profiles && c.mN.profiles.length && "keepLowest" === c.mN.action && (this.iWa={},c.mN.profiles.forEach(function(l){return g.iWa[l]=!0;}));}a.prototype.qm=function(c){var g,l;g={};l=this.iWa;return void 0 === l?c:c.filter(function(m){return !l[m.profile] || (g[m.profile]?!1:g[m.profile]=!0);});};return a;})();b.Tta=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pta=void 0;r=(function(){function a(c){this.config=c;}a.prototype.qm=function(c){var g;g=this.config;return c.filter(function(l){return !(void 0 !== l.mb && (l.mb < g.BF || l.mb > g.rXa) || (void 0 === l.mb || 0 >= g.BF) && l.bitrate < g.dna || (void 0 === l.mb || Infinity === g.rXa) && l.bitrate > g.mIb);});};return a;})();b.Pta=r;},function(r,b,a){var g;function c(l,m){m=Math.max(l,m);return isNaN(m)?l || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.yta=void 0;g=a(16);r=(function(){function l(m){this.config=m;this.j6=0;this.state=g.jc.ji;this.kYa=c(m.dna,m.B4);this.kna=c(m.BF,m.PT);}l.prototype.qm=function(m,d){var f;f=this;if(d !== this.state){this.state=d;if(d === g.jc.Dc || d === g.jc.dP)return m;d === g.jc.Xe && this.K0a();}return m.filter(function(h){return !(void 0 !== h.mb && h.mb < f.kna || (void 0 === h.mb || 0 > f.kna) && h.bitrate < f.kYa);});};l.prototype.K0a=function(){++this.j6;this.kna=c(this.config.BF,this.config.PT - this.config.nJb * this.j6);this.kYa=this.config.dna || -Infinity;};return l;})();b.yta=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ota=void 0;c=a(29);r=(function(){function g(l){this.config=l;}g.prototype.DTb=function(l){return l % 100 + 1 <= this.config.koa;};g.prototype.qm=function(l){var m,d,f,h,k,n,p,q,t,u,w;p=Number(null === (m=l[0]) || void 0 === m?void 0:m.H);if(!(this.config.s1 && this.DTb(p) && 0 < this.config.y6.length))return l;m=l.length;q=null !== (d=l[m - 1].x6) && void 0 !== d?d:0;if(d=c.kg(this.config.y6,function(v){return v.M8b >= q && v.L1a <= q;})){for(p=0;p < m;p++){t=l[Math.max(p - 1,0)];u=l[p];if(!((null !== (f=u.x6) && void 0 !== f?f:0) < d.L1a || (null !== (h=t.x6) && void 0 !== h?h:0) < d.L1a)){w=null !== (k=u.mb) && void 0 !== k?k:Infinity;t=null !== (n=t.mb) && void 0 !== n?n:Infinity;if(!(t < d.V7b || t < d.U7b && u.bitrate < d.maxBitrate || !w && u.bitrate < d.t7b))break;}}return l.slice(0,p);}return l;};return g;})();b.Ota=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.q$=b.S8=void 0;c=a(29);b.S8={qm:function(g){return g.filter(function(l){return l.Iu && !l.aB;});}};b.q$={qm:function(g){return (g=c.kg(g,function(l){return ! !l.Iu && !l.aB;}))?[g]:[];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eD=void 0;c=a(385);r=(function(){function g(l,m){void 0 === m && (m=!1);this.lob=m;this.filters=[];Array.isArray(l)?l.forEach(this.and.bind(this)):this.and(l);}g.prototype.and=function(l){l !== c.WC && this.filters.push({filter:l,JNa:!0});return this;};g.prototype.or=function(l){this.filters.push({filter:l,JNa:!1});return this;};g.prototype.qm=function(l,m){return this.filters.reduce(function(d,f){f.JNa?d=f.filter.qm(d,m):0 === d.length && (d=f.filter.qm(l,m));return d;},l);};return g;})();b.eD=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.r$=void 0;b.r$={qm:function(a){return [a[0]];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yE=b.xE=void 0;c=a(95);b.xE=function(g,l){l && (null === g || void 0 === g?0:g.NUa) && (l=new c.eD(l).or(c.WC));return new c.eD(c.S8).and(null !== l && void 0 !== l?l:c.WC).or(c.q$).or(c.r$);};b.yE=function(g,l){l && g.NUa && (l=new c.eD(l).or(c.WC));return new c.eD(c.S8).and(new c.Rta(g)).and(new c.Pta(g)).and(new c.yta(g)).and(new c.Tta(g)).and(g.s1?new c.Ota(g):c.WC).and(null !== l && void 0 !== l?l:c.WC).or(c.q$).or(c.r$);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nta=void 0;c=a(0);r=(function(g){function l(m,d){m=g.call(this,l.qyb(m,d)) || this;m.ogb=d;m.name="AggregateError";return m;}c.__extends(l,g);l.qyb=function(m,d){return d.reduce(function(f,h){return f + "\n" + h;},m);};Object.defineProperties(l.prototype,{yu:{get:function(){return this.ogb;},enumerable:!1,configurable:!0}});return l;})(Error);b.nta=r;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jAa=void 0;c=a(0);g=a(17);l=a(229);m=a(865);r=c.__importDefault(a(3));d=a(872);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(h){function k(n,p){var q;q=h.call(this) || this;q.G=n;q.Ig=new d.pza(n,p);(n.LE || n.dW) && q.MNa(p);q.qg=new g.sh();f.forEach(function(t){q.qg.on(q.Ig,t,function(u){return q.emit(t,u);});q.Pm && q.qg.on(q.Pm,t,function(u){return q.emit(t,u);});});return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{tb:{get:function(){return this.Ig.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cm:{get:function(){return this.Ig.Cm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ht:{get:function(){return this.Ig.ht;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ly:{get:function(){return this.Ig.Ly;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sla:{get:function(){return this.Ig.sla;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ZB:{get:function(){return this.Ig.ZB;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ef:{get:function(){return this.Ig.ef;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dh:{get:function(){return this.Ig.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wka:{get:function(){return this.Ig.wka;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{BT:{get:function(){return this.Ig.BT.bind(this.Ig);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{f2:{get:function(){return this.Ig.f2.bind(this.Ig);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oA:{get:function(){var n;n=this;return function(){n.Qpa();n.Ig.oA();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Uea:{get:function(){var n;n=this;return function(){n.Qpa();n.Ig.Uea();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ax:{get:function(){var n;n=this;return function(){n.Qpa();n.Ig.ax();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ko:{get:function(){var n;n=this;return function(p,q,t){var u;null === (u=n.ef) || void 0 === u?void 0:u.Ko(p,q,t);};},enumerable:!1,configurable:!0}});k.prototype.MNa=function(n){return this.Pm=new (a(996).iFa)(this.G,this.ax,this.Ko,n);};k.prototype.Wa=function(n,p,q,t,u,w){this.Ig.Wa(n,p,q,t,u,w);this.Pm?this.Pm.Wa(n,p,q,t,u,w):this.oWa={umb:n,FYb:p,$r:q,Ly:t,ZB:u,NIb:w};};k.prototype.rV=function(n,p,q){this.Ig.rV(n,p,q);this.Pm?this.Pm.rV(n,p,q):this.sWa={WUb:n,Ly:p,ZB:q};};k.prototype.createSession=function(n,p,q,t,u,w,v,x,y,z){var B,A,E,D,F;B=this;x || (x=this.Ig.config);x.dW && (x.LE=!0,x.mC=!0);if(x.LE && !this.Pm){A=this.MNa(this.Ig.gC);f.forEach(function(C){B.qg.on(B.Pm,C,function(G){return B.emit(C,G);});});if(this.oWa){E=this.oWa;D=E.Ly;F=E.ZB;A.Wa(E.umb,E.FYb,E.$r,D,F,E.NIb);}this.sWa && (F=this.sWa,E=F.WUb,D=F.Ly,F=F.ZB,A.rV(E,D,F));}return this.Pm && x && x.mC?(x.qq || x.HF || this.Ig.ax(),this.Pm.createSession(n,p,q,t,u,w,v,x,y,z)):this.Ig.createSession(n,p,q,t,u,w,v,x,y,z);};k.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};k.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};k.prototype.Gb=function(){var n;this.qg.clear();this.Ig.Gb();null === (n=this.Pm) || void 0 === n?void 0:n.Gb();l.lH.reset();};k.prototype.Qpa=function(){var n,p;this.G.qq || this.G.HF || (null === (n=this.Pm) || void 0 === n?void 0:n.Ga.state) !== m.vr.OPEN || (null === (p=this.Pm) || void 0 === p?void 0:p.Ga.ev.reset());};return k;})(g.EventEmitter);b.jAa=r;},function(r){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,g,l,m){l=m?l.bind(m):l;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addListener)c.addListener(g,l);else if("function" === typeof c.addEventListener)c.addEventListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={Fdb:a(843),a_b:a(844)};},function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function g(f){this.Be=null;this.bm=f;this.size=0;}function l(f){return null !== f && f.red;}function m(f,h){var k;k=f.Gg(!h);f.Fp(!h,k.Gg(h));k.Fp(h,f);f.red=!0;k.red=!1;return k;}function d(f,h){f.Fp(!h,m(f.Gg(!h),!h));return m(f,h);}b=a(386);c.prototype.Gg=function(f){return f?this.right:this.left;};c.prototype.Fp=function(f,h){f?this.right=h:this.left=h;};g.prototype=new b();g.prototype.np=function(f){var h,k,n,p,q,t,u,w,v;h=!1;if(null === this.Be)(this.Be=new c(f),h=!0,this.size++);else {k=new c(void 0);n=0;p=0;q=null;t=k;u=null;w=this.Be;for(t.right=this.Be;;){null === w?(w=new c(f),u.Fp(n,w),h=!0,this.size++):l(w.left) && l(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(l(w) && l(u)){v=t.right === q;w === u.Gg(p)?t.Fp(v,m(q,!p)):t.Fp(v,d(q,!p));}v=this.bm(w.data,f);if(0 === v)break;p=n;n=0 > v;null !== q && (t=q);q=u;u=w;w=w.Gg(n);}this.Be=k.right;}this.Be.red=!1;return h;};g.prototype.remove=function(f){var h,k,u,w,v;if(null === this.Be)return !1;h=new c(void 0);k=h;k.right=this.Be;for(var n=null,p,q=null,t=1;null !== k.Gg(t);){u=t;p=n;n=k;k=k.Gg(t);w=this.bm(f,k.data);t=0 < w;0 === w && (q=k);if(!l(k) && !l(k.Gg(t)))if(l(k.Gg(!t)))(p=m(k,t),n.Fp(u,p),n=p);else if(!l(k.Gg(!t)) && (w=n.Gg(!u),null !== w))if(l(w.Gg(!u)) || l(w.Gg(u))){v=p.right === n;l(w.Gg(u))?p.Fp(v,d(n,u)):l(w.Gg(!u)) && p.Fp(v,m(n,u));u=p.Gg(v);u.red=!0;k.red=!0;u.left.red=!1;u.right.red=!1;}else (n.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,n.Fp(n.right === k,k.Gg(null === k.left)),this.size--);this.Be=h.right;null !== this.Be && (this.Be.red=!1);return null !== q;};r.exports=g;},function(r,b,a){function c(l){this.data=l;this.right=this.left=null;}function g(l){this.Be=null;this.bm=l;this.size=0;}b=a(386);c.prototype.Gg=function(l){return l?this.right:this.left;};c.prototype.Fp=function(l,m){l?this.right=m:this.left=m;};g.prototype=new b();g.prototype.np=function(l){if(null === this.Be)return (this.Be=new c(l),this.size++,!0);for(var m=0,d=null,f=this.Be;;){if(null === f)return (f=new c(l),d.Fp(m,f),ret=!0,this.size++,!0);if(0 === this.bm(f.data,l))return !1;m=0 > this.bm(f.data,l);d=f;f=f.Gg(m);}};g.prototype.remove=function(l){var m,d,n;if(null === this.Be)return !1;m=new c(void 0);d=m;d.right=this.Be;for(var f=null,h=null,k=1;null !== d.Gg(k);){f=d;d=d.Gg(k);n=this.bm(l,d.data);k=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,f.Fp(f.right === d,d.Gg(null === d.left)),this.Be=m.right,this.size--,!0):!1;};r.exports=g;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Zp=b.Kdb=void 0;c=a(0);g=a(387);r=(function(){function l(m,d){this.o=m;this.Gx=d?[d]:[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});l.prototype.addListener=function(m){-1 === this.Gx.indexOf(m) && (this.Gx=this.Gx.slice(),this.Gx.push(m));};l.prototype.removeListener=function(m){m=this.Gx.indexOf(m);-1 !== m && (this.Gx=this.Gx.slice(),this.Gx.splice(m,1));};return l;})();b.Kdb=r;r=(function(l){function m(d,f){return l.call(this,d,f) || this;}c.__extends(m,l);m.Psa=function(d,f,h){return new g.P$(d,f,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.o;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var f;f=this.o;f !== d && (this.o=d,this.Gx.forEach(function(h){return h({oldValue:f,newValue:d});}));};return m;})(r);b.Zp=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jBa=void 0;c=a(29);g=a(5);r=(function(){function l(){this.data={};}Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,f){return d + m.data[f].length;},0);},enumerable:!1,configurable:!0}});l.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};l.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};l.prototype.count=function(m){return (m=this.data[m])?m.length:0;};l.prototype.keys=function(){return Object.keys(this.data);};l.prototype.values=function(){var m;m=this;return c.flatten(this.keys().map(function(d){return m.data[d];}));};l.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};l.prototype.clear=function(){this.data={};};l.prototype.delete=function(m,d){var f,h;f=this.data[m];if(void 0 === f)return !1;if(void 0 === d)return (g.assert(1 === arguments.length),delete this.data[m],!0);h=f.indexOf(d);if(-1 === h)return !1;1 === f.length?delete this.data[m]:f.splice(h,1);return !0;};l.prototype.forEach=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return f.data[h].forEach(function(k){return m(k,h,f);});});};l.prototype.reduce=function(m,d,f){var h,k;h=this;m=void 0 !== f?m.bind(f):m;k=d;this.forEach(function(n,p){k=m(k,n,p,h);});return k;};l.prototype.map=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return f.data[h].map(function(k){return m(k,h,f);});}));};l.prototype.filter=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return f.data[h].filter(function(k){return m(k,h,f);});}));};return l;})();b.jBa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SQa=void 0;b.SQa=function(a,c){return a.filter(function(g){var l,m;g=null !== (m=null !== (l=g.ek) && void 0 !== l?l:g.cT) && void 0 !== m?m:g.Dj;return ! !g && g.rF(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mFa=b.lFa=void 0;c=a(29);r=(function(){function g(l){this.o=l;this.listeners=[];this.oU=[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});g.prototype.set=function(l){var m;this.o=l;m=this.oU;this.oU=[];this.listeners.forEach(function(d){return d(l);});m.forEach(function(d){return d(l);});};g.prototype.K1a=function(){this.o=void 0;};g.prototype.on=function(l){this.listeners=this.listeners.concat([l]);void 0 !== this.o && l(this.o);};g.prototype.once=function(l){void 0 !== this.o?l(this.o):this.oU.push(l);};g.prototype.KF=function(l){this.listeners=this.listeners.filter(function(m){return m !== l;});this.oU=this.oU.filter(function(m){return m !== l;});};return g;})();b.lFa=r;r=(function(){function g(){this.listeners=[];}g.prototype.on=function(l,m){this.listeners.push({signal:l,listener:m});l.on(m);};g.prototype.once=function(l,m){var d,f;d=this;if(void 0 === l.value){f=function(h){d.remove(l,m);m(h);};this.listeners.push({signal:l,listener:m,S6a:f});l.once(f);}else l.once(m);};g.prototype.KF=function(l,m){var d,f;f=c.kg(this.listeners,function(h){return h.signal === l && h.listener === m;});void 0 !== f && l.KF(null !== (d=f.S6a) && void 0 !== d?d:f.listener);this.remove(l,m);};g.prototype.removeAllListeners=function(){this.listeners.forEach(function(l){var m,d;m=l.listener;d=l.S6a;return l.signal.KF(null !== d && void 0 !== d?d:m);});this.listeners=[];};g.prototype.remove=function(l,m){this.listeners=this.listeners.filter(function(d){return d.signal !== l || d.listener !== m;});};return g;})();b.mFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kT=void 0;b.kT=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IOa=void 0;b.IOa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var g;function c(l,m,d){var f,k,n;if(l === m || !d.dC && l == m)return !0;if(typeof l !== typeof m)return !1;if(l && "object" === typeof l){for(var h in l){if(!c(l[h],m[h],d))return !1;}if(!d.Lob){k=Object.keys(l);n=Object.keys(m).filter(function(u){return 0 > k.indexOf(u);});try{for(var p=g.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(l[h],m[h],d)))return !1;}}catch(u){var t;t={error:u};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(t)throw t.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.Etb=void 0;g=a(0);b.Etb=function(l,m,d){void 0 === d && (d={});d=g.__assign({dC:!1,Lob:!1},d);return c(l,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DY=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Aa=NaN;}Object.defineProperties(a.prototype,{Xq:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Aa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Aa+=(c - this.Aa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Aa};};return a;})();b.DY=r;},function(r,b,a){var g;function c(l){this.NM=new Uint16Array(l.length);for(var m=0;m < l.length;++m){this.NM[m]=l.charCodeAt(m);}}g=new (a(3).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(l){var m;m=this.NM.length;if(void 0 === this.NM)g.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",f=0;f < l.length;++f){d+=String.fromCharCode(this.NM[f % m] ^ l.charCodeAt(f));}return encodeURIComponent(d);}};c.prototype.decrypt=function(l){var m,d;m="";d=this.NM.length;l=decodeURIComponent(l);for(var f=0;f < l.length;f++){m+=String.fromCharCode(this.NM[f % d] ^ l.charCodeAt(f));}return m;};r.exports=c;},function(r){function b(a,c){this.Aa=a;this.ei=c;}b.prototype.Eoa=function(a){var c,g,l,m,f,h;c=this.Aa;g=Math.sqrt(2 * this.ei);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {l=1 > a?a:2 - a;m=Math.sqrt(-2 * Math.log(l / 2));m=-.70711 * ((2.30753 + .27061 * m) / (1 + m * (.99229 + .04481 * m)) - m);for(var d=0;2 > d;d++){f=Math.abs(m);h=1 / (1 + f / 2);f=h * Math.exp(-f * f - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));f=(0 <= m?f:2 - f) - l;m+=f / (1.1283791670955126 * Math.exp(-(m * m)) - m * f);}a=1 > a?m:-m;}return c - g * a;};r.exports=b;},function(r,b,a){var l,m,d,f;function c(h,k,n){l.call(this,h,k,n);}function g(h,k){m.call(this,new c(h,k,!1));}l=a(856);m=a(857);d=a(108).Nyb;f=a(108).tCb;c.prototype=Object.create(l.prototype);c.prototype.Aa=function(){return Math.floor(8 * d(this.wd) / this.gd);};c.prototype.ei=function(){return Math.floor(64 * f(this.wd) / (this.gd * this.gd));};c.prototype.get=function(){return {Aa:this.Aa(),ei:this.ei(),Q4b:this.wd.length};};c.prototype.toString=function(){return "bsw(" + this.jJ + "," + this.gd + "," + this.dj + ")";};g.prototype=Object.create(m.prototype);g.prototype.setInterval=function(h){this.wI.setInterval(h);};r.exports=g;},function(r){function b(a,c,g){this.jJ=a;this.dj=Math.floor((a + c - 1) / c);this.gd=c;this.ajb=g;this.reset();}b.prototype.shift=function(){this.wd.shift();this.zh.shift();};b.prototype.update=function(a,c){this.wd[a]+=c;};b.prototype.push=function(a){this.wd.push(0);this.zh.push(a?a:0);this.ab+=this.gd;};b.prototype.add=function(a,c,g,l){var m,d;if(null === this.ab){m=Math.max(Math.floor((g - c + this.gd - 1) / this.gd),1);for(this.ab=c;this.wd.length < m;){this.push(l);}}for(;this.ab < g;){if((this.push(l),this.ajb))for(;1 < this.wd.length && g + l - (this.ab - this.gd * this.wd.length + this.zh[0]) > this.jJ;){this.shift();}else this.wd.length > this.dj && this.shift();}if(c > this.ab - this.gd)this.update(this.wd.length - 1,a);else if(c == g)(l=this.wd.length - Math.max(Math.ceil((this.ab - g) / this.gd),1),0 <= l && this.update(l,a));else for(l=1;l <= this.wd.length;++l){m=this.ab - l * this.gd;d=m + this.gd;if(!(m > g)){if(d < c)break;this.update(this.wd.length - l,Math.round(a * (Math.min(d,g) - Math.max(m,c)) / (g - c)));}}for(;this.wd.length > this.dj;){this.shift();}};b.prototype.reset=function(){this.wd=[];this.zh=[];this.ab=null;};b.prototype.setInterval=function(a){this.dj=Math.floor((a + this.gd - 1) / this.gd);};r.exports=b;},function(r){function b(a){this.wI=a;this.se=0;this.eJ=null;}b.prototype.add=function(a,c,g){null !== this.eJ && c > this.eJ && (this.se+=c - this.eJ,this.eJ=null);this.wI.add(a,c - this.se,g - this.se,this.se);};b.prototype.stop=function(a){null === this.eJ && (this.eJ=a);};b.prototype.Ioa=function(a,c){return this.wI.Ioa(a,c);};b.prototype.get=function(){return this.wI.get();};b.prototype.reset=function(){this.wI.reset();};b.prototype.toString=function(){return this.wI.toString();};r.exports=b;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q;function c(t){this.$fb=t;}b=a(390);g=b.i$a;l=b.g$a;m=a(232).h$a;d=a(232).Peb;f=a(391);h=a(392);k=a(393).VFa;n=a(859);p=a(860);q=a(394);c.prototype.constructor=c;c.prototype.create=function(t,u){var w,v,x,y;w=this.$fb[t];v=u[t];x={};w && Object.keys(w).forEach(function(z){x[z]=w[z];});v && Object.keys(v).forEach(function(z){x[z]=v[z];});switch(x.type){case "slidingwindow":y=new m(x.mw);break;case "discontiguous-ewma":y=new l(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new f(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new h(x);break;case "discrete-ewma":y=new g(x.hl);break;case "tdigest-history":y=new k(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new q();break;case "entropy":y=new p(x);}y && (y.type=x.type);return y;};r.exports=c;},function(r,b,a){var g;function c(){this.bj=void 0;this.Vz=0;}g=a(8);c.prototype.getState=function(){return 0 !== this.Vz && this.bj?{p25:this.bj.Rk,p50:this.bj.rj,p75:this.bj.Sk,c:this.Vz}:null;};c.prototype.ve=function(l){if(!(!g.hb(l) && g.has(l,"p25") && g.has(l,"p50") && g.has(l,"p75") && g.has(l,"c") && g.isFinite(l.p25) && g.isFinite(l.p50) && g.isFinite(l.p75) && g.isFinite(l.c)))return (this.bj=void 0,this.Vz=0,!1);this.bj={Rk:l.p25,rj:l.p50,Sk:l.p75};this.Vz=l.c;};c.prototype.get=function(){return {C5:this.bj,dqa:this.Vz};};c.prototype.set=function(l,m){this.bj=l;this.Vz=m;};c.prototype.reset=function(){this.bj=void 0;this.Vz=0;};c.prototype.toString=function(){return "IQRHist(" + this.bj + "," + this.Vz + ")";};r.exports=c;},function(r,b,a){var g;function c(l){var m,d;m=l.sw;d=l.mw;this.iJ=m;this.uba={uhd:l.uhdl,hd:l.hdl};this.dj=Math.max(Math.ceil(1 * m / d),1);this.Ghb=l.mins || 1;g.call(this,m,d);this.reset();}g=a(143);new (a(3).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(g.prototype);c.prototype.flush=function(){this.wd.map(function(l,m){this.JKa(l,this.wia(m));},this);};c.prototype.Mnb=function(){var l,m,d,f,h,k,n,u;l=this.uba;for(m in l){if(l.hasOwnProperty(m)){d=l[m];f=this.qda[m];h=this.pda[m];if(f.first){k=f.first;n=f.XF;void 0 !== n && (h[k][n]+=1);f.first=void 0;}f=[];k=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,t=0;t < d;t++){q+=h[t][p];}k+=q;f.push(q);}q=-1;if(k > this.Ghb){for(p=q=0;p < n;p++){if(0 < f[p])for(t=0;t < d;t++){u=h[t][p];0 < u && (q-=u * Math.log(1 * u / f[p]));}}q/=k * Math.log(2);}this.Vba[m]=q;}}return this.Vba;};c.prototype.JKa=function(l,m){var k,n;for(var d=this.dj,f=this.uba;this.lZ.length >= d;){this.lZ.shift();}for(;this.mZ.length >= d;){this.mZ.shift();}this.lZ.push(l);this.mZ.push(m);l=this.lZ.reduce(function(p,q){return p + q;},0);m=this.mZ.reduce(function(p,q){return p + q;},0);if(0 < m){l=8 * l / m;for(var h in f){if(f.hasOwnProperty(h)){m=this.qda[h];d=this.pda[h];k=this.hPb(l,f[h]);n=m.XF;void 0 !== n?d[k][n]+=1:m.first=k;m.XF=k;}}}};c.prototype.hPb=function(l,m){for(var d=0;d < m.length && l > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.JKa(this.wd[0],this.wia(0));g.prototype.shift.call(this);};c.prototype.reset=function(){var l,m,d,f,h,k,n;this.qda={};this.lZ=[];this.mZ=[];this.pda={};this.Vba={};l=this.uba;for(m in l){if(l.hasOwnProperty(m)){d=this.pda;f=m;k=void 0;n=Array(k);k=h=l[m].length + 1;for(var p=0;p < k;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[f]=n;this.qda[m]={first:void 0,XF:void 0};this.Vba[m]=0;}}g.prototype.reset.call(this);};r.exports=c;},function(r,b,a){var g,l;function c(m){this.G=m;this.RP();}g=a(8);l=a(3).default;new l.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();l.storage.set("nh",m);};c.prototype.zUb=function(){this.VD || (this.VD=!0,this.Cw=l.time.ba());};c.prototype.JUb=function(){var m;if(this.VD){m=l.time.ba();this.Gw+=m - this.Cw;this.Cw=m;this.VD=!1;this.QP=null;}};c.prototype.sVa=function(m,d){this.VD && (d > this.Cw && (this.Gw+=d - this.Cw,this.Cw=d),null === this.QP || m > this.QP) && (m=d - m,this.JI.push([this.Gw - m,m]),this.Vjb(),this.QP=d);};c.prototype.Vjb=function(){var m;m=this.Gw - this.G.ZJb;this.JI=this.JI.filter(function(d){return d[0] > m;});};c.prototype.RP=function(){var m;m=l.storage.get("nh");this.hda(m) || (this.Cw=l.time.ba(),this.Gw=0,this.VD=!1,this.QP=null,this.JI=[]);};c.prototype.hda=function(m){if(!(m && g.has(m,"t") && g.has(m,"s") && g.has(m,"i") && g.pa(m.t) && g.pa(m.s) && g.isArray(m.i)))return !1;this.Cw=l.time.Fna(1E3 * m.t);this.Gw=1E3 * m.s;this.VD=!1;this.JI=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.QP=null;return !0;};c.prototype.getState=function(){return this.VD?{t:l.time.now() / 1E3 | 0,s:(this.Gw + (l.time.ba() - this.Cw)) / 1E3 | 0,i:this.JI.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:l.time.mna(this.Cw) / 1E3 | 0,s:this.Gw / 1E3 | 0,i:this.JI.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wwa=void 0;r=a(0);c=a(863);new (r.__importDefault(a(3)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var C00;C00=2;for(;C00 !== 7;){switch(C00){case 4:g.prototype.iu=function(l,m,d,f){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:f.Fe && (this.Fka?this.fC.add(l,m,d,f.Fe):this.zQ === f.Fe && this.fC.add(l,m,d,f.Fe));H00=1;break;}}};g.prototype.En=function(){var I00;I00=2;for(;I00 !== 1;){switch(I00){case 4:return this.fC.get();break;I00=1;break;case 2:return this.fC.get();break;}}};g.prototype.H5a=function(l){var J00,m,d;J00=2;for(;J00 !== 5;){switch(J00){case 2:(m=Object.keys(this.tx),d=this.tx[m[0]]);1 === m.length && !1 === d.I1?(this.fC.start(l,d.Fe),this.zQ=d.Fe):1 < m.length && this.zQ && (m=this.tx[this.zQ],this.fC.stop(l,this.zQ),m.I1=!1,this.zQ=void 0);J00=5;break;}}};return g;break;case 2:g.prototype.reset=function(){var E00;E00=2;for(;E00 !== 1;){switch(E00){case 2:this.fC=new c.Zua();E00=1;break;case 4:this.fC=new c.Zua();E00=3;break;E00=1;break;}}};g.prototype.eG=function(l,m){var F00;F00=2;for(;F00 !== 1;){switch(F00){case 2:m.Fe && (this.Fka?this.fC.start(l,m.Fe):1 === m.type && (this.tx[m.Fe]?this.tx[m.Fe].jW+=1:this.tx[m.Fe]={Fe:m.Fe,jW:1,I1:!1},this.H5a(l)));F00=1;break;}}};g.prototype.fG=function(l,m){var G00,d;G00=2;for(;G00 !== 9;){switch(G00){case 5:this.fC.stop(l,m.Fe);G00=9;break;case 1:G00=this.Fka?5:4;break;case 2:G00=m.Fe?1:9;break;case 6:G00=this.Fka?0:5;break;G00=this.Fka?5:4;break;case 4:d=this.tx[m.Fe];1 === m.type && d && (--d.jW,0 === d.jW && (d.I1 && this.fC.stop(l,m.Fe),d.I1=!1,delete this.tx[m.Fe]),this.H5a(l));G00=9;break;}}};C00=4;break;}}function g(l){var D00;D00=2;for(;D00 !== 4;){switch(D00){case 2:var q8Y="1S";q8Y+="IYbZ";q8Y+="rNJCp9";this.Fka=l;this.tx={};q8Y;D00=4;break;}}}})();b.Wwa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zua=void 0;c=a(0).__importDefault(a(394));r=(function(){var K00;K00=2;for(;K00 !== 9;){switch(K00){case 4:g.prototype.get=function(){var P00,h,k,l,m,d,f;P00=2;for(;P00 !== 8;){switch(P00){case 5:(h=m[f],k=l[h].get());k && d.push({cdnid:h,avtp:k.Aa,tm:k.h1});P00=3;break;case 3:f++;P00=1;break;case 1:P00=f < m.length?5:9;break;case 2:(l=this.TZ,m=Object.keys(l),d=[],f=0);P00=1;break;case 9:return d;break;}}};return g;break;case 2:g.prototype.add=function(l,m,d,f){var M00,h;M00=2;for(;M00 !== 4;){switch(M00){case 2:h=this.TZ;void 0 === h[f] && (h[f]=new c.default());h[f].add(l,m,d);M00=4;break;}}};g.prototype.start=function(l,m){var N00,d;N00=2;for(;N00 !== 4;){switch(N00){case 2:d=this.TZ;void 0 === d[m] && (d[m]=new c.default());d[m].start(l);N00=4;break;}}};g.prototype.stop=function(l,m){var O00,d;O00=2;for(;O00 !== 5;){switch(O00){case 2:d=this.TZ;void 0 !== d[m] && d[m].stop(l);O00=5;break;}}};K00=4;break;}}function g(){var L00;L00=2;for(;L00 !== 5;){switch(L00){case 2:var t8Y="1SIYbZrNJ";t8Y+="C";t8Y+="p9";this.TZ={};t8Y;L00=5;break;}}}})();b.Zua=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bCa=void 0;r=(function(){var Q00;Q00=2;for(;Q00 !== 3;){switch(Q00){case 4:return a;break;case 2:a.prototype.reset=function(){var S00;S00=2;for(;S00 !== 5;){switch(S00){case 2:this.sU=[0,0];this.UV=[0,0];S00=5;break;}}};a.prototype.iu=function(c,g,l,m,d){var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:this.UV[m.type]+=c;d && (this.sU[m.type]+=c);T00=5;break;}}};a.prototype.z2=function(){var U00;U00=2;for(;U00 !== 1;){switch(U00){case 2:return {bytesRequestedPacingVideo:this.sU[1],bytesRequestedPacingAudio:this.sU[0],bytestotalVideo:this.UV[1],bytestotalAudio:this.UV[0]};break;}}};Q00=4;break;}}function a(){var R00;R00=2;for(;R00 !== 4;){switch(R00){case 2:var n8Y="1";n8Y+="SI";n8Y+="YbZrNJ";n8Y+="Cp9";this.sU=[0,0];this.UV=[0,0];n8Y;R00=4;break;}}}})();b.bCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pe=void 0;r=a(0);r.__exportStar(a(395),b);r.__exportStar(a(866),b);r.__exportStar(a(233),b);r.__exportStar(a(867),b);r.__exportStar(a(868),b);r.__exportStar(a(869),b);r.__exportStar(a(870),b);r.__exportStar(a(871),b);c=a(58);Object.defineProperties(b,{pe:{enumerable:!0,get:function(){return c.pe;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.pza=void 0;c=a(0);g=c.__importStar(a(8));r=a(17);l=c.__importDefault(a(28));m=c.__importDefault(a(873));d=c.__importDefault(a(3));f=a(234);h=a(229);c.__importDefault(a(231));k=c.__importDefault(a(874));a(396);n=a(5);p=a(877);q=a(981);t=new d.default.Console("ASEJS","media|asejs");u=t.trace.bind(t);w=t.warn.bind(t);r=(function(v){var V00;V00=2;function x(y,z){var W00,B;W00=2;for(;W00 !== 13;){switch(W00){case 3:var P8Y="D";P8Y+="EB";P8Y+="U";P8Y+="G";P8Y+=":";var u8Y="nf-a";u8Y+="se versi";u8Y+="on:";u(u8Y,y,P8Y,!1);B.nca=!1;B.Mib=!1;B.QD=[];W00=6;break;case 2:B=v.call(this) || this;B.config=y;B.gC=z;y=a(438);W00=3;break;case 6:var Q8Y="1SIY";Q8Y+="bZrNJC";Q8Y+="p9";Q8Y;return B;break;}}}for(;V00 !== 26;){switch(V00){case 2:c.__extends(x,v);Object.defineProperties(x.prototype,{tb:{get:function(){var X00;X00=2;for(;X00 !== 1;){switch(X00){case 2:return this.bZ.tb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Cm:{get:function(){var Y00;Y00=2;for(;Y00 !== 1;){switch(Y00){case 4:return this.bZ.Cm;break;Y00=1;break;case 2:return this.bZ.Cm;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ht:{get:function(){var Z00;Z00=2;for(;Z00 !== 1;){switch(Z00){case 2:return this.eda;break;}}},enumerable:!1,configurable:!0}});V00=3;break;case 3:Object.defineProperties(x.prototype,{Ly:{get:function(){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 4:return this.d_;break;a10=1;break;case 2:return this.d_;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{sla:{get:function(){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:return !g.ea(this.UJa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ZB:{get:function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return this.QJa;break;case 4:return this.QJa;break;c10=1;break;}}},enumerable:!1,configurable:!0}});V00=7;break;case 20:x.prototype.ejb=function(y){var m10,z;m10=2;for(;m10 !== 4;){switch(m10){case 2:var c8Y="can't find s";c8Y+="ession in array";c8Y+=", movieId:";this.tb.ZM(null);z=this.QD.indexOf(y);g.ea(z)?w(c8Y,y.Ud.M.H):(this.QD.splice(z,1),0 === this.QD.length && this.Cm.JUb(),this.Cm.save(),this.dh.save());m10=4;break;}}};x.prototype.f2=function(y,z,B){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 4:return f.TSa(y,z,B);break;n10=1;break;case 2:return f.TSa(y,z,B);break;}}};x.prototype.oA=function(){var o10,y;o10=2;for(;o10 !== 5;){switch(o10){case 2:null === (y=this.Zt) || void 0 === y?void 0:y.flush();o10=5;break;}}};x.prototype.Uea=function(){var q10,y;q10=2;for(;q10 !== 5;){switch(q10){case 2:null === (y=this.Zt) || void 0 === y?void 0:y.$Qa();q10=5;break;}}};V00=16;break;case 7:Object.defineProperties(x.prototype,{ef:{get:function(){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:return this.Zt;break;case 4:return this.Zt;break;d10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{dh:{get:function(){var e10;e10=2;for(;e10 !== 1;){switch(e10){case 2:return this.bZ.dh;break;case 4:return this.bZ.dh;break;e10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{wka:{get:function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 2:return this.Mib;break;case 4:return this.Mib;break;f10=1;break;}}},enumerable:!1,configurable:!0}});V00=13;break;case 13:x.prototype.Wa=function(y,z,B,A,E,D){var g10,F,C;g10=2;for(;g10 !== 11;){switch(g10){case 2:(F=this,C=this.config);h.lH.reset();0 < C.Js && (!g.ea(y) && y > C.Js && (y=C.Js),z > C.Js && (z=C.Js));g10=4;break;case 9:this.QJa=E;m.default(C);this.bZ=h.lH.gTa(C,this.gC);this.eda=new k.default(C);g10=14;break;case 4:g.ea(y) && (this.UJa=z);this.d_=A;g10=9;break;case 14:g10=C.zN || C.c8?13:12;break;case 12:this.nca=!0;g10=11;break;case 13:var o8Y="m";o8Y+="edia";o8Y+="ca";o8Y+="c";o8Y+="he";var V8Y="cache";V8Y+="E";V8Y+="v";V8Y+="i";V8Y+="ct";var v8Y="f";v8Y+="lush";v8Y+="edBytes";var K8Y="disca";K8Y+="rdedB";K8Y+="y";K8Y+="tes";var j8Y="p";j8Y+="rebu";j8Y+="ffstats";(z=new q.dya(this,C,B,D),y=function(G){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:F.emit(G.type,G);h10=1;break;case 4:F.emit(G.type,G);h10=5;break;h10=1;break;}}},z.addListener(j8Y,y),z.addListener(K8Y,y),z.addListener(v8Y,y),z.addListener(V8Y,y),(C.Fsa || C.Esa) && z.addListener(o8Y,function(G){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:var T8Y="m";T8Y+="ed";T8Y+="iaca";T8Y+="ch";T8Y+="e";F.emit(T8Y,G);i10=1;break;}}}),this.Zt=z);g10=12;break;}}};x.prototype.rV=function(y,z,B){var j10;j10=2;for(;j10 !== 4;){switch(j10){case 2:this.UJa=y;this.d_=z || 0;this.QJa=B || 0;j10=4;break;}}};x.prototype.createSession=function(y,z,B,A,E,D,F,C,G,H){var k10;k10=2;for(;k10 !== 4;){switch(k10){case 9:k10=this.nca?2:2;break;k10=this.nca?1:5;break;case 2:k10=this.nca?1:5;break;case 1:return (C=C || this.config,this.tb.reset(),this.Cm.zUb(),this.eda.reset(),void 0 === D && (D=this.f2(y,z)),g.ea(this.d_) && (this.d_=d.default.Cn()[l.default.jb.Bb] <= C.tJb?0:C.HM),y=new p.hFa(this,y,H,z,B,A,E,D,F,C,G),this.QD.push(y),y);break;case 5:var O8Y="o";O8Y+="pen: str";O8Y+="e";O8Y+="amingManager not init";O8Y+="ted";w(O8Y);k10=4;break;}}};x.prototype.BT=function(y,z){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 2:return this.Zt && (y=this.Zt.BT(y,z))?y:!1;break;}}};V00=20;break;case 16:x.prototype.ax=function(){var r10,y;r10=2;for(;r10 !== 5;){switch(r10){case 2:null === (y=this.Zt) || void 0 === y?void 0:y.iub();r10=5;break;}}};x.prototype.Gb=function(){var s10;s10=2;for(;s10 !== 6;){switch(s10){case 9:this.ax();delete this.Zt;s10=7;break;case 7:h.lH.reset();s10=6;break;case 2:var m8Y="Attempted ";m8Y+="to destruct Ma";m8Y+="nager ";m8Y+="before all S";m8Y+="essions removed";n.assert(0 === this.QD.length,m8Y);this.nca=!1;delete this.bZ;delete this.eda;delete this.gC;s10=9;break;}}};return x;break;}}})(r.EventEmitter);b.pza=r;},function(r,b,a){var g,l,m,d;function c(f){var h;h=nrdp.Wh.k9b.match(/android-(\d*)/);h?23 < h[1]?f.Ara=!1:(h=nrdp.Wh.d3b.tu.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.Ara=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):f.Ara=!1;f.t7=!1;}g=a(5).assert;a(121);l=a(3).default;m=l.Wm;d=l.Qbb;r.exports=function(){var f,h,k,n;f=new l.Console("ASEJSMONKEY","media|asejs");if(!l.Wm.Rb){h=function(p){this.yhb=p;};k=d.prototype.appendBuffer;l.MediaSource.Rb || (l.MediaSource.Rb={});"undefined" !== typeof nrdp && nrdp.I_ && (c(l.MediaSource.Rb,f),l.MediaSource.Rb.nNa=!1,l.MediaSource.Rb.wYa=!1);l.Wm.Rb={KM:{k7a:!0,WH:!0,acb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.Njb || this.Yfb;},set:function(p){this.Yfb=p;}});n=m.prototype.open;m.prototype.open=function(p,q,t,u,w,v,x){1 === t && (this.Njb=new h(this));return n.call(this,p,q,t,u,w,v,x);};m.prototype.QU=function(){this.$I=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return k.call(this,p);if(p instanceof h)return this.J_(p.yhb);g(!1);};}};},function(r,b,a){var l,m;function c(){this.zw=this.DP=this.uZ=this.IZ=this.pZ=null;}function g(d){this.G=d;this.Xz=[];this.hq=new c();this.RP();}l=a(8);a(28);a(9);m=a(3).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.ve=function(d){var f;f=!1;d && l.has(d,"ens") && l.has(d,"lns") && l.has(d,"fns") && l.has(d,"d") && l.has(d,"t") && (this.pZ=d.ens,this.IZ=d.lns,this.uZ=d.fns,this.DP=d.d,this.zw=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(l.hb(this.pZ) || l.hb(this.IZ) || l.hb(this.uZ) || l.hb(this.DP) || l.hb(this.zw))return null;d={d:this.DP,t:this.zw};d.ens=this.pZ;d.lns=this.IZ;d.fns=this.uZ;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.zw);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};g.prototype.RP=function(){var d;d=m.storage.get("sth");d && this.ve(d);};g.prototype.ve=function(d){var f,h;f=null;h=this.G;d.forEach(function(k){var n;n=new c();n.ve(k)?(f=!0,this.Xz.push(n)):l.hb(f) && (f=!1);},this);this.Xz=this.Xz.filter(function(k){return k.DP >= h.H4;});this.Xz.sort(function(k,n){return k.zw - n.zw;});return l.hb(f)?!0:f;};g.prototype.fca=function(){var d;d=[];this.Xz.forEach(function(f){d.push(f.getState());},this);return d;};g.prototype.save=function(){var d,f,h;d=this.fca();f=this.G;h=this.hq.getState();h && h.d >= f.H4 && (d.push(h),this.Xz.push(this.hq));d.length > f.m4 && (d=d.slice(d.length - f.m4,d.length));this.hq=new c();d && m.storage.set("sth",d);};g.prototype.reset=function(){this.hq=new c();};g.prototype.vzb=function(){return this.hq.get();};g.prototype.OBb=function(){return this.Xz.length + 1;};g.prototype.Ikb=function(d){this.hq.pZ=d;this.hq.zw=m.time.ba();};g.prototype.Tkb=function(d){this.hq.IZ=d;this.hq.zw=m.time.ba();};g.prototype.Mkb=function(d,f){this.hq.uZ=d;this.hq.zw=m.time.ba();this.hq.DP=f;};r.exports=g;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uza=void 0;r=(function(){function a(c,g,l){this.Rjb=g;this.rfb=l;this.u=c;}a.prototype.Ioa=function(c){c=this.zEb(c,this.Rjb) + this.rfb;return this.Uca=isNaN(c)?NaN:this.Xqa(c);};a.prototype.fpb=function(c){return isNaN(this.Uca)?0:this.Uca > c?1:0;};a.prototype.zEb=function(c,g){var l;l=0;if(c.length !== g.length)l=NaN;else for(var m=0;m < c.length;m++){l+=c[m] * g[m];}return l;};a.prototype.Xqa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.Uza=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TO=void 0;r=(function(){function a(c){this.bj={};this.Dca=c;this.Bf=[];this.nq=!1;this.RD=void 0;}a.prototype.C_=function(c){this.Bf.length === this.Dca && this.Bf.shift();Array.isArray(c)?this.Bf=this.Bf.concat(c):this.Bf.push(c);this.nq=!0;};a.prototype.IK=function(){return this.Bf.length;};a.prototype.Vea=function(){var c;c=this.Bf;return 0 < c.length?c.reduce(function(g,l){return g + l;},0) / this.Bf.length:void 0;};a.prototype.h0=function(){var c,g;c=this.Bf;g=this.Vea();if(0 < c.length && "undefined" !== typeof g)return (c=c.reduce(function(l,m){return l + m * m;},0) / c.length,Math.sqrt(c - g * g));};a.prototype.Sr=function(c){var g,l,m;if(this.nq || void 0 === this.RD)(this.RD=this.Bf.slice(0).sort(function(d,f){return d - f;}),this.nq=!1);if(void 0 === this.bj[c]){g=this.RD;l=Math.floor(c / 100 * (g.length - 1) + 1) - 1;m=(c / 100 * (g.length - 1) + 1) % 1;this.bj[c]=l === g.length - 1?g[l]:g[l] + m * (g[l + 1] - g[l]);}return this.bj[c];};return a;})();b.TO=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O;Object.defineProperties(b,{__esModule:{value:!0}});b.hFa=void 0;r=a(0);c=a(17);g=r.__importStar(a(8));l=a(142);m=a(878);d=a(234);f=a(16);h=a(227);k=a(247);n=a(248);p=a(922);q=a(924);t=r.__importDefault(a(3));u=t.default.Promise;w=t.default.MediaSource;v=a(9);x=a(5);y=a(172);z=a(413);B=a(926);A=a(927);E=a(414);r=a(39);D=a(928);F=a(929);C=a(415);G=a(964);H=a(429);J=a(971);I=a(434);M=a(977);N=a(978);K=a(979);O=a(980);a=(function(){var t10;function R(L,Q,P,ha,va,la,S,da,ya,U,ma){var u10,ta,Pa,wa,ra,Ja;u10=2;for(;u10 !== 74;){switch(u10){case 21:this.YZ=void 0;this.P=new A.Dta(ya);this.Zz=va || 0;u10=33;break;case 42:this.Ef=new N.nwa(this,this.u,this.Nb.bind(this));this.LR=new B.mwa(this,this.u,Ja);u10=40;break;case 2:ta=this;this.kw=new E.sEa();u10=5;break;case 37:var M8Y="me";M8Y+="d";M8Y+="i";M8Y+="acach";M8Y+="e";this.hg.on(this.Qb.ef,M8Y,function(Sa){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:var A8Y="media";A8Y+="cach";A8Y+="e";v.Ma(ta,A8Y,Sa);w10=1;break;}}});u10=36;break;case 55:u10=this.Bq?77:75;break;case 32:this.qba=da;this.j_=!1;this.LP=void 0;u10=29;break;case 60:this.Lf.rsa(this.G);u10=59;break;case 39:var h8Y="manag";h8Y+="e";h8Y+="rd";h8Y+="e";h8Y+="bugevent";this.hg.on(this.Qb.ef,h8Y,function(Sa){var v10;v10=2;for(;v10 !== 1;){switch(v10){case 2:v.Ma(ta,Sa.type,Sa);v10=1;break;}}});u10=38;break;case 77:Pa=this;u10=76;break;case 9:var G8Y="m";G8Y+="e";G8Y+="dia|asej";G8Y+="s";var S8Y="ASE";S8Y+="J";S8Y+="S";this.u=new t.default.Console(S8Y,G8Y,"(" + S.sessionId + ")");this.Af=this.u.error.bind(this.u);this.ub=this.u.warn.bind(this.u);u10=6;break;case 65:this.Xc=[Q];u10=64;break;case 12:var B8Y="bra";B8Y+="nc";B8Y+="hin";B8Y+="g";this.QNa=new z.rva(this.u);(wa=!(!Q || !Q.choiceMap || B8Y !== Q.choiceMap.type),ra=wa?{TR:!1,Bq:!1}:q.DSa(U));this.TR=ra.TR;this.Bq=ra.Bq;this.rv=U.rv;this.nj=new K.wza(this,this.u,this.Nb.bind(this),ra);this.Pjb=[!la.pC,!la.NQ];u10=16;break;case 16:this.Nb(0) && this.Nb(1);this.Qb=L;this.il=S;u10=26;break;case 6:this.Ck=this.u.trace.bind(this.u);Ja=new O.vBa(this,this.u);this.$a=Ja;u10=12;break;case 36:wa && U.aK && !U.uvb && (U.set?U.set({enableAdaptiveParallelStreaming:!1}):U.aK=!1);0 === Math.floor(1E6 * Math.random()) % U.HQ && (this.mjb=new p.yEa(U));this.eu=[];this.eg=[];u10=51;break;case 40:u10=U.Ch && this.Qb.ef?39:38;break;case 75:ma && this.cb.Om(ma,Qa.aa);u10=74;break;case 64:this.Lf=new J.ota(this,this.u,L,this.Qb.tb,U,this.yL(),va,this.Nb.bind(this),ra);u10=63;break;case 62:U=U.vDb;for(var Qa in U){P=U[Qa];U.hasOwnProperty(Qa) && P && (this.G[Qa]=P);}u10=60;break;case 59:Qa=Q.M;this.Ba=new H.c9(this,this.$a,this.u,this.ida.bind(this),Qa,this.Zz,this.G,this.Ef,this.P,this.nS.bind(this));U={CT:this.CT,$q:this.$q,Ul:this.Ul,UF:this.UF};u10=56;break;case 29:this.GZ=-1;this.Xca=0;this.hg=new c.sh();this.Nm=new M.ZEa(this,this.u,this.Nb.bind(this),Ja);u10=42;break;case 63:u10=U.nha && this.Lf.C3?62:59;break;case 56:this.cb=new I.zFa(this.u,this.Lf,this.G,this.Nb.bind(this),this.P,U,this.Qb.tb,this.$a,this.Ef,this.Ba,ra);u10=55;break;case 26:this.G=U=this.QNa.hfb(Q,U);this.PZ=la.UF;this.iKa=! !la.zN;this.gkb=! !la.c8;this.OI=la.CT;u10=21;break;case 33:this.QI=0;u10=32;break;case 38:u10=(U.Fsa || U.Esa) && this.Qb.ef?37:36;break;case 51:this.C2a=new k.l$(Q,this.Qb.tb,this.Qb.dh,this.G,void 0);L=this.C2a.WBb();va=null;U.VR && (va=this.Qb.ht.Xz);y.Kv.instance().reset();Q=m.x$.create({qb:0,la:Q,Im:P,q2a:ha,og:! !la.og,HVa:!1,Bh:! !la.Bh,qd:h.z4(! !la.NQ,! !la.pC),V:0,ta:la.ta,$a:this.$a,Gq:this.oIa.bind(this),Db:this,config:this.G,u:this.u,Ef:this.Ef,Nm:this.Nm,ef:this.iKa?this.Qb.ef:void 0,cB:this.cB});Q.EQ=!0;u10=65;break;case 76:this.P.addListener(function(Sa){var x10,y10;x10=2;for(;x10 !== 1;){switch(x10){case 2:try{y10=2;for(;y10 !== 1;){switch(y10){case 2:Pa.cb.yXb.bind(Pa.cb)(Sa);y10=1;break;}}}catch($a){var U8Y="Hindsight: Er";U8Y+="ror when adding updat";U8Y+="ePlaySegment List";U8Y+="ener:";U8Y+=" ";a000.p2Y(2);Pa.$a.Dm(a000.w2Y($a,U8Y));}x10=1;break;}}});u10=75;break;case 5:var g8Y="1S";g8Y+="IYb";g8Y+="ZrNJ";g8Y+="Cp9";this.oHa=[];this.cB={$t:[Object.create(null),Object.create(null)]};g8Y;u10=9;break;}}}t10=2;for(;t10 !== 118;){switch(t10){case 39:R.prototype.play=function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:this.nj.play();A20=1;break;case 4:this.nj.play();A20=5;break;A20=1;break;}}};R.prototype.stop=function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:this.nj.stop();B20=1;break;}}};R.prototype.Wn=function(L,Q,P){var C20;C20=2;for(;C20 !== 5;){switch(C20){case 2:P && (x.assert(void 0 === Q),Q=this.w2(P));return this.Nm.Wn(L,Q);break;}}};R.prototype.seek=function(L,Q){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:return this.Nm.seek(L,Q);break;}}};R.prototype.Lp=function(L){var E20,Q,P,ha,H20,va,la;E20=2;for(;E20 !== 17;){switch(E20){case 2:var p8Y="branchOff";p8Y+="se";p8Y+="t:";var a8Y="ent";a8Y+="ry.manif";a8Y+="estOffset:";var w8Y="contentPt";w8Y+="s";w8Y+=":";var H8Y="underflow: going";H8Y+=" to BUFFERING at pla";H8Y+="yer pts:";(Q=this,P=this.G,ha=this.Vo(this.EU,L));this.ub(H8Y,L,w8Y,ha,a8Y,this.Ud.Pu,p8Y,this.Ba.fe);E20=5;break;case 10:try{H20=2;for(;H20 !== 1;){switch(H20){case 4:this.y1(f.ga.Dc);H20=5;break;H20=1;break;case 2:this.y1(f.ga.Dc);H20=1;break;}}}catch(S){var N8Y="Hindsight: Erro";N8Y+="r whe";N8Y+="n evaluating QoE at Buffering: ";a000.a2Y(2);this.$a.Dm(a000.H2Y(S,N8Y));}E20=20;break;case 11:E20=this.Bq?10:20;break;case 5:va=P.ey;this.eg.forEach(function(S){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:va=Math.max(0,Math.min(va,S.Zia - L));F20=1;break;}}});E20=3;break;case 3:this.Xca+=1;la=this.Ba.uc;la.tsa(ha,this.G.Hra);h.xe.forEach(function(S){var G20,da,ya,U,ma;G20=2;for(;G20 !== 6;){switch(G20){case 1:G20=ya?5:6;break;case 2:ya=la.xd(S);G20=1;break;case 3:var F8Y=",";F8Y+=" toApp";F8Y+="end: ";var e8Y=", ";e8Y+="fragm";e8Y+="e";e8Y+="n";e8Y+="ts: ";var W8Y=",";W8Y+=" c";W8Y+="ompleteStreamin";W8Y+="g";W8Y+="Pts: ";var Z8Y=", s";Z8Y+="tr";Z8Y+="eamingPts: ";var f8Y=", ";f8Y+="partia";f8Y+="ls: ";var i8Y=", c";i8Y+="ompl";i8Y+="et";i8Y+="edByte";i8Y+="s: ";var y8Y=", co";y8Y+="mplet";y8Y+="edMs: ";var k8Y=",";k8Y+=" ";k8Y+="mediaTyp";k8Y+="e:";k8Y+=" ";var l8Y="u";l8Y+="n";l8Y+="der";l8Y+="f";l8Y+="low: ";U=l8Y + L + k8Y + S + y8Y + ya.EJ + i8Y + ma + f8Y + ya.Ka.qy + Z8Y + ya.dc + W8Y + ya.Vr + e8Y + JSON.stringify(ya.Ka.Y) + F8Y + (U && U.Q6());G20=9;break;case 5:G20=P.Ch?4:9;break;case 4:(U=Q.eg[S],ma=Q.Ba.pE(la,S));G20=3;break;case 9:P.Ch && Q.$a.Gl(U);ya.tfa();null === (da=ya.Zf) || void 0 === da?void 0:da.TQb();G20=6;break;}}});this.Ud.M.Qk();E20=14;break;case 14:var R8Y="un";R8Y+="d";R8Y+="erflo";R8Y+="w";this.emit(R8Y);this.f_(2);this.Ef.cj();E20=11;break;case 20:ha=this.Qb.tb.get();ha=ha.confidence?ha.Ha.Aa:0;va > P.Qwb && ha > P.Pwb && this.ida();E20=17;break;}}};R.prototype.Zk=function(L){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:return this.Nm.Zk(L);break;}}};R.prototype.So=function(L,Q,P){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:return this.Nm.So(L,Q,P);break;}}};R.prototype.NIa=function(L){var K20,Q;K20=2;for(;K20 !== 3;){switch(K20){case 4:this.$a.cJa(Q.M.Su);K20=3;break;case 2:this.QI=L;Q=this.Xc[L];this.$a.bib(L,Q);K20=4;break;}}};R.prototype.ju=function(L,Q,P){var L20,U,da,ya,la,S,ha,va;L20=2;for(;L20 !== 30;){switch(L20){case 20:var x8Y="vi";x8Y+="deo_track";x8Y+="s";var L8Y="a";L8Y+="ud";L8Y+="io_t";L8Y+="ra";L8Y+="cks";(Q.Eea || this.oHa) && this.cb.Om(Q.Eea || this.oHa,ya.aa);P=[L8Y,x8Y];U=this.RSa();L20=17;break;case 7:var X8Y="addManifest in fastplay but no";X8Y+="t drm manifes";X8Y+="t, ";X8Y+="leaving";X8Y+=" space for it";Q.UF && (this.PZ=!0);la=this.Xc.length;Q.replace && 1 !== la?la=1:this.Ud.M.Re.og && !Q.replace && 1 === la && (this.ub(X8Y),la=this.Xc[0].clone(),this.Xc.push(la),la=this.Xc.length);S=Q.V || 0;da=Q.ta;L=m.x$.create({qb:la,la:L,Im:P,q2a:Q.OG || [this.Ud.n2(0),this.Ud.n2(1)],og:!1,HVa:! !Q.replace,Bh:! !Q.Bh,qd:h.z4(! !Q.NQ,! !Q.pC),V:S,ta:da,$a:this.$a,Gq:this.oIa.bind(this),Db:this,config:this.G,u:this.u,Ef:this.Ef,Nm:this.Nm,ef:this.iKa?this.Qb.ef:void 0,cB:this.cB});ya=L.M;L20=20;break;case 34:return !0;break;case 8:var I8Y="addManifest ign";I8Y+="ored, pipelines";I8Y+=" already set ";I8Y+="EOS:";this.ub(I8Y,la.Tp,S.Tp);L20=30;break;case 33:L.M.EM([L.jp(0),L.jp(1)]);this.s_();return !0;break;case 9:L20=!Q.SDb && (this.rq && la.Tp || this.Ul && S.Tp)?8:7;break;case 1:L20=this.dm()?5:4;break;case 17:var z8Y="b";z8Y+="o";z8Y+="o";z8Y+="lean";Q.replace && P.forEach(function(ma,ta){var M20,Ja,wa;M20=2;for(;M20 !== 3;){switch(M20){case 2:Ja=ya.ZE(ta);M20=1;break;case 8:Ja=ya.ZE(ta);M20=9;break;M20=1;break;case 1:M20=Ja?5:3;break;case 5:wa=ha.Xc[0].M;Object.keys(Ja).forEach(function(ra){var N20,Qa;N20=2;for(;N20 !== 5;){switch(N20){case 2:Qa=wa.ss(ta,ra);Qa && Qa.te && (Ja[ra].D0(Qa),ra=ya.Su,ra[ta] > U[ta] && (U[ta]=ra[ta]));N20=5;break;}}});M20=3;break;}}});P.forEach(function(ma,ta){var O20,Ja;O20=2;for(;O20 !== 5;){switch(O20){case 2:Ja=ya.ZE(ta);Ja && Object.keys(Ja).forEach(function(wa){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:Ja[wa].J5a(t.default.Cn()[ta],ya.Ox()?va.zXa:0);P20=1;break;}}});O20=5;break;}}});L.EQ=z8Y === typeof Q.QLa?Q.QLa:!0;this.Xc[la] && this.Xc[la].kc();this.Xc[la]=L;L20=25;break;case 4:Q || (Q={});(la=this.Ba.uc.xd(0),S=this.Ba.uc.xd(1));L20=9;break;case 25:L.CMa();Q.replace || this.Ba.blb(ya,S,da);Q=this.cb.Vu[0].pF;P=this.cb.Vu[1].pF;L20=21;break;case 5:var D8Y="addManifes";D8Y+="t: pipelines al";D8Y+="rea";D8Y+="dy shutdown";this.ub(D8Y);L20=30;break;case 21:var C0Y=",";C0Y+=" ";var r0Y=") last";r0Y+="StreamA";r0Y+="ppended:";r0Y+=" (";var b0Y=",";b0Y+=" ";var E0Y=" st";E0Y+="reamCou";E0Y+="nt: (";var s0Y=" play";s0Y+="erS";s0Y+="t";s0Y+="ate: ";var J8Y="addMa";J8Y+="nifest,";J8Y+=" c";J8Y+="urrentPts: ";va.Ch && this.$a.Gl(J8Y + this.P.ie() + s0Y + this.P.getState() + E0Y + L.jp(0).Cd.length + b0Y + L.jp(1).Cd.length + r0Y + Q + C0Y + P + ")");L20=35;break;case 2:(ha=this,va=this.G);L20=1;break;case 35:L20=this.rq && g.ea(Q) || this.Ul && g.ea(P)?34:33;break;}}};R.prototype.xQ=function(L){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 4:return this.Nm.xQ(L);break;Q20=1;break;case 2:return this.Nm.xQ(L);break;}}};t10=48;break;case 72:R.prototype.RJa=function(L){var q30,Q,P;q30=2;for(;q30 !== 14;){switch(q30){case 5:var d0Y="NFE";d0Y+="rr_MC_S";d0Y+="treamin";d0Y+="gInitFailure";var Y0Y="startPipeli";Y0Y+="ne";Y0Y+=" f";Y0Y+="ai";Y0Y+="led";return (this.dm() || this.Do(Y0Y,L.wb.M.qb,d0Y),!1);break;case 1:q30=g.ea(P)?5:4;break;case 6:return !0;break;case 4:L=L.track.Cd[P];q30=3;break;case 2:(Q=L.mediaType,P=this.cb.MBb(L));q30=1;break;case 9:return !0;break;case 3:q30=L.Yj()?9:8;break;case 8:P=this.Ud.M;L.M.cOa(L,{offset:0,GA:!P.Re.og && !P.Bh && 1 === Q,Au:!this.cb.gf[Q].Gxb});q30=6;break;}}};R.prototype.f_=function(L,Q){var r30,P,ha,va,la,S;r30=2;for(;r30 !== 19;){switch(r30){case 7:var q0Y="sta";q0Y+="rtBu";q0Y+="ffe";q0Y+="ring";this.emit(q0Y);h.xe.forEach(function(da){var s30;s30=2;for(;s30 !== 5;){switch(s30){case 1:(da.Mea=0,da.seeking=0 === L || 1 === L,da.tfa());s30=5;break;case 2:s30=(da=P.Ba.uc.xd(da))?1:5;break;}}});r30=14;break;case 2:(P=this,ha=this.G,va=this.cb.gf[0] || ({}),la=this.cb.gf[1] || ({}),S=this.cb.Oy[1] || ({}));(this.cb.Oy[0] || ({})).bR=void 0;S.bR=void 0;this.P.ve(2 === L?f.ga.Xe:f.ga.Dc);this.$a.Shb(Q);this.nw.reset();this.Ud.M.Qna();r30=7;break;case 10:this.P.pg() && (this.pI=setTimeout(function(){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:P.cb.ow();u30=1;break;}}},ha.vy));this.Ef.cj();r30=19;break;case 14:this.wba=t.default.time.ba();va.Gk=la.Gk=this.wba;0 === L && (!this.Ul || 0 < la.Ts) && (!this.rq || 0 < va.Ts) && this.cb.ow();ha.VR && (this.Tba=setTimeout(function(){var t30;t30=2;for(;t30 !== 1;){switch(t30){case 4:P.ijb();t30=2;break;t30=1;break;case 2:P.ijb();t30=1;break;}}},ha.kha));r30=10;break;}}};R.prototype.pQ=function(L){var v30,Q;v30=2;for(;v30 !== 3;){switch(v30){case 1:var t0Y="AdoptingDat";t0Y+="a still has lock";t0Y+=":";this.kw.fA && this.Af(t0Y + L);v30=5;break;case 2:var n0Y="wip";n0Y+="eHeaderC";n0Y+="ac";n0Y+="he:";a000.p2Y(2);L=a000.w2Y(L,n0Y);v30=1;break;case 5:Q=this.G;Q.HF || (Q.Ch && this.$a.Gl(L),this.Qb.ax(),this.Sg && (this.Sg=void 0));v30=3;break;}}};R.prototype.zHa=function(L){var w30,P,ha,va,la;function Q(S,da){var x30,ya,U,ma,ta,Ja,wa,ra;x30=2;for(;x30 !== 10;){switch(x30){case 2:(ya=S.mediaType,U=da[ya],ma=u.resolve(void 0));x30=1;break;case 1:x30=U?5:11;break;case 5:(ta=U.Fa,Ja=U.header.stream,wa=P.cb.gf[ya],ra=P.cb.Oy[ya]);g.ea(da.dB) || P.Lf.N2a(da.dB,da.Gn,da.Hn);ra.Nx=da.Nx;ra.Bu=da.Bu;x30=8;break;case 6:x30=!U.header?14:13;break;case 7:return ma;break;case 8:x30=!S.BYb(ta)?7:6;break;case 14:var u0Y="adoptPipeline";u0Y+=" ";u0Y+="no header for strea";u0Y+="mId";u0Y+=":";return (S.Af(u0Y,ta),ma);break;case 12:da.B_(U.header,!da.Re.og && !da.Bh && 1 === ya,!0) && (void 0 !== S.PF && S.qG(S.PF),ma=da.Yj(ya,ta).stream.Y.sm(S.dc,void 0,!0),da=Ja.Zh(ma),Ja=da.V,(da=da.K1(S.dc)) && 0 < da.cd && (Ja=da.cd),S.dc !== Ja && (S.qV(Ja,ma),P.fda(ya,Ja)),ma=P.bfb(S,U.data).then(function(){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 2:return ta;break;case 4:return ta;break;y30=1;break;}}}),wa.Gxb=!0,0 === ya && P.Lf.XM(U.header.bitrate));x30=11;break;case 13:da=P.Ud.M;x30=12;break;case 11:return ma;break;}}}w30=2;for(;w30 !== 13;){switch(w30){case 8:var P0Y="c";P0Y+="heckFo";P0Y+="rHcdStart";this.$a.Lj(P0Y);w30=7;break;case 9:return (this.Qb.Uea(),u.resolve());break;case 3:w30=!this.gkb || !this.Qb.ef?9:8;break;case 2:var Q0Y="P";Q0Y+="reviously ";Q0Y+="adopted ";Q0Y+="request list still retained was";Q0Y+=" unexpected";P=this;(null === (ha=this.Sg) || void 0 === ha?0:ha.$A()) && this.Af(Q0Y);this.Sg=void 0;va=this.G;w30=3;break;case 7:this.Xc.forEach(function(S){var z30;z30=2;for(;z30 !== 1;){switch(z30){case 2:S.M.H === L && (la=S);z30=1;break;}}});return this.Qb.ef.JHb(L,la?la.M:void 0).then(function(S){var A30,da,ya;A30=2;for(;A30 !== 8;){switch(A30){case 5:var c0Y="header";c0Y+="C";c0Y+="ache";c0Y+="DataN";c0Y+="otFound";return (va.qq || P.kw.fA || P.pQ(c0Y),u.resolve());break;case 1:A30=g.ea(S)?5:4;break;case 2:var j0Y="che";j0Y+="ckForHc";j0Y+="dE";j0Y+="nd";P.$a.Lj(j0Y);A30=1;break;case 4:var K0Y="ad";K0Y+="optHcdSt";K0Y+="art";(da=P.Ba.uc.xd(0),ya=P.Ba.uc.xd(1));P.$a.Lj(K0Y);return P.kw.Q6a(function(){var B30,U,ma;B30=2;for(;B30 !== 7;){switch(B30){case 3:var v0Y="ado";v0Y+="p";v0Y+="tHcdEn";v0Y+="d";P.sIa=S;P.$a.Lj(v0Y);return u.all([U,ma]);break;case 2:U=u.resolve();P.Ul && (U=Q(ya,S));ma=u.resolve();!P.rq || va.wUa && !U || (ma=va.wUa?U.then(function(ta){var C30;C30=2;for(;C30 !== 1;){switch(C30){case 2:return ta?Q(da,S):u.resolve();break;}}}):Q(da,S));B30=3;break;}}});break;}}}).then(function(){var D30,S;D30=2;for(;D30 !== 5;){switch(D30){case 1:var V0Y="adop";V0Y+="tedCompletedR";V0Y+="equests";va.qq || (null === (S=P.Sg) || void 0 === S?0:S.$A()) || P.kw.fA || !P.P.Jn(P.Ud.M) || P.pQ(V0Y);D30=5;break;case 3:D30=0;break;D30=1;break;case 2:D30=1;break;}}}).catch(function(S){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:var o0Y="headerCache:lookupDa";o0Y+="taPromi";o0Y+="se caught error:";P.ub(o0Y,S);E30=1;break;}}});break;}}};R.prototype.bfb=function(L,Q){var F30,P,ha,va,la,S,da,ya;F30=2;for(;F30 !== 9;){switch(F30){case 6:F30=8 == Q.length?2:5;break;F30=0 === Q.length?5:4;break;case 2:P=this;F30=1;break;case 1:F30=0 === Q.length?5:4;break;case 7:P=this;F30=2;break;F30=1;break;case 4:(ha=L.a4,va=ha.R,la=Math.min(this.Xc[0].ta || Infinity,ha.Fb || Infinity),S=L.mediaType,da=this.cb.gf[S]);return this.kw.Q6a(function(){function U(){var H30,ta;H30=2;for(;H30 !== 5;){switch(H30){case 2:var O0Y="a";O0Y+="doptData, not adopting failed mediaRe";O0Y+="quest:";var T0Y="a";T0Y+="doptData, not a";T0Y+="doptin";T0Y+="g aborted mediaRequ";T0Y+="est:";ta=Q.shift();7 === ta.readyState?L.ub(T0Y,ta.toString()):6 === ta.readyState?(L.ub(O0Y,ta.toString()),P.ZD(ta,!1)):L.dc >= ta.Sb && L.dc < ta.Fb && (L.dc < la || !g.pa(la))?(ma.push(P.cfb(L,ta).then(function(){var I30;I30=2;for(;I30 !== 1;){switch(I30){case 2:ta.complete && P.fUa(ta);I30=1;break;}}})),L.USb(ta.Fb),g.pa(la) && L.dc >= la && P.$a.Jca(va,ta.Fb),0 === S && P.Lf.XM(ta.bitrate),ta.complete?(da.Ts+=ta.duration,ta.qHb && (da.CU+=ta.duration),ya=ta):(P.Sg || (P.Sg=new F.mta(P.u)),P.Sg.push(ta))):P.ZD(ta,!1);H30=5;break;}}}var G30,ma;G30=2;for(;G30 !== 3;){switch(G30){case 1:G30=0 < Q.length?5:4;break;case 8:ma=[];G30=3;break;G30=1;break;case 5:U();G30=1;break;case 2:ma=[];G30=1;break;case 14:return u.all(ma);break;G30=3;break;case 6:U();G30=6;break;G30=1;break;case 4:return u.all(ma);break;}}}).then(function(){var J30,U,ma;J30=2;for(;J30 !== 8;){switch(J30){case 5:J30=ya || (null === (U=P.Sg) || void 0 === U?0:U.$A())?4:8;break;case 2:ya && L.gUa(ya);J30=5;break;case 3:ma=L.Sha(L.dc);J30=9;break;case 9:void 0 !== ma?(L.Fl=ma,L.He=U.M.Hg[S].stream.Zh(L.Fl)):L.Fl=L.ff?L.ff.index + 1:L.Fl + 1;J30=8;break;case 4:U=P.Xc[ha.M.qb];J30=3;break;}}});break;case 5:return u.resolve();break;}}};R.prototype.cfb=function(L,Q){var K30,P,ha;K30=2;for(;K30 !== 3;){switch(K30){case 2:var A0Y=", p";A0Y+="ts";A0Y+=":";A0Y+=" ";var M0Y=",";M0Y+=" ";M0Y+="sta";M0Y+="te";M0Y+=": ";var m0Y="adopt";m0Y+="M";m0Y+="ed";m0Y+="iaReque";m0Y+="st: type: ";(P=this,ha=L.mediaType);this.G.Ch && this.$a.Gl(m0Y + ha + M0Y + Q.readyState + A0Y + Q.Sb);this.fda(ha,Q.Sb);return L.Ka.wlb(Q).catch(function(va){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:var h0Y="Error ad";h0Y+="opting ";h0Y+="requests";P.Af(h0Y,va);L30=1;break;}}});break;}}};R.prototype.bda=function(L,Q,P){var M30,ha;M30=2;for(;M30 !== 9;){switch(M30){case 2:ha=this;void 0 === Q && (Q=C.$O.xea);M30=5;break;case 5:(P || this.Ba.uc).Ppa(L,Q);this.nw.reset();(void 0 === L?h.xe:[L]).forEach(function(va){var N30;N30=2;for(;N30 !== 1;){switch(N30){case 2:ha.Nb(va) && (ha.eu[va].reset(),ha.rjb(va),ha.Lf.yLb(va));N30=1;break;}}});M30=9;break;}}};R.prototype.nra=function(){var O30,L;O30=2;for(;O30 !== 5;){switch(O30){case 2:L=this;h.xe.forEach(function(Q){var P30,P;P30=2;for(;P30 !== 5;){switch(P30){case 2:null === (P=L.eu[Q]) || void 0 === P?void 0:P.stop();P30=5;break;}}});O30=5;break;}}};R.prototype.vG=function(L){var Q30,Q;Q30=2;for(;Q30 !== 4;){switch(Q30){case 2:Q=this;(void 0 === L?h.xe:[L]).forEach(function(P){var R30,ha;R30=2;for(;R30 !== 5;){switch(R30){case 2:null === (ha=Q.eu[P]) || void 0 === ha?void 0:ha.resume();R30=5;break;}}});Q30=5;break;case 5:return u.resolve();break;}}};R.prototype.iQ=function(L){var S30,Q,P;S30=2;for(;S30 !== 3;){switch(S30){case 2:Q=this;L=void 0 === L?h.xe:[L];null === (P=this.nw) || void 0 === P?void 0:P.reset();L.forEach(function(ha){var T30,va;T30=2;for(;T30 !== 5;){switch(T30){case 2:null === (va=Q.eu[ha]) || void 0 === va?void 0:va.resume();T30=5;break;}}});S30=3;break;}}};t10=87;break;case 94:R.prototype.oIa=function(){var t40;t40=2;for(;t40 !== 5;){switch(t40){case 2:var S0Y="Ne";S0Y+="twork failures rese";S0Y+="t!";this.ub(S0Y);this.Ef.cj();t40=5;break;}}};R.prototype.Sgb=function(L,Q){var u40;u40=2;for(;u40 !== 5;){switch(u40){case 2:Q=d.USa(Q);this.qba[L.mediaType]=Q;u40=5;break;}}};Object.defineProperties(R.prototype,{Uw:{set:function(L){var v40;v40=2;for(;v40 !== 1;){switch(v40){case 2:this.cb.Uw=L;v40=1;break;case 4:this.cb.Uw=L;v40=2;break;v40=1;break;}}},enumerable:!1,configurable:!0}});R.prototype.w2=function(L){var w40,Q;w40=2;for(;w40 !== 4;){switch(w40){case 2:this.Xc.some(function(P){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 2:return P.M.Im === L?(Q=P.M.qb,!0):!1;break;}}});return Q;break;}}};return R;break;case 59:R.prototype.Yg=function(L){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:return this.Nm.Yg(L);break;case 4:return this.Nm.Yg(L);break;d30=1;break;}}};R.prototype.y1=function(L,Q){var e30,P,ha,f30;e30=2;for(;e30 !== 6;){switch(e30){case 9:P.Opa();e30=6;break;case 4:L && !L.pJ && ha.Dha(L);e30=3;break;case 2:P=this.cb;L=P.Qha(L,Q);ha=this.Lf.$oa;e30=4;break;case 3:e30=Q?9:8;break;case 8:Q=ha.ezb();try{f30=2;for(;f30 !== 1;){switch(f30){case 2:this.$a.Xhb(Q);f30=1;break;}}}catch(va){var B0Y="]";B0Y+=" ";B0Y+="[";var G0Y="ex";G0Y+="cept";G0Y+="io";G0Y+="n";G0Y+=": [";this.u.error(G0Y + va.message + B0Y + va.l9b + "]");}e30=6;break;}}};R.prototype.cR=function(L,Q,P,ha){var g30;g30=2;for(;g30 !== 4;){switch(g30){case 1:a000.a2Y(3);x.assert(a000.H2Y(0,Q));return this.Xc[Q].dob(L,P || !1);break;case 2:ha && (x.assert(void 0 === Q),Q=this.w2(ha));g30=1;break;}}};R.prototype.Vo=function(L,Q,P){var h30,ha;h30=2;for(;h30 !== 7;){switch(h30){case 1:void 0 === L && (L=this.EU);h30=5;break;case 2:P && (x.assert(void 0 === L),L=this.w2(P),x.assert(void 0 !== L));h30=1;break;case 4:ha=P.fe;h30=3;break;case 8:(P=this.Ba.Rha(L),0 < P.length && (P=P[0],ha=P.fe));h30=3;break;case 5:h30=(P=this.Ba.lxb(Q,L))?4:8;break;case 3:g.pa(ha) || (ha=this.Xc[L].Pu);a000.p2Y(1);return a000.w2Y(ha,Q);break;}}};R.prototype.yA=function(L,Q,P){var i30,ha;i30=2;for(;i30 !== 7;){switch(i30){case 8:(P=this.Ba.Rha(L),0 < P.length && (P=P[0],ha=P.fe));i30=3;break;case 5:i30=(P=this.Ba.kxb(Q,L))?4:8;break;case 4:ha=P.fe;i30=3;break;case 3:g.pa(ha) || (ha=this.Xc[L].Pu);a000.p2Y(2);return a000.H2Y(ha,Q);break;case 2:P && (x.assert(void 0 === L),L=this.w2(P),x.assert(void 0 !== L));void 0 === L && (L=this.EU);i30=5;break;}}};R.prototype.bJ=function(){var j30,L;j30=2;for(;j30 !== 4;){switch(j30){case 9:L=this.P.pg();j30=3;break;j30=1;break;case 2:L=this.P.pg();j30=1;break;case 1:j30=L || this.cb.Uw?5:4;break;case 5:(L && this.$a.Ica(),this.qQ(),this.P.ve(f.ga.oc),this.Ef.cj());j30=4;break;case 8:j30=L && this.cb.Uw?0:2;break;j30=L || this.cb.Uw?5:4;break;}}};R.prototype.ida=function(){var k30,L,Q;k30=2;for(;k30 !== 3;){switch(k30){case 2:(L=this,Q=this.P.pg());this.Ba.uc.S6(Q,function(P){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:return L.eg[P]?L.eg[P].Q6():"";break;}}});this.pI && (clearTimeout(this.pI),this.pI=void 0);this.nw.jIb();k30=3;break;}}};R.prototype.MJa=function(L){var m30,Q,n30;m30=2;for(;m30 !== 7;){switch(m30){case 2:L.rh=!0;L.Tp=!1;Q=this.P.ie() || 0;L.DJ(Q);m30=3;break;case 9:m30=this.Bq && 1 === L.mediaType?8:7;break;case 3:this.cb.ow();m30=9;break;case 8:try{n30=2;for(;n30 !== 1;){switch(n30){case 2:this.y1(f.ga.aq,{ta:L.Fb});n30=1;break;}}}catch(P){var U0Y="Hindsight: Error ";U0Y+="evaluating Q";U0Y+="oE at endOfStrea";U0Y+="m";U0Y+=": ";a000.a2Y(2);this.$a.Dm(a000.w2Y(P,U0Y));}m30=7;break;}}};R.prototype.ijb=function(){var o30,L;o30=2;for(;o30 !== 5;){switch(o30){case 2:L=this.Qb.tb;L && (L=L.get()) && L.avtp && this.ht.Ikb({avtp:L.avtp.Aa});o30=5;break;}}};R.prototype.Jjb=function(){var p30,L,Q,P;p30=2;for(;p30 !== 4;){switch(p30){case 2:var w0Y="startup, playerS";w0Y+="tate ";w0Y+="no lo";w0Y+="nger ST";w0Y+="ARTING:";var H0Y="failed ";H0Y+="to start a";H0Y+="udio pipel";H0Y+="ine";var g0Y="failed to sta";g0Y+="r";g0Y+="t vid";g0Y+="eo pi";g0Y+="peline";this.P.ve(f.ga.zg);(L=this.Ba.uc,Q=L.xd(0),P=L.xd(1));this.Ul && !this.RJa(P)?this.ub(g0Y):this.rq && !this.RJa(Q)?this.ub(H0Y):(this.nJa=!0,this.Xc[0].M.V2=!0,Q=this.cb.gf[1],P=this.cb.gf[0],(Q && 0 < Q.Ts || P && 0 < P.Ts) && this.$a.Vhb(String(L.M.H),P?P.Ts:0,Q?Q.Ts:0,P?P.CU:0,Q?Q.CU:0),this.P.SVa()?(this.f_(0),this.rq && (L=this.Ud.n2(0),Q=this.Ud.jp(0).trackId,this.$a.Yhb(L,Q))):this.ub(w0Y,this.P.getState()));p30=4;break;}}};t10=72;break;case 13:Object.defineProperties(R.prototype,{ht:{get:function(){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 4:return this.Qb.ht;break;J10=1;break;case 2:return this.Qb.ht;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{$q:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 4:return this.mjb;break;K10=1;break;case 2:return this.mjb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{CT:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.OI;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{UF:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.PZ;break;}}},enumerable:!1,configurable:!0}});R.prototype.Nb=function(L){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.Pjb[L];break;}}};R.prototype.nS=function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 2:return t.default.time.ba() - this.wba;break;}}};R.prototype.RSa=function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return (this.Xc || []).reduce(function(L,Q){var Q10,P;Q10=2;for(;Q10 !== 4;){switch(Q10){case 2:P=Q.M;h.xe.forEach(function(ha){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:P.Su[ha] > L[ha] && (L[ha]=P.Su[ha]);R10=1;break;}}});return L;break;}}},[0,0]);break;}}};R.prototype.yL=function(){var S10,L;S10=2;for(;S10 !== 4;){switch(S10){case 2:L=0;S10=1;break;case 9:L=2;S10=3;break;S10=1;break;case 1:g.forEach(this.Ud.M.la.audio_tracks,function(Q){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:g.forEach(Q.streams,function(P){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:L=Math.max(L,P.bitrate);U10=1;break;}}});T10=1;break;}}});return L;break;}}};R.prototype.Fg=function(L){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.Xc[L];break;}}};R.prototype.nAb=function(){var W10,L;W10=2;for(;W10 !== 5;){switch(W10){case 2:L=this.Xc[0];return L.M.Re.og?this.Xc[1]:L;break;}}};t10=27;break;case 48:R.prototype.fs=function(L,Q){var R20,va,la,P,ha;R20=2;for(;R20 !== 7;){switch(R20){case 5:var l0Y=" ";l0Y+="re";l0Y+="adySta";l0Y+="t";l0Y+="e: ";var N0Y=" fo";N0Y+="r ";N0Y+="movi";N0Y+="eId: ";var p0Y=",";p0Y+=" ";var a0Y="drmR";a0Y+="e";a0Y+="ady at s";a0Y+="treaming pts: ";g.ea(Q) && (Q=!0);(va=this.Ba.uc.xd(0),la=this.Ba.uc.xd(1));ha.Ch && this.$a.Gl(a0Y + (va?va.dc:null) + p0Y + (la?la.dc:null) + N0Y + L + l0Y + Q);a000.p2Y(2);this.P.oV(a000.H2Y("",L),Q);R20=8;break;case 2:ha=this.G;R20=1;break;case 1:R20=!this.dm()?5:7;break;case 8:var k0Y="dr";k0Y+="m";k0Y+="R";k0Y+="eady";Q && (this.eg.forEach(function(S){var S20;S20=2;for(;S20 !== 5;){switch(S20){case 2:ha.R1 && S.dRa();S.fs();S20=5;break;}}}),ha.p8 && this.iQ(),this.Ud.M.Re.og && this.r_(this.Nm.Rz?this.Nm.Rz.qb:this.QI + 1),ha.qq || (null === (P=this.Sg) || void 0 === P?0:P.$A()) || this.kw.fA || this.pQ(k0Y),this.Nm.Zba());R20=7;break;}}};R.prototype.QK=function(){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:return this.P.Jn(this.Ud.M);break;}}};R.prototype.AHa=function(L){var U20,Q,P,ha;U20=2;for(;U20 !== 11;){switch(U20){case 2:U20=L >= this.Xc.length?1:5;break;case 7:return !1;break;case 1:return !1;break;case 5:(Q=this.Ba.uc.xd(0),P=this.Ba.uc.xd(1));Q=!Q || Q.rh;ha=!P || P.rh;P=this.Xc[L].M;U20=8;break;case 6:L=P.Hg[0];Q=P.Hg[1];Q=!this.Ul || Q && Q.stream.te;U20=12;break;case 8:U20=!(L === this.QI + 1 && P.Re.replace || Q && ha) || !this.P.Jn(P)?7:6;break;case 12:return (!this.rq || L && L.stream.te) && Q?!0:!1;break;}}};R.prototype.s_=function(){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 4:this.r_(this.QI % 2);V20=2;break;V20=1;break;case 2:this.r_(this.QI + 1);V20=1;break;}}};R.prototype.r_=function(L){var W20,Q;W20=2;for(;W20 !== 6;){switch(W20){case 1:return !1;break;case 5:Q=this.Xc[L];W20=4;break;case 2:W20=!this.AHa(L)?1:5;break;case 4:W20=Q.Nwb || !Q.M.Re.replace?3:9;break;case 3:return !1;break;case 9:this.Qjb(L);this.Ef.cj();return !0;break;}}};R.prototype.Qjb=function(L){var X20,Q,P,ha,va,la,S;X20=2;for(;X20 !== 20;){switch(X20){case 6:[1,0].forEach(function(da){var Y20;Y20=2;for(;Y20 !== 1;){switch(Y20){case 2:Q.M.Nb(da) && (S[da]=Q.jp(da));Y20=1;break;}}});va?this.Ba.LQb(P.M,Q.M,S):ha.b3a(Q.M,S);this.NIa(L);Q.zna();X20=11;break;case 2:(Q=this.Xc[L],P=this.G,ha=this.Ba.uc,va=ha.Oa(0));va=va?va.dc:void 0;la=ha.Oa(1);X20=4;break;case 4:var f0Y=",";f0Y+=" ";var i0Y=", stre";i0Y+="amingP";i0Y+="ts:";i0Y+=" ";var y0Y="switchManifest ma";y0Y+="nifestIn";y0Y+="d";y0Y+="ex: ";la=la?la.dc:void 0;P.Ch && this.$a.Gl(y0Y + L + i0Y + va + f0Y + la);P=this.Ud;X20=8;break;case 8:va=P.M.Re.og;S=[];X20=6;break;case 11:this.Nm.Zba();this.Ef.cj();X20=20;break;}}};R.prototype.Ona=function(){var Z20,P,ha,L,Q;Z20=2;for(;Z20 !== 6;){switch(Z20){case 5:var Z0Y="onAudioTrackSwitc";Z0Y+="hStarted but cur";Z0Y+="rent playing request not found";(P=this.P.ie(),ha=this.cb.gf[Q.mediaType]);(L=this.Ba.ls(P,L,0))?Q=L.Ka:(this.ub(Z0Y),Q=Q.Ka);this.Sib(Q);Z20=9;break;case 2:(L=this.Ba.uc,Q=L.Oa(0));Z20=1;break;case 7:var W0Y="onAudioTrackSwitchStarted";W0Y+=" i";W0Y+="gnor";W0Y+="ed, no audio pipeline";this.ub(W0Y);Z20=6;break;case 1:Z20=Q?5:7;break;case 9:ha.HN=!1;this.Ef.cj();Z20=6;break;}}};R.prototype.AG=function(L){var a30,la,ha,P,va,Q;a30=2;for(;a30 !== 35;){switch(a30){case 20:var e0Y="switchTrac";e0Y+="ks ";e0Y+="rejected, b";e0Y+="ufferLevelMs";return (this.ub(e0Y,va,"<",Q.D4),!1);break;case 3:var F0Y="switchTracks rejected, previ";F0Y+="ou";F0Y+="s ";F0Y+="switch still in progress: ";return (this.ub(F0Y + JSON.stringify(this.cb.Uw)),!1);break;case 25:var L0Y=" t";L0Y+="o:";L0Y+=" ";var R0Y="switch";R0Y+="T";R0Y+="racks curren";R0Y+="t: ";Q.Ch && this.$a.Gl(R0Y + la + L0Y + va.trackId);P.V4={trackId:L};Q=ha.Oa(0);this.Ijb(Q);return !0;break;case 15:la=this.Ud.jp(0).trackId;a30=27;break;case 13:ha=this.Ba.uc;a30=12;break;case 9:a30=this.P.pg()?8:7;break;case 10:a30=va < Q.D4?20:19;break;case 26:return !1;break;case 16:var x0Y="switchTrac";x0Y+="ks can't find track";x0Y+="Id:";return (this.ub(x0Y,L),!1);break;case 27:a30=la === va.trackId?26:25;break;case 14:var X0Y="switchTrack";X0Y+="s rejected, previous swit";X0Y+="ch still waiting ";X0Y+="to star";X0Y+="t";return (this.ub(X0Y),!1);break;case 7:P=this.cb.gf[0];a30=6;break;case 12:a30=this.P.getState() === f.ga.oc?11:19;break;case 1:a30=!this.rq?5:4;break;case 19:L=L.jA;va=this.Ud.M.getTrackById(L);a30=17;break;case 17:a30=!va?16:15;break;case 11:va=this.Ba.ru(ha,1);a30=10;break;case 4:a30=this.cb.Uw?3:9;break;case 5:var I0Y="switchTr";I0Y+="acks r";I0Y+="ejected, audio dis";I0Y+="a";I0Y+="bled";return (this.ub(I0Y),!1);break;case 2:Q=this.G;a30=1;break;case 6:a30=P.HN?14:13;break;case 8:var z0Y="switc";z0Y+="hTracks ";z0Y+="re";z0Y+="jected, buffe";z0Y+="ring";return (this.ub(z0Y),!1);break;}}};R.prototype.Om=function(L,Q){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:this.cb.Om(L,Q);b30=1;break;case 4:this.cb.Om(L,Q);b30=0;break;b30=1;break;}}};R.prototype.ls=function(L,Q,P){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:return this.Ba.ls(L,this.Ba.Fi,Q,P);break;}}};t10=59;break;case 87:R.prototype.rjb=function(L){var U30,Q;U30=2;for(;U30 !== 3;){switch(U30){case 2:Q=this.cb.gf[L];this.cb.Vu[L].Nla=void 0;Q.Ts=0;Q.CU=0;U30=3;break;}}};R.prototype.fda=function(L,Q){var V30,P,ha,va;V30=2;for(;V30 !== 9;){switch(V30){case 2:P=this.Ba.uc;V30=1;break;case 1:V30=P.Oa(L)?5:9;break;case 5:var D0Y="pt";D0Y+="s";D0Y+="cha";D0Y+="n";D0Y+="ged";(ha=this.cb.gf[L],va=this.cb.Oy[L]);g.ea(ha.qn) && (ha.qn=Q,1 === L && this.rq && (L=this.cb.gf[0],g.ea(L.qn) && (P=P.Oa(0),P.qG(Q)),this.emit(D0Y,Q)));g.ea(va.bR) && (va.bR=Q);V30=9;break;case 7:P=this.Ba.uc;V30=4;break;V30=1;break;}}};R.prototype.fUa=function(L){var W30;W30=2;for(;W30 !== 1;){switch(W30){case 2:this.Sg && (this.Sg.hIb(L),this.QMa());W30=1;break;}}};R.prototype.N2=function(L){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:this.Sg && (this.Sg.gIb(L),this.QMa());X30=1;break;}}};R.prototype.QMa=function(){var Y30,L;Y30=2;for(;Y30 !== 4;){switch(Y30){case 1:var J0Y="al";J0Y+="lC";J0Y+="omplet";J0Y+="ed";L=this.G;this.Sg.$A() || (this.Sg=void 0,L.qq || this.kw.fA || this.pQ(J0Y));Y30=4;break;case 2:Y30=this.Sg?1:4;break;case 9:Y30=this.Sg?4:9;break;Y30=this.Sg?1:4;break;}}};R.prototype.qQ=function(){var Z30,L,Q,P,ha,va,la,S,da;Z30=2;for(;Z30 !== 7;){switch(Z30){case 3:da=Math.max(da,1);this.bA && clearTimeout(this.bA);this.bA=setTimeout(this.qQ.bind(this),da);Z30=7;break;case 2:(L=this,Q=this.G,P=this.EU,ha=this.Xc[P],va=this.Ba.uc,la=this.P.ie() || 0,S=this.Vo(P,la),da=Q.Z7);this.Qb.ef && void 0 !== ha.JF && ha.JF - la <= Q.cYa && this.Qb.ef.Ko(!0,this.il.sessionId);this.P.getState() === f.ga.oc && ([1,0].forEach(function(ya){var a40,Qa,U,ma,ta,Ja,wa,ra;a40=2;for(;a40 !== 35;){switch(a40){case 5:a40=U?4:35;break;case 17:S=L.Vo(ra,la);a40=15;break;case 16:L.OI && ta.Ys != Ja.zGb && L.$a.pib(ta.Ys);a40=15;break;case 26:wa != Ja.Nla && (Ja.Nla=wa,ya=L.Xc[ra].M.ss(ya,wa),ra=L.Vo(ra,ta.Tc),L.$a.kib(ya,ta.Tc,ra,ya.M.qb));ta=ta.bitrate;a40=24;break;case 7:a40=ta?6:21;break;case 11:a40=!L.Ul || 1 === ya?10:15;break;case 20:L.GZ=ra;Qa=0 < ra?ra - 1:null;L.$a.$hb(wa,la,ta.Ys,null !== Qa?L.Xc[Qa].M.H:null,Qa);a40=17;break;case 2:a40=L.Nb(ya)?1:35;break;case 1:U=va.Oa(ya);a40=5;break;case 10:a40=(L.Ba.DKb(ta,ta.Ys),ra > L.GZ)?20:16;break;case 21:var s5Y="Unabl";s5Y+="e to ";s5Y+="find request p";s5Y+="resenti";s5Y+="ng at playerPts:";U.ub(s5Y,la);a40=23;break;case 8:(ta=L.Ba.ls(la,va,ya)) && !ta.De && (ta=L.eg[ya].oGb);a40=7;break;case 4:ma=U.Ka;U.DJ(la);a40=8;break;case 6:ma=ta.me - la;ma < da && (da=ma);(Ja=L.cb.Vu[ya],wa=ta.M,ra=wa.qb);ma=ta.Ka;a40=11;break;case 15:Ja.zGb=ta.Ys;wa=ta.Fa;a40=26;break;case 23:L.Xib(ma,la);L.Ba.aPb();a40=35;break;case 24:g.ea(ta) || ta == U.A_a || (U.A_a=ta);a40=23;break;}}}),this.Ba.mr(la,S));this.Ef.cj();Z30=3;break;}}};R.prototype.cZ=function(L){var b40;b40=2;for(;b40 !== 1;){switch(b40){case 4:return this.Ef.cZ(L);break;b40=1;break;case 2:return this.Ef.cZ(L);break;}}};R.prototype.cj=function(){var c40;c40=2;for(;c40 !== 1;){switch(c40){case 4:return this.Ef.cj();break;c40=1;break;case 2:return this.Ef.cj();break;}}};R.prototype.ZD=function(L,Q){var d40,P,ha;d40=2;for(;d40 !== 13;){switch(d40){case 2:P=L.Ka;d40=1;break;case 5:ha=L.mediaType;L.abort();L.kc();L.hg && L.hg.clear();d40=8;break;case 1:d40=P?5:14;break;case 14:var E5Y="abortRequest with";E5Y+=" no requestManaga";E5Y+="er:";this.ub(E5Y,L);d40=13;break;case 8:P.q6(L);this.eg[ha].q6(L);!0 === Q && this.Ef.cj();d40=13;break;}}};R.prototype.Ijb=function(L){var e40,Q,P;e40=2;for(;e40 !== 5;){switch(e40){case 2:var b5Y="no";b5Y+=" newAu";b5Y+="di";b5Y+="oTrack set";(Q=L.mediaType,P=this.cb.gf[Q]);g.ea(P.V4)?L.ub(b5Y):(this.eg[Q].pause(),P.HN=!0,L=this.Ud.jp(0),P=this.Ud.M.getTrackById(P.V4.trackId),this.$a.Phb(L,P));e40=5;break;}}};t10=104;break;case 27:R.prototype.CK=function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.Xc.length;break;}}};R.prototype.Yka=function(L,Q){var Y10;Y10=2;for(;Y10 !== 9;){switch(Y10){case 2:Y10=L === Q?1:5;break;case 7:Y10=L != Q?2:1;break;Y10=L === Q?1:5;break;case 6:return +2;break;Y10=5;break;case 5:L=this.Xc[L];Q=this.Xc[Q];return L.M.Re.og && Q.M.Re.JT || Q.M.Re.og && L.M.Re.JT;break;case 1:return !0;break;}}};R.prototype.UE=function(L){var Z10;Z10=2;for(;Z10 !== 5;){switch(Z10){case 1:return {id:L.R.id,fe:L.fe,Tc:L.yoa,me:L.me,Sb:L.J6,Fb:L.Fb};break;case 2:Z10=(L=this.Ba.Fi.children[L])?1:5;break;}}};R.prototype.xm=function(){var a20,L;a20=2;for(;a20 !== 5;){switch(a20){case 2:L=this.Ba.Fi;return {id:L.R.id,fe:L.fe,Tc:L.yoa,me:L.me,Sb:L.J6,Fb:L.Fb};break;}}};R.prototype.lC=function(L,Q){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return this.Ba.lC(L,Q);break;}}};R.prototype.open=function(){var c20,Q,P,ha,va,la,S,U,da,ya,L;c20=2;for(;c20 !== 33;){switch(c20){case 5:var C5Y="NFErr_M";C5Y+="C";C5Y+="_StreamingInitFailure";var r5Y="startPt";r5Y+="s";r5Y+=" ";r5Y+="must be a positive number, not ";this.Do(r5Y + this.Zz,void 0,C5Y);c20=33;break;case 34:var q5Y="NFErr_MC_";q5Y+="Str";q5Y+="ea";q5Y+="ming";q5Y+="InitFailure";var d5Y="excep";d5Y+="tion ";d5Y+="in ini";d5Y+="t";var Y5Y="E";Y5Y+="rro";Y5Y+="r";Y5Y+=":";(this.Ck(Y5Y,ya.error),this.Do(d5Y,void 0,q5Y));c20=33;break;case 4:var t5Y="he";t5Y+="a";t5Y+="d";t5Y+="ers";(Q=this.G,P=this.Ud.M,ha=P.H,va=[],la=[t5Y]);this.Ul && (va.push(1),la.push(1));this.rq && (va.push(0),la.push(0));this.LR.Ygb();S=Q.qq;this.Qb.ef && this.Qb.ef.Ko(S,this.il.sessionId);c20=14;break;case 21:var u5Y="st";u5Y+="artp";u5Y+="la";u5Y+="y";var n5Y="lo";n5Y+="g";n5Y+="dat";n5Y+="a";P={type:n5Y,target:u5Y,fields:{audiogapconfig:Q.KL,audiogapdpi:this.lf.Rb && this.lf.Rb.KL,aseApiVersion:this.cE}};this.emit(P.type,P);c20=33;break;case 24:this.$a.cJa(P);U=function(){var i20;i20=2;for(;i20 !== 5;){switch(i20){case 2:var P5Y="shutdown ";P5Y+="detected before st";P5Y+="artR";P5Y+="equests";L.$a.dib();L.dm()?L.ub(P5Y):L.Jjb();i20=5;break;}}};Q.Otb?setTimeout(function(){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:L.zHa(ha).then(U);j20=1;break;}}},0):this.zHa(ha).then(function(){var k20;k20=2;for(;k20 !== 1;){switch(k20){case 2:setTimeout(U,0);k20=1;break;case 4:setTimeout(U,3);k20=8;break;k20=1;break;}}});c20=21;break;case 14:var c5Y="createMe";c5Y+="dia";c5Y+="SourceS";c5Y+="tar";c5Y+="t";da=this.LR.Qfb(la,P);la.forEach(function(ma,ta){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:var Q5Y="h";Q5Y+="ead";Q5Y+="e";Q5Y+="r";Q5Y+="s";Q5Y === ma?L.LP=da[ta]:L.cb.gf[ma].ih=da[ta];d20=1;break;}}});this.$a.Lj(c5Y);ya=new w(this.P.rE);c20=10;break;case 16:var j5Y="E";j5Y+="r";j5Y+="r";j5Y+="or";j5Y+=":";throw (this.Ck(j5Y,ya.error),ya.error);c20=15;break;case 15:ya.sourceBuffers.forEach(function(ma){var e20,ta,Ja;e20=2;for(;e20 !== 13;){switch(e20){case 3:var T5Y="manage";T5Y+="rdeb";T5Y+="u";T5Y+="geve";T5Y+="nt";var o5Y="log";o5Y+="d";o5Y+="at";o5Y+="a";var v5Y="e";v5Y+="r";v5Y+="ror";var K5Y="re";K5Y+="questAppen";K5Y+="ded";ma.addListener(K5Y,L.Rgb.bind(L));ma.addListener(v5Y,function(wa){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:var V5Y="NFErr_";V5Y+="MC";V5Y+="_Streamin";V5Y+="gFa";V5Y+="ilure";L.Do(wa.errorstr,void 0,V5Y);f20=1;break;}}});ma.addListener(o5Y,function(wa){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 2:v.Ma(L,wa.type,wa);g20=1;break;}}});Q.Ch && ma.addListener(T5Y,function(wa){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:v.Ma(L,wa.type,wa);h20=1;break;case 4:v.Ma(L,wa.type,wa);h20=4;break;h20=1;break;}}});e20=6;break;case 2:var O5Y="head";O5Y+="er";O5Y+="Append";O5Y+="e";O5Y+="d";(ta=ma.mediaType,Ja=L.cb.gf[ta]);ma=new n.d9(Ja.u,ta,ya,ma,Q,L.P,void 0,L.Fg.bind(L));Ja=new G.kza(ma,ta,L.Ba,L.G,Ja.u);ma.addListener(O5Y,L.Ogb.bind(L));e20=3;break;case 6:L.eg[ta]=ma;L.eu[ta]=Ja;e20=13;break;}}});this.nw=new D.wDa(this.eu,this.bJ.bind(this),this.P.ie.bind(this.P));this.$q && this.$a.Nhb();P=this.RSa();c20=24;break;case 2:L=this;c20=1;break;case 20:var m5Y="create";m5Y+="Me";m5Y+="diaSourceEnd";this.$a.Lj(m5Y);ya.Rb || (ya.Rb=w.Rb);this.lf=ya;c20=17;break;case 17:c20=!ya.D_(va)?16:15;break;case 1:c20=!g.pa(this.Zz) || 0 > this.Zz?5:4;break;case 10:c20=1 === ya.readyState?20:34;break;}}};Object.defineProperties(R.prototype,{cE:{get:function(){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:var M5Y="1";M5Y+=".";M5Y+="0";return M5Y;break;}}},enumerable:!1,configurable:!0}});R.prototype.sja=function(){};R.prototype.flush=function(){var m20;m20=2;for(;m20 !== 1;){switch(m20){case 2:this.nj.flush();m20=1;break;case 4:this.nj.flush();m20=5;break;m20=1;break;}}};R.prototype.paused=function(){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 4:this.P.paused();n20=5;break;n20=1;break;case 2:this.P.paused();n20=1;break;}}};t10=32;break;case 2:Object.defineProperties(R.prototype,{addEventListener:{get:function(){var z10;z10=2;for(;z10 !== 1;){switch(z10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{removeEventListener:{get:function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{TIb:{get:function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 4:return this.lf.Rb;break;B10=1;break;case 2:return this.lf.Rb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{mediaSourceId:{get:function(){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:return this.lf?this.lf.zV:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{rq:{get:function(){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:return this.Nb(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{Ul:{get:function(){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:return this.Nb(1);break;case 4:return this.Nb(2);break;E10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{attributes:{get:function(){var F10;F10=2;for(;F10 !== 1;){switch(F10){case 2:return this.qba;break;case 4:return this.qba;break;F10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{qg:{get:function(){var G10;G10=2;for(;G10 !== 1;){switch(G10){case 2:return this.hg;break;case 4:return this.hg;break;G10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{EU:{get:function(){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:return 0 <= this.GZ?this.GZ:0;break;case 4:return 2 >= this.GZ?this.GZ:2;break;H10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{Ud:{get:function(){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 2:return this.Xc[this.QI];break;}}},enumerable:!1,configurable:!0}});t10=13;break;case 104:R.prototype.Sib=function(L){var f40,la,S,da,ya,Q,P,ha,va;f40=2;for(;f40 !== 27;){switch(f40){case 16:L.W0a(S,ya);this.vG(0);f40=27;break;case 9:f40=(null === (P=this.Sg) || void 0 === P?0:P.$A())?8:7;break;case 8:var A5Y="aud";A5Y+="i";A5Y+="oS";A5Y+="witch";(this.Sg.FQb(function(U){var g40;g40=2;for(;g40 !== 5;){switch(g40){case 2:g40=0 === U.mediaType?1:5;break;case 3:g40=7 !== U.mediaType?5:3;break;g40=0 === U.mediaType?1:5;break;case 1:return (Q.ZD(U,!1),!0);break;}}}),this.Sg.$A() || (this.Sg=void 0,ha.qq || this.kw.fA || this.pQ(A5Y)));f40=7;break;case 17:++P;f40=19;break;case 3:(la=this.Ud,S=la.M.getTrackById(this.cb.Uw.trackId),da=S.xN,ya=this.P.ie() - L.fe);f40=9;break;case 12:this.Lf.XM(null);this.bda(0,C.$O.kRa,L);f40=10;break;case 10:this.Ba.J2a(L,!0);f40=20;break;case 20:P=this.QI;f40=19;break;case 19:f40=P < this.Xc.length?18:16;break;case 2:(Q=this,ha=this.G);L=L.wb;va=this.cb.gf[0];this.cb.Uw=va.V4;f40=3;break;case 7:P=this.Qb.f2(la.M.la,[da],0);this.qba[0]=P[0];this.LR.BJa(0,L.M);va.V4=void 0;f40=12;break;case 18:this.MOb(P,da,ya);f40=17;break;}}};R.prototype.MOb=function(L,Q,P){var h40,ha;h40=2;for(;h40 !== 6;){switch(h40){case 4:h40=L.M.V2?3:7;break;case 3:L.jp(0).Cd.some(function(va){var i40;i40=2;for(;i40 !== 4;){switch(i40){case 5:return ! !ha;break;case 2:ha=va.Yj();i40=1;break;case 7:return - -ha;break;i40=4;break;case 1:i40=!(ha && ha.stream && ha.stream.Y && P < ha.stream.Y.Hi(0))?5:4;break;}}});h40=8;break;case 7:this.iQ(0);h40=6;break;case 8:ha?(L.M.Hg[0]=ha,L.OU=!1,ha.stream.te && L.d0()):(L.M.Hg[0]=void 0,L.OU=!1,L.M.EM([L.jp(0)],!0,0));h40=7;break;case 2:l.Vl.lp(0);L=this.Xc[L];L.qsa(Q);h40=4;break;}}};R.prototype.Xib=function(L,Q){var j40,P;j40=2;for(;j40 !== 4;){switch(j40){case 2:P=this.eg[L.mediaType];L=this.Ba.KU(L.wb,L.mediaType,Q,this.Qb.Ly || 0,function(ha){var k40;k40=2;for(;k40 !== 1;){switch(k40){case 2:P.q6(ha);k40=1;break;}}});g.ea(L) || this.Ef.cj();j40=4;break;}}};R.prototype.Ogb=function(L){var l40,Q,P,ha;l40=2;for(;l40 !== 8;){switch(l40){case 2:(Q=L.mediaType,P=L.manifestIndex,ha=L.streamId);L=this.Ba.uc.Oa(Q);Q=this.Xc[P].M.ss(Q,ha);this.Cjb(L,Q);l40=3;break;case 3:this.G=this.QNa.jfb(Q.mg,this.G);this.Xc.forEach(function(va,la){var m40,S;m40=2;for(;m40 !== 5;){switch(m40){case 2:S=va.M;S.V2 || 0 === la || S.EM([va.jp(0),va.jp(1)]);m40=5;break;}}});l40=8;break;}}};R.prototype.Rgb=function(L){var n40,Q,P;n40=2;for(;n40 !== 8;){switch(n40){case 2:Q=L.request;L=L.mediaType;n40=5;break;case 5:P=Q.Ka.wb;P.eIb(L);Q.O1 && this.$a.Uhb(Q);Q.Kq && this.$a.iib(L,Q.M.qb,P.R);n40=8;break;}}};R.prototype.Cjb=function(L,Q){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:this.cb.Vu[L.mediaType].pF={id:Q.Fa,index:Q.$f,bitrate:Q.bitrate,Ha:Q.bb && Q.bb.confidence && Q.bb.Ha?Q.bb.Ha.Aa:0,location:Q.location};o40=1;break;}}};R.prototype.ZK=function(L){var p40,Q,P,ha,va,la,S,da,ya,U,ma;p40=2;for(;p40 !== 11;){switch(p40){case 1:p40=!da.uc.Qo?5:12;break;case 2:(la={},S=this.eg,da=this.Ba);p40=1;break;case 5:(ya=da.uc,U=ya.xd(0),ma=ya.xd(1));la.vspts=null !== (Q=null === ma || void 0 === ma?void 0:ma.dc) && void 0 !== Q?Q:0;la.aspts=null !== (P=null === U || void 0 === U?void 0:U.dc) && void 0 !== P?P:0;la.vbuflbytes=null !== (ha=null === ma || void 0 === ma?void 0:ma.Uo.$) && void 0 !== ha?ha:0;p40=8;break;case 8:la.abuflbytes=null !== (va=null === U || void 0 === U?void 0:U.Uo.$) && void 0 !== va?va:0;la.vbuflmsec=da.ru(ya,1);la.abuflmsec=da.ru(ya,0);L && (la.a=null === U || void 0 === U?void 0:U.Ka.Y.toJSON(),la.v=null === ma || void 0 === ma?void 0:ma.Ka.Y.toJSON());p40=13;break;case 13:L && S && (L=S[1],S=S[0],la.atoappend=null === L || void 0 === L?void 0:L.Q6(),la.vtoappend=null === S || void 0 === S?void 0:S.Q6());p40=12;break;case 12:return la;break;}}};R.prototype.FTa=function(L){var q40,Q,P,ha,va,la,S;q40=2;for(;q40 !== 8;){switch(q40){case 2:(Q=this.Ba.uc,P=Q.Oa(L));q40=1;break;case 1:q40=P?5:8;break;case 5:(ha=this.cb.Vu[L],va=this.Ba.pE(Q,L));ha=ha.pF?ha.pF.bitrate:0;(la=P.Ka.doa,S=this.Ba.fe);return {type:L,availableMediaBuffer:t.default.Cn()[L] - va,completeBuffer:Q.ij(L),incompleteBuffer:la,playbackBitrate:P.A_a,streamingBitrate:ha,streamingTime:P.dc + S,usedMediaBuffer:va,toappend:P.VYb};break;}}};R.prototype.ZQb=function(){var r40,L;r40=2;for(;r40 !== 5;){switch(r40){case 2:var h5Y="requestG";h5Y+="arbageCo";h5Y+="llection";L={type:h5Y,time:t.default.time.ba()};v.Ma(this,L.type,L);r40=5;break;}}};R.prototype.Do=function(L,Q,P,ha,va,la){var s40;s40=2;for(;s40 !== 1;){switch(s40){case 2:var S5Y="NF";S5Y+="Err_MC";S5Y+="_St";S5Y+="rea";S5Y+="mingFailure";this.j_ || (g.ea(P) && (P=S5Y),this.j_=!0,this.$a.mib(P,L,ha,va,la,void 0 !== Q?Q:this.EU));s40=1;break;}}};t10=94;break;case 32:R.prototype.kC=function(){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 4:this.P.kC();o20=8;break;o20=1;break;case 2:this.P.kC();o20=1;break;}}};R.prototype.AU=function(){};R.prototype.close=function(){var p20;p20=2;for(;p20 !== 4;){switch(p20){case 5:this.nj.close();p20=4;break;case 2:this.C2a.Gb();this.Xc.forEach(function(L){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 4:L.close();q20=3;break;q20=1;break;case 2:L.close();q20=1;break;}}});p20=5;break;}}};R.prototype.k1a=function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:this.Qb.ejb(this);r20=1;break;}}};R.prototype.kc=function(){var s20,L;s20=2;for(;s20 !== 20;){switch(s20){case 8:this.eu.forEach(function(Q){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:Q.reset();t20=1;break;}}});this.P.ve(f.ga.ji);this.Xc.forEach(function(Q){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:Q.kc();u20=1;break;case 4:Q.kc();u20=9;break;u20=1;break;}}});this.Xc=[];s20=13;break;case 13:var G5Y="Error on MediaSour";G5Y+="ce";G5Y+=" destroy:";G5Y+=" ";this.hg.clear();L=this.lf;this.lf=void 0;g.ea(L) || L.Yo() || this.ub(G5Y,L.error);s20=20;break;case 2:this.Lf.mLb();this.$Y();this.Ba.Gb();this.LR.bgb();null === (L=this.nw) || void 0 === L?void 0:L.reset();s20=8;break;}}};R.prototype.suspend=function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 4:this.nj.suspend();v20=7;break;v20=1;break;case 2:this.nj.suspend();v20=1;break;}}};R.prototype.resume=function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:this.nj.resume();w20=1;break;case 4:this.nj.resume();w20=0;break;w20=1;break;}}};R.prototype.dm=function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:return this.nj.dm();break;}}};R.prototype.Ejb=function(){var y20,L;y20=2;for(;y20 !== 8;){switch(y20){case 9:this.$q && !this.SY && (this.SY=setInterval(this.$a.aJa.bind(this.$a),L.jea));y20=8;break;case 2:L=this.G;this.bA && clearTimeout(this.bA);this.bA=setTimeout(this.qQ.bind(this),L.Z7);this.lw || (this.lw=setInterval(this.$a.bJa.bind(this.$a),L.jE));this.k_ || (this.k_=setInterval(this.$a.oib.bind(this.$a),L.vra));y20=9;break;}}};R.prototype.$Y=function(){var z20;z20=2;for(;z20 !== 7;){switch(z20){case 2:this.bA && (clearTimeout(this.bA),this.bA=void 0);this.lw && (clearInterval(this.lw),this.lw=void 0);this.k_ && (clearInterval(this.k_),this.k_=void 0);this.SY && (clearInterval(this.SY),this.SY=void 0);z20=3;break;case 3:this.pI && (clearTimeout(this.pI),this.pI=void 0);this.Tba && (clearTimeout(this.Tba),this.Tba=void 0);this.Ef.$Y();z20=7;break;}}};t10=39;break;}}})();b.hFa=a;r.hf(c.EventEmitter,a);},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.x$=void 0;c=a(17);g=a(9);l=a(235);r=(function(){function m(d,f,h,k,n,p,q,t,u,w,v,x){void 0 === h && (h=0);this.Gc=d;this.b_=f;this.V=h;this.ta=k;this.h2=n;this.Fg=p;this.CK=q;this.config=t;this.u=u;this.$a=w;this.Nwb=v;this.qg=x;this.Pu=0;}m.create=function(d){var h,k,n,p,q,t,u,w,v,x,y,z,B,A,E;function f(D){g.Ma(w,D.type,D);}h=d.qb;k=d.la;n=d.q2a;p=d.V;q=d.ta;t=d.Gq;u=d.$a;w=d.Db;v=d.config;x=d.u;y=d.Ef;z=d.Nm;B=d.ef;A=d.cB;E=new l.Q8(Number(k.movieId),{qb:h,la:k,Im:d.Im,OXa:{$ka:d.og,PVa:! !d.HVa},Bh:d.Bh,qd:d.qd,config:v,zUa:{dd:y.cj.bind(y),ef:B,cB:A,Em:f,w3:function(D){return D === w.Ba.uc.M;},GS:function(D,F,C,G,H){D=w.cb.gf[D];return !F || C || G || H?w.LP:D.ih;},SA:function(D){return w.cb.Vu[D];},Fg:w.Fg.bind(w)},dU:function(D){w.emit("requestComplete",{timestamp:D.yd,mediaRequest:D});},e2:function(){return w.Lf;},tb:w.Qb.tb,dh:w.Qb.dh,nQa:{Gq:t,hh:function(D,F,C,G,H){w.Do(D,h,F,C,G,H);},Ln:function(){return w.j_;},iL:w.P.pg.bind(w.P),Em:f},GM:void 0,tG:{X:w.Qb.Ly,$:w.Qb.ZB}});v.sx && E.VB({sy:w.il.sy,ca:w.il.ca,yq:w.il.yq,Dm:u.Dm.bind(u)});d=new c.sh();d.addListener(E.bB,"onHeaderFragments",function(D){var F,C,G,H,J;F=D.mediaType;C=D.Fa;G=D.stream.Y;H=w.Fg(h);if(H){if(E.Hg[F] && D !== E.Hg[F])D.Au && (H=E.Hg[F],D=D.stream,J=H && H.stream,x.warn("first header received for non-current track (trackId " + D.trackId + "streamId " + D.Fa + "), expected track " + (J && J.trackId) + ", stream " + (J && J.Fa) + ", " + H));else {E.Hg[F]=D;D=w.Ba.uc;if(0 === h){J=E.Nb(1)?D.Oa(1).dc:D.Oa(0).dc;D.g0(J,E);}H.OU=!1;H.d0();w.s_();}z.Zba();u.eib(h,F,C,E.H,G);y.cj();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(E.bB,"onHeaderRequestComplete",function(D){var F,C;D.xl?w.s_():D.GA && (x.warn("drm header header:",D.toString(),"but no headers seen, marking pipeline drmReady"),w.fs(D.H));F=D.mediaType;C=Object.getOwnPropertyNames(A.$t[F]);w.eg[F].WYa(D.stream,1 === C.length && C[0] === D.Fa);y.QHa();w.ZQb();});d.addListener(E.bB,"onHeaderFromCache",function(D){var F;F=D.header;D=D.Hxb;F.xl && w.s_();D && u.Whb(F.H,F.Fa);});return new m(E,n,p,q,function(){return w.Ba;},w.Fg.bind(w),w.CK.bind(w),v,x,u,!1,d);};Object.defineProperties(m.prototype,{M:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qb:{get:function(){return this.M.qb;},enumerable:!1,configurable:!0}});m.prototype.jp=function(d){return this.Gc.WTa(d,this.n2(d));};m.prototype.n2=function(d){return this.b_[d];};m.prototype.close=function(){this.qg.clear();this.M.close();};m.prototype.kc=function(){this.Gc.kc();delete this.Gc;};m.prototype.clone=function(){return new m(this.M,this.b_,this.V,this.ta,this.h2,this.Fg,this.CK,this.config,this.u,this.$a,!0,this.qg);};m.prototype.qsa=function(d){this.u.trace("updateAudioTrack:",this.b_[0],"->",d);this.b_[0]=d;};m.prototype.HSa=function(){return void 0 !== this.JF?this.JF:this.ta?this.ta:this.Gc.duration;};m.prototype.dob=function(d,f){var h,k,n,p;h=this.Gc.Hg[1];if(h && h.stream.te){if(this.xx && this.xx[1] && this.xx[1].V <= d && this.xx[1].ta > d)return this.xx[1].Tc;k=h.stream.Y;n=k.sm(d,void 0,!0);p=void 0;f && (d=h.stream.Zh(n).K1(d)) && (p=d.cd);void 0 === p && (p=k.Hi(n));return p;}};m.prototype.d0=function(){var d,f;if(!this.OU && this.pUa()){this.zna();d=[0,0];if(0 !== this.qb && !this.Gc.Re.JT && !this.Gc.Re.replace){f=this.Fg(this.qb - 1);f=this.Gc.H === f.Gc.H;d=this.h2().uc;f=d.g0(this.V,this.M,d,f);d=f.sM;}this.V=d[1];this.sM=d;this.xx=f && f.xx;this.CMa();f=this.Gc.Nb(1)?this.Gc.Hg[1].stream.Y.ta:this.Gc.Hg[0].stream.Y.ta;this.$a.aib(this.qb,this.Pu,this.V,this.JF,f);this.OU=!0;for(f=this.qb + 1;f < this.CK();++f){d=this.Fg(f);d.OU=!1;d.d0();}}};m.prototype.CMa=function(){var d;if(0 === this.qb || this.Gc.Re.replace)this.Pu=0;else {d=this.Fg(this.qb - 1);this.Pu=d.Pu + d.HSa() - this.V;}};m.prototype.zna=function(){var d,f,h,k,n,p,q,t;if(this.pUa()){n=this.h2().uc;p=this.ta || Infinity;q=this.Gc.Nb(1);t=n.cS(p,this.M);this.JF=q?t[1].ta:t[0].ta;n=q?this.Gc.Hg[1].stream.Y.ta:this.Gc.Hg[0].stream.Y.ta;q=Math.min(null !== (f=null === (d=t[1]) || void 0 === d?void 0:d.ta) && void 0 !== f?f:Infinity,null !== (k=null === (h=t[0]) || void 0 === h?void 0:h.ta) && void 0 !== k?k:Infinity);this.$a.cib(this.qb,this.JF,n,q);d=this.h2().Rha(this.qb);0 < d.length && d.forEach(function(u){u.sXb(t,p);});}};m.prototype.pUa=function(){var d,f,h,k;d=this.Gc.Nb(0);f=this.Gc.Nb(1);h=this.Gc.Hg[0];k=this.Gc.Hg[1];h=h && h.stream.te;k=k && k.stream.te;return (!d || h) && (!f || k);};return m;})();b.x$=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kFa=void 0;r=a(0);c=a(9);a=r.__importDefault(a(3));g=a.default.Wm;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function l(m,d,f){this.Dm=f;this.okb=new c.YGa(m);this.ca=d.ca;this.ufb=1E3 * d.EIb / d.xnb;this.Iub=d.yq;this.nLa=!1;}l.prototype.vu=function(m){var d,f;d={s_xid:this.ca,dl:this.Iub?1:0};m.xJ && (d.bs=c.l0(Math.floor(m.xJ / this.ufb) + 1,1,5));m.Z4 && (d.limit_rate=m.Z4);m.dMa && (d.bb_reason=m.dMa);m.T4a && (d.tm=m.T4a);if(m.HJ){f=Object.keys(m.HJ).every(function(h){return 0 === m.HJ[h];});if(!f || f && this.nLa)(d.cpr_ss=m.HJ.f7,d.cpr_ca=m.HJ.x0,d.cpr_rec=m.HJ.l6,this.nLa=f?!1:!0);}m.Fea && (d.br="" + m.Fea.start + "+" + m.Fea.size);return this.qib(d);};l.prototype.wqa=function(m,d){var f,h;try{f=new g(void 0,"notification");h=this.vu({dMa:m});d && h && f.open(d,void 0,2,void 0,void 0,void 0,h);}catch(k){this.Dm("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};l.prototype.qib=function(m){var d;try{d=this.zjb(m);return this.okb.encrypt(d);}catch(f){this.Dm("SideChannel: Error when obfuscating msg. Error: " + f);}};l.prototype.zjb=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return l;})();b.kFa=a;},function(r,b,a){var g,l,m,d,f,h;function c(k,n){var p,q;p=Math.floor(1E3 * k / n);q=1E3 * Math.round(p / 1E3);return new l.S(q,Math.abs(Math.floor(1001 * k / n) - q) > Math.abs(p - q)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.Sta=void 0;g=a(397);l=a(21);m=a(5);d=a(9);f=a(398);h=a(399);r=(function(){function k(n,p,q){this.G=p;this.u=q;this.Jz=new d.lFa();this.MZ=0;this.nB=n.nB;this.M=n.M;this.mediaType=n.mediaType;this.xN=n.xN;this.$D=n.$D;1 === this.mediaType && (p=this.nB.streams[0],void 0 !== p.framerate_value && void 0 !== p.framerate_scale && (this.Cca=c(p.framerate_value,p.framerate_scale).T0a()));this.nl=(this.FI=this.Cca) && this.FI.U;this.gca=this.RHa=!1;this.mka=-Infinity;this.WWa=Infinity;n=k.Sfb(this,n.og);p=n.maxBitrate;q=n.Cd;this.QS=n.QS;this.maxBitrate=p;this.Cd=q;this.Mjb=q.reduce(function(t,u){t[u.Fa]=u;return t;},{});!1;}k.Sfb=function(n,p){var q,t,u,w,v;q=n.G;t=1 === n.mediaType;u=!1;w=0;v=[];n.nB.streams.forEach(function(x,y){var z,B,A;z=x.bitrate;B=!0;if(t){A=-1 === x.content_profile.indexOf("none");B=p && !A || !p && A;u=u || A;}B && z > w && (w=z);x=new h.Qta({ay:x,$f:y,track:n,Iu:B},q,n.u);v.push(x);});return {QS:u,maxBitrate:w,Cd:v};};Object.defineProperties(k.prototype,{pna:{get:function(){return !this.te && 0 === this.MZ;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{te:{get:function(){return ! !this.Sl && ! !this.Jz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fha:{get:function(){return this.RHa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{H:{get:function(){return String(this.M.H);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.nB.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xa:{get:function(){return this.FI;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.nl;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{QL:{get:function(){return this.Jhb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Sl:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{WK:{get:function(){return this.Jz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qia:{get:function(){return this.xa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pia:{get:function(){return this.xa.Kb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cia:{get:function(){return this.Jz;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{IT:{get:function(){return this.Cd.some(function(n){var p;return 1 < ((null === (p=n.Gh) || void 0 === p?void 0:p.length) || 0);});},enumerable:!1,configurable:!0}});k.prototype.ss=function(n){return this.ZE()[n];};k.prototype.ZE=function(){return this.Mjb;};k.prototype.equals=function(n){return this.H === n.H && this.mediaType === n.mediaType && this.trackId === n.trackId;};k.prototype.m5=function(){this.MZ++;};k.prototype.l5=function(){0 < this.MZ && this.MZ--;};k.prototype.k5=function(n,p,q,t,u){if(t && void 0 !== t.Ol && (this.te || void 0 !== t.Vd && t.Vd.length)){if((n.Qx && (this.RHa=!0),this.te))!this.gca && t.Vd && t.Vd.length > this.Sl.length && (this.Fc=new g.Zaa(this.mediaType,this.xa,t,u),this.Jz.K1a(),this.mka=-Infinity,this.gca=!0);else {this.OJa(p);if(q=q || this.Cca)(this.NJa(q || this.Cca),void 0 === this.U && this.PJa(q.U));this.Fc=new g.Zaa(this.mediaType,this.xa,t,u);n.Qx && (this.gca=!0);}}else this.u && this.u.error("AseTrack.onHeaderReceived with missing fragments data");};k.prototype.tLb=function(n){void 0 === this.Jz.value && this.Jz.set(n);};k.prototype.jqb=function(n){this.te || (this.PJa(n.U),this.OJa(n.QL),this.NJa(n.xa),this.Fc=n.Sl,n.cia.value?this.Jz.set(n.cia.value):this.Jz.K1a());};k.prototype.rm=function(n,p,q,t){m.assert(this.WK);return f.rm(this.mediaType,n,this.WK,p,q,t);};k.prototype.wx=function(n,p,q){m.assert(this.WK);return f.wx(this.mediaType,n,this.WK,p,q);};k.prototype.toJSON=function(){return {movieId:this.H,mediaType:this.mediaType,trackId:this.trackId};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};k.prototype.PJa=function(n){this.nl=n;};k.prototype.OJa=function(n){this.Jhb=n;};k.prototype.NJa=function(n){this.FI=n;};return k;})();b.Sta=r;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DFa=b.meb=void 0;c=a(0);a(82);g=a(5);r=c.__importDefault(a(3));l=a(407);a=a(397);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}f=(function(h){function k(n,p){p=h.call(this,n.Sl,p) || this;p.TD=n;return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{$:{get:function(){return this.TD.s3a(this.Ag);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.TD.eh(this.Ag);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nna:{get:function(){return this.TD.PL && this.TD.PL[this.Ag];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ej:{get:function(){return this.TD.Cyb(this.Ag);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mb:{get:function(){return this.TD.qC && this.TD.qC[this.Ag];},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Ua,contentEndTicks:this.fb,durationTicks:this.zq,timescale:this.U,startPts:this.V,endPts:this.ta,duration:this.duration,additionalSAPs:this.ej};};return k;})(a.iGa);b.meb=f;r=(function(){function h(k,n,p,q,t,u){this.UI=128;this.Fc=k;this.se=n.offset;this.Fo=n.sizes;this.qI=this.uP=this.zh=this.aKa=this.kda=void 0;this.Ihb=p;this.oba=q && q.eh;this.kKa=t;this.Le=Math.min(this.Fc.length,this.Fo.length);this.uhb=this.Vnb();this.Sl.iq.length !== this.Fo.length && m.error("Mis-matched stream duration (" + this.Sl.iq.length + "," + this.Fo.length + ") for movie id " + u);this.Sl.E_ && !this.oba && m.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Fc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ol:{get:function(){return this.Fc.Ol;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tha:{get:function(){return this.Fc.tha;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{V:{get:function(){return this.Fc.V;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ta:{get:function(){return this.Fc.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ima:{get:function(){return this.Fc.Ima;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vF:{get:function(){return this.uhb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xa:{get:function(){return this.Fc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{U:{get:function(){return this.Fc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gj:{get:function(){return this.aKa || this.zba();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{PL:{get:function(){return this.Ihb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{LKa:{get:function(){return this.oba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qC:{get:function(){return this.kKa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sl:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cN:{get:function(){return this.kda || this.Rfb();},enumerable:!1,configurable:!0}});h.prototype.s3a=function(k){if(this.Fo)return this.Fo[k];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Hi=function(k){return this.Fc.Hi(k);};h.prototype.WR=function(k){return this.Fc.Hi(k) + this.Fc.Vd(k);};h.prototype.eh=function(k){var n,p,q;if(this.uP !== k || void 0 === this.qI){if(0 === k)return this.se;if(this.uP === k - 1 && void 0 !== this.qI)(this.qI+=this.Fo[this.uP],++this.uP);else {n=this.zh || this.Bfb();p=Math.floor(k / this.UI);q=p * this.UI;for(n=n[p];q < k;++q){n+=this.Fo[q];}this.uP=k;this.qI=n;}}return this.qI;};h.prototype.Vd=function(k){return this.Fc.Vd(k);};h.prototype.get=function(k){return new f(this,k);};h.prototype.Cyb=function(k){var n,p,q,t,u;g.assert(0 <= k);n=this.Sl.E_;p=this.Sl.MKa;q=this.oba;if(!q || !n || !p || k >= n.length)return [];t=[];u=k === n.length - 1?p.length:n[k + 1];for(n=n[k];n < u;++n){t.push({Yk:p[n],cd:this.Hi(k) + this.xa.Q4(p[n]).X,offset:q[n]});}return t;};h.prototype.oTb=function(k){this.kKa=k;};h.prototype.sm=function(k,n,p){return this.Fc.sm(k,n,p);};h.prototype.J1=function(k,n,p){return this.Fc.J1(k,n,p);};h.prototype.Xfa=function(k,n){return this.Fc.Xfa(k,n);};h.prototype.Snb=function(k,n,p,q,t){var u,w,v,x,y,z,B,A,E;u=!0;w=0;v=this.Fc.iq;x=this.Fo;k=Math.floor(k * this.U / 1E3);y=Math.floor(p * this.U / 1E3);z=0;B=0;A=0;if(this.Fc.osa && this.Fc.nsa)for(w=this.Fc.osa;w <= this.Fc.nsa;++w){z+=v[w];B+=x[w];}if(B > n)u=!1;else for(;w < this.length && (!t || w < t);){E=x[w];p=v[w];if(B + E > n){for(;1 < w - A && B + E > n && (z - v[A] >= y || B - x[A] > q);){z-=v[A];B-=x[A];++A;}if(z < k || B + E > n){u=!1;this.Fc.osa=A;this.Fc.nsa=w;break;}}z+=p;B+=E;++w;}return u;};h.prototype.subarray=function(k,n){g.assert(void 0 === k || 0 <= k && k < this.length);g.assert(void 0 === n || n > k && n <= this.length);return new h(this.Fc.subarray(k,n),{offset:this.eh(k),sizes:this.Fo.subarray(k,n)},this.PL && this.PL.subarray(k,n),this.LKa && ({eh:this.LKa}));};h.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};h.prototype.map=function(k){for(var n=[],p=0;p < this.length;++p){n.push(k(this.get(p),p,this));}return n;};h.prototype.reduce=function(k,n){for(var p=0;p < this.length;++p){n=k(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace("StreamFragments: " + k + ": [" + n.V + "-" + n.ta + "] @ " + n.offset + ", " + n.$ + " bytes");}};h.prototype.Vnb=function(){var k,n,p,q,u;k=0;n=this.Fc.yXa;p=this.Fc.iq;q=this.Fo;if(void 0 === n || n >= this.length){for(var t=0;t < this.length;++t){u=q[t] / p[t];u > k && (k=u,n=t);}void 0 === this.Fc.yXa && (this.Fc.yXa=n);}else k=q[n] / p[n];return Math.floor(k * this.U / 125);};h.prototype.zba=function(){for(var k=0,n=0;n < this.length;++n){k+=this.Fo[n];}return this.aKa=k;};h.prototype.Rfb=function(){return this.kda=new l.Paa(this.Fc.iq,this.Fo,this.Fc.U);};h.prototype.Bfb=function(){if(!this.zh){for(var k=d?new Float64Array(Math.ceil(this.length / this.UI)):Array(Math.ceil(this.length / this.UI)),n=this.se,p=0;p < k.length;++p){k[p]=n;for(var q=0;q < this.UI;++q){n+=this.Fo[p * this.UI + q];}}this.zh=k;}return this.zh;};return h;})();b.DFa=r;r.prototype.M3a=a.Ou(r.prototype.Hi);a.Ou(r.prototype.WR);a.Ou(r.prototype.Vd);a.Ou(r.prototype.eh);a.Ou(r.prototype.s3a);a.Ou(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.vg();this.pd=1 === this.version?this.ov([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.ov([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};l.mf="mvhd";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.mf="trak";l.Jc=!0;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.vg();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{d7b:"int16"},{C4b:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.pd=this.ov(m);this.pd.E9b=! !(this.flags & 1);this.pd.F9b=! !(this.flags & 2);this.pd.G9b=! !(this.flags & 4);this.pd.I9b=! !(this.flags & 8);this.L.console.trace("Finished parsing track box");return !0;};l.mf="tkhd";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.vg();this.pd=this.ov(1 === this.version?[{pRa:"int64"}]:[{pRa:"int32"}]);return !0;};l.mf="mehd";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.pd=this.ov([{J6b:"int32"},{V9b:"int32"}]);return !0;};l.mf="pasp";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.pd=this.ov([{R4b:"int32"},{maxBitrate:"int32"},{Omb:"int32"}]);return !0;};l.mf="btrt";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.L.QB();this.L.QB();for(this.Ffa=[];this.L.offset <= this.byteOffset + this.byteLength - 4;){this.Ffa.push(this.L.QB());}return !0;};l.mf="ftyp";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(83);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.vg();this.pd=this.ov([{A8b:"int32"},{iUa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.pd.iUa=g.Gz(this.pd.iUa);return !0;};m.mf="hdlr";m.Jc=!1;return m;})(a(30).yg);b.default=r;},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(97);l=a(237);m=a(173);r=a(30);d=a(98);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.vg();this.ap=this.L.Yb();return !0;};h.prototype.nK=function(k){var n;n=Object.keys(this.Zc);n.length && (n=n[0],this.Zc[n].length && (n=this.Zc[n][0],n instanceof m.default?this.xa=new l.S(n.Y1,n.samplerate):n instanceof d.default && (n=n.Zc[g.J$]) && n.length && (n=n[0].pd,1E3 !== n.a1 && 1001 !== n.a1 || 0 !== n.Jna % 1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.Jna + "/" + n.a1):this.xa=new l.S(n.a1,n.Jna)),this.xa && (k.xa=this.xa)));return !0;};h.prototype.j1a=function(k){void 0 !== this.Zc[k] && 0 !== this.Zc[k].length && (this.kb.qr(this.ap - 1,this.byteOffset + 12),k=this.Zc[k][0],this.Ll(k.byteLength,k.byteOffset));};h.mf="stsd";h.Jc=!0;return h;})(r.yg);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.kyb=this.L.ug(2);this.vnb=this.L.ug(5);this.wnb=this.L.ug(3);this.wkb=this.L.ug(3);this.L.ug(1);this.L.ug(5);this.L.ug(5);return !0;};l.mf="dac3";return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var d;this.NKb=this.L.Jh() & 7;this.iVb=[];for(var m=0;m < this.NKb;m++){d={kyb:this.L.ug(2),vnb:this.L.ug(5),wnb:this.L.ug(5),wkb:this.L.ug(3),f7b:this.L.ug(1),MKb:this.L.ug(4)};0 < d.MKb?d.Z4b=this.L.ug(9):this.L.ug(1);this.iVb.push(d);}return !0;};l.mf="dec3";return l;})(a(30).yg);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(30);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.vg();this.e2a=this.L.QB();g.ma && this.L.console.trace("SchemeTypeBoxTranslator: " + this.e2a);"cenc" === this.e2a && (this.L.offset-=4,g.ma && this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.L.offset),this.kb.T6a("piff"));this.L.Yb();return !0;};m.mf="schm";m.Jc=!1;return m;})(g.yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.L.Pd();this.F7a=this.L.Pd();this.L.Pd();this.L.Pd();this.L.Pd();this.D3a=this.Wca(this.L.Pd() & 31);this.Wca(this.L.Pd());this.Z5=this.D3a.length?this.D3a[0][0]:this.F7a;this.uJa=this.L.offset;this.startOffset + this.length < this.L.offset && (100 === this.Z5 || 110 === this.Z5 || 122 === this.Z5 || 144 === this.Z5) && (this.L.Pd(),this.L.Pd(),this.Wca(this.L.Pd()));m=this.startOffset + this.length - this.uJa;0 < m && this.Ll(m,this.uJa);return !0;};l.prototype.Wca=function(m){var h;for(var d=[],f=0;f < m;++f){h=this.L.Jh();d.push(this.L.f6(h));}return d;};l.mf="avcC";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.nK=function(){var m;m=this.LA("esds");if(m=m && m.z$a.LA(5))this.Y1=m.Y1;return !0;};l.mf="mp4a";l.Jc=!0;return l;})(a(173).default);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(239);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.vg();this.z$a=g.Lwa.B0a(this.L);return !0;};m.mf="esds";m.Jc=!1;return m;})(a(30).yg);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(97);a=a(30);g=r.J$;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.vg();this.pd=this.ov([{Jna:"int32"},{a1:"int16"}]);return !0;};m.mf=g;m.Jc=!1;return m;})(a.yg);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m,d,f,h,k;this.vg();m=this.ov([{Wra:"int32"},{POa:"int32"},{X0:"int32"},{Z0:"int32"},{Y0:"int32"}]);d=m.Wra;f=m.POa;h=m.X0;k=m.Y0;m=m.Z0;this.pd={trackId:d,v5b:f,W0:h,w5b:k,x5b:m};this.Wra=d;this.POa=f;this.X0=h;this.Z0=m;this.Y0=k;return !0;};l.mf="trex";l.Jc=!1;return l;})(a(30).yg);b.default=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(900);l=a(243);m=a(144);d=a(237);f=a(30);r=a(402);h=a(403);k=a(405);n=a(145);p=a(236);q=a(97);t=a(406);a=(function(){function u(w,v,x,y,z,B){this.console=w;this.stream=v;this.dt=y;this.llb=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.hDb=n.Fzb();}u.path=function(w,v){return v.reduce(function(x,y){return x && x.Zc[y] && x.Zc[y][0];},w);};u.IAb=function(w){return w && w.Ffa && -1 !== w.Ffa.indexOf("mcl0")?"mcl0":void 0;};u.rxb=function(w,v){var x,y;m.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.Vd;v=new d.S(120,1).Ng(x.U).Kb;y=0;for(x=x.Ol;y < w.length && x < v;){x+=w[y++];}return y;};u.prototype.parse=function(w){var v;v=this.TRb();if(!v.done){if(v.AYa)return {DB:!1,mlb:v.AYa};this.console.error("Scan error: " + v.error);return {DB:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.yMb(w);return w.done?this.Ypb():(this.console.error("Parse error: " + w.error),{DB:!1,parseError:w.error || "unknown mp4 parse error"});};u.prototype.QE=function(w){return f.yg.QE(this,w);};u.prototype.LA=function(w){return f.yg.LA(this,w);};u.prototype.TRb=function(){var w,v;w=new t.cab(this.dt,this.llb?[q.WX,q.VX]:[],this.config && this.config.u9b || ["moof",q.kBa],this.config && this.config.e_a);v=c.__assign(c.__assign({},this.config),{coa:!1});return new k.a9(u.fqa,w,this.view,this.console,v).parse();};u.prototype.yMb=function(w){var v,x,y;v=new t.Yva(this.view.byteLength);x=Object.create(p.RL.Zc);this.config && ((this.config.c_a || this.config.l5a || this.config.g7) && g(p.RL.bqa,x),this.config.bsa && g(p.RL.GWb,x),this.config.l5a && g(p.RL.m5a,x));y=c.__assign(c.__assign({},this.config),{coa:!0});this.rf=new k.a9(x,v,this.view,this.console,y);w=this.rf.parse(w);w.done && (this.Zc=this.rf.Zc);return w;};u.prototype.Ypb=function(){var w,v,x,y,z,B;w={DB:!0};v=u.path(this,["moov"]);x=u.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.c_a)if(x)(w.xa=x.xa,w.U8b=x.Zc);else return {DB:!1,parseError:"Missing sample descriptions"};y=u.path(x,["encv","sinf","schi"]);y && (y=u.path(y,["tenc"]) || u.path(y,[q.PBa])) && (w.cwb={l5b:y.zl,Ala:y.Ala,Z6b:!1});if(y=u.path(v,["trak","mdia","mdhd"]))w.U=y.U;if(y=u.path(v,["mvex","trex"]))w.W0=y && y.pd.W0;w.W0 && w.U && (w.xa=new d.S(w.W0,w.U));if(y=u.path(this,["sidx"])){z=u.path(this,[q.WX]);z=z && z.GIb;B=u.path(this,[q.VX]);B=B && B.ej;w.Y=y.Y;w.PL=z;w.ej=B;}if(z=this.Zc.vmaf && this.Zc.vmaf[0])w.qC=z.qC;if(this.config.BRb)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.g7 && x && 1 < x.ap && y && (w.Gh=this.g7(x,y)),void 0 === w.Gh && (v=this.rf.n1?l.concat(this.rf.wa()):this.view.buffer,w.Gh=[{Eg:0,data:v}]));else return {DB:!1,parseError:"Missing movie box"};w.DB=!0;w.x5=this.rf.offset;return w;};u.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.rf.trim(w);this.view=new DataView(v);};u.prototype.g7=function(w,v){var x,y,z;x=Object.keys(w.Zc);y=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);z=u.IAb(x);if(z)return (x=[],this.rf.gPb(),w.j1a("encv"),x.push({Eg:0,xl:!1,data:l.concat(this.rf.wa())}),this.rf.SNb(),w.j1a(y[0]),w=u.rxb(z,v),x.push({Eg:w,xl:!0,data:l.concat(this.rf.wa())}),x);}};u.fqa={};return u;})();b.wz=a;a.fqa[q.K$]=r.default;a.fqa[q.L$]=h.default;},function(r){r.exports=function g(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && g(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(144);l=a(243);m=a(83);r=a(902);d=(function(){function f(h){h?(this.$n=h.$n.slice(),this.sr=h.sr.slice(),this.eh=h.eh.slice(),this.trim=h.trim):(this.$n=[],this.sr=[],this.eh=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.$n.length && 0 === this.sr.length && 0 === this.eh.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function h(k,n,p){k=f.call(this,k,n,p) || this;k.FPa=[];k.Md=new d();return k;}c.__extends(h,f);h.Rlb=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.wV?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.wV?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:g.assert(!n.wV);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:g.assert(!1);}};Object.defineProperties(h.prototype,{n1:{get:function(){return !this.Md.empty;},enumerable:!0,configurable:!0}});h.prototype.s8=function(k,n){this.Md.sr.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.kZb=function(k){this.Md.sr.push({offset:!1,value:k,size:2,wV:!1});};h.prototype.qr=function(k,n){this.Md.sr.push({offset:void 0 !== n?n:this.offset,value:k,size:4,wV:!1});void 0 === n && (this.offset+=4);};h.prototype.lZb=function(k,n){this.Md.sr.push({offset:void 0 !== n?n:this.offset,value:k,size:8,wV:!1});void 0 === n && (this.offset+=8);};h.prototype.T6a=function(k){this.qr(m.CHa(k));};h.prototype.Usa=function(k,n){this.Md.eh.push({offset:this.offset,No:k,value:n});this.offset+=4;};h.prototype.Ll=function(k,n,p){this.Md.$n.push({offset:n,remove:k,eb:p});};h.prototype.VU=function(k,n,p,q){this.Md.$n.push({offset:p,remove:k,replace:n,eb:q});};h.prototype.trim=function(k){this.Md.trim=k;};h.prototype.gPb=function(){this.FPa.push(new d(this.Md));};h.prototype.SNb=function(){this.Md=this.FPa.pop() || new d();};h.prototype.wa=function(){var k,n,p,q,t,u,w;k=this;if(0 === this.Md.$n.length && 0 === this.Md.sr.length && 0 === this.Md.eh.length)return [void 0 === this.Md.trim?this.view.buffer:this.view.buffer.slice(0,this.Md.trim)];this.Md.$n.sort(function(v,x){return v.offset - x.offset;});this.Md.sr.sort(function(v,x){return v.offset - x.offset;});this.pRb();n=this.mxb();p=this.view.buffer.slice(0,n);q=new DataView(p);this.Md.sr.forEach(h.Rlb.bind(void 0,q));this.pXb(q);this.oXb(q);t=[];u=void 0 !== this.Md.trim?Math.min(this.Md.trim,this.view.byteLength):this.view.byteLength;w=0;this.Md.$n.filter(function(v){return v.offset <= u;}).forEach(function(v){v.offset > w && (t.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== k.view && (q=k.view,t.push(q.buffer.slice(n,v.offset))));v.replace && t.push(v.replace);w=v.offset + v.remove;});w < n && t.push(p.slice(w));w < u && t.push(this.view.buffer.slice(Math.max(p.byteLength,w),u));return t;};h.prototype.mxb=function(){var k,n,p;k=[];n=this.Md.sr[this.Md.sr.length - 1];p=this.Md.eh[this.Md.eh.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.Md.$n.filter(function(q){return q.eb;}).forEach(function(q){return k.push(q.eb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.Md.trim?Math.min(n,this.Md.trim):n;};h.prototype.pRb=function(){this.Md.$n=this.Md.$n.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (g.assert(p.eb === n.eb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?l.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.pXb=function(k){var n;n=this;this.Md.eh.forEach(function(p){var q,t,u,w;q=k;t=p.offset;n.Md.$n.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),t=p.offset - v.offset,!0):!1;});u=p.No + (void 0 !== p.value?p.value:q.getInt32(t));w=n.Md.$n.reduce(function(v,x){return x.offset > p.No && x.offset < u?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);q.setInt32(t,u - p.No - w);});};h.prototype.oXb=function(k){this.Md.$n.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.eb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.Keb);b.Jeb=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(145);a(145);g=a(83);r=(function(){function l(m,d,f){this.view=m;this.console=d;this.config=f;this.view=m;this.console=d;this.GF=this.WQ=this.offset=0;}l.prototype.xzb=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.ug=function(m){for(;this.GF < m;){this.WQ=(this.WQ << 8) + this.Pd();this.GF+=8;}this.GF-=m;return this.WQ >>> this.GF & (1 << m) - 1;};l.prototype.Pd=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.Jh=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.Yb=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.gpa=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.YMb=function(m,d){var f;f=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + m;};l.prototype.fk=function(m,d){m=this.YMb(m,d);this.offset+=8;return m;};l.prototype.$Mb=function(){var m,d;m=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < m?m:-m) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * m + d;};l.prototype.APb=function(){var m;m=this.$Mb();this.offset+=8;return m;};l.prototype.QB=function(){return g.Gz(this.Yb());};l.prototype.h6=function(){var d,f,h,k,n,p;function m(q,t){return ("000000" + q.toString(16)).slice(2 * -t);}d=this.Yb(!0);f=this.Jh(!0);h=this.Jh(!0);k=this.Jh();n=this.Jh();p=this.Yb();return [m(d,4),m(f,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};l.prototype.uPb=function(){var m;m=this.view.byteOffset + this.offset;return this.view.buffer.slice(m,m + 16);};l.prototype.tPb=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var f=this.Pd();0 !== f && 0 <= --m;){d.push(f);f=this.Pd();}return String.fromCharCode.apply(null,d);};l.prototype.f6=function(m){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.vj(this.config.AN && c.pCb || c.MK,1,m,d,f);};l.prototype.sPb=function(m){var d,f,h;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.vj(this.config.AN && c.nCb || c.G2,2,m,d,f,h);};l.prototype.e6=function(m,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.vj(this.config.AN && c.oCb || c.KS,4,m,d,f,h);};l.prototype.wPb=function(){for(var m=this.Pd(),d=m & 127;m & 128;){m=this.Pd();d=d << 7 | m & 127;}return d;};l.prototype.vj=function(m,d,f,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,f,h,n);this.offset=k || !h || h === d?this.offset + f * (h || d):this.offset + d;return m;};return l;})();b.Keb=r;},function(r,b,a){var l,m,d,f;function c(h,k,n,p){m.call(this,h,k,n,p);}function g(h,k,n){m.call(this,h,k,n,void 0);}l=a(97);m=a(244).TC;d=a(404);f=a(83).CHa;c.prototype=Object.create(m.prototype);g.prototype=Object.create(c.prototype);g.prototype.Jgb=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.rUb[h]:d.rUb[h];};g.prototype.f1a=function(h,k,n){return this.wa(h,k,!1,n,void 0);};g.prototype.l1a=function(h,k,n){return this.wa(h,k,!0,n,void 0);};g.prototype.wa=function(h,k,n,p,q){var u,w,v,x,y,z,B,A,E,D,F,C,G,H;function t(J){w=u[J];v=w.qt("traf");if(void 0 === v || void 0 === v.Ww)return !1;B=v.qt("tfdt");if(void 0 === B)return !1;x=v.qt("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;u=this.Zc.moof;if(!u || 0 === u.length)return !1;if(void 0 !== h){y=h;for(h=0;h < u.length;++h){if(!t(h,this.rf.console.trace))return !1;if(x.Je > y || n && x.Je === y)break;y-=x.Je;}}else if((h=n?u.length - 1:0,!t(h,this.rf.console.trace)))return !1;if(n && h < u.length - 1){z=u[h + 1];this.rf.Ll(this.t5b - z.startOffset,z.startOffset);}else !n && 0 < h && this.rf.Ll(w.startOffset,0);z=v.qt("tfhd");if(void 0 === z)return !1;B=v.qt("tfdt");A=x.Je;E=v.qt("saiz");D=v.qt("saio");F=v.qt(l.OBa);C=v.qt("sbgp");if(!(!E && !D || E && D))return !1;G=v.qt("sdtp");if(this.Zc.mdat && h < this.Zc.mdat.length)H=this.Zc.mdat[h];else if(h !== u.length - 1)return !1;void 0 === y && (y=n?x.Je:0);if(x.wa(v,z,H || this.rf,k,y,v.Ww,n))x.n1 && (!n && B && B.wa(x.gUb),E && D && (E.wa(x.dN,n),D.wa(F?0:E.aqa,v.Ww,n)),F && F.wa(x.dN,n),G && G.wa(x.dN,A,n),C && C.wa(x.dN,n));else if(!n){if(h === u.length - 1)return !1;this.rf.Ll(u[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.dN)return !1;p && (k=this.Jgb(this.stream.profile,q)) && x.NQb(v,z,H,n,p,k);n=this.rf.wa();p=n.reduce(function(J,I){return J + I.byteLength;},0);n={Xd:n,length:p,OF:this.rf.view.byteLength};x.n1 && !H && (n.BM=v.Ww + x.BM,n.$s=x.$s);return n;};r.exports={Yv:g,wL:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,f("mdat"));return k;}};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(244);g=a(243);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.wa=function(d){var f,h,k,n;f=this;if(!this.parse().done)return !1;h=this.Zc.moov;if(!h || 0 === h.length)return !1;k=h[0].LA("tenc");if(!k)return !1;n=new Uint8Array(k.zl);d.forEach(function(p){for(var q=p.from,t=!0,u=0;u < q.length;u++){if(n[u] !== q[u]){t=!1;break;}}t && f.rf.VU(p.from.length,p.to,k.Ala);});return g.concat(this.rf.wa());};return m;})(r.TC);b.g$=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.uh || (b.uh={});r[r.Pb=0]="AUDIO";r[r.Bb=1]="VIDEO";},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.cxa=void 0;r=a(0);c=a(17);g=r.__importStar(a(8));l=r.__importDefault(a(3));m=new l.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(28));f=r.__importDefault(a(907));h=l.default.Wm;k=h.jX;n={};p={};a=[d.default.Qg.Zv,!1];r=[d.default.Qg.Zv,!0];q=[d.default.Qg.dD,!1];t=[d.default.Qg.dD,!0];u=[d.default.Qg.URL,!0];w=[-1,!1];v=[d.default.Qg.dD,!1];n[k.uZb]=q;n[k.UNKNOWN_ERROR]=q;n[k.R1b]=q;n[k.L9a]=q;n[k.Hva]=q;n[k.X9a]=q;n[k.P9a]=t;n[k.O8a]=t;n[k.Kua]=v;n[k.Iua]=v;n[k.P8a]=w;n[k.Q8a]=v;n[k.R8a]=v;n[k.L8a]=q;n[k.N8a]=q;n[k.Jua]=a;n[k.M8a]=q;n[k.K8a]=v;n[k.p_b]=t;n[k.Z$a]=v;n[k.$xa]=v;n[k.Zxa]=v;n[k.Wxa]=v;n[k.Xxa]=v;n[k.Y$a]=u;n[k.R9]=t;n[k.T9]=u;n[k.S9]=r;n[k.cya]=t;n[k.aab]=u;n[k.IX]=v;n[k.aya]=t;n[k.$$a]=t;n[k.S9a]=t;n[k.M9a]=q;n[k.Zdb]=q;n[k.C9a]=q;n[k.D9a]=q;n[k.E9a]=q;n[k.F9a]=q;n[k.G9a]=q;n[k.H9a]=q;n[k.I9a]=q;n[k.J9a]=q;n[k.K9a]=q;n[k.N9a]=q;n[k.O9a]=q;n[k.Q9a]=q;n[k.R9a]=q;n[k.T9a]=q;n[k.U9a]=q;n[k.V9a]=q;n[k.W9a]=q;n[k.Y9a]=q;n[k.Z9a]=q;n[k.Ydb]=v;n[k.TIMEOUT]=a;p[k.Kua]=!0;p[k.$xa]=!0;p[k.Zxa]=!0;p[k.Xxa]=!0;p[k.Hva]=!0;a=(function(){function x(y,z,B,A){var z40;z40=2;for(;z40 !== 10;){switch(z40){case 2:this.Al=y;this.config=z;this.WCb=B;z40=4;break;case 4:var B5Y="1";B5Y+="SIYbZrN";B5Y+="JCp";B5Y+="9";this.Gq=A;this.events=new c.EventEmitter();this.qg=new c.sh();B5Y;z40=7;break;case 7:var U5Y="ne";U5Y+="two";U5Y+="rkFa";U5Y+="ile";U5Y+="d";n[k.Wxa]=z.KDb?t:v;this.qg.addListener(this.Al,U5Y,this.PCb.bind(this));this.oL=l.default.time.ba();this.Zr=0;this.Mra={};this.Ooa=new f.default(y,A,z);z40=10;break;}}}var y40;y40=2;for(;y40 !== 12;){switch(y40){case 8:x.prototype.W7=function(y){var L40,z;L40=2;for(;L40 !== 9;){switch(L40){case 2:var H5Y="upd";H5Y+="atin";H5Y+="gLastSuccessEvent";var g5Y="updatingLastSuccess";g5Y+="Even";g5Y+="t";z=this.config;this.oL=Math.max(y.timestamp || l.default.time.ba(),this.oL);this.iNa();z.Ws && this.Ooa.W7(y);this.events.emit(g5Y,{type:H5Y});L40=9;break;}}};x.prototype.Qna=function(){var M40;M40=2;for(;M40 !== 1;){switch(M40){case 2:this.Zr=0;M40=1;break;}}};x.prototype.Qk=function(){var N40,y,z,B;N40=2;for(;N40 !== 4;){switch(N40){case 2:var a5Y="m";a5Y+="s";var w5Y="Setting u";w5Y+="n";w5Y+="d";w5Y+="erflow timeo";w5Y+="ut in ";(y=this,z=this.config,B=z.k4);this.oL=Math.max(l.default.time.ba(),this.oL);z.e6a && !this.$V && (m.info(w5Y + B + a5Y),this.$V=setTimeout(function(){var O40;O40=2;for(;O40 !== 4;){switch(O40){case 2:var N5Y="Forc";N5Y+="ing permane";N5Y+="nt networ";N5Y+="k fa";N5Y+="ilure after ";var p5Y="ms, s";p5Y+="ince unde";p5Y+="rflow w";p5Y+="ith no s";p5Y+="uccess";a000.a2Y(4);m.info(a000.w2Y(p5Y,B,N5Y));y.$V=void 0;y.Al.Zq(d.default.Qg.Zv,!0);O40=4;break;}}},B));N40=4;break;}}};y40=14;break;case 2:x.prototype.Gb=function(){var A40;A40=2;for(;A40 !== 1;){switch(A40){case 2:this.qg.clear();A40=1;break;}}};x.prototype.VB=function(y){var B40;B40=2;for(;B40 !== 1;){switch(B40){case 2:this.c7=y;B40=1;break;}}};x.prototype.Zq=function(y,z,B,A){var C40,J,H,I,M,E,D,F,C,G;C40=2;for(;C40 !== 15;){switch(C40){case 14:C40=void 0 !== y.url?13:20;break;case 6:C40=H !== w?14:15;break;case 18:var l5Y="Inv";l5Y+="alid";l5Y+=" affected for net";l5Y+="work failure";m.error(l5Y);C40=17;break;case 17:return;break;case 12:J && (D[J]=[y.url]);C40=11;break;case 20:C40=void 0 !== y.host && void 0 !== y.port?19:18;break;case 16:var k5Y="Unmapped failure cod";k5Y+="e i";k5Y+="n JSASE error director : ";a000.a2Y(2);m.error(a000.w2Y(B,k5Y));C40=15;break;case 13:J=G.x2a(y.url);C40=12;break;case 19:D=G.ySb(y.host,y.port);C40=11;break;case 4:var f5Y=" : critical error c";f5Y+="o";f5Y+="un";f5Y+="t = ";var i5Y=" ";i5Y+="o";i5Y+="n ";var y5Y="Fa";y5Y+="ilu";y5Y+="r";y5Y+="e ";m.warn(y5Y + F + i5Y + JSON.stringify(y) + f5Y + this.Zr);C40=3;break;case 3:C40=B && g.isArray(n[B])?9:16;break;case 9:var W5Y="cri";W5Y+="t";W5Y+="icalNet";W5Y+="workError";var Z5Y="criti";Z5Y+="calNetworkE";Z5Y+="rror";H=n[B];this.Ux={dF:z,Dg:B,AQa:F,Bi:A};p[B] && (++this.Zr,this.events.emit(Z5Y,{type:W5Y,Dg:B}));C40=6;break;case 11:(I=H[0],M=H[1]);C.Ws?g.forEach(D,function(N,K){var D40;D40=2;for(;D40 !== 5;){switch(D40){case 2:var e5Y="e";e5Y+="rro";e5Y+="r";H === v || H === q?E.Ooa.HOb({url:void 0 !== y.url?y.url:N[0],cc:K},{PKa:K,ZV:H,dF:z,Dg:B,AQa:F,Bi:A}):N.some(function(O){var E40;E40=2;for(;E40 !== 5;){switch(E40){case 2:G.Zq(I,M,O);return I === d.default.Qg.dD;break;}}});!E.c7 || 0 !== z && void 0 !== z || (N=void 0 !== y.url?y.url:N[0]) && E.c7.wqa(e5Y,N);D40=5;break;}}}):g.forEach(D,function(N,K){var F40;F40=2;for(;F40 !== 5;){switch(F40){case 1:var F5Y="e";F5Y+="r";F5Y+="ror";(N.some(function(O){var G40;G40=2;for(;G40 !== 5;){switch(G40){case 2:G.Zq(I,M,O);return I === d.default.Qg.dD;break;}}}),!E.c7 || 0 !== z && void 0 !== z || (N=void 0 !== y.url?y.url:N[0]) && E.c7.wqa(F5Y,N));F40=5;break;case 2:F40=H !== v || E.RQb(K)?1:5;break;}}});C40=15;break;case 2:(E=this,D=h.jX.name,F=B?D[B]:void 0);D={};(C=this.config,G=this.Al);C40=4;break;}}};y40=4;break;case 4:x.prototype.RQb=function(y){var H40,z,B,A;H40=2;for(;H40 !== 7;){switch(H40){case 1:H40=A?5:8;break;case 5:H40=A.lj < this.oL?4:3;break;case 9:return A.Cy=!0;break;case 3:H40=!(A.lj >= z - B.z7 || A.Cy || (A.lj=z,++A.count,A.count < B.o4))?9:7;break;case 2:(z=l.default.time.ba(),B=this.config,A=this.Mra[y]);H40=1;break;case 4:(A.lj=z,A.count=1);H40=7;break;case 8:this.Mra[y]={lj:z,count:1};H40=7;break;}}};x.prototype.PCb=function(y){var I40,D,F,C,z,B,A,E;I40=2;for(;I40 !== 7;){switch(I40){case 1:var I5Y=" m";I5Y+="s";I5Y+=" ";I5Y+="a";I5Y+="go";var X5Y="te";X5Y+="m";X5Y+="porari";X5Y+="ly";var x5Y="pe";x5Y+="r";x5Y+="man";x5Y+="ently";var L5Y=" la";L5Y+="st";L5Y+=" succes";L5Y+="s ";L5Y+="was ";var R5Y="N";R5Y+="etwork h";R5Y+="a";R5Y+="s fai";R5Y+="led ";a000.a2Y(5);m.warn(a000.H2Y(R5Y,L5Y,y?x5Y:X5Y,B,I5Y));!y && B > E.rna && (A=!0);I40=4;break;case 3:(D=this.Ux.Dg,F=this.Ux.dF,C=this.Ux.Bi);I40=9;break;case 9:var D5Y="t";D5Y+="empora";D5Y+="ryNetworkEr";D5Y+="ro";D5Y+="r";var z5Y="temporaryNet";z5Y+="workE";z5Y+="r";z5Y+="ror";y || this.events.emit(z5Y,{type:D5Y,errorCode:D,httpCode:F,nativeCode:C});A?(this.IM && (clearTimeout(this.IM),this.IM=void 0),this.iNa(),this.Ooa.reset(),this.WCb({xFb:y,dMb:D,eMb:F,fMb:C})):this.IM || (this.IM=setTimeout(function(){var J40;J40=2;for(;J40 !== 5;){switch(J40){case 2:z.IM=void 0;z.u6();J40=5;break;}}},E.sna));I40=7;break;case 2:(z=this,B=l.default.time.ba() - this.oL,A=y,E=this.config);I40=1;break;case 4:I40=this.Ux?3:9;break;}}};x.prototype.u6=function(){var K40;K40=2;for(;K40 !== 1;){switch(K40){case 2:this.IM || (this.Al.u6(),this.Mra={},this.Gq());K40=1;break;}}};y40=8;break;case 14:x.prototype.iNa=function(){var P40;P40=2;for(;P40 !== 1;){switch(P40){case 2:var J5Y="Cle";J5Y+="ared underflow";J5Y+=" ";J5Y+="t";J5Y+="imeout";this.$V && (clearTimeout(this.$V),this.$V=void 0,m.info(J5Y));P40=1;break;}}};return x;break;}}})();b.cxa=a;},function(r,b,a){var g,l,m;function c(d,f,h){this.SP=d;this.wD=0 === Math.floor(1E6 * Math.random()) % h.YF;this.groupId=1;this.config=h;this.vx={};this.NB={};this.Gq=f;}g=a(8);l=a(3).default;new l.Console("ASEJS_PROBE_MANAGER","asejs");m=a(908).Nta;c.prototype.constructor=c;c.prototype.HOb=function(d,f){var h,k,n,p,q,t,u,w,v,x,y;h=this.SP;k=d.cc;n=h.Y3a(d.url);p=h.c4(d.url);q=this.config;t=l.time.ba();u=f;w=[];v=n.Nn[0];x=!1;y=this.vx[k];if(!y)y=this.vx[k]={count:0,lj:t,Cy:!1,error:f,Fqa:[],Qoa:{}};else if(y.lj >= t - q.z7)return;y.Cy || (v && p.id === v.id && (d.isPrimary=!0),y.lj=t,y.Cy=!1,y.error=f,++y.count,n && n.urls && 0 !== n.urls.length && (g.forEach(n.urls,function(z){var B,A,E;B=z.Nc.id;A=B + "-" + k;E=this.NB[A];if(void 0 === E || void 0 === E.X5)(E && E.eo && clearTimeout(E.eo),z=this.gOa(z.url,d,B),this.NB[A]={W:!1,count:0,X5:z.Fh()},w.push(z.Fh()),x=!0);-1 === y.Fqa.indexOf(B) && y.Fqa.push(B);},this),this.wD && 0 < w.length && (n={type:"logdata",target:"endplay",fields:{}},f=u,u={ts:l.time.ba(),es:f.PKa,fc:f.Dg,fn:f.AQa,nc:f.Bi,pb:w,gid:this.groupId},f.dF && (u.hc=f.dF),n.fields.errpb={type:"array",value:u,adjust:["ts"]},h.Em(n)),x && this.groupId++));};c.prototype.gOa=function(d,f,h){var k,n,p;k=this.SP.c4(f.url);k && k.bb && k.bb.As && k.bb.As.Aa || Math.random(0,1);k=new m(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);k.ZLb(1 < n.length?d + "&" + p:d + "?" + p,f,h);return k;};c.prototype.IOb=function(d,f){var h,k,n,p,q,t,u,w;h=this.SP;k=this.config;n=f.cc;p=this.vx[n];q=d.url;t=this.NB[d.cc + "-" + n];if(p){u=p.error;if(t){t && t.eo && clearTimeout(t.eo);t.W=!0;t.count=0;t.X5=void 0;p.Qoa[d.cc]=!0;(t=this.vx[d.cc]) && !0 === t.Cy && k.Pw && (h.J1a(d.cc,t.error.ZV[1]),this.wD && (t={type:"logdata",target:"endplay",fields:{}},t.fields.errst={type:"array",value:{ts:l.time.ba(),id:d.requestId,servid:f.cc,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Em(t)),this.vx[d.cc]=void 0,this.Gq());if(q !== f.url){w=this.NB[n + "-" + n];w && w.W || (n=(n=h.c4(q)) && n.bb && n.bb.As && n.bb.As.Aa || Math.random(0,1) * k.l4,n=Math.min(n,k.l4),setTimeout((function(){var v;if(!(!1 !== p.Cy || w && w.W) && (p.Cy=!0,h.Zq(u.ZV[0],u.ZV[1],f.url,u),this.wD)){v={type:"logdata",target:"endplay",fields:{}};v.fields.erep={type:"array",value:{ts:l.time.ba(),id:d.requestId,servid:f.cc,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.Em(v);}}).bind(this),n));}this.wD && (t={type:"logdata",target:"endplay",fields:{}},t.fields.pbres={type:"array",value:{ts:l.time.ba(),id:d.requestId,result:1,servid:d.cc,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Em(t));}}};c.prototype.FOb=function(d,f){var h,k,n,p,q,t,u,w,v,x;h=this.SP;k=parseInt(f.cc,10);n=this.vx[k];p=parseInt(d.cc,10);q=this.NB[p + "-" + k];t=0;u=this.config;if(q && n){q.W=!1;q.X5=void 0;n.Qoa[p]=!1;w=n.Fqa;if(u.Pw && p === k && f.isPrimary){v=h.c4(f.url);v=v && v.bb && v.bb.As && v.bb.As.Aa || 300 * Math.random(0,1);v*=Math.pow(2,q.count);v=Math.min(v,12E4);v+=Math.random(0,1) * (1E4 > v?100:1E4);q.eo=setTimeout((function(){var y;q.eo=void 0;y=this.gOa(d.url,f,p);y.PSb(d.groupId);q.X5=y.Fh();}).bind(this),v);}++q.count;if(p === k && (t=0,w.forEach(function(y){!1 === n.Qoa[y] && t++;}),w.length === t && n.count >= u.o4)){x=n.error;n.Cy=!0;g.forEach(h.Y3a(f.url).urls,function(y){var z;h.Zq(x.ZV[0],x.ZV[1],y.url,x);if(this.wD){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:l.time.ba(),id:-1,servid:y.Nc.id},adjust:["ts"]};h.Em(z);}},this);}this.wD && (k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.ba(),id:d.requestId,result:0,servid:d.cc,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Em(k));}};c.prototype.W7=function(d){var f,h,k;f=d.url || d.mediaRequest.url;if(f){d=this.SP;f=d.x2a(f);h=this.vx[f];k=this.NB[f + "-" + f];h && h.Cy && this.config.Pw && (d.J1a(h.error.PKa,!1),this.wD && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:l.time.ba(),id:-1,servid:f},adjust:["ts"]},d.Em(h)),this.vx[f]=void 0,k && k.eo && clearTimeout(k.eo));}};c.prototype.reset=function(){var d,f,h;d=this.NB;for(h in d){d.hasOwnProperty(h) && (f=d[h + "-" + h]) && f.eo && clearTimeout(f.eo);}this.NB={};this.vx={};};r.exports=c;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Nta=void 0;c=a(0);g=a(17);l=c.__importDefault(a(3)).default.Ot;r=(function(m){function d(f){var h;h=m.call(this) || this;h.sJa=f;h.yZ=f.groupId;h.hg=new g.sh();h.hg.on(h,l.Rd.OO,h.WP);h.hg.on(h,l.Rd.XC,h.VI);return h;}c.__extends(d,m);d.prototype.ZLb=function(f,h,k){l.prototype.open.call(this,f,h,k);};d.prototype.PSb=function(f){this.yZ=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.yZ;},enumerable:!1,configurable:!0}});d.prototype.kc=function(){this.hg && this.hg.clear();l.prototype.kc.call(this);};d.prototype.WP=function(f){this.sJa.IOb(f.probed,f.affected);this.kc();};d.prototype.VI=function(f){this.sJa.FOb(f.probed,f.affected);this.kc();};return d;})(l);b.Nta=r;},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eya=void 0;c=a(0);g=a(142);l=a(408);m=a(16);d=c.__importDefault(a(3));r=a(96);f=a(411);h=a(5);k=a(123);a=(function(n){function p(q,t,u,w,v,x,y,z,B,A,E){var D;D=n.call(this,q) || this;D.Gc=q;D.u=t;D.G=u;D.Em=w;D.SA=x;D.w3=y;D.Zt=z;D.KJa=B;D.Fg=A;D.EIa=[void 0,void 0];D.zda=[];D.KP=null !== E && void 0 !== E?E:{$t:[Object.create(null),Object.create(null)]};v?D.GS=v:(D.ig=k.ko.instance.Yr("headers","" + D.Gc.aa,!0,!1,{},D.G),D.ig.Wa());return D;}c.__extends(p,n);Object.defineProperties(p.prototype,{$t:{get:function(){return this.KP.$t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hz:{get:function(){return this.KP.Hz;},set:function(q){this.KP.Hz=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yI:{get:function(){return this.KP.yI;},set:function(q){this.KP.yI=q;},enumerable:!1,configurable:!0}});p.prototype.kc=function(){var q;q=this;this.$t.forEach(function(t,u){for(var w in t){t[w].kc();q.Nga(u,w);}});this.ig && k.ko.instance.UJ(this.ig);this.ig=void 0;};p.prototype.Yj=function(q,t){return this.$t[q][t];};p.prototype.Q2=function(){return !(!this.Hz || !this.Hz.length);};p.prototype.vfa=function(){this.Hz=void 0;};p.prototype.YM=function(q){this.Hz=q;};p.prototype.hsa=function(){var q,t;if(!this.Q2() || this.yI)return !1;for(g.Vl.lp(1);0 < this.Hz.length;){q=this.Hz.shift();t=this.Gc.ss(1,q);if(t && !this.eDb(q) && t.Es)return (this.yI=q,this.S7(t,{offset:0,fN:!0}));}return !1;};p.prototype.zsa=function(q,t){var u;u=this;t.forEach(function(w){var v;v=u.Yj(q,w.Fa);v && !w.te && (v.stream.te?w.D0(v.stream):(v.rU || (v.rU=[]),v.rU.push(u.Gc)));});};p.prototype.EM=function(q,t,u){var w,v,x;w=this;x=this.Gc;m.xe.forEach(function(y){var z,B,A,E,D;if(x.Nb(y) && (void 0 === u || y === u)){E=q[y];h.assert(E && x.getTrackById(E.trackId) === E);E=E.Cd;if(x.kj)w.u.warn("requestHeadersFromManifest, shutdown detected");else if(x.Al.aW(x.aa,E)){D=null !== (A=null === (B=null === (z=w.SA(y)) || void 0 === z?void 0:z.pF) || void 0 === B?void 0:B.bitrate) && void 0 !== A?A:0;z=f.Uha(E,D);void 0 === z && w.u.warn("Unable to find stream for bitrate " + D);z=E[z];(B=x.Yj(y,z.Fa)) && B.stream.Y?x.qXb(y,B):(y={offset:0,fN:!1,GA:1 === y,Au:!0,SL:!w.w3(x)},x.cOa(z,y,t));}else w.u.warn("requestHeadersFromManifest, unable to update urls");}});x.V2=!0;null === (v=this.Fg) || void 0 === v?void 0:v.call(this,x.qb).d0();};p.prototype.QG=function(q,t){var u,w,v,x;u=this.G;w=this.Yj(q.mediaType,q.Fa);if(w)return (w.stream.Y || w.fN && this.fNa(w),!1);w=this.ihb;v=this.jhb;if(void 0 !== u.ina && void 0 !== w && void 0 !== v){x=d.default.time.ba();if(x - w < u.ina || x - v < u.ina)return !1;}q=this.S7(q,{url:q.url,offset:0},void 0,void 0,t);this.jhb=d.default.time.ba();return q;};p.prototype.S7=function(q,t,u,w,v){var x,y,z,B,A;B=q.mediaType;g.Vl.lp(B);A=q.Fa;if(this.Efb(A,! !t.Au))return (null === (x=this.KJa) || void 0 === x?void 0:x.call(this),!1);if(x=this.Yj(B,A))q=!1;else {x=c.__assign(c.__assign({},t),{$:null !== (y=t.$) && void 0 !== y?y:this.pgb(q)});y=! !x.GA;A=! !x.SL;this.GS?v=this.GS(B,! !x.Au,y,A,! !u):v || (v=this.ig);h.assert(v);q.url && (this.SA(B).Qla=q.url);x=q=this.DHa(q,v,x);if(!q.ny())return (this.Gc.hh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}t.Au && w && (this.Gc.Hg[B]=x);null === (z=this.KJa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.nr=function(){var q,t;q=this;t=[];this.$t.forEach(function(u,w){var x;g.Vl.lp(w);for(var v in u){w=u[v];x=w.b8();1 === x?t.push(w):2 === x && q.Gc.hh("swapUrl failure");}});return t;};p.prototype.ck=function(q){var t,u;t=q.mediaType;u=g.Vl.lp(t);this.Gc.kj?u.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.Em({type:"logdata",target:"startplay",pd:{usedNativeDataView:q.nYb}}),q.x5 > q.bMb && (this.EIa[t]=q.x5),q.fN && this.fNa(q),this.Qgb(q),this.ihb=d.default.time.ba(),this.Gc.bB.emit("onHeaderRequestComplete",q));this.ms(q);};p.prototype.B_=function(q,t,u){var w;w=q.mediaType;g.Vl.lp(w);w=this.Gc.ss(w,q.Fa);if(t !== ! !q.xl)return !1;this.xKa(q);q.vlb(w);this.eHa(q);this.Gc.bB.emit("onHeaderFromCache",{header:q,Hxb:u});return !0;};p.prototype.uQ=function(q,t){var u,w,v,x;u=[];w=this.$t[q];for(v in w){x=w[v];x && !x.stream.Y && x.Kl === t && (this.Nga(q,v),u.push({stream:x.stream,offset:x.offset,$:x.$,GA:x.GA,Au:x.Au,SL:x.SL,eoa:x.eoa}),x.kc());}return u;};p.prototype.z6=function(q){var t;t=this;q.forEach(function(u){t.S7(u.stream,u);});};p.prototype.xKa=function(q){this.$t[q.mediaType][q.Fa]=q;};p.prototype.eDb=function(q){return ! !this.Yj(1,q);};p.prototype.Qgb=function(q){var t,u,w,v,y;t=this.G;u=g.Vl.lp(q.mediaType);w=q.stream.Y;if(t.uga){v=w.length;u.trace("fragment count:",v);for(var x=0;x < v;++x){y=w.get(x);u.trace("fragment: " + x + ", startPts: " + y.V + ", duration: " + y.duration + ", offset: " + y.offset);}}this.eHa(q);if(t.FB && t.FB.enabled && void 0 === w.qC && t.FB.simulatedFallback){v=w.length;t=[];for(x=0;x < v;++x){t[x]=Math.max(0,q.stream.mb + this.Zib(x));}w.oTb(t);}};p.prototype.eHa=function(q){var t,u;t=q.mediaType;u=q.Fa;g.Vl.lp(t);q.rU && (q.rU.forEach(function(w){(w=w.ss(t,u)) && w !== q.stream && !w.te && w.D0(q.stream);}),q.rU=void 0);this.Gc.MCb(q);};p.prototype.DHa=function(q,t,u){var w,v;w=this;v=g.Vl.lp(q.mediaType);q=new l.N8(q,this.G,t,u,this,!1,v);q.addListener("headerRequestCancelled",function(x){w.Pgb(x.request);});q.Wa(void 0);this.xKa(q);return q;};p.prototype.Efb=function(q,t){return this.Zt && (q=this.Zt.BT(this.Gc.H,q)) && this.B_(q,!1,t)?!0:!1;};p.prototype.pgb=function(q){var t,u,w,v;t=q.XB;u=q.M;w=u.duration;v=this.G;return u.Re.og?v.CQa?v.CQa:v.U2:v.kYb && t?t.offset + t.size:(q=this.EIa[q.mediaType])?q + 128:v.qwb?2292 + 12 * Math.ceil(w / 2E3):v.U2;};p.prototype.Pgb=function(q){this.Nga(q.mediaType,q.Fa);};p.prototype.Nga=function(q,t){delete this.$t[q][t];};p.prototype.fNa=function(q){this.yI === q.Fa && (this.yI=void 0);};p.prototype.Zib=function(q){var t;t=this.G.FB.fallbackBound;void 0 === this.zda[q] && (this.zda[q]=Math.floor(2 * Math.random() * t) - t);return this.zda[q];};return p;})(r.Hv);b.eya=a;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GEa=void 0;c=a(0);g=a(17);l=c.__importDefault(a(3)).default.Promise;r=(function(m){function d(f,h,k,n){var p;p=m.call(this) || this;p.u=f;p.track=h;p.un=!1;p.lca=!1;p.qg=new g.sh();p.qg.on(h,"networkfailing",function(){p.emit("networkfailing");});p.qg.on(h,"error",function(){p.u.warn("requestQueue got error");p.emit("error");});if(k)(p.un=!0,l.resolve().then(function(){return p.emit("created");}));else p.qg.on(h,"created",function(){p.un=!0;p.emit("created");});p.lca=n;return p;}c.__extends(d,m);Object.defineProperties(d.prototype,{F1:{get:function(){return this.track.F1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dg:{get:function(){return this.track.Dg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bi:{get:function(){return this.track.Bi;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bS:{get:function(){return this.track.bS;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});d.prototype.Wa=function(){var f,h;this.lca || (null === (h=(f=this.track).Wa) || void 0 === h?void 0:h.call(f),this.lca=!0);};d.prototype.op=function(){return this.track.op();};d.prototype.toString=function(){return this.track.toString();};d.prototype.toJSON=function(){return this.track;};d.prototype.Yo=function(){this.qg.clear();};return d;})(g.EventEmitter);b.GEa=r;},function(r,b,a){var f,h,k,n,p,q,t;function c(u){var w,v,x;u=u.parent;w=!1;if(u && u.children){v={};v[q.el]=[];v[q.tk]=[];v[q.TEMPORARY]=[];x=u.children;x.forEach(function(y){y && v[y.Ge].push(y);});0 < v[q.el].length || (v[q.tk].length === x.length?u.Ge !== q.tk && (u.Ge=q.tk,p.error("PERM failing :",k.default.Qg.name[u.pm] + " " + u.id),w=!0):(u.Ge === q.el && (u.Ge=q.TEMPORARY,p.error("TEMP failing :",k.default.Qg.name[u.pm] + " " + u.id),w=!0),v[q.TEMPORARY].forEach(function(y){y.Ge=q.el;})),w && c(u));}}function g(u){var w;if((u=u.parent) && 0 < u.children.length && u.Ge !== q.el){w={};w[q.el]=[];w[q.tk]=[];w[q.TEMPORARY]=[];u.children.forEach(function(v){v && w[v.Ge].push(v);});0 < w[q.el].length && (u.Ge=q.el,g(u));}}function l(u){return u.Ge !== q.el;}function m(u){switch(u.Ge){case q.el:return "OK";case q.tk:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,w){if(u.Ge === q.TEMPORARY || u.Ge === q.tk && w)u.Ge=q.el;u.children && u.children.forEach(function(v){v && d(v,w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.l$=void 0;f=a(0);h=f.__importStar(a(8));r=a(17);k=f.__importDefault(a(28));n=f.__importDefault(a(3));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.el=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.tk=2]="PERMANENT";})(q || (q={}));(function(u){u[u.hw=0]="STARTUP";u[u.Hdb=1]="REBUFFER";})(t || (t={}));a=(function(u){var Q40;Q40=2;for(;Q40 !== 25;){switch(Q40){case 3:w.prototype.x2a=function(v){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 9:return v.parent.id;break;V40=5;break;case 1:return v.parent.id;break;case 2:V40=(v=this.urls[v]) && v.parent?1:5;break;}}};w.prototype.c4=function(v){var W40;W40=2;for(;W40 !== 5;){switch(W40){case 2:W40=(v=this.urls[v]) && v.Nc?1:5;break;case 1:return v.Nc.location;break;case 9:return v.Nc.location;break;W40=5;break;}}};w.prototype.Y3a=function(v){var X40;X40=2;for(;X40 !== 5;){switch(X40){case 1:return v.stream;break;case 9:return v.stream;break;X40=5;break;case 3:X40=(v=this.urls[v])?4:8;break;X40=(v=this.urls[v])?1:5;break;case 2:X40=(v=this.urls[v])?1:5;break;}}};w.prototype.ju=function(v){var Y40,x;Y40=2;for(;Y40 !== 11;){switch(Y40){case 4:this.hy.sort(function(y,z){var a50;a50=2;for(;a50 !== 1;){switch(a50){case 2:return y.level - z.level || y.tg - z.tg;break;}}});v.servers.forEach(function(y){var b50,A,z,B;b50=2;for(;b50 !== 6;){switch(b50){case 4:b50=B?3:6;break;case 3:A=[];y={id:z,pm:k.default.Qg.dD,Ge:q.el,fv:void 0,parent:B,children:A,urls:A,name:y.name,type:y.type,tg:y.rank,location:B};x.ft[y.id]=y;B.children.push(y);b50=6;break;case 2:z=y.id;b50=1;break;case 1:b50=!x.ft[z]?5:6;break;case 5:B=x.Nn[y.key];b50=4;break;}}});v.audio_tracks.forEach(function(y){var c50;c50=2;for(;c50 !== 1;){switch(c50){case 4:x.f0a(y);c50=0;break;c50=1;break;case 2:x.f0a(y);c50=1;break;}}});v.video_tracks.forEach(function(y){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:x.f0a(y);d50=1;break;}}});v=this.hy.filter(function(y){var e50,z;e50=2;for(;e50 !== 4;){switch(e50){case 2:z=y.ft.every(function(B){var f50;f50=2;for(;f50 !== 1;){switch(f50){case 2:return 0 === B.urls.length;break;case 4:a000.p2Y(6);var l31=a000.H2Y(16,14,225);return l31 == B.urls.length;break;f50=1;break;}}});z && (y.ft.forEach(function(B){var g50;g50=2;for(;g50 !== 1;){switch(g50){case 2:x.ft[B.id]=void 0;g50=1;break;}}}),x.Nn[y.id]=void 0,y.parent=void 0,y.children.length=0,y.streams={});return !z;break;}}});Y40=6;break;case 12:this.dump();Y40=11;break;case 2:x=this;v.locations.forEach(function(y){var Z40,z,B,A,E;Z40=2;for(;Z40 !== 8;){switch(Z40){case 2:z=y.key;Z40=1;break;case 1:Z40=!x.Nn[z]?5:8;break;case 9:E.children.push(y);Z40=8;break;case 5:(B=[],A=x.dh.get(z),E=x.Rn);y={id:z,pm:k.default.Qg.LOCATION,Ge:q.el,tg:y.rank,level:y.level,weight:y.weight,fv:void 0,parent:E,children:B,ft:B,streams:{},bb:A};x.Nn[y.id]=y;Z40=9;break;}}});this.JZ=n.default.time.ba();Y40=4;break;case 6:v.forEach(function(y){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:y.ft.sort(function(z,B){var i50;i50=2;for(;i50 !== 1;){switch(i50){case 2:return z.tg - B.tg;break;}}});h50=1;break;}}});this.hy=v;this.Rn.children=v;Y40=12;break;}}};w.prototype.aW=function(v,x){var j50,E,y,z,B,A,D;j50=2;for(;j50 !== 19;){switch(j50){case 3:E=k.default.kf.lz;z.YT && (E=k.default.kf.Rv);this.tb.location && B.confidence >= E && (v=this.Nn[this.tb.location]) && (v.bb=B);h.hb(this.QM) && (this.QM=this.tXb());j50=6;break;case 2:(y=this,z=this.config,B=this.tb.get(),A=0);n.default.Xr && n.default.Xr(v);j50=5;break;case 5:j50=l(this.Rn)?4:3;break;case 6:j50=!this.QM?14:13;break;case 14:return (this.Zq(k.default.Qg.Zv,!1),!1);break;case 11:return (this.Zq(k.default.Qg.Zv,!1),!1);break;case 13:D=this.QM;j50=12;break;case 4:return !1;break;case 10:var P4Y="(empty stre";P4Y+="am";P4Y+=" l";P4Y+="ist)";var u4Y="Did not ";u4Y+="find a URL for ANY ";u4Y+="stream...";var n4Y="network";n4Y+="Fail";n4Y+="e";n4Y+="d";var t4Y="Netwo";t4Y+="rk";t4Y+=" has failed, not updating stream selection";x.forEach(function(F,C){var k50,G;k50=2;for(;k50 !== 5;){switch(k50){case 2:var q4Y=" K";q4Y+="bp";q4Y+="s)";var d4Y=" ";d4Y+="(";var Y4Y="]";Y4Y+=" ";var C4Y="F";C4Y+="ai";C4Y+="ling str";C4Y+="ea";C4Y+="m [";G=F.id;D.some(function(H){var l50,J,I;l50=2;for(;l50 !== 8;){switch(l50){case 2:J=H.streams[G];l50=1;break;case 4:I=J.Nn[0];void 0 === F.W5 && (F.W5=I.id,F.Noa=J.cW[I.id][0].Nc.id);return J.cW[H.id].some(function(M){var m50,N;m50=2;for(;m50 !== 12;){switch(m50){case 1:return (M.Nc.Ge === q.TEMPORARY && (F.Ge=q.TEMPORARY),z.Ws && F.Nc === M.Nc.id && M.Nc.fv && (F.fv=M.Nc.fv),!1);break;case 2:m50=l(M.Nc)?1:5;break;case 5:m50=l(M)?4:3;break;case 4:return !1;break;case 3:var r4Y="loc";r4Y+="ation";r4Y+="failove";r4Y+="r";var b4Y="serv";b4Y+="er";b4Y+="fai";b4Y+="lover";var E4Y="p";E4Y+="er";E4Y+="forman";E4Y+="ce";var s4Y="u";s4Y+="n";s4Y+="kno";s4Y+="w";s4Y+="n";N=s4Y;F.location !== H.id && (z.Ws?F.ula=H.id === I.id:N=H !== D[0]?"" + k.default.cD.V8:void 0 === F.location?"" + k.default.cD.hw:h.ea(F.pWa) || F.pWa === H.id?h.ea(F.rWa) || F.rWa === M.Nc.id?E4Y:b4Y:r4Y,F.location=H.id,F.bma=H.level,F.er=N);F.url=M.url;F.Nc=M.Nc.id;m50=6;break;case 6:F.oG=M.Nc.name;F.bb=z.Dea?H.bb.confidence >= k.default.kf.Rv || B.confidence < E?H.bb:B:B.confidence === k.default.kf.HAVE_NOTHING || H.bb.confidence >= k.default.kf.Rv?H.bb:B;return !0;break;}}});break;case 1:l50=!J?5:4;break;case 5:return !1;break;}}})?(F.aB=!1,F.Ge=void 0,F.Iu && ++A):F.Ge && F.Ge === q.TEMPORARY?y.Rn.Ge=q.TEMPORARY:F.aB || (p.warn(C4Y + C + Y4Y + G + d4Y + F.bitrate + q4Y),F.lpb(),F.aB=!0);k50=5;break;}}});return l(this.Rn)?(p.warn(t4Y),this.S4=!0,this.emit(n4Y,this.Rn.Ge === q.tk),!1):A?!0:(p.warn(u4Y + (x.length?"":P4Y)),this.Zq(k.default.Qg.Zv,!0),!1);break;case 12:j50=!D.length?11:10;break;}}};w.prototype.ySb=function(v,x){var n50,y,z;n50=2;for(;n50 !== 4;){switch(n50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(B,A){var o50,E,D,F,C;o50=2;for(;o50 !== 7;){switch(o50){case 2:B=B.parent?B.parent.id:"";(E=y[B],D=A.match(z));o50=5;break;case 5:o50=D && 4 === D.length?4:7;break;case 8:h.ue(C) && h.ue(D) && C === v && D == x && (E?E.push(A):y[B]=[A]);o50=7;break;case 4:var c4Y="8";c4Y+="0";var Q4Y="4";Q4Y+="4";Q4Y+="3";(F="s" === D[1],C=D[2]);D=D[3];D.length || (D=F?Q4Y:c4Y);o50=8;break;}}});return y;break;}}};w.prototype.Zq=function(v,x,y,z){var q50,C,r50,B,A,E,D,F,s50;q50=2;for(;q50 !== 42;){switch(q50){case 12:q50=F?11:27;break;case 44:var j4Y="Inval";j4Y+="id fa";j4Y+="ilure";j4Y+=" state";throw Error(j4Y);q50=24;break;case 27:var K4Y=" ";K4Y+=": wa";K4Y+="s";K4Y+=" ";D.call(y,v + (x.length?"/" + x.join("/"):"") + K4Y + m(B));q50=26;break;case 13:F=B;q50=12;break;case 10:C=F;q50=20;break;case 18:q50=r50 === k.default.Qg.LOCATION?17:16;break;case 11:r50=F.pm;q50=r50 === k.default.Qg.dD?10:18;break;case 2:(B=v !== k.default.Qg.Zv && y?this.urls[y]:this.Rn,A=this.Rn.Ge,E=x?q.tk:q.TEMPORARY);q50=1;break;case 20:x.unshift(C.id + "(" + C.name + ")");q50=19;break;case 5:B=B.parent;q50=1;break;case 9:var T4Y=" ";T4Y+="a";T4Y+="t ";var o4Y=" fai";o4Y+="lure";o4Y+=" reported ";o4Y+="f";o4Y+="or ";var V4Y="T";V4Y+="EM";V4Y+="P";var v4Y="P";v4Y+="ER";v4Y+="M";y=p;D=y.warn;v=(x?v4Y:V4Y) + o4Y + k.default.Qg.name[v] + T4Y;x=[];q50=13;break;case 16:q50=r50 === k.default.Qg.URL?15:19;break;case 29:q50=s50 === q.el?24:28;break;case 17:x.unshift(F.id);q50=19;break;case 1:q50=B && B.parent && B.pm !== v?5:4;break;case 28:q50=44;break;case 26:s50=B.Ge;q50=s50 === q.tk?25:30;break;case 25:return;break;case 15:var O4Y="<ur";O4Y+="l";O4Y+=" for ";x.unshift(O4Y + F.stream.bitrate + ">");q50=19;break;case 31:this.dump();q50=42;break;case 30:q50=s50 === q.TEMPORARY?24:29;break;case 21:var M4Y="net";M4Y+="workFai";M4Y+="led";var m4Y="Emitting n";m4Y+="etworkFaile";m4Y+="d, perm";m4Y+="ane";m4Y+="nt =";E=this.Rn.Ge;E > A && (p.warn(m4Y,E === q.tk),this.emit(M4Y,E === q.tk));this.QM=null;this.SM=k.default.cD.jf;z && (this.SM=k.default.cD.ldb,B.fv=z);q50=31;break;case 19:F=F.parent;q50=12;break;case 24:B.Ge=E;c(B);this.S4=this.S4 || l(this.Rn);q50=21;break;case 4:q50=B?3:43;break;case 3:q50=E !== B.Ge?9:42;break;case 43:var A4Y="Unabl";A4Y+="e to ";A4Y+="find failure entity for URL ";a000.a2Y(2);p.warn(a000.H2Y(y,A4Y));q50=42;break;}}};Q40=12;break;case 26:return w;break;case 20:w.prototype.Qk=function(){var w50;w50=2;for(;w50 !== 1;){switch(w50){case 2:this.WQb(t.Hdb);w50=1;break;}}};w.prototype.Gb=function(){var x50;x50=2;for(;x50 !== 1;){switch(x50){case 2:this.config.vHb && this.gNb();x50=1;break;}}};w.prototype.f0a=function(v){var y50,x;y50=2;for(;y50 !== 5;){switch(y50){case 2:x=this;v.streams.forEach(function(y){var z50,A,z,B;z50=2;for(;z50 !== 6;){switch(z50){case 5:var h4Y="n";h4Y+="o";h4Y+="n";h4Y+="e";h4Y+="-";A=y.content_profile;B={id:z,bitrate:y.bitrate,mb:y.vmaf,type:y.type,profile:A,clear:0 === A.indexOf(h4Y),Iu:!0,urls:[],cW:{},Nn:[]};z50=3;break;case 2:(z=y.downloadable_id,B=x.streams[z]);z50=1;break;case 1:z50=h.ea(B)?5:9;break;case 3:x.streams[B.id]=B;z50=9;break;case 9:y.urls.forEach(function(E){var A50,C,D,F;A50=2;for(;A50 !== 13;){switch(A50){case 5:C=E.location;F={id:D,pm:k.default.Qg.URL,Ge:q.el,fv:void 0,parent:E,children:[],url:D,Nc:E,stream:B};x.urls[D]=F;A50=9;break;case 9:E.children.push(F);B.urls.push(F);0 === B.Nn.filter(function(G){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:return G.id === C.id;break;}}}).length && B.Nn.push(C);C.streams[B.id]=B;(D=B.cW[C.id])?D.push(F):B.cW[C.id]=[F];A50=13;break;case 2:(D=E.url,F=x.urls[D]);A50=1;break;case 1:A50=h.ea(F) && (E=x.ft[E.cdn_id])?5:13;break;}}});h.Me(B.cW,function(E){var C50;C50=2;for(;C50 !== 1;){switch(C50){case 2:E.sort(function(D,F){var D50;D50=2;for(;D50 !== 1;){switch(D50){case 2:return D.Nc.tg - F.Nc.tg;break;}}});C50=1;break;}}});B.Nn=B.Nn.sort(function(E,D){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 2:return E.level - D.level || E.tg - D.tg;break;}}});z50=6;break;}}});y50=5;break;}}};w.prototype.tXb=function(){var F50,v,x,y,z;F50=2;for(;F50 !== 13;){switch(F50){case 3:F50=null === this.JZ || this.JZ + x.ama < z?9:8;break;case 2:(v=this,x=this.config,y=this.hy.filter(function(B){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:return !l(B) && 0 !== B.level;break;}}}));F50=1;break;case 1:F50=0 === y.length?5:4;break;case 4:z=n.default.time.ba();F50=3;break;case 5:return null;break;case 9:(y.forEach(function(B){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:B.id !== v.tb.location && (B.bb=v.dh.get(B.id));H50=1;break;}}}),this.JZ=z);F50=8;break;case 8:x=this.SM;y.sort(function(B,A){var I50;I50=2;for(;I50 !== 1;){switch(I50){case 2:return B.level - A.level || B.tg - A.tg;break;}}});this.Gs || h.hb(x) || (this.Gs=!0);return y;break;}}};w.prototype.WQb=function(v){var J50,x;J50=2;for(;J50 !== 3;){switch(J50){case 2:x=this.tb.location;this.Gs=!1;this.LOb=v;this.hy.forEach(function(y){var K50;K50=2;for(;K50 !== 1;){switch(K50){case 2:y.id !== x && y.bb && y.bb.confidence > k.default.kf.lz && (y.bb.confidence=k.default.kf.lz);K50=1;break;}}});J50=3;break;}}};w.prototype.gNb=function(){var L50,v;L50=2;for(;L50 !== 5;){switch(L50){case 2:v=this;this.S4 || this.hy.forEach(function(x){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:x.Ge === q.TEMPORARY && v.dh.fail(x.id,n.default.time.ba());M50=1;break;}}});L50=5;break;}}};w.prototype.dump=function(){};Q40=26;break;case 12:w.prototype.J1a=function(v,x){var t50;t50=2;for(;t50 !== 3;){switch(t50){case 7:(d(v,x),g(v));t50=4;break;t50=5;break;case 2:t50=(v=this.ft[v])?1:5;break;case 6:this.QM=1;t50=6;break;t50=4;break;case 1:(d(v,x),g(v));t50=5;break;case 4:this.SM=k.default.cD.Y$;t50=3;break;case 5:this.QM=null;t50=4;break;}}};w.prototype.u6=function(){var u50;u50=2;for(;u50 !== 1;){switch(u50){case 2:d(this.Rn,!1);u50=1;break;}}};w.prototype.Em=function(v){var v50,x;v50=2;for(;v50 !== 5;){switch(v50){case 2:null === (x=this.Zhb) || void 0 === x?void 0:x.call(this,v);v50=5;break;}}};Q40=20;break;case 2:f.__extends(w,u);w.prototype.WBb=function(){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 2:return this.hy[0].bb;break;}}};w.prototype.aja=function(){var T40;T40=2;for(;T40 !== 1;){switch(T40){case 2:return this.hy;break;}}};w.prototype.ks=function(){var U40;U40=2;for(;U40 !== 1;){switch(U40){case 2:return l(this.Rn);break;}}};Q40=3;break;}}function w(v,x,y,z,B){var R40,A;R40=2;for(;R40 !== 27;){switch(R40){case 3:A.Zhb=B;A.LOb=t.hw;A.Gs=void 0;A.Nn={};A.ft={};A.urls={};A.streams={};R40=12;break;case 19:var S4Y="1SIY";S4Y+="bZ";S4Y+="rN";S4Y+="JCp9";A.QM=null;A.SM=k.default.cD.hw;A.ju(v);S4Y;return A;break;case 12:var G4Y="ne";G4Y+="tw";G4Y+="o";G4Y+="rk";A.hy=[];A.S4=!1;A.Rn={id:G4Y,pm:k.default.Qg.Zv,Ge:q.el,fv:void 0,parent:void 0,children:A.hy};A.JZ=null;R40=19;break;case 2:A=u.call(this) || this;A.tb=x;A.dh=y;A.config=z;R40=3;break;}}}})(r.EventEmitter);b.l$=a;},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.VAa=void 0;c=a(21);g=a(5);l=a(412);m=a(913);d=a(914);f=a(915);h=a(916);k=a(917);r=(function(){function n(p,q,t,u){this.config=p;this.mediaType=q;this.Rb=t;this.console=u;}n.prototype.append=function(p,q){var t,u,w,v;u=q.endOfStream;w=q.y4;v=q.una;void 0 === this.track?this.YK(p.stream):this.track !== p.stream.track && (g.assert(this.track.xa),g.assert(p.stream.track.xa),g.assert(1 === this.mediaType || this.track.xa.equal(p.stream.track.xa)),this.track=p.stream.track);g.assert(void 0 !== this.tu);q={Xd:p,offset:null !== (t=p.b6) && void 0 !== t?t:c.S.nb};q=this.tu.reduce(function(x,y){return y.append(x,{endOfStream:u,y4:w,una:v});},q);t=q.Xd;q=q.offset;t.wa && p.mh(t.wa);return q;};n.prototype.reset=function(){this.tu=this.track=void 0;};n.prototype.YK=function(p){var q,t;this.track=p.track;this.tu=[];if(0 === this.mediaType){this.tu.push(new d.WEa(this.config,p.track,this.console));t=this.f0(p);t.equal(c.S.nb)?this.config.Oj && p.ae && this.q3(p.M.aa) && this.tu.push(new k.Wya(this.config)):this.tu.push(new l.oY(t));this.config.x4 || (this.console.log("MediaSplicer: NegativePtsGuard: " + t.Bd() + ", " + (null === (q=p.ae) || void 0 === q?void 0:q.Bd())),this.tu.push(new f.mBa(this.config,p,this.console)));this.uFb() && (this.tu.push(new m.wBa(this.config,p,this.console)),this.QTb(p) && (g.assert(p.xa),this.tu.push(this.$pb(p.ae || c.S.nb,p.xa,t))));}};n.prototype.q3=function(p){return this.config.q3 || this.config.r3 && -1 !== this.config.r3.indexOf(p);};n.prototype.f0=function(p){return l.oY.f0(this.config,p.ae,this.Rb,this.console);};n.prototype.uFb=function(){return !this.config.Ey;};n.prototype.QTb=function(p){return this.config.PWb && this.config.Oj && ! !p.ae;};n.prototype.$pb=function(p,q,t){return new h.yGa(p.Sa(t),q,this.console);};return n;})();b.VAa=r;},function(r,b,a){var g,l,m,d;function c(f){return f.toString() + " (nrdp: " + f.iG + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=void 0;g=a(21);l=a(248);m=a(20);d=a(5);r=(function(){function f(h,k,n){this.console=n;this.offset=g.S.nb;this.ae=h.Oj?k.ae:void 0;d.assert(k.xa);this.xa=k.xa;}f.prototype.append=function(h){var k,n;k=h.Xd;n=h.offset;void 0 !== this.mWa && (d.assert(void 0 !== this.Cla),k.$c.add(h.offset).equal(this.mWa)?(h=this.Ynb(k,n.add(this.offset)).X - this.Cla,0 > h?this.offset=this.offset.add(g.S.BB):0 === h?this.offset.lessThan(g.S.nb) && (this.offset=this.offset.add(g.S.BB)):1 === h?this.offset.greaterThan(g.S.nb) && (this.offset=this.offset.Sa(g.S.BB)):this.offset=this.offset.Sa(g.S.BB)):this.offset=g.S.nb);this.Cla=this.Xnb(k,n.add(this.offset)).X;this.mWa=k.Hd.add(n);return {Xd:k,offset:n.add(this.offset)};};f.prototype.Ynb=function(h,k){var n,p;h=this.NKa(h.$c);n=l.Ls(h).add(l.Ls(k));p=h.add(k).Sa(n);m.ma && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(k) + ", start rounding error: " + l.Ls(h).toString() + ", offset rounding error: " + l.Ls(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Bd() + ", (" + h.iG + k.iG + "ms), last fragment end nrdp: " + this.Cla);return p;};f.prototype.Xnb=function(h,k){var n,p,q;n=this.xa;h=this.NKa(h.Hd);p=l.Ls(h.Sa(n)).add(l.Ls(n)).add(l.Ls(k));q=h.add(k).Sa(p);m.ma && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Sa(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + l.Ls(h.Sa(n)).toString() + ", frame duration rouding error: " + l.Ls(n).toString() + ", offset rounding error: " + l.Ls(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Bd() + ", (" + h.Sa(n).iG + n.iG + k.iG + "ms)");return q;};f.prototype.NKa=function(h){return this.ae?h.Sa(this.ae):h;};return f;})();b.wBa=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WEa=void 0;c=a(21);g=a(5);l=a(20);r=(function(){function m(d,f,h){this.config=d;this.console=h;this.ou=c.S.nb;g.assert(f.xa);this.xa=f.xa;d=f.Cd[0].profile;this.J4=this.LAb(d,this.xa);this.r4=this.GAb(d,this.xa);}m.prototype.append=function(d,f){var h,k,n;h=d.Xd;d=d.offset;k=f.y4;f=f.una;if(this.joa){n=this.EJb(h,this.joa);h.wa && this.vea(n)?(l.ma && this.console.trace("SeamlessAudio: dropping one first frame"),h.OR(1),this.ou=n):(this.ou=n.add(this.xa),this.SLa(this.ou) || (l.ma && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.ek.Bd() + " error would be " + this.ou.Bd() + " (editing " + (h.wa?"":"not ") + "allowed)"),this.ou=c.S.nb));this.joa=void 0;}if(h.Kq || h.Vx)(g.assert(k,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.wa || !f && h.Vx || (n=this.FJb(h,k,f),n.Fn(c.S.nb) && h.gha(1)),this.joa=k);g.assert(this.SLa(this.ou));this.Hla=h.fh;return {Xd:h,offset:d.add(this.ou)};};m.prototype.FJb=function(d,f,h){var k;if(h)k=this.ou.add(d.fh.Sa(h)).Sa(this.xa);else (k=d.fh.Sa(f),k=this.ou.add(k).Sa(this.xa));l.ma && this.console.trace("SeamlessAudio: fragment end: " + d.fh.Bd() + ", splice " + f.Bd() + ", next start " + (null === h || void 0 === h?void 0:h.Bd()) + ", error " + k.add(this.xa).Bd() + ", error with frame drop " + k.Bd() + ", is" + (this.vea(k)?"":" not") + " within bounds of [" + this.J4.Bd() + " and " + this.r4.Bd() + ")");return k;};m.prototype.EJb=function(d,f){var h;g.assert(this.Hla);h=this.ou.add(this.Hla.Sa(d.ek)).Sa(this.xa);l.ma && this.console.trace("SeamlessAudio: fragment start: " + d.ek.Bd() + ", splice " + f.Bd() + ", last fragment end: " + this.Hla.Bd() + ", error " + h.add(this.xa).Bd() + ", error with frame drop " + h.Bd() + ", is" + (this.vea(h)?"":" not") + " within bounds of [" + this.J4.Bd() + " and " + this.r4.Bd() + ")");return h;};m.prototype.vea=function(d){return d.lessThan(this.r4) && d.Fn(this.J4);};m.prototype.SLa=function(d){return d.lessThan(this.r4.add(c.S.BB)) && d.Fn(this.J4.Sa(c.S.BB));};m.prototype.GAb=function(d,f){return "object" === typeof this.config.mqa && void 0 !== this.config.mqa[d]?(d=new c.S(this.config.mqa[d],1E3).Ng(f.U).add(new c.S(1,f.U)),c.S.min(f,d)):f;};m.prototype.LAb=function(d,f){var h;if("object" === typeof this.config.nqa && void 0 !== this.config.nqa[d]){h=f.wn(-2);d=new c.S(this.config.nqa[d],1E3).Ng(f.U).Sa(new c.S(1,f.U));return c.S.max(h,d);}return new c.S(-12,1E3);};return m;})();b.WEa=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mBa=void 0;c=a(21);g=a(5);l=a(20);r=(function(){function m(d,f,h){var k;this.console=h;this.ZU=!1;g.assert(f.xa,"NegativePtsGuard: stream.frameDuration must exist.");this.xa=f.xa;this.Oj=d.Oj;this.ae=null !== (k=f.ae) && void 0 !== k?k:c.S.nb;}m.prototype.append=function(d){var f,h,k;if(this.ZU)return d;f=d.Xd;d=d.offset;if(f.wa){h=f.$c.Sa(this.Oj?this.ae:c.S.nb).add(d);if(h.lessThan(c.S.nb)){k=Math.ceil(h.Q4(-1).wn(this.xa));l.ma && this.console.trace("NegativePtsGuard: dropping " + k + " frames on first fragment to avoid nagative pts, profile offset " + (this.ae.Bd() + ", request content start ") + (f.$c.Bd() + ", current timestamp offset ") + (d.Bd() + " => firstPlatformTimestamp ") + (h.Bd() + "."));f.OR(k);}}this.ZU=!0;return {Xd:f,offset:d};};return m;})();b.mBa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yGa=void 0;c=a(21);g=a(20);r=(function(){function l(m,d,f){this.ae=m;this.xa=d;this.console=f;}l.prototype.append=function(m,d){var f,h,k;f=m.Xd;m=m.offset;h=d.endOfStream;d=d.y4;if(h && d){h=f.$c.Sa(this.ae).add(m);k=f.Hd.Sa(this.ae).add(m);d=d.Sa(c.S.BB);g.ma && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + h.Bd() + "-" + k.Bd() + " vs media splice point at " + d.Bd());h.add(this.xa).Fn(d)?(g.ma && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),f.yPa()):k.Fn(d) && (d=Math.ceil(k.Sa(d).wn(this.xa)),f.wa?(g.ma && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),f.gha(d)):(g.ma && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),f.yPa()));}else h && g.ma && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Xd:f,offset:m};};return l;})();b.yGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wya=void 0;r=(function(){function a(c){this.ZU=!1;this.$Tb=c.pVa;}a.prototype.append=function(c){c.Xd.wa && (c.Xd.fTb(this.ZU?0:this.$Tb),this.ZU=!0);return c;};return a;})();b.Wya=r;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v;function c(x,y,z,B){var A,E;f.assert(x.$j,"Current time: " + n.default.time.ba() + " cr: " + x.currentTime);f.assert(x.currentTime.isFinite());A=z.Sa(x.currentTime);A=Math.max(Math.ceil(A.VF / x.speed),0);E=null !== B && void 0 !== B?B:{id:void 0,UOa:A,eZa:0,cMb:A};E.id=setTimeout(function(){z.Sa(x.currentTime).rF(m.S.nb)?y():(E.eZa++,c(x,y,z,E));},A);E.UOa=A;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.M6a=b.fP=void 0;g=a(0);l=a(17);m=a(21);d=a(249);f=a(5);h=a(20);k=a(919);n=g.__importDefault(a(3));p=a(176);q=a(920);t=a(921);u=a(147);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{JG:{get:function(){return this.nda;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{IYa:{get:function(){return this.Mhb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ysb:{get:function(){return this.Vfb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hqa:{get:function(){return this.ujb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,B){this.Vfb=z === v.VL?0:n.default.time.ba();this.Mhb=y;this.ujb=z;h.ma && f.assert(!this.nda,"Invalid replacement of timeout value");this.nda=B;};x.prototype.complete=function(){this.nda=void 0;this.set(m.S.Kx,v.VL);};return x;})();(function(x){x[x.VL=0]="none";x[x.XXa=1]="microTask";x[x.setTimeout=2]="setTimeout";})(v || (v={}));r=(function(x){function y(z,B,A){var E;void 0 === A && (A="unknown");E=x.call(this) || this;E.sa=z;E.console=B;E.name=A;E.Khb=0;E.oca=!1;E.Nj=new w();E.z1=new l.sh();E.kl=new d.SX([],k.CNa(function(D,F){return D.JM.Jk(F.JM);},function(D,F){return D.Sy.id > F.Sy.id?1:D.Sy.id < F.Sy.id?-1:0;}));E.xLa(z);return E;}g.__extends(y,x);Object.defineProperties(y.prototype,{GTb:{get:function(){return this.sa.$j;},enumerable:!1,configurable:!0}});y.prototype.oOa=function(z,B){z=new (z.bind.apply(z,g.__spread([void 0],B)))();z.id=this.Khb++;z.lmb(this);this.Pda(z);return z;};y.prototype.AE=function(){for(var z=[],B=0;B < arguments.length;B++){z[B]=arguments[B];}return this.oOa(q.aza,z);};y.prototype.Kyb=function(){var z;z={hasSchedule:! !this.Nj.JG,schedule:this.Nj.JG && ({sleepTime:this.Nj.JG.UOa,originalSleepTime:this.Nj.JG.cMb,clockSkewAdjustments:this.Nj.JG.eZa}),nextWakeup:this.Nj.IYa.X,timeScheduled:this.Nj.Ysb,scheduleType:v[this.Nj.hqa],numTasks:this.kl.length,clock:{ir:this.sa.$j,ct:this.sa.currentTime.X,sp:this.sa.speed}};h.ma && this.trace("audit",z);return z;};y.prototype.wR=function(){for(var z=[],B=0;B < arguments.length;B++){z[B]=arguments[B];}return this.oOa(t.oFa,z);};y.prototype.xLa=function(z){var B;B=this;this.uA();this.z1.clear();this.sa=z;this.z1.on(z,"stopStart",function(){return B.yM();});this.z1.on(z,"clockAdjusted",function(){return B.iU();});this.z1.on(z,"speedChanged",function(){return B.PLb();});this.iU();this.emit("clockChanged");};y.prototype.PLb=function(){this.uA();this.yM();};y.prototype.Gb=function(){this.reset();};y.prototype.reset=function(){this.uA();this.kl.clear();};y.prototype.iU=function(){var z,B;z=this;B=this.kl.map(function(A){return A.Sy;});this.uA();this.kl.clear();B.forEach(function(A){return z.Pda(A,!1);});this.yM();};y.prototype.Pda=function(z,B){var A,E;void 0 === B && (B=!0);A=z.Y4();E=this.U4a(A);z={Sy:z,JM:E,r6:A};f.assert(!this.kl.contains(z));this.kl.push(z);B && this.yM();};y.prototype.yM=function(){var z,B,A,E,D;z=this;h.ma && this.trace("recheck schedule task count:" + this.kl.length);if(this.GTb){if(this.oca)h.ma && this.trace("already executing, bailing");else {E=this.Nj.IYa;D=null !== (A=null === (B=this.kl.bv()) || void 0 === B?void 0:B.JM) && void 0 !== A?A:m.S.Kx;D.isFinite() && D.c5(E)?(this.uA(!1),this.sa.currentTime.Fn(D)?(this.Nj.set(D,v.XXa),Promise.resolve().then(function(){z.Nj.hqa === v.XXa && (z.Nj.complete(),z.W1a());})):(h.ma && this.trace("scheduling next wake up for:" + D.X),B=c(this.sa,function(){z.Nj.complete();z.W1a();},D),this.Nj.set(D,v.setTimeout,B))):D.isFinite() || this.Nj.hqa !== v.setTimeout || this.uA(!1);}}else (h.ma && this.trace("should check schedule is false, stopping"),this.uA());};y.prototype.W1a=function(){var z,B,A,E;A=0;E=null === (z=this.kl.bv()) || void 0 === z?void 0:z.r6;try{for(this.oca=!0;1E4 > A++ && this.TWb();){;}}finally{this.oca=!1;this.uA();1E4 < A && !this.lDb(E)?null === (B=this.console) || void 0 === B?void 0:B.error("Task scheduler executed more than 10000 iterations in same tick"):this.yM();}};y.prototype.lDb=function(z){var B,A;A=null === (B=this.kl.bv()) || void 0 === B?void 0:B.r6;return z && A && z.timestamp.equal(A.timestamp) && z.type === A.type?!1:!0;};y.prototype.TWb=function(){var z,B,A;A=null !== (B=null === (z=this.kl.bv()) || void 0 === z?void 0:z.JM) && void 0 !== B?B:m.S.Kx;h.ma && this.trace("tryExecuteNextTask @" + this.sa.currentTime.X + ", next wakeup at " + A);if(this.sa.currentTime.Fn(A) && (z=this.kl.pop())){B=z.Sy;h.ma && this.trace("Running a task @" + this.sa.currentTime.X + ", scheduled for time:" + A.X + ("Name:" + B.name));try{B.SB();z.r6=B.Y4();z.JM=this.U4a(z.r6);}catch(E){throw (this.console.error("Unhandled error from a task " + B.name + " occurred. Removing the task from future executions:" + E,{stack:E.stack}),B.Gb(),E);}finally{z.JM !== m.S.Kx && B.state === p.gl.bV && (f.assert(!this.kl.contains(z)),this.kl.push(z));}return !0;}};y.prototype.xRb=function(z){f.assert(z.Mg === this);this.ypa(z,!1);this.Pda(z);};y.prototype.ypa=function(z,B){var A;void 0 === B && (B=!0);A=this.kl.find(function(E){return E.Sy === z;});A && this.EQb(A,B);};y.prototype.EQb=function(z,B){this.kl.remove(z);B && this.yM();};y.prototype.uA=function(z){void 0 === z && (z=!0);this.Nj.JG && (z && this.emit("stopping"),clearTimeout(this.Nj.JG.id),this.Nj.complete());};y.prototype.U4a=function(z){return z.type === u.Maa.absolute?z.timestamp:z.timestamp.add(this.sa.currentTime);};y.prototype.trace=function(){for(var z,B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,g.__spread(["TaskScheduler(" + this.name + "):"],B));};return y;})(l.EventEmitter);b.fP=r;b.M6a=function(x,y,z){var B;B=void 0;return (z || x.sa.$j) && x.sa.currentTime.Fn(y)?{promise:Promise.resolve()}:{promise:new Promise(function(A){B=x.wR(u.vk.FN(y),A);}),Sy:B};};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CNa=void 0;c=a(0);g=a(20);l=a(5);b.CNa=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}g.ma && l.assert(m.length);return function(f,h){var k,q,t;try{for(var n=c.__values(m),p=n.next();!p.done;p=n.next()){q=p.value;t=q(f,h);if(0 !== t)return t;}}catch(w){var u;u={error:w};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(u)throw u.error;}}return 0;};};},function(r,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.aza=void 0;c=a(0);g=a(21);l=a(5);m=a(176);d=a(147);r=(function(f){function h(k,n){n=f.call(this,n) || this;n.URb=k;n.reset();return n;}c.__extends(h,f);h.prototype.reset=function(){var k,n;if(this.Td === m.gl.bV || this.Td === m.gl.pending)null === (n=null === (k=this.iZ) || void 0 === k?void 0:k.return) || void 0 === n?void 0:n.call(k);this.Td=m.gl.pending;this.iZ=this.URb();this.Hca=d.vk.GN(g.S.nb);};h.prototype.Xk=function(){this.reset();l.assert(this.aA);this.aA.xRb(this);};h.prototype.Y4=function(){return this.Hca;};h.prototype.bf=function(){var k,n,p;p=this.iZ.next();p.done?(this.Hca=d.vk.Osa,null === (n=(k=this.iZ).return) || void 0 === n?void 0:n.call(k)):this.Hca=p.value;};h.prototype.Gb=function(){var k,n;null === (n=(k=this.iZ).return) || void 0 === n?void 0:n.call(k);f.prototype.Gb.call(this);};return h;})(m.Waa);b.aza=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oFa=void 0;c=a(0);g=a(176);l=a(147);r=(function(m){function d(f,h,k){k=m.call(this,k) || this;k.kqa=f;k.dR=h;return k;}c.__extends(d,m);d.prototype.Y4=function(){return this.Td === g.gl.pending?this.kqa:l.vk.Osa;};d.prototype.bf=function(){this.dR();};return d;})(g.Waa);b.oFa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;r=a(0);c=r.__importDefault(a(28));g=r.__importDefault(a(923));a=(function(){function l(m){this.l_=[];this.l_[c.default.jb.Bb]=new g.default(m,c.default.jb.Bb);this.l_[c.default.jb.Pb]=new g.default(m,c.default.jb.Pb);}l.prototype.elb=function(m,d,f){this.l_[m].add(d,f);};l.prototype.YBb=function(){var m;m=[];this.l_.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};l.prototype.$wb=function(m){var d;d=this.YBb();m.strmsel=d;return 0 < d.length;};return l;})();b.yEa=a;},function(r,b,a){var g;function c(l,m){this.Jib=l.FB && l.FB.enabled;this.UD=void 0;this.zhb=m;this.dda=[];this.Ada=[];this.NZ=[];this.zf=[];}g=a(37).lL;c.prototype.reset=function(l){this.UD=void 0;this.dda=[];this.Ada=[];this.NZ=[];l && (this.zf=[]);};c.prototype.add=function(l,m){var d,f,h;d=m.filter(function(k,n){return g(k) || n === l.ce;});f=d.map(function(k){return k.bitrate;});m=m[l.ce];d=d.indexOf(m);if(this.UD && (this.UD.length !== f.length || this.UD.some(function(k,n){return k !== f[n];}))){h=this.VRa();h && (this.zf.push(h),this.reset(!1));}void 0 === this.UD && (this.UD=f);this.dda.push([d,l.isa,l.dc,l.Pea,l.uMa,l.$Nb,l.VKb,l.$d,l.pn,l.Uh,l.LVb - l.isa,l.LNb]);void 0 !== l.Ns && this.NZ.push([l.isa,l.Ns.f7,l.Ns.x0,l.Ns.l6]);this.Jib && void 0 !== m.Y && (d=m.Y.sm(l.Uh),-1 != d && (d=m.Y.get(d),h=d.duration,m=d.mb || m.mb,void 0 !== m && this.Ada.push({V:d.V,duration:h,mb:m})));};c.prototype.dQa=function(l){for(var m=[],d=[],f=0;f < l.length;f++){for(var h=l[f],k=[],n=0;n < h.length;n++){k.push(h[n] - (d[n] || 0));}m.push(k);d=h;}return m;};c.prototype.VRa=function(){var l,m;l=this.dQa(this.dda);if(0 !== l.length){m=0 < this.NZ.length?this.dQa(this.NZ):[];return {dltype:this.zhb,bitrates:this.UD,seltrace:l,vmaftrace:this.Ada,paceratetrace:m};}};c.prototype.get=function(){var l,m;l=this.VRa();m=this.zf;l && m.push(l);if(0 !== m.length)return m;};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DSa=void 0;b.DSa=function(a){var c,g,l;c=Math.floor(1E6 * Math.random());g=a.oka;l=a.X2;a=0 === c % a.pka && 0 < l.length;return {Bq:a,TR:a && 0 === c % g};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PNa=void 0;b.PNa=function(a,c){var g;if(!Array.isArray(a.ONa))return a;g=a.Wo?a.Wo():Object.create(a);a.ONa.forEach(function(l){if(void 0 !== l.yJb && c.duration >= l.yJb && l.config)for(var m in l.config){g[m]=l.config[m];}});return g;};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mwa=void 0;c=a(0).__importStar(a(8));g=a(123);l=a(5);r=(function(){function m(d,f,h){var O50;O50=2;for(;O50 !== 3;){switch(O50){case 5:var B4Y="1SI";B4Y+="Y";B4Y+="bZrNJ";B4Y+="Cp9";this.yh=h;B4Y;O50=3;break;case 2:this.mm=d;this.u=f;O50=5;break;case 6:this.yh=h;"";O50=4;break;O50=3;break;}}}var N50;N50=2;for(;N50 !== 7;){switch(N50){case 2:m.prototype.Qfb=function(d,f){var P50,h,k;P50=2;for(;P50 !== 8;){switch(P50){case 2:var U4Y="c";U4Y+="rea";U4Y+="teDlTra";U4Y+="cksStart";(h=this,k=this.mm.G);0 === this.ND && this.mm.$a.Lj(U4Y);this.ND+=d.length;P50=4;break;case 4:d=d.map(function(n){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:return h.EHa(n,f.H,f.Ox(),h.mm.il,k);break;}}});g.ko.instance.bf();return d;break;}}};m.prototype.bgb=function(){var R50,d,f;R50=2;for(;R50 !== 3;){switch(R50){case 2:(d=this,f=[]);this.mm.cb.gf.forEach(function(h){var S50;S50=2;for(;S50 !== 5;){switch(S50){case 2:c.ea(h.ih) || f.push(h.ih);h.ih=void 0;S50=5;break;}}});this.mm.LP && (f.push(this.mm.LP),this.mm.LP=void 0);f.forEach(function(h){var T50;T50=2;for(;T50 !== 5;){switch(T50){case 2:h.un || --d.ND;g.ko.instance.UJ(h);T50=5;break;}}});R50=3;break;}}};m.prototype.Ygb=function(){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:this.ND=0;U50=1;break;case 4:this.ND=7;U50=6;break;U50=1;break;}}};m.prototype.BJa=function(d,f){var V50,h,k;V50=2;for(;V50 !== 5;){switch(V50){case 2:(h=this.mm.cb.gf[d],k=h.ih);k && (k=f.uQ(d,k),this.agb(d),h.ih=this.EHa(d,f.H,f.Ox(),this.mm.il,this.mm.G),f.z6(k));V50=5;break;}}};N50=3;break;case 3:m.prototype.EHa=function(d,f,h,k,n){var W50,p,q;W50=2;for(;W50 !== 7;){switch(W50){case 2:var p4Y="e";p4Y+="rr";p4Y+="o";p4Y+="r";var w4Y="ne";w4Y+="tworkfa";w4Y+="il";w4Y+="ing";var g4Y="cr";g4Y+="ea";g4Y+="te";g4Y+="d";(p=this,q=g.ko.instance.Yr(d,f,!0,h,k,n));q.qg.on(q,g4Y,function(){var X50;X50=2;for(;X50 !== 5;){switch(X50){case 2:var H4Y="crea";H4Y+="t";H4Y+="eD";H4Y+="lTr";H4Y+="acksEnd";--p.ND;0 === p.ND && p.mm.$a.Lj(H4Y);X50=5;break;}}});q.qg.on(q,w4Y,function(){var Y50,t;Y50=2;for(;Y50 !== 8;){switch(Y50){case 3:t.ep.Zq(q.bS,void 0,q.Dg,q.Bi);t.nr();Y50=8;break;case 2:var a4Y="re";a4Y+="portN";a4Y+="etwo";a4Y+="rkFailing: ";n.Ch && p.yh.Gl(a4Y + q);Y50=1;break;case 5:l.assert(q.bS);t=p.mm.Ud.M;Y50=3;break;case 1:Y50=q.F1?5:8;break;}}});q.qg.on(q,p4Y,function(){var Z50;Z50=2;for(;Z50 !== 5;){switch(Z50){case 2:var k4Y="NFErr_MC_Stream";k4Y+="i";k4Y+="ngFailure";var l4Y="Dow";l4Y+="nloadTrack fata";l4Y+="l e";l4Y+="r";l4Y+="ror";var N4Y="D";N4Y+="ownloadTrack f";N4Y+="atal error";n.Ch && p.yh.Gl(N4Y);p.mm.Do(l4Y,void 0,k4Y,q.Dg,0,q.Bi);Z50=5;break;}}});W50=3;break;case 3:var y4Y="transpo";y4Y+="rtre";y4Y+="port";q.on(y4Y,function(t){var a60;a60=2;for(;a60 !== 1;){switch(a60){case 4:p.mm.emit("",t);a60=2;break;a60=1;break;case 2:var i4Y="trans";i4Y+="p";i4Y+="ortrepo";i4Y+="rt";p.mm.emit(i4Y,t);a60=1;break;}}});q.Wa();return q;break;}}};m.prototype.agb=function(d){var b60,f;b60=2;for(;b60 !== 9;){switch(b60){case 2:d=this.mm.cb.gf[d];f=d.ih;f.un || --this.ND;g.ko.instance.UJ(f);d.ih=void 0;b60=9;break;}}};return m;break;}}})();b.mwa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Dta=void 0;c=a(16);g=a(9);r=(function(){function l(m){this.rE=m;this.state=new g.Zp(c.ga.zg);this.zi={};}l.prototype.getState=function(){return this.state.value;};l.prototype.ve=function(m){this.state.set(m);};l.prototype.addListener=function(m){this.state.addListener(m);};l.prototype.paused=function(){this.state.value === c.ga.oc && this.state.set(c.ga.wh);};l.prototype.kC=function(){this.state.value === c.ga.wh && this.state.set(c.ga.oc);};l.prototype.SVa=function(){return this.state.value === c.ga.zg;};l.prototype.iB=function(){return "function" === typeof this.rE.iB?this.rE.iB():this.state.value === c.ga.oc;};l.prototype.pg=function(){return this.state.value === c.ga.Dc || this.state.value === c.ga.Xe;};l.prototype.bh=function(){return this.state.value === c.ga.ji;};l.prototype.TVa=function(){return this.state.value === c.ga.aq;};l.prototype.ie=function(){return this.rE.ie();};l.prototype.Dn=function(){return "function" === typeof this.rE.Dn?this.rE.Dn():1;};l.prototype.DK=function(){return this.rE.DK();};l.prototype.oV=function(m,d){this.zi[m]=d;};l.prototype.Jn=function(m){return ! !this.zi[m.H] || m.Bh;};return l;})();b.Dta=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wDa=void 0;c=a(0).__importDefault(a(3)).default.Promise;r=(function(){function g(l,m,d){var f;this.Zlb=l;this.Ica=m;this.Wfb=d;this.Yba=(f={},f[0]=!1,f[1]=!1,f);this.reset();}g.prototype.ex=function(){var l,m;l=this;m=this.Zlb.filter(function(d){return !d.xVa(l.Wfb());});0 === m.length && this.sca?this.Rhb():m.forEach(function(d){l.Yba[d.mediaType] || (d.once("requestAppended",function(){l.Yba[d.mediaType]=!1;l.ex();}),l.Yba[d.mediaType]=!0);});};g.prototype.reset=function(){var l;l=this;this.sca=!1;new c(function(m){l.Rhb=m;}).then(function(){return l.Ica();});};g.prototype.jIb=function(){this.sca || (this.sca=!0,this.ex());};return g;})();b.wDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mta=void 0;c=a(20);r=(function(){function g(l){this.console=l;this.DD=[];this.Qz=[];c.ma && this.console.trace("Received pending adoption " + this.wj.length);}Object.defineProperties(g.prototype,{length:{get:function(){return this.DD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wj:{get:function(){return this.Qz;},enumerable:!1,configurable:!0}});g.prototype.gIb=function(l){l=this.Qz.indexOf(l);-1 !== l && (c.ma && this.console.trace("Marking request attached"),this.DD[l].vVa=!0,this.s5a(l));};g.prototype.hIb=function(l){l=this.Qz.indexOf(l);-1 !== l && (c.ma && this.console.trace("Marking request completed"),this.DD[l].Px=!0,this.s5a(l));};g.prototype.FQb=function(l){var m,d;m=this;d=[];this.Qz.forEach(function(f,h){l(f) && d.unshift(h);});d.forEach(function(f){m.Qz.splice(f,1);m.DD.splice(f,1);});};g.prototype.push=function(l){this.Qz.push(l);this.DD.push({vVa:!1,Px:!1});c.ma && this.console.trace("Pushing pending request, " + this.length + " total");};g.prototype.$A=function(){return 0 < this.length;};g.prototype.s5a=function(l){var m;m=this.DD[l];m.vVa && m.Px && (m=this.Qz[l],this.Qz.splice(l,1),this.DD.splice(l,1),c.ma && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ma && this.console.trace("Removing last request, contentEndPts: " + m.Fb));};return g;})();b.mta=r;},function(r,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.XCa=void 0;r=a(0);c=r.__importDefault(a(28));g=c.default.jb;l=c.default.cD;m=a(9);d=a(21);f=r.__importDefault(a(109));h=r.__importDefault(a(3));a=(function(){function k(n,p,q,t,u){this.cv=n;this.gs=p;this.G=q;this.u=t;this.Rf=u;}k.prototype.CKb=function(n){n={type:"requestCreated",request:n};m.Ma(this.gs,n.type,n);};k.prototype.BKb=function(n){var p;p=n.Ka.wb.R;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{oa:p.id,offset:d.S.lb(this.cv.Hfa - p.V)},completePlayerStreamingTimestamp:d.S.lb(this.cv.Vr),trackIndex:n.stream.track.$D};m.Ma(this.gs,n.type,n);};k.prototype.aZa=function(n,p,q){var t,u;t=this.Rf;u=this.cv.ag;u.V2a(n);1 === t && this.G.F6 && (void 0 === u.Mla?u.X2a(h.default.time.ba()):h.default.time.ba() - u.Mla > this.G.F6 && (n.bitrate !== u.tWa && (h.default.storage.set("vb",n.bitrate),u.hTb(n.bitrate)),u.X2a(h.default.time.ba())));u.rT && u.rT === n || (this.cv.Py.RUb(p,u.rT,n),u.VSb(n),p=0,n.bb && n.bb.confidence && n.bb.Ha && (p=n.bb.Ha.Aa),u={oa:this.cv.wb.R.id,offset:d.S.lb(q - this.cv.wb.R.V)},n={type:"streamSelected",nativetime:h.default.time.ba(),mediaType:t,streamId:n.id,manifestIndex:n.M.qb,trackIndex:n.track.$D,streamIndex:n.$f,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:u},m.Ma(this.gs,n.type,n));};k.prototype.xKb=function(n,p,q){var t,u,w,v,x;t=p.M;u=t.Al;w=this.cv.ag;v=t.QFb(p);x=v.ula;v=v.RFb;q && p.Nc && !w.tT?(v=l.hw,p.er=l.name[v],this.$Ya(n,p.Nc,p.er,p.location,p.bitrate),w.tT=p.Nc):!q && p.Nc && p.Nc !== w.tT && (v=v?void 0 === w.tT?l.hw:u.SM === l.Y$?l.Udb:l.V8:l.Tdb,p.er=l.name[v],this.$Ya(n,p.Nc,p.er,p.location,p.bitrate),w.tT=p.Nc);w.nL || (v={type:"logdata",target:"startplay",fields:{}},this.Rf === g.Pb?v.fields.alocid=p.location:this.Rf === g.Bb && (v.fields.locid=p.location),m.Ma(this.gs,v.type,v));q && p.location && !w.nL?(v=l.hw,p.er=l.name[v],this.YYa(t.qb,n,p.location,p.bma,p.Nc,p.oG,p.er,p.fv),w.nL=p.location):!q && p.location && p.location !== w.nL && (v=x?void 0 === w.nL?l.hw:u.SM === l.Y$?l.nbb:l.V8:l.mbb,p.er=l.name[v],this.YYa(t.qb,n,p.location,p.bma,p.Nc,p.oG,p.er,p.fv),p.fv=void 0,w.nL=p.location);this.G.Ws || (p.pWa=p.location,p.rWa=p.Nc);};k.prototype.h5=function(n){n={type:"requestsPruned",requests:n};m.Ma(this.gs,n.type,n);};k.prototype.$Ya=function(n,p,q,t,u){var w,v;w=this.Rf === g.Bb?"video":"audio";v=f.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:w,server:p,reason:q,location:t,bitrate:u,confidence:v.confidence};v.confidence && (n.throughput=v.Ha.Aa);this.cv.ag.tT && (n.oldserver=p);m.Ma(this.gs,n.type,n);};k.prototype.YYa=function(n,p,q,t,u,w,v,x){m.Ma(this.gs,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.Rf === g.Bb?"video":"audio",location:q,locationlv:t,serverid:u,servername:w,selreason:v,seldetail:x});};k.prototype.Jca=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.IB || m.Ma(this.gs,p.type,p);};k.prototype.Gl=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ba() + ", " + n};m.Ma(this.gs,n.type,n);};k.prototype.Yxb=function(n){m.Ma(this.gs,"transportReport",n);};return k;})();b.XCa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u;Object.defineProperties(b,{__esModule:{value:!0}});b.EEa=void 0;c=a(0);g=c.__importStar(a(8));l=a(250);m=a(934);d=a(937);f=a(938);r=a(96);h=a(939);k=a(5);n=c.__importDefault(a(3));p=a(252);q=a(9);t=a(64);u=n.default.Promise;a=(function(w){function v(x,y,z,B,A,E,D,F){var C;C=w.call(this,x) || this;C.G=y;C.u=z;C.fm=B;C.Vc=A;C.Rf=E;C.kja=F;C.d6a=!0;C.ig=new p.HW(C.u);C.Af=C.u.error.bind(C.u);C.ub=C.u.warn.bind(C.u);C.Ck=C.u.trace.bind(C.u);C.HJa();C.Co=null === D || void 0 === D?void 0:D.AE(function(){return C.$Qb();});return C;}c.__extends(v,w);Object.defineProperties(v.prototype,{console:{get:function(){return this.u;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mediaType:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wb:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vv:{get:function(){return 0 < this.Dy;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{lra:{get:function(){return !this.CI;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Dy:{get:function(){return this.va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{kr:{get:function(){return this.va.kr;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jPb:{get:function(){return this.ig.count;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{t0:{get:function(){return this.va.complete.fh;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vr:{get:function(){return this.va.yNa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hfa:{get:function(){return this.va.xNa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Mm:{get:function(){return void 0 === this.va.Tc?0:this.va.me - this.va.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Uo:{get:function(){return {$:this.va.vA,X:Math.max(this.va.yNa - this.va.Tc,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{EJ:{get:function(){return this.va.Dpb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vA:{get:function(){return this.va.vA;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{eA:{get:function(){return this.va.$;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qy:{get:function(){return this.Igb();},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{doa:{get:function(){return this.va.fEb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{S2:{get:function(){return this.va.length > this.va.kr;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{pn:{get:function(){return this.va.pn;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qGb:{get:function(){return this.CIa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{n_a:{get:function(){return this.va.length - this.ll;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Y:{get:function(){return this.va;},enumerable:!1,configurable:!0}});v.prototype.Sf=function(){var x,y;y=this.va;setTimeout(function(){y.forEach(function(z){z.abort();z.kc();});},0);this.HJa();this.ig.w1();null === (x=this.Co) || void 0 === x?void 0:x.Gb();};v.prototype.reset=function(){this.Sf();this.ig.H1a();};v.prototype.close=function(){this.ig.w1();};v.prototype.F2a=function(){this.jHa=!0;};v.prototype.sja=function(){return {hasSentinel:void 0 !== this.ig.count,queueCount:this.ig.count,isComplete:this.ig.Px,itemCount:this.ig.ANa,continuousEndPts:this.ig.fo().reduce(function(x,y){return y && !y.done && (y=y.value,100 > Math.abs(y.iS - x) || -1 === x)?y.Zxb:x;},-1),sentinelItemCount:this.ig.fo().filter(function(x){return x && x.done;}).length,processedCount:this.ig.Xtb,rc:this.Dy};};v.prototype.Ksb=function(x,y,z){var B,A;B=this.G;k.assert(!x.header);if(B.Kvb && 1 === this.mediaType)A=new f.Hta(z,B,y.track,x,this.va,this.u);else z.M.VPa(this.Rf)?(A=new d.Ata(z,B,y.track,x,this.va,!1,this.u),B.t1 && 0 < A.YVb && (x=new h.Uta(z,B,y.track,x,this.va,!1,this.u),x.Wa(this),x.ny())):A=l.FW.create(z,B,y.track,x,this.va,!1,this.u,this.kja);A.Wa(this);this.Nw(A);return A;};v.prototype.wlb=function(x){var y;x.Wa(this);x.Vda=!0;this.Nw(x);y=u.resolve();x.complete?(this.Eba(x),this.fm.aZa(x.stream,x.Tc,x.Sb),y=this.T7(),this.ms(x)):(x.active && this.RE(x),x.kpa && this.MA(x));return y;};v.prototype.Nw=function(x){var y,z;this.va.np(x);(null === (y=this.Co) || void 0 === y?void 0:y.state) === t.gl.complete && (null === (z=this.Co) || void 0 === z?void 0:z.Xk());this.Eba(x);x.Kq && (this.CI=!1);};v.prototype.FS=function(){return this.ig.Myb();};v.prototype.ffa=function(){this.ll === this.va.length && this.jHa && this.ig.w1();};v.prototype.T7=function(){var x,y,z,B,F;x=this;z=u.resolve();B=this.Vc;if(!B.tVa(this.Rf) || this.ll === this.va.length)return z;for(var A=this.G.yIb,E=0,D=[];this.ll < this.va.length;){if(y=this.va.get(this.ll)){if(this.va.YQa && this.va.YQa.Ua < y.Ua)break;if(!y.Cs())break;D.push(y);++E;g.pa(this.Tc) || (this.Tc=y.Tc);}++this.ll;if(!g.ea(A) && E >= A)break;}if(D.length){void 0 !== this.ig.count && (this.Af("tryToAtach() but requestQueue has sentinel:",this.ig.count),this.ig.H1a());if(this.d6a)z=u.all(D.map(function(C){return x.ig.enqueue(C).then(function(){return x.N2(C);});}));else for(y=0;y < D.length;y++){try{F=D[y];B.nBb(this.mediaType).wub(F);this.N2(F);}catch(C){return (this.ll-=D.length - y,u.reject(C));}}this.ffa();}return z;};v.prototype.N2=function(x){this.CIa=x;this.jRa(x);};v.prototype.vQ=function(x,y){var z,B,A;z=this;B=[];if(0 !== this.va.kr){A=this.va.f_a;this.va.C5a.gra(function(E){if(!g.ea(x) && E.M.qb !== x || E.Kq || A > E.Tc)return !0;E.O1 && (z.CI=!1);if(!z.OY(E))return (z.ub("request abort failed:",E.toString()),!0);B.unshift(E);});this.Vca();B.length && "function" === typeof y && y(B);}};v.prototype.q6=function(){this.Vca();};v.prototype.$Qb=function(){var x,y,z,B,A,E;return c.__generator(this,function(D){switch(D.label){case 0:D.label=1;case 1:if(!this.va.length)return [3,3];x=this.va.get(0);y=q.S.lb(null !== (E=null === (A=this.G.xV) || void 0 === A?void 0:A.X) && void 0 !== E?E:0);z=y.add(x.fh);return [4,t.vk.FN(z)];case 2:D.wg();if(1 >= this.va.complete.length && !x.Kq)return [3,3];k.assert(x === this.va.get(0));x.De || this.OY(x);B=this.va.splice(0,1);0 < this.ll && this.ll--;this.fm.h5(B);return [3,1];case 3:return [2];}});};v.prototype.KU=function(x,y){var z,B,A,E,D,F;z=this;B=this.G;A=!1;E=0;D=this.va.some(function(C){if(x < C.me)return (A && z.Eba(C),!0);++E;C.De || (z.ub("pruning unappended request:",C && C.toString()),B.Ch && z.fm.Gl("prune pts:" + x + " unappended request:" + (C && C.toString())),C.O1 && (z.CI=!1,A=!0),z.OY(C,y) || z.Af("MediaRequest.abort error:",C.Dg));});if(0 < E){F=this.va.splice(0,E);this.ll-=Math.min(E,this.ll);this.fm.h5(F);}return D;};v.prototype.C2=function(x){var y,z,B;void 0 === x && (x={mR:null,lM:null,Tc:null,Tk:0,Gj:0,Y:[]});y=this.G;z=this.va;g.pa(z.Tc) && (null === x.Tc || z.Tc < x.Tc) && (x.Tc=z.Tc);B=this.Vr;void 0 !== B && null === x.mR && (x.mR=B);B=z.me;void 0 !== B && (null === x.lM || B > x.lM) && (x.lM=B);x.Tk+=z.Tk;x.Gj=y.$qa?x.Gj + z.N0a:x.Gj + z.vA;Array.prototype.unshift.apply(x.Y,z.wg.Y);return x;};v.prototype.ls=function(x){if(this.va.length && (x=this.va.NQa(x)))return x;};v.prototype.skb=function(x){var y,z,B;z=x.Hd;x=x.Sb;k.assert(z,"expected contentEndTimestamp to be defined");k.assert(void 0 !== x,"expected contentStartPts to be defined");x=this.va.Tha(x);B=this.va.get(x);k.assert(B && void 0 !== B.Sb && void 0 !== B.Fb && void 0 !== B.index,"expected existing request to be defined with properties");if(null === (y=B.Hd) || void 0 === y?0:y.equal(z))return (this.oKa(x),[B.Fb,B.index + 1]);this.oKa(x - 1);return [B.Sb,B.index];};v.prototype.nr=function(){var x,y;x=this;y=[];this.va.forEach(function(z){var B;B=z.b8();1 === B?y.push(z):2 === B && x.wb.M.hh("swapUrl failure");});return y;};v.prototype.cM=function(x){x.hB && x.Cs() && this.T7();this.MA(x);};v.prototype.ck=function(x){var y,z;x.hB && !x.De && this.T7();(null === (y=this.Co) || void 0 === y?void 0:y.state) === t.gl.complete && (null === (z=this.Co) || void 0 === z?void 0:z.Xk());this.ms(x);};v.prototype.aea=function(x){var y,z,B;y=1 === this.Rf?"v_":"a_";z=this.va;B=z.oK(x);x=0 <= B?z.get(B):void 0;return (z=0 <= B && B + 1 < z.length?z.get(B + 1):void 0) && x?x.me !== z.Tc?y + "rg":x.complete && z.complete?y + "uk":y + "fd":y + "rm";};v.prototype.Igb=function(){return this.va.pn + this.va.kr;};v.prototype.HJa=function(){var x,y,z;y=void 0 !== this.va && 0 < this.va.length;z=this.va;this.va=new m.zta(this.u,this);this.ll=0;this.ig.clear();this.CIa=void 0;this.Tc=null;null === (x=this.Co) || void 0 === x?void 0:x.Xk();this.jHa=this.CI=!1;y && (x=z.map(function(B){return B;}),this.fm.h5(x));};v.prototype.Eba=function(x){this.CI?x.O1=!1:this.CI=x.O1=!0;};v.prototype.oKa=function(x){var y;for(x+=1;x < this.Dy;x++){y=this.va.get(x);k.assert(y,"expected request to exist");this.ig.remove(y);y.aborted || (this.OY(y),y.kc());}this.Vca();};v.prototype.OY=function(x,y){if(!x.abort())return !1;"function" === typeof y && y(x);return !0;};v.prototype.Vca=function(){var x,y,z,B;x=this;if(0 !== this.va.length){z=[];B=0;this.va.$Ob(function(A,E){E < x.ll && ++B;z.push(A);});this.ll-=B;null === (y=this.Co) || void 0 === y?void 0:y.Xk();this.fm.h5(z);}};return v;})(r.Hv);b.EEa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.wta=void 0;c=a(0);g=a(82);l=c.__importDefault(a(28));r=c.__importDefault(a(3));m=a(9);d=a(5);f=a(251);h=a(72);k=a(246);n=a(84);p=r.default.Wm;a=(function(q){function t(u,w,v,x,y,z,B,A){var E;x=q.call(this,u,v,x,z,B,A) || this;y=h.gi.prototype.toString.call(x) + (y?"(cache)":"");A={offset:v.offset,$:v.nna + 8,responseType:0};x.push(new k.RN(u,w,y + "(moof)",A,x,z,B));A={offset:v.offset + A.$,$:v.$ - A.$,responseType:p.Rb && !p.Rb.KM.WH?0:1};if(x.mediaType === l.default.jb.Bb && x.wa){if(0 < x.wa.start){E=x.QQa(x.wa.start);E && (A.offset=v.offset + E,A.$=v.$ - E);}x.wa.end < x.NA && (E=x.QQa(x.wa.end)) && (A.$-=v.$ - E);}x.push(new k.RN(u,w,y + "(mdat)",A,x,z,B));return x;}c.__extends(t,q);t.prototype.Cs=function(){return !this.De && ! !this.va.length && this.va.every(function(u){return u.Cs();});};t.prototype.dE=function(u){var w,v,x,y,z,B,A,E;if(this.De)return {status:n.Li.Mv};if(!this.Cs())return {status:n.Li.jf};w=!1;v=this.va[0].response;x=v.slice(0,v.byteLength - 8);y=new DataView(v);v=y.getUint32(x.byteLength);d.assert("mdat" === g.Gz(y.getUint32(x.byteLength + 4)));z=this.wa && 0 < this.wa.start;y=this.wa && this.wa.end < this.NA;if(this.wa && (z || y)){if(z)(B=new g.Yv(this.u,this.stream,x),A=B.f1a(this.wa.start,this.U));if(y && !1 !== A){B=new g.Yv(this.u,this.stream,A?m.wA(A.Xd):x);E=B.l1a(this.wa.end - this.wa.start,this.U);}if(x=y?E:A)(w=u.appendBuffer(m.wA(x.Xd),m.qp(this)),A && (v-=A.$s),E && (v-=E.$s));B=this.Zca();}else w=u.appendBuffer(x,m.qp(this));w && (w=u.appendBuffer(g.wL(v - 8),m.qp(this))) && (w=u.appendBuffer(this.va[1].response,m.qp(this)));this.De=w;this.nQb();return {status:w?n.Li.Mv:n.Li.jf,$h:B};};t.prototype.toString=function(){return "ID: " + this.Fh() + ":" + q.prototype.toString.call(this);};return t;})(f.uC);b.wta=a;},function(r,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.P7a=void 0;r=a(0);c=a(82);g=a(418);l=r.__importDefault(a(28));m=a(9);a(5);d=a(21);f=r.__importDefault(a(3));h=a(84);a=(function(){var c60;c60=2;function k(){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:var f4Y="1SIY";f4Y+="bZ";f4Y+="rNJCp9";f4Y;d60=1;break;case 4:var Z4Y="1SI";Z4Y+="Y";Z4Y+="bZrN";Z4Y+="JCp";Z4Y+="9";Z4Y;d60=4;break;d60=1;break;}}}for(;c60 !== 14;){switch(c60){case 9:k.prototype.dE=function(n,p,q,t,u,w){var k60,x,v;k60=2;for(;k60 !== 10;){switch(k60){case 7:x=x.$h;k60=6;break;case 13:return {status:n?h.Li.Mv:h.Li.jf,$h:x};break;case 1:k60=this.De?5:4;break;case 9:x=this.igb(n,p,t,u,w);n=x.W;k60=7;break;case 11:(x=this.hgb(n,p,q,u,w),n=x.W,x=x.$h);k60=6;break;case 3:k60=this.wa && (this.Kq || this.Vx)?9:12;break;case 4:k60=!this.wa || this.Kq || this.Vx?3:11;break;case 6:this.De=!0;this.QU();k60=13;break;case 5:return {status:h.Li.jf};break;case 2:v=this.Wb;k60=1;break;case 12:n=this.mediaType === l.default.jb.Pb && v.Ey && q && this.mt && q.me >= this.me && this.Fb - this.mt < this.mt - this.Sb?!0:n.appendBuffer(this.response,m.qp(this));k60=6;break;}}};k.prototype.hgb=function(n,p,q,t,u){var l60,z,w,v,x,y;l60=2;for(;l60 !== 11;){switch(l60){case 7:x=n.appendBuffer(m.wA(p.Xd),m.qp(this));l60=6;break;case 9:l60=this.wa && (0 < this.wa.start || v.Gp)?8:13;break;case 6:z=this.Zca(v);l60=12;break;case 3:l60=y?9:12;break;case 2:(v={Gp:0},x=!1,y=!0);this.mediaType === l.default.jb.Pb && q && (t?u && this.OR():this.BHa(q)?q.wa && this.wa && this.wa.start !== q.wa.end && this.mh({start:q.wa.end}):(v=this.xHa(p),q.me === this.Tc && (v.Gp=0)));void 0 === (null === (w=this.wa) || void 0 === w?void 0:w.d7)?this.mediaType === l.default.jb.Pb && !q && this.wa && (v.Gp=Math.min(this.wa.end - this.wa.start,Math.max(this.ahb(),v.Gp || 0))):v.Gp=this.wa.d7;0 >= this.duration && (y=!1,x=!0);l60=3;break;case 8:var e4Y="medi";e4Y+="a|as";e4Y+="ejs";var W4Y="M";W4Y+="P";W4Y+="4";l60=(p=new c.Yv(new f.default.Console(W4Y,e4Y),this.stream,this.response),p=p.f1a(this.wa.start,this.QL,v.Gp))?7:14;break;case 14:var R4Y=" from";R4Y+=" ";R4Y+="[ ";var F4Y="AseFragmentM";F4Y+="ediaRequest: Fragment";F4Y+=" edit failed for ";(this.u.error(F4Y + this.toString() + R4Y + this.rK + "-" + this.X1 + "]"),x=!0);l60=12;break;case 13:x=n.appendBuffer(this.response,m.qp(this));l60=12;break;case 12:return {W:x,$h:z};break;}}};c60=7;break;case 7:k.prototype.igb=function(n,p,q,t,u){var m60,w,v,x,y;m60=2;for(;m60 !== 11;){switch(m60){case 3:m60=this.wa && this.wa.end < this.NA || v.Gp?9:13;break;case 4:m60=x?3:12;break;case 8:n=n.appendBuffer(m.wA(x.Xd),m.qp(this));m60=7;break;case 9:m60=(x=new c.Yv(this.u,this.stream,this.response),x=x.l1a(this.wa && this.wa.end,this.U,v.Gp))?8:14;break;case 2:(w=this.Wb,v={Gp:0},x=!0);this.mediaType === l.default.jb.Pb && (t?u && (this.gha(1),x=0 < this.wa.end):this.BHa(q)?q.wa && 0 !== q.wa.start?this.mh({start:0,end:q.wa.start}):x=!1:(v=this.xHa(p),w.Ey || (p=this.ifb(p,q,v.lia),(x=p.BTb) && p.LHb && (v.Gp=0))));x && 0 === this.duration && (x=!1);m60=4;break;case 7:y=this.Zca(v);m60=6;break;case 13:n=n.appendBuffer(this.response,m.qp(this));m60=6;break;case 14:var x4Y=" fr";x4Y+="om [";x4Y+=" ";var L4Y="AseFragmentMediaRequest: Fragment edit fai";L4Y+="led";L4Y+=" for";L4Y+=" ";(this.u.error(L4Y + this.toString() + x4Y + this.rK + "-" + this.X1 + "]"),n=!0);m60=6;break;case 12:n=!0;m60=6;break;case 6:return {W:n,$h:y};break;}}};return k;break;case 1:k.prototype.ahb=function(){var f60,n;f60=2;for(;f60 !== 5;){switch(f60){case 2:n=this.Wb;return n.Oj && !n.gA && this.stream.ae && (n.q3 || n.r3 && -1 !== n.r3.indexOf(this.stream.aa))?n.pVa || 2:0;break;}}};k.prototype.Cfb=function(n){var g60,p;g60=2;for(;g60 !== 5;){switch(g60){case 2:p=this.Wb;return {lia:!1,ZTb:!(void 0 !== p.t7?p.t7:n && n.t7)};break;}}};k.prototype.xHa=function(n){var h60,p;h60=2;for(;h60 !== 4;){switch(h60){case 5:return {lia:n.lia,Gp:n.ZTb && p.p3?p.p3 || 0:0};break;case 2:p=this.Wb;n=this.Cfb(n);h60=5;break;}}};k.prototype.ifb=function(n,p,q){var i60,E,u,w,v,x,y,z,B,A;i60=2;for(;i60 !== 11;){switch(i60){case 9:v=t(A);E=v.dqa;i60=7;break;case 6:v || (E=B - d.S.ona(n,y),E=new d.S(E - this.qRa,y),p=t(u.Zf?Infinity:Math.max(0,E.Kb)),E=p.dqa,(p=p.MYa) && 0 < E && !u.Zf && --E);this.mh({start:0,end:E});E < (u.AJb || 1) && (w=!1);return {BTb:w,LHb:v};break;case 2:(u=this.Wb,w=!0,v=!1);n=g.gja(u,n);(x=this.xa,y=x.U,z=this.zq,B=p?p.zoa:this.G_a - 2 * x.Kb,A=B - this.qRa);q=u.Sxb || q;i60=3;break;case 3:i60=p && !q?9:6;break;case 7:v=v.MYa;i60=6;break;}}function t(D){var j60,F,C;j60=2;for(;j60 !== 4;){switch(j60){case 2:D=Math.floor(Math.min(z,D) / x.Kb);(F=x.Kb * D,C=A - F);return {dqa:D,zq:F,i6b:C,MYa:0 < D && C < y / 1E3};break;}}}};c60=9;break;case 2:k.prototype.BHa=function(n){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:return n && n.H === this.H && n.iS === this.iS?!0:!1;break;}}};c60=1;break;}}})();b.P7a=a;b.default=new a();},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zta=void 0;c=a(0);a(5);g=a(935);r=a(39);l=a(936);m=a(122);d=a(96);f=a(245);a=(function(h){function k(n,p){var q,t;q=this;t=[new l.EW(n),new l.EW(n),new l.EW(n)];q=h.call(this,t,function(u){return u.complete?q.empty || u.Ua <= q.Epb?0:1:u.active?1:2;}) || this;t=c.__read(t,3);q.re=t[0];q.vd=t[1];q.Lr=t[2];q.mq=0;q.nba=0;q.u=n;q.Ae=p;return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{$:{get:function(){return this.re.$ + this.vd.$ + this.Lr.$;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{C5a:{get:function(){return this.Lr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.vd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.re;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{N0a:{get:function(){return this.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vA:{get:function(){return this.re.$;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tk:{get:function(){return this.re.$ + this.vd.$ - this.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hXb:{get:function(){return this.Lr.$;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.jyb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lj:{get:function(){return this.Qmb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jha:{get:function(){return !this.re.empty || this.Lr.empty || this.vd.empty?this.first:this.vd.Ua < this.Lr.Ua?this.vd.first:this.Lr.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wWa:{get:function(){return this.Lr.empty || this.vd.empty?this.lj:this.vd.fb < this.Lr.fb?this.Lr.lj:this.vd.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{YQa:{get:function(){return this.Lr.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ua:{get:function(){return this.jha && this.jha.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fb:{get:function(){return this.wWa && this.wWa.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wk:{get:function(){return this.first && this.first.Wk;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dpb:{get:function(){return this.re.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fEb:{get:function(){return this.Fb - this.xNa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Epb:{get:function(){return this.re.empty?this.Ua:this.re.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xNa:{get:function(){return this.re.empty?this.Sb:this.re.Fb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yNa:{get:function(){return this.re.empty?this.Tc:this.re.me;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{f_a:{get:function(){return this.vd.me || this.re.me;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kr:{get:function(){return this.Lr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pn:{get:function(){return this.vd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ifa:{get:function(){return this.re.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wg:{get:function(){return this.re.concat(this.vd);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qR:{get:function(){return this.Of;},enumerable:!1,configurable:!0}});k.prototype.hI=function(n){var p;n.aborted?++this.nba:this.mq+=n.bytesReceived || 0;if(this.empty)this.Of=new f.gz(this,{});else if(n.Ua !== this.fb)if(n.Ua > this.Of.fb)this.Of.nV(this.Of.fb);else if(n.Ua < this.Ua || n.Ua === this.Of.fb){p=n.fb;this.Qxb(function(q,t){return q.Ua - t.Ua;},function(q){p=q.Ua === p?q.fb:p;});p === Math.max(this.fb,n.fb)?this.Of.ufa():this.Of.nV(p);}n.Nqa(this);};k.prototype.Dw=function(n){n.aborted?--this.nba:this.mq-=n.bytesReceived;this.empty?this.Of=void 0:n.Ua !== this.fb && n.fb <= this.Of.fb && n.Ua > this.Of.Ua && this.Of.nV(n.Ua);n.eNa();};k.prototype.push=function(n){this.hI(n);return h.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.Dw(n);return n;};k.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.Dw(n);return n;};k.prototype.unshift=function(n){this.hI(n);return h.prototype.unshift.call(this,n);};k.prototype.np=function(n){this.hI(n);h.prototype.np.call(this,n);};k.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.Dw(n);return !0;};k.prototype.splice=function(n,p){for(var q=[],t=2;t < arguments.length;t++){q[t - 2]=arguments[t];}t=h.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.hI.bind(this));t.forEach(this.Dw.bind(this));return t;};k.prototype.$Ob=function(n){var p;p=this;this.reduce(function(q,t,u){t.aborted && (n && n(t,u,p),0 === q.length || q[0].end !== u?q.unshift({start:u,end:u + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.Tha=function(n){return this.OQa(function(p){return p.Tha(n);});};k.prototype.oK=function(n){return this.OQa(function(p){return p.oK(n);});};k.prototype.NQa=function(n){n=this.oK(n);return -1 !== n?this.get(n):void 0;};k.prototype.iSb=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};k.prototype.my=function(n){this.move(n);this.RE(n);};k.prototype.dM=function(n){this.mq+=n.bytesReceived - n.Jm;this.SE(n);};k.prototype.ck=function(n){for(this.mq+=n.bytesReceived - n.Jm;this.vd.first && this.vd.first.complete && (this.re.empty?this.vd.first === this.jha:this.vd.first.Ua === this.re.fb);){this.zTb();}this.ms(n);};k.prototype.pU=function(n,p,q){this.mq-=n.bytesReceived;++this.nba;this.qK(n,p,q);};return k;})(g.kva);b.zta=a;r.hf(d.Hv,a,!1);r.hf(m.xC,a);r.hf(m.vC,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kva=void 0;c=a(0);a(5);r=(function(){function g(l,m){this.Lc=l;this.sI=m;this.yw();}Object.defineProperties(g.prototype,{length:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Le;},enumerable:!1,configurable:!0}});g.prototype.jyb=function(){return this.gg && this.gg.get(0);};g.prototype.Qmb=function(){return this.nI && this.nI.get(this.nI.length - 1);};g.prototype.get=function(l){0 > l && (l+=this.length);for(var m=0;m < this.Lc.length;++m){if(this.zh[m + 1] > l)return this.Lc[m].get(l - this.zh[m]);}};g.prototype.push=function(l){this.Lc[this.sI(l)].push(l);this.yw();return this.Le;};g.prototype.shift=function(){var l;if(this.gg){l=this.gg.shift();this.yw();return l;}};g.prototype.pop=function(){var l;if(this.nI){l=this.nI.pop();this.yw();return l;}};g.prototype.unshift=function(l){this.Lc[this.sI(l)].unshift(l);this.yw();return this.Le;};g.prototype.np=function(l){var m;m=this.sI(l);this.Lc[m].np(l);this.yw();};g.prototype.remove=function(l){var m;m=this.Lc.some(function(d){return d.remove(l);});m && this.yw();return m;};g.prototype.splice=function(l,m){var q,t,u,w;for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=[];for(var k,n=l + Math.max(0,m),p=0;p < this.Lc.length;++p){q=this.Lc[p];t=this.zh[p];u=this.zh[p + 1];if(l < u){w=l - t;t=Math.min(n - t,q.length);void 0 === k && 0 < w && t < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spread([w,t - w],f))):(Array.prototype.push.apply(h,q.splice(w,t - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));l=u;if(l >= n)break;}}if(f.length && void 0 !== k){for(n=this.sI(f[0]);0 < k && n < k && this.Lc[k].empty;){--k;}for(;f.length && n === k;){this.Lc[k].push(f.shift());if(!f.length)break;n=this.sI(f[0]);}for(;f.length && ++k < this.Lc.length && this.Lc[k].empty;){for(;f.length && n === k;){this.Lc[k].push(f.shift());if(!f.length)break;n=this.sI(f[0]);}}f.length && (d=this.Lc[k]).splice.apply(d,c.__spread([0,0],f));}this.yw();return h;};g.prototype.find=function(l){var m,d;m=this;return this.Lc.some(function(f,h){d=f.find(m.cA(l,h));return void 0 !== d;})?d:void 0;};g.prototype.findIndex=function(l){var d;for(var m=0;m < this.Lc.length;++m){d=this.Lc[m].findIndex(this.cA(l,m));if(-1 !== d)return d + this.zh[m];}return -1;};g.prototype.indexOf=function(l){var d;for(var m=0;m < this.Lc.length;++m){d=this.Lc[m].indexOf(l);if(-1 !== d)return d + this.zh[m];}return -1;};g.prototype.map=function(l){var m,d;m=this;d=this.Lc.map(function(f,h){return f.map(m.cA(l,h));});return Array.prototype.concat.apply([],d);};g.prototype.reduce=function(l,m){var d;d=this;return this.Lc.reduce(function(f,h,k){return h.reduce(d.nkb(l,k),f);},m);};g.prototype.forEach=function(l){var m;m=this;this.Lc.forEach(function(d,f){d.forEach(m.cA(l,f));});};g.prototype.Q1=function(l){for(var m=this.Lc.length - 1;0 <= m;--m){this.Lc[m].Q1(this.cA(l,m));}};g.prototype.some=function(l){var m;m=this;return this.Lc.some(function(d,f){return d.some(m.cA(l,f));});};g.prototype.gra=function(l){for(var m=this.Lc.length - 1;0 <= m;--m){if(this.Lc[m].gra(this.cA(l,m)))return !0;}return !1;};g.prototype.every=function(l){var m;m=this;return this.Lc.every(function(d,f){return d.every(m.cA(l,f));});};g.prototype.Qxb=function(l,m){var n,p;function d(q){return q.reduce(function(t,u,w,v){return void 0 === u?t:void 0 === t?w:0 > l(u,v[t])?w:t;},void 0);}for(var f=this,h=this.Lc.map(function(){return 0;}),k=this.Lc.filter(function(q){return q.empty;}).length;k < this.Lc.length;){n=h.map(function(q,t){return q < f.Lc[t].length?f.Lc[t].get(q):void 0;});p=d(n);m(n[p],this.zh[p] + h[p],this);++h[p];h[p] === this.Lc[p].length && ++k;}};g.prototype.move=function(l){return this.remove(l)?(this.np(l),!0):!1;};g.prototype.zTb=function(){var l;if(this.Lc[1].length){l=this.Lc[1].shift();this.Lc[0].push(l);this.yw();}};g.prototype.OQa=function(l){for(var m=-1,d=0;d < this.Lc.length;++d){if((m=l(this.Lc[d]),-1 !== m)){m+=this.zh[d];break;}}return m;};g.prototype.toJSON=function(){return this.map(function(l){return l.toJSON();});};g.prototype.yw=function(){var m;this.Le=0;this.zh=[0];this.nI=this.gg=void 0;for(var l=0;l < this.Lc.length;++l){m=this.Lc[l];this.Le+=m.length;this.zh.push(this.zh[this.zh.length - 1] + m.length);!this.gg && m.length && (this.gg=m);m.length && (this.nI=m);}};g.prototype.cA=function(l,m){var d,f;d=this;f=this.zh[m];return function(h,k){return l(h,f + k,d);};};g.prototype.nkb=function(l,m){var d,f;d=this;f=this.zh[m];return function(h,k,n){return l(h,k,f + n,d);};};return g;})();b.kva=r;},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.EW=void 0;c=a(0);g=a(5);r=a(39);l=a(245);a=a(122);m=(function(){function d(f,h){this.Ea=[];this.Of=void 0;this.yc=0;this.u=f;h && h.length && (Array.isArray(h)?(this.Ea=h.slice(),this.qP(0,this.Ea.length)):h instanceof d && (this.Ea=h.Ea.slice(),this.qP(0,this.Ea.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ea[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lj:{get:function(){return this.Ea[this.Ea.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ua:{get:function(){return this.first && this.first.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fb:{get:function(){return this.lj && this.lj.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qR:{get:function(){return this.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return this.yc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wk:{get:function(){return this.first && this.first.Wk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});d.prototype.Dmb=function(){var f;if(0 === this.Ea.length)(g.assert(void 0 === this.Of),g.assert(0 === this.yc));else {g.assert(this.Of instanceof l.gz);g.assert("number" === typeof this.yc);g.assert(void 0 !== this.qR && this.qR.Ua === this.Ua);f=this.Ea.reduce(function(h,k,n){return 0 === n || k.Ua === h?k.fb:h;},0);g.assert(this.qR.fb === f);g.assert(this.Ea.reduce(function(h,k,n){return 0 === n || k.Ua === h?k.fb:h;},0) === this.qR.fb);g.assert(this.Ea.reduce(function(h,k){return h + k.$;},0) === this.yc);}};d.prototype.get=function(f){0 > f && (f+=this.Ea.length);return this.Ea[f];};d.prototype.push=function(f){this.Ea.push(f);this.qP(this.Ea.length - 1);return this.length;};d.prototype.unshift=function(f){this.Ea.unshift(f);this.qP(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ea.length)return (this.Yca(this.Ea.length - 1),this.Ea.pop());};d.prototype.shift=function(){if(0 !== this.Ea.length)return (this.Yca(0),this.Ea.shift());};d.prototype.splice=function(f,h){for(var k,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.Ea.length);0 > f && (f=0);f > this.Ea.length && (f=this.Ea.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Ea.length - f);0 < h && this.Yca(f,f + h);p=(k=this.Ea).splice.apply(k,c.__spread([f,h],n));0 < n.length && this.qP(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,h){void 0 === f && (f=0);void 0 === h && (h=this.Ea.length);0 > f && (f+=this.Ea.length);if(f >= this.Ea.length)return new d(this.u);h > this.Ea.length && (h=this.Ea.length);0 > h && (h+=this.Ea.length);return new d(this.u,this.Ea.slice(f,h));};d.prototype.np=function(f){if(0 === this.Ea.length || f.Ua >= this.fb)this.push(f);else if(f.fb <= this.Ua)this.unshift(f);else {for(var h=0,k=this.Ea.length - 1,n;h < k - 1;){n=Math.floor((k + h) / 2);g.assert(n !== k && n !== h);f.Ua >= this.Ea[n].fb?h=n:k=n;}g.assert(h !== k);g.assert(this.Ea[h].fb <= f.Ua && this.Ea[k].Ua >= f.fb);this.splice(k,0,f);}};d.prototype.remove=function(f){f=this.Ea.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}f=f.map(function(k){return k.Ea;});return new d(this.u,Array.prototype.concat.apply(this.Ea,f));};d.prototype.forEach=function(f){var h;h=this;this.Ea.forEach(function(k,n){return f(k,n,h);});};d.prototype.some=function(f){var h;h=this;return this.Ea.some(function(k,n){return f(k,n,h);});};d.prototype.every=function(f){var h;h=this;return this.Ea.every(function(k,n){return f(k,n,h);});};d.prototype.map=function(f){var h;h=this;return this.Ea.map(function(k,n){return f(k,n,h);});};d.prototype.reduce=function(f,h){var k;k=this;return this.Ea.reduce(function(n,p,q){return f(n,p,q,k);},h);};d.prototype.indexOf=function(f){return this.Ea.indexOf(f);};d.prototype.find=function(f){var h,k;h=this;return this.Ea.some(function(n,p){k=p;return f(n,p,h);})?this.Ea[k]:void 0;};d.prototype.findIndex=function(f){var h,k;h=this;return this.Ea.some(function(n,p){k=p;return f(n,p,h);})?k:-1;};d.prototype.filter=function(f){var h;h=this;return new d(this.u,this.Ea.filter(function(k,n){return f(k,n,h);}));};d.prototype.Q1=function(f){for(var h=this.Ea.length - 1;0 <= h;--h){f(this.Ea[h],h,this);}};d.prototype.gra=function(f){for(var h=this.Ea.length - 1;0 <= h;--h){if(f(this.Ea[h],h,this))return !0;}return !1;};d.prototype.Tha=function(f){if(this.empty || f < this.Sb || f >= this.Fb)return -1;for(var h=0,k=this.Ea.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.Ea[n].Sb && f < this.Ea[n].Fb){k=n;break;}f < this.Ea[n].Fb?k=n - 1:h=n + 1;}return k;};d.prototype.oK=function(f){if(this.empty || f < this.Tc || f >= this.me)return -1;for(var h=0,k=this.Ea.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.Ea[n].Tc && f < this.Ea[n].me){k=n;break;}f < this.Ea[n].me?k=n - 1:h=n + 1;}return k;};d.prototype.NQa=function(f){f=this.oK(f);return 0 <= f?this.Ea[f]:void 0;};d.prototype.t_=function(f){var h;h=this.Ea[f].fb;for(f+=1;f < this.Ea.length && h === this.Ea[f].Ua;++f){h=this.Ea[f].fb;}f < this.Ea.length?void 0 === this.Of?this.Of=new l.gz(this,{fb:h}):this.Of.nV(h):void 0 === this.Of?this.Of=new l.gz(this,{}):this.Of.ufa();};d.prototype.hI=function(f,h){for(var k=f;k < h;++k){this.yc+=this.Ea[k].$;}void 0 === this.Of || 0 === f?this.t_(0):this.Of.fb === this.fb?this.t_(f - 1):this.Ea[f].Ua === this.Of.fb && this.t_(f);};d.prototype.Dw=function(f,h){var k;if(0 === f)(this.Of=void 0,h < this.length && this.t_(h));else {k=this.Of;k.fb > this.Ea[f - 1].fb && (h < this.length?k.nV(this.Ea[f - 1].fb):k.ufa());}for(;f < h;++f){this.yc-=this.Ea[f].$;}};d.prototype.qP=function(f,h){void 0 === h && (h=f + 1);this.hI(f,h);};d.prototype.Yca=function(f,h){void 0 === h && (h=f + 1);this.Dw(f,h);};return d;})();b.EW=m;r.hf(a.xC,m);r.hf(a.vC,m);},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Ata=void 0;c=a(0);g=c.__importStar(a(8));a(5);r=a(39);l=c.__importDefault(a(3));m=c.__importDefault(a(109));d=a(72);f=a(84);h=a(175);k=l.default.Wm;a=(function(n){function p(q,t,u,w,v,x,y){var z;z=this;z=["cache","edit"].filter(function(B,A){return [x,w.wa][A];});z=z.length?"(" + z.join(",") + ")":"";void 0 === w.responseType && (w.responseType=k.Rb && !k.Rb.KM.WH?0:1);z=n.call(this,q,u,z,w,v,t,y) || this;d.gi.Wa(z,q,w);z.IIa=w.FGb;z.hg.on(z,k.Rd.o2b,z.sib);z.hg.on(z,k.Rd.n2b,z.rib);return z;}c.__extends(p,n);p.prototype.Wa=function(q){h.wC.prototype.Wa.call(this,q);this.zc || !this.Wb.A_ && this.Ac || (this.zc=m.default.instance());};p.prototype.ny=function(){var q;q={start:this.offset,end:this.offset + this.$ - 1};void 0 !== this.Sb && 0 <= this.Sb && void 0 !== this.Fb && (this.nP=this.WIa(this.nP,!0),q={start:0,end:-1});return k.prototype.open.call(this,this.nP,q,this.mP,{},void 0,void 0,this.aHa);};p.prototype.b8=function(){var q,t,u;if(this.complete)return 0;q=this.A1a;t=q.M;if(!q.url)return (this.u.warn("updateurl, missing url for streamId:",q.Fa,"mediaRequest:",this,"stream:",q),1);u=this.WIa(q.url,!1);return this.url === u || (t.X6(this,q.location,q.Nc),this.KV(u))?0:(this.u.warn("swapUrl failed: ",this.OE),2);};p.prototype.XP=function(){this.vd || (this.vd=!0,this.op=this.track.op(),this.RE(this),this.Jm=0,this.Km=this.yd);};p.prototype.Lca=function(){var q;q=this.yd;this.MA(this);this.Km=q;};p.prototype.Mca=function(){var q;q=this.yd;this.SE(this);this.Km=q;this.Jm=this.bytesReceived;};p.prototype.sib=function(){var q;q=this.vGb;this.Ug=!0;this.zc && (this.zc.eG(q,{requestId:this.zo(),Fe:this.cc,type:this.mediaType}),this.zc.Jpa(q));};p.prototype.WP=function(){var q;q=this.yd;this.zc && this.Ug && this.zc.fG(l.default.time.ba(),this.Ug,{requestId:this.zo(),Fe:this.cc,type:this.mediaType});this.Ug=this.vd=!1;this.ms(this);this.Km=q;this.Jm=this.bytesReceived;this.kc();};p.prototype.rib=function(){this.zc && (this.zc.iu(this.a7b,this.vGb,this.uGb,{requestId:this.zo(),Fe:this.cc,type:this.mediaType}),this.zc.fG(this.uGb,this.Ug,{requestId:this.zo(),Fe:this.cc,type:this.mediaType}));this.Ug=!1;};p.prototype.wHa=function(q,t,u,w){return void 0 === q || void 0 === t || void 0 === u?0:t < u?0:q < u?w:q - u;};Object.defineProperties(p.prototype,{YVb:{get:function(){return g.ea(this.Sb) || 0 > this.Sb || g.ea(this.Fb)?0:this.wHa(this.Sb,this.Fb - 1,this.IIa,this.Wb.K4);},enumerable:!1,configurable:!0}});p.prototype.WIa=function(q,t){var u,w;if(g.ea(this.Sb) || 0 > this.Sb || g.ea(this.Fb))return q;u=[];w=this.wHa(this.Sb,this.Fb - 1,this.IIa,this.Wb.K4);u.push("ptsRange/" + this.Sb + "-" + (this.Fb - 1));0 < w && t && u.push("timeDelay/" + w);q=q.split("?");t=q[0];w="";for(var v=0;v < u.length;v++){w+="/" + u[v];}return q[1]?t + (w + "?" + q[1]):t + w;};return p;})(f.fH);b.Ata=a;r.hf(d.gi,a,!1);},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Hta=void 0;c=a(0);g=a(82);l=a(5);c.__importDefault(a(3));m=a(9);d=a(251);f=a(72);h=a(246);k=a(84);r=(function(n){function p(q,t,u,w,v,x){t=n.call(this,q,w,v,t,x) || this;t.fgb=u;t.rZ=p.CC.INIT;t.o4b=w.offset;t.uca=f.gi.prototype.toString.call(t) + " multiple";t.Cib=w.$;t.dJ(q.url,w.offset,8,0);return t;}c.__extends(p,n);Object.defineProperties(p.prototype,{data:{get:function(){return this.cm;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$:{get:function(){return this.Cib;},enumerable:!1,configurable:!0}});p.prototype.ck=function(q){var t,u;this.cm=this.rZ === p.CC.INIT?q.response:m.wA(this.cm,q.response);q.QU();switch(this.rZ){case p.CC.INIT:(t=new DataView(this.cm),u=t.getUint32(0));t=t.getUint32(4);g.Gz(t);this.dJ(q.url,q.offset + q.$,u,0);d.uC.prototype.ck.call(this,q);this.rZ=p.CC.cAa;break;case p.CC.cAa:t=new DataView(this.cm);u=t.getUint32(this.vHa - 8);t=t.getUint32(this.vHa - 4);g.Gz(t);this.dJ(q.url,q.offset + q.$,u - 8,0);this.rZ=p.CC.Yza;d.uC.prototype.ck.call(this,q);break;case p.CC.Yza:d.uC.prototype.ck.call(this,q);break;default:l.assert(!1);}};p.prototype.dE=function(q){if(this.De)return {status:k.Li.Mv};if(!this.Cs())return {status:k.Li.jf};this.De=q.appendBuffer(this.cm,m.qp(this));return {status:this.De?k.Li.Mv:k.Li.jf};};p.prototype.dJ=function(q,t,u,w){q=new h.RN(this.stream,this.fgb,this.uca + " (" + this.va.length + ")",{H:this.H,mediaType:this.mediaType,Fa:this.Fa,bitrate:this.bitrate,offset:t,$:u,url:q,location:this.location,cc:this.cc,responseType:w},this,this.Wb,this.u);this.push(q);this.vHa=this.va.reduce(function(v,x){return v + x.$;},0);};p.CC={INIT:0,cAa:1,Yza:2,name:["INIT","MOOF","MDAT"]};return p;})(d.uC);b.Hta=r;},function(r,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Uta=void 0;c=a(0);a(5);r=a(39);g=c.__importDefault(a(3));l=c.__importDefault(a(109));m=a(72);a=a(84);d=g.default.Wm;a=(function(f){function h(k,n,p,q,t,u,w){q.responseType=0;p=f.call(this,k,p,"",q,t,n,w) || this;m.gi.Wa(p,k,q);p.Pma=n.Pma;p.Qma=n.Qma;p.aia=0;return p;}c.__extends(h,f);h.prototype.Wa=function(){this.zc || (this.zc=l.default.instance());};h.prototype.ny=function(){return d.prototype.open.call(this,this.nP,{start:this.offset,end:this.offset + Math.min(this.Qma,Math.floor(this.Pma * this.$)) - 1},this.mP,{},void 0,void 0,void 0);};h.prototype.abort=function(){return !0;};h.prototype.XP=function(){var k;k=this.yd || this.loadTime;this.vd || (this.vd=!0,this.aia=k);};h.prototype.Lca=function(){this.aia=this.yd;};h.prototype.Mca=function(){};h.prototype.WP=function(){var k;k=this.yd;this.zc && this.zc.iu(this.bytesReceived,this.aia,k,{requestId:this.zo(),Fe:this.cc,type:this.mediaType,aH:!0});this.Ug=this.vd=!1;this.kc();};h.prototype.VI=function(){this.hg && this.hg.clear();};return h;})(a.fH);b.Uta=a;r.hf(m.gi,a,!1);},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vFa=void 0;c=a(418);g=a(21);r=(function(){function l(m,d){this.Zf=m;this.console=d;this.zD=Infinity;this.wP=this.XZ=0;this.fKa=!1;}l.prototype.TQb=function(){this.fKa=!0;};l.prototype.oxb=function(m,d,f,h,k){var n;if(this.Zf){n=m.Y;if(n){if(1 === f)(f=n.sm(Math.ceil(this.Zf * m.xa.VF),void 0,!0),n=m.Zh(f),m=n.PR.wn(m.xa),n.mh({start:0,end:this.Zf - f * m}),this.zD=this.Zf);else {void 0 !== h.E3a?(d=h.E3a,f=d * m.xa.X):(f=c.gja(h,k) + Math.ceil(h.xmb * m.xa.VF),g.S.lb(f).wn(m.xa),f=d + f,d=Math.ceil(f / m.xa.VF));f=n.sm(f,void 0,!0);for(k=h=0;k < f;++k){n=m.Zh(k);h+=n.PR.wn(m.xa);}h=d - h;n=m.Zh(f);n.mh({end:h});this.zD=d;}n.oXa();return n;}}};l.prototype.gEb=function(m){this.wP+=m.C1a;this.console.warn("StallAtFrameCount, adding frames: " + m.C1a,"total frames: " + this.wP,"needed frames: " + this.zD);};l.prototype.dDb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.XZ,"needed: " + this.zD);return this.XZ >= this.zD;};l.prototype.cDb=function(){return this.wP >= this.zD;};l.prototype.iEb=function(m,d){this.XZ+=this.QA(m,d);};l.prototype.hwb=function(m,d,f){m.C1a=this.QA(d,f);};l.prototype.QA=function(m,d){return m.PR.wn(d.xa);};l.prototype.ex=function(){if(!this.cDb())return !1;if(this.fKa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.wP + " >= " + this.zD);return !0;};return l;})();b.vFa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.FFa=void 0;r=a(0);c=r.__importStar(a(8));g=r.__importDefault(a(28));l=r.__importDefault(a(3));m=a(29);d=a(16);f=a(253);h=a(942);k=new l.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ga[d.ga.zg],d.ga[d.ga.Dc],d.ga[d.ga.Xe],d.ga[d.ga.oc],d.ga[d.ga.wh],"checkBuffering"];p={first:a(943),random:a(944),optimized:a(178).default,roundrobin:a(948),selectaudio:a(422),selectaudioadaptive:a(949),"default":a(178).default,lowest:a(950),highest:a(951),throughputthreshold:a(952),replay:a(953).default,checkdefault:a(955),testscript:a(956)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var n60;n60=2;function t(u,w,v,x){var o60,y;o60=2;for(;o60 !== 6;){switch(o60){case 2:var X4Y="1S";X4Y+="IYb";X4Y+="ZrNJC";X4Y+="p";X4Y+="9";y=this;this.TM=u;this.G=w;this.ag=v;X4Y;o60=9;break;case 9:u=u || this.G.rra;this.Lf=n.reduce(function(z,B){var p60;p60=2;for(;p60 !== 5;){switch(p60){case 2:z[B]=((p[u] || p[q[B]])[B] || p[q[B]][B]).bind(y);return z;break;}}},{});x && (this.PZa=new h.cCa(w));o60=6;break;}}}for(;n60 !== 14;){switch(n60){case 3:t.prototype.Q1=function(u,w){var z60,v;z60=2;for(;z60 !== 3;){switch(z60){case 7:z60=1 >= v?6:2;break;z60=0 <= v?5:3;break;case 2:a000.p2Y(1);var m31=a000.H2Y(10,11);v=u.length - m31;z60=1;break;case 4:--v;z60=1;break;case 5:w(u[v],v,u);z60=4;break;case 1:z60=0 <= v?5:3;break;case 14:++v;z60=8;break;z60=1;break;}}};Object.defineProperties(t.prototype,{V3:{get:function(){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:return this.vca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Pla:{get:function(){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:return this.Aca;break;case 4:return this.Aca;break;B60=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{sT:{get:function(){var C60;C60=2;for(;C60 !== 1;){switch(C60){case 2:return this.ag.sT;break;}}},enumerable:!1,configurable:!0}});return t;break;case 2:t.prototype.uqa=function(u,w,v,x,y,z){var q60,M,r60,B,A,E,D,F,C,I,G,H,J;q60=2;for(;q60 !== 45;){switch(q60){case 34:G=w[y];q60=33;break;case 10:c.ea(C) && (C=this.ag.sT);void 0 !== x && this.Joa(w,! !u.Jq,u.buffer,x);u.state === d.ga.zg && c.pa(C) && (u.state=d.ga.Dc);u.state !== d.ga.zg && void 0 === C && (u.state=d.ga.zg);q60=17;break;case 29:G=w[y];q60=28;break;case 44:x || (M.ox=void 0);q60=43;break;case 27:M=this.Lf[d.ga[u.state]].call(this,F,u,w,C,x,! !y);q60=26;break;case 41:this.ag.Oqa(M.ce);x=w[M.ce];M.reason && (x.er=M.reason,x.K6=M.Gu,x.Mx=M.Mx,x.Gn=M.Gn,x.Hn=M.Hn);this.PZa && (M.Ns=this.PZa.dBb({maxBitrate:x.M.Su[x.mediaType],xJ:v.ul - v.ec,Bj:x,WXb:w[M.ce + 1],KHb:w[0],$d:u.state,playbackRate:u.playbackRate}));c.pa(C) && x.bitrate < w[C].bitrate && (this.vca=v.dc);q60=36;break;case 47:q60=46;break;case 17:r60=u.state;q60=r60 === d.ga.zg?16:52;break;case 48:q60=r60 === d.ga.wh?27:47;break;case 16:this.Aca=this.vca=void 0;q60=15;break;case 25:y=v.ul - v.ec;G=void 0;x=!1;q60=22;break;case 52:q60=r60 === d.ga.Dc?51:50;break;case 32:q60=!x?31:44;break;case 33:G.Y && G.Y.length || (x=!0,M.ox.push(G.Fa));q60=32;break;case 2:v=null === u || void 0 === u?void 0:u.buffer;(D=l.default.time.ba(),F=this.G,C=this.ag.sT);q60=4;break;case 49:q60=r60 === d.ga.oc?27:48;break;case 50:q60=r60 === d.ga.Xe?51:49;break;case 26:q60=M.Bj && (M.ox=[],w.forEach(function(N,K){var u60;u60=2;for(;u60 !== 4;){switch(u60){case 2:N === M.Bj && (M.ce=K);(!F.xvb || N.Y && N.Y.length) && !N.sra || M.ox.push(N.Fa);N.sra=!1;u60=4;break;}}}),!M.ox.length)?25:43;break;case 31:y=M.ce - 1;q60=30;break;case 51:this.ag.M2a(g.default.xX.zg);q60=27;break;case 11:C=0 < C?C - 1:0 === C?0:w.length - 1;q60=10;break;case 13:I=G[H - 1].bitrate;C=m.Rw(w,function(N){var t60;t60=2;for(;t60 !== 1;){switch(t60){case 2:return N.bitrate > I;break;case 4:return N.bitrate < I;break;t60=1;break;}}});q60=11;break;case 35:q60=y < w.length?34:32;break;case 22:q60=F.u3a && y > F.QT?21:44;break;case 15:this.ag.M2a(g.default.xX.zg);q60=27;break;case 43:q60=!M || null === M.ce?42:41;break;case 46:var I4Y="Stream selector ";I4Y+="called with invalid player sta";I4Y+="te ";return (k.error(I4Y + d.ga[u.state]),null);break;case 36:var z4Y="pla";z4Y+="yin";z4Y+="g";u.state !== d.ga.oc && u.state !== d.ga.wh?(w=f.M5(u.state),z=this.ex(u.buffer,w,u.playbackRate,x,z),(M.$e=z.complete)?M.Z_=z.reason:(M.$e=!1,M.hG=z.hG,M.mB=z.mB,M.progress=z.progress)):(M.$e=!0,M.Z_=z4Y);u.RR && (M.dc=v.dc,z=u && u.Eg,w=x.Y,M.Uh=w && void 0 !== z && !isNaN(z) && 0 <= z && z < w.length?w.Hi(z):v.dc,M.$Nb=x.Ha || 0,M.VKb=x.bb && x.bb.Ha && x.bb.Ha.Aa || 0,M.Pea=v.ul - v.ec,M.uMa=v.Gj,M.LNb=null !== (E=null === (A=null === (B=l.default.u6b) || void 0 === B?void 0:B.call(l.default)) || void 0 === A?void 0:A[1 === u.mediaType?1:0]) && void 0 !== E?E:-1,M.$d=u.state,M.pn=u && u.pn,M.isa=D,M.LVb=l.default.time.ba());return M;break;case 28:G.Y && G.Y.length || (x=!0,M.ox.push(G.Fa));q60=44;break;case 30:q60=0 <= y?29:44;break;case 42:return null;break;case 14:q60=!(0 <= C)?13:10;break;case 4:c.pa(C) && u.state === d.ga.zg && (this.ag.Oqa(void 0),C=void 0);c.pa(C) && C >= w.length && (this.ag.Oqa(void 0),C=void 0);(G=v.Y,H=G.length);q60=8;break;case 7:J=G[H - 1].Fa;C=m.Rw(w,function(N){var s60;s60=2;for(;s60 !== 1;){switch(s60){case 2:return N.Fa === J;break;}}});q60=14;break;case 8:q60=0 < H?7:10;break;case 21:y=M.ce + 1;q60=35;break;}}};t.prototype.ex=function(u,w,v,x,y){var v60;v60=2;for(;v60 !== 1;){switch(v60){case 2:return this.Lf.checkBuffering.call(this,u,w,v,x,y,this.G);break;}}};t.prototype.RUb=function(u,w,v){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:c.ea(w)?this.vca=this.Aca=void 0:w.bitrate < v.bitrate && (this.Aca=u);w60=1;break;}}};t.prototype.Joa=function(u,w,v,x){var x60,y,z;x60=2;for(;x60 !== 5;){switch(x60){case 2:this.Q1(u,function(B){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:B.Es && B.bb && B.bb.confidence?(y !== B.bb && (y=B.bb,w && B.bb && (B.bb.Jq=!0),z=Math.floor(x(B.bb,v,B.track.M.Su[0])),z=0 === z?1:z),B.Ha=z):B.Ha=void 0;y60=1;break;}}});x60=5;break;}}};n60=3;break;}}})();b.FFa=a;},function(r,b,a){var l,m;function c(d){return d.maxBitrate;}function g(d){var f,h,k;return (null === (k=null === (h=null === (f=d.Bj) || void 0 === f?void 0:f.bb) || void 0 === h?void 0:h.Ha) || void 0 === k?void 0:k.Aa) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.cCa=void 0;r=a(0).__importDefault(a(3));l=a(16);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");m={maxStreamBitrate:c,"static":function(d,f){return f.EUb;},none:function(){return 0;},regression:function(d,f){var h,k,n,p,q,t,u;p=f.n0.h5b;if(!p || "object" !== typeof p)return 0;q=d.$d === l.ga.zg?1:0;t=d.$d === l.ga.Dc?1:0;u={bitrate:((null === (h=d.Bj) || void 0 === h?void 0:h.vF) || 0) * d.playbackRate,upswitchBitrate:((null === (k=d.WXb) || void 0 === k?void 0:k.vF) || 0) * d.playbackRate,maxBitrate:d.maxBitrate,bufferLevelMs:d.xJ,observedThroughput:g(d,f) || 0,predictedThroughput:(null === (n=d.Bj) || void 0 === n?void 0:n.Ha) || 0,inStartingState:q,inBufferingState:t,inPlayingState:d.$d === l.ga.oc?1:0,inRebufferingState:d.$d === l.ga.Xe?1:0,startingObservedThroughput:q * (g(d,f) || 0),bufferingObservedThroughput:t * (g(d,f) || 0)};d=p.offset || 0;return Object.keys(u).reduce(function(w,v){return w + (p[v] || 0) * u[v];},d);},"default":c};a=(function(){function d(f){var E60;E60=2;for(;E60 !== 4;){switch(E60){case 2:var J4Y="d";J4Y+="efa";J4Y+="ul";J4Y+="t";var D4Y="1SIY";D4Y+="bZ";D4Y+="rNJC";D4Y+="p9";this.G=f;D4Y;this.algorithm=(m[this.G.rMb] || m[J4Y]).bind(this);E60=4;break;}}}var D60;D60=2;for(;D60 !== 4;){switch(D60){case 2:d.prototype.Lia=function(f,h,k){var F60,n;F60=2;for(;F60 !== 8;){switch(F60){case 5:return 0;break;case 1:F60=!k?5:4;break;case 2:F60=1;break;case 4:a000.p2Y(7);h=Math.ceil(a000.H2Y(h,k));f=(this.G.n0.j7b || 0) * ((null === (n=f.KHb) || void 0 === n?void 0:n.vF) || 0);return h < f?0:h;break;}}};d.prototype.dBb=function(f){var G60,h,k,n,p,q,t;G60=2;for(;G60 !== 10;){switch(G60){case 2:(h={f7:0,x0:0,l6:0},k=this.G.n0);G60=1;break;case 1:G60=!k?5:4;break;case 5:return h;break;case 8:q?n=g(f,this.G):f.xJ >= k.TT && (n=this.algorithm(f,this.G));h.f7=this.Lia(f,n,k.w0a[0]);h.x0=this.Lia(f,n,k.w0a[1]);h.l6=this.Lia(f,n,k.w0a[2]);G60=13;break;case 13:return h;break;case 4:n=0;G60=3;break;case 3:G60=!this.G.n0.P5b || f.$d !== l.ga.zg && f.$d !== l.ga.Dc?9:12;break;case 9:q=!1;G60=8;break;case 11:q=t && t.confidence >= l.M$.Rv && (null === (p=t.Ha) || void 0 === p?0:p.Aa)?!0:!1;G60=8;break;case 12:t=null === (q=f.Bj) || void 0 === q?void 0:q.bb;G60=11;break;}}};return d;break;}}})();b.cCa=a;},function(r,b,a){var g,l,m,d;function c(f,h,k,n){if(g.ea(n))f=l(k);else if(m(k[n]))f=n;else if((f=l(k,n),0 > f))return null;return new d(f);}g=a(8);b=a(37);l=b.Yha;m=b.lL;d=b.ro;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var g;function c(l,m,d){l=d.map(function(f,h){return f.Es?h:null;}).filter(function(f){return null !== f;});return l.length?new g(l[Math.floor(Math.random() * l.length)]):null;}g=a(37).ro;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.L6=void 0;r=a(0);c=r.__importStar(a(8));g=a(29);r=r.__importDefault(a(37));l=a(421);m=r.default.assert;d=r.default.ro;b.L6=f;(function(){var H60;H60=2;function h(k,n,p,q){var I60,u,w,v,y,x;function t(z){var J60,B;J60=2;for(;J60 !== 8;){switch(J60){case 5:return !1;break;case 2:B=z.Ha;J60=1;break;case 4:var s7Y="b";s7Y+="uff_lt_h";s7Y+="ist";x=s7Y;y=B;return !0;break;case 1:J60=!B || (z.bitrate > w?k.VXb:1) * z.bitrate * n.playbackRate > B?5:4;break;}}}I60=2;for(;I60 !== 10;){switch(I60){case 3:I60=void 0 === u?9:6;break;case 9:u=p[0];I60=8;break;case 5:I60=u.Ha?4:14;break;case 2:var E7Y="Must h";E7Y+="ave a";E7Y+="t";E7Y+=" lea";E7Y+="st one selected stream";m(!c.ea(q),E7Y);(u=p[q],w=u.bitrate,v=u);I60=5;break;case 4:u=g.kg(p.slice(0,Math.min(q + (k.Flb?2:1),p.length)).reverse(),t);I60=3;break;case 7:y=null === u || void 0 === u?void 0:u.Ha;I60=14;break;case 6:var b7Y="select_feas";b7Y+="ibl";b7Y+="e_buffe";b7Y+="ring";x=b7Y;I60=7;break;case 8:var r7Y="fallback_lowes";r7Y+="t_acceptable_";r7Y+="st";r7Y+="re";r7Y+="am";x=r7Y;I60=7;break;case 14:p=new d();p.Bj=u;v !== u && (p.reason=x,p.Gu=y);I60=11;break;case 11:return p;break;}}}for(;H60 !== 5;){switch(H60){case 2:b.L6=f=function(k,n,p,q,t,u){var K60;K60=2;for(;K60 !== 1;){switch(K60){case 2:var C7Y="pl";C7Y+="a";C7Y+="yi";C7Y+="n";C7Y+="g";return C7Y === k.Nea?l.uv.call(this,k,n,p,q,t,u):h.call(this,k,n,p,q);break;}}};H60=1;break;case 1:var Y7Y="1SI";Y7Y+="YbZrNJCp";Y7Y+="9";Y7Y;H60=5;break;case 9:"";H60=6;break;H60=5;break;}}})();},function(r,b,a){var c;a(8);c=a(37).console;r.exports=function(g,l,m,d,f,h,k,n,p,q,t,u,w,v,x){var g2H=a000;var L60,F,C,y,z,B,A,E,D;L60=2;for(;L60 !== 39;){switch(L60){case 22:L60=!x && (g=k - m,g < v)?21:35;break;case 27:(F=B[n],C=z[n]);L60=26;break;case 34:g2H.p2Y(8);m+=g2H.H2Y(F,0,h,u);k+=C;L60=32;break;case 42:L60=(g=Math.max(k - m,0),g < w && g < E)?41:34;break;case 30:(t+=B[D],++D,f+=z[D]);L60=31;break;case 15:L60=n < l?27:40;break;case 35:g2H.a2Y(1);g=g2H.w2Y(m,k);L60=34;break;case 12:var q7Y=" >";q7Y+="= fragm";q7Y+="entsLength";q7Y+=": ";var d7Y="Stre";d7Y+="aming";d7Y+="In";d7Y+="d";d7Y+="ex: ";n >= l && c.error(d7Y + n + q7Y + l);m+=g;0 === k && (m=0);L60=20;break;case 20:g2H.p2Y(9);m*=g2H.w2Y(y,1E3);g2H.p2Y(9);k*=g2H.H2Y(y,1E3);g2H.p2Y(9);v*=g2H.H2Y(y,1E3);L60=17;break;case 16:g2H.p2Y(9);A*=g2H.w2Y(y,1E3);L60=15;break;case 43:d=Math.min(g,d);L60=15;break;case 2:var t7Y="1SIY";t7Y+="bZrNJC";t7Y+="p9";t7Y;y=g.U;l=Math.min(g.length,l);(z=g.Vd,B=g.sizes,A=d - m);d=Infinity;(E=0,D=0);L60=8;break;case 21:return {result:!1,DT:g / (y / 1E3),Cu:!1};break;case 26:L60=t < F?25:42;break;case 25:E=Math.max(F,q);L60=24;break;case 44:E=g;L60=43;break;case 13:g2H.a2Y(9);h=g2H.H2Y(y,1E3);L60=12;break;case 31:L60=f < m && D < n?30:29;break;case 8:g=g.Vd[0];g2H.a2Y(10);f=g2H.w2Y(f,1E3,y,g);g2H.p2Y(11);g=g2H.w2Y(0,h,8,u);g2H.a2Y(12);u=g2H.H2Y(u,8,0);L60=13;break;case 23:(m=f,t+=B[D],++D,g=z[D],f+=g);L60=24;break;case 17:g2H.a2Y(9);w*=g2H.H2Y(y,1E3);L60=16;break;case 32:t-=F;L60=31;break;case 28:L60=n >= p && g > A?40:44;break;case 24:L60=t < E?23:22;break;case 29:++n;L60=28;break;case 41:return {result:!1,DT:Math.min(g,d) / (y / 1E3),Cu:!0};break;case 40:return {result:!0,DT:d / (y / 1E3),Cu:!0};break;}}};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.gFb=b.n2a=void 0;c=a(0);g=c.__importDefault(a(85));l=c.__importStar(a(8));m=a(29);d=a(393);f=c.__importDefault(a(3));r=c.__importDefault(a(108));a=c.__importDefault(a(37));h=a.default.LJb;k=a.default.Inb;n=a.default.l0;p=a.default.ro;q=r.default.Xqa;a=(function(){function v(A,E){var R60,D;R60=2;for(;R60 !== 9;){switch(R60){case 1:var n7Y="l";n7Y+="o";n7Y+="g";R60=0 === E.OM.lastIndexOf(n7Y,0)?5:3;break;case 2:a000.a2Y(13);var p31=a000.w2Y(13,100012,4,5100624);A=n(A,0,p31) / 1E3;R60=1;break;case 5:D=E.OM;R60=4;break;case 14:D=E.OM;R60=1;break;R60=4;break;case 4:return (D=E.o2a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + A)):E.Qq;break;case 3:var u7Y="s";u7Y+="igm";u7Y+="o";u7Y+="id";return 0 === E.OM.lastIndexOf(u7Y,0)?(D=E.OM,(D=E.o2a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(A)):E.Qq):E.Qq;break;}}}function u(A,E,D){var O60;O60=2;for(;O60 !== 5;){switch(O60){case 2:A=k(D.pj,A * D.Xma);return h(A,E);break;}}}function z(A,E,D){var V60,F,C;V60=2;for(;V60 !== 4;){switch(V60){case 2:(F=new p(),C=Math.max(A.Wu,A.B4,E.dla?A.fna:-Infinity));F.Bj=m.kg(D.filter(function(G){var W60;W60=2;for(;W60 !== 1;){switch(W60){case 4:return G.bitrate < A.dy;break;W60=1;break;case 2:return G.bitrate <= A.dy;break;}}}).reverse(),function(G){var X60,H,J,I;X60=2;for(;X60 !== 13;){switch(X60){case 2:H={Ha:G.Ha,pl:G.bb && G.bb.pl,Fj:G.bb && G.bb.Fj};X60=1;break;case 1:X60=G.bitrate > C?5:14;break;case 5:G=G.bitrate * E.playbackRate;J=H.Ha;X60=3;break;case 3:X60=J?9:6;break;case 8:var P7Y="hist_buf";P7Y+="fti";P7Y+="me";u(G,J,A) <= I?(F.Gu=J,H && (F.Gn=H.pl?H.pl:0,F.Hn=H.pl && H.Fj),F.reason=P7Y,H=!0):H=!1;X60=7;break;case 14:var j7Y="no_historica";j7Y+="l_l";j7Y+="t";j7Y+="e_min";j7Y+="bitrate";var c7Y="hist_tput_lt_min";c7Y+="bitr";c7Y+="ate";var Q7Y="lt";Q7Y+="_h";Q7Y+="ist_lte_minbit";Q7Y+="rate";(J=H.Ha,G.bitrate * E.playbackRate <= J?(F.Gu=J,H && (F.Gn=H.pl?H.pl:0,F.Hn=H.pl?H.Fj:void 0),F.reason=Q7Y,H=!0):J?(F.Gu=J,H && (F.Gn=H.pl?H.pl:0,F.Hn=H.pl?H.Fj:void 0),F.reason=c7Y,H=!1):(F.reason=j7Y,H=!0));X60=7;break;case 9:I=w(A,G);X60=8;break;case 6:H=!1;X60=7;break;case 7:return H;break;}}}) || D[0];return F;break;}}}function w(A,E){var P60,D,F;P60=2;for(;P60 !== 13;){switch(P60){case 1:(D=A.k3,F=m.Rw(D,function(C){var Q60;Q60=2;for(;Q60 !== 1;){switch(Q60){case 2:return E <= C.r;break;}}}));P60=5;break;case 2:P60=A.k3?1:14;break;case 3:P60=-1 === F?9:8;break;case 9:return D[D.length - 1].d;break;case 5:P60=0 === F?4:3;break;case 6:return Math.floor(A.d + (D.d - A.d) * (E - A.r) / (D.r - A.r));break;case 8:a000.p2Y(1);A=D[a000.w2Y(1,F)];D=D[F];P60=6;break;case 4:return D[0].d;break;case 14:return A.Qq;break;}}}function y(A,E,D,F,C,G){var U60;U60=2;for(;U60 !== 5;){switch(U60){case 2:var V7Y="no_val";V7Y+="i";V7Y+="d_Bitrate";var v7Y="no_";v7Y+="v";v7Y+="al";v7Y+="id_VMA";v7Y+="F";var K7Y="no_";K7Y+="v";K7Y+="a";K7Y+="lid_DelayTarget";A=D?A.mb >= G.NL && A.mb <= G.JXa:A.bitrate >= G.Wu && A.bitrate <= G.dy;return (F=F < C && A)?{H1:F}:{H1:F,reason:A?K7Y:D?v7Y:V7Y};break;}}}function t(A,E){var N60,F,D;N60=2;for(;N60 !== 12;){switch(N60){case 7:N60=(F=l.pa(E.M6) && 0 <= E.M6 && 100 >= E.M6 && !l.ea(A) && !l.hb(A))?6:14;break;case 3:D.Gn=A.pl?A.pl:0;A=g.default(D.Hn,{});N60=7;break;case 6:(F=d.VFa.gBb(A),l.mc(F)?(A.Ci=F,F=!0):F=!1);N60=14;break;case 2:D=new p();D.Bj=A;A=D.Bj.bb || ({});D.Hn=A.pl && A.Fj;N60=3;break;case 14:var T7Y="h";T7Y+="ist_throug";T7Y+="h";T7Y+="put";var o7Y="his";o7Y+="t_td";o7Y+="igest";F?(E=A.Ci(E.M6 / 100) || D.Bj.Ha,D.Gu=E,D.reason=o7Y):D.Bj.Ha && (E=D.Bj.Ha,D.Gu=E,D.reason=T7Y);return D;break;}}}var M60;M60=2;function x(A,E,D){var S60,J,I,F,C,G,H;S60=2;for(;S60 !== 19;){switch(S60){case 1:S60=0 <= G && (F?D[G].mb >= A.NL:D[G].bitrate >= A.Wu)?5:11;break;case 4:C=t(H,A);(J=u(H.bitrate * E.playbackRate,C.Gu,A),I=v(C.Gu,A));I=y(H,C.Gu,F,J,I,A);S60=8;break;case 2:(F=! !A.NL && ! !A.JXa && D.every(function(M){var T60;T60=2;for(;T60 !== 1;){switch(T60){case 2:return M.mb && 110 >= M.mb;break;}}}),C=null,G=D.length - 1);S60=1;break;case 5:H=D[G];S60=4;break;case 8:H=I.H1;I=I.reason;C.Mx=J;S60=14;break;case 14:S60=H?11:13;break;case 12:G--;S60=1;break;case 13:C.reason=I;S60=12;break;case 11:var O7Y="fallback_no_accept";O7Y+="ab";O7Y+="le_strea";O7Y+="m";l.hb(C) && (C=t(D[0],A));l.hb(C) && (C=t(D[0],A),C.reason=O7Y);return C;break;}}}function B(A,E,D,F){var Y60,C;Y60=2;for(;Y60 !== 7;){switch(Y60){case 2:var m7Y="v";m7Y+="b";C=f.default.storage.get(m7Y);Y60=1;break;case 4:var M7Y="hist";M7Y+="_b";M7Y+="itr";M7Y+="ate";A=new p();A.Bj=m.kg(D.slice().reverse(),function(G){var Z60;Z60=2;for(;Z60 !== 1;){switch(Z60){case 4:return G.bitrate >= C;break;Z60=1;break;case 2:return G.bitrate <= C;break;}}}) || D[0];A.reason=M7Y;Y60=8;break;case 5:return A.yQ?x(A,E,D,F):z(A,E,D,F);break;case 8:return A;break;case 1:var A7Y="num";A7Y+="be";A7Y+="r";Y60=A7Y !== typeof C?5:4;break;}}}for(;M60 !== 5;){switch(M60){case 2:var h7Y="1";h7Y+="S";h7Y+="I";h7Y+="YbZrNJCp9";h7Y;return {xjb:function(A,E,D,F){var a70;a70=2;for(;a70 !== 1;){switch(a70){case 2:var S7Y="his";S7Y+="tor";S7Y+="ical";return S7Y === A.Nka?B(A,E,D,F):A.yQ?x(A,E,D,F):z(A,E,D,F);break;}}},dhb:y};break;}}})();r=a.dhb;b.n2a=a.xjb;b.gFb=r;},function(r,b,a){var g,l,m,d;function c(f,h,k){var n,p;n=this.xca;h=h.buffer.dc;p="forward" === f.FRb;if(g.ea(n))return (n=p?l(k):l(k,k.length),this.zca=h,this.xca=n,new d(n));m(k[n]) || (n=l(k,n),this.zca=h,this.xca=n);if(0 > n)return null;if(h > this.zca + f.VVb){f=k.map(function(q,t){return q.Es?t:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?n=(f.indexOf(n) + 1) % f.length:(n=f.indexOf(n) - 1,0 > n && (n=f.length - 1));this.xca=f[n];this.zca=h;return new d(f[n]);}return new d(n);}g=a(8);b=a(37);l=b.Yha;m=b.lL;d=b.ro;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var b70,l,m,d,f,h,k,n,p,q,t;function g(u,w,v,x){var e70,A,E,D,F,C,H,J,y,G,z,B;e70=2;for(;e70 !== 32;){switch(e70){case 17:D--;e70=11;break;case 12:var U7Y=" k";U7Y+="b";U7Y+="ps, try to downswitch";var B7Y=" kbps";B7Y+=" <";B7Y+=" ";var G7Y="thr";G7Y+="oughput f";G7Y+="or ";G7Y+="audio ";(f && d.log(G7Y + F + B7Y + C.pPa + "*" + E + U7Y),--D);e70=11;break;case 8:e70=B && 1 < B.length?7:21;break;case 22:var a7Y="m";a7Y+="s";var w7Y=",";w7Y+=" bu";w7Y+="ffer l";w7Y+="evel =";w7Y+=" ";var H7Y=", last";H7Y+="Upswitc";H7Y+="hPts = ";var g7Y="  Upswitch no";g7Y+="t allowed.";g7Y+=" lastDownswitchPts = ";f && d.log(g7Y + J + H7Y + H + w7Y + G + a7Y);e70=21;break;case 5:e70=!(u && u.pN && 0 <= u.pN.indexOf(y))?4:3;break;case 21:var W7Y="kbps,";W7Y+=" st";W7Y+="reami";W7Y+="ng";W7Y+="Pts :";var Z7Y=",";Z7Y+=" audio ";Z7Y+="thr";Z7Y+="oughput:";var f7Y=" kbps, p";f7Y+="r";f7Y+="ofile :";var i7Y="sele";i7Y+="ctAu";i7Y+="dioSt";i7Y+="ream: selected stream :";var y7Y=" ";y7Y+="k";y7Y+="bps";var k7Y=" k";k7Y+="bps, to";k7Y+=" ";var l7Y="swi";l7Y+="tching ";l7Y+="audio fro";l7Y+="m ";var N7Y="do";N7Y+="w";N7Y+="n";var p7Y="u";p7Y+="p";F=v[z];z !== x && f && d.log((z > x?p7Y:N7Y) + l7Y + A.bitrate + k7Y + F.bitrate + y7Y);f && d.log(i7Y + F.bitrate + f7Y + y + Z7Y + F.Ha + W7Y + w.buffer.dc);return new p(z);break;case 16:var R7Y=" ";R7Y+="kb";R7Y+="p";R7Y+="s";var F7Y=" ";F7Y+="kb";F7Y+="p";F7Y+="s";F7Y+=" > ";var e7Y="th";e7Y+="roug";e7Y+="hp";e7Y+="ut ";e7Y+="for audio ";e70=D < B.length - 1 && F > C.F5a * E * w.playbackRate && (f && d.log(e7Y + F + F7Y + C.F5a + "*" + E + R7Y),E=w.buffer,G=E.ul - E.ec,A.Y && A.Y.length)?15:21;break;case 7:(A=v[x],E=A.bitrate,D=B.indexOf(x),F=A.Ha,C=u.Amb);e70=6;break;case 18:z=E;e70=21;break;case 23:z=E;e70=21;break;case 15:(H=this.Pla,J=this.V3);e70=27;break;case 19:e70=n(G) && (0 == D || G.bitrate * w.playbackRate * C.pPa < F)?18:17;break;case 11:e70=0 <= D?10:21;break;case 6:e70=0 > D?14:13;break;case 14:z=0;e70=21;break;case 2:var L7Y="Must have at least one selec";L7Y+="ted";L7Y+=" stream";h(!l.ea(x),L7Y);y=v[x].mg;e70=5;break;case 27:e70=w.iB && G > C.Yx && (void 0 === J || Number(H) > J || E.dc - J > C.d4)?26:22;break;case 10:E=B[D];G=v[E];e70=19;break;case 24:e70=(E=B[D],G=v[E],n(G) && F > C.F5a * G.bitrate * w.playbackRate)?23:25;break;case 25:e70=++D < B.length?24:21;break;case 3:z=x;u.r4a.some(function(I){var f70,K,O,R,L,M,N;f70=2;for(;f70 !== 9;){switch(f70){case 5:(K=(I=I.$u) && I.G4 || u.G4,O=I && I.O7b || -Infinity,R=I && I.yL || Infinity,L=w.buffer.su);f70=4;break;case 2:(M=I.profiles,N=M && 0 <= M.indexOf(y));f70=1;break;case 4:B=v.filter(function(Q){var g70,P;g70=2;for(;g70 !== 5;){switch(g70){case 2:P=Q.bitrate;return P >= O && P <= R && 0 <= M.indexOf(Q.mg) && P * K / 8 < L;break;}}}).map(function(Q){var h70;h70=2;for(;h70 !== 1;){switch(h70){case 4:return Q.$f;break;h70=1;break;case 2:return Q.$f;break;}}});f70=3;break;case 1:f70=N?5:3;break;case 3:return N;break;}}});e70=8;break;case 13:e70=D && F < C.pPa * E * w.playbackRate?12:16;break;case 4:return new p(x);break;case 26:var I7Y=", ";I7Y+="strea";I7Y+="mi";I7Y+="ng";I7Y+="Pts = ";var X7Y=", la";X7Y+="stU";X7Y+="ps";X7Y+="witchPts = ";var x7Y="  Upswitch allowed. ";x7Y+="las";x7Y+="t";x7Y+="DownswitchP";x7Y+="ts = ";f && d.log(x7Y + J + X7Y + H + I7Y + E.dc);e70=25;break;}}}b70=2;for(;b70 !== 4;){switch(b70){case 2:var s1Y="1SIY";s1Y+="bZ";s1Y+="rNJ";s1Y+="Cp";s1Y+="9";(l=a(8),m=a(37),d=m.console,f=m.debug,h=m.assert,k=a(85),n=m.lL,p=m.ro,q=a(422),t=a(16).ga);r.exports={STARTING:function(u,w,v,x){var i70,y,z;i70=2;for(;i70 !== 7;){switch(i70){case 2:(y=u,z=v[x || 0].mg);i70=1;break;case 1:i70=(z=u && u.pN && 0 <= u.pN.indexOf(z)?c(z,u.r4a):c(z,u.ymb))?5:4;break;case 5:var z7Y="selectAudio";z7Y+="StreamStarting: ";z7Y+="overriding config";z7Y+=" with ";(y={minInitAudioBitrate:u.ST,minHCInitAudioBitrate:u.RT,maxInitAudioBitrate:u.FT,minRequiredAudioBuffer:u.G4},f && d.log(z7Y + JSON.stringify(z)),k(z,y));i70=4;break;case 4:var J7Y=" ";J7Y+="kbps, ";J7Y+="profile :";var D7Y="selec";D7Y+="tAud";D7Y+="ioStr";D7Y+="eamStarting: selected stream :";u=q[t[t.zg]](y,w,v,x);v=v[u.ce];f && d.log(D7Y + v.bitrate + J7Y + v.mg);return u;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};s1Y;b70=4;break;}}function c(u,w){var c70,v;c70=2;for(;c70 !== 4;){switch(c70){case 2:v=void 0;w.some(function(x){var d70,y;d70=2;for(;d70 !== 4;){switch(d70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(u)) && (v=x.override);return y;break;}}});return v;break;}}}})();},function(r,b,a){var g;function c(){return new g(0);}a(8);g=a(37).ro;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var g;function c(l,m,d){return new g(d.length - 1);}a(8);g=a(37).ro;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var j70,g,l,m,d;function c(f,h,k,n){var k70,p;k70=2;for(;k70 !== 12;){switch(k70){case 8:k70=p.bb && p.bb.Ha && p.bitrate < p.bb.Ha.Aa - f.SVb?7:6;break;case 2:var b1Y="player missing";b1Y+=" fr";b1Y+="ag";b1Y+="mentIn";b1Y+="dex";var E1Y="M";E1Y+="us";E1Y+="t have ";E1Y+="at least one selec";E1Y+="ted stream";m(!g.ea(n),E1Y);m(g.pa(h.Eg),b1Y);h=d(n);k70=4;break;case 7:return (h.ce=n,h);break;case 9:p=k[n];k70=8;break;case 4:a000.a2Y(14);var r31=a000.w2Y(2,18,361,10);n=k.length - r31;k70=3;break;case 6:--n;k70=3;break;case 14:h.ce=0;return h;break;case 3:k70=-1 < n?9:14;break;}}}j70=2;for(;j70 !== 6;){switch(j70){case 9:var r1Y="1";r1Y+="SI";r1Y+="YbZr";r1Y+="NJC";r1Y+="p9";l=a(178).default;r.exports={STARTING:l.STARTING,BUFFERING:l.BUFFERING,REBUFFERING:l.REBUFFERING,PLAYING:c,PAUSED:c};r1Y;j70=6;break;case 2:g=a(8);a(28);l=a(37);a(3);(m=l.assert,d=l.ro);j70=9;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(954);b.default={PLAYING:r.uv,PAUSED:r.uv};},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.uv=void 0;r=a(0);c=r.__importStar(a(8));g=r.__importDefault(a(37));l=r.__importDefault(a(178));m=a(72);d=r.__importDefault(a(3));f=g.default.assert;h=g.default.ro;b.uv=k;(function(){var l70;l70=2;for(;l70 !== 5;){switch(l70){case 2:var d1Y="1SIYbZr";d1Y+="NJ";d1Y+="Cp9";b.uv=k=function(n,p,q,t,u,w){var m70,v,x,y,z,B,C,G,H,O,K,E,D,F,I,M,N,A,J;m70=2;for(;m70 !== 66;){switch(m70){case 65:M=void 0;p.$Q && (M=d.default.time.ba() - p.$Q);m70=63;break;case 41:H.push(J.Sk);H.push(J.u5);m70=39;break;case 61:y.LLa=u;m70=60;break;case 48:K=p.Eg;m70=47;break;case 21:A=0;m70=35;break;case 62:A++;m70=35;break;case 46:N+=M.get(K).duration;m70=45;break;case 19:y.ce=x[z].KRb;m70=18;break;case 56:B+=1;m70=55;break;case 35:m70=A < q.length?34:61;break;case 57:m70=A < z?56:72;break;case 70:m70=x[B].f === z?69:68;break;case 52:m70=K < Math.min(K + n.Emb,M.length)?51:48;break;case 59:return l.default.PLAYING.call(this,n,p,q,t,u,w);break;case 69:v=B;m70=73;break;case 2:var Y1Y="pla";Y1Y+="yer miss";Y1Y+="ing fr";Y1Y+="agmentInde";Y1Y+="x";var C1Y="Must have at least";C1Y+=" one selected st";C1Y+="ream";f(!c.ea(t),C1Y);f(c.pa(p.Eg),Y1Y);(x=n.SUb,y=new h(t),z=null !== (v=p.Eg) && void 0 !== v?v:-1);v=x[0].f;B=x[x.length - 1].f;m70=8;break;case 47:m70=K < M.length?46:65;break;case 77:m70=x[B].f === z?76:75;break;case 72:--B;m70=71;break;case 74:B++;m70=55;break;case 7:return l.default.PLAYING.call(this,n,p,q,t,u,w);break;case 34:C=q[A];B=A <= t?!0:!1;(G=void 0,H=[]);C.bb && C.bb.throughput && (G=C.bb.throughput.Aa);m70=30;break;case 55:m70=B < x.length?77:73;break;case 39:H.push(J.max);m70=38;break;case 67:B--;m70=71;break;case 20:m70=void 0 !== z?19:59;break;case 71:m70=0 <= B?70:73;break;case 10:z=B;m70=20;break;case 45:K++;m70=47;break;case 26:w=w.ul - w.ec;x=m.gi.jOa(p.buffer.Y);x=p.buffer.su - x.$;m70=23;break;case 51:O=M.get(K);I.push({d:O.duration,b:O.$});m70=49;break;case 53:K=p.Eg;m70=52;break;case 76:v=B;m70=73;break;case 23:z=q[t];v=q[t];m70=21;break;case 58:v=void 0;m70=57;break;case 63:u.push({Eg:p.Eg,A9b:M,A7b:N,I4b:G,x9b:H,z9b:J,Pea:w,g6b:x,c5b:I,b7b:z.bitrate,c7b:null !== (E=z.mb) && void 0 !== E?E:0,o5b:C.bitrate,p5b:null !== (D=C.mb) && void 0 !== D?D:0,a9b:v.bitrate,b9b:null !== (F=v.mb) && void 0 !== F?F:0,gB:B});m70=62;break;case 60:return y;break;case 16:u=[];w=p.buffer;m70=26;break;case 38:J=void 0;C.bb && C.bb.tputTrace && (J=C.bb.tputTrace);(I=[],M=C.Y,N=0);m70=54;break;case 75:m70=x[B].f > z?73:74;break;case 18:y.Bj=q[y.ce];m70=17;break;case 6:a000.p2Y(1);B=a000.w2Y(v,z);0 > B && (B=0);B >= x.length && (B=x.length - 1);A=x[B].f;m70=11;break;case 68:m70=x[B].f < z?73:67;break;case 49:K++;m70=52;break;case 8:m70=z < v || z > B?7:6;break;case 17:m70=n.Svb?16:60;break;case 73:z=v;m70=20;break;case 54:m70=void 0 !== M?53:65;break;case 30:m70=C.bb && C.bb.tdigest?29:38;break;case 11:m70=A === z?10:58;break;case 43:H.push(J.Rk);H.push(J.rj);m70=41;break;case 29:J=C.bb.tdigest;H.push(J.min);H.push(J.t5);m70=43;break;}}};d1Y;l70=5;break;}}})();},function(r,b,a){(function(){var n70,c;n70=2;for(;n70 !== 8;){switch(n70){case 2:a(8);a(28);a(37);n70=4;break;case 4:var P1Y="1S";P1Y+="IYbZ";P1Y+="rNJCp9";c=a(16).jc;r.exports={checkBuffering:function(g,l,m,d,f,h){var W2H=a000;var o70,q,t,w,v,u,n,p;o70=2;for(;o70 !== 37;){switch(o70){case 9:var q1Y="m";q1Y+="ax";q1Y+="s";q1Y+="i";q1Y+="ze";return {complete:!0,reason:q1Y};break;case 5:(q=0,t=h.Dsa && !p?h.rB:h.Nma);t=Math.min(h.ey,t);o70=3;break;case 32:W2H.a2Y(1);var s31=W2H.w2Y(7,15);q=s31 * w * m / l - g.ec;o70=31;break;case 24:w=d.Y.eh(f);o70=23;break;case 35:q=d.Y.Vd(f);h=Math.min(f + Math.floor(h.PU / q),d.Y.length - 1);v=d.Y.eh(h);o70=32;break;case 43:return (q=Math.min(t,n + v),{complete:!1,hG:q,progress:k(q)});break;case 26:o70=-1 === f?25:24;break;case 13:f && (q+=f.Zr * h.Rda);q=t?Math.min(t,q):q;o70=11;break;case 31:--h;o70=30;break;case 29:p=d.Y.get(h);v=8 * v * m / l - p.V - q;o70=44;break;case 20:u=0;g.Y.forEach(function(x){var q70;q70=2;for(;q70 !== 1;){switch(q70){case 2:u+=x.V + x.duration > g.ec?x.$:0;q70=1;break;}}});o70=18;break;case 27:f=d.Y.sm(g.dc);o70=26;break;case 8:o70=l <= h.qma && (0 < l || !h.Iha)?7:6;break;case 39:0 < l && l < p && (q=Math.min(t,Math.max(h.PU * (p / l - 1),q)));return {complete:!1,hG:q,progress:k(q)};break;case 40:var t1Y="nore";t1Y+="buf";t1Y+="f";return {complete:!0,reason:t1Y};break;case 21:var n1Y="hi";n1Y+="ght";n1Y+="p";return {complete:!0,reason:n1Y};break;case 22:o70=l > p * h.G1?21:35;break;case 25:var u1Y="ou";u1Y+="t";u1Y+="ofran";u1Y+="g";u1Y+="e";return {complete:!0,reason:u1Y};break;case 23:o70=n >= q?22:39;break;case 30:o70=h > f?29:40;break;case 16:o70=!d.Y || !d.Y.length?15:27;break;case 2:(n=g.ul - g.ec,p=l === c.Xe);l=d.Ha || 0;o70=5;break;case 44:o70=0 < v?43:42;break;case 18:m=Math.max(m,1);p=m * d.bitrate;o70=16;break;case 11:o70=!l?10:20;break;case 15:return (l < p && (q=Math.min(t,Math.max(h.PU * (p / l - 1),q))),{complete:!1,hG:q,progress:0});break;case 3:o70=n >= t?9:8;break;case 6:W2H.p2Y(15);var u31=W2H.H2Y(35,16,7,4);q=h.pj * (p?h.jpa:u31);o70=14;break;case 10:return {complete:!1,hG:q};break;case 7:return {complete:!1,mB:!0};break;case 42:v=p.offset;o70=41;break;case 41:--h;o70=30;break;case 14:h.Nvb && d.bb && d.bb.ci && d.bb.ci.Aa > h.kma && (q+=h.Qda + d.bb.ci.Aa * h.ioa);o70=13;break;}}function k(x){var p70;p70=2;for(;p70 !== 5;){switch(p70){case 2:x=d.Y.J1(g.ec + x,void 0,!0);return (u - g.Tk) / (u + (x.offset + x.$) - w);break;}}}}};P1Y;n70=8;break;}}})();},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p){f=p;h=p.map(function(q,t){return t;});if(null === d)return (k=l(p),d=p[k].bitrate,new m(k));if(!p.length)return null;k=h.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === k?(g.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(k);}b=a(37);a=a(3).default;g=b.console;l=b.Yha;m=b.ro;d=null;f=null;h=null;a.Aob && (a.Aob.Py={Wa:function(){h=f=d=null;},uqa:function(k){d=k;},y6b:function(){return {all:f,c6a:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.uBa=b.lya=b.R$a=void 0;c=a(0);g=c.__importDefault(a(3));l=a(20);m=a(958);d=a(9);r=(function(){return function(f,h,k){var n;this.G=h;k=d.Hs(g.default,k,"[" + f + "]");this.gYa=1 === f?h.I4:h.C4;n=g.default.Cn()[f];this.zL=1 === f?h.BIb:h.oIb;this.zL=Math.min(h.vIb * n,this.zL);l.ma && k.trace("This pipeline's buffer size ",n,this.zL);this.LL=(1 === f?h.OL:h.JL) || h.LL;this.GT=(1 === f?h.AIb:h.nIb) || h.GT;this.Yda=h.Yda;};})();b.R$a=r;a=(function(f){function h(k,n,p,q){n=f.call(this,n,p,q) || this;n.eU=k;return n;}c.__extends(h,f);h.prototype.vSa=function(k,n,p){var q,t,u;q=k.Y;t=k.Zh(n);t.yB=n + 1;if(!t.wa)for(++n;n < q.length && n < p.ff.index && (t.duration < this.LL || 0 !== n % this.eU);++n){u=k.Zh(n);if(m.bla(p,u))break;if(t.duration + u.duration > this.GT)break;if(t.$ + u.$ > this.zL)break;t.Wda(u);t.yB=n + 1;l.ma && p.Ck("getFragmentForHudsonRequest: extended fragment startPts:",t.V,"to duration:",t.duration,"size:",t.$,"index: ",n,"min request size in ms:",this.LL);}t.FGb=p.wb.nEb + (g.default.time.ba() - p.wb.sEb);l.ma && p.Ck("getFragmentForHudsonRequest( " + n + ") returning: " + JSON.stringify(t));return t;};return h;})(r);b.lya=a;r=(function(f){function h(k,n,p){return f.call(this,k,n,p) || this;}c.__extends(h,f);h.prototype.vSa=function(k,n,p,q){var t,u,w,v,x;w=n === p.He.index;v=n === p.ff.index;if(!v || w && p.He.wa){if(w){x=k.pSa(p.He);x.$M(p.He.mt);v && (p.He.wa || p.ff.wa) && x.mh({start:null === (t=x.wa) || void 0 === t?void 0:t.start,end:null === (u=p.ff.wa) || void 0 === u?void 0:u.end});}else x=k.Zh(n);}else (x=k.pSa(p.ff),x.$M(p.ff.mt));x.yB=n + 1;if(t=m.pTa(p,p.dc))(l.ma && p.Ck("getFragmentForRequest pts:",p.dc,"in region:",t,"previous region:",p.Dla),m.EPa(p.u,x,t,{hFb:w,mFb:v,tFb:void 0 === p.Dla || p.Dla !== t.region}));v && (x.oXa(),x.eTb(p.wb.R));if(x.yB !== n && !q && (this.Yda || !x.wa))for(++n;n < k.Y.length && n < p.ff.index && (x.$ < this.gYa || x.duration < this.LL) && (1 === x.stream.Gh.length || this.iob(k,n));++n){q=k.Zh(n);if(m.bla(p,q))break;if(x.duration + q.duration > this.GT)break;if(x.$ + q.$ > this.zL)break;x.Wda(q);x.yB=n + 1;l.ma && p.Ck("getFragmentForRequest: extended fragment startPts:",x.V,"to duration:",x.duration,"size:",x.$,"min request size:",this.gYa,"max request size:",this.zL,"min request duration:",this.LL,"max request duration:",this.GT,"edit:",x.wa);}l.ma && p.Ck("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.eia,"lastRequestInRegion:",x.Vx,"nextIndex:",x.yB);return x;};h.prototype.iob=function(k,n){return !k.Gh.some(function(p){return n === p.Eg;});};return h;})(r);b.uBa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EPa=b.jFb=b.bla=b.pTa=void 0;c=a(29);b.pTa=function(g,l){if((g=g.wb.R.qv) && 0 !== g.length)return c.kg(g,function(m){return m.$c.X <= l && l < m.Hd.X;});};b.bla=function(g,l){return l.index === g.He.index?!0:(g=g.wb.R.qv) && 0 !== g.length?g.some(function(m){m=m.$c;return l.$c.rF(m) && m.lessThan(l.Hd);}):!1;};b.jFb=function(g,l){return l.index === g.ff.index?!0:(g=g.wb.R.qv) && 0 !== g.length?g.some(function(m){m=m.Hd;return l.$c.lessThan(m) && m.rF(l.Hd);}):!1;};b.EPa=function(g,l,m,d){var f,h,k,n;g=null === (f=l.wa) || void 0 === f?void 0:f.start;f=null === (h=l.wa) || void 0 === h?void 0:h.end;n=h=!1;if((null === d || void 0 === d?0:d.tFb) || (null === d || void 0 === d || !d.hFb) && l.$c.lessThan(m.$c))((k=l.Wha(m.$c.X)) && (g=Math.max(null !== g && void 0 !== g?g:0,k.Yk)),k=m.$c.X,h=!0);if((null === d || void 0 === d || !d.mFb) && l.Hd.greaterThan(m.Hd)){if(k=l.Wha(m.Hd.X))(f=Math.min(null !== f && void 0 !== f?f:Infinity,k.Yk),l.yB=l.index);k=m.Hd.X;n=!0;}void 0 === g && void 0 === f || l.mh({start:g,end:f});void 0 !== k && (!l.mt || k > l.mt) && (l.$M(k),l.wa || l.mh({}));l.bTb(m.region,h,n);};},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.WCa=void 0;c=a(0);g=a(424);l=a(9);m=a(5);r=(function(){function d(f){var h,k,n,p,q,t,u,w;h=this;k=f.console;n=f.config;p=f.M;q=f.Ie;t=f.R;u=f.$c;w=f.Hd;f=f.splice;this.Oka=this.hR=!1;this.RMa=function(){h.hR || h.RKa() && h.QYa();};this.console=k;this.config=n;this.Ie=q;this.M=p;this.R=t;this.$c=u;this.Hd=w;this.splice=f;}d.prototype.Wa=function(f){if(this.hR)throw Error("Cannot call init() after cleanup");if(this.Oka)throw Error("Cannot call init() twice");this.Oka=!0;this.qZa=f;this.M.bB.addListener("onHeaderFragments",this.RMa);this.RKa() && this.QYa();};d.prototype.KQb=function(f,h){m.assert(this.Oka,"expected to be called init() before renormalize");this.R=f;this.Hd=h;f=g.zpa(this.config,this.Ie,this.Hd);this.a5();return f;};d.prototype.kc=function(){this.hR || (this.hR=!0,this.qZa=void 0,this.M.bB.removeListener("onHeaderFragments",this.RMa));};d.prototype.QYa=function(){var f,h,k;if(!this.hR){h=this.pKb();k=!1;this.R && !this.R.WL && (k=this.a5());null === (f=this.qZa) || void 0 === f?void 0:f.call(this,h,k);this.kc();}};d.prototype.RKa=function(){return this.Ie.every(function(f){return f.track.te;});};d.prototype.pKb=function(){var f,h;f=c.__read(g.RYa(this.config,this.Ie,this.$c,this.Hd,this.splice),2);h=f[0];return f[1] || void 0 === this.Ie.Oa(1) && h;};d.prototype.a5=function(){var f,h,k;m.assert(this.R);m.assert(!this.R.WL);f=this.Ie.HU;h=g.TYa(this.config,f,this.R.Dj);if(void 0 === h || void 0 === f.Hd)return !1;f=this.Hd && this.Hd.c5(l.S.Kx)?f.Hd:l.S.Kx;k=this.config.dW?g.pXa(this.console,this.R,this.Ie):[];this.R.normalize(h,f,k);return !0;};return d;})();b.WCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VCa=void 0;c=a(5);r=(function(){function g(l){var m;m=this;void 0 === l && (l=[]);this.Ie=l;l.forEach(function(d){return m.wsa(d);});}Object.defineProperties(g.prototype,{length:{get:function(){return this.Ie.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{HU:{get:function(){var l;return null !== (l=this.Ksa) && void 0 !== l?l:this.qea;},enumerable:!1,configurable:!0}});g.prototype.Oa=function(l){return 1 === l?this.Ksa:this.qea;};g.prototype.every=function(l){return this.Ie.every(l);};g.prototype.some=function(l){return this.Ie.some(l);};g.prototype.forEach=function(l){this.Ie.forEach(l);};g.prototype.reduce=function(l,m){return this.Ie.reduce(l,m);};g.prototype.filter=function(l){return new g(this.Ie.filter(l));};g.prototype.replace=function(l,m){var d;d=this.Ie.indexOf(l);c.assert(-1 < d);c.assert(l.mediaType === m.mediaType);this.Ie[d]=m;this.wsa(m);};g.prototype.I2a=function(l,m){(l=this.Oa(l))?this.replace(l,m):this.add(m);};g.prototype.add=function(l){this.Ie.push(l);this.wsa(l);};g.prototype.clear=function(){this.Ie=[];this.qea=this.Ksa=void 0;};g.prototype.wsa=function(l){1 === l.mediaType?this.Ksa=l:this.qea=l;};return g;})();b.VCa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yAa=void 0;c=a(0);r=c.__importDefault(a(108));g=c.__importDefault(a(3));l=a(254);m=a(255);d=r.default.l0;f=r.default.dpb;h=r.default.qQa;k=r.default.rwb;n=r.default.SRb;new g.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(p){var r70;r70=2;function q(t,u){var s70,w;s70=2;for(;s70 !== 12;){switch(s70){case 2:w=p.call(this,t,u) || this;w.LB=function(v,x){var t70;t70=2;for(;t70 !== 1;){switch(t70){case 2:return m.LB(w.config,v,x);break;case 4:return m.LB(w.config,v,x);break;t70=1;break;}}};s70=5;break;case 5:w.Q5=function(v,x,y){var u70,z,B,A,E,D,F;u70=2;for(;u70 !== 13;){switch(u70){case 2:y=null !== y && void 0 !== y?y:w.yL;F=null !== (B=null === (z=v.Ha) || void 0 === z?void 0:z.Aa) && void 0 !== B?B:0;z=null !== (E=null === (A=v[w.filter]) || void 0 === A?void 0:A.Aa) && void 0 !== E?E:F;A=Math.pow(Math.max(1 - z / w.Ymb,0),w.Smb);u70=9;break;case 9:E=x.ul - x.ec;w.bUb?(x=h(w.vOa,E,1),E=h(w.uOa,E,1),x=x * A + E * (1 - A)):x=h(n(w.vOa,w.uOa,A),E,1);v=w.KYa && (null === (D=v[w.KYa]) || void 0 === D?void 0:D.cU);void 0 !== v && (D=k(w.jKb,v),x=Math.min(x * D,1));u70=14;break;case 14:a000.p2Y(16);return w.dPa(a000.w2Y(x,F,1),y);break;}}};Array.isArray(t.Or.curves) && (w.vOa=f(t.Or.curves[0],0,0,1),w.uOa=f(t.Or.curves[1],0,0,1));w.Ymb=d(t.Or.threshold || 6E3,1,1E5);w.Smb=d(t.Or.gamma || 1,.1,10);s70=8;break;case 8:var Q1Y="1";Q1Y+="SI";Q1Y+="YbZrNJCp";Q1Y+="9";w.filter=t.Or.filter;w.bUb=! !t.Or.simpleScaling;t.Or.niqrfilter && t.Or.niqrcurve && (w.KYa=t.Or.niqrfilter,w.jKb=f(t.Or.niqrcurve,1,0,4));Q1Y;s70=13;break;case 13:return w;break;}}}for(;r70 !== 5;){switch(r70){case 2:c.__extends(q,p);return q;break;case 3:c.__extends(q,p);return q;break;r70=5;break;}}})(l.hH);b.yAa=a;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=void 0;c=a(0);r=c.__importDefault(a(3));g=a(254);l=a(255);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var v70;v70=2;for(;v70 !== 3;){switch(v70){case 2:c.__extends(d,m);v70=1;break;case 8:c.__extends(d,m);v70=9;break;v70=1;break;case 1:d.RTb=function(f,h){var z70,k,n;z70=2;for(;z70 !== 4;){switch(z70){case 2:n=! !f.Jq;h.Era && (null === (k=f.Ha) || void 0 === k?void 0:k.Aa) < h.oR && (n=!0);return n;break;}}};d.prototype.Ryb=function(f,h){var A70,k,n;A70=2;for(;A70 !== 3;){switch(A70){case 2:(k=this.config,n=h?k.Ofa:k.yea);h=h?k.Pfa:k.Aea;Array.isArray(h) && (n=l.pQa(h,f.ul - f.ec,k.zea));return n;break;}}};return d;break;}}function d(f,h){var w70,k;w70=2;for(;w70 !== 9;){switch(w70){case 2:var c1Y="1SIYbZrN";c1Y+="JC";c1Y+="p";c1Y+="9";k=m.call(this,f,h) || this;k.LB=function(n,p){var x70;x70=2;for(;x70 !== 1;){switch(x70){case 2:return l.LB(k.config,n,p);break;}}};k.Q5=function(n,p,q){var y70,t;y70=2;for(;y70 !== 3;){switch(y70){case 2:q=null !== q && void 0 !== q?q:k.yL;t=d.RTb(n,k.config);n=n.Ha?n.Ha.Aa * (100 - k.Ryb(p,t)) / 100 | 0:0;return k.dPa(n,q);break;}}};c1Y;w70=3;break;case 3:return k;break;}}}})(g.hH);b.nFa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mza=void 0;r=(function(){function a(c,g,l,m,d,f,h,k){this.wb=c;this.mMa=g;this.config=l;this.console=m;this.mediaType=d;this.$a=f;this.Ka=h;this.Db=k;this.Tp=this.rh=!1;}a.prototype.DJ=function(c,g){!this.wb.R.ot || this.Db.OI || this.Db.PZ && !this.config.Zda || (c-=this.wb.fe,this.rh && !this.Tp && c + this.config.WVb >= g && 0 === this.Ka.qy && 0 === this.Ka.kr && 0 === this.Ka.jPb && (g=this.Db.Ud.M.qb,c=this.Db.CK(),g + 1 < c || (this.mMa[this.mediaType].k4a || this.$a.Thb(this.mediaType),this.Tp=!0,this.mMa[this.mediaType].f5())));};return a;})();b.mza=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kza=void 0;c=a(0);g=a(20);r=a(427);l=a(426);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.wub=function(f){m.prototype.O3.call(this,{value:f});};d.prototype.xVa=function(){return !0;};d.prototype.ira=function(){};d.prototype.O3=function(f){m.prototype.O3.call(this,f);f.done && (f=this.Uz.M0,g.ma && this.u.trace("Requests drained",{J4b:f && f.R.id}),(f=f && f.Oa(this.Rf)) && f instanceof l.PX && f.DJ(this.dg.Zia() || 0));};return d;})(r.P8);b.kza=a;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tua=void 0;c=a(0);g=a(177);l=a(20);r=(function(){function m(d,f,h){this.u=d;this.tfb=f;this.Rf=h;this.hZ=0;this.FZ=!1;this.RY=[];this.AP=void 0;l.ma && d.trace("BranchRequestIterator [" + this.Rf + "]: created");}Object.defineProperties(m.prototype,{ctb:{get:function(){return this.hZ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{M0:{get:function(){return this.GHa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$j:{get:function(){return this.FZ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ftb:{get:function(){return this.yk?this.yk.Px?"Complete":this.yk.Toa?"WaitingForBranch":void 0 !== this.AP?"In Policy " + this.RY[this.AP].name:"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,h;h=this;return c.__generator(this,function(k){switch(k.label){case 0:return (d=this.yk)?[4,this.RY.reduce(function(n,p,q){return c.__awaiter(h,void 0,void 0,function(){return c.__generator(this,function(t){switch(t.label){case 0:return (this.AP=q,[4,p.process(n)]);case 1:return [2,t.wg()];}});});},d.next())]:[3,2];case 1:f=k.wg();this.AP=void 0;if(f.done || this.yk !== d)return [2,{done:!0}];this.hZ++;f.value.pKa();return [2,{done:!1,value:f.value.value}];case 2:return [2,g.AsyncIterator.Ija()];}});});};m.prototype.vRb=function(){this.R3a();this.KPb();};m.prototype.R3a=function(){var d;if(this.yk){d=this.yk;d && d.$g();this.RY.forEach(function(f){return f.reset();});d && l.ma && this.u.trace("BranchRequestIterator [" + this.Rf + "]: Disposing iterator that was on branch ",this.M0 && this.M0.R.id);this.FZ=!1;this.AP=this.yk=void 0;}};m.prototype.clb=function(d){this.RY.push(d);};m.prototype.KPb=function(){var d,f,h,k;d=this;if(!this.FZ){f=this.u;h=this.tfb;k=this.Rf;this.hZ=0;this.GHa=void 0;this.yk=g.flatten(g.map(h.yTa(),function(n){var p;d.GHa=n;d.hZ=0;l.ma && f.trace("BranchRequestIterator [" + d.Rf + "]: new branch " + n.R.id);p=n.FS(k);if(p)return {value:p};l.ma && f.error("BranchRequestIterator [" + d.Rf + "]: skipping branch " + n.R.id);return {value:[]};},f),f);this.FZ=!0;}};return m;})();b.tua=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eEa=void 0;c=a(0);g=a(967);l=a(968);r=(function(){function m(d,f,h,k,n,p,q,t){this.mediaType=d;this.Ca=h;this.events=n;this.VV=[];this.VV=[new g.GFa(d,f,h,k,n,p,q,"stream")];1 === this.mediaType && this.VV.push(new l.fFa(d,f,h,k,n,p,q,t));}m.prototype.reset=function(){this.VV.forEach(function(d){return d.reset();});};m.prototype.close=function(){this.VV.forEach(function(d){return d.close();});};m.prototype.Yg=function(d){return c.__read(this.VV,1)[0].Yg(d);};return m;})();b.eEa=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GFa=void 0;c=a(0);g=a(5);l=a(20);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.gy=function(f){var h,k;h=f.stream;k=f.ek;f=f.fh;g.assert(void 0 !== k);this.BKa(h,k,f) && l.ma && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + k.X + "ms");};d.prototype.LPa=function(f,h){var k,n,p;n=f.PG;p=this.Ca.Vq(h);g.assert(void 0 !== p);l.ma && this.trace("emitStreamPresentingEvent @ " + f.timestamp.X + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:p,trackIndex:null === (k=null === n || void 0 === n?void 0:n.track) || void 0 === k?void 0:k.$D,streamIndex:null === n || void 0 === n?void 0:n.$f});};return d;})(a(428).xaa);b.GFa=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fFa=void 0;c=a(0);g=a(20);l=a(5);r=(function(m){function d(f,h,k,n,p,q,t,u){f=m.call(this,f,h,k,n,p,q,t,"segment") || this;f.zv=u;return f;}c.__extends(d,m);d.prototype.gy=function(f){var h,k,n;k=f.ek;f=f.fh;l.assert(void 0 !== k);n=null === (h=this.Ca.Vq(k)) || void 0 === h?void 0:h.oa;l.assert(void 0 !== n);this.BKa(n,k,f) && g.ma && this.trace("segment " + n + " @ " + k.X + "ms");};d.prototype.LPa=function(f,h){var k,n;k=f.PG;n=this.Ca.Vq(h);l.assert(void 0 !== n);g.ma && this.trace("emitSegmentPresentingEvent @ " + f.timestamp.X + "ms for segment " + k);f={type:"segmentPresenting",playerTimestamp:h,position:n};this.zv && (f.metrics=this.zv.fja(k));this.events.emit(f.type,f);};return d;})(a(428).xaa);b.fFa=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kxa=void 0;c=a(0);g=a(20);l=a(64);r=(function(){function m(d,f,h){this.Mg=d;this.oJb=f;this.u=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var f;d=l.M6a(this.Mg,d,!0);f=d.promise;this.lkb=d.Sy;return f;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:return [4,d];case 1:f=n.wg();if(f.done)return [3,3];h=f.value.value;if(!h.eia)return [3,3];k=h.ek.Sa(this.oJb);g.ma && this.u.trace("[" + h.mediaType + "] JIT: waiting until playertime >= " + k.X,"to append next request " + h.toString());return [4,this.waitUntil(k)];case 2:(n.wg(),g.ma && this.u.trace("[" + h.mediaType + "] JIT: now appending request " + h.toString()),n.label=3);case 3:return [2,f];}});});};m.prototype.reset=function(){var d;null === (d=this.lkb) || void 0 === d?void 0:d.Gb();};return m;})();b.kxa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Ea=void 0;r=(function(){function a(c,g,l,m,d,f,h,k,n,p){var q;q=this;this.id=c;this.M=g;this.V=l;this.ER=d;this.Kk=f;this.ot=h;this.js=k;this.Im=n;this.Pc=p;this.LK=function(t){var u,w;return (null === (w=null === (u=q.Kk) || void 0 === u?void 0:u[t]) || void 0 === w?void 0:w.EWb) || q.Pc;};this.ta=m || Infinity;}Object.defineProperties(a.prototype,{aa:{get:function(){return this.M.aa;},enumerable:!1,configurable:!0}});a.prototype.YRa=function(){var c,g,l;c=this;l=Object.keys(this.Kk || ({})).filter(function(m){var d,f;return !(null === (f=null === (d=c.Kk) || void 0 === d?void 0:d[m]) || void 0 === f || !f.weight);});return l.length?null !== (g=l.map(this.LK).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== g?g:this.Pc:this.Pc;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Im + " viewableId: " + this.M.aa + " pts: " + this.V + "-" + this.ta + " defaultKey: " + this.ER + " dests: " + JSON.stringify(this.Kk) + " terminal: " + ! !this.ot;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.M.aa,"startPts:":this.V,endPts:this.ta,defaultKey:this.ER,"dests:":this.Kk,terminal:! !this.ot,playlistSegmentId:this.Im};};return a;})();b.$Ea=r;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ota=void 0;r=a(0);c=r.__importStar(a(8));g=a(179);l=r.__importDefault(a(972));m=a(396);d=r.__importDefault(a(28));f=r.__importDefault(a(3));a=(function(){var B70;B70=2;function h(k,n,p,q,t,u,w,v,x){var C70,y,D70,E70,z;C70=2;for(;C70 !== 32;){switch(C70){case 2:var j1Y="1S";j1Y+="IYbZrNJ";j1Y+="Cp9";this.u=n;this.zc=q;this.Nb=v;this.KD=x;j1Y;C70=9;break;case 34:this.GI=new m.V9(w,t,this.u);C70=23;break;case 11:this.QZ=g.HK(t,u);n=this.hIa(p);C70=19;break;case 19:void 0 !== n && void 0 !== n.Rk && void 0 !== n.rj && void 0 !== n.Sk && (y=(n.Sk - n.Rk) / n.rj);q=t.YT?d.default.kf.Rv:d.default.kf.lz;p && p.confidence >= q && p.Ha && y && this.Zgb(p,n,y);C70=16;break;case 22:var K1Y="L";K1Y+="R";C70=D70 === K1Y?21:35;break;case 16:C70=this.KD.Bq?15:27;break;case 23:this.pca=this.GI.C3();C70=33;break;case 24:this.GI=new m.V9(w,t,this.u);C70=23;break;case 25:var v1Y="b";v1Y+="as";v1Y+="el";v1Y+="i";v1Y+="ne";D70=t.uDb;C70=D70 === v1Y?24:22;break;case 9:this.Ya=k;this.ub=this.u.warn.bind(this.u);this.Ck=this.u.trace.bind(this.u);this.G=t;this.LIa=0 === Math.floor(1E6 * Math.random()) % t.Jea;this.dB=this.FUa=this.GUa=this.v0=this.Jq=void 0;this.Gra=this.p3a=this.q3a=this.Fra=this.RZa=this.SZa=0;C70=11;break;case 26:C70=w && 1 < w.length && t.nha?25:33;break;case 27:this.pca=!1;C70=26;break;case 15:try{E70=2;for(;E70 !== 4;){switch(E70){case 1:this.zc.Lkb(z);this.wJa=z;E70=4;break;case 2:z=new l.default(k,this.u,{bufferSize:f.default.Cn()},t);E70=1;break;}}}catch(B){var V1Y="Hindsight: Error when creating Q";V1Y+="oEEvalua";V1Y+="tor:";V1Y+=" ";a000.p2Y(2);k.$a.Dm(a000.H2Y(B,V1Y));}C70=27;break;case 35:C70=34;break;case 21:this.GI=new m.fya(w,t,this.u);C70=23;break;case 33:t.q8 && (this.a_=this.$Z=!1);C70=32;break;}}}for(;B70 !== 27;){switch(B70){case 2:Object.defineProperties(h.prototype,{C3:{get:function(){var F70;F70=2;for(;F70 !== 1;){switch(F70){case 4:return this.pca;break;F70=1;break;case 2:return this.pca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$oa:{get:function(){var G70;G70=2;for(;G70 !== 1;){switch(G70){case 2:return this.wJa;break;}}},enumerable:!1,configurable:!0}});h.prototype.N2a=function(k,n,p){var H70;H70=2;for(;H70 !== 4;){switch(H70){case 2:this.dB=k;c.ea(n) || (this.GUa=n);c.ea(p) || (this.FUa=p);H70=4;break;}}};h.prototype.rsa=function(k){var I70;I70=2;for(;I70 !== 5;){switch(I70){case 2:this.G=k;this.QZ.rsa(k);I70=5;break;}}};B70=3;break;case 3:h.prototype.qca=function(k,n,p,q){var J70,t;J70=2;for(;J70 !== 7;){switch(J70){case 4:return ! !(n.Ha && p && c.pa(q) && n.Ha.Aa < t.oR && q > t.Y9);break;case 3:return !1;break;case 5:J70=void 0 !== q?4:3;break;case 2:t=this.G;J70=1;break;case 1:var o1Y="i";o1Y+="q";o1Y+="r";J70=k === o1Y?5:9;break;case 9:var T1Y="a";T1Y+="v";T1Y+="g";J70=k === T1Y?8:3;break;case 8:return n.Ha?n.Ha.Aa < t.oR:!0;break;}}};h.prototype.HK=function(k){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:return 1 === k?this.QZ.Q5:this.QZ.LB;break;}}};h.prototype.XM=function(k){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 2:this.QZ.XM(k);L70=1;break;}}};B70=7;break;case 18:h.prototype.Lib=function(k){var a80,n;a80=2;for(;a80 !== 6;){switch(a80){case 5:return !0;break;case 1:a80=this.$Z && k.op()?5:4;break;case 2:n=this.G;a80=1;break;case 4:this.$Z && (this.$Z=!1);a80=3;break;case 3:a80=this.a_ && n.vp && !k.op()?9:8;break;case 8:this.a_ && (this.a_=!1);return !1;break;case 9:return !0;break;}}};h.prototype.hIa=function(k){var b80,c80;b80=2;for(;b80 !== 4;){switch(b80){case 1:k=k.Fj;b80=5;break;case 5:return k;break;case 2:var O1Y="t";O1Y+="d";O1Y+="ig";O1Y+="est";c80=this.G.qka;b80=c80 === O1Y?1:3;break;case 3:b80=9;break;case 9:k=k.Bs && k.Bs.C5;b80=5;break;case 6:k=k.Fj;b80=6;break;b80=5;break;}}};h.prototype.Zgb=function(k,n,p){var d80,q;d80=2;for(;d80 !== 3;){switch(d80){case 2:q=this.G;this.qca(q.eC,k,n,p)?this.Jq=!0:this.Jq=!1;this.v0=0;d80=4;break;case 4:this.qca(q.mma,k,n,p) && (this.oFb=!0);d80=3;break;}}};return h;break;case 7:h.prototype.Ckb=function(k,n,p,q,t,u){var M70,w;M70=2;for(;M70 !== 5;){switch(M70){case 2:w=this.G;w.q8 && this.Lib(n) || !p || !q || !(p=u?Math.min(p,q,u):Math.min(p,q)) || (this.zc.get(),q=this.Ya.Ba,k=q.ru(q.uc,k),n.track.op() && k > w.Iea && p === t?(w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:1}),w.set({maxActiveRequestsPerSession:2}),w.set({maxPendingBufferLen:500})):(w.vp=!0,w.AL=1,w.Ru=2,w.qB=500),n.track.k6({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:w.DN,minRequestSize:w.ML}),this.Fra++,w.q8 && (this.$Z=!0)):w.vp && !n.op() && (k < w.Hea || p !== t) && (w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:3}),w.set({maxActiveRequestsPerSession:3}),w.set({maxPendingBufferLen:12E3})):(w.vp=!0,w.AL=3,w.Ru=3,w.qB=12E3),n.track.k6({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:w.DN,minRequestSize:w.ML}),this.Gra++,w.q8 && (this.a_=!0)));M70=5;break;}}};h.prototype.Fkb=function(k,n){var N70,p,q,t;N70=2;for(;N70 !== 6;){switch(N70){case 2:p=this.G;N70=1;break;case 9:N70=void 0 === q || p > q?8:7;break;case 7:this.am.Fla=p;N70=6;break;case 1:N70=this.LIa?5:6;break;case 3:(q=this.am.Fla,t=this.am.Ola?p - this.am.Ola - 1:p);N70=9;break;case 5:void 0 === this.am && (this.am={startTime:f.default.time.ba(),Tw:[],$y:[],Ola:void 0,Fla:void 0});p=Math.floor((f.default.time.ba() - this.am.startTime) / p.jE);N70=3;break;case 8:(this.am.Tw[t]=k,this.am.$y[t]=n);N70=7;break;}}};h.prototype.mLb=function(){var O70,k,P70;O70=2;for(;O70 !== 4;){switch(O70){case 8:O70=this.KD.Bq?7:2;break;O70=this.KD.Bq?5:4;break;case 2:k=this.Ya;O70=1;break;case 1:O70=this.KD.Bq?5:4;break;case 5:try{P70=2;for(;P70 !== 1;){switch(P70){case 2:(this.zc.wQb(),this.wJa.kc());P70=1;break;}}}catch(n){var m1Y="Hindsight: Error d";m1Y+="uring clea";m1Y+="n u";m1Y+="p: ";a000.p2Y(2);k.$a.Dm(a000.w2Y(n,m1Y));}O70=4;break;}}};h.prototype.yLb=function(k){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:this.G.aK && k === d.default.jb.Bb && (this.Gra=this.Fra=this.p3a=this.q3a=this.RZa=this.SZa=0);Q70=1;break;}}};h.prototype.wLb=function(k,n){var R70;R70=2;for(;R70 !== 1;){switch(R70){case 2:k === d.default.jb.Bb && (this.IYb=n);R70=1;break;}}};h.prototype.Nob=function(k){var S70,n,p,q,t,u;S70=2;for(;S70 !== 6;){switch(S70){case 2:n=this.G;S70=1;break;case 5:q=this.zc.get();S70=4;break;case 1:var M1Y="n";M1Y+="o";M1Y+="n";M1Y+="e";S70=M1Y !== n.eC && !0 !== this.Jq && k.state <= n.Mma?5:6;break;case 4:var A1Y="i";A1Y+="q";A1Y+="r";S70=A1Y === n.eC?3:8;break;case 3:t=this.hIa(q);S70=9;break;case 9:void 0 !== t && void 0 !== t.Rk && void 0 !== t.rj && void 0 !== t.Sk && (p=(t.Sk - t.Rk) / t.rj);S70=8;break;case 8:u=n.YT?d.default.kf.Rv:d.default.kf.lz;q && q.confidence >= u && this.qca(n.eC,q,t,p) && (this.Jq=!0,this.v0=k.state);S70=6;break;}}};B70=10;break;case 10:h.prototype.alb=function(k){var T70;T70=2;for(;T70 !== 1;){switch(T70){case 2:k.Jq=this.Jq;T70=1;break;}}};h.prototype.axb=function(k){var U70,w,v,x,n,p,q,t,u;U70=2;for(;U70 !== 25;){switch(U70){case 12:U70=w?11:16;break;case 6:n.isLowEnd=this.oFb;n.histdiscbw=this.dB;w=this.FUa;U70=12;break;case 11:v=function(y){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:return c.pa(y)?Number(y).toFixed(2):-1;break;}}};u=[v(w.min || void 0),v(w.t5 || void 0),v(w.Rk || void 0),v(w.rj || void 0),v(w.Sk || void 0),v(w.u5 || void 0),v(w.max || void 0)];x=[];w=c.isArray(w.Th) && w.Th.reduce(function(y,z){var X70,B;X70=2;for(;X70 !== 3;){switch(X70){case 2:B=v(z.Gf || void 0);z=v(z.n || void 0);-1 < B && -1 < z && y.push({mean:B,n:z});return y;break;}}},x);U70=18;break;case 3:u && u.Ha && (u=u.Ha.Aa);n.actualbw=u;n.isConserv=this.Jq;n.ccs=this.v0;U70=6;break;case 16:n.histage=this.GUa;p.nha && this.GI && (n.ishighstable=this.pca,n.avg_avtp=this.GI.Lmb,n.avg_ne=Number(this.GI.Mmb).toFixed(4));q.Qb && (p=f.default.Cn(),n.maxAudioBufferAllowedBytes=p[d.default.jb.Pb],n.maxVideoBufferAllowedBytes=p[d.default.jb.Bb]);U70=26;break;case 2:var S1Y="st";S1Y+="a";S1Y+="rt";S1Y+="p";S1Y+="lay";var h1Y="lo";h1Y+="gda";h1Y+="ta";(n={},p=this.G,q=this.Ya,t={type:h1Y,target:S1Y,fields:{}});t.fields=n;Object.keys(k).forEach(function(y){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:n[y]=k[y];V70=1;break;case 4:n[y]=k[y];V70=5;break;V70=1;break;}}});u=this.zc.get();U70=3;break;case 18:n.histtdc=w;U70=17;break;case 26:q.emit(t.type,t);U70=25;break;case 17:n.histtd=u;U70=16;break;}}};h.prototype.bxb=function(k){var Y70,n,p,q,t,u,w,v;Y70=2;for(;Y70 !== 6;){switch(Y70){case 7:var G1Y="n";G1Y+="o";G1Y+="n";G1Y+="e";G1Y !== p.eC && (k.isConserv=this.Jq,k.ccs=this.v0);Y70=6;break;case 2:(n=this,p=this.G,q=this.zc.get(),t=[]);[d.default.jb.Bb,d.default.jb.Pb].forEach(function(x){var Z70,y;Z70=2;for(;Z70 !== 4;){switch(Z70){case 1:y=n.Ya.FTa(x);void 0 !== y && (x === d.default.jb.Bb && (p.aK && (y.parallelDownloadMs=n.SZa,y.parallelDownloadBytes=n.RZa,y.singleDownloadMs=n.q3a,y.singleDownloadBytes=n.p3a,y.switchFromParallelToSingle=n.Fra,y.switchFromSingleToParallel=n.Gra),q && q.confidence && q.Ha && (y.asetput=q.Ha,y.aseiqr=q.Bs,y.tdigest=q.Fj && q.Fj.Cx() || void 0),q && q.avtp && (y.avtp=q.avtp.Aa)),t.push(y));Z70=4;break;case 2:Z70=n.Nb(x)?1:4;break;}}});k.stat=t;Y70=4;break;case 4:(u=0,w=0,v=0);q.confidence && (u=q.Ha?q.Ha.Aa:0,w=q.ci?q.ci.Aa:0,v=q.As?q.As.Aa:0);k.location={responseTime:w,httpResponseTime:v,bandwidth:u,confidence:q.confidence,name:this.IYb};this.LIa && (k.bt={startTime:this.am.startTime,audioMs:this.am.Tw,videoMs:this.am.$y},this.am.Tw=[],this.am.$y=[],this.am.Ola=this.am.Fla);Y70=7;break;}}};B70=18;break;}}})();b.ota=a;},function(r,b,a){var g,l,m;function c(d,f,h,k){this.Ya=d;this.u=f;this.Af=this.u.error.bind(this.u);this.ub=this.u.warn.bind(this.u);this.Ck=this.u.trace.bind(this.u);this.Qf=this.u.log.bind(this.u);this.dfb=new l();this.G=k;this.OZ=[];this.h_=void 0;d=k.Y2;g.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.jca=!0;}a(28);b=a(3).default;g=a(143);a(430);l=a(973);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(124).gEa || a(124);c.prototype=Object.create(g.prototype);c.prototype.add=function(d,f,h){this.h_ || (this.h_=f);g.prototype.add.call(this,d,f,h);};c.prototype.ezb=function(){var d;if(0 !== this.OZ.length){d=[];this.OZ.forEach(function(f){f && f.pJ && d.push(f.Cx());});return d;}};c.prototype.kc=function(){this.OZ=[];};c.prototype.fCb=function(){var d,f,h;d=this.get(this.G.Y2.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,h=p,!0);});if(f)for(var k=0;k < h;k++){d[k]=f;}}d={trace:d,timestamp:this.h_,Xw:this.gd};this.jca=!1;g.prototype.reset.call(this);this.jca=!0;this.h_=void 0;return d;};c.prototype.Dha=function(d){var f,h,k,n,p,q;if(d && !d.pJ){h=d.hs.NVa;h && (d.ipa=this.aea(d),d.i6=!1);if((f=this.fCb()) && f.trace && f.trace.length){k=d.Ii.HB;n=f.timestamp;if(n > k){p=f.Xw;q=f.trace[0];k=Math.ceil((n - k) / p);f.timestamp=n - k * p;for(n=0;n < k;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.Ty=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.Nnb(d),d.zZa=f,h && f && (d.i6=f.gB),d.pJ=!0,this.OZ.push(d));}};c.prototype.Nnb=function(d){var p,q,t,u;function f(w){var y;for(var v,x=0;x < w.length;x++){y=w[x].reduce(function(z,B){return B.mb?z + 1:z;},0);if(void 0 === v)v=y;else if(y !== v)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > v?y - v:v - y) * Math.LOG2E) + "]");}}for(var h=this.G.X2,k={gB:!1,u3:!1,nvb:0},n=0;n < h.length;n++){p=h[n];q=this.dfb.create(p);if(q){t=m.now();u={};try{f(d.Dv);u=q(d);}catch(w){u.jK=w;}u.ylb=m.now() - t;k[p]=u;k.gB=k.gB || u.gB;k.u3=k.u3 || u.u3;k.jK=k.jK || u.jK;}}return k;};c.prototype.aea=function(d){var f;d=d.hs;f="";1E3 > d.Np && (f+=d.G6a);1E3 > d.hu && (f=f + ("" !== f?",":"") + d.mLa);1E3 <= d.Np && 1E3 <= d.hu && (f="media");return f;};r.exports=c;},function(r,b,a){var l;function c(){}function g(m,d,f){return function(h){h.jV=d;h.compare=f;return m(h);};}l=a(974);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=g(l.MS,!1,l.uNa);break;case "htwbr-segvmaf":d=g(l.MS,!0,l.uNa);break;case "hvmafgr":d=g(l.MS,!1,l.Efa);break;case "hvmafgr-dlvmaf":d=g(l.MS,!1,l.Efa);break;case "hvmafgr-segvmaf":d=g(l.MS,!0,l.Efa);break;case "hvmafdp":d=g(l.dp,!1);break;case "hvmafdp-dlvmaf":d=g(l.dp,!1);break;case "hvmafdp-segvmaf":d=g(l.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var q,t,u,w,v,x,y,z,B,A,E;function c(D){var F,C,G;F=D.Ty;C=D.Ii;G=D.hs.ta - C.V;F.timestamp > C.HB && A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + C.HB);D=[];for(var H,J=F.timestamp,I=0;I < F.trace.length;I++){J >= C.HB && (D.push(F.trace[I]),H=F.trace[I]);J+=F.Xw;G-=F.Xw;}for(;0 < G;){D.push(H);G-=F.Xw;}C=F.Xw;F=D.length;if(0 === F)F=[];else {for(C=[C / 1E3];2 * C.length <= F;){C=C.concat(C);}C.length < F && (C=C.concat(C.slice(0,F - C.length)));F=C;}return new x(D,F,!1);}function g(D,F,C){F=D.Dv[F][C];return F.$ + D.Ii.RQ * F.duration / 8;}function l(D){var F,C,G,H,J,I,M,N,K;F=D.Ii;C=F.Pl;G=D.hs;H=G.wu;I=[];for(G=H=Math.min(G.uF,H);G >= C;G--){E.update("backward step loop");M=J=D.Dv[0][G].V - D.Ii.V;G < H && (q(void 0 !== I[G + 1],"expect solution[(fragIndex + 1)] !== undefined"),M=Math.min(I[G + 1].startTime,M));N=g(D,0,G);K=p(N,M,D.Ty,F.HB);if(0 > K)throw Error("Infeasible: reason throughput at min bitrate");N={startTime:K,endTime:M,O0:M,Oub:J,PM:N,ce:0};N.nRa=G;I[G]=N;}F=0;for(G=C;G <= H;G++){F+=I[G].PM;I[G].Wga=F;}if(!m(D,I,C,H))throw Error("Infeasible: reason buffer capacity at min bitrate");return {gB:!0,xna:0 == I.length,Hp:I};}function m(D,F,C,G){var H,J,I,M,N,K,O,R,L,Q;for(;C <= G;C++){E.update("checkBuffer");H=D;J=F;I=C;E.update("check buffer vacancy");M=H.Ii;N=H.Dv[M.aT];K=H.lMa;O=!0;H=H.uxb(Math.floor(J[I].startTime) + M.V);R=M.nC + J[I].Wga;L=0;Q=0;if(H.index < M.Pl){for(var P=0,ha=M.My;ha < H.index;ha++){P+=N[ha].$;}L+=P;P=0;for(ha=M.My;ha < H.index;ha++){P+=N[ha].duration;}Q+=P;}else (L+=M.nC,Q+=M.Np);P=0;for(ha=M.Pl;ha < H.index;ha++){P+=J[ha].PM;}L+=P;P=0;for(ha=M.Pl;ha < H.index;ha++){P+=N[J[ha].nRa].duration;}Q+=P;H=R - L;M=N[I].V + N[I].duration - M.V - Q;if(M >= K.ey || H >= K.u6a)O=!1;J[I].uMa=H;J[I].Pea=M;if(!O)return !1;}return !0;}function d(D){D=D.Ii.Y;for(var F=[],C,G=0;G < D.length;G++){E.update("get prebuffered chunks loop");C=D[G];q(void 0 !== C.mb,"expect frag.vmaf !== undefined");C=new u(C.$,C.duration / 1E3,C.mb);F.push(C);}return F;}function f(D){var F,C,G,H,J,I,K;F=D.Dv;C=D.Ii;G=D.hs;H=G.wu;J=D.Cd;I=[];H=Math.min(G.uF,H);for(var M=0;M < F.length;M++){G=[];for(var N=C.Pl;N <= H;N++){E.update("get chunk map from play segment");K=F[M][N];K=new u(K.$,K.duration / 1E3,D.jV && void 0 !== K.mb?K.mb:J[M].mb);G.push(K);}I.push(G);}return new w(I,!1);}function h(D,F,C){q(D.NK() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,H=0,J,I,M=0;M < F.length;M++){E.update("calculate twvmaf");q(F[M].LUa === M,"expect stream_choices[idx].i_epoch === idx");I=D.Rj[F[M].d3][M];J=void 0 !== C?C(I.quality):I.quality;I=I.Nl;G+=J * I;H+=I;}return {jPa:G / H,iPa:1E3 * H};}function k(D,F,C){q(D.NK() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,H=0,J=C.Ii.RQ,I,M=0,N=0,K=0;K < F.length;K++){E.update("calculate Bytes");q(F[K].LUa === K,"expect stream_choices[idx].i_epoch === idx");I=D.Rj[F[K].d3][K];G+=I.$;H+=J * I.Nl * 1E3 / 8;M+=I.Nl * C.Cd[F[K].d3].bitrate;N+=I.Nl;}return {hPa:G,fPa:H,gPa:0 < N?1 * M / N:0};}function n(D,F,C){F=Math.min(D.length - 1,F);F=Math.max(0,F);return D[F] * C / 8;}function p(D,F,C,G){var H,J,I,M,N;H=C.trace;J=1 * C.Xw;I=F + G - C.timestamp;M=Math.floor(1 * I / J);F=(I - M * J) / J * n(H,M,J);if(F >= D)N=I - 1 * D / F * (I - M * J);else for(I=M;F < D;){E.update("find download start time");--I;if(0 > I)return -1;M=n(H,I,J);if(F + M >= D){D=(D - F) / M * J;N=(I + 1) * J - D;break;}F+=M;}return N + C.timestamp - G;}q=a(5).assert;t=a(975);u=a(431).$8a;w=a(431).a9a;v=a(976).n$a;x=a(432).web;y=a(256).xua;z=a(249).SX;B=a(85).default;A=new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");E=a(124).gEa || a(124);r.exports={MS:function(D){var F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya,U,Ja,wa,ra,Qa,Pa,Sa,$a;A.debug("greedy DEBUG false");E.Hqa("greedy-" + (D.jV?"segvmaf":"dlvmaf") + ": ");try{D.tF=[];F=D.Dv;C=D.Ii;G=D.hs;H=G.wu;J=D.Cd;H=Math.min(G.uF,H);for(M=C.Pl;M <= H;M++){N=new t();D.tF[M]=N;F[0][M].Tea=F[0][M].$;for(I=1;I < F.length;I++){F[I][M].Tea=F[I][M].$;}I=0;K=F[I][M];K.oB=Infinity;K.$f=I;for(I=1;I < F.length;I++){K=F[I][M];K.$f=I;O=N.y3()?F[0][M]:N.ZMb();R=8 * K.Tea / K.duration;L=8 * O.Tea / O.duration;if(D.jV && void 0 !== K.mb)(Q=K.mb,P=O.mb);else (Q=J[I].mb,P=J[O.$f].mb);K.Is=R - L;K.oB=(Q - P) / K.Is;isFinite(K.oB) && (0 < K.oB || I == F.length - 1) && 0 < K.Is && N.enqueue(K);}}for(M=C.Pl;M <= H;M++){C=[];ha=[];va=[];la=D.tF[M].fo();for(F=0;F < la.length;F++){K=la[F];C.push(K.Is.toFixed(2));D.jV && void 0 !== K.mb?ha.push(K.mb):ha.push(J[K.$f].mb);va.push(K.oB.toFixed(4));}}S=l(D);if(S.xna)return S;da=D.Ii;ya=D.hs;U=ya.wu;U=Math.min(ya.uF,U);va=[];for(var ma=da.Pl;ma <= U;ma++){D.tF[ma].y3() || va.push(D.tF[ma].SJ());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var ta=new z(va,D.compare);0 < ta.length;){E.update("upgrade frags");Ja=ta.pop();a:{U=da=void 0;ma=D;va=S;ha=Ja;wa=ma.Ii;ra=ma.hs;Qa=Math.min(ra.uF,ra.wu);Pa=JSON.parse(JSON.stringify(va.Hp));q(ha && Pa[ha.index].ce < ha.$f,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");U=ha.index;da=Pa[U];da.ce=ha.$f;da.PM=g(ma,da.ce,U);da.startTime=p(da.PM,da.O0,ma.Ty,wa.HB);Pa[U]=da;if(0 > da.startTime)Sa=!1;else {for(U=ha.index - 1;U >= wa.Pl;U--){da=Pa[U];$a=Pa[U + 1].startTime;if(da.O0 <= $a)break;da.O0=$a;da.startTime=p(da.PM,da.O0,ma.Ty,wa.HB);Pa[U]=da;if(0 > da.startTime){Sa=!1;break a;}}for(var kb=ha.index + 1;kb <= Qa;kb++){Pa[kb].Wga=Pa[kb].PM + (kb > ma.Ii.Pl?Pa[kb - 1].Wga:0);}for(var bb=ha.index + 1;bb <= Qa;bb++){if(Pa[bb].startTime > Pa[ha.index].Oub){Qa=bb - 1;break;}}m(ma,Pa,ha,Math.min(U + 1,ha.index),Qa)?(va.Hp=Pa,Sa=!0):Sa=!1;}}Sa && (D.tF[Ja.index].y3() || ta.push(D.tF[Ja.index].SJ()));}}finally{delete D.tF;}for(Qa=ra=wa=Sa=Ja=ta=0;Qa < S.Hp.length;Qa++){if(Pa=S.Hp[Qa])($a=D.Dv[Pa.ce][Pa.nRa],ta+=($a.mb?$a.mb:D.Cd[Pa.ce].mb) * $a.duration,Ja+=$a.duration,Sa+=$a.$,wa+=D.Ii.RQ * $a.duration / 8,ra+=$a.duration * D.Cd[Pa.ce].bitrate);}S.jPa=0 < Ja?1 * ta / Ja:0;S.iPa=Ja;S.hPa=Sa;S.fPa=wa;S.gPa=0 < Ja?1 * ra / Ja:0;S.cy=E.SSa();A.debug("Max heap used: " + Math.round(S.cy / 1024 / 1024) + " MB");return S;},Efa:function(D,F){if(D.oB < F.oB)return 1;if(D.oB > F.oB)return -1;if(D.Is > F.Is)return 1;if(D.Is < F.Is)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},uNa:function(D,F){if(D.Is > F.Is)return 1;if(D.Is < F.Is)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var F,C,G,H,J,I;E.Hqa("dp-" + (D.jV?"segvmaf":"dlvmaf") + ": ");F=l(D);if(!1 === F.gB || !0 === F.xna)return F;C=f(D);G=new v(C);H=d(D);H={P4a:c(D),JLa:D.Ii.RQ,hYa:0,NXa:240,MXa:8 * D.lMa.u6a / 1E3,qMa:.5,YLa:new y(H),gQa:0,C6b:void 0,eUa:void 0,r0a:void 0,WKa:!0};G=G.SB(H);H=h(C,G,void 0);C=k(C,G,D);J=[];I=D.Ii.Pl;G.forEach(function(M){J[I]={ce:M.d3};I++;});B(H,F);B(C,F);F.Hp=J;F.cy=E.SSa();A.debug("Max heap used: " + Math.round(F.cy / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(g){this.Nf=a(g);this.gg=this.Le=0;if(c(g)){for(var l=g.length,m=0;m < l;++m){this[m]=g[m];}this.Le=l;}}function a(g){if("number" !== typeof g)if(c(g))g=g.length;else return 16;g=Math.min(Math.max(16,g),1073741824);g=(g >>> 0) - 1;g|=g >> 1;g|=g >> 2;g|=g >> 4;g|=g >> 8;return (g | g >> 16) + 1;}b.prototype.fo=function(){for(var g=this.Le,l=Array(g),m=this.gg,d=this.Nf,f=0;f < g;++f){l[f]=this[m + f & d - 1];}return l;};b.prototype.push=function(g){var l,m,d,h;l=arguments.length;m=this.Le;if(1 < l){d=this.Nf;if(m + l > d){for(var f=0;f < l;++f){this.ZY(m + 1);h=this.gg + m & this.Nf - 1;this[h]=arguments[f];m++;this.Le=m;}return m;}h=this.gg;for(f=0;f < l;++f){this[h + m & d - 1]=arguments[f];h++;}this.Le=m + l;return m + l;}if(0 === l)return m;this.ZY(m + 1);f=this.gg + m & this.Nf - 1;this[f]=g;this.Le=m + 1;return m + 1;};b.prototype.pop=function(){var g,l,m;g=this.Le;if(0 !== g){l=this.gg + g - 1 & this.Nf - 1;m=this[l];this[l]=void 0;this.Le=g - 1;return m;}};b.prototype.shift=function(){var g,l,m;g=this.Le;if(0 !== g){l=this.gg;m=this[l];this[l]=void 0;this.gg=l + 1 & this.Nf - 1;this.Le=g - 1;return m;}};b.prototype.unshift=function(g){var l,m,d,h;l=this.Le;m=arguments.length;if(1 < m){d=this.Nf;if(l + m > d){for(var f=m - 1;0 <= f;f--){this.ZY(l + 1);d=this.Nf;h=(this.gg - 1 & d - 1 ^ d) - d;this[h]=arguments[f];l++;this.Le=l;this.gg=h;}return l;}h=this.gg;for(f=m - 1;0 <= f;f--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[f];}this.gg=h;this.Le=l + m;return l + m;}if(0 === m)return l;this.ZY(l + 1);d=this.Nf;f=(this.gg - 1 & d - 1 ^ d) - d;this[f]=g;this.Le=l + 1;this.gg=f;return l + 1;};b.prototype.ZMb=function(){var g;g=this.Le;if(0 !== g)return this[this.gg + g - 1 & this.Nf - 1];};b.prototype.get=function(g){var l;if(g === (g | 0)){l=this.Le;0 > g && (g+=l);if(!(0 > g || g >= l))return this[this.gg + g & this.Nf - 1];}};b.prototype.y3=function(){return 0 === this.Le;};b.prototype.clear=function(){for(var g=this.Le,l=this.gg,m=this.Nf,d=0;d < g;++d){this[l + d & m - 1]=void 0;}this.gg=this.Le=0;};b.prototype.toString=function(){return this.fo().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.SJ=b.prototype.shift;b.prototype.toJSON=b.prototype.fo;Object.defineProperty(b.prototype,"length",{get:function(){return this.Le;},set:function(){throw new RangeError("");}});b.prototype.ZY=function(g){this.Nf < g && this.sjb(a(1.5 * this.Nf + 16));};b.prototype.sjb=function(g){var l,m;l=this.Nf;this.Nf=g;g=this.gg;m=this.Le;if(g + m > l)for((g=g + m & l - 1,m=0);m < g;++m){this[m + l]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,t,u,w;function c(v,x,y){this.bMa=this.Lfb(v,x,y);}function g(){}function l(){}function m(){}function d(v){this.Xob=v;}function f(){}function h(){}function k(){}function n(){this.Sga={};}function p(v,x){return Array.apply(0,Array(x)).map(function(y,z){return z + v;});}q=a(5).assert;b=a(256).xua;t=a(432).xeb;u=a(256).D8a;new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");w=a(124).gEa || a(124);c.prototype.constructor=c;c.prototype.Lfb=function(v,x,y){q(v < x,"expect min_buffer_sec < max_buffer_sec but got " + v + " and " + x);q(0 < y,"expect buffer_step_sec > 0. but got " + y);for(var z=[];v < x;v+=y){z.push(v);}z[z.length - 1] < x && z.push(x);return z;};c.prototype.VA=function(v){return this.Ngb(v,this.bMa);};c.prototype.Ngb=function(v,x){v=this.tub(v,x);if(0 === v)throw new g();if(v === x.length)throw new l();return v;};c.prototype.tub=function(v,x){q(0 < x.length,"expect bins.length > 0 but got " + x.length);if(v < x[0])return 0;if(v >= x[x.length - 1])return x.length;for(var y=1;y < x.length;y++){if(x[y - 1] <= v && v < x[y])return y;}q(!1,"expect not coming here in digitize()");};c.prototype.J2=function(){return p(1,this.bMa.length - 1);};g.prototype=Error();l.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.v9a=-20;d.prototype.u9a=20;d.prototype.t9a=void 0;d.prototype.o9a=new b(void 0);d.prototype.q9a=0;d.prototype.p9a=1;d.prototype.y9a=!1;d.prototype.s9a=!0;d.prototype.r9a=!0;d.prototype.w9a=void 0;d.prototype.m9a=!0;d.prototype.n9a=0;d.prototype.SB=function(v){q(void 0 !== v.P4a,"expect recipe.time_varying_bandwidth !== undefined");return this.tjb(this.Xob,v.P4a,void 0 !== v.hYa?v.hYa:this.v9a,void 0 !== v.NXa?v.NXa:this.u9a,void 0 !== v.MXa?v.MXa:this.t9a,void 0 !== v.YLa?v.YLa:this.o9a,void 0 !== v.gQa?v.gQa:this.q9a,void 0 !== v.qMa?v.qMa:this.p9a,void 0 !== v.hUb?v.hUb:this.y9a,void 0 !== v.GCb?v.GCb:this.s9a,void 0 !== v.eUa?v.eUa:this.r9a,void 0 !== v.r0a?v.r0a:this.w9a,void 0 !== v.WKa?v.WKa:this.m9a,void 0 !== v.JLa?v.JLa:this.n9a);};d.prototype.tjb=function(v,x,y,z,B,A,E,D,F,C,G,H,J,I){var N,K,O,R,L,Q,S,Ja,wa,ra,Qa,Pa,Sa,$a,kb,bb,Ra,Wa,gb;function M(db){return db[L];}w.Hqa("dp: ");q(y <= A.Og,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");q(A.Og <= z,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");q(y <= E,"expect min_buffer_sec <= end_buffer_sec");q(E <= z,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && q(A.al <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + A.al + " and " + B);N=new c(y,z,D);D=new n();K=0;O=A;D.put([0,N.VA(A.Og)],[K,O,void 0,void 0,x,void 0,void 0,void 0]);R=O=0;x=v.ACb();q(v.NK() == x.length,"expect chunk_map.get_n_epoch() == durations_sec.length");L=-1;for(Q in x){L+=1;for(var P=!0,ha=v.Rj.map(M),va=N.J2(),la=0;la < va.length;la++){S=va[la];if(D.zla([L,S]))for(var da=D.get([L,S]),ya=da[0],U=da[1],ma=da[4],ta=0;ta < ha.length;ta++){x=ha[ta];w.update("epoch-ibuf-chunk loop");A=void 0 !== H?H(x.quality):x.quality;Ja=ma.Wo();try{da=this.rgb(U,x,Ja,I);wa=da[0];ra=da[1];Qa=da[2];Pa=da[3];Sa=da[4];$a=da[5];}catch(db){if(db instanceof t)continue;else if(db instanceof g){O+=1;continue;}else throw db;}kb=K=!1;try{bb=N.VA(Pa.Og);C && N.VA(wa);G && N.VA(ra);if(void 0 !== B)if(G){if(Qa.al > B)throw new m();}else if(Pa.al > B)throw new m();}catch(db){if(db instanceof g)(bb=void 0,O+=1);else if(db instanceof l)(J?K=!0:R+=1,bb=void 0);else if(db instanceof m)(J?kb=K=!0:R+=1,bb=void 0);else throw db;}try{if(K && kb){q(void 0 !== B,"expect max_buffer_kb !== undefined");Ra=G?Qa.al - B:Pa.al - B;q(0 <= Ra,"pause dlnd kb cannot be -ve but is " + Ra);try{Wa=Pa.ANb(Ra);}catch(db){if(db instanceof u)throw new g();throw db;}Ja.i_a(Wa);Sa+=Wa;q(Pa.Og < z,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");bb=N.VA(Pa.Og);}else if(K && !kb){Wa=G?Qa.Og - z + 1E-8:Pa.Og - z + 1E-8;q(0 <= Wa,"pause dlnd kb cannot be -ve but is " + Wa);try{Pa.z_a(Wa);}catch(db){if(db instanceof u)throw new g();throw db;}Ja.i_a(Wa);Sa+=Wa;q(y <= Pa.Og,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");q(Pa.Og < z,"cur_buffer_queue.total_remain_sec < max_buffer_sec");bb=N.VA(Pa.Og);}else Wa=0;}catch(db){if(db instanceof g)(bb=void 0,O+=1,Wa=void 0);else if(db instanceof t)continue;else throw db;}K=D.zla([L + 1,bb])?D.get([L + 1,bb])[0]:-Infinity;this.fkb(Pa,bb,x,A,S,L + 1,K,D,ya,ta,Ja,Sa,$a,Wa) && (P=!1);}}if(P){--L;break;}}try{gb=this.ZHa(L + 1,N.VA(E),D,F,N);}catch(db){if(db instanceof f)try{gb=this.ZHa(L + 1,N.VA(E),D,!F,N);}catch(ob){if(ob instanceof f){if(O > R)throw new h();throw new k();}throw ob;}else throw db;}S=gb;for(y=[];-1 < L;L--){da=D.get([L + 1,S]);K=da[0];O=da[1];z=da[3];B=da[5];E=da[6];F=da[7];da=da[2];x=v.Rj[da][L];C=x.Fx();A=x.quality;y.unshift({LUa:L,d3:da,info:{M4b:C,quality:A,Lea:O.Og,Kea:O.al,HPa:B,Ha:E,hoa:F}});S=z;}return y;};d.prototype.ZHa=function(v,x,y,z,B){var A,E;A=!1;E=B.J2()[0];for(B=B.J2()[B.J2().length - 1];;){if(x < E || x > B){A=!0;break;}if(y.zla([v,x]))break;else x=z?x - 1:x + 1;}if(A)throw new f("backtrack fails to find a solution");return x;};d.prototype.fkb=function(v,x,y,z,B,A,E,D,F,C,G,H,J,I){y=F + z * y.Nl;return void 0 !== x && y > E?(D.put([A,x],[y,v,C,B,G,H,J,I]),!0):!1;};d.prototype.rgb=function(v,x,y,z){var B,A,E;z=(x.Fx() + z) * x.Nl;y=y.Wub(z);z/=y;B=v.Og - y;A=v.Og + x.Nl;E=v.Wo();E.add(x,void 0);v=v.Wo();v.add(x,void 0);try{v.z_a(y);}catch(D){if(D instanceof u)throw new g();throw D;}return [B,A,E,v,y,z];};f.prototype=Error();h.prototype=new f();k.prototype=new f();n.prototype={jsa:function(v){return v.join(",");},put:function(v,x){this.Sga[this.jsa(v)]=x;},get:function(v){return this.Sga[this.jsa(v)];},zla:function(v){return (this.jsa(v) in this.Sga);}};r.exports={n$a:d,g_b:c,GZb:g,HZb:l};},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZEa=void 0;r=a(0);c=r.__importStar(a(8));g=a(16);l=a(16);m=r.__importDefault(a(3));d=a(228);f=a(429);a=(function(){var e80;e80=2;function h(k,n,p,q){var f80;f80=2;for(;f80 !== 9;){switch(f80){case 2:var B1Y="1SIYb";B1Y+="Z";B1Y+="rN";B1Y+="JCp9";this.Ra=k;this.u=n;this.Nb=p;this.yh=q;B1Y;f80=9;break;}}}for(;e80 !== 13;){switch(e80){case 8:h.prototype.Zba=function(){var r80,k,n;r80=2;for(;r80 !== 4;){switch(r80){case 1:(k=this.Rz.Uh,n=this.Rz.qb);this.Ra.Fg(n) && (this.Rz=void 0,this.Wn(k,n));r80=4;break;case 9:r80=this.Rz?9:0;break;r80=this.Rz?1:4;break;case 2:r80=this.Rz?1:4;break;}}};h.prototype.Zk=function(k){var s80,p,q;s80=2;function n(t,u){var t80;t80=2;for(;t80 !== 5;){switch(t80){case 2:var U1Y="skip: unexpected behaviour - a non-presenting";U1Y+=" br";U1Y+="anch doesn't have a previous branc";U1Y+="h";t !== p.Ra.Ba.Fi && (t.Jf?n(t.Jf,u):p.u.error(U1Y));(t=t.xd(u)) && t.Zk();t80=5;break;}}}for(;s80 !== 7;){switch(s80){case 2:p=this;null === (q=this.HIa) || void 0 === q?void 0:q.cancel();this.Ra.nra();this.Ra.Ba.Fi.Zk(k);l.xe.forEach(function(t){var u80,u;u80=2;for(;u80 !== 9;){switch(u80){case 1:var g1Y="skip: not re";g1Y+="suming";g1Y+=" buf";g1Y+="ferManager, audio track switch in progress";u=p.Ra.cb.gf[t];p.Ra.Bq && (u.dra=m.default.time.ba());u.HN?u.ub(g1Y):p.Ra.eg[t].resume();n(p.Ra.Ba.uc,t);u80=9;break;case 2:u80=p.Nb(t)?1:9;break;}}});this.HIa=k=new d.jD(this.Ra.vG());return k.Rna(function(){var v80;v80=2;for(;v80 !== 5;){switch(v80){case 2:p.Ra.P.ve(g.ga.oc);p.Ra.qQ();v80=5;break;}}}).Upa;break;}}};h.prototype.Yg=function(k){var w80,n,p,q;w80=2;for(;w80 !== 8;){switch(w80){case 2:(p=this.Ra.Ba.Fi,q=0 < Object.keys(p.R && p.R.Kk || ({})).length && !p.Vj?p.me - this.Ra.G.Sq:p.me);w80=1;break;case 1:w80=k < (null !== (n=p.Tc) && void 0 !== n?n:p.iVa) || k >= q?5:4;break;case 5:return !1;break;case 4:n=this.Ra.ls(k,0,!0);k=this.Ra.ls(k,1,!0);return void 0 !== n && void 0 !== k && n.complete && k.complete;break;}}};return h;break;case 2:h.prototype.Wn=function(k,n){var g80,w,x,v,p,q,t,u;g80=2;for(;g80 !== 50;){switch(g80){case 52:var H1Y="s";H1Y+="eekDelay";H1Y+="ed";(this.Rz={qb:n,Uh:k},this.Ra.emit(H1Y));g80=50;break;case 24:u=this.Ra.rq?this.Ra.Ul?Math.min(u[0].V,u[1].V):u[0].V:u[1].V;g80=23;break;case 22:g80=t.M.Re.og?21:32;break;case 12:g80=n != u.M.qb?11:26;break;case 35:var w1Y="s";w1Y+="e";w1Y+="ek";w1Y+="Del";w1Y+="ayed";this.Rz={qb:t.M.qb + 1,Uh:k};this.Ra.emit(w1Y);g80=33;break;case 7:g80=(t=this.Ra.Fg(n))?6:51;break;case 23:g80=k > u?22:31;break;case 15:g80=this.So(f.c9.uia(n),!1,!0)?27:26;break;case 41:var p1Y="seekFa";p1Y+="ile";p1Y+="d";var a1Y="after seekin";a1Y+="g, playerState no longer START";a1Y+="ING:";a1Y+=" ";this.u.warn(a1Y + this.Ra.P.getState());this.Ra.emit(p1Y);g80=50;break;case 33:return;break;case 6:!t.M.Re.JT && 0 < n && (q=this.Ra.yA(n,k));this.Ra.P.ve(g.ga.ji);g80=13;break;case 25:g80=u.length?24:52;break;case 44:l.xe.forEach(function(y){var i80;i80=2;for(;i80 !== 1;){switch(i80){case 2:p.Ra.eu[y].Xk(!0);i80=1;break;}}});g80=43;break;case 32:(k=u,q=k + this.Ra.Ba.fe);g80=31;break;case 53:this.Ra.iQ();g80=43;break;case 51:var l1Y="seek";l1Y+="Fa";l1Y+="i";l1Y+="l";l1Y+="ed";var N1Y="seek, no manife";N1Y+="st at manifes";N1Y+="tI";N1Y+="ndex:";(this.u.warn(N1Y,n),this.Ra.emit(l1Y));g80=50;break;case 13:u=this.Ra.Ud;g80=12;break;case 43:g80=this.Ra.P.SVa()?42:41;break;case 11:n < u.M.qb && t.M.Re.replace && (t.M.Re.replace=!1);w=this.Ra.Ba.uc;l.xe.forEach(function(y){var h80;h80=2;for(;h80 !== 1;){switch(h80){case 2:(y=w.xd(y)) && p.Ra.MJa(y);h80=1;break;}}});g80=19;break;case 27:return;break;case 31:this.Ra.P.ve(g.ga.zg);this.Ra.nra();this.Ra.Ba.yVb(k,n);g80=28;break;case 18:var k1Y="s";k1Y+="e";k1Y+="e";k1Y+="kDe";k1Y+="layed";this.Rz={qb:n,Uh:k};this.Ra.emit(k1Y);g80=16;break;case 36:x=this.Ra.Ba.uc;l.xe.forEach(function(y){var j80,z;j80=2;for(;j80 !== 5;){switch(j80){case 2:z=x.xd(y);p.Nb(y) && p.Vib(z,v[y]);j80=5;break;}}});g80=53;break;case 19:g80=!this.Ra.AHa(n)?18:15;break;case 42:var i1Y="se";i1Y+="e";i1Y+="k";var y1Y="pt";y1Y+="schan";y1Y+="ged";return (this.Ra.emit(y1Y,q),this.Ra.emit(i1Y),this.xQ(n),k=u && this.Ra.cb.ow()?100:0,this.Ra.f_(1,k),this.Ra.cj(),q);break;case 39:this.Ra.bda();v=this.Ra.Ba.uc.g0(k).sM;t.zna();g80=36;break;case 3:var F1Y=" p";F1Y+="l";F1Y+="ayerSta";F1Y+="te: ";var e1Y=" media.curr";e1Y+="entPts:";e1Y+=" ";var W1Y=" c";W1Y+="u";W1Y+="r";W1Y+="rent manifest: ";var Z1Y=" manifestInd";Z1Y+="ex";Z1Y+=": ";var f1Y="se";f1Y+="ek:";f1Y+=" ";t.Ch && this.yh.Gl(f1Y + k + Z1Y + n + W1Y + this.Ra.Ud.M.qb + e1Y + u + F1Y + this.Ra.P.getState());c.ea(n) && (n=this.Ra.Ud.M.qb);this.Ra.Ba.I1a();g80=7;break;case 16:return;break;case 26:u=this.Ra.Ba.uc.cS(t.ta || Infinity,t.M);g80=25;break;case 2:p=this;null === (q=this.HIa) || void 0 === q?void 0:q.cancel();(t=this.Ra.G,u=this.Ra.P.ie());q=k;g80=3;break;case 21:g80=!this.Ra.r_(t.M.qb + 1)?35:31;break;case 28:g80=(u=this.Ra.Ud.M.qb === n && !this.ehb(n) && k === t.V)?44:39;break;}}};h.prototype.seek=function(k,n){var k80,p;k80=2;for(;k80 !== 9;){switch(k80){case 2:p=k;c.ea(n) && (n=this.Ra.Ud.M.qb);k80=5;break;case 5:this.Ra.Ba.I1a();this.Ra.Fg(n).M.Re.JT || this.Ra.OI || (p=this.Ra.Vo(n,k));return this.Wn(p,n);break;}}};h.prototype.So=function(k,n,p){var l80,q,t;l80=2;for(;l80 !== 9;){switch(l80){case 5:return t;break;case 1:l80=n?5:4;break;case 2:t=this.Ra.Ba.So(k,n);l80=1;break;case 14:return t;break;l80=4;break;case 4:var L1Y="s";L1Y+="e";L1Y+="e";L1Y+="k";var R1Y="ptscha";R1Y+="n";R1Y+="g";R1Y+="e";R1Y+="d";t?(this.Ra.P.ve(g.ga.ji),(k=this.Ra.Ba.Fi.children[k]) && this.Ra.emit(R1Y,null !== (q=k.Tc) && void 0 !== q?q:k.iVa),this.Ra.P.ve(g.ga.zg),this.Ra.emit(L1Y),k && this.xQ(k.M.qb),this.Ra.f_(1),this.Ra.cj(),this.Ra.cb.ow()):p || (q=this.Ra.Ba.KBb(k),this.Wn(q));return t;break;case 6:l80=n?7:2;break;l80=n?5:4;break;}}};h.prototype.ehb=function(k){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 4:return ~ +this.Ra.Fg(k).EQ;break;m80=1;break;case 2:return ! !this.Ra.Fg(k).EQ;break;}}};h.prototype.xQ=function(k){var n80,n;n80=2;for(;n80 !== 4;){switch(n80){case 2:n=this;k=this.Ra.Fg(k);k.EQ || (k.EQ=!0,l.xe.forEach(function(p){var o80;o80=2;for(;o80 !== 1;){switch(o80){case 2:n.Ra.eg[p].resume();o80=1;break;}}}),this.Ra.iQ());n80=4;break;}}};h.prototype.Vib=function(k,n){var p80,p,q,t;p80=2;for(;p80 !== 8;){switch(p80){case 3:(this.Ra.Sg.wj.forEach(function(u){var q80;q80=2;for(;q80 !== 1;){switch(q80){case 4:p.Ra.ZD(u,-2);q80=5;break;q80=1;break;case 2:p.Ra.ZD(u,!1);q80=1;break;}}}),this.Ra.Sg=void 0);p80=9;break;case 4:p80=(null === (q=this.Ra.Sg) || void 0 === q?0:q.$A())?3:9;break;case 9:this.Ra.LR.BJa(t,k.wb.M);p80=8;break;case 2:(p=this,t=k.mediaType);k.qG(n);k.lRb();p80=4;break;}}};e80=8;break;}}})();b.ZEa=a;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nwa=void 0;r=a(0);c=r.__importStar(a(8));g=a(16);l=r.__importDefault(a(3));a=(function(){var x80;x80=2;for(;x80 !== 18;){switch(x80){case 8:m.prototype.NHa=function(d,f){var H80,h,k,n,p,q;H80=2;for(;H80 !== 7;){switch(H80){case 5:H80=!q || !p?4:9;break;case 4:H80=(this.Ja.Ul && this.OHa(d,k,n),this.Ja.rq && this.OHa(d,n,k),p=!n || n.rh,q=!k || k.rh,!q || !p)?3:9;break;case 2:(h=d.R,k=d.xd(1),n=d.xd(0),p=!n || n.rh,q=!k || k.rh);h.WL || this.Ja.Ba.a5(d,h,d.M.Re.og && 0 === d.M.qb);H80=5;break;case 9:var x1Y="Still in bufferin";x1Y+="g state ";x1Y+="whi";x1Y+="le pipeline's are done";this.Ja.P.pg() && (this.u.warn(x1Y),this.Ja.cb.ow());f || h.ot || d.M.Re.og || !this.Iob(d) || ((f=this.Ja.P.pg()) && this.Ja.G.zga && (this.Ja.ida(),f=!1),d.U1 || this.Ja.Ba.ADb(d,f),d.uJ(),d.Job() && (f=Object.keys(d.children),this.Ja.G.m1 && 1 === f.length && !d.children[f[0]].active && this.Ja.Ba.bXa(d,f[0]),this.ggb(d,h)));H80=7;break;case 3:return;break;}}};m.prototype.ggb=function(d,f){var I80,n,p,q,t,h,u,w,k;I80=2;for(;I80 !== 23;){switch(I80){case 9:(n=d.rI,p=f.Kk[n.R.id].weight);I80=8;break;case 10:0 !== u && 0 !== w?(c.Me(t,function(v){var M80;M80=2;for(;M80 !== 4;){switch(M80){case 2:v.$Yb=v.weight / u;v.ynb=v.bYa / w;v.usage=v.ynb - v.$Yb;M80=4;break;}}}),t.sort(function(v,x){var N80;N80=2;for(;N80 !== 1;){switch(N80){case 4:return v.usage / x.usage;break;N80=1;break;case 2:return v.usage - x.usage;break;}}})):t.sort(function(v,x){var O80;O80=2;for(;O80 !== 4;){switch(O80){case 2:v=Math.min.apply(null,v.wb.Mm);x=Math.min.apply(null,x.wb.Mm);a000.p2Y(1);return a000.w2Y(x,v);break;}}});I80=20;break;case 17:n=t[0].wb;p=t[0].weight;d.rI=n;I80=27;break;case 8:I80=!n?7:26;break;case 7:(q=[],t=[]);c.Me(d.children,function(v,x){var J80;J80=2;for(;J80 !== 5;){switch(J80){case 2:x=f.Kk[x].weight;0 !== x && (x={weight:x,wb:v},v.ifa(!0,!0) || t.push(x),q.push(x));J80=5;break;}}});0 === t.length?t=q:2 < t.length && (t.sort(function(v,x){var K80;K80=2;for(;K80 !== 1;){switch(K80){case 4:return x.weight / v.weight;break;K80=1;break;case 2:return x.weight - v.weight;break;}}}),t.length=2);I80=13;break;case 13:I80=1 < t.length?12:20;break;case 4:I80=Math.min(k[0] - d.Fba[0],k[1] - d.Fba[1]) >= h.Wob?3:9;break;case 1:I80=this.Ja.Qb.wka && d.rI && d.Fba?5:8;break;case 2:h=this.Ja.G;I80=1;break;case 18:return;break;case 3:d.rI=void 0;I80=8;break;case 12:n=t.reduce(function(v,x){var L80;L80=2;for(;L80 !== 4;){switch(L80){case 2:x.Mm=x.wb.Mm;x.bYa=Math.min(x.Mm[0],x.Mm[1]);a000.a2Y(1);var w31=a000.H2Y(19,20);return [v[0] + x.weight,v[w31] + x.bYa];break;}}},[0,0]);(u=n[0],w=n[1]);I80=10;break;case 19:var X1Y="No subbranc";X1Y+="h can";X1Y+="d";X1Y+="idates to drive";this.u.warn(X1Y);I80=18;break;case 5:k=d.rI.Mm;I80=4;break;case 26:n.Nd || (n.Nd={l3:l.default.time.ba(),Dy:0});n.Nd.weight=p;this.NHa(n,!0);I80=23;break;case 27:d.Fba=n.Mm;I80=26;break;case 20:I80=0 === t.length?19:17;break;}}};m.prototype.OHa=function(d,f,h){var P80,p,q,t,u,k,n;P80=2;for(;P80 !== 8;){switch(P80){case 5:(p=this.Ja.cb.gf[n],q=this.Ja.cb.Oy[n],t=this.Ja.cb.Vu[n]);P80=4;break;case 1:P80=!f.rh?5:8;break;case 4:P80=p.ih && (void 0 === f.PF || (f.qG(f.PF,f.aNb),void 0 === f.PF))?3:8;break;case 3:var z1Y="S";z1Y+="till i";z1Y+="n buffering s";z1Y+="tate while pipeline does not have vacancy";var I1Y="drive";I1Y+="Pipeline, delaying audio until video actualStartPts det";I1Y+="ermined";u=this.Ja.Ud;c.ea(u.JF) || (k.Ey && 0 === n && c.ea(this.Ja.cb.gf[1].qn)?f.ub(I1Y):(c.ea(f.Fl) && (f.Fl=f.He?f.He.index:f.Sha(f.dc)),f.ff && f.Fl > f.ff.index?d.M.Re.og && c.ea(u.ta) && c.ea(d.Fb) || (f.rh || this.Ja.MJa(f),d=this.Ja.Ud.M.qb,d < this.Ja.CK() - 1 && this.Ja.r_(d + 1)):this.cZ(f) && (k.Pvb && !this.Ja.P.pg() && 0 >= f.xF?f.uXb(k.SIb):this.Gfb(f,h)?(f.BGb=l.default.time.ba(),h=this.Ja.cb.Eja(f),k=h.$f,c.ea(k) || (k=f.track.Cd[k],this.Ffb(f,k) || ((n=k.u2())?(f.tGb=k.bitrate,f.UHb(k,n,this.Ja.P.pg(),p.ih,h.Ns),this.GXb(k,t,q),d.Nd && ++d.Nd.Dy):k.QG()))):this.Ja.P.pg() && (f.Ck(z1Y),this.Ja.cb.ow()))));P80=8;break;case 2:(k=this.Ja.G,n=f.mediaType);P80=1;break;}}};m.prototype.GXb=function(d,f,h){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 2:f.Lla=d.Nc;c.pa(h.Bu) || (h.DXb(d.er,d.Mx || -1,d.bitrate),c.ea(d.K6) || this.Ja.Lf.N2a(d.K6,d.Gn,d.Hn));d.url && (f.Qla=d.url);Q80=4;break;}}};m.prototype.Ffb=function(d,f){var R80,h;R80=2;for(;R80 !== 5;){switch(R80){case 2:h=this.Ja.cb.Vu[d.mediaType];return this.Ja.nJa && f.Nc && h.Lla && f.Nc !== h.Lla && (0 < d.Ka.qy || 0 < d.Ka.kr)?!0:!1;break;}}};x80=12;break;case 2:m.prototype.$Y=function(){var z80;z80=2;for(;z80 !== 1;){switch(z80){case 2:this.qD && (clearTimeout(this.qD),this.qD=void 0);z80=1;break;}}};m.prototype.QHa=function(){var A80,d,f,h,k;A80=2;for(;A80 !== 6;){switch(A80){case 2:A80=!this.Ja.nj.mda && !this.Ja.dm()?1:6;break;case 8:this.NHa(d.uc);this.Wjb();A80=6;break;case 1:var D1Y="f";D1Y+="irstDriveStreami";D1Y+="ng";void 0 === this.Ja.cgb && (this.Ja.cgb=!0,this.Ja.$a.Lj(D1Y));(d=this.Ja.Ba,f=d.uc.xd(0),h=d.uc.xd(1),k=!h || h.rh);(!f || f.rh) && k && this.Ja.OI && d.spb(h?h.Fb:f.Fb);h=!h || h.Tp;f && !f.Tp || !h || this.Ja.OI || (this.Ja.Qb.ef && this.Ja.Qb.ef.Ko(!0,this.Ja.il.sessionId),this.Ja.$a.bZa());A80=8;break;}}};m.prototype.VJa=function(){var B80;B80=2;for(;B80 !== 1;){switch(B80){case 2:return this.Ja.dm() || this.Ja.P.TVa() || this.Ja.P.bh()?!0:!1;break;}}};m.prototype.cZ=function(d){var C80;C80=2;for(;C80 !== 1;){switch(C80){case 2:return this.VJa() || this.Ja.cb.gf[d.mediaType].HN || this.Ja.kw.fA?!1:!0;break;}}};m.prototype.cj=function(){var D80,d,f;D80=2;for(;D80 !== 5;){switch(D80){case 2:(d=this,f=this.Ja.G);!this.Ja.nJa || this.Ja.YZ || this.Ja.j_ || (this.Ja.YZ=setTimeout(function(){var E80;E80=2;for(;E80 !== 4;){switch(E80){case 2:clearTimeout(d.Ja.YZ);d.Ja.YZ=void 0;d.QHa();E80=4;break;}}},f.poa),f.aK && this.Ja.Ul && (this.qD || (this.qD=setTimeout(function(){var F80,h;F80=2;for(;F80 !== 3;){switch(F80){case 2:clearTimeout(d.qD);d.qD=void 0;h=d.Ja.Ba.uc.xd(1);h && d.dHa(h);F80=3;break;}}},f.Dkb))));D80=5;break;}}};m.prototype.dHa=function(d,f){var G80,h,k,n,p;G80=2;for(;G80 !== 3;){switch(G80){case 1:G80=k && n?5:3;break;case 2:(h=d.mediaType,k=this.Ja.cb.Vu[h].pF,n=d.ag.rT);G80=1;break;case 7:G80=k || n?6:6;break;G80=k && n?5:3;break;case 5:p=this.Ja.cb.gf[h].ih;p && (this.Ja.P.pg() || this.Ja.Lf.Ckb(h,p,k.bitrate,n.bitrate,d.xDb.bitrate,f));G80=3;break;}}};x80=8;break;case 10:m.prototype.Iob=function(d){var V80,f,h,k;V80=2;for(;V80 !== 4;){switch(V80){case 2:(f=this,h=this.Ja.Ba,k=!0);c.Me(d.R.Kk,function(n,p){var W80,q;W80=2;for(;W80 !== 7;){switch(W80){case 2:W80=(n=h.cf(p))?1:8;break;case 1:p=n.M;n=p.Hg[0];q=p.Hg[1];n && q && n.stream.te && q.stream.te || (k=!1);f.Ja.P.Jn(p) || (k=!1);W80=7;break;case 8:var s9H="in";s9H+=" ";s9H+="des";s9H+="ts:";var J1Y="inv";J1Y+="al";J1Y+="id s";J1Y+="e";J1Y+="gment:";d.ub(J1Y,p,s9H,d.R.Kk);W80=7;break;}}});return k;break;}}};m.prototype.Wjb=function(){var X80,d,f,h;X80=2;for(;X80 !== 5;){switch(X80){case 2:(d=this.Ja.G,f=this.Ja.Ba,h=f.uc);this.Ja.P.pg() || f.ru(h,1) < d.QT || h.M.hsa();X80=5;break;}}};return m;break;case 12:m.prototype.Gfb=function(d,f){var S80,x,h,k,n,p,q,t,u,w,v;S80=2;for(;S80 !== 32;){switch(S80){case 8:S80=q >= k.qB?7:6;break;case 4:S80=(null === (h=d.Zf) || void 0 === h?0:h.dDb())?3:9;break;case 12:return !1;break;case 6:h=this.Ja.Ud.M;x=this.Ja.P.Jn(h);S80=13;break;case 19:S80=this.Ja.Qb.sla?18:17;break;case 26:S80=this.Lgb(n) >= k.CL?25:24;break;case 3:return !1;break;case 25:return !1;break;case 20:S80=f && (x=this.Ja.Ba.pE(p,f.mediaType),v=d.dc - v,this.Nb(f.mediaType) && !f.rh && v >= k.Oma && w > k.pj)?19:26;break;case 13:S80=t === g.ga.oc && u > k.uXa && !h.Re.og && !x && !h.IT || u && q > Math.max(u * k.Kma / 100,k.gna)?12:11;break;case 33:return k.r1 && d.Ka.qy >= k.Jma || 0 < k.Js && !p && t + (f?x:0) > k.Js || void 0 !== this.rHa && u > this.rHa || 1 === n && h.Re.og && u > k.Hma && (f=this.Ja.Qb.tb.get(),f.confidence && f.Ha && f.Ha.Aa * d.EJ > k.Gma)?!1:!0;break;case 2:var b9H="f";b9H+="lo";b9H+="ored";b9H+=" to 0";var E9H="negative";E9H+=" ";E9H+="scheduledBuffer";E9H+="Level";E9H+=":";(k=this.Ja.G,n=d.mediaType,p=d.a4,q=this.Ja.P.ie(),t=this.Ja.P.getState(),u=this.Ja.Ba.ru(p,n),w=d.dc + p.fe - q);0 > w && (d.ub(E9H,w,b9H),w=0);v=f?f.dc:0;S80=4;break;case 15:S80=void 0 === w || w < k.pIb?27:26;break;case 18:return !1;break;case 34:return !1;break;case 23:S80=!c.ea(k.Ru) && w >= k.Ru || d.EJ + q >= Math.max(k.ey,this.Ja.Qb.Ly + k.Hna * p.M.sIb[n])?22:21;break;case 17:w=void 0;f && (w=f.mediaType,v=l.default.Cn()[w],w=k.YXb?this.Ja.Ba.dXa(p,w).Gj / v:x / v);S80=15;break;case 27:return !1;break;case 22:return !1;break;case 35:S80=(q=1,d.Mea < k.fy && (q=k.fy),d.Ka.qy >= q)?34:33;break;case 24:w=this.Ja.Ba.uWb();S80=23;break;case 11:t=this.Ja.Ba.pE(p,n);x=0;S80=20;break;case 9:q=d.Ka.doa;S80=8;break;case 7:return !1;break;case 21:S80=(p=this.Ja.P.pg())?35:33;break;}}};m.prototype.Lgb=function(d){var T80;T80=2;for(;T80 !== 1;){switch(T80){case 2:return this.Ja.Ba.Ib.reduce(function(f,h){var U80;U80=2;for(;U80 !== 1;){switch(U80){case 2:return f + h.BBb(d);break;case 4:return f / h.BBb(d);break;U80=1;break;}}},0);break;}}};x80=10;break;}}function m(d,f,h){var y80;y80=2;for(;y80 !== 9;){switch(y80){case 2:var r9H="1SIYbZ";r9H+="r";r9H+="N";r9H+="JC";r9H+="p9";this.Ja=d;this.u=f;this.Nb=h;r9H;this.rHa=this.qD=void 0;y80=9;break;}}}})();b.nwa=a;},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.wza=void 0;c=a(172);g=a(16);l=a(16);m=a(9);r=(function(){var Y80;Y80=2;for(;Y80 !== 6;){switch(Y80){case 5:d.prototype.suspend=function(){var f90;f90=2;for(;f90 !== 1;){switch(f90){case 2:this.mda=!0;f90=1;break;}}};d.prototype.resume=function(){var g90;g90=2;for(;g90 !== 5;){switch(g90){case 2:this.mda=!1;this.Db.Ef.cj();g90=5;break;}}};d.prototype.close=function(){var h90,f;h90=2;for(;h90 !== 6;){switch(h90){case 8:this.Db.$a.bZa();this.Db.k1a();h90=6;break;case 2:var d9H="en";d9H+="d";d9H+="p";d9H+="lay";var Y9H="l";Y9H+="o";Y9H+="gda";Y9H+="t";Y9H+="a";var C9H="c";C9H+="l";C9H+="o";C9H+="s";C9H+="e";f=this.Db.G;this.kJa=!0;this.stop();this.Db.emit(C9H);f.bQa && (f=c.Kv.instance().bb()) && (f={type:Y9H,target:d9H,fields:{bridgestat:f}},m.Ma(this.Db,f.type,f));this.Db.Qb.ef && this.Db.Qb.ef.Ko(!0,this.Db.il.sessionId,!0);h90=8;break;}}};Y80=9;break;case 2:d.prototype.play=function(){var a90,f;a90=2;for(;a90 !== 5;){switch(a90){case 2:var n9H="p";n9H+="la";n9H+="y";var q9H="play called after pip";q9H+="elines";q9H+=" alre";q9H+="ady shutdown";f=this;this.dm()?this.u.warn(q9H):(this.Db.P.ve(g.ga.oc),this.Db.Ejb(),this.Db.cb.gf.forEach(function(h){var b90;b90=2;for(;b90 !== 1;){switch(b90){case 2:var t9H="play: not r";t9H+="esuming bufferManager, audio track switch in ";t9H+="progress";f.Nb(h.mediaType) && (h.HN?h.ub(t9H):(f.Db.eg[h.mediaType].resume(),f.Db.eu[h.mediaType].resume()));b90=1;break;}}}),this.Db.qQ(),this.Db.emit(n9H));a90=5;break;}}};d.prototype.stop=function(){var c90,f,h,k,n;c90=2;for(;c90 !== 6;){switch(c90){case 2:(f=this,h=this.Db.P.TVa(),k=this.Db.P.bh());this.Db.P.ve(g.ga.aq);this.Db.$Y();c90=4;break;case 4:var u9H="s";u9H+="t";u9H+="op";h || k || this.Db.Ba.Fi.aC(!1,this.Db.P);n=this.Db.Ba.uc;l.xe.forEach(function(p){var d90;d90=2;for(;d90 !== 5;){switch(d90){case 1:p.rh=!1;d90=5;break;case 2:d90=(p=n.xd(p))?1:5;break;case 3:d90=(p=n.xd(p))?3:0;break;d90=(p=n.xd(p))?1:5;break;}}});l.xe.forEach(function(p){var e90;e90=2;for(;e90 !== 1;){switch(e90){case 2:(p=f.Db.eg[p]) && p.pause();e90=1;break;}}});this.Db.emit(u9H);c90=6;break;}}};Y80=5;break;case 9:d.prototype.flush=function(){var i90,f,h,k,j90,n,p,q,t,u;i90=2;for(;i90 !== 16;){switch(i90){case 2:(h=this.Db.G,k=this.Db.Qb.tb);i90=1;break;case 20:var v9H="e";v9H+="n";v9H+="dpl";v9H+="ay";var K9H="l";K9H+="og";K9H+="dat";K9H+="a";var j9H="thr";j9H+="oughpu";j9H+="t-sw";var c9H="thr";c9H+="ough";c9H+="put-sw";var Q9H="th";Q9H+="roug";Q9H+="h";Q9H+="put-sw";var P9H="thro";P9H+="ughput-s";P9H+="w";h.VR && (p && p[P9H] && p[Q9H].Aa && this.Db.ht.Tkb({avtp:p[c9H].Aa,variance:p[j9H].ei}),this.Db.ht.Mkb(q,null === (f=p.avtp) || void 0 === f?void 0:f.h1),f=this.Db.ht.vzb(),h=this.Db.ht.OBb(),f && (f.n=h,f={type:K9H,target:v9H,fields:{ibef:f}},m.Ma(this.Db,f.type,f),this.Db.ht.save()));i90=19;break;case 19:this.Db.$a.aJa();i90=18;break;case 1:i90=k?5:19;break;case 7:i90=t?6:14;break;case 17:try{j90=2;for(;j90 !== 1;){switch(j90){case 2:this.Db.y1(g.ga.aq);j90=1;break;}}}catch(v){var V9H="Hindsight:";V9H+=" Error evaluating QoE at stoppin";V9H+="g: ";a000.a2Y(2);this.Db.$a.Dm(a000.H2Y(v,V9H));}i90=16;break;case 14:var T9H="e";T9H+="n";T9H+="dp";T9H+="lay";var o9H="l";o9H+="o";o9H+="gd";o9H+="at";o9H+="a";u && u.length && (n.activeRequests=JSON.stringify(u));this.Db.Ud.M.VPa(1) && (n.enableHudson=!0);n.aseApiVersion=this.Db.cE;h.$Pa && ((k=k.z2()) && k.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,n.bytestotalVideo=k.bytestotalVideo),k && k.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,n.bytestotalAudio=k.bytestotalAudio));Object.keys(n).length && (n={type:o9H,target:T9H,fields:n},m.Ma(this.Db,n.type,n));i90=20;break;case 5:(n={},p=k.get(),q={});p && p.avtp && p.avtp.Aa && (n.avtp=p.avtp.Aa,n.dltm=p.avtp.h1,q.avtp=n.avtp);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);i90=9;break;case 18:i90=this.KD.Bq?17:16;break;case 8:(t=k.oSa(),u=k.qKa);i90=7;break;case 9:k.flush();i90=8;break;case 6:for(var w in t){var M9H="n";M9H+="e";var m9H="n";m9H+="e";var O9H="n";O9H+="e";t.hasOwnProperty(w) && (n[O9H + w]=Number(t[w]).toFixed(6),q[m9H + w]=1 * n[M9H + w]);}i90=14;break;}}};d.prototype.dm=function(){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:return this.kJa || this.Db.Ba.kj;break;case 4:return this.kJa && this.Db.Ba.kj;break;k90=1;break;}}};return d;break;}}function d(f,h,k,n){var Z80;Z80=2;for(;Z80 !== 8;){switch(Z80){case 2:var A9H="1SI";A9H+="YbZrNJ";A9H+="Cp9";this.Db=f;this.u=h;this.Nb=k;this.KD=n;this.kJa=this.mda=!1;A9H;Z80=8;break;}}}})();b.wza=r;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vBa=void 0;r=a(0);c=r.__importStar(a(8));g=a(142);l=r.__importDefault(a(28)).default.jb;m=r.__importDefault(a(3));d=a(9);f=a(5);a=(function(){var l90;l90=2;for(;l90 !== 38;){switch(l90){case 24:h.prototype.Phb=function(k,n){var M90;M90=2;for(;M90 !== 3;){switch(M90){case 4:d.Ma(this.Ta,n.type,n);M90=3;break;case 2:var h9H="a";h9H+="udioTrackSwitc";h9H+="hStar";h9H+="t";h9H+="ed";k=k.nB;n=n.nB;n={type:h9H,oldLangCode:k.language,oldNumChannels:k.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};M90=4;break;}}};h.prototype.Ohb=function(k,n){var N90,p;N90=2;for(;N90 !== 5;){switch(N90){case 2:p=this;setTimeout(function(){var O90,q;O90=2;for(;O90 !== 5;){switch(O90){case 2:var S9H="audioTrackS";S9H+="wi";S9H+="t";S9H+="chComplete";q={type:S9H,trackId:k,trackIndex:n};d.Ma(p.Ta,q.type,q);O90=5;break;}}},0);N90=5;break;}}};h.prototype.Shb=function(k){var P90,n;P90=2;for(;P90 !== 4;){switch(P90){case 2:var G9H="buf";G9H+="fe";G9H+="ringSta";G9H+="r";G9H+="ted";n={type:G9H,time:m.default.time.ba(),percentage:k || 0};d.Ma(this.Ta,n.type,n);this.wca=k || 0;P90=4;break;}}};h.prototype.Qhb=function(){var Q90,k,n,p,q,t;Q90=2;for(;Q90 !== 3;){switch(Q90){case 2:(k=this.Ta.G,n=m.default.time.ba(),p=this.Ta.Ba.uc,q=this.Ta.Ul?1:0,t=p.Oa(q));p=p.ij(q);k=Math.min(Math.max(Math.round(100 * (t.mB?(n - this.Ta.wba) / k.vy:t.progress?t.progress:p / k.pj)),this.wca),99);Q90=4;break;case 4:var B9H="buf";B9H+="fe";B9H+="ring";k != this.wca && (n={type:B9H,time:n,percentage:k},d.Ma(this.Ta,n.type,n),this.wca=k);Q90=3;break;}}};l90=35;break;case 5:h.prototype.eib=function(k,n,p,q,t){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:var U9H="ptsStar";U9H+="t";U9H+="s";this.Ta.G.yub || (k={type:U9H,manifestIndex:k,mediaType:n,movieId:q,streamId:p,ptsStarts:t.M3a()},d.Ma(this.Ta,k.type,k));q90=1;break;}}};l90=4;break;case 16:h.prototype.kib=function(k,n,p,q){var H90,t;H90=2;for(;H90 !== 3;){switch(H90){case 2:t=k.mediaType;H90=1;break;case 8:t=k.mediaType;H90=6;break;H90=1;break;case 1:var g9H="strea";g9H+="m";g9H+="Pre";g9H+="s";g9H+="enting";g.Vl.lp(t);k={type:g9H,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:t,manifestIndex:q,trackIndex:k.track.$D,streamIndex:k.$f};d.Ma(this.Ta,k.type,k);H90=3;break;}}};h.prototype.pib=function(k){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var H9H="vid";H9H+="eoLo";H9H+="oped";k={type:H9H,offset:k};d.Ma(this.Ta,k.type,k);I90=5;break;}}};h.prototype.nib=function(k,n,p,q,t){var J90;J90=2;for(;J90 !== 4;){switch(J90){case 2:var w9H="up";w9H+="d";w9H+="ateStreamingPt";w9H+="s";n={type:w9H,mediaType:k,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:t};g.Vl.lp(k);d.Ma(this.Ta,n.type,n);J90=4;break;}}};h.prototype.Uhb=function(k){var K90;K90=2;for(;K90 !== 5;){switch(K90){case 2:var a9H="first";a9H+="Req";a9H+="uestAppended";k={type:a9H,manifestIndex:k.Ka.wb.M.qb,mediatype:k.mediaType,time:m.default.time.ba()};d.Ma(this.Ta,k.type,k);K90=5;break;}}};h.prototype.Yhb=function(k,n){var L90;L90=2;for(;L90 !== 5;){switch(L90){case 2:var p9H="initia";p9H+="lAudi";p9H+="oTrack";k={type:p9H,trackId:n,trackIndex:k};d.Ma(this.Ta,k.type,k);L90=5;break;}}};l90=24;break;case 2:h.prototype.Lj=function(k){var n90;n90=2;for(;n90 !== 5;){switch(n90){case 2:var N9H="s";N9H+="t";N9H+="artE";N9H+="v";N9H+="ent";k={type:N9H,event:k,time:m.default.time.ba()};d.Ma(this.Ta,k.type,k);n90=5;break;}}};h.prototype.dib=function(){var o90,k;o90=2;for(;o90 !== 5;){switch(o90){case 2:var l9H="openComp";l9H+="let";l9H+="e";k={type:l9H};d.Ma(this.Ta,k.type,k);o90=5;break;}}};l90=5;break;case 20:h.prototype.aib=function(k,n,p,q,t){var D90;D90=2;for(;D90 !== 5;){switch(D90){case 2:var k9H="manifes";k9H+="tRa";k9H+="nge";k={type:k9H,index:k,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(t)};d.Ma(this.Ta,k.type,k);D90=5;break;}}};h.prototype.cJa=function(k){var E90;E90=2;for(;E90 !== 5;){switch(E90){case 2:var y9H="m";y9H+="ax";y9H+="Bi";y9H+="t";y9H+="rates";k={type:y9H,audio:k[0],video:k[1]};d.Ma(this.Ta,k.type,k);E90=5;break;}}};h.prototype.bib=function(k,n){var F90,p;F90=2;for(;F90 !== 3;){switch(F90){case 2:var f9H="notifyMani";f9H+="f";f9H+="estSelected: ";var i9H="manifest";i9H+="Selec";i9H+="te";i9H+="d";p=this.Ta.G;k={type:i9H,index:k,replace:n.M.Re.replace,ptsStarts:n.sM,streamingOffset:n.V + n.Pu};p.Ch && (n=f9H + JSON.stringify(k),p.Ch && this.Gl(n));d.Ma(this.Ta,k.type,k);F90=3;break;}}};h.prototype.$hb=function(k,n,p,q,t){var G90;G90=2;for(;G90 !== 4;){switch(G90){case 2:var Z9H="ma";Z9H+="nifestPre";Z9H+="senting";k={type:Z9H,index:k.qb,pts:Math.floor(n),movieId:k.H,replace:k.Re.replace,contentOffset:p};null != q && null != t && (k.previousMovieId=q,k.previousIndex=t);d.Ma(this.Ta,k.type,k);G90=4;break;}}};l90=16;break;case 7:h.prototype.LZ=function(k,n){var v90;v90=2;for(;v90 !== 5;){switch(v90){case 2:var W9H="se";W9H+="g";W9H+="me";W9H+="nt";W9H+="Starting";n={type:W9H,segmentId:k.id,contentOffset:n,maxBitrates:{audio:k.M.Su[0],video:k.M.Su[1]}};k.IB || d.Ma(this.Ta,n.type,n);v90=5;break;}}};h.prototype.gib=function(k){var w90,n;w90=2;for(;w90 !== 5;){switch(w90){case 2:var e9H="se";e9H+="gm";e9H+="ent";e9H+="Aborted";n={type:e9H,segmentId:k.id};k.IB || d.Ma(this.Ta,n.type,n);w90=5;break;}}};h.prototype.Mgb=function(k,n){var x90,p,q;x90=2;for(;x90 !== 12;){switch(x90){case 4:var I9H="s";I9H+="e";I9H+="a";I9H+="mless";var X9H="r";X9H+="e";X9H+="s";X9H+="e";X9H+="t";var x9H="s";x9H+="ki";x9H+="p";var L9H="l";L9H+="o";L9H+="n";L9H+="g";var R9H="lo";R9H+="n";R9H+="g";var F9H="se";F9H+="am";F9H+="les";F9H+="s";q=n.Aj?n.OS?F9H:R9H:n.BYa?L9H:n.Zk?x9H:X9H;p.transitionType=q;n.Jga || (p.delayToTransition=n.$0);q=I9H === q?0:m.default.time.ba() - n.startTime;p.durationOfTransition=q;x90=6;break;case 2:(p={segment:k,srcsegment:n.h7,srcoffset:n.hN,seamlessRequested:n.Aj,atRequest:{},discard:{}},q=n.Nd[k]);q?p.atRequest={weight:q.weight,abuflmsec:q.uq.hu,vbuflmsec:q.uq.Np,abuflbytes:q.uq.x_,vbuflbytes:q.uq.nC}:(q=this.Ta.Ba.xTa(n.h7,k),void 0 !== q && (p.atRequest.weight=q));c.Me(n.Nd,function(t,u){var y90;y90=2;for(;y90 !== 1;){switch(y90){case 2:u != k && (p.discard[u]={weight:t.weight,abuflmsec:t.uq.hu,vbuflmsec:t.uq.Np,abuflbytes:t.uq.x_,vbuflbytes:t.uq.nC});y90=1;break;}}});x90=4;break;case 6:p.atTransition=n.j5a;p.srcsegmentduration=this.Ta.Ba.JBb(n.h7);x90=13;break;case 13:return p;break;}}};h.prototype.jib=function(k,n,p){var z90;z90=2;for(;z90 !== 4;){switch(z90){case 2:var z9H="segmen";z9H+="tPr";z9H+="esenting";p=p?this.Mgb(k.id,p):void 0;k={type:z9H,segmentId:k.id,contentOffset:n,metrics:p,playlistSegment:k.IB,manifestIndex:k.M.qb};d.Ma(this.Ta,k.type,k);z90=4;break;}}};h.prototype.hib=function(k,n){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var D9H="segment";D9H+="Appe";D9H+="n";D9H+="de";D9H+="d";n={type:D9H,segmentId:k.id,metrics:n};k.IB || d.Ma(this.Ta,n.type,n);A90=5;break;}}};h.prototype.iib=function(k,n,p){var B90;B90=2;for(;B90 !== 5;){switch(B90){case 2:var J9H="segment";J9H+="Comp";J9H+="lete";k={type:J9H,mediaType:k,manifestIndex:n,segmentId:p.id};d.Ma(this.Ta,k.type,k);B90=5;break;}}};h.prototype.Jca=function(k,n){var C90;C90=2;for(;C90 !== 5;){switch(C90){case 2:var s6H="las";s6H+="tSegm";s6H+="e";s6H+="ntP";s6H+="ts";n={type:s6H,segmentId:k.id,pts:Math.floor(n)};k.IB || d.Ma(this.Ta,n.type,n);C90=5;break;}}};l90=20;break;case 4:h.prototype.Whb=function(k,n){var r90;r90=2;for(;r90 !== 5;){switch(r90){case 2:var E6H="headerC";E6H+="acheH";E6H+="it";k={type:E6H,movieId:k,streamId:n};d.Ma(this.Ta,k.type,k);r90=5;break;}}};h.prototype.Vhb=function(k,n,p,q,t){var s90,u;s90=2;for(;s90 !== 3;){switch(s90){case 2:var b6H="headerCa";b6H+="che";b6H+="Da";b6H+="taHi";b6H+="t";u=this.Ta.sIa;this.Ta.sIa=void 0;k={type:b6H,movieId:k,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:t,actualStartPts:u && u.qn,headerCount:u && u.UK,stats:u && u.rd};d.Ma(this.Ta,k.type,k);s90=3;break;}}};h.prototype.cib=function(k,n,p,q){var t90;t90=2;for(;t90 !== 5;){switch(t90){case 2:var r6H="maxP";r6H+="osit";r6H+="i";r6H+="on";k={type:r6H,index:k,endPts:n,maxPts:p,maxSeekPts:q};d.Ma(this.Ta,k.type,k);t90=5;break;}}};h.prototype.mib=function(k,n,p,q,t,u){var u90;u90=2;for(;u90 !== 4;){switch(u90){case 2:var Y6H="notifyStreamin";Y6H+="g";Y6H+="Error:";Y6H+=" ";var C6H="e";C6H+="r";C6H+="r";C6H+="o";C6H+="r";k={type:C6H,error:k,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:t,manifestIndex:u};this.u.error(Y6H + JSON.stringify(k));d.Ma(this.Ta,k.type,k);u90=4;break;}}};l90=7;break;case 35:h.prototype.Ica=function(){var R90,k,n,p,q,t;R90=2;for(;R90 !== 8;){switch(R90){case 2:var d6H="bufferi";d6H+="ng";d6H+="Co";d6H+="mple";d6H+="te";(k=this.Ta.Ba.uc,n=k.Oa(0),p=k.Oa(1));this.bJa();(q=this.Ta.Ul?this.Ta.cb.Oy[l.Bb]:this.Ta.cb.Oy[l.Pb],t=q.bR);k={type:d6H,time:m.default.time.ba(),actualStartPts:t,aBufferLevelMs:k.ij(0),vBufferLevelMs:k.ij(1),selector:p?p.TM:n.TM,initBitrate:q.Bu,skipbackBufferSizeBytes:this.Ta.Qb.ZB};R90=3;break;case 3:this.Ta.Lf.axb({initSelReason:q.Nx,initSelectionPredictedDelay:q.Mx,buffCompleteReason:q.Rr,hashindsight:this.Ta.Bq,hasasereport:! !this.Ta.$q,bcVBufferLevelMs:k.vBufferLevelMs,bcABufferLevelMs:k.aBufferLevelMs});d.Ma(this.Ta,k.type,k);R90=8;break;}}};h.prototype.bJa=function(){var S90,k,n,p,q,t,u,w;S90=2;for(;S90 !== 12;){switch(S90){case 2:k=this.Ta.G;S90=1;break;case 1:S90=!this.Ta.dm()?5:12;break;case 5:(n=this.Ta.Ba.uc,p=n.ij(0),q=n.ij(1));this.Ta.Lf.Fkb(p,q);t=this.Ta.Qb.tb.get();t=t.confidence?t.Ha.Aa:0;(u=this.Ta.Ba,w=u.pE(n,0));n=u.pE(n,1);S90=6;break;case 6:var q6H="up";q6H+="dateBu";q6H+="ffe";q6H+="rLevel";p={type:q6H,abuflbytes:w,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:t};q > k.cYa && this.Ta.Qb.ef && this.Ta.Qb.ef.Ko(!0,this.Ta.il.sessionId);d.Ma(this.Ta,p.type,p);S90=12;break;}}};h.prototype.qhb=function(k){var T90,n,p,q;T90=2;for(;T90 !== 7;){switch(T90){case 5:T90=!c.ea(this.RI)?4:8;break;case 9:var n6H=", sys";n6H+="t";n6H+="emDelta: ";var t6H="memor";t6H+="yUs";t6H+="age a";t6H+="t ti";t6H+="me: ";c.pa(k.MV) && c.pa(this.RI.MV) && (n=k.MV - this.RI.MV,4194304 < n && this.u.warn(t6H + m.default.time.ba(),n6H + n));T90=8;break;case 1:c.pa(k.MV);T90=5;break;case 4:var c6H=", os";c6H+="Allocat";c6H+="orDelta: ";var Q6H=", jsHeapD";Q6H+="el";Q6H+="ta: ";var P6H=", fastMa";P6H+="llocD";P6H+="elta:";P6H+=" ";var u6H="me";u6H+="moryU";u6H+="sag";u6H+="e at";u6H+=" time: ";(n=k.DQa - this.RI.DQa,p=k.CUa - this.RI.CUa,q=k.EZa - this.RI.EZa);(4194304 < n || 4194304 < q) && this.u.warn(u6H + m.default.time.ba() + P6H + n + Q6H + p + c6H + q);T90=9;break;case 2:T90=!c.ea(k)?1:7;break;case 8:this.RI=k;T90=7;break;}}};h.prototype.oib=function(){var U90,k;U90=2;for(;U90 !== 3;){switch(U90){case 2:var j6H="strea";j6H+="m";j6H+="i";j6H+="ngstat";this.Ta.G.zHb && m.default.memory.hAb(this.qhb.bind(this));k={type:j6H,time:m.default.time.ba(),playbackTime:this.Ta.P.ie()};this.Ta.Lf.bxb(k);d.Ma(this.Ta,k.type,k);U90=3;break;}}};l90=31;break;case 31:h.prototype.aJa=function(){var V90,k;V90=2;for(;V90 !== 4;){switch(V90){case 9:V90=this.Ta.$q?9:2;break;V90=this.Ta.$q?1:4;break;case 1:var K6H="ase";K6H+="re";K6H+="po";K6H+="rt";k={type:K6H};this.Ta.$q.$wb(k) && d.Ma(this.Ta,k.type,k);V90=4;break;case 2:V90=this.Ta.$q?1:4;break;}}};h.prototype.Nhb=function(){var W90,k;W90=2;for(;W90 !== 5;){switch(W90){case 2:var v6H="as";v6H+="er";v6H+="epo";v6H+="rte";v6H+="nabled";k={type:v6H};d.Ma(this.Ta,k.type,k);W90=5;break;}}};h.prototype.Xhb=function(k){var N2H=a000;var X90,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,M;X90=2;for(;X90 !== 6;){switch(X90){case 1:var V6H="hi";V6H+="nd";V6H+="sightrep";V6H+="o";V6H+="rt";(n={type:V6H},p=this.Ta.G.X2);for(M in p){var m6H="h";m6H+="v";m6H+="m";m6H+="afd";m6H+="p";var O6H="h";O6H+="v";O6H+="mafg";O6H+="r";var T6H="hv";T6H+="ma";T6H+="f";T6H+="tb";var o6H="ht";o6H+="w";o6H+="b";o6H+="r";q=p[M];t=0;u=0;w=0;v=0;x=0;y=0;z=void 0;B=void 0;A=!1;E=-1;D=-1;F=-1;C=-1;G=-1;H=-1;for(J in k){B=k[J];void 0 === B.nd && (z=(z=B.sols) && z[q]) && (A=!0,w+=z.dlvdur,t+=z.dltwbr * z.dlvdur,u+=z.dlvmaf * z.dlvdur);y+=B.pbdur;v+=B.pbtwbr * B.pbdur;x+=B.pbvmaf * B.pbdur;z=B.rr;B=B.ra;}0 < y && (E=1 * v / y,C=1 * x / y);A && (0 < w && (D=1 * t / w,G=1 * u / w),0 < w + y && (F=1 * (t + v) / (w + y),H=1 * (u + x) / (w + y)));switch(q){case o6H:n.htwbr=F;n.hptwbr=D;n.pbtwbr=E;z && (n.rr=z,n.ra=B);break;case T6H:n.hvmaftb=H;n.hpvmaftb=G;n.pbvmaftb=C;z && (n.rrvmaftb=z,n.ravmaftb=B);break;case O6H:n.hvmafgr=H;n.hpvmafgr=G;n.pbvmafgr=C;z && (n.rrvmafgr=z,n.ravmafgr=B);break;case m6H:(n.hvmafdp=H,n.hpvmafdp=G,n.pbvmafdp=C,z && (n.rrvmafdp=z,n.ravmafdp=B));}}X90=4;break;case 3:n.report=k;X90=9;break;case 4:X90=this.Ta.TR || this.Ta.rv?3:9;break;case 9:X90=this.Ta.rv?8:7;break;case 7:d.Ma(this.Ta,n.type,n);X90=6;break;case 2:X90=k?1:6;break;case 8:for(var I in k){if((p=k[I],void 0 !== p.y3a))for(q in p.y3a){if((z=p.y3a[q],void 0 !== z.q7)){var S6H=" ";S6H+="a";S6H+="n";S6H+="d";S6H+=" ";var h6H="expect sol.strmsel.length === sol.f";h6H+="rag";h6H+="sel.length but got";h6H+=" ";var A6H="ex";A6H+="pect";A6H+=" report.fra";A6H+="gmentsPrebuffered !== undefined";var M6H="e";M6H+="xpect report.f";M6H+="ragm";M6H+="entsPrebuffered !== unde";M6H+="fined";M=void 0 !== p.rRa;M || (console.error(M6H),f.assert(M,A6H));M=[];for(var N in p.rRa){t=p.rRa[N];M.push({$:t.$,Nl:t.duration / 1E3,quality:t.mb});}M=z.q7.length === z.sRa.length;t=h6H + z.q7.length + S6H + z.sRa.length;M || (console.error(t),f.assert(M,t));M=[];t=0;for(var K in z.q7){w=z.q7[K];u=z.sRa[K];N2H.p2Y(2);t=w=N2H.H2Y(w,t);M.push({c9b:w,B9b:z.HPa[K],G5b:z.Ha[K],Lea:z.Lea[K],Kea:z.Kea[K],pMa:z.pMa[K],d5b:{$:u.$,Nl:u.duration / 1E3,quality:u.mb?u.mb:z.Cd[w].mb,h9b:u.$f,e5b:u.Ag},K0a:0,I8b:0,hoa:z.hoa[K]});}z=[];M=0;for(var O in p.Ty.trace){t=p.Ty.trace[O];N2H.p2Y(2);M=t=N2H.H2Y(t,M);z.push(t);}}}}X90=7;break;}}};h.prototype.Thb=function(k){var Y90;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var G6H="e";G6H+="n";G6H+="dOfStr";G6H+="e";G6H+="am";k={type:G6H,mediaType:k};d.Ma(this.Ta,k.type,k);Y90=5;break;}}};l90=44;break;case 44:h.prototype.Dm=function(k){var Z90;Z90=2;for(;Z90 !== 1;){switch(Z90){case 2:var U6H="as";U6H+="eexc";U6H+="eption";var B6H="as";B6H+="eexcept";B6H+="i";B6H+="on";this.Ta.emit(B6H,{type:U6H,msg:k});Z90=1;break;}}};h.prototype.yKb=function(k,n,p,q){var a01;a01=2;for(;a01 !== 5;){switch(a01){case 2:var H6H="ma";H6H+="xv";H6H+="i";H6H+="deo";H6H+="bitratechanged";var g6H="maxvideob";g6H+="itratechange";g6H+="d";k={type:g6H,time:m.default.time.ba(),spts:q,maxvb_old:k,maxvb:n,reason:p};this.Ta.emit(H6H,k);a01=5;break;}}};h.prototype.bZa=function(){var b01,k;b01=2;for(;b01 !== 3;){switch(b01){case 1:var w6H="strea";w6H+="m";w6H+="er";w6H+="en";w6H+="d";this.Ojb=!0;k={type:w6H,time:m.default.time.ba()};d.Ma(this.Ta,k.type,k);b01=3;break;case 2:b01=!this.Ojb && this.Ta.G.ZYa?1:3;break;}}};h.prototype.FKb=function(k){var c01;c01=2;for(;c01 !== 5;){switch(c01){case 2:var a6H="stream";a6H+="SelectionAugme";a6H+="ntData";k={type:a6H,augmentData:k,fragmentIndex:k[0].Eg};d.Ma(this.Ta,k.type,k);c01=5;break;}}};l90=40;break;case 40:h.prototype.Gl=function(k){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var N6H=",";N6H+=" ";var p6H="m";p6H+="a";p6H+="nagerd";p6H+="ebu";p6H+="gevent";k={type:p6H,message:"@" + m.default.time.ba() + N6H + k};d.Ma(this.Ta,k.type,k);d01=5;break;}}};return h;break;}}function h(k,n){var m90;m90=2;for(;m90 !== 4;){switch(m90){case 2:var l6H="1SI";l6H+="YbZr";l6H+="NJCp";l6H+="9";this.Ta=k;this.u=n;l6H;m90=4;break;}}}})();b.vBa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.dya=void 0;c=a(0);r=a(17);g=c.__importStar(a(8));a(5);a(235);l=a(250);m=a(408);d=a(96);a(399);a(413);f=a(123);h=c.__importDefault(a(28));a(247);k=a(982);n=c.__importDefault(a(121));a(16);p=c.__importDefault(a(3));a(179);a(420);a(419);a(95);q=p.default.Promise;t=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");u=p.default.oH;w=t.trace.bind(t);a.trace.bind(a);v=t.warn.bind(t);x=t.error.bind(t);y=t.info.bind(t);a=(function(z){var e01;e01=2;for(;e01 !== 39;){switch(e01){case 2:c.__extends(B,z);Object.defineProperties(B.prototype,{cache:{get:function(){var i01;i01=2;for(;i01 !== 1;){switch(i01){case 2:return this.zf;break;}}},enumerable:!1,configurable:!0}});B.prototype.iub=function(){var j01;j01=2;for(;j01 !== 5;){switch(j01){case 2:this.flush();this.KHa();j01=5;break;case 3:this.flush();this.KHa();j01=6;break;j01=5;break;}}};B.prototype.a8=function(A){var k01;k01=2;for(;k01 !== 5;){switch(k01){case 2:this.il=A;this.fu.forEach(function(){});k01=5;break;}}};B.prototype.Ko=function(A,E,D){var l01,F,C;l01=2;for(;l01 !== 9;){switch(l01){case 5:for(var G in F){F.hasOwnProperty(G) && !1 === F[G] && (C=!1);}l01=4;break;case 2:(F=this.QD,C=A);l01=1;break;case 1:l01=(F[E]=A)?5:4;break;case 4:D && delete F[E];C?(this.jZ=!1,this.rhb()):this.jZ=!0;l01=9;break;case 6:l01=(F[E]=A)?0:5;break;l01=(F[E]=A)?5:4;break;}}};e01=9;break;case 6:B.prototype.JHb=function(A,E){var p01,D,F;p01=2;for(;p01 !== 5;){switch(p01){case 2:(D=this,F=this.IHb(A));return F || !this.$i?q.resolve(F):(this.xD?this.nhb(A,E):this.mhb(A,E)).then(function(C){var q01;q01=2;for(;q01 !== 1;){switch(q01){case 4:return D.g0a(C);break;q01=1;break;case 2:return D.g0a(C);break;}}});break;}}};B.prototype.IHb=function(A){var r01;r01=2;for(;r01 !== 1;){switch(r01){case 2:return this.g0a(this.zf[A]);break;}}};B.prototype.$Qa=function(){function A(H){var t01;t01=2;for(;t01 !== 1;){switch(t01){case 2:H.eNa();t01=1;break;case 4:H.eNa();t01=7;break;t01=1;break;}}}function E(H,J){var u01;u01=2;for(;u01 !== 1;){switch(u01){case 2:H && H.data && H.data[J].forEach(function(I){var v01;v01=2;for(;v01 !== 5;){switch(v01){case 2:I.abort();D+=I.bytesReceived;v01=5;break;}}});u01=1;break;}}}var s01,D,F,C;s01=2;for(;s01 !== 4;){switch(s01){case 2:D=0;for(F in this.zf){C=this.zf[F];if(C.data){for(var G in C.data){var y6H="i";y6H+="n";y6H+=" en";y6H+="try";y6H+=":";var k6H="missing he";k6H+="aderEntry ";k6H+="for streamId:";C.headers[G] || x(k6H,G,y6H,C);E(C,G);C.data[G].forEach(A);delete C.data[G];}delete C.data;}}this.jjb(D);s01=4;break;}}};B.prototype.my=function(A){var w01,E;w01=2;for(;w01 !== 5;){switch(w01){case 2:E=this.zf[A.H];E && (this.Ac(A)?g.ea(E.rd.sDb) && !g.ea(A.loadTime) && (E.rd.sDb=A.loadTime):g.ea(E.rd.P5) && !g.ea(A.loadTime) && (E.rd.P5=A.loadTime));w01=5;break;}}};e01=11;break;case 15:B.prototype.DHa=function(A,E){var J01,D;J01=2;for(;J01 !== 8;){switch(J01){case 2:D=A.stream.mediaType;2 > this.fu.length && this.FHa();E=new m.N8(A.stream,E,this.fu[D],A,this,!0,t);E.jh=A.jh;E.ef=this;return E;break;}}};B.prototype.Nfb=function(A,E){var K01,D;K01=2;for(;K01 !== 8;){switch(K01){case 4:E.jh=A.jh;E.ef=this;return E;break;case 2:D=A.stream.mediaType;2 > this.fu.length && this.FHa();E=l.FW.create(A.stream,E,this.fu[D].track,A,this,!0,t);K01=4;break;}}};B.prototype.aZ=function(A){var L01,E;L01=2;for(;L01 !== 9;){switch(L01){case 3:var i6H="sav";i6H+="etodi";i6H+="sk";E && 0 === E.AUa && 0 === E.zR && (this.yjb(E,A.yd),E.jh && this.$i && (E.rd.J7b || (this.xD?this.$i.RRb(E):this.$i.UM(i6H,{b2a:E.rd.jr}))));L01=9;break;case 2:this.Ac(A) && delete this.AZ[A.Fa];this.Ac(A) || delete A.response;A.kc();E=this.zf[A.H] || A.El;L01=3;break;}}};B.prototype.xhb=function(A,E,D){var M01,C,F;M01=2;for(;M01 !== 8;){switch(M01){case 5:M01=0 < F?4:3;break;case 3:C=D && D.length < A.LOa?D.length:A.LOa;return function(G){var s8H=a000;var O01;O01=2;for(;O01 !== 1;){switch(O01){case 4:s8H.a2Y(17);return s8H.w2Y(C,G);break;O01=1;break;case 2:s8H.p2Y(18);return s8H.w2Y(C,G);break;}}};break;case 2:F=A.U0;E.jh && this.$i && (A.RXa?F=A.RXa:A.CXa && 0 < A.CXa && (F=2E3 * A.CXa));M01=5;break;case 4:return function(G,H){var r8H=a000;var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:r8H.a2Y(18);return r8H.w2Y(F,H);break;case 4:r8H.p2Y(19);return r8H.w2Y(H,F);break;N01=1;break;}}};break;}}};B.prototype.$ca=function(A,E){var P01,J,I,K,O,D,F,C,G,N,M,H;P01=2;for(;P01 !== 53;){switch(P01){case 42:var f6H="und";f6H+="efi";f6H+="ne";f6H+="d";g.ea(H.qn) && (H.qn=M.V);M.jh && (M.responseType=0);A.jh && this.$i && A.LT && A.LT[F] && f6H !== typeof M.V && A.LT[F][M.V] || (K=this.Nfb(M,A.Wb),K.jh && (K.El=A.El),K.ny(),++H.zR,E.push(K));P01=39;break;case 6:P01=void 0 === H.qn?14:12;break;case 11:A.mediaType === h.default.jb.Pb && G.Oj && !G.gA && C.ae && (E=Math.max(C.Y && C.Y.Hi(0) || 0,E + C.ae.X));(J=A.stream.Y,I=J && J.sm(E));P01=20;break;case 30:P01=!g.ea(J) && !M.wa?29:42;break;case 43:++K;P01=28;break;case 22:D=this.xhb(G,A,J);N=C=0;(K=M && M.mediaType,O=K === h.default.jb.Bb?G.I4:G.C4);P01=34;break;case 2:(D=A.H,F=A.Fa,C=A.stream,G=A.Wb);P01=1;break;case 32:P01=(void 0 === M && (M=A.stream.Zh(I)),void 0 !== M)?31:36;break;case 5:this.zI.push({rDb:A,cd:E});P01=4;break;case 4:P01=this.zI.length > G.eka?3:53;break;case 19:var Z6H="no proper fragme";Z6H+="nt found";Z6H+=" to request data at pts";x(Z6H,E);P01=53;break;case 29:a000.a2Y(2);K=a000.w2Y(1,I);P01=28;break;case 26:var L6H="man";L6H+="age";L6H+="rdebugeven";L6H+="t";var R6H=",";R6H+=" ";R6H+="startP";R6H+="ts: ";var F6H=",";F6H+=" ";F6H+="pts:";F6H+=" ";var e6H=", s";e6H+="tre";e6H+="am";e6H+="Id:";e6H+=" ";var W6H=", headerCache r";W6H+="equestData: ";W6H+="mo";W6H+="vieId: ";G.Ch && (E="@" + p.default.time.ba() + W6H + D + e6H + F + F6H + E + R6H + M.V,this.emit(L6H,{message:E}));P01=25;break;case 20:P01=-1 === I || void 0 === I?19:18;break;case 34:G=K === h.default.jb.Bb?G.wJb:G.qJb;P01=33;break;case 14:H.Mga=A;P01=13;break;case 13:return;break;case 17:P01=!g.ea(M)?16:25;break;case 16:M.jh=A.jh;N=M.K1(E);N && (M.mediaType === h.default.jb.Pb && !G.x4 && N.cd < (G.Oj && !G.gA && C.ae?Math.floor(C.ae.X):0) && (++N.Yk,N.cd+=M.xa.X),0 < N.Yk && M.mh({start:N.Yk}));P01=26;break;case 28:P01=K < J.length && (M.$ < O || M.duration < G)?44:42;break;case 12:E=H.qn;P01=11;break;case 18:M=A.stream.Zh(I);P01=17;break;case 3:this.zI.shift();P01=4;break;case 7:P01=A.mediaType === h.default.jb.Pb?6:11;break;case 8:P01=H?7:53;break;case 37:M=void 0;P01=36;break;case 25:void 0 === H.data && (H.data={});void 0 === H.data[F] && (H.data[F]=[]);E=H.data[F];P01=22;break;case 31:M.jh=A.jh;P01=30;break;case 9:H=this.zf[D] || A.El;P01=8;break;case 44:(M.Wda(J.get(K)),M.yB=K + 1,I=K);P01=43;break;case 33:P01=I < (J && J.length || 0) && !D(N,C)?32:54;break;case 39:++N;C+=M.duration;P01=37;break;case 1:P01=this.jZ?5:9;break;case 36:++I;P01=33;break;case 54:H.Mga && !g.ea(H.qn) && (A=H.Mga,delete H.Mga,this.$ca(A,H.qn));P01=53;break;}}};B.prototype.Zeb=function(A){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 2:this.fHa(A,A.El);Q01=1;break;}}};e01=22;break;case 11:B.prototype.ck=function(A){var x01;x01=2;for(;x01 !== 1;){switch(x01){case 2:this.Ac(A)?this.WLb(A):this.XLb(A);x01=1;break;}}};B.prototype.qU=function(A){var y01;y01=2;for(;y01 !== 5;){switch(y01){case 2:var x6H="_on";x6H+="E";x6H+="rror:";x6H+=" ";v(x6H,A.toString());this.aZ(A);y01=5;break;}}};B.prototype.WLb=function(A){var z01,E;z01=2;for(;z01 !== 9;){switch(z01){case 2:E=this;A.XVb=A.yd;this.Zeb(A);g.ea(A.qDb) || A.qDb(A.XVb);z01=3;break;case 3:this.njb(A,function(){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 2:g.ea(A) || (g.ea(A.El) || A.El.AUa--,E.aZ(A));A01=1;break;}}});z01=9;break;}}};B.prototype.XLb=function(A){var B01,C,E,D,F;B01=2;for(;B01 !== 8;){switch(B01){case 4:C=p.default.time.now();this.$i.PRb(A,F,function(G){var C01;C01=2;for(;C01 !== 4;){switch(C01){case 2:G || g.ea(F) || (G=p.default.time.ba() - C,g.ea(F.rd) && (F.rd={}),g.ea(F.rd.jr) && (F.rd.jr=0),F.rd.jr+=G);--F.zR;E.aZ(A);C01=4;break;}}});B01=8;break;case 2:(E=this,D=A.H,F=this.zf[D] || A.El);B01=1;break;case 1:B01=F?5:8;break;case 5:var J6H="m";J6H+="a";J6H+="nagerd";J6H+="ebugevent";var D6H=", ";D6H+="r";D6H+="emai";D6H+="ning: ";var z6H=",";z6H+=" ";z6H+="pts:";z6H+=" ";var I6H=", ";I6H+="strea";I6H+="mI";I6H+="d:";I6H+=" ";var X6H=", headerCac";X6H+="he dataComplete: movieId";X6H+=":";X6H+=" ";B01=(this.dn.Ch && (D="@" + p.default.time.ba() + X6H + D + I6H + A.Fa + z6H + A.V + D6H + (F.zR - 1),this.emit(J6H,{message:D})),A.jh && 0 === A.responseType && this.$i && !this.xD)?4:9;break;case 9:(--F.zR,E.aZ(A));B01=8;break;}}};B.prototype.FHa=function(){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 2:0 === this.fu.length && (this.fu=[f.ko.instance.Yr(0,void 0,!1,!1,this.il,this.dn),f.ko.instance.Yr(1,void 0,!1,!1,this.il,this.dn)],this.fu.forEach(function(A){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 4:return A.Wa();break;E01=1;break;case 2:return A.Wa();break;}}}),u.bf());D01=1;break;}}};B.prototype.KHa=function(){var F01,A;F01=2;for(;F01 !== 4;){switch(F01){case 2:A=this.fu;this.fu=[];A.forEach(function(E){var G01;G01=2;for(;G01 !== 1;){switch(G01){case 2:f.ko.instance.UJ(E);G01=1;break;}}});F01=4;break;}}};B.prototype.rhb=function(){var H01,A;H01=2;for(;H01 !== 5;){switch(H01){case 2:A=this;!this.jZ && 0 < this.zI.length && (this.zI.forEach(function(E){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:A.$ca(E.rDb,E.cd);I01=1;break;}}}),this.zI=[]);H01=5;break;}}};e01=15;break;case 9:B.prototype.flush=function(){var m01,E;m01=2;for(;m01 !== 8;){switch(m01){case 2:this.$Qa();for(var A in this.AZ){E=this.AZ[A];E.abort();}this.zf=Object.create(null);this.rD=0;m01=3;break;case 3:var E3H="manag";E3H+="er";E3H+="d";E3H+="ebugeven";E3H+="t";var s3H=", header";s3H+="C";s3H+="ache flush: ";this.gn=[];this.dn.Ch && (E="@" + p.default.time.ba() + s3H,this.emit(E3H,{message:E}));m01=8;break;}}};B.prototype.list=function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 2:return this.gn;break;}}};B.prototype.BT=function(A,E){var o01;o01=2;for(;o01 !== 4;){switch(o01){case 2:o01=(A=this.zf[A])?1:4;break;case 1:o01=(E=A.headers[E])?5:4;break;case 5:return E;break;}}};e01=6;break;case 34:B.prototype.hjb=function(A){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:var b3H="d";b3H+="isc";b3H+="a";b3H+="rd";b3H+="edBytes";0 !== A && (A={type:b3H,bytes:A},this.emit(A.type,A));V01=1;break;}}};B.prototype.jjb=function(A){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:var r3H="fl";r3H+="u";r3H+="shed";r3H+="Bytes";0 !== A && (A={type:r3H,bytes:A},this.emit(A.type,A));W01=1;break;}}};B.prototype.gjb=function(A){var X01;X01=2;for(;X01 !== 5;){switch(X01){case 2:var C3H="ca";C3H+="c";C3H+="h";C3H+="eEvict";A={type:C3H,movieId:A};this.emit(A.type,A);X01=5;break;}}};B.prototype.njb=function(A,E){var Y01,D;Y01=2;for(;Y01 !== 3;){switch(Y01){case 2:D=A.Wb;g.ea(A.aRb) || this.$ca(A,A.aRb);!this.$i || !A.jh || this.xD || g.ea(A.LT) || A.LT[A.Fa] && A.LT[A.Fa].header?E():this.$i.QRb(A,E);D.c8 || 0 !== Object.keys(this.AZ).length || this.KHa();Y01=3;break;}}};e01=30;break;case 43:B.prototype.d0a=function(A,E){var j11;j11=2;for(;j11 !== 1;){switch(j11){case 4:return E.priority / A.priority;break;j11=1;break;case 2:return E.priority - A.priority;break;}}};e01=42;break;case 30:B.prototype.yjb=function(A,E){var Z01;Z01=2;for(;Z01 !== 4;){switch(Z01){case 2:var Y3H="preb";Y3H+="uffstat";Y3H+="s";A.rd.Hoa=E;A={type:Y3H,movieId:A.H,stats:{prebuffstarted:A.rd.P5,prebuffcomplete:A.rd.Hoa}};this.emit(A.type,A);Z01=4;break;}}};B.prototype.nhb=function(A,E){var a11,D;a11=2;for(;a11 !== 5;){switch(a11){case 2:var d3H="Medi";d3H+="a cache is not enab";d3H+="led";D=this;return this.$i?this.$i.kHb(A,E).then(function(F){var b11;b11=2;for(;b11 !== 5;){switch(b11){case 2:b11=F && F.El?1:5;break;case 1:return (D.zf[A]=F.El,++D.rD,D.Dba(),D.gn.push(F.El),D.gn.sort(D.d0a),D.gHa(A,F),D.cache[A]);break;}}}):q.reject(d3H);break;}}};B.prototype.mhb=function(A,E){var c11,F,C,D;c11=2;for(;c11 !== 8;){switch(c11){case 5:(F=void 0,C=!1);this.$i.IVa(this.zf[A])?(F=q.resolve(this.zf[A]),C=!0):F=this.$i.nHb(A);c11=3;break;case 2:D=this;c11=1;break;case 1:c11=this.$i?5:9;break;case 9:var q3H="Medi";q3H+="a c";q3H+="ac";q3H+="he i";q3H+="s not enabled";return q.reject(q3H);break;case 3:return F.then(function(G){var d11;d11=2;for(;d11 !== 1;){switch(d11){case 2:return !g.ea(G) && D.$i?D.$i.jHb(A,E,G).then(function(H){var e11;e11=2;for(;e11 !== 5;){switch(e11){case 2:H && (C || (D.zf[A]=G,++D.rD,D.Dba(),D.gn.push(G),D.gn.sort(D.d0a)),D.gHa(A,H));return D.zf[A];break;}}}):q.resolve(void 0);break;}}});break;}}};B.prototype.gHa=function(A,E){var f11,D,F,C,G;f11=2;for(;f11 !== 7;){switch(f11){case 1:f11=E?5:7;break;case 2:D=this;f11=1;break;case 5:(F=this.zf[A],C=E.headers);F && C && Object.keys(C).forEach(function(H){var g11;g11=2;for(;g11 !== 1;){switch(g11){case 4:D.Yeb(C[H],F);g11=8;break;g11=1;break;case 2:D.Yeb(C[H],F);g11=1;break;}}});f11=3;break;case 3:f11=E.data?9:7;break;case 9:G=E.data;Object.keys(G).forEach(function(H){var h11,J,I;h11=2;for(;h11 !== 9;){switch(h11){case 2:J=G[H];g.ea(F.data) && (F.data={});g.ea(F.data[H]) && (F.data[H]=[]);I=F.data;h11=3;break;case 3:J.forEach(function(M){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:I[H].push(M);i11=1;break;}}});h11=9;break;}}});f11=7;break;}}};e01=43;break;case 22:B.prototype.Yeb=function(A,E){var R01;R01=2;for(;R01 !== 1;){switch(R01){case 4:this.fHa(A,E);R01=5;break;R01=1;break;case 2:this.fHa(A,E);R01=1;break;}}};B.prototype.fHa=function(A,E){var S01,D;S01=2;for(;S01 !== 4;){switch(S01){case 2:D=A.Fa;S01=1;break;case 1:S01=(E=this.zf[A.H] || E)?5:4;break;case 5:(E.klb || E.jh && !this.xD || (E.klb=!0,++this.rD),E.headers || (E.headers={}),E.headers[D]=A,this.dn.oha && (E.UK || (E.UK=0),++E.UK),this.Dba());S01=4;break;}}};B.prototype.Dba=function(){function A(G){var U01;U01=2;for(;U01 !== 5;){switch(U01){case 2:G.abort();U01=1;break;case 1:D+=G.bytesReceived;U01=5;break;}}}var T01,E,D,F;T01=2;for(;T01 !== 12;){switch(T01){case 8:for(var C in E.data){E.data[C].forEach(A);delete E.data[C];}T01=7;break;case 1:T01=!(this.rD <= this.OIa)?5:12;break;case 2:D=0;T01=1;break;case 5:T01=this.rD > this.OIa?4:13;break;case 3:F=E.H;T01=9;break;case 4:T01=(E=this.gn.shift())?3:5;break;case 14:this.gjb(F);T01=5;break;case 13:this.hjb(D);T01=12;break;case 9:T01=E.data?8:7;break;case 7:delete this.zf[F];--this.rD;T01=14;break;}}};e01=34;break;case 42:B.prototype.g0a=function(A){var k11,F,E,D;k11=2;for(;k11 !== 11;){switch(k11){case 1:k11=A && A.data?5:11;break;case 5:for(D in A.data){F=A.data[D];0 < F.length && (E[F[0].mediaType]={Fa:D,header:A.headers[D],data:F});}E.qn=A.qn;E.UK=A.UK;k11=9;break;case 2:E={};k11=1;break;case 6:E.dB=A.dB;E.Gn=A.Gn;E.Hn=A.Hn;k11=12;break;case 9:E.rd=A.rd;E.Bu=A.Bu;E.Nx=A.Nx;k11=6;break;case 12:return E;break;}}};B.prototype.Ac=function(A){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 4:return - ~A.Ac;break;l11=1;break;case 2:return ! !A.Ac;break;}}};return B;break;}}function B(A,E,D,F){var f01;f01=2;for(;f01 !== 25;){switch(f01){case 7:A.zf=Object.create(null);A.rD=0;A.gn=[];A.OIa=E.V0;f01=12;break;case 16:var u3H="1SIYb";u3H+="Z";u3H+="rN";u3H+="JCp";u3H+="9";A.wda && (A.dn.IR || (E=(p.default.options || ({})).GL || 0,A.dn.set?A.dn.set({IR:E}):A.dn.IR=(p.default.options || ({})).GL || 0),A.$i=new k.IAa(A.dn,p.default,A),A.$i.Wa(A,F).then(function(){var g01;g01=2;for(;g01 !== 1;){switch(g01){case 2:var t3H="Media c";t3H+="ache ini";t3H+="tialized";w(t3H);g01=1;break;}}}).catch(function(C){var h01;h01=2;for(;h01 !== 1;){switch(h01){case 2:var n3H="Media c";n3H+="ache did no";n3H+="t in";n3H+="it";n3H+="ialize";x(n3H,C);h01=1;break;}}}));A.il=D;u3H;return A;break;case 2:A=z.call(this) || this;A.Ck=w;A.Af=x;A.ub=v;A.k4b=y;A.AZ=Object.create(null);A.dn=E;f01=7;break;case 20:A.QD={};A.wda=(A.dn.Esa || A.dn.Fsa) && 0 < (A.dn.IR || (p.default.options || ({})).GL || 0);A.xD=A.dn.Sma;A.$i=void 0;f01=16;break;case 12:A.fu=[];A.jZ=!1;A.zI=[];f01=20;break;}}}})(d.Hv);b.dya=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.IAa=void 0;c=a(0);g=a(17);l=c.__importStar(a(983));m=c.__importStar(a(8));a(5);d=a(250);f=a(9);r=a(39);h=c.__importStar(a(994));k=h.Zza;a=(function(){var m11;m11=2;for(;m11 !== 18;){switch(m11){case 5:n.prototype.jHb=function(p,q,t){var y11,u,w;y11=2;for(;y11 !== 9;){switch(y11){case 6:y11=-this.Hr?3:8;break;y11=!this.Hr?5:4;break;case 1:y11=!this.Hr?5:4;break;case 2:u=this;y11=1;break;case 5:var P3H="Media cach";P3H+="e is not enable";P3H+="d";return Promise.reject(P3H);break;case 4:w=this.en.time.ba();return this.Hr.then(function(){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:return new Promise(function(v){var A11;A11=2;for(;A11 !== 1;){switch(A11){case 2:u.cn.MU(k.Vp,p,function(x){var B11;B11=2;for(;B11 !== 5;){switch(B11){case 2:x=x.reduce(function(y,z){var C11,B;C11=2;for(;C11 !== 9;){switch(C11){case 1:var Q3H="drm";Q3H+="Hea";Q3H+="der";Q3H+=".__embed__";C11=-1 !== B.indexOf(Q3H)?5:4;break;case 2:B=z.substr(0,z.lastIndexOf("."));C11=1;break;case 6:var c3H="d";c3H+="r";c3H+="mH";c3H+="eade";c3H+="r.__embed__";C11=+4 != B.indexOf("")?0:5;break;C11=-1 !== B.indexOf(c3H)?5:4;break;case 5:return y;break;case 4:y[B]?y[B].push(z):y[B]=[z];return y;break;}}},{});u.fPb(x,q).then(function(y){var D11,z,B;D11=2;for(;D11 !== 8;){switch(D11){case 2:D11=void 0 === t || void 0 === y?1:5;break;case 1:return v();break;case 5:var K3H="mediacac";K3H+="he";K3H+="lookup";var j3H="No content data fou";j3H+="nd for";j3H+=" ";(z=u.en.time.ba() - w,B=!1);m.ea(y) || m.ea(y.data) || !m.Ff(y.data)?u.u.trace(j3H + p,t):B=!0;u.UM(K3H,{h4:z,N0:B});D11=9;break;case 9:v(y);D11=8;break;}}},function(){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:v();E11=1;break;}}});B11=5;break;}}});A11=1;break;}}});break;}}});break;}}};n.prototype.kHb=function(p,q){var F11,t,u;F11=2;for(;F11 !== 5;){switch(F11){case 2:(t=this,u=this.en.time.ba());return this.Hr.then(function(){var G11;G11=2;for(;G11 !== 1;){switch(G11){case 4:return t.fhb(p);break;G11=1;break;case 2:return t.fhb(p);break;}}}).then(function(w){var H11;H11=2;for(;H11 !== 5;){switch(H11){case 4:var v3H="media";v3H+="cac";v3H+="helookup";t.UM(v3H,{h4:t.en.time.ba() - u,N0:!1});H11=5;break;case 1:return t.$ib(p.toString(),q,u);break;case 2:H11=w?1:4;break;}}});break;}}};n.prototype.QRb=function(p,q){var I11,t,u,w,v,x,y;I11=2;for(;I11 !== 13;){switch(I11){case 2:(t=this,u=[p.H,p.Fa,k.W$a].join("."),w=this.en.time.ba(),v=h.BSa(p),x={});x[u + "." + k.w$]={Ep:v,Zd:k.MC};x[u + "." + k.vab]={Ep:f.wA(p.Gh.map(function(z){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:return z.data;break;}}})),Zd:k.MC};I11=4;break;case 3:v={timescale:p.stream.Y.U,startTicks:p.stream.Y.Ol,offset:p.stream.Y.eh(0)};y=p.stream.Y.cN;x[u + "." + k.pxa]={Ep:v,Zd:k.MC};x[u + "." + k.N$a]={Ep:y.sizes.buffer,Zd:k.MC};I11=6;break;case 6:x[u + "." + k.M$a]={Ep:y.Vd.buffer,Zd:k.MC};I11=14;break;case 4:I11=p.stream.te && !m.ea(p.stream.Y)?3:14;break;case 14:this.cn.a2a(k.Vp,x,function(z){var K11;K11=2;for(;K11 !== 5;){switch(K11){case 2:z || (z=t.en.time.ba() - w,p.El && (m.ea(p.El.rd.jr) && (p.El.rd.jr=0),p.El.rd.jr+=z));q();K11=5;break;}}});I11=13;break;}}};n.prototype.PRb=function(p,q,t){var L11,u,w,v,x,y;L11=2;for(;L11 !== 14;){switch(L11){case 1:L11=w instanceof ArrayBuffer?5:6;break;case 2:(u=this,w=p.response);L11=1;break;case 9:y[x + "." + k.w$]={Ep:p,Zd:k.MC};m.ea(w) || (y[x + "." + k.Cbb]={Ep:w,Zd:k.MC});this.cn.a2a(k.Vp,y,function(z){var M11;M11=2;for(;M11 !== 5;){switch(M11){case 2:var V3H="Fa";V3H+="iled to";V3H+=" save ";V3H+="fragment";z?u.u.warn(V3H,z):(z=u.en.time.ba() - v,m.ea(q.rd.jr) && (q.rd.jr=0),q.rd.jr+=z);t();M11=5;break;}}});L11=14;break;case 5:(v=this.en.time.ba(),x=[p.H,p.Fa,p.Sb].join("."));p=h.cja(p);y={};L11=9;break;case 6:var o3H="Unable to save fragment becaus";o3H+="e response is not an Array";o3H+="Buffer";t(Error(o3H));L11=14;break;}}};m11=8;break;case 8:n.prototype.RRb=function(p){var N11,z,B,A,P11,F,C,E,D,Q11,G,H,J,I,R11,S11,T11,U11,V11,W11,q,t,u,w,v,x,y;N11=2;for(;N11 !== 20;){switch(N11){case 8:N11=p && p.data?7:12;break;case 4:z={};Object.keys(p.headers).forEach(function(N){var O11,K;O11=2;for(;O11 !== 5;){switch(O11){case 2:K=h.xSa(p.headers[N]);z[N]=K;O11=5;break;}}});N11=9;break;case 5:N11=p.headers?4:8;break;case 13:x.data=y;N11=12;break;case 7:y={};(B=p.data,A=Object.keys(p.data));try{P11=2;for(;P11 !== 6;){switch(P11){case 5:(F=D.value,C=B[F]);A={};P11=3;break;case 1:P11=!D.done?5:6;break;case 3:P11=C?9:7;break;case 2:(E=c.__values(A),D=E.next());P11=1;break;case 7:D=E.next();P11=1;break;case 9:try{Q11=2;for(;Q11 !== 7;){switch(Q11){case 2:(G=(t=void 0,c.__values(C)),H=G.next());Q11=1;break;case 1:Q11=!H.done?5:7;break;case 5:J=H.value;Q11=4;break;case 9:A[J.Sb]={mediaType:I.mediaType,streamId:I.streamId,movieId:I.movieId,bitrate:I.bitrate,location:I.location,serverId:I.serverId,saveToDisk:I.saveToDisk,offset:I.offset,bytes:I.bytes,timescale:I.timescale,startTicks:I.startTicks,durationTicks:I.durationTicks,response:J.response};Q11=8;break;case 3:I=h.cja(J);Q11=9;break;case 8:H=G.next();Q11=1;break;case 4:Q11=J instanceof d.FW && J.response instanceof ArrayBuffer && !m.ea(J.Sb)?3:8;break;}}}catch(N){t={error:N};}finally{R11=2;for(;R11 !== 1;){switch(R11){case 2:try{S11=2;for(;S11 !== 1;){switch(S11){case 2:H && !H.done && (u=G.return) && u.call(G);S11=1;break;}}}finally{T11=2;for(;T11 !== 5;){switch(T11){case 3:T11=t?5:8;break;T11=t?1:5;break;case 2:T11=t?1:5;break;case 1:throw t.error;T11=5;break;}}}R11=1;break;}}}P11=8;break;case 8:y[F]=A;P11=7;break;}}}catch(N){var M;M={error:N};}finally{U11=2;for(;U11 !== 1;){switch(U11){case 2:try{V11=2;for(;V11 !== 1;){switch(V11){case 2:D && !D.done && (q=E.return) && q.call(E);V11=1;break;}}}finally{W11=2;for(;W11 !== 5;){switch(W11){case 1:throw M.error;W11=5;break;case 2:W11=M?1:5;break;case 9:throw M.error;W11=8;break;W11=5;break;}}}U11=1;break;}}}N11=13;break;case 9:x.headers=z;N11=8;break;case 12:M={lifespan:259200};this.whb && (M.convertToBinaryData=!0);this.cn.save(k.Vp,p.H,x,M,function(N){var X11;X11=2;for(;X11 !== 1;){switch(X11){case 2:var T3H="sa";T3H+="vet";T3H+="o";T3H+="di";T3H+="sk";N || w.UM(T3H,{b2a:w.en.time.ba() - v});X11=1;break;}}});N11=20;break;case 2:(w=this,v=this.en.time.ba(),x={},y=h.XSa(p));x.movieEntry=y;N11=5;break;}}};n.prototype.IVa=function(p){var Y11;Y11=2;for(;Y11 !== 1;){switch(Y11){case 2:return !(m.ea(p) || m.hb(p) || m.ea(p.rd) || m.hb(p.rd) || m.ea(p.H) || m.hb(p.H) || m.ea(p.priority) || m.hb(p.priority));break;}}};m11=6;break;case 2:n.prototype.Wa=function(p,q){var o11,t;o11=2;for(;o11 !== 4;){switch(o11){case 2:var m3H="M";m3H+="edia";m3H+=" cache is disable";m3H+="d";t=this;this.wda?this.Hr=new Promise(function(u,w){var p11;p11=2;for(;p11 !== 1;){switch(p11){case 2:(void 0 !== q && null !== q?q.YK:function(v){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 4:return l.YK(t.en,t.G,v);break;q11=1;break;case 2:return l.YK(t.en,t.G,v);break;}}})(function(v){var r11,x;r11=2;for(;r11 !== 4;){switch(r11){case 2:var O3H="Media cach";O3H+="e did ";O3H+="no";O3H+="t initialize";t.cn=v;x=v.zm;(v=v.kF)?w(v):x?(t.wTb(p),u()):w(Error(O3H));r11=4;break;}}});p11=1;break;}}}):(this.Hr=Promise.reject(m3H),this.Hr.catch(function(){}));o11=5;break;case 5:return this.Hr;break;case 7:return this.Hr;break;o11=4;break;}}};n.prototype.nHb=function(p){var s11,q,t,u;s11=2;for(;s11 !== 5;){switch(s11){case 2:(q=this,t=[k.dAa,p].join("."),u=this.en.time.ba());return this.Hr.then(function(){var t11;t11=2;for(;t11 !== 1;){switch(t11){case 2:return new Promise(function(w){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:q.cn.MU(k.Vp,t,function(v){var v11,x;v11=2;for(;v11 !== 3;){switch(v11){case 5:x=v[0];v11=4;break;case 2:v11=!v || 0 >= v.length?1:5;break;case 4:q.cn.read(k.Vp,x,function(y,z){var w11,x11,B,A;w11=2;for(;w11 !== 14;){switch(w11){case 2:var A3H=" f";A3H+="ai";A3H+="l";A3H+="ed";var M3H="R";M3H+="eading movi";M3H+="e";M3H+=" entry ";y && q.u.warn(M3H + x + A3H,y);w11=1;break;case 1:w11=!m.ea(z)?5:9;break;case 5:w11=z instanceof ArrayBuffer?4:3;break;case 4:try{x11=2;for(;x11 !== 1;){switch(x11){case 2:B=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));x11=1;break;}}}catch(E){}w11=9;break;case 9:m.ea(B) || (A=h.hja(B));w11=7;break;case 3:B={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};w11=9;break;case 7:m.ea(A) || m.hb(A) || (A.rd=A.rd || ({}),A.headers=A.headers || ({}));q.IVa(A)?w(A):(q.vjb(p),w());w11=14;break;}}});v11=3;break;case 1:var h3H="m";h3H+="ed";h3H+="iacachelookup";(w(),q.UM(h3H,{h4:q.en.time.ba() - u,N0:!1}));v11=3;break;}}});u11=1;break;}}});break;}}});break;}}};m11=5;break;case 6:n.prototype.UM=function(p,q){var Z11,t;Z11=2;for(;Z11 !== 9;){switch(Z11){case 2:var U3H="med";U3H+="i";U3H+="a";U3H+="ca";U3H+="che";var B3H="med";B3H+="iacac";B3H+="h";B3H+="elookup";var G3H="save";G3H+="todis";G3H+="k";var S3H="me";S3H+="diacac";S3H+="hesta";S3H+="t";S3H+="s";t={type:S3H,operation:p};G3H === p && (t.saveTime=q.b2a);B3H === p && (t.lookupTime=q.h4,t.dataFound=q.N0);t.oneObject=this.xD;this.lgb && this.emit(U3H,t);Z11=9;break;}}};n.prototype.fPb=function(p,q){var a21,t,u;a21=2;for(;a21 !== 5;){switch(a21){case 2:(t=this,u=Object.keys(p).map(function(w){var b21;b21=2;for(;b21 !== 1;){switch(b21){case 4:return t.$rb(p[w]);break;b21=1;break;case 2:return t.$rb(p[w]);break;}}}));return Promise.all(u).then(function(w){var c21;c21=2;for(;c21 !== 5;){switch(c21){case 2:w.sort(function(v,x){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return v.Ac === x.Ac?0:v.Ac?-1:1;break;}}});return h.ija(t.G,t.u,t.Ae,w,q);break;}}});break;}}};n.prototype.$rb=function(p){var e21,q,t,u,w;e21=2;for(;e21 !== 5;){switch(e21){case 2:(q=this,w={});return new Promise(function(v,x){var f21,y;f21=2;for(;f21 !== 5;){switch(f21){case 2:q.cn.g6(k.Vp,p,function(z,B){var g21,h21,A;g21=2;for(;g21 !== 1;){switch(g21){case 2:try{h21=2;for(;h21 !== 19;){switch(h21){case 4:h21=h.BVa(u)?3:20;break;case 20:y=h.yia(u,{response:w.response});h21=6;break;case 13:var g3H="Mis";g3H+="sing or ";g3H+="invalid header data parts ";g3H+="for stream ";return (A=g3H + y.Fa,x(A));break;case 12:v(y);h21=19;break;case 9:var H3H="He";H3H+="a";H3H+="der fragments";H3H+=" was an";H3H+=" array buffer, is invalid type ";A=H3H + y.Fa;h21=8;break;case 1:return x(z);break;case 3:h21=t instanceof ArrayBuffer?9:7;break;case 8:return x(A);break;case 2:h21=z || void 0 === B?1:5;break;case 14:h21=h.fla(y)?13:12;break;case 5:Object.keys(B).map(function(E){var i21,j21,F,D;i21=2;for(;i21 !== 3;){switch(i21){case 5:try{j21=2;for(;j21 !== 5;){switch(j21){case 2:F=new Uint8Array(B[E]);u=JSON.parse(String.fromCharCode.apply(null,F));j21=5;break;}}}catch(C){u=B[E];}i21=3;break;case 7:i21=D != k.w$?0:2;break;i21=D === k.w$?5:4;break;case 2:D=E.substr(E.lastIndexOf(".") + 1);i21=1;break;case 1:i21=D === k.w$?5:4;break;case 4:D === k.pxa?t=B[E]:w[D]=B[E];i21=3;break;}}});h21=4;break;case 10:var w3H="Missing";w3H+=" or invalid medi";w3H+="a data parts for stre";w3H+="am ";return (A=w3H + y.Fa,x(A));break;case 6:h21=y.Ac?14:11;break;case 11:h21=h.ela(y)?10:12;break;case 7:y=h.zia(u,w,t);h21=6;break;}}}catch(E){x(E);}g21=1;break;}}});f21=5;break;}}});break;}}};n.prototype.$ib=function(p,q,t){var k21,u;k21=2;for(;k21 !== 5;){switch(k21){case 2:u=this;return new Promise(function(w,v){var l21,x;l21=2;for(;l21 !== 5;){switch(l21){case 2:u.cn.read(k.Vp,p,function(y,z){var m21,r21,L,s21,Q,P,ha,va,t21,u21,v21,O,R,w21,x21,y21,C,n21,N,G,H,M,J,I,o21,p21,q21,F,B,A,E,D;m21=2;for(;m21 !== 4;){switch(m21){case 3:m21=m.ea(z)?9:8;break;case 15:var a3H="med";a3H+="iacachelooku";a3H+="p";u.UM(a3H,{h4:u.en.time.ba() - t,N0:!0});w(x);m21=4;break;case 9:w();m21=4;break;case 18:try{r21=2;for(;r21 !== 8;){switch(r21){case 5:J=R.value;L=Object.keys(K[J]);r21=3;break;case 1:r21=!R.done?5:8;break;case 3:try{s21=2;for(;s21 !== 7;){switch(s21){case 8:P=Q.next();s21=1;break;case 1:s21=!P.done?5:7;break;case 2:(Q=(E=void 0,c.__values(L)),P=Q.next());s21=1;break;case 3:var p3H="Missing or invalid";p3H+=" media dat";p3H+="a parts for stream ";return (M=p3H + va.Fa,v(M));break;case 9:z.push(va);s21=8;break;case 4:s21=h.ela(va)?3:9;break;case 5:(ha=K[J][P.value],va=h.yia(ha,ha));s21=4;break;}}}catch(S){E={error:S};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:P && !P.done && (D=Q.return) && D.call(Q);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 2:v21=E?1:5;break;case 1:throw E.error;v21=5;break;case 3:v21=E?7:6;break;v21=E?1:5;break;}}}t21=1;break;}}}r21=9;break;case 2:(O=c.__values(B),R=O.next());r21=1;break;case 9:R=O.next();r21=1;break;}}}catch(S){var la;la={error:S};}finally{w21=2;for(;w21 !== 1;){switch(w21){case 2:try{x21=2;for(;x21 !== 1;){switch(x21){case 2:R && !R.done && (A=O.return) && A.call(O);x21=1;break;}}}finally{y21=2;for(;y21 !== 5;){switch(y21){case 9:throw la.error;y21=8;break;y21=5;break;case 1:throw la.error;y21=5;break;case 2:y21=la?1:5;break;}}}w21=1;break;}}}m21=17;break;case 7:m21=F.movieEntry?6:15;break;case 10:m21=F.data?20:17;break;case 13:m21=F.headers?12:10;break;case 6:y=h.hja(F.movieEntry);z=[];m21=13;break;case 1:m21=y?5:3;break;case 12:C=Object.keys(F.headers);m21=11;break;case 5:v(y);m21=4;break;case 20:K=F.data;B=Object.keys(K);m21=18;break;case 11:try{n21=2;for(;n21 !== 12;){switch(n21){case 6:var N3H="Missing or invalid";N3H+=" hea";N3H+="d";N3H+="er data parts ";N3H+="for stream ";return (M=N3H + N.Fa,v(M));break;case 13:H=G.next();n21=1;break;case 1:n21=!H.done?5:12;break;case 8:N=h.zia(I,I,I.fragments);n21=7;break;case 2:(G=c.__values(C),H=G.next());n21=1;break;case 3:var l3H="Header fragmen";l3H+="ts was an array buffe";l3H+="r, is invalid type ";M=l3H + I.streamId;n21=9;break;case 5:(J=H.value,I=F.headers[J]);n21=4;break;case 9:return v(M);break;case 7:n21=h.fla(N)?6:14;break;case 4:n21=I.fragments instanceof ArrayBuffer?3:8;break;case 14:z.push(N);n21=13;break;}}}catch(S){var K;K={error:S};}finally{o21=2;for(;o21 !== 1;){switch(o21){case 2:try{p21=2;for(;p21 !== 1;){switch(p21){case 2:H && !H.done && (B=G.return) && B.call(G);p21=1;break;}}}finally{q21=2;for(;q21 !== 5;){switch(q21){case 1:throw K.error;q21=5;break;case 2:q21=K?1:5;break;case 3:q21=K?9:6;break;q21=K?1:5;break;}}}o21=1;break;}}}m21=10;break;case 8:F=z[p];m21=7;break;case 16:void 0 !== x && (x.El=y);m21=15;break;case 17:x=h.ija(u.G,u.u,u.Ae,z,q);m21=16;break;case 2:m21=1;break;}}});l21=5;break;}}});break;}}};n.prototype.fhb=function(p){var z21,q;z21=2;for(;z21 !== 5;){switch(z21){case 2:var k3H="Medi";k3H+="a cache i";k3H+="s not ena";k3H+="bled";q=this;return this.Hr?this.Hr.then(function(){var A21;A21=2;for(;A21 !== 1;){switch(A21){case 2:return new Promise(function(t){var B21;B21=2;for(;B21 !== 1;){switch(B21){case 2:q.cn.MU(k.Vp,p.toString(),function(u){var C21;C21=2;for(;C21 !== 1;){switch(C21){case 2:u && 0 !== u.length?1 === u.length && u[0] === p.toString()?t(!0):t(!1):t(!1);C21=1;break;}}});B21=1;break;}}});break;}}}):Promise.reject(k3H);break;}}};n.prototype.vjb=function(p){var D21,u,w;D21=2;for(;D21 !== 4;){switch(D21){case 2:(u=this,w=p.toString());this.cn.MU(k.Vp,[k.dAa,p].join("."),t);this.cn.MU(k.Vp,w,t);D21=4;break;}}function q(v){var E21;E21=2;for(;E21 !== 1;){switch(E21){case 2:u.cn.delete(k.Vp,v);E21=1;break;}}}function t(v){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:v.map(q);F21=1;break;}}}};m11=20;break;case 20:n.prototype.wTb=function(p){var G21,q;G21=2;for(;G21 !== 4;){switch(G21){case 2:var f3H="m";f3H+="e";f3H+="diac";f3H+="ache-error";var y3H="med";y3H+="iacach";y3H+="e";q=new g.sh();q.on(this.cn,y3H,function(t){var H21;H21=2;for(;H21 !== 4;){switch(H21){case 9:H21=t.keys && t.items?2:8;break;H21=t.keys || t.items?1:5;break;case 1:t.keys || t.items.map(function(u){var I21;I21=2;for(;I21 !== 1;){switch(I21){case 2:return u.key;break;case 4:return u.key;break;I21=1;break;}}});H21=5;break;case 5:var i3H="media";i3H+="cach";i3H+="e";p.emit(i3H,t);H21=4;break;case 2:H21=t.keys || t.items?1:5;break;case 7:p.emit("",t);H21=5;break;H21=4;break;}}});q.on(this.cn,f3H,function(t){var J21;J21=2;for(;J21 !== 5;){switch(J21){case 2:var W3H="m";W3H+="ediac";W3H+="ache";var Z3H="e";Z3H+="r";Z3H+="r";Z3H+="o";Z3H+="r";t.type=Z3H;p.emit(W3H,t);J21=5;break;}}});G21=4;break;}}};return n;break;}}function n(p,q,t){var n11;n11=2;for(;n11 !== 12;){switch(n11){case 7:var F3H="1S";F3H+="IYbZr";F3H+="N";F3H+="JCp9";var e3H="Media ";e3H+="cache has not b";e3H+="een initiaized";this.Ae=t;this.Hr=Promise.reject(e3H);this.Hr.catch(function(){});F3H;n11=12;break;case 2:var L3H="medi";L3H+="a|";L3H+="a";L3H+="sejs";var R3H="ME";R3H+="DIA";R3H+="CACHE";this.u=new q.Console(R3H,L3H);this.wda=(p.Esa || p.Fsa) && 0 < (p.IR || (q.options || ({})).GL || 0);this.lgb=p.Ivb?p.Ivb:!1;this.xD=p.Sma?p.Sma:!1;n11=3;break;case 3:this.whb=p.QXa?p.QXa:!1;this.G=p;this.en=q;n11=7;break;}}}})();b.IAa=a;r.hf(g.EventEmitter,a);},function(r,b,a){var c,g,l,m,d;c=a(8);l=[];d=!1;r.exports={YK:function(f,h,k){var n;if(d)c.mc(k) && (g.zm || g.kF?setTimeout(function(){k(g);},0):l.push(k));else {d=!0;n=a(125);n.$S(f);m=new n.Console("MEDIACACHE","media|asejs");g=new (a(435))(h,function(p){p && m.warn("Failed to initialize MediaCache",p);c.mc(k) && setTimeout(function(){k(g);},0);l.map(function(q){setTimeout(function(){q(g);},0);});});}return g;},e6b:function(f,h){g=new (a(435))(f,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.mc(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var g,l,m,d,f;function c(h){this.xk=h;this.context=h.context;this.VYa="NULLCONTEXT" === h.context?!0:!1;}g=a(8);l=a(125);m=new l.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,k,n,p,q){q("MediaCache is not supported");},remove:function(h,k,n){n("MediaCache is not supported");},create:function(h,k,n,p){p("MediaCache is not supported");},append:function(h,k,n,p){p("MediaCache is not supported");},query:function(h,k,n){n([]);}};c.prototype.WD=function(){var h,k,n;h=Array.prototype.slice.call(arguments);k=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.VYa)throw Error("Media Cache not supported");k.apply(this.xk,h);}catch(p){n(p);}};c.prototype.query=function(h,k,n,p){try{if(this.VYa)throw Error("Media Cache not supported");this.xk.query(h,k,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,k,n,p,q){this.WD(this.xk.read,h,k,n,p,q);};c.prototype.remove=function(h,k,n){this.WD(this.xk.remove,h,k,n);};c.prototype.create=function(h,k,n,p){this.WD(this.xk.create,h,k,n,p);};c.prototype.append=function(h,k,n,p){this.WD(this.xk.append,h,k,n,p);};c.prototype.info=function(h){this.WD(this.xk.info,h);};c.prototype.validate=function(h){this.WD(this.xk.validate,h);};c.prototype.flush=function(h){this.WD(this.xk.flush,h);};c.prototype.clear=function(){this.xk.clear();};r.exports={dsb:function(h){var k,n,p,q,t;k=h.E5b || "NRDMEDIADISKCACHE";f=h.IR || 0;0 !== f || g.ea(l.options) || g.ea(l.options.GL) || (f=l.options.GL);h=f;try{p=l.storage.Dub;if(!p || !g.Ff(p))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[k]){m.warn("Disk store exists, returning");q=new c(n);}else {if(g.ea(l.storage) || !g.mc(l.storage.$Na) || l.options && 0 === l.options.GL)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);t=l.storage.$Na({context:k,size:h,encrypted:!0,signed:!0});if(!t || !t.valid)throw "Failed to create disk store context";q=new c(t);}}catch(u){m.warn("Exception creating disk store context - returning NullContext (noops)",u);q=new c(d);}return q;},Hzb:function(){return f;},R_b:c};},function(r,b,a){var f,h,k,n,p,q,t,u,w;function c(){}function g(v,x,y,z,B){var A;A=f.mc(z)?z:c;this.cu=v;this.Nf=y.su;this.Hw=0;this.qgb=y.uwb || "NONE";this.qw=f.ea(B) || f.hb(B)?0:B;this.ee={};this.Er=y.I7b || h.storage.LO;this.Wt=x;this.kJ=p.create(this.Wt,y.gtb * this.qw,this.cu);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Ma=w.Ma;this.pIa=m(this,g.Rd.REPLACE);this.Tgb=m(this,g.Rd.SGa);this.PD;this.PD=y.j6a?a(990):a(991);this.Wt.query(this.Er,this.rp(""),(function(E,D){var F;if(E)A(E);else {F=this.kJ.Yia();E=Object.keys(D).filter(function(C){return C !== F && q.eL(C);}).map(this.fsa.bind(this));this.g6(E,(function(C,G){Object.keys(G).map((function(H){var J,I;J=G[H];this.ee[q.E1(H)]=J;if(J.Spa && 1 < Object.keys(J.Spa).length){I=0;Object.keys(J.Spa).forEach((function(M){D[this.rp(M)] && f.pa(D[this.rp(M)].size) && (I+=D[this.rp(M)].size);}).bind(this));H=q.E1(H);this.ee[H].size=I;}else (H=q.E1(H),D[this.rp(H)] && (this.ee[H].size=D[this.rp(H)].size));}).bind(this));l(this.Wt,this.Er,this.cu,(function(H,J){this.Hw=J;H?A(H):A(null,this);}).bind(this));}).bind(this));}}).bind(this));}function l(v,x,y,z){var B;B=f.mc(z)?z:c;v.query(x,y,function(A,E){A?B(A):(A=Object.keys(E).reduce(function(D,F){return D + (E[F].size || 0);},0),B(null,A));});}function m(v,x){return function(y,z,B,A,E){return function(D,F){var C;if(D)(z || v.Ma(g.Rd.jf,{itemKey:y,error:D}),B(D));else {C={Qj:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(G){var H;H=F.actions[G];G={key:v.fsa(H.N3),dk:G};H.W?(C.Qj+=H.Qj,G.M3=H.Qj,f.pa(H.duration) && (C.duration+=H.duration)):G.error=H.error;C.items.push(G);});D=f.mc(A)?A():0;0 < E && (C.OJ=E - D);l(v.Wt,v.Er,v.cu,function(G,H){G?B(G):(v.Hw=H,C.um=v.Nf - H,z || v.Ma(x,u.RRa(C)),B(null,C));});}};};}function d(v,x){return 0 < x && v >= x?!0:!1;}f=a(8);h=a(125);k=a(257);b=a(85);n=new h.Console("MEDIACACHE","media|asejs");p=a(986);q=a(436);t=a(126);u=a(258);w=a(437).EventEmitter;b({Rd:{SGa:"writeitem",REPLACE:"replaceitem",c$:"journalupdate",jf:"mediacache-error"}},g);g.prototype.QAb=function(){return this.cu;};g.prototype.fsa=function(v){return v.slice(this.cu.length + 1);};g.prototype.Qia=function(){return Object.keys(this.ee).filter((function(v){v=q.ria(this.ee[v]);return void 0 === v || 0 >= v.ENa();}).bind(this));};g.prototype.bBb=function(){return Object.keys(this.ee).reduce((function(v,x){var y;y=this.ee[x];return y && y.creationTime < v.creationTime?{resourceKey:x,creationTime:y.creationTime}:v;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).N8b;};g.prototype.Uzb=function(){var v;switch(this.qgb){case "FIFO":v=this.bBb();}return v;};g.prototype.Ttb=function(v){var x;x=f.mc(v)?v:c;this.GSa((function(y){var z,B,A;z=this.ee;B=Object.keys(z).reduce(function(E,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(F){E.push(F);});return E;},[]);if((y=y.filter(function(E){return !q.eL(E) && 0 > B.indexOf(E);})) && 0 < y.length){A=this;y=h.Promise.all(y.map(function(E){return new h.Promise(function(D,F){A.delete(E,function(C){C?F(C):D();});});})).then(function(){x(void 0,{npa:!0});},function(E){x(E,{npa:!1});});u.hv(y);}else v(void 0,{npa:!1});}).bind(this));};g.prototype.zPb=function(v,x,y){var z,B;z=f.mc(x)?x:c;x=this.rp(v);B=h.time.now();this.Wt.read(this.Er,x,0,-1,(function(A,E){var D;if(A)z(A);else if(E && E.W && E.value){f.mc(y) || (y=this.PD.tS(t.Xp.BC),q.eL(v)?y=this.PD.tS(t.Xp.cY):(A=this.ee[v],!f.ea(A) && f.pa(A.resourceIndex[v])?(A=A.resourceIndex[v],f.ea(A) && (A=t.Xp.BC),y=this.PD.tS(A)):n.warn("Metadata is undefined or does not contain a resource format for key",v,":",A)));try{D=y(E.value);}catch(F){return z(k.UH.Qp(F.message));}E={duration:h.time.now() - B};this.ee[v] && f.pa(this.ee[v].size) && (E.$w=f.pa(this.ee[v].size)?this.ee[v].size:0);z(null,D,E);}else z(k.UH.Qp(E.error));}).bind(this));};g.prototype.read=function(v,x,y){this.zPb(v,x,y);};g.prototype.g6=function(v,x,y){var z,B,A;z=f.mc(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(v))z(k.UH.Qp("item keys must be an array"));else {B={};A=[];v=h.Promise.all(v.map((function(E){return new h.Promise((function(D,F){var C;y && !f.ea(y[E]) && (C=this.PD.tS(y[E]));this.read(E,function(G,H,J){G?(H={},H[E]=G,F(H)):(B[E]=H,A.push({duration:J.duration,$w:J.$w}),D());},C);}).bind(this));}).bind(this))).then(function(){var E;E={};0 < A.length && (E=A.reduce(function(D,F){f.pa(F.duration) && (D.duration+=F.duration);f.pa(F.$w) && (D.$w+=F.$w);return D;},{duration:0,$w:0}));z(null,B,E);},function(E){z(E);});u.hv(v);}};g.prototype.write=function(v,x,y,z,B){var A,E,D;y=f.mc(y)?y:c;A=this.rp(v);E="function" === typeof B?B():0;D=t.Mja(x);D=this.PD.Aja(D)(x);D.byteLength + this.Hw >= this.Nf?y(k.iH):d(D.byteLength + E,this.qw)?y(k.NY):this.kJ.save(this.Er,A,x,this.Tgb(v,z,y,B,this.qw),D.byteLength);};g.prototype.replace=function(v,x,y,z,B){var A,E,D,F;A=f.mc(y)?y:c;E=this.rp(v);D=0;"function" === typeof B && (D=B());y=t.Mja(x);F=this.PD.Aja(y)(x);y=(this.ee[v] || ({})).size || 0;0 >= y && this.ee[v]?this.hTa([v],(function(C){n.trace("Replacing key",v,"which exists:",! !this.ee[v],this.ee[v]?this.ee[v]:void 0,"and has size",C,"with",x,"with size",F.byteLength,"plus _used",this.Hw,"vs capacity",this.Nf);F.byteLength - C + this.Hw >= this.Nf?A(k.iH):d(F.byteLength - C + D,this.qw)?A(k.NY):this.kJ.replace(this.Er,E,x,this.pIa(v,z,A,B,this.qw),F.byteLength);}).bind(this)):(n.trace("Replacing key",v,"which exists:",! !this.ee[v],this.ee[v]?this.ee[v]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.Hw,"vs capacity",this.Nf),F.byteLength - y + this.Hw >= this.Nf?A(k.iH):d(F.byteLength - y + D,this.qw)?A(k.NY):this.kJ.replace(this.Er,E,x,this.pIa(v,z,A,B,this.qw),F.byteLength));};g.prototype.MQb=function(v,x,y,z){var B;B=f.mc(x)?x:c;"[object Object]" !== Object.prototype.toString.call(v)?B(k.MY.Qp("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(v).map((function(A){return new h.Promise((function(E){this.replace(A,v[A],function(D,F){D?E({error:D,Ep:A}):E(F);},!0,z);}).bind(this));}).bind(this))).then((function(A){var E,D,F,C;try{E=Number.MAX_VALUE;D=A.reduce(function(G,H){H.error || (G.Qj+=H.Qj,f.pa(H.duration) && (G.duration+=H.duration),!f.ea(H.um) && H.um < E && (E=H.um),H.items.map(function(J){G.items.push({key:J.key,dk:J.dk,M3:J.M3,DHb:J.DHb,duration:J.duration});}),E < Number.MAX_VALUE && (G.um=E));return G;},{Qj:0,items:[],time:h.time.now(),duration:0});0 < this.qw && (D.OJ=this.qw - z());F=A.filter(function(G){return !f.ea(G.error);});C=u.dUa(F);y || (C?C.forEach((function(G){this.Ma(g.Rd.jf,G);}).bind(this)):this.Ma(g.Rd.REPLACE,u.RRa(D)));B(C,D);}catch(G){B(G);}}).bind(this),(function(A){y || this.Ma(g.Rd.jf,A);B(A);}).bind(this)),u.hv(x));};g.prototype.delete=function(v,x){var y;y=f.mc(x)?x:c;this.Wt.remove(this.Er,this.rp(v),(function(z,B){z?y(z):B && B.W?l(this.Wt,this.Er,this.rp(""),(function(A,E){A?y(A):(this.Hw=E,y());}).bind(this)):y(k.z9a.Qp(B.error));}).bind(this));};g.prototype.GSa=function(v){this.query("",function(x,y){x?(n.error("Failed to get keys",x),v([])):v(y);});};g.prototype.query=function(v,x){var y,z;y=f.mc(x)?x:c;z=this.kJ.Yia();this.Wt.query(this.Er,this.rp(v),(function(B,A){B?y(B):y(null,Object.keys(A).filter(function(E){return E !== z;}).map(this.fsa.bind(this)));}).bind(this));};g.prototype.rp=function(v){return this.cu + "." + v;};g.prototype.clear=function(v){var x;x=f.mc(v)?v:c;this.GSa((function(y){var z;z=h.Promise.all(y.map((function(B){return new h.Promise((function(A){B && this.delete(B,function(){A();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(B){this.Ma(g.Rd.jf,B);x([],B);}).bind(this));u.hv(z);}).bind(this));};g.prototype.hTa=function(v,x){var y,z;y=f.mc(x)?x:c;z=(v || []).map((function(B){return this.rp(B);}).bind(this));this.Wt.query(this.Er,this.cu,(function(B,A){B?(n.error("failed to get persisted size for keyset ",v,B),y(0)):(B=Object.keys(A).filter(function(E){return 0 <= z.indexOf(E);}).reduce(function(E,D){return E + (A[D].size || 0);},0),y(B));}).bind(this));};g.prototype.bzb=function(v){return this.kJ.HRa(v);};g.prototype.constructor=g;r.exports=g;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t){var B,A;function u(E,D,F,C){E.info.call(E,(function(G,H){var J;if(G)C(G);else {try{J=H.values[this.context].entries[D][F].size;}catch(I){J=-1;}-1 < J?C(null,J):this.validate(function(I,M){I?C(I):(M[F] && (J=M[F].size),C(null,J));});}}).bind(E));}function w(E,D,F,C,G,H,J){var I;H?H.actions || (H.actions={}):H={actions:{}};B(C);I=l.time.now();C=new k(function(M,N){E.create(l.storage.LO,D,F,function(K,O){K?N(K):M(O);});}).then(function(M){M.W?u(E,l.storage.LO,D,function(N,K){N?J(N):(A(K),B(K),H.actions[c.yW.c$]={W:!0,time:G,Qj:K,N3:D,x0a:M,duration:l.time.now() - I},H.um=M.um,J(null,H));}):(H.actions[c.yW.c$]={W:!1,N3:D,error:M.error},J(null,H));},function(M){J(M);});f.hv(C);}function v(E,D,F,C,G,H){C.np(F.time,F);for(var J=F.time - 864E5,I=C.bv();I && !isNaN(I.time) && I.time < J;){I=C.SJ();B(0 - (I.$ || 0));I=C.bv();}C=C.fo().map(function(M){return M.time + ";" + M.$;});w(E,D,Array.prototype.join.call(C,"|"),F.$,F.time,G,H);}function x(E,D,F,C,G,H,J,I,M){var N;N=l.time.now();E.create(F,C,G,function(K,O){var R;if(K)h.error("Failed to replace item",C,K);else if(O.W){R=O.um;u(E,F,C,function(L,Q){var P,ha;if(L)M(L);else {L={time:I,$:Q || 0};P={um:R,actions:{}};ha=l.time.now() - N;P.actions[c.yW.REPLACE]={W:!0,time:I,Qj:Q,N3:C,x0a:O,duration:ha};H?v(E,D,L,J,P,M):(B(Q),M(null,P));}});}else M(m.MY.Qp(O.error || "Failed to create item"));});}function y(E,D,F,C,G,H,J,I,M){var N;N=l.time.now();E.append(F,C,G,function(K,O){var R;if(K)(h.error("Failed to save item " + C,K),M(K));else if(O.W){R=O.um;u(E,F,C,function(L,Q){var P,ha;if(L)M(L);else {L={time:I,$:Q || 0};P={um:R,actions:{}};ha=l.time.now() - N;P.actions[c.yW.Odb]={W:!0,time:I,Qj:Q,N3:C,x0a:O,duration:ha};H?v(E,D,L,J,P,M):(B(Q),M(null,P));}});}else M(m.MY.Qp(O.error || "Failed to save item"));});}function z(E,D){E && g.mc(E.remove) && E.xk.valid && E.remove(l.storage.LO,D.LI,function(F,C){if(F)h.error("Failed to delete old journal key",F);else try{C && (g.ea(C.error) || C.error.some(function(G){return "NFErr_FileNotFound" === G.T5b;})) && v(E,D.LI,{time:0,$:0},D.gQ,0,function(){});}catch(G){}});}if(!p.xk.valid)return n;this.JHa=g.ea(q) || g.hb(q)?0:q;this.Qba=p;this.tca=this.tP=0;this.gQ=new d();this.Iib=t || "default";this.LI=this.Iib + ".NRDCACHEJOURNALKEY";B=(function(E){isNaN(E) || (this.tP+=E);return this.tP;}).bind(this);A=(function(E){isNaN(E) || (this.tca+=E);return this.tca;}).bind(this);this.Yia=function(){return this.LI;};this.save=function(E,D,F,C){var G;G=l.time.now();y(this.Qba,this.LI,E,D,F,0 <= this.JHa,this.gQ,G,C);};this.replace=function(E,D,F,C){var G;G=l.time.now();x(this.Qba,this.LI,E,D,F,0 <= this.JHa,this.gQ,G,C);};this.HRa=function(E){var D,G;D=this.tP;E-=864E5;for(var F=this.gQ.fo(),C=0;C < F.length;C++){G=F[C];G.time < E && !isNaN(G.$) && (D-=G.$);}return D;};(function(E){var D;D=E.Qba;E.tP=0;D.read(l.storage.LO,E.LI,0,-1,function(F,C){var G,H,J,M;G=[];H=0;J=!0;if(F)h.error("Failed to compile records",F);else if(C.W){F=String.fromCharCode.apply(null,new Uint8Array(C.value));F=String.prototype.split.call(F,"|");C=F.reduce(function(N,K){return N + (K.length + 40);},0);B(C);G=F.map(function(N){N=N.split(";");return {time:Number(N[0]),$:Number(N[1])};});try{if(!isNaN(G.reduce(function(N,K){return N + K.$;},0))){J=!1;for(var I=l.time.now() - 864E5;H < G.length;H++){M=G[H];M.time < I || (E.gQ.np(M.time,M),B(M.$));}}}catch(N){}}J && z(D,E);});})(this);}g=a(8);l=a(125);m=a(257);d=a(987);b=a(85);f=a(258);h=new l.Console("DISKWRITEMANAGER","media|asejs");k=l.Promise;b({yW:{Odb:"saveitem",REPLACE:"replaceitem",c$:"journalupdate"}},c);n={save:function(p,q,t,u){u(m.$za);},replace:function(p,q,t,u){u(m.$za);},Yia:function(){return "";},HRa:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,t){return new c(p,q,t);},a2b:n};},function(r){function b(g){if(!(this instanceof b))return new b(g);if("undefined" === typeof g)this.bm=function(l,m){return l <= m;};else {if("function" !== typeof g)throw Error("heap comparator must be a function");this.bm=g;}this.Ao=[];}function a(g,l){var m,d,f,h,k,n,p;m=g.Ao;d=g.bm;f=2 * l + 1;h=2 * l + 2;k=m[l];n=m[f];p=m[h];n && d(n.priority,k.priority) && (!p || d(n.priority,p.priority))?(c(m,l,f),a(g,f,d)):p && d(p.priority,k.priority) && (c(m,l,h),a(g,h,d));}function c(g,l,m){var d;d=g[l];g[l]=g[m];g[m]=d;}b.prototype.clear=function(){this.Ao=[];};b.prototype.np=function(g,l){this.Ao.push({priority:g,value:l});g=this.Ao;l=this.bm;for(var m=g.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && l(g[m].priority,g[d].priority);){c(g,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var g;if(0 !== this.Ao.length){g=this.Ao[0];c(this.Ao,0,this.Ao.length - 1);this.Ao.pop();a(this,0);return g.value;}};b.prototype.bv=function(){if(0 !== this.Ao.length)return this.Ao[0].value;};b.prototype.enqueue=b.prototype.np;b.prototype.SJ=b.prototype.remove;b.prototype.y3=function(){return 0 === this.Ao.length;};b.prototype.fo=function(){return this.Ao.map(function(g){return g.value;});};r.exports=b;},function(r){function b(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[c]=[g],!0);l=this.Wc[c];return void 0 === l?(this.Wc[c]=[g],!0):0 > l.indexOf(g)?(l.push(g),!0):!1;}function a(c,g){c=this.Wc?this.Wc[c]:void 0;if(!c)return !1;c.forEach(function(l){l(g);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;l=this.Wc[c];if(void 0 === l)return !1;g=l.indexOf(g);if(0 > g)return !1;if(1 === l.length)return (delete this.Wc[c],!0);l.splice(g,1);return !0;},Ma:a,emit:a,removeAllListeners:function(c){this.Wc && (void 0 === c?delete this.Wc:delete this.Wc[c]);return this;}};},function(r){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,l);else if("function" === typeof c.addListener)m=c.addListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,g,l,m;c=a(8);g=a(126);l={};l[g.Xp.BC]=function(d){return d;};l[g.Xp.zY]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};l[g.Xp.cY]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var h=0;h < f.byteLength;h++){d+=String.fromCharCode(f[h]);}return JSON.parse(d);};m={};m[g.Xp.BC]=function(d){return d;};m[g.Xp.zY]=function(d){for(var f=new ArrayBuffer(d.length),h=new Uint8Array(f),k=0,n=d.length;k < n;k++){h[k]=d.charCodeAt(k);}return f;};m[g.Xp.cY]=function(d){return c.ea(d) || c.hb(d)?d:m[g.Xp.zY](JSON.stringify(d));};r.exports={tS:function(d){return l[d] || l[g.Xp.BC];},Aja:function(d){return m[d] || m[g.Xp.BC];}};},function(r,b,a){function c(l){return l;}function g(){return c;}a(8);r.exports={tS:g,Aja:g};},function(r,b,a){var l;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function g(m,d){var f,h,k;f=[];if(l.Ff(d)){h={};k={};k[m]=h;f.push(k);f=Object.keys(d).reduce(function(n,p){var q,t,u;q=d[p];t={};if(l.v3(q)){u=m + ".__embed__." + p;t[u]=q;n.push(t);}else l.Ff(q)?(u=m + ".__sub__." + p,q=g(u,q),h[p]=q[0][u],n=n.concat(q.slice(1))):h[p]=q;return n;},f);}else (k={},k[m]=d,f.push(k));return f;}l=a(126);r.exports={Cub:g,DEb:function(m){var d,f,h,u;d=Object.keys(m).map(function(w){return w.split(".");});d.sort(c);f=d[0];h=f.length;f=m[f.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,p=!1,q=f,t=h;t < d[k].length;t++){u=d[k][t];switch(u){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[u],p=!1):n && (q[u]=m[d[k].join(".")],n=!1);}}}return f;},lFb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(f,h,k){Object.keys(f).forEach(function(n){var p,q;if(m.Ff(f[n]))if(f[n].v3){p=f[n];q=k + p.offset;f[n]=h.slice(q,q + p.byteLength);}else f[n]=c(f[n],h,k);});return f;}function g(f,h,k){Object.keys(f).forEach(function(n){var p;if(m.v3(f[n])){p=f[n];h.push(p);f[n]={v3:!0,offset:k.nga,byteLength:p.byteLength};k.nga+=p.byteLength;}else m.Ff(f[n]) && g(f[n],h,k);});return f;}function l(){var f,h,k;f=Array.prototype.concat.apply([],arguments);h=f.reduce(function(n,p){return n + p.byteLength;},0);k=new Uint8Array(h);f.reduce(function(n,p){k.set(new Uint8Array(p),n);return n + p.byteLength;},0);return k.buffer;}m=a(126);d=a(85);r.exports={hqb:function(f){var h,k,n;h=d(f,{});f=[];h=g(h,f,{nga:0});h=JSON.stringify(h);k=new ArrayBuffer(h.length + 4);n=new DataView(k);n.setUint32(0,h.length);for(var p=4,q=0,t=h.length;q < t;q++){n.setUint8(p,h.charCodeAt(q));p++;}f=[k].concat(f);return l.apply(null,f);},gqb:function(f){for(var h=new DataView(f,0,4).getInt32(0),k=new Uint8Array(f,4,h),n="",p=0;p < k.byteLength;p++){n+=String.fromCharCode(k[p]);}h=4 + h;n=JSON.parse(n);return c(n,f,h);}};},function(r,b,a){var g,l,m,d,f;function c(h){return {mediaType:h.mediaType,streamId:h.Fa,movieId:h.H,bitrate:h.bitrate,location:h.location,serverId:h.cc,saveToDisk:!0,offset:h.offset,bytes:h.$,timescale:h.U,frameDuration:h.stream.xa && h.stream.xa.Kb,encrypted:h.xl,initSegments:1 < h.Gh.length?h.Gh.map(function(k){return {fi:k.Eg,s:k.data.byteLength,e:! !k.xl};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.ela=b.fla=b.BVa=b.XSa=b.xSa=b.BSa=b.cja=b.ija=b.hja=b.yia=b.zia=b.Zza=void 0;g=a(0).__importStar(a(8));l=a(995);m=a(409);d=a(9);f=a(21);b.Zza={dAa:"movieEntry",W$a:"header",w$:"metadata",vab:"headerData",R0b:"headerMetadata",N$a:"sizes",M$a:"durations",pxa:"fragments",Cbb:"response",Vp:"billboard",MC:{lifespan:259200}};b.zia=function(h,k,n){var p,q;p=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (q={Ol:n.startTicks,offset:n.offset,U:n.timescale,sizes:new Uint32Array(k.sizes),Vd:new Uint32Array(k.durations)});return {Ac:!0,mediaType:h.mediaType,H:h.movieId,Fa:h.streamId,bitrate:h.bitrate,location:h.location,cc:h.serverId,$:h.bytes,offset:h.offset,fka:p,i3:h.initSegments,xl:h.encrypted,U:h.timescale,xa:h.frameDuration,jh:h.saveToDisk,Y:q};};b.yia=function(h,k){var n,p,q;k=k.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {Ac:!1,mediaType:h.mediaType,H:h.movieId,Fa:h.streamId,bitrate:h.bitrate,location:h.location,cc:h.serverId,$:h.bytes,offset:h.offset,response:k,U:h.timescale,Ua:h.startTicks,zq:p,jh:h.saveToDisk,fb:q};};b.hja=function(h){return {priority:h.priority,H:h.movieId,headers:{},UK:0,zR:0,AUa:0,jh:h.saveToDisk,rd:h.stats,Bu:h.firstSelectedStreamBitrate,Nx:h.initSelectionReason,dB:h.histDiscountedThroughputValue,Hn:h.histTdigest,Gn:h.histAge,qn:void 0};};b.ija=function(h,k,n,p,q){var t,u;t={headers:{},data:{}};p.forEach(function(w){var v,x,B;v=w.mediaType;v=q && q.ss(v,w.Fa);x=[];if(w.Ac)if(!Array.isArray(w.i3) || 2 > w.i3.length)x.push({Eg:0,data:w.fka});else for(var y=0,z=0;z < w.i3.length;++z){B=w.i3[z];x.push({Eg:B.fi,data:w.fka.slice(y,y + B.s),xl:B.e});y+=B.s;}v?(w.Y && v.k5(x,w.U,w.xa?new f.S(w.xa,w.U):void 0,w.Y),w.Ac && v && v.te?(void 0 === t.headers && (t.headers={}),t.headers[w.Fa]=new m.GW(v,{$:w.$,offset:w.offset,Gh:x,xl:w.xl},k)):w.response instanceof ArrayBuffer && void 0 !== v.Y && void 0 !== w.Ua && void 0 !== w.U && void 0 !== w.fb && (x=v.Y.J1(new f.S(w.Ua,w.U).X),void 0 !== x && (v=new l.xta(v,{U:w.U,Ua:w.Ua,fb:w.fb,index:x.index,offset:w.offset,$:w.$},w.response,n,h,k),void 0 === t.data && (t.data={}),t.data[w.Fa] || (t.data[w.Fa]=[]),t.data[w.Fa].push(v)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Fa + " movieId: " + w.H);});if(!g.ea(t.data)){u=t.data;Object.keys(u).forEach(function(w){u[w].sort(function(v,x){return v.Ua - x.Ua;});});}return t;};b.cja=function(h){return {mediaType:h.mediaType,streamId:h.Fa,movieId:h.H,bitrate:h.bitrate,location:h.location,serverId:h.cc,saveToDisk:!0,offset:h.offset,bytes:h.$,timescale:h.U,startTicks:h.Ua,durationTicks:h.zq};};b.BSa=c;b.xSa=function(h){var k,n,p,q;k=c(h);if(h.stream.te && h.stream && h.stream.Y){n={timescale:h.stream.Y.U,startTicks:h.stream.Y.Ol,offset:h.stream.Y.eh(0)};p=h.stream.Y.cN;q=p.sizes.buffer;p=p.Vd.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:d.wA(h.Gh.map(function(t){return t.data;})),initSegments:k.initSegments,encrypted:h.xl,fragments:n,sizes:q,durations:p};};b.XSa=function(h){return {priority:h.priority,movieId:h.H,saveToDisk:h.jh,firstSelectedStreamBitrate:h.Bu,initSelectionReason:h.Nx,histDiscountedThroughputValue:h.dB,histTdigest:h.Hn,histAge:h.Gn};};b.BVa=function(h){return !g.has(h,"startTicks");};b.fla=function(h){return !h.fka || !h.U || !h.Y || void 0 === h.Y.Ol || void 0 === h.Y.offset || void 0 === h.Y.Vd || !h.Y.Vd.length || void 0 === h.Y.sizes || !h.Y.sizes.length;};b.ela=function(h){return void 0 === h.$ || void 0 === h.offset || void 0 === h.U || void 0 === h.Ua || void 0 === h.zq;};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xta=void 0;c=a(0);g=a(9);r=a(39);l=a(72);a=(function(m){function d(f,h,k,n,p,q){n=m.call(this,f,h,n,p,q) || this;h.$=k.byteLength;l.gi.Wa(n,f,h);n.$I=k;n.yfb=h.$;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{Ac:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{op:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yd:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bi:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.$I;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qHb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{OE:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kpa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.yfb;},enumerable:!1,configurable:!0}});d.prototype.Cs=function(){return !0;};d.prototype.dE=function(f){this.De=f.appendBuffer(this.response,g.qp(this));return {W:this.De};};d.prototype.Fh=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.kc=function(){};d.prototype.KV=function(){return !1;};return d;})(a(175).wC);b.xta=a;r.hf(l.gi,a);},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;c=a(0);r=a(17);g=c.__importDefault(a(3));l=a(16);m=a(259);d=a(9);f=a(5);h=a(1044);k=a(443);n=new g.default.Console("ASEJS","media|asejs");n.trace.bind(n);r=(function(p){var K21;K21=2;for(;K21 !== 18;){switch(K21){case 3:q.prototype.Wa=function(t,u,w,v,x){var P21;P21=2;for(;P21 !== 5;){switch(P21){case 2:this.Ga.Gqa({audio:t,video:u},{X:v,$:x});this.Ga.open(this.config,this.gC);P21=5;break;}}};q.prototype.rV=function(t,u,w){var Q21;Q21=2;for(;Q21 !== 1;){switch(Q21){case 2:this.Ga.Gqa({total:t},{X:u,$:w});Q21=1;break;}}};q.prototype.createSession=function(t,u,w,v,x,y,z,B,A,E){var R21,F,D;R21=2;for(;R21 !== 19;){switch(R21){case 4:A=this.Pja(D,x.ca);this.WM[A]={IMa:function(){},ca:x.ca,equals:function(C){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 2:return C.aa === D && (x.ca === C.ca || !C.ca || !x.ca);break;}}},ZR:!1,pr:Promise.resolve({la:t,Bh:! !v.Bh,qd:l.z4(! !v.NQ,! !v.pC),config:B}),aa:D};B.sx && this.Ga.VB(this.WM[A],{sy:x.sy,ca:x.ca,yq:x.yq});E=this.Fsb(D,t,B.K_a,B,x,E || q.Itb,v);F=E[0];A=F.La.ya[F.La.je].Zb;R21=14;break;case 2:var x3H="cr";x3H+="ea";x3H+="ting ";x3H+="sessi";x3H+="on";this.console.trace(x3H);this.Ga.tb.reset();D=Number(t.movieId);R21=4;break;case 11:this.Z3=new h.jFa(this.console,this,t,E,u,F,v,x,y,z,B);B.qq || B.HF || this.ax();return this.Z3;break;case 14:var X3H="endP";X3H+="ts ";X3H+="is not suppor";X3H+="ted";F=[this.HS(D,F.La,w,A)];E[1] && F.push(this.HS(D,E[1].La,w,A));f.assert(void 0 === v.ta,X3H);R21=11;break;}}};K21=7;break;case 7:q.prototype.HS=function(t,u,w,v){var T21;T21=2;for(;T21 !== 1;){switch(T21){case 2:var I3H="invalid start position relative";I3H+=" to playgrap";I3H+="h";return u.ya[u.je].Zb === v?(t=k.A0(u,t,d.S.lb(w)),f.assert(t,I3H),t):{oa:u.je,offset:d.S.nb};break;}}};q.prototype.Fsb=function(t,u,w,v,x,y,z){var U21,C,B,A,E,D,F;U21=2;for(;U21 !== 7;){switch(U21){case 4:U21=A && A.vMb?3:8;break;case 3:C=A.vMb;U21=9;break;case 9:Object.keys(C).forEach(function(G,H){var V21;V21=2;for(;V21 !== 9;){switch(V21){case 2:var J3H="Currently parallel graph can only be media type";J3H+=" [a";J3H+="udio]";var D3H="a";D3H+="ud";D3H+="i";D3H+="o";var z3H="Currently";z3H+=" ";z3H+="only one";z3H+=" parallel";z3H+=" graph is supported";a000.p2Y(20);f.assert(a000.H2Y(H,0),z3H);H=C[G];f.assert(H.qd && 1 === H.qd.length && D3H === H.qd[0],J3H);G=k.fx(A,C[G].je,C[G].ya,C[G].qd);F.push(B.Ga.aE(G,w,E,{ps:D}));V21=9;break;}}});U21=8;break;case 2:var C2H="vi";C2H+="d";C2H+="eo";var r2H="a";r2H+="u";r2H+="dio";var b2H="a";b2H+="u";b2H+="d";b2H+="io";var E2H="v";E2H+="i";E2H+="de";E2H+="o";var s2H="Genera";s2H+="ted";s2H+=" p";s2H+="laygraph from choicemap.";(B=this,A=u.choiceMap);A?(t=k.fx(A),this.console.trace(s2H)):t=k.YB(t,y,z.NQ || z.pC?z.pC?[E2H]:[b2H]:[r2H,C2H]);(E=Object.create(v,{lha:{value:x.yq}}),D=this.ps.bind(this,x.ca),F=[this.Ga.aE(t,w,E,{ps:D})]);U21=4;break;case 8:return F;break;}}};q.prototype.jpb=function(){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:this.tb.ZM(null);W21=1;break;}}};q.prototype.ps=function(t,u){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return this.WM[this.Pja(u,t)];break;case 4:return this.WM[this.Pja(u,t)];break;X21=1;break;}}};q.prototype.CQb=function(t){var Y21;Y21=2;for(;Y21 !== 14;){switch(Y21){case 4:t.sg && this.Ga.Yq(t.sg);t.sj && this.Ga.zM(t.sj);Y21=9;break;case 2:this.jpb();this.Ga.Yq(t.na);t.Ca && this.Ga.zM(t.Ca);Y21=4;break;case 9:t === this.Z3 && delete this.Z3;t=this.Pja(t.aa,t.ca);this.Ga.xpa(this.WM[t]);delete this.WM[t];Y21=14;break;}}};q.prototype.Gb=function(){var Z21;Z21=2;for(;Z21 !== 9;){switch(Z21){case 2:var t2H="Attemp";t2H+="t to destruct S";t2H+="himManager with late";t2H+="st session still defined";var q2H="Attempted to";q2H+=" des";q2H+="truct ShimManager with session ";q2H+="co";q2H+="nfig active";var d2H="Attempted to destruc";d2H+="t ShimManager with p";d2H+="layers p";d2H+="resent in ASE";var Y2H="Attempted to d";Y2H+="estruct ShimManager wit";Y2H+="h pl";Y2H+="aygr";Y2H+="aphs present in ASE";f.assert(0 === this.Ga.N_a.length,Y2H);f.assert(0 === this.Ga.J_a.length,d2H);f.assert(0 === Object.keys(this.WM).length,q2H);f.assert(void 0 === this.Z3,t2H);this.Ga.close();Z21=9;break;}}};q.prototype.Pja=function(t,u){var F2H=a000;var a31;a31=2;for(;a31 !== 1;){switch(a31){case 4:F2H.a2Y(21);return F2H.w2Y("",t,u);break;a31=1;break;case 2:F2H.a2Y(4);return F2H.H2Y(u,"-",t);break;}}};K21=20;break;case 20:var n2H="s";n2H+="0";q.Itb=n2H;return q;break;case 2:c.__extends(q,p);Object.defineProperties(q.prototype,{tb:{get:function(){var M21;M21=2;for(;M21 !== 1;){switch(M21){case 2:return this.Ga.tb;break;case 4:return this.Ga.tb;break;M21=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cm:{get:function(){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 4:return this.Ga.Cm;break;N21=1;break;case 2:return this.Ga.Cm;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dh:{get:function(){var O21;O21=2;for(;O21 !== 1;){switch(O21){case 4:return this.Ga.dh;break;O21=1;break;case 2:return this.Ga.dh;break;}}},enumerable:!1,configurable:!0}});K21=3;break;}}function q(t,u,w,v){var L21,x;L21=2;for(;L21 !== 11;){switch(L21){case 2:x=p.call(this) || this;x.config=t;x.ax=u;x.Ko=w;x.gC=v;x.WM={};t=a(438);L21=7;break;case 14:var u2H="1SIYb";u2H+="ZrN";u2H+="JCp9";x.Ga=m.YE();u2H;return x;break;case 7:var Q2H="D";Q2H+="EB";Q2H+="UG:";var P2H="nf-";P2H+="ase shi";P2H+="m versi";P2H+="on";P2H+=":";x.console=n;x.console.trace(P2H,t,Q2H,!1);L21=14;break;}}}})(r.EventEmitter);b.iFa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I;Object.defineProperties(b,{__esModule:{value:!0}});b.lta=void 0;c=a(0);g=a(17);l=a(395);m=a(235);d=a(998);f=a(229);h=a(16);a(226);k=a(1E3);n=a(1004);p=a(441);q=a(1027);t=a(434);u=a(29);w=a(5);v=a(414);x=a(1028);y=a(1029);z=a(1030);B=a(127);A=a(261);E=a(1031);D=a(64);F=a(260);C=a(9);G=c.__importDefault(a(3));H=a(1032);J=a(442);I=a(1043);r=(function(){function M(N){this.u=N;this.events=new g.EventEmitter();this.Td=l.vr.CLOSED;this.Jw=[];this.vV=[];this.bQ=[];this.Bo=[];this.qHa={};this.e_={};this.Tjb=new B.iD({av:this,source:"engine",wF:10});}Object.defineProperties(M.prototype,{ev:{get:function(){w.assert(this.Bw);return this.Bw;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{state:{get:function(){return this.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{J_a:{get:function(){return this.bQ;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{N_a:{get:function(){return this.Bo.map(function(N){return N.La;});},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{MNb:{get:function(){return this.Bo;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{tb:{get:function(){this.GG();return this.hx.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Cm:{get:function(){this.GG();return this.hx.Cm;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{dh:{get:function(){this.GG();return this.hx.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{MYb:{get:function(){return this.Jw.length;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Gea:{get:function(){return this.qHa;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{tG:{get:function(){return this.e_;},enumerable:!1,configurable:!0}});M.prototype.open=function(N,K,O,R){var L;L=this;if(this.Td === l.vr.OPEN)return !1;this.G=N;this.Pp=new D.fP(new F.CY({$j:!0,currentTime:function(){return C.S.lb(G.default.time.ba());},speed:1}),this.u,"Engine Scheduler");this.nIa=new d.Fxa(this.u,N);this.MD=new q.FEa(this.L3.bind(this),N,this.Pp);this.hx=f.lH.gTa(N,K);this.Td=l.vr.OPEN;N=Object.create(N,{Alb:{value:N.HF || N.qq}});this.Bw=J.AS(N);O && this.Bw.aTb(O);R && this.Bw.Mqa(R);this.L_a=new I.NDa({jm:function(){L.Td !== l.vr.CLOSED && L.MD.jm("playgraphOpportunity");}});return !0;};M.prototype.aE=function(N,K,O,R,L){var Q,P,ha;Q=this;void 0 === L && (L=!0);this.GG();P=Object.create(O,{xV:{value:this.tG}});if(L){ha=this.ev.bpb(N,P);if(ha)return (ha.X5a(K),ha);}N=new n.Jta(N,K,P,M.eKb++,this.tb,this.Lpa.bind(this,R,O.PYb),function(va,la){var S,da;da=R.ps(va);va=null === (S=u.kg(Q.Jw,function(ya){return ya.w0.equals(da);})) || void 0 === S?void 0:S.M;return null === va || void 0 === va?void 0:va.rm(P,la);},function(va){return Q.MD.jm(va);},L?this.ev.apb.bind(this.ev):function(){},this.eja.bind(this),this.x2.bind(this));N.ol(new x.Vwa(this.tb));N.ol(new E.HEa(this.tb,this.MD));N.ol(new y.yFa(N));N.ol(new z.UFa(N.Rs));N.ol(new A.hD(this.Tjb));N.ol(new A.hD(this.MD.Mn));N.ol(new A.hD(this.nIa.kk));N.ol(new H.Zwa(this));this.L_a.aE(N);K=new g.sh();K.on(N.events,"requestsPruned",this.eRb.bind(this));K.on(N.events,"weightUpdated",this.$na.bind(this));this.Bo.push({La:N,qg:K,n6:0});this.$na();return N;};M.prototype.Yq=function(N){this.L_a.Yq(N);this.Bo=this.Bo.filter(function(K){return K.La === N?(K.qg.clear(),!1):!0;});N.Gb();this.$na();};M.prototype.EKa=function(N,K){var O,R,L;this.GG();L=K.qd;N=new k.Ita(N,void 0 === L?[0,1]:L,c.__assign({xV:null !== (R=null !== (O=K.xV) && void 0 !== O?O:this.e_) && void 0 !== R?R:{}},K));this.bQ.push(N);return N;};M.prototype.zM=function(N){this.GG();this.bQ=this.bQ.filter(function(K){return K !== N;});N.Gb();};M.prototype.Gqa=function(N,K){this.qHa=N;this.e_=K;};M.prototype.VB=function(N,K){var O,R;R=null === (O=u.kg(this.Jw,function(L){return L.w0.equals(N);})) || void 0 === O?void 0:O.M;R?R.VB(c.__assign(c.__assign({},K),{Dm:this.Bna.bind(this)})):this.vV.push({D6a:N,n3a:K});};M.prototype.xpa=function(N){this.vV=this.vV.filter(function(K){return !K.D6a.equals(N);});};M.prototype.close=function(){this.Td !== l.vr.CLOSED && (this.rQb(),w.assert(0 === this.Jw.length,"Unexpected viewable lease after Playgraph destruction."),this.qQb(),this.vV=[],delete this.hx,this.Td=l.vr.CLOSED,this.Pp.Gb());};M.prototype.Bna=function(){};M.prototype.Lpa=function(N,K,O){var R,L,Q;R=this;L=N.ps(O);w.assert(L,"ase.requestViewable(): Viewable config not found.");Q=u.kg(this.Jw,function(P){return P.w0.equals(L);});Q?Q.oW.then(function(P){return c.__awaiter(R,void 0,void 0,function(){var ha,va;return c.__generator(this,function(la){switch(la.label){case 0:return (va=(ha=P).OXb,[4,L.pr]);case 1:return (va.apply(ha,[la.wg()]),[2]);}});});}):(Q={w0:L,oW:(function(){return c.__awaiter(R,void 0,void 0,function(){var P,ha;return c.__generator(this,function(va){switch(va.label){case 0:return [4,L.pr];case 1:return (P=va.wg(),ha=this.I0(O,L,P),Q.M=ha,[2,ha]);}});});})(),M:void 0,IGb:new v.jza(function(P){P() && Q.w0.ZR && R.m1a(Q);R.Pp.wR(D.vk.GN(C.S.lb(K)),function(){P() && R.m1a(Q);},"viewable cleanup");})},this.Jw.push(Q));return {get M() {return null === Q || void 0 === Q?void 0:Q.M;},oW:Q.oW,Sla:Q.IGb.Kw()};};M.prototype.m1a=function(N){var K,O;w.assert(N,"expected viewableEntry to exist");K=N.M;O=N.oW;K?K.Gb():O.then(function(R){R.Gb();});this.Jw=this.Jw.filter(function(R){return R !== N;});};M.prototype.I0=function(N,K,O){var L,Q,P,ha,va,la;function R(S){L.events.emit("logdata",S);}L=this;this.GG();P=O.la;ha=O.Bh;va=O.qd;va=void 0 === va?h.xe:va;O=O.config;la=[new t.C$(0),new t.C$(1)];P={la:P,config:O,Bh:ha,qd:va,e2:void 0,tb:this.hx.tb,dh:this.hx.dh,nQa:{iL:function(){return !1;},Gq:function(){return L.MD.jm("networkFailureReset");},hh:this.hh.bind(this,N),Ln:this.Ln.bind(this,N),Em:R},zUa:{Em:R,GS:void 0,SA:function(S){return la[S];},w3:function(){return !0;},ef:void 0,dd:void 0,Fg:void 0,cB:void 0},GM:{Nw:this.Nw.bind(this),aG:this.aG.bind(this)},tG:this.e_,qb:0,Im:void 0,OXa:{$ka:!1,PVa:!1},dU:function(){}};N=new m.Q8(N,P);O.sx && (P=(null === (Q=u.kg(this.vV,function(S){return S.D6a.equals(K);})) || void 0 === Q?void 0:Q.n3a) || ({}),this.xpa(K),N.VB(c.__assign(c.__assign({},P),{Dm:this.Bna.bind(this)})));return N;};M.prototype.L3=function(){var N;w.assert(this.state === l.vr.OPEN);N=this.KK();return this.nIa.uZa(N);};M.prototype.KK=function(){var N,K;K=null !== (N=this.G.hOb) && void 0 !== N?N:this.Bo.every(function(O){return !O.La.bka;});N=u.flatten(this.Bo.map(function(O){return O.La.KK().map(function(R){O.La.bka || 1 === O.n6 || (R.bUa=O.n6);return R;});}));K || (K=N.filter(function(O){var R;return 1 === (null !== (R=O.bUa) && void 0 !== R?R:1);}),K.length && (N=K));K=this.Jw.reduce(function(O,R){return R.M?c.__spread(O,R.M.KK()):O;},[]);return u.flatten(c.__spread(N,K));};M.prototype.GG=function(){if(this.Td === l.vr.CLOSED)throw Error("Engine CLOSED");};M.prototype.rQb=function(){var N,R;try{for(var K=c.__values(this.Bo),O=K.next();!O.done;O=K.next()){R=O.value;R.qg.clear();this.Yq(R.La);}}catch(Q){var L;L={error:Q};}finally{try{O && !O.done && (N=K.return) && N.call(K);}finally{if(L)throw L.error;}}};M.prototype.qQb=function(){var N;try{for(var K=c.__values(this.bQ),O=K.next();!O.done;O=K.next()){this.zM(O.value);}}catch(L){var R;R={error:L};}finally{try{O && !O.done && (N=K.return) && N.call(K);}finally{if(R)throw R.error;}}};M.prototype.hh=function(N,K,O,R,L,Q){this.kTa(N).forEach(function(P){return P.hh(K,N,O,R,L,Q);});};M.prototype.Ln=function(N){return this.kTa(N).some(function(K){return K.Ln();});};M.prototype.kTa=function(N){return this.Bo.filter(function(K){K=K.La.La;return "" + N === "" + K.ya[K.je].aa;}).map(function(K){return K.La;});};M.prototype.x2=function(N){return this.Bo.reduce(function(K,O){var R;O=null !== (R=null === N || void 0 === N?void 0:N[O.La.id]) && void 0 !== R?R:O.La.x2();K[1]+=O[1];K[0]+=O[0];K.total+=O.total;return K;},c.__assign({},p.Ega));};M.prototype.eja=function(){var N;return (N={},N[1]=this.Gea.video || Infinity,N[0]=this.Gea.audio || Infinity,N.total=this.Gea.total || Infinity,N);};M.prototype.Nw=function(N){this.MD.Nw(N);};M.prototype.aG=function(N){this.MD.aG(N);};M.prototype.$na=function(){var N;N=this.N_a.reduce(function(K,O){return Math.max(O.weight,0) + K;},0);this.Bo.forEach(function(K){K.n6=0 >= K.La.weight?0:K.La.weight / N;});};M.prototype.eRb=function(){};M.eKb=0;c.__decorate([B.Ub({methodName:"open"})],M.prototype,"open",null);c.__decorate([B.Ub({methodName:"addPlaygraph",context:function(N){var K,O;return {playgraphCount:null !== (O=null === (K=N.kZa.Bo) || void 0 === K?void 0:K.length) && void 0 !== O?O:0};}})],M.prototype,"aE",null);c.__decorate([B.Ub({methodName:"removePlaygraph",context:function(N){return {playgraphCount:N.kZa.Bo.length};}})],M.prototype,"Yq",null);c.__decorate([B.Ub({methodName:"close"})],M.prototype,"close",null);c.__decorate([B.Ub({methodName:"notifyAseException",Mr:!0})],M.prototype,"Bna",null);c.__decorate([B.Ub({methodName:"createViewable"})],M.prototype,"I0",null);c.__decorate([B.Ub({methodName:"issueRequestOpportunity",km:!0,return:!0})],M.prototype,"L3",null);c.__decorate([B.Ub({methodName:"reportStreamingFailure",Mr:!0})],M.prototype,"hh",null);return M;})();b.lta=r;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce(l.dYa(function(q){return q.ry.X;}),p).ry;}Object.defineProperties(b,{__esModule:{value:!0}});b.Fxa=void 0;g=a(0);a(226);l=a(29);m=a(16);d=a(9);f=a(127);h=a(999);k=a(46);r=(function(){function n(p,q){this.u=p;this.config=q;this.uWa=0;this.kk=new f.iD({wF:10,av:this,source:"GraphStreamingProcess"});}n.prototype.uZa=function(p){var q,t,u,w,v,x,y,A,E,D,F,C;t=!1;u=[];if(0 < p.length){w=this.lUb(p);v=w.some(function(H){return 1 === h.GMa(H) && m.Ds(H.nf);});x=w.slice();y=[!1,!1];try{for(var z=g.__values(w),B=z.next();!B.done;B=z.next()){A=B.value;if(A.Ku && !y[A.mediaType]){E=A.ZVa();D=E.reason;if(w=D && ("globalAudioMemoryLimit" === D || "globalVideoMemoryLimit" === D))(y[A.mediaType]=!0,l.qLa(x,A));if(E.result){F=c(x,A);if(this.Rob(A,v,F)){C=A.cWa();this.gma(u,A,C.reason);C.pp && (this.uWa=k.platform.time.ba());if(t=C.pp)break;}else if((this.gma(u,A,"concurrencyCheck"),this.config.OMb && !w))break;}else this.gma(u,A,E.reason);}}}catch(H){var G;G={error:H};}finally{try{B && !B.done && (q=z.return) && q.call(z);}finally{if(G)throw G.error;}}}this.kk.Lw({streamableCount:p.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.uWa});return t;};n.prototype.lUb=function(p){return this.COb(p).sort(function(q,t){return q.priority - t.priority;}).map(function(q){return q.TUb;});};n.prototype.COb=function(p){var q;q=this;return p.map(function(t){return {priority:-h.FMa(q.config,t),TUb:t};});};n.prototype.gma=function(p,q,t){this.kk.enabled && p.push(this.$Bb(t,q));};n.prototype.$Bb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.nf,currentPlayerMs:q.Kd.X,pathCompletePlayerMs:q.ry.X,streamingPlayerMs:q.ao.X};};n.prototype.Rob=function(p,q,t){return this.config.aR && (q || m.Ds(p.nf))?this.Sob(p,t):this.Tob(p,t);};n.prototype.XMa=function(p){return p.ao.rF(p.ry);};n.prototype.Tob=function(p,q){var t;if(this.config.Glb && this.XMa(p))return !0;t=p.ry.Sa(p.Kd).X;t=Math.max(this.config.hna,Math.min(t * this.config.tra,this.config.KXa));q=p.Kd.greaterThan(q)?p.Kd:q;return p.ao.Sa(q).X <= t;};n.prototype.Sob=function(p,q){var t,u;if(void 0 === this.config.aR)return !0;t=d.S.lb(this.config.aR);u=p.Kd.add(t);return p.ao.rF(u)?!0:this.XMa(p) && q.Fn(u) && p.ao.Sa(q).lessThan(t);};g.__decorate([f.Ub({methodName:"onRequestOpportunity",km:!0})],n.prototype,"uZa",null);return n;})();b.Fxa=r;},function(r,b,a){var n;function c(p){return p.ao.Sa(p.Kd).X;}function g(p,q){p=Math.log(2) * q / p;return (1 - Math.exp(-p)) / p;}function l(p,q){var t,u,w,v,x;t=q.V5;u=q.FU;if(0 === q.uj.length)return {Tda:!1};w=q.uj[0];q=w.Aj;v=w.gF;w=w.duration;if(!v || 1 === u)return {Tda:!1};n.assert(w,"duration should be defined when immediate probability is included in probabilities array");n.assert(0 < u,"presenting segment seamless probability cannot be zero");x=t.X;t=u + x / w * (1 - u);w-=x;return {Tda:!0,qlb:q * t / u * Math.exp(-(Math.log(2) / p) * w) + v * (1 - t) / (1 - u) * g(p,w)};}function m(p){var q,t;q=p.duration;t=p.XUb;p=p.Iy;n.assert(t);n.assert(q);return 1 - t.X / q.X * (1 - p);}function d(p,q){p=Math.log(2) / p.M0a;return f(q) * Math.exp(-p * c(q));}function f(p){var q;return (null !== (q=p.bUa) && void 0 !== q?q:1) * p.uj.reduce(function(t,u){var w;w=u.gF;return t * (u.Aj + (void 0 === w?0:w));},1);}function h(p){var q;q=1 > p.FU?p.V5.X:0;return p.uj.reduce(function(t,u){u=u.duration;return t + (void 0 === u?0:u);},0) - q;}function k(p){return p.uj.filter(function(q){return !q.gF;}).reduce(function(q,t){return q * t.Aj;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.GMa=b.aob=b.FMa=b.eob=void 0;n=a(5);b.eob=c;b.FMa=function(p,q){var t,u,w,v,x,y;if(!p.p1)return d(p,q);t=p.M0a;p=c(q);u=h(q);w=k(q);v=l(t,q);x=v.Tda;v=v.qlb;v=void 0 === v?1:v;y=1 > q.Iy?m(q):1;return w * Math.exp(-(Math.log(2) / t) * (p - u)) * v * y * q.uj.filter(function(z,B){return z.gF && (0 < B || !x);}).reduce(function(z,B){var A,E;A=B.gF;E=B.duration;E=void 0 === E?0:E;B=B.Aj * Math.exp(-(Math.log(2) / t) * E) + (void 0 === A?0:A) * g(t,E);return z * B;},1);};b.aob=d;b.GMa=f;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ita=void 0;c=a(0);g=a(17);l=a(9);m=a(5);d=c.__importDefault(a(3));f=a(64);h=a(29);k=a(1001);r=a(439);n=a(1003);a=(function(p){function q(t,u,w){var v;v=p.call(this) || this;v.P=t;v.qd=u;v.Sz=w;v.NR=[];v.Xba=new g.sh();v.u=new d.default.Console("ASEJS","media|asejs");v.Xba.on(v.P,"underflow",function(){return v.Qk();});v.vP=new n.xDa(t);v.Xba.on(v.P,"skipped",function(){return v.mU();});v.FD=new f.fP(v.vP,v.u,"player");v.Qsa=new l.DY();return v;}c.__extends(q,p);Object.defineProperties(q.prototype,{zv:{get:function(){var t;return null === (t=this.Wg) || void 0 === t?void 0:t.zv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rs:{get:function(){return this.FD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ib:{get:function(){var t,u;return null !== (u=null === (t=this.Wg) || void 0 === t?void 0:t.OA()) && void 0 !== u?u:[];},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{na:{get:function(){var t;return null === (t=this.Wg) || void 0 === t?void 0:t.na;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sa:{get:function(){return this.vP;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ry:{get:function(){var t;return !(null === (t=this.Wg) || void 0 === t || !t.Ry);},enumerable:!1,configurable:!0}});q.prototype.oV=function(t){-1 === this.NR.indexOf(t) && this.NR.push(t);this.Wg && this.Wg.jU(t);this.events.emit("drmReady",{viewableId:t});};q.prototype.Iqa=function(t){t=this.NR.indexOf(t);-1 !== t && this.NR.splice(t,1);};q.prototype.Jn=function(t){var u;return -1 !== this.NR.indexOf(t) || !(null === (u=h.kg(this.Ib,function(w){return w.M.aa === t;})) || void 0 === u || !u.M.Bh);};q.prototype.reset=function(){var t;this.Qsa=new l.DY();p.prototype.reset.call(this);this.GD=void 0;null === (t=this.Wg) || void 0 === t?void 0:t.reset();};q.prototype.$U=function(t){var u;p.prototype.$U.call(this,t);null === (u=this.Wg) || void 0 === u?void 0:u.$U(t);};q.prototype.qE=function(){var t;null === (t=this.Wg) || void 0 === t?void 0:t.qE();};q.prototype.pause=function(t){this.wG(t);p.prototype.pause.call(this,null !== t && void 0 !== t?t:this.qd);};q.prototype.resume=function(t){var u;null === (u=this.Wg) || void 0 === u?void 0:u.resume(t);p.prototype.resume.call(this,null !== t && void 0 !== t?t:this.qd);};q.prototype.Gb=function(){this.bu=this.T2()?this.xm():void 0;this.Wg && this.Pga(this.Wg.na);this.vP.Gb();this.FD.Gb();this.Xba.clear();p.prototype.Gb.call(this);};q.prototype.zK=function(){var t,u;if(null === (t=this.Wg) || void 0 === t?0:t.BOb){t=this.P.ec;if(this.sa.$j){if(this.GD){if(this.GD.greaterThan(t))return (t=this.GD.Sa(t),this.Qsa.push(t.X),this.GD);if(this.Ib.length){u=this.Wg.HGb;if(u && u.lessThan(t))return (this.events.emit("logdata",{type:"logdata",target:"endplay",pd:{clockdrift:{type:"count"}}}),this.GD);}}this.GD=t;}return t;}return p.prototype.zK.call(this);};q.prototype.Dn=function(){var t;t=this.P.playbackRate;void 0 === t && (t=p.prototype.Dn.call(this));return t;};q.prototype.T2=function(){return ! !this.bu || 0 < this.Ib.length;};q.prototype.xm=function(){if(this.bu)return this.bu;m.assert(0 < this.Ib.length,"Could not find presenting branch. Player has no branches.");return this.Fi;};q.prototype.Pga=function(t){var u;m.assert(t === this.na);null === (u=this.Wg) || void 0 === u?void 0:u.Gb();this.Wg=void 0;};q.prototype.P_=function(t,u){this.bu=void 0;if(u=p.prototype.P_.call(this,t,u))(this.Wg=new k.Zta(t,this,this.u,t.config,this.Sz,this.events,this.qd,this.FD,this.Oz,this.Nz),this.wG(this.gM));return u;};q.prototype.wha=function(){var w;for(var t=[],u=0;u < arguments.length;u++){t[u]=arguments[u];}w=this.Wg;m.assert(w);t.forEach(function(v){return w.gwb(v);});};q.prototype.Yg=function(t){var u,w,v;if(!this.Wg)return !1;u=this.g2(t);if(!u)return !1;w=u.R;v=l.S.lb(this.Sz.Sq);return w.yn.Sa(v).lessThan(t) || !u.Sfa(t)?!1:this.Wg.Yg(t);};q.prototype.Qk=function(){var t,u,w;u=this.Kd;m.assert(this.na);w=this.Vq(u);m.assert(w);null === (t=this.Wg) || void 0 === t?void 0:t.Qk();t=this.g2(u);null === t || void 0 === t?void 0:t.M.Qk();this.na.Qk(w);};q.prototype.mU=function(){this.GD=void 0;};q.prototype.Bia=function(){var t;return null === (t=this.Wg) || void 0 === t?void 0:t.Bia();};q.prototype.wG=function(t){var u;null === (u=this.Wg) || void 0 === u?void 0:u.wG(t);};q.prototype.Zra=function(t){m.assert(this.na && this.Wg);return p.prototype.Zra.call(this,t);};return q;})(r.uaa);b.Ita=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Zta=void 0;c=a(0);g=a(427);l=c.__importDefault(a(3));m=a(252);a(16);d=a(248);f=a(9);h=a(29);k=a(64);n=a(387);p=a(5);q=a(1002);r=(function(){function t(u,w,v,x,y,z,B,A,E,D){var F;F=this;this.na=u;this.P=w;this.u=v;this.G=x;this.Sz=y;this.fg=z;this.qd=B;this.Rs=A;this.Oz=E;this.Nz=D;this.VY=!1;this.$Ha=new f.mFa();this.Kca=this.hLb.bind(this);this.Wi=new m.HW(this.u);this.zv=new q.mGa(this.u,u);this.Csb(this.zv);this.wk && (this.Pib=this.Aia(this.sBb()),this.vhb=f.Zp.Psa(this.wk.map(function(C){return C.gy;}),function(C){return C.every(function(G){return G;});},function(C){return F.Oz.set(C);}),this.vfb=new n.P$(this.wk.map(function(C){return C.pT;}),function(C){return f.S.min.apply(f.S,c.__spread(C));},function(C){F.Nz.set(C);},f.S.lb(-Infinity)));this.Co=A.AE(function(){return F.rnb();},"branchPruner");}t.prototype.rnb=function(){var u,w,v,x,y,z,B;return c.__generator(this,function(A){switch(A.label){case 0:if(!this.Wi.ANa)return [3,2];u=c.__read(this.Wi.Ura(),1);w=u[0];v=null !== (B=null === (z=this.Sz.xV) || void 0 === z?void 0:z.X) && void 0 !== B?B:0;x=w.GGb || w.fh;y=x.add(f.S.lb(v + 1E3));return [4,k.vk.FN(y)];case 1:return (A.wg(),this.Wi.remove(w),w.events.removeListener("branchEdited",this.Kca),w.Sf(),[3,0]);case 2:return [2];}});};Object.defineProperties(t.prototype,{BOb:{get:function(){var u;return !(null === (u=this.Pib) || void 0 === u || !u.gy.value);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ry:{get:function(){var u;return !(null === (u=this.wk[0]) || void 0 === u || !u.Ry);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{HGb:{get:function(){return this.VY?f.S.max.apply(f.S,c.__spread(this.wk.map(function(u){var w;return null === (w=u.rmb) || void 0 === w?void 0:w.qWa;}).filter(h.b5))):void 0;},enumerable:!1,configurable:!0}});t.prototype.hLb=function(){var u;this.Co.Xk();u=this.wk.filter(function(w){return w.TEb;}).map(function(w){return w.mediaType;});this.wG(u);this.resume(u);};t.prototype.gwb=function(u){u.events.addListener("branchEdited",this.Kca);this.Wi.enqueue(u);this.Co.state === k.gl.complete && this.Co.Xk();u.R.ot && this.Wi.w1();this.VY || this.Exb(u);};t.prototype.jU=function(u){this.wk.forEach(function(w){w.jU(u);});};t.prototype.reset=function(){this.wk.forEach(function(u){u.reset();});this.VY=!1;this.$Ha.removeAllListeners();this.qE();};t.prototype.$U=function(u){u=this.Aia(u);null === u || void 0 === u?void 0:u.reset();};t.prototype.qE=function(){var u;u=this;this.Wi.Ura().forEach(function(w){return w.events.removeListener("branchEdited",u.Kca);});this.Wi.clear();this.Co.Xk();};t.prototype.resume=function(u){this.wk.forEach(function(w){void 0 !== u && -1 === u.indexOf(w.mediaType) || w.resume();});};t.prototype.wG=function(u){this.wk.forEach(function(w){return (void 0 === u || -1 !== u.indexOf(w.mediaType)) && w.stop();});};t.prototype.Qk=function(){this.u.trace("attached-player: onUnderflow");};t.prototype.yTa=function(){return this.Wi.getIterator();};t.prototype.mAb=function(){return this.OA()[0];};t.prototype.OA=function(){return this.Wi.Ura();};t.prototype.Csb=function(u){var w,v;w=this;this.Lj("createMediaSourceStart");if(this.Sz.zS)v=this.Sz.zS();else (v=new l.default.MediaSource(this.P.P),v.Rb || (v.Rb=l.default.MediaSource.Rb));if(1 !== v.readyState)this.Do("exception in init","NFErr_MC_StreamingInitFailure");else {this.Lj("createMediaSourceEnd");this.lf=v;if(!v.D_(this.qd))throw (this.u.trace("Error:",v.error),this.Do("error creating source buffers","NFErr_MC_StreamingInitFailure"),v.error);this.wk=v.sourceBuffers.filter(function(x){return 0 <= w.qd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.d9(w.u,x.mediaType,v,x,w.G,{ie:function(){return w.P.Kd.X;},Jn:function(z){return w.P.Jn(z.aa);}},w.Rs);y.addListener("error",function(z){return w.Do(z.errorstr);});y.addListener("logdata",function(z){return w.fg.emit("logdata",z);});return new g.P8(y,x.mediaType,w,w.G,w.u,w.P,w.Sz,w.Rs,u);});}};t.prototype.Gb=function(){this.vhb.clear();this.vfb.clear();this.wk.forEach(function(u){return u.Gb();});this.Sz.zS || this.lf.Yo();this.qE();this.Co.Gb();};t.prototype.Yg=function(u){return this.wk.every(function(w){return w.Yg(u);});};t.prototype.Bia=function(){return {oPb:this.OA(),INb:this.wk};};t.prototype.Exb=function(u){var w;w=this;this.VY=!0;u.oh.forEach(function(v){var x;x=w.Aia(v.mediaType);if(void 0 !== x)w.$Ha.once(v.cia,function(y){return x.Fxb(y);});});if(u.$c)this.MPa();else u.events.once("branchNormalized",function(){return w.MPa();});};t.prototype.MPa=function(){var u;u=this.mAb();u && (p.assert(u.ek),this.fg.emit("ptsChanged",{initialTimestamp:u.ek}));};t.prototype.Aia=function(u){return h.kg(this.wk,function(w){return w.mediaType === u;});};t.prototype.sBb=function(){return -1 !== this.qd.indexOf(1)?1:0;};t.prototype.Lj=function(u){u={type:"startEvent",event:u,time:l.default.time.ba()};this.fg.emit(u.type,u);};t.prototype.Do=function(u,w){this.na.hh(u,void 0,w);};return t;})();b.Zta=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mGa=void 0;c=a(0).__importDefault(a(3));g=a(37);r=(function(){function l(m,d){this.u=m;this.XI=d;}l.prototype.aC=function(m,d,f,h,k){var n;void 0 === k && (k=!1);n=this.Egb(m);this.q_={startTime:c.default.time.ba(),oUb:m,pUb:m.duration.X,nUb:f.X,Pc:this.zAb(h,d),FWb:this.jCb(h,k),Jga:k,Aj:h,$Ma:n,cKb:this.UAb(m,f)};};l.prototype.fja=function(m){var d,f,h,k,n,p,q,t,u,w,v,x,y,z;if(this.q_ && 0 !== Object.keys(this.q_.$Ma).length){d=this.q_;f=d.$Ma;h=d.cKb;k=d.Jga;n=d.Aj;p=d.oUb;q=d.pUb;t=d.nUb;u=d.startTime;w=d.Pc;d=d.FWb;this.q_=void 0;v=this.eca(m).uq;x=this.Fyb(p.id,m,f);v=this.MIa(x.weight,v);y={};for(z in f){z !== m && (y[z]=f[z].details);}f=c.default.time.ba() - u;return {segment:m,srcsegment:p.id,srcsegmentduration:q,srcoffset:this.TBb(p,t,n,k),seamlessRequested:n,atRequest:x,atTransition:v,discard:y,transitionType:w,transitionTypeAtRequest:d,delayToTransition:this.zzb(q,t,n,k),durationOfTransition:n?0:f,nextExitPositionAtRequest:h};}};l.prototype.Fyb=function(m,d,f){var h,k,n;n={};(f=f[d])?n=f.details:(g.assert(this.XI),n.weight=null === (k=null === (h=this.XI.La.ya[m].next) || void 0 === h?void 0:h[d]) || void 0 === k?void 0:k.weight);return n;};l.prototype.zzb=function(m,d,f,h){var k;h || (k=f?m - d:0);return k;};l.prototype.UAb=function(m,d){var f,h,k;h=m.Dj.add(d);null === (f=m.qv) || void 0 === f?void 0:f.some(function(n){h.lessThan(n.$c) && (k=n.$c.X);});return k;};l.prototype.TBb=function(m,d,f,h){return f || h?m.duration.X:d;};l.prototype.zAb=function(m,d){return m?"seamless":this.eca(d).OS?"reset":"long";};l.prototype.jCb=function(m,d){return m || d?"lazy":"immediate";};l.prototype.Egb=function(m){var d,f;d=this;f={};m.jy.forEach(function(h){var k,n;k=m.gKb[h];n=d.eca(h).uq;f[h]={details:d.MIa(k,n)};});return f;};l.prototype.eca=function(m){var d,f;m=this.XI.Dia(m);if(0 === m.length)return {OS:!1,uq:{Np:0,hu:0,nC:0,x_:0}};d=m[0];m=d.Eia();f=d.Oa(0) && 0 === m.hu;d=d.Oa(1) && 0 === m.Np;return {OS:!f && !d,uq:m};};l.prototype.MIa=function(m,d){return {weight:m,vbuflmsec:d.Np,abuflmsec:d.hu,vbuflbytes:d.nC,abuflbytes:d.x_};};return l;})();b.mGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xDa=void 0;c=a(17);r=a(39);a=(function(){function g(l){var m;m=this;this.P=l;this.rca=!1;this.yD=new c.sh();this.yD.on(l,"paused",function(){return m.q5();});this.yD.on(l,"playing",function(){return m.q5(!0);});this.yD.on(l,"underflow",function(){return m.q5();});this.yD.on(l,"skipped",function(){return m.mU();});this.yD.on(l,"clockAdjusted",function(){return m.iU();});this.yD.on(l,"playbackRateChanged",function(){return m.CLb();});}Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.SJa || this.P.ec;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$j:{get:function(){return this.rca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){var l;return null !== (l=this.P.playbackRate) && void 0 !== l?l:1;},enumerable:!1,configurable:!0}});g.prototype.q5=function(l){void 0 === l && (l=!1);l !== this.rca && (this.SJa=(this.rca=l)?void 0:this.P.ec);this.emit("stopStart",{type:"stopStart"});};g.prototype.mU=function(){this.SJa=void 0;this.iU();};g.prototype.iU=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};g.prototype.CLb=function(){this.emit("speedChanged",{type:"speedChanged"});};g.prototype.Gb=function(){this.q5();this.yD.clear();};return g;})();b.xDa=a;r.hf(c.EventEmitter,a);},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va;Object.defineProperties(b,{__esModule:{value:!0}});b.Jta=void 0;c=a(0);g=a(17);l=a(233);m=a(16);d=a(1005);f=a(9);h=a(416);k=a(1006);n=c.__importDefault(a(3));p=a(5);q=a(123);t=a(1007);u=a(29);w=a(64);v=a(95);x=a(58);y=a(1008);z=a(423);B=a(260);A=a(261);E=a(1009);D=a(127);F=c.__importDefault(a(109));C=a(1010);G=a(1011);H=a(1012);J=a(1013);I=a(1014);M=a(1017);N=a(1019);K=a(1020);O=a(1021);R=a(1022);L=a(441);Q=a(1023);P=a(1024);ha=a(1025);va=a(1026);r=(function(){function la(S,da,ya,U,ma,ta,Ja,wa,ra,Qa,Pa){var Sa;Sa=this;this.XI=S;this.lKa=da;this.config=ya;this.id=U;this.ojb=ta;this.xgb=Ja;this.jm=wa;this.cpb=ra;this.cE="2.0";this.Td=l.Tm.CLOSED;this.cca=!0;this.iMa=new g.sh();this.ppa=!1;this.A5=[];this.n7=this.iqa=!1;this.AB=function($a){var kb,bb;$a=Sa.navigator.cf($a.position.oa);bb=Sa.ZSa($a);bb && (null === (kb=Sa.P.zv) || void 0 === kb?void 0:kb.aC($a,bb,Sa.Vh.offset,!0,!1));Sa.pv();};this.jU=function(){Sa.jm("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.kk=new D.iD({wF:10,av:this,source:"AsePlaygraph"});this.R2a(S);this.Ib=new M.BDa();this.vi=new va.DDa(this.console);this.Tja=new G.Exa(this.config,f.S.lb(this.config.p4),{parent:this.DTa.bind(this)});this.events=new g.EventEmitter();this.a4a=new k.IFa(this.console,this.events);this.FM=[];this.ZQ={hF:ya.Js || Infinity};this.P=new t.iaa(this);this.Rs=new w.fP(this.P.sa,this.console,"playgraph");this.Pp=new w.fP(new B.CY({$j:!0,currentTime:function(){return f.S.lb(n.default.time.ba());},speed:1}),this.console,"wallclock");this.Df=new N.yua(this.console,ya,ma,this.events,this,this.Pp);this.X_=new R.sua(this.Rs,this.Pp,this.config,this.hk.bind(this),this.nf,this.console);this.i5=this.Df.i5.bind(this.Df);this.nU=this.Df.nU.bind(this.Df);this.r5=this.Df.r5.bind(this.Df);this.N6=this.N6.bind(this);this.YU=new x.zEa(ya);P.YNa({Df:this.Df,Pp:this.Pp},w.vk.GN(f.S.lb(this.config.vy)),function(){Sa.P.mp && Sa.P.Fi && (Sa.Df.state.value === m.jc.Xe || Sa.Df.state.value === m.jc.Dc) && Sa.BD(Sa.P.Fi);},"buffering");this.YU.ol(new A.hD(this.Df.kk));this.YU.ol(new E.YCa(this.hBb.bind(this)));this.YU.ol(new A.hD(this.kk));this.Z3a=new ha.HFa(this,this.console,Pa,Qa);}Object.defineProperties(la.prototype,{state:{get:function(){return this.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{bka:{get:function(){return !(this.P instanceof t.iaa);},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{La:{get:function(){return this.XI;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{weight:{get:function(){return this.lKa;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{H6:{get:function(){p.assert(this.RK,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.jn.position;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{i2a:{get:function(){p.assert(this.RK,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.YA(this.H6).xA;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{nf:{get:function(){return this.Df.state;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{$d:{get:function(){return this.Df.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{RK:{get:function(){return void 0 !== this.jn;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Vh:{get:function(){return this.P.mp?this.P.Vh:this.H6;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Kd:{get:function(){return this.P.mp?this.P.Kd:this.i2a;},enumerable:!1,configurable:!0}});la.prototype.open=function(){this.cca=!0;if(this.Td !== l.Tm.CLOSED)return !1;this.Td=l.Tm.OPEN;return !0;};la.prototype.Gb=function(){this.Pp.Gb();this.Rs.Gb();this.Td !== l.Tm.CLOSED && (this.Sf(),this.Df.stop(),this.Td=l.Tm.CLOSED);};la.prototype.WB=function(S,da){var ya,U,ma;ya=this;this.HLa=S;this.B6a=da;da=K.rQa(this.Ib,this.N6.bind(this));S=da.Eob;da=da.snb;if(0 !== S.length && 1 === S.length && 0 === S[0]){U=this.Vh;this.P.pause(S);S.forEach(function(ta){return ya.P.$U(ta);});ma=this.YA(U).xA;da.forEach(function(ta){var Ja;Ja=ta.wb;Ja.WB(ta.oh,U.oa === Ja.R.id?ma:void 0,void 0 !== ya.Ib.mTa(Ja));});this.Df.TLb(U,da[0].oh);this.P.resume(S);}};la.prototype.xE=function(S){return v.xE(this.config,S);};la.prototype.yE=function(S){return v.yE(this.config,S);};la.prototype.$Sa=function(S,da){var ya,U;ya=this.navigator.cf(S);U=this.navigator.cf(da);return {s6a:ya.iDb(da),a0:da !== S && this.Ib.has(da),Sb:U.Dj.X,TL:this.vi.get(ya.id)};};la.prototype.hk=function(S,da,ya,U){var ma,ta,Ja,wa;ma=this;void 0 === U && (U=!0);if(!da)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(U && this.vi.get(S))ya || this.vi.set(S,da);else {Ja=this.navigator.cf(S);this.Vh.oa === S && (null === (ta=this.P.zv) || void 0 === ta?void 0:ta.aC(Ja,da,this.Vh.offset,U,ya));U || (ta={offset:f.S.nb,oa:da},this.jn={position:ta,Nk:!0,B5a:ta});ya?this.vi.JSb(Ja.id,da):this.vi.set(Ja.id,da);this.pv();if(U && Ja.qv && 0 < Ja.qv.length){S=this.Dia(S);p.assert(1 === S.length);wa=S[0];wa.WWb(Ja.qv) && this.Dia(da).forEach(function(ra){return ma.YG(wa,ra);});}U || this.Df.wZa(this.H6);}};la.prototype.YG=function(S,da){var ya;ya=this;S=S.fh.Sa(da.R.Dj);da.YG(S);this.Ib.mzb(da).forEach(function(U){return ya.YG(da,U);});};la.prototype.di=function(S){this.navigator.di(S);this.pv();};la.prototype.Pqa=function(S,da){this.sea=S;this.bz=da;this.jm("setStreamFilters");};la.prototype.kG=function(S,da){var ya,U,ma;ma=this.eqa(S);if(void 0 === ma || void 0 === this.La.ya[ma.oa])this.hh("Invalid seekPosition");else if(void 0 === this.HLa || void 0 === this.B6a)this.hh("No track selectors available");else if(this.bka && this.P.cF || !C.cUa(null === (ya=this.jn) || void 0 === ya?void 0:ya.B5a,ma))(this.RK && (ya=this.navigator.cf(this.Vh.oa),null === (U=this.P.zv) || void 0 === U?void 0:U.aC(ya,ma.oa,this.Vh.offset,!1),this.Vh.oa === S.oa?this.vi.hpb(S.oa):this.vi.qfa()),this.Sf(!0),this.gpb(),this.jn={position:ma,B5a:ma,Nk:!1,I_a:da},this.Df.wZa(),this.Td=l.Tm.Kj,this.pv());};la.prototype.Sf=function(S){var da,ya,U;U=this.$Ta();this.Ib.reset();this.A5=[];if(!S && (this.vi.qfa(),U.length))try{for(var ma=c.__values(U),ta=ma.next();!ta.done;ta=ma.next()){ta.value.pQb();}}catch(wa){var Ja;Ja={error:wa};}finally{try{ta && !ta.done && (da=ma.return) && da.call(ma);}finally{if(Ja)throw Ja.error;}}this.FM.forEach(function(wa,ra){var Qa,$a,kb;try{for(var Pa=c.__values(U),Sa=Pa.next();!Sa.done;Sa=Pa.next()){$a=Sa.value;kb=$a.uQ(m.xe[ra],wa);S && kb.length && $a.z6(kb);}}catch(Ra){var bb;bb={error:Ra};}finally{try{Sa && !Sa.done && (Qa=Pa.return) && Qa.call(Pa);}finally{if(bb)throw bb.error;}}q.ko.instance.UJ(wa);});this.FM=[];this.Rs.reset();this.Pp.reset();this.P.reset();this.jn=void 0;this.X_.reset();null === (ya=this.iMa) || void 0 === ya?void 0:ya.clear();this.Td === l.Tm.Kj && (this.Td=l.Tm.OPEN);};la.prototype.Dia=function(S){return this.Ib.OA(S);};la.prototype.Qk=function(S){this.Df.Qk(S);p.assert(this.P.mL,"Must have an appended branch on underflow");this.X_.b5a(this.P.mL,this.Kd);this.jm("onUnderflow");};la.prototype.ol=function(S){this.YU.ol(S);};la.prototype.mea=function(S){this.ol(new y.DEa(S));this.omb(S);};la.prototype.omb=function(S){this.P.Zra(S)?(this.P=S,this.Rs.xLa(this.P.sa),this.P.events.on("segmentPresenting",this.AB),this.P.events.on("drmReady",this.jU)):this.hh("player in use");};la.prototype.YA=function(S){var da,ya;da=S.offset;ya=this.navigator.cf(S.oa);S=ya.aa;da=ya.Dj.add(da);return {aa:S,xA:da};};la.prototype.Vq=function(S,da){var ya;ya=this.P.Vq(S);if(void 0 !== ya)return ya;ya=this.P.mL;return C.Vq(S,{na:this,vEb:ya && ({id:ya.R.id,fSb:ya.L5})},da);};la.prototype.LS=function(S){return this.P.LS(S);};la.prototype.eqa=function(S){var da;da=this.La.ya[S.oa];if(void 0 !== da)return null === da.Mc || void 0 === da.Mc?{oa:S.oa,offset:f.S.max(f.S.nb,S.offset)}:{oa:S.oa,offset:f.S.max(f.S.nb,f.S.min(S.offset,f.S.lb(da.Mc - da.Zb)))};};la.prototype.rm=function(S,da){return this.xgb(this.La.ya[S].aa,da);};la.prototype.x2=function(){return L.ITa(this.Ib);};la.prototype.eja=function(){return this.ZQ.hF;};la.prototype.Pzb=function(S){return Q.JTa(this.Ib,S);};la.prototype.ij=function(S){var da,ya;this.Ib.forEach(function(U){var ma;if(!U.mJ || U.R.ot){ma=U.ETa(0);U=U.ETa(1);if(!da || ma < da)da=ma;if(!ya || U < ya)ya=U;}});return {K7:da?Math.max(da - S.X,0):0,L7:ya?Math.max(ya - S.X,0):0};};la.prototype.tK=function(){var S,da,ya,U;ya=this.RK?this.ij(this.Kd):{K7:0,L7:0};U=F.default.instance().get();return {totalabuflmsecs:ya.K7,totalvbuflmsecs:ya.L7,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (da=Number(0 < U.confidence) && (null === (S=U.Ha) || void 0 === S?void 0:S.Aa)) && void 0 !== da?da:0};};la.prototype.KK=function(){var S,da,ya,U,ma,ta;S=this;if(this.Ln())return (this.kk.Lw({isStreamingFailureReported:!0}),[]);da=this.Ib.size;this.kk.Lw({branchCount:da});if(0 === da)return [];ya=this.Kd;U=this.Vh;ma=[];ta=this.RK?this.navigator.cf(this.Vh.oa).Iy:1;da=this.Ib.reduce(function(Ja,wa,ra){var Qa,Pa,kb,bb,Ra;try{for(var Sa=c.__values(wa.Ah.Ie),$a=Sa.next();!$a.done;$a=Sa.next()){kb=$a.value;if(!kb.In()){bb="p" + S.id + "-" + ra + (null === (Pa=wa.ek) || void 0 === Pa?void 0:Pa.X);Ra=S.CTa(kb);Ja.push(S.Lsb(kb,Ra,bb,ta,ya,U));}!kb.Ku() && S.kk.enabled && ma.push({segmentId:kb.oa,isDoneStreaming:kb.In(),isNormalized:kb.Nk(),needsHeaderRequest:kb.track.pna});}}catch(gb){var Wa;Wa={error:gb};}finally{try{$a && !$a.done && (Qa=Sa.return) && Qa.call(Sa);}finally{if(Wa)throw Wa.error;}}return Ja;},[]);this.kk.Lw({nonStreamables:ma});return da;};la.prototype.CTa=function(S){var da;if(S.y_)return S.y_;da=this.DTa(S);return !da || this.config.p1 && this.navigator.fDb(da.wb.R,S.oa)?S.t0:this.CTa(da);};la.prototype.DTa=function(S){var da;return null === (da=this.Ib.mTa(S.wb)) || void 0 === da?void 0:da.dja(S.mediaType);};la.prototype.VLb=function(S){var da,ya;da=this.P.Vh;if(da)ya=this.navigator.cf(da.oa).aa;this.hh("BufferingStateTracker: Temporary failure while buffering",ya,"NFErr_MC_StreamingFailure",null === S || void 0 === S?void 0:S.Dg,null === S || void 0 === S?void 0:S.dF,null === S || void 0 === S?void 0:S.Bi);};la.prototype.hh=function(S,da,ya,U,ma,ta){this.a4a.hh(S,da,ya,U,ma,ta);};la.prototype.R7=function(S,da){da=this.v2(da);this.events.emit("logdata",{type:"logdata",target:S,fields:da});};la.prototype.v2=function(S){var da;da=this.YU.ns(S);S === x.pe.Cq && (S=this.tK(),da.vbuflmsec=S.totalvbuflmsecs,da.abuflmsec=S.totalabuflmsecs,da.vbuflbytes=S.vbuflbytes,da.abuflbytes=S.abuflbytes);return da;};la.prototype.I5a=function(S){this.ZQ=S;this.jm("updateBudget");};la.prototype.Ln=function(){return this.a4a.Ln();};la.prototype.X5a=function(S){S !== this.weight && (this.lKa=S,this.events.emit("weightUpdated"));};la.prototype.T5a=function(S){var da,ya,U,ma,ta,ra,Qa,Pa,Sa,$a,kb,bb,Ra,Wa,gb;U=I.DMa(this.La,S);ma=U.Dob;ta=U.cXb;if([U.jlb,U.AM,ma].every(function(ob){return !ob.length;}))return {W:!0,reason:m.jw.Rcb};if(0 === ma.length && 0 === ta.length)return {W:!1,reason:m.jw.ccb};try{for(var Ja=c.__values(ma),wa=Ja.next();!wa.done;wa=Ja.next()){ra=wa.value;Qa=this.La.ya[ra];Pa=Qa.Zb;Sa=Qa.Mc;$a=Qa.aa;kb=S.ya[ra];bb=kb.Mc;Ra=kb.Zb;Wa=kb.aa;if(this.Vh.oa === ra && bb !== Sa){if(!bb)return {W:!1,reason:m.jw.Sdb};gb=f.S.lb(bb - Ra);if(null === (ya=this.Vh.offset) || void 0 === ya?0:ya.greaterThan(gb))return {W:!1,reason:m.jw.i7a};}if(Pa !== Ra)return {W:!1,reason:m.jw.A$a};if($a !== Wa)return {W:!1,reason:m.jw.B$a};}}catch(ob){var db;db={error:ob};}finally{try{wa && !wa.done && (da=Ja.return) && da.call(Ja);}finally{if(db)throw db.error;}}this.R2a(S);this.pv();return {W:!0,reason:m.jw.Pcb};};la.prototype.R2a=function(S){this.XI=S;this.navigator=new J.JDa(S);this.ECb=I.LNa(this.navigator);};la.prototype.Yna=function(S,da){this.n1a(S);S.gK.addListener("criticalNetworkError",this.i5);S.gK.addListener("temporaryNetworkError",this.nU);S.gK.addListener("updatingLastSuccessEvent",this.r5);this.Td === l.Tm.Kj && da && this.d2a();};la.prototype.Zna=function(S){0 === this.Ib.filter(function(da){return da.Hx && da.M === S;}).length && this.n1a(S);};la.prototype.n1a=function(S){S.gK.removeListener("criticalNetworkError",this.i5);S.gK.removeListener("temporaryNetworkError",this.nU);S.gK.removeListener("updatingLastSuccessEvent",this.r5);};la.prototype.rKa=function(S){var da,ya;da=this;p.assert(S.Nk,"expected branch to be normalized on addBranchToPlayer");this.P.cF || (null === (ya=this.jn) || void 0 === ya?0:ya.Nk) || this.Dxb(S);this.Df.a8(S.oh);!this.P.cF && this.config.B5 && (this.Lj("createDlTracksStart"),S.events.once("requestQueuesCreated",function(){return da.Lj("createDlTracksEnd");}));this.P.wha(S);this.X_.b5a(S,this.Kd);};la.prototype.Dxb=function(S){p.assert(S.$c,"Normalized branch should have a defined content start timestamp");p.assert(this.jn,"AsePlaygraph should have a seek position on first branch normalization");p.assert(!this.jn.Nk,"Seek position should not already be normalized on first branch normalization");this.jn=c.__assign(c.__assign({},this.jn),{position:{oa:S.R.id,offset:S.$c.Sa(S.R.Dj)},Nk:!0});this.Df.FSb(this.jn.position,S.oh.filter(function(da){return 0 === da.mediaType;})[0]);};la.prototype.gpb=function(){var S;this.X_.reset();this.P.qE();this.jn=void 0;null === (S=this.iMa) || void 0 === S?void 0:S.clear();};la.prototype.rvb=function(S,da){this.events.emit("streamSelection",{type:"streamSelection",mediaType:S.mediaType,selDiscBw:null === da || void 0 === da?void 0:da.K6,histAge:null === da || void 0 === da?void 0:da.Gn});};la.prototype.Lsb=function(S,da,ya,U,ma,ta){var Ja,wa;Ja=this;wa=S.ao;return {R:S.oa,mediaType:S.mediaType,uj:S.uj,nf:this.nf.value,ry:da,ao:wa,Kd:ma,V5:ta.offset,FU:U,Iy:S.wb.R.Iy,duration:S.wb.PR,XUb:wa.Sa(S.J3a),Ku:S.Ku(),In:S.In(),groupId:ya,ZVa:function(){return Ja.Z3a.mob(S.mediaType);},cWa:function(){var ra,Qa,Pa,Sa,$a,kb,bb;Qa=S.mediaType;Pa=Ja.Tja.kSb(Ja.nf.value,Ja.Kd,Ja.P.playbackRate,S,0 === Qa?Ja.sea:Ja.bz);Sa=Pa.stream;$a=Pa.gN;kb=Pa.mSb;Pa=Pa.Ns;if(!Sa)return {pp:!1,reason:"selectLocationsAndStream"};if(Ja.nf.value === m.jc.Kj && S.wb && S.wb.M.QS && !S.wb.M.IT && !Ja.P.Jn(S.wb.M.aa) && S.ao.X - Ja.Kd.X > Ja.config.uXa)return {pp:!1,reason:"maxBufferingCompleteBufferInMs"};Ja.rvb(Sa,kb);bb=1;if(null === (ra=S.wb) || void 0 === ra?0:ra.oh.every(function(Ra){return 0 === Ra.mediaType;}))bb=0;Ja.Df.pg && Qa === bb && Ja.Df.QSb(S.Py.TM,Sa.bitrate,kb);Ja.YM($a);ra=S.UWb(Sa,Ja.FM[Qa],Pa);ra.pp && Ja.cca && (Ja.Lj("firstDriveStreaming"),Ja.cca=!1);return ra;}};};la.prototype.YM=function(S){var da;da=this;S.forEach(function(ya){ya.M.KSb(ya,function(){var U,ma,ta;p.assert(da.RK,"Speculative header callback after streaming is cancelled");U=da.Df.state.value;ma=da.Kd;ta=ma.add(f.S.lb(da.config.QT));return {R:"" + ya.M.aa,mediaType:ya.mediaType,uj:[],nf:U,In:!1,Ku:!0,ry:ta,ao:ta,Kd:ma,V5:da.Vh.offset,FU:1,Iy:1};});});};la.prototype.d2a=function(){var S;S=this;this.iqa || (this.iqa=!0,Promise.resolve().then(function(){S.iqa=!1;S.pv();}));};la.prototype.pv=function(){var S,da,ya,U,ma;S=this;if(this.Td === l.Tm.Kj){p.assert(!this.ppa,"Unexpected re-entrant call to reevaluateBranches");this.ppa=!0;this.A5=[];da=this.Vh;ya=this.navigator.cf(da.oa);U=this.Ib.nzb();ma=this.Eyb(da.oa).map(function(ta){return ta.R.id;});ya=H.pv(this.console,this.ECb,ya,U,this.vi,ma,f.S.lb(this.config.qnb),f.S.lb(Math.min(this.config.KXa,3E4)),this.config.jna);U=this.Ib.nXb(ya,function(ta,Ja){var wa;wa=S.navigator.cf(ta);ta=ta === da.oa?wa.Dj.add(da.offset):wa.Dj;return S.RWb(wa,ta,Ja);});ya=U.pending;U.AM.forEach(function(ta){ta.Sf();S.vi.clear(ta.R.id);S.P.YCb(ta) || S.events.emit("segmentAborted",{type:"segmentAborted",segmentId:ta.R.id});});this.X0a();!this.config.B5 && 0 === this.FM.length && 0 < this.Ib.size && (U=c.__read(this.$Ta(),1)[0]) && this.LPb(U);0 === ya.length && this.UMa();this.A5=ya;this.ppa=!1;setTimeout(function(){S.jm("reevaluateBranches");},0);}};la.prototype.Eyb=function(S){var da;da=!1;return this.P.Ib.filter(function(ya){ya.R.id === S && (da=!0);return da;});};la.prototype.$Ta=function(){return u.oLa(this.Ib.filter(function(S){return S.Hx;}).map(function(S){return S.M;}));};la.prototype.X0a=function(){var S;if(this.Td === l.Tm.Kj){if(!this.P.mL){S=c.__read(this.Ib.OA(this.H6.oa),1)[0];(null === S || void 0 === S?0:S.Nk) && this.rKa(S);}if(this.P.mL)for(;;){S=this.ZSa(this.P.mL.R);if(!S)break;S=c.__read(this.Ib.OA(S),1)[0];if(null === S || void 0 === S || !S.Nk)break;this.rKa(S);}}};la.prototype.ZSa=function(S){var da;da=this.vi.get(S.id);if(void 0 !== da)return da;S=this.navigator.Gzb(S);if(1 === S.length)return S[0].id;};la.prototype.UMa=function(){var S;S=0 !== this.yyb();S || this.n7?S && this.n7 && (this.n7=!1):(this.Df.pg && (S=this.ij(this.Kd),this.Df.$e("complete",S.K7,S.L7)),this.lib(),this.n7=!0);};la.prototype.yyb=function(){return this.Ib.filter(function(S){return !S.mJ;}).length;};la.prototype.BD=function(S){this.Df.YMa(this.Kd,this.P.playbackRate,S,{kfa:this.Tja.kfa.bind(this.Tja,this.Z3a)});};la.prototype.jLb=function(S,da){var ya,U;ya=this;if(da.didNormalizeSegment){U=O.cFa.xCb(S);p.assert(U,"Segment should be normalized");Promise.resolve().then(function(){return ya.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:S.R.id,normalizedStart:da.segmentContentStart,normalizedEnd:da.branchContentEnd,viewableContentEnd:U.LYb,viewableEarliestContentEnd:U.NYb});});}this.A5.some(function(ma){return ma.ZNb === S;})?this.d2a():Promise.resolve().then(function(){ya.X0a();});};la.prototype.Pna=function(){this.UMa();};la.prototype.iLb=function(){this.pv();};la.prototype.RWb=function(S,da,ya){var U,ma,ta;U=this;ta=f.S.nb;if(!ya || ya.Nk){if(null === ya || void 0 === ya?0:ya.fh)ta=ya.fh.Sa(S.Dj);else if(null === (ma=this.jn) || void 0 === ma?0:ma.I_a)ta=this.jn.I_a.Sa(this.i2a);if(this.cpb(S,da))throw Error("Not implemented");ma=new d.uua(S.aa,this.ojb,function(Ja,wa,ra){U.Yna(wa,ra);U.LZ(Ja.R.id,wa,Ja.tq);},this.Zna.bind(this));S=new h.b9(this.config,this.console,void 0,this.events,S,this.N6,void 0,da,ta,function(){return U.Kd.X;},ya,[],this.nf,this.Rs,ma);S.events.on("branchNormalized",this.jLb.bind(this,S));S.events.on("lastRequestIssued",this.iLb.bind(this,S));S.events.on("branchStreamingComplete",this.Pna.bind(this,S));S.events.on("checkBufferingProgress",this.BD.bind(this,S));S.Wa();return S;}};la.prototype.LPb=function(S){var da,ya,U,ma;da=this;ya=S.H;p.assert(0 === this.FM.length);U=0;ma=new g.sh();this.Lj("createDlTracksStart");this.FM=m.xe.map(function(ta){ta=da.Yr(ta,ya,S);++U;ma.on(ta,"created",function(){--U;0 === U && (da.Lj("createDlTracksEnd"),ma.clear());});return ta;});};la.prototype.svb=function(S){this.events.emit("transportReport",S);};la.prototype.Yr=function(S,da,ya){var U;U=this;return z.Yr(S,ya,this.config,this.console,this.svb.bind(this),function(ma,ta){return U.hh("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",ma,0,ta);});};la.prototype.hBb=function(S){if(this.P.mp)return this.P.Fi.Oa(S);};la.prototype.N6=function(S){return [[0,this.HLa,"audio_tracks"],[1,this.B6a,"video_tracks"]].map(function(da){var ya,U;ya=c.__read(da,3);da=ya[0];U=ya[1];ya=ya[2];p.assert(U,"Expected mediaType " + da + " track selector to be defined");U=U.dr(S.la,S.la[ya]);return void 0 !== U?S.WTa(da,U):void 0;}).filter(u.b5);};la.prototype.LZ=function(S,da,ya){S={type:"segmentStarting",segmentId:S,contentOffset:ya.X,maxBitrates:{audio:da.Su[0],video:da.Su[1]}};this.events.emit(S.type,S);};la.prototype.lib=function(){var S;S={type:"streamerEnd",time:n.default.time.ba()};this.events.emit(S.type,S);};la.prototype.Lj=function(S){S={type:"startEvent",event:S,time:n.default.time.ba()};this.events.emit(S.type,S);};c.__decorate([D.Ub({methodName:"getStreamables",km:!0})],la.prototype,"KK",null);return la;})();b.Jta=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uua=void 0;r=(function(){function a(c,g,l,m){this.aa=c;this.Lpa=g;this.Yna=l;this.Zna=m;}Object.defineProperties(a.prototype,{M:{get:function(){var c;return null === (c=this.pW) || void 0 === c?void 0:c.M;},enumerable:!1,configurable:!0}});a.prototype.Gb=function(){var c;this.M && (this.M.psa(this.wb),this.Zna(this.M));null === (c=this.pW) || void 0 === c?void 0:c.Sla.release();this.pW=void 0;};a.prototype.Wa=function(c){var g,l,m,d;g=this;this.wb=c;l=this.Lpa(this.aa);m=l.oW;d=l.M;this.pW={Sla:l.Sla,M:d};d?this.fVa(d,c,!1):m.then(function(f){g.fVa(f,c,!0);});};a.prototype.fVa=function(c,g,l){this.pW && (this.pW.M=c,c.rpa(g),g.tEb(c),this.Yna(g,c,l));};return a;})();b.uua=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IFa=void 0;r=(function(){function a(c,g){this.u=c;this.fg=g;this.ura=!1;}a.prototype.hh=function(c,g,l,m,d,f){this.ura || (this.ura=!0,c={type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:c,networkErrorCode:m,httpCode:d,nativeCode:f,viewableId:g},this.u.error("notifyStreamingError: " + JSON.stringify(c)),this.fg.emit("error",c));};a.prototype.Ln=function(){return this.ura;};return a;})();b.IFa=r;},function(r,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iaa=void 0;c=a(0);g=a(5);l=a(9);m=a(20);d=a(260);r=(function(f){function h(k){var n;n=f.call(this) || this;n.na=k;n.Ib=[];n.vP=new d.CY({$j:!1,currentTime:function(){return n.mp?n.Kd:l.S.Kx;},speed:1});return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{sa:{get:function(){return this.vP;},enumerable:!1,configurable:!0}});h.prototype.P_=function(k,n){var p;p=!this.na;p && (this.na=k,this.Lba=(null === n || void 0 === n?0:n.mp)?n.Kd:void 0);return p;};h.prototype.qE=function(){this.Ib=[];this.Lba=void 0;};h.prototype.Pga=function(k){m.ma && g.assert(this.na === k);this.na=void 0;this.qE();};h.prototype.wha=function(){for(var k,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(k=this.Ib).push.apply(k,c.__spread(n));};h.prototype.zK=function(){return this.Lba?this.Lba:f.prototype.zK.call(this);};h.prototype.Jn=function(){return !1;};h.prototype.wG=function(){};return h;})(a(439).uaa);b.iaa=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;c=a(0);g=a(20);l=a(58);r=(function(){function m(d){this.Ca=d;}Object.defineProperties(m.prototype,{Sj:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{FF:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return g.ma;},enumerable:!1,configurable:!0}});m.prototype.ns=function(d){var f,h,p;d=d.nj;if(d === l.pe.Cq || d === l.pe.Lp)if(d=this.Ca.Bia()){h={};try{for(var k=c.__values(d.INb),n=k.next();!n.done;n=k.next()){p=n.value;h[p.mediaType]=this.cIb(p);}}catch(t){var q;q={error:t};}finally{try{n && !n.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return {branchQueue:this.aIb(d.oPb),playerIterator:h,driftStats:this.Ca.Qsa};}};m.prototype.cIb=function(d){return null === d || void 0 === d?void 0:d.FSa();};m.prototype.$Hb=function(d){var f,h,k;f=this;if(d){h=d.R;k={};d.FK().forEach(function(n){k[n.mediaType]=f.bIb(n);});return {sId:null === h || void 0 === h?void 0:h.id,cancelled:d.Qo,RM:k};}return d;};m.prototype.bIb=function(d){if(d && d.Ka)return d.Ka.sja();};m.prototype.aIb=function(d){var f;f=this;return d.map(function(h){return f.$Hb(h);});};return m;})();b.DEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YCa=void 0;c=a(58);r=(function(){function g(l){this.Oa=l;}Object.defineProperties(g.prototype,{Sj:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ns=function(l){var m,d;l=l.nj;if(l === c.pe.Lp || l === c.pe.Cq){l={};m=this.Oa(1);d=this.Oa(0);m && (l.videoPipelineSummary=this.j4a(m));d && (l.audioPipelineSummary=this.j4a(d));return l;}};g.prototype.j4a=function(l){var m,d,f,h,k;k=l.Ka.Y;return {y4b:null === (m=k.ek) || void 0 === m?void 0:m.X,x4b:k.f_a,y_:null === (d=l.y_) || void 0 === d?void 0:d.X,oa:l.oa,m5b:null === (f=l.$c) || void 0 === f?void 0:f.X,k5b:null === (h=l.Hd) || void 0 === h?void 0:h.X,q9b:l.ao.X,Ku:l.Ku(),Nk:l.Nk(),In:l.In(),H9b:l.track.pna,Ifa:k.Ifa,pn:l.Ka.pn,kr:l.Ka.kr,$:{current:k.$,J8b:k.N0a,v8b:k.Tk,zNa:k.vA,C5a:k.hXb}};};return g;})();b.YCa=r;},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Vq=b.cUa=void 0;c=a(9);g=a(5);l=a(20);m=c.S.lb(100);b.cUa=function(d,f){if(d === f)return !0;if(d && f && d.oa === f.oa){if(d.offset === f.offset)return !0;d=c.S.abs(d.offset.Sa(f.offset));if(m.greaterThan(d))return !0;}return !1;};b.Vq=function(d,f,h){var k,n,p,q;p=f.na;f=f.vEb;void 0 === h && (h={});q=p.La;p=p.navigator;q=p.cf(null !== (k=null === f || void 0 === f?void 0:f.id) && void 0 !== k?k:q.je);k=null !== (n=null === f || void 0 === f?void 0:f.fSb) && void 0 !== n?n:q.Dj;if(k.greaterThan(d))return h.v3a?{offset:d.Sa(k),oa:q.id}:void 0;f=p.ZFb(q);for(p=f.next();!p.done;){n=p.value;p=n.yn.Sa(n.Dj);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.Sa(q),l.ma && g.assert(d.Fn(c.S.nb) && d.lessThan(p)),{oa:n.id,offset:d});p=f.next();if(p.done && h.w3a)return {oa:n.id,offset:d.Sa(q)};}};},function(r,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Exa=void 0;r=a(0);c=a(16);g=r.__importDefault(a(109));l=r.__importDefault(a(3));m=a(179);d=a(29);a=(function(){function f(h,k,n){this.config=h;this.fUb=k;this.navigator=n;h=m.HK(this.config);this.T_a=[h.LB,h.Q5];}f.prototype.kSb=function(h,k,n,p,q){var t,u,w,v,x;u=[];if(!this.p_a(p.track))return {stream:w,gN:u};w=p.ag.Wx;v=q?q.qm(p.track.Cd,h):p.track.Cd;if(0 === v.length && (null === q || void 0 === q?0:q.lob))return {stream:void 0,gN:u};w && !w.track.equals(p.track) && (w=this.sxb(w,v));if(0 === p.mediaType && w && !this.ITb(p,w))return {stream:w,gN:u};h=this.Dsb(h === c.jc.Dc?c.ga.Dc:h === c.jc.Xe?c.ga.Xe:h === c.jc.dP?c.ga.Dc:h === c.jc.Kj?c.ga.oc:c.ga.zg,k,n,p);h=p.Py.uqa(h,v,void 0,this.T_a[p.mediaType],!0,p.track.M.ep);if(!h)return {stream:w,gN:u};h.reason && (x={reason:h.reason,K6:h.Gu,Mx:h.Mx,Gn:h.Gn,Hn:h.Hn});w=v[h.ce];p.ag.V2a(w);if(null === (t=h.ox) || void 0 === t?0:t.length)u=h.ox.map(function(y){return d.kg(v,function(z){return z.id === y;});}).filter(d.b5);p=h.Ns;return void 0 !== x?{stream:w,gN:u,mSb:x,Ns:p}:{stream:w,gN:u,Ns:p};};f.prototype.kfa=function(h,k,n,p,q,t,u){var w,v;if(!c.Ds(k))return {complete:!0,reason:"playing"};if(!t.vOb)return {complete:!1,reason:"unknown"};if(t.oMb)return t.pMb;w=this.FRa(t,n);v=t.ag.Wx;n=w.ul - w.ec;if(n < this.config.pj || void 0 === v)return {complete:!1,nA:n,reason:"preBuf"};if(0 === t.mediaType)return {complete:!0,nA:n,reason:"audio"};if(h=h.VMa(t.mediaType))return {complete:!0,nA:n,reason:h};this.p_a(t.track);t.Py.Joa([v],!1,w,this.T_a[t.mediaType]);k=t.Py.ex(w,k,q,v,{Zr:u});if(!k.complete && p)return {complete:!0,reason:"prebufferTimeLimit",nA:n};k.nA=n;return k;};f.prototype.sxb=function(h,k){var n;n=k[0];k.filter(function(p){return p.Es;}).every(function(p){return p.bitrate <= h.bitrate?n=p:!1;});return n;};f.prototype.ITb=function(h,k){return 0 < this.config.pN.length?!0:(h=h.ag.nL) && h === k.location?!1:!0;};f.prototype.p_a=function(h){return h.M.Al.aW(h.M.aa,h.Cd);};f.prototype.FRa=function(h,k){var z;for(var n,p=k.Sa(this.fUb),q=[],t=h,u=k,w,v,x=0,y=!0;t;){z=t.cAb(p);if(0 === z.Y.length)break;if(!y && !t.mJ)break;u=z.Y[0].ek;void 0 === w && (w=z.Y[z.Y.length - 1].fh,v=z.foa >= z.Y.length?w:z.Y[z.foa].ek);q=z.Y.concat(q);x+=z.Tk;t=this.navigator.parent(t);t=(null === t || void 0 === t?0:t.Ku())?t:void 0;y=!1;}return {su:l.default.Cn()[h.mediaType],V:Math.floor(u.X),ec:k.X,dc:Math.floor(null !== (n=null === w || void 0 === w?void 0:w.X) && void 0 !== n?n:k.X),ul:Math.floor(v?v.X:k.X),Gj:q.reduce(function(B,A){return B + A.$;},0),Tk:x,oRa:q.length,Y:q};};f.prototype.Dsb=function(h,k,n,p){var q,t,u;q=this.FRa(p,k);t=1 === p.mediaType?this.config.hW:this.config.MQ;u=g.default.instance();return {state:h,iB:h === c.ga.oc,Eg:p.Fl,playbackRate:n,buffer:q,bha:t,RWa:!1,RR:!1,pn:null === u || void 0 === u?void 0:u.pn,mediaType:p.mediaType,ec:k.X,Jq:!1,dla:!1,j6:0};};return f;})();b.Exa=a;},function(r,b,a){var l,m;function c(d,f,h,k,n){var p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G;t=d.console;u=d.complete;w=d.vi;v=d.gRb;x=d.Gub;y=d.FIb;z=d.jna;d=d.mMb;B=n || ({});A=B.root;E=B.Bkb;B=B.D1a;B=void 0 === B?0:B;D=!k || -1 !== u.indexOf(k.id);F=B < v.length && v[B] === f.id;w=k && w.get(k.id);C=n && k && w !== f.id?void 0 !== w?{Aj:0}:k.Wnb(f.id):{Aj:1};w=C.Aj;C=C.gF;G=void 0 === C?0:C;C=(w + G) * (null !== (p=null === n || void 0 === n?void 0:n.EOb) && void 0 !== p?p:1);m && t.trace("reevaluateBranches: visiting " + f.id + ", distance: " + (h + ", predecessor: ") + ((null === k || void 0 === k?void 0:k.id) + ", predecessorComplete: ") + (D + ", isOnRequiredPath: ") + (F + ", activeDistance: ") + (E + ", seamless ") + (w + ", immediate ") + (G + ", predecessor sum of: successor weights=") + ((null === k || void 0 === k?void 0:k.yra) + ", immediate weights= ") + (null === k || void 0 === k?void 0:k.s7));if(!F && (0 === C || !D && 0 === G && (l.assert(void 0 !== E),h - E >= y) || -1 === u.indexOf(f.id) && h >= x && 1 > C || !1 === A && C < z))return {m8:!1};B < v.length && l.assert(v[B] === f.id,"");n=null !== (q=null === n || void 0 === n?void 0:n.uj) && void 0 !== q?q:[];k && 1 > w && (n=n.concat([0 < G?{Aj:w,gF:G,duration:k.duration.X}:{Aj:w}]));d.push({R:f,Wq:null === k || void 0 === k?void 0:k.id,uj:n});h=D?h + f.duration.X:E;m && t.trace("reevaluateBranches: added " + f.id + ", visiting successors, active distance: " + h + ("probabilities: " + JSON.stringify(n)));return {m8:!0,state:{root:!k,EOb:C,uj:n,Bkb:h,D1a:B + 1}};}function g(d,f,h,k){k("reevaluateBranches: " + Array(h + 1).join(" ") + d.R.id + " (" + (JSON.stringify(d.uj) + ")"));f.filter(function(n){return n.Wq === d.R.id;}).forEach(function(n){return g(n,f,h + 1,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.wWb=b.RYb=b.pv=void 0;l=a(5);m=a(20).ma && !1;b.pv=function(d,f,h,k,n,p,q,t,u){var w,v,x,y;v=[];x=(null === (w=h.yn) || void 0 === w?void 0:w.Sa(h.Dj).X) || 0;0 < p.length && l.assert(h.id === p[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace("reevaluateBranches: starting at " + h.id);y={console:d,complete:k,vi:n,gRb:p,Gub:q.X + x,FIb:t.X,jna:u,mMb:v};f.QYb(h,function(z,B,A,E){return c(y,z,B,A,E);});return v;};b.RYb=c;b.wWb=function(d,f){g(d[0],d,0,f);};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.JDa=void 0;c=a(0);g=a(425);r=(function(){function l(m){this.La=m;this.ya={};}l.prototype.cf=function(m){var d;d=this.ya[m];if(void 0 === d){d=this.La.ya[m];if(void 0 === d)throw Error("Segment not found (" + m + ")");d=new g.PDa(m,d,this.La.Pc);this.ya[m]=d;}return d;};l.prototype.Gzb=function(m){var d;d=this;return m.R.next?Object.keys(m.R.next).map(function(f){return d.cf(f);}):[];};l.prototype.ZFb=function(m){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,m];case 1:(f.wg(),d=m,f.label=2);case 2:if(!d.R.Cg)return [3,4];d=this.cf(d.R.Cg);return [4,d];case 3:return (f.wg(),[3,2]);case 4:return [2];}});};l.prototype.fDb=function(m,d){return g.DVa(m.LK(d));};l.prototype.di=function(m){var d;d=this;Object.keys(m).forEach(function(f){var h;return null === (h=d.cf(f)) || void 0 === h?void 0:h.di(m[f]);});};return l;})();b.JDa=r;},function(r,b,a){var l,m,d;function c(f,h){var k,n;k=Object.keys(f);if(k.some(function(p){var q,t,u,w;return (null === (q=f[p]) || void 0 === q?void 0:q.Pc) !== (null === (t=h[p]) || void 0 === t?void 0:t.Pc) || (null === (u=f[p]) || void 0 === u?void 0:u.weight) !== (null === (w=h[p]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== l.__spread(m.Nr(k,n),m.Nr(n,k)).length?!0:!1;}function g(f,h){return f.some(function(k,n){var p;return 0 !== m.Nr(k,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || f.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.DMa=b.LNa=void 0;l=a(0);m=a(29);d=a(1015);b.LNa=function(f){return new d.hwa(function(h){return Object.keys(h.R.next || ({})).map(function(k){var n,p,q;k=f.cf(k);q=null !== (p=null === (n=h.yn) || void 0 === n?void 0:n.Sa(h.Dj).X) && void 0 !== p?p:Infinity;return {DYb:k,weight:q};});});};b.DMa=function(f,h){var k,n,p,q,t,u;k=Object.keys(f.ya);n=Object.keys(h.ya);p=n.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === n.indexOf(w);});t=k.filter(function(w){var v,x,y,z,B;if(-1 === n.indexOf(w))v=!1;else {v=f.ya[w];w=h.ya[w];v=v.Cg !== w.Cg || v.Mc !== w.Mc || v.Zb !== w.Zb || v.Pc !== w.Pc || v.aa !== w.aa || g(null !== (x=v.js) && void 0 !== x?x:[],null !== (y=w.js) && void 0 !== y?y:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (B=w.next) && void 0 !== B?B:{})?!0:!1;}return v;});u=m.Nr(k,l.__spread(t,p,q));return {jlb:p,AM:q,Dob:t,cXb:u};};},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.hwa=void 0;c=a(5);g=a(249);l=a(1016);m=a(440);r=(function(){function d(f){this.kvb=f;this.Msa=!1;this.n8=new l.Daa();this.kv=new l.Daa();this.$Ka=new m.Caa();}d.prototype.QYb=function(f,h){var n,p,q;function k(){var w,v,x,y,z,B;w=t.pop();v=q.get(w);x=v.Wq;y=v.EA;v=v.state;if(!u.n8.has(w)){u.n8.add(w);x=h(w,y,x,v);z=x.m8;B=x.state;p(w).forEach(function(A){var E,D;E=A.DYb;if(!n.n8.has(E) && (A=y + A.weight,z))if(n.kv.has(E)){D=n.$Ka.get(E);A < D.EA && (D.EA=A,D.Wq=w,D.state=B,t.DOb(E));}else (n.kv.add(E),q.set(E,{EA:A,Wq:w,state:B}),t.push(E));});}}n=this;p=this.kvb;q=this.$Ka;c.assert(!this.Msa);this.Msa=!0;this.n8.clear();this.kv.clear();q.set(f,{EA:0,state:{root:!1,D1a:0}});for(var t=new g.SX([f],function(w,v){return q.get(w).EA - q.get(v).EA;}),u=this;!t.empty;){k();}this.Msa=!1;};return d;})();b.hwa=r;},function(r,b){var g,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.cHa);}function c(d){return (a(d)?d:Object.defineProperties(d,{cHa:{value:{},configurable:!1,enumerable:!1}})).cHa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Daa=void 0;l=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % l;r=(function(){function d(){this.P6=0;this.id=m=(m + 1) % l;}d.prototype.add=function(f){c(f)[this.id]=this.P6;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.P6;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.P6=(this.P6 + 1) % l;return this;};return d;})();b.Daa=r;},function(r,b,a){var g,l,m,d,f;function c(h){return {value:h.wb,parent:h.Wq};}Object.defineProperties(b,{__esModule:{value:!0}});b.BDa=void 0;g=a(0);l=a(9);m=a(29);d=a(5);f=a(1018);r=(function(){function h(){this.Ib=new l.jBa();this.Bv=new f.pGa();}Object.defineProperties(h.prototype,{empty:{get:function(){return this.Ib.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{size:{get:function(){return this.Ib.size;},enumerable:!1,configurable:!0}});h.prototype.reset=function(){var k;k=this.Ib.values();this.Ib.clear();this.Bv.clear();k.forEach(function(n){return n.Sf();});};h.prototype.OA=function(k){return this.Ib.get(k);};h.prototype.has=function(k){return this.Ib.has(k);};h.prototype.mTa=function(k){return this.Bv.parent(k);};h.prototype.mzb=function(k){return this.Bv.children(k);};h.prototype.vpa=function(k){var n;if(this.Ib.delete(k.R.id,k)){n=this.Bv.children(k);this.Bv.root === k?0 === n.length?this.Bv.clear():(d.assert(1 === n.length,"cannot remove the root branch with multiple successors"),this.Bv.OQb(n[0])):(d.assert(0 === n.length,"cannot remove non-root branch with successors"),this.Bv.remove(k));}};h.prototype.forEach=function(k){var n;n=this;this.Ib.forEach(function(p,q){return k(p,q,n);});};h.prototype.reduce=function(k,n){var p;p=this;return this.Ib.reduce(function(q,t,u){return k(q,t,u,p);},n);};h.prototype.map=function(k){var n;n=this;return this.Ib.map(function(p,q){return k(p,q,n);});};h.prototype.filter=function(k){var n;n=this;return this.Ib.filter(function(p,q){return k(p,q,n);});};h.prototype.nzb=function(){return this.filter(function(k){return k.oF;}).map(function(k){return k.R.id;});};h.prototype.nXb=function(k,n){var p,q,t;p=this;q=this.kIb(k,n);k=q.ready;n=q.pending;t=this.Bv.EPb(q.target.map(c));q=t.AM;t=t.q1a;q.forEach(function(u){return p.Ib.delete(u.R.id,u);});return {ready:k.map(function(u){return u.wb;}),AM:q,q1a:t.map(function(u){return u.value;}),pending:n};};h.prototype.kIb=function(k,n){var q,t,u;function p(w,v){(w=n(w.R.id,v)) && q.Ib.set(w.R.id,w);return w;}q=this;t=[];u=[];return {target:k.reduce(function(w,v,x){var y,z;d.assert(0 === x || v.Wq);if(v.Wq){z=null === (y=m.pLa(w,function(B){return B.wb.R.id === v.Wq;})) || void 0 === y?void 0:y.wb;if(!z)return (d.assert(void 0 !== m.kg(u,function(B){return B.R.id === v.Wq;}),"predecessorSegmentId " + v.Wq + " specified without previously specifying predecessor requiredBranch."),u.push(v),w);}y=m.kg(q.OA(v.R.id),function(B){return B.Hx && q.Bv.parent(B) === z || 0 === x;});if(y=null !== y && void 0 !== y?y:p(v,z))(y.uj=v.uj,w.push({wb:y,Wq:z}));(null === y || void 0 === y?0:y.Hx)?(y.update(v.R),t.push({wb:y,Wq:z})):u.push(g.__assign(g.__assign({},v),{ZNb:z}));return w;},[]),ready:t,pending:u};};return h;})();b.BDa=r;},function(r,b,a){var g,l,m;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(f,h){return 0 === h || m.Rw(d,function(k){return k.value === f.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.pGa=void 0;g=a(440);l=a(5);m=a(29);r=(function(){function d(){this.I=new g.Caa();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.Gy;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var f;return null === (f=this.Gy) || void 0 === f?void 0:f.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var f;f=[];this.cRa(function(h){return ! !f.push(h);});return f;},enumerable:!1,configurable:!0}});d.prototype.has=function(f){return ! !this.I.get(f);};d.prototype.parent=function(f){var h;f=this.I.get(f);l.assert(f,"Attempted to find the parent of a node not in the tree");return null === (h=f.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(f){f=this.I.get(f);l.assert(f,"Attempted to find the children of a node not in the tree");return f.children?f.children.map(function(h){return h.value;}):[];};d.prototype.add=function(f,h){var k;l.assert(!this.I.get(f),"Attempted to add a value to tree that is already present");k={value:f};void 0 === this.Gy?(l.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.Gy=k):(l.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.I.get(h),l.assert(h,"Parent value does not exist in tree"),this.CLa(k,h));this.I.set(f,k);return this;};d.prototype.remove=function(f){f=this.I.get(f);l.assert(f,"Attempted to remove a node not in the tree");this.removeNode(f);return this;};d.prototype.removeNode=function(f){var h;h=this;this.jia(function(k){return h.I.delete(k);},f.value);void 0 === f.parent?this.Gy=void 0:this.detach(f);};d.prototype.move=function(f,h){f=this.I.get(f);h=this.I.get(h);l.assert(f,"cannot move a value that is not in the tree");l.assert(h,"cannot move a value to a parent value not in the tree");l.assert(f.parent,"cannot move the root node");l.assert(!this.QEb(f,h),"cannot move a node below itself or one of its decendants");f.parent !== h && (this.detach(f),this.CLa(f,h));return this;};d.prototype.OQb=function(f){var h,k;h=this;f=this.I.get(f);l.assert(f,"cannot replant at a value that is not in the tree");k=[];this.detach(f);this.jia(function(n){h.I.delete(n);k.unshift(n);return !0;});this.Gy=f;};d.prototype.clear=function(){this.Gy && this.remove(this.Gy.value);return this;};d.prototype.bRa=function(f,h){var k,n;k=this;f=this.I.get(f);l.assert(f,"cannot iterate children of a value not in the tree");null === (n=f.children) || void 0 === n?void 0:n.forEach(function(p){return h(p.value,k);});};d.prototype.cRa=function(f,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.Gy.value,f(h,this) && this.bRa(h,function(n){return k.cRa(f,n);}));};d.prototype.jia=function(f,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.Gy.value,this.bRa(h,function(n){return k.jia(f,n);}),f(h,this));};d.prototype.EPb=function(f){var h,k,n;h=this;l.assert(c(f),"entries must be in topological order");if(0 === f.length){k=this.values;n=[];this.clear();}else (n=f.filter(function(p){return h.has(p.value) && p.parent !== h.parent(p.value);}),k=this.values.filter(function(p){return -1 === m.Rw(f,function(q){return q.value === p;});}),this.clear(),f.forEach(function(p){return h.add(p.value,p.parent);}));return {AM:k,q1a:n};};d.prototype.CLa=function(f,h){var k;f.parent=h;(null !== (k=h.children) && void 0 !== k?k:h.children=[]).push(f);};d.prototype.detach=function(f){var h;l.assert(f.parent,"cannot detach the root");l.assert(void 0 !== f.parent.children,"logic error: parent node does not have children");h=f.parent.children.indexOf(f);l.assert(0 <= h,"logic error: node does not appear in the children of its parent");f.parent.children.splice(h,1);f.parent=void 0;};d.prototype.QEb=function(f,h){for(;void 0 !== h;){if(h === f)return !0;h=h.parent;}return !1;};return d;})();b.pGa=r;},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yua=void 0;c=a(0);g=c.__importDefault(a(3));l=a(16);m=a(9);d=a(21);f=a(5);h=a(127);k=a(64);r=(function(){function n(p,q,t,u,w,v,x){var y;y=this;void 0 === x && (x=500);this.u=p;this.config=q;this.tb=t;this.events=u;this.zha=w;this.Mg=v;this.Anb=x;this.a0a=this.Gk=0;this.yu={Zr:0};this.state=new m.Zp(l.jc.ji);this.$d=new m.Zp(l.ga.zg);this.kk=new h.iD({wF:10,av:this,source:"BufferStateTracker",Sda:function(){return {isBuffering:y.pg,alwaysRunUnderflowTimer:y.config.nJ};}});}Object.defineProperties(n.prototype,{Zr:{get:function(){return this.yu.Zr;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pg:{get:function(){return l.Ds(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.a8=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(t){0 === t.mediaType && (q.sMa=c.__assign(c.__assign({},q.sMa),{audio:{trackId:t.trackId,trackIndex:t.xN}}));});};n.prototype.wZa=function(p){this.set(l.jc.ji);this.vG(p,l.jc.Dc);};n.prototype.i5=function(){this.yu.Zr++;};n.prototype.nU=function(p){this.config.nJ || void 0 === this.Ux && this.pg && this.iga();this.Ux={dF:p.httpCode,Dg:p.errorCode,Bi:p.nativeCode};};n.prototype.r5=function(){this.Ux=void 0;this.config.nJ || this.c1();};n.prototype.Qk=function(p){this.pg || (this.vG(p,l.jc.Xe),this.pg && (this.Ux || this.config.nJ) && this.iga());};n.prototype.TLb=function(p,q){this.state.value !== l.jc.Dc && this.vG(p,l.jc.dP);this.a8(q);};n.prototype.FSb=function(p,q){f.assert(this.state.value === l.jc.Dc && void 0 === this.Ny);this.Ny=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.xN}),this.a8(q));};n.prototype.QSb=function(p,q,t){f.assert(this.pg);this.Rka=null !== p && void 0 !== p?p:this.Rka;this.Pka=null !== q && void 0 !== q?q:this.Pka;void 0 === this.n3?this.n3=t:void 0 !== (null === t || void 0 === t?void 0:t.reason) && (this.n3.reason=t.reason);};n.prototype.$e=function(p,q,t){f.assert(this.pg && void 0 !== this.Ny && void 0 === this.lE && void 0 === this.i8 && void 0 === this.v_);this.lE=p;this.i8=q;this.v_=t;this.Po=100;this.dNa();this.c1();this.state.value === l.jc.Xe && (this.a0a=g.default.time.ba());this.o1();this.set(l.jc.Kj);this.v_=this.i8=this.lE=this.n3=this.Pka=this.Rka=this.Ny=void 0;};n.prototype.stop=function(){this.set(l.jc.ji);this.dNa();this.c1();};n.prototype.YMa=function(p,q,t,u){var w,v,x,y,z,B,A,E,D,F,C;w=this;f.assert(this.pg);if(!(this.state.value === l.jc.Xe && g.default.time.ba() < this.a0a + this.config.iYa)){A=t.dja(0);t=t.dja(1);E=g.default.time.ba() - this.Gk;if(A || t){D=function(G){return G?G.Ku() || G.In()?u.kfa(w.state.value,p,E >= w.config.vy,q,G,w.Zr):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};F=D(A);D=D(t);C=function(G){var H;return {reason:G.reason,complete:G.complete,bl:null !== (H=G.nA) && void 0 !== H?H:0};};this.kk.Lw({as:C(F),vs:C(D),bt:E});C=t?D:F;C.x6a=t && D.nA || 0;C.DLa=A && F.nA || 0;this.config.znb && (null !== (v=null === A || void 0 === A?void 0:A.In()) && void 0 !== v?v:1) && (null !== (x=null === t || void 0 === t?void 0:t.In()) && void 0 !== x?x:1) && C.x6a > this.config.Sq && C.DLa > this.config.Sq && (F.complete=!0,D.complete=!0,C.reason="complete");F.complete && D.complete?(C.complete=!0,this.$e(null !== (y=C.reason) && void 0 !== y?y:"unknown",null !== (z=C.x6a) && void 0 !== z?z:0,null !== (B=C.DLa) && void 0 !== B?B:0)):(C.complete=!1,this.Onb(C),this.kk.Lw({bp:this.Po}));}}};n.prototype.Onb=function(p){var q,t,u;u=p.progress;p.mB?u=(g.default.time.ba() - this.Gk) / this.config.vy:u || (u=(null !== (q=p.nA) && void 0 !== q?q:0) / this.config.pj);p=Math.min(Math.max(Math.round(100 * u),null !== (t=this.Po) && void 0 !== t?t:0),99);p != this.Po && (this.Po=p);};n.prototype.vG=function(p,q){f.assert(q === l.jc.Dc || void 0 !== p);this.Ny=p;this.Po=0;this.d5=void 0;this.yu.Zr=0;p=this.state.value === l.jc.Dc || this.state.value === l.jc.Xe;this.Gk=g.default.time.ba();this.set(q);p || (this.qvb(),this.mTb());};n.prototype.set=function(p){this.state.set(p);switch(p){case l.jc.ji:this.$d.set(l.ga.ji);break;case l.jc.Dc:case l.jc.dP:this.$d.set(l.ga.Dc);break;case l.jc.Xe:this.$d.set(l.ga.Xe);break;case l.jc.Kj:this.$d.set(l.ga.oc);}};n.prototype.qvb=function(){f.assert(this.events && void 0 !== this.Po);this.d5=this.Po;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g.default.time.ba(),percentage:this.Po});};n.prototype.mTb=function(){var p;p=this;this.Ana=setInterval(function(){return p.pvb();},this.Anb);};n.prototype.dNa=function(){this.Ana && (clearInterval(this.Ana),this.Ana=void 0);};n.prototype.pvb=function(){this.pg && this.events && void 0 !== this.Po && this.Po !== this.d5 && this.events.emit("buffering",{type:"buffering",time:g.default.time.ba(),percentage:this.Po}) && (this.d5=this.Po);};n.prototype.o1=function(){var p;f.assert(this.events && this.Ny && void 0 !== this.lE && void 0 !== this.v_ && void 0 !== this.i8);this.d5=this.Po;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:g.default.time.ba(),actualStartPosition:this.Ny,reason:this.lE,aBufferLevelMs:this.v_,vBufferLevelMs:this.i8,selector:this.Rka,initBitrate:this.Pka,initSelReason:null === (p=this.n3) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.i9b},this.sMa));};n.prototype.iga=function(){var p;p=this;this.config.e6a && (!this.Yy || this.Yy.state !== k.gl.complete && this.Yy.state !== k.gl.VJ?void 0 === this.Yy && (this.Yy=this.Mg.AE(function(){return p.y5a();},"underflow")):this.Yy.Xk());};n.prototype.c1=function(){this.Yy && (this.Yy.state !== k.gl.VJ && this.Yy.Gb(),this.Yy=void 0);};n.prototype.y5a=function(){var p,q,t;return c.__generator(this,function(u){switch(u.label){case 0:return (p=this.config.k4,this.u.trace("BufferingStateTracker: underflow, wait " + p + "ms"),[4,k.vk.GN(d.S.lb(p))]);case 1:(u.wg(),u.label=2);case 2:if(!this.pg)return [3,4];q=this.tb.U3 || 0;t=g.default.time.ba() - q;if(t >= p)return (this.u.trace("Forcing streaming failure, " + t + "ms since data received"),this.zha.VLb(this.Ux),[2]);this.u.trace("BufferingStateTracker: network activity, wait " + (p - t) + "ms");return [4,k.vk.GN(d.S.lb(p - t))];case 3:return (u.wg(),[3,2]);case 4:return [2];}});};c.__decorate([h.Ub({methodName:"onTemporaryNetworkError",km:!0})],n.prototype,"nU",null);c.__decorate([h.Ub({methodName:"onUnderflow",km:!0})],n.prototype,"Qk",null);c.__decorate([h.Ub({methodName:"bufferingComplete",km:!0})],n.prototype,"$e",null);c.__decorate([h.Ub({methodName:"stop",km:!0})],n.prototype,"stop",null);c.__decorate([h.Ub({methodName:"checkStreamingBufferingComplete",km:!0})],n.prototype,"YMa",null);c.__decorate([h.Ub({methodName:"createUnderflowTask",km:!0})],n.prototype,"iga",null);c.__decorate([h.Ub({methodName:"destroyUnderflowTask",km:!0})],n.prototype,"c1",null);c.__decorate([h.Ub({methodName:"onUnderflowTimeout",km:!0})],n.prototype,"y5a",null);return n;})();b.yua=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rQa=void 0;c=a(29);b.rQa=function(g,l){var m;m=[];g=g.map(function(d){var f,h;f=l(d.M);h=c.Nr(f,d.oh).map(function(k){return k.mediaType;});m=c.tLa(m,h);return {wb:d,oh:f};});return {Eob:m,snb:g};};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cFa=void 0;c=a(0);g=a(21);l=a(5);b.cFa=(function(){function m(){}m.xCb=function(d){var f,h,k;if(d.Nk){d=c.__read(d.oh,2);k=d[1];d=null === (f=d[0].Sl) || void 0 === f?void 0:f.yn;f=null === (h=null === k || void 0 === k?void 0:k.Sl) || void 0 === h?void 0:h.yn;l.assert(d);h=f?g.S.min(d,f):d;return {LYb:d,NYb:h};}};return m;})();},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.sua=void 0;c=a(9);g=a(64);l=a(20);m=a(16);r=(function(){function d(f,h,k,n,p,q){this.Mg=f;this.Pp=h;this.config=k;this.gLb=n;this.nf=p;this.console=q;}d.Yyb=function(f){var h;return null !== (h=f.fh) && void 0 !== h?h:f.xoa;};d.bAb=function(f){var h,k;h=f.R;k=f.UL;return h.Cg?h.Cg:k.length?k[0]:f.jy[0];};d.prototype.b5a=function(f,h){var k,n,p,q,t;k=this;p=f.R;if(p.ot || 1 >= p.jy.length && (null === (n=p.qv) || void 0 === n || !n.length))this.reset();else {q=this.Qnb(f);n=q.kqa;h=h.lessThan(q.XDb);this.VRb(p,h?n:void 0);if(h && !this.config.uMb){l.ma && this.console.trace("BranchDecisionMaker: listening for branch streaming complete on " + f.R.id);t=this.Pna.bind(this,p);f.events.once("branchStreamingComplete",t);this.sfa=function(){l.ma && k.console.trace("BranchDecisionMaker: no longer listening for branch streaming complete on " + f.R.id);f.events.KF("branchStreamingComplete",t);};}}};d.prototype.reset=function(){var f,h;null === (f=this.yga) || void 0 === f?void 0:f.Gb();this.yga=void 0;null === (h=this.sfa) || void 0 === h?void 0:h.call(this);this.sfa=void 0;};d.prototype.Qnb=function(f){var h,k;f=d.Yyb(f);h=c.S.lb(this.config.Sq);k=c.S.lb(this.config.zJb + this.config.UT);h=f.Sa(h);return {XDb:m.Ds(this.nf.value)?f.Sa(k):h,kqa:h};};d.prototype.VRb=function(f,h){var k;k=this;this.reset();this.yga=h?this.Mg.wR(g.vk.FN(h),function(){return k.uma(f);},"scheduled branch decision"):this.Pp.wR(g.vk.UYb,function(){return k.uma(f);},"immediate branch decision");};d.prototype.Pna=function(f){var h;m.Ds(this.nf.value) && (null === (h=this.yga) || void 0 === h?void 0:h.Gb(),this.uma(f));};d.prototype.uma=function(f){var h;null === (h=this.sfa) || void 0 === h?void 0:h.call(this);h=d.bAb(f);l.ma && this.console.trace("BranchDecisionMaker making decision for " + f.id + ", decision is " + h);this.gLb(f.id,h,!0);};return d;})();b.sua=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JTa=void 0;b.JTa=function(a,c){return a.reduce(function(g,l){return g + l.tzb(c).X;},0);};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YNa=void 0;c=a(0);g=a(16);b.YNa=function(l){var h,k;function m(n){g.Ds(n.newValue) && !g.Ds(n.oldValue)?(null === k || void 0 === k?void 0:k.Gb(),k=h.wR.apply(h,c.__spread(d))):null === k || void 0 === k?void 0:k.Gb();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=l.Df;h=l.Pp;f.state.addListener(m);m({oldValue:g.jc.ji,newValue:f.state.value});};},function(r,b,a){var g;function c(l,m,d){return d[l] > (m[l] || Infinity)?1 === l?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;g=a(20);r=(function(){function l(m,d,f,h){this.La=m;this.console=d;this.zSa=f;this.ySa=h;}l.prototype.mob=function(m){var d,f,h;f=this.La.x2();h=this.Oob(m,f);if(h || (h=this.VMa(m)))return {result:!1,reason:h};h=this.ySa();f=this.zSa((d={},d[this.La.id]=f,d));return {result:!0,reason:c(m,h,f)};};l.prototype.Oob=function(m,d){var f,h;d.total > (this.La.eja() || Infinity) && (h="playgraphMemoryLimit");this.La.config.Csa && (h=this.ySa(),d=this.zSa((f={},f[this.La.id]=d,f)),h=d.total > (h.total || Infinity)?"globalMemoryLimit":c(m,h,d));g.ma && h && this.console.log("checkIssueRequestByMemory: Cannot issue request due to " + h);return h;};l.prototype.VMa=function(m){var d;d=this.La.config.ey;if(this.La.Pzb(m) >= (d || Infinity))return "mediaDurationLimit";};return l;})();b.HFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=void 0;r=(function(){function a(c){this.console=c;this.qfa();}a.prototype.get=function(c){return this.T0[c] || this.vi[c];};a.prototype.set=function(c,g){void 0 === this.vi[c] && (this.vi[c]=g);};a.prototype.JSb=function(c,g){void 0 === this.get(c) && (this.T0[c]=g);};a.prototype.clear=function(c){this.T0[c]=void 0;this.vi[c]=void 0;};a.prototype.hpb=function(c){var g;this.vi=(g={},g[c]=this.vi[c],g);this.T0={};};a.prototype.qfa=function(){this.vi={};this.T0={};};return a;})();b.DDa=r;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.FEa=void 0;c=a(0);g=a(5);l=c.__importDefault(a(3));m=a(127);d=a(64);f=a(9);r=(function(){var b31;b31=2;function h(k,n,p){var c31,q;c31=2;for(;c31 !== 14;){switch(c31){case 4:var j2H="m";j2H+="e";j2H+="d";j2H+="ia|asejs";var c2H="ASEJS_";c2H+="REQUEST";c2H+="_PA";c2H+="CE";c2H+="R";this.AD=0;this.console=new l.default.Console(c2H,j2H);c31=9;break;case 6:this.jfa=p.AE(function(){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:return q.WMa(l.default.time.ba());break;}}});c31=14;break;case 9:var v2H="Re";v2H+="quest";v2H+="P";v2H+="acer";var K2H="1S";K2H+="IYb";K2H+="ZrN";K2H+="J";K2H+="Cp9";K2H;this.Mn=new m.iD({av:this,source:v2H,Sda:function(){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 4:return {numOutstanding:q.AD};break;d31=1;break;case 2:return {numOutstanding:q.AD};break;}}},wF:10});this.y1a=new f.DY();c31=6;break;case 2:q=this;this.L3=k;this.config=n;c31=4;break;}}}for(;b31 !== 13;){switch(b31){case 4:h.prototype.aG=function(k){var i31;i31=2;for(;i31 !== 3;){switch(i31){case 4:var V2H="re";V2H+="mo";V2H+="v";V2H+="eReq";V2H+="uest";this.jm(V2H);i31=3;break;case 14:this.jm("");i31=6;break;i31=3;break;case 2:var o2H="Received ";o2H+="remove request when";o2H+=" ther";o2H+="e are no requests outsta";o2H+="nding";this.Mn.Lw({mediaType:k.mediaType,contentStartPts:k.Sb,contentEndPts:k.Fb});this.AD--;g.assert(0 <= this.AD,o2H);i31=4;break;}}};h.prototype.WMa=function(k){var j31,n,p,q;j31=2;for(;j31 !== 5;){switch(j31){case 2:return c.__generator(this,function(){var k31;k31=2;for(;k31 !== 6;){switch(k31){case 4:this.y1a.push(p);k31=3;break;case 2:n=this.config.j4;k31=1;break;case 8:var T2H="requestO";T2H+="pportunityRunnerCompl";T2H+="ete";this.Mn.CQ(T2H,{requestsIssued:q,scheduledMs:k,timeSinceScheduled:p},!0);return [2];break;case 1:p=l.default.time.ba() - k;q=0;k31=4;break;case 9:q++;k31=3;break;case 3:k31=this.AD < n && this.L3()?9:8;break;}}});break;}}};b31=9;break;case 2:Object.defineProperties(h.prototype,{LKb:{get:function(){var f31;f31=2;for(;f31 !== 1;){switch(f31){case 2:return this.AD;break;case 4:return this.AD;break;f31=1;break;}}},enumerable:!1,configurable:!0}});b31=1;break;case 9:var B2H="W";B2H+="M";B2H+="a";var G2H="checkRequestOp";G2H+="portunityRunne";G2H+="r";var S2H="a";S2H+="G";var h2H="rem";h2H+="oveR";h2H+="e";h2H+="qu";h2H+="est";var A2H="N";A2H+="w";var M2H="addRequ";M2H+="es";M2H+="t";var m2H="j";m2H+="m";var O2H="che";O2H+="ckReq";O2H+="uestOpportunity";c.__decorate([m.Ub({methodName:O2H,km:!0,Mr:!0})],h.prototype,m2H,null);c.__decorate([m.Ub({methodName:M2H,km:!0})],h.prototype,A2H,null);c.__decorate([m.Ub({methodName:h2H,km:!0})],h.prototype,S2H,null);c.__decorate([m.Ub({methodName:G2H,km:!0})],h.prototype,B2H,null);b31=14;break;case 1:h.prototype.jm=function(){var g31;g31=2;for(;g31 !== 5;){switch(g31){case 2:this.Mn.Lw({taskState:this.jfa.state});this.jfa.state !== d.gl.bV && this.jfa.Xk();g31=5;break;}}};h.prototype.Nw=function(k){var h31;h31=2;for(;h31 !== 4;){switch(h31){case 1:var U2H="More";U2H+=" than maxAllow";U2H+="ed";U2H+="OutstandingRequests are outstanding";this.AD++;g.assert(this.AD <= this.config.j4,U2H);h31=4;break;case 2:this.Mn.Lw({mediaType:k.mediaType,contentStartPts:k.Sb,contentEndPts:k.Fb});h31=1;break;}}};b31=4;break;case 14:return h;break;}}})();b.FEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vwa=void 0;c=a(58);r=(function(){function g(l){this.tb=l;}Object.defineProperties(g.prototype,{Sj:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ns=function(l){var m;if(l.nj === c.pe.Cq && this.tb){l={};m=this.tb.get();m && m.avtp && m.avtp.Aa && (l.avtp=m.avtp.Aa,l.dltm=m.avtp.h1);m && m.cdnavtp && (l.cdnavtp=m.cdnavtp,l.activecdnavtp=m.activecdnavtp);if(m=this.tb.z2())(m.bytesRequestedPacingVideo && (l.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,l.bytestotalVideo=m.bytestotalVideo),m.bytesRequestedPacingAudio && (l.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,l.bytestotalAudio=m.bytestotalAudio));this.tb.flush();if(m=this.tb.oSa())for(var d in m){m.hasOwnProperty(d) && (l["ne" + d]=Number(m[d]).toFixed(6));}return l;}};return g;})();b.Vwa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yFa=void 0;c=a(58);r=(function(){function g(l){l.events.on("streamSelection",this.QLb.bind(this));}g.prototype.QLb=function(l){0 === l.mediaType && void 0 === this.gVa?this.gVa=l:1 === l.mediaType && void 0 === this.jVa && (this.jVa=l);};Object.defineProperties(g.prototype,{Sj:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ns=function(l){var m;if(l.nj === c.pe.$B)return (l=null !== (m=this.jVa) && void 0 !== m?m:this.gVa,{histdiscbw:null === l || void 0 === l?void 0:l.selDiscBw,histage:null === l || void 0 === l?void 0:l.histAge});};return g;})();b.yFa=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UFa=void 0;r=a(0);c=a(17);g=a(20);l=r.__importDefault(a(3));a=(function(){function m(d){this.Mg=d;this.UY=[];this.reset();}Object.defineProperties(m.prototype,{Sj:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{FF:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return g.ma;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var d,f;d=this;null === (f=this.BI) || void 0 === f?void 0:f.clear();this.BI=new c.sh();this.BI.on(this.Mg,"clockChanged",function(){d.reset();d.kS("initial");});this.BI.on(this.Mg,"stopping",function(){d.kS("stopping");});this.BI.on(this.Mg.sa,"clockAdjusted",function(){d.kS("clockAdjusted");});this.BI.on(this.Mg.sa,"stopStart",function(){d.kS("stopStart");});this.BI.on(this.Mg.sa,"speedChanged",function(){d.kS("speedChanged");});};m.prototype.kS=function(d){this.UY.push({reason:d,audit:this.Mg.Kyb(),time:l.default.time.ba()});5 < this.UY.length && this.UY.shift();};m.prototype.ns=function(){return this.UY;};return m;})();b.UFa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HEa=void 0;c=a(58);r=(function(){function g(l,m){this.tb=l;this.z1a=m;}Object.defineProperties(g.prototype,{Sj:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ns=function(l){var m;l=l.nj;if(l === c.pe.Cq || l === c.pe.Lp){l={numOutstandingRequests:this.z1a.LKb,requestOpportunityDelayStats:this.z1a.y1a};m=this.tb.qKa;m && m.length && (l.activeRequests=JSON.stringify(m));return l;}};return g;})();b.HEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zwa=void 0;c=a(58);r=(function(){function g(l){this.v1=l;this.FF="engine";this.enabled=!0;}Object.defineProperties(g.prototype,{Sj:{get:function(){return this.FF;},enumerable:!1,configurable:!0}});g.prototype.ns=function(l){if(l.nj === c.pe.Cq)return (l=this.v1.MNb.map(function(m){var d;d=m.La;return {id:d.id,weight:d.weight,relativeWeight:m.n6};}),{prefetcher:this.v1.ev.getStats(),playgraphs:l,viewables:this.v1.MYb,players:this.v1.J_a.length});};return g;})();b.Zwa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.YDa=void 0;c=a(0);g=a(17);l=a(16);m=a(9);d=a(1034);f=a(29);h=a(5);k=a(1035);n=a(20);p=a(95);q=a(1036);t=c.__importDefault(a(3));u=a(1037);w=a(1038);v=a(1039);x=a(262);y=a(1041);z=a(1042);r=(function(){function B(A,E,D,F,C){void 0 === F && (F=new w.Xva());void 0 === C && (C=new u.Wva());this.iQa=A;this.config=E;this.U0a=F;this.Jl=[];this.V_a=[];this.IN=[];this.events=new g.EventEmitter();this.u=m.Hs(t.default,D,"PREFETCH");this.FKa(new v.wva(E));this.FKa(new z.gFa(E));this.H2a({hF:E.dOb});this.Mqa(C);}Object.defineProperties(B.prototype,{eOb:{get:function(){return this.Jl.map(function(A){return A.context;});},enumerable:!1,configurable:!0}});B.prototype.aTb=function(A){n.ma && h.assert(A,"Reconciliation strategy is undefined");this.U0a=A;};B.prototype.FKa=function(A){this.V_a.unshift(A);};B.prototype.c3a=function(A){n.ma && this.u.debug("Wish list changed",{b8b:A.length});this.IN=A;this.Soa();};B.prototype.reset=function(){var A,F,C,G,H,J;if(this.config.nOb)try{for(var E=c.__values(this.Jl),D=E.next();!D.done;D=E.next()){F=D.value;C=F.La;G=F.Q3;H=F.context;if(C){C.Sf();G.wpa(function(M){return "segmentNormalized" !== M.iK;});J=x.D2(H.Ke,C.La);C.kG(J);}}}catch(M){var I;I={error:M};}finally{try{D && !D.done && (A=E.return) && A.call(E);}finally{if(I)throw I.error;}}else this.c3a([]);};B.prototype.H2a=function(A){n.ma && this.u.debug("Budget changed",{l8b:this.ZQ,a8b:A});this.ZQ=A;this.Soa();};B.prototype.bpb=function(A,E){var D,F,C,G,H;if(E=this.U0a.txb(this.Jl,{La:A,Ei:E})){C=this.IN.indexOf(E.context.Ke);n.ma && this.u.debug("Claiming item: " + x.ws(E.context.Ke.key),{pl:t.default.time.ba() - E.D7,buffer:null === (D=E.La) || void 0 === D?void 0:D.ij(m.S.nb)});this.hha(E.context,{jWa:!0});if(E.La){D=E.La;G=E.context;H=E.$q;y.WDa.PQb(D,E.Q3,this.u);A=x.D2(G.Ke,A);H.ORb(null !== (F=D.LS(A)) && void 0 !== F?F:m.S.nb,C);D.I5a({hF:this.config.Js || Infinity});}}this.config.Alb || this.reset();return null === E || void 0 === E?void 0:E.La;};B.prototype.apb=function(){};B.prototype.getStats=function(){var A;A=t.default.time.ba();return {wishListLength:this.IN.length,prefetchList:this.eOb.length,contents:this.Jl.map(function(E){var D,F,C,G,H;return {id:x.ws(E.context.Ke.key),buffer:null === (D=E.La) || void 0 === D?void 0:D.ij(m.S.nb),pId:null === (F=E.La) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:E.context.dWa.hF},weight:E.context.O5,age:A - E.D7,timeOpened:A - (null !== (C=E.ZVb) && void 0 !== C?C:0),state:l.jc[null !== (H=null === (G=E.La) || void 0 === G?void 0:G.nf.value) && void 0 !== H?H:l.jc.ji]};})};};B.prototype.hha=function(A,E){var D,F,C;void 0 === E && (E={});F=c.__assign({jWa:!1,hWa:!1},E);E=F.jWa;F=F.hWa;C=f.kg(this.Jl,function(G){return G.context === A;});C && (this.Jl.splice(this.Jl.indexOf(C),1),F || (this.IN=this.IN.filter(function(G){return G !== A.Ke;})),n.ma && this.u.debug("Dropping playgraph",{pl:t.default.time.ba() - C.D7,buffer:null === (D=C.La) || void 0 === D?void 0:D.ij(m.S.nb),K8b:!E}),E || this.Yq(C),this.Soa());};B.prototype.Mqa=function(A){h.assert(A,"Playgraph resolver is undefined");this.Boa=A;return this;};B.prototype.Soa=function(){var A,E,D,F,C,G;A=this;E=d.dva.LEb({fZb:this.IN,BCb:this.ZQ},this.V_a.map(function(H){return H.EMa.bind(H);})).Jl;D=f.Nr(E,this.Jl,function(H,J){return x.isEqual(H.Ke.key,J.context.Ke.key);});F=f.Nr(this.Jl,E,function(H,J){return x.isEqual(H.context.Ke.key,J.Ke.key);});C=f.Nr(this.Jl,F);n.ma && this.u.debug("Re-evaluated prefetch items. new:" + D.length + ", evict: " + F.length + ", update: " + D.length);F=F.map(function(H){var J;J=H.context.Ke.key;n.ma && A.u.debug("Releasing playgraph",x.ws(J));return A.Yq(H).then(function(){A.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:H.context.Ke});});});G=C.map(function(H){return c.__awaiter(A,void 0,void 0,function(){var J,I;return c.__generator(this,function(M){switch(M.label){case 0:return (J=f.kg(E,function(N){return x.isEqual(N.Ke.key,H.context.Ke.key);}),h.assert(J,"Couldn't find the requested item context"),[4,H.N5]);case 1:return (I=M.wg(),f.kg(this.Jl,function(N){return N === H;}) && (this.lLa(H.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:H.context.Ke})),[2]);}});});});D=D.map(function(H){var J;J=A.Gsb(H);A.events.emit("itemQueued",{type:"itemQueued",wishListItem:H.Ke});return J;});this.Jl=c.__spread(C,D);C=D.map(function(H){return H.N5.then(function(){});});C=F.concat(G).concat(C);Promise.all(C).then(function(){});};B.prototype.Yq=function(A){var E;E=this;return A.N5.then(function(D){return c.__awaiter(E,void 0,void 0,function(){var F;return c.__generator(this,function(C){switch(C.label){case 0:return (n.ma && this.u.debug("Removing prefetch playgraph",{size:D.ij(m.S.nb)}),A.Fha.clear(),[4,this.iQa()]);case 1:return (F=C.wg(),F.Yq(D),[2]);}});});});};B.prototype.ega=function(A){return c.__awaiter(this,void 0,void 0,function(){var E,D,F,C,G,H;H=this;return c.__generator(this,function(J){switch(J.label){case 0:return (E=A.context,D=x.ws(E.Ke.key),n.ma && this.u.debug("Creating playgraph",D),[4,this.Boa.mXa(E)]);case 1:return (F=J.wg(),[4,this.iQa()]);case 2:return (C=J.wg(),G=C.aE(F,E.O5,E.Ei,E.Ke.mW,!1),A.Fha.addListener(G.events,"error",function(I){n.ma && H.u.debug("Prefetch playgraph resulted in error",I.U5b);H.hha(E);}),[2,G]);}});});};B.prototype.YLb=function(A,E){var D,F,C;D=this;F=A.context;C=x.ws(F.Ke.key);this.lLa(F,E);E.open();E.WB({dr:function(G,H){var J;J=G.defaultTrackOrderList[0].audioTrackId;return f.Rw(H,function(I){return I.track_id === J;});}},{dr:function(G,H){var J;J=G.defaultTrackOrderList[0].videoTrackId;return f.Rw(H,function(I){return I.track_id === J;});}});E.kG(x.D2(F.Ke,E.La));E=F.Ke.mW.ps(C);E.events && A.Fha.addListener(E.events,"viewableExpired",function(){A.q7b=!0;D.hha(A.context,{hWa:!0});});};B.prototype.lLa=function(A,E){var D;E.X5a(A.O5);E.I5a(A.dWa);A=A.PUb;D=A.video;E.Pqa(new p.eD(A.audio,!0),new p.eD(D,!0));};B.prototype.Gsb=function(A){var E,D,F;E=this;D=new k.XDa();F={context:A,D7:t.default.time.ba(),Fha:new g.sh(),$q:D};F.N5=this.ega(F);F.N5.then(function(C){return c.__awaiter(E,void 0,void 0,function(){var G;G=this;return c.__generator(this,function(){try{return (F.La=C,C.ol(D),D.pmb(C),F.Q3=new q.gxa(C.events,{KTb:function(H){var J;J=H.iK;switch(J){case "buffering":return !1;case "bufferingStarted":F.Q3.wpa(function(I){return "bufferingComplete" === I.iK || "updateStreamingPts" === I.iK;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.Q3.wpa(function(I){return I.iK === J;});default:return !0;}}}),C.events.on("bufferingComplete",function(){G.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:A.Ke});}),this.YLb(F,C),F.ZVb=t.default.time.ba(),[2,C]);}catch(H){throw (n.ma && this.u.error("Exception occurred creating playgraph",H),this.Yq(F),H);}});});});return F;};return B;})();b.YDa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dva=void 0;b.dva=(function(){function a(){}a.LEb=function(c,g){var d;function l(f){return m(d++)(f,l);}function m(f){return f >= g.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + f);}:g[f];}d=0;return l(c);};return a;})();},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=void 0;c=a(0).__importDefault(a(3));g=a(58);r=(function(){function l(){this.creationTime=c.default.time.ba();this.pd={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}l.prototype.pmb=function(m){this.La=m;};l.prototype.ORb=function(m,d){var f;m=null === (f=this.La) || void 0 === f?void 0:f.ij(m);this.pd={isPrefetchItem:!0,prefetchedVideoMs:m.L7,prefetchedAudioMs:m.K7,prefetchClaimDurationMs:c.default.time.ba() - this.creationTime,prefetchRank:d};};Object.defineProperties(l.prototype,{Sj:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ns=function(m){if(m.nj === g.pe.$B)return this.pd;};return l;})();b.XDa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gxa=void 0;c=a(0);r=(function(){function l(m,d){void 0 === d && (d={});this.gp=m;this.options=d;this.NE=[];this.fT=new g(m,this.Pkb.bind(this));}l.prototype.Pkb=function(m){for(var d,f,h,k,n,p,q=[],t=1;t < arguments.length;t++){q[t - 1]=arguments[t];}q={iK:m,Mr:q};(null !== (h=null === (f=(d=this.options).KTb) || void 0 === f?void 0:f.call(d,q,this.NE)) && void 0 !== h?h:1) && this.NE.push(q);return null !== (p=null === (n=(k=this.options).e9b) || void 0 === n?void 0:n.call(k,q)) && void 0 !== p?p:!0;};l.prototype.wpa=function(m){this.NE=this.NE.filter(function(d,f){return !m(d,f);});};l.prototype.Apa=function(){var m;m=this;this.fT.A5a();this.NE.forEach(function(d){var f;(f=m.gp).emit.apply(f,c.__spread([d.iK],d.Mr));});this.fT.qVa();};Object.defineProperties(l.prototype,{length:{get:function(){return this.NE.length;},enumerable:!1,configurable:!0}});l.prototype.clear=function(){this.NE=[];};l.prototype.Gb=function(){this.fT.A5a();};return l;})();b.gxa=r;g=(function(){function l(m,d){var f;f=this;this.gp=m;this.dR=d;this.fT=function(h){for(var k,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.dR.apply(f,c.__spread([h],n))?(k=f.DZa).call.apply(k,c.__spread([f.gp,h],n)):!1;};this.DZa=this.gp.emit;this.qVa();}l.prototype.qVa=function(){this.gp.emit=this.fT;};l.prototype.A5a=function(){this.gp.emit=this.DZa;};return l;})();},function(r,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Wva=void 0;c=a(0);g=a(443);l=c.__importDefault(a(3));m=a(262);r=(function(){function d(){}d.prototype.mXa=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,k,n,p,q;return c.__generator(this,function(t){switch(t.label){case 0:h=f.Ke.key;if(!m.mT(h))return [3,2];k=h.aa;n=f.Ke.mW.ps(k);return [4,l.default.Promise.resolve(n.pr)];case 1:return (p=t.wg(),q=p.la,q.Ro?[2,g.fx(q.Ro)]:[2,g.YB(k,"ps0")]);case 2:return [2,h.La];}});});};return d;})();b.Wva=r;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Xva=void 0;c=a(0);g=a(5);l=a(262);r=(function(){function m(){}m.ws=function(d){var f,h;f=d.ya;d=d.je;h=f[d].aa;Object.keys(f).forEach(function(k){return g.assert(f[k].aa === h);});return f[d].aa;};m.prototype.txb=function(d,f){return c.__read(d.filter(function(h){return m.ws(f.La) === l.ws(h.context.Ke.key);}),1)[0];};return m;})();b.Xva=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wva=b.Cva=void 0;c=a(95);g=a(1040);b.Cva=625E3;r=(function(){function l(m){this.config=m;}l.prototype.EMa=function(m){var d,f,h;d=this.config.V0;f=(this.config.RXa || this.config.U0) * b.Cva / 1E3;h=Math.floor(m.BCb.hF / f);return {Jl:m.fZb.sort(function(k,n){return k.priority - n.priority;}).slice(0,d).map(function(k,n){var p;p=k.key.config;return {dWa:{hF:n > h - 1?0:f},Ke:k,O5:1,Ei:p,PUb:{audio:[c.xE(p),new g.Raa()],video:[c.yE(p),new g.Raa()]}};})};};return l;})();b.wva=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Raa=void 0;c=a(16);r=(function(){function g(){}g.prototype.qm=function(l,m){return m === c.jc.Kj?[]:l;};return g;})();b.Raa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WDa=void 0;c=a(20);b.WDa=(function(){function g(){}g.PQb=function(l,m,d){var f;f=l.open;l.open=function(){c.ma && d.log("Replaying " + m.length + " events from prefetched playgraph");m.Apa();m.Gb();l.open=f;return f.call(l);};};return g;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gFa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.EMa=function(c,g){var l,m;l=this;c=g(c);m=c.Jl.map(function(d){return d.Ke.priority;}).sort();c.Jl.forEach(function(d){d.O5=l.config.gOb / (2 << m.lastIndexOf(d.Ke.priority));});return c;};return a;})();b.gFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NDa=void 0;r=(function(){function a(c){var g;g=this;c=c.jm;this.bF=function(){g.jm();};this.jm=c;}a.prototype.aE=function(c){c.events.on("requestsPruned",this.bF);};a.prototype.Yq=function(c){c.events.removeListener("requestsPruned",this.bF);};return a;})();b.NDa=r;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B;Object.defineProperties(b,{__esModule:{value:!0}});b.jFa=void 0;c=a(0);g=a(17);l=c.__importStar(a(8));m=a(16);d=a(233);f=a(16);h=a(9);k=a(5);n=a(21);p=a(228);q=a(58);t=a(95);u=a(127);w=a(261);v=c.__importDefault(a(3));x=a(1045);y=a(1046);z=v.default.Promise;B=0;r=(function(A){function E(D,F,C,G,H,J,I,M,N,K,O){var R,L,Q,P,ha;P=A.call(this) || this;P.console=D;P.Pn=F;P.UP=C;P.hJ=H;P.BV=J;P.$r=M;P.P=K;P.config=O;P.jq=!1;P.TY=!1;P.bu=void 0;P.$e=function(){var va,la,S,da,ya;null === (va=P.sP) || void 0 === va?void 0:va.clear();va=P.xfb;ya=P.Dib;k.assert(va);P.sg && k.assert(ya);P.Ak.value !== f.ga.aq && P.Ak.value !== f.ga.ji && (null !== (la=P.Ca) && void 0 !== la && la.mp?(la=null === (da=null === (S=P.Pn.Ga.tb.get()) || void 0 === S?void 0:S.Ha) || void 0 === da?void 0:da.Aa,P.na.R7("startplay",q.pe.$B),P.N7.CQ("emitBufferingComplete",{}),x.o1(P,va,P.Ca.Kd,la,ya)):P.console.error("Shim received buffering complete but player has no position (player " + (P.Ca?"":"un") + "defined, state " + P.Ak.value + ")"));};P.QQ=function(){var va,la,S;P.N7.CQ("audioTrackSwitchComplete",{});k.assert(void 0 !== P.gm);la=P.UP.audio_tracks[P.gm];S=P.gm;P.gm=void 0;x.KPa(P,la,S);null === (va=P.hU) || void 0 === va?void 0:va.call(P);P.hU=void 0;};k.assert(2 >= G.length,"Ase session shim suports a maximum of 1 parallel graph.");C=c.__read(G,2);D=C[0];C=C[1];P.hg=new g.sh();P.aa=D.La.ya[J[0].oa].aa;P.Ak=new h.Zp(f.ga.zg);P.bz=new t.mD(P.console);P.na=D;P.sg=C;G.forEach(function(va){var la,S;la=va.yE(P.bz);S=va.xE();va.Pqa(S,la);});P.S2a();P.B5b=!1;P.aPa=!1;x.nXa(P.console,F,P,D,C);ha=B++;P.N7=new u.iD({av:P,source:"ShimSession",console:P.console,wF:50,Sda:function(){return {shimId:ha};}});P.na.ol(new w.hD(P.N7));P.Gsa=void 0 !== (null === (Q=null === (L=(R=P.P).DK) || void 0 === L?void 0:L.call(R)) || void 0 === Q?void 0:Q.ja);P.bd=y.MLa(K);F=P.WNa({qd:P.jXa(P.na.La.qd),zS:P.y2.bind(P)});P.Ca=F;P.sg && (P.sj=P.WNa({qd:P.jXa(P.sg.La.qd),zS:P.y2.bind(P)}));P.Ca.events.on("segmentPresenting",function(){P.bu=P.jIa();});P.on("streamerend",function(){return P.VUb();});return P;}c.__extends(E,A);Object.defineProperties(E.prototype,{H:{get:function(){return this.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{ca:{get:function(){return this.$r.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{qg:{get:function(){return this.hg;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{Ud:{get:function(){return {uEb:{1:{Y:{ta:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{NG:{get:function(){return void 0 !== this.gm;},enumerable:!1,configurable:!0}});E.prototype.eHb=function(){var D,F,C,G,H;D=this;H=null === (G=null === (C=(F=this.P).DK) || void 0 === C?void 0:C.call(F)) || void 0 === G?void 0:G.ja;k.assert(H,"video element is not defined");H.addEventListener("play",function(){return D.sda();});H.addEventListener("pause",function(){return D.zk();});};E.prototype.VUb=function(){this.Pn.Ko(!0,this.$r.sessionId);};E.prototype.lC=function(D,F){var C;this.na.di((C={},C[D]=F,C));};E.prototype.open=function(){var D,F,C;D=this;this.jq || (this.jq=!0,this.Pn.Ko(this.config.qq,this.$r.sessionId),this.na.open(),null === (F=this.sg) || void 0 === F?void 0:F.open(),setTimeout(function(){return D.emit("openComplete",{type:"openComplete"});},0),this.na.kG(this.BV[0]),k.assert(this.Ca,"asePlayer should be defined on session.open"),this.BV[1] && (F=this.na.YA(this.BV[0]),k.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (C=this.sg) || void 0 === C?void 0:C.kG(this.BV[1],F.xA)),x.lXa(this.Pn,this,this.Ca,this.console),this.Ak.set(f.ga.Dc),this.Op(this.$e),this.na.mea(this.Ca),this.sg && (k.assert(this.sj,"parallelPlayer should be defined on session.open"),this.sg.mea(this.sj)),this.Gsa && this.eHb());};E.prototype.y2=function(){this.Ai || (this.Ai=new v.default.MediaSource(this.bd),this.Ai.Rb || (this.Ai.Rb=v.default.MediaSource.Rb));return this.Ai;};E.prototype.WNa=function(D){void 0 === D && (D={});D=c.__assign({Sq:this.config.Sq},D);return this.Pn.Ga.EKa(this.bd,D);};E.prototype.jXa=function(D){return D?null === D || void 0 === D?void 0:D.map(function(F){return "video" === F?1:0;}):[0,1];};E.prototype.close=function(){this.jq && (this.jq=!1);this.Pn.Ko(!0,this.$r.sessionId,!0);};Object.defineProperties(E.prototype,{cE:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});E.prototype.flush=function(){var D;this.jq && this.Ak.value !== f.ga.ji && this.Ak.value !== f.ga.aq && this.stop();this.na.R7("endplay",q.pe.Cq);this.na.Sf();null === (D=this.sg) || void 0 === D?void 0:D.Sf();this.Pn.dh.save();this.Pn.Cm.save();};E.prototype.paused=function(){this.Gsa || this.zk();};E.prototype.kC=function(){this.Gsa || this.sda();};E.prototype.zk=function(){this.Ak.value === f.ga.oc && (this.Ak.set(f.ga.wh),this.bd.emit("paused",{type:"paused",cd:this.bd.ec}));};E.prototype.sda=function(){this.Ak.value === f.ga.wh && (this.Ak.set(f.ga.oc),this.bd.emit("playing",{type:"playing",cd:this.bd.ec}));};E.prototype.kc=function(){var D,F;this.jq && this.Ak.value !== f.ga.ji && this.Ak.value !== f.ga.aq && this.stop();this.Pn.CQb(this);this.jq && this.close();this.lw && (clearInterval(this.lw),this.lw=void 0);null === (D=this.sP) || void 0 === D?void 0:D.clear();this.Ca && this.Pn.Ga.zM(this.Ca);this.sj && this.Pn.Ga.zM(this.sj);null === (F=this.Ai) || void 0 === F?void 0:F.Yo();};E.prototype.suspend=function(){k.assert(!1,"Not supported");};E.prototype.resume=function(){k.assert(!1,"Not supported");};E.prototype.play=function(){var D;D=this;this.na.state !== d.Tm.CLOSED && (k.assert(this.Ca,"ShimSession.play(), expected asePlayer to exist."),this.Ca.resume(this.TY?[1]:void 0),this.sg && (k.assert(this.sj,"ShimSession.play(), expected parallelPlayer to exist."),this.sj.resume(this.TY?[1]:void 0)),this.Ak.set(f.ga.oc),this.bd.emit("playing",{type:"playing",cd:this.bd.ec}),this.emit("play"),this.lw || (this.lw=setInterval(function(){return D.sKb();},this.config.jE)));};E.prototype.stop=function(){this.Ak.set(f.ga.aq);k.assert(this.Ca,"ShimSession.stop(), expected asePlayer to exist.");this.Ca.pause();this.sg && (k.assert(this.sj,"ShimSession.stop(), expected parallelPlayer to exist."),this.sj.pause());this.bd.emit("paused",{type:"paused",cd:this.bd.ec});this.emit("stop");};E.prototype.fs=function(D,F){var C,G;void 0 === F && (F=!0);if(!this.Ca)return this.fail("Must call open prior to drmReady");D=parseInt(D);l.isFinite(D) && (F?(this.Ca.oV(D),null === (C=this.sj) || void 0 === C?void 0:C.oV(D)):(this.Ca.Iqa(D),null === (G=this.sj) || void 0 === G?void 0:G.Iqa(D)));};E.prototype.QK=function(){var D;if(!this.Ca || !this.Ca.mp)return !1;D=this.Ca.Jn(this.na.La.ya[this.Ca.Vh.oa].aa);return D && this.sg && this.sj?this.sj.Jn(this.sg.La.ya[this.sj.Vh.oa].aa):D;};E.prototype.Lp=function(){this.Ak.set(f.ga.Xe);this.bd.emit("underflow",{type:"underflow",cd:this.bd.ec});this.Op(this.$e);};E.prototype.v2=function(D){var F;F=q.pe.$B;switch(D){case "intrplay":F=q.pe.Lp;break;case "endplay":F=q.pe.Cq;}D=this.na.v2(F);return c.__assign(c.__assign({},D),{aseApiVersion:this.cE});};E.prototype.AU=function(){this.bd.emit("playbackRateChanged",{type:"playbackRateChanged",cd:this.bd.ec});};E.prototype.Zk=function(){var D;D=this.bd.ie();D={type:"skipped",pts:n.S.lb(D)};this.bd.emit(D.type,D);return new p.jD(z.resolve()).Upa;};E.prototype.cR=function(D,F){var C;F=this.yja(F || 0,D);return null === (C=this.na.rm(F,D)) || void 0 === C?void 0:C.Sb;};E.prototype.Vo=function(D,F){var C;C=new n.S(F,1E3);return (C=this.na.Vq(C,{w3a:!0,v3a:!0}))?this.na.La.ya[C.oa].Zb + Number(C.offset.X.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + F);};E.prototype.yA=function(D,F){D=this.yja(D || 0,F);D={oa:D,offset:new n.S(F - this.na.La.ya[D].Zb,1E3)};return (D=this.na.LS(D))?D.X:F;};E.prototype.ZK=function(){var D,F,C;F={};C=null === (D=this.na) || void 0 === D?void 0:D.tK();D=this.sg?this.sg.tK():C;C && (F.vbuflmsec=C.totalvbuflmsecs,F.vbuflbytes=C.vbuflbytes);D && (F.abuflmsec=D.totalabuflmsecs,F.abuflbytes=D.abuflbytes);return F;};E.prototype.UE=function(){return {fe:0};};E.prototype.xm=function(){var D,F;return null !== (D=this.bu) && void 0 !== D?D:(null === (F=this.Ca) || void 0 === F?0:F.T2())?this.jIa():{id:this.BV[0].oa,fe:0,Sb:0,Fb:Infinity,me:Infinity,Tc:0};};E.prototype.jIa=function(){var D,F,C,G,H,J,I,M,N;k.assert(this.Ca,"attempted to get presenting branch information with no player");k.assert(this.Ca.T2(),"attempted to get presenting branch information but player has no branches");J=this.Ca.xm() || ({});I=J.R;M=J.tq;N=J.xoa;J=J.L5;return {id:I.id,fe:null !== (D=null === M || void 0 === M?void 0:M.X) && void 0 !== D?D:0,Sb:null !== (F=null === I || void 0 === I?void 0:I.Dj.X) && void 0 !== F?F:0,Fb:null !== (C=null === I || void 0 === I?void 0:I.yn.X) && void 0 !== C?C:Infinity,me:null !== (G=null === N || void 0 === N?void 0:N.X) && void 0 !== G?G:Infinity,Tc:null !== (H=null === J || void 0 === J?void 0:J.X) && void 0 !== H?H:0};};E.prototype.k1a=function(){this.zF("removeSession");};E.prototype.Wn=function(D,F,C){void 0 === F && (F=0);k.assert(!this.sg,"Seeking with dual playgraphs not supported.");F=null !== C && void 0 !== C?C:this.yja(F,D);this.Pn.Ko(this.config.qq,this.$r.sessionId);D={oa:F,offset:n.S.lb(D - this.na.La.ya[F].Zb)};this.na.kG(D);k.assert(this.Ca);this.Ca.resume();this.Ak.set(f.ga.Dc);this.Op(this.$e);D=this.na.eqa(D);k.assert(D,"Valid position must be provided for seek");return D.offset.X;};E.prototype.seek=function(D,F){D=this.Vo(F,D);return this.Wn(D,F);};E.prototype.So=function(D,F,C){var G,H;G=this.xm().id;H=this.na.$Sa(G,D);if(F){if(!H.s6a)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + G)),!1);if(void 0 !== H.TL)return (this.na.hk(G,D,!1,F),H.TL === D);this.na.hk(G,D,!1,F);return !0;}if(void 0 !== H.TL)return (C || this.Wn(H.Sb,0),!1);H.a0?(k.assert(this.Ca),this.Ca.reset(),this.na.hk(G,D,!1,F),this.Ca.resume(),this.Ak.set(f.ga.Dc),this.Op(this.$e)):C || this.Wn(H.Sb,0);return ! !H.a0;};E.prototype.ju=function(){return this.zF("addManifest");};E.prototype.xQ=function(){return this.zF("activateManifest");};E.prototype.Ona=function(){this.yHa();};E.prototype.AG=function(D){var F,C,G,H,J;F=this.sg?this.sj:this.Ca;C=D.jA;k.assert(!this.sg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.gm)return !1;D=this.UP.audio_tracks;if(!D.some(function(I,M){if(I.track_id === C)return (G=I,H=M,!0);}))return !1;D=D[this.hJ[0]];this.gm=H;J=null === F || void 0 === F?void 0:F.Ry;J?this.yHa():(this.TY=!0,null === F || void 0 === F?void 0:F.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:G.language,newNumChannels:G.channels,sourceBufferReset:J}));return !0;};E.prototype.Om=function(D,F){this.bz.Om(D,F);};E.prototype.Yg=function(D){return this.Ca?this.Ca.Yg(n.S.lb(D)):!1;};E.prototype.y1=function(){this.zF("evaluateQoE");};E.prototype.nra=function(){this.zF("stopBuffering");};E.prototype.vG=function(){return this.zF("startBuffering");};E.prototype.FTa=function(){return this.zF("getStreamingStatistics");};E.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};E.prototype.yja=function(D,F){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.dS(F);};E.prototype.dS=function(D){var F,C,H,J,I,M,N;F=this.na.La;C=[];k.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var G in F.ya){H=F.ya[G];J=H.Zb;H=H.Mc;I=D < Number(null !== H && void 0 !== H?H:Infinity);if(J <= D && I)C.push(G);else if((J=Math.min(Math.abs(D - J),Math.abs(D - H)),void 0 === M || J < M))(M=J,N=G);}k.assert(1 >= C.length,"Overlapped segments detected in branching, this is not supported");D=C[0] || N;k.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};E.prototype.sKb=function(){var D,F;F=null === (D=this.na) || void 0 === D?void 0:D.tK();D=this.sg?this.sg.tK():F;F && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};E.prototype.zF=function(D){return this.fail("Method not implemented " + D);};E.prototype.yHa=function(){k.assert(void 0 !== this.gm);this.hJ[0]=this.gm;this.S2a();this.Op(this.QQ);};E.prototype.S2a=function(){var D;D=this;this.sg?(this.na.WB({dr:function(){}},{dr:function(){return D.hJ[1];}}),this.sg.WB({dr:function(){return D.hJ[0];}},{dr:function(){}})):this.na.WB({dr:function(){return D.hJ[0];}},{dr:function(){return D.hJ[1];}});this.TY=!1;};E.prototype.ESb=function(D){this.xfb=D;};E.prototype.WSb=function(D){this.Dib=D;};E.prototype.Op=function(D){var F,C;F=this;D !== this.QQ && void 0 !== this.gm?this.hU=D:(null === (C=this.sP) || void 0 === C?void 0:C.clear(),this.sP=this.sg?h.Zp.Psa([this.na.nf,this.Ca.pT,this.sg.nf,this.sj.pT],function(G){var H,J,I,M,N;G=c.__read(G,4);I=G[1];M=G[2];N=G[3];return G[0] === m.jc.Kj && (null === (H=F.Ca) || void 0 === H?void 0:H.mp) && I.greaterThan(F.Ca.Kd) && M === m.jc.Kj && (null === (J=F.sj) || void 0 === J?void 0:J.mp) && N.greaterThan(F.sj.Kd);},this.XNa(D)):h.Zp.Psa([this.na.nf,this.Ca.pT],function(G){var H,J;G=c.__read(G,2);J=G[1];return G[0] === m.jc.Kj && (null === (H=F.Ca) || void 0 === H?void 0:H.mp) && J.greaterThan(F.Ca.Kd);},this.XNa(D)));};E.prototype.XNa=function(D){var F;F=this;return function(C){var G;C && (null === (G=F.sP) || void 0 === G?void 0:G.clear(),F.sP=void 0,z.resolve().then(D));};};c.__decorate([u.Ub({methodName:"updateChoiceMapEntry",Mr:!0})],E.prototype,"lC",null);c.__decorate([u.Ub({methodName:"open"})],E.prototype,"open",null);c.__decorate([u.Ub({methodName:"close"})],E.prototype,"close",null);c.__decorate([u.Ub({methodName:"paused"})],E.prototype,"zk",null);c.__decorate([u.Ub({methodName:"unpaused"})],E.prototype,"sda",null);c.__decorate([u.Ub({methodName:"cleanup"})],E.prototype,"kc",null);c.__decorate([u.Ub({methodName:"suspend"})],E.prototype,"suspend",null);c.__decorate([u.Ub({methodName:"resume"})],E.prototype,"resume",null);c.__decorate([u.Ub({methodName:"play"})],E.prototype,"play",null);c.__decorate([u.Ub({methodName:"stop"})],E.prototype,"stop",null);c.__decorate([u.Ub({Mr:!0,methodName:"drmReady"})],E.prototype,"fs",null);c.__decorate([u.Ub({methodName:"underflow"})],E.prototype,"Lp",null);c.__decorate([u.Ub({methodName:"getLogdataReport"})],E.prototype,"v2",null);c.__decorate([u.Ub({methodName:"skipped"})],E.prototype,"Zk",null);c.__decorate([u.Ub({methodName:"seekByContentPts"})],E.prototype,"Wn",null);c.__decorate([u.Ub({methodName:"seek"})],E.prototype,"seek",null);c.__decorate([u.Ub({methodName:"chooseNextSegment",Mr:!0})],E.prototype,"So",null);c.__decorate([u.Ub({methodName:"onAudioTrackSwitchStarted"})],E.prototype,"Ona",null);c.__decorate([u.Ub({methodName:"switchTracks"})],E.prototype,"AG",null);return E;})(g.EventEmitter);b.jFa=r;},function(r,b,a){var l,m;function c(d,f,h){var k,n;k=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;f.on(k,function(p){d.emit(n,l.__assign(l.__assign({},p),{type:n}));});}function g(d,f,h,k){var n,p;f.events.once(d,function(q){(n=q) && p && k(n,p);});h.events.once(d,function(q){p=q;n && p && k(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.KPa=b.o1=b.lXa=b.nXa=void 0;l=a(0);m=a(20);b.nXa=function(d,f,h,k,n){var q;function p(t,u){c(h,t,u);}f=n?[k,n]:[k];["buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(t){return p(k.events,t);});n?(p(n.events,"initialAudioTrack"),g("openComplete",k,n,function(t){h.emit("openComplete",t);}),g("streamerEnd",k,n,function(t){h.emit("streamerend",l.__assign(l.__assign({},t),{type:"streamerend"}));})):(p(k.events,"openComplete"),p(k.events,["streamerEnd","streamerend"]),p(k.events,"initialAudioTrack"));k.events.on("logdata",function(t){h.emit("logdata",l.__assign(l.__assign({},t),{fields:l.__assign(l.__assign({},t.fields),{aseApiVersion:h.cE})}));});q=!0;k.events.on("bufferingStarted",function(t){h.NG && q?q=!1:(h.N7.CQ("bufferingStarted",{}),h.emit("bufferingStarted",t));});k.events.on("bufferingComplete",function(t){h.NG?q=!0:h.ESb(t);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(t){h.NG || h.WSb(t);});k.events.on("error",function(t){t=l.__assign(l.__assign({},t),{manifestIndex:0});h.emit("error",t);});h.on("error",function(){});k.events.on("segmentComplete",function(t){h.emit("segmentComplete",{type:"segmentComplete",mediaType:t.mediaType,manifestIndex:0,segmentId:t.segmentId});});k.events.on("segmentNormalized",function(t){var u;u=Math.floor(t.viewableContentEnd.X);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:u,maxPts:u,maxSeekPts:Math.floor(t.viewableEarliestContentEnd.X)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:u,maxPts:u});});k.events.on("segmentStarting",function(t){h.emit("maxBitrates",{type:"maxBitrates",audio:t.maxBitrates.audio,video:t.maxBitrates.video});h.emit("segmentStarting",t);});f.forEach(function(t){t.events.on("serverSwitch",function(u){h.emit("serverSwitch",{type:"serverSwitch",segmentId:u.segmentId,mediatype:u.mediatype,server:u.server,reason:u.reason,location:u.location,bitrate:u.bitrate,confidence:u.confidence,throughput:u.throughput,oldserver:u.oldserver});});t.events.on("streamSelected",function(u){var w;w=t.YA(u.position);h.emit("streamSelected",{type:"streamSelected",nativetime:u.nativetime,mediaType:u.mediaType,streamId:u.streamId,manifestIndex:0,trackIndex:u.trackIndex,streamIndex:u.streamIndex,movieTime:w.xA.X,bandwidth:u.bandwidth,longtermBw:u.longtermBw,rebuffer:u.rebuffer});});t.events.on("updateStreamingPts",function(u){var w;w=h.H;m.ma && d.trace("converting updateStreamingPts, movieId:",w);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:u.mediaType,manifestIndex:0,trackIndex:u.trackIndex,segmentId:u.position.oa,movieTime:Math.floor(u.completePlayerStreamingTimestamp.X)});});});};b.lXa=function(d,f,h,k){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(n){return c(f,h.events,n);});h.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.X;q=f.na.YA(n.position);void 0 === q?k.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):f.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.xA.X),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var p,q,t;p=f.na.YA(n.position);q=n.playerTimestamp.Sa(p.xA);t=n.position.oa;f.aPa || (f.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.X,movieId:p.aa.toString(),replace:!1,contentOffset:q.X}),f.aPa=!0);f.emit("segmentPresenting",{type:"segmentPresenting",segmentId:t,contentOffset:q.X,metrics:n.metrics});});h.events.on("ptsChanged",function(n){f.emit("ptschanged",n.initialTimestamp.X);f.bd.emit("skipped");});};b.o1=function(d,f,h,k,n){var p;h=h.X;n=null !== n && void 0 !== n?n:f;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:f.reason,actualbw:k,initSelReason:null !== (p=f.initSelReason) && void 0 !== p?p:"unknown",bcVBufferLevelMs:f.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:f.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:f.vBufferLevelMs,selector:f.selector,initBitrate:f.initBitrate,skipbackBufferSizeBytes:f.skipbackBufferSizeBytes});};b.KPa=function(d,f,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:f.track_id,trackIndex:h});};},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;r=a(0);c=a(17);g=r.__importDefault(a(121));l=a(9);b.MLa=function(m){if(m.Veb)return m;g.default(c.EventEmitter.prototype,m);Object.defineProperties(m,{Veb:{value:!0},ec:{get:function(){return new l.S(this.ie(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Dn?this.Dn():1,.01);}}});return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Upb={Wu:["minInitVideoBitrate",-Infinity],fna:["minHCInitVideoBitrate",-Infinity],dy:["maxInitVideoBitrate",Infinity],ST:["minInitAudioBitrate",-Infinity],RT:["minHCInitAudioBitrate",-Infinity],FT:["maxInitAudioBitrate",Infinity],B4:["minAcceptableVideoBitrate",-Infinity],PT:["minAcceptableVMAF",0],nJb:["minAcceptableVMAFRebufferScalingFactor",0],dna:["minAllowedVideoBitrate",-Infinity],mIb:["maxAllowedVideoBitrate",Infinity],BF:["minAllowedVmaf",-Infinity],rXa:["maxAllowedVmaf",Infinity],mN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],s1:["enableResolutionVMAFStreamFilter",!1],koa:["percentCapTitlesForResolutionVMAFStreamFilter",100],y6:["resolutionVMAFCappingRuleList",[]],NUa:["ignoreUserFilterOnEmptyResult",!0],TT:["minRequiredBuffer",2E4],G4:["minRequiredAudioBuffer",0],pj:["minPrebufSize",5800],ena:["minCheckBufferingCompleteInterval",200],ZPa:["enableMoreFrequentBufferingCompleteCheck",!1],iYa:["minimumBufferingCompleteInterval",1E4],s6:["requireDownloadDataAtBuffering",!1],YUa:["indicatorForDownloadDataAtBuffering","oncomplete"],t6:["requireSetupConnectionDuringBuffering",!1],jpa:["rebufferingFactor",1],Qq:["maxBufferingTime",2E3],Dsa:["useMaxPrebufSize",!0],rB:["maxPrebufSize",4E4],Nma:["maxRebufSize",Infinity],Qwb:["fastRebufferRecoveryThreshold",Infinity],Pwb:["fastRebufferRecoverBwThrehold",3E3],k3:["initialBitrateSelectionCurve",null],cVa:["initSelectionLowerBound",-Infinity],dVa:["initSelectionUpperBound",Infinity],A7:["throughputPercentForAudio",15],yea:["bandwidthMargin",0],Aea:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],Tmb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,dx:76376,scale:18862.4,gamma:3.0569}],zea:["bandwidthMarginContinuous",!1],Umb:["bandwidthMarginForAudio",!0],Era:["switchConfigBasedOnInSessionTput",!0],Ofa:["conservBandwidthMargin",20],oR:["conservBandwidthMarginTputThreshold",6E3],Pfa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],q4a:["switchAlgoBasedOnHistIQR",!1],eC:["switchConfigBasedOnThroughputHistory","iqr"],Mma:["maxPlayerStateToSwitchConfig",-1],mma:["lowEndMarkingCriteria","iqr"],Y9:["IQRThreshold",.5],qka:["histIQRCalcToUse","simple"],Or:["bandwidthManifold",{curves:[{min:.05,max:.82,dx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,dx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Js:["maxTotalBufferLevelPerSession",0],EUa:["highWatermarkLevel",3E4],Y4a:["toStableThreshold",3E4],J7:["toUnstableThreshold",0],bra:["skipBitrateInUpswitch",!1],Rsa:["watermarkLevelForSkipStart",8E3],jka:["highStreamRetentionWindow",9E4],nma:["lowStreamTransitionWindow",51E4],lka:["highStreamRetentionWindowUp",5E5],pma:["lowStreamTransitionWindowUp",1E5],kka:["highStreamRetentionWindowDown",6E5],oma:["lowStreamTransitionWindowDown",0],ika:["highStreamInfeasibleBitrateFactor",.5],Yx:["lowestBufForUpswitch",9E3],d4:["lockPeriodAfterDownswitch",15E3],rma:["lowWatermarkLevel",15E3],Zx:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],sma:["lowestWaterMarkLevelBufferRelaxed",!1],Xma:["mediaRate",1.5],p4:["maxTrailingBufferLen",15E3],MQ:["audioBufferTargetAvailableSize",262144],hW:["videoBufferTargetAvailableSize",1048576],LXa:["maxVideoTrailingBufferSize",8388608],tXa:["maxAudioTrailingBufferSize",393216],G1:["fastUpswitchFactor",3],Rwb:["fastUpswitchFactorWithoutHeaders",3],Nha:["fastDownswitchFactor",3],ey:["maxMediaBufferAllowed",27E4],T7b:["minMediaBufferLen",1E4],$qa:["simulatePartialBlocks",!0],o3a:["simulateBufferFull",!0],Qfa:["considerConnectTime",!0],Nfa:["connectTimeMultiplier",1],TWa:["lowGradeModeEnterThreshold",12E4],UWa:["lowGradeModeExitThreshold",9E4],xXa:["maxDomainFailureWaitDuration",3E4],sXa:["maxAttemptsOnFailure",18],tQa:["exhaustAllLocationsForFailure",!0],DXa:["maxNetworkErrorsDuringBuffering",20],k4:["maxBufferingTimeAllowedWithNetworkError",6E4],nJ:["alwaysRunUnderflowTimer",!0],BQa:["fastDomainSelectionBwThreshold",2E3],E4a:["throughputProbingEnterThreshold",4E4],F4a:["throughputProbingExitThreshold",34E3],IWa:["locationProbingTimeout",1E4],HQa:["finalLocationSelectionBwThreshold",1E4],C4a:["throughputHighConfidenceLevel",.75],D4a:["throughputLowConfidenceLevel",.4],ama:["locationStatisticsUpdateInterval",6E4],vHb:["locationSelectorPersistFailures",!0],aQa:["enablePerfBasedLocationSwitch",!1],z7b:["maxRateMaxFragmentGroups",4500],poa:["pipelineScheduleTimeoutMs",2],fy:["maxPartialBuffersAtBufferingStart",2],gna:["minPendingBufferLen",3E3],qB:["maxPendingBufferLen",6E3],Lvb:["enableNginxRateLimit",!1],Z4:["nginxSendingRate",4E4],Pvb:["enableRequestPacingToken",!1],SIb:["mediaRequestPacingSpeed",2],Qka:["initialMediaRequestToken",2E4],i4:["maxActiveRequestsSABCell100",2],n4:["maxPendingBufferLenSABCell100",500],F1a:["resetActiveRequestsAtSessionInit",!0],OPa:["enableCprAudio",!1],PPa:["enableCprVideo",!1],n0:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,coefficients:{bitrate:0,upswitchBitrate:0,maxBitrate:1,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,inStartingState:0,inBufferingState:0,inPlayingState:0,inRebufferingState:0,startingObservedThroughput:0,bufferingObservedThroughput:0,offset:0}}],EUb:["staticPacingRateKbps",0],rMb:["paceRateSelectorAlgorithm","default"],$Pa:["enablePaceReportLogging",!1],Oma:["maxStreamingSkew",2E3],pIb:["maxBufferOccupancyForSkewCheck",Infinity],YXb:["useBufferOccupancySkipBack",!0],Kma:["maxPendingBufferPercentage",10],CL:["maxRequestsInBuffer",120],U2:["headerRequestSize",4096],qwb:["estimateHeaderSize",!0],F6b:["headerCacheEstimateHeaderSize",!1],HF:["neverWipeHeaderCache",!1],kYb:["useSidxInfoFromManifestForHeaderRequestSize",!1],CQa:["fastPlayHeaderRequestSize",0],BL:["maxRequestSize",0],ML:["minRequestSize",65536],QT:["minBufferLenForHeaderDownloading",1E4],u3a:["smartHeaderPreDownloading",!1],xvb:["enableAllHeadersPreDownloading",!1],p8b:["onlyAllowPtsUpdatePolling",!1],tJb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],HM:["reserveForSkipbackBufferMs",15E3],Hna:["numExtraFragmentsAllowed",2],vp:["pipelineEnabled",!0],AL:["maxParallelConnections",3],hYb:["usePipelineForAudio",!1],gYb:["usePipelineDetectionForAudio",!1],x3a:["socketReceiveBufferSize",0],R_:["audioSocketReceiveBufferSize",32768],DN:["videoSocketReceiveBufferSize",65536],l6a:["usePipelineDetectionForVideo",!1],xJb:["minVideoSocketReceiveBufferSize",65536],gka:["headersSocketReceiveBufferSize",32768],xTb:["shareDownloadTracks",!0],yTb:["shareOpenRangeTracks",!1],xub:["disableHeaderDownloadTracks",!1],B5:["perPipelineRequestQueues",!1],ina:["minTimeBetweenHeaderRequests",void 0],Z7:["updatePtsIntervalMs",1E3],Jea:["bufferTraceDenominator",0],jE:["bufferLevelNotifyIntervalMs",2E3],vra:["streamingStatusIntervalMs",2E3],vy:["prebufferTimeLimit",6E4],D4:["minBufferLevelForTrackSwitch",2E3],Nvb:["enablePenaltyForLongConnectTime",!1],ioa:["penaltyFactorForLongConnectTime",2],kma:["longConnectTimeThreshold",200],Qda:["additionalBufferingLongConnectTime",2E3],Rda:["additionalBufferingPerFailure",8E3],PU:["rebufferCheckDuration",6E4],YPa:["enableLookaheadHints",!1],QWa:["lookaheadFragments",2],sx:["enableOCSideChannel",!0],Poa:["probeRequestTimeoutMilliseconds",3E4],F8b:["probeRequestConnectTimeoutMilliseconds",8E3],dY:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],Qvb:["enableSCByteRangeHints",!1],L5a:["updateDrmRequestOnNetworkFailure",!0],wXa:["maxDiffAudioVideoEndPtsMs",1E3],Otb:["deferAseHeaderCache",!1],QOa:["deferAseScheduling",!1],WVb:["timeBeforeEndOfStreamBufferMark",6E3],Hma:["maxFastPlayBufferInMs",2E4],Gma:["maxFastPlayBitThreshold",2E8],uXa:["maxBufferingCompleteBufferInMs",Infinity],C4:["minAudioMediaRequestSizeBytes",0],I4:["minVideoMediaRequestSizeBytes",0],oIb:["maxAudioMediaRequestSizeBytes",Infinity],BIb:["maxVideoMediaRequestSizeBytes",Infinity],vIb:["maxMediaRequestSizeBytesInFraction",1],JL:["minAudioMediaRequestDuration",0],OL:["minVideoMediaRequestDuration",0],LL:["minMediaRequestDuration",0],nIb:["maxAudioMediaRequestDuration",Infinity],AIb:["maxVideoMediaRequestDuration",Infinity],GT:["maxMediaRequestDuration",Infinity],Yda:["allowFirstRequestAggregation",!1],qJb:["minAudioMediaRequestDurationCache",0],wJb:["minVideoMediaRequestDurationCache",0],Kvb:["enableMultiFragmentRequest",!1],zN:[["useHeaderCache","usehc"],!0],c8:[["useHeaderCacheData","usehcd"],!0],V0:["defaultHeaderCacheSize",4],LOa:["defaultHeaderCacheDataCount",4],U0:["defaultHeaderCacheDataPrefetchMs",0],eka:["headerCacheMaxPendingData",6],xUa:["headerCachePriorityLimit",5],wUa:["headerCacheAdoptBothAV",!1],iYb:["usePipelineForBranchedAudio",!0],Wob:["childBranchBatchedAmount",1E4],Sq:["minimumTimeBeforeBranchDecision",2E3],zJb:["minimumAppendedMediaBeforePlayback",5E3],uMb:["parallelBranchesDuringBuffering",!1],yIb:["maxRequestsToAttachOnBranchActivation",void 0],UT:["minimumJustInTimeBufferLevel",3E3],Fvb:["enableJustInTimeAppends",!1],TPa:["enableDelayedSeamless",!1],O4b:["branchEndPtsIntervalMs",250],UDb:["ignorePtsJustBeforeCurrentSegment",!1],zXa:["maxFragsForFittableOnBranching",300],PMb:["pausePlaylistAtEnd",!0],Dkb:["adaptiveParallelTimeoutMs",1E3],aK:["enableAdaptiveParallelStreaming",!1],Iea:["bufferThresholdToSwitchToSingleConnMs",45E3],Hea:["bufferThresholdToSwitchToParallelConnMs",35E3],uvb:["enableAPSForBranching",!1],q8:["waitForPendingConnAdaptation",!1],sna:["networkFailureResetWaitMs",2E3],rna:["networkFailureAbandonMs",6E4],o4:["maxThrottledNetworkFailures",5],z7:["throttledNetworkFailureThresholdMs",200],qma:["lowThroughputThreshold",400],Iha:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],VVb:["timeAtEachBitrateRoundRobin",1E4],FRb:["roundRobinDirection","forward"],KDb:["httpsConnectErrorAsPerm",!1],rYa:["mp4ParsingInNative",!1],Ch:["enableManagerDebugTraces",!1],gXa:["managerDebugMessageInterval",1E3],fXa:["managerDebugMessageCount",20],ZYa:["notifyManifestCacheEom",!0],oha:["enableUsingHeaderCount",!1],z3a:["sourceBufferInOrderAppend",!0],Ey:["requireAudioStreamToEncompassVideo",!1],SKa:["allowAudioToStreamPastVideo",!1],VNa:["countGapInBuffer",!1],TKa:["allowCallToStreamSelector",!1],nMa:["bufferThresholdForAbort",2E4],rra:["ase_stream_selector","optimized"],FLa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Nka:["initBitrateSelectorAlgorithm","default"],Nea:["bufferingSelectorAlgorithm","default"],SUb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],cQa:["enableThroughputTraceResearchData",!1],G4a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],rv:["researchEnvironmentEnabled",!1],Svb:["enableStreamSelectionAugmentData",!1],Emb:["augmentDataNumOfChunks",30],DOa:["ase_ls_failure_simulation",""],uga:["ase_dump_fragments",!1],wga:["ase_location_history",0],xga:["ase_throughput",0],FOa:["ase_simulate_verbose",!1],Zf:["stallAtFrameCount",void 0],E3a:["stallAtFrameCountAudio",void 0],Dma:["marginPredictor","simple"],e6a:["useBackupUnderflowTimer",!0],R9b:["useManifestDrmHeader",!0],S9b:["useOnlyManifestDrmHeader",!0],tna:["networkMeasurementGranularity","video_location"],ZJb:["netIntrStoreWindow",36E3],$7b:["minNetIntrDuration",8E3],wgb:["fastHistoricBandwidthExpirationTime",10368E3],Wgb:["bandwidthExpirationTime",5184E3],vgb:["failureExpirationTime",86400],mJa:["historyTimeOfDayGranularity",4],sgb:["expandDownloadTime",!0],Fhb:["minimumMeasurementTime",500],Ehb:["minimumMeasurementBytes",131072],Rib:["throughputMeasurementTimeout",2E3],Qib:["initThroughputMeasureDataSize",262144],phb:["historicBandwidthUpdateInterval",2E3],Dhb:["minimumBufferToStopProbing",1E4],u4b:["throughputPredictor","ewma"],oqa:["secondThroughputEstimator","slidingwindow"],g2a:["secondThroughputMeasureWindowInMs",3E5],t4b:["throughputMeasureWindow",5E3],v4b:["throughputWarmupTime",5E3],s4b:["throughputIQRMeasureWindow",1E3],d4b:["IQRBucketizerWindow",15E3],AXa:["maxIQRSamples",100],eYa:["minIQRSamples",5],p4b:["connectTimeHalflife",10],j4b:["responseTimeHalflife",10],wIa:["historicThroughputHalflife",14400],vIa:["historicResponseTimeHalflife",100],uIa:["historicHttpResponseTimeHalflife",100],gya:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],ZIa:["minReportedNetIntrDuration",4E3],r4b:["throughputBucketMs",500],g4b:["bucketHoltWintersWindow",2E3],jgb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],tgb:["experimentalFilter",["throughput-wssl"]],$ba:["filterDefinitionOverrides",{}],Zfb:["defaultFilter","throughput-ewma"],wjb:["secondaryFilter","throughput-sw"],AI:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],r1:["enableHudsonFieldTest",!1],t1:["enableWsslEstimate",!1],Qma:["maxWsslRequestSize",131072],Pma:["maxWsslRequestRatio",.2],V6a:["wsslAggregationMethod","max"],VS:["hudsonTitles",["81127954","70125931","80158148"]],xka:["hudsonStreams",("2076313785 2076314053 2076314493 2076314871 2076314922 2076315208 2076315730 2076316089 2076316293 2076316728").split(" ")],Jma:["maxPartialBuffersAtHudson",1],eU:["numberOfChunksPerSegment",4],y7:["targetContentLatency",1E4],Hra:["targetLongContentLatency",3E4],K4:["minimumTimeDelay",1],VR:["enableSessionHistoryReport",!0],kha:["earlyStageEstimatePeriod",1E4],vWa:["lateStageEstimatePeriod",3E4],m4:["maxNumSessionHistoryStored",10],H4:["minSessionHistoryDuration",3E5],uDb:["highAndStableModelName","baseline"],nha:["enableHighAndStablePredictor",!1],F4:["minNumSessionHistory",5],K4b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],W2:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],vDb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],A_:["addHeaderDataToNetworkMonitor",!0],kra:["startMonitorOnLoadStart",!1],Cpa:["reportFailedRequestsToNetworkMonitor",!1],E5:["periodicHistoryPersistMs",0],F6:["saveVideoBitrateMs",0],YT:["needMinimumNetworkConfidence",!0],Dea:["biasTowardHistoricalThroughput",!1],zHb:["logMemoryUsage",!1],yUa:["headerCacheTruncateHeaderAfterParsing",!0],Ws:["probeServerWhenError",!0],Pw:["allowSwitchback",!0],YF:["probeDetailDenominator",100],l4:["maxDelayToReportFailure",300],qq:["allowParallelStreaming",!1],L7b:["mediaPrefetchDisabled",!1],cYa:["minBufferLevelToAllowPrefetch",5E3],lqa:["seamlessAudio",!1],X8b:["seamlessAudioProfiles",[]],Y8b:["seamlessAudioProfilesAndTitles",{}],mqa:["seamlessAudioMaximumSyncError",void 0],nqa:["seamlessAudioMinimumSyncError",void 0],p3:["insertSilentFrames",0],q3:["insertSilentFramesOnSeek",!1],r3:["insertSilentFramesOnSeekForTitles",[]],pVa:["insertSilentFramesOnSeekCount",3],Sxb:["forceDiscontinuityAtTransition",!0],Ara:["supportAudioResetOnDiscontinuity",void 0],t7:["supportAudioEasingOnDiscontinuity",void 0],lvb:["editCompleteFragments",!0],AJb:["minimumAudioFramesPerFragment",1],gA:["applyProfileTimestampOffset",!1],Oj:["applyProfileStreamingOffset",!0],j0a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],PWb:["truncateEndOfStreamAudio",!1],$Xb:["useDpiAssumedAacEncoderDelay",!0],x4:["mediaSourceSupportsNegativePts",!1],KL:["minAudioPtsGap",void 0],xmb:["audioOverlapGuardSampleCount",2],bQa:["enableRecordJSBridgePerf",!1],d$:["JSBridgeTDigestConfig",{maxc:25,c:.5}],SVb:["throughputThresholdSelectorParam",0],VXb:["upswitchDuringBufferingFactor",2],Flb:["allowUpswitchDuringBuffering",!1],ONa:["contentOverrides",void 0],Ufa:["contentProfileOverrides",void 0],pka:["hindsightDenominator",0],oka:["hindsightDebugDenominator",0],X2:["hindsightAlgorithmsEnabled",[]],Y2:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],hLa:["appendMediaRequestOnComplete",!1],p8:["waitForDrmToAppendMedia",!1],R1:["forceAppendHeadersAfterDrm",!1],zga:["declareBufferingCompleteAtSegmentEnd",!1],Ru:["maxActiveRequestsPerSession",void 0],Vla:["limitAudioDiscountByMaxAudioBitrate",!1],bea:["appendFirstHeaderOnComplete",!0],o7:["strictBufferCapacityCheck",!1],HQ:["aseReportDenominator",0],jea:["aseReportIntervalMs",3E5],bsa:["translateToVp9Draft",!1],pN:["switchableAudioProfiles",[]],ymb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],r4a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Amb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],JXa:["maxStartingVideoVMAF",110],NL:["minStartingVideoVMAF",1],yQ:["activateSelectStartingVMAF",!1],M6:["selectStartingVMAFTDigest",-1],OM:["selectStartingVMAFMethod","fallback"],o2a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],FB:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],yub:["disablePtsStartsEvent",!0],lpa:["recordFirstFragmentOnSubBranchCreate",!0],QXa:["mediaCacheConvertToBinaryData",!1],Sma:["mediaCacheSaveOneObject",!1],qXa:["markRequestActiveOnFirstByte",!1],m1:["earlyAppendSingleChildBranch",!0],AN:["useNativeDataViewMethods",!0],Zda:["alwaysNotifyEOSForPlaygraph",!1],ZXb:["useCorrectDrainingAmounts",!0],LE:["enableNewAse",!1],mC:["useNewApi",!1],HR:["aseDiagnostics",[{Sj:"queue-audit",enabled:!0},{Sj:"task-audit",enabled:!0},{Sj:"trace-ShimSession",enabled:!0},{Sj:"trace-engine",enabled:!0},{Sj:"trace-RequestPacer",enabled:!0},{Sj:"trace-BufferStateTracker",enabled:!0},{Sj:"trace-GraphStreamingProcess",enabled:!0},{Sj:"trace-AsePlaygraph",enabled:!0}]],qnb:["branchDistanceThreshold",6E4],j4:["maxAllowedOutstandingRequests",4],hna:["minStreamableConcurrencyWindow",3E3],KXa:["maxStreamableConcurrencyWindow",Infinity],tra:["streamableConcurrencyFactor",.3],aR:["bufferingConcurrencyWindow",7800],Glb:["alwaysAllowContiguousRequestsWhenStreaming",!1],OMb:["pauseOnConcurrencyFailure",!0],p1:["enableDiscontiguousBuffering",!1],dOb:["prefetchBudgetInBytes",0],M0a:["rebufferRiskHalfLife",1E4],Csa:["useBufferSizeLimiter",!1],PYb:["viewableReleaseTimeoutMs",1E3],gOb:["prefetchWeightBudget",32],jna:["minimumDownstreamBranchProbability",.075],znb:["bufferingCompleteOnBranchComplete",!1],dW:["useExitZones",!1],hOb:["prefetchWhilePlaying",!0],nOb:["prefetcherSoftReset",!0],K_a:["playgraphDefaultWeight",65520]};b.Wj=b.Upb;},function(r,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Yv=b.TC=b.wz=b.wL=b.Oaa=void 0;c=a(0);g=a(82);Object.defineProperties(b,{TC:{enumerable:!0,get:function(){return g.TC;}}});Object.defineProperties(b,{Yv:{enumerable:!0,get:function(){return g.Yv;}}});Object.defineProperties(b,{wL:{enumerable:!0,get:function(){return g.wL;}}});Object.defineProperties(b,{Oaa:{enumerable:!0,get:function(){return g.Oaa;}}});l=c.__importDefault(a(3));r=(function(m){function d(f,h,k,n,p){return m.call(this,d.console,f,h,k,n,p) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.u || (this.u=new l.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(g.wz);b.wz=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nOa=void 0;b.nOa=function(a,c,g,l){return {oTa:function(){var m;m=a.mja();l.zs && (m+=l.zs);return m;},qa:c,request:g,Pe:!1};};},function(r,b,a){var g,l,m,d,f;function c(h,k){var n;h=g.EventEmitter.call(this) || this;h.content="";h.entries=[];l.Za(("videoSize" in k) && ("xml" in k) && ! !k.xml,"Subtitle options didn't contain XML data");("videoSize" in k) && ("xml" in k) && (h.content=null !== (n=k.xml) && void 0 !== n?n:"",h.az=k.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.qza=void 0;g=a(17);l=a(19);m=a(11);d=a(27);f=a(1051);ja(c,g.EventEmitter);c.prototype.VE=function(h){var k;d.vc(h) && d.vc(this.duration) && h < this.duration && this.entries && (k=this.bKb || this.entries[Math.floor(h * this.$Vb)] || this.entries[0]);if(k){for(;k && k.endTime < h;){k=k.next;}for(;k && k.previous && k.previous.endTime >= h;){k=k.previous;}this.bKb=k;}return k?[k]:[];};c.prototype.IS=function(h,k){var n;n=[];try{n=this.entries.filter(function(p){var q;q=Z([p.startTime,p.endTime]);p=q.next().value;q=q.next().value;return p >= h && p <= k || p <= h && h <= q;});}catch(p){}return n;};c.prototype.Fq=function(h,k){return this.IS(h,k).reduce(function(n,p){return n + p.blocks.length;},0);};c.prototype.start=function(){var h,k;h=this;if(this.content)f.b_a(this.content,this.az.width / this.az.height,m.config.Qra,m.config.E7).then(function(n){h.duration=n && Math.max.apply(Math,ba(n.map(function(p){return p.endTime;}))) || 0;h.$Vb=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {k=Error("Subtitle content was empty");k.errorDetails="Subtitle content was empty";this.emit("error",k);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.Yoa=function(){throw Error("Method not implemented.");};c.prototype.mr=function(){throw Error("Method not implemented.");};c.prototype.Jy=function(){throw Error("Method not implemented.");};c.prototype.hk=function(){throw Error("Method not implemented.");};c.prototype.di=function(){throw Error("Method not implemented.");};b.qza=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.b_a=void 0;c=a(1052);g=a(263);b.b_a=function(l,m,d,f){return new Promise(function(h,k){g.Wsa(l,function(n){n.W?c.UZa(n.object,m,d,f,function(p){p.W?h(p.entries):k(p);}):k(n);});});};},function(r,b,a){var c,g,l,m,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.WZa=b.VZa=b.boa=b.YZa=b.zMb=b.AMb=b.XZa=b.ZZa=b.w5=b.$Za=b.a_a=b.UZa=void 0;c=a(19);g=a(27);l=a(12);m=a(149);d=a(10);f=a(14);h=a(22);b.UZa=(function(){var F,C,G,H,J,I,M,N,K,O,R,L;function k(Q){if(g.Sx(Q)){Q=Q.toLowerCase();if("#" == Q[0]){if(7 == Q.length)return Q;if(4 == Q.length)return "#" + Q[1] + Q[1] + Q[2] + Q[2] + Q[3] + Q[3];}return b.ZZa[Q];}}function n(Q,P,ha){P=P[Q];0 <= P || (P=parseFloat(Q));if(0 <= P)return d.mo(P,ha);}function p(Q,P){var ha,va;ha=Q.length;va=Q[ha - 1];if("t" === va)return parseFloat(Q) * P | 0;if("s" === va)return "m" === Q[ha - 2]?parseFloat(Q) | 0:parseFloat(Q) * l.sk | 0;if((Q=Q.match(K)) && 4 <= Q.length)return (3600 * parseInt(Q[1],10) + 60 * parseInt(Q[2],10) + parseFloat(Q[3])) * l.sk | 0;throw Error("dfxp-badtime");}function q(Q,P,ha,va,la){var S,da,ya,U,ma,ta,Ja,wa;S=void 0;if(Q){da=Q.style;ha=da?ha[da]:void 0;va=(da=Q.region)?va[da]:void 0;da=la.length;for(ya=0;ya < da;ya++){ma=la[ya];ta=Q[ma];void 0 === ta && ha && (ta=ha[ma]);void 0 === ta && va && (ta=va[ma]);if(void 0 !== ta && ta !== P[ma]){if(!S)for((S={},U=0);U < da;U++){Ja=la[U];wa=P[Ja];void 0 !== wa && (S[Ja]=wa);}S[ma]=ta;}}}return S || P;}function t(Q,P,ha,va,la,S,da,ya,U){var ta,Ja;function ma(wa,ra,Qa){var Pa,Sa,$a,kb,bb,Ra;Pa=wa[m.Hj];Sa=Pa.style || ra.style || "";$a=Pa.region || ra.region || "";if(Sa || $a)(kb=Sa + "/" + $a,bb=ha[kb]);else bb=P;if(!bb){bb=P;Ra=g.aN(va);g.Jb(Ra,la[Sa]);bb=x(bb,Ra,da,ya,U);ha[Sa + "/"]=bb;$a && (g.Jb(Ra,S[$a]),g.Jb(Ra,la[Sa]),bb=x(bb,Ra,da,ya,U),ha[kb]=bb);}if(!Qa)a:{for(Qa=I.length;Qa--;){if(void 0 !== Pa[I[Qa]]){Qa=!0;break a;}}Qa=void 0;}Qa && (Pa=q(Pa,ra,la,S,M),bb=x(bb,Pa,da,ya,U));ra=(wa=wa[m.LN]) && wa.length;for(Sa=0;Sa < ra;Sa++){$a=wa[Sa];g.Ff($a)?O.test($a[m.MN])?Ja++:ma($a,Pa,Qa):(ta.push({text:$a,lineBreaks:Ja,style:bb}),Ja=0);}}ta=[];Ja=0;ma(Q,va,!1);0 < Ja && ta.push({text:"",lineBreaks:Ja,style:P});return ta;}function u(Q,P,ha,va,la,S,da,ya){var U,ma;ha && (ha=C[ha] || "top",Q.verticalAlignment !== ha && (Q.verticalAlignment=ha));va && (ha=G[va] || "left",Q.horizontalAlignment !== ha && (Q.horizontalAlignment=ha));if(la){if(U=ya[la])(va=U.marginLeft,ha=U.marginTop);else {ma=la.split(" ");va=z(ma[0],da.x) || 0;ha=z(ma[1],da.y) || 0;U={ap:0,marginLeft:va,marginTop:ha,slb:va * P.Uja + P.NS,ulb:ha * P.Isa + P.j8};30 > ya.ap && (ya.ap++,ya[la]=U);}Q.marginLeft=U.slb;Q.marginTop=U.ulb;}else (ha=va=0,(U=ya["default"]) || (ya["default"]=U={ap:0}));S && (la=U[S],la || (ma=S.split(" "),la={tlb:(1 - (va + (z(ma[0],da.x) || 0))) * P.Uja + P.NS,rlb:(1 - (ha + (z(ma[1],da.y) || 0))) * P.Isa + P.j8},30 > U.ap && (U.ap++,U[S]=la)),Q.marginRight=la.tlb,Q.marginBottom=la.rlb);}function w(Q,P,ha,va,la){var S,da,ya;S=Q.displayAlign;da=Q.textAlign;ya=Q.origin;Q=Q.extent;ha=g.aN(ha);u(ha,P,S,da,ya,Q,va,la);ha.id=F++;return ha;}function v(Q,P,ha,va){var la,S,da,ya,U,ma;la=n(ha.characterSize || P.characterSize,b.$Za,2) || 1;S=(S=Q.fontSize) && R.test(S)?g.no(g.ke(S),25,200):void 0;la*=S / 100 || 1;if((S=Q.textOutline) && "none" != S){da=S.split(" ");if(L.test(da))(ya=0,U=Q.color);else (ya=1,U=k(da[0]));ma=y(da[ya]);da=y(da[ya + 1]);}return {characterStyle:ha.characterStyle || b.a_a[Q.fontFamily] || P.characterStyle,characterSize:la * va,characterColor:k(ha.characterColor || Q.color || P.characterColor),characterOpacity:n(g.p0(ha.characterOpacity,Q.opacity,P.characterOpacity),b.w5,1),characterEdgeAttributes:ha.characterEdgeAttributes || S && ("none" === S?b.XZa:da?b.boa:b.YZa) || P.characterEdgeAttributes,characterEdgeColor:k(ha.characterEdgeColor || U || P.characterEdgeColor),characterEdgeWidth:ma,characterEdgeBlur:da,characterItalic:"italic" === Q.fontStyle,characterUnderline:"underline" === Q.textDecoration,backgroundColor:k(ha.backgroundColor || Q.backgroundColor || P.backgroundColor),backgroundOpacity:n(g.p0(ha.backgroundOpacity,Q.opacity,P.backgroundOpacity),b.w5,1)};}function x(Q,P,ha,va,la){var S;P=v(P,ha,va,la);h.Wd(P,function(da,ya){ya !== Q[da] && (S || (S=d.ZC(Q)),S[da]=ya);});return S || Q;}function y(Q){Q=g.ke(Q);return f.Rx(Q,0,100)?Q:0;}function z(Q,P){var ha;ha=Q[Q.length - 1];if("%" === ha)return g.no(.01 * parseFloat(Q),0,1);if("c" === ha)return g.no(g.ke(Q) / P,0,1);}function B(Q){for(var P=Q.length,ha=Q[--P].endTime;P--;){ha=d.mo(Q[P].endTime,ha);}return ha;}function A(Q){h.Wd(Q,function(P,ha){0 <= P.toLowerCase().indexOf("color") && (Q[P]=k(ha));});}function E(Q,P){var ha,va,la,S;ha=Q.pixelAspectRatio;va={NS:0,Uja:1,j8:0,Isa:1};Q=(Q.extent || "640px 480px").split(" ");if(2 <= Q.length){ha=(ha || "").split(" ");la=parseFloat(Q[0]) * (parseFloat(ha[0]) || 1);S=parseFloat(Q[1]) * (parseFloat(ha[1]) || 1);}la=0 < la && 0 < S?la / S:1280 / 720;P=P || 1280 / 720;ha=la / P;.01 < d.PC(P - la) && (P >= la?(va.NS=(1 - ha) / 2,va.Uja=ha):c.Za(!1,"not implemented"));return va;}function D(Q){var P,ha,va,la,S;if(P=Q.cellResolution)if((P=P.split(" "),2 <= P.length)){ha=g.ke(P[0]);P=g.ke(P[1]);if(0 < ha && 0 < P)return {x:ha,y:P};}if((P=Q.extent) && (P=P.split(" "),2 <= P.length)){ha=g.ke(P[0]);va=g.ke(P[1]);if(Q=Q.pixelAspectRatio){P=Q.split(" ");la=g.ke(P[0]);S=g.ke(P[1]);}if(ha && va && 1.5 < ha * (la || 1) / (va * (S || 1)))return b.WZa;}return b.VZa;}F=1;C={before:"top",center:"center",after:"bottom"};G={left:"left",start:"left",center:"center",right:"right",end:"right"};H={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};J={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};I=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");M=I.concat(["style","region"]);N=["region","textAlign","displayAlign","extent","origin"];K=/^([0-9]+):([0-9]+):([0-9.]+)$/;O=/^br$/i;R=/^[0-9]{1,3}%$/;L=/^[0-9]/;return function(Q,P,ha,va,la){var U,ma,ta,Ja,wa,ra,Qa,Pa,Sa,$a,kb,bb,Ra,Wa,gb,db,ob,Bb,Gb,ac,Vb,Cb,Pb,Tb,lc,Ac,Jd,oe,Kd,dd;function S(){var cc,tb,dc,rb,Ib,Sb,Bc,Ic,hc,ic,Cc,Jc,Kc,Wb,ed,pe,qe;try{for(var mc;Pb;){Bb=Pb[m.Hj];cc=Tb;tb=cc.push;dc=F++;rb=p(Bb.begin,ta);Ib=p(Bb.end,ta);Sb=void 0;Bc=Pa;Ic=Ja;hc=bb;ic=db;Cc=Pb[m.Hj];Jc=q(Pb[m.Hj],Ac,ra,Qa,N);Kc=Jc.region;Wb=Cc.displayAlign;ed=Jc.textAlign;pe=Cc.origin;qe=Cc.extent;Kc || Wb || ed || pe || qe?((Sb=Bc[Kc])?Sb=d.ZC(Sb):Wb || pe || qe?(Sb=d.ZC(J),Sb.id=F++):Sb=d.ZC(H),u(Sb,Ic,Wb,ed,pe,qe,hc,ic)):Sb=H;tb.call(cc,{id:dc,startTime:rb,endTime:Ib,region:Sb,textNodes:t(Pb,Jd,oe,lc,ra,Qa,Wa,gb,Ra)});Pb=Pb[m.rC];mc=d.mH();if(100 < mc - Kd){Kd=Date.now();dd=setTimeout(S,1);return;}}}catch(cg){ya({ka:g.K.nX,gb:g.md(cg)});return;}dd=setTimeout(da,1);}function da(){var cc,tb,dc,rb,Ib,Sb,Bc;function mc(Ic,hc){for(var ic,Cc=[],Jc={},Kc,Wb=tb.length;Wb--;){ic=tb[Wb];Kc=ic.region.id;Jc[Kc] || (Jc[Kc]=1,Cc.unshift(ic));}(ic=cc[cc.length - 1]) && ic.endTime == Ic && g.Ur(ic.blocks,Cc)?ic.endTime=hc:cc.push({id:F++,startTime:Ic,endTime:hc,blocks:Cc});}try{if(!Tb.length){ya({W:!0,entries:[]});return;}g.rLa(Tb,"startTime");cc=[];tb=[];dc=Tb[0];rb=Tb[0].startTime;for(Ib=1;tb.length || dc;){for(;!tb.length || dc && dc.startTime == rb;){tb.push(dc);rb=dc.startTime;dc=Tb[Ib++];}Bc=B(tb);if(!dc || Bc <= dc.startTime)for((mc(rb,Bc),rb=Bc,Sb=tb.length);Sb--;){tb[Sb].endTime <= rb && tb.splice(Sb,1);}else (mc(rb,dc.startTime),rb=dc.startTime,tb.push(dc),dc=Tb[Ib++]);}for(Ib=cc.length;Ib--;){cc[Ib].index=Ib;cc[Ib].previous=cc[Ib - 1];cc[Ib].next=cc[Ib + 1];}}catch(Ic){ya({ka:g.K.nX,gb:g.md(Ic)});return;}ya({W:!0,entries:cc});}function ya(mc){setTimeout(function(){U.abort=g.Ti;la(mc);},1);}U={abort:function(){dd && clearTimeout(dd);}};try{ma=Q[m.Hj];ta=l.sk / (g.ke(ma.tickRate) || 1);Ja=E(ma,P);wa=g.Jb(J,{marginLeft:Ja.NS,marginTop:Ja.j8,marginRight:Ja.NS,marginBottom:Ja.j8});ra={};Qa={};Pa={};$a=Q.head;kb=Q.body;bb=D(ma,P);Ra=1 / bb.y * Ja.Isa;Wa=g.Jb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.boa,characterEdgeColor:"#000000",characterSize:1},ha,{ly:!0});gb=va || ({});db={ap:0};if($a){ob=$a.styling;if(ob)for(Sa=ob.style;Sa;){Bb=Sa[m.Hj];A(Bb);ra[Bb.id]=Bb;Sa=Sa[m.rC];}Gb=$a.layout;if(Gb)for(var Lb=Gb.region;Lb;){Bb=Lb[m.Hj];ac=Bb.id;Vb=g.aN(ra[Bb.style]);Vb=g.Jb(Vb,Bb);for(Sa=Lb.style;Sa;){g.Jb(Vb,Sa[m.Hj]);Sa=Sa[m.rC];}A(Vb);Qa[ac]=Vb;Pa[ac]=w(Vb,Ja,wa,bb,db);Lb=Lb[m.rC];}}Cb=kb.div;Pb=Cb.p;Tb=[];lc={};lc=q(kb[m.Hj],lc,ra,Qa,M);lc=q(Cb[m.Hj],lc,ra,Qa,M);Ac={};Ac=q(kb[m.Hj],Ac,ra,Qa,N);Ac=q(Cb[m.Hj],Ac,ra,Qa,N);Jd=v(lc,Wa,gb,Ra);g.Jb(Jd,{windowColor:k(gb.windowColor || Wa.windowColor),windowOpacity:n(g.p0(gb.windowOpacity,Wa.windowOpacity),b.w5,1),cellResolution:bb},{ly:!0});oe={};Cb.p=void 0;Cb[m.LN]=[];}catch(mc){ya({ka:g.K.nX,gb:g.md(mc)});return;}Kd=d.mH();dd=setTimeout(S,1);return U;};})();b.a_a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.$Za={SMALL:.5,MEDIUM:1,LARGE:2};b.w5={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.ZZa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.XZa="NONE";b.AMb="RAISED";b.zMb="DEPRESED";b.YZa="UNIFORM";b.boa="DROP_SHADOW";b.VZa={x:40,y:19};b.WZa={x:52,y:19};},function(r,b,a){var h,k,n,p;function c(q){var t,u,v;t=0;this.Da.info("show subtitle called at " + this.tw() + " for displayTime " + q.displayTime);this.emit("showsubtitle",q);u=this.Lz[this.Lz.length - 1];u.bN || (u.bN={});if("dfxp-ls-sdh" === this.cQ)for(var w=0;w < q.blocks.length;w++){v=q.blocks[w];u.bN[v.id] || (t++,u.bN[v.id]=!0);}else u.bN[q.id] || (t++,u.bN[q.id]=!0);u.uV+=t;}function g(q){this.Da.info("remove subtitle called at " + this.tw() + " for remove time " + (q.displayTime + q.duration));this.emit("removesubtitle",q);}function l(q){this.Da.info("stage subtitle called at " + this.tw() + " for displayTime " + q.displayTime);this.emit("stagesubtitle",q);}function m(){this.Da.info("underflow fired by the subtitle timer");this.emit("underflow");}function d(){this.Da.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}function f(q){var t;this.Da.info("ending subtitle interval at " + q);t=this.Lz[this.Lz.length - 1];t.ta=q;t.ta < t.V && (this.Da.warn("correcting for interval where endPts is smaller than startPts"),t.V=0 < t.ta?t.ta - 1:0);t.D1=this.Kc.Fq(t.V,t.ta);delete t.bN;t.D1 > t.uV && t.Jla && 500 > t.ta - t.Jla && (t.D1=this.Kc.Fq(t.V,t.Jla));this.Da.info("showed " + t.uV + " during this interval");this.Da.info("expected " + t.D1 + " for this interval");}h=a(107).EventEmitter;k=a(1054);b=a(446)();n=a(1055);p=a(1062);a=function w(t,u){var v,x;v=this;x=t.Pe || !1;if(!(v instanceof w))return new w(t,u);h.call(v);v.Da=t.qa || console;v.LD=t.request;v.tw=t.oTa;v.jg=null;v.zk=!0;v.Lz=[];v.cQ=u.profile;v.Dk=u.url;v.JD=u.cd;v.RZ=u.preferences;v.kZ=u.Wj;v.ww=v.JD || 0;t={url:v.Dk,request:v.LD,cd:v.JD,xml:u.xml,preferences:v.RZ,Wj:v.kZ,qa:v.Da,Pe:x,bufferSize:u.bufferSize,Ks:u.Ks,Xoa:u.Xoa || 0,oMa:u.oMa};if("nflx-cmisc" === v.cQ)(t.offset=u.cna,t.size=u.$Xa,t.I6=u.I6,t.NPa=u.NPa,v.Kc=new n(t));else if(-1 < ["simplesdh","dfxp-ls-sdh"].indexOf(v.cQ) && "function" === typeof p)v.Kc=new p(t);else throw Error("SubtitleManager: " + v.cQ + " is an unsupported profile");v.Kc.on("ready",function(){var y,z;y=! !u.RLa;v.Da.info("ready event fired by subtitle stream");v.emit("ready");z=v.Kc.VE.bind(v.Kc);v.jg=new k(v.tw,z,v.Da,u);if("dfxp-ls-sdh" === v.cQ && "function" === typeof p)v.jg.on("stagesubtitle",l.bind(v));v.jg.on("showsubtitle",c.bind(v));v.jg.on("removesubtitle",g.bind(v));v.jg.on("underflow",m.bind(v));v.jg.on("bufferingComplete",d.bind(v));y && (v.Da.info("autostarting subtitles"),setTimeout(function(){v.mr(v.tw());},10));});v.Kc.on("error",v.emit.bind(v,"error"));};a.prototype=Object.create(h.prototype);a.prototype.start=function(){this.Kc.start();};a.prototype.Yoa=function(){this.zk || (this.zk=!0,f.call(this,this.ww));};a.prototype.mr=function(t){!this.zk && 1E4 < Math.abs(t - this.ww) && (this.Da.warn("Detected an unexpected pts jump larger than",1E4,"at",t,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Yoa());this.ww=t;this.zk && (this.zk=!1,this.Da.info("creating a new subtitle interval at " + t),this.Lz.push({V:t,uV:0}));null !== this.jg && (this.Lz[this.Lz.length - 1].Jla=t,this.jg.mr(t));};a.prototype.stop=function(){var t;this.Da.info("stop called");this.zk || this.pause();this.Kc.removeAllListeners(["ready"]);null !== this.jg && this.jg.stop();t=this.Lz.reduce(function(u,w){u.m3a+=w.uV;u.C1+=w.D1;u.HEb.push(w);return u;},{m3a:0,C1:0,HEb:[]});"object" === typeof this.Kc && this.Kc.close();this.Da.info("metrics: " + JSON.stringify(t));return t;};a.prototype.pause=function(){var t;t=this.tw();this.zk?this.Da.warn("pause called on subtitle manager, but it was already paused!"):(this.Da.info("pause called at " + t),this.zk=!0,f.call(this,t));null !== this.jg && this.jg.pause();};a.prototype.IS=function(t,u){return this.Kc.IS(t,u);};a.prototype.Fq=function(t,u){return this.Kc.Fq(t,u);};a.prototype.VE=function(t){return this.Kc.VE(t);};a.prototype.Jy=function(t){var w;function u(){w.Da.trace("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof w.Kc.Jy?w.Kc.Jy(t,u):u();};a.prototype.hk=function(t,u){this.Kc.hk && this.Kc.hk(t,u);};a.prototype.di=function(t,u){this.Kc.di && this.Kc.di(t,u);};a=b([{request:"function",oTa:"function",qa:"object"},"object"],a);r.exports.default=a;},function(r,b,a){var m;function c(d,f){return f.reduce(g.bind(this,d),[]);}function g(d,f,h){var k,n;k=h.displayTime - d;d=h.displayTime + h.duration - d;n=0 < f.length?f[0].timeout:Infinity;return 0 < k && k < n?[l("showsubtitle",h,k)]:k === n?f.concat([l("showsubtitle",h,k)]):0 < d && d < n?[l("removesubtitle",h,d)]:d === n?f.concat([l("removesubtitle",h,d)]):f;}function l(d,f,h){return {timeout:h,type:d,entry:f};}m=a(107).EventEmitter;b=a(446)({});a=function p(f,h,k,n){if(!(this instanceof p))return new p(f,h,k,n);m.call(this);this.tw=f;this.Kgb=h;this.Fw={};this.SD={};this.Da=k || console;this.WY=!1;this.Yib=n && n.Xoa || 0;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){clearTimeout(this.jg);this.sQb();};a.prototype.sQb=function(){var f;f=this;Object.keys(f.Fw).forEach(function(h){f.emit("removesubtitle",f.Fw[h]);});f.Fw={};f.SD={};};a.prototype.pause=function(){clearTimeout(this.jg);};a.prototype.mr=function(f,h){var k,n;k=this;n=k.tw();clearTimeout(this.jg);f=k.Kgb(n);null !== f && k.WY && (k.WY=!1,k.emit("bufferingComplete"));h="number" === typeof h?h:0;Object.keys(k.Fw).forEach(function(p){p=k.Fw[p];p.displayTime - k.Yib <= n && n < p.displayTime + p.duration || (delete k.Fw[p.id],k.emit("removesubtitle",p));});Object.keys(k.SD).forEach(function(p){p=k.SD[p];n >= p.displayTime + p.duration && delete k.SD[p.id];});null !== f && 0 < f.length?(h=f.length,k.Da.info("found " + h + " entries for pts " + n),f.forEach(function(p){p.displayTime - 0 <= n && n < p.displayTime + p.duration && !k.Fw[p.id] && (k.emit("showsubtitle",p),k.Fw[p.id]=p,delete k.SD[p.id]);}),h=f[f.length - 1],k.Fw[h.id] || k.SD[h.id] || (k.emit("stagesubtitle",h),k.SD[h.id]=h),h=c(n,f),0 < h.length?k.ZZ(h[0].timeout):k.ZZ(2E4)):null === f?(f=250 * Math.pow(2,h),2E3 < f && (f=2E3),k.Da.warn("checking buffer again in " + f + "ms"),k.WY || (k.WY=!0,k.emit("underflow")),k.ZZ(f,h + 1)):k.ZZ(2E4);};a.prototype.ZZ=function(f,h){var k;k=this;k.Da.info("Scheduling pts check.");k.jg=setTimeout(function(){k.mr(k.tw(),h);},f);};r.exports=b(["function","function","object","object"],a);},function(r,b,a){var g,l,m,d,f,h;function c(k){g.call(this);this.Dk=k.url;this.LD=k.request;this.JD=k.cd || 0;this.Da=k.qa;this.Qh=this.kq=null;k.Ks?this.kq=k.Ks:(this.se=k.offset,this.cJ=k.size);this.ml;this.Nca=k;}g=a(107).EventEmitter;l=a(1056);m=a(1057);d=a(1058);f=a(150);h=c.events={zbb:"midxready",Vdb:"sidxready",Gdb:"ready",jf:"error"};c.prototype=Object.create(g.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{xo:{get:function(){return this.ml && this.ml.qga;}}});c.prototype.start=function(){this.kq?(this.Da.warn("midx was prefectched and provided"),this.UHa(this.kq)):this.dgb(this.se,this.cJ,this.Tib.bind(this));};c.prototype.close=function(){};c.prototype.IS=function(k,n){return this.ml && this.ml.Fja(k,n);};c.prototype.Fq=function(k,n){return (k=this.IS(k,n))?k.length:k;};c.prototype.Jy=function(k,n){this.Da.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.JD=k;this.ml?this.ml.Jy(k,n):n && n();};c.prototype.VE=function(k){var n,p,q;if(!this.ml || k > f.$zb(this.kq))return [];this.ml && this.ml.cha(k);n=this.xo.XB;p=this.xo.index;q=[];p=f.vc(p) && this.Qh[p + 1];if(!(p && p.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (q=this.fIa(n,k,[]));2 > q.length && p && p.images.length && (n=this.fIa(p,k,q),q.push.apply(q,n));return this.ml.Uqa(k)?null:f.KNa(q);};c.prototype.di=function(k,n){this.ml && this.ml.di(k,n);};c.prototype.hk=function(k,n){this.ml && this.ml.hk(k,n);};c.prototype.dgb=function(k,n,p){this.Da.debug("downloading midx...");this.tIa(k,n,"binary",p);};c.prototype.egb=function(k,n,p){this.Da.debug("downloading sidx...");this.tIa(k,n,void 0,p);};c.prototype.tIa=function(k,n,p,q){this.LD({url:this.Dk,offset:k,size:n,responseType:p},q);};c.prototype.Tib=function(k,n){if(k)this.emit(h.jf,f.vS(k,"midxdownloaderror"));else try{this.kq=new l(n);this.UHa(this.kq);}catch(p){this.emit(h.jf,f.vS(p,"midxparseerror"));}};c.prototype.UHa=function(k){var n;n=k.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.zbb,k),this.egb(k.startOffset,n,this.Wib.bind(this,k))):this.emit(h.jf,f.vS({},"nosidxfoundinmidx"));};c.prototype.Wib=function(k,n,p){var q,t,u,w;q=this;if(n)q.emit(h.jf,f.vS(n,"sidxdownloaderror"));else {t=0;u=0;q.Qh=[];try{w=0;k.entries.forEach(function(v){var x;x=new m(p,t,k.Mka,q.Da,u,u + v.duration,w);q.Qh.push(x);v.XTb=x;u=x.zp;t+=v.size;w++;});}catch(v){q.emit(h.jf,f.vS(v,"sidxparseerror"));return;}q.emit(h.Vdb,q.Qh);this.ml=new d(q.Nca,k,q.Qh);n=q.JD;q.Nca && q.Nca.I6 || (n=Math.max(q.JD - 1E4,0));this.ml.cha(n,function(v){v && q.Da.error("initial sidx download failed");q.emit(h.Gdb);});}};c.prototype.fIa=function(k,n,p){var y;for(var q=k.entries,t=0,u=q.length,w=[],v,x=this.kq;t < u;){v=q[t];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(f.hga(v,k.images[t].data,x));else {y=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== v.displayTime)break;y.fF !== v.fF && w.push(f.hga(v,k.images[t].data,x));}t++;}return w;};r.exports=c;},function(r,b,a){var g,l;function c(m,d){this.duration=m;this.size=d;this.XTb=void 0;}g=a(264);l=a(150);r.exports=function(m){var k;m=new g(m);this.identifier=m.epa(4);l.assert("midx" === this.identifier);this.version=m.Ap(4);l.assert(0 === this.version);this.Mka=m.vj(36);this.creationTime=m.xM();this.up=m.xM();this.H=m.xM();this.CRb=m.Kg();this.DRb=m.Kg();this.language=m.vj(16);m.vj(16);this.startOffset=m.xM();this.ap=m.Kg();for(var d=[],f=0,h=0;h < this.ap;h++){k=new c(m.Ap(4),m.Kg());d.push(k);f+=k.duration;}this.entries=d;this.endTime=f;};},function(r,b,a){var l,m;function c(d,f,h,k,n,p,q,t){this.displayTime=d;this.duration=f;this.$Lb=h;this.aMb=k;this.dUb=n;this.eUb=p;this.fF=q;this.zka=t;}function g(d,f,h,k,n,p,q){var t;d=new l(d);t=0;d.position=f;this.Da=k;this.identifier=d.epa(4);m.assert("sidx" === this.identifier,k);this.Mka=d.vj(36);m.Cpb(this.Mka,h,k);this.duration=d.Ap(4);this.ap=d.Kg();this.mv=n;this.zp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.cda=0;t < this.ap;){f=new c(d.Ap(4),d.Ap(4),d.Kg(),d.Kg(),d.Kg(),d.Kg(),d.xM(),d.Ap(4));t++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}l=a(264);m=a(150);g.prototype.hEb=function(){this.cda++;};g.prototype.Dtb=function(){var d;d=0;this.cda--;1 > this.cda?this.images && 0 < this.images.length && (d+=m.Cja([this]),this.images=[]):this.Da.debug("Not cleaning up shared sidx with range",this.mv,"-",this.zp);return d;};r.exports=g;},function(r,b,a){var m,d;function c(f,h){var n;f=f || 0;if(h)for(var k in h.ya){n=h.ya[k];if(f >= (n.Zb || 0) && (!n.Mc || f < n.Mc))return k;}}function g(f,h){return f && h && h.ya[f];}function l(f,h,k){var n;this.Da=f.qa;this.Qh=k;this.Wz=this.Jfb(f.I6);this.Bg=[];n=k && k[k.length - 1];this.ww=n && (n.endTime || n.zp);this.dg=new m(f,h,k);f=c(f.cd || 0,this.Wz);this.Zm=this.pw(f);}m=a(1059);d=a(1061);Object.defineProperties(l.prototype,{qga:{get:function(){return this.dg.qga;}}});l.prototype.Fja=function(f,h){return this.dg && this.dg.Fja(f,h);};l.prototype.cha=function(f,h){this.dg.HSb(f);this.gKa(f);if(!this.Wz && this.ww && f > this.ww)h && h();else if((f=this.PHa(f,this.Zm,2,h),this.Wz && 0 < this.Zm.JYa.length))h && h();else if(this.Wz && this.Zm.dL && f){2 > this.Bg.length && this.Pfb(this.Zm);h=Math.ceil(2 / (this.Bg.length - 1));for(var k=0;k < this.Bg.length && f && 3 > k;k++){f=this.Bg[k];f=this.PHa(f.startTime,f,h);}}};l.prototype.Uqa=function(f){return this.dg.Uqa(f)?(this.dg.xlb(),this.cha(f),this.Zm.dL=!1,!0):!1;};l.prototype.Jy=function(f,h){var k;this.gKa(f);this.Bg.forEach(function(n){n.dL=!1;});k=this.Zm.Qm && this.Zm.Qm[0];this.dg.Jy(f,k && k.index);(f=this.dg.QBb(f)) && f.length?this.dg.sPa(f,h):h && h();};l.prototype.hk=function(f,h){var k;this.Da.debug("Set next segment to",h,"for segment",f);f=this.YHa(f) || this.pw(f);f.p2a=h;k=this;f.bU=f.bU.filter(function(n){if(n.id === h)return !0;k.Oba(n);return !1;});};l.prototype.di=function(f,h){var k;k=g(f,this.Wz);Object.keys(k.next).forEach(function(n){k.next[n].weight=h[n] || 0;});};l.prototype.Jfb=function(f){var h,n;h={};if(f=(f || ({})).ya){h.ya={};for(var k in f){n=f[k] || ({});h.ya[k]={Zb:n.Zb,Mc:n.Mc,Cg:n.Cg,next:this.Ifb(n.next)};}}return h;};l.prototype.Ifb=function(f){var h,k;h={};for(k in f){h[k]={weight:(f[k] || ({})).weight};}return h;};l.prototype.gKa=function(f){var h,k;if(this.Wz && this.Zm.startTime > f || this.Zm.endTime && this.Zm.endTime < f){h=this.Zm;k=c(f,this.Wz);k?(this.Da.debug("Switching segments from",this.Zm.id,"to",k,"at pts",f),this.Zm=this.YHa(k) || this.pw(k),this.Oba(h)):this.Da.debug("The pts is outside of the current segment but not in a new one yet");}};l.prototype.pw=function(f){this.Da.debug("SegmentManager: creating segment",f);f=new d(f,g(f,this.Wz),this.Qh,this.Da);this.Bg.push(f);this.Da.debug("SegmentManager: segment contains",f.Qm.length,"sidxes");return f;};l.prototype.Oba=function(f){var h;if(f && f !== this.Zm){this.Da.debug("SegmentManager: deleting segment",f.id);f.bU.forEach(this.Oba.bind(this));this.Bg=this.Bg.filter(function(k){return k !== f;});h=f.bNa();this.dg.oQb(h && h.size || 0,h && h.Qm);}};l.prototype.YHa=function(f){var k;for(var h=0;f && h < this.Bg.length;h++){k=this.Bg[h];if(f === k.id)return k;}};l.prototype.Pfb=function(f){var h,n;h=f.p2a;if(h && "" !== h)f.bU.push(this.pw(h));else {h=f.JYa;for(var k in h){n=h[k];if(!n || !n.weight)break;f.bU.push(this.pw(k));}}};l.prototype.PHa=function(f,h,k,n){if(!h || h.dL)return (this.Da.debug("Done driving segment",h && h.id),!0);if(!this.dg.job)return (this.Da.debug("Throttling buffering in quiet period"),!1);this.Da.debug("Drive streaming of segment",h.id,"from pts",f);k=(f=this.dg.RBb(f,h,k)) && f.length || 0;if(0 === k)return (this.Da.debug("Segment is fully downloaded",h && h.id),h.dL=!0,n && n(),!0);this.Da.debug("Downloading",k,"sidxes in segment",h.id);return this.dg.sPa(f,function(p,q){p && (h.dL=!1);n && n(p,q);});};r.exports=l;},function(r,b,a){var h,k;function c(n,p,q){var t;t=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || t;}function g(n,p,q){return p && (!p.entries.length && n > p.mv || n > p.endTime) && q.entries.length && n < q.endTime;}function l(n,p,q){this.OD=this.Vt=0;this.thb=n.bufferSize || 4194304;this.xo=new f();this.HD;this.vD=n.Pe;this.Da=n.qa;this.kq=p;this.Qh=q;this.hn=new h(n);this.YD=new d(this.Qh.length,n.NPa);this.eQ=new m(n.oMa);}function m(n){this.mgb=0 !== n;this.on=!1;this.Zi=n || 3E3;this.jg;}function d(n,p){if(this.enabled=p)this.Qm=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.XB=n;this.index=p;}h=a(1060);k=a(150);f.prototype.reset=function(){this.index=this.XB=void 0;};d.prototype.da=function(n){this.enabled && n < this.Qm.length && (this.Qm[n]="x");};d.prototype.FZa=function(n){this.enabled && n < this.Qm.length && (this.Qm[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Qm.join("") + "|";};m.prototype.start=function(){var n;if(this.mgb){n=this;this.on=!0;this.jg=setTimeout(function(){n.on=!1;n.jg=void 0;},this.Zi);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.jg);this.jg=void 0;};Object.defineProperties(l.prototype,{qga:{get:function(){return this.xo;}},job:{get:function(){return !this.eQ.on;}}});l.prototype.TP=function(){this.YD.enabled && this.Da.debug("Buffer: " + this.YD.toString());};l.prototype.pjb=function(n){this.OD+=n;this.Da.debug("Reserved buffer size is",this.Vt + this.OD,"after reserving",n);};l.prototype.akb=function(n){this.OD-=n;this.Da.debug("Reserved buffer size is",this.Vt + this.OD,"after unreserving",n);};l.prototype.Hfb=function(n){this.Vt+=n;this.Da.debug("Buffer size is",this.Vt,"after claiming",n);};l.prototype.EJa=function(n){this.Vt-=n;this.Da.debug("Buffer size is",this.Vt,"after clearing",n);};l.prototype.oQb=function(n,p){var q;this.EJa(n);q=this;p && this.YD.enabled && (p.forEach(function(t){q.YD.FZa(t.index);}),this.TP());};l.prototype.Uqa=function(n){var p;p=this.ygb(n);return k.OUa(p) && k.jVb(n,p);};l.prototype.HSb=function(n){var p;p=this.lIa(n);(!p || p.index) !== (!this.xo || this.xo.index) && (this.HD=this.xo.XB,p?(this.vD && this.Da.debug("Current sidx is index",p.index),this.xo=p):(this.vD && this.Da.debug("Current sidx is out of range"),this.xo.reset()));this.HD && "number" === typeof this.HD.index && (n < this.HD.mv - 35E3 || n > this.HD.zp + 35E3) && (this.Gba(this.HD.index),this.HD=void 0,this.TP());};l.prototype.Jy=function(n,p){var q,t;q=this.Qh && this.Qh.length;for(p;p < q;p++){(t=this.Qh[p]) && ((t.endTime || t.zp) >= n - 1E4 && (t.endTime || t.zp) < n + 3E5 || this.Gba(p));}this.eQ.stop();this.TP();};l.prototype.xlb=function(){var n,p;this.Da.debug("executing aggressive cleanup");n=this.Qh && this.Qh.length;for(p=0;p < n;p++){p === this.xo.index && (p+=2);this.Gba(p);}this.eQ.stop();this.TP();};l.prototype.QBb=function(n){var p,q,t,u;p=[];q=this.lIa(n);if(!q)return (this.xo.reset(),p);this.xo=q;t=n + 1E4;q=q.index;u=this.Qh[q];q;for(u;q < this.Qh.length && t > u.mv;(q++,u=this.Qh[q])){k.OUa(u) && k.kVb(n,t,u) && p.push(u);}return p;};l.prototype.sPa=function(n,p){var q,t,u,w,v,x;if(!n || !n.length)return (p && p(null),!0);this.hn.aQ && 2 <= Object.keys(this.hn.aQ).length && !this.eQ.on && (this.Da.debug("Enabling buffering quiet period"),this.eQ.start());q=this;t=n[0];u=n[n.length - 1];if(0 < t.entries.length)(w=t.entries[0].fF,v=t.entries[t.entries.length - 1]);0 < u.entries.length && (k.vc(w) || (w=u.entries[0].fF),v=u.entries[u.entries.length - 1]);if(w)x=v.fF + v.zka - w;else return (p && p(null),!0);t=k.Mia(w,x);if(this.hn.aQ[t])(this.Da.debug("The request for",t,"is already pending. Not requesting again"),p && p());else if(this.Ugb(k.Cja(n)))(this.Da.debug("Reserving",x,"bytes for subtitle request",n[0].mv,n[n.length - 1].zp),this.pjb(x),this.hn.Rub(n,w,x,function(y,z){q.Da.debug("Claiming reserved space.  Expected",x,"received",z);q.YD.enabled && (n.forEach(function(B){q.YD.da(B.index);}),q.TP());q.akb(x);q.Hfb(z);p && p(y);}));else return (this.Da.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};l.prototype.Fja=function(n,p){var q,t,u;q=this.kq;t=this.kIa(n,p,this.Qh);if(!t || 0 === t.length)return [];u=[];p=c.bind(null,n,p);for(var w=0;w < t.length;w++){n=t[w];u=u.concat(n.entries.filter(p));}u=u.map(function(v){return k.hga(v,null,q);});return k.KNa(u);};l.prototype.RBb=function(n,p,q){return this.kIa(n,p.endTime,p.Qm,q,!0);};l.prototype.kIa=function(n,p,q,t,u){var w,v,x,y;if(p && n > p || 0 > n)this.Da.error("invalid range startPts: " + n + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){x=q[0].duration;y=q[0].mv;if(k.vc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.vD && this.Da.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=q[x],!k.Mub(y,n));x++){;}for(;x < w && (!t || v.length < t);){y=q[x];if(!u || !y.images.length && y.endTime > n)v.push(y);else if(v.length)break;if(p && p <= y.zp)break;x++;}return v;}}};l.prototype.ygb=function(n){var p,q,u;p=this.Qh;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.mv > n || n > q.zp))a:{this.ngb || (this.ngb=!0,q=k.xAb(this.kq.language),this.Da.error("bruteforce search for ",{movieId:this.kq.H,packageId:this.kq.up,lang:q}));q=p.length;for(var t=0;t < q;t++){u=p[t];if(u.mv <= n && n <= u.zp){q=u;break a;}}q=void 0;}return q;}};l.prototype.lIa=function(n){var p,q,t,u,w,v,x,y;p=this.xo;q=p.XB;t=p.index;u=this.Qh;this.Mba(k.vc(n));if(q)if(q.entries.length){if(0 === t && n <= q.startTime || n >= q.startTime && n <= q.endTime)(w=!0,v=p);else {if(0 < t){x=u[t - 1];g(n,x,q) && (w=!0,v=p);}}}else {x=u[t - 1];y=u[t + 1];g(n,x,q)?(w=!0,v=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.zp) && (w=!0,v=new f(y,t + 1));}if(!w)for((p=u.length,q=0);q < p;q++){if((t=u[q],t.entries.length && n <= t.endTime)){v=new f(t,q);break;}}return v;};l.prototype.Ugb=function(n){return this.Vt + this.OD + n <= this.thb;};l.prototype.Gba=function(n){var p,q,t;p=this.Qh[n];q=p && p.images && p.images.length || 0;if(0 < q){t=k.Cja([p]);p.images=[];this.YD.FZa(n);this.EJa(t);this.vD && this.Da.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:t,images:q,d8b:this.Vt});}};l.prototype.Mba=function(n){this.vD && k.assert(n,this.Da);};r.exports=l;},function(r,b,a){var g,l;function c(m){this.Dk=m.url;this.LD=m.request;this.JD=m.cd || 0;this.vD=m.Pe;this.Da=m.qa;this.aQ={};}g=a(264);l=a(150);c.prototype.Rub=function(m,d,f,h){this.aQ[l.Mia(d,f)]=!0;m && m.forEach(function(k){k.x1a=!0;});this.LD({url:this.Dk,offset:d,size:f},this.tib.bind(this,m,d,f,h));};c.prototype.tib=function(m,d,f,h,k,n){var p,q,t,u;p=this;q=l.Mia(d,f);setTimeout(function(){delete p.aQ[q];},1E3);if(k)(h && h(k,0),m && m.forEach(function(w){delete w.x1a;}));else {t=new g(n);u=0;m && m.forEach(function(w){delete w.x1a;w.entries.forEach(function(v,x){t.position=v.fF - d;v={data:t.vj(v.zka)};w.images[x]=v;l.xYb(w.images[x].data,p.Mba.bind(p));u+=w.images[x].data.length;});});h && h(null,u);}};c.prototype.Mba=function(m){this.vD && l.assert(m,this.Da);};r.exports=c;},function(r){function b(a,c,g,l){this.Da=l;this.id=a;this.startTime=c && c.Zb || 0;this.endTime=c && c.Mc;this.JYa=c && c.next || [];this.p2a;this.bU=[];this.dL=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < g.length;d++){(l=g[d]) && (!c || c > l.mv) && a < l.zp && (l.hEb(),m.push(l));}this.Qm=m;}b.prototype.bNa=function(){this.Da.debug("Cleaning up segment",this.id);for(var a,c=0,g,l=[],m=0;m < this.Qm.length;m++){a=this.Qm[m];(g=a.Dtb()) && l.push(a);a && (c+=g);}this.Qm=[];return {size:c,Qm:l};};r.exports=b;},function(r,b,a){var t,u,w,v,x,y,z,B,A;function c(E){var D,F,C,G,H;D=E.preferences;F=E.Wj;C=E.cd;G=E.xml;H=E.qa;if(!E.xml && !E.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");t.call(this);this.Ag=this.hca=null;this.RZ="object" === typeof D?E.preferences:{};this.kZ="object" === typeof F?E.Wj:{};this.Zz="number" === typeof C?E.cd:0;this.XD="string" === typeof G?E.xml:"";this.Da="object" === typeof H?E.qa:A;this.LD=E.request;this.Dk=E.url;this.Fz=[];this.ww=this.Zz;this.jg=null;this.Pca=this.AJa=!1;this.qfb=E.Xoa || 0;}function g(){var E,D,F;E=this;D=E.XD.indexOf("<p");if(-1 < D){F=E.XD.slice(0,D);d(F,function(C,G){null !== C?(C.G6b=F,E.emit("error",C)):(E.hca=G,E.Ag=new w(E.XD,G.tickRate),m.call(E,E.Zz));});}else E.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function l(E,D){var F;F=E.filter(function(C){return C.startTime <= D && D <= C.endTime;});E=E.filter(function(C){return C.startTime > D;});return 0 < E.length?F.concat([E[0]]):F;}function m(E){var D,F,C,G,H,J,I;D=this;F=D.hca;C=0;G=[];H=F.defaultStyle?[F.defaultStyle]:[];D.Da.info("parsing the next 5 entries...");J=D.Ag.VAb(E);D.Da.info(J);I=u.rf(!0);I.onerror=function(M){M.xml=J;D.emit("error",M);};I.onend=function(){var M;M=D.Fz.reduce(function(N,K){K=K.blocks.reduce(function(O,R){return O.concat([R.id]);},[]);return N.concat(K);},[]);G.forEach(function(N){-1 === M.indexOf(N.id) && D.Fz.push(N);});D.Pca=!1;D.AJa || (D.AJa=!0,D.emit("ready"));};I.ontext=function(M){("" !== M.trim() || M.match(/ +/)) && n(n(G).blocks).textNodes.push({text:M.match(/ +/)?M:M.trim(),style:n(H),lineBreaks:C});C=0;};I.onclosetag=function(){"undefined" !== typeof I.tag.attributes.style && H.pop();};I.onopentag=function(M){var N,K,O,R,L;N=M.attributes;K=M.name;M=F.tickRate;if("p" === K){C=0;K=N["xml:id"];N.style && H.push(N.style);O=Math.floor(parseInt(N.begin) / M * 1E3);if(0 === G.length || n(G).displayTime !== O){O=G.push;R={};L=parseInt(N.begin) / M;M=parseInt(N.end) / M;R.id=K;R.startTime=Math.floor(1E3 * L);R.endTime=Math.floor(1E3 * M);R.style=N.style;R.region=N.region;R.displayTime=R.startTime;R.duration=R.endTime - R.startTime;R.extent=N["tts:extent"] || null;R.origin=N["tts:origin"] || null;R.latestEndSoFar=0 > R.endTime?0:R.endTime;R.blocks=[{textNodes:[],region:R.region,id:K,extent:R.extent,origin:R.origin}];O.call(G,R);}else n(G).blocks.push({textNodes:[],region:N.region,id:K,extent:N["tts:extent"] || null,origin:N["tts:origin"] || null});}else "span" === K?H.push(N.style):"br" === K && C++;};I.write("<entries>").write(J).write("</entries>").close();}function d(E,D){var F,C,G,H,J;F=u.rf(!0);C={};G=[];H=null;J=[];F.onerror=function(I){D(I,null);};F.onend=function(){D(null,C);};F.onclosetag=function(){G.pop();};F.onopentag=function(I){var M,N,K,O;M=I.attributes;N=I.name;K=C.regions;O=C.styles;G.push(I);"tt" === N?C=f(M):"body" === N?"undefined" !== typeof M.style && (C.defaultStyle=M.style,J.push(M.style)):"style" === N && k(G,"styling")?O[M["xml:id"]]=h(M,y):"style" === N && k(G,"region")?(I=Object.keys(M)[0],"string" === typeof I && (K[H][I.slice(4)]=M[I])):"region" === N && k(G,"layout") && (H=M["xml:id"],K[H]=h(M,B));};setTimeout(function(){var I;for(F.write(E);0 < G.length && !F.error;){I=n(G).name;F.write("</" + I + ">");}F.close();},10);}function f(E){var D;E=h(E,z);if("string" === typeof E.extent){D=E.extent.split(" ").map(function(F){return parseInt(F,10);});E.width=D[0];E.height=D[1];}else (E.width=1280,E.height=720);E.aspectRatio=E.width / E.height;"string" === typeof E.cellResolution?(D=E.cellResolution.split(" ").map(function(F){return parseInt(F,10);}),E.cellResolution={},E.cellResolution.x=D[0],E.cellResolution.y=D[1]):E.cellResolution={x:52,y:19};return E;}function h(E,D){var F;F={};D.forEach(function(C){"undefined" !== typeof E["tts:" + C]?F[C]=E["tts:" + C]:"undefined" !== typeof E["ttp:" + C] && (F[C]=E["ttp:" + C]);});F.styles={};F.regions={};return F;}function k(E,D){var F;for(F=E.length - 1;0 <= F;F--){if(E[F].name === D)return !0;}return !1;}function n(E){if(!Array.isArray(E))throw Error("last called on non-array: " + E);return E[E.length - 1];}function p(E,D){return {lineBreaks:D.lineBreaks,text:D.text,style:x.Msb(E[D.style] || ({}),this.kZ,this.RZ),id:D.id};}function q(E,D){var F,C;F=this;C=E.styles || ({});return {startTime:D.startTime,id:D.id,endTime:D.endTime,displayTime:D.displayTime,duration:D.duration,blocks:D.blocks.map(function(G){var H;H=v.Jsb(E,G);return {textNodes:G.textNodes.map(p.bind(F,C)),region:H,id:G.id};})};}t=a(107).EventEmitter;u=a(1063);w=a(1064);v=a(1065);x=a(1066);y=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline").split(" ");z=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"];B=["backgroundColor","displayAlign","extent","origin"];A={info:function(){}};b=Object.create(t.prototype);c.prototype=b;b.start=function(){var E;E=this;E.Da.info("incremental text stream created, starting at pts " + E.Zz);E.XD?g.call(E):E.LD({url:E.Dk},function(D,F){E.XD=F;g.call(E);});};b.VE=function(E){var D,F,C;D=this;E < D.ww - D.qfb && (D.Fz=[]);F=D.Fz;C=0 < F.length?F[F.length - 1].startTime:E;D.ww=E;for(!D.jg && 5 > D.Fz.length && !D.Pca && (D.Da.info("buffer size: " + D.Fz.length + "; minimum: 5"),D.Pca=!0,D.jg=setTimeout(function(){D.jg=null;m.call(D,C + 1);},10));0 < F.length && F[0].endTime < E;){F.shift();}F=l(F,E).map(q.bind(D,D.hca));E < D.Ag.ixb() && 0 === F.length && (F=null);return F;};b.Fq=function(E,D){return this.Ag?this.Ag.Fq(E,D):0;};b.close=function(){};b.O9b=function(E){this.RZ=E && "object" === typeof E.preferences?E.preferences:{};this.kZ=E && "object" === typeof E.Wj?E.Wj:{};};r.exports=c;},function(r,b){(function(a){var x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K;function c(){}function g(O,R){if(!(this instanceof g))return new g(O,R);for(var L=0,Q=x.length;L < Q;L++){this[x[L]]="";}this.q=this.c=this.pm=this.textNode="";this.kMa=a.t$;this.Hm=R || ({});this.Hm.VWa=this.Hm.VWa || this.Hm.i7b;this.lma=this.Hm.VWa?"toLowerCase":"toUpperCase";this.Jp=[];this.closed=this.jR=this.MM=!1;this.tag=this.error=null;this.dC=! !O;this.UYa=!(!O && !this.Hm.UYa);this.state=K.T8;this.Pv=(this.b4a=this.Hm.b4a)?Object.create(a.Teb):Object.create(a.Pv);this.hA=[];this.Hm.wW && (this.qj=Object.create(I));if(this.O7=!1 !== this.Hm.position)this.position=this.line=this.kR=0;this.onready && this.onready(void 0);}function l(O,R){var L;if(!(this instanceof l))return new l(O,R);c.apply(this);this.Aw=new g(O,R);this.readable=this.writable=!0;L=this;this.Aw.onend=function(){L.emit("end");};this.Aw.onerror=function(Q){L.emit("error",Q);L.Aw.error=null;};y.forEach(function(Q){Object.defineProperty(L,"on" + Q,{get:function(){return L.Aw["on" + Q];},set:function(P){if(!P)return (L.removeAllListeners(Q),L.Aw["on" + Q]=P);L.on(Q,P);},enumerable:!0,configurable:!1});});}function m(O){return O.split("").reduce(function(R,L){R[L]=!0;return R;},{});}function d(O,R){return "[object RegExp]" === Object.prototype.toString.call(O)?! !R.match(O):O[R];}function f(O,R,L){O.textNode && h(O);O[R] && O[R](L);}function h(O){O.textNode=k(O.Hm,O.textNode);O.textNode && O.ontext && O.ontext(O.textNode);O.textNode="";}function k(O,R){O.trim && (R=R.trim());O.normalize && (R=R.replace(/\s+/g," "));return R;}function n(O,R){h(O);O.O7 && (R+="\nLine: " + O.line + "\nColumn: " + O.kR + "\nChar: " + O.c);R=Error(R);O.error=R;O.onerror && O.onerror(R);return O;}function p(O){O.MM && !O.jR && q(O,"Unclosed root tag");O.state !== K.T8 && O.state !== K.U8 && O.state !== K.fl && n(O,"Unexpected end");h(O);O.c="";O.closed=!0;O.onend && O.onend(void 0);g.call(O,O.dC,O.Hm);return O;}function q(O,R){if("object" !== typeof O || !(O instanceof g))throw Error("bad call to strictFail");O.dC && n(O,R);}function t(O,R){var L,Q;L=0 > O.indexOf(":")?["",O]:O.split(":");Q=L[0];L=L[1];R && "xmlns" === O && (Q="xmlns",L="");return {prefix:Q,local:L};}function u(O){var R,L,Q;O.dC || (O.oi=O.oi[O.lma]());if(-1 !== O.hA.indexOf(O.oi) || O.tag.attributes.hasOwnProperty(O.oi))return O.oi=O.ri="";if(O.Hm.wW){R=t(O.oi,!0);L=R.local;if("xmlns" === R.prefix)if("xml" === L && O.ri !== H)q(O,"xml: prefix must be bound to " + H + "\nActual: " + O.ri);else if("xmlns" === L && O.ri !== J)q(O,"xmlns: prefix must be bound to " + J + "\nActual: " + O.ri);else {R=O.tag;Q=O.Jp[O.Jp.length - 1] || O;R.qj === Q.qj && (R.qj=Object.create(Q.qj));R.qj[L]=O.ri;}O.hA.push([O.oi,O.ri]);}else (O.tag.attributes[O.oi]=O.ri,f(O,"onattribute",{name:O.oi,value:O.ri}));O.oi=O.ri="";}function w(O,R){var L,Q,ha,va,la,S,da;if(O.Hm.wW){L=O.tag;Q=t(O.tagName);L.prefix=Q.prefix;L.local=Q.local;L.uri=L.qj[Q.prefix] || "";L.prefix && !L.uri && (q(O,"Unbound namespace prefix: " + JSON.stringify(O.tagName)),L.uri=Q.prefix);Q=O.Jp[O.Jp.length - 1] || O;L.qj && Q.qj !== L.qj && Object.keys(L.qj).forEach(function(ya){f(O,"onopennamespace",{prefix:ya,uri:L.qj[ya]});});Q=0;for(var P=O.hA.length;Q < P;Q++){ha=O.hA[Q];va=ha[0];la=ha[1];S=t(va,!0);ha=S.prefix;da="" == ha?"":L.qj[ha] || "";la={name:va,value:la,prefix:ha,local:S.local,uri:da};ha && "xmlns" != ha && !da && (q(O,"Unbound namespace prefix: " + JSON.stringify(ha)),la.uri=ha);O.tag.attributes[va]=la;f(O,"onattribute",la);}O.hA.length=0;}O.tag.X6b=! !R;O.MM=!0;O.Jp.push(O.tag);f(O,"onopentag",O.tag);R || (O.state=O.UYa || "script" !== O.tagName.toLowerCase()?K.fl:K.VH,O.tag=null,O.tagName="");O.oi=O.ri="";O.hA.length=0;}function v(O){var R,L,P;if(O.tagName){if(O.zj){if("script" !== O.tagName){O.zj+="</" + O.tagName + ">";O.tagName="";O.state=K.VH;return;}f(O,"onscript",O.zj);O.zj="";}R=O.Jp.length;L=O.tagName;O.dC || (L=L[O.lma]());for(var Q=L;R--;){if(O.Jp[R].name !== Q)q(O,"Unexpected close tag");else break;}if(0 > R)(q(O,"Unmatched closing tag: " + O.tagName),O.textNode+="</" + O.tagName + ">");else {O.tagName=L;for(L=O.Jp.length;L-- > R;){P=O.tag=O.Jp.pop();O.tagName=O.tag.name;f(O,"onclosetag",O.tagName);for(var ha in P.qj){;}Q=O.Jp[O.Jp.length - 1] || O;O.Hm.wW && P.qj !== Q.qj && Object.keys(P.qj).forEach(function(va){f(O,"onclosenamespace",{prefix:va,uri:P.qj[va]});});}0 === R && (O.jR=!0);O.tagName=O.ri=O.oi="";O.hA.length=0;}}else (q(O,"Weird empty close tag."),O.textNode+="</>");O.state=K.fl;}a.rf=function(O,R){return new g(O,R);};a.b3b=g;a.c3b=l;a.kOa=function(O){return new l(O,void 0);};a.t$=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Rd=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(O){function R(){this.__proto__=O;}R.prototype=O;return new R();});Object.getPrototypeOf || (Object.getPrototypeOf=function(O){return O.__proto__;});Object.keys || (Object.keys=function(O){var R,L;R=[];for(L in O){O.hasOwnProperty(L) && R.push(L);}return R;});g.prototype={end:function(){p(this);},write:function(O){var P,ha,va,la,S,da;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === O)return p(this);if(this.error)throw this.error;for(var R=0,L;this.c=L=O.charAt(R++);){switch((this.O7 && (this.position++,"\n" === L?(this.line++,this.kR=0):this.kR++),this.state)){case K.T8:if((this.state=K.U8,"\ufeff" === L))continue;case K.U8:"<" === L?(this.state=K.O$,this.mra=this.position):d(z,L) || (q(this,"Non-whitespace before first tag."),this.textNode=L,this.state=K.fl);continue;case K.fl:if(this.MM && !this.jR){for(var Q=R - 1;L && "<" !== L && "&" !== L;){(L=O.charAt(R++)) && this.O7 && (this.position++,"\n" === L?(this.line++,this.kR=0):this.kR++);}this.textNode+=O.substring(Q,R - 1);}"<" !== L || this.MM && this.jR && !this.dC?(d(z,L) || this.MM && !this.jR || q(this,"Text data outside of root node."),"&" === L?this.state=K.Uaa:this.textNode+=L):(this.state=K.O$,this.mra=this.position);continue;case K.VH:"<" === L?this.state=K.IEa:this.zj+=L;continue;case K.IEa:"/" === L?this.state=K.e9:(this.zj+="<" + L,this.state=K.VH);continue;case K.O$:"!" === L?(this.state=K.Jaa,this.gr=""):d(z,L) || (d(M,L)?(this.state=K.ABa,this.tagName=L):"/" === L?(this.state=K.e9,this.tagName=""):"?" === L?(this.state=K.aCa,this.Y5=this.ZF=""):(q(this,"Unencoded <"),this.mra + 1 < this.position && (L=Array(this.position - this.mra).join(" ") + L),this.textNode+="<" + L,this.state=K.fl));continue;case K.Jaa:(this.gr + L).toUpperCase() === C?(f(this,"onopencdata"),this.state=K.JW,this.sl=this.gr=""):"--" === this.gr + L?(this.state=K.LW,this.gr=this.Tr=""):(this.gr + L).toUpperCase() === G?(this.state=K.QW,(this.doctype || this.MM) && q(this,"Inappropriately located doctype declaration"),this.gr=this.doctype=""):">" === L?(f(this,"onsgmldeclaration",this.gr),this.gr="",this.state=K.fl):(d(E,L) && (this.state=K.LEa),this.gr+=L);continue;case K.LEa:L === this.q && (this.state=K.Jaa,this.q="");this.gr+=L;continue;case K.QW:">" === L?(this.state=K.fl,f(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=L,"[" === L?this.state=K.p9:d(E,L) && (this.state=K.Jva,this.q=L));continue;case K.Jva:this.doctype+=L;L === this.q && (this.q="",this.state=K.QW);continue;case K.p9:this.doctype+=L;"]" === L?this.state=K.QW:d(E,L) && (this.state=K.Iva,this.q=L);continue;case K.Iva:this.doctype+=L;L === this.q && (this.state=K.p9,this.q="");continue;case K.LW:"-" === L?this.state=K.Hua:this.Tr+=L;continue;case K.Hua:"-" === L?(this.state=K.Gua,(this.Tr=k(this.Hm,this.Tr)) && f(this,"oncomment",this.Tr),this.Tr=""):(this.Tr+="-" + L,this.state=K.LW);continue;case K.Gua:">" !== L?(q(this,"Malformed comment"),this.Tr+="--" + L,this.state=K.LW):this.state=K.fl;continue;case K.JW:"]" === L?this.state=K.Aua:this.sl+=L;continue;case K.Aua:"]" === L?this.state=K.Bua:(this.sl+="]" + L,this.state=K.JW);continue;case K.Bua:">" === L?(this.sl && f(this,"oncdata",this.sl),f(this,"onclosecdata"),this.sl="",this.state=K.fl):"]" === L?this.sl+="]":(this.sl+="]]" + L,this.state=K.JW);continue;case K.aCa:"?" === L?this.state=K.$$:d(z,L)?this.state=K.Z$:this.Y5+=L;continue;case K.Z$:if(!this.ZF && d(z,L))continue;else "?" === L?this.state=K.$$:this.ZF+=L;continue;case K.$$:">" === L?(f(this,"onprocessinginstruction",{name:this.Y5,body:this.ZF}),this.Y5=this.ZF="",this.state=K.fl):(this.ZF+="?" + L,this.state=K.Z$);continue;case K.ABa:if(d(N,L))this.tagName+=L;else {this.dC || (this.tagName=this.tagName[this.lma]());Q=this.Jp[this.Jp.length - 1] || this;P=this.tag={name:this.tagName,attributes:{}};this.Hm.wW && (P.qj=Q.qj);this.hA.length=0;">" === L?w(this):"/" === L?this.state=K.eY:(!d(z,L) && q(this,"Invalid character in tag name"),this.state=K.dH);}continue;case K.eY:">" === L?(w(this,!0),v(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=K.dH);continue;case K.dH:if(d(z,L))continue;else ">" === L?w(this):"/" === L?this.state=K.eY:d(M,L)?(this.oi=L,this.ri="",this.state=K.BW):q(this,"Invalid attribute name");continue;case K.BW:"=" === L?this.state=K.B8:">" === L?(q(this,"Attribute without value"),this.ri=this.oi,u(this),w(this)):d(z,L)?this.state=K.Zsa:d(N,L)?this.oi+=L:q(this,"Invalid attribute name");continue;case K.Zsa:if("=" === L)this.state=K.B8;else if(d(z,L))continue;else (q(this,"Attribute without value"),this.ri=this.tag.attributes[this.oi]="",f(this,"onattribute",{name:this.oi,value:""}),this.oi="",">" === L?w(this):d(M,L)?(this.oi=L,this.state=K.BW):(q(this,"Invalid attribute name"),this.state=K.dH));continue;case K.B8:if(d(z,L))continue;else d(E,L)?(this.q=L,this.state=K.E8):(q(this,"Unquoted attribute value"),this.state=K.F8,this.ri=L);continue;case K.E8:if(L !== this.q){"&" === L?this.state=K.C8:this.ri+=L;continue;}u(this);this.q="";this.state=K.$sa;continue;case K.$sa:d(z,L)?this.state=K.dH:">" === L?w(this):"/" === L?this.state=K.eY:d(M,L)?(q(this,"No whitespace between attributes"),this.oi=L,this.ri="",this.state=K.BW):q(this,"Invalid attribute name");continue;case K.F8:if(!d(F,L)){"&" === L?this.state=K.D8:this.ri+=L;continue;}u(this);">" === L?w(this):this.state=K.dH;continue;case K.e9:if(this.tagName)">" === L?v(this):d(N,L)?this.tagName+=L:this.zj?(this.zj+="</" + this.tagName,this.tagName="",this.state=K.VH):(!d(z,L) && q(this,"Invalid tagname in closing tag"),this.state=K.Eua);else if(d(z,L))continue;else d(M,L)?this.tagName=L:this.zj?(this.zj+="</" + L,this.state=K.VH):q(this,"Invalid tagname in closing tag.");continue;case K.Eua:if(d(z,L))continue;">" === L?v(this):q(this,"Invalid characters in closing tag");continue;case K.Uaa:case K.C8:case K.D8:switch(this.state){case K.Uaa:(ha=K.fl,va="textNode");break;case K.C8:ha=K.E8;va="attribValue";break;case K.D8:(ha=K.F8,va="attribValue");}if(";" === L){L=va;Q=this[L];P=this.pm;la=P.toLowerCase();S="";if(this.Pv[P])P=this.Pv[P];else if(this.Pv[la])P=this.Pv[la];else {P=la;if("#" === P.charAt(0))if("x" === P.charAt(1)){P=P.slice(2);da=parseInt(P,16);S=da.toString(16);}else (P=P.slice(1),da=parseInt(P,10),S=da.toString(10));P=P.replace(/^0+/,"");P=S.toLowerCase() !== P?(q(this,"Invalid character entity"),"&" + this.pm + ";"):String.fromCodePoint(da);}this[L]=Q + P;this.pm="";this.state=ha;}else d(D,L)?this.pm+=L:(q(this,"Invalid character entity"),this[va]+="&" + this.pm + L,this.pm="",this.state=ha);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.kMa){O=Math.max(a.t$,10);L=R=0;for(ha=x.length;L < ha;L++){va=this[x[L]].length;if(va > O)switch(x[L]){case "textNode":h(this);break;case "cdata":f(this,"oncdata",this.sl);this.sl="";break;case "script":f(this,"onscript",this.zj);this.zj="";break;default:n(this,"Max buffer length exceeded: " + x[L]);}R=Math.max(R,va);}this.kMa=a.t$ - R + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.sl && (f(this,"oncdata",this.sl),this.sl="");"" !== this.zj && (f(this,"onscript",this.zj),this.zj="");}};y=a.Rd.filter(function(O){return "error" !== O && "end" !== O;});l.prototype=Object.create(c.prototype,{constructor:{value:l}});l.prototype.write=function(O){this.Aw.write(O.toString());this.emit("data",O);return !0;};l.prototype.end=function(O){O && O.length && this.write(O);this.Aw.end();return !0;};l.prototype.on=function(O,R){var L;L=this;L.Aw["on" + O] || -1 === y.indexOf(O) || (L.Aw["on" + O]=function(){var Q;Q=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,O);L.emit.apply(L,Q);});return c.prototype.on.call(L,O,R);};z="\r\n\t ";B="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";E="'\"";D=B + A + "#";F=z + ">";C="[CDATA[";G="DOCTYPE";H="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";I={xml:H,wW:J};z=m(z);B=m(B);A=m(A);M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;E=m(E);D=m(D);F=m(F);K=0;a.zz={T8:K++,U8:K++,fl:K++,Uaa:K++,O$:K++,Jaa:K++,LEa:K++,QW:K++,Jva:K++,p9:K++,Iva:K++,o_b:K++,LW:K++,Hua:K++,Gua:K++,JW:K++,Aua:K++,Bua:K++,aCa:K++,Z$:K++,$$:K++,ABa:K++,eY:K++,dH:K++,BW:K++,Zsa:K++,B8:K++,E8:K++,$sa:K++,F8:K++,C8:K++,D8:K++,e9:K++,Eua:K++,VH:K++,IEa:K++};a.Teb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.Pv={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.Pv).forEach(function(O){var R;R=a.Pv[O];R="number" === typeof R?String.fromCharCode(R):R;a.Pv[O]=R;});for(K in a.zz){a.zz[a.zz[K]]=K;}K=a.zz;String.fromCodePoint || (function(){var R,L;function O(){var Q,P,ha,la,S;Q=[];P=-1;ha=arguments.length;if(!ha)return "";for(var va="";++P < ha;){la=Number(arguments[P]);if(!isFinite(la) || 0 > la || 1114111 < la || L(la) != la)throw RangeError("Invalid code point: " + la);if(65535 >= la)Q.push(la);else {la-=65536;S=(la >> 10) + 55296;la=la % 1024 + 56320;Q.push(S,la);}if(P + 1 == ha || 16384 < Q.length)(va+=R.apply(null,Q),Q.length=0);}return va;}R=String.fromCharCode;L=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:O,configurable:!0,writable:!0}):String.fromCodePoint=O;})();})(b);},function(r){function b(a,c){var g,l,m,d,f,h;g=[];l=a.indexOf("<p");m=-1;do {d={};d.jUb=l;f=a.indexOf("begin=",l) + 7;h=a.indexOf("end=",l) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=f;d.endTime=h;d.latestEndSoFar=m;d.mQa=a.indexOf("/p>",l) + 3;l=d.mQa;g.push(d);l=a.indexOf("<p",l);}while(-1 !== l);this.qZ=g;this.XD=a;}b.prototype.ixb=function(){return this.qZ[this.qZ.length - 1].endTime;};b.prototype.Fq=function(a,c){return this.qZ.filter(function(g){return g.startTime <= c && g.endTime >= a;}).length;};b.prototype.VAb=function(a){for(var c="",g=this.qZ.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),l=4;l + 1 < g.length && g[l + 1].startTime === g[4].startTime;){l++;}g=g.slice(0,l + 1);0 < g.length && (c=this.XD.slice(g[0].jUb,g[g.length - 1].mQa));return c;};r.exports=b;},function(r,b,a){var l,m,d;function c(f){return "string" !== typeof f?null:m[f];}function g(f){return f.split(" ").map(function(h){return .01 * parseFloat(h);});}l=a(447);r.exports={Jsb:function(f,h){var k,n,p,q,t,u;k=h.textNodes[0] || ({});n=f.regions;p=f.styles;f=f.aspectRatio;n=n && n[h.region]?n[h.region]:{};k=p && p[k.style]?p[k.style]:{};p=g(l(h.extent,n.extent,"80% 80%"));q=g(l(h.origin,n.origin,"10% 10%"));h=Object;f/=1280 / 720;t=(1 - f) / 2;u=q[0];q=q[1];p=h.create.call(h,{marginLeft:u * f + t,marginTop:q,marginRight:(1 - (u + p[0])) * f + t,marginBottom:1 - (q + p[1])});1 < Object.keys(n).length?p.verticalAlignment=c(l(k.displayAlign,n.displayAlign,"before")):p.verticalAlignment=c(l(k.displayAlign,"after"));n=l(k.textAlign,n.textAlign,"center");p.horizontalAlignment="string" !== typeof n?null:d[n];return p;}};m={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};},function(r,b,a){var l,m,d,f,h,k,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function g(p){var q,t,u;q=(p || "").split(" ");t=(/^[0-9]/).test(q);p=t?"#000000":c(q[0]);u=t?0:1;t=parseInt(q[u]);q=parseInt(q[u + 1]);return {color:p,width:0 < t?t:0,blur:0 < q?q:0};}l=a(447);r.exports={Msb:function(p,q,t){var u,w,v,x,y,z,B,A,E,D,F,C,G,H;u=l(t.characterSize,q.characterSize,"MEDIUM");w=p.fontFamily;w=l(t.characterStyle,"string" !== typeof w?null:f[w],q.characterStyle,"PROPORTIONAL_SANS_SERIF");v=parseInt(p.fontSize,10) / 100 || 1;x="underline" === p.textDecoration;y="italic" === p.fontStyle;z=m[l(t.cZb,q.cZb,"OPAQUE")];B=m[l(t.characterOpacity,q.characterOpacity,"OPAQUE")];A=m[l(t.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];E=c(l(t.characterColor,p.color,q.characterColor,"#ffffff"));D=c(l(t.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(l(t.O6a,p.O6a,q.O6a,null));C=l(t.characterEdgeAttributes,q.characterEdgeAttributes,null);v*=h[u] || 1;G=1;k[u] && (G=k[u][w] || 1);v*=1 / 19 * G;G=0;n[u] && (G=n[u][w] || 0);u=G;G=p.textOutline;G="string" !== typeof G?null:g(G).width;G=l(G,0);H=p.textOutline;H="string" !== typeof H?null:g(H).blur;H=l(H,0);t=t.characterEdgeColor;p=p.textOutline;p="string" !== typeof p?null:g(p).color;return {characterUnderline:x,characterItalic:y,characterStyle:w,windowOpacity:z,characterOpacity:B,backgroundOpacity:A,characterColor:E,backgroundColor:D,windowColor:F,characterEdgeAttributes:C,characterSize:v,characterTracking:u,characterEdgeWidth:G,characterEdgeBlur:H,characterEdgeColor:c(l(t,p,q.characterEdgeColor,"#000000"))};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};f={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};k={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.wB=void 0;r=a(1);c=a(449);g=a(1068);l=a(140);b.wB=new r.Qc(function(m){m(c.I$).to(g.gBa).Z();m(l.KO).TV(function(d){return function(){return d.eb.get(c.I$).QJb;};});});},function(r,b,a){function c(){var g;g=this;this.ready=!1;this.QJb=new Promise(function(l){g.oRb=l;});}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(0);a=a(1);c.prototype.RJb=function(g){this.ready || (this.oRb(g),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};a=r.__decorate([a.O()],c);b.gBa=a;},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Wh=void 0;r=a(1);c=a(86);g=a(450);l=a(1070);m=a(452);d=a(1071);b.Wh=new r.Qc(function(f){f(c.Ov).sf(function(){return function(){return lb._cad_global.device;};});f(m.dwa).to(d.cwa).Z();f(g.awa).to(l.$va).Z();});},function(r,b,a){var g,l,m,d,f,h;function c(k,n){this.sa=k;this.apa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.$va=void 0;r=a(0);g=a(38);l=a(4);m=a(136);d=a(451);f=a(53);a=a(1);c.prototype.oyb=function(){for(var k="",n=this.sa.Ne.da(l.ia),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.apa.v0a(new d.Gaa(0,31,f.jZa))];}return k;};h=c;h=r.__decorate([a.O(),r.__param(0,a.l(g.hi)),r.__param(1,a.l(m.vY))],h);b.$va=h;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w;function c(v,x,y,z,B,A,E,D,F,C){this.mub=v;this.Sm=x;this.Xa=z;this.lga=B;this.tc=A;this.debug=E;this.tYb=D;this.kga=F;this.TMb=C;this.C9=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=y.sb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.cwa=void 0;r=a(0);g=a(2);l=a(25);m=a(1072);d=a(7);f=a(450);h=a(33);k=a(90);n=a(26);p=a(1);q=a(78);t=a(453);u=a(454);a=a(455);c.prototype.wQa=function(v){try{return v.match(this.C9)[2];}catch(x){}};c.prototype.yQa=function(v){try{return v.match(this.C9)[1];}catch(x){}};c.prototype.create=function(v){var x;x=this;return new Promise(function(y,z){x.Sm.create().then(function(B){var E,D,F,C,G,H;function A(J){x.Xa.nn(J) && x.Xa.nn(E)?(D=new m.bwa(J,E,void 0,F,v.GR || "cadmium"),y(D)):z({ka:g.K.Fva});}E=v.zn;if(v.Kia){F="bind_device";x.TMb.bf(x.log,{}).then(function(J){A(J.esn);}).catch(function(J){z(J);});}else if(v.sK){G=v.Xh;if(x.Xa.nn(G)){H=x.yQa(G);H != v.zn && x.log.error("esn prefix from ui is different",{ui:H,cad:v.zn,ua:v.userAgent});}else v.dma && x.log.error("esn from ui is missing");B.load(v.YOa).then(function(J){C=J.value;x.Xa.nn(C) && (!1,x.Xa.nn(G)?(J=x.wQa(G),F=J === C?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):F="storage_esn_not_in_config",A(E + C));}).catch(function(J){var N;function I(){B.save(v.YOa,N,!1).then(function(){A(E + N);}).catch(function(K){z(K);});}function M(){N=x.mub.oyb();!1;I();}if(J.ka === g.K.Az){if(x.Xa.nn(v.Xh)){N=x.wQa(v.Xh);x.Xa.nn(N)?(F="config_since_not_in_storage",I()):(F="generated_since_invalid_in_config_and_not_in_storage",x.log.error("invalid esn passed from UI",v.Xh),M());}else (F="generated_since_not_in_config_and_storage",M());}else z(J);});}else v.oub && x.lga && x.lga.getKeyByName?x.lga.getKeyByName(v.Fmb).then(function(J){J=J.id;if(x.Xa.Io(J))(J=String.fromCharCode.apply(void 0,x.tc.decode(J)),x.debug.assert("" != J),E=x.yQa(J),A(J));else throw "ESN from getKeyByName is not a string";}).catch(function(J){z({ka:g.K.n9,gb:x.tYb.md(J)});}):v.nub && x.kga && x.kga.$Ra?x.kga.$Ra().then(function(J){var I;J=String.fromCharCode.apply(void 0,J);I=E + J;x.debug.assert(x.C9.test(J));A(I);}).catch(function(){z({ka:g.K.n9});}):A();}).catch(function(B){z(B);});});};w=c;w=r.__decorate([p.O(),r.__param(0,p.l(f.awa)),r.__param(1,p.l(q.fz)),r.__param(2,p.l(d.Ab)),r.__param(3,p.l(l.xf)),r.__param(4,p.l(u.zva)),r.__param(5,p.l(h.Nh)),r.__param(6,p.l(k.zt)),r.__param(7,p.l(n.yf)),r.__param(8,p.l(t.yva)),r.__param(9,p.l(a.iCa))],w);b.cwa=w;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bwa=void 0;b.bwa=function(a,c,g,l){this.Xh=a;this.zn=c;this.Cha=l;};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D;Object.defineProperty(b,"__esModule",{value:!0});b.OWa=void 0;r=a(1);c=a(140);g=a(1074);l=a(1075);m=a(1076);d=a(1077);f=a(1078);h=a(13);k=a(1079);n=a(1080);p=a(1081);q=a(44);t=a(86);u=a(461);w=a(457);v=a(456);x=a(99);y=a(265);z=a(56);B=a(462);A=a(1082);E=a(465);D=a(466);b.OWa=new r.Qc(function(F){F(z.Wp).to(l.Bza).Z();F(w.aBa).to(m.$Aa).Z();F(v.Rza).to(d.Qza).Z();F(y.Mza).to(f.Lza).Z();F(z.m$).to(k.Aza).Z();F(x.rz).to(n.Iza).Z();F(y.Kza).to(p.Jza).Z();F(B.Oza).to(A.Nza).Z();F(E.jwa).to(D.iwa).Z();F(u.rta).to(g.qta).Z();F(z.Cza).TV(function(C){return function(){return C.eb.get(c.KO)().then(function(G){return new Promise(function(H){var I,M,N;function J(){M() && N() && G.WT?H(C.eb.get(z.Wp)):I.dd(J);}I=C.eb.get(q.Ui);M=C.eb.get(h.Uc);N=C.eb.get(t.Ov);I.dd(J);});});};});});},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t){var u;u=this;this.HHb=n;this.zT=p;this.config=t;this.mpa=[];this.HHb.m6(g.g7a,this.NCb.bind(this));q().then(function(w){var v;v=t().Aq.Rxb;u.uIb=v?k.Qi[v.toUpperCase()]:k.Qi.jf;u.Bl=w;u.sSb();});}Object.defineProperty(b,"__esModule",{value:!0});b.qta=void 0;r=a(0);l=a(1);m=a(13);d=a(106);f=a(56);h=a(99);k=a(7);c.prototype.NCb=function(n,p){this.Bl?this.t0a(n,p):this.mpa.push([n,p]);};c.prototype.sSb=function(){var n,p;n=this;p=this.mpa;this.mpa=[];p.forEach(function(q){n.t0a(q[0],q[1]);});};c.prototype.t0a=function(n,p){var q;if(this.Bl && this.ETb(n)){q={debugMessage:n.message,debugCategory:n.tn};n.pd.forEach(function(t){return q=Object.assign(Object.assign({},q),t.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.zT.vu("debug",k.Qi[n.level].toLowerCase(),q,p);this.Bl.Od(n);}};c.prototype.ETb=function(n){var p;p=this.uIb;return void 0 !== p && n.level <= p && !n.pd.find(function(q){return q.YR(k.hO);});};a=g=c;a.g7a="adaptorAll";a=g=r.__decorate([l.O(),r.__param(0,l.l(d.DH)),r.__param(1,l.l(h.rz)),r.__param(2,l.l(f.Cza)),r.__param(3,l.l(m.Uc))],a);b.qta=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u,w,v,x,y,z,B){this.config=u;this.json=w;this.Qa=v;this.xHb=x;this.NT=z;this.vga=B;this.D3=this.zm=!1;this.listeners=[];l.On(this,"json");this.qa=y.sb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.Bza=void 0;r=a(0);g=a(1);l=a(53);m=a(34);d=a(456);f=a(44);h=a(7);k=a(56);n=a(457);p=a(2);q=a(93);a(180);t=a(458);c.prototype.Wa=function(){this.zm=!0;};c.prototype.Od=function(u){var w;w=this;this.OTb(u) || (!1,0 < u.size.Jk(this.config.rIb)?this.qa.error("Logblob is too large, dropping from the queue",{logblobType:u.type,logblobSize:u.size.toString()}):(this.listeners.forEach(function(v){return v.YIb(u);}),!1,this.NT.Mda(u),this.Qa.dd(function(){w.Axb();})));};c.prototype.flush=function(u){var w;w=this;u=void 0 === u?!1:u;return this.D3?(this.qa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,x){w.qa.trace("Flushing",h.hO);w.Ip();w.Qa.dd(function(){w.xqa(u).then(function(){v();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(u){this.listeners.push(u);};c.prototype.removeListener=function(u){u=this.listeners.indexOf(u);0 <= u && this.listeners.splice(u,1);};c.prototype.xqa=function(u){var w,v;w=this;u=void 0 === u?!1:u;if(!this.zm)return (this.qa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.D3)return (this.qa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.NT.Tyb();if(0 === v.length && !u)return (this.qa.trace("No logblobs to send"),Promise.resolve());!1;this.Ip();this.listeners.forEach(function(){});u=Promise.resolve();for(var x={},y=Z(v),z=y.next();!z.done;(x={v8:x.v8},z=y.next())){x.v8=z.value;u=u.then((function(B){return function(){return w.oSb(B.v8);};})(x));}return u.then(function(){return w.HA();}).catch(function(B){v.filter(function(A){return !A.Px;}).forEach(function(A){return A.ks();});w.HA();throw Error("Send failure. " + B);});};c.prototype.oSb=function(u){var w;w=this;this.qa.trace("Sending batch: " + u.size,h.hO);return Promise.resolve(this.NT.tQb(u)).then(function(){return w.xHb.send(u.yF);}).then(function(){return u.oN();}).catch(function(v){w.qa.warn("Failed to send batch of logblobs.",v,h.hO);u.ks();w.ATb(v) && w.NT.Ekb(u);w.PTb(v) && (w.D3=!0);throw v;});};c.prototype.ATb=function(u){return u.od === p.KX.dCa?!1:this.config.Kda;};c.prototype.PTb=function(u){return u.$b === p.K.Bxa || u.$b === p.K.vO || u.$b === p.K.zO?!0:!1;};c.prototype.Axb=function(){var u;u=this;0 < this.NT.size.Jk(this.config.BXa)?this.xqa().catch(function(w){return u.qa.warn("Failed to send log messages on size threshold. " + w);}):this.HA();};c.prototype.Ip=function(){this.P3 && (!1,this.P3.cancel(),this.P3=void 0);};c.prototype.HA=function(){this.P3 || (!1,this.P3=this.Qa.yj(this.config.pSb,this.bM.bind(this)));};c.prototype.bM=function(){var u;u=this;this.D3=!1;this.Ip();this.xqa().catch(function(w){return u.qa.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(u){var w;w="";try{w=this.json.stringify(u.data,void 0,"  ");}catch(v){}return w;};c.prototype.OTb=function(u){return 0 <= this.config.j3a.indexOf(u.type)?!0:u.type === t.Ue.debug?0 <= this.config.i3a.indexOf(u.data.debugCategory):!1;};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(k.m$)),r.__param(1,g.l(m.JC)),r.__param(2,g.l(f.Ui)),r.__param(3,g.l(d.Rza)),r.__param(4,g.l(h.Ab)),r.__param(5,g.l(n.aBa)),r.__param(6,g.l(q.cX))],a);b.Bza=a;},function(r,b,a){var l,m,d,f,h,k,n;function c(p){this.cJ=d.nb;this.Fca=[];this.NP=this.BZ=!1;p && (this.cJ=p.size,this.Fca=p.yF);}function g(p,q,t,u){this.ZIb=p;this.config=q;this.rg=t;this.json=u;m.On(this,"json");this.qa=this.rg.sb("MessageQueue");this.Pr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;r=a(0);l=a(1);m=a(53);d=a(48);f=a(265);h=a(7);k=a(34);a=a(56);g.prototype.Mda=function(p){var q,t;0 === this.Pr.length && this.Pr.push(this.Oia());if(p=this.FBb(p)){q=this.ZIb.measure([p]);t=this.Pr[this.Pr.length - 1];0 < t.size.add(q).Jk(this.config.BXa) && (t=this.Oia(),this.Pr.push(t));t.Mda(p);}};g.prototype.Tyb=function(){var p;p=this.Pr.filter(function(q){return q.oob;});this.Pr.push(this.Oia());p.forEach(function(q){return q.fIb();});return p;};g.prototype.Ekb=function(p){p.Px || this.Pr.unshift(new c(p));};g.prototype.tQb=function(p){p=this.Pr.indexOf(p);0 <= p && this.Pr.splice(p,1);};g.prototype.FBb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(u){var q,t;q={};p=p.data;t=p.debugMessage;t && "string" === typeof t && (q.originalDebugMessage=t);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.qa.error("JSON.stringify error: " + u.message,q);}};g.prototype.Oia=function(){return new c();};Ua.Object.defineProperties(g.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Pr.reduce(function(p,q){return p.add(q.size);},d.nb);}}});n=g;n=r.__decorate([l.O(),r.__param(0,l.l(f.Mza)),r.__param(1,l.l(a.m$)),r.__param(2,l.l(h.Ab)),r.__param(3,l.l(k.JC))],n);b.$Aa=n;c.prototype.oN=function(){this.BZ=!1;this.NP=!0;};c.prototype.ks=function(){this.BZ=!1;};c.prototype.Mda=function(p){this.Fca.push(p);this.cJ=this.cJ.add(p.size);};c.prototype.fIb=function(){this.BZ=!0;};Ua.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.cJ;}},yF:{configurable:!0,enumerable:!0,get:function(){return this.Fca;}},oob:{configurable:!0,enumerable:!0,get:function(){return 0 < this.yF.length && !1 === this.BZ;}},Px:{configurable:!0,enumerable:!0,get:function(){return this.NP;}}});},function(r,b,a){var l,m,d,f,h,k,n,p,q,t,u;function c(w,v,x,y,z,B,A,E){this.Ia=w;this.platform=x;this.Wh=y;this.json=z;this.Dd=B;this.Ih=A;this.FHb=E;m.On(this,"json");this.qa=v.sb("LogblobSender");}function g(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;r=a(0);l=a(1);m=a(53);d=a(34);f=a(4);h=a(26);k=a(18);n=a(32);p=a(86);q=a(7);t=a(459);a=a(69);c.prototype.send=function(w){var v;v=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(B,A){B.entries.push(v.ssb(A));return B;},new g());x(v.ryb(z));}catch(B){v.qa.error(B.message);y(B);}}).then(function(x){return v.Aqa(x);});};c.prototype.ssb=function(w){return this.Dd.tB(this.Dd.tB({},w.data),{esn:this.Wh().Xh,sev:w.severity,type:w.type,lver:this.platform.ima,jssid:this.Ia.id,devmod:this.platform.px,jsoffms:w.timestamp.Sa(this.Ia.qF).da(f.ia),clienttime:w.timestamp.da(f.ia),client_utc:w.timestamp.da(f.Xm),uiver:this.Ih.Wy});};c.prototype.ryb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={ON:x.ON,ut:x.ut},++y)){x.ut=Object.assign({},w.entries[y]);try{this.json.stringify(x.ut);}catch(B){x.ON=void 0;this.Dd.IA(x.ut,(function(A){return function(E,D){try{v.json.stringify(D);}catch(F){A.ON=F.message;A.ut[E]=A.ON;}};})(x));x.ut.stringifyException=x.ON;x.ut.originalType=x.ut.type;x.ut.type="debug";x.ut.sev="error";}}return this.json.stringify(w);}};c.prototype.Aqa=function(w){var v;v=this;return this.FHb.bf(this.qa,{logblobs:w}).then(function(){!1;}).catch(function(x){v.qa.error("PBO logblob failed",x);return Promise.reject(x);});};u=c;u=r.__decorate([l.O(),r.__param(0,l.l(k.ud)),r.__param(1,l.l(q.Ab)),r.__param(2,l.l(n.uk)),r.__param(3,l.l(p.Ov)),r.__param(4,l.l(d.JC)),r.__param(5,l.l(h.yf)),r.__param(6,l.l(a.Mt)),r.__param(7,l.l(t.ACa))],u);b.Qza=u;},function(r,b,a){var g,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Lza=void 0;r=a(0);g=a(1);l=a(265);m=a(48);c.prototype.measure=function(d){var f;f=this;return d.map(function(h){return h.size.add(f.config.AHb());}).reduce(function(h,k){return h.add(k);},m.$(0));};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.Kza))],a);b.Lza=a;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p){n=h.Ye.call(this,n,"PboConfigImpl") || this;n.config=p;n.rIb=g.$(5E5);n.pSb=l.L4(1);n.BXa=g.$(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Aza=void 0;r=a(0);g=a(48);l=a(4);m=a(1);d=a(13);f=a(42);h=a(43);a=a(35);ja(c,h.Ye);Ua.Object.defineProperties(c.prototype,{Kda:{configurable:!0,enumerable:!0,get:function(){return this.config().Kda;}},j3a:{configurable:!0,enumerable:!0,get:function(){return [];}},i3a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],k.prototype,"j3a",null);r.__decorate([f.config(f.Lo("string"),"shedDebugTypes")],k.prototype,"i3a",null);k=r.__decorate([m.O(),r.__param(0,m.l(a.$l)),r.__param(1,m.l(d.Uc))],k);b.Aza=k;},function(r,b,a){var l,m,d,f,h,k,n,p,q;function c(t,u,w,v,x,y,z,B,A,E){this.platform=u;this.mga=w;this.type=v;this.severity=x;this.timestamp=y;this.Ia=B;this.data=z;this.data.type=v;this.data.sev=x;this.data.devmod=this.platform.px;this.data.clver=this.platform.version;t && t.Gd && (t.Gd.os && (this.data.osplatform=t.Gd.os.name,this.data.osver=t.Gd.os.version),this.data.browsername=t.Gd.name,this.data.browserver=t.Gd.version);t.qla && (this.data.tester=!0);t.ZA && !this.data.groupname && (this.data.groupname=t.ZA);t.BJ && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.BJ:t.BJ);t.UG && (this.data.uigroupname=t.UG);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ia.CAb();this.data.uniqueLogId=A.xRa();this.data.appId=this.Ia.id;E && (t=this.Ia.Tb(),this.data.soffms=t.Sa(E.Il).da(f.ia),this.data.mid=this.data.mid || E.H,this.data.lvpi=E.hma,this.data.uiLabel=E.sd,this.data.uxLabels=E.g8,v="startup" === v?"playbackxid":"xid",this.data[v]="xid" === v && this.data.xid || E.ca,E.pG && (v=E.pG,(E=E.pG.split(".")) && 1 < E.length && "S" !== E[0][0] && (v="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + v:v));}function g(t,u,w,v,x,y){this.sa=t;this.mga=u;this.config=w;this.Ia=v;this.uYb=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.Iza=void 0;r=a(0);l=a(48);m=a(1);d=a(38);f=a(4);h=a(328);k=a(36);n=a(18);p=a(460);a=a(32);g.prototype.vu=function(t,u,w,v){return new c(this.config,this.platform,this.mga,t,u,this.sa.Ne,w,this.Ia,this.uYb,v);};q=g;q=r.__decorate([m.O(),r.__param(0,m.l(d.hi)),r.__param(1,m.l(h.Bva)),r.__param(2,m.l(k.Wl)),r.__param(3,m.l(n.ud)),r.__param(4,m.l(p.GGa)),r.__param(5,m.l(a.uk))],q);b.Iza=q;Ua.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.zMa || (this.zMa=l.$(this.mga.encode(this.data).length));return this.zMa;}}});},function(r,b,a){var g,l,m;function c(d){this.Wh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;r=a(0);g=a(1);l=a(48);a=a(86);c.prototype.AHb=function(){var d;d=this.Wh()?this.Wh().Xh.length:40;return l.$(d + 33);};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(a.Ov))],m);b.Jza=m;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E;function c(D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la){this.H4a=D;this.k0=F;this.Bl=C;this.Tma=G;this.Kha=H;this.Qd=J;this.j1=I;this.qf=M;this.config=N;this.ed=K;this.sa=O;this.Ia=R;this.platform=L;this.Sn=Q;this.zT=P;this.Ei=ha;this.Dq=va;this.AF=la;}Object.defineProperty(b,"__esModule",{value:!0});b.Nza=void 0;r=a(0);g=a(214);l=a(346);m=a(56);d=a(26);f=a(354);h=a(219);k=a(1);n=a(463);p=a(465);q=a(110);t=a(13);u=a(38);w=a(18);v=a(32);x=a(99);y=a(111);z=a(151);B=a(34);A=a(36);a=a(266);c.prototype.create=function(D,F,C){return new n.Pza(D,F,C,this.H4a,this.k0,this.Bl,this.Tma,this.Kha,this.Qd,this.j1,this.qf,this.config,this.ed,this.sa,this.Ia,this.platform,this.Sn,this.zT,this.Ei,this.Dq,this.AF);};E=c;E=r.__decorate([k.O(),r.__param(0,k.l(g.Xaa)),r.__param(1,k.l(l.cva)),r.__param(2,k.l(m.Wp)),r.__param(3,k.l(f.GAa)),r.__param(4,k.l(h.H9)),r.__param(5,k.l(d.yf)),r.__param(6,k.l(p.jwa)),r.__param(7,k.l(q.qz)),r.__param(8,k.l(t.Uc)),r.__param(9,k.l(y.nD)),r.__param(10,k.l(u.hi)),r.__param(11,k.l(w.ud)),r.__param(12,k.l(v.uk)),r.__param(13,k.l(B.VO)),r.__param(14,k.l(x.rz)),r.__param(15,k.l(z.WO)),r.__param(16,k.l(A.Wl)),r.__param(17,k.l(a.E$))],E);b.Nza=E;},function(r,b,a){var g;function c(l,m,d){l=g.eX.call(this,l,m) || this;l.tA=d;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.$ua=void 0;g=a(464);ja(c,g.eX);b.$ua=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vXa=void 0;b.vXa=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var g=a[0],l=c(g),m=1;m < a.length;m++){d=a[m];f=c(d);f > l && (g=d,l=f);}return g;}};},function(r,b,a){var c,g,l,m,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.CYa=void 0;r=a(1);c=a(1086);g=a(110);l=a(467);m=a(1087);d=a(267);f=a(468);h=a(1088);b.CYa=new r.Qc(function(k){k(l.$Ga).to(c.ZGa).Z();k(g.qz).jC(function(){return lb._cad_global.http;});k(d.bY).to(m.pBa).Z();k(f.qBa).Mh(h.default);});},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZGa=void 0;r=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};a=r.__decorate([a.O()],c);b.ZGa=a;},function(r,b,a){var g,l,m,d;function c(f,h,k){this.config=f;this.tHb=h;this.tb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;r=a(0);g=a(300);l=a(1);m=a(166);a=a(468);c.prototype.$fa=function(){if(this.config.i6a)return this.tb(this.tHb());};d=c;d=r.__decorate([l.O(),r.__param(0,l.l(g.oBa)),r.__param(1,l.l(m.lBa)),r.__param(2,l.l(a.qBa))],d);b.pBa=d;},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1089);g=a(1090);l=a(1091);b.default=function(m){var d;m=new c.H8(m);d=new l.icb(m);return new g.hcb(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.HWa=c;}a.prototype.Jqa=function(c){try{this.HWa.setItem("gtp",JSON.stringify(c));}catch(g){return !1;}return !0;};a.prototype.ASa=function(){var c;try{c=this.HWa.getItem("gtp");if(c)return JSON.parse(c);}catch(g){}};a.prototype.En=function(){var c;c=this.ASa();if(c && c.tp)return c.tp.a;};a.prototype.rAb=function(){var c;c=this.Xia();if(c)return c.p25;};a.prototype.sAb=function(){var c;c=this.Xia();if(c)return c.p50;};a.prototype.tAb=function(){var c;c=this.Xia();if(c)return c.p75;};a.prototype.Xia=function(){var c;c=this.ASa();if(c && (c=c.iqr))return c;};return a;})();b.H8=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,g){this.lu=c;this.cU=g;}a.prototype.Jqa=function(c){return this.lu.Jqa(c);};a.prototype.En=function(){return this.lu.En();};a.prototype.XAb=function(){return this.cU.cU();};return a;})();b.hcb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.lu=c;}a.prototype.cU=function(){var c,g,l;c=this.lu.rAb();g=this.lu.sAb();l=this.lu.tAb();if("number" === typeof c && "number" === typeof g && "number" === typeof l)return (l - c) / g;};return a;})();b.icb=r;},function(r,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.uRa=void 0;r=a(1);c=a(1093);g=a(1094);l=a(1095);m=a(1096);d=a(1097);f=a(469);h=a(470);k=a(159);b.uRa=new r.Qc(function(n){n(k.zxa).to(c.yxa).Z();n(k.xEa).to(g.wEa).Z();n(k.vEa).to(l.uEa).Z();n(f.vxa).to(m.uxa).Z();n(h.kya).to(d.jya).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u,w,v,x){this.config=p;this.JUa=q;this.Qa=t;this.rf=u;this.SQb=w;this.Bpa=v;this.$Fb=0;this.qa=x.sb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.yxa=void 0;r=a(0);l=a(1);m=a(4);d=a(44);f=a(7);h=a(469);k=a(470);a=a(159);c.prototype.start=function(){this.config.enabled && !this.cr && (this.cr=this.Qa.yj(this.config.F3a,this.SB.bind(this)));};c.prototype.stop=function(){this.cr && (this.cr.cancel(),this.cr=void 0);};c.prototype.SB=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.$Fb++;this.bCb(q).then(function(t){return Promise.all(t.urls.map(function(u){return p.XCb(t,u.url,u.name);})).then(function(u){0 < u.length && p.SQb.WU({data:u,context:t.context,jma:t.jma});}).then(function(){return t;});}).then(function(t){p.cr && (t.eWa?p.cr=p.Qa.yj(t.eWa,p.SB.bind(p)):p.stop());}).catch(function(t){return p.qa.error("FTL run failed",t);});};c.prototype.bCb=function(p){var q;q=this;return this.JUa.get(p,!1).then(function(t){var u;if(200 != t.status || null == t.body)return (q.Bpa.WU({url:p,status:t.status,ooa:"FTL API request failed",Nd:t.Nd}),Promise.reject(Error("FTL API request failed: " + t.status)));u=q.rf.parse(t.body);return u instanceof Error?(q.Bpa.WU({url:p,status:4,ooa:"FTL Probe API JSON parsing error",Nd:t.Nd}),Promise.reject(u)):Promise.resolve(u);}).catch(function(t){t instanceof Error && (q.Bpa.WU({url:p,status:0,ooa:t.message}),q.qa.error("FTL API call failed",t.message));return Promise.reject(t);});};c.prototype.XCb=function(p,q,t){var u;u=this;return new Promise(function(w,v){var D;for(var x,y,z,B=[],A={},E=0;E < p.ePb;(A={w8:A.w8,x8:A.x8},++E)){A.w8=E < p.q0a.length?p.q0a[E]:m.nb;A.x8="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (E + 1);D=(function(F){return function(){return new Promise(function(C,G){u.Qa.yj(F.w8,function(){g.KOb(u.JUa,F.x8,p.dPb).then(function(H){function J(I,M,N){I || (I=N.headers[M]);return I;}x=J(x,"via",H);y=J(y,"x-ftl-probe-data",H);z=J(z,"x-ftl-error",H);C({status:H.status,Nd:H.Nd,EYb:x || "",Zob:y || "",ME:z || ""});}).catch(function(H){G(H);});});});};})(A);B.push(0 < E?B[E - 1].then(D):D());}Promise.all(B).then(function(F){w({url:q,name:t,data:F});}).catch(function(F){v(F);});});};c.KOb=function(p,q,t){return p.get(q,!1,t).then(function(u){return Object.assign({},u);});};n=g=c;n=g=r.__decorate([l.O(),r.__param(0,l.l(a.xxa)),r.__param(1,l.l(k.kya)),r.__param(2,l.l(d.Ui)),r.__param(3,l.l(h.vxa)),r.__param(4,l.l(a.xEa)),r.__param(5,l.l(a.vEa)),r.__param(6,l.l(f.Ab))],n);b.yxa=n;},function(r,b,a){var g,l,m,d,f,h;function c(k,n){this.Bl=k;this.bna=n;}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;r=a(0);l=a(1);m=a(48);d=a(4);f=a(56);a=a(99);c.prototype.WU=function(k){var n;n={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return g.iZb({d:q.Nd.duration.da(d.ia),sc:q.status,sz:q.Nd.size.da(m.yt),via:q.EYb,cip:q.Zob,err:q.ME},q);})};})};k=this.bna.vu(k.jma,"info",n);this.Bl.Od(k);};c.iZb=function(k,n){g.ku(k,"dns",n.Nd.kPa);g.ku(k,"tcp",n.Nd.Ira);g.ku(k,"tls",n.Nd.Sra);g.ku(k,"ttfb",n.Nd.Ora);return k;};c.ku=function(k,n,p){p && (k[n]=p.da(d.ia));};h=g=c;h=g=r.__decorate([l.O(),r.__param(0,l.l(f.Wp)),r.__param(1,l.l(a.rz))],h);b.wEa=h;},function(r,b,a){var g,l,m,d,f,h;function c(k,n){this.Bl=k;this.bna=n;}Object.defineProperty(b,"__esModule",{value:!0});b.uEa=void 0;r=a(0);l=a(1);m=a(48);d=a(4);f=a(56);a=a(99);c.prototype.WU=function(k){k=this.bna.vu("ftlProbeError","info",g.hZb({url:k.url,sc:k.status,pf_err:k.ooa},k));this.Bl.Od(k);};c.hZb=function(k,n){n.Nd && (n=n.Nd,g.ku(k,"d",n.duration),g.ku(k,"dns",n.kPa),g.ku(k,"tcp",n.Ira),g.ku(k,"tls",n.Sra),g.ku(k,"ttfb",n.Ora),k.sz=n.size.da(m.yt));return k;};c.ku=function(k,n,p){p && (k[n]=p.da(d.ia));};h=g=c;h=g=r.__decorate([l.O(),r.__param(0,l.l(f.Wp)),r.__param(1,l.l(a.rz))],h);b.uEa=h;},function(r,b,a){var g,l,m,d,f;function c(h,k){this.is=h;this.json=k;l.On(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;r=a(0);g=a(1);l=a(53);m=a(34);d=a(4);a=a(25);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.Cda(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.tQ(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.tQ(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.Qw(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.tQ(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Qw(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.nn(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.oJ(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){n=h.urls[k];if(!this.is.Cda(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Io(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Io(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {ePb:h.pulses,q0a:h.pulse_delays?h.pulse_delays.map(d.Xb):[],dPb:d.Xb(h.pulse_timeout),eWa:h.next?d.Xb(h.next):void 0,urls:h.urls,jma:h.logblob,context:h.ctx};};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.xf)),r.__param(1,g.l(m.JC))],f);b.uxa=f;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t,u){this.sa=q;this.mZb=t;this.performance=u;l.On(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.jya=void 0;r=a(0);l=a(53);m=a(1098);d=a(48);f=a(34);h=a(38);k=a(1);n=a(467);p=a(4);c.prototype.get=function(q,t,u){var w;w=this;return new Promise(function(v,x){var y,z,B;try{y=w.mZb.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);t && (y.withCredentials=!0);u && (y.timeout=u.da(p.ia));z=w.sa.Ne;B=void 0;y.onreadystatechange=function(){var A;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:B=w.sa.Ne.Sa(z);break;case XMLHttpRequest.DONE:A=w.sa.Ne.Sa(z);A={body:y.responseText,status:y.status,headers:g.CMb(y.getAllResponseHeaders()),Nd:w.fja(q,d.$(y.responseText.length),A,B)};v(A);}};y.send();}catch(A){x(A);}});};c.CMb=function(q){var t,w,v;t={};q=q.split("\r\n");for(var u=0;u < q.length;u++){w=q[u];v=w.indexOf(": ");0 < v && (t[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return t;};c.prototype.fja=function(q,t,u,w){t={size:t,duration:u,Ora:w};if(!this.performance || !this.performance.getEntriesByName)return t;u=this.performance.getEntriesByName(q);if(0 == u.length && (u=this.performance.getEntriesByName(q + "/"),0 == u.length))return t;q=u[u.length - 1];t=m.cXa(t);q.decodedBodySize && (t.size=d.$(q.decodedBodySize));0 < q.duration?t.duration=p.timestamp(q.duration):0 < q.startTime && 0 < q.responseEnd && (t.duration=p.timestamp(q.responseEnd - q.startTime));0 < q.requestStart && (t.kPa=p.timestamp(q.domainLookupEnd - q.domainLookupStart),t.Ira=p.timestamp(q.connectEnd - q.connectStart),t.Ora=p.timestamp(q.responseStart - q.startTime),0 === q.secureConnectionStart?t.Sra=p.timestamp(0):void 0 !== q.secureConnectionStart && (u=q.connectEnd - q.secureConnectionStart,t.Sra=p.timestamp(u),t.Ira=p.timestamp(q.connectEnd - q.connectStart - u)));return t;};a=g=c;a=g=r.__decorate([k.O(),r.__param(0,k.l(h.hi)),r.__param(1,k.l(n.$Ga)),r.__param(2,k.l(f.gaa)),r.__param(2,k.optional())],a);b.jya=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SHb=b.cXa=b.QHb=void 0;b.QHb=function(a){return a;};b.cXa=function(a){return a;};b.SHb=function(a){return Object.assign({},a);};},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.o0a=void 0;r=a(1);c=a(318);g=a(1100);l=a(182);m=a(1101);b.o0a=new r.Qc(function(d){d(c.rwa).to(g.qwa).Z();d(l.FO).to(m.vza).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u){this.Dd=p;this.Vw=q;this.sYb=t;this.sL=u;}Object.defineProperty(b,"__esModule",{value:!0});b.qwa=void 0;r=a(0);g=a(1);l=a(26);m=a(33);d=a(77);f=a(133);h=a(68);k=a(63);a=a(182);c.prototype.Vf=function(p){var q;q=this;return this.Dd.Ur(p.fj[0].data[0],[8,4])?Promise.resolve({Yd:[{id:"ddd",sF:"cert",xT:void 0}],zi:[{sessionId:"ddd",data:new Uint8Array(this.Vw.decode(k.Neb))}]}):this.Dd.Ur(p.fj[0].data[0],this.sYb.decode("certificate"))?Promise.resolve({Yd:[{id:"ddd",sF:"cert",xT:void 0}],zi:[{sessionId:"ddd",data:new Uint8Array(this.Vw.decode(k.I9))}]}):this.sL.Kw(this.eyb(p)).then(function(t){return q.fyb(t);});};c.prototype.release=function(p){return this.sL.release(this.iyb(p)).then(function(){});};c.prototype.eyb=function(p){var q,t;q=this;t=p.fj.map(function(u){return u.data.map(function(w){return {sessionId:u.sessionId,dataBase64:q.Vw.encode(w)};});});return {ca:p.ca,Di:p.Di,k1:p.k1,yi:h.Ula(p.yi),xn:f.Um[p.xn],fj:t.reduce(function(u,w){return u.concat(w);},[]),KT:p.KT,oj:p.oj};};c.prototype.iyb=function(p){return {ca:p.ca,Yd:p.Yd};};c.prototype.fyb=function(p){return {Yd:p.Yd,zi:p.zi};};n=c;n=r.__decorate([g.O(),r.__param(0,g.l(l.yf)),r.__param(1,g.l(m.Nh)),r.__param(2,g.l(d.Rt)),r.__param(3,g.l(a.FO))],n);b.qwa=n;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p,q,t){this.xkb=k;this.mQb=n;this.B1a=q;this.uRb=t;this.qa=p.sb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.vza=void 0;r=a(0);g=a(1);l=a(7);m=a(471);a(472);d=a(473);f=a(474);a=a(268);c.prototype.Kw=function(k){var n,p;n=this;!1;p=this.B1a.AWb(k);return this.xkb.ip(this.qa,k.oj,p).then(function(q){q.map(function(t){return t.KGb;});return n.uRb.h5a(q);}).catch(function(q){n.qa.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var n;n=this;!1;k=this.B1a.DWb(k);return this.mQb.bf(this.qa,k).then(function(){return {W:!0};}).catch(function(p){n.qa.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=r.__decorate([g.O(),r.__param(0,g.l(m.fCa)),r.__param(1,g.l(d.RCa)),r.__param(2,g.l(l.Ab)),r.__param(3,g.l(f.uCa)),r.__param(4,g.l(a.daa))],h);b.vza=h;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u;function c(w){return function(){return w.eb.get(g.MCa).Wa();};}Object.defineProperty(b,"__esModule",{value:!0});b.TF=void 0;r=a(1);g=a(183);l=a(213);m=a(269);d=a(475);f=a(1103);h=a(1104);k=a(476);n=a(1105);p=a(477);q=a(1106);t=a(270);u=a(1107);b.TF=new r.Qc(function(w){w(k.vDa).to(n.uDa).Z();w(l.faa).to(m.KCa).Z();w(d.kCa).to(f.jCa).Z();w(g.MCa).to(h.LCa).Z();w(g.lY).TV(c);w(p.qCa).to(q.pCa).Z().qW();w(t.OCa).to(u.NCa).Z();w(t.HCa).to(u.GCa).Z();w(t.JCa).to(u.ICa).Z();});},function(r,b,a){var m,d,f,h,k,n,p,q,t,u;function c(){}function g(){}function l(w,v,x,y,z){var B;B=this;this.is=w;this.Sm=v;this.config=x;this.DA=y;this.VMb=z;this.yv=function(){return new c().encode({version:B.version,data:B.TF});};this.QXb=function(A){A=B.upgrade(A);B.VMb.validate(A);return A;};this.upgrade=function(A){var E;if(B.is.nn(A))return B.TXb(A);E=A.version;if(void 0 != E && B.is.Sh(E) && 1 == E)return B.UXb(A);E=A.version;if(void 0 != E && B.is.Sh(E) && 2 == E)return new c().decode(A);if(A.version && B.is.Sh(A.version))throw new k.Ec(f.J.nz,f.K.zua,void 0,void 0,void 0,"Version number is not supported. Version: " + A.version,void 0,A);throw new k.Ec(f.J.nz,f.K.iz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,A);};this.fr=new n.Z9(2,this.config().F_a,"" !== this.config().F_a && 0 < this.config().GNb,this.Sm,this.yv);}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;r=a(0);m=a(1);d=a(13);f=a(2);h=a(25);k=a(41);n=a(298);p=a(78);q=a(86);t=a(269);a=a(270);l.prototype.yPb=function(){return this.fr.load(this.QXb).catch(function(w){throw new k.Ec(f.J.nz,w.ka || w.$b,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};l.prototype.$kb=function(w){return this.fr.add(w);};l.prototype.i1a=function(w){return this.fr.remove(w,function(v,x){return v.ca === x.ca;});};l.prototype.ysa=function(w){return this.fr.update(w,function(v,x){return v.ca === x.ca;});};l.prototype.toString=function(){return JSON.stringify(this.yv(),null,"  ");};l.prototype.$5a=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.DA().Xh:"";};l.prototype.Bsa=function(w){return w.map(function(v){return {Ld:v.downloadableId,duration:v.duration};});};l.prototype.a6a=function(w){var v;return w?{total:w.playTimes.total,LG:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,audio:this.Bsa(w.playTimes.audio || []),video:this.Bsa(w.playTimes.video || []),text:this.Bsa(w.playTimes.timedtext || [])}:{total:0,LG:0,audio:[],video:[],text:[]};};l.prototype.TXb=function(w){var v,x,y;v=this;w=JSON.parse(w);x={type:"online",href:this.$5a(w.playbackContextId),ca:w.xid?w.xid.toString():"",H:w.movieId,position:w.position,iR:w.timestamp,lV:w.playback?1E3 * w.playback.startEpoch:-1,DL:w.mediaId,yU:this.a6a(w.playback),trackId:"",Zn:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.Sm.create().then(function(z){z.save(v.config().MR,y,!1);});if("" === x.href || "" === x.ca)throw new k.Ec(f.J.nz,f.K.iz);return {version:2,data:[x]};};l.prototype.UXb=function(w){var v;v=this;if(!w.playdata || !this.is.Qw(w.playdata))throw new k.Ec(f.J.nz,f.K.iz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:v.$5a(y.playbackContextId),ca:y.xid?y.xid.toString():"",H:y.movieId,position:y.position,iR:y.timestamp,lV:y.playback?1E3 * y.playback.startEpoch:-1,DL:y.mediaId,yU:v.a6a(y.playback),trackId:"",Zn:{},profileId:y.profileId};});})(w.playdata)};};Ua.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.fr.version;}},TF:{configurable:!0,enumerable:!0,get:function(){return this.fr.qu;}}});u=l;u=r.__decorate([m.O(),r.__param(0,m.l(h.xf)),r.__param(1,m.l(p.fz)),r.__param(2,m.l(d.Uc)),r.__param(3,m.l(q.Ov)),r.__param(4,m.l(a.JCa))],u);b.jCa=u;g.prototype.encode=function(w){var v;v=new t.kY();return w.map(v.encode);};g.prototype.decode=function(w){var v;v=new t.kY();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new g().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new g().decode(w.data)};};},function(r,b,a){var m,d,f,h,k,n,p,q,t,u,w,v,x,y;function c(z,B,A,E,D,F,C,G){this.config=z;this.Qa=A;this.Cv=E;this.Qs=D;this.J5=F;this.tj=C;this.nF=Promise.resolve();this.closed=!1;this.log=B.sb("PlaydataServices");this.SF=[];this.active=new Set();this.yRb=new g(z,G);}function g(z,B){this.config=z;this.sa=B;}function l(z,B,A,E,D,F){this.log=z;this.Qa=B;this.bi=A;this.Qs=E;this.Cv=D;this.xNb=F;this.zQa=this.Qo=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=b.pdb=void 0;r=a(0);m=a(1);d=a(4);f=a(7);h=a(44);k=a(213);n=a(475);p=a(15);q=a(476);t=a(2);u=a(269);w=a(477);v=a(119);x=a(38);a=a(118);l.prototype.N4=function(z,B){var E;function A(){var D;D=E.Qs.create(E.bi);E.Cv.ysa(D).catch(function(F){var C;C=E.zQa?f.Qi.dba:f.Qi.jf;E.zQa=!0;E.log.write(C,"Unable to save playdata changes to IDB",F);});}E=this;this.log.trace("Adding initial playdata",B);this.Cv.$kb(B).then(function(){E.log.trace("Scheduling monitor",{interval:z});E.cr=E.Qa.G6(z,A);}).catch(function(D){E.log.error("Unable to add playdata",{error:D,playdata:new u.kY().encode(B)});E.cr=E.Qa.G6(z,A);});};l.prototype.stop=function(z){var B,A;B=this;if(this.Qo)return Promise.resolve();this.cr && this.cr.cancel();A=this.Qs.create(this.bi);return this.Cv.ysa(A).catch(function(E){B.log.error("Unable to update playdata changes during stop",E);}).then(function(){if(z){if(B.bi.background)return (B.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());B.log.trace("Sending final playdata to the server",A);return B.xNb.v2a(A);}B.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(z)return (B.log.trace("Removing playdata from the persisted store",A),B.Cv.i1a(A));B.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){B.log.info("Successfully stopped the playback",A.H);}).catch(function(E){B.log.error("Unable to remove playdata changes",E);throw E;});};l.prototype.cancel=function(){this.Qo=!0;this.cr && this.cr.cancel();this.Cv.ysa(this.Qs.create(this.bi));};Ua.Object.defineProperties(g.prototype,{kob:{configurable:!0,enumerable:!0,get:function(){var z;z=this.sa.Ne;return !this.nF || 0 <= z.Sa(this.nF).Jk(this.config.gWa)?(this.nF=z,!0):!1;}}});b.pdb=g;c.prototype.Wa=function(){var z;z=this;this.fB || (this.log.trace("Starting playdata services"),this.fB=this.Cv.yPb().then(function(){!1;return z;}).catch(function(B){z.log.error("Unable to read the playdata, it will be deleted and not sent to the server",B);return z;}));return this.fB;};c.prototype.close=function(){this.closed=!0;this.SF.forEach(function(z){z.N4.cancel();});};c.prototype.send=function(z){var B;if(this.closed)return Promise.resolve();B=this.config;return B.iM && B.yqa?this.nSb(z):Promise.resolve();};c.prototype.$B=function(z){this.closed || this.vUb(z);};c.prototype.S3a=function(z){var B,A,E;B=this;if(this.closed)return Promise.resolve();A=this.Qs.create(z);this.active.delete(A.ca);z=Z(v.Os(function(D){return D.key === A.ca;},this.SF));E=z.next().value;this.SF=z.next().value;return Promise.all(E.map(function(D){D.stopped=!0;return D.N4.stop(B.config.yqa);})).then(function(){});};c.prototype.rZa=function(z){var B,A;B=this;A=z.ha;this.I3a(A);this.Bqa(A,z.sR).catch(function(E){B.log.error("Start command failed",{playdata:E.TF,error:E.ME});});this.tUb(z);};c.prototype.vUb=function(z){var B;B=this;z.addEventListener(p.T.Oq,function(A){var E;if(void 0 !== A.rM){E=z.wm(A.rM);B.S3a(E);A.A3 || new Promise(function(D){var F;if(z.Ss.value)D();else {F=function(C){C.newValue && (D(),z.Ss.removeListener(F));};z.Ss.addListener(F);}}).then(function(){return B.rZa(z);});}});z.addEventListener(p.T.Ps,function(){B.rZa(z);});z.background || z.addEventListener(p.T.tL,function(A){A=z.wm(A.H);B.I3a(A);});z.addEventListener(p.T.Tf,function(){B.IUb();});z.addEventListener(p.T.p6a,function(){B.tSb(z.ha).catch(function(A){(A=A.voa) && z.sE(A);});});z.Oc.addListener(function(){z.Va.Vga?B.log.trace("stickiness is disabled for timedtext"):B.u2a(z.ha);});z.Yc.addListener(function(){z.Va.Vga?B.log.trace("stickiness is disabled for audio"):B.u2a(z.ha).catch(function(A){(A=A.voa) && z.sE(A);});});};c.prototype.I3a=function(z){var B,A;z.zd("pdb");if(this.config.moa.AFb()){B=this.Qs.create(z);A=B.ca;this.SF.some(function(E){return E.key === A;})?this.log.trace("Already collecting online playdata, ignoring",B):(this.log.info("Starting to collect online playdata",B),this.active.add(A),this.SF.push({key:A,N4:this.NAb(z,B),vv:!1,stopped:!1}));}};c.prototype.nSb=function(z){var B,A,E,D;B=this;A=this.Cv.TF.filter(function(F){return !B.active.has(F.ca);});E=void 0;D=void 0;z && Infinity === z?E=A:(A=Z(v.Os(function(F){return F.H === z;},A)),E=A.next().value,D=A.next().value);D && 0 < D.length && this.Qa.yj(this.config.r2a,function(){B.t2a(D);});return E && 0 !== E.length?this.t2a(E):Promise.resolve();};c.prototype.t2a=function(z){var A;function B(E){return A.J5.v2a(E).then(function(){return A.zQb(E);});}A=this;return z.reduce(function(E,D){return E.then(function(){return B(D);});},Promise.resolve());};c.prototype.zQb=function(z){var B;B=this;return this.Cv.i1a(z).then(function(){}).catch(function(A){B.log.error("Unble to complete the stop lifecycle event",A);throw A;});};c.prototype.NAb=function(z,B){z=new l(this.log,this.Qa,z,this.Qs,this.Cv,this.J5);z.N4(this.config.moa,B);return z;};c.prototype.Bqa=function(z,B){var A,E;A=this;E=this.Qs.ksb(z,B);return this.J5.Bqa(z,E).then(function(){!1;A.SF.filter(function(D){return D.key === z.ca.toString();}).forEach(function(D){D.vv=!0;});}).catch(function(D){throw {TF:E,ME:D};});};c.prototype.tSb=function(z){return this.yRb.kob?this.kV(w.caa.oT,z,t.J.f$):Promise.resolve();};c.prototype.u2a=function(z){return this.kV(w.caa.splice,z,t.J.MEa);};c.prototype.kV=function(z,B,A){var D;function E(F){var C;C=D.SF.filter(function(G){return G.key === F.ca.toString();});return 0 === C.length?!0:C.reduce(function(G,H){return G || H.stopped || !H.vv;},!1);}D=this;return E(B)?this.nF:this.nF=this.nF.catch(function(){return Promise.resolve();}).then(function(){var F;if(E(B))return Promise.resolve();!1;F=D.Qs.create(B);return D.J5.kV(z,B,F);}).then(function(F){!1;return F;}).catch(function(F){var C;D.log.error("Failed to send event",{eventKey:z,xid:B.ca,error:F});F.gj?C=D.tj(A,F):F.Xu === t.TX.bba && (C=D.tj(A,F));throw {ME:F,voa:C};});};c.prototype.tUb=function(z){this.MTb(z) && this.jra(this.uAb(z.ha),z);};c.prototype.jra=function(z,B){var A;A=this;!1;this.wfa();this.yla=this.Qa.yj(z,function(){A.wfa();A.kV(w.caa.oT,B.ha,t.J.f$).then(function(){A.jra(z,B);}).catch(function(E){var D;D=E.ME;(E=E.voa) && B.sE(E);D.Xu === t.TX.bba && A.jra(z,B);});});};c.prototype.IUb=function(){this.wfa();};c.prototype.MTb=function(z){return z.state.value == p.yb.Fd;};c.prototype.wfa=function(){this.yla && (this.yla.cancel(),this.yla=void 0);};c.prototype.uAb=function(z){return z.Va.hka?d.Xb(z.Va.hka):this.config.fWa;};y=c;y=r.__decorate([m.O(),r.__param(0,m.l(q.vDa)),r.__param(1,m.l(f.Ab)),r.__param(2,m.l(h.Ui)),r.__param(3,m.l(n.kCa)),r.__param(4,m.l(k.faa)),r.__param(5,m.l(w.qCa)),r.__param(6,m.l(a.RH)),r.__param(7,m.l(x.hi))],y);b.LCa=y;},function(r,b,a){var g,l,m,d,f,h;function c(k,n){k=l.Ye.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;r=a(0);g=a(1);l=a(43);m=a(35);d=a(42);f=a(4);a=a(36);ja(c,l.Ye);Ua.Object.defineProperties(c.prototype,{iM:{configurable:!0,enumerable:!0,get:function(){return this.config.xu?"unsentplaydatatest":"unsentplaydata";}},yqa:{configurable:!0,enumerable:!0,get:function(){return !0;}},r2a:{configurable:!0,enumerable:!0,get:function(){return f.Xb(1E4);}},moa:{configurable:!0,enumerable:!0,get:function(){return f.Xb(4E3);}},fWa:{configurable:!0,enumerable:!0,get:function(){return f.L4(1);}},gWa:{configurable:!0,enumerable:!0,get:function(){return f.kh(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"iM",null);r.__decorate([d.config(d.jd,"sendPersistedPlaydata")],h.prototype,"yqa",null);r.__decorate([d.config(d.bk,"playdataSendDelayMilliseconds")],h.prototype,"r2a",null);r.__decorate([d.config(d.bk,"playdataPersistIntervalMilliseconds")],h.prototype,"moa",null);r.__decorate([d.config(d.bk,"heartbeatCooldown")],h.prototype,"fWa",null);r.__decorate([d.config(d.bk,"keepAliveWindow")],h.prototype,"gWa",null);h=r.__decorate([g.O(),r.__param(0,g.l(m.$l)),r.__param(1,g.l(a.Wl))],h);b.uDa=h;},function(r,b,a){var g,l,m;function c(d,f){this.lR=f;this.log=d.sb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;r=a(0);g=a(80);l=a(7);a=a(1);c.prototype.Bqa=function(d,f){var h;h=this.lR(g.lo.start);return this.sQa(h,d,f);};c.prototype.v2a=function(d){var f;f=this;return this.lR(g.lo.stop).bf(this.log,d).then(function(){}).catch(function(h){f.log.error("PBO stop event failed",h);throw h;});};c.prototype.kV=function(d,f,h){d=this.lR(d);return this.sQa(d,f,h);};c.prototype.sQa=function(d,f,h){var k;k=this;return d.ip(this.log,f.la.oj,h).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([a.O(),r.__param(0,a.l(l.Ab)),r.__param(1,a.l(g.G9))],m);b.pCa=m;},function(r,b,a){var m,d,f,h;function c(){}function g(k){this.UMb=k;}function l(k){this.WMb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=b.ICa=b.GCa=void 0;r=a(0);m=a(1);d=a(270);f=a(41);h=a(2);l.prototype.validate=function(k){k.map(this.WMb.validate);};a=l;a=r.__decorate([m.O(),r.__param(0,m.l(d.OCa))],a);b.GCa=a;g.prototype.validate=function(k){this.UMb.validate(k.data);};a=g;a=r.__decorate([m.O(),r.__param(0,m.l(d.HCa))],a);b.ICa=a;c.prototype.validate=function(k){var n;k.ca && "string" === typeof k.ca?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.Ec(h.J.nz,h.K.iz,void 0,void 0,void 0,n,void 0,k.ca);};r=r.__decorate([m.O()],c);b.NCa=r;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p){return function(){return new Promise(function(q,t){var u;u=p.eb.get(l.Awa);u.Wa().then(function(){q(u);}).catch(function(w){t(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.BPa=void 0;r=a(1);g=a(478);a(1109);l=a(480);m=a(1111);d=a(94);f=a(1112);h=a(481);k=a(1113);n=a(1114);a(1115);b.BPa=new r.Qc(function(p){p(h.Eza).to(k.Dza).Z();p(g.xwa).to(n.Fza);p(d.QN).to(f.vta).Z();p(l.Awa).to(m.ywa).Z();p(l.zwa).TV(c);});},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q){var t;t=f.eP.call(this,n,p,"idb") || this;t.Sm=q;t.T1a=function(u){t.Stb(u.target.id).then(function(){return t.refresh();});};t.oLb=function(){t.ipb().then(function(){return t.refresh();});};t.ILb=function(){t.refresh();};t.rLb=function(){t.kqb();};return t;}Object.defineProperty(b,"__esModule",{value:!0});b.gbb=void 0;r=a(0);g=a(1);l=a(26);m=a(25);d=a(167);f=a(479);h=a(129);k=a(271);ja(c,f.eP);c.prototype.Wa=function(){var n;n=this;if(this.zm)return Promise.resolve();lb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == h.Ft.eab && n.toggle();});return this.Sm.create().then(function(p){n.storage=p;n.zm=!0;});};c.prototype.Yj=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.wja=function(n,p,q){var t;n=n.toString();t='<font color="#C41A16">"' + p + '"</font>';q=this.xMa.Pj({name:p,data:q});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + t + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + q + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + p + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.Hja=function(n){var p,q;p=this;q='<table class="' + this.prefix + '-display-table" width="100%">' + this.Yj();Object.entries(n).forEach(function(t,u){var w;w=Z(t);t=w.next().value;w=w.next().value;q+=p.wja(u,t,w);});return q + "</table>";};c.prototype.URa=function(){var n,p,q;n=this.Dd.createElement("button",f.jH,"Clear",{"class":this.prefix + "-display-btn"});p=this.Dd.createElement("button",f.jH,"Refresh",{"class":this.prefix + "-display-btn"});q=this.Dd.createElement("button",f.jH,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.oLb;p.onclick=this.ILb;q.onclick=this.rLb;return [n,p,q];};c.prototype.mHb=function(){var n;n=this;return this.storage.loadAll().then(function(p){n.MUa=p.reduce(function(q,t){q[t.key]=t.value;return q;},{});return n.MUa;});};c.prototype.Stb=function(n){return this.storage.remove(n);};c.prototype.ipb=function(){return this.storage.removeAll();};c.prototype.Z0a=function(){var n;n=this;return this.mHb().then(function(p){return n.Hja(p);});};c.prototype.kqb=function(){var n;n=JSON.stringify(this.MUa,null,4);k.OW.Wfa(n);};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.yf)),r.__param(1,g.l(m.xf)),r.__param(2,g.l(d.a$))],a);b.gbb=a;},function(r,b){function a(c){this.is=c;this.fGb="#881391";this.YUb="#C41A16";this.nnb=this.PKb="#1C00CF";this.IEb="#D79BDB";this.gXb=this.KKb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.qGa=void 0;a.prototype.Pj=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.RA=function(c,g){return '<font color="' + ((void 0 === g?0:g)?this.IEb:this.fGb) + '">' + c + ": </font>";};a.prototype.zRa=function(c,g){g=g || "";c='<li><a href="#">' + this.RA(c) + "Array[" + g.length + "]</a>";c+="<ul>";for(var l=0;l < g.length;++l){c+=this.getValue(l.toString(),g[l]);}c+=this.getValue("length",g.length,!0);return c + "</ul></li>";};a.prototype.bTa=function(c,g){var l,m;l=this;if(g instanceof CryptoKey)return this.szb(c,g);m="";m+='<li><a href="#">' + ("~~NONAME~~" !== c?this.RA(c):"") + "Object</a>";m+="<ul>";Object.entries(g).forEach(function(d){var f;f=Z(d);d=f.next().value;f=f.next().value;m=d.startsWith("$")?m + l.getValue(d,"REMOVED"):m + l.getValue(d,f);});m+="</ul>";return m+="</li>";};a.prototype.szb=function(c,g){c='<li><a href="#">' + this.RA(c) + "CryptoKey</a>";c=c + "<ul>" + this.bTa("algorithm",g.algorithm);c+=this.ERa("extractable",g.extractable);c+=this.GTa("type",g.type);c+=this.zRa("usages",g.usages);return c + "</ul></li>";};a.prototype.aBb=function(c,g,l){return '<li><a href="#">' + this.RA(c,void 0 === l?!1:l) + ('<font color="' + this.PKb + '">' + g.toString() + "</font></a></li>");};a.prototype.ERa=function(c,g,l){return '<li><a href="#">' + this.RA(c,void 0 === l?!1:l) + ('<font color="' + this.nnb + '">' + g.toString() + "</font></a></li>");};a.prototype.GTa=function(c,g,l){128 < g.length && (g=g.substr(0,128) + "...");return '<li><a href="#">' + this.RA(c,void 0 === l?!1:l) + ('<font color="' + this.YUb + '">"' + g + '"</font></a></li>');};a.prototype.$Ab=function(c){return '<li><a href="#">' + this.RA(c) + ('<font color="' + this.KKb + '">null</font></a></li>');};a.prototype.qCb=function(c,g){g="undefined" === typeof g?"":g.toString();255 < g.length && (g=g.substr(0,255) + "...");return '<li><a href="#">' + this.RA(c) + ('<font color="' + this.gXb + '">' + g + "</font></a></li>");};a.prototype.getValue=function(c,g,l){l=void 0 === l?!1:l;return null === g?"" + this.$Ab(c):this.is.Qw(g)?"" + this.zRa(c,g):this.is.oJ(g)?"" + this.bTa(c,g):this.is.Io(g)?"" + this.GTa(c,g,l):this.is.Sh(g)?"" + this.aBb(c,g,l):this.is.sQ(g)?"" + this.ERa(c,g,l):"" + this.qCb(c,g);};b.qGa=a;},function(r,b,a){var g,l;function c(m){this.Fub=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;r=a(0);g=a(1);a=a(478);c.prototype.Wa=function(){var m;m=this;this.fB || (this.fB=new Promise(function(d,f){var h;h=[];m.Fub.forEach(function(k){h.push(k.Wa());});Promise.all(h).then(function(){d();}).catch(function(k){f(k);});}));return this.fB;};l=c;l=r.__decorate([g.O(),r.__param(0,g.DF(a.xwa))],l);b.ywa=l;},function(r,b,a){var g,l;function c(){this.rqa="";this.F6a=[[],[]];this.Y=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.vta=void 0;r=a(0);g=a(1);a(4);l=a(94);c.prototype.downloadRequest=function(m){var d;"" === this.rqa && (this.rqa=m.oa);if(!m.Ac){d=this.jWb(m);this.Y[m.mediaType].push(d);this.F6a[m.mediaType].forEach(function(f){f.z4b(d);});}};c.prototype.jWb=function(m){return {id:m.Fh(),oa:m.oa,mediaType:m.mediaType,Uh:m.Uh,startTime:m.zy,endTime:m.jv,offset:m.Ys,zJ:m.zJ,yJ:m.yJ,duration:m.rx,bitrate:m.bitrate,state:l.M8.uPa,Ss:!1,N6b:!1,nUa:!1,F5b:l.L8.waiting};};c.prototype.update=function(m){this.F6a[m.mediaType].forEach(function(d){d.N9b(m);});};Ua.Object.defineProperties(c.prototype,{oa:{configurable:!0,enumerable:!0,get:function(){return this.rqa;}}});a=r.__decorate([g.O()],c);b.vta=a;},function(r,b,a){var g,l,m,d,f;function c(h,k){h=m.Ye.call(this,h,"LogDisplayConfigImpl") || this;h.Wj=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Dza=void 0;r=a(0);g=a(1);l=a(42);m=a(43);d=a(35);a=a(131);ja(c,m.Ye);Ua.Object.defineProperties(c.prototype,{UU:{configurable:!0,enumerable:!0,get:function(){return !0;}},uL:{configurable:!0,enumerable:!0,get:function(){return this.Wj.uL;}},MWa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([l.config(l.jd,"renderDomDiagnostics")],f.prototype,"UU",null);r.__decorate([l.config(l.s3,"logDisplayMaxEntryCount")],f.prototype,"uL",null);r.__decorate([l.config(l.s3,"logDisplayAutoshowLevel")],f.prototype,"MWa",null);f=r.__decorate([g.O(),r.__param(0,g.l(d.$l)),r.__param(1,g.l(a.UO))],f);b.Dza=f;},function(r,b,a){var m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B;function c(A,E,D,F,C,G,H,J,I,M){var N;N=this;this.sa=A;this.Cf=E;this.Dd=D;this.Qa=F;this.Rm=C;this.config=G;this.DA=H;this.Kra=J;this.jtb=I;this.Sm=M;this.NVb=function(){N.bW.dd(function(){N.update();});};this.clear=function(){N.entries=[];N.update();};this.fYa=function(){N.oe.kL=!N.oe.kL;N.pB && N.sB && (N.oe.kL?(N.pB.style.display="inline-block",N.sB.style.display="none"):(N.sB.style.display="inline-block",N.pB.style.display="none"));N.rG(!1);};this.GHb=function(K){var O;N.entries.push(K);O=N.config.uL;0 <= O && N.entries.length > O && N.entries.shift();void 0 === N.oe.cx[K.tn] && (N.oe.cx[K.tn]=!0,N.rG(!1));N.oe.isVisible && !N.A4a?N.NVb():N.bW.dd();};this.Nub=function(){l.download("all",N.entries.map(function(K){return K.G7(!1,!1);})).catch(function(K){console.error("Unable to download all logs to the file",K);});};this.zm=!1;this.oe={isVisible:!1,kL:!0,f1:!0,fma:u.Qi.W9,cx:{}};this.bW=this.Kra(p.kh(1));this.exb=this.jtb(p.Xb(250));this.entries=[];!1;!1;}function g(A){var E;this.elements=[];E=document.createElementNS(g.JV,"svg");E.setAttribute("viewBox",A);this.elements.push(E);}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fza=void 0;r=a(0);m=a(1);d=a(26);f=a(105);h=a(337);k=a(44);n=a(38);p=a(4);q=a(18);t=a(86);u=a(7);w=a(106);v=a(272);x=a(481);y=a(78);z=a(129);B=a(271);l.download=function(A,E){return l.Yzb(A).then(function(D){return l.eCb(D,E.join("\r\n")).then(function(F){return l.Lub(F.filename,F.text);});});};l.Yzb=function(A){return new Promise(function(E,D){var F,C,G,H,J,I,M;try{F=new Date();C=F.getDate().toString();G=(F.getMonth() + 1).toString();H=F.getFullYear().toString();J=F.getHours().toString();I=F.getMinutes().toString();M=F.getSeconds().toString();1 === C.length && (C="0" + C);1 === G.length && (G="0" + G);1 === J.length && (J="0" + J);1 === I.length && (I="0" + I);1 === M.length && (M="0" + M);E(H + G + C + J + I + M + "." + A + ".log");}catch(N){D(N);}});};l.eCb=function(A,E){return new Promise(function(D,F){try{D({filename:A,text:URL.createObjectURL(new Blob([E],{type:"text/plain"}))});}catch(C){F(C);}});};l.Lub=function(A,E){var D;try{D=document.createElement("a");D.setAttribute("href",E);D.setAttribute("download",A);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};g.prototype.iN=function(){var A;A=document.createElementNS(g.JV,"g");A.setAttribute("stroke","none");A.setAttribute("stroke-width",(1).toString());A.setAttribute("fill","none");A.setAttribute("fill-rule","evenodd");A.setAttribute("stroke-linecap","round");this.addElement(A);return this;};g.prototype.jN=function(A,E,D){var F;F=document.createElementNS(g.JV,"path");F.setAttribute("d",A);E && F.setAttribute("fill",E);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};g.prototype.CV=function(A,E,D,F,C){var G;C=void 0 === C?"#000000":C;G=document.createElementNS(g.JV,"rect");G.setAttribute("x",A.toString());G.setAttribute("y",E.toString());G.setAttribute("height",D.toString());G.setAttribute("width",F.toString());C && G.setAttribute("fill",C);this.addElement(G);return this;};g.prototype.xUb=function(){var A;A=document.createElementNS(g.JV,"polygon");A.setAttribute("points","0 0 24 0 24 24 0 24");A.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(A);return this;};g.prototype.end=function(){this.elements.pop();return this;};g.prototype.Pj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};g.prototype.addElement=function(A){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(A);this.elements.push(A);};Ua.Object.defineProperties(g,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},DE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});g.JV="http://www.w3.org/2000/svg";c.prototype.Wa=function(){var A;A=this;this.fB || (this.fB=new Promise(function(E){lb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Ft.kbb?A.toggle():D.keyCode == z.Ft.E && B.OW.Wfa(A.DA().Xh));});A.Rm.m6(v.p$.B9a,A.GHb);E();}));return this.fB;};c.prototype.show=function(){document.body && (this.element || (this.Xrb(),this.zm=!0),!this.oe.isVisible && this.element && (document.body.appendChild(this.element),this.oe.isVisible=!0,this.update(!0)));};c.prototype.Hq=function(){this.zm && this.oe.isVisible && this.element && (document.body.removeChild(this.element),this.oe.isVisible=!1);};c.prototype.toggle=function(){this.oe.isVisible?this.Hq():this.show();this.rG(!1);};c.prototype.Xrb=function(){var A,E;try{A=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});E=this.createElement("style");E.type="text/css";E.appendChild(document.createTextNode("button:focus { outline: none; }"));A.appendChild(E);A.appendChild(this.co=this.Osb());A.appendChild(this.Psb());A.appendChild(this.Qrb());this.element=A;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.Osb=function(){var A,E;A=this;E=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");E.setAttribute("wrap","off");E.setAttribute("readonly","readonly");E.addEventListener("focus",function(){A.A4a=!0;A.update();A.co && (A.co.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});E.addEventListener("blur",function(){A.A4a=!1;A.update();A.co && (A.co.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return E;};c.prototype.Psb=function(){var A;A=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");A.appendChild(this.rsb());A.appendChild(this.isb());A.appendChild(this.csb());A.appendChild(this.Rsb());A.appendChild(this.Urb());A.appendChild(this.ysb());A.appendChild(this.wsb());A.appendChild(this.esb());A.appendChild(this.Vrb());return A;};c.prototype.Qrb=function(){var A,E,D,F,C,G;A=this;E=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.Du(22,160,1,2),"<option>Select categories</option>");C=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");E.appendChild(D);E.appendChild(C);D.appendChild(F);D.addEventListener("mousedown",function(H){H.preventDefault();});G=!1;D.addEventListener("click",function(){G?C.style.display="none":(C.innerHTML="",["all","none"].concat(Object.keys(A.oe.cx).sort()).forEach(function(H){C.appendChild(A.Rrb(H,D));}),C.style.display="block");G=!G;});return E;};c.prototype.Rrb=function(A,E){var D,F,C;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=A;C=this.createElement("input","margin:1px");C.type="checkbox";C.id=A;C.checked=this.oe.cx[A];C.addEventListener("click",function(){"all" === A || "none" === A?(Object.keys(D.oe.cx).forEach(function(G){D.oe.cx[G]="all" === A;}),E.click()):D.oe.cx[A]=!D.oe.cx[A];D.rG(!0);});F.appendChild(C);F.insertAdjacentText("beforeend",18 < A.length?A.slice(0,15) + "...":A);return F;};c.prototype.rsb=function(){var A,E;A=this;E=this.createElement("select",this.Du(22,NaN,1,2),'<option value="' + u.Qi.jf + '">Error</option><option value="' + (u.Qi.dba + '">Warn</option><option value="') + (u.Qi.W9 + '">Info</option><option value="') + (u.Qi.RFa + '">Trace</option><option value="') + (u.Qi.ma + '">Debug</option>'));E.value=this.oe.fma.toString();E.addEventListener("change",function(D){A.oe.fma=parseInt(D.target.value);A.rG(!0);},!1);return E;};c.prototype.isb=function(){var E,D;function A(F){return E.exb.dd(function(){var C;C=F.target.value;E.oe.filter=C?new RegExp(C):void 0;E.rG(!0);});}E=this;D=this.createElement("input",this.Du(14,150,1,2));D.value=this.oe.filter?this.oe.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",A,!1);D.addEventListener("change",A,!1);return D;};c.prototype.csb=function(){var A,E,D,F;A=this;E=this.createElement("div",this.Du(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.oe.f1;D.addEventListener("change",function(C){A.oe.f1=C.target.checked;A.rG(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";E.appendChild(D);E.appendChild(F);return E;};c.prototype.Rsb=function(){var A,E,D;A=this;E=this.createElement("button",this.Du());D=new g("0 0 24 24").iN().xUb().end().jN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",g.DE,"nonzero").end().end().Pj();E.appendChild(D);E.addEventListener("click",function(){A.update();},!1);E.setAttribute("title","Refresh the log console");return E;};c.prototype.Urb=function(){var A,E;A=this.createElement("button",this.Du());E=new g("0 0 24 24").iN().CV(0,0,24,24,g.background).end().jN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",g.DE).end().end().Pj();A.appendChild(E);A.addEventListener("click",this.clear,!1);A.setAttribute("title","Remove all log messages");return A;};c.prototype.ysb=function(){var A;this.sB=this.createElement("button",this.Du());this.sB.style.display=this.oe.kL?"none":"inline-block";A=new g("0 0 24 24").iN().CV(0,0,24,24,g.background).end().jN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",g.DE,"nonzero").end().end().Pj();this.sB.addEventListener("click",this.fYa,!1);this.sB.appendChild(A);this.sB.setAttribute("title","Shrink the log console");return this.sB;};c.prototype.wsb=function(){var A;this.pB=this.createElement("button",this.Du());this.pB.style.display=this.oe.kL?"inline-block":"none";A=new g("0 0 24 24").iN().CV(4,4,16,16,g.background).end().jN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",g.DE,"nonzero").end().end().Pj();this.pB.addEventListener("click",this.fYa,!1);this.pB.appendChild(A);this.pB.setAttribute("title","Expand the log console");return this.pB;};c.prototype.esb=function(){var A,E;A=this.createElement("button",this.Du());E=new g("0 0 26 26").iN().CV(0,0,24,24,g.background).end().jN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",g.DE,"nonzero").end().end().Pj();A.appendChild(E);A.addEventListener("click",this.Nub,!1);A.setAttribute("title","Download all log messages");return A;};c.prototype.Vrb=function(){var A,E,D;A=this;E=this.createElement("button",this.Du());D=new g("0 0 24 24").iN().CV(0,0,24,24,g.background).end().jN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",g.DE,"nonzero").end().end().Pj();E.appendChild(D);E.addEventListener("click",function(){A.toggle();},!1);E.setAttribute("title","Close the log console");return E;};c.prototype.rG=function(A){var E;A=void 0 === A?!1:A;E=void 0 === E?!1:E;!1;A && this.update(E);};c.prototype.update=function(A){var E;E=this;A=void 0 === A?!1:A;this.element && this.config.UU && Promise.resolve(this.Dnb() + this.Zzb().join("\r\n")).then(function(D){E.element && E.co && (E.co.value=D,E.element.style.cssText=E.oe.kL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",A && E.Qa.yj(p.nb,function(){E.co.scrollTop=E.co.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.Zzb=function(){var A,E;A=this;E=[];this.entries.forEach(function(D){(D.level || D.level) <= A.oe.fma && A.oe.cx[D.tn] && (D=D.G7(!A.oe.f1,!A.oe.f1),A.oe.filter && !A.oe.filter.test(D) || E.push(D));});return E;};c.prototype.Dnb=function(){var A;A=this.DA();return "Version: 6.0030.553.911 \n" + ((A?"Esn: " + A.Xh:"") + "\nJsSid: ") + (this.Cf.id + ", Epoch: " + this.sa.Ne.da(p.Xm) + ", Start: " + this.Cf.qF.da(p.Xm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(A,E,D,F){return this.Dd.createElement(A,E,D,F);};c.prototype.Du=function(A,E,D,F){A=void 0 === A?26:A;E=void 0 === E?26:E;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + g.DE + ";padding:3px;" + (isNaN(A)?"":"height:" + A + "px") + ";" + (isNaN(E)?"":"width:" + E + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.KUb="logDxDisplay";a=r.__decorate([m.O(),r.__param(0,m.l(n.hi)),r.__param(1,m.l(q.ud)),r.__param(2,m.l(d.yf)),r.__param(3,m.l(k.Ui)),r.__param(4,m.l(w.DH)),r.__param(5,m.l(x.Eza)),r.__param(6,m.l(t.Ov)),r.__param(7,m.l(f.ZH)),r.__param(8,m.l(h.Ova)),r.__param(9,m.l(y.fz))],a);b.Fza=a;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t){var u;u=h.eP.call(this,p,q,"network") || this;u.vga=t;u.g1=f.Sva.Pbb;u.qIb=30;u.ULb=function(w){u.g1=w.target.value;u.refresh();};u.nLb=function(){u.data={};u.refresh();};u.T1a=function(w){var v,x;v=Number(w.target.id);w=w.target.getAttribute("data-type");v=u.data[u.g1][v].value;x=JSON.stringify(v,null,4);"copy" === w?n.OW.Wfa(x):"log" === w && console.log(v);};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.gcb=void 0;r=a(0);g=a(1);l=a(26);m=a(25);d=a(93);f=a(180);h=a(479);k=a(129);n=a(271);ja(c,h.eP);c.prototype.Wa=function(){var p;p=this;if(this.zm)return Promise.resolve();lb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == k.Ft.Vbb && p.toggle();});this.data={};this.vga.addListener(f.v9.odb,function(q){var t;p.data[q.type] || (p.data[q.type]=[]);t=p.data[q.type];t.length === p.qIb && t.shift();t.push(q);q.type === p.g1 && p.refresh();});this.zm=!0;return Promise.resolve();};c.prototype.Yj=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.wja=function(p,q,t){var u;u=p.toString();q='<font color="#C41A16">"' + q + '"</font>';t=this.xMa.Pj(t);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + u + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + q + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + t + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.Hja=function(){for(var p='<table class="' + this.prefix + '-display-table" width="100%">' + this.Yj(),q=this.data[this.g1] || [],t=0;t < q.length;++t){p+=this.wja(t,q[t].name,q[t].value);}return p + "</table>";};c.prototype.URa=function(){var p;p=this.Dd.createElement("button",h.jH,"Clear",{"class":this.prefix + "-display-btn"});p.onclick=this.nLb;return [p,this.Qsb(),this.Hsb()];};c.prototype.Qsb=function(){var p;p=this.Dd.createElement("select",h.jH,Object.values(f.Sva).reduce(function(q,t){return q + ('<option value="' + t + '">' + t + "</option>");},""),{"class":this.prefix + "-display-select"});p.onchange=this.ULb;return p;};c.prototype.Hsb=function(){var p,q,t,u;p=this;q=this.Dd.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});q.checked=this.GU;q.onchange=function(){return p.rWb();};t=this.Dd.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});u=this.Dd.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});u.appendChild(q);u.appendChild(t);return u;};c.prototype.Z0a=function(){return Promise.resolve(this.Hja());};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.yf)),r.__param(1,g.l(m.xf)),r.__param(2,g.l(d.cX))],a);b.gcb=a;},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;r=a(1);c=a(482);g=a(454);l=a(453);m=a(1117);d=a(10);b.crypto=new r.Qc(function(f){f(l.yva).to(m.xva).Z();f(c.rBa).Mh(d.$v);f(g.zva).Mh(d.XX);});},function(r,b,a){var g,l;function c(m){this.hKb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.xva=void 0;r=a(0);g=a(482);a=a(1);c.prototype.$Ra=function(){var m;m=this.hKb.getDeviceId();return new Promise(function(d,f){m.oncomplete=function(){d(m.result);};m.onerror=function(){f(m.error);};});};l=c;l=r.__decorate([a.O(),r.__param(0,a.l(g.rBa))],l);b.xva=l;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Qd=void 0;r=a(1);c=a(1119);g=a(1120);l=a(1121);m=a(135);d=a(299);f=a(460);h=a(1122);k=a(1123);n=a(483);p=a(1124);b.Qd=new r.Qc(function(q){q(m.EY).to(c.KFa).Z();q(d.Baa).to(l.kEa).Z();q(f.GGa).to(g.FGa).Z();q(h.tcb).to(k.CBa).Z();q(n.WGa).to(p.VGa).Z();});},function(r,b,a){var g,l,m,d,f,h;function c(k,n){this.is=k;this.json=n;l.On(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;r=a(0);l=a(53);m=a(34);d=a(1);f=a(25);h=a(135);c.prototype.E0a=function(k){var n;n=this;return g.read(k,function(p){return parseInt(p);},function(p){return n.is.$da(p);});};c.prototype.dpa=function(k){var n;n=this;return g.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.sQ(p);});};c.prototype.Bp=function(k){var n;n=this;return g.read(k,function(p){return parseInt(p);},function(p){return n.is.DQ(p);});};c.prototype.vPb=function(k){var n;n=this;return g.read(k,function(p){return parseFloat(p);},function(p){return n.is.Sh(p);});};c.prototype.D0a=function(k,n){return g.read(k,function(p){return g.nxb(p,n);},function(p){return void 0 !== p;});};c.prototype.hpa=function(k,n){return g.read(k,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.F0a=function(k){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return g.read(k,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.oJ(q) && p(q);});}catch(q){return new h.oo();}};c.prototype.vj=function(k,n,p){var q,t;q=this;p=void 0 === p?1:p;k=k.trim();t=n instanceof Function?n:this.zsb(n,p);n=k.indexOf("[");p=k.lastIndexOf("]");if(0 != n || p != k.length - 1)return new h.oo();k=k.substring(n + 1,p);try{return g.GMb(k).map(function(u){u=t(q,g.yYb(u));if(u instanceof h.oo)throw u;return u;});}catch(u){return u instanceof h.oo?u:new h.oo();}};c.prototype.zsb=function(k,n){var p;p=this;n=void 0 === n?1:n;return function(q,t){q=g.cBb(k);return 1 < n?p.vj(t,k,n - 1):q(p,t);};};c.nxb=function(k,n){var q;for(var p in n){q=parseInt(p);if(n[q] == k)return q;}};c.read=function(k,n,p){k=n(k);return void 0 !== k && p(k)?k:new h.oo();};c.cBb=function(k){switch(k){case "int":return function(n,p){return n.E0a(p);};case "bool":return function(n,p){return n.dpa(p);};case "uint":return function(n,p){return n.Bp(p);};case "float":return function(n,p){return n.vPb(p);};case "string":return function(n,p){return n.hpa(p);};case "object":return function(n,p){return n.F0a(p);};}};c.GMb=function(k){var x;for(var n=[["[","]"]],p=[],q=0,t=0,u=0,w=[],v={};t < k.length;(v={NN:v.NN},++t)){v.NN=k.charAt(t);x=void 0;"," == v.NN && 0 == u?(p.push(k.substr(q,t - q)),q=t + 1):(x=n.find((function(y){return function(z){return z[0] == y.NN;};})(v)))?(++u,w.push(x)):0 < w.length && w[w.length - 1][1] == v.NN && (--u,w.pop());}if(q != t)p.push(k.substr(q,t - q));else if(q == t && 0 < q)throw new h.oo();return p;};c.yYb=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new h.oo();return k.substring(1,k.length - 1);}return k;};a=g=c;a=g=r.__decorate([d.O(),r.__param(0,d.l(f.xf)),r.__param(1,d.l(m.JC))],a);b.KFa=a;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;r=a(0);a=a(1);c.prototype.xRa=function(g){var l;l=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(m){return l.xRa(m);});};a=r.__decorate([a.O()],c);b.FGa=a;},function(r,b,a){var g,l,m,d;function c(f){this.location=f;l.On(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;r=a(0);l=a(53);m=a(34);a=a(1);c.tU=function(f){var h,n,p;h={};if(0 < f.length){f=f.split("&");for(var k=0;k < f.length;k++){n=f[k].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(g.$Ba,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(g.$Ba,"%20")):h[n.toLowerCase()]="";}}return h;};Ua.Object.defineProperties(c.prototype,{iPb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=g.tU(this.s0a);}},s0a:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.NU)return this.NU;this.NU=this.location.search.substr(1);f=this.NU.indexOf("#");0 <= f && (this.NU=this.s0a.substr(0,f));return this.NU;}}});d=g=c;d.$Ba=/[+]/g;d=g=r.__decorate([a.O(),r.__param(0,a.l(m.zza))],d);b.kEa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tcb="ObjectComparerSymbol";},function(r,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;r=a(0);g=a(1);l=a(190);c.prototype.compare=function(m,d){var f;f=[];this.Dfa(m,d,"",f);return f;};c.prototype.Dfa=function(m,d,f,h){var k;k=this;if(l.IC.Qw(m))l.IC.Qw(d) && m.length === d.length?m.forEach(function(q,t){k.Dfa(m[t],d[t],f + "[" + t + "]",h);}):h.push({a:m,b:d,path:f});else if(l.IC.oJ(m) && null != m){if(l.IC.oJ(d) && null != d){for(var n in m){this.Dfa(m[n],d[n],f + "." + n,h);}for(var p in d){(p in m) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:f + "." + p});}}else h.push({a:m,b:d,path:f});}else m !== d && h.push({a:m,b:d,path:f});};a=r.__decorate([g.O()],c);b.CBa=a;},function(r,b,a){var g,l,m,d,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VGa=void 0;r=a(0);g=a(1);l=a(10);m=a(32);d=a(273);f=a(6);c.prototype.ABb=function(){var h;h=lb.devicePixelRatio || 1;return {width:this.Qca.G_b || l.Lt.width * h,height:this.Qca.F_b || l.Lt.height * h};};Ua.Object.defineProperties(c.prototype,{Qca:{configurable:!0,enumerable:!0,get:function(){return f.fa.get(m.yz);}}});a=c;r.__decorate([d.uT],a.prototype,"Qca",null);a=r.__decorate([g.O()],a);b.VGa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});b.ed=void 0;r=a(1);c=a(484);g=a(1126);l=a(111);m=a(274);d=a(1127);f=a(1128);h=a(1130);k=a(1131);n=a(1132);p=a(485);q=a(487);t=a(112);u=a(276);w=a(1135);v=a(275);x=a(1136);b.ed=new r.Qc(function(y){y(c.dDa).to(g.cDa).Z();y(m.waa).to(d.bEa).Z();y(l.nD).to(f.OGa).Z();y(p.aEa).to(n.tAa).Z();y(p.$Da).to(k.uza).Z();y(p.ZDa).to(h.oza).Z();y(u.Mta).nWb(function(){return t.Fk.L_.Pm.Ga.ev;});y(u.Lta).to(w.Kta).Z();y(q.vaa).to(q.ODa);y(v.f9).to(x.Qua).Z();});},function(r,b,a){var g,l,m;function c(d,f){this.Xa=f;this.qa=d.sb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;r=a(0);g=a(1);l=a(7);a=a(25);c.prototype.eub=function(d){var f;f=this;try{return {direction:d.direction,e7b:d.layoutHasChanged,R8b:d.rowInteractionIndex,Pa:d.lolomos.map(function(h){return f.$tb(h);})};}catch(h){this.qa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.$tb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(h){return f.Ztb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,S8b:d.rowSegment};};c.prototype.Ztb=function(d){var f,h;f={cd:d.pts,property:d.property,aa:d.viewableId,index:d.index};h=d.preplay;this.Xa.Uf(h) && (f.U5=this.dub(h));d=d.params;this.Xa.Uf(d) && (f.xb=this.WOa(d));return f;};c.prototype.dub=function(d){var f;f={cd:d.pts,aa:d.viewableId,jM:d.pipelineNum,index:d.index};d=d.params;this.Xa.Uf(d) && (f.xb=this.WOa(d));return f;};c.prototype.WOa=function(d){return {sd:d.uiLabel,lk:d.trackingId,Zn:d.sessionParams};};c.prototype.cub=function(d){var f;f=this;try{return d.map(function(h){return f.aub(h);});}catch(h){this.qa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.aub=function(d){var f,h;h=d.params;this.Xa.Uf(h) && (f=this.bub(h));return {H:d.movieId,priority:d.priority,force:d.force,xb:f,sd:d.uiLabel,K9b:d.uiExpectedStartTime,J9b:d.uiExpectedEndTime,Lk:d.firstTimeAdded};};c.prototype.bub=function(d){var f,h;f=void 0;h=d.sessionParams;this.Xa.Uf(h) && (f=h);return {S_:this.Ytb(d.authParams),Zn:f,lk:d.trackingId,V:d.startPts,la:d.manifest,jj:d.isBranching};};c.prototype.Ytb=function(d){return {iNb:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(a.xf))],m);b.cDa=m;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q;function c(t,u,w,v){this.is=w;this.Cf=v;this.log=t.sb("TaskScheduler");this.Hb=new p.Ij();this.config=u();this.currentIteration=this.yR=0;this.EG=[];this.paused=!1;this.j7=[];this.BNa=[];this.AEb=this.config.oOb || q.append;this.addEventListener=this.Hb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;r=a(0);g=a(1);l=a(274);m=a(7);d=a(13);f=a(128);h=a(25);k=a(18);n=a(4);p=a(71);(function(t){t.prepend="prepend";t.append="append";t.ODb="ignore";})(q || (q={}));c.prototype.glb=function(t){this.log.trace("adding tasks, number of tasks: " + t.length);this.paused=!1;this.EG=this.BEb(t);this.yR=0;this.currentIteration+=1;this.Ic();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Ic=function(){var t,u,w,v;t=this;if(this.yR === this.EG.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.yR,numberOfTasks:this.EG.length});else {u=this.WAb();w=this.currentIteration;u.startTime=this.Cf.Tb().da(n.ia);u.status=f.Jj.vv;this.Hb.bc(l.TH.JVb,{H:u.H,type:u.type});this.j7.push(u);v=function(x){u.endTime=t.Cf.Tb().da(n.ia);x();t.BNa.push(u);t.j7.splice(t.j7.indexOf(u),1);t.currentIteration === w && (t.yR++,t.Ic());};u.HRb().then(function(){v(function(){u.status=f.Jj.oN;t.Roa(u,l.TH.KVb,"task succeeded");});}).catch(function(x){v(function(){0 <= [f.Jj.Qo,f.Jj.qob,f.Jj.Zea].indexOf(x.status)?(u.status=x.status,t.Roa(u,l.TH.HVb,"cancelled task")):(u.status=f.Jj.ks,t.Roa(u,l.TH.IVb,"task failed",x));});});}};c.prototype.WAb=function(){return this.EG[this.yR];};c.prototype.getStats=function(t,u,w){var v,x,y,z;v=this.BNa.map(function(B){return B.rs();});x=this.j7.map(function(B){return B.rs();});y=this.is.Uf(t) && this.is.Uf(u);z={};if(this.is.Uf(w))return (z.zNa=v.filter(function(B){return B.movieId === w;}),z);v.concat(x).forEach(function(B){var A;z[B.type + "_" + B.status]=(z[B.type + "_" + B.status] | 0) + 1;A=B.status == f.Jj.vv?B.startTime:B.endTime;y && A && A >= t && A < u && (z[B.type + "_" + B.status + "_delta"]=(z[B.type + "_" + B.status + "_delta"] | 0) + 1);});return z;};c.prototype.Roa=function(t,u,w,v){var x;x=t.rs();v?this.log.warn(w,x,v):this.log.trace(w,x);this.Hb.bc(u,{H:t.H,type:t.type,reason:t.status});t.Yu(x);};c.prototype.BEb=function(t){var u,w;u=this.EG.filter(function(v){return v.fNb && v.status === f.Jj.un;});w=this.AEb;return w === q.ODb?[].concat(t):w === q.prepend?u.concat(t):t.concat(u);};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(m.Ab)),r.__param(1,g.l(d.Uc)),r.__param(2,g.l(h.xf)),r.__param(3,g.l(k.ud))],a);b.bEa=a;},function(r,b,a){var l,m,d,f,h,k,n,p,q,t,u,w,v,x;function c(y,z,B,A,E,D,F,C,G,H,J){this.nZb=B;this.Xa=A;this.Cf=E;this.Mg=D;this.FQa=F;this.Xwb=C;this.Ywb=G;this.Oha=H;this.events=new x.EventEmitter();this.log=y.sb("VideoPreparer");this.config=z();this.Vsa={};this.O4={};this.rd={num_of_calls:0,num_of_movies:0};this.Xg=J.Xg;}function g(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(0);l=a(1129);m=a(13);d=a(1);f=a(7);h=a(92);k=a(25);n=a(274);p=a(18);q=a(4);t=a(128);u=a(275);w=a(485);v=a(276);x=a(17);c.prototype.U6=function(y,z,B){this.Xg.setData(y,"ldl",z,B);};c.prototype.ZCb=function(y){return this.Xg.PS(y,"ldl");};c.prototype.oS=function(y,z){return this.Xg.getData(y,z);};c.prototype.IRa=function(y){var z;z=this.Xg.getData(y,"ldl");this.Xg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.OYb=function(y){return this.P3a === y || this.sOa === y;};c.prototype.oM=function(y,z){var B,A,E;B=this;y=y.map(function(D){D.xb=D.xb || ({S_:{iNb:!1},lk:0});B.Xa.FE(D.xb.lk) || (D.xb.lk=0);B.Xa.FE(D.cd) && (D.xb.V=D.cd);return D;});A=y.map(function(D){return B.Nsb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);E=A.map(function(D){return D.H + "-" + D.type;});this.log.trace("prepare tasks",E);this.Mg.glb(A);this.rd.num_of_calls++;this.rd.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,B){return Object.assign(Object.assign({},B && this.O4[B] || ({})),{EG:this.Mg.getStats(y,z,B),cache:this.Xg.getStats(y,z),nyb:Object.assign(Object.assign({},this.rd),this.Oha.getStats())});};c.prototype.TCb=function(y){this.P3a=y;};c.prototype.SCb=function(y){this.log.trace("task scheduler paused on playback created");this.Mg.pause();this.config.Vtb && this.Xg.rfa(y,["manifest"]);this.config.Utb && this.Xg.rfa(y,["ldl"]);this.config.Qtb && this.Xg.clearData(y,"manifest");this.Oha.d1a(y);this.sOa=y;};c.prototype.hUa=function(){this.log.info("track changed, clearing all manifests from cache");this.Xg.rfa("none",["manifest"]);};c.prototype.RCb=function(y){var z;z=this;this.config.Rtb?this.Xg.clearData(y,"manifest"):this.Xg.PS(y,"manifest") && this.Xg.getData(y,"manifest").then(function(B){B.Bc.isSupplemental || z.Xg.clearData(y,"manifest");},function(B){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",B);});this.xfa(y);this.P3a=this.sOa=void 0;};c.prototype.xfa=function(y){delete this.Vsa[y];};c.prototype.Ex=function(y){return this.Vsa[y];};c.prototype.rOa=function(y){return this.Vsa[y]=this.nZb.zA();};c.prototype.k3a=function(y,z){if(this.ZCb(y))return t.Jj.Qo;if(!z.R2)return t.Jj.Zea;};c.prototype.Nsb=function(y,z){var B,A;y.sd && y.xb && (y.xb.sd=y.sd);this.FXb(y.H,y.Lk);B=this.usb(y,z);A=this.qsb(y,null === B || void 0 === B?void 0:B.id,z);y=[this.xsb(y,null === B || void 0 === B?void 0:B.id,z)];return [B,A].concat(ba(y)).filter(g);};c.prototype.usb=function(y,z){if(this.Xg.PS(y.H,"manifest"))this.log.trace("manifest exists in cache for " + y.H);else return new l.YO("manifest",this.Cf.Tb().da(q.ia),! !y.xb.jh,void 0,z,this.FQa,y,this);};c.prototype.qsb=function(y,z,B){if(this.config.bK)if(this.Xg.PS(y.H,"ldl"))!1;else return this.config.Mp?new l.YO("ldl",this.Cf.Tb().da(q.ia),! !y.xb.jh,z,B,this.Xwb,y,this):new l.YO("ldl",this.Cf.Tb().da(q.ia),! !y.xb.jh,z,B,this.Ywb,y,this);};c.prototype.xsb=function(y,z,B){if(this.config.q1)return new l.YO("getMedia",this.Cf.Tb().da(q.ia),! !y.xb.jh,z,B,this.Oha,y,this);};c.prototype.FXb=function(y,z){this.O4[y] || (this.O4[y]={S5:0,Lk:0});y=this.O4[y];y.S5=(void 0 !== y?void 0 !== y.S5?y.S5:0:0) + 1;y.Lk=z;};a=c;a=r.__decorate([d.O(),r.__param(0,d.l(f.Ab)),r.__param(1,d.l(m.Uc)),r.__param(2,d.l(h.pz)),r.__param(3,d.l(k.xf)),r.__param(4,d.l(p.ud)),r.__param(5,d.l(n.waa)),r.__param(6,d.l(w.aEa)),r.__param(7,d.l(w.$Da)),r.__param(8,d.l(w.ZDa)),r.__param(9,d.l(v.Lta)),r.__param(10,d.l(u.f9))],a);b.OGa=a;},function(r,b,a){var g,l;function c(m,d,f,h,k,n,p,q){this.type=m;this.un=d;this.fNb=void 0 === f?!1:f;this.notify=k;this.Zwb=n;this.pM=p;this.ed=q;this.id=++l;this.status=g.Jj.un;}Object.defineProperty(b,"__esModule",{value:!0});b.YO=void 0;g=a(128);l=0;c.prototype.rs=function(){var m;m={id:this.id,type:this.type,created:this.un,status:this.status,movieId:this.H};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.Yu=function(m){this.notify && this.notify(m);};c.prototype.HRb=function(){return this.Zwb.fetch(this.pM,this.ed);};Ua.Object.defineProperties(c.prototype,{H:{configurable:!0,enumerable:!0,get:function(){return this.pM.H;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.pM.priority;}}});b.YO=c;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y;function c(z,B,A,E,D,F,C,G,H,J){this.Tq=A;this.yV=E;this.tc=D;this.sa=F;this.Ia=C;this.sL=G;this.tNb=H;this.Ok=J;this.log=z.sb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.oza=void 0;r=a(0);g=a(1);l=a(7);m=a(13);d=a(128);f=a(62);h=a(68);k=a(32);n=a(138);p=a(182);q=a(33);t=a(4);u=a(38);w=a(18);v=a(184);x=a(195);a=a(113);c.prototype.fetch=function(z,B){var A;A=this;this.log.trace("Fetching LDL",v.uH(z));this.H=z.H;this.ed=B;return B.oS(z.H,"ldl").catch(function(){A.log.trace("Requesting a new license",v.uH(z));return A.Ok.k2(z.H).then(function(E){var D,F;A.la=E;A.Bc=E.Bc;if(E=A.ed.k3a(z.H,A.Bc))throw {status:E};E=A.Bc.cz[0].Vs;D=A.Bc.cz[0].eha;F=(E?E:[D]).map(function(C){return A.tc.decode(C.bytes);});A.Ee=A.zE({JPa:A.log,zha:function(C){return A.handleError(C);},zd:void 0,Dna:function(){},sa:{getTime:function(){return A.Ia.Tb().da(t.ia);},m6b:function(){return A.sa.Ne.da(t.Xm);}}});B.U6(z.H,A.Ee);return A.Ee.create(A.config.Qe).then(function(){return A.Ee.Vf(h.pk.Uv,F,!0);}).then(function(){return A.Ee;}).catch(function(C){A.handleError(C);throw C;});}).catch(function(E){A.log.warn("Manifest not available for ldl request",E);if(void 0 !== E.status)throw E;throw {status:d.Jj.Qo};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.Ee.close();this.ed.U6(this.H,void 0);this.ed.xfa(this.H);};c.prototype.zE=function(z){var B,A;B=this;if(!this.Tq.sH || !this.Tq.qH){A=this.tNb();this.Tq.sH=A.Db;this.Tq.qH=A.request;}A=new this.Tq.qH(z.JPa,function(E){var D;D=[];E.fj.forEach(function(F){D.push({sessionId:F.sessionId,dataBase64:B.tc.encode(F.data)});});E={fj:D,k1:[B.Bc.wl],yi:f.Up.RNa(E.yi),Di:B.Bc.Di,ca:B.ed.rOa(B.H),oj:B.la.oj};B.log.trace("xid created ",{MovieId:B.H,xid:E.ca});return B.sL.Kw(E);},void 0,{Pe:!1,Zj:!1});return this.Tq.sH(z.JPa,z.zd,{Pe:!1,Zj:!1,wj:A,IU:this.config.k0a,ja:void 0,Zy:this.config.UPa,onerror:z.zha,Dna:z.Dna,sa:z.sa,QF:!1,vmb:this.yV.E0([]),GYb:this.yV.H0([]),h3:this.config.h3});};y=c;y=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(m.Uc)),r.__param(2,g.l(k.yz)),r.__param(3,g.l(n.cP)),r.__param(4,g.l(q.Nh)),r.__param(5,g.l(u.hi)),r.__param(6,g.l(w.ud)),r.__param(7,g.l(p.FO)),r.__param(8,g.l(x.kaa)),r.__param(9,g.l(a.OC))],y);b.oza=y;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q;function c(t,u,w,v,x,y){this.tc=w;this.bvb=v;this.EL=x;this.Ok=y;this.log=t.sb("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.uza=void 0;r=a(0);g=a(1);l=a(7);m=a(13);d=a(68);f=a(33);h=a(115);k=a(134);n=a(128);p=a(184);a=a(113);c.prototype.fetch=function(t,u){var w;w=this;this.log.trace("Fetching LDL",p.uH(t));this.H=t.H;this.ed=u;return u.oS(t.H,"ldl").catch(function(){w.log.trace("Requesting a new license",p.uH(t));return w.Ok.k2(t.H).then(function(v){var x,y,z,B;w.Bc=v.Bc;if(v.Zo)return Promise.resolve(v.Zo);x=w.ed.k3a(t.H,w.Bc);if(x)throw {status:x};y=w.Bc.cz[0].Vs;x=w.Bc.cz[0].eha;z=(y?y:[x]).map(function(A){return w.tc.decode(A.bytes);});B=w.bvb().then(function(A){var E;E={type:d.pk.Uv,initData:z,context:{Qe:w.config.Qe,Vs:y},ai:{H:t.H,ca:u.rOa(t.H),Di:w.Bc.Di,wl:w.Bc.wl,oj:v.oj}};return A.Vf(E,w.EL());}).catch(function(A){w.handleError("Unable to prepare an EME session.",A);throw A;});w.ed.U6(t.H,B,function(){if(!w.ed.OYb(t.H))try{B.then(function(A){return A.close();}).catch(function(A){w.handleError("Unable to cleanup LDL session, Unable to get the session.",A);});}catch(A){w.handleError("Unable to cleanup LDL session, unexpected exception.",A);}});return B;}).catch(function(v){w.log.warn("Manifest not available for ldl request",v);if(void 0 !== v.status)throw v;throw {status:n.Jj.Qo};});});};c.prototype.handleError=function(t,u){this.log.warn(t + " LDL is now invalid.",u);this.ed.U6(this.H,void 0);this.ed.xfa(this.H);};q=c;q=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(m.Uc)),r.__param(2,g.l(f.Nh)),r.__param(3,g.l(h.gX)),r.__param(4,g.l(k.HO)),r.__param(5,g.l(a.OC))],q);b.uza=q;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t,u,w,v){this.zma=u;this.Cf=w;this.Ok=v;this.log=q.sb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;r=a(0);g=a(13);l=a(1);m=a(7);d=a(18);f=a(4);h=a(170);k=a(114);n=a(184);a=a(113);c.prototype.fetch=function(q,t){var u,w;this.log.trace("Fetching manifest",n.uH(q));w=q.xb;this.config.ukb && w && w.la && !this.Ok.O2(q.H) && (!(("clientGenesis" in w.la) && w.la.clientGenesis) || Date.now() - w.la.clientGenesis < this.config.W_a) && (w=this.zma.create(w.la),w.gG=this.Cf.Tb().da(f.ia),w.DM=this.Cf.Tb().da(f.ia),this.Ok.qra(q.H,w));return this.Ok.yS({aa:q.H,Va:null !== (u=q.xb) && void 0 !== u?u:{},An:k.th.cw},function(){t.events.emit("manifestRemovedFromCache",{type:"manifestRemovedFromCache",aa:q.H});});};p=c;p=r.__decorate([l.O(),r.__param(0,l.l(m.Ab)),r.__param(1,l.l(g.Uc)),r.__param(2,l.l(h.GO)),r.__param(3,l.l(d.ud)),r.__param(4,l.l(a.OC))],p);b.tAa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){c && (this.pV(c.je),this.Tqa(c.Pc),this.U2a(c.ya));}a.prototype.pV=function(c){this.je=c;return this;};a.prototype.Tqa=function(c){this.Pc=c;return this;};a.prototype.pq=function(c,g){this.ya || (this.ya={});this.ya[c]=this.JOa(g);return this;};a.prototype.U2a=function(c){var g;g=this;this.ya={};Object.keys(c).forEach(function(l){return g.pq(l,c[l]);});};a.prototype.Pj=function(){if(!this.ya)throw Error("Invalid playgraph - `segments` is not defined");if(!this.je)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.ya[this.je])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({je:this.je,ya:this.ya},this.Pc?{Pc:this.Pc}:{});};a.prototype.JOa=function(c){var g;g=this;return c && "object" === typeof c?Object.keys(c).reduce(function(l,m){l[m]="object" === typeof c[m]?g.JOa(c[m]):c[m];return l;},{}):c;};return a;})();b.SH=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xdb=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.je,segments:a.Atb(c.ya)},void 0 !== c.Pc?{transitionType:c.Pc}:{});};a.encode=function(c){return Object.assign({je:c.initialSegment,ya:a.awb(c.segments)},void 0 !== c.transitionType?{Pc:c.transitionType}:{});};a.awb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.$vb(c[l]);return g;},{});};a.$vb=function(c){return Object.assign({aa:c.viewableId,Zb:c.startTimeMs},c.endTimeMs?{Mc:c.endTimeMs}:{},c.defaultNext?{Cg:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Pc:c.transitionType}:{},c.next?{next:a.Yvb(c.next)}:{},c.exitZones?{js:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.Yvb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.Zvb(c[l]);return g;},{});};a.Zvb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Pc:c.transitionType}:{});};a.Atb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.ztb(c[l]);return g;},{});};a.ztb=function(c){return Object.assign({viewableId:c.aa,startTimeMs:c.Zb},c.Mc?{endTimeMs:c.Mc}:{},c.Cg?{defaultNext:c.Cg}:{},c.weight?{weight:c.weight}:{},c.Pc?{transitionType:c.Pc}:{},c.next?{next:a.xtb(c.next)}:{},c.js?{exitZones:c.js}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.xtb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.ytb(c[l]);return g;},{});};a.ytb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Pc?{transitionType:c.Pc}:{});};return a;})();},function(r,b,a){var l,m,d,f,h,k,n,p,q,t,u;function c(){var w;w=this;this.promise=new Promise(function(v,x){w.resolve=v;w.reject=x;});}function g(w,v,x,y,z){var B;B=this;this.Boa=x;this.lOb=y;this.Ok=z;this.sW=[];this.wy=new Map();this.FLb=function(A){var E,D;A=A.wishListItem.key.aa;if(B.wy.has(A)){D=B.wy.get(A);A=D.pM;D=D.Jfa;null === (E=D.resolve) || void 0 === E?void 0:E.call(D,A);}};this.oZa=function(A){var E,D;B.config.mOb?(B.d1a(A.aa),B.d3a(B.sW)):null === (D=null === (E=B.wy.get(A.aa)) || void 0 === E?void 0:E.P6a.mW.ps(A.aa).events) || void 0 === D?void 0:D.emit("viewableExpired",{type:"viewableExpired"});};this.qa=w.sb("VideoPreparer");this.config=v();}Object.defineProperty(b,"__esModule",{value:!0});b.Kta=void 0;r=a(0);l=a(7);a(184);m=a(112);d=a(46);f=a(13);h=a(11);k=a(114);n=a(276);p=a(1);q=a(487);t=a(17);a=a(113);g.prototype.fetch=function(w,v){if(-1 === v.events.listeners("manifestRemovedFromCache").indexOf(this.oZa))v.events.on("manifestRemovedFromCache",this.oZa);!1;this.d3a(this.Apb(this.Wsb(w,v)));return this.wy.get(w.H).Jfa.promise;};g.prototype.getStats=function(){return this.ev.getStats();};g.prototype.Apb=function(w){return [w].concat(ba(this.sW.filter(function(v){return v.key.aa !== w.key.aa;}))).slice(0,this.config.jOb).map(this.config.kOb?function(v,x){return Object.assign({},v,{priority:x});}:function(v){return v;});};g.prototype.yS=function(w){var v;return this.Ok.yS({aa:w.H,An:k.th.cw,Va:null !== (v=w.xb) && void 0 !== v?v:{}}).then(function(x){return x.Bc;});};g.prototype.Wsb=function(w,v){var x,y,z,B,A,E;z=new c();if(this.wy.has(w.H)){B=this.wy.get(w.H);A=B.pM;if(A.H === w.H && A.sd === w.sd)E=B.P6a.key;this.ev.getStats().contents.some(function(D){return D.id === w.H;}) && (z=B.Jfa);}B=m.Fk.Wb.Wo(h.nR(w.sd));E || (E={aa:w.H,config:B});v={key:E,V6b:!1,priority:w.priority,V_:d.S.lb(null !== (y=null === (x=w.xb) || void 0 === x?void 0:x.V) && void 0 !== y?y:0),mW:this.Vsb(w,v,B)};this.wy.set(w.H,{P6a:v,pM:w,Jfa:z});return v;};g.prototype.Vsb=function(w,v,x){var y,z,B,A;y=this;z=w.H;B=this.Ok;A={get ca() {return v.Ex(z);},get ZR() {return !B.O2(z);},events:new t.EventEmitter(),IMa:function(){},get pr() {return y.yS(w).then(function(E){return {la:E,Bh:E.jUa && !E.R2,config:x,n3a:{}};});},aa:z,equals:function(E){var D;D=v.Ex(z);return E.aa === z && (!E.ca || !D || D === E.ca);}};return {ps:function(){return A;}};};g.prototype.O2a=function(w){this.sW=w;};g.prototype.d3a=function(w){this.O2a(w);this.ev.c3a(this.sW);};g.prototype.d1a=function(w){this.wy.has(w) && (this.O2a(this.sW.filter(function(v){return v.key.aa !== w;})),this.wy.delete(w));};Ua.Object.defineProperties(g.prototype,{ev:{configurable:!0,enumerable:!0,get:function(){this.Bw || (this.Bw=this.lOb(),this.Bw.Mqa(this.Boa).H2a({hF:this.config.iOb}),this.Bw.events.on("prefetchComplete",this.FLb));return this.Bw;}}});u=g;u=r.__decorate([p.O(),r.__param(0,p.l(l.Ab)),r.__param(1,p.l(f.Uc)),r.__param(2,p.l(q.vaa)),r.__param(3,p.l(n.Mta)),r.__param(4,p.l(a.OC))],u);b.Kta=u;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p){var q;q=this;this.Cf=n;n=p();this.Xg=new h({log:k.sb("CacheManager"),sa:{getTime:function(){return q.Cf.Tb().da(d.ia);}},Promise:Promise,Pe:!1,Lnb:n.rOb,Knb:n.pOb,Bwb:n.W_a,Awb:n.qOb});}Object.defineProperty(b,"__esModule",{value:!0});b.Qua=void 0;r=a(0);g=a(1);l=a(18);m=a(7);d=a(4);f=a(13);h=a(1137);c=r.__decorate([g.O(),r.__param(0,g.l(m.Ab)),r.__param(1,g.l(l.ud)),r.__param(2,g.l(f.Uc))],c);b.Qua=c;},function(r,b,a){var d;function c(){return Object.create(null);}function g(f){this.log=f.log;this.sa=f.sa;this.vB=c();this.Promise=f.Promise;this.ix=f.ix;this.msa=f.msa;this.Pe=f.Pe || !1;this.zu=c();this.pA=c();this.nE=c();this.Djb(f);f.gp && (this.gp=f.gp);}function l(f){return "undefined" !== typeof f;}function m(f){var n;for(var h=0,k=arguments.length;h < k;){n=arguments[h++];if(l(n))return n;}}a(1138);d=a(1139);g.prototype.Djb=function(f){this.zu.manifest=m(f.Bwb,d.zu.la);this.zu.ldl=m(f.Awb,d.zu.vT);this.zu.metadata=m(f.X5b,d.zu.Zd);this.pA.manifest=m(f.Lnb,d.pA.la);this.pA.ldl=m(f.Knb,d.pA.vT);this.pA.metadata=m(f.W4b,d.pA.Zd);this.nE.manifest=m(f.U4b,d.nE.la);this.nE.ldl=m(f.T4b,d.nE.vT);this.nE.metadata=m(f.V4b,d.nE.Zd);};g.prototype.PS=function(f,h){this.ds("undefined" !== typeof f);this.ds("undefined" !== typeof h);return ! !this.XHa(f,h,void 0).value;};g.prototype.XHa=function(f,h,k){var n,p;n={value:null,reason:"",log:""};p=this.vB[h];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(k=p[f][k?k:"DEFAULTCAPS"]) && k.value?this.z3(h,k.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + f,n.reason="expired"):(n.log=this.Promise && k.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + f:"cache hit: " + h + " available for movieId:" + f,n.value=k.value):(n.log="cache miss: " + h + " data not available for movieId:" + f,n.reason="unavailable");return n;};g.prototype.getData=function(f,h,k){this.ds("undefined" !== typeof f);this.ds("undefined" !== typeof h);f=this.XHa(f,h,k);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.msa?JSON.parse(this.msa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};g.prototype.setData=function(f,h,k,n,p){var q,t,u;this.ds("undefined" !== typeof f);this.ds("undefined" !== typeof h);q=this.vB;t=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.ix?this.ix(JSON.stringify(k),"gzip",!0):k;q=q[h];this.shb(f,h,t,q);u=this;n={creationTime:this.sa.getTime(),value:k,size:0,type:h,Oga:n,zwb:setTimeout(function(){u.clearData(f,h,t,!1,"expired");},this.zu[h] + 1)};q[f]=q[f] || c();q[f][t]=q[f][t] || c();q[f][t]=n;q.size+=0;q.numEntries++;this.gp && this.gp.emit("addedCacheItem",n);return n;};g.prototype.shb=function(f,h,k,n){var p,q,t,u,w,v,x,y,z;p=this;q=n.numEntries;t=this.pA[h];u=n[f] && n[f][k];if(u && u.value)(w=f,v="promise_or_expired");else if(q >= t){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(B){var A;A=n[B] && n[B][k];A && A.value && p.z3(h,A.creationTime) && (z=B);A && A.value && A.creationTime < y && (y=A.creationTime,x=B);return !0;});w=z || x;v="cache_full";}this.Pe && this.log.debug("makespace ",{maxCount:t,currentCount:n.numEntries,field:h,movieId:f,movieToBeRemoved:w});w && (p.clearData(w,h,k,void 0,v),this.log.debug("removed from cache: ",w,h));};g.prototype.rfa=function(f,h){var k,n;k=this;k.ds("undefined" !== typeof f);n=f + "";h.forEach(function(p){var q;q=k.vB[p];q && Object.keys(q).forEach(function(t){t != n && k.clearData(t,p,void 0,void 0,"clear_all");});});};g.prototype.clearData=function(f,h,k,n,p){var q;this.ds("undefined" !== typeof f);this.ds("undefined" !== typeof h);q=this.vB[h];h=q?q[f]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){q.size-=h[k].size;q.numEntries--;if(q=h && h[k])(clearTimeout(q.zwb),h[k]=void 0,!n && q.Oga && q.Oga());this.gp && (f={creationTime:q.creationTime,destroyFn:q.Oga,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.gp.emit("deletedCacheItem",f));}};g.prototype.flush=function(f){var h;this.ds("undefined" !== typeof f);h=this.vB;h[f]=c();h[f].numEntries=0;h[f].size=0;};g.prototype.bNa=function(){var f,h;this.ds(!1);f=this;h=this.vB;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var n;n=h[void 0][k].DEFAULTCAPS;f.sa.getTime() - n.creationTime > f.zu[void 0] && this.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};g.prototype.z3=function(f,h){return this.sa.getTime() - h > this.zu[f];};g.prototype.getStats=function(f,h,k){var n,p,q,t,u;n={};p=this;q=p.vB;t=l(f) && l(h);u=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,x;v=Object.keys(q[w]);x=q[w];v.forEach(function(y){!(y=x && x[y] && x[y][u]) || !l(y.value) || y.value instanceof this.Promise || (n[w]=(n[w] | 0) + 1,p.z3(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),t && y.creationTime >= f && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};g.prototype.getState=function(f){var h,k,n,p;h=[];k=this;n=k.vB;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var t,u;t=Object.keys(n[q]);u=n[q];t.forEach(function(w){var v,x;v=u && u[w] && u[w][p];if(v && l(v.value)){x=k.z3(v.type,v.creationTime)?"expired":v.value instanceof this.Promise?"loading":"cached";h.push({movieId:w,state:x,type:q,size:v.size});}});});return h;};g.prototype.ds=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.Pe))throw Error("Debug Assert Failed ");};r.exports=g;},function(r){function b(a){var c;c=[];return (function m(l){if(l && "object" === typeof l){if(-1 !== c.indexOf(l))return !0;c.push(l);for(var d in l){if(l.hasOwnProperty(d) && m(l[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var l;if(c && b(a))return -1;c=[];a=[a];for(var g=0;a.length;){l=a.pop();if("boolean" === typeof l)g+=4;else if("string" === typeof l)g+=2 * l.length;else if("number" === typeof l)g+=8;else if("object" === typeof l && -1 === c.indexOf(l)){c.push(l);for(var m in l){a.push(l[m]);}}}return g;};},function(r){r.exports={zu:{la:12E5,vT:9E5,Zd:12E5},pA:{la:10,vT:10,Zd:10},nE:{la:10240,vT:10240,Zd:10240}};},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ga=void 0;r=a(1);c=a(186);g=a(1141);l=a(488);m=a(1142);d=a(489);f=a(1143);h=a(1144);k=a(490);n=a(1145);b.Ga=new r.Qc(function(p){p(c.z9).to(g.kwa).Z();p(l.MAa).to(m.LAa).Z();p(d.HBa).to(f.GBa).Z();p(d.TAa).to(h.SAa).Z();p(k.RAa).to(n.QAa).Z();});},function(r,b,a){var g,l,m,d;function c(f){function h(k,n){this.G=k;this.il=n;this.F1=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Qf=f.sb("DownloadTrack");}h.prototype.Yo=function(){!1;this.p_=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.p_ + " config: " + JSON.stringify(this.G);};h.prototype.toJSON=function(){return "Download Track id:" + this.p_ + " config: " + JSON.stringify(this.G);};h.prototype.k6=function(k){this.G.connections !== k.connections && (this.G=k);};h.prototype.op=function(){return 1 < this.G.connections?!0:!1;};Ua.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.p_;}},un:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.p_;}},config:{configurable:!0,enumerable:!0,get:function(){return this.G;}},RF:{configurable:!0,enumerable:!0,get:function(){return this.Qf;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.il.Bm;}}});this.oH=Object.assign(h,new m.lwa());}Object.defineProperty(b,"__esModule",{value:!0});b.kwa=void 0;r=a(0);g=a(1);l=a(7);m=a(186);d=a(107).EventEmitter;c=r.__decorate([g.O(),r.__param(0,g.l(l.Ab))],c);b.kwa=c;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q;function c(t,u,w,v,x,y){this.qJ=t;this.qf=w;this.Xa=v;this.Ia=x;this.config=y;this.log=u.sb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;r=a(0);g=a(187);l=a(94);m=a(2);d=a(7);f=a(1);h=a(110);k=a(25);n=a(18);p=a(4);a=a(13);c.prototype.zx=function(){return this.Ia.Tb().da(p.ia);};c.prototype.XYa=function(t,u){t.wKb({mediaRequest:t,timestamp:u});};c.prototype.nZa=function(t){var u;u=t.mediaRequest.Rq;u.readyState=g.Vb.pc.ew;t=t.connect?t:{timestamp:this.zx(),connect:!1};t.mediaRequest=u;t.readyState=u.readyState;u.Cna(t);};c.prototype.n5=function(t){this.XYa(t.mediaRequest.Rq,t.timestamp);};c.prototype.p5=function(t){var u,w;u=t.mediaRequest.Rq;w=t.bytes;"undefined" === typeof u?!1:(u.readyState === g.Vb.pc.gw && this.nZa(t),this.Xa.Sh(w) && (t.mediaRequest=u,t.timestamp=this.zx(),w > u.bytesReceived && (t.newBytes=w - u.bytesReceived,t.bytesLoaded=w,u.zKb(t))));};c.prototype.Fm=function(t){var u,w,v,x;u=t.mediaRequest;w=t.errorcode;v=t.httpcode;x=g.Vb.jX;if("undefined" === typeof u)!1;else if((u=u.Rq,"undefined" === typeof u))!1;else if(u.readyState !== g.Vb.pc.tH)if(w === m.K.mz)(u.readyState=g.Vb.pc.PN,t.mediaRequest=u,t.readyState=u.readyState,u.rKb(t));else {u.readyState=g.Vb.pc.tH;switch(w){case m.K.zO:v=x.Iua;break;case m.K.U9:v=x.R9;break;case m.K.wO:v=400 < v && 500 > v?x.T9:500 <= v?x.cya:x.R9;break;case m.K.xO:v=x.S9;break;case m.K.vO:v=x.Jua;break;case m.K.yO:v=x.IX;break;case m.K.GC:v=x.IX;break;case m.K.bya:v=x.aya;break;case m.K.Yxa:v=x.T9;break;case m.K.b$a:v=x.S9;break;default:v=x.IX;}t.mediaRequest=u;t.readyState=u.readyState;t.errorcode=v;t.nativecode=w;u.Ena(t);}};c.prototype.Rna=function(t,u){var w,v;w=u.request.Rq;if(w)if(u.W){if((!1,t.j && w.readyState !== g.Vb.pc.DONE)){switch(w.readyState){case g.Vb.pc.PN:!1;return;case g.Vb.pc.tH:!1;break;case g.Vb.pc.ew:break;case g.Vb.pc.gw:this.nZa({mediaRequest:u.request});break;default:!1;}w.readyState=g.Vb.pc.DONE;if(!w.Ac){v={mediaRequest:w,readyState:w.readyState,timestamp:this.zx(),cadmiumResponse:u};t.j.Vra+=1;w.iCb();w.EFb() && (t.j.Tpa+=1,u.Cl.Lh=Math.ceil(w.$ha),u.Cl.Vn=Math.ceil(w.tE),u.Cl.Cp=Math.floor(w.lB));w.FJ=v;w.Yu(v);}}}else (!1,w.readyState === g.Vb.pc.PN?!1:(t={mediaRequest:u.request,timestamp:this.zx(),errorcode:u.ka,httpcode:u.hj},this.Fm(t)));};c.prototype.download=function(t,u){var w,v;w=this;u=this.qf.download(t,u);if(t.Rq){v=t.Rq;-1 < [g.Vb.pc.OPENED,g.Vb.pc.tH].indexOf(v.readyState) && (v.readyState=g.Vb.pc.gw,this.config().RIb?u.SSb(function(x){w.n5(x);}):this.XYa(v,this.zx()));}u.Hda(function(x){w.Rna(t,x);});u.$Sb(function(x){w.p5(x);});u.MSb(function(x){w.Fm(x);});return u;};q=c;q=r.__decorate([f.O(),r.__param(0,f.l(l.QN)),r.__param(1,f.l(d.Ab)),r.__param(2,f.l(h.qz)),r.__param(3,f.l(k.xf)),r.__param(4,f.l(n.ud)),r.__param(5,f.l(a.Uc))],q);b.LAa=q;},function(r,b,a){var g,l,m;function c(d,f){this.qf=f;this.log=d.sb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;r=a(0);g=a(1);l=a(7);a=a(110);c.prototype.jS=function(d,f,h){d={url:d.url,YRb:h};!1;this.qf.WTb(d);};c.prototype.ZD=function(d){try{d.vka();}catch(f){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(a.qz))],m);b.GBa=m;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u,w,v,x,y,z){this.Ia=u;this.Dq=w;this.config=v;this.qf=y;this.PIb=z;this.log=x.sb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;r=a(0);g=a(46);l=a(1);m=a(7);d=a(110);f=a(488);h=a(81);k=a(187);n=a(18);p=a(4);q=a(36);a=a(13);c.prototype.jS=function(u,w,v){var y,z,B;function x(){u.removeEventListener(k.Vb.Rd.XC,x);u.aS?u.aS++:u.aS=1;u.aS >= y.config().Mha.length && (u.aS=y.config().Mha.length - 1);setTimeout(function(){y.jS(u,w,v);},y.config().Mha[u.aS]);}y=this;u.W6b=!0;z=this.PIb.download({url:u.url,responseType:this.qf.Idb.R7a,withCredentials:!1,GE:u.mediaType === g.Cc.jb.Pb?"audio":"video",offset:w.start,length:u.Gj,track:{type:u.mediaType === g.Cc.jb.Pb?h.Ph.audio:h.Ph.video},stream:{Ld:u.Fa,bitrate:u.bitrate},Hc:u.cc,Rq:u,b7:v,st:this.Dq.st},function(A){A.W && u.readyState !== k.Vb.pc.DONE && (u.readyState === k.Vb.pc.PN?!1:(u.readyState === k.Vb.pc.tH?!1:u.readyState === k.Vb.pc.gw?(u.readyState=k.Vb.pc.ew,u.Cna({mediaRequest:u,readyState:u.readyState,timestamp:y.zx(),connect:!1})):u.readyState !== k.Vb.pc.gw && u.readyState !== k.Vb.pc.ew && !1,u.readyState=k.Vb.pc.DONE,A={mediaRequest:u,readyState:u.readyState,timestamp:y.zx(),cadmiumResponse:A,response:A.content},u.FJ=A,u.Yu(A)));});if(u.Ac){B={mediaRequest:u,readyState:u.readyState,timestamp:this.zx(),connect:!1};u.Cna(B);}u.addEventListener(k.Vb.Rd.XC,x);u.vka=z.abort;};c.prototype.ZD=function(u){try{u.vka();}catch(w){this.log.warn("exception aborting request");}};c.prototype.zx=function(){return this.Ia.Tb().da(p.ia);};t=c;t=r.__decorate([l.O(),r.__param(0,l.l(n.ud)),r.__param(1,l.l(q.Wl)),r.__param(2,l.l(a.Uc)),r.__param(3,l.l(m.Ab)),r.__param(4,l.l(d.qz)),r.__param(5,l.l(f.MAa))],t);b.SAa=t;},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u,w,v){function x(z,B){this.track=z;this.label=B;this.Tg=n.Vb.pc.UNSENT;this.bytesReceived=0;this.ar=[];this.requestId=v.zA().toString();this.Xa=t;this.log=q.sb("MediaRequest");this.config=p;this.Hb=new k.Ij();"notification" === this.label?this.config().sx && (this.Bm=u):this.Bm=w;!1;}function y(z,B){this.requestId=v.zA().toString();this.Xa=t;this.log=q.sb("MediaRequest");this.config=p;this.Hb=new k.Ij();this.label=B;"notification" === this.label?this.config().sx && (this.Bm=u):this.Bm=w;this.eT=this.yJ=this.zJ=void 0;this.track=z;this.c0=this.url=this.responseType=void 0;this.Tg=n.Vb.pc.UNSENT;this.Bi=this.OE=this.Dg=this.status=void 0;this.Jm=this.bytesReceived=0;this.connect=this.$ha=this.tE=this.lB=this.Ela=this.yd=this.Zha=this.loadTime=this.$I=void 0;this.ar=[];this.un=!1;!1;}x.prototype.addEventListener=function(z,B,A){this.Hb.addListener.call(this,z,B,A);};x.prototype.removeEventListener=function(z,B){this.Hb.removeListener.call(this,z,B);};x.prototype.emit=function(z,B,A){this.Hb.bc.call(this,z,B,A);};x.prototype.wKb=function(z){this.Tg === n.Vb.pc.OPENED && (this.eT=!0,this.loadTime=this.yd=z.timestamp,!1,this.Tg=n.Vb.pc.gw,this.emit(n.Vb.Rd.yBa,z));};x.prototype.Cna=function(z){var B;if(this.Tg < n.Vb.pc.ew){this.ar=[];B=z.timestamp - this.loadTime;!this.Ac && 0 < B && (this.connect=!0,this.ar.push(B));!0 === this.config().TDb?this.Zha=z.timestamp:this.Zha=this.yd=z.timestamp;!1;this.Tg=n.Vb.pc.ew;this.emit(n.Vb.Rd.xBa,z);}};x.prototype.zKb=function(z){this.Tg === n.Vb.pc.ew && (!1,this.Ela=this.yd=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.Xa.Uf(this.Ela) && this.emit(n.Vb.Rd.zBa,z));};x.prototype.Yu=function(z){-1 < [n.Vb.pc.gw,n.Vb.pc.ew].indexOf(this.Tg) && (this.eT=!1,!1,this.yd=z.timestamp,this.Tg=n.Vb.pc.DONE,z.newBytes=this.Gj - this.bytesReceived,this.bytesReceived=this.Gj,this.Xa.Uf(this.tE) && (this.yd=this.tE,0 === z.newBytes && (this.Ela=this.tE)),this.Xa.Uf(this.lB) && (this.loadTime=this.lB),this.$I=z.response,this.emit(n.Vb.Rd.OO,z));};x.prototype.rKb=function(z){this.eT=!1;!1;this.emit(n.Vb.Rd.pcb,z);};x.prototype.Ena=function(z){this.yd=z.timestamp;this.status=z.httpcode;this.Dg=z.errorcode;this.OE=n.Vb.jX.name[this.Dg];this.Bi=z.nativecode;!1;this.emit(n.Vb.Rd.XC,z);this.eT=!1;};x.prototype.open=function(z,B,A,E,D,F,C){this.vv=!1;this.c0=B;this.url=z;this.responseType=A;!1;if(!this.url)return (!1,!1);this.Tg=n.Vb.pc.OPENED;this.Bm.jS(this,B,C);return !0;};x.prototype.kc=function(){!1;-1 !== [n.Vb.pc.OPENED,n.Vb.pc.gw,n.Vb.pc.ew].indexOf(this.Tg) && this.abort();return !0;};x.prototype.cNa=function(){this.$I=void 0;this.FJ && (this.FJ.response=void 0,this.FJ.cadmiumResponse.content=void 0);this.vka=void 0;};x.prototype.KV=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.Tg=n.Vb.pc.PN;this.Bm.ZD(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.QU=function(){};x.prototype.Fh=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.Fh(),segmentId:this.oa,isHeader:this.Ac,ptsStart:this.zy,ptsOffset:this.Ys,responseType:this.responseType,duration:this.rx,readystate:this.Tg};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.iCb=function(){var z,B;if(this.config().m6a && d.Kt && d.Kt.getEntriesByType && (!this.Xa.Uf(this.lB) || !this.Xa.Uf(this.tE) && this.Xa.Uf(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.zJ + "-" + this.yJ + "*");B=new RegExp(z);z=d.Kt.getEntriesByType("resource").filter(function(A){return B.exec(A.name);})[0];this.Xa.Uf(z) && (0 < z.startTime && (this.lB=z.startTime,0 < z.requestStart && (this.lB=Math.max(this.lB,z.requestStart))),0 < z.responseStart && (this.$ha=z.responseStart),0 < z.responseEnd && (this.tE=z.responseEnd));}};x.prototype.EFb=function(){return this.Xa.Uf(this.lB) && this.Xa.Uf(this.tE) && this.Xa.Uf(this.$ha);};Ua.Object.defineProperties(x.prototype,{Gj:{configurable:!0,enumerable:!0,get:function(){return this.c0.end - this.c0.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.yJ - this.zJ + 1;}},nUa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Ac:{configurable:!0,enumerable:!0,get:function(){return !this.hB;}},response:{configurable:!0,enumerable:!0,get:function(){return this.$I;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Tg;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var B;B=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,B);});this.Wm=Object.assign(y,n.Vb);}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;r=a(0);g=a(1);l=a(7);m=a(13);d=a(10);f=a(25);h=a(489);k=a(71);n=a(187);a=a(92);c=r.__decorate([g.O(),r.__param(0,g.l(m.Uc)),r.__param(1,g.l(l.Ab)),r.__param(2,g.l(f.xf)),r.__param(3,g.l(h.HBa)),r.__param(4,g.l(h.TAa)),r.__param(5,g.l(a.pz))],c);b.QAa=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.sYa=void 0;r=a(1);c=a(330);g=a(1147);b.sYa=new r.Qc(function(l){l(c.H$).to(g.fBa).Z();});},function(r,b,a){var g,l,m,d,f;function c(h){return l.Ye.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;r=a(0);g=a(42);l=a(43);m=a(1);d=a(35);f=a(4);ja(c,l.Ye);Ua.Object.defineProperties(c.prototype,{jYa:{configurable:!0,enumerable:!0,get:function(){return f.Xb(5E3);}},BZa:{configurable:!0,enumerable:!0,get:function(){return f.Xb(1E3);}},CZa:{configurable:!0,enumerable:!0,get:function(){return f.Xb(1E3);}}});a=c;r.__decorate([g.config(g.bk,"minDecoderBufferMilliseconds")],a.prototype,"jYa",null);r.__decorate([g.config(g.bk,"optimalDecoderBufferMilliseconds")],a.prototype,"BZa",null);r.__decorate([g.config(g.bk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"CZa",null);a=r.__decorate([m.O(),r.__param(0,m.l(d.$l))],a);b.fBa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.m_a=void 0;r=a(1);c=a(491);g=a(1149);l=a(69);m=a(1151);d=a(494);f=a(1152);h=a(381);k=a(1153);n=a(188);p=a(1154);b.m_a=new r.Qc(function(q){q(l.Mt).to(m.mCa).Z();q(c.oCa).to(g.nCa).Z();q(h.yCa).to(k.xCa);q(h.wCa).sf(function(t){return function(){return t.eb.get(h.yCa);};});q(d.TCa).to(f.SCa).Z();q(n.mY).to(p.PCa).Z();});},function(r,b,a){var m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B;function c(A){this.config=A;this.gx=[];}function g(A,E,D){this.Ia=A;this.yN=E;this.context=D;this.startTime=this.Ia.Tb();}function l(A,E,D,F,C,G,H,J,I){this.n5a=E;this.json=D;this.Ia=F;this.Dq=C;this.apa=G;this.Qa=H;this.config=J;this.Hb=I;this.log=A.sb("Pbo");J.V0a && (this.gx=new c(J));this.yN=this.n5a();}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;r=a(0);m=a(1);d=a(4);f=a(492);h=a(7);k=a(34);n=a(18);p=a(36);q=a(136);t=a(44);u=a(493);w=a(69);v=a(93);x=a(15);y=a(47);z=a(1150);B={"shakti-":"akira","UI-":"chromecast"};l.prototype.send=function(A,E){var D;D=new g(this.Ia,this.yN,A);this.gx && this.gx.append(D);return this.Aqa(A,E,D);};l.prototype.Aqa=function(A,E,D){var F;F=this;return new Promise(function(C,G){F.retry(A,E).then(function(H){var J,I;F.uSb(H);J=Z(F.zYb(H));I=J.next().value;J=J.next().value;I && (F.vpb(D),C(H));J && (F.oNa(D,J),G(J));}).catch(function(H){var J;J=F.oNa(D,H);H.gb && (H.gb=[H.gb," ",J].join(""));G(H);});});};l.prototype.uSb=function(A){(A=A.serverTime) && this.Hb.bc(x.b$.y2a,d.Xb(A));};l.prototype.zYb=function(A){var E;!1;E=A.result;if(("deviceCommand" in A)){A=A.deviceCommand;this.log.trace("Received device command '" + A + "'");switch(A){case "reset":E="RESET_DEVICE";break;case "reload":E="RELOAD_DEVICE";break;case "exit":E="EXIT_DEVICE";break;default:(E="FAIL",this.log.error("Unhandled device command '" + A + "'"));}return [,{EB:!0,code:E,detail:{message:"Server sent device action to '" + A + "' device"}}];}if(E)return (!1,[E,void 0]);if(A.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",A),[,{code:A.code,detail:{message:A.message}}]);this.log.error("Response did not contain a result or an error",A);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};l.prototype.JMb=function(A){var E;if(A){try{E=this.json.parse(A);}catch(D){throw {EB:!0,code:"FAIL",message:"Unable to parse the response body",data:A};}if(E.error)throw E.error;if(E.result)return E;throw {EB:!0,code:"FAIL",message:"There is no result property on the response"};}throw {EB:!0,code:"FAIL",message:"There is no body property on the response"};};l.prototype.smb=function(A,E,D){var F;F=this;this.LXb(E,A);this.yN=this.n5a(D);return this.yN.send(E,D).then(function(C){return {retry:!1,result:F.JMb(C.body)};}).catch(function(C){var G,H;G=z.baa.FAb(C);H=void 0 !== G?Math.min(G,E.Wpa):E.Wpa;return F.Y6(E,C,A,H)?(G=F.$nb(C,A,H),F.log.warn("Method failed, retrying",Object.assign({Method:E.Ik,Attempt:A + 1,WaitTime:G,MaxRetries:H},F.Aga(C))),Promise.resolve({retry:!0,delay:G,error:C})):Promise.resolve({retry:!1,error:C});});};l.prototype.xyb=function(A){var E,D;if(!this.Dda || this.Dda.gMb !== A){E="";D=A;Object.entries(B).find(function(F){var C;C=Z(F);F=C.next().value;C=C.next().value;if(0 === A.indexOf(F))return (E=C,A=A.slice(F.length),!0);});this.Dda={jNa:E,Wy:A,gMb:D};}return this.Dda;};l.prototype.LXb=function(A,E){var D,F,C,G;G=A.url.searchParams;G.set(y.Qt.Ldb,(E + 1).toString());G.set(y.Qt.Rg,A.Hpa.toString());G.set(y.Qt.Mdb,A.Gpa);A=this.xyb(null !== (D=this.config.Wy) && void 0 !== D?D:"");A.jNa && (G.set(y.Qt.b9a,A.jNa),A.Wy && G.set(y.Qt.Aeb,encodeURIComponent(A.Wy)),D=this.Dq.Gd,(null === D || void 0 === D?0:D.name) && G.set(y.Qt.x8a,encodeURIComponent(D.name)),(null === D || void 0 === D?0:D.version) && G.set(y.Qt.C8a,encodeURIComponent(D.version)),(null === (F=null === D || void 0 === D?void 0:D.os) || void 0 === F?0:F.name) && G.set(y.Qt.qcb,encodeURIComponent(D.os.name)),(null === (C=null === D || void 0 === D?void 0:D.os) || void 0 === C?0:C.version) && G.set(y.Qt.rcb,encodeURIComponent(D.os.version)));};l.prototype.retry=function(A,E,D){var F;F=this;D=void 0 === D?0:D;return this.smb(D++,A,E).then(function(C){if(C.retry)return F.wait(C.delay).then(function(){return F.retry(A,E,D);});if(C.error)throw C.error;if(void 0 === C.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return C.result;});};l.prototype.Y6=function(A,E,D,F){var C;C=this.Dq.P1a || z.baa.FFb(E);if(C && D < F)return !0;C?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:A.Ik,Attempt:D + 1,MaxRetries:F},this.Aga(E))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:A.Ik},this.Aga(E)));return !1;};l.prototype.$nb=function(A,E,D){return A && A.RB && void 0 !== A.RB.retryAfterSeconds?d.kh(A.RB.retryAfterSeconds):d.Xb(this.apa.v0a(1E3 * (0 === E?1:E),1E3 * Math.pow(2,Math.min(E,D))));};l.prototype.wait=function(A){var E;E=this;return new Promise(function(D){E.Qa.yj(A || d.nb,D);});};l.prototype.Aga=function(A){return u.LVa(A)?A:{message:A.message,subCode:A.$b,extCode:A.od,mslCode:A.Xu,data:A.data};};l.prototype.vpb=function(A){A.oN();};l.prototype.oNa=function(A,E){var D;A.ks(E);if(this.gx)try{D=this.json.stringify(this.gx);this.log.error("PBO command history",D);return D;}catch(F){}return "";};a=l;a=r.__decorate([m.O(),r.__param(0,m.l(h.Ab)),r.__param(1,m.l(f.oGa)),r.__param(2,m.l(k.JC)),r.__param(3,m.l(n.ud)),r.__param(4,m.l(p.Wl)),r.__param(5,m.l(q.vY)),r.__param(6,m.l(t.Ui)),r.__param(7,m.l(w.Mt)),r.__param(8,m.l(v.L9))],a);b.nCa=a;g.prototype.oN=function(){this.W=!0;this.elapsedTime=this.Ia.Tb().Sa(this.startTime);};g.prototype.ks=function(A){this.W=!1;this.elapsedTime=this.Ia.Tb().Sa(this.startTime);this.dVb=A.$b || A.subCode;this.Ewb=A.od || A.extCode;};g.prototype.toString=function(){return JSON.stringify(this);};g.prototype.toJSON=function(){var A;A=Object.assign({success:this.W,method:this.context.Ik,startTime:this.startTime.da(d.ia),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.ia):"in progress"},this.yN.Rfa());return this.W?A:Object.assign(Object.assign(Object.assign({},A),this.yN.Rfa()),{subcode:this.dVb,extcode:this.Ewb});};c.prototype.append=function(A){this.gx.push(A);0 < this.config.rka && this.gx.length > this.config.rka && this.gx.shift();};c.prototype.toJSON=function(){return this.gx;};},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.baa=void 0;g=a(2);c.FFb=function(l){var m,d;m=l && l.code;d=l && (l.ka || l.$b);l=l.od !== g.KX.dCa;d=! !d && d >= g.K.zO && d <= g.K.xO && l;return !("RETRY" !== m && "FAIL" !== m) || d;};c.FAb=function(l){var m,d;d=null === (m=null === l || void 0 === l?void 0:l.RB) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === l || void 0 === l?void 0:l.code)?1:void 0;};b.baa=c;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p){k=l.Ye.call(this,k,"PboConfigImpl") || this;k.config=n;k.Ilb=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.mCa=void 0;r=a(0);g=a(1);l=a(43);m=a(35);d=a(42);f=a(13);a=a(116);ja(c,l.Ye);Ua.Object.defineProperties(c.prototype,{Wy:{configurable:!0,enumerable:!0,get:function(){return this.config().Aq.Wy || "";}},U7:{configurable:!0,enumerable:!0,get:function(){return this.config().Aq.U7 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Aq.Koa;}},F3:{configurable:!0,enumerable:!0,get:function(){return !1;}},HIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},JIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},z2a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Ilb.aMa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.A2a);}},A2a:{configurable:!0,enumerable:!0,get:function(){return {};}},V0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},rka:{configurable:!0,enumerable:!0,get:function(){return 10;}},KKa:{configurable:!0,enumerable:!0,get:function(){return !1;}},r0:{configurable:!0,enumerable:!0,get:function(){return !1;}},XPa:{configurable:!0,enumerable:!0,get:function(){return !1;}},h6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},o6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},WPa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"Wy",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"U7",null);r.__decorate([d.config(d.Xy,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.p7,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.jd,"hasLimitedPlaybackFunctionality")],h.prototype,"F3",null);r.__decorate([d.config(d.jd,"mdxBindUsingNodeQuark")],h.prototype,"HIb",null);r.__decorate([d.config(d.jd,"mdxPairUsingNodeQuark")],h.prototype,"JIb",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"z2a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"A2a",null);r.__decorate([d.config(d.jd,"pboRecordHistory")],h.prototype,"V0a",null);r.__decorate([d.config(d.Xy,"pboHistorySize")],h.prototype,"rka",null);r.__decorate([d.config(d.jd,"pboAddXEsnHeader")],h.prototype,"KKa",null);r.__decorate([d.config(d.jd,"combineManifestAndLicense")],h.prototype,"r0",null);r.__decorate([d.config(d.jd,"enableLicensedManifestForPrefetch")],h.prototype,"XPa",null);r.__decorate([d.config(d.jd,"useLdlForPrefetchLicensedManifest")],h.prototype,"h6a",null);r.__decorate([d.config(d.jd,"pboUseStudioManifest")],h.prototype,"o6a",null);r.__decorate([d.config(d.jd,"pboEnableLeanManifest")],h.prototype,"WPa",null);h=r.__decorate([g.O(),r.__param(0,g.l(m.$l)),r.__param(1,g.l(f.Uc)),r.__param(2,g.l(a.eH))],h);b.mCa=h;},function(r,b,a){var l,m;function c(d,f,h,k,n,p,q){this.version=d;this.url=f;this.id=h;this.languages=k;this.xb=n;this.jvb=p;this.OJb=q;}function g(d){this.Ih=d;}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;r=a(0);l=a(1);a=a(69);g.prototype.create=function(d,f,h,k,n){return new c(this.Ih.version,f,d,this.Ih.languages,h,k,n);};m=g;m=r.__decorate([l.O(),r.__param(0,l.l(a.Mt))],m);b.SCa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.xb,echo:this.jvb};};},function(r,b,a){var g,l,m;function c(d,f){this.DA=f;this.log=d.sb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;r=a(0);g=a(1);l=a(7);a=a(86);c.prototype.Lda=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.xS=function(d){!1;return this.links[d];};c.prototype.Qkb=function(d){var f;f="playbackContextId=" + d.playbackContextId + "&esn=" + this.DA().Xh;d="drmContextId=" + d.drmContextId;this.Lda({events:{rel:"events",href:"/events?" + f},license:{rel:"license",href:"/license?licenseType=standard&" + f + "&" + d},ldl:{rel:"ldl",href:"/license?licenseType=limited&" + f + "&" + d}});};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(a.Ov))],m);b.xCa=m;},function(r,b,a){var g,l;function c(){this.DV=new l.XH();}Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;r=a(0);g=a(1);l=a(200);c.prototype.tM=function(m){this.DV.next(m);};Ua.Object.defineProperties(c.prototype,{wj:{configurable:!0,enumerable:!0,get:function(){return this.DV;}}});a=r.__decorate([g.O()],c);b.PCa=a;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(1);c=a(378);g=a(495);l=a(1156);m=a(497);d=a(1157);f=a(343);h=a(340);k=a(1158);n=a(1168);p=a(13);q=a(18);t=a(90);u=a(25);w=a(7);v=a(1169);x=a(498);y=a(1170);z=a(4);B=a(1171);A=a(1172);E=a(518);D=a(1173);F=a(93);C=a(499);G=a(1174);H=a(105);J=a(26);I=a(138);M=a(86);N=a(266);K=a(521);O=a(1175);R=a(67);L=a(36);Q=a(500);P=a(1176);ha=a(277);va=a(11);la=a(24);b.j=new r.Qc(function(S){S(K.taa).to(O.pDa).Z();S(ha.O8).sf(function(da){var ya;ya=da.eb;return function(U){var ma;ma=va.GNa(U.sd);return ma.mC && ma.LE && ma.eYb?new (a(1177).Bta)(U,!0,ya.get(t.zt)):new (a(1179).Cta)(U,ma.mC);};});S(c.rGa).sf(function(da){var ya;ya=da.eb;return function(U,ma,ta,Ja,wa,ra,Qa,Pa,Sa){return new (a(1180).sGa)(ya.get(B.xGa),U,ma,ta,Ja,wa,ra,Qa,Pa,Sa);};});S(B.xGa).to(A.wGa).Z();S(g.vGa).to(l.uGa).Z();S(h.kDa).to(k.jDa).Z();S(Q.CEa).to(P.BEa);S(Q.AEa).V4a(Q.CEa);S(f.fwa).sf(function(da){var ya;ya=da.eb;return function(U){return new (a(1181).gwa)(ya.get(F.ewa),ya.get(t.zt),ya.get(q.ud),U);};});S(m.gua).sf(function(){return function(da){return new d.hua(da);};});S(v.eDa).sf(function(da){var ya;ya=da.eb;return function(U){return new n.fDa(U,ya.get(w.Ab),ya.get(p.Uc),ya.get(u.xf),ya.get(t.zt));};});S(x.rDa).sf(function(da){var ya;ya=da.eb;return function(U,ma,ta,Ja,wa,ra,Qa,Pa,Sa){return new y.sDa(U,ma,ta,Ja,wa,ra,Qa,Pa,Sa,ya.get(v.eDa),ya.get(K.taa));};});S(E.XEa).sf(function(da){return function(ya){var U,ma;U=da.eb.get(p.Uc);ma=da.eb.get(w.Ab);return new D.YEa(U,ya,ma);};});S(C.mDa).sf(function(da){return function(ya){var U,ma,ta,Ja,wa;U=da.eb.get(M.Ov);ma=da.eb.get(H.ZH);ta=da.eb.get(J.yf);Ja=da.eb.get(I.cP);wa=da.eb.get(la.Nv);return new G.nDa(ya,U,ma(z.kh(1)),ta,Ja,wa);};});S(N.E$).jC(function(da){return new (a(1182).cBa)(da.eb.get(R.JO),da.eb.get(L.Wl));}).Z();});},function(r,b,a){var g,l,m,d,f,h;function c(k,n){this.Cf=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;r=a(0);g=a(15);l=a(496);m=a(18);d=a(1);f=a(4);a=a(13);c.prototype.cK=function(k){var n;k.XV={};if(!k.lF() && k.Vy && 0 < k.Vy.length && (k.Uy=this.CSa(k),k.Uy)){n=this.tTb(k);n() || (k.Ob.addListener(n),k.uf.addListener(n));}};c.prototype.tTb=function(k){var p;function n(){var q,t;if(!k.uf.value || k.Ob.value === g.ob.cg)return !1;q=k.Uy;t=q.getState();return t === l.uo.LOADING?!1:t !== l.uo.KC && q.retry?(q=p.lCb(k))?(k.XV.offset=p.Cf.Tb().da(f.ia),k.Uy=q,q.download(),!0):!1:(k.Ob.removeListener(n),k.uf.removeListener(n),!1);}p=this;return n;};c.prototype.lCb=function(k){var n,p;n=this.config();p=k.Tn.JS() < n.KWb;n=(k.uf.value?k.uf.value.bitrate:0) > n.JWb;return this.GBb(k,p && n);};c.prototype.GBb=function(k,n){if(n && (n=this.CSa(k),this.vTa(k,n.size)))return (k.XV.E1a="h",n);n=this.DAb(k);if(this.vTa(k,n.size))return (k.XV.E1a="l",n);};c.prototype.vTa=function(k,n){var p,q;p=this.config();q=Math.min(k.LQ(),k.gW());return k.Vmb.Rnb(n) * (1 + .01 * p.nlb[2]) < q * p.NWb;};c.prototype.CSa=function(k){return k.Vy[k.Vy.length - 1];};c.prototype.DAb=function(k){return k.Vy[0];};h=c;h=r.__decorate([d.O(),r.__param(0,d.l(m.ud)),r.__param(1,d.l(a.Uc))],h);b.uGa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.hua=void 0;a.prototype.W5a=function(){var c;c=this.j.Ga;if(null !== c && void 0 !== c && c.PK()){c=c.tb.get();if(null === c || void 0 === c?0:c.ci)this.j.ci=c.ci.Aa;if(null === c || void 0 === c?0:c.Ha)this.j.Ha=c.Ha.Aa;}};a.prototype.En=function(){-1 === this.j.Ha && this.W5a();return this.j.Ha;};a.prototype.Rnb=function(c){-1 !== this.j.ci && -1 !== this.j.Ha || this.W5a();return -1 === this.j.ci || -1 === this.j.Ha?Number.MAX_VALUE:this.j.ci + 8 * c / this.j.Ha;};b.hua=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I;function c(M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya,U,ma,ta,Ja,wa,ra,Qa,Pa,Sa,$a,kb){this.eF=M;this.tJ=N;this.Ia=K;this.sa=O;this.Xmb=R;this.Kra=L;this.Ama=Q;this.Bma=P;this.g4=ha;this.ed=va;this.tj=la;this.Ei=S;this.hE=da;this.soa=ya;this.Ok=U;this.dsa=ma;this.Bl=ta;this.Hl=Ja;this.Qd=wa;this.qoa=ra;this.VQb=Qa;this.iea=Pa;this.AF=Sa;this.j0=$a;this.qJ=kb;}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;r=a(0);g=a(92);l=a(1);m=a(105);d=a(31);f=a(18);h=a(38);k=a(497);n=a(365);p=a(379);q=a(462);t=a(111);u=a(118);w=a(151);v=a(94);x=a(361);y=a(498);z=a(1159);B=a(495);A=a(56);E=a(26);D=a(499);F=a(67);C=a(500);G=a(277);H=a(266);J=a(113);c.prototype.create=function(M,N,K,O,R,L){return new (a(501).lDa)(M,N,R,L,O,this.eF,K,this.Ia,this.tJ,this.sa,this.Ama,this.Xmb,this.Kra,this.Bma,this.g4,this.ed,this.tj,this.Ei,this.hE,this.soa,this.Ok,this.dsa,this.Bl,this.Qd,this.qoa,this.Hl,this.VQb(),this.iea,this.AF,void 0,this.j0);};I=c;I=r.__decorate([l.O(),r.__param(0,l.l(g.pz)),r.__param(1,l.l(d.Pg)),r.__param(2,l.l(f.ud)),r.__param(3,l.l(h.hi)),r.__param(4,l.l(k.gua)),r.__param(5,l.l(m.ZH)),r.__param(6,l.l(n.rAa)),r.__param(7,l.l(p.wAa)),r.__param(8,l.l(q.Oza)),r.__param(9,l.l(t.nD)),r.__param(10,l.l(u.RH)),r.__param(11,l.l(w.WO)),r.__param(12,l.l(x.pua)),r.__param(13,l.l(y.rDa)),r.__param(14,l.l(J.OC)),r.__param(15,l.l(B.vGa)),r.__param(16,l.l(A.Wp)),r.__param(17,l.l(F.JO)),r.__param(18,l.l(E.yf)),r.__param(19,l.l(D.mDa)),r.__param(20,l.l(C.AEa)),r.__param(21,l.l(G.O8)),r.__param(22,l.l(H.E$)),r.__param(23,l.l(z.Xua)),r.__param(23,l.optional()),r.__param(24,l.l(v.QN)),r.__param(24,l.optional())],I);b.jDa=I;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xua=b.Yua=void 0;r=b.Yua || (b.Yua={});r[r.xcb=0]="PAUSE";r[r.Jdb=1]="RESUME";r[r.l_b=2]="CAPTIONS_ON";r[r.k_b=3]="CAPTIONS_OFF";r[r.m_b=4]="CAPTION_LANGUAGE_CHANGED";r[r.AZb=5]="AUDIO_LANGUAGE_CHANGED";r[r.P1b=6]="NEXT_EP";r[r.K2b=7]="PREV_EP";r[r.fw=8]="SEEK";r[r.OEa=9]="STOP";b.Xua="CastInteractionTrackerSymbol";},function(r,b,a){var f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K;function c(){this.M7=[];this.vWb=50;}function g(O){var R;R=this;this.j=O;this.L6a=Promise.resolve();this.D9=lb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Yz=[];this.Gr=new p.Ij();this.IHa=this.pba=0;this.dZ=[];this.Qf=u.Eh(this.j,"MediaElementASE");this.IJa=B.Ti;this.Nba=!1;this.Ub=new c();this.ln={};this.mIa={};this.o2=this.zP(function(){var L;if(R.ja)return null !== (L=R.ja.webkitDecodedFrameCount) && void 0 !== L?L:0;});this.QA=this.zP(function(){var L;if(R.ja){L=R.xZ();return L?L.totalVideoFrames:R.ja.webkitDecodedFrameCount;}});this.WE=this.zP(function(){var L;if(R.ja){L=R.xZ();return L?L.droppedVideoFrames:R.ja.webkitDroppedFrameCount;}});this.rS=this.zP(function(){var L;if(R.ja){L=R.xZ();return L && L.corruptedVideoFrames;}});this.s2=this.zP(function(){var L;if(R.ja){L=R.xZ();return L && E.ii(L.totalFrameDelay * B.sk);}});this.JIa=function(L){return R.Gr.bc(C.Si.AWa,{aa:L});};this.mj=u.fa.get(F.sza).create(n.config.Mp,this,this.j);n.config.kB && (this.L6a=new Promise(function(L){R.IJa=L;R.j.addEventListener(J.T.Tf,L);}));this.Qf.trace("Created Media Element");this.addEventListener=this.Gr.addListener;this.removeEventListener=this.Gr.removeListener;this.ja=l(this.j.az);this.sourceBuffers=this.Yz;}function l(O){var R,L;R=u.fa.get(G.WGa).ABb();O=O.width / O.height * R.height;L=(R.width - O) / 2;return n.config.nTb?B.createElement("VIDEO","position:absolute;width:" + O + "px;height:" + R.height + "px;left:" + L + "px;top:0px"):B.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(O){O.preventDefault();return !1;}function d(O,R,L){var Q,P,ha;Q=O.target;Q=Q && Q.error;P=O.errorCode;ha=Q && Q.code;B.vc(ha) || (ha=P && P.code);P=Q && Q.msExtendedCode;B.vc(P) || (P=Q && Q.systemCode);B.vc(P) || (P=O.systemCode);O=B.Jb({},{code:ha,systemCode:P,trace:JSON.stringify(L)},{ly:!0});R={ka:R(ha),gb:A.vma(O)};try{Q && Q.message && (R.MT=Q.message);}catch(va){}P=B.ke(P);D.pa(P) && (R.Oe=u.Bea(P,4));return R;}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;f=a(46);h=a(283);k=a(12);n=a(11);p=a(71);q=a(60);t=a(45);u=a(6);w=a(2);v=a(19);x=a(73);y=a(325);z=a(22);B=a(27);A=a(284);E=a(10);D=a(14);F=a(507);C=a(285);G=a(483);H=a(4);J=a(15);I=a(164);M=a(62);N=! !(E.VC && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);K=N && E.IH;g.prototype.sS=function(O){try{this.ja && (this.IHa=this.ja.currentTime);}catch(R){this.Qf.error("Exception while getting VIDEO.currentTime",R);O && this.uI(w.J.cdb,R);}return E.ii(this.IHa * B.sk);};g.prototype.seek=function(O){var R;v.Za(!this.Eo);this.CJa();R=this.sS(!0);if(!n.config.Dlb && E.PC(R - O) <= this.qqa)(this.Qf.trace("Seek delta too small",{currentTime:R,seekTime:O,min:this.qqa}),this.Ub.trace("smallseek",O));else {this.Ub.trace("seek",O);try{this.Qf.trace("Setting video elements currentTime",{From:x.vh(R),To:x.vh(O)});this.Eo={};this.ja.currentTime=O / B.sk;this.Gr.bc(C.Si.wq);}catch(L){this.Qf.error("Exception while setting VIDEO.currentTime",L);this.uI(w.J.ddb,L);}}};g.prototype.wTa=function(){return ! !this.Eo;};g.prototype.addSourceBuffer=function(O){var R,L;R=B.ke(this.pba.toString() + this.Yz.length.toString());R={zV:this.pba,$_:R};try{L=new h.A$(this.j,O,this.lf,R,this.Qf);this.Yz.push(L);O == k.GH && L.bia && L.bia.addListener(this.IJa);return L;}catch(Q){L=B.md(Q);this.Qf.error("Unable to add source buffer.",{error:L});this.j.kd(w.J.X$,{ka:O === f.Cc.qk.Pb?B.K.eAa:B.K.fAa,gb:L});}};g.prototype.D_=function(O){var R;R=this;O.forEach(function(L){return R.addSourceBuffer(L);});this.Gr.bc(C.Si.A3a);return !0;};g.prototype.removeSourceBuffer=function(O){this.Yz=this.Yz.filter(function(R){return !t.vNa(O,R);});this.lf.removeSourceBuffer(O);};g.prototype.endOfStream=function(){this.Ub.trace("endofstream");!1;n.config.Xea && this.lf.endOfStream();};g.prototype.Yo=function(O){!1;this.Yz=[];O && O.o8b();return !0;};g.prototype.ASb=function(O){this.pba=O;};g.prototype.VSa=function(){if(this.lf)return H.S_a(this.lf.duration);};g.prototype.pub=function(){var O;if(!this.Nba && this.ja && this.ja.readyState >= M.Up.Vxa.HAVE_CURRENT_DATA){O=this.ja.webkitDecodedFrameCount;if(void 0 === O || 0 < O || n.config.ZYb)this.Nba=!0;}return this.Nba;};g.prototype.open=function(){var O,R,L;O=this;this.j.addEventListener(J.T.l3a,function(Q){return O.xib(Q);});if(N){if(this.j.Tx){if(!K){this.tI(w.J.WBa);return;}if(E.IH && E.IH.isTypeSupported && this.mj.Qe)try{if(!E.IH.isTypeSupported(this.mj.Qe,"video/mp4")){this.Xjb(function(Q){O.tI(w.J.QO,Q);});return;}}catch(Q){this.uI(w.J.QO,Q);return;}n.config.f6a || this.mj.o5();}try{this.lf=new E.VC();}catch(Q){this.uI(w.J.Tcb,Q);return;}try{this.Dk=URL.createObjectURL(this.lf);}catch(Q){this.uI(w.J.Ucb,Q);return;}try{this.mj.Rkb(this.JIa);this.lf.addEventListener("sourceopen",function(Q){return O.hJa(Q);});this.lf.addEventListener(this.D9 + "sourceopen",function(Q){return O.hJa(Q);});this.ja.addEventListener("error",this.ln.error=function(Q){return O.VI(Q);});this.ja.addEventListener("seeking",this.ln.seeking=function(){return O.wib();});this.ja.addEventListener("seeked",this.ln.seeked=function(){return O.vib();});this.ja.addEventListener("timeupdate",this.ln.timeupdate=function(){return O.zib();});this.ja.addEventListener("loadstart",this.ln.loadstart=function(){return O.XP();});this.ja.addEventListener("volumechange",this.ln.volumechange=function(Q){return O.Aib(Q);});this.ja.addEventListener(this.mj.xB,this.ln[this.mj.xB]=function(){O.Qf.trace(O.mj.xB);O.uib();});R=this.j.Se;L=R.lastChild;L?R.insertBefore(this.ja,L):R.appendChild(this.ja);n.config.bPa && this.ja.addEventListener("contextmenu",m);this.ja.src=this.Dk;q.df.addListener(q.OK,this.mIa[q.OK]=function(){return O.fJa();});this.fJa();}catch(Q){this.uI(w.J.Vcb,Q);}}else this.tI(w.J.YBa);};g.prototype.close=function(){var R;function O(){R.Dk && (R.CJa(),q.df.removeListener(q.OK,R.mIa[q.OK]),R.Kfb());}R=this;this.Ub.trace("close");this.ja.removeEventListener(this.mj.xB,this.ln[this.mj.xB]);this.ja.removeEventListener("error",this.ln.error);this.ja.removeEventListener("seeking",this.ln.seeking);this.ja.removeEventListener("seeked",this.ln.seeked);this.ja.removeEventListener("timeupdate",this.ln.timeupdate);this.ja.removeEventListener("loadstart",this.ln.loadstart);this.ja.removeEventListener("volumechange",this.ln.volumechange);this.mj.xQb(this.JIa);n.config.Mp?this.mj.By().then(function(){return O();}):O();this.mj.p1a && clearTimeout(this.mj.p1a);};g.prototype.Dx=function(){return this.Ub.Dx();};g.prototype.uib=function(){n.config.f6a && this.mj.o5();};g.prototype.xZ=function(){if(this.ja)return this.ja.getVideoPlaybackQuality && this.ja.getVideoPlaybackQuality() || this.ja.videoPlaybackQuality || this.ja.playbackQuality;};g.prototype.Fjb=function(){var O;O=this.j.Xj;return (O=O && O.errorCode) && 0 <= [w.J.iY,w.J.LX].indexOf(O);};g.prototype.Kfb=function(){var O;O=!1;n.config.AOb && this.Fjb() && (O=!0);n.config.mpb && !O && (this.ja.removeAttribute("src"),this.ja.load && this.ja.load());URL.revokeObjectURL(this.Dk);n.config.bPa && this.ja.removeEventListener("contextmenu",m);!O && this.ja && this.j.Se.removeChild(this.ja);this.ja=this.lf=void 0;this.Dk="";};g.prototype.fJa=function(){!0 === E.ye.hidden?this.dZ.forEach(function(O){O.refresh();O.sUb();}):this.dZ.forEach(function(O){O.refresh();O.HUb();});};g.prototype.zP=function(O){var R;R=u.fa.get(y.EBa)(O);this.dZ.push(R);return function(){R.refresh();return R.qzb();};};g.prototype.uI=function(O,R){var L,Q;L={ka:B.K.Ni,gb:B.md(R)};try{(Q=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == Q.length && (L.Oe=Q);}catch(P){}this.j.kd(O,L);};g.prototype.CJa=function(){this.dZ.forEach(function(O){O.refresh();});};g.prototype.Ggb=function(){return this.ja && this.ja.msGraphicsTrustStatus;};g.prototype.tI=function(O,R){this.j.kd(O,R,void 0);};g.prototype.Xjb=function(O){var L,Q,P;function R(ha){R=B.Ti;Q.Ip();O(ha);}L=this;Q=u.fa.get(I.gP)(500,function(){R();});Q.HA();try{P=this.j.uf.value.header.W7b.children.filter(function(ha){return "pssh" == ha.type && ha.J5b == k.uwa;})[0];new E.IH(this.mj.Qe).createSession("video/mp4",P.raw,null).addEventListener(this.D9 + "keyerror",function(ha){R(d(ha,w.F9,L.Dx()));});}catch(ha){R();}};g.prototype.xib=function(O){var R,Q,P,ha,va,la,S;if(this.ja){O=O.iW;R=this.Ggb();R && (O.ConstrictionActive=R.constrictionActive,O.Status=R.status);try{O.readyState="" + this.ja.readyState;O.currentTime="" + this.ja.currentTime;O.pbRate="" + this.ja.playbackRate;}catch(da){}R=this.Yz.length;for(var L;R--;){L=this.Yz[R];Q="";L.type == k.QX?Q="audio":L.type == k.GH && (Q="video");B.Jb(O,L.j2(),{prefix:Q});n.config.Hvb && this.j.Xj && k.GH == L.type && (Q=B.aN(L.m2()),3E3 > (Q.data && Q.data.length) && (Q.data=z.TNa(Q.data).join(),B.Jb(O,Q,{prefix:L.type})));}this.lf && (R=this.lf.duration) && !isNaN(R) && (O.duration=R.toFixed(4));if(n.config.yHb)try{P=this.j.Ee;ha=P && P.ib;if(ha){va=ha.expiration;isNaN(va) || (O.exp=va);la=ha.keyStatuses.entries();if(la.next){S=la.next().value;S && (O.keyStatus=S[1]);}}}catch(da){}}};g.prototype.hJa=function(O){!1;this.Hjb || (this.Hjb=!0,this.Gr.bc(C.Si.B3a,O));};g.prototype.wib=function(){this.Ub.trace("seeking");this.Qf.trace("Video element event: seeking");this.Eo?this.Eo.UKb=!0:(this.Qf.error("unexpected seeking event"),n.config.Uwb && this.tI(w.J.jdb,{gb:{Trace:this.Dx()}}));};g.prototype.vib=function(){this.Ub.trace("seeked");this.Qf.trace("Video element event: seeked");this.Eo?(v.Za(this.Eo.UKb),this.Eo.TKb=!0,this.dKa()):(this.Qf.error("unexpected seeked event"),n.config.Twb && this.tI(w.J.hdb,{gb:{Trace:this.Dx()}}));};g.prototype.zib=function(){var O;this.Ub.trace("timeupdate",null === (O=this.ja) || void 0 === O?void 0:O.currentTime);!1;this.Eo && (this.Eo.WKb=!0,this.dKa());this.Gr.bc(C.Si.wq);};g.prototype.XP=function(){this.Qf.trace("Video element event: loadstart");};g.prototype.Aib=function(O){this.Qf.trace("Video element event:",O.type);try{this.j.volume.set(this.ja.volume);this.j.muted.set(this.ja.muted);}catch(R){this.Qf.error("error updating volume",R);}};g.prototype.VI=function(O){this.tI(w.J.bdb,d(O,w.fxa,this.Dx()));};g.prototype.dKa=function(){this.Eo && this.Eo.TKb && this.Eo.WKb && (this.Ub.trace("seekcomplete"),this.Eo=void 0,this.Gr.bc(C.Si.gV));};Ua.Object.defineProperties(g.prototype,{qqa:{configurable:!0,enumerable:!0,get:function(){return n.config.iUb;}}});b.KAa=g;c.prototype.trace=function(O,R){this.M7.push([O,R]);this.M7.length > this.vWb && this.M7.shift();};c.prototype.Dx=function(){return this.M7;};},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u;function c(w){var v;v=this;this.j=w;this.zra=this.xYa=0;this.Tf=this.wp=!1;this.A6=0;this.vN=function(){var x,y;v.v6();v.CE && (v.log.info("Deactivating",v.CE),v.Qy.itb(v.ie()));v.j.Ek.set(null);v.HG.P2a(void 0);v.gNa();x=v.j.Oc.value;x && x.fL() && !x.B3() && (x=null);if(x && v.j.Ob.value !== t.ob.cg){y=v.ie();v.Qy.Akb(y,x);}x?(v.log.info("Activating",x),v.j.Ql.set(x.getState() === g.fD.zz.KC?t.we.Fd:t.we.Dc),v.wp || v.j.zd("tt_start"),x.j3().then(v.lJ).catch(v.lJ)):v.j.Ql.set(t.we.Fd);v.CE=x;v.XG();};this.sync=function(){v.wp && (v.HG.start(),v.j.Ob.value !== t.ob.oc && v.HG.stop());};this.XG=function(){var x;v.j.state.value === t.yb.Fd && v.j.Ob.value !== t.ob.cg && (v.Lg?x=v.HG.zyb():v.j.Oc.value && (x=c.CUb[v.j.Oc.value.getState()]));x && q.vc(x.startTime) && v.j.pt.value !== x && (v.xYa++,v.zra+=v.HG.WSa() - x.startTime,v.TLa=Math.ceil(v.zra / (v.xYa + 0)));v.j.pt.set(x);};this.ie=function(){var x;x=v.j.mja();v.CE && v.CE.zs && (x+=v.CE.zs);return x;};this.OLb=function(x){v.fireEvent(c.VTb,x);x && x.id && (v.Qy.Y5a(x.id),!1);v.log.trace("showsubtitle",v.HTa(x));};this.KLb=function(x){v.fireEvent(c.GQb,x);v.log.trace("removesubtitle",v.HTa(x));};this.Qk=function(){v.log.warn("imagesubs buffer underflow",v.j.Oc.value.Hh);v.j.Ql.set(t.we.Dc);};this.kLb=function(){v.log.info("imagesubs buffering complete",v.j.Oc.value.Hh);v.j.Ql.set(t.we.Fd);};this.j5=function(){v.wp && v.Lg && v.Lg.mr(v.ie());};this.tZa=function(x){v.wp && v.Lg && (v.Lg.pause(),v.Lg.Jy(x.Uh));};this.AB=function(){v.wp && v.Lg && v.Lg.Yoa();};this.pZa=function(x){v.Lg && v.Lg.hk(x.ng,x.$T);};this.xZa=function(x){v.Lg && v.Lg.di(x.oa,x.PXb);};this.DLb=function(){v.wp=!0;p.Ic(function(){var x,y;(null === (x=v.CE) || void 0 === x?0:x.Kn)?null === (y=v.Lg) || void 0 === y?void 0:y.mr(v.ie()):v.sync();v.XG();});};this.ALb=function(){v.gNa();v.HG.stop();v.XG();v.Tf=!0;v.v6();};this.Xna=function(x){(x=x.newValue) && q.isArray(x.blocks) && (v.Qy.Y5a.apply(v.Qy,ba(x.blocks.map(function(y){return y.id;}))),!1);};this.GLb=function(x){v.IXb(x.newValue,x.oldValue);v.sync();v.XG();};this.lJ=function(x){var y;if(!v.Tf){y=x.track;if(y === v.j.Oc.value)try{v.Lg=y.xra;y.Kn?v.ykb(x):v.zkb(x);}catch(z){v.log.error("Error activating track:",z,y);return;}v.wp || v.j.zd(x.W?"tt_comp":"tt_err");x.W?(d.config.Y1a?setTimeout(function(){v.j.Ql.set(t.we.Fd);},d.config.Y1a):v.j.Ql.set(t.we.Fd),y.Kn || v.XG()):x.aborted?v.log.warn("aborted timed text track loading"):d.config.Swb?v.j.kd(n.J.Rab,{gb:x.track?x.track.Hh:{}}):(v.log.error("ignore subtitle initialization error",x),v.j.Ql.set(t.we.Fd));}};this.Hb=new m.Ij();this.Qy=new k.MFa(h.Eh(w,"SubtitleTracker"),d.config.Tvb);this.log=h.Eh(w,"TimedTextManager");this.HG=new l.gGa(this.ie,this.XG);this.j.Oc.addListener(this.vN);d.config.XNb?(this.j.addEventListener(t.T.wp,this.DLb),this.vN()):(this.j.Ql.set(t.we.Fd),this.j.addEventListener(t.T.wp,function(){v.wp=!0;v.vN();}));this.j.Ob.addListener(this.GLb);this.j.addEventListener(t.T.Lra,this.sync);this.j.pt.addListener(this.Xna);this.j.addEventListener(t.T.Tf,this.ALb);}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;g=a(225);l=a(508);m=a(71);d=a(11);f=a(45);h=a(6);k=a(1162);n=a(2);p=a(55);q=a(14);t=a(15);u=a(1163);c.prototype.addEventListener=function(w,v,x){this.Hb.addListener(w,v,x);};c.prototype.removeEventListener=function(w,v){this.Hb.removeListener(w,v);};c.prototype.fireEvent=function(w,v,x){this.Hb.bc(w,v,x);};c.prototype.Ida=function(w,v,x){var y;y=u.cGa.Zrb(this.j,w,v,x);this.j.Rl.push(y);this.j.Mo.forEach(function(z){f.uta(z.Rl,y);});this.j.Oc.set(y);this.j.fireEvent(t.T.IG);};c.prototype.cOb=function(w){this.Npa(w)?w.j3().then(function(){}):Promise.resolve();};c.prototype.aCb=function(w){return this.Qy.HBb(w);};c.prototype.Gja=function(w){return this.Qy.Gja(w);};c.prototype.F2=function(){var w,v;w=this.j.SV;v=d.config.Qra.characterSize;v={size:d.config.E7.characterSize || v};w && (v.visibility=w.Lja(),v.YQ=w.Jja(),v.Pq=w.Kja());return v;};c.prototype.jTb=function(w){d.config.E7.characterSize=w;w=this.j.Oc.value;this.Npa(w) && !w.Kn && w.j3().then(this.lJ).catch(this.lJ);};c.prototype.IXb=function(w,v){var x;w === t.ob.oc || w == t.ob.wh?v !== t.ob.oc && v !== t.ob.wh && ((v=this.j.Oc.value) && !this.Npa(v) || this.Qy.DYa(this.ie(),v || void 0,"presentingstate:" + w)):w !== t.ob.cg && w !== t.ob.Ct || this.Qy.rha(null !== (x=this.ie()) && void 0 !== x?x:void 0,"presentingstate:" + w);};c.prototype.v6=function(){this.A6=0;clearTimeout(this.ARb);};c.prototype.gNa=function(){var w;this.Lg && this.Lg.stop();(null === (w=this.CE) || void 0 === w?0:w.Kn) && this.eXa("removeListener");this.Lg=void 0;};c.prototype.eXa=function(w){this.Lg && (this.Lg[w]("showsubtitle",this.OLb),this.Lg[w]("removesubtitle",this.KLb),this.Lg[w]("underflow",this.Qk),this.Lg[w]("bufferingComplete",this.kLb),"addListener" === w?(this.j.addEventListener(t.T.wq,this.j5),this.j.addEventListener(t.T.Ml,this.tZa),this.j.addEventListener(t.T.lG,this.AB),this.j.addEventListener(t.T.X4,this.pZa),this.j.addEventListener(t.T.usa,this.xZa)):(this.j.removeEventListener(t.T.wq,this.j5),this.j.removeEventListener(t.T.Ml,this.tZa),this.j.removeEventListener(t.T.lG,this.AB),this.j.removeEventListener(t.T.X4,this.pZa),this.j.removeEventListener(t.T.usa,this.xZa)));};c.prototype.HTa=function(w){return {currentPts:this.ie(),displayTime:w.displayTime,duration:w.duration,id:w.id,originX:w.originX,originY:w.originY,sizeX:w.sizeX,sizeY:w.sizeY,rootContainerExtentX:w.rootContainerExtentX,rootContainerExtentY:w.rootContainerExtentY};};c.prototype.ykb=function(w){var v,x;v=this;x=w.track;if(!x || !x.Kn)throw Error("Not an image base subtitle");w.W?(this.v6(),this.eXa("addListener"),this.log.info("Activated",x),this.j.Ek.set(x),this.wp?p.Ic(function(){v.Lg.mr(v.ie());}):this.Lg.pause()):this.O1a(x,w);};c.prototype.zkb=function(w){var v,x;v=w.track;x=w.W;if(!v || v.Kn)throw Error("Not a valid text track");x?(this.v6(),this.HG.P2a(this.Lg),this.log.info("Activated",v),this.j.Ek.set(v)):this.O1a(v,n.Ar(w));this.XG();};c.prototype.O1a=function(w,v){var x,y;x=this;y=this.A6 < d.config.zIb;y && (this.ARb=setTimeout(function(){x.A6++;w.j3().then(x.lJ).catch(x.lJ);},d.config.aWb));this.log.error("Failed to activate" + ((null === w || void 0 === w?0:w.Kn)?" img subtitle":""),{retry:y},v,w);};c.prototype.Npa=function(w){return !(!w || w.fL() && !w.B3());};b.eGa=c;r={};c.CUb=(r[g.fD.zz.LOADING]={h7b:!0},r[g.fD.zz.EO]={ks:!0},r);c.VTb="showsubtitle";c.GQb="removesubtitle";},function(r,b,a){var l;function c(m,d,f){this.start=m;this.track=d;this.zG=Array.isArray(f)?f:[];}function g(m,d){this.log=m;this.Zy=d;this.cpa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;l=a(19);g.prototype.Akb=function(m,d){this.DYa(m,d,"activating");};g.prototype.itb=function(m){this.rha(m,"de-activating");};g.prototype.DYa=function(m,d,f){var h;this.Uj && this.rha(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ba(this.orphans)),this.orphans=[]);this.Uj=new c(m,d,h);this.Zy && this.log.trace("new range: " + f,this.Uj);};g.prototype.rha=function(m,d){this.Uj && (this.Uj.end=m,this.cpa.push(this.Uj),this.Zy && this.log.trace("end range: " + d,this.Uj || ({})),this.Uj=void 0);};g.prototype.Y5a=function(m){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.Uj?this.Uj.zG.push.apply(this.Uj.zG,ba(d)):this.orphans.push.apply(this.orphans,ba(d));};g.prototype.Gja=function(m){var d,f;d=this.cpa.slice(0);if(this.Uj && "undefined" !== typeof m){f=new c(this.Uj.start,this.Uj.track,this.Uj.zG);f.end=m;d.push(f);}m=d.reduce(function(h,k){var n,p,q,t;if(!k.track)return h;p=k.track.Ld;q=k.track.Fq(k.start,k.end);if(void 0 === q || null === q)return h;t=new Set(k.zG);h[p]?(k=h[p],k.expected+=q,k.missed+=q - t.size):h[p]={dlid:p,bcp47:k.track.hm,profile:k.track.profile,expected:q,missed:q - t.size,startPts:null !== (n=k.track.VBb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.Zy && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};g.prototype.HBb=function(m){var d,f,h,k;d=this.cpa.slice(0);f=0;h=0;if(this.Uj && "undefined" != typeof m){k=new c(this.Uj.start,this.Uj.track,this.Uj.zG);k.end=m;d.push(k);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){l.Za(!1,"negative range");n.TB=0;return;}p=new Set(n.zG);q=n.track.Fq(n.start,n.end);n.C1=q;n.TB=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.TB=100;p=n.end - n.start;f+=p;h+=n.TB * p;});k=f?Math.round(h / f):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.Zy && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.TB),lang:n.track?n.track.hm:"none","actual  ":n.zG.join(" "),expected:n.C1};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,p){return p;}," ")));return k;};b.MFa=g;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t,u,w,v){var x,y;q=f.fD.call(this,t,q,q,"1",{0:u},[{id:0,name:"custom"}],"xx",w || q,h.fq.OH,void 0,"primary",null !== (x=null === v || void 0 === v?void 0:v.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (y=null === v || void 0 === v?void 0:v.midx) && void 0 !== y?y:{},!1,!1,null === v || void 0 === v?void 0:v.isLanguageLeftToRight) || this;q.j=t;q.url=u;q.options=v;q.st=null === v || void 0 === v?void 0:v.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;r=a(59);g=a(11);l=a(60);m=a(6);d=a(27);f=a(225);h=a(141);k=a(70);n=a(129);p=a(15);r.saa(r.oaa,function(q){var u;function t(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.Ft.seb){v=d.createElement("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var x,y,z;x=v.files[0];if(x){y=x.name;u.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.Kp.Ida("nourl",y,{content:z.result});});}});v.click();}}u=m.Eh(q,"TimedTextCustomTrack");g.config.rga && (u.info("Loading url",{Url:g.config.rga}),q.Kp.Ida(g.config.rga,"custom"));l.df.addListener(l.XA,t);q.addEventListener(p.T.Tf,function(){l.df.removeListener(l.XA,t);});});ja(c,f.fD);c.Zrb=function(q,t,u,w){var v;v="custom" + c.CEb++;return new c(v,q,t,u,w);};c.prototype.tPa=function(){var q;q=this;return new Promise(function(t,u){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)t(q.options.content);else if(q.url){v={responseType:k.ska,url:q.url,track:q,Hc:null,GE:"tt-" + q.hm};q.j.c3.download(v,function(x){x.W?t(x.content):(x.reason="downloadfailed",x.url=v.url,x.track=q,u(x));});}});};b.cGa=c;c.CEb=0;},function(r,b,a){var g,l,m,d,f,h;function c(k){var n,p;n=this;this.j=k;this.qLb=function(){var q;m.df.removeListener(m.M2,n.vZa);q=n.Iq.kp();q && q.parentNode && q.parentNode.removeChild(q);};this.Xna=function(q){n.Iq.LSb(q.newValue);};this.SLb=function(q){n.Iq.RSb(q.newValue?q.newValue.E3:void 0);};this.vZa=function(){n.Iq.CM();};this.Iq=new f.dGa(d.config.Pra,k.Oc.value?k.Oc.value.E3:void 0);p=k.az;l.Za(.1 < p.width / p.height);this.Iq.BSb(p.width / p.height);k.Se.appendChild(this.Iq.kp());k.pt.addListener(this.Xna);k.Oc.addListener(this.SLb);k.addEventListener(h.T.Tf,this.qLb,g.YC);m.df.addListener(m.M2,this.vZa);}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;g=a(12);l=a(19);m=a(60);d=a(11);f=a(513);h=a(15);c.prototype.Sqa=function(k){this.Iq.Sqa(k);};c.prototype.Lja=function(){return this.Iq.Lja();};c.prototype.Qqa=function(k){this.Iq.Qqa(k);};c.prototype.Jja=function(){return this.Iq.Jja();};c.prototype.Rqa=function(k){this.Iq.Rqa(k);};c.prototype.Kja=function(){return this.Iq.Kja();};b.fGa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m0a=void 0;b.m0a=function(a){var c,g;c=!1;g=!1;return function(){if(c)g=!0;else for(g=!0;g;){g=!1;c=!0;a();c=!1;}};};},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u){this.j=u;this.xVb=!1;this.log=d.Eh(this.j,"MediaAppendManager");this.zb=this.j.zb;this.ja=this.zb.ja;this.kW=this.OQ=!1;this.audio={type:m.Ph.audio,AA:[],Pk:[],hM:!1};this.video={type:m.Ph.video,AA:[],Pk:[],hM:!1};u={};this.MG=(u[g.Cc.qk.Bb]=this.video,u[g.Cc.qk.Pb]=this.audio,u);this.closed=!1;this.by=l.config.by;this.E4=l.config.E4;this.NF=l.FNa(! !this.j.Va.jj).NF;this.ULa=!0;h.Za(this.by > this.E4,"bad config");h.Za(this.by > this.NF,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;g=a(46);l=a(11);m=a(81);d=a(6);f=a(2);h=a(19);k=a(27);n=a(15);p=a(171);q=a(4);t=a(62);c.prototype.i2=function(){var v,x;function u(y,z){return w(y,z.w4);}function w(y,z){var B,A,E,D;E=! !z.response;D=z.response;if(z.Ac)return y + (D.byteLength || 0);z=(null !== (B=null === z || void 0 === z?void 0:z.yJ) && void 0 !== B?B:0) - (null !== (A=null === z || void 0 === z?void 0:z.zJ) && void 0 !== A?A:0);return (E?D.byteLength:z) + y;}v=this.MG[g.Cc.qk.Bb];x=this.MG[g.Cc.qk.Pb];return {videoToAppend:v.Pk.reduce(w,0),videoInBuffer:v.AA.reduce(u,0),audioToAppend:x.Pk.reduce(w,0),audioInBuffer:x.AA.reduce(u,0)};};c.prototype.IKb=function(){this.audio.Cj && !this.audio.Cj.Yh() && (!1,this.audio.Cj.gLa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.cTb=function(){this.audio.Vqa=!0;this.video.Vqa=!0;};c.prototype.iTb=function(u){u === g.Cc.qk.Pb?this.OQ=!0:u === g.Cc.qk.Bb && (this.kW=!0);};c.prototype.Yh=function(){var u,w;return !(null === (u=this.audio.Cj) || void 0 === u || !u.Yh()) || !(null === (w=this.video.Cj) || void 0 === w || !w.Yh());};c.prototype.T6=function(u){var w,v;null === (w=this.audio.Cj) || void 0 === w?void 0:w.T6(u);null === (v=this.video.Cj) || void 0 === v?void 0:v.T6(u);};c.prototype.Mlb=function(u){var w;u.mediaType === g.Cc.qk.Pb?this.OQ=!1:u.mediaType === g.Cc.qk.Bb && (this.kW=!1);w=this.MG[u.mediaType];w?w.Pk.push(u):h.Za(!1);};c.prototype.Klb=function(u,w,v){w={mediaType:u.type,hB:!1,response:w,Fh:function(){return "header";},get Ac() {return !this.hB;},profile:v.profile};(u=this.MG[u.type])?u.Pk.push(w):h.Za(!1);};c.prototype.gTb=function(u){var w;w=this.MG[u.type];if(w)try{w.Cj=u;}catch(v){this.kd(f.J.X$,{ka:p.r2(u.type),gb:k.md(v)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.kd=function(u,w,v){this.closed || this.j.kd(u,w,v);};c.prototype.Cga=function(u){return this.mPa(this.audio,u,this.P0()) && this.mPa(this.video,u,this.P0());};c.prototype.P0=function(){return this.j.Ob.value === n.ob.cg?this.NF:this.E4;};c.prototype.iWb=function(){var u,w;u=this.video.Pk.filter(function(v){return !v.Ac;}).reduce(function(v,x){return v + x.rx;},0);w=this.audio.Pk.filter(function(v){return !v.Ac;}).reduce(function(v,x){return v + x.rx;},0);return Math.min(u,w);};c.prototype.mPa=function(u,w,v){var x;x=u.Dga;x=x && x.w4;return !u.Cj || 0 === u.Pk.length && (u.type === m.Ph.audio && this.OQ || u.type === m.Ph.video && this.kW)?!0:x && x.jv - w >= v || !1;};c.prototype.gsa=function(u){var w,v;this.xVb || (this.q5a(this.audio,u),this.q5a(this.video,u));!(this.closed || !(0 === this.audio.Pk.length && this.OQ || 0 === this.video.Pk.length && this.kW) || (null === (w=this.audio.Cj) || void 0 === w?0:w.Yh()) || (null === (v=this.video.Cj) || void 0 === v?0:v.Yh()) || this.qha) && this.ja.readyState > t.Up.Vxa.HAVE_NOTHING && (this.qha=!0,this.zb.endOfStream());};c.prototype.q5a=function(u,w){var v,x,y;if(!this.closed && u.Cj){v=u.Cj;x=u.AA;!v.Yh() && 0 < x.length && (u.Dga=x[x.length - 1]);if(u.Vqa){if(v.Yh())return;u.Vqa=!1;y=this.zb.VSa().R_a(q.Xm);0 < y && v.remove(0,y);}for(y=u.Pk[0];y && y.response && (y.Ac || y.zy - w <= this.by);){if((this.qha=!1,this.VWb(y)))(u.Pk.shift(),y=u.Pk[0]);else break;}!v.Yh() && 0 < x.length && (u.Dga=x[x.length - 1]);}};c.prototype.VWb=function(u){var w,v,x;!1;h.Za(u && ! !u.response);w=u.response;v=u.mediaType;x=this.MG[v];if(!this.closed && x.Cj && !x.Cj.Yh()){try{u.Ac && u.profile && x.Cj.Cob(u.profile);this.log.trace("Feeding media segment to decoder",{Bytes:w.byteLength});x.Cj.gLa(w,u);u.Ac || x.AA.push(this.bsb(u));l.config.Bub && !u.Ac && u.cNa();}catch(y){"QuotaExceededError" === y.name?(this.j.R0=this.j.R0?this.j.R0 + 1:1,this.ULa=!1,x.hM=!0):(this.log.error("Exception while appending media",u,y),this.kd("CodecSwitchingError" === y.name?f.J.ZBa:f.J.edb,p.r2(v)));return;}return !0;}};c.prototype.Srb=function(u){var w;w=this.j.$Cb(u.cc);w || (this.log.warn("Could not find CDN",{cdnId:u.cc}),w={id:u.cc,$la:u.location});return w;};c.prototype.kOa=function(u){var w,v;v=u.Fa;u.mediaType === g.Cc.qk.Pb?w=this.j.Xja(v):u.mediaType === g.Cc.qk.Bb && (w=this.j.cka(v));w || this.log.error("Could not find stream",{stream:v});return w;};c.prototype.bsb=function(u){var w;w=this.kOa(u);return {w4:u,stream:w,vq:{startTime:Math.floor(u.zy),endTime:Math.floor(u.jv)},Hc:this.Srb(u)};};c.prototype.gfa=function(u){this.ZMa(u,g.Cc.qk.Pb);this.ZMa(u,g.Cc.qk.Bb);};c.prototype.ZMa=function(u,w){var v,x,y,z,B,A,E,D,F;v=this;x=u;this.ULa && (x-=l.config.HM);y=this.MG[w];z=y.AA;E=!1;z.some(function(C,G){var H;H=C.w4;if(u < H.zy)return (h.Za(!1,"decoder content does not contain media time"),!0);x >= H.jv && (B=G);if(u < H.jv)return (A=G,G=w === g.Cc.qk.Pb?v.j.Jg:v.j.If,C !== G.value && (G.set(C),E=!0),!0);});if((y.hM || E) && void 0 !== B && !this.qha){if(B + 1 === A){if(0 === B)return;B--;}D=z[B].w4.jv - 1;if(0 < D){F=y.Cj;F && !F.Yh()?(F.remove(0,D / k.sk),y.hM=!1,z.splice(0,B + 1)):(y.hM=!0,!1);}}};c.prototype.G1a=function(){!1;[this.audio,this.video].forEach(function(u){u.AA=[];u.Dga=void 0;u.Pk=[];});this.kW=this.OQ=!1;this.j.fireEvent(n.T.t4);};c.prototype.Nja=function(){return [this.audio,this.video].filter(function(u){return u.Cj;});};c.prototype.Zyb=function(){var u,w;if(this.Yh())h.Za(!1,"should not be busy while checking buffer ranges");else {u=this.Nja().map(function(v){var x,y,z,B,A;B=v.Pk.filter(function(E){return E.hB;});A=v.Cj.buffered();v=A.length?Math.ceil(1E3 * A.start(0)):void 0;A=A.length?Math.floor(1E3 * A.end(A.length - 1)):void 0;v=null !== v && void 0 !== v?v:null === (x=B[0]) || void 0 === x?void 0:x.zy;x=null !== (z=null === (y=B[B.length - 1]) || void 0 === y?void 0:y.jv) && void 0 !== z?z:A;if(void 0 !== v && void 0 !== x)return {start:v,end:x};});if(u.every(function(v){return v;})){w=Math.max.apply(Math,ba(u.map(function(v){return v.start;})));u=Math.min.apply(Math,ba(u.map(function(v){return v.end;})));if(u > w)return {start:q.Xb(w),end:q.Xb(u)};}}};c.prototype.skip=function(u){h.Za(!this.Yh(),"should not be busy while skipping");this.Nja().forEach(function(w){w.hM=!0;});this.gfa(u);this.Nja().forEach(function(w){0 < w.AA.length || (w.Pk=w.Pk.filter(function(v){return v.Ac || v.jv > u?!0:!1;}));});};b.BAa=c;},function(r,b,a){var g,l;function c(m,d){m=g.xc.call(this,m) || this;m.Lma=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.qDa=void 0;g=a(103);l=a(73);ja(c,g.xc);c.prototype.set=function(m){g.xc.prototype.set.call(this,l.no(m,0,this.Lma));};b.qDa=c;},function(r,b,a){var l,m,d,f,h,k,n,p;function c(q,t,u,w,v){var x;x=this;this.bi=q;this.config=u;this.Xa=w;this.debug=v;this.K5=[];this.Uq=[];this.uoa=[];this.gE={};this.oPa=!1;this.UQ={};this.Wka=0;this.log=t.sb("PlayTimeTracker");this.startTime=this.bi.mediaTime.value;this.f4=this.config().tkb;this.rW();this.gE.abrdel=0;this.f4.forEach(function(y){y="abrdel" + y;x.UQ[y]=0;x.gE[y]=0;});}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.fDa=void 0;r=a(0);l=a(1);m=a(7);d=a(13);f=a(88);a(4);h=a(25);k=a(90);n=a(12);p=a(22);g.prototype.encode=function(q){return {key:q.key,downloadableId:q.Ld,bitrate:q.bitrate,vmaf:q.mb,duration:q.duration,metric:q.OT,cdnId:q.tA};};g.prototype.decode=function(q){return {key:q.key,Ld:q.downloadableId,bitrate:q.bitrate,mb:q.vmaf,duration:q.duration,OT:q.metric,tA:q.cdnId};};c.prototype.JS=function(){var q;this.uG(this.bi.mediaTime.value);q=0;this.Uq.forEach(function(t){q+=(t.endTime - t.startTime) / t.rate;});return Math.floor(q);};c.prototype.UTa=function(){var q;this.uG(this.bi.mediaTime.value);q=0;this.Uq.forEach(function(t){q+=t.endTime - t.startTime;});this.debug.assert(q === Math.floor(q),"Value of totalContentPlayTime is not an integer.");return Math.floor(q);};c.prototype.Jyb=function(){this.uG(this.bi.mediaTime.value);return {audio:this.uS(this.K5,this.cSa),video:this.uS(this.Uq,this.cSa)};};c.prototype.jBb=function(){var q;q={total:this.JS(),totalContentTime:this.UTa(),audio:this.uS(this.K5,this.q2),video:this.uS(this.Uq,this.q2),timedtext:this.uS(this.uoa,this.q2)};this.debug.assert(!(!q.audio || !q.video));return q;};c.prototype.CRa=function(){var q,t;this.uG(this.bi.mediaTime.value);q=this.xia(this.Uq,this.Xyb);try{t=this.DRa(q);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.gE.abrdel=Math.round(t);return this.gE.abrdel;};c.prototype.Pyb=function(){var q,t;this.uG(this.bi.mediaTime.value);q=this.xia(this.Uq,this.yCb);try{t=this.DRa(q);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(t);};c.prototype.Oyb=function(){var q,t;q=this;if(!this.oPa){t=this.JS();this.f4.forEach(function(u){var w,v,x;if(0 === q.UQ["abrdel" + u] && t > u * n.sk){w=0;v=0;x=0;q.Uq.some(function(y){w+=y.stream.bitrate * (y.endTime - y.startTime);v+=y.endTime - y.startTime;x=y.stream.bitrate;if(v > u * n.sk)return !0;});w && (q.UQ["abrdel" + u]=Math.round((w - x * (v - u * n.sk)) / (u * n.sk)));}});0 !== this.UQ["abrdel" + this.f4[this.f4.length - 1]] && (this.oPa=!0);p.Wd(this.UQ,function(u,w){q.gE[u]=0 === w?q.gE.abrdel:w;});}return this.gE;};c.prototype.Okb=function(q){this.Wka+=q;};c.prototype.mDb=function(){return ! !(this.Uq[0] && this.Uq[0].stream && this.Xa.Uf(this.Uq[0].stream.mb));};c.prototype.rW=function(){var q;q=this;this.bi.Jg.addListener(function(t){q.KJ=q.PMa(q.KJ,q.K5,t.newValue);});this.bi.If.addListener(function(t){q.NJ=q.PMa(q.NJ,q.Uq,t.newValue);});this.bi.playbackRate.addListener(function(t){q.uG(q.bi.mediaTime.value,t.oldValue);});this.bi.Ek.addListener(this.fLb.bind(this));};c.prototype.AKb=function(q,t){this.uG(q);this.startTime=t;this.NJ=this.KJ=void 0;this.MJ && (this.MJ.startTime=this.startTime);!1;};c.prototype.fLb=function(q){this.LU(this.MJ,this.uoa,this.bi.mediaTime.value);this.MJ=q.newValue?{track:q.newValue,startTime:this.bi.mediaTime.value,endTime:f.uz}:void 0;};c.prototype.uG=function(q,t){t=void 0 === t?this.bi.playbackRate.value:t;q && this.KJ && this.NJ && (q=Math.min(q,this.KJ.endTime,this.NJ.endTime),this.LU(this.KJ,this.K5,q,t),this.KJ.startTime=q,this.LU(this.NJ,this.Uq,q,t),this.NJ.startTime=q,this.MJ && (this.LU(this.MJ,this.uoa,q,t),this.MJ.startTime=q),this.startTime=q,!1);};c.prototype.PMa=function(q,t,u){q && this.LU(q,t,Math.min(q.endTime,this.bi.mediaTime.value));if(u && u.stream)return (q=u.vq,t=u.stream,{Hc:u.Hc,track:t.track,stream:t,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime});};c.prototype.LU=function(q,t,u,w){w=void 0 === w?this.bi.playbackRate.value:w;q && u && u >= q.startTime && (q={Hc:q.Hc,track:q.track,stream:q.stream,startTime:q.startTime,endTime:u,rate:w},(u=t[t.length - 1]) && u.track === q.track && u.stream === q.stream && u.Hc === q.Hc && u.endTime === q.startTime && u.rate === q.rate?u.endTime=q.endTime:t.push(q),!1);};c.prototype.xia=function(q,t){var u,w;u=this;w={};return q.reduce(function(v,x){var y,z,B;y=t.bind(u,x)();z=y.key;x=x.endTime - x.startTime;B=w[z];B?B.duration+=x:(delete y.key,B=y,B.duration=x,v.push(B),w[z]=B);return v;},[]);};c.prototype.uS=function(q,t){return this.xia(q,t).map(function(u){return new g().encode(u);});};c.prototype.q2=function(q){var t,u,w;t=q.stream;if(t){q=t.Ld;u=t.bitrate;w=t.mb;}else q=q.track.Ld;return {key:q + "$" + (u || 0),Ld:q,bitrate:u,mb:w};};c.prototype.cSa=function(q){var t;t=this.q2(q);q=q.Hc.id;return Object.assign({},t,{key:t.key + "$" + q,tA:q});};c.prototype.Xyb=function(q){q=(q=q.stream)?q.bitrate:0;return {key:q,OT:q};};c.prototype.yCb=function(q){q=(q=q.stream)?q.mb:0;return {key:q,OT:q};};c.prototype.DRa=function(q){var t,u,w;t=this;u=0;q.forEach(function(v){if(t.Xa.Uf(v.duration) && t.Xa.Uf(v.OT))u+=v.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;w=0;q.forEach(function(v){w+=v.OT * v.duration / u;});return w;};a=c;a=r.__decorate([l.O(),r.__param(1,l.l(m.Ab)),r.__param(2,l.l(d.Uc)),r.__param(3,l.l(h.xf)),r.__param(4,l.l(k.zt))],a);b.fDa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eDa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var g,l;function c(m,d,f,h,k,n,p,q,t,u,w){this.index=m;this.H=d;this.oa=f;this.Va=h;this.ca=k;this.Il=n;this.hma=p;this.bqb=t;this.aYa=w;this.Yc=new g.xc(null);this.xg=new g.xc(null);this.Oc=new g.xc(null);this.Ek=new g.xc(null);this.pt=new g.xc(void 0);this.uf=new g.xc(null);this.ql=new g.xc(null);this.Jg=new g.xc(null);this.If=new g.xc(null);this.mediaTime=new g.xc(void 0);this.playbackRate=new g.xc(1);this.Oo=new g.xc(null);this.rA=this.oE="notcached";this.background=!1;q && (this.uf.set(q.uf.value),this.ql.set(q.ql.value));this.Tn=u(this);this.Hl=this.aYa.iQb(this.ca,this.Il);}Object.defineProperty(b,"__esModule",{value:!0});b.sDa=void 0;g=a(103);l=a(4);c.prototype.zd=function(m){this.Hl.Jo(m);};c.prototype.Jx=function(m){var d;d=this;Object.entries(m).forEach(function(f){var h;h=Z(f);f=h.next().value;h=h.next().value;d.Hl.Jo(f,l.Xb(h - d.Il.da(l.ia)));});};c.prototype.e5=function(){this.aYa.AQb(this.ca);};Ua.Object.defineProperties(c.prototype,{sd:{configurable:!0,enumerable:!0,get:function(){return this.Va.sd;}},g8:{configurable:!0,enumerable:!0,get:function(){return this.Va.g8;}},wl:{configurable:!0,enumerable:!0,get:function(){return this.ic && this.ic.wl;}},Mo:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.Mo) && void 0 !== m?m:[];}},io:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.io) && void 0 !== m?m:[];}},Vy:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.Vy) && void 0 !== m?m:[];}},Rl:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.Rl) && void 0 !== m?m:[];}},Di:{configurable:!0,enumerable:!0,get:function(){return this.ic && this.ic.Di;}},Tx:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.Tx) && void 0 !== m?m:!1;}},Xs:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.Xs) && void 0 !== m?m:[];}},Hk:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.Hk) && void 0 !== m?m:[];}},R5:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.ic && this.ic.R5) && void 0 !== m?m:[];}},Wr:{configurable:!0,enumerable:!0,get:function(){return this.Hba && 0 < this.Hba.da(l.ia)?this.Hba:l.Xb(this.la?this.la.Bc.duration:0);},set:function(m){this.Hba=m;}},lk:{configurable:!0,enumerable:!0,get:function(){return this.Va.lk || 0;}},oga:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.z0?this.z0:void 0 === this.mediaTime.value?null:this.bqb(this.mediaTime.value,this.oa);}},Tj:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.la) || void 0 === m?void 0:m.Bc.KMa) || void 0 === d?void 0:d.sy;}},pG:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.la) || void 0 === m?void 0:m.Bc.KMa) || void 0 === d?void 0:d.pG;}},Sc:{configurable:!0,enumerable:!0,get:function(){return this.Hl.Sc;}}});b.sDa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xGa="TrickPlayParserSymbol";},function(r,b,a){var g,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wGa=void 0;r=a(0);l=a(157);a=a(1);c.prototype.parse=function(d){var f,h;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);h=new l.gO(f);d=this.BMb(h);f=this.DMb(h,f,d);return {header:d,images:f};};c.prototype.BMb=function(d){var f,h,k,n;if(d.uja() < this.fRb())throw Error("array buffer too short");g.Vza.forEach(function(p){if(p != d.Ay())throw Error("BIF has invalid magic.");});f=d.wM();if(f > g.VERSION)throw Error("BIF version in unsupported");h=d.wM();if(0 == h)throw Error("BIF has no frames.");k=d.wM();n=d.vj(g.lEa);return {version:f,QKb:h,S4a:k,kRb:n};};c.prototype.DMb=function(d,f,h){var p,q;for(var k=[],n=0;n <= h.QKb;n++){p={timestamp:d.wM(),offset:d.wM()};void 0 != q && k.push(f.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.fRb=function(){return g.Vza.length + 4 + 4 + 4 + g.lEa;};m=g=c;m.Vza=[137,66,73,70,13,10,26,10];m.VERSION=0;m.lEa=44;m=g=r.__decorate([a.O()],m);b.wGa=m;},function(r,b,a){var g,l,m;function c(d,f,h){this.config=d;this.j=f;this.rg=h;this.wU=void 0;this.z5=!1;this.Kla=0;this.log=this.rg.sb();}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;g=a(15);l=a(4);m=a(73);c.prototype.SAb=function(d,f,h,k,n){var p,q,t,u,w;h=void 0 === h?this.j.oa:h;k=void 0 === k?!1:k;p=f === g.Ad.bD;q=this.j.ISa(h);t=this.bob(p?d:this.epb(d,h),k,h,q);k=this.j.Ga;p?(d=t,t=k.Vo(q,t,h)):d=k.yA(q,t,h);f === g.Ad.Tv && (this.j.gMa=t);n=this.Yg(d,f,n);u=(f === g.Ad.fw || f === g.Ad.YH) && !this.j.QVa;u=(p=p || n || u)?d:t;if(this.j.xp){w=this.config().NF;this.j.lUa(u,w) || f !== g.Ad.fw || (u=this.j.xp.da(l.ia) - w - 1E3,p?(d=u,t=k.Vo(q,u,h)):(d=k.yA(q,u,h),t=u));}return {W4:u,Uh:t,KNb:d,Yg:n};};c.prototype.bob=function(d,f,h,k){d=this.BFb() || f?Math.round(d):this.UBb(d,h,k);this.j.Va.jj && (d=this.Vxb(d));this.config().pqa && (d+=this.config().pqa);return d;};c.prototype.Yg=function(d,f,h){if(this.config().zub || f === g.Ad.Tv || f === g.Ad.bD || f === g.Ad.YH || f === g.Ad.mX || !h || d < h.start.da(l.ia) || d >= h.end.da(l.ia))return !1;f=this.j.Ga;return (null === f || void 0 === f?void 0:f.ah()) && f.Yg(d) || !1;};c.prototype.BFb=function(){return this.j.Va.jj?!0:"boolean" === typeof this.j.Va.DU?this.j.Va.DU:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().DU && this.config().YNb:this.config().DU;};c.prototype.epb=function(d,f){var h;f=this.j.Fu(f);h=f.Wr;f=(f.IXa || h).da(l.ia) - this.config().jZb;return m.no(d,0,f);};c.prototype.UBb=function(d,f,h){var k;k=this.j.Va.jj?this.config().O5b:this.config().GPa;return this.j.Ga.cR(d,h,k,f);};c.prototype.Vxb=function(d){var f,h,k;f=this.j.pS();if(Object.values(f).find(function(n){var p;p=n.Mc;p=d < (null !== p && void 0 !== p?p:Infinity);return n.Zb <= d && p;}))return (!1,d);k=d;Object.entries(f).forEach(function(n){var p;n=Z(n);n.next();n=n.next().value.Zb;p=n - d;0 < p && (void 0 === h || p < h) && (h=p,k=n);});!1;return k;};Ua.Object.defineProperties(c.prototype,{kla:{configurable:!0,enumerable:!0,get:function(){return this.z5 || ! !this.wU;}}});b.YEa=c;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v;function c(x,y,z,B,A,E){var D;D=this;this.j=x;this.Wh=y;this.bW=z;this.Dd=B;this.yV=A;this.lm=E;this.wOa={};this.update=function(){var F;if(D.co.selectionStart == D.co.selectionEnd){F="";D.t2().forEach(function(C){F=F?F + "\n":"";Object.entries(C).forEach(function(G){var H;H=Z(G);G=H.next().value;H=H.next().value;F+=G + ": " + H + "\n";});});D.co.style.fontSize=d.no(h.Wv(D.element.clientHeight / 60),8,18) + "px";D.co.value=F;}};this.uLb=function(){var F,C;if(D.j.Xf){C=D.j.Xf.WE();C && (D.pga=C - (null !== (F=D.$4a) && void 0 !== F?F:0),D.$4a=C,D.$L());}};this.$L=function(){D.bW.dd(D.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.Ft.e9a || F.keyCode == p.Ft.Q) && D.toggle();};this.B_a=[x.mediaTime,x.Hc[g.Cc.jb.Pb],x.Hc[g.Cc.jb.Bb],x.Jg,x.If,x.ql,x.uf,x.Ek,x.state,x.rn,x.Ob,x.volume,x.muted];this.element=this.Dd.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.co=this.Dd.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.co);this.controls=this.Dd.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Dd.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.Hq();},!1);this.controls.appendChild(y);m.df.addListener(m.XA,this.onkeydown);x.addEventListener(n.T.Tf,function(){m.df.removeListener(m.XA,D.onkeydown);D.Hq();});}Object.defineProperty(b,"__esModule",{value:!0});b.nDa=void 0;g=a(46);l=a(59);m=a(60);d=a(73);f=a(284);h=a(10);k=a(14);n=a(15);p=a(129);q=a(4);r={};t=(r[n.yb.JH]="Not Loaded",r[n.yb.LOADING]="Loading",r[n.yb.Fd]="Normal",r[n.yb.CLOSING]="Closing",r[n.yb.CLOSED]="Closed",r);r={};u=(r[n.we.Fd]="Normal",r[n.we.Dc]="Pre-buffering",r[n.we.NEa]="Network stalled",r);r={};w=(r[n.ob.cg]="Waiting for decoder",r[n.ob.oc]="Playing",r[n.ob.wh]="Paused",r[n.ob.Ct]="Media ended",r);v=[n.T.t4,n.T.Wmb];c.prototype.ISb=function(x){this.wOa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.GEb=lb.setInterval(this.uLb,1E3),this.j.Se.appendChild(this.element),this.B_a.forEach(function(y){y.addListener(x.$L);}),v.forEach(function(y){x.j.addEventListener(y,x.$L);}),this.visible=!0,this.lm.HV().then(function(y){x.dka=y;x.$L();}));this.update();};c.prototype.Hq=function(){var x;x=this;this.visible && (clearInterval(this.GEb),this.$4a=this.pga=void 0,this.j.Se.removeChild(this.element),this.B_a.forEach(function(y){y.removeListener(x.$L);}),v.forEach(function(y){x.j.removeEventListener(y,x.$L);}),this.bW.dd(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Hq():this.show();};c.prototype.t2=function(){var x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la,S,da,ya,U,ma,ta,Ja,wa,ra,Qa,Pa,Sa,$a,kb,bb;C=[];G=this.Wh();C.push({Version:"6.0030.553.911",Esn:G?G.Xh:"UNKNOWN",PBCID:this.j.Tj,UserAgent:h.Yp});try{H={MovieId:this.j.H,TrackingId:this.j.lk,Xid:this.j.ca + " (" + l.qo.map(function(Ra){return Ra.ca;}).join(", ") + ")",Position:d.vh(this.j.mediaTime.value),Duration:d.vh(this.j.Wr.da(q.ia)),PlayerDuration:d.vh(this.j.xp.da(q.ia)),Volume:h.ii(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.Va.jj || this.j.Va.jT)(H["Segment Position"]=d.vh(this.j.TA()),H.Segment=this.j.nja());C.push(H);}catch(Ra){}try{J=this.j.Bm?this.j.Bm.DDb():void 0;C.push({"Player state":t[this.j.state.value],"Buffering state":u[this.j.rn.value] + (k.pa(J)?", ETA:" + d.vh(J):""),"Rendering state":w[this.j.Ob.value]});}catch(Ra){}try{I=this.j.Jsa() + this.j.nea();M=this.j.Jg.value;N=null === M || void 0 === M?void 0:M.stream;K=this.j.If.value;O=null === K || void 0 === K?void 0:K.stream;R=null !== (x=null === N || void 0 === N?void 0:N.bitrate) && void 0 !== x?x:"?";L=O?O.bitrate + " (" + O.width + "x" + O.height + ")":"?";Q=null !== (y=null === O || void 0 === O?void 0:O.mb) && void 0 !== y?y:"?";P=null !== (B=null === (z=this.j.uf.value) || void 0 === z?void 0:z.mb) && void 0 !== B?B:"?";ha=null !== (E=null === (A=this.j.ql.value) || void 0 === A?void 0:A.bitrate) && void 0 !== E?E:"?";va=null !== (F=null === (D=this.j.uf.value) || void 0 === D?void 0:D.bitrate) && void 0 !== F?F:"?";la=this.j.Hc[g.Cc.jb.Bb].value;S=this.j.Hc[g.Cc.jb.Pb].value;C.push({"Playing bitrate (a/v)":R + " / " + L,"Playing/Buffering vmaf":Q + "/" + P,"Buffering bitrate (a/v)":ha + " / " + va,"Buffer size in Bytes (a/v)":this.j.nea() + " / " + this.j.Jsa(),"Buffer size in Bytes":"" + I,"Buffer size in Seconds (a/v)":d.vh(this.j.LQ()) + " / " + d.vh(this.j.gW()),"Current CDN (a/v)":(S?S.name + ", Id: " + S.id:"?") + " / " + (la?la.name + ", Id: " + la.id:"?")});}catch(Ra){}try{if(this.j.Jg.value && this.j.If.value){da=this.j.Jg.value.stream;ya=da.track;U=this.j.If.value.stream;ma=this.j.Ek.value;ta=this.yV.H0(this.j.xg.value?this.j.xg.value.streams:[]);Ja=this.yV.E0(ya.streams);wa=U.mg;ra=(/hevc/).test(wa)?"hevc":(/vp9/).test(wa)?"vp9":(/h264hpl/).test(wa)?"avchigh":"avc";(/hdr/).test(wa) && (ra+=", hdr");(/dv/).test(wa) && (ra+=", dv");(/prk/).test(wa) && (ra+=", prk");Qa=da.mg;Pa=(/xheaac/).test(Qa)?"xhe-aac":(/heaac/).test(Qa)?"he-aac":(/ddplus/).test(Qa)?"ddplus":"unknown";(/atmos/).test(Qa) && (Pa+=", atmos");C.push({"Audio Track":ya.hm + ", Id: " + ya.trackId + ", Channels: " + ya.channels + ", Codec: " + Ja + " (" + Pa + ")","Video Track":"Codec: " + ta + " (" + ra + ")","Timed Text Track":ma?ma.hm + ", Profile: " + ma.profile + ", Id: " + ma.trackId:"none"});}}catch(Ra){}try{Sa=this.j.Xf;$a=this.j.uf.value?this.j.uf.value.framerate:0;kb=a(520).$Wa;C.push({Framerate:$a.toFixed(3),"Current Dropped Frames":k.pa(this.pga)?this.pga:"","Total Frames":Sa.QA(),"Total Dropped Frames":Sa.WE(),"Total Corrupted Frames":Sa.rS(),"Total Frame Delay":Sa.s2(),"Main Thread stall/sec":kb?kb.jAb().join(" "):"DISABLED",VideoDiag:f.vma(this.j.I2()),"HDR support":this.dka?this.dka.result + " (" + this.dka.reason + ")":"unknown"});}catch(Ra){}try{C.push({Throughput:this.j.Ha + " kbps"});}catch(Ra){}bb=void 0;try{Object.entries(this.wOa).forEach(function(Ra){var Wa;Wa=Z(Ra);Ra=Wa.next().value;Wa=Wa.next().value;bb=bb || ({});bb[Ra]=JSON.stringify(Wa);});bb && C.push(bb);}catch(Ra){}return C;};b.nDa=c;},function(r,b,a){var l,m,d,f;function c(h,k,n,p){this.ca=h;this.cRb=k;this.qa=n;this.Cf=p;this.Sc={};}function g(h,k){this.rg=h;this.Cf=k;this.Zd={};this.qa=h.sb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;r=a(0);l=a(1);m=a(7);d=a(18);f=a(4);g.prototype.iQb=function(h,k){this.Zd[h] && this.qa.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.Cf.Tb()).da(f.ia);this.qa.trace("registerPlayback: xid " + h + " at " + k);this.Zd[h]=new c(h,k,this.qa,this.Cf);return this.Zd[h];};g.prototype.lBb=function(h){this.Zd[h] || this.qa.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Zd[h];};g.prototype.AQb=function(h){this.qa.trace("removePlayback: xid " + h);delete this.Zd[h];};a=g;a=r.__decorate([l.O(),r.__param(0,l.l(m.Ab)),r.__param(1,l.l(d.ud))],a);b.pDa=a;c.prototype.Jo=function(h,k){k=k?k.da(f.ia):this.Cf.Tb().da(f.ia) - this.cRb;this.qa.trace("addMilestone: xid " + this.ca + " " + h + " at " + k);this.Sc[h]=k;};},function(r,b,a){var g,l,m,d;function c(f){this.Ia=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;r=a(0);g=a(15);l=a(1);m=a(18);d=a(4);c.prototype.Ml=function(f){f.cause !== g.Ad.Tv && (this.trace.unshift({time:this.Ia.Tb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.KTa=function(){var f,h;f=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.O4a(h.time),lastRepositionCause:this.LRa(h.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:f.O4a(k.time),cause:f.LRa(k.event.cause),newMediaTime:k.event.W4,oldMediaTime:k.event.Nna,contentPts:k.event.Uh,skip:k.event.skip};})};};c.prototype.O4a=function(f){return this.Ia.Tb().Sa(f).da(d.ia);};c.prototype.LRa=function(f){switch(f){case g.Ad.Tv:return "initial";case g.Ad.fw:return "seek";case g.Ad.bD:return "segment_changed";case g.Ad.YH:return "track_changed";case g.Ad.mX:return "force_rebuffer";}};a=c;a=r.__decorate([l.O(),r.__param(0,l.l(m.ud))],a);b.BEa=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x;function c(y,z,B){var A;A=this;this.j=y;this.r6a=void 0 === z?!0:z;this.debug=B;this.jq=this.rIa=this.zZ=!1;this.gm=void 0;this.pr={};this.bu=void 0;this.$e=function(){var E,D,F,C,G,H;A.debug.assert(A.na,"has access to asePlaygraph");A.debug.assert(A.Lb,"has access to internalLogger");A.debug.assert(A.Am,"has access to mediaBufferGetLogFields");if(A.$d.value !== g.ga.aq && A.$d.value !== g.ga.ji){G=A.im;H=null === (D=null === (E=A.tb.get()) || void 0 === E?void 0:E.Ha) || void 0 === D?void 0:D.Aa;E={type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:G.reason,actualbw:H,initSelReason:null !== (F=G.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:G.vBufferLevelMs,bcABufferLevelMs:G.aBufferLevelMs}};k.O_({Hha:E,$h:A.$h,loadTime:A.loadTime});A.na.R7("startplay",d.pe.$B);null !== (C=A.Ca) && void 0 !== C && C.mp?(A.Lb.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:G},A.Am()),A.j.im=G,A.j.rn.set(n.we.Fd),A.Ixb || (A.Ixb=!0,A.j.zd("pb")),A.play()):A.Lb.error("Shim received buffering complete but player has no position (player " + (A.Ca?"":"un") + "defined, state " + A.j.state + ")");}};this.QQ=function(){var E,D;A.debug.assert(A.Lb,"has access to internalLogger");!1;A.gm=void 0;A.j.paused.value && A.fM && (A.fM=!1,A.j.paused.set(!1,{XL:!0}));null === (E=A.j.Xf) || void 0 === E?void 0:E.Hpb();null === (D=A.hU) || void 0 === D?void 0:D.call(A);A.hU=void 0;};this.events=new x();}Object.defineProperty(b,"__esModule",{value:!0});b.Bta=void 0;g=a(46);l=a(17);m=a(82);d=a(277);f=a(55);h=a(2);k=a(522);n=a(15);p=a(11);q=a(14);t=a(4);u=a(1178);w=a(73);v=a(103);x=a(107).EventEmitter;c.prototype.oA=function(){};c.prototype.kc=function(){var y;this.jq=!1;this.tb.ZM(null);this.debug.assert(this.Ej,"has access to streamingEngine");this.na && this.Ej.Yq(this.na);this.Ca && this.Ej.zM(this.Ca);this.Ej.xpa(this.pr[this.nW]);delete this.pr[this.nW];null === (y=this.Ai) || void 0 === y?void 0:y.Yo();};c.prototype.g3a=function(y){var z,B,A,E,D,F,C,G,H,J,I,M,N;z=y.config;B=y.Fk;A=y.Lb;E=y.Qd;D=y.Am;F=y.Dh;C=y.UB;y=y.tv;this.Lb=A;this.Am=D;this.UB=C;this.tv=y;this.debug.assert(z,"has access to config");this.debug.assert(E,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(B,"has access to aseGlobals");this.debug.assert(B.Ej,"has access to streamingEngine");this.debug.assert(this.j.la,"has access to manifest");this.Ej=B.Ej;B.Wb.set(a(148)(z),!0,F("ASE"));B.Wb.set({maxNumberTitlesScheduled:null !== (H=null === (G=z.Goa) || void 0 === G?void 0:G.maxNumberTitlesScheduled) && void 0 !== H?H:1},!0,A);z.UNa && 3E5 > this.j.la.Bc.duration?B.Wb.$u({expandDownloadTime:!1},!0,A):B.Wb.$u({expandDownloadTime:B.Wb.F5().expandDownloadTime},!0,A);z=this.j.background || z.Q_a && "postplay" === this.j.sd?"historical":B.Wb.F5().initBitrateSelectorAlgorithm;B.Wb.$u({initBitrateSelectorAlgorithm:z},!0,A);z=null === (N=null === (M=null === (I=null === (J=this.j.xg) || void 0 === J?void 0:J.value) || void 0 === I?void 0:I.streams) || void 0 === M?void 0:M[0]) || void 0 === N?void 0:N.mg;B.Wb.$u(p.u0(! !this.j.Va.jj,! !this.j.Va.jT,z),!0,A);A=E.tB({},p.nR(this.j.sd));this.Wb=B.Wb.Wo(A);g.platform.events.emit("networkchange",this.j.ic.B2a);this.zZ=!0;};c.prototype.dT=function(y){var z;this.debug.assert(this.Ej,"has access to streamingEngine");this.debug.assert(this.j.ic,"has access to playback parsedManifest");z=y.flags;this.tb.reset();this.qd=new Set([m.uh.Pb,m.uh.Bb]);(z.pC || z.NQ) && this.qd.delete(z.pC?m.uh.Pb:m.uh.Bb);this.OG=[this.j.ic.Fga,this.j.ic.Iga];this.I0(y);this.ega(y);this.dga();};c.prototype.ZLa=function(y){var z,B,A,E;z=this;B=y.loadTime;A=y.$h;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Ca,"has access to asePlayer");this.$h=A;this.loadTime=B;y=this.na.events;E=this.Ca.events;y.addListener("error",function(D){"NFErr_MC_StreamingFailure" === D.error && (z.Lb.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Lb.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Am())),f.Ic(function(){z.j.kd(h.J.A8,{ka:D.nativeCode,gb:D.errormsg,hj:D.httpCode,ZT:D.networkErrorCode});}));});y.addListener("logdata",function(D){var F;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.na) || void 0 === F?void 0:F.cE,k.O_({Hha:D,$h:A,loadTime:B}));});y.addListener("bufferingStarted",function(){z.j.rn.set(n.we.Dc);});y.addListener("bufferingComplete",function(D){z.im=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.Lb,"has access to internalLogger");null !== (F=D.xq) && void 0 !== F && F.XL || !z.zZ || (D.newValue && z.$d.value === g.ga.oc?(z.$d.set(g.ga.wh),z.bd.emit("paused",{type:"paused",pts:z.bd.ec})):D.newValue || z.$d.value !== g.ga.wh || (z.$d.set(g.ga.oc),z.bd.emit("playing",{type:"playing",pts:z.bd.ec})));D.newValue || (z.fM=!1);z.Lb.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:w.vh(z.j.mediaTime.value)});});this.j.Yc.addListener(function(D){var F,C,G,H;if(z.zZ)if((z.debug.assert(z.Lb,"has access to internalLogger"),D.xq && D.xq.G_))z.Lb.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {H=D.newValue;z.AG({jA:H.Hu,toJSON:function(){return H.Hh;}})?z.Lb.trace("ASE accepted the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId):(z.Lb.trace("ASE rejected the audio track switch",null === (C=D.newValue) || void 0 === C?void 0:C.trackId),D.oldValue && D.oldValue.Hu !== H.Hu && z.j.Yc.set(D.oldValue,{G_:!0}));}});y.addListener("serverSwitch",function(D){var F;z.j.fireEvent(n.T.nG,D);if("video" === D.mediatype)F=g.Cc.jb.Bb;else "audio" === D.mediatype && (F=g.Cc.jb.Pb);q.vc(F) && z.UB(D.server,F);});y.addListener("streamSelected",function(D){var F,C,G,H;C=(null === (F=z.na) || void 0 === F?void 0:F.YA(D.position)).xA.X;F=[];if(D.mediaType === g.Cc.jb.Bb){G=z.j.cka(D.streamId);H=z.j.uf;F=z.j.UA();}else D.mediaType === g.Cc.jb.Pb && (G=z.j.Xja(D.streamId),H=z.j.ql,F=z.j.BRa());G && H?(!1,H.set(G,{pfa:C,VLa:D.bandwidth})):z.Lb.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.rA});});y.addListener("segmentNormalized",function(D){var F,C;F=z.j.Fu(D.segmentId);C=Math.floor(D.viewableEarliestContentEnd.X);D=t.Xb(Math.floor(D.viewableContentEnd.X));C=t.Xb(C);F && (F.Wr=D,F.IXa=C);z.j.xp || (z.j.xp=D);});E.addListener("segmentPresenting",function(D){var F,C,G;z.debug.assert(z.na,"has access to asePlaygraph");z.debug.assert(z.Ca,"has access to asePlayer");z.debug.assert(z.tv,"has access to segmentPresentingHandler");F=z.na.YA(D.position);C=D.playerTimestamp.Sa(F.xA);G=D.position.oa;z.tv(F.aa,!1);z.j.fireEvent(n.T.lG,{type:"segmentPresenting",segmentId:G,contentOffset:C.X,metrics:D.metrics});z.bu=z.Ca.xm();});E.addListener("ptsChanged",function(){z.bd.emit("skipped");});y.addListener("segmentStarting",function(D){return z.j.fireEvent(n.T.m2a,D);});y.addListener("lastSegmentPts",function(D){return z.j.fireEvent(n.T.l2a,D);});y.addListener("segmentAborted",function(D){z.j.fireEvent(n.T.j2a,D);});y.addListener("locationSelected",function(D){z.j.fireEvent(n.T.Gs,D);});};c.prototype.PK=function(){return this.zZ;};c.prototype.ah=function(){return this.rIa;};c.prototype.xm=function(){var y,z,B,A,E,D,F,C,G;C=null === (y=this.Ca) || void 0 === y?void 0:y.T2();y=(null !== (z=this.bu) && void 0 !== z?z:C && this.Ca.xm()) || ({});z=y.R;C=y.tq;G=y.xoa;y=y.L5;return {id:String(null === z || void 0 === z?void 0:z.id),fe:null !== (B=null === C || void 0 === C?void 0:C.X) && void 0 !== B?B:0,Sb:null !== (A=null === z || void 0 === z?void 0:z.Dj.X) && void 0 !== A?A:Infinity,Fb:null !== (E=null === z || void 0 === z?void 0:z.yn.X) && void 0 !== E?E:0,me:null !== (D=null === G || void 0 === G?void 0:G.X) && void 0 !== D?D:Infinity,Tc:null !== (F=null === y || void 0 === y?void 0:y.X) && void 0 !== F?F:0};};c.prototype.UE=function(){return {fe:0};};c.prototype.ZK=function(){var y,z;this.debug.assert(this.na,"has access to asePlaygraph");y={};z=this.na.tK();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.kC=function(){};c.prototype.AU=function(){this.bd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.bd.ec});};c.prototype.AG=function(y){var z,B,A,E;z=this;this.debug.assert(this.Lb,"has access to internalLogger");this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Ca,"has access to asePlayer");this.debug.assert(this.j.la,"has access to playback manifest");if(this.NG)return (!1,!1);if(!this.j.la.Bc.audio_tracks.some(function(D,F){if(D.track_id === y.jA)return (E=F,!0);}))return (!1,!1);!1;this.gm=E;null === (B=this.j.Xf) || void 0 === B?void 0:B.AUb();(null === (A=this.Ca) || void 0 === A?0:A.Ry)?this.fM=!1:p.config.h_a && !this.j.paused.value && (this.Ca.pause([m.uh.Pb]),this.fM=!0,this.j.paused.set(!0,{XL:!0}));this.debug.JQ(this.gm,"has access to valid requestedAudioTrackIndex number");this.OG[m.uh.Pb]=this.gm;this.na.WB({dr:function(){return z.OG[m.uh.Pb];}},{dr:function(){return z.OG[m.uh.Bb];}});this.Op(this.QQ);return !0;};c.prototype.Lp=function(){this.$d.set(g.ga.Xe);this.bd.emit("underflow",{type:"underflow",pts:this.bd.ec});this.Op(this.$e);};c.prototype.ju=function(){throw Error("addManifest is not implemented");};c.prototype.Om=function(y,z){this.bz.Om(y,z);};c.prototype.open=function(){this.jq || (this.debug.assert(this.na,"has access to asePlaygraph"),this.debug.assert(this.Ca,"has access to asePlayer"),this.jq=this.rIa=!0,this.na.open(),this.debug.assert(this.Ny,"invalid start position relative to playgraph"),this.na.kG(this.Ny),this.$d.set(g.ga.Dc),this.Op(this.$e),this.na.mea(this.Ca),this.fHb());};c.prototype.play=function(){this.debug.assert(this.na,"has access to asePlaygrah");this.debug.assert(this.Ca,"has access to asePlayer");0 !== this.na.state && (this.Ca.resume(this.fM?[m.uh.Bb]:void 0),this.$d.set(g.ga.oc),this.bd.emit("playing",{type:"playing",pts:this.bd.ec}));};c.prototype.stop=function(){var y;this.$d.set(g.ga.aq);null === (y=this.Ca) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.bd.emit("paused",{type:"paused",pts:this.bd.ec});};c.prototype.flush=function(){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Ej,"has access to streamingEngine");this.jq && this.$d.value !== g.ga.ji && this.$d.value !== g.ga.aq && this.stop();this.na.R7("endplay",d.pe.Cq);this.na.Sf();this.Ej.dh.save();this.Ej.Cm.save();};c.prototype.Vo=function(y,z){var B;this.debug.assert(this.na,"has access to asePlaygraph");B=g.S.lb(z);return (B=this.na.Vq(B,{w3a:!0,v3a:!0}))?this.na.La.ya[B.oa].Zb + Number(B.offset.X.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + y + ", playerPts: " + z);};c.prototype.yA=function(y,z,B){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Lb,"has access to internalLogger");this.na.La.ya[B] || (B=this.dS(z));this.debug.N_(B,"has access to segmentId");y={oa:B,offset:g.S.lb(z - this.na.La.ya[B].Zb)};if(y=this.na.LS(y))return y.X;!1;return z;};c.prototype.cR=function(y){var z,B,A;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Ca,"has access to asePlayer");A=null !== (z=this.dS(y)) && void 0 !== z?z:this.Ca.Vh.oa;return null === (B=this.na.rm(A,y)) || void 0 === B?void 0:B.Sb;};c.prototype.fs=function(y,z){z=void 0 === z?!0:z;if(!this.ah())return this.fail("Must call open prior to drmReady");Number.isFinite(y) && (this.debug.assert(this.Ca,"has access to asePlayer"),z?this.Ca.oV(y):this.Ca.Iqa(y));};c.prototype.QK=function(){var y;return null !== (y=this.Ca) && void 0 !== y && y.mp?this.Ca.Jn(this.na.La.ya[this.Ca.Vh.oa].aa):!1;};c.prototype.Yg=function(y){!1;return this.Ca?this.Ca.Yg(g.S.lb(y)):(!1,!1);};c.prototype.Wn=function(y,z,B){var A;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Ca,"has access to asePlayer");this.na.La.ya[B] || (B=null !== (A=this.dS(y)) && void 0 !== A?A:this.Ca.Vh.oa);this.debug.N_(B,"has access to segmentId");y={oa:B,offset:g.S.lb(y - this.na.La.ya[B].Zb)};this.na.kG(y);this.Ca.resume();this.$d.set(g.ga.Dc);this.Op(this.$e);y=this.na.eqa(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.X;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.lC=function(y,z){var B;B={};this.na.di((B[y]=z,B));};c.prototype.So=function(y,z){var B,A;this.debug.assert(this.Lb,"has access to internalLogger");this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Ca,"has access to asePlayer");B=this.xm().id;A=this.na.$Sa(B,y);if(z){if(!A.s6a)return (this.Lb.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + B)),!1);if(void 0 !== A.TL)return (!1,A.TL === y);this.na.hk(B,y,!1,z);return !0;}if(void 0 !== A.TL)return (!1,!1);A.a0 && (this.Ca.reset(),this.na.hk(B,y,!1,z),this.Ca.resume(),this.$d.set(g.ga.Dc),this.Op(this.$e));return ! !A.a0;};c.prototype.Zk=function(){var y;this.debug.assert(this.Lb,"has access to internalLogger");y=this.bd.ec;!1;this.bd.emit("skipped",{type:"skipped",pts:y});return new g.jD(Promise.resolve()).Upa;};c.prototype.dS=function(y){var z,B,A,E,D,F,C,G,H;this.debug.assert(this.na,"has acccess to asePlaygraph");this.debug.assert(this.Lb,"has acccess to internalLogger");z=this.na.La;B=[];for(A in z.ya){E=z.ya[A];D=E.Zb;E=E.Mc;F=D <= y;C=y < Number(null !== E && void 0 !== E?E:Infinity);!1;if(F && C)(!1,B.push(A));else if((D=Math.min(Math.abs(y - D),Math.abs(y - E)),void 0 === G || D < G))(G=D,H=A);}y=B[0] || H;this.debug.N_(y,"has access to locatedSegmentId");!1;return y;};c.prototype.fHb=function(){var y,z;y=this;this.debug.assert(this.j.zb,"has acccess to mediaElement");z=this.j.zb.ja;this.debug.assert(z,"has acccess to videoElement");z.addEventListener("play",function(){y.$d.value === g.ga.wh && (y.$d.set(g.ga.oc),y.bd.emit("playing",{type:"playing",pts:y.bd.ec}));});z.addEventListener("pause",function(){y.$d.value === g.ga.oc && (y.$d.set(g.ga.wh),y.bd.emit("paused",{type:"paused",pts:y.bd.ec}));});};c.prototype.fail=function(y){var z;null === (z=this.na) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.Op=function(y){var z,B,A,E,D,F,C,G;z=this;if(y !== this.QQ && this.NG)this.hU=y;else {G=!0 === (null === (B=this.Ca) || void 0 === B?void 0:B.gy.value);B=(null === (A=this.na) || void 0 === A?void 0:A.nf.value) === g.jc.Kj;null === (E=this.Ca) || void 0 === E?void 0:E.gy.removeListener(this.PXa);null === (D=this.na) || void 0 === D?void 0:D.nf.removeListener(this.tMa);G && B?y():(this.PXa=function(){return z.Op(y);},this.tMa=function(){return z.Op(y);},null === (F=this.Ca) || void 0 === F?void 0:F.gy.addListener(this.PXa),null === (C=this.na) || void 0 === C?void 0:C.nf.addListener(this.tMa));}};c.prototype.I0=function(y){var z,B,A;z=y.flags;B=y.$r;this.debug.assert(this.Ej,"has access to streamingEngine");this.debug.assert(this.j.la,"has access to playback manifest");y=this.j.la.Bc;A=y.movieId;this.pr[this.nW]={IMa:function(){},equals:function(E){return E.aa === A && (B.ca === E.ca || !E.ca || !B.ca);},pr:Promise.resolve({la:y,Bh:! !z.Bh,config:this.Wb,qd:[].concat(ba(this.qd))}),ca:B.ca,aa:A,ZR:!1};this.Wb.sx && this.Ej.VB(this.pr[this.nW],{sy:B.sy,ca:B.ca,yq:B.yq});};c.prototype.ega=function(y){var z,B,A,E;z=this;B=y.$r;y=y.oa;this.debug.assert(this.Ej,"has access to streamingEngine");this.debug.assert(this.Lb,"has access to internalLogger");this.debug.assert(this.j.la,"has access to playback manifest");A=y || "s0";y=this.Wb.K_a;E=this.j.la.Bc.choiceMap;E?(A=u.fx(E),this.Lb.trace("Generated playgraph from choicemap.")):A=u.YB(this.j.H,A);this.Ny=u.HS(this.j.H,A,this.j.V,A.ya[A.je].Zb);B=Object.create(this.Wb,{lha:{value:B.yq}});this.$d=new v.xc(g.ga.zg);this.na=this.Ej.aE(A,y,B,{ps:function(){return z.pr[z.nW];}});this.bz=new g.mD(this.Lb);B=this.na.yE(this.bz);y=this.na.xE();this.na.Pqa(y,B);this.na.WB({dr:function(){return z.OG[m.uh.Pb];}},{dr:function(){return z.OG[m.uh.Bb];}});this.fM=!1;};c.prototype.dga=function(){var y,z;y=this;this.debug.assert(this.Ej,"has access to streamingEngine");z={Sq:p.config.Sq,qd:[].concat(ba(this.qd)),zS:function(){return y.y2();},HR:this.Wb.HR};this.bd=Object.create(new l.EventEmitter(),{ec:{get:function(){y.debug.JQ(y.j.mediaTime.value,"has access to mediaTime.value");return g.S.lb(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},DK:{value:function(){y.debug.assert(y.j.zb,"has access to mediaElement");return y.j.zb;}}});this.Ca=this.Ej.EKa(this.bd,z);};c.prototype.y2=function(){this.Ai || (this.Ai=new g.platform.MediaSource(this.bd),this.Ai.Rb || (this.Ai.Rb=g.platform.MediaSource.Rb));return this.Ai;};Ua.Object.defineProperties(c.prototype,{NG:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.gm;}},nW:{configurable:!0,enumerable:!0,get:function(){this.debug.JQ(this.j.H,"has access to playback movieId");this.debug.JQ(this.j.ca,"has access to playback xid");return this.j.H + "-" + this.j.ca;}},tb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Ej,"has access to streamingEngine");return this.Ej.tb;}}});b.Bta=c;},function(r,b,a){var l,m;function c(d,f,h){var p,q;for(var k=Z(Object.keys(d.ya)),n=k.next();!n.done;n=k.next()){n=n.value;p=d.ya[n];if(p.aa === f){q=l.S.lb(p.Zb);if(h.Fn(q) && (null === p.Mc || void 0 === p.Mc || h.lessThan(l.S.lb(p.Mc))))return {oa:n,offset:h.Sa(q)};}}}function g(d,f){var h;h={};Object.keys(f).forEach(function(k){var n;n=f[k];h[k]={aa:d.viewableId,Zb:n.startTimeMs,Mc:n.endTimeMs || Infinity,Cg:n.defaultNext || null,Pc:n.transitionHint,js:n.exitZones,next:n.next};});return h;}Object.defineProperty(b,"__esModule",{value:!0});b.YB=b.fx=b.HS=b.A0=void 0;l=a(46);m=a(19);b.A0=c;b.HS=function(d,f,h,k){return f.ya[f.je].Zb === k?(d=c(f,d,l.S.lb(h)),m.Za(d,"has valid start position relative to playgraph"),d):{oa:f.je,offset:l.S.nb};};b.fx=function(d,f,h,k){return {je:null !== f && void 0 !== f?f:d.je,qd:null !== k && void 0 !== k?k:d.qd,Pc:d.transitionType,ya:g(d,null !== h && void 0 !== h?h:d.ya)};};b.YB=function(d,f){var h;h={};return {je:f,Pc:"lazy",ya:(h[f]={aa:d,Zb:0,Mc:Infinity,Cg:null,next:{}},h)};};},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t){this.j=q;this.r6a=void 0 === t?!1:t;}Object.defineProperty(b,"__esModule",{value:!0});b.Cta=void 0;g=a(46);l=a(2);m=a(55);d=a(11);f=a(522);h=a(15);k=a(73);n=a(14);p=a(4);c.prototype.oA=function(){this.kt.oA();};c.prototype.kc=function(){var q,t;null === (q=this.rb) || void 0 === q?void 0:q.close();null === (t=this.rb) || void 0 === t?void 0:t.kc();this.kt && this.j.Xj && this.kt.oA();delete this.rb;delete this.kt;};c.prototype.g3a=function(q){var t,u,w,v,x,y,z,B;t=q.Fk;u=q.config;w=q.Qd;v=q.Lb;x=q.Dh;y=q.Am;z=q.UB;q=q.tv;this.Lb=v;this.Am=y;this.UB=z;this.kt=t.L_;this.tv=q;u.Mxb && this.kt.oA();t.Wb.set(a(148)(u),!0,x("ASE"));t.Wb.set({maxNumberTitlesScheduled:u.Goa?u.Goa.maxNumberTitlesScheduled:1},!0,v);u.UNa && 3E5 > this.j.la.Bc.duration?t.Wb.$u({expandDownloadTime:!1},!0,v):t.Wb.$u({expandDownloadTime:t.Wb.F5().expandDownloadTime},!0,v);this.j.background || u.Q_a && "postplay" === this.j.sd?t.Wb.$u({initBitrateSelectorAlgorithm:"historical"},!0,v):t.Wb.$u({initBitrateSelectorAlgorithm:t.Wb.F5().initBitrateSelectorAlgorithm},!0,v);if((u=this.j.xg && this.j.xg.value && this.j.xg.value.streams) && u.length)B=u[0].mg;t.Wb.$u(d.u0(this.j.Va.jj,this.j.Va.jT,B),!0,v);v={};v=w.tB(v,d.nR(this.j.sd));this.$3a=t.Wb.Wo(v);this.$3a.mC=this.r6a;g.platform.events.emit("networkchange",this.j.ic.B2a);this.j.kt=this.kt;};c.prototype.dT=function(q){var t,u,w;t=this;u=q.oa;w=q.xR;(this.rb=this.kt.createSession(this.j.la.Bc,[this.j.ic.Fga,this.j.ic.Iga],this.j.V,q.flags,q.$r,void 0,{ie:function(){return t.j.mediaTime.value;},Dn:function(){return t.j.playbackRate.value;},DK:function(){return t.j.zb;}},this.$3a,w(this.j.H),u))?this.j.rb=this.rb:(this.Lb.trace("Unable to initialize legacy ASE session"),this.j.kd(l.J.A8));};c.prototype.ZLa=function(q){var t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P,ha,va,la;t=this;u=q.$h;w=q.loadTime;la=!1;null === (v=this.rb) || void 0 === v?void 0:v.addEventListener("error",function(S){"NFErr_MC_StreamingFailure" === S.error && (t.Lb.trace("receiving an unrecoverable streaming error: " + JSON.stringify(S)),t.Lb.trace("StreamingFailure, buffer status:" + JSON.stringify(t.Am())),m.Ic(function(){t.j.kd(l.J.A8,{ka:S.nativeCode,gb:S.errormsg,hj:S.httpCode,ZT:S.networkErrorCode});}));});null === (x=this.rb) || void 0 === x?void 0:x.addEventListener("logdata",function(S){"string" === typeof S.target && "object" === typeof S.fields && f.O_({Hha:S,$h:u,loadTime:w});});null === (y=this.rb) || void 0 === y?void 0:y.addEventListener("bufferingStarted",function(){t.j.rn.set(h.we.Dc);});null === (z=this.rb) || void 0 === z?void 0:z.addEventListener("bufferingComplete",function(S){var da;t.Lb.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:S},t.Am());t.j.im=S;t.j.rn.set(h.we.Fd);va || (va=!0,t.j.zd("pb"));null === (da=t.rb) || void 0 === da?void 0:da.play();});null === (B=this.rb) || void 0 === B?void 0:B.addEventListener("audioTrackSwitchStarted",function(){var S;null === (S=t.rb) || void 0 === S?void 0:S.Ona();d.config.h_a && !t.j.paused.value && (la=!0,t.j.paused.set(!0,{XL:!0}));});null === (A=this.rb) || void 0 === A?void 0:A.addEventListener("audioTrackSwitchComplete",function(){var S;t.j.paused.value && la && (la=!1,t.j.paused.set(!1,{XL:!0}));null === (S=t.j.Xf) || void 0 === S?void 0:S.cZa();});this.j.paused.addListener(function(S){var da;da=t.rb;!S.XL && da && (!0 === S.newValue?da.paused && da.paused():da.kC && da.kC());S.newValue || (la=!1);t.Lb.info("Paused changed",{From:S.oldValue,To:S.newValue,MediaTime:k.vh(t.j.mediaTime.value)});});this.j.Yc.addListener(function(S){var da,ya,U,ma;if(t.rb)if(S.xq && S.xq.G_)t.Lb.trace("Not processing already applied track",null === (da=S.newValue) || void 0 === da?void 0:da.trackId);else {ma=S.newValue;t.rb.AG({jA:ma.Hu,toJSON:function(){return ma.Hh;}})?t.Lb.trace("ASE accepted the audio track switch",null === (U=S.newValue) || void 0 === U?void 0:U.trackId):(t.Lb.trace("ASE rejected the audio track switch",null === (ya=S.newValue) || void 0 === ya?void 0:ya.trackId),S.oldValue.Hu !== ma.Hu && t.j.Yc.set(S.oldValue,{G_:!0}));}});null === (E=this.rb) || void 0 === E?void 0:E.addEventListener("asereportenabled",function(){t.j.RR=!0;});null === (D=this.rb) || void 0 === D?void 0:D.addEventListener("asereport",function(S){t.j.fireEvent(h.T.sJ,S);});null === (F=this.rb) || void 0 === F?void 0:F.addEventListener("aseexception",function(S){t.j.fireEvent(h.T.rJ,S);});null === (C=this.rb) || void 0 === C?void 0:C.addEventListener("hindsightreport",function(S){var da,ya;da=n.pa(t.j.loadTime)?0:t.j.loadTime;ya=S.report;ya && ya.length && ya.forEach(function(U){U.bst-=da;U.pst-=da;void 0 === U.nd && U.tput && (U.tput.ts-=da);});t.j.nka={UQb:ya,EDb:S.hptwbr,KUa:S.htwbr,y5:S.pbtwbr};S.rr && (t.j.nka.V1a=S.rr);S.ra && (t.j.nka.qPb=S.ra);});null === (G=this.rb) || void 0 === G?void 0:G.addEventListener("streamingstat",function(S){var da;da=S.bt;t.j.Ha=S.location.bandwidth;t.j.ci=S.location.httpResponseTime;da && (void 0 === t.j.kE && (t.j.kE={interval:d.config.jE,startTime:da.startTime,Tw:[],$y:[]}),t.j.kE.Tw=t.j.kE.Tw.concat(da.Tw),t.j.kE.$y=t.j.kE.$y.concat(da.$y));!1;});null === (H=this.rb) || void 0 === H?void 0:H.addEventListener("headerCacheDataHit",function(S){S.movieId === "" + t.j.H && (t.j.TK=S);});null === (J=this.rb) || void 0 === J?void 0:J.addEventListener("requestComplete",function(S){var da;da=(S=S && S.mediaRequest) && S.FJ && S.FJ.cadmiumResponse;da && t.j.fireEvent(h.T.FA,{response:da,H:t.j.Fu(S.oa).H});});null === (I=this.rb) || void 0 === I?void 0:I.addEventListener("maxvideobitratechanged",function(S){t.j.q4.push(S);});null === (M=this.rb) || void 0 === M?void 0:M.addEventListener("serverSwitch",function(S){var da;t.j.fireEvent(h.T.nG,S);if("video" === S.mediatype)da=g.Cc.jb.Bb;else "audio" === S.mediatype && (da=g.Cc.jb.Pb);n.vc(da) && t.UB(S.server,da);});null === (N=this.rb) || void 0 === N?void 0:N.addEventListener("streamSelected",function(S){var da,ya,U;da=[];if(S.mediaType === g.Cc.jb.Bb){ya=t.j.cka(S.streamId);U=t.j.uf;da=t.j.UA();}else S.mediaType === g.Cc.jb.Pb && (ya=t.j.Xja(S.streamId),U=t.j.ql,da=t.j.BRa());ya && U?(!1,U.set(ya,{pfa:S.movieTime,VLa:S.bandwidth})):t.Lb.error("no matching stream for streamSelected event",{streamId:S.streamId,mediaType:S.mediaType,streamList:da,cachedManifest:t.j.rA});});null === (K=this.rb) || void 0 === K?void 0:K.addEventListener("locationSelected",function(S){t.j.fireEvent(h.T.Gs,S);});null === (O=this.rb) || void 0 === O?void 0:O.addEventListener("segmentStarting",function(S){t.j.fireEvent(h.T.m2a,S);});null === (R=this.rb) || void 0 === R?void 0:R.addEventListener("lastSegmentPts",function(S){t.j.fireEvent(h.T.l2a,S);});null === (L=this.rb) || void 0 === L?void 0:L.addEventListener("segmentPresenting",function(S){t.j.fireEvent(h.T.lG,S);});null === (Q=this.rb) || void 0 === Q?void 0:Q.addEventListener("segmentAborted",function(S){t.j.fireEvent(h.T.j2a,S);});null === (P=this.rb) || void 0 === P?void 0:P.addEventListener("manifestPresenting",function(S){t.tv(parseInt(S.movieId),!1);});null === (ha=this.rb) || void 0 === ha?void 0:ha.addEventListener("maxPosition",function(S){var da,ya;da=p.Xb(S.maxPts);ya=p.Xb(S.maxSeekPts);if(S=t.j.ty[S.index])(S.Wr=da,S.IXa=ya);t.j.xp || (t.j.xp=da);});};c.prototype.ah=function(){return ! !this.rb;};c.prototype.PK=function(){return ! !this.kt;};c.prototype.xm=function(){return this.rb.xm();};c.prototype.UE=function(q){return this.rb.UE(q);};c.prototype.ZK=function(q){return this.rb.ZK(q);};c.prototype.paused=function(){return this.rb.paused();};c.prototype.kC=function(){return this.rb.kC();};c.prototype.AU=function(){return this.rb.AU();};c.prototype.AG=function(q){return this.rb.AG(q);};c.prototype.Lp=function(q){return this.rb.Lp(q);};c.prototype.ju=function(q,t,u){return this.rb.ju(q,t,u);};c.prototype.Om=function(q,t){return this.rb.Om(q,t);};c.prototype.open=function(){return this.rb.open();};c.prototype.play=function(){return this.rb.play();};c.prototype.stop=function(){return this.rb.stop();};c.prototype.flush=function(){return this.rb.flush();};c.prototype.Vo=function(q,t,u){return this.rb.Vo(q,t,u);};c.prototype.yA=function(q,t,u){return this.rb.yA(q,t,u);};c.prototype.cR=function(q,t,u,w){var v;return null === (v=this.rb) || void 0 === v?void 0:v.cR(q,t,u,w);};c.prototype.fs=function(q,t){return this.rb.fs(String(q),t);};c.prototype.QK=function(){return this.rb.QK();};c.prototype.Yg=function(q){return this.rb.Yg(q);};c.prototype.Wn=function(q,t,u){return this.rb.Wn(q,t,u);};c.prototype.addEventListener=function(q,t){return this.rb.addEventListener(q,t);};c.prototype.removeEventListener=function(q,t){return this.rb.removeEventListener(q,t);};c.prototype.lC=function(q,t){return this.rb.lC(q,t);};c.prototype.So=function(q,t,u){return this.rb.So(q,t,u);};c.prototype.Zk=function(q){return this.rb.Zk(q);};Ua.Object.defineProperties(c.prototype,{tb:{configurable:!0,enumerable:!0,get:function(){return this.kt.tb;}}});b.Cta=c;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t,u,w,v,x,y,z){var B;B=this;this.MWb=n;this.j=p;this.id=q;this.height=t;this.width=u;this.nNb=w;this.oNb=v;this.size=x;this.zs=y;this.urls=z;this.type=g.Ph.esa;this.retry=!0;this.state=f.uo.aY;this.Hh={};this.Q_={};this.ROb=function(A){if(A.W)try{B.data=B.MWb.parse(A.content);B.state=f.uo.KC;B.log.trace("TrickPlay parsed",{Images:B.data.images.length},B.Hh);B.j.fireEvent(h.T.WV);}catch(E){B.state=f.uo.IBa;B.log.error("TrickPlay parse failed.",E);}else (B.state=f.uo.aY,B.log.error("TrickPlay download failed.",k.Ar(A),B.Hh));};this.log=m.Eh(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;g=a(81);l=a(11);m=a(6);d=a(70);f=a(496);h=a(15);k=a(2);c.prototype.dAb=function(n){if(this.data && (this.zs && (n+=this.zs),n=Math.floor(n / this.data.header.S4a),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.S4a,height:this.height,width:this.width,pixelAspectHeight:this.nNb,pixelAspectWidth:this.oNb};};c.prototype.E2=function(){switch(this.state){case f.uo.KC:return "downloaded";case f.uo.LOADING:return "loading";case f.uo.EO:return "downloadfailed";case f.uo.IBa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.rCb();n?(this.state=f.uo.LOADING,this.Qub(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.rCb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(t){return (n.Q_[n.urls[t]] || 0) <= l.config.IWb;});if(p){q=this.urls[p];(q in this.Q_)?this.Q_[q]++:this.Q_[q]=1;return {url:q,tA:p};}};c.prototype.Qub=function(n){this.log.trace("Downloading",n.url,this.Hh);n={responseType:d.US,Hc:this.Fia(n.tA),url:n.url,track:this};this.j.c3.download(n,this.ROb);};c.prototype.Fia=function(n){return this.j.Hk.find(function(p){return p && p.id === n;});};b.sGa=c;},function(r,b,a){var g;function c(l,m,d,f){this.Rga=l;this.debug=m;this.Ia=d;this.j=f;this.v5=[];this.M4={};this.Uga={};this.Xha=!1;this.v4a=1;this.cua=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.gwa=void 0;g=a(4);a(15);a(14);a(70);c.prototype.register=function(l,m){this.debug.assert(!(0 <= this.v5.indexOf(l)),"panel already registered");this.M4[l]=m;this.v5.push(l);};c.prototype.dZa=function(l){var m;m=this;this.Uga[l]=!0;this.Xha || (this.Xha=!0,setTimeout(function(){return m.Cxb();},0));};c.prototype.MAb=function(l){return (l=this.M4[l])?l():void 0;};c.prototype.t2=function(){var l;l=this.j.H5;return l?l.t2():[];};c.prototype.addEventListener=function(l,m){this.Rga.addListener(l,m);this.M4[l] && this.dZa(l);};c.prototype.removeEventListener=function(l,m){this.Rga.removeListener(l,m);};c.prototype.getTime=function(){return this.Ia.Tb().da(g.ia);};c.prototype.Cxb=function(){this.Xha=!1;for(var l=this.v5.length,m;l--;){m=this.v5[l];this.Uga[m] && (this.Uga[m]=!1,this.Rga.bc(m + "changed",{getModel:this.M4[m]}));}};b.gwa=c;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p){var q;q=this;this.Hl=n;this.Dq=p;this.c5a=function(t){var u,w,v,x,y,z,B;u=q.v4a++;w=t.request.GE || "dl";v=q.TTa(w,"start");if(v){x=t.request.Rq;y=x.stream.M.Im;x=Z(x.stream.M.xh).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.R.id,!q.Q3a.has(y))){z=q.iTa(y);B=t.Xq;q.Hl.mark(v,z,B?w + "-" + B + "-" + u:w);t.Hda(function(){var A,E;A=q.TTa(w,"end");E=B?w + "-" + B + "-" + u:w;A && q.Hl.mark(A,z,E);});}}};this.v4a=0;this.Q3a=new Set();this.sqa=new Map();p.UR && this.dZb();}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;r=a(0);g=a(1);l=a(62);m=a(67);d=a(4);f=a(70);a=a(36);h={start:{video:l.za.$N,audio:l.za.WN},end:{video:l.za.ZN,audio:l.za.VN}};c.prototype.jTa=function(n){var q,t,u,w,v,x,y,z;function p(B){return d.timestamp(q.OKa(d.timestamp(B),n,!0));}q=this;t=new Set();u=n.Sc;w=n.ca;v=void 0 === n.H3a?null:n.H3a;x=n.oa;y=this.Hl.QSa(w);z=x && this.iTa(x);z && y.push.apply(y,ba(this.Hl.QSa(z)));this.Hl.g1a(n.ca);z && this.Hl.g1a(z);x && this.Q3a.add(x);x=[];("pr_ats" in u) && x.push({name:l.za.uY,hr:p(u.pr_ats),ca:w,Tj:"request-pre-manifest"});("ats" in u) && x.push({name:l.za.sY,hr:p(u.ats),ca:w,Tj:"request-manifest"});("pr_at" in u) && x.push({name:l.za.tY,hr:p(u.pr_at),ca:w,Tj:"request-pre-manifest"});("at" in u) && x.push({name:l.za.rY,hr:p(u.at),ca:w,Tj:"request-manifest"});("lg" in u) && x.push({name:l.za.qY,hr:p(u.lg),ca:w,Tj:"request-license"});("lr" in u) && (x.push({name:l.za.pY,hr:p(u.lr),ca:w,Tj:"request-license"}),x.push({name:l.za.AW,hr:p(u.lr),ca:w,Tj:"apply-license"}));("ld" in u) && x.push({name:l.za.zW,hr:p(u.ld),ca:w,Tj:"apply-license"});("tt_start" in u) && x.push({name:l.za.YN,hr:p(u.tt_start),ca:w,Tj:"request-timed-text"});("tt_comp" in u) && x.push({name:l.za.XN,hr:p(u.tt_comp),ca:w,Tj:"request-timed-text"});return x.concat(y).map(function(B){return q.gWb(B,n);}).filter(function(B){return B.ts <= (null !== v && void 0 !== v?v:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,A){return B.ts - A.ts;}).reduce(function(B,A){var E;E=A.eventName;delete A.eventName;E && (B[E]=A);return B;},{});};c.prototype.olb=function(n,p,q){return (void 0 === q?0:q)?n.da(d.ia) + p.Il.da(d.ia):n.da(d.ia) - p.Il.da(d.ia);};c.prototype.OKa=function(n,p,q){q=void 0 === q?!1:q;if(p.Tl)if(q)n.da(d.ia) + p.Tl;else return n.da(d.ia) - p.Tl;return this.olb(n,p,q);};c.prototype.gWb=function(n,p){var q,t;q=n.Tj;t=n.name;return {eventName:this.nKb(t,q),eventId:q || t,ts:this.OKa(n.hr,p),comp:this.qS(t),cat:this.fzb(t),step:this.XBb(t)};};c.prototype.nKb=function(n,p){switch(n){case l.za.YN:case l.za.XN:case l.za.WN:case l.za.VN:case l.za.$N:case l.za.ZN:return n + "-" + p;default:return n;}};c.prototype.qS=function(n){switch(n){case l.za.uY:case l.za.tY:case l.za.sY:case l.za.rY:return "manifest";case l.za.qY:case l.za.pY:case l.za.Iaa:case l.za.Haa:case l.za.pX:case l.za.oX:case l.za.AW:case l.za.zW:return "license";case l.za.YN:case l.za.XN:case l.za.WN:case l.za.VN:case l.za.$N:case l.za.ZN:case l.za.z8:case l.za.y8:return "buffering";case l.za.U$:case l.za.T$:return "playback";default:return null;}};c.prototype.fzb=function(n){switch(n){case l.za.uY:case l.za.tY:case l.za.sY:case l.za.rY:return "aws";case l.za.qY:case l.za.pY:return "mixed";case l.za.U$:case l.za.T$:case l.za.Iaa:case l.za.Haa:case l.za.pX:case l.za.oX:case l.za.AW:case l.za.zW:case l.za.z8:case l.za.y8:return "device";case l.za.YN:case l.za.XN:case l.za.WN:case l.za.VN:case l.za.$N:case l.za.ZN:return "cdn";default:return null;}};c.prototype.XBb=function(n){switch(n){case l.za.uY:case l.za.U$:case l.za.sY:case l.za.qY:case l.za.z8:case l.za.YN:case l.za.WN:case l.za.$N:case l.za.Iaa:case l.za.pX:case l.za.AW:return "start";case l.za.tY:case l.za.T$:case l.za.rY:case l.za.pY:case l.za.Haa:case l.za.oX:case l.za.zW:case l.za.y8:case l.za.XN:case l.za.VN:case l.za.ZN:return "end";default:return null;}};c.prototype.TTa=function(n,p){if((n in h[p]))return h[p][n];};c.prototype.jXb=function(){f.qf.removeEventListener(f.Z2,this.c5a);};c.prototype.dZb=function(){this.jXb();f.qf.addEventListener(f.Z2,this.c5a);};c.prototype.iTa=function(n){var p;if(this.sqa.has(n))return this.sqa.get(n);p=Date.now();this.sqa.set(n,p);return p;};k=c;k=r.__decorate([g.O(),r.__param(0,g.l(m.JO)),r.__param(1,g.l(a.Wl))],k);b.cBa=k;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E,D,F,C,G,H,J,I,M,N,K,O,R,L,Q,P;Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;r=a(1);c=a(459);g=a(1184);l=a(114);m=a(1185);d=a(471);f=a(1186);h=a(473);k=a(1187);n=a(474);p=a(1188);q=a(268);t=a(1189);u=a(80);w=a(1190);v=a(1191);x=a(41);y=a(2);z=a(1192);B=a(1193);A=a(1194);E=a(51);D=a(1195);F=a(282);C=a(1196);G=a(1197);H=a(1198);J=a(455);I=a(1199);M=a(1200);N=a(1201);K=a(344);O=a(1202);R=a(69);L=a(523);Q=a(1203);P=a(1204);b.tNa=new r.Qc(function(ha){ha(E.Xl).to(D.lCa);ha(c.ACa).to(g.zCa);ha(F.aaa).to(C.gCa);ha(J.iCa).to(I.hCa);ha(G.qdb).to(H.ECa);ha(l.eaa).to(m.BCa);ha(L.CCa).sf(function(va){return function(){var la;la=va.eb.get(R.Mt);return la && la.o6a?va.eb.resolve(P.UCa):va.eb.resolve(Q.DCa);};});ha(d.fCa).to(f.eCa);ha(h.RCa).to(k.QCa);ha(n.uCa).to(p.tCa);ha(q.daa).to(t.vCa);ha(u.xFa).to(w.wFa);ha(u.BFa).to(v.AFa);ha(u.eza).to(z.dza);ha(u.sFa).to(B.rFa);ha(u.Ywa).to(A.Xwa);ha(N.rdb).to(M.FCa);ha(K.sCa).to(O.rCa);ha(u.G9).sf(function(va){return function(la){switch(la){case u.lo.start:return va.eb.get(u.xFa);case u.lo.stop:return va.eb.get(u.BFa);case u.lo.oT:return va.eb.get(u.eza);case u.lo.splice:return va.eb.get(u.sFa);case u.lo.XR:return va.eb.get(u.Ywa);}throw new x.Ec(y.J.Dcb,void 0,void 0,void 0,void 0,"The event key was invalid - " + la);};});});},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.obb,1,m.ki.NWa,m.Rg.EH,m.ki.NWa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(h,k){var n;n=this;return this.send(h,"/" + this.name,k).then(function(p){return p.result;}).catch(function(p){throw n.vm(p);});};c.prototype.ip=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.zCa=f;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u,w,v,x,y){u=d.Oh.call(this,u,l.J.s$,3,m.ki.la,m.Rg.Et,m.ki.la) || this;u.platform=w;u.zma=v;u.LGb=x;u.YHb=y;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;r=a(0);g=a(114);l=a(2);m=a(47);a(180);d=a(74);f=a(51);h=a(32);k=a(36);n=a(170);p=a(268);q=a(1);a=a(523);ja(c,d.Oh);c.prototype.bf=function(u,w){var v,x;v=this;this.WZ=w.An === g.th.cw?"prefetch/manifest":m.ki.la;x=w.An === g.th.AY?k.Jt.VDa:k.Jt.XO;return this.YHb().transform(w,x).then(function(y){var z,B;y=Z(y);z=y.next().value;B=y.next().value;!1;B.Zo && (v.WZ="licensedManifest");return v.send(u,B.Ik,z,void 0,v.CBb(w.An),void 0,x).then(function(A){var E;A=v.zma.create(A.result);E=A.Bc.cz.map(function(D){return D.Vf;}).filter(Boolean);B.Zo && (0 < E.length?(E=v.LGb.h5a(E),B.Zo.zKa(E),A.Zo=B.Zo,A.GVa=w.An === g.th.cw):B.Zo.close());!1;return A;});}).catch(function(y){!1;throw v.vm(y);});};c.prototype.ip=function(){return Promise.reject(Error("Links are not supported with manifest command"));};c.prototype.CBb=function(u){switch(u){case g.th.Yl:case g.th.a$a:return m.Rg.Et;case g.th.Aaa:case g.th.AY:return m.Rg.B$;case g.th.cw:return m.Rg.EH;}};t=c;t=r.__decorate([q.O(),r.__param(0,q.l(f.Xl)),r.__param(1,q.l(h.uk)),r.__param(2,q.l(n.GO)),r.__param(3,q.l(p.daa)),r.__param(4,q.l(a.CCa))],t);b.BCa=t;},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.BH,3,m.ki.Vf,m.Rg.Et,m.ki.Vf) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.ip=function(h,k,n){var p,q;p=this;k=k.xS(n.Xla).href;q="license" === n.Xla?m.Rg.Et:m.Rg.EH;this.WZ="ldl" === n.Xla?"prefetch/license":m.ki.Vf;return this.send(h,k,n.inputs,"drmSessionId",q).then(function(t){t=t.result;p.TMa(t);p.Kob(t);return t;}).catch(function(t){throw p.vm(t);});};c.prototype.Kob=function(h){h.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.eCa=f;},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.Eaa,3,m.ki.Vf,m.Rg.B$,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(h,k){var n;n=this;return this.send(h,"/bundle",k).then(function(p){p=p.result;n.TMa(p);return p;}).catch(function(p){throw n.vm(p);});};c.prototype.ip=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.QCa=f;},function(r,b,a){var g,l,m;function c(d){this.sa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;r=a(0);g=a(1);l=a(38);m=a(4);c.prototype.AWb=function(d){var f;f=this.sa.Ne.da(m.Xm);return {inputs:d.fj.map(function(h){return {drmSessionId:h.sessionId,clientTime:f,challengeBase64:h.dataBase64,xid:d.ca.toString(),mdxControllerEsn:d.KT};}),Xla:"standard" === d.yi.toLowerCase()?"license":"ldl"};};c.prototype.DWb=function(d){var f,h;f=this;h=[];return d.Yd.map(function(k){h.push(k.id);return {url:f.Fnb(k.sF,k.xT),echo:"drmSessionId",params:{drmSessionId:k.id,xid:d.ca.toString()}};});};c.prototype.Fnb=function(d,f){return "/releaseLicense?drmLicenseContextId=" + d + (f?"&licenseId=" + f:"");};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(l.hi))],a);b.tCa=a;},function(r,b,a){var g,l,m;function c(d,f){this.Dd=d;this.Vw=f;}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;r=a(0);g=a(1);l=a(26);a=a(33);c.prototype.h5a=function(d){var f,h;f=this;h=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return f.Dd.tU(k.substring(k.indexOf("?") + 1));});return {W:!0,Yd:d.map(function(k,n){return {id:k.drmSessionId,sF:h[n].drmlicensecontextid,xT:h[n].licenseid};}),zi:d.map(function(k){return {data:f.Vw.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=r.__decorate([g.O(),r.__param(0,g.l(l.yf)),r.__param(1,g.l(a.Nh))],m);b.vCa=m;},function(r,b,a){var g,l,m,d,f,h;function c(k){return m.Rp.call(this,k,l.J.aeb,d.lo.start,3,h.Rg.Et) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;r=a(0);g=a(1);l=a(2);m=a(154);d=a(80);f=a(51);h=a(47);ja(c,m.Rp);a=c;a=r.__decorate([g.O(),r.__param(0,g.l(f.Xl))],a);b.wFa=a;},function(r,b,a){var g,l,m,d,f,h;function c(k){return m.Rp.call(this,k,l.J.OEa,d.lo.stop,3,h.Rg.B$) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(0);g=a(1);l=a(2);m=a(154);d=a(80);f=a(51);h=a(47);ja(c,m.Rp);a=c;a=r.__decorate([g.O(),r.__param(0,g.l(f.Xl))],a);b.AFa=a;},function(r,b,a){var g,l,m,d,f,h;function c(k){return m.Rp.call(this,k,l.J.f$,d.lo.oT,1,h.Rg.EH) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;r=a(0);g=a(1);l=a(2);m=a(154);d=a(80);f=a(51);h=a(47);ja(c,m.Rp);a=c;a=r.__decorate([g.O(),r.__param(0,g.l(f.Xl))],a);b.dza=a;},function(r,b,a){var g,l,m,d,f,h;function c(k){return m.Rp.call(this,k,l.J.MEa,d.lo.splice,1,h.Rg.EH) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;r=a(0);g=a(1);l=a(2);m=a(154);d=a(80);f=a(51);h=a(47);ja(c,m.Rp);a=c;a=r.__decorate([g.O(),r.__param(0,g.l(f.Xl))],a);b.rFa=a;},function(r,b,a){var g,l,m,d,f,h;function c(k){return m.Rp.call(this,k,l.J.y$a,d.lo.XR,3,h.Rg.EH) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Xwa=void 0;r=a(0);g=a(1);l=a(2);m=a(154);d=a(80);f=a(51);h=a(47);ja(c,m.Rp);c.prototype.b0=function(k){return Object.assign(Object.assign({},m.Rp.prototype.b0.call(this,k)),{action:k.action});};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(f.Xl))],a);b.Xwa=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t,u,w,v,x,y,z,B){this.Vg=q;this.qf=t;this.Ih=u;this.Eub=w;this.eF=v;this.XXb=x;this.vga=y;this.YQb=z;this.DA=B;}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;r=a(0);g=a(1);l=a(116);m=a(69);d=a(494);f=a(491);h=a(92);k=a(110);n=a(332);p=a(93);a=a(86);c=r.__decorate([g.O(),r.__param(0,g.l(l.eH)),r.__param(1,g.l(k.qz)),r.__param(2,g.l(m.Mt)),r.__param(3,g.l(f.oCa)),r.__param(4,g.l(h.pz)),r.__param(5,g.l(n.AGa)),r.__param(6,g.l(p.cX)),r.__param(7,g.l(d.TCa)),r.__param(8,g.l(a.Ov))],c);b.lCa=c;},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.S7a,2,m.ki.bind,m.Rg.Et,m.ki.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.vm(q);});};c.prototype.ip=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.gCa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qdb="PboPairCommandSymbol";},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.vcb,2,m.ki.QZa,m.Rg.Et,m.ki.QZa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ECa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.vm(q);});};c.prototype.ip=function(){return Promise.reject(Error("Links are unsupported with pair"));};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.ECa=f;},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.T7a,2,m.ki.bind,m.Rg.Et,m.ki.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(h,k,n){var p;p=this;return this.send(h,"/bindDevice",k,void 0,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.vm(q);});};c.prototype.ip=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.hCa=f;},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.Ncb,1,m.ki.ping,m.Rg.Et,m.ki.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.vm(q);});};c.prototype.ip=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.FCa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rdb="PboPingCommandSymbol";},function(r,b,a){var g,l,m,d,f;function c(h){return d.Oh.call(this,h,l.J.T$a,2,m.ki.la,m.Rg.Et,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=void 0;r=a(0);g=a(1);l=a(2);m=a(47);d=a(74);a=a(51);ja(c,d.Oh);c.prototype.bf=function(h,k){var n;n=this;return this.send(h,"/generateScreenshots",k).then(function(p){return p.result;}).catch(function(p){throw n.vm(p);});};c.prototype.ip=function(h,k,n){var p;p=this;return this.send(h,k.xS("generateScreenshots").href,n).then(function(q){return q.result;}).catch(function(q){throw p.vm(q);});};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(a.Xl))],f);b.rCa=f;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w,v,x;function c(y,z,B,A,E,D,F,C,G,H){this.Ih=y;this.platform=z;this.config=B;this.vob=A;this.DNb=E;this.Dl=D;this.eR=F;this.sa=C;this.v4=G;this.lm=H;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;r=a(0);g=a(1);l=a(114);m=a(13);d=a(224);f=a(364);h=a(521);k=a(79);n=a(32);p=a(38);q=a(4);t=a(158);u=a(69);w=a(334);v=a(24);x=a(68);c.prototype.transform=function(y,z){var B,A,E,D,F,C,G,H,J,I,M,N,K;B=this;C=y.Va;G=Object.assign({},C.S_,C.Zn);H={};J=y.aa;H[J]={unletterboxed:! !G.preferUnletterboxed};I=this.config();M=I.jYb?30:25;N=I.Mp?this.Dl.Nzb():Promise.resolve(this.v4.qs());K=null === (E=null === (A=I.ksa) || void 0 === A?void 0:A[null === C || void 0 === C?void 0:C.sd]) || void 0 === E?void 0:E.Fv;A=null === (F=null === (D=I.ksa) || void 0 === D?void 0:D[null === C || void 0 === C?void 0:C.sd]) || void 0 === F?void 0:F.iA;return Promise.all([this.lm.LTa(A),this.lm.NTa(K),this.lm.GK(),this.lm.A2(),this.gzb(y.ca,z),this.Rzb(y),N]).then(function(O){var R,L,Q,P,ha,va;R=Z(O);L=R.next().value;Q=R.next().value;P=R.next().value;ha=R.next().value;va=R.next().value;O=R.next().value;R=R.next().value;L=(L || []).concat(Q || []).concat(B.config().xv).concat(["BIF240","BIF320"]).filter(Boolean);ha=ha?ha.DEVICE_SECURITY_LEVEL:void 0;Q="postplay" === C.sd?!0:! !G.isUIAutoPlay;P={type:"standard",viewableId:J,profiles:L,flavor:y.An,drmType:R,drmVersion:M,usePsshBox:!0,isBranching:! !y.Va.jj,useHttpsStreams:!0,supportsUnequalizedDownloadables:B.config().wVb,imageSubtitleHeight:d.FY.qja(),uiVersion:B.Ih.Wy,uiPlatform:B.Ih.U7,clientVersion:B.platform.version,supportsPreReleasePin:B.config().Aq.sVb,supportsWatermark:B.config().Aq.tVb,showAllSubDubTracks:B.config().Aq.TTb || ! !G.showAllSubDubTracks,packageId:B.eBb(C),deviceSecurityLevel:ha,videoOutputInfo:P,titleSpecificData:H,preferAssistiveAudio:! !G.assistiveAudioPreferred,preferredTextLocale:G.preferredTextLocale,preferredAudioLocale:G.preferredAudioLocale,isUIAutoPlay:Q,challenge:va,isNonMember:B.Ih.F3,pin:C.r_a,desiredVmaf:B.config().dYb?B.config().fub:B.config().gub};C.vQa && (P.extraParams=C.vQa);C.XOa && (P.desiredDownloadables=C.XOa);C.Kpa && (P.requestReference=C.Kpa);va={Ik:O?"licensedManifest":"manifest",Zo:null === O || void 0 === O?void 0:O.Db};O && (O={drmSessionId:O.Db.Ax() || "session",clientTime:B.sa.R6.da(q.Xm),challengeBase64:O.efa},P.challenges={"default":[O]},P.profileGroups=[{name:"default",profiles:L}],P.licenseType=y.An === l.th.cw && B.Ih.h6a?"limited":"standard",y.ca && (P.xid=y.ca.toString()));B.Ih.WPa && y.An === l.th.AY && (P.maxSupportedLanguages=2);return [P,va];});};c.prototype.eBb=function(y){if(this.config().c6.enabled){if(void 0 !== y.up)return y.up;if(void 0 !== this.config().c6.up)return Number(this.config().c6.up);}};c.prototype.gzb=function(y,z){var B;B=this;return this.vob.MRa(z).then(function(A){var E;E=y && B.DNb.lBb(y);E && E.Jo("cad");return A;});};c.prototype.Rzb=function(y){var z,B,A,E;z=y.An === l.th.Yl || y.An === l.th.Aaa;y=y.An === l.th.cw;B=this.config().Mp && this.Ih.r0;A=this.config().Mp && this.Ih.XPa;E=A?x.pk.Uv:x.pk.Yl;return z && B || y && A?this.eR.Bja(E):Promise.resolve(void 0);};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(u.Mt)),r.__param(1,g.l(n.uk)),r.__param(2,g.l(m.Uc)),r.__param(3,g.l(f.Dua)),r.__param(4,g.l(h.taa)),r.__param(5,g.l(k.It)),r.__param(6,g.l(t.MW)),r.__param(7,g.l(p.hi)),r.__param(8,g.l(w.z$)),r.__param(9,g.l(v.Nv))],a);b.DCa=a;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p,q){this.platform=k;this.config=n;this.eR=p;this.lm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;r=a(0);g=a(1);l=a(13);m=a(32);d=a(158);f=a(24);h=a(68);c.prototype.transform=function(k){var n,p;n=this;p=k.Va;return Promise.all([this.lm.LTa(),this.lm.NTa(),this.eR.Bja(h.pk.Yl)]).then(function(q){var t,u;t=Z(q);q=t.next().value;u=t.next().value;t=t.next().value;return [{viewableId:k.aa,packageId:p.up,assetId:p.lea,challenge:t.efa,audioProfiles:q,textProfiles:n.config().xv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u,audioLanguages:p.wmb,textLanguages:p.MVb,requestReference:p.Kpa},{Zo:null === t || void 0 === t?void 0:t.Db,Ik:"studioManifest"}];});};a=c;a=r.__decorate([g.O(),r.__param(0,g.l(m.uk)),r.__param(1,g.l(l.Uc)),r.__param(2,g.l(d.MW)),r.__param(3,g.l(f.Nv))],a);b.UCa=a;},function(r,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(1);c=a(220);g=a(492);l=a(1206);m=a(1207);d=a(1208);f=a(36);b.transports=new r.Qc(function(h){h(c.JY).to(d.nGa).Z();h(g.iBa).to(l.hBa);h(g.uFa).to(m.tFa);h(g.oGa).sf(function(k){return function(n){var p;return k.eb.get(c.JY).Z6(null !== (p=null === n || void 0 === n?void 0:n.OJb) && void 0 !== p?p:f.Jt.XO)?k.eb.get(g.iBa):k.eb.get(g.uFa);};});});},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t){var u;u=this;this.wB=p;this.receiver=q;this.profile=t;this.log=n.sb("MslTransport");this.wB().then(function(w){return u.P4=w;});}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;r=a(0);g=a(1);l=a(7);m=a(140);d=a(4);f=a(188);a=a(88);h={license:!0};c.prototype.send=function(n,p){var q,t;q=this;t={tYa:Object.assign({qf:n.qf,log:n.log,profile:this.profile},n.gnb),method:n.Ik,url:n.url.href,body:JSON.stringify(p),timeout:n.timeout.da(d.ia),pYb:this.profile,L8b:!h[n.Ik],kKb:! !h[n.Ik],xl:!0,A6:n.Wpa,headers:n.headers};!1;return this.wB().then(function(u){return u.send(t).then(function(w){q.receiver.tM({command:n.Ik,inputs:p,outputs:w});return w;}).catch(function(w){var v;if(!w.error)throw (w.$b=w.ka || w.$b,q.receiver.tM({command:n.Ik,inputs:p,outputs:w}),w);v=w.error;v.RB=w.RB;q.log.error("Error sending MSL request",{mslCode:v.Xu,subCode:v.$b,data:v.data,message:v.message});q.receiver.tM({command:n.Ik,inputs:p,outputs:v});throw v;});});};c.prototype.Rfa=function(){var n;return {userTokens:null === (n=this.P4) || void 0 === n?void 0:n.WT.getUserIdTokenKeys()};};k=c;k=r.__decorate([g.O(),r.__param(0,g.l(l.Ab)),r.__param(1,g.l(m.KO)),r.__param(2,g.l(f.mY)),r.__param(3,g.l(a.ZO))],k);b.hBa=k;},function(r,b,a){var g,l,m,d,f;function c(h,k,n){this.receiver=k;this.qf=n;this.log=h.sb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;r=a(0);g=a(1);l=a(4);m=a(7);d=a(188);a=a(110);c.prototype.send=function(h,k){var n,p;n=this;p={url:h.url.href,GE:"nq-" + h.Ik,Doa:JSON.stringify(k),y0:h.timeout.da(l.ia),headers:h.headers,withCredentials:!0};!1;return new Promise(function(q,t){n.qf.download(p,function(u){u.W?q(u):t(u);});}).then(function(q){q={status:"success",body:q.content};n.receiver.tM({command:h.Ik,inputs:k,outputs:q});return q;}).catch(function(q){var t;if(!q.error)throw (q.$b=q.ka || q.$b,n.receiver.tM({command:h.Ik,inputs:k,outputs:q}),q);t=q.error;t.RB=q.RB;n.log.error("Error sending SSL request",{subCode:t.$b,data:t.content,message:t.message});n.receiver.tM({command:h.Ik,inputs:k,outputs:t});throw t;});};c.prototype.Rfa=function(){return {};};f=c;f=r.__decorate([g.O(),r.__param(0,g.l(m.Ab)),r.__param(1,g.l(d.mY)),r.__param(2,g.l(a.qz))],f);b.tFa=f;},function(r,b,a){var g,l,m,d,f;function c(h){return l.Ye.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;r=a(0);g=a(1);l=a(43);m=a(35);d=a(42);f=a(36);ja(c,l.Ye);c.prototype.Z6=function(h){var k,n;k=this.q6a;n=this.UKa;switch(h){case f.Jt.XO:return k;case f.Jt.VDa:return k && !n;case f.Jt.lcb:return !1;}};Ua.Object.defineProperties(c.prototype,{q6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},UKa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.jd,"usesMsl")],a.prototype,"q6a",null);r.__decorate([d.config(d.jd,"allowRequestsWithoutMsl")],a.prototype,"UKa",null);a=r.__decorate([g.O(),r.__param(0,g.l(m.$l))],a);b.nGa=a;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.mj=void 0;r=a(1);c=a(507);g=a(1210);b.mj=new r.Qc(function(l){l(c.sza).to(g.rza);});},function(r,b,a){var g,l,m,d,f,h,k,n;function c(p,q,t,u,w){this.JE=p;this.$o=q;this.config=t;this.EL=u;this.ed=w;}Object.defineProperty(b,"__esModule",{value:!0});b.rza=void 0;r=a(0);g=a(1);l=a(115);m=a(1211);d=a(1212);f=a(65);h=a(13);k=a(134);a=a(111);c.prototype.create=function(p,q,t){return p?new m.tza(this.config(),this.$o,this.ed,q,t,this.JE,this.EL()):new d.nza(this.config,this.ed,q,t);};n=c;n=r.__decorate([g.O(),r.__param(0,g.l(l.gX)),r.__param(1,g.l(f.Dt)),r.__param(2,g.l(h.Uc)),r.__param(3,g.l(k.HO)),r.__param(4,g.l(a.nD))],n);b.rza=n;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t,u,w,v,x,y){w=k.UN.call(this,w,v) || this;w.config=q;w.$o=t;w.ed=u;w.JE=x;w.Wma=y;w.log=l.Eh(w.j,"LicenseBroker");w.qL=new Set();w.Vma=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;r=a(0);g=a(2);l=a(6);m=a(323);d=a(4);f=a(1);h=a(273);k=a(524);n=a(68);p=a(15);ja(c,k.UN);c.prototype.o5=function(){var q,t,u;q=this;u=this.j.ha;this.qL.has(u.H) || (this.qL.add(u.H),((null === (t=u.la) || void 0 === t?0:t.Zo)?this.Plb(u,u.la.Zo):this.config.bK && this.config.Us?this.Qlb(u):Promise.reject()).catch(function(){return q.w1a(u);}).then(function(){return q.kLa(u);}).catch(function(w){return q.jLa(u,w);}).catch(function(w){return q.kd(w.code,w,w.od);}));};c.prototype.Qlb=function(q){var t;t=this;return this.ed.IRa(q.H).then(function(u){return t.FQ(u,q,"videopreparer");}).catch(function(u){t.log.warn("eme not in cache",u);throw u;});};c.prototype.Plb=function(q,t){var u;u=this;return this.JE().then(function(w){var v;v=u.LSa(q);w.oYa(v,t);u.qL.add(q.H);return u.FQ(t,q,"manifest");});};c.prototype.FQ=function(q,t,u){this.e0a(q,t);t.oE=u;this.Wma.setMediaKeys(q.mediaKeys);return q.fea().I7();};c.prototype.Xxb=function(q){var t;t={};q.forEach(function(u){t[m.xPa(u.mJb)]=u.time.da(d.ia);});return t;};c.prototype.e0a=function(q,t){var u,w;u=this;t.Ee=q;null === (w=q.yu()) || void 0 === w?void 0:w.subscribe(function(v){u.kd(v.code,v,v.od);});};c.prototype.kLa=function(q){this.log.info("Successfully applied license for xid: " + q.ca + ", viewable: " + q.H + ", segment: " + q.oa);this.Jx(q);this.Vma?this.N1(q.H):this.setMediaKeys(q);};c.prototype.jLa=function(q,t){this.Jx(q);throw t;};c.prototype.Jx=function(q){q.Ee && q.Jx(this.Xxb(q.Ee.Sc));};c.prototype.LSa=function(q){var t;return {type:this.$ia(),initData:q.Xs.map(function(u){return l.sq(u);}),context:{Qe:this.config.Qe,ja:this.zb.ja,Vs:null === (t=q.xg.value) || void 0 === t?void 0:t.Vs},ai:{H:q.H,ca:q.ca,Di:q.Di,wl:q.wl,oj:q.la.oj}};};c.prototype.w1a=function(q){var t;t=this;return this.JE().then(function(u){var w;w=t.LSa(q);t.qL.add(q.H);return u.Vf(w,t.Wma).then(function(v){t.e0a(v,q);t.j.fireEvent(p.T.tL,{H:q.H});return v.fea().I7();});});};c.prototype.setMediaKeys=function(q){var t;t=this;if(this.Vma)this.log.trace("Media Keys already set");else try{this.zb.ja?this.zb.ja.setMediaKeys(q.Ee.mediaKeys).then(function(){t.N1(q.H);t.Vma=!0;}).catch(function(u){u=t.YTa(u);t.kd(g.J.MH,u,u.Oe);}):this.N1(q.H);}catch(u){this.kd(g.J.MH,u,void 0);}};c.prototype.By=function(){var q,t;q=this;t=this.j.ha.Ee;return t?this.JE().then(function(u){return u.release(t,q.Wma).then(function(w){q.log.trace("Successfully released the license");return w.close();}).catch(function(w){q.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.v1a=function(q){var t;t=this;q=void 0 === q?this.j:q;return this.w1a(q).then(function(){return t.kLa(q);}).catch(function(u){return t.jLa(q,u);});};c.prototype.$ia=function(){return this.$o.gS?n.pk.Uv:n.pk.Yl;};Ua.Object.defineProperties(c.prototype,{xB:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Qe:{configurable:!0,enumerable:!0,get:function(){return this.config.Qe;}}});a=c;r.__decorate([h.uT],a.prototype,"xB",null);a=r.__decorate([f.O()],a);b.tza=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u,w,v,x){v=p.UN.call(this,v,x) || this;v.config=u;v.ed=w;v.log=l.Eh(v.j,"LegacyLicenseBroker");v.Qe=v.config().Qe;v.config().k0a?d.MVa()?v.f8=!0:v.log.error("Promise based eme requested but platform does not support it",{browserua:f.Yp}):v.f8=!1;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.nza=void 0;r=a(0);g=a(2);l=a(6);m=a(138);d=a(45);f=a(10);h=a(1);k=a(273);n=a(32);p=a(524);q=a(68);ja(c,p.UN);c.prototype.bOa=function(u){var w;w=void 0 === w?this.j:w;return new this.Tq.qH(u,function(v){return w.rR.XE(v);},function(v){return w.rR.release(v);},{Pe:!1,Zj:!1});};c.prototype.zE=function(u){var w,v,x,y,z,B;w=this;u=void 0 === u?this.j:u;v=a(50).ti;this.Tq.qH || this.kd(g.J.BH,g.K.q$a);x=l.Eh(u,"Eme");y=this.bOa(x);z=l.fa.get(m.cP);B=z.E0(u.Yc.value.streams);z=z.H0(u.xg.value.streams);return this.Tq.sH(x,function(A){return u.zd(A);},{Pe:!1,Zj:!1,sa:{getTime:v},wj:y,IU:! !this.f8,ja:this.zb.ja,Zy:this.config().UPa,onerror:function(A,E,D){return w.kd(A,E,D);},Dna:function(){},QF:!0,vmb:B,GYb:z,h3:this.config().h3});};c.prototype.setMediaKeys=function(u){var w;w=this;return this.f8?new Promise(function(v,x){if(w.zb.ja)w.zb.ja.setMediaKeys(u).then(function(){v();}).catch(function(y){var z;z=w.YTa(y);x({W:!1,code:g.J.MH,$b:z.ka,od:z.Oe,gb:z.gb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.oQa=function(u){return {code:u.code,subCode:u.$b,extCode:u.od,edgeCode:u.om,message:u.message,errorDetails:u.gb,errorData:u.fK,state:u.state};};c.prototype.Kqa=function(u,w,v){var y,z,B;function x(){z.bG().catch(function(A){y.log.error("Unable to set the license",y.oQa(A));A.cause && A.cause.gb && (A.gb=A.gb?A.gb + A.cause.gb:A.cause.gb);y.kd(A.code,A,A.od);});}y=this;v=void 0 === v?this.j:v;z=v.Ee;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return z.Vf(y.$ia(),u);};return (w?function(){return z.FQ(y.zb.ja);}:function(){return z.create(y.Qe).then(function(){return Promise.resolve();});})().then(function(){return y.config().Q2a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(B).then(function(){return y.config().Q2a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.N1(v.H);y.zb.L6a.then(function(){y.config().kB && (w || y.config().gS) && (y.p1a=lb.setTimeout(x,y.config().kB));});}).catch(function(A){y.log.error("Unable to set the license",y.oQa(A));A.cause && A.cause.gb && (A.gb=A.gb?A.gb + A.cause.gb:A.cause.gb);if(w)throw Error(A && A.message?A.message:"failed to set license");y.kd(A.code,A,A.od);});};c.prototype.By=function(){return Promise.resolve();};c.prototype.o5=function(){var w;function u(){var v;w.j.Ee=w.zE();v=[];w.j.Xs.forEach(function(x){v.push(l.sq(x));});w.Kqa(v);}w=this;this.qL || (this.qL=!0,this.Tq.sH?this.j.Xs?this.config().bK && this.config().Us?this.ed.IRa(this.j.H).then(function(v){w.j.Ee=v;return v.Nsa.then(function(){var x;x=[];w.j.Xs.forEach(function(y){x.push(l.sq(y));});return w.Kqa(x,!0).then(function(){var y;if(v.g5b)w.kd(g.J.t$a);else {y=l.Eh(w.j,"Eme");v.U5a({log:y,Gm:function(z){return w.j.zd(z);}},{wj:w.bOa(y),onerror:function(z,B,A){return w.kd(z,B,A);}});w.j.Jx(v.Sc || ({}));w.j.oE="videopreparer";}});});}).catch(function(v){w.log.warn("eme not in cache",v);u();}):u():(this.log.error("Missing the PSSH on the video track, closing the player"),this.kd(g.J.$cb)):this.kd(g.J.BH,g.K.r$a));};c.prototype.v1a=function(u){var w;u=void 0 === u?this.j:u;u.Ee=this.zE();w=[];u.Xs.forEach(function(v){w.push(l.sq(v));});return this.Kqa(w,!1,u);};c.prototype.$ia=function(){return this.config().gS?q.pk.Uv:q.pk.Yl;};Ua.Object.defineProperties(c.prototype,{Tq:{configurable:!0,enumerable:!0,get:function(){return l.fa.get(n.yz);}},xB:{configurable:!0,enumerable:!0,get:function(){return this.f8?"encrypted":this.zb.D9 + "needkey";}}});t=c;r.__decorate([k.uT],t.prototype,"Tq",null);r.__decorate([k.uT],t.prototype,"xB",null);t=r.__decorate([h.O()],t);b.nza=t;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Hf=void 0;r=a(1);c=a(525);g=a(1214);l=a(528);m=a(1220);d=a(185);f=a(1221);h=a(1222);k=a(151);n=a(527);p=a(1223);b.Hf=new r.Qc(function(q){q(c.GDa).to(g.FDa).Z();q(l.SDa).to(m.RDa).Z();q(d.nY).to(f.EDa).Z();q(k.WO).to(h.CDa).Z();q(n.LDa).to(p.KDa).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t,u,w,v,x,y){this.rg=q;this.Gha=t;this.Ei=u;this.mM=w;this.$ra=v;this.NNb=x;this.eF=y;}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;r=a(0);g=a(1);l=a(1215);m=a(7);d=a(151);f=a(335);h=a(527);k=a(185);n=a(342);a=a(92);c.prototype.create=function(q){return new l.HDa(q,this.rg,this.Gha,this.mM,this.Ei,this.$ra,this.NNb,this.eF);};p=c;p=r.__decorate([g.O(),r.__param(0,g.l(m.Ab)),r.__param(1,g.l(f.kO)),r.__param(2,g.l(d.WO)),r.__param(3,g.l(k.nY)),r.__param(4,g.l(n.lGa)),r.__param(5,g.l(h.LDa)),r.__param(6,g.l(a.pz))],p);b.FDa=p;},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p,q,t,u,w,v){this.mM=q;this.$ra=u;this.eS=!1;this.uy=v.zA();t.e8 && (k=new f.IDa().CWb(k));this.wc=new d.QDa(k);this.mk=new m.TDa(this.wc);this.mk.K2a(this.wc.ha.aa);this.log=n.sb("PlaygraphManager");k=new h.MDa(t,this,this.mk);this.Hb=p.create();this.dv=w.create(this.uy,this.wc,this.mk,this.log,k,this.Hb);this.vTb();}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;g=a(15);l=a(286);m=a(1216);d=a(1217);f=a(1218);h=a(1219);c.prototype.oBb=function(){return this.uy;};c.prototype.m2=function(){return this.wc.ha;};c.prototype.WRa=function(){return this.wc.ng;};c.prototype.pBb=function(){return this.wc.Uk;};c.prototype.hk=function(k){for(var n=[],p=0;p < arguments.length;++p){n[p - 0]=arguments[p];}this.wc.hk.apply(this.wc,ba(n));};c.prototype.kpb=function(k){for(var n=[],p=0;p < arguments.length;++p){n[p - 0]=arguments[p];}this.wc.yLa(n);};c.prototype.T5a=function(k){this.wc.Uk=k;};c.prototype.di=function(k,n){this.wc.di(k,n);};c.prototype.Rja=function(k,n,p){if(k !== this.wc.ng)throw Error("Invalid currentSegmentId");if(n !== this.wc.EK(k))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + k + " -> " + n);return this.dv.Sja(n,p);};c.prototype.isReady=function(){return this.dv.isReady();};c.prototype.addListener=function(k,n,p){this.Hb.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Hb.removeListener(k,n);};c.prototype.kp=function(){return this.dv.kp();};c.prototype.wi=function(){return this.dv.wi();};c.prototype.pq=function(k){var n,p;n=this;this.log.info("Adding segment - movieId: " + k.H + ", startPts: " + k.V + ", logicalEnd: " + k.ak);p=Object.keys(this.wc.Uk.ya).find(function(q){return n.wc.Uk.ya[q].aa === k.H;});k.id || (k.id=null !== p && void 0 !== p?p:this.mM.lS(k.H));k.la && this.mk.ju(k.H,k.la);this.mk.Zkb(k.H,Object.assign({},k.xb,k.V?{V:k.V}:{},k.ak?{ak:k.ak}:{}));if(!this.eS)return (p=this.dv.qM(k.id),this.wi().Eu().addEventListener(g.T.lG,function(q){return n.AB(q);}),this.eS=!0,p);if(p)return (k.ak && this.wc.EXb(p,k.ak),null);this.wc.Uk=this.mM.Nlb(this.wc.Uk,k);this.wi().Eu().oq("addSegment movieId: " + k.H + ", startPts: " + k.V + ", logicalEnd: " + k.ak);return this.dv.qM(k.id);};c.prototype.transition=function(k){var n;n=this.wc.EK(this.wc.ng);return n?this.Rja(this.wc.ng,n,k):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(k){return this.dv.close(k);};c.prototype.wm=function(k){if(this.mk.aF(k).state == l.gq.y9)return this.wi().Eu().wm(k);};c.prototype.vTb=function(){var k;k=this;this.wc.gVb(function(){k.mk.lU();k.dv.lU();});this.wc.hVb(function(n){k.dv.Wna(n);});this.addListener(g.$C.iV,function(){return k.MLb();});this.addListener(g.Mb.rVa,function(n){return k.BLb(n);});};c.prototype.BLb=function(k){var n;n=this;this.dv.t5a(k).catch(function(){return n.Hb.bc(g.Mb.error,k.Tra());});};c.prototype.MLb=function(){var k;k=this.wi().getError();k?this.Hb.bc(g.Mb.Sea,k):(this.Hb.bc(g.Mb.GLa),this.Hb.bc(g.Mb.PQ),this.Hb.bc(g.Mb.IG),this.Hb.bc(g.Mb.vN),this.Hb.bc(g.Mb.WV),this.Hb.bc(g.Mb.Sea));};c.prototype.AB=function(k){var n,p,q;!1;n=k.metrics;if(n){p=this.wi().Eu();q=p.Fu(k.segmentId);n=p.Fu(n.srcsegment);this.$ra.SOb(k,q,n);}};b.HDa=c;},function(r,b,a){var g;function c(l){this.La=l;this.EN={};this.lU();}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;g=a(286);c.prototype.lU=function(){var l;l=this;Object.values(this.La.Uk.ya).forEach(function(m){m=m.aa;l.EN[m] || l.nVa(m);});this.X7();};c.prototype.aF=function(l){return this.EN[l];};c.prototype.OSb=function(l){this.BS(l).state=g.gq.sxa;this.X7();};c.prototype.NSb=function(l,m){l=this.BS(l);l.state=g.gq.Error;l.error=m;l.N1a(!1);this.X7();};c.prototype.K2a=function(l){l=this.BS(l);l.state=g.gq.y9;l.N1a(!0);this.X7();};c.prototype.Zkb=function(l,m){this.BS(l).xb=m;};c.prototype.ju=function(l,m){this.BS(l).la=m;};c.prototype.BS=function(l){var m;return null !== (m=this.aF(l)) && void 0 !== m?m:this.nVa(l);};c.prototype.nVa=function(l){var m,d;m=void 0;d=new Promise(function(f,h){m=function(k){(k?f:h)();};});return this.EN[l]={state:g.gq.tBa,BPb:d,N1a:m};};c.prototype.X7=function(){var m;this.HYa=void 0;for(var l=this.La.ng;l=this.La.EK(l);){m=this.ws(l);if(this.EN[m].state === g.gq.Error)break;if(this.EN[m].state === g.gq.sxa)break;if(this.EN[m].state === g.gq.tBa){this.HYa={aa:m,oa:l};break;}}};c.prototype.ws=function(l){return this.La.Uk.ya[l].aa;};b.TDa=c;},function(r,b,a){var g;function c(l){this.KZ={};this.cra={};this.N5a=[];this.t3a=[];this.Uk=l;this.ng=l.je;}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;g=a(152);c.prototype.hk=function(l){var f;for(var m=[],d=0;d < arguments.length;++d){m[d - 0]=arguments[d];}f=this;m.filter(function(h){return f.hV(h.oa);}).filter(function(h){h=h.$T;return !h || f.hV(h);}).forEach(function(h){f.KZ[h.oa]=f.Gna(h.$T);});};c.prototype.yLa=function(l){var m;m=this;l.filter(function(d){return m.hV(d);}).forEach(function(d){m.KZ[d]=m.Gna(m.cf(d).Cg);});};c.prototype.di=function(l,m){var d,f,h;d=this.cf(l);if(d && d.next){f=new g.SH(this.Uk);h=Object.keys(d.next).reduce(function(k,n){k[n]=void 0 === m[n]?d.next[n]:Object.assign({},d.next[n],{weight:m[n]});return k;},{});h=Object.assign({},d,{next:h});f.pq(l,h);this.Uk=f.Pj();}};c.prototype.hV=function(l,m){m=void 0 === m?this.Uk.ya:m;return (l in m);};c.prototype.EK=function(l){return this.KZ[l];};c.prototype.cf=function(l){return this.Uk.ya[l];};c.prototype.ATa=function(l){return void 0 === this.cra[l]?this.Gna(this.cf(l).Mc):this.cra[l];};c.prototype.EXb=function(l,m){this.cra[l]=m;this.EKb(l);};c.prototype.gVb=function(l){this.N5a.push(l);};c.prototype.hVb=function(l){this.t3a.push(l);};c.prototype.HKb=function(){var l;l=this;this.N5a.forEach(function(m){return m(l.Uk);});};c.prototype.EKb=function(l){this.t3a.forEach(function(m){return m(l);});};c.prototype.Gna=function(l){return null === l?void 0:l;};Ua.Object.defineProperties(c.prototype,{Uk:{configurable:!0,enumerable:!0,get:function(){return this.Oib;},set:function(l){if(this.ng && !this.hV(this.ng,l.ya))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ng);this.Oib=l;this.KZ={};l=Object.keys(l.ya);this.yLa(l);this.HKb();}},ng:{configurable:!0,enumerable:!0,get:function(){return this.Xfb;},set:function(l){if(!this.hV(l))throw Error("Provided currentSegmentId " + l + " does not exist in the current playgraph");this.Xfb=l;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.cf(this.ng);}}});b.QDa=c;},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IDa=void 0;g=a(152);c.prototype.CWb=function(l){var m;if(!this.HFb(l.ya))return l;m=new g.SH().pV(l.je);Object.entries(l.ya).forEach(function(d){var f;f=Z(d);d=f.next().value;f=f.next().value;d === l.je?m.pq(d,Object.assign(Object.assign({},f),{next:void 0,Mc:void 0,Cg:void 0})):m.pq(d,f);});return m.Pj();};c.prototype.HFb=function(l){l=Object.values(l).map(function(m){return m.aa;});return 1 === new Set(l).size;};b.IDa=c;},function(r,b,a){var g,l;function c(m,d,f){this.Ei=m;this.Hf=d;this.mk=f;}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;g=a(4);l=a(526);c.prototype.LTb=function(){var m,d,f,h,k;m=this.mk.HYa;if(!m)return {result:l.bq.NO};d=this.Hf.wc;if(d.ng === m.oa)return {result:l.bq.hba,E6a:m};f=this.IBb(d,d.ng,m.oa);if(!f)return {result:l.bq.NO};h=f.duration;if(f.EA >= this.Ei.Y_a)return {result:l.bq.NO};f=this.gSa(d.ng);if(!f)return {result:l.bq.NO};d=this.Hf.wi().l2() || 0;f=Math.max(0,f - d);h=f + h;k=this.Ei.X_a.da(g.ia);if(h <= k)return {result:l.bq.hba,E6a:m};m=h - k;return f < m?{result:l.bq.NO}:{result:l.bq.iza,Uh:d + m};};c.prototype.IBb=function(m,d,f){var n,p;d=m.EK(d);for(var h=0,k=0;d !== f && void 0 !== d;){h++;n=m.cf(d);p=this.gSa(d) || Infinity;k+=p - n.Zb;d=m.EK(d);}return d?{EA:h,duration:k}:void 0;};c.prototype.gSa=function(m){var d,f;d=this.Hf.wc;f=d.ATa(m);if(void 0 !== f)return f;m=d.cf(m);if(m=this.Hf.wm(m.aa))return m.Wr.da(g.ia);};b.MDa=c;},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(0);g=a(1);c.prototype.create=function(l,m){return new (a(529).LGa)(l,m);};r=r.__decorate([g.O()],c);b.RDa=r;},function(r,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.EDa=void 0;r=a(0);g=a(1);l=a(152);c.prototype.Esb=function(m){var h,k,n;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}h=this;if(0 === d.length)throw Error("Empty playgraph");k=new l.SH().pV(this.lS(d[0]));d.reverse().forEach(function(p){var q;q=h.lS(p);k.pq(q,Object.assign({aa:p,Zb:0},n?{Cg:n}:{}));n=q;});return k.Pj();};c.prototype.lS=function(m,d){return m + ":[startPts:" + (void 0 === d?0:d) + "]";};c.prototype.Nlb=function(m,d){var f,h,k,n;if(void 0 === k)k=null !== (h=d.id) && void 0 !== h?h:this.lS(d.H,d.V);void 0 === f && (f="pauseAtStart");h=this.yAb(m);n=new l.SH(m);n.pq(k,{aa:d.H,Zb:d.V || 0,Pc:f});m=m.ya[h];d={};n.pq(h,Object.assign({},m,{Cg:k,next:Object.assign({},m.next || ({}),(d[k]={},d))}));return n.Pj();};c.prototype.yAb=function(m){for(var d=m.je,f=d;f=m.ya[f].Cg;){d=f;}return d;};a=r.__decorate([g.O()],c);b.EDa=a;},function(r,b,a){var g,l,m,d,f;function c(h){return l.Ye.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;r=a(0);g=a(1);l=a(43);m=a(35);d=a(42);f=a(4);ja(c,l.Ye);Ua.Object.defineProperties(c.prototype,{Y_a:{configurable:!0,enumerable:!0,get:function(){return 2;}},X_a:{configurable:!0,enumerable:!0,get:function(){return f.L4(3);}},d8:{configurable:!0,enumerable:!0,get:function(){return !1;}},e8:{configurable:!0,enumerable:!0,get:function(){return !1;}},n6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},fRa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Xy,"prepareSegmentsUpfront")],a.prototype,"Y_a",null);r.__decorate([d.config(d.bk,"prepareSegmentsDuration")],a.prototype,"X_a",null);r.__decorate([d.config(d.jd,"usePlaygraphForPostPlay")],a.prototype,"d8",null);r.__decorate([d.config(d.jd,"usePlaygraphForSkipSegment")],a.prototype,"e8",null);r.__decorate([d.config(d.jd,"useSinglePlayerPlayback")],a.prototype,"n6a",null);r.__decorate([d.config(d.jd,"forcePlaygraphTrace")],a.prototype,"fRa",null);a=r.__decorate([g.O(),r.__param(0,g.l(m.$l))],a);b.CDa=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t;function c(u,w,v,x,y,z,B,A){this.Ia=u;this.tj=w;this.dSb=x;this.Ei=z;this.uB=B;this.Sn=A;this.cSb=v.PA(!1,"6.0030.553.911",u.id,A,y);}Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;r=a(0);g=a(1);l=a(118);m=a(18);d=a(151);f=a(1224);h=a(339);k=a(212);n=a(13);p=a(530);q=a(211);a=a(34);c.prototype.create=function(u,w,v,x,y,z){var B;u=this.dSb.tsb(u,this.cSb);B=this.Ei.d8 || this.Ei.n6a && 1 < Object.keys(w.Uk.ya).length;x.debug("Using " + (B?"single":"multiple") + " player playback strategy");return B?new f.pFa(this.Ei,w,v,x,this.tj,this.Ia,y,this.uB,u,z):new p.UC(w,v,u,z);};t=c;t=r.__decorate([g.O(),r.__param(0,g.l(m.ud)),r.__param(1,g.l(l.RH)),r.__param(2,g.l(h.bFa)),r.__param(3,g.l(k.Naa)),r.__param(4,g.l(n.Uc)),r.__param(5,g.l(d.WO)),r.__param(6,g.l(q.G$)),r.__param(7,g.l(a.VO))],t);b.KDa=t;},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t,u,w,v,x,y,z){var B;B=f.UC.call(this,p,q,y,z) || this;B.Ei=n;B.qa=t;B.tj=u;B.Ia=w;B.ONb=v;B.eS=!1;B.Loa=Promise.resolve();B.Aha=new Map();B.mYa=x.aga({pja:function(){return m.Xb(100);}},function(){return B.wi().l2() || 0;});B.mEb();return B;}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;g=a(15);l=a(286);m=a(4);d=a(2);f=a(530);h=a(526);k=a(119);ja(c,f.UC);c.prototype.lU=function(){this.MB();};c.prototype.Wna=function(){};c.prototype.Sja=function(n,p){var q,t,u,w;q=this.wc.cf(n);if(this.Ei.e8 && this.wc.ha.aa === q.aa)return Promise.resolve(this.wi().seek(q.Zb,g.Ad.fw,void 0));t=this.mk.aF(q.aa);p=k.ana(t.xb,p);u=this.wi().Eu();if(t.state !== l.gq.y9)return (t=t.state === l.gq.Error?t.error:this.tj(d.J.Qcb,{gb:n}),u.CCb({aa:q.aa,oa:n,Va:p},t),u.oq("Transition " + this.wc.ng + "->" + n + " error " + t.HE),Promise.reject());q=u.Ga;if(null === q || void 0 === q || !q.ah())throw (this.qa.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.qa.debug("going to next segment: " + this.wc.ng + " -> " + n);u.oq("Transition " + this.wc.ng + "->" + n);w=u.Fu(n);w.Tl=this.Ia.Tb().da(m.ia);w.Va=p;return (void 0 !== q.UE(n)?this.DCb(n,w.H):this.fV(n,w.H)).then(function(){u.gRa(w.H);});};c.prototype.fV=function(n,p){var q;q=this.wc.Uk.ya[n].Zb;this.qa.debug("Segment is not pre-buffered - performing a regular seek");this.wi().Eu().oq("NO DATA " + n + ", SEEKING " + q + ", viewableId: " + p);return Promise.resolve(this.wi().seek(q,g.Ad.fw,n,!0));};c.prototype.DCb=function(n,p){var q,t,u,w,v;q=this;t=this.wi().Eu();u=t.Ga;if(null === u || void 0 === u || !u.ah())throw Error("No streaming session");w=new Promise(function(x){function y(){q.qa.debug("Stopped ASE");u.removeEventListener("stop",y);x();}u.addEventListener("stop",y);});v=new Promise(function(x){function y(){q.qa.debug("Repositioned");t.removeEventListener(g.T.Ml,y);x();}function z(){q.qa.debug("Repositioning");t.removeEventListener(g.T.dG,z);u.stop();}t.addEventListener(g.T.dG,z);t.addEventListener(g.T.Ml,y);});w=Promise.all([w,v]).then(function(){if(!u.So(n,!1,!0))return (t.oq("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),q.fV(n,p));});v=u.yA(void 0,this.wc.Uk.ya[n].Zb,n);this.qa.debug("Calling seek on internal player to " + v);this.wi().seek(v,g.Ad.bD,n,!0);return w;};c.prototype.qM=function(n){if(!this.eS)return (this.eS=!0,f.UC.prototype.qM.call(this,n));this.MB();this.Loa=this.wi().Eu().Ob.when(function(p){return p !== g.ob.cg;}).then(function(){});return this.mk.aF(this.wc.cf(n).aa).BPb;};c.prototype.MB=function(){var n,p;n=this;if(this.isReady()){this.mYa.cancel();p=this.ONb.LTb();p.result === h.bq.iza?this.mYa.observe(p.Uh,function(){n.MB();}):p.result === h.bq.hba && this.sOb(p.E6a);}};c.prototype.sOb=function(n){var q,t,u,w,v,x,y;function p(z){z.H === v && (q.wc.ng=t,q.MB(),w.removeEventListener(g.T.Oq,p),q.Hb.bc(g.$C.iV));}q=this;t=n.oa;u=this.wc.cf(t);w=this.wi().Eu();n=Object.assign(this.mk.aF(n.aa).xb || ({}),{V:u.Zb,ta:u.Mc,jj:!1,V7:Date.now(),jT:!0});v=w.Nda({aa:u.aa,oa:t,Va:n});x=w.wm(v);this.qa.debug("Creating new playback xid: " + x.ca + ", movieId: " + x.H);w.addEventListener(g.T.Oq,p);y="pauseAtStart" !== u.Pc;this.mk.OSb(u.aa);w.oq("queueManifest",x.oa);this.Loa=n=this.Loa.then(function(){return w.kPb(v,y);}).then(function(){w.oq("queueManifest done",x.oa);q.mk.K2a(u.aa);w.fOb(x);}).catch(function(z){w.oq("queueManifest error " + z.HE,x.oa);q.mk.NSb(u.aa,z);throw z;});n.then(function(){return q.MB();});};c.prototype.t5a=function(n){return n.errorCode && this.Aha.has(n.errorCode)?this.Aha.get(n.errorCode)(n):Promise.reject(Error("Error " + n.errorCode + " isn't recoverable"));};c.prototype.mEb=function(){var n;n=this;this.Aha.set(d.J.ZBa,function(){var p,q;return null !== (q=null === (p=f.UC.prototype.qM.call(n,n.wc.ng)) || void 0 === p?void 0:p.then(function(){var t,u;f.UC.prototype.Sja.call(n,n.wc.ng,null !== (u=null === (t=n.mk.aF(n.wc.ha.aa)) || void 0 === t?void 0:t.xb) && void 0 !== u?u:{});})) && void 0 !== q?q:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.pFa=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.BLa=void 0;r=a(1);c=a(1226);g=a(31);b.BLa=new r.Qc(function(l){l(g.Pg).to(c.Wta).Z();});},function(r,b,a){var g,l,m,d,f,h,k,n,p,q,t,u,w;function c(v,x,y,z,B,A){var E;E=this;this.jk=v;this.config=y;this.Un=z;this.debug=B;this.Ia=A;this.W4a=[];this.Sc={};this.log=x.sb("loadAsync");this.RHb=t.Axa(function(D){E.jQb=!0;E.startTime=E.Ia.Tb().da(p.ia);E.load(E.W4a).then(function(){E.endTime=E.Ia.Tb().da(p.ia);D(w.ze);}).catch(function(F){E.endTime=E.Ia.Tb().da(p.ia);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Wta=void 0;r=a(0);g=a(67);l=a(2);m=a(1227);d=a(62);f=a(1);h=a(7);k=a(13);n=a(57);p=a(4);q=a(90);t=a(531);u=a(18);w=a(12);c.prototype.yT=function(v){this.RHb(v);};c.prototype.register=function(v,x){this.debug.assert(!this.jQb);this.W4a.push({lHb:this.hob(x),errorCode:v});};c.prototype.zd=function(v){this.debug.assert(void 0 === this.Sc[v]);this.Sc[v]=this.Ia.Tb().da(p.ia);};c.prototype.load=function(v){var x;x=this;return m.c0a(v).then(function(y){x.jk.mark(d.Up.Vi.u7a);return y.reduce(function(z,B){return z.then(function(){return x.hHb(B);});},Promise.resolve()).then(function(){x.jk.mark(d.Up.Vi.s7a);});});};c.prototype.hHb=function(v){var x,y;x=this;y=v.lHb;!1;return this.Un.Dp(p.Xb(this.config().mmb),y()).catch(function(z){x.log.error("Failed to load component " + v.errorCode,z);x.jk.mark(d.Up.Vi.t7a);if(z instanceof n.cq)throw {ka:l.K.r7a,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.ka=z.ka || l.K.q7a;throw z;});};c.prototype.hob=function(v){return function(){return new Promise(function(x,y){v(function(z){z.W?x():y(z);});});};};a=c;a=r.__decorate([f.O(),r.__param(0,f.l(g.gD)),r.__param(1,f.l(h.Ab)),r.__param(2,f.l(k.Uc)),r.__param(3,f.l(n.dw)),r.__param(4,f.l(q.zt)),r.__param(5,f.l(u.ud))],a);b.Wta=a;},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.c0a=void 0;c=a(2);g=[c.J.Aab,c.J.Cya,c.J.Aya,c.J.Bya,c.J.Gya,c.J.xya,c.J.vya,c.J.X9,c.J.Hya,c.J.yya,c.J.xab,c.J.yab,c.J.wya,c.J.nz,c.J.sya,c.J.uya,c.J.Dya,c.J.Eya,c.J.Fya,c.J.Bab,c.J.Dab,c.J.Hab,c.J.Fab,c.J.Eab,c.J.Cab,c.J.Gab,c.J.Jab,c.J.zya,c.J.Iab,c.J.tya];(function(m){m.jcb=function(d){var k;for(var f={},h=0;h < d.length;h++){k=d[h];if(f[k.errorCode])return {errorCode:k.errorCode,ka:c.K.o7a};f[k.errorCode]=1;}};m.kcb=function(d){var h;for(var f=0;f < d.length;f++){h=d[f];if(-1 === g.indexOf(h.errorCode))return {errorCode:h.errorCode,ka:c.K.p7a};}};})(l || (l={}));b.c0a=function(m){return new Promise(function(d,f){var h;h=l.kcb(m);h && f(h);(h=l.jcb(m)) && f(h);d(m.sort(function(k,n){return g.indexOf(k.errorCode) - g.indexOf(n.errorCode);}));});};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.la=void 0;r=a(1);c=a(1229);g=a(113);b.la=new r.Qc(function(l){l(g.OC).to(c.nAa).Z();});},function(r,b,a){var g,l,m,d,f,h,k;function c(n,p,q,t){this.Cf=p;this.VHb=t;this.SU=new Map();this.log=n.sb("ManifestFetcher");this.Xg=q.Xg;}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;r=a(0);g=a(1);l=a(18);m=a(41);d=a(7);f=a(4);h=a(114);a=a(275);c.prototype.yS=function(n,p){var q,t;q=this;p && this.dlb(n.aa,p);if(!this.O2(n.aa)){this.log.trace("Requesting a new manifest",n.aa);t=this.Cf.Tb().da(f.ia);p=this.VHb.bf(this.log,n).then(function(u){n.An === h.th.cw && (u.gG=t,u.DM=q.Cf.Tb().da(f.ia));return u;}).catch(function(u){q.qra(n.aa,void 0);q.log.error("Failed to fetch manifest",m.Ec.md(u));throw u;});this.qra(n.aa,p);}return this.k2(n.aa);};c.prototype.O2=function(n){return this.Xg.PS(n,"manifest");};c.prototype.qra=function(n,p){var q;q=this;this.Xg.setData(n,"manifest",p,function(){return q.OCb(n);});};c.prototype.k2=function(n){return this.Xg.getData(n,"manifest");};c.prototype.OCb=function(n){var p;null === (p=this.SU.get(n)) || void 0 === p?void 0:p.forEach(function(q){return q();});this.SU.delete(n);};c.prototype.dlb=function(n,p){this.SU.has(n) || this.SU.set(n,[]);this.SU.get(n).push(p);};k=c;k=r.__decorate([g.O(),r.__param(0,g.l(d.Ab)),r.__param(1,g.l(l.ud)),r.__param(2,g.l(a.f9)),r.__param(3,g.l(h.eaa))],k);b.nAa=k;},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.dLa=void 0;c=a(1231);g=a(116);r=a(1);l=a(88);m=a(13);b.dLa=new r.Qc(function(d){d(g.eH).to(c.pta).Z();});b.profile=new r.Qc(function(d){d(l.ZO).jC(function(f){return (f=f.eb.get(m.Uc)()) && f.xu?"browsertest":"browser";});});},function(r,b,a){var g,l,m,d,f,h;function c(k,n,p,q){k=d.Ye.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=n;k.Q7=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.pta=void 0;r=a(0);g=a(1);l=a(36);m=a(42);d=a(43);f=a(35);a=a(220);ja(c,d.Ye);c.prototype.ZAb=function(k){return "" + this.hQa + (this.Q7.Z6(k)?"/msl_v1":"");};c.prototype.iBb=function(k){return "" + this.host + (this.Q7.Z6(k)?"/msl":"") + "/playapi";};Ua.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},hQa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.eK){case l.Qv.keb:k="www.stage";break;case l.Qv.WFa:k="www-qa.test";break;case l.Qv.Xya:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},aMa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});h=c;r.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"hQa",null);r.__decorate([m.config(m.string,"bindService")],h.prototype,"aMa",null);h=r.__decorate([g.O(),r.__param(0,g.l(f.$l)),r.__param(1,g.l(l.Wl)),r.__param(2,g.l(a.JY)),r.__param(3,g.l(f.cO)),r.__param(3,g.optional())],h);b.pta=h;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.rYb=b.reb=b.peb=b.oeb=b.qeb=void 0;c=a(27);g=a(10);b.qeb=function(l,m,d){for(d=(d - l.length) / m.length;0 < d--;){l+=m;}return l;};b.oeb=function(l,m,d){d=c.ue(d)?d:"...";return l.length <= m?l:l.substr(0,l.length - (l.length + d.length - m)) + d;};b.peb=function(l,m){var f;for(var d=1;d < arguments.length;++d){;}f=g.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof f[k]?f[k]:h;});};b.reb=function(l){for(var m=l.length,d=new Uint16Array(m),f=0;f < m;f++){d[f]=l.charCodeAt(f);}return d.buffer;};b.rYb=function(l){var m;m=new Uint8Array(l.length);Array.prototype.forEach.call(l,function(d,f){m[f]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(6);b=a(106);a=a(272);r.fa.get(b.DH).m6(a.p$.S8a,function(c){var g,l;g=c.level;if(!lb._cad_global.config || g <= lb._cad_global.config.EHb){c=c.G7();l=lb.console;1 >= g?l.error(c):2 >= g?l.warn(c):l.log(c);}});},function(r,b,a){var h,k,n,p,q;function c(t){var u,v;k.QJ(t);if(n.ue(t) && b.Kya.test(t)){u=t.split(".");if(4 === u.length){for(var w=0;w < u.length;w++){v=n.ke(u[w]);if(0 > v || !q.Rx(v,0,255) || 1 !== u[w].length && 0 === u[w].indexOf("0"))return;}return t;}}}function g(t){var u;u=0;if(c(t) === t)return (t=t.split("."),u+=n.ke(t[0]) << 24,u+=n.ke(t[1]) << 16,u+=n.ke(t[2]) << 8,u + n.ke(t[3]));}function l(t){var u;k.QJ(t);if(n.ue(t) && t.match(b.Lya)){u=t.split(":");-1 !== u[u.length - 1].indexOf(".") && (t=m(u[u.length - 1]),u.pop(),u.push(t[0]),u.push(t[1]),t=u.join(":"));t=t.split("::");if(!(2 < t.length || 1 === t.length && 8 !== u.length) && (u=1 < t.length?d(t):u,t=u.length,8 === t)){for(;t--;){if(!q.Rx(parseInt(u[t],16),0,h.Xza))return;}return u.join(":");}}}function m(t){var u;t=g(t) >>> 0;u=[];u.push((t >>> 16 & 65535).toString(16));u.push((t & 65535).toString(16));return u;}function d(t){var u,w,v;u=t[0].split(":");t=t[1].split(":");1 === u.length && "" === u[0] && (u=[]);1 === t.length && "" === t[0] && (t=[]);w=8 - (u.length + t.length);if(1 > w)return [];for(v=0;v < w;v++){u.push("0");}for(v=0;v < t.length;v++){u.push(t[v]);}return u;}function f(t){return -1 << 32 - t;}Object.defineProperty(b,"__esModule",{value:!0});b.$ab=b.ebb=b.bbb=b.abb=b.dbb=b.Zab=b.cbb=b.HC=b.Lya=b.Kya=void 0;h=a(12);k=a(19);n=a(27);p=a(10);q=a(14);b.Kya=/^[0-9.]*$/;b.Lya=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.HC="0000000000000000";b.cbb=c;b.Zab=g;b.dbb=l;b.abb=m;b.bbb=d;b.ebb=function(t,u,w){var v,x,y,z;v=c(t);x=l(t);y=c(u);z=l(u);if(!v && !x || !y && !z || v && !y || x && !z)return !1;if(t === v)return (w=f(w),(g(t) & w) !== (g(u) & w)?!1:!0);if(t === x){t=t.split(":");u=u.split(":");for(v=p.Wv(w / b.HC.length);v--;){if(t[v] !== u[v])return !1;}w%=b.HC.length;if(0 !== w)for((t=parseInt(t[v],16).toString(2),u=parseInt(u[v],16).toString(2),t=b.HC.substring(0,b.HC.length - t.length) + t,u=b.HC.substring(0,b.HC.length - u.length) + u,v=0);v < w;v++){if(t[v] !== u[v])return !1;}return !0;}return !1;};b.$ab=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(11);a(12);r=a(6);a(106);a(272);a(2);a(105);a(4);a=a(31);r.fa.get(a.Pg);!1;},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(45);g=a(12);l=a(11);m=a(2);d=a(194);f=a(32);h=a(10);k=a(6);r=a(31);n=k.fa.get(r.Pg);n.register(m.J.Gya,function(p){h.Xo && h.Xo.generateKey && h.Xo.importKey && h.Xo.unwrapKey?!k.fa.get(f.yz).m9 && l.config.vJ != d.Iv.ndb && l.config.vJ != d.Iv.ybb || h.XX?(n.zd("wcs"),c.LF(h.Xo.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.zd("wcdone");p(g.ze);},function(q){var t;q="" + q;if(0 <= q.indexOf("missing crypto.subtle"))t=m.K.eba;else 0 <= q.indexOf("timeout waiting for iframe to load") && (t=m.K.Meb);p({ka:t,gb:q});})):p({ka:m.K.Leb}):p({ka:m.K.eba});});},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);c=a(6);g=a(480);a=a(31);c.fa.get(a.Pg).register(r.J.vya,function(l){c.fa.get(g.zwa)().then(function(){l({W:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);l({W:!0});});});},function(r,b,a){var m,d,f,h;function c(k,n,p,q){var t,u,w;m.Za(h.Ff(k) && !h.isArray(k));q=q || "";t="";u=k.hasOwnProperty(f.Hj) && k[f.Hj];u && d.Wd(u,function(v,x){t && (t+=" ");t+=v + '="' + l(x) + '"';});p=(n?n + ":":"") + p;u=q + "<" + p + (t?" " + t:"");w=k.hasOwnProperty(f.ur) && k[f.ur].trim && "" !== k[f.ur].trim() && k[f.ur];if(w)return u + ">" + l(w) + "</" + p + ">";k=g(k,n,q + "  ");return u + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function g(k,n,p){var q;m.Za(h.Ff(k) && !h.isArray(k));p=p || "";q="";d.Wd(k,function(t,u){var x;if("$" != t[0])for(var w=d.Ou(u),v=0;v < w.length;v++){if((u=w[v],q && (q+="\n"),h.Ff(u)))q+=c(u,n,t,p);else {x=(n?n + ":":"") + t;q+=p + "<" + x + ">" + l(u) + "</" + x + ">";}}});return q;}function l(k){if(h.ue(k))return d.TS(k);if(h.pa(k))return (m.BR(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";m.Za(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.qWb=b.cGb=b.bGb=void 0;m=a(19);d=a(22);f=a(149);h=a(14);b.bGb=c;b.cGb=g;b.qWb=l;},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x,y,z,B;Object.defineProperty(b,"__esModule",{value:!0});c=a(278);g=a(153);l=a(11);m=a(12);d=a(2);f=a(19);h=a(6);k=a(67);n=a(62);p=a(78);q=a(22);t=a(10);u=a(14);w=a(45);v=a(105);x=a(4);r=a(31);y=a(449);z={};B=h.fa.get(r.Pg);B.register(d.J.yya,function(A){var C,G,H,J,I,M,N,K,O,R,L,Q,P,ha;function E(va){va && va.userList && l.config.HTb && (va.userList=[]);J({esn:g.Wh.Xh,esnPrefix:g.Wh.zn,authenticationType:l.config.vJ,authenticationKeyNames:l.config.NLa,systemKeyWrapFormat:l.config.CVb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:P,storeState:va,notifyMilestone:B.zd.bind(B),log:N,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.K.Mbb,MSL_READ_TIMEOUT:d.K.Lbb}},{result:function(la){D(la);},timeout:function(){A({ka:d.K.hAa});},error:function(la){A(F(d.K.hAa,void 0,la));}});}function D(va){var S,da,ya;function la(){Q && h.fa.get(p.fz).create().then(function(U){return U.save(R,da,!1);}).catch(function(U){N.error("Error persisting msl store",d.Ar(U));});}S=h.fa.get(v.ZH)(x.Xb(100));ya=I.extend({init:function(U){this.XIa=U;},getResponse:function(U,ma,ta){var Ja,wa;ma=this.XIa;Ja=ma.tYa.qf || Ja;U=u.rla(U.body)?h.eW(U.body):U.body;f.QJ(U,"Msl should not be sending empty request");U={url:ma.url,Doa:U,withCredentials:!0,GE:"nq-" + ma.method,headers:ma.headers};ma=this.XIa.timeout;U.y0=ma;U.yna=ma;wa=Ja.download(U,function(ra){try{if(ra.W)ta.result({body:ra.content});else if(400 === ra.hj && ra.gb)ta.result({body:ra.gb});else throw q.Jb(new M("HTTP error, SubCode: " + ra.ka + (ra.hj?", HttpCode: " + ra.hj:"")),{cadmiumResponse:ra});}catch(Qa){ta.error(Qa);}});return {abort:function(){wa.abort();}};}});O && va.addEventHandler("shouldpersist",function(U){da=U.storeState;S.dd(la);});q.Jb(z,{O6b:function(){L=!0;},send:function(U){function ma(){var ta,Ja;ta=U.tYa;Ja={method:U.method,nonReplayable:U.kKb,encrypted:U.xl,userId:U.pYb,body:U.body,timeout:2 * U.timeout,url:new ya(U),allowTokenRefresh:Q,sendUserAuthIfRequired:ha,shouldSendUserAuthData:l.config.NTb};ta.email?(Ja.email=ta.email,Ja.password=ta.password || ""):ta.sWb?(Ja.token=ta.sWb,Ja.mechanism=ta.H7b,ta.qna && (Ja.netflixId=ta.qna,Ja.secureNetflixId=ta.aSb),ta.Uoa && (Ja.profileGuid=ta.Uoa)):ta.qna?(Ja.netflixId=ta.qna,Ja.secureNetflixId=ta.aSb):ta.IIb?(Ja.mdxControllerToken=ta.IIb,Ja.mdxPin=ta.F7b,Ja.mdxNonce=ta.E7b,Ja.mdxEncryptedPinB64=ta.D7b,Ja.mdxSignature=ta.G7b):L || ta.useNetflixUserAuthData?Ja.useNetflixUserAuthData=!0:ta.Uoa && (Ja.profileGuid=ta.Uoa);return Ja;}return new Promise(function(ta,Ja){var wa;wa=ma();va.send(wa).then(function(ra){L && (L=!1);ta({W:!0,body:ra.body});}).catch(function(ra){var Qa,Pa;if(ra.error){Qa=ra.error.cadmiumResponse && ra.error.cadmiumResponse.ka?ra.error.cadmiumResponse.ka:va.isErrorReauth(ra.error)?d.K.gAa:va.isErrorHeader(ra.error)?d.K.Fbb:d.K.Ebb;Pa=va.getErrorCode(ra.error);Ja(F(Qa,Pa,ra.error));}else (N.error("Unknown MSL error",ra),ra.$b=ra.subCode,Ja({ka:ra.$b?ra.$b:d.K.Nbb}));});});},WT:va});A(m.ze);h.fa.get(y.I$).RJb(z);}function F(va,la,S){var da,ya,U,ma;U={ka:va,hK:la};if(S){ma=function(ta){var Ja;ta=ta || "" + S;if(S.stack){Ja="" + S.stack;ta=0 <= Ja.indexOf(ta)?Ja:ta + Ja;}return ta;};if(ya=S.cadmiumResponse){if(da=ya.Oe && ya.Oe.toString())ya.Oe=da;ya.ka=va;ya.hK=la;ya.gb=ma(S.message);ya.error={$b:va,od:da,Xu:la,data:S.cause,message:S.message};return ya;}ma=ma(S.errorMessage);da=q.ke(S.internalCode) || q.ke(S.error && S.error.internalCode);ya=void 0 !== S.pwb?w.Kna(S.pwb):void 0;}ma && (U.gb=ma);da && (U.Oe=da);U.error={$b:va,od:da.toString(),Xu:la,data:ya,message:ma};return U;}f.Za(l.config);C=h.fa.get(k.gD);G=n.Up.Vi;if(t.$v && t.Xo && t.Xo.unwrapKey){try{H=lb.netflix.msl;J=H.createMslClient;I=H.IHttpLocation;M=H.MslIoException;}catch(va){A({ka:d.K.Gbb});return;}N=h.Dh("Msl");K=l.config.NJb;O=l.config.PJb;R=l.config.xu?"mslstoretest":"mslstore";H=c.xG.D2a;L=l.config.cEb;Q=!H || H.W;P=h.sq(l.config.xu?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ha=! !l.config.Cqa;h.fa.get(p.fz).create().then(function(va){K?va.remove(R).then(function(){E();}).catch(function(la){N.error("Unable to delete MSL store",d.Ar(la));E();}):O?va.load(R).then(function(la){C.mark(G.Ibb);E(la.value);}).catch(function(la){la.ka == d.K.Az?(C.mark(G.Kbb),E()):(N.error("Error loading msl store",d.Ar(la)),C.mark(G.Jbb),va.remove(R).then(function(){E();}).catch(function(S){A(S);}));}):E();}).catch(function(va){N.error("Error creating app storage while loading msl store",d.Ar(va));A(va);});}else A({ka:d.K.Hbb});});},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(181);g=a(12);l=a(11);m=a(59);d=a(50);r=a(2);f=a(6);h=a(67);k=a(10);n=a(55);p=a(14);q=a(56);t=a(99);a=a(31);v=f.fa.get(a.Pg);v.register(r.J.wya,function(x){var z;function y(){var B,A,E;B=v.startTime;A={browserua:k.Yp,browserhref:k.ZX.href,initstart:B,initdelay:v.endTime - B};(B=k.ye.documentMode) && (A.browserdm="" + B);"undefined" !== typeof lb.nrdp && lb.nrdp.device && (A.firmware_version=lb.nrdp.device.firmwareVersion);p.Sx(l.config.EQa) && (A.fesn=l.config.EQa);Object.assign(A,c.xja());E=k.Kt && k.Kt.timing;E && l.config.BHb.map(function(D){var F;F=E[D];F && (A["pt_" + D]=F - d.kNa());});B=z.OSa();Object.entries(B).forEach(function(D){var F;F=Z(D);D=F.next().value;F=F.next().value;return A["m_" + D]=F;});B=w.vu("startup","info",A,m.QH.dia);u.Od(B);}w=f.fa.get(t.rz);u=f.fa.get(q.Wp);z=f.fa.get(h.gD);v.yT(function(){u.Wa();n.Ic(y);});x(g.ze);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(46);l=a(490);m=a(1243);d=a(283);f=a(11);h=a(12);k=a(186);n=a(533);p=a(50);r=a(2);q=a(6);t=a(267);u=a(10);w=a(279);b=a(31);v=a(59);x=a(112);q.fa.get(b.Pg).register(r.J.sya,function(y){var z,B,A,E,D,F,C;z=q.fa.get(t.bY).$fa();B=q.fa.get(k.z9).oH;A=q.fa.get(l.RAa).Wm;E={RF:q.mS("ASE"),Ylb:q.mS("JS-ASE",void 0,"Platform"),Dh:q.mS,storage:w.storage,YAb:u.mH,getTime:p.ti,pL:{},Wm:A,Ot:m.Ot,oH:B,MediaSource:n.UAa,SourceBuffer:d.A$,Cn:function(){return [f.config.GQ,f.config.IQ];},Xr:function(G){v.qo.forEach(function(H){H.$2a(G);});}};B=new Promise(function(G){w.storage.load("nh",function(H){E.pL.nh=H.W?H.data:void 0;G();});});A=new Promise(function(G){w.storage.load("lh",function(H){E.pL.lh=H.W?H.data:void 0;G();});});D=new Promise(function(G){w.storage.load("gh",function(H){E.pL.gh=H.W?H.data:void 0;G();});});F=new Promise(function(G){w.storage.load("sth",function(H){E.pL.sth=H.W?H.data:void 0;G();});});C=new Promise(function(G){w.storage.load("vb",function(H){E.pL.vb=H.W?H.data:void 0;G();});});Promise.all([B,A,C,F,D]).then(function(){return c.__awaiter(this,void 0,void 0,function H(){var J,I,M;return Ga(H,function(N){var K;if(1 == N.iy){J=a(1245)(E);x.Fk.Wb=a(534);x.Fk.Wb.declare(g.Wj);x.Fk.Wb.set(a(148)(f.config),!0,q.mS("ASE"));I=g.aXa(J);x.Fk.L_=new I(x.Fk.Wb,z);x.Fk.L_.Wa(f.config.GQ,f.config.IQ,{RF:E.RF},f.config.HM);K=g.YE(J);N.iy=2;return {value:K};}M=N.Xsa;M.open(x.Fk.Wb,z);M.Gqa({audio:f.config.GQ,video:f.config.IQ},{X:f.config.HM,$:void 0});x.Fk.Ej=M;y(h.ze);N.iy=0;});});}).catch(function(G){E.RF.error("Exception loading location history from local storage",G);});});},function(r,b,a){var g,l,m,d,f,h,k;function c(){var n;n=new l.Ij();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.bc.bind(this);this.VZ=h++;this.Qf=m.Dh("ProbeRequest");this.rJa=g.fEa;d.Za(void 0 !== this.rJa);this.Tg=b.Ot.pc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Ot=void 0;g=a(1244);l=a(71);m=a(6);d=a(19);f=a(27);h=0;(function(){function n(){return JSON.stringify({url:this.Dk,id:this.VZ,affected:this.QY,readystate:this.Tg});}f.Jb(c.prototype,{Yu:function(p){p.affected=this.QY;p.probed={requestId:this.VZ,url:this.Dk,cc:this.kQ,groupId:this.yZ};this.emit(b.Ot.Rd.OO,p);},Ena:function(p){this.Kjb=p.httpcode;p.affected=this.QY;p.probed={requestId:this.VZ,url:this.Dk,cc:this.kQ,groupId:this.yZ};this.emit(b.Ot.Rd.XC,p);},open:function(p,q,t,u){if(!p)return (!1,!1);this.Dk=p;this.QY=q;this.kQ=t;this.Tg=b.Ot.pc.OPENED;this.ohb=u;this.rJa.jS(this);return !0;},kc:function(){!1;return !0;},Fh:function(){return this.VZ;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Tg;},set:function(){}},status:{get:function(){return this.Kjb;}},url:{get:function(){return this.Dk;}},B4b:{get:function(){return this.QY;}},uHb:{get:function(){return this.ohb;}}});})();(function(n){n.Rd={OO:"pr0",XC:"pr1"};n.pc={UNSENT:0,OPENED:1,gw:2,DONE:3,tH:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.Ot=Object.assign(c,k);},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;c=a(6);g=a(70);b.fEa=(function(){c.Dh("ProbeDownloader");return {jS:function(l){l={url:l.url,GOb:l};!1;g.qf.JOb(l);}};})();},function(r,b,a){var f,h,k,n,p,q,t,u,w,v,x,y,z,B,A,E;function c(D,F,C){this.tn=D;this.groups=F;this.prefix=C;D=v(D,F,C);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function g(){this.$Na=function(){throw Error("Not implemented");};this.Dub={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function l(){}function m(){return w?w:"0.0.0.0";}function d(D){D({EZa:0,MV:0,CUa:0,DQa:0});}f=a(17);g.prototype.set=function(D,F){n[D]=F;p.save(D,F);};g.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];u.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(C){C.W?(n[D]=C.data,F && F(C.data)):n[D]=void 0;});};g.prototype.remove=function(D){p.remove(D);};g.prototype.clear=function(){u.info("WARNING: Calling unimplemented function Storage.clear()");};l.prototype.now=function(){return q();};l.prototype.ba=function(){return t();};l.prototype.mna=function(D){return D + q() - t();};l.prototype.Fna=function(D){return D + t() - q();};c.prototype.lOa=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ba(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.tn,this.groups,F);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){h=D.RF;v=D.Dh;p=D.storage;n=D.pL;q=D.YAb;t=D.getTime;u=D.Ylb;y=D.Wm;E=D.Ot;z=D.oH;B=D.SourceBuffer;A=D.MediaSource;w=D.Q6b;k=D.Xr;return {name:"cadmium",Xr:k,RF:h,storage:new g(),Storage:g,time:new l(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,Wm:y,oH:z,Qbb:B,MediaSource:A,Ot:E,Rn:{name:m},memory:{hAb:d},Cn:D.Cn};};},function(r,b,a){r.exports={EventEmitter:a(1247),sh:a(1248)};},function(r){function b(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[c]=[g],!0);l=this.Wc[c];return void 0 === l?(this.Wc[c]=[g],!0):0 > l.indexOf(g)?(l.push(g),!0):!1;}function a(c,g){c=this.Wc?this.Wc[c]:void 0;if(!c)return !1;c.forEach(function(l){l(g);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;l=this.Wc[c];if(void 0 === l)return !1;g=l.indexOf(g);if(0 > g)return !1;if(1 === l.length)return (delete this.Wc[c],!0);l.splice(g,1);return !0;},Ma:a,emit:a,removeAllListeners:function(c){this.Wc && (void 0 === c?delete this.Wc:delete this.Wc[c]);return this;}};},function(r){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,l);else if("function" === typeof c.addListener)m=c.addListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var g,l,m,d,f,h,k,n,p;function c(q,t){var v,x,y,z,B,A,E,D,F,C,G;function u(){var H;H=q.Ob.value === n.ob.oc && q.state.value === n.yb.Fd && q.H === t.H;G?H || (clearInterval(G),A=G=void 0):H && (G=lb.setInterval(w,1E3));}function w(){var H,J,I,M,N,K;H=q.If.value;H=(H=H && H.stream) && H.height;if(null !== H && 0 < H){J=d.ti();I=q.Xf.WE();if(I){if(A && 2E3 > J - A.time && H === A.height){M=I - A.cvb;N=x[H];N || (x[H]=N=[],H > D && (B.push(H),m.DW(B)));0 < M && !(C && C < H) && (C=H);N.push(M);N.length > E && N.shift();(N=z[H]) || (z[H]=N={});K=N[M];N[M]=K?K + 1:1;}A={time:J,cvb:I,height:H};q.H5 && q.H5.ISb(x);}}}v=f.Eh(q,"DFF");x={};y=g.config.gvb;z={};B=[];E=g.config.evb;D=g.config.fvb;F=l.Wza;if(g.config.dvb)return (t.iha={Qyb:function(){var H;H={};z && B.forEach(function(J){var I,M,N;I=z[J];if(I){M=0;N=0;p.Wd(I,function(K,O){N+=h.ke(K);M+=O;});H[J]=N / M;}});return H;},CS:function(H){var J;J={};H.forEach(function(I){J[I]={};});z && (m.DW(H),B.forEach(function(I){var M,N,K,O;M=z[I];if(M){N=0;K=0;p.Wd(M,function(ha,va){N+=va;});O=Object.keys(M).map(Number);m.DW(O);for(var R=O.length - 1,L=O[R],Q=H.length - 1;0 <= Q;Q--){for(var P=H[Q];L >= P && 0 <= R;){(L=M[L]) && (K+=L);L=O[--R];}J[P][I]=k.ii(K / N * 100);}}}));return J;}},q.state.addListener(u),q.Ob.addListener(u),q.addEventListener(n.T.Oq,u),{lK:"df",jt:function(H){var M,N,K,L,Q;if(H.lower && H.height > D){H=H.height;a:{if(C){for(var J=B.length,I=0;I < J;I++){M=B[I];if(M >= C && M < F){N=x[M];if(K=N)b:{K=y.length;for(var O=N.length,R=0;R < K;R++){L=y[R];Q=L[0];L=L[1];for(var P=0;P < O;P++){if(N[P] >= L && 0 >= --Q){K=!0;break b;}}}K=!1;}if(K && F != M){v.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:M});t.Oo.set({reason:"droppedFrames",height:M});J=F=M;break a;}}}C=void 0;}J=F;}H=H >= J;}else H=!1;return H;}});}Object.defineProperty(b,"__esModule",{value:!0});b.Sbb=void 0;r=a(100);g=a(11);l=a(12);m=a(45);d=a(50);f=a(6);h=a(27);k=a(10);n=a(15);p=a(22);r.RC(c);b.Sbb=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(100).RC(function(){return {lK:"op",jt:function(){}};});},function(r,b,a){var g,l;function c(m,d){var f,h;f=l.Eh(m,"MSS");if(g.config.hJb)return {lK:"mss",jt:function(k){var n,p;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=lb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");h=!0;}h || (f.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.Oo.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Tbb=void 0;r=a(100);g=a(11);l=a(6);r.RC(c);b.Tbb=c;},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(1253);g=a(6);l=a(32);m=a(79);r.RC(function(d){var f;if(g.fa.get(l.uk).RU){f=g.fa.get(m.It);return new c.gza(d,g.rg,f);}});},function(r,b,a){var g;function c(l,m,d){var f;f=this;this.j=l;this.qa=m;this.Uma=d;this.ola=!1;this.log=this.qa.sb("KeySystemRobustness",this.j);this.ola=!1;this.Uma.Bx().then(function(h){var k,n;n=null === (k=h.getConfiguration().videoCapabilities) || void 0 === k?void 0:k.map(function(p){return p.robustness;});f.ola=!(null === n || void 0 === n || !n.some(function(p){return p === g.JX;}));l.a3a("keySystem",h.keySystem);l.a3a("robustness",null === n || void 0 === n?void 0:n.toString());f.log.trace("KeySystemRobustness: " + n);}).catch(function(h){f.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.gza=void 0;g=a(63);c.prototype.jt=function(l){return l.lower && l.Qx && !this.ola && 720 < l.height;};Ua.Object.defineProperties(c.prototype,{lK:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.gza=c;},function(r,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(11);g=a(6);l=a(1255);r.RC(function(m,d){if(c.config.gGb)return new l.fza(m,d,g.rg,c.config,g.sa,g.Qa);});},function(r,b,a){var g,l;function c(m,d,f,h,k,n){var p;p=this;this.j=m;this.Yn=d;this.qa=f;this.config=h;this.sa=k;this.Qa=n;this.Elb=function(q){!0 === q.oldValue && !1 === q.newValue && (p.log.error("RestartStreaming: UHD key is no longer usable"),p.j.wRb());};this.ZWb=function(q){var t,u,w;p.log.trace("UhdKeyStatus: " + q.oldValue + " -> " + q.newValue);u=null === q || void 0 === q?void 0:q.newValue;w=null === q || void 0 === q?void 0:q.oldValue;"usable" !== u && (p.DSb(u,(null === (t=null === q || void 0 === q?void 0:q.xq) || void 0 === t?void 0:t.height) || 0),"usable" === w && (q=p.sa.Ne.Sa(p.iGb),p.log.error("UHD KeyStatus unexpectedly changed: " + q.da(l.ia))));};this.WVa=!1;this.log=this.qa.sb("KeyStatusStreamFilter",this.j);this.VKa=new g.xc(!1,this.Elb);this.YWb=new g.xc(void 0,this.ZWb);}Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;g=a(103);l=a(4);c.prototype.jt=function(m){this.eVb();this.VKa.set(this.WVa && this.nDb);return m.lower && 1080 < m.height && !this.VKa.value?!0:!1;};c.prototype.Fpb=function(){this.nDb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.uUa);};c.prototype.osb=function(){var m,d,f;d={};f=null === (m=this.Yn.xg.value) || void 0 === m?void 0:m.Vs;null === f || void 0 === f?void 0:f.forEach(function(h){d[h.zl]=h.w6.height;});this.log.trace("KeyStatusMap",d);return d;};c.prototype.FYa=function(m){var d;d=this;Object.entries(m).forEach(function(f){var h;h=Z(f);f=h.next().value;h=h.next().value;f=d.hGb[f];1080 < f && (d.WVa="usable" === h,d.YWb.set(h,{height:f}));});};c.prototype.eVb=function(){var m,d,f;m=this;d=this.Yn.Ee;f=d && d.keyStatuses;!this.LFb && f && (this.LFb=!0,this.hGb=this.osb(),this.FYa(d.keyStatuses.value),d.keyStatuses.addListener(function(h){return m.FYa(h.newValue);}),this.Qa.yj(l.Xb(this.config.uUa),function(){return m.Fpb();}),this.iGb=this.sa.Ne);};c.prototype.DSb=function(m,d){this.log.error("Restricting resolution due to keyStatus",{keyHeight:d,keyStatus:m});this.Yn.Oo.set({reason:"keyStatus",height:d});};Ua.Object.defineProperties(c.prototype,{lK:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.fza=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(11);g=a(6);r.RC(function(l,m){var d,f,h,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.$Wb);f=d[m.sd];if(c.config.aXb && f){h={};k=g.Eh(l,"MediaStreamFilter");return {lK:"uiLabel",jt:function(n){if(n.lower && n.height > f)return (h[n.height] || (h[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),m.Oo.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(181);g=a(532);r=a(59);l=a(11);m=a(60);d=a(12);f=a(45);h=a(50);k=a(22);n=a(10);p=a(6);q=a(116);t=a(15);u=a(31);w=a(32);r.saa(r.naa,function(v){var D,F,C,G,H,J;function x(I){var M,N;if(I.newValue >= t.yb.LOADING){v.state.removeListener(x);I=n.YX;try{M="" + h.o0();localStorage.setItem("player$test",M);N=localStorage.getItem("player$test");localStorage.removeItem("player$test");M=M == N?"success":"mism";}catch(K){M="ex: " + K;}E("type=openplay&sev=info&locstor=" + I.call(n,M));C=h.ti();B();}}function y(){J("type=startplay&sev=info&outcome=success");}function z(){var I,M;I=v.Xj;if(I){M="type=startplay&sev=error&outcome=error";I=c.lja(p.fa.get(w.uk).fp,I);k.Wd(I,function(N,K){M+="&" + n.YX(N) + "=" + n.YX(K || "");});J(M);}else J("type=startplay&sev=info&outcome=abort");}function B(){var I,M;I=G.shift();if(0 < I){M=n.Vm(I - (h.ti() - C),0);F=setTimeout(function(){E("type=startstall&sev=info&kt=" + I);B();},M);}}function A(){J("type=startplay&sev=info&outcome=unload");}function E(I){I=H + "&soffms=" + v.tja() + "&" + I;v.Sc && Object.keys(v.Sc).length && (I+="&" + f.ZL(k.Jb({},v.Sc,{prefix:"sm_"})));g.e5a("playback",I,D);}D=p.fa.get(q.eH).host + l.config.Yra;if(l.config.f5a && D && l.config.g5a.playback){G=l.config.zWb.slice();H="xid=" + v.ca + "&pbi=" + v.index + "&uiLabel=" + (v.sd || "");v.state.addListener(x);v.addEventListener(t.T.Ps,y);v.addEventListener(t.T.Tf,z);m.df.addListener(m.ym,A,d.YC);J=function(I){var M;J=d.Ti;M=p.fa.get(u.Pg);I+="&initstart=" + M.startTime + "&initend=" + M.endTime;E(I);clearTimeout(F);v.removeEventListener(t.T.Ps,y);v.removeEventListener(t.T.Tf,z);m.df.removeListener(m.ym,A);};}});},function(r,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(11);g=a(12);r=a(2);l=a(6);m=a(159);a=a(31);l.fa.get(a.Pg).register(r.J.uya,function(d){c.config.lyb && l.fa.get(m.zxa).start();d(g.ze);});},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.lva=void 0;c=a(70);g=a(45);l=a(19);m=a(22);d=a(27);b.lva=function(f,h){l.Za(f);l.Za(h);l.QJ(h.fwb,"endpointURL property is required");l.Za(h.Gd);this.log=f;this.H_a=h;};b.lva.prototype.PA=function(){var f,h,k;f=this;f.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(f.H_a.Gd)};k=f.H_a.fwb + "?" + g.ZL(h);return new Promise(function(n,p){function q(v){var x,y;try{if(v.W){x=new Uint8Array(v.content);y=String.fromCharCode.apply(null,x);return {W:!0,config:JSON.parse(y).core.initParams};}return {W:!1,message:"Unable to download the config. " + v.gb,dF:v.hj};}catch(z){return (v=m.md(z),f.log.error("Unable to download the config. Received an exception parsing response",{message:z.message,exception:v,url:k}),{W:!1,gb:v,message:"Unable to download the config. " + z.message});}}function t(v,x,y){return x > y?(f.log.error("Config download failed, retry limit exceeded, giving up",d.Jb({Attempts:x - 1,MaxRetries:y},v)),!1):!0;}function u(v){return new Promise(function(x){setTimeout(function(){x();},v);});}function w(v,x,y){c.qf.download(v,function(z){var B;z=q(z);if(z.W)n(z);else {f.log.warn("Config download failed, retrying",d.Jb({Attempt:x,WaitTime:B,MaxRetries:y},z));if(t(z,x + 1,y)){B=m.bpa(1E3,1E3 * Math.pow(2,Math.min(x - 1,y)));return u(B).then(function(){return w(v,x + 1,y);});}p(z);}});}return c.qf?w({url:k,responseType:3,withCredentials:!0,GE:"config-download"},1,3):Promise.reject({W:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(153);g=a(155);l=a(12);m=a(11);r=a(2);d=a(6);f=a(19);h=a(22);k=a(27);n=a(14);p=a(56);q=a(99);a=a(31);d.fa.get(a.Pg).register(r.J.Dya,function(t){var u,w;u=d.Dh("NccpApi");w=h.sLa(["info","warn","trace","error"]);g.lP.KQ.nccp={getEsn:function(){return c.Wh.Xh;},getPreferredLanguages:function(){return m.config.Aq.Koa;},setPreferredLanguages:function(v){f.Za(n.isArray(v) && k.Sx(v[0]));m.config.Aq.Koa=v;},queueLogblob:function(v,x,y){var z;if(v && x)if((x=x.toLowerCase(),w[x])){z=d.fa.get(p.Wp);v=d.fa.get(q.rz).vu(v,x,y);z.Od(v);}else u.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.fa.get(p.Wp).flush(!0);}};t(l.ze);});},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(31);b=a(2);c=a(7);g=a(32);l=a(188);m=a(12);d=a(11);f=a(6);h=a(112);k=a(59);n=a(155);p=a(282);q=a(111);f.fa.get(r.Pg).register(b.J.Fya,function(t){var v,x,y;function u(z,B){return void 0 === z || void 0 === B?Promise.reject("Invalid email and/or password"):f.fa.get(p.aaa).bf(this.log,{},{email:z,password:B}).then(function(){});}function w(z){var B;B=f.fa.get(q.nD);return B.FQa.fetch(z,B);}if(d.config.Cwb){v=f.fa.get(l.mY);x=f.fa.get(g.uk);y=f.fa.get(c.Ab).sb("Test");n.lP.KQ.test={pboRequests:v.wj.map(function(z){return JSON.parse(JSON.stringify(z));}),playbacks:k.qo,getPlayback:function(z){return k.qo.find(function(B){return B.ca === z;});},playgraphManager:{isNextSegmentReady:function(z,B){var A,E;return void 0 !== (null === (E=null === (A=k.qo.find(function(D){return D.ca === z;})) || void 0 === A?void 0:A.Ga) || void 0 === E?void 0:E.UE(B));}},aseManager:{cacheDestroy:function(){return h.Fk.L_.ax();}},device:{esn:lb._cad_global.device.Xh,esnPrefix:x.zn,errorPrefix:x.fp},log:{info:function(z,B){for(var A=[],E=1;E < arguments.length;++E){A[E - 1]=arguments[E];}return y.info(z,A);},error:function(z,B){for(var A=[],E=1;E < arguments.length;++E){A[E - 1]=arguments[E];}return y.error(z,A);},warn:function(z,B){for(var A=[],E=1;E < arguments.length;++E){A[E - 1]=arguments[E];}return y.warn(z,A);},trace:function(z,B){for(var A=[],E=1;E < arguments.length;++E){A[E - 1]=arguments[E];}return y.trace(z,A);},log:function(z,B){for(var A=[],E=1;E < arguments.length;++E){A[E - 1]=arguments[E];}return y.log(z,A);},debug:function(z,B){for(var A=[],E=1;E < arguments.length;++E){A[E - 1]=arguments[E];}return y.debug(z,A);}},login:u,getManifest:w};}t(m.ze);});},function(r,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(155);c=a(12);g=a(11);l=a(59);b=a(7);m=a(6);d=a(56);f=a(106);h=a(19);k=a(27);n=a(10);lb.netflix=lb.netflix || ({});h.Za(!lb.netflix.player);lb.netflix.player={VideoSession:r.lP,diag:{togglePanel:function(p,q){var t;t=[];if(!g.config || g.config.UU){switch(p){case "info":t=l.qo.map(function(u){return u.H5;});break;case "streams":t=l.qo.map(function(u){return u.I5;});break;case "log":t=[];}t.forEach(function(u){k.vc(q)?q?u.show():u.Hq():u.toggle();});}},addLogMessageSink:function(p){m.fa.get(d.Wp).addListener({d9b:function(){},YIb:function(q){p({data:q.data});}});}},log:m.Dh("Ext"),LogLevel:b.Qi,addLogSink:function(p,q){m.fa.get(f.DH).m6(p,q);},getVersion:function(){return "6.0030.553.911";},isWidevineSupported:function(p){var t;function q(u){return function(w,v){return v.contentType == u;};}if("function" !== typeof p)throw Error("input param is not a function");t=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Vv,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.FH,robustness:"SW_SECURE_CRYPTO"}]}];try{n.Ve.requestMediaKeySystemAccess("com.widevine.alpha",t).then(function(u){var w;w=u.getConfiguration();u=w.videoCapabilities || [];w=(w.audioCapabilities || []).reduce(q(c.FH),!1);u=u.reduce(q(c.Vv),!1);p(w && u);}).catch(function(){p(!1);});}catch(u){p(!1);}}};},function(r,b,a){var c,g,l,m,d,f,h,k,n,p,q,t,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(155);g=a(153);l=a(12);m=a(45);r=a(2);d=a(6);f=a(157);h=a(19);k=a(27);n=a(10);b=a(31);p=a(50);q=a(88);t=a(140);u=a(156);d.fa.get(b.Pg).register(r.J.Eya,function(w){var A;function v(){return g.Wh.Xh;}function x(E){var D;D=d.fa.get(q.ZO);d.fa.get(t.KO)().then(function(F){var C,G;C=F.WT.getStateForMdx(D);G=C.cryptoContext;F=C.masterToken;C=C.userIdToken;F && C?(h.Za(G),F=["1",d.kA(JSON.stringify(F.toJSON())),d.kA(JSON.stringify(C.toJSON()))].join(),E({success:!0,cryptoContext:{cTicket:F,encrypt:function(H,J){H=k.ue(H)?d.BN(H):H;G.encrypt(H,{result:function(I){I=d.kA(I);J({success:!0,mslEncryptionEnvelopeBase64:I});},timeout:function(){J({success:!1});},error:function(I){h.Za(!1,"Encrypt error: " + I);J({success:!1});}});},decrypt:function(H,J){H=d.sq(H);G.decrypt(H,{result:function(I){J({success:!0,text:d.eW(I)});},timeout:function(){J({success:!1});},error:function(I){h.Za(!1,"Decrypt error: " + I);J({success:!1});}});},hmac:function(H,J){H=k.ue(H)?d.BN(H):H;G.sign(H,{result:function(I){J({success:!0,hmacBase64:d.kA(I)});},timeout:function(){J({success:!1});},error:function(I){h.Za(!1,"Hmac error: " + I);J({success:!1});}});}}})):(h.Za(!1,"Must login first"),E({success:!1}));});}function y(E,D){var F;F=d.sq(E);E=F.subarray(32,48);F=F.subarray(0,32);if(16 != E.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([m.LF(n.Xo.importKey("raw",E,{name:"AES-CBC"},!1,["encrypt","decrypt"])),m.LF(n.Xo.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(C){D({success:!0,cryptoContext:z(C[0],C[1])});},function(){D({success:!1});});}function z(E,D){function F(C){C=new f.gO(d.sq(C));C.Ay();return {iv:C.y0a(),bwb:C.y0a()};}return {encrypt:function(C,G){var H;C=k.ue(C)?d.BN(C):C;H=n.$v.getRandomValues(new Uint8Array(16));m.LF(n.Xo.encrypt({name:"AES-CBC",iv:H},E,C)).then(function(J){var I,M;J=new Uint8Array(J);I=[];M=new f.gO(I);M.t8(2);M.U6a(H);M.U6a(J);J=d.kA(I);G({success:!0,encryptedDataAsn1Base64:J});},function(J){h.Za(!1,"Encrypt error: " + J);G({success:!1});});},decrypt:function(C,G){C=F(C);m.LF(n.Xo.decrypt({name:"AES-CBC",iv:C.iv},E,C.bwb)).then(function(H){H=new Uint8Array(H);G({success:!0,text:d.eW(H)});},function(H){h.Za(!1,"Decrypt error: " + H);G({success:!1});});},hmac:function(C,G){C=k.ue(C)?d.BN(C):C;m.LF(n.Xo.sign({name:"HMAC",hash:{name:"SHA-256"}},D,C)).then(function(H){H=new Uint8Array(H);G({success:!0,hmacBase64:d.kA(H)});},function(H){h.Za(!1,"Hmac error: " + H);G({success:!1});});}};}function B(){return p.yfa();}A=d.fa.get(u.hz);if(A.yVa || A.Ju)c.lP.KQ.mdx={getEsn:v,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:B};w(l.ze);});},function(r,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(11);g=a(12);r=a(2);l=a(6);b=a(31);m=a(111);l.fa.get(b.Pg).register(r.J.zya,function(f){var h,k,n;if(c.config.JNb){h=l.Dh("PlayerPredictionModel");k=l.fa.get(m.nD);n=a(1265);h.log=h.trace.bind(h);d=new n({},h,{XU:function(){},QQb:function(){}},k,{oM:function(){}});lb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}f(g.ze);});},function(r,b,a){var m,d,f,h,k,n,p;function c(q,t,u,w,v,x){this.H=this.aa=q;this.priority=t;this.cd=u;x && x.sd && (this.sd=x.sd);void 0 !== w && (this.jM=w);this.Lk=v;this.xb=x;}function g(q,t,u,w,v){f(void 0 !== w,"video preparer is null");f(void 0 !== v,"ui preparer is null");this.u=t;this.Da=u;this.hkb=w;this.$jb=v;this.pJa=n.Foa;this.fJ=[];this.xda=!1;this.CP=0;new p().on(n,"changed",l,this);this.reset();}function l(){this.u.log("config changed");n.Foa && (this.pJa=n.Foa);n.VT !== this.SI && (this.reset(),this.Apa());}m=a(287);d=a(288);b=a(535);f=b.assert;h=b.PQa;k=a(1266);n=a(536).config;p=a(1267).sh;n.declare({Foa:["ppmConfig",{c_b:{iZa:0,hZa:2,fZa:0,gZa:5,e3a:0},A3b:{iZa:0,hZa:1,fZa:0,gZa:3,e3a:1E3},s_b:{iZa:0,hZa:1,fZa:0,gZa:3,e3a:1E3}}]});g.prototype.constructor=g;g.prototype.reset=function(){this.bca=!0;this.SI=n.VT;this.u.log("create model: " + n.VT,n.S1a,n.pNa);switch(n.VT){case "modelone":this.SI=new k(this.u);break;default:this.SI=new k(this.u);}};g.prototype.Apa=function(){var t,u;if(!1 === this.xda){this.xda=!0;for(var q=0;q < this.fJ.length;q++){this.u.log("PlayPredictionModel replay: ",JSON.stringify(this.fJ[q]));t=this.SNa(this.fJ[q]);u=this.yRa(t);this.SI.update(t,u);this.bca=!1;}this.fJ=[];}};g.prototype.update=function(q){var t,u,w;this.u.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Pa && q.Pa[0]){!1 === this.xda && this.fJ.length < n.wIb && this.fJ.push(q);t=this.SNa(q);u=this.yRa(t);this.u.log("actionType",u);t="mlmodel" == n.VT?this.SI.update(q,u):this.SI.update(t,u);t=this.uyb(t,n.XFb || 1);this.u.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(t));0 === this.CP && (this.CP=m(),this.Da && this.Da.XU && this.Da.XU({hub:this.CP}));if(this.Da && this.Da.QQb){this.Czb();w=[];t.forEach(function(v){w.push({C9b:v.aa});});JSON.stringify(q);JSON.stringify(t);}this.hkb.oM(t);this.$jb.oM(t);this.bca=!1;}};g.prototype.Czb=function(){m();};g.prototype.XU=function(){this.CP=m();this.Da && this.Da.XU && this.Da.XU({hub:this.CP});};g.prototype.SNa=function(q){var t,u,w,v,x;t={};w=q.Pa || [];v=(function(y){var z,B;z={};x=d.DO.name.indexOf(y.context);z.context=0 <= x?x:d.DO.aw;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];u=y.list || [];u.forEach((function(A){B={aa:A.aa,cd:A.cd,index:A.index,jM:A.jM,U5:A.U5,list:A.list,xb:A.xb};void 0 !== A.property && (x=d.AH.name.indexOf(A.property),B.property=0 <= x?x:d.AH.aw);z.list.push(B);}).bind(this));t.Pa.push(z);}).bind(this);if(void 0 !== q.direction){x=d.Ht.name.indexOf(q.direction);t.direction=0 <= x?x:d.Ht.aw;}void 0 !== q.fS && (t.d6b=q.fS.rowIndex,t.c6b=q.fS.zpb);t.fS=q.fS;t.Pa=[];w.forEach(v);return t;};g.prototype.yRa=function(q){var t,u,w;t=q.direction || d.Ht.aw;u=q.fS;w=q.Pa || [];!0 === this.bca?q=d.Gv.nxa:!0 === w.some(this.kDb)?(q=d.Gv.PO,this.p6(w,t,u)):q=w[0].context === d.DO.xY?d.Gv.xY:t === d.Ht.oEa || t === d.Ht.hza?d.Gv.JEa:d.Gv.aw;return q;};g.prototype.kDb=function(q){return (q.list || []).some(function(t){return t.property === d.AH.PO || t.property === d.AH.Eva;});};g.prototype.p6=function(q,t,u){var w,v;this.u.log("reportPlayFocusEvent: ",t,u);w={};v=h(q);this.Da && this.Da.p6 && (w.V5b=m(),w.direction=d.Ht.name[t],u && (w.rowIndex=u.rowIndex,w.Bfa=u.zpb),void 0 !== v.xj && (w.requestId=q[v.xj].requestId),this.Da.p6 && this.Da.p6(w));};g.prototype.uyb=function(q,t){for(var u=q.length,w=[],v,x,y,z,B=0;B < u;B++){x=q[B];v=Math.floor(B / t) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var A=0;A < Math.min(n.xpb,z) && !(y[A].Lk=x.Lk,this.DKa(y[A],v,w),w.length >= n.EXa);A++){;}}else this.DKa(x,v,w);if(w.length >= n.EXa)break;}return w;};g.prototype.DKa=function(q,t,u){var v,x;function w(y){y.sd && (y.xb || (y.xb={}),y.xb.sd=y.sd);return y.xb;}v=q.U5;if(void 0 !== v && v instanceof Array)v.forEach(function(y){void 0 !== y.aa && (x=w(y),u.push(new c(y.aa,t,y.cd,y.jM,q.Lk,x)));});else if(void 0 !== v && void 0 !== v.aa){v=q.U5;x=w(v);u.push(new c(v.aa,t,v.cd,v.jM,q.Lk,x));}void 0 !== q.aa && (x=w(q),u.push(new c(q.aa,t,q.cd,q.jM,q.Lk,x)));};g.prototype.PA=function(q){var t;t=this.pJa;return q?t[q]:t;};r.exports=g;},function(r,b,a){var l,m,d,f,h,k,n,p,q,t;function c(u,w){this.xj=u;this.tl=w;}function g(u){this.u=u;this.reset();}l=a(287);m=a(288);b=a(535);d=a(536).config;f=b.pzb;h=b.Wyb;k=b.jub;n=b.$Kb;p=b.ZKb;q=b.YKb;t=b.PQa;g.prototype.constructor=g;g.prototype.reset=function(){this.qJa=void 0;this.Mj=[];this.dJa=this.eJa=!1;};g.prototype.update=function(u,w){var v;this.Mj && (this.Mj=this.Mj.filter(this.JTb,this));if(!1 === this.eJa){v=f(u.Pa).slice(0,d.xOa);0 < v.length && (this.CF(v,m.Lv.tk),this.eJa=!0,this.Mj=this.VG(v.concat(this.Mj)));}!1 === this.dJa && (v=h(u.Pa).slice(0,d.xOa),0 < v.length && (this.CF(v,m.Lv.tk),this.dJa=!0,this.Mj=this.VG(v.concat(this.Mj))));switch(w){case m.Gv.nxa:w=this.LCb(u);break;case m.Gv.JEa:w=this.UCb(u);break;case m.Gv.xY:w=this.VCb(u);break;case m.Gv.PO:w=this.QCb(u);break;default:w=this.ICb(u);}this.qJa=u;return w;};g.prototype.LCb=function(u){u=n(u.Pa,d.S1a,d.pNa);this.CF(u,m.Lv.tk);return this.Mj=this.VG(this.Mj.concat(u));};g.prototype.UCb=function(u){var w,v;this.u.log("handleScrollHorizontal");w=u.Pa;u=n(w,d.U1a,d.qNa);v=k(w,this.qJa.Pa);w=w[v].list.slice(0,d.GRb);w.concat(u);this.CF(w,m.Lv.Vaa);return this.VG(w.concat(this.Mj));};g.prototype.CF=function(u,w){u.forEach(function(v){if(void 0 === v.qA || v.qA < w)v.qA=w;void 0 === v.sN && (v.sN=l());void 0 === v.Lk && (v.Lk=l());});};g.prototype.VCb=function(u){this.u.log("handleSearch");u=p(u.Pa,d.ZRb);this.CF(u,m.Lv.KEa);this.Mj=u.concat(this.Mj);return this.Mj=this.VG(this.Mj);};g.prototype.QCb=function(u){var w,v,x,y,z;this.u.log("handlePlayFocus: ",d.SS);w=u.direction;v=u.Pa;u=[];x=t(v);if(void 0 !== x.xj)switch((u.push(x),w)){case m.Ht.oEa:for(w=1;w < d.SS;w++){u.push(new c(x.xj,x.tl + w));}u.push(new c(x.xj - 1,x.tl));u.push(new c(x.xj + 1,x.tl));break;case m.Ht.hza:for(w=1;w < d.SS;w++){u.push(new c(x.xj,x.tl - w));}u.push(new c(x.xj - 1,x.tl));u.push(new c(x.xj + 1,x.tl));break;case m.Ht.Eeb:u.push(new c(x.xj - 1,x.tl));for(w=1;w <= d.SS / 2;w++){u.push(new c(x.xj,x.tl + w));u.push(new c(x.xj,x.tl - w));}break;case m.Ht.$9a:for((u.push(new c(x.xj + 1,x.tl)),w=1);w <= d.SS / 2;w++){u.push(new c(x.xj,x.tl + w));u.push(new c(x.xj,x.tl - w));}}y=[];u.forEach(function(B){z=q(v,B.xj,B.tl);void 0 !== z && y.push(z);});this.CF(y,m.Lv.Vaa);return this.VG(y.concat(this.Mj));};g.prototype.ICb=function(u){this.u.log("ModelOne: handleDefaultCase");u=n(u.Pa,d.U1a,d.qNa);this.CF(u,m.Lv.Vaa);return this.VG(u.concat(this.Mj));};g.prototype.JTb=function(u){return u.qA == m.Lv.tk | u.qA == m.Lv.KEa & l() - u.sN < d.BDb;};g.prototype.VG=function(u){var w,v,x,y,z,B,A;w=[];v={};y=0;z=u.length;for(x=0;x < z;x++){B=u[x].aa;A=u[x];!1 === (B in v)?(w.push(A),v[B]=y,y++):(B=w[v[B]],A.Lk < B.Lk && (B.Lk=A.Lk),A.qA > B.qA && (B.qA=A.qA),A.sN > B.sN && (B.sN=A.sN));}return w;};r.exports=g;},function(r,b,a){r.exports={EventEmitter:a(1268),sh:a(1269)};},function(r){function b(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[c]=[g],!0);l=this.Wc[c];return void 0 === l?(this.Wc[c]=[g],!0):0 > l.indexOf(g)?(l.push(g),!0):!1;}function a(c,g){c=this.Wc?this.Wc[c]:void 0;if(!c)return !1;c.forEach(function(l){l(g);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;l=this.Wc[c];if(void 0 === l)return !1;g=l.indexOf(g);if(0 > g)return !1;if(1 === l.length)return (delete this.Wc[c],!0);l.splice(g,1);return !0;},Ma:a,emit:a,removeAllListeners:function(c){this.Wc && (void 0 === c?delete this.Wc:delete this.Wc[c]);return this;}};},function(r){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,l);else if("function" === typeof c.addListener)m=c.addListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(lb);})(window);}).call(window);